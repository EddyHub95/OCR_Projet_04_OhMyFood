
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="645e9f71-f07f-57fd-985a-89696b52aa98")}catch(e){}}();
(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([[6060],{372077:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AutoLayout=t.styleForAutoLayout=void 0;let n=r(250320),i=r(307824),a=r(918960),o=r(491864),l=r(946692),s=r(843384),c=r(104956);function d(e,t,r){let{style:n,overlayStyle:i,wrapperStyle:a}=(0,o.styleForFrame)(e,t,r);return{style:Object.assign(Object.assign(Object.assign({},n),(0,l.getParentLayout)(e)),(0,l.getVisibility)(e)),overlayStyle:i,wrapperStyle:a}}t.styleForAutoLayout=d,t.AutoLayout=i.forwardRef(function(e,t){let{attributes:r,children:l}=e,u=(0,n.__rest)(e,["attributes","children"]),p=i.useContext(a.ParentContext);(0,a.warnInvalidConstraints)(Object.assign(Object.assign({},u),{parent:p}));let m=(0,c.normalizeProps)(Object.assign(Object.assign({},(0,s.getDefaultAutoLayoutProps)()),u)),_=(0,a.getInvalidFillParentCheckerRef)(Object.assign(Object.assign({},m),{parent:p})),h=d(m,p,i.Children.count(l)>0);return i.createElement(a.ParentContext.Provider,{value:{type:"autolayout",props:m}},(0,o.domNodeFromFrame)({figmaLayerName:m.name,styles:h,attributes:r,children:l,ref:(0,a.mergeRefs)([_,t])}))})},233720:(e,t,r)=>{"use strict";r.d(t,{Ed:()=>o,MB:()=>l,SC:()=>a,_Q:()=>_,ag:()=>u,ai:()=>p,eA:()=>d,mJ:()=>s,qg:()=>m,sx:()=>i,wn:()=>c,yq:()=>n});let n="april_fun--figjamToolbarButton--eLVxH april_fun--toolbarButton--FjRN- toolbar_view--iconButton--1MUm6",i="april_fun--figmaToolbarButton--VR6qE april_fun--toolbarButton--FjRN- toolbar_view--iconButton--1MUm6",a="april_fun--body---w4Jj",o="april_fun--cursorSelectorBorder--tClk-",l="april_fun--cursorSelector--uQn53",s="april_fun--cursorSelectorEraSection--pzRUs",c="april_fun--showCursorText--sarUT april_fun--text--u4nAs",d="april_fun--shareButton--TbXF2",u="april_fun--shareButtonText--kpwZU april_fun--text--u4nAs",p="april_fun--surpriseButton--Adav6",m="april_fun--surpriseButtonText--XaH6Z april_fun--text--u4nAs",_="april_fun--readBlogText--58Nsn april_fun--text--u4nAs"},869428:(e,t,r)=>{"use strict";r.d(t,{Et:()=>p,Gc:()=>o,R:()=>m,SM:()=>i,W6:()=>s,_Q:()=>a,cx:()=>l,eU:()=>c,i0:()=>_,ob:()=>n,q4:()=>u,uu:()=>d});let n="base_badge--backgroundLight--agxeS",i="base_badge--backgroundWarning--i7d2I",a="base_badge--backgroundWhite--ZqZgN",o="base_badge--borderStrong--makDy",l="base_badge--height24--PMSUp text--fontPos11--2LvXf text--_fontBase--QdLsd",s="base_badge--heightSixteen--BEJT8 text--fontPos9--naThA text--_fontBase--QdLsd",c="base_badge--badgeIconContainer--Gu5zx",d="base_badge--badge--cbfYy base_badge--backgroundLight--agxeS",u="base_badge--badgeContentContainerWithIcon--ECslI",p="base_badge--badgeTooltip--Qz3RM",m="base_badge--tooltipLink--KpcPS",_="base_badge--badgeWrapperFlex--uukBt"},880904:(e,t,r)=>{"use strict";r.d(t,{AR:()=>v,CA:()=>a,Ez:()=>E,Id:()=>f,Kw:()=>b,M$:()=>u,ML:()=>o,Mn:()=>I,Mx:()=>g,SW:()=>S,Uk:()=>c,Wr:()=>i,_o:()=>n,_q:()=>m,_s:()=>w,cP:()=>s,e:()=>l,gL:()=>y,gd:()=>h,iC:()=>_,kr:()=>C,lB:()=>d,ll:()=>p,sP:()=>T});let n="basic_resource_header--mobileAttributionLine--SVYDo basic_resource_header--attributionLine--3-ssm text--fontPos13--xW8hS text--_fontBase--QdLsd",i="basic_resource_header--attributionCreator--rV-9C",a="basic_resource_header--headerContainer--YYSPX",o="basic_resource_header--authors--1PIBq text--fontPos13--xW8hS text--_fontBase--QdLsd",l="basic_resource_header--title--9jW4i text--fontPos24--YppUD text--_fontBase--QdLsd ellipsis--ellipsisAfter3Lines--h405C ellipsis--_ellipsisAfterNLines--LzI7k",s="basic_resource_header--title_badge_container--vH8BZ",c="basic_resource_header--bulletSeparator--OGYaL text--fontPos10--s1PI5 text--_fontBase--QdLsd",d="basic_resource_header--stickyTitle--oG0u0 ellipsis--ellipsis--Tjyfa text--fontPos18--rYXJb text--_fontBase--QdLsd",u="basic_resource_header--stats--U1D-b text--fontPos13--xW8hS text--_fontBase--QdLsd",p="basic_resource_header--numberOfUsers--oWoBg",m="basic_resource_header--mobileResourcePageHeaderMaxWidth--McUl4 basic_resource_header--resourcePageHeaderMaxWidth--ym-5U",_="basic_resource_header--anchorLinkContainer--UaF3S",h="basic_resource_header--mobileResourcePageHeaderSticky--k2EHs basic_resource_header--mobileResourcePageHeader--EgM2G",g="basic_resource_header--mobileResourceNameHeader--oN4qX text--fontPos24--YppUD text--_fontBase--QdLsd",f="basic_resource_header--mobileName--5NvYd",E="basic_resource_header--resourcePageHeaderMobile--pJLU0 basic_resource_header--mobileResourcePageHeader--EgM2G",y="basic_resource_header--resourcePageHeaderSticky--z2Rga",b="basic_resource_header--resourcePageHeaderStickyContainer--XiXE-",v="basic_resource_header--headerStickyLeftSide--OkZLQ",I="basic_resource_header--anchorLink--r0iNn meta_container--metaTab--zRKXG text--fontPos14--OL9Hp text--_fontBase--QdLsd",w="basic_resource_header--activeAnchorLink--3ueWI meta_container--selectedMetaTab--5IRWQ meta_container--metaTab--zRKXG text--fontPos14--OL9Hp text--_fontBase--QdLsd",T="basic_resource_header--ctaContainer--k8wqG",S="basic_resource_header--leftSide--MzgPN",C="basic_resource_header--description--718b9 text--fontPos13--xW8hS text--_fontBase--QdLsd"},837924:(e,t,r)=>{"use strict";r.d(t,{A5:()=>A,AH:()=>eh,AT:()=>et,AX:()=>H,C:()=>u,CK:()=>h,CY:()=>eo,E3:()=>D,E6:()=>j,Ef:()=>i,Eu:()=>N,GE:()=>d,Gm:()=>o,IT:()=>R,IV:()=>m,Ib:()=>en,If:()=>L,Ij:()=>f,Iv:()=>er,K4:()=>ey,KK:()=>Y,Ke:()=>n,Ks:()=>z,Li:()=>eg,MA:()=>ef,MF:()=>C,OV:()=>B,Os:()=>I,Qy:()=>s,SC:()=>ea,SO:()=>K,SQ:()=>ec,Si:()=>a,Uf:()=>S,WF:()=>V,Wk:()=>k,Wo:()=>es,XD:()=>g,Y:()=>Z,Y1:()=>U,Yt:()=>w,_U:()=>eC,a2:()=>ei,a8:()=>c,a_:()=>F,ay:()=>W,cB:()=>eS,cD:()=>eO,cn:()=>Q,e:()=>G,eY:()=>$,e_:()=>v,g$:()=>X,gp:()=>eA,i8:()=>ew,iE:()=>e_,kT:()=>eE,m4:()=>eb,mQ:()=>ee,mw:()=>M,od:()=>el,qO:()=>T,qS:()=>_,qy:()=>ed,s9:()=>b,sT:()=>ep,st:()=>eI,sz:()=>x,uU:()=>E,uW:()=>em,w3:()=>l,wX:()=>eu,wl:()=>q,wp:()=>ev,wt:()=>O,wu:()=>p,y:()=>J,yG:()=>y,yc:()=>P,yh:()=>eT});let n="feed_page--feedApp--CMcLD text--fontPos15--IR8IB text--_fontBase--QdLsd",i="feed_page--exploreFeedApp--OHHs6 feed_page--feedApp--CMcLD text--fontPos15--IR8IB text--_fontBase--QdLsd",a="feed_page--feed--7UNQq text--fontPos13--xW8hS text--_fontBase--QdLsd",o="feed_page--feedResourceGridContainer--yisWJ",l="feed_page--feedResourceGridExplorePageContainer--nIc6q",s="feed_page--feedSection--Vnk47",c="feed_page--magicH1--EOWil text--fontPos40WhyteInktrap--SVcxi text--_fontBaseWhyteInktrap--YiiGP",d="feed_page--magic---00EQ",u="feed_page--subHeading--Q5oY3 text--fontPos20Whyte--o3mBO text--_fontBaseWhyte--efAjI",p="feed_page--sidebar---2-0D",m="feed_page--selectedSidebarBackdrop--qrbTt",_="feed_page--numSearchResults--pkhEL",h="feed_page--resourceHumanName--Sw7yE",g="feed_page--active--47Vpq",f="feed_page--feedFilterControls--3WYYx",E="feed_page--leftSideControls--cbPMx",y="feed_page--subheader--UGVYE text--fontPos22--4H4Fc text--_fontBase--QdLsd",b="feed_page--fullWidthFeed--hizyU",v="feed_page--seeAllCollectionsLink--A7xYb text--fontPos13--xW8hS text--_fontBase--QdLsd",I="feed_page--feedGrid--Wm-8Q",w="feed_page--compactFeedGrid--S8yrv feed_page--feedGrid--Wm-8Q",T="feed_page--compactFeedRows--jlDLG feed_page--feedGrid--Wm-8Q",S="feed_page--hubFile--uHbnb feed_page--resourceLinkTag--5KQz7",C="feed_page--widget--CnSI2 feed_page--resourceLinkTag--5KQz7",A="feed_page--compactProfileViewGrid--Vz5I9 feed_page--compactFeedGrid--S8yrv feed_page--feedGrid--Wm-8Q",O="feed_page--prototypeIcon--JlZyq",N="feed_page--tileUpperLeftWrapper--mwqC-",L="feed_page--tileEditorIcon--ymAxC",R="feed_page--plugin--eimaR feed_page--resourceLinkTag--5KQz7",P="feed_page--resourcePreview--IePch",M="feed_page--resourcePreviewContentWrapper--H1eHK",k="feed_page--pluginIcon--NQjwf",D="feed_page--resourcePreview16x9--Yl112",F="feed_page--resourcePreviewContentWrapperFigJamDots---54d- feed_page--resourcePreviewContentWrapper--H1eHK",x="feed_page--resourcePreviewContentWrapperThumbnailSet--QlsAU feed_page--resourcePreviewContentWrapper--H1eHK",U="feed_page--resourceMeta--7vtas text--fontPos13--xW8hS text--_fontBase--QdLsd",B="feed_page--titleAndAuthor--P2cvB text--fontPos13--xW8hS text--_fontBase--QdLsd",G="feed_page--title--qJMsk",V="feed_page--author--pH7Iw text--fontPos11--2LvXf text--_fontBase--QdLsd",H="feed_page--resourceAvatar--Nwl7h",W="feed_page--actions--UXu0g",K="feed_page--actionNoHover--QdLcL",Y="feed_page--action__default_like--xlPBc feed_page--actionNoHover--QdLcL",q="feed_page--action__liked--8ZiFG feed_page--actionNoHover--QdLcL",j="feed_page--resourceMetaAuthor--3wNr7",$="feed_page--pluginDescription--fL9Cf text--fontPos11--2LvXf text--_fontBase--QdLsd",Z="feed_page--nextPageWrapper--yYLMq",z="feed_page--resourceTypeDropdown--mkxpn dropdown--selectDropdown--Lqj6J dropdown--dropdown--IX0tU text--fontPos14--OL9Hp text--_fontBase--QdLsd",Q="feed_page--loadMoreButtonWrapper--QvZXr",X="feed_page--spinner--Z0jz3",J="feed_page--profileRow--YIiOy",ee="feed_page--pluginRow--urF1M",et="feed_page--pluginRowImageContainer--pBAdP",er="feed_page--pluginRowButtonContainer--ZXV-4",en="feed_page--pluginRowIcon--Gj3Ol",ei="feed_page--pluginRowDescription--9U39k",ea="feed_page--pluginRowAuthor--Vg6sm",eo="feed_page--pluginRowUpdatedAt--T2K-9",el="feed_page--pluginMeta--Z8DkK",es="feed_page--pluginRowTitle--2c-r8",ec="feed_page--pluginRowTitleNameText--lPAaZ",ed="feed_page--pluginInstallCount---BhkG",eu="feed_page--profileRowAvatar--h2azi",ep="feed_page--profileRowMeta--sfwOx",em="feed_page--profileRowFollowBox--j7BRa",e_="feed_page--profileRowResources--TLbIS",eh="feed_page--profileRowResourceWrapper--hI5Wd",eg="feed_page--profileRowFollowersMetadata--tlFVr text--fontPos12--YsUAh text--_fontBase--QdLsd",ef="feed_page--profileRowFollowersHeader--q5m62",eE="feed_page--profileRowFollowers--8L1-o",ey="feed_page--profileRowName--p-4KA",eb="feed_page--profileRowProfileHandle--eDbiU text--fontPos12--YsUAh text--_fontBase--QdLsd",ev="feed_page--feedFilterDropdown--aG2Hk dropdown--selectDropdown--Lqj6J dropdown--dropdown--IX0tU text--fontPos14--OL9Hp text--_fontBase--QdLsd",eI="feed_page--tileTooltip--44prj dropdown--dropdown--IX0tU text--fontPos14--OL9Hp text--_fontBase--QdLsd",ew="feed_page--hideUnder600--IF6C7",eT="feed_page--feedFilterDropdownMobileHidden--jdfbK",eS="feed_page--pluginRowTitleWithBadge--qTn5u",eC="feed_page--pluginRowDescriptionWithBadge--95gmZ",eA="feed_page--filterContainer--AHPDj text--fontPos14--OL9Hp text--_fontBase--QdLsd",eO="feed_page--footerContainer--PdYUf"},522776:(e,t,r)=>{"use strict";r.r(t),r.d(t,{authedAccountEmail:()=>g,avatar:()=>b,button:()=>u,figmaAuthModal:()=>o,genericSelectorExternalTeamsIcon:()=>E,genericSelectorInner:()=>h,genericSelectorModal:()=>_,genericSelectorModalCancel:()=>f,graphic:()=>l,header:()=>c,logInButton:()=>m,loggedOutCommunityActionModal:()=>a,modal:()=>n,modalBackdrop:()=>i,modalCloseButton:()=>s,primaryWideButton:()=>p,subHeader:()=>d,workspaceTitleWrapper:()=>y});let n="index--modal--vmXNN",i="index--modalBackdrop--VqLCO",a="index--loggedOutCommunityActionModal--P-hYZ index--modalBackdrop--VqLCO",o="index--figmaAuthModal--rNJVQ index--modalBackdrop--VqLCO",l="index--graphic--iU2RU",s="index--modalCloseButton--Migyu text--fontPos24--YppUD text--_fontBase--QdLsd",c="index--header--ZtRxZ text--fontPos22--4H4Fc text--_fontBase--QdLsd",d="index--subHeader--6bNQO text--fontPos16--oMC-G text--_fontBase--QdLsd",u="index--button--NGLN1 text--fontPos16Whyte--OfwSP text--_fontBaseWhyte--efAjI",p="index--primaryWideButton--jq1BX index--button--NGLN1 text--fontPos16Whyte--OfwSP text--_fontBaseWhyte--efAjI",m="index--logInButton--LMXFW index--button--NGLN1 text--fontPos16Whyte--OfwSP text--_fontBaseWhyte--efAjI",_="index--genericSelectorModal--3aSLC index--modalBackdrop--VqLCO text--fontPos13--xW8hS text--_fontBase--QdLsd",h="index--genericSelectorInner--HBJH2",g="index--authedAccountEmail--zhDrH text--fontPos11--2LvXf text--_fontBase--QdLsd",f="index--genericSelectorModalCancel--WOjxG",E="index--genericSelectorExternalTeamsIcon--KL8jt",y="index--workspaceTitleWrapper--e9YT2",b="index--avatar--nIkKj"},379676:()=>{},199360:(e,t,r)=>{"use strict";r.d(t,{CW:()=>d,G0:()=>o,Mx:()=>s,Oe:()=>c,U$:()=>i,g5:()=>u,is:()=>l,iz:()=>n,kF:()=>p,qT:()=>m,xy:()=>a});let n="dragging_resource--draggingLibraryItem--ecbrh dragging_resource--_draggingResource--RyWym",i="dragging_resource--isDraggingOverCanvas--PgYby",a="dragging_resource--isDraggingLibraryItemOverCanvas---q3C7 dragging_resource--isDraggingOverCanvas--PgYby",o="dragging_resource--draggingWidget--t0JuE dragging_resource--_draggingResource--RyWym",l="dragging_resource--draggingTemplate--q-s5W dragging_resource--_draggingResource--RyWym",s="dragging_resource--draggingPlugin--krda0 dragging_resource--_draggingResource--RyWym",c="dragging_resource--draggingFace--3qq2- dragging_resource--_draggingResource--RyWym",d="dragging_resource--draggingTool--zfhjm dragging_resource--_draggingResource--RyWym",u="dragging_resource--draggingLibraryItemList--Cuvnd dragging_resource--draggingLibraryItem--ecbrh dragging_resource--_draggingResource--RyWym",p="dragging_resource--draggingLibraryItemListName--kNTa4 ellipsis--ellipsis--Tjyfa",m="dragging_resource--expandAnimation--4FamY"},550656:(e,t,r)=>{"use strict";r.d(t,{AH:()=>l,GK:()=>T,GO:()=>h,Gq:()=>m,IN:()=>u,It:()=>I,Iv:()=>c,Os:()=>n,Qr:()=>o,WS:()=>_,Y6:()=>w,_K:()=>a,iq:()=>b,kC:()=>y,kT:()=>v,kZ:()=>p,kn:()=>E,m4:()=>d,oD:()=>i,sn:()=>g,w3:()=>s,yQ:()=>f});let n="avatar--avatar--fFibd",i="avatar--circle--ag36Q",a="avatar--roundedSquare--cq522",o="avatar--square--p4eL1",l="avatar--dim--UbqLc",s="avatar--avatarBellWrapper--sd6MY",c="avatar--bell--Lk6s9",d="avatar--avatarWithHandle--Z3934",u="avatar--info--vDGTn",p="avatar--handleRow--0K2-H",m="avatar--handle--wlTXK",_="avatar--isMe--LeNkH",h="avatar--email--G3FcZ",g="avatar--emailHover--ekuTn",f="avatar--clickableAvatarWithHandle--d90vX",E="avatar--disabledDimAvatarWithHandle--5l6cM",y="avatar--multiTeamAvatarContainer--Rb-Kn",b="avatar--multiTeamAvatarContainerHovered--2V7AO",v="avatar--workspaceAvatarBlue--XbbpI",I="avatar--workspaceAvatarPurple--FOGSP",w="avatar--workspaceAvatarGreen--PWm5o",T="avatar--workspaceAvatarTeal--4j3FH"},285776:(e,t,r)=>{"use strict";r.d(t,{AS:()=>I,EB:()=>l,G8:()=>x,K6:()=>m,OG:()=>R,Oe:()=>h,QL:()=>d,QT:()=>v,Qe:()=>c,SY:()=>C,UL:()=>L,We:()=>_,Wo:()=>w,aY:()=>G,c3:()=>f,c6:()=>E,eG:()=>B,ec:()=>b,g7:()=>T,gj:()=>a,gt:()=>M,k3:()=>O,k5:()=>D,oB:()=>n,oC:()=>P,of:()=>i,qG:()=>s,qQ:()=>U,sZ:()=>u,uC:()=>A,uo:()=>o,ur:()=>k,wP:()=>g,wV:()=>S,wZ:()=>p,ww:()=>y,y0:()=>F,y8:()=>N});let n="community_cards--cardChildDisplayOnHover--7KpMt",i="community_cards--cardLayoutContainer--nPcgb",a="community_cards--cardSubtitleRowSizing--9WRul",o="community_cards--cardBottomRowSizing--sT6xQ",l="community_cards--cardImageContainer--8ngfu base_community_cards--base_cardImageContainer--jpAKE base_community_cards--_hasBorder--kFIag",s="community_cards--cardHover_TopLeft--yGcAk",c="community_cards--cardBottomRow_MetadataContainer--QLUfh",d="community_cards--cardBottomRow_Metadata_HoverText--McZzP",u="community_cards--cardBottomRow_Metadata_HoverText_AnimateHeight--4wdBR community_cards--cardBottomRow_Metadata_HoverText--McZzP",p="community_cards--cardBottomRow_Metadata_AuthorName_WithHoverText--GJXdW",m="community_cards--cardBottomRowAvatarDropdown--2uCLR",_="community_cards--cardBottomRow_Metadata_AvatarContainer--6-CIe",h="community_cards--cardBottomRow_Metadata_TextContainer--ewZLG",g="community_cards--cardBottomRow_Metadata_PrimaryText--tktO3 text--fontPos13--xW8hS text--_fontBase--QdLsd ellipsis--ellipsis--Tjyfa",f="community_cards--base_cardBottomRow_Metadata_SecondaryText---Tn2M text--fontPos11--2LvXf text--_fontBase--QdLsd",E="community_cards--cardBottomRow_Metadata_AuthorName_WithDropdown--Fk7tl",y="community_cards--cardBottomRow_ResourceActionContainer--hgEhI",b="community_cards--cardBottomRow_ResourceActionButton--v146M",v="community_cards--cardHover_Center--hzP7R community_cards--_cardHover--BGAKM base_community_cards--base_cardHover--5h7Ip",I="community_cards--cardHover_Cover--kIVQS community_cards--_cardHover--BGAKM base_community_cards--base_cardHover--5h7Ip",w="community_cards--cardHover_BottomLeft--XlAgk community_cards--_cardHover--BGAKM base_community_cards--base_cardHover--5h7Ip",T="community_cards--cardHover_BottomRight--5So4- community_cards--_cardHover--BGAKM base_community_cards--base_cardHover--5h7Ip",S="community_cards--publisherDropdown--m7Bx2",C="community_cards--publisherDropdownContent_Row--iIBB3",A="community_cards--publisherDropdownContent_Row_Text--7hDpO text--fontPos11--2LvXf text--_fontBase--QdLsd ellipsis--ellipsis--Tjyfa",O="community_cards--creatorPreviewDummySpace_Name--fb75z",N="community_cards--creatorPreviewDummySpace_Avatar--LLBj8",L="community_cards--figjamTileMeta--Sh90c",R="community_cards--figjamTextMetadataCaret--bqK8s",P="community_cards--figjamMetadataContainer--4kXQt",M="community_cards--defaultCursor--K5TUO",k="community_cards--figjamTextMetadataContainer--LBupv",D="community_cards--figjamTextMetadataContainerFull--VPsvv",F="community_cards--figjamTextMetadataLockIcon--yazii",x="community_cards--figjamTextMetadataErrorContainer--XDHyT",U="community_cards--figjamTextMetadataName--wP7vv text--fontPos12--YsUAh text--_fontBase--QdLsd ellipsis--ellipsis--Tjyfa",B="community_cards--subtextDetails--2-EUq",G="community_cards--subtextPublishers--BR4-w ellipsis--ellipsis--Tjyfa"},80060:(e,t,r)=>{"use strict";r.d(t,{C2:()=>l,Gw:()=>s,UV:()=>a,nr:()=>n,sj:()=>i,yq:()=>o});let n="detail_view--installButton--IloIX",i="detail_view--installButtonSubtext--iqsQz text--fontPos11--2LvXf text--_fontBase--QdLsd",a="detail_view--pendingInviteBanner--Jfy7s text--fontPos13--xW8hS text--_fontBase--QdLsd",o="detail_view--pendingInviteButton--XYgKx",l="detail_view--paidResourceSection--crSbo detail_view--metadataSectionText--jEK-6 metadata_section--metadataSectionText--7ruPx text--fontPos13--xW8hS text--_fontBase--QdLsd",s="detail_view--reportSection--qDu-P detail_view--metadataSectionText--jEK-6 metadata_section--metadataSectionText--7ruPx text--fontPos13--xW8hS text--_fontBase--QdLsd"},991440:(e,t,r)=>{"use strict";r.d(t,{AF:()=>w,C8:()=>g,DE:()=>b,E$:()=>p,Ed:()=>u,Ep:()=>o,G7:()=>_,I6:()=>A,M$:()=>n,S6:()=>I,SS:()=>c,Sq:()=>i,W:()=>E,cf:()=>S,il:()=>a,k$:()=>O,kf:()=>d,kz:()=>s,mM:()=>y,nW:()=>f,q4:()=>h,sL:()=>T,sT:()=>v,sf:()=>l,yR:()=>m,yi:()=>C});let n="universal_posting_modal--loadingContainer--5giX-",i="universal_posting_modal--modalClose--eqgHH",a="universal_posting_modal--toolBarContainer--9HhzX",o="universal_posting_modal--toolbar--hWp2O",l="universal_posting_modal--playgroundtoolbar--62laP",s="universal_posting_modal--grid--Jdvpe",c="universal_posting_modal--previewModal--XtKWL universal_posting_modal--modalBase--HkH3v",d="universal_posting_modal--footer--A-QeR",u="universal_posting_modal--footerText--Pp0H1 universal_posting_modal--_userSelectNone--dHUZk",p="universal_posting_modal--buttonGroup--C-atN",m="universal_posting_modal--scrollContainer--YtNZ-",_="universal_posting_modal--developmentPluginsListContainer--NCC-b",h="universal_posting_modal--pluginContainer--y5Lud universal_posting_modal--_pluginContainerBase--jcMw7",g="universal_posting_modal--pluginContainerSelected--1Een3 universal_posting_modal--_pluginContainerBase--jcMw7",f="universal_posting_modal--workspaceBarContainer--VHcn1",E="universal_posting_modal--workspaceInfoContainer--l3mjM text--fontPos13--xW8hS text--_fontBase--QdLsd",y="universal_posting_modal--desktopMessageContainer--QXif3 text--fontPos16--oMC-G text--_fontBase--QdLsd",b="universal_posting_modal--desktopMessageTitle--3XDQ-",v="universal_posting_modal--desktopMessageSubTitle--UGHlr",I="universal_posting_modal--searchQuery--07ulH",w="universal_posting_modal--link--h1jPd",T="universal_posting_modal--pluginInfo--Kx70e text--fontPos14--OL9Hp text--_fontBase--QdLsd",S="universal_posting_modal--universalPostingSearchContainer--BFSZI",C="universal_posting_modal--xIcon--9icra",A="universal_posting_modal--searchIcon--r7rXz search--searchIconBrowseIA--WYUGA search--searchIcon--0Agiv",O="universal_posting_modal--searchInput--fTx57 search--communityLandingSearchInput--Mtiu3 search--searchInput__OLD--m2Hef text--fontPos13--xW8hS text--_fontBase--QdLsd text--fontPos14--OL9Hp text--_fontBase--QdLsd"},764124:(e,t,r)=>{"use strict";r.r(t),r.d(t,{_thumbnailBase:()=>g,buttons:()=>l,contextMenu:()=>v,fieldContainer:()=>a,fieldContainerFaded:()=>o,gridContainer:()=>m,label:()=>n,learnMore:()=>i,listContainer:()=>p,listItemContainer:()=>_,listItemRemoveButton:()=>h,offlineIcon:()=>R,outerContainer:()=>s,outerContainerBorderBottom:()=>c,publishCTA:()=>S,scrollContainer_grid:()=>u,scrollContainer_list:()=>d,skeletonText:()=>L,skeletonThumbnailGrid:()=>N,skeletonThumbnailList:()=>O,thumbnailGrid:()=>E,thumbnailGridBase:()=>f,thumbnailList:()=>b,thumbnailListBase:()=>y,tryAgain:()=>P,trying:()=>M,warning:()=>I,warningIcon:()=>C,warningIconList:()=>A,warningOfflineContainer:()=>w,warningPublish:()=>T});let n="preferred_values_instance_picker--label--to5M3",i="preferred_values_instance_picker--learnMore--zD-c7",a="preferred_values_instance_picker--fieldContainer--JJx3j",o="preferred_values_instance_picker--fieldContainerFaded--Z8-Oj preferred_values_instance_picker--fieldContainer--JJx3j",l="preferred_values_instance_picker--buttons---ohnK",s="preferred_values_instance_picker--outerContainer---jRbV",c="preferred_values_instance_picker--outerContainerBorderBottom--eh6jg preferred_values_instance_picker--outerContainer---jRbV",d="preferred_values_instance_picker--scrollContainer_list--kaH92",u="preferred_values_instance_picker--scrollContainer_grid--8kvKL",p="preferred_values_instance_picker--listContainer--BPie-",m="preferred_values_instance_picker--gridContainer--2LTF6",_="preferred_values_instance_picker--listItemContainer--a4t-g",h="preferred_values_instance_picker--listItemRemoveButton--HO05L",g="preferred_values_instance_picker--_thumbnailBase--eAxDp",f="preferred_values_instance_picker--thumbnailGridBase--O9Rrc preferred_values_instance_picker--_thumbnailBase--eAxDp",E="preferred_values_instance_picker--thumbnailGrid--XHfz- preferred_values_instance_picker--thumbnailGridBase--O9Rrc preferred_values_instance_picker--_thumbnailBase--eAxDp drilldown_item--_thumbnailContainer--kDsBt",y="preferred_values_instance_picker--thumbnailListBase--KpYBM preferred_values_instance_picker--_thumbnailBase--eAxDp",b="preferred_values_instance_picker--thumbnailList--nGJE1 drilldown_item--_thumbnailContainer--kDsBt preferred_values_instance_picker--thumbnailListBase--KpYBM preferred_values_instance_picker--_thumbnailBase--eAxDp",v="preferred_values_instance_picker--contextMenu--qSN6X",I="preferred_values_instance_picker--warning--bgA-c",w="preferred_values_instance_picker--warningOfflineContainer--9BcdC",T="preferred_values_instance_picker--warningPublish--fB8Mq preferred_values_instance_picker--warning--bgA-c",S="preferred_values_instance_picker--publishCTA--FlNCB",C="preferred_values_instance_picker--warningIcon--2TXXz",A="preferred_values_instance_picker--warningIconList--aDgpb preferred_values_instance_picker--warningIcon--2TXXz",O="preferred_values_instance_picker--skeletonThumbnailList--sAAp7 preferred_values_instance_picker--thumbnailListBase--KpYBM preferred_values_instance_picker--_thumbnailBase--eAxDp",N="preferred_values_instance_picker--skeletonThumbnailGrid--UVfqq preferred_values_instance_picker--thumbnailGridBase--O9Rrc preferred_values_instance_picker--_thumbnailBase--eAxDp",L="preferred_values_instance_picker--skeletonText--YCONM",R="preferred_values_instance_picker--offlineIcon--4JDDc",P="preferred_values_instance_picker--tryAgain--UNg1i",M="preferred_values_instance_picker--trying--HmoFd"},52856:(e,t,r)=>{"use strict";r.d(t,{ID:()=>s,cT:()=>a,iu:()=>o,kr:()=>i,sl:()=>c,sq:()=>l,ym:()=>n});let n="prop_pill--pillEnabled--yqtJT prop_pill--basePill--Nx5ci pill--pill--yeLll",i="prop_pill--pillDisabled--MFJRj prop_pill--basePill--Nx5ci pill--pill--yeLll",a="prop_pill--pillContainer--7rI2Q",o="prop_pill--componentPropRow--yTifC",l="prop_pill--button--0oOIV",s="prop_pill--buttonContainer--myLjn",c="prop_pill--componentPropName--k2AM9"},347e3:(e,t,r)=>{"use strict";r.d(t,{Ab:()=>y,Ks:()=>a,Om:()=>w,QD:()=>p,W8:()=>n,WI:()=>c,_y:()=>b,a2:()=>i,aV:()=>T,c$:()=>o,e:()=>d,eg:()=>m,i4:()=>s,iB:()=>f,mm:()=>E,o3:()=>v,oM:()=>l,q0:()=>I,q2:()=>u,s7:()=>_,uk:()=>h,yy:()=>g});let n="onboard_figjam_viewer--contentContainer--t9zim",i="onboard_figjam_viewer--imageContainer--rvqD8",a="onboard_figjam_viewer--imgHelper--SJXYZ",o="onboard_figjam_viewer--image--ZdwAA",l="onboard_figjam_viewer--mainContent--8TgvP text--fontPos12Whyte---tkNx text--_fontBaseWhyte--efAjI",s="onboard_figjam_viewer--normal--HjE2J",c="onboard_figjam_viewer--bold--kC3mV",d="onboard_figjam_viewer--title--k1Gpk",u="onboard_figjam_viewer--text--xkcTB",p="onboard_figjam_viewer--bottomContentRow--PgTeU",m="onboard_figjam_viewer--secondaryText--THVcI",_="onboard_figjam_viewer--secondaryTextClickable--iF6eC onboard_figjam_viewer--secondaryText--THVcI",h="onboard_figjam_viewer--ctaButton--aFKKt text--fontPos12Whyte---tkNx text--_fontBaseWhyte--efAjI",g="onboard_figjam_viewer--closeButton--hm43f close_button--closeX--Bc-63",f="onboard_figjam_viewer--openTutorialModalContainer--O1ld1",E="onboard_figjam_viewer--openTutorialModal--3j-H4 onboard_figjam_viewer--openTutorialModalBase--vDoVP",y="onboard_figjam_viewer--openTutorialModalShadow--HF-Gb onboard_figjam_viewer--openTutorialModalBase--vDoVP",b="onboard_figjam_viewer--openTutorialModalText--9oABQ onboard_figjam_viewer--text--xkcTB",v="onboard_figjam_viewer--openTutorialBottomContentRow--rVWqG onboard_figjam_viewer--bottomContentRow--PgTeU",I="onboard_figjam_viewer--openTutorialButton--4AqFo onboard_figjam_viewer--ctaButton--aFKKt text--fontPos12Whyte---tkNx text--_fontBaseWhyte--efAjI",w="onboard_figjam_viewer--openTutorialButtonDisabled--EYffC onboard_figjam_viewer--openTutorialButton--4AqFo onboard_figjam_viewer--ctaButton--aFKKt text--fontPos12Whyte---tkNx text--_fontBaseWhyte--efAjI",T="onboard_figjam_viewer--openTutorialSpinner--zV-nH publish_modal--spinner--7DaqW"},636700:(e,t,r)=>{"use strict";r.d(t,{Ar:()=>c,I1:()=>m,Ip:()=>n,Wm:()=>a,aE:()=>s,aN:()=>o,aQ:()=>i,ct:()=>d,iI:()=>_,mA:()=>u,mW:()=>l,or:()=>g,qm:()=>p,u2:()=>h});let n="-144px",i="desktop_new_tab_view--newTabView--xPTS3",a="desktop_new_tab_view--topSection--YiYaE",o="desktop_new_tab_view--topSectionContent--CzXg6",l="desktop_new_tab_view--topSectionContentWithSlides--KqkAl",s="desktop_new_tab_view--topSectionWithDropdown--i82fQ",c="desktop_new_tab_view--folderDropdown--NyFdh",d="desktop_new_tab_view--folderDropdownPlaceholder--bosVZ",u="desktop_new_tab_view--folderHeader--72sHl",p="desktop_new_tab_view--primaryText--YjgdS",m="desktop_new_tab_view--topSectionDivider--hQ6La",_="desktop_new_tab_view--fileCardsSection--d7yQC",h="desktop_new_tab_view--bottomSection--aWNBL",g="desktop_new_tab_view--hideNewTab--0jOy2"},431328:(e,t,r)=>{"use strict";r.d(t,{AF:()=>u,Az:()=>L,CQ:()=>m,CU:()=>i,ER:()=>l,EV:()=>f,Iz:()=>v,KE:()=>O,M$:()=>n,QP:()=>N,RX:()=>o,Uw:()=>g,YH:()=>d,_3:()=>_,_o:()=>p,ae:()=>h,eQ:()=>S,g$:()=>s,gd:()=>y,gx:()=>w,oQ:()=>C,oZ:()=>A,q4:()=>a,qg:()=>c,sv:()=>T,wL:()=>b,yQ:()=>I,yW:()=>E});let n="mobile_download_prompt--mobilePromptContainer--WxLtl",i="mobile_download_prompt--mobileRedesignedDownloadPromptContainer--Kyyn4",a="mobile_download_prompt--mobileDownloadPromptContainer--1KRZt",o="mobile_download_prompt--mobileDownloadPromptContainerFullHeightBlocking--F94m4",l="mobile_download_prompt--mobileDownloadPromptContainerClosed--9wXc1",s="mobile_download_prompt--fullHeightPrompt--mi3KX",c="mobile_download_prompt--mobilePromptImage--CsEnm",d="mobile_download_prompt--mobilePromptTitle--tKWO- text--fontPos13--xW8hS text--_fontBase--QdLsd",u="mobile_download_prompt--mobilePromptSubTitle--5fPJb text--fontPos13--xW8hS text--_fontBase--QdLsd",p="mobile_download_prompt--mobilePromptHR--wjA7i",m="mobile_download_prompt--fullWidthHR--r3OLf",_="mobile_download_prompt--mobilePromptOption--764X8",h="mobile_download_prompt--mobilePromptOptionTitle--TUnFb text--fontPos13--xW8hS text--_fontBase--QdLsd",g="mobile_download_prompt--mobilePromptOptionDescription--tWFT7 text--fontPos11--2LvXf text--_fontBase--QdLsd",f="mobile_download_prompt--mobilePromptOptionImage--vBsWG",E="mobile_download_prompt--downloadActionButton--oyD35",y="mobile_download_prompt--continueActionButton--uhXzD",b="mobile_download_prompt--overlay--mTXMJ",v="mobile_download_prompt--overlayClosed--7-jAV",I="mobile_download_prompt--overlayAnimateEnd--E5M6f",w="mobile_download_prompt--mobilePromoContainer---dQpR",T="mobile_download_prompt--mobilePromoHeaderImg--xPm3z",S="mobile_download_prompt--mobilePromoContent--MD4Ul",C="mobile_download_prompt--extendedIcon--Nuaqr",A="mobile_download_prompt--mobileOptionIcon--sk-Td",O="mobile_download_prompt--mobileOptionsContainer--YApG4",N="mobile_download_prompt--mobilePromptDescriptionContainer--qj1Ie",L="mobile_download_prompt--mobilePromptTitleContainer--LU90S"},912288:(e,t,r)=>{"use strict";r.d(t,{F1:()=>a,Kk:()=>o,Yn:()=>n,u2:()=>i});let n="toolbar_action--hideOnMobile--g1Orc",i="toolbar_action--hideOnDesktop--rBlVs",a="toolbar_action--getDesktop--P1TpW",o="toolbar_action--icon--mDC1q"},126104:(e,t,r)=>{"use strict";r.d(t,{EB:()=>p,El:()=>u,IO:()=>i,Ij:()=>l,QL:()=>g,UF:()=>a,W8:()=>o,Yn:()=>d,Yp:()=>h,__:()=>s,ij:()=>c,os:()=>_,s5:()=>m,uQ:()=>n});let n="file_browser_page_view--container--wgWQp",i="file_browser_page_view--tabletOptimizedContainer--rxoPd file_browser_page_view--container--wgWQp",a="file_browser_page_view--scrollableContainerClass--TCxy-",o="file_browser_page_view--contentContainer--lirCR",l="file_browser_page_view--metaContainer--Cz3PC",s="file_browser_page_view--tabletOptimizedMetaContainer--l-KYt file_browser_page_view--metaContainer--Cz3PC",c="file_browser_page_view--mobileToolBarSpacer--yNIQP",d="file_browser_page_view--hideOnMobile--P06ka",u="file_browser_page_view--newDesignFileButton--55uaa basic_form--primaryBtn--AU7Gy basic_form--btn--FSrmp ellipsis--ellipsis--Tjyfa text--fontPos11--2LvXf text--_fontBase--QdLsd",p="file_browser_page_view--newFigjamBoardButton--Y44dM basic_form--primaryBtnFigjam--sOysn basic_form--btn--FSrmp ellipsis--ellipsis--Tjyfa text--fontPos11--2LvXf text--_fontBase--QdLsd",m="file_browser_page_view--newFilePlusIcon--XTojv",_="file_browser_page_view--viewBarWrapper--lzAB1",h="file_browser_page_view--headerWrapper--QTnvE",g="file_browser_page_view--footerWrapper--J4DbG"},664628:(e,t,r)=>{"use strict";r.d(t,{AD:()=>i,C6:()=>l,Gb:()=>p,ID:()=>m,Uz:()=>a,Yr:()=>u,cv:()=>c,g$:()=>_,hy:()=>o,iy:()=>n,uo:()=>d,yy:()=>s});let n="change_payment_modal--paymentModal--OwbDQ",i="change_payment_modal--paymentModalHeader--uJ5tX",a="change_payment_modal--paymentModalTitle--NfMEe text--fontPos18--rYXJb text--_fontBase--QdLsd",o="change_payment_modal--buttonRow--7qE6S modal--buttonRow--o2A0S",l="change_payment_modal--buttonRowLeft--CRl96",s="change_payment_modal--closeButton--ZvGNi",c="change_payment_modal--errorBanner--bb4Zv",d="change_payment_modal--fixedHeightContainer--DZK--",u="change_payment_modal--errorContainer--0PhUP",p="change_payment_modal--formContainer--gWVr4",m="change_payment_modal--buttonContainer--1Cnke",_="change_payment_modal--spinner--i2fgt"},820240:(e,t,r)=>{"use strict";r.d(t,{IL:()=>n,Qp:()=>i,SU:()=>s,kJ:()=>o,o$:()=>l,uY:()=>c,y4:()=>a});let n="team_tile--teamIcon--vtfgY",i="team_tile--emptyState--9kn67 tiles_view--emptyState--lR8Xc text--fontPos11--2LvXf text--_fontBase--QdLsd",a="team_tile--emptyTitle--wz7tU tiles_view--emptyTitle--Ir5LP",o="team_tile--emptyButton--eSEvu tiles_view--emptyButton--3MMre",l="team_tile--newTeamIcon--BXh0F tiles_view--newFileIcon--1n9v-",s="team_tile--joinSpinner--imJ7Z",c="team_tile--favoriteStarContainer---OsRP button_styles--button--Ix6rT"},335996:(e,t,r)=>{"use strict";r.d(t,{AC:()=>o,AZ:()=>I,Ad:()=>f,Ap:()=>H,E$:()=>s,ET:()=>V,EU:()=>i,Ep:()=>T,Ex:()=>$,G:()=>m,GO:()=>G,Gu:()=>w,Gw:()=>A,IT:()=>R,It:()=>O,K0:()=>n,K5:()=>p,KU:()=>D,Kk:()=>z,Ko:()=>q,Ks:()=>Z,ME:()=>l,MR:()=>F,Mj:()=>Y,Om:()=>h,QT:()=>v,QZ:()=>a,Qh:()=>d,U1:()=>k,UB:()=>X,W8:()=>P,WI:()=>x,WQ:()=>U,ae:()=>j,cv:()=>W,eK:()=>_,eQ:()=>ea,eh:()=>E,em:()=>b,iu:()=>u,iy:()=>K,k1:()=>N,kB:()=>en,kH:()=>er,kf:()=>ee,mI:()=>g,q8:()=>C,qC:()=>et,ro:()=>M,uG:()=>L,us:()=>B,uu:()=>ei,uy:()=>c,w3:()=>J,wJ:()=>Q,wb:()=>y,xG:()=>S});let n="team_upgrade_v2--teamUpgrade--emch2",i="team_upgrade_v2--breadCrumbsMenuContainer--KtEmN",a="team_upgrade_v2--cancelMenuItem--bjGcr",o="team_upgrade_v2--checkoutStepContainer--Vmcfq",l="team_upgrade_v2--checkoutPageContent--j-2g3",s="team_upgrade_v2--checkoutSidebarContainer---1wVl",c="team_upgrade_v2--stepTitle--8iV70",d="team_upgrade_v2--stepSubtitle--RKsis",u="team_upgrade_v2--adjustEditorsBody--LEJYR",p="team_upgrade_v2--adjustEditorsSection--FFme1",m="team_upgrade_v2--teamWithAvatarHandle--3w-x2",_="team_upgrade_v2--adjustEditorsRow--cSROb",h="team_upgrade_v2--adjustEditorsRowStart--l-tLI team_upgrade_v2--adjustEditorsRow--cSROb",g="team_upgrade_v2--greyDivider--mHQ7e",f="team_upgrade_v2--columnTitle--Z8-gj",E="team_upgrade_v2--editorColumn--L87RK",y="team_upgrade_v2--editorInfo--YQZ1H",b="team_upgrade_v2--normalGreyText--JAc48",v="team_upgrade_v2--truncateEditorColumnText--vM7sa",I="team_upgrade_v2--editorEmail--Wn-b5 team_upgrade_v2--normalGreyText--JAc48 team_upgrade_v2--truncateEditorColumnText--vM7sa",w="team_upgrade_v2--checkboxColumn--hhJ1s",T="team_upgrade_v2--checkbox---aBF3",S="team_upgrade_v2--plusSvg--GLi67",C="team_upgrade_v2--textLink--ZxoEU",A="team_upgrade_v2--paymentStripeContainer--6-Ttk",O="team_upgrade_v2--reviewStepBody--W-yYD",N="team_upgrade_v2--reviewStepBodyWithBusinessDetails--IUuAd",L="team_upgrade_v2--reviewStepBusinessDetails--DXfwr",R="team_upgrade_v2--reviewStepSummary--7rgPo",P="team_upgrade_v2--banner--zZD-Q",M="team_upgrade_v2--reviewStepCheckbox--lu1Yk",k="team_upgrade_v2--reviewStepUpgradeTitle--0OQIl",D="team_upgrade_v2--sidebarTitle--h0CCa",F="team_upgrade_v2--sidebarOption--axo8r",x="team_upgrade_v2--sidebarOptionLabel--DCism",U="team_upgrade_v2--sidebarOptionLabelWithAnnualSavings--3TFBs",B="team_upgrade_v2--sidebarCurrencyContainer--xqYZz",G="team_upgrade_v2--sidebarPayInText--NspAn",V="team_upgrade_v2--teamName--zecVG",H="team_upgrade_v2--billingCycleHeader--64mbk",W="team_upgrade_v2--radioRow--7q8jH",K="team_upgrade_v2--strikethrough--5aHSA",Y="team_upgrade_v2--greyStrikethrough--v6928 team_upgrade_v2--strikethrough--5aHSA",q="team_upgrade_v2--editorCostRow--avzd-",j="team_upgrade_v2--calculationRow--AUGmm",$="team_upgrade_v2--planComparison--b-Jrh",Z="team_upgrade_v2--createTeamButton--pmLjn",z="team_upgrade_v2--createTeamNameInput--E-cTS",Q="team_upgrade_v2--createTeamIcon--OlWEH",X="team_upgrade_v2--createTeamTextInput--Drx5a",J="team_upgrade_v2--createTeamUpgradeExisting--Tde8n",ee="team_upgrade_v2--cartButton--a9UAE",et="team_upgrade_v2--centered--ExzVe",er="team_upgrade_v2--loadingSpinner---zNsR publish_modal--spinner--7DaqW",en="team_upgrade_v2--numeric--AdnQb",ei="team_upgrade_v2--badge--glbGY",ea="team_upgrade_v2--infoSection--nkK4j"},475176:(e,t,r)=>{"use strict";r.d(t,{A3:()=>E,EH:()=>n,I7:()=>m,Iz:()=>g,KY:()=>h,Kg:()=>o,Nv:()=>_,Qt:()=>i,SM:()=>d,Wm:()=>l,cX:()=>s,il:()=>a,kB:()=>f,kP:()=>y,kX:()=>c,sx:()=>u,uo:()=>p});let n="desktop_tool_bar--toolBarSpacerContainer--oPlpz",i="desktop_tool_bar--toolBarSpacerContainerTabletOptimized--PKt6e desktop_tool_bar--toolBarSpacerContainer--oPlpz",a="desktop_tool_bar--toolBarContainer--zDA63",o="desktop_tool_bar--pageViewToolBarContainer--4qHRW desktop_tool_bar--toolBarContainer--zDA63",l="desktop_tool_bar--settingsModalToolbarStickyContainer--Yo61U",s="desktop_tool_bar--toolBarContainerFullWidth--21c1o desktop_tool_bar--toolBarContainer--zDA63",c="desktop_tool_bar--toolBarLeftSide--eR-Jx text--fontPos13--xW8hS text--_fontBase--QdLsd",d="desktop_tool_bar--toolBarCenter--r5vRZ",u="desktop_tool_bar--toolBarCenterFullWidth--G-sL8",p="desktop_tool_bar--toolBarRightSide--4p7p3",m="desktop_tool_bar--toolBarTabContent--caJt- ellipsis--ellipsis--Tjyfa",_="desktop_tool_bar--toolBarTabContentBase--8pAAU",h="desktop_tool_bar--chevron--DVjy2",g="desktop_tool_bar--adminSettingsToolBarTabContentBase--HqqkQ",f="desktop_tool_bar--adminSettingsToolBarTabContentSelected--uVXuj",E="desktop_tool_bar--chevronWithoutPadding--5v5-B",y="desktop_tool_bar--chevronSvgContainer--2Mks6"},124032:(e,t,r)=>{"use strict";r.d(t,{En:()=>S,GQ:()=>b,IG:()=>f,ND:()=>u,Sc:()=>m,U$:()=>l,Wy:()=>p,Y$:()=>w,a0:()=>i,cf:()=>E,eS:()=>o,eg:()=>y,g$:()=>T,gA:()=>s,i2:()=>d,mM:()=>a,mO:()=>I,or:()=>h,ot:()=>c,qm:()=>_,uA:()=>v,uQ:()=>n,yp:()=>g});let n="footer_banner--container--HxFNE",i="footer_banner--bannerContainer--uRlsy",a="footer_banner--mobileBannerContainer--u6y9d",o="footer_banner--iconButton--XmgF1",l="footer_banner--googleBanner--ic9N1 footer_banner--banner--i9JNi",s="footer_banner--mobileBanner--qguYw footer_banner--banner--i9JNi",c="footer_banner--wordWrapper--w2SGa",d="footer_banner--buttonWrapper--H2Stl",u="footer_banner--clickable--99aMM",p="footer_banner--figmaIcon--sGo3W footer_banner--clickable--99aMM",m="footer_banner--timerIcon--9khH9",_="footer_banner--primaryText--UWvyo",h="footer_banner--mobilePrimaryText--AHCZ9",g="footer_banner--textContainer--T1Z8U",f="footer_banner--mobileTextContainer--MUP8u",E="footer_banner--primaryTextPlaceholder--NbLik",y="footer_banner--secondaryText--6-Mgk",b="footer_banner--mobileSecondaryText--RNxnV",v="footer_banner--mobileSignUpButton--dFlxi",I="footer_banner--mobileSignUpButtonContent--9xsVM",w="footer_banner--fullWidthButtonWrapper--dTHM2",T="footer_banner--spinner--xrqKX",S="footer_banner--spinnerBlade--oJ-MF"},451171:(e,t,r)=>{"use strict";r.d(t,{C2:()=>s,E2:()=>n,Ih:()=>a,Mp:()=>c,O3:()=>o,cZ:()=>l,mq:()=>d,pl:()=>u,uQ:()=>i});let n="fullscreen_accessibility_tree--visuallyHidden---8P2O",i="fullscreen_accessibility_tree--container--rXuNd",a="fullscreen_accessibility_tree--debugModeNode--aGne7",o="fullscreen_accessibility_tree--debugModeNodeTransition--PP1HR",l="fullscreen_accessibility_tree--debugModeNodeRender1--sOwjz fullscreen_accessibility_tree--debugModeNode--aGne7",s="fullscreen_accessibility_tree--debugModeNodeRender2--d5GgH fullscreen_accessibility_tree--debugModeNode--aGne7",c="fullscreen_accessibility_tree--debugModeNodeRender3--ferOf fullscreen_accessibility_tree--debugModeNode--aGne7",d="fullscreen_accessibility_tree--debugModeNodeRender4--fiCWb fullscreen_accessibility_tree--debugModeNode--aGne7",u="fullscreen_accessibility_tree--node--WGNTu"},648896:(e,t,r)=>{"use strict";r.d(t,{$e:()=>k,AL:()=>F,C6:()=>C,EY:()=>L,Gm:()=>S,IH:()=>I,KK:()=>O,M3:()=>_,MQ:()=>E,Mx:()=>G,Q5:()=>v,SO:()=>s,Sw:()=>i,Un:()=>h,Ur:()=>x,WG:()=>w,Wi:()=>y,Y3:()=>a,Yv:()=>p,_c:()=>n,_y:()=>B,cB:()=>l,cP:()=>m,eg:()=>D,eo:()=>u,kR:()=>T,kj:()=>o,kn:()=>V,nU:()=>g,ol:()=>f,pl:()=>c,qG:()=>R,qw:()=>M,uI:()=>N,w4:()=>U,wB:()=>H,wZ:()=>P,wz:()=>A,y6:()=>d,yC:()=>b});let n="chunk_diff_details--chunkDiffDetails--jy2yz text--fontPos11--2LvXf text--_fontBase--QdLsd",i="chunk_diff_details--divider--2Mr-q",a="chunk_diff_details--layersList--e9S0c",o="chunk_diff_details--mainTitle--vdyvJ text--fontPos14--OL9Hp text--_fontBase--QdLsd",l="chunk_diff_details--disclosure--vEErG",s="chunk_diff_details--caret--u2yzQ",c="chunk_diff_details--node--c80fZ",d="chunk_diff_details--nodeLego--I9McS",u="chunk_diff_details--nodeNames--KWP3B",p="chunk_diff_details--scrollableSection--D4PjI",m="chunk_diff_details--scrollableLayers--hBhdL",_="chunk_diff_details--layersWrapper--kf9DV",h="chunk_diff_details--selectedNode--r8k42",g="chunk_diff_details--nodeTitle--hzugs",f="chunk_diff_details--nodeTitleLego--32B5s",E="chunk_diff_details--nodeTitleRowLego--ajdsT chunk_diff_details--nodeTitleLego--32B5s",y="chunk_diff_details--nodeIcon--ui-4E",b="chunk_diff_details--nodeIconLego--6JkAh",v="chunk_diff_details--leftRightContainer--b0GkS",I="chunk_diff_details--fullWidthContainer--omBg2",w="chunk_diff_details--leftRightContainerLeft--XQxsR",T="chunk_diff_details--left--aF7sL",S="chunk_diff_details--fieldName--3vTK7",C="chunk_diff_details--fieldValue--3wOgr",A="chunk_diff_details--right--Wx1G8",O="chunk_diff_details--changedElement---NaHQ",N="chunk_diff_details--layerColumn--yUJ5S",L="chunk_diff_details--layerColumnHeader--Pyum0",R="chunk_diff_details--layerColumnHeaderBold--hYrEv",P="chunk_diff_details--detailsColumnTreatments--S7L50",M="chunk_diff_details--changedLabel--jqma6 chunk_diff_details--label---p6Jd",k="chunk_diff_details--addedLabel--gLd-C chunk_diff_details--label---p6Jd",D="chunk_diff_details--removedLabel--h5i2C chunk_diff_details--label---p6Jd",F="chunk_diff_details--skipMargin--CW5U-",x="chunk_diff_details--propertyRow--XbRK9",U="chunk_diff_details--propertyElement--NIJBh",B="chunk_diff_details--changesInset--DVnsf",G="chunk_diff_details--fieldNameLego--OdYt4",V="chunk_diff_details--truncTextPadRight--E-Ke0",H="chunk_diff_details--copyableChanges--1LoXJ"},502144:(e,t,r)=>{"use strict";r.d(t,{EJ:()=>a,Gm:()=>i,M7:()=>o,_M:()=>u,_y:()=>d,am:()=>l,em:()=>c,kO:()=>n,sL:()=>s,yi:()=>p});let n="attachment--thumbnailButton--CfAkK",i="attachment--selectedThumbnailButton--x2RnD attachment--thumbnailButton--CfAkK",a="attachment--thumbnailImage--Jx4fa",o="attachment--lightOverlay--F8qzZ attachment--overlay--dIw1C",l="attachment--publishedThumbnailContainer--oFj0f",s="attachment--pendingThumbnailContainer--iL-xu",c="attachment--darkOverlay--l3K9x attachment--overlay--dIw1C",d="attachment--composerContainer--mP7Kx",u="attachment--deleteBadge--9aSjm",p="attachment--xIcon--hhlua"},982288:(e,t,r)=>{"use strict";r.d(t,{AZ:()=>A,Ap:()=>v,CQ:()=>w,Cw:()=>E,KM:()=>i,Ke:()=>l,M3:()=>g,Sy:()=>b,UW:()=>a,Ur:()=>_,WA:()=>p,Y9:()=>O,Yl:()=>u,_A:()=>T,_o:()=>m,ek:()=>c,gZ:()=>o,kJ:()=>S,kc:()=>y,mI:()=>C,pP:()=>d,q2:()=>I,qY:()=>f,sq:()=>s,sx:()=>n,yl:()=>h});let n="thread_comment--threadHeaderLeft--gppoV thread_comment--_threadHeader--59aR8",i="thread_comment--threadHeaderRight--1gMsu thread_comment--_threadHeader--59aR8",a="thread_comment--threadHeaderContainer--0TaTS",o="thread_comment--threadHeaderButton--psBeY",l="thread_comment--threadHeaderButtonInactive--LhTNi",s="thread_comment--addReactionButton--n1Dj5",c="thread_comment--loader--GUeJt",d="thread_comment--threadContainer--oH8Ia",u="thread_comment--threadContainerCommunityDetailsPage--W6Cmv thread_comment--threadContainer--oH8Ia",p="thread_comment--threadContainerAnimated--OT8HU thread_comment--threadContainer--oH8Ia",m="thread_comment--threadContainerInner--Bzqm7",_="thread_comment--threadElement--4grcZ thread_comment--_threadElement--PYPeg text--fontPos11--2LvXf text--_fontBase--QdLsd",h="thread_comment--threadElementReplyContainer--6vz0m thread_comment--threadElement--4grcZ thread_comment--_threadElement--PYPeg text--fontPos11--2LvXf text--_fontBase--QdLsd",g="thread_comment--threadSubelementNoMargin--aGW6z",f="thread_comment--indentedThreadSubelement--gs1fI thread_comment--threadSubelement--7-le3 thread_comment--threadSubelementNoMargin--aGW6z",E="thread_comment--rightJustified--lK8hG",y="thread_comment--leftJustified--HHuN0",b="thread_comment--authorAvatar--xOCLt",v="thread_comment--authorHandle--fmYkb thread_comment--headerLabel--Oq7ar text--fontPos13--xW8hS text--_fontBase--QdLsd text--fontPos13--xW8hS text--_fontBase--QdLsd",I="thread_comment--text--FHTSU text--fontPos13--xW8hS text--_fontBase--QdLsd",w="thread_comment--grayLabel--6ZZkD thread_comment--headerLabel--Oq7ar text--fontPos13--xW8hS text--_fontBase--QdLsd",T="thread_comment--iconButtonSpace--VkGFf",S="thread_comment--attachmentsContainer--lOeTy",C="thread_comment--reactionsContainer--n2YcQ",A="thread_comment--resolvedIcon--YSM3V",O="thread_comment--loadingAvatar--82RED comment_cluster_elements--loadingSpinner--6derj"},93896:(e,t,r)=>{"use strict";r.d(t,{A$:()=>h,Ib:()=>n,Ix:()=>l,Oy:()=>u,SY:()=>p,We:()=>m,Yf:()=>d,a2:()=>g,ai:()=>o,ay:()=>f,kP:()=>c,p:()=>s,qG:()=>a,wP:()=>_,yA:()=>i});let n="thread_comment_composer--inputSectionWrapper--Bxyab",i="thread_comment_composer--newComment--eYLj7",a="thread_comment_composer--composerEmpty--VgMY7",o="thread_comment_composer--highlighted--GPAOe",l="thread_comment_composer--editableTypeahead--9R6Yd text--fontPos13--xW8hS text--_fontBase--QdLsd",s="thread_comment_composer--leftComposerButtonGroup--6jQ3I",c="thread_comment_composer--submitUpArrowIcon--e8uT9",d="thread_comment_composer--submitUpArrowIconDisabled--iPBY3 thread_comment_composer--submitUpArrowIcon--e8uT9",u="thread_comment_composer--textButton--GUo5c",p="thread_comment_composer--editSubmitButtons--GyqGL",m="thread_comment_composer--replyComposerContainer---8DSl",_="thread_comment_composer--replyAuthorElement--qze1r",h="thread_comment_composer--errorFallback--G5K6y text--fontPos13--xW8hS text--_fontBase--QdLsd thread_comment_composer--inputSectionWrapper--Bxyab",g="thread_comment_composer--errorFallbackNewComment--xlyNp thread_comment_composer--errorFallback--G5K6y text--fontPos13--xW8hS text--_fontBase--QdLsd thread_comment_composer--inputSectionWrapper--Bxyab thread_comment_composer--newComment--eYLj7",f="thread_comment_composer--actions--7LRnN"},107496:(e,t,r)=>{"use strict";r.d(t,{ET:()=>d,Ir:()=>u,Sq:()=>l,YM:()=>a,eO:()=>o,gR:()=>p,gp:()=>_,iO:()=>s,kF:()=>c,kn:()=>n,kr:()=>i,u6:()=>m});let n="figma_basics_tooltip--tooltipContainer--y5pAG pointer_modal--walkThroughModal--6eTVS pointer_modal--pointerModal--wrpFz",i="figma_basics_tooltip--description--2Km4-",a="figma_basics_tooltip--tooltipContainerForToolbar--PhD77",o="figma_basics_tooltip--tooltipContainerForDesignPanel--UI7Mt",l="figma_basics_tooltip--tooltipContainerForLeftPanel--pBrWU",s="figma_basics_tooltip--tooltipContainer__noTarget--kQ-Rm",c="figma_basics_tooltip--header--1MabN text--fontPos13--xW8hS text--_fontBase--QdLsd",d="figma_basics_tooltip--lowerLeftText--6fDVr text--fontPos11--2LvXf text--_fontBase--QdLsd",u="figma_basics_tooltip--bottomRightContainer--zvs9g",p="figma_basics_tooltip--loadingBar--RRCLi",m="figma_basics_tooltip--filledLoadingSection--hztYR",_="figma_basics_tooltip--borderRightRadius--OD3B7"},900904:(e,t,r)=>{"use strict";r.d(t,{C4:()=>b,C8:()=>E,CI:()=>v,CS:()=>V,GV:()=>i,Go:()=>O,IH:()=>I,IV:()=>d,MB:()=>x,MX:()=>M,O0:()=>f,OK:()=>P,OQ:()=>u,QX:()=>c,UQ:()=>C,W0:()=>k,_g:()=>D,c$:()=>w,cl:()=>N,e:()=>m,eY:()=>F,ee:()=>_,gM:()=>a,iS:()=>h,kF:()=>s,kb:()=>A,kd:()=>T,kh:()=>l,m4:()=>U,sj:()=>n,sn:()=>y,uA:()=>g,uK:()=>G,ui:()=>L,um:()=>o,wH:()=>p,wh:()=>B,wt:()=>S,yG:()=>R});let n="compare_changes_modal--modalContainerLarge---iAsD",i="compare_changes_modal--modalInnerContainer--TQZcV",a="compare_changes_modal--compareChangesContainer--81M8-",o="compare_changes_modal--compareChangesContainerLarge--qGkOy",l="compare_changes_modal--containerWithSidePanel--uvMV9",s="compare_changes_modal--header--Y0WnE text--fontPos11--2LvXf text--_fontBase--QdLsd",c="compare_changes_modal--compareChangesInner--873zA",d="compare_changes_modal--leftPanel--1Kn-R",u="compare_changes_modal--history--HO13m",p="compare_changes_modal--compareChanges--r2iMv",m="compare_changes_modal--title--dK8IH",_="compare_changes_modal--loading--9Gj-T",h="compare_changes_modal--versionSubheader--IYdmY",g="compare_changes_modal--imagesContainer--g7KiK",f="compare_changes_modal--imagesContainerSideBySide--Xhrzv compare_changes_modal--imagesContainer--g7KiK",E="compare_changes_modal--imagesContainerSideBySideFullHeight--uk2gl compare_changes_modal--imagesContainerSideBySide--Xhrzv compare_changes_modal--imagesContainer--g7KiK",y="compare_changes_modal--imagesContainerFullHeight--R9vqh compare_changes_modal--imagesContainer--g7KiK",b="compare_changes_modal--imageBoxSideBySide--6Ixmv compare_changes_modal--imageBox---7rqx",v="compare_changes_modal--imageBoxOverlay--m11a8 compare_changes_modal--imageBox---7rqx",I="compare_changes_modal--imageHeader--hifS9 text--fontPos11--2LvXf text--_fontBase--QdLsd",w="compare_changes_modal--image--ikCOw",T="compare_changes_modal--noImage--MWmW0",S="compare_changes_modal--imageBoxDivider--PeKgh",C="compare_changes_modal--changeDetailsContainer--DxPGO",A="compare_changes_modal--changeDetails--Zba3y text--fontPos11--2LvXf text--_fontBase--QdLsd",O="compare_changes_modal--changeDetailsStatus--d0YuM text--fontPos11--2LvXf text--_fontBase--QdLsd",N="compare_changes_modal--fullHeightContainer--TrbSu",L="compare_changes_modal--comparableControls--D403G",R="compare_changes_modal--subheader--rEZjG",P="compare_changes_modal--subheaderSection--0Ma9N",M="compare_changes_modal--historyTitle--eRow5",k="compare_changes_modal--debugUploadFileButton--a-7YM",D="compare_changes_modal--versionName--bA2k4",F="compare_changes_modal--subheaderTitle--hQs3R",x="compare_changes_modal--ellipsis--7w991 ellipsis--ellipsis--Tjyfa",U="compare_changes_modal--versionLabel--9xe00",B="compare_changes_modal--subheaderDivider--NNzCi",G="compare_changes_modal--loadingImage--eCKqt",V="compare_changes_modal--modalError--j-tLH text--fontPos11--2LvXf text--_fontBase--QdLsd"},419064:(e,t,r)=>{"use strict";r.d(t,{Cw:()=>p,E$:()=>T,EH:()=>y,Ev:()=>c,G4:()=>I,Gi:()=>S,I7:()=>C,If:()=>E,Ir:()=>N,KW:()=>D,Ko:()=>m,MJ:()=>O,O4:()=>k,OS:()=>L,QP:()=>s,QZ:()=>_,Ss:()=>g,WM:()=>f,Wp:()=>u,Yb:()=>U,_Q:()=>w,aC:()=>a,cJ:()=>G,eC:()=>l,eM:()=>M,eQ:()=>b,gG:()=>P,gl:()=>h,iG:()=>R,mD:()=>o,mK:()=>F,sd:()=>v,w1:()=>B,wL:()=>x,wv:()=>n,y:()=>d,yC:()=>i,yW:()=>A});let n="keyboard_shortcut_panel--keyboardShortcutPanel--M0Z-f",i="keyboard_shortcut_panel--nav--rmt2R",a="keyboard_shortcut_panel--tab--9t5Mb",o="keyboard_shortcut_panel--thinnerTab--lUwLL",l="keyboard_shortcut_panel--spacerTab--yNO02",s="keyboard_shortcut_panel--tabActive--xPG7y keyboard_shortcut_panel--tab--9t5Mb",c="keyboard_shortcut_panel--tabLeftOfActive--aapeI keyboard_shortcut_panel--tab--9t5Mb",d="keyboard_shortcut_panel--tabRightOfActive--pA4GA keyboard_shortcut_panel--tab--9t5Mb",u="keyboard_shortcut_panel--tabActiveCompletedFirstTime--qYX3O keyboard_shortcut_panel--tabActive--xPG7y keyboard_shortcut_panel--tab--9t5Mb",p="keyboard_shortcut_panel--navWithFirstTabActive--KBbpA keyboard_shortcut_panel--nav--rmt2R",m="keyboard_shortcut_panel--navWithLastTabActive--ptUFB keyboard_shortcut_panel--nav--rmt2R",_="keyboard_shortcut_panel--closeX--QSyPA",h="keyboard_shortcut_panel--replayAnimation--ZpPzH",g="keyboard_shortcut_panel--replayAnimationActive--entZF keyboard_shortcut_panel--replayAnimation--ZpPzH",f="keyboard_shortcut_panel--tabContents--UBIdJ",E="keyboard_shortcut_panel--tabContentsCompleted--YcQRt keyboard_shortcut_panel--tabContents--UBIdJ",y="keyboard_shortcut_panel--tabContentsCompletedFirstTime--5s31O keyboard_shortcut_panel--tabContents--UBIdJ",b="keyboard_shortcut_panel--categoryCaption--7m7qR",v="keyboard_shortcut_panel--contents--8ae0D",I="keyboard_shortcut_panel--column--lHvov",w="keyboard_shortcut_panel--caption--a6WBZ",T="keyboard_shortcut_panel--shortcutRow--6AogW",S="keyboard_shortcut_panel--shortcutRowUsed--COYQU keyboard_shortcut_panel--shortcutRow--6AogW",C="keyboard_shortcut_panel--shortcutRowPressed--eQ-Vp keyboard_shortcut_panel--shortcutRow--6AogW",A="keyboard_shortcut_panel--shortcutRowPressedFirstTime--DZrX7 keyboard_shortcut_panel--shortcutRow--6AogW",O="keyboard_shortcut_panel--shortcutRowCompletedTab--F1jL4 keyboard_shortcut_panel--shortcutRowUsed--COYQU keyboard_shortcut_panel--shortcutRow--6AogW",N="keyboard_shortcut_panel--shortcutRowCompletedAllTabs--J5zY3 keyboard_shortcut_panel--shortcutRowUsed--COYQU keyboard_shortcut_panel--shortcutRow--6AogW",L="keyboard_shortcut_panel--shortcutRowHeld--XwsHX keyboard_shortcut_panel--shortcutRowUsed--COYQU keyboard_shortcut_panel--shortcutRow--6AogW",R="keyboard_shortcut_panel--and---b-w4",P="keyboard_shortcut_panel--shortcutName--Q5dhd",M="keyboard_shortcut_panel--shortcutIconCanvas---wufa",k="keyboard_shortcut_panel--shortcutIcon--zS4rz",D="keyboard_shortcut_panel--keyBindings--8LxQV",F="keyboard_shortcut_panel--keyBinding--wvHKI",x="keyboard_shortcut_panel--singleCharKeyBox--DD6s1 keyboard_shortcut_panel--shortcutBox--9Ltqp",U="keyboard_shortcut_panel--contentsSpacedOut--Jp-4I keyboard_shortcut_panel--contents--8ae0D",B="keyboard_shortcut_panel--multiCharKeyBox--LZwGA keyboard_shortcut_panel--shortcutBox--9Ltqp",G="keyboard_shortcut_panel--usage--qzeP9"},196556:(e,t,r)=>{"use strict";r.d(t,{GA:()=>_,GU:()=>u,Ks:()=>p,OO:()=>c,Qs:()=>n,U1:()=>s,UV:()=>i,_3:()=>d,qc:()=>o,sN:()=>m,wl:()=>a,yC:()=>l});let n="left_panel--panelContainer--BIp-B left_panel--panelContainerBase--hT1dd",i="left_panel--panelContainerFullHeight--TkS19 left_panel--panelContainerBase--hT1dd",a="left_panel--panelContainerLoading--ncZv- left_panel--panelContainer--BIp-B left_panel--panelContainerBase--hT1dd",o="left_panel--insetForRulers--Lw1ZT",l="left_panel--insetForRulersFullHeight--ZxsMu",s="left_panel--backgroundGradient--3az9i left_panel--_backgroundGradientBase--IYAcr",c="left_panel--backgroundGradientFullHeight---omeh left_panel--_backgroundGradientBase--IYAcr",d="left_panel--panelContainerHidden--NAQHy left_panel--panelContainer--BIp-B left_panel--panelContainerBase--hT1dd",u="left_panel--content--Ba2lL",p="left_panel--noChanges--MUudM",m="left_panel--motionContainer---p-M4",_="left_panel--withFigjamSidePanelZIndex--RlCLJ"},50600:(e,t,r)=>{"use strict";r.d(t,{Ck:()=>n,Iz:()=>m,Ke:()=>_,Mh:()=>s,N9:()=>o,NB:()=>p,Po:()=>i,SO:()=>c,Y$:()=>a,ii:()=>l,nL:()=>h,s5:()=>d,ul:()=>u});let n="component_sidebar_asset_tile--fileName--J2dQ0 ellipsis--ellipsis--Tjyfa",i="component_sidebar_asset_tile--secondary--nsKER",a="component_sidebar_asset_tile--nameWrapper--rAA6d",o="component_sidebar_asset_tile--name--3gVvZ ellipsis--ellipsis--Tjyfa",l="component_sidebar_asset_tile--wrapper--5fJmf component_sidebar_asset_tile--_wrapperBase--7olel",s="component_sidebar_asset_tile--listWrapper--WJAUr component_sidebar_asset_tile--_wrapperBase--7olel",c="component_sidebar_asset_tile--caret---LMDc component_sidebar_asset_tile--_caretBase--eIh4G",d="component_sidebar_asset_tile--listCaret--cs9bq component_sidebar_asset_tile--_caretBase--eIh4G",u="component_sidebar_asset_tile--focusableElementWrapper---mXHu",p="component_sidebar_asset_tile--tileWrapper--GTsPX",m="component_sidebar_asset_tile--shownInFlyout--Vku5Q",_="component_sidebar_asset_tile--hoverableElementWrapper--5cPDu",h="component_sidebar_asset_tile--selectedFlyoutFocus--W6bG1"},777264:(e,t,r)=>{"use strict";r.d(t,{A5:()=>i,Ib:()=>o,Mg:()=>l,_x:()=>a,cL:()=>s,qW:()=>c,yM:()=>n});let n="cursor_bot--smoothScroll--8NqWp",i="cursor_bot--cursorBotContainer--u2vDL",a="cursor_bot--progressIslandContainer--tuyOW",o="cursor_bot--progressIslandWrapper--Y6p21 cursor_bot--progressIslandBase--R1s-s",l="cursor_bot--playbackButton--fHpmO",s="cursor_bot--fullscreenEventBlocker--jPF73",c="cursor_bot--highFiveCursor--MWm2R"},890288:(e,t,r)=>{"use strict";r.d(t,{E9:()=>c,Ej:()=>m,Ep:()=>E,Gi:()=>y,Mf:()=>u,Mv:()=>a,O2:()=>h,QG:()=>g,Sq:()=>n,UH:()=>_,_W:()=>o,gn:()=>p,k1:()=>s,oZ:()=>d,uk:()=>l,wL:()=>i,wg:()=>f});let n="multiplayer_cursors--root---KzSU",i="multiplayer_cursors--overlay--cltnZ",a="multiplayer_cursors--multiplayerCursorsContainer--blD-f",o="multiplayer_cursors--multiplayerCursorsHiddenForVoting--54--r multiplayer_cursors--multiplayerCursorsContainer--blD-f",l="multiplayer_cursors--cursor--n8aPY",s="multiplayer_cursors--cursorPointer--ya3cR",c="multiplayer_cursors--cursorImage--hYFE4",d="multiplayer_cursors--nameContainer--O1WsV",u="multiplayer_cursors--isPointingRight--eOPEm",p="multiplayer_cursors--message--1NMSI multiplayer_cursors--nameContainer--O1WsV",m="multiplayer_cursors--messageText--jI1cQ",_="multiplayer_cursors--cursorName--i776D",h="multiplayer_cursors--cursorNameSmall--Cy-9n",g="multiplayer_cursors--multiplayerHighFiveCenteringContainer--knxoP",f="multiplayer_cursors--multiplayerPointerForHighFive--hpa2g",E="multiplayer_cursors--multiplayerPointerForHighFiveHidden--V-bo-",y="multiplayer_cursors--chatBackground--hGJJf"},405976:(e,t,r)=>{"use strict";r.d(t,{Id:()=>l,WQ:()=>i,Wu:()=>o,ie:()=>n,ye:()=>a,yo:()=>s});let n="chit--chitThumbnail--KxCGp",i="chit--chitAlpha--Mn-aK",a="chit--chit--WdWdx",o="chit--chitBorder--ydYLm",l="chit--chitShowFocus--M0ub5 chit--chit--WdWdx",s="/** @postcss-export-raw */\n\n.chit--chitThumbnail--KxCGp {\n  width: 16px;\n  height: 16px;\n}\n\n.chit--chitAlpha--Mn-aK {\n  right: 0;\n  top: 0;\n  width: 50%;\n  height: 100%;\n  position: absolute;\n  border-top-right-radius: 1px;\n  border-bottom-right-radius: 1px;\n\n  background: url('data:image/svg+xml;utf8,%3Csvg%20width%3D%226%22%20height%3D%226%22%20viewBox%3D%220%200%206%206%22%20fill%3D%22none%22%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%3E%3Cpath%20d%3D%22M0%200H3V3H0V0Z%22%20fill%3D%22%23E1E1E1%22/%3E%3Cpath%20d%3D%22M3%200H6V3H3V0Z%22%20fill%3D%22white%22/%3E%3Cpath%20d%3D%22M3%203H6V6H3V3Z%22%20fill%3D%22%23E1E1E1%22/%3E%3Cpath%20d%3D%22M0%203H3V6H0V3Z%22%20fill%3D%22white%22/%3E%3C/svg%3E%0A');\n}\n\n.chit--chit--WdWdx {\n  border-radius: 1px;\n\n  overflow: hidden;\n  position: relative;\n  flex-shrink: 0;\n  height: 16px;\n  width: 16px;\n}\n\n[data-fpl-version='ui3'] .chit--chit--WdWdx {\n    border-radius: var(--radius-small);\n    height: 14px;\n    width: 14px;\n  }\n\n.chit--chitBorder--ydYLm {\n  position: absolute;\n\n  /* Our goal is to draw a 0.5px \"hairline\" border around these chits. However, Chrome\n      doesn't support sub-pixel borders and Safari doesn't support sub-pixel box-shadows,\n      so we use this hack where we draw a 1px box at twice the size and then scale it down. */\n  top: -50%;\n  left: -50%;\n  right: -50%;\n  bottom: -50%;\n  box-shadow: inset 0 0 0 1px var(--color-border, rgba(0, 0, 0, 0.1));\n  transform-origin: center center;\n  transform: scale(0.5);\n}\n\n[data-fpl-version='ui3'] .chit--chitBorder--ydYLm {\n    /* Border radius is twice that of the chit element since we are scaling down */\n    border-radius: calc(var(--radius-small) * 2);\n  }\n\n/* The above fix looks good everywhere except in FireFox on low-density displays. In that\n   case, we just throw our hands in the air and render a 1px border around the chit. */\n\n@media screen and (-webkit-max-device-pixel-ratio: 1.5), screen and (max-resolution: 1.5dppx) {\n  @supports (-moz-appearance: none) {\n    .chit--chitBorder--ydYLm {\n      position: absolute;\n      top: 0;\n      left: 0;\n      right: 0;\n      bottom: 0;\n      box-shadow: inset 0 0 0 1px var(--color-border, rgba(0, 0, 0, 0.1));\n      transform: none;\n    }\n  }\n}\n\n.chit--chitShowFocus--M0ub5:focus::after {\n    content: '';\n    position: absolute;\n\n    /* Render a border using a shadow on top of the content in .chit */\n    width: 100%;\n    height: 100%;\n    top: 0;\n    left: 0;\n    box-shadow: inset 0 0 0 1px var(--color-border-selected, #0d99ff);\n    transform: scale(1);\n  }\n"},196040:(e,t,r)=>{"use strict";r.d(t,{Ce:()=>m,Id:()=>n,Od:()=>c,QD:()=>a,Sc:()=>s,Wg:()=>p,e_:()=>i,iU:()=>h,ig:()=>g,kV:()=>_,mB:()=>o,sX:()=>d,sf:()=>u,uI:()=>l});let n="code_inspection_panels--stylePreviewCodeScrollContainer--BgxmE",i="code_inspection_panels--swatch--k-GyP",a="code_inspection_panels--inspectorRow--VL6Ua",o="code_inspection_panels--inspectionGroup--xesmI",l="code_inspection_panels--formattingControls--D3Bma",s="code_inspection_panels--platformSelect--Cq3OJ",c="code_inspection_panels--paintInspector--F0bwe",d="code_inspection_panels--generatedCode--AibGI",u="code_inspection_panels--codePanelContainer--IXb8m",p="code_inspection_panels--codePanelTitle---3WbH inspect_panels--panelTitle--HvsFh text--fontPos11--2LvXf text--_fontBase--QdLsd",m="code_inspection_panels--instancePanel--53DAN",_="code_inspection_panels--instancePanelTitle--s-rGx",h="code_inspection_panels--findSymbolLink--a-bxC blue_link--blueLink--9rlnd",g="code_inspection_panels--findSymbolLinkDisabled--cNFY5 code_inspection_panels--findSymbolLink--a-bxC blue_link--blueLink--9rlnd"},719112:(e,t,r)=>{"use strict";r.d(t,{CI:()=>d,Ki:()=>f,Os:()=>E,PI:()=>s,QT:()=>h,Yh:()=>o,aG:()=>y,cn:()=>n,di:()=>a,g5:()=>i,gL:()=>l,iM:()=>u,mc:()=>c,md:()=>p,oJ:()=>m,op:()=>_,sD:()=>g});let n="collapsible_property_panel--showOnTitleHover--yqPoD",i="collapsible_property_panel--panelTitleRow--AV-Sv collapsible_property_panel--_hoverTarget--eRHji",a="collapsible_property_panel--ui3Row--9nUnV collapsible_property_panel--_hoverTarget--eRHji",o="collapsible_property_panel--ui3RowButtons--xHUX3",l="collapsible_property_panel--styleTitle--a7BMw",s="collapsible_property_panel--panelTitle--4vpTS raw_components--panelTitle--VAQQA",c="collapsible_property_panel--titleButton--7yILK",d="collapsible_property_panel--fadeOutOnTitleUnhover--15rtL",u="collapsible_property_panel--panelTitleRowInGrid--Kq3wh collapsible_property_panel--panelTitleRow--AV-Sv collapsible_property_panel--_hoverTarget--eRHji",p="collapsible_property_panel--panelTitleRowInGridWithButton--8yQlq",m="collapsible_property_panel--panelEmptyTitleRowInGrid--TlCXf collapsible_property_panel--panelEmptyTitleRow--vDg0z collapsible_property_panel--panelTitleRow--AV-Sv collapsible_property_panel--_hoverTarget--eRHji",_="collapsible_property_panel--panelStyleTitle--R1Tqo collapsible_property_panel--panelTitle--4vpTS raw_components--panelTitle--VAQQA",h="collapsible_property_panel--panelMixedMessage--UuCKj",g="collapsible_property_panel--panelTitleText--vFGYT",f="collapsible_property_panel--titleButtons--k6Lxk",E="collapsible_property_panel--dropdownOption--cy1JZ",y="collapsible_property_panel--updateIcon--0YXMO"},703032:(e,t,r)=>{"use strict";r.d(t,{Eb:()=>l,ID:()=>i,Kb:()=>s,PI:()=>o,Sc:()=>n,Wu:()=>a});let n="containing_assets_panel--componentIcon--K0Y2t",i="containing_assets_panel--buttonContainer--xwH3S",a="containing_assets_panel--componentName--Lwkmx",o="containing_assets_panel--panelTitle--18hNI",l="containing_assets_panel--componentNameRow--INBzF",s="containing_assets_panel--selectComponentIcon--Uh7sV"},473728:(e,t,r)=>{"use strict";r.d(t,{Kk:()=>c,Sy:()=>n,Wp:()=>o,Yh:()=>i,oi:()=>l,u8:()=>s,uQ:()=>a});let n="panel_title_input--falseInput--WuZeB raw_components--borderFocusWithin--BaipZ",i="panel_title_input--input--Go0Lh raw_components--base--T7G0z raw_components--border--SKh2u raw_components--input--JB4Ix raw_components--singleRowHeight--dKM4t sf_pro--uiFontWithSFProFallback--m-p9V",a="panel_title_input--container--zi38f",o="panel_title_input--originalValue--m9A5M",l="panel_title_input--uneditableOriginalValue--On4-3 panel_title_input--originalValue--m9A5M",s="panel_title_input--originalValueText--HfAix sf_pro--uiFontWithSFProFallback--m-p9V",c="panel_title_input--icon--nfisf"},533852:(e,t,r)=>{"use strict";r.d(t,{Ad:()=>W,CE:()=>O,Cc:()=>F,Co:()=>a,E3:()=>L,G2:()=>P,GW:()=>I,I5:()=>U,IB:()=>b,MH:()=>K,MX:()=>i,OO:()=>p,OY:()=>k,QP:()=>S,QT:()=>D,Qj:()=>N,Qs:()=>s,Sw:()=>d,U1:()=>u,VY:()=>q,Yn:()=>A,Yz:()=>M,_g:()=>g,aA:()=>l,aC:()=>T,aE:()=>H,ag:()=>c,aq:()=>C,bl:()=>j,gd:()=>f,kB:()=>x,kR:()=>B,mj:()=>n,mw:()=>Z,q_:()=>V,qc:()=>o,qu:()=>v,sF:()=>w,uY:()=>m,u_:()=>R,wB:()=>Y,wR:()=>$,wl:()=>h,xf:()=>E,y1:()=>G,y4:()=>y,yR:()=>_});let n="properties_panel--focusManager--iZVd8",i="properties_panel--hideOnFocus--ZF9Cv",a="properties_panel--panelPosition--oppQ8",o="properties_panel--insetForRulers--rk7or",l="properties_panel--fullHeight--9zPYb",s="properties_panel--panelContainer--cKjqh",c="properties_panel--panelContainerCollapsed--KNM6O",d="properties_panel--panelContainerCollapsedWithBackground--9UCfA",u="properties_panel--backgroundGradient--kX5JD left_panel--_backgroundGradientBase--IYAcr",p="properties_panel--backgroundGradientFullHeight--UMg8X left_panel--backgroundGradientFullHeight---omeh left_panel--_backgroundGradientBase--IYAcr",m="properties_panel--scrollOuterContainer--rxp11",_="properties_panel--scrollContainer--o2LxW",h="properties_panel--panelContainerLoading--wdXCI",g="properties_panel--drillDownContainer--VaNDa",f="properties_panel--hidden--JXxwt",E="properties_panel--externalStyleLink--NJGQN",y="properties_panel--propertiesPanel--BQ7Lw",b="properties_panel--propertiesPanelNoTabs--xP4a6",v="properties_panel--propertiesPanelCollapsed--XjWdJ",I="properties_panel--tabsHeader--b5J9f pages_panel--tabsHeader--ez-pH",w="properties_panel--tabsHeaderBordered--UTQmW properties_panel--tabsHeader--b5J9f pages_panel--tabsHeader--ez-pH",T="properties_panel--tab--G8lIz pages_panel--tab--Uge5B",S="properties_panel--tabActive--s04ep pages_panel--tabActive--BitzC pages_panel--tab--Uge5B",C="properties_panel--stylePreviewContainer--KAG5V",A="properties_panel--exportDefaultPanel--Ha9Bz",O="properties_panel--exportDefaultPanelTitle---Yyle",N="properties_panel--exportDefaultPanelTitleIcon--YfUgd",L="properties_panel--exportDefaultPanelMessage--PnzZn text--fontPos11--2LvXf text--_fontBase--QdLsd",R="properties_panel--prototypePanel--BXFg-",P="properties_panel--ui3ToolbarPanel--jj-VE",M="properties_panel--ui3SelectionActionsContainer---7oX-",k="properties_panel--dropdownInput--EOia1",D="properties_panel--rightPanelHeader--97mxh",F="properties_panel--rightPanelHeaderCollapsed--s19A0",x="properties_panel--fullHeightSidebarTabsHeaderControls--qBtE0",U="properties_panel--panelHeaderControls--oFMeq",B="properties_panel--left--1pgjP",G="properties_panel--fullHeightSidebarTabsHeader--PHP85",V="properties_panel--fullHeightSidebarTabsHeaderBordered--Skkc2 properties_panel--fullHeightSidebarTabsHeader--PHP85",H="properties_panel--fullHeightSidebarTabs--WP5tu pages_panel--tabsHeader--ez-pH",W="properties_panel--instanceDropdownOverrides--8wA5k",K="properties_panel--bumpSelectChevronToLeft--7Xcx3",Y="properties_panel--ui3FrameLayerHeaderSelect--eG1lv",q="properties_panel--unfocusedRenameComponentInputOverrides--9lIrv",j="properties_panel--focusedRenameComponentInputOverrides--tb98F",$="properties_panel--objectRowTitleInputTextOverrides--y3gS6",Z="properties_panel--objectRowTitleStaticTextOverrides--rIKLX"},844792:(e,t,r)=>{"use strict";r.d(t,{Ec:()=>u,Im:()=>i,Kc:()=>h,MF:()=>E,Q5:()=>l,So:()=>n,UL:()=>g,WW:()=>w,_I:()=>d,_M:()=>v,an:()=>T,eu:()=>m,ey:()=>a,gx:()=>p,i4:()=>y,k$:()=>o,kf:()=>_,oH:()=>c,qk:()=>s,uk:()=>I,uw:()=>f,wo:()=>b});let n="prototype_expression_builder--bottomBorder---GcEs",i="prototype_expression_builder--searchContainer--Pgq5x",a="prototype_expression_builder--searchInputContainer--jpUKl",o="prototype_expression_builder--searchInput--tyCwO",l="prototype_expression_builder--expressionError--iJ11P",s="prototype_expression_builder--builderParagraph--yNofj",c="prototype_expression_builder--placeholderPreview--YUDwq",d="prototype_expression_builder--placeholder--2aqlR",u="prototype_expression_builder--expressionBuilderContainer--HG8Mc",p="prototype_expression_builder--expressionBuilderContainerNarrow--1Gz4J prototype_expression_builder--expressionBuilderContainer--HG8Mc",m="prototype_expression_builder--expressionBuilderContainerCell--Ta5-9 prototype_expression_builder--expressionBuilderContainer--HG8Mc",_="prototype_expression_builder--iconContainer--c-MAD",h="prototype_expression_builder--operator---sIkC",g="prototype_expression_builder--operatorUnary--vNe8G",f="prototype_expression_builder--operatorUnaryRightParenthesis--4JEAv",E="prototype_expression_builder--libraryPickerContainer--HTzR2",y="prototype_expression_builder--createVariableButton--FrYXp raw_components--iconButtonEnabled--WmVk5 raw_components--_iconButton---ybo6",b="prototype_expression_builder--createVariableDropdownOption--Q6Pvi",v="prototype_expression_builder--expressionModalWrapper--aIPUl",I="prototype_expression_builder--aiButton--WYT0D raw_components--iconButtonEnabled--WmVk5 raw_components--_iconButton---ybo6",w="prototype_expression_builder--aiButtonEnabled--y-QIT raw_components--iconButtonSelected--bJibL raw_components--_iconButton---ybo6",T="prototype_expression_builder--aiPluginContainer--aV7td prototype_expression_builder--bottomBorder---GcEs"},702884:(e,t,r)=>{"use strict";r.d(t,{A7:()=>o,Cs:()=>c,Ku:()=>n,Kw:()=>a,Ml:()=>s,Uh:()=>l,mk:()=>i});let n="magic_link--magicLinkRow--ZgnC0",i="magic_link--magicLinkButton--CWefW",a="magic_link--sparkleIcon---XyHO",o="magic_link--magicLinkPrompt--Thl19",l="magic_link--promptModalContainer--tAcme",s="magic_link--generateButtonContainer--l-nue",c="magic_link--closeModalDiv--NeSi-"},938724:(e,t,r)=>{"use strict";r.d(t,{A5:()=>o,A7:()=>u,Ax:()=>i,Bn:()=>_,EN:()=>R,Eb:()=>b,G8:()=>L,If:()=>E,It:()=>w,KY:()=>m,M$:()=>M,MT:()=>s,Mj:()=>v,O8:()=>T,OC:()=>l,Oi:()=>f,PI:()=>C,QK:()=>I,Qr:()=>N,S8:()=>g,_Z:()=>n,_k:()=>p,as:()=>A,cN:()=>a,g7:()=>h,k3:()=>O,kD:()=>y,oD:()=>S,uS:()=>P,yI:()=>d,ym:()=>c});let n="raw_components--border--SKh2u",i="raw_components--rowSelectedSecondary---U7Us raw_components--rowSelected--M2Eip",a="raw_components--iconButtonEnabled--WmVk5 raw_components--_iconButton---ybo6",o="raw_components--label--4LcC7 raw_components--base--T7G0z",l="raw_components--labelInactive--tm1fU raw_components--label--4LcC7 raw_components--base--T7G0z",s="raw_components--textInput--t9D8g raw_components--base--T7G0z raw_components--input--JB4Ix raw_components--singleRowHeight--dKM4t",c="raw_components--noPlaceholderLine--KBoD7",d="raw_components--textAreaInput--mi1Ag raw_components--base--T7G0z raw_components--input--JB4Ix raw_components--singleRowHeight--dKM4t",u="raw_components--noLeftBorder--QE-ZB",p="raw_components--squareRightBorder--ktojw",m="raw_components--chevron--nJiSt",_="raw_components--wide--F33jp",h="raw_components--transparentIconButtonEnabled--l2bm3 raw_components--iconButtonEnabled--WmVk5 raw_components--_iconButton---ybo6",g="raw_components--iconButtonDisabled--SoTjK raw_components--_iconButton---ybo6",f="raw_components--iconButtonSelected--bJibL raw_components--_iconButton---ybo6",E="raw_components--outlineButton--FyUoF",y="raw_components--modalPanel--wmDfl",b="raw_components--panel--0lt3E",v="raw_components--singleRow--W5dYN raw_components--_singleRow--yTGIY raw_components--singleRowHeight--dKM4t raw_components--_row--rHucX raw_components--row--NThzm",I="raw_components--row200--Dgjc6 raw_components--row200Height--wotRv raw_components--_row--rHucX",w="raw_components--row150--2Q0-i raw_components--_rowHeight150--ZzVcZ raw_components--_row--rHucX",T="raw_components--labelRow--wxp77 raw_components--singleRow--W5dYN raw_components--_singleRow--yTGIY raw_components--singleRowHeight--dKM4t raw_components--_row--rHucX raw_components--row--NThzm",S="raw_components--rowSelected--M2Eip",C="raw_components--panelTitle--VAQQA",A="raw_components--collapsiblePanelTitle--PXa3p",O="raw_components--panelTitleExtended--GoX-m raw_components--panelTitle--VAQQA",N="raw_components--panelTitleWithTip--iJvZe raw_components--panelTitle--VAQQA",L="raw_components--panelTitleWithTipText--o5oVa",R="raw_components--panelTitleWithTipIcon---l6SX",P="raw_components--panelTitleFaded--cUUkM raw_components--panelTitle--VAQQA",M="raw_components--panelIconContainer--V9E3Z"},137036:(e,t,r)=>{"use strict";r.d(t,{A$:()=>N,AX:()=>L,Af:()=>x,Aj:()=>D,CG:()=>M,EB:()=>s,GC:()=>f,GU:()=>i,Ge:()=>T,IJ:()=>g,KY:()=>c,Kc:()=>w,Kk:()=>O,MH:()=>v,ML:()=>p,QV:()=>E,Sw:()=>I,Y7:()=>m,YX:()=>a,Yh:()=>o,ac:()=>S,e4:()=>k,es:()=>P,gL:()=>d,gw:()=>y,ii:()=>b,o7:()=>F,o9:()=>_,ox:()=>R,qQ:()=>A,uI:()=>l,uQ:()=>n,uc:()=>C,wV:()=>U,wZ:()=>h,yy:()=>u});let n="select--container--UJhOt raw_components--singleRowHeight--dKM4t",i="select--hiddenInput--3smCs raw_components--selectHiddenInput--bJ8vl",a="select--safariVoiceover--meUJ0",o="select--input--meQUx raw_components--base--T7G0z raw_components--border--SKh2u raw_components--input--JB4Ix raw_components--singleRowHeight--dKM4t ellipsis--ellipsis--Tjyfa",l="select--inputDisabled--08EdX select--input--meQUx raw_components--base--T7G0z raw_components--border--SKh2u raw_components--input--JB4Ix raw_components--singleRowHeight--dKM4t ellipsis--ellipsis--Tjyfa",s="select--inputTextWrapper--kEwIr",c="select--chevron--KfTY2",d="select--inputWithSvg--t6hLE",u="select--inputAlignRight--5HWz5",p="select--boldActionDropdown--ZAbhZ",m="select--inputSvg--Sqy6u",_="select--inputText--I3JIv select--inputTextWrapper--kEwIr",h="select--inputTextTruncated--j6p-H ellipsis--ellipsis--Tjyfa",g="select--inputTextFill--H3tO-",f="select--dropdownContainer--0zweb _overlayBase--_overlayBase--Rkj8l",E="select--dropdownScrollClip--5ft6D",y="select--dropdown--8DAM-",b="select--dropdownContentWrapper--yDAla",v="select--option--8gulr dropdown--_optionBase--z-REc text--fontNeg12--2PWcg text--_fontBase--QdLsd text--_negText--j9g-L",I="select--divider--HfbAX",w="select--optionFocused--8DSsx select--option--8gulr dropdown--_optionBase--z-REc text--fontNeg12--2PWcg text--_fontBase--QdLsd text--_negText--j9g-L",T="select--optionDisabled--fEanh select--option--8gulr dropdown--_optionBase--z-REc text--fontNeg12--2PWcg text--_fontBase--QdLsd text--_negText--j9g-L",S="select--optionHeader--34zhZ select--option--8gulr dropdown--_optionBase--z-REc text--fontNeg12--2PWcg text--_fontBase--QdLsd text--_negText--j9g-L",C="select--optionTruncatedText--QqUBO",A="select--optionTextRemoveRightPadding--ULI6k",O="select--optionFullWidth--sW3Zl",N="select--optionText--D3BVM select--optionTruncatedText--QqUBO ellipsis--ellipsis--Tjyfa",L="select--rightLabel--I-ojL",R="select--check--xQ8c3",P="select--rightCheck--UdnTu",M="select--rightCheckText--vWTPu",k="select--topScrollIndicator--nys8N select--scrollIndicator--U0Wy-",D="select--bottomScrollIndicator--C7EE7 select--scrollIndicator--U0Wy-",F="select--scrollIndicatorChevron--9-te-",x="select--optionIcon--yngNx",U="select--iconToReplaceCheck--MMwXJ"},664056:(e,t,r)=>{"use strict";r.d(t,{KE:()=>i,KY:()=>c,Yh:()=>s,cb:()=>l,gp:()=>a,s7:()=>n,u6:()=>o});let n="stack_layout_details_modal--controls--SFjhS",i="stack_layout_details_modal--dropdownControl--PRPD5",a="stack_layout_details_modal--onboardingBody--SQp9T",o="stack_layout_details_modal--onboardingFooter--zfQ2X",l="stack_layout_details_modal--onboardingImg--4Uak-",s="stack_layout_details_modal--input--h2Yc7",c="stack_layout_details_modal--chevron--tW9wo"},868976:(e,t,r)=>{"use strict";r.d(t,{E$:()=>f,Eo:()=>d,GG:()=>l,OQ:()=>i,Ov:()=>g,Y3:()=>c,YX:()=>m,Yl:()=>s,aK:()=>_,aq:()=>p,cF:()=>u,iS:()=>o,is:()=>n,wl:()=>h,y6:()=>E,yO:()=>a});let n="states_panel--selectPropertyRow--WgdpJ raw_components--_row--rHucX",i="states_panel--selectPropertyLabel--yEdA7",a="states_panel--indentedSelectPropertyLabel--VJ5Tf states_panel--selectPropertyLabel--yEdA7",o="states_panel--indentedExtendedSelectPropertyLabel--42OP1 states_panel--selectPropertyLabel--yEdA7",l="states_panel--selectPropertyDropdown--3zHBh",s="states_panel--selectExtendedPropertyDropdown--mcjM0",c="states_panel--toggleContainer--aBTvd raw_components--singleRowHeight--dKM4t",d="states_panel--toggleExtendedContainer--4-k9b raw_components--singleRowHeight--dKM4t",u="states_panel--errorStateWithCloseButtonBox--jayB0",p="states_panel--errorStateBoxFlush--LYAGK states_panel--errorStateBox--AYnRU",m="states_panel--errorStateBoxRegular--nhPoJ states_panel--errorStateBox--AYnRU",_="states_panel--errorStateBoxHeader--zgSnc",h="states_panel--errorStateBoxTitle--pZ8tj",g="states_panel--errorStateBoxWarningIcon--5BPCj",f="states_panel--errorStateBoxLink--N1Bq6",E="states_panel--instanceSwapConsumptionPanel--OeQdP"},498970:(e,t,r)=>{"use strict";r.d(t,{AB:()=>v,An:()=>I,Ax:()=>R,Eh:()=>f,Ib:()=>a,Id:()=>b,Iz:()=>O,Je:()=>E,MF:()=>N,QX:()=>y,Qj:()=>A,Ux:()=>u,Yf:()=>n,Yr:()=>l,a4:()=>s,ag:()=>p,eW:()=>m,g6:()=>d,gD:()=>c,mQ:()=>T,mS:()=>C,oD:()=>L,oN:()=>h,oR:()=>g,qD:()=>o,qQ:()=>_,q_:()=>i,wZ:()=>w,wt:()=>S});let n="ui3_rows--rowGrabber--LEdtF",i="ui3_rows--rowGrabberDragging--SzSmY ui3_rows--rowGrabber--LEdtF",a="ui3_rows--ui3ToggleInputRow--Vw5k8 ui3_rows--_row--DnZFk ui3_rows--_grid--cP2Wu",o="ui3_rows--ui3RowLabelSecond--saDrr ui3_rows--_ui3OrderedRowLabel--zh7nh ui3_rows--_ui3RowLabelBase--wNPq0",l="ui3_rows--ui3RowLabelFirst--vgDpj ui3_rows--_ui3OrderedRowLabel--zh7nh ui3_rows--_ui3RowLabelBase--wNPq0",s="ui3_rows--ui3RowInlineLabel--vXbsB",c="ui3_rows--ui3TwoInputOneIconRow--jbrpq ui3_rows--_row--DnZFk ui3_rows--_grid--cP2Wu",d="ui3_rows--ui3RowIcon--3iLFx",u="ui3_rows--ui3RowInput1--njeCl",p="ui3_rows--ui3RowInput2--6COuW",m="ui3_rows--ui3TwoInputOneIconDoubleRow--m2CU0 ui3_rows--ui3TwoInputOneIconRow--jbrpq ui3_rows--_row--DnZFk ui3_rows--_grid--cP2Wu",_="ui3_rows--ui3TwoRow--5SdCR",h="ui3_rows--ui3TwoInputRow--i9pko ui3_rows--ui3TwoInputOneIconRow--jbrpq ui3_rows--_row--DnZFk ui3_rows--_grid--cP2Wu",g="ui3_rows--ui3OneInputOneIconRow--SMoQ9 ui3_rows--_row--DnZFk ui3_rows--_grid--cP2Wu",f="ui3_rows--ui3OneIconOneInputTwoIconRow--XFaZl ui3_rows--_row--DnZFk ui3_rows--_grid--cP2Wu",E="ui3_rows--ui3RowInput--fFlpS",y="ui3_rows--ui3RowIcon1--C8EPS",b="ui3_rows--ui3RowIcon2--sXIvf",v="ui3_rows--ui3RowIcon3--DlHQY",I="ui3_rows--ui3OneInputTwoIconRow--Dvqj6 ui3_rows--_row--DnZFk ui3_rows--_grid--cP2Wu",w="ui3_rows--ui3FirstInput--7IqAC",T="ui3_rows--ui3LeftIcon--NcU3i",S="ui3_rows--ui3RightIcon--HmYd-",C="ui3_rows--manyIcons--OIw9V",A="ui3_rows--ui3OneInputManyIconRow--7-5K- ui3_rows--_row--DnZFk ui3_rows--_grid--cP2Wu",O="ui3_rows--ui3OneInputRow--Vb42b ui3_rows--_row--DnZFk ui3_rows--_grid--cP2Wu",N="ui3_rows--ui3LabelInputRow--NwfYX ui3_rows--_row--DnZFk ui3_rows--_grid--cP2Wu",L="ui3_rows--rowSelected--CvaaG raw_components--rowSelected--M2Eip",R="ui3_rows--rowSelectedSecondary--7nHww raw_components--rowSelectedSecondary---U7Us raw_components--rowSelected--M2Eip"},854004:(e,t,r)=>{"use strict";r.d(t,{I9:()=>p,J2:()=>s,OS:()=>o,Oc:()=>m,TT:()=>d,kF:()=>a,kH:()=>l,kb:()=>u,kz:()=>n,wV:()=>i,yU:()=>c});let n="quick_actions_component_search--grid--ViFOI",i="quick_actions_component_search--list--oEVxX",a="quick_actions_component_search--header--vxsAF",o="quick_actions_component_search--loading--3-dhs",l="quick_actions_component_search--loadingSpinner--IwExg",s="quick_actions_component_search--noResults--2jsYe",c="quick_actions_component_search--noResultsText--8m7-y text--fontPos13--xW8hS text--_fontBase--QdLsd",d="quick_actions_component_search--results--jK5VZ",u="quick_actions_component_search--resultItemList--w8FKY",p="quick_actions_component_search--insertSquare--SJWGe text--fontPos11--2LvXf text--_fontBase--QdLsd",m="quick_actions_component_search--noPointerEvents--1LzxQ"},703072:(e,t,r)=>{"use strict";r.d(t,{C6:()=>E,Co:()=>v,Ep:()=>w,I6:()=>d,O8:()=>_,Qb:()=>s,Qn:()=>c,Sq:()=>I,Su:()=>b,Sy:()=>m,WK:()=>o,WU:()=>y,Wk:()=>u,aG:()=>l,aS:()=>g,c9:()=>n,em:()=>f,gd:()=>h,i4:()=>p,k$:()=>a,kv:()=>i});let n="quick_actions--floating--uGf99 text--fontPos13--xW8hS text--_fontBase--QdLsd",i="quick_actions--search---Oi-e quick_actions--centerItemsVertically--Nb6JD",a="quick_actions--searchInput--PSRk5",o="quick_actions--noresult--NZsEA quick_actions--centerItemsVertically--Nb6JD",l="quick_actions--result--a2QFG quick_actions--centerItemsVertically--Nb6JD",s="quick_actions--resultActive--JnXEf quick_actions--result--a2QFG quick_actions--centerItemsVertically--Nb6JD",c="quick_actions--resultDisabled--Zuza5",d="quick_actions--searchIcon--prXl4",u="quick_actions--pluginIcon--oSF9D",p="quick_actions--iconHolder--dMD0c quick_actions--centerItemsVertically--Nb6JD",m="quick_actions--pluginIconSvg--WMsjq",_="quick_actions--rightChevronIcon--1S5oG",h="quick_actions--resultTextHolder--kfqzE quick_actions--centerItemsVertically--Nb6JD",g="quick_actions--resultText--x40-- text--fontPos13--xW8hS text--_fontBase--QdLsd",f="quick_actions--shortcut--GMKpE text--fontPos13--xW8hS text--_fontBase--QdLsd quick_actions--centerItemsVertically--Nb6JD",E="quick_actions--itemCheckedDisabled--nl8jU",y="quick_actions--itemChecked--zTpUC",b="quick_actions--tabShortcutIcon--f-UdB quick_actions--keyIcon--GFkIK",v="quick_actions--developmentPluginLabel--nhw9I text--fontPos9--naThA text--_fontBase--QdLsd quick_actions--centerItemsVertically--Nb6JD",I="quick_actions--keyLabel--pZTZK",w="quick_actions--checkbox--g-nqt"},153180:(e,t,r)=>{"use strict";r.r(t),r.d(t,{activeButton:()=>l,chevron:()=>E,delightfulMenu:()=>c,disabledButton:()=>o,enabledButton:()=>a,flyout:()=>d,flyoutButton:()=>m,flyoutDropdownShown:()=>u,fullHeightSidebarFlyout:()=>p,fullHeightSidebarFlyoutButton:()=>_,fullHeightSidebarFlyoutChevron:()=>h,fullHeightSidebarFlyoutDropdownShown:()=>g,grid:()=>f,pointingDropdown:()=>s,selected:()=>i,updatesBadge:()=>n});let n="toolbar_styles--updatesBadge--NbkFp",i="toolbar_styles--selected--zUa6K",a="toolbar_styles--enabledButton--fEwmC",o="toolbar_styles--disabledButton--wv8Iu",l="toolbar_styles--activeButton--YHzcB",s="toolbar_styles--pointingDropdown--6rrL3",c="toolbar_styles--delightfulMenu--A6bY7",d="toolbar_styles--flyout--S3qfl",u="toolbar_styles--flyoutDropdownShown--WU8JV",p="toolbar_styles--fullHeightSidebarFlyout--d9LJ3 toolbar_styles--flyout--S3qfl",m="toolbar_styles--flyoutButton--lyOUg",_="toolbar_styles--fullHeightSidebarFlyoutButton--dU4LR toolbar_styles--flyout--S3qfl",h="toolbar_styles--fullHeightSidebarFlyoutChevron--aENEg",g="toolbar_styles--fullHeightSidebarFlyoutDropdownShown--rT9w3 toolbar_styles--flyoutDropdownShown--WU8JV",f="toolbar_styles--grid--M8sVG",E="toolbar_styles--chevron--3YF14"},596392:(e,t,r)=>{"use strict";r.d(t,{Ac:()=>O,Ah:()=>_,Ay:()=>S,Bn:()=>y,E$:()=>c,Ed:()=>C,Ep:()=>n,KU:()=>P,MX:()=>m,Mv:()=>T,OM:()=>i,OS:()=>l,Oy:()=>M,Q1:()=>o,Q5:()=>V,Qf:()=>p,SW:()=>d,Sq:()=>I,UG:()=>D,Ux:()=>b,Y9:()=>R,_Q:()=>H,_t:()=>w,ac:()=>N,ai:()=>U,eA:()=>A,eE:()=>F,eS:()=>E,eo:()=>B,gH:()=>h,gd:()=>s,kX:()=>u,ku:()=>f,m2:()=>L,mk:()=>g,oz:()=>k,qc:()=>a,qe:()=>x,s1:()=>v,uo:()=>W,yh:()=>G});let n="toolbar_view--toolbar--RuPI6",i="toolbar_view--toolbarTransparent--wNgal",a="toolbar_view--insetForRulers--YtCJE",o="toolbar_view--figjamBorder--KF3VY",l="toolbar_view--loading--fU68L",s="toolbar_view--hidden--eM-fR",c="toolbar_view--buttonGroup--UA9-B",d="toolbar_view--leftButtonGroup--qkjBh",u="toolbar_view--rightButtonGroup--weV86",p="toolbar_view--pillStyle---KKcU",m="toolbar_view--hideTools--No4T8",_="toolbar_view--centerButtonGroup--kxpQA",h="toolbar_view--cachedFilenameViewSubtree--JoP3h",g="toolbar_view--menuButton--nAIP3",f="toolbar_view--fullHeightSidebarsMenuButton--n1GxQ toolbar_view--menuButton--nAIP3",E="toolbar_view--iconButton--1MUm6",y="toolbar_view--wide--Mpb1c",b="toolbar_view--actionButtonContainer--7fDmd",v="toolbar_view--actionButtonBadge--2cmhk",I="toolbar_view--label--O5fOT ellipsis--ellipsis--Tjyfa",w="toolbar_view--textButtonContainer--17OKy",T="toolbar_view--shareButtonBadge--59oG8",S="toolbar_view--shareButtonContainer---NffN",C="toolbar_view--fullHeightSidebarShareButtonContainer--sFbr3 toolbar_view--shareButtonContainer---NffN",A="toolbar_view--shareButton--BQHDt toolbar_view--textButtonContainer--17OKy",O="toolbar_view--shareButtonExtraMargin--UeYnM toolbar_view--shareButton--BQHDt toolbar_view--textButtonContainer--17OKy",N="toolbar_view--shareButtonWorkshop---w1IS",L="toolbar_view--shareButtonLoading--qqvrA",R="toolbar_view--shareButtonPersonalDraftDisabled--agioS toolbar_view--shareButton--BQHDt toolbar_view--textButtonContainer--17OKy",P="toolbar_view--shareButtonFigjamDisabled--QvCqb",M="toolbar_view--textButton--THnFZ basic_form--primaryBtn--AU7Gy basic_form--btn--FSrmp ellipsis--ellipsis--Tjyfa text--fontPos11--2LvXf text--_fontBase--QdLsd",k="toolbar_view--textButtonSecondary--xNQNx button--buttonBase---72nl button--buttonToolbarSecondary--mgdBQ",D="toolbar_view--toolButtonContainer--IRGt-",F="toolbar_view--unreadDotActive--KHyuc",x="toolbar_view--unreadDot--zuWYA",U="toolbar_view--loginButton--kH7Jx",B="toolbar_view--unsavedChangesIconContainer--zEmEv",G="toolbar_view--unsavedChangesIcon--rYfws",V="toolbar_view--missingFontSvg--hHv5S",H="toolbar_view--sidebarCollapseIcon--WaEZ-",W="toolbar_view--focusModeVariantsToggleActiveButton--VqPiO"},606950:(e,t,r)=>{"use strict";r.d(t,{Oq:()=>i,Qz:()=>s,SU:()=>c,Sq:()=>n,e_:()=>l,q2:()=>a,u_:()=>o,yo:()=>d});let n="variable_pill--root--0ibUT",i="variable_pill--pill--NU8eR variable_pill_base--pillBase--HIf9B",a="variable_pill--text--Fm5k5",o="variable_pill--invalid--dxyCJ",l="variable_pill--deletedIcon--QaRlG",s="variable_pill--inferredIcon--eLJef",c="variable_pill--isHovered--qumV3",d="/** @postcss-export-raw */\n\n.variable_pill--root--0ibUT {\n  display: inline-flex;\n  flex-direction: row;\n  align-items: center;\n  gap: 8px;\n  overflow: hidden;\n  max-width: 100%;\n}\n\n.variable_pill--pill--NU8eR {\n  display: flex;\n  gap: 3px;\n}\n\n.variable_pill--text--Fm5k5 {\n  -webkit-user-select: none;\n          user-select: none;\n  flex: 1 1 auto;\n  overflow: hidden;\n}\n\n.variable_pill--invalid--dxyCJ {\n  -webkit-text-decoration: line-through;\n  text-decoration: line-through;\n}\n\n.variable_pill--deletedIcon--QaRlG {\n  fill: var(--color-icon-secondary);\n}\n\n.variable_pill--inferredIcon--eLJef {\n  fill: var(--color-icon-secondary);\n}\n\n.variable_pill--inferredIcon--eLJef:hover {\n    fill: var(--color-icon-tertiary-hover);\n  }\n\n.variable_pill--root--0ibUT.variable_pill--isHovered--qumV3 .variable_pill--inferredIcon--eLJef {\n  fill: var(--color-icon-tertiary-hover);\n}\n"},597416:(e,t,r)=>{"use strict";r.d(t,{AP:()=>a,Ky:()=>c,M7:()=>d,Mu:()=>o,Os:()=>n,ij:()=>i,kr:()=>l,uE:()=>s,yC:()=>u,yo:()=>p});let n="variable_pill_base--pillBase--HIf9B",i="variable_pill_base--pillHasIcon--qR8Mw",a="variable_pill_base--pillDefault--5YSwx",o="variable_pill_base--pillDisableHover--A9znd",l="variable_pill_base--pillDisabled--Xci9C",s="variable_pill_base--pillDisabledTertiary--C2fJb",c="variable_pill_base--pillSelected--WuPhz",d="variable_pill_base--pillInSelection--HupPT",u="variable_pill_base--pillNarrow--Oai69",p="/** @postcss-export-raw */\n\n.variable_pill_base--pillBase--HIf9B {\n  align-items: center;\n  border-radius: 4px;\n  border-width: 1px;\n  border-style: solid;\n  box-sizing: border-box;\n  height: 20px;\n  overflow: hidden;\n  padding: 0 5px;\n  display: inline;\n}\n\n.variable_pill_base--pillBase--HIf9B.variable_pill_base--pillHasIcon--qR8Mw {\n    padding: 0 5px 0 3px;\n  }\n\n.variable_pill_base--pillBase--HIf9B.variable_pill_base--pillDefault--5YSwx {\n    color: var(--color-text);\n    background-color: var(--color-bg-secondary);\n    border-color: var(--color-border);\n  }\n\n.variable_pill_base--pillBase--HIf9B.variable_pill_base--pillDefault--5YSwx:not(.variable_pill_base--pillDisableHover--A9znd):hover {\n      background-color: var(--color-bg-tertiary);\n      border-color: var(--color-bg-tertiary);\n    }\n\n.variable_pill_base--pillBase--HIf9B.variable_pill_base--pillDisabled--Xci9C {\n    color: var(--color-text-disabled);\n    background-color: var(--color-bg-secondary);\n    border-color: var(--color-border);\n  }\n\n.variable_pill_base--pillBase--HIf9B.variable_pill_base--pillDisabled--Xci9C:not(.variable_pill_base--pillDisableHover--A9znd):hover {\n      background-color: var(--color-bg);\n      border-color: var(--color-border);\n    }\n\n.variable_pill_base--pillBase--HIf9B.variable_pill_base--pillDisabledTertiary--C2fJb {\n    color: var(--color-text-tertiary);\n    background-color: var(--color-bg);\n    border-color: var(--color-border);\n  }\n\n.variable_pill_base--pillBase--HIf9B.variable_pill_base--pillSelected--WuPhz {\n    color: var(--color-text);\n    background-color: var(--color-bg-selected);\n    border-color: var(--color-border-selected);\n  }\n\n.variable_pill_base--pillBase--HIf9B.variable_pill_base--pillInSelection--HupPT {\n    color: var(--color-text);\n    background-color: var(--color-bg-onselected);\n    border-color: var(--color-border-onselected);\n  }\n\n.variable_pill_base--pillBase--HIf9B.variable_pill_base--pillNarrow--Oai69 {\n    padding: 0 2px;\n  }\n\n[data-fpl-version='ui3'] .variable_pill_base--pillBase--HIf9B {\n    height: var(--spacer-3);\n    border-radius: var(--radius-medium);\n    padding: var(--spacer-0) var(--spacer-1);\n  }\n"},550072:(e,t,r)=>{"use strict";r.d(t,{A$:()=>s,AZ:()=>c,Cy:()=>i,EJ:()=>d,WW:()=>o,a0:()=>l,sq:()=>n,uu:()=>a});let n="go_to_stripe_button--button--7wJjr",i="go_to_stripe_button--buttonConstrained--f8nDf",a="go_to_stripe_button--badge--aJn3P text--fontPos12--YsUAh text--_fontBase--QdLsd",o="go_to_stripe_button--warningIcon--eeAU7",l="go_to_stripe_button--bannerContainer--QiRC1",s="go_to_stripe_button--bannerContainerWarning--pqfuE go_to_stripe_button--bannerContainer--QiRC1",c="go_to_stripe_button--updatePaymentText--OJxG9 text--fontPos11--2LvXf text--_fontBase--QdLsd",d="go_to_stripe_button--bannerRight--pD3Zz"},595580:(e,t,r)=>{"use strict";r.d(t,{Ko:()=>i,_W:()=>a,yq:()=>n});let n="dock--dock--A6jIs",i="dock--dockDesign--kbym5 dock--dock--A6jIs",a="dock--dockLeft--fAueV dock--dock--A6jIs"},980328:(e,t,r)=>{"use strict";r.d(t,{Ge:()=>n,YD:()=>i,e7:()=>s,gT:()=>l,kH:()=>c,kr:()=>o,wP:()=>a});let n="figjam_plugin_detail_in_editor--metadataContainer--qQ5Hi",i="figjam_plugin_detail_in_editor--coverImageNotDraggable---pwfP",a="figjam_plugin_detail_in_editor--resourceUsageDetails--SGXXh",o="figjam_plugin_detail_in_editor--description--a03k0 text--fontPos13--xW8hS text--_fontBase--QdLsd",l="figjam_plugin_detail_in_editor--communityLinkBase--9ekc6",s="figjam_plugin_detail_in_editor--communityLinkIcon---FG3j text--fontPos11--2LvXf text--_fontBase--QdLsd",c="figjam_plugin_detail_in_editor--loadingSpinner--D-Bwn browse_resources_modal--loadingSpinner--pMJQa"},939164:(e,t,r)=>{"use strict";r.d(t,{AH:()=>H,AL:()=>f,Ab:()=>K,CA:()=>T,CM:()=>m,EH:()=>h,ER:()=>u,GC:()=>l,IV:()=>I,Ij:()=>O,In:()=>S,K2:()=>o,KY:()=>_,O:()=>p,Q5:()=>g,Q9:()=>B,QN:()=>P,Qv:()=>b,SU:()=>x,U$:()=>i,UF:()=>F,Y3:()=>C,YL:()=>d,_K:()=>V,e0:()=>N,e8:()=>y,fH:()=>D,g$:()=>v,iS:()=>k,mm:()=>R,ol:()=>E,q0:()=>s,qZ:()=>A,q_:()=>L,uA:()=>M,uk:()=>w,wJ:()=>W,wV:()=>G,y$:()=>n,y4:()=>a,y_:()=>c,yu:()=>U});let n="resource_tiles--showOnHover--2v687",i="resource_tiles--figjamPluginRowIconHoverBg--0GjEb",a="resource_tiles--fauxFocused--Tk7MC",o="resource_tiles--optionsButtonActive--CnmDE resource_tiles--optionsButton--B7MN2",l="resource_tiles--optionsButtonShowOnHover--kJQHm resource_tiles--optionsButton--B7MN2 resource_tiles--showOnHover--2v687",s="resource_tiles--pluginTitleBadgeContainer--Q-9cz",c="resource_tiles--browsePluginTile--Dl1N0 resource_tiles--_browsePluginTileBase--V7a7Y resource_tiles--_browseTileBase--7oogR resource_tiles--_parentWithHoverAction--m180X",d="resource_tiles--pluginTileIcon--rmGOy resource_tiles--_browseTileIconBase--DDmKv",u="resource_tiles--pluginTileMeta--xgpJR",p="resource_tiles--browsePluginTileDevModeWizard--ApW9E",m="resource_tiles--browsePluginTileSmall--t70Gg resource_tiles--_browsePluginTileBase--V7a7Y resource_tiles--_browseTileBase--7oogR resource_tiles--_parentWithHoverAction--m180X",_="resource_tiles--pluginTileIconLoading--mas66 resource_tiles--pluginTileIcon--rmGOy resource_tiles--_browseTileIconBase--DDmKv",h="resource_tiles--pluginTileName--9Isog text--fontPos12--YsUAh text--_fontBase--QdLsd ellipsis--ellipsis--Tjyfa",g="resource_tiles--pluginTileSubheader--Fihho text--fontPos11--2LvXf text--_fontBase--QdLsd ellipsis--ellipsis--Tjyfa",f="resource_tiles--pluginTileCommunityDescription__OLD--AQ2X1 ellipsis--ellipsis--Tjyfa",E="resource_tiles--pluginTileCommunityDescription--TiroQ ellipsis--ellipsis--Tjyfa",y="resource_tiles--communityTilePublisherAndMetrics--49SDI",b="resource_tiles--ctaButtonContainer--z2HxW",v="resource_tiles--priceBadgeContainer--6O7DF",I="resource_tiles--widgetMonetizationBadge--hXbF6",w="resource_tiles--ctaButton--qu-bG",T="resource_tiles--cta--JU9XJ text--fontPos12--YsUAh text--_fontBase--QdLsd",S="resource_tiles--buttonSubmenuChevron--af8r9",C="resource_tiles--buttonSubmenuChevronWhite--c7pTT resource_tiles--buttonSubmenuChevron--af8r9",A="resource_tiles--rowChevron--tIIjl",O="resource_tiles--widgetTileSmall--gtI7m resource_tiles--_widgetTileBase--pKu3B resource_tiles--_browseTileBase--7oogR resource_tiles--_parentWithHoverAction--m180X text--fontPos11--2LvXf text--_fontBase--QdLsd",N="resource_tiles--widgetTile--OjUTk resource_tiles--_widgetTileBase--pKu3B resource_tiles--_browseTileBase--7oogR resource_tiles--_parentWithHoverAction--m180X text--fontPos12--YsUAh text--_fontBase--QdLsd",L="resource_tiles--widgetTileIconSmall--Dox02 resource_tiles--_widgetTileIconBase--vgb2t resource_tiles--_browseTileIconBase--DDmKv",R="resource_tiles--widgetTileIcon--hGlOB resource_tiles--_widgetTileIconBase--vgb2t resource_tiles--_browseTileIconBase--DDmKv",P="resource_tiles--widgetTileMetadata--Ggrsh",M="resource_tiles--widgetTileNameContainer--HqAEf",k="resource_tiles--widgetTileName--hvW06 ellipsis--ellipsis--Tjyfa",D="resource_tiles--widgetTileSubheader--7-TT- ellipsis--ellipsis--Tjyfa text--fontPos11--2LvXf text--_fontBase--QdLsd",F="resource_tiles--paymentErrorIcon--w-8j9",x="resource_tiles--widgetTileDescription--Nbm5J ellipsis--ellipsis--Tjyfa",U="resource_tiles--developmentIcon--cQxaQ",B="resource_tiles--relativeContainer--7lvHF",G="resource_tiles--redDot---lNFV red_dot--baseRedDot--AZelu",V="resource_tiles--saveButtonEditorSmall--Jt970 resource_tiles--_saveButton--mDwpY",H="resource_tiles--saveButtonVisible---tZad",W="resource_tiles--saveButtonEditorLarge--nKxZq resource_tiles--_saveButton--mDwpY",K="resource_tiles--svg16--B1UCN"},451776:(e,t,r)=>{"use strict";r.d(t,{C4:()=>M,CM:()=>g,E$:()=>f,GM:()=>C,GO:()=>v,Il:()=>a,Iz:()=>A,MT:()=>p,Mr:()=>n,Qf:()=>y,Qx:()=>I,SQ:()=>l,Sq:()=>u,U$:()=>R,UP:()=>P,Ut:()=>m,W8:()=>s,aO:()=>L,ec:()=>w,iC:()=>c,iS:()=>O,ic:()=>S,kl:()=>o,mA:()=>b,or:()=>T,uM:()=>_,ug:()=>d,uu:()=>h,wJ:()=>i,wL:()=>N,yR:()=>E});let n="bug_reporter_modal--draggableModalHeader--0xz5X",i="bug_reporter_modal--dragTarget--PzWPP",a="bug_reporter_modal--dragOverlay---tMtc",o="bug_reporter_modal--modal--V8CL-",l="bug_reporter_modal--asanaSection--71SIy",s="bug_reporter_modal--asanaHint--I0Tif",c="bug_reporter_modal--testWarning--2XO-z",d="bug_reporter_modal--warningLink--Gqqm8",u="bug_reporter_modal--label--2Af-p",p="bug_reporter_modal--textInput--VxO4j",m="bug_reporter_modal--textArea--CzoUf",_="bug_reporter_modal--checkboxContainer--CWL2-",h="bug_reporter_modal--checkboxInfo--XiaW-",g="bug_reporter_modal--checkboxTooltip--tIWTn",f="bug_reporter_modal--buttonGroup--tQlZ-",E="bug_reporter_modal--buttonGroupLeftAlign--rsxni",y="bug_reporter_modal--successHeader--AM-rR",b="bug_reporter_modal--linkSection--gq4vQ",v="bug_reporter_modal--successLink--1HN6S",I="bug_reporter_modal--slackButtonInfo--sWMTm",w="bug_reporter_modal--openSlackButton---N1SM",T="bug_reporter_modal--modalDragging--YuLUg",S="bug_reporter_modal--fileUpload--R3LW- bug_reporter_modal--flexCenter--4wKHZ bug_reporter_modal--attachmentSize--HLvfi",C="bug_reporter_modal--attachmentSection--t-gf-",A="bug_reporter_modal--attachmentContainer--XtbdG bug_reporter_modal--attachmentSize--HLvfi",O="bug_reporter_modal--attachmentPreview--pXBtw",N="bug_reporter_modal--overlay--27tuj bug_reporter_modal--flexCenter--4wKHZ",L="bug_reporter_modal--removeIcon--a8Bv2",R="bug_reporter_modal--announcementModal--KdDe3",P="bug_reporter_modal--announcementHeader--SCdu3",M="bug_reporter_modal--announcementContent--E6PRP"},664928:(e,t,r)=>{"use strict";r.d(t,{AD:()=>h,C6:()=>s,ER:()=>_,I5:()=>m,IH:()=>B,In:()=>x,Ky:()=>c,MJ:()=>M,OY:()=>l,Q7:()=>A,S8:()=>k,UF:()=>g,Up:()=>v,WI:()=>I,We:()=>G,aG:()=>p,aM:()=>w,aS:()=>o,cD:()=>d,cp:()=>V,cr:()=>f,gV:()=>u,gZ:()=>n,hA:()=>T,i4:()=>b,kR:()=>O,mI:()=>S,mO:()=>R,ob:()=>y,oz:()=>F,q6:()=>C,qC:()=>U,qM:()=>D,qc:()=>P,sP:()=>E,sT:()=>i,u2:()=>L,wz:()=>N,yy:()=>a});let n="8px",i="pointer_modal--announcementPointerModalDark--9DD-M pointer_modal--announcementPointerModal---X9Ui",a="pointer_modal--closeButton--yKnli",o="pointer_modal--closeButtonExtraSpacing--e8erM",l="pointer_modal--announcementPointerModalLight--AaKLA pointer_modal--announcementPointerModal---X9Ui",s="pointer_modal--pointerModalBlue--9Jjg8 pointer_modal--pointerModal--wrpFz",c="pointer_modal--walkThroughModal--6eTVS pointer_modal--pointerModal--wrpFz",d="pointer_modal--walkThroughModalAnimateFast--Xm453 pointer_modal--walkThroughModal--6eTVS pointer_modal--pointerModal--wrpFz",u="pointer_modal--closeButtonWhite--nj2uk",p="pointer_modal--primaryCtaButtonLight--WnZAX pointer_modal--primaryCtaButton--Snffw",m="pointer_modal--primaryCtaButtonDark--ZWijN pointer_modal--primaryCtaButton--Snffw",_="pointer_modal--ctaButtonDiv--kXQXv",h="pointer_modal--secondaryCtaButtonLight---Dv4E pointer_modal--secondaryCtaButton--Jg0Yu",g="pointer_modal--secondaryCtaButtonDark--dKbwo pointer_modal--secondaryCtaButton--Jg0Yu",f="pointer_modal--footerDiv--JtCDN",E="pointer_modal--ctaContainer--luZLz",y="pointer_modal--connectorModal--Adxkh",b="pointer_modal--normal--BIIPY",v="pointer_modal--shadow--wdDMe",I="pointer_modal--bold--cXTTH",w="pointer_modal--zDom--ODE-k",T="pointer_modal--zCanvas--UhXWk",S="pointer_modal--connector--6LWaP",C="pointer_modal--top--FKowX",A="pointer_modal--bottom--eio8M",O="pointer_modal--left--1j5Nt",N="pointer_modal--right--nwMNE",L="pointer_modal--verticalConnectorLine---AFah",R="pointer_modal--horizontalConnectorLine--y5InX",P="pointer_modal--connectorNode--diOtX",M="pointer_modal--noMotion--YIicU",k="pointer_modal--topTriangleBackground--bAkvB pointer_modal--topTriangle--eTQ3K",D="pointer_modal--topTriangleForeground--BZxHM pointer_modal--topTriangle--eTQ3K",F="pointer_modal--bottomTriangleBackground--GHZc5 pointer_modal--bottomTriangle--iDHi9",x="pointer_modal--bottomTriangleForeground--2hiBJ pointer_modal--bottomTriangle--iDHi9",U="pointer_modal--rightTriangleBackground--fw0l3 pointer_modal--rightTriangle--rQltw",B="pointer_modal--rightTriangleForeground--ReV7J pointer_modal--rightTriangle--rQltw",G="pointer_modal--leftTriangleBackground--GAtIC pointer_modal--leftTriangle--p5eQp",V="pointer_modal--leftTriangleForeground--shkXU pointer_modal--leftTriangle--p5eQp"},547328:(e,t,r)=>{"use strict";r.d(t,{Co:()=>l,Cw:()=>v,Ep:()=>m,GU:()=>n,I$:()=>g,It:()=>a,KO:()=>y,OA:()=>p,OV:()=>T,QD:()=>E,U$:()=>w,Up:()=>i,cZ:()=>C,gN:()=>d,gn:()=>I,hy:()=>u,iq:()=>_,kH:()=>A,kf:()=>s,kl:()=>f,m_:()=>h,s1:()=>S,sn:()=>c,uw:()=>b,xh:()=>o});let n="rcs_components--content--N7eCo text--fontPos11--2LvXf text--_fontBase--QdLsd",i="rcs_components--content_v2--e-qFs text--fontPos11--2LvXf text--_fontBase--QdLsd",a="rcs_components--contentMobile--D3SLD text--fontPos13--xW8hS text--_fontBase--QdLsd",o="rcs_components--contentFeatureUpdate--BQecL text--fontPos11--2LvXf text--_fontBase--QdLsd rcs_components--contentLarge--1qHKL rcs_components--leftRightContent--5yuzu",l="rcs_components--imgContainer--JofI3",s="rcs_components--footer--l5bb0",c="rcs_components--footer_v3--3EWin",d="rcs_components--footerStepCounter--jKzRi",u="rcs_components--buttonRow--OfMRY",p="rcs_components--closeButtonDefault--q8cPK rcs_components--closeButtonBase--wooGI",m="rcs_components--closeButtonOnLight--rFK2o rcs_components--closeButtonBase--wooGI",_="rcs_components--closeButtonMobileOnLight--jElEv rcs_components--closeButtonOnLight--rFK2o rcs_components--closeButtonBase--wooGI",h="rcs_components--closeButtonOnDark--SRWWX rcs_components--closeButtonBase--wooGI",g="rcs_components--closeButtonHighContrast--Dlf2s rcs_components--closeButtonBase--wooGI",f="rcs_components--modal--sgfHP",E="rcs_components--mobileModal--yvxOb",y="rcs_components--welcomeSequenceModal--TOyd- rcs_components--overflowingModal--QrH-H",b="rcs_components--fullscreenBackground--tIex6",v="rcs_components--fullscreenWelcomeSequenceModal--cuKAh rcs_components--welcomeSequenceModal--TOyd- rcs_components--overflowingModal--QrH-H",I="rcs_components--modalAnimateIn--zcZjW",w="rcs_components--bottomRightModalContainer--KnCz8",T="rcs_components--centerModalContainer--V6MlJ",S="rcs_components--centerModalContainerInner--j4P5U",C="rcs_components--ctaButton--5FSzm",A="rcs_components--loadingSpinner--rOHo1"},809080:(e,t,r)=>{"use strict";r.d(t,{A5:()=>_,IH:()=>c,K0:()=>g,M9:()=>u,MN:()=>i,U7:()=>h,W8:()=>s,WI:()=>n,WW:()=>o,Yv:()=>p,ch:()=>m,kH:()=>d,qO:()=>l,yy:()=>a});let n="onboarding--bold--N-fnA",i="onboarding--centeredText--9h5aS",a="onboarding--closeButton--cqvr-",o="onboarding--promoPointerTitle--Z1b9a text--fontPos13--xW8hS text--_fontBase--QdLsd",l="onboarding--communityDuplicateModal--uG9y7 rcs_components--overflowingModal--QrH-H",s="onboarding--communityDuplicateModalInner--HSIRJ",c="onboarding--dismiss--Vi5jc",d="onboarding--communityNew--kHK85 text--fontPos13--xW8hS text--_fontBase--QdLsd",u="onboarding--communityLandingEditorLeft--FBrzi",p="onboarding--editorOnboardingHeader--Kk5Cb",m="onboarding--landingImgContainer--cGDDW",_="onboarding--inner--iQKer",h="onboarding--lowZIndexPointerModal--9C2QH pointer_modal--pointerModalBlue--9Jjg8 pointer_modal--pointerModal--wrpFz",g="onboarding--shelfSubtitle--juWHB text--fontPos13--xW8hS text--_fontBase--QdLsd"},964992:(e,t,r)=>{"use strict";r.d(t,{CE:()=>w,EN:()=>s,GC:()=>M,Gu:()=>I,KY:()=>m,O0:()=>D,Oo:()=>C,Os:()=>_,QH:()=>E,Qb:()=>d,Qp:()=>O,Si:()=>f,U$:()=>R,Ul:()=>a,W0:()=>L,Wk:()=>k,YR:()=>h,_k:()=>u,aA:()=>g,aC:()=>b,am:()=>N,eo:()=>o,fz:()=>A,iG:()=>P,iL:()=>c,md:()=>y,o9:()=>T,qQ:()=>v,ub:()=>S,yR:()=>l,yW:()=>p,yq:()=>n,z8:()=>i});let n="multi_select_list--actionBar--T9qpZ",i="multi_select_list--actionBarVisible--3rWgr multi_select_list--actionBar--T9qpZ",a="multi_select_list--actionIcon--3FtZB",o="multi_select_list--arrow--CW8ia",l="multi_select_list--scrollContainer--B-Dk-",s="multi_select_list--scrollContent--bCmOd",c="multi_select_list--tableWrapper--pDejK",d="multi_select_list--tableWithNewScrollContext--Iffr4",u="multi_select_list--actionBarContentContainer--lbuSx _overlayBase--_overlayBase--Rkj8l text--fontNeg11--StdFq text--_fontBase--QdLsd text--_negText--j9g-L",p="multi_select_list--dropdownColumn--n-MKQ table--column--974RA",m="multi_select_list--chevron--v5fMB",_="multi_select_list--actionBarContentContainerVisible--AEaW4 multi_select_list--actionBarContentContainer--lbuSx _overlayBase--_overlayBase--Rkj8l text--fontNeg11--StdFq text--_fontBase--QdLsd text--_negText--j9g-L",h="multi_select_list--menuBarLeft--aUL8Q",g="multi_select_list--menuBarRight--ZRnOb",f="multi_select_list--menuBarDropdown--Lf9-4",E="multi_select_list--stickyHeader--FkV5r",y="multi_select_list--stickyHeaderWithBanner--9IDR1 multi_select_list--stickyHeader--FkV5r",b="multi_select_list--headerRow--22Lao",v="multi_select_list--headerRowDisabled--zG4LU multi_select_list--headerRow--22Lao multi_select_list--_disabled--INopV",I="multi_select_list--checkboxColumn--SgkHV",w="multi_select_list--row--nfio-",T="multi_select_list--unselectedCheckbox--KAaaj",S="multi_select_list--rowWithRoundedBorder--im1TP",C="multi_select_list--notFirstRowInSelectedGroup--3m6oH",A="multi_select_list--notLastRowInSelectedGroup--N4myp",O="multi_select_list--emptyState--QQcOE",N="multi_select_list--checkboxMenuButton--9l3KJ multi_select_list--_menuButtonBase--mqxd7",L="multi_select_list--batchActionCount--R41SC",R="multi_select_list--batchActionClear--7q1Vl",P="multi_select_list--actionButton--D2K4w",M="multi_select_list--dropdownColumnDisabled--Ww1Nl table--column--974RA",k="multi_select_list--longList--Oz-Pp",D="multi_select_list--longListDisabled--x8onM multi_select_list--longList--Oz-Pp multi_select_list--_disabled--INopV"},627820:(e,t,r)=>{"use strict";r.d(t,{Ad:()=>u,Cz:()=>_,GC:()=>b,Ib:()=>y,In:()=>a,M7:()=>o,Mm:()=>s,Mt:()=>m,SY:()=>E,ae:()=>I,e0:()=>g,gd:()=>l,i4:()=>v,iA:()=>c,ic:()=>i,md:()=>n,sb:()=>d,wd:()=>f,y0:()=>h,yA:()=>p});let n="voice_users--voiceParticipantAvatar--7mhMG",i="voice_users--overflowRow--dyDR2",a="voice_users--nameAndSuffixContainer--GGoKj",o="voice_users--flexContainer--bWLmT",l="voice_users--flexLeftContainer--EVDRS",s="voice_users--flexRightContainer--Su6EL",c="voice_users--voiceParticipantName--MPxav text--fontPos11--2LvXf text--_fontBase--QdLsd ellipsis--ellipsis--Tjyfa",d="voice_users--participantStatus--cnVtZ",u="voice_users--participantRow--D4Yar",p="voice_users--hoverable--tq5aE",m="voice_users--containsCursor--Wx6C4",_="voice_users--secondaryMenuIconButtonContainer--aAh8o",h="voice_users--secondaryActionsMenuButton--2emFq",g="voice_users--secondaryActionsMenuButtonActive--QoLJK",f="voice_users--multiplayerUserView--7nAcD",E="voice_users--voiceUsersWrapper--83FhS",y="voice_users--voiceUsersOverflowScrollingContainer--KXSUW",b="voice_users--userSuffix--2OgbZ text--fontPos11--2LvXf text--_fontBase--QdLsd",v="voice_users--voiceUserHeadphonesIcon--wLuPW",I="voice_users--mutedContainer--JL7uZ"},918352:(e,t,r)=>{"use strict";r.d(t,{y:()=>n});let n="/** @postcss-export-raw */\n\n/*\n * Stylesheet for all quill editor related content.\n * Branched off of https://cdn.quilljs.com/1.3.6/quill.snow.css\n */\n\n.text-editor {\n  border: 1px solid var(--color-border, #d4d4d4);\n  border-radius: 3px;\n}\n\n.text-editor:focus-within {\n    margin: -1px;\n    border: 2px solid var(--color-border-selected, #0d99ff);\n  }\n\n[data-fpl-version='ui3'] .text-editor {\n    border-radius: var(--radius-medium);\n  }\n\n[data-fpl-version='ui3'] .text-editor:focus-within {\n      margin: var(--spacer-0);\n      border-width: 1px;\n    }\n\n.ql-toolbar button {\n    border: 1px solid transparent;\n    outline: none;\n}\n\n.ql-toolbar button:focus-visible {\n    /* stylelint-disable @figma/color-no-deprecated-theme -- TODO: refactor with semantic token */\n    border: 1px solid var(--fg-focus);\n    /* stylelint-enable @figma/color-no-deprecated-theme */\n    /* stylelint-disable @figma/color-no-deprecated-theme -- TODO: refactor with semantic token */\n    outline: 1px solid var(--fg-focus);\n    /* stylelint-enable @figma/color-no-deprecated-theme */\n    outline-offset: -2px;\n  }\n\n.ql-toolbar button:focus {\n    /* stylelint-disable @figma/color-no-deprecated-theme -- TODO: refactor with semantic token */\n    border: 1px solid var(--fg-focus);\n    /* stylelint-enable @figma/color-no-deprecated-theme */\n    /* stylelint-disable @figma/color-no-deprecated-theme -- TODO: refactor with semantic token */\n    outline: 1px solid var(--fg-focus);\n    /* stylelint-enable @figma/color-no-deprecated-theme */\n    outline-offset: -2px;\n  }\n\n.ql-toolbar button:focus:not(:focus-visible) {\n    border: 1px solid transparent;\n    outline: none;\n  }\n\n.ql-container {\n  box-sizing: border-box;\n  font-size: 11px;\n  font-family: var(--inter-font-family, 'Inter'), sans-serif;\n  height: 100%;\n  margin: 0px;\n  position: relative;\n  background-color: var(--color-bg, transparent);\n}\n\n[data-fpl-version='ui3'] .ql-container {\n    border-radius: var(--radius-medium);\n  }\n\n.ql-clipboard {\n  left: -100000px;\n  height: 1px;\n  overflow-y: hidden;\n  position: absolute;\n  top: 50%;\n}\n\n.ql-hidden {\n  display: none;\n}\n\n/**\n * Editor styling\n */\n\n.ql-editor {\n  box-sizing: border-box;\n  line-height: 1.7;\n  height: 100%;\n  outline: none;\n  overflow-y: auto;\n  padding: 6px;\n  tab-size: 4;\n  -moz-tab-size: 4;\n  text-align: left;\n  white-space: pre-wrap;\n  word-wrap: break-word;\n  max-height: 304px;\n}\n\n[data-fpl-version='ui3'] .ql-editor {\n    padding: calc(var(--spacer-1) - 1px) calc(var(--spacer-2) - 1px);\n  }\n\n/*\n * Styling for rendering the placeholder text. We differ from quill's styling\n * of the placeholder text so that we can support placeholders with multiple\n * lines without overflowing the editor.\n * See https://github.com/quilljs/quill/issues/2413 for more details.\n */\n\n.ql-editor.ql-blank::after {\n  color: var(--color-text-tertiary, #b3b3b3);\n  content: attr(data-placeholder);\n  pointer-events: none;\n  display: block;\n  /* Match editor line-height */\n  margin-top: -1.7em;\n}\n\n:not(.quill_editor--quill-readonly--Jvz-F) > .quill_editor--ql-editor--EzYln {\n  min-height: 80px;\n}\n\n.ql-editor > * {\n  cursor: text;\n}\n\n.ql-editor p,\n.ql-editor ol,\n.ql-editor ul,\n.ql-editor pre,\n.ql-editor blockquote,\n.ql-editor h1,\n.ql-editor h2 {\n  color: var(--color-text, #333333);\n  margin: 0;\n  padding: 0;\n  counter-reset: list-1 list-2 list-3 list-4 list-5 list-6 list-7 list-8 list-9;\n}\n\n.ql-editor strong {\n  font-weight: bold;\n}\n\n.ql-editor h1 {\n  font-size: 18px;\n  font-weight: bold;\n}\n\n.ql-editor h2 {\n  font-size: 14px;\n  font-weight: bold;\n}\n\n.ql-editor em {\n  font-style: italic;\n}\n\n.ql-editor s {\n  -webkit-text-decoration: line-through;\n  text-decoration: line-through;\n}\n\n.ql-editor a {\n  color: var(--color-text-brand, #0d99ff);\n  cursor: pointer;\n}\n\n.ql-editor a:hover {\n    -webkit-text-decoration: underline;\n    text-decoration: underline;\n  }\n\n.ql-editor ol,\n.ql-editor ul {\n  padding-left: 2em;\n  list-style-type: none;\n}\n\n.ql-editor ul > li::before {\n  content: '\\2022';\n}\n\n.ql-editor li::before {\n  display: inline-block;\n  white-space: nowrap;\n  width: 1.2em;\n}\n\n.ql-editor li:not(.ql-direction-rtl)::before {\n  margin-left: -1.5em;\n  margin-right: 0.3em;\n  text-align: right;\n}\n\n.ql-editor ol li {\n  counter-increment: list-0;\n}\n\n.ql-editor ol li::before {\n  content: counter(list-0, decimal) '. ';\n}\n\n.ql-editor code,\n.ql-editor pre.ql-syntax {\n  background-color: var(--color-bg-secondary, #f0f0f0);\n  border-radius: 3px;\n  font-family: 'Roboto Mono';\n}\n\n.ql-editor pre.ql-syntax {\n  padding: 2px 4px;\n  white-space: break-spaces;\n}\n\n.ql-editor code {\n  padding: 0px 4px;\n}\n\n/**\n * Readonly editor styling\n */\n\n.quill-readonly .ql-editor {\n  padding: 0px;\n  font-size: 14px;\n  min-height: none !important;\n  max-height: none;\n}\n\n.quill-readonly .ql-editor h1 {\n  font-size: 24px;\n}\n\n.quill-readonly .ql-editor h2 {\n  font-size: 18px;\n}\n\n/**\n * Toolbar styling\n */\n\n.ql-toolbar {\n  padding-left: 4px;\n  border-top: 1px solid var(--color-border, rgba(0, 0, 0, 0.1));\n  bottom: 0;\n  background: var(--color-bg, #fff);\n}\n\n[data-fpl-version='ui3'] .ql-toolbar {\n    border-radius: var(--spacer-0) var(--spacer-0) var(--radius-medium) var(--radius-medium);\n  }\n\n.ql-toolbar button {\n  background: none;\n  display: inline-block;\n  height: 26px;\n  width: 26px;\n  margin: 4px 1px;\n  box-sizing: border-box;\n  border-radius: 3px;\n}\n\n.ql-toolbar button:hover {\n    background: var(--color-bg-hover, #f0f0f0);\n  }\n\n.ql-toolbar button.ql-active {\n    background: var(--color-bg-selected, #f0f0f0);\n  }\n\n.ql-toolbar svg {\n  float: none;\n  margin: 0 auto;\n}\n\n.ql-toolbar button path {\n  fill: var(--color-icon, #000);\n}\n\n.ql-toolbar button.disabled {\n  background: none;\n}\n\n.ql-toolbar button.disabled:hover {\n    background: none;\n  }\n\n.ql-toolbar button.disabled path {\n  fill: var(--color-icon-disabled, rgba(0, 0, 0, 0.3));\n}\n\n/*\n * Tooltip styling\n */\n\n.ql-tooltip {\n  position: absolute;\n  transform: translateY(10px);\n  z-index: 1;\n  background-color: var(--color-bg-tooltip, #fff);\n  border: 1px solid var(--color-border-tooltip, #d4d4d4);\n  box-shadow: 0px 4px 14px var(--color-border-tooltip, rgba(0, 0, 0, 0.1));\n  color: var(--color-text-tooltip, #333333);\n  white-space: nowrap;\n  border-radius: 3px;\n}\n\n.ql-tooltip.ql-editing input[type='text'] {\n  background-color: var(--color-bg-tooltip, transparent);\n  display: inline-block;\n  font-size: 12px;\n  color: var(--color-text-tooltip, #333333);\n  height: 28px;\n  margin: 0px;\n  width: 170px;\n  padding: 0px 12px;\n  border-radius: 3px;\n}\n\n.ql-tooltip a.ql-preview {\n  display: inline-block;\n  overflow-x: hidden;\n  text-overflow: ellipsis;\n  vertical-align: top;\n  padding-left: 12px;\n  width: 170px;\n  padding: 7px 12px;\n  color: var(--color-text-tooltip, #333333);\n}\n\n.ql-tooltip a.ql-action {\n  padding: 7px 0px;\n  width: 54px;\n  border-left: 1px solid var(--color-border-tooltip, #d4d4d4);\n  display: inline-block;\n  text-align: center;\n  -webkit-text-decoration: none;\n  text-decoration: none;\n}\n\n.ql-tooltip a.ql-action::after {\n  content: 'Edit';\n  font-size: 12px;\n}\n\n.ql-tooltip.ql-editing a.ql-action::after {\n  border-right: 0px;\n  content: 'Save';\n  padding-right: 0px;\n}\n\n/* Input should only be shown when we are in edit mode (ie. has .ql-editing) */\n\n.ql-tooltip input[type=text],\n\n.ql-tooltip.ql-editing a.ql-preview,\n.ql-tooltip.ql-editing a.ql-preview,\n\n.ql-tooltip.ql-editing a.ql-remove {\n  display: none;\n}\n\n.quill-hide-toolbar {\n  display: none;\n}\n"},182896:(e,t,r)=>{"use strict";r.d(t,{AF:()=>I,AV:()=>h,An:()=>c,Az:()=>A,CA:()=>Y,CY:()=>P,Kc:()=>L,MB:()=>V,MR:()=>m,Mh:()=>v,OA:()=>g,Ow:()=>$,QN:()=>z,S2:()=>B,SA:()=>W,SM:()=>H,Tf:()=>w,Uc:()=>N,Wm:()=>K,_s:()=>U,aM:()=>y,aQ:()=>S,bn:()=>q,c$:()=>p,c1:()=>M,cj:()=>R,e:()=>T,eQ:()=>C,eU:()=>f,g3:()=>d,gH:()=>F,gl:()=>E,gp:()=>b,iI:()=>s,kD:()=>o,kb:()=>k,mU:()=>X,o3:()=>j,og:()=>Q,qY:()=>O,qm:()=>x,sD:()=>l,sv:()=>G,u6:()=>D,uQ:()=>n,uU:()=>Z,ue:()=>i,wP:()=>u,wd:()=>_,yO:()=>a});let n="generic_tile--container--6WmOy",i="generic_tile--selectedContainer--BMbuR generic_tile--container--6WmOy",a="generic_tile--tileBorder--KoZZD",o="generic_tile--genericTile--nq8a5",l="generic_tile--fileTileAvatar--giZgi",s="generic_tile--subtitleWrapper--he7jw",c="generic_tile--subtitleWrapperInner--MBcXl",d="generic_tile--ghostTileBorder--pG5-W generic_tile--tileBorder--KoZZD",u="generic_tile--pinned--wnXZ4",p="generic_tile--image--EtJVb",m="generic_tile--pinnedRedesign--78qZi",_="generic_tile--pinnedThumbnail--cvGKg",h="generic_tile--pinnedSelected--pZchz",g="generic_tile--pinnedTitle--IWD3k text--fontPos13--xW8hS text--_fontBase--QdLsd ellipsis--ellipsis--Tjyfa",f="generic_tile--pinnedSubtitle--VSrYC ellipsis--ellipsis--Tjyfa text--fontPos11--2LvXf text--_fontBase--QdLsd generic_tile--flexHorizontally--94Xgn ellipsis--ellipsis--Tjyfa",E="generic_tile--bottomControls--BWW1p",y="generic_tile--listViewGrid--8nlF0 generic_tile--_listViewGridBase--F3bww",b="generic_tile--listView--iJ8oq text--fontPos13--xW8hS text--_fontBase--QdLsd",v="generic_tile--listContainerWithStar--862Om",I="generic_tile--facePile--lkkYj",w="generic_tile--lowerPartTitles--OQSfw generic_tile--flexVertically--Vicz2",T="generic_tile--title--8YQTt text--fontPos13--xW8hS text--_fontBase--QdLsd",S="generic_tile--restoreIcon--LH-VQ",C="generic_tile--dragFileTile--HpKXE generic_tile--selectedContainer--BMbuR generic_tile--container--6WmOy",A="generic_tile--listViewSlightlyLarger--G-4cw generic_tile--listView--iJ8oq text--fontPos13--xW8hS text--_fontBase--QdLsd",O="generic_tile--gridView--7bz6I",N="generic_tile--tileBorderWithHover--Jkcy7",L="generic_tile--standaloneFileTile--EVhjY generic_tile--container--6WmOy",R="generic_tile--dragContainer--I7600",P="generic_tile--subtitle--csXDy ellipsis--ellipsis--Tjyfa text--fontPos11--2LvXf text--_fontBase--QdLsd generic_tile--flexHorizontally--94Xgn",M="generic_tile--listViewStarContainer--eGDcR",k="generic_tile--subtitleContainer--k-wHo",D="generic_tile--renameInput--9ivT7 text--fontPos13--xW8hS text--_fontBase--QdLsd",F="generic_tile--disabledTitle--65wZQ generic_tile--title--8YQTt text--fontPos13--xW8hS text--_fontBase--QdLsd",x="generic_tile--renameInputListView--PyDxZ generic_tile--renameInput--9ivT7 text--fontPos13--xW8hS text--_fontBase--QdLsd",U="generic_tile--disabledSubtitle--psW-x generic_tile--subtitle--csXDy ellipsis--ellipsis--Tjyfa text--fontPos11--2LvXf text--_fontBase--QdLsd generic_tile--flexHorizontally--94Xgn",B="generic_tile--subtitleTime--T1Jm4 ellipsis--ellipsis--Tjyfa",G="generic_tile--settings--1ZvA0",V="generic_tile--ellipsis--qf17I ellipsis--ellipsis--Tjyfa",H="generic_tile--subtitleMetadata--U0WVW text--fontPos11--2LvXf text--_fontBase--QdLsd ellipsis--ellipsis--Tjyfa",W="generic_tile--modifiedMetadata--Y9apS",K="generic_tile--deletedTimestamp--580P4 ellipsis--ellipsis--Tjyfa",Y="generic_tile--genericTileRedesign--EtrN2",q="generic_tile--topLeftControls--5W1gM",j="generic_tile--topRightControls--ZYEl0",$="generic_tile--visible--VIGVv",Z="generic_tile--facepile--vX3i9",z="generic_tile--control--rEcCH",Q="generic_tile--branchIndicator--0dVBQ",X="generic_tile--disabledThumbnail--U5m5L"},132556:(e,t,r)=>{"use strict";r.d(t,{AJ:()=>d,Cw:()=>m,MP:()=>p,O2:()=>c,Qj:()=>E,S2:()=>y,eQ:()=>n,eg:()=>g,gB:()=>s,kr:()=>o,m0:()=>u,mo:()=>h,uS:()=>i,us:()=>_,w5:()=>l,w9:()=>a,yZ:()=>f});let n="thumbnail--tileThumbnail--85ozi",i="thumbnail--lockedThumbnail--fAl-m",a="thumbnail--previewThumbnail--B3LUp",o="thumbnail--thumbnailContainer--HDTxZ",l="thumbnail--lightModeDotGrid--hj-r5 thumbnail--thumbnailContainer--HDTxZ",s="thumbnail--thumbnail--a8Q7u thumbnail--baseThumbnail--v7qNP",c="thumbnail--listThumbnail--mZjF8 thumbnail--baseThumbnail--v7qNP",d="thumbnail--thumbnailFullWidth--mSTfd",u="thumbnail--fileThumbnailFullWidth--UIzQ2",p="thumbnail--thumbnailImgFullWidth--1rYhP",m="thumbnail--thumbnailImg--oLWBU",_="thumbnail--thumbnailImgListView--V5f-R",h="thumbnail--keyCircle--7y5F-",g="thumbnail--keyCircleAuto--6dqyS",f="thumbnail--keyCircleLightMode--X8Pew",E="thumbnail--keyIcon---Ecnd",y="thumbnail--lockedThumbnailList--dhXOU"},97916:(e,t,r)=>{"use strict";r.d(t,{It:()=>a,Sq:()=>n,cT:()=>i,yo:()=>o});let n="truncated_text--root--kx5Ta ellipsis--ellipsis--Tjyfa",i="truncated_text--rootTruncateStart--aClXJ",a="truncated_text--directionFix--T1NOI",o="/** @postcss-export-raw */\n\n.truncated_text--root--kx5Ta.truncated_text--rootTruncateStart--aClXJ {\n    /* Note that this should be flipped when we support RTL languages */\n    direction: rtl;\n    text-align: left;\n  }\n\n.truncated_text--directionFix--T1NOI {\n  /* Note that this should be flipped when we support RTL languages */\n  direction: ltr;\n  unicode-bidi: bidi-override;\n}\n"},331924:(e,t,r)=>{"use strict";r.d(t,{GY:()=>E,IH:()=>o,QD:()=>b,SC:()=>i,S_:()=>m,W2:()=>_,_6:()=>l,_8:()=>u,ay:()=>a,co:()=>p,cp:()=>s,oD:()=>h,qu:()=>d,tR:()=>c,uQ:()=>n,wv:()=>g,yK:()=>y,yy:()=>f});let n="base_cookie_banner--container--nUKFl",i="base_cookie_banner--body--lPBYi",a="base_cookie_banner--actions--1LAhr",o="base_cookie_banner--dismiss--gdSyk",l="base_cookie_banner--container__community--oc-bP",s="base_cookie_banner--container__fileViewer--522-P",c="base_cookie_banner--container__prototype--A1a4y",d="base_cookie_banner--dismissIcon--0O2Nl",u="base_cookie_banner--container__auth--okjXC",p="base_cookie_banner--container__authOrCommunity--cqdOl",m="base_cookie_banner--brandButton__small--a85Tk",_="base_cookie_banner--fileViewer__persistentMessage--2cPck",h="base_cookie_banner--fileViewer__persistentMessage_dark--p4-Bd",g="base_cookie_banner--fileViewer__persistentMessage_light---AVp5",f="base_cookie_banner--community__persistentMessage--TM90N",E="base_cookie_banner--community__persistentMessage_shifted---en-m",y="base_cookie_banner--community__persistentMessage__link--WTjS9",b="base_cookie_banner--community__persistentMessage__tooltip--g-KBY"},506240:(e,t,r)=>{"use strict";r.d(t,{ABg:()=>eL,AL0:()=>q,BjQ:()=>x,CK4:()=>ej,CQ:()=>S,Ccb:()=>ey,Cie:()=>D,ELR:()=>ec,ENW:()=>n,EZk:()=>H,ElF:()=>eb,EvI:()=>et,G6$:()=>w,GwC:()=>m,I7x:()=>h,IF6:()=>Z,IFg:()=>J,IjC:()=>eR,Ipt:()=>e8,IvU:()=>G,K8h:()=>K,KiE:()=>eD,Ks8:()=>eW,LPi:()=>eA,M1q:()=>L,Mlf:()=>C,Mxo:()=>a,OCd:()=>l,OQd:()=>b,Oc8:()=>ee,QH2:()=>eH,Qhv:()=>ex,SG3:()=>X,SM8:()=>Q,SUF:()=>eC,SqB:()=>e0,U$i:()=>V,UBe:()=>N,URK:()=>I,UV6:()=>e_,WmW:()=>j,Wsn:()=>eo,YHL:()=>e4,YfJ:()=>eE,Ypc:()=>d,Yrx:()=>eO,YxL:()=>B,_QS:()=>p,_uM:()=>i,_uq:()=>eP,a8$:()=>_,aKv:()=>ez,aMj:()=>z,acK:()=>e1,ahy:()=>k,asO:()=>eX,cD0:()=>eS,cJp:()=>eZ,cnC:()=>eI,ctU:()=>eh,cxG:()=>e6,cxo:()=>ef,eOs:()=>ev,eeA:()=>ep,g$$:()=>F,g9K:()=>eF,gFA:()=>$,gdr:()=>P,ghu:()=>f,gzz:()=>R,i0m:()=>e2,i2M:()=>g,i47:()=>y,iCZ:()=>o,igt:()=>Y,jMz:()=>el,k5E:()=>eq,kVp:()=>U,kZN:()=>eK,mRt:()=>en,m_7:()=>s,mnv:()=>M,muC:()=>E,n2f:()=>eM,oDm:()=>O,odI:()=>es,q07:()=>eJ,qG6:()=>ei,qWU:()=>ea,q_m:()=>e3,s1q:()=>ek,sNg:()=>eQ,sxz:()=>eV,szv:()=>eB,u62:()=>W,uYu:()=>T,ua0:()=>u,uoI:()=>eu,uu5:()=>eg,w5M:()=>ed,wBp:()=>eU,wVF:()=>ew,wbo:()=>eT,wpE:()=>er,wvy:()=>eG,x7A:()=>A,yC3:()=>eN,yEj:()=>v,yKt:()=>e$,yow:()=>eY,ywn:()=>em,yyR:()=>c});let n="#e5e5e5",i="#0d99ff",a="#9747ff",o="#1bc47d",l="#f531b3",s="#00b5ce",c="#ffc700",d="#7b61ff",u="#0d99ff",p="#1bc47d",m="#f24e1e",_="#ffc700",h="#0fa958",g="#5551ff",f="#a259ff",E="#000",y="rgba(0, 0, 0, 0.06)",b="rgba(0, 0, 0, 0.8)",v="#fff",I="#333333",w="#fff",T="#000",S="rgba(0, 0, 0, 0.1)",C="#e6e6e6",A="rgba(0, 0, 0, 0.03)",O="#667799",N="#007be5",L="#9747ff",R="#ff24bd",P="#f24822",M="#ffcd29",k="#14ae5c",D="rgba(30, 30, 30, 1)",F="rgba(117, 117, 117, 1)",x="rgba(179, 179, 179, 1)",U="rgba(230, 230, 230, 1)",B="rgba(242, 72, 34, 1)",G="rgba(255, 199, 194, 1)",V="rgba(255, 166, 41, 1)",H="rgba(252, 209, 156, 1)",W="rgba(255, 205, 41, 1)",K="rgba(255, 232, 163, 1)",Y="rgba(20, 174, 92, 1)",q="rgba(175, 244, 198, 1)",j="rgba(13, 153, 255, 1)",$="rgba(189, 227, 255, 1)",Z="rgba(151, 71, 255, 1)",z="rgba(228, 204, 255, 1)",Q="rgba(255, 255, 255, 1)",X="rgba(175, 188, 207, 1)",J="rgba(255, 175, 163, 1)",ee="rgba(255, 196, 112, 1)",et="rgba(255, 217, 102, 1)",er="rgba(133, 224, 163, 1)",en="rgba(128, 202, 255, 1)",ei="rgba(217, 184, 255, 1)",ea="rgba(255, 189, 242, 1)",eo="rgba(230, 230, 230, 1)",el="rgba(151, 151, 151, 1)",es="rgba(255, 153, 248, 1)",ec="rgba(255, 174, 79, 1)",ed="rgba(255, 238, 0, 1)",eu="rgba(134, 250, 22, 1)",ep="rgba(111, 255, 246, 1)",em="rgba(179, 143, 255, 1)",e_="rgba(255, 255, 255, 1)",eh="rgba(175, 175, 175, 1)",eg="rgba(255, 160, 249, 1)",ef="rgba(255, 184, 104, 1)",eE="rgba(255, 242, 52, 1)",ey="rgba(174, 255, 97, 1)",eb="rgba(126, 255, 247, 1)",ev="rgba(188, 155, 255, 1)",eI="rgba(255, 255, 255, 1)",ew="rgba(17, 17, 17, 1)",eT="rgba(117, 117, 117, 1)",eS="rgba(217, 217, 217, 1)",eC="rgba(224, 62, 26, 1)",eA="rgba(251, 188, 182, 1)",eO="rgba(247, 151, 34, 1)",eN="rgba(255, 196, 112, 1)",eL="rgba(243, 193, 27, 1)",eR="rgba(249, 223, 144, 1)",eP="rgba(25, 143, 81, 1)",eM="rgba(161, 232, 185, 1)",ek="rgba(12, 140, 233, 1)",eD="rgba(168, 215, 250, 1)",eF="rgba(138, 56, 245, 1)",ex="rgba(214, 182, 251, 1)",eU="rgba(255, 255, 255, 1)",eB="rgba(102, 119, 153, 1)",eG="rgba(242, 72, 34, 1)",eV="rgba(255, 166, 41, 1)",eH="rgba(255, 205, 41, 1)",eW="rgba(20, 174, 92, 1)",eK="rgba(13, 153, 255, 1)",eY="rgba(151, 71, 255, 1)",eq="rgba(255, 36, 189, 1)",ej="rgba(230, 230, 230, 1)",e$="rgba(175, 188, 207, 1)",eZ="rgba(252, 163, 151, 1)",ez="rgba(255, 196, 112, 1)",eQ="rgba(247, 209, 95, 1)",eX="rgba(121, 210, 151, 1)",eJ="rgba(124, 196, 248, 1)",e0="rgba(209, 168, 255, 1)",e1="rgba(253, 156, 224, 1)",e2="rgba(230, 230, 230, 1)",e4="#2c2c2c",e3="#aaa",e6="#efefef",e8="#f8f8f8"},763456:(e,t,r)=>{"use strict";r.d(t,{A3q:()=>s,AHY:()=>R,AP2:()=>ts,ApP:()=>td,ArX:()=>d,Arf:()=>u,Av$:()=>tE,C0u:()=>eX,C2Q:()=>tf,CYL:()=>L,E1e:()=>tI,EBw:()=>h,ELe:()=>eu,EN1:()=>eW,ETd:()=>to,Ehe:()=>tr,G2R:()=>eJ,GMy:()=>$,GWm:()=>tl,G_1:()=>en,Gc1:()=>M,IDt:()=>tg,IJ2:()=>tb,ILW:()=>ej,Ifd:()=>B,K2m:()=>ep,K8i:()=>ex,KAc:()=>em,KCK:()=>er,KMX:()=>tm,KU9:()=>e8,K_M:()=>e1,Ket:()=>ez,KiP:()=>tn,Kv5:()=>P,MDX:()=>m,ML1:()=>e7,MNp:()=>ew,MP$:()=>l,MZe:()=>y,O2M:()=>C,OIe:()=>eH,OUT:()=>e_,OW1:()=>eB,OYi:()=>x,Oi7:()=>eQ,Ooh:()=>eo,OuS:()=>tv,OuU:()=>ey,Q3T:()=>J,Q92:()=>p,QDY:()=>F,QLO:()=>N,QjA:()=>S,QjD:()=>I,Qzg:()=>eT,SYu:()=>tu,Sgu:()=>tc,SkW:()=>eq,TvB:()=>U,URW:()=>tt,UV4:()=>e0,Utt:()=>D,W2J:()=>j,W4P:()=>ek,WSJ:()=>eE,Y73:()=>tw,Y7B:()=>eU,YTE:()=>ed,Yf4:()=>Z,_2l:()=>e3,_aM:()=>t_,_gu:()=>X,a0$:()=>V,aK_:()=>eC,aYs:()=>tT,akH:()=>ta,amH:()=>eM,ayq:()=>o,c3f:()=>O,cNh:()=>ef,cZR:()=>tp,cbY:()=>ty,cbz:()=>eA,cvi:()=>te,e0y:()=>W,eMK:()=>es,eSF:()=>e9,eWp:()=>c,g$2:()=>eF,gBs:()=>th,gFC:()=>e5,gLj:()=>el,gVP:()=>et,gh9:()=>eZ,iCb:()=>E,iE$:()=>G,iIy:()=>k,iUm:()=>eV,iW7:()=>ti,i_R:()=>ev,ic:()=>Q,icq:()=>e2,kX1:()=>Y,mG_:()=>A,mkP:()=>T,msj:()=>eD,mw5:()=>eP,oNo:()=>g,onE:()=>e$,ozQ:()=>ei,q0v:()=>f,q2h:()=>eL,q6b:()=>eS,qcs:()=>eO,qub:()=>eb,rYw:()=>ea,sBy:()=>eG,sJH:()=>eY,sLj:()=>a,sT9:()=>w,sfb:()=>eh,shA:()=>e6,sni:()=>eg,u2O:()=>ec,uOl:()=>eR,uQ4:()=>b,uY4:()=>H,uis:()=>eK,w3W:()=>ee,wdL:()=>i,wh:()=>K,wlD:()=>eN,y8p:()=>q,yIn:()=>v,yUG:()=>e4,ya1:()=>_,yaZ:()=>z,ycA:()=>n,yg5:()=>eI});let n="8px",i="32px",a="16px",o="64px",l="42px",s="48px",c="48px",d="56px",u="48px",p="645px",m="264px",_="8px",h="380px",g="64px",f="24px",E="54px",y="48px",b="560px",v="906px",I="760px",w="48px",T="1440px",S="1230px",C="1024px",A="600px",O="180px",N="24px",L="32px",R="30px",P="12px",M="40px",k="40px",D="32px",F="8px",x="32px",U=28,B="8px",G="140px",V="34px",H="320px",W="40px",K="565px",Y="192px",q="32px",j="80px",$="40px",Z="32px",z="32px",Q="32px",X="240px",J="320px",ee="1px",et="24px",er="24px",en="224px",ei="224px",ea="32px",eo="378px",el="620px",es="40px",ec="264px",ed="888px",eu="16px",ep="12px",em="8px",e_="56px",eh="112px",eg="64px",ef="51px",eE="44px",ey="680px",eb="320px",ev="40px",eI="16px",ew="64px",eT="320px",eS="16px",eC="1250px",eA="1680px",eO="1320px",eN="1500px",eL="5px",eR="16px",eP="216px",eM="84px",ek="52px",eD="318px",eF="184px",ex="286px",eU="34px",eB="36px",eG="318px",eV="180px",eH="300px",eW="397px",eK="8px",eY="216px",eq="240px",ej="40px",e$="28px",eZ="240px",ez="240px",eQ="304px",eX="6px",eJ="8px",e0="6px",e1="320px",e2="36px",e4="42px",e3="256px",e6="240px",e8="2px",e5="460px",e7="596px",e9="864px",te="48px",tt="1280px",tr="905px",tn="1164px",ti="1285px",ta="1423px",to="54px",tl="80px",ts="96px",tc="52px",td="24px",tu="16px",tp="240px",tm="750px",t_="184px",th="120px",tg="32px",tf="12px",tE="344px",ty="4px",tb="100px",tv="18px",tI="768px",tw="768px",tT="32px"},913636:(e,t,r)=>{"use strict";r.d(t,{MB:()=>a,Qj:()=>i,We:()=>o,ay:()=>l,op:()=>n});let n=6,i=8,a=7,o=7,l=9},531163:(e,t,r)=>{"use strict";r.d(t,{A3q:()=>S,AH2:()=>B,E3k:()=>Y,G6$:()=>g,GiF:()=>y,Gor:()=>v,GwC:()=>o,GyI:()=>Q,If7:()=>m,Ifd:()=>N,JRv:()=>E,KU9:()=>H,Kse:()=>f,Mn$:()=>V,OIe:()=>G,OQd:()=>u,OYi:()=>O,OwV:()=>P,Q3T:()=>D,QDY:()=>A,SWF:()=>h,Ss8:()=>w,URK:()=>_,W9i:()=>K,WQp:()=>x,W_l:()=>C,Woi:()=>k,Y1N:()=>X,_6j:()=>I,_6u:()=>W,_QS:()=>i,_c6:()=>q,a6b:()=>M,aeB:()=>$,ayq:()=>T,gVP:()=>F,iCw:()=>U,k5I:()=>c,khe:()=>R,kih:()=>j,m2V:()=>z,moV:()=>s,muC:()=>l,qke:()=>a,qwm:()=>Z,uYu:()=>b,ua0:()=>n,uwd:()=>d,yEj:()=>p,ys6:()=>L});let n="#0d99ff",i="#1bc47d",a="#f24822",o="#f24e1e",l="#000",s="rgba(0, 0, 0, 0.1)",c="rgba(0, 0, 0, 0.3)",d="rgba(0, 0, 0, 0.54)",u="rgba(0, 0, 0, 0.8)",p="#fff",m="rgba(255, 255, 255, 0.4)",_="#333333",h="#b3b3b3",g="#fff",f="#e5e5e5",E="#f0f0f0",y="rgba(0, 0, 0, 0.06)",b="#000",v="#222",I="#daebf7",w="#edf5fa",T="64px",S="48px",C="1440px",A="8px",O="32px",N="8px",L="108px",R="44px",P="44px",M="12px",k="14px",D="320px",F="24px",x="240px",U="272px",B="96px",G="300px",V="20px",H="2px",W="3000px",K=3,Y=2,q=8,j=9,$=10,Z=14,z="url('https://static.figma.com/uploads/2cca21a49f7dad1daa612d73d50357644671964a')\n  format('woff2')",Q="var(--inter-font-family, 'Inter'), sans-serif",X="Whyte, sans-serif"},956788:(e,t,r)=>{"use strict";r.d(t,{Ad:()=>l,CL:()=>o,CQ:()=>p,G_:()=>i,Gw:()=>n,SW:()=>u,W_:()=>d,_A:()=>c,cF:()=>a,ys:()=>s});let n="40px",i="12px",a="16px",o="16px",l="40px",s="36px",c="30px",d="20px",u="12px",p="20px"},41480:(e,t,r)=>{"use strict";r.d(t,{AN:()=>o,Ml:()=>l,WK:()=>n,k5:()=>i,mc:()=>a});let n="feed_post_zoom_pan--zoomPanContainer--zUqcL",i="feed_post_zoom_pan--zoomPanInteractionLayer--8w-cl",a="feed_post_zoom_pan--guidelineLayer--p6ik- feed_post_zoom_pan--zoomPanInteractionLayer--8w-cl",o="feed_post_zoom_pan--transformedImage--hjQSb",l="feed_post_zoom_pan--zoomControls--8PqPP feed_post_detail_modal--contentOverlayPill--1jsoj"},809664:(e,t,r)=>{"use strict";r.d(t,{C7:()=>l,EJ:()=>p,EN:()=>d,Gc:()=>m,KY:()=>a,SO:()=>s,Yh:()=>i,_2:()=>o,aS:()=>c,m9:()=>u,uQ:()=>n});let n="whiteboard_text_style_control--container--MNXDM",i="whiteboard_text_style_control--input--w-EA9 text--fontNeg12--2PWcg text--_fontBase--QdLsd text--_negText--j9g-L",a="whiteboard_text_style_control--chevron--Bj8sj",o="whiteboard_text_style_control--offscreenMeasurementContainer--BKhB1",l="whiteboard_text_style_control--selectInputForMeasurement--slyc8",s="whiteboard_text_style_control--optionForMeasurement--Am6OD",c="whiteboard_text_style_control--numberOption--j4Dvk",d="whiteboard_text_style_control--numberInput--PWl99",u="whiteboard_text_style_control--numberInputForMeasurement--TkDrB whiteboard_text_style_control--numberInput--PWl99",p="whiteboard_text_style_control--dotOption--zHKZY",m="whiteboard_text_style_control--textStyleSelect--gN34Q"},674976:(e,t,r)=>{"use strict";r.d(t,{A$:()=>en,AD:()=>eQ,AV:()=>eo,An:()=>P,Ar:()=>eu,BG:()=>L,C6:()=>D,CD:()=>e6,CY:()=>ee,Ck:()=>to,Cs:()=>h,E$:()=>K,ET:()=>i,EX:()=>eY,Ed:()=>ej,Eh:()=>es,G:()=>B,GG:()=>d,GI:()=>el,GQ:()=>eH,Gi:()=>e_,I1:()=>ei,I7:()=>tt,ID:()=>ew,IP:()=>E,IX:()=>eK,If:()=>V,Iv:()=>l,Ix:()=>ta,KA:()=>eT,KC:()=>eJ,K_:()=>o,Ko:()=>w,Ku:()=>ep,M0:()=>u,MR:()=>ek,Ml:()=>p,O2:()=>v,OC:()=>e$,OI:()=>H,OS:()=>e9,Om:()=>eS,Q1:()=>eq,SE:()=>eM,SS:()=>ed,So:()=>N,Sw:()=>eE,UL:()=>te,UR:()=>eP,Ub:()=>ec,Uh:()=>ef,W2:()=>eN,W4:()=>ex,WK:()=>ez,WO:()=>O,Wo:()=>eO,Ww:()=>e5,XD:()=>m,Y3:()=>eA,Y5:()=>T,YT:()=>eF,Yn:()=>W,_1:()=>n,_E:()=>b,_G:()=>ey,_O:()=>e7,_g:()=>eZ,_o:()=>k,_r:()=>ea,_u:()=>Q,aE:()=>eX,aM:()=>_,aS:()=>ev,cP:()=>e3,cb:()=>G,cj:()=>eR,cl:()=>I,cr:()=>A,dO:()=>eB,dk:()=>eU,e2:()=>C,eW:()=>R,e_:()=>er,ec:()=>q,ei:()=>tr,eu:()=>M,ew:()=>U,g1:()=>j,gD:()=>eL,gH:()=>e2,gn:()=>eW,iG:()=>e1,iu:()=>et,jZ:()=>$,k3:()=>Z,kJ:()=>eh,kL:()=>F,kv:()=>y,mg:()=>Y,o$:()=>eG,oD:()=>eb,oR:()=>ti,oT:()=>c,oV:()=>f,ot:()=>eg,pD:()=>em,q2:()=>g,qs:()=>eI,rc:()=>eV,sT:()=>S,sX:()=>eC,uG:()=>e0,uk:()=>e8,wJ:()=>s,y4:()=>tn,y7:()=>a,y8:()=>X,yS:()=>z,yi:()=>J,yk:()=>eD,yq:()=>x,yy:()=>e4});let n="delightful_toolbar--delightfulToolbarContainer--SHMR-",i="delightful_toolbar--delightfulToolbarLowered--sZhzF",a="delightful_toolbar--delightfulToolbarDisabledClickDetector--JQUz3",o="delightful_toolbar--delightfulToolbarDisabled--jqtpA",l="delightful_toolbar--delightfulToolberInnerDisabled--9M-N9",s="delightful_toolbar--delightfulToolbarBannerContainer--FkA0g",c="delightful_toolbar--centeredPortalTarget--iF-gX",d="delightful_toolbar--delightfulToolbarContainerBannerOffset--D5pU0",u="delightful_toolbar--focusVisibleHover--Ag5DV",p="delightful_toolbar--select--Qs3At",m="delightful_toolbar--active--Xm9-4",_="delightful_toolbar--hand--UoaPp",h="delightful_toolbar--animate--gXF-Y",g="delightful_toolbar--pencil--86AiY",f="delightful_toolbar--shapeCollage---YIrd",E="delightful_toolbar--sticky--6MjSN",y="delightful_toolbar--universalInsertCollage--0-jTN",b="delightful_toolbar--text--3Hmso",v="delightful_toolbar--section---GUh9",I="delightful_toolbar--table--toekL",w="delightful_toolbar--stamp--diHIZ",T="delightful_toolbar--universalInsert--FC5m4",S="delightful_toolbar--delightfulToolbar--0Koqy",C="delightful_toolbar--delightfulToolbarPostAnimation--J3t8f",A="delightful_toolbar--tuckDltForMakeSomethingV2--FzVXX",O="delightful_toolbar--fakeButtonContainer--ivi7f",N="delightful_toolbar--toolbarFakeButtonTarget--SdMI0",L="delightful_toolbar--delightfulToolbarTabletExtras--H-fON",R="delightful_toolbar--tabletExtrasItem--ApfSS",P="delightful_toolbar--tabletExtrasItemShowHide---fNRw",M="delightful_toolbar--delightfulToolbarTabletExtrasItem--92q-x delightful_toolbar--delightfulToolbar--0Koqy",k="delightful_toolbar--verticalButtonDisabled--m308g",D="delightful_toolbar--passthruLayout--gz5r2",F="delightful_toolbar--stampButton--3kdlW",x="delightful_toolbar--peekingVotingWheel--w0rd4",U="delightful_toolbar--peekingVotingWheelHidden--97uHk",B="delightful_toolbar--peekingVotingWheelDoneVoting--tAyvc",G="delightful_toolbar--peekingVotingWheelShowHide--1jIMo",V="delightful_toolbar--remainingVotesIndicator--1pWLF text--fontPos12--YsUAh text--_fontBase--QdLsd",H="delightful_toolbar--remainingVotesIndicatorInProgress--x9DdJ",W="delightful_toolbar--remainingVotesIndicatorDone--OyZtG",K="delightful_toolbar--remainingVotesIndicatorTextSpan--ola4B ellipsis--ellipsis--Tjyfa",Y="delightful_toolbar--checkIcon--JmhHu",q="delightful_toolbar--peekingVotingWheelContainer--EBQCY",j="delightful_toolbar--peekingVotingWheelInactive--bdvqB",$="delightful_toolbar--delightfulToolbarMask--WyKoY",Z="delightful_toolbar--delightfulToolbarMaskClip--YptNQ",z="delightful_toolbar--delightfulToolbarInner--gHZZG delightful_toolbar--passthruLayout--gz5r2",Q="delightful_toolbar--undo--GoECN",X="delightful_toolbar--redo--zNSIB",J="delightful_toolbar--straightLine--WYaYi",ee="delightful_toolbar--horizontalButton--GEYZm",et="delightful_toolbar--horizontalButtonDisabled--J--Nk",er="delightful_toolbar--pointerEventsDisabled--0umVY",en="delightful_toolbar--divider--apd-R",ei="delightful_toolbar--againstButtons--jjCEu",ea="delightful_toolbar--toolbarSection--UFHyw delightful_toolbar--passthruLayout--gz5r2",eo="delightful_toolbar--tool--g8UFJ",el="delightful_toolbar--pencilTool--z-K-X delightful_toolbar--tool--g8UFJ",es="delightful_toolbar--toolIcon--hHlA3",ec="delightful_toolbar--toolIconIsDragging--NbbVm",ed="delightful_toolbar--fade--z0hkc",eu="delightful_toolbar--bodyCursorDrag--U0w4y",ep="delightful_toolbar--customAnimatedStickyContainer--NwoG4",em="delightful_toolbar--customAnimatedSticky--Am-sV",e_="delightful_toolbar--enableDogEarAnimation--mKWg-",eh="delightful_toolbar--bottomSticky--EL0yA delightful_toolbar--stickyAnimationProperties--sQIyc",eg="delightful_toolbar--middleSticky--euFjB delightful_toolbar--stickyAnimationProperties--sQIyc",ef="delightful_toolbar--topSticky--rCKI- delightful_toolbar--stickyAnimationProperties--sQIyc",eE="delightful_toolbar--customAnimatedStickyDogEar--W4GVZ",ey="delightful_toolbar--overValidDropTarget--oTIIh",eb="delightful_toolbar--shapeAndStickyShadow--19Urt",ev="delightful_toolbar--hasDropShadow--Jr9fo",eI="delightful_toolbar--toolIconIsSelected--zMbAE",ew="delightful_toolbar--toolIconIsHovered--06bxV",eT="delightful_toolbar--hasBoxShadow--GZIGk",eS="delightful_toolbar--verticalButtonHolder--iacgh",eC="delightful_toolbar--verticalButton--NunDU",eA="delightful_toolbar--verticalButtonHovered--XWjJn",eO="delightful_toolbar--verticalButtonSelected--gJEVN",eN="delightful_toolbar--markerShadow--2r0xq",eL="delightful_toolbar--markerShadowSmall--7PUZI",eR="delightful_toolbar--easeInDltItemFill--rGBLG",eP="delightful_toolbar--shapeSpawnAnimation--bHVVH",eM="delightful_toolbar--middleStickyContainer--86OO8 delightful_toolbar--backgroundSticky--14jwo",ek="delightful_toolbar--bottomStickyContainer--OO2fl delightful_toolbar--backgroundSticky--14jwo",eD="delightful_toolbar--spriteSheet--t-eNg",eF="delightful_toolbar--drawingToolPlaceholder--jjpMh",ex="delightful_toolbar--drawingToolPlaceholderVisible--Agv4F",eU="delightful_toolbar--washiTapePlaceholderSvg--848Ll",eB="delightful_toolbar--washiTapeBig--2gCvj",eG="delightful_toolbar--washiTapeShine--wVzk9",eV="delightful_toolbar--washiTapeBigTape--5ZRa5",eH="delightful_toolbar--washiTapeSmall--VIFNn",eW="delightful_toolbar--washiTapeSmallTape--tEVin",eK="delightful_toolbar--customAnimatedStickyContainerV2--v-iK4",eY="delightful_toolbar--customAnimatedStickyV2--OVYQS",eq="delightful_toolbar--customAnimatedStickyV3--qLTBA",ej="delightful_toolbar--bottomStickyV2--p7HoD delightful_toolbar--stickyAnimationProperties--sQIyc",e$="delightful_toolbar--bottomStickyV3---oRIg delightful_toolbar--stickyAnimationPropertiesV3--tf0ke",eZ="delightful_toolbar--middleStickyV2--bfVaY delightful_toolbar--stickyAnimationProperties--sQIyc",ez="delightful_toolbar--middleStickyV3--BiM-v delightful_toolbar--stickyAnimationPropertiesV3--tf0ke",eQ="delightful_toolbar--topStickyV2---0qKu",eX="delightful_toolbar--topStickyV3--5ndgM delightful_toolbar--stickyAnimationPropertiesV3--tf0ke",eJ="delightful_toolbar--dogEarSticky---UqUA",e0="delightful_toolbar--reverse---CQhv",e1="delightful_toolbar--stickyDogEarContainer--FJHcW",e2="delightful_toolbar--forwards--nPpnP",e4="delightful_toolbar--noAnimation--XnCqV",e3="delightful_toolbar--middleStickyContainerV2--Dy8Na delightful_toolbar--backgroundStickyV2--GQPLn",e6="delightful_toolbar--bottomStickyContainerV2--XUsyj delightful_toolbar--backgroundStickyV2--GQPLn",e8="delightful_toolbar--fakeStickyContainer--OmfTq delightful_toolbar--backgroundStickyV2--GQPLn",e5="delightful_toolbar--fakeSticky--cTZnZ delightful_toolbar--stickyAnimationProperties--sQIyc",e7="delightful_toolbar--stickyOuterV3--ROW-i",e9="delightful_toolbar--stickyCurlV3--6kp8i",te="delightful_toolbar--stickyMaskContainerV3--XBMQM",tt="delightful_toolbar--stickyMaskDynamicV3--hTZdB",tr="delightful_toolbar--stickyMaskStaticV3---Ycp2",tn="delightful_toolbar--showCurlV3--qx7tK",ti="delightful_toolbar--noTransition--aPSPH",ta="delightful_toolbar--stickyBaseV3--sQACX",to="delightful_toolbar--fakeStickyV3--Jq79A delightful_toolbar--stickyAnimationPropertiesV3--tf0ke"},871728:(e,t,r)=>{"use strict";r.d(t,{Az:()=>f,CA:()=>h,CY:()=>k,Cg:()=>n,E3:()=>u,G0:()=>M,Gu:()=>m,I$:()=>E,I8:()=>C,IV:()=>y,Iv:()=>d,Ml:()=>D,N9:()=>A,OI:()=>T,Oz:()=>P,Rp:()=>w,Ud:()=>o,W8:()=>l,WO:()=>p,Wk:()=>a,_y:()=>I,gB:()=>v,iG:()=>c,iu:()=>R,kl:()=>L,oN:()=>b,oZ:()=>S,qC:()=>O,qi:()=>N,uQ:()=>i,ue:()=>F,wu:()=>s,yC:()=>_,yS:()=>g});let n="80px",i="templates_sidebar--container--LBrgK templates_sidebar--base--yBbPj",a="templates_sidebar--previewLoading--yV7Xm",o="templates_sidebar--searchBar--9isjr templates_sidebar--base--yBbPj",l="templates_sidebar--contentContainer--jfPiX templates_sidebar--base--yBbPj",s="templates_sidebar--sidebar--pnj0Y templates_sidebar--base--yBbPj",c="templates_sidebar--sidebarButton--uHGrO",d="templates_sidebar--categoryRoleDropdown--0u7TM",u="templates_sidebar--viewScrollContainer--JP8rI templates_sidebar--base--yBbPj",p="templates_sidebar--view--ErQxd templates_sidebar--base--yBbPj",m="templates_sidebar--viewWithMargin--uuI-7 templates_sidebar--view--ErQxd templates_sidebar--base--yBbPj",_="templates_sidebar--viewCenter--0wAYd templates_sidebar--viewWithMargin--uuI-7 templates_sidebar--view--ErQxd templates_sidebar--base--yBbPj",h="templates_sidebar--viewTile--TjuYS templates_sidebar--base--yBbPj text--fontNeg11--StdFq text--_fontBase--QdLsd text--_negText--j9g-L",g="templates_sidebar--viewSection--nnuvs templates_sidebar--base--yBbPj",f="templates_sidebar--viewTiles--rUv6-",E="templates_sidebar--viewCategoryHeaderSticky--btjbV templates_sidebar--base--yBbPj text--fontNeg11--StdFq text--_fontBase--QdLsd text--_negText--j9g-L",y="templates_sidebar--viewCategoryHeaderStuck--DfbPp",b="templates_sidebar--viewCategorySeeAll--Wcs6w templates_sidebar--base--yBbPj",v="templates_sidebar--thumbnail--tme4q",I="templates_sidebar--thumbnailBackground--fupHY",w="templates_sidebar--addButtonRectangle--mxmJO",T="templates_sidebar--meta--IyS-D",S="templates_sidebar--nameContainer--bgBxs",C="templates_sidebar--publisherNameContainer--y7Mov",A="templates_sidebar--name--ZVRRp text--fontPos11--2LvXf text--_fontBase--QdLsd",O="templates_sidebar--publisherName--iGqP7 text--fontPos9--naThA text--_fontBase--QdLsd",N="templates_sidebar--addButton--u2TW6",L="templates_sidebar--addButtonLoading---t9qh",R="templates_sidebar--communityButtonContainer--O-0aw",P="templates_sidebar--backButton--hriGV",M="templates_sidebar--backButtonTextContainer--waCgf",k="templates_sidebar--customTemplatesFilter--gWkVd",D="templates_sidebar--customTemplatesHeader--xUl39",F="templates_sidebar--chevronSelected--dyVpT"},458140:(e,t,r)=>{"use strict";r.d(t,{Et:()=>a.c,Fc:()=>s.Fc,K4:()=>o.K,j5:()=>i.j5,oJ:()=>l.oJ,uK:()=>c,yU:()=>i.yU});var n=r(812516);r(265032);var i=r(770340),a=r(801300),o=r(45064),l=r(229320),s=r(914028);class c extends n.M{optimisticallyCreate(e,t){return this.applyMutations(e,t,"create")}optimisticallyUpdate(e,t){return this.applyMutations(e,t,"update")}optimisticallyDelete(e,t){return this.applyMutations(e,t,"delete")}optimisticallyCreateWithUUID(e,t){return this.applyMutationsWithUUID(e,t,"create")}optimisticallyUpdateWithUUID(e,t){return this.applyMutationsWithUUID(e,t,"update")}optimisticallyDeleteWithUUID(e,t){return this.applyMutationsWithUUID(e,t,"delete")}getIdFromUuid(e,t){return super.getIdFromUuid(e,t)}deprecatedOptimisticallyCreateByView(e,t,r){return this.deprecatedApplyMutationsByView(e,t,r,"create")}deprecatedOptimisticallyUpdateByView(e,t,r){return this.deprecatedApplyMutationsByView(e,t,r,"update")}deprecatedOptimisticallyDeleteByView(e,t,r){return this.deprecatedApplyMutationsByView(e,t,r,"delete")}}},739432:(e,t,r)=>{"use strict";r.d(t,{UP:()=>a,YN:()=>i,dP:()=>n});let n="---",i=`${n} BEGIN NOTES`,a=`${n} BEGIN SUMMARY BODY`},473748:(e,t,r)=>{"use strict";let n,i;r.d(t,{S:()=>d,o:()=>l});var a=r(739432),o=((n=o||{})[n.STARTING=0]="STARTING",n[n.FRONTMATTER=1]="FRONTMATTER",n[n.BODY=2]="BODY",n[n.FOOTER=3]="FOOTER",n[n.CITING_SOURCES=4]="CITING_SOURCES",n),l=((i=l||{}).SET_PRIMITIVE_TEXT="SET_PRIMITIVE_TEXT",i.SET_PRIMITIVE_TYPE="SET_PRIMITIVE_TYPE",i.SET_CONTENT_ATTRIBUTION="SET_CONTENT_ATTRIBUTION",i);let s=(e,t)=>{let r=e.indexOf(":");if(-1===r)return[];let n=e.substring(0,r);"- "===n.substring(0,2)&&(n=n.substring(2));let i=e.substring(r+1).trim(),a=[];try{a=JSON.parse(i)}catch(e){return[]}return[{type:"SET_CONTENT_ATTRIBUTION",attach_to:n,node_ids:a,uuid:t}]};class c{constructor(e,t){this.onParse=e,this.onEmit=t,this.state=0,this.buffer="",this.cursor=0}getEmittableMessages(e,t=2,r){if(4===t)return s(e,r);if(e.startsWith("# ")){let t=e.slice(2);return[{type:"SET_PRIMITIVE_TEXT",uuid:r,content:t.charAt(0).toUpperCase()+t.slice(1).toLowerCase()},{type:"SET_PRIMITIVE_TYPE",uuid:r,primitiveType:"h1"}]}return e.startsWith("## ")?[{type:"SET_PRIMITIVE_TEXT",uuid:r,content:e.slice(3)},{type:"SET_PRIMITIVE_TYPE",uuid:r,primitiveType:"h2"}]:e.startsWith("### ")?[{type:"SET_PRIMITIVE_TEXT",uuid:r,content:e.slice(4)},{type:"SET_PRIMITIVE_TYPE",uuid:r,primitiveType:"h2"}]:e.startsWith("- ")?[{type:"SET_PRIMITIVE_TEXT",uuid:r,content:e.slice(2)},{type:"SET_PRIMITIVE_TYPE",uuid:r,primitiveType:"li"}]:[{type:"SET_PRIMITIVE_TEXT",uuid:r,content:e},{type:"SET_PRIMITIVE_TYPE",uuid:r,primitiveType:"p"}]}parseBodyLine(e){if(e.startsWith("# ")){let t=e.slice(2);return{type:"h1",content:t.charAt(0).toUpperCase()+t.slice(1).toLowerCase()}}return e.startsWith("## ")?{type:"h2",content:e.slice(3)}:e.startsWith("### ")?{type:"h2",content:e.slice(4)}:e.startsWith("- ")?{type:"li",content:e.slice(2)}:{type:"p",content:e}}feed(e){this.buffer+=e;let t=e=>{this.buffer=this.buffer.slice(e),this.cursor+=e};for(;this.buffer.length>0;){let e=this.buffer.indexOf("\n");if(0===this.state){if(-1===e)return;this.buffer.slice(0,e)===a.YN&&(this.state=1),t(e+1)}else if(1===this.state){if(-1===e)return;this.buffer.slice(0,e).startsWith(a.UP)&&(this.state=2),t(e+1)}else if(2===this.state){if(this.buffer.startsWith(a.dP)){this.state=3;return}if(-1===e){if(this.buffer.length>=4){let e=this.parseBodyLine(this.buffer);this.onParse(e,this.cursor);let t=this.getEmittableMessages(this.buffer,this.state,this.cursor.toString());this.onEmit(t)}return}{let r=this.buffer.slice(0,e);if(r.length>0){this.onParse(this.parseBodyLine(r),this.cursor);let e=this.getEmittableMessages(r,this.state,this.cursor.toString());this.onEmit(e)}t(e+1)}}else if(3===this.state){if(-1===e)return;this.buffer.slice(0,e).startsWith("Citing Sources")&&(this.state=4),t(e+1);return}else if(4===this.state){if(-1===e){if(this.buffer.length>=4){let e=this.getEmittableMessages(this.buffer,this.state,this.cursor.toString());this.onEmit(e)}return}{let r=this.buffer.slice(0,e);if(r.length>0){let e=this.getEmittableMessages(r,this.state,this.cursor.toString());this.onEmit(e)}t(e+1)}}}}}function d(e){let t,r;let n=[];return new TransformStream({start(i){t=new c((e,t)=>{(null==r?void 0:r.start)===t?n[n.length-1]=e:(n.push(e),r={start:t,primitive:e}),i.enqueue([...n])},t=>{e(t)})},transform(e,r){t.feed(e.delta)}})}},508716:(e,t,r)=>{"use strict";r.d(t,{C:()=>a});let n=new Int32Array(1),i=new Float32Array(n.buffer);class a{constructor(e){if(e&&!(e instanceof Uint8Array))throw Error("Must initialize a ByteBuffer with a Uint8Array");this._data=e||new Uint8Array(256),this._index=0,this._start=0,this.length=e?e.length:0}extendWindowTo(e){this._index=e._index}getNewWindowFromRight(){let e=new a(this._data);return e._index=this._index,e._start=this._index,e}windowToUint8Array(){return this._data.subarray(this._start,this._index)}toUint8Array(){return this._data.subarray(0,this.length)}readByte(){if(this._index+1>this._data.length)throw Error("Index out of bounds");return this._data[this._index++]}readByteArray(){let e=this.readVarUint(),t=this._index,r=t+e;if(r>this._data.length)throw Error("Read array out of bounds");this._index=r;let n=new Uint8Array(e);return n.set(this._data.subarray(t,r)),n}readVarFloat(){let e=this._index,t=this._data,r=t.length;if(e+1>r)throw Error("Index out of bounds");let a=t[e];if(0===a)return this._index=e+1,0;if(e+4>r)throw Error("Index out of bounds");let o=a|t[e+1]<<8|t[e+2]<<16|t[e+3]<<24;return this._index=e+4,o=o<<23|o>>>9,n[0]=o,i[0]}readVarUint(){let e=0,t=0;do{var r=this.readByte();e|=(127&r)<<t,t+=7}while(128&r&&t<35)return e>>>0}readVarInt(){let e=0|this.readVarUint();return 1&e?~(e>>>1):e>>>1}readVarUint64Bin(){let e=0,t="";do{var r=this.readByte();if(e<8){let e=((127&r)>>>0).toString(2);t=(128&r?e.padStart(7,"0"):e)+t}else{t=r.toString(2)+t;break}e+=1}while(128&r)return t}readVarUint64(){return this.convertBase(this.readVarUint64Bin(),2,10)}readVarInt64(){let e=this.readVarUint64Bin();if("1"!=e.slice(-1))return this.convertBase(e.slice(0,-1),2,10);{let t=this.parseToDigitsArray(e.slice(0,-1),2);return t=this.add(t,[1],2),"-"+this.convertBase(this.parseFromDigitsArray(t,2),2,10)}}readString(){let e="";for(;;){let t;let r=this.readByte();if(r<192)t=r;else{let e=this.readByte();if(r<224)t=(31&r)<<6|63&e;else{let n=this.readByte();t=r<240?(15&r)<<12|(63&e)<<6|63&n:(7&r)<<18|(63&e)<<12|(63&n)<<6|63&this.readByte()}}if(0===t)break;t<65536?e+=String.fromCharCode(t):(t-=65536,e+=String.fromCharCode((t>>10)+55296,(1023&t)+56320))}return e}_growBy(e){if(this.length+e>this._data.length){let t=new Uint8Array(this.length+e<<1);t.set(this._data),this._data=t}this.length+=e}writeByte(e){let t=this.length;this._growBy(1),this._data[t]=e}writeByteArray(e){this.writeVarUint(e.length);let t=this.length;this._growBy(e.length),this._data.set(e,t)}writeVarFloat(e){let t=this.length;i[0]=e;let r=n[0];if((255&(r=r>>>23|r<<9))==0){this.writeByte(0);return}this._growBy(4);let a=this._data;a[t]=r,a[t+1]=r>>8,a[t+2]=r>>16,a[t+3]=r>>24}writeVarUint(e){do{let t=127&e;e>>>=7,this.writeByte(e?128|t:t)}while(e)}writeVarInt(e){this.writeVarUint(e<<1^e>>31)}writeVarUint64Helper(e){if(e){var t=0;do{if(t<8){var r=parseInt(e.slice(-7),2);e=e.slice(0,-7)}else{var r=parseInt(e.slice(-8),2);e=e.slice(0,-8),this.writeByte(r);break}this.writeByte(e?128|r:r),t+=1}while(e)}}writeVarUint64(e){e=this.cleanNumericString(e);let t=this.convertBase(e,10,2);this.writeVarUint64Helper(t)}subtractOne(e){let t=1,r=e.split("").map(Number);for(let e=r.length-1;e>=0;e--)if(r[e]<t)r[e]=1;else{r[e]--,t=0;break}return r.join("").replace(/^0+/,"")}cleanNumericString(e){let t="";for(let r=0;r<e.length;r++){let n=e.charAt(r);(n>="0"&&n<="9"||0===r&&"-"===n)&&(t+=n)}return t}writeVarInt64(e){if(""!=(e=this.cleanNumericString(e))){if("-"!=e[0])var t=this.convertBase(e,10,2)+"0";else{var t=this.convertBase(e.slice(1),10,2);if("0"==t||""==t){this.writeVarUint64("0");return}t=this.subtractOne(t)+"1"}this.writeVarUint64Helper(t)}}add(e,t,r){let n=[],i=Math.max(e.length,t.length),a=0,o=0;for(;o<i||a;){let i=a+(o<e.length?e[o]:0)+(o<t.length?t[o]:0);n.push(i%r),a=Math.floor(i/r),o++}return n}multiplyByNumber(e,t,r){if(e<0||0===e)return[];let n=[],i=t;for(;1&e&&(n=this.add(n,i,r)),0!=(e>>=1);)i=this.add(i,i,r);return n}parseToDigitsArray(e,t){let r=e.toString().split(""),n=[];for(let e=r.length-1;e>=0;e--){let i=parseInt(r[e],t);if(isNaN(i))return[];n.push(i)}return n}parseFromDigitsArray(e,t){let r="";for(let n=e.length-1;n>=0;n--)r+=e[n].toString(t);return r}convertBase(e,t,r){let n=this.parseToDigitsArray(e,t);if(null===n)return"";let i=[0],a=[1];for(let e=0;e<n.length;e++)n[e]&&(i=this.add(i,this.multiplyByNumber(n[e],a,r),r)),a=this.multiplyByNumber(t,a,r);return this.parseFromDigitsArray(i,r)}writeString(e){let t;for(let r=0;r<e.length;r++){let n=e.charCodeAt(r);if(0===(t=r+1===e.length||n<55296||n>=56320?n:(n<<10)+e.charCodeAt(++r)+-56613888))throw Error("Cannot encode a string containing the null character");t<128?this.writeByte(t):(t<2048?this.writeByte(t>>6&31|192):(t<65536?this.writeByte(t>>12&15|224):(this.writeByte(t>>18&7|240),this.writeByte(t>>12&63|128)),this.writeByte(t>>6&63|128)),this.writeByte(63&t|128))}this.writeByte(0)}}},478180:(e,t,r)=>{"use strict";let n,i,a,o,l,s,c,d,u;r.d(t,{VC:()=>f,kR:()=>g});var p=((n=p||{}).POPULAR="popular",n.CREATED_AT="created_at",n.PUBLISHED_AT="published_at",n.ALL_TIME="all_time",n.FEATURED="featured",n),m=((i=m||{}).ALL="all",i.THIRD_PARTY_FLAGGED="third_party_flagged",i.THIRD_PARTY_MIGRATING="third_party_migrating",i.UNCATEGORIZED="uncategorized",i),_=((a=_||{}).HUB_FILES="HUB_FILES",a.PLUGINS="PLUGINS",a.PLUGIN_REVIEW="PLUGIN_REVIEW",a.WIDGET_REVIEW="WIDGET_REVIEW",a.PLUGIN_SECURITY_FORM_REVIEW="PLUGIN_SECURITY_FORM_REVIEW",a.HUB_FILE_REVIEW="HUB_FILE_REVIEW",a.COMMUNITY_MODERATION="COMMUNITY_MODERATION",a.VISUAL_COMPLIANCE="VISUAL_COMPLIANCE",a.COMMUNITY_CATEGORIES="COMMUNITY_CATEGORIES",a.COMMUNITY_CATEGORIES_2="COMMUNITY_CATEGORIES_2",a.COMMUNITY_SHELVES="COMMUNITY_SHELVES",a.COMMENTS="COMMENTS",a.TAGS_DESCRIPTIONS="TAGS_DESCRIPTIONS",a.COMMUNITY_SHELVES_2="COMMUNITY_SHELVES_2",a.BADGES="BADGES",a),h=((o=h||{}).REPORTED="REPORTED_COMMENTS",o.ALL="ALL_COMMENTS",o.ALL_RATINGS="ALL_RATINGS",o.REPORTED_RATINGS="REPORTED_RATINGS",o),g=((l=g||{}).COMMUNITY_LANDING="community_landing",l.BROWSE_PLUGINS_MODAL="browse_plugins_modal",l.BROWSE_WIDGETS_MODAL="browse_widgets_modal",l.EXPERIMENTAL="experimental",l),f=((s=f||{}).BLOCKED="blocked",s.ORG_PRIVATE="org_private",s.PENDING_USER_VISUAL_COMPLIANCE="pending_user_visual_compliance",s.PENDING_PUBLIC="pending_public",s.ORG_PRIVATE_PENDING_PUBLIC="org_private_pending_public",s.DELISTED="delisted",s.DELISTED_CREATOR_STRIPE_DISABLED="delisted_creator_stripe_disabled",s.APPROVED_PUBLIC="approved_public",s),E=((c=E||{}).INACTIVE="inactive",c.SCHEDULED="scheduled",c.FEATURED="featured",c.ARCHIVED="archived",c),y=((d=y||{}).SPAM="SPAM",d.HAM="HAM",d),b=((u=b||{}).COMMENT="comment",u.HUB_FILE="hub_file",u.PROFILE="profile",u)},630756:(e,t,r)=>{"use strict";r.d(t,{OC:()=>o,Y5:()=>s,eS:()=>d});var n=r(203736),i=r(160276);let a=i.c.createLazyComponent(()=>r.e(7220).then(r.bind(r,591436)).then(e=>e.AutosaveLogOutModal),(0,n.kj)("AutosaveLogOutModal")),o=(0,n.U9)(a),l=i.c.createLazyComponent(()=>r.e(7220).then(r.bind(r,591436)).then(e=>e.HasAutosaveChangesModal),(0,n.kj)("HasAutosaveChangesModal")),s=(0,n.U9)(l),c=i.c.createLazyComponent(()=>r.e(7220).then(r.bind(r,51056)).then(e=>e.AutosaveLearnMoreModal),(0,n.kj)("AutosaveLearnMoreModal")),d=(0,n.U9)(c)},613072:(e,t,r)=>{"use strict";let n;r.d(t,{io:()=>l,WE:()=>c,MF:()=>u,CD:()=>o.C});var i=r(203736),a=r(564272),o=r(783100),l=((n=l||{}).ORG_SELF_SERVE_UPGRADE_MODAL="org_self_serve_upgrade_modal",n.PLAN_COMPARISON="plan_comparison_modal",n.LIBRARY_DUPLICATE_OSS_SALES_UPSELL="library_duplicate_oss_sales_upsell",n);let s=a.c.createLazyComponent(()=>Promise.all([r.e(5672),r.e(668)]).then(r.bind(r,370936)).then(e=>e.UniversalUpgradeSequence),(0,i.kj)("UniversalUpgradeSequence")),c=(0,i.U9)(s,"UniversalUpgradeSequence"),d=a.c.createLazyComponent(()=>Promise.all([r.e(5672),r.e(668)]).then(r.bind(r,906120)).then(e=>e.UpgradeContactSalesModal),(0,i.kj)("UpgradeContactSalesModal")),u=(0,i.U9)(d,"UpgradeContactSalesModal")},948580:(e,t,r)=>{"use strict";r.d(t,{o:()=>C,s:()=>A});var n=r(307824),i=r(120304),a=r(125504),o=r.n(a),l=r(250008),s=r(796488),c=r(148276),d=r(537096),u=r(698240),p=r(560072),m=r(441388),_=r(422416),h=r(815464),g=r(559572),f=r(27371),E=r(142548),y=r(550884),b=r(539500),v=r(786464),I=r(584044),w=r(687112),T=r(117408),S=r(122084);function C(e){return!!e&&!(0,s.qI)(e.email)}function A({currency:e,chooseStarterPlan:t,chooseProPlan:r,chooseOrgPlan:a,updateCurrency:l,isProTrial:s,upsellSource:c,isProCurrent:d,overrideHighlightedPlan:p,overrideHighlightedBadgeText:f,featureList:E,parentRef:S,withUpgradeExistingTeamOption:A}){let N=(0,i.w1)(e=>e.dropdownShown),R=C((0,i.w1)(e=>e.user)),P=(0,i.w1)(e=>e.payment),[M,k]=n.useState(P.billingPeriod?I.sL[P.billingPeriod]:g.wp.ANNUAL),{highlightedPlan:D,orderedFeatures:F,orderedPlans:x,currentPlan:U,billingPeriod:B,seeMoreLinkText:G,shouldShowCtaFooterRow:V}=(0,I.ob)({isProCurrent:d,featureList:E,overrideHighlightedPlan:p,subscriptionPlan:M}),H=(0,I.gX)(S);return n.createElement(m.kH,{name:I.ui,properties:{highlightedPlan:D,currentPlan:U}},n.createElement("div",{className:T.uQ},!d&&n.createElement("div",{className:T.mY},n.createElement(v.u,{currentPlan:M,setCurrentPlan:e=>{k(e)}})),(0,_.aU)()&&n.createElement("div",{className:T.Uu},n.createElement(y.w,{currency:e,dropdownShown:N,supportedCurrencies:(0,_.WQ)(),changeCurrency:l,shortFormDisplay:!1})),n.createElement("div",{className:T.K_,role:"tabpanel",id:`${M}-tab`},n.createElement("table",{className:T.cl},n.createElement("colgroup",null,n.createElement("col",{span:1}),x.map(e=>n.createElement("col",{key:e,span:1}))),n.createElement("thead",null,n.createElement("tr",null,n.createElement("th",{className:T.W9}),x.map(e=>n.createElement("th",{key:e,className:o()(T.g,u.cx.pt24.pb12.$,{[T.ai]:e===D})},n.createElement(w.O0,{planMode:e,isProCurrent:d,isProTrial:s,isHighlighted:e===D,upsellSource:c,overrideHighlightedBadgeText:f})))),n.createElement("tr",null,n.createElement("th",{className:T.W9}),x.map(t=>n.createElement("th",{key:t,className:o()(T.g,u.cx.pt12.pb12.$,{[T.ai]:t===D})},n.createElement(w.IL,{planMode:t,currency:e,currentSubscriptionPlan:M,setCurrentSubscriptionPlan:k,isCurrentPlan:t===U,showFullCurrencyFormat:"usd"===e&&"cad"===(0,_.wR)()})))),n.createElement("tr",null,n.createElement("th",{className:T.W9}),x.map(e=>n.createElement("th",{key:e,className:o()(T.g,u.cx.pt12.$,{[T.ai]:e===D})},n.createElement(w.sD,{planMode:e,chooseStarterPlan:t,chooseProPlan:()=>r(B),chooseOrgPlan:a,isCurrentPlan:e===U,upsellSource:c})))),n.createElement("tr",null,n.createElement("th",{className:T.W9}),x.map(e=>n.createElement("th",{key:e,className:o()(T.g,u.cx.pt8.pb12.$,{[T.ai]:e===D})},n.createElement(w.cz,{planMode:e,withUpgradeExistingTeamOption:e===h.Mp.PRO&&A?()=>A(B):void 0}))))),n.createElement("tbody",null,F.map(e=>n.createElement(O,{key:e,feature:e,orderedPlans:x,highlightedPlan:D})),V&&n.createElement("tr",{"data-testid":"comparison-chart-cta-footer-row"},n.createElement("td",{className:T.W9},n.createElement(L,{linkText:G})),x.map(e=>n.createElement("td",{key:e,className:o()(T.g,u.cx.pt12.pb12.$,{[T.ai]:e===D})},n.createElement(w.sD,{planMode:e,chooseStarterPlan:t,chooseProPlan:()=>r(B),chooseOrgPlan:a,isCurrentPlan:e===U,upsellSource:c})))),H)),H,!V&&n.createElement(L,{linkText:G}),!d&&R&&n.createElement(b.a,null))))}function O({feature:e,orderedPlans:t,highlightedPlan:r}){var i,a;let[s,c]=n.useState(!1),d=n.useRef(),u=void 0!==f.St[e].tooltipSpecialKey,p=u?E.wL.SPECIAL:E.wL.TEXT,m=u?f.St[e].tooltipSpecialKey:null==(a=(i=f.St[e]).details)?void 0:a.call(i);return n.createElement("tr",null,n.createElement("td",{className:T.W9,"data-tooltip-type":p,"data-tooltip":m,"data-tooltip-show-right":!0,"data-tooltip-show-immediately":!0,"data-tooltip-light-mode":!0,onMouseEnter:()=>{s||(d.current=setTimeout(()=>{c(!0),(0,l.we)("Plan Comparison Feature Viewed",{featureName:f.St[e].id})},1e3))},onMouseLeave:()=>{clearTimeout(d.current)}},n.createElement("p",{className:T.mM},f.St[e].name())),t.map(t=>n.createElement("td",{key:t,className:o()(T.M3,{[T.ai]:t===r})},n.createElement(N,{key:t,plan:t,feature:e}))))}function N({plan:e,feature:t}){let r=f.M7[e][t];return"boolean"==typeof r?r?n.createElement(d.A,{svg:S.c,className:T.G0,title:(0,p.t)("plan_comparison.chart.included")}):null:n.createElement(n.Fragment,null,r())}function L(e){return n.createElement(c.gf,{className:T.cJ,href:h.Ul,target:"_blank",trusted:!0,"data-testid":"comparison-chart-see-all-features-link"},e.linkText)}},912416:(e,t,r)=>{"use strict";r.d(t,{c:()=>c,q:()=>s});var n=r(307824),i=r(537096),a=r(507528),o=r(371676),l=r(831564);function s(){return n.createElement(i.A,{svg:o.c,className:a.K})}function c(){return n.createElement(i.A,{svg:l.c,className:a.K})}},994724:(e,t,r)=>{"use strict";r.d(t,{E:()=>u,s:()=>p});var n=r(307824),i=r(560072),a=r(152568),o=r(119648),l=r(381928),s=r(41620),c=r(869428);function d(e){let t=n.createElement(i.Tx,{id:"community.badge.creator_fund"});return n.createElement(s.kt,{background:"white",height:e.height,border:e.border},e.disableIcon?t:n.createElement(s.iO,null,n.createElement(s.QP,null,n.createElement(a.U,null)),t))}function u({height:e,badges:t,border:r,disableIcon:i}){return t.some(e=>e===o._.CREATOR_FUND)?n.createElement(d,{height:e,border:r,disableIcon:i}):null}function p(e){let t=n.createElement("a",{href:"https://figma.com/community-creators",target:"_blank",className:c.Et,onClick:e=>{e.stopPropagation()}},n.createElement(i.Tx,{id:"community.detail_view.creator_fund_tooltip"}),n.createElement("span",{className:c.R},n.createElement(i.Tx,{id:"community.learn_more"})));return n.createElement(l.o5,{preview:t},e.children)}},613120:(e,t,r)=>{"use strict";r.d(t,{WW:()=>d,YH:()=>u,uw:()=>c});var n=r(307824),i=r(560072),a=r(484168),o=r(119648),l=r(381928),s=r(869428);function c(e){return e.some(e=>e===o._.FIGMA_PARTNER)}function d({badges:e},t){return c(e)?n.createElement(a.E,{showBorder:t}):null}function u(e){let t=n.createElement("a",{href:"https://www.figma.com/partners/",target:"_blank",className:s.Et,onClick:e=>{e.stopPropagation()}},n.createElement(i.Tx,{id:"community.detail_view.figma_partner_this_creator_is"}),n.createElement("span",{className:s.R},n.createElement(i.Tx,{id:"community.learn_more"})));return n.createElement(l.o5,{preview:t},e.children)}},653700:(e,t,r)=>{"use strict";let n;r.d(t,{KC:()=>y,iE:()=>E,kv:()=>b,yu:()=>_});var i=r(307824),a=r(120304),o=r(560072),l=r(212980),s=r(417184),c=r(778112),d=r(197720),u=r(520912),p=r(41620);function m(e){let t=(0,l.SO)(e.resource.monetized_resource_metadata);return i.createElement(p.kt,{background:"light",height:e.height},t)}function _({resource:e,showPrice:t=!1,height:r,isPaymentAnnualSubscription:n=!1,backgroundColor:a,border:s}){if(e&&(0,u.GI)(e.monetized_resource_metadata)){let c=n?(0,l.SO)(e.monetized_resource_metadata,!0):(0,l.SO)(e.monetized_resource_metadata);return i.createElement(p.kt,{height:r,background:a||"light",border:s},t?i.createElement(o.Tx,{id:"community.buyer.subscribed_with_price",priceString:c}):i.createElement(o.Tx,{id:"community.buyer.subscribed"}))}return i.createElement(p.kt,{height:r,background:a||"light",border:s},i.createElement(o.Tx,{id:"community.buyer.purchased"}))}function h({...e}){return i.createElement(p.kt,null,i.createElement(o.Tx,{id:"community.detail_view.third_party_badge.figma_partner"}))}function g(e){return i.createElement(p.kt,{background:"light",height:e.height},i.createElement(o.Tx,{id:"community.detail_view.third_party_badge.off_platform"}))}function f(e){return i.createElement(p.kt,{background:"light",height:e.height},i.createElement(o.Tx,{id:"community.buyer.in_app_purchases"}))}var E=((n=E||{}).PURCHASED="purchased",n.OFF_PLATFORM="off_platform",n.FREEMUM="freemium",n.PRICE="price",n);function y({resource:e,height:t,validBadges:r=Object.values(E)}){return b({resource:e,height:t,validBadges:r,authedActiveCommunityProfile:(0,a.w1)(e=>e.authedActiveCommunityProfile)})}function b({resource:e,height:t,validBadges:r=Object.values(E),authedActiveCommunityProfile:n}){return e?!(n&&(0,s.a)(n))&&(0,d.u)(e)&&e.community_resource_payment&&(0,l.OI)(e.community_resource_payment)?r.includes("purchased")?i.createElement(_,{resource:e,height:t}):null:e.monetization_status&&e.monetization_status===u.SU.FIGMA_PARTNER?i.createElement(h,null):(0,c.YV)(e)?r.includes("freemium")?i.createElement(f,{height:t}):null:(0,c.OG)(e)?r.includes("price")?i.createElement(m,{resource:e,height:t}):null:(0,c.GU)(e)&&r.includes("off_platform")?i.createElement(g,{height:t}):null:null}},854784:(e,t,r)=>{"use strict";r.d(t,{u:()=>o});var n=r(307824),i=r(994724),a=r(869428);function o(e){let t=(0,i.E)(e);if(t){let r=e.hideTooltip?t:n.createElement(i.s,null,t);return n.createElement("div",{className:a.i0},r)}return null}},344548:(e,t,r)=>{"use strict";r.d(t,{s:()=>h});var n=r(307824),i=r(120304),a=r(337384),o=r(212980),l=r(417184),s=r(325252),c=r(778112),d=r(653700),u=r(560072),p=r(41620);function m({orgName:e}){return n.createElement(p.kt,{background:"white",height:"16",border:"strong"},e?n.createElement(u.Tx,{id:"community.plugins.private_for_plugin_org_name",orgName:e}):n.createElement(u.Tx,{id:"community.plugins.private_for_your_organization"}))}var _=r(854784);function h({resource:e}){var t,r;let u=(0,i.w1)(e=>e.authedActiveCommunityProfile),p=(0,a.q)(e),h=(0,o.OI)(p),g=!(0,l.a)(u)&&h?n.createElement(d.yu,{resource:e,backgroundColor:"white",height:"16",border:"strong"}):null,f=((0,c.gD)(e)||(0,c.mc)(e))&&(0,s.o3)(e)?n.createElement(m,{orgName:null==(r=null==(t=e.roles)?void 0:t.org)?void 0:r.name}):void 0;return n.createElement(n.Fragment,null,g||f||n.createElement(_.u,{badges:e.badges,height:"16",border:"strong",disableIcon:!0}))}},693728:(e,t,r)=>{"use strict";r.d(t,{I:()=>_});var n=r(307824),i=r(219023),a=r(103839),o=r(560072);let l=n.createElement("span",null,n.createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("rect",{width:"16",height:"16",fill:"var(--color-background)"}),n.createElement("path",{d:"M1.8843 3.04791L2.23141 3.40779L1.8843 3.04791ZM7.12543 3.04791L7.47254 2.68802L7.12543 3.04791ZM1.8843 8.10293L2.23141 7.74304L2.23141 7.74304L1.8843 8.10293ZM2.75826 8.94585L3.10528 9.30582L3.47859 8.94594L3.10536 8.58597L2.75826 8.94585ZM2.75823 8.94588L2.41121 8.58591L2.0379 8.9458L2.41112 9.30577L2.75823 8.94588ZM7.99935 14.0009L7.65225 14.3608L7.99935 14.6956L8.34646 14.3608L7.99935 14.0009ZM14.114 8.10338L13.7669 7.74349L13.7669 7.74349L14.114 8.10338ZM14.114 3.04836L14.4611 2.68847L14.4611 2.68847L14.114 3.04836ZM8.87288 3.04836L8.52577 2.68847L8.52577 2.68847L8.87288 3.04836ZM7.99939 3.89083L7.65228 4.25072L7.99939 4.5855L8.34649 4.25072L7.99939 3.89083ZM2.23141 3.40779C3.48501 2.19871 5.52472 2.19871 6.77832 3.40779L7.47254 2.68802C5.83154 1.1053 3.17819 1.1053 1.53719 2.68802L2.23141 3.40779ZM2.23141 7.74304C0.987968 6.54376 0.987968 4.60708 2.23141 3.40779L1.5372 2.68802C-0.113961 4.28055 -0.113961 6.87029 1.5372 8.46281L2.23141 7.74304ZM3.10536 8.58597L2.23141 7.74304L1.5372 8.46281L2.41115 9.30574L3.10536 8.58597ZM3.10525 9.30585L3.10528 9.30582L2.41124 8.58588L2.41121 8.58591L3.10525 9.30585ZM8.34646 13.641L3.10533 8.586L2.41112 9.30577L7.65225 14.3608L8.34646 13.641ZM13.7669 7.74349L7.65225 13.641L8.34646 14.3608L14.4611 8.46326L13.7669 7.74349ZM13.7669 3.40824C15.0103 4.60753 15.0103 6.54421 13.7669 7.74349L14.4611 8.46326C16.1123 6.87074 16.1123 4.281 14.4611 2.68847L13.7669 3.40824ZM9.21998 3.40824C10.4736 2.19916 12.5133 2.19916 13.7669 3.40824L14.4611 2.68847C12.8201 1.10575 10.1668 1.10575 8.52577 2.68847L9.21998 3.40824ZM8.34649 4.25072L9.21998 3.40824L8.52577 2.68847L7.65228 3.53094L8.34649 4.25072ZM6.77832 3.40779L7.65228 4.25072L8.34649 3.53094L7.47254 2.68802L6.77832 3.40779Z",fill:"var(--color-icon)"}))),s=n.createElement("span",null,n.createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("rect",{width:"16",height:"16",fill:"var(--color-background)"}),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.12543 3.04791C5.67813 1.652 3.3316 1.652 1.8843 3.04791C0.437004 4.44381 0.437004 6.70702 1.8843 8.10293L2.75826 8.94585L2.75823 8.94588L7.99935 14.0009L14.114 8.10338C15.5613 6.70747 15.5613 4.44426 14.114 3.04836C12.6667 1.65245 10.3202 1.65245 8.87288 3.04836L7.99939 3.89083L7.12543 3.04791Z",fill:"#F24822"}),n.createElement("path",{d:"M1.8843 3.04791L2.23141 3.40779L1.8843 3.04791ZM7.12543 3.04791L7.47254 2.68802L7.12543 3.04791ZM1.8843 8.10293L2.23141 7.74304L2.23141 7.74304L1.8843 8.10293ZM2.75826 8.94585L3.10528 9.30582L3.47859 8.94594L3.10536 8.58597L2.75826 8.94585ZM2.75823 8.94588L2.41121 8.58591L2.0379 8.9458L2.41112 9.30577L2.75823 8.94588ZM7.99935 14.0009L7.65225 14.3608L7.99935 14.6956L8.34646 14.3608L7.99935 14.0009ZM14.114 8.10338L13.7669 7.74349L13.7669 7.74349L14.114 8.10338ZM14.114 3.04836L14.4611 2.68847L14.4611 2.68847L14.114 3.04836ZM8.87288 3.04836L8.52577 2.68847L8.52577 2.68847L8.87288 3.04836ZM7.99939 3.89083L7.65228 4.25072L7.99939 4.5855L8.34649 4.25072L7.99939 3.89083ZM2.23141 3.40779C3.48501 2.19871 5.52472 2.19871 6.77832 3.40779L7.47254 2.68802C5.83154 1.1053 3.17819 1.1053 1.53719 2.68802L2.23141 3.40779ZM2.23141 7.74304C0.987968 6.54376 0.987968 4.60708 2.23141 3.40779L1.5372 2.68802C-0.113961 4.28055 -0.113961 6.87029 1.5372 8.46281L2.23141 7.74304ZM3.10536 8.58597L2.23141 7.74304L1.5372 8.46281L2.41115 9.30574L3.10536 8.58597ZM3.10525 9.30585L3.10528 9.30582L2.41124 8.58588L2.41121 8.58591L3.10525 9.30585ZM8.34646 13.641L3.10533 8.586L2.41112 9.30577L7.65225 14.3608L8.34646 13.641ZM13.7669 7.74349L7.65225 13.641L8.34646 14.3608L14.4611 8.46326L13.7669 7.74349ZM13.7669 3.40824C15.0103 4.60753 15.0103 6.54421 13.7669 7.74349L14.4611 8.46326C16.1123 6.87074 16.1123 4.281 14.4611 2.68847L13.7669 3.40824ZM9.21998 3.40824C10.4736 2.19916 12.5133 2.19916 13.7669 3.40824L14.4611 2.68847C12.8201 1.10575 10.1668 1.10575 8.52577 2.68847L9.21998 3.40824ZM8.34649 4.25072L9.21998 3.40824L8.52577 2.68847L7.65228 3.53094L8.34649 4.25072ZM6.77832 3.40779L7.65228 4.25072L8.34649 3.53094L7.47254 2.68802L6.77832 3.40779Z",fill:"#F24822"})));var c=r(142548),d=r(133648);function u({particleSystem:e,children:t}){let[r,i]=(0,n.useState)([]);return((0,d.U)((0,n.useCallback)(t=>{let r=e.getEntities().length;e.update(Math.min(Math.max(t/1e3,.001),.2)),(e.getEntities().length>0||r>0)&&i(e.getParticles())},[e,i])),r.length)?n.createElement("div",{className:"particle_system--particleContainer--XcgSY"},r.map((e,r)=>n.createElement("div",{className:"particle_system--particle--zD5gS",key:r,style:{transform:`translate3d(${e.position.x}px, ${e.position.y}px, 0px) rotate(${e.rotation}rad) translate(-50%, -50%) scale(${e.scale})`}},t))):null}class p extends i.sb{constructor(e,t,r){super(),this.position=e,this.kick=t,this.rotation=r,this.scale=1+Math.random(),this.gravity={x:0,y:-100},this.kickDecay=.87,this.lifetime=3}}class m extends i.g5{constructor(e,t){super(),this.position=e,this.addParticle=t,this.emissionProfile=e=>3+Math.min(6,12*e),this.emitParticle=()=>{let e=new a.Cg(Math.random()-.5,Math.random()-.5);e.y+=.2;let t=e.unit();t.y+=.3;let r=t.scale(500*Math.pow(Math.random(),.6)),n=.3*t.x;this.addParticle(new p({x:this.position.x,y:this.position.y},r,n))}}}function _(e){let t=n.useRef(new i.ac).current,r=n.useRef(null),d=()=>{var e;let n=null==(e=r.current)?void 0:e.getBoundingClientRect();if(n){let e=new a.Cg(n.left+n.width/2,n.top+n.height/2);t.addEntity(new m(e,t.addParticle))}};return e.disabled?n.createElement("button",{className:"base_like_button--buttonContainerDisabled--sOWAD base_like_button--buttonContainer--vfBIa cta_button--buttonBase--xMT0c text--fontNeg14--ARPWl text--_fontBase--QdLsd text--_negText--j9g-L",disabled:e.disabled},n.createElement("div",{className:"base_like_button--likeIconDisabled--dfrWS base_like_button--likeIcon--70nFu text--fontPos18--rYXJb text--_fontBase--QdLsd"},l)):n.createElement("button",{className:"base_like_button--buttonContainer--vfBIa cta_button--buttonBase--xMT0c text--fontNeg14--ARPWl text--_fontBase--QdLsd text--_negText--j9g-L",onClick:t=>{var n;null==(n=e.onClick)||n.call(e,t),e.shouldTriggerFunHearts&&.3>=Math.random()&&r&&d()},"data-tooltip":(0,o.t)("community.like"),"data-tooltip-type":c.wL.TEXT,"data-testid":"like-button"},n.createElement("div",{className:"base_like_button--likeIcon--70nFu text--fontPos18--rYXJb text--_fontBase--QdLsd",ref:r},e.isResourceLiked?s:l),n.createElement(u,{particleSystem:t},s))}},165472:(e,t,r)=>{"use strict";r.d(t,{U:()=>l});var n=r(307824),i=r(578412),a=r(618664),o=r(693728);function l(){return n.createElement(o.I,{onClick:()=>(0,a.Ki)(i.o9.SIGN_UP,{preventDefaultRedirect:!0}),isResourceLiked:!1,shouldTriggerFunHearts:!1})}},21480:(e,t,r)=>{"use strict";r.d(t,{Ah:()=>v,eA:()=>b,gX:()=>I,wt:()=>w});var n=r(307824),i=r(125504),a=r.n(i),o=r(250008),l=r(703520),s=r(698240),c=r(560072),d=r(693400),u=r(212980),p=r(441388),m=r(514916),_=r(778112),h=r(520912),g=r(224100),f=r(142548),E=r(187044),y=r(344960);function b(e,t,r,n){(0,o.we)("cmty_purchase_button_click",{context:t,resource_type:(0,d.qC)(e),resource_id:e.id,user_id:r,profile_id:n})}function v({resource:e,payment:t,context:r,tooltipText:i,disabled:o=!1,isLoading:d=!1,onClick:b=()=>{},onGetFreePreview:v=()=>{},enableWideButtonForStickyFooter:T}){if(!(0,_.OG)(e))return null;let S=!!((0,_.SC)(e)&&e.viewer_mode===m.C0.WHITEBOARD||((0,_.gD)(e)||(0,_.mc)(e))&&e.editor_type===g.kr.FIGJAM),C=r===_.qI.DETAIL&&(0,_.OG)(e)&&(0,_.SC)(e)&&"whiteboard"!==e.viewer_mode,A=n.createElement(c.Tx,{id:"community.buyer.get_free_preview"}),O=n.createElement(p.kH,{name:E.i8.COMMUNITY_HUB_FILE_GET_FREE_PREVIEW_BUTTON},n.createElement(p.Ix,{onClick:v,dataTestId:"community-get-free-preview-button",className:a()(y.fd,s.cx.cursorPointer.$)},A));return n.createElement("div",{className:a()(y.UV,{[y.kt]:r===_.qI.INSERTS})},n.createElement("button",{"data-tooltip-type":o&&!d&&i?f.wL.TEXT:void 0,"data-tooltip":o&&!d&&i?i:void 0,"data-tooltip-show-immediately":!0,className:a()({[y.dO]:r!==_.qI.PLUGIN_ROW,[y.Ku]:r===_.qI.PLUGIN_ROW&&!S,[y.Ux]:r===_.qI.PLUGIN_ROW&&S,[y.u6]:r!==_.qI.INSERTS,[y.Ej]:r===_.qI.INSERTS,[y.GU]:T,[y.OC]:r!==_.qI.PLUGIN_ROW&&S,[y.SE]:o}),disabled:d||o,onClick:b,"data-testid":"community-purchase-button"},d&&n.createElement(l.kM,null),r!==_.qI.PLUGIN_ROW&&n.createElement("div",{style:{opacity:d?0:1},className:y.qm},(0,h.GI)(e.monetized_resource_metadata)?n.createElement(c.Tx,{id:"community.buyer.subscribe"}):n.createElement(c.Tx,{id:"community.buyer.buy"})),n.createElement("div",{style:{opacity:d?0:1},className:a()({[y.eg]:r!==_.qI.PLUGIN_ROW,[y.qm]:r===_.qI.PLUGIN_ROW})},(0,u.SO)(e.monetized_resource_metadata))),C&&O,r===_.qI.DETAIL&&I({resource:e,payment:t})&&n.createElement(w,{metadata:e.monetized_resource_metadata}))}function I({resource:e,payment:t}){let r=e.monetized_resource_metadata;return!!(r&&(0,h.GI)(r))&&!!r.trial_length_in_days&&(!t||!t.subscription_expires_at)}function w({metadata:e,condensed:t}){return n.createElement("span",{className:t?y.ID:y._u},t?n.createElement(c.Tx,{id:"community.resource.free_trial_days",days:e.trial_length_in_days}):n.createElement(c.Tx,{id:"community.resource.includes_free_trial_days",days:e.trial_length_in_days}))}},492376:(e,t,r)=>{"use strict";r.d(t,{w:()=>s});var n=r(307824),i=r(936756),a=r(560072),o=r(332320),l=r(759588);function s(e){let t=(0,o.Ke)(e.resource);if(!t)return null;let r=(0,i.aw)(t);return n.createElement("div",{className:l.k},n.createElement("div",{className:l.S},"|"),n.createElement(a.Tx,{id:"community.try.people_use_this",numPeople:t,numPeopleStr:r}))}},689428:(e,t,r)=>{"use strict";r.d(t,{zV:()=>ee,y0:()=>et});var n=r(307824),i=r(120304),a=r(125504),o=r.n(a),l=r(843148),s=r(698240),c=r(560072),d=r(557100),u=r(61836),p=r(506616),m=r(326660),_=r(58908),h=r(418084),g=r(557044),f=r(578412),E=r(778524),y=r(317704),b=r(618664),v=r(745500),I=r(693400),w=r(986208),T=r(323576),S=r(894764),C=r(90340),A=r(417184),O=r(472956),N=r(778112),L=r(643812);let R="save-button-clicked";function P(e,t,r,n){return function(i,a){var o,s;let d=a();if((0,C.a2)(k({state:d,resource:e,viewContext:t,action:"save",loggedIn:!!d.user,forOrg:r}),R),!d.user){(0,m.oP)(_._.COMMUNITY,Error("[Community Saves] Attempted unsave without currentUser"));return}if((0,N.SC)(e)){let t=()=>{let t=g.cp.post(`/api/hub_file/${e.id}/save`),r=`optimistic-resource-save-${(0,h.c)()}`;(0,u.w3)().optimisticallyCreate({ResourceSave:{[r]:{userId:d.user.id,hubFileId:e.id,createdAt:new Date(Date.now())}}},t),t.then(()=>{i(y.A.enqueue({message:(0,c.t)("community.saves.file_saved_for_your_profile"),type:"resource-save"}))}).catch(e=>{(0,m.oP)(_._.COMMUNITY,e)})};if(!(null==(o=d.authedActiveCommunityProfile)?void 0:o.public_at)){i(T.A5({type:L.i0,data:{userId:d.user.id,variations:[L.q0.OPT_IN],onFinish:t}}));return}t()}else i((0,w.us)({id:e.id,resourceType:(0,I.Se)(e),communityProfile:a().authedActiveCommunityProfile||void 0,orgId:(0,l.Ub)().cmty_deprecate_browse_as_admin?n:r&&(null==(s=d.authedActiveCommunityProfile)?void 0:s.org_id)||void 0,source:w.wL.COMMUNITY_HUB,optimisticData:{resource:e}}))}}function M(e,t,r,n){return function(i,a){var o;let s=a();if(!s.user){(0,m.oP)(_._.COMMUNITY,Error("[Community Saves] Attempted save without currentUser"));return}((0,C.a2)(k({state:s,resource:e,viewContext:t,action:"unsave",loggedIn:!!s.user,forOrg:r}),R),(0,N.SC)(e))?g.cp.del(`/api/hub_file/${e.id}/save`).then(()=>{i(y.A.enqueue({message:(0,c.t)("community.saves.file_removed_from_your_profile"),type:"resource-save"}))}).catch(e=>{(0,m.oP)(_._.COMMUNITY,e)}):i((0,w.SY)({id:e.id,resourceType:(0,I.Se)(e),communityProfile:a().authedActiveCommunityProfile||void 0,orgId:(0,l.Ub)().cmty_deprecate_browse_as_admin?n:r&&(null==(o=s.authedActiveCommunityProfile)?void 0:o.org_id)||void 0,source:w.wL.COMMUNITY_HUB}))}}function k({state:e,resource:t,viewContext:r,action:n,loggedIn:i,forOrg:a=!1}){var o;return{action:n,resourceId:t.id,resourceType:(0,I.Se)(t),viewContext:r,loggedIn:i,forOrgId:a?null==(o=e.authedActiveCommunityProfile)?void 0:o.org_id:void 0,...(0,v.T)(e)}}function D(e,t){let r=(0,i.OY)(),a=!!function(e,t){var r,n,i,a;let o=(0,p.Qb)(O.mIC,{hubFileId:t},{enabled:e===N.y4.HUB_FILE}),l=(0,p.Qb)(O.kZy,{pluginId:t,orgIds:[]},{enabled:e===N.y4.PLUGIN||e===N.y4.WIDGET});return((null==(n=null==(r=o.data)?void 0:r.resourceSave)?void 0:n.createdAt)||(null==(a=null==(i=l.data)?void 0:i.pluginInstall)?void 0:a.createdAt))??null}((0,I.VF)(e),e.id),o=n.useCallback(n=>{(0,E.Y9)({id:"cmty-detail-view-saved-button-clicked"}),null==n||n.stopPropagation(),a?r(M(e,t)):r(P(e,t))},[a,r,e,t]);return n.useCallback(e=>{(0,b.Ki)(f.o9.SIGN_UP,{preventDefaultRedirect:!0})},[]),{onUserSaveActionClick:o,isResourceSavedForUser:a}}function F(e,t){var r;let a=(0,i.OY)(),o=(0,i.w1)(e=>(0,A.qS)(e)),l=(0,p.Qb)(O.kZy,{pluginId:e.id,orgIds:Object.keys(o)}),s=(0,p.Qb)(O.q0q,{pluginId:e.id,orgIds:Object.keys(o)}),c=n.useMemo(()=>{var t,r;if((0,N.SC)(e))return{};let n=(null==(t=l.data)?void 0:t.orgPluginInstalls.status)!==p.j5.Loaded?[]:(null==(r=l.data)?void 0:r.orgPluginInstalls.data)||[],i={};return Object.values(o).forEach(t=>{var r,a;(!((0,N.gD)(e)&&t.plugins_whitelist_enforced||(0,N.mc)(e)&&t.widgets_whitelist_enforced)||((null==(r=s.data)?void 0:r.orgAllowlistedPlugins.status)!==p.j5.Loaded?[]:(null==(a=s.data)?void 0:a.orgAllowlistedPlugins.data)||[]).some(e=>e.orgId===t.id))&&(i[t.id]=n.some(e=>e.orgId===t.id))}),i},[o,s,e,null==(r=l.data)?void 0:r.orgPluginInstalls]),d=n.useCallback((r,n)=>{null==n||n.stopPropagation(),c[r]?a(M(e,t,!0,r)):a(P(e,t,!0,r))},[a,e,t,c]);return{savesByOrgId:c,onOrgSaveAction:d}}var x=r(572748),U=r(142548);let B="save_button--buttonContainerBrandColors--xQhK7",G="save_button--buttonContainerBase--m8dS8 text--fontNeg14--ARPWl text--_fontBase--QdLsd text--_negText--j9g-L",V="save_button--buttonContainerBaseWide--EDZcF",H="save_button--buttonContainer--JQjtD save_button--buttonContainerBase--m8dS8 text--fontNeg14--ARPWl text--_fontBase--QdLsd text--_negText--j9g-L",W="save_button--iconContainer--Brlqe",K="save_button--iconDisabled--15buP save_button--iconContainer--Brlqe";function Y(e){return n.createElement(q,{...e})}function q({resource:e,viewContext:t,authedActiveCommunityProfile:r}){let a=(0,x.Ce)(),{onOrgInstallActionClick:o,isResourceInstalledForOrg:l}=function(e,t){let r=(0,i.OY)(),{orgPlugins:a,orgWidgets:o}=(0,S.qK)(),l=(0,N.mc)(e)?o[e.id]:a[e.id];return{onOrgInstallActionClick:n.useCallback(n=>{n.stopPropagation(),l?r(M(e,t,!0)):r(P(e,t,!0))},[r,l,e,t]),isResourceInstalledForOrg:l}}(e,t),s=(0,N.mc)(e)?null==a?void 0:a.widgets_whitelist_enforced:null==a?void 0:a.plugins_whitelist_enforced,u=(0,S.u_)(),p=(0,S.iA)(),m=(0,N.mc)(e)?!!p[e.id]:!!u[e.id];return s&&!m?n.createElement("button",{className:H,disabled:!0},n.createElement("div",{className:K},n.createElement(d.Ex,null))):n.createElement("button",{className:H,onClick:o,"data-tooltip-type":U.wL.TEXT,"data-tooltip":l?(0,c.t)("community.saves.remove_this_resource_for_everyone_at",{orgName:r.name}):(0,c.t)("community.saves.save_this_resource_for_everyone_at",{orgName:r.name})},n.createElement("div",{className:W},l?n.createElement(d.mA,null):n.createElement(d.Ex,null)))}var j=r(403132),$=r(108688);let Z="community-save-button-dropdown";function z(e){let{viewContext:t}=e,r=(0,i.w1)(e=>e.authedActiveCommunityProfile);return(0,l.Ub)().cmty_deprecate_browse_as_admin?n.createElement(Q,{resource:e.resource,viewContext:t,type:e.type,theme:e.theme,allowOrgSaves:e.allowOrgSaves,enableWideButtonForStickyFooter:e.enableWideButtonForStickyFooter}):(null==r?void 0:r.team_id)||(null==r?void 0:r.org_id)&&(0,N.SC)(e.resource)?n.createElement("button",{className:H,disabled:!0},n.createElement("div",{className:K},n.createElement(d.Ex,null))):(null==r?void 0:r.org_id)?n.createElement(Y,{resource:e.resource,viewContext:t,authedActiveCommunityProfile:r}):n.createElement(J,{resource:e.resource,viewContext:t,type:e.type,theme:e.theme,enableWideButtonForStickyFooter:e.enableWideButtonForStickyFooter})}function Q({resource:e,viewContext:t,type:r,theme:a,allowOrgSaves:l,enableWideButtonForStickyFooter:u}){let p=(0,i.OY)(),{onUserSaveActionClick:m,isResourceSavedForUser:_}=D(e,t),{savesByOrgId:h}=F(e,t),g=l?h:{},f=n.useRef(null),E=o()(G,{[s.cx.gap6.pl16.pr16.$]:"containText"===r,[B]:"brand"===a,[s.cx.w40.h40.$]:"square"===r,[V]:u}),y=o()(W,{[s.cx.ml2.$]:"containText"===r}),b="brand"===a?"var(--color-icon-onbrand)":void 0,v=_||Object.values(g).some(e=>e);return n.createElement(n.Fragment,null,n.createElement("button",{className:E,onClick:e=>{var t;if(0===Object.keys(g).length)return m(e);let r=null==(t=f.current)?void 0:t.getBoundingClientRect();r&&p(j.Qn({type:Z,data:{targetRect:r}}))},"data-testid":"save-button","data-onboarding-key":"save-button","data-tooltip-type":U.wL.TEXT,ref:f,"data-tooltip":v?(0,c.t)("community.saves.remove_from_saves"):(0,c.t)("community.saves.save")},n.createElement("div",{className:y},v?n.createElement(d.mA,{fill:b}):n.createElement(d.Ex,{fill:b})),"containText"===r&&n.createElement("div",null,n.createElement(c.Tx,{id:v?"community.saves.remove_from_saves":"community.saves.save_for_later"}))),l&&n.createElement(X,{resource:e,viewContext:t}))}function X({resource:e,viewContext:t}){let r=(0,i.OY)(),a=(0,i.w1)(e=>{var t;return(null==(t=e.dropdownShown)?void 0:t.type)===Z}),o=(0,i.w1)(e=>{var t,r;return null==(r=null==(t=e.dropdownShown)?void 0:t.data)?void 0:r.targetRect}),{onUserSaveActionClick:l,isResourceSavedForUser:s}=D(e,t),{savesByOrgId:d,onOrgSaveAction:u}=F(e,t),p=(0,i.w1)(e=>(0,A.qS)(e));if((0,N.SC)(e))return null;let m=[{displayText:(0,c.t)("community.saves.save_this_resource_for_yourself"),isChecked:s,callback:()=>{l()}}],_=Object.values(p).map(e=>({displayText:(0,c.t)("community.saves.save_for_everyone_at",{orgName:e.name}),isChecked:d[e.id],callback:()=>{u(e.id)}}));return m=m.concat(_),n.createElement(n.Fragment,null,a&&n.createElement($.I,{showPoint:!0,items:m,onSelectItem:(e,t)=>{e.callback&&e.callback("",null,r,t)},parentRect:o,dispatch:r}))}function J({resource:e,viewContext:t,type:r,theme:i,enableWideButtonForStickyFooter:a}){let{onUserSaveActionClick:l,isResourceSavedForUser:u}=D(e,t),p=o()(G,{[s.cx.gap6.pl16.pr16.$]:"containText"===r,[B]:"brand"===i,[s.cx.w40.h40.$]:"square"===r,[V]:a}),m=o()(W,{[s.cx.ml2.$]:"containText"===r}),_="brand"===i?"var(--color-icon-onbrand)":void 0;return n.createElement("button",{className:p,onClick:l,"data-testid":"save-button","data-onboarding-key":"save-button","data-tooltip-type":U.wL.TEXT,"data-tooltip":u?(0,c.t)("community.saves.remove_from_saves"):(0,c.t)("community.saves.save")},n.createElement("div",{className:m},u?n.createElement(d.mA,{fill:_}):n.createElement(d.Ex,{fill:_})),"containText"===r&&n.createElement("div",null,n.createElement(c.Tx,{id:u?"community.saves.remove_from_saves":"community.saves.save_for_later"})))}function ee(e){return n.createElement(z,{resource:e.resource,viewContext:e.viewContext,type:"square",theme:"default",allowOrgSaves:!0})}function et(e){return n.createElement(z,{resource:e.resource,viewContext:e.viewContext,type:"containText",theme:"brand",enableWideButtonForStickyFooter:e.enableWideButtonForStickyFooter})}},557100:(e,t,r)=>{"use strict";r.d(t,{E9:()=>l,Ex:()=>i,GO:()=>o,SY:()=>s,mA:()=>a,qi:()=>c});var n=r(307824);function i(e){return n.createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("g",{clipPath:"url(#clip0_8184_71416)"},n.createElement("rect",{width:"16",height:"16",fill:"var(--color-background)"}),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 10.5212L12 13.3883V2H4V13.3883L8 10.5212ZM3.5625 14.9322C3.33074 15.0983 3 14.9403 3 14.6634V1.67197C3 1.30085 3.3148 1 3.70312 1H12.2969C12.6852 1 13 1.30085 13 1.67197V14.6634C13 14.9403 12.6693 15.0983 12.4375 14.9322L8 11.7515L3.5625 14.9322Z",fill:e.fill||"var(--color-icon)"})),n.createElement("defs",null,n.createElement("clipPath",{id:"clip0_8184_71416"},n.createElement("rect",{width:"16",height:"16",fill:"var(--color-background)"}))))}function a(e){return n.createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("g",{clipPath:"url(#clip0_8174_71409)"},n.createElement("rect",{width:"16",height:"16",fill:"var(--color-background)"}),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.5625 14.9322C3.33074 15.0983 3 14.9403 3 14.6634V1.67197C3 1.30085 3.3148 1 3.70312 1H12.2969C12.6852 1 13 1.30085 13 1.67197V14.6634C13 14.9403 12.6693 15.0983 12.4375 14.9322L8 11.7515L3.5625 14.9322Z",fill:e.fill||"var(--color-icon)"})),n.createElement("defs",null,n.createElement("clipPath",{id:"clip0_8174_71409"},n.createElement("rect",{width:"16",height:"16",fill:"var(--color-background)"}))))}function o(){return n.createElement("svg",{viewBox:"0 0 8 12",height:"100%",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4 7.75L7 10V1H1V10L4 7.75ZM0.45 11.6625C0.26459 11.8016 0 11.6693 0 11.4375V0.5625C0 0.25184 0.25184 0 0.5625 0H7.4375C7.74816 0 8 0.25184 8 0.5625V11.4375C8 11.6693 7.73541 11.8016 7.55 11.6625L4 9L0.45 11.6625Z",fill:"var(--color-icon, black)"}))}function l(){return n.createElement("svg",{viewBox:"0 0 8 12",height:"100%",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("path",{d:"M0 0.5625C0 0.25184 0.25184 0 0.5625 0H7.4375C7.74816 0 8 0.25184 8 0.5625V11.4375C8 11.6693 7.73541 11.8016 7.55 11.6625L4 9L0.45 11.6625C0.26459 11.8016 0 11.6693 0 11.4375V0.5625Z",fill:"var(--color-icon, black)"}))}function s(){return n.createElement("svg",{height:"100%",viewBox:"0 0 10 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5 9.98876L9 13.2775V1.02772H1V13.2775L5 9.98876ZM0.609261 14.9148C0.363725 15.1167 0 14.937 0 14.6139V0.770787C0 0.345093 0.335786 0 0.75 0H9.25C9.66421 0 10 0.345093 10 0.770787V14.6139C10 14.937 9.63628 15.1167 9.39074 14.9148L5 11.3049L0.609261 14.9148Z",fill:"var(--color-icon, black)"}))}function c(){return n.createElement("svg",{height:"100%",viewBox:"0 0 10 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("path",{d:"M0 0.770787C0 0.345093 0.335786 0 0.75 0H9.25C9.66421 0 10 0.345093 10 0.770787V14.6139C10 14.937 9.63628 15.1167 9.39074 14.9148L5 11.3049L0.609261 14.9148C0.363725 15.1167 0 14.937 0 14.6139V0.770787Z",fill:"var(--color-icon, black)"}))}},973544:(e,t,r)=>{"use strict";r.d(t,{_:()=>n});let n=r(322900)._},107252:(e,t,r)=>{"use strict";r.d(t,{Ki:()=>E,W7:()=>g,eM:()=>y});var n=r(307824),i=r(120304),a=r(250008),o=r(557044),l=r(698240),s=r(560072),c=r(693400),d=r(113396),u=r(692468),p=r(155256),m=r(478196),_=r(51696),h=r(969800);function g({profileId:e,following:t,onFollowChange:r,trackingInfo:i}){return n.createElement("button",{onClick:n=>{n.preventDefault(),n.stopPropagation(),r(!t),(t?o.cp.del:o.cp.put)("/api/follows",{followed_profile_id:e}).then(()=>{t||(0,a.we)("community_hub_profile_follow",{profileId:e,...i})}).catch(e=>{if("You're already following this user"===e.message){r(!t);return}r(t)})},className:t?h.Sc:h.aq,"data-follow":(0,s.t)("community.follow.follow"),"data-unfollow":(0,s.t)("community.follow.unfollow"),"data-following":(0,s.t)("community.follow.following")})}let f={};function E({author:e}){let[t,r]=n.useState(!1);n.useEffect(()=>{(0,d.a)()&&u.k.getFollows({authorId:e.id}).then(({data:t})=>{let n=t.meta.current_user_is_following;f[e.id]=n,r(n)}).catch(e=>{throw Error("Could not get following status.")})},[e]);let o=(0,i.w1)(e=>e.authedActiveCommunityProfile),s=(0,c._Y)(e.id,o),E=()=>{(0,a.we)("community_hub_profile_preview__profile_visit",{profileId:e.id})};return n.createElement("div",{className:h.EG},n.createElement("div",{className:h.Wk},n.createElement(_.GQ,{to:`/@${e.profile_handle}`,onClickTracking:E,onClick:e=>e.stopPropagation()},n.createElement(p.C,{adtlClassName:h.Os,entity:e}),n.createElement("div",{className:h.AP},n.createElement(m.q,{profile:e,showBorder:!0}))),n.createElement(_.GQ,{to:`/@${e.profile_handle}`,onClickTracking:E,onClick:e=>e.stopPropagation()},n.createElement("div",{className:h.Ur},n.createElement("span",{className:l.cx.ellipsis.noWrap.overflowHidden.$},e.name)),n.createElement("div",{className:h.Ap},"@",e.profile_handle))),!s&&n.createElement(g,{profileId:e.id,following:f[e.id],onFollowChange:t=>{r(t),f[e.id]=t,(0,a.we)("community_hub_profile_preview__profile_follow",{profileId:e.id})}}))}function y({authors:e}){return n.createElement("div",null,e.map(e=>n.createElement(_.GQ,{className:h.KM,to:`/@${e.profile_handle}`,onClick:e=>e.stopPropagation(),key:e.id},n.createElement(p.C,{entity:e}),n.createElement("div",{className:h.uQ},n.createElement("span",{className:l.cx.ellipsis.noWrap.overflowHidden.$},e.name),n.createElement(m.q,{profile:e})))))}},381928:(e,t,r)=>{"use strict";r.d(t,{cS:()=>_,MV:()=>h,y6:()=>y,o5:()=>b});var n=r(307824),i=r(125504),a=r.n(i);let o="dropdown--dropdown--IX0tU text--fontPos14--OL9Hp text--_fontBase--QdLsd",l="dropdown--dropdownContents--BqcL5",s="dropdown--dropdownValue--9lJPW",c="dropdown--dropdownPreview--3Ox9k",d="dropdown--label--cIJtO",u=(e,t)=>{let r=Array(e.length);return e.forEach((e,n)=>{if(null==t?void 0:t[n])r[n]=t[n];else if(Array.isArray(e)){let t=e.find(e=>e.checked);t?r[n]=t.key:r[n]=e[0].key}else r[n]={},Object.entries(e).find(([e,t])=>{t.checked&&(r[n][e]=!0)})}),r},p=(()=>{let e=[];return["scroll","resize"].forEach(t=>{window.addEventListener(t,()=>{e=e.filter(e=>m(e.el,!1,e.initialHPosition))})}),{set:(t,r)=>{e.push({el:t,initialHPosition:r})}}})(),m=(e,t=!1,r)=>{var n;if(!e||!("true"===e.parentNode.getAttribute("show-dropdown")||e.parentNode===document.activeElement||(null==(n=e.parentNode)?void 0:n.firstChild)===document.activeElement||e===document.activeElement)&&!t)return!1;e.dataset.vPosition="below",e.dataset.hPosition="";let i=e.getBoundingClientRect();return i.bottom>window.innerHeight-20?e.dataset.vPosition="above":e.dataset.vPosition="below",i.right>window.innerWidth-100?e.dataset.hPosition="right":i.left<20?e.dataset.hPosition="left":e.dataset.hPosition!==r&&(e.dataset.hPosition=r),!0};function _({children:e,preview:t,className:r,horizontalPosition:i,disableRepositioning:a}){let s=n.useRef(null);return n.createElement("div",{className:r||o,tabIndex:0,"data-disable-repositioning":a,onFocus:()=>{p.set(s.current,i),a||m(s.current,!0,i)}},e,n.createElement("button",{className:"dropdown--mobileBackground--WSE2Z",onClick:e=>{var t;return null==(t=document.activeElement)?void 0:t.blur()}}),n.createElement("div",{className:l,"data-v-position":"below","data-h-position":i||"",ref:s},t))}function h({children:e,preview:t,className:r,horizontalPosition:i,verticalPosition:a,disableRepositioning:s}){var c;let d=n.useRef(null),[u,_]=n.useState(!1),[h,g]=n.useState(0),f=e=>{window.innerWidth<500||(g(setTimeout(()=>{let t=d.current;t&&t.parentNode&&(t.parentNode.setAttribute("show-dropdown",e+""),!1===e?setTimeout(()=>{_(e)},150):(p.set(t,i),_(e)))},150)),clearTimeout(h))};return n.useLayoutEffect(()=>{s||m(d.current,!0,i)},[null==(c=d.current)?void 0:c.dataset.hPosition,u]),n.createElement("div",{className:r||o,"show-dropdown":"false",onMouseEnter:e=>f(!0),onMouseLeave:e=>f(!1),tabIndex:0,"data-disable-repositioning":s,"data-hover-dropdown":!0},e,n.createElement("div",{className:l,"data-v-position":a||"below","data-h-position":i||"",ref:d,"data-dropdown-contents":!0},u&&t))}function g({show:e}){return n.createElement("svg",{className:e?"dropdown--showCheckmark--td6Ke":"",width:"16",height:"16",viewBox:"0 0 16 16",fill:"var(--color-icon-menu)",xmlns:"http://www.w3.org/2000/svg"},n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13.2069 5.2073L7.70694 10.7073L6.99983 11.4144L6.29272 10.7073L3.29272 7.7073L4.70694 6.29309L6.99983 8.58598L11.7927 3.79309L13.2069 5.2073Z"}))}function f({optionGroup:e,value:t,onSelect:r}){let i;return i=Array.isArray(e)?e.map(({key:e,label:i})=>n.createElement("div",{key:e,role:"button",onKeyDown:e=>{13===e.keyCode&&e.target.click()},onClick:()=>{document.activeElement.blur(),r(e)},className:s,"data-key":e,tabIndex:0},n.createElement(g,{show:t===e}),n.createElement("div",{className:d},i))):Object.entries(e).map(([e,i])=>n.createElement("div",{key:e,role:"button",onKeyDown:e=>{13===e.keyCode&&e.target.click()},onClick:()=>{document.activeElement.blur(),r(e)},className:s,"data-key":e,tabIndex:0},n.createElement(g,{show:!0===t[e]}),n.createElement("div",{className:d},i.label))),n.createElement(n.Fragment,null,i)}function E({label:e,additionalClassName:t,onClick:r,dataOnboardingKey:i}){return n.createElement("div",{role:"button",tabIndex:0,className:a()(c,t),onMouseDown:e=>{var t;(null==(t=document.activeElement)?void 0:t.matches(`.${c.replace(/\s/g,".")}`))&&(document.activeElement.blur(),e.preventDefault())},onClick:r,"data-onboarding-key":i},n.createElement("div",{className:d},e),n.createElement("svg",{width:"10",height:"7",viewBox:"0 0 10 7",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("path",{d:"M1 1L5 5L9 1",stroke:"var(--text-primary)",strokeWidth:"1.5"})))}function y({name:e,options:t,onUpdate:r,onClick:i,initialValues:o,adtlClassName:l,dataOnboardingKey:s,showBorder:c}){if(!Array.isArray(t[0]))throw Error("First options input needs to be an array type, for preview reasons.");let d=u(t,o);return n.createElement(_,{className:a()(l||"dropdown--selectDropdown--Lqj6J dropdown--dropdown--IX0tU text--fontPos14--OL9Hp text--_fontBase--QdLsd",{"dropdown--selectDropdownWithBorder--tWUXN text--fontPos14--OL9Hp text--_fontBase--QdLsd":c}),preview:n.createElement(n.Fragment,null,n.createElement("div",{className:"dropdown--mobileDropdownHeader--mEjUR"},n.createElement("b",null,e)),t.map((e,i)=>n.createElement("div",{key:i+"-group"},n.createElement(f,{optionGroup:e,value:d[i],onSelect:t=>{let n=[...d];if(Array.isArray(e))n[i]=t;else{let e=n[i];n[i]={...e,[t]:!e[t]}}r(n)}}),i<t.length-1&&n.createElement("hr",{className:"dropdown--optionGroupDivider--tmhsB"}))))},n.createElement(E,{onClick:i,dataOnboardingKey:s,label:t[0].find(e=>e.key===d[0]).label}))}function b({preview:e,children:t}){return n.createElement(h,{className:a()({"dropdown--tooltip--Sh4Vu dropdown--dropdown--IX0tU text--fontPos14--OL9Hp text--_fontBase--QdLsd":!0}),preview:e,horizontalPosition:"center"},t)}},780216:(e,t,r)=>{"use strict";let n;r.d(t,{E3:()=>d,aC:()=>c,eg:()=>s});var i=r(307824),a=r(400024),o=r(377228),l=r(871728),s=((n=s||{}).DETAIL="detail",n.TEMPLATES_SIDEBAR="templates_sidebar",n.UNIVERSAL_INSERT="universal_insert",n);function c(e){let t={onLoad:e.onLoad,loading:"lazy"};return i.createElement(a.Q,{sizes:function(e){switch(e){case"templates_sidebar":case"universal_insert":return;case"detail":t=o.Q.COMMUNITY_HUB_FILE_THUMBNAIL_DETAIL;break;default:t=o.Q.COMMUNITY_HUB_FILE_THUMBNAIL_DEFAULT}var t,r=Object.entries(t).map(([e,t],r)=>`(min-width: ${e}px) ${t}vw`);return r.push("100vw"),r.join(", ")}(e.thumbnailContext),srcSet:function(e,t,r,n){let i;if(!e||!t)return"";let a=Object.entries(r||{});if(!r){let r=function(e){if(!e)return;let t=e.lastIndexOf("/"),r=e.indexOf(".",t);return e.substring(t+1,r)}(t);a=Object.keys(o.o.COMMUNITY_HUB_FILE_THUMBNAIL).map(t=>[t,`/community/file/${e}/thumbnail/${t}?signature=${r}`])}switch(a.push(["1600",t]),n){case"templates_sidebar":case"universal_insert":i=a.map(([e,t])=>{let r=Math.round(parseInt(e)/parseInt(l.Cg)*10)/10;return`${t} ${r}x`});break;default:i=a.map(([e,t])=>`${t} ${e}w`)}return i.join(", ")}(e.hubFileId,e.image,e.resizedThumbnailUrls,e.thumbnailContext),src:e.image,image_type:"COMMUNITY_HUB_FILE_THUMBNAIL",alt:e.alt,className:e.className,imageProps:t})}function d(e){return e.hubFileId?i.createElement(c,{...e}):i.createElement(i.Fragment,null)}},659024:(e,t,r)=>{"use strict";r.d(t,{Gk:()=>X,i2:()=>et,aC:()=>J,mO:()=>ei,Af:()=>en,KY:()=>Z,yU:()=>z,K4:()=>$,wj:()=>er});var n=r(307824),i=r(125504),a=r.n(i),o=r(259596),l=r.n(o),s=r(250008),c=r(843148),d=r(936756),u=r(383456),p=r(76952),m=r(537096),_=r(588900),h=r(698240),g=r(560072),f=r(348040),E=r(155256),y=r(653700),b=r(780216),v=r(337384),I=r(184172),w=r(693400),T=r(212980),S=r(332320),C=r(514916),A=r(778112),O=r(236892),N=r(219476),L=r(517164),R=r(908732),P=r(994724),M=r(478196),k=r(375676),D=r(51696),F=r(107252),x=r(381928),U=r(910196),B=r(180155),G=r(224100),V=r(568342);function H({resource:e}){let t=e.editor_type===G.kr.FIGJAM||e.editor_type===G.kr.UNIVERSAL?V.Ml:V.eI;return n.createElement(D.GQ,{to:(0,w.yC)({path:B.yi.PLUGIN,id:e.id}),className:t},n.createElement(g.Tx,{id:"community.view"}))}var W=r(837924),K=r(617860),Y=r(362036);let q=e=>{let t=document.createElement("div");return t.innerHTML=l().sanitize(e),t.innerText},j=(e,t,r,n,i="feed")=>{(0,s.we)("Community Resource Clicked",{resource_type:e,community_resource_id:t,subView:i,scope:N.C4.COMMUNITY,index:r,...n})};function $({resource:e}){let t=(0,y.KC)({resource:e,height:"24"});if(t)return n.createElement("div",{className:W.Eu},t);let r=(0,P.E)({badges:e.badges});return r?n.createElement("div",{className:W.Eu},n.createElement(P.s,null,r)):null}function Z({resource:e,currentUserLiked:t}){return n.createElement("div",{className:t?W.wl:W.KK},n.createElement(f.F,null),(0,d.aw)(e.like_count))}function z({resource:e}){return n.createElement("button",{className:W.SO},n.createElement(m.A,{svg:K.c}),(0,d.aw)((0,S.Ke)(e)))}function Q(e){var t;let{resource:r,trackingInfo:i}=e,a=(0,w.EK)(r),o=r.community_publishers.accepted,l=o[0],s=n.createElement("span",{className:W.WF},(0,I.Ix)(r)),c=(0,w.IL)(r),d=!!(null==(t=(0,w.IJ)(r.id,(0,w.Se)(r)).data)?void 0:t[0]);return l?n.createElement("div",{className:W.Y1},n.createElement(D.GQ,{className:W.E6,to:`/@${l.profile_handle}`},n.createElement(x.MV,{preview:n.createElement(F.Ki,{author:l})},n.createElement(E.C,{key:l.id,entity:l,adtlClassName:W.AX}))),n.createElement("div",{className:W.OV},n.createElement(D.GQ,{to:(0,w.uQ)({resource:r,trackingInfo:i}),onClick:e=>{j(c,r.id,void 0,i)},className:W.e},a.name),n.createElement(D.GQ,{className:W.E6,to:`/@${l.profile_handle}`},o.length>1?n.createElement(x.MV,{preview:n.createElement(F.eM,{authors:o})},s):s)),n.createElement("div",{className:W.ay},n.createElement(Z,{currentUserLiked:d,resource:r}),n.createElement(z,{resource:r}))):null}function X({resource:e,isMetaHidden:t,animationIndex:r,onIntersectionChange:i,onClickOverride:o,index:l,trackingInfo:s,subView:d}){var u;let m=(0,w.EK)(e),h=e.client_meta&&(null==(u=JSON.parse(e.client_meta))?void 0:u.background_color),g=e.thumbnail_is_set;e.viewer_mode===C.C0.WHITEBOARD&&(h={r:1,g:1,b:1});let f=n.createElement(b.aC,{image:e.thumbnail_url,hubFileId:e.id,onLoad:e=>e.target.style.opacity="1",alt:m.name,resizedThumbnailUrls:e.resized_thumbnail_urls}),E=g?W.sz:e.viewer_mode===C.C0.WHITEBOARD?W.a_:W.mw,y=(0,c.Ub)().cmty_thumbnail_16x9_ar;return n.createElement("div",{className:W.Uf,"data-animation-index":r},n.createElement(p.w,{onIntersectionChange:e=>null==i?void 0:i(e)}),n.createElement(D.GQ,{to:(0,w.uQ)({resource:e,trackingInfo:s}),onClick:t=>{j("hub_file",e.id,l,s,d)},onClickOverride:o,className:a()(W.yc,{[W.E3]:y})},n.createElement("div",{className:E,style:{backgroundColor:h&&`rgb(${255*h.r}, ${255*h.g}, ${255*h.b})`}},f,e.viewer_mode===C.C0.PROTOTYPE&&n.createElement(_._,{svg:Y.c,className:W.wt,useOriginalSrcFills_DEPRECATED:!0,fallbackSvg:Y.c}),n.createElement("div",{className:W.If},n.createElement(R.OS,{editorType:e.viewer_mode===C.C0.WHITEBOARD?O.eI.FIGJAM:O.eI.FIGMA})),!t&&n.createElement($,{resource:e}))),!t&&n.createElement(Q,{resource:e,type:A.y4.HUB_FILE,trackingInfo:s}))}function J({resource:e,isMetaHidden:t,animationIndex:r,onIntersectionChange:i,onClickOverride:o,index:l,trackingInfo:s,subView:d}){var u;let m=(0,w.EK)(e),_=(0,c.Ub)().cmty_thumbnail_16x9_ar;return n.createElement("div",{"data-animation-index":r,className:W.IT},n.createElement(p.w,{onIntersectionChange:e=>null==i?void 0:i(e)}),n.createElement(D.GQ,{to:(0,w.uQ)({resource:e,trackingInfo:s}),onClick:t=>{j("plugin",e.id,l,s,d)},onClickOverride:o,className:a()(W.yc,{[W.E3]:_})},n.createElement("div",{className:W.mw},n.createElement("div",{className:W.Wk},n.createElement(L.W,{plugin:m,alt:`Figma plugin "${m.name}"`,onLoad:e=>e.target.style.opacity="1",loading:"lazy"})),!t&&n.createElement(n.Fragment,null,n.createElement("div",{className:W.eY},(0,S.AX)(m,q)),n.createElement("div",{className:W.If},n.createElement(R.OS,{editorType:null==(u=m.manifest)?void 0:u.editorType})),n.createElement($,{resource:e})))),!t&&n.createElement(Q,{resource:e,type:A.y4.PLUGIN,trackingInfo:s}))}function ee({uniqueRunCount:e,containerClassName:t}){return n.createElement(x.MV,{className:W.st,disableRepositioning:!0,preview:n.createElement(g.Tx,{id:"community.try.used_by_n_people",num:e})},n.createElement("div",{className:t??W.qy},n.createElement("svg",{width:"10",height:"12",viewBox:"0 0 10 12",style:{fill:"var(--color-text-secondary, rgba(0, 0, 0, 0.8))"},xmlns:"http://www.w3.org/2000/svg"},n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7 3C7 4.10457 6.10457 5 5 5C3.89543 5 3 4.10457 3 3C3 1.89543 3.89543 1 5 1C6.10457 1 7 1.89543 7 3ZM8 3C8 4.65685 6.65685 6 5 6C3.34315 6 2 4.65685 2 3C2 1.34315 3.34315 0 5 0C6.65685 0 8 1.34315 8 3ZM5 8C7.20914 8 9 9.79086 9 12H10C10 9.23858 7.76142 7 5 7C2.23858 7 0 9.23858 0 12H1C1 9.79086 2.79086 8 5 8Z"})),(0,d.aw)(e)))}function et({resource:e,animationIndex:t,onIntersectionChange:r,isOrgTeamBrowsing:i,index:o,trackingInfo:l}){let s=(0,w.EK)(e),c=(0,A.OG)(e),d=(0,A.YV)(e),m=(0,v.q)(e),_=(0,T.OI)(m),h=n.useMemo(()=>i?n.createElement(H,{resource:e}):!c||_||d?n.createElement(U.g,{resource:e,context:A.qI.PLUGIN_ROW}):n.createElement(k.F,{resource:e,context:A.qI.PLUGIN_ROW}),[c,d,i,e,_]),f=(0,y.KC)({resource:e,height:"16",validBadges:[y.iE.FREEMUM,y.iE.OFF_PLATFORM,y.iE.PURCHASED]}),E=(0,w.uQ)({resource:e,trackingInfo:l}),b=()=>j("plugin",e.id,o,l);return n.createElement("div",null,n.createElement(p.w,{onIntersectionChange:e=>null==r?void 0:r(e)}),n.createElement("div",{className:W.mQ},n.createElement(D.GQ,{to:E,onClick:b,animationIndex:t,className:W.AT},n.createElement(L.W,{className:W.Ib,alt:`Figma plugin "${s.name}"`,plugin:{...s,redirect_icon_url:s.redirect_icon_url||w.C2},onLoad:e=>e.target.style.opacity="1",onError:e=>e.target.src=w.C2,loading:"lazy"}),n.createElement(R.of.BadgeContainer,null,n.createElement(R.OS,{editorType:s.manifest.editorType,is16x16:!0}))),n.createElement(D.GQ,{to:E,className:W.od,onClick:b,animationIndex:t},n.createElement("div",{className:a()(W.Wo,{[W.cB]:!!f})},n.createElement("span",{className:W.SQ},s.name),f),n.createElement("div",{className:a()(W.a2,{[W._U]:!!f})},(0,S.AX)(s,q))),n.createElement("div",{className:W.SC},(0,I.Ix)(e)),n.createElement("div",{className:W.CY},n.createElement(g.Tx,{id:"community.view_bar.updated_date",date:n.createElement(u.O,{date:s.created_at})})),n.createElement(ee,{uniqueRunCount:e.unique_run_count}),n.createElement("div",{className:W.Iv},h)))}function er({resource:e,isMetaHidden:t,animationIndex:r,onIntersectionChange:i,onClickOverride:o,index:l,trackingInfo:s,subView:d}){let u=(0,w.EK)(e),m=(0,c.Ub)().cmty_thumbnail_16x9_ar;return n.createElement("div",{"data-animation-index":r,className:W.MF},n.createElement(p.w,{onIntersectionChange:e=>null==i?void 0:i(e)}),n.createElement(D.GQ,{to:(0,w.uQ)({resource:e,trackingInfo:s}),onClick:t=>{j("widget",e.id,l,s,d)},onClickOverride:o,className:a()(W.yc,{[W.E3]:m})},n.createElement("div",{className:W.mw},n.createElement("img",{alt:u.name,src:u.redirect_snapshot_url??void 0,onLoad:e=>e.target.style.opacity="1",loading:"lazy"}),!t&&n.createElement(n.Fragment,null,n.createElement("div",{className:W.If},n.createElement(R.OS,{editorType:u.manifest.editorType})),n.createElement($,{resource:e})))),!t&&n.createElement(Q,{resource:e,type:A.y4.WIDGET,trackingInfo:s}))}function en({resource:e}){return n.createElement(n.Fragment,null)}function ei({index:e,resource:t,animationIndex:r,authedActiveCommunityProfile:i,trackingInfo:a}){var o,l;let{model:s,resources:c}=t,[u,p]=n.useState(s.current_user_is_following),m=u&&!s.current_user_is_following?1:0,_=(0,w._Y)(s.id,i),f=(null==(o=s.img_urls)?void 0:o["500_500"])||(null==(l=s.img_urls)?void 0:l["120_120"]);return n.createElement(D.GQ,{to:`/@${s.profile_handle}`,onClick:()=>{j("profile",s.id,e,a)},className:W.y,animationIndex:r},n.createElement("div",{className:W.wX,style:{backgroundImage:`url(${f})`}}),n.createElement("div",{className:W.sT},n.createElement("div",{className:W.K4},n.createElement("span",{className:h.cx.ellipsis.noWrap.overflowHidden.$},s.name),n.createElement(M.q,{profile:s,tooltip:!0})),n.createElement("div",{className:W.m4},"@",s.profile_handle),n.createElement("div",{className:W.uW},!_&&n.createElement(F.W7,{profileId:s.id,onFollowChange:()=>p(!u),following:u,trackingInfo:a}),n.createElement("div",{className:W.Li},n.createElement("div",{className:W.MA},(0,g.t)("community.follow.followers")),n.createElement("div",{className:W.kT},(0,d.aw)(s.follower_count+m))))),n.createElement("div",{className:W.iE},c.length>0?c.slice(0,3).map(e=>(0,A.mc)(e)?n.createElement("div",{className:W.AH,key:e.id},n.createElement("img",{alt:(0,w.EK)(e).name,src:(0,w.EK)(e).redirect_snapshot_url??void 0,loading:"lazy"})):((0,A.gD)(e),n.createElement("div",{className:W.AH,key:e.id},n.createElement("img",{alt:(0,w.EK)(e).name,src:e.thumbnail_url||void 0,loading:"lazy"})))):n.createElement("span",null,n.createElement(g.Tx,{id:"community.profiles.no_resources_published_yet"}))))}},618664:(e,t,r)=>{"use strict";let n;r.d(t,{cp:()=>V,Ki:()=>U,sb:()=>B});var i=r(307824),a=r(120304),o=r(830852),l=r(250008),s=r(656716),c=r(623131),d=r(372152),u=r(578412),p=r(60452);let m=(0,p.A)("AUTH_IFRAME_CLOSE"),_=(0,p.A)("AUTH_IFRAME_PRELOAD"),h=(0,p.A)("AUTH_IFRAME_OPEN"),g=(0,p.A)("SET_IFRAME_URL");var f=((n=f||{})[n.CLOSED=0]="CLOSED",n[n.PRELOAD=1]="PRELOAD",n[n.OPEN=2]="OPEN",n);let E={authIFrame:{authIFrameState:0,authIFrameURL:"/login_iframe?with_community_header=true&type=fixedmodal"}};var y=r(919808),b=r(50588),v=r(843148),I=r(326660),w=r(850360),T=r(359924),S=r(774340),C=r(457500),A=r(49592),O=r(152428),N=r(796236),L=r(545624);let R={...E,...A.J,...S.E1,...T.ML,...N.a4,...O.i,...C.w,...(0,v.Ub)().cmty_profile_in_react_router?L.sJ:{}},P=[...Object.values(w),m,_,h,g,...(0,v.Ub)().cmty_profile_in_react_router?L.oz:[]],M={authIFrame:function(e=E.authIFrame,t){return m.matches(t)?{...e,authIFrameState:0}:_.matches(t)?{...e,authIFrameState:1}:h.matches(t)?{...e,authIFrameState:2}:g.matches(t)?{...e,authIFrameURL:t.payload.url}:e},authedUsers:A.a,authedProfilesById:S.e,authedActiveCommunityProfile:T.S_,orgUsersByOrgId:N.E$,orgById:O.o,authedTeamsById:C.C,...(0,v.Ub)().cmty_profile_in_react_router?{communityHub:(0,y.TL)({currentProfile:L.wx}),hubFiles:L.IX,publishedPlugins:L.G2,publishedWidgets:L.uS,loadingState:L.Ci}:{}},k=(0,y.eC)((0,y.TL)(M),R,(0,y.d4)(b.c,e=>e=>function(t){let r=e(t);return P.some(e=>e.matches(t))||(0,I.GE)(`[Community] Detected invalid action to Community store: ${t.type}`),r}));var D=r(822296),F=r(522776);let x=(0,c.Zf)(!1);function U(e=u.o9.SIGN_IN,t={}){var r;if(t.preventDefaultRedirect&&(t.authOptions??(t.authOptions={}),t.authOptions.redirect_url=s.default.location.pathname+s.default.location.search),d.qM.get(x))B({name:u.oD,options:{formState:e,redirectUrl:null==(r=t.authOptions)?void 0:r.redirect_url}});else{let r=new URLSearchParams(t.authOptions),n="/login_iframe";e===u.o9.SIGN_UP&&r.append("form_state","sign_up"),r.append("type","fixedmodal"),r.append("with_community_header","true");let i=r.toString(),a=i.length?[n,i].join("?"):n;k.dispatch(g({url:a}))}(0,a.wN)(()=>{(0,o.mM)(),k.dispatch(h())})}function B(e){var t;let r=document.querySelector("iframe#figma-auth-iframe");null==(t=null==r?void 0:r.contentWindow)||t.postMessage(e,location.origin)}function G(){k.dispatch(m())}function V(){let e=i.useRef(null),[t,r]=(0,d.lZ)(x),[n,a]=i.useState(void 0),[o,s]=i.useState(f.CLOSED);k.subscribe(()=>{let e=k.getState().authIFrame.authIFrameState,t=k.getState().authIFrame.authIFrameURL;void 0!==e&&e!==o&&(s(e),a(t))});let[c,u]=i.useState(!1);return!function(e){let t=i.useRef();i.useEffect(()=>{t.current=e},[e]),i.useEffect(()=>{let e=e=>{var r;null==(r=t.current)||r.call(t,e)};return window.addEventListener("message",e,!1),()=>{window.removeEventListener("message",e,!1)}},[])}(t=>{var n,i,a,o;e.current&&t.origin===location.origin&&((null==(n=t.data)?void 0:n.type)==="trackEvent"&&(null==(i=t.data)?void 0:i.event)==="Auth Actions"&&(null==(o=null==(a=t.data)?void 0:a.properties)?void 0:o.eventSubtype)==="show_auth_page"&&r(!0),"trackEvent"===t.data.type&&(0,l.we)(t.data.event,t.data.properties,t.data.options),"esc"===t.data.keyPress&&G())}),i.useEffect(()=>{var t;if(e.current&&(o>f.CLOSED&&!c&&u(!0),o===f.OPEN&&e.current.contentDocument)){let r=null==(t=e.current.contentDocument)?void 0:t.getElementsByTagName("input")[0];null==r||r.focus()}},[o,c]),i.createElement(D.c,{className:F.figmaAuthModal,style:{visibility:o===f.OPEN?"visible":"hidden"},showInnerModal:t,onClick:()=>G()},o>f.CLOSED||c?i.createElement("iframe",{id:"figma-auth-iframe","data-testid":"figma-auth-iframe",ref:e,title:"Figma Auth",src:n}):i.createElement(i.Fragment,null))}},830852:(e,t,r)=>{"use strict";r.d(t,{cp:()=>g,mM:()=>h});var n=r(307824),i=r(623131),a=r(372152),o=r(578412),l=r(537096),s=r(441388),c=r(489244),d=r(618664),u=r(822296),p=r(522776);function m({headerText:e,icon:t,source:r}){return n.createElement(s.kH,{name:"community auth modal",properties:{source:r}},n.createElement(u.c,{className:p.loggedOutCommunityActionModal},n.createElement(c.c,{props:{headerText:e,icon:t},styles:p,Event:{onLogInClick:()=>{(0,d.Ki)(o.o9.SIGN_IN,{preventDefaultRedirect:!0})},onSignUpClick:()=>{(0,d.Ki)(o.o9.SIGN_UP,{preventDefaultRedirect:!0})}},Component:{ModalCloseButton:()=>n.createElement("button",{className:p.modalCloseButton,onClick:()=>{h()}},"\xd7"),BrandButton:e=>n.createElement(s.Ix,{...e},e.children),ButtonSecondaryTracked:e=>n.createElement(s.Ix,{...e},e.children),Svg:l.A}})))}let _=(0,i.Zf)(null);function h(){a.qM.set(_,null)}function g(){let e=(0,a.m4)(_);if(null===e)return n.createElement(n.Fragment,null);let{type:t,data:r}=e;return"COMMUNITY_AUTH_MODAL"===t?n.createElement(m,{headerText:r.headerText,icon:r.icon,source:r.source}):n.createElement(n.Fragment,null)}},375676:(e,t,r)=>{"use strict";r.d(t,{F:()=>a});var n=r(307824);let i=(0,r(101492).Ip)("lazy_cmty_purchase_button",{isCodesplit:!0,ComponentFactory:async()=>({default:(await r.e(8060).then(r.bind(r,608060))).default})});function a({resource:e,context:t,payment:r,enableWideButtonForStickyFooter:a}){return n.createElement(i,{fallback:null,errorFallback:null,resource:e,context:t,payment:r,enableWideButtonForStickyFooter:a})}},528488:(e,t,r)=>{"use strict";r.d(t,{E5:()=>_,kv:()=>p,w1:()=>m});var n=r(307824),i=r(888932),a=r(537096),o=r(560072),l=r(212980),s=r(142548),c=r(381928);let d="resource_badge_subtext--container--hKr5Q";var u=r(597432);function p({resource:e,showCaret:t=!0}){let r=(0,l.Sc)(e.monetized_resource_metadata);return n.createElement("div",{className:d},i.CU?n.createElement(o.Tx,{id:"community.buyer.in_app_purchases"}):n.createElement(c.o5,{preview:r},n.createElement("div",{className:"resource_badge_subtext--text--ks9uS text--fontPos11--2LvXf text--_fontBase--QdLsd"},n.createElement(o.Tx,{id:"community.buyer.in_app_purchases"})),t&&n.createElement(a.A,{className:"resource_badge_subtext--caret--weiCk",svg:u.c})))}function m(){return n.createElement("div",{className:d,"data-tooltip-type":s.wL.TEXT,"data-tooltip":(0,o.t)("community.detail_view.resource_outside_of_figma"),"data-tooltip-show-immediately":!0},n.createElement(o.Tx,{id:"community.detail_view.third_party_badge.off_platform"}))}function _({metadata:e}){return n.createElement("div",{className:d},n.createElement(o.Tx,{id:"community.resource.free_trial_days",days:e.trial_length_in_days}))}},992568:(e,t,r)=>{"use strict";r.d(t,{c:()=>m});var n=r(307824),i=r(843148),a=r(936756),o=r(537096),l=r(560072),s=r(693400),c=r(332320),d=r(880904),u=r(709624),p=r(617860);function m({resource:e,viewContext:t}){var m,g;let f=e.like_count>0,E=(0,c.Ke)(e)>0,y=(0,s.IJ)(e.id,(0,s.Se)(e)),b=null==(m=y.data)?void 0:m[0],v=r(669220).i.useLikeActions(e,!!b,(null==(g=y.data)?void 0:g[1])||null,t||"")(),I=n.createElement("div",{className:d.Uk},n.createElement(l.Tx,{id:"community.detail_view.bullet_point"}));return n.createElement("div",{className:d.M$,"data-testid":"resource-header-stats"},n.createElement("div",null,(0,s.cp)(e)),f&&n.createElement(n.Fragment,null,I,n.createElement("button",{onClick:e=>{(0,i.Ub)().cmty_deprecate_browse_as_admin&&v(e)}},(0,i.Ub)().cmty_deprecate_browse_as_admin?b?h:_:n.createElement(o.A,{svg:u.c})),n.createElement("div",{className:d.ll},(0,a.aw)(e.like_count))),E&&n.createElement(n.Fragment,null,I,n.createElement(o.A,{svg:p.c}),n.createElement("div",{className:d.ll},n.createElement(l.Tx,{id:"community.detail_view.number_of_users",numberOfUsers:(0,a.aw)((0,c.Ke)(e))}))))}let _=n.createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M7.99988 4.5L7.3254 3.96042C6.28613 3.129 4.78791 3.21198 3.84681 4.15308C2.82678 5.17311 2.82678 6.8269 3.84681 7.84693L7.99988 12L12.153 7.84693C13.173 6.8269 13.173 5.17311 12.153 4.15308C11.2119 3.21198 9.71364 3.129 8.67437 3.96042L7.99988 4.5ZM7.99988 10.5858L11.4459 7.13982C12.0754 6.51032 12.0754 5.48969 11.4459 4.86018C10.8651 4.27939 9.94044 4.22818 9.29906 4.74129L7.99988 5.78063L6.70071 4.74128C6.05933 4.22818 5.13471 4.27939 4.55391 4.86018C3.92441 5.48969 3.92441 6.51032 4.55392 7.13982L7.99988 10.5858Z",fill:"black"})),h=n.createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("rect",{width:"16",height:"16",fill:"var(--color-background)"}),n.createElement("path",{d:"M3.84693 7.84693L8 12L12.1531 7.84692C13.1731 6.8269 13.1731 5.1731 12.1531 4.15308C11.212 3.21198 9.71375 3.129 8.67448 3.96041L8 4.5L7.32552 3.96041C6.28625 3.129 4.78802 3.21198 3.84692 4.15308C2.8269 5.1731 2.8269 6.8269 3.84693 7.84693Z",fill:"#F24822"}))},69840:(e,t,r)=>{"use strict";r.d(t,{mA:()=>P,iV:()=>M,Cc:()=>D,qo:()=>F});var n=r(307824),i=r(250008),a=r(427792),o=r(487540),l=r(973544),s=r(337384),c=r(184172),d=r(693400),u=r(253576),p=r(113396),m=r(212980),_=r(848096),h=r(284972),g=r(825016),f=r(778112),E=r(155256),y=r(613120),b=r(344548),v=r(165472),I=r(689428);let w=r(618336).PluginTryButton;var T=r(375676),S=r(528488),C=r(992568),A=r(51696),O=r(80060);let N="resource_page_header--resourceHeaderAvatar--FI-3x",L="resource_page_header--resourceHeaderAvatarWrapper--nn-w8",R="resource_page_header--resourceHeaderFigmaPartnerBadge--cgvkO";function P({publishers:e,size:t=32,showFigmaPartnerBadge:r}){return e.length<5?n.createElement(n.Fragment,null,e.map((e,a)=>n.createElement("div",{key:e.id,className:L,"data-testid":"resource-header-avatar-"+a},n.createElement(A.GQ,{to:`/@${e.profile_handle}`,onClickTracking:()=>{(0,i.we)("resource_creator_click",{profileId:e.id,target:"avatar"})},onClick:e=>e.stopPropagation(),key:e.id},n.createElement(E.C,{entity:e,size:t,style:{zIndex:3-a},adtlClassName:N})),r&&n.createElement("div",{className:R,style:{zIndex:3-a}},(0,y.WW)(e,!0))))):n.createElement(n.Fragment,null,e.slice(0,3).map((e,t)=>n.createElement("div",{className:L,key:e.id,"data-testid":"resource-header-avatar-"+t},n.createElement(A.GQ,{to:`/@${e.profile_handle}`,onClick:e=>e.stopPropagation(),key:e.id},n.createElement(E.C,{entity:e,style:{zIndex:3-t},adtlClassName:N})),r&&n.createElement("div",{className:R,style:{zIndex:3-t}},(0,y.WW)(e,!0)))),n.createElement("div",{className:"resource_page_header--resourceHeaderAvatarWrapperExtraProfiles--P5q2P resource_page_header--resourceHeaderAvatarWrapper--nn-w8"},n.createElement(h.C,{type:"Letter",size:"Large",letter:(e.length-3).toString()})))}function M({publishers:e,useSmallWidth:t=!1,removeByLabel:r=!1,openInNewTab:i=!1}){return n.createElement("span",{className:e.length>2?"resource_page_header--author--k2bGY":"resource_page_header--authorHiddenOverflow--hoVA5"},(0,c.CM)(e,t,r,i))}function k({button:e,subtext:t}){return n.createElement("div",{className:O.nr},e,t&&n.createElement("div",{className:O.sj},t))}function D({resource:e}){let t=(0,f.YV)(e),r=(0,s.q)(e),i=(0,u.e6)(),a=!(0,p.a)()&&((0,f.gD)(e)||(0,f.mc)(e))&&i();if((0,m.W8)(e,r))return n.createElement(T.F,{resource:e,context:f.qI.DETAIL});if((0,d.aG)(e))return n.createElement(l._,{hubFile:e});{let r=t?n.createElement(S.kv,{resource:e,showCaret:!a}):(0,f.GU)(e)?n.createElement(S.w1,null):void 0;return n.createElement(k,{button:n.createElement(w,{resource:e,context:f.qI.DETAIL,inRedesignExp:!0}),subtext:r})}}function F({resource:e}){let t=(0,d.EK)(e),r=(0,a.O)(g._K),i=(0,o.H)(),l=e.community_publishers.accepted;return n.createElement("div",{className:i?r?"resource_page_header--resourcePageHeaderMobile--RBDAk resource_page_header--resourcePageHeader--NQ5IX":"resource_page_header--resourcePageHeader--NQ5IX":"resource_page_header--resourcePageHeaderSticky--mAxn8 resource_page_header--resourcePageHeader--NQ5IX"},n.createElement("div",{className:"resource_page_header--resourcePageHeaderMaxWidth--uxz5W"},n.createElement("div",{className:"resource_page_header--leftSide--xtHpr"},n.createElement("h1",{className:"resource_page_header--resourceNameHeader---1-0y text--fontPos24--YppUD text--_fontBase--QdLsd"},n.createElement("span",{className:"resource_page_header--name--g8MqS"},t.name)),n.createElement("div",{className:"resource_page_header--attributionLine--rsfxX text--fontPos13--xW8hS text--_fontBase--QdLsd"},n.createElement(b.s,{resource:e}),n.createElement(C.c,{resource:e}),n.createElement("div",{className:"resource_page_header--attributionCreator--hk-qB"},n.createElement(P,{publishers:l}),n.createElement(M,{publishers:l})),!1)),n.createElement(_.cp,{mediaQuery:`(min-width: ${g._K+1}px)`},n.createElement("div",{className:"resource_page_header--rightSide--oN7bA"},n.createElement(v.U,null),n.createElement(I.zV,{resource:e,viewContext:"logged_out"}),n.createElement(D,{resource:e})))))}},51696:(e,t,r)=>{"use strict";let n;r.d(t,{GQ:()=>v,iQ:()=>_,mE:()=>h,u2:()=>b,yM:()=>y});var i=r(307824),a=r(656716),o=r(843148),l=r(693400),s=r(699768),c=r(618600),d=r(113396);let u=e=>({type:"SELECT_VIEW",payload:e}),p=/^\/community\/(file|widget|plugin)\/(\d+)/,m=/^\/@(.+)/;function _(e){n=e}function h(){return n}function g(e){let t=new URLSearchParams(e.split("?")[1]).get("searchSessionId");return t?{searchSessionId:t}:void 0}function f(e){let t=(0,s.Yt)(window.location.pathname),r=(0,s.Yt)(e);return t.reactRouterHandled&&r.reactRouterHandled}function E(e,t){let r=!1,{pathname:i}=window.location;if(/^\/community/.test(i)&&(0,d.a)()&&!(p.test(e)||m.test(e)))return r;if(p.test(e)){r=!0;let[t,i,a]=e.match(p),o=g(e);n(u({...(0,c.a)(i,a),cmtyTrackingInfo:o}))}else if(m.test(e))r=!0,n(u({view:"communityHub",subView:"handle",handle:e.match(m)[1]}));else{r=!0;let[t,i]=e.split("?");i=i?`?${i}`:"",n(u({data:(0,s.qm)(t,i),subView:"searchAndBrowse",view:"communityHub"}))}return r&&t&&(t.preventDefault(),t.stopPropagation()),r}function y(e){if(f(e))l.CG.push(e);else{let t=!1;(0,d.a)()&&(t=E(e)),t||a.default.push(e)}}function b(e,t,r=!0){let i=()=>{t.preventDefault(),t.stopPropagation()},{pathname:l}=window.location;if(m.test(l)&&!m.test(e)&&!(0,o.Ub)().cmty_profile_in_react_router){r||(a.default.redirect(e),i());return}{let t=e.match(p);if(t){let[r,a,o]=t,l=g(e);n(u({...(0,c.a)(a,o),cmtyTrackingInfo:l})),i();return}let r=e.match(m);if(r){n(u({view:"communityHub",subView:"handle",handle:r[1]})),i();return}let[a,o]=e.split("?");n(u({data:(0,s.qm)(a,o?`?${o}`:void 0),subView:"searchAndBrowse",view:"communityHub"})),i();return}}function v({to:e,onClickTracking:t,onClick:r,onClickOverride:n,className:a,children:o,style:s,onRef:c,animationIndex:u,target:p}){return i.createElement("a",{href:e,onClick:i=>{if(null==t||t(i),!i.ctrlKey&&!i.metaKey){if(r&&r(i),n){i.preventDefault(),n(i);return}if(f(e)){i.preventDefault(),l.CG.push(e);return}(0,d.a)()&&E(e,i);return}},style:s,className:a,ref:e=>{null==c||c(e)},target:p},o)}},337384:(e,t,r)=>{"use strict";r.d(t,{M:()=>s,q:()=>l});var n=r(506616),i=r(212980),a=r(472956),o=r(778112);function l(e){var t;let r=e&&(0,o.OG)(e)?e.monetized_resource_metadata.id:"-1",l=(0,n.Qb)(a.mCU,{monetizedResourceMetadataId:r},{enabled:!0});if("loaded"!==l.status||(null==(t=l.errors)?void 0:t.length))return null==e?void 0:e.community_resource_payment;{let{communityResourcePayment:e}=l.data;if(!e)return;return(0,i.I$)(e)}}function s(e){let t=l(e);return(0,i.OI)(t)}},693400:(e,t,r)=>{"use strict";let n;r.d(t,{A3:()=>eu,C2:()=>et,CG:()=>el,Ci:()=>ea,EK:()=>H,G0:()=>K,GE:()=>V,IJ:()=>eb,IL:()=>z,M1:()=>en,OU:()=>j,Og:()=>B,QT:()=>ei,S4:()=>J,Se:()=>Y,VF:()=>ec,WF:()=>eo,Y5:()=>eE,YF:()=>ey,_Y:()=>er,aG:()=>q,aU:()=>eg,cp:()=>em,ct:()=>e_,g3:()=>ed,iE:()=>es,mG:()=>U,mK:()=>x,o$:()=>eh,qC:()=>Z,sJ:()=>ef,uQ:()=>Q,wR:()=>ep,yC:()=>X,ye:()=>ee,yu:()=>W});var i=r(307824),a=r(120304),o=r(842896),l=r(19648),s=r(562416),c=r.n(s),d=r(899116),u=r(656716),p=r(804420),m=r(843148),_=r(506616);r(425396);var h=r(859232),g=r(936756),f=r(234284),E=r(560072),y=r(468544),b=r(426856),v=r(77588),I=r(487132),w=r(180155),T=r(825016),S=r(753432),C=r(514916),A=r(472956),O=r(778112),N=r(236892),L=r(228472),R=r(559572),P=r(224100),M=r(263212),k=r(291900),D=r(699768),F=r(531163);let x=new RegExp(/^[\w.]{0,30}$/),U=new RegExp(/^\w{0,15}$/),B=!1,G=new Date("2023-11-30");function V(e){let t={};return e.map(e=>e.tags).map(e=>{if(e)for(let r=0;r<(null==e?void 0:e.length);r++)t[e[r]]||(t[e[r]]=0),t[e[r]]++}),Object.entries(t).sort((e,t)=>e[1]>t[1]?-1:1).map(e=>e[0])}function H(e){return"current_hub_file_version_id"in e?e.versions[e.current_hub_file_version_id]:e.versions[e.current_plugin_version_id]}let W=()=>location.pathname.split("/").slice(2);function K(e){switch(e){case C.C0.WHITEBOARD:return N.eI.FIGJAM;case C.C0.CANVAS:case C.C0.PROTOTYPE:default:return N.eI.FIGMA}}function Y(e){return e.viewer_mode?O.y4.HUB_FILE:e.is_widget?O.y4.WIDGET:O.y4.PLUGIN}function q(e){return void 0!==e.viewer_mode}function j(e){return e.viewer_mode===C.C0.LIBRARY}var $=((n=$||{}).HUB_FILES="hub_files",n.PLUGINS="plugins",n.WIDGETS="widgets",n);function Z(e){return function(e){switch(e){case O.y4.HUB_FILE:return w.yi.FILE;case O.y4.PLUGIN:return w.yi.PLUGIN;case O.y4.WIDGET:return w.yi.WIDGET}}(Y(e))}function z(e,{plural:t=!1}={}){let r=Y(e);return t?r===O.y4.HUB_FILE?w.E9.FILE:r===O.y4.WIDGET?w.E9.WIDGET:w.E9.PLUGIN:r===O.y4.HUB_FILE?w.yi.FILE:r===O.y4.WIDGET?w.yi.WIDGET:w.yi.PLUGIN}function Q({resource:e,trackingInfo:t}){var r;return X({path:Z(e),id:e.id,name:(null==(r=H(e))?void 0:r.name)??"",trackingInfo:t})}function X({path:e,id:t,name:r,trackingInfo:n}){let i=n?new URLSearchParams(n).toString():"",a=(0,g.uW)(r||"");return`/community/${e}/${t}${""===a?"":"/"}${a}${i?`?${i}`:""}`}function J(e){return`${location.origin}${Q({resource:e})}`}function ee(e){var t=document.createElement("input");t.style.position="fixed",t.style.top="-1000px",t.value=e,t.classList.add(S.cp),document.body.appendChild(t),t.select(),document.execCommand("copy"),t.parentNode.removeChild(t)}let et="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7";function er(e,t){return(null==t?void 0:t.entity_type)!==L.Iv.USER||(null==t?void 0:t.id)===e}function en(e){var t;if("/community"===u.default.location.pathname||!e)return"Add a little magic to your files";if("/community/plugins"===u.default.location.pathname)return"Powerful Plugins Made Just For Figma";if("/community/widgets"===u.default.location.pathname)return"Customize your space with Widgets";let r=[];return e.sort_by===y.m.Browse.PUBLISHED_AT?r.push("Newest"):e.sort_by===y.m.Browse.ALL_TIME?r.push("Top"):e.sort_by===y.m.Browse.POPULAR&&r.push("Trending"),e.editor_type===P.gr.FIGJAM?r.push("FigJam"):e.editor_type===P.gr.FIGMA&&r.push("Figma"),e.resourceType===b.o.BrowseResourceTypes.FILES?r.push("Files"):e.resourceType===b.o.BrowseResourceTypes.WIDGETS?r.push("Widgets"):e.resourceType===b.o.BrowseResourceTypes.PLUGINS?r.push("Plugins"):r.push("Resources"),(null==(t=e.tags)?void 0:t.length)>0&&r.push(`tagged as ${e.tags.join(", ")}`),e.query&&r.push(`matching "${e.query}"`),r.join(" ")+" | Figma"}function ei(e){return!!e&&(null==e?void 0:e.stripe_account_status)&&(0,k.OR)(e.stripe_account_status)>=(0,k.OR)(k.G.ACCEPTED)}function ea(e){var t;return!!(null==(t=null==e?void 0:e.associated_users)?void 0:t.find(e=>e.can_sell_on_community))}function eo(e){return(null==e?void 0:e.stripe_account_status)&&e.stripe_account_status!==k.G.NONE&&e.stripe_account_status!==k.G.ACCEPTED}let el=function(){try{return(0,l.iU)()}catch(e){if("URIError"===e.name){let e=window.location.href;return u.default.replace(e.substring(0,e.lastIndexOf("/"))),(0,l.iU)()}throw e}}();function es(e){(0,f.Cm)()||(0,f.AZ)()||"communityHub"!==e.view||d.sZ||"searchAndBrowse"!==e.subView||!e.data||el.push((0,D.wr)(e.data))}function ec(e){return(0,I.or)(e)?O.y4.WIDGET:(0,I.my)(e)?O.y4.PLUGIN:O.y4.HUB_FILE}function ed(e){let t=H(e);return t&&t.name||""}function eu(e){return e?"100%":Math.min(window.innerWidth,parseInt(F.W_l))}function ep(e){return(0,O.SC)(e)&&e.viewer_mode===C.C0.PROTOTYPE?M.G2.EMBED:!function(e){var t;if(1!==Object.keys(e.carousel_media_urls??{}).length||((0,O.gD)(e)||(0,O.mc)(e))&&Object.keys(e.carousel_videos??{}).length>0)return!1;let r=null==(t=e.carousel_media_urls)?void 0:t["0"];return!!r&&null!=r&&!!r.created_at&&!((null==r?void 0:r.created_at)>=G)}(e)?Object.keys(e.carousel_media_urls??{}).length>0||((0,O.gD)(e)||(0,O.mc)(e))&&Object.keys(e.carousel_videos??{}).length>0?M.G2.CURATED_IMAGE:(0,O.SC)(e)&&!e.thumbnail_is_set?M.G2.EMBED:M.G2.THUMBNAIL:M.G2.THUMBNAIL}function em(e){if((0,O.SC)(e))switch(e.viewer_mode){case C.C0.WHITEBOARD:return i.createElement(E.Tx,{id:"community.detail_view.figjam_board"});case C.C0.CANVAS:return i.createElement(E.Tx,{id:"community.detail_view.design_file"});case C.C0.PROTOTYPE:return i.createElement(E.Tx,{id:"community.detail_view.prototype"})}return(0,O.gD)(e)?i.createElement(E.Tx,{id:"community.detail_view.plugin"}):(0,O.mc)(e)?i.createElement(E.Tx,{id:"community.detail_view.widget"}):i.createElement(E.Tx,{id:"community.detail_view.design_file"})}function e_(e,t,r){return e+v.Qv<=t&&r>v.Go}function eh(e){return c()(e,(0,R.kd)())}function eg(){let e=(0,p.Y)(`(max-width: ${T._K-1}px)`),t=u.default.location.pathname.startsWith("/community");return e&&t}function ef(){let e=(0,p.Y)(`(max-width: ${T._K-1}px)`),t=null!==(0,o.SU)(w.$f.path);return e&&t}function eE(e){let t={};return e.carousel_media_urls&&Object.entries(e.carousel_media_urls).forEach(([e,r])=>{t[e]={...r,type:"image"}}),((0,O.gD)(e)||(0,O.mc)(e))&&(null==e?void 0:e.carousel_videos)&&Object.entries(e.carousel_videos).forEach(([e,r])=>{t[e]={...r,type:"video"}}),Object.entries(t).sort(([e],[t])=>parseInt(e)-parseInt(t)).map(([e,t])=>t)}function ey(e){return!!(0,m.Ub)().cmty_rdp_creator_nudges&&((0,O.SC)(e)&&e.viewer_mode!==C.C0.PROTOTYPE?1===Object.keys(e.carousel_media_urls??{}).length:!!((0,O.gD)(e)||(0,O.mc)(e))&&0===Object.keys(e.carousel_videos??{}).length)}function eb(e,t){let r=(0,a.w1)(e=>e.authedActiveCommunityProfile),n={profileId:(null==r?void 0:r.id)||"",hubFileId:null,pluginId:null};return t===O.y4.HUB_FILE?n.hubFileId=e||null:n.pluginId=e||null,(0,_.Qb)(A.ioS,n,{enabled:!!n.profileId}).transform(e=>{var t;return[!!e.communityHubLike,(null==(t=e.communityHubLike)?void 0:t.id)||null]})}el.listen(e=>{"PUSH"===el.action&&h.c.endPageVisitAndStartNewPageVisit(h.g.PUSH,e.pathname),"REPLACE"===el.action&&h.c.endPageVisitAndStartNewPageVisit(h.g.REPLACE,e.pathname)})},253576:(e,t,r)=>{"use strict";r.d(t,{CG:()=>u,E3:()=>d,EV:()=>s,MJ:()=>o,a:()=>p,e6:()=>l,qO:()=>c});var n=r(307824),i=r(843148),a=r(810756);function o(){let{getConfig:e}=(0,a.M9)("exp_resource_page_redesign_hubfile");return(0,n.useCallback)(()=>e().get("show_redesign",!1),[e])}function l(){let{getConfig:e}=(0,a.M9)("exp_resource_page_redesign_plugin");return(0,n.useCallback)(()=>e().get("show_plugin_redesign",!1),[e])}function s(e){return l(),o(),!0}function c({is_logged_out:e}){let{getConfig:t}=(0,a.M9)("cmty_nav_categories"),{getConfig:r}=(0,a.M9)("cmty_logged_in_nav_categories");return(0,n.useCallback)(()=>e?t().get("show_categories",!0):r().get("show_categories",!1),[r,t,e])}function d({is_logged_out:e}){let{getConfig:t}=(0,a.M9)("cmt_logged_out_mobile_nav_categories");return(0,n.useCallback)(()=>!!e&&t().get("show_categories",!0),[t,e])}function u(e){return e?(0,a.Iv)("exp_cmty_mobile_rdp_redesign_logged_out").getValue("enabled",!1):(0,a.Iv)("exp_cmty_mobile_rdp_redesign_logged_in").getValue("enabled",!1)}function p(){return!!(0,i.Ub)().cmty_footer&&(0,a.Iv)("cmty_footer_logged_in").getValue("enabled",!1)}r(693400),r(778112)},699768:(e,t,r)=>{"use strict";let n,i;r.d(t,{C6:()=>M,GY:()=>P,Kw:()=>R,QZ:()=>N,W_:()=>A,YX:()=>D,Yt:()=>F,es:()=>y,gf:()=>L,o5:()=>k,qm:()=>g,ui:()=>b,wr:()=>f});var a=r(307824),o=r(842896),l=r(688420),s=r(843148),c=r(799488),d=r(478088),u=r(620212),p=r(826364),m=r(426856),_=r(364824),h=r(468544);function g(e,t){return y(e,t)||function(e,t){let r=decodeURIComponent(e||location.pathname);if(!v.test(r)||I.test(r)||w.test(r))return;let n=("/"===r[0]?r.slice(1):r).split("/"),i={resourceType:m.o.BrowseResourceTypes.MIXED,tags:[],editor_type:p.w.Editors.ALL,sort_by:(0,c.E)()?h.m.Shared.ALL_TIME:h.m.Shared.POPULAR,price:_.w.ALL,category:null,following:!1,pagination:null,creators:u.E.ALL};for(let e=0;e<S.length&&0!==n.length;e++){let t=S[e](n,i);t&&t[0]&&(n=t[1],i={...i,...t[0]})}i.editor_type===p.w.Editors.DEV_MODE&&i.resourceType===m.o.BrowseResourceTypes.MIXED&&(i.resourceType=m.o.BrowseResourceTypes.PLUGINS);let a=new URLSearchParams(location.search),o=!!a.get("following"),l=(()=>{let e=a.get("creators");return e&&e===u.E.FOLLOWING?e:i.creators})();return{...i,following:o,creators:l}}(e)}function f(e){return"query"in e?b(e):function(e){var t;let r="/community";e.category?r+=`/category/${e.category}`:(null==(t=e.tags)?void 0:t.length)&&(r+=`/tag/${e.tags.join(",")}`),e.editor_type===p.w.Editors.DEV_MODE&&e.resourceType===m.o.BrowseResourceTypes.MIXED&&(e.resourceType=m.o.BrowseResourceTypes.PLUGINS),e.resourceType!==m.o.BrowseResourceTypes.MIXED&&(r+=`/${e.resourceType}`),"all"!==(0,d.M)(e.editor_type,e.resourceType)&&(r+=`/${e.editor_type}`),e.price&&_.w.FOR_URL_SLUG.indexOf(e.price)>-1&&(r+=`/${e.price}`),e.creators===u.E.FIGMA_PARTNER&&(r+=`/${e.creators}`),e.sort_by&&(e.sort_by===h.m.Browse.PUBLISHED_AT?r+="/new":e.sort_by!==h.m.Browse.ALL_TIME||(0,c.E)()?e.sort_by===h.m.Browse.POPULAR&&(0,c.E)()&&(r+="/trending"):r+="/popular"),C[r]&&(r=C[r]);let n={};!0===e.following&&(n.following=e.following),e.creators===u.E.FOLLOWING&&(n.creators=e.creators);let i=Object.keys(n).length>0?new URLSearchParams(n).toString():void 0;return i&&(r+=`?${i}`),r}(e)}let E=/^\/community\/search$/;function y(e,t){if(e||(e=location.pathname),!e.match(E))return null;t||(t=location.search);let r=new URLSearchParams(t),n=r.get("query");if(!n)return null;let i=r.get("resource_type");if(!i)return null;let a=r.get("sort_by")||h.m.Search.RELEVANCY,o=(0,d.M)(r.get("editor_type"),i);return{resourceType:i,sort_by:a,editor_type:o,query:n,price:r.get("price")||_.w.ALL,creators:(()=>{let e=r.get("creators");return u.E.isSearchType(e)?e:u.E.ALL})()}}function b(e){let t=new URLSearchParams({resource_type:e.resourceType,sort_by:e.sort_by,query:e.query,editor_type:(0,d.M)(e.editor_type,e.resourceType),price:e.price,creators:e.creators&&u.E.isSearchType(e.creators)?e.creators:u.E.ALL}).toString();return`/community/search?${t}`}let v=/^\/community/,I=/^\/community\/collections?\/?/,w=/^\/community\/(file|plugin|widget)\//;var T=((n=T||{}).NEW="new",n.POPULAR="popular",n.TRENDING="trending",n.CATEGORY="category",n.TAG="tag",n.COMMUNITY="community",n);let S=[function(e){return"community"===e[0]&&[{},e.slice(1)]},function(e){return"tag"===e[0]&&!!e[1]&&[{tags:e[1].split(",")},e.slice(2)]},function(e){return"category"===e[0]&&!!e[1]&&[{category:e[1]},e.slice(2)]},function(e){let t=e[0];return Object.values(m.o.BrowseResourceTypes).indexOf(t)>-1&&[{resourceType:t},e.slice(1)]},function(e,t){let r=e[0];return Object.values(p.w.Editors).indexOf(r)>-1&&[{editor_type:(0,d.M)(r,t.resourceType)},e.slice(1)]},function(e){let t=e[0];return _.w.FOR_URL_SLUG.indexOf(t)>-1&&[{price:t},e.slice(1)]},function(e){let t=e[0];return t===u.E.FIGMA_PARTNER&&[{creators:t},e.slice(1)]},function(e){let t=null;return"new"===e[0]&&(t=h.m.Browse.PUBLISHED_AT),"popular"===e[0]&&(t=h.m.Browse.ALL_TIME),"trending"===e[0]&&(t=h.m.Browse.POPULAR),!!t&&[{sort_by:t},e.slice(1)]}],C={"/community/mixed":"/community"};function A(){let[e,t]=a.useState(g());return!function(e){let t=(0,o.Uz)();a.useEffect(()=>t.listen(e),[e,t])}(a.useCallback(function(){t(g())},[])),e}let O=/\/community(\/(?:[a-zA-Z]+))?/;var N=((i=N||{}).SEARCH="/community/search",i);function L(e){if(!e)return null;let t=e.match(O);return t?t[0]:null}function R(){let[e,t]=a.useState(g());return a.useEffect(()=>{let e=()=>{t(g())};return window.addEventListener("pushState",e),window.addEventListener("replaceState",e),window.addEventListener("popState",e),()=>{window.removeEventListener("pushState",e),window.removeEventListener("replaceState",e),window.removeEventListener("popState",e)}},[]),e}function P(e){var t;return!!e&&!e.category&&!((null==(t=e.tags)?void 0:t.length)>0)&&(!("query"in e)||!e.query)}function M(e){let t=g(e);return!!t&&P(t)}let k={resourceType:m.o.BrowseResourceTypes.MIXED,sort_by:h.m.Browse.POPULAR,editor_type:p.w.Editors.ALL,price:_.w.ALL,tags:[],pagination:null,category:null,creators:u.E.ALL},D={resourceType:m.o.BrowseResourceTypes.MIXED,sort_by:h.m.Search.RELEVANCY,editor_type:p.w.Editors.ALL,price:_.w.ALL,creators:u.E.ALL};function F(e){return/\/community\/(file|plugin|widget)\/\d+/.test(e)?{reactRouterHandled:!0,subView:"resourcePage"}:/^\/@/.test(e)?{reactRouterHandled:!0===(0,s.Ub)().cmty_profile_in_react_router,subView:"handle"}:/\/community*/.test(e)?{reactRouterHandled:!0,subView:"searchAndBrowse"}:(l.g.warn(`If this is firing, it means you're trying to use fastma-routing on a non-Community URL.
url: ${e}`),{reactRouterHandled:!1,subView:!1})}},784732:(e,t,r)=>{"use strict";r.d(t,{me:()=>d,sT:()=>u});var n=r(307824),i=r(120304);r(760780);var a=r(506616),o=r(980068),l=r(814104),s=r(472956),c=r(39676);function d(e){let t=(0,i.OY)(),r=(0,i.w1)(t=>t.communityHub.shelves[e]||[]),a=l.UR.loadingKeyForPayload({shelfType:e}),o=(0,c.y_)(a),s=(0,c.IT)(a);return n.useEffect(()=>{o||s||t(l.UR({shelfType:e}))}),{shelves:r,isLoading:o,hasResolved:s}}function u(e){let t=(0,a.Qb)(s.mAq,{profileId:e});if("loaded"===t.status){let e=t.data.communityProfile;if(e){let t=e.associatedUsers,r=[];t.forEach(t=>{r.push({user_id:t.id,email:t.email,is_primary_user:t.id===e.primaryUserId})});let n=[];return e.badges.forEach(e=>{n.push(e.badgeType)}),{id:e.id,name:e.name,profile_handle:e.profileHandle,description:e.description,location:e.location,website:e.website,twitter:e.twitter,instagram:e.instagram,public_at:e.publicAt,follower_count:e.followerCount,following_count:e.followingCount,cover_image_path:e.coverImagePath,primary_user_id:e.primaryUserId,team_id:e.teamId,org_id:e.orgId,pronouns:e.pronouns,entity_type:e.entityType,created_at:e.createdAt.toDateString(),updated_at:e.updatedAt.toDateString(),redirect_cover_image_url:e.coverImagePath?`/profile/${e.id}/cover_image`:"",associated_users:r,current_user_is_following:e.currentUserIsFollowing,current_user_is_followed:e.currentUserIsFollowed,badges:n,is_restricted_by_current_user:!1,img_urls:{},img_url:"",has_shared_orgs:!1,has_shared_teams:!1}}}}let p=(0,o.iI)(e=>e.map(e=>{var t;return{t:null!==e.t?e.t:void 0,link:e.link?e.link:void 0,styles:e.styles?e.styles:void 0,profile_id:e.profileId?e.profileId:void 0,children:(null==(t=e.children)?void 0:t.length)?p(e.children):void 0}}))},212980:(e,t,r)=>{"use strict";r.d(t,{Cw:()=>h,I$:()=>N,Kj:()=>A,LY:()=>_,OI:()=>w,SO:()=>E,Sc:()=>y,W8:()=>O,Ww:()=>d,_0:()=>v,cb:()=>S,cp:()=>b,dO:()=>u,ey:()=>m,kf:()=>f,qs:()=>p,sT:()=>g,ue:()=>T,wR:()=>C});var n=r(294300),i=r(560072),a=r(455324),o=r(422416),l=r(778112),s=r(557188),c=r(520912);let d=2;function u(e){if(null==e?void 0:e.price){let{price:t}=e;return .01*t}}function p(e){return e?100*e:0}function m(e){return e%1!=0}function _(e,t){return t>e}function h(e,t){return t/e>1.5}function g(e){return e<d||e>=1e3}function f(e,t){if(!e||!t)return"";let r=1200*e*(1-t/100);return(0,i.t)("community.buyer.price_per_year",{priceString:b(r,r%100!=0)})}function E(e,t=!1){let{price:r,is_subscription:n}=e;if(!n)return b(r,!1);if(t){let t=e.annual_price||0;return(0,i.t)("community.buyer.price_per_year",{priceString:b(t,t%100!=0)})}return(0,i.t)("community.buyer.price_per_month",{priceString:b(r,r%100!=0)})}function y(e){let{price:t,is_subscription:r}=e,n=b(t,t%100!=0);return r?(0,i.t)("community.buyer.price_per_month_subscription",{priceString:n}):(0,i.t)("community.buyer.price_one_time_payment",{priceString:n})}function b(e,t=!1){return new o.Ip("usd").formatMoney(e,{showCents:t})}function v(e){switch(e){case c.q8.DOESNT_MEET_NEEDS:return(0,i.t)("community.buyer.refund_reason.doesnt_meet_needs");case c.q8.TECHNICAL_ISSUES:return(0,i.t)("community.buyer.refund_reason.technical_issues");case c.q8.TOO_EXPENSIVE:return(0,i.t)("community.buyer.refund_reason.too_expensive");case c.q8.FOUND_ALTERNATIVE:return(0,i.t)("community.buyer.refund_reason.found_alternative");case c.q8.OTHER:return(0,i.t)("community.buyer.refund_reason.other")}}function I(e){return!!(e.subscription_expires_at&&!isNaN(Date.parse(e.subscription_expires_at)))}function w(e){return!!e&&(I(e)?new Date(e.subscription_expires_at).getTime()+864e5>new Date().getTime()&&!T(e,s.S4.DISPUTED):T(e,s.S4.SUCCEEDED))}function T(e,t){return!!e.status&&e.status===t}function S(e){return e.status===s.S4.SUBSCRIPTION_PAYMENT_FAILED||e.status===s.S4.INVOICE_FINALIZATION_FAILED}function C(e){let t=Date.now()-864e5;return w(e)&&!I(e)&&new Date(e.purchased_at).getTime()>=t}function A(e,t){var r,i;if((0,l.gD)(t)||(0,l.mc)(t)){let a=((null==(r=t.plugin_publishers)?void 0:r.accepted)||[]).map(e=>e.id),o=((null==(i=t.plugin_publishers)?void 0:i.pending)||[]).map(e=>e.id),l=new Set(a.concat(o)),{pass:s,fail:c}=(0,n.Y)(e,e=>l.has(e.id)||e.id===t.creator.id);return{usersCanPurchase:c,publishers:s}}{let r=new Set((0,a.WA)(t)),{pass:i,fail:o}=(0,n.Y)(e,e=>r.has(e.id));return{usersCanPurchase:o,publishers:i}}}function O(e,t){let r=(0,l.OG)(e),n=r&&(0,l.YV)(e),i=w(t);return r&&!n&&!i}function N(e){return{status:s.M5[e.status],purchased_at:e.purchasedAt?new Date(e.purchasedAt).toISOString():null,subscription_expires_at:e.subscriptionExpiresAt?new Date(e.subscriptionExpiresAt).toISOString():null,subscription_canceled_at:e.subscriptionCanceledAt?new Date(e.subscriptionCanceledAt).toISOString():null,refund_reason:e.refundReason,monetized_resource_metadata_id:e.monetizedResourceMetadataId,subscription_interval:e.subscriptionInterval}}},278392:(e,t,r)=>{"use strict";r.d(t,{a:()=>i,q:()=>a});var n=r(228472);function i(e){return!!(e&&(e.entity_type===n.Iv.ORG||e.entity_type===n.Iv.TEAM))}function a(e,t){var r;return t?t.public_at?`@${t.profile_handle}`||null:t.primary_user_id?(null==(r=e.authedUsers.byId[t.primary_user_id])?void 0:r.email)||null:t.org_id?e.orgById[t.org_id].name||null:t.team_id&&e.teams[t.team_id].name||null:null}},332320:(e,t,r)=>{"use strict";r.d(t,{AX:()=>i,An:()=>o,EF:()=>s,Ke:()=>a,SK:()=>p,TL:()=>l,kp:()=>u,mA:()=>c,pf:()=>d});var n=r(514916);function i(e,t){return e.tagline||t(e.description)}function a(e){return"unique_run_count"in e?e.unique_run_count:e.duplicate_count}function o(e){return!!e.publishing_status&&[n.VC.PENDING_PUBLIC,n.VC.PENDING_USER_VISUAL_COMPLIANCE,n.VC.ORG_PRIVATE_PENDING_PUBLIC].includes(e.publishing_status)}function l(e){return e.publishing_status===n.VC.APPROVED_PUBLIC}function s(e){return!!e.publishing_status&&[n.VC.DELISTED,n.VC.DELISTED_CREATOR_STRIPE_DISABLED].includes(e.publishing_status)}function c(e){return e.publishing_status===n.VC.BLOCKED}function d(e,t){var r;return((null==(r=t.community_publishers)?void 0:r.accepted)??[]).some(t=>t.id===e)}function u(e){return e.community_publishers.accepted.some(e=>"apple"===e.profile_handle.toLowerCase())}function p(e){return e.community_publishers.accepted.some(e=>"figma"===e.profile_handle.toLowerCase())}},848096:(e,t,r)=>{"use strict";r.d(t,{Yp:()=>c,_e:()=>d,cp:()=>s});var n=r(307824),i=r(721500),a=r(733960),o=r(763456);let l=(0,i.I)(o.yIn);function s({mediaQuery:e,children:t,onShow:r,onHide:i}){let o=n.useMemo(()=>window.matchMedia(e),[e]),[l,s]=n.useState(o.matches),c=(0,a.i)(l);return(n.useEffect(()=>{let e=()=>s(o.matches);return o.addEventListener("change",e),()=>o.removeEventListener("change",e)},[o]),n.useEffect(()=>{(void 0===c||c!==l)&&(l&&r&&r(),!l&&i&&i())},[l,c,r,i]),l)?n.createElement(n.Fragment,null,t):null}function c({children:e}){return n.createElement(s,{mediaQuery:`(max-width: ${l-1}px)`},e)}function d({children:e}){return n.createElement(s,{mediaQuery:`(min-width: ${l}px)`},e)}},983476:(e,t,r)=>{"use strict";r.d(t,{O8:()=>o,Qt:()=>a,ct:()=>l,qI:()=>s});var n=r(509250);let i="8065774696727";function a(e,t){(0,n.CQ)({name:e.name,email:e.email},{ticketForms:["community"],fields:t,suppressAnswerBot:!0})}function o(e){return a(e,[{id:i,value:"community_product_question"}])}function l(e){return a(e,[{id:i,value:"community_refund"}])}function s(e){return a(e,[{id:i,value:"community_report"}])}},77588:(e,t,r)=>{"use strict";let n,i,a;r.d(t,{Go:()=>c,KQ:()=>s,Qv:()=>d,sb:()=>u,uE:()=>m});var o=r(698580),l=r(778112);let s=-200,c=10,d=125;var u=((n=u||{}).file="hub_files",n.plugin="plugins",n.widget="widgets",n);o.object({comments:o.array(l.YS).nullable(),total_count:o.number().optional()});var p=((i=p||{}).COMPONENTS="components",i.STYLES="styles",i),m=((a=m||{}).DescriptionView="descriptionViewSection",a.CommentsView="commentsViewSection",a)},669592:(e,t,r)=>{"use strict";let n,i;function a(e){return!!e&&void 0!==e.query}function o(e){return void 0!==e.category}r.d(t,{K6:()=>a,KK:()=>s,QH:()=>l,uW:()=>o});var l=((n=l||{}).inspiration="inspiration",n.jamSessions="jam-sessions",n.designSystems="design-systems",n.visualAssets="visual-assets",n.development="development",n.accessibility="accessibility",n.brainstorming="brainstorming",n.classroomActivities="classroom-activities",n.designTemplates="design-templates",n.designTools="design-tools",n.desktopAppsWebsites="desktop-apps-websites",n.diagramming="diagramming",n.editingEffects="editing-effects",n.education="education",n.fileOrganization="file-organization",n.fontsTypography="fonts-typography",n.funGames="fun-games",n.icons="icons",n.illustrations="illustrations",n.importExport="import-export",n.libraries="libraries",n.mobileApps="mobile-apps",n.portfoliosResumes="portfolios-resumes",n.presentations="presentations",n.prototypingAnimation="prototyping-animation",n.shapesColors="shapes-colors",n.stockPhotography="stock-photography",n.strategicPlanning="strategic-planning",n.teamMeetings="team-meetings",n.tutorials="tutorials",n.uiKits="ui-kits",n.whiteboarding="whiteboarding",n.wireframes="wireframes",n),s=((i=s||{}).LANDING="landing",i.NAV="nav",i)},180155:(e,t,r)=>{"use strict";let n,i;r.d(t,{$f:()=>d,E9:()=>s,yi:()=>l});var a=r(617292),o=(r(475136),r(210608)),l=((n=l||{}).FILE="file",n.WIDGET="widget",n.PLUGIN="plugin",n),s=((i=s||{}).FILE="files",i.WIDGET="widgets",i.PLUGIN="plugins",i);class c extends o.Nz{}c.parseQueryString=e=>{let t=(0,a.K0)(e);return{comment:t.comment,checkout:t.checkout,rating:t.rating}};class d extends c{constructor(e,t){super(e,t)}}d.path="/community/:apiResourceType(file|plugin|widget)/:resourceId/:urlSlug?"},295752:(e,t,r)=>{"use strict";r.d(t,{Ax:()=>E,I1:()=>f,IL:()=>b,Lb:()=>h,Ml:()=>m,OC:()=>w,Sc:()=>p,Sm:()=>T,U4:()=>v,ef:()=>I,iC:()=>g,nd:()=>_,oH:()=>y,oJ:()=>S});var n=r(307824),i=r(120304),a=r(843148),o=r(372152),l=r(560072),s=r(894764),c=r(325252),d=r(886684),u=r(511508);let p="FIGMA_PROPERTIES",m="WEB",_="IOS",h="ANDROID",g="CSSBUILDER",f="IOS_UIKIT",E="ANDROID_XML",y={[m]:{type:"first-party",id:m},[_]:{type:"first-party",id:_},[f]:{type:"first-party",id:f},[h]:{type:"first-party",id:h},[E]:{type:"first-party",id:E}};function b(e){let t="string"==typeof e?{type:"first-party",id:e}:e;return t&&t.id&&("first-party"!==t.type||y[t.id])?t:{type:"first-party",id:m}}function v(e){let t=(0,s.IX)(),r=(0,s.c9)();return(0,n.useMemo)(()=>({format(n){if((null==n?void 0:n.type)==="first-party")switch(null==n?void 0:n.id){case g:return"CssBuilder";case m:return(0,l.t)("dev_handoff.code.lang_css");case _:return(0,l.t)("dev_handoff.code.lang_swiftui");case f:return(0,l.t)("dev_handoff.code.lang_uikit");case h:return(0,l.t)("dev_handoff.code.lang_compose");case E:return(0,l.t)("dev_handoff.code.lang_android_xml");case p:return(0,l.t)("dev_handoff.code.lang_figma")}if(e){let i=(null==n?void 0:n.type)==="local-plugin"?t[n.id]:(null==n?void 0:n.type)==="published-plugin"&&e.plugin_id===(null==n?void 0:n.id)?r[n.id]??e:null;if(i)return 1===(0,d.S)(i).length?i.name:(0,d.U)(i,(null==n?void 0:n.pluginLanguage)??"").label??i.name}return""}}),[r,t,e])}function I(){return w(S())}function w(e){let t=(0,i.w1)(e=>e.selectedView),r="fullscreen"===t.view?t.editorType:null,n=(0,s.k7)("first-party"!==e.type?e.id:"",{searchLocalPlugins:!0,searchPublishedPlugins:!0,searchSavedPlugins:!0,searchRecentPlugins:!0}),{plugin:a}=(0,s.I5)("published-plugin"===e.type?e.id:"0","published-plugin"===e.type);if("orgAdminSettings"!==t.view&&"dev_handoff"!==r)return null;let o=n||a;return o&&(0,c.Az)(o)?o:null}function T(e,t){if(!e||!e.codeSyntax)return null;switch(t){case m:case g:return e.codeSyntax[0]??null;case h:case E:return e.codeSyntax[1]??null;case _:case f:return e.codeSyntax[2]??null}return null}function S(){let e=(0,o.m4)(u.A),t=(0,i.w1)(e=>e.mirror.appModel.devHandoffCodeLanguage),r=(0,i.w1)(e=>e.selectedView),a=t;return"orgAdminSettings"===r.view&&e&&(a=e),(0,n.useMemo)(()=>b(a),[a])}(0,a.Ub)().dt_lego_ext_plugins&&(y[g]={type:"first-party",id:g})},326020:(e,t,r)=>{"use strict";r.d(t,{Y1:()=>b,ig:()=>y,kZ:()=>E});var n=r(307824),i=r(120304),a=r(937620),o=r(268984),l=r(584208),s=r(894764),c=r(90340),d=r(138884),u=r(251596),p=r(638764),m=r(325252),_=r(224100),h=r(793944),g=r(295752);function f(e){let t=(0,g.IL)(e);return d.Eh(t),t}let E=(0,o.M0)((e,t)=>{var r;let n=e.getState(),{plugin:i,codeLanguage:a}=t,o=(0,p.U)(n),s=f(a);"published-plugin"===s.type&&i&&!(0,_.E7)(i)&&e.dispatch(l.UN({storeInRecentsKey:h.Sy.Handoff,id:i.plugin_id,version:i.version,currentUserId:o})),(0,c.s5)("Dev Mode Language Changed",null==(r=n.openFile)?void 0:r.key,n,{languageType:s.type,languageId:s.id})});function y(){let e=(0,a.qM)(),t=(0,s.So)(),r=(0,i.OY)(),o=(0,u.sX)()??void 0;return(0,n.useCallback)(n=>{let i=f(n);if("published-plugin"===i.type){let e=(0,m.gX)({idToSearch:i.id,publishedPlugins:t,localPluginsByFileId:void 0,savedPlugins:void 0,recentPlugins:void 0});e&&!(0,_.E7)(e)&&r(l.UN({storeInRecentsKey:h.Sy.Handoff,id:e.plugin_id,version:e.version,currentUserId:o}))}e("Dev Mode Language Changed",{languageType:i.type,languageId:i.id})},[o,r,t,e])}function b(){let e=(0,a.qM)();return(0,n.useCallback)(t=>{let r=f(t);return e("Dev Mode Language Changed",{languageType:r.type,languageId:r.id,defaulting:!0}),r},[e])}},699572:(e,t,r)=>{"use strict";r.d(t,{Mj:()=>s,SA:()=>o,uw:()=>l});var n=r(4596),i=r(762820),a=r(570012);function o(e){return null!=e&&!!e.mirror&&1===Object.keys(e.mirror.sceneGraphSelection).length}function l(e){var t;if(!e||!(0,n.U3)((0,n.K0)(e)))return a.Af.ASSET_COMPONENT;try{return(null==(t=i.aWh.getAssetInfo(e))?void 0:t.type)??a.Af.ASSET_COMPONENT}catch(e){console.warn(e)}return a.Af.ASSET_COMPONENT}function s(e){return!(null==e?void 0:e.isSection)}},58352:(e,t,r)=>{"use strict";r.d(t,{g:()=>O,y:()=>R});var n=r(307824),i=r(120304),a=r(843148),o=r(372152),l=r(105516),s=r(148276),c=r(560072),d=r(849208),u=r(644092),p=r(974636),m=r(90340),_=r(805220),h=r(397888),g=r(287540),f=r(362592),E=r(753268),y=r(101040),b=r(357652),v=r(306640),I=r(244808),w=r(521692),T=r(881467),S=r(195124),C=r(156780);let A="dev_handoff_seen_marketing_overlay",O="dev_handoff_marketing_overlay_anchor_key",N=(0,_.y_)(A);function L(e,t){var r,n;return!!e&&!!(null==(n=null==(r=t.get(e))?void 0:r.childrenGuids)?void 0:n.length)}let R=n.memo(function(){let e=(0,h._o)(),t=(0,i.w1)(e=>e.mirror.sceneGraph),r=(0,i.w1)(e=>e.mirror.appModel.currentPage),u=(0,i.OY)(),_=(0,i.o3)(),y=n.useRef(!0),b=(0,o.m4)(N),R=(0,p.W)({overlay:T.y6E,priority:f.g.DEFAULT_MODAL},[b]),M=(0,n.useCallback)(()=>{R.show({canShow:e=>!e,onShow:()=>{var e;u(d.s({[A]:!0})),(0,m.s5)("Dev Handoff Marketing Popup Shown",null==(e=_.getState().openFile)?void 0:e.key,_.getState())}})},[R,u,_]),k=(0,g.eM)((e,t)=>L(t,e),r);(0,n.useEffect)(()=>{if(!e){let e=L(r,t),n=(0,a.Ub)().scenegraph_hooks_dev_handoff?k:e;y.current&&n&&M(),y.current=!1}},[M,e,r,t,k]);let D=(0,E.u)("modal"),F=(0,n.useCallback)(()=>{R.complete(),D("handoff")},[R,D]),x=(0,n.useCallback)(()=>{var e;R.complete(),(0,m.s5)("Dev Handoff Marketing Popup Dismissed",null==(e=_.getState().openFile)?void 0:e.key,_.getState())},[R,_]);return R.isShowing?n.createElement(v.i,null,n.createElement(w.k,{target:O}),n.createElement(P,{target:O}),n.createElement("div",{className:S.kl},n.createElement("div",{className:S.YX},n.createElement("div",{className:S.kF},n.createElement("p",{className:S.uM},n.createElement(c.Tx,{id:"dev_handoff.onboarding.pointer_modal.title"})),n.createElement(l.CA,{onClick:x,svg:C.c})),n.createElement(I._0,{src:"https://static.figma.com/uploads/f002267b1461462f42a75efcf6b5dd8d77e6ac32"}),n.createElement("div",{className:S.sP},n.createElement("p",{className:S.kr},n.createElement(c.Tx,{id:"dev_handoff.onboarding.pointer_modal.description"})),n.createElement("div",{className:S.sL},n.createElement(s.qK,{onClick:x,recordingKey:"dismissPersistentInspectModal"},n.createElement(c.Tx,{id:"dev_handoff.onboarding.pointer_modal.not_now_button"})),n.createElement(s.EZ,{onClick:F,recordingKey:"switchToInspectModeFromPersistentModal"},n.createElement(c.Tx,{id:"dev_handoff.onboarding.pointer_modal.primary_button"}))))))):null});function P({target:e}){let t=(0,u.Om)(`[data-onboarding-key=${e}]`);if(!t)return null;let r=t.left+t.width/2,i=t.top+t.height;return n.createElement("div",{className:S.ER,style:{left:r-8,top:i+8}},n.createElement(b.g$,{arrowPosition:y.Wp.TOP,arrowOffset:0,modalColor:"var(--color-bg)"}))}},894836:(e,t,r)=>{"use strict";r.d(t,{Nt:()=>o,eE:()=>s,qG:()=>c});var n=r(623131),i=r(752648),a=r(836780);let o=(0,n.Zf)(void 0),l=(0,a.If)(e=>e.universalInsertModal.initialFdView),s=(0,i.Wm)(e=>{let t=e(l),r=e(o);return t||r||"recents_and_saved"}),c=(0,n.Zf)(!1)},682931:(e,t,r)=>{"use strict";r.d(t,{AP:()=>g,ER:()=>h,Ef:()=>v,MX:()=>_,W6:()=>b,Yl:()=>E,gt:()=>I,kT:()=>y});var n=r(307824),i=r(721500),a=r(623131),o=r(372152),l=r(762820),s=r(979144),c=r(763456);let d=(0,i.qe)(c.w3W),u=300+d,p=640+d,m=320+d,_=(0,a.Zf)(!1);function h(e){return Math.max(u,Math.min(p,e||0))}function g(){return h((0,s.s8)())}let f=m;function E(){let e=g(),t=(0,o.m4)(_);return n.useEffect(()=>{t||(f=e)},[t]),t?f:e}function y(){var e;return h(null==(e=l.KEP)?void 0:e.editorPreferences().devHandoffInspectSplitPosition.getCopy())}function b(){(0,s.EB)().devHandoffInspectSplitPosition.set(m)}function v(e){(0,s.EB)().devHandoffInspectSplitPosition.set(e)}function I(){let e=(0,s.s8)();(0,n.useEffect)(()=>{let t=h(e);t!==e&&v(t)},[e])}},419380:(e,t,r)=>{"use strict";r.d(t,{_:()=>s});var n=r(721500),i=r(623131),a=r(763456);let o=(0,n.qe)(a.e0y),l=(0,n.qe)(a.uY4),s=(0,i.Zf)(o+l)},997332:(e,t,r)=>{"use strict";r.d(t,{A:()=>d,c:()=>c});var n=r(307824),i=r(623131),a=r(372152),o=r(234284),l=r(927976);let s=(0,i.Zf)(!1);function c(e){let[t,r]=(0,a.lZ)(s);(0,n.useEffect)(()=>{if((0,o.MZ)())return;let t=setTimeout(()=>{r(!0)},e);return()=>{clearTimeout(t),r(!1)}},[e,r])}function d(){let e=(0,l.K_)(),[t]=(0,a.lZ)(s);return t&&e}},288448:(e,t,r)=>{"use strict";r.d(t,{U9:()=>m,eI:()=>_,kD:()=>g,y2:()=>u});var n=r(307824),i=r(120304),a=r(372152),o=r(849208),l=r(805220),s=r(392992),c=r(927976),d=r(492084);let u=(0,d.w)(e=>{let t=(0,s.w5)({openFile:e.openFile??null});return(null==t?void 0:t.canAccessFullDevMode)??!0}),p=(0,d.w)(e=>{let t=(0,s.w5)({openFile:e.openFile??null});return(null==t?void 0:t.canAccessDevModeEntryPoint)??!0});function m(){return(0,i.w1)(u)}function _(){return(0,i.w1)(p)}let h=(0,l.Ww)("dev_mode_notified_of_approved_org_request");function g(){var e;let t=(0,c.AR)(),r=m(),l=(0,s.AL)(),d=(0,i.w1)(e=>{var t,r;return null==(r=null==(t=e.openFile)?void 0:t.currentPartialOrgUser)?void 0:r.designAccountTypeRequest}),u=(0,i.w1)(e=>{var t,r;return null==(r=null==(t=e.openFile)?void 0:t.currentPartialOrgUser)?void 0:r.devModeAccountTypeRequest}),p=null==(e=(0,a.m4)(h).data)?void 0:e.createdAt,_=(0,i.OY)(),g=!!(null==l?void 0:l.parentOrgId),f=!1;return(null==u?void 0:u.status)==="approved"?f=!0:(null==u?void 0:u.status)==="denied"&&(null==d?void 0:d.status)==="approved"&&(f=!0),(0,n.useEffect)(()=>{g&&r&&t&&f&&!p&&_(o.s({dev_mode_notified_of_approved_org_request:!0}))},[r,_,t,g,f,p]),!!r&&!!g&&!t&&f&&!p}},715436:(e,t,r)=>{"use strict";r.d(t,{S_:()=>h,ek:()=>g,kd:()=>E,wL:()=>f,wh:()=>_});var n=r(307824),i=r(120304),a=r(372152),o=r(223224),l=r(560072),s=r(592164),c=r(849208),d=r(927976),u=r(119224),p=r(154968),m=r(695360);let _="dev_handoff_dismissed_vscode_extension_hint",h="dev_handoff_dismissed_inspect_panel_plugins_hint",g="dev_handoff_seen_config_wizard";function f(){return(0,d.K_)()?null:n.createElement(u.K,{className:m.Qh,idForTests:"hintVSCodeForFigma",userFlag:_,title:(0,l.t)("dev_handoff.vscode.hint.title"),iconComponent:n.createElement("div",{className:m.kf},n.createElement(p.i,null)),hintText:(0,l.t)("dev_handoff.vscode.hint"),hintLinkText:(0,l.t)("dev_handoff.vscode.hint.link"),hintLinkUrl:"https://marketplace.visualstudio.com/items?itemName=figma.figma-vscode-extension",hintLinkOnNewLine:!0})}function E(){let e=(0,d.K_)(),[t,r]=(0,a.lZ)(s.g),p=(0,i.OY)(),_=n.useCallback(()=>{r(s.u.PLUGIN),p(c.s({[h]:!0}))},[r,p]);return e?n.createElement(u.K,{className:m.Qh,idForTests:"hintInspectPlugins",userFlag:h,title:(0,l.t)("dev_handoff.inspect_panel.plugins_hint.title"),hintText:n.createElement(n.Fragment,null,n.createElement("div",{className:m._e},n.createElement("img",{alt:"",className:m.Kk,src:"https://static.figma.com/uploads/aae0db2814117595e45cc509d52e79e7cc31333c"}),n.createElement("div",{className:m.Kk},n.createElement(o.e,null)),n.createElement("img",{alt:"",className:m.Kk,src:"https://static.figma.com/uploads/ae3807b6d650b52da20879078b85a0df23ee056a"})),n.createElement(l.Tx,{id:"dev_handoff.inspect_panel.plugins_hint"})),hintLinkText:(0,l.t)("dev_handoff.inspect_panel.plugins_hint.link"),hintLinkOnClick:_,hintLinkOnNewLine:!0}):null}},709964:(e,t,r)=>{"use strict";r.d(t,{O:()=>c,i:()=>s});var n=r(307824),i=r(673768),a=r(762820),o=r(229372);let l={};function s(){var e;for(let t of Object.getOwnPropertyNames(l)){let r=null==(e=l[t])?void 0:e.url;r&&URL.revokeObjectURL(r),delete l[t]}}function c({assetId:e,thumbnailVersion:t,width:r,height:s,scale:c}){var d;let u=function({assetId:e,width:t,height:r,scale:n}){return`${e}-${t}x${r}@${n}x`}({assetId:e,width:r,height:s,scale:c}),[p,m]=n.useState(null==(d=l[u])?void 0:d.url),_=(0,i.Id)(e);return(n.useEffect(()=>{let n=async()=>{var n;await (0,o.KU)().loadAllImagesUnder([e],a.auT.NON_ANIMATED_ONLY,"handoff.assetPreview");let[i,d]=a.ui7.generateThumbnailForNode(e,r,s,c,{});if(d.length>0){let e=null==(n=null==l?void 0:l[u])?void 0:n.url;e&&URL.revokeObjectURL(e);let r=URL.createObjectURL(new Blob([d]));l[u]={url:r,version:t,error:null},m(r)}},i=!!(null==l?void 0:l[u]),d=i&&l[u].version!==t,p=i&&!!l[u].error;i&&(!d||p)||n().catch(e=>{l[u]={error:e},console.error(e)})},[e,s,c,r,u,t]),p)?{url:p,backgroundStyle:_}:{backgroundStyle:_}}},289620:(e,t,r)=>{"use strict";r.d(t,{Go:()=>v,KK:()=>b,Wo:()=>E,YL:()=>f,cJ:()=>g,iu:()=>y});var n=r(307824),i=r(120304),a=r(560072),o=r(699572),l=r(136140),s=r(869220),c=r(762820),d=r(655068),u=r(397888),p=r(392992),m=r(570012),_=r(884728),h=r(824960);function g({pxWidth:e,pxHeight:t,dataTestId:r}){let{unit:i}=(0,s.Ef)(),a=(0,l.CW)()&&i===c.Ocq.SCALED,o=e=>(e??0).toLocaleString("en",{maximumFractionDigits:2}),d=o(e),u=o(t),p=n.createElement("span",{"data-testid":`${r}Width`},d),m=n.createElement("span",{"data-testid":`${r}Height`},u);return n.createElement(n.Fragment,null,p,"\u2009x\u2009",m,n.createElement("span",{"data-testid":`${r}Unit`},a?" (px)":""))}function f({assetInfo:e,media:t,dataTestId:r,shouldShowTypeLabel:i,hideDot:a}){var o,l,s;let c=(0,h.cN)((null==(o=e.instancesGUIDs)?void 0:o[0])??e.assetId),d=(null==(l=null==c?void 0:c.size)?void 0:l.x)??0,u=(null==(s=null==c?void 0:c.size)?void 0:s.y)??0;if(t&&t.length>0){let e=t[0];d=e.width,u=e.height}return n.createElement(E,{assetType:e.type,pxWidth:d,pxHeight:u,dataTestId:r,hideDot:a,shouldShowTypeLabel:i})}function E({assetType:e,pxWidth:t,pxHeight:r,dataTestId:i,hideDot:o,shouldShowTypeLabel:l}){let s=e&m.Af.ASSET_VIDEO?(0,a.t)("dev_handoff.assets.video"):e&m.Af.ASSET_GIF?(0,a.t)("dev_handoff.assets.gif"):e&m.Af.ASSET_IMAGE?(0,a.t)("dev_handoff.assets.image"):e&m.Af.ASSET_ICON?(0,a.t)("dev_handoff.assets.icon"):e&m.Af.ASSET_COMPONENT?(0,a.t)("dev_handoff.assets.instance"):void 0;return n.createElement("span",null,l&&s,!o&&n.createElement(n.Fragment,null,"\xa0","\xb7 "),n.createElement(g,{pxWidth:t,pxHeight:r,dataTestId:i}))}function y(e){var t;let r=(0,i.w1)(p.AX),a=(0,u.ct)(),[o,l]=n.useState(null);if(o)return o;if(!(e.type&(m.Af.ASSET_GIF|m.Af.ASSET_VIDEO)))return null;let s=a.get(e.assetId);if(!s)return null;let c=null==(t=(0,d.qA)(null==s?void 0:s.fills))?void 0:t.filter(e=>e.opacity>0&&e.visible);if(!c)return null;for(let e of c)if(e.animatedImage||e.video){if(!r)return null;(0,_.Os)({paint:e,fileKey:r}).then(e=>{l(e)});break}return o}function b(e){let t=(0,h.wB)(),r=e??t;return r?(0,o.uw)(r):m.Af.NOT_ASSET}function v(e){return e&(m.Af.ASSET_ICON|m.Af.ASSET_IMAGE|m.Af.ASSET_GIF|m.Af.ASSET_VIDEO)}},673768:(e,t,r)=>{"use strict";r.d(t,{Id:()=>b,S8:()=>y,gZ:()=>v});var n=r(307824),i=r(120304),a=r(51408),o=r(843148),l=r(289620),s=r(824960),c=r(266772),d=r(762820),u=r(907152),p=r(939540),m=r(97007),_=r(896496),h=r(790184),g=r(570012),f=r(15416);let E=e=>e.visible&&!(0,a.WE)(e.color);function y(e){let t=n.useMemo(()=>new u.TSSceneGraph,[]),r=function(e){let t=(0,f.IN)(),r=(0,i.w1)(m.Y5),n=(0,i.w1)(_.Ab);return(0,p.ic)(e,t,r,n)}(e),y=(0,c.qG)(),b=(0,l.KK)(e);return n.useMemo(()=>{var n;let i=(null==(n=null==r?void 0:r.containing_frame)?void 0:n.backgroundColor)??"";(null==r?void 0:r.type)===h.Af.STATE_GROUP&&r.fill_color&&(i=r.fill_color);let l=y&&("light"===y||"dark"===y)?y:"dark",c="light"===l?"dark":"light";if(!e)return i&&!(0,a.WE)(i)?(0,a.q0)(i)?"dark":"light":l;if((0,o.Ub)().dt_component_bg_improvements){let t=d.aWh.getApproximateNodeColor(e);if(t)return(0,a.oL)(t,l)?c:l}if(i&&!(0,a.WE)(i))return(0,a.q0)(i)?"dark":"light";let u=function e(t,r,n){let i=(0,s.mY)(t,r);if(!i)return;let o=[];if(i.visible){if(n){o.push(...i.strokePaints.data);let e=i.fillPaints.data.filter(E);if(e.length)return(0,a.Sc)(e)}else{let e=[...i.fillPaints.data,...i.strokePaints.data].filter(E);if(e.length)return(0,a.Sc)(e)}}for(let r of i.childrenGuids){let i=e(t,r,n);if(i)return i}if(n)return(0,a.Sc)(o)}(t,e,!(b&g.Af.ASSET_ICON));return u&&(0,a.oL)(u,y)?c:l},[b,e,r,t,y])}function b(e){return v(y(e))}function v(e){return"dark"===e?{background:"#383838"}:{background:"#f5f5f5"}}},619712:(e,t,r)=>{"use strict";r.d(t,{AZ:()=>A,CM:()=>N,PU:()=>R,k3:()=>C,mQ:()=>L,qG:()=>O});var n=r(307824),i=r(120304),a=r(814508),o=r(675695),l=r(4596),s=r(560072),c=r(148812),d=r(762820),u=r(540696),p=r(907152),m=r(397888),_=r(392992),h=r(876760),g=r(103064),f=r(256896),E=r(959872),y=r(757056),b=r(611852),v=r(922120),I=r(807200),w=r(824960);let T=h.qO.Query({fetch:async({componentKey:e})=>{try{let t=await g.C.getLibraryComponentV2Destination({componentKey:e});if(!t||!t.data||!t.data.meta)return null;return{nodeId:t.data.meta.node_id,fileKey:t.data.meta.file_key,component:t.data.meta.component,componentSet:t.data.meta.component_set}}catch(e){return null}},enabled:e=>e.enabled}),S=h.qO.Query({fetch:async({statusResult:e})=>{if(!e||!e.componentKey||!e.canvasUrl)return{};let t=e.isVariant?e.dataStateGroupId:e.dataComponentId,r=e.dataStateGroupId??null,n=e.dataStorageKey,i=await c.Uv.getCanvas({canvas_url:e.canvasUrl});if(!i)return{};let a=d.i46.loadDetachedComponent(t??"",n,i,r);return a?{result:{...e,dataLocation:"temp-scene",dataComponentId:a}}:{}},enabled:e=>e.enabled});function C(){let e=(0,w.QH)(),t=(0,i.w1)(_.AX),r=!((null==e?void 0:e.type)==="SYMBOL"||(null==e?void 0:e.type)==="INSTANCE")&&(null==e?void 0:e.detachedInfo)||void 0,s=!!r,c=!!(null==r?void 0:r.componentKey),u=c?{componentKey:(0,o.ae)(r.componentKey),enabled:!0}:{componentKey:(0,o.ae)(""),enabled:!1},[p]=(0,a.UL)(T(u)),m=null==p?void 0:p.data,h=s&&c&&"loaded"===p.status&&m&&m.component,g=(null==m?void 0:m.nodeId)??l.Q9,f=(null==m?void 0:m.fileKey)??"",E=f!==t,y=null==m?void 0:m.component,b=null==m?void 0:m.componentSet,v=(null==y?void 0:y.component_key)??(null==r?void 0:r.componentKey)??"",I=(null==b?void 0:b.key)??v??"",C=!!(null==r?void 0:r.isVariant)||!!(null==m?void 0:m.componentSet),A=E?d.aWh.getGuidByComponentKey(I,v):{nodeId:null==m?void 0:m.nodeId,parentId:b?b.node_id??l.Q9:l.Q9,inDetachedComponentsScene:!1},O=h&&E&&(null==A?void 0:A.nodeId)===l.Q9,N={nodeId:g,fileKey:f,componentKey:v,isVariant:C,isExternal:E,thumbnailUrl:null==y?void 0:y.thumbnail_url,descriptionComponent:(null==y?void 0:y.description_rt)??(null==y?void 0:y.description),descriptionStateGroup:(null==b?void 0:b.description_rt)??(null==b?void 0:b.description),dataLocation:O||(null==A?void 0:A.inDetachedComponentsScene)?"temp-scene":"scene",dataComponentId:O?(null==y?void 0:y.node_id)??"":A.nodeId??"",dataStateGroupId:O?null==b?void 0:b.node_id:A.parentId,dataStorageKey:I,canvasUrl:C?null==b?void 0:b.canvas_url:null==y?void 0:y.canvas_url},L=O&&N&&N.canvasUrl?{statusResult:N,enabled:!0}:{enabled:!1},[R]=(0,a.UL)(S(L));return n.useMemo(()=>s?c?"errors"===p.status||O&&"errors"===R.status?{status:"errors"}:h?{status:O?"downloading":"loaded",result:N}:"loaded"!==p.status||m&&m.component?{status:"loading"}:{status:"disabled"}:{status:"loaded",result:{nodeId:r.symbolId,fileKey:t||"",isVariant:C,dataLocation:"scene",dataComponentId:r.symbolId,dataStorageKey:"",isExternal:!1,componentKey:r.componentKey}}:{status:"disabled"},[s,null==r?void 0:r.symbolId,null==r?void 0:r.componentKey,C,t,c,p.status,O,R.status,m,h])}function A(e,t){if("loaded"!==e.status||!e.result.dataComponentId)return{detachedCompPropsDefs:[],detachedVariantProps:[]};let r=e.result.dataComponentId,n=e.result.dataStateGroupId&&"temp-scene"===e.result.dataLocation?e.result.dataStateGroupId:(0,f.Ud)([r],t)??(0,y.oz)(t,[r]),i=e.result.dataComponentId?d.i46.getComponentPropsForDetachedComponent(e.result.dataStorageKey,e.result.componentKey??"",e.result.dataComponentId):void 0;if(!i)return{detachedCompPropsDefs:[],detachedVariantProps:[]};let a=(0,f.CU)(r,i);return n?{detachedCompPropsDefs:[...(0,b.ec)(n,i),...a],detachedVariantProps:function(e,t,r){var n;if(!r)return[];let i=null==(n=r[t])?void 0:n.stateGroupVariantProps;if(!i)return[];let a=(0,E.c)(r,[e],i.propertySortOrder);return(i.propertySortOrder||[]).map(e=>{let t=a[e]||I.y;return(0,u.Er)(t)?[e,(0,s.t)("inspect_panel.property.mixed")]:[e,t]})}(r,n,i)}:{detachedCompPropsDefs:a,detachedVariantProps:[]}}function O(e,t){let r=C(),n=(0,m.ct)();if("loaded"===r.status){let e="temp-scene"===r.result.dataLocation,t=r.result.dataComponentId??"",i=e?r.result.dataStateGroupId:(0,f.Ud)([t],n)??(0,y.oz)(n,[t]),a=e?N(t):n.get(t);return r.result.isVariant&&i?{backingSymbol:a,backingStateGroup:e?N(i):n.get(i)}:{backingSymbol:a,backingStateGroup:null}}return{backingSymbol:e,backingStateGroup:t}}function N(e){return new p.TSSceneGraph(p._w.DETACHED).get(e)}function L(e,t){let r=C();return{backingSymbolDescription:("loaded"===r.status&&r.result.isExternal&&r.result.descriptionComponent?r.result.descriptionComponent:void 0)??e,parentDescription:("loaded"===r.status&&r.result.isExternal&&r.result.descriptionStateGroup?r.result.descriptionStateGroup:void 0)??t}}function R(){let e=(0,m.ct)(),t=C(),[r,n]=(0,v.GY)();if("loaded"===t.status){let r=t.result.dataComponentId,n=t.result.dataStateGroupId;return"temp-scene"===t.result.dataLocation?[N(r),n?N(n):null]:[e.get(r),n?e.get(n):null]}return[r,n]}},24884:(e,t,r)=>{"use strict";function n(e){return null!=e}r.d(t,{t:()=>n})},824960:(e,t,r)=>{"use strict";r.d(t,{En:()=>a,QH:()=>s,_k:()=>l,cC:()=>c,cN:()=>d,mY:()=>u,wB:()=>o});var n=r(120304),i=r(15416);function a(e){let t=Object.keys(e);return 1!==t.length?null:t[0]||null}function o(){return(0,n.w1)(e=>a(e.mirror.sceneGraphSelection))}function l(){return(0,n.w1)(e=>Object.keys(e.mirror.sceneGraphSelection))}function s(){let e=o();return u((0,i.IN)(),e)}function c(){return(0,n.w1)(e=>{let t=Object.keys(e.mirror.sceneGraphSelection);return t.length>1?t:null})}function d(e){return u((0,i.IN)(),e)}function u(e,t){return t?e.get(t):null}},241932:(e,t,r)=>{"use strict";r.d(t,{O2:()=>c,So:()=>p,oD:()=>u,u2:()=>d});var n=r(120304);r(762820);var i=r(397888);r(392992),r(939540),r(896496);var a=r(491776),o=r(15416),l=r(619712),s=r(824960);function c(){let e=(0,o.IN)(),t=(0,l.k3)(),r=(0,n.w1)(e=>e.mirror.selectionProperties.symbolGUIDsBackingSelectionContainer),i=(0,n.w1)(e=>e.mirror.selectionProperties.numSelected);if("loaded"===t.status&&t.result.dataComponentId)return"temp-scene"===t.result.dataLocation&&t.result.componentKey?(0,l.CM)(t.result.dataComponentId):(0,s.mY)(e,t.result.dataComponentId);if(1!==i||!r)return null;let a=Object.keys(r)[0];return(0,s.mY)(e,a)}function d(){let e=(0,o.IN)(),t=(0,l.k3)();return function e(t,r,n){let i=(0,s.mY)(t,r);return i?"SYMBOL"===i.type||"INSTANCE"===i.type||i.isStateGroup||i.detachedInfo?i:i.parentGuid?e(t,i.parentGuid):null:null}(e,(0,n.w1)(a.kL),t)}function u(){let e=(0,s.QH)(),t=(0,n.w1)(e=>e.mirror.appModel.currentPage),r=(0,i.ct)();return(null==e?void 0:e.guid)?r.developerFriendlyIdFromGuid(null==e?void 0:e.guid):t}function p(){let e=(0,s.QH)(),t=(0,l.k3)(),r=t&&("loaded"===t.status||"loading"===t.status||"downloading"===t.status);return(null==e?void 0:e.type)==="SYMBOL"||(null==e?void 0:e.type)==="INSTANCE"||(null==e?void 0:e.isStateGroup)||r}},821920:(e,t,r)=>{"use strict";r.d(t,{QP:()=>b,U1:()=>v,yu:()=>y});var n=r(307824),i=r(602216),a=r(120304),o=r(560072),l=r(295752),s=r(326020),c=r(89080),d=r(649228),u=r(403132),p=r(833492),m=r(572748),_=r(142548),h=r(517164),g=r(108688),f=r(235020),E=r(417060);function y({codeLanguage:e,onChange:t,shouldHideLanguagesWithNoAltUnitSupport:r,onlyShowFirstPartyLanguages:n,showAddInsteadOfBrowse:i,addCodegenPluginCallback:o,currentSavedCodeLanguage:s}){let d=(0,l.OC)(e),u=(0,l.U4)(d),p=(0,m.Ce)(),_=(0,a.w1)(e=>e.whitelistedPlugins),h=d&&(null==p?void 0:p.plugins_whitelist_enforced)&&!_[null==d?void 0:d.plugin_id]?{type:"first-party",id:"WEB"}:e,g=(0,c.k)({codeLanguage:h,onChange:t,shouldHideLanguagesWithNoAltUnitSupport:r,onlyShowFirstPartyLanguages:n,formatter:u,showAddInsteadOfBrowse:i,addCodegenPluginCallback:o,currentSavedCodeLanguage:s});return{codeLanguage:h,onCodeLanguageChange:t,codeLanguageOptions:g,activeCodegenPlugin:d,formatter:u}}function b({onlyShowFirstPartyLanguages:e,shouldHideLanguagesWithNoAltUnitSupport:t,dropdownId:r,onDropdownHidden:i,disabled:a}){let o=y({onlyShowFirstPartyLanguages:e,codeLanguage:(0,l.oJ)(),onChange:(0,s.ig)(),shouldHideLanguagesWithNoAltUnitSupport:t});return n.createElement(v,{dropdownId:r,onDropdownHidden:i,disabled:a,codeLanguageApi:o})}function v({dropdownId:e,disabled:t,codeLanguageApi:r,onDropdownHidden:l,parentElementId:s}){let{codeLanguage:c,activeCodegenPlugin:m,formatter:y,codeLanguageOptions:b}=r,v=m&&"first-party"!==c.type?n.createElement(h.K,{plugin:m}):null,I=(0,a.OY)();n.useEffect(()=>I(d.Qb()),[I]);let w=(0,p.g)(),T=n.useRef(null),S=(null==w?void 0:w.type)===e;return n.createElement("div",{className:E._w,"data-tooltip":(0,o.t)("dev_handoff.code.language"),"data-tooltip-type":_.wL.TEXT,"data-tooltip-show-above":!0},n.createElement("div",{className:E.Av},n.createElement(f._8,{formatter:y,property:c,icon:v,onClick:()=>{S?I(u.yi()):I(u.Qn({type:e}))},inputClassName:E.$L,ref:T,dataTestId:"code_language_dropdown",isDisabled:t})),S&&!t&&T.current&&(0,i.createPortal)(n.createElement("div",{className:E._w},n.createElement(g.I,{items:b,onSelectItem:e=>{e.callback&&e.callback("",null,I)},dispatch:I,parentRect:T.current.getBoundingClientRect(),showPoint:!1,lean:"right",leanPadding:8,alwaysShowCheckMarkOffset:!0,onDropdownHidden:l,activatePathOnMount:"local-plugin"!==c.type?[y.format(c)]:[b[0].displayText]})),document.getElementById(s||"dev-handoff-inspect-panel")))}},511308:(e,t,r)=>{"use strict";r.d(t,{IR:()=>g,Uj:()=>p,Y7:()=>E,_I:()=>_,gT:()=>c,kl:()=>m,mK:()=>u,mM:()=>f,qu:()=>h});var n=r(161400),i=r(295752),a=r(762820),o=r(138884),l=r(224100),s=r(886684);let c=[a.Ocq.PIXEL,a.Ocq.SCALED],d=[i.Sc];function u(e){return(0,l.E7)(e)?`${e.localFileId}`:`${e.plugin_id}`}function p(e,t){let r=(0,l.E7)(e)?"local-plugin":"published-plugin",i=u(e);if(t)return{type:r,id:i,pluginLanguage:t.value};let a=n.x.getState().mirror.appModel.devHandoffCodeLanguage,o=(0,s.S)(e).map(({value:e})=>e);return a.id===i&&"first-party"!==a.type&&o.includes(a.pluginLanguage)?a:{type:r,id:i,pluginLanguage:o[0]??""}}function m(e,t){var r;return e?((null==(r=e.manifest)?void 0:r.codegenPreferences)??[]).filter(e=>{var r;return!(null==t?void 0:t.value)||!("includedLanguages"in e)||(null==(r=e.includedLanguages)?void 0:r.includes(t.value))}):[]}function _(e,t){return m(e,t).find(l.Lt)??null}function h(e,t){if(!e)return!1;if("first-party"===e.type)return!d.includes(e.id);if(!t)return!1;let r=(0,s.U)(t,e.pluginLanguage);return!!_(t,r)}function g(e,t,r){var n;let i={...e,codeExtensionPreferences:{...e.codeExtensionPreferences,[t.id]:{...(null==(n=e.codeExtensionPreferences)?void 0:n[t.id])||{},...r}}};o.B9(i)}function f(e,t){var r;let i=u(e),o=n.x.getState().mirror.appModel.devHandoffPreferences.codeExtensionPreferences[i]??{},s={},c=_(e,t),d=!1,p=!1;"unit"in o&&"scaleFactor"in o||(s.unit=(null==c?void 0:c.default)?a.Ocq.SCALED:a.Ocq.PIXEL,s.scaleFactor=(null==c?void 0:c.defaultScaleFactor)?c.defaultScaleFactor:1,d=!0,p=!0),t||c||o.unit!==a.Ocq.SCALED||(s.unit=a.Ocq.PIXEL,s.scaleFactor=1,d=!0,p=!0),d||!t||o.unit!==a.Ocq.SCALED||c||(s.unit=c?a.Ocq.SCALED:a.Ocq.PIXEL,d=!0);let h=!1,g=m(e,t).filter(l.kB),f=o.customSettings??{},E={};for(let e of g){let t=f[e.propertyName];if(t&&e.options.some(e=>e.value===t)){E[e.propertyName]=t;continue}E[e.propertyName]=(null==(r=e.options.find(e=>e.isDefault))?void 0:r.value)??e.options[0].value,h=!0}(h||Object.keys(f).length!==Object.keys(E).length)&&(s.customSettings=E);let y={...o,...s};return{shouldUpdateCustomSettings:!!s.customSettings,shouldUpdateScaleFactor:p,shouldUpdateAltUnit:d,preferences:{...y,scaleFactor:y.unit===a.Ocq.PIXEL?1:y.scaleFactor}}}function E(e,t){let r=null,{shouldUpdateCustomSettings:i,shouldUpdateAltUnit:a,shouldUpdateScaleFactor:o,preferences:l}=f(e,null);t&&({shouldUpdateAltUnit:a,preferences:r}=f(e,t),a&&(l.unit=r.unit));let s={};return i&&(s.customSettings=l.customSettings),o&&(s.scaleFactor=l.scaleFactor),a&&(s.unit=l.unit),Object.keys(s).length>0&&g(n.x.getState().mirror.appModel.devHandoffPreferences,p(e),s),r??l}},136140:(e,t,r)=>{"use strict";r.d(t,{CW:()=>c,iR:()=>l,mw:()=>o,sB:()=>s,uu:()=>d});var n=r(372152),i=r(560072),a=r(402980);let o=(0,n.Ce)("dev-mode-code-or-properties","code"),l=new class{format(e){switch(e){case"code":return(0,i.t)("inspect_panel.code.code");case"properties":return(0,i.t)("fullscreen.properties_panel.properties")}}};function s(){return(0,n.lZ)(o)}function c(){return"code"===(0,n.m4)(o)}function d(){return(0,a.vu)()?["code","properties"]:["properties"]}},912560:(e,t,r)=>{"use strict";r.d(t,{QR:()=>T,k7:()=>S,wx:()=>w});var n=r(307824),i=r(120304),a=r(644032),o=r(240228),l=r(560072),s=r(755696),c=r(295752),d=r(821920),u=r(869220),p=r(323576),m=r(23604),_=r(833492),h=r(203736),g=r(385228),f=r(235020),E=r(23024),y=r(533840);let b=new m.YF({min:.1}),v=[3,2,1,.5,1/3],I=new class{parse(e){return"1/3"===e?3:"1/2"===e?2:"2"===e||"3"===e?1/Number.parseInt(e):1}format(e=1){return"0.3"===e.toFixed(1)?"3":"0.5"===e.toFixed(1)?"2":2===e||3===e?`1/${e}`:(0,l.t)("dev_handoff.alternative_units.no_scale")}};function w({scaleFactor:e,onChange:t,onDropdownHidden:r,className:a,inputClassName:o}){let l=(0,i.OY)(),s=(0,_.g)();return n.createElement(f.M1,{dispatch:l,property:e,id:"SCALE_FACTOR",onChange:t,formatter:I,dropdownShown:s,className:a,inputClassName:o,dropdownWidth:"auto",autoFocus:!0,onDropdownHidden:r},v.map(t=>n.createElement(f.cb,{key:t,value:t,selected:t===e,fullWidth:!0})))}function T({codeLanguage:e}){let t=(0,u.AJ)(e);switch(e.id){case c.nd:case c.I1:return n.createElement(l.Tx,{id:"dev_handoff.alternative_units.description_scale_factor_ios"});case c.Lb:case c.Ax:return n.createElement(l.Tx,{id:"dev_handoff.alternative_units.description_scale_factor_android"});case c.Ml:return n.createElement(l.Tx,{id:"dev_handoff.alternative_units.description_scale_factor_web"})}return n.createElement(l.Tx,{id:"dev_handoff.alternative_units.description_scale_factor_third_party",unitName:t})}let S=(0,h.U9)(function(){var e;let t=(0,c.oJ)(),[r,m]=n.useState(t),_=(0,u.Wk)(r),h=(0,u.Ef)(r.id),f=(0,u.ee)(),v=n.useRef(null),I=(0,i.OY)(),S=n.useCallback(e=>{e&&f(r,_,{scaleFactor:e})},[r,f,_]),C="first-party"===r.type&&(r.id===c.Lb||r.id===c.Ax||r.id===c.nd||r.id===c.I1),A="first-party"===r.type&&(r.id===c.Ml||r.id===c.iC),O=(0,a.c)(()=>{var e;A&&f(r,_,{customSettings:{onlyText:"true"===((null==(e=h.customSettings)?void 0:e.onlyText)||"false")?"false":"true"}})},250),N=n.useCallback(()=>{var e;null==(e=v.current)||e.focus()},[]),L=(null==h?void 0:h.scaleFactor)??1,R=(0,d.yu)({onChange:m,codeLanguage:r,shouldHideLanguagesWithNoAltUnitSupport:!0});return n.createElement(E.Cc,{title:(0,l.t)("dev_handoff.alternative_units.unit_settings_modal_title"),headerSize:"small",headerClassName:y.je,onClose:()=>I((0,p._g)()),closeOnEsc:!0,closeOnEnter:!0,customButton:n.createElement(d.U1,{dropdownId:"DEV_HANDOFF_MODAL_CODE_LANGUAGE_DROPDOWN",onDropdownHidden:N,codeLanguageApi:R}),minWidth:340,maxWidth:340},n.createElement(o.a,null,n.createElement("div",{className:y.YX,tabIndex:-1,ref:v,"data-testid":"scale-factor-modal-content"},C?n.createElement("div",{className:y._o},n.createElement(w,{scaleFactor:L,onChange:S,onDropdownHidden:N,className:y.Ul}),n.createElement("div",{className:y.GD})):n.createElement("div",{className:y.GV},n.createElement(g.WC,{className:y.w5,property:L,formatter:b,onChange:S,onBlur:N,autoFocus:!0})),n.createElement("div",{className:y.I0},n.createElement(T,{codeLanguage:r})),A&&n.createElement(s.y,{checked:(null==(e=h.customSettings)?void 0:e.onlyText)==="true",label:n.createElement(l.Tx,{id:"dev_handoff.alternative_units.only_apply_rem_on_text",rem:n.createElement("span",{className:y.EF},n.createElement(l.Tx,{id:"dev_handoff.alternative_units.rem_unit"}))}),onChange:O}))))},"SCALE_FACTOR_MODAL")},869220:(e,t,r)=>{"use strict";r.d(t,{AJ:()=>L,AT:()=>F,EX:()=>R,Ef:()=>y,IB:()=>P,IJ:()=>D,Os:()=>k,Wk:()=>A,YQ:()=>w,ee:()=>v,eu:()=>x,iC:()=>C,kH:()=>b,ke:()=>S,mM:()=>M,mW:()=>I,wF:()=>O});var n=r(307824),i=r(120304),a=r(889292),o=r.n(a),l=r(161400),s=r(937620),c=r(560072),d=r(295752),u=r(511308),p=r(894764),m=r(762820),_=r(299988),h=r(971032),g=r(224100),f=r(886684);let E={scaledWeb:"rem",scaledIOS:"pt",scaledAndroid:"dp",pixel:"px"};function y(e){let t=(0,d.oJ)().id,r=(0,i.w1)(e=>e.mirror.appModel.devHandoffPreferences),a=e??t;return(0,n.useMemo)(()=>{var e;return(null==(e=r.codeExtensionPreferences)?void 0:e[a])??{}},[r,a])}function b(){var e,t,r,n,i;let a=null==(t=null==(e=l.x.getState())?void 0:e.mirror)?void 0:t.appModel,o=(null==(r=null==a?void 0:a.devHandoffCodeLanguage)?void 0:r.id)??"";return(null==(i=null==(n=null==a?void 0:a.devHandoffPreferences)?void 0:n.codeExtensionPreferences)?void 0:i[o])??{}}function v(){let e=(0,i.w1)(e=>e.mirror.appModel.devHandoffPreferences),t=(0,s.qM)();return(0,n.useCallback)((r,n,i)=>{let{customSettings:a,...l}=i;o()(l)||(void 0!==l.unit&&(l.unit=l.unit===m.Ocq.PIXEL?E.pixel:N(r,n)),t("Dev Mode Preference Changed",{languageType:r.type,languageId:r.id,...l})),(0,u.IR)(e,r,i)},[e,t])}function I(e){var t;let r=(0,d.oJ)(),n=e??r,i=(null==(t=y(n.id))?void 0:t.unit)??m.Ocq.PIXEL;return"first-party"===n.type&&n.id===d.Sc?m.Ocq.PIXEL:i}function w(e){let t=(0,d.oJ)(),r=e??t,{unit:n=m.Ocq.PIXEL,scaleFactor:i=1}=y(r.id);return"first-party"===r.type&&r.id===d.Sc?1:n===m.Ocq.SCALED?i:1}let T=({codeLanguage:e,preferences:t,options:r={}})=>{var n;return!!_.kr.shouldAvoidScaling()||"first-party"===e.type&&(e.id===d.Ml||e.id===d.iC)&&(null==(n=t.customSettings)?void 0:n.onlyText)==="true"&&!(null==r?void 0:r.isTextProperty)};function S(e,t,r=e=>e,n){let i=(0,d.oJ)(),a=e??i,o=w(a),l=y(a.id);return void 0===t?void 0:r(1===o||0===o||T({codeLanguage:a,preferences:l,options:n})?t:t/o)}function C(e,t,r,n){let i=(0,d.oJ)(),a=e??i,o=S(a,t,r,n),l=k(a),s=y(a.id);return void 0===o?void 0:T({codeLanguage:a,preferences:s,options:n})?`${o}${E.pixel}`:`${o}${l}`}function A(e){let{id:t,type:r}=e;return(0,p.k7)(t,{searchLocalPlugins:"local-plugin"===r,searchSavedPlugins:"published-plugin"===r,searchPublishedPlugins:"published-plugin"===r,searchRecentPlugins:"published-plugin"===r})}function O(e){let t=(0,d.oJ)(),r=A(e??t);return(0,u.qu)(e??t,r)}function N(e,t){let{id:r,type:n,pluginLanguage:i}=e;if("first-party"!==n&&t){let e=(0,f.U)(t,i),r=(0,u._I)(t,e);if(r)return r.scaledUnit}switch(r){case d.Ml:return E.scaledWeb;case d.nd:case d.I1:return E.scaledIOS;case d.Lb:case d.Ax:return E.scaledAndroid;default:return E.scaledWeb}}function L(e){let t=A(e);return N(e,t)}function R(e){switch(e){case d.Ml:return(0,c.t)("dev_handoff.alternative_units.rem_unit");case d.Lb:case d.Ax:return(0,c.t)("dev_handoff.alternative_units.dp_unit");case d.nd:case d.I1:return(0,c.t)("dev_handoff.alternative_units.pt_unit");default:return(0,c.t)("dev_handoff.alternative_units.rem_unit")}}function P(e){let t=(0,d.oJ)();return M(e??t)}function M(e){let t=L(e);return"first-party"===e.type?R(e.id):t}function k(e){let t=(0,d.oJ)(),r=e??t,n=I(r),i=L(r);return n===m.Ocq.PIXEL?E.pixel:i}function D({localCodeLanguage:e,includeActions:t=!0,includeSelectSettings:r=!0}={}){let i=(0,d.oJ)(),a=e??i,o=(0,d.OC)(a),l=y(a.id),s=v();return n.useMemo(()=>F({includeActions:t,includeSelectSettings:r,codeLanguage:a,plugin:o,codeExtensionPreferences:l,onChangePreferences:s}),[t,r,a,o,l,s])}function F({includeActions:e=!1,includeSelectSettings:t=!0,codeLanguage:r,plugin:n,codeExtensionPreferences:i,onChangePreferences:a}){let o=[];if(!n||"first-party"===r.type||(0,u.mK)(n)!==r.id)return o;for(let l of(0,u.kl)(n,(0,f.U)(n,r.pluginLanguage)))e&&(0,g.kz)(l)&&o.push({name:l.propertyName,displayText:(null==l?void 0:l.label)||l.propertyName,callback:()=>h.qW.codegenPreferencesChange({propertyName:l.propertyName}),recordingKey:l.propertyName}),t&&(0,g.kB)(l)&&o.push({name:l.propertyName,recordingKey:l.propertyName,displayText:(null==l?void 0:l.label)??l.propertyName,children:l.options.map((e,t)=>{var o,s;return{name:e.value,displayText:e.label,isChecked:(null==(o=null==i?void 0:i.customSettings)?void 0:o[l.propertyName])?(null==(s=null==i?void 0:i.customSettings)?void 0:s[l.propertyName])===e.value:0===t,callback:()=>a(r,n,{customSettings:{...null==i?void 0:i.customSettings,[l.propertyName]:e.value}}),recordingKey:e.value}})});return o}function x(){let e=(0,d.oJ)(),t=(0,d.ef)();n.useEffect(()=>{if(!t)return;let r=e.pluginLanguage;r&&(0,u.Y7)(t,(0,f.U)(t,r))},[e,t])}},637016:(e,t,r)=>{"use strict";r.d(t,{o:()=>c});var n=r(295752),i=r(326020),a=r(821920),o=r(136140),l=r(869220),s=r(354532);function c(){let[e,t]=(0,o.sB)(),r=(0,l.wF)(),c=(0,s.u)(),d=(0,l.Ef)(),u=(0,n.oJ)(),p=(0,i.ig)(),m=(0,a.yu)({codeLanguage:u,onChange:p}),_=(0,o.uu)();return{inspectionMode:_.find(t=>t===e)||_[0],setInspectionMode:t,supportsAlternativeUnits:r,preferenceOptions:c,preferences:d,codeLanguageApi:m,inspectionModes:_}}},354532:(e,t,r)=>{"use strict";r.d(t,{u:()=>_});var n=r(307824),i=r(120304),a=r(843148),o=r(560072),l=r(295752),s=r(511308),c=r(912560),d=r(869220),u=r(323576),p=r(762820),m=r(599420);function _(e){let t=(0,d.IJ)(),r=function(e){let t=(0,l.oJ)(),r=e??t,a=(0,l.OC)(r),m=(0,d.IB)(r),_=(0,d.wF)(r),h=(0,d.Ef)(r.id),g=(0,d.ee)(),f=(0,i.OY)();return n.useMemo(()=>{let e=[];if(!_)return e;let t=(null==h?void 0:h.unit)||p.Ocq.PIXEL;return e.push({displayText:(0,o.t)("dev_handoff.alternative_units.dimension_unit"),header:!0},...s.gT.map(e=>{let n=e===p.Ocq.PIXEL?(0,o.t)("dev_handoff.alternative_units.pixel_unit"):m;return{name:e.toString(),displayText:n,isChecked:t===e,callback:()=>g(r,a,{unit:e}),recordingKey:e===p.Ocq.PIXEL?"pixel":"scaled"}}),{displayText:(0,o.t)("dev_handoff.alternative_units.unit_settings_menu_option"),callback:()=>f((0,u.A5)({type:c.k7})),recordingKey:"setScaleFactor"}),e},[_,null==h?void 0:h.unit,m,g,r,a,f])}(e),{updateDefaultCodegenSettings:_,isSetToDefault:h}=(0,m.M)();return n.useMemo(()=>{let e=[];return r.length>0&&e.push(...r),t.length>0&&e.length>0&&e.push({displayText:"",separator:!0}),e.push(...t),(0,a.Ub)().dev_mode_default_codegen&&(e.length>0&&e.push({separator:!0,displayText:""}),e.push({displayText:(0,o.t)("dev_handoff.code.settings.set_as_default"),callback:()=>{_()},isChecked:h})),e},[t,h,r,_])}},704892:(e,t,r)=>{"use strict";r.d(t,{E7:()=>w,G_:()=>N,Gg:()=>O,Ir:()=>P,Mv:()=>L,QZ:()=>A,cx:()=>S,gl:()=>v,kr:()=>R,vL:()=>M,wF:()=>T,wP:()=>C});var n=r(341424),i=r(161400),a=r(61836),o=r(326660),l=r(936756),s=r(58908),c=r(418084),d=r(557044),u=r(698580),p=r(4596),m=r(90340),_=r(939540),h=r(472956),g=r(650180),f=r(219188),E=r(256896);let y=u.object({id:u.string(),node_id:u.string(),file_key:u.string(),link_name:u.string(),link_url:u.string(),is_user_override:u.boolean(),link_preview_json:u.any()}),b=u.object({meta:u.array(y)});async function v({fileKey:e,nodeId:t,includeInheritedLinks:r}){let n=(await g.i.getRelatedLinks({nodeId:t,fileKey:e})).data,a=b.safeParse(n);if(!a.success)throw Error("Invalid response from server");let o=a.data.meta.map(e=>({id:e.id,nodeId:e.node_id,linkName:e.link_name,linkUrl:e.link_url,fileKey:e.file_key,isUserOverride:!!e.is_user_override,linkPreviewJson:e.link_preview_json}));if(!r)return o;let l=i.x.getState().mirror.sceneGraph,s=(0,E.xy)([t],l),c=(0,E.Ud)([t],l),d=await I(e,s),u=await I(e,c);return[...o,...d.map(e=>({...e,nodeId:t,mainComponentId:s})),...u.map(e=>({...e,nodeId:t,mainComponentId:c}))]}async function I(e,t){let r=i.x.getState().mirror.sceneGraph;if(!t)return[];let n=r.get(t);if(!n)return[];let{publishID:a}=n,o=p.U3(p.K0(a));return await v({fileKey:(0,_.YH)(n)??e,nodeId:o?a??"":t,includeInheritedLinks:!1})}async function w(e){var t;let r=new Set([e]),n=new Map,a=new Map,o=i.x.getState().mirror.sceneGraph,l=(t,i)=>{if(!i)return;let l=o.get(i);if(!l)return;let{publishID:s,guid:c}=l,d=(0,_.YH)(l);if(!d||!s||!p.U3(p.K0(s))||d===e){n.set(c,t),a.set(c,i);return}n.set(s,t),a.set(s,i),r.add(d)},s=null==(t=o.get("0:0"))?void 0:t.findAllWithCriteria({types:["INSTANCE"]}).map(([e])=>e);s&&s.length>0&&s.forEach(e=>{let t=o.get(e);if(!t||"INSTANCE"!==t.type)return;l(e,t.symbolId);let r=(0,E.Ud)([e],o);l(e,r)});let c=await d.cp.post("/api/files/related_links",{file_keys:Array.from(r.values())}),u=[];return c.data.meta.forEach(t=>{let r=e===t.file_key&&!!o.get(o.guidFromDeveloperFriendlyId(t.node_id)),i={id:t.id,linkName:t.link_name,linkUrl:t.link_url,fileKey:t.file_key,isUserOverride:!!t.is_user_override,linkPreviewJson:t.link_preview_json};r&&u.push({...i,nodeId:t.node_id,mainComponentId:void 0}),n.has(t.node_id)&&u.push({...i,nodeId:n.get(t.node_id),mainComponentId:a.get(t.node_id)})}),u}async function T({fileKey:e,nodeId:t,url:r,name:n,nodeType:i,pluginId:a,source:o}){if((await v({fileKey:e??"",nodeId:t??""})).find(e=>e.linkUrl===r))throw Error(`Link already exists on node ${t} with url ${r}`);return A({fileKey:e,nodeId:t,url:r,name:n,nodeType:i,pluginId:a,source:o})}async function S(e){var t;let r;try{let n=await f.U.getLinkMetadata({text:e}),i=null==(t=null==n?void 0:n.data)?void 0:t.meta;(null==i?void 0:i.title)&&(r=decodeURIComponent(null==i?void 0:i.title))}catch(e){}finally{if(!r){let t=(0,n.aM)(e);r=t?(0,l.k0)(t):"N/A"}}return r}u.object({node_id:u.string(),link_name:u.string(),link_url:u.string()});let C=u.object({meta:y});async function A({url:e,nodeId:t,fileKey:r,name:o,onPost:l,nodeType:s,pluginId:u,source:p}){var _;let g="";if(o)g=o;else{let t=(0,n.o$)(e);if((null==t?void 0:t.toLowerCase())==="github.com")g="Github";else if((null==t?void 0:t.toLowerCase())==="jira.com"||(null==t?void 0:t.toLowerCase())==="atlassian.net"){g="Jira";let t=function(e){for(let t of D){let r=e.match(t);if(null==r?void 0:r[1])return r[1]}return null}(e);t&&(g=`Issue ${t}`)}else g=await S(e)}let f={node_id:t??"",link_name:g,link_url:e},E=d.cp.post(`/api/files/${r}/related_links`,f);return l&&l(),null==(_=(0,a.w3)())||_.deprecatedOptimisticallyCreateByView(h.CS1,{DeveloperRelatedLink:{[`optimistic-link-${(0,c.c)()}`]:{nodeId:t??"",fileKey:r??"",linkName:g,linkUrl:e,isUserOverride:!1,linkPreviewJson:null}}},E),E.then(e=>((0,m.s5)("Dev Handoff Related Links Added New Link Success",r,i.x.getState(),{nodeId:t,nodeType:s,source:p,pluginId:u}),e))}async function O({fileKey:e,nodeId:t,currentUrl:r,newValue:n,nodeType:i,pluginId:a,source:o}){let l=(await v({fileKey:e,nodeId:t})).find(e=>e.linkUrl===r);return l||k({nodeId:t,url:r}),N({fileKey:e,nodeId:t,linkId:l.id,name:n.name||l.linkName,url:n.url||l.linkUrl,isUserOverride:!1,clearLinkPreview:!0,nodeType:i,pluginId:a,source:o})}function N({fileKey:e,nodeId:t,linkId:r,name:n,url:o,isUserOverride:l,clearLinkPreview:s,nodeType:c,pluginId:u,source:p}){var _;let g={node_id:t,link_id:r,new_link_name:n,new_link_url:o};void 0!==l&&(g.is_user_override=l),s&&(g.link_preview_json=null);let f=d.cp.put(`/api/files/${e}/related_links`,g);return null==(_=(0,a.w3)())||_.deprecatedOptimisticallyUpdateByView(h.CS1,{DeveloperRelatedLink:{[r]:{linkName:n,linkUrl:o,isUserOverride:l,linkPreviewJson:s?"":void 0}}},f),f.then(r=>((0,m.s5)("Dev Handoff Related Links Edit Link Success",e,i.x.getState(),{nodeId:t,nodeType:c,source:p,pluginId:u}),r))}async function L({fileKey:e,nodeId:t,url:r,nodeType:n,pluginId:i,source:a}){let o=(await v({fileKey:e,nodeId:t})).find(e=>e.linkUrl===r);return o||k({nodeId:t,url:r}),R({fileKey:e,nodeId:t,linkId:o.id,nodeType:n,pluginId:i,source:a})}function R({fileKey:e,nodeId:t,linkId:r,nodeType:n,pluginId:o,source:l}){var s;let c=d.cp.del(`/api/files/${e}/related_links`,{node_id:t,link_id:r});return null==(s=(0,a.w3)())||s.deprecatedOptimisticallyDeleteByView(h.CS1,{DeveloperRelatedLink:{[r]:null}},c),c.then(r=>((0,m.s5)("Dev Handoff Related Links Delete Link Success",e,i.x.getState(),{nodeId:t,nodeType:n,source:l,pluginId:o}),r))}async function P({fileKey:e,nodeId:t,url:r,linkPreviewJson:n}){let i=(await v({fileKey:e,nodeId:t})).find(e=>e.linkUrl===r);return i||k({nodeId:t,url:r}),M({link:i,linkPreviewJson:n})}async function M({link:e,linkPreviewJson:t}){var r;try{let n=d.cp.put(`/api/files/${e.fileKey}/related_links/link_preview`,{node_id:e.nodeId,link_id:e.id,link_preview_json:t});null==(r=(0,a.w3)())||r.deprecatedOptimisticallyUpdateByView(h.CS1,{DeveloperRelatedLink:{[e.id]:{linkPreviewJson:JSON.stringify(t)}}},n),await n}catch(r){(0,o.oP)(s._.DEVELOPER_TOOLS,r,{extra:{link:e,linkPreviewJson:t}})}}function k({nodeId:e,url:t}){throw Error(`url ${t} and nodeId ${e} not found`)}let D=[/\/browse\/([A-Z]+-\d+)/,/selectedIssue=([A-Z]+-\d+)/,/issues\/([A-Z]+-\d+)/]},190036:(e,t,r)=>{"use strict";r.d(t,{I1:()=>E,IV:()=>b,a_:()=>v,ay:()=>f,uE:()=>g});var n=r(307824),i=r(120304),a=r(560072),o=r(619712),l=r(241932),s=r(59608),c=r(467412),d=r(507076),u=r(397888),p=r(708168),m=r(939540),_=r(876760),h=r(15416);function g(e){var t;if(e)return null==(t=null==e?void 0:e.name)?void 0:t.trim()}function f(e,t,r=null){if(!(null==e?void 0:e.isAlive()))return null;let i=e.type;if((0,c.QP)(e)&&(i="STAMP"),(null==r?void 0:r.status)==="loaded"&&"SYMBOL"!==i&&"INSTANCE"!==i)return n.createElement(a.Tx,{id:"inspect_panel.node_type.detached_component"});if("BOOLEAN_OPERATION"===i)switch(e.booleanOperation){case"UNION":return n.createElement(a.Tx,{id:"inspect_panel.node_type.union"});case"INTERSECT":return n.createElement(a.Tx,{id:"inspect_panel.node_type.intersect"});case"SUBTRACT":return n.createElement(a.Tx,{id:"inspect_panel.node_type.subtract"});case"XOR":return n.createElement(a.Tx,{id:"inspect_panel.node_type.exclude"})}switch(i){case"VECTOR":return n.createElement(a.Tx,{id:"inspect_panel.node_type.vector"});case"STAR":return n.createElement(a.Tx,{id:"inspect_panel.node_type.star"});case"LINE":return n.createElement(a.Tx,{id:"inspect_panel.node_type.line"});case"ELLIPSE":return n.createElement(a.Tx,{id:"inspect_panel.node_type.ellipse"});case"RECTANGLE":case"ROUNDED_RECTANGLE":return n.createElement(a.Tx,{id:"inspect_panel.node_type.rectangle"});case"REGULAR_POLYGON":return n.createElement(a.Tx,{id:"inspect_panel.node_type.polygon"});case"TEXT":return n.createElement(a.Tx,{id:"inspect_panel.node_type.text"});case"SLICE":return n.createElement(a.Tx,{id:"inspect_panel.node_type.slice"});case"GROUP":case"FRAME":if(e.isStateGroup)return n.createElement(a.Tx,{id:"inspect_panel.node_type.main_component_set"});if("HORIZONTAL"===e.stackMode)return n.createElement(a.Tx,{id:"inspect_panel.node_type.horizontal_al"});if("VERTICAL"===e.stackMode)return n.createElement(a.Tx,{id:"inspect_panel.node_type.vertical_al"});if(e.resizeToFit)return n.createElement(a.Tx,{id:"inspect_panel.node_type.group"});else return n.createElement(a.Tx,{id:"inspect_panel.node_type.frame"});case"SYMBOL":if(e.isState||(null==t?void 0:t.isStateGroup))return n.createElement(a.Tx,{id:"inspect_panel.node_type.main_variant"});return n.createElement(a.Tx,{id:"inspect_panel.node_type.main_component"});case"INSTANCE":return n.createElement(a.Tx,{id:"inspect_panel.node_type.instance"});case"STICKY":case"SHAPE_WITH_TEXT":case"CONNECTOR":case"STAMP":return n.createElement(a.Tx,{id:"inspect_panel.node_type.figjam"});case"SECTION":return n.createElement(a.Tx,{id:"inspect_panel.node_type.section"});case"WIDGET":return n.createElement(a.Tx,{id:"inspect_panel.node_type.widget"});case"CANVAS":return n.createElement(a.Tx,{id:"inspect_panel.node_type.page"});case"TABLE":return n.createElement(a.Tx,{id:"inspect_panel.node_type.table"})}return null}function E(){(0,h.IN)();let e=v(),t=(0,o.k3)(),r=(0,h.QH)(),s=function(e){var t;let r=(0,i.w1)(e=>e.library),a=n.useMemo(()=>{var t;return null==(t=(0,m.uM)(r.published.components).find(t=>t.component_key===(null==e?void 0:e.componentKey)))?void 0:t.file_key},[null==e?void 0:e.componentKey,r.published.components]),o=_.qO.useFile(a);return(null==(t=null==o?void 0:o.data)?void 0:t.name)||null}((0,l.O2)());if(!r||!e||!r.isAlive())return null;let c=r.isState?r.parentNode:null,d="SYMBOL"===r.type||"INSTANCE"===r.type,u=null;if(r.hyperlink&&"mixed"!==r.hyperlink)switch(r.hyperlink.type){case"NODE":new URL(document.location.href).searchParams.set("node-id",(0,p.W)(r.hyperlink.value));break;case"URL":u=r.hyperlink.value}return{...e,libraryName:s,type:f(r,c,t),typeTooltip:function(e){let t=e.type;return e.detachedInfo&&!("SYMBOL"===t||"INSTANCE"===t)?(0,a.t)("inspect_panel.node_type_tooltip.detached_component"):null}(r),isReadyForDev:r.hasReadyStatus,isCompleted:r.hasCompletedStatus,isDetached:"loaded"===t.status&&!d,link:u}}function y(e,t){var r;let n=e.isState?e.parentNode:null,i=(null==n?void 0:n.name)||e.name,a=(null==t?void 0:t.isState)?null==(r=null==t?void 0:t.parentNode)?void 0:r.name:null==t?void 0:t.name,o="SYMBOL"===e.type||"INSTANCE"===e.type;return{id:e.guid,name:i,backingSymbolName:a,type:f(e,n,null),isSymbol:e.isStateGroup||o,isFrame:"FRAME"===e.type,isSection:"SECTION"===e.type}}function b(){let e=(0,s.iK)(),t=(0,u.ct)().get(e??"");return t&&t.isAlive()?y(t):null}function v(){let e=(0,d.A9)("numSelected"),t=(0,h.QH)(),r=(0,l.O2)();return 1===e&&t&&t.isAlive()?y(t,r):null}},154968:(e,t,r)=>{"use strict";r.d(t,{i:()=>i});var n=r(307824);function i(){return n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none"},n.createElement("g",{clipPath:"url(#a)"},n.createElement("mask",{id:"b",width:16,height:16,x:0,y:0,maskUnits:"userSpaceOnUse",style:{maskType:"alpha"}},n.createElement("path",{fill:"#fff",fillRule:"evenodd",d:"M11.346 15.89c.252.099.54.093.794-.03l3.294-1.585a1 1 0 0 0 .566-.901V2.626a1 1 0 0 0-.566-.901L12.14.14a.996.996 0 0 0-1.137.193L4.697 6.087 1.95 4.002a.666.666 0 0 0-.85.037l-.882.802a.667.667 0 0 0 0 .986L2.6 8 .217 10.173a.667.667 0 0 0 .001.986l.881.802a.666.666 0 0 0 .851.037l2.747-2.085 6.306 5.754c.1.1.217.175.343.224Zm.656-11.522L7.217 8l4.785 3.632V4.368Z",clipRule:"evenodd"})),n.createElement("g",{mask:"url(#b)"},n.createElement("path",{fill:"#0065A9",d:"M15.434 1.727 12.137.14A.997.997 0 0 0 11 .333L.208 10.173a.667.667 0 0 0 0 .986l.882.802a.667.667 0 0 0 .851.037L14.938 2.14A.662.662 0 0 1 16 2.667v-.039a1 1 0 0 0-.566-.9Z"}),n.createElement("g",{filter:"url(#c)"},n.createElement("path",{fill:"#007ACC",d:"m15.434 14.273-3.297 1.587A.996.996 0 0 1 11 15.667L.208 5.827a.667.667 0 0 1 0-.986l.882-.802a.667.667 0 0 1 .851-.037l12.997 9.859A.662.662 0 0 0 16 13.333v.039a1 1 0 0 1-.566.9Z"})),n.createElement("g",{filter:"url(#d)"},n.createElement("path",{fill:"#1F9CF0",d:"M12.137 15.86A.997.997 0 0 1 11 15.667a.586.586 0 0 0 1-.415V.747a.586.586 0 0 0-1-.414c.3-.3.755-.377 1.137-.193l3.296 1.585a1 1 0 0 1 .567.901v10.748a1 1 0 0 1-.567.901l-3.296 1.585Z"})),n.createElement("path",{fill:"url(#e)",fillRule:"evenodd",d:"M11.336 15.89c.252.099.54.093.794-.03l3.294-1.585a1 1 0 0 0 .566-.901V2.626a1 1 0 0 0-.566-.901L12.13.14a.996.996 0 0 0-1.137.193L4.687 6.087 1.94 4a.666.666 0 0 0-.85.038l-.882.802a.667.667 0 0 0 0 .986L2.59 8 .208 10.173a.667.667 0 0 0 0 .986l.881.802a.666.666 0 0 0 .851.037l2.747-2.085 6.306 5.754c.1.1.217.175.343.224Zm.657-11.522L7.208 8l4.785 3.632V4.368Z",clipRule:"evenodd",opacity:.25,style:{mixBlendMode:"overlay"}}))),n.createElement("defs",null,n.createElement("filter",{id:"c",width:32.676,height:28.759,x:-8.343,y:-4.467,colorInterpolationFilters:"sRGB",filterUnits:"userSpaceOnUse"},n.createElement("feFlood",{floodOpacity:0,result:"BackgroundImageFix"}),n.createElement("feColorMatrix",{in:"SourceAlpha",result:"hardAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),n.createElement("feOffset",null),n.createElement("feGaussianBlur",{stdDeviation:4.167}),n.createElement("feColorMatrix",{values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"}),n.createElement("feBlend",{in2:"BackgroundImageFix",mode:"overlay",result:"effect1_dropShadow_0_3"}),n.createElement("feBlend",{in:"SourceGraphic",in2:"effect1_dropShadow_0_3",result:"shape"})),n.createElement("filter",{id:"d",width:21.667,height:32.584,x:2.667,y:-8.292,colorInterpolationFilters:"sRGB",filterUnits:"userSpaceOnUse"},n.createElement("feFlood",{floodOpacity:0,result:"BackgroundImageFix"}),n.createElement("feColorMatrix",{in:"SourceAlpha",result:"hardAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),n.createElement("feOffset",null),n.createElement("feGaussianBlur",{stdDeviation:4.167}),n.createElement("feColorMatrix",{values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"}),n.createElement("feBlend",{in2:"BackgroundImageFix",mode:"overlay",result:"effect1_dropShadow_0_3"}),n.createElement("feBlend",{in:"SourceGraphic",in2:"effect1_dropShadow_0_3",result:"shape"})),n.createElement("linearGradient",{id:"e",x1:7.99,x2:7.99,y1:.041,y2:15.959,gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopColor:"#fff"}),n.createElement("stop",{offset:1,stopColor:"#fff",stopOpacity:0})),n.createElement("clipPath",{id:"a"},n.createElement("path",{fill:"#fff",d:"M0 0h16v16H0z"}))))}},167044:(e,t,r)=>{"use strict";r.d(t,{KX:()=>V,SI:()=>L,sD:()=>N,sj:()=>O,z:()=>C});var n=r(307824),i=r(125504),a=r.n(i),o=r(4580),l=r(623131),s=r(372152),c=r(838836),d=r(537096),u=r(709964),p=r(289620),m=r(762820),_=r(979144),h=r(138884),g=r(397888),f=r(73460),E=r(84656),y=r(570012),b=r(607956),v=r(440112),I=r(142088),w=r(308052),T=r(599628),S=r(1196);let C=(0,l.Zf)(new Map);function A(e){let{isHovered:t,selection:r}=(0,o.q)(t=>({isHovered:t.mirror.appModel.hoveredNode===e.guid,selection:t.mirror.sceneGraphSelection})),i=n.useRef(null);n.useEffect(()=>{i.current&&e.isSelected&&i.current.scrollIntoView({block:"nearest"})},[e.isSelected]);let l="SYMBOL"===e.type||"INSTANCE"===e.type||e.isInstanceSublayer||e.isSymbolSublayer||N.includes(e.type),c=[w.kh,e._className];e.isSelected&&c.push(w.Oo),t&&c.push(w.G2),l&&c.push(w.sF),e.isExpanded(e.guid)&&c.push(w.Al),e.isAncestorSelected&&c.push(w.YV),0!==e.indentation&&c.push(w.kr);let d=Array.from({length:e.indentation},(e,t)=>t+1);return n.createElement("div",{onMouseDown:t=>{(0,f.c)("html_tree"),e.didSelectRow(e.guid);let n=Object.keys(r);if(s.qM.set(b.P,!1),t.metaKey){var i;r[i=e.guid]?h.mg([i]):h.aN([i])}else t.shiftKey&&n.length>0?h.G2(n[n.length-1],e.guid):m.aWh.selectAndPanToNode(e.guid)},onDoubleClick:t=>e.isExpandable&&e.toggleExpanded(t,e.guid),onContextMenu:t=>e.openContextMenu(t,e.guid),onMouseEnter:()=>h.cX(e.guid),onMouseLeave:()=>h.cX(h.WW),role:"button",tabIndex:0,className:a()(c),ref:i,"data-fullscreen-intercept":!0},d.map(e=>n.createElement("div",{key:e,className:w.ly})),e.children)}function O(e){return n.createElement(d.A,{onMouseDown:e.visible?t=>{var r;t.preventDefault(),t.stopPropagation(),null==(r=e.onMouseDown)||r.call(e,t)}:void 0,className:a()(w.R1,e.visible&&w.Ow),svg:e.expanded?T.c:S.c,dataTestId:`devHandoffLayersRow.toggle-${e.name}`})}let N=["TABLE","TABLE_CELL","WASHI_TAPE","STAMP","STICKY","SHAPE_WITH_TEXT","WIDGET"];function L(e,t){let r=(null==e?void 0:e.type)??y.Af.NOT_ASSET,n=r&(y.Af.ASSET_IMAGE|y.Af.ASSET_ICON);return t?n:r&y.Af.ASSET_IMAGE}function R(e){return"SYMBOL"===e||"INSTANCE"===e}function P({guid:e}){let t=(0,s.m4)(C).get(e);if(!t)return null;let r=t.state;return"added"===r?n.createElement("div",{className:w.CE}):"changed"===r?n.createElement("div",{className:w.i_}):"removed"===r?n.createElement("div",{className:w.Ge}):null}function M(e){return n.createElement(A,{...e,_className:e.hasChildren?w.IF:void 0},n.createElement(O,{visible:e.isExpandable&&e.hasChildren,expanded:e.isExpanded(e.guid),onMouseDown:t=>e.toggleExpanded(t,e.guid),name:e.name}),n.createElement(I.ue,{className:w.KU,guid:e.guid}),n.createElement("span",{className:w.yU},e.name," ",e.showGuids&&` (${e.guid})`),n.createElement(P,{guid:e.guid}))}function k(e){return n.createElement(A,{...e,_className:w.IF},n.createElement(O,{visible:e.isExpandable&&e.hasChildren,expanded:e.isExpanded(e.guid),onMouseDown:t=>e.toggleExpanded(t,e.guid),name:e.name}),n.createElement(I.ue,{className:w.KU,guid:e.guid}),n.createElement("span",{className:w.yU},e.name," ",e.showGuids&&` (${e.guid})`),n.createElement(P,{guid:e.guid}))}function D(e){var t,r;let i;let a=(0,g.ct)(),o=e.inheritedTextStyle;if(o){let e=m.i46.getStyleNodeId(o.key,o.version);i=null==(t=a.get(e))?void 0:t.name}let l=e.isInstanceSublayer?e.name===(null==(r=e.textContent)?void 0:r.trim().replace(/\s+/gm," ")):e.autoRename;return n.createElement(A,{...e,_className:w.I$},n.createElement(O,{visible:!1,expanded:!1,name:e.name}),n.createElement(I.ue,{className:w.KU,guid:e.guid}),l?null:n.createElement("span",{className:w.yU},e.name," ",e.showGuids&&` (${e.guid})`),n.createElement("span",{className:w.sL},e.textContent),n.createElement("span",{className:w.SU}," \xb7 ",i),n.createElement(P,{guid:e.guid}))}function F(e){return n.createElement(n.Fragment,null,n.createElement(I.ue,{className:a()(w.KU,w.QD,{[w.IN]:!e.figJam}),guid:e.guid}),n.createElement("span",{className:a()(w.yU,w.QD)},e.name,e.showGuids&&` (${e.guid})`))}function x(e){let t=e.guid;return n.createElement(A,{...e},n.createElement(O,{visible:e.isExpandable&&e.hasChildren,expanded:e.isExpanded(t),onMouseDown:r=>e.toggleExpanded(r,t),name:e.name}),n.createElement(F,{guid:t,name:e.name,showGuids:e.showGuids}),n.createElement(P,{guid:e.guid}))}function U(e){let t=e.guid;return n.createElement(A,{...e},n.createElement(O,{visible:!1,expanded:!1,onMouseDown:c.Kw,name:e.name}),n.createElement(F,{guid:t,name:e.name,showGuids:e.showGuids,figJam:!0}),n.createElement(P,{guid:e.guid}))}function B(e){let{assetInfo:t}=e;return t?n.createElement(G,{...e,assetInfo:t}):n.createElement(M,{...e})}function G(e){let{assetInfo:t}=e,r=t.type&y.Af.ASSET_IMAGE||e.hasEnabledStaticImagePaint,i=(0,u.O)({assetId:e.guid,thumbnailVersion:t.thumbnailVersion,width:64,height:64,scale:2});return n.createElement(A,{...e,_className:w.yS},n.createElement(O,{visible:!1,expanded:!1,name:e.name}),n.createElement(v.O,{className:a()(w.C2,r?w.eE:w.B),style:i.backgroundStyle,src:i.url}),n.createElement(n.Fragment,null,R(e.type)?n.createElement(F,{guid:e.guid,name:e.name,showGuids:!1}):n.createElement(n.Fragment,null,n.createElement("span",{className:w.yU},e.name," ",e.showGuids&&` (${e.guid})`),n.createElement("span",{className:w.CI},n.createElement(p.YL,{assetInfo:t,dataTestId:"layerPanelAsset"})))))}let V=n.memo(e=>{let t=(0,E.s5)((0,_.EB)().showGuids),r=(0,E.s5)(m.KEP.devHandoffState().automaticIconDetection),i=n.useMemo(()=>m.aWh.getOrAddAssetInfo(e.guid),[e.guid]),a=(0,g.ct)().get(e.guid);if(!a)return null;let o=a.devToolsOrderedVisibleChildren,l=function(e,t,r){return N.includes(e.type)?U:r&&L(r,t)?B:R(e.type)?x:"FRAME"===e.type&&"NONE"!==e.stackMode?k:"TEXT"===e.type?D:M}(a,r,i);if(!l)return null;let s=o.length>0&&!(i&&L(i,r));return n.createElement(l,{toggleExpanded:e.toggleExpanded,isExpanded:e.isExpanded,openContextMenu:e.openContextMenu,indentation:e.indentation,hasChildren:s,isSelected:e.isSelected,isAncestorSelected:e.isAncestorSelected,didSelectRow:e.didSelectRow,guid:a.guid,type:a.type,name:a.name,textContent:a.textContent,absoluteBoundingBox:a.absoluteBoundingBox,hasEnabledStaticImagePaint:a.hasEnabledStaticImagePaint,inheritedTextStyle:a.inheritedTextStyle,autoRename:a.autoRename,stackMode:a.inferredAutoLayoutResult?a.inferredAutoLayoutResult.stackMode:a.stackMode,isInstanceSublayer:a.isInstanceSublayer,isSymbolSublayer:a.isSymbolSublayer,isExpandable:!e.isRoot&&s,showGuids:t,assetInfo:i})})},217568:(e,t,r)=>{"use strict";r.d(t,{eg:()=>a,oR:()=>o});var n=r(288448),i=r(90340);let a="Enter Design Mode";function o(e,t,r,o){var l;let s=(0,n.y2)(e);(0,i.s5)("dev_handoff"===t?"Enter Inspect Mode":a,null==(l=e.openFile)?void 0:l.key,e,{source:r,hasSeatForDevMode:s},{forwardToDatadog:o})}},14700:(e,t,r)=>{"use strict";let n;r.d(t,{Cw:()=>i,UV:()=>o,cF:()=>a,ie:()=>l});var i=((n=i||{}).ADDED="ADDED",n.REMOVED="REMOVED",n);function a(e,t=0,r){let n={code:e};return r&&(n.hint=r),t&&(n.indent=t),n}function o(e,t=!1){return e.map(e=>t?l(e)+e.code:e.code).join("\n")}function l(e){return e.indent?"  ".repeat(e.indent):""}},604968:(e,t,r)=>{"use strict";let n,i;r.d(t,{Ut:()=>a,qi:()=>l,uw:()=>o});var a=((n=a||{})[n.NoStyleForColor=0]="NoStyleForColor",n[n.VariableNotResolved=1]="VariableNotResolved",n[n.VariableSuggested=2]="VariableSuggested",n[n.MultipleVariables=3]="MultipleVariables",n[n.AbsolutePosition=4]="AbsolutePosition",n[n.BordersDontTakeUpSpace=5]="BordersDontTakeUpSpace",n[n.SinglePaint=6]="SinglePaint",n[n.UnsupportedPaint=7]="UnsupportedPaint",n[n.UnsupportedGradientPaint=8]="UnsupportedGradientPaint",n[n.LeadingTrim=9]="LeadingTrim",n[n.PlusDarker=10]="PlusDarker",n[n.BackgroundBlendModePlusLighterDarker=11]="BackgroundBlendModePlusLighterDarker",n[n.SwiftUISeparateBorderWidth=12]="SwiftUISeparateBorderWidth",n[n.SwiftUIBlurNoSpread=13]="SwiftUIBlurNoSpread",n[n.SwiftUIOnlySingleFillForShapes=14]="SwiftUIOnlySingleFillForShapes",n[n.SwiftUISeparateCornerRadius=15]="SwiftUISeparateCornerRadius",n[n.SwiftUISpacersForSpaceBetween=16]="SwiftUISpacersForSpaceBetween",n[n.ComposeSeparateBorderWidth=17]="ComposeSeparateBorderWidth",n[n.ComposeShadowIncompatibility=18]="ComposeShadowIncompatibility",n[n.ComposeBlurTip=19]="ComposeBlurTip",n[n.DisplayP3Fallback=20]="DisplayP3Fallback",n),o=((i=o||{}).Tooltip="tooltip",i.Comment="comment",i);let l={NoStyleForColor:{id:0,type:"tooltip"},VariableNotResolved:{id:1,type:"tooltip"},VariableSuggested:e=>({id:2,value:e,type:"tooltip"}),MultipleVariables:e=>({id:3,value:e,type:"tooltip"}),AbsolutePosition:e=>({id:4,name:e,type:"tooltip"}),BordersDontTakeUpSpace:{id:5,type:"tooltip"},SinglePaint:{id:6,type:"tooltip"},UnsupportedPaint:{id:7,type:"tooltip"},UnsupportedGradientPaint:{id:8,type:"tooltip"},LeadingTrim:{id:9,type:"tooltip"},DisplayP3Fallback:{id:20,type:"tooltip"},PlusDarker:{id:10,type:"tooltip"},BackgroundBlendModePlusLighterDarker:e=>({id:11,value:e,type:"tooltip"}),SwiftUISeparateBorderWidth:{id:12,type:"tooltip"},SwiftUIBlurNoSpread:{id:13,type:"tooltip"},SwiftUIOnlySingleFillForShapes:{id:14,type:"tooltip"},SwiftUISeparateCornerRadius:{id:15,type:"tooltip"},SwiftUISpacersForSpaceBetween:{id:16,type:"tooltip"},ComposeSeparateBorderWidth:{id:17,type:"tooltip"},ComposeShadowIncompatibility:{id:18,type:"tooltip"},ComposeBlurTip:{id:19,type:"tooltip"}}},59608:(e,t,r)=>{"use strict";r.d(t,{$N:()=>p,iK:()=>u,oB:()=>m,yO:()=>d});var n=r(307824),i=r(120304),a=r(760780),o=r(762820),l=r(768820),s=r(84656),c=r(927976);function d(){return(0,i.w1)(e=>{var t;return"fullscreen"===(t=e.selectedView).view&&!0===t.showOverview})}function u(){return(0,i.w1)(e=>(0,c.ie)(e.selectedView)&&e.selectedView.devModeFocusId?e.selectedView.devModeFocusId:null)}function p(){let[e,t]=(0,n.useState)(!1);return(0,a.u)(()=>{let e=o.aWh.getAllNodesWithStatuses();(0,l.cp)(e).then(()=>{t(!0),o.aWh.onAllNodesWithStatusesLoaded(e)})}),e}function m(){let e=(0,s.s5)(o.KEP.currentSceneState().pageToContainsNodeStatuses);return(0,n.useMemo)(()=>{for(let t of e.values())if(t.some(e=>e!==o.s9M.NONE))return!0;return!1},[e])}},452955:(e,t,r)=>{"use strict";let n;r.d(t,{Mp:()=>s,Ws:()=>d,eG:()=>c,kB:()=>u,m8:()=>p});var i=r(4580),a=r(843148),o=r(397888),l=r(287540);function s(e,t=!1){let r=(0,l.eM)((e,t,r)=>t&&p(e,t,r)||null,e,t),n=(0,i.q)(r=>e&&p(r.mirror.sceneGraph,e,t)||null);return(0,a.Ub)().scenegraph_hooks_dev_handoff?r:n}function c(){let{lastViewedStamp:e,lastEditedStamp:t}=(0,i.q)(e=>{var t;return{fileKey:null==(t=e.openFile)?void 0:t.key,lastViewedStamp:e.versionHistory.lastViewed,lastEditedStamp:e.versionHistory.lastEdited}});return function(e,t){if(!e)return t?new Date(t):void 0;if(!t)return e?new Date(e):void 0;let r=new Date(e),n=new Date(t);return r>n?r:n}(e,t)}var d=((n=d||{}).NOT_RECENT="NOT_RECENT",n.RECENTLY_EDITED="RECENTLY_EDITED",n.RECENTLY_CREATED="RECENTLY_CREATED",n);function u(e,t,r){let n=(0,o.ct)();if(!e)return"NOT_RECENT";let i=p(n,e,!0);if(!i)return"NOT_RECENT";let a=i.lastEditedAt;if(!a||!t)return"NOT_RECENT";if(i.createdAt){let n=new Date(i.createdAt);if(t<n&&(!r[e]||r[e]<n))return"RECENTLY_CREATED"}let l=new Date(a);return l.setSeconds(0,0),t<l&&(!r[e]||r[e]<l)?"RECENTLY_EDITED":"NOT_RECENT"}function p(e,t,r){var n,i;let o=null==(n=e.get(t))?void 0:n.editInfo;return!o||r&&o.userId===(null==(i=(0,a.cp)().user_data)?void 0:i.id)||0===o.lastEditedAt?null:(o.lastEditedAt=1e3*o.lastEditedAt,o.createdAt=1e3*o.createdAt,o)}},329120:(e,t,r)=>{"use strict";r.d(t,{AX:()=>h,WO:()=>g,_I:()=>m,_M:()=>_,_Q:()=>p});var n=r(60452),i=r(161400),a=r(557044),o=r(967540),l=r(268984),s=r(704176),c=r(90340),d=r(946044);let u=e=>{let t=i.x.getState();if(!t.openFile)return;let r=t.openFile;r&&r.parentOrgId&&a.cp.post(`/api/activity_logs/${r.key}`,{event_name:e})};function p(){u("fig_file_save_as")}let m=(0,l.M0)((e,t)=>{u("fig_file_export")}),_=(0,l.eg)("GET_ACTIVITY_LOGS",(e,t)=>{let{newQuery:r,teamId:n,emails:i,eventName:a,date:l}=t,u=e.getState();d.s.getActivityLogs({pageSize:"30",orgId:u.currentUserOrgId,startTime:l.start,endTime:(0,s.Y7)(l.end),...n?{teamId:n}:null,...a?{eventName:JSON.stringify(a)}:null,...i?{emails:i.join()}:null,...r?null:{after:u.activityLogs.cursor.after}}).then(({data:t})=>{let o=t.meta,d=o[0],p=o[1],m=r?d:e.getState().activityLogs.logs.concat(d);e.dispatch(g({logs:m,cursor:p})),(0,c.oL)("Activity Logs Fetched",u.currentUserOrgId,u,{teamIdFilter:n,eventNamesFilter:a,startDateFilter:l.start,endDateFilter:(0,s.Y7)(l.end),filtersOnActorEmail:!!i&&i.length>0,filtersOnActedOnEmail:!!i&&i.length>0,isNewQuery:r,numberOfResults:d.length})}).catch(t=>{var r;let n=(null==(r=t.data)?void 0:r.message)||"An error occurred while fetching activity logs.";e.dispatch(o.M.flash(n))})}),h=(0,n.A)("CLEAR_CURSOR_ACTIVITY_LOGS"),g=(0,n.A)("SET_ACTIVITY_LOGS")},851268:(e,t,r)=>{"use strict";r.d(t,{IX:()=>f,KI:()=>h,QL:()=>g,cl:()=>y,qW:()=>_,sb:()=>m,y0:()=>E});var n=r(60452),i=r(250008),a=r(899116),o=r(372152),l=r(268984),s=r(403132),c=r(787717),d=r(1084),u=r(887816),p=r(876760);let m=(0,l.M0)(async(e,t)=>{var r,n;let a=null==(n=null==(r=e.getState())?void 0:r.user)?void 0:n.id;if(!a)return;let o=Object.keys(t);await (0,d.q4)(a,o),u.Wu.sendToAllTabs(u.yT,o),(0,i.we)("Delete New Autosave Files",{deletedCount:o.length})}),_=(0,l.M0)(async e=>{var t;let r=null==(t=e.getState().user)?void 0:t.id;if(!r)return;await (0,d.yQ)(r);let n=await (0,d.Mn)(r);e.dispatch(E({filesWithChangesInIDB:n.unsyncedFiles,filesCreatedOffline:n.newFiles})),e.dispatch(g(n.nextGarbageCollectionTimestamp))}),h=(0,n.A)("SET_AUTOSAVE_ONBOARDING_TOOLTIP_VISIBLE"),g=(0,n.A)("SET_AUTOSAVE_NEXT_GARBAGE_COLLECTION_TIMESTAMP"),f=(0,n.A)("SET_AUTOSAVE_SNOOZE"),E=(0,n.A)("SET_UNCLAIMED_FILES");function y(e){u.Wu.register(u.yG,()=>(function(e){var t;let r=(null==(t=e.getState().user)?void 0:t.id)??null;p.qO.fetch((0,d.mE)({userId:r}),{policy:"networkOnly"})})(e)),u.Wu.register(u.yT,t=>(function(e,t){let r=o.qM.get(c.y);r&&t.includes(r)&&(a.sZ?a.sZ.close({suppressReopening:!0,shouldForceClose:!0}):e.dispatch(s.Ej({view:"recentFiles"}))),e.dispatch(_())})(e,t)),u.Wu.register(u.o9,({localFileKey:e,realFileKey:t})=>(0,d.uA)(e,t))}},860700:(e,t,r)=>{"use strict";r.d(t,{IT:()=>S,QV:()=>y,Uz:()=>I,k$:()=>b,oG:()=>v,qg:()=>T});var n=r(60452),i=r(983044),a=r(103839),o=r(557044),l=r(967540),s=r(560072),c=r(317704),d=r(268984),u=r(762580),p=r(449388),m=r(188448),_=r(762820),h=r(4388),g=r(887540),f=r(930396);let E=(e,t)=>{let r=t/Math.min(e.width,e.height),n=e.width*r,i=e.height*r;return{x:(t-n)/2,y:(t-i)/2,width:n,height:i}};function y(e,t,r,n){let i=document.createElement("canvas"),a=i.getContext("2d");return i.width=i.height=t,a.fillStyle="image/png"===n?"transparent":"#FFF",a.fillRect(0,0,t,t),a.drawImage(i,0,0),a.drawImage(e,r.x,r.y,r.width,r.height),"image/png"===n?i.toDataURL():i.toDataURL("image/jpeg",.92)}function b(e){let t=atob(e.slice(e.indexOf(",")+1)),r=[];for(let e=0;e<t.length;e++)r.push(t[e].charCodeAt(0));return new Uint8Array(r)}async function v(e,t,r){let n=function(){let t=e.originalImageWidth&&e.originalImageHeight?e.originalImageWidth/e.originalImageHeight:1,r=h.Cg(e,new a.Cg(Math.max(g.Qt.LARGE,g.Qt.LARGE*t),Math.max(g.Qt.LARGE,g.Qt.LARGE/t)),{r:0,g:0,b:0,a:0});return r&&r.pixels&&r.pixelSize?h.me(r.pixels,r.pixelSize):""}();if(n)try{let e=await function(e){let t=new Image;return new Promise((r,n)=>{t.onerror=e=>{n(e)},t.onload=()=>{URL.revokeObjectURL(e),r(t)},t.src=e})}(n);if(!e){l.M.error((0,s.t)("avatar_actions.editor_uploaded.an_error_occurred_while_setting_your_profile_photo"));return}r(T({entity:t,entityType:g.sD.CURRENT_USER,small:b(y(e,g.Qt.SMALL,E(e,g.Qt.SMALL))),large:b(y(e,g.Qt.LARGE,E(e,g.Qt.LARGE))),contentType:"image/jpeg"}))}catch(e){r(l.M.error((0,s.t)("avatar_actions.editor_uploaded.an_error_occurred_while_setting_your_profile_photo"))),console.error((0,s.t)("avatar_actions.editor_uploaded.an_error_occurred_while_setting_your_profile_photo"),e)}}let I=(0,n.A)("AVATAR_EDITOR_RESET"),w=(0,d.M0)((e,t)=>{if(t.entityType===g.sD.CURRENT_USER)o.cp.put("/api/user",{img_url:t.smallUrl,img_url_500_500:t.largeUrl}).then(function({data:t}){var r;let n=t.meta;(null==n?void 0:n.img_url)&&(null==(r=_.Abq)||r.setImgUrl(n.img_url)),e.dispatch(m.Aj({user:n,userInitiated:!1})),e.dispatch(I())},t=>{e.dispatch(l.M.error((0,s.t)("avatar_actions.editor_uploaded.an_error_occurred_while_setting_your_profile_photo"))),console.error((0,s.t)("avatar_actions.editor_uploaded.an_error_occurred_while_setting_your_profile_photo"),t),e.dispatch(I())});else if(t.entityType===g.sD.TEAM){let r=t.entity.id;o.cp.put(`/api/teams/${r}`,{img_url:t.smallUrl,img_url_500_500:t.largeUrl}).then(function({data:t}){let r=t.meta;e.dispatch(p.Aj({team:r,userInitiated:!1})),e.dispatch(I()),e.dispatch(c.A.enqueue({message:(0,s.t)("avatar_actions.team_icon_updated")}))},t=>{e.dispatch(l.M.error((0,s.t)("avatar_actions.an_error_occurred_while_setting_the_team_icon"))),console.error((0,s.t)("avatar_actions.an_error_occurred_while_setting_the_team_icon")),e.dispatch(I())})}else if(t.entityType===g.sD.ORG){let r=t.entity.id;o.cp.put(`/api/orgs/${r}`,{img_url:t.smallUrl,img_url_500_500:t.largeUrl}).then(function({data:t}){let r=t.meta;e.dispatch(u.Aj({org:r})),e.dispatch(I())},t=>{var r;e.dispatch(l.M.error((0,s.t)("avatar_actions.an_error_occurred")+(null==(r=t.data)?void 0:r.message))),console.error((0,s.t)("avatar_actions.an_error_occurred_while_setting_the_organization_icon"),t),e.dispatch(I())})}else if(t.entityType===g.sD.WORKSPACE){let r=t.entity.id;f.s.updateImage({workspaceId:r,img_url:t.smallUrl,img_url_500_500:t.largeUrl,onfulfilled:()=>{e.dispatch(c.A.enqueue({message:(0,s.t)("avatar_actions.workspace_icon_updated")}))},onrejected:t=>{let r=(0,s.t)("avatar_actions.an_error_occurred_while_setting_the_workspace_icon");e.dispatch(l.M.error(r)),console.error(r),e.dispatch(I())}})}}),T=(0,d.eg)("AVATAR_EDITOR_UPLOAD",(e,t)=>{Promise.all([(0,i.y)("profile",t.small,t.contentType),(0,i.y)("profile",t.large,t.contentType)]).then(function(r){let n=r[0].data.meta.url,i=r[1].data.meta.url;e.dispatch(w({entity:t.entity,entityType:t.entityType,smallUrl:n,largeUrl:i}))},()=>{e.dispatch(l.M.error((0,s.t)("avatar_actions.an_error_occurred_while_uploading_the_image"))),e.dispatch(I())})}),S=(0,n.A)("AVATAR_EDITOR_INIT")},678516:(e,t,r)=>{"use strict";r.d(t,{A3:()=>eN,AL:()=>K,AP:()=>eD,Ac:()=>en,An:()=>ec,CE:()=>eS,E5:()=>eP,EV:()=>eg,EX:()=>ev,GW:()=>V,GY:()=>z,I7:()=>eA,IT:()=>eb,K6:()=>eE,Kc:()=>eT,MJ:()=>G,Mb:()=>U,Mf:()=>es,Sf:()=>ea,U5:()=>eO,UF:()=>X,Ww:()=>eh,Yb:()=>J,Yj:()=>eR,a8:()=>et,a_:()=>ek,as:()=>B,cJ:()=>ew,cL:()=>Z,cX:()=>H,cl:()=>W,eC:()=>eI,eq:()=>ef,eu:()=>eo,gZ:()=>F,g_:()=>ei,gr:()=>Y,ik:()=>eC,kG:()=>er,kH:()=>e_,mK:()=>ey,mk:()=>ep,mw:()=>eu,o5:()=>eL,qq:()=>j,s9:()=>em,sm:()=>ed,uK:()=>q,uq:()=>Q,w7:()=>el,y2:()=>D,yM:()=>$,yv:()=>ee});var n=r(60452),i=r(250008),a=r(13796),o=r(398500),l=r(843148),s=r(372152),c=r(61836),d=r(668136),u=r(326660),p=r(33828),m=r(557044),_=r(967540),h=r(4596),g=r(560072),f=r(317704),E=r(268984),y=r(403132),b=r(394944),v=r(90340),I=r(553540),w=r(828504),T=r(585508),S=r(762820),C=r(13468),A=r(338948),O=r(607956),N=r(722796),L=r(480808),R=r(323576),P=r(130340),M=r(110296),k=r(849208);async function D(e,t,r,n,i){await x(i.messageMeta,e,t,r,n).then(t=>{e(Y({comment:i.comment,messageMeta:i.messageMeta,attachmentUpdates:i.attachmentUpdates,forceWithInvite:t,forceMention:t,onCommentValidationFailure:void 0}))}).catch(()=>{})}async function F(e,t,r,n,i,a,o,l){return await x(a.messageMeta,t,r,n,i).then(r=>{t(eT({threadId:a.threadId,reply:{messageMeta:a.messageMeta,attachments:a.attachments}})),t(z({commentsWriteApi:e,threadId:a.threadId,threadUuid:a.threadUuid,uuid:o,forceWithInvite:r,forceMention:r,onCommentValidationFailure:void 0,commentsConfiguration:l}))}).catch(()=>{t(eE({threadId:a.threadId,resetStatusOnly:!0})),t(eT({threadId:a.threadId,reply:{messageMeta:a.messageMeta,attachments:a.attachments}}))})}function x(e,t,r,n,i){return new Promise(a=>{t((0,R.A5)({type:L.o9,data:{messageMeta:e,dispatch:t,usersWithoutAccess:r,externalUsersWithoutAccess:n,uninvitableUsers:i,onConfirm:()=>a(!0),onCancel:()=>a(!1)}}))})}let U=(0,E.M0)((e,t)=>{let{receiptsAPI:r,comment:n}=t;r.markAsUnread(n.id).catch(t=>{let r=(0,g.t)("comments.an_error_occurred_while_marking_a_comment_as_unread");try{t=JSON.parse(t),e.dispatch(_.M.error((0,g.ID)(t,r)))}catch(t){e.dispatch(_.M.error(r))}})}),B=(0,E.M0)((e,t)=>{let{receiptsAPI:r,thread:n}=t;r.markAsRead(n.comments.map(e=>e.id)).catch(t=>{let r=(0,g.t)("comments.an_error_occurred_while_marking_a_comment_as_read");try{t=JSON.parse(t),e.dispatch(_.M.error((0,g.ID)(t,r)))}catch(t){e.dispatch(_.M.error(r))}})}),G=(0,E.M0)((e,t)=>{let{commentReceiptsAPI:r,canvasMentionReceiptsAPI:n}=t;r.markAllAsRead().catch(t=>{let r=(0,g.t)("comments.an_error_occurred_while_marking_a_comment_as_read");try{t=JSON.parse(t),e.dispatch(_.M.error((0,g.ID)(t,r)))}catch(t){e.dispatch(_.M.error(r))}}),n.markAllAsRead().catch(t=>{let r=(0,g.t)("whiteboard.an_error_occurred_while_marking_a_canvas_mention_as_read");try{t=JSON.parse(t),e.dispatch(_.M.error((0,g.ID)(t,r)))}catch(t){e.dispatch(_.M.error(r))}})});(0,E.M0)((e,t)=>{let{reactionsApi:r,id:n,emoji:i}=t,a=r.removeReaction(n,i),o=(0,g.t)("comments.an_error_occurred_while_removing_a_comment_reaction");e.dispatch((0,_.S)({promise:a,fallbackError:o}))}),(0,E.M0)((e,t)=>{let r=e.getState(),{reactionsApi:n,id:i,emoji:a}=t,o=n.addReaction(i,a,{prototype_mode:"prototype"===r.selectedView.view}),l=(0,g.t)("comments.an_error_occurred_while_adding_a_comment_reaction");e.dispatch((0,_.S)({promise:o,fallbackError:l}))});let V=(0,E.M0)((e,t)=>{let{reactionsApi:r,id:n}=t,{emoji:i}=t,a=e.getState();(0,o.Eb)(i)&&null!==(0,o.h2)()&&(i=(0,o.SC)(i)[0]+(0,o.h2)());let l=r.toggleReaction(n,i,{prototype_mode:"prototype"===a.selectedView.view}),s=(0,g.t)("comments.an_error_occurred_while_toggling_a_comment_reaction");e.dispatch((0,_.S)({promise:l,fallbackError:s}))}),H=(0,E.M0)((e,t)=>{let r;let{comment:n}=t,{key:a,id:o,uuid:l,parent_id:s}=n,u=m.cp.del(`/api/file/${a}/comments/${o}`),p=(0,g.t)("comments.an_error_occurred_while_deleting_this_comment");e.dispatch((0,_.S)({promise:u,fallbackError:p})),b._.remove(o),r=l?(0,c.w3)().optimisticallyDeleteWithUUID({Comment:{[l]:null}},u):(0,c.w3)().optimisticallyDelete({Comment:{[o]:null}},u),(0,i.we)("Livegraph Optimistic Comment Update",{flow:"setDeleted",isOptimistic:!!l}),(0,d.g)(r,e.dispatch,eP({comment:{id:o,parent_id:s}}))}),W=(0,E.M0)((e,{thread:{key:t,id:r,uuid:n},resolved:o})=>{var s;let d=e.getState();if(o&&(null==(s=d.comments.activeThread)?void 0:s.id)===r&&!d.comments.showResolved&&e.dispatch(X()),(0,l.Ub)().comments_undo_resolve&&o){let i={text:(0,g.t)("comments.undo"),action:()=>{e.dispatch(W({thread:{key:t,id:r,uuid:n},resolved:!1}))}};e.dispatch(f.A.enqueue({message:(0,g.t)("comments.comment_resolved"),type:"comment-resolved",button:i,onDismiss:()=>{}}))}b._.remove(r);let u=o?"true":"false",p=o?(0,g.t)("comments.an_error_occurred_while_resolving_this_comment"):(0,g.t)("comments.an_error_occurred_while_unresolving_this_comment");if(n&&(0,a.ay)(r)){let r=(0,c.w3)().getIdFromUuid("Comment",n).then(r=>{let n=m.cp.put(`/api/file/${t}/comments/${r}`,{resolved_at:u});return e.dispatch((0,_.S)({promise:n,fallbackError:p})),n});(0,c.w3)().optimisticallyUpdateWithUUID({Comment:{[n]:{uuid:n,resolvedAt:o?new Date:null}}},r),(0,i.we)("Livegraph Optimistic Comment Update",{flow:"setResolvedUsingGetIdFromUUID",isOptimistic:!0})}else{let a=m.cp.put(`/api/file/${t}/comments/${r}`,{resolved_at:u});e.dispatch((0,_.S)({promise:a,fallbackError:p})),n?(0,c.w3)().optimisticallyUpdateWithUUID({Comment:{[n]:{uuid:n,resolvedAt:o?new Date:null}}},a):(0,c.w3)().optimisticallyUpdate({Comment:{[r]:{resolvedAt:o?new Date:null}}},a),(0,i.we)("Livegraph Optimistic Comment Update",{flow:"setResolved",isOptimistic:!!n})}}),K=(0,E.M0)((e,{thread:{key:t,id:r,uuid:n},clientMeta:o})=>{let l;n&&(0,a.ay)(r)?(l=(0,c.w3)().getIdFromUuid("Comment",n).then(e=>m.cp.put(`/api/file/${t}/comments/${e}`,{client_meta:o})),(0,i.we)("Livegraph Optimistic Comment Update",{flow:"setClientMetaWithGetIdFromUUID",isOptimistic:!0})):(l=m.cp.put(`/api/file/${t}/comments/${r}`,{client_meta:o}),(0,i.we)("Livegraph Optimistic Comment Update",{flow:"setClientMeta",isOptimistic:!!n}));let s=(0,g.t)("comments.an_error_occurred_while_moving_this_comment");e.dispatch((0,_.S)({promise:l,fallbackError:s})),n?(0,c.w3)().optimisticallyUpdateWithUUID({Comment:{[n]:{uuid:n,clientMeta:{x:o.x,y:o.y,pageId:void 0===o.page_id?null:o.page_id,nodeId:void 0===o.node_id?null:o.node_id,nodeOffset:void 0===o.node_offset?null:o.node_offset,inFrame:void 0===o.in_frame?null:o.in_frame,selectionBoxAnchor:o.selection_box_anchor?o.selection_box_anchor:null,stablePath:o.stable_path?o.stable_path:null}}}},l):(0,c.w3)().optimisticallyUpdate({Comment:{[r]:{clientMeta:{x:o.x,y:o.y,pageId:void 0===o.page_id?null:o.page_id,nodeId:void 0===o.node_id?null:o.node_id,nodeOffset:void 0===o.node_offset?null:o.node_offset,inFrame:void 0===o.in_frame?null:o.in_frame,selectionBoxAnchor:o.selection_box_anchor?o.selection_box_anchor:null,stablePath:o.stable_path?o.stable_path:null}}}},l)}),Y=(0,E.eg)("COMMENTS_SET_COMMENT_CONTENT",(e,t)=>{let r=t.comment.key;if(!r||(0,a.z6)(t.messageMeta))return;let n=(0,a.kz)(t.messageMeta),o=m.cp.put(`/api/file/${r}/comments/${t.comment.id}`,{message_meta:t.messageMeta,attachment_updates:(0,A.An)(t.attachmentUpdates),share_to_mentions:t.forceWithInvite||!1,force:t.forceMention||!1,pending_mentions:n}).then(({data:t})=>{var r;(null==(r=t.message)?void 0:r.warning_message)&&0!==t.message.warning_message.length&&e.dispatch(f.A.enqueue({type:"at-mention-error",message:t.message.warning_message}))}).catch(e=>{var r,n,i,a;let o=null==(n=null==(r=e.data)?void 0:r.reason)?void 0:n.failure_info;(null==(a=null==(i=e.data)?void 0:i.reason)?void 0:a.reason)!=="comment_validation_failure"||void 0===o||!t.onCommentValidationFailure||t.forceMention||t.forceWithInvite||t.onCommentValidationFailure(o.users_without_view,o.ext_users_without_view,o.uninvitable_users,{comment:t.comment,messageMeta:t.messageMeta})}),l=(0,g.t)("comments.an_error_occurred_while_editing_this_comment");e.dispatch((0,_.S)({promise:o,fallbackError:l}));let s=t.comment.uuid,d=(0,a.mk)(t.messageMeta);if(s?(0,c.w3)().optimisticallyUpdateWithUUID({Comment:{[s]:{uuid:s,messageMeta:d,messageMetaStylized:d}}},o):(0,c.w3)().optimisticallyUpdate({Comment:{[t.comment.id]:{messageMeta:d,messageMetaStylized:d}}},o),(0,i.we)("Livegraph Optimistic Comment Update",{flow:"updateCommentContent",isOptimistic:!!s}),t.attachmentUpdates){let e=(0,I.us)(t.attachmentUpdates.deleted);(0,c.w3)().optimisticallyDelete({CommentAttachment:e},o);let r=(0,I.wp)(Object.values(t.attachmentUpdates.attachments),t.comment.key,t.comment.id);(0,c.w3)().optimisticallyCreate({CommentAttachment:r},o)}}),q=(0,E.M0)(async(e,t)=>{var r,n,a;let o=e.dispatch(j(t));if(!o||t.thread.isPendingFromSinatra)return;let l=t.thread.comments[0];if(!l)return;let s=e.getState(),c=null==(r=l.client_meta)?void 0:r.node_id,d=(null==(n=l.client_meta)?void 0:n.stable_path)?l.client_meta.stable_path:h.o7;!d&&c&&(d=[c]);let u=t.thread.id,p=t.source;(null==(a=l.client_meta)?void 0:a.page_id)&&"communityHub"===s.selectedView.view&&(u!==s.selectedView.commentThreadId&&e.dispatch(y.Ej({...s.selectedView,commentThreadId:u})),s.selectedView.commentThreadId&&(0,i.we)("Comment Thread Read",{commentThreadId:u,threadType:"community_preview"})),await o,e.dispatch(eo({threadId:u,source:p})),t.thread.comments.some(e=>e.isUnread)&&t.receiptsAPI&&!t.thread.isPendingFromSinatra&&!t.thread.isCanvasMention&&(e.dispatch(B({receiptsAPI:t.receiptsAPI,thread:t.thread})),(0,i.we)("Comment Thread Read",{commentThreadId:u})),"fullscreen"===s.selectedView.view&&S.i46.setActiveCommentAnchorData({stablePath:`[${d.join(",")}]`})}),j=(0,E.M0)((e,t)=>{var r,n,i,a;let o=e.getState();if(o.comments.activeThread&&o.comments.activeThread.id!==t.thread.id&&!t.skipDeactivatingExistingActiveComment&&!e.dispatch(X()))return null;o=e.getState();let{thread:l,viewport:s,config:c,navigate:d,isOrphanedComment:u}=t,{setCurrentPageIdAsync:m,pageIdForNodeId:_}=s;if(!s.getViewportInfo())return null;let h=l.comments[0];if(!h)return null;let g=null==(r=h.client_meta)?void 0:r.node_id,f=l.page||g&&_(g)||(null==(n=h.client_meta)?void 0:n.page_id),E=[],y=null==(a=null==(i=o.mirror)?void 0:i.appModel)?void 0:a.currentPage,b=!1;f&&(b=y!==f,E.push(m(f).then(async()=>{b&&await (0,p.E1)()})));let v=o.mirror.appModel.currentTool===S.w3X.COMMENTS;if(!u&&c.repositionViewportOnCommentSelection){let e=d((0,w.E)(l,s,o.selectedView,b,v),{jump:b,jumpOnAbort:!0});e&&E.push(e)}return Promise.all(E).then()}),$=(0,E.M0)((e,t)=>{var r;(null==(r=e.getState().comments.activeThread)?void 0:r.id)===t.thread.id?e.dispatch(X()):(t.skipDeactivatingExistingActiveComment||e.dispatch(X()),e.dispatch(q(t)),s.qM.set(O.P,!1))}),Z=(0,n.A)("COMMENTS_STOP_EDITING"),z=(0,E.eg)("COMMENTS_SUBMIT_REPLY",(e,t)=>{let r=e.getState(),{commentsWriteApi:n,commentsConfiguration:i}=t,a=r.comments.threads[t.threadId],[o,s]=n.reply({threadId:t.threadId,threadUuid:t.threadUuid,uuid:t.uuid,messageMeta:a.reply.messageMeta,attachments:Object.values(a.reply.attachments||{})},{forceMention:t.forceMention||!1,forceWithInvite:t.forceWithInvite||!1,prototypeMode:"prototype"===r.selectedView.view});(0,l.Ub)().comments_faster_saving_ux&&!(0,l.Ub)().comments_faster_saving_ux_v2&&e.dispatch(eO({commentUuid:t.uuid})),e.dispatch(eT({threadId:t.threadId,reply:{messageMeta:[],attachments:{}}})),o.then(t=>{var n;if(!t)return;let{data:a}=t;if((null==(n=a.message)?void 0:n.warning_message)&&0!==a.message.warning_message.length&&e.dispatch(f.A.enqueue({type:"at-mention-error",message:a.message.warning_message})),a.message&&a.message.is_new_file_follower){let t=i.showNotificationSettings?{text:(0,g.t)("comments.manage"),action:()=>{let t=e.getState();e.dispatch(X()),t.mirror.appModel.showUi||T.CA.triggerAction("toggle-ui"),t.mirror.appModel.currentTool!==S.w3X.COMMENTS&&T.CA.triggerAction("set-tool-comments"),requestAnimationFrame(()=>{e.dispatch(y.Qn({type:N.a}))})}}:void 0;e.dispatch(f.A.enqueue({message:(0,g.t)("comments.you_will_be_notified_about_replies"),type:"comments-opted-in",button:t,onDismiss:()=>{}}))}let o=a.meta;e.dispatch(eM({comment:o,userInitiated:!1})),v.s5("Comment Submitted",o.key,r,{commentId:o.id,parentCommentId:o.id,selectedView:r.selectedView.view}),(0,l.Ub)().comments_faster_saving_ux_v2&&o.id&&o.uuid&&e.dispatch(eL({commentId:o.id,commentUuid:o.uuid})),e.getState().userFlags.has_created_comment||e.dispatch(k.s({has_created_comment:!0}))}).catch(r=>{var n,i,o,l;let s=null==(i=null==(n=r.data)?void 0:n.reason)?void 0:i.failure_info;if((null==(l=null==(o=r.data)?void 0:o.reason)?void 0:l.reason)!=="comment_validation_failure"||void 0===s||!t.onCommentValidationFailure||t.forceMention||t.forceWithInvite){let n=(0,g.ID)(r,(0,g.t)("comments.an_error_occurred"));e.dispatch(_.M.error(n)),e.dispatch(eE({threadId:t.threadId,resetStatusOnly:!0})),e.dispatch(eT({threadId:t.threadId,reply:a.reply}));return}t.onCommentValidationFailure(s.users_without_view,s.ext_users_without_view,s.uninvitable_users,{threadId:t.threadId,messageMeta:a.reply.messageMeta,attachments:a.reply.attachments})}).finally(()=>{(0,l.Ub)().comments_faster_saving_ux&&!(0,l.Ub)().comments_faster_saving_ux_v2&&e.dispatch(eN({commentUuid:t.uuid}))})}),Q=(0,E.eg)("COMMENTS_SUBMIT_NEW_COMMENT",(e,t)=>{(0,i.we)("New comment starting dispatched action",{uuid:t.uuid});let r=e.getState(),n=(0,C.CA)(r.selectedView);if(!n)return Promise.resolve();let a=t.newCommentState||r.comments.newComment,{canvasPosition:o,nodeId:s,nodeOffset:c,inFrame:d,pageId:u,viewport:p,stablePath:m}=t.destination,_=a.selectionBoxAnchor?a.selectionBoxAnchor:void 0;e.dispatch(X({force:!0})),e.dispatch(ef({resetStatusOnly:!1}));let{messageMeta:h,attachments:E}=a;(0,i.we)("New comment creating promise",{uuid:t.uuid});let[b,I]=t.commentsWriteApi.create({fileKey:n,messageMeta:h,attachments:Object.values(E),pageId:u,uuid:t.uuid,clientMeta:{x:o.x,y:o.y,node_id:s,node_offset:c,page_id:u,viewport:p,in_frame:d,selection_box_anchor:_,stable_path:m}},{prototypeMode:"prototype"===r.selectedView.view,onValidationError:async(t,r,n)=>{if(await x(a.messageMeta,e.dispatch,t,r,n))return{forceMentions:!0,forceWithInvite:!0};if(0!==e.getState().comments.newComment.messageMeta.length){e.dispatch(ef({resetStatusOnly:!0}));let t={text:(0,g.t)("comments.view"),action(t,r){var n;if((null==(n=e.getState().comments.activeThread)?void 0:n.id)===A.Os&&e.getState().comments.newComment.messageMeta.length>0)return e.dispatch(em()),e.dispatch(f.A.update({id:r,message:(0,g.t)("comments.finish_or_clear_your_active_comment_then_hit_view")})),!1;e.dispatch(eg(a)),e.dispatch(J())}};e.dispatch(f.A.enqueue({type:`comment-creation-failure: ${I}`,error:!1,message:(0,g.t)("comments.oops_one_of_your_comments_never_posted"),onDismiss:()=>{},button:t,timeoutOverride:1/0}));return}e.dispatch(eg(a)),e.dispatch(J()),e.dispatch(em())}});return(0,l.Ub)().comments_faster_saving_ux&&!(0,l.Ub)().comments_faster_saving_ux_v2&&e.dispatch(eO({commentUuid:t.uuid})),b.then(d=>{var p;if((0,i.we)("New comment promise resolved",{uuid:t.uuid}),!d)return;let{data:_}=d;if((0,C.CA)(e.getState().selectedView)!==n)return;if((null==(p=_.message)?void 0:p.warning_message)&&0!==_.message.warning_message.length&&e.dispatch(f.A.enqueue({type:"at-mention-error",message:_.message.warning_message})),_.message&&_.message.is_new_file_follower){let r=t.commentsConfiguration.showNotificationSettings?{text:(0,g.t)("comments.manage"),action:()=>{let t=e.getState();e.dispatch(X({force:!0})),t.mirror.appModel.showUi||T.CA.triggerAction("toggle-ui"),t.mirror.appModel.currentTool!==S.w3X.COMMENTS&&T.CA.triggerAction("set-tool-comments"),requestAnimationFrame(()=>{e.dispatch(y.Qn({type:N.a}))})}}:void 0;e.dispatch(f.A.enqueue({message:(0,g.t)("comments.you_will_be_notified_about_replies"),type:"comments-opted-in",button:r,onDismiss:()=>{}}))}let h=_.meta,E=e.getState().comments.newComment!==a;e.dispatch(ef({resetStatusOnly:E})),(0,l.Ub)().comments_faster_saving_ux_v2&&h.id&&h.uuid&&e.dispatch(eL({commentId:h.id,commentUuid:h.uuid})),v.s5("Comment Submitted",n,r,{commentId:h.id,locationX:o&&o.x,locationY:o&&o.y,nodeId:s,pageId:u,nodeOffsetX:c&&c.x,nodeOffsetY:c&&c.y,selectedView:r.selectedView.view,stablePath:m}),e.getState().userFlags.has_created_comment||e.dispatch(k.s({has_created_comment:!0})),e.dispatch((0,P._K)({lastCreatedCommentId:h.id}))}).catch(r=>{var n,o,l;if(e.dispatch(ef({resetStatusOnly:!0})),!((null==(n=null==r?void 0:r.data)?void 0:n.status)>=400&&(null==(o=null==r?void 0:r.data)?void 0:o.status)<500&&(null==(l=null==r?void 0:r.data)?void 0:l.message)))return e.dispatch(f.A.enqueue({type:`comment-creation-failure: ${I}`,message:(0,g.t)("comments.couldn_t_post_your_comment"),error:!0,button:{text:(0,g.t)("comments.retry"),action(){(0,i.we)("New comment dispatching retry submission",{uuid:t.uuid}),e.dispatch(Q({...t,newCommentState:a}))}}}));{let t=(0,g.ID)(r);if(t)return e.dispatch(f.A.enqueue({type:`comment-creation-failure: ${I}`,message:t,error:!0}))}}).finally(()=>{(0,l.Ub)().comments_faster_saving_ux&&!(0,l.Ub)().comments_faster_saving_ux_v2&&e.dispatch(eN({commentUuid:t.uuid}))})}),X=(0,E.M0)((e,t)=>{var r;let n=e.getState(),i=t instanceof Object&&t.force,{newComment:o}=n.comments,l=null==(r=n.comments.activeThread)?void 0:r.id,s=(0,a.aM)(o.messageMeta)&&0===Object.keys(o.attachments).length;if(!i&&l===A.Os&&!s&&o.discardAttempt<1)return e.dispatch(em()),!1;let c=l&&n.comments.threads[l],d=c&&(0,a.aM)(c.reply.messageMeta)&&0===Object.keys(c.reply.attachments||{}).length;if(!i&&l&&c&&!d&&(!c.discardAttempts||c.discardAttempts<1))return e.dispatch(ep(l)),!1;let u=n.comments.editingComment;return!i&&u?(e.dispatch(ep(u.id)),!1):("fullscreen"===n.selectedView.view&&S.i46.setActiveCommentAnchorData({stablePath:h.mA}),"communityHub"===n.selectedView.view&&e.dispatch(y.Ej({...n.selectedView,commentThreadId:void 0})),e.dispatch(ek()),e.dispatch(eD()),e.dispatch(ef({resetStatusOnly:!1})),n.tooltip&&e.dispatch(M.WS()),!0)}),J=(0,E.eg)("COMMENTS_SET_NEW_COMMENT_ACTIVE",(e,t)=>{let r=e.getState();if("fullscreen"===r.selectedView.view){if(r.comments.newComment.anchorPosition){let{x:e,y:n}=r.comments.newComment.anchorPosition,i=null==t?void 0:t.stablePath;i?S.i46.setActiveCommentAnchorData({stablePath:`[${i.join(",")}]`}):S.i46.setActiveCommentAnchorData(S.i46.getCommentAnchorDataAtPosition(e,n))}else S.i46.setActiveCommentAnchorData({stablePath:h.mA})}}),ee=(0,E.eg)("COMMENTS_SET_NEW_SELECTION_BOX_ANCHOR_POSITION",e=>{e.getState().userFlags.has_created_selection_comment||e.dispatch(k.s({has_created_selection_comment:!0}))}),et=(0,E.eg)("COMMENTS_SET_NEW_ANCHOR_POSITION",(e,t)=>{if("fullscreen"===e.getState().selectedView.view){let{x:e,y:r}=t.anchorPosition;S.i46.setActiveCommentAnchorData(S.i46.getCommentAnchorDataAtPosition(e,r))}}),er=(0,n.A)("COMMENTS_REMOVE_HOVERED_PIN"),en=(0,n.A)("COMMENTS_ADD_HOVERED_PIN"),ei=(0,n.A)("COMMENTS_REMOVE_EMPHASIZED_PIN"),ea=(0,n.A)("COMMENTS_ADD_EMPHASIZED_PIN"),eo=(0,n.A)("COMMENTS_SET_ACTIVE"),el=(0,E.M0)(e=>{var t,r;let n=e.getState(),a=n.selectedView;"subView"in a&&("hubFile"===a.subView||"plugin"===a.subView)&&(0,i.we)("at_mention_search_started",{comment_type:(null==(t=n.comments.activeThread)?void 0:t.id)?"community_pinned":"community_general",profile_id:null==(r=n.user)?void 0:r.community_profile_id,resource_id:"hubFile"===a.subView?a.hubFileId:a.publishedPluginId,resource_type:"hubFile"===a.subView?"hub_file":"plugin"})}),es=(0,n.A)("COMMENTS_SET_TYPEAHEAD_POSITION_OFFSET"),ec=(0,n.A)("COMMENTS_SET_TYPEAHEAD"),ed=(0,n.A)("COMMENTS_SHOW_EMOJI_PICKER"),eu=(0,n.A)("COMMENTS_SET_ACTIVE_SORT"),ep=(0,E.eg)("COMMENTS_DISCARD_COMMENT_REPLY_ATTEMPT",e=>{var t;let r=e.getState().comments,n=null==(t=r.activeThread)?void 0:t.id,i=n&&r.threads[n];if(i&&i.discardAttempts===a.as){let e=(0,a.IF)(i.reply.messageMeta),t=(0,a.aM)(i.reply.messageMeta);(0,u.Ij)("Comment discard active thread attempt","comment info",{threadId:n,messageLength:e.length,isMessageDiscardable:t}),(0,u.CQ)("isMessageDiscardable",String(t)),(0,u.CQ)("messageType","reply"),(0,u.GE)("User attempted to close comments more than max attempt times")}}),em=(0,E.eg)("COMMENTS_DISCARD_NEW_COMMENT_ATTEMPT",e=>{let t=e.getState().comments.newComment;if(t.discardAttempt===a.as){let e=(0,a.IF)(t.messageMeta),r=(0,a.aM)(t.messageMeta);(0,u.Ij)("Comment discard new comment attempt","comment info",{messageLength:e.length,isMessageDiscardable:r}),(0,u.CQ)("isMessageDiscardable",String(r)),(0,u.CQ)("messageType","new"),(0,u.GE)("User attempted to close comments more than max attempt times")}}),e_=(0,n.A)("COMMENTS_SET_SHOW_ONLY_MY_COMMENTS"),eh=(0,n.A)("COMMENTS_SET_SHOW_RESOLVED_COMMENTS"),eg=(0,n.A)("COMMENTS_REVERT_NEW_COMMENT"),ef=(0,n.A)("COMMENTS_RESET_NEW_COMMENT"),eE=(0,n.A)("COMMENTS_RESET_THREAD"),ey=(0,n.A)("COMMENTS_SET_NEW_COMMENT_ATTACHMENT"),eb=(0,n.A)("COMMENTS_SET_NEW_COMMENT_MESSAGE"),ev=(0,n.A)("COMMENTS_SET_NEW_COMMENT"),eI=(0,n.A)("COMMENTS_SET_REPLY_ATTACHMENT"),ew=(0,n.A)("COMMENTS_SET_REPLY_MESSAGE"),eT=(0,n.A)("COMMENTS_SET_REPLY"),eS=(0,n.A)("COMMENTS_SET_EDITING_ATTACHMENT"),eC=(0,n.A)("COMMENTS_SET_EDITING"),eA=(0,n.A)("COMMENTS_SET_ACTIVE_DRAG_TARGET"),eO=(0,n.A)("COMMENTS_SET_SAVING"),eN=(0,n.A)("COMMENTS_CLEAR_SAVING"),eL=(0,n.A)("COMMENTS_STORE_SERVER_ID_FOR_LG_PENDING_UUID"),eR=(0,n.A)("COMMENTS_CLEAR_LG_PENDING_UUID"),eP=(0,n.A)("COMMENTS_DEL"),eM=(0,E.eg)("COMMENTS_POST",(e,t)=>{let r=e.dispatch,n=e.getState(),{comment:i}=t;if(n.user&&n.user.id===i.user_id&&!t.userInitiated){if(i.parent_id){let e=n.comments.threads[i.parent_id];if(e&&e.state===A.y.BUSY){let n=!function(e,t){if(!e)return!t;if(!t)return!e;if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++){let n=e[r],i=t[r],a=new Set(Object.keys(n)),o=Object.keys(i);if(a.size!==o.length||!o.every(e=>!!a.has(e)&&n[e]===i[e]))return!1}return!0}(t.comment.message_meta,e.reply.messageMeta);r(eE({threadId:i.parent_id,resetStatusOnly:n}))}}else{let e=n.comments.newComment;e&&e.state===A.y.BUSY&&r(X({force:!0})),r(ef({resetStatusOnly:!1}))}}}),ek=(0,n.A)("COMMENTS_RESET"),eD=(0,n.A)("COMMENTS_RESET_ACTIVE_ID")},499512:(e,t,r)=>{"use strict";r.d(t,{Kg:()=>d,iA:()=>s,lL:()=>c});var n=r(60452),i=r(876760),a=r(886872),o=r(94008),l=r(268984);let s=(0,n.A)("COMMUNITY_SET_CATEGORIES_FOR_CATEGORY_TYPE"),c=(0,l.eg)("COMMUNITY_FETCH_CATEGORIES_FOR_CATEGORY_TYPE",(e,{categoryType:t,limit:r},{loadingKey:n})=>{let i=o._.getAll({categoryType:t,limitCategoryContent:r});(0,a.o)(i,e,n),i.then(({data:r})=>{let n=r.meta;e.dispatch(s({categoryType:t,categories:n}))})},({categoryType:e,limit:t})=>`COMMUNITY_FETCH_CATEGORIES_FOR_category_TYPE_${e}_${t}`),d=i.qO.Query({fetch:async e=>(await o._.getAllV2()).data.meta})},913368:(e,t,r)=>{"use strict";r.d(t,{Ar:()=>J,Co:()=>Q,EF:()=>x,GY:()=>ee,Ke:()=>en,O_:()=>z,QX:()=>F,Se:()=>ei,Sw:()=>q,UV:()=>ea,WA:()=>G,Y3:()=>K,YV:()=>D,Yj:()=>V,_U:()=>eo,_j:()=>k,c3:()=>X,eW:()=>B,eo:()=>W,gL:()=>et,kB:()=>M,kr:()=>P,mY:()=>H,op:()=>U,q4:()=>Y,q6:()=>Z,sF:()=>er,sh:()=>$});var n=r(60452),i=r(250008),a=r(340040),o=r(557044),l=r(967540),s=r(560072),c=r(850360),d=r(317704),u=r(693400),p=r(699768),m=r(268984),_=r(403132),h=r(660352),g=r(762580),f=r(417184),E=r(194540),y=r(291336),b=r(886872),v=r(13468),I=r(322128),w=r(338948),T=r(778112),S=r(640140),C=r(141796),A=r(82972),O=r(678516),N=r(21156),L=r(46604),R=r(435780);let P=(0,n.A)("COMMUNITY_HUB_SHOW_ADMIN_PROFILE_BANNER"),M=(0,n.A)("COMMUNITY_HUB_HIDE_ADMIN_PROFILE_BANNER"),k=c.setAuthedActiveCommunityProfile,D=(0,m.M0)((e,t)=>{var r;let n;let{user:a,authedUsers:o,orgUsersByOrgId:l,authedTeamsById:c,teamAdminRolesForAuthedUsers:m,authedProfilesById:h,selectedView:g,currentUserOrgId:E}=e.getState(),b=t.profileId?h[t.profileId]:null,v=t.view&&(!b||(0,f.Yl)(b,t.view))?t.view:{view:"communityHub",subView:"searchAndBrowse",data:p.o5};if(!b){e.dispatch(d.A.enqueue({message:(0,s.t)("community.actions.profile_not_found"),type:"COMMUNITY_PROFILE_ERROR"})),(0,u.iE)(v),e.dispatch(_.Ej(v));return}let w=E;if(b.org_id){w=b.org_id;let e=l.orgUsers[b.org_id];n=Object.keys(o.byId).find(t=>{let r=e[t];if(r&&(0,y.Gc)(r.permission)>=S.I$.ADMIN)return r.user_id})}else b.team_id?(w=(null==(r=c[b.team_id])?void 0:r.org_id)||null,n=Object.keys(o.byId).find(e=>{var t;let r=m[e];return null==(t=null==r?void 0:r.find(e=>e.team_id===b.team_id))?void 0:t.user_id})):n=b.primary_user_id===(null==a?void 0:a.id)?null==a?void 0:a.id:o.orderedIds.find(e=>{var t,r;return null==(r=null==(t=b.associated_users)?void 0:t.find(t=>t.user_id===e))?void 0:r.user_id});if((0,I.eg)(b.id),(0,i.we)("Community profile IA switched",{profileId:b.id,view:g.view}),e.dispatch(k(b)),e.dispatch(P()),n&&(n!==(null==a?void 0:a.id)||E!==w)){let t={userId:n,orgId:w};e.dispatch(L.kH({workspace:t,view:v}))}else(0,u.iE)(v),e.dispatch(_.Ej(v))}),F=(0,n.A)("COMMUNITY_HUB_ADD_FOLLOW"),x=(0,n.A)("COMMUNITY_HUB_DELETE_FOLLOW"),U=(0,n.A)("COMMUNITY_HUB_SAVE_PAGE_STATE"),B=(0,n.A)("COMMUNITY_HUB_RESET_COMMENT_STATE"),G=(0,n.A)("COMMUNITY_HUB_SET_COMMENTS"),V=(0,n.A)("COMMUNITY_HUB_SET_COMMENTS_ACTIVE_FEED_TYPE"),H=(0,n.A)("COMMUNITY_HUB_SET_COMMENT_REPLIES"),W=(0,n.A)("COMMUNITY_HUB_ADD_NEW_COMMENTS_QUEUE"),K=(0,n.A)("COMMUNITY_HUB_REMOVE_FROM_NEW_COMMENTS_QUEUE"),Y=(0,n.A)("COMMUNITY_HUB_FLUSH_NEW_COMMENTS_QUEUE"),q=(0,n.A)("COMMENTS_INSERT_COMMUNITY_MENTION"),j=(e,t)=>{let r=/\?/.test(e)?"&":"?";return e+`${r}${t}`},$=(0,m.M0)((e,t)=>{var r;if(!(0,a.uE)(t))return;let n=`/api/${(0,f.sr)(t.resourceType)}/${t.resourceId}/comments`;!t.selectedCommentId||t.selectedCommentId===w.Os||(null==(r=t.pagination)?void 0:r.selected_comment)||(n=j(n,`selected_comment_id=${t.selectedCommentId}`)),t.activeFeedType===T.ak.ME&&(n=j(n,`feed_type=${t.activeFeedType}`),void 0===t.numCommentsForResource&&(n=j(n,"include_total_count=true"))),(0,a.Oi)(n,t.pageSizeOverride??a.SC,t,a.sh).then(e=>{let r=!e.selected_comment||e.comments.find(t=>{var r;return t.id===(null==(r=e.selected_comment)?void 0:r.id)}),{commentsById:n,authorsById:i,feed:a}=(0,f.gX)(r?e.comments:[...e.comments,e.selected_comment]),o=e.pagination;e.selected_comment&&(o.selected_comment=e.selected_comment);let l={...e,pagination:e.pagination,totalNumberOfComments:e.total_count,commentsById:n,authorsById:i,feed:a,activeFeedType:t.activeFeedType,type:t.resourceType,id:t.resourceId,mentionedProfiles:e.mentioned_profiles};e.selected_comment&&(l.selectedCommentId=e.selected_comment.id),t.onSuccess&&t.onSuccess(l)}).catch(r=>{e.dispatch(l.M.error((0,s.t)("community.actions.unable_to_fetch_comments"))),t.onError&&t.onError()})}),Z=(0,m.eg)("COMMUNITY_HUB_RESTRICT_PROFILE",(e,{profileId:t,blockedProfileId:r,onSuccess:n})=>{o.cp.post(`/api/profile/${r}/block`,{block_type:"restrict",profile_id:t}).then(()=>{n&&n()}).catch(t=>{let r=(0,s.ID)(t);r&&e.dispatch(d.A.enqueue({message:(0,s.t)("community.actions.couldnt_restrict_profile_error",{error:r}),type:"RESTRICT_PROFILE_ERROR"}))})}),z=(0,m.eg)("COMMUNITY_HUB_UNRESTRICT_PROFILE",(e,{profileId:t,blockedProfileId:r,onSuccess:n})=>{o.cp.del(`/api/profile/${r}/block`,{block_type:"restrict",profile_id:t}).then(()=>{n&&n()}).catch(t=>{let r=(0,s.ID)(t);r&&e.dispatch(d.A.enqueue({message:(0,s.t)("community.actions.couldnt_unrestrict_profile_error",{error:r}),type:"UNRESTRICT_PROFILE_ERROR"}))})}),Q=(0,m.eg)("COMMUNITY_HUB_SET_COMMENT_STATE",(e,t)=>{let{id:r,type:n}=t;(r!==e.getState().communityHub.comments.id||n!==e.getState().communityHub.comments.type)&&e.dispatch(B()),e.dispatch(G(t))});(0,m.M0)((e,{profileId:t,on404Redirect:r},{loadingKey:n})=>{let i=C.G.getProfile({profileId:t});(0,b.o)(i,e,n),i.then(({data:t})=>{e.dispatch(R.SI(t.meta.profile)),e.dispatch(_.Ej(e.getState().selectedView))}).catch(t=>(404===t.status&&r?r():e.dispatch(l.M.error((0,s.t)("community.actions.error_fetching_profile_information"))),null))});let X=(0,m.eg)("COMMUNITY_HUB_GET_PROFILE_BY_HANDLE",(e,{handle:t,on404Redirect:r},{loadingKey:n})=>{let i=e.getState().currentUserOrgId,a=C.G.getHandle({currentOrgId:i||void 0,handle:t});(0,b.o)(a,e,n),a.then(({data:t})=>{e.dispatch(R.SI(t.meta.profile))}).catch(({data:t})=>{(null==t?void 0:t.status)===404&&r&&r(),e.dispatch(l.M.error((0,s.t)("community.actions.error_fetching_profile_information")))})},({handle:e})=>`COMMUNITY_HUB_GET_PROFILE_BY_HANDLE_${e}`),J=(0,m.eg)("COMMUNITY_HUB_CREATE_PROFILE",(e,t,{loadingKey:r})=>{let{website:n,description:i,location:a,profileHandle:c,onSuccess:d,userId:u,teamId:p,orgId:m}=t,_=o.cp.post("/api/profile",{website:n,description:i,location:a,profile_handle:c,primary_user_id:u,team_id:p,org_id:m});(0,b.o)(_,e,r),_.then(({data:t})=>{e.dispatch(R.g7(t.meta)),e.dispatch(R.SI(t.meta));let{currentUserOrgId:r,orgById:n}=e.getState(),i=r&&n[r];r&&i&&r===m&&e.dispatch(g.IV({id:r,community_profile_handle:t.meta.profile_handle,community_profile_id:t.meta.id})),d&&d(e)}).catch(t=>{let r=(0,s.ID)(t);r&&e.dispatch(l.M.error(r))})},({userId:e})=>`COMMUNITY_HUB_CREATE_PROFILE_${e}`),ee=(0,m.M0)((e,t)=>{o.cp.post("/api/profile/generate_handle").then(({data:r})=>{e.dispatch(R.g7(r.meta)),e.dispatch(R.SI(r.meta)),t.onSuccess&&t.onSuccess(e)}).catch(({data:t})=>{e.dispatch(l.M.error(t.message))})}),et=(0,m.eg)("COMMUNITY_HUB_UPDATE_PROFILE",(e,t,{loadingKey:r})=>{var n;let{website:i,twitter:a,instagram:c,pronouns:p,description:m,location:h,profileId:E,profileHandle:y,onSuccess:v}=t,I=e.getState().communityHub.currentProfile;if(E===(null==I?void 0:I.id)&&Object.entries(t).every(([e,t])=>void 0===t||e in I&&I[e]===t))return;let w=null==a?void 0:a.trim(),T=null==c?void 0:c.trim();if(w&&(null==I?void 0:I.twitter)!==w&&!u.mG.test(w)){e.dispatch(d.A.enqueue({message:(0,s.t)("community.actions.your_twitter_handle_is_not_valid",{handle:w}),error:!0}));return}if(T&&(null==I?void 0:I.instagram)!==T&&!u.mK.test(T)){e.dispatch(d.A.enqueue({message:(0,s.t)("community.actions.your_instagram_handle_is_not_valid",{handle:T}),error:!0}));return}let S=o.cp.put(`/api/profile/${E}`,{website:i,twitter:w,instagram:T,pronouns:p,description:m,location:h,profile_handle:y});(0,b.o)(S,e,r);let C=null==(n=e.getState().user)?void 0:n.community_profile_handle;S.then(({data:r})=>{var n;let{communityHub:i,currentUserOrgId:a,orgById:o}=e.getState();(null==(n=i.currentProfile)?void 0:n.id)===r.meta.id&&e.dispatch(R.SI(r.meta));let l=o[a];if(l&&"string"==typeof l.id&&l.id===r.meta.org_id&&e.dispatch(g.IV({id:r.meta.org_id,community_profile_handle:r.meta.profile_handle})),y){let t=e.getState().selectedView;(0,f.O8)(t)&&(null==t?void 0:t.handle)===C&&e.dispatch(_.Ej({view:"communityHub",subView:"handle",handle:y})),r.meta.primary_user_id?e.dispatch(d.A.enqueue({message:(0,s.t)("community.actions.your_profile_handle_was_set_to_profile_handle",{profileHandle:y}),type:"profile-handle"})):r.meta.team_id?e.dispatch(d.A.enqueue({message:(0,s.t)("community.actions.your_team_s_handle_was_set_to_profile_handle",{profileHandle:y}),type:"team-handle"})):r.meta.org_id&&e.dispatch(d.A.enqueue({message:(0,s.t)("community.actions.your_organization_s_handle_was_set_to_profile_handle",{profileHandle:y}),type:"org-handle"}))}["twitter","location","instagram","website","description"].forEach(n=>{if(n in r.meta&&n in t){let t={twitter:(0,s.t)("community.actions.your_twitter_handle_was_updated"),location:(0,s.t)("community.actions.your_location_was_updated"),instagram:(0,s.t)("community.actions.your_instagram_handle_was_updated"),website:(0,s.t)("community.actions.your_website_url_was_updated"),description:(0,s.t)("community.actions.your_description_was_updated")};e.dispatch(d.A.enqueue({message:t[n],type:"profile-updated"}))}}),v&&v(e)}).catch(t=>{let r=(0,s.ID)(t);r&&e.dispatch(l.M.error(r))})},({profileId:e})=>`COMMUNITY_HUB_UPDATE_PROFILE_${e}`),er=(0,m.M0)((e,t,{loadingKey:r})=>{let{profileId:n,handle:i}=t;o.cp.del(`/api/profile/${n}`).then(()=>{e.dispatch(R.aI(i));let{currentUserOrgId:t,orgById:r}=e.getState(),a=t&&r[t];t&&a&&a.community_profile_id===n&&e.dispatch(g.IV({id:t,community_profile_handle:void 0,community_profile_id:void 0})),e.dispatch(d.A.enqueue({message:(0,s.t)("community.actions.profile_deleted")}))}).catch(()=>{e.dispatch(l.M.error((0,s.t)("community.actions.unable_to_delete_profile_please_try_again_later")))})}),en=(0,m.eg)("COMMUNITY_HUB_UPLOAD_PROFILE_COVER_IMAGE",async(e,{file:t,profileId:r,onSuccessCallback:n},{loadingKey:i})=>{let a=(0,E.G_)(t).then(e=>(function(e,t,r,n){return t?o.cp.post(e).then(({data:e})=>e.meta).then(async({cover_image_path:e,signature:t,fields:r})=>{let i=new FormData;return r&&Object.entries(r).forEach(([e,t])=>i.append(e,t)),i.set("content-type",n.type),i.append("file",n),await fetch(e,{method:"POST",body:i}),{cover_image_path:e,signature:t}}):Promise.resolve({cover_image_path:"",signature:""})})(`/api/profile/${r}/upload`,e,t.type,t));(0,b.o)(a,e,i),await a.then(({signature:e})=>o.cp.put(`/api/profile/${r}`,{signature:e})).then(({data:t})=>{e.dispatch(R.SI(t.meta)),n()}).catch(t=>{e.dispatch(l.M.error(t?(0,s.t)("community.actions.an_error_occurred_with_error",{error:t}):(0,s.t)("community.actions.an_error_occurred")))})},({profileId:e})=>`COMMUNITY_HUB_UPLOAD_PROFILE_COVER_IMAGE_${e}`),ei=(0,m.eg)("COMMUNTY_HUB_FOLLOW_ENTITY",async(e,t,{loadingKey:r})=>{let n=o.cp.put("/api/follows",{followed_profile_id:t});(0,b.o)(n,e,r),await n.then(({data:r})=>{var n,i;(null==(n=e.getState().user)?void 0:n.community_profile_id)&&(e.dispatch(F({followedProfileId:t,currentUserProfileId:null==(i=e.getState().user)?void 0:i.community_profile_id})),e.dispatch(d.A.enqueue({message:(0,s.t)("community.actions.followed_profile_name",{profileName:r.meta.followed_profile.name}),type:"COMMUNITY_HUB_FOLLOW"})))}).catch(t=>{let r=(0,s.ID)(t);r&&e.dispatch(d.A.enqueue({message:(0,s.t)("community.actions.unable_to_follow_this_profile_profile_name",{profileName:r}),type:"COMMUNITY_HUB_FOLLOW_FAILED",error:!0}))})},e=>`COMMUNTY_HUB_FOLLOW_ENTITY_${e}`),ea=(0,m.eg)("COMMUNTY_HUB_UNFOLLOW_ENTITY",(e,t,{loadingKey:r})=>{let n=o.cp.del("/api/follows",{followed_profile_id:t});(0,b.o)(n,e,r),n.then(()=>{var r,n;(null==(r=e.getState().user)?void 0:r.community_profile_id)&&(e.dispatch(x({followedProfileId:t,currentUserProfileId:null==(n=e.getState().user)?void 0:n.community_profile_id})),e.dispatch(d.A.enqueue({message:(0,s.t)("community.actions.unfollowed_profile"),type:"COMMUNITY_HUB_UNFOLLOW"})))}).catch(t=>{let r=(0,s.ID)(t);r&&e.dispatch(d.A.enqueue({message:`Unable to unfollow this profile: ${r}`,type:"COMMUNITY_HUB_UNFOLLOW_FAILED",error:!0}))})},e=>`COMMUNTY_HUB_UNFOLLOW_ENTITY_${e}`);function eo(e){return{updateStatus:(0,n.A)(`${e}_UPDATE_PUBLISH_STATUS`),updateMetadata:(0,n.A)(`${e}_UPDATE_PUBLISH_METADATA`),clearMetadata:(0,n.A)(`${e}_CLEAR_PUBLISH_METADATA`),clearMetadataAndStatus:(0,n.A)(`${e}_CLEAR_PUBLISHING`)}}(0,m.M0)(async(e,t)=>{var r;let n;let{thread:i,resolved:a}=t,l=e.getState();a&&(null==(r=l.comments.activeThread)?void 0:r.id)===i.id&&!l.comments.showResolved&&e.dispatch(O.UF()),n=a?o.cp.put(`/api/community_comments/${i.id}/resolve`):o.cp.put(`/api/community_comments/${i.id}/unresolve`),await n.then(({data:t})=>{e.dispatch(h._V({comment:{id:i.id,resolved_at:t.meta.resolved_at}}))}).catch(t=>{e.dispatch(d.A.enqueue({error:!0,message:a?(0,s.t)("community.actions.failed_to_resolve_comment"):(0,s.t)("community.actions.failed_to_unresolve_comment")}))})}),(0,m.M0)((e,{thread:t})=>{let r=e.getState(),n=(0,v.gv)(r,r.selectedView);e.dispatch(N.ye({stringToCopy:(0,A.uC)(n,t.id)}))})},349484:(e,t,r)=>{"use strict";r.d(t,{CI:()=>p,Wu:()=>_,jH:()=>u,kn:()=>m});var n=r(60452),i=r(326660),a=r(901676),o=r(212980),l=r(268984),s=r(886872),c=r(494500);(0,l.M0)((e,t)=>{var r,n,l;let{payments:s,source:c}=t,u=null==(r=e.getState().user)?void 0:r.id;if(!u||!s)return;let p=s.filter(o.OI),m=`${d}_${u}`,_=null==(n=(0,a.iy)())?void 0:n.getItem(m);if(_){let e=JSON.parse(_);if(Array.isArray(e)){let t=new Set(p.map(e=>e.monetized_resource_metadata_id)),r=e.map(e=>e.monetized_resource_metadata_id).filter(e=>!t.has(e));r.length&&(0,i.WI)("community","[ActivePayments] mismatch detected",{source:c,userId:u,revoked:r,previousPayments:e,currentPayments:s},{reportAsSentryError:!0})}}let h=JSON.stringify(p);null==(l=(0,a.iy)())||l.setItem(m,h)});let d="debug_succeeded_payments",u=(0,l.M0)((e,t,{loadingKey:r})=>{let n=c.q.getBuyerActivePayments();(0,s.o)(n,e,r),n.then(({data:t})=>{e.dispatch(_(t.meta))}).catch(()=>{})}),p=(0,n.A)("M10N_DEL_ACTIVE_USER_PAYMENT"),m=(0,n.A)("M10N_REALTIME_ACTIVE_USER_PAYMENT"),_=(0,n.A)("M10N_SET_ACTIVE_USER_PAYMENTS")},814104:(e,t,r)=>{"use strict";r.d(t,{UR:()=>m,c1:()=>p,y_:()=>_});var n=r(60452),i=r(326660),a=r(146388),o=r(519836),l=r(417184),s=r(886872),c=r(778112),d=r(46496),u=r(268984);let p=(0,n.A)("COMMUNITY_SET_SHELVES_FOR_SHELF_TYPE"),m=(0,u.eg)("COMMUNITY_FETCH_SHELVES_FOR_SHELF_TYPE",(e,{shelfType:t,limit:r},{loadingKey:n})=>{let a={shelfType:t,limitShelfContent:r},o=d.Q.getCommunityShelves(a);(0,s.o)(o,e,n),o.then(({data:r})=>{let n=r.meta;n.forEach(t=>h(e.dispatch,t.shelf_content)),e.dispatch(p({shelfType:t,shelves:n}))}).catch(e=>{(0,i.WI)("collections","error fetching collections",{...a,error:e.toString()})})},({shelfType:e,limit:t})=>`COMMUNITY_FETCH_SHELVES_FOR_SHELF_TYPE_${e}_${t}`),_=(0,u.eg)("COMMUNITY_FETCH_SHELVES_FOR_SHELF_TYPE_AND_FILTER_LABEL",(e,{shelfType:t,filterLabel:r,limit:n},{loadingKey:i})=>{let a=d.Q.getCommunityShelves({shelfType:t,filterLabel:r,limitShelfContent:n});(0,s.o)(a,e,i),a.then(({data:r})=>{let n=r.meta;n.forEach(t=>h(e.dispatch,t.shelf_content)),e.dispatch(p({shelfType:t,shelves:n}))})},({shelfType:e,filterLabel:t,limit:r})=>`COMMUNITY_FETCH_SHELVES_FOR_SHELF_TYPE_AND_FILTER_LABEL_${e}_${t}_${r}`);function h(e,t){let r=[],n=[],i=[];t.forEach(e=>{let t=(0,l.mK)(e);t===c.OW.HUB_FILE?r.push(e):t===c.OW.PLUGIN?n.push(e):t===c.OW.WIDGET&&i.push(e)}),e((0,a.Ww)({hubFiles:r,src:"fetchShelvesForShelfType"})),e((0,o.eY)({publishedPlugins:[...n,...i],src:"fetchShelvesForShelfType"}))}},796116:(e,t,r)=>{"use strict";r.d(t,{CC:()=>J,E9:()=>Q,ED:()=>em,Eb:()=>ew,G2:()=>ev,GE:()=>ei,Hl:()=>eo,ID:()=>eI,Iv:()=>I.Iv,KG:()=>el,OU:()=>eb,Qj:()=>er,UX:()=>eu,Ur:()=>I.Ur,Ww:()=>I.Ww,Yt:()=>ef,cR:()=>eT,gz:()=>X,iU:()=>ep,k5:()=>ea,kf:()=>es,me:()=>ee,qg:()=>eE,qw:()=>ey,y0:()=>ec});var n=r(60452),i=r(250008),a=r(311364),o=r(439564),l=r(656716),s=r(877052),c=r(843148),d=r(372152),u=r(61836),p=r(888932),m=r(326660),_=r(483576),h=r(58908),g=r(557044),f=r(816596),E=r(967540),y=r(560072),b=r(317704),v=r(745500),I=r(146388),w=r(268984),T=r(913368),S=r(375376),C=r(403132),A=r(323576),O=r(584208),N=r(825016),L=r(90340),R=r(417184),P=r(194540),M=r(762820),k=r(6552),D=r(61304),F=r(333928),x=r(514916),U=r(886872),B=r(670384),G=r(644516),V=r(228472),H=r(793944),W=r(475136),K=r(112044),Y=r(436348),q=r(601716),j=r(518413),$=r(649164),Z=r(972164),z=r(435780);let Q=(0,n.A)("PUT_FIG_FILE_PUBLISHED_AS_HUB_FILE"),X=(0,n.A)("UPDATE_HUB_FILE_PAGE_TITILE"),J=(0,n.A)("DEL_FIG_FILE_PUBLISHED_AS_HUB_FILE"),ee=(0,n.A)("PUT_FIG_FILE_DUPLICATE_FROM_HUB_FILE"),et=(0,n.A)("DEL_FIG_FILE_DUPLICATE_FROM_HUB_FILE"),er=(0,n.A)("HUB_FILE_PUT_HUB_FILE_REMIX"),en=e=>{let t=(0,y.t)("community.actions.log_in_or_create_an_account_to_duplicate_this_file");if(p.m_){window.location.href="/login";return}e.dispatch(f.a.init({origin})),e.dispatch(A.A5({type:j.A,data:{headerText:t}}))},ei=(0,w.eg)("DUPLICATE_HUB_FILE",(e,t,{loadingKey:r})=>{let n=e.getState();if(!n.user){en(e);return}let o=(0,v.T)(n),s={headers:{...g.cp.defaults.headers,"X-Figma-User-ID":t.workspace.userId}},c=g.cp.post(`/api/hub_files/v2/${t.hubFileId}/copy`,{org_id:t.workspace.orgId},s);(0,U.o)(c,e,r),c.then(({data:r})=>{let n=r.meta;(0,i.we)(N.E7.HUB_FILE_DUPLICATED,{hubFileId:t.hubFileId,figFileKey:n.key,...o}),"whiteboard"===n.editor_type&&e.dispatch(O.y4({storeInRecentsKey:H.Sy.FigJam,id:t.hubFileId,type:H.y4.CommunityResource}));let s=(0,F.El)(n);s=(0,a.oX)(s,{[D.s3.KEY]:D.s3.VALUE,fuid:t.workspace.userId}),l.default.redirect(s,p.m_?void 0:"_blank"),e.dispatch(C.yi())}).catch(t=>{e.dispatch(b.A.enqueue({error:!0,message:(0,y.t)("community.actions.failed_to_duplicate_file_error",{error:(0,y.ID)(t,(0,y.t)("community.actions.try_again_or_contact_support_figma_com"))})}))})},({hubFileId:e})=>`DUPLICATE_HUB_FILE_${e}`),ea=(0,w.M0)((e,t)=>{var r;let{canRetry:n=!0}=t,i=e.getState(),a=i.currentUserOrgId,o=(0,c.Ub)().ps_benchmark?i.currentTeamId:null;if(t.folderId){let n=null==(r=i.folders[t.folderId])?void 0:r.team_id,a=n?i.teams[n]:null,o=i.hubFiles[t.hubFileId].viewer_mode===x.C0.WHITEBOARD?"whiteboard":"design",l="whiteboard"===o?{type:G.GV.ADD_FIGJAM_FILE}:{type:G.GV.ADD_DESIGN_FILE};if(a&&!(0,G.SQ)(a,l)){e.dispatch(A.A5({type:$.q,data:{teamId:a.id,createInDrafts:()=>{e.dispatch(ea({...t,folderId:void 0}))},teamName:a.name,editorType:o,dispatch:e.dispatch,action:K.qW.CREATE_FILE_FROM_TEMPLATE}}));return}}return g.cp.post(`/api/hub_files/template/${t.hubFileId}/copy`,{folder_id:t.folderId,org_id:a,team_id:o}).then(({data:r})=>{let n=r.meta;(0,c.Ub)().templ_copy_file_create_logging&&(0,L.A9)("File Created",n,{selectedView:i.selectedView},{source:t.source}),t.callback&&t.callback(null==n?void 0:n.key),"whiteboard"===n.editor_type&&e.dispatch(O.y4({storeInRecentsKey:H.Sy.FigJam,id:t.hubFileId,type:H.y4.CommunityResource}));let a=(0,F.El)(n);l.default.redirect(a,t.openInNewTab&&!p.m_?"_blank":void 0)}).catch(r=>{let i={error:!0,message:(0,y.t)("community.actions.failed_to_create_a_new_file_from_hub_file_name",{hubFileName:t.hubFileName})};n&&(i.button={text:(0,y.t)("community.actions.retry"),action:()=>e.dispatch(ea({...t,canRetry:!1}))}),e.dispatch(b.A.enqueue(i))})}),eo=(0,w.eg)("HUB_FILE_GET_VERSIONS",async(e,{hubFileId:t,callback:r},{loadingKey:n})=>{let i=null,a=Promise.resolve(null),o=q._.getVersions({id:t});a=o;try{i=(await o).data.meta}catch(e){return}(0,U.o)(a,e,n);let{fig_file_metadata:l,remixed_from_metadata:s,...c}=i,d=c.related_content,u=c.remixed_to_metadata,p=[...d?d.content:u||[],c];s&&p.push(s),e.dispatch((0,I.Ww)({hubFiles:p,src:"getHubFileVersions"})),l&&(e.dispatch(Q({hubFileId:c.id,fileKey:l.key})),l.file&&e.dispatch(S.Aj({file:l.file})),l.roles&&e.dispatch(Z.eq({roles:l.roles}))),e.dispatch(X({hubFileId:c.id}));let m=new Set(null==u?void 0:u.map(e=>e.id));e.dispatch(er({hubFileId:c.id,from:s?s.id:null,to:m})),null==r||r(c)},({hubFileId:e})=>`HUB_FILE_GET_VERSIONS_${e}`),el=(0,w.M0)((e,{fileKey:t})=>{(0,c.cp)().user_data&&Y.Q.getHubFileMetadata({fileKey:t}).then(({data:r})=>{let n=r.meta.published_as;(null==n?void 0:n.id)?e.dispatch(Q({hubFileId:n.id,fileKey:t})):e.dispatch(J({fileKey:t}));let i=r.meta.remixed_from_metadata,a=r.meta.is_preview;(null==i?void 0:i.id)?e.dispatch(ee({hubFileId:i.id,fileKey:t,isPreview:!!a})):e.dispatch(et({fileKey:t}));let o=[n,i].filter(e=>!!e);o.length>0&&e.dispatch((0,I.Ww)({hubFiles:o,src:"getHubFileMetadata"}))}).then(()=>{(0,c.Ub)().ce_new_missing_fonts_logging&&(0,k.gV)()}).catch(e=>{console.error(e)}).finally(()=>{d.qM.set(s.O,!0)})}),es=(0,T._U)("HUB_FILE"),{updateMetadata:ec,updateStatus:ed,clearMetadataAndStatus:eu,clearMetadata:ep}=es,em=(0,w.M0)((e,t)=>{let r=t.onSuccess;delete t.onSuccess,e.dispatch(ed({id:t.fileKey,status:{code:V.YF.UPLOADING}})),eh(e,t).then(({hubFile:n,actingProfile:a,profileCreated:o})=>{e.dispatch((0,I.Ww)({hubFiles:[n],src:"createHubFile"})),e.dispatch(Q({hubFileId:n.id,fileKey:t.fileKey})),o&&(a.profile_created=o,e.dispatch(z.g7(a))),e.dispatch(z.SI(a)),e.dispatch(ed({id:t.fileKey,status:{code:V.YF.SUCCESS}})),t.suggestedCategory&&(0,i.we)("community_category_suggestion",{resourceType:"hub_file",resourceId:n.id,categoryId:n.category_id,suggestedCategory:t.suggestedCategory},{forwardToDatadog:!0}),null==r||r(n)}).catch(r=>{e.dispatch(b.A.enqueue({message:r.message,type:"hub-file-created-error",error:!0})),e.dispatch(ed({id:t.fileKey,status:{code:V.YF.FAILURE,error:r.message}}))})});function e_(e,t){if(!t)return -1;let r=t.buffer;return r?e.findIndex(e=>e.sha1===(0,_.ie)(r)):t.sha1?e.findIndex(e=>e.sha1===t.sha1):-1}async function eh(e,t){var r;let n;let{fileKey:i,name:a,description:o,categoryId:l,publisherIds:s,tags:c,creatorPolicy:d,thumbnailBuffer:u,viewerMode:p,scalingMode:_,authorOrgId:f,authorTeamId:E,hasCustomUploadedThumbnail:b,validPrototype:v,commentsSetting:I,agreedToTos:w,isPaid:T,price:S,supportContact:C,carouselMedia:A,customCarouselThumbnail:O}=t;if(f&&E)throw Error((0,y.t)("community.actions.attempting_to_set_both_author_org_id_and_author_team_id_while_publishing"));if(p===x.C0.PROTOTYPE&&M.MXu.firstPagePrototypeStatus()!==M.gRI.VALID)throw Error((0,y.t)("community.actions.attempting_to_publish_an_invalid_prototype_as_a_prototype"));let N=await (0,B.y)(i,"Published to Community hub",o,e.dispatch).then(e=>e.id).catch(e=>{var t;throw(0,m.oP)(h._.COMMUNITY,e),Error((null==(t=e.data)?void 0:t.message)||(0,y.t)("community.actions.could_not_connect_to_the_server"))});try{n=await eg(N,u,A||[])}catch(e){throw(0,m.oP)(h._.COMMUNITY,e),Error((0,y.t)("community.actions.error_uploading_images_e",{error:(0,y.ID)(e,null==(r=e.data)?void 0:r.message)}))}let L=e_((null==n?void 0:n.carousel_images)||[],O),R={file_version_id:N,name:a,description:o,tags:c,category_id:l,creator_policy:d,signature:null==n?void 0:n.cover_image.signature,cover_image_uploaded:null==n?void 0:n.cover_image.cover_image_uploaded,publisher_ids:s,viewer_mode:p,scaling_mode:_,author_org_id:f,author_team_id:E,has_custom_uploaded_thumbnail:b,valid_prototype:v,comments_setting:I,agreed_to_tos:w,is_paid:T,price:S,support_contact:C,carousel_images:null==n?void 0:n.carousel_images,cover_image_carousel_image:null==n?void 0:n.carousel_images[L]};return g.cp.post("/api/hub_files",R).then(({data:e})=>{let t=e.meta;return{hubFile:t.hub_file,actingProfile:t.acting_profile,profileCreated:t.profile_created}}).catch(e=>{throw(0,m.oP)(h._.COMMUNITY,e),Error((0,y.ID)(e,(0,y.t)("community.actions.could_not_publish_hub_file",{error:e.message})))})}async function eg(e,t,r){let n,i,a,l;let{uploadImages:s,allMedia:c}=(0,P.Qp)(r);try{let t=await g.cp.post("/api/hub_files/upload",{file_version_id:e,images_sha1:s});({cover_image:{cover_image_upload_url:n,signature:i,fields:a},carousel_images:l}=t.data.meta)}catch(e){throw(0,m.oP)(h._.COMMUNITY,e),Error((0,y.ID)(e,(0,y.t)("community.actions.could_not_connect_to_the_server")))}let d=l.map(({url:e,fields:t,carousel_position:n})=>{let i=r[n];if(!i||!i.buffer)return;let a=new FormData;return Object.entries(t).forEach(([e,t])=>a.append(e,t)),a.set("content-type",(0,o._)(i.buffer)??"image/png"),a.append("file",new Blob([i.buffer])),fetch(e,{method:"POST",body:a})});if(null==t?void 0:t.length){let e=new FormData;Object.entries(a).forEach(([t,r])=>e.append(t,r)),e.set("content-type",(0,o._)(t)??"image/png"),e.append("file",new Blob([t])),d.push(fetch(n,{method:"POST",body:e}))}try{return await Promise.all(d),{cover_image:{cover_image_uploaded:null!=t&&!!t.length,signature:i},carousel_images:c}}catch(e){throw(0,m.oP)(h._.COMMUNITY,e),Error((0,y.ID)(e,(0,y.t)("community.actions.error_connecting_to_server_to_upload_file_images")))}}let ef=(0,w.M0)(async(e,{payload:t,onSuccess:r})=>{var n;let a;let{hubFileId:o,name:l,description:s,categoryId:c,suggestedCategory:d,creatorPolicy:u,publisherIds:p,tags:_,viewerMode:f,scalingMode:v,commentsSetting:w,price:T,supportContact:S,carouselMedia:C,customCarouselThumbnail:A,hasCustomUploadedThumbnail:O,fileVersionId:N,thumbnailBuffer:L}=t;try{a=await eg(N,L,C||[])}catch(t){(0,m.oP)(h._.COMMUNITY,t),e.dispatch(b.A.enqueue({message:(0,y.t)("community.actions.error_uploading_images_e",{error:(0,y.ID)(t,null==(n=t.data)?void 0:n.message)}),type:"hub-file-updated-error",error:!0}))}let R=e_((null==a?void 0:a.carousel_images)||[],A),P={name:l,description:s,category_id:c,creator_policy:u,publisherIds:p,tags:_,viewer_mode:f,scaling_mode:v,comments_setting:w,price:T,support_contact:S,carousel_images:null==a?void 0:a.carousel_images,cover_image_carousel_image:null==a?void 0:a.carousel_images[R],has_custom_uploaded_thumbnail:O,file_version_id:N,cover_image_uploaded:null==a?void 0:a.cover_image.cover_image_uploaded,signature:null==a?void 0:a.cover_image.signature};await g.cp.put(`/api/hub_files/${o}`,P).then(({data:t})=>{let n=t.meta;e.dispatch((0,I.Ww)({hubFiles:[n],src:"updateHubFile"})),d&&(0,i.we)("community_category_suggestion",{resourceType:"hub_file",resourceId:n.id,categoryId:n.category_id,suggestedCategory:d},{forwardToDatadog:!0}),null==r||r(n)}).catch(t=>{let r=(0,y.ID)(t,(0,y.t)("community.actions.an_error_occurred_while_updating_please_refresh_and_try_again"));throw e.dispatch(E.M.error(r)),(0,m.oP)(h._.COMMUNITY,t),Error(`Error updating file ${t}`)})}),eE=(0,w.M0)((e,{hubFileId:t,redirectLink:r})=>{g.cp.del(`/api/hub_files/${t}`).then(({data:t})=>{let r=t.meta;e.dispatch((0,I.Ww)({hubFiles:[r],src:"unpublishHubFile"}))}).then(()=>{r&&l.default.redirect(r)}).catch(e=>{(0,m.oP)(h._.COMMUNITY,e),console.error(Error(`Error unpublishing file ${e}`))})}),ey=(0,w.eg)("GET_COMMUNITY_PROFILE_HUB_FILES",(e,t,{loadingKey:r})=>{let n=q._.getProfile({profileId:t});(0,U.o)(n,e,r),n.then(({data:t})=>{let r=t.meta;e.dispatch((0,I.Ww)({hubFiles:r,src:"getCommunityProfileHubFiles"}))})},e=>`GET_COMMUNITY_PROFILE_HUB_FILES_${e}`),eb=(0,w.cj)("OPTIMISTIC_DUPLICATE_HUB_FILE",(e,{hubFileId:t,viewContext:r},{optimistId:n})=>{g.cp.post(`/api/hub_files/v2/${t}/copy`).then(({data:o})=>{e.dispatch(w.sL.commit(n));let s=o.meta,c=(0,F.El)(s);c=(0,a.oX)(c,{[D.s3.KEY]:D.s3.VALUE}),l.default.redirect(c,p.m_?void 0:"_blank");let d=(0,v.T)(e.getState());(0,i.we)(N.E7.HUB_FILE_DUPLICATED,{hubFileId:t,figFileKey:s.key,viewContext:r,...d})}).catch(t=>{e.dispatch(w.sL.revert(n)),e.dispatch(b.A.enqueue({message:(0,y.t)("community.actions.unable_to_duplicate",{error:(0,y.ID)(t,t.data.message)}),type:"HUB_FILE_DUPLICATE_FAILED",error:!0}))})}),ev=(0,w.M0)((e,{hubFileId:t},{loadingKey:r})=>{let n=g.cp.post(`/api/hub_files/${t}/like`);(0,U.o)(n,e,r),n.catch(t=>{var r;e.dispatch(b.A.enqueue({message:(0,y.t)("community.actions.unable_to_like_this_file_error",{error:(0,y.ID)(t,null==(r=t.data)?void 0:r.message)}),type:"HUB_FILE_LIKE_FAILED",error:!0}))});let i=e.getState().user,a=i&&(0,R.Ep)(i,e.getState().authedProfilesById);(null==i?void 0:i.id)&&a&&(0,u.w3)().optimisticallyCreate({CommunityHubLike:{[`optimistic-${t}-${a.id}`]:{pluginId:null,hubFileId:t,profileId:a.id,hiddenAt:null,createdAt:new Date,updatedAt:new Date,canRead:!0}}},n)},e=>`LIKE_HUB_FILE_${e}`),eI=(0,w.eg)("UNLIKE_HUB_FILE",(e,{hubFileId:t,likeId:r},{loadingKey:n})=>{var i;let a=g.cp.del(`/api/hub_files/${t}/like`);(0,U.o)(a,e,n),a.catch(t=>{e.dispatch(b.A.enqueue({message:(0,y.t)("community.actions.unable_to_unlike_this_file_error",{error:(0,y.ID)(t,t.data.message)}),type:"HUB_FILE_UNLIKE_FAILED",error:!0}))}),(null==(i=e.getState().user)?void 0:i.id)&&r&&(0,u.w3)().optimisticallyDelete({CommunityHubLike:{[r]:null}},a)},e=>`UNLIKE_HUB_FILE_${e}`),ew=(0,w.M0)((e,{hubFileId:t})=>g.cp.post(`/api/hub_files/${t}/view`,{hubFileId:t})),eT=(0,w.M0)((e,t)=>{(t===W.aS.FULLSCREEN||t===W.aS.FULLSCREEN_WITH_COMMENTS)&&((0,i.we)("Context Viewed",{name:"hub-file-canvas-enter-fullscreen"}),t===W.aS.FULLSCREEN_WITH_COMMENTS&&(0,i.we)("CTA Clicked",{name:"community_hub_preview_comments_viewed"}));let r={...e.getState().selectedView,fullscreenState:t};t===W.aS.FULLSCREEN&&r.commentThreadId&&delete r.commentThreadId,e.dispatch(C.Ej(r))})},877308:(e,t,r)=>{"use strict";r.d(t,{Ao:()=>I,QL:()=>g,UD:()=>S,UW:()=>w,Vf:()=>E,YX:()=>f,_S:()=>y,ay:()=>C,g$:()=>A,kG:()=>b,oL:()=>v,w1:()=>T});var n=r(60452),i=r(250008),a=r(326660),o=r(557044),l=r(560072),s=r(306016),c=r(317704),d=r(268984),u=r(316220),p=r(224100),m=r(984288),_=r(726604),h=r(321296);let g=s.Q,f=s.Y,E=(0,d.M0)((e,t)=>{var r;let n=t.orgId||e.getState().currentUserOrgId;if(!n)return;let i=(null==(r=e.getState().openFile)?void 0:r.key)??null,o=(0,p.cl)(n,i);e.dispatch(u.Cg({key:o})),m.q.getOrgWhitelist({orgId:n,profileId:t.profileId,fileKey:i}).then(({data:t})=>{let r=t.meta;e.dispatch(h.eY({publishedPlugins:r,src:"initializeAllowlistedPlugins"}));let n=r.reduce((e,t)=>(e[t.id]=!0,e),{});e.dispatch(g(n)),e.dispatch(u.mk({key:o}))}).catch(t=>{(0,a.sz)("plugin allowlist","Unable to fetch the plugin allowlist",{message:t.message}),e.dispatch(u.is({key:o}))})}),y=(0,d.M0)(async(e,t)=>{var r,n;let i=t.orgId||e.getState().currentUserOrgId;if(!i)return;let o=(null==(r=e.getState().openFile)?void 0:r.key)??null,l=(0,p.X2)(i,o);e.dispatch(u.Cg({key:l}));try{let r=await _.w.getOrgWhitelist({orgId:i,profileId:t.profileId,fileKey:o}),a=(null==(n=null==r?void 0:r.data)?void 0:n.meta)||[];e.dispatch(h.eY({publishedPlugins:a,src:"initializeAllowlistedWidgets"}));let s=a.reduce((e,t)=>(e[t.id]=!0,e),{});e.dispatch(f(s)),e.dispatch(u.mk({key:l}))}catch(t){(0,a.sz)("widget allowlist","Unable to fetch the widget allowlist",{message:t.message}),e.dispatch(u.is({key:l}))}}),b=(0,n.A)("PUT_ALLOWLISTED_PLUGIN"),v=(0,n.A)("DEL_ALLOWLISTED_PLUGIN"),I=(0,d.M0)((e,{orgId:t,pluginId:r,onSuccess:n})=>{t&&r&&o.cp.post(`/api/plugins/org/${t}/whitelist/${r}`).then(({data:a})=>{e.dispatch(b({pluginId:r})),e.dispatch(h.eY({publishedPlugins:[a.meta],src:"allowlistPlugin"})),n&&n(),(0,i.we)("Hub Plugin Add to Whitelist",{pluginId:r,orgId:t})}).catch(t=>{let r=(0,l.t)("community.actions.unable_to_add_this_plugin_please_try_again_later");400===t.status&&(r=(0,l.t)("community.actions.unable_to_add_private_plugin")),e.dispatch(c.A.enqueue({error:!0,message:r}))})}),w=(0,d.M0)((e,{orgId:t,pluginId:r,onSuccess:n})=>{t&&r&&o.cp.del(`/api/plugins/org/${t}/whitelist/${r}`).then(({data:a})=>{e.dispatch(v({pluginId:r})),e.dispatch(h.eY({publishedPlugins:[a.meta],src:"unallowlistPlugin"})),n&&n(),(0,i.we)("Hub Plugin Remove from Whitelist",{pluginId:r,orgId:t})}).catch(()=>{e.dispatch(c.A.enqueue({error:!0,message:(0,l.t)("community.actions.unable_to_remove_this_plugin_please_try_again_later")}))})}),T=(0,n.A)("PUT_ALLOWLISTED_WIDGET"),S=(0,n.A)("DEL_ALLOWLISTED_WIDGET"),C=(0,d.M0)((e,{orgId:t,pluginId:r,onSuccess:n})=>{t&&r&&o.cp.post(`/api/widgets/org/${t}/whitelist/${r}`).then(({data:a})=>{e.dispatch(T({pluginId:r})),e.dispatch(h.eY({publishedPlugins:[a.meta],src:"allowlistWidget"})),n&&n(),(0,i.we)("Hub Widget Add to Whitelist",{pluginId:r,orgId:t})}).catch(t=>{let r=(0,l.t)("community.actions.unable_to_add_this_widget_please_try_again_later");400===t.status&&(r=(0,l.t)("community.actions.unable_to_add_private_widget")),e.dispatch(c.A.enqueue({error:!0,message:r}))})}),A=(0,d.M0)((e,{orgId:t,pluginId:r,onSuccess:n})=>{t&&r&&o.cp.del(`/api/widgets/org/${t}/whitelist/${r}`).then(({data:a})=>{e.dispatch(S({pluginId:r})),e.dispatch(h.eY({publishedPlugins:[a.meta],src:"unallowlistWidget"})),n&&n(),(0,i.we)("Hub Widget Remove from Whitelist",{pluginId:r,orgId:t})}).catch(()=>{e.dispatch(c.A.enqueue({error:!0,message:(0,l.t)("community.actions.unable_to_remove_this_widget_please_try_again_later")}))})})},236952:(e,t,r)=>{"use strict";r.d(t,{Cs:()=>P,Uf:()=>D,_4:()=>R,gk:()=>x,sg:()=>F,wb:()=>U,yW:()=>L});var n=r(60452),i=r(250008),a=r(972920),o=r(967540),l=r(560072),s=r(317704),c=r(268984),d=r(584208),u=r(585508),p=r(767433),m=r(590160),_=r(342512),h=r(553432),g=r(325252),f=r(123576),E=r(140744),y=r(316640),b=r(778112),v=r(224100),I=r(793944),w=r(196988),T=r(19696),S=r(777468),C=r(72708),A=r(98660),O=r(750908),N=r(321296);let L=(0,n.A)("PLUGIN_INITIALIZE_LOCAL"),R=(0,n.A)("PLUGIN_UPDATE_LOCAL"),P=(0,n.A)("PLUGIN_DELETE_LOCAL"),M=!1,k=(0,_.A)(),D=(0,c.M0)(async e=>{if(k){if(k.isCompatibleWith({desktopVersion:59})){let t=await k.getLocalManifestFileExtensionIdsToCachedMetadataMap()??{},r=Object.keys(t).map(e=>parseInt(e)),n=await Promise.all(r.map(e=>(0,g.kT)(e,{resourceType:"unknown"}))),i={};n.forEach(e=>{e.cachedContainsWidget=!!t[e.localFileId].cachedContainsWidget,e.lastKnownPluginId=t[e.localFileId].lastKnownPluginId||"",i[e.localFileId]=e}),e.dispatch(L(i))}else if(k.isCompatibleWith({desktopVersion:58})){let t=await k.getLocalManifestFileExtensionIdsToCachedContainsWidgetMap(),r=Object.keys(t).map(e=>parseInt(e)),n=await Promise.all(r.map(e=>(0,g.kT)(e,{resourceType:"unknown"}))),i={};n.forEach(e=>{e.cachedContainsWidget=!!t[e.localFileId],i[e.localFileId]=e}),e.dispatch(L(i))}else{let t=await k.getAllLocalFileExtensionIds(),r=await Promise.all(t.map(e=>(0,g.kT)(e,{resourceType:"unknown"}))),n={};r.forEach(e=>{n[e.localFileId]=e}),e.dispatch(L(n))}if(!M){M=!0,k.registerManifestChangeObserver(t=>{var r;if("added"===t.type||"changed"===t.type){let n;let i=t.id,a=(0,g.Ml)(i,t.localLoadResult,{resourceType:"unknown"}),l=null==(r=e.getState().localPlugins[i])?void 0:r.plugin_id;e.dispatch(R(a));let s=e.getState(),{publishingPlugins:c,localPlugins:d,publishedPlugins:u,publishedWidgets:p,currentUserOrgId:m,authedProfilesById:_,modalShown:f}=s,E=c[i];a.plugin_id!==l&&(null==f?void 0:f.type)!==S.s.type&&e.dispatch((0,N.wl)({id:i}));try{n=(0,g.YV)({...(0,h.getPermissionsState)(s),currentUserOrgId:m,localPlugins:d,publishedPlugins:u,publishedWidgets:p,authedProfilesById:_},i)}catch(t){e.dispatch(o.M.error(t.message));return}E&&E.metadata&&(0,g.Sq)(E.metadata)&&!a.error&&e.dispatch((0,N.m6)({id:i,metadata:n}))}else"removed"===t.type&&e.dispatch(P(t.id))});let t=(0,a.C)(t=>{var r,n,i,a;if("added"===t.type||"changed"===t.type){let o=null==(n=null==(r=e.getState().mirror)?void 0:r.selectionProperties)?void 0:n.selectedWidgetInfo;o&&o.pluginID&&m.a.mountWidget(o.pluginID,o.widgetID,"hot-reloading re-render");let l=null==(i=(0,f.wi)())?void 0:i.plugin,s=null==(a=(0,f.wi)())?void 0:a.triggeredFrom,c=e.getState();"manifestFileId"in t&&l&&(0,v.E7)(l)&&c.mirror.appModel.hotReloadPluginDev&&t.manifestFileId===l.localFileId&&(0,E.ui)()&&(async()=>{await (0,y.qu)(),"codegen"!==s&&(0,E.kv)({newTriggeredFrom:null}),(0,w.E)()})()}});k.registerCodeChangeObserver(t),k.registerManifestChangeObserver(t),k.registerUiChangeObserver(t)}}}),F=(0,c.M0)(async(e,{localFileId:t,resourceType:r})=>{let n=await (0,g.kT)(t,{resourceType:r});e.dispatch(R(n))}),x=(0,c.M0)((e,t)=>{void 0!=t&&(k&&k.removeLocalFileExtension(t),e.dispatch(P(t)))}),U=(0,c.M0)(async(e,{resourceType:t,localFileIdToRemove:r})=>{let n=null;if(!k)return;let{added:a,existed:o}=await k.createMultipleNewLocalFileExtensions({title:(0,l.t)("community.actions.pick_extension_manifest_file"),filters:[{name:"Manifests",extensions:["json"]}],properties:["openFile"]},0);if(null!=(n=a&&a[0]||o&&o[0]))try{let a=await (0,g.Wc)(n,{resourceType:t,isPublishing:!1});if("unknown"===t&&(t=a.containsWidget?"widget":"plugin"),(0,i.we)("Added new plugin",{how:"loaded",pluginId:a.id,version:a.api,isWidget:"widget"===t,productType:"figma"===(0,g.a6)()?"design":"whiteboard",isVsCode:(0,p.s)()}),e.dispatch(F({localFileId:n,resourceType:t})),e.dispatch(s.A.enqueue({message:a.name?(0,l.t)("community.actions.manifest_name_has_been_imported",{manifestName:a.name}):"widget"===t?(0,l.t)("community.actions.widget_has_been_imported"):(0,l.t)("community.actions.plugin_has_been_imported")})),u.CA.dispatch(O.KE({initialX:0,initialY:0,initialTab:"figjam"===(0,g.a6)()?"widget"===t?C.i.WIDGETS:C.i.PLUGINS:void 0,initialFdResourceTab:"figma"===(0,g.a6)()?"widget"===t?A.o.WIDGET:A.o.PLUGIN:void 0,initialFdView:"figma"===(0,g.a6)()?"development":void 0,scrollDevelopmentSectionIntoView:"figjam"===(0,g.a6)()})),r){let t=e.getState().localPlugins[r],n=(null==t?void 0:t.lastKnownPluginId)??t.plugin_id??t.manifest.id;n!==a.id&&n||e.dispatch(x(r))}let o=a.editorType;null==o||o.forEach(r=>{let n="figjam"===r?I.Sy.FigJam:I.Sy.Design;t===b.K2.PLUGIN?e.dispatch(d.UN({storeInRecentsKey:n,id:a.id||"",version:"",isDevelopment:!0,currentUserId:(0,T._K)()})):t===b.K2.WIDGET&&e.dispatch(d.Ql({storeInRecentsKey:n,id:a.id||"",version:"",isDevelopment:!0,currentUserId:(0,T._K)()}))})}catch(t){e.dispatch(s.A.enqueue({message:t.message,error:!0}))}})},321296:(e,t,r)=>{"use strict";r.d(t,{A3:()=>m.A3,Av:()=>en,Co:()=>B,EN:()=>K,Ed:()=>er,I7:()=>F,In:()=>et,KI:()=>M,K_:()=>k,O:()=>J,OW:()=>eo,Q$:()=>j,Qh:()=>es,Qx:()=>G,S0:()=>el,UJ:()=>Y,_2:()=>H,cn:()=>V,ct:()=>$,eY:()=>m.eY,fw:()=>Q,g1:()=>m.g1,k1:()=>m.k1,kL:()=>q,kz:()=>ea,m6:()=>X,mc:()=>m.mc,uQ:()=>U,us:()=>ei,w3:()=>x,wl:()=>ee,wv:()=>D});var n=r(60452),i=r(250008),a=r(161400),o=r(866244),l=r(326660),s=r(58908),c=r(557044),d=r(967540),u=r(560072),p=r(317704),m=r(519836),_=r(332320),h=r(268984),g=r(913368),f=r(435780),E=r(316220),y=r(417184),b=r(194540),v=r(876760),I=r(553432),w=r(12608),T=r(325252),S=r(886872),C=r(769696),A=r(778112),O=r(228472),N=r(984288),L=r(726604),R=r(222664),P=r(990676);let M=(0,n.A)("PLUGIN_REPLACE_FEATURED"),k=(0,h.M0)((e,t,{loadingKey:r})=>{if(!e.getState().user)return;let n=N.q.getPlugins(),i=L.w.getWidgets();n.then(({data:t})=>{let r=t.meta;e.dispatch((0,m.eY)({publishedPlugins:r,src:"initializeUserPublishedPlugins"}))}),i.then(({data:t})=>{let r=t.meta;e.dispatch((0,m.eY)({publishedPlugins:r,src:"initializeUserPublishedWidgets"}))}),(0,S.o)(i,e,r)}),D=v.qO.Query({fetch:async e=>(await N.q.getUnpublishedPlugins()).data.meta,output:({data:e})=>{let t={};if(e)for(let r of e)t[r.id]=r;return t}}),F=v.qO.Query({fetch:async e=>(await L.w.getUnpublishedWidgets()).data.meta,output:({data:e})=>{let t={};if(e)for(let r of e)t[r.id]=r;return t}}),x=(0,h.M0)((e,{widgetIDToVersions:t})=>{let{installedWidgetVersions:r,publishedCanvasWidgetVersions:n,currentUserOrgId:i}=e.getState();for(let[e,a]of Object.entries(t))a.forEach(a=>{var o,l;let s=null==(o=n[e])?void 0:o[a],c=(null==(l=r.widgets[e])?void 0:l.id)===a?r.widgets[e]:null,d=s||c;d&&new Set(t[e]).forEach(e=>{w.u.getAndCache({...d,id:e},i??void 0)})})}),U=(0,h.M0)(async(e,{resourceId:t,resourceType:r})=>{let n=r===A.K2.WIDGET?L.w.getWidgets({id:t}):N.q.getPlugins({id:t}),{data:i}=await n,a=i.meta.find(e=>e.id===t);a&&e.dispatch((0,m.eY)({publishedPlugins:[a],src:"getPublishedResource"}))}),B=(0,n.A)("UPDATE_PUBLISHED_CANVAS_WIDGET_VERSIONS"),G=(0,n.A)("UPDATE_FETCHED_CANVAS_WIDGET_VERSIONS");async function V(e,t,r){var n;return null==(n=(await H({[e]:[t]},r))[e])?void 0:n[t]}async function H(e,t){var r,n;let i=null==(r=a.x.getState().openFile)?void 0:r.key,o=await c.cp.post("/api/widgets/v2/versions",{ids_to_versions:e,org_id:t,file_key:i}),l=(null==(n=null==o?void 0:o.data)?void 0:n.meta)||{};return a.x.dispatch(B(l)),a.x.dispatch(G(Object.fromEntries(Object.entries(e).map(([e,t])=>[e,Object.fromEntries(t.map(e=>[e,!0]))])))),l}let W=(0,h.M0)(async(e,{widgetIds:t})=>{var r;let{currentUserOrgId:n,publishedWidgets:i}=e.getState(),o=t.filter(e=>!i[e]);if(o.length)try{let e=await c.cp.post("/api/widgets/batch",{ids:o,org_id:n}),t=(null==(r=e.data)?void 0:r.meta)??[];a.x.dispatch((0,m.eY)({publishedPlugins:t,src:"fetchPublishedWidgets",overrideInstallStatus:!0}))}catch{return}}),K=(0,h.M0)(async(e,{widgetIDAndVersions:t})=>{let{currentUserOrgId:r,installedWidgetVersions:n,publishedCanvasWidgetVersions:i}=e.getState(),a=[],o={};t.forEach(({widgetID:e,widgetVersionID:t})=>{n.widgets[e]&&n.widgets[e].version===t&&i[e]&&i[e][t]||(o[e]?o[e].includes(t)||o[e].push(t):(a.push(e),o[e]=[t]))}),0!==a.length&&(await H(o,r),e.dispatch(x({widgetIDToVersions:o})),e.dispatch(W({widgetIds:Object.keys(o)})))}),Y=(0,h.eg)("GET_COMMUNITY_PROFILE_PLUGINS",(e,t,{loadingKey:r})=>{let n=N.q.getProfile({profileId:t.profileId,currentOrgId:e.getState().currentUserOrgId||void 0}),i=(0,P.EB)(t.profileId);return(0,S.o)(n,e,r),n.then(async({data:t})=>{let r=[...await i,...t.meta];return e.dispatch((0,m.eY)({publishedPlugins:r,src:"getCommunityProfilePlugins"})),r})},({profileId:e})=>`GET_COMMUNITY_PROFILE_PLUGINS_${e}`),q=(0,h.eg)("GET_COMMUNITY_PROFILE_WIDGETS",(e,t,{loadingKey:r})=>{let n=L.w.getProfile({profileId:t.profileId,currentOrgId:e.getState().currentUserOrgId||void 0}),i=(0,P.cX)(t.profileId);return(0,S.o)(n,e,r),n.then(async({data:t})=>{let r=[...await i,...t.meta];return e.dispatch((0,m.eY)({publishedPlugins:r,src:"getCommunityProfileWidgets"})),r})},({profileId:e})=>`GET_COMMUNITY_PROFILE_WIDGETS_${e}`),j=(0,h.eg)("GET_ORG_PUBLISHED_PLUGINS",(e,t,{loadingKey:r})=>{let n=N.q.getOrg({orgId:t});return(0,S.o)(n,e,r),n.then(({data:t})=>{let r=t.meta;return e.dispatch((0,m.eY)({publishedPlugins:r,src:"getOrgPublishedPlugins"})),r})},e=>`GET_ORG_PUBLISHED_PLUGINS_${e}`),$=(0,h.eg)("GET_ORG_PUBLISHED_WIDGETS",async(e,t,{loadingKey:r})=>{var n;try{e.dispatch(E.Cg({key:r}));let i=await L.w.getOrg({orgId:t}),a=(null==(n=null==i?void 0:i.data)?void 0:n.meta)||[];return e.dispatch((0,m.eY)({publishedPlugins:a,src:"getOrgPublishedWidgets"})),e.dispatch(E.mk({key:r})),a}catch(t){return d.M.flash(t.message||(0,u.t)("community.actions.an_error_occurred_while_trying_to_fetch_the_org_widgets_list")),e.dispatch(E.is({key:r})),[]}},e=>`GET_ORG_PUBLISHED_WIDGETS_${e}`);async function Z(e,t,r){if(null===e.current_plugin_version_id||!e.id)throw Error((0,u.t)("community.actions.resource_is_invalid"));let n=0;t.iconBlob&&(n=(0,T.aG)(t.iconBlob));let a=0;t.coverBlob&&(a=(0,T.kJ)(t.coverBlob));let o=t.carouselMedia,{uploadImages:d,uploadVideos:p,allMedia:m}=(0,b.Qp)(o),_=(await c.cp.post(`/api/${(0,y.qO)(e,{pluralized:!0})}/${e.id}/images/upload`,{images_sha1:d})).data.meta,h=Promise.resolve(!1),g=t.iconBlob;void 0!==g&&(h=(0,b.G_)(g).then(e=>c.cp.crossOriginPut(_.icon_path,e,{raw:!0,headers:{...c.cp.defaults.headers,"Content-Type":g.type}})).then(()=>!0).catch(t=>{(0,l.oP)(s._.COMMUNITY,t);let r=(0,u.ID)(t,(0,u.t)("community.actions.could_not_connect_to_the_server"));throw Error((0,A.mc)(e)?(0,u.t)("community.actions.error_uploading_widget_icon_error",{error:r}):(0,u.t)("community.actions.error_uploading_plugin_icon_error",{error:r}))}));let f=Promise.resolve(!1),E=t.coverBlob;void 0!==E&&(f=(0,b.G_)(E).then(e=>c.cp.crossOriginPut(_.cover_image_path,e,{raw:!0,headers:{...c.cp.defaults.headers,"Content-Type":E.type}})).then(()=>!0).catch(t=>{var r,n;throw(0,l.oP)(s._.COMMUNITY,t),Error((0,A.mc)(e)?(0,u.t)("community.actions.error_uploading_widget_artwork_image_error",{error:(0,u.ID)(t,(null==(r=t.data)?void 0:r.message)||"unknown error")}):(0,u.t)("community.actions.error_uploading_plugin_artwork_image_error",{error:(0,u.ID)(t,(null==(n=t.data)?void 0:n.message)||"unknown error")}))}));let{snapshotBlob:v}=t,I=Promise.resolve(!1);void 0!==v&&(I=(0,b.G_)(v).then(e=>c.cp.crossOriginPut(_.snapshot_path,e,{raw:!0,headers:{...c.cp.defaults.headers,"Content-Type":v.type}})).then(()=>!0).catch(e=>{var t;throw(0,l.oP)(s._.COMMUNITY,e),Error((0,u.t)("community.actions.error_uploading_widget_snapshot_image_error",{error:(0,u.ID)(e,(null==(t=e.data)?void 0:t.message)||"unknown error")}))}));let w=(0,b.q0)(_.carousel_images,o),[S,O,N]=await Promise.all([h,f,I,w]),L=p.map(t=>(0,C.MR)((0,y.qO)(e,{pluralized:!0}),e.id,{sha1:t.sha1,bytes:t.bytes},t.video_thumbnail_buffer,t.video_thumbnail_sha1).then(e=>{m.push({carousel_position:t.carousel_position,sha1:e.sha1,video_file_uuid:e.videoFileUuid,video_thumbnail_sha1:e.videoThumbnailSha1})}).then(()=>!0).catch(e=>{var t;throw(0,l.oP)(s._.COMMUNITY,e),Error((0,u.t)("community.actions.error_uploading_plugin_video_error",{error:(0,u.ID)(e,(null==(t=e.data)?void 0:t.message)||"unknown error")}))}));await Promise.all(L);let{data:R}=await c.cp.put(`/api/${(0,y.qO)(e,{pluralized:!0})}/${e.id}/versions/${t.id}`,{icon_uploaded:S,cover_image_uploaded:O,snapshot_uploaded:N,carousel_media:m,name:t.name,description:t.description,tagline:t.tagline,creator_policy:t.creatorPolicy,release_notes:t.releaseNotes,comments_setting:e.comments_setting,category_id:e.category_id,image_upload_nonce:_.image_upload_nonce,playground_fig_file_key:t.playground_fig_file_key,playground_file_publish_type:r}).catch(e=>{var t;throw(0,l.oP)(s._.COMMUNITY,e),Error((0,u.t)("community.actions.error_finalizing_plugin_error",{error:(0,u.ID)(e,(null==(t=e.data)?void 0:t.message)||"unknown error")}))}),P=R.meta;P.plugin.redirect_thumbnail_url=_.cover_image_path.split("?")[0];let M=P.plugin;if(M.id!==e.id)throw Error((0,u.t)("community.actions.the_published_resource_i_ds_do_not_match"));return(0,i.we)("Hub Plugin Update Version",{pluginId:e.id,isWidget:e.is_widget,iconFileSize:n,coverFileSize:a}),{publishedPlugin:M,profile:P.profile}}async function z(e,t,r,n,a,o,d,p,m,_){var h;let g;if(!e)throw Error((0,u.t)("community.actions.plugin_id_is_invalid"));let[f,E]=await Promise.all([(0,T.Wc)(t,{resourceType:(0,y.kx)(m),isPublishing:!0}),(0,T.iC)(t)]),v=(0,T.qE)(E),I=0;r.iconBlob&&(I=(0,T.aG)(r.iconBlob));let w=0;r.coverBlob&&(w=(0,T.kJ)(r.coverBlob));let S=o.tokens.map(e=>e.content),A=r.carouselMedia,{uploadImages:O,uploadVideos:N,allMedia:L}=(0,b.Qp)(A),R={manifest:f,release_notes:r.releaseNotes,name:r.name,description:r.description,tagline:r.tagline,creator_policy:r.creatorPolicy,tags:S,category_id:a,images_sha1:O};g=m?c.cp.post(`/api/widgets/${e}/upload`,R):c.cp.post(`/api/plugins/${e}/upload`,R);let{codeUploadUrl:P,iconUploadUrl:M,coverImageUploadUrl:k,snapshotUploadUrl:D,signature:F,versionId:x,imageUploadNonce:U,carouselImageUrls:B}=await g.then(({data:e})=>({codeUploadUrl:e.meta.code_upload_url,iconUploadUrl:e.meta.icon_upload_url,coverImageUploadUrl:e.meta.cover_image_upload_url,snapshotUploadUrl:e.meta.snapshot_upload_url,signature:e.meta.signature,versionId:e.meta.version_id,imageUploadNonce:e.meta.image_upload_nonce,carouselImageUrls:e.meta.carousel_images})).catch(e=>{throw(0,l.oP)(s._.COMMUNITY,e),Error((0,u.ID)(e,(0,u.t)("community.actions.could_not_connect_to_the_server")))}),G=e=>{let t=e.data;if(!t||"string"!=typeof t)return;let r=new DOMParser().parseFromString(t,"text/xml").getElementsByTagName("Code");if(r&&r[0]&&"EntityTooLarge"===r[0].textContent)return(0,u.t)("community.actions.file_too_large")},V=Promise.resolve(!1);E&&(V=(e=>{if(e.fields&&e.code_path){let{fields:t,code_path:r}=e,n=new FormData;return Object.entries(t).forEach(([e,t])=>n.append(e,t)),n.set("Content-Type","text/javascript"),n.append("file",E),c.cp.crossOriginPost(r,n,{raw:!0,headers:{"Content-Type":"multipart/form-data","Cache-Control":"private, max-age=86400"}})}return"string"==typeof e?c.cp.crossOriginPut(P,E,{headers:{...c.cp.defaults.headers,"Content-Type":""}}):Promise.reject(Error("Invalid presigned_url"))})(P).then(()=>!0).catch(e=>{(0,l.oP)(s._.COMMUNITY,e);let t=G(e)??(0,u.ID)(e,(0,u.t)("community.actions.could_not_connect_to_the_server"));throw Error(m?(0,u.t)("community.actions.error_uploading_widget_code_error",{error:t}):(0,u.t)("community.actions.error_uploading_plugin_code_error",{error:t}))}));let H=(e,t,r)=>{if(e.fields&&e.image_path){let{fields:r,image_path:n}=e,i=new FormData;return Object.entries(r).forEach(([e,t])=>i.append(e,t)),i.set("Content-Type",t.type),i.append("file",t),c.cp.crossOriginPost(n,i,{raw:!0,headers:{"Content-Type":t.type}})}return"string"==typeof e?c.cp.crossOriginPut(e,r,{raw:!0,headers:{...c.cp.defaults.headers,"Content-Type":t.type}}):Promise.reject(Error("Invalid presigned_url"))},W=Promise.resolve(!1),K=r.iconBlob;null!=K&&(W=(0,b.G_)(K).then(e=>H(M,K,e)).then(()=>!0).catch(e=>{var t;(0,l.oP)(s._.COMMUNITY,e);let r=G(e)??(0,u.ID)(e,(null==(t=e.data)?void 0:t.message)||"unknown error");throw Error(m?(0,u.t)("community.actions.error_uploading_widget_icon_error",{error:r}):(0,u.t)("community.actions.error_uploading_plugin_icon_error",{error:r}))}));let Y=Promise.resolve(!1),q=r.coverBlob;null!=q&&(Y=(0,b.G_)(q).then(e=>H(k,q,e)).then(()=>!0).catch(e=>{(0,l.oP)(s._.COMMUNITY,e);let t=G(e)??(0,u.ID)(e,(0,u.t)("community.actions.could_not_connect_to_the_server"));throw Error(m?(0,u.t)("community.actions.error_uploading_widget_artwork_image_error",{error:t}):(0,u.t)("community.actions.error_uploading_plugin_artwork_image_error",{error:t}))}));let{snapshotBlob:j}=r,$=Promise.resolve(!1);null!=j&&($=(0,b.G_)(j).then(e=>H(D,j,e)).then(()=>!0).catch(e=>{var t;throw(0,l.oP)(s._.COMMUNITY,e),Error((0,u.t)("community.actions.error_uploading_widget_snapshot_image_error",{error:G(e)??(0,u.ID)(e,(null==(t=e.data)?void 0:t.message)||"unknown error")}))}));let Z=(0,b.q0)(B,A),[z,Q,X,J]=await Promise.all([V,W,Y,$,Z]),ee=N.map(t=>(0,C.MR)(m?"widgets":"plugins",e,{sha1:t.sha1,bytes:t.bytes},t.video_thumbnail_buffer,t.video_thumbnail_sha1).then(e=>{L.push({carousel_position:t.carousel_position,sha1:e.sha1,video_file_uuid:e.videoFileUuid,video_thumbnail_sha1:e.videoThumbnailSha1})}).then(()=>!0).catch(e=>{var t;throw(0,l.oP)(s._.COMMUNITY,e),Error((0,u.t)("community.actions.error_uploading_plugin_video_error",{error:(0,u.ID)(e,(null==(t=e.data)?void 0:t.message)||"unknown error")}))}));await Promise.all(ee);let{data:et}=await c.cp.put(`/api/${(0,y.kx)(!!m,{pluralized:!0})}/${e}/versions/${x}`,{icon_uploaded:Q,cover_image_uploaded:X,snapshot_uploaded:J,carousel_media:L,code_uploaded:z,comments_setting:n,category_id:a,signature:F,image_upload_nonce:U,agreed_to_tos:d,org_id:p,playground_fig_file_key:r.playground_fig_file_key,playground_file_publish_type:_}).catch(e=>{var t,r;throw(0,l.oP)(s._.COMMUNITY,e),Error(m?(0,u.t)("community.actions.error_finalizing_widget_error",{error:(0,u.ID)(e,(null==(t=e.data)?void 0:t.message)||"")}):(0,u.t)("community.actions.error_finalizing_plugin_error",{error:(0,u.ID)(e,(null==(r=e.data)?void 0:r.message)||"")}))}),er=et.meta,en=er.plugin;if(en.id!==e)throw Error((0,u.t)("community.actions.the_published_resource_i_ds_do_not_match"));return(0,i.we)("Hub Plugin Publish Version",{pluginId:e,hasUI:!!f.ui,apiVersion:f.api,codeLength:v,iconFileSize:I,coverFileSize:w,isWidget:m,editorType:null==(h=f.editorType)?void 0:h.sort().join(", ")}),{publishedPlugin:en,profile:er.profile}}(0,h.eg)("GET_PUBLIC_PROFILE_PLUGINS",(e,{handle:t,orgId:r},{loadingKey:n})=>{let i=N.q.getProfile({profileId:t,currentOrgId:r||void 0});(0,S.o)(i,e,n),i.then(({data:t})=>{let r=t.meta;e.dispatch((0,m.eY)({publishedPlugins:r,src:"getPublicProfilePlugins"}))})},({handle:e})=>`GET_PUBLIC_PROFILE_PLUGINS_${e}`);let Q=(0,g._U)("PLUGIN"),{updateMetadata:X,updateStatus:J,clearMetadataAndStatus:ee,clearMetadata:et}=Q,er=(0,h.M0)(async(e,t)=>{let{pluginVersion:r,localFileId:n,pluginId:i,commentsSetting:a,categoryId:c,callback:d,agreedToTos:_,orgId:h,isWidget:g,playgroundFilePublishType:E,tags:y}=t;e.dispatch(J({id:n,status:{code:O.YF.UPLOADING}}));try{let{publishedPlugin:t,profile:o}=await z(i,n,r,a,c,y,_,h,g,E);e.dispatch((0,m.eY)({publishedPlugins:[t],src:"publishPluginVersion"})),o&&(e.dispatch(f.g7(o)),e.dispatch(f.SI(o))),e.dispatch(J({id:n,status:{code:O.YF.SUCCESS}})),e.dispatch(et({id:n})),d()}catch(r){e.dispatch(J({id:n,status:{code:O.YF.FAILURE,error:r.message}}));let t=(0,u.t)("community.actions.could_not_publish_plugin_error",{error:(0,u.ID)(r,r.message)});throw r instanceof o.O?(0,R.qe)(e.dispatch,(0,u.t)("check_network_compatibility.error_bell.video_upload.message")):r.message.includes("invalid word")||e.dispatch(p.A.enqueue({message:t,error:!0})),(0,l.oP)(s._.COMMUNITY,r),Error(t)}}),en=(0,h.M0)(async(e,t)=>{let{resource:r,pluginVersion:n,callback:i,playgroundFilePublishType:a,localFileIdOrPluginId:c}=t;try{e.dispatch(J({id:c,status:{code:O.YF.UPLOADING}}));let{profile:t,publishedPlugin:o}=await Z(r,n,a);e.dispatch((0,m.eY)({publishedPlugins:[o],src:"updatePublishedPluginRole"})),t&&e.dispatch(f.SI(t)),e.dispatch(J({id:c,status:{code:O.YF.SUCCESS}})),i()}catch(r){let t=(0,u.ID)(r,r.message);throw r instanceof o.O?(0,R.qe)(e.dispatch,(0,u.t)("check_network_compatibility.error_bell.video_upload.message")):e.dispatch(p.A.enqueue({message:t,error:!0})),e.dispatch(J({id:c,status:{code:O.YF.FAILURE,error:t}})),(0,l.oP)(s._.COMMUNITY,r),Error(`Failed plugin patchVersion: ${r.message}`)}}),ei=(0,h.M0)(async(e,{pluginId:t,role:r,agreedToTos:n,isWidget:a})=>{let o;let d={org_id:r.org?r.org.id:void 0,is_public:r.is_public,agreed_to_tos:n};o=a?c.cp.put(`/api/widgets/${t}/roles`,d):c.cp.put(`/api/plugins/${t}/roles`,d),await o.then(({data:r})=>{let n=r.meta;(0,i.we)("Hub Plugin Publish Role",{pluginId:t,toPublic:n.roles.is_public,toOrg:!!n.roles.org,needApproval:(0,_.An)(n),isWidget:a}),e.dispatch((0,m.eY)({publishedPlugins:[n],src:"updatePublishedPluginRole"}))}).catch(t=>{var r;e.dispatch(p.A.enqueue({message:(0,u.t)("community.publishing.could_not_publish_plugin_error",{error:(0,u.ID)(t,null==(r=t.data)?void 0:r.message)}),error:!0})),(0,l.oP)(s._.COMMUNITY,t)})}),ea=(0,h.M0)(async(e,t)=>{let r;if(t.authorOrgId&&t.authorTeamId){console.error("Attempting to set both authorOrgId and authorTeamId while publishing");return}let{isWidget:n,pluginId:i}=t,a={tags:t.tags,support_contact:t.supportContact,author_org_id:t.authorOrgId,author_team_id:t.authorTeamId,publisher_ids:t.publisherIds,hide_related_content_by_others:t.hideRelatedContentByOthers,agreed_to_tos:t.agreedToTos,is_paid:t.isPaid,is_subscription:t.isSubscription,price:t.price,has_freemium_code:t.hasFreemiumCode,category_id:t.categoryId,is_public:t.isPublic,annual_discount_percentage:t.annualDiscount,is_annual_discount_active:t.isAnnualDiscountActive};r=n?c.cp.put(`/api/widgets/${i}`,a):c.cp.put(`/api/plugins/${i}`,a),await r.then(({data:r})=>{var n;let i=r.meta;e.dispatch((0,m.eY)({publishedPlugins:[i],src:"updatePublishedPlugin"})),null==(n=t.onSuccess)||n.call(t)}).catch(t=>{var r;e.dispatch(p.A.enqueue({message:(0,u.t)("community.publishing.could_not_publish_plugin_error",{error:(0,u.ID)(t,null==(r=t.data)?void 0:r.message)}),error:!0})),(0,l.oP)(s._.COMMUNITY,t)})}),eo=(0,h.M0)((e,{resource:t})=>{c.cp.del(`/api/${(0,y.qO)(t,{pluralized:!0})}/${t.id}`).then(({data:r})=>{let n=r.meta;e.dispatch((0,m.eY)({publishedPlugins:[n],src:"unpublishPublishedPlugin"})),(0,i.we)("Hub Unpublish Plugin",{pluginId:t.id,...(0,T.Ki)(t)})}).catch(r=>{var n,i;e.dispatch(p.A.enqueue({message:(0,A.mc)(t)?(0,u.t)("community.actions.could_not_publish_widget_error",{error:(0,u.ID)(r,null==(n=r.data)?void 0:n.message)}):(0,u.t)("community.actions.could_not_publish_plugin_error",{error:(0,u.ID)(r,null==(i=r.data)?void 0:i.message)}),error:!0})),(0,l.oP)(s._.COMMUNITY,r)})}),el=(0,h.eg)("GET_PLUGIN_VERSIONS",(e,{id:t,resourceType:r},{loadingKey:n})=>{let i=t=>e.dispatch((0,m.eY)({publishedPlugins:[t],src:"getResourceVersions",overrideInstallStatus:!0})),a=r===A.K2.WIDGET?L.w.getVersions({widgetId:t}):N.q.getVersions({pluginId:t});(0,S.o)(a,e,n),a.then(({data:e})=>{i(e.meta.plugin)}).catch(e=>{var n;console.log(`Versions of ${r} with id ${t} cannot be fetched at this time:`,null==(n=e.data)?void 0:n.message)})},({id:e})=>`GET_PLUGIN_VERSIONS_${e}`),es=(0,h.M0)(async(e,t)=>{let{role:r,userId:n,resource:i}=t;try{let t=(i.is_widget?await c.cp.put(`/api/widgets/${i.id}/publishers/${n}`,{role:r}):await c.cp.put(`/api/plugins/${i.id}/publishers/${n}`,{role:r})).data.meta.plugin,a=e.getState().user;r===O.qW.NONE&&n===(null==a?void 0:a.id)&&(t.plugin_publishers={accepted:[],pending:[]}),e.dispatch((0,m.eY)({publishedPlugins:[t],src:"setPluginPublisherRole"}));let o=e.getState(),{publishingPlugins:l,localPlugins:s,publishedPlugins:d,publishedWidgets:u,currentUserOrgId:p,authedProfilesById:_}=o,h=Object.values(s).find(e=>e.plugin_id===i.id),g=(null==h?void 0:h.localFileId)??i.id,f=(0,T.YV)({...(0,I.getPermissionsState)(o),currentUserOrgId:p,localPlugins:s,publishedPlugins:d,publishedWidgets:u,authedProfilesById:_},null==h?void 0:h.localFileId),E={...l[g].metadata,author:f.author,publishers:f.publishers,creators:f.creators,blockPublishingOnToS:f.blockPublishingOnToS};e.dispatch(X({id:g,metadata:E}))}catch(t){throw e.dispatch(p.A.enqueue({message:(0,u.ID)(t,t.message),error:!0})),(0,l.oP)(s._.COMMUNITY,t),Error(t.message)}})},986208:(e,t,r)=>{"use strict";let n;r.d(t,{G4:()=>P,IL:()=>S,SY:()=>N,cD:()=>C,us:()=>O,wL:()=>A});var i=r(60452),a=r(250008),o=r(843148),l=r(61836),s=r(418084),c=r(557044),d=r(560072),u=r(317704),p=r(268984),m=r(321296),_=r(323576),h=r(825016),g=r(894764),f=r(90340),E=r(417184),y=r(778112),b=r(228472),v=r(984288),I=r(726604),w=r(523940),T=r(492084);let S=(0,i.A)("SET_SAVED_PLUGIN_VERSIONS"),C=(0,p.eg)("SET_SAVED_WIDGET_VERSIONS",(e,t)=>{let r={};Object.keys(t).forEach(e=>{r[e]=[t[e].id]}),e.dispatch(m.w3({widgetIDToVersions:r}))});var A=((n=A||{}).COMMUNITY_HUB="community_hub",n.INSERTS_MODAL="inserts_modal",n.DESIGN_ONBOARDING="design_editor_onboarding",n);let O=(0,T.w)((0,p.cj)("SAVE_EXTENSION",(e,{id:t,resourceType:r,versionId:n,orgId:i,communityProfile:_,onSuccess:f,hideSuccessVisualBell:v,onFail:I,source:w,optimisticData:T},{optimistId:S})=>{var C;let A=e.getState(),O={plugin_version_id:n,org_id:i,current_org_id:A.currentUserOrgId};O.can_handle_first_time_install=!0,O.use_upgraded_version=!0,O.profile_id=null==(C=e.getState().authedActiveCommunityProfile)?void 0:C.id,r===y.y4.WIDGET&&(O.current_org_id=void 0);let N=`/api/${(0,E.sr)(r)}/${t}/install`,L=c.cp.post(N,O);if(A.user&&(null==T?void 0:T.resource)){let e=`optimistic-plugin-install-${(0,s.c)()}`,t=(0,g.cP)(T.resource,{userId:i?null:A.user.id,orgId:i??null});t&&(0,l.w3)().optimisticallyCreate({PluginInstall:{[e]:t}},L)}L.then(({data:t})=>{e.dispatch(p.sL.commit(S));let n=t.meta,l=r===y.y4.WIDGET?{publishedPlugins:[n],src:"installResource",isWidget:!0}:{publishedPlugins:[n],src:"installResource"};if(e.dispatch(m.eY({...l,overrideInstallStatus:!0})),null==f||f(),!v){let t=(()=>{var t;if("inserts_modal"===w)return r===y.y4.PLUGIN?(0,d.t)("community.saves.plugin_saved"):(0,d.t)("community.saves.widget_saved");if((0,o.Ub)().cmty_deprecate_browse_as_admin){if(i){let t=Object.values(e.getState().authedProfilesById).find(e=>e.org_id===i);return(0,d.t)(r===y.y4.PLUGIN?"community.saves.plugin_saved_for_everyone_at":"community.saves.widget_saved_for_everyone_at",{orgName:(null==t?void 0:t.name)||"your org"})}if(null==(t=e.getState().user)?void 0:t.community_profile_id)return(0,d.t)(r===y.y4.PLUGIN?"community.saves.plugin_saved_for_your_account_and_profile":"community.saves.widget_saved_for_your_account_and_profile")}else{if((null==_?void 0:_.entity_type)===b.Iv.ORG)return r===y.y4.PLUGIN?(0,d.t)("community.saves.plugin_saved_for_everyone_at",{orgName:_.name}):(0,d.t)("community.saves.widget_saved_for_everyone_at",{orgName:_.name});if(null==_?void 0:_.public_at)return r===y.y4.PLUGIN?(0,d.t)("community.saves.plugin_saved_for_your_account_and_profile"):(0,d.t)("community.saves.widget_saved_for_your_account_and_profile")}return r===y.y4.PLUGIN?(0,d.t)("community.saves.plugin_saved_for_your_account"):(0,d.t)("community.saves.widget_saved_for_your_account")})();e.dispatch(u.A.enqueue({message:t,type:"plugin-installed"}))}(0,a.we)((0,y.mc)(n)?h.E7.WIDGET_INSTALLED:h.E7.PLUGIN_INSTALLED,{communityHubEntity:(0,y.mc)(n)?h.uu.WIDGETS:h.uu.PLUGINS,communityHubEntityId:n.id,source:w})}).catch(t=>{var n,i;null==I||I(),e.dispatch(p.sL.revert(S)),403===t.data.status?e.dispatch(u.A.enqueue({message:r===y.y4.PLUGIN?(0,d.t)("community.actions.unable_to_save_plugin_error",{error:(0,d.ID)(t,null==(n=t.data)?void 0:n.message)}):(0,d.t)("community.actions.unable_to_save_widget_error",{error:(0,d.ID)(t,null==(i=t.data)?void 0:i.message)}),type:"PLUGIN_INSTALL_FAILED",error:!0})):e.dispatch(u.A.enqueue({message:r===y.y4.PLUGIN?(0,d.t)("community.actions.unable_to_save_plugin_please_try_again"):(0,d.t)("community.actions.unable_to_save_widget_please_try_again"),type:"PLUGIN_INSTALL_FAILED",error:!0}))})})),N=(0,p.cj)("UNSAVE_EXTENSION",(e,{id:t,resourceType:r,orgId:n,communityProfile:i,hideSuccessVisualBell:s,source:_,optimisticData:g},{optimistId:f})=>{var v;let I={org_id:n,current_org_id:e.getState().currentUserOrgId};I.use_upgraded_version=!0,I.profile_id=null==(v=e.getState().authedActiveCommunityProfile)?void 0:v.id,r===y.y4.WIDGET&&(I.current_org_id=void 0);let w=`/api/${(0,E.sr)(r)}/${t}/install`,T=c.cp.del(w,I);(null==g?void 0:g.pluginInstallId)&&(0,l.w3)().optimisticallyDelete({PluginInstall:{[g.pluginInstallId]:null}},T),T.then(({data:l})=>{let c=l.meta,g=r===y.y4.WIDGET?{publishedPlugins:[c],src:"uninstallResource",isWidget:!0}:{publishedPlugins:[c],src:"uninstallResource"};if(e.dispatch(m.eY({...g,overrideInstallStatus:!0})),e.dispatch(p.sL.commit(f)),!s){let a={message:(()=>{var t;if("inserts_modal"===_)return r===y.y4.PLUGIN?(0,d.t)("community.saves.plugin_removed_from_your_account"):(0,d.t)("community.saves.widget_removed_from_your_account");if((0,o.Ub)().cmty_deprecate_browse_as_admin){if(n){let t=Object.values(e.getState().authedProfilesById).find(e=>e.org_id===n);return(0,d.t)(r===y.y4.PLUGIN?"community.saves.plugin_removed_for_everyone_at":"community.saves.widget_removed_for_everyone_at",{orgName:(null==t?void 0:t.name)||"your org"})}if(null==(t=e.getState().user)?void 0:t.community_profile_id)return(0,d.t)(r===y.y4.PLUGIN?"community.saves.plugin_removed_from_your_account_and_profile":"community.saves.widget_removed_from_your_account_and_profile")}else{if((null==i?void 0:i.entity_type)===b.Iv.ORG)return r===y.y4.PLUGIN?(0,d.t)("community.saves.plugin_removed_for_everyone_at",{orgName:i.name}):(0,d.t)("community.saves.widget_removed_for_everyone_at",{orgName:i.name});if(null==i?void 0:i.public_at)return r===y.y4.PLUGIN?(0,d.t)("community.saves.plugin_removed_from_your_account_and_profile"):(0,d.t)("community.saves.widget_removed_from_your_account_and_profile")}return r===y.y4.PLUGIN?(0,d.t)("community.saves.plugin_removed_from_your_account"):(0,d.t)("community.saves.widget_removed_from_your_account")})(),type:"PLUGIN_UNINSTALL_SUCCESS",button:{text:(0,d.t)("community.undo"),action:()=>{e.dispatch(u.A.dequeue({matchType:"PLUGIN_UNINSTALL_SUCCESS"})),e.dispatch(O({id:t,resourceType:r,orgId:n,communityProfile:i,hideSuccessVisualBell:!0,source:_}))}}};e.dispatch(u.A.enqueue(a))}(0,a.we)((0,y.mc)(c)?h.E7.WIDGET_UNINSTALLED:h.E7.PLUGIN_UNINSTALLED,{communityHubEntity:(0,y.mc)(c)?h.uu.WIDGETS:h.uu.PLUGINS,communityHubEntityId:c.id,source:_})}).catch(t=>{e.dispatch(p.sL.revert(f)),console.error(t)})}),L={[y.K2.PLUGIN]:function(e){return v.q.getInstallStatus({orgId:e})},[y.K2.WIDGET]:function(e){return I.w.getInstallStatus({orgId:e})}},R=(0,p.M0)((e,t)=>{let r={plugin_id:t.id};t.orgId&&(r.org_id=t.orgId);let n=L[t.resourceType];n&&n(t.orgId).then(({data:e})=>{t.callback(!e.meta.previously_installed_plugin)}).catch(r=>{e.dispatch(u.A.enqueue({type:"plugin-save-error",message:t.resourceType===y.y4.PLUGIN?(0,d.t)("community.actions.unable_to_save_plugin_error",{error:(0,d.ID)(r,r.data.message||"unknown error")}):(0,d.t)("community.actions.unable_to_save_widget_error",{error:(0,d.ID)(r,r.data.message||"unknown error")}),error:!0}))})}),P=(0,p.M0)((e,t)=>{let{orgId:r,id:n,resourceType:i,communityProfile:a}=t;e.dispatch(R({orgId:r,id:n,resourceType:i,callback:t=>{t?((0,f.a2)({action:h.k9.PLUGIN_INSTALL_CONFIRMATION_MODAL_SHOWN,communityHubEntity:h.uu.PLUGINS,communityHubEntityId:n}),e.dispatch((0,_.A5)({type:w.I,data:{dispatch:e.dispatch,id:n,resourceType:i,callback:()=>{e.dispatch(O({id:n,resourceType:i,orgId:r,communityProfile:a,source:"community_hub"}))}}}))):e.dispatch(O({id:n,resourceType:i,orgId:r,communityProfile:a,source:"community_hub"}))}}))})},958196:(e,t,r)=>{"use strict";r.d(t,{OK:()=>ea,op:()=>el,uq:()=>eo,w8:()=>ei,wR:()=>es,wr:()=>ec});var n=r(250008),i=r(843148),a=r(372152),o=r(493128),l=r(888932),s=r(326660),c=r(58908),d=r(816596),u=r(778524),p=r(560072),m=r(317704),_=r(326300),h=r(810088),g=r(745500),f=r(992712),E=r(326020),y=r(592164),b=r(511308),v=r(268984),I=r(321296),w=r(323576),T=r(417184),S=r(667568),C=r(43668),A=r(12832),O=r(462888),N=r(762820),L=r(818388),R=r(553432),P=r(325252),M=r(89936),k=r(753556),D=r(322128),F=r(702400),x=r(778112),U=r(144984),B=r(980844),G=r(224100),V=r(793944),H=r(19696),W=r(813344),K=r(983556),Y=r(158196),q=r(18424),j=r(72708),$=r(98660),Z=r(842872),z=r(584208),Q=r(750908),X=r(791992),J=r(455580),ee=r(936036);let et=()=>async e=>{let t="org-admin-team-creation";e(m.A.enqueue({message:(0,p.t)("resources_tab.create_team_modal.team_creation_loading"),type:t,icon:_.mc.SPINNER}));try{let r=(await W.A.createStarterTeam()).data.meta;return e(m.A.dequeue({matchType:t})),e(w.Kw()),r}catch(r){return e(m.A.dequeue({matchType:t})),e(w.Kw()),e(m.A.enqueue({message:(0,p.t)("general.an_error_occurred"),error:!0})),Promise.reject()}},er=(e,t,r)=>n=>{n(w.A5({type:Y.y4,data:{confirmationTitle:(0,p.t)("resources_tab.create_team_modal.modal_title",{extensionName:e}),content:(0,p.t)("resources_tab.create_team_modal.content",{orgName:t}),confirmText:(0,p.t)("general.continue"),onConfirm:()=>{n(et()).then(r)},dispatch:n,hideCancel:!0}}))},en=(0,v.M0)(async(e,t)=>{let{workspaces:r,plans:n}=t,i=e.getState(),{authedUsers:a,orgById:o}=i,l=r.map(e=>({...e,workspaceName:(0,A.OC)(i,e),user:a.byId[e.userId]})),s=await Promise.all(l.map(async e=>{let r=e.orgId&&o[e.orgId],a=!0,l=!0;if(r&&(a=await (0,S.o3)(t.resource,r),l=(0,S.g5)(t.resource,r)),(0,P.o3)(t.resource)&&!(0,R.canMemberOrg)(e.orgId,i,e.userId))return;let s=(0,f.g)(e,t.editorType,i,n);return s.publicPluginsOrWidgetDisabled=!a,s.extensionRequestsAllowed=l,s})),c=[];if(s.forEach(e=>{void 0!==e&&c.push(e)}),c.length<=1){let e=c.length?c[0]:void 0;t.onSelectWorkspace(e);return}e.dispatch(w.A5({type:h.q,data:{payload:{extension:t.resource,workspaces:c,onSelectWorkspace:t.onSelectWorkspace,mode:"new_file"}}}))}),ei=(0,v.M0)((e,t)=>{if(l.m_){window.location.href="/login";return}let r=t.isWidget?(0,p.t)("community.logged_out.sign_up_modal_widget_header"):(0,p.t)("community.logged_out.sign_up_modal_plugin_header");e.dispatch(d.a.init({origin:"plugin_try_signed_out"})),e.dispatch(w.A5({type:q.I,data:{headerText:r,icon:t.isWidget?ee.c:J.c,dispatch:e.dispatch,redirectPath:t.redirectPath}}))}),ea=(0,v.M0)(async(e,t)=>{var r,i,o;let l=e.getState().currentUserOrgId,{tryPluginId:s,tryPluginName:c,tryPluginVersionId:d,isWidget:p,fullscreenEditorType:m,isPlaygroundFile:_,fileKey:h,tryPluginParams:g}=t;(0,n.we)("extension_tried_in_fullscreen",{tryPluginId:s,tryPluginName:c,tryPluginVersionId:d,isWidget:p,fullscreenEditorType:m,isPlaygroundFile:_,fileKey:h,tryPluginParams:JSON.stringify(g)});let f=p&&!_,v={initialX:0,initialY:0};if(g&&(0,k.Y9)(s)){let t=(await (0,z.O4)(e,{resourceType:x.K2.PLUGIN,resourceIds:[s]}))[s];M.m.instance.enqueue({runPluginArgs:{plugin:t,command:"",queryMode:!1,triggeredFrom:"try-plugin-params",openFileKey:h??(0,H.Af)()??"",isWidget:!1,runMode:"default"},mode:"run-forever"})}else if(f)await I._2({[s]:[d]},l),(0,L.I)({pluginID:s,widgetName:c,pluginVersionID:d});else if(_){if("whiteboard"===m){(0,u.Y9)({id:K.O8});let t=p?j.i.WIDGETS:j.i.PLUGINS,r={id:s,type:p?F.C.WIDGETS:F.C.PLUGINS};e.dispatch(Q.kh({initialTab:t,previewResource:r}))}else if("design"===m){(0,u.Y9)({id:K.O8});let t=p?$.o.WIDGET:$.o.PLUGIN,r={id:s,type:p?$.o.WIDGET:$.o.PLUGIN};e.dispatch(Q.kh({initialFdResourceTab:t,fdPreviewResource:r}))}else if("dev_handoff"===m){let t=(await (0,z.O4)(e,{resourceType:x.K2.PLUGIN,resourceIds:[s]}))[s];if((null==(r=t.manifest.editorType)?void 0:r.includes(G.gr.FIGMA))&&(0,u.Y9)({id:K.O8}),(0,P.qI)(t)){let r=(0,b.Uj)(t);e.dispatch((0,E.kZ)({plugin:t,codeLanguage:r}))}else{a.qM.set(y.g,y.u.PLUGIN);let t={id:s,type:$.o.PLUGIN};e.dispatch(Q.KE({...v,initialFdResourceTab:$.o.PLUGIN,fdPreviewResource:t}))}}}else if("whiteboard"===m)N.i46.triggerAction("clear-tool",{source:Z.m4}),setTimeout(()=>{e.dispatch(Q.KE({...v,initialTab:p?j.i.WIDGETS:j.i.PLUGINS,previewResource:{id:s,type:p?F.C.WIDGETS:F.C.PLUGINS}}))},Z._s);else if("design"===m)null==(i=N.i46)||i.triggerAction("clear-tool",{source:Z.m4}),e.dispatch(Q.KE({...v,initialFdResourceTab:p?$.o.WIDGET:$.o.PLUGIN,fdPreviewResource:{id:s,type:p?$.o.WIDGET:$.o.PLUGIN}}));else if("dev_handoff"===m){N.i46.triggerAction("clear-tool",{source:Z.m4});let t=(await (0,z.O4)(e,{resourceType:x.K2.PLUGIN,resourceIds:[s]}))[s];if((null==(o=t.manifest.editorType)?void 0:o.includes(G.gr.FIGMA))&&(0,u.Y9)({id:K.O8}),(0,P.qI)(t)){let r=(0,b.Uj)(t);e.dispatch((0,E.kZ)({plugin:t,codeLanguage:r}))}else{a.qM.set(y.g,y.u.PLUGIN);let t={id:s,type:$.o.PLUGIN};e.dispatch(Q.KE({...v,initialFdResourceTab:$.o.PLUGIN,fdPreviewResource:t}))}}}),eo=(0,v.M0)((e,t)=>{let r=e.getState().user,n=!!t.extension.isWidget,i=t.extension.currentPluginVersion;if(!i||!r)return;let a=i.hasPlaygroundFile,o="dev_handoff"===t.fullscreenEditorType,l={fullscreenEditorType:t.fullscreenEditorType,tryPluginId:t.extension.id,tryPluginVersionId:i.id,tryPluginName:i.name??"",isWidget:n,isPlaygroundFile:!!(a||o),fuid:r.id,tryPluginParams:void 0};(0,D.Ep)(r.id,!1,null),(0,X.y)(l,null,null,r.id),(()=>{let a={storeInRecentsKey:"whiteboard"===t.fullscreenEditorType?V.Sy.FigJam:V.Sy.Design,id:t.extension.id,version:i.id,currentUserId:r.id};n?e.dispatch(z.Ql(a)):e.dispatch(z.UN(a))})()}),el=(0,v.M0)((e,t)=>{let r=e.getState(),n=r.user,i=!!t.extension.isWidget,a=t.extension.currentPluginVersion;if(!a||!n)return;let l=()=>{let r={storeInRecentsKey:"whiteboard"===t.fullscreenEditorType?V.Sy.FigJam:V.Sy.Design,id:t.extension.id,version:a.id,currentUserId:n.id};i?e.dispatch(z.Ql(r)):e.dispatch(z.UN(r))},s=a.hasPlaygroundFile,c="dev_handoff"===t.fullscreenEditorType,d={fullscreenEditorType:t.fullscreenEditorType,tryPluginId:t.extension.id,tryPluginVersionId:a.id,tryPluginName:a.name??"",isWidget:i,isPlaygroundFile:!!(s||c),fuid:n.id,tryPluginParams:void 0},u=r.plans.filter(e=>e.plan_type===B.Y.TEAM).map(e=>{let t=(0,o.a)(e,n.id);return{...t,workspaceName:(0,A.OC)(r,t),user:n}});if(0===u.length){e.dispatch(er(a.name,r.orgById[r.currentUserOrgId].name,e=>{(0,D.Ep)(n.id,!1,null,void 0,e.id),(0,X.y)(d,null,e.id,n.id),l()}));return}1===u.length?((0,D.Ep)(n.id,!1,null,void 0,u[0].teamId??null),(0,X.y)(d,null,u[0].teamId??null,n.id),l()):e.dispatch(w.A5({type:h.q,data:{payload:{workspaces:u,onSelectWorkspace:e=>{(0,D.Ep)(n.id,!1,null,void 0,(null==e?void 0:e.teamId)??null),(0,X.y)(d,null,(null==e?void 0:e.teamId)??null,n.id),l()},mode:"new_file"}}}))}),es=(0,v.M0)((e,t)=>{let r=e.getState(),n=r.user,i=!!t.extension.isWidget,a=t.extension.currentPluginVersion;if(!a||!n)return;let o=a.hasPlaygroundFile,l="dev_handoff"===t.fullscreenEditorType,s={fullscreenEditorType:t.fullscreenEditorType,tryPluginId:t.extension.id,tryPluginVersionId:a.id,tryPluginName:a.name??"",isWidget:i,isPlaygroundFile:!!(o||l),fuid:n.id,tryPluginParams:void 0},c=r.plans.find(e=>e.plan_type===B.Y.ORG&&e.plan_id===r.currentUserOrgId);(0,D.Ep)(n.id,!1,c.plan_id,void 0,null),(0,X.y)(s,c.plan_id,null,n.id),(()=>{let r={storeInRecentsKey:"whiteboard"===t.fullscreenEditorType?V.Sy.FigJam:V.Sy.Design,id:t.extension.id,version:a.id,currentUserId:n.id};i?e.dispatch(z.Ql(r)):e.dispatch(z.UN(r))})()}),ec=(0,v.M0)(async(e,t)=>{var r;let a=e.getState(),{user:o,authedActiveCommunityProfile:l}=a,d=(0,g.T)(a),u=(0,x.mc)(t.resource),_=(0,P.Y9)(t.resource);if(!o){e.dispatch(ei({isWidget:u}));return}let h=()=>{let r={storeInRecentsKey:"whiteboard"===t.fullscreenEditorType?V.Sy.FigJam:V.Sy.Design,id:t.resource.id,version:_.id,currentUserId:o.id};u?e.dispatch(z.Ql(r)):e.dispatch(z.UN(r))},f=(0,T.IJ)(a).length>1,E=(0,T.a)(l),y=!!((null==o?void 0:o.id)&&(0,A.yo)([o.id],a)),b=[],v=null;if((0,i.Ub)().ps_benchmark)try{v=await e.dispatch((0,C.g3)(!0)),b=(0,O.R)(a,t.resource,v)}catch(n){let t=(null==(r=null==n?void 0:n.data)?void 0:r.message)||(0,p.t)("file_browser.error_try_again");e.dispatch(m.A.enqueue({message:t,type:"error"}))}else b=(0,O.R)(a,t.resource,{plansByUserId:{},teams:[],orgs:[]});let I=(f||y)&&!E&&!t.fileKey;(0,i.Ub)().ps_benchmark&&(I=b.length>1&&!t.fileKey);let w={fullscreenEditorType:t.fullscreenEditorType,tryPluginId:t.resource.id,tryPluginVersionId:_.id,tryPluginName:_.name,tryPluginEditorType:(0,P.eO)(_.manifest.editorType),isWidget:u,isPlaygroundFile:!!t.isPlaygroundFile,tryPluginParams:void 0,fileKey:t.fileKey};if((0,n.we)("CTA Clicked",{name:"Try it out",pluginId:t.resource.id,isWidget:u,editorType:t.fullscreenEditorType,isMonetized:(0,x.OG)(t.resource),fileKey:t.fileKey,...d}),I)(0,n.we)("try_it_out_drafts_picker_menu_opened",{pluginId:t.resource.id,isWidget:u,...d}),e.dispatch(en({plans:v,workspaces:b,resource:t.resource,editorType:(0,U.sZ)(t.fullscreenEditorType),onSelectWorkspace:e=>{e?(w.fuid=e.userId,(0,D.Ep)(e.userId,!1,e.orgId,void 0,e.teamId??null),(0,X.y)(w,e.orgId,e.teamId??null,e.userId)):(0,X.y)(w,null,null,o.id),h()}}));else{if((0,i.Ub)().ps_benchmark){if(t.fileKey)w.fuid=t.userId??o.id,(0,X.y)(w,null,null,w.fuid);else if(1===b.length){let r=b[0];if(r.orgId&&!(0,S.g5)(t.resource,a.orgById[r.orgId])&&!await (0,S.o3)(t.resource,a.orgById[r.orgId])){e.dispatch(er(_.name,(0,A.OC)(a,r),e=>{(0,D.Ep)(o.id,!1,null,void 0,e.id),(0,X.y)(w,null,e.id,o.id),h()}));return}(0,D.Ep)(r.userId,!1,r.orgId,void 0,r.teamId??null),(0,X.y)(w,r.orgId,r.teamId??null,r.userId)}else(0,s.oP)(c._.COMMUNITY,Error("No workspaces found")),e.dispatch(m.A.enqueue({message:(0,p.t)("file_browser.error_try_again"),error:!0}))}else t.userId?(w.fuid=t.userId,(0,D.Ep)(t.userId,!1),(0,X.y)(w,null,null,t.userId)):(0,X.y)(w,null,null,o.id);h()}})},649228:(e,t,r)=>{"use strict";let n;r.d(t,{Ap:()=>f,OA:()=>w,Qb:()=>T,_K:()=>S,_Q:()=>y,eE:()=>b,e_:()=>v,iw:()=>E,ox:()=>C});var i=r(557044),a=r(967540),o=r(560072),l=r(146388),s=r(268984),c=r(796116),d=r(321296),u=r(90340),p=r(325252),m=r(678280),_=r(72708),h=r(98660),g=r(750908),f=((n=f||{}).INVITE_TILE="invite_tile",n.COMMUNITY_PAGE="community_page",n);let E=(0,s.M0)((e,t)=>{i.cp.put("/api/community_publishers/accept",t).then(({data:t})=>{let r=I(t.meta);r&&e.dispatch(r)}).catch(t=>{let r=(0,o.ID)(t);throw e.dispatch(a.M.error((0,o.t)("community.actions.an_error_occurred_accepting_invite_please_refresh_and_try_again"))),Error(`Error updating resource ${r}`)})}),y=(0,s.M0)((e,t)=>{let{src:r,plugin_id:n,widget_id:l}=t;i.cp.put("/api/plugin_publishers/accept",{plugin_id:n,widget_id:l}).then(({data:t})=>{var i;let a=I(t.meta);a&&e.dispatch(a),(0,u._U)("plugin_publisher_invite_accepted",{src:r,userId:null==(i=e.getState().user)?void 0:i.id,pluginId:n??l,isWidget:!!l});let o=(0,p.a6)();n?e.dispatch(g.KE({initialX:0,initialY:0,initialTab:"figjam"===o?_.i.PLUGINS:void 0,initialFdResourceTab:"figma"===o?h.o.PLUGIN:void 0,scrollDevelopmentSectionIntoView:"figjam"===o,initialFdView:"figma"===o?"development":void 0})):l&&e.dispatch(g.KE({initialX:0,initialY:0,initialTab:"figjam"===o?_.i.WIDGETS:void 0,initialFdResourceTab:"figma"===o?h.o.WIDGET:void 0,scrollDevelopmentSectionIntoView:"figjam"===o,initialFdView:"figma"===o?"development":void 0}))}).catch(t=>{let r=(0,o.ID)(t);throw e.dispatch(a.M.error((0,o.t)("community.actions.an_error_occurred_accepting_invite_please_refresh_and_try_again"))),Error(`Error updating resource ${r}`)})}),b=(0,s.M0)((e,t)=>{i.cp.del("/api/community_publishers/remove",t).then(({data:t})=>{let r=I(t.meta);r&&e.dispatch(r)}).catch(t=>{let r=(0,o.ID)(t);throw e.dispatch(a.M.error((0,o.t)("community.actions.an_error_occurred_while_removing_publisher_please_refresh_and_try_again"))),Error(`Error updating resource ${r}`)})}),v=(0,s.M0)((e,t)=>{i.cp.del("/api/plugin_publishers/remove",t).then(({data:r})=>{var n;let i=r.meta;if(r.meta.plugin){let{plugin_publishers:e}=r.meta.plugin;r.meta.plugin.plugin_publishers=e??{accepted:[],pending:[]}}else if(r.meta.widget){let{plugin_publishers:e}=r.meta.widget;r.meta.widget.plugin_publishers=e??{accepted:[],pending:[]}}let a=I(i);a&&e.dispatch(a),(0,u._U)("plugin_publisher_invite_removed",{src:t.src,userId:null==(n=e.getState().user)?void 0:n.id,pluginId:t.plugin_id||t.widget_id,isWidget:!!t.widget_id})}).catch(t=>{let r=(0,o.ID)(t);throw e.dispatch(a.M.error((0,o.t)("community.actions.an_error_occurred_while_removing_publisher_please_refresh_and_try_again"))),Error(`Error updating resource ${r}`)})});function I(e){return e.hub_file?(0,l.Ww)({hubFiles:[e.hub_file],src:"removeCommunityPublisher"}):e.plugin?d.eY({publishedPlugins:[e.plugin],src:"removeCommunityPublisher"}):e.widget?d.eY({publishedPlugins:[e.widget],src:"removeCommunityPublisher"}):void 0}let w=(0,s.M0)((e,t)=>{e.dispatch(d.UJ({profileId:t})),e.dispatch(d.kL({profileId:t})),e.dispatch(c.qw(t))}),T=(0,s.M0)(e=>{m.k.loadPluginsPublishedByUser(e),m.k.loadPluginsAuthoredByCurrentOrg(e)}),S=(0,s.M0)(e=>{m.k.loadPluginsAuthoredByCurrentOrg(e)}),C=(0,s.M0)(async e=>{await m.k.loadWidgetsAuthoredByCurrentOrg(e)})},905612:(e,t,r)=>{"use strict";r.d(t,{O:()=>f});var n=r(560072),i=r(317704),a=r(332320),o=r(268984),l=r(323576),s=r(90340),c=r(762820),d=r(553432),u=r(325252),p=r(778112),m=r(777468),_=r(839432),h=r(164228),g=r(321296);let f=(0,o.M0)((e,{localFileId:t,publishedPluginId:r,entryPoint:o,initialTab:f,initialAllowedTabs:E,localSnapshotUrl:y,localSnapshotBlob:b})=>{var v,I;let w=e.getState(),{localPlugins:T,publishedPlugins:S,publishedWidgets:C,publishingPlugins:A,currentUserOrgId:O,authedProfilesById:N,user:L}=w,R=r&&S[r]||r&&C[r],P=null!=t&&T[t];if(R&&!(0,p.OG)(R)&&(0,a.TL)(R)&&P&&(null==(v=P.manifest.permissions)?void 0:v.includes("payments"))&&L&&!L.has_passed_visual_compliance){e.dispatch(l.us({type:h.E.type}));return}if(null==t||A[t]){if(null!=t&&A[t])try{if(y&&A[t].metadata.widgetSnapshotImageSrc!==y){let{metadata:r}=A[t];r.widgetSnapshotImageSrc=y,r.widgetSnapshotImageBlob=b,e.dispatch((0,g.m6)({id:t,metadata:r}))}}catch(t){e.dispatch(i.A.enqueue({message:(0,n.ID)(t)||t.message,error:!0}));return}else if(void 0===t&&r&&R)try{let t=(0,u.YV)({...(0,d.getPermissionsState)(w),currentUserOrgId:O,localPlugins:T,publishedPlugins:S,publishedWidgets:C,authedProfilesById:N},void 0,r,y);e.dispatch((0,g.m6)({id:R.id,metadata:t}))}catch(t){e.dispatch(i.A.enqueue({message:(0,n.ID)(t)||t.message,error:!0}));return}}else try{let n=(0,u.YV)({...(0,d.getPermissionsState)(w),currentUserOrgId:O,localPlugins:T,publishedPlugins:S,publishedWidgets:C,authedProfilesById:N},t,r,y,b);e.dispatch((0,g.m6)({id:t,metadata:n}))}catch(t){e.dispatch(i.A.enqueue({message:(0,n.ID)(t)||t.message,error:!0}));return}c.i46&&c.i46.triggerAction("set-tool-default",null),(0,s.E3)("show_publish_plugin_modal",w,{entryPoint:o,userId:null==(I=w.user)?void 0:I.id,orgId:w.currentUserOrgId,resourceType:R?R.is_widget?"widget":"plugin":void 0,publishedResourceId:R?R.id:void 0,initialTab:f??_.G8.PUBLISH}),e.dispatch(l.A5({type:m.s,data:{localFileId:t,entryPoint:o,initialTab:f,initialAllowedTabs:E??_.kn,publishedPluginId:R?R.id:void 0,existingSecurityFormResponse:null}}))})},21156:(e,t,r)=>{"use strict";r.d(t,{Ay:()=>p,L2:()=>_,OC:()=>m,sD:()=>u,ye:()=>d});var n=r(867084),i=r(560072),a=r(317704),o=r(323576),l=r(13468),s=r(210804),c=r(268984);let d=(0,c.M0)((e,t)=>{let r=t.stringToCopy,o={withLineBreaks:!(t.ignoreLineBreaks??!0),successText:t.successText};(0,n.CU)(r,o).then(()=>{e.dispatch(a.A.enqueue({type:"copied_to_clipboard",message:o.successText??(0,i.t)("fullscreen_actions.copied_to_clipboard")}))})}),u=(0,c.M0)((e,t)=>{let r=t.emailList,o=r.length,l=r.join("; ");(0,n.CU)(l).then(()=>{e.dispatch(a.A.enqueue({message:(0,i.t)("copy_to_clipboard.emails_copied_to_clipboard",{numEmails:o,emailText:l}),type:"emails-copied"}))})});function p(e){return(0,c.M0)((e,t)=>{let r=t.selector.selectedViewToPath(t.selectedView,t.data);if(!r)return;let n=new URL(r,document.baseURI).href;e.dispatch(_({url:n}))})(e)}let m=(0,c.M0)((e,t)=>{let r=new URL((0,l.gv)(e.getState(),t),document.baseURI).href;e.dispatch(_({url:r}))}),_=(0,c.M0)((e,t)=>{let r=t.url;(0,n.CU)(r).then(()=>{r.includes("mode=dev")||r.includes("m=dev")?e.dispatch(a.A.enqueue({type:"link_copied_to_clipboard",message:(0,i.t)("copy_to_clipboard.dev_link_copied_to_clipboard")})):e.dispatch(a.A.enqueue({type:"link_copied_to_clipboard",message:(0,i.t)("copy_to_clipboard.link_to_selection_copied_to_clipboard")}))}).catch(()=>{e.dispatch(o.A5({type:s.S,data:{link:r}}))})})},925388:(e,t,r)=>{"use strict";r.d(t,{DY:()=>L,Ip:()=>S,MJ:()=>k,MP:()=>A,SC:()=>P,We:()=>C,od:()=>N,qc:()=>R,qq:()=>O,wP:()=>D,yA:()=>M});var n=r(60452),i=r(250008),a=r(972920),o=r(899116),l=r(656716),s=r(493128),c=r(403132),d=r(257200),u=r(699084),p=r(1084),m=r(514916),_=r(154328),h=r(553432),g=r(13468),f=r(795368),E=r(685656),y=r(219476),b=r(37500),v=r(475136),I=r(268984),w=r(823252);let T=(0,I.M0)((e,{viewport:t})=>{var r,n;let{selectedView:i}=e.getState();if("fullscreen"===i.view){e.dispatch(c.Ej({...i,viewport:t}));let a=(null==(r=(0,p.gp)())?void 0:r.fileKey)||i.fileKey;a&&(null==(n=o.sZ)||n.updateViewport(a,t))}}),S=(0,I.M0)(e=>{let t=e.getState(),r=M(t);e.dispatch(w.Gm({query:t.desktopNewTab.searchQuery,searchScope:r,searchModelType:y.gX.FILES})),e.dispatch(w.J4({entryPoint:"desktop_new_tab"})),t=e.getState();let n=(0,g.eg)(t,{view:"search",entryPoint:"desktop_new_tab",previousView:t.selectedView&&((0,v.MZ)(t.selectedView)||(0,v.R4)(t.selectedView))?t.selectedView:void 0});l.default.redirect(n)}),C=(0,n.A)("DESKTOP_NEW_TAB_SET_LOADING_BACKGROUND_COLOR"),A=(0,n.A)("DESKTOP_NEW_TAB_SET_IS_SEARCH_BAR_FOCUSED"),O=(0,n.A)("DESKTOP_NEW_TAB_SET_SEARCH_QUERY"),N=(0,I.M0)((e,t)=>{let r=e.getState(),n=t.result,i=n.model,a={position:t.index,resource_id:i.key,resource_type:n.search_model_type.toString(),matched_queries:n.matched_queries,result:n},o={plan:(0,s.s)(r)};new b.c9.Analytics(r.search,a,o).click(n.search_model_type,r.selectedView,{action:t.clickAction}),e.dispatch(w.gh()),e.dispatch(c.Ej({view:"fullscreen",fileKey:i.key,editorType:i.editor_type??"design"}))}),L=(0,I.M0)(async(e,t,{liveStore:r})=>{let n=await r.fetchFile(t.fileKey);(0,i.we)("Desktop New Tab Open Recent",{itemType:"prototype",fileKey:n.key}),e.dispatch(c.Ej({view:"prototype",file:(0,_.QZ)(n),nodeId:t.pageId,pageId:t.pageId}))}),R=(0,I.M0)(async(e,t,{liveStore:r})=>{let n=await r.fetchFile(t.fileKey);(0,i.we)("Desktop New Tab Open Recent",{itemType:"file",fileKey:n.key}),e.dispatch(c.Ej({view:"fullscreen",fileKey:n.key,editorType:n.editor_type??"design"}))}),P=(0,I.M0)((e,t)=>{let r=e.getState();if(!r.desktopNewTab.isCreatingFile){let n=(0,u.KM)(e.getState(),E.mM.NEW_TAB,t.projectId?{folderId:t.projectId}:"drafts",{from:E.Uz.DESKTOP_NEW_TAB_BUTTON,selectedView:r.selectedView},t.editorType,void 0);e.dispatch(d.gn(n))}});function M(e){let t=(0,h.getPermissionsStateMemoized)(e);return t.currentUserOrgId?(0,h.canMemberOrg)(t.currentUserOrgId,t)?y.C4.ORG:y.C4.ORG_GUEST:y.C4.PERSONAL}function k(e,t){return t===m.aE.WHITEBOARD?"#ffffff":`#${(0,f.Sg)(e)}`}let D=(0,a.C)((e,t)=>{e.dispatch(T({viewport:t}))},1e3)},716520:(e,t,r)=>{"use strict";let n;r.d(t,{Q:()=>a,s:()=>i});var i=((n=i||{}).DevMode="dev_mode",n.TopBanner="dev_mode_top_banner",n.BetaOver="dev_mode_beta_over",n.Inspection="dev_mode_inspection",n.Navigation="dev_mode_navigation",n.TrackChanges="dev_mode_track_changes",n.QuickHandoff="dev_mode_quick_handoff",n.Plugin="dev_mode_plugin",n.SuperModal="dev_mode_super_modal",n.DowngradeEmail="dev_mode_downgrade_email",n);let a=["dev_mode_inspection","dev_mode_track_changes","dev_mode_quick_handoff","dev_mode_plugin","dev_mode_super_modal"]},276628:(e,t,r)=>{"use strict";r.d(t,{AN:()=>x,Av:()=>el,C1:()=>er,C2:()=>z,Cm:()=>N,Cs:()=>ei,EJ:()=>D,El:()=>J,G7:()=>eo,Gq:()=>ea,IZ:()=>L,QZ:()=>X,SM:()=>j,S_:()=>U,Tr:()=>O,Ur:()=>R,Ux:()=>k,W:()=>es,WO:()=>G,Wo:()=>Y,Y4:()=>B,Y7:()=>S,YZ:()=>W,_0:()=>Q,_u:()=>V,cx:()=>w,eY:()=>M,gt:()=>T,iI:()=>A,mw:()=>K,o3:()=>et,oB:()=>H,oF:()=>P,q0:()=>$,sf:()=>Z,uS:()=>ee,uc:()=>en});var n=r(60452),i=r(688420),a=r(972920),o=r(843148),l=r(560072),s=r(317704),c=r(90340),d=r(699084),u=r(439460),p=r(990180),m=r(762820),_=r(971032),h=r(321448),g=r(668988),f=r(629404),E=r(509416),y=r(493760),b=r(883820),v=r(268984);function I(e){return e.multiplayer.allUsers.length}function w(e,t,r){if(!e)return;let n=new g.m().selectedViewNameHelper(e,t,void 0!==r?function(e){let t=Math.max(0,e),r=t%60,n=(0,y.CC)((t-r)/60);return`${n}:${(0,y.CC)(r)}`}(r):void 0);(0,p.qQ)(n,e.editor_type)}function T(e){return e?e.isPaused?e.lastReceivedSongTimestampMs:e.lastReceivedSongTimestampMs+(performance.now()-e.timeOrigin):0}let S="active-song-not-found";async function C(e,t){let r=e;return await (0,E.ky)({songID:e,onSuccess:()=>{},onNotFound:()=>{t.dispatch(j({selectedSongID:"",musicStartTimeMs:0})),r="",t.dispatch(Z()),t.dispatch(s.A.enqueue({message:(0,l.t)("whiteboard.timer.song_not_available_error"),error:!0,type:S}))}}),r}let A=(0,v.eg)("SET_SELECTED_SONG_ID_MUSIC",(e,t)=>{let{music:r}=e.getState().music,n=!t.dontTransmitWhenPaused;if(r&&!r.isStopped&&(!r.isPaused||n)){let n=e.getState().music.activeSongs.find(e=>e.song_id===t.selectedSongID);e.dispatch(x({eventName:"update-music-song-id",isPaused:!r||r.isPaused,selectedSongID:t.selectedSongID,lastReceivedSongTimestampMs:(null==n?void 0:n.start_at_ms)||0,isStopped:!r||r.isStopped}))}}),O=(0,v.M0)(e=>{e.dispatch(N()),(0,E.ai)(),(0,E.sb)()}),N=(0,n.A)("RESET_LOCAL_MUSIC"),L=(0,v.M0)((e,t)=>{if(e.dispatch(R(t)),t.isPaused||t.isStopped||!t.selectedSongID)(t.isPaused||t.isStopped)&&(0,E.VZ)()&&(0,E.ai)();else{let r=F(t.selectedSongID,e.getState().music.activeSongs);(0,E.e_)(r,()=>{e.dispatch(k())})}}),R=(0,n.A)("SET_MUSIC_STATE"),P=(0,v.eg)("RESUME_MUSIC",async(e,t)=>{var r;let n=T(t),i=null==(r=e.getState().music.music)?void 0:r.selectedSongID;i&&(i=await C(i,e)),e.dispatch(x({eventName:"resume-music",isPaused:!1,selectedSongID:i||"",lastReceivedSongTimestampMs:n,isStopped:!1}))}),M=(0,v.M0)((e,t)=>{var r;let n=T(t),i=null==(r=e.getState().music.music)?void 0:r.selectedSongID;e.dispatch(x({eventName:"pause-music",isPaused:!0,selectedSongID:i||"",lastReceivedSongTimestampMs:n,isStopped:!1}))}),k=(0,v.M0)(e=>{var t;let r=null==(t=e.getState().music.music)?void 0:t.selectedSongID;e.dispatch(x({eventName:"stop-music",isPaused:!0,selectedSongID:r||"",lastReceivedSongTimestampMs:0,isStopped:!0}))}),D=(0,v.eg)("START_MUSIC",async(e,{musicStartTimeMs:t=0})=>{let{music:r}=e.getState().music,n="";r&&(n=r.selectedSongID),n&&(n=await C(n,e)),e.dispatch(x({eventName:"start-music",isPaused:!1,selectedSongID:n,lastReceivedSongTimestampMs:t,isStopped:!1}))}),F=(e,t)=>t.find(t=>t.song_id===e),x=(0,v.eg)("SEND_MUSIC_MESSAGE",(e,t)=>{var r;let n=e.getState().music;m.Abq.sendMusic(t.isPaused,((null==(r=null==n?void 0:n.music)?void 0:r.musicMessageID)||0)+1,t.selectedSongID||"",t.lastReceivedSongTimestampMs||0,t.isStopped)});(0,v.M0)((e,t)=>{"open"===t.state&&(0,b.q)(()=>{var t;(null==(t=e.getState().music)?void 0:t.modalState)==="open"&&e.dispatch(U({state:"closed",userInitiated:!1}))}),e.dispatch(U(t))});let U=(0,n.A)("SET_MUSIC_MODAL"),B=(0,n.A)("RESET_LOCAL_TIMER"),G=(0,v.eg)("SET_MUSIC_STANDALONE_VOLUME",(e,t)=>{q(e.getState(),t)}),V=(0,v.eg)("SET_MUSIC_IS_MUTED",(e,{isMuted:t,userInitiated:r})=>{r&&(0,f.iO)(e.getState(),t)}),H=(0,v.eg)("SET_TIMER_AND_MUSIC_ARE_MUTED",(e,{isMuted:t,userInitiated:r})=>{r&&(0,f.iO)(e.getState(),t)}),W=(0,n.A)("SET_STANDALONE_MUSIC_PLAYER"),K=(0,n.A)("SET_MAIN_MUSIC_PLAYER"),Y=(0,v.eg)("SET_MUSIC_VOLUME",(e,t)=>{q(e.getState(),t)}),q=(0,a.C)((e,t)=>(0,f.ms)(e,t),1e3,!1),j=(0,v.eg)("SET_SELECTED_SONG_ID",(e,t)=>{let{time:r}=e.getState().timer;if(r&&r.totalTimeMs>0){let n=(0,y.ai)(r);e.dispatch(er({eventName:"update-timer-song-id",totalTimeMs:r.totalTimeMs,timeRemainingMs:n,isPaused:r.isPaused,songID:t.selectedSongID,lastReceivedSongTimestampMs:t.musicStartTimeMs})),_.qW.timerChange("timerupdatesongid")}}),$=(0,n.A)("GET_ACTIVE_SONGS_SUCCESS"),Z=(0,v.M0)(async e=>{try{let t=await h.l.getSongs();if(!t||200!==t.status||!t.data||!t.data.meta)throw i.g.warn("Failed to fetch active songs"),Error("Api error while fetching active songs");e.dispatch($(t.data.meta))}catch(e){throw i.g.warn("Failed to fetch active songs"),e}}),z=(0,n.A)("SET_SHOWING_FILE_FOOTER"),Q=(0,n.A)("SET_SELECTED_TYPED_PROP_DEF_ID"),X=(0,n.A)("SET_START_CHIME_PLAYED"),J=(0,n.A)("SET_TIMER_NOTIFICATION"),ee=(0,n.A)("SET_TIMER_AUDIO_ENABLED"),et=(0,v.eg)("SET_TIMER_MODAL",(e,t)=>{var r,n;if("open"===t.state&&(0,y.QF)()&&(0,b.q)(()=>{var t;let r=(0,y.QF)();(null==(t=e.getState().timer)?void 0:t.modalState)==="open"&&r&&e.dispatch(et({state:"closed",userInitiated:!1}))}),t.userInitiated){let i=e.getState(),a=(null==(r=i.timer.time)?void 0:r.timeRemainingMs)>0;(0,c.s5)(`timer-modal-${t.state}`,null==(n=i.openFile)?void 0:n.key,i,{"multiplayer-users":I(i),"timer-active":a,source:t.source})}}),er=(0,v.eg)("SEND_TIMER",(e,t)=>{var r,n,i;let a=e.getState(),l=a.timer,s=l.setBy;if("start-timer"===t.eventName){let e=a.multiplayer.allUsers.find(e=>e.sessionID===a.multiplayer.sessionID);s=e?e.name:(null==(r=(0,o.cp)().user_data)?void 0:r.handle)||"anonymous user"}if(m.Abq.sendTimer(t.totalTimeMs||0,t.timeRemainingMs||0,!!t.isPaused,((null==(n=null==l?void 0:l.time)?void 0:n.timerID)||0)+1,s,t.songID||"",t.lastReceivedSongTimestampMs||0),t.eventName){let e={"multiplayer-users":I(a)};if("adjust-timer"===t.eventName){let r=Math.round((t.totalTimeMs-a.timer.time.totalTimeMs)/1e3);e["time-added-s"]=r}else"start-timer"===t.eventName&&(e["duration-s"]=Math.round(t.totalTimeMs/1e3));(0,c.s5)(t.eventName,null==(i=a.openFile)?void 0:i.key,a,e,{forwardToDatadog:!0})}}),en=(0,v.eg)("SET_TIMER",(e,t)=>{if(0===t.totalTimeMs){let t=e.getState(),r=(0,d.QZ)(t);if(r){let e=(0,u.D$)(r,t.repos);w(r,e)}}}),ei=(0,v.eg)("START_TIMER",async(e,{totalTimeMs:t,musicStartTimeMs:r=0})=>{let n=e.getState().timer.selectedSongID;n&&(n=await C(n,e)),e.dispatch(er({eventName:"start-timer",totalTimeMs:t,timeRemainingMs:t,isPaused:!1,songID:n,lastReceivedSongTimestampMs:r})),_.qW.timerChange("timerstart")}),ea=(0,v.M0)((e,t)=>{let r=e.getState().timer.selectedSongID;e.dispatch(er({eventName:"adjust-timer",totalTimeMs:t.timer.totalTimeMs+t.deltaMs,timeRemainingMs:(0,y.ai)(t.timer)+t.deltaMs,isPaused:t.timer.isPaused,songID:r,lastReceivedSongTimestampMs:t.timer.lastReceivedSongTimestampMs})),_.qW.timerChange("timeradjust")}),eo=(0,v.M0)((e,t)=>{let r=(0,y.ai)(t),n=T(t),i=e.getState().timer.selectedSongID;e.dispatch(er({eventName:"pause-timer",totalTimeMs:t.totalTimeMs,timeRemainingMs:r,isPaused:!0,songID:i,lastReceivedSongTimestampMs:n})),_.qW.timerChange("timerpause")}),el=(0,v.M0)(e=>{let t=e.getState().timer.selectedSongID;e.dispatch(er({eventName:"stop-timer",totalTimeMs:0,timeRemainingMs:0,isPaused:!0,songID:t,lastReceivedSongTimestampMs:0})),_.qW.timerChange("timerstop")}),es=(0,v.eg)("RESUME_TIMER",async(e,t)=>{let r=e.getState().timer.selectedSongID;r&&(r=await C(r,e)),e.dispatch(er({eventName:"resume-timer",totalTimeMs:t.totalTimeMs,timeRemainingMs:t.timeRemainingMs,isPaused:!1,songID:r,lastReceivedSongTimestampMs:t.lastReceivedSongTimestampMs})),_.qW.timerChange("timerresume")})},645484:(e,t,r)=>{"use strict";r.d(t,{$:()=>M,Ez:()=>D,Id:()=>v,Ks:()=>q,QT:()=>F,Tu:()=>O,U5:()=>H,Ul:()=>R,WU:()=>A,_K:()=>P,_U:()=>N,a4:()=>C,ag:()=>b,c3:()=>k,cz:()=>w,eA:()=>I,gl:()=>x,kf:()=>U,kk:()=>S,mG:()=>G,o9:()=>V,s3:()=>T,uk:()=>L,xT:()=>B});var n=r(60452),i=r(916924),a=r(115200),o=r(61836),l=r(333864),s=r(733500),c=r(557044),d=r(967540),u=r(560072),p=r(317704),m=r(268984),_=r(439460),h=r(782800),g=r(236296),f=r(514916),E=r(472956),y=r(585496);let b=(0,n.A)("SET_FAVORITES_COUNT"),v=(0,n.A)("UPDATE_EXPANDED_CUSTOM_SECTIONS"),I=(0,n.A)("SET_MOVING_RESOURCE"),w=(0,n.A)("SET_NEW_SECTION_INDEX"),T=(0,m.M0)((e,t)=>{let{name:r,orderedFavoriteIds:n}=t,i=c.cp.put(`/api/user_sidebar_sections/${t.sectionId}`,{ordered_favorited_resource_ids:n,name:r}).catch(t=>{e.dispatch(p.A.enqueue({message:`${t.data.message}`}))});(0,o.w3)().optimisticallyUpdate({UserSidebarSection:{[t.sectionId]:{...r?{name:r}:{},...n?{orderedFavoritedResourceIds:n}:{}}}},i),t.name&&(0,a.mk)(t.sectionId,t.name)}),S=(0,m.M0)((e,t)=>{let r=c.cp.del(`/api/user_sidebar_sections/${t.sidebarSectionId}`).catch(t=>{e.dispatch(p.A.enqueue({message:`${t.msg}`}))});(0,a.I3)(t.sidebarSectionId),(0,o.w3)().optimisticallyDelete({UserSidebarSection:{[t.sidebarSectionId]:null}},r)}),C=(0,m.M0)((e,t)=>{let r={favorited_resource_ids:t.favoriteIds,team_id:t.teamId,org_id:t.orgId};c.cp.put("/api/planless_favorited_resource_plan_id",r).catch(t=>{e.dispatch(p.A.enqueue({message:`${t.data.message}`}))})}),A=(0,m.M0)((e,t)=>{let r={section_id:t.sectionId,ordered_favorite_ids:t.orderedFavoriteIds},n=c.cp.put(`/api/favorited_resources/${t.favoriteId}`,r).catch(t=>{e.dispatch(p.A.enqueue({message:`${t.data.message}`}))});t.sectionId&&(0,o.w3)().optimisticallyUpdate({UserSidebarSection:{[t.sectionId]:{orderedFavoritedResourceIds:t.orderedFavoriteIds}}},n);let i={[t.favoriteId]:{sidebarSectionId:t.sectionId}};switch(t.resourceType){case f.M$.TEAM:(0,o.w3)().deprecatedOptimisticallyUpdateByView(E.wDW,{FavoritedTeam:i},n);break;case f.M$.FOLDER:(0,o.w3)().deprecatedOptimisticallyUpdateByView(E.wDW,{FavoritedProject:i},n);break;case f.M$.FILE:(0,o.w3)().deprecatedOptimisticallyUpdateByView(E.wDW,{FavoritedFile:i},n);break;case f.M$.PROTOTYPE:(0,o.w3)().deprecatedOptimisticallyUpdateByView(E.wDW,{FavoritedPrototype:i},n);break;case f.M$.WORKSPACE:(0,o.w3)().deprecatedOptimisticallyUpdateByView(E.wDW,{FavoritedWorkspace:i},n)}}),O=(0,m.cj)("CREATE_SIDEBAR_SECTION_FAVORITE",(e,t,{optimistId:r})=>{var n,i,a,l,s,d,u;let m=e.getState().currentUserOrgId??null,_={name:t.name,org_id:m,insert_at_index:t.insertAtIndex,ordered_sections:t.currentOrderedSections},h=c.cp.post("/api/user_sidebar_sections",_).then(n=>{if(!(null==n?void 0:n.data.meta)){e.dispatch(I({movingResource:void 0}));return}K(e.dispatch,t.newResourceForSection.resourceType,t.newResourceForSection.isFavorited,t.newResourceForSection.resourceId,r,n.data.meta),e.dispatch(I({movingResource:void 0}))}).catch(t=>{e.dispatch(p.A.enqueue({message:`${t.msg}`}))});if((0,o.w3)().optimisticallyCreate({UserSidebarSection:{[j]:{userId:(null==(n=e.getState().user)?void 0:n.id)??"",orgId:m,name:t.name,createdAt:new Date,orderedFavoritedResourceIds:[]}}},h),t.prefs&&t.currentOrderedSections){let r=t.currentOrderedSections.length,n=[...null==(i=t.currentOrderedSections)?void 0:i.slice(0,t.insertAtIndex),j,...t.currentOrderedSections.slice(t.insertAtIndex,r)],o={id:null==(a=t.prefs)?void 0:a.id,orderedFavoritedResourceIds:null==(l=t.prefs)?void 0:l.orderedFavoritedResourceIds,orderedTeamIds:null==(s=t.prefs)?void 0:s.orderedTeamIds,orderedLicenseGroupIds:null==(d=t.prefs)?void 0:d.orderedLicenseGroupIds,orderedSidebarSections:n};(0,y.wj)(o,null==(u=e.getState().user)?void 0:u.id,m,null,h)}}),N=(0,m.M0)((e,t)=>{var r,n,i,l,s,d,u;let m=e.getState().currentUserOrgId??null,_={name:t.name,org_id:m,insert_at_index:t.insertAtIndex,ordered_sections:t.currentOrderedSections},h=c.cp.post("/api/user_sidebar_sections",_).then(e=>{(0,a.MT)(null==e?void 0:e.data.meta,t.name)}).catch(t=>{e.dispatch(p.A.enqueue({message:`${t.msg}`}))}),g="optimistic-id-custom-section-id";if((0,o.w3)().optimisticallyCreate({UserSidebarSection:{[g]:{userId:(null==(r=e.getState().user)?void 0:r.id)??"",orgId:m,name:t.name,createdAt:new Date,orderedFavoritedResourceIds:[]}}},h),t.prefs&&t.currentOrderedSections){let r=t.currentOrderedSections.length,a=[...null==(n=t.currentOrderedSections)?void 0:n.slice(0,t.insertAtIndex),g,...t.currentOrderedSections.slice(t.insertAtIndex,r)],o={id:null==(i=t.prefs)?void 0:i.id,orderedFavoritedResourceIds:null==(l=t.prefs)?void 0:l.orderedFavoritedResourceIds,orderedTeamIds:null==(s=t.prefs)?void 0:s.orderedTeamIds,orderedLicenseGroupIds:null==(d=t.prefs)?void 0:d.orderedLicenseGroupIds,orderedSidebarSections:a};(0,y.wj)(o,null==(u=e.getState().user)?void 0:u.id,m,null,h)}}),L=(0,m.cj)("BULK_RESOURCE_SET_FAVORITE",(e,t,{optimistId:r,liveStore:n})=>{var i,s,u,_;let{files:h,repos:g,prototypes:b,orgId:v,teamId:I,selectedView:w,entrypoint:T}=t,S=e.getState().currentTeamId,C=e.getState().currentUserOrgId,A=S??C,O=h.filter(e=>!e.is_favorited&&(e.team_id===A||e.parent_org_id===A)),N=O.map(e=>e.key),L=g.filter(e=>!e.is_favorited&&(e.team_id===A||e.parent_org_id===A)).filter(Boolean),R=L.map(e=>e.default_file_key),P=b.filter(e=>{var t,r;return!e.is_favorited&&((null==(t=e.parent_team)?void 0:t.id)===A||(null==(r=e.parent_org)?void 0:r.id)===A)}),M=P.map(e=>e.file_key+","+e.page_id),k={files:R.concat(N),org_id:v,team_id:I,prototypes:M,insert_at_index:t.insertAtIndex,ordered_favorites:t.orderedFavorites,section_id:t.sectionId};h.forEach(e=>{(0,a.UD)(e.key,w,T,f.M$.FILE,e.editor_type,!0)}),g.forEach(e=>{(0,a.UD)(e.default_file_key??void 0,w,T,f.M$.FILE,"design",!0)}),b.forEach(e=>{(0,a.UD)(e.file_key,w,T,f.M$.PROTOTYPE,"design",!0)});let D=c.cp.put("/api/bulk_favorite_resources",k).then(()=>{e.dispatch(m.sL.commit(r))}).catch(t=>{e.dispatch(m.sL.revert(r));try{e.dispatch(p.A.enqueue({message:t.message}))}catch(t){e.dispatch(d.M.error("An error occurred while favoriting these items"))}}),F=null==(i=e.getState().user)?void 0:i.id;if(!F)return;let x={},U={},B=[];if(P.forEach(e=>{B.push(`optimistic-id-${e.fig_file.key}`),U[`optimistic-id-${e.fig_file.key}`]=(0,l.ot)(e,F,v,t.sectionId)}),L.forEach(e=>{let r=e.default_file_key;if(r){let e=n.readCachedFile(r);e&&(B.push(`optimistic-id-${e.key}`),x[`optimistic-id-${e.key}`]=(0,l.Eb)(e,F,v,t.sectionId))}}),O.forEach(e=>{B.push(`optimistic-id-${e.key}`),x[`optimistic-id-${e.key}`]=(0,l.Eb)(e,F,v,t.sectionId)}),(0,o.w3)().deprecatedOptimisticallyCreateByView(E.wDW,{FavoritedFile:x,FavoritedPrototype:U},D),null===t.insertAtIndex)return;let G=[...t.orderedFavorites.slice(0,t.insertAtIndex),...B,...t.orderedFavorites.slice(t.insertAtIndex)];if(t.sectionId)(0,o.w3)().deprecatedOptimisticallyUpdateByView(E.wDW,{UserSidebarSection:{[t.sectionId]:{orderedFavoritedResourceIds:G}}},D);else{let e={id:(null==(s=t.fileBrowserPrefs)?void 0:s.id)||"optimistic-id",orderedFavoritedResourceIds:G,orderedTeamIds:null==(u=t.fileBrowserPrefs)?void 0:u.orderedTeamIds,orderedLicenseGroupIds:null==(_=t.fileBrowserPrefs)?void 0:_.orderedLicenseGroupIds};(0,y.wj)(e,F,v,null,D)}}),R=(0,m.cj)("REMOVE_TILE_FAVORITE",async(e,t,{liveStore:r})=>{let{tile:n,entrypoint:a,favoriteId:o,sectionId:l,fileBrowserEntryPoint:s}=t;switch(n.type){case g.Az.FILE:e.dispatch(V({entrypoint:a,favoriteId:o,file:n.file,fileBrowserEntryPoint:s}));return;case g.Az.PINNED_FILE:let c=await r.fetchFile(n.file.key);e.dispatch(V({entrypoint:a,favoriteId:o,file:c,fileBrowserEntryPoint:s}));return;case g.Az.PROTOTYPE:e.dispatch(B({entrypoint:a,favoriteId:o,prototype:n.prototype,fileBrowserEntryPoint:s}));return;case g.Az.REPO:e.dispatch(V({entrypoint:a,favoriteId:o,file:(0,_.M5)(n.repo,n.branches,{}),repoId:n.repo.id,fileBrowserEntryPoint:s}));return;case g.Az.PROJECT:e.dispatch(P({entrypoint:a,favoriteId:o,sectionId:l,folder:n.folder}));return;case g.Az.OFFLINE_FILE:return;default:(0,i.gy)(n)}}),P=(0,m.cj)("REMOVE_FOLDER_FAVORITE",(e,t,{optimistId:r})=>{let{folder:n,sectionId:i}=t;(0,a.oZ)(n.id,e.getState().selectedView.view,t.entrypoint,f.M$.FOLDER);let l=K(e.dispatch,f.M$.FOLDER,!1,n.id,r,i);t.favoriteId&&(0,o.w3)().deprecatedOptimisticallyDeleteByView(E.wDW,{FavoritedProject:{[t.favoriteId]:null}},l)}),M=(0,m.cj)("ADD_TILE_FAVORITE",async(e,t,{liveStore:r})=>{let{tile:n,entrypoint:a,favoriteId:o,sectionId:l,fileBrowserEntryPoint:s}=t;switch(n.type){case g.Az.FILE:e.dispatch(H({entrypoint:a,favoriteId:o,sectionId:l,file:n.file,fileBrowserEntryPoint:s}));return;case g.Az.PINNED_FILE:let c=await r.fetchFile(n.file.key);e.dispatch(H({entrypoint:a,favoriteId:o,sectionId:l,file:c,fileBrowserEntryPoint:s}));return;case g.Az.PROTOTYPE:e.dispatch(G({entrypoint:a,favoriteId:o,sectionId:l,prototype:n.prototype,fileBrowserEntryPoint:s}));return;case g.Az.REPO:e.dispatch(H({entrypoint:a,favoriteId:o,sectionId:l,file:(0,_.M5)(n.repo,n.branches,e.getState().selectedBranchKeyByRepoId),repoId:n.repo.id,fileBrowserEntryPoint:s}));return;case g.Az.PROJECT:e.dispatch(k({entrypoint:a,favoriteId:o,sectionId:l,folder:n.folder}));return;case g.Az.OFFLINE_FILE:return;default:(0,i.gy)(n)}}),k=(0,m.cj)("ADD_FOLDER_FAVORITE",(e,t,{optimistId:r})=>{var n;let{folder:i,sectionId:s}=t;(0,a.UD)(i.id,e.getState().selectedView.view,t.entrypoint,f.M$.FOLDER);let c=K(e.dispatch,f.M$.FOLDER,!0,i.id,r,s),d=null==(n=e.getState().user)?void 0:n.id,u=e.getState().currentUserOrgId;d&&(t.favoriteId&&t.sectionId&&(0,o.w3)().deprecatedOptimisticallyUpdateByView(E.wDW,{FavoritedProject:{[t.favoriteId]:{sidebarSectionId:t.sectionId}}},c),"is_favorited"in i&&(t.favoriteId||(0,o.w3)().deprecatedOptimisticallyCreateByView(E.wDW,{FavoritedProject:{[`optimistic-id-${i.id}`]:(0,l.Gm)(i,d,u,s)}},c)))}),D=(0,m.cj)("REMOVE_WORKSPACE_FAVORITE",(e,t,{optimistId:r})=>{let{workspace:n}=t;(0,a.oZ)(n.id,e.getState().selectedView.view,t.entrypoint,f.M$.WORKSPACE);let i=K(e.dispatch,f.M$.WORKSPACE,!1,n.id,r);t.favoriteId&&(0,o.w3)().deprecatedOptimisticallyDeleteByView(E.wDW,{FavoritedWorkspace:{[t.favoriteId]:null}},i)}),F=(0,m.cj)("ADD_WORKSPACE_FAVORITE",(e,t,{optimistId:r})=>{var n;let{workspace:i,sectionId:s}=t,c=e.getState().currentUserOrgId;(0,a.UD)(i.id,e.getState().selectedView.view,t.entrypoint,f.M$.WORKSPACE);let d=K(e.dispatch,f.M$.WORKSPACE,!0,i.id,r,s),u=null==(n=e.getState().user)?void 0:n.id;u&&(t.favoriteId&&t.sectionId?(0,o.w3)().deprecatedOptimisticallyUpdateByView(E.wDW,{FavoritedWorkspace:{[t.favoriteId]:{sidebarSectionId:t.sectionId}}},d):(0,o.w3)().deprecatedOptimisticallyCreateByView(E.wDW,{FavoritedWorkspace:{[`optimistic-id-${i.id}`]:(0,l.iY)(i,u,c,s)}},d))}),x=(0,m.cj)("REMOVE_TEAM_FAVORITE",(e,t,{optimistId:r})=>{let{team:n}=t;(0,a.oZ)(n.id,e.getState().selectedView.view,t.entrypoint,f.M$.TEAM);let i=K(e.dispatch,f.M$.TEAM,!1,n.id,r);t.favoriteId&&(0,o.w3)().deprecatedOptimisticallyDeleteByView(E.wDW,{FavoritedTeam:{[t.favoriteId]:null}},i)}),U=(0,m.cj)("ADD_TEAM_FAVORITE",(e,t,{optimistId:r})=>{var n;let{team:i,sectionId:s}=t,c=e.getState().currentUserOrgId;(0,a.UD)(i.id,e.getState().selectedView.view,t.entrypoint,f.M$.TEAM);let d=K(e.dispatch,f.M$.TEAM,!0,i.id,r,s),u=null==(n=e.getState().user)?void 0:n.id;u&&(t.favoriteId&&t.sectionId?(0,o.w3)().optimisticallyUpdate({FavoritedTeam:{[t.favoriteId]:{sidebarSectionId:t.sectionId}}},d):(0,o.w3)().optimisticallyCreate({FavoritedTeam:{[`optimistic-id-${i.id}`]:(0,l.IB)(i,u,c,s)}},d))}),B=(0,m.cj)("REMOVE_PROTOTYPE_FAVORITE",(e,t,{optimistId:r})=>{var n;let{prototype:i,entrypoint:l,fileBrowserEntryPoint:s}=t;(0,a.oZ)(i.file_key,e.getState().selectedView.view,l,f.M$.PROTOTYPE,void 0,s);let c=K(e.dispatch,f.M$.PROTOTYPE,!1,i.file_key,r,void 0,i.page_id);(null==(n=e.getState().user)?void 0:n.id)&&t.favoriteId&&(0,o.w3)().deprecatedOptimisticallyDeleteByView(E.wDW,{FavoritedPrototype:{[t.favoriteId]:null}},c)}),G=(0,m.cj)("ADD_PROTOTYPE_FAVORITE",(e,t,{optimistId:r})=>{var n;let{prototype:i,entrypoint:s,sectionId:c,fileBrowserEntryPoint:d}=t,u=e.getState().currentUserOrgId;(0,a.UD)(i.file_key,e.getState().selectedView.view,s,f.M$.PROTOTYPE,"prototype",d);let p=K(e.dispatch,f.M$.PROTOTYPE,!0,i.fig_file.key,r,c,i.page_id),m=null==(n=e.getState().user)?void 0:n.id;m&&(t.favoriteId&&t.sectionId?(0,o.w3)().deprecatedOptimisticallyUpdateByView(E.wDW,{FavoritedPrototype:{[t.favoriteId]:{sidebarSectionId:t.sectionId}}},p):(0,o.w3)().deprecatedOptimisticallyCreateByView(E.wDW,{FavoritedPrototype:{[`optimistic-id-${i.fig_file.key}`]:(0,l.ot)(i,m,u,c)}},p))}),V=(0,m.cj)("REMOVE_FILE_FAVORITE",(e,t,{optimistId:r})=>{var n;let i=e.getState().selectedView.view,{file:l,entrypoint:s,fileBrowserEntryPoint:c}=t;(0,a.oZ)(l.key,i,s,f.M$.FILE,l.editor_type??"design",c);let d="fullscreen"===i?W(e.dispatch,f.M$.FILE,!1,l.key,(0,h.SY)(e.getState().currentUserOrgId)):K(e.dispatch,f.M$.FILE,!1,l.key,r);(null==(n=e.getState().user)?void 0:n.id)&&t.favoriteId&&(0,o.w3)().deprecatedOptimisticallyDeleteByView(E.wDW,{FavoritedFile:{[t.favoriteId]:null}},d)}),H=(0,m.cj)("ADD_FILE_FAVORITE",(e,t,{optimistId:r})=>{var n;let{file:i,entrypoint:s,sectionId:c,fileBrowserEntryPoint:d}=t;(0,a.UD)(i.key,e.getState().selectedView.view,s,f.M$.FILE,i.editor_type??"design",d);let u=K(e.dispatch,f.M$.FILE,!0,i.key,r,c,void 0,(0,h.SY)(e.getState().currentUserOrgId)),p=null==(n=e.getState().user)?void 0:n.id;if(p){if(t.favoriteId&&t.sectionId)(0,o.w3)().optimisticallyUpdate({FavoritedFile:{[t.favoriteId]:{sidebarSectionId:t.sectionId,orgId:e.getState().currentUserOrgId??null,resourceType:f.M$.FILE,userId:p}}},u);else if(e.getState().currentTeamId&&e.getState().currentTeamId===t.file.team_id||e.getState().currentUserOrgId&&t.file.parent_org_id){let r=(0,l.qC)(i);(0,o.w3)().optimisticallyCreate({FavoritedFile:{[`optimistic-id-${i.key}`]:{userId:p,orgId:e.getState().currentUserOrgId??null,teamId:e.getState().currentTeamId??null,sidebarSectionId:t.sectionId??null,createdAt:new Date,updatedAt:new Date,resourceId:i.key,resourceType:f.M$.FILE,readableFile:r}}},u)}}}),W=(e,t,r,n,i)=>c.cp.put("/api/favorited_resources",{resource_type:t,is_favorited:r,file_key:n}).then(()=>{let t=i?(0,u.t)("tile.favoriting.file_removed_from_sidebar"):(0,u.t)("tile.favoriting.file_removed_from_favorites"),n=i?(0,u.t)("tile.favoriting.file_added_to_sidebar"):(0,u.t)("tile.favoriting.file_added_to_favorites");e(p.A.enqueue({message:r?n:t}))}).catch(t=>{let r=(0,u.ID)(t);if(r)try{e(p.A.enqueue({message:r}))}catch(t){e(d.M.error("An error occurred while favoriting this item"))}}),K=(e,t,r,n,i,a,o,l)=>c.cp.put("/api/favorited_resources",{resource_type:t,is_favorited:r,resource_id_or_key:n,page_id:o,section_id:a}).then(()=>{if(e(m.sL.commit(i)),l||t!==f.M$.FILE){let t=r?(0,u.t)("sidebar.item_added_bell_message"):(0,u.t)("sidebar.item_removed_bell_message");e(p.A.enqueue({message:t}))}}).catch(t=>{let n=(0,u.ID)(t);if(n){e(m.sL.revert(i));try{e(p.A.enqueue({message:n}))}catch(n){let t=r?"favoriting this item":"removing this favorite";e(d.M.error(`An error occurred while ${t}`))}}}),Y=e=>c.cp.del("/api/favorited_resources",s.Ed.toAPIParameters(e)),q=(0,m.M0)((e,t)=>{Y({favorited_resource_ids:t.favoriteIds}).catch(t=>{e.dispatch(p.A.enqueue({message:`${t.data.message}`}))})}),j="optimistic-id-custom-section-id"},192252:(e,t,r)=>{"use strict";r.d(t,{CU:()=>o,Y7:()=>a,YD:()=>l,v0:()=>i});var n=r(60452);let i=(0,n.A)("FIGJAM_SET_IS_MAKE_SOMETHING_V2_ACTIVE"),a=(0,n.A)("FIGJAM_SET_DELIGHTFUL_TOOLBAR_OVERFLOW_MENU"),o=(0,n.A)("FIGJAM_SET_IMAGE_DIALOG"),l=(0,n.A)("FIGJAM_SET_QUICK_ACCESS_TOOL")},143152:(e,t,r)=>{"use strict";r.d(t,{SM:()=>d,mA:()=>m,mu:()=>u,y_:()=>p});var n=r(60452),i=r(268984),a=r(796116),o=r(321296),l=r(316220),s=r(39676),c=r(556664);let d=(0,n.A)("UPDATE_FACE_STAMPS"),u=(0,n.A)("PUT_DEFAULT_FIGJAM_INSERT_ITEMS"),p=(0,i.M0)(e=>{let t=e.getState().selectedView;t&&"fullscreen"===t.view&&"whiteboard"===t.editorType&&_(e)}),m="FETCH_FIGJAM_DEFAULT_INSERTS";async function _(e){let t=e.getState();if((0,s.ER)(t.loadingState,m)){e.dispatch(l.Cg({key:m}));try{let r=await c.M.getDefaultInserts({orgId:t.currentUserOrgId||void 0}),n=[...r.data.meta.plugins,...function(e){let t=[];for(let r of e)for(let e of r.resources)e&&"is_widget"in e&&!e.is_widget&&t.push(e);return t}(r.data.meta.use_cases)],i=[...r.data.meta.widgets,...function(e){let t=[];for(let r of e)for(let e of r.resources)e&&"is_widget"in e&&e.is_widget&&t.push(e);return t}(r.data.meta.use_cases)],s=[...r.data.meta.templates,...function(e){let t=[];for(let r of e)for(let e of r.resources)e&&"viewer_mode"in e&&e.viewer_mode&&t.push(e);return t}(r.data.meta.use_cases)];e.dispatch((0,a.Ww)({hubFiles:s,src:"figjam-inserts"})),e.dispatch(u(r.data.meta)),e.dispatch(o.k1(n)),e.dispatch(o.A3(i));let d={},p={};i.forEach(e=>{var r;let n=e.current_plugin_version_id;!(t.installedWidgetVersions.widgets[e.id]||n&&(null==(r=t.publishedCanvasWidgetVersions[e.id])?void 0:r[n]))&&(d[e.id]=Object.keys(e.versions),e.current_plugin_version_id&&(p[e.id]={[e.current_plugin_version_id]:e.versions[e.current_plugin_version_id]}))}),e.dispatch((0,o.Co)(p)),e.dispatch((0,o.w3)({widgetIDToVersions:d})),e.dispatch(l.mk({key:m}))}catch(t){e.dispatch(l.is({key:m}))}}}},375376:(e,t,r)=>{"use strict";r.d(t,{Aj:()=>ea,EP:()=>H,Ed:()=>el,Gg:()=>en,Gw:()=>Z,IZ:()=>U,Ir:()=>B,Kc:()=>G,L2:()=>Q,MB:()=>$,Qj:()=>V,Sf:()=>et,UR:()=>q,WO:()=>Y,Wi:()=>z,YT:()=>M,__:()=>F,_u:()=>J,a0:()=>W,c1:()=>K,cR:()=>k,cj:()=>es,eq:()=>ei,gU:()=>j,q0:()=>ee,qO:()=>D,qU:()=>x,s$:()=>er,yQ:()=>X});var n=r(578540),i=r(60452),a=r(972920),o=r(899116),l=r(867084),s=r(656716),c=r(843148),d=r(61836),u=r(617292),p=r(326660),m=r(557044),_=r(967540),h=r(560072),g=r(317704),f=r(268984),E=r(323576),y=r(90340),b=r(439460),v=r(762820),I=r(333928),w=r(268644),T=r(154328),S=r(24952),C=r(553432),A=r(869588),O=r(650180),N=r(210804),L=r(492084),R=r(574316),P=r(623908);let M={key:"showDiagramOnboarding",value:"1"};function k(e){return void 0!==e.file_repo}function D(e,t){return m.cp.put(`/api/files/${e}/thumbnail_guid`,{thumbnail_guid:t}).then(()=>{v.KEP.canvasViewState().thumbnailNodeId.set(t)})}let F=(0,f.M0)((e,t)=>{t.file.created_at&&console.error("It looks like you are PUT-ting to the API with the entire file object; please only pass the key and file permission attributes");let r=O.i.putFile(t).then(()=>{var e;null==(e=t.onSuccess)||e.call(t)}).catch(r=>{var n;if(null==(n=t.onError)||n.call(t),e.dispatch(g.A.enqueue({message:(0,h.t)("file_permissions.generic_error"),error:!0})),(0,c.K)())throw r}),n=t.file,i={...(0,T.Y3)(n,n.key),...(0,T.M7)(n,t.linkExpirationConfigId,t.currentUser)},a=(0,T.C0)(n,t.linkExpirationConfigId,t.currentUser);Object.keys(i).length>0&&(0,d.w3)().optimisticallyUpdate(i,r),a&&(0,d.w3)().optimisticallyCreate(a,r)}),x=(0,i.A)("FILE_PERMISSIONS_PUT"),U=(0,f.M0)((e,t)=>{let r=e.getState(),i={},a=t.file,l=a.folderId;null!=l&&(0,C.canCreateFile)(l,r,a.editorType)&&(i.folder_id=l),t.versionId&&(i.version_id=t.versionId),e.dispatch(g.A.enqueue({type:"file_duplicating",message:(0,h.t)("visual_bell.duplicating")})),m.cp.post(`/api/multiplayer/${a.key}/copy?${(0,u.OW)(i)}`).then(i=>{var l;e.dispatch(g.A.dequeue({}));let c=!!r.openFile;if(!i.data.error&&i.data.meta&&c){let c=i.data.meta;if((0,y.s5)("File Duplicated",a.key,e.getState(),{duplicatedFileKey:c.key,duplicatedContainingFolderId:c.folder_id,duplicatedFileTeamId:c.team_id}),t.checkOssSalesExperiment&&(0,S.EP)(c.key),o.sZ){o.sZ.openFile({fileKey:c.key,title:c.name,editorType:c.editor_type,target:n.Mh.FOCAL_TAB,isBranch:(0,b.wB)(c),isLibrary:!!c.last_published_at,isTeamTemplate:!1,userId:null==(l=r.user)?void 0:l.id});return}s.default.redirect((0,I.El)(c),"_blank")}}).catch(()=>{e.dispatch(g.A.dequeue({})),e.dispatch(_.M.error((0,h.t)("file_browser.file_browser_actions.file_copy_error")))})}),B=(0,f.M0)((e,t)=>{let r=t.file_key;r&&(e.getState().fileByKey[r]||O.i.getFiles({fileKey:r}).then(t=>e.dispatch(ea({file:t.data.meta}))))}),G=(0,f.M0)(async(e,t)=>{try{await m.cp.del(`/api/files/${t.file_key}/workshop`)}catch(e){}}),V=(0,f.M0)(async(e,t,{liveStore:r})=>{var n;let i=await r.fetchFile(t.fileKey),a=m.cp.post(`/api/files/${t.fileKey}/workshop`).then(()=>{e.dispatch(g.A.enqueue({message:(0,h.t)("whiteboard.open_sessions.open_session_started_notification"),button:{text:(0,h.t)("whiteboard.open_sessions.open_session_started_notification_copy_link"),action:()=>{e.dispatch(Q({fileKey:t.fileKey,url:(0,I.El)(i),source:w.O.WORKSHOP_VISUAL_BELL}))}}}))}).catch(()=>{e.dispatch(g.A.enqueue({message:(0,h.t)("whiteboard.open_sessions.open_session_start_failed_notification"),error:!0}))}),o=null==(n=e.getState().user)?void 0:n.id;if(o){let e=new Date;e.setDate(e.getDate()+1),(0,d.w3)().optimisticallyCreate({FigFileWorkshopMode:{[`optimistic-${t.fileKey}`]:{fileKey:t.fileKey,expiresAt:e,userId:o}}},a)}}),H=(0,f.M0)(async(e,t)=>{await m.cp.post(`/api/files/${t.fileKey}/view`).then(({data:r})=>{let{last_view_at:n,last_edit_at:i}=r.meta;e.dispatch(P.kv({lastViewed:n,lastEdited:i})),e.dispatch((0,A.a_)({openFileKey:t.fileKey,versionHistory:e.getState().versionHistory}))}).catch(e=>{(0,p.WI)("recent files","Error marking file view / retrieving last seen times",{error:e})})}),W=(0,f.M0)((e,t)=>{D(t.file_key,t.thumbnail_guid).then(()=>{let r=t.thumbnail_guid?(0,h.t)("file_browser.file_browser_actions.thumbnail_set"):(0,h.t)("file_browser.file_browser_actions.default_thumbnail_restored");e.dispatch(g.A.enqueue({message:r}))}).catch(()=>{e.dispatch(g.A.enqueue({message:(0,h.t)("file_browser.error_try_again"),error:!0}))})}),K=(0,i.A)("RESTORE_TRASHED_FILES"),Y=(0,f.M0)((e,t)=>{e.dispatch(K(t)),e.dispatch((0,R.PB)(t))}),q=(0,i.A)("DELETE_FILES_PERMANENTLY"),j=(0,i.A)("DELETE_FILES"),$=(0,f.M0)((e,t)=>{e.dispatch(j(t)),e.dispatch((0,R._8)(t))}),Z=(0,i.A)("FILE_RESTORE"),z=(0,f.M0)((e,t)=>{(0,l.CU)(t.embedCode).then(()=>{(0,y.s5)("Embed Code Copied",t.fileKey,e.getState()),e.dispatch(g.A.enqueue({type:"embeded_code_copied_to_clipboard",message:(0,h.t)("file_browser.file_browser_actions.embed_code_copied")}))}).catch(()=>{e.dispatch(_.M.error((0,h.t)("file_browser.file_browser_actions.embed_code_copy_error")))})}),Q=(0,L.w)((0,f.M0)((e,t)=>{let r;let n=t.url,i=t.label;if(i){let e=document.createElement("a");e.href=n,e.innerText=i;let t=e.outerHTML;r=(0,l.sb)(t,n)}else r=(0,l.CU)(n);r.then(()=>{(0,y.s5)("File Share Link Copied",t.fileKey,e.getState(),{copyLinkSource:w.O[t.source],...t.trackingProperties}),t.skipVisualBell||(n.includes("mode=dev")||n.includes("m=dev")?e.dispatch(g.A.enqueue({type:"link_copied_to_clipboard",message:t.visualBellMessageOverride??(0,h.t)("copy_to_clipboard.dev_link_copied_to_clipboard"),button:t.visualBellButton})):e.dispatch(g.A.enqueue({type:"link_copied_to_clipboard",message:t.visualBellMessageOverride??(0,h.t)("copy_to_clipboard.link_copied_to_clipboard"),button:t.visualBellButton})))}).catch(()=>{e.dispatch(E.A5({type:N.S,data:{link:n}}))})})),X=(0,i.A)("FILE_STOP_RENAMING"),J=(0,i.A)("FILE_BEGIN_RENAMING"),ee=(0,i.A)("FILE_REMOVE_FROM_PROJECT"),et=(0,i.A)("FILE_MOVE"),er=(0,i.A)("FILE_POST"),en=(0,i.A)("FILE_BATCH_SUBSCRIBE_TO_REALTIME"),ei=(0,i.A)("FILE_BATCH_PUT"),ea=(0,i.A)("FILE_PUT"),eo=(0,a.C)((e,t)=>{let r=t.getState();r.activeFileUsers&&(e=e.filter(e=>!(e in r.activeFileUsers))),e.length&&m.cp.post("/api/active_file_users",{keys:e}).then(({data:e})=>{!function(e,t,r=!1){let n=t.getState();for(let i in e){if(r&&n.activeFileUsers&&i in n.activeFileUsers)continue;let a=e[i],o=[];if(a)for(let e in a){let t=JSON.parse(a[e]);o.push(t)}t.dispatch(es({fileKey:i,users:o}))}}(e.meta.active_file_users,t,!0)}).catch(e=>{})},1e3);(0,f.M0)((e,t)=>{eo(t.fileKeys,e)});let el=(0,i.A)("FILE_CLEAR_ACTIVE_USERS"),es=(0,i.A)("FILE_SET_ACTIVE_USERS")},585496:(e,t,r)=>{"use strict";r.d(t,{k5:()=>n,mW:()=>i,wj:()=>d});var n,i,a=r(843148),o=r(61836),l=r(557044),s=r(967540),c=r(268984);function d(e,t,r,n,i){var a,l;e.id&&"optimistic-id"!==e.id?null==(a=(0,o.w3)())||a.optimisticallyUpdate({FileBrowserPreferences:{[e.id]:{orderedTeamIds:e.orderedTeamIds,orderedFavoritedResourceIds:e.orderedFavoritedResourceIds,orderedSidebarSections:e.orderedSidebarSections,orgId:r,teamId:n,orderedLicenseGroupIds:e.orderedLicenseGroupIds}}},i):null!=t&&(null==(l=(0,o.w3)())||l.optimisticallyCreate({FileBrowserPreferences:{"optimistic-id":{userId:t,migratedToSections:!0,sidebarMigrationStatus:null,orderedTeamIds:e.orderedTeamIds||null,orderedFavoritedResourceIds:e.orderedFavoritedResourceIds||null,orderedSidebarSections:e.orderedSidebarSections||null,updatedAt:new Date,createdAt:new Date,orgId:r,teamId:n,orderedLicenseGroupIds:e.orderedLicenseGroupIds||null}}},i))}(e=>{e.put=(0,c.cj)("FILE_BROWSER_PREFERENCES_PUT",(e,t)=>{var r;let n=null==(r=e.getState().user)?void 0:r.id,i=e.getState().currentUserOrgId,o=(0,a.Ub)().ps_benchmark?e.getState().currentTeamId:null,s=l.cp.put("/api/file_browser_preferences",{ordered_team_ids:t.prefs.orderedTeamIds,ordered_favorites:t.prefs.orderedFavoritedResourceIds,org_id:i,team_id:o,ordered_license_group_ids:t.prefs.orderedLicenseGroupIds,ordered_sidebar_sections:t.prefs.orderedSidebarSections});d(t.prefs,n,i,o,s)}),e.createFileBrowserPreferencesForTeamUser=(0,c.M0)((e,t)=>{var r,n,i,a;let o=null==(r=e.getState().user)?void 0:r.id,s=e.getState().currentTeamId,c=t.teamUser,u=t.prefs.orderedFavoritedResourceIds,p=[];if(u)for(var m of u)((null==(n=c.favoritedFiles)?void 0:n.some(e=>e.id===m))||(null==(i=c.favoritedPrototypes)?void 0:i.some(e=>e.id===m)))&&p.push(m);let _=(null==(a=c.favoritedProjects)?void 0:a.filter(e=>t.orderedFolderSubscriptions.includes(e.resourceId)).map(e=>e.id))??[];p.push(..._);let h=l.cp.put("/api/file_browser_preferences",{ordered_favorites:p,team_id:s});d({id:"optimistic-id",orderedFavoritedResourceIds:p},o,null,s,h)})})(n||(n={})),(i||(i={})).put=(0,c.cj)("FILE_BROWSER_SECTION_PREFERENCES_PUT",(e,t)=>{var r,n,i;let a=null==(r=e.getState().user)?void 0:r.id,c=e.getState().currentUserOrgId;if(t.userInitiated){let r=l.cp.put(`/api/file_browser_preferences/section/${t.prefs.section_type}`,{...t.prefs,org_id:c}).catch(t=>{var r;e.dispatch(s.M.error((null==(r=t.data)?void 0:r.message)||"An error occurred.")),console.error(t)});t.prefs.id?null==(n=(0,o.w3)())||n.optimisticallyUpdate({FileBrowserSectionPreferences:{[t.prefs.id]:{orderedFolderIds:t.prefs.ordered_folder_ids,sectionType:t.prefs.section_type,teamId:"team"===t.prefs.section_type?t.prefs.team_id:null,orgId:c}}},r):null!=a&&(null==(i=(0,o.w3)())||i.optimisticallyCreate({FileBrowserSectionPreferences:{"optimistic-id":{userId:a,orderedFolderIds:t.prefs.ordered_folder_ids||null,sectionType:t.prefs.section_type,teamId:"team"===t.prefs.section_type?t.prefs.team_id:null,updatedAt:new Date,createdAt:new Date,orgId:c}}},r))}})},46604:(e,t,r)=>{"use strict";r.d(t,{AH:()=>F,EL:()=>D,Eh:()=>U,G2:()=>R,Ir:()=>j,KM:()=>K,Kc:()=>H,OZ:()=>W,SW:()=>B,WK:()=>P,gf:()=>Y,iC:()=>x,iM:()=>M,kH:()=>k,mM:()=>q,oH:()=>G,y8:()=>V});var n=r(250008),i=r(311364),a=r(899116),o=r(656716),l=r(517048),s=r(810756),c=r(557044),d=r(560072),u=r(317704),p=r(751956),m=r(90340),_=r(417184),h=r(300711),g=r(767433),f=r(886872),E=r(13468),y=r(322128),b=r(801020),v=r(559572),I=r(475136),w=r(61652),T=r(934996),S=r(477539),C=r(423420),A=r(391551),O=r(268984),N=r(403132),L=r(323576);let R=(0,O.M0)((e,t)=>{var r,n;(null==(r=e.getState().modalShown)?void 0:r.type)!=null&&e.dispatch((0,L.oN)()),(null==(n=e.getState().dropdownShown)?void 0:n.type)!=null&&e.dispatch((0,N.yi)()),e.dispatch((0,N.cS)({show:!0})),null==t||t.until.then(()=>{e.dispatch((0,N.cS)({show:!1}))}),C.Y.addDependency("FILE_BROWSER_SET_LOADING",(null==t?void 0:t.until)||"pending")}),P=(0,O.M0)(e=>{T.s.getState().then(t=>{e.dispatch((0,N.ys)(t.data.meta)),e.dispatch(M(t.data.meta))}).catch(t=>{var r;let n=(null==(r=t.data)?void 0:r.message)||(0,d.t)("file_browser.file_browser_actions.error_on_data_update");e.dispatch(u.A.enqueue({error:!0,message:n}))})}),M=(0,O.M0)((e,t)=>{new l.g().sendToOtherTabs(w.m,t)}),k=(0,O.M0)((e,t)=>{let r=e.getState(),n=t.view||{view:"recentFiles"},l=(0,E.gv)({...r,currentUserOrgId:t.workspace.orgId,currentTeamId:t.workspace.teamId||null},n),s=!(0,_.K2)(r.selectedView)&&(0,_.K2)(n);if(a.sZ&&s){a.sZ.openCommunity(l,t.workspace.userId);return}function c(){let e=(0,_.K2)(r.selectedView)&&!(0,_.K2)(n);a.sZ&&e&&o.default.redirect((0,i.oX)((0,E.gv)({...r,currentUserOrgId:t.workspace.orgId,currentTeamId:t.workspace.teamId||null},r.selectedView),{fuid:t.workspace.userId}))}if(e.dispatch(R()),t.path){(0,m.E3)("account_switched",r,{newUserId:t.workspace.userId,orgId:r.currentUserOrgId,newOrgId:t.workspace.orgId,teamId:r.currentTeamId,newTeamId:t.workspace.teamId,view:r.selectedView.view,newPath:t.path}),o.default.redirect((0,i.oX)(t.path,{fuid:t.workspace.userId})),c();return}(0,m.E3)("account_switched",r,{newUserId:t.workspace.userId,orgId:r.currentUserOrgId,newOrgId:t.workspace.orgId,view:r.selectedView.view,newView:n.view,newTeamId:t.workspace.teamId,teamId:r.currentTeamId}),(t.workspace.orgId&&!l.includes(t.workspace.orgId)||t.workspace.teamId&&!l.includes(t.workspace.teamId)||(0,_.K2)(n)&&!t.workspace.orgId&&r.currentUserOrgId)&&(0,y.Ep)(t.workspace.userId,(0,_.K2)(n),t.workspace.orgId,void 0,t.workspace.teamId),(0,h.AT)()?A.e({action:"reloadPage",payload:{fuid:t.workspace.userId}}):(o.default.redirect((0,i.oX)(l,{fuid:t.workspace.userId})),c())}),D=(0,O.M0)(e=>{c.cp.post("/api/session/app_auth",{app_type:"desktop"}).then(({data:t})=>{var r;let n=t.meta.id,i=`/app_auth/${n}/grant`,o=e.getState().authedUsers.orderedIds;o.length>0&&(i+=`?authed_ids=${o.join(",")}`),null==(r=a.sZ)||r.startAppAuth(i),e.dispatch(u.A.enqueue({message:(0,d.t)("file_browser.file_browser_actions.desktop_go_to_your_browser")}))}).catch(t=>{console.error(t),e.dispatch(u.A.enqueue({message:(0,d.t)("file_browser.error_try_again"),error:!0}))})}),F=(0,O.M0)((e,t)=>{e.getState().dropdownShown||e.dispatch((0,N.Qn)(t))}),x=(0,O.M0)((e,t)=>{let r=e.getState().dropdownShown;(null==r?void 0:r.type)===t.type?e.dispatch((0,N.yi)()):e.dispatch((0,N.Qn)(t))}),U=(0,O.M0)((e,t)=>{(0,g.s)()?(0,b.wR)(t.url):o.default.redirect(t.url,"_blank")});function B(e,t={},r){return(0,N.Ej)({view:"folder",folderId:e,...t,...r?{folderViewTab:r}:{}})}function G(e,t={},r){return(0,N.Ej)({view:"team",teamId:e,...t,teamViewTab:r})}let V=(0,O.M0)((e,{index:t})=>{(0,n.we)("Recent File Clicked",{index:t},{forwardToDatadog:!0})}),H=(0,O.M0)((e,{fileKey:t,entrypoint:r,currentPlanFilter:n,currentSharedByFilter:i,viewMode:a})=>{(0,m.GO)(t,{state:e.getState(),entrypoint:r,planFilterId:null==n?void 0:n.planId,planFilterType:null==n?void 0:n.planType,sharedByFilter:i,viewMode:a})}),W=(0,O.M0)(e=>{(0,m.E3)("Font Installer Downloaded",e.getState())}),K=(0,O.M0)(e=>{(0,m.E3)("Font Uninstaller Downloaded",e.getState())}),Y=(0,O.M0)((e,{clickedResourceType:t,resourceIdOrKey:r})=>{(0,m.E3)("File Browser Nav Tree Clicked",e.getState(),{clickedResourceType:t,resourceIdOrKey:r})}),q=(0,O.M0)((e,{orgId:t,teamId:r},{loadingKey:n})=>{let i=S.K.getTrashedFilesV2({orgId:t||"",teamId:r||""});(0,f.o)(i,e,n),i.then(t=>{let r=JSON.parse(t.response);e.dispatch((0,N.EX)({deletedFiles:r.meta.files})),e.dispatch((0,N.qM)({deletedRepos:r.meta.repos}))})}),j=(0,O.M0)(async(e,{previousView:t,openInNewTab:r,onSubmitReturnToPrevView:n,isEduTeam:i,ignoreCurrentPlan:a})=>{let o=e.getState();if(r){let t=(0,E.eg)(o,{view:"teamCreation",ignoreCurrentPlan:a});e.dispatch(U({url:t}));return}let l=(0,s.OE)("starter_team_loophole_experiment_m0"),c=(0,s.OE)("starter_team_loophole_experiment_m1"),[d,u]=await Promise.all([l,c]);o.user&&(0,p.rD)({userId:o.user.id,teams:Object.values(o.teams),rolesByTeamId:o.roles.byTeamId,getM0Config:()=>d,getM1Config:()=>u})?e.dispatch((0,N.Ej)({view:"teamUpgrade",teamFlowType:I.cb.CREATE_AND_UPGRADE,teamId:null,paymentStep:v.qW.PLAN_COMPARISON,previousView:t,isEduTeam:i,ignoreCurrentPlan:a})):o.user&&(0,p.Yd)(o.user.id,Object.values(o.teams),o.roles.byTeamId)?e.dispatch((0,N.Ej)({view:"teamUpgrade",teamFlowType:I.cb.CREATE,teamId:null,paymentStep:v.qW.CREATE_TEAM,previousView:t,isEduTeam:i,ignoreCurrentPlan:a})):e.dispatch((0,N.Ej)({view:"teamCreation",previousView:t,onSubmitReturnToPrevView:n,isEduTeam:i,ignoreCurrentPlan:a}))})},257200:(e,t,r)=>{"use strict";r.d(t,{Ah:()=>R,M7:()=>D,gn:()=>P,y_:()=>M});var n=r(60452),i=r(250008),a=r(311364),o=r(899116),l=r(656716),s=r(372152),c=r(702796),d=r(617292),u=r(326660),p=r(58908),m=r(46112),_=r(323576),h=r(699084),g=r(292820),f=r(202613),E=r(585508),y=r(380860),b=r(300711),v=r(223624),I=r(312452),w=r(514916),T=r(644516),S=r(897712),C=r(841676),A=r(685656),O=r(112044),N=r(694752),L=r(268984);let R=(0,L.M0)((e,{state:t,from:r,editorType:n,team:i,openNewFileIn:a,fileName:o,folderId:l,callback:s,presetName:c,inFileCreationDefaultsExp:d,figjamAiNewFileData:u,figjamMakeSomethingUseCase:p})=>{var m;if(i&&("design"===n&&!(0,T.SQ)(i,{type:T.GV.ADD_DESIGN_FILE})||"whiteboard"===n&&!(0,T.SQ)(i,{type:T.GV.ADD_FIGJAM_FILE}))){(null==(m=i.restrictions_list)?void 0:m.includes(w.u.LOCKED))||l?e.dispatch(_.A5({type:N.EP,data:{team:i,resource:C.kJ.FILE,action:d?O.qW.CREATE_FILE_FROM_DROPDOWN:O.qW.CREATE_FILE,editorType:n,currentPlan:f.O.Plan.STARTER,upsellPlan:f.O.Plan.PRO}})):e.dispatch(_.A5({type:N.EP,data:{team:i,resource:C.kJ.FILE,action:O.qW.CREATE_FILE,editorType:n,currentPlan:f.O.Plan.STARTER,upsellPlan:f.O.Plan.PRO}})),s&&s(null);return}let g=l?{folderId:l}:r!==A.Uz.FILE_BROWSER_SIDEBAR_DRAFTS&&r!==A.Uz.FILE_BROWSER_TEAM_FILE_LIMIT_PAYWALL&&r!==A.Uz.FILE_BROWSER_TOOLBAR_RECENTS&&r!==A.Uz.FILE_BROWSER_TOOLBAR_DRAFTS&&i?null:"drafts",E=(0,h.KM)(t,a,g,{from:r,selectedView:t.selectedView},n,o,s,u,p);c&&(E.framePresetName=c),e.dispatch(k(E))}),P=(0,L.M0)((e,t)=>{e.dispatch(k(t))}),M=(0,L.M0)((e,{file:t,openNewFileIn:r,source:n})=>{let a=e.getState().user;if(!a)return;let l=()=>{let a=(0,S.s)(t,r);e.dispatch(P(a)),(0,i.we)("New Autosave File Open",{openNewFileIn:r,source:n})};o.sZ?l():(0,g.qs)(a.id,t).then(r=>{if(r){e.dispatch(_.A5({type:m.w,data:{file:t}}));return}l()})}),k=(0,L.M0)((e,t)=>{if((0,b.AT)()||!t.allowOnDesktop&&600>(0,y.a)())return;let r=(0,v.yk)(t);if(E.CA.resetLoadedFigFile(),o.sZ){if(t.allowOnDesktop)(0,v.GM)(e,t,!1);else{(0,v.qM)(e,t);return}}else if(t.openNewFileIn===A.mM.NEW_TAB){let e=(0,d.OW)(r);l.default.redirect(`/file/new${e?"?"+e:""}`,"_blank")}else if((0,a.Mb)(e.getState().currentUserOrgId,t.org_id)){s.qM.get(c.A)&&(0,u.oP)(p._.SCENEGRAPH_AND_SYNC,Error("Trying to switching org ids while in offline file browser"));let e=(0,d.OW)(r);l.default.redirect(`/file/new${e?"?"+e:""}`)}else(0,v.GM)(e,t,!1);(0,y.Q)();let n=t.openNewFileIn===A.mM.SAME_TAB&&(!o.sZ||t.allowOnDesktop)?I.Mty.HIDE_UI:I.Mty.OFF;e.dispatch(D({openNewFileIn:t.openNewFileIn,progressBarMode:n}))}),D=(0,n.A)("FULLSCREEN_NEW_FILE_OPEN")},241040:(e,t,r)=>{"use strict";r.d(t,{AJ:()=>R,Aj:()=>D,C8:()=>P,CW:()=>I,E5:()=>A,Ev:()=>L,K_:()=>C,Kg:()=>F,Ou:()=>G,Su:()=>N,Ut:()=>B,WC:()=>O,WI:()=>w,Ws:()=>U,qi:()=>S,s$:()=>x,us:()=>k,w5:()=>M,wx:()=>T});var n=r(60452),i=r(843148),a=r(61836),o=r(231800),l=r(557044),s=r(967540),c=r(560072),d=r(317704),u=r(403132),p=r(323576),m=r(90340),_=r(596496),h=r(514916),g=r(270652),f=r(146124),E=r(546772),y=r(184912),b=r(268984),v=r(972164);let I=(0,b.cj)("FOLDER_DESCRIPTION_UPDATE",(e,t,{optimistId:r})=>{l.cp.put(`/api/folders/${t.folderId}/description`,{description:t.description}).then(({data:t})=>{e.dispatch(b.sL.commit(r)),e.dispatch(D({folder:t.meta}))}).catch(t=>{e.dispatch(b.sL.commit(r)),console.error(t),e.dispatch(s.M.error((0,c.t)("file_browser.file_browser_actions.update_subscription_error")))})}),w=(0,b.cj)("FOLDER_UNPIN_FILE",(e,t,{optimistId:r})=>{l.cp.del(`/api/folders/${t.fileKey}/pin`).then(t=>{e.dispatch(b.sL.commit(r))}).catch(t=>{e.dispatch(b.sL.revert(r)),e.dispatch(s.M.flash(t.message||(0,c.t)("file_browser.file_browser_actions.file_unpin_error")))})}),T=(0,b.cj)("FOLDER_PIN_FILE",async(e,t,{optimistId:r})=>{(0,m.yM)("file_browser_folder_pin_file",t.folderId,null,e.getState(),{fileKey:t.fileKey}),await l.cp.post(`/api/folders/${t.fileKey}/pin`).then(t=>{e.dispatch(b.sL.commit(r)),e.dispatch(d.A.enqueue({error:!1,message:(0,c.t)("file_browser.file_browser_actions.file_pinned_to_project")}))}).catch(t=>{e.dispatch(b.sL.revert(r)),e.dispatch(s.M.flash(t.message||(0,c.t)("file_browser.file_browser_actions.file_pin_error")))})}),S=(0,n.A)("FOLDER_SET_PINNED_FILE"),C=(0,n.A)("FOLDER_DELETE_LG_SHIM"),A=(0,n.A)("FOLDER_DELETE"),O=(0,n.A)("FOLDER_CLEAR"),N=(0,b.M0)((e,t)=>{let r=(0,_.mA)(t.name);if(r)return e.dispatch(s.M.error(r)),null;e.dispatch(p.Kw()),e.dispatch(u.mQ());let n=(0,f.A)(t.teamId,t.orgId||null);if(n&&void 0===t.isInviteOnly&&void 0===t.isViewOnly&&void 0===t.teamAccess)return e.dispatch(s.M.error("inviteOnly and viewOnly fields or teamAccess field must be defined")),null;let i={id:(0,_.qU)(),name:t.name,description:null,path:t.name,team_id:t.teamId,is_subscribed:!1,is_favorited:!1,created_at:`${new Date}`,updated_at:`${new Date}`,is_invite_only:!1,is_view_only:!1,settings:{webhooks:{}},appData:{temp:!0},deleted_at:null,sharing_audience_control:null,team_access:null},a=n?t.sharingAudienceControl:null,d=n?t.teamAccess:null,b=l.cp.post("/api/folders",{team_id:t.teamId,path:t.name,is_invite_only:t.isInviteOnly,is_view_only:t.isViewOnly,sharing_audience_control:a,team_access:d}).then(({data:r})=>{var o;e.dispatch(A({folderIds:[i.id]}));let l=r.meta;for(let r of l)if(r.name===t.name){if(e.dispatch(x(r)),n){(0,m.yM)("Folder Created",r.id,r.team_id,e.getState(),{sharingAudienceControl:a,teamAccess:d});let n=e.getState().user;(null==(o=t.inviteEmails)?void 0:o.length)&&t.teamAccess&&e.dispatch((0,g.YL)({emails:t.inviteEmails,emailsToExclude:n?new Set([n.email]):void 0,resourceType:h.y4.FOLDER,resourceIdOrKey:r.id,level:t.inviteLevel||E.m.VIEWER,source:"new_project_creation_modal"})),y.e.getRoles({resourceId:r.id,resourceType:h.y4.FOLDER}).then(({data:t})=>{for(let r of t.meta)e.dispatch(v.s$({role:r}))})}t.shouldRedirect&&e.dispatch(u.Ej({view:"folder",folderId:r.id}));break}return l});return(0,o.Y)({store:e,requestPromise:b,fallbackError:(0,c.t)("file_browser.file_browser_actions.create_project_error"),next:e.dispatch,action:x(i)})}),L=(0,b.M0)((e,{folderId:t,folderName:r,teamId:n,isSubscribed:s})=>{let d=s?"Folder Subscriber Added":"Folder Subscriber Deleted";(0,m.yM)(d,t,n,e.getState());let u=l.cp.put(`/api/folders/${t}`,{is_subscribed:s});if(s)(0,a.w3)().optimisticallyCreate({ProjectSubscription:{[`optimistic-${t}`]:{folderId:t,userId:(0,i.cp)().user_data.id,projectV2:{id:t,path:r,updatedAt:new Date,createdAt:new Date,deletedAt:null,viewOnlyAt:null,inviteOnlyAt:null,orgId:(0,i.cp)().org_id||null,teamId:n,canRead:!0,canEdit:!1}}}},u);else{let e=(0,a.w3)();V[t]&&e.optimisticallyDelete({ProjectSubscription:{[V[t]]:null}},u)}(0,o.Y)({store:e,requestPromise:u,fallbackError:(0,c.t)("file_browser.file_browser_actions.update_project_error"),next:e.dispatch,action:D({folder:{id:t,is_subscribed:s}})})}),R=(0,n.A)("FOLDER_LOAD"),P=(0,b.M0)(async(e,{folderId:t})=>{try{await l.cp.post(`/api/folders/${t}/claim`),e.dispatch(R({folderId:t,forceFetch:!0}))}catch(t){e.dispatch(s.M.error(t.message||(0,c.t)("file_browser.file_browser_actions.claim_team_error")))}}),M=(0,n.A)("FOLDER_PUT_UPDATED_AT"),k=(0,n.A)("FOLDER_LOADED"),D=(0,n.A)("FOLDER_PUT"),F=(0,n.A)("FOLDER_BATCH_POST"),x=(0,n.A)("FOLDER_POST"),U=(0,n.A)("FOLDER_STOP_RENAME"),B=(0,n.A)("FOLDER_BEGIN_RENAME");function G(e){V=e}let V={}},660352:(e,t,r)=>{"use strict";r.d(t,{At:()=>c,Ej:()=>u,Mb:()=>p,SA:()=>h,Sw:()=>_,YV:()=>f,_V:()=>d,cA:()=>m,iN:()=>E,kz:()=>g,wf:()=>y});var n=r(60452),i=r(557044),a=r(560072),o=r(317704),l=r(268984),s=r(338948);let c=(0,n.A)("GENERIC_COMMENT_COMMIT_CREATED_COMMENT"),d=(0,n.A)("GENERIC_COMMENT_COMMIT_EDITED_COMMENT"),u=(0,n.A)("GENERIC_COMMENT_COMMIT_DELETED_COMMENT"),p=(0,n.A)("GENERIC_COMMENT_COMMIT_HIDE_COMMENT"),m=(0,l.M0)(async(e,t)=>{var r,n;let{authorId:i,removeCommentsCallback:a}=t,o=e.getState().communityHub.comments,{activeFeedType:l,commentsById:s,id:c,type:d}=o;if(!c||!d||!(null==(r=o.feeds[l])?void 0:r.feed))return;let p=[];for(let e in s)(null==(n=s[e])?void 0:n.author.id)===i&&p.push(s[e]);await a(p),e.dispatch(u({resourceType:d,resourceId:c,comments:p}))}),_=(0,n.A)("GENERIC_COMMENT_SET_SHOW_RESOLVED");(0,n.A)("GENERIC_COMMENT_SAVE_PAGE_SCROLL_POSITION");let h=(0,n.A)("GENERIC_COMMENT_RESET_COMMENT_STATUS"),g=(0,l.eg)("GENERIC_COMMENT_SUBMIT",async(e,t)=>{let{messageMeta:r,resourceId:n,resourceType:l,onSuccess:d,onError:u,clientMeta:p,pageId:m,parentId:_,isReply:g}=t;await i.cp.post("/api/community_comments",{message_meta:r,resource_id:n,resource_type:l,client_meta:p,page_id:m,parent_id:_}).then(({data:t})=>{e.dispatch(c({comment:t.meta,resourceId:n,resourceType:l,isReply:g})),d&&d(t.meta)}).catch(t=>{let r=(0,a.ID)(t);r&&(e.dispatch(o.A.enqueue({error:!0,message:(0,a.t)("community.comments.failed_to_create_comment",{errorMessage:r})})),_?e.dispatch(h({commentId:_})):e.dispatch(h({commentId:s.Os})),u&&u())})},({resourceId:e})=>`GENERIC_COMMENT_SUBMIT_${e}`),f=(0,l.cj)("GENERIC_COMMENT_EDIT",async(e,t,{optimistId:r})=>{let{commentId:n,messageMeta:s,callback:c,clientMeta:u}=t;await i.cp.put(`/api/community_comments/${n}`,{message_meta:s,client_meta:u}).then(({data:t})=>{e.dispatch(l.sL.commit(r)),c(t.meta),e.dispatch(d({comment:t.meta}))}).catch(t=>{e.dispatch(l.sL.revert(r)),e.dispatch(o.A.enqueue({message:(0,a.t)("community.comments.failed_to_edit_comment"),error:!0}))})}),E=(0,l.eg)("GENERIC_COMMENT_DELETE",(e,t,{loadingKey:r})=>{let{commentId:n,onFinish:l}=t,{type:s,id:c}=e.getState().communityHub.comments;if(null===s||null===c)return;let d=e.getState().communityHub.comments.commentsById[n];i.cp.del(`/api/community_comments/${n}`).then(()=>{e.dispatch(u({resourceType:s,resourceId:c,comments:[d]})),e.dispatch(o.A.enqueue({message:(0,a.t)("community.comments.comment_deleted")})),null==l||l(!1)}).catch(t=>{let r=(0,a.ID)(t);r&&(e.dispatch(o.A.enqueue({error:!0,message:(0,a.t)("community.comments.failed_to_delete_comment",{errorMessage:r})})),null==l||l(!0))})},({commentId:e})=>`GENERIC_COMMENT_DELETE_${e}`),y=(0,l.M0)((e,t)=>{let r;let{commentId:n,userIsAdmin:l,onFinish:s}=t,{type:c,id:d}=e.getState().communityHub.comments;null!==c&&null!==d&&(l&&(r={hide:!0}),i.cp.post(`/api/community_comments/${n}/report`,r).then(()=>{e.dispatch(p({commentId:n,resourceId:d,resourceType:c})),e.dispatch(o.A.enqueue({message:(0,a.t)("community.comments.comment_reported_and_hidden"),type:"COMMENT_REPORTED"})),null==s||s(!1)}).catch(t=>{let r=(0,a.ID)(t);r&&(e.dispatch(o.A.enqueue({message:(0,a.t)("community.comments.failed_to_report_comment",{errorMessage:r}),type:"COMMENT_REPORT_ERROR"})),null==s||s(!0))}))})},386304:(e,t,r)=>{"use strict";r.d(t,{O4:()=>l,Ou:()=>o,dQ:()=>s});var n=r(60452),i=r(778524),a=r(268984);let o="Used Keyboard Shortcut Paste",l=(0,n.A)("SET_KEYBOARD_SHORTCUT_PANEL_TAB"),s=(0,a.eg)("USED_KEYBOARD_SHORTCUT",(e,t)=>{"paste"===t.key&&(0,i.Y9)({id:o})})},219096:(e,t,r)=>{"use strict";r.d(t,{Ah:()=>tm,Ai:()=>tl,Aj:()=>tj,Ce:()=>eH,Cq:()=>e$,E5:()=>ts,EX:()=>tA,Et:()=>e6,GU:()=>ex,Ge:()=>eZ,IX:()=>tT,Ih:()=>th,Iv:()=>tC,Ki:()=>t$,Ky:()=>eL,OC:()=>eU,PB:()=>tG,QP:()=>eR,QR:()=>tP,Sc:()=>eB,UJ:()=>tN,WM:()=>e9,We:()=>tV,Y$:()=>eN,YH:()=>e0,YV:()=>ej,Yf:()=>te,_A:()=>td,_Y:()=>tq,_e:()=>tw,aG:()=>tM,am:()=>tx,c$:()=>tn,cT:()=>tS,cz:()=>eX,e8:()=>eP,gZ:()=>tY,gd:()=>tF,i8:()=>t_,iQ:()=>tO,kf:()=>eV,kh:()=>eY,kl:()=>tk,kz:()=>tR,mE:()=>tU,mS:()=>eW,mg:()=>eD,my:()=>eG,od:()=>eK,on:()=>ek,ov:()=>e7,qI:()=>tI,qs:()=>tc,sN:()=>ez,u3:()=>tB,u4:()=>eq,uW:()=>ti,wD:()=>tz,xn:()=>tL,ye:()=>tE});var n=r(307824),i=r(120304),a=r(445069),o=r.n(a),l=r(216712),s=r.n(l),c=r(60452),d=r(250008),u=r(143076),p=r(161400),m=r(733960),_=r(843148),h=r(61836),g=r(506616),f=r(814508),E=r(838836),y=r(326660),b=r(58908),v=r(103839),I=r(557044),w=r(675695),T=r(778524),S=r(967540),C=r(4596),A=r(560072),O=r(995076),N=r(317704),L=r(326300),R=r(268984),P=r(796116),M=r(375376),k=r(448604),D=r(323576),F=r(849208),x=r(440568),U=r(90340),B=r(699084),G=r(629968),V=r(523292),H=r(148812),W=r(585508),K=r(762820),Y=r(555168),q=r(398064),j=r(10316),$=r(907152),Z=r(679804),z=r(392992),Q=r(572748),X=r(638764),J=r(939540),ee=r(611996),et=r(31948),er=r(472956),en=r(876760),ei=r(39676),ea=r(868356),eo=r(779384),el=r(886872),es=r(13468),ec=r(814132),ed=r(644516),eu=r(322128),ep=r(725548),em=r(790184),e_=r(793944),eh=r(681276),eg=r(298996),ef=r(131048),eE=r(609052),ey=r(65540),eb=r(103064),ev=r(491760),eI=r(39924),ew=r(487728),eT=r(552727),eS=r(492084),eC=r(316220),eA=r(261536),eO=r(77132);let eN="Component Shared Symbol Inserted";async function eL(e,t=K.MTb.ACTIVE_SCENE){let r;if(!e.canvas_url&&t===K.MTb.PLAYGROUND_SCENE)return{newSymbolOrStateGroupGuid:K.w3.upsertLocalProductComponentToPlaygroundScene(e.node_id)};let n=await H.Uv.getCanvas(e);if(e.type===em.Af.COMPONENT){let i=Y.Pc.system("upsert-shared-symbol",()=>K.w3.upsertSharedSymbol(e.component_key??w.dv.INVALID,e.content_hash??w.I9.INVALID,e.file_key,K.Gcj.NO,n,t));if(i.fileUpdateRequired)return;if(!i.localGUID)throw Error("Swap to Shared Component Error, no local GUID");r=i.localGUID}else if(e.type===em.Af.STATE_GROUP){let i=Y.Pc.system("upsert-shared-state-group",()=>K.w3.upsertSharedStateGroup(e.key,e.version,e.file_key,K.Gcj.NO,n,t));if(i.fileUpdateRequired)return;if(!i.localGUID)throw Error("Swap to Shared Component Error, no local GUID");if(i.C2)throw Error(i.C2);r=i.localGUID}else throw Error(`Unexpected type for dragging library item: ${e.type}`);return{newSymbolOrStateGroupGuid:r,buffer:n}}let eR=(0,R.M0)((e,t)=>{let{item:r,callback:n,bufferCallback:i,errorCallback:a,alwaysFetch:o,targetUpsertScene:l=K.MTb.ACTIVE_SCENE}=t,s=(0,B.QZ)(e.getState());s&&(r.file_key!==s.key||o?eL(r,l).then(e=>{e&&(null==n||n(e.newSymbolOrStateGroupGuid),e.buffer&&(null==i||i(e.buffer)))}).catch(t=>{e.dispatch(S.M.error("An error occurred while retrieving the component or state group.")),(0,y.oP)(b._.DESIGN_SYSTEMS_EDITOR,t),null==a||a()}):null==n||n(r.node_id))}),eP=(0,R.eg)("SWAP_TO_SHARED_COMPONENT_OR_STATE_GROUP",(e,t)=>{let{item:r,instanceGUIDs:n,usedSwapInstanceKeyboardShortcut:i,storeInRecentsKey:a}=t,o=(0,eT.qq)(r,n);e.dispatch(eC.Cg({key:o}));let l=e.getState(),s=(0,X.U)(l);e.dispatch(tk({storeInRecentsKey:a,item:r,userId:s}));let c=(0,B.QZ)(l);if(!c){e.dispatch(eC.is({key:o}));return}eL(r).then(t=>{if(t){let a=r.type===em.Af.STATE_GROUP?K.i46.getSimilarStates(n,t.newSymbolOrStateGroupGuid,r.default_state_key):{[t.newSymbolOrStateGroupGuid]:n};Y.Pc.user("replace-symbol-backing-instances",()=>{K.i46.replaceSymbolBackingInstances(a,i)}),e.dispatch(eC.mk({key:o})),(0,eO.C)(c.key,r,!0)}}).catch(t=>{e.dispatch(eC.is({key:o})),e.dispatch(S.M.error("An error occurred while adding an instance of this component.")),(0,y.oP)(b._.DESIGN_SYSTEMS_EDITOR,t),(0,eO.C)(c.key,r,!1)}),(0,U.s5)("Instance Swapped To Shared Component",c.key,e.getState(),{componentFileKey:(0,O.j)(r),componentLibraryKey:r.library_key,componentId:r.id,source:t.sourceForTracking})}),eM="<!--(figcomponent)",ek=(0,R.eg)("TRY_HANDLING_DROP_EVENTS_AS_COMPONENT_DROP",(e,t)=>{var r;let n=null==(r=t.dataTransfer)?void 0:r.getData("text/html");if(n){let r=n.indexOf(eM)+eM.length,i=n.indexOf("(/figcomponent)-->");if(r>=0&&i>=0&&r<i){let a=n.substring(r,i).trim();try{let r=JSON.parse(a);if("object"==typeof r){let n=r.fileKey,i=r.nodeId;if(n&&i){let r=W.CA.getViewportInfo(),a=new v.Cg(r.x,r.y),o=new v.Cg(t.clientX,t.clientY).subtract(a),l=(0,Z.GO)(r,o);e.dispatch(eD({fileKey:n,nodeId:i,canvasX:l.x,canvasY:l.y}))}}}catch(e){}}}}),eD=(0,R.M0)(async(e,t)=>{let{fileKey:r,nodeId:n,canvasX:i,canvasY:a}=t,o=e.getState(),l=(0,B.QZ)(o),s=null;if(l&&l.key===r)s=o.library.local.components[n];else{o.fileByKey[r]||(await tm(e,r),o=e.getState());let t=o.fileByKey[r];!t||(s=(0,J.Ax)(o.library.published.components,t)[n])||(await tm(e,r),o=e.getState(),s=(0,J.Ax)(o.library.published.components,t)[n])}s?e.dispatch(ex({item:s,canvasPosition:new v.Cg(i,a),percentageOffset:new v.Cg(.5,.5),insertAsChildOfCanvas:!1})):e.dispatch(N.A.enqueue({type:"insert_component_error",message:(0,A.t)("design_systems.subscriptions.this_component_is_not_available"),error:!0}))});function eF(e){return e(N.A.enqueue({type:"insert_instance",message:(0,A.t)("design_systems.subscriptions.inserting_instance"),icon:L.mc.SPINNER,delay:1e3})),function(){e(N.A.dequeue({matchType:"insert_instance"}))}}let ex=(0,R.eg)("INSERT_SHARED_COMPONENT",async(e,t)=>{let{item:r}=t,{canvasPosition:n,percentageOffset:i,insertAsChildOfCanvas:a,isFromDoubleClick:o,useSmartPositioning:l,storeInRecentsKey:s,fromPlayground:c,insertLogArgsOverride:d,insertedItemsCallback:u}=t,p=e.getState(),m=(0,V.Aj)(r.file_key)&&!!(0,_.Ub)().presets_baseline,h=(0,V.Y5)(r.file_key,p.hubFiles)&&!p.userFlags.apple_eula_accepted,g=async()=>{let t=(0,X.U)(p);e.dispatch(tk({storeInRecentsKey:s,item:r,userId:t}));let h=(0,B.QZ)(p);if(!h)return;let g=(t,r)=>{let o=Y.Pc.user("insert-component",()=>c?K.i46.insertPlaygroundInstance({x:n.x,y:n.y,percentOffsetX:i.x,percentOffsetY:i.y},m):K.i46.insertInstance(t,{x:n.x,y:n.y,percentOffsetX:i.x,percentOffsetY:i.y},r,a,l??!1,m));if(u&&u([o]),((0,x.c)()||(0,_.Ub)().presets_baseline)&&o!==C.Q9){let r=(0,ea.iA)($.TSSceneGraph.instance.get(t)),n=p.mirror.sceneGraph.get(o),i=Object.keys(n&&"INSTANCE"===n.type&&n.componentProperties()||{}).length>0;r&&i?(e.dispatch(eA.Y({nodeId:o})),(0,T.Y9)({id:eh.y6})):r?(e.dispatch(eA.Y({nodeId:o})),(0,T.Y9)({id:eh.Wg})):i?(0,T.Y9)({id:eh.uI}):(0,T.Y9)({id:eh.yC})}W.CA.triggerAction("commit"),W.CA.triggerAction("set-tool-default")};if(h.key===r.file_key){let t=p.library.local.components[r.node_id];if(!t||!p.mirror.sceneGraph.get(t.node_id)){e.dispatch(D.A5({type:ew.q}));return}try{g(t.node_id,d),(0,U.s5)("Component Local Symbol Inserted",h.key,e.getState(),{componentFileKey:(0,O.j)(r),componentLibraryKey:r.library_key,componentId:r.id,ComponentCanvasPositionX:n.x,ComponentCanvasPositionY:n.y}),(0,eO.C)(h.key,t,!0),e.dispatch(tZ())}catch(r){e.dispatch(S.M.error("An error occurred while adding an instance of this component.")),(0,y.oP)(b._.DESIGN_SYSTEMS_EDITOR,r),(0,eO.C)(h.key,t,!1)}}else{let t=performance.now();if(tt&&tt===r.component_key&&tr){let e=(await tr).component;e&&e.updated_at>r.updated_at&&(r=e)}let i=eF(e.dispatch);H.Uv.getCanvas(r).then(e=>{let t=Y.Pc.system("upsert-shared-symbol",()=>K.w3.upsertSharedSymbol(r.component_key??w.dv.INVALID,r.content_hash??w.I9.INVALID,r.file_key,K.Gcj.NO,e,K.MTb.ACTIVE_SCENE));if(t.fileUpdateRequired||!t.localGUID)throw Error("An error occurred while adding an instance of this component.");g(t.localGUID,d)},e=>{let t=K.i46.getSymbolNodeId(r.component_key,r.content_hash);if(!t){if((null==e?void 0:e.status)===403)throw Error("A 403 error occurred while adding an instance of this component.");throw Error("An error occurred while adding an instance of this component.")}g(t,d)}).then(()=>{let i=performance.now()-t;(0,U.s5)(eN,h.key,e.getState(),{elapsedMs:i,componentFileKey:(0,O.j)(r),componentLibraryKey:r.library_key,componentId:r.id,componentName:r.name,ComponentCanvasPositionX:n.x,ComponentCanvasPositionY:n.y,isFromDefaultLibrary:(0,J.Gk)(p.library,r.file_key),isFromDoubleClick:!!o,useSmartPositioning:!!l}),(0,eO.C)(h.key,r,!0,{metricName:"design_systems.subscribed_component.insert_time",duration:i}),e.dispatch(tZ())}).catch(n=>{e.dispatch(S.M.error(n.message)),(0,y.oP)(b._.DESIGN_SYSTEMS_EDITOR,n),(0,eO.C)(h.key,r,!1,{metricName:"design_systems.subscribed_component.insert_time",duration:performance.now()-t})}).finally(()=>{i()})}};h?e.dispatch(D.A5({type:eI.qI,data:{onAgree:async()=>{await g(),e.dispatch(D.ek({type:eI.qI.type}))}}})):await g()}),eU=(0,R.eg)("INSERT_SHARED_STATE_GROUP",async(e,t)=>{let{item:r}=t,{canvasPosition:n,percentageOffset:i,insertAsChildOfCanvas:a,isFromDoubleClick:o,useSmartPositioning:l,storeInRecentsKey:s,fromPlayground:c,insertLogArgsOverride:d,insertedItemsCallback:u}=t,p=e.getState(),m=(0,V.Y5)(r.file_key,p.hubFiles)&&!p.userFlags.apple_eula_accepted,h=(0,V.Aj)(r.file_key)&&!!(0,_.Ub)().presets_baseline,g=async()=>{let t=(0,X.U)(p);e.dispatch(tk({storeInRecentsKey:s,item:r,userId:t}));let m=(0,B.QZ)(p);if(!m)return;let g=(e,t,r)=>{let o=Y.Pc.user("insert-state-group",()=>c?K.i46.insertPlaygroundInstance({x:n.x,y:n.y,percentOffsetX:i.x,percentOffsetY:i.y},h):K.i46.insertStateGroup(e,{x:n.x,y:n.y,percentOffsetX:i.x,percentOffsetY:i.y},r,a,l??!1,t,h));return u&&u([o]),W.CA.triggerAction("commit"),W.CA.triggerAction("set-tool-default"),o};if(m.key===r.file_key){let t=p.library.local.stateGroups[r.node_id];if(!t||!p.mirror.sceneGraph.get(t.node_id)){e.dispatch(D.A5({type:ew.q}));return}g(t.node_id,"",d),(0,U.s5)("State Group Local Symbol Inserted",m.key,e.getState(),{stateGroupFileKey:(0,O.j)(r),stateGroupLibraryKey:r.library_key,stateGroupId:r.id,StateGroupCanvasPositionX:n.x,StateGroupCanvasPositionY:n.y}),e.dispatch(tZ())}else{let t=performance.now();if(ta&&ta===r.key&&to){let e=await to;e&&e.updated_at>r.updated_at&&(r=e)}let i=eF(e.dispatch);H.Uv.getCanvas(r).then(t=>{var n;let i=Y.Pc.system("upsert-shared-state-group",()=>K.w3.upsertSharedStateGroup(r.key??w.Mb.INVALID,r.version,r.file_key,K.Gcj.NO,t,K.MTb.ACTIVE_SCENE));if(i.fileUpdateRequired||!i.localGUID)throw Error("An error occurred while adding an instance of this component.");let a=g(i.localGUID,r.default_state_key,d);if((0,x.c)()||(0,_.Ub)().presets_baseline){let t=null==(n=p.mirror.sceneGraph.get(i.localGUID))?void 0:n.childrenNodes[0];t&&((0,ea.iA)(t)&&a!==C.Q9?(e.dispatch(eA.Y({nodeId:a})),(0,T.Y9)({id:eh.y6})):(0,T.Y9)({id:eh.uI}))}},e=>{let t=K.i46.getStateGroupNodeId(r.key,r.version);if(!t)throw Error("An error occurred while adding an instance of this component.");g(t,"",d)}).then(()=>{(0,U.s5)("State Group Shared Symbol Inserted",m.key,e.getState(),{stateGroupFileKey:(0,O.j)(r),stateGroupLibraryKey:r.library_key,stateGroupId:r.id,stateGroupName:r.name,StateGroupCanvasPositionX:n.x,StateGroupCanvasPositionY:n.y,isFromDefaultLibrary:(0,J.Gk)(p.library,r.file_key),isFromDoubleClick:!!o}),(0,eO.C)(m.key,r,!0,{metricName:"design_systems.subscribed_state_group.insert_time",duration:performance.now()-t}),e.dispatch(tZ())}).catch(n=>{e.dispatch(S.M.error(n.message)),(0,y.oP)(b._.DESIGN_SYSTEMS_EDITOR,n),(0,eO.C)(m.key,r,!1,{metricName:"design_systems.subscribed_state_group.insert_time",duration:performance.now()-t})}).finally(()=>{i()})}};m?e.dispatch(D.A5({type:eI.qI,data:{onAgree:async()=>{await g(),e.dispatch(D.ek({type:eI.qI.type}))}}})):await g()}),eB=(0,R.M0)(async(e,t)=>{if(!(0,_.Ub)().dse_editor_templates_v1&&!(0,_.Ub)().piper)return;let{item:r}=t,{canvasPosition:n,percentageOffset:i,insertAsChildOfCanvas:a,useSmartPositioning:o,insertLogArgsOverride:l,storeInRecentsKey:s,insertedItemsCallback:c,fromPlayground:d}=t,u=e.getState(),p=(0,X.U)(u);e.dispatch(tk({storeInRecentsKey:s,item:r,userId:p}));let m=(0,B.QZ)(u);if(!m)return;let h=(e,t)=>{let r=Y.Pc.user("insert-module",()=>d?K.i46.insertPlaygroundModuleUsage({x:n.x,y:n.y,percentOffsetX:i.x,percentOffsetY:i.y}):K.i46.insertModule(e,{x:n.x,y:n.y,percentOffsetX:i.x,percentOffsetY:i.y},t,a,o??!1));return c&&c(r,n),W.CA.triggerAction("commit"),W.CA.triggerAction("set-tool-default"),r};if(m.key===r.file_key)h(r.node_id,l),e.dispatch(tZ());else{let t=function(e){return e(N.A.enqueue({type:"insert_template",message:(0,A.t)("design_systems.subscriptions.inserting_template"),icon:L.mc.SPINNER,delay:1e3})),function(){e(N.A.dequeue({matchType:"insert_template"}))}}(e.dispatch);try{let e=await H.Uv.getCanvas(r),t=Y.Pc.system("upsert-shared-module",()=>K.w3.upsertSharedModule(r.key??w.OM.INVALID,r.version??w.qr.INVALID,r.file_key,K.Gcj.NO,e,K.MTb.ACTIVE_SCENE));if(t.fileUpdateRequired||!t.localGUID)throw Error("An error occurred while inserting this template.");h(t.localGUID,l)}catch(t){e.dispatch(S.M.error(t.message)),(0,y.oP)(b._.DESIGN_SYSTEMS_EDITOR,t)}t()}}),eG=(0,R.M0)(async(e,t)=>{let{stateGroups:r,usedItemsByKey:n,instanceIdsToUpdate:i,updateStartTime:a}=t,o=e.getState(),l=o.openFile;if(l)try{let t=await Promise.all(r.map(e=>H.Uv.getCanvas(e))),s=new Set;for(let e=0;e<r.length;e++){let c=r[e],d=t[e];if(Y.Pc.user("update-shared-state-group",()=>{K.w3.updateSharedStateGroup(c.key,c.file_key,c.newStateKeyToOutdatedItems,i.map(u.M.toString),d,a)}),Object.keys(c.newStateKeyToOutdatedItems).length)for(let e of Object.values(c.newStateKeyToOutdatedItems)){let{localIdsToUpdate:t,oldSubscribedKeysToUpdate:r}=e;if((0,J.Eh)(o.library,l,t,r,n)){s.add(c.file_key);break}}}W.CA.triggerAction("commit");let c=r.map(e=>e.id);(0,U.s5)("Components Updated",l.key,e.getState(),{stateGroups:c,isSgShimFFEnabled:!!(0,_.Ub)().livegraph_shim_sg_full_read}),s.size&&tH(e,s)}catch(t){e.dispatch(S.M.error("An error occurred while updating the instances of this component.")),(0,y.oP)(b._.DESIGN_SYSTEMS_EDITOR,t)}}),eV=(0,R.M0)(async(e,t)=>{let{components:r,usedItemsByKey:n,instanceIdsToUpdate:i,updateStartTime:a}=t,o=e.getState(),l=o.openFile;if(l)try{let t=await Promise.all(r.map(e=>H.Uv.getCanvas(e))),s=new Set;for(let e=0;e<r.length;e++){let c=r[e],d=t[e];Y.Pc.user("update-shared-symbol",()=>{K.w3.updateSharedSymbol(c.component_key??w.dv.INVALID,c.file_key,c.oldSubscribedKeysToUpdate,c.localIdsToUpdate,i.map(u.M.toString),d,a)}),(c.localIdsToUpdate.length||c.oldSubscribedKeysToUpdate.length)&&(0,J.Eh)(o.library,l,c.localIdsToUpdate,c.oldSubscribedKeysToUpdate,n)&&s.add(c.file_key)}W.CA.triggerAction("commit");let c=r.map(e=>e.id);(0,U.s5)("Components Updated",l.key,e.getState(),{components:c,isShimFFEnabled:!!(0,_.Ub)().livegraph_shim_comp_full_read}),s.size&&tH(e,s)}catch(t){e.dispatch(S.M.error("An error occurred while updating the instances of this component.")),(0,y.oP)(b._.DESIGN_SYSTEMS_EDITOR,t)}}),eH=(0,R.M0)((e,t)=>{let{style:r,inheritStyleKeyField:n,fromSearch:i}=t,a=e.getState(),o=(0,B.QZ)(a),l=o&&r.file_key!==o.key,s=(0,V.Y5)(r.file_key,a.hubFiles)&&!a.userFlags.apple_eula_accepted,c=()=>{e.dispatch(eW({style:r,callback:t=>{Y.Pc.user("apply-style-to-selection",()=>K.i46.applyStyleToSelection(n,t,!0)),(0,d.we)("Style Applied",{styleType:r.style_type,isShared:!!l,viewMode:e.getState().stylePickerListLayout?"LIST":"GRID",fromSearch:!!i,nonInteraction:0,styleKey:r.key,consumedVariableIds:K.sAy.getConsumedVariableIDs(r.node_id)})}}))};s?e.dispatch(D.A5({type:eI.qI,data:{onAgree:()=>{c(),e.dispatch(D.ek({type:eI.qI.type}))}}})):c()}),eW=(0,R.M0)((e,t)=>{var r,n;let i=e.getState(),{style:a}=t,o=(0,B.QZ)(i);if(!o)return;let l=a.file_key!==o.key,s="GRID"===a.style_type&&!K.KEP.editorPreferences().showFrameGrids.getCopy();l?H.Uv.getCanvas(a).then(async r=>{var n,i;null==(n=t.bufferCallback)||n.call(t,r);let o=Y.Pc.system("ensure-style-is-loaded",()=>K.w3.getOrCreateSubscribedStyleNodeId(a.key,a.content_hash??w.SI.INVALID,a.file_key,r));if(null==o||!o.fileUpdateRequired){if(t.omitFullscreenCommit||W.CA.triggerAction("commit"),s&&((0,j.OY)(),K.KEP.editorPreferences().showFrameGrids.set(!0)),"TEXT"===a.style_type&&o&&o.localGUID){let t=e.getState().mirror.sceneGraph.get(o.localGUID),r=t&&t.fontName;r&&await (0,q.wn)(r.family,r.style).catch(()=>console.error(`Text style font did not load: ${r.family} ${r.style}`))}null==(i=t.callback)||i.call(t,o.localGUID)}}).catch(t=>{e.dispatch(S.M.error("An error occurred while applying the style to the selection.")),(0,y.oP)(b._.DESIGN_SYSTEMS_EDITOR,t)}):(s&&((0,j.OY)(),K.KEP.editorPreferences().showFrameGrids.set(!0)),null==(r=t.callback)||r.call(t,a.node_id),null==(n=t.bufferCallback)||n.call(t,void 0))}),eK=(0,R.M0)(async(e,t)=>{var r;let{styles:n,updateStartTime:i}=t,a=e.getState().openFile;if(a)try{let t=await Promise.all(n.map(e=>H.Uv.getCanvas(e))),o=new Set,l=e.getState();for(let e=0;e<n.length;e++){let r=n[e],s=t[e];Y.Pc.user("update-shared-style",()=>{K.w3.updateSharedStyle(r.key,r.file_key,r.content_hash??w.SI.INVALID,r.oldSubscribedKeysToUpdate,r.localIdsToUpdate,s,i)}),(0,J.Eh)(l.library,a,r.localIdsToUpdate,r.oldSubscribedKeysToUpdate,l.library.used__LIVEGRAPH.styles)&&o.add(r.file_key)}W.CA.triggerAction("commit");let s=n.map(e=>e.id);(0,U.s5)("Styles Updated",null==(r=l.openFile)?void 0:r.key,e.getState(),{styles:s}),o.size&&tH(e,o)}catch(t){e.dispatch(S.M.error("An error occurred while updating this style.")),(0,y.oP)(b._.DESIGN_SYSTEMS_EDITOR,t)}}),eY=(0,R.M0)((e,t)=>{let r=K.w3.getTimestampForLibraryUpdateStart(),{styleUpdateInfo:n,oldStyleGUID:i,consumerGUIDsToUpdate:a}=t,{updateAsset:o,inheritStyleKeyFields__DEPRECATED:l}=n;H.Uv.getCanvas(o).then(t=>{var n;let s=e.getState(),{content_hash:c}=o;if(!i)throw Error("guid to update can not be empty");if(!c)throw Error("content_hash not specified on style");let d=Y.Pc.user("update-selected-shared-style-consumers",()=>K.w3.updateSelectedSharedStyleConsumers(o.key,o.file_key,c,o.oldSubscribedKeysToUpdate,o.localIdsToUpdate,l||[],a,i,t,r));if(W.CA.triggerAction("commit"),!d)throw Error("unable to update");(0,U.s5)("Styles Updated",null==(n=s.openFile)?void 0:n.key,e.getState(),{styles:[o.id]})}).catch(t=>{e.dispatch(S.M.error("An error occurred while updating this style.")),(0,y.oP)(b._.DESIGN_SYSTEMS_EDITOR,t)})}),eq=(0,R.M0)(e=>{(0,J.wT)(e)}),ej=(0,R.M0)((e,t)=>{let{variableSets:r,updateStartTime:n}=t;e.getState().openFile&&Promise.all(r.map(e=>H.Uv.getCanvas(e))).then(e=>{for(let t=0;t<r.length;t++){let i=r[t],a=e[t];Y.Pc.user("update-shared-variable-set",()=>{K.w3.updateSharedVariableSet(i.node_id,(0,em.S_)(i)?[]:i.libraryVariableIdsForUpdate,a,n)})}W.CA.triggerAction("commit")}).catch(t=>{e.dispatch(S.M.error("An error occurred while updating this variable collection")),(0,y.oP)(b._.DESIGN_SYSTEMS_EDITOR,t)})});async function e$(e){let t=await H.Uv.getCanvas(e);if(!Y.Pc.system("upsert-shared-variable",()=>K.w3.upsertSharedVariable(e.node_id,K.Gcj.NO,t)).fileUpdateRequired)return{buffer:t}}let eZ=(0,R.M0)((e,t)=>{let{item:r,callback:n,bufferCallback:i,errorCallback:a}=t;if(!(0,B.QZ)(e.getState())){null==a||a(Error("editing file not found"));return}"LIBRARY"===r.subscriptionStatus?e$(r).then(e=>{e&&(null==n||n(r.node_id),null==i||i(e.buffer))}).catch(t=>{e.dispatch(S.M.error("An error occurred while retrieving the variable.")),(0,y.oP)(b._.DESIGN_SYSTEMS_EDITOR,t),null==a||a(t)}):null==n||n(r.node_id)}),ez=(0,R.M0)((e,t)=>new Promise((r,n)=>{e.dispatch(eZ({item:t,callback:r,errorCallback:n}))}));async function eQ(e){let t=await H.Uv.getCanvas(e);if(!Y.Pc.system("upsert-shared-variable-set",()=>K.w3.upsertSharedVariableSet(e.node_id,K.Gcj.NO,t)).fileUpdateRequired)return{buffer:t}}let eX=(0,R.M0)((e,t)=>{let{item:r,callback:n,bufferCallback:i,errorCallback:a}=t;(0,B.QZ)(e.getState())&&("LIBRARY"===r.subscriptionStatus?eQ(r).then(e=>{e&&(null==n||n(r.node_id),null==i||i(e.buffer))}).catch(t=>{e.dispatch(S.M.error("An error occurred while retrieving the variable collection.")),(0,y.oP)(b._.DESIGN_SYSTEMS_EDITOR,t),null==a||a()}):null==n||n(r.node_id))}),eJ=(e,t,r)=>{let n={[em.pw]:{}};t.forEach(e=>{e=(0,et.wX)(e),n[em.pw][e.file_key]=n[em.pw][e.file_key]||{},n[em.pw][e.file_key][e.node_id]=e}),e.dispatch(k.yy({publishedItemsByTeamId:n,type:r}))};async function e0(e,t){var r;let n=(0,es.Wm)(e.getState().selectedView),i=!(0,_.cp)().user_data;if(i&&!n)return;let a=(0,eT.AL)(t);if(!(0,ei.ER)(e.getState().loadingState,a)){(0,J._u)();return}e.dispatch(eC.Cg({key:a}));let o=e.getState();try{let n="whiteboard"===o.selectedView.editorType?"figjam":"design",l=eb.C.getLibrarySubscribedComponentsEditorType({key:t,editorType:n}),s=await (0,G._A)((null==(r=o.user)?void 0:r.created_at)??null,(0,ed.OA)(o),o.userFlags[G.YL],e.dispatch)?ey.s.getCommunityLibrarySubscribedComponents({key:t}).catch(t=>((0,y.oP)(b._.COMMUNITY,t),e.dispatch(S.M.error((0,A.t)("community.library.error_fetching_subscribed_components"))),null)):Promise.resolve(null),[c,d]=await Promise.all([l,s]);i||await eu.JG.promise,e.dispatch(M.eq({files:c.data.meta.files,subscribeToRealtime:!0})),c.data.meta.files.forEach(e=>{(0,J.C2)(e.key)});let u=e.getState().fileByKey,p=c.data.meta.hub_files;p&&(p.forEach(e=>{(0,J.C2)(e.id)}),e.dispatch(P.Ur(p)));let m=c.data.meta.state_groups.map(e=>{var t;return{...e,team_id:null==(t=u[e.file_key])?void 0:t.team_id}}),_=c.data.meta.components.map(e=>{var t;return{...e,team_id:null==(t=u[e.file_key])?void 0:t.team_id}});e.dispatch(k.eq({items:m,type:em.Af.STATE_GROUP})),e.dispatch(k.eq({items:_,type:em.Af.COMPONENT})),e.dispatch(k.mO({libraries:c.data.meta.libraries})),d&&(e.dispatch(P.Ur(d.data.meta.hub_files)),d.data.meta.hub_files.forEach(e=>{(0,J.C2)(e.id)}),e.dispatch(k.eq({items:d.data.meta.state_groups,type:em.Af.STATE_GROUP})),e.dispatch(k.eq({items:d.data.meta.components,type:em.Af.COMPONENT})),e.dispatch(k.mO({libraries:d.data.meta.libraries}))),(0,J._u)(),e.dispatch(eC.mk({key:a})),ee.s1.queryDidChange(e)}catch(t){(0,J._u)(),e.dispatch(eC.is({key:a}))}}let e1=(e,t)=>`GET_DEFAULT_LIBRARIES_FOR_${e}_FV${t}`;async function e2(e){let t=e.getState().openFile,r=e.getState().fileVersion;if(!t||!r)return;let n=e1(t.key,r),i=e.getState().loadingState;if(!((0,ei.kr)(i,n)||(0,ei.K0)(i,n))){e.dispatch(eC.Cg({key:n}));try{let t;let r=e.getState(),i="fullscreen"===r.selectedView.view&&"whiteboard"===r.selectedView.editorType;t=(0,_.Ub)().figjam_ngima_stickers&&i?await e3():await e4(),eJ(e,t.data.meta.components,em.Af.COMPONENT),eJ(e,t.data.meta.state_groups,em.Af.STATE_GROUP),t.data.meta.files.forEach(t=>{t.team_id=em.pw,e.dispatch(M.Aj({file:t}))});let a=t.data.meta.files.map(e=>e.key);e.dispatch(k.gR({fileKeys:a})),e.dispatch(k.mO({libraries:t.data.meta.libraries})),(0,J.Yh)(),e.dispatch(eC.mk({key:n}))}catch(t){(0,J.Yh)(),e.dispatch(eC.is({key:n})),ee.s1.queryDidChange(e)}}}async function e4(){return await eb.C.getDefaultLibraries()}async function e3(){let e;async function t(){try{return await eb.C.getLibraryPublishedComponents({fileKey:e})}catch{return null}}e=window.location.origin.includes("staging.figma.com")?"3oeQNbicdVK70ytqmfZJhR":"Lm2ooVlwRmnYh0BpyxwZSZ";let[r,n]=await Promise.all([e4(),t()]);return n&&(r.data.meta.components.push(...n.data.meta.components),r.data.meta.state_groups.push(...n.data.meta.state_groups),r.data.meta.files.push(n.data.meta.file),r.data.meta.libraries.push(n.data.meta.library),r.data.meta.thumbnails.push(n.data.meta.library.thumbnail_url)),r}let e6=(0,R.M0)((e,t)=>{let r=e.getState().fileVersion||ep.K;e.dispatch(eC.E5({key:(0,eT.AL)(t.openFileKey)})),e.dispatch(eC.E5({key:e1(t.openFileKey,r)}))}),e8=new Set,e5=new Set;function e7(){e8=new Set,e5=new Set}let e9=(0,R.M0)(async e=>{let t=e.getState();t.user&&(await eo.Ej,te((0,ec.qs)(t),(0,ec.oH)(t),e))}),te=async(e,t,r,n)=>{var i,a;if(0===e.length&&0===t.length)return;let o=r.getState().openFile,l=r.getState().fileVersion;if(!o||!l)return;let s=(n=n??(0,J.Vr)(r)).loadingKey;(0,ei.K0)(r.getState().loadingState,s)&&await n.promise,r.dispatch(eC.Cg({key:s})),"whiteboard"===o.editorType&&await J.Ko;let c=r.getState(),d=[];if(e.length>0){let t=new Set((0,J.uM)(c.library.published.components).map(e=>e.component_key).concat((0,J.uM)(c.library.defaultPublished.components).map(e=>e.component_key)));d=e.filter(e=>!t.has(e)&&!e8.has(e))}let u=[];if(t.length>0){let e=new Set((0,J.uM)(c.library.published.stateGroups).map(e=>e.key).concat((0,J.uM)(c.library.defaultPublished.stateGroups).map(e=>e.key)));u=t.filter(t=>!e.has(t)&&!e5.has(t))}try{if(d.length>0||u.length>0){let e=await I.cp.post("/api/design_systems/components_state_groups",{component_keys:d,state_group_keys:u,org_id:c.currentUserOrgId,fv:l});d.forEach(e=>{e8.add(e)}),u.forEach(e=>{e5.add(e)});let t=e.data.meta.components,n=e.data.meta.state_groups,i=e.data.meta.files;r.dispatch(M.eq({files:i,subscribeToRealtime:!0})),r.dispatch(k.Mb({subscribedOldKeyToNewKey:e.data.meta.move_remappings,localOldGuidToNewKey:{}}));let a=r.getState().fileByKey;(0,J.iQ)(t,em.Af.COMPONENT,a,r.dispatch),(0,J.iQ)(n,em.Af.STATE_GROUP,a,r.dispatch)}null==(i=n.callbackForComponent)||i.call(n,!0)}catch(e){null==(a=n.callbackForComponent)||a.call(n,!1)}n.resetPromise(),r.dispatch(eC.E5({key:s})),n.callback()},tt=null,tr=null;async function tn(e,t,r){var n,i;try{let a=e.getState().fileVersion||0,o=await eb.C.getLibraryComponentV2({componentKey:t,source:r,fv:a}),l=o.data.meta.file;l&&e.dispatch(M.Aj({file:l}));let s=o.data.meta.component||null,c=o.data.meta.component_set||null,d=e.getState().fileByKey;if(s&&(s.team_id=null==(n=d[s.file_key])?void 0:n.team_id),c&&(c.team_id=null==(i=d[c.file_key])?void 0:i.team_id),l){let t={};t[s.node_id]=s,o.data.meta.state_components.forEach(e=>{t[e.node_id]=e}),e.dispatch(k.Aj({itemsById:t,fileKey:l.key,teamId:l.team_id,type:em.Af.COMPONENT})),o.data.meta.component_set&&e.dispatch(k.Aj({itemsById:{[o.data.meta.component_set.key]:o.data.meta.component_set},fileKey:l.key,teamId:l.team_id,type:em.Af.STATE_GROUP})),s&&H.Uv.getCanvas(s)}return{component:s,parentStateGroup:o.data.meta.component_set||null}}catch(e){return(null==e?void 0:e.status)===403&&console.error(Error("Permissions error for /api/design_systems/library/component_v2/key")),{component:null,parentStateGroup:null}}}let ti=(0,R.M0)((e,t)=>{tt=t.componentKey,tr=tn(e,t.componentKey,t.callsite)}),ta=null,to=null;async function tl(e,t){try{let r=e.getState().fileVersion||0,n=(await eb.C.getLibraryStateGroupFv({stateGroupKey:t,fileVersion:r})).data.meta,i={[n.node_id]:n},a=e.getState().fileByKey[n.file_key];if(!a)return n;return n.team_id=a.team_id,e.dispatch(k.Aj({itemsById:i,fileKey:a.key,teamId:a.team_id,type:em.Af.STATE_GROUP})),H.Uv.getCanvas(n),n}catch(e){return(null==e?void 0:e.status)===403&&console.error(Error("Permissions error for /api/design_systems/library/state_group/key")),null}}async function ts(e,t){try{let{style:r,file:n}=(await eb.C.getLibraryStyleByKey({styleKey:t})).data.meta;return e.dispatch(M.Aj({file:n})),H.Uv.getCanvas(r),r}catch(e){return(null==e?void 0:e.status)===403&&console.error(Error("Permissions error for /api/design_systems/library/styles/key")),null}}let tc=(0,R.M0)((e,t)=>{ta=t.stateGroupKey,to=tl(e,t.stateGroupKey)}),td="FETCH_RECENTLY_USED_LIBRARY_ITEMS";async function tu(e,t){var r,n,i,a;let o;if((0,ei.K0)(e.getState().loadingState,td))return;e.dispatch(eC.Cg({key:td})),await J.Ae;let l=e.getState();if("fullscreen"!==l.selectedView.view){e.dispatch(eC.mk({key:td}));return}let s=new Set,c=new Set;for(let e of l.recentlyUsed.libraryItems[t])e.type!==em.Af.COMPONENT||!e.key||(null==(n=null==(r=l.library.published.components[e.team_id])?void 0:r[e.file_key])?void 0:n[e.node_id])?e.type!==em.Af.STATE_GROUP||!e.key||(null==(a=null==(i=l.library.published.stateGroups[e.team_id])?void 0:i[e.file_key])?void 0:a[e.node_id])||c.add(e.key):s.add(e.key);if(0===s.size&&0===c.size){e.dispatch(eC.mk({key:td}));return}try{o=await I.cp.post("/api/design_systems/components_state_groups",{component_keys:Array.from(s),state_group_keys:Array.from(c),org_id:l.currentUserOrgId,fv:l.fileVersion})}catch(t){e.dispatch(eC.is({key:td}));return}e.dispatch(eC.mk({key:td})),e.dispatch(M.eq({files:o.data.meta.files,subscribeToRealtime:!1})),e.dispatch(k.Mb({subscribedOldKeyToNewKey:o.data.meta.move_remappings,localOldGuidToNewKey:{}}));let d=e.getState().fileByKey;(0,J.iQ)(o.data.meta.components,em.Af.COMPONENT,d,e.dispatch),(0,J.iQ)(o.data.meta.state_groups,em.Af.STATE_GROUP,d,e.dispatch)}async function tp(e){let{loadingState:t}=e.getState(),r=e.getState().openFile,n=e.getState().fileVersion;if(null==r||null===n)return;let i=(0,J.mE)(r.key,n);if(!(0,ei.ER)(t,i))return;let a=eb.C.getLibraryPublishedAndMovedComponentsFv({openFileKey:r.key,fileVersion:n});(0,el.o)(a,{dispatch:e.dispatch},i),J.cb.add(i);try{let t=await a;e.dispatch(M.eq({files:t.data.meta.files,subscribeToRealtime:!0})),(0,J.C2)(r.key);let n=e.getState().fileByKey;(0,J.iQ)(t.data.meta.state_groups,em.Af.STATE_GROUP,n,e.dispatch),(0,J.iQ)(t.data.meta.components,em.Af.COMPONENT,n,e.dispatch),e.dispatch(k.Mb({subscribedOldKeyToNewKey:{},localOldGuidToNewKey:t.data.meta.move_remappings}))}catch(e){console.warn("Failed to get published and moved components for editing file")}(0,J._Y)()}function tm(e,t,r=!1){let{loadingState:n}=e.getState();return r?(0,J.qQ)(t,n,e.getState().fileVersion,e.dispatch):(0,J.w7)(t,n,e.getState().fileVersion,e.dispatch)}let t_=en.qO.Query({fetch:async e=>(await ev.Q.getOrgMigrationStatus({orgId:e})).data.meta,enabled:e=>!!e}),th=en.qO.Query({fetch:async e=>await tg(p.x.dispatch,e),key:"libraryStats"}),tg=async(e,t)=>{let r=ev.Q.getLibraries({orgId:t,fv:ep.K}),n=function(e){return`LIBRARY${e?"_"+e:""}'_STATS'`}(t);(0,el.o)(r,{dispatch:e},n);try{let t=await r,n=t&&t.data&&t.data.meta||[],i=0,a=0,o=0,l=0,s=0,c=0,d=0,u=[],p=[],m=[],_=new Set;for(let e of n)(0!==e.num_components||0!==e.num_styles||0!==e.num_variable_collections||0!==e.num_variables||0!==e.num_module_assets)&&(e.team_id&&!_.has(e.team_id)&&(_.add(e.team_id),c++),u.push(e),p.push(e.file),e.thumbnail_url&&m.push({file_key:e.library_file_key,thumbnail_url:e.thumbnail_url}),i+=e.num_components,o+=e.num_styles,l+=e.num_variable_collections,e.num_state_groups=0,a+=e.num_state_groups,s+=e.num_module_assets,d++);return p.length>0&&e(M.eq({files:p,subscribeToRealtime:!1})),m.length>0&&e(k.mO({libraries:m})),{totalComponents:i,totalStateGroups:a,totalStyles:o,totalVariableCollections:l,totalModuleAssets:s,teamsWithLibraries:c,totalLibraries:d,files:u}}catch(e){return em.am}},tf=en.qO.Query({fetch:e=>ty(e),key:"libraryInfo"});function tE(e,t={}){let r=(0,en.UL)(tf(e),t),n=(0,i.OY)(),[a]=r;return(0,f.iQ)(a,e=>{let t=e.files.map(e=>e.file);t.length>0&&n(M.eq({files:t,subscribeToRealtime:!1})),e.libraries.length>0&&n(k.mO({libraries:e.libraries}))}),r}let ty=(0,eS.m)(async({currentOrgId:e,excludeDrafts:t,subscriptionFileKey:r,includeThumbnails:n})=>{let i=eb.C.getLibraries({orgId:e,fv:ep.K,subscriptionFileKey:r||void 0,includeThumbnails:n});try{let e=await i,r=e&&e.data&&e.data.meta||[],a=0,o=0,l=0,s=0,c=0,d=0,u=0,p=[],m=[],_=[],h=new Set;for(let e of r)e.num_state_groups=0,(0!==e.num_components||0!==e.num_styles||0!==e.num_variable_collections||0!==e.num_variables||0!==e.num_module_assets)&&(!t||e.team_id)&&(e.team_id&&!h.has(e.team_id)&&(h.add(e.team_id),d++),p.push(n?{...e,thumbnail_url:e.file.thumbnail_url}:e),m.push(e.file),e.thumbnail_url&&_.push({file_key:e.library_file_key,thumbnail_url:e.thumbnail_url}),a+=e.num_components,l+=e.num_styles,s+=e.num_variable_collections,o+=e.num_state_groups,c+=e.num_module_assets,u++);return{totalComponents:a,totalStateGroups:o,totalStyles:l,totalVariableCollections:s,totalModuleAssets:c,teamsWithLibraries:d,totalLibraries:u,files:p,libraries:_}}catch(e){return{...em.am,libraries:[]}}});function tb(e){var t,r;let n=e.communityLibrary&&(null==(t=(0,g.Fc)(e.communityLibrary))?void 0:t.hubFileId),i=e.library&&(null==(r=(0,g.Fc)(e.library))?void 0:r.fileKey);return n??i}function tv(e){var t;return e.communityLibrary&&!!(null==(t=(0,g.Fc)(e.communityLibrary))?void 0:t.hubFileId)}function tI(e,t){let r=(null==t?void 0:t.ignoreCommunitySubs)??!1,n={};for(let t of e)tv(t)&&r||(n[tb(t)]={design:!!t.isSubscribed,figjam:!!t.figJamSubscribed});return n}function tw(e,t,r){if(!t||!r)return;let n=o()(t,tb);for(let t of r){let r=tb(t),i=n[r];i&&i.isSubscribed===t.isSubscribed&&i.figJamSubscribed===t.figJamSubscribed||tD(e,r,{design:!!t.isSubscribed,figjam:!!t.figJamSubscribed},tv(t))}}let tT=(0,_.Ub)().library_subs_on_livegraph?function(e){let t=(0,G.a0)(),r=(0,i.OY)(),a=(0,i.o3)(),o=(0,g.Qb)(er.oV9,{fileKey:e},{enabled:!!e}),{data:l,status:s}=(0,n.useMemo)(()=>o.transform(e=>{var t;return(null==(t=null==e?void 0:e.file)?void 0:t.libraryFileSubscriptionOverrides)??[]}),[o]);(0,n.useEffect)(()=>{if("loaded"!==s)return;let n={};for(let e of l)(!tv(e)||t())&&(n[tb(e)]=!!e.isSubscribed);r(tL({fileKey:e,fileSubscriptionsByFileKey:n}))},[e,l,r,t,s]);let c=(0,m.i)(l);(0,n.useEffect)(()=>{c&&l&&tw(a,c,l)},[a,l,c])}:E.Kw,tS=(0,_.Ub)().library_subs_on_livegraph?function(){let e=(0,i.OY)(),t=(0,i.o3)(),r=!!(0,_.Ub)().dse_preset_libraries,a=(0,G.a0)(),o=(0,Q.kV)(),l=(0,z.AL)(),{data:c}=(0,g.Qb)(er.mog,{});(0,n.useEffect)(()=>{var t;let r=null==(t=null==c?void 0:c.currentUser)?void 0:t.libraryUserSubscriptions;r&&e(tR({subscriptions:tI(r,{ignoreCommunitySubs:!a()})}))},[a,c,e]);let d=(0,m.i)(c);(0,n.useEffect)(()=>{var e,r;if(!d||!c)return;let n=null==(e=null==c?void 0:c.currentUser)?void 0:e.libraryUserSubscriptions;tw(t,null==(r=null==d?void 0:d.currentUser)?void 0:r.libraryUserSubscriptions,n)},[t,c,d]);let{data:u}=(0,g.Qb)(er.wdE,{},{enabled:r}),p=(0,n.useMemo)(()=>l?l.parentOrgId:o,[l,o]),h=(0,n.useMemo)(()=>{if(!u)return;let e=(0,g.Fc)(u.libraryPresetSubscriptions);if(e)return p?[]:e},[p,u]);(0,n.useEffect)(()=>{if(!h)return;let t={};for(let e of h)t[e.hubFileId]={design:!0,figjam:!1};e(tM({subscriptions:t}))},[h,e]);let f=(0,m.i)(h);(0,n.useEffect)(()=>{if(!h||!f)return;let e=e=>({communityLibrary:(0,g.ys)({hubFileId:e.hubFileId}),library:(0,g.ys)(null),isSubscribed:!0}),r=h.map(e);tw(t,f.map(e),r)},[t,h,f]);let{data:E}=(0,g.Qb)(er.iQe,{orgId:o},{enabled:!!o});(0,n.useEffect)(()=>{let t=null==E?void 0:E.orgLibrarySubscriptions;t&&e(tP({subscriptions:tI(t,{ignoreCommunitySubs:!a()})}))},[a,E,e]);let y=(0,m.i)(E);(0,n.useEffect)(()=>{if(!y||!E)return;let e=null==E?void 0:E.orgLibrarySubscriptions;tw(t,null==y?void 0:y.orgLibrarySubscriptions,e)},[t,E,y]);let b=(0,i.w1)(e=>e.currentTeamId),v=(0,g.Qb)(er.URB,{}),{data:I}=(0,n.useMemo)(()=>v.transform(e=>{var t;let n=(e.allTeamRoles||[]).filter(e=>e.team&&!e.team.deletedAt&&(e.team.orgId===o||e.team.id===b)).map(e=>e.team),i=[];if(a()&&!r)for(let r of e.communityQuickstartLibraries??[]){let e=(null==(t=r.communityLibrary)?void 0:t.hubFileId)??null;e&&i.push({library:(0,g.ys)(null),communityLibrary:(0,g.ys)({hubFileId:e}),isSubscribed:!0})}let l={};for(let e of n){let t=[...e.libraryTeamSubscriptionOverrides.filter(e=>a()||!tv(e)),...i],r=s()(t,tb);l[e.id]=r}return l}),[a,o,b,v,r]);(0,n.useEffect)(()=>{if(!I)return;let t={};for(let[e,r]of Object.entries(I)){let n=tI(r,{ignoreCommunitySubs:!a()});t[e]=n}e(tN({fileSubscriptionsByTeamId:t}))},[a,I,e]);let w=(0,m.i)(I);(0,n.useEffect)(()=>{w&&I&&tw(t,Object.values(w).flat(),Object.values(I).flat())},[t,I,w])}:E.Kw,tC=(0,R.M0)(async e=>{let t,r,n;if(await eu.JG.promise,!e.getState().user)return;let i=e.getState().currentUserOrgId;t=(0,_.Ub)().library_subs_on_livegraph?Promise.resolve(null):ef.A.getAllLibraryTeamSubscriptions({orgId:i||""}).then(({data:t})=>{e.dispatch(tN({fileSubscriptionsByTeamId:t.meta.subscriptions}))}),r=(0,_.Ub)().library_subs_on_livegraph?Promise.resolve(null):eE.s.getAllLibraryUserSubscriptions().then(({data:t})=>{e.dispatch(tR({subscriptions:t.meta.subscriptions}))}),n=i&&!(0,_.Ub)().library_subs_on_livegraph?eg.E.getAllLibraryOrgSubscriptions({currentOrgId:i}).then(({data:t})=>{e.dispatch(tP({subscriptions:t.meta.subscriptions}))}):Promise.resolve(null);try{await Promise.all([t,n,r])}catch(e){}});async function tA(e){if(!e)return 0;try{return(await ev.Q.getNumTeams({orgId:e})).data.meta.num_teams}catch(e){}return 0}let tO=(0,R.M0)(e=>{var t;let r=e.getState(),n=!!r.user;if(!(null==(t=r.openFile)?void 0:t.key))return;let i=e.getState().selectedView;i&&"fullscreen"===i.view&&("whiteboard"===i.editorType?e2(e):(0,J.Yh)(),n&&tu(e,"whiteboard"===i.editorType?e_.Sy.FigJam:e_.Sy.Design)),n&&(e.dispatch(e9()),tp(e))}),tN=(0,c.A)("LIBRARY_SUBSCRIPTIONS_INITIALIZE_TEAM"),tL=(0,c.A)("LIBRARY_SUBSCRIPTIONS_INITIALIZE_FILE"),tR=(0,c.A)("LIBRARY_SUBSCRIPTIONS_INITIALIZE_USER"),tP=(0,c.A)("LIBRARY_SUBSCRIPTIONS_INITIALIZE_ORG"),tM=(0,c.A)("LIBRARY_SUBSCRIPTIONS_INITIALIZE_PRESET"),tk=(0,c.A)("ADD_ASSET_TO_RECENTS"),tD=(0,eS.m)((e,t,r,n=!1)=>{if(!r||(0,J.Gk)(e.getState().library,t))return;let i=(0,B.QZ)(e.getState());if(i){let a=i.editor_type??"design";(!0===r||"design"===a&&r.design||"whiteboard"===a&&r.figjam)&&(e.getState().leftPanel.activeTab===K.W8r.ASSETS||e.getState().universalInsertModal.showing?tm(e,t,n):e.dispatch(eC.E5({key:(0,eT.AL)(i.key)})))}}),tF=(0,R.cj)("LIBRARY_SUBSCRIPTION_POST_ORG",(e,t,{optimistId:r})=>{var n,i;let{libraryOrgSubscription:a,libraryTeamId:o,userInitiated:l}=t,{org_id:s,file_key:c,subscriptions:u}=a;if(tD(e,c,u),l){if(t.currentSubscription){let e=a.subscriptions.design;!((null==(n=t.currentSubscription)?void 0:n.design)||(null==(i=t.currentSubscription)?void 0:i.figjam))&&e?(0,d.we)("Team Library File Enabled",{orgId:s,fileKey:c,fileTeamId:o}):(0,d.we)("Org Library File Disabled",{orgId:s,fileKey:c,fileTeamId:o})}I.cp.post(`/api/library_org_subscriptions/${c}`,{subscriptions:u}).then(()=>{e.dispatch(R.sL.commit(r)),e.dispatch(N.A.enqueue({message:(0,A.t)("design_systems.subscriptions.settings_updated_for",{libraryName:t.libraryName,orgOrWorkspaceName:t.orgName})}))}).catch(()=>{e.dispatch(R.sL.revert(r)),e.dispatch(N.A.enqueue({message:(0,A.t)("design_systems.subscriptions.unable_to_change_setting"),error:!0}))})}}),tx=(0,R.cj)("LIBRARY_SUBSCRIPTION_POST_WORKSPACE",async(e,t,{optimistId:r})=>{let{libraryWorkspaceSubscription:n,libraryName:i,workspaceName:a}=t,{file_key:o,subscriptions:l,workspace_id:s}=n,c=I.cp.post(`/api/library_workspace_subscriptions/${o}`,{subscriptions:l,workspace_id:s});n.id?(0,h.w3)().optimisticallyUpdate({LibraryWorkspaceSubscription:{[n.id]:{fileKey:o,isSubscribed:l.design,figJamSubscribed:l.figjam}}},c):(0,h.w3)().optimisticallyCreate({LibraryWorkspaceSubscription:{[`library-workspace-sub-${performance.now()}`]:{fileKey:o,workspaceId:s,isSubscribed:l.design,figJamSubscribed:l.figjam,canRead:!0,hubFileId:null}}},c);try{await c,e.dispatch(N.A.enqueue({message:(0,A.t)("design_systems.subscriptions.settings_updated_for",{libraryName:i,orgOrWorkspaceName:a})}))}catch(t){e.dispatch(N.A.enqueue({message:(null==t?void 0:t.message)??(0,A.t)("design_systems.subscriptions.unable_to_change_setting"),error:!0}))}}),tU=(0,R.cj)("LIBRARY_SUBSCRIPTION_DEL_WORKSPACE",async(e,t,{optimistId:r})=>{let{libraryWorkspaceSubscription:n,libraryName:i,workspaceName:a}=t,{file_key:o,workspace_id:l}=n,s=I.cp.del(`/api/library_workspace_subscriptions/${o}`,{workspace_id:l});n.id&&(0,h.w3)().optimisticallyDelete({LibraryWorkspaceSubscription:{[n.id]:null}},s);try{await s,e.dispatch(N.A.enqueue({message:(0,A.t)("design_systems.subscriptions.settings_updated_for",{libraryName:i,orgOrWorkspaceName:a})}))}catch(t){e.dispatch(N.A.enqueue({message:(null==t?void 0:t.message)??(0,A.t)("design_systems.subscriptions.unable_to_change_setting"),error:!0}))}}),tB=(0,R.cj)("LIBRARY_SUBSCRIPTION_POST_TEAM",(e,t,{optimistId:r})=>{let{libraryTeamSubscription:n,userInitiated:i,isCommunityLibrary:a}=t,{file_key:o,subscriptions:l,team_id:s}=n;tD(e,o,l,a),i&&(a?ey.s.createCommunityLibraryTeamSubscription({libraryHubFileId:o,subscriptions:l,teamId:s}):I.cp.post(`/api/library_team_subscriptions/${o}`,{subscriptions:l,team_id:s})).then(()=>{e.dispatch(R.sL.commit(r))}).catch(()=>{e.dispatch(R.sL.revert(r)),e.dispatch(N.A.enqueue({message:(0,A.t)("design_systems.subscriptions.unable_to_change_setting"),error:!0}))})}),tG=(0,R.cj)("LIBRARY_SUBSCRIPTION_POST_USER",(e,t,{optimistId:r})=>{let{libraryUserSubscription:n,isCommunityLibrary:i,userInitiated:a}=t,{file_key:o,subscriptions:l}=n;tD(e,o,l),a&&I.cp.post(`/api/library_user_subscriptions/${o}`,{subscriptions:l,is_community_library:i}).then(()=>{e.dispatch(R.sL.commit(r))}).catch(()=>{e.dispatch(R.sL.revert(r)),e.dispatch(N.A.enqueue({message:(0,A.t)("design_systems.subscriptions.unable_to_change_setting"),error:!0}))})}),tV=(0,R.cj)("LIBRARY_SUBSCRIPTION_POST_FILE",(e,t,{optimistId:r})=>{var n;let{libraryFileSubscription:i,userInitiated:a,isCommunityLibrary:o}=t,{file_key:l,library_file_key:s,is_subscribed:c}=i;((null==(n=e.getState().openFile)?void 0:n.key)||null)===l&&tD(e,s,c,o);let d=e.getState().library.subscriptions.byFile[l];d&&s in d&&d[s]===c||!a||(o?ey.s.createCommunityLibraryFileSubscription({fileKey:l,libraryHubFileId:s,isSubscribed:c}):I.cp.post(`/api/library_file_subscriptions/${l}/${s}`,{is_subscribed:c})).then(()=>{e.dispatch(R.sL.commit(r))}).catch(()=>{e.dispatch(R.sL.revert(r)),e.dispatch(N.A.enqueue({message:(0,A.t)("design_systems.subscriptions.unable_to_change_setting"),error:!0}))})}),tH=(e,t)=>{var r;let n=(null==(r=e.getState().openFile)?void 0:r.key)||null;n&&t.forEach(t=>{t!==n&&e.dispatch(tV({libraryFileSubscription:{file_key:n,library_file_key:t,is_subscribed:!0},userInitiated:!0}))})},tW="LIBRARY_REMAPPING_PROGRESS_VISUAL_BELL",tK=null,tY=(0,R.M0)((e,t)=>{tK={done:0,total:t.total},e.dispatch(N.A.enqueue({message:(0,A.t)("design_systems.subscriptions.remap_connecting_fraction",{current:0,total:t.total}),type:tW,icon:L.mc.SPINNER,timeoutOverride:1/0}))}),tq=(0,R.M0)((e,t)=>{tK&&(tK.done+=t.done,e.dispatch(N.A.enqueue({message:(0,A.t)("design_systems.subscriptions.remap_connecting_fraction",{current:tK.done,total:tK.total}),type:tW,icon:L.mc.SPINNER,timeoutOverride:1/0})))}),tj=(0,R.M0)(e=>{tK=null,e.dispatch(N.A.enqueue({message:(0,A.t)("design_systems.subscriptions.remap_connected"),type:tW,icon:L.mc.CHECK}))}),t$=(0,R.M0)(e=>{tK=null,e.dispatch(N.A.enqueue({message:(0,A.t)("design_systems.subscriptions.remap_connection_failed"),type:tW,error:!0}))}),tZ=(0,R.M0)(e=>{e.getState().userFlags.has_inserted_component||e.dispatch(F.s({has_inserted_component:!0}))}),tz=(0,R.M0)(e=>{e.getState().userFlags.has_opened_libraries_modal||e.dispatch(F.s({has_opened_libraries_modal:!0}))})},914219:(e,t,r)=>{"use strict";let n;r.d(t,{G8:()=>$,Oq:()=>H,i2:()=>en,pC:()=>ea,qe:()=>W,sB:()=>K,ui:()=>V});var i=r(484564),a=r.n(i),o=r(60452),l=r(250008),s=r(916924),c=r(656716),d=r(843148),u=r(662100),p=r(594192),m=r(866244),_=r(326660),h=r(58908),g=r(557044),f=r(675695),E=r(560072),y=r(317704),b=r(326300),v=r(268984),I=r(448604),w=r(219096),T=r(323576),S=r(849208),C=r(699084),A=r(366380),O=r(482848),N=r(762820),L=r(555168),R=r(939540),P=r(4184),M=r(670384),k=r(97007),D=r(790184),F=r(103064),x=r(946092),U=r(725380),B=r(222664),G=r(811720);let V=(0,o.A)("START_PUBLISH"),H=(0,o.A)("PUBLISH_PROGRESS"),W=(0,o.A)("PUBLISH_REQUEST_FINISHED"),K=(0,o.A)("SAVE_PUBLISH_DESCRIPTION"),Y="library publish "+((0,d.Ub)().ds_server_side_publishing?"SSP":"CSP"),q=(0,d.Ub)().ds_server_side_publishing?"":".client_side_publish";var j=((n=j||{}).PublishStart="publish_start",n.CreateSavepoint="create_savepoint",n.GetPresignedPost="get_presigned_post",n.UploadThumbnails="upload_thumbnails",n.UploadParams="upload_params",n.AssetValidation="asset_validation",n.NonS3Error="non_s3_error",n.GenericError="generic_error",n);let $=(0,v.M0)(e=>{let t=e.getState(),r=e=>{for(let t in e={...e})(0,R.oS)(e[t].status)?e[t].status=D.Av.DELETED:e[t].status===D.Av.NEW&&(e[t].status=D.Av.NOT_STAGED);return e},n=(0,d.Ub)().ds_remove_redux_library_status;if(!n){let n=r(t.library.local.components),i=r(t.library.local.stateGroups),a=r(t.library.local.styles);e.dispatch(I.gl({local:n,type:D.Af.COMPONENT})),e.dispatch(I.gl({local:i,type:D.Af.STATE_GROUP})),e.dispatch(I.gl({local:a,type:D.Af.STYLE}))}e.dispatch(H({state:D.g7.NONE})),e.dispatch(ea({unpublishAll:n}))});async function Z(){let e,t;try{let r=(await F.C.postUploadPublishParams()).data.meta;e=r.url,t=r.fields}catch(e){(0,_.oP)(h._.DESIGN_SYSTEMS_EDITOR,Error("Error getting publish params presigned URL"));return}let r=!1,n=!1;try{let n=new TextEncoder;await (0,m.w)(h._.DESIGN_SYSTEMS_EDITOR,"publishChanges.params",e,t,n.encode(JSON.stringify({testField:"testValue"})),"application/json"),r=!0}catch(e){r=!1,(0,_.WI)(Y,"test presigned post encountered an error",{error:e}),(0,_.oP)(h._.DESIGN_SYSTEMS_EDITOR,Error("Test presigned post failed")),n=e instanceof m.O}(0,l.we)("test_presigned_post_result",{success:r,nonS3error:n,orgId:(0,d.cp)().org_id})}async function z(e,t,r,n){let i=performance.now();if(!e.length)return{s3Paths:[],failedThumbnailNodeIds:[],styleMetaByNodeId:{},uploadDurationMs:0,encounteredNonS3PresignedPostError:!1};let a=e.length,o=0,s=()=>{es(n,(o+=1)/a,t?D.tX.UNPUBLISH:D.tX.PUBLISH)},c=Object.create(null),d=[],p=[];if(await Promise.all(e.map(async e=>{var t,n;try{let t=await scheduler.postTask(()=>(0,G.y)(e,r),{priority:"user-blocking"});if(!t||0===t.length)throw Error("Unable to generate thumbnail");let[n,i]=e.node_id.split(":").map(e=>Number(e));if(isNaN(n))throw Error("Unable to parse sessionId");if(isNaN(i))throw Error("Unable to parse localId");p.push({sessionId:n,localId:i,thumbnail:t}),e.type===D.Af.STYLE&&(c[e.node_id]=JSON.stringify((0,G.GW)(e,r)))}catch(r){(0,_.WI)("publish","Failed to upload thumbnail for asset",{guid:e.node_id},{reportAsSentryError:!0}),d.push(e.type===D.Af.COMPONENT&&(null==(n=null==(t=e.containing_frame)?void 0:t.containingStateGroup)?void 0:n.nodeId)||e.node_id)}finally{s()}})),0===p.length)return{s3Paths:[],failedThumbnailNodeIds:d,styleMetaByNodeId:{},uploadDurationMs:0,encounteredNonS3PresignedPostError:!1};let g=[];for(;p.length;)g.push(p.splice(0,D.C_));let f=x.m.getThumbnailsBufferPresignedPostUrl(g.length),E=g.map(e=>e.reduce(({buffer:e,offset:t,guids:r},{sessionId:n,localId:i,thumbnail:a})=>(e.set([(4278190080&n)>>24,(16711680&n)>>16,(65280&n)>>8,255&n,(4278190080&i)>>24,(16711680&i)>>16,(65280&i)>>8,255&i,(4278190080&a.byteLength)>>24,(16711680&a.byteLength)>>16,(65280&a.byteLength)>>8,255&a.byteLength],t),t+=12,e.set(a,t),t+=a.byteLength,r.push(`${n}:${i}`),{buffer:e,offset:t,guids:r}),{buffer:new Uint8Array(e.reduce((e,{thumbnail:t})=>e+t.byteLength+12,0)),offset:0,guids:[]})),y=[],b=(await f).data.meta.presigned_posts,v=!1;await Promise.allSettled(b.map(async({url:e,fields:t})=>{let r=E.shift();if(!r){(0,_.oP)(h._.DESIGN_SYSTEMS_EDITOR,Error("Popped a concatenated buffer that does not exist"));return}try{y.push(await (0,m.w)(h._.DESIGN_SYSTEMS_EDITOR,"uploadThumbnails",e,t,r.buffer,"application/octet-stream")),(0,u.Y5)("publish.thumbnails_buffer.bytes",r.buffer.byteLength)}catch(e){e instanceof m.O&&(v=!0),d.push(...r.guids)}})),v&&(0,_.oP)(h._.DESIGN_SYSTEMS_EDITOR,Error("uploadThumbnails: encountered non-S3 presigned POST error"));let I=performance.now()-i;return(0,l.we)("Library generate and upload thumbnails",{duration:I}),{s3Paths:y,styleMetaByNodeId:c,failedThumbnailNodeIds:d,uploadDurationMs:I,encounteredNonS3PresignedPostError:v}}async function Q(e,t,r,n,i,a,o,c){var u;let m=performance.now(),{formDatas:_,numSkippedDueToError:h,trackingParams:E}=await function(e,t,r,n,i,a,o,l,c,d){let u=t.getState(),m=(0,P.k)((0,k.mO)(u),(0,k.iA)(u),(0,k.iU)(u),(0,k.gX)(u),(0,k.cH)(u),(0,k.Qj)(u),e,u.teams,{overridePublishPermissions:a,moveRemappings:n,itemsToPublish:l,forcePublish:c,unpublishAll:d}),_={[D.Af.STATE_GROUP]:[],[D.Af.COMPONENT]:[],[D.Af.STYLE]:[],[D.Af.VARIABLE]:[],[D.Af.VARIABLE_SET]:[],[D.Af.MODULE]:[]};for(let e of D.aS)_[e]=(0,R.wv)(m[e][D.tX.UNPUBLISH]).filter(p.aI);let{orderedUpdates:h}=el(m,r),g=h.flatMap(e=>e.assets.map(t=>({publishType:e.publishType,asset:t}))),f=g.length,E=f<D.C_,y=new G.SS(e.key,u.fileVersion,o,u.library.local.thumbnails);return new Promise((e,r)=>{function a(){let o=Date.now(),l=1e3/60;for(;E||Date.now()-o<l;){let e=D.C_-y.size();if(e<=0)break;let t=g.shift();if(!t)break;let{asset:r,publishType:i}=t;if(i===D.tX.PUBLISH){if(y.publish(n,r),r.type===D.Af.VARIABLE_SET){let e=0;for(;g[0]&&g[0].asset.type===D.Af.VARIABLE&&g[0].asset.variableSetId===r.node_id&&g[0].publishType===D.tX.PUBLISH;){if(e===D.ec){g.unshift(t);break}let r=g.shift().asset;y.publish(n,r),e++}if(e===D.ec)break}}else if(i===D.tX.UNPUBLISH){let n=Math.min(g.findIndex(({asset:e,publishType:t})=>t!==i||e.type!==r.type),e);y.unpublish(r.type,[t,...g.splice(0,n)].map(({asset:e})=>(0,R.i_)(e)))}else(0,s.gy)(i)}let c=g.length;if(!E){if(t.getState().library.publishProgress.state===D.g7.NONE){r();return}es(t,(f-c)/f,i)}0===c?(y.flush(),e(y.publishFormData)):(y.size()>=D.C_&&y.flush(),requestAnimationFrame(a))}E?a():(es(t,0,i),requestAnimationFrame(a))})}(e,t,r,(null==(u=n.moveInformation)?void 0:u.moveRemappings)||{},i?D.tX.UNPUBLISH:D.tX.PUBLISH,(0,d.Ub)().cmty_lib_admin_publish&&void 0!==n.hubFileId,o.checkpoint_id,a,n.forcePublish,n.unpublishAll),y=performance.now()-m;i||(0,l.we)("Library publish serialize buffers",{duration:y,...E}),et(t,i,null,o,0,y,c);let b=performance.now();for(let r of _){let i,a=0,o={...g.cp.defaults.headers};for(delete o["Content-Type"];;){a++;try{i=(await g.cp.post(`/api/upnode/library_checkpoints?tries=${a}`,r,{headers:o,raw:!0})).data;break}catch(e){if(a>=3)throw e;await new Promise(e=>setTimeout(e,5e3))}}let l=JSON.parse(i),s=Object.create(null),c=Object.create(null),d=Object.create(null);l.meta&&(l.meta.components&&(s=l.meta.components),l.meta.components_v2&&(s=l.meta.components_v2),l.meta.state_groups&&(c=l.meta.state_groups),l.meta.styles&&(d=l.meta.styles));let u=(r,n)=>{let i=[],a=Object.create(null);for(let e in r){let t=r[e];t.unpublished_at?i.push(t.node_id):a[t.node_id]=t}t.dispatch(I.Aj({itemsById:a,fileKey:e.key,teamId:e.team_id,type:n})),t.dispatch(I.E5({nodeIds:i,file:e,type:n}))};if(u(s,D.Af.COMPONENT),u(c,D.Af.STATE_GROUP),void 0!==n.hubFileId&&await X(n.hubFileId,s,c,d),N.i46){let e=new Set;for(let t of[l.meta.moved_components_by_src_file||{},l.meta.moved_state_groups_by_src_file||{},l.meta.moved_styles_by_src_file||{}])for(let r of Object.values(t))for(let t of Object.values(r))t.type!==D.Af.VARIABLE&&t.type!==D.Af.VARIABLE_SET&&t.type!==D.Af.MODULE&&t.destination_key&&e.add(t.destination_key);L.Pc.system("publish-cleanup",()=>{var t,r;for(let i of Object.values({...s,...c,...d})){let a=(0,R.FN)(i);i.unpublished_at?(0,R.Ed)(i)&&N.i46.removePublishedVersion(i.node_id):((0,R.Ed)(i)&&N.i46.markSharedComponentPublished(i.node_id,(0,R.WV)(i)??f.sP.INVALID),(e.has(a)||(null==(r=null==(t=n.moveInformation)?void 0:t.movableItemsToPublishAsNew)?void 0:r.has(i.node_id)))&&N.i46.clearLibraryMoveInfo(i.node_id))}})}}return i||(0,l.we)("Library publish upload",{duration:performance.now()-b,fileKey:e.key,...E}),{trackingParams:E,numSkippedDueToError:h}}async function X(e,t,r,n){let i=Object.values(t).map(e=>e.id),a=Object.values(r).map(e=>e.id),o=Object.values(n).map(e=>e.id);await g.cp.post(`/api/community_libraries/${e}/override_assets`,{component_ids:i,state_group_ids:a,style_ids:o})}function J(e){return e.state===D.g7.NONE?((0,_.WI)(Y,"Attempted to update progress while not assembling components",e),null):e.publishStartMs}function ee(e,t,r,n){let i=J(e);if(i){let e=performance.now()-i;(0,l.we)(t,{duration:e}),(0,u.Y5)(r,e,{error:n})}else(0,_.WI)(Y,"Publish start time was null")}function et(e,t,r,n,i,a,o){let l=performance.now();e.dispatch(H({state:D.g7.UPLOADING,publishType:t?D.tX.UNPUBLISH:D.tX.PUBLISH,progress:0,libraryPublishId:r,savepoint:n,numSkippedPriorToPublish:i,publishStartMs:J(e.getState().library.publishProgress),commitUpdatesDurationMs:l,clientPreWorkDurationMs:a,createSavePointDurationMs:o})),e.dispatch(y.A.enqueue({type:"library-publish",message:t?(0,E.t)("design_systems.publish_actions.unpublishing_library"):(0,E.t)("design_systems.publish_actions.publishing_library"),icon:b.mc.SPINNER}))}function er(e,t,r,n,i,a){0===t?function(e,t,r){if(t.state===D.g7.UPLOADING){let e=J(t);if(e){let n=performance.now(),i=n-e,a=r?{totalDurationMs:i}:{totalDurationMs:i,uploadBuffersDurationMs:n-t.commitUpdatesDurationMs,clientPreWorkDurationMs:t.clientPreWorkDurationMs,createSavePointDurationMs:t.createSavePointDurationMs};for(let[e,r]of((0,l.we)(`Client perceived ${t.publishType} duration ${q.slice(1)}`,a),Object.entries(a))){let n=`${t.publishType}.success.${e}${q}`;(0,u.Y5)(n,r)}}else(0,_.WI)(Y,"Publish start time was null")}e(y.A.enqueue({type:"library-publish",message:r?(0,E.t)("design_systems.publish_actions.unpublish_success"):(0,E.t)("design_systems.publish_actions.publish_success"),icon:b.mc.CHECK})),e(K(""))}(n,e,r):function(e,t,r,n,i,a){if(i&&e(K(i)),a){(0,B.qe)(e,(0,E.t)("check_network_compatibility.error_bell.library_publish.message"));return}let o="";"number"!=typeof r?o=(0,E.t)("design_systems.publish_error.generic"):(ee(t,"Partial publish failure "+q.slice(1),`${n?D.tX.UNPUBLISH:D.tX.PUBLISH}.error.duration${q}`,"asset_validation"),o=n?(0,E.t)("design_systems.publish_actions.unpublish_error",{numSkipped:r}):(0,E.t)("design_systems.publish_actions.publish_error",{numSkipped:r})),e(y.A.enqueue({type:"library-publish",icon:b.mc.EXCLAMATION,error:!0,message:o,button:{text:(0,E.t)("design_systems.publish_actions.retry"),action:()=>ei(e)}}))}(n,e,t,r,i,a)}function en(e,t,r,n,i,a){(0,l.we)("Publish ended",{serverSidePublishing:(0,d.Ub)().ds_server_side_publishing,savepointId:i.id,hadException:a}),er(e,t,r,n,i.description),n(W())}function ei(e){e(y.A.dequeue({matchType:"library-publish"})),e((0,U.Up)())}let ea=(0,v.eg)("PUBLISH_CHANGES",async(e,t={})=>{var r,n;let i;let o=e.getState();if(o.library.publishProgress.state!==D.g7.NONE){e.dispatch(W());return}let s=(0,C.QZ)(o);if(!s){console.error("library publishChanges: file is null"),e.dispatch(W());return}let g=t.itemsToPublish;if(void 0!==g&&0===g.size){console.error("No items selected to publish"),e.dispatch(W());return}let f=t.unpublishAll||eo(Object.values((0,k.iA)(o)),g)&&eo(Object.values((0,k.mO)(o)),g)&&eo(Object.values((0,k.iU)(o)),g)&&eo(Object.values((0,k.cH)(o)),g)&&(!(0,d.Ub)().dse_editor_templates_v1||eo(Object.values((0,k.Qj)(o)),g));if(!navigator.onLine){e.dispatch(y.A.enqueue({type:"library-publish",icon:b.mc.EXCLAMATION,error:!0,message:f?(0,E.t)("design_systems.publish_actions.cant_unpublish"):(0,E.t)("design_systems.publish_actions.cant_publish"),button:{text:(0,E.t)("design_systems.publish_actions.retry"),action:()=>ei(e.dispatch)}})),e.dispatch(W());return}(0,u._k)(`${f?D.tX.UNPUBLISH:D.tX.PUBLISH}.start${q}`),e.dispatch(V({unpublishAll:!!f})),e.dispatch(S.s({has_published_library_items:!0}));let v=(r,n,i,a)=>{e.dispatch(w.u4());let o=(null==a?void 0:a.encounteredNonS3PresignedPostError)?"non_s3_error":n;ee(e.getState().library.publishProgress,r+" "+q.slice(1),`${f?D.tX.UNPUBLISH:D.tX.PUBLISH}.error.duration${q}`,o);let s=null==a?void 0:a.error;(0,_.WI)(Y,r,{...t,name:null==s?void 0:s.name,message:null==s?void 0:s.message,stack:null==s?void 0:s.stack},{logToConsole:N.usI.ALWAYS,reportAsSentryError:!0,forwardToDatadog:!0}),null!==i&&(0,l.we)("Publish ended",{serverSidePublishing:(0,d.Ub)().ds_server_side_publishing,savepointId:i,hadException:!0}),(null==a?void 0:a.stifleVisualBellForClientSidePublish)||er(e.getState().library.publishProgress,(null==a?void 0:a.numSkippedDueToError)??{__tag:"UNKNOWN"},f,e.dispatch,t.savepointDescription,null==a?void 0:a.encounteredNonS3PresignedPostError),e.dispatch(W()),e.dispatch(T.oN())},I=performance.now();try{i=await (0,M.y)(s.key,f?(0,E.t)("design_systems.publish_actions.savepoint_for_unpublish"):(0,E.t)("design_systems.publish_actions.savepoint_for_publish"),t.savepointDescription,e.dispatch,!0)}catch(e){v("Unable to create savepoint during library publish","create_savepoint",null,{error:e});return}if(!i){v("Created savepoint is null","create_savepoint",null);return}let L=performance.now()-I;(0,l.we)("Publish start: savepoint successfully created",{savepointId:i.id,serverSidePublishing:(0,d.Ub)().ds_server_side_publishing});let x=a()(Object.values(o.library.local.components).filter(e=>e.isLocal),e=>(0,R.wp)(e)||D.Ge);if((0,d.Ub)().ds_server_side_publishing){let a,l,c,u,E,y;let{orderedUpdates:b}=el((0,P.k)((0,k.mO)(o),(0,k.iA)(o),(0,k.iU)(o),(0,k.gX)(o),(0,k.cH)(o),(0,k.Qj)(o),s,o.teams,{overridePublishPermissions:!!t.hubFileId,moveRemappings:(null==(r=t.moveInformation)?void 0:r.moveRemappings)??{},itemsToPublish:g,forcePublish:t.forcePublish,unpublishAll:t.unpublishAll}),x),I=b.flatMap(e=>e.publishType===D.tX.PUBLISH?e.assets:[]).reduce((e,t)=>t.type===D.Af.VARIABLE||t.type===D.Af.VARIABLE_SET?e:t.type===D.Af.MODULE&&(0,d.Ub)().dse_editor_templates_v1?e.concat(t):e.concat(t).concat(x[t.node_id]||[]),[]);try{a=await z(I,f,o.library.local.thumbnails,e)}catch(e){v("Unable to upload thumbnails during library publish","upload_thumbnails",i.id,{error:e});return}let{failedThumbnailNodeIds:w,s3Paths:T,styleMetaByNodeId:S,uploadDurationMs:C,encounteredNonS3PresignedPostError:R}=a,M=b.flatMap(e=>e.assets).length;if(w.length===M){v("All thumbnails failed to upload"+(R?" (non-s3 error)":""),"upload_thumbnails",i.id,{numSkippedDueToError:M,encounteredNonS3PresignedPostError:R});return}let U=b.map(({publishType:e,assetType:t,assets:r})=>{let n=r.filter(e=>!w.includes(e.node_id));return n.length>0?{publishType:e,assetType:t,assets:n}:null}).filter(p.aI);if((0,d.Ub)().first_draft_publish_ux){let e=N.p1I.getLocalDesignSystemKits();if(e.length>0){let t=U.reduce((e,t)=>{if(t.publishType===D.tX.PUBLISH)for(let r of t.assets)(r.type===D.Af.COMPONENT||r.type===D.Af.STATE_GROUP)&&e.add(r.node_id);return e},new Set);y=await (0,A.k)(e[0].pageId,e[0].name,O.E.LIBRARY_PUBLISH,t)}}let B={updates:U.map(e=>({publishType:e.publishType,assetType:e.assetType,guids:e.assets.map(e=>{let t=(0,G.G2)(e);return t||(console.warn("Asset with null nodeId:",e),(0,_.oP)(h._.DESIGN_SYSTEMS_EDITOR,Error("Asset with null node ID found during publish"))),t}).filter(p.aI)})),moveRemappings:(null==(n=t.moveInformation)?void 0:n.moveRemappings)??{},s3ThumbnailBufferPaths:T,styleMetaByNodeId:S,clientProtocolVersion:window.mpGlobal.version,themeMetaData:t.themePublishData??{},...y?{kitMetaData:y}:{}};try{let e=(await F.C.postUploadPublishParams()).data.meta;l=e.url,c=e.fields}catch(e){v("Unable to get presigned post url for params","get_presigned_post",i.id,{error:e});return}try{let e=new TextEncoder;u=await (0,m.w)(h._.DESIGN_SYSTEMS_EDITOR,"publishChanges.params",l,c,e.encode(JSON.stringify(B)),"application/json")}catch(t){let e=t instanceof m.O;v("Unable to upload publishing params"+(e?" (non-s3 error)":""),"upload_params",i.id,{error:t,encounteredNonS3PresignedPostError:e});return}try{E=(await F.C.postLibraryPublish({fileKey:s.key,checkpointKey:i.checkpoint_key,paramsPath:u,publishToCommunity:!!t.hubFileId})).data.meta.library_publish_id}catch(e){v("Unable to publish","generic_error",i.id,{error:e});return}try{et(e,f,E,i,w.length,C,L)}catch(e){v("Unable to notify publish start","generic_error",i.id,{error:e})}return}let B=null;try{let{trackingParams:r,numSkippedDueToError:n}=await Q(s,e,x,t,f,g,i,L);if(B=r,en(e.getState().library.publishProgress,n,f,e.dispatch,i,!1),(0,d.Ub)().ds_test_presigned_post)try{Z()}catch(e){(0,_.WI)(Y,"Hit an error testing presigned post after client-side publish",{error:e})}}catch(t){if(v((null==t?void 0:t.message)??"Publish ended with error","generic_error",i.id,{stifleVisualBellForClientSidePublish:!0}),(null==t?void 0:t.status)===0||(null==t?void 0:t.status)===504){let r=(null==t?void 0:t.status)===504?"Publish failed due to sinatra timeout for publish":"Publish failed due to no response from publish";(0,_.WI)(Y,r,{items_to_publish:g,tracking_params:B,fileKey:s.key}),(0,_.oP)(h._.DESIGN_SYSTEMS_EDITOR,Error(r)),e.dispatch((0,U.Up)(g,!0)),e.dispatch(y.A.dequeue({matchType:"library-publish"}))}else if((null==t?void 0:t.status)===424)e.dispatch(y.A.enqueue({message:(0,E.t)("design_systems.publish_actions.validations_failed"),type:"library-publish",error:!0,button:{text:(0,E.t)("design_systems.publish_actions.validations_contact"),action:()=>{c.default.unsafeRedirect("mailto:support@figma.com","_blank")}}}));else{let r="";(null==t?void 0:t.status)===413?r=(0,E.t)("design_systems.publish_actions.payload_too_large"):(null==t||t.status,r=(0,E.t)("design_systems.publish_actions.reload"));let n=f?(0,E.t)("design_systems.publish_actions.unpublish_failed",{reason:r}):(0,E.t)("design_systems.publish_actions.publish_failed",{reason:r});e.dispatch(y.A.enqueue({type:"library-publish",error:!0,message:n}))}}});function eo(e,t){return Object.values(e).filter(e=>(0,P.q)(e,t)).every(e=>!(0,R.K4)(e.status))}function el(e,t){let r=!(0,d.Ub)().ds_server_side_publishing,n=[],i=e=>{e.assets.length&&n.push(e)},o=e[D.Af.VARIABLE_SET][D.tX.PUBLISH],l=a()(e[D.Af.VARIABLE][D.tX.PUBLISH],e=>e.variableSetId);if(r)for(let e of o)i({publishType:D.tX.PUBLISH,assetType:D.Af.VARIABLE_SET,assets:[e,...(null==l?void 0:l[e.node_id])??[]]});else i({publishType:D.tX.PUBLISH,assetType:D.Af.VARIABLE_SET,assets:o});i({publishType:D.tX.UNPUBLISH,assetType:D.Af.VARIABLE_SET,assets:e[D.Af.VARIABLE_SET][D.tX.UNPUBLISH]}),i({publishType:D.tX.UNPUBLISH,assetType:D.Af.VARIABLE,assets:e[D.Af.VARIABLE][D.tX.UNPUBLISH]});let s=e[D.Af.STATE_GROUP][D.tX.PUBLISH],c=e[D.Af.COMPONENT][D.tX.UNPUBLISH].filter(e=>null===(0,R.wp)(e));if(r)for(let e of s){let r=t[e.node_id];r?i({publishType:D.tX.PUBLISH,assetType:D.Af.STATE_GROUP,assets:[e,...r]}):((0,_.Ij)("getOrderedLibraryUpdates","publishing metadata",{stateGroup:JSON.stringify(e),stateGroupsToPublish:JSON.stringify(s),componentsToPublishByStateGroupId:JSON.stringify(t)}),(0,_.WI)("publish","Expected states to be published with state group"))}else i({publishType:D.tX.PUBLISH,assetType:D.Af.STATE_GROUP,assets:s});return i({publishType:D.tX.UNPUBLISH,assetType:D.Af.STATE_GROUP,assets:e[D.Af.STATE_GROUP][D.tX.UNPUBLISH]}),i({publishType:D.tX.PUBLISH,assetType:D.Af.COMPONENT,assets:e[D.Af.COMPONENT][D.tX.PUBLISH].filter(e=>!(0,R.wp)(e))}),i({publishType:D.tX.UNPUBLISH,assetType:D.Af.COMPONENT,assets:r?e[D.Af.COMPONENT][D.tX.UNPUBLISH]:c}),i({publishType:D.tX.PUBLISH,assetType:D.Af.STYLE,assets:e[D.Af.STYLE][D.tX.PUBLISH]}),i({publishType:D.tX.UNPUBLISH,assetType:D.Af.STYLE,assets:e[D.Af.STYLE][D.tX.UNPUBLISH]}),(0,d.Ub)().dse_editor_templates_v1&&(i({publishType:D.tX.PUBLISH,assetType:D.Af.MODULE,assets:e[D.Af.MODULE][D.tX.PUBLISH]}),i({publishType:D.tX.UNPUBLISH,assetType:D.Af.MODULE,assets:e[D.Af.MODULE][D.tX.UNPUBLISH]})),{orderedUpdates:n}}function es(e,t,r){e.dispatch(H({state:D.g7.ASSEMBLING_COMPONENTS,progress:t,publishType:r,publishStartMs:J(e.getState().library.publishProgress)}))}},635272:(e,t,r)=>{"use strict";r.d(t,{AB:()=>M,EL:()=>x,GC:()=>D,IV:()=>L,Jr:()=>P,QB:()=>U,U3:()=>k,Yb:()=>F,a4:()=>B,ec:()=>R,gh:()=>N,mq:()=>A,pY:()=>G,uG:()=>C,uk:()=>O,yU:()=>S});var n=r(250008),i=r(61836),a=r(668136),o=r(557044),l=r(967540),s=r(560072),c=r(317704),d=r(268984),u=r(323576),p=r(762580),m=r(776408),_=r(51388),h=r(514916),g=r(472956),f=r(322128),E=r(630468),y=r(546772),b=r(623692),v=r(873036),I=r(843904),w=r(403132),T=r(972164);let S="team_join_request_submitted",C="permission_request_submitted",A=(0,d.M0)(async(e,t)=>{var r;let i={team_id:t.teamId,level:t.level,message:t.message},a=e.getState().user,c=e.getState().roles.byTeamId,d=a&&c&&c[t.teamId]?null==(r=c[t.teamId][a.id])?void 0:r.level:null,u={level:t.level,team_id:t.teamId,team_type:t.teamOrgAccess,source:t.source,folder_id:t.folderId};t.actionType===C?(0,n.we)(C,u):(0,n.we)(S,u),await o.cp.post("/api/team_role_requests",i).then(({data:r})=>{let n=r.meta;n.status===b.q.APPROVED?e.dispatch((0,_.EV)({teamId:n.team_id,joinedUser:a||void 0})):t.level===y.m.EDITOR&&d===y.m.VIEWER?e.dispatch(l.M.flash((0,s.t)("org_actions.you_ve_requested_to_edit_files_in_this_team"))):e.dispatch(l.M.flash((0,s.t)("org_actions.you_ve_requested_to_join_this_team")))}).catch(t=>{e.dispatch(l.M.error((0,s.ID)(t.message)||(0,s.t)("org_actions.an_error_occurred")))})}),O=(0,d.M0)((e,t)=>{o.cp.del(`/api/team_role_requests/${t.requestId}`).then(t=>{e.dispatch(l.M.flash((0,s.t)("org_actions.request_withdrawn")))}).catch(t=>{e.dispatch(l.M.error((0,s.ID)(t.message)||(0,s.t)("org_actions.an_error_occurred")))})}),N=(0,d.M0)((e,t)=>{let r=o.cp.post(`/api/team_role_requests/${t.requestId}/approve`,{level:`${t.level}`});r.then(({data:t})=>{e.dispatch(l.M.flash((0,s.t)("org_actions.request_approved"))),e.dispatch(T.s$({role:t.meta}))}).catch(t=>{e.dispatch(l.M.error((0,s.ID)(t)||(0,s.t)("org_actions.an_error_occurred")))});let n={id:`temp-role-${t.email}`,created_at:Date.now(),user_id:t.user.id,user:t.user,resource_type:h.y4.TEAM,resource_id_or_key:t.teamId,level:t.level,pending:!1,updated_at:`${new Date}`};(0,i.w3)().deprecatedOptimisticallyDeleteByView(g.Ok5,{TeamRoleRequest:{[t.requestId]:null}},r),(0,a.g)(r,e.dispatch,T.s$({role:n}))}),L=(0,d.M0)((e,t)=>{o.cp.post(`/team_role_requests/${t.requestId}/deny`).then(t=>{e.dispatch(l.M.flash((0,s.t)("org_actions.request_denied")))}).catch(t=>{e.dispatch(l.M.error((0,s.ID)(t.message)||(0,s.t)("org_actions.an_error_occurred")))})}),R=(0,d.cj)("ORGS_OPT_IN_TO_PUBLIC_PLUGINS",(e,{orgId:t},{optimistId:r})=>{o.cp.put(`/api/orgs/${t}`,{public_plugins_allowed:!0}).then(({data:t})=>{e.dispatch(d.sL.commit(r)),e.dispatch(p.Aj({org:t.meta}))}).catch(()=>{e.dispatch(d.sL.revert(r))})}),P=(0,d.cj)("ORGS_UPDATE",(e,{payload:t,successMessage:r},{optimistId:n})=>{let i=e.getState().currentUserOrgId;o.cp.put(`/api/orgs/${i}`,t).then(t=>{e.dispatch(d.sL.commit(n)),e.dispatch(p.Aj({org:t.data.meta})),r&&e.dispatch(c.A.enqueue({message:r,type:"orgs.update",error:!1}))}).catch(t=>{e.dispatch(l.M.error((0,s.ID)(t)||(0,s.t)("org_actions.an_error_occurred"),5e3)),e.dispatch(d.sL.revert(n))})}),M=(0,d.M0)((e,{orgId:t,googleSsoOnly:r})=>{o.cp.put(`/api/orgs/${t}`,{google_sso_only:r}).then(({data:t})=>{e.dispatch(l.M.flash((0,s.t)("org_actions.updated_authentication_settings"))),e.dispatch(p.Aj({org:t.meta}))}).catch(t=>{e.dispatch(l.M.error((0,s.ID)(t)||(0,s.t)("org_actions.an_error_occurred"),5e3))})}),k=(0,d.M0)((e,{orgId:t,samlSsoOnly:r})=>{o.cp.put(`/api/orgs/${t}`,{saml_sso_only:r}).then(t=>{e.dispatch(l.M.flash((0,s.t)("org_actions.updated_authentication_settings"))),e.dispatch(p.Aj({org:t.data.meta}))}).catch(t=>{e.dispatch(l.M.error((0,s.ID)(t)||(0,s.t)("org_actions.an_error_occurred"),5e3))})}),D=(0,d.M0)((e,{orgId:t,attribute:r})=>{o.cp.put(`/api/orgs/${t}`,{featured_scim_metadata:r}).then(t=>{e.dispatch(p.Aj({org:t.data.meta}))}).catch(t=>{e.dispatch(l.M.error((0,s.ID)(t)||(0,s.t)("org_actions.an_error_occurred"),5e3))})});function F(e){let{org:t,dispatch:r}=e,n=async(e,n,i)=>{let a=!1;return await o.cp.put(`/api/orgs/${t.id}`,{vat_gst_id:e,regional_vat_gst_id:i}).then(()=>{a=!0,r(p.IV({id:t.id,vat_gst_id:e}))}).catch(e=>{n(e.toString())}),a};r((0,u.A5)({type:I.l,data:{org:t,updateVatGstId:n}}))}let x=(0,d.M0)((e,{onFailure:t,onSuccess:r,orgId:n,timeoutDurationInSecs:i})=>{o.cp.put(`/api/orgs/${n}`,{idle_timeout_duration_in_secs:i}).then(t=>{e.dispatch(l.M.flash((0,s.t)("org_actions.updated_idle_session_timeout"))),e.dispatch(p.Aj({org:t.data.meta})),r()}).catch(r=>{t(),e.dispatch(l.M.error((0,s.ID)(r)||(0,s.t)("org_actions.an_error_occurred")))})}),U=(0,d.M0)((e,{orgId:t})=>{o.cp.post(`/api/org/${t}/deletion_request`).then(t=>{e.dispatch(l.M.flash((0,s.t)("orgs_middleware.deletion_request_submitted")))}).catch(t=>{var r;e.dispatch(l.M.error((null==(r=t.data)?void 0:r.message)||(0,s.t)("orgs_middleware.an_error_occurred_while_enqueeing_deletion_request"),5e3)),console.error(t)})}),B=(0,d.M0)((e,t)=>{let r=t.successMessage,n=t.autogenPasswordControl,a=t.settingsId,o=v.UT.apiAutogenControls({orgId:t.orgId,autogen_password_controls:n});o.then(()=>{r&&e.dispatch(c.A.enqueue({message:r,type:"orgs.update",error:!1}))}).catch(t=>{e.dispatch(l.M.error((0,s.ID)(t)||(0,s.t)("org_actions.an_error_occurred"),5e3))}),a?(0,i.w3)().optimisticallyUpdate({SharedOrgLicenseGroupSetting:{[a]:{autogenPasswordControls:n}}},o):(0,i.w3)().optimisticallyCreate({SharedOrgLicenseGroupSetting:{[`optimistic-id-${t.orgId}`]:{autogenPasswordControls:n,externalCollaborationControls:!1,publicLinkControlsSetting:null,teamCreationControls:null,publicLinkControlsMaxExpiration:null,resourceType:"Org",resourceId:t.orgId}}},o)}),G=(0,d.M0)((e,t)=>{o.cp.post(`/api/org/${t.orgId}/delete_org_users`,{org_user_ids:t.orgUserIds}).then(t=>{e.dispatch(l.M.flash((0,s.t)("orgs_middleware.user_data_deleted")))}).catch(t=>{var r;e.dispatch(l.M.error((null==(r=t.data)?void 0:r.message)||(0,s.t)("orgs_middleware.an_error_occurred_while_enqueeing_deletion_request"),5e3)),console.error(t)})});(0,d.M0)((e,t)=>{(0,E.SQ)(e.getState(),t.selectedView)?((0,f.YJ)(t.orgId),(0,n.we)("file-browser-hydrate",{location:"selectViewAndLoadItsResources"}),(0,f.WO)("orgSelectViewAndLoadItsResources").then(r=>{e.dispatch(m.a_()),e.dispatch(w.ug(r.data.meta)),e.dispatch(w.Ej(t.selectedView))})):(t.actionsIfNotHydrating&&t.actionsIfNotHydrating.forEach(e.dispatch),e.dispatch(w.Ej(t.selectedView)))})},810188:(e,t,r)=>{"use strict";r.d(t,{Cy:()=>u,E5:()=>m,WO:()=>_,Y7:()=>p,e2:()=>d});var n=r(60452),i=r(557044),a=r(967540),o=r(560072),l=r(317704),s=r(268984),c=r(323576);(0,s.M0)((e,t)=>{let{idpUser:r}=t,n=e.getState();i.cp.put(`/api/org_invites/${r.id}`,{org_id:n.currentUserOrgId,account_type:r.account_type}).then(({data:t})=>{e.dispatch(_([t.meta])),e.dispatch(a.M.flash((0,o.t)("org_invite.org_invite_update_success",{email:r.email})))}).catch(t=>{var r;let n=(null==(r=t.data)?void 0:r.message)||(0,o.t)("org_invite.org_invite_update_error");e.dispatch(a.M.flash(n))})});let d=(0,s.M0)((e,t)=>{let r=e.getState(),{emails:n,accountType:a,isResentInvite:s,licenseGroupId:d,workspaceId:u}=t;e.dispatch(p({creating:!0})),i.cp.post("/api/org_invites",{org_id:r.currentUserOrgId,emails:n,account_type:a,license_group_id:d,workspace_id:u}).then(({data:t})=>{let r=t.meta;e.dispatch(_(r)),e.dispatch(p({creating:!1})),e.dispatch(c.Kw());let i=(0,o.t)("org_invite.invite_resent");if(!s){let e=(0,o.t)("org_invite.new_members_message",{numInvites:r.length}),t=n.length-r.length,a=(0,o.t)("org_invite.existing_members_message",{numExisting:t});r.length>0?(i=e,t>0&&(i=[i,a].join(" "))):i=a}e.dispatch(l.A.enqueue({message:i}))}).catch(t=>{var r;let n=(null==(r=t.data)?void 0:r.message)||(0,o.t)("org_invite.org_invite_creation_error");e.dispatch(p({creating:!1})),e.dispatch(l.A.enqueue({message:n,error:!0}))})}),u=(0,s.M0)((e,t)=>{let{idpUser:r}=t,n=e.getState();i.cp.del(`/api/org_invites/${r.id}`,{org_id:n.currentUserOrgId}).then(t=>{e.dispatch(m({org_invite_id:r.id})),e.dispatch(a.M.flash((0,o.t)("org_invite.org_invite_deletion_success",{email:r.email})))}).catch(t=>{var r;let n=(null==(r=t.data)?void 0:r.message)||(0,o.t)("org_invite.org_invite_deletion_error");e.dispatch(a.M.flash(n))})}),p=(0,n.A)("IS_CREATING_ORG_INVITES"),m=(0,n.A)("DELETE_ORG_INVITE"),_=(0,n.A)("SET_ORG_INVITES")},458468:(e,t,r)=>{"use strict";r.d(t,{EB:()=>w,Mt:()=>b,UN:()=>I,WO:()=>N,_M:()=>C,am:()=>A,e_:()=>L,ek:()=>S,gT:()=>v,kL:()=>R,kj:()=>O});var n=r(307824),i=r(120304),a=r(572028),o=r.n(a),l=r(644032),s=r(60452),c=r(557044),d=r(967540),u=r(560072),p=r(268984),m=r(449388),_=r(51388),h=r(55080),g=r(886872),f=r(873036),E=r(930396),y=r(316220);(0,p.cj)("CHANGE_TEAM_ORG_ACCESS",async(e,t,{optimistId:r})=>{let n=t.team.id;try{let i=(await c.cp.put(`/api/teams/${n}`,{org_access:t.orgAccess})).data.meta;e.dispatch(p.sL.commit(r)),e.dispatch(N({teams:[i]}))}catch(t){e.dispatch(p.sL.revert(r)),e.dispatch(d.M.error((0,u.ID)(t,(0,u.t)("org_team_actions.an_error_occurred_while_changing_team_s_org_access"))))}});let b=(0,p.cj)("UNASSIGN_WORKSPACE_TO_TEAM",async(e,t,{optimistId:r})=>{let n={};if(t.teams.forEach(e=>{let t=e.workspace_id;t&&(t in n||(n[t]=[]),n[t].push(e.id))}),Object.keys(n).length)try{let t=Object.keys(n).map(e=>{let t=n[e];return c.cp.del(`/api/workspace/${e}/teams`,{team_ids:t})}),i=await Promise.all(t),a=[].concat(...i.map(e=>e.data.meta));e.dispatch(p.sL.commit(r)),e.dispatch(N({teams:a})),e.dispatch(d.M.flash((0,u.t)("org_team_actions.teams_were_unassigned",{numTeams:a.length})))}catch(t){e.dispatch(p.sL.revert(r)),e.dispatch(d.M.error((0,u.ID)(t,(0,u.t)("org_team_actions.an_error_occurred_while_unassigning_team_s_from_a_workspace"))))}}),v=(0,p.cj)("ASSIGN_WORKSPACE_TO_TEAM",async(e,t,{optimistId:r})=>{let n=t.teams.map(e=>e.id),i=t.workspaceId;try{let a=(await c.cp.post(`/api/workspace/${i}/teams`,{team_ids:n})).data.meta;e.dispatch(p.sL.commit(r)),e.dispatch(N({teams:a})),e.dispatch(d.M.flash((0,u.t)("org_team_actions.teams_were_assigned_to_workspace",{numTeams:a.length,workspaceName:t.workspaceName})))}catch(t){e.dispatch(p.sL.revert(r)),e.dispatch(d.M.error((0,u.ID)(t,(0,u.t)("org_team_actions.an_error_occurred_while_assigning_team_s_to_a_workspace"))))}}),I=(0,p.cj)("GET_TEAMS_IN_WORKSPACE",async(e,t,{optimistId:r})=>{let n=t.workspaceId;e.dispatch(A("loading"));try{let t=(await E.s.getTeams({includeSecretTeams:!0,workspaceId:n})).data.meta;e.dispatch(p.sL.commit(r)),e.dispatch(N({teams:t})),e.dispatch(A("loaded"))}catch(t){e.dispatch(p.sL.revert(r)),e.dispatch(d.M.error((0,u.ID)(t,(0,u.t)("org_team_actions.an_error_occurred_while_fetching_teams")))),e.dispatch(A("errors"))}}),w=(0,p.cj)("ORG_BATCH_JOIN_TEAMS",(e,t,{optimistId:r})=>{let n=e.getState().currentUserOrgId,i=e.getState().user,a=t.teamIds,o={team_ids:a};t.level&&(o.level=t.level);let l=(0,h.e0)(a);e.dispatch(y.Cg({key:l})),c.cp.post(`/api/orgs/${n}/teams/join`,o).then(()=>{e.dispatch(p.sL.commit(r)),e.dispatch((0,_.KM)({teamIds:a,joinedUser:i||void 0,level:t.level}))}).catch(t=>{e.dispatch(p.sL.revert(r)),e.dispatch(d.M.error((0,u.ID)(t,(0,u.t)("org_team_actions.an_error_occurred_while_joining_teams")))),e.dispatch(y.is({key:l}))})}),T=(0,p.cj)("ORG_JOIN_TEAMS",(e,t,{optimistId:r})=>{let n=e.getState().currentUserOrgId,i=e.getState().user,a=t.teamId,o={team_ids:[a]};t.level&&(o.level=t.level);let l=(0,h.iO)(a);e.dispatch(y.Cg({key:l})),c.cp.post(`/api/orgs/${n}/teams/join`,o).then(()=>{e.dispatch(p.sL.commit(r)),e.dispatch((0,_.EV)({teamId:a,joinedUser:i||void 0,level:t.level}))}).catch(t=>{e.dispatch(p.sL.revert(r)),e.dispatch(d.M.error((0,u.ID)(t,(0,u.t)("org_team_actions.an_error_occurred_while_joining")))),e.dispatch(y.is({key:l}))})}),S=(0,p.eg)("ORG_FETCH_TEAM",(e,t,{loadingKey:r})=>{let n=e.getState().currentUserOrgId,{teamId:i,disableFlashError:a}=t,o=f.UT.getTeam({orgId:n,teamId:i});(0,g.o)(o,e,r),o.then(t=>{let r=t.data.meta;e.dispatch(m.Aj({team:r,userInitiated:!1}))}).catch(t=>{a||e.dispatch(d.M.error((0,u.ID)(t,(0,u.t)("org_team_actions.an_error_occurred_while_trying_to_fetch_this_team"))))})},({teamId:e})=>`ORG_FETCH_TEAM_${e}`),C=(0,p.eg)("ORG_FETCH_DISCOVERABLE_TEAMS",(e,t)=>{let r=e.getState().currentUserOrgId,{includeProjectCount:n,includeMemberCount:i,includeTopMembers:a,includeSecretTeams:o}=t||{};f.UT.getTeams({orgId:r,includeMemberCount:i,includeProjectCount:n,includeTopMembers:a,includeSecretTeams:o}).then(t=>{let r=t.data.meta;e.dispatch(N({teams:r}))}).catch(t=>{e.dispatch(d.M.error((0,u.ID)(t,(0,u.t)("org_team_actions.an_error_occurred_while_trying_to_fetch_teams_within_the_organization"))))})}),A=(0,s.A)("SET_ORG_TEAMS_STATUS"),O=(0,s.A)("RESET_ORG_TEAMS"),N=(0,s.A)("ORGS_SET_DISCOVERABLE_TEAMS");function L(e,t,r){return o()(()=>e(T({teamId:t,level:r})),500,{leading:!0,trailing:!1})}function R(e,t,r){let a=(0,i.OY)(),o=(0,l.c)(()=>{a(T({teamId:e,level:t})),r&&r(e)},500,{leading:!0,trailing:!1});return(0,n.useCallback)(o,[o])}},195388:(e,t,r)=>{"use strict";let n;r.d(t,{Aj:()=>f,KI:()=>w,WO:()=>g,WQ:()=>E,aK:()=>h,eM:()=>y,eq:()=>b,o3:()=>S,qe:()=>I,uO:()=>T,w3:()=>v});var i=r(60452),a=r(557044),o=r(967540),l=r(560072),s=r(850360),c=r(317704),d=r(268984),u=r(39676),p=r(886872),m=r(813344),_=r(873036),h=((n=h||{}).Teams="teams",n.Drafts="drafts",n.CreateBranch="create-branch",n.DowngradeEmail="downgrade_email",n.RequestToEdit="request-to-edit",n.RequestToEditNudge="request-to-edit-nudge",n.Settings="settings",n.CreateFile="create-file",n.Plugin="plugin",n.Recents="recents",n);let g=s.setOrgUsers,f=(0,d.cj)("ORG_USER_PUT",async(e,t,{optimistId:r})=>{var n;if(t.userInitiated)try{let n=await m.A.updateOrgUser({id:t.orgUser.id,changes:{description:t.orgUser.description}});e.dispatch(d.sL.commit(r)),e.dispatch(f({orgUser:n.data.meta,userInitiated:!1}))}catch(t){e.dispatch(d.sL.revert(r)),e.dispatch(o.M.error((null==(n=t.data)?void 0:n.message)||(0,l.t)("org_user_actions.an_error_occurred")))}});(0,d.cj)("ORG_USER_UPDATE_ONBOARDING",async(e,t,{optimistId:r})=>{var n;try{let n={...!1===t.showUserOnboarding&&{show_figjam_user_onboarding:!1},...t.shownPreLaunchAdminOnboarding&&{has_shown_figjam_admin_onboarding:!0},...t.shownPostLaunchAdminOnboarding&&{has_shown_figjam_admin_launch_onboarding:!0}},i=await m.A.updateOrgUser({id:t.orgUserId,changes:n});e.dispatch(d.sL.commit(r)),e.dispatch(f({orgUser:i.data.meta,userInitiated:!1}))}catch(t){e.dispatch(d.sL.revert(r)),e.dispatch(o.M.error((null==(n=t.data)?void 0:n.message)||(0,l.t)("org_user_actions.an_error_occurred_closing_onboarding")))}});let E=(0,d.cj)("ORG_USER_REQUEST_ACCOUNT_TYPE",async(e,t,{optimistId:r})=>{var n;try{await a.cp.put(`/api/org_account_type_request/${t.orgUserId}`,{entry_point:t.entryPoint,message:t.message,admin_ids:t.adminIds,editor_type:t.licenseType,file_key:t.fileKey}),e.dispatch(d.sL.commit(r)),e.dispatch(c.A.enqueue({message:(0,l.t)("org_user_actions.upgrade_request_sent"),type:"upgrade-request-sent"}))}catch(t){console.error(t),e.dispatch(d.sL.revert(r)),e.dispatch(o.M.error((null==(n=t.data)?void 0:n.message)||(0,l.t)("org_user_actions.an_error_occurred_requesting_account_type")))}}),y=(0,d.cj)("ORG_USER_LEAVE_ORG",async(e,t,{optimistId:r})=>{var n;try{await a.cp.del(`/api/org_user/${t.orgId}`),e.dispatch(d.sL.commit(r)),e.dispatch(c.A.enqueue({type:"org_guest_leave",message:(0,l.t)("org_user_actions.you_successfully_left_organization",{orgName:t.orgName})}))}catch(i){console.error(i),e.dispatch(d.sL.revert(r)),e.dispatch(o.M.error((null==(n=i.data)?void 0:n.message)||(0,l.t)("org_user_actions.an_error_occurred_leaving_organization",{orgName:t.orgName})))}}),b=(0,d.cj)("ORG_USER_BATCH_UPDATE_ORG_USERS",async(e,t,{optimistId:r})=>{var n;let i,a;let s=e.getState();if(t.lastUpdateTimestampOverride)i=t.lastUpdateTimestampOverride,a=t.lastUpdateTimestampOverride;else{let e=Object.values(s.orgUsersByOrgId.orgUsers[t.orgId]).filter(e=>t.params.org_user_ids.includes(e.id));if(0===e.length)return;if(a=new Date(Math.max(...e.map(e=>+new Date(e.updated_at)))).toISOString(),void 0!==t.params.license_group_id){let t=e.map(e=>{var t;return null==(t=e.license_group_member)?void 0:t.updated_at}).filter(Boolean);i=t.length>0?new Date(Math.max(...t.map(e=>+new Date(e)))).toISOString():null}}try{let n=(await m.A.updateOrgUsers({orgId:t.orgId,...t.params,latest_ou_update:a,latest_lg_member_update:i,showing_billing_groups:!0})).data.meta;e.dispatch(d.sL.commit(r)),e.dispatch(g({orgUsers:n,orgId:t.orgId})),t.successCallback&&t.successCallback()}catch(t){console.error("Batch Update Failed",t),e.dispatch(d.sL.revert(r)),e.dispatch(o.M.error((null==(n=t.data)?void 0:n.message)||(0,l.t)("org_user_actions.an_error_occurred_updating_org_users")))}}),v=(0,d.eg)("ORG_USER_BATCH_DELETE_ORG_USERS",async(e,t)=>{var r;if(t.userInitiated)try{await a.cp.del(`/api/orgs/${t.orgId}/org_users`,t.params);let r=t.params.org_user_ids.length,n=(0,l.t)("org_user_actions.user_has_been_removed_from_organization",{deletedOrgUserCount:r});e.dispatch(o.M.flash(n))}catch(t){e.dispatch(o.M.error((null==(r=t.data)?void 0:r.message)||(0,l.t)("org_user_actions.an_error_occurred")));return}}),I=({orgId:e})=>`ORG_USER_GET_ADMINS_${e}`,w=(0,d.eg)("ORG_USER_GET_ADMINS",async(e,{orgId:t},{loadingKey:r})=>{let n=e.getState();if(!u.ER(n.loadingState,r))return;let i=_.UT.getAdmins({includeLicenseAdmins:!0,orgId:t});(0,p.o)(i,e,r);try{let r=await i;e.dispatch(g({orgUsers:r.data.meta,orgId:t}))}catch(t){e.dispatch(o.M.error(t.message||(0,l.t)("org_user_actions.an_error_occurred_fetching_org_admins")))}},I),T=(0,i.A)("LOAD_ORG_DRAFTS_OWNERS"),S=(0,d.eg)("ORG_USER_GET_BY_USER_ID",async(e,t,{loadingKey:r})=>{let n=_.UT.getUser({orgId:t.orgId,userId:t.userId});(0,p.o)(n,e,r);try{let r=[(await n).data.meta];return e.dispatch(g({orgUsers:r,orgId:t.orgId})),r.find(e=>e.user_id===t.userId)||null}catch(t){return console.error(t),e.dispatch(o.M.error(t.message||(0,l.t)("org_user_actions.an_error_occurred_fetching_org_users"))),null}},e=>`ORG_USER_GET_BY_USER_ID_${e.orgId}_${e.userId}`)},607986:(e,t,r)=>{"use strict";r.d(t,{AB:()=>h,Ah:()=>N,At:()=>d,Av:()=>b,G_:()=>I,IX:()=>s,KS:()=>m,MJ:()=>f,Mn:()=>l,WU:()=>o,_6:()=>A,_W:()=>v,_c:()=>C,ei:()=>T,gv:()=>g,i6:()=>_,kJ:()=>p,mY:()=>w,oq:()=>O,qu:()=>S,sh:()=>y,uk:()=>E,wR:()=>u,yY:()=>c});var n=r(60452),i=r(403132),a=r(559572);let o=(0,r(268984).M0)((e,{teamId:t,showBreadcrumbs:r,onCloseOrComplete:n})=>{e.dispatch(i.Ej({view:"eduReview",teamId:t,showBreadcrumbs:r,onCloseOrComplete:n})),e.dispatch(C({billingPeriod:a.SK.STUDENT}))}),l=(0,n.A)("PAYMENT_RESTORE_SAVED_CART"),s=(0,n.A)("PAYMENT_SET_CURRENCY"),c=(0,n.A)("PAYMENT_SET_TOKEN"),d=(0,n.A)("PAYMENT_SET_TAXES"),u=(0,n.A)("PAYMENT_SET_PROMO"),p=(0,n.A)("PAYMENT_SET_SUBMIT_PUT_ANNUAL_QUANTITY_PENDING"),m=(0,n.A)("PAYMENT_PUT_ANNUAL_QUANTITY"),_=(0,n.A)("PAYMENT_SET_VAT_GST_ID"),h=(0,n.A)("PAYMENT_SET_REGIONAL_VAT_GST_ID"),g=(0,n.A)("PAYMENT_MAKE_STUDENT_TEAM"),f=(0,n.A)("PAYMENT_DOWNGRADE"),E=(0,n.A)("PAYMENT_SHOW_ERROR"),y=(0,n.A)("PAYMENT_SUBMIT_ADD_ANNUAL_CONFIRMATION"),b=(0,n.A)("PAYMENT_SET_COMPANY_DETAILS"),v=(0,n.A)("PAYMENT_SET_SUBMIT_PENDING"),I=(0,n.A)("PAYMENT_SET_EDITOR_STATUS_CHANGES"),w=(0,n.A)("PAYMENT_SET_NUM_FIGMA_EMAIL_TEAM_USERS"),T=(0,n.A)("PAYMENT_SET_NUM_WHITEBOARD_EDITORS"),S=(0,n.A)("PAYMENT_SET_NUM_EDITORS"),C=(0,n.A)("PAYMENT_SET_BILLING_PERIOD"),A=(0,n.A)("PAYMENT_INIT"),O=(0,n.A)("PAYMENT_START_ORG_UPGRADE_FLOW"),N=(0,n.A)("PAYMENT_START_PRO_UPGRADE_FLOW")},574316:(e,t,r)=>{"use strict";r.d(t,{Cm:()=>m,E$:()=>c,K3:()=>h,OM:()=>u,PB:()=>T,Ww:()=>y,_8:()=>w,a_:()=>I,eQ:()=>f,k9:()=>s,kH:()=>E,mE:()=>b,mo:()=>p,o7:()=>_,s7:()=>l,sP:()=>g,wN:()=>v});var n=r(60452),i=r(231800),a=r(557044),o=r(268984);let l=(0,o.eg)("RECENT_PROTOTYPE_UNMARK_VIEWED",(e,t)=>{let r=a.cp.del(`/api/files/${t.fileKey}/prototype/view`,{page_id:t.pageId});(0,i.Y)({requestPromise:r,fallbackError:"An error occurred while removing this prototype from Recently Viewed.",store:e,next:e.dispatch,action:d({fileKey:t.fileKey,pageId:t.pageId})})}),s=(0,o.eg)("RECENT_PROTOTYPE_MARK_VIEWED",(e,t)=>{a.cp.post(`/api/files/${t.fileKey}/prototype/view`,{page_id:t.pageId}).then(({data:t})=>{e.dispatch(u({prototype:t.meta}))}).catch(e=>{})}),c=(0,n.A)("PROTOTYPE_RESET_RECENTS"),d=(0,n.A)("RECENT_PROTOTYPE_DELETE"),u=(0,n.A)("RECENT_PROTOTYPE_POST"),p=(0,n.A)("PROTOTYPE_SET_IS_FOOTER_VISIBLE"),m=(0,n.A)("PROTOTYPE_SET_IS_RECONNECTING"),_=(0,n.A)("PROTOTYPE_SET_PROGRESS_BAR_MODE"),h=(0,n.A)("PROTOTYPE_SET_BACKGROUND_COLOR"),g=(0,n.A)("PROTOTYPE_SET_CURRENT_PAGE"),f=(0,n.A)("PROTOTYPE_SET_PAGES"),E=(0,n.A)("PROTOTYPE_SHOW_ONLY_MY_COMMENTS"),y=(0,n.A)("PROTOTYPE_SHOW_RESOLVED_COMMENTS"),b=(0,n.A)("PROTOTYPE_HIDE_COMMENTS"),v=(0,n.A)("PROTOTYPE_SHOW_COMMENTS");(0,n.A)("PROTOTYPE_SET_DISABLE_DEFAULT_KEYBOARD_NAV");let I=(0,n.A)("PROTOTYPE_RESET"),w=(0,n.A)("DELETE_RECENT_PROTOTYPE"),T=(0,n.A)("RESTORE_RECENT_PROTOTYPE")},584208:(e,t,r)=>{"use strict";r.d(t,{$$:()=>y,Af:()=>b,Ay:()=>D,O0:()=>w,O4:()=>B,OM:()=>v,Qi:()=>U,Ql:()=>k,UN:()=>M,Wo:()=>F,Yj:()=>L,Yr:()=>S,ai:()=>I,bN:()=>E,cX:()=>f,cv:()=>R,kZ:()=>T,mG:()=>A,mc:()=>O,qs:()=>P,wP:()=>C,y4:()=>N});var n=r(60452),i=r(688420),a=r(557044),o=r(560072),l=r(511243),s=r(268984),c=r(321296),d=r(112788),u=r(417184),p=r(427012),m=r(325252),_=r(213100),h=r(778112),g=r(793944);let f=(0,s.eg)("SET_RECENT_WHITEBOARD_TOOLS",(e,t)=>{}),E=(0,s.eg)("SYNC_RECENT_WHITEBOARD_TOOLS",(e,t)=>{let r=(0,_.Oq)(t.storeInRecentsKey,g.G8.WHITEBOARD_TOOL);e.dispatch(f({storeInRecentsKey:t.storeInRecentsKey,recentWhiteboardTools:r}))}),y=(0,s.eg)("ADD_WHITEBOARD_TOOL_TO_RECENTS",(e,t)=>{}),b=(0,s.eg)("SET_RECENT_FACE_STAMPS",(e,t)=>{}),v=(0,s.eg)("SYNC_RECENT_FACE_STAMPS",(e,t)=>{let r=(0,_.Oq)(t.storeInRecentsKey,g.G8.FACE_STAMP);e.dispatch(b({storeInRecentsKey:t.storeInRecentsKey,recentFaceStamps:r}))}),I=(0,s.eg)("ADD_FACE_STAMP_TO_RECENTS",(e,t)=>{}),w=(0,s.eg)("SYNC_RECENT_PLUGINS",(e,t)=>{let r=(0,_.Oq)(t.storeInRecentsKey,h.K2.PLUGIN);e.dispatch(S({storeInRecentsKey:t.storeInRecentsKey,recentResources:r}));let n=r.map(e=>e.id);e.dispatch(P({resourceType:h.K2.PLUGIN,resourceIds:n}))}),T=(0,s.eg)("SYNC_RECENT_WIDGETS",(e,t)=>{let r=(0,_.Oq)(t.storeInRecentsKey,h.K2.WIDGET);e.dispatch(C({storeInRecentsKey:t.storeInRecentsKey,recentResources:r}));let n=r.map(e=>e.id);e.dispatch(P({resourceType:h.K2.WIDGET,resourceIds:n}))}),S=(0,s.eg)("SET_RECENT_PLUGINS",async(e,t)=>{}),C=(0,s.eg)("SET_RECENT_WIDGETS",async(e,t)=>{}),A=l.mG,O=l.mc,N=l.y4,L=(0,s.eg)("ADD_FETCHED_PLUGIN_VERSION",async(e,t)=>{}),R=(0,s.eg)("ADD_FETCHED_WIDGET_VERSION",async(e,t)=>{}),P=(0,s.M0)((e,t)=>{B(e,t)}),M=(0,s.eg)("ADD_PLUGIN_TO_RECENTS",(e,t)=>{e.dispatch(P({resourceType:h.K2.PLUGIN,resourceIds:[t.id]})),t.skipPluginRun||x(t.id,t.currentUserId,e.getState().currentUserOrgId,e.getState().publishedPlugins[t.id],e.getState().recentlyUsed.plugins[t.storeInRecentsKey],!!t.isDevelopment,e.dispatch)}),k=(0,s.eg)("ADD_WIDGETS_TO_RECENTS",(e,t)=>{e.dispatch(P({resourceType:h.K2.WIDGET,resourceIds:[t.id]})),x(t.id,t.currentUserId,e.getState().currentUserOrgId,e.getState().publishedWidgets[t.id],e.getState().recentlyUsed.widgets[t.storeInRecentsKey],!!t.isDevelopment,e.dispatch)}),D=(0,n.A)("REMOVE_RECENTLY_USED_PLUGIN"),F=(0,n.A)("REMOVE_RECENTLY_USED_WIDGET"),x=(e,t,r,n,l,s,c)=>{var u;if(n&&n.current_user_has_run||!t||(0,p.eY)(e)||s)return;let m=l.find(t=>t.id===e);(null==(u=null==m?void 0:m.run_by_user_ids)?void 0:u.includes(t))||a.cp.post(`/api/plugin_runs/${e}`,{org_id:r}).then(({data:t})=>{c(d.g({resourceId:e,userFirstRanAt:t.meta.created_at}))}).catch(e=>{i.g.error((0,o.ID)(e))})},U=(e,t)=>r=>{var n;let i=(0,m.Y9)(e),a=((null==(n=i.manifest)?void 0:n.editorType)??[]).map(e=>"figma"===e?g.Sy.Design:g.Sy.FigJam),o=(0,h.mc)(e)?k:M;a.forEach(n=>r(o({storeInRecentsKey:n,id:e.id,version:i.id,currentUserId:t})))};function B(e,t){let r={},n=({id:n,version:i,status:a})=>{let o=t.resourceType===h.K2.PLUGIN?L:R;return i&&(r[n]=i),e.dispatch(o({id:n,version:i,status:a}))},i=[];if(t.resourceIds.forEach(a=>{let o=t.resourceType===h.K2.PLUGIN?e.getState().installedPluginVersions.plugins[a]:e.getState().installedWidgetVersions.widgets[a];if(o){n({id:a,version:o,status:g.ov.FETCHED});return}let l=t.resourceType===h.K2.PLUGIN?e.getState().recentlyUsed.plugins.fetchedResources[a]:e.getState().recentlyUsed.widgets.fetchedResources[a];l&&l.status!==g.ov.NOT_FETCHED&&l.version?l.version&&(r[a]=l.version):i.push(a)}),!i.length)return Promise.resolve(r);i.forEach(e=>{n({id:e,status:g.ov.FETCHING})});let o={ids:i,org_id:e.getState().currentUserOrgId,include_pending:!0};return a.cp.post(`/api/${(0,u.sr)(t.resourceType)}/batch`,o).then(({data:t})=>(e.dispatch(c.eY({publishedPlugins:t.meta,src:"fetchExtensionVersions",overrideInstallStatus:!0})),i.forEach(e=>{let r;let i=t.meta.find(t=>t.id===e);i&&(r=(0,_.Oo)(i)),n({id:e,version:r,status:g.ov.FETCHED})}),r)).catch(()=>(i.forEach(e=>{n({id:e,status:g.ov.NOT_FETCHED})}),{}))}},373388:(e,t,r)=>{"use strict";r.d(t,{ED:()=>m,Kc:()=>p,Mt:()=>d,Uh:()=>u,_e:()=>_,eI:()=>f,es:()=>E,oF:()=>g,yO:()=>h});var n=r(60452),i=r(867084),a=r(901676),o=r(762820),l=r(13468),s=r(622623),c=r(268984);let d="seen_try_onboarding",u=(0,c.eg)("SET_WORKSHOP_USER_NAME",(e,t)=>{let r=t.name.trim().substring(0,170),n=e.getState(),i="fullscreen"===n.selectedView.view&&n.selectedView.workshopModeInfo;i&&(E(r),(0,s.gx)(i.id,r))}),p=(0,n.A)("SET_STARTER_KIT_HAS_BEEN_HIDDEN"),m=(0,n.A)("SET_FIGJAM_EDITOR_ONBOARDING_FINISHED_OR_DISMISSED"),_=(0,c.eg)("SET_FIGJAM_EDITOR_ONBOARDING_STARTED",()=>{(0,a.AP)().set(d,!0)}),h=(0,n.A)("SET_WORKSHOP_MODE_UNTIL"),g=(0,n.A)("CLEAR_TRY_PLUGIN"),f=(0,c.M0)((e,t)=>{let r=e.getState();return(0,i.CU)((0,l.eg)(r,t))});function E(e){o.Abq.setName(e)}},340628:(e,t,r)=>{"use strict";r.d(t,{G2:()=>u,Mb:()=>c,Wy:()=>p,cd:()=>d,eO:()=>l,wx:()=>s});var n=r(60452),i=r(650180),a=r(268984),o=r(375376);let l=(0,a.eg)("FULLSCREEN_HIDE_STYLE_PREVIEW",e=>{}),s=(0,a.M0)(e=>{let t=e.getState().stylePreviewShown;t.isShown&&!t.isCreating&&e.dispatch(l())}),c=(0,a.M0)((e,t)=>{let{rowTop:r,rowLeft:n,styleType:i,inheritStyleKeyField:a,styleNameInputPrefix:o,nodeId:l}=t;e.dispatch(d({rowTop:r,rowLeft:n,styleType:i,inheritStyleKeyField:a,styleNameInputPrefix:o,nodeId:l}))}),d=(0,n.A)("SHOW_CREATE_STYLE_PREVIEW"),u=(0,a.eg)("FULLSCREEN_SHOW_STYLE_PREVIEW",(e,t)=>{let r=t.style.file_key;null!=e.getState().fileByKey[r]||i.i.getFiles({fileKey:r}).then(t=>e.dispatch(o.Aj({file:t.data.meta})))}),p=(0,n.A)("STYLE_FILE_PUT_STYLE_SET");(0,n.A)("STYLE_FILE_GET_STYLE_SET")},449388:(e,t,r)=>{"use strict";r.d(t,{Aj:()=>O,C0:()=>p,CW:()=>h,E5:()=>N,K8:()=>f,Sw:()=>T,Ut:()=>v,Ws:()=>b,_M:()=>R,cl:()=>g,eq:()=>A,iO:()=>y,kT:()=>E,q4:()=>w,qo:()=>m,qu:()=>_,s$:()=>L,s1:()=>I,sY:()=>S,wX:()=>C});var n=r(60452),i=r(656716),a=r(557044),o=r(967540),l=r(560072),s=r(850360),c=r(268984),d=r(886872),u=r(497508);let p=(0,c.cj)("TEAM_REMOVE_FROM_TEAM",(e,{teamId:t,userId:r,userInitiated:n},{optimistId:i})=>{n&&a.cp.del(`/api/teams/${t}/users/${r}`).then(()=>{e.dispatch(c.sL.commit(i))}).catch(t=>{e.dispatch(c.sL.revert(i));let r=(0,l.t)("file_browser.file_browser_actions.error_on_team_member_removal");e.dispatch(o.M.error(r)),console.error(t)})}),m=(0,c.cj)("BATCH_DEL_TEAM_MEMBERS",(e,{teamId:t,userIds:r},{optimistId:n})=>{a.cp.del(`/api/teams/${t}/users`,{user_ids:r}).then(()=>{e.dispatch(c.sL.commit(n))}).catch(t=>{e.dispatch(c.sL.revert(n))})}),_=(0,c.M0)(async(e,t)=>{let{teamId:r}=t;await a.cp.put(`/api/teams/${r}/restore`).then(()=>{let t=`/files/team/${r}`;i.default.redirect(t),e.dispatch(o.M.flash((0,l.t)("file_browser.file_browser_actions.restore_team_success")))}).catch(t=>{e.dispatch(o.M.error((0,l.t)("file_browser.file_browser_actions.restore_team_error",{errorMsg:t.data.message||(0,l.t)("file_browser.file_browser_actions.unknown_error")})))})}),h=(0,c.M0)(async(e,t)=>{await a.cp.put(`/api/teams/${t.teamId}`,{description:t.description}).then(()=>{e.dispatch(O({team:{id:t.teamId,description:t.description},userInitiated:!0}))}).catch(()=>{e.dispatch(o.M.error((0,l.t)("file_browser.file_browser_actions.update_description_error")))})});(0,c.eg)("TEAM_GET_CMTY_PUBLISH_AS_USER_ENABLED",(e,{teamId:t},{loadingKey:r})=>{let n=u._.getTeam({teamId:t});(0,d.o)(n,e,r),n.then(({data:t})=>{e.dispatch(O({team:t.meta,userInitiated:!1}))}).catch(()=>{e.dispatch(o.M.error((0,l.t)("file_browser.error_try_again")))})});let g=(0,c.eg)("TEAM_FETCH_MEMBERS_LIST",(e,{teamId:t,userInitiated:r=!0},{loadingKey:n})=>{let i=u._.getMembers({teamId:t});r&&(0,d.o)(i,e,n),i.then(({data:r})=>{let n={};r.meta.forEach(e=>{n[e.email]=e}),e.dispatch(f({members:n,teamId:t}))},t=>{console.error(t),e.dispatch(o.M.error((0,l.t)("file_browser.file_browser_actions.team_member_fetch_error")))})},e=>`TEAM_FETCH_MEMBERS_LIST::teamId::${e.teamId}`),f=(0,n.A)("TEAM_SET_MEMBERS"),E=(0,n.A)("TEAM_BATCH_JOIN"),y=(0,n.A)("TEAM_JOIN"),b=(0,n.A)("TEAM_STOP_RENAME"),v=(0,n.A)("TEAM_BEGIN_RENAME"),I=(0,n.A)("TEAM_CREATION_SET_LOADING"),w=(0,n.A)("TEAM_CHANGE_DEFAULT_PERMISSION"),T=(0,n.A)("TEAM_CHANGE_SHARING_SETTINGS"),S=(0,n.A)("TEAM_CHANGE_ORG_ACCESS");(0,n.A)("TEAM_LOADED");let C=(0,n.A)("TEAM_RENAME"),A=(0,n.A)("TEAM_BATCH_PUT"),O=s.putTeam,N=s.delTeam,L=(0,n.A)("TEAM_POST"),R=(0,n.A)("TEAM_GET")},367220:(e,t,r)=>{"use strict";r.d(t,{CO:()=>d,Cs:()=>c,IB:()=>h,KI:()=>f,OG:()=>s,Q7:()=>v,QD:()=>I,Su:()=>_,gz:()=>u,m6:()=>g,oj:()=>p,qW:()=>E,sJ:()=>m,sp:()=>b,yq:()=>y});var n=r(60452),i=r(560072),a=r(317704),o=r(323576),l=r(866408);let s=(0,r(268984).M0)((e,{memberEmails:t,team:r})=>{let{id:n}=r,s=new Set(t),c=e.getState().teamMembersByTeamId[n],u=[];Object.keys(c).forEach(e=>{let t=c[e];s.has(t.email)&&t.id&&u.push(t)});let p=u.map(e=>({nameOrEmail:e.name??e.email,id:e.id}));e.dispatch((0,o.A5)({type:l.Gi,data:{editors:u,team:r,onConfirm:()=>{u.forEach(t=>{let r=t.last_active?new Date(1e3*t.last_active).toDateString():"never",i={id:t.id,img_url:t.img_url,name:t.name??"",email:t.email,last_active:r,team_id:n};e.dispatch(d({editor:i}))}),e.dispatch(a.A.enqueue({type:"team-editors-downgraded",message:(0,i.t)("downgrade_member_visual_bell.text",{numMembers:u.length,userName:p[0].nameOrEmail})}))}}}))}),c=(0,n.A)("TEAM_ADMIN_SET_MEMBER_EDU_GRACE_PERIOD"),d=(0,n.A)("TEAM_ADMIN_DEMOTE_EDITOR_ROLES"),u=(0,n.A)("TEAM_ADMIN_SET_USER_ROLES"),p=(0,n.A)("TEAM_ADMIN_INIT_USER_DETAILS"),m=(0,n.A)("TEAM_ADMIN_SET_SEARCH_RESULTS"),_=(0,n.A)("TEAM_ADMIN_SET_QUERY"),h=(0,n.A)("TEAM_ADMIN_SORT_EDITORS_BY"),g=(0,n.A)("TEAM_ADMIN_SET_ADMINS_BY_ID"),f=(0,n.A)("TEAM_ADMIN_GET_ADMINS"),E=(0,n.A)("TEAM_ADMIN_SET_EDITORS"),y=(0,n.A)("TEAM_ADMIN_SET_SUMMARY_DEPRECATED"),b=(0,n.A)("TEAM_ADMIN_FETCH_SUMMARY"),v=(0,n.A)("TEAM_ADMIN_FETCH_EDITORS"),I=(0,n.A)("TEAM_ADMIN_INIT_BILLING_DETAILS")},930860:(e,t,r)=>{"use strict";r.d(t,{S2:()=>B,Yb:()=>G,oz:()=>M,k3:()=>k,OS:()=>D,A3:()=>F,C0:()=>x,Kc:()=>U,Cy:()=>V,yA:()=>P});var n=r(60452),i=r(557044),a=r(967540),o=r(560072),l=r(317704),s=r(268984),c=r(323576),d=r(142600),u=r(39676),p=r(422416),m=r(886872),_=r(559572),h=r(144088),g=r(307824),f=r(120304),E=r(125504),y=r.n(E),b=r(656716),v=r(427792),I=r(148276),w=r(703520),T=r(104568),S=r(203736),C=r(23024),A=r(322624),O=r(664628);let N=(0,S.U9)(function({currency:e,customerInfo:t,defaultCountry:r,estimatedChargeCents:n,isReactivating:i}){let a=i?(0,o.t)("change_payment.success.successfully_reactivated_subscription"):(0,o.t)("change_payment.success.successfully_updated_your_payment_method"),{createPaymentElement:l,unmountPaymentElement:s,savePayment:d,address:u,updateAddress:p,paymentMethodType:m,error:_}=(0,T.yo)({setupIntentParams:{redirect_url:b.default.location.href,subtotal_estimate:n,success_message:a},paymentFlowSource:T.QB.PRO_CHANGE_PAYMENT,customerInfo:t,defaultCountry:r,currency:e}),[h,E]=g.useState(!1),[S,N]=g.useState(!1),[L,R]=g.useState(window.innerHeight),P=(0,f.OY)(),M=(null==_?void 0:_.code)===T.ie.UNINITIALIZED_STRIPE_ELEMENTS_ERROR,k=()=>P(c.oN());(0,v.Y)(({height:e})=>{R(e)});let D=async e=>{e&&e.preventDefault(),N(!0),await d(),N(!1)};return g.createElement(C.Cc,{title:(0,o.t)("change_payment.enter_payment_method"),onClose:k,maxWidth:448,headerSize:"large"},g.createElement("div",{className:y()({[O.uo]:!h,[O.Yr]:M})},g.createElement("form",{onSubmit:D},g.createElement("div",{className:O.Gb,style:{maxHeight:Math.min(L-49-65,652)}},g.createElement(A.Q,{createPaymentElement:l,unmountPaymentElement:s,address:u,updateAddress:p,paymentMethodType:m,error:_,isCommunityCheckout:!1,paymentElementEventHandlers:{ready:()=>E(!0)}})),h&&!M&&g.createElement("div",{className:O.ID},S&&g.createElement(w.M7,{className:O.g$}),g.createElement(I.Sm,{onClick:k},g.createElement(o.Tx,{id:"change_payment.cancel"})),g.createElement(I.Uv,{tabIndex:0,type:"submit",disabled:S},g.createElement(o.Tx,{id:"change_payment.save"})))),M&&g.createElement(I.Sm,{onClick:k},g.createElement(o.Tx,{id:"change_payment.close_window"}))))},"TeamChangePaymentModal");var L=r(843904),R=r(49284);function P(e){let{teamId:t,dispatch:r,email:n}=e;return i.cp.put(`/api/subscriptions/team/${t}/billing_contact`,{email:n}).then(e=>{r(U({summary:{billing_contact:e.data.meta}})),r(l.A.enqueue({message:(0,o.t)("visual_bell.team_billing_contact_updated"),type:"team-billing-contact-changed"}))}).catch(e=>{var t;throw r(a.M.error((null==(t=e.data)?void 0:t.message)||(0,o.t)("payments.change_billing_contact_error"),5e3)),e})}let M=(0,s.eg)("TEAM_ADMIN_FETCH_INVOICES",(e,{teamId:t},{loadingKey:r})=>{let n=h.T.getTeamInvoices({teamId:t});(0,m.o)(n,e,r),n.then(({data:t})=>{t.meta.forEach(e=>{e.design_quantity||(e.design_quantity=e.quantity)}),e.dispatch(F({invoices:t.meta}))}).catch(()=>{e.dispatch(a.M.error((0,o.t)("flash.team_invoices_fetching_error")))})},e=>`TEAM_ADMIN_FETCH_INVOICES::teamId::${e.teamId}`),k=(0,s.eg)("TEAM_ADMIN_FETCH_BILLING_SUMMARY",(e,{teamId:t},{loadingKey:r})=>{let n=h.T.getTeamSummary({teamId:t});(0,m.o)(n,e,r),n.then(({data:t})=>{e.dispatch(x({summary:t.meta}))}).catch(()=>{e.dispatch(a.M.error((0,o.t)("flash.team_billing_summary_fetching_error")))})},e=>`TEAM_ADMIN_FETCH_BILLING_SUMMARY::teamId::${e.teamId}`),D=(0,s.M0)((e,{teamId:t,shouldForceFetch:r})=>{let n=k.loadingKeyForPayload({teamId:t}),i=e.getState();(0,u.K0)(i.loadingState,n)||!r&&(0,u.kr)(i.loadingState,n)||e.dispatch(k({teamId:t}));let a=M.loadingKeyForPayload({teamId:t});(0,u.K0)(i.loadingState,a)||!r&&(0,u.kr)(i.loadingState,a)||e.dispatch(M({teamId:t}))}),F=(0,n.A)("TEAM_ADMIN_POST_INVOICE"),x=(0,n.A)("TEAM_ADMIN_SET_SUMMARY"),U=(0,n.A)("TEAM_ADMIN_UPDATE_INVOICE_RECEIVER");function B(e){let{team:t,dispatch:r,cancelling:n,monthlySub:i,annualSub:a,currency:o}=e,l=(0,R.Ok)((null==i?void 0:i.design_quantity)??0,_.SK.MONTHLY,o||"usd")+(0,R.kl)((null==i?void 0:i.whiteboard_quantity)??0,_.SK.MONTHLY,o||"usd"),s=(0,R.Ok)((null==a?void 0:a.design_quantity)??0,_.SK.ANNUAL,o||"usd")+(0,R.kl)((null==a?void 0:a.whiteboard_quantity)??0,_.SK.ANNUAL,o||"usd");r((0,c.A5)({type:N,data:{currency:o,defaultCountry:(0,p.Sy)(),estimatedChargeCents:Math.max(l,s),customerInfo:{teamId:t.id},isReactivating:n}}))}function G(e){let{team:t,dispatch:r}=e,n=async(e,r,n)=>{let a=!1;return await i.cp.put(`/api/subscriptions/team/${t.id}/vat_gst`,{vat_gst_id:e,regional_vat_gst_id:n}).then(()=>{a=!0}).catch(e=>{r(e.toString())}),a};r((0,c.A5)({type:L.l,data:{team:t,updateVatGstId:n}}))}function V(e){let{team:t,updatedDisplayName:r,updatedLegalName:n,dispatch:i}=e;i((0,c.A5)({type:d.g,data:{modalTitle:(0,o.t)("settings_table.edit_names"),displayName:r,legalName:n,updateNameImmediately:!0,team:t}}))}},904920:(e,t,r)=>{"use strict";r.d(t,{Mp:()=>E,Oe:()=>R,Og:()=>f,S8:()=>w,_q:()=>h,aA:()=>I,ac:()=>S,e8:()=>g,m6:()=>A,mQ:()=>_,mm:()=>y,qI:()=>N,sF:()=>b,wJ:()=>v});var n=r(60452),i=r(250008),a=r(13796),o=r(843148),l=r(61836),s=r(418084),c=r(557044),d=r(268984),u=r(886872),p=r(338948),m=r(466172);let _=(0,d.cj)("UNFOLLOW_FEED_TAG",(e,t,{optimistId:r})=>{let n=e.getState().user,i=(0,l.w3)();if(!i||!n)return;let a=c.cp.post("/api/feed_tags/unfollow",{hashtag:t.hashtag,org_id:t.orgId}).then(t=>{e.dispatch(d.sL.commit(r))}).catch(t=>{e.dispatch(d.sL.revert(r))});i.optimisticallyDelete({FeedTagFollower:{[t.feedTagFollowerId]:null}},a)}),h=(0,d.cj)("FOLLOW_FEED_TAG",(e,t,{optimistId:r})=>{let n=e.getState().user,i=(0,l.w3)();if(!i||!n)return;let a=c.cp.post("/api/feed_tags/follow",{hashtag:t.hashtag,org_id:t.orgId}).then(t=>{e.dispatch(d.sL.commit(r))}).catch(t=>{e.dispatch(d.sL.revert(r))});i.optimisticallyCreate({FeedTagFollower:{[`optimistic-${r.toString()}`]:{userId:n.id,feedTagId:t.tagId}}},a)}),g=(0,n.A)("REFRESH_FEED"),f=(0,d.M0)((e,t,{loadingKey:r})=>{if(!(0,o.Ub)().xr_debounce_threshold)return;let n=m.C.getFeedBellStates();(0,u.o)(n,e,r),n.then(t=>{e.dispatch(y({bellStates:t.data.meta}))})}),E=(0,n.A)("TEAM_FEED_SET_BELL_STATE"),y=(0,n.A)("TEAM_FEED_SET_INITIAL_BELL_STATES"),b=(0,d.cj)("DELETE_FEED_POST_COMMENT",(e,t,{optimistId:r})=>{let n=e.getState().user,i=(0,l.w3)(),a=t.uuid;if(!n||!i||!a||t.commentId.startsWith(R))return;let o=i.getIdFromUuid("FeedComment",a).then(e=>c.cp.del(`/api/feed_posts/comments/${e}`)).then(()=>{e.dispatch(d.sL.commit(r))}).catch(()=>{e.dispatch(d.sL.revert(r))});i.optimisticallyDeleteWithUUID({FeedComment:{[a]:null}},o)}),v=(0,d.cj)("EDIT_FEED_POST_COMMENT",(e,t,{optimistId:r})=>{t.messageMeta=(0,a.uS)(t.messageMeta);let n=e.getState().user,o=(0,l.w3)(),s=t.uuid;if(!n||!o||!s)return;let u=o.getIdFromUuid("FeedComment",s).then(e=>c.cp.put(`/api/feed_posts/comments/${e}`,{message_meta:t.messageMeta,attachment_updates:(0,p.An)(t.attachmentUpdates)})).then(()=>{e.dispatch(d.sL.commit(r))}).catch(()=>{e.dispatch(d.sL.revert(r))});(0,i.we)("Team Feed Comment Edited",{text:(0,a.IF)(t.messageMeta)});let m=(0,a.mk)(t.messageMeta);o.optimisticallyUpdateWithUUID({FeedComment:{[s]:{messageMeta:m}}},u)}),I=(0,d.cj)("NEW_FEED_POST_COMMENT",(e,t,{optimistId:r})=>{t.messageMeta=(0,a.uS)(t.messageMeta);let n=e.getState().user,o=(0,l.w3)();if(!n||!o)return;let u=(0,s.c)(),p=c.cp.post(`/api/feed_posts/${t.postUuid}/comments`,{message_meta:t.messageMeta,uuid:u,attachment_ids:t.attachmentIds}).then(()=>{e.dispatch(d.sL.commit(r))}).catch(()=>{e.dispatch(d.sL.revert(r))}),m=!!t.messageMeta.find(e=>(0,a.e2)(e)===a.fY.EMOJI),_=!!t.messageMeta.find(e=>(0,a.e2)(e)===a.fY.EDITOR_MENTION);(0,i.we)("Team Feed Comment Added",{emojiUsed:m,mentionUsed:_,text:(0,a.IF)(t.messageMeta),postUuid:t.postUuid});let h=(0,a.mk)(t.messageMeta);o.optimisticallyCreateWithUUID({FeedComment:{[u]:{feedPostPublicUuid:t.postUuid,uuid:u,userId:n.id,user:{id:n.id,handle:n.handle,imgUrl:n.img_url},messageMeta:h,createdAt:new Date,reactions:[]}}},p)}),w=(0,d.cj)("REMOVE_FEED_REACTION_COMMENT",(e,t,{optimistId:r})=>{let{commentUuid:n,emoji:i,reactionId:a}=t,o=T(e.dispatch,n,i,r);e.getState().user&&(0,l.w3)().optimisticallyDelete({FeedReaction:{[a]:null}},o)}),T=(e,t,r,n)=>(0,l.w3)().getIdFromUuid("FeedComment",t).then(e=>c.cp.del(`/api/feed_posts/comments/${e}/reactions`,{emoji:r})).then(()=>{e(d.sL.commit(n))}).catch(()=>{e(d.sL.revert(n))}),S=(0,d.cj)("ADD_FEED_REACTION_COMMENT",(e,t,{optimistId:r})=>{let{commentUuid:n,commentId:a,emoji:o}=t,s=e.getState().user;if(!s||a.startsWith(R))return;let c=C(e.dispatch,n,o,r);(0,i.we)("Team Feed Reaction Added",{commentId:a,type:o});let d=`optimistic-id-comment-${a}-${o}-${s.id}`;(0,l.w3)().optimisticallyCreate({FeedReaction:{[d]:{createdAt:new Date,emoji:o,feedResourceId:a,feedResourceType:"FeedComment",userId:s.id}}},c)}),C=(e,t,r,n)=>(0,l.w3)().getIdFromUuid("FeedComment",t).then(e=>c.cp.post(`/api/feed_posts/comments/${e}/reactions`,{emoji:r})).then(t=>{e(d.sL.commit(n))}).catch(t=>{e(d.sL.revert(n))}),A=(0,d.cj)("REMOVE_FEED_REACTION_DETAIL",(e,t,{optimistId:r})=>{let{feedPostUuid:n,emoji:i,reactionId:a}=t,o=O(e.dispatch,n,i,r);e.getState().user&&(0,l.w3)().optimisticallyDelete({FeedReaction:{[a]:null}},o)}),O=(e,t,r,n)=>c.cp.del(`/api/feed_posts/${t}/reactions`,{emoji:r}).then(()=>{e(d.sL.commit(n))}).catch(()=>{e(d.sL.revert(n))}),N=(0,d.cj)("ADD_FEED_REACTION_POST",(e,t,{optimistId:r})=>{let{feedPostUuid:n,feedPostId:a,emoji:o}=t,s=e.getState().user;if(!s)return;let c=L(e.dispatch,n,o,r);(0,i.we)("Team Feed Reaction Added",{postUuid:n,type:o});let d=`optimistic-id-${n}-${o}-${s.id}`;(0,l.w3)().optimisticallyCreate({FeedReaction:{[d]:{createdAt:new Date,emoji:o,feedResourceId:a,feedResourceType:"FeedPost",userId:s.id,user:{id:s.id,handle:s.handle,imgUrl:s.img_url}}}},c)}),L=(e,t,r,n)=>c.cp.post(`/api/feed_posts/${t}/reactions`,{emoji:r}).then(()=>{e(d.sL.commit(n))}).catch(()=>{e(d.sL.revert(n))}),R="pending-feed-comment"},983052:(e,t,r)=>{"use strict";r.d(t,{Aj:()=>y,Cg:()=>b,Ef:()=>h,WC:()=>E,sl:()=>g,yi:()=>f});var n=r(60452),i=r(557044),a=r(967540),o=r(560072),l=r(317704),s=r(268984),c=r(323576),d=r(39676),u=r(886872),p=r(738008),m=r(497508),_=r(866408);let h=(0,s.M0)((e,{adminIds:t,editorType:r,fileKey:n,message:s,teamId:c,entryPoint:d})=>{i.cp.post(`/api/teams/${c}/team_users/request_upgrade`,{admin_ids:t,editor_type:r,file_key:n,message:s,team_id:c,entry_point:d}).then(function(t){e.dispatch(l.A.enqueue({message:(0,o.t)("team_user.actions.team_members_request_to_upgrade_succeeded"),type:"pro-upgrade-request-sent"}))}).catch(function(t){e.dispatch(a.M.error((0,o.t)("team_user.actions.team_members_request_to_upgrade_failed")))})}),g=(0,s.M0)((e,{members:t,team:r,teamUsers:n,usersWithNoTeamUserIds:i=[],paidStatusType:a,paidStatus:s,entryPoint:d})=>{e.dispatch((0,c.A5)({type:_.sp,data:{onConfirm:()=>{let c;e.dispatch(f({teamId:r.id,teamUsers:n,usersWithNoTeamUserIds:i,paidStatus:s,paidStatusType:a,userInitiated:!0,entryPoint:d}));let u=t.length,m={productName:a===p.wT.WHITEBOARD?(0,o.t)("general.figjam"):(0,o.t)("general.figma_design"),nameOrEmail:t[0].name||t[0].email,numTeamMembers:u};switch(s){case p.wf.FULL:c=(0,o.t)("team_user.actions.team_members_upgraded.seat_rename",m);break;case p.wf.STARTER:c=(0,o.t)("team_user.actions.team_members_downgraded_to_viewer.seat_rename",m);break;case p.wf.RESTRICTED:c=(0,o.t)("team_user.actions.team_members_downgraded_to_viewer_restricted.seat_rename",m)}e.dispatch(l.A.enqueue({type:"team-paid-status-updated",message:c}))},members:t,team:r,paidStatusType:a,paidStatus:s}}))}),f=(0,s.cj)("TEAM_USER_UPDATE_DESIGN_PAID_STATUS",async(e,{teamId:t,teamUsers:r,usersWithNoTeamUserIds:n,paidStatus:l,paidStatusType:c,userInitiated:d,entryPoint:u},{optimistId:m})=>{if(d){let d=r.map(e=>e.user_id).concat(n||[]);await i.cp.put(`/api/teams/${t}/team_user_batch`,{team_user_deltas:d.map(e=>{let t={user_id:e};return c===p.wT.WHITEBOARD?t.whiteboard_paid_status=l:t.design_paid_status=l,t}),entry_point:u}).then(function({data:r}){e.dispatch(s.sL.commit(m)),e.dispatch(y({teamUsers:r.meta,teamId:t}))}).catch(function(t){e.dispatch(s.sL.revert(m));let r=(0,o.t)("team_user.actions.an_error_occurred_while_changing_a_team_member_s_billing_status");e.dispatch(a.M.error(r)),console.error(t)})}},e=>`$TEAM_USER_UPDATE_DESIGN_PAID_STATUS::teamId::${e.teamId}`),E=(0,s.eg)("TEAM_USER_INITIALIZED_FOR_TEAM",(e,{teamId:t},{loadingKey:r})=>{if(!t)return;let n=e.getState(),i="team"===n.selectedView.view&&("members"===n.selectedView.teamViewTab||"billing"===n.selectedView.teamViewTab)||"teamUpgrade"===n.selectedView.view||"eduReview"===n.selectedView.view;if(!(0,d.ER)(n.loadingState,r)&&!i)return;let l=m._.getTeamUsers({teamId:t});(0,u.o)(l,e,r),l.then(r=>{e.dispatch(b({teamUsers:r.data.meta,teamId:t}))},t=>{console.error(t),t&&403!==t.status&&e.dispatch(a.M.error((0,o.t)("team_user.actions.an_error_occurred_while_retrieving_fetching_the_list_of_users_on_this_team")))})},({teamId:e})=>`TEAM_USER_INITIALIZED_FOR_TEAM_${e}`),y=(0,n.A)("TEAM_USER_PUT"),b=(0,n.A)("TEAM_USER_INITIAL_SET")},866368:(e,t,r)=>{"use strict";r.d(t,{AP:()=>_,IZ:()=>p,S_:()=>m,w7:()=>h});var n=r(60452),i=r(843148),a=r(557044),o=r(967540),l=r(268984),s=r(796116),c=r(375376),d=r(886872),u=r(601716);let p=(0,n.A)("ONBOARDING_TEMPLATES_PUT_ALL"),m=(0,l.M0)(e=>{u._.getTemplates({type:"onboarding"}).then(({data:t})=>{let r=t.meta;Object.keys(r).forEach(t=>{e.dispatch((0,s.Ww)({hubFiles:r[t],src:"getOnboardingTemplates"}))}),e.dispatch(p(r))})}),_=(0,l.M0)((e,t)=>a.cp.post("/api/files/first_template_type",{template_type:t.type})),h=(0,l.M0)((e,t,{loadingKey:r})=>{let n;let l=e.getState();n=(0,i.Ub)().ps_benchmark?{current_org_id:l.currentUserOrgId,current_team_id:l.currentTeamId}:{current_org_id:l.currentUserOrgId};let s=a.cp.post("/api/figjam_template",n);(0,d.o)(s,e,r),s.then(({data:t})=>{let r=t.meta.file;r&&e.dispatch(c.Aj({file:r}))}).catch(t=>{var r;e.dispatch(o.M.error((null==(r=t.data)?void 0:r.message)||"An error occurred while fetching the template file"))})})},188448:(e,t,r)=>{"use strict";r.d(t,{Aj:()=>P,CE:()=>T,KG:()=>w,O9:()=>C,W2:()=>N,m_:()=>L,wz:()=>R});var n=r(60452),i=r(250008),a=r(899116),o=r(656716),l=r(517048),s=r(326660),c=r(58908),d=r(557044),u=r(560072),p=r(850360),m=r(317704),_=r(630756),h=r(403132),g=r(323576),f=r(90340),E=r(1084),y=r(417184),b=r(61652),v=r(268984),I=r(46604);let w=(0,v.M0)(async()=>{try{await d.cp.post("/api/user/migrate_personal_drafts")}catch(e){(0,s.oP)(c._.SHARING_AND_ACCESS,Error(`Failed to migrate starter drafts for user: ${e.data.message}`))}}),T=(0,v.M0)(async e=>{try{let t=e.getState();for(let r of t.authedUsers.orderedIds)if(await (0,E.Gu)(r)){A(),e.dispatch(g.A5({type:_.OC,data:{users:Object.values(t.authedUsers.byId),onLogOut:()=>{e.dispatch(S())}}}));return}}catch(e){(0,s.oP)(c._.SCENEGRAPH_AND_SYNC,Error("Failed to get autosave files for user"))}e.dispatch(S())}),S=(0,v.M0)(e=>{if(a.sZ){o.default.redirect("/logout");return}let t=(0,y.K2)(e.getState().selectedView),r=d.cp.post("/api/session/logout").then(()=>{(0,f.mw)(),new l.g().sendToAllTabs(b.m,b.i),o.default.redirect(`${t?"/community":""}/?fuid=`)}).catch(t=>{var r;let n=(null==(r=t.data)?void 0:r.message)||(0,u.t)("file_browser.file_browser_actions.logout_error_without_email");e.dispatch(m.A.enqueue({error:!0,message:n}))});e.dispatch(I.G2({until:r}))}),C=(0,v.M0)(async(e,t)=>{try{await (0,E.Gu)(t.user.id)?(A(),e.dispatch(g.A5({type:_.OC,data:{users:[t.user],onLogOut:()=>{e.dispatch(O(t))}}}))):e.dispatch(O(t))}catch(r){(0,s.oP)(c._.SCENEGRAPH_AND_SYNC,Error("Failed to get autosave files for user")),e.dispatch(O(t))}}),A=()=>{try{(0,i.we)("autosave_modal_shown",{},{forwardToDatadog:!0,batchRequest:!0})}catch(e){}},O=(0,v.M0)((e,t)=>{let r=d.cp.post(`/api/session/logout/${t.user.id}`).then(r=>{var n,i,a,l,s;e.dispatch(h.ys(r.data.meta)),e.dispatch(I.iM(r.data.meta)),(null==(a=null==(i=null==(n=r.data)?void 0:n.meta)?void 0:i.users)?void 0:a.length)===0&&(0,f.mw)();let c=null==(s=null==(l=r.data)?void 0:l.meta)?void 0:s.redirect_url;c?o.default.redirect(c):e.dispatch(m.A.enqueue({message:(0,u.t)("file_browser.file_browser_actions.successfully_logged_out",{emailAddress:t.user.email})}))}).catch(r=>{var n;let i=(null==(n=r.data)?void 0:n.message)||(0,u.t)("file_browser.file_browser_actions.logout_error_with_email",{emailAddress:t.user.email});e.dispatch(m.A.enqueue({error:!0,message:i}))});e.dispatch(I.G2({until:r}))}),N=(0,n.A)("DELETE_USER_LOADING"),L=(0,n.A)("USER_ERASE_SECRETS"),R=(0,n.A)("USER_TOGGLE_TWO_FACTOR"),P=p.putUser},68348:(e,t,r)=>{"use strict";r.d(t,{AX:()=>L,Ck:()=>C,Cw:()=>E,ED:()=>w,Ex:()=>v,Ij:()=>N,MX:()=>k,Su:()=>T,Tf:()=>O,YR:()=>f,_r:()=>A,a8:()=>b,am:()=>I,cH:()=>y,eY:()=>P,oV:()=>S,qO:()=>M});var n=r(60452),i=r(250008),a=r(372152),o=r(61836),l=r(668136),s=r(557044),c=r(967540),d=r(560072),u=r(317704),p=r(268984),m=r(762820),_=r(138884),h=r(611492),g=r(316220);let f=(0,n.A)("UNSET_HOVERED_IN_MODAL_VOTE_PIN"),E=(0,n.A)("SET_HOVERED_IN_MODAL_VOTE_PIN"),y=(0,n.A)("DESELECT_VOTE_PIN"),b=(0,n.A)("SELECT_VOTE_PIN"),v=(0,n.A)("INITIATED_VOTING_SESSION"),I=(0,p.M0)(async(e,{uiSurface:t})=>{let r=e.getState(),{fileKey:n}=r.selectedView,i=r.mirror.appModel.votingSessionInfo.sessionId;if(!n||!i)return;let o=w(n),l="end-voting-session-failed",c=()=>{e.dispatch(g.is({key:o})),e.dispatch(u.A.enqueue({type:l,message:(0,d.t)("voting.visual_bell.end_voting_session_failed")}))};e.dispatch(g.Cg({key:o})),e.dispatch(u.A.dequeue({matchType:l})),await s.cp.put(`/api/file/${n}/voting_sessions/${i}`,{in_progress:!1}).then(({status:r})=>{200===r?(e.dispatch(g.mk({key:o})),"MeetingsPanel"===t&&a.qM.set(h.V3,{type:"SET_VIEW",payload:h.y6.PAST_VOTES})):c()}).catch(e=>{throw c(),e})}),w=e=>`end_voting_session_${e}`,T=(0,p.M0)((e,{source:t,usedCustomTitle:r,requestBody:n,uiSurface:o})=>{let{fileKey:l}=e.getState().selectedView;if(!l)return;let c=S(l),p=()=>{e.dispatch(g.is({key:c})),e.dispatch(u.A.enqueue({type:"start-voting-session-failed",message:(0,d.t)("voting.visual_bell.start_voting_session_failed")}))};e.dispatch(g.Cg({key:c})),e.dispatch(u.A.dequeue({matchType:"start-voting-session-failed"})),s.cp.post(`/api/file/${l}/voting_sessions`,n).then(n=>{200===n.status?(e.dispatch(v({votingSessionId:n.data.meta.id})),"MeetingsPanel"===o&&a.qM.get(h.V3).activeToolModal===h.w9.VOTING&&a.qM.set(h.V3,{type:"SET_TOOL",payload:null}),e.dispatch(g.mk({key:c})),(0,i.we)("start_voting_session",{source:t,usedCustomTitle:r,votingSessionId:n.data.meta.id,fileKey:l})):p()}).catch(e=>{throw p(),e})}),S=e=>`create_voting_session_${e}`,C=(0,p.M0)((e,{votingSessionId:t})=>{let r=e.getState().selectedView;if(!r.fileKey)return null;let n=s.cp.del(`/api/file/${r.fileKey}/voting_sessions/${t}`);e.dispatch((0,c.S)({promise:n,fallbackError:(0,d.t)("voting.modal.delete_voting_session_error")})),e.dispatch(u.A.enqueue({message:(0,d.t)("voting.modal.delete_voting_session_visual_bell")})),(0,l.g)(n,e.dispatch,R({votingSessionId:t})),(0,o.w3)().optimisticallyDelete({VotingSession:{[t]:null}},n)});function A(e,t){var r,n;let i=null==(n=null==(r=null==e?void 0:e.openFile)?void 0:r.votingSessions)?void 0:n.find(e=>e.id===t);if(!i)return;let a=function(e){let t=e.createdAt.toISOString().split("T")[0];return e.title?(0,d.t)("voting.csv_export.filename_with_session_title",{date:t,votingSessionTitle:e.title}):(0,d.t)("voting.csv_export.filename_no_session_title",{date:t})}(i);m.iEC.exportVotingSessionAsCsv(t,a)}let O=(0,p.M0)((e,t)=>{var r,n;let i;let a=t.votingStage,o=e.getState();if(a===m.A5$.NO_SESSION){m.iEC.setVotingSessionInfo("",m.A5$.NO_SESSION,0);return}let l=null==(r=null==o?void 0:o.openFile)?void 0:r.votingSessions;if(a===m.A5$.ENDED){let e=t.sessionId;i=null==l?void 0:l.find(t=>t.id===e&&!t.inProgress)}else i=null==l?void 0:l.find(e=>e.inProgress);i&&(m.iEC.setVotingSessionInfo(i.id,a,i.userVoteLimit),a===m.A5$.JOINED&&(e.dispatch(N()),(null==(n=o.mirror.selectionProperties.whiteboardNumSelectedByType)?void 0:n.STAMP)&&(0,_.mo)()))}),N=(0,n.A)("DISMISS_JOIN_CONFIRMATION"),L=(0,n.A)("HIDE_JOIN_VOTING_SESSION_MODAL"),R=(0,n.A)("DELETE_VOTING_SESSION"),P=(0,n.A)("SET_VOTES_PER_USER_LIMIT"),M=(0,n.A)("SET_TITLE"),k=(0,n.A)("CLEAR_STATE")},560900:(e,t,r)=>{"use strict";r.d(t,{C6:()=>m,EB:()=>E,IN:()=>c,O0:()=>o.gFG,gb:()=>_,gn:()=>h,gv:()=>p,is:()=>u,mS:()=>s,s9:()=>g,wv:()=>f,ys:()=>l});var n=r(307824),i=r(398500),a=r(506616),o=r(472956);let l="You are trying to use comments functionality but didn't wire a provider for comments",s=(0,n.createContext)(void 0);function c(){return(0,n.useContext)(s)}let d={};function u(){return function(e,t){let r=(0,n.useMemo)(()=>(null==e?void 0:e.status)!=="loaded"?d:t(e.data),[e,t]),i=(null==e?void 0:e.status)||"loading",o=(null==e?void 0:e.errors)||[];return(0,n.useMemo)(()=>r===d||"loading"===i?(0,a.W_)():"errors"===i?{status:i,data:null,errors:o}:{status:"loaded",errors:o,data:r},[i,o,r])}((0,n.useContext)(s),e=>{var t;return(null==(t=e.file)?void 0:t.currentUserFileFollower)||null})}function p(){let e=c();return!!e&&e.isResolvedLoaded}function m(){let e=c();return!!e&&e.isUnresolvedLoaded}function _(){let e=c();return e?e.threads:(0,a.W_)()}function h(e){let t=(0,n.useContext)(s);return(0,n.useMemo)(()=>{var r;if(!t)throw Error(l);if("loaded"!==t.status||!t.data||!t.api.reactionsApi)return 0;let n=null==(r=t.api.reactionsApi)?void 0:r.getReactions(e);return(null==n?void 0:n.length)||0},[e,t])}function g(e,t){let r=(0,n.useContext)(s);return(0,n.useMemo)(()=>{var n;if(!r)throw Error(l);return"loaded"===r.status&&r.data?{status:"loaded",data:function(e,t){if(!t)return{typed:[],users:[],yours:0,total:0};let r={};return t.sort((e,t)=>e.createdAt.getTime()-t.createdAt.getTime()).reduce((t,n)=>{let[a,o]=(0,i.SC)(n.emoji);t.total++;let l=r[a];if(!l){let e={count:0,selected:!1,users:[],emoji:a,skinTonesToUsers:{}};t.typed.push(e),l=e,r[a]=e}let s={id:n.user.id,handle:n.user.handle,img_url:n.user.imgUrl};return null!==o&&(void 0===l.skinTonesToUsers[o]&&(l.skinTonesToUsers[o]=[]),l.skinTonesToUsers[o].push(s)),l.count++,l.users.push(s),l.selected=l.selected||n.userId===e,t},{typed:[],yours:0,total:0,users:[]})}(t,null==(n=r.api.reactionsApi)?void 0:n.getReactions(e)),errors:r.errors}:(0,a.W_)()},[e,t,r])}function f(){let e=(0,n.useContext)(s);if(!e)throw Error(l);return e.api}function E(){return function(e){if("loaded"!==e.status)return 0;let t=0;for(let r of e.data)if((r.anchored||r.isCanvasMention)&&!r.comments[0].resolved_at)for(let e of r.comments)e.isUnread&&t++;return t}(_())}},704656:(e,t,r)=>{"use strict";r.d(t,{_c:()=>x,ms:()=>U});var n=r(307824),i=r(120304),a=r(250008),o=r(13796),l=r(886420),s=r(733960),c=r(843148),d=r(61836),u=r(506616),p=r(980068),m=r(326660),_=r(710956),h=r(418084),g=r(557044),f=r(678516),E=r(874016),y=r(191352),b=r(553540),v=r(740516),I=r(467380),w=r(570032),T=r(251596),S=r(472956),C=r(560900),A=r(226856),O=r(245684),N=r(476076),L=r(394944);class R{constructor(e){this.client=e}toggleReaction(e,t,r){if("loaded"!==this.client.subscription.status)throw Error("Unable to toggle reactions for unloaded subscription");return this.getReactions(e).find(r=>r.emoji===t&&r.fileCommentId===e&&r.userId===this.client.user.id)?this.removeReaction(e,t):this.addReaction(e,t,r)}async addReaction(e,t,r){let n=g.cp.post(`/api/file/${this.client.fileKey}/comments/${e}/reactions`,{emoji:t,prototype_mode:(null==r?void 0:r.prototype_mode)||!1});return this.client.optimistically(async(r,i,a)=>{let o=new Date,l=`${e}_${t}_${a.id}`;await i.optimisticallyCreate({CommentReaction:{[l]:{id:l,fileCommentId:e,emoji:t,fileKey:r.file.id,userId:a.id,user:{id:a.id,handle:a.handle,imgUrl:a.img_url},createdAt:o,sortTimestamp:o}}},n)}),await n}async removeReaction(e,t){let r=g.cp.del(`/api/file/${this.client.fileKey}/comments/${e}/reactions`,{emoji:t});return this.client.optimistically(async(n,i,a)=>{let o=a.id,l=this.getReactions(e).filter(e=>e.emoji===t&&e.userId===o).map(e=>e.id),s=null==l?void 0:l.reduce((e,t)=>({...e,[t]:null}),Object.create(null));await i.optimisticallyDelete({CommentReaction:s},r)}),await r}getReactions(e){if("loaded"!==this.client.subscription.status)throw Error("Unable to get reaction for unloaded subscription");let t=this.client.subscription.data.file;if(!t)throw Error("Unable to get reaction for unloaded subscription");if("reactions"in t)return t.reactions.filter(t=>t.fileCommentId===e);{let r=t.mobileCommentThread.find(t=>t.id===e);return r?r.reactions:[]}}}function P(e){return e.map(e=>({...e,id:e.id.toString()}))}class M{constructor(e){this.client=e}trackMissingCommentData(e,t,r,n,i,a){let o=!1;L._.records[r.id]={parentId:r.parent_id,report:(t,l)=>{var s;if(!o&&(o=!0,(0,m.CQ)("comments_optimistic_updates","true"),(0,m.CQ)("isLoadedComments",i.isLoadedComments?"true":"false"),(0,m.CQ)("commentType",e),(0,m.WI)(t,l,{id:r.id,fileKey:this.client.fileKey,parentId:r.parent_id,pageId:null==(s=r.client_meta)?void 0:s.page_id,userId:this.client.user.id,clientMeta:r.client_meta,...a}),this.client.livegraphClient)){let e=n(),r=null,i=null,a=null;for(let n of e)if("VIEW_QUERY_NODE.REMOVE_RESULT"===n.type||"STORE.ADD_INSTANCE"===n.type||"STORE.REMOVE_INSTANCE"===n.type||"SESSION.APPLY_MUTATIONS"===n.type||"SESSION.APPLY_SHADOW_MUTATIONS"===n.type||"SESSION.REMOVE_SHADOW_MUTATIONS"===n.type||"REQUEST_MESSAGE"===n.type&&"sync"===n.message.messageType||"RESPONSE_MESSAGE"===n.type&&"synced"===n.message.messageType||"RESPONSE_MESSAGE"===n.type&&"pendingMutations"===n.message.messageType)(0,m.Ij)(t,JSON.stringify(n));else if("VIEW_QUERY_NODE.ADD_RESULT"===n.type||"VIEW_QUERY_NODE.UPDATE_RESULT"===n.type){if(n.type===r&&n.queryId===i&&n.instance===a)continue;(0,m.Ij)(t,JSON.stringify(n)),r=n.type,i=n.queryId,a=n.instance}else"SESSION.NOTIFY_OBSERVERS"===n.type&&n.view._name.includes("Comments")&&(0,m.Ij)(t,JSON.stringify({type:"SESSION.NOTIFY_OBSERVERS",viewName:n.view._name}));(0,m.WI)(t,l)}}},setTimeout(()=>{let i=L._.records[r.id];if(i||n(),delete L._.records[r.id],"loaded"!==this.client.subscription.status)return;let a=this.client.loadedComments.some(e=>e.id===r.id||e.id===t);i&&!a?i.report(`${e} Never Appeared`,"Comment failed to appear within ten seconds of creation"):n()},1e4)}create(e,t){var r,n;let i=(0,d.i)(),{fileKey:l,messageMeta:s,attachments:u,clientMeta:p,pageId:m,uuid:_}=e;(0,a.we)("New comment API create",{uuid:_});let h=(0,c.Ub)().show_at_mention_invited_users?[...new Set((0,o.kz)(s))]:[],f=async e=>{var r;let n=null==(r=e.data)?void 0:r.reason;if(!n||"comment_validation_failure"!==n.reason||!(null==t?void 0:t.onValidationError))throw e;let i=n.failure_info,o=await t.onValidationError(P(i.users_without_view),P(i.ext_users_without_view),P(i.uninvitable_users));return o?((0,a.we)("New comment API handling validation",{uuid:_}),g.cp.post(`/api/file/${l}/comments`,{file_key:l,message_meta:s,attachments:u.map(e=>e.id),client_meta:p,page_id:m,prototype_mode:null==t?void 0:t.prototypeMode,share_to_mentions:o.forceWithInvite,force:o.forceMentions,uuid:_,pending_mentions:h}).catch(f)):null},E=(0,O.k)(this.client.subscription),y=null==(n=null==(r=this.client.subscription.data)?void 0:r.file)?void 0:n.currentUserCommentReadStatus,I=g.cp.post(`/api/file/${l}/comments`,{file_key:l,message_meta:s,attachments:u.map(e=>e.id),client_meta:p,page_id:m,prototype_mode:null==t?void 0:t.prototypeMode,share_to_mentions:null===t.onValidationError,force:null===t.onValidationError,pending_mentions:h,uuid:_,...!y&&{all_read_at:v.d2.allReadAt}});return this.client.optimistically((e,t)=>{let r=this.client.loadedComments.map(e=>e.orderId||0),n=r.length>0?Math.max(...r):0,i=(0,o.mk)(s);t.optimisticallyCreateWithUUID({Comment:{[_]:{uuid:_,key:l,userId:this.client.user.id,parentId:null,orderId:n+1,createdAt:new Date,resolvedAt:null,deletedAt:null,authorMeta:null,clientMeta:{x:p.x,y:p.y,nodeId:p.node_id||null,pageId:p.page_id||null,nodeOffset:p.node_offset||null,inFrame:p.in_frame||null,selectionBoxAnchor:p.selection_box_anchor||null,stablePath:p.stable_path||null},messageMeta:i,messageMetaStylized:i,user:{id:this.client.user.id,handle:this.client.user.handle,imgUrl:this.client.user.img_url},reactions:[],thumbnailUrl:null,isCanvasMention:!1,commentPin:null}}},I);let a=(0,b.wp)(u,l,_);if(a&&t.optimisticallyCreate({CommentAttachment:a},I),!e.file.currentUserCommentReadStatus){let e=new Date;t.optimisticallyCreate({CommentReadStatus:{[`pending-comment-read-status-${e.getTime()}`]:{userId:this.client.user.id,fileKey:this.client.fileKey,createdAt:e,allReadAt:v.d2.allReadAt,readComments:{},unreadComments:{}}}},I)}}),[I.catch(f).then(e=>{if(!e)return null;try{let r=e.data.meta;this.trackMissingCommentData("New Comment",_,r,i,{isLoadedComments:E},t)}catch{}return e}),_]}reply(e,t){let r=(0,d.i)(),{threadId:n,threadUuid:i,messageMeta:l,attachments:s,uuid:c}=e,{fileKey:u}=this.client,p=(0,o.kz)(l),m=g.cp.post(`/api/file/${u}/comments/${e.threadId}`,{file_key:u,uuid:c,message_meta:l,attachments:s.map(e=>e.id),prototype_mode:null==t?void 0:t.prototypeMode,share_to_mentions:t.forceWithInvite||!1,force:t.forceMention||!1,pending_mentions:p}),_=(0,o.mk)(l),h=(0,O.k)(this.client.subscription),{user:f}=this.client;return this.client.optimistically((e,t)=>{i?t.optimisticallyUpdateWithUUID({Comment:{[i]:{uuid:i,resolvedAt:null}}},m):t.optimisticallyUpdate({Comment:{[n]:{resolvedAt:null}}},m),(0,a.we)("Livegraph Optimistic Comment Update",{flow:"reply",isOptimistic:!!i}),t.optimisticallyCreateWithUUID({Comment:{[c]:{uuid:c,key:u,userId:f.id,parentId:n,orderId:null,createdAt:new Date,resolvedAt:null,deletedAt:null,authorMeta:null,clientMeta:null,messageMeta:_,messageMetaStylized:_,user:{id:f.id,handle:f.handle,imgUrl:f.img_url},reactions:[],thumbnailUrl:null,isCanvasMention:!1,commentPin:null}}},m);let r=(0,b.wp)(s,u,c);r&&t.optimisticallyCreate({CommentAttachment:r},m)}),[m.then(e=>{if(!e)return null;let n=e.data.meta;return this.trackMissingCommentData("Reply Comment",c,n,r,{isLoadedComments:h},t),e}),c]}}class k{constructor(e){this.client=e}get commentReceipts(){return this}async markAsUnread(e){var t,r;let n=null==(r=null==(t=this.client.subscription.data)?void 0:t.file)?void 0:r.currentUserCommentReadStatus,i=g.cp.post(`/api/file/${this.client.fileKey}/unread_comments`,{comment_ids:[e],...!n&&{all_read_at:v.d2.allReadAt}});return this.client.optimistically(async(t,r,n)=>{let a=t.file.currentUserCommentReadStatus,o=new Date;if(a){let{[e]:t,...n}=a.readComments;await r.optimisticallyUpdate({CommentReadStatus:{[a.id]:{...a,allReadAt:v.d2.allReadAt,readComments:n,unreadComments:{...a.unreadComments,[e]:"true"}}}},i)}else await r.optimisticallyCreate({CommentReadStatus:{[`pending-comment-read-status-${o.getTime()}`]:{userId:n.id,fileKey:this.client.fileKey,createdAt:o,allReadAt:v.d2.allReadAt,readComments:{},unreadComments:{[e]:"true"}}}},i)}),await i}async markAllAsRead(){var e,t;let r=null==(t=null==(e=this.client.subscription.data)?void 0:e.file)?void 0:t.currentUserCommentReadStatus,n=g.cp.del(`/api/file/${this.client.fileKey}/unread_comments`,{...!r&&{all_read_at:v.d2.allReadAt}});return this.client.optimistically(async(e,t,r)=>{let i=e.file.currentUserCommentReadStatus,a=new Date;i?await t.optimisticallyUpdate({CommentReadStatus:{[i.id]:{...i,allReadAt:a,readComments:{},unreadComments:{}}}},n):await t.optimisticallyCreate({CommentReadStatus:{[`pending-comment-read-status-${a.getTime()}`]:{userId:r.id,fileKey:this.client.fileKey,createdAt:a,allReadAt:a,readComments:{},unreadComments:{}}}},n)}),await n}async markAsRead(e){var t,r;let n=null==(r=null==(t=this.client.subscription.data)?void 0:t.file)?void 0:r.currentUserCommentReadStatus,i=g.cp.del(`/api/file/${this.client.fileKey}/unread_comments`,{comment_ids:e,...!n&&{all_read_at:v.d2.allReadAt}});return this.client.optimistically(async(t,r,n)=>{let a=t.file.currentUserCommentReadStatus,o=new Date,l=e.reduce((e,t)=>({...e,[t]:o.toUTCString()}),{});a?await r.optimisticallyUpdate({CommentReadStatus:{[a.id]:{...a,readComments:{...a.readComments,...l},unreadComments:Object.keys(a.unreadComments).filter(t=>!e.includes(t)).reduce((e,t)=>(e[t]="true",e),{})}}},i):await r.optimisticallyCreate({CommentReadStatus:{[`pending-comment-read-status-${o.getTime()}`]:{userId:n.id,fileKey:this.client.fileKey,createdAt:o,allReadAt:v.d2.allReadAt,readComments:l,unreadComments:{}}}},i)}),await i}}let D=(0,p.ei)(e=>{let t=e=>(e.hasOwnProperty("transform")||Object.defineProperty(e,"transform",{get:function(){return{filter:r=>t(e.filter(r)),map:r=>t(e.map(r)),join:r=>t([...e,...r||[]])}}}),e);return t(e)});function F(e,t,r){let i=n.useMemo(()=>{if("loaded"!==r.status)return new Set([]);let e=r.data.file;return new Set(e?"comments"in e?e.comments.map(e=>e.id):e.resolvedComments.map(e=>e.id):[])},[r]),a=(0,s.i)(i),{removed:o}=n.useMemo(()=>(0,_.a2)(i,a),[i,a]),l=n.useCallback(e,t);n.useEffect(()=>{o.forEach(e=>{l(e)})},[l,o])}function x(e){let t=(0,d.QF)(),r=(0,T.C2)(),{args:i,subscription:a}=e,[o,s]=n.useState(()=>{if(r)return new O.m(i,a,r)});return n.useEffect(()=>{if(!r){s(void 0);return}if(!o||!(0,l.QZ)(o.args,i)){s(new O.m(i,a,r));return}},[o,i,a,r,t]),o&&(r&&(o.user=r),o.subscription=a,o.livegraphClient=t),n.useMemo(()=>o?{commentReceipts:new k(o),reactionsApi:new R(o),writeAPI:new M(o),pinApi:new N.q(o)}:{},[o])}function U(e){let{userId:t,file:r,activeId:a,anchorPositions:o,boundingBoxPositions:l,DEPRECATED_updateWatchedNodeIds:s,updateWatchedStablePaths:d,getPageIdsForNodes:p,children:m}=e,_=n.useRef({}),g="whiteboard"===(0,y.KG)(),b=!!(0,c.Ub)().xr_debounce_threshold,v=null==r?void 0:r.key,T=!!v,O=n.useMemo(()=>({fileKey:v??""}),[v]),N=n.useMemo(()=>(0,h.c)(),[O]),R=(0,u.Qb)(C.O0,O,{enabled:T,traceId:N}),P=(0,u.Qb)(S.cxT,O,{enabled:T}),M=(0,u.Qb)(S.SKs,O,{enabled:b&&T}),k=(0,u.Qb)(S.A$M,O,{enabled:g&&T}),U=(0,i.w1)(e=>e.comments.lgPendingUuidToServerIdMap),B=(0,i.OY)(),G=n.useMemo(()=>{var e;if("loaded"!==R.status||!R.data.file)return R;let t=D(R.data.file.comments).transform.filter(e=>null===e.resolvedAt);if("loaded"===P.status){let r=null==(e=P.data.file)?void 0:e.resolvedComments;t=t.transform.join(r)}let r={...R.data.file,comments:t};return{...R,data:{...R.data,file:r}}},[R,P]);n.useMemo(()=>{var e,t,r;"loaded"===G.status&&(null==(r=null==(t=null==(e=G.data)?void 0:e.file)?void 0:t.comments)||r.forEach(e=>{e.id in U?(_.current[e.id]=e,e.id=U[e.id]):e.uuid&&e.uuid in U&&_.current[e.uuid]&&_.current[e.uuid]!==e&&(B((0,f.Yj)({commentUuid:e.uuid})),delete _.current[e.uuid])}))},[B,G,U]);let V=(0,i.w1)(e=>e.mirror.appModel.pagesList),{commentsAttachedToNodes:H,commentThreadNodeIds:W,commentThreadStablePaths:K}=n.useMemo(()=>{if("loaded"!==G.status||!G.data.file)return{commentThreadsNodeIds:[],commentsAttachedToNodes:[]};let e=[],t=new Set,r=new Set;return G.data.file.comments.forEach(n=>{var i,a;if(null===n.parentId){let o=null==(i=n.clientMeta)?void 0:i.nodeId,l=null==(a=n.clientMeta)?void 0:a.stablePath;l&&d?(e.push(n),r.add(`[${l.join(",")}]`)):o&&s&&(e.push(n),t.add(o))}}),{commentsAttachedToNodes:e,commentThreadNodeIds:t,commentThreadStablePaths:r}},[G,s,d]),Y=n.useMemo(()=>{var e;if("loaded"!==G.status||!G.data.file||b&&!(null==(e=M.data)?void 0:e.file))return[];let t=new Set(W);return b&&(0,w.i)(M.data.file.feedPosts).forEach(e=>{t.add(e)}),Array.from(t)},[G,M,b,W]),q=n.useMemo(()=>"loaded"===G.status&&G.data.file?Array.from(new Set(K)):[],[G,K]);n.useEffect(()=>{s&&s(Y),d&&d(q)},[s,Y,d,q]);let j=(0,I.aK)(t,G,a,o,p,V),$=(0,I.C8)(t,k,e.activeId),Z=(0,I.eG)(M,e.activeId,p,l),z=n.useMemo(()=>{if("loaded"!==G.status||b&&"loaded"!==M.status||g&&"loaded"!==k.status)return(0,u.uU)([]);let e=[];return j.data&&(e=e.concat(j.data)),$.data&&(e=e.concat($.data)),Z.data&&(e=e.concat(Z.data)),(0,u.uU)(e)},[G.status,b,M.status,g,k.status,j.data,$.data,Z.data]),Q=x({args:O,subscription:G}),X=(0,A.e)({args:O,subscription:M});Q.canvasMentionReceipts=(0,E.iS)({canvasMentionArgs:O,canvasMentionSubscription:k}),(0,I.GO)(H,{enabled:!!(0,c.Ub)().comments_absolute_positioning}),F(e=>{var t,r;null==(r=null==(t=L._.records[e])?void 0:t.report)||r.call(t,"New Comment Missing","Comment disappeared within ten seconds of creation")},[],R),F(e=>{var t,r;null==(r=null==(t=L._.records[e])?void 0:t.report)||r.call(t,"New Resolved Comment Missing","Resolved comment disappeared within ten seconds of creation")},[],P);let J=n.useMemo(()=>T?{...G,api:Q,feedApi:X,threads:z,isUnresolvedLoaded:"loaded"===R.status,isResolvedLoaded:"loaded"===P.status}:{status:"loading",data:null,errors:null,threads:(0,u.W_)(),api:{},isUnresolvedLoaded:!1,isResolvedLoaded:!1},[T,G,Q,X,z,R.status,P.status]);return n.createElement(C.mS.Provider,{value:J},m)}},825016:(e,t,r)=>{"use strict";let n,i,a,o,l,s,c,d,u,p,m,_,h;r.d(t,{Az:()=>q,E7:()=>b,IH:()=>T,Kg:()=>G,Mf:()=>x,Oo:()=>A,QR:()=>V,S6:()=>D,Se:()=>W,YD:()=>Y,_C:()=>F,_K:()=>U,ak:()=>H,aq:()=>S,cJ:()=>k,eG:()=>I,k9:()=>v,m8:()=>L,sd:()=>P,st:()=>K,uA:()=>B,uu:()=>y,y_:()=>R});var g=r(698580),f=r(408288),E=r(514916),y=((n=y||{}).USERS="users",n.TEAMS="teams",n.ORGS="orgs",n.PLUGINS="plugins",n.WIDGETS="widgets",n.HUB_FILES="hub_files",n.PROFILES="profiles",n.CATEGORIES="community_categories",n),b=((i=b||{}).HUB_FILE_DUPLICATED="Hub File Duplicated",i.PLUGIN_INSTALLED="Hub Plugin Installed",i.PLUGIN_UNINSTALLED="Hub Plugin Uninstalled",i.WIDGET_INSTALLED="Hub Widget Installed",i.WIDGET_UNINSTALLED="Hub Widget Uninstalled",i),v=((a=v||{}).PLUGIN_INSTALL="community_hub_plugin_install",a.PLUGIN_UNINSTALL="community_hub_plugin_uninstall",a.PROFILE_FOLLOW="community_hub_follow",a.PROFILE_UNFOLLOW="community_hub_unfollow",a.HUB_FILE_LIKE="community_hub_file_like",a.HUB_FILE_UNLIKE="community_hub_file_unlike",a.PLUGIN_LIKE="community_plugin_like",a.PLUGIN_UNLIKE="community_plugin_unlike",a.WIDGET_LIKE="community_widget_like",a.WIDGET_UNLIKE="community_widget_unlike",a.SHARE_TWITTER="community_hub_share_twitter",a.LANDING_PAGE_TO_CURATED_PAGE_BUTTON="landing_page_to_curated_page_button",a.SHARE_FACEBOOK="community_hub_share_facebook",a.SHARE_LINK="community_hub_share_link",a.CREATE_PROFILE="community_hub_create_profile",a.COMMUNITY_OPT_IN="community_hub_opt_in",a.UPDATE_PROFILE_HANDLE="community_hub_update_handle",a.PLUGIN_INSTALL_CONFIRMATION_MODAL_SHOWN="community_hub_plugin_install_warning_shown",a.PLUGIN_INSTALL_CONFIRMATION_MODAL_CANCEL="community_hub_plugin_install_warning_cancel",a.SEE_MORE_IN_COMMUNITY="see_more_in_community",a.FIND_MORE_PLUGINS="find_more_plugins",a),I=((o=I||{}).PROFILE_ADMIN_MENU_OPEN="Community browse menu opened",o),w=((l=w||{}).FIGJAM="figjam",l),T=((s=T||{}).PLUGINS="plugins",s.FILES="files",s.CREATORS="creators",s.FIGJAM_PLUGINS="figjam_plugins",s.FIGMA_DESIGN_PLUGINS="figma_design_plugins",s.WIDGETS="widgets",s.FIGJAM_WIDGETS="figjam_widgets",s.FIGMA_DESIGN_WIDGETS="figma_design_widgets",s);function S(e){switch(e){case"figjam_plugins":case"figjam_widgets":return E.aE.WHITEBOARD;case"figma_design_plugins":case"figma_design_widgets":return E.aE.DESIGN;default:return(0,f.C)()}}var C=((c=C||{}).HAS_RESTORED="has_restored",c.RESTORE_SMOOTH="restore_smooth",c.RESTORE="restore",c),A=((d=A||{}).POPULAR="popular",d.CREATED_AT="created_at",d.FOLLOWING_FEED="feed",d.INSTALLS_DESC="installs",d.RUNS_DESC="runs",d.LAST_UPDATED_DESC="updated_at",d.INSTALLS_ASC="installs_asc",d.RUNS_ASC="runs_asc",d.LAST_UPDATED_ASC="updated_at_asc",d),O=((u=O||{}).CREATED_AT="created_at",u.FOLLOWING_FEED="feed",u),N=((p=N||{}).DESC="desc",p.ASC="asc",p),L=((m=L||{}).by_creator="by_creator",m.by_tags="by_tags",m.ml_model_v0="ml_model_v0",m);function R(e){return g.object({types:g.array(g.nativeEnum(L)),content:g.array(e)})}function P(e){switch(e){case"installs_asc":return{sort:"installs",order:"asc"};case"installs":return{sort:"installs",order:"desc"};case"runs_asc":return{sort:"runs",order:"asc"};case"runs":return{sort:"runs",order:"desc"};case"updated_at_asc":return{sort:"last_updated",order:"asc"};case"updated_at":return{sort:"last_updated",order:"desc"};default:return{sort:e,order:"desc"}}}let M={resourceIds:{},unmergedResourceIds:[],loading:!1};({...M});var k=((_=k||{}).NAME="name",_.PUBLISHER="publisher",_.INSTALLS="installs",_.RUNS="runs",_.CREATED_AT="created_at",_.LAST_UPDATED="last_updated",_),D=((h=D||{}).FREE_HUB_FILE_LICENSE="https://creativecommons.org/licenses/by/4.0/",h.FREE_PLUGIN_LICENSE="https://www.figma.com/community-resource-license/",h.FREE_RESOURCE_LICENSE="https://www.figma.com/community-free-resource-license/",h.PAID_RESOURCE_LICENSE="https://www.figma.com/community-paid-resource-license/",h);let F=906,x=769,U=645,B="checkout",G="freemium_preview",V="1",H=25,W=60,K=640,Y=300,q=["a","span","sub","sup","p","b","i","pre","code","em","strike","strong","h1","h2","h3","ul","ol","li","hr","br"]},273436:(e,t,r)=>{"use strict";let n;r.d(t,{Ce:()=>C,KQ:()=>b,O_:()=>h,Q9:()=>p,Yn:()=>f,ae:()=>I,cP:()=>g,cf:()=>m,es:()=>v,kX:()=>T,qE:()=>y,s5:()=>w,sH:()=>d,wh:()=>_});var i=r(916924),a=r(398024),o=r(783808),l=r(772763),s=r(829688);let c=[{deviceName:"Slide 16:9",framePresetSize:{x:1920,y:1080}},{deviceName:"Slide 4:3",framePresetSize:{x:1024,y:768}}],d=Object.create(null);for(let e of[o.e,l.u,s.E,a.I])for(let t of e)d[t.presetIdentifier]=t;function u(e,t){let r=new Set,n=[];for(let i of e)r.has(i.deviceName)||(r.add(i.deviceName),i.archived?t.push(i.deviceName):n.push(i.deviceName));return n}let p=[],m=u(o.e,p),_=u(l.u,p),h=u(s.E,p),g=u(a.I,p),f=Object.create(null);for(let e in d){let t=d[e],r=t.deviceName;r in f||(f[r]=[]),f[r].push(t)}let E=(e,t)=>{for(let r of[o.e,l.u,s.E,a.I])for(let n of r)if(n.framePresetSize.x===e&&n.framePresetSize.y===t)return n;return null};function y(e,t){if("NONE"===e||"PRESENTATION"===e)return!1;if("CUSTOM"===e)return!0;if("PRESET"===e&&null!=t){let e=d[t];if(null!=e){let t=-1!==h.indexOf(e.deviceName),r=-1!==g.indexOf(e.deviceName);return!t&&!r}}return!1}var b=((n=b||{})[n.UNKNOWN=0]="UNKNOWN",n[n.PHONE=1]="PHONE",n[n.TABLET=2]="TABLET",n[n.WATCH=3]="WATCH",n[n.DESKTOP=4]="DESKTOP",n);function v(e){let t=d[e];if(null==t)return 0;let r=t.deviceName;return -1!==m.indexOf(r)?1:-1!==_.indexOf(r)?2:-1!==h.indexOf(r)?3:-1!==g.indexOf(r)?4:0}function I(e,t){for(let r of c)if(r.framePresetSize.x===e&&r.framePresetSize.y===t)return{type:"PRESENTATION",presetIdentifier:"",portraitDeviceSize:{x:0,y:0},rotation:"NONE"};let r=E(e,t);return null!=r?{type:"PRESET",presetIdentifier:r.presetIdentifier,portraitDeviceSize:r.framePresetSize,rotation:"NONE"}:null!=(r=E(t,e))&&y("PRESET",r.presetIdentifier)?{type:"PRESET",presetIdentifier:r.presetIdentifier,portraitDeviceSize:r.framePresetSize,rotation:"CCW_90"}:null}function w(e){let t=v(e||"");return 4!==t&&0!==t}let T=e=>!!function(e){let t=d[e];return(null==t?void 0:t.inlinePreviewInfo)||null}(e),S=e=>{new Image().src=e};function C(e){if(!e)return;let t=d[e];(0,i.Up)(null==t?void 0:t.inlinePreviewInfo,"inline preview device info should not be null if we're preloading the device image. (presetDeviceSupportsInlinePreview == true)"),S(t.url),S(t.inlinePreviewInfo.hitTargetSvgUrl)}},456420:(e,t,r)=>{"use strict";r.d(t,{GS:()=>s,Ij:()=>l,M7:()=>c,uE:()=>d});var n=r(560072);let i=[{name:"iPhone 14 & 15 Pro Max",width:430,height:932,i18nName:()=>(0,n.t)("presets.i_phone_14_and_15_pro_max")},{name:"iPhone 14 & 15 Pro",width:393,height:852,i18nName:()=>(0,n.t)("presets.i_phone_14_and_15_pro")},{name:"iPhone 13 & 14",width:390,height:844,i18nName:()=>(0,n.t)("presets.i_phone_13_and_14")},{name:"iPhone 14 Plus",width:428,height:926,i18nName:()=>(0,n.t)("presets.i_phone_14_plus")},{name:"iPhone 13 mini",width:375,height:812,i18nName:()=>(0,n.t)("presets.i_phone_13_mini")},{name:"iPhone SE",width:320,height:568,i18nName:()=>(0,n.t)("presets.i_phone_se")},{name:"iPhone 8 Plus",width:414,height:736,i18nName:()=>(0,n.t)("presets.i_phone_8_plus")},{name:"iPhone 8",width:375,height:667,i18nName:()=>(0,n.t)("presets.i_phone_8")},{name:"Android Small",width:360,height:640,i18nName:()=>(0,n.t)("presets.android_small")},{name:"Android Large",width:360,height:800,i18nName:()=>(0,n.t)("presets.android_large")}],a=[{name:"MacBook Air",width:1280,height:832,i18nName:()=>(0,n.t)("presets.mac_book_air_m2")},{name:'MacBook Pro 14"',width:1512,height:982,i18nName:()=>(0,n.t)("presets.mac_book_pro_14")},{name:'MacBook Pro 16"',width:1728,height:1117,i18nName:()=>(0,n.t)("presets.mac_book_pro_16")},{name:"Desktop",width:1440,height:1024,i18nName:()=>(0,n.t)("presets.desktop")},{name:"Wireframe",width:1440,height:1024,i18nName:()=>(0,n.t)("community.categories.wireframe")},{name:"TV",width:1280,height:720,i18nName:()=>(0,n.t)("presets.tv")}],o=[{name:"Slide 16:9",width:1920,height:1080,i18nName:()=>(0,n.t)("presets.slide_16_9")},{name:"Slide 4:3",width:1024,height:768,i18nName:()=>(0,n.t)("presets.slide_4_3")}],l={phonePresets:i,tabletPresets:[{name:"Surface Pro 8",width:1440,height:960,i18nName:()=>(0,n.t)("presets.surface_pro_8")},{name:"iPad mini 8.3",width:744,height:1133,i18nName:()=>(0,n.t)("presets.i_pad_mini_8_3")},{name:'iPad Pro 11"',width:834,height:1194,i18nName:()=>(0,n.t)("presets.i_pad_pro_11")},{name:'iPad Pro 12.9"',width:1024,height:1366,i18nName:()=>(0,n.t)("presets.i_pad_pro_12_9")}],desktopPresets:a,presentationPresets:o,watchPresets:[{name:"Apple Watch 41mm",width:176,height:215,i18nName:()=>(0,n.t)("presets.apple_watch_41_mm")},{name:"Apple Watch 45mm",width:198,height:242,i18nName:()=>(0,n.t)("presets.apple_watch_45_mm")},{name:"Apple Watch 44mm",width:184,height:224,i18nName:()=>(0,n.t)("presets.apple_watch_44_mm")},{name:"Apple Watch 40mm",width:162,height:197,i18nName:()=>(0,n.t)("presets.apple_watch_40_mm")}],paperPresets:[{name:"A4",width:595,height:842,i18nName:()=>(0,n.t)("presets.a_4")},{name:"A5",width:420,height:595,i18nName:()=>(0,n.t)("presets.a_5")},{name:"A6",width:297,height:420,i18nName:()=>(0,n.t)("presets.a_6")},{name:"Letter",width:612,height:792,i18nName:()=>(0,n.t)("presets.letter")},{name:"Tabloid",width:792,height:1224,i18nName:()=>(0,n.t)("presets.tabloid")}],socialMediaPresets:[{name:"Twitter post",width:1200,height:675,i18nName:()=>(0,n.t)("presets.twitter_post")},{name:"Twitter header",width:1500,height:500,i18nName:()=>(0,n.t)("presets.twitter_header")},{name:"Facebook post",width:1200,height:630,i18nName:()=>(0,n.t)("presets.facebook_post")},{name:"Facebook cover",width:820,height:312,i18nName:()=>(0,n.t)("presets.facebook_cover")},{name:"Instagram post",width:1080,height:1080,i18nName:()=>(0,n.t)("presets.instagram_post")},{name:"Instagram story",width:1080,height:1920,i18nName:()=>(0,n.t)("presets.instagram_story")},{name:"Dribbble shot",width:400,height:300,i18nName:()=>(0,n.t)("presets.dribbble_shot")},{name:"Dribbble shot HD",width:800,height:600,i18nName:()=>(0,n.t)("presets.dribbble_shot_hd")},{name:"LinkedIn cover",width:1584,height:396,i18nName:()=>(0,n.t)("presets.linked_in_cover")}],figmaPresets:[{name:"Plugin icon",width:128,height:128,i18nName:()=>(0,n.t)("presets.plugin_icon")},{name:"Profile banner",width:1680,height:240,i18nName:()=>(0,n.t)("presets.profile_banner")},{name:"Plugin / file cover",width:1920,height:1080,i18nName:()=>(0,n.t)("presets.plugin_file_cover")}],archivedPresets:[{name:"iPhone 13 Pro Max",width:428,height:926,i18nName:()=>(0,n.t)("presets.i_phone_13_pro_max")},{name:"iPhone 13 / 13 Pro",width:390,height:844,i18nName:()=>(0,n.t)("presets.i_phone_13_13_pro")},{name:"iPhone 11 Pro Max",width:414,height:896,i18nName:()=>(0,n.t)("presets.i_phone_11_pro_max")},{name:"iPhone 11 Pro / X",width:375,height:812,i18nName:()=>(0,n.t)("presets.i_phone_11_pro_x")},{name:"Google Pixel 2",width:411,height:731,i18nName:()=>(0,n.t)("presets.google_pixel_2")},{name:"Google Pixel 2 XL",width:411,height:823,i18nName:()=>(0,n.t)("presets.google_pixel_2_xl")},{name:"iPad mini 5",width:768,height:1024,i18nName:()=>(0,n.t)("presets.i_pad_mini_5")},{name:"Surface Pro 4",width:1368,height:912,i18nName:()=>(0,n.t)("presets.surface_pro_4")},{name:"MacBook",width:1152,height:700,i18nName:()=>(0,n.t)("presets.mac_book")},{name:"MacBook Pro",width:1440,height:900,i18nName:()=>(0,n.t)("presets.mac_book_pro")},{name:"Surface Book",width:1500,height:1e3,i18nName:()=>(0,n.t)("presets.surface_book")},{name:"Apple Watch 42mm",width:156,height:195,i18nName:()=>(0,n.t)("presets.apple_watch_42_mm")},{name:"Apple Watch 38mm",width:136,height:170,i18nName:()=>(0,n.t)("presets.apple_watch_38_mm")},{name:"iMac",width:1280,height:720,i18nName:()=>(0,n.t)("presets.i_mac")},{name:"Macintosh 128k",width:512,height:342,i18nName:()=>(0,n.t)("presets.mac_128k")}]},s=u(Object.values(l)),c=u([i,a,o]);function d(e){let t=null;for(let r of Object.values(s)){if(e.width===r.width&&e.height===r.height)return r;e.width===r.height&&e.height===r.width&&(t=r)}return t}function u(e){return e.reduce((e,t)=>{for(let r of t)e[r.name]=r;return e},{})}},753432:(e,t,r)=>{"use strict";r.d(t,{C2:()=>y,CA:()=>g,Cs:()=>v,EP:()=>E,Ez:()=>_,KU:()=>f,Ke:()=>b,OC:()=>x,Oe:()=>m,Ou:()=>k,U3:()=>R,UT:()=>M,Uh:()=>o,Uz:()=>c,WW:()=>a,YL:()=>l,YV:()=>u,Yd:()=>d,ak:()=>P,cn:()=>i,cp:()=>n,e6:()=>L,eC:()=>S,eS:()=>T,es:()=>C,iC:()=>h,k7:()=>s,mL:()=>U,mY:()=>w,op:()=>F,ox:()=>B,qK:()=>A,uA:()=>O,uK:()=>p,uk:()=>D,wt:()=>N,y4:()=>I});let n="js-fullscreen-prevent-event-capture",i="js-fullscreen-wheel-event-passthrough",a="js-fullscreen-wheel-event-capture",o="js-fullscreen-no-mod-wheel-event-capture",l=2147483647,s="background-panel-color-picker",c="prototype-background-panel-color-picker",d="type-settings",u="style-preview-type-settings",p="font-picker",m="export-picker",_="scroll-behavior-modal",h="selection-paint-item",g="selection-style-item",f="stacking-advanced-sizing",E="prototype-interaction-settings",y="accessible-reading-order",b="DROPDOWN_TYPE_SELECT_LAYER_CONTEXT_MENU",v="DROPDOWN_TYPE_OBJECTS_PANEL_CONTEXT_MENU",I="DROPDOWN_TYPE_SELECTION_CONTEXT_MENU",w="DROPDOWN_TYPE_CANVAS_CONTEXT_MENU",T="DROPDOWN_TYPE_PAGE_CONTEXT_MENU",S="DROPDOWN_TYPE_SAVEPOINT_CONTEXT_MENU",C="DROPDOWN_TYPE_DEV_HANDOFF_CODE_CONTEXT_MENU",A="DROPDOWN_TYPE_DEV_HANDOFF_LAYER_CONTEXT_MENU",O="DROPDOWN_TYPE_PLUGIN_RUN_CONTEXT_MENU",N="DROPDOWN_TYPE_TEXT_EDIT_MODE_CONTEXT_MENU",L="DROPDOWN_TYPE_RULER_GUIDE_CONTEXT_MENU",R="DROPDOWN_TYPE_COMMENT_CONTEXT_MENU",P="DROPDOWN_TYPE_READY_STATUS_CONTEXT_MENU",M="DROPDOWN_TYPE_ANNOTATIONS_BUTTON_CONTEXT_MENU",k="DROPDOWN_TYPE_THREAD_COMMENT_OVERFLOW_MENU",D="DROPDOWN_TYPE_SECTION_PRESET_PICKER_CONTEXT_MENU",F="DROPDOWN_TYPE_COMMENT_ATTACHMENT_CONTEXT_MENU",x="DROPDOWN_TYPE_SLIDE_CAROUSEL_CONTEXT_MENU",U="DROPDOWN_TYPE_WAND_MENU",B="DROPDOWN_TYPE_WEBPAGE_CONTEXT_MENU"},751956:(e,t,r)=>{"use strict";let n,i,a;r.d(t,{Cu:()=>P,E5:()=>N,EZ:()=>O,Ex:()=>H,GU:()=>M,Il:()=>k,MF:()=>y,OO:()=>C,OU:()=>b,Yb:()=>W,Yd:()=>T,_G:()=>R,a8:()=>Y,aw:()=>$,cd:()=>j,eG:()=>E,i8:()=>V,iK:()=>K,mG:()=>D,mM:()=>x,mc:()=>S,nz:()=>v,q:()=>A,rD:()=>I,s1:()=>B,sD:()=>L,um:()=>F,wJ:()=>U,yG:()=>q,yQ:()=>G});var o=r(307824),l=r(161400),s=r(656716),c=r(843148),d=r(888932),u=r(810756),p=r(572748),m=r(514916),_=r(815464),h=r(644516),g=r(546772);function f({showExpAtMentionInvite:e,isDraftFile:t,isFigmaDesign:r,inOrg:n,isMobile:i}){return!(t||i||!e||!r||n)}async function E(e){return!!f(e)&&"variant"===(await (0,u.OE)("exp_at_mention_invited_users")).get("treatment","")}function y(){let{getConfig:e}=(0,u.M9)("exp_at_mention_invited_users");return(0,o.useCallback)(t=>!!f(t)&&"variant"===e().get("treatment",""),[e])}function b(e={}){let{signupSource:t,isEduVerified:r,isJamboardSignup:n}=e;return!r&&t!==m.aE.WHITEBOARD&&!n&&!!(0,c.Ub)().nux_dynamic_preview}function v(e){return e!==m.aE.WHITEBOARD&&!!(0,c.Ub)().exp_required_signal_collection}function I({userId:e,teams:t,rolesByTeamId:r,getM0Config:n,getM1Config:i}){if(!(0,c.Ub)().close_starter_team_loophole)return!1;let a=w(e,t,r);return 0!==a&&(1===a?n().get("should_block_second_starter_team",!1):i().get("should_block_more_than_one_starter_team",!1))}function w(e,t,r){let n=0,i={};for(let a of(t.forEach(e=>i[e.id]=e),Object.keys(r))){let t=i[a],o=r[a][e];t&&o&&o.level===g.m.OWNER&&t.starter_team&&!t.org_team&&!t.student_team&&null===t.subscription&&null===t.deleted_at&&n++}return n}function T(e,t,r){return!!(0,c.Ub)().close_starter_team_loophole&&0===w(e,t,r)&&(0,c.Ub)().close_starter_loophole_team_one}function S(e,t){return!!e&&(!(0,c.Ub)().ps_benchmark||!t)}function C(){let{getConfig:e}=(0,u.M9)("exp_mobile_web_nux_v2");return(0,o.useCallback)(t=>{let r=new URLSearchParams(s.default.location.search),n=t.startsWith("/education/apply"),i=t.startsWith("/proto")||s.default.location.href.includes("/proto/"),a=!!r.get("with_community_header"),o=!!r.get("app_auth_id")||t.startsWith("/app_auth");return![!(0,c.Ub)().exp_mobile_web_nux_ff,!(0,d.kP)(),n,i,a,o].some(e=>e)&&"variant"===e().getValue("treatment","")},[e])}function A(){return!!((0,c.Ub)().exp_mobile_web_nux_ff&&(0,d.kP)())}function O(){let{getConfig:e}=(0,u.M9)("exp_mobile_web_signal_nux");return(0,o.useCallback)(()=>!!(0,d.Cw)()&&"variant"===e().getValue("treatment",""),[e])}function N(){return!!(0,u.Iv)("exp_adv_prototyping_upsell").getValue("showUpsell",!1)}function L(){return!!(0,u.Iv)("exp_pro_tier_onboarding").getValue("show_pro_onboarding",!1)}function R(e){return!!e().get("hide_checkbox",!1)}function P(){let{getConfig:e}=(0,u.M9)("exp_pro_viewer_to_editor_v1");return(0,o.useCallback)(()=>e().get("show_viewer_editor_nudge",!1),[e])}function M(){let{getConfig:e}=(0,u.M9)("exp_org_viewer_to_editor_v1");return(0,o.useCallback)(()=>e().get("show_viewer_editor_nudge",!1),[e])}function k(e){return e().get("switch_button_hierarchy",!1)}function D(){let{getConfig:e}=(0,u.M9)("exp_plugins_in_onboarding");return!(0,p.Ce)()&&"variant"===e().getValue("treatment","control")}function F(e,t){return!!t.subscription&&!t.org_team&&e().get("hide_toolbar_request_cta",!1)}function x(e){return!!(0,c.m_)().org_id&&e().get("hide_toolbar_request_cta",!1)}function U(){var e;if(!l.x)return!1;let t=null==(e=l.x.getState().user)?void 0:e.created_at;return!t||new Date(t)>=new Date("2024-02-06")}function B(){let{getConfig:e}=(0,u.M9)("exp_edu_offboarding_bootcamps");return(0,o.useCallback)(()=>!!(0,c.Ub)().edu_offboarding_bootcamps&&e().get("has_edu_offboarding_bootcamps",!1),[e])}var G=((n=G||{}).CONTROL="control",n.TREATMENT_WITHOUT_PLUGIN="without_plugin",n.TREATMENT_WITH_PLUGIN="with_plugin",n);function V(){let{getConfig:e}=(0,u.M9)("exp_lightweight_imports_plugin");return(0,o.useCallback)(({isStarterUser:t,treatment:r,locale:n})=>!!((0,c.Ub)().is_html_to_design_exp_enabled&&t&&n.startsWith("en"))&&e().getValue("treatment","control")===r,[e])}var H=((i=H||{}).CONTROL="control",i.VARIANT_A="variantA",i.VARIANT_B="variantB",i);function W(){let{getConfig:e}=(0,u.M9)("exp_fbg_navigation_updates"),t=(0,h.dh)(),r=t&&(0,c.Ub)().ps_benchmark,n=t&&!(0,_.So)(t);return r&&n?e().getValue("treatment","control"):"control"}function K(e,t){let{getConfig:r}=(0,u.M9)("exp_plan_comparison_updates_v1");return!e&&!t&&!!r().getValue("show_full_feature_set",!1)}function Y(e,t,r){return!t&&!r&&e().get("show_full_screen_modal",!1)}var q=((a=q||{}).CONTROL="control",a.DYNAMIC_NUX="dynamic_nux",a.SIGNAL_NUX="signal_nux",a);function j(){let{getConfig:e}=(0,u.M9)("exp_gen1_nux_polish");return(0,d.kP)()?"control":e().getValue("treatment","control")}function $(){let{getConfig:e}=(0,u.M9)("exp_org_checkout_seat_management");return!!e().getValue("isVariant",!1)}},997108:(e,t,r)=>{"use strict";let n,i;r.d(t,{A5:()=>w,E$:()=>W,EF:()=>k,Ep:()=>C,G$:()=>I,G4:()=>y,GO:()=>L,KM:()=>M,MN:()=>S,O4:()=>v,Q9:()=>G,Se:()=>N,Sm:()=>U,U7:()=>V,W_:()=>B,_J:()=>P,cR:()=>H,cZ:()=>O,eM:()=>x,hq:()=>f,iC:()=>D,oH:()=>R,qU:()=>F,ug:()=>K,wl:()=>b,ye:()=>E});var a=r(796488),o=r(161400),l=r(843148),s=r(623131),c=r(372152),d=r(810756),u=r(67364),p=r(251596),m=r(919364),_=r(514916),h=r(740080),g=r(492084);let f=e=>(0,u.O)("exp_simple_sharing_v2",e.id).defaultValue(!1).treatment("variant",!0).get();function E(e){return e&&T(e)}function y(e){return!0}function b(e){return!e.bigma_enabled}function v(e,t){return(0,u.O)("exp_invite_teammates_copy_v2",e).defaultValue(!1).treatment("variant_title",!t).treatment("variant_title_and_button",!0).get()}function I(e){return!!e&&(0,u.O)("exp_google_one_tap_v2",e).defaultValue(!1).treatment("variant",!0).get()}function w({userId:e,currentOrgId:t,tracked:r=!0}){if(!t&&e){let t=(0,u.O)("exp_google_contacts_import_v1",e).defaultValue(!1).treatment("variant",!0);return r||(t=t.disableTracking()),t.get()}return!1}let T=(0,g.m)(e=>(0,u.O)("exp_growth_h123_holdout_user",e).defaultValue(!1).treatment("not_in_holdout",!0).treatment("ignore",!0).get());function S(){return(0,l.Ub)().figjam_mini_home_v0}function C(e){return(0,l.Ub)().figjam_mini_home_v0}var A=((n=A||{}).CONTROL="control",n.THUMBNAIL="thumbnail",n.CONTENTS_AND_THUMBNAIL="contents_and_thumbnail",n.MORE_STARTER_FILES="more_starter_files",n);function O(){let{getConfig:e}=(0,d.M9)("exp_figjam_starter_files"),t=(0,p.C2)();return t&&((0,l.Ub)().starter_files_assume_new_users||new Date(t.created_at)>=new Date("2024-03-04"))?e().getValue("variant","control"):"control"}function N(e){return!!e&&(0,u.O)("exp_figjam_specific_onboarding",e).defaultValue(!1).treatment("control",!1).treatment("variant_1",!0).treatment("variant_2",!0).get()}function L(e){return!!e&&(0,u.O)("exp_figjam_specific_onboarding",e).defaultValue(!1).treatment("control",!1).treatment("variant_1",!1).treatment("variant_2",!0).get()}function R(e){return!!e&&T(e)}function P(){let e=(0,m.e)("has_tooltips_plus_onboarding_file_no_nav"),t=(0,m.e)("has_tooltips_plus_onboarding_file_with_nav");return M({has_tooltips_plus_onboarding_file_no_nav:e,has_tooltips_plus_onboarding_file_with_nav:t,has_cursor_bot_onboarding:(0,m.e)("has_cursor_bot_onboarding"),has_cursor_bot_onboarding_v2:(0,m.e)("has_cursor_bot_onboarding_v2"),has_tooltips_plus_no_basics_file:(0,m.e)("has_tooltips_plus_no_basics_file")})}function M(e){return!!e.has_tooltips_plus_onboarding_file_no_nav||!!e.has_tooltips_plus_onboarding_file_with_nav||!!e.has_cursor_bot_onboarding||!!e.has_tooltips_plus_no_basics_file||!!e.has_cursor_bot_onboarding_v2}function k(e){return e&&T(e)&&(0,u.O)("exp_pro_trials_v3",e).defaultValue(!1).treatment("variant",!0).get()}function D(e){var t;if(!e||!(0,l.Ub)().exp_figjam_onboarding_make_tmpl)return!1;if(o.x){let r=null==(t=o.x.getState().userFlags.figjam_editor_onboarded)?void 0:t.createdAt;return!!(!r||new Date(r)>new Date("2023-01-30T15:00:00.000Z"))&&(0,u.O)("exp_figjam_onboarding_make_tmpl",e).defaultValue(!1).treatment("variant",!0).get()}return!1}function F(e){return(0,u.O)("exp_fj_participant_onboarding",e).defaultValue(!1).treatment("variant",!0).get()}function x(e){return null!=e&&!!e.bigma_enabled&&(0,u.O)("exp_ws_public_link_controls",{type:h.eC.ORG,id:e.id}).defaultValue(!1).treatment("variant",!0).get()}function U(){return!!(0,l.Ub)().rollout_pinned_comments_ff}function B({user:e,file:t,numPinnedCommentThreads:r}={}){return!!U()&&!!e&&!!t&&t.editorType===_.aE.DESIGN&&(!!r&&r>0||!!((0,l.K)()&&(0,a._E)(e.email))||!!t.team&&!t.parentOrgId)}function G(){let{getConfig:e}=(0,d.M9)("rollout_pinned_comments_ff");return e().getValue("can_pin_comments",!1)}function V(){let{getConfig:e}=(0,d.M9)("google_federated_cm_rollout");return e().getValue("fed_cm_enabled",!1)}(0,g.w)(e=>(0,u.O)("exp_figjam_fb_templates_by_role",e).defaultValue(!1).treatment("variant",!0).get());var H=((i=H||{}).DEFAULT="default",i.PZ_THEN_PRODUCT="pz_then_product",i.PRODUCT_THEN_PZ="product_then_pz",i);let W=(0,s.Zf)(null);function K(){return"default"!==(0,c.m4)(W)}},369592:(e,t,r)=>{"use strict";let n;r.d(t,{Gi:()=>N,Id:()=>T,WS:()=>w,eg:()=>v,wx:()=>S});var i=r(307824),a=r(250008),o=r(916924),l=r(796488),s=r(161400),c=r(843148),d=r(888932),u=r(901676),p=r(558192),m=r(201788),_=r(265308),h=r(492084),g=r(740080),f=r(389328),E=r(532220);let y=(0,h.m)((e,t)=>e.type===t.type&&(e.type===g.eC.USER||t.type===g.eC.USER||e.id===t.id)),b=(e,t,r,n,i)=>{let a=s.x;(0,c.K)()&&(a?Promise.resolve().then(()=>{a.dispatch(m.K({event:{experimentId:e,treatmentId:t,seed:r,isWinner:n,fromOverride:!1}}))}):console.error(`The experiment ${e} is being called before the store is initialized. This is likely the result of calling the experiment() function in a constant definition, and will result in overexposure.`))},v=new class{constructor(e){this.trackedSeedsByExperiment={},this.trackExperimentSeedForSession=(e,t,r)=>{let n=this.trackedSeedsByExperiment[e]||[];n.findIndex(e=>(function(e,t){return"object"==typeof e&&"object"==typeof t?y(e,t):"object"!=typeof e&&"object"!=typeof t&&e===t})(e,r))>-1||(this.reportingHandler(e,t,r),n.push(r),this.trackedSeedsByExperiment[e]=n)},this.resetTrackedSeedsForSession=()=>{this.trackedSeedsByExperiment={}},this.reportingHandler=e}}((e,t,r)=>{let n=(0,f.gn)(),i=n&&n[e],o=c.jl(e),l=!!(null==o?void 0:o.winner),s="set_experiment_treatment";if(i||l)(0,f.sp)(e,t),b(e,t,r,!1,!0);else{if("object"==typeof r){let n=c.m_().user_data;(0,a.we)(s,{experimentId:e,treatmentId:t,seedResourceType:r.type,seedResourceId:r.type===g.eC.USER?null==n?void 0:n.id:r.id})}else(0,a.we)(s,{experimentId:e,treatmentId:t,seed:r.toString()});b(e,t,r,l,!1)}});class I{constructor(e,t,r,n){this.treatmentToValue=new Map,this.trackingEnabled=!0,this.mobileEnabled=!1,this.requireSeedProp=!1,this.reportOnce=(e,t)=>{t&&null!=e&&this.trackingEnabled&&this.report(this.experimentId,t,e)},this.experimentId=e,this.defaultValue=t,this.report=r,this.seed=n}}class w{constructor(e,t,r,n){this.state=new I(e,t,r,n)}enableMobile(){return this.state.mobileEnabled=!0,this}treatment(e,t){return this.state.treatmentToValue.set(e,t),this}disableTracking(){return this.state.trackingEnabled=!1,this}requireSeedProp(){return this.state.requireSeedProp=!0,this}build(){let e=this.state.reportOnce,t=this.state.experimentId,r=this.state.defaultValue,n=this.state.seed,a=this.state.treatmentToValue,o=this.state.mobileEnabled,l=this.state.requireSeedProp;return class extends i.Component{experimentSeed(){if(l&&!this.props.experimentSeed)throw Error(`Experiment seed is a required prop for experiment builder with experimentId: ${t}`);return this.props.experimentSeed||n}treatment(){return C(t,this.experimentSeed(),o)}componentDidMount(){e(this.experimentSeed(),this.treatment())}render(){let e=r,t=this.treatment();if(t){let r=a.get(t);r&&(e=r)}return i.createElement(e,{...this.props})}}}}class T{constructor(e,t,r,n){this.state=new I(e,t,r,n)}enableMobile(){return this.state.mobileEnabled=!0,this}treatment(e,t){return this.state.treatmentToValue.set(e,t),this}disableTracking(){return this.state.trackingEnabled=!1,this}get(){let e=C(this.state.experimentId,this.state.seed,this.state.mobileEnabled);return e&&(this.state.reportOnce(this.state.seed,e),this.state.treatmentToValue.has(e))?this.state.treatmentToValue.get(e):this.state.defaultValue}}function S({undefinedIfKnownDomain:e=!1}={}){let t=c.m_().user_data,r=null==t?void 0:t.email;if(r){let n=(0,l.iD)(r);if((0,l.qI)(r))return e?void 0:null==t?void 0:t.experiment_seed;if(n)return function(e){let t=e.toUpperCase().match(/[A-Z0-9]+/g),r=null==t?void 0:t.join("").match(/.{1,5}/g);if(r)return r.map(e=>parseInt(e,36)).reduce((e,t)=>e^t)}(n)}}function C(e,t=N(),r=!1){let n=(0,f.gn)();if(n&&n[e])return n[e];if(!c.Ub()[e]||!r&&(0,d.Cw)())return;if(null==t)return N();let i=c.jl(e);if(i){if(i.winner)return i.winner;if("object"==typeof t)return function(e,t){var r,n,i,a;let l;let c=s.x;if(!c)return;let d=c.getState();switch(e.type){case g.eC.USER:l=null==(r=d.user)?void 0:r.experiment_assignments;break;case g.eC.TEAM:l=null==(n=d.teams[e.id])?void 0:n.experiment_assignments;break;case g.eC.ORG:l=null==(i=d.orgById[e.id])?void 0:i.experiment_assignments;break;default:(0,o.gy)(e)}return null==(a=null==l?void 0:l.find(e=>e.experiment_id===t))?void 0:a.treatment_id}(t,e);switch(i.randomization_method){case _.w.MD5:return A(i,(0,E.c)(e,t));case _.w.MD5_BAD:if(void 0===(t=O(t)))return;return A(i,(0,E.c)(e,t));case _.w.LCG:let r=O(t);if(void 0===r)return;return r>1e8&&(r=Math.floor(r/1e5)),A(i,(0,E.i)(e,r));default:return}}}let A=(e,t)=>{if(e.assignment_weights){let r=Object.values(e.assignment_weights).reduce((e,t)=>e+t,0),n=0,i=t%r;for(let t of e.treatment_names){let r=n+e.assignment_weights[t];if(i<r)return t;n=r}}return e.treatment_names[t%e.treatment_names.length]},O=e=>{let t="string"==typeof e?parseInt(e,10):e;if(!isNaN(t))return t};function N(){var e;let t=function(){let e=c.m_().user_data;if(e)return e.experiment_seed}();if(t)return t;let r=(0,u.UV)(),i=encodeURIComponent("experiment_seed"),a=(0,c.g8)()?(0,p.a)("functional"):!!r;if(a&&!n)try{let t=null==(e=r.get(i))?void 0:e.toString();if(t)return t}catch(e){console.error("Failed to read local experiment seed.",e);return}if(n||(n=Math.floor(1e6*Math.random()).toString()),a)try{r.set(i,n)}catch(e){console.error("Failed to write local experiment seed",e)}return n}window.localSeed=N},233272:(e,t,r)=>{"use strict";r.d(t,{M3:()=>u,kf:()=>d,od:()=>p});var n=r(307824),i=r(120304),a=r(838836),o=r(810756),l=r(392992),s=r(795236);function c(){let e=(0,i.w1)(e=>(0,s.Om)(e)),t=(0,l.AL)();return{currentOrg:e,currentTeam:(null==t?void 0:t.team)??null,currentFile:t}}function d(){let{currentOrg:e,currentTeam:t,currentFile:r}=c(),i=(0,o.M9)("exp_aa_test_teamid_fullscreen_menu");(0,n.useEffect)(()=>{!e&&t&&r&&"design"===r.editorType&&i.getConfig()},[e,t,r,i])}function u({file:e}){let{currentOrg:t,currentTeam:r}=c();(0,n.useEffect)(()=>{if(t||!r||(null==e?void 0:e.editor_type)!=="design")return},[t,r,e])}function p(){(0,o.OE)("exp_aa_test_teamid_branching_upsell").catch(a.Kw)}},441388:(e,t,r)=>{"use strict";r.d(t,{Ix:()=>E,OC:()=>b,U1:()=>w,UV:()=>v,Y$:()=>m,_0:()=>y,e:()=>I,kH:()=>_,ol:()=>g,qu:()=>h,wB:()=>f});var n=r(307824),i=r(120304),a=r(250008),o=r(326660),l=r(778524),s=r(560072),c=r(993608),d=r(90340);let u=null;function p(){u=null}let m=n.createContext({properties:{},trackEvent:()=>null});function _({name:e,properties:t={},trackingTargets:r=c.I.ALL,enabled:s=!0,ignoreParent:p=!1,children:_}){let{name:h,properties:g}=(0,n.useContext)(m),f=(0,n.useRef)({}),E=(0,n.useRef)(null);f.current&&(0,i.G)(f.current,t)||(f.current=t),t=f.current;let y=(0,n.useMemo)(()=>{let r=h&&!p?`${h} > ${e}`:e,n={...g,...t};return{name:r,properties:n,trackEvent:(e,t)=>(0,a.we)(e,{trackingContext:r,...n,...t})}},[e,t,h,g,p]);return(0,n.useEffect)(()=>{if(!s||r===c.I.NONE)return;let e=y.name,t=y.properties;if(E.current&&E.current.name===e&&(0,i.G)(E.current.properties,t))return;if(r===c.I.RCS){let r={};for(let e of Object.keys(t))null!==t[e]&&void 0!==t[e]&&(r[e]=t[e]);(0,l.Y9)({id:e,properties:r});return}let n={name:e,...null!=u&&{ctaClickedReferrer:u},...t};(0,o.gN)("Context Viewed",e,n),(0,d.U$)(n),E.current=y},[r,y,s]),n.createElement(m.Provider,{value:y},_)}function h(e,t){var r;return(r=class extends n.PureComponent{render(){return n.createElement(_,{name:t||e.displayName},n.createElement(e,{...this.props}))}}).displayName=e.displayName,r}function g(e,t,r={},i=!0){return n.createElement(_,{name:t,properties:r,enabled:i},e)}function f(e,t){let r=n.forwardRef((r,i)=>n.createElement(m.Consumer,null,a=>{let o=e=>{var i;let o={...a.properties,...r.trackingProperties};a.name&&(o.trackingContext=a.name);let l=function(e,t){if(t)return t;if(e&&"string"==typeof e)return e;{let t=n.Children.map(e,e=>{if((null==e?void 0:e.type)!==s.Tx)return e;{let{id:t,...r}=e.props;return(0,s.t)(t,r)}});if(null==t?void 0:t.every(e=>"string"==typeof e))return t.join("")}}(r.children,r.innerText);l&&(o.text=l),(0,d.a2)(o,r.trackingEventName,t),u=`${o.trackingContext} : ${o.text}`,null==(i=r.onClick)||i.call(r,e),setTimeout(p,150)},{trackingProperties:l,innerText:c,useMouseDown:m,trackingEventName:_,...h}=r;return r.children||r.innerText,n.createElement(e,{ref:i,...h,...r.useMouseDown?{onMouseDown:o}:{onClick:o}})}));return r.displayName=`Tracked(${e.displayName||e.name})`,r}let E=f(({dataTestId:e,...t})=>n.createElement("button",{...t,"data-testid":e}));function y(e){return class extends n.Component{render(){return n.createElement(m.Consumer,null,t=>{let{trackingProperties:r,trackingPopulationLevel:i,trackingFieldName:a,...o}=this.props;return n.createElement(e,{...o,onBlur:e=>{let r={...t.properties,...this.props.trackingProperties,fieldName:this.props.trackingFieldName,populationLevel:this.props.trackingPopulationLevel};t.name&&(r.trackingContext=t.name),(0,d.yA)(r),this.props.onBlur&&this.props.onBlur(e)}})})}}}let b=f(e=>n.createElement("button",{...e})),v=f(e=>n.createElement("div",{...e})),I=f(e=>n.createElement("a",{...e},e.children),!0);function w(){return(0,n.useContext)(m)}f(e=>n.createElement("input",{...e}))},92176:(e,t,r)=>{"use strict";let n,i,a,o,l,s,c,d,u,p,m,_,h;r(127716);let g=performance.now();r(84344);var f,E,y,b,v,I,w=r(307824),T=r(200404),S=r(754532),C=r(841780),A=r(698228),O=r(656716),N=r(843148),L=r(617292),R=r(326660),P=r(58908),M=r(234284),k=r(617319),D=r(250008),F=r(736020),x=r(418084),U=r(514916),B=r(650180),G=r(892124),V=r(69548),H=r(309812),W=r(212076),K=r(69040),Y=r(306440),q=r(795368),j=r(685656),$=r(120304),Z=r(372152),z=r(550444),Q=r(82660),X=r(125504),J=r.n(X),ee=r(51408),et=r(633008),er=r(148276),en=r(250016),ei=r(26708),ea=r(644092),eo=r(251596),el=r(416044),es=r(945032),ec=r(768711),ed=r(146852),eu=r(331924),ep=r(290296);let em=document.documentElement.style,e_=w.memo(function(e){let t,r;let n=(0,$.w1)(e=>{let t=e.mirror.selectionProperties.backgroundColor;return!!t&&(0,ee.q0)(t)}),i=(0,$.w1)(e=>{if("fullscreen"===e.selectedView.view&&"whiteboard"===e.selectedView.editorType)return;let t=e.mirror.selectionProperties.backgroundColor;return ei.Q.format(t)}),a=(0,ea.aQ)(),o=(0,el.Cd)(),l=w.useRef(null),{width:s}=(0,et.m)(l)||{EMPTY_SIZE:et.V},c=o<(s||0)+32?a:0;return w.useEffect(()=>{em.setProperty("--cookie-banner-persistent-message-bottom-margin",`${c}px`)},[c]),w.useEffect(()=>()=>{em.setProperty("--cookie-banner-persistent-message-bottom-margin","0px")},[]),"implicit"===e.consentRegion?(t=ec.oR,r=ec.MY):"explicit"===e.consentRegion&&(t=(0,es.wl)(),r=(0,es.OI)()),w.createElement("div",{role:"region","aria-label":t,style:{backgroundColor:i},className:J()(eu.W2,n?eu.oD:eu.wv),ref:l},w.createElement(er.wv,{rel:"noopener",target:"_blank",href:r},t))}),eh=w.memo(function(){let e=(0,$.w1)(e=>e.mirror.appModel.isInitialized),t=(0,eo.sX)();return e&&!t&&(0,N.Ub)().cookie_banners_file_viewer?"implicit"===(0,N.cp)().consent_region?w.createElement(ec.yA,{variant:ed.W.FILE_VIEWER,dismissIcon:ep.c,verticalPadding:32,SecondaryButton:e=>w.createElement(en.q,{variant:"secondary",...e}),persistentMessage:w.createElement(e_,{consentRegion:"implicit"})}):"explicit"===(0,N.cp)().consent_region?w.createElement(es.ct,{variant:ed.W.FILE_VIEWER,dismissIcon:ep.c,verticalPadding:32,PrimaryButton:e=>w.createElement(en.q,{variant:"primary",...e}),SecondaryButton:e=>w.createElement(en.q,{variant:"secondary",...e}),persistentMessage:w.createElement(e_,{consentRegion:"explicit"})}):null:null});var eg=r(90060),ef=r(7192),eE=r(995144),ey=r(417184);r(379676);var eb=r(762820),ev=r(84656);function eI(){document.body.removeAttribute("data-fpl-debug")}var ew=r(566676),eT=r(471332),eS=r(13468),eC=r(597036),eA=r(78343),eO=r(678544),eN=r(427074),eL=r(862348);r(871356);var eR=r(537096),eP=r(822328);class eM extends w.Component{render(){let e="whiteboard"===this.props.pageType,t="";switch(this.props.pageType){case"whiteboard":t="interstitial_page--whiteboardBackground--vCkUI";break;case"prototype":t="interstitial_page--prototypeBackground--WAYsr";break;case"design":t="interstitial_page--designBackground--2YNuc";break;case"external":t="interstitial_page--externalBackground--0J4ed"}return this.props.renderSimplifiedView&&(t="interstitial_page--simplifiedBackground--HPGkI"),w.createElement("div",{className:`interstitial_page--page--jxBjZ ${t}`},w.createElement("div",{className:`interstitial_page--navbar--4DoBt ${e&&"interstitial_page--navbarWhiteboardBackground--af-hd"}`},w.createElement("div",{className:`interstitial_page--logo--s9Fkg ${!this.props.staticLogo&&"interstitial_page--logoLink--IwtO9"} ${!e&&"interstitial_page--logoWhiteFill--nemQY"}`},this.props.staticLogo&&w.createElement(eR.A,{svg:eP.c,autosize:!0}),!this.props.staticLogo&&w.createElement("a",{href:"/"},w.createElement(eR.A,{svg:eP.c,autosize:!0})))),this.props.children,this.props.footer&&w.createElement("div",{className:"interstitial_page--footer--IGCrV"},this.props.footer))}}eM.defaultProps={title:"Figma"};var ek=r(560072),eD=r(475136),eF=r(379524);function ex(){let e,t,r,n;let i=(0,Y.c$)();if(!(0,ey.oz)(i))return null;let{redirectUrl:a,interstitialType:o}=i;return o===eD.qU.ONBOARDING&&(e=w.createElement(ek.Tx,{id:"community.seller.setup_complete"}),t=w.createElement(ek.Tx,{id:"community.seller.head_back_to_figma_to_start_selling"}),r=eF.c,n="community_monetization_desktop_interstitial--stripeToFigmaLogo--819Zk"),w.createElement(eM,{pageType:"external"},w.createElement(eL.e,{useOriginalSrcFills:!0,imageSrc:r,imageClassName:n,headerText:e,secondaryText:t},w.createElement(er.cv,{onClick:()=>{(0,eN.w5)(a)},className:"community_monetization_desktop_interstitial--button--Eq1kl"},w.createElement(ek.Tx,{id:"community.buyer.return_to_desktop_app"}))))}var eU=r(557044),eB=r(505142),eG=r(967540),eV=r(403132),eH=r(355064),eW=r(696240);function eK(){let e=(0,eW.Ed)(),t=(0,$.OY)(),r=(0,eH.iE)("locale"),n=(0,eH.iE)("hub_file_id");return(0,w.useEffect)(()=>{eU.cp.post("/api/try/figjam",{hub_file_id:n,locale:r}).then(r=>{e()&&(t(eV.Ej({view:"fullscreen",fileKey:r.data.meta.file_key,editorType:"whiteboard"})),r.data.meta.missing_hub_file&&t(eG.M.error((0,ek.t)("figjam_try.template_creation_failed"))))}).catch(e=>{console.error(e),t(eG.M.error((0,ek.t)("figjam_try.failed_to_create_file"))),setTimeout(()=>window.history.go(-1),2e3)})},[t,e,n,r]),w.createElement(eB.K,{loaded:!1,loadingElementId:"loading-content-pane"})}var eY=r(9256),eq=r(722976),ej=r(819584),e$=r(484212),eZ=r(365224),ez=r(643260),eQ=r(838836),eX=r(102184),eJ=r(765064),e0=r(686736),e1=r(266772),e2=r(383620),e4=r(585508),e3=r(220180),e6=r(823824),e8=r(162860);r(508716);var e5=r(750480),e7=((n=e7||{})[n.ForwardDeclarations=0]="ForwardDeclarations",n[n.Declarations=1]="Declarations",n[n.Inlined=2]="Inlined",n[n.Implementations=3]="Implementations",n),e9=r(560148),te=r(327184),tt=r(419168),tr=r(916924);r(50451);var tn=r(516848),ti=r(462704),ta=r(594192),to=r(905412),tl=r(301828),ts=r(168204);class tc{constructor(e){this.chunk=e}guid(){var e;return null==(e=this.chunk.displayNode)?void 0:e.guid}}var td=r(851712),tu=r(448587),tp=r(136056),tm=r(885700),t_=r(467372);let th=new Set(["backgroundPaints"]);(0,tr.GE)(th);var tg=r(160335);function tf(e,t){return(0,tp.y4)({label:e,list:t.stack??[],buildChild:(e,t)=>({label:e,value:{type:tg.e6.EditScope,value:t},children:[],expandByDefault:!1}),expandByDefault:!0})}class tE extends tm.D{constructor({nodeChanges:e,blobs:t,diffChunks:r,...n}){super(n),this.searchDB=new tl.m,this.diffChunksByDisplayGuid={},this.nodes=e.map(e=>new ty(e,this)),this.blobs=t,this.searchDB.indexNodes(this.nodes),this.rootNodes="multiplayer_journal"===this.type?this.nodes:this.nodes.filter(e=>{let t=e.parentGuid();return null==t||null==this.getNode(t)}),r&&r.forEach(e=>{var t;if(null==(t=e.displayNode)?void 0:t.guid){let t=(0,td._y)(e.displayNode.guid);this.diffChunksByDisplayGuid[t]=new tc(e)}}),"multiplayer_journal"===this.type&&(this._shouldShowNodePhases=!0,this._shouldShowNodeTypes=this.nodes.some(e=>null!=e.nodeChange.type))}getRootNodes(){return this.rootNodes}getNode(e){return this.searchNodes({guid:(0,td._y)(e)})[0]}getChildren(e){return this.searchNodes({parentGuid:(0,td._y)(e)})}getStyle(e){return this.searchNodes({type:"style",styleId:e})[0]}getVariable(e){return this.searchNodes({type:"variable",variableId:e})[0]}getVariableCollection(e){return this.searchNodes({type:"variable_collection",variableCollectionId:e})[0]}getPrimaryInstances(e){return this.searchNodes({type:"instance",backingSymbolId:(0,td._y)(e)})}getStyleConsumers(e){return this.searchNodes({consumedStyleIds:e})}getVariablesInCollection(e){return this.searchNodes({type:"variable",variableCollectionId:e})}getVariableConsumers(e){return this.searchNodes({consumedVariableIds:e})}getChunkByDisplayGuid(e){return this.diffChunksByDisplayGuid[(0,td._y)(e)]}getBlobByIndex(e){return this.blobs[e]??null}search(e,t){return Promise.resolve(this.searchDB.search(e,t))}searchNodes(e){let t=Object.entries(e).map(([e,t])=>`${e}=${t}`).join(" ");return this.searchDB.searchTokens((0,ts.a)(t,"")).map(e=>e.node)}indexedProperties(){return this.searchDB.indexedProperties}}class ty extends tu.e{primaryInstances(){return this._scene.getPrimaryInstances(this.guid())}consumedStyleIds(){var e,t,r,n;let i=[];function a(e){for(let t of t_.FU){let r=e[t];r&&i.push(to.sV.fromLocalNodeIdObj(r))}for(let t of t_.It){let r=e[t];if(r){let e=to.sV.fromKiwi(r);e&&i.push(e)}}}for(let t of(a(this.nodeChange),(null==(e=this.nodeChange.symbolData)?void 0:e.symbolOverrides)??[]))a(t);for(let e of(null==(t=this.nodeChange.textData)?void 0:t.styleOverrideTable)??[])a(e);for(let e of(null==(r=this.nodeChange.vectorData)?void 0:r.styleOverrideTable)??[])a(e);for(let e of(null==(n=this.nodeChange.nodeGenerationData)?void 0:n.overrides)??[])a(e);return i}consumedStyles(){return this.consumedStyleIds().map(e=>this._scene.getStyle(e)).filter(ta.aI)}consumedVariableIds(){var e,t,r,n,i;let a=new Set;function o(e){if(!e)return;let t=to.Qb.fromKiwi(e);t&&a.add(t)}for(let e of th)!function(e){var t,r;for(let n of e??[])o(null==(r=null==(t=n.colorVar)?void 0:t.value)?void 0:r.alias)}(this.nodeChange[e]);for(let a of(null==(e=this.nodeChange.variableConsumptionMap)?void 0:e.entries)??[])o(null==(r=null==(t=a.variableData)?void 0:t.value)?void 0:r.alias),(null==(i=null==(n=a.variableData)?void 0:n.value)?void 0:i.expressionValue)&&function e(t){var r,n;for(let i of t.expressionArguments??[])o(null==(r=i.value)?void 0:r.alias),(null==(n=i.value)?void 0:n.expressionValue)&&e(i.value.expressionValue)}(a.variableData.value.expressionValue);return[...a.values()]}consumedVariables(){return this.consumedVariableIds().map(e=>this._scene.getVariable(e)).filter(ta.aI)}isPrimaryInstance(){return this.isInstance()}isNestedInstance(){return!1}generateComputedProperties(){let e=[(0,tp.u_)(this.type())],t=(0,tp.aG)(this);if(t&&e.push(t),this.isPrimaryInstance()){let t=(0,tp.cd)(this);t&&e.push(t)}if(this.isInstance()&&e.push({label:"Instance Info",children:[(0,tp.iS)(this),(0,tp.wp)(this)].filter(ta.aI),expandByDefault:!0}),this.isSymbol()&&e.push((0,tp.y4)({label:"Primary Instances",list:this.primaryInstances(),buildChild:tp.Sy,expandByDefault:!1})),this.isStyle()&&e.push((0,tp.iW)(this.styleConsumers())),this.isVariable()){let t=this._scene.getVariableCollection(this.variableCollectionId());e.push((0,tp.Gy)(t)),e.push((0,tp.UF)(this.variableConsumers()))}let r=this.consumedStyles();r.length>0&&e.push((0,tp.Ut)(r));let n=this.consumedVariables();n.length>0&&e.push((0,tp.OW)(n)),this.isVariableCollection()&&e.push((0,tp.Bi)(this.variablesInCollection()));let i=this.variablesDirectlyDependedOnByThisVariable();Object.values(i).some(e=>e.length>0)&&e.push((0,tp._z)(i));let a=this.otherAssetVersions();a.length>0&&e.push((0,tp.qy)(a));let o=this._scene.getChunkByDisplayGuid(this.guid());if(o&&e.push((0,tp.es)(o)),this.nodeChange.editScopeInfo){let{snapshots:t,editScopeStacks:r}=this.nodeChange.editScopeInfo;t&&e.push((0,tp.y4)({label:"Edit Scope Snapshots",list:t,buildChild:(e,t,r)=>(0,tp.y4)({label:e,value:{type:tg.e6.Metadata,value:`Frame ${r+1}`},list:t.frames??[],buildChild:tf,expandByDefault:!0}),expandByDefault:!1})),r&&e.push((0,tp.y4)({label:"Edit Scope Snapshots (Legacy)",list:r,buildChild:tf,expandByDefault:!1}))}return e}}let tb=[ti.IT,ti.IK,ti.ID];function tv(e){let t=String.fromCharCode(...e.subarray(0,8));if(!tb.includes(t))throw Error("Unsupported file type");return t}function tI(e){for(let t of e)t.overriddenSymbolID&&delete t.overriddenSymbolID}function tw(e){let t=window;void 0===t.blobCounts&&(t.blobCounts=[]),e&&t.blobCounts.push(e.length)}async function tT(e){try{let t=te.inflateRaw(e);return console.log("Checkpoint is Zlib compressed"),t}catch{let t=new tt.m;return await t.init(),console.log("Checkpoint is Zstd compressed"),t.decode(e)}}async function tS(e){let t=await (0,tn._)();if((0,ti.ot)(e)){let r=new t.ZipReader(new t.Uint8ArrayReader(e));for(let e of(await r.getEntries()))if("canvas.fig"===e.filename&&e.getData)return e.getData(new t.Uint8ArrayWriter)}return e}async function tC(e){let t=new DataView(e.buffer),r=12,n=t.getUint32(r,!0);if((r+=4)+n>e.length)throw Error("Invalid schema length "+n);let i=e.subarray(r,r+n);r+=n;let a=t.getUint32(r,!0);if((r+=4)+a>e.length)throw Error("Invalid message length "+a);let o=e.subarray(r,r+a),l=await tT(i),s=e9.Y(l);return{schema:e5.o(s),encodedMessage:await tT(o)}}async function tA(e,t,r){t=await tS(t);let{schema:n,encodedMessage:i}=await tC(t),{nodeChanges:a,blobs:o=[]}=n.decodeMessage(i);if(!a)throw Error("File did not have node changes");return tI(a),tw(o),new tE({resource:e,sensitiveTextPolicy:r,nodeChanges:a,blobs:o})}async function tO(e,t,r){t=await tS(t);let{schema:n,encodedMessage:i}=await tC(t),{nodeChanges:a,diffBasis:o,diffChunks:l,blobs:s=[]}=n.decodeDiffPayload(i);if(!a)throw Error(".figd file buffer did not have node changes");if(!o)throw Error(".fig file buffer did not have diff basis");if(!l)throw Error(".fig file buffer did not have diff chunks");tI(a),tI(o),tw(s);let c=a.map((e,t)=>({...o[t],...e})),d=new tE({resource:e,sensitiveTextPolicy:r,nodeChanges:o,blobs:s,diffChunks:l});return[new tE({resource:e,sensitiveTextPolicy:r,nodeChanges:c,blobs:s,diffChunks:l}),d]}async function tN(e,t,r){if(null==e.encodedKiwiSchemaUrl)throw Error("Missing encoded kiwi schema query param");let n=null;{let r=atob(e.encodedKiwiSchemaUrl),i=await fetch(r,{headers:{"Cache-Control":"no-cache"}}),a=await i.blob(),o=await a.arrayBuffer(),l=e9.Y(new Uint8Array(o));n=e5.o(l).decodeMessage(t)}let{nodeChanges:i,blobs:a=[]}=n;if(!i)throw Error("File did not have node changes");return tI(i),tw(a),new tE({resource:e,sensitiveTextPolicy:r,nodeChanges:i,blobs:a})}async function tL(e,t,r){return(0,e6.o5)(e)?[await tA(e,t,r)]:(0,e6.A5)(e)?tO(e,t,r):"multiplayer_journal"===e.type?[await tN(e,t,r)]:void(0,tr.gy)(e)}var tR=r(941480),tP=r(85280);async function tM(e){var t,r,n;let i=await (0,eU.Gg)(e),a=atob(decodeURIComponent((null==(n=null==(r=null==(t=null==i?void 0:i.data)?void 0:t.meta)?void 0:r.metadata)?void 0:n.figmascope_hash)||"")),o=await fetch(a,{headers:{"Cache-Control":"no-cache"}}),l=await o.blob(),s=new FileReader;return new Promise((e,t)=>{s.addEventListener("loadend",r=>{s.result instanceof ArrayBuffer?e(new Uint8Array(s.result)):t(Error("bad file result type"))}),s.readAsArrayBuffer(l)})}async function tk(e){if(!e.endSequenceNumber)throw Error("Expected end_sequence_number to be present in URL params");let{entry:t}=(await (0,eU.Gg)(`/api/admin/multiplayer_journal/${e.fileKey}/${e.endSequenceNumber}`)).data.meta;return new Uint8Array(function(e){let t=atob(e),r=t.length,n=new Uint8Array(r);for(let e=0;e<r;e++)n[e]=t.charCodeAt(e);return n.buffer}(t))}function tD(e){switch(e.type){case"server_file":return tM(`/api/admin/files/${e.key}`);case"server_checkpoint":return tM(`/api/admin/checkpoints/${e.key}`);case"server_checkpoint_diff":return tM(`/api/admin/checkpoint_diffs/${e.key}`);case"multiplayer_journal":return tk(e);default:(0,tr.gy)(e)}}var tF=r(473128),tx=r(433416),tU=r(454968),tB=r(988348);function tG(){let e=(0,Y.c$)(),t=(0,$.OY)(),r=w.useCallback(e=>{t(eV.Ej({view:"figmascope",resource:{type:"server_file",key:e,backend:"kiwi"}}))},[t]),n=w.useCallback(()=>{t(eV.Ej({view:"figmascope",resource:null}))},[t]),i=(0,e1.gp)(),[a,o]=w.useState(null);(0,e0.C)("legacy"===i?"light":i,a,e);let l=(0,tB.o)(e),s=(0,ej.ac)(l?e.resource:null);if(!l)return null;let c=null;return c=s?(0,e6.MV)(s)?w.createElement(tH,{resource:s,onClose:n}):w.createElement(tV,{resource:s,onClose:n}):w.createElement(tW,{navigateToFile:r}),w.createElement("div",{ref:o,style:eJ.sx.overflowHidden.m0.colorBg.colorText.add({height:"100vh"}).$},c)}function tV({resource:e,onClose:t}){return tK((0,e$.Y)(async()=>{let t=await tD(e);return tL(e,t,"hide")},[e])),w.createElement(tU.Y,{onClose:t})}function tH({resource:e,onClose:t}){let r=(0,e$.Y)(async()=>{let t=await tD(e);await e4.CA.loadAndStartFullscreenIfNecessary(),eb.i46.loadFigFileFromBuffer(t,eb.a_v.PREVIEW)},[e]),n=function(){let[e,t]=w.useState(e4.CA.isReady());return w.useEffect(()=>{e4.CA.isReady()||e4.CA.onReady().then(()=>{t(!0)})},[]),e}(),i=(0,eZ.my)(tP.uO);return w.useEffect(()=>{r.status===ez.D.FAILURE?i((0,eY.a8)(r.error)):n&&r.status===ez.D.SUCCESS?i((0,eY.Ix)(new e8.w({resource:e,sensitiveTextPolicy:"hide",inPrototypeViewer:!1}))):i((0,eY.c$)())},[e,n,r,i]),w.createElement(tU.Y,{onClose:t})}function tW({navigateToFile:e}){let[t,r]=w.useState({status:ez.D.INIT}),n=w.useCallback(()=>r({status:ez.D.INIT}),[]);tK(t);let i=t.status===ez.D.INIT||t.status===ez.D.FAILURE,a=w.useCallback(e=>!!i&&new e2.oJ(e).isFile(),[i]),o=w.useCallback(async e=>{if(i){r({status:ez.D.LOADING});try{let t=Array.from(e.files),n=await Promise.all(t.map(async e=>{let t=await new Promise((t,r)=>{let n=new FileReader;n.addEventListener("loadend",e=>{n.result instanceof ArrayBuffer?t(new Uint8Array(n.result)):r(Error("bad file result type"))}),n.readAsArrayBuffer(e)});t=await tS(t);let r=tv(t)===ti.ID?{type:"local_diff_file",name:e.name}:{type:"local_file",name:e.name};return tL(r,t,"show")}));r({status:ez.D.SUCCESS,value:n.flat()})}catch(e){r({status:ez.D.FAILURE,error:e})}}},[i]);w.useEffect(()=>{if(!i)return;let t=async t=>{var n,i,a;r({status:ez.D.LOADING});try{if(null==(n=t.clipboardData)?void 0:n.files.length)await o(t.clipboardData);else if(null==(i=t.clipboardData)?void 0:i.getData("text/html")){let e=(0,e3.eI)(t.clipboardData);if(!e)throw Error("Unable to parse clipboard data");if(e=await tS(e),tv(e)===ti.ID)throw Error("Unexpected figd data in clipboard");let n=await tL({type:"pasted_data"},e,"show");r({status:ez.D.SUCCESS,value:n})}else if(null==(a=t.clipboardData)?void 0:a.getData("text/plain")){let r=t.clipboardData.getData("text/plain");try{let t=new URL(r),n=eq.m.exec(t.pathname);if(!n)throw Error("Unable to parse URL");e(n[1])}catch(e){throw Error("Unable to parse RL")}}}catch(e){r({status:ez.D.FAILURE,error:e})}};return document.addEventListener("paste",t),()=>document.removeEventListener("paste",t)},[i,o,e]);let l=w.useMemo(()=>w.createElement(tx.C6,null,w.createElement("h1",{style:eJ.sx.font24.fontBold.mb16.$},"Welcome to FigmaScope!"),w.createElement("p",null,"This tool lets you inspect the internals of Fig files. Check out the Readme"," ",w.createElement("a",{href:tF.a,target:"_blank"},"here"),"."),w.createElement("h2",{style:eJ.sx.font20.fontBold.mt32.mb16.$},"Getting started"),w.createElement("p",null,"Drag a .fig or .figd file here to view its contents. Or drag two files to diff them."),w.createElement("p",null,"Copy a selection from a Figma file and paste it here to view it."),w.createElement("p",null,"Copy a file key or URL and paste it here to view it."),w.createElement("h2",{style:eJ.sx.font20.fontBold.mt32.mb16.$},"Other ways to access FigmaScope"),w.createElement("p",null,'Use the "Show in FigmaScope" menu option in the editor to open an embedded version of FigmaScope.'),w.createElement("p",null,'Click the "Open in FigmaScope" links from the admin pages for a file, diff, or checkpoint.')),[]);return w.createElement(eX.g,{isDragTarget:a,onTargetDrop:o,onTargetDragEnter:eQ.Kw,onTargetDragLeave:eQ.Kw,style:eJ.sx.hFull.$},w.createElement(tU.Y,{onClose:n,emptyStateContent:l}))}function tK(e){let t=(0,eZ.my)(tP.uO),r=(0,eZ.my)(tR.Ep);w.useEffect(()=>{if(e.status!==ez.D.SUCCESS){t(e),r(null);return}let n=e.value;if(0===n.length){t((0,eY.a8)("No scenes were fetched. This is probably a bug - please report in #figmascope.")),r(null);return}if(n.length>2){t((0,eY.a8)("FigmaScope can only support one or two scenes at a time.")),r(null);return}let[i,a]=n;t((0,eY.Ix)(i)),r(a)},[e,t,r])}var tY=r(135164),tq=r(514324),tj=r(812448),t$=r(828008),tZ=r(101492),tz=r(960032),tQ=r(423420);let tX=tz.c.createLazyComponent(()=>Promise.all([r.e(7493),r.e(8332),r.e(7900),r.e(9508),r.e(2240),r.e(6352),r.e(1708),r.e(8980),r.e(1884),r.e(6005),r.e(2809),r.e(1064),r.e(9866),r.e(5268),r.e(7528),r.e(2056),r.e(5672),r.e(4032)]).then(r.bind(r,574504)).then(e=>tQ.Y.LoadablePage(e.FileBrowserView)),{loading:tQ.Y.DependencyTracker,error:tZ.Yd.NONE,componentName:"FileBrowserView"});r(424520),r(838432);var tJ=r(883192);let t0=new(r(211204)).C({name:"fullscreen",enforce:!1,dependencies:[],exports:["views"],friendFiles:[],routeHints:["fullscreen","whiteboard","design"]}).createLazyComponent(()=>Promise.all([r.e(7493),r.e(8332),r.e(7900),r.e(9508),r.e(2240),r.e(6352),r.e(1708),r.e(8980),r.e(1884),r.e(6005),r.e(2809),r.e(1064),r.e(24),r.e(9866),r.e(5268),r.e(168),r.e(7528),r.e(1956),r.e(6072)]).then(r.bind(r,441340)).then(e=>e.FullscreenPageView),{loading:tJ.sv,error:tZ.Yd.NONE,componentName:"LazyFullscreenPageView"});var t1=r(410672),t2=r(795236),t4=r(123240),t3=r(4580),t6=r(441748),t8=r(760780),t5=r(87975),t7=r(506616),t9=r(570464),re=r(810756),rt=r(204792),rr=r(509250);let rn=class extends w.PureComponent{constructor(e){super(e),this.state={loaded:!1,error:null,isOpen:!1}}componentDidMount(){rn.singleton=this}componentWillUnmount(){rn.singleton=null}init(){return(0,rr.mO)().then(()=>{this.state.loaded||(window.zE("webWidget","hide"),window.zE("webWidget:on","open",()=>{this.setState({isOpen:!0})}),window.zE("webWidget:on","close",()=>{this.setState({isOpen:!1}),this.close(!0)})),this.setState({loaded:!0,error:null})}).catch(e=>{throw e&&console.error("Unable to load Zendesk Web Widget:",e),this.setState({loaded:!1,error:e}),e})}open(e,t){this.init().then(()=>(0,rr.Q$)({name:this.props.userName,email:this.props.userEmail},e)).then(()=>{this.state.isOpen||(0,rr.a8)()}).catch(()=>{this.props.dispatch(eG.M.flash((0,ek.t)("help_widget.zendesk.unavailable_error_message",{supportEmail:"support@figma.com"})))})}close(e=!1){this.state.loaded&&(this.state.isOpen||e)&&(window.zE("webWidget","hide"),window.zE("webWidget","close"))}isError(){return!!this.state.error}render(){return w.createElement("div",{className:"zendesk-web-widget"})}};rn.singleton=null;var ri=r(484532),ra=r(698240),ro=r(386304),rl=r(323576),rs=r(849208),rc=r(506940),rd=r(392992),ru=r(919364),rp=r(762056),rm=r(472956),r_=r(124664),rh=r(815464),rg=r(553432),rf=r(784528),rE=r(707200),ry=r(600928),rb=r(974636),rv=r(805220),rI=r(362592),rw=r(26048),rT=r(571911),rS=r(881467),rC=r(365676),rA=r(451776);let rO="seen_bug_reporter_modal",rN=(0,rv.y_)(rO);function rL(){let e=(0,$.OY)(),t=(0,Z.m4)(rN),r=(0,rb.W)({overlay:rS.GOF,priority:rI.g.SECONDARY_MODAL},[t]),n=(0,$.w1)(e=>{var t;return null==(t=e.user)?void 0:t.created_at}),i=!!n&&(0,t6.c)().diff((0,t6.c)(n),"days")>=14,a=(0,Z.m4)(rC.oR);return((0,ry.y)(r.uniqueId,"Fullscreen Loaded",()=>{i&&r.show({canShow:e=>!e,onShow:()=>e(rs.s({[rO]:!0}))})}),w.useEffect(()=>{a&&r.complete()},[r,a]),r.isShowing&&(0,N.Ub)().bug_reporter)?w.createElement(rT.O,{step:{modalType:rw.GK.POINTER,element:rR,trackingContextName:"bug_reporter_modal",onboardingKey:"bug-reporter-modal-key",width:250,topPadding:8,shouldNotWrapInParagraphTag:!0},onClickPrimaryCta:r.complete,onClose:r.complete,dismissModal:r.complete,dispatch:e}):null}function rR(){return w.createElement("div",{className:rA.U$},w.createElement("div",{className:rA.UP},w.createElement(ek.Tx,{id:"bug_reporter.announcement.title"})),w.createElement("div",{className:rA.C4},w.createElement(ek.Tx,{id:"bug_reporter.announcement.content"})))}var rP=r(521168),rM=r(725832),rk=r(841152),rD=r(628164),rF=r(261432),rx=r(567988),rU=r(476108),rB=r(853488);function rG(...e){let t=(0,$.OY)(),r=(0,$.w1)(e=>e.userFlags),n=e.reduceRight((e,t)=>(e<<1)+(r[t]?1:0),0),i=r=>{let n=r,i=e.reduce((e,t)=>{let r=!!(1&n);return n>>=1,{...e,[t]:r}},{});t(rs.s(i))};return{flagNumberVal:n,incrementFlag:()=>{n+1>=Math.pow(2,e.length)||i(n+1)},decrementFlag:()=>{n<=0||i(n-1)},setFlagVal:t=>{let r=Math.max(0,t);i(r=Math.min(r,Math.pow(2,e.length)-1))}}}var rV=r(441388),rH=r(412416),rW=r(613072),rK=r(607986),rY=r(422416),rq=r(81363),rj=r(559572),r$=r(203736),rZ=r(377376),rz=r(77520);let rQ=(0,r$.U9)(function({teamId:e,dismissModal:t,maxSeenCount:r=1/0}){let n=(0,w.useMemo)(()=>(0,rz.e0)(),[]),i=(0,$.OY)(),{flagNumberVal:a,incrementFlag:o}=rG(...rx.yY);return((0,t8.u)(()=>{r!==1/0&&a<=r&&o()}),a>r)?null:w.createElement(rV.kH,{name:"CollectiveUpsellsFullscreenModal"},w.createElement(rZ.y,{...n,dismissModal:()=>{t?t():i(rl.oN())},clickSecondaryBtn:()=>{i(rl.A5({type:rH.o,data:{teamId:e??void 0,upsellSource:rq.e.COLLECTIVE_UPSELLS_MODAL,openCheckoutInNewTab:!0}}))},clickPrimaryBtn:()=>{e?i(rK.Ah({teamId:e,openInNewTab:!0,currency:(0,rY.wR)(),billingPeriod:rj.SK.ANNUAL})):i(rl.A5({type:rW.WE,data:{plan:rW.CD.PRO,upsellSource:rq.e.COLLECTIVE_UPSELLS_MODAL}}))}}))},"CollectiveUpsellsFullscreenModal");var rX=r(105516),rJ=r(597624),r0=r(784740);function r1({dismissModal:e,descriptionText:t,headerText:r,ctaPrimaryText:n,ctaSecondaryText:i,imgSrc:a,clickSecondaryBtn:o=e,clickPrimaryBtn:l}){return w.createElement(rV.kH,{name:"help_card_widget_base"},w.createElement(rD.q.div,{className:"help_card_widget_base--modal--w6-oq",initial:{translateY:500},animate:{translateY:0},transition:{duration:.6,ease:"easeInOut",translateY:{duration:1}}},w.createElement(rJ.g,{verticalAlignItems:"center",padding:12},w.createElement(r0.a,{fontWeight:"medium",fontSize:13},r),w.createElement(rJ.O,null),w.createElement(rX.CA,{onClick:e})),w.createElement(w.Suspense,{fallback:w.createElement("div",{className:ra.cx.w300.h150.colorBgSecondary.$})},w.createElement("img",{style:eJ.sx.colorBorder.b1.colorBorder.bl0.br0.$,src:a,alt:"professional features animation"})),w.createElement("div",{style:eJ.sx.p16.pb0.$},w.createElement(r0.a,{fontSize:11},t)),w.createElement(rJ.g,{horizontalAlignItems:"end",spacing:8,padding:16},w.createElement(en.E,{onClick:o},i),w.createElement(en.E,{variant:"primary",onClick:l},n))))}function r2({shouldHide:e,dismissModal:t,maxSeenCount:r=1/0,teamId:n,editorType:i}){let{flagNumberVal:a,incrementFlag:o}=rG(...rx.A5),l=(0,$.OY)(),[s,c]=w.useState(e||a>r);return((0,t8.u)(()=>{!s&&r!==1/0&&a<=r&&o()}),s)?null:w.createElement(rV.kH,{name:"CollectiveUpsellsWidget",properties:{value:a}},w.createElement(r1,{dismissModal:t,descriptionText:(0,ek.t)("help_widget.collective_upsells_widget.description_text"),headerText:(0,ek.t)("help_widget.collective_upsells_widget.header_text"),ctaSecondaryText:(0,ek.t)("help_widget.collective_upsells_widget.cta_dismiss"),ctaPrimaryText:(0,ek.t)("help_widget.collective_upsells_widget.cta_see_how"),imgSrc:"https://static.figma.com/uploads/14cf876ff6f8f44e32ebb92587d7d0b7a1c2704a",clickPrimaryBtn:()=>{l(rl.A5({type:rQ,data:{teamId:n,editorType:i,dismissModal:()=>{t(),l(rl.oN())}}})),c(!0)}}))}var r4=r(357652);function r3({targetKey:e,dismissModal:t}){return w.createElement(rV.kH,{name:"collective_upsells_widget_tooltip"},w.createElement(r4.k3,{width:302,topOffset:-10,targetKey:e,dismissModal:t,shouldNotWrapInParagraphTag:!0},w.createElement(rJ.g,{direction:"vertical"},w.createElement(r0.a,{i18nId:"help_widget.collective_upsells_widget_tooltip.header_text",fontWeight:"semi-bold",fontSize:13,color:"onbrand"}),w.createElement(r0.a,{i18nId:"help_widget.collective_upsells_widget_tooltip.description_text",fontSize:11,fontWeight:"medium",color:"onbrand"}))))}let r6="collective_upsell_widget_dismissed",r8="collective_upsell_first_file_created",r5=[r6,r8,...rx.A5,...rx.yY],r7=(0,rv.Ww)(r8),r9=(0,rF.q4)(rv.wB,e=>Math.max(...[...rx.A5,...rx.yY].map(t=>{var r;return null==(r=e[t])?void 0:r.updatedAt}).filter(e=>null!=e).map(Number)));function ne({dropdownOpen:e}){let[t,r]=w.useState(!1),n=(0,Z.m4)(r7),i=(0,Z.m4)(r9),a=(0,$.OY)(),o=(0,rd.AL)(),l=(0,Z.m4)(rU.P),{flagNumberVal:s}=rG(...rx.A5),c=(0,rb.W)({overlay:rS.GY7,priority:rI.g.SECONDARY_MODAL},[n,i]);(0,t8.u)(()=>{c.show({canShow:(e,t)=>{let r=Date.now()-864e5>t;return!!e&&r}})}),(0,ry.y)(c.uniqueId,"Reset Onboarding",()=>{let e=r5.reduce((e,t)=>({...e,[t]:!1}),{});a(rs.s({...e}))});let d=(0,w.useCallback)((e=!0)=>{s<=1&&r(e),c.isShowing&&a(rs.s({[r6]:!0})),c.complete()},[a,c,s]);if((0,w.useEffect)(()=>{e&&d(!1)},[e,d]),l!==rB.sr.FALSE);else if(t&&!c.isShowing&&!e)return w.createElement(rD.q.div,{initial:{opacity:1},animate:{opacity:0},transition:{delay:2.8,duration:.8},onAnimationComplete:()=>r(!1)},w.createElement(r3,{dismissModal:()=>r(!1),targetKey:"help-widget-zendesk"}));else if(c.isShowing)return w.createElement(r2,{shouldHide:e,dismissModal:d,maxSeenCount:3,teamId:null==o?void 0:o.teamId,editorType:null==o?void 0:o.editorType});return null}var nt=r(52456);let nr=/rgb\((\d+),\s*(\d+),\s*(\d+)\)/,nn=/rgba\((\d+),\s*(\d+),\s*(\d+),\s*(\d*\.?\d+)\)/,ni=/color\(display-p3 ([0-9.]+) ([0-9.]+) ([0-9.]+)\)/,na=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i;function no(e,t){if(!e)return null;if(e.match(ni))return function(e,t){let r=e.match(ni);if(!r)throw Error("Invalid P3 color string");let[n,i,a]=r.slice(1).map(Number),{red:o,green:l,blue:s}=eb.i46.applyConversionToColor({red:n,green:i,blue:a,alpha:t},eb.Iah.DISPLAY_P3_TO_SRGB);return{r:o,g:l,b:s,opacity:t}}(e,t);let r=e.match(nr);if(r)return{r:parseFloat(r[1])/255,g:parseFloat(r[2])/255,b:parseFloat(r[3])/255,opacity:t};let n=e.match(nn);if(n)return{r:parseFloat(n[1])/255,g:parseFloat(n[2])/255,b:parseFloat(n[3])/255,opacity:parseFloat(n[4])*t};let i=e.match(na);return i?{r:parseInt(i[1],16)/255,g:parseInt(i[2],16)/255,b:parseInt(i[3],16)/255,opacity:t}:null}function nl(e){let t={width:"0",color:null};return e.style.borderTopColor&&e.style.borderTopWidth&&(t.width=`${parseFloat(e.style.borderTopWidth)}`,t.color=no(e.style.borderTopColor,1)),t}function ns(e,t){let r;e.strokes=[{type:"SOLID",color:(r=t.color)?{r:r.r,g:r.g,b:r.b}:{r:0,g:0,b:0},opacity:r?r.opacity:1}],e.strokeWeight=parseFloat(t.width),e.strokeAlign="INSIDE"}function nc(e){switch(e.textTransform){case"uppercase":return"UPPER";case"lowercase":return"LOWER";case"capitalize":return"TITLE"}return null}function nd(e){switch(e.textDecorationLine){case"underline":return"UNDERLINE";case"line-through":return"STRIKETHROUGH"}return null}function nu(e,t){let r=nc(t);r&&(e.textCase=r);let n=nd(t);n&&(e.textDecoration=n);let i=function(e){switch(e.textAlign){case"left":return"LEFT";case"center":return"CENTER";case"right":return"RIGHT";case"justify":return"JUSTIFIED"}return null}(t);i&&(e.textAlignHorizontal=i)}async function np(e,t,r,n,i){let a=await ng(e,i);t.setRangeFontSize(r,n,parseFloat(i.fontSize)),t.setRangeFontName(r,n,a);let o=nc(i);o&&t.setRangeTextCase(r,n,o);let l=nd(i);l&&t.setRangeTextDecoration(r,n,l);let{r:s,g:c,b:d,opacity:u}=no(i.color,1)||{r:1,g:1,b:1,opacity:0};t.setRangeFills(r,n,[{type:"SOLID",color:{r:s,g:c,b:d},opacity:u}])}let nm=[],n_={family:"Inter",style:"Regular"};async function nh(e,t,r){let n=`${e} ${t}`;if(nm.includes(n))return{family:e,style:t};try{return await r.loadFontAsync({family:e,style:t}),nm.push(n),{family:e,style:t}}catch(e){return nm.includes(`${n_.family} ${n_.style}`)||await r.loadFontAsync(n_),n_}}async function ng(e,t){let r=t.fontWeight||"normal",n=t.fontStyle||"normal",i={400:"Regular",normal:"Regular",500:"Medium",600:"SemiBold",700:"Bold",bold:"Bold",800:"ExtraBold",900:"Black"}[r];("italic"===n||"oblique"===n)&&("Regular"===i?i="Italic":i+="Italic");let a=t.fontFamily.replace(/"/g,"").trim().split(",").map(e=>e.trim()),o=[];for(;a.length>0;){let t=a.shift()||"Inter",r=i,n=await nh(t,r,e);n&&o.push(n)}return o[0]||n_}async function nf(e,t,r){var n,i,a;let o;if(!t)return null;let{r:l,g:s,b:c,opacity:d}=no((null==(n=t.style)?void 0:n.backgroundColor)||"",(null==(i=t.style)?void 0:i.hidden)?0:parseFloat(null==(a=t.style)?void 0:a.opacity)||1)||{r:1,g:1,b:1,opacity:0};try{switch(t.type){case"RECTANGLE":(o=e.createRectangle()).x=t.position.x,o.y=t.position.y,o.name=t.tagName,o.resize(t.size.width,t.size.height),t.style.borderRadius&&(o.cornerRadius=parseFloat(t.style.borderRadius)),o.fills=[{type:"SOLID",color:{r:l,g:s,b:c},opacity:d}],ns(o,nl(t));break;case"VECTOR":(o=e.createNodeFromSvg(t.svg)).x=t.position.x,o.y=t.position.y,o.resize(t.size.width,t.size.height);break;case"VECTOR_AS_IMAGE":(o=e.createNodeFromSvg(t.svg)).x=t.position.x,o.y=t.position.y,o.resize(t.size.width,t.size.height),o.findAll(e=>"VECTOR"===e.type&&Array.isArray(e.fills)&&0===e.fills.length).forEach(e=>{e.fills=[{type:"SOLID",color:{r:0,g:0,b:0},opacity:1}]});break;case"IMAGE":(o=e.createRectangle()).x=t.position.x,o.y=t.position.y,o.resize(t.size.width,t.size.height);let n="FILL"===t.style.scaleMode?"FILL":"FIT";if(t.base64){let r=Uint8Array.from(atob(t.base64),e=>e.charCodeAt(0)),i=e.createImage(r).hash;o.resize(t.size.width,t.size.height),o.fills=[{type:"IMAGE",scaleMode:n,imageHash:i}]}else{let r=await e.createImageAsync(t.url);o.resize(t.size.width,t.size.height),o.fills=[{type:"IMAGE",imageHash:r.hash,scaleMode:n}]}break;case"TEXT":(o=e.createText()).x=t.position.x,o.y=t.position.y,o.resize(t.size.width,t.size.height);let i=await ng(e,t.style);o.fontName=i,o.characters=t.value,o.fontSize=parseFloat(t.style.fontSize);let{r:a,g:u,b:p,opacity:m}=no(t.style.color,1)||{r:1,g:1,b:1,opacity:0};o.fills=[{type:"SOLID",color:{r:a,g:u,b:p},opacity:m}],nu(o,t.style),o.textAutoResize="HEIGHT";let _=1;for(;o.height>t.size.height||o.width>t.size.width;){let e=parseFloat(t.style.fontSize);if(_>.3*e){console.warn("Exceeded max font size adjustments");break}_++;try{o.fontSize=o.fontSize-1}catch(e){console.warn("Error adjusting font size",e)}}break;case"TEXT_RANGE":(o=e.createText()).x=t.position.x,o.y=t.position.y,o.resize(t.size.width,t.size.height);let h=await ng(e,t.style);o.fontName=h;let g=t.ranges.reduce((e,t)=>e+t.value,"");o.characters=g,o.fontSize=parseFloat(t.style.fontSize);let f=no(t.style.color,1);nu(o,t.style);let{r:E,g:y,b:b,opacity:v}=f||{r:1,g:1,b:1,opacity:0};o.fills=[{type:"SOLID",color:{r:E,g:y,b:b},opacity:v}];let I=0;for(let r of t.ranges){let t=r.value.length;await np(e,o,I,I+t,r.style),I+=t}o.textAutoResize="HEIGHT";let w=1;for(;o.height>t.size.height||o.width>t.size.width;){let e=parseFloat(t.style.fontSize);if(w>.3*e){console.warn("Exceeded max font size adjustments");break}w++;try{o.fontSize=o.fontSize-1}catch(e){console.warn("Error adjusting font size",e)}}break;case"FRAME":(o=e.createFrame()).x=t.position.x,o.y=t.position.y,o.resize(t.size.width,t.size.height),o.name=t.tagName,o.layoutMode="NONE",t.style.borderRadius&&(o.cornerRadius=parseFloat(t.style.borderRadius)),o.fills=[{type:"SOLID",color:{r:l,g:s,b:c},opacity:d}],ns(o,nl(t)),o.clipsContent="HTML"!==t.tagName&&["hidden"].includes(t.style.overflow);break;default:return console.warn(`Unsupported node type: ${t.type}`),null}if(t.children&&Array.isArray(t.children))for(let n of t.children.sort((e,t)=>e.order-t.order))if("FRAME"===o.type){let t=await nf(e,n,o);t&&(o.appendChild(t),o.resize(o.width,o.height))}else{let t=await nf(e,n,r);t&&(null==r||r.appendChild(t))}return o}catch(e){return console.error(`Error creating node ${t.type}`,e,{nodeData:t}),o&&o.remove(),null}}let nE=async(e,t)=>await nf(e,t,null);async function ny(e){let t=(0,nt.E)(),r=await nE(t,e);return t.currentPage.appendChild(r),r}function nb({cardContents:e,onBackCardsHovered:t,onBackCardsUnhovered:r,onClick:n,swapping:i}){let[a,o]=(0,w.useState)(!1),[l,s]=(0,w.useState)(!1),[c,d]=(0,w.useState)(0),[u,p]=(0,w.useState)([...e]);if((0,w.useEffect)(()=>{i&&m((c+1)%e.length)},[i]),(0,w.useEffect)(()=>{e.length<=3&&e.push(...e),p(e)},[e]),e.length<2)return null;let m=t=>{l||0===t||(s(!0),n&&n(c),setTimeout(()=>{o(!1),s(!1),d(t=>(t+1)%e.length)},1290))},_={0:{normal:"stack_of_cards--card0--bU9iy",fannedOutBig:"",swapping:"stack_of_cards--swappingCard0--U0eFK"},1:{normal:"stack_of_cards--card1--W1y63",fannedOutBig:"stack_of_cards--fannedOutBigCard1--9r-Kj",swapping:"stack_of_cards--swappingCard1--Wq2Yu"},2:{normal:"stack_of_cards--card2--i7TU7",fannedOutBig:"stack_of_cards--fannedOutBigCard2--amtxA",swapping:"stack_of_cards--swappingCard2--2Yscs"},3:{normal:"stack_of_cards--card3--enZkQ",fannedOutBig:"",swapping:"stack_of_cards--swappingCard3--hpYRP"}};return w.createElement("div",{className:"stack_of_cards--container--Rp8Rm"},u.map((e,n)=>{let i=(n-c+u.length)%u.length;return i>3?null:w.createElement("div",{role:"button",tabIndex:0,key:n,className:J()("stack_of_cards--card--MD18O",_[i].normal,{[_[i].fannedOutBig]:a,[_[i].swapping]:l}),onMouseEnter:()=>{0!==i&&(o(!0),t&&t(c))},onMouseLeave:()=>{0!==i&&(o(!1),r&&r(c))},onClick:()=>m(i)},e)}))}var nv=r(778524),nI=r(771668),nw=r(749949),nT=r(440076),nS=r(44412),nC=r(409548),nA=r(73664),nO=r(622623),nN=r(426488);let nL="stack_of_cards_widget--animated--YDWrQ",nR="stack_of_cards_widget--card--LDokR",nP="stack_of_cards_widget--hide--X1NzP";var nM=((i=nM||{})[i.IS_COLLAPSING=0]="IS_COLLAPSING",i[i.JUST_COLLAPSED=1]="JUST_COLLAPSED",i[i.COLLAPSED=2]="COLLAPSED",i[i.EXPANDED=3]="EXPANDED",i[i.IS_EXPANDING=4]="IS_EXPANDING",i);function nk({shouldHide:e,editorType:t,teamId:r}){let n=(0,$.OY)(),i=!!(0,ru.e)("dismissed_pro_trials_v3_stack_of_cards_onboarding"),a=(0,$.w1)(e=>e.universalInsertModal),o=(0,$.w1)(e=>e.multiplayerEmoji.type),l=!(0,nT.A)(r)||e||a.showing||"WHEEL"===o,s=(0,nA.sZ)(),c=(0,$.w1)(e=>{var t;return null==(t=e.openFile)?void 0:t.key}),d=(0,nw.QP)()||null,u=(0,$.w1)(e=>e.teams[r])||null,p=(0,el.wt)(),m=(0,nO.eG)({team:u,org:d,editorType:t}),_=(0,w.useCallback)(e=>{let t=e.slice(1,-1);return[e[e.length-1],...t]},[]),h=(0,w.useCallback)(()=>{b(!0),setTimeout(()=>{E(e=>_(e)),b(!1)},1400)},[_]),g=(0,w.useCallback)(e=>{let t=nC.iU.getOnboardingCardsStackContentProps({editorType:e,isVoiceEnabled:s,isWorkshopModeEnabled:m});return 3===t.length&&t[0].onboardingKey===nC.Et&&t.push(...t.slice(1)),t.map(e=>e.onboardingKey===nC.Et?{...e,showCta:!0,onCtaClicked:h}:{...e,showCta:!1,onCtaClicked:()=>{let t=nC.iU.getOnboardingStepTriggerEventId(e.onboardingKey);(0,nv.Y9)({id:t})}})},[h,s,m]),[f,E]=(0,w.useState)(g(t)),[y,b]=(0,w.useState)(!1),[v,I]=(0,w.useState)(i?2:3),[T,S]=(0,w.useState)(!1),[C,A]=(0,w.useState)(0),O=(0,w.createRef)(),N=t===U.aE.WHITEBOARD&&p.right&&p.right<nN.Yh,L=(0,w.useMemo)(()=>t===U.aE.WHITEBOARD&&p.right&&p.right<C+40+nN.sh+20?{bottom:p.bottom?p.bottom-nN.sh+12:0,right:p.right?p.right-nN.sh-90:0}:{bottom:0,right:40},[p.bottom,p.right,t,C]);return((0,w.useEffect)(()=>{E(g(t))},[t,i,g]),(0,w.useEffect)(()=>{O&&O.current?A(O.current.clientWidth):A(0)},[O]),(0,w.useEffect)(()=>{i?0===v?I(1):I(2):I(3)},[i]),f.length<3||l)?null:w.createElement(rV.kH,{name:"Pro trials cards stack",properties:{fileTeamId:r,fileKey:c,productType:t,...nS.WE.getTrackingProperties()}},3!==v&&w.createElement("div",{className:"stack_of_cards_widget--iconWidgetContainer--pamNv"},T&&4!==v&&0!==v&&w.createElement(nF,null),w.createElement(rV.Ix,{className:J()("stack_of_cards_widget--iconWidget--p49i8 help_widget--helpWidget--tXRGh text--_negText--j9g-L",{"stack_of_cards_widget--justCollapsed--7uRkw":1===v,"stack_of_cards_widget--isShowingUp--jjvWG":0===v,"stack_of_cards_widget--isDisappearing--USLnq":4===v,[nP]:N}),onClick:()=>{I(4),S(!1),setTimeout(()=>{n(rs.s({dismissed_pro_trials_v3_stack_of_cards_onboarding:!1}))},300)},onMouseEnter:()=>S(!0),onMouseLeave:()=>S(!1),disabled:0===v,trackingProperties:nS.WE.getTrackingProperties("expand card stack")},w.createElement(nI.GW,{icon:"gift-white-32-colored"}))),2!==v&&1!==v&&w.createElement("div",{ref:O,className:J()("stack_of_cards_widget--container--ArQBE",{"stack_of_cards_widget--figjamContainer--4AD9T":t===U.aE.WHITEBOARD,[nP]:N,"stack_of_cards_widget--collapsing--Omc10":0===v,"stack_of_cards_widget--expanding--Q74qE":4===v}),style:{...L}},w.createElement("div",{className:"stack_of_cards_widget--contentContainer--ECgFZ"},w.createElement(nb,{cardContents:f.map(e=>w.createElement(nD,{key:e.onboardingKey,onboardingKey:e.onboardingKey,header:e.header,imgSrc:e.imgSrc,showCta:e.showCta,description:e.description,hoverTitle:e.hoverTitle,hovered:e.hovered,onCtaClicked:e.onCtaClicked})),onClick:e=>{let t=f.map((t,r)=>r===(e+1)%f.length?{...t,showCta:!0}:{...t,showCta:!1});setTimeout(()=>{E(t)},1300/3),f[0].onboardingKey===nC.Et&&setTimeout(()=>{E(_(t))},1400)},onBackCardsHovered:e=>{E(f.map((t,r)=>r===(e+1)%f.length?{...t,hovered:!0}:{...t,hovered:!1}))},onBackCardsUnhovered:()=>{E(f.map(e=>({...e,hovered:!1})))},swapping:y}),w.createElement(rX.CA,{trackingProperties:nS.WE.getTrackingProperties("collapse card stack"),className:"stack_of_cards_widget--closeButton--7dWaQ",onClick:()=>{I(0),S(!1),setTimeout(()=>{n(rs.s({dismissed_pro_trials_v3_stack_of_cards_onboarding:!0}))},300)}}))))}function nD({onboardingKey:e,imgSrc:t,showCta:r,header:n,description:i,hovered:a,hoverTitle:o,onCtaClicked:l}){return r?w.createElement(rV.kH,{name:e},w.createElement("div",{className:nR},w.createElement("div",{className:J()("stack_of_cards_widget--imgContainer--l4pVk",{[nL]:e!==nC.Et&&e!==nC.gX.COMPONENT_PUBLISHING})},w.createElement("img",{src:t,width:"100%",alt:e})),w.createElement("div",{className:J()("stack_of_cards_widget--frontCardContentContainer--14WHK",{[nL]:e!==nC.Et})},w.createElement("div",null,w.createElement("div",null,n),w.createElement("div",null,i)),w.createElement(en.E,{variant:"primary",onClick:l},e===nC.Et?w.createElement(ek.Tx,{id:"help_widget.pro_trials.stack_of_cards_widget.cover_card_cta_text"}):w.createElement(ek.Tx,{id:"help_widget.pro_trials.stack_of_cards_widget.cta_text"}))))):w.createElement("div",{className:nR},w.createElement("img",{src:t,width:"100%",alt:e}),a&&w.createElement("div",{className:"stack_of_cards_widget--hoverTextContainer--n048y"},o))}function nF(){return w.createElement("div",{className:"stack_of_cards_widget--tooltip--zMh2d help_widget--tooltip--ScNXy help_widget--tooltipPosition--XygMP"},w.createElement(ek.Tx,{id:"help_widget.pro_trials.stack_of_cards_widget.tooltip"}))}var nx=r(477476);let nU=(0,N.m_)();function nB(e){let[t,r]=w.useState(!1),n=function(){var e,t,r,n;let i=(0,$.w1)(e=>(0,rg.getPermissionsStateMemoized)(e)),a=!(0,$.w1)(e=>!!(e.openFile&&e.figFileDuplicatedFromHubFile[e.openFile.key])),o=(0,t7.Qb)(rm.Ga_,{}),l=function(){let e=(0,ru.e)("dismissed_move_drafts_nudge"),t=(0,ru.e)("ran_move_drafts_nudge_v2_num_3");return!!e&&!!t&&Date.now()-t.updatedAt.getTime()>864e5}(),s=function(e){let t="collective_upsell_first_file_created",r=(0,w.useRef)((0,ru.e)(t)),n=(0,$.OY)();return(0,t8.u)(()=>{!r.current&&e&&n(rs.s({[t]:!0}))}),!!r.current&&Date.now()-r.current.updatedAt.getTime()>864e5}((null==(e=i.openFile)?void 0:e.creatorId)===(null==(t=i.user)?void 0:t.id)),{getConfig:c}=(0,re.M9)("exp_collective_upsells_v2");if("loaded"!==o.status)return!1;let d=o.data.currentUser.teamRoles;if(!(null==d?void 0:d.length))return!1;let u=!!i.user&&(0,t6.c)().diff((0,t6.c)(i.user.created_at),"days")>=7,p=!!(null==(r=i.openFile)?void 0:r.teamId)&&(0,rg.canEditTeam)(null==(n=i.openFile)?void 0:n.teamId,i),m=!!i.openFile&&!i.openFile.teamId,_=d.some(e=>e.team&&!e.team.subscription&&e.team.canEdit),h=!d.some(e=>{var t;return(null==(t=e.team)?void 0:t.subscription)&&e.team.canEdit});return u&&s&&l&&(p||m&&_)&&a&&h&&_&&!!i.user&&c().get("isVariant",!1)}(),i=!!(0,ru.e)("collective_upsell_first_file_created"),a=n&&i,o=(0,eZ.my)(rP.k),l=(0,rp.S2)(rp.YP.ui3),s=(0,$.w1)(e=>e.userFlags),c=(0,rd.K_)({useSinatraType:!0}),d=!!(0,ru.e)("has_tooltips_plus_onboarding_file_no_nav"),u=!!(0,ru.e)("has_tooltips_plus_onboarding_file_with_nav"),p=!!(0,ru.e)("has_cursor_bot_onboarding"),m=(0,rd.AL)();return w.createElement("div",{className:ra.cx.if(e.shouldShowFigJamZoomSlider&&e.hide,ra.cx.hidden,ra.cx.flexColumn.gap12.justifyCenter.itemsEnd).$},n&&w.createElement(ne,{dropdownOpen:t}),m&&m.teamId&&m.editorType&&w.createElement(nk,{teamId:m.teamId,editorType:m.editorType,shouldHide:t||e.hide}),w.createElement(nV,{dispatch:e.dispatch,hide:e.hide,keyboardShortcuts:e.keyboardShortcuts,isEditingFile:e.isEditingFile,isUI3Enabled:l,editorType:(null==m?void 0:m.editorType)||null,selectedView:e.selectedView,modalShown:e.modalShown,orgUser:e.orgUser,user:e.user,userFlags:s,unsortedTeams:e.unsortedTeams,recordingKey:"helpWidget",dropDownOpen:t,setDropDownOpen:r,showDiscoverMoreOption:a,setSkipMakeSomethingOnboarding:o,showResetOnboardingOption:()=>(function({openFile:e,user:t,isInTooltipsPlusWithNav:r,isInTooltipsPlusWithNoNav:n,isInCursorBotOnboarding:i}){return null===e||null==t||!t.id||"design"!==e.editor_type||(r||n?(0,r_.YL)(t.id,e,["exp_tooltips_plus_onboarding"]):!i||(0,r_.YL)(t.id,e,["exp_cursor_bot_onboarding"]))})({openFile:c,user:e.user,isInTooltipsPlusWithNav:u,isInTooltipsPlusWithNoNav:d,isInCursorBotOnboarding:p}),teamId:null==m?void 0:m.teamId}))}let nG=class extends t9.UR{constructor(e){super(e),this.rootRef=w.createRef(),this.zendeskRef=w.createRef(),this.dropdownID=(0,x.c)(),this.onKeyDown=e=>{switch(e.key){case"Divide":(0,t5.MP)(e,t5.Cs.CONTROL|t5.Cs.SHIFT)&&(e.preventDefault(),e.stopPropagation());break;case"Tab":this.closeDropdownAndLogEvent("help_widget_close_on_tab")}},this.documentMouseUp=e=>{var t,r;!this.props.dropDownOpen||(null==(t=this.rootRef.current)?void 0:t.contains(e.target))||this.props.setDropDownOpen(!1),null==(r=this.zendeskRef.current)||r.close()},this.logEvent=e=>{(0,D.we)(e,{isEditingFile:this.props.isEditingFile,editorType:this.props.editorType,source:"help-widget-button"})},this.closeDropdownAndLogEvent=e=>{this.setState({discoverMoreOptionHovered:!1}),this.props.setDropDownOpen(!1),this.logEvent(e)},this.onClickKeyboardShortcuts=()=>{this.closeDropdownAndLogEvent("showing_keyboard_shortcuts_modal"),e4.CA.isReady()&&e4.CA.triggerAction("toggle-keyboard-shortcuts")},this.onClickLanguageSelector=()=>{this.logEvent("help_widget_change_languages"),this.props.dispatch((0,rl.A5)({type:rE.iS,data:{source:rE.WG.HELP}}))},this.onClickKeyboardLayoutSelector=()=>{e4.CA.isReady()&&(this.props.dispatch(ro.O4({tab:"layout"})),this.onClickKeyboardShortcuts())},this.onClickResetOnboarding=()=>{nU.user_data&&(this.props.setSkipMakeSomethingOnboarding(!1),this.closeDropdownAndLogEvent("Reset Onboarding"))},this.onClickGetHelp=()=>{var e,t,r,n;this.closeDropdownAndLogEvent("help_widget_get_help"),0===this.props.unsortedTeams.filter(e=>(0,rh.So)(e)).length?null==(t=this.zendeskRef.current)||t.open({ticketForms:rr.C2.FREE,locale:null==(e=this.props.user)?void 0:e.locale}):null==(n=this.zendeskRef.current)||n.open({ticketForms:rr.C2.PAID,locale:null==(r=this.props.user)?void 0:r.locale})},this.onClickBugReport=t9.QD(this,t9.Mx("bugReporter","click")||"",()=>{this.closeDropdownAndLogEvent("help_widget_bug_report"),this.props.dispatch((0,rl.A5)({type:rC.s1,data:{},showModalsBeneath:!0}))}),this.onClickHtmlToFigma=()=>{let e=document.createElement("input");e.type="file",e.accept="application/json",e.onchange=()=>{var t;let r=null==(t=null==e?void 0:e.files)?void 0:t[0],n=new FileReader;n.onload=async function(e){var t;let r=null;try{console.log("starting import..."),r=JSON.parse(null==(t=e.target)?void 0:t.result),await ny(r),console.log("import complete!")}catch(e){console.error("Error parsing JSON file:",e)}},n.onerror=function(){console.error("Error reading file")},r&&n.readAsText(r)},e.click(),e.onclose=()=>{this.closeDropdownAndLogEvent("import_html_to_figma")}},this.onClickSetCommitSHA=t9.QD(this,t9.Mx("setCommitSHA","click")||"",()=>{this.closeDropdownAndLogEvent("help_widget_set_commit_sha"),this.props.dispatch((0,rl.A5)({type:rM.oh,data:{},showModalsBeneath:!0}))}),this.onClick=t9.yw(this,"click",()=>{this.props.setDropDownOpen(!this.props.dropDownOpen),Z.qM.set(rC.oR,!0)}),this.getDropdownOptions=()=>[{type:"option",onClick:this.onClickHtmlToFigma,label:w.createElement(ek.Tx,{id:"help_widget.menu.import_html"}),shouldShow:()=>!!(0,N.Ub)().babel_design_widget_entrypoint},{type:"option",onClick:this.onClickBugReport,label:w.createElement(ek.Tx,{id:"help_widget.menu.report_issue"}),shouldShow:()=>!!(0,N.Ub)().bug_reporter},{type:"option",onClick:this.onClickSetCommitSHA,label:w.createElement(ek.Tx,{id:"help_widget.menu.set_commit_sha"}),shouldShow:()=>!!(0,N.Ub)().set_frontend_commit_sha},{type:"option",target:"_blank",href:`https://deploys.figma.com/bisect?repro_url=${encodeURIComponent(window.location.href)}`,onClick:()=>this.closeDropdownAndLogEvent("help_widget_web_bisect"),label:w.createElement(ek.Tx,{id:"help_widget.menu.web_bisect"}),shouldShow:()=>!!(0,N.Ub)().web_bisect},{type:"separator",shouldShow:()=>!!(0,N.Ub)().bug_reporter},{type:"option",target:"_blank",href:"https://help.figma.com/",onClick:()=>this.closeDropdownAndLogEvent("help_widget_help"),label:w.createElement(ek.Tx,{id:"help_widget.menu.help_center"})},{type:"option",target:"_blank",href:"https://forum.figma.com/",onClick:()=>this.closeDropdownAndLogEvent("help_widget_forum"),label:w.createElement(ek.Tx,{id:"help_widget.menu.support_forum"})},{type:"option",target:"_blank",href:"https://www.youtube.com/figmadesign",onClick:()=>this.closeDropdownAndLogEvent("help_widget_tutorials"),label:w.createElement(ek.Tx,{id:"help_widget.menu.youtube_videos"})},{type:"option",target:"_blank",href:"https://releases.figma.com/",onClick:()=>this.closeDropdownAndLogEvent("help_widget_releases"),label:w.createElement(ek.Tx,{id:"help_widget.menu.release_notes"})},{type:"option",target:"_blank",href:"/legal",label:w.createElement(ek.Tx,{id:"help_widget.menu.legal_summary"})},{type:"separator"},{type:"option",target:"_blank",href:"https://forum.figma.com/submit-feedback",onClick:()=>this.closeDropdownAndLogEvent("help_widget_forum_feedback"),label:w.createElement(ek.Tx,{id:"help_widget.menu.submit_feedback"})},{type:"option",target:"_blank",href:"https://forum.figma.com/ask-community",onClick:()=>this.closeDropdownAndLogEvent("help_widget_forum_ask"),label:w.createElement(ek.Tx,{id:"help_widget.menu.ask_the_community"})},{type:"option",onClick:this.onClickGetHelp,label:w.createElement(ek.Tx,{id:"help_widget.menu.contact_support"})},{type:"separator"},{type:"option",shouldShow:()=>e4.CA.isReady(),onClick:this.onClickKeyboardShortcuts,label:w.createElement(w.Fragment,null,w.createElement(ek.Tx,{id:"help_widget.menu.keyboard_shortcuts"}),w.createElement(ri.y,{shortcut:(0,rf.O0)(this.props.keyboardShortcuts,"open-shortcuts"),className:"help_widget--shortcut--H4xrS"}))},{type:"option",onClick:this.onClickResetOnboarding,label:w.createElement("div",{"data-onboarding-key":"reset-onboarding"},w.createElement(ek.Tx,{id:"help_widget.menu.reset_onboarding"})),shouldShow:this.props.showResetOnboardingOption},{type:"option",shouldShow:()=>this.props.showDiscoverMoreOption,onClick:()=>{this.props.dispatch(rl.A5({type:rQ,data:{teamId:this.props.teamId,editorType:this.props.editorType}})),this.closeDropdownAndLogEvent("help_widget_discover_more_features")},onHover:e=>{this.setState({discoverMoreOptionHovered:e})},label:w.createElement(w.Fragment,null,w.createElement(ek.Tx,{id:"help_widget.menu.discover_more_features"}),w.createElement(rk.kt,{className:`help_widget--proBadge--9d3JS ${this.state.discoverMoreOptionHovered?"help_widget--proBadgeHovered--KoXjg":""}`,text:(0,ek.t)("help_widget.menu.discover_more_features.pro"),color:rk.Eo.INVERT,subtle:!0}))},{type:"separator",shouldShow:()=>e4.CA.isReady()},{type:"option",onClick:()=>{rp.YP.ui3.toggleValue({user:this.props.user,userFlags:this.props.userFlags},this.props.dispatch,"help_menu"),this.props.setDropDownOpen(!1)},shouldShow:()=>!!rp.YP.ui3.canOverride(),label:this.props.isUI3Enabled?w.createElement(ek.Tx,{id:"lab.ui3_disable"}):w.createElement(ek.Tx,{id:"lab.ui3_enable"})},{type:"option",onClick:this.onClickKeyboardLayoutSelector,shouldShow:()=>e4.CA.isReady(),label:w.createElement(ek.Tx,{id:"help_widget.menu.change_keyboard_layout"})},{type:"option",onClick:this.onClickLanguageSelector,label:w.createElement(ek.Tx,{id:"help_widget.menu.change_languages"})}],this.renderDropdownOptions=()=>this.getDropdownOptions().filter(e=>null==e.shouldShow||e.shouldShow&&e.shouldShow()).map((e,t)=>{if("option"===e.type){let{target:r,href:n,onClick:i,onHover:a,simulateHover:o}=e;return w.createElement(rt.g.Option,{key:t,target:r,href:n,onClick:i,onHover:a,simulateHover:o,"data-fullscreen-intercept":!0},w.createElement("div",{className:"help_widget--optionItem---2-vY"},e.label))}return"separator"===e.type&&w.createElement(rt.g.Separator,{key:t})}),this.state={discoverMoreOptionHovered:!1}}componentDidMount(){var e;super.componentDidMount(),document.addEventListener("mouseup",this.documentMouseUp),document.addEventListener("keydown",this.onKeyDown),(0,rc.yj)("help_widget",null==(e=this.rootRef)?void 0:e.current)}componentWillUnmount(){super.componentWillUnmount(),(0,rc.yj)("help_widget",null),document.removeEventListener("keydown",this.onKeyDown),document.removeEventListener("mouseup",this.documentMouseUp)}componentDidUpdate(e,t){var r;super.componentDidUpdate(e,t),e.hide!=this.props.hide&&this.props.hide&&(null==(r=this.zendeskRef.current)||r.close())}render(){var e,t;let r=nU.user_data&&!this.props.hide;return w.createElement(w.Fragment,null,w.createElement("section",{className:r?"help_widget--helpWidget--tXRGh text--_negText--j9g-L":"help_widget--helpWidgetHidden--7myyk help_widget--helpWidget--tXRGh text--_negText--j9g-L",ref:this.rootRef,onFocusCapture:()=>{var e;null==(e=this.rootRef.current)||e.setAttribute("aria-hidden","false")},"data-onboarding-key":"bug-reporter-modal-key"},w.createElement(er._e,{"aria-haspopup":!0,"aria-controls":this.dropdownID,"aria-expanded":this.props.dropDownOpen,className:"help_widget--clickableSvg--hcIHQ",svg:nx.c,onClick:this.onClick,innerText:nG.displayName,"data-onboarding-key":"help-widget-zendesk","aria-label":(0,ek.t)("fullscreen.menu.help_menu"),role:"button",tabIndex:0,onKeyDown:e=>(0,rc.CI)({e,onClickHandler:this.onClick}),"data-fullscreen-intercept":!0}),w.createElement(rn,{ref:this.zendeskRef,dispatch:this.props.dispatch,userName:(null==(e=this.props.user)?void 0:e.name)||null,userEmail:(null==(t=this.props.user)?void 0:t.email)||null}),!this.props.dropDownOpen&&w.createElement(nH,null),this.props.dropDownOpen&&w.createElement("div",{className:"help_widget--dropdown--3SXN1 help_widget--tooltipPosition--XygMP"},w.createElement(rt.g.DropdownWithAutofocus,{hideDropdown:()=>{this.props.setDropDownOpen(!1)},id:this.dropdownID,options:this.renderDropdownOptions()})),w.createElement("div",{onFocus:rc.gd,tabIndex:0})),!!(0,N.Ub)().bug_reporter&&r&&w.createElement(rL,null))}},nV=nG;function nH(){return w.createElement("div",{"aria-hidden":!0,className:"help_widget--tooltip--ScNXy help_widget--tooltipPosition--XygMP"},w.createElement(ek.Tx,{id:"help_widget.tooltip"}))}nV.displayName="HelpWidget";var nW=r(693400),nK=r(699084),nY=r(979144),nq=r(299988),nj=r(658784),n$=r(644516),nZ=r(780784),nz=r(801928),nQ=r(968240),nX=r(563404),nJ=r(397888),n0=r(142548),n1=r(241645),n2=r(541636);let n4="figjam_zoom_menu--enabled--gKjae",n3="figjam_zoom_menu--zoomIcon--mnHVV";var n6=r(830596),n8=r(344848),n5=r(138220),n7=r(565512);let n9=w.memo(function({recordingKey:e}){let t=(0,nX.mY)("zoom-out"),r=(0,nX.mY)("zoom-in"),n=(0,$.w1)(e=>!1===e.mirror.appModel.showUi),i=(0,nJ._o)();return!e4.CA.isReady()||n?null:w.createElement("div",{role:"none",className:J()("figjam_zoom_menu--zoomControls--s3ykF",{[ra.cx.opacity0_3.eventsNone.$]:i}),onClick:e=>e.stopPropagation()},w.createElement(n1.wP,{recordingKey:t9.Mx(e,"zoomInButton"),className:J()("figjam_zoom_menu--zoomPlus--DXjkV",{[n4]:r}),disabled:!r,onClick:()=>{e4.CA.triggerAction("zoom-in")},"data-tooltip-type":n0.wL.LOOKUP,"data-tooltip":"zoom-in","aria-label":(0,ek.t)("fullscreen_actions.zoom-in")},w.createElement("div",{className:"figjam_zoom_menu--zoomPlusIcon--w5RTc"},w.createElement(nQ.e,{svg:n5.c,fallbackSvg:n7.c},w.createElement("span",{className:n3},w.createElement(nZ.S,null))))),w.createElement("div",{className:"figjam_zoom_menu--zoomSliderContainer--I6c2e"},w.createElement(n2.M,null)),w.createElement(n1.wP,{recordingKey:t9.Mx(e,"zoomOutButton"),className:J()("figjam_zoom_menu--zoomMinus--JBcE8",{[n4]:t}),disabled:!t,onClick:()=>{e4.CA.triggerAction("zoom-out")},"data-tooltip-type":n0.wL.LOOKUP,"data-tooltip":"zoom-out","aria-label":(0,ek.t)("fullscreen_actions.zoom-out")},w.createElement("div",{className:"figjam_zoom_menu--zoomMinusIcon--bGJ1s"},w.createElement(nQ.e,{svg:n6.c,fallbackSvg:n8.c},w.createElement("span",{className:n3},w.createElement(nz.e,null))))))});var ie=r(927976);function it(){let e=(0,$.OY)(),t=(0,w.useRef)(null),r=(0,n2.o)(),n=window.FigmaMobile,{keyboardShortcuts:i,isEditingFile:a,selectedView:o,modalShown:l,orgUser:s,user:c,unsortedTeams:d}=(0,t3.q)(e=>({keyboardShortcuts:e.mirror.appModel.keyboardShortcuts,isEditingFile:!!(0,nK.QZ)(e),selectedView:e.selectedView,modalShown:e.modalShown,orgUser:(0,nj.sd)(e),user:e.user,unsortedTeams:(0,n$.IP)(e.user,e.roles,e.teams)})),u=(0,nY.CM)(),p=!(0,$.w1)(e=>e.mirror.appModel.showUi)||u,m=!!(null==n?void 0:n.shouldOptimizeForIpadApp)||nq.kr.getIsExtension()&&(0,ie.ie)(o)||p,_=function(e){var t;let r=(0,ea.aQ)(),n=(0,el.cm)(),i=null==(t=e.current)?void 0:t.getBoundingClientRect();return n&&i&&!(n.right+nN.sh<i.left)?r:0}(t);return(0,nW.aU)()||"fullscreen"===o.view&&o.postingToFeed||!r&&m?null:w.createElement("div",{ref:t,className:"bottom_right_tools_container--container--GhraJ",style:{marginBottom:_}},r&&w.createElement(n9,{recordingKey:"figjamZoomMenu"}),!m&&w.createElement(nB,{dispatch:e,hide:p,keyboardShortcuts:i,isEditingFile:a,selectedView:o,modalShown:l,orgUser:s,user:c,unsortedTeams:d,shouldShowFigJamZoomSlider:r}))}var ir=r(796116),ii=r(61304),ia=r(39676),io=r(266386);class il extends w.PureComponent{constructor(){super(...arguments),this.isLoadingVersions=()=>ia.K0(this.props.loadingState,ir.Hl.loadingKeyForPayload({hubFileId:this.props.hubFileId})),this.shouldRetryLoadingVersions=()=>ia.ER(this.props.loadingState,ir.Hl.loadingKeyForPayload({hubFileId:this.props.hubFileId}))}componentDidMount(){this.props.dispatch(ir.Hl({hubFileId:this.props.hubFileId}))}render(){let e=!(this.isLoadingVersions()||this.shouldRetryLoadingVersions()),t=!!(0,ii.oF)(this.props.hubFile).id;return w.createElement(w.Fragment,null,e&&t?w.createElement(io.i,{containerClassName:"hub_file_embed_view--container---KHBD",hubFile:this.props.hubFile,profileIdToAdminResourceAs:null,disableClickToExpand:!0,fullscreenState:eD.aS.DEFAULT,dispatch:this.props.dispatch}):null)}}il.displayName="HubFileDetailView";let is=(0,$.Ul)((e,t)=>({hubFile:{...(0,ii.ee)(t.hubFileId,e.hubFiles),comments_setting:null},loadingState:e.loadingState}))(il);var ic=r(683780),id=r(748836),iu=r(593940),ip=((a=ip||{})[a.FIRST_QUESTION=0]="FIRST_QUESTION",a[a.SECOND_QUESTION=1]="SECOND_QUESTION",a[a.HOW_CAN_WE_IMPROVE=2]="HOW_CAN_WE_IMPROVE",a[a.COMPLETE=3]="COMPLETE",a),im=((o=im||{})[o.FREE_FORM_INPUT=0]="FREE_FORM_INPUT",o[o.COMPLETE=1]="COMPLETE",o),i_=((l=i_||{})[l.WHY_ABANDON_QUESTION=0]="WHY_ABANDON_QUESTION",l[l.FREE_FORM_INPUT=1]="FREE_FORM_INPUT",l[l.COMPLETE=2]="COMPLETE",l),ih=((s=ih||{})[s.OPINION_QUESTION=0]="OPINION_QUESTION",s[s.IMPROVEMENT_QUESTION=1]="IMPROVEMENT_QUESTION",s[s.COMPLETE=2]="COMPLETE",s),ig=((c=ig||{}).OVERALL_HELPFUL="OVERALL_HELPFUL",c.MISSING_COMPONENTS="MISSING_COMPONENTS",c.ANYTHING_ELSE="ANYTHING_ELSE",c.COMPLETE="COMPLETE",c),iE=((d=iE||{}).INTRO="INTRO",d.FIGMA_USE="FIGMA_USE",d.USE_CASES="USE_CASES",d.NONE_APPLY="NONE_APPLY",d.INTENT_TO_UPGRADE="INTENT_TO_UPGRADE",d.LIKELIHOOD_OF_UPGRADING="LIKELIHOOD_OF_UPGRADING",d.REASON_FOR_FREE_PLAN="REASON_FOR_FREE_PLAN",d.NO_INTENT_TO_UPGRADE="NO_INTENT_TO_UPGRADE",d.COMPLETE="COMPLETE",d),iy=r(602216),ib=r(643712),iv=r(577824),iI=r(144459),iw=r(244808);let iT="survey_view--progressText--CLyN0",iS="survey_view--footer--29H7u",iC="survey_view--submitButton--XM2mL",iA="survey_view--grid--8PjFO",iO="survey_view--question--tlccL",iN="survey_view--choice--qImxP",iL="survey_view--choiceLabel--NJ5QK",iR="survey_view--surveyButton--7ULK8",iP="survey_view--ratingSubtext--4eSXc";var iM=r(378296);(e=>{e.DEFAULT_WIDTH=340,e.useSurveyState=function(t){let{completeStates:r,dismissModal:n,heightProvider:i,initialState:a,autoDismissTime:o,widthProvider:l}=t,[s,c]=w.useState(a),[d,u]=w.useState(""),[p,m]=w.useState(!1),[_,h]=w.useState(i(s)),[g,f]=w.useState(l?l(s):e.DEFAULT_WIDTH),E=t=>{m(!0),setTimeout(()=>{h(i(t)),f(l?l(t):e.DEFAULT_WIDTH)},300),setTimeout(()=>{c(t),m(!1)},600),r.some(e=>e===t)&&setTimeout(n,o??2e3)};return{state:s,mostRecentAnswer:d,setNextState:E,clickAnswer:e=>{var t;u(e.answer),E(e.nextState),null==(t=e.onSubmit)||t.call(e)},fadingOut:p,height:_,width:g}},e.useAutosizedSurveyState=function(e){let{completeStates:t,dismissModal:r,initialState:n,autoDismissTime:i,offscreenBoundsRef:a}=e,[o,l]=w.useState(void 0),[s,c]=w.useState(n),[d,u]=w.useState(""),[p,m]=w.useState(!1),[_,h]=w.useState(void 0),[g,f]=w.useState(void 0);w.useEffect(()=>{var e,t;h(null==(e=a.current)?void 0:e.offsetHeight),f(null==(t=a.current)?void 0:t.offsetWidth),l(n)},[n,a]);let E=e=>{m(!0),c(e),setTimeout(()=>{var e,t;h(null==(e=a.current)?void 0:e.offsetHeight),f(null==(t=a.current)?void 0:t.offsetWidth)},300),setTimeout(()=>{l(e),c(void 0),m(!1)},600),t.some(t=>t===e)&&setTimeout(r,i??2e3)};return{state:o,upcomingState:s,mostRecentAnswer:d,setNextState:E,clickAnswer:e=>{var t;u(e.answer),E(e.nextState),null==(t=e.onSubmit)||t.call(e)},fadingOut:p,height:_,width:g}}})(E||(E={})),(e=>{function t(e){return w.createElement("div",{className:"survey_view--surveyContent--tFdrC text--fontPos11--2LvXf text--_fontBase--QdLsd",style:e.style},e.children)}function r(e){return w.createElement(er.Sm,{className:iR,onClick:()=>e.onClickAnswer(e.answer)},e.answer.answer)}function n(e){return w.createElement(er.gf,{className:iR,onClick:()=>e.onClickAnswer(e.answer),trusted:!0},e.answer.answer)}function i(e){return w.createElement("div",{className:iA},w.createElement("div",{className:iO}),e.choices.map((e,t)=>w.createElement("p",{key:t,className:iN},e)))}function a(e){return w.createElement(ib.e,{value:e.currentChoice,onChange:e.onClickChoice,className:iA},w.createElement("legend",{className:iO},e.question),e.choices.map((e,t)=>w.createElement(ib.W,{key:t,className:iN,labelClassName:iL,value:e})))}function o(e){return w.createElement(w.Fragment,null,w.createElement("legend",{className:iO},e.question),w.createElement(er._C,{multiple:2}),w.createElement(ib.e,{value:e.currentChoice,onChange:e.onClickChoice,className:"survey_view--choicesRow--K8vz1"},e.choices.map((e,t)=>w.createElement(ib.W,{key:t,className:iN,labelClassName:iL,value:e},e))))}function l(e){let r=e.height&&e.height-32,n=(e.width||E.DEFAULT_WIDTH)-32,i=w.createElement(t,{style:{height:r,width:n}},e.children);return w.createElement("div",{className:"survey_view--surveyModal--XsAuZ"},e.fadingOut?w.createElement("div",{className:"survey_view--fadeOut--8YBM0"},i):w.createElement("div",{className:"survey_view--fadeIn--CPaie"},i),!e.hideCloseButton&&w.createElement(rX.CA,{className:"survey_view--closeButton--Z6aRE",onMouseDown:e=>e.stopPropagation(),onClick:e.dismissModal,innerText:(0,ek.t)("rcs.surveys.close"),trackingProperties:e.trackingPropertiesOnClose}))}e.SurveyContent=t,e.SurveyButton=r,e.SurveyLink=n,e.QuestionView=function(e){let t=e.surveyAnswers.length>2?n:r;return w.createElement(w.Fragment,null,w.createElement("p",{className:iO},e.question),w.createElement(er._C,{multiple:2}),e.surveyAnswers.map((r,n)=>w.createElement(w.Fragment,{key:r.answer},w.createElement(t,{answer:r,onClickAnswer:()=>e.onClickAnswer(r)}),n!==e.surveyAnswers.length-1&&w.createElement(er._C,{multiple:2}))))},e.RatingView=function(e){let[t,r]=w.useState(null),[n,i]=w.useState(null),[a,o]=w.useState(!1);w.useEffect(()=>{n&&(null!==t||a)&&n.focus()},[t,a,n]);let l=(e,t)=>{a||r(e),t.stopPropagation()},s=(e,r,n)=>{let i="";return t===e?i+="survey_view--selectedRatingOption--ily33 survey_view--ratingOption--qOtfq":t===e-1?e!==n?i+="survey_view--ratingOptionAfterSelectionBeforeLast--25sYi survey_view--ratingOptionAfterSelection--iQdLt survey_view--ratingOption--qOtfq":i+="survey_view--ratingOptionAfterSelection--iQdLt survey_view--ratingOption--qOtfq":a?e!==n?i+="survey_view--disabledRatingOptionBeforeLast--1NC2q survey_view--disabledRatingOption--yKpRA survey_view--ratingOption--qOtfq":i+="survey_view--disabledRatingOption--yKpRA survey_view--ratingOption--qOtfq":e!==n?i+="survey_view--ratingOptionBeforeLast--MsodE survey_view--ratingOption--qOtfq":i+="survey_view--ratingOption--qOtfq",e===n&&(i+=" survey_view--borderRadiusRight--YoJzw"),e===r&&(i+=" survey_view--borderRadiusLeft--nfaRl"),i},c=e.nps?[0,1,2,3,4,5,6,7,8,9,10]:[1,2,3,4,5],d=c[c.length-1],u=c[0],p=e.surveyName||"rating_survey",m=e.lowRatingSubtext||w.createElement(ek.Tx,{id:"rcs.surveys.very_dissatisfied"}),_=e.highRatingSubtext||w.createElement(ek.Tx,{id:"rcs.surveys.very_satisfied"});return w.createElement("div",{className:"survey_view--ratingQuestionView--IXPnE",onClick:()=>r(null)},w.createElement("p",{className:iO},e.question),w.createElement(er._C,{multiple:2}),w.createElement("div",{className:e.nps?"survey_view--ratingsNps--xMXsE survey_view--ratings--K-V5y":"survey_view--ratings--K-V5y"},c.map(t=>w.createElement("span",{key:t},w.createElement("div",{onClick:e=>l(t,e),className:s(t,u,d)},t),w.createElement(er._C,{multiple:1}),!e.ratingSubtextInline&&1===t&&w.createElement("p",{className:iP},m),!e.ratingSubtextInline&&t===d&&w.createElement("p",{className:iP},_)))),e.ratingSubtextInline&&w.createElement(w.Fragment,null,w.createElement("div",{className:"survey_view--ratingSubtexts--rk-0c"},w.createElement("p",null,m),w.createElement("p",null,_))),!e.optOutText&&w.createElement(er._C,{multiple:3}),e.optOutText&&w.createElement(w.Fragment,null,w.createElement(er._C,{multiple:2}),w.createElement("div",{className:"survey_view--optOutSection--4xm2R",onClick:()=>{o(!a),r(null)}},w.createElement(er.Km,{checked:a,readOnly:!0}),e.optOutText),w.createElement(er._C,{multiple:2})),w.createElement("div",{className:"survey_view--divider--dxUiy"}),w.createElement(er._C,{multiple:2}),w.createElement("div",{className:iS},e.progress&&w.createElement("p",{className:iT},w.createElement(ek.Tx,{id:"rcs.surveys.question_counter",currentStep:e.progress.currentStep,totalSteps:e.progress.totalSteps})),w.createElement(er.Uv,{onClick:()=>{(!e.required||null!==t||a)&&e.onSubmit(t)},className:iC,disabled:e.required&&null===t&&!a,ref:e=>{e&&i(iy.findDOMNode(e))},autoFocus:null!==t||a,trackingProperties:{[p]:JSON.stringify({...e.trackingProperties,rating:t})}},e.buttonText||w.createElement(ek.Tx,{id:"rcs.surveys.submit"}))))},e.MultipleChoiceQuestionsView=function(e){let t=Array(e.questions.length).fill(e.defaultChoice.displayValue),r={};for(let t of e.questions)r[t.trackingValue]=e.defaultChoice.trackingValue;let[n,o]=w.useState(t),[l,s]=w.useState(r),c=(t,r)=>{o(e=>{let n=[...e];return n[t]=r,n}),s(n=>{let i={...n},a=e.choices.find(e=>e.displayValue==r)||e.defaultChoice;return i[e.questions[t].trackingValue]=a.trackingValue,i})};return w.createElement("div",{className:"survey_view--multipleChoiceQuestionsView--YVIbT"},w.createElement("h1",null,e.header),w.createElement(er._C,{multiple:1}),e.subHeader&&w.createElement("p",null,e.subHeader),w.createElement("div",{className:"survey_view--questionContainer--ySWAr"},w.createElement(i,{choices:e.choices.map(e=>e.displayValue)}),e.questions.map((t,r)=>w.createElement(a,{key:r,question:t.displayValue,choices:e.choices.map(e=>e.displayValue),currentChoice:n[r],onClickChoice:e=>c(r,e)}))),w.createElement(er._C,{multiple:2}),w.createElement("div",{className:iS},e.progress&&w.createElement("p",{className:iT},w.createElement(ek.Tx,{id:"rcs.surveys.question_counter",currentStep:e.progress.currentStep,totalSteps:e.progress.totalSteps})),w.createElement(er.Sm,{onClick:e.onSubmit,trackingProperties:{...e.trackingProperties,...l},innerText:(0,ek.t)("rcs.surveys.submit_opinions")},w.createElement(ek.Tx,{id:"rcs.surveys.next"}))))},e.EnterFreeFormView=function(e){var t;let[r,n]=w.useState(""),[i,a]=w.useState(void 0),[l,s]=w.useState(null==(t=e.followUpQuestion)?void 0:t.defaultChoice),c=w.useRef(null);w.useEffect(()=>{c.current&&c.current.focus()},[]);let d=e=>{n(e.target.value),a(void 0)},u=e.usePrimaryButton?er.Uv:er.Sm,p={freeFormInput:r,initialAnswer:e.subtext};l&&(p.followUpQuestionResponse=l);let m=e.customResponseFieldName?{[e.customResponseFieldName]:JSON.stringify(p)}:p;return w.createElement(w.Fragment,null,e.badge_text&&w.createElement(w.Fragment,null,w.createElement(rk.kt,{color:rk.Eo.DEFAULT,text:e.badge_text}),w.createElement(er._C,{multiple:1.5})),w.createElement("div",{className:"survey_view--surveyOtherInput--68kbm"},w.createElement("p",{className:iO},e.question),w.createElement(er._C,{multiple:2}),e.subtext&&w.createElement(w.Fragment,null,w.createElement("p",null,e.subtext),w.createElement(er._C,{multiple:1.5})),e.label&&w.createElement(er.ao,{type:"textarea",htmlName:"enter-free-form",placeholder:e.placeholder_text||(0,ek.t)("rcs.surveys.would_love_to_know"),label:e.label,className:"survey_view--labeledTextInput--GJSJP",value:r,onChange:d,maxLength:1e3}),!e.label&&w.createElement(iv.y,{type:"textarea",placeholder:e.placeholder_text||(0,ek.t)("rcs.surveys.would_love_to_know"),ref:c,rows:5,className:`${i&&"survey_view--inputError---xPSn"||""}`,value:r,onChange:d,maxLength:1e3}),i&&w.createElement("p",{className:"survey_view--errorMessage--mkVJV"},i),e.followUpQuestion&&w.createElement(w.Fragment,null,w.createElement(er._C,{multiple:2}),w.createElement(o,{question:e.followUpQuestion.question,choices:e.followUpQuestion.choices.map(e=>e.displayValue),currentChoice:l??null,onClickChoice:e=>{s(e)}})),w.createElement(er._C,{multiple:2}),w.createElement("div",{className:iS},e.progress&&w.createElement("p",{className:iT},w.createElement(ek.Tx,{id:"rcs.surveys.question_counter",currentStep:e.progress.currentStep,totalSteps:e.progress.totalSteps})),w.createElement(u,{onClick:()=>{!e.required||r?e.onSubmit():a((0,ek.t)("rcs.surveys.this_field_is_required"))},trackingProperties:{...e.trackingProperties,...m,trackingDescriptor:iI.O.SUBMIT_FREE_FORM},innerText:(0,ek.t)("rcs.surveys.submit_free_form"),className:iC,autoFocus:!e.required},w.createElement(ek.Tx,{id:"rcs.surveys.submit"})))))},e.CompleteView=function({customSuccessMessage:e}){return w.createElement(w.Fragment,null,w.createElement("div",{className:"survey_view--surveyComplete--5LM73"},w.createElement(eR.A,{className:"survey_view--successIcon---l6LH",svg:iM.c}),w.createElement(er._C,{direction:"x",multiple:1.5}),w.createElement("p",{className:"survey_view--completeViewText--hOTK2"},e||w.createElement(ek.Tx,{id:"rcs.surveys.thanks_for_your_feedback"}))))},e.ModalView=function(e){let t=w.createElement(l,{...e});return"center"===e.position?w.createElement(iw.q6,null,t," "):w.createElement(iw.ke,null,t)},e.OffscreenModalView=w.forwardRef((e,t)=>w.createElement("div",{ref:t,"aria-hidden":!0,className:"survey_view--offscreenSurveyBoundsMeasurer--4y6x0"},w.createElement(l,{...e}))),e.AutosizedModalView=w.forwardRef((t,r)=>w.createElement(w.Fragment,null,void 0!==t.upcomingState&&w.createElement(e.OffscreenModalView,{fadingOut:!1,ref:r,dismissModal:eQ.Kw,hideCloseButton:t.shouldHideCloseButton(t.upcomingState),width:t.getDefaultWidth?t.getDefaultWidth(t.upcomingState):void 0,height:t.getDefaultHeight?t.getDefaultHeight(t.upcomingState):void 0},t.view(t.upcomingState)),void 0!==t.state&&w.createElement(e.ModalView,{position:t.position,width:t.width,height:t.height,fadingOut:t.fadingOut,dismissModal:t.dismissModal,hideCloseButton:t.shouldHideCloseButton(t.state),trackingPropertiesOnClose:t.trackingPropertiesOnClose},t.view(t.state))))})(y||(y={}));let ik={[ih.OPINION_QUESTION]:622,[ih.IMPROVEMENT_QUESTION]:340,[ih.COMPLETE]:340},iD=()=>[{displayValue:(0,ek.t)("org_admin_survey.n_a"),trackingValue:0},{displayValue:(0,ek.t)("org_admin_survey.strongly_disagree"),trackingValue:1},{displayValue:(0,ek.t)("org_admin_survey.disagree"),trackingValue:2},{displayValue:(0,ek.t)("org_admin_survey.neither_agree_nor_disagree"),trackingValue:3},{displayValue:(0,ek.t)("org_admin_survey.agree"),trackingValue:4},{displayValue:(0,ek.t)("org_admin_survey.strongly_agree"),trackingValue:5}],iF=[{displayValue:w.createElement(ek.Tx,{id:"org_admin_survey.figma_s_billing_model_is_fair"}),trackingValue:"billingModal"},{displayValue:w.createElement(ek.Tx,{id:"org_admin_survey.figma_makes_it_efficient_to_give_users_the_access_they_need"}),trackingValue:"userAccess"},{displayValue:w.createElement(ek.Tx,{id:"org_admin_survey.figma_makes_it_easy_to_manage_costs"}),trackingValue:"costManagement"}];function ix({dismissModal:e}){let t=(0,$.w1)(e=>e.currentUserOrgId),r=w.useRef(null),{state:n,upcomingState:i,setNextState:a,fadingOut:o,height:l}=E.useAutosizedSurveyState({initialState:ih.OPINION_QUESTION,completeStates:[ih.COMPLETE],offscreenBoundsRef:r,dismissModal:e}),s={orgId:t};return w.createElement(y.AutosizedModalView,{state:n,upcomingState:i,getDefaultWidth:e=>ik[e],width:ik[n],height:l,shouldHideCloseButton:e=>e===ih.COMPLETE,getDefaultHeight:e=>e===ih.COMPLETE?236:void 0,dismissModal:e,fadingOut:o,ref:r,view:e=>{switch(e){case ih.OPINION_QUESTION:return w.createElement(y.MultipleChoiceQuestionsView,{choices:iD(),defaultChoice:{displayValue:(0,ek.t)("org_admin_survey.not_answered"),trackingValue:0},questions:iF,header:(0,ek.t)("org_admin_survey.can_you_tell_us_about_your_experience_using_figma"),subHeader:(0,ek.t)("org_admin_survey.rate_your_level_of_agreement_with_the_following_statements"),progress:{currentStep:1,totalSteps:2},trackingProperties:s,onSubmit:()=>a(ih.IMPROVEMENT_QUESTION)});case ih.IMPROVEMENT_QUESTION:return w.createElement(y.EnterFreeFormView,{question:(0,ek.t)("org_admin_survey.what_would_improve_your_experience"),progress:{currentStep:2,totalSteps:2},trackingProperties:s,onSubmit:()=>a(ih.COMPLETE)});case ih.COMPLETE:return w.createElement(y.CompleteView,null)}}})}var iU=r(627284),iB=r(238464),iG=r(187044),iV=((u=iV||{}).AWAIT_ADMIN_PANEL="await_admin_panel",u.AWAIT_LEAVE_SETTINGS="await_leave_settings",u.COMPLETED="completed",u);let iH=(0,iU.U9)({initial:"await_admin_panel",states:[{id:"await_admin_panel",transitions:[(0,iU.gP)("Context Viewed","await_leave_settings",{condition:({event:e})=>e.properties.name===iG.i8.ORG_ADMIN_SETTINGS_PAGE})]},{id:"await_leave_settings",transitions:[(0,iU.gP)("Context Viewed","completed",{condition:({event:e})=>e.properties.name!==iG.i8.ORG_ADMIN_SETTINGS_PAGE})]},{id:"completed",terminal:!0}]}),iW=(0,iB.KI)("left_admin_settings",iH),iK="seen_org_admin_survey",iY=(0,rv.Ww)(iK);function iq(e){return(Date.now()-e.getTime())/864e5}function ij(e,t,r){let n=!!r&&r.canAdmin,i=e&&90>iq(new Date(e.updatedAt)),a=t&&7>=iq(t);return n&&!i&&!a}function i$(){let e=(0,id.U$)(iW),t=(0,Z.m4)(iY),r=(0,Z.m4)(rv.qm),n=(0,Z.m4)(ic.O6),i=(0,rb.W)({overlay:rS.icA,priority:rI.g.SURVEY},[t,r,n]);return w.useEffect(()=>{e.completed&&(e.reset(),i.show({canShow:ij}))},[i,e]),w.createElement(iu.S,{isShowing:i.isShowing,userFlagOnShow:iK},w.createElement(rV.kH,{name:"Org Admin Survey Modal",properties:{surveyVersion:2}},w.createElement(ix,{dismissModal:i.complete,onClickPrimaryCta:i.complete,forceRender:eQ.Kw})))}var iZ=r(313373),iz=r(505752);function iQ({dismissModal:e}){let t=w.useRef(null),{state:r,upcomingState:n,clickAnswer:i,setNextState:a,fadingOut:o,height:l,width:s}=E.useAutosizedSurveyState({initialState:i_.WHY_ABANDON_QUESTION,offscreenBoundsRef:t,completeStates:[i_.COMPLETE],dismissModal:e});return w.createElement(y.AutosizedModalView,{state:r,upcomingState:n,height:l,width:s,shouldHideCloseButton:e=>e===i_.COMPLETE,getDefaultHeight:e=>e===i_.COMPLETE?240:void 0,dismissModal:e,fadingOut:o,ref:t,view:e=>{switch(e){case i_.WHY_ABANDON_QUESTION:return w.createElement(y.QuestionView,{question:(0,ek.t)("rcs.surveys.abandoned_org_upgrade_question"),surveyAnswers:[{answer:(0,ek.t)("rcs.surveys.abandoned_org_upgrade_reason_cost"),nextState:i_.COMPLETE},{answer:(0,ek.t)("rcs.surveys.abandoned_org_upgrade_reason_billing_complexity"),nextState:i_.COMPLETE},{answer:(0,ek.t)("rcs.surveys.abandoned_org_upgrade_reason_annual_billing"),nextState:i_.COMPLETE},{answer:(0,ek.t)("rcs.surveys.abandoned_org_upgrade_reason_just_looking"),nextState:i_.COMPLETE},{answer:(0,ek.t)("rcs.surveys.abandoned_org_upgrade_reason_other"),nextState:i_.FREE_FORM_INPUT}],onClickAnswer:i});case i_.FREE_FORM_INPUT:return w.createElement(y.EnterFreeFormView,{question:(0,ek.t)("rcs.surveys.abandoned_org_upgrade_question"),onSubmit:()=>a(i_.COMPLETE)});case i_.COMPLETE:return w.createElement(y.CompleteView,null)}}})}var iX=r(568);let iJ=(0,iU.U9)({initial:"await_cart",states:[{id:"await_cart",transitions:[(0,iU.gP)("Context Viewed","await_abandon_cart",{condition:({event:e})=>e.properties.name===iG.i8.ORG_CART})]},{id:"await_abandon_cart",transitions:[(0,iU.gP)("Context Viewed","complete",{condition:({event:{properties:{name:e}}})=>e===iG.i8.FILE_BROWSER||e===iG.i8.TEAM_PAGE})]},{id:"complete",terminal:!0}]}),i0=(0,iX.KI)("org_cart_abandon_survey",iJ),i1="seen_org_cart_abandon_survey",i2=(0,rv.y_)("completed_org_cart_flow"),i4=(0,rv.y_)(i1),i3={surveyVersion:1};function i6(){let e=(0,Z.m4)(i2),t=(0,Z.m4)(rv.qm),r=(0,Z.m4)(iZ.uY),n=(0,Z.m4)(iZ.n4),i=(0,Z.m4)(i4),a=(0,id.U$)(i0),o=(0,rb.W)({overlay:rS.U3_,priority:rI.g.SURVEY},[e,t,r,n,i]),l=(0,w.useCallback)(()=>{o.show({canShow(e,t,r,n,i){let a=new Date(Date.now()-7776e6);return!e&&!r&&!n&&(null==t||t<a)&&!i}})},[o]);return(0,id.qJ)(a,({to:e})=>{"complete"===e&&(l(),a.reset())}),w.createElement(iz.m,{element:iQ,isShowing:o.isShowing,modalType:rw.GK.SELF_CONTAINED,onClickPrimaryCta:o.complete,onClose:o.complete,onManualDismiss:o.complete,trackingContextName:"Org Cart Abandon Survey",trackingProperties:i3,userFlagOnShow:i1,testId:"org-cart-abandon-survey"})}var i8=((p=i8||{}).PENDING="Pending",p.ACTIVE="Active",p.EXPIRED="Expired",p.DEACTIVATED="Deactivated",p),i5=r(492084);(e=>{e.getBillingTrial=function(t){return{...t,status:(0,e.getBillingTrialStatus)(t)}},e.getBillingTrialStatus=(0,i5.m)(t=>(0,e.isDeactivated)(t)?i8.DEACTIVATED:(0,e.isExpired)(t)?i8.EXPIRED:(0,e.isValidated)(t)?i8.ACTIVE:i8.PENDING),e.isDeactivated=(0,i5.m)(e=>!!e.deactivatedAt),e.isExpired=(0,i5.m)(e=>(0,t6.c)().utc().isAfter((0,t6.c)(e.trialPeriodEnd).utc())),e.isValidated=(0,i5.m)(e=>{let t=e.metadata;return!!(null==t?void 0:t.validated_at)||!!(null==t?void 0:t.validatedAt)})})(b||(b={}));var i7=r(836780);let i9=[U.aY.ORGANIZATION,U.aY.ENTERPRISE];var ae=r(873036),at=r(876760);(e=>{function t(e){return i9.includes(e.planType)&&e.resourceType===U._M.ORG}e.getOrgTrial=function(r,n){return t(r)?{canValidate:(0,e.canValidateOrgTrial)(r,n),...r}:null},e.getEstimatedEditorCount=function(e){var t;let r=null==(t=e.metadata)?void 0:t.editorCount;return r?parseInt(r,10):0},e.validateOrgTrialMutation=at.qO.Mutation(async e=>{await ae.UT.validateTrial(e)}),e.canValidateOrgTrial=(0,i5.m)((e,t)=>{let r=e.resourceId;return!!t.user&&(0,rg.canAdminOrg)(r,t)}),e.isOrgTrial=t})(v||(v={}));let ar=(0,i7.If)(e=>(0,rg.getPermissionsStateMemoized)(e)),an=(0,Z.KU)(e=>(0,rF.q4)((0,rm.onA)({resourceId:e,resourceType:U._M.ORG}),(e,t)=>{let r=t(ar),n=e.billingTrialForResource;return n?v.getOrgTrial(b.getBillingTrial(n),r):null}));var ai=r(158196),aa=r(282812);let ao="org_trial_modal--modal--B-euv";function al({orgTrial:e}){let t=(0,$.OY)();if(!e||e.status!==i8.EXPIRED)return null;let r=e.planType===U.aY.ENTERPRISE?w.createElement(ek.Tx,{id:"payments_modal.org_trial.enterprise"}):w.createElement(ek.Tx,{id:"payments_modal.org_trial.organization"});return w.createElement(ai.wJ,{className:ao,dispatch:t,size:360,title:w.createElement(r0.a,{fontSize:11,fontWeight:"bold",i18nId:"payments_modal.org_trial_expired.title",i18nParams:{planText:r}}),disableClickOutsideToHide:!0,disableKeyboardEventPropagation:!0,"data-testid":"org_trial_expired_modal"},w.createElement(rJ.g,null,w.createElement(r0.a,{i18nId:"payments_modal.org_trial_expired.description"})),w.createElement(rJ.g,{padding:{top:24}},w.createElement(aa.m,{text:w.createElement(ek.Tx,{id:"payments_modal.org_trial.switch_my_workspace"}),dataTestId:"workspace-switcher-link"})))}function as(){let e=(0,$.w1)(e=>e.currentUserOrgId);return e?w.createElement(ac,{currentOrgId:e}):null}function ac({currentOrgId:e}){let t=(0,eZ.m4)(an(e)),r=(0,rb.W)({overlay:rS.yp8,priority:rI.g.URGENT_ALERT},[t]);return(0,w.useEffect)(()=>{var e;r.isShowing&&(null==(e=t.data)?void 0:e.status)!==i8.EXPIRED?r.complete():r.show({canShow:e=>!!e&&e.status===i8.EXPIRED})},[r,t]),w.createElement(iz.m,{isShowing:r.isShowing,element:()=>w.createElement(al,{orgTrial:t.data}),modalType:rw.GK.SELF_CONTAINED,trackingContextName:"org_trial_expired_modal",onClose:r.complete,onClickPrimaryCta:r.complete,onManualDismiss:r.complete,testId:"org_trial_expired_overlay"})}var ad=r(814508),au=r(915104);function ap(e){let{orgTrial:t}=e,[r,n]=w.useState(!1),i=(0,$.OY)(),a=(0,ad.cQ)(v.validateOrgTrialMutation);if(t.status!==i8.PENDING)return null;let o=t.planType===U.aY.ENTERPRISE?w.createElement(ek.Tx,{id:"payments_modal.org_trial.enterprise"}):w.createElement(ek.Tx,{id:"payments_modal.org_trial.organization"}),l=t.canValidate,s=l?w.createElement(r0.a,{i18nId:"payments_modal.org_trial_pending.welcome_to_your_figma_trial",i18nParams:{planText:o}}):w.createElement(r0.a,{i18nId:"payments_modal.org_trial_pending.your_trial_is_almost_ready"}),c=(0,t6.c)(t.trialPeriodEnd).utc().format("ll"),d=v.getEstimatedEditorCount(t),u=w.createElement(er.Gy,{href:"/ssa/",target:"_blank",trusted:!0,"data-testid":"ssa-link"},w.createElement(ek.Tx,{id:"payments_modal.org_trial_pending.ssa_link"})),p=w.createElement(ek.Tx,{id:"payments_modal.org_trial_pending.i_agree"});return w.createElement(ai.wJ,{className:ao,dispatch:i,size:l?380:360,title:w.createElement(r0.a,{fontSize:11,fontWeight:"bold"},s),disableClickOutsideToHide:!0,disableKeyboardEventPropagation:!0,"data-testid":"org_trial_pending_modal"},l?w.createElement(rJ.g,{direction:"vertical",spacing:16,padding:{right:8}},w.createElement(r0.a,{i18nId:"payments_modal.org_trial_pending.make_sure_things_look_right",i18nParams:{planText:o}}),w.createElement(am,{text:w.createElement(r0.a,{i18nId:"payments_modal.org_trial_pending.expiration_date",i18nParams:{planText:o,endDate:c}})}),w.createElement(am,{text:w.createElement(r0.a,{i18nId:"payments_modal.org_trial_pending.editor_count.seat_rename",i18nParams:{planText:o,editorCount:d}})}),w.createElement(am,{text:w.createElement(r0.a,{i18nId:"payments_modal.org_trial_pending.no_obligation_to_purchase",i18nParams:{planText:o}})}),w.createElement(am,{text:w.createElement(r0.a,{i18nId:"payments_modal.org_trial_pending.terms_and_conditions",i18nParams:{ssaLink:u}})}),w.createElement(r0.a,{i18nId:"payments_modal.org_trial_pending.by_clicking_agree",i18nParams:{agreeText:p,ssaLink:u}})):w.createElement("div",{className:ra.cx.pr8.$},w.createElement(r0.a,{i18nId:"payments_modal.org_trial_pending.trial_still_needs_admin_approval",i18nParams:{planText:o}})),w.createElement(rJ.g,{direction:"horizontal",horizontalAlignItems:"space-between",verticalAlignItems:"center",padding:{top:24}},w.createElement(aa.m,{text:w.createElement(ek.Tx,{id:"payments_modal.org_trial.switch_my_workspace"}),dataTestId:"workspace-switcher-link"}),l&&w.createElement(au.Ix,{disabled:r,variant:"primary",onClick:()=>{r||(n(!0),a({orgId:t.resourceId}).then(()=>{i(eG.M.flash((0,ek.t)("payments_modal.org_trial_pending.success")))}).catch(e=>{console.error(e),i(eG.M.error((0,ek.t)("payments_modal.org_trial_pending.error"))),n(!1)}))},dataTestId:"submit-validation-button",trackingProperties:{trackingDescriptor:iI.O.AGREE,orgId:e.orgTrial.resourceId}},p)))}function am(e){return w.createElement(rJ.g,{direction:"horizontal",spacing:8,verticalAlignItems:"start"},w.createElement("div",{className:ra.cx.h16.flex.flexColumn.justifyCenter.$},w.createElement("div",{className:ra.cx.colorBgInverse.h4.w4.$})),e.text)}function a_(){let e=(0,$.w1)(e=>e.currentUserOrgId);return e?w.createElement(ah,{currentOrgId:e}):null}function ah({currentOrgId:e}){let t=(0,Z.m4)(an(e)),r=(0,rb.W)({overlay:rS.aMC,priority:rI.g.URGENT_ALERT},[t]);return(0,w.useEffect)(()=>{var e;r.isShowing&&(null==(e=t.data)?void 0:e.status)!==i8.PENDING?r.complete():r.show({canShow:e=>!!e&&e.status===i8.PENDING})},[r,t]),w.createElement(iz.m,{isShowing:r.isShowing,element:()=>t.data?w.createElement(ap,{orgTrial:t.data}):null,modalType:rw.GK.SELF_CONTAINED,trackingContextName:"org_trial_pending_modal",onClose:r.complete,onClickPrimaryCta:r.complete,onManualDismiss:r.complete,testId:"org_trial_pending_overlay"})}let ag=(0,i7.If)(e=>e.notifications.length);function af({dismissModal:e}){let t=w.useRef(null),{state:r,upcomingState:n,setNextState:i,fadingOut:a,height:o,width:l}=E.useAutosizedSurveyState({initialState:im.FREE_FORM_INPUT,offscreenBoundsRef:t,completeStates:[im.COMPLETE],dismissModal:e});return w.createElement(y.AutosizedModalView,{state:r,upcomingState:n,height:o,width:l,shouldHideCloseButton:e=>e===im.COMPLETE,getDefaultHeight:e=>e===im.COMPLETE?240:void 0,dismissModal:e,fadingOut:a,ref:t,view:e=>{switch(e){case im.FREE_FORM_INPUT:return w.createElement(y.EnterFreeFormView,{question:(0,ek.t)("rcs.surveys.abandoned_pro_upgrade_question"),onSubmit:()=>i(im.COMPLETE)});case im.COMPLETE:return w.createElement(y.CompleteView,null)}}})}let aE=e=>"Upgrade Team"===e.properties.name&&("create"!==e.properties.teamFlowType||"choose_plan"===e.properties.step||"payment_and_address"===e.properties.step||"confirm_pay"===e.properties.step),ay=(0,iB.U9)({initial:"await_enter_pro_cart",states:[{id:"await_enter_pro_cart",transitions:[(0,iB.gP)("Context Viewed","complete",{condition:({event:e})=>aE(e)})]},{id:"complete",terminal:!0}]}),ab=(0,iB.KI)("enter_pro_cart",ay),av="seen_pro_cart_abandon_survey",aI=(0,rv.y_)("completed_pro_cart_flow"),aw=(0,rv.y_)(av),aT=iZ.uY;function aS(){let e=(0,Z.m4)(ag),t=(0,Z.m4)(aI),r=(0,Z.m4)(aw),n=(0,Z.m4)(rv.qm),i=(0,Z.m4)(aT),a=(0,rb.W)({overlay:rS.eUq,priority:rI.g.SURVEY},[t,r,n,i]),o=(0,id.U$)(ab);return(0,ry.y)(a.uniqueId,"Context Viewed",t=>{var r;let n=null==(r=t.properties)?void 0:r.name;(n===iG.i8.FILE_BROWSER||n===iG.i8.TEAM_PAGE)&&o.completed&&a.show({canShow:(t,r,n,i)=>{let a=!!n&&n.getTime()+7776e6>Date.now();return a&&o.reset(),!t&&!i&&!r&&!a&&!e}})}),w.createElement(iz.m,{isShowing:a.isShowing,modalType:rw.GK.SELF_CONTAINED,trackingContextName:"Pro Cart Abandon Survey",element:af,onClickPrimaryCta:eQ.Kw,onClose:eQ.Kw,onManualDismiss:a.complete,userFlagOnShow:av})}var aC=r(740200);let aA=w.memo(function(){return w.createElement(w.Fragment,null,w.createElement(aC.i,null,w.createElement(a_,null),w.createElement(as,null)),w.createElement(aC.i,null,w.createElement(i6,null)),w.createElement(aC.i,null,w.createElement(aS,null)),w.createElement(aC.i,null,w.createElement(i$,null)))});function aO(){return null}var aN=r(721500),aL=r(878164),aR=r(733960),aP=r(948544),aM=r(40392),ak=r(925388),aD=r(751956),aF=r(1084),ax=r(439460),aU=r(236296),aB=r(136736),aG=r(402980),aV=r(535328),aH=r(364218),aW=r(375376),aK=r(37500),aY=r(886916),aq=r(139776),aj=r(702796),a$=r(383456),aZ=r(645484),az=r(832148),aQ=r(846004),aX=r(685276),aJ=r(333928),a0=r(302872),a1=r(562128),a2=r(78720),a4=r(794132),a3=r(270928),a6=r(793604),a8=r(202613),a5=r(841676),a7=r(144984),a9=r(112044),oe=r(694752),ot=r(469684);function or({editorType:e,isDisabled:t,isSelected:r,folder:n,currentOrgId:i}){let a=(0,$.OY)(),o=on(i),l="slides"===e;(0,e1.gp)();let{title:s,subtitle:c}="design"===e?{title:(0,ek.t)("desktop_new_tab.design_card.title"),subtitle:(0,ek.t)("desktop_new_tab.design_card.subtitle")}:"whiteboard"===e?{title:(0,ek.t)("desktop_new_tab.figjam_card.title"),subtitle:(0,ek.t)("desktop_new_tab.figjam_card.subtitle")}:{title:(0,ek.t)("desktop_new_tab.slide_card.title"),subtitle:(0,ek.t)("desktop_new_tab.slide_card.subtitle")},d=n?n.project.id:void 0,u=!!n&&("design"===e||"slides"===e?!(0,n$.SQ)((0,aH.hn)(n.team),{type:n$.GV.ADD_DESIGN_FILE}):!(0,n$.SQ)((0,aH.hn)(n.team),{type:n$.GV.ADD_FIGJAM_FILE}));return l&&(!o||u)?null:w.createElement("div",{className:J()({"new_file_card--fileCard--O7OCx":!0,"new_file_card--fileCardSizeWithSlides--dqkOH":o,"new_file_card--disabledCard--HLDVs":t,"new_file_card--selectedCard--ia4R4":r}),onClick:function(){if(!t){if(u&&n&&(0,a7.gz)(e)){a(rl.A5({type:oe.EP,data:{team:n.team,resource:a5.kJ.FILE,action:a9.qW.CREATE_FILE_FROM_DROPDOWN,editorType:e,currentPlan:a8.O.Plan.STARTER,upsellPlan:a8.O.Plan.PRO}}));return}a(ak.SC({editorType:e,projectId:d}))}},role:"button",tabIndex:0,"data-editor-theme":l?"piper":e,"data-preferred-theme":document.body.dataset.preferredTheme},w.createElement("div",{className:J()({"new_file_card--plus--W6UAz":!0,"new_file_card--plusWithSlides--y61SS":o})},w.createElement(eR.A,{svg:ot.c,className:"new_file_card--plusIcon--myaLa"})),w.createElement("div",{className:"new_file_card--title---ZPHj"},s),w.createElement("div",{className:J()({"new_file_card--subtitle--2pjnm":!0,"new_file_card--subtitleWithSlides--mvmUM":o})},c))}function on(e){return(0,aY.i)()&&e}let oi="recent_files--separator--Ww027",oa="recent_files--thumbnail--ApY9s",oo="recent_files--placeholdersContainer--mAriX",ol="recent_files--fadeOut--A045K";var os=((m=os||{})[m.LOADING=0]="LOADING",m[m.TRANSITIONING=1]="TRANSITIONING",m[m.LOADED=2]="LOADED",m);function oc(e){return e.type===aU.Az.FILE?e.file:e.mainFile}function od(e){let[t,r]=(0,w.useState)(e?2:0),n=(0,w.useRef)(null);return(0,w.useEffect)(()=>{e?(r(1),n.current=setTimeout(()=>{r(2),n.current=null},2e3)):(r(0),n.current&&clearTimeout(n.current))},[e,n]),t}function ou({recentItems:e,selectedItem:t}){let r=(0,$.OY)(),n=(0,eo.C2)(),i=(0,$.w1)(e=>e.currentUserOrgId),a=(0,$.w1)(e=>(0,eS.gv)(e,{view:"recentFiles"})),o=(0,$.w1)(e=>e.activeFileUsers),l="loaded"===(0,aL.M1)(i).status,s=new Set;for(let t of e)s.add(aU._U.getOrgId(t)??null);let c=Array(...s).sort(),d=(0,ej.yC)(()=>c.map(e=>({currentOrgId:e,currentTeamId:null})),[c]),u=(0,t7.Kb)(rm.wDW,d),p=(0,w.useMemo)(()=>{let e=new Set;for(let t of u){let r=t.result;if("loaded"!==r.status)continue;let n=r.data.currentUser.favoritedFiles??[],i=r.data.currentUser.favoritedPrototypes??[];for(let t of n)t.file&&e.add(t.file.key);for(let t of i)t.prototype&&e.add(t.prototype.id)}return e},[u]),m=(0,ej.e)(()=>(0,aq.Ib)(e.map(e=>e.type===aU.Az.FILE||e.type===aU.Az.REPO?oc(e).key:null)),[e],(e,t)=>{let r=new Set(e);for(let e of t){if(!r.has(e))return!1;r.delete(e)}return 0===r.size}),_=w.useMemo(()=>m.map(e=>({fileKey:e})),[m]),h=(0,t7.Kb)(rm.I7G,_,{enabled:!0});(0,w.useEffect)(()=>{for(let e of h)if("loaded"===e.result.status&&e.result.data){let t=e.args.fileKey,n=(0,az.M)(e.result.data);r(aW.cj({fileKey:t,users:n}))}},[r,m,h]);let g=(0,Z.m4)(aj.A),f=0!==e.length,E=od(l&&!g),y=od(l&&f&&!g);return w.createElement("div",{className:J()({"recent_files--fileList--2lPcn":!0,"recent_files--fileListWidthWithSlides--R7NAa":on(i)})},w.createElement("div",{className:"recent_files--recentFilesHeaderContainer--bwBGr"},2!==E&&w.createElement(of,{state:E}),0!==E&&w.createElement(w.Fragment,null,w.createElement("p",{className:"recent_files--recentFilesHeader--cQ-VC recent_files--primaryText--Csq5Q"},f?w.createElement(ek.Tx,{id:"desktop_new_tab.recent_files_header"}):w.createElement(ek.Tx,{id:"desktop_new_tab.no_recent_files_header"})),f&&w.createElement("p",{className:"recent_files--recentFilesLastViewedHeader--vcJDc recent_files--primaryText--Csq5Q"},w.createElement(ek.Tx,{id:"desktop_new_tab.last_viewed_header"})))),w.createElement("div",{className:"recent_files--recentFilesContainer--fCLN8"},2!==y&&w.createElement(oE,{state:y}),0!==y&&w.createElement("div",{className:"recent_files--loadedRecentFiles--lT-EL"},e.map(e=>{let r=aU._U.getId(e);return w.createElement(w.Fragment,{key:r},w.createElement(op,{item:e,activeFileUsers:o,favoritedItems:p,isSelected:t===r,user:n}))}))),0!==y&&w.createElement("a",{className:"recent_files--browseMoreLink--Ohk3y",href:a,onClick:function(e){(0,D.we)("Desktop New Tab Browse More Recents"),e.preventDefault(),r(eV.Ej({view:"recentFiles"}))}},w.createElement(ek.Tx,{id:"desktop_new_tab.browser_more_recent_files_link"})))}function op({item:e,activeFileUsers:t,favoritedItems:r,isSelected:n,user:i}){let a;let o=(0,$.OY)(),l=aU._U.getName(e),s=(0,w.useRef)(null),[c,d]=(0,w.useState)(null);(0,w.useEffect)(()=>{s.current&&(s.current.offsetWidth<s.current.scrollWidth&&l?d(l):d(null))},[s,l]);let u=(0,w.useRef)(null);(0,w.useEffect)(()=>{if(n&&u.current){let e=window.getComputedStyle(u.current),t=parseInt(e.getPropertyValue("scroll-margin-top"))||0,r=parseInt(e.getPropertyValue("scroll-margin-bottom"))||0,n=u.current.getBoundingClientRect(),i=n.top<t,a=n.bottom>window.innerHeight-r;i?u.current.scrollIntoView({behavior:"smooth",block:"start",inline:"nearest"}):a&&u.current.scrollIntoView({behavior:"smooth",block:"end",inline:"nearest"})}},[n]);let p=(0,$.w1)(e=>e.dropdownShown),m=null,_=!1,h=[],g=null;if(e.type===aU.Az.FILE||e.type===aU.Az.REPO){let n=oc(e);a=(0,aJ.yi)(n),_=r.has(n.key),m=w.createElement(om,{file:n,item:e}),h=(0,az.G)(t,i.id,n.key),g=n.key}else e.type===aU.Az.PROTOTYPE&&(a=e.prototype.url,_=!!e.prototype.id&&r.has(e.prototype.id),m=w.createElement(o_,{prototype:e.prototype,item:e}),g=e.prototype.id);let f=(null==p?void 0:p.type)===a6.U7&&(null==p?void 0:p.data.resourceId)===g,E=aU._U.getAccessedAt(e);return w.createElement("div",{className:J()("recent_files--fileListItemAndStarContainer--v-8Uz",_&&"recent_files--isFavorited--GsBmn")},w.createElement("div",{className:f?"recent_files--favoriteStarContainerVisible--SzmQa recent_files--favoriteStarContainer--yT5h4":"recent_files--favoriteStarContainer--yT5h4",onClickCapture:e=>e.preventDefault()},m),w.createElement("a",{className:J()("recent_files--fileListItem--Czr-8",n&&"recent_files--selectedItem--q3sit"),href:a,onClick:function(t){if(t.preventDefault(),e.type===aU.Az.FILE||e.type===aU.Az.REPO){let t=oc(e);o(ak.qc({fileKey:t.key}))}else e.type===aU.Az.PROTOTYPE&&o(ak.DY({fileKey:e.prototype.file_key,pageId:e.prototype.page_id}))},ref:u},w.createElement(oh,{item:e}),w.createElement("p",{className:"recent_files--titleMetadata--G2Ju6 recent_files--primaryText--Csq5Q recent_files--metadata--MhlWS",ref:s,"data-tooltip-type":n0.wL.TEXT,"data-tooltip":c,dir:"auto"},l),w.createElement("p",{className:"recent_files--timestampMetadata--GvxiV recent_files--secondaryText---mq5y recent_files--metadata--MhlWS"},E?w.createElement(a$.O,{date:E,capitalize:!0}):null),w.createElement(a0.u,{className:"recent_files--facePile--M1rjO",entityList:h,maxNumHeads:3,currentUser:i})))}function om({file:e,item:t}){let r=(0,$.OY)(),n=w.useCallback((n,i,a)=>{let o={entrypoint:"desktop_new_tab_recents",favoriteId:i,sectionId:a,file:e,repoId:t.type===aU.Az.REPO?t.repo.id:void 0,fileBrowserFavorite:!0};n?r(aZ.U5(o)):r(aZ.o9(o))},[e,t,r]);return w.createElement(a2.i,{setFavorite:n,favoriteType:U.M$.FILE,resourceId:e.key,isDesktopNewTab:!0,orgId:aU._U.getOrgId(t)??null,teamId:aU._U.getFavoriteResourceTeamId(t)??null})}function o_({prototype:e,item:t}){let r=(0,$.OY)(),n=w.useCallback((t,n,i)=>{let a={entrypoint:"desktop_new_tab_recents",favoriteId:n,sectionId:i,prototype:e,fileBrowserEntryPoint:!0};t?r(aZ.mG(a)):r(aZ.xT(a))},[e,r]);return e.id?w.createElement(a2.i,{setFavorite:n,favoriteType:U.M$.PROTOTYPE,resourceId:e.id,isDesktopNewTab:!0,orgId:aU._U.getOrgId(t)??null,teamId:aU._U.getFavoriteResourceTeamId(t)??null}):null}function oh({item:e}){let t=null,r=null,n=(0,aX.g)(),i=(0,aG.Ad)();if(e.type===aU.Az.FILE||e.type===aU.Az.REPO){let a=oc(e),{url:o,fullWidth:l,isLocked:s}=(0,aQ.Qp)(a,i),c=n(a),d="whiteboard"===a.editor_type?"recent_files--figjamBadge--quekD recent_files--fileIconTypeBadge--DBApO":a.last_published_at?"recent_files--libraryBadge--Lg-ZG recent_files--fileIconTypeBadge--DBApO":"recent_files--designBadge--DX59C recent_files--fileIconTypeBadge--DBApO";t=w.createElement(a1.wZ,{type:c,size:a1.mW.SMALL,className:d}),r=w.createElement(a4.m,{additionalClassName:oa,editor_type:a.editor_type,client_meta:a.client_meta,thumbnail_url:o,isLocked:s,fullWidth:l,listView:!0})}else e.type===aU.Az.PROTOTYPE&&(t=w.createElement(og,null),r=w.createElement(a3.I,{additionalClassName:oa,isLocked:!!e.prototype.fig_file.has_proto_link_password,thumbnail_url:e.prototype.thumbnail_url}));return w.createElement("div",{className:"recent_files--thumbnailContainer--WJlvr"},r,t)}function og(){return w.createElement("div",{className:"recent_files--prototypeBadge--DKPgx recent_files--fileTypeBadge--XTpDJ"},w.createElement("svg",{width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},w.createElement("path",{d:"M0 2C0 0.89543 0.895431 0 2 0H12C13.1046 0 14 0.895431 14 2V12C14 13.1046 13.1046 14 12 14H2C0.89543 14 0 13.1046 0 12V2Z"}),w.createElement("path",{d:"M4.5 10.5V3.5L10.5 7L4.5 10.5Z",fill:"var(--color-icon, #ffffff)"})))}function of({state:e}){let t=J()(oo,"recent_files--headerPlaceholderContainer--II265",1===e&&ol);return w.createElement("div",{className:t},w.createElement("div",{className:"recent_files--headerPlaceholder--4W0ry recent_files--placeholder--C3q68"}))}function oE({state:e}){let t=[];for(let e=0;e<10;e++)t.push(w.createElement(w.Fragment,{key:e},w.createElement("div",{className:oi}),w.createElement("div",{className:"recent_files--placeholderRow--EKNLE"},w.createElement("div",{className:"recent_files--thumbnailPlaceholder--p3ZL6 recent_files--placeholder--C3q68"}),w.createElement("div",{className:"recent_files--titlePlaceholder--jISa4 recent_files--placeholder--C3q68"}),w.createElement("div",{className:"recent_files--timestampPlaceholder--SwyAW recent_files--placeholder--C3q68"}))));let r=J()(oo,1===e&&ol);return w.createElement("div",{className:r},t,w.createElement("div",{className:oi}))}let oy={type:"newDesignFile"},ob={type:"newFigjamFile"},ov={type:"newSlidesFile"},oI={type:"search",index:0},ow={type:"search",index:"see-all"};function oT(e){return{type:"selectItem",item:e}}function oS(e){return{type:"dispatchAction",callback:e}}function oC(){return{type:"stopEvent"}}function oA(){return{type:"ignore"}}function oO(e){return e===oy||e===ob||e===ov}var oN=r(488499),oL=r(636700);function oR(){var e,t;let r;let n=(0,$.OY)();(0,oN.c$)();let i=(0,$.w1)(e=>e.currentUserOrgId),a=(0,aG.QN)(i),o=(0,aL.M1)(i,[],!0).data,l=(0,aL.j7)(i).data,s=(0,$.w1)(e=>e.recentRepos),c=(0,$.w1)(e=>e.selectedBranchKeyByRepoId),d=(0,$.w1)(e=>e.desktopNewTab.isCreatingFile),u=(0,$.w1)(e=>e.desktopNewTab.loadingBackgroundColor),[p,m]=(0,w.useState)(oI),_=w.useRef(null),[h,g]=(0,w.useState)(0),f=w.useRef(null),{searchResults:E}=(0,aB.U)(),y=(0,aB.g)(),b=(0,Z.m4)(iZ.m2),v=(b.data?b.data:iG._O.ORG)===iG._O.ORG,I=(0,aD.mc)(!!(0,Z.m4)(iZ.of).data,v),[T,S]=(0,w.useState)(void 0),C=[],A=null,O=(0,t7.Qb)(rm.yCo,{orgId:null});if("loaded"===O.status){let t=(C=O.data.currentUser.teamEditRoles.map(e=>e.team).filter(e=>!!(e&&e.projects&&!e.deletedAt&&e.projects.length>0)))[0],n=null==(e=C[0])?void 0:e.projects;r=C.length>0&&I,C.length>0&&n&&(null==n?void 0:n.length)>0&&(A=void 0===T?{team:t,project:n[0]}:T)}let N=(0,w.useRef)([]),L=(0,w.useMemo)(()=>{if(d)return N.current;let e=[];for(let t of o??[])e.push({type:aU.Az.FILE,file:t});for(let t of l??[])e.push({type:aU.Az.PROTOTYPE,prototype:t});for(let t of s){let r=t.files.find(e=>(0,ax.cX)(e,t.repo));r&&e.push({type:aU.Az.REPO,repo:t.repo,branches:t.files,accessed_at:t.timestamp,mainFile:r,selectedBranchKey:c[t.repo.id]||""})}return e.sort((e,t)=>{let r=aU._U.getAccessedAt(e),n=aU._U.getAccessedAt(t);return r&&n?-r.localeCompare(n):n?1:r?-1:0}),e.slice(0,10)},[o,l,s,c,d,N]);N.current=L,(0,w.useEffect)(()=>{let e=e=>{let t=function(e,t){if(!(null!==t.selectedItem))return e===t5.as.UP_ARROW||e===t5.as.DOWN_ARROW||e===t5.as.LEFT_ARROW||e===t5.as.RIGHT_ARROW?oT(oy):oA();switch(e){case t5.as.UP_ARROW:return function({selectedItem:e,recentItems:t,searchResults:r,showSearchResults:n}){if("recent"===e.type){let r=aU._U.getId(e.item),n=t.findIndex(e=>aU._U.getId(e)===r);return -1===n?oT(null):0===n?oT(oI):oT({type:"recent",item:t[n-1]})}return oO(e)?oC():"search"===e.type?n?0===r.length?oA():0===e.index?oC():"see-all"===e.index?oT({type:"search",index:Math.max(r.length-1,0)}):e.index-1<r.length?oT({type:"search",index:e.index-1}):oT(ow):oT(oy):oA()}(t);case t5.as.DOWN_ARROW:return function({selectedItem:e,recentItems:t,searchResults:r,showSearchResults:n}){if("recent"===e.type){let r=aU._U.getId(e.item),n=t.findIndex(e=>aU._U.getId(e)===r);return -1===n?oT(null):n<t.length-1?oT({type:"recent",item:t[n+1]}):oC()}return oO(e)?oT(oI):"search"===e.type?n?0===r.length?oA():"see-all"===e.index?oC():e.index<r.length-1?oT({type:"search",index:e.index+1}):oT(ow):0!==t.length?oT({type:"recent",item:t[0]}):oA():oA()}(t);case t5.as.LEFT_ARROW:return function({selectedItem:e,isFigJamDisabled:t}){return e===ob?oT(oy):e===ov?t?oT(oy):oT(ob):oA()}(t);case t5.as.RIGHT_ARROW:return function({selectedItem:e,isFigJamDisabled:t}){return e!==oy||t?e===ob&&(0,aY.i)()?oT(ov):oA():oT(ob)}(t);case t5.as.ENTER:return function({selectedItem:e,searchResults:t}){if(e===oy)return oS(e=>e(ak.SC({editorType:U.aE.DESIGN})));if(e===ob)return oS(e=>e(ak.SC({editorType:U.aE.WHITEBOARD})));if(e===ov)return oS(e=>e(ak.SC({editorType:U.aE.SLIDES})));if("recent"===e.type)switch(e.item.type){case aU.Az.FILE:case aU.Az.REPO:{let t=e.item;return oS(e=>e(ak.qc({fileKey:oc(t).key})))}case aU.Az.PROTOTYPE:{let t=e.item.prototype;return oS(e=>e(ak.DY({fileKey:t.file_key,pageId:t.page_id})))}}if("search"===e.type){let r=e.index;if("see-all"===r)return oS(e=>e(ak.Ip()));if(r>=t.length)return oA();let n=t[r];return oS(e=>{e(aW.Aj({file:n.model})),e(ak.od({result:n,index:r,clickAction:aK.c9.Query.ClickAction.ENTER}))})}return oA()}(t);case t5.as.ESCAPE:return oT(null)}return oA()}(e.keyCode,{selectedItem:p,recentItems:L,searchResults:E,isFigJamDisabled:a,showSearchResults:y});switch(t.type){case"selectItem":m(t.item),e.stopPropagation(),e.preventDefault();break;case"dispatchAction":t.callback(n),e.stopPropagation(),e.preventDefault();break;case"stopEvent":e.stopPropagation(),e.preventDefault()}};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[n,a,y,L,E,p]);let R=(0,aR.i)(p);(0,w.useEffect)(()=>{var e,t;let r=(null==p?void 0:p.type)==="search",i=(null==R?void 0:R.type)==="search";i&&!r?(null==(e=f.current)||e.blur(),n(ak.MP(!1))):!i&&r&&(null==(t=f.current)||t.focus(),n(ak.MP(!0)))},[n,p,R,f]),(0,w.useEffect)(()=>{let e=()=>m(null);return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)}),(0,w.useEffect)(()=>{let e=()=>{"visible"===document.visibilityState&&_.current&&_.current.scrollTo({top:0})};return document.addEventListener("visibilitychange",e),()=>document.removeEventListener("visibilitychange",e)},[_]);let P=(0,w.useCallback)(()=>{_.current&&g(_.current.scrollTop)},[_]),M=(0,w.useCallback)(()=>m(oI),[]),k=(0,aN.qe)(oL.Ip),D=(0,eo.sX)();(0,ad.UL)((0,aF.mE)({userId:D??""}),{enabled:null!=D});let F=r?A:null;return u?w.createElement(oP,{backgroundColor:u}):w.createElement("div",{ref:_,className:J()("desktopNewTabViewHideable",oL.aQ),onScroll:P},w.createElement("div",{className:J()({[oL.Wm]:!0,[oL.I1]:h>-k,[oL.aE]:r})},w.createElement("div",{className:on(i)?oL.mW:oL.aN},r?"loaded"===O.status?w.createElement("div",{className:oL.Ar},w.createElement("div",{className:oL.mA},(0,ek.t)("desktop_new_tab.create_file_in")),w.createElement(aH.yO,{buttonText:(t=A,w.createElement(w.Fragment,null,t&&w.createElement("div",{className:ra.cx.h16.w16.flex.itemsCenter.justifyCenter.$},w.createElement(aP.uM,{size:{imgSize:aP.Qt.SMALL,fallbackSize:aP.Qt.XSMALL},fallbackDisplay:aM.B.HIDDEN,team:{id:t.team.id}})),w.createElement("div",{className:oL.qm},t?t.team.name+" / "+t.project.path:(0,ek.t)("desktop_new_tab.drafts")))),teamsWithEditableProjects:C,dropdownType:aH.Y7.DESKTOP_NEW_TAB,onSelectOverride:S})):w.createElement("div",{className:oL.Ar},w.createElement("div",{className:oL.mA},w.createElement("div",{className:oL.ct}))):"",w.createElement("div",{className:oL.iI},w.createElement(or,{editorType:U.aE.DESIGN,isSelected:p===oy,folder:F,currentOrgId:i}),w.createElement(or,{editorType:U.aE.WHITEBOARD,isDisabled:a,isSelected:p===ob,folder:F,currentOrgId:i}),on(i)&&w.createElement(or,{editorType:U.aE.SLIDES,isSelected:p===ov,folder:F,currentOrgId:i})),w.createElement(aV.Ad,{searchBarRef:f,selectedSearchResultIndex:(null==p?void 0:p.type)==="search"?p.index:0,onFocusSearchBar:M}))),w.createElement("div",{className:oL.u2},w.createElement(ou,{recentItems:L,selectedItem:(null==p?void 0:p.type)==="recent"?aU._U.getId(p.item):null})))}function oP({backgroundColor:e}){return w.createElement("div",{className:J()(oL.aQ),style:{backgroundColor:e}})}var oM=r(740080),ok=r(166996);function oD(e){let[t,r]=(0,w.useState)(!1);(0,w.useEffect)(()=>{let e=e=>{e.keyCode===t5.as.E&&e.ctrlKey&&e.shiftKey&&e.altKey&&(e.preventDefault(),e.stopPropagation(),r(!t))};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[t]);let n=(0,$.w1)(e=>e.experimentEvents);return t?w.createElement("div",{className:"experiment_debugger--modal--WDQ0L"},w.createElement("div",{className:"experiment_debugger--header--fCnJm"},w.createElement("div",{className:"experiment_debugger--modalTitle--SkCLK"},"Experiment debugger"),w.createElement("button",{onClick:()=>r(!1)},w.createElement(eR.A,{svg:ok.c}))),n.map(e=>w.createElement("div",{key:e.experimentId},w.createElement("div",{className:"experiment_debugger--experimentName--YrEp2"},e.experimentId),w.createElement("div",null,"treatment: ",e.treatmentId),"object"==typeof e.seed&&w.createElement(w.Fragment,null,w.createElement("div",null,"seedType: ",e.seed.type),w.createElement("div",null,"seedId:"," ",e.seed.type===oM.eC.USER?"currentUserId":e.seed.id)),"object"!=typeof e.seed&&w.createElement("div",null,"seed: ",e.seed),w.createElement("div",null,"isWinner: ",e.isWinner.toString()),w.createElement("div",null,"from override: ",e.fromOverride.toString())))):null}var oF=r(675695),ox=r(448604),oU=r(53064),oB=r(662100),oG=r(317704),oV=r(326300),oH=r(914219),oW=r(494552),oK=r(790184);r(682372),r(849300),r(463708);var oY=r(937620);let oq=w.createContext({shouldDiff:()=>!1,handleDiffReport:()=>({didDiff:!1})});function oj({children:e,onDiff:t}){let r=w.useRef({}),n=function(e){let t=(0,oY.qM)();return w.useMemo(()=>e??((e,r,n)=>{t("LiveGraph Diff",{diffId:e,expectedIds:r.expectedIds,actualIds:r.actualIds,removedIds:r.removedIds,addedIds:r.addedIds,commonIds:r.commonIds,changedIds:r.changedIds,unchangedIds:r.unchangedIds,removedPaths:r.removedPaths,addedPaths:r.addedPaths,changedPaths:r.changedPaths,...n})}),[e,t])}(t),i=w.useMemo(()=>({shouldDiff:e=>!r.current[e],handleDiffReport:(e,t,i)=>(r.current[e]=!0,t.hasDiffs)?(n(e,t,i),{didDiff:!0,report:t,args:i}):{didDiff:!1}}),[n]);return w.createElement(oq.Provider,{value:i},e)}var o$=r(291724),oZ=r(562416),oz=r.n(oZ),oQ=r(623131),oX=r(425396),oJ=r(99391),o0=r(374588),o1=r(980068),o2=r(154328);let o4=(0,o1.iI)(e=>{var t,r;if("loaded"!==e.status)return{result:e};let n=e.data.styleWithDestinationAssetV2;if(!n)return{result:(0,t7.u8)([])};let{file:i,...a}=n.destinationAsset||n,{hubFile:o}=n.destinationAsset||n;return i?{result:(0,t7.uU)({...(0,o2.Wc)(a,(null==o?void 0:o.status)==="loaded"&&o.data?{key:o.data.id}:i),fileName:i.name}),movedAssetData:n.destinationAsset?{sourceFileName:null==(t=n.file)?void 0:t.name,sourceKey:(0,oF.YT)(n.key),destinationKey:(0,oF.YT)(n.destinationAsset.key),destinationFileName:null==(r=n.destinationAsset.file)?void 0:r.name}:void 0,legacySourceStyle:n.movedByFigma?{key:(0,oF.YT)(n.key),version:(0,oF.SI)(n.contentHash)}:void 0}:{result:(0,t7.u8)([])}});var o3=r(585236),o6=r(491776),o8=r(814132);let o5=e=>{let t={};return e.forEach(({args:e,result:r})=>{t[e.key]=o4(oX.YF.from(r))}),t};function o7(){return function(){let e=(0,$.OY)(),t=function(){let e=(0,rd.K0)(),t=(0,Z.m4)(o3.s),[r,n]=(0,Z.lZ)(le),i=(0,Z.m4)(lt),a=(0,$.w1)(o8.CQ),o=w.useMemo(()=>a.filter(e=>!r.has(e)),[a,r]),l=w.useMemo(()=>o.map(t=>({key:t,openFileKey:e})),[o,e]),s=(0,t7.Kb)(rm.CUq,l),c=w.useMemo(()=>o5(s),[s]),d=w.useMemo(()=>({...i,...c}),[i,c]);return w.useEffect(()=>{if((0,N.Ub)().dse_preset_libraries){let e=new Set(r);Object.entries(c).forEach(([r,{result:n}])=>{"loaded"===n.status&&(0,o0.V9)(t,n.data)&&e.add((0,oF.ae)(r))}),Object.entries(i).forEach(([r,{result:n}])=>{"loaded"!==n.status||(0,o0.V9)(t,n.data)||e.delete((0,oF.ae)(r))}),oz()(r,e)||n(e)}},[c,i,r,t,n,e]),d}(),{localUnpublishedStyles:r,unpublishedLocalStyleKeyToNodeIds:n,usedLocalStyles:i}=function(){let e=(0,rd.K0)(),t=(0,nJ.ct)(),r=(0,oU.wH)(e),n=(0,$.w1)(o6.GE),i=(0,$.w1)(o6.aY),a=w.useMemo(()=>{if(!t||"loaded"!==r.status)return{};let e=new Set((0,oU.C8)(r).map(e=>e.node_id));return o9({allStyles:[...new Set([...n,...i])],publishedStyleNodeIds:e,sceneGraph:t})},[n,r,t,i]),o=w.useMemo(()=>Object.keys(a).map(t=>({key:t,openFileKey:e})),[a,e]),l=(0,t7.Kb)(rm.CUq,o);return{localUnpublishedStyles:w.useMemo(()=>o5(l),[l]),unpublishedLocalStyleKeyToNodeIds:a,usedLocalStyles:i}}();w.useEffect(()=>{let a=Object.entries(r).filter(([e,{movedAssetData:t}])=>{let r=t&&n[t.sourceKey];return r&&i.includes(r)}),o=[...Object.entries(t),...a].reduce((e,[t,{result:r}])=>{if("loaded"===r.status){if(r.data.unpublished_at)return e;e[r.data.key]=r}else e[t]=r;return e},Object.create(null));e(ox.gz(o))},[e,i,r,t,n]),w.useEffect(()=>{let{sourceAssetKeyToDestinationKey:r,sourceAssetKeyToFileName:n,destinationStyleKeyToLegacySourceStyle:i}=function(e){let t=Object.create(null),r=Object.create(null),n=Object.create(null);for(let[i,{result:a,movedAssetData:o,legacySourceStyle:l}]of Object.entries(e))o&&(t[(0,oF.ae)(i)]=o.destinationKey,o.sourceFileName&&(r[(0,oF.ae)(i)]=o.sourceFileName)),l&&"loaded"===a.status&&(n[(0,oF.ae)(a.data.key)]=l);return{sourceAssetKeyToDestinationKey:t,sourceAssetKeyToFileName:r,destinationStyleKeyToLegacySourceStyle:n}}(t);e(ox.eC(r)),e(ox.kI(n)),e(ox.Qr(i))},[e,t]),w.useEffect(()=>{let t=Object.create(null),i=Object.create(null);for(let{movedAssetData:e}of Object.values(r)){if(!e)continue;let r=n[e.sourceKey];r&&(t[r]=e.destinationKey,e.destinationFileName&&(i[r]=e.destinationFileName))}e(ox.c5(t)),e(ox.us(i))},[e,i,r,n])}(),null}let o9=(0,oJ.S4)(({allStyles:e,publishedStyleNodeIds:t,sceneGraph:r})=>e.reduce((e,n)=>{var i;if(t.has(n))return e;let a=(null==(i=r.get(n))?void 0:i.styleKey)??null;return a&&(e[a]=n),e},Object.create(null))),le=(0,oQ.Zf)(new Set),lt=(0,oQ.Zf)(e=>{if(!(0,N.Ub)().dse_preset_libraries)return{};let t=e(rd.eg),r=Array.from(e(le)).map(e=>({key:e,openFileKey:t})),n=(0,o0.am)(o0.CG,r,e);return n.data?o5(n.data):{}});function lr({children:e,maxSubscriptionsBeforeCleanup:t}){return!function(){let e=(0,$.OY)(),t=(0,rd.K0)(),r=(0,t7.Qb)(rm.Y3g,{fileKey:t??""});w.useLayoutEffect(()=>{var t;if("loaded"!==r.status)return;let n=null==(t=r.data.file)?void 0:t.stylesWithLegacySourceAssets;if(!n)return;let i=Object.create(null);for(let e of n)e.legacySourceAsset&&(i[(0,oF.YT)(e.legacySourceAsset.key)]=(0,oF.YT)(e.key));e(ox.G6(i))},[e,r])}(),w.createElement(ln,{maxSubscriptionsBeforeCleanup:t},(0,N.Ub)().ds_server_side_publishing&&w.createElement(la,null),w.createElement(o7,null),e)}function ln({children:e,maxSubscriptionsBeforeCleanup:t}){var r;let n=null==(r=(0,rd.AL)())?void 0:r.canEdit;return w.createElement(o$.sf,null,n&&w.createElement(li,null),w.createElement(oU.iu,{maxSubscriptionsBeforeCleanup:t},w.createElement(oj,null,e)))}function li(){return(0,o$.aQ)(),null}function la(){return!function(){let e=(0,$.OY)(),t=(0,$.w1)(e=>e.library.publishProgress),[r,n]=w.useState(0),[i,a]=w.useState(void 0),[o,l]=w.useState(null),s=w.useRef(200),c=w.useMemo(()=>t.state===oK.g7.UPLOADING?t.libraryPublishId:null,[t]);o!==c&&(l(c),n(0),a(void 0));let d=(0,t7.Qb)(rm.wjj,{id:c||""},{enabled:!!c}),u=w.useMemo(()=>{if("loaded"!==d.status)return d;let{libraryPublishV2:e}=d.data;return e?(0,t7.uU)({libraryPublishV2:{...e,assetSuccessCount:parseInt(e.assetSuccessCount??"0",10),assetFailureCount:parseInt(e.assetFailureCount??"0",10),assetPendingCount:parseInt(e.assetPendingCount??"0",10)}}):(0,t7.uU)({libraryPublishV2:null})},[d]),p=(0,rd.K0)();w.useEffect(()=>{e((0,oH.qe)())},[e,p]);let m=w.useMemo(()=>"publishStartMs"in t?t.publishStartMs:null,[t]),_=w.useRef(null);w.useEffect(()=>{if(!m)return;let e=new TaskController({priority:"user-blocking"}),t=()=>{let e=Math.floor((performance.now()-m)/36e5);e!==_.current&&(_.current=e,(0,oB.Y5)("publish.periodic_progress.hours",e))},r=Symbol("__PUBLISH_COMPLETE__"),n=()=>{scheduler.postTask(()=>{t(),n()},{delay:36e5,signal:e.signal}).catch(e=>{if(e!==r)throw e})};return n(),()=>{t(),_.current=null,e.abort(r)}},[m]),w.useEffect(()=>{if(!(0,N.Ub)().ds_server_side_publishing||t.state!==oK.g7.UPLOADING||"loading"===u.status||"disabled"===u.status||!c||"errors"===u.status)return;let e=u.data.libraryPublishV2;if(!e||e.error)return;let r=setInterval(()=>{n(t=>{if(e.count<0)return 0;let r=e.assetSuccessCount+e.assetFailureCount,n=t+1;return s.current=200*Math.min((n+1)/(r+1),1),Math.max(0,Math.min(n,Math.min(r+200,e.count)-1))})},s.current);return()=>{clearInterval(r)}},[c,t.state,u]),w.useEffect(()=>{if(!(0,N.Ub)().ds_server_side_publishing||t.state!==oK.g7.UPLOADING||"loading"===u.status||"disabled"===u.status)return;if(!c){console.error("Expected libraryPublishId to be set during server-side publish");return}let n=r=>{(0,oH.i2)(t,r??{__tag:"UNKNOWN"},t.publishType===oK.tX.UNPUBLISH,e,t.savepoint,!0)},o=()=>{let r=(0,ek.t)("design_systems.publish_actions.reload");e(oG.A.enqueue({type:"library-publish",error:!0,message:t.publishType===oK.tX.UNPUBLISH?(0,ek.t)("design_systems.publish_actions.unpublish_failed",{reason:r}):(0,ek.t)("design_systems.publish_actions.publish_failed",{reason:r})}))};if("errors"===u.status){n(),o();return}let l=u.data.libraryPublishV2;if(!l){console.error("Error fetching library publish data from LG",u.errors),n(),o();return}if(l.error){let r=(l.error,(0,ek.t)("design_systems.publish_actions.reload"));n(l.assetFailureCount),e(oG.A.enqueue({type:"library-publish",error:!0,message:t.publishType===oK.tX.UNPUBLISH?(0,ek.t)("design_systems.publish_actions.unpublish_failed",{reason:r}):(0,ek.t)("design_systems.publish_actions.publish_failed",{reason:r})}));return}let s=l.count<0;if(s||(a(r=>(r||e(oG.A.enqueue({type:"library-publish",message:t.publishType===oK.tX.UNPUBLISH?(0,ek.t)("design_systems.publish_actions.unpublishing_library"):(0,ek.t)("design_systems.publish_actions.publishing_library"),icon:oV.mc.PROGRESS,progressKey:"library-publish"})),l.count)),e(oW.E({key:"library-publish",progress:r,total:i||0}))),s||l.count!==l.assetFailureCount+l.assetSuccessCount)return;if(l.firstAssetError){n(l.assetFailureCount);let r=(()=>{switch(l.firstAssetError){case"design_systems.publish_actions.reload":default:return(0,ek.t)("design_systems.publish_actions.reload");case"design_systems.publish_actions.payload_too_large":return(0,ek.t)("design_systems.publish_actions.payload_too_large");case"design_systems.publish_actions.validations_failed":return(0,ek.t)("design_systems.publish_actions.validations_failed")}})();e(oG.A.enqueue({type:"library-publish",error:!0,message:t.publishType===oK.tX.UNPUBLISH?(0,ek.t)("design_systems.publish_actions.unpublish_failed",{reason:r}):(0,ek.t)("design_systems.publish_actions.publish_failed",{reason:r})}));return}let d=t.numSkippedPriorToPublish+l.assetFailureCount;(0,oH.i2)(t,d,t.publishType===oK.tX.UNPUBLISH,e,t.savepoint,!1)},[e,c,t,u,r,i])}(),null}var lo=r(714644),ll=r(433204),ls=r(308264),lc=r(68588);r(618664);var ld=((_=ld||{})[_.FILE_BROWSER_LOADED=0]="FILE_BROWSER_LOADED",_[_.CLOSE_MODAL=1]="CLOSE_MODAL",_);class lu{constructor(e){this.type=e}}function lp(e){preloadAuthIFrame(),window.removeEventListener("mousemove",lp),window.removeEventListener("scroll",lp),window.removeEventListener("keydown",lp),window.removeEventListener("click",lp),window.removeEventListener("touchstart",lp)}var lm=r(778112),l_=r(727128),lh=r(606556);function lg(e){let[t,r]=w.useState(!1),n=(0,$.w1)(e=>e.modalShown);(0,t8.u)(()=>{var t;e.showModal(),document.body.style.backgroundColor="transparent",null==(t=window.parent)||t.postMessage(new lu(ld.FILE_BROWSER_LOADED),"*")});let i=()=>{var e;null==(e=window.parent)||e.postMessage(new lu(ld.CLOSE_MODAL),"*")};return w.useEffect(()=>{!n&&t&&i(),n&&n.type===e.modalType&&r(!0)},[t,n,e.modalType]),w.createElement("div",{onClick:i})}(e=>{function t(e){let t=(0,$.OY)();return w.createElement(lg,{showModal:()=>t((0,rl.A5)({type:lh.c,data:{tab:e.tab}})),modalType:lh.c.type})}e.AccountSettingsModalInIframe=function(){return w.createElement(t,{tab:lh.E.ACCOUNT})}})(I||(I={}));let lf={[eD.QF.ACCOUNT_SETTINGS]:I.AccountSettingsModalInIframe,[eD.QF.UNIVERSAL_PUBLISHING]:function(){let e=(0,$.OY)();return w.createElement(lg,{showModal:()=>e((0,rl.A5)({type:l_._,data:{source:lm.S0.IFRAME}})),modalType:l_._.type})}};var lE=r(49096),ly=r(67612),lb=r(23124),lv=r(293580),lI=r(494220),lw=r(725380),lT=r(853688),lS=r(667832),lC=((h=lC||{})[h.BOTTOM_RIGHT=0]="BOTTOM_RIGHT",h[h.TOP_CENTER=1]="TOP_CENTER",h);class lA extends t9.UR{constructor(){super(...arguments),this.notificationStyle=()=>{switch(this.position()){case 0:return this.props.hideHelpWidget?lS.Ir:lS.G0;case 1:return lS.uJ}},this.icon=()=>{throw Error("icon must be implemented in subclass.")},this.isError=()=>{throw Error("isError must be implemented in subclass.")},this.actionText=()=>{throw Error("actionText must be implemented in subclass.")},this.actionCallback=()=>{throw Error("actionCallback must be implemented in subclass.")},this.dequeueNotification=()=>{throw Error("dequeueNotification must be implemented in subclass.")},this.position=()=>{throw Error("position must be implemented in subclass.")},this.onDisplay=null,this.onAccept=t9.yw(this,"click",e=>{e.stopPropagation(),this.getCurrentNotif()&&(this.actionCallback(),this.dequeueNotification())}),this.onDismiss=e=>{e.stopPropagation();let t=this.getCurrentNotif();t&&(t.dismissCallback&&t.dismissCallback(),this.dequeueNotification())},this.getCurrentNotif=()=>this.props.notifications[0]||null}componentDidUpdate(e,t){super.componentDidUpdate(e,t);let r=this.getCurrentNotif();if(!r)return;let n=r.displayCallback;n&&n!==this.onDisplay&&n(),this.onDisplay=n||null}render(){let e=this.getCurrentNotif();if(!e)return null;let t=this.icon(),r=this.isError(),n=this.actionText(),i=1===this.position()?lS.mG:"";return w.createElement(lT.g9,{className:i},w.createElement(lT.g9,{className:this.notificationStyle(),recordingKey:t9.Mx(this.props,"accept"),onClick:this.onAccept},t&&w.createElement(eR.A,{className:r?lS.UB:lS.Kk,svg:t}),w.createElement("div",{className:lS.gn},e.message),w.createElement(lO,{actionText:n,accept:this.onAccept,dismiss:this.onDismiss})))}}lA.displayName="NotificationView";class lO extends w.PureComponent{render(){return w.createElement("div",{className:lS.ay},this.props.actionText&&w.createElement("div",{className:lS.qZ,onClick:this.props.accept},this.props.actionText),w.createElement("div",{className:lS.qZ,onClick:this.props.dismiss},w.createElement(ek.Tx,{id:"base_notifications.dismiss"})))}}lO.displayName="NotificationActions";var lN=r(296449),lL=r(94408),lR=r(384456),lP=r(996536),lM=r(350264),lk=r(931200),lD=r(910256);class lF extends lA{constructor(){super(...arguments),this.icon=()=>{let e=this.getCurrentNotif();if(!e)return null;switch(e.type){case ly.K.COMPONENT_PUBLISH_ERROR:return lD.c;case ly.K.COMPONENT_UPDATES_AVAILABLE:return lM.c;case ly.K.DOWNTIME:return lD.c;case ly.K.AUTOSAVE_CHANGES_RESTORED:return lN.c;case ly.K.BRANCHING_SOURCE_FILE_UPDATED:return lP.c;case ly.K.MOVE_COMPONENTS_PROMPT:return lR.c;case ly.K.BRANCHING_OTHER_USER_MERGING:case ly.K.SEE_WHATS_CHANGED:return lP.c;case ly.K.CLIPBOARD_DATA_AVAILABLE:return lL.c;case ly.K.SUBSCRIBED_TO_COMMENT_NOTIFICATIONS:return lk.c}},this.actionText=()=>{let e=this.getCurrentNotif();if(!e)return null;let t=e.type;switch(t){case ly.K.COMPONENT_PUBLISH_ERROR:return"Retry...";case ly.K.COMPONENT_UPDATES_AVAILABLE:return(0,ek.t)("design_systems.updates.review");case ly.K.DOWNTIME:return"Learn more";case ly.K.AUTOSAVE_CHANGES_RESTORED:return null;case ly.K.BRANCHING_SOURCE_FILE_UPDATED:return(0,ek.t)("collaboration.branching.update");case ly.K.MOVE_COMPONENTS_PROMPT:return(0,ek.t)("design_systems.updates.publish");case ly.K.BRANCHING_OTHER_USER_MERGING:return null;case ly.K.SEE_WHATS_CHANGED:return(0,ek.t)("collaboration.feedback.compare");case ly.K.CLIPBOARD_DATA_AVAILABLE:return(0,ek.t)("fullscreen_actions.paste");case ly.K.SUBSCRIBED_TO_COMMENT_NOTIFICATIONS:return(0,ek.t)("comments.turn_on");default:(0,tr.gy)(t)}},this.actionCallback=()=>{let e=this.getCurrentNotif();if(!e)return;let t=e.type;switch(t){case ly.K.COMPONENT_UPDATES_AVAILABLE:this.props.dispatch(rl.A5({type:lv._A,data:{entrypoint:lb.Yj.UPDATES_TOAST,initialTab:oK.Er.UPDATES}}));return;case ly.K.COMPONENT_PUBLISH_ERROR:this.props.dispatch(rl.A5({type:lI.Ih,data:{entrypoint:lw.yQ.COMPONENT_PUBLISH_ERROR_NOTIFICATION}}));return;case ly.K.DOWNTIME:case ly.K.BRANCHING_SOURCE_FILE_UPDATED:case ly.K.MOVE_COMPONENTS_PROMPT:e&&e.acceptCallback&&e.acceptCallback();return;case ly.K.AUTOSAVE_CHANGES_RESTORED:case ly.K.BRANCHING_OTHER_USER_MERGING:return;case ly.K.SEE_WHATS_CHANGED:case ly.K.SUBSCRIBED_TO_COMMENT_NOTIFICATIONS:e&&e.acceptCallback&&e.acceptCallback();return;case ly.K.CLIPBOARD_DATA_AVAILABLE:e&&(eb.i46.pasteFromSerializedClipboardData(e.downloadUrl,e.deviceType,e.timestamp),e.acceptCallback&&e.acceptCallback());return;default:(0,tr.gy)(t)}},this.position=()=>{let e=this.getCurrentNotif();if(!e)return lC.BOTTOM_RIGHT;if(this.props.hasMobileNativeToolbar)return lC.TOP_CENTER;let t=e.type;switch(t){case ly.K.COMPONENT_UPDATES_AVAILABLE:case ly.K.COMPONENT_PUBLISH_ERROR:case ly.K.DOWNTIME:case ly.K.BRANCHING_SOURCE_FILE_UPDATED:case ly.K.MOVE_COMPONENTS_PROMPT:case ly.K.AUTOSAVE_CHANGES_RESTORED:case ly.K.BRANCHING_OTHER_USER_MERGING:case ly.K.SEE_WHATS_CHANGED:case ly.K.SUBSCRIBED_TO_COMMENT_NOTIFICATIONS:return lC.BOTTOM_RIGHT;case ly.K.CLIPBOARD_DATA_AVAILABLE:return e.isFigJam?lC.TOP_CENTER:lC.BOTTOM_RIGHT;default:(0,tr.gy)(t)}},this.isError=()=>{let e=this.getCurrentNotif();if(!e)return!1;let t=e.type;switch(t){case ly.K.COMPONENT_PUBLISH_ERROR:return!0;case ly.K.COMPONENT_UPDATES_AVAILABLE:case ly.K.DOWNTIME:case ly.K.AUTOSAVE_CHANGES_RESTORED:case ly.K.BRANCHING_SOURCE_FILE_UPDATED:case ly.K.MOVE_COMPONENTS_PROMPT:case ly.K.BRANCHING_OTHER_USER_MERGING:case ly.K.SEE_WHATS_CHANGED:case ly.K.CLIPBOARD_DATA_AVAILABLE:case ly.K.SUBSCRIBED_TO_COMMENT_NOTIFICATIONS:return!1;default:(0,tr.gy)(t)}},this.dequeueNotification=()=>{let e=this.getCurrentNotif();e&&this.props.dispatch(lE.q.dequeue({type:e.type}))}}}lF.displayName="NotificationsView";var lx=r(681608),lU=r(357936);function lB(e){var t;let r=(0,$.w1)(e=>e.notifications),n=(0,nY.CM)(),i=(0,lU.Az)(),a=(0,$.OY)(),o=(0,Z.m4)(lx.K),l=(null==(t=r[0])?void 0:t.type)??null;return((0,w.useEffect)(()=>{o&&null!==l&&(0,D.we)("curator_collision",{blocking_overlay_id:o,blocked_notif_type:ly.K[l],did_block:!!(0,N.Ub)().curator_queue_notifs})},[o,l]),(0,N.Ub)().curator_queue_notifs&&o)?null:w.createElement(lF,{recordingKey:e.recordingKey,notifications:r,hideHelpWidget:n,hasMobileNativeToolbar:i,dispatch:a})}var lG=r(816596),lV=r(691444),lH=r(703520),lW=r(91404);let lK="locked_account_view--addAccountButton--M2CKK";var lY=r(133109);function lq(){let e=(0,$.OY)(),t=(0,$.w1)(e=>e.user),r=(0,$.w1)(e=>e.authedUsers),n=(0,$.w1)(e=>e.orgById),i=(0,$.w1)(e=>e.currentUserOrgId),a=i?n[i]:null,o=r.orderedIds.filter(e=>(null==t?void 0:t.id)!==e).map(e=>r.byId[e]);w.useEffect(()=>{!function(){let e=document.getElementById("filebrowser-loading-page");e&&(e.classList.add("fadeOut"),setTimeout(()=>{e.classList.add("hidden")},1e3))}()}),(0,D.we)("browser_locked_account_screen_viewed",{user:null==t?void 0:t.id,org:i});let l=e=>w.createElement("div",{className:"locked_account_view--header--5ANme"},a?w.createElement("div",{className:"locked_account_view--loadingAvatarContainer--RcSO0"},w.createElement(lW.UP,{entity:a,size:54}),w.createElement("div",{className:"locked_account_view--spinnerContainer--qmoqQ"},w.createElement(lH.M7,null))):w.createElement("div",{className:"locked_account_view--worldIllo--ZgRY9"},w.createElement(eR.A,{svg:lY.c,useOriginalSrcFills_DEPRECATED:!0})),w.createElement("div",{className:"locked_account_view--title--zZnPc"},w.createElement(ek.Tx,{id:"locked_org.title"})),w.createElement("div",{className:"locked_account_view--description--FgKxX"},e())),s=()=>{O.default.redirect("/login?cont=","_blank")};return w.createElement(eM,{pageType:"external"},w.createElement("div",{className:"locked_account_view--pageContainer--fq6gF","data-testid":"LockedAccountView"},w.createElement("div",{className:"locked_account_view--contentContainer--pfiqF"},o.length>0?w.createElement(lV.e,{dispatch:e,header:l(()=>a?w.createElement(ek.Tx,{id:"locked_org.description_no_other_accounts",orgName:a.name}):w.createElement(ek.Tx,{id:"locked_org.description_no_other_accounts_no_org"})),users:o,onUserSelect:t=>{e(lG.a.complete({userId:t}))},onChangeAccount:s,footer:w.createElement(ek.Tx,{id:"locked_org.footer",addAnotherLink:w.createElement(er.qe,{defaultClass:lK,onClick:s,"data-testid":"add-account-button"},w.createElement(ek.Tx,{id:"locked_org.footer_button"}))})}):w.createElement("div",{className:"locked_account_view--loginAccount--VEvAN"},l(()=>a?w.createElement(ek.Tx,{id:"locked_org.description",orgName:a.name}):w.createElement(ek.Tx,{id:"locked_org.description_no_org"})),w.createElement("div",{className:"locked_account_view--addAccountText--zFHaY"},w.createElement(ek.Tx,{id:"locked_org.footer_no_other_accounts",addAnotherLink:w.createElement(er.qe,{defaultClass:lK,onClick:s,"data-testid":"add-account-button"},w.createElement(ek.Tx,{id:"locked_org.footer_no_other_accounts_button"}))}))))))}let lj=w.memo(function(){let e=(0,Y.c$)(),t=(0,$.w1)(t2.Uh);if((0,eS.gJ)(e)&&t)return w.createElement(lq,null);if("fullscreen"===e.view)return e.postingToFeed?w.createElement(lc.X,null):w.createElement(t0,null);if("figmascope"===e.view)return w.createElement(tG,null);if("figjamTry"===e.view)return w.createElement(eK,null);if("desktopNewTab"===e.view)return w.createElement(oR,null);if("prototype"===e.view)throw Error("Unexpected prototype view");if(e===eA.AB)return w.createElement(w.Fragment,null);else if("modalInIFrame"===e.view){let t=lf[e.modalInIFrameType];return w.createElement(t,null)}return w.createElement(tX,null)});function l$(e){let t=(0,Y.c$)(),r=(0,Z.m4)(ew.u);if("fullscreen"===t.view&&"ok"!==r){let{type:e,sentryId:t}=r;return"oom"===e?w.createElement(eO.I,null):w.createElement(z.OU,{sentryId:t})}return w.createElement(w.Fragment,null,e.children)}let lZ=w.memo(function(){let e=(0,$.OY)(),t=(0,$.w1)(e=>e.flashes),r=(0,Y.c$)(),n=(0,$.w1)(e=>e.interactionTestDialogShown),i=(0,$.w1)(e=>e.progress),a=(0,$.w1)(e=>e.visualBell),o=(0,$.w1)(e=>e.blockedUILoadingIndicator),l=(0,$.w1)(e=>e.mirror.appModel.showUi),s=(0,ea.aQ)(),c=(0,ea.mI)();w.useLayoutEffect(()=>{let e=()=>{setTimeout(()=>ls.ub.focusIfUnfocused())};return document.body.addEventListener("blur",e,!0),()=>{document.body.removeEventListener("blur",e,!0)}},[]),function(){var e,t,r;let n=(0,ev.U3)(null==(r=null==(t=null==(e=eb.KEP)?void 0:e.editorPreferences)?void 0:t.call(e))?void 0:r.fplDebug,!1);(0,w.useEffect)(()=>(n?document.body.setAttribute("data-fpl-debug",""):eI(),()=>eI()),[n])}();let d="communityHub"===r.view&&"hubFileEmbed"===r.subView&&r.hubFileId||null;return(0,tq.y)()?w.createElement(tq.m,{dispatch:e}):d?w.createElement(is,{hubFileId:d}):(0,ey.oz)(r)?w.createElement(ex,null):w.createElement(tY.u,{recordingKey:"inAppPage"},w.createElement(l$,null,w.createElement(t4.Q,null,w.createElement(lr,null,w.createElement(eT.Oh,null,w.createElement(z.Ou,{boundaryKey:"InAppPage",fallback:z.Yd.DEFAULT_FULL_PAGE,hasCustomWASMBuild:K.eY},w.createElement(lj,null)),w.createElement(eg.C,{flashes:t}),w.createElement(eO.I,null),l&&w.createElement(lB,{recordingKey:"notificationsView"}),w.createElement(ef.A,{dispatch:e,progress:i,visualBell:a,visualPulseEnabled:"fullscreen"===r.view,bottomOffset:s,getMobileNativeBottomOffset:c}),w.createElement(ll.Qr,{getLinkMetadata:eE.ii}),w.createElement(Q.w,{blockedUILoadingIndicator:o,dispatch:e}),w.createElement(t$.ai,{enableTracking:"fullscreen"===r.view&&"design"===r.editorType}),w.createElement(aA,null),w.createElement(it,null),(0,N.K)()&&w.createElement(oD,null),n&&null,"fullscreen"===r.view&&w.createElement(tj.M,null),w.createElement(aO,null),w.createElement(eC.u,null,w.createElement(t1.hl,null)),w.createElement(eh,null),w.createElement(lo.Y5,null))))))});var lz=r(899116),lQ=r(888932),lX=r(588900),lJ=r(46604),l0=r(389340),l1=r(641232),l2=r(76048),l4=r(88748),l3=r(5044);let l6="user_notifications_desktop_dropdown_container--icon--GXtYp";function l8(e){let{notificationFeedMap:t,isFetchingNotifications:r,markAllAsReadFn:n,updateNotification:i}=(0,l1.ym)(!1,e.selectedPlan),[a,o]=w.useState(!1),l=(0,$.OY)(),s=[...t.values()];a&&(s=s.filter(e=>e.is_unread));let c=e=>{o(e)},d=w.useMemo(()=>({shouldShowChevron:l3.Oq,onClick:e=>!!(0,l3.Oq)(e)&&(l(eV.Ej({view:"feed",quickReplyInfo:(0,l3.zk)(e)||void 0})),!0),onMouseEnter:eQ.Kw,onMouseMove:eQ.Kw}),[l]);return w.createElement(l2.I.Provider,{value:d},w.createElement("div",{className:"user_notifications_desktop_dropdown_container--scrollContainer--D-nb8",onMouseDown:e=>{e.stopPropagation()}},(0,l1.Gs)()?w.createElement(l1.Ef.UnreadToggle,{showOnlyUnreads:a,toggleUnreadFilter:c,isFetchingNotifications:r,notifications:s,markAllAsReadFn:n}):w.createElement(l1.Ef.UnreadBar,{showOnlyUnreads:a,toggleUnreadFilter:c,isFetchingNotifications:r,notifications:s,markAllAsReadFn:n}),w.createElement(l1.Ef.Feed,{notifications:s,currentPlanFilter:e.selectedPlan===l1.uW?l4.s5:e.selectedPlan,isFetchingNotifications:r,inCommunity:!1,fillParent:!0,updateNotificationCallback:i,inDesktopTray:!0})))}var l5=r(450412),l7=r(27992),l9=r(120168);function se(){let e=(0,$.OY)(),{userNotifications:t,currentOrgId:r,selectedView:n,userStateLoaded:i,user:a}=(0,t3.q)(e=>({userNotifications:e.userNotifications,currentOrgId:e.currentUserOrgId,selectedView:e.selectedView,userStateLoaded:e.userStateLoaded,user:e.user}));(0,tr.Uc)("feed"===n.view,"UserNotificationDesktopDropdownContainer: wrong view, quick replies may not work");let o=n.quickReplyInfo,[l,s]=w.useState("top"),c=(0,N.Ub)().ps_benchmark;(0,w.useEffect)(()=>{var i,o,l,s;let d=a&&t&&!!(null==(s=null==(l=t.userBellStates)?void 0:l[a.id])?void 0:s[l1.uW]);null==(i=lz.mY)||i.setBell(!!d),null==(o=lz.mY)||o.setListener({name:"changeOrg",listener:t=>{r!==t&&!c&&a&&e(lJ.kH({workspace:{orgId:t,userId:a.id},view:n}))}})},[r,e,a,t,t.userBellStates,n,c]);let[d,u]=w.useState(0);(0,w.useEffect)(()=>{var e;null==(e=lz.mY)||e.setListener({name:"openTray",listener:()=>{var e;u(d+1),s((null==(e=lz.mY)?void 0:e.getAlignment())||"top")}})},[e,s,u,d]);let[p,m]=w.useState(l1.uW);return((0,w.useEffect)(()=>{let t=()=>{(0,lz.Y_)(1)&&o&&e(eV.Ej({view:"feed"}))};return window.addEventListener("blur",t),()=>{window.removeEventListener("blur",t)}}),i)?w.createElement("div",{className:"user_notifications_desktop_dropdown_container--page--Fae6Z"},w.createElement("div",{className:`user_notifications_desktop_dropdown_container--container--BaYko ${"top"===l?"user_notifications_desktop_dropdown_container--containerFromTop--sEplE":""} ${lQ.cp.windows?"user_notifications_desktop_dropdown_container--windows--29Gaf":""} ${"bottom"===l?"user_notifications_desktop_dropdown_container--containerFromBottom--yHzl-":""}`},w.createElement("div",{className:"user_notifications_desktop_dropdown_container--navbarContainer--IDPJD text--fontPos11--2LvXf text--_fontBase--QdLsd"},w.createElement("div",{className:"user_notifications_desktop_dropdown_container--title---9ewd ellipsis--ellipsis--Tjyfa"},w.createElement(l4.q,{currentPlanFilter:p===l1.uW?l4.s5:p,onPlanFilterUpdate:e=>{e===l4.s5&&(e=l1.uW),m(e)}})),w.createElement("a",{href:"/files/recent",className:`${l6} user_notifications_desktop_dropdown_container--iconNoFill--f6O2W`},w.createElement(lX._,{svg:l7.c,fallbackSvg:l9.c})),(0,lz.Y_)(1)&&a&&w.createElement("a",{href:`/files/user/${a.id}/settings?tab=notifications`,className:`${l6}`},w.createElement(lX._,{svg:l5.c,fallbackSvg:l5.c})),a&&w.createElement("div",{style:eJ.sx.w24.h24.p8.pr0.$},w.createElement(aP.iO,{user:a}))),w.createElement("div",{className:"user_notifications_desktop_dropdown_container--notificationContainer--j2B9l text--fontPos11--2LvXf text--_fontBase--QdLsd"},o&&o.threadId&&o.fileKey?w.createElement(l0.A,{quickReplyInfo:o,onClose:()=>{e(eV.Ej({view:"feed"}))},closeIcon:"chevron-left-32"}):(!lz.mY||d>0)&&w.createElement(l8,{selectedPlan:p,key:d})))):null}var st=r(962868),sr=r(779136);let sn=(0,A.Q)();!function(e){if(!(0,N.Ub)().web_vitals_report)return;let t=O.default.location.pathname+O.default.location.search,r=!!document.querySelector('meta[name="is_preload_streaming"]'),n=!!document.querySelector('meta[name="is_serving_resized_image"]');function i(i){let a={name:i.name,google_rating:i.rating,navigation:i.navigationType,id:i.id,value:i.value,initialPath:t,normalized_current_path:(0,F.uR)(O.default.location.pathname),bundle:e,used_codesplitting:!0,bundle_streaming:r,resized_images:n,statsig_client_bootstrap:(0,N.KC)().statsig_client_bootstrap??!0,statsig_has_bootstrap_values:!!(0,N.m_)().statsig_bootstrap_values,has_fetch_recent_preload:!!(0,N.Ub)().preload_recent_files,is_webpack:!!(0,N.Ub)().serve_webpack};(0,D.we)("Web Vital Metrics",a,{forwardToDatadog:!0,sendAsBeacon:!0})}function a(i,a){let o={name:a,google_rating:"not-applicable",navigation:function(){let e=window.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0];return e?document.prerendering||(e.activationStart||0)>0?"prerender":document.wasDiscarded?"restore":e.type.replace(/_/g,"-"):"navigate"}(),value:i.timeStamp,initialPath:t,normalized_current_path:(0,F.uR)(O.default.location.pathname),id:(0,x.c)(),bundle:e,used_codesplitting:!0,bundle_streaming:r,resized_images:n};(0,D.we)("Web Vital Metrics",o,{forwardToDatadog:!0,sendAsBeacon:!0})}(0,k.M5)(i),(0,k._y)(i),(0,k.iA)(i),(0,k.I5)(i),(0,k.ew)(i),(0,k.i0)(i),document.addEventListener("DOMContentLoaded",e=>a(e,"DCL")),window.addEventListener("load",e=>a(e,"LOAD"))}("figma_app"),f="figma_app",(0,N.Ub)().potential_chunk_cache_metric&&window.addEventListener("load",()=>{let e=performance.getEntriesByType("resource"),t=[];{let r=new Set(Array.from(document.querySelectorAll('link[rel="preload"]')).filter(e=>e.href.includes("webpack")&&(e.href.endsWith(".js")||e.href.endsWith(".js.gz")||e.href.endsWith(".js.br"))).map(e=>e.href));t=e.filter(e=>r.has(e.name))}function r(e,t){return e.compressed+=t.encodedBodySize,e.uncompressed+=t.decodedBodySize,e}let n=t.reduce(r,{compressed:0,uncompressed:0}),i=t.filter(e=>0===e.transferSize),a=i.reduce(r,{compressed:0,uncompressed:0});console.log(`Loaded ${t.length} scripts (${n.compressed}b), ${i.length} from cache (${a.compressed}b)`),(0,D.we)("scripts_loaded",{entry:f,totalScripts:t.length,totalSizeCompressed:n.compressed,totalSizeUncompressed:n.uncompressed,cachedScripts:i.length,cachedSizeCompressed:a.compressed,cachedSizeUncompressed:a.uncompressed,is_webpack:!0},{forwardToDatadog:!0})}),(0,K.UI)();let si=!1;function sa(){let e=(0,Y.Aj)(),t=(0,V.M)();return(0,H.In)(),"prototype"!==e||(0,M.MZ)()||si||((0,R.oP)(P._.PROTOTYPING,Error("Loading PrototypeAppView as part of AppView")),si=!0),w.createElement(q.OK.Provider,{value:t},"prototype"===e?w.createElement(sr.m,null):"feed"===e?w.createElement(se,null):w.createElement(lZ,null))}function so(){let e=(0,Y.Aj)(),t=(0,V.M)();return w.createElement(q.OK.Provider,{value:t},"prototype"===e?w.createElement(sr.m,null):"feed"===e?w.createElement(se,null):w.createElement(lZ,null))}function sl(){let e=(0,L.MZ)(O.default.location.search),t=U.aE.DESIGN;("whiteboard"===e.editor_type||"whiteboard"===e.type||"/jam"===O.default.location.pathname||"/board/new"===O.default.location.pathname)&&(t=U.aE.WHITEBOARD),"whiteboard"!==t&&(0,T.C)(document.getElementById("react-page")).render(w.createElement("div",{style:{position:"absolute",top:"0",left:"0",width:"100%",height:"48px",backgroundColor:"#2c2c2c"}}));let r=e.localFileKey&&(0,S.c)(e.localFileKey)?e.localFileKey:void 0,n=e.figjamAiNewFile_prompt?{prompt:e.figjamAiNewFile_prompt,useCaseCategory:e.figjamAiNewFile_useCaseCategory,subtitle:e.figjamAiNewFile_subtitle,entrypoint:e.figjamAiNewFile_entrypoint}:void 0,i=Object.values(st.sx).some(t=>t===e.figjam_make_something_use_case)?e.figjam_make_something_use_case:void 0;(0,G.k)(sa,{newFileInfo:{editorType:t,folder_id:e.folder_id,org_id:e.org_id,trackingInfo:null,openNewFileIn:j.mM.SAME_TAB,framePresetName:e.frame_preset_name,fileName:e.name,localFileKey:r,viewport:e.viewport,nodeId:e["node-id"],figjamAiNewFileData:n,figjamMakeSomethingUseCase:i}})}let ss=performance.now();(0,C.G)(async()=>{if("/preload-editor"===O.default.location.pathname)(0,K.iL)("prototype-lib").then(()=>{W.Ws.start("editorPreloaded"),window.startPreloadedTab=function(e){if(window.preloadedTabStart=performance.now(),!(0,N.cp)().user_data){O.default.replace(e.path,null),O.default.reload("preloaded tab not logged in");return}let t=!1;e.params&&(e.path+=e.params,t="1"===(0,L.K0)(e.params).new),B.i.getIncludeFolderTeamCanEdit({includeFolderTeamCanEdit:!0,fileKey:e.fileKey}).then(({data:{meta:r}})=>{let n=r.parent_org_id;(0,N.GS)(r),console.log(`Opening file ${e.fileKey} in a preloaded tab at ${e.path} with org ${n}`),(0,N.cp)().org_id=n,window.startUserStateXHR(),O.default.replace(e.path,null),(0,G.k)(so,{loadBlank:t})},t=>{console.error("Reloading because of",t),O.default.replace(e.path,null),O.default.reload("preloaded tab error")})}});else if("/file/new"===O.default.location.pathname||"/design/new"===O.default.location.pathname||"/board/new"===O.default.location.pathname||"/jam"===O.default.location.pathname){if("prerender"===document.visibilityState)document.addEventListener("visibilitychange",function e(){"prerender"!==document.visibilityState&&(sl(),document.removeEventListener("visibilitychange",e))});else{let e=(0,L.K0)(O.default.location.search);e["try-plugin-id"]&&e["try-plugin-version-id"]&&e["try-plugin-name"]?await (0,G.k)(sa):sl()}}else W.Ws.updateAppEntryTimeEvents(g,ss),await (0,G.k)(sa),window.FigmaMobile&&document.body.classList.add("FigmaMobile");sn.resolve()})},23604:(e,t,r)=>{"use strict";let n;r.d(t,{Ab:()=>g,G4:()=>N,Gi:()=>b,My:()=>I,OI:()=>v,RX:()=>T,US:()=>y,Wq:()=>O,YF:()=>m,_M:()=>A,cX:()=>C,e6:()=>E,eR:()=>h,iA:()=>w,ii:()=>f,kb:()=>_,kv:()=>S,ot:()=>p});var i=r(139776),a=r(455200),o=r(564152),l=r(329956),s=r(326660),c=r(560072),d=r(540696),u=r(813096);class p extends Error{constructor(e,t){super(`${e}: ${JSON.stringify(t)}`),this.errorInfo=t}}class m{constructor(e={}){this.options=e,this.allowedUnits=""}format(e){return`${e}`}parse(e,t){e=this.preProcessForExpressionEvaluation(e);let r=(0,o.Z_)(e,t);if(null!==r.value&&isFinite(r.value))return r.value;throw(0,s.Ij)("NumberFormatter::parse","Could not parse input",{str:e,currentValue:t}),new p("Could not parse input",r.error)}onParseThrow(e,t){var r,n;if(e instanceof p&&e.errorInfo)return null==(n=(r=this.options).onEvaluateExpressionError)?void 0:n.call(r,e.errorInfo,t)}getNudgeAmount(e){return e?this.bigNudgeAmount():this.smallNudgeAmount()}incrementBy(e,t){return e+t}clamp(e){return(0,a.Af)(e,this.min(),this.max())}min(){return this.options.min??this.defaultMin}max(){return this.options.max??this.defaultMax}smallNudgeAmount(){return this.options.smallNudgeAmount??u.a2}bigNudgeAmount(){return this.options.bigNudgeAmount??u.e2}preProcessForExpressionEvaluation(e){return e.replace(RegExp(this.allowedUnits,"g"),"").replace(/[\u0660-\u0669]/g,e=>"\u0660\u0661\u0662\u0663\u0664\u0665\u0666\u0667\u0668\u0669".indexOf(e).toString()).replace(/[\u06F0-\u06F9]/g,e=>"\u06F0\u06F1\u06F2\u06F3\u06F4\u06F5\u06F6\u06F7\u06F8\u06F9".indexOf(e).toString()).replace(/\u066B/g,",").replace(/\u066C/g,",").replace(/\u060C/g,",")}}class _ extends m{constructor(e){super(e),this.floatingPointFormat=e.floatingPointFormat}format(e){if(null==e)return"";let t=String(parseFloat(e.toFixed(2))),r=t.includes(".");return this.floatingPointFormat&&r&&t.length-1>this.floatingPointFormat.maxNumDigits?String(parseFloat(e.toFixed(1))):t}}class h extends m{format(e){return null==e?"":String(new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0,currencyDisplay:"code"}).format(e).replace("USD","").trim())}parse(e,t){return parseFloat(super.parse(e,t).toFixed(0))}}class g{constructor(e){this.pixelFormatter=new _(e),this.allowEmpty=!!e.allowEmpty,this.allowUnformatted=!!e.allowUnformatted}parse(e,t){e=e.trim().toLocaleLowerCase();let r=(0,c.t)("fullscreen.auto").toLocaleLowerCase();return(!this.allowEmpty||e.length)&&r.startsWith(e)?d.CO:this.pixelFormatter.parse(e,t)}format(e){if((0,d.ED)(e))return(0,c.t)("fullscreen.properties_panel.stack_panel.auto");if(this.allowUnformatted)try{return this.pixelFormatter.format(e)}catch{return e}return this.pixelFormatter.format(e)}getNudgeAmount(e){return this.pixelFormatter.getNudgeAmount(e)}incrementBy(e,t){return(0,d.ED)(e)?d.CO:this.pixelFormatter.incrementBy(e,t)}clamp(e){return(0,d.ED)(e)?d.CO:this.pixelFormatter.clamp(e)}}class f{constructor(e){this.pixelFormatter=new _(e)}parse(e,t){return e.split(/[ ,]+/g).filter(e=>e.length).map((e,r)=>{let n=this.pixelFormatter.parse(e,t&&t[r]);if(!isFinite(n))throw Error("could not parse padding input");return n}).map(e=>Math.max(e,0))}format(e){return null==e?"":(0,i.MP)(e)?this.pixelFormatter.format(e[0]):e.map(e=>this.pixelFormatter.format(e)).join(", ")}getNudgeAmount(e){return this.pixelFormatter.getNudgeAmount(e)}incrementBy(e,t,r){return e.map((e,n)=>!r||r[n]?this.pixelFormatter.incrementBy(e,t):e)}clamp(e){return e.map(e=>this.pixelFormatter.clamp(e))}snap(e,t){return e.map(e=>(0,a.kb)(e,t))}isEqual(e,t){return(0,i.MF)(e,t)}getIncrementTargets(e,{start:t,end:r}){let n={};if(0===t&&r>=e.length)return null;let i=t===r;if(i&&t>=e.length)return{[e.split(",").length-1]:!0};let a=0;for(let o=0,l=e.length;o<l;++o){let l=","===e[o];if(i){if(o===t)return{[a]:!0};l&&++a}else if(l&&++a,t<=o&&o<r&&(n[a]=!0),o>=r)break}return n}getSelection(e,t){let r;let n=Object.keys(t).map(Number),i=e.length,a=0;for(let t=0,o=e.length;t<o;++t){if(","===e[t]){++a;continue}if(n.includes(a)){if(null==r){if(/[\s,]/.test(e[t]))continue;r=t}for(;t<o&&/[^,]/.test(e[t]);)++t;i=t,--t}}return{start:r??0,end:i}}}var E=((n=E||{})[n.SECONDS=0]="SECONDS",n[n.MILLISECONDS=1]="MILLISECONDS",n);class y extends m{constructor(e,t,r){super({min:r??.001,max:t,smallNudgeAmount:.01,bigNudgeAmount:.1}),this.outputUnit=e,this.allowedUnits="ms|s"}parse(e,t){let r=(e=e.trim()).endsWith("ms")?1:e.endsWith("s")?0:this.outputUnit;return super.parse(e,t)*(0===r?1:.001)}format(e){if(null==e)return"";switch(this.outputUnit){case 0:return(0,c.t)("number_formatters.time_duration_seconds_abbreviated",{numberOfSeconds:parseFloat(e.toFixed(2))});case 1:return(0,c.t)("number_formatters.time_duration_milliseconds_abbreviated",{numberOfMilliseconds:Math.round(1e3*e)})}}}class b extends m{constructor(e,t=!1){super({min:0,max:e,smallNudgeAmount:1,bigNudgeAmount:10}),this.allowedUnits="s",this.displayFractions=!1,this.displayFractions=t}parse(e,t){if(e.includes(":")){let r=e.split(":");if(r.length>3)throw Error("Format must match HH:MM:SS");let[n,i,a]=r.reverse().map(e=>e.trim()),o=n?super.parse(n,t):0,l=i?super.parse(i,t):0,s=a?super.parse(a,t):0,c=![l,s].every(Number.isInteger),d=!this.displayFractions&&!Number.isInteger(o);if(c||d)throw Error("Cannot have fractional parts in timestamp");return 3600*s+60*l+o}let[r,n]=e.split(".",2),i=`${r.slice(-6,-4)}:${r.slice(-4,-2)}:${r.slice(-2)}`,a=n?`${i}.${n}`:i;return this.parse(a)}format(e){if(null==e)return"";let t=Math.floor(e/3600),r=Math.floor((e%=3600)/60),n=`${r}`.padStart(2,"0");e%=60;let i=this.displayFractions?e:Math.floor(e),a=Number.isInteger(i)?i:i.toFixed(2),o=Number.isInteger(i)?`${i}`.padStart(2,"0"):`${a}`.padStart(5,"0");return t?`${t}:${n}:${o}`:`${n}:${o}`}}class v extends m{constructor({decimals:e,hidePercentSign:t,...r}={}){super(r),this.allowedUnits="%|px",this.defaultMin=0,this.defaultMax=1,this.decimals=2,this.hidePercentSign=!1,null!=e&&(this.decimals=e),null!=t&&(this.hidePercentSign=t)}format(e){if(null==e)return"";let t=`${parseFloat((100*e).toFixed(this.decimals))}`;return this.hidePercentSign||(t+="%"),t}parse(e,t){return super.parse(e,null!=t?100*t:void 0)/100}getNudgeAmount(e){return e?.1:.01}}class I extends m{constructor(){super(...arguments),this.defaultMin=0,this.defaultMax=1}format(e){return null==e?"":`${parseFloat(e.toFixed(2))}`}}class w extends m{constructor(){super(...arguments),this.allowedUnits="%",this.defaultMin=1,this.defaultMax=95}format(e){return null==e?"":`${e}%`}}class T extends m{constructor(e={}){super((0,l.k3)({smallNudgeAmount:-1,bigNudgeAmount:-15},e)),this.allowedUnits="\xb0|px"}format(e){return null==e?"":(-180==(e=(e+180+360)%360-180)&&(e=180),`${parseFloat(e.toFixed(2))}\xb0`)}}class S extends m{constructor(){super(...arguments),this.allowedUnits="px"}parse(e,t){return Math.round(super.parse(e,t))}}class C extends m{constructor(e={}){super(e),this.normalizeFactor=e.normalizeFactor||1}parse(e,t){return super.parse(e,t)/this.normalizeFactor}format(e){let t=e*this.normalizeFactor;return`${Math.round(t)}`}getNudgeAmount(e){return e?10/this.normalizeFactor:1/this.normalizeFactor}}class A{constructor(e){this.min=e.min,this.max=e.max,this.bigPixelNudgeAmount=e.bigPixelNudgeAmount||u.e2,this.smallPixelNudgeAmount=e.smallPixelNudgeAmount||u.a2,this.bigPercentageNudgeAmount=e.bigPercentageNudgeAmount||10,this.smallPercentageNudgeAmount=e.smallPercentageNudgeAmount||1}static parse(e){let t=-1!==e.indexOf("%")?"PERCENT":-1!==e.indexOf("px")?"PIXELS":void 0;e=(e=e.toLowerCase()).replace(RegExp("%|px","g"),"");let r=(0,o.Z_)(e,NaN);if(null!==r.value&&isFinite(r.value))return[r.value,t]}parse(e,t){let r=A.parse(e);if(void 0===r)throw Error("Could not parse input");let[n,i]=r;return void 0===i&&(i=null==t?"PERCENT":t.units),{value:n,units:i}}format(e){if(null==e||e.value!=e.value)return"";let t=parseFloat(e.value.toFixed(2));return"PERCENT"===e.units?`${t}%`:`${t}px`}getNudgeAmount(e,t){return e?"PIXELS"===t.units?this.bigPixelNudgeAmount:this.bigPercentageNudgeAmount:"PIXELS"===t.units?this.smallPixelNudgeAmount:this.smallPercentageNudgeAmount}incrementBy(e,t){return{value:e.value+t,units:e.units}}clamp(e){return{value:(0,a.Af)(e.value,this.min,this.max),units:e.units}}snap(e,t){return{value:(0,a.kb)(e.value,t),units:e.units}}isEqual(e,t){return e.units===t.units&&e.value===t.value}}let O=new A({bigPixelNudgeAmount:u.e2,smallPixelNudgeAmount:u.a2});class N{constructor(){this.MAX_SCALE=1024,this.MAX_SIZE=32768}parse(e){let t=(e=e.toLowerCase()).includes("w")?"CONTENT_WIDTH":e.includes("h")?"CONTENT_HEIGHT":"CONTENT_SCALE";e=e.replace(/x|w|h/g,"");let r=(0,o.Z_)(e);if(null!==r.value&&isFinite(r.value))return{value:r.value,type:t};throw new p("Could not parse input",r.error)}format(e){if(null==e)return"";let t=parseFloat(e.value.toFixed(2));switch(e.type){case"CONTENT_SCALE":return`${t}x`;case"CONTENT_WIDTH":return`${t}w`;case"CONTENT_HEIGHT":return`${t}h`}}getNudgeAmount(e){return e?1:.5}incrementBy(e,t){return{value:(0,a.kb)(e.value+t,t),type:e.type}}clamp(e){let t=e.value;return(t=Math.min(t,"CONTENT_SCALE"===e.type?this.MAX_SCALE:this.MAX_SIZE))<=0&&(t=1),{value:t,type:e.type}}snap(e,t){return{value:(0,a.kb)(e.value,t),type:e.type}}isEqual(e,t){return e.type===t.type&&e.value===t.value}}},73376:(e,t,r)=>{"use strict";r.d(t,{AH:()=>p,Cr:()=>P,ID:()=>d,IX:()=>h,Ir:()=>b,Kg:()=>T,Q3:()=>k,Q9:()=>y,RZ:()=>C,Sw:()=>O,U$:()=>A,UL:()=>c,Y9:()=>S,Yj:()=>_,Yn:()=>f,_6:()=>N,gB:()=>v,id:()=>g,k9:()=>u,kD:()=>L,mU:()=>m,oy:()=>E,sD:()=>M,sP:()=>R});var n=r(916924),i=r(688420),a=r(4596),o=r(560072),l=r(540696),s=r(23604);class c{constructor(){this.format=e=>e?e.replace(/_/g," ").toLowerCase().replace(/^./g,e=>e.toUpperCase()):""}}class d{constructor(){this.format=e=>{switch(e){case"PASS_THROUGH":return(0,o.t)("fullscreen.properties_panel.color_picker.blend_mode_select.pass_through");case"NORMAL":return(0,o.t)("fullscreen.properties_panel.color_picker.blend_mode_select.normal");case"DARKEN":return(0,o.t)("fullscreen.properties_panel.color_picker.blend_mode_select.darken");case"MULTIPLY":return(0,o.t)("fullscreen.properties_panel.color_picker.blend_mode_select.multiply");case"LINEAR_BURN":return(0,o.t)("fullscreen.properties_panel.color_picker.blend_mode_select.linear_burn");case"COLOR_BURN":return(0,o.t)("fullscreen.properties_panel.color_picker.blend_mode_select.color_burn");case"LIGHTEN":return(0,o.t)("fullscreen.properties_panel.color_picker.blend_mode_select.lighten");case"SCREEN":return(0,o.t)("fullscreen.properties_panel.color_picker.blend_mode_select.screen");case"LINEAR_DODGE":return(0,o.t)("fullscreen.properties_panel.color_picker.blend_mode_select.linear_dodge");case"COLOR_DODGE":return(0,o.t)("fullscreen.properties_panel.color_picker.blend_mode_select.color_dodge");case"OVERLAY":return(0,o.t)("fullscreen.properties_panel.color_picker.blend_mode_select.overlay");case"SOFT_LIGHT":return(0,o.t)("fullscreen.properties_panel.color_picker.blend_mode_select.soft_light");case"HARD_LIGHT":return(0,o.t)("fullscreen.properties_panel.color_picker.blend_mode_select.hard_light");case"DIFFERENCE":return(0,o.t)("fullscreen.properties_panel.color_picker.blend_mode_select.difference");case"EXCLUSION":return(0,o.t)("fullscreen.properties_panel.color_picker.blend_mode_select.exclusion");case"HUE":return(0,o.t)("fullscreen.properties_panel.color_picker.blend_mode_select.hue");case"SATURATION":return(0,o.t)("fullscreen.properties_panel.color_picker.blend_mode_select.saturation");case"COLOR":return(0,o.t)("fullscreen.properties_panel.color_picker.blend_mode_select.color");case"LUMINOSITY":return(0,o.t)("fullscreen.properties_panel.color_picker.blend_mode_select.luminosity");default:return""}}}}class u{constructor(e){this.getPaint=e,this.format=e=>{switch(e){case"SOLID":return(0,o.t)("fullscreen.properties_panel.solid");case"VIDEO":return(0,o.t)("fullscreen.properties_panel.video");case"IMAGE":return null!=this.getPaint().animatedImage?(0,o.t)("fullscreen.properties_panel.gif"):(0,o.t)("fullscreen.properties_panel.image");case"GRADIENT_LINEAR":return(0,o.t)("fullscreen.properties_panel.linear");case"GRADIENT_RADIAL":return(0,o.t)("fullscreen.properties_panel.radial");case"GRADIENT_ANGULAR":return(0,o.t)("fullscreen.properties_panel.angular");case"GRADIENT_DIAMOND":return(0,o.t)("fullscreen.properties_panel.diamond");default:return""}}}}class p{constructor(){this.format=e=>{switch(e){case"FILL":return(0,o.t)("fullscreen.properties_panel.image_scale.fill");case"FIT":return(0,o.t)("fullscreen.properties_panel.image_scale.fit");case"STRETCH":return(0,o.t)("fullscreen.properties_panel.image_scale.crop");case"TILE":return(0,o.t)("fullscreen.properties_panel.image_scale.tile");default:return""}}}}class m{constructor(){this.format=e=>{switch(e){case"MIN":return(0,o.t)("fullscreen.properties_panel.constraints.left");case"MAX":return(0,o.t)("fullscreen.properties_panel.constraints.right");case"STRETCH":return(0,o.t)("fullscreen.properties_panel.constraints.left_and_right");case"CENTER":return(0,o.t)("fullscreen.properties_panel.constraints.center");case"SCALE":return(0,o.t)("fullscreen.properties_panel.constraints.scale");default:return""}}}}class _{constructor(){this.format=e=>{switch(e){case"MIN":return(0,o.t)("fullscreen.properties_panel.constraints.top");case"MAX":return(0,o.t)("fullscreen.properties_panel.constraints.bottom");case"STRETCH":return(0,o.t)("fullscreen.properties_panel.constraints.top_and_bottom");case"CENTER":return(0,o.t)("fullscreen.properties_panel.constraints.center");case"SCALE":return(0,o.t)("fullscreen.properties_panel.constraints.scale");default:return""}}}}class h{constructor(){this.format=e=>{switch(e){case"INNER_SHADOW":return(0,o.t)("fullscreen.properties_panel.effects.inner_shadow");case"DROP_SHADOW":return(0,o.t)("fullscreen.properties_panel.effects.drop_shadow");case"FOREGROUND_BLUR":return(0,o.t)("fullscreen.properties_panel.effects.layer_blur");case"BACKGROUND_BLUR":return(0,o.t)("fullscreen.properties_panel.effects.background_blur");default:return""}}}}class g{constructor(e){this.scene=e}hasNameForNode(e){return e===a.Q9||null==e||!!this.scene.get(e)}format(e){if((0,l.Er)(e))return(0,o.t)("fullscreen.mixed");if(e===a.Q9||null==e)return(0,o.t)("proto.node_name_formatter.none");let t=this.scene.get(e);return t?t.stateAbbreviatedName||t.name:(0,o.t)("proto.node_name_formatter.missing")}}function f(e){if(!(0,l.EH)(e.connectionType))return l.ee;let t=(0,l.uc)(e.connectionType,"NONE"),r=(0,l.uc)(e.mediaAction,"PLAY");switch(t){case"NONE":return"NONE";case"INTERNAL_NODE":if(!(0,l.EH)(e.navigationType))return l.ee;switch((0,l.uc)(e.navigationType,"NAVIGATE")){case"NAVIGATE":return"NAVIGATE_TO";case"OVERLAY":return"OPEN_OVERLAY";case"SCROLL_TO":return"SCROLL_TO";case"SWAP":return"SWAP_WITH";case"SWAP_STATE":return"SWAP_STATE_TO"}case"BACK":return"GO_BACK";case"CLOSE":return"CLOSE_OVERLAY";case"URL":return"OPEN_URL";case"SET_VARIABLE":return"SET_VARIABLE";case"SET_VARIABLE_MODE":return"SET_VARIABLE_MODE";case"UPDATE_MEDIA_RUNTIME":switch(r){case"PLAY":return"UPDATE_MEDIA_PLAY";case"PAUSE":return"UPDATE_MEDIA_PAUSE";case"TOGGLE_PLAY_PAUSE":return"UPDATE_MEDIA_TOGGLE_PLAY_PAUSE";case"MUTE":return"UPDATE_MEDIA_MUTE";case"UNMUTE":return"UPDATE_MEDIA_UNMUTE";case"TOGGLE_MUTE_UNMUTE":return"UPDATE_MEDIA_TOGGLE_MUTE_UNMUTE";case"SKIP_FORWARD":return"UPDATE_MEDIA_SKIP_FORWARD";case"SKIP_BACKWARD":return"UPDATE_MEDIA_SKIP_BACKWARD";case"SKIP_TO":return"UPDATE_MEDIA_SKIP_TO"}case"CONDITIONAL":return"CONDITIONAL"}}function E(e){if("UPDATE_MEDIA_RUNTIME"===e.connectionType){if((0,l.Er)(e.mediaAction))return l.ee;switch((0,l.uc)(e.mediaAction,"PLAY")){case"PLAY":case"PAUSE":case"TOGGLE_PLAY_PAUSE":return"UPDATE_MEDIA_PLAY_PAUSE_OPTIONS";case"MUTE":case"UNMUTE":case"TOGGLE_MUTE_UNMUTE":return"UPDATE_MEDIA_MUTE_UNMUTE_OPTIONS";case"SKIP_FORWARD":case"SKIP_BACKWARD":return"UPDATE_MEDIA_SKIP_BY_OPTIONS";case"SKIP_TO":return"UPDATE_MEDIA_SKIP_TO"}}return f(e)}class y{format(e){switch(e){case"NONE":return(0,o.t)("proto.action_none");case"NAVIGATE_TO":return(0,o.t)("proto.action_navigate_to");case"OPEN_OVERLAY":return(0,o.t)("proto.action_open_overlay");case"SCROLL_TO":return(0,o.t)("proto.action_scroll_to");case"SWAP_WITH":return(0,o.t)("proto.action_swap_overlay");case"SWAP_STATE_TO":return(0,o.t)("proto.action_change_to");case"GO_BACK":return(0,o.t)("proto.action_back");case"CLOSE_OVERLAY":return(0,o.t)("proto.action_close_overlay");case"OPEN_URL":return(0,o.t)("proto.action_open_link");case"SET_VARIABLE":return(0,o.t)("proto.action_set_variable");case"SET_VARIABLE_MODE":return(0,o.t)("proto.action_set_variable_mode");case"UPDATE_MEDIA_PLAY":return(0,o.t)("proto.action_update_media_play_only");case"UPDATE_MEDIA_PAUSE":return(0,o.t)("proto.action_update_media_pause_only");case"UPDATE_MEDIA_TOGGLE_PLAY_PAUSE":case"UPDATE_MEDIA_TOGGLE_MUTE_UNMUTE":return(0,o.t)("proto.action_update_media_toggle");case"UPDATE_MEDIA_MUTE":return(0,o.t)("proto.action_update_media_mute_only");case"UPDATE_MEDIA_UNMUTE":return(0,o.t)("proto.action_update_media_unmute_only");case"UPDATE_MEDIA_SKIP_FORWARD":return(0,o.t)("proto.action_update_media_jump_forward");case"UPDATE_MEDIA_SKIP_BACKWARD":return(0,o.t)("proto.action_update_media_jump_backward");case"UPDATE_MEDIA_SKIP_TO":return(0,o.t)("proto.action_update_media_set_to_specific_time");case"UPDATE_MEDIA_PLAY_PAUSE_OPTIONS":return(0,o.t)("proto.action_update_media_play_pause_video");case"UPDATE_MEDIA_MUTE_UNMUTE_OPTIONS":return(0,o.t)("proto.action_update_media_mute_unmute_video");case"UPDATE_MEDIA_SKIP_BY_OPTIONS":return(0,o.t)("proto.action_update_media_jump_forward_backward");case"CONDITIONAL":return(0,o.t)("proto.action_conditional");default:return""}}}class b{format(e){switch(e){case"NONE":return(0,o.t)("proto.action_none");case"NAVIGATE_TO":return(0,o.t)("proto.action_navigate_to");case"OPEN_OVERLAY":return(0,o.t)("proto.action_open_overlay");case"SCROLL_TO":return(0,o.t)("proto.action_scroll_to");case"SWAP_WITH":return(0,o.t)("proto.action_swap_overlay");case"SWAP_STATE_TO":return(0,o.t)("proto.action_change_to");case"GO_BACK":return(0,o.t)("proto.action_back");case"CLOSE_OVERLAY":return(0,o.t)("proto.action_close_overlay");case"OPEN_URL":return(0,o.t)("proto.action_open_link");case"SET_VARIABLE":return(0,o.t)("proto.action_set_variable");case"SET_VARIABLE_MODE":return(0,o.t)("proto.action_set_variable_mode");case"UPDATE_MEDIA_PLAY":return(0,o.t)("proto.action_update_media_play");case"UPDATE_MEDIA_PAUSE":return(0,o.t)("proto.action_update_media_pause");case"UPDATE_MEDIA_TOGGLE_PLAY_PAUSE":case"UPDATE_MEDIA_TOGGLE_MUTE_UNMUTE":return(0,o.t)("proto.action_update_media_toggle");case"UPDATE_MEDIA_MUTE":return(0,o.t)("proto.action_update_media_mute");case"UPDATE_MEDIA_UNMUTE":return(0,o.t)("proto.action_update_media_unmute");case"UPDATE_MEDIA_SKIP_FORWARD":return(0,o.t)("proto.action_update_media_forward");case"UPDATE_MEDIA_SKIP_BACKWARD":return(0,o.t)("proto.action_update_media_backward");case"UPDATE_MEDIA_SKIP_TO":return(0,o.t)("proto.action_update_media_set_time");case"UPDATE_MEDIA_PLAY_PAUSE_OPTIONS":return(0,o.t)("proto.action_update_media_play_pause");case"UPDATE_MEDIA_MUTE_UNMUTE_OPTIONS":return(0,o.t)("proto.action_update_media_mute_unmute");case"UPDATE_MEDIA_SKIP_BY_OPTIONS":return(0,o.t)("proto.action_update_media_jump_time");case"CONDITIONAL":return(0,o.t)("proto.action_conditional");default:return""}}}class v{constructor(){this.oneHourInSeconds=3600,this.secondsFormatter=new s.US(s.e6.SECONDS,this.oneHourInSeconds),this.timestampFormatter=new s.Gi(this.oneHourInSeconds,!0)}format(e){if(!e||!(0,l.EH)(e))return(0,o.t)("proto.action_none");let t=(0,l.EH)(e.mediaSkipToTime)?e.mediaSkipToTime??0:0,r=(0,l.EH)(e.mediaSkipByAmount)?e.mediaSkipByAmount??5:5,n=this.secondsFormatter.format(r),a=this.timestampFormatter.format(t);if("UPDATE_MEDIA_RUNTIME"===e.connectionType)switch(e.mediaAction){case"TOGGLE_PLAY_PAUSE":return(0,o.t)("proto.action_update_media_play_pause");case"PLAY":return(0,o.t)("proto.action_update_media_play");case"PAUSE":return(0,o.t)("proto.action_update_media_pause");case"TOGGLE_MUTE_UNMUTE":return(0,o.t)("proto.action_update_media_mute_unmute");case"MUTE":return(0,o.t)("proto.action_update_media_mute");case"UNMUTE":return(0,o.t)("proto.action_update_media_unmute");case"SKIP_FORWARD":return`${(0,o.t)("proto.action_update_media_jump")} (+${n})`;case"SKIP_BACKWARD":return`${(0,o.t)("proto.action_update_media_jump")} (-${n})`;case"SKIP_TO":return`${(0,o.t)("proto.action_update_media_set")} (${a})`}return i.g.error("You should not be using PrototypeVideoActionSidebarFormatter to format non-video actions!"),""}}let I=()=>(0,o.t)("proto.interaction.type.mouse_enter_deprecated"),w=()=>(0,o.t)("proto.interaction.type.mouse_leave_deprecated");class T{constructor(){this.format=e=>{if(null==e)return(0,o.t)("proto.interaction.type.none");switch(e){case"NONE":return(0,o.t)("proto.interaction.type.none");case"ON_CLICK":return(0,o.t)("proto.interaction.type.on_click");case"ON_HOVER":return(0,o.t)("proto.interaction.type.while_hovering");case"ON_PRESS":return(0,o.t)("proto.interaction.type.while_pressing");case"DRAG":return(0,o.t)("proto.interaction.type.on_drag");case"MOUSE_IN":return I();case"MOUSE_OUT":return w();case"MOUSE_ENTER":return(0,o.t)("proto.interaction.type.mouse_enter");case"MOUSE_LEAVE":return(0,o.t)("proto.interaction.type.mouse_leave");case"MOUSE_DOWN":return(0,o.t)("proto.interaction.type.mouse_down");case"MOUSE_UP":return(0,o.t)("proto.interaction.type.mouse_up");case"AFTER_TIMEOUT":return(0,o.t)("proto.interaction.type.after_delay");case"ON_KEY_DOWN":return(0,o.t)("proto.interaction.type.key_gamepad");case"ON_VOICE":return(0,o.t)("proto.interaction.type.on_voice");case"ON_MEDIA_HIT":return(0,o.t)("proto.interaction.type.when_video_hits");case"ON_MEDIA_END":return(0,o.t)("proto.interaction.type.when_video_ends");default:(0,n.gy)(e)}}}}class S{constructor(){this.format=e=>{if(null==e)return(0,o.t)("proto.interaction.type.none");switch(e){case"NONE":return(0,o.t)("proto.interaction.type.none");case"ON_CLICK":return(0,o.t)("proto.interaction.type.on_tap");case"ON_HOVER":return(0,o.t)("proto.interaction.type.while_hovering");case"ON_PRESS":return(0,o.t)("proto.interaction.type.while_pressing");case"DRAG":return(0,o.t)("proto.interaction.type.on_drag");case"MOUSE_IN":return I();case"MOUSE_OUT":return w();case"MOUSE_ENTER":return(0,o.t)("proto.interaction.type.mouse_enter");case"MOUSE_LEAVE":return(0,o.t)("proto.interaction.type.mouse_leave");case"MOUSE_DOWN":return(0,o.t)("proto.interaction.type.touch_down");case"MOUSE_UP":return(0,o.t)("proto.interaction.type.touch_up");case"AFTER_TIMEOUT":return(0,o.t)("proto.interaction.type.after_delay");case"ON_KEY_DOWN":return(0,o.t)("proto.interaction.type.key_gamepad");case"ON_VOICE":return(0,o.t)("proto.interaction.type.on_voice");case"ON_MEDIA_HIT":return(0,o.t)("proto.interaction.type.when_video_hits");case"ON_MEDIA_END":return(0,o.t)("proto.interaction.type.when_video_ends");default:(0,n.gy)(e)}}}}class C{constructor(){this.format=e=>{if(null==e)return(0,o.t)("proto.interaction.type.none");switch(e){case"NONE":return(0,o.t)("proto.interaction.type.none");case"ON_CLICK":return(0,o.t)("proto.interaction.type.click");case"ON_HOVER":return(0,o.t)("proto.interaction.type.hover");case"ON_PRESS":return(0,o.t)("proto.interaction.type.press");case"DRAG":return(0,o.t)("proto.interaction.type.drag");case"MOUSE_IN":return I();case"MOUSE_OUT":return w();case"MOUSE_ENTER":return(0,o.t)("proto.interaction.type.mouse_enter");case"MOUSE_LEAVE":return(0,o.t)("proto.interaction.type.mouse_leave");case"MOUSE_DOWN":return(0,o.t)("proto.interaction.type.mouse_down");case"MOUSE_UP":return(0,o.t)("proto.interaction.type.mouse_up");case"AFTER_TIMEOUT":return(0,o.t)("proto.interaction.type.delay");case"ON_KEY_DOWN":return(0,o.t)("proto.interaction.type.key");case"ON_VOICE":return(0,o.t)("proto.interaction.type.voice");case"ON_MEDIA_HIT":return(0,o.t)("proto.interaction.type.video_hits");case"ON_MEDIA_END":return(0,o.t)("proto.interaction.type.video_ends");default:return(0,n.gy)(e)}}}}class A{constructor(){this.format=e=>{if(null==e)return(0,o.t)("proto.interaction.type.none");switch(e){case"NONE":return(0,o.t)("proto.interaction.type.none");case"ON_CLICK":return(0,o.t)("proto.interaction.type.tap");case"ON_HOVER":return(0,o.t)("proto.interaction.type.hover");case"ON_PRESS":return(0,o.t)("proto.interaction.type.press");case"DRAG":return(0,o.t)("proto.interaction.type.drag");case"MOUSE_IN":return I();case"MOUSE_OUT":return w();case"MOUSE_ENTER":return(0,o.t)("proto.interaction.type.mouse_enter");case"MOUSE_LEAVE":return(0,o.t)("proto.interaction.type.mouse_leave");case"MOUSE_DOWN":return(0,o.t)("proto.interaction.type.touch_down");case"MOUSE_UP":return(0,o.t)("proto.interaction.type.touch_up");case"AFTER_TIMEOUT":return(0,o.t)("proto.interaction.type.delay");case"ON_KEY_DOWN":return(0,o.t)("proto.interaction.type.key");case"ON_VOICE":return(0,o.t)("proto.interaction.type.voice");case"ON_MEDIA_HIT":return(0,o.t)("proto.interaction.type.video_hits");case"ON_MEDIA_END":return(0,o.t)("proto.interaction.type.video_ends");default:return(0,n.gy)(e)}}}}class O{constructor(){this.format=e=>{switch(e){case"CENTER":return(0,o.t)("proto.overlay_position_centered");case"TOP_LEFT":return(0,o.t)("proto.overlay_position_top_left");case"TOP_CENTER":return(0,o.t)("proto.overlay_position_top_center");case"TOP_RIGHT":return(0,o.t)("proto.overlay_position_top_right");case"BOTTOM_LEFT":return(0,o.t)("proto.overlay_position_bottom_left");case"BOTTOM_CENTER":return(0,o.t)("proto.overlay_position_bottom_center");case"BOTTOM_RIGHT":return(0,o.t)("proto.overlay_position_bottom_right");case"MANUAL":return(0,o.t)("proto.overlay_position_manual");default:return""}}}}class N{constructor(){this.format=e=>{switch(e){case"SQUARE":return(0,o.t)("whiteboard.shapes.square");case"ROUNDED_RECTANGLE":return(0,o.t)("whiteboard.shapes.rounded_rectangle");case"DIAMOND":return(0,o.t)("whiteboard.shapes.diamond");case"ELLIPSE":return(0,o.t)("whiteboard.shapes.ellipse");case"TRIANGLE_UP":return(0,o.t)("whiteboard.shapes.triangle");case"TRIANGLE_DOWN":return(0,o.t)("whiteboard.shapes.downward_pointing_triangle");case"PARALLELOGRAM_LEFT":return(0,o.t)("whiteboard.shapes.left_leaning_parallelogram");case"PARALLELOGRAM_RIGHT":return(0,o.t)("whiteboard.shapes.right_leaning_parallelogram");case"ENG_DATABASE":return(0,o.t)("whiteboard.shapes.cylinder");case"ENG_QUEUE":return(0,o.t)("whiteboard.shapes.horizontal_cylinder");case"ENG_FILE":return(0,o.t)("whiteboard.shapes.file");case"ENG_FOLDER":return(0,o.t)("whiteboard.shapes.folder");case"TRAPEZOID":return(0,o.t)("whiteboard.shapes.trapezoid");case"STAR":return(0,o.t)("whiteboard.shapes.star");case"SHIELD":return(0,o.t)("whiteboard.shapes.shield");case"HEXAGON":return(0,o.t)("whiteboard.shapes.hexagon");case"PENTAGON":return(0,o.t)("whiteboard.shapes.pentagon");case"OCTAGON":return(0,o.t)("whiteboard.shapes.octagon");case"PLUS":return(0,o.t)("whiteboard.shapes.plus");case"PREDEFINED_PROCESS":return(0,o.t)("whiteboard.shapes.predefined_process");case"MANUAL_INPUT":return(0,o.t)("whiteboard.shapes.manual_input");case"CHEVRON":return(0,o.t)("whiteboard.shapes.chevron");case"DOCUMENT_SINGLE":return(0,o.t)("whiteboard.shapes.document_single");case"DOCUMENT_MULTIPLE":return(0,o.t)("whiteboard.shapes.document_multiple");case"ARROW_LEFT":return(0,o.t)("whiteboard.shapes.arrow_left");case"ARROW_RIGHT":return(0,o.t)("whiteboard.shapes.arrow_right");case"SUMMING_JUNCTION":return(0,o.t)("whiteboard.shapes.summing_junction");case"OR":return(0,o.t)("whiteboard.shapes.or");case"SPEECH_BUBBLE":return(0,o.t)("whiteboard.shapes.speech_bubble");case"INTERNAL_STORAGE":return(0,o.t)("whiteboard.shapes.internal_storage");case"MINDMAP_TREE_NUCLEUS":return(0,o.t)("whiteboard.shapes.mindmap");default:return""}}}}class L{constructor(){this.format=e=>{switch(e){case"BASIC":return(0,o.t)("whiteboard.shape_collection_type.basic");case"DIAGRAMMING":return(0,o.t)("whiteboard.shape_collection_type.flowchart");case"MISC":return(0,o.t)("whiteboard.shape_collection_type.misc");default:return""}}}}class R{constructor(){this.format=e=>{switch(e){case"PASS_THROUGH":return(0,o.t)("fullscreen.properties_panel.blend_mode.pass_through");case"NORMAL":return(0,o.t)("fullscreen.properties_panel.blend_mode.normal");case"DARKEN":return(0,o.t)("fullscreen.properties_panel.blend_mode.darken");case"MULTIPLY":return(0,o.t)("fullscreen.properties_panel.blend_mode.multiply");case"LINEAR_BURN":return(0,o.t)("fullscreen.properties_panel.blend_mode.linear_burn");case"COLOR_BURN":return(0,o.t)("fullscreen.properties_panel.blend_mode.color_burn");case"LIGHTEN":return(0,o.t)("fullscreen.properties_panel.blend_mode.lighten");case"SCREEN":return(0,o.t)("fullscreen.properties_panel.blend_mode.screen");case"LINEAR_DODGE":return(0,o.t)("fullscreen.properties_panel.blend_mode.linear_dodge");case"COLOR_DODGE":return(0,o.t)("fullscreen.properties_panel.blend_mode.color_dodge");case"OVERLAY":return(0,o.t)("fullscreen.properties_panel.blend_mode.overlay");case"SOFT_LIGHT":return(0,o.t)("fullscreen.properties_panel.blend_mode.soft_light");case"HARD_LIGHT":return(0,o.t)("fullscreen.properties_panel.blend_mode.hard_light");case"DIFFERENCE":return(0,o.t)("fullscreen.properties_panel.blend_mode.difference");case"EXCLUSION":return(0,o.t)("fullscreen.properties_panel.blend_mode.exclusion");case"HUE":return(0,o.t)("fullscreen.properties_panel.blend_mode.hue");case"SATURATION":return(0,o.t)("fullscreen.properties_panel.blend_mode.saturation");case"COLOR":return(0,o.t)("fullscreen.properties_panel.blend_mode.color");case"LUMINOSITY":return(0,o.t)("fullscreen.properties_panel.blend_mode.luminosity")}}}}let P={format(e){switch(e){case"SCROLLS":return(0,o.t)("proto.scroll_panel.position_dropdown.scroll_with_parent");case"FIXED_WHEN_CHILD_OF_SCROLLING_FRAME":return(0,o.t)("proto.scroll_panel.position_dropdown.fixed_stay_in_place");case"STICKY_SCROLLS":return(0,o.t)("proto.scroll_panel.position_dropdown.sticky_stop_at_top_edge")}}},M={format(e){switch(e){case"SCROLLS":return(0,o.t)("proto.scroll_panel.position_dropdown.scroll_with_parent");case"FIXED_WHEN_CHILD_OF_SCROLLING_FRAME":return(0,o.t)("proto.scroll_panel.position_dropdown.fixed");case"STICKY_SCROLLS":return(0,o.t)("proto.scroll_panel.position_dropdown.sticky")}}},k={format(e){switch(e){case"NONE":return(0,o.t)("proto.scroll_panel.overflow_dropdown.no_scrolling");case"HORIZONTAL":return(0,o.t)("proto.scroll_panel.overflow_dropdown.horizontal");case"VERTICAL":return(0,o.t)("proto.scroll_panel.overflow_dropdown.vertical");case"BOTH":return(0,o.t)("proto.scroll_panel.overflow_dropdown.both_directions")}}}},904556:(e,t,r)=>{"use strict";r.d(t,{M1:()=>o,aY:()=>i,m2:()=>a});var n=r(886420);function i(e,t){return null!=e[t]&&e[t]>0}function a(e,t){for(let r in e)if(!t.includes(r))return!1;return!0}function o(e,t){return Object.keys(e).some(r=>r in e&&!(0,n.QZ)(t[r],e[r],!1))}r(540696)},988800:(e,t,r)=>{"use strict";r.d(t,{_:()=>c,o:()=>d});var n=r(307824),i=r(927800),a=r(467412),o=r(907152);class l{constructor(){this.allTemplateInfo=new Set,this.nodeGUIDsToTemplate=new Map,l.instance=this}static removeInstance(){l.instance=void 0}trackNodesAsTemplate(e,t,r,n){let i=o.TSSceneGraph.instance;if(Array.from(t).forEach(e=>{s(i.get(e))||t.delete(e)}),0===t.size)return;let a=Math.floor(.1*t.size),l={templateId:e,fileKey:r,nodeGUIDs:t,trackedNodeCount:t.size,deletionThreshold:a,creationMethod:n};this.allTemplateInfo.add(l),t.forEach(e=>this.nodeGUIDsToTemplate.set(e,l))}checkForTemplateNodesDeletion(e){0!==this.allTemplateInfo.size&&e.forEach(e=>this.checkForTemplateNodeDeletion(e))}checkForTemplateNodeDeletion(e){let t=this.nodeGUIDsToTemplate.get(e);if(!t)return;this.nodeGUIDsToTemplate.delete(e);let r=t.nodeGUIDs;r.delete(e),r.size<=t.deletionThreshold&&(this.stopTrackingTemplate(t),(0,i.U)("template_deleted",{templateId:t.templateId,fileKey:t.fileKey,productType:"figjam",trackedNodeCount:t.trackedNodeCount,creationMethod:t.creationMethod}))}stopTrackingTemplate(e){this.allTemplateInfo.delete(e),e.nodeGUIDs.forEach(e=>this.nodeGUIDsToTemplate.delete(e))}}let s=e=>!!e&&("CANVAS"===e.type?e.visible:s(e.parentNode));async function c(e,t,r,n,{enableTracking:i=!0}={}){let o=l.instance;if(!i||!o)return await n();let s=(0,a.iY)(),c=await n(),d=new Set((0,a.iY)());return s.forEach(e=>d.delete(e)),t||(t="null"),o.trackNodesAsTemplate(e(),d,t,r),c}function d(){(0,n.useEffect)(()=>{let e=new l,t=o.TSSceneGraph.instance.onDelete(t=>e.checkForTemplateNodesDeletion(t));return()=>{t(),l.removeInstance()}},[])}},72864:(e,t,r)=>{"use strict";r.d(t,{o:()=>u,q:()=>d});var n=r(307824),i=r(120304),a=r(515724),o=r(51408),l=r(26708),s=r(191352),c=r(266772);function d(){let e=(0,s.yI)(),t=(0,i.w1)(e=>e.mirror.appModel.currentPage),r=(0,i.w1)(e=>{var r,n;return null==(n=null==(r=e.mirror.sceneGraph)?void 0:r.get(t))?void 0:n.backgroundColor}),a=(0,c.qG)(),d=(0,n.useMemo)(()=>l.Q.format(r),[r]);return e?"#ffffff":r?d:(0,o.OA)(a)}function u(){let e="ui3"===(0,a.qG)().version,t=d();(0,n.useLayoutEffect)(()=>{e&&document.documentElement.style.setProperty("--canvas-color",t)},[t,e])}},322864:(e,t,r)=>{"use strict";r.d(t,{Qr:()=>g,m1:()=>m,sj:()=>p});var n=r(120304),i=r(515724),a=r(721500),o=r(372152),l=r(440900),s=r(979144),c=r(84656),d=r(927976),u=r(531163);function p(){let e=(0,o.m4)(l.Rn);return(0,c.s5)((0,s.EB)().renderRulers)||e}function m(){return(0,o.m4)(l.Rn)}let _=(0,a.qe)(u.QDY),h=(0,a.qe)(u.Ifd);function g(){let e="ui3"===(0,i.qG)().version,t=(0,d.AR)(),r=(0,n.w1)(({mirror:{appModel:e}})=>e.showUi),o=(0,s.wq)()+_,l=(0,s.O8)(),c=(0,s.s8)(),p=e&&r?o:0;return(0,s.EP)()&&r&&(p+=e?(0,a.qe)(u.gVP):(0,a.qe)(u.Mn$)),{left:p,right:e&&r?(t?c:l)+h:0}}},191352:(e,t,r)=>{"use strict";r.d(t,{CM:()=>c,K4:()=>p,KG:()=>m,Uf:()=>d,c7:()=>s,ee:()=>_,me:()=>l,sP:()=>g,yI:()=>u});var n=r(120304),i=r(836780),a=r(514916),o=r(144984);function l(e){return"fullscreen"!==e.view?a.aE.DESIGN:(0,o.sZ)(e.editorType)}function s(){return"prototype"===(0,n.w1)(e=>e.selectedView).view}function c(){return l((0,n.w1)(e=>e.selectedView))}let d=(0,i.If)(e=>l(e.selectedView));function u(){return c()===a.aE.WHITEBOARD}function p(){return c()===a.aE.DESIGN}function m(){let e=(0,n.w1)(e=>e.selectedView);return"fullscreen"!==e.view?"design":e.editorType}function _(){return h((0,n.w1)(e=>e.selectedView))}function h(e){return"fullscreen"!==e.view?null:e.editorType}let g=(0,i.If)(e=>h(e.selectedView))},627768:(e,t,r)=>{"use strict";r.d(t,{WC:()=>u,eo:()=>c,u6:()=>d});var n=r(307824),i=r(372152),a=r(894836),o=r(191352),l=r(325252),s=r(927976);function c(e,t){let r=(0,o.ee)();return(0,n.useMemo)(()=>(0,l.sX)(r,e,t),[r,t,e])}function d(e){let t=(0,o.ee)();return(0,n.useMemo)(()=>(0,l.Nr)(t,e),[t,e])}function u(e){let t=(0,s.AR)(),r=(0,i.m4)(a.qG)&&t;return(0,n.useMemo)(()=>r?e.filter(e=>(0,l.qT)(e)):e,[r,e])}},817076:(e,t,r)=>{"use strict";r.d(t,{Y:()=>p,c:()=>u});var n=r(120304),i=r(311364),a=r(656716),o=r(816596),l=r(560072),s=r(323576),c=r(518413),d=r(518256);function u(){let e=(0,n.OY)();return({origin:t,formState:r})=>{e(o.a.init({origin:t,formState:r,redirectUrl:(0,i.oX)(a.default.location.pathname,{[d._I.key]:d._I.value}),signedUpFromOpenSession:!0})),e(s.A5({type:c.A,data:{headerText:(0,l.t)("fullscreen.toolbar.to_save_this_board_create_an_account")}}))}}let p=()=>(0,n.w1)(e=>{var t;return!!(null==(t=e.openFile)?void 0:t.isTryFile)})},34664:(e,t,r)=>{"use strict";r.d(t,{S:()=>p,SK:()=>u,Y9:()=>d,kf:()=>_,q6:()=>m});var n=r(307824),i=r(120304),a=r(623131),o=r(372152),l=r(506616),s=r(472956),c=r(492084);let d=(0,a.Zf)(null),u=(0,c.m)((e,t=!1)=>{let r=(0,l.Qb)(s.El,{fileKey:e},{enabled:!!e});return(0,n.useMemo)(()=>"loaded"!==r.status?t?{enabled:!0,until:new Date,id:"fallback"}:{enabled:!1}:r.data.figFileWorkshopMode&&new Date<r.data.figFileWorkshopMode.expiresAt?{enabled:!0,until:r.data.figFileWorkshopMode.expiresAt,id:r.data.figFileWorkshopMode.id}:{enabled:!1},[r,t])});function p(e=!1){let t=(0,i.w1)(e=>e.openFile);return u((null==t?void 0:t.key)||"",e)}function m(e=!1){return p(e).enabled}function _(e){let t=o.qM.get(d);return!!e&&!!t&&new Date<t&&!e.isTryFile}},589440:(e,t,r)=>{"use strict";r.d(t,{O:()=>o,s:()=>l});var n=r(515724),i=r(191352),a=r(762056);function o(){let e="ui3"===(0,n.qG)().version,t=(0,i.KG)(),r=l();return e&&("design"===t||"whiteboard"===t||"slides"===t)||r}function l(){let e="ui3"===(0,n.qG)().version,t=(0,i.KG)(),r=(0,a.S2)(a.YP.ui3FullHeightSidebarsDevMode);return e&&r&&"dev_handoff"===t}},858880:(e,t,r)=>{"use strict";r.d(t,{KO:()=>y,M9:()=>b,Y$:()=>I,gN:()=>v});var n=r(4580),i=r(843148),a=r(560900),o=r(854096),l=r(787848),s=r(417184),c=r(481556),d=r(392992),u=r(572748),p=r(291336),m=r(553432),_=r(97007),h=r(644516),g=r(144984),f=r(784528),E=r(894764);function y(){let e=(0,E.qK)(),t=(0,E.Yv)(),r=(0,E.mQ)(),a=(0,E.u_)(),o=(0,i.Ub)().wqa_include_org_plugins?{orgSavedPlugins:e.orgPlugins,orgSavedWidgets:e.orgWidgets,orgPrivatePlugins:t,orgPrivateWidgets:r}:{},l=e.plugins;return{...(0,n.q)(e=>b(e)),...o,allSavedPlugins:l,pluginAllowlist:a}}function b(e){var t;let r=(0,g.sZ)(e.selectedView.editorType);return{openFile:e.openFile,publishedPlugins:e.publishedPlugins,allSavedPlugins:{},recentlyUsedPlugins:(0,s.Ws)(r,e.recentlyUsed,e.localPlugins),localExtensions:e.localPlugins,orgEntity:(0,s.or)(e),org:(0,u.q6)(e.currentUserOrgId,e.orgById)??null,isReadOnly:e.mirror.appModel.isReadOnly,userCanRunPlugins:(0,p.gp)(e),editorType:r,widgetSelectionInfo:null==(t=e.mirror.selectionProperties)?void 0:t.selectedWidgetInfo,activeTextReviewPlugin:e.mirror.appModel.activeTextReviewPlugin,publishedWidgets:e.publishedWidgets}}function v(){let{warningLevel:e}=(0,c.UR)(),t=(0,a.EB)(),r=y(),i=(0,l.SC)();return(0,n.q)(n=>I(n,{fullscreenMemoryWarningLevel:e,unreadCommentCount:t,pluginAndWidgetMenuArgs:r,isRecovery:i}))}function I(e,{fullscreenMemoryWarningLevel:t,unreadCommentCount:r,pluginAndWidgetMenuArgs:n,isRecovery:i}){let a=(0,h.cL)(e)||null;return(0,o.gD)({fileMenuArgs:{branchingActionsStatus:(0,l.IH)((0,d.w5)(e),(0,m.getPermissionsState)(e),e.selectedView.editorType,t,e.mirror.appModel.topLevelMode,e.mirror.appModel.multiplayerSessionState,i,a),saveAsState:e.saveAsState,topLevelMode:e.mirror.appModel.topLevelMode,unreadCommentCount:r,isOrgMember:(0,m.canMemberOrg)(e.currentUserOrgId,e)},pluginAndWidgetMenuArgs:n,theme:e.theme.themePreference,backToFileArgs:{shouldShowBackToFiles:!1},zoomArgs:{canZoomIn:(0,f.Ib)(e.mirror.appModel,"zoom-in"),canZoomOut:(0,f.Ib)(e.mirror.appModel,"zoom-out")},publishingModalArgs:{isPublishingModalDisabled:(0,_._0)(e)}})}},168404:(e,t,r)=>{"use strict";r.d(t,{C:()=>u,K:()=>d});var n=r(307824),i=r(562416),a=r.n(i),o=r(506616),l=r(439460),s=r(472956),c=r(6888);function d(e){let t=(0,o.Qb)(s.yyE,{figFileKey:null!=e?(0,l.Oe)(e)?e.sourceFileKey:e.key:""},{enabled:null!=e});return n.useMemo(()=>{var e,r,n;if("loaded"!==t.status)return;let i=null==(e=t.data)?void 0:e.figFileLinkExpirationConfig,a=null==(r=t.data)?void 0:r.file;if(!i)return;let o=(0,c.uw)(i);return{file:a,accessReverted:!!i.accessReverted,expiresAt:null==(n=i.expiresAt)?void 0:n.toISOString(),activeExpiration:null==o?void 0:o.toISOString()}},[t])}function u(e,t){let r=(0,o.Qb)(s.gDZ,{fileKey:e.key,teamId:e.teamId,projectId:e.folderId,repoId:e.fileRepoId,currentOrgId:t}),i=(0,l.Oe)(e);return n.useMemo(()=>{var e,n;if(!t||"loaded"!==r.status)return;let o=null==(e=r.data)?void 0:e.file;if(!o)return;let l=p(o),s=!1;return i&&(s=a()(l,p(o,!1))),{filePermissionsData:l,isBranch:i,branchMatchesRepo:s,linkExpiresAt:o.fileLinkExpirationConfig?o.fileLinkExpirationConfig.expiresAt:null==(n=o.sourceFileLinkExpirationConfig)?void 0:n.expiresAt}},[r,t,i])}function p(e,t=!0){let r=t&&e.repo?e.repo:e;return{link_access:r.linkAccess,proto_link_access:r.protoLinkAccess,org_audience:!!r.orgAudience,org_browsable:!!r.orgBrowsable,has_file_link_password:!!r.hasFileLinkPassword,has_proto_link_password:!!e.hasProtoLinkPassword,parent_org_id:e.parentOrgId}}},353231:(e,t,r)=>{"use strict";r.d(t,{Gg:()=>u,It:()=>a,gV:()=>s,m4:()=>o,t7:()=>l,uy:()=>p});var n=r(514916),i=r(873036);function a(e,t,r){let n=new Set(t.map(e=>e[r])),i=new Set(e.map(e=>e[r]));return{missingIds:[...i].filter(e=>!n.has(e)),extraIds:[...n].filter(e=>!i.has(e))}}function o(e,t,r=new Set,n,i=new Set){let a=[],o=[],l={},s=t.reduce((e,t)=>(e.set(t[n],t),e),new Map);for(let o of e.slice(0,t.length)){let e=o[n],t=s.get(e);if(t){let a=d(o,t,r,i,[],"",e);a.length&&(l[o[n]]=a)}else a.push(e);s.delete(o[n])}for(let e of s.values())o.push(e[n]);return{lgMissingIds:a,lgExtraIds:o,differences:l}}function l(e){return Array.isArray(e)?0===e.length:0===e.lgExtraIds.length&&0===e.lgMissingIds.length&&0===Object.keys(e.differences).length}function s(e,t,r,n=new Set,i=new Set){return d(t,r,n,i,[],"",e)}function c(e){return"object"==typeof e&&null!==e}function d(e,t,r,n,i,a,o){for(let l of new Set([...Object.keys(e),...Object.keys(t)])){if(r.has(l))continue;let s=e[l],u=t[l];if(c(s)&&c(u)){d(s,u,r,n,i,`${a}${l}.`,o);continue}n.has(l)&&"string"==typeof s&&"string"==typeof u&&(null==s?void 0:s.substring(0,13))===(null==u?void 0:u.substring(0,13))||s===u||i.push({id:o,key:`${a}${l}`,sinatraValue:s,lgValue:u})}return i}function u(e,t,r=!1){var a,o,l,s;let c="loaded"===e.user.idpUsersInOrg.status?e.user.idpUsersInOrg.data[0]:null,d=e.mostRecentDesignUserUpgrade,u=e.mostRecentWhiteboardUserUpgrade,p="loaded"===e.mostRecentDevModeUserUpgrade.status?e.mostRecentDevModeUserUpgrade.data:null;return{type:i.u_.ORG_USER,user:{id:e.user.id,handle:e.user.handle,img_url:e.user.imgUrl,email:e.user.email},account_type:e.accountType,is_email_validated:null!==e.user.emailValidatedAt,design_paid_status:e.accountType,id:e.id,org_id:e.orgId,user_id:e.user.id,permission:e.permission,created_at:e.createdAt.toISOString(),updated_at:e.updatedAt.toISOString(),show_figjam_user_onboarding:e.showFigjamUserOnboarding,has_shown_figjam_admin_onboarding:e.hasShownFigjamAdminOnboarding,has_shown_figjam_admin_launch_onboarding:e.hasShownFigjamAdminLaunchOnboarding,account_type_changed_at:e.accountTypeChangedAt?e.accountTypeChangedAt.toISOString():void 0,description:e.description,user_state_changed_at:e.userStateChangedAt?e.userStateChangedAt.toISOString():void 0,agreed_to_community_tos_at:e.agreedToCommunityTosAt?e.agreedToCommunityTosAt.toISOString():null,license_admin:!!(null==(a=e.licenseGroupAdmins)?void 0:a.length),license_group_member:e.licenseGroupMember?{id:e.licenseGroupMember.id,license_group_id:null==(o=e.licenseGroupMember)?void 0:o.licenseGroupId,org_user_id:e.licenseGroupMember.orgUserId,created_at:e.licenseGroupMember.createdAt.toISOString(),updated_at:e.licenseGroupMember.updatedAt.toISOString(),assigned_at:e.licenseGroupMember.assignedAt?e.licenseGroupMember.assignedAt.toISOString():"",update_reason:e.licenseGroupMember.updateReason,actor_user_id:e.licenseGroupMember.actorUserId}:void 0,ecc_upgrading_locked:e.permission===n.y6.GUEST&&null!==e.user.externalRestrictedOrgId,scim_metadata:(s=null==(l=null==c?void 0:c.scim)?void 0:l.enterpriseFields)?{[n.U3.COST_CENTER]:s.costCenter,[n.U3.DEPARTMENT]:s.department,[n.U3.DIVISION]:s.division,[n.U3.ORGANIZATION]:s.organization}:null,last_seen:(null==t?void 0:t.lastSeen)||void 0,last_design_seen:(null==t?void 0:t.lastDesignSeen)||void 0,last_whiteboard_seen:(null==t?void 0:t.lastWhiteboardSeen)||void 0,last_edit:(null==t?void 0:t.lastEdit)||void 0,last_design_edit:(null==t?void 0:t.lastDesignEdit)||void 0,last_whiteboard_edit:(null==t?void 0:t.lastWhiteboardEdit)||void 0,whiteboard_paid_status:e.whiteboardPaidStatus||n.m8.STARTER,drafts_folder_id:e.draftsFolderId,disabled_at:e.disabledAt?e.disabledAt.toISOString():void 0,scim_account_type:c?_(c.scim,n.u0.DESIGN,r):null,scim_whiteboard_paid_status:c?_(c.scim,n.u0.WHITEBOARD,r):null,scim_dev_mode_paid_status:c?_(c.scim,n.u0.DEV_MODE,r):null,dev_mode_paid_status:e.devModePaidStatus||n.m8.RESTRICTED,design_upgrade_reason:h(d),whiteboard_upgrade_reason:h(u),dev_mode_upgrade_reason:h(p),workspace_users:e.workspaceUsers.map(m),is_dev_mode_beta_user:!!("loaded"===e.devModeBetaUsedEvent.status&&e.devModeBetaUsedEvent.data)}}function p(e){let t=[],r=e.orgAdminUsersInfo.canRoleSetWithScim;for(let a of e.orgAdminUsers)switch(a.type){case"org_user":let e=a.orgUser;if(!e)continue;t.push(u(e,a,r));break;case"idp_user":let o=a.idpUser;if(!o)continue;let l=_(o.scim,n.u0.DEV_MODE,r);t.push({id:o.id,type:i.u_.IDP_USER,email:o.userName.toLowerCase(),isOrgInvite:!1,name:function(e){var t,r,n;let i=e.scim,a=(null==(t=null==i?void 0:i.displayName)?void 0:t.status)==="loaded"?i.displayName.data:"",o=(null==(r=null==i?void 0:i.name)?void 0:r.status)==="loaded"?i.name.data:null,l=(null==(n=null==i?void 0:i.userName)?void 0:n.status)==="loaded"?i.userName.data:"";if(a)return a;if(o){let e=`${o.givenName} ${o.familyName}`.trim();if(e)return e}return l||""}(o),account_type:_(o.scim,n.u0.DESIGN,r),scim_metadata:o.scim.enterpriseFields,whiteboard_paid_status:_(o.scim,n.u0.WHITEBOARD,r)||void 0,...l&&{dev_mode_paid_status:l}});break;case"org_invite":let s=a.orgInvite;if(!s)continue;t.push({type:i.u_.ORG_INVITE,id:s.id,org_id:s.orgId,email:s.email,account_type:s.accountType,created_at:s.createdAt.toISOString(),updated_at:s.updatedAt.toISOString(),license_group_id:s.licenseGroupId,workspace_id:"loaded"===s.workspaceId.status?s.workspaceId.data:null})}return t}function m(e){return{actor_user_id:e.actorUserId,assigned_at:e.assignedAt,created_at:e.createdAt,id:e.id,is_main_workspace:e.isMainWorkspace,org_user_id:e.orgUserId,permission:e.permission,update_reason:e.updateReason,updated_at:e.updatedAt,uuid:e.uuid,workspace_id:e.workspaceId}}function _(e,t,r){var i,a,o,l,s,c;let d=null;switch(t){case n.u0.DESIGN:d=(null==(i=e.figmaEnterpriseFields)?void 0:i.figmaPermission)||e.figmaPermission;break;case n.u0.WHITEBOARD:d=(null==(a=e.figmaEnterpriseFields)?void 0:a.figjamPermission)||e.figjamPermission;break;case n.u0.DEV_MODE:(null==(l=null==(o=e.figmaEnterpriseFields)?void 0:o.devModePermission)?void 0:l.status)==="loaded"&&(d=null==(c=null==(s=e.figmaEnterpriseFields)?void 0:s.devModePermission)?void 0:c.data)}return d&&!r?null:"editor"===d?n.m8.FULL:"viewerRestricted"===d||"lockLimited"===d?n.m8.RESTRICTED:null}function h(e){var t,r,i,a,o,l,s;if(!e)return;let c=null;e.resourceType===n.q2.FILE?c=null==(t=e.resourceFile)?void 0:t.file:e.resourceType===n.q2.FOLDER?c=null==(r=e.resourceProject)?void 0:r.project:e.resourceType===n.q2.TEAM?c=null==(i=e.resourceTeam)?void 0:i.team:e.resourceType===n.q2.FILE_REPO?c=null==(a=e.resourceRepo)?void 0:a.repo:e.resourceType===n.q2.ORG&&(c=(null==(o=e.resourceOrg)?void 0:o.status)==="loaded"?null==(l=e.resourceOrg.data)?void 0:l.org:null);let d=null;return d=c&&null!==c.name?c.name:`resource ${e.resourceId}`,{org_user_id:e.orgUserId,reason:e.reason,created_at:e.createdAt.toISOString(),actor_id:e.actorId,actor_name:(null==(s=e.actor)?void 0:s.handle)||null,resource_type:e.resourceType,resource_id_or_key:e.resourceId,resource_name:d,editor_type:e.editorType}}},724604:(e,t,r)=>{"use strict";r.d(t,{O:()=>h,s:()=>m});var n=r(161400),i=r(372152),a=r(623131),o=r(506616),l=r(578412),s=r(392992),c=r(251596),d=r(472956),u=r(492084),p=r(817076);let m=(0,u.m)(()=>{let e=(0,i.m4)(s.eg);return(0,o.Qb)(d.MJL,{fileKey:e||""})}),_=(0,a.Zf)(!1);function h(){var e;let t=n.x.getState().selectedView,r=(null==t?void 0:t.view)==="fullscreen"?t.claim:null,a=(0,p.c)(),s=(0,c.C2)(),d=m(),[u,h]=(0,i.lZ)(_);if("loaded"!==d.status)return()=>{};if(void 0!==(0,o.Fc)(null==(e=d.data)?void 0:e.deviceTryFile)&&t&&r&&!s&&!u){if("signup"===r)return()=>{h(!0),a({origin:"google_hardware_claim_file",formState:l.o9.SIGN_UP})};if("login"===r)return()=>{h(!0),a({origin:"google_hardware_claim_file",formState:l.o9.SIGN_IN})}}return()=>{}}},549700:(e,t,r)=>{"use strict";r.d(t,{G:()=>o,O:()=>l});var n=r(307824),i=r(139776);function a(e,t,r){if(!t.getSortValue)return;let n=r.isReversed,a=n;t.sortReversed&&(n=!n),t.sortSecondaryReversed&&(a=!a),t.sortNumerically?(0,i.QV)(e,t.getSortValue,n,t.getSecondarySortValue,a):(0,i.o$)(e,t.getSortValue,{isDescending:n,isSecondaryDescending:a},t.getSecondarySortValue)}function o(e,t,r,n){if(0===t.length)return e;let i=new Set(t),o=[...e,...t];a(o,r,n);let l=new Map,s={},c=s;o.forEach(e=>{i.has(e)?(l.has(c)||l.set(c,[]),l.get(c).push(e)):c=e});let d=[];return l.has(s)&&d.push(...l.get(s)),e.forEach(e=>{d.push(e),l.has(e)&&d.push(...l.get(e))}),d}function l(e,t,r){let[i,o]=n.useState(e),l=n.useCallback(e=>{o({columnName:e,isReversed:i.columnName===e&&!i.isReversed})},[i.columnName,i.isReversed]),s=n.useMemo(()=>{let e=[...t],n=r.find(e=>e.name===i.columnName);return n&&n.getSortValue&&a(e,n,i),e},[r,t,i]);return[i,l,s]}},749949:(e,t,r)=>{"use strict";r.d(t,{CS:()=>s,EV:()=>p,KE:()=>c,QP:()=>u,uQ:()=>d});var n=r(120304),i=r(644220),a=r(417184),o=r(572748),l=r(514916);function s(){let e=(0,n.w1)(e=>e);return(0,a.or)(e)}function c(){let e=(0,o.Ce)();return(0,n.w1)(t=>{var r;return e&&(null==(r=t.orgUsersByOrgId.orgUsers[e.id][t.user.id])?void 0:r.permission)===l.y6.GUEST})}function d(){let e=(0,o.Ce)(),t=(0,n.w1)(t=>{var r;return e&&(null==(r=t.orgUsersByOrgId.orgUsers[e.id][t.user.id])?void 0:r.permission)});return t&&t!==l.y6.GUEST}function u(){return(0,n.w1)(e=>{var t;return(null==(t=e.openFile)?void 0:t.parentOrgId)&&e.orgById[e.openFile.parentOrgId]||void 0})}function p(){var e;let t=(0,o.kV)(),r=(0,i.u6)(t);return"loaded"!==r.status?[]:(null==(e=r.data)?void 0:e.invoices)||[]}},879748:(e,t,r)=>{"use strict";r.d(t,{A5:()=>j,C2:()=>z,IR:()=>H,KQ:()=>B,Qv:()=>K,YT:()=>F,Yn:()=>U,gJ:()=>$,o$:()=>Q,yk:()=>x});var n=r(307824),i=r(120304),a=r(562416),o=r.n(a),l=r(250008),s=r(916924),c=r(9256),d=r(688420),u=r(733960),p=r(484212),m=r(843148),_=r(61836),h=r(506616),g=r(643260),f=r(617292),E=r(967540),y=r(560072),b=r(170400),v=r(810188),I=r(195388),w=r(89352),T=r(628),S=r(572748),C=r(514916),A=r(472956),O=r(320736),N=r(902964),L=r(658784),R=r(14020),P=r(640140),M=r(873036),k=r(353231);let D=1e4;function F(){return(0,i.w1)(e=>(0,L.s5)(e))}function x(e){let[t,r]=n.useState(!1),[a,o]=n.useState(!1),[l,s]=n.useState(!1),[c,d]=n.useState(null),u=(0,i.OY)();return n.useEffect(()=>{(async()=>{if(!t&&!a&&!l){r(!0);try{let t=await M.UT.getOrgUsersCount({orgId:e});d(t.data.meta.org_user_count),o(!0),r(!1)}catch(e){u(E.M.error((0,y.t)("org_user_actions.an_error_occurred_while_fetching_member_counts"))),r(!1),o(!1),s(!0)}}})()},[e,a,t,l,u]),[a,c]}function U(e,t,r){let[i,a]=n.useState((0,h.W_)()),o=n.useRef(null),l=()=>{o.current&&(clearTimeout(o.current),o.current=null)},s=n.useCallback(async()=>await M.UT.getOrgUsersFilterCounts({searchQuery:t,product:r.productFilter?r.productFilter:void 0,licenseGroupId:r.licenseGroupFilter||void 0,workspaceId:r.workspaceFilter||void 0,permission:r.permissionFilter||void 0,role:r.roleFilter||void 0,orgId:e}),[r.licenseGroupFilter,r.workspaceFilter,r.permissionFilter,r.productFilter,r.roleFilter,e,t]),d=(0,p.Y)(()=>(l(),s()),[s]);return n.useEffect(()=>{(0,c._g)(d)?a((0,h.uU)(d.value.data.meta)):(0,c.ym)(d)?a((0,h.u8)([])):a((0,h.W_)())},[d]),{filterCountsViewResult:i,queueFilterCountsRefetch:n.useCallback(()=>{l(),o.current=setTimeout(async()=>{a((0,h.W_)());try{let e=await s();a((0,h.uU)(e.data.meta))}catch(e){a((0,h.u8)([]))}},D)},[s])}}function B({orgId:e,includeLicenseAdmins:t=!0}){let[r,a]=n.useState(!1),[o,l]=n.useState(!1),[s,c]=n.useState(!1),[d,u]=n.useState([]),p=(0,i.OY)();return n.useEffect(()=>{(async()=>{if(!r&&!o&&!s){a(!0);try{let r=await M.UT.getAdmins({includeLicenseAdmins:!!t,orgId:e});u(r.data.meta),l(!0),a(!1)}catch(e){p(E.M.error((0,y.t)("org_user_actions.an_error_occurred_fetching_org_admins"))),a(!1),l(!1),c(!0)}}})()},[e,t,o,r,s,p]),{isFetched:o,orgAdmins:d}}class G extends Error{}let V=async(e,t,r)=>{var n,i;let{cursor:a,searchQuery:o,sort:s,filter:c,firstPageSize:d,signal:u,minimalFields:p}=r,m=null===a?(d||25).toString():null;try{let e=Date.now();(0,l.we)("Org Admin Members V2 Fetch Initiated",{orgId:t,...r.extraLoggingData,isInitialLoad:null===a,minimalFields:p});let n=M.UT.getOrgUsersPaginatedV2({orgId:t,pageSize:m,after:a,searchQuery:o,sort:s?(0,N.M)(s):void 0,filter:c?(0,O.Qs)(c):void 0,minimalFields:p}),i=await n;(0,l.we)("Org Admin Members V2 Fetch Succeeded",{orgId:t,durationMs:Date.now()-e,...r.extraLoggingData,isInitialLoad:null===a,minimalFields:p});let d=[...i.data.meta.users||[]],_=i.data.meta.cursor,h=w.Ih.withOverrides({[T.eK.DEV_MODE]:"devMode",[T.eK.FIGJAM]:"whiteboard"}).withSuffix("EditorCutoff").dict(e=>i.data.meta[e]),g=i.data.meta.totalUserCount;if(null==u?void 0:u.aborted)throw new G;return{users:d,newCursor:_,editorCutoffs:h,totalUserCount:g}}catch(t){if(!(t instanceof G)){let r=(null==(n=t.data)?void 0:n.status)===422?null==(i=t.data)?void 0:i.message:t.message;e(E.M.error(r||(0,y.t)("org_user_actions.an_error_occurred_fetching_org_users")))}return t}};async function H(e,t,r){let{users:n,newCursor:i,editorCutoffs:a,totalUserCount:o}=await V(e,t,r);return W(t,e,n),{users:n,newCursor:i,editorCutoffs:a,totalUserCount:o}}let W=(e,t,r)=>{let n=[],i=[],a=[];r.forEach(e=>{switch(e.type){case M.u_.ORG_USER:if(!("org_id"in e))break;n.push(e);break;case M.u_.IDP_USER:i.push(e);break;case M.u_.ORG_INVITE:a.push(e)}}),t(I.WO({orgUsers:n,orgId:e})),i&&t(b.K({idpUsers:i})),a&&t(v.WO(a))};function K({searchQuery:e,sort:t,filter:r,firstPageSize:a,setDesignEditorDiff:c,setWhiteboardEditorDiff:p,setDevModeEditorDiff:_}){let h=(0,i.OY)(),f=(0,i.w1)(({currentUserOrgId:e})=>e),[E,y]=n.useState(void 0),[b,v]=n.useState(void 0),[I,w]=n.useState(void 0),S=(0,u.i)(e),A=(0,u.i)(t),O=(0,u.i)(r),N=S!==e||!o()(A,t)||!o()(O,r),[L,R]=n.useState("hidden"===document.visibilityState),[D,F]=n.useState(!navigator.onLine);n.useEffect(()=>{let e=()=>F(!0);return window.addEventListener("offline",e),()=>window.removeEventListener("offline",e)},[]),n.useEffect(()=>{let e=()=>{"hidden"===document.visibilityState&&R(!0)};return document.addEventListener("visibilitychange",e),()=>document.removeEventListener("visibilitychange",e)},[]);let x=!!(0,m.Ub)().org_admin_lg_dark_read2,U=!!(0,m.Ub)().org_admin_livegraph,B=q(f,N,h,!U,{searchQuery:e,sort:t,filter:r,firstPageSize:a,extraLoggingData:{hasBeenOffline:D,hasBeenBackgrounded:L}}),G=Y(f,N,h,U,{searchQuery:e,sort:t,filter:r,firstPageSize:a,extraLoggingData:{hasBeenOffline:D,hasBeenBackgrounded:L}}),[V,H]=n.useState(!1);n.useEffect(()=>{if(B.status!==g.D.SUCCESS||G.status!==g.D.SUCCESS||V)return;let{missingIds:e,extraIds:t}=(0,k.It)(B.sortedUsers,G.sortedUsers,"id");(e.length>0||t.length>0)&&((0,l.we)("Org Admin Members Table Sinatra vs LG Comparison",{orgId:f,lgMissingIds:JSON.stringify(e),lgExtraIds:JSON.stringify(t)}),console.log(e,t)),H(!0)},[V,G.sortedUsers,G.status,f,B.sortedUsers,B.status]);let[W,K]=n.useState(0);n.useEffect(()=>{N&&(H(!1),K(0))},[N]),n.useEffect(()=>{if(B.status===g.D.SUCCESS&&G.status===g.D.SUCCESS)try{let e=new Set(["redeemed_by","license_group_admins"]),t=B.sortedUsers.slice(W);if(0===t.length)return;let{differences:r}=(0,k.m4)(t,G.sortedUsers,e,"id");K(B.sortedUsers.length),(0,l.we)("Org Admin Members Table Sinatra vs LG Comparison",{orgId:f,differences:JSON.stringify(r)}),console.log("Org Admin discrepancies:",r)}catch(e){(0,l.we)("Org Admin Members Table Sinatra vs LG Comparison",{orgId:f,error:JSON.stringify(e)}),console.log(e)}},[V,W,G.sortedUsers,G.status,f,B.sortedUsers,B.status]);let j=U?G.status:B.status,$=U?G.editorCutoffs:B.editorCutoffs,Z=U?G.sortedUsers:B.sortedUsers,z=U?G.queueRefetch:B.queueRefetch,X=n.useCallback(()=>{var e,t;null==(e=B.fetchMore)||e.call(B),(x||U)&&(null==(t=G.fetchMore)||t.call(G))},[x,U,G,B]),J=B.fetchMore?X:void 0,ee=(0,i.w1)(e=>{let t=e.currentUserOrgId;return e.orgUsersByOrgId.orgUsers[t]}),et=(0,i.w1)(e=>e.idpUserById),er=n.useMemo(()=>(function(e,t,r){let n=[],i=new Set,a=[];return e.forEach(e=>{if(e.type===M.u_.ORG_USER){let r=t[e.user_id];r?i.has(e.user_id)?a.push(e.user_id):(n.push(r),i.add(e.user_id)):d.g.warn(`sortedUsers returned a user (${e.type}-${e.id}) that is not in redux`)}else{let t=r.idpUsers[e.id];t&&(e.type===M.u_.ORG_INVITE&&t.isOrgInvite||e.type===M.u_.IDP_USER&&!t.isOrgInvite)?i.has(e.id)?a.push(e.id):(n.push(t),i.add(e.id)):d.g.warn(`sortedUsers returned a user (${e.type}-${e.id}) that is not in redux`)}}),a.length&&d.g.error(`ERROR: Duplicate user result in sortedUsers: ${a}.`),n})(Z,ee,et),[et,ee,Z]),en=n.useCallback(e=>{switch(e){case T.eK.DESIGN:return y;case T.eK.FIGJAM:return v;case T.eK.DEV_MODE:return w;default:(0,s.gy)(e)}},[y,v,w]),ei=n.useCallback(e=>{switch(e){case T.eK.DESIGN:return c;case T.eK.FIGJAM:return p;case T.eK.DEV_MODE:return _;default:(0,s.gy)(e)}},[c,p,_]),ea=n.useCallback((e,t,r)=>{let n=[];if(r===T.eK.DESIGN&&t===C.m8.FULL){let i=e.map(e=>(0,P.MH)(e,r));n.push({licenseType:T.eK.DESIGN,fromAccountTypes:i,toAccountType:t});let a=e.map(e=>(0,P.MH)(e,T.eK.DEV_MODE));n.push({licenseType:T.eK.DEV_MODE,fromAccountTypes:a,toAccountType:C.m8.RESTRICTED})}else n.push({licenseType:r,fromAccountTypes:e.map(e=>(0,P.MH)(e,r)),toAccountType:t});return n},[]),eo=n.useCallback((e,t,r,n)=>{ea(e,t,r).forEach(e=>{let t=e.licenseType,r=en(t),i=ei(t);r(t=>(function(e,t,r,n,i){let a=0,o=r!==C.m8.FULL;if(t.forEach(e=>{e===C.m8.FULL&&(a-=1)}),r===C.m8.FULL&&(a+=t.length),0!==a&&(null==i||i(a)),e&&!Q(e)){let t=e.buffer-a,r=e.orgUserIds||[];return{buffer:t,orgUserIds:(o?r.filter(e=>!n.includes(e)):[...new Set(r.concat(n))]).slice(t)}}if(!e||!o)return e;{let t=e.editor_count+a;return t<=0?{buffer:-1*t,orgUserIds:t?n.slice(-1*t):[]}:{...e,editor_count:t}}})(t,e.fromAccountTypes,e.toAccountType,n,i))})},[ea,en,ei]);return n.useEffect(()=>{j===g.D.SUCCESS&&(y(null==$?void 0:$.design),v(null==$?void 0:$.figjam),w(null==$?void 0:$.dev_mode))},[$,j]),{status:j,sortedUsers:er,fetchMore:J,queueRefetch:z,newDesignEditorCutoff:E,newWhiteboardEditorCutoff:b,newDevModeEditorCutoff:I,updateNewEditorBuffer:eo}}let Y=(e,t,r,a,o)=>{let s=!!(0,m.Ub)().org_admin_lg_dark_read2,c=!!(0,m.Ub)().org_admin_livegraph,d=function({searchQuery:e,sort:t,filter:r,firstPageSize:a},o){let s=(0,i.w1)(({currentUserOrgId:e})=>e),c=n.useMemo(()=>({stuckMs:1e4,onEvent:(e,t,r,n)=>(function(e,t,r,n,i){let a={lgEvent:t,traceId:n.traceId,hasBeenOffline:n.wasOffline,hasBeenBackgrounded:n.wasBackgrounded,timeElapsedMs:n.timeElapsedMs,orgId:e,errors:JSON.stringify(r.errors)};if("initiated"===t)a.viewArgs=JSON.stringify(n.viewArgs);else if("stuck"===t){let e=(0,_.w3)().session.getViewSubscriptionsForDebugging(),t=[];for(let r in e)r.includes("OrgAdminUserView")&&t.push(e[r]);a.lgInfraLayerSubs=JSON.stringify(t)}else"canceled"===t&&(a.nextTraceId=null==i?void 0:i.nextTraceId);(0,l.we)("Org Admin Members Table LG",a)})(s,e,t,r,n)}),[s]);return(0,_.W0)(A.ySe,{orgId:s,firstPageSize:a||25,queryParams:`${(0,f.OW)({...e&&{search_query:e},...t&&(0,N.M)(t),...r&&(0,O.Qs)(r)})}`},{enabled:o,subscriptionLogger:c})}(o,s||c),u=n.useMemo(()=>{if(!d.data)return[];try{let t=(0,k.uy)(d.data);return a&&W(e,r,t),t}catch(t){return(0,l.we)("Org Admin Members Table Sinatra vs LG Comparison",{orgId:e,error:JSON.stringify(t)}),[]}},[r,d.data,e,a]),p=g.D.LOADING;return"loaded"===d.status?p=g.D.SUCCESS:"errors"===d.status&&(p=g.D.FAILURE),{sortedUsers:u,editorCutoffs:{},queueRefetch:()=>{throw Error("Not implemented")},status:p,fetchMore:p===g.D.SUCCESS&&d.data.orgAdminUsers.hasNextPage()?()=>d.data.orgAdminUsers.loadNext(25):void 0}},q=(e,t,r,i,a)=>{let{searchQuery:o,sort:l,filter:s,firstPageSize:d,extraLoggingData:u}=a,[m,_]=n.useState([]),[h,g]=n.useState(void 0),[f,E]=n.useState(null),y=n.useRef(),b=n.useRef(null),v=()=>{b.current&&(clearTimeout(b.current),b.current=null)};n.useEffect(()=>{t&&_([])},[t]);let I=(0,p.Y)(({reset:n})=>{var a,c;return n(),v(),null==(a=y.current)||a.abort(),y.current=new AbortController,V(r,e,{cursor:t?null:f,searchQuery:o,sort:l,filter:s,firstPageSize:d,signal:null==(c=y.current)?void 0:c.signal,minimalFields:!1,extraLoggingData:u}).then(n=>{let{users:a}=n;return i&&W(e,r,a),_([...t?[]:m,...a]),g(n.editorCutoffs),n})},[r,e,f,o,JSON.stringify(l),JSON.stringify(s),d]),w=n.useCallback((t=D)=>{v(),b.current=setTimeout(()=>{var t;return H(r,e,{cursor:null,searchQuery:o,sort:l,filter:s,firstPageSize:d,minimalFields:!1,signal:null==(t=y.current)?void 0:t.signal}).then(e=>{let{users:t,editorCutoffs:r}=e;return _([...t]),g(r),e})},t)},[r,e,f,o,JSON.stringify(l),JSON.stringify(s),d]),T=(0,c._g)(I)&&I.value.newCursor?()=>E(I.value.newCursor):void 0;return{sortedUsers:m,editorCutoffs:h,queueRefetch:w,status:I.status,fetchMore:T}};function j({searchQuery:e,filter:t,selectedAll:r}){let a=(0,i.OY)(),l=(0,i.w1)(({currentUserOrgId:e})=>e),[s,d]=n.useState(null),[m,_]=n.useState({}),[h,f]=n.useState(null),E=(0,u.i)(e),y=(0,u.i)(t),b=(0,u.i)(r),v=E!==e||!o()(y,t)||!b&&r,I={...R.UP,...t},w=!r||"provisional"===I.permissionFilter;n.useEffect(()=>{v&&(_({}),f(null))},[v]);let T=(0,p.Y)(({reset:t})=>(t(),w)?Promise.resolve({users:[],newCursor:null,totalUserCount:0}):(null===I.permissionFilter&&(I.permissionFilter="not_provisional"),H(a,l,{cursor:v?null:s,searchQuery:e,filter:I,minimalFields:!0})),[a,l,s,e,r,JSON.stringify(t)]);n.useEffect(()=>{if((0,c._g)(T)){let{users:e,newCursor:t,totalUserCount:r}=T.value;_(t=>{let r={...v?{}:t};return e.forEach(e=>r[e.id]=e),r}),f(r),t&&d(t)}},[v,T]);let S=(0,c._g)(T)&&null===T.value.newCursor,C=Object.values(m);return{status:S?g.D.SUCCESS:(0,c._g)(T)?g.D.LOADING:T.status,users:C,totalSelectable:S&&!w?C.length:h}}function $(){let e=F();return Z((0,S.Ce)(),e)}function Z(e,t){return!!(e&&e.are_custom_templates_allowed&&t)}function z(e){let t=(0,L.s5)(e);return Z(e.currentUserOrgId?e.orgById[e.currentUserOrgId]:null,t)}function Q(e){return!!e&&"org_user_id"in e&&void 0!==e.org_user_id}},189432:(e,t,r)=>{"use strict";r.d(t,{Ex:()=>I,So:()=>b,Us:()=>S,Yt:()=>v,gh:()=>T,kD:()=>w});var n=r(120304),i=r(916924),a=r(560072),o=r(332320),l=r(236952),s=r(905612),c=r(323576),d=r(883528),u=r(251596),p=r(342512),m=r(325252),_=r(778112),h=r(228472),g=r(224100),f=r(839432),E=r(17844),y=r(294916);function b(e){let t;let r=(0,n.OY)(),i=(0,u.sX)();if(!e||i!==e.creator.id)return null;if((0,o.An)(e))t=(0,a.t)("community.plugins.cancel_review");else if((0,_.OG)(e)){if((0,o.EF)(e))return null;t=(0,a.t)("community.resource.delist")}else t=(0,a.t)("community.resource.unpublish");return{displayText:t,callback:()=>{r((0,c.A5)({type:E.w,data:{plugin:e},showModalsBeneath:!0}))}}}function v(e,t){let r=(0,n.OY)();if(e&&!(0,g.E7)(e))return null;let i=e&&!e.error?t?(0,a.t)("community.plugins.publish_new_version"):(0,a.t)("community.resource.publish"):t?t.is_widget?(0,a.t)("community.plugins.edit_resource_details.widget"):(0,a.t)("community.plugins.edit_resource_details.plugin"):void 0;return i?{displayText:i,callback:()=>{r((0,s.O)({localFileId:null==e?void 0:e.localFileId,publishedPluginId:null==t?void 0:t.id,entryPoint:h.Y9.EDITOR}))}}:null}function I(e,t){let r=(0,n.OY)();if(!e||!t)return null;switch(e){case g.UT.LOAD:return{action:()=>{let e=t.localFileId;r((0,l.wb)({resourceType:(0,g._2)(t)?"widget":"plugin",localFileIdToRemove:e}))},msg:(0,a.t)("universal_insert.missing_manifest"),buttonText:(0,a.t)("universal_insert.locate")};case g.UT.VALIDATE:case g.UT.PARSE:return{action:()=>{r((0,c.A5)({type:y.m,data:{localPlugin:t}}))},msg:(0,a.t)("universal_insert.manifest_error"),buttonText:(0,a.t)("universal_insert.see_details")};default:(0,i.gy)(e)}}function w(e,t,r){let i=(0,n.OY)();return{displayText:(0,a.t)("universal_insert.manage_permissions"),callback:()=>{r&&r();let n=e&&(0,g.E7)(e)?e.localFileId:void 0;i((0,s.O)({localFileId:n,publishedPluginId:null==t?void 0:t.id,initialTab:f.G8.PERMISSIONS,entryPoint:h.Y9.EDITOR}))}}}function T(e){let t=(0,p.A)();return e&&(0,g.E7)(e)?{displayText:(0,d.W)((0,m.Ij)()),callback:()=>{t&&t.openExtensionDirectory(e.localFileId)}}:null}function S(e,t){return{displayText:e?(0,a.t)("universal_insert.remove_local_version"):(0,a.t)("universal_insert.remove"),callback:t}}},408071:(e,t,r)=>{"use strict";r.d(t,{Ou:()=>L,Oy:()=>O,Y9:()=>P,gb:()=>R,qO:()=>N});var n=r(307824),i=r(120304),a=r(4580),o=r(372152),l=r(326660),s=r(58908),c=r(326020),d=r(592164),u=r(511308),p=r(217568),m=r(403132),_=r(323576),h=r(849208),g=r(351916),f=r(967616),E=r(191352),y=r(417184),b=r(291336),v=r(325252),I=r(778112),w=r(393052),T=r(492496),S=r(372204),C=r(894764);function A(){let e=(0,E.KG)(),{orgEntity:t,org:r,openFile:i,isReadOnly:o,userCanRunPlugins:l,activeTextReviewPlugin:s,publishedPlugins:c,publishedWidgets:d}=(0,a.q)(e=>({orgEntity:(0,y.or)(e),org:e.currentUserOrgId?e.orgById[e.currentUserOrgId]:null,openFile:e.openFile,isReadOnly:e.mirror.appModel.isReadOnly,userCanRunPlugins:(0,b.gp)(e),activeTextReviewPlugin:e.mirror.appModel.activeTextReviewPlugin,publishedPlugins:e.publishedPlugins,publishedWidgets:e.publishedWidgets})),u=(0,C.IX)();return n.useMemo(()=>({openFile:i,localExtensions:u,orgEntity:t,org:r,isReadOnly:o,userCanRunPlugins:l,editorType:e,allSavedPlugins:{},activeTextReviewPlugin:s,publishedPlugins:c,publishedWidgets:d}),[i,u,t,r,o,l,e,s,c,d])}function O(e){let t=(0,C.qK)(),r=t.plugins[e]||t.orgPlugins[e],n=(0,C.So)()[e];return r||(n?(0,v.Yl)(n):null)}function N(e,t){let r=O(e),a=A(),p=(0,S.M)(),m=(0,c.ig)(),_=(0,i.o3)(),[h,E]=(0,o.lZ)(d.g);return n.useCallback(e=>{if(!r){console.error("Plugin version not found"),(0,l.oP)(s._.EXTENSIBILITY,Error("Plugin version not found"));return}let n={type:"run-installed-plugin",pluginId:r.plugin_id,command:void 0,parameterOnly:r.manifest.parameters&&!1!==r.manifest.parameterOnly,parameterEntry:(0,f.AH)(r.manifest.parameters,r.name)};if((0,v._Q)(r)&&M(_),(0,v.z4)(r)){m((0,u.Uj)(r)),M(_),E(d.u.PRIMARY);return}(0,g.QX)({...a,allSavedPlugins:{[r.plugin_id]:r}},t,e||n),p()},[r,a,t,p,_,m,E])}function L(e,t){let r=A(),a=Object.values((0,C.IX)()).find(t=>t.plugin_id===e),l=(0,S.M)(),s=(0,c.ig)(),p=(0,i.o3)(),[m,_]=(0,o.lZ)(d.g);return n.useCallback(e=>{if(!a){console.error("Plugin not found");return}let n={type:"run-local-plugin",localFileId:null==a?void 0:a.localFileId,command:void 0,parameterOnly:a.manifest.parameters&&!1!==a.manifest.parameterOnly,parameterEntry:(0,f.AH)(a.manifest.parameters,a.name)};if((0,v._Q)(a)&&M(p),(0,v.z4)(a)){s((0,u.Uj)(a)),M(p),_(d.u.PRIMARY);return}(0,g.QX)(r,t,e||n),l()},[a,r,t,l,p,s,_])}function R(e,t,r){let{appModel:n,selectedView:o}=(0,a.q)(e=>({appModel:e.mirror.appModel,selectedView:e.selectedView})),l=(0,i.OY)(),s=(0,C.So)()[e],c=(0,v.Y9)(s),d=(0,C.qK)(),u=d.plugins[e]||d.orgPlugins[e]||c,p=Object.values((0,C.IX)()).find(t=>t.plugin_id===e),m=(null==p?void 0:p.manifest.menu)&&p.manifest.menu.length>0&&!(0,v.qw)(p)?(0,f._Y)(p.manifest.menu,{localFileId:p.localFileId}):[],E=u.manifest.menu&&u.manifest.menu.length>0&&!(0,v.qw)(u)?(0,f._Y)(u.manifest.menu,{pluginId:u.plugin_id}):[],y=(0,T.MT)(E.map(e=>(0,g.Y7)(e,e=>()=>t(e))),{appModel:n,selectedView:o}),b=(0,T.MT)(m.map(e=>(0,g.Y7)(e,e=>()=>r(e))),{appModel:n,selectedView:o});if(!p)return y;if(!s||s&&!s.current_plugin_version_id)return b;let S=[];return p.error?S.push({displayText:"\u26A0 In-development version",callback:()=>{l((0,_.A5)({type:w.s,data:{error:p.error,dispatch:l,resourceType:I.K2.PLUGIN},showModalsBeneath:!0}))}}):S.push({displayText:"In-development version",...b.length>0?{children:b}:{callback:()=>{"figma"===(0,v.a6)()&&(l(h.s({seen_published_plugin_onboarding_modal:!0})),l(h.s({seen_development_plugin_onboarding_modal:!0}))),r()}}}),S.push({displayText:"Published version",...y.length>0?{children:y}:{callback:()=>{"figma"===(0,v.a6)()&&(l(h.s({seen_published_plugin_onboarding_modal:!0})),l(h.s({seen_development_plugin_onboarding_modal:!0}))),t()}}}),S}function P(e,t){let r=(0,i.w1)(e=>e.mirror.appModel),n=(0,i.w1)(e=>e.selectedView),a=(0,C.So)()[e],o=(0,v.Y9)(a),l=o.manifest.menu&&o.manifest.menu.length>0?(0,f._Y)(o.manifest.menu,{pluginId:o.plugin_id}):[];return(0,T.MT)(l.map(e=>(0,g.Y7)(e,e=>()=>t(e))),{appModel:r,selectedView:n})}function M(e){let{selectedView:t}=e.getState();"fullscreen"===t.view&&"design"===t.editorType&&(e.dispatch(m.Ej({...t,view:"fullscreen",editorType:"dev_handoff"})),(0,p.oR)(e.getState(),"dev_handoff","plugin_run"))}},894764:(e,t,r)=>{"use strict";r.d(t,{A$:()=>eq,A9:()=>e2,An:()=>er,At:()=>eW,Av:()=>e3,Ce:()=>tt,Cg:()=>ep,I5:()=>eD,IX:()=>Q,Ij:()=>es,Ir:()=>tn,KM:()=>ei,MH:()=>eI,Q1:()=>eh,QD:()=>ec,SU:()=>et,Se:()=>e1,So:()=>en,Su:()=>ti,Sw:()=>eo,Uf:()=>em,Un:()=>eP,WC:()=>te,WK:()=>ef,Wm:()=>J,Yv:()=>ey,_m:()=>ek,aW:()=>ee,c9:()=>e7,cP:()=>ew,eA:()=>eV,g7:()=>eF,gR:()=>ea,i4:()=>ta,iA:()=>eQ,io:()=>eT,jY:()=>ex,k3:()=>ej,k7:()=>e8,kV:()=>tr,mQ:()=>eb,oL:()=>eG,oz:()=>eM,q:()=>eY,qI:()=>e6,qK:()=>eC,qW:()=>eu,qo:()=>eg,uM:()=>eE,u_:()=>ez,vT:()=>ed,wV:()=>e5,wp:()=>eB,yG:()=>X});var n,i=r(307824),a=r(120304),o=r(250008),l=r(139776),s=r(886420),c=r(4580),d=r(843148),u=r(623131),p=r(372152),m=r(506616),_=r(47956),h=r(326660),g=r(58908),f=r(560072),E=r(306016),y=r(317704),b=r(332320),v=r(426856),I=r(877308),w=r(321296),T=r(649228),S=r(143152),C=r(191352),A=r(417184),O=r(8396),N=r(201472),L=r(103840),R=r(392992),P=r(572748),M=r(251596),k=r(514916),D=r(472956),F=r(39676),x=r(291392),U=r(215980),B=r(291336),G=r(325252),V=r(144984),H=r(224100),W=r(736512),K=r(992236),Y=r(390260),q=r(927976),j=r(546788),$=r(627768),Z=r(749949),z=r(987276);function Q(e){let t=(0,a.w1)(e=>e.localPlugins);return(0,$.eo)(t,e)}function X(e){let t=Q(e);return(0,i.useMemo)(()=>{let e={};for(let r in t){let n=t[r];(0,H._2)(n)||(e[r]=n)}return e},[t])}function J(){let e=Q();return(0,i.useMemo)(()=>{let t={};for(let r in e){let n=e[r];(0,H._2)(n)&&(t[r]=n)}return t},[e])}function ee(e){return Object.values(Q()).find(t=>t.plugin_id===e)}function et(){let e=Q();return(0,i.useMemo)(()=>{let t={};for(let r in e){let n=e[r];t[n.plugin_id]=n}return t},[e])}function er(){return(0,a.w1)(e=>e.publishingPlugins)}function en(){let e=(0,a.w1)(e=>e.publishedPlugins),t=(0,C.ee)();return(0,i.useMemo)(()=>(0,G.CO)(t,e),[e,t])}let ei=()=>(0,a.w1)(e=>e.publishedWidgets);function ea(e){let t=en()[e.id],r=ei()[e.id];return e.isWidget?r:t}function eo({includePendingPublishers:e=!0}={}){let t=(0,M.sX)(),r=en();return(0,i.useMemo)(()=>{if(!t)return[];let n=(0,G.IZ)(Object.values(r));return(0,G.W$)((0,G._M)(n,t,e))},[r,t,e])}function el(){let e=eo(),t=X();return(0,i.useMemo)(()=>Object.values(t).filter(t=>e.every(e=>e.id!==t.plugin_id)),[e,t])}function es(){let e=(0,M.sX)(),t=eo(),r=el();return(0,i.useMemo)(()=>t.reduce((t,r)=>{var n;if(((null==(n=r.plugin_publishers)?void 0:n.pending)??[]).find(t=>t.id===e)){let e=[...t.invitedPlugins,r];return{...t,invitedPlugins:e}}if((0,b.An)(r)){let e=[...t.pendingReviewPlugins,r];return{...t,pendingReviewPlugins:e}}let i=[...t.approvedPlugins,r];return{...t,approvedPlugins:i}},{invitedPlugins:[],approvedPlugins:[],pendingReviewPlugins:[],developmentPlugins:r}),[e,r,t])}function ec(){let e=eo(),t=el();return e.length+t.length}function ed(){let e=(0,M.sX)(),t=eo();return null!=e?t.filter(t=>(0,O.AP)(t,e)):[]}function eu(e){let t=(0,M.sX)(),r=en()[e],n=ei();if(r)return(0,O.AP)(r,t??"");let i=n[e];return(0,O.AP)(i,t??"")}function ep({includePendingPublishers:e=!0}={}){let t=(0,M.sX)(),r=ei();if(!t)return[];let n=(0,G.IZ)(Object.values(r));return(0,G.W$)((0,G._M)(n,t,e))}function em(){let e=(0,M.sX)(),t=ep(),r=e_();return(0,i.useMemo)(()=>t.reduce((t,r)=>{var n;if(((null==(n=r.plugin_publishers)?void 0:n.pending)??[]).find(t=>t.id===e)){let e=[...t.invitedWidgets,r];return{...t,invitedWidgets:e}}if((0,b.An)(r)){let e=[...t.pendingReviewWidgets,r];return{...t,pendingReviewWidgets:e}}let i=[...t.approvedWidgets,r];return{...t,approvedWidgets:i}},{invitedWidgets:[],approvedWidgets:[],pendingReviewWidgets:[],developmentWidgets:r}),[e,r,t])}function e_(){let e=ep(),t=J();return(0,i.useMemo)(()=>Object.values(t).filter(t=>e.every(e=>e.id!==t.plugin_id)),[e,t])}function eh(){let e=ep(),t=e_();return e.length+t.length}function eg(){let e=(0,M.sX)(),t=ep();return null!=e?t.filter(t=>(0,O.AP)(t,e)):[]}function ef(e){return Object.values(eo({includePendingPublishers:!1})).find(t=>t.id===e)}function eE(e){return Object.values(ep({includePendingPublishers:!1})).find(t=>t.id===e)}function ey(){return ev("plugin")}function eb(){return ev("widget")}function ev(e){let t=(0,P.Ce)(),r=en(),n=ei(),o=(0,a.OY)(),l=(0,Z.KE)(),s=(0,G.yE)(),c="plugin"===e?T._K:T.ox;if(i.useEffect(()=>{t&&!l&&o(c())},[o,t,l,c]),!t||l)return[];let d=(0,G.Oq)((0,G.IZ)(Object.values("plugin"===e?r:n)),t.id);return s&&(d=(0,G.E9)(d,s)),Object.values(d).map(e=>(0,G.Y9)(e))}function eI(e){try{let t="string"==typeof e?JSON.parse(e):e,r=H.oL.safeParse(t);if(!r.success)return(0,h.oP)(g._.EXTENSIBILITY,Error("manifest schema parse error"),{extra:{jsonParsedResult:JSON.stringify(t,null,2),rawManifest:JSON.stringify(e,null,2),errors:r.error.format()}}),t;return r.data}catch(t){(0,h.oP)(g._.EXTENSIBILITY,Error("manifest JSON parse error"),{extra:{rawManifest:e}});return}}function ew(e,t){var r,n;if(null===e.current_plugin_version_id)return null;let i=e.versions[e.current_plugin_version_id],a={id:e.current_plugin_version_id,pluginId:e.id,resourceStagingSignature:null,updatedAt:new Date(Date.now()),iconUrl:i.redirect_icon_url,coverImageUrl:i.redirect_cover_image_url,name:i.name,version:i.version,releaseNotes:i.release_notes,description:i.description,tagline:i.tagline,creatorPolicy:i.creator_policy,manifest:JSON.stringify(i.manifest),createdAt:new Date(i.created_at),iconPath:i.redirect_icon_url,coverImagePath:i.redirect_cover_image_url,codePath:i.redirect_code_url,plugin:{currentPluginVersionId:i.id},playgroundFigFileKey:i.playground_fig_file_key??null,hasPlaygroundFile:!!i.playground_fig_file_key},o={id:e.id,currentPluginVersionId:e.current_plugin_version_id,publishingStatus:e.publishing_status,isWidget:e.is_widget,orgId:e.org_id,userId:"",updatedAt:new Date(Date.now()),createdAt:new Date(e.created_at),unpublishedAt:null,supportContact:e.support_contact,approvedAt:new Date(Date.now()),approvalStatus:null,installCount:e.install_count,likeCount:0,viewCount:e.view_count,blockedAt:null,profileId:"",commentCount:e.comment_count,hideRelatedContentByOthers:e.hide_related_content_by_others??null,isPublic:e.publishing_status===k.VC.APPROVED_PUBLIC,isInspect:"inspect"===e.editor_type,widgetsWhitelistEnforced:null,pluginsWhitelistEnforced:null,installStatus:null,monetizedResourceMetadataId:(null==(r=e.monetized_resource_metadata)?void 0:r.id)??null,thirdPartyM10nStatus:e.third_party_m10n_status??null,monetizationStatus:e.monetization_status??null,canRead:!0,canRate:!1,communityPublishers:(null==(n=e.community_publishers)?void 0:n.accepted.map(t=>({id:t.id,isPending:!1,role:k._Q.CREATOR,userId:t.primary_user_id,profileId:t.id,pluginId:e.id,hubFileId:null,profile:{id:t.id,profileHandle:t.profile_handle,team:"team"===t.entity_type?{id:t.id,name:t.name}:null,org:"org"===t.entity_type?{id:t.id,name:t.name}:null,user:"user"===t.entity_type?{id:t.primary_user_id,name:t.name}:null,teamId:"team"===t.entity_type?t.id:null,orgId:"org"===t.entity_type?t.id:null,primaryUserId:"user"===t.entity_type?t.primary_user_id:null,publicAt:new Date(Date.now()),website:null,description:null,location:null,twitter:null,instagram:null,createdAt:new Date(Date.now()),updatedAt:new Date(Date.now()),followerCount:0,followingCount:0,coverImagePath:null,pronouns:null,badges:[],communityUserIsFollowing:t.current_user_is_following,communityUserIsFollowed:t.current_user_is_followed,entityType:t.entity_type,currentUserIsFollowing:!1,currentUserIsFollowed:!1,name:t.name}})))||[],currentPluginVersion:a,viewableInEditor:!0};return{pluginId:e.id,createdAt:new Date(Date.now()),userId:t.userId,orgId:t.orgId,pluginVersionId:e.current_plugin_version_id,plugin:o,pinnedStatus:k.Ss.UNPINNED}}function eT(e,t,r,n){var i;if(!e||e.publishingStatus&&[k.VC.ORG_PRIVATE,k.VC.ORG_PRIVATE_PENDING_PUBLIC].includes(e.publishingStatus)&&(!e.orgId||e.orgId!==t)&&!(0,d.Ub)().community_hub_admin)return;let a=e.currentPluginVersion;if(!a)return;if(!a.manifest){(0,h.oP)(g._.EXTENSIBILITY,Error("manifest missing"),{extra:{plugin:e}});return}let o=e.isWidget?"widget":"plugin",l=eI(a.manifest);if(!l)return;let s=`?resource_type=${o}&resource_id=${e.id}`;r&&(s+=`&fuid=${r}`);let c={id:a.id,plugin_id:e.id,name:a.name||"",current_plugin_version_id:(null==(i=a.plugin)?void 0:i.currentPluginVersionId)||void 0,version:a.version||"",release_notes:a.releaseNotes||"",is_private:!!e.orgId,description:a.description||"",creator_policy:a.creatorPolicy??"",manifest:l,installed_by:n,tagline:a.tagline||"",created_at:a.createdAt.toString(),redirect_icon_url:`/community/icon${s}`,redirect_cover_image_url:`/community/thumbnail${s}`,redirect_code_url:`/community/${o}/${e.id}/code`};return e.communityPublishers&&(c.community_publishers=e.communityPublishers),e.isWidget&&(c.redirect_snapshot_url=`/community/snapshot${s}`),e.orgId&&(c.org_id=e.orgId),c}let eS=(e,t,r)=>{var n,i;let a={},o={},l={},s={},c={},d={};if("loaded"!==e.status)return{plugins:{},widgets:{},orgPlugins:{},orgWidgets:{},userPlugins:{},userWidgets:{}};let u=e.data;for(let e of[{source:"org",savedExtensions:null==(n=u.org)?void 0:n.installedPlugins},{source:"user",savedExtensions:null==(i=u.currentUser)?void 0:i.installedPlugins}]){let{source:n,savedExtensions:i}=e;if(i)for(let e of i){let{plugin:i}=e;if(!i||!i.viewableInEditor)continue;let u=eT(i,t,r,n);u&&(i.isWidget?(o[e.pluginId]=u,"org"===n?s[e.pluginId]=u:"user"===n&&(d[e.pluginId]=u)):(a[e.pluginId]=u,"org"===n?l[e.pluginId]=u:"user"===n&&(c[e.pluginId]=u)))}}return{plugins:a,widgets:o,orgPlugins:l,orgWidgets:s,userPlugins:c,userWidgets:d}};function eC(){let e=(0,a.w1)(e=>e.currentUserOrgId),t=(0,m.Qb)(D.u_s,{orgId:e}),r=(0,M.sX)();return i.useMemo(()=>{if("loaded"!==t.status)return{loaded:!1,plugins:{},widgets:{},orgWidgets:{},orgPlugins:{},userWidgets:{},userPlugins:{}};let{plugins:n,widgets:i,orgPlugins:a,orgWidgets:o,userPlugins:l,userWidgets:s}=eS(t,e,r);return{loaded:!0,plugins:n,widgets:i,orgPlugins:a,orgWidgets:o,userPlugins:l,userWidgets:s}},[t,e,r])}let eA=null==(n=(0,d.cp)())?void 0:n.onboarding_plugins,eO=[];if(eA){let{icons:e,images:t,quickstart:r}=eA;eO=(0,l.YP)([(0,l.S_)(e),(0,l.S_)(t),(0,l.S_)(r)])}let eN=(0,u.Zf)(eO),eL=(0,u.Zf)(!1),eR=(0,u.Zf)([]);function eP(e=!0){let t=(0,a.OY)(),[r]=(0,p.lZ)(eN),[n,o]=(0,p.lZ)(eL),[l,s]=(0,p.lZ)(eR);return r.length||n||o(!0),i.useEffect(()=>{0!==r.length&&e&&!n&&K.M.requestPluginsBatch(r).then(e=>{t(w.eY({publishedPlugins:e.data.meta,src:"pluginOnboarding"})),s(e.data.meta),o(!0)}).catch(e=>{console.error(e),o(!0)})},[t,r,e,o,n,s]),(0,i.useMemo)(()=>({loaded:n,result:l}),[n,l])}function eM(e){let t=en(),r=(0,A.CS)(),n=(0,C.KG)();return i.useMemo(()=>ek(e,{publishedPlugins:t,editorType:n,orgEntity:r}),[e,t,n,r])}function ek(e,{publishedPlugins:t,editorType:r,orgEntity:n}){let{plugins:i,widgets:a,orgPlugins:o,orgWidgets:l,userPlugins:s,userWidgets:c}=e,d=[i,a,o,l,s,c].map(e=>Object.fromEntries(Object.entries(e).filter(([e,i])=>(0,G.UN)({plugin:i,publishedPlugins:t,editorType:r,orgEntity:n}))));return{loaded:!0,plugins:d[0],widgets:d[1],orgPlugins:d[2],orgWidgets:d[3],userPlugins:d[4],userWidgets:d[5]}}function eD(e,t){var r,n;let a=(null==(r=(0,P.Ce)())?void 0:r.id)??null,o=(0,M.sX)(),l=(0,m.Qb)(D.YSG,{orgId:a,pluginId:e},{enabled:t}),s=null==(n=l.data)?void 0:n.plugin,c=l.status;return i.useMemo(()=>"loaded"===c&&s?{loaded:!0,plugin:eT(s,a,o,null)||null}:{loaded:!1,plugin:null},[c,s,a,o])}function eF(e,{enabled:t}){var r;let n=(null==(r=(0,P.Ce)())?void 0:r.id)??null,a=(0,M.sX)(),o=i.useMemo(()=>e.map(e=>({orgId:n,pluginId:e})),[e,n]),l=(0,m.Kb)(D.YSG,o,{enabled:t}),s=[];return l.forEach(e=>{var t;let r=e.result;if("loaded"!==r.status)return;let i=null==(t=r.data)?void 0:t.plugin;if(!i)return;let o=eT(i,n,a,null);o&&s.push(o)}),s}function ex(e,t){return e.name.localeCompare(t.name)}let eU={loaded:!0,plugins:{}};function eB(){let e=(0,a.w1)(e=>e.selectedView),t=(0,a.w1)(e=>e.installedPluginVersions);if("fullscreen"!==e.view)return eU;let r=(0,G.Q$)((0,V.sZ)(e.editorType));if(!t.loaded)return t;let n={};for(let i of Object.values(t.plugins))(0,G.AR)(r,i.manifest.editorType)?n[i.plugin_id]=i:((0,q.ie)(e)&&(0,G.Az)(i)||"figma"===r&&(0,G.Az)(i))&&(n[i.plugin_id]=i);let i="fullscreen"===e.view?e.editorType:null;return{loaded:!0,plugins:(0,G.sX)(i,n)}}function eG(){let{widgets:e}=eC(),t=(0,a.w1)(e=>e.selectedView),r=(0,$.eo)(e);return i.useMemo(()=>"fullscreen"!==t.view?{}:r,[t,r])}function eV(){let e=(0,a.w1)(e=>e.recentlyUsed.widgets),t=J(),r=(0,z.i)();return(0,i.useMemo)(()=>{let n=[];return r?(e[r].forEach(r=>{let i=e.fetchedResources[r.id];if(i&&i.version){n.push(i.version);return}if(t[r.id]){n.push(t[r.id]);return}}),eK(n)):n},[r,t,e])}function eH(){let e=(0,a.w1)(e=>e.recentlyUsed.plugins),t=X(),r=(0,z.i)(),n=(0,i.useMemo)(()=>{let n=[];return r&&e[r].forEach(r=>{let i=e.fetchedResources[r.id];if(i&&i.version){n.push(i.version);return}if(t[r.id]){n.push(t[r.id]);return}}),n},[r,e,t]);return(0,$.u6)(n)}function eW(){return eK(eH())}function eK(e){let t={};return e.filter(e=>!t[e.plugin_id]&&(t[e.plugin_id]=!0,!0))}function eY(){let e=eW();return i.useMemo(()=>{let t={};return e.forEach(e=>t[e.plugin_id]=e),t},[e])}function eq(){let e=eV();return i.useMemo(()=>{let t={};return e.forEach(e=>t[e.plugin_id]=e),t},[e])}function ej(){let e=(0,a.w1)(e=>e.recentlyUsed.plugins),t=(0,a.w1)(e=>e.recentlyUsed.widgets),r=(0,M.sX)(),n=(0,z.i)();return(0,i.useMemo)(()=>{let i={};return n&&r&&(e[n].forEach(e=>{var t;let n=null==(t=e.last_added_at_by_user_id)?void 0:t[r];n&&(i[e.id]=n)}),t[n].forEach(e=>{var t;let n=null==(t=e.last_added_at_by_user_id)?void 0:t[r];n&&(i[e.id]=n)})),i},[n,r,e,t])}function e$(e,t,r){let n=Object.keys(e).reduce((e,r)=>{if(t[r]){let n=t[r],i=(0,G.Yl)(n);if(!i)return e;e[r]=i}return e},{});return(0,G.sX)(r,n)}function eZ(e){var t;let r=(null==(t=(0,P.Ce)())?void 0:t.id)??"",n=(0,a.OY)(),i=(0,a.w1)(t=>"plugin"===e?t.whitelistedPlugins:t.whitelistedWidgets),o=!!r&&(0,d.Ub)().plugins_lg_allowlist,l=function(e,t=!0){var r;let n=(null==(r=(0,P.Ce)())?void 0:r.id)??"",i=(0,R.K0)(),a=(0,N.Q3)(e,t&&!!i),o=(0,N.sZ)(n??"",e,t&&!!n&&!i);return i?a:o}(e,o),c=l.loaded?l.data:[];if(!o)return i;if(!l.loaded)return{};let u={};return c.forEach(e=>{e&&(u[e]=!0)}),(0,s.QZ)(u,i)||n(("plugin"===e?E.Q:E.Y)(u)),u}function ez(){let e=(0,C.ee)(),t=(0,P.Ce)(),r=en(),n=!!(t&&t.plugins_whitelist_enforced),o=eZ("plugin"),l=(0,a.OY)(),s=(0,R.K0)(),c=(0,H.cl)((null==t?void 0:t.id)??"",s),d=(0,a.w1)(e=>!!t&&(0,F.MV)(e.loadingState,c));return i.useEffect(()=>{n&&!d&&l(I.Vf({}))},[n,l,d]),i.useMemo(()=>e$(o,r,e),[e,o,r])}function eQ(){let e=(0,C.ee)(),t=(0,P.Ce)(),r=ei(),n=!!(t&&t.widgets_whitelist_enforced),o=eZ("widget"),l=(0,a.OY)(),s=(0,R.K0)(),c=(0,H.X2)((null==t?void 0:t.id)??"",s),d=(0,a.w1)(e=>!!t&&(0,F.MV)(e.loadingState,c));return i.useEffect(()=>{n&&!d&&l(I._S({}))},[n,l,d]),i.useMemo(()=>e$(o,r,e),[o,r,e])}let eX="plugin_search_duration",eJ="widget_search_duration";function e0(e,t){t.elapsedMs&&(0,o.we)(e,t,{forwardToDatadog:!0})}function e1(e){let[t,r]=i.useState(!1),[n,o]=i.useState(!1),[l,s]=i.useState(null),c=(0,a.w1)(e=>e.currentUserOrgId&&e.orgById[e.currentUserOrgId]),u=c&&c.id,p=(0,a.w1)(e=>{var t;return!!(u&&e.user&&(null==(t=e.orgUsersByOrgId.orgUsers[u][e.user.id])?void 0:t.permission)!==k.y6.GUEST)}),m=(0,a.OY)(),g=eB().plugins,E=(0,L.k1)(),b=(null==E?void 0:E.shouldOptimizeForIpadApp)||(0,d.Ub)().cmty_m10n_test_apple_os?"free":"all",I=(0,q.AR)();return{pluginServerSideSearch:i.useCallback((t,n,i,a)=>{let l=new _.QD(eX,{});l.start();let[c,d]=Y.KK.getCommunityPlugins(t,u,b,e,I,p);r(!0),o(!1),Promise.all([c,d]).then(([c,d])=>{o(!0);let u=[],p=c.data.meta.results.map(e=>(u.push(e.model),e.model.id)),_=d?d.map(e=>(u.push(e.model),e.model.id)):[];m(w.eY({publishedPlugins:u,src:"universalInsert"}));let h=p.filter(e=>g[e]),f=p.filter(e=>!g[e]),E=_.filter(e=>g[e]),y=_.filter(e=>!g[e]);n(f),i(y),a([...E,...h]),s(t),r(!1),e0(eX,{elapsedMs:l.stop(),editorType:e,query:t,numPublicResults:p.length,numOrgResults:_.length})}).catch(r=>{let n={query:t,current_org_id:u||"",resource_type:v.o.BrowseResourceTypes.PLUGINS,editor_type:e,did_org_search:p,error:null==r?void 0:r.message,status:null==r?void 0:r.status};(0,h.WI)("search","Search error for Community resources in inserts modal",n,{reportAsSentryError:!0});let i=(0,f.t)("community.actions.an_error_occurred_while_searching_for_plugins");m(y.A.enqueue({error:!0,message:i}))})},[m,e,g,I,u,b,p]),pluginSearchIsLoading:t,pluginSearchHasResolved:n,setLastPluginSearchQuery:s,lastPluginSearchQuery:l}}function e2(e){let[t,r]=i.useState(!1),[n,o]=i.useState(!1),[l,s]=i.useState(null),c=(0,a.w1)(e=>e.currentUserOrgId&&e.orgById[e.currentUserOrgId]),u=c&&c.id,p=(0,a.w1)(e=>{var t;return!!(u&&e.user&&(null==(t=e.orgUsersByOrgId.orgUsers[u][e.user.id])?void 0:t.permission)!==k.y6.GUEST)}),m=eG(),g=(0,a.OY)(),E=(0,L.k1)(),b=(null==E?void 0:E.shouldOptimizeForIpadApp)||(0,d.Ub)().cmty_m10n_test_apple_os?"free":"all";return{widgetServerSideSearch:i.useCallback((t,n,i,a)=>{let l=new _.QD(eJ,{});l.start();let[c,d]=Y.KK.getCommunityWidgets(t,u,b,e,p);r(!0),o(!1),Promise.all([c,d]).then(([c,d])=>{o(!0);let u=[],p=c.data.meta.results.map(e=>(u.push(e.model),e.model.id)),_=d.map(e=>(u.push(e.model),e.model.id));g(w.eY({publishedPlugins:u,src:"universalInsert"}));let h=p.filter(e=>m[e]),f=p.filter(e=>!m[e]),E=_.filter(e=>m[e]),y=_.filter(e=>!m[e]);n(f),i(y),a([...E,...h]),r(!1),s(t),e0(eJ,{elapsedMs:l.stop(),editorType:e,query:t,numPublicResults:p.length,numOrgResults:_.length})}).catch(r=>{let n={query:t,current_org_id:u||"",resource_type:v.o.BrowseResourceTypes.WIDGETS,editor_type:e,did_org_search:p,error:null==r?void 0:r.message,status:null==r?void 0:r.status};(0,h.WI)("search","Search error for Community resources in inserts modal",n,{reportAsSentryError:!0});let i=(0,f.t)("community.actions.an_error_occurred_while_searching_for_widgets");g(y.A.enqueue({error:!0,message:i}))})},[g,e,u,b,m,p]),widgetSearchIsLoading:t,widgetSearchHasResolved:n,setLastWidgetSearchQuery:s,lastWidgetSearchQuery:l}}let e4={list:W.s.getRecentFaceStamps,search:W.s.searchFaceStamps};function e3({maxResults:e}){let t=(0,a.OY)(),r=(0,U.sZ)({maxResultsCount:e,api:e4,includeHiResAvatars:!0}),[n,o]=i.useState(!1),[l,s]=i.useState(!1),[c,d]=i.useState(null),u=(0,j.Ep)(),p=i.useCallback(e=>{if(!u){s(!0),o(!1),d(e);return}o(!0),s(!1),(0,x.UN)(e,r,!1).then(r=>{s(!0);let n=(null==r?void 0:r.mentions)||[];d(e),t(S.SM(n)),o(!1)})},[r,t,u]);return i.useMemo(()=>({faceStampServerSideSearch:p,faceStampSearchIsLoading:n,faceStampSearchHasResolved:l,lastFaceStampSearchQuery:c,setLastFaceStampSearchQuery:d}),[l,n,p,c])}function e6(e){let t=eo({includePendingPublishers:!1}),r=ep({includePendingPublishers:!1}),n=et();return(e?r:t).filter(e=>!n[e.id])}function e8(e,{searchLocalPlugins:t,searchSavedPlugins:r,searchPublishedPlugins:n,searchRecentPlugins:a}){let o=Q(),l=eB(),s=en(),c=eY();return i.useMemo(()=>(0,G.gX)({idToSearch:e,savedPlugins:r?l:void 0,localPluginsByFileId:t?o:void 0,publishedPlugins:n?s:void 0,recentPlugins:a?c:void 0}),[e,l,o,s,c,r,t,n,a])}function e5({searchLocalPlugins:e,searchSavedPlugins:t,searchPublishedPlugins:r,searchRecentPlugins:n}){let a=Q(),o=eB(),l=en(),s=eY();return i.useCallback(i=>(0,G.gX)({idToSearch:i,savedPlugins:t?o:void 0,localPluginsByFileId:e?a:void 0,publishedPlugins:r?l:void 0,recentPlugins:n?s:void 0}),[o,a,l,s,t,e,r,n])}function e7(){let e=eB(),t=eo(),r=eH(),n={};return Object.values(e.plugins).forEach(e=>{n[e.plugin_id]||(n[e.plugin_id]=e)}),Object.values(t).map(G.Y9).forEach(e=>{n[e.plugin_id]||(0,H.E7)(e)||(n[e.plugin_id]=e)}),r.forEach(e=>{n[e.plugin_id]||(0,H.E7)(e)||(n[e.plugin_id]=e)}),n}function e9(e){let t={};return Object.keys(e).forEach(e=>{t[e]=!0}),t}function te(){let e=en(),t=(0,A.CS)(),r=eC(),n=(0,C.KG)(),a=e9(ez()),o=e9(eQ()),l=(0,c.q)(e=>({currentUserOrgId:e.currentUserOrgId,orgById:e.orgById,mirror:e.mirror,selectedView:e.selectedView,openFile:e.openFile}));return i.useCallback(i=>(0,G.UN)({plugin:i,publishedPlugins:e,orgEntity:t,installedPluginVersions:(0,H._2)(i)?r.widgets:r.plugins,editorType:n,canRunPluginState:{...l,whitelistedPlugins:a,whitelistedWidgets:o}}),[e,t,r.widgets,r.plugins,n,l,a,o])}function tt(){return(0,a.w1)(B.gp)}function tr(e){let t=(0,P.Ce)(),r=!!(t&&t.widgets_whitelist_enforced),n=(0,a.w1)(e=>e.whitelistedWidgets)[e],o=J(),l=i.useMemo(()=>Object.values(o).find(t=>t.plugin_id===e),[o,e]),s=(0,a.w1)(t=>t.publishedWidgets[e]),c=!r||l||(null==s?void 0:s.org_id);return{isWidgetBlockedByAllowlist:!n&&!c}}function tn(e){let t=(0,a.OY)(),r=(0,P.Ce)(),n=!!(r&&r.plugins_whitelist_enforced),o=(0,a.w1)(e=>e.whitelistedPlugins)[e],l=Q(),s=i.useMemo(()=>Object.values(l).find(t=>t.plugin_id===e),[l,e]),c=(0,a.w1)(t=>t.publishedPlugins[e]),d=!n||s||(null==c?void 0:c.org_id),u=!o&&!d;return{validatePublishedPluginInOrgAllowlist:i.useCallback(()=>!u||(t(y.A.enqueue({message:(0,f.t)("universal_insert.plugin_not_in_allowlist"),error:!0})),!1),[u,t]),isPluginBlockedByAllowlist:u}}function ti(e){let t=(0,P.Ce)(),r=!!(t&&t.plugins_whitelist_enforced),n=!!(t&&t.widgets_whitelist_enforced),a=!!t&&!t.public_plugins_allowed,o=ez(),l=eQ(),s=e?l:o,c=e?n:r,d=(null==t?void 0:t.id)??"",u=(0,R.K0)(),p=(0,F.y_)(e?(0,H.X2)(d,u):(0,H.cl)(d,u)),m=i.useCallback(e=>c?e.filter(e=>!(0,H.CE)(e)||!!s[e.plugin_id]):e,[s,c]),_=i.useCallback(e=>a?e.filter(e=>!(0,H.CE)(e)):e,[a]);return{publicExtensionsDisallowed:a,allowList:s,hasAllowList:c,allowListIsLoading:p,hasPluginAllowList:r,hasWidgetAllowList:n,filterByPublicResourcesAllowed:_,filterByAllowlist:m}}function ta(){let{filterByAllowlist:e,filterByPublicResourcesAllowed:t}=ti(!1);return e(t(eW()))}},644092:(e,t,r)=>{"use strict";r.d(t,{Om:()=>C,Y3:()=>I,aQ:()=>S,cH:()=>T,mI:()=>w});var n=r(307824),i=r(120304),a=r(515724),o=r(721500),l=r(623131),s=r(372152),c=r(372808),d=r(997332),u=r(191352),p=r(762820),m=r(679804),_=r(103840),h=r(84656),g=r(502176),f=r(880188),E=r(842872),y=r(416044),b=r(763456);let v=(0,l.Zf)(0);function I(){return(0,m.Ce)({subscribeToUpdates_expensive:!0})}function w(){let e=(0,_.AP)();return(0,n.useCallback)(async()=>(null==e?void 0:e.toastBottomInset)?await e.toastBottomInset():Promise.reject(),[e])}function T(){var e,t;let r=(0,u.yI)(),n=(0,s.m4)(c.ae),a=(0,s.m4)(v),l=(0,h.U3)(null==(t=null==(e=p.KEP)?void 0:e.editorPreferences())?void 0:t.showFigmaScope,!1),d=(0,i.w1)(e=>e.mirror.appModel.showKeyboardShortcuts),m=(0,E.kj)(),_=(0,s.m4)(g.v),f=0;return d&&(f=(0,o.qe)(b.cZR)),f+=(l?_:0)+a,r&&(f+=n,m&&(f-=(0,o.qe)(b.Sgu))),f}function S(){let e=(0,y.iq)(),t=(0,y.IX)(),r=(0,y.QF)(),n=(0,y.Oq)(),l=(0,f.Q)(),s=(0,d.A)(),c=(0,i.w1)(e=>{var t;return!!(null==(t=e.prototype)?void 0:t.isFooterVisible)}),p="ui3"===(0,a.qG)().version,m=(0,u.yI)(),_=(0,i.w1)(e=>{var t;return null==(t=e.mirror)?void 0:t.appModel.showUi});return m?e&&(t||r||n)?(0,o.qe)(b.AP2)+(0,o.qe)(b.ETd):e?(0,o.qe)(b.AP2):0:s?(0,o.qe)(b.iCb):c?(0,o.qe)(b.MZe):p&&_?56+l+(l>0?8:0):0}function C(e){let[t,r]=(0,n.useState)(null);return(0,n.useEffect)(()=>{function t(){let t=document.querySelector(e);r((null==t?void 0:t.getBoundingClientRect())??null)}t();let n=setInterval(()=>t(),500);return()=>clearInterval(n)},[e]),t}},120664:(e,t,r)=>{"use strict";r.d(t,{I:()=>p,U:()=>u});var n=r(307824),i=r(120304),a=r(733960),o=r(929452),l=r(762820),s=r(762056),c=r(84656),d=r(309812);function u(){!function(e){let t=(0,d.Ci)(),{isPropertiesPanelCollapsed:r,togglePropertiesPanelCollapsed:i}=p(),o=(0,a.i)(e),l=(0,n.useRef)();(0,n.useEffect)(()=>{t&&e!==o&&void 0!==o&&(e?r?l.current=!1:(i(),l.current=!0):l.current&&r&&i())},[e,o,r,i,t])}((0,i.w1)(e=>(0,o.Qj)(e.multiplayer)))}function p(){var e;let t=(0,d.Ci)(),r=(0,s.S2)(s.YP.ui3ExpAutoHideRightPanel),i=!(0,c.U3)(null==(e=l.KEP)?void 0:e.uiState().showPropertiesPanel,!0),a=t&&r&&i,o=(0,n.useCallback)(e=>{var t;null==(t=l.KEP)||t.uiState().showPropertiesPanel.set(!e)},[]),u=(0,n.useCallback)(()=>{o(!a)},[a,o]);return{isPropertiesPanelCollapsed:a,setPropertiesPanelCollapsed:o,togglePropertiesPanelCollapsed:u}}},233159:(e,t,r)=>{"use strict";let n;r.d(t,{Kc:()=>m,oV:()=>d,sc:()=>p,tR:()=>u});var i=r(307824),a=r(120304),o=r(161400),l=r(130340),s=r(90340),c=r(13468);function d(){return(0,a.w1)(e=>!!e.screenreader.enabled)}function u(){let e=(0,a.OY)(),t=(0,a.w1)(e=>e.screenreader.enabled),r=(0,a.w1)(e=>e.user||void 0);return[t,(0,i.useCallback)((t,n)=>{e((0,l.KU)({enabled:t,scope:n,user:r}))},[e,r])]}var p=((n=p||{}).TOGGLE_DOM_ON_MENU="toggle_dom_on_menu",n.TOGGLE_DOM_OFF_MENU="toggle_dom_off_menu",n.PROTOTYPE_BUTTON_CLICKED="prototype_button_clicked",n.SKIP_TO_CONTENT="skip_to_content",n.ENABLE_AND_SKIP_TO_CONTENT="enable_and_skip_to_content",n.FOCUS_CYCLE_NEXT_AREA="focus_cycle_next_area",n.FOCUS_CYCLE_PREVIOUS_AREA="focus_cycle_previous_area",n.FIGJAM_UPDATE_TREE="figjam_update_tree",n.FIGJAM_UPDATE_NODE="figjam_update_node",n.FIGJAM_INITIAL_TREE_LOAD="figjam_initial_tree_load",n.FIGJAM_INCREMENTAL_UPDATE_DISCREPANCY="figjam_incremental_update_discrepancy",n.TOGGLE_DEFAULT_APPLICATION_ON_MENU="toggle_default_application_on_menu",n.TOGGLE_DEFAULT_APPLICATION_OFF_MENU="toggle_default_application_off_menu",n);function m(){return(0,i.useCallback)((e,t)=>{let r=o.x.getState(),n=(0,c.CA)(r.selectedView);(0,s.s5)("accessibility_actions",n,r,{actionName:e,...t},{forwardToDatadog:!0})},[])}},423944:(e,t,r)=>{"use strict";let n;r.d(t,{Ck:()=>O,I9:()=>S,Kz:()=>k,M$:()=>N,Mv:()=>D,Qv:()=>A,W0:()=>T,c3:()=>w,gz:()=>L,u8:()=>M,z4:()=>C});var i=r(307824),a=r(120304),o=r(404920),l=r(916924),s=r(314352),c=r(843148),d=r(623131),u=r(372152),p=r(506616),m=r(557044),_=r(392992),h=r(572748),g=r(514916),f=r(472956),E=r(795236),y=r(553432),b=r(869588),v=r(681072),I=r(631552),w=((n=w||{}).NOT_ENABLED="NOT_ENABLED",n.CAN_PUBLISH="CAN_PUBLISH",n.FILE_IN_DRAFTS="FILE_IN_DRAFTS",n.FILE_IN_DRAFTS_CANNOT_MOVE="FILE_IN_DRAFTS_CANNOT_MOVE",n.DISABLED_IN_SETTINGS="DISABLED_IN_SETTINGS",n.CANNOT_PUBLISH="CANNOT_PUBLISH",n);function T(){var e;let t=(0,h.Ce)(),r=(0,a.w1)(e=>e.openFile),n=!!(null==r?void 0:r.canPublishTemplate),i=!!(null==r?void 0:r.canEdit),o=!!(null==t?void 0:t.are_custom_templates_allowed),l=!(null==r?void 0:r.teamId);return t&&(null==r?void 0:r.editorType)===g.aE.WHITEBOARD?n?"CAN_PUBLISH":i?o?l?(null==(e=null==r?void 0:r.currentPartialOrgUser)?void 0:e.draftsFolderId)===(null==r?void 0:r.folderId)?"FILE_IN_DRAFTS":"FILE_IN_DRAFTS_CANNOT_MOVE":"CANNOT_PUBLISH":"DISABLED_IN_SETTINGS":"CANNOT_PUBLISH":"NOT_ENABLED"}function S(e){switch(e){case"CAN_PUBLISH":case"FILE_IN_DRAFTS":return!0;case"DISABLED_IN_SETTINGS":case"NOT_ENABLED":case"CANNOT_PUBLISH":case"FILE_IN_DRAFTS_CANNOT_MOVE":return!1;default:(0,l.gy)(e)}}function C({fileKey:e,editor_type:t,team_id:r,state:n,isNotInDrafts:i}){let a=(0,y.canEditFile)(e,n),o=n.currentUserOrgId&&n.orgById[n.currentUserOrgId];return!!(o&&a&&t===g.aE.WHITEBOARD&&o.are_custom_templates_allowed&&(r||i))}function A(){let e=(0,h.Ce)(),t=(0,_.AL)(),r=null==t?void 0:t.template;return r&&O(r,e)?r:null}function O(e,t){return!!e&&!e.unpublishedAt&&!!t&&!!t.are_custom_templates_allowed}function N(e){return e.id===v.C}function L(e){let[t,r]=(0,i.useState)(null),[n,a]=(0,i.useState)(!1),[l,d]=(0,i.useState)([]),[u,p]=(0,i.useState)([]),[_,h]=(0,i.useState)(0),[g,f]=(0,i.useState)(!0),y=(0,s.a)(),b=(0,E.C_)(e),v=(0,i.useCallback)(({ids:t,myTeamsOnly:r,offset:n=0})=>{e&&((0,c.Ub)().migrate_to_search_teamplates_v3?I.A.getFilteredTeamTemplates({orgId:e.id,from:n,size:5,...b?{my_teams_only:r,workspace_ids:t}:{team_ids:t}}).then(({data:e})=>{p("filterable_workspaces"in e.meta?e.meta.filterable_workspaces:e.meta.filterable_teams),d(t=>0===n?e.meta.templates_by_team:[...t,...e.meta.templates_by_team]),h(e.meta.templates_by_team.length),f(!1)}):y(m.cp.post(`/api/templates/${e.id}/browse`,{from:n,size:5,...b?{my_teams_only:r,license_group_ids:t}:{team_ids:t}}),({data:e})=>{p("filterable_license_groups"in e.meta?e.meta.filterable_license_groups:e.meta.filterable_teams),d(t=>0===n?e.meta.templates_by_team:[...t,...e.meta.templates_by_team]),h(e.meta.templates_by_team.length),f(!1)}))},[e,y,b]);(0,i.useEffect)(()=>{v({ids:null,myTeamsOnly:!1})},[v]);let w=(0,o.c)(v,300),T=(0,i.useCallback)(t=>{e&&(S.current={},f(!0),r(t.ids),a(t.myTeamsOnly),w(t))},[e,w]),S=(0,i.useRef)({}),C=(0,i.useCallback)(()=>{5===_&&v({ids:t,myTeamsOnly:n,offset:l.length})},[t,n,l,_,v]),A=(0,i.useCallback)(t=>{let r=l.find(e=>e.team_id===t);if((null==e?void 0:e.id)&&r&&r.templates.length<r.total){let n=r.templates.length;if((S.current[t]||0)>=n)return;S.current[t]=n,I.A.getTeamBrowsePaginated({orgId:e.id,teamId:t,from:n,size:10}).then(({data:e})=>{d(r=>r.map(r=>r.team_id===t?{...r,templates:[...r.templates,...e.meta.templates]}:r))})}},[null==e?void 0:e.id,l]),O=R(e),N=P(e);return{selectedTeamOrWorkspaceOrLicenseGroupIds:t,isMyTeamsOnly:n,onFilterChange:T,userTeamOrWorkspaceOrLicenseGroupIds:(0,c.Ub)().migrate_to_search_teamplates_v3?N:O,templatesByTeam:l,filterOptions:u,requestLoadMore:C,requestLoadMoreForTeam:A,isLoadingTeamTemplates:g}}let R=e=>{var t,r;let n=(0,E.C_)(e),i=(0,p.Qb)(f.EJc,{currentOrgId:(null==e?void 0:e.id)||""},{enabled:!!e});if("loaded"!==i.status||!e)return null;let a=null==(r=null==(t=i.data.currentUser.privilegedOrgUser)?void 0:t.licenseGroupMember)?void 0:r.licenseGroup.id;return n?a?[a]:null:i.data.currentUser.orgAwareTeamRoles.reduce((e,t)=>t.team?[...e,t.team.id]:e,[])},P=e=>{var t;let r=(0,E.C_)(e),n=(0,p.Qb)(f.EJc,{currentOrgId:(null==e?void 0:e.id)||""},{enabled:!!e});if("loaded"!==n.status||!e)return null;if(r){let e=null==(t=n.data.currentUser.privilegedOrgUser)?void 0:t.workspaceUsers.find(e=>e.isMainWorkspace);return e?[e.workspaceId]:null}return n.data.currentUser.orgAwareTeamRoles.reduce((e,t)=>t.team?[...e,t.team.id]:e,[])};function M(e,t=2){let[r,n]=(0,i.useState)(null),a=(0,s.a)();return(0,i.useEffect)(()=>{a(I.A.getSearchPaginated({orgId:e.id,size:t,from:0}),e=>{n(e.data.meta.templates)})},[e.id,a,t]),r}let k=(0,d.Zf)(null);function D(){let e=A(),t=(0,a.o3)(),[r,n]=(0,u.lZ)(k);return(0,i.useEffect)(()=>{(null==e?void 0:e.fileVersionId)&&null===r&&(0,b.qK)(e.fileVersionId,t).then(({numPagesWithChanges:e})=>{n(e>0)}).catch(()=>n(!1))},[null==e?void 0:e.fileVersionId,t,r,n]),r}},425652:(e,t,r)=>{"use strict";r.d(t,{AT:()=>j,E1:()=>$,ID:()=>U,K_:()=>q,Y7:()=>V,a6:()=>z,kb:()=>H,s9:()=>Y,sF:()=>x});var n=r(307824),i=r(120304),a=r(250008),o=r(916924),l=r(656716),s=r(314352),c=r(484212),d=r(643260),u=r(47956),p=r(557044),m=r(560072),_=r(317704);r(784732);var h=r(268984),g=r(316220),f=r(552524),E=r(584208),y=r(849208),b=r(988800),v=r(927800),I=r(432380),w=r(762820),T=r(555168),S=r(572748),C=r(251596),A=r(61304),O=r(333928),N=r(39676),L=r(915668);r(778112);var R=r(793944),P=r(631552);let M=(e,t)=>{switch(e.type){case L.e.HubFile:return`/api/hub_files/${D(e)}/${t}/prepare_insert`;case L.e.TeamTemplate:return`/api/templates/${D(e)}/${t}/prepare_insert`}},k=e=>{switch(e.type){case L.e.HubFile:return`/api/hub_files/${D(e)}/template_canvas`;case L.e.TeamTemplate:return`/api/templates/${D(e)}/template_canvas`}},D=({type:e,template:t})=>{switch(e){case L.e.HubFile:return t.id;case L.e.TeamTemplate:return t.file_key;default:(0,o.gy)(e)}},F=({template:e,type:t})=>{switch(t){case L.e.HubFile:return{type:R.y4.CommunityResource,id:e.id};case L.e.TeamTemplate:return{type:R.y4.TeamTemplate,file_key:e.file_key};default:(0,o.gy)(t)}};async function x({insert:e,dispatch:t,fileKey:r,template:n,onSuccess:i,onFailure:o,userTriggered:l=!0,isPreview:s=!1,triggeredFrom:c}){let d=new u.QD(`template_insert.${c}`,{key:r??""});d.start();let p=e=>{let t=d.stop();(0,a.we)(e,{elapsedMs:t,triggeredFrom:c,isPreview:s},{forwardToDatadog:!0,batchRequest:!0})},h=D(n);try{await (0,b._)(()=>h,r,v.e.STANDARD,async()=>{await e()&&(i&&i(),p("template_insert_success"),(0,v.U)(s?"resource_previewed":"resource_inserted",{fileKey:r,resourceType:"template",resourceName:(0,I.CM)(n),resourceId:h,triggeredFrom:c,templateType:n.type,templateCategory:n.type===L.e.HubFile?n.category:void 0}),l)&&(t(y.s({inserted_figjam_template:!0})),n.type===L.e.TeamTemplate&&t(f.U([n.template])),"section-preset"!==c&&t(E.y4({storeInRecentsKey:R.Sy.FigJam,...F(n)})))},{enableTracking:!s})}catch(e){t(_.A.enqueue({message:(0,m.t)("whiteboard.inserts.insert_template_failed_v2"),error:!0})),o&&o(),p("template_insert_failure")}}async function U({template:e,fileKey:t,fileVersion:r}){if(!t)throw Error("Missing file key");if(!r)throw Error("Missing file version");let n=M(e,t),i=k(e),a=e.type===L.e.HubFile?{fv:`${r}`}:void 0,o=p.cp.post(i,{fv:`${r}`},{responseType:"arraybuffer"});return await Promise.all([o,p.cp.post(n,a)]).then(([{data:e}])=>e)}async function B(e){let{userTriggered:t=!0,templateInsertionDirection:r=w.a4s.RIGHT,templateCustomPosition:n,selectTemplateAfterInsertion:i}=e,a=e.editScopeType;a||(a=t?w.IBo.USER:w.IBo.SYSTEM),await x({insert:async()=>await U(e).then(e=>((0,T.Pc)(a,"insert-figjam-template",()=>w.i46.insertTemplateInCanvas(e,r,i??t,!n,n?n.x:null,n?n.y:null)),!0)),...e})}function G(e,t){return`INSERT_FIGJAM_TEMPLATE_${e}_${t}`}function V(){let e=(0,i.OY)(),t=(0,i.w1)(e=>e.openFile?e.openFile.key:null),r=(0,i.w1)(e=>e.fileVersion),n=(0,i.w1)(e=>e.loadingState);return{insertTemplate:async({onSuccess:i,onFailure:a,...o})=>{let l=G(t,D(o.template));(0,N.K0)(n,l)||(e(g.Cg({key:l})),await B({dispatch:e,fileKey:t,fileVersion:r,...o,onSuccess:()=>{e(g.E5({key:l})),i&&i()},onFailure:()=>{e(g.E5({key:l})),a&&a()}}))},isInsertingTemplate:e=>{let r=G(t,e);return(0,N.K0)(n,r)}}}function H(e){let t=(0,i.w1)(e=>e.recentlyUsed.templates),r=(0,i.w1)(e=>e.hubFiles),a=(0,i.w1)(e=>e.recentCustomTemplates);return(0,n.useMemo)(()=>t[e].map(e=>{let{type:t}=e;switch(t){case R.y4.CommunityResource:return{type:L.e.HubFile,template:r[e.id]};case R.y4.TeamTemplate:return{type:L.e.TeamTemplate,template:a[e.key]};default:(0,o.gy)(t)}}).filter(({template:e})=>!!e),[t,r,a,e])}async function W({dispatch:e,templateIdentifier:t,onSuccess:r,onFailure:n,templateName:i,openInNewTab:a,folderId:o}){await p.cp.post(`/api/templates/${t.file_key}/duplicate`,{folder_id:o}).then(({data:n})=>{let{fig_file:i,template:o}=n.meta;r(),e(f.U([o])),e(E.y4({storeInRecentsKey:R.Sy.FigJam,...t})),l.default.redirect((0,O.El)(i),a?"_blank":void 0)}).catch(()=>{let t={error:!0,message:(0,m.t)("community.actions.failed_to_create_a_new_file_from_hub_file_name",{hubFileName:i})};e(_.A.enqueue(t)),n()})}function K(e){return`DUPLICATE_FIGJAM_TEMPLATE_${e}`}let Y=(0,h.M0)((e,t)=>{let r=K(t.templateIdentifier.file_key),{dispatch:n}=e,{loadingState:i}=e.getState();(0,N.K0)(i,r)||(n(g.Cg({key:r})),W({...t,dispatch:n,onSuccess:()=>{n(g.E5({key:r})),t.onSuccess&&t.onSuccess()},onFailure:()=>{n(g.E5({key:r})),t.onFailure&&t.onFailure()}}))});function q(){let e=(0,i.OY)();return(0,n.useCallback)(t=>e(Y(t)),[e])}function j(){let e=(0,i.w1)(e=>e.loadingState);return t=>{let r=K(t);return(0,N.K0)(e,r)}}function $(e,t){let[r,i]=(0,n.useState)(null),[a,o]=(0,n.useState)(0),[l,c]=(0,n.useState)(!1),[d,u]=(0,n.useState)([]),p=(0,s.a)(),m=(0,S.Ce)();(0,n.useEffect)(()=>{i({offset:0,searchTerm:e})},[e]),(0,n.useEffect)(()=>{if(!(null==r?void 0:r.searchTerm)||!m||!t){u([]),o(0);return}let e=P.A.getSearchPaginated({orgId:m.id,query:r.searchTerm,from:r.offset,size:10});c(!0),p(e,e=>{r.offset>0?u(t=>[...t,...e.data.meta.templates]):u(e.data.meta.templates),o(e.data.meta.total),c(!1)})},[m,t,r,p]);let _=(0,n.useCallback)(()=>d.length<a&&(i(e=>e?{...e,offset:e.offset+10}:null),!0),[d.length,a]);return{templates:d,requestLoadMore:_,total:a,isLoading:l}}let Z={url:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAAXNSR0IArs4c6QAAAA1JREFUGFdj+P///38ACfsD/QVDRcoAAAAASUVORK5CYII=",buffer:null};function z(e){let t=(0,C.C2)(),r=(0,c.Y)(()=>t?(0,A.yE)(e,t):Promise.reject(Error("User not logged in")),[e,t]),[i,a]=(0,n.useState)(Z);return(0,n.useEffect)(()=>{r.status===d.D.SUCCESS&&a(r.value),r.status===d.D.FAILURE&&a(Z)},[r]),i}},309812:(e,t,r)=>{"use strict";r.d(t,{Ci:()=>_,In:()=>h,UR:()=>g});var n=r(307824),i=r(515724),a=r(843148),o=r(888932),l=r(191352),s=r(762820),c=r(299988),d=r(38768),u=r(762056),p=r(532128),m=r(805404);function _(){return"ui3"===(0,i.qG)().version}function h(){let e=function(){let e=(0,l.ee)(),t="dev_handoff"===e,r=(0,m.sZ)(),n=(0,p.wl)(),i=t&&c.kr.getIsExtension(),s=(0,u.S2)(u.YP.ui3),d=(0,u.S2)(u.YP.ui3ExpNonDesign);return!!r||!!n||!i&&("design"===e||t?s:"whiteboard"===e?s&&!!(0,a.Ub)().figjam_pages_in_figjam&&!o.CU:s&&d)}(),{updateMode:t}=(0,i.qG)();(0,n.useEffect)(()=>{t({version:e?"ui3":"ui2"})},[e,t])}function g(){let e=_(),t=(0,d.s)();(0,n.useEffect)(()=>{var t;null==(t=s.KEP)||t.uiState().isUI3.set(e)},[e,t])}},704176:(e,t,r)=>{"use strict";r.d(t,{IZ:()=>a,Y7:()=>o,yq:()=>l});var n=r(441748),i=r(796488);function a(){let e=new Date;return{today:(0,n.c)(e).format("YYYY-MM-DD"),minDate:(0,n.c)(e).subtract(366,"days").format("YYYY-MM-DD")}}function o(e){return e?(0,n.c)(e).add(1,"day").subtract(1,"second").format():null}function l(e,t){if(t)for(let e of t){let t=function(e){let t=(e||"").trim();return t&&!(0,i.kB)(t)?{message:"An email is invalid",field:"email"}:null}(e);if(t)return t}return function(e){let t=(0,n.c)(e.start),r=(0,n.c)(e.end);if(!t.isValid())return{message:"The start date is invalid",field:"startDate"};if(!r.isValid())return{message:"The end date is invalid",field:"endDate"};if(t.diff(r,"days")>0)return{message:"The start date cannot be greater than the end date",field:"startDate"};let{today:i,minDate:o}=a();return t.diff(i,"days")>0||0>t.diff(o,"days")?{message:"The start date is out of range",field:"startDate"}:r.diff(i,"days")>0?{message:"The end date is out of range",field:"endDate"}:null}(e)}},90340:(e,t,r)=>{"use strict";let n,i;r.d(t,{A9:()=>b,Ab:()=>I,Az:()=>C,E3:()=>k,E7:()=>T,EB:()=>p,GO:()=>w,GU:()=>G,Gw:()=>U,I5:()=>L,SY:()=>S,U$:()=>K,Ub:()=>q,Y9:()=>P,YN:()=>m,YZ:()=>O,_G:()=>H,_U:()=>x,a2:()=>V,a8:()=>A,cB:()=>_,eO:()=>j,ew:()=>N,gz:()=>v,l$:()=>Y,mw:()=>E,oL:()=>M,oX:()=>f,s5:()=>y,wh:()=>F,yA:()=>W,yM:()=>R});var a=r(250008),o=r(326660),l=r(762820),s=r(514916),c=r(114396),d=r(492084),u=r(115996);function p(e){switch(e){case"design":return"design";case"whiteboard":return"figjam";case"dev_handoff":return"dev_handoff";case"slides":return"slides";default:return"unknown"}}function m(e){switch(e&&e.editorType){case s.aE.DESIGN:return"design";case s.aE.WHITEBOARD:return"figjam";case s.aE.SLIDES:return"slides";default:return"unknown"}}function _(e,t){return"fullscreen"===e.view?p(e.editorType):t?m({editorType:t}):"unknown"}let h=(e,t)=>{var r;switch(t.selectedView.view){case"prototype":case"mobileViewer":if((null==(r=t.selectedView.file)?void 0:r.key)===e)return t.selectedView.file||null;return null;default:return e&&t.fileByKey[e]||null}},g=(e,t,r,n={})=>{var i;let a=_(r.selectedView,t&&t.editor_type),o={...n,...f(a,r.selectedView.view)};return o.productType=a,o.fileKey=e||"new",o.fileParentOrgId=t&&t.parent_org_id,o.fileTeamId=t&&t.team_id,t&&t.file_repo_id&&(o.fileRepoId=t.file_repo_id),o.fileTeamId=t&&t.team_id,o.containingFolderId=t&&t.folder_id,o.entrypoint=n.entrypoint,o.figmaBasicsExperiment=null==(i=null==t?void 0:t.track_tags)?void 0:i.figma_basics_experiment,o};function f(e,t){var r,n;return e===s.aE.SLIDES&&"fullscreen"===t?{slide_view:(null==(n=null==(r=l.KEP)?void 0:r.singleSlideView())?void 0:n.isSingleSlideViewEnabled())?"ssv":"grid"}:{}}function E(){(0,a.mw)()}let y=(0,d.w)((e,t,r,n={},i)=>{let o=h(t,r),l=g(t,o,r,n);(0,a.we)(e,l,i)}),b=(0,d.w)((e,t,r,n={},i)=>{let o=g(t.key,t,r,n);(0,a.we)(e,o,i)}),v=(0,d.w)((e,t,r,n)=>{let i=h(t,r),o=g(t,i,r,n);a.qE.trackDefinedEvent(e,o)});function I(e,t,r={},n){r.productType=t&&m(t),r.fileKey=(null==t?void 0:t.key)||"new",r.fileParentOrgId=null==t?void 0:t.parentOrgId,r.fileTeamId=null==t?void 0:t.teamId,r.containingFolderId=null==t?void 0:t.folderId,t&&t.fileRepoId&&(r.fileRepoId=t.fileRepoId),(0,a.we)(e,r,n)}function w(e,t,r){let n="File Browser File Clicked";if(t.state){var i,o;y(n,e,t.state,{selectedView:"recentsAndSharing"===(i=t.state).selectedView.view?i.selectedView.tab||c.e.RECENTLY_VIEWED:"folder"===i.selectedView.view&&i.selectedView.folderId===(null==(o=i.user)?void 0:o.drafts_folder_id)?"drafts":i.selectedView.view,entrypoint:t.entrypoint,planFilterId:t.planFilterId,planFilterType:t.planFilterType,sharedByFilter:t.sharedByFilter,viewMode:t.viewMode},r)}else t.selectedViewName?(0,a.we)(n,{fileKey:e,selectedView:t.selectedViewName,entrypoint:t.entrypoint},r):(0,a.we)(n,{fileKey:e,entrypoint:t.entrypoint},r)}function T(e){(0,a.we)("file_browser_loaded",{selectedView:e.view})}function S(e,t,r){(0,a.we)("file_browser_plan_filter_selected",{planId:e,entryPoint:t,planType:r})}function C(e,t){(0,a.we)("file_browser_sharer_filter_selected",{sharerId:e,entryPoint:t})}function A(e,t,r={},n){r.fileKeys=t.map(e=>e.key),r.fileParentOrgIds=[],r.fileTeamIds=[],r.containingFolderIds=[],t.forEach(e=>{r.fileParentOrgIds.push(e.parent_org_id),r.fileTeamIds.push(e.team_id),r.containingFolderIds.push(e.folder_id)}),(0,a.we)(e,r,n)}function O(e,t,r,n={},i){let o=t.map(e=>r.fileByKey[e]);n.fileKeys=t,n.fileParentOrgIds=[],n.fileTeamIds=[],n.containingFolderIds=[],o.forEach(e=>{n.fileParentOrgIds.push(e.parent_org_id),n.fileTeamIds.push(e.team_id),n.containingFolderIds.push(e.folder_id)}),(0,a.we)(e,n,i)}function N(e,t,r={},n){r.fileKeys=[],r.fileParentOrgIds=[],r.fileTeamIds=[],r.containingFolderIds=[],t.forEach(e=>{r.fileKeys.push(e.key),r.fileParentOrgIds.push(e.parentOrgId),r.fileTeamIds.push(e.teamId),r.containingFolderIds.push(e.folderId)}),(0,a.we)(e,r,n)}function L(e,t,r,n){let i=e.map(e=>e.key),a=[],o=[],l=[];i.forEach((e,r)=>{let n=t[r];a.push(n.key),o.push(n.folder_id),l.push(n.team_id)}),O("File Copied",i,r,{copiedFileKeys:a,copiedContainingFolderIds:o,copiedFileTeamIds:l},n)}function R(e,t,r,n,i={},o){let l=n.folders[t];i.folderId=(null==l?void 0:l.id)||t,i.folderTeamId=(null==l?void 0:l.team_id)||r,(0,a.we)(e,i,o)}function P(e,t,r,n={},i){let o=(0,u.Q)(t,r);n.teamId=null==o?void 0:o.id,n.teamName=null==o?void 0:o.name,(0,a.we)(e,n,i)}function M(e,t,r,n={},i){let o=r.orgById[t];n.orgId=o.id,n.orgName=o.name,(0,a.we)(e,n,i)}function k(e,t,r={},n){let i=t.user;r.userId=i&&i.id,(0,a.we)(e,r,n)}let D={[s.y4.FILE]:"fileKey",[s.y4.FILE_REPO]:"fileRepoId",[s.y4.FOLDER]:"folderId",[s.y4.TEAM]:"teamId"};function F(e,t,r={},n){let i=D[t.resource_type];r.roleId=t.id,r[i]=t.resource_id_or_key,t.user_id&&(r.roleUserId=t.user_id),(0,a.we)(e,r,n)}function x(e,t){(0,a.we)(e,t)}function U(e){return{canEdit:e.canEdit,fileKey:e.key,productType:m(e)}}var B=((n=B||{}).DESIGN="DESIGN",n.WHITEBOARD="WHITEBOARD",n);let G="CTA Clicked";function V(e,t,r){let n=t||G;(0,o.Ij)(n,e.text||"",e,{logToConsole:o.us.NEVER});let i={...e,nonInteraction:0};(0,a.we)(n,i,{forwardToDatadog:!0,sendAsBeacon:r})}var H=((i=H||{}).NOT_POPULATED="not_populated",i.POPULATED_INCOMPLETE="populated_incomplete",i.POPULATED_COMPLETE="populated_complete",i);function W(e,t){let r={...e,nonInteraction:0};(0,a.we)("Input Blurred",r,t)}function K(e,t={}){(0,a.we)("Context Viewed",e,{forwardToDatadog:!0,...t})}let Y="Disabled Team Creation Button Hovered",q="User Submits Reupgrade Request",j=5e3},699084:(e,t,r)=>{"use strict";r.d(t,{KM:()=>p,OU:()=>u,QZ:()=>c,gz:()=>s,i:()=>m,sH:()=>d});var n=r(843148),i=r(514916),a=r(815464),o=r(553432),l=r(13468);function s(e){if("fullscreen"===e.selectedView.view){let t=e.selectedView.fileKey;if(t)return e.fileByKey[t]??null}return null}function c(e){let t=(0,l.CA)(e.selectedView);return t?e.fileByKey[t]??null:null}function d(e){return"folder"===e.selectedView.view?e.folders[e.selectedView.folderId]:null}function u(e){return{...(0,o.getPermissionsState)(e),selectedView:e.selectedView,currentOrgId:e.currentUserOrgId}}function p(e,t,r=null,o,l=i.aE.DESIGN,s,c,u,p){let m=null;if(null===r){let t=d(e);t&&!(0,a.KQ)(t,e)&&(m=t.id)}else"drafts"!==r&&(m=r.folderId);let _=null,h=e.currentUserOrgId?e.orgById[e.currentUserOrgId]:null;h&&(_=h.id);let g=null;if((0,n.Ub)().ps_benchmark){let t=e.currentTeamId?e.teams[e.currentTeamId]:null;t&&(g=t.id)}return{folder_id:m,org_id:_,openNewFileIn:t,trackingInfo:o||null,editorType:l,fileName:s,figjamAiNewFileData:u,figjamMakeSomethingUseCase:p,callback:c,team_id:g}}function m(e){return{...e,optimist:void 0}}},1084:(e,t,r)=>{"use strict";let n;r.d(t,{A1:()=>ea,C0:()=>ex,DL:()=>er,EZ:()=>ed,GG:()=>H,Gu:()=>J,MB:()=>eT,Mj:()=>eC,Mn:()=>Q,OC:()=>eI,OK:()=>ew,QF:()=>eM,Su:()=>en,W8:()=>es,WE:()=>eo,_W:()=>ei,ay:()=>eN,ct:()=>z,eW:()=>eR,gp:()=>eb,mE:()=>eS,q4:()=>el,sX:()=>eA,uA:()=>eD,ui:()=>eL,yO:()=>ev,yQ:()=>Z});var i,a=r(754532),o=r(394496),l=r(250008),s=r(139776),c=r(161400),d=r(843148),u=r(372152),p=r(623131),m=r(594192),_=r(47956),h=r(888932),g=r(326660),f=r(58908),E=r(896312),y=r(778524),b=r(560072),v=r(67612),I=r(710544),w=r(375376),T=r(5868),S=r(762820),C=r(701540),A=r(212076),O=r(876760),N=r(553432),L=r(670384),R=r(897712),P=r(555168),M=r(768820),k=r(652408),D=r(226060),F=r(787717),x=r(243536),U=r(170004),B=r(887816),G=r(292820);function V(e,t){let r="unknown";e?"string"==typeof e?r=e:"message"in e&&(r=e.message):r="no error message",(0,g.WI)("Autosave",r,{message:t})}function H(){return 7776e6}async function W(e,t,r,n){let i=n.objectStore(x.eU),a=await i.index(x.GK).get([e,t,r]);return a&&a.id?{id:a.id,...a}:void 0}async function K(e,t,r,n){let i=await W(e,t,r,n);return null==i?void 0:i.id}async function Y(e,t,r){let n=e.objectStore(x.eU),i=e.objectStore(x.AP),a=e.objectStore(x.ew),o=e.objectStore(x.uo),l=[];for(let e of r){let t=await n.index(x.GK).get([e.userID,e.fileKey,e.sessionID]);t&&t.id&&l.push(t)}if(0===l.length)return await e.done,{changesByNode:new Map,referencedNodeMap:new Map,fileVersion:-1};l.sort((e,t)=>t.fileVersion-e.fileVersion);let s=l[0],c=new Map,d=new Map;for(let e of(await i.getAll((0,x.mI)(s.id))))c.set(e.nodeID,[e.changes,e.snapshots]);for(let e of(await o.getAll((0,x.mI)(s.id))))d.set(e.nodeID,e.buffer);let u=s.lastUpdatedAt;for(let e of l.slice(1)){let t=e.fileVersion===s.fileVersion;if(t){for(let t of(await i.getAll((0,x.mI)(e.id)))){let e=c.get(t.nodeID),r=t.changes,n=t.snapshots;if(e){let[i,a]=e;r=S.eS.mergeMultiplayerMessages(i,t.changes,s.fileVersion),n={...a,...t.snapshots}}c.set(t.nodeID,[r,n]),i.put({editorSessionID:s.id,nodeID:t.nodeID,changes:r,snapshots:n}).catch(e=>V(e,"mergeAndClaimChanges: updating session IDs"))}for(let t of(await o.getAll((0,x.mI)(e.id))))d.set(t.nodeID,t.buffer),o.put({editorSessionID:s.id,nodeID:t.nodeID,buffer:t.buffer}).catch(e=>V(e,"mergeAndClaimChanges: merge referenced nodes"));u=Math.max(u,e.lastUpdatedAt)}i.delete((0,x.mI)(e.id)).catch(e=>V(e,"mergeAndClaimChanges: node changes for session")),o.delete((0,x.mI)(e.id)).catch(e=>V(e,"mergeAndClaimChanges: referenced nodes for session"));let r=await a.openCursor((0,x.mI)(e.id));for(;r;)t&&a.put({...r.value,editorSessionID:s.id}).catch(e=>V(e,"mergeAndClaimChanges: merge images")),r.delete().catch(e=>V(e,"mergeAndClaimChanges: remove old image")),r=await r.continue();n.delete(e.id).catch(e=>V(e,"mergeAndClaimChanges: delete old session id"))}return await n.put({...s,sessionID:t,lastUpdatedAt:u}),(0,x.q4)(e),await e.done,(0,g.Ij)("Autosave",`Found claimed autosave changes from ${l.length} sessions`,void 0,{logToConsole:S.usI.ALWAYS}),{changesByNode:c,referencedNodeMap:d,fileVersion:s.fileVersion}}async function q(e,t){let r=(0,x.iO)(e,t),n=[];return await A.Ws.timeAsync("checkForAutosave",async()=>{let e=await (0,x.m0)();if(!e)return;let t=e.transaction(x.eU),i=t.objectStore(x.eU),a=await i.index(x.GK).openCursor(r);for(;a;)n.push(a.value),a=await a.continue();await t.done}),n.length>0&&(0,g.gN)("Autosave","Found auto-saved data for this file",void 0,{logToConsole:S.usI.ALWAYS}),n}async function j(e){return await A.Ws.timeAsync("filterAutosaveSessions",async()=>{let t=await Promise.all(e.map(e=>(0,G.as)(e))),r=Date.now()-H(),n=e.filter((e,n)=>!t[n]&&e.lastUpdatedAt>r);return 0===n.length&&(0,g.Ij)("Autosave","Changes not available or already claimed by another tab",void 0,{logToConsole:S.usI.ALWAYS}),n})}let $=null;async function Z(e){async function t(){for(let e of["figma-autosave-v2","figma-autosave-darklaunch-v2"])(0,o.eA)(e).catch(()=>{});try{let t=await es((0,x.us)(e),e=>Date.now()-e.lastUpdatedAt<H());if(t.length>0){let e=t.map(e=>e.lastUpdatedAt);(0,l.we)("autosave garbage collect",{numSessions:t.length,localSessionCount:t.reduce((e,t)=>e+(t.isLocalFile?1:0),0),nodeCount:t.reduce((e,t)=>e+t.nodeCount,0),imageCount:t.reduce((e,t)=>e+t.imageCount,0),referencedNodeCount:t.reduce((e,t)=>e+t.referencedNodeCount,0),oldestSession:Math.min(...e),newestSession:Math.max(...e)})}}catch(e){(0,U.G5)("Failed to garbage collect autosave changes",e)}(0,k.s7)()}$||($=t()),await $}async function z(e){let t={};for(let r of e){let e=await Q(r);(e.unsyncedFiles.length>0||e.newFiles.length>0)&&(t[r]=e)}return t}async function Q(e){let t=await (0,x.m0)();if(!t)return{unsyncedFiles:[],newFiles:[],nextGarbageCollectionTimestamp:-1};let{editorSessionRowsWithChanges:r,newFilesByKey:n,newFilesWithChanges:i}=await X(t,e),o=new Set,l=new Map,s=-1,c=[];for(let t of r)o.has(t.fileKey)||c.push((0,G.as)({userID:e,fileKey:t.fileKey,sessionID:t.sessionID}).then(e=>{if(!e){o.add(t.fileKey);let e=Math.max(l.get(t.fileKey)||0,t.lastUpdatedAt);l.set(t.fileKey,e),s=-1===s?t.lastUpdatedAt:Math.min(s,t.lastUpdatedAt)}}));return await Promise.all(c),{unsyncedFiles:Array.from(o).filter(e=>!(0,a.c)(e)).map(e=>({type:"autosave-file",fileKey:e,lastUpdatedAt:l.get(e)})),newFiles:Array.from(o).filter(e=>(0,a.c)(e)&&n.has(e)).map(e=>{let t=n.get(e);return et(t,l,i.has(t.fileKey))}).filter(({hasChanges:e})=>e),nextGarbageCollectionTimestamp:s}}async function X(e,t){let r=e.transaction([x.eU,x.AP,x.Af]),n=Error("original async stack");r.done.catch(e=>{e.cause=n,(0,g.oP)(f._.UNOWNED,e)});let i=r.objectStore(x.eU),a=await i.index(x.GK).getAll((0,x.us)(t)),o=[],l=r.objectStore(x.AP);for(let e of a)if(await l.count((0,x.mI)(e.id))>0){for(let t of(await l.getAll((0,x.mI)(e.id))))if(!((0,d.Ub)().suppress_unsaved_changes_ui&&(0,d.Ub)().incremental_loading_validation)||S.eS&&!S.eS.changesAreOnlyNewFileSystemChanges(t.changes,e.fileVersion)){o.push(e);break}}let s=new Map,c=r.objectStore(x.Af),u=new Set;for(let e of(await c.getAll((0,x.us)(t)))){s.set(e.fileKey,e);let t=a.find(t=>t.fileKey===e.fileKey);if(t){let r=await l.getAll((0,x.mI)(t.id));(em(e.fileKey,r)||e.hasChangedMetadata)&&u.add(e.fileKey)}}return{editorSessionRowsWithChanges:o,newFilesByKey:s,newFilesWithChanges:u}}async function J(e){let t=await Q(e);return t.unsyncedFiles.length>0||t.newFiles.length>0}async function ee(e){var t,r;let n=await (0,x.m0)();if(!n)return[];let{editorSessionRowsWithChanges:i,newFilesByKey:a,newFilesWithChanges:o}=await X(n,e),l=new Set,s=new Map;for(let e of i)l.add(e.fileKey),s.set(e.fileKey,Math.max(s.get(e.fileKey)||0,e.lastUpdatedAt));let c=Array.from(l).map(e=>{let t=a.get(e);return t?et(t,s,o.has(t.fileKey)):null}).filter(m.aI);return null==(r=null==(t=ey)?void 0:t.fileCreationManager)||r.updateNewFileInfoFromFiles(c),c}function et(e,t,r){return{type:"new-autosave-file",fileKey:e.fileKey,editorType:e.editorType,name:e.name,creatorId:e.userID,createdAt:e.createdAt,lastUpdatedAt:t.get(e.fileKey),orgId:e.orgID??null,hasChanges:r,hasChangedMetadata:e.hasChangedMetadata??!1}}function er(e,t){return(0,s.Ib)(e.map(e=>{let r=t[e.fileKey];return r&&!r.trashed_at?e:null}))}function en(e,t){return e.filter(e=>(0,N.canEditFileMemoized)(e.fileKey,t))}function ei(e,t){return(0,s.Ib)(e.map(e=>{let r=t[e.fileKey];if(r)return{type:"autosave-file",fileKey:e.fileKey,lastUpdatedAt:e.lastUpdatedAt,file:r}}))}async function ea(e,t,r){await es((0,x.iO)(e,t),e=>e.sessionID!==r)}async function eo(e,t){if((0,U.or)())return;let r=async(e,r)=>{let n=r.objectStore(x.AP);return em(t,await n.getAll((0,x.mI)(e.id)))};await es((0,x.iO)(e,t),r)}async function el(e,t){await es((0,x.us)(e),e=>!t.includes(e.fileKey))}async function es(e,t){let r=await (0,x.m0)();if(!r)return[];let n=r.transaction([x.eU,x.AP,x.ew,x.uo,x.Af],"readwrite"),i=Error("original async stack");n.done.catch(e=>{e.cause=i,(0,g.oP)(f._.UNOWNED,e)});let o=n.objectStore(x.eU),l=n.objectStore(x.AP),s=n.objectStore(x.ew),c=n.objectStore(x.uo),d=n.objectStore(x.Af),u=!1,p=await o.index(x.GK).getAll(e),m=[],_=[];for(let e of p)if(!(t&&await t(e,n))){let[t,r,n]=await Promise.all([l.count((0,x.mI)(e.id)),s.count((0,x.mI)(e.id)),c.count((0,x.mI)(e.id))]);_.push({userID:e.userID,fileKey:e.fileKey,sessionID:e.sessionID,isLocalFile:(0,a.c)(e.fileKey),nodeCount:t,imageCount:r,referencedNodeCount:n,lastUpdatedAt:e.lastUpdatedAt}),o.delete(e.id).catch(e=>V(e,"deleteAutosaveDataForSessions: delete editor session")),l.delete((0,x.mI)(e.id)).catch(e=>V(e,"deleteAutosaveDataForSessions: delete node changes")),s.delete((0,x.mI)(e.id)).catch(e=>V(e,"deleteAutosaveDataForSessions: delete images")),c.delete((0,x.mI)(e.id)).catch(e=>V(e,"deleteAutosaveDataForSessions: delete referenced nodes")),u=!0,(0,a.c)(e.fileKey)&&m.push({localFileKey:e.fileKey,userID:e.userID})}for(let{localFileKey:e,userID:t}of m)0===await o.index(x.GK).count((0,x.iO)(t,e))?await d.delete((0,x.iO)(t,e)):(0,U.Ut)("Local file has remaining sessions");return await o.count()===0&&(await l.count()>0&&((0,U.Ut)("Found leftover node changes in IDB"),l.delete((0,x.em)()).catch(e=>V(e,"deleteAutosaveDataForSessions: delete leftover node changes"))),await s.count()>0&&((0,U.Ut)("Found leftover images in IDB"),s.delete((0,x.YT)()).catch(e=>V(e,"deleteAutosaveDataForSessions: delete leftover images"))),await c.count()>0&&((0,U.Ut)("Found leftover referenced node buffers in IDB"),c.delete((0,x.Q3)()).catch(e=>V(e,"deleteAutosaveDataForSessions: delete leftover referenced nodes")))),(0,x.q4)(n),await n.done,u&&(0,B.YZ)(),_}async function ec(e,t){await t.objectStore(x.AP).count((0,x.mI)(e))===0&&await t.objectStore(x.ew).count((0,x.mI)(e))===0&&await t.objectStore(x.uo).count((0,x.mI)(e))===0&&t.objectStore(x.eU).delete(e).catch(e=>V(e,"deleteEditorSessionRowIfUnused: delete editor session"))}async function ed(e,t){let r=await (0,x.m0)();if(!r)throw Error("Could not open autosave data");let n=r.transaction([x.eU,x.AP,x.ew,x.uo]),i=n.objectStore(x.eU),a=n.objectStore(x.AP),o={};for(let e of(await i.getAll()))o[e.id]=e,o[e.id].changes={},o[e.id].snapshots={};for(let r of(o.unknown={changes:{},snapshots:{}},(await a.getAll()).slice(0,e)))r.editorSessionID in o?(o[r.editorSessionID].changes[r.nodeID]=JSON.parse(S.eS.encodeChangesAsJson(r.changes,o[r.editorSessionID].fileVersion,!!t)),o[r.editorSessionID].snapshots[r.nodeID]=r.snapshots):(o.unknown.changes[r.nodeID]=JSON.parse(S.eS.encodeChangesAsJson(r.changes,1,!!t)),o.unknown.snapshots[r.nodeID]=r.snapshots);return await n.done,o}async function eu(e){let{transaction:t,commitPolicy:r,userID:n,fileKey:i,fileVersion:o,sessionID:l,oldSessionID:s,pendingChanges:c,pendingImages:u,pendingReferencedNodes:p,reason:m,isFirstCommitOfAutosaveSession:_}=e,h=t.objectStore(x.eU),g=t.objectStore(x.AP),f=t.objectStore(x.ew),y=t.objectStore(x.uo),b=await W(n,i,s,t),v=0;b&&(v=(b.offlineEditingTime||0)+(_?0:Date.now()-b.lastUpdatedAt));let I=null==b?void 0:b.id,w={userID:n,fileKey:i,sessionID:l,lastUpdatedAt:Date.now(),releaseTag:(0,d.cp)().release_git_tag||"",fileVersion:o,lastCommitReason:m,offlineEditingTime:v,originalTrackingSessionId:(0,E.q)()};for(let e of(null==I?I=await h.add(w):(r===S.M3L.REPLACE_CHANGES&&(g.delete((0,x.mI)(I)).catch(e=>V(e,"commitChanges: replace node changes")),y.delete((0,x.mI)(I)).catch(e=>V(e,"commitChanges: replace referenced nodes"))),h.put({id:I,...w}).catch(e=>V(e,"commitChanges: update session"))),c))e.changes?g.put({editorSessionID:I,nodeID:e.nodeID,changes:e.changes,snapshots:e.snapshots||void 0}).catch(e=>V(e,"commitChanges: put node changes")):g.delete([I,e.nodeID]).catch(e=>V(e,"commitChanges: clear node changes"));for(let e of u)if(await f.count([I,e])===0){let t=S.a48.getCompressedImage(e);t&&f.add({editorSessionID:I,hash:e,blob:t}).catch(e=>V(e,"commitChanges: add images"))}for(let e of p)y.add({editorSessionID:I,nodeID:e.nodeID,buffer:e.buffer}).catch(e=>V(e,"commitChanges: add referenced nodes"));let T=await g.count((0,x.mI)(I));return 0===T&&(await f.delete((0,x.mI)(I)),await y.delete((0,x.mI)(I))),await ec(I,t),(0,x.q4)(t),await t.done,(0,a.c)(i)&&(0,B.YZ)(),T}async function ep(e,t,r){(0,g.Ij)("Autosave","assigning file key for new file",{localFileKey:t,newFileKey:r}),await (0,x.SA)([x.eU,x.Af],async n=>{let i=n.objectStore(x.eU);(await i.index(x.GK).getAll((0,x.iO)(e,t))).map(e=>{e.fileKey=r,i.put(e)}),n.objectStore(x.Af).delete((0,x.iO)(e,t))},"readwrite"),(0,B.YZ)()}function em(e,t){if(!(0,a.c)(e))return t.length>0;if(t.length>2)return!0;for(let{nodeID:e}of t)if(!["0:0","0:1"].includes(e))return!0;return!1}class e_{constructor(){this.nextEventPromise=new Promise(e=>{this.nextEventPromiseResolve=e})}onCommitEvent(){this.nextEventPromiseResolve(),this.nextEventPromise=new Promise(e=>{this.nextEventPromiseResolve=e})}waitForNextCommit(){return this.nextEventPromise}}class eh{constructor(e,t){this.userID=e,this._state={type:"connecting"},this._fileKey="",this.fileCreationManager=null,this.fileKey=t,(0,U.or)()?(this._sessionsToRestore=Promise.resolve([]),this._state={type:"terminated"}):(0,a.c)(t)?this._sessionsToRestore=q(e,t):this._sessionsToRestore=q(e,t).then(e=>j(e))}get fileKey(){return this._fileKey}get managerState(){return this._state.type}session(){return"connected"===this._state.type?this._state.session:null}set fileKey(e){this._fileKey=e;let t=(0,a.c)(e)?e:null;u.qM.set(F.y,t)}async assignFileKeyForLocalFile(e){if("connected"!==this._state.type){"connecting"===this._state.type&&(0,U.Ut)("Still connecting");return}try{await this._state.session.enqueueAssignFileKeyForLocalFile(e,()=>{this.fileKey=e,this.fileCreationManager=null})}catch(e){this.terminateDueToError("unable to update file key",!0)}}async terminateAndWaitForCleanup(){let e="connected"===this._state.type?this._state.session:null;this._state={type:"terminated"},u.qM.set(F.y,null),await (null==e?void 0:e.destroy().catch(()=>(0,U.Ut)("Failed to destroy autosave session")))}terminateDueToError(e,t){(0,g.sz)("Autosave","autosave disabled",{message:e}),t&&(0,U.Ut)(e);let r="connected"===this._state.type;(0,l.we)("autosave_disabled",{message:e,hasSessionInProgress:r},{forwardToDatadog:!0}),this.terminateAndWaitForCleanup().catch(t=>(0,U.Ut)("Failed to terminate autosave",{message:e,error:t.message}))}async onConnect(e){if("connecting"!==this._state.type)return;try{await (0,x.Y9)()}catch(e){(0,g.Ij)("Autosave","IDB is not available in the current browser session.",void 0,{logToConsole:S.usI.ALWAYS}),(0,l.we)("autosave_db_failure",{message:e.message}),this.terminateDueToError("unable to open DB",!1);return}let t=new _.uE;t.start();let r=await this._sessionsToRestore;(0,a.c)(this.fileKey)&&(r.length>1?((0,U.Ut)("Local file has multiple sessions",{sessionCount:r.length,sessionIds:r.map(e=>e.sessionID).slice(0,5).join(", ")}),this.terminateDueToError("Local file has multiple sessions",!1)):1===r.length&&0!==r[0].sessionID&&((0,U.Ut)("Local file with changes from non-zero session",{existingSessionId:r[0].sessionID}),this.terminateDueToError("Local file with changes from non-zero session",!1)));let n=await (0,G.oZ)({userID:this.userID,fileKey:this.fileKey,sessionID:e});if(!n){this.terminateDueToError("unable to acquire lock",!0);return}this._state={type:"connected",session:new eE(e,this,t,r,n)}}async onConnectNewFile(e){let t=this.fileKey;if((0,a.c)(t))try{await (0,x.SA)([x.Af],async r=>{let n=r.objectStore(x.Af);if(await n.get((0,x.iO)(this.userID,t)))return;let i={fileKey:t,userID:this.userID,editorType:e.editorType,name:e.fileName??(0,b.t)("fullscreen.fullscreen_view_selector.untitled"),createdAt:Date.now(),orgID:e.org_id};await n.put(i)},"readwrite"),this.fileCreationManager&&(0,U.Ut)("File creation manager already exists",{fileKey:t}),this.fileCreationManager=new ef(t,e)}catch(e){this.terminateDueToError("unable to set new file info",!0);return}await this.onConnect(0)}}async function eg(e,t,r){if((0,a.c)(t)&&e)try{await (0,x.SA)([x.Af],async n=>{let i=n.objectStore(x.Af),a=await i.get((0,x.iO)(e,t));a&&await i.put({...a,name:r,hasChangedMetadata:!0})},"readwrite"),(0,B.YZ)()}catch(e){(0,g.oP)(f._.SCENEGRAPH_AND_SYNC,Error("unable to update new file info"))}}class ef{constructor(e,t){this._pendingRealFileKey=null,this.fileKey=e,this._newFileInfo=t}get newFileInfo(){return this._newFileInfo}updateNewFileInfo(e){this._newFileInfo={...this._newFileInfo,...e}}updateNewFileInfoFromFiles(e){let t=e.find(e=>e.fileKey===this.fileKey);if(t){let e=(0,R.s)(t,this.newFileInfo.openNewFileIn);this.updateNewFileInfo(e)}}get pendingRealFileKey(){return this._pendingRealFileKey}assignPendingRealFileKey(e){this._pendingRealFileKey=e,B.Wu.sendToAllTabs(B.o9,{localFileKey:this.fileKey,realFileKey:e})}}class eE{constructor(e,t,r,n,a){this.sessionID=e,this.manager=t,this.restoreTimer=r,this.changesToRestore=n,this.webLock=a,this.transactionQueue=new D.y,this.commitEventListener=new e_,this.restoring=!1,this.consecutiveCommitsAddingChanges=0,this.activityLogger=(null==(i=navigator.storage)?void 0:i.estimate)?new k.c1:null,this.restoreAnalytics={hadChangesToRestore:!1,fileKey:"",time:0,timeToStartSession:0,timeToApply:0,timeToSync:0,sessionsCheckTime:0,numberOfBytes:0,numberOfNodes:0,numberOfReferencedNodes:0,numberOfRestoredReferencedNodes:0,numberOfSessions:0,numberOfImages:0,neededToMigrate:!1,persistentStorage:!1,changesAreAllDerivedData:!1,nodeFields:[],stagingDump:void 0,lastUpdatedAt:void 0,releaseTag:void 0,isLocalFile:!1,offlineEditingTime:void 0,lastCommitReason:void 0,originalTrackingSessionId:void 0,storageUsageBytes:void 0,storageQuotaBytes:void 0,isIncremental:!1},this.reportedFullQueue=!1,this.reportedStorageError=!1,this.hasCommitted=!1,this.restoreAnalytics.timeToStartSession=this.restoreTimer.getElapsedTime()}getActivityLogger(){return this.activityLogger}async destroy(){await this.webLock.release().catch(e=>V(e,"AutosaveSession.destroy: releasing session lock"))}sessionTransaction(e,t,r,n){let i=(0,x.SA)(t,r,n);return i.catch(t=>{(0,l.we)("autosave_transaction_failure",{transactionName:e,message:t.message}),this.manager.terminateDueToError(`${e} transaction failed`,!1)}),i}readyToAcceptChanges(){let e=this.transactionQueue.length>=10;return e&&!this.reportedFullQueue&&(this.reportedFullQueue=!0,(0,U.Ut)("Autosave transaction queue is backed up.")),!this.restoring&&!e}hasOngoingCommitTask(){return!this.transactionQueue.isComplete()}async tryToFlushAutosave(){this.readyToAcceptChanges()&&(S.eS.flushAutosave(),await this.transactionQueue.waitForCompletion())}async enqueueAutosaveCommit(e){await this.transactionQueue.enqueue(()=>this.commitAutosave(e))}async commitAutosave(e){var t;let{changes:r,commitPolicy:n,fileVersion:i,fileKey:a,newSessionID:o,numberOfUncleanRegisters:s,reason:c}=e;if(!this.readyToAcceptChanges()){this.manager.terminateDueToError("Committing, but not ready to accept changes",!0);return}if(o<0){this.manager.terminateDueToError("Unexpected sessionID < 0",!0);return}if(a&&a!==this.manager.fileKey){(0,U.Ut)("Web file key out of sync with fullscreen file key",{"web file key":this.manager.fileKey,"fullscreen file key":a}),this.manager.terminateDueToError("Web file key out of sync with fullscreen file key",!1);return}null==(t=this.activityLogger)||t.recordAutosaveCommit(this.manager.fileKey,this.manager.userID,this.sessionID,e);let d=this.sessionID,u=null;if(o!==this.sessionID){u=this.webLock,this.sessionID=o;let e=await (0,G.oZ)({userID:this.manager.userID,fileKey:this.manager.fileKey,sessionID:this.sessionID});if(!e){this.manager.terminateDueToError("unable to acquire lock",!0);return}this.webLock=e}if(!(0,G.OQ)(this.webLock,{userID:this.manager.userID,fileKey:this.manager.fileKey,sessionID:this.sessionID})){this.manager.terminateDueToError("lock is not for the current session",!1);return}let p=r.changedNodes.length,m=r.changedNodes.map(e=>({nodeID:e.nodeID,changes:e.changes,snapshots:e.snapshots})).concat(r.clearedNodes.map(e=>({nodeID:e,changes:null,snapshots:null}))),_=[];for(let e of r.referencedNodes)_.push({nodeID:e.nodeID,buffer:e.changes});let h=new Set;for(let e of r.imageHashes)h.add(e);let f=await this.sessionTransaction("commit",[x.eU,x.AP,x.ew,x.uo],async e=>await eu({transaction:e,commitPolicy:n,userID:this.manager.userID,fileKey:this.manager.fileKey,fileVersion:i,oldSessionID:d,sessionID:this.sessionID,pendingChanges:m,pendingImages:h,pendingReferencedNodes:_,reason:c,isFirstCommitOfAutosaveSession:!this.hasCommitted}),"readwrite");this.hasCommitted=!0;let E={stored_node_changes:f,unclean_registers:s,changed_nodes:p,cleared_nodes:r.clearedNodes.length,referenced_nodes:_.length,pending_images:h.size,commit_policy:S.M3L[n],session_id:this.sessionID,new_session_id:o,commit_reason:void 0!==c?S.WCQ[c]:void 0,file_key:a,manager_file_key:this.manager.fileKey};if((0,g.Ij)("Autosave","commit completed",E),(0,l.we)("autosave_commit_completed",E),!this.reportedStorageError&&void 0!==s&&s!==f){if(f>0&&0===s){let e=e=>{if(!(e.length>5))return e;{let t=e.slice(0,5);return t.push("..."),t}},t=await ed(5,!0);(0,g.WI)("Autosave","Dumping autosave since we expect IDB to be empty",{debug:t,changedNodes:e(r.changedNodes.map(e=>e.nodeID)),clearedNodes:e(r.clearedNodes),referencedNodes:e(r.referencedNodes.map(e=>e.nodeID)),imageHashes:e(r.imageHashes),currentSessionID:S.Abq.currentSessionID(),commitQueueLength:this.transactionQueue.length}),this.manager.terminateDueToError("Expected IDB to be empty after synchronizing with multiplayer",!0)}else f>s?this.manager.terminateDueToError("Expected IDB to have at many node changes as registers (currently has more)",!0):f<s&&this.manager.terminateDueToError("Expected IDB to have at many node changes as registers (currently has less)",!0);this.reportedStorageError=!0}null!=u&&u.release().catch(e=>V(e,"commitAutosave: release lock")),this.commitEventListener.onCommitEvent(),n===S.M3L.ADD_CHANGES?(this.consecutiveCommitsAddingChanges++,this.consecutiveCommitsAddingChanges>=4&&(0,y.Y9)({id:B.k7})):this.consecutiveCommitsAddingChanges=0}async restoreAutosaveIfNeeded(){if(S.eS.fileIsReadOnly())return;this.restoreAnalytics.fileKey=this.manager.fileKey,this.restoreAnalytics.isLocalFile=(0,a.c)(this.manager.fileKey),this.restoring=!0;let e=function(){var e;if(!h.cp.chrome||!(null==(e=navigator.storage)?void 0:e.persist))return Promise.resolve(!1);let t=new Promise(e=>setTimeout(()=>e(!1),200));return Promise.race([navigator.storage.persist(),t])}(),t=(0,U.wp)(),r=this.changesToRestore;if(this.changesToRestore=[],this.restoreAnalytics.sessionsCheckTime=this.restoreTimer.getElapsedTime(),this.restoreAnalytics.numberOfSessions=r.length,r.length>0){let e=r[0];this.restoreAnalytics.lastUpdatedAt=e.lastUpdatedAt,this.restoreAnalytics.offlineEditingTime=e.offlineEditingTime,this.restoreAnalytics.originalTrackingSessionId=e.originalTrackingSessionId,this.restoreAnalytics.lastCommitReason=e.lastCommitReason?S.WCQ[e.lastCommitReason]:void 0,this.restoreAnalytics.releaseTag=e.releaseTag,await this.restoreChangesForSessionRows(r)}this.restoreAnalytics.persistentStorage=await e;let{usageBytes:n,quotaBytes:i}=await t;this.restoreAnalytics.storageUsageBytes=n,this.restoreAnalytics.storageQuotaBytes=i,this.restoreAnalytics.isIncremental=S.Abq.isIncrementalSession(),this.restoreTimer.stop(),this.restoreAnalytics.time=this.restoreTimer.getElapsedTime(),(0,l.we)("autosave_restore_on_load",this.restoreAnalytics,{forwardToDatadog:!0}),this.restoring=!1}async restoreChangesForSessionRows(e){if(!(0,G.OQ)(this.webLock,{userID:this.manager.userID,fileKey:this.manager.fileKey,sessionID:this.sessionID})){this.manager.terminateDueToError("lock is not for the current session",!1);return}let{changesByNode:t,referencedNodeMap:r,fileVersion:n}=await this.sessionTransaction("restore",[x.eU,x.AP,x.ew,x.uo],async t=>await Y(t,this.sessionID,e),"readwrite"),i=t.size>0;for(let e of(i?((0,a.c)(this.manager.fileKey)||await (0,L.y)(this.manager.fileKey,"Offline sync","Before syncing changes",c.x.dispatch).catch(e=>{var t;return(0,U.Ut)("Failed to create before savepoint",{status:e.status,message:null==(t=e.data)?void 0:t.message})}),(0,g.Ij)("Autosave","Restoring auto-saved data",void 0,{logToConsole:S.usI.ALWAYS}),await this.restoreChanges(t,r,n)):(0,g.Ij)("Autosave","Changes are empty!",void 0,{logToConsole:S.usI.ALWAYS}),this.commitEventListener.waitForNextCommit().then(()=>{B.Wu.sendToOtherTabs(B.aY)}).catch(e=>V(e,"restoreChangesForSessionRows: waitForNextCommit")),this.restoreAnalytics.hadChangesToRestore=i,this.restoreAnalytics.numberOfBytes=0,this.restoreAnalytics.numberOfNodes=t.size,this.restoreAnalytics.numberOfReferencedNodes=r.size,t.values()))this.restoreAnalytics.numberOfBytes+=e.length}async restoreChanges(e,t,r){let n=Array.from(e.entries()).sort(([e,t],[r,n])=>e<r?-1:1),i=(0,d.Ub)().suppress_unsaved_changes_ui&&(0,d.Ub)().incremental_loading_validation&&n.every(([e,[t]])=>S.eS.changesAreOnlyNewFileSystemChanges(t,r));for(let[e,[t,i]]of n)S.eS.loadAutosavedNodeChanges(e,t,i,r);if(this.restoreAnalytics.changesAreAllDerivedData=S.eS.changesAreAllDerivedData(),this.restoreAnalytics.nodeFields=S.eS.restoredNodeFieldNames(),this.restoreAnalytics.neededToMigrate=S.eS.currentFileVersion()>r,(0,M.aI)()){(0,l.we)("autosave_load_containing_pages_start",{node_count:e.size,fileKey:this.manager.fileKey});let t=performance.now(),r=new Set(e.keys());for(let e of S.eS.getParentIndexChanges())r.add(e);await (0,M.xY)(r),(0,l.we)("autosave_load_containing_pages_end",{node_count:e.size,timeElapsed:performance.now()-t,fileKey:this.manager.fileKey})}let o=S.eS.getImagesUsedInAutosavedChanges().split(" ");this.restoreAnalytics.numberOfImages=await this.restoreImagesIfAvailable(o);let s=this.restoreAvailableReferencedNodes(t);S.eS.migrateAndSetAutosaveChanges(s,r),P.Pc.autosave("autosave",()=>S.eS.applyAutosavedChanges()),this.restoreAnalytics.timeToApply=this.restoreTimer.getElapsedTime(),(0,g.Ij)("Autosave","Successfully applied auto-saved changes",void 0,{logToConsole:S.usI.ALWAYS});let u=()=>{c.x.dispatch(I.C.enqueueFront({notification:{type:v.K.AUTOSAVE_CHANGES_RESTORED,message:"Your offline changes were synced"}})),(0,g.Ij)("Autosave","Successfully synced auto-saved changes",void 0,{logToConsole:S.usI.ALWAYS})};(0,a.c)(this.manager.fileKey)?(0,C.G)().then(()=>{var e;this.manager.fileKey!==(null==(e=c.x.getState().openFile)?void 0:e.key)||i||u()}):(await (0,C.G)(),this.restoreAnalytics.timeToSync=this.restoreTimer.getElapsedTime(),await (0,L.y)(this.manager.fileKey,"Offline sync","After syncing changes",c.x.dispatch).catch(e=>{var t,r;(0,l.we)("autosave_skip_after_checkpoint",{error:null==(t=e.data)?void 0:t.message}),(0,U.Ut)("Failed to create after savepoint",{status:e.status,message:null==(r=e.data)?void 0:r.message})}),i||u())}async restoreImagesIfAvailable(e){let t=0;return await this.sessionTransaction("restore images",[x.eU,x.ew],async r=>{let n=await this.currentEditorSessionID(r);if(!n)return;let i=r.objectStore(x.ew);for(let r of e){let e=await i.get([n,r]);e&&(S.eS.restoreImageBytes(r,e.blob),t++)}await r.done}),t}restoreAvailableReferencedNodes(e){let t=[];for(let[r,n]of e)S.eS.restoreReferencedNodeFile(r,n),t.push(r);return t}currentEditorSessionID(e){return K(this.manager.userID,this.manager.fileKey,this.sessionID,e)}async getNodeChangesForSession(){let e=await (0,x.m0)();if(!e)throw Error("Unable to get DB");let t=e.transaction([x.eU,x.AP],"readonly"),r=t.objectStore(x.AP),n=await this.currentEditorSessionID(t);return n?await r.getAll((0,x.mI)(n)):[]}async getNodeChangeCount(){return(await this.getNodeChangesForSession()).length}async hasPersistedUserChanges(){let e=await this.getNodeChangesForSession();return em(this.manager.fileKey,e)}async enqueueAssignFileKeyForLocalFile(e,t){let r=this.manager.fileKey;if(!(0,a.c)(r)){(0,U.Ut)("Only local file keys can be reassigned");return}if((0,a.c)(e)){(0,U.Ut)("Cannot reassign file key to a local file key");return}await this.transactionQueue.enqueue(async()=>{let n=this.webLock,i=await (0,G.oZ)({userID:this.manager.userID,fileKey:e,sessionID:this.sessionID});if(!i){this.manager.terminateDueToError("unable to acquire lock",!0);return}this.webLock=i,await ep(this.manager.userID,r,e),t(),await (null==n?void 0:n.release())})}}let ey=null;function eb(){return ey}function ev(e,t){if(ey){if(ey.fileKey===e)return(0,g.Ij)("Autosave","Autosave manager already exists"),ey;(0,U.Ut)("Manager already exists. Updating file key",{"current fileKey":ey.fileKey,"new fileKey":e}),ey.terminateAndWaitForCleanup(),ey=null}return(0,g.gN)("Autosave","Create autosave manager",{fileKey:e}),ey=new eh(t,e)}function eI(){ew().catch(e=>V(e,"failed to destroy autosave manager"))}async function ew(){if((0,g.gN)("Autosave","Destroy autosave manager"),!ey){(0,g.Ij)("Autosave","No manager to destroy");return}let e=ey;ey=null,await e.terminateAndWaitForCleanup()}function eT(e,{offlineFiles:t}){let r={};for(let n in e){let e=t[n];e&&(r[n]=e)}return r}let eS=O.qO.Query({async fetch({userId:e}){if(!e)return{};let t=await ee(e),r={};for(let e of t)r[e.fileKey]=e;return r}});var eC=((n=eC||{}).OFFLINE_FILE_TILE="OFFLINE_FILE_TILE",n.EDITOR="EDITOR",n);let eA=O.qO.Mutation(({fileKey:e,name:t,source:r},{atomStore:n,query:i,reduxStore:a})=>{var o,s;if(n.set(eP,null),!t)return;let d=(null==(o=a.getState().user)?void 0:o.id)??null;i.mutate(eS({userId:d}),r=>{let n=r[e];n&&(n.name=t)});let u=null==(s=ey)?void 0:s.fileCreationManager;return u&&(u.fileKey===e?(u.updateNewFileInfo({fileName:t}),u.pendingRealFileKey&&c.x.dispatch(w.Aj({file:{key:u.pendingRealFileKey,name:t},userInitiated:!0}))):(0,U.Ut)("File key in rename mutation does not match current FileCreationManager file key",{mutationFileKey:e,fileCreationManagerFileKey:u.fileKey})),(0,l.we)("Rename New Autosave File",{source:r,isOffline:!navigator.onLine}),eg(d,e,t)}),eO=(0,p.Zf)(e=>{let t=e(T.kF),r={};if(t){let n=e(eS({userId:t}));for(let[e,t]of Object.entries((null==n?void 0:n.data)??{}))t.hasChanges&&(r[e]=t)}return r}),eN=(0,p.Zf)(e=>{let t=e(F.y),r=e(T.kF);if(t&&r){let n=e(eS({userId:r})),i=(null==n?void 0:n.data)??{};if(t in i)return i[t]}return null});function eL(){return u.qM.get(eN)}function eR(){return null!=eL()}let eP=(0,p.Zf)(null);function eM(e){u.qM.set(eP,e.fileKey)}let ek=(0,p.Zf)({});function eD(e,t){let r=u.qM.get(ek);u.qM.set(ek,{...r,[e]:t})}let eF=(0,p.Zf)(e=>{let t={...e(eO)},r=e(eP),n=e(ek),i={};for(let e in t)e in n||(i[e]=t[e]);if(r&&r in i){let e=i[r];i[r]={...e,isRenaming:!0}}return i});function ex(){return(0,u.m4)(eF)}},476868:(e,t,r)=>{"use strict";r.d(t,{M:()=>d,a:()=>c});var n=r(698240),i=r(268984),a=r(860700),o=r(323576),l=r(887540),s=r(928928);let c=(0,i.M0)((e,{entity:t,entityType:r,shape:i})=>{let l=document.createElement("input");l.type="file",l.accept="image/*",l.className=n.cx.hidden.$,l.style.display="none",l.onchange=()=>{let n=l.files;null!==n&&n.length>0&&(e.dispatch(a.IT({entity:t,entityType:r,file:n[0],shape:i||"CIRCLE"})),e.dispatch(o.A5({type:s.G,data:{}})))},document.body.appendChild(l),l.click()}),d=(0,i.M0)((e,{team:t})=>{e.dispatch(c({entity:t,entityType:l.sD.TEAM,shape:"SQUARE"}))})},142600:(e,t,r)=>{"use strict";r.d(t,{g:()=>y});var n=r(307824),i=r(120304),a=r(125504),o=r.n(a),l=r(148276),s=r(698240),c=r(560072),d=r(323576),u=r(607986),p=r(497508),m=r(203736),_=r(23024),h=r(967540),g=r(535156),f=r(620744);let E=n.memo(function(e){let t=(0,i.OY)(),{displayName:r,legalName:a}=e,[m,E]=n.useState(r||""),[y,b]=n.useState(a||""),{isLoading:v,withLoading:I}=(0,g._)(),w=()=>{t(d.oN())},T=async r=>{r.preventDefault(),await I(async()=>{if(e.updateNameImmediately&&e.team)try{await p._.updateTeamName({teamId:e.team.id,updatedDisplayName:m,updatedLegalName:y})}catch(e){throw t(h.M.error((0,c.ID)(e.data.message)||(0,c.t)("update_company_details_modal.update_team_name.error"))),e}else t(u.Av({legalName:y,displayName:m}));w()})};return n.createElement(_.Cc,{onClose:w,title:e.modalTitle,minWidth:448,maxWidth:448,fixedTop:!0},n.createElement("form",{onSubmit:T,className:s.cx.p16.$},n.createElement("div",{className:s.cx.mt4.$},n.createElement("label",{htmlFor:"teamName",className:s.cx.colorTextSecondary.$},n.createElement("strong",{className:s.cx.block.colorText.$},n.createElement(c.Tx,{id:"pro_cart.review.edit_details.team_name_label"})),n.createElement(c.Tx,{id:"pro_cart.review.edit_details.team_name_description"})),n.createElement(l.QT,{value:m,id:"teamName",onChange:e=>{E(e.target.value)},dataTestId:"company-team-name",className:s.cx.block.mt8.wFull.$})),n.createElement("div",{className:s.cx.mt20.$},n.createElement("label",{htmlFor:"legalName",className:s.cx.colorTextSecondary.$},n.createElement("strong",{className:s.cx.block.colorText.$},n.createElement(c.Tx,{id:"pro_cart.review.edit_details.company_name_label"})),n.createElement(c.Tx,{id:"pro_cart.review.edit_details.company_name_description"})),n.createElement(l.QT,{value:y,id:"legalName",onChange:e=>{b(e.target.value)},dataTestId:"company-name",className:s.cx.block.mt8.wFull.$})),n.createElement("div",{className:o()(f.hy,f.C)},n.createElement(l.Sm,{onClick:w,disabled:v},n.createElement(c.Tx,{id:"pro_cart.review.edit_details.cancel"})),n.createElement(l.Uv,{className:f.I8,disabled:v,type:"submit"},n.createElement(c.Tx,{id:"pro_cart.review.edit_details.save"})))))}),y=(0,m.U9)(E,"UpdateCompanyDetailsModal")},89352:(e,t,r)=>{"use strict";r.d(t,{AR:()=>l,Ih:()=>a,MZ:()=>o});var n=r(794880),i=r(628);new n.m([i.eK.DESIGN,i.eK.FIGJAM]),new n.m([i.eK.DESIGN,i.GW]);let a=new n.m([i.eK.DESIGN,i.eK.FIGJAM,i.eK.DEV_MODE]),o=new n.m([i.eK.DESIGN,i.GW,i.eK.DEV_MODE]);function l(e,t){let r={[i.M3]:0,[i.sd]:1,[i.GW]:2,[i.mI]:2};return r[e]-r[t]}},628:(e,t,r)=>{"use strict";let n;r.d(t,{AN:()=>g,GW:()=>c,M3:()=>l,Sw:()=>E,WU:()=>f,_2:()=>_,eK:()=>m,kl:()=>h,mI:()=>s,sd:()=>d,u0:()=>u});var i=r(916924),a=r(514916),o=((n=o||{}).DESIGN="design",n.FIGJAM="figjam",n.WHITEBOARD="whiteboard",n.DEV_MODE="dev_mode",n.SLIDES="slides",n);let l="design",s="figjam",c="whiteboard",d="dev_mode",u={DESIGN:"design",FIGJAM:"figjam"},p={DESIGN:"design",WHITEBOARD:"whiteboard"},m={DESIGN:"design",FIGJAM:"figjam",DEV_MODE:"dev_mode"},_={DESIGN:"design",WHITEBOARD:"whiteboard",DEV_MODE:"dev_mode"};function h(e){switch(e){case a.aE.DESIGN:case a.aE.SLIDES:return p.DESIGN;case a.aE.WHITEBOARD:return p.WHITEBOARD;default:(0,i.gy)(e)}}function g(e){return e===u.FIGJAM?p.WHITEBOARD:e}function f(e){return e===_.WHITEBOARD?m.FIGJAM:e}function E(e){let t=function(e){switch(e){case"design":return m.DESIGN;case"figjam":case"whiteboard":return m.FIGJAM;case"dev_mode":return m.DEV_MODE}return null}(e);return t===m.FIGJAM?_.WHITEBOARD:t}},740364:(e,t,r)=>{"use strict";r.d(t,{ED:()=>g,Mr:()=>b,X2:()=>f,qG:()=>_,uS:()=>h});var n=r(307824),i=r(120304),a=r(886420),o=r(733960),l=r(901676),s=r(514916),c=r(606500),d=r(492084),u=r(251596),p=r(815464);let m=e=>`SAVED_CART::${e}`;function _({teamId:e,userId:t}){if(!t)return null;let r=y(t);return(null==r?void 0:r.teamId)===e?r:null}function h({loadingPaidEditors:e,teamId:t,teamName:r,setTeamName:l,collaborators:d,setCollaborators:m}){let _=(0,u.C2)(),h=(0,i.w1)(e=>(t?e.teamUserByTeamId[t]:{})||{}),f=(0,i.w1)(e=>e.payment.numDesignEditors),E=(0,i.w1)(e=>e.payment.numWhiteboardEditors),b=(0,i.w1)(e=>e.payment.editorStatusChanges),v=(0,o.i)(e),I=(0,p.o9)(h,_),w=(0,p.WS)(f,(0,p.lr)(I,b,s.aE.DESIGN)),T=(0,p.WS)(E,(0,p.lr)(I,b,s.aE.WHITEBOARD)),S=(0,n.useCallback)(()=>{let e=y(null==_?void 0:_.id);if(!e)return null;let{createdAt:t,updatedAt:r,...n}=e;return n},[null==_?void 0:_.id]);(0,n.useEffect)(()=>{let n=S(),i=null!==t||r?r:null==n?void 0:n.newTeamName,o=null===t&&!d||(0,a.QZ)(d,c.w)?(null==n?void 0:n.newCollaborators)??c.w:d,s={teamId:t,editorStatusChanges:b,numEmptyDesignSeats:w,numEmptyWhiteboardSeats:T,newTeamName:i,newCollaborators:o,is3DS:null==n?void 0:n.is3DS};!e&&_&&((0,a.eG)(n,s)||g(_.id,s),v&&(l&&i!==r&&l(i||""),m&&!(0,a.QZ)(d,o)&&m(o||c.w)))},[e,v,_,t,b,w,T,S,r,l,d,m])}let g=(0,d.m)((e,t)=>{var r;try{let n=new Date().toISOString(),i={...t,createdAt:n,updatedAt:n};null==(r=(0,l.iy)())||r.setItem(m(e),E(i))}catch(e){console.error("Failed to save cart state to Local Storage")}});function f(e){var t;if(e)try{null==(t=(0,l.iy)())||t.removeItem(m(e))}catch(e){}}let E=e=>JSON.stringify(e),y=e=>{var t;if(!e)return null;try{let r=null==(t=(0,l.iy)())?void 0:t.getItem(m(e));if(r)return JSON.parse(r);return null}catch(e){return null}};function b(e,t){let r=t.map(e=>e.id),n=e=>(null==e?void 0:e.filter(e=>r.includes(e)))??[];return{upgrade:{design:n(e.upgrade.design),slides:n(e.upgrade.slides),whiteboard:n(e.upgrade.whiteboard)},downgrade:{design:n(e.downgrade.design),slides:n(e.downgrade.slides),whiteboard:n(e.downgrade.whiteboard)}}}},740516:(e,t,r)=>{"use strict";r.d(t,{En:()=>x,IN:()=>v,Kc:()=>D,MF:()=>S,Ok:()=>F,UL:()=>B,_e:()=>b,cT:()=>E,d2:()=>R,gE:()=>M,gW:()=>w,iO:()=>I,kb:()=>P,kl:()=>N,mK:()=>U,s7:()=>y,yM:()=>T});var n=r(13796),i=r(721500),a=r(843148),o=r(506616),l=r(980068),s=r(103839),c=r(874016),d=r(679804),u=r(165680),p=r(338948),m=r(88080),_=r(138780),h=r(893316),g=r(570032),f=r(763456);let E=1,y={x:16,y:-4},b={top:0,right:0,bottom:0,left:0,width:0,height:0},v={messageMeta:[],attachments:{},state:p.y.READY,anchorPosition:null,selectionBoxAnchor:null,discardAttempt:0};function I(e,t){return!t||(0,s.Y7)(t,e)}function w(e,t,r){let{messageMeta:n,attachments:i,anchorPosition:a,selectionBoxAnchor:o}=t;return{id:p.Os,key:p.Os,uuid:p.Os,anchored:!0,canvasPosition:a,selectionAnchorCanvasPosition:o,page:r,isActive:e===p.Os,comments:[],messageMeta:n,attachments:Object.values(i),pageName:null,isCanvasMention:!1,sidebarItemType:"comment-thread"}}function T(e){return e===p.Os}let S=(0,l.iI)(e=>e.map(e=>{var t;return e.user?{user_id:e.user.id,user_annotated:{id:e.user.id,handle:e.user.handle,img_url:e.user.imgUrl}}:{t:null!==e.t?e.t:void 0,link:e.link?e.link:void 0,styles:e.styles?e.styles:void 0,children:(null==(t=e.children)?void 0:t.length)?S(e.children):void 0,is_hashtag:"isHashtag"in e&&e.isHashtag?e.isHashtag:void 0}})),C=(0,l.iI)(e=>({x:e.x,y:e.y,...e.nodeId?{node_id:e.nodeId}:{},...e.inFrame?{in_frame:e.inFrame}:{},...e.nodeOffset?{node_offset:e.nodeOffset}:{},...e.selectionBoxAnchor?{selection_box_anchor:e.selectionBoxAnchor}:{},...e.stablePath?{stable_path:e.stablePath}:{}})),A=(0,l.iI)(e=>({id:e.id,handle:e.handle,img_url:e.imgUrl})),O=(e,t,r)=>{if("publicUuid"in e&&e.publicUuid)return!1;if(t.unreadComments[e.id])return!0;if(t.readComments[e.id])return!1;let n=t.allReadAt||t.createdAt;return!(e.createdAt.getTime()<=n.getTime())&&e.user.id!==r};function N(e,t,r,i,o,l,s){var c;let d=O(r,i,e),u=(0,n.ay)(r.id),p=r.messageMeta;(null==(c=r.messageMetaStylized)?void 0:c.length)&&(p=r.messageMetaStylized);let m=(0,a.Ub)().comments_faster_saving_ux?!!r.uuid&&o.has(r.uuid):void 0,_=(0,a.Ub)().comments_faster_saving_ux_v2?u||!!t.uuid&&t.uuid in l:void 0;return{id:r.id,uuid:r.uuid,key:t.key,parent_id:r.parentId,user_id:r.user.id,created_at:r.createdAt.toISOString(),resolved_at:t.resolvedAt?t.resolvedAt.toISOString():null,deleted_at:null,message_meta:S(p),attachments:s,client_meta:r.clientMeta?C(r.clientMeta):null,order_id:null!==r.orderId?r.orderId.toString():null,isUnread:d,isPendingFromSinatra:u,isSaving:m,isPendingFromLg:_,user:A(r.user)}}let L=new Date,R={id:"",userId:"",fileKey:"",createdAt:L,allReadAt:L,readComments:{},unreadComments:{}};function P(e,t,r,i,l,s,c,d){if("loaded"!==t.status)return t;let u=t.data.file;if(!u)return(0,o.uU)([]);let p=null==u?void 0:u.comments.filter(e=>!e.parentId),m=u.comments.filter(e=>e.parentId).reduce((e,t)=>{let r=e[t.parentId]||[];return r.push(t),e[t.parentId]=r,e},{}),_=u.commentAttachments.reduce((e,t)=>{if(!t.fileCommentId)return e;let r=e[t.fileCommentId]||[];return r.push(t),e[t.fileCommentId]=r,e},{}),h=l(p.filter(e=>{var t;return null==(t=e.clientMeta)?void 0:t.nodeId}).map(e=>e.clientMeta.nodeId)),g=p.map(t=>{var o,l,p;let g=t.clientMeta&&t.clientMeta.nodeId,f=i[t.id]||t.uuid&&i[t.uuid],E=null;if(f&&(null==(o=t.clientMeta)?void 0:o.selectionBoxAnchor)){let e=t.clientMeta.x-t.clientMeta.selectionBoxAnchor.x,r=t.clientMeta.y-t.clientMeta.selectionBoxAnchor.y;E={x:f.x-e,y:f.y-r}}let y=g?h[g]||(null==(l=t.clientMeta)?void 0:l.pageId)||null:(null==(p=t.clientMeta)?void 0:p.pageId)||"0:1",b=m[t.id]||[],v=[t,...b.sort((e,t)=>e.createdAt.getTime()-t.createdAt.getTime())],I=u.currentUserCommentReadStatus||R,w=v.map(r=>{let n=_[r.id]??(r.uuid&&_[r.uuid]);return N(e,t,r,I,c,d,n)}),T=(0,n.ay)(t.id),S=(0,a.Ub)().comments_faster_saving_ux?!!t.uuid&&c.has(t.uuid):void 0,C=(0,a.Ub)().comments_faster_saving_ux_v2?T||!!t.uuid&&t.uuid in d:void 0;return{id:t.id,uuid:t.uuid||void 0,key:t.key,anchored:!!f,canvasPosition:f,selectionAnchorCanvasPosition:E,page:y,pageName:y&&s[y]||null,isActive:r===t.id,isPendingFromSinatra:T,isSaving:S,isPendingFromLg:C,comments:w,messageMeta:[],attachments:[],isCanvasMention:!1,sidebarItemType:"comment-thread",commentPin:t.commentPin}});return(0,o.uU)(g)}function M(e,t,r){let{canvasPosition:n}=t,a=n&&e?(0,d.Qv)(e,n):null,o=function(e,t,r,n,a){if(!e||!t)return null;let o=("comment-thread"===n?m.Lv:m.SU).getPinSize(r).width,l=o+y.x+(0,i.I)(f.K_M)+25;return e.width-t.x-(a??0)<l?{x:-(0,i.I)(f.K_M)-y.x,y:-55}:{x:o+y.x,y:-55}}(e,a,new Set(t.comments.map(e=>e.user_id)).size,t.sidebarItemType,r),l=a&&o?s.Cg.add(a,o):null;return{...t,anchorPosition:a,threadPosition:l,threadOffset:o}}let k=(e,t,r)=>{let n=e.id;if(t.unreadCanvasMentions[n])return!0;if(t.readCanvasMentions[n])return!1;let i=t.allReadAt||t.createdAt;return!(e.createdAt.getTime()<=i.getTime())&&r!==e.id};function D(e,t,r,n,i){var a;if("loaded"!==e.status)return e;if(!e.data.file)return(0,o.uU)([]);let l={},s=((null==(a=e.data.file)?void 0:a.feedPosts)||[]).sort((e,t)=>t.createdAt.getTime()-e.createdAt.getTime()).filter(e=>!!e.org&&(0,u.Eb)(i,e.org.id)).map(e=>{var i,a;let o=e.comments.map(e=>({id:`feed_comment_${e.id}`,uuid:e.uuid,key:"",parent_id:null,user_id:e.user.id,created_at:e.createdAt.toISOString(),resolved_at:null,deleted_at:null,message_meta:S(e.messageMeta),client_meta:null,order_id:null,isUnread:!1,isPendingFromSinatra:!1,user:A(e.user),feed_id:e.id,attachments:e.attachments})),[s,...c]=(0,g.i)([e]);l[s]=l[s]+1||0;let d=r[s]??null,p=null==(i=n[e.publicUuid])?void 0:i[s],m={};for(let t of c)r[t]===d&&(m[t]=null==(a=n[e.publicUuid])?void 0:a[t]);let f=null,E=null;p&&(E={x:p.x+p.width,y:p.y},f={x:p.x,y:p.y+p.height});let y=A(e.creator),b=(0,u.SS)(e.publicUuid),v=e.content.map(e=>JSON.parse(e)),{thumbnail:I,padImage:w,thumbnailBackground:T}=(0,_.Oq)(v,e.backgroundColor??void 0);return{id:b,uuid:"",key:e.fileKey||"",anchored:!1,selectionAnchorCanvasPosition:null,page:d,pageName:null,isActive:t===b,isPendingFromSinatra:!1,canvasPosition:E,boundingBoxAnchorCanvasPosition:f,comments:[{id:b,uuid:"",key:e.fileKey||"",parent_id:null,user_id:y.id,created_at:e.createdAt.toISOString(),resolved_at:null,deleted_at:null,message_meta:S(e.descriptionMeta),client_meta:null,order_id:null,isUnread:!1,isPendingFromSinatra:!1,user:y,feed_id:e.id},...o],messageMeta:[],attachments:[],isCanvasMention:!1,sidebarItemType:"feed-post",feedPostPublicUuid:e.publicUuid,feedPostTitle:e.title,feedPostThumbnail:I,feedPostThumbnailBackground:T,feedPostNumContent:e.content.length,feedPostContainerInfo:(0,h.m0)(e),padFeedPostThumbnail:w,otherBoundingBoxes:m,pinVerticalStagger:l[s]}});return(0,o.uU)(s)}function F(e,t,r){if("loaded"!==t.status)return t;let n=t.data.file;if(!n)return(0,o.uU)([]);let i=n.fileCanvasMentions,a=n.currentUserFileCanvasMentionReadStatus||c.c3,l=i.map(t=>(function(e,t,r,n){let i=`canvas_mention_${t.id.replace(/-/g,"_")}`,a=t.id,o=k(t,r,e);return{id:i,uuid:a,key:t.fileKey,anchored:!1,canvasPosition:null,selectionAnchorCanvasPosition:null,page:null,pageName:null,isActive:n===i,isPendingFromSinatra:void 0,comments:[{id:i,uuid:a,key:a,parent_id:null,user_id:t.fileKey,created_at:t.createdAt.toISOString(),resolved_at:null,deleted_at:null,message_meta:S(t.messageMeta),client_meta:null,order_id:null,isUnread:o,isPendingFromSinatra:!1,user:A(t.mentionedByUser)}],messageMeta:S(t.messageMeta),attachments:[],isCanvasMention:!0,replyCount:void 0,sidebarItemType:"comment-thread",nodeId:t.nodeIdPath[0]}})(e,t,a,r));return(0,o.uU)(l)}function x(){return{reply:{messageMeta:[],attachments:{}},state:p.y.READY}}function U(e){let t=[];for(let r=0;r<e.message_meta.length;r++){let n=e.message_meta[r];n.hasOwnProperty("user_id")&&t.push(n.user_id)}return t}function B(e){return e.some(e=>null!=e.commentPin&&e.comments.some(e=>e.isUnread))}},467380:(e,t,r)=>{"use strict";r.d(t,{C8:()=>F,GC:()=>M,GO:()=>R,Yx:()=>x,aK:()=>k,eG:()=>D,oD:()=>P});var n=r(307824),i=r(120304),a=r(484564),o=r.n(a),l=r(562416),s=r.n(l),c=r(250008),d=r(843148),u=r(506616),p=r(980068),m=r(103839),_=r(678516),h=r(879748),g=r(570032),f=r(585508),E=r(762820),y=r(397888),b=r(514340),v=r(740516),I=r(678208),w=r(38768),T=r(503324),S=r(907152),C=r(935556),A=r(165680);let O=(0,d.Ub)().comments_new_observer,N=(e,t)=>({anchorPositionById:t(n.useMemo(()=>{if("loaded"!==e.status||!e.data.file)return{commentNodeInfoById:{},commentNodeIds:new Set,commentThreads:[]};let t=e.data.file,r=Object.create(null),n=new Set,i=t.comments.filter(e=>null===e.parentId);for(let e of i)if(e.clientMeta){let{x:t,y:i,nodeId:a,nodeOffset:o,stablePath:l}=e.clientMeta;r[e.id]={canvasPosition:{x:t,y:i},nodeId:a,nodeOffset:o,stablePath:l?`[${l.join(",")}]`:void 0},null!=a&&n.add(a)}return{commentNodeInfoById:r,commentNodeIds:n,commentThreads:i}},[e]).commentNodeInfoById)}),L="COMMENTS_ABSOLUTE_POSITIONING_UPDATER";function R(e,t){let r=n.useMemo(()=>o()(e,e=>{var t;return null==(t=e.clientMeta)?void 0:t.nodeId}),[e]),a=n.useMemo(()=>Object.keys(r),[r]),l=n.useRef({}),s=(0,i.OY)(),c=(0,w.s)(),d=n.useCallback(e=>{var t;let{nodeId:n,position:i,eventOrigins:a}=e,o=l.current[n],c=a.includes("LOCAL"),d=navigator.onLine;if(c&&d){if(null===i){let e=r[n]||[];o&&e.forEach(e=>{var t;let r=e.clientMeta;if(r){let n=(null==(t=e.clientMeta)?void 0:t.nodeOffset)||{x:0,y:0},i=m.Cg.add(o.position,n);(r.x!==i.x||r.y!==i.y)&&s(_.AL({thread:{id:e.id,uuid:e.uuid||void 0,key:e.key},clientMeta:{x:i.x,y:i.y,page_id:r.pageId||void 0,node_id:r.nodeId||void 0,node_offset:r.nodeOffset||void 0,in_frame:r.inFrame||void 0,selection_box_anchor:r.selectionBoxAnchor||void 0,stable_path:r.stablePath||void 0}}))}})}else i&&i.page!==(null==(t=null==o?void 0:o.position)?void 0:t.page)&&(r[n]||[]).forEach(e=>{var t;let r=e.clientMeta;if(r){let n=(null==(t=e.clientMeta)?void 0:t.nodeOffset)||{x:0,y:0},a=m.Cg.add(i,n);s(_.AL({thread:{id:e.id,uuid:e.uuid||void 0,key:e.key},clientMeta:{x:a.x,y:a.y,page_id:i.page,node_id:r.nodeId||void 0,node_offset:r.nodeOffset||void 0,in_frame:r.inFrame||void 0,selection_box_anchor:r.selectionBoxAnchor||void 0,stable_path:r.stablePath||void 0}}))}})}l.current[n]=e},[r,l,s]);n.useEffect(()=>{if(t.enabled&&E.i46&&c){let{currentNodePosition:e}=(0,T.S_)(L,a,d);l.current=e}return()=>{E.i46&&c&&(0,T.O4)(L)}},[a,d,t.enabled,c])}function P(){let[e,t]=n.useState(new Date);n.useEffect(()=>{if(f.CA)return O?()=>{(0,T.O4)("comments")}:(f.CA.onWatchedNodeBoundsChange(()=>{t(new Date)}),()=>{f.CA.onWatchedNodeBoundsChange(()=>{})})},[t]);let r=n.useCallback(e=>{var r;(null==(r=f.CA)?void 0:r.isReady())&&(O?(0,T.S_)("comments",e,e=>{t(new Date)}):f.CA.DEPRECATED_sendMessage("watchBoundsForNodes",{nodeIDs:e}))},[]),i=n.useCallback(e=>{var t;(null==(t=f.CA)?void 0:t.isReady())&&f.CA.DEPRECATED_sendMessage("watchBoundsForStablePaths",{stablePaths:e})},[]);return{anchorPositions:n.useCallback((0,p.ei)(t=>{var r;return(null==(r=f.CA)?void 0:r.isReady())&&e?E.i46.getCanvasSpaceCommentLocations(t):{}}),[e]),boundingBoxPositions:n.useCallback((0,p.ei)((t,r,n)=>{if(!(0,A._G)()||!r||!e)return{};let i={},a=(0,g.Y)(t,r);return n.forEach(e=>{if(e.content){let t=(0,g.i)([e]).reduce((e,t)=>a[t]?{...e,[t]:a[t]}:e,{});i[e.publicUuid]=t}}),i}),[e]),DEPRECATED_updateWatchedNodeIds:r,updateWatchedStablePaths:i}}function M(e){return n.useCallback(t=>t.reduce((t,r)=>(t[r]=(null==e?void 0:e.pageIdForNodeId(r))||null,t),{}),[e])}function k(e,t,r,a,o,l){let s=N(t,a),d=(0,i.w1)(e=>e.comments.savingCommentUuids),u=(0,i.w1)(e=>e.comments.lgPendingUuidToServerIdMap);n.useEffect(()=>{if("errors"===t.status){let e=JSON.stringify(t.errors.map(e=>{var t;return{code:e.code,path:e.path,message:(null==(t=e.error)?void 0:t.message)||""}}));console.error(`Failed to load comments: ${e}`),(0,c.we)("Livegraph Comments Errors",{errors:e})}},[t]),(0,C.Q)(e=>{var r,n,i;if("loading"!==t.status){if("errors"===t.status){e("comments_fetched",{status:t.status});return}e("comments_fetched",{count:null==(i=null==(n=null==(r=t.data)?void 0:r.file)?void 0:n.comments)?void 0:i.length,status:t.status})}},[t]);let p=n.useMemo(()=>l.filter(e=>!!("nodeId"in e?e.nodeId:e.id)).reduce((e,t)=>(e["nodeId"in t?t.nodeId:t.id]=t.name,e),{}),[l]),m=n.useMemo(()=>(0,v.kb)(e,t,r,s.anchorPositionById,o,p,d,u),[e,t,r,s.anchorPositionById,o,p,d,u]);return(0,I.u)("loaded"===m.status&&m.data||[]),m}function D(e,t,r,i){let[a,o]=n.useState({}),[l,d]=n.useState({}),p=(0,y.ct)(),m=(0,h.YT)();return n.useEffect(()=>{if(e.errors&&e.errors.length){let t=JSON.stringify(e.errors.map(e=>{var t;return{code:e.code,path:e.path,message:(null==(t=e.error)?void 0:t.message)||""}}));console.error(`Failed to load feed posts: ${t}`),(0,c.we)("Livegraph Feed Post Comments Errors",{errors:t})}},[e.errors]),n.useMemo(()=>{if((0,A._G)()&&"loaded"===e.status&&e.data.file&&(null==p?void 0:p.get)){let t=e.data.file.feedPosts,n=t.filter(e=>!!e.org&&!!m&&(0,A.Eb)(m,e.org.id)),c=(0,g.i)(n),u=r(c);Object.entries(u).every(([e,t])=>null===a[e]&&null===t||!!a[e]&&!!t&&a[e]===t)||o(u);let _=i(c,null==p?void 0:p.get.bind(p),t);Object.entries(_).every(([e,t])=>{let r=l[e];return!!r&&s()(r,t)})||d(_)}},[e,r,p,a,l,i,m]),n.useMemo(()=>m?(0,v.Kc)(e,t,a,l,m):(0,u.uU)([]),[e,t,a,l,m])}function F(e,t,r){return n.useEffect(()=>{if(t.errors&&t.errors.length){let e=JSON.stringify(t.errors.map(e=>{var t;return{code:e.code,path:e.path,message:(null==(t=e.error)?void 0:t.message)||""}}));console.error(`Failed to load canvas mentions: ${e}`),(0,c.we)("Livegraph Canvas Mention Comments Errors",{errors:e})}},[t.errors]),n.useMemo(()=>(0,v.Ok)(e,t,r),[r,t,e])}function x(e){var t,r;let n;let i=(0,b.G)(),a=(0,y.ct)();switch(i.orphanedBy){case"deleted_pages":return!e.pageName;case"deleted_anchors":if(0===e.comments.length||!(n=null==(t=e.comments[0].client_meta)?void 0:t.node_id))return!1;return!a.get(n);case"non_slide_anchors":if(0===e.comments.length||!(n=null==(r=e.comments[0].client_meta)?void 0:r.node_id))return!0;let o=S.TSSceneGraph.instance.get(n);if(!o)return!0;return!(0,S.U3)(o.findContainingSlideOrSelf());default:return!1}}},417184:(e,t,r)=>{"use strict";r.d(t,{$Q:()=>x,Al:()=>eu,Ar:()=>Z,C0:()=>J,CS:()=>k,CY:()=>A,Cm:()=>Y,E7:()=>eh,ED:()=>Q,Ep:()=>eb,GK:()=>eN,Gc:()=>et,IJ:()=>eO,IN:()=>ed,IR:()=>eU,K2:()=>eI,Mt:()=>q,O8:()=>eA,OO:()=>F,QB:()=>ec,QF:()=>W,QT:()=>eT,Qr:()=>z,SQ:()=>j,UN:()=>eC,UP:()=>ev,UR:()=>$,Uz:()=>P,Ws:()=>D,Yl:()=>R,Yz:()=>en,_:()=>N,_W:()=>T,_v:()=>ef,a:()=>ep,aO:()=>S,aW:()=>e_,c$:()=>C,eG:()=>U,gX:()=>es,iq:()=>ee,kd:()=>er,kx:()=>ek,mK:()=>eo,mg:()=>el,nR:()=>eE,o3:()=>X,o7:()=>em,ob:()=>ei,or:()=>M,oz:()=>eS,qO:()=>eM,qS:()=>eg,qk:()=>eR,s3:()=>L,s7:()=>ew,sj:()=>K,sr:()=>eP,uC:()=>ey,uW:()=>eF,wL:()=>ex,wp:()=>G,y5:()=>w,yo:()=>O,yu:()=>eL}),r(307824);var n=r(120304),i=r(250008),a=r(886420),o=r(980068),l=r(560072),s=r(693400),c=r(278392),d=r(825016),u=r(775540),p=r(983312),m=r(917452),_=r(251596),h=r(514916),g=r(553432),f=r(28464),E=r(778112),y=r(228472),b=r(640140),v=r(793944),I=r(706148);function w(e,t){return{...e&&e.versions||{},...t&&t.versions||{}}}function T(e,t,r){return e&&t&&t[e]||r}function S(e){return e&&e.trim()||""}function C(e){return e&&e.status||{code:y.YF.EDIT}}function A(e,t){let r=(0,l.t)("community.profiles.your_handle_text");return e&&0!==e.length?e.length>15?(0,l.t)("community.profiles.profile_max_15_characters_in_length",{errorStringPrefix:r}):/^[a-zA-Z0-9_]{1,15}$/.test(e)?null:(0,l.t)("community.profiles.profile_cannot_contain_special_characters",{errorStringPrefix:r}):(0,l.t)("community.publishing.profile_handle_cannot_be_empty",{errorStringPrefix:r})}function O(e,t){var r;return(null==(r=t.authedActiveCommunityProfile)?void 0:r.id)===e.id}function N(e,t){var r;let n=t.authedProfilesById[e];return(null==n?void 0:n.primary_user_id)?!!t.user&&!!(null==(r=n.associated_users)?void 0:r.find(e=>e.user_id===t.user.id)):(null==n?void 0:n.team_id)?!!(t.user&&t.teamAdminRolesForAuthedUsers[t.user.id].some(e=>e.team_id===n.team_id))||(0,g.hasAdminRoleAccessOnTeam)(n.team_id,t):null!=n&&!!n.org_id&&(0,g.canAdminOrg)(n.org_id,t)}function L(e,t){var r;return!!e&&"authedActiveCommunityProfile"in t&&e.id===(null==(r=t.authedActiveCommunityProfile)?void 0:r.id)&&N(e.id,t)}function R(e,t){return!!e.primary_user_id||"communityHub"!==t.view||"landing"!==t.subView||t.category!==u.Az&&t.sortState!==d.Oo.FOLLOWING_FEED}let P=(0,o.ei)((e,t,r,n)=>{let i=null;if(e&&t[e]){let a=(0,g.canAdminOrg)(e,{currentUserOrgId:e,user:r,orgById:t,orgUsersByOrgId:n,fileByKey:{}}),o=t[e];i={isAdmin:a,id:o.id,name:o.name,publicLinksBanned:(0,I.qO)(o.shared_org_license_group_settings)}}return i});function M(e){return P(e.currentUserOrgId,e.orgById,e.user,e.orgUsersByOrgId)}function k(){let e=(0,n.w1)(e=>e.currentUserOrgId);return P(e,(0,n.w1)(e=>e.orgById),(0,n.w1)(e=>e.user),(0,n.w1)(e=>e.orgUsersByOrgId))}let D=(0,o.ei)((e,t,r)=>{let n;let i=t.plugins.fetchedResources;switch(e){case"design":n=v.Sy.Design;break;case"dev_handoff":n=v.Sy.Handoff;break;default:n=v.Sy.FigJam}let a=[];for(let e of t.plugins[n]){let t=i[e.id];if(t&&t.version){a.push(t.version);continue}let n=r[e.id];n&&a.push(n)}return a});function F(e){return D(e.selectedView.editorType,e.recentlyUsed,e.localPlugins)}function x(e){return!!(e.plugin_install||e.plugin||e.widget||e.whitelisted_plugin||e.hub_file||e.community_comment||e.community_resource_payment)}function U(e){if(!e)throw Error((0,l.t)("community.publishing.cover_image_not_found"));if(0>["image/jpeg","image/png"].indexOf(e.type))throw Error((0,l.t)("community.publishing.cover_image_requirements"));if(e.size>j)throw Error((0,l.t)("community.publishing.cover_image_exceeds_max_size",{maxResourceSize:Math.floor(j/1e6)}));return e.size}let B=e=>e.trim().toLocaleLowerCase().replace(/^#/,"");function G(e,t){return{content:e=B(e),state:V(e)||function(e,t){for(let r=0;r<t.length;r++)if(t[r]===e)return H(e);return null}(e,t.map(e=>e.content))?f.O.ERROR:f.O.OK}}function V(e){return e.match(/^[\P{Script_Extensions=Common} _\-0-9]*$/gu)?e.match(/^[\P{Script_Extensions=Common}0-9](.*[\P{Script_Extensions=Common}0-9])?$/gu)?e.toLocaleLowerCase()!==e?(0,l.t)("community.publishing.tags_can_only_contain_lowercase_characters"):e.length>25?(0,l.t)("community.publishing.tags_can_only_have_up_to_25_characters"):e.match(/[ _-]{2,}/)?(0,l.t)("community.publishing.tags_cannot_have_consecutive_dashes_underscores_or_spaces"):(e.match(/[ _-]/g)||[]).length>2?(0,l.t)("community.publishing.tags_cannot_be_longer_than_3_words"):null:(0,l.t)("community.publishing.tags_must_begin_and_end_with_a_letter_or_number"):(0,l.t)("community.publishing.tags_can_only_contain_certain_characters")}let H=e=>(0,l.t)("community.publishing.tag_is_repeated_more_than_once",{tag:`'${e}'`});function W(e){if(e.length>12)return(0,l.t)("community.publishing.cannot_have_more_than_12_tags");let t=function(e){let t={};for(let r=0;r<e.length;r++){if(t[e[r]])return H(e[r]);t[e[r]]=!0}return null}(e);if(t)return t;for(let t=0;t<e.length;t++){let r=V(B(e[t]));if(r)return r}return null}function K(e){return e.length>ei?(0,l.t)("community.publishing.tagline_must_be_at_most_100_characters_long"):null}let Y={name:"",description:"",tags:{inputValue:"",errorMessage:"",tokens:[]},categoryId:null,creatorPolicy:"",viewerMode:h.C0.CANVAS,scalingMode:null,author:{user_id:""},commentsSetting:m.EF.ENABLED,publishers:{inputValue:"",tokens:[],errorMessage:""},blockPublishingOnToS:!1},q=["Tab","Enter",","],j=5242880,$=15728640,Z=104857600,z=100,Q=240,X=240,J=4096,ee=1024,et=12,er=10,en=60,ei=100;function ea(e){return"is_widget"in e&&e.is_widget?E.y4.WIDGET:"current_plugin_version_id"in e?E.y4.PLUGIN:E.y4.HUB_FILE}function eo(e){return"profile_handle"in e?E.OW.PROFILE:ea(e)===E.y4.HUB_FILE?E.OW.HUB_FILE:ea(e)===E.y4.WIDGET?E.OW.WIDGET:E.OW.PLUGIN}function el(e){return e>=er-1?(0,l.t)("community.publishing.cannot_have_more_than_max_publishers",{MAX_PUBLISHERS_PER_RESOURCE:er}):null}function es(e){let t={},r={},n=e.map(e=>(t[e.id]=e,r[e.author.id]=e.author,e.id));return{commentsById:t,authorsById:r,feed:n}}function ec(e){return e.publishing_status===h.VC.APPROVED_PUBLIC&&e.comments_setting!==m.EF.ALL_DISABLED}function ed(e,t){return!!(t.comments_setting!==m.EF.ALL_DISABLED&&!t.commenting_is_restricted&&!(null==e?void 0:e.community_commenting_blocked_at))}function eu(e){return!!(e&&e.primary_user_id&&e.public_at)}d.Oo.POPULAR;let ep=c.a;function em(){return(0,n.w1)(e=>e.authedActiveCommunityProfile)}function e_(){let e=(0,n.w1)(e=>e.authedActiveCommunityProfile),t=(0,n.w1)(e=>e.authedProfilesById),r=(0,n.w1)(e=>e.authedUsers.byId),i=(0,n.w1)(e=>e.orgById);if(!e)return null;if(!e.public_at){if(e.primary_user_id)return r[e.primary_user_id];if(e.org_id)return i[e.org_id]}return t[e.id]}function eh(e){let t=(0,_.C2)(),r=(0,n.w1)(e=>ef(e),a.QZ),i=(0,n.w1)(e=>eg(e)),o=(0,n.w1)(e=>"authedProfilesById"in e?e.authedProfilesById:{});if(!e)return!1;let l=o[e.id];return!!l&&((null==t?void 0:t.community_profile_id)===l.id||!!l.team_id&&!!r[l.team_id]||!!(l.org_id&&i[l.org_id]))}function eg(e){if(!("orgById"in e))return{};let t=e.orgById,r={};return Object.keys(t).forEach(n=>{(0,g.canAdminOrg)(n,e)&&(r[n]=t[n])}),r}function ef(e){if(!("user"in e)||!e.user)return{};let t=e.teamAdminRolesForAuthedUsers[e.user.id];if(!t)return{};let r={};return t.forEach(t=>{e.authedTeamsById[t.team_id]&&(r[t.team_id]=e.authedTeamsById[t.team_id])}),r}function eE(e,t){let r=e.authedProfilesById,n=e.teamAdminRolesForAuthedUsers,i={};return Object.keys(r).forEach(e=>{let a=r[e];if(a.team_id){if(t){let r=n[t];(null==r?void 0:r.some(e=>e.user_id===t&&e.team_id===a.team_id))&&(i[e]=a)}else i[e]=a}}),i}function ey({authedProfilesById:e,profileId:t,userId:r,orgId:n,teamId:i}){return t?e[t]:n?Object.values(e).find(e=>e.org_id===n)||null:i?Object.values(e).find(e=>e.team_id===i)||null:r&&Object.values(e).find(e=>{var t;return null==(t=e.associated_users)?void 0:t.find(e=>e.user_id===r)})||null}function eb(e,t){return Object.values(t).find(t=>{var r;return null==(r=t.associated_users)?void 0:r.find(r=>r.user_id===e.id&&t.public_at)})||null}function ev(){return(0,n.w1)(e=>eI(e.selectedView))}function eI(e){return"communityHub"===e.view||ew(e)||s.Og}function ew(e){return"search"===e.view&&("url:community"===e.entryPoint||"community"===e.entryPoint||"community:header"===e.entryPoint)}function eT(e){return"communityHub"===e.view&&("hubFile"===e.subView||"plugin"===e.subView)}function eS(e){return"communityHub"===e.view&&"monetizationRedirectView"===e.subView}function eC(e){return"communityHub"===e.view&&"landing"===e.subView}function eA(e){return"communityHub"===e.view&&"handle"===e.subView}function eO(e){return(0,p.I)(e)}function eN(e){var t;return(null==(t=e.community_publishers)?void 0:t.accepted.find(e=>ep(e)))||null}function eL(e,t){var r;let n=eN(t);if(n)return e.authedProfilesById[n.id]||null;let i=e.user&&eb(e.user,e.authedProfilesById);return i&&(null==(r=t.community_publishers)?void 0:r.accepted.find(e=>e.id===i.id))?i:null}function eR(e,t){var r;if(!t.user)return null;let n=eO(t),i=t.user,a=t.authedProfilesById[e.id];if(n.length<0)return null;if(null==a?void 0:a.org_id){let e=[...n,i].find(e=>{let r=a.org_id;if(!r)return!1;let n=t.orgById[r],i=t.orgUsersByOrgId.orgUsers[r][e.id];return(0,g.hasOrgAccess)(i,n,b.I$.ADMIN)})||null;return e?{userId:e.id,orgId:a.org_id}:null}if(null==a?void 0:a.team_id){let e=n.find(e=>(0,g.hasAdminRoleAccessOnTeam__DEPRECATED)(a.team_id,t,e.id))||null,i=(null==(r=t.teams[a.team_id])?void 0:r.org_id)||null;return e?{userId:e.id,orgId:i}:null}let o=n.find(t=>t.id===e.primary_user_id);return o?{userId:o.id,orgId:null}:null}function eP(e){switch(e){case E.K2.PLUGIN:return"plugins";case E.K2.WIDGET:return"widgets";case E.K2.COMMENT:return"comments";case E.K2.HUB_FILE:return"hub_files";default:throw Error("Unsupported Type")}}function eM(e,{pluralized:t,capitalized:r}={}){return function(e,{pluralized:t,capitalized:r}={}){return eD((()=>{switch(e){case E.y4.PLUGIN:return"plugin";case E.y4.WIDGET:return"widget";case"comment":return"comment";case E.y4.HUB_FILE:return"hub file";default:throw Error("Unsupported Type")}})(),{pluralized:t,capitalized:r})}((0,s.Se)(e),{pluralized:t,capitalized:r})}function ek(e,{pluralized:t,capitalized:r}={}){return e?eD(E.K2.WIDGET,{pluralized:t,capitalized:r}):eD(E.K2.PLUGIN,{pluralized:t,capitalized:r})}function eD(e,{pluralized:t,capitalized:r}={}){return e+=t?"s":"",r&&(e=e[0].toUpperCase()+e.substr(1)),e}let eF={threshold:.1,matchAllTokens:!0,tokenize:!1,distance:300},ex=[{name:"name",weight:1},{name:"description",weight:1}];function eU(e,t){(0,i.we)(d.eG.PROFILE_ADMIN_MENU_OPEN,{source:e,view:t})}},455324:(e,t,r)=>{"use strict";r.d(t,{Gg:()=>o,ML:()=>l,WA:()=>s});var n=r(936756),i=r(560072),a=r(417184);function o(e,t,r){if(0===e.length)return"";if(1===e.length)return r(e[0]);let a=e.slice(0,t-1),o=e.slice(t-1);0===o.length&&(o=[a[a.length-1]],a=a.slice(0,a.length-1));let l=1===o.length?r(o[0]):(0,i.t)("community.resource.by_x_others",{numPublishers:o.length}),s=a.map(r);return l&&s.push(l),(0,n.Oy)(s)}function l(e){let t=(0,a.GK)(e);if(t)return t.name;let r=e.community_publishers.accepted;return o(r,r.length,e=>e.name)}function s(e){let t=e.community_publishers.accepted;return e.community_publishers.pending&&(t=t.concat(e.community_publishers.pending)),t.reduce((e,t)=>{var r;let n=(null==(r=t.associated_users)?void 0:r.map(e=>e.user_id))||[];return t.primary_user_id&&e.push(t.primary_user_id),e.concat(n)},[])}},194540:(e,t,r)=>{"use strict";let n;r.d(t,{A1:()=>B,AV:()=>et,GO:()=>j,G_:()=>Z,Ks:()=>z,M6:()=>D,OG:()=>F,Qp:()=>ea,S2:()=>k,Sg:()=>ed,Su:()=>en,Uf:()=>w,Uh:()=>W,V:()=>N,WA:()=>ee,Wh:()=>M,Wi:()=>C,_4:()=>Q,_Q:()=>el,a0:()=>ec,a2:()=>K,aS:()=>O,c1:()=>S,cD:()=>X,g3:()=>L,g7:()=>x,mC:()=>T,q0:()=>eo,ug:()=>R,wl:()=>$,wt:()=>q,yK:()=>Y,y_:()=>er});var i=r(120304),a=r(439564),o=r(843148),l=r(326660),s=r(483576),c=r(58908),d=r(560072),u=r(693400),p=r(332320),m=r(417184),_=r(12832),h=r(553432),g=r(778112),f=r(228472),E=r(963280),y=r(224100),b=r(669856),v=r(658784),I=r(706148);let w=10;var T=((n=T||{})[n.NONE=0]="NONE",n[n.PENDING=1]="PENDING",n[n.DISPLAY_ONLY=2]="DISPLAY_ONLY",n[n.ADMIN_IN_DIFFERENT_WORKSPACE=3]="ADMIN_IN_DIFFERENT_WORKSPACE",n[n.ADMIN=4]="ADMIN",n[n.NONE_WITH_INHERITED_ADMIN=5]="NONE_WITH_INHERITED_ADMIN",n[n.PENDING_WITH_INHERITED_ADMIN=6]="PENDING_WITH_INHERITED_ADMIN",n[n.DISPLAY_ONLY_WITH_INHERITED_ADMIN=7]="DISPLAY_ONLY_WITH_INHERITED_ADMIN",n[n.EXPLICIT_ADMIN=8]="EXPLICIT_ADMIN",n);let S=[1,6],C=[2,7],A=[5,6,7];function O(e,t,r){var n,i;if((0,o.Ub)().cmty_deprecate_browse_as_admin)return r>=4;if((0,m.a)(e.authedActiveCommunityProfile)){let i=(0,m.GK)(t);return(null==i?void 0:i.id)===(null==(n=e.authedActiveCommunityProfile)?void 0:n.id)&&A.includes(r)}return null!=(i=e.authedActiveCommunityProfile)&&!!i.primary_user_id&&8===r}function N(e,t){var r;let n=(0,m.IJ)(e),i=!!(t.creator.id&&n.some(e=>e.id===t.creator.id));if(i&&(0,m.a)(e.authedActiveCommunityProfile)){let n=(0,m.GK)(t);return(null==n?void 0:n.id)===(null==(r=e.authedActiveCommunityProfile)?void 0:r.id)}return i}function L(e,t){var r,n,i,a,o;let l=(0,m.yu)(e,t),s=!!((null==l?void 0:l.org_id)||(null==l?void 0:l.team_id)),c=l&&(0,m.qk)(l,e),d=c&&e.user&&(0,_.Yb)(e,c),p=(0,u.Se)(t);return p!==g.y4.PLUGIN&&p!==g.y4.WIDGET||c&&c.userId!==(null==(r=e.user)?void 0:r.id)||t.creator.id!==(null==(n=e.user)?void 0:n.id)?(null==(i=t.community_publishers)?void 0:i.accepted.some(t=>{var r;return t.id===(null==(r=e.user)?void 0:r.community_profile_id)}))?s||(0,u.Se)(t)!==g.y4.HUB_FILE?c?d?s?7:2:3:2:8:(null==(o=null==(a=t.community_publishers)?void 0:a.pending)?void 0:o.some(t=>{var r;return t.id===(null==(r=e.user)?void 0:r.community_profile_id)}))?c&&d?6:1:c?d?5:3:0:8}function R(e,t){var r;if("user"in e){if(t.primary_user_id===(null==(r=e.user)?void 0:r.id))return 4;if((0,m.a)(t)){let r=(0,m.qk)(t,e),n=r&&e.user&&(0,_.Yb)(e,r);if(r&&n)return 4;if(r&&!n)return 3}}return 0}let P=e=>!0===e.is_public||null!=e.org;function M(e,t,r,n){return(0,g.OG)(e)||n?y.ag.PUBLIC:P(e.roles)?e.roles.is_public||(0,p.An)(e)?y.ag.PUBLIC:y.ag.ORG:null!=t&&r?y.ag.ORG:y.ag.PUBLIC}function k(e,t,r,n){var i;let a=W(t.team_id,r,e,t.parent_org_id||null);if(0===a.length)throw Error("Called getDefaultHubFilePublishingMetadataAuthor when no valid author exists");return U(e,a,r.authedProfilesById,null==(i=r.user)?void 0:i.id,n)}function D(e,t){if(!e)return!1;let r=e.author.id;return(0,p.pf)(r,t)}function F(e,t){return e.creator.id===t}function x(e,t){var r;if(e){let r=Y(t,e);if(r)return r}let n=q(t,e);if(0===n.length)throw Error("Called getDefaultPluginPublishingMetadataAuthor when no valid author exists");return U(e,n,t.authedProfilesById,null==(r=t.user)?void 0:r.id)}let U=(e,t,r,n,a)=>{if(0===t.length)throw Error("Called getDefaultPublishingMetadataAuthor when no valid author exists");let o=(null==e?void 0:e.id)&&Object.keys(e.versions).length>0?function(e,t,r){var n;if(((null==(n=e.community_publishers)?void 0:n.accepted)||[]).length>0){let n=(0,m.GK)(e),i=n&&t[n.id];return(null==i?void 0:i.team_id)?{team_id:i.team_id}:(null==i?void 0:i.org_id)?{org_id:i.org_id}:{user_id:r||e.creator.id}}let i=t[e.publisher.id];return i.org_id?{org_id:i.org_id}:i.team_id?{team_id:i.team_id}:{user_id:i.primary_user_id}}(e,r,n):null;if(o&&t.some(e=>B(e,o)))return o;if(a&&t.find(e=>(0,i.G)(e,a)))return a;let l=t.find(H);if(l)return l;let s=t.find(G);return s?s:t.find(V)||t[0]};function B(e,t){return"team_id"in e?"team_id"in t&&e.team_id===t.team_id:"org_id"in e?"org_id"in t&&e.org_id===t.org_id:"user_id"in e&&"user_id"in t&&e.user_id===t.user_id}let G=e=>"org_id"in e,V=e=>"team_id"in e,H=e=>"user_id"in e;function W(e,t,r,n){var i;let a=[];if(((null==(i=null==r?void 0:r.community_publishers)?void 0:i.accepted)||[]).length>0){if(!e&&!n)return[{user_id:t.user.id}];let i=r&&(0,m.GK)(r),a=i?t.authedProfilesById[i.id]:null;if(null==a?void 0:a.team_id)return(0,h.hasAdminRoleAccessOnTeam)(null==a?void 0:a.team_id,t)?[{team_id:a.team_id}]:[];if(null==a?void 0:a.org_id)return(0,h.canAdminOrg)(null==a?void 0:a.org_id,t)?[{org_id:a.org_id}]:[]}if(t.currentUserOrgId){let r=t.orgById[t.currentUserOrgId];if(!r)return[];if((0,h.canAdminOrg)(t.currentUserOrgId,t)&&(a.push({org_id:t.currentUserOrgId}),r.cmty_publish_as_user_enabled&&a.push({user_id:t.user.id})),e&&t.teams[e]){if("secret"===t.teams[e].org_access)return[];((0,I.qO)(r.shared_org_license_group_settings)?(0,h.canAdminOrg)(t.currentUserOrgId,t):(0,h.hasAdminRoleAccessOnTeam)(e,t))&&a.push({team_id:e})}return a}return e?((0,h.hasAdminRoleAccessOnTeam)(e,t)&&a.push({team_id:e}),a.push({user_id:t.user.id}),a):[{user_id:t.user.id}]}function K(e,t,r){var n,i;let a;let o=e.has_file_link_password||e.hasFileLinkPassword;a="parent_org_id"in e?e.parent_org_id:"parentOrgId"in e?e.parentOrgId:null;let l=W("team_id"in e?e.team_id:e.teamId,t,r,a||null),s=!!t.figFileDuplicatedFromHubFile[e.key],c=!r;return(0,h.canEditFile)(e.key,t)&&!("is_template"in e&&e.is_template||null!=(n=e.trackTags)&&n.isTemplate||"is_new_user_playground_library"in e&&e.is_new_user_playground_library||(null==(i=e.track_tags)?void 0:i.source)==="default")&&!o&&l.length>0&&!(s&&c)}function Y(e,t){if(t.publisher.id&&e.user)switch(t.publisher.entity_type){case f.Iv.ORG:{let r=Object.values(e.orgById).find(e=>e.community_profile_id===t.publisher.id);return{org_id:(null==r?void 0:r.id)??e.currentUserOrgId??""}}case f.Iv.TEAM:{let r=Object.values(e.teams).find(e=>e.community_profile_id===t.publisher.id);return{team_id:(null==r?void 0:r.id)||""}}default:return{user_id:t.creator.id}}return null}function q(e,t,r=!0){let n=[],i=r&&t?Y(e,t):null;return e.currentUserOrgId&&(0,h.canAdminOrg)(e.currentUserOrgId,e)&&n.push({org_id:e.currentUserOrgId}),Object.keys(e.teams).forEach(t=>{let r=e.teams[t];r&&"secret"!==r.org_access&&(0,h.hasAdminRoleAccessOnTeam)(t,e)&&n.push({team_id:t})}),n.push({user_id:e.user.id}),i&&!n.some(e=>B(e,i))&&n.unshift(i),n}function j(e,t){if(!e)return!1;let{team_id:r,org_id:n}=e;if("user_id"in t){let r=e.associated_users;return!!t.user_id&&t.user_id===e.primary_user_id||(null==r?void 0:r.some(e=>e.user_id===t.user_id))}return"team_id"in t&&r===t.team_id||"org_id"in t&&n===t.org_id}function $(e,t){var r,n,i;if("org_id"in e)return(null==(r=t.orgById[e.org_id])?void 0:r.name)??null;if("team_id"in e)return(null==(n=t.teams[e.team_id])?void 0:n.name)??null;{let e=t.user&&(0,m.Ep)(t.user,t.authedProfilesById);return(null==e?void 0:e.public_at)&&(null==e?void 0:e.name)?e.name:(null==e?void 0:e.public_at)&&(null==e?void 0:e.profile_handle)?`@${e.profile_handle}`:(null==(i=t.user)?void 0:i.handle)||null}}function Z(e){return new Promise((t,r)=>{if(!e){r(Error("Failed to load image bytes without file object"));return}let n=new FileReader;function i(e){if("load"!==e.type||"string"==typeof n.result||!n.result){r(Error(`Failed to load image bytes: event=${e.type}`));return}t(n.result)}n.addEventListener("load",i),n.addEventListener("abort",i),n.addEventListener("error",i),n.readAsArrayBuffer(e)})}function z(e,t){var[r,n]=e.split(",");let i=atob(n),a=[];for(var o=0;o<i.length;o++)a.push(i.charCodeAt(o));let l=r.split(/;|:/)[1];return new Blob([new Uint8Array(a)],{type:l})}function Q(e,t="Image",r=E.cL){if(!e)throw Error((0,d.t)("community.publishing.error_thumbnail_image_not_found",{filename:t}));if(0>r.indexOf(e.type))throw Error((0,d.t)("community.publishing.error_thumbnail_image_wrong_format",{filename:t}));if(e.size>m.SQ)throw Error((0,d.t)("community.publishing.error_thumbnail_image_too_large",{filename:t,max_size:Math.floor(m.SQ/1e6)}));return e.size}function X(e){return new Promise((t,r)=>{let n=new Image;n.onload=()=>t(n),n.onerror=r,n.src=e})}let J=new Set;async function ee(e,t){if(null===e.files||0===e.files.length)throw Error((0,d.t)("community.publishing.error_thumbnail_image_not_found_no_filename"));t&&el(t);let r=e.files[0];Q(r,(0,d.t)("community.publishing.thumbnail_image"),[...E.cL,"image/svg+xml"]);let[n,i]=await Promise.all([X(URL.createObjectURL(r)),Z(r)]);return J.add(n.src),{url:n.src,buffer:new Uint8Array(i)}}async function et(e,t){let r=[];for(let n=0;n<Math.min(w,e.length);n++){let i=e[n];if(t&&i.type.startsWith("video/")){!function(e,t,r="Video"){if(!e)throw Error((0,d.t)("community.publishing.error_thumbnail_image_not_found",{filename:r}));if(!E.Sy.includes(e.type))throw Error((0,d.t)("community.publishing.error_video_wrong_format",{filename:r}));if(e.size>m.Ar)throw Error((0,d.t)("community.publishing.error_thumbnail_image_too_large",{filename:r,max_size:Math.floor(m.Ar/1e6)}))}(i,i.name);let e=URL.createObjectURL(i);await Promise.all([es(i),(0,b.gt)(e),ei(e,i.name)]).then(([t,n])=>{let i=URL.createObjectURL(new Blob([n]));J.add(e),J.add(i),r.push({url:e,buffer:t.bytes,sha1:t.sha1,type:"video",thumbnail_url:i,thumbnail_buffer:n,thumbnail_sha1:(0,s.ie)(n)})}).catch(e=>{throw Error(e)})}else Q(i,(0,d.t)("community.publishing.carousel_media_image"),[...E.cL,"image/svg+xml"]),await Promise.all([X(URL.createObjectURL(i)),Z(i)]).then(([e,t])=>{J.add(e.src);let n=new Uint8Array(t);r.push({url:e.src,buffer:n,sha1:(0,s.ie)(n),type:"image"})}).catch(e=>{throw Error(e)})}return r}async function er(e,t){return null===e.files||0===e.files.length?Promise.resolve([]):await et(e.files,t)}function en(e){if(!e||!e.length)return(0,d.t)("community.publishing.upload_at_least_one_image")}let ei=(e,t)=>new Promise((r,n)=>{let i=document.createElement("video");i.preload="metadata",i.addEventListener("error",e=>{n(e.message)}),i.addEventListener("loadedmetadata",()=>{i.duration>30&&n((0,d.t)("community.publishing.error_video_too_long",{filename:t,max_length:30})),r(i)}),i.src=e,i.currentTime=0,i.load(),setTimeout(()=>{n("Video load timeout during video length validation")},1e4)});function ea(e){let t=[],r=[],n=[];if(!e)return{uploadImages:t,uploadVideos:r,allMedia:n};for(let i=0;i<e.length;i++){let a=e[i];if(a.buffer&&a.buffer.length){if("video"===a.type){if(!a.thumbnail_buffer)throw Error((0,d.t)("community.publishing.error_video_thumbnail_not_found"));let e={carousel_position:i,sha1:(0,s.ie)(a.buffer),bytes:a.buffer,video_thumbnail_buffer:a.thumbnail_buffer,video_thumbnail_sha1:(0,s.ie)(a.thumbnail_buffer)};r.push(e)}else{let e={carousel_position:i,sha1:(0,s.ie)(a.buffer)};t.push(e),n.push(e)}}else if(a.sha1){let e="video"===a.type?{carousel_position:i,sha1:a.sha1,video_file_uuid:a.video_file_uuid,video_thumbnail_sha1:a.thumbnail_sha1}:{carousel_position:i,sha1:a.sha1};n.push(e)}}return{uploadImages:t,uploadVideos:r,allMedia:n}}function eo(e,t){return t&&(null==t?void 0:t.length)&&(null==e?void 0:e.length)?e.map(({url:e,fields:r,carousel_position:n})=>{let i=t[n];if(!i||!i.buffer)return Promise.resolve(!1);let o=new FormData;return Object.entries(r).forEach(([e,t])=>o.append(e,t)),o.set("content-type",(0,a._)(i.buffer)??"image/png"),o.append("file",new Blob([i.buffer])),fetch(e,{method:"POST",body:o}).then(()=>!0).catch(e=>{var t;throw(0,l.oP)(c._.COMMUNITY,e),Error((0,d.t)("community.actions.error_uploading_carousel_image_error",{error:(0,d.ID)(e,(null==(t=e.data)?void 0:t.message)||"unknown error")}))})}):[]}function el(e){e&&J.has(e.url)&&(URL.revokeObjectURL(e.url),J.delete(e.url),"type"in e&&"video"===e.type&&J.has(e.thumbnail_url)&&(URL.revokeObjectURL(e.thumbnail_url),J.delete(e.thumbnail_url)))}async function es(e){let t=new Uint8Array(await Z(e));return{sha1:(0,s.ie)(t),bytes:t}}function ec(e){if(!e.currentUserOrgId)return!1;let t=(0,v.s5)(e);return!(t&&t.agreed_to_community_tos_at)}function ed(e,t){return Object.entries(t).reduce((t,[r,n])=>t+Number(e.includes(r)&&!!n),0)}},523292:(e,t,r)=>{"use strict";r.d(t,{Aj:()=>h,Ar:()=>v,If:()=>f,MP:()=>y,O0:()=>g,UF:()=>E,Y5:()=>b});var n=r(307824),i=r(120304),a=r(693400),o=r(907236),l=r(191352),s=r(790184),c=r(628128),d=r(629968),u=r(762820),p=r(392992),m=r(124664),_=r(868356);function h(e){return 22!==e.length&&!e.match(/\D/)}function g(e){return(0,n.useMemo)(()=>e&&h(e)?e:null,[e])}function f(e){let{name:t}=(0,a.EK)(e),{id:r,thumbnail_url:n}=e;return{name:t,key:r,type:s.wD,thumbnail_url:n}}function E(e){let{library_file_name:t,library_file_key:r,thumbnail_url:n}=e;return{name:t,key:r,type:s.wD,thumbnail_url:n}}function y(e){let{file:t,components:r,stateGroups:n,styles:i,variables:a,variableSets:o}=e,{name:l,key:s,type:c,thumbnail_url:d}=t;return{library_file_key:s,library_file_name:l,thumbnail_url:d,num_components:r.length,num_state_groups:n.length,num_styles:i.length,num_variable_collections:o.length,num_variables:a.length,num_module_assets:0,type:c}}function b(e,t){let r=t[e];return!!r&&"apple"===r.publisher.profile_handle.toLowerCase()}function v(){var e;let t=(0,i.OY)(),r=(0,m.KU)([c.Un]),a=(0,d.a0)(),s=(0,d.a0)("assets"),h=(0,m.sD)(),g=(0,l.K4)(),f=null==(e=(0,p.AL)())?void 0:e.canEdit;n.useEffect(()=>{if(g&&f&&h&&!r&&a()){let e=(0,_.uq)();t(o.wN({tab:null===e?s()?u.W8r.ASSETS:u.W8r.LAYERS:e,persist:!0}))}},[t,f,g,a,s,h,r])}},990732:(e,t,r)=>{"use strict";let n;r.d(t,{C0:()=>z,CI:()=>ee,Cw:()=>el,EV:()=>ei,Eq:()=>ea,MD:()=>G,Mn:()=>er,O4:()=>B,OY:()=>eo,Y1:()=>V,cJ:()=>Q,iI:()=>Y,iK:()=>q,ii:()=>J,iy:()=>Z,m2:()=>U,oj:()=>et,q4:()=>H,sl:()=>K,tF:()=>x,wR:()=>j,y2:()=>en});var i=r(307824),a=r(120304),o=r(250008),l=r(688420),s=r(161400),c=r(656716),d=r(843148),u=r(901676),p=r(816596),m=r(967540),_=r(560072),h=r(317704),g=r(337384),f=r(693400),E=r(212980),y=r(332320),b=r(312920),v=r(323576),I=r(584208),w=r(750908),T=r(894764),S=r(983312),C=r(778112),A=r(557188),O=r(224100),N=r(518413),L=r(685568),R=r(723784),P=r(581564),M=r(492084),k=r(251596),D=r(325252);function F(e,t,r,n){return i=>{i(v.us({type:L.u.type,data:{userId:e.id,resource:t,onSuccess:()=>{i(r=>{((0,C.gD)(t)||(0,C.mc)(t))&&r(I.Qi(t,e.id))}),r&&r()},onCancel:n}}))}}let x=(0,M.w)((e,t,r,n,i,a)=>{let o=(0,d.Ub)().community_hub_admin&&r&&(0,y.An)(r);return new Promise(s=>{let d=()=>{if(t){if(n||o){var i;e((i=()=>{Q({type:"PAID"}),s()},e=>{e(v.us({type:L.u.type,data:{userId:t.id,resource:r,localResource:n,onSuccess:i,onCancel:s,noInteractionMode:!0}}))}));return}(0,C.OG)(r)?e(F(t,r,()=>s(),()=>s())):l.g.error("Can only initiate checkout for a monetized or local resource.")}else{e(e=>{e(p.a.init({origin:"freemium_checkout_modal_in_open_session",redirectUrl:c.default.location.pathname,signedUpFromOpenSession:!0})),e((0,v.A5)({type:N.A,data:{headerText:(0,_.t)("fullscreen.toolbar.log_in_to_do_more_with_figjam")}}))});return}};a===R.K.SKIP?d():e(v.us({type:R.U.type,data:{type:t?a||R.K.PAID_FEATURE:R.K.LOGGED_OUT,onContinue:d,onClose:s,plugin:r&&(0,D.Y9)(r)||n||i,monetizedResourceMetadata:null==r?void 0:r.monetized_resource_metadata}}))})});function U(e){let t=(0,a.OY)(),r=(0,a.w1)(e=>e.authedActiveCommunityProfile),n=(0,a.w1)(e=>e.authedUsers),l=(0,g.q)(e);return i.useCallback(()=>{if(!e)return;let i=(0,E.OI)(l),a=(0,C.OG)(e);if((0,o.we)("cmty_resource_usage_action",{resourceType:(0,f.qC)(e),resourceId:e.id,profileId:null==r?void 0:r.id,hasActiveCommunityResourcePayment:i,isMonetizedResource:a}),!a||i||!1===B(r,n,e))return;let s=(0,S.I)({authedActiveCommunityProfile:r,authedUsers:n}),{usersCanPurchase:c,publishers:d}=(0,E.Kj)(s,e);if((0,o.we)("Checkout Flow Entered",{resourceType:(0,f.qC)(e),resourceId:e.id,numLoggedInAssociatedUsersThatCanPurchase:c.length,numLoggedInAssociatedPublishers:d.length}),1===c.length&&0===d.length){t(F(c[0],e));return}t((0,v.A5)({type:P.w,data:{onUserSelect:r=>{(0,o.we)("Pre Purchase User Selector Modal - User Selected",{resourceType:(0,f.qC)(e),resourceId:e.id,userIdForPurchase:r.id}),t(F(r,e))},resource:e}}))},[e,l,r,n,t])}function B(e,t,r){if(!(0,C.OG)(r))return!1;let n=(0,S.I)({authedActiveCommunityProfile:e,authedUsers:t}),{usersCanPurchase:i,publishers:a}=(0,E.Kj)(n,r);return(0!==i.length||0!==a.length)&&(0!==i.length||0===a.length)}function G(e){let t=(0,a.OY)(),r=(0,g.q)(e);return i.useCallback(()=>{e&&(0,E.OI)(r)&&(t(m.M.flash((0,_.t)("community.buyer.redirecting_to_stripe"))),t(b.a({})))},[e,r,t])}function V(e,t){let r=(null==t?void 0:t[e.monetized_resource_metadata.id])||e.community_resource_payment;return(0,E.OI)(r)}function H(e,t){let{publishers:r}=(0,E.Kj)([t],e);return r.length>0}function W(e,t,r){return!(!e||!(0,C.OG)(e)||(0,C.YV)(e)||!(0,C.SC)(e)&&((0,O.xi)(e)||(0,C.GU)(e))||r&&H(e,r))&&!V(e,t)}function K(){return(0,a.w1)(e=>e.communityPayments)}function Y(e){return W(e,K(),(0,k.C2)()||void 0)}function q(e){let t=K();return(0,C.OG)(e)&&V(e,t)}function j(e){return W(e,s.x&&s.x.getState().communityPayments,s.x&&s.x.getState().user||void 0)}let $="local-resource-payment";var Z=((n=Z||{}).PAID="PAID",n.UNPAID="UNPAID",n.NOT_SUPPORTED="NOT_SUPPORTED",n);function z(){return(0,u.AP)().get($)}function Q(e){(0,u.AP)().set($,e)}function X(e,t){if(t&&(0,C.OG)(t))return(null==e?void 0:e[t.monetized_resource_metadata.id])||t.community_resource_payment}function J(e){return X(K(),e)}function ee(e){let t=(0,a.w1)(t=>(0,D.QT)(e,t.publishedPlugins)),r=J(t);return i.useMemo(()=>t?{...t,community_resource_payment:r}:t,[r,t])}function et({extension:e,publishedPlugins:t,publishedWidgets:r,communityPaymentsState:n}){let i=((0,O._2)(e)?r:t)[e.plugin_id];if(!i)return;let a=X(n,i);return{...i,community_resource_payment:a}}function er(e){let t=(0,T.So)()[e],r=J(t);return i.useMemo(()=>t?{...t,community_resource_payment:r}:t,[r,t])}function en(e){let t=(0,a.w1)(t=>t.publishedWidgets[e]),r=J(t);return i.useMemo(()=>t?{...t,community_resource_payment:r}:t,[r,t])}function ei(e){let t=(0,T.KM)()[e],r=J(t);return i.useMemo(()=>t?{...t,community_resource_payment:r}:t,[r,t])}function ea({isWidget:e,id:t}){let r=(0,a.OY)(),n=i.useCallback(()=>{r(w.mW({id:t,isWidget:e}))},[r,t,e]);return i.useCallback(()=>{r(h.A.enqueue({message:e?(0,_.t)("community.buyer.paid_widgets_cannot_be_added_to_the_canvas_before_purchase"):(0,_.t)("community.buyer.paid_plugins_cannot_be_run_before_purchase"),error:!0,button:{text:(0,_.t)("community.buyer.buy"),action:n},type:e?"widget_requires_payment":"plugin_requires_payment"}))},[r,e,n])}function eo(e){let t=J(e);return!!t&&(0,E.cb)(t)}function el(e){let t=J(e);return!!t&&(0,E.ue)(t,A.S4.PENDING)}},148812:(e,t,r)=>{"use strict";let n;r.d(t,{C2:()=>w,C8:()=>ei,CG:()=>N,Cq:()=>R,Cs:()=>A,IG:()=>P,JI:()=>T,KC:()=>U,Os:()=>Y,QH:()=>ea,Qp:()=>S,S2:()=>C,S8:()=>ec,SA:()=>el,SM:()=>B,Uv:()=>es,YP:()=>F,a8:()=>ed,ak:()=>M,cF:()=>G,cP:()=>V,e6:()=>W,i4:()=>K,kN:()=>I,oh:()=>q,ot:()=>x,q8:()=>D,qO:()=>H,sv:()=>L,wt:()=>O});var i=r(250008),a=r(139776),o=r(51408),l=r(161400),s=r(742756),c=r(980068),d=r(50451),u=r(557044),p=r(762820),m=r(783932),_=r(31948),h=r(790184),g=r(668348),f=r(150779),E=r(492084),y=r(555168);let b=e=>{let t=p.i46.getDefaultStateForLocalStateGroup(e)||e,[r,n]=p.ui7.generateThumbnailForNode(t,768,768,2,{});return n},v=Object.create(null);function I(e){return R(b(e))}let w="FAILED_THUMBNAIL",T="LOADING_THUMBNAIL";function S(e){return!(!e||e===w||e===T||e.startsWith("blob:")&&!v[e])}function C(e,t){let[r,n]=p.ui7.generateThumbnailFromStyleMaster(e,t,18,18,2);return r&&r.status===T?T:R(n)||(console.error(`failed to generate thumbnail for node ${e}`),w)}function A(e,t){let[r,n]=p.ui7.generateThumbnailFromStyleConsumer(e,t,18,18);return R(n)||(console.error(`failed to generate thumbnail for node ${e}`),w)}function O(e,t,r){if(!(0,_.WG)(e))return{type:"INVALID"};let n=p.ui7.generateSerializableThumbnailForStyle(t||"",e,r||""),i=n.length>0?d.O.decodeMessage(n):null,a=i&&i.nodeChanges&&i.nodeChanges[0]||null;return a?(0,_.GK)(a,e):(console.error(`failed to generate serializable thumbnail for node ${t}`),{type:"INVALID"})}function N(e){return!!L(e)}function L(e){if("FILL"!==e.type)return null;let t=e.fillPaints;if(!t||1!==t.length)return null;let r=t[0];return"SOLID"!==r.type||null==r.color||null==r.opacity?null:{...r.color,a:r.opacity}}function R(e){if(e.length>0){let t=URL.createObjectURL(new Blob([e]));return v[t]=e,t}return null}function P(e){let t=v[e];if(!t)throw Error(`No buffer in cache for thumbnail url ${e}`);return t}function M(e){v[e]&&(URL.revokeObjectURL(e),delete v[e])}let k=null;(()=>{if(!document)return;let e=document.createElement("canvas");e.width=1,e.height=1,e.toBlob&&e.toBlob(e=>{let t=new FileReader;t.onload=()=>{k=R(new Uint8Array(t.result))},t.readAsArrayBuffer(e)},"image/png")})();let D=()=>k;function F(e,t){let r=e=>{let t=e.toFixed(1);return"0"===t.slice(-1)?e.toFixed(0):t};if(!(e.metrics&&e.metrics.fontSize&&e.metrics.lineHeight))return"";let n=" \xb7 "+r(e.metrics.fontSize);if(!t)return n;{let t=e.metrics.lineHeight;return"PERCENT"===t.units&&100===t.value?n+"/Auto":"RAW"===t.units?n+"/"+r(100*t.value):n+"/"+r(t.value)}}function x(e){let[t,r]=p.w3.generatePublishableBufferForStyleOrSymbol(e);return{buffer:r,version:null==t?void 0:t.version}}function U(e){let[t,r]=p.w3.generatePublishableBufferForVariableSet(e);return{buffer:r,version:null==t?void 0:t.version}}function B(e){let t=Object.keys(e).map(t=>e[t]).filter(e=>!e.unpublished_at);return(0,a.E1)(t,"name"),t}let G=(0,E.w)(e=>e===h.Av.CURRENT||e===h.Av.CHANGED||e===h.Av.DELETED),V=(0,c.ei)(e=>{let t={};return Object.keys(e).forEach(r=>{t[r]={},Object.keys(e[r]).forEach(n=>{t[r][n]=H(e[r][n])})}),t});function H(e){var t;let r={};for(let n in e){let i=e[n];(null==(t=i.containing_frame)?void 0:t.containingStateGroup)==null&&(r[n]={...i})}return r}let W=(0,c.ei)(e=>{let t=H(e.local.components);for(let r in e.local.stateGroups)t[r]=e.local.stateGroups[r];return t});function K(e){return(0,m.QZ)(e).join("/")}function Y(e,t){var r,n;let i=t.some(t=>{var r,n,i,a;return(null==(r=t.containing_frame)?void 0:r.pageId)===(null==(n=e.containing_frame)?void 0:n.pageId)&&(null==(i=t.containing_frame)?void 0:i.nodeId)!==(null==(a=e.containing_frame)?void 0:a.nodeId)}),a=[];i&&(null==(n=null==(r=e.containing_frame)?void 0:r.name)?void 0:n.trim().length)&&a.push(e.containing_frame.name);let o=(0,m.QZ)(e.name).map(e=>e.trim()).filter(e=>""!==e);return o.pop(),a.push(...o),a}function q(e,t){var r,n,i,a;let o=Y(e,t);return t.some(t=>{var r,n,i,a;return(null==(n=null==(r=t.containing_frame)?void 0:r.pageName)?void 0:n.trim())!==(null==(a=null==(i=e.containing_frame)?void 0:i.pageName)?void 0:a.trim())})&&(null==(n=null==(r=e.containing_frame)?void 0:r.pageName)?void 0:n.trim().length)&&o.unshift(null==(a=null==(i=e.containing_frame)?void 0:i.pageName)?void 0:a.trim()),o}async function j(e,t){return await Q(e,t,h.Af.COMPONENT)}async function $(e,t){return await Q(e,t,h.Af.STATE_GROUP)}async function Z(e,t){return await Q(e,t,h.Af.VARIABLE)}async function z(e,t){return await Q(e,t,h.Af.VARIABLE_SET)}async function Q(e,t,r){let n="",i="";switch(r){case h.Af.VARIABLE:n="/api/variable_log_data",i="variables";break;case h.Af.VARIABLE_SET:n="/api/variable_set_log_data",i="variable_sets";break;case h.Af.STATE_GROUP:n="/api/state_group_log_data",i="state_groups";break;case h.Af.COMPONENT:n="/api/component_log_data",i="components"}let a=[],o=(await u.cp.post(n,{[i]:e,fv:t.toString()})).data.meta[i];if(o.length<e.length)for(let t of e)(r===h.Af.COMPONENT?o.find(e=>e.component_key===t.key&&e.content_hash===t.version):o.find(e=>e.key===t.key&&e.version===t.version))||console.error(`Asset data for ${r} key ${t.key} version ${t.version} is missing. Does the user have proper access to the asset?`);for(let e of o)r!==h.Af.VARIABLE_OVERRIDE&&(e.type=r,e.canvas_url&&0!==e.canvas_url.length?a.push(e):e.type===h.Af.COMPONENT?console.error(`Canvas URL missing from ${r} ${e.component_key} version ${e.content_hash}.`):console.error(`Canvas URL missing from ${r} ${e.key} version ${e.version}.`));return a}function X(e){let t=e&&e.status;return Number.isInteger(t)&&t>=0?t:-1}function J(e){let t=X(e);return t>=400&&t<500}let ee=e=>{let t=function(e,t){let r=e&&e.data&&e.data.message;return"string"==typeof r&&r.length>0?r:t}(e,"please try again later"),r=X(e);return r>0?t+=` (status ${e.data.status})`:0===r&&(t+=" (must be online)"),t};function et(e){switch(e.type){case h.Af.COMPONENT:return`component/${e.component_key}/${e.content_hash}`;case h.Af.STATE_GROUP:return`state_groups/${e.key}/${e.version}`;case h.Af.VARIABLE:case h.Af.VARIABLE_SET:return`variable_set/${e.key}/${e.version}`;case h.Af.MODULE:return`module/${e.key}/${e.version}`}}var er=((n=er||{}).PERMANENT_ERROR="permanent-error",n.TRANSIENT_ERROR="transient-error",n.UPSERT_SHARED_SYMBOL_ERROR="shared-symbol-error",n.UPSERT_SHARED_STATE_GROUP_ERROR="shared-state-group-error",n.UPSERT_SHARED_VARIABLE_SET_ERROR="shared-variable-set-error",n.UPSERT_SHARED_VARIABLE_ERROR="shared-variable-error",n.UPSERT_SHARED_MODULE_ERROR="shared-module-error",n.UNCAUGHT_ERROR="uncaught-error",n.SUCCESS="success",n);async function en(e,t,r){try{let n;try{n=await es.getCanvas({canvas_url:function(e,t){switch(e.type){case h.Af.COMPONENT:return e.canvas_url+"&fv="+t.toString();case h.Af.STATE_GROUP:return`/state_group/${e.key}/version/${e.version}/canvas?fv=${t}`;case h.Af.VARIABLE:case h.Af.VARIABLE_SET:case h.Af.MODULE:return e.canvas_url}}(e,t)})}catch(t){if(J(t))return console.warn("Permanent error",t,"status",X(t),"for entry",et(e)),{resultType:"permanent-error"};return console.warn("Transient error",t,"status",X(t),"for entry",et(e)),{resultType:"transient-error",transientError:t}}return{resultType:y.Pc.system("upsert-asset-from-log",()=>(function(e,t,r){let n,i;switch(e.type){case h.Af.COMPONENT:n=p.w3.upsertSharedSymbol(e.component_key,e.content_hash,e.file_key,t,r,p.MTb.ACTIVE_SCENE),i="shared-symbol-error";break;case h.Af.STATE_GROUP:n=p.w3.upsertSharedStateGroup(e.key,e.version,e.file_key,t,r,p.MTb.ACTIVE_SCENE),i="shared-state-group-error";break;case h.Af.VARIABLE:n=p.w3.upsertSharedVariable(g._2(e.key,e.version),t,r),i="shared-variable-error";break;case h.Af.VARIABLE_SET:n=p.w3.upsertSharedVariableSet(f._2(e.key,e.version),t,r),i="shared-variable-set-error";break;case h.Af.MODULE:n=void 0,i="shared-module-error"}if(!n||n.fileUpdateRequired)return i;if(!n.localGUID){if(e.type===h.Af.COMPONENT)return console.error(`Couldn't upsert shared component in scene for key ${e.component_key} version ${e.content_hash}.`),i;if(e.type===h.Af.STATE_GROUP)return console.error(`Couldn't upsert shared state group in scene for key ${e.key} version ${e.version}.`),i}return"success"})(e,r,n)),bytesAdded:n.byteLength}}catch(t){return console.error("Uncaught error",t,"during buffer processing of",et(e)),{resultType:"uncaught-error"}}}async function ei(e,t,r,n,a){try{let e;let o=Date.now(),l=0,s={"permanent-error":0,"transient-error":0,"shared-symbol-error":0,"shared-state-group-error":0,"uncaught-error":0,success:0,"shared-variable-error":0,"shared-variable-set-error":0,"shared-module-error":0},c=-1,d=[];if(t.length>0)try{d=await j(t,a)}catch(t){J(t)?s["permanent-error"]++:(s["transient-error"]++,e=t),c=X(t),d=[]}for(let t of d){let{resultType:r,bytesAdded:i,transientError:o}=await en(t,a,n);s[r]++,l+=i??0,o&&(e=o)}let u=[];if(r.length>0)try{u=await $(r,a)}catch(t){J(t)?s["permanent-error"]++:(s["transient-error"]++,e=t),c=X(t),u=[]}for(let t of u){let{resultType:r,bytesAdded:i,transientError:o}=await en(t,a,n);s[r]++,l+=i??0,o&&(e=o)}if((0,i.we)("publishing_buffer_fetch",{latency:Date.now()-o,num_versions_fetched:d.length+u.length,num_success:s.success,total_bytes:l,failed_to_upsert_in_scene:s["shared-symbol-error"]+s["shared-state-group-error"],permanent_errors:s["permanent-error"],transient_errors:s["transient-error"],uncaught_errors:s["uncaught-error"],log_data_error_status:c}),s["transient-error"]>0)return Promise.reject(Error(ee(e)));return Promise.resolve(!0)}catch(e){return Promise.reject(Error(ee(e)))}}async function ea(e,t,r,n){try{let a;let o=Date.now(),l=0,s={"permanent-error":0,"transient-error":0,"shared-variable-error":0,"shared-variable-set-error":0,"uncaught-error":0,success:0,"shared-symbol-error":0,"shared-state-group-error":0,"shared-module-error":0},c=-1,d=[];if(e.length>0)try{d=await z(e,n)}catch(e){J(e)?s["permanent-error"]++:(s["transient-error"]++,a=e),c=X(e),d=[]}for(let e of d){let{resultType:t,bytesAdded:i,transientError:o}=await en(e,n,r);s[t]++,l+=i??0,o&&(a=o)}let u=[];if(t.length>0)try{u=await Z(t,n)}catch(e){J(e)?s["permanent-error"]++:(s["transient-error"]++,a=e),c=X(e),u=[]}for(let e of u){let{resultType:t,bytesAdded:i,transientError:o}=await en(e,n,r);s[t]++,l+=i??0,o&&(a=o)}if((0,i.we)("variable_publishing_buffer_fetch",{latency:Date.now()-o,num_versions_fetched:d.length+u.length,num_success:s.success,total_bytes:l,failed_to_upsert_in_scene:s["shared-variable-set-error"]+s["shared-variable-error"],permanent_errors:s["permanent-error"],transient_errors:s["transient-error"],uncaught_errors:s["uncaught-error"],log_data_error_status:c}),s["transient-error"]>0)return Promise.reject(Error(ee(a)));return Promise.resolve(!0)}catch(e){return Promise.reject(Error(ee(e)))}}let eo=class{constructor(){this.canvasCache=Object.create(null),this.canvasRequestsInFlight=Object.create(null),this.thumbnailCache=new s.o(eo.MAX_VARIABLE_SET_THUMBNAILS),this.thumbnailRequestsInFlight=Object.create(null),this.getCanvas=({canvas_url:e})=>{if(!e)return Promise.reject(Error("No canvas URL"));let t=eo.augmentUrlWithFileVersion(e);if(t in this.canvasCache)return Promise.resolve(this.canvasCache[t]);if(t in this.canvasRequestsInFlight)return this.canvasRequestsInFlight[t];{let e=(0,u.Gg)(t,null,{responseType:"arraybuffer"}).then(({data:e})=>(this.canvasCache[t]=e,e)).catch(e=>{throw console.warn("Team library cache error on get() with status",X(e),"with error",e),e}).finally(()=>{delete this.canvasRequestsInFlight[t]});return this.canvasRequestsInFlight[t]=e,e}},this.getVariableSetThumbnails=e=>{if(!e)return Promise.reject(Error("No canvas URL"));if(this.thumbnailCache.has(e))return Promise.resolve(this.thumbnailCache.get(e));if(e in this.thumbnailRequestsInFlight)return this.thumbnailRequestsInFlight[e];{let t=(0,u.Gg)(e,null,{responseType:"arraybuffer"}).then(({data:t})=>{let r=function(e){let t={};for(let r of Object.keys(e)){let n=f.K0(r);n?t[f.MR(n)]=e[r]:console.error(`Received invalid collection ID in thumbnails response: ${r}`)}return t}(JSON.parse(new TextDecoder("utf-8").decode(t)));return this.thumbnailCache.set(e,r),r}).catch(e=>{throw console.warn("Team library cache error on get() with status",X(e),"with error",e),e}).finally(()=>{delete this.thumbnailRequestsInFlight[e]});return this.thumbnailRequestsInFlight[e]=t,t}},this.putCanvas=(e,t)=>{this.canvasCache[e]=t},this.hasKeyInCache=e=>e in this.canvasCache||this.thumbnailCache.has(e),this.clearCache=()=>{this.canvasCache=Object.create(null),this.thumbnailCache.reset(),this.canvasRequestsInFlight=Object.create(null),this.thumbnailRequestsInFlight=Object.create(null)},this.getCacheValueOrNull=e=>this.thumbnailCache.get(e)??null,this.clearCache()}},el=eo;el.MAX_VARIABLE_SET_THUMBNAILS=20,el.augmentUrlWithFileVersion=e=>{var t;let r=new URL(e,location.origin),n=(null==(t=l.x)?void 0:t.getState().fileVersion)||0;return r.searchParams.set("fv",n.toString()),r.toString()};let es=new el;function ec(e,t=null){var r;let n;if(e.type===h.Af.COMPONENT&&(null==(r=e.containing_frame)?void 0:r.backgroundColor))n=e.containing_frame.backgroundColor;else if(e.type===h.Af.STATE_GROUP&&e.fill_color)n=e.fill_color;else{if(!t)return null;n=t}let i=(0,o.Yn)(n);return i&&0!==i.a?(0,o.uA)(i,1):null}function ed(e){let t=null;return e.every(e=>{if(null===t)t=e.file_key;else if(t!==e.file_key)return t=null,!1;return!0}),t}},166332:(e,t,r)=>{"use strict";let n;r.d(t,{c5:()=>m,cp:()=>p,sP:()=>d,m2:()=>u.S,YK:()=>o.Y,ug:()=>a.V});var i=r(243172),a=r(957299),o=r(210340),l=r(739432),s=((n=s||{})[n.STARTING=0]="STARTING",n[n.FRONTMATTER=1]="FRONTMATTER",n[n.BODY=2]="BODY",n[n.FOOTER=3]="FOOTER",n);class c{constructor(e){this.onParse=e,this.state=0,this.buffer="",this.cursor=0}parseLine(e){if(e.startsWith("# ")){let t=e.slice(2);return{type:"h1",content:t.charAt(0).toUpperCase()+t.slice(1).toLowerCase()}}return e.startsWith("## ")?{type:"h2",content:e.slice(3)}:e.startsWith("### ")?{type:"h2",content:e.slice(4)}:e.startsWith("- ")?{type:"li",content:e.slice(2)}:{type:"p",content:e}}feed(e){this.buffer+=e;let t=e=>{this.buffer=this.buffer.slice(e),this.cursor+=e};for(;this.buffer.length>0;){let e=this.buffer.indexOf("\n");if(0===this.state){if(-1===e)return;this.buffer.slice(0,e)===l.YN&&(this.state=1),t(e+1)}else if(1===this.state){if(-1===e)return;this.buffer.slice(0,e).startsWith(l.UP)&&(this.state=2),t(e+1)}else if(2===this.state){if(this.buffer.startsWith(l.dP)){this.state=3;return}if(-1===e){if(this.buffer.length>=4){let e=this.parseLine(this.buffer);this.onParse(e,this.cursor)}return}{let r=this.buffer.slice(0,e);r.length>0&&this.onParse(this.parseLine(r),this.cursor),t(e+1)}}else if(3===this.state)return}}}function d(){let e,t;let r=[];return new TransformStream({start(n){e=new c((e,i)=>{(null==t?void 0:t.start)===i?r[r.length-1]=e:(r.push(e),t={start:i,primitive:e}),n.enqueue([...r])})},transform(t,r){e.feed(t.delta)}})}var u=r(473748);let p=i.cp;class m{constructor(e){this.stream=e}async *[Symbol.asyncIterator](){let e=this.stream.getReader();try{for(;;){let t=e.read(),{done:r,value:n}=await t;if(r)break;yield n}}finally{e.releaseLock()}}}},249028:(e,t,r)=>{"use strict";r.d(t,{GU:()=>_,OO:()=>p,cX:()=>d,wj:()=>g});var n=r(623131),i=r(5868),a=r(392992),o=r(836780),l=r(261432),s=r(805220);let c=(0,o.If)(e=>e.multiplayer.allUsers),d=(0,n.Zf)(e=>{let t=e(i.AX),r=e(c);if(t&&0!==r.length)return r.filter(e=>e.userID!==t.id)}),u=(0,o.If)(e=>e.multiplayer.deviceNameFilter),p=(0,n.Zf)(e=>{let t=e(c),r=e(u);return null!=e(a.qK)&&null!=r&&new Set(t.filter(e=>e.deviceName===r).map(e=>e.userID)).size>1}),m=(0,s.y_)("seen_spotlight_hint"),_=(0,l.q4)(m,(e,t)=>{let r=t(c),n=t(u);if(t(h))return!1;let i=r.filter(e=>e.deviceName===n),a=Math.max(...Object.values(i).map(e=>e.joinedAtS))-300,o=new Set;for(let e of i)e.joinedAtS>=a&&o.add(e.userID);return!(o.size<5)&&!e}),h=(0,o.If)(e=>{let t="fullscreen"===e.selectedView.view&&!e.mirror.appModel.showUi,r="prototype"===e.selectedView.view&&e.selectedView.hideUI;return t||r}),g=(0,o.If)(e=>{let t="fullscreen"===e.selectedView.view&&e.mirror.appModel.showUi,r="prototype"===e.selectedView.view&&!e.selectedView.hideUI;return t||r})},283620:(e,t,r)=>{"use strict";r.d(t,{DW:()=>f,M7:()=>N,Oo:()=>g,Yh:()=>I,_q:()=>b,cH:()=>E,eE:()=>O,iq:()=>C,kD:()=>A,u:()=>S,y8:()=>w});var n=r(623131),i=r(90340),a=r(435176),o=r(392992),l=r(836780),s=r(815464),c=r(44412),d=r(622623),u=r(69288),p=r(261432),m=r(683780),_=r(313373),h=r(805220);let g=(0,p.q4)(_._c,(e,t)=>{let r=t(o.qK);if(null==r||null==e)return!1;let n=e.map(e=>e.team).find(e=>null!=e&&e.id===r.teamId);return null!=n&&c.WE.getProTrialStatus({grace_period_end:n.gracePeriodEnd?n.gracePeriodEnd.toISOString():null,grace_period_type:n.gracePeriodType})===u._.IN_TRIAL}),f=(0,p.Ij)([_.S_],([e],t)=>{let r=t(o.qK),n=t(m.MJ)?null:e;return!!r&&!!n&&!r.teamId&&!r.parentOrgId&&r.folderId===n}),E=(0,l.If)(({openFile:e})=>{let t=(null==e?void 0:e.parentOrgId)!=null,r=(null==e?void 0:e.team)==null;return t&&r}),y=(0,l.If)(({progressBarState:e})=>(0,a.K)(null==e?void 0:e.mode)),b=(0,n.Zf)(e=>new Promise(t=>{e(y)||t(!1)})),v=(0,h.y_)("editor_onboarded"),I=(0,h.y_)("figjam_editor_onboarded"),w=(0,p.Ij)([v,I],([e,t],r)=>{let n=r(o.qK),i=null==n?void 0:n.editorType;return"design"===i?e:"whiteboard"===i&&t}),T=(0,p.q4)(_.Ce,(e,t)=>{let r=t(o.qK);return(null==r?void 0:r.teamId)?null==e?void 0:e.find(e=>e.id===(null==r?void 0:r.teamId)):null}),S=(0,p.Ij)([m.a8,T],([e,t],r)=>{var n;let i=r(o.qK),a=(null==i?void 0:i.parentOrgId)?e[i.parentOrgId]:null,l=t?{id:t.id,subscription:t.subscription,student_team:!!t.studentTeamAt,grace_period_end:(null==(n=t.gracePeriodEnd)?void 0:n.toDateString())||null}:null;return(0,d.eG)({editorType:(null==i?void 0:i.editorType)??null,org:a,team:l})}),C=(0,l.If)(({openFile:e})=>(null==e?void 0:e.showEditButton)??!1),A=(0,n.Zf)(e=>{var t;let r=e(o.qK);if(!r)return!1;let{team:n}=r;return null!=n&&null==n.orgId&&!(0,s.So)({subscription:n.subscription,student_team:null!=n.studentTeamAt,grace_period_end:(null==(t=n.gracePeriodEnd)?void 0:t.toISOString())??null})}),O=(0,n.Zf)(e=>{let t=e(o.qK);return(null==t?void 0:t.canEdit)??!1});(0,n.Zf)(e=>{let t=e(o.qK);return(null==t?void 0:t.editorType)!=null?(0,i.YN)({editorType:t.editorType}):null});let N=(0,p.q4)(m.a8,(e,t)=>{var r;let n=t(o.qK);return!!n&&"whiteboard"===n.editorType&&!!n.parentOrgId&&!!(null==(r=e[n.parentOrgId])?void 0:r.figjamDisabledAt)})},683780:(e,t,r)=>{"use strict";r.d(t,{Al:()=>h,H6:()=>c,MJ:()=>u,O6:()=>p,a8:()=>d,uo:()=>_});var n=r(372152),i=r(836780),a=r(514916),o=r(472956),l=r(440772),s=r(261432);let c=(0,s.q4)((0,o.s34)({}),e=>e.currentUser.orgUsers),d=(0,s.q4)(c,e=>{let t=null==e?void 0:e.map(e=>e.org);if(void 0===t)return{};let r={};for(let e of t)null!=e&&(r[e.id]={...e,bigmaEnabled:!!e.bigmaEnabledAt,voiceEnabled:!e.voiceDisabledAt,widgetsWhitelistEnforced:!!e.widgetsWhitelistEnforced});return r}),u=(0,i.If)(e=>e.currentUserOrgId),p=(0,s.Ij)([d],([e],t)=>{let r=t(u);return null!=r?e[r]:null}),m=(0,i.If)(e=>e.orgById),_=(0,n.KU)(e=>(0,s.q4)((0,o.kDP)({orgId:e}),e=>{var t,r,n;return!!(null==(r=null==(t=e.org)?void 0:t.workspaces)?void 0:r.length)&&!!(null==(n=e.org)?void 0:n.bigmaEnabledAt)})),h=(0,s.Ij)([p,c,l._],([e,t,r],n)=>{if(!e)return!1;let i=n(m)[e.id];if(!i.bigma_enabled||!i.workspaces_nux_active_at)return!1;let o=null==t?void 0:t.find(t=>t.orgId===e.id&&t.userId===r);return!!o&&o.permission!==a.y6.GUEST})},826584:(e,t,r)=>{"use strict";r.d(t,{a:()=>l,e:()=>s});var n=r(514916),i=r(815464),a=r(261432),o=r(313373);let l=(0,a.q4)(o.Ce,e=>(e??[]).some(e=>null!=e&&!(0,i.So)({subscription:e.subscription,student_team:!!e.studentTeamAt,grace_period_end:e.gracePeriodEnd?e.gracePeriodEnd.toISOString():null})&&!e.orgId&&e.canEdit)),s=(0,a.q4)(o.Ce,e=>(e??[]).filter(e=>null!=e&&e.subscription===n.KU.OK&&null==e.gracePeriodEnd&&!e.orgId&&e.canEdit))},313373:(e,t,r)=>{"use strict";r.d(t,{Ce:()=>w,G_:()=>D,I3:()=>M,Ki:()=>L,MF:()=>A,S_:()=>y,W_:()=>N,_c:()=>I,ey:()=>F,is:()=>v,m2:()=>g,n4:()=>O,oP:()=>E,of:()=>C,uK:()=>f,uY:()=>b,yS:()=>P});var n=r(796488),i=r(843148),a=r(623131),o=r(372152),l=r(752648),s=r(997108),c=r(836780),d=r(472956),u=r(815464),p=r(104484),m=r(187044),_=r(261432),h=r(683780);let g=(0,_.Ij)([(0,d.s34)({}),h.O6],([e,t])=>null!=e.currentUser.id&&(null==t?void 0:t.canRead)?m._O.ORG:m._O.PERSONAL),f=(0,_.q4)((0,d.s34)({}),e=>e.currentUser.createdAt),E=(0,_.q4)(f,e=>e.getTime()<=Date.now()-12096e5),y=(0,_.Ij)([h.H6,(0,d.s34)({})],([e,t],r)=>{let n=r(h.MJ);if(!n)return t.currentUser.draftsFolderId;{let t=null==e?void 0:e.find(e=>e.orgId===n);return(null==t?void 0:t.draftsFolderId)||null}});(0,_.q4)((0,d.s34)({}),e=>{let t=e.currentUser.email;return(0,n._E)(t)||!!(null==t?void 0:t.endsWith("@dev.figma.com"))});let b=(0,_.q4)((0,d.s34)({}),e=>null!=e.currentUser.studentValidatedAt),v=(0,_.q4)((0,d.yWn)({}),e=>e.currentUser.eduPeriodEnd),I=(0,_.q4)((0,d.s34)({}),e=>e.currentUser.teamRoles),w=(0,_.q4)(I,e=>null==e?void 0:e.map(e=>e.team).filter(e=>null!=e)),T=(0,c.If)(e=>e.isFreeUser),S=(0,_.Ij)([h.H6,w],([e,t])=>(null==e||!e.length||!(e.length>0))&&(null==t||!t.some(e=>e.canEdit&&(0,u.So)({subscription:e.subscription,student_team:!!e.studentTeamAt,grace_period_end:e.gracePeriodEnd?e.gracePeriodEnd.toISOString():null})))),C=(0,_.q4)(S,(e,t)=>(0,i.Ub)().ps_benchmark?t(T):e),A=(0,_.q4)(h.H6,e=>null!=e&&!!e.length&&e.length>0),O=(0,_.q4)((0,d.s34)({}),e=>{let t=e.currentUser.email;return null!=t?(0,n.qI)(t):void 0}),N=(0,_.q4)((0,d.s34)({}),e=>{var t;return null==(t=e.currentUser.profile)?void 0:t.jobTitle}),L=(0,_.q4)((0,d.s34)({}),e=>{var t;return null==(t=e.currentUser.profile)?void 0:t.usagePurpose}),R=(0,c.If)(e=>e.authedProfilesById),P=(0,a.Zf)(e=>Object.values(e(R)).some(e=>!!e.org_id||!!e.team_id));(0,_.q4)((0,d.s34)({}),e=>e.currentUser.email);let M=(0,_.q4)((0,d.s34)({}),e=>e.currentUser.emailValidatedAt),k=(0,c.If)(e=>e.userAnalyticsData),D=(0,o.KU)(e=>(0,l.AL)(k,t=>{if(null==t)return;let r=t[e];return p.M9.includes(e)&&r?new Date(r):r}));(0,_.q4)((0,d.s34)({}),e=>(0,s.iC)(e.currentUser.id));let F=(0,_.Ij)([(0,d.s34)({}),h.O6],([e,t])=>{let r="loaded"===e.currentUser.externalRestrictedOrgId.status?e.currentUser.externalRestrictedOrgId.data:null;return!!(e.currentUser&&r&&(null==t?void 0:t.id)!==r)})},805220:(e,t,r)=>{"use strict";r.d(t,{KC:()=>m,Ww:()=>s,YD:()=>p,qm:()=>d,wB:()=>l,y_:()=>u});var n=r(372152),i=r(472956),a=r(567988),o=r(261432);let l=(0,o.q4)((0,i.s34)({}),e=>e.currentUser.userFlags.reduce((e,t)=>({...e,[t.name]:t}),{})),s=(0,n.KU)(e=>(0,o.q4)(l,t=>t[e])),c=e=>e.length>0?new Date(Math.max(...e.map(Number))):void 0,d=(0,o.q4)(l,e=>c(Array.from(a.Cw).map(t=>{var r;return null==(r=e[t])?void 0:r.updatedAt}).filter(e=>null!=e))),u=(0,n.KU)(e=>(0,o.q4)(l,t=>null!=t[e])),p=u("file_browser_onboarded"),m=s("not_gen_0")},35880:(e,t,r)=>{"use strict";r.d(t,{G:()=>a,KY:()=>l,QP:()=>s,WM:()=>o,mC:()=>c,ol:()=>d});var n=r(843148),i=r(514916);function a(e){return e.currentUser.userFlags.reduce((e,t)=>(e[t.name]=t,e),{})||{}}function o(e,t){var r;let n=null==(r=e[t])?void 0:r.updatedAt;if(!n)return!1;let i=Date.now()-864e5;return n.getTime()>i}function l(e){return e.signed_up_from_figjam_jamboard||e.signed_up_from_figjam_page?i.aE.WHITEBOARD:e.signed_up_from_figma_page?i.aE.DESIGN:e.signed_up_from_community?"community":void 0}function s(e,t){return!!e[t]}function c(e){return document.querySelectorAll(`[data-onboarding-key=${JSON.stringify(e)}]`).length>0}function d(e){let t=l(e);return(!e.signed_up_from_figjam_jamboard||!(0,n.Ub)().figjam_3p_file_importer)&&("whiteboard"===t||"community"===t)}r(69288),r(567988),r(187044),r(815464),r(44412),r(622623)},627284:(e,t,r)=>{"use strict";r.d(t,{SU:()=>o,U9:()=>i,gP:()=>l,ye:()=>a});var n=r(409228);function i(e){let t=new Map,r=new Map;for(let{id:n,...i}of e.states){if(t.has(n))throw Error(`Duplicate state ID ${n.toString()} found when building state machine`);if(t.set(n,i),null==i.transitions)continue;let e=new Map;for(let{event:t,...a}of(r.set(n,e),i.transitions)){let r=e.get(t);null==r&&(r=[],e.set(t,r)),null==r||r.push(a)}}return{config:e,isComplete(e){let r=t.get(e);return(null==r?void 0:r.terminal)??!1},isInitial:t=>t===e.initial,start:()=>e.initial,transition(e,t){var n;let i=null==(n=r.get(e))?void 0:n.get(t.id);if(null==i)return null;for(let r of i)if(null==r.condition||r.condition({from:e,to:r.target,event:t}))return r.target;return null}}}function a(e){var t;let r=new Set;for(let i of e.config.states)if(null!=i.transitions)for(let e of i.transitions)e.event===n.u&&(null==(t=e.meta)?void 0:t.userEvents)!=null&&e.meta.userEvents.forEach(e=>r.add(e));return r}function o(e,t,r){return{event:e,target:t,condition:null==r?void 0:r.condition,meta:null==r?void 0:r.meta}}function l(e,t,r){let i=new Set("string"==typeof e?[e]:e),a={userEvents:[...i]};return o(n.u,t,{condition:e=>{var t;return i.has(e.event.type)&&((null==(t=null==r?void 0:r.condition)?void 0:t.call(r,e))??!0)},meta:a})}},748836:(e,t,r)=>{"use strict";r.d(t,{U$:()=>c,cH:()=>d,qJ:()=>u});var n=r(307824),i=r(372152),a=r(778524),o=r(627284),l=r(409228),s=r(747324);function c({_atom:e,machine:t}){let[{currentState:r,lastEvent:a,previousState:o},l]=(0,i.lZ)(e),s=t.isComplete(r);return(0,n.useMemo)(()=>({completed:s,currentState:r,lastEvent:a,previousState:o,reset:l}),[s,r,a,o,l])}function d(e){let[{currentState:t,lastEvent:r,previousState:c},d]=(0,n.useState)({currentState:e.start(),lastEvent:null,previousState:null}),u=(0,i.m4)(a.g$),p=e.isComplete(t),m=(0,n.useCallback)(()=>{d({currentState:e.start(),lastEvent:null,previousState:null})},[e,d]),_=(0,n.useCallback)(t=>{d(r=>{let n=e.transition(r.currentState,t);return null!=n?{currentState:n,lastEvent:t,previousState:r.currentState}:r})},[e,d]);return(0,n.useEffect)(()=>{let t=(0,o.ye)(e);if(0===t.size)return;let r=e=>{let{id:r,properties:n}="properties"in e?e:{id:e.id,properties:void 0};(0,s.qg)(r,t)&&_({id:l.u,type:r,properties:n??{}})};return(0,s.Q$)(u,t,r),()=>(0,s.SI)(u,t,r)},[e,d,_,u]),(0,n.useMemo)(()=>({completed:p,currentState:t,lastEvent:r,previousState:c,reset:m,transition:_}),[p,t,r,c,m,_])}function u(e,t){let r=(0,n.useRef)(null),{currentState:i,lastEvent:a,previousState:o}=e;(0,n.useEffect)(()=>{r.current!==a&&(r.current=a,null!=a&&null!=o&&t({event:a,from:o,to:i}))},[i,a,o,t])}},81492:(e,t,r)=>{"use strict";r.d(t,{C:()=>o,Ci:()=>u,Ko:()=>s,_I:()=>l,qO:()=>c});var n=r(307824),i=r(372152),a=r(405180);function o(){(0,i.m4)(a.u8),(0,i.m4)(a.g9)}function l(e,t){let r=d(t);return!!e&&r.has(e)}function s(e){let t=(0,i.m4)(a.g9);return!!e&&t.has(e)}function c(e,t){let r=l(e,t),n=s(e);return r||n}function d(e){return(0,i.m4)(e?a.gp:a.w$)}function u(e){let t=d(e),r=(0,i.m4)(a.g9);return n.useMemo(()=>({workspaceApprovedLibraryKeys:t,orgApprovedLibraryKeys:r}),[t,r])}},172600:(e,t,r)=>{"use strict";r.d(t,{Ed:()=>y,Ep:()=>g,Sc:()=>f,gp:()=>E,wF:()=>b});var n=r(307824),i=r(232284),a=r(125504),o=r.n(a),l=r(372152),s=r(968240),c=r(698240),d=r(572748),u=r(81492),p=r(280692),m=r(405180),_=r(617928),h=r(471303);let g=16;function f({isInFullscreenMenu:e,isInLibrarySubtree:t,orgNameForTooltip:r,workspaceNameForTooltip:a,tooltipDelay:l=250,tooltipLocation:c="above",variant:d}){let u=r||a?(0,p.eS)({orgName:r,workspaceName:a,tooltipLocation:c,tooltipDelay:l}):{};return n.createElement(s.e,{className:o()("secondary"===d?_.aS:_.Kk,e?_.UB:void 0,t?_.AN:void 0),svg:h.c,...u},n.createElement("div",{className:o()("secondary"===d?_.aS:_.Kk,e?_.UB:void 0,t?_.AN:void 0),...u},n.createElement(i.W,null)))}function E(e){let t=(0,l.m4)(m.u8),r=(0,d.Ce)(),i=(0,u.Ko)(e.fileKey);return n.createElement(f,{...e,orgNameForTooltip:i?null==r?void 0:r.name:void 0,workspaceNameForTooltip:null==t?void 0:t.name})}function y(e){let t=(0,l.m4)(m.DS),r=(0,d.Ce)(),i=(0,u.Ko)(e.fileKey);return n.createElement(f,{...e,orgNameForTooltip:i?null==r?void 0:r.name:void 0,workspaceNameForTooltip:null==t?void 0:t.name})}function b(){return n.createElement("div",{className:c.cx.pr8.$},n.createElement(f,{isInFullscreenMenu:!0}))}},280692:(e,t,r)=>{"use strict";r.d(t,{Qv:()=>m,UL:()=>f,Vm:()=>E,WY:()=>b,eS:()=>g,i2:()=>p,yk:()=>y});var n=r(472064),i=r(721500),a=r(372152),o=r(845396),l=r(142548),s=r(939540),c=r(405180),d=r(763456);let u=(0,i.qe)(d.c3f);function p({libraries:e,approvedLibraryKeysByResourceType:t,currentTeamId:r=null,shouldSortByTeam:n=!1}){e.sort((e,i)=>m({libraryA:e,libraryB:i,approvedLibraryKeysByResourceType:t,currentTeamId:r,shouldSortByTeam:n}))}function m({libraryA:e,libraryB:t,approvedLibraryKeysByResourceType:r,currentTeamId:n=null,shouldSortByTeam:i=!1}){let{workspaceApprovedLibraryKeys:a,orgApprovedLibraryKeys:l}=r;if(i&&"file"in e&&"file"in t&&e.team_id!==t.team_id)return(0,s.ms)(e,t,n);let c=_(e),d=_(t),u=l.has(c)?1:0,p=l.has(d)?1:0;if(u!==p)return p-u;let m=a.has(c)?1:0,g=a.has(d)?1:0;return m!==g?g-m:o.k.LEXICOGRAPHICALLY(h(e),h(t))}function _(e){return"key"in e?e.key:e.library_file_key}function h(e){return"name"in e?e.name:e.library_file_name}function g({orgName:e,workspaceName:t,tooltipLocation:r,tooltipDelay:n}){let i=e??t;if(!i)return{};let a=function(e){try{if(e){let t=function(e){let t=document.createElement("span");t.textContent=e,t.style.visibility="hidden",t.style.fontWeight="bold",t.style.display="inline-block",document.body.appendChild(t);let r=t.offsetWidth;return document.body.removeChild(t),r}(e);if(t){if(t>u)return u;if(t>u/2)return Math.max(116,t);return 116}}}catch(e){console.error(e)}return u}(i);return{"data-tooltip-type":l.wL.SPECIAL,"data-tooltip":l.oz.APPROVED_LIBRARY,..."below"===r?{"data-tooltip-show-below":!0}:{"data-tooltip-show-above":!0},...n?{"data-tooltip-timeout-delay":n}:{"data-tooltip-show-immediately":!0},"data-tooltip-max-width":a,"data-tooltip-workspace-name":t,"data-tooltip-org-name":e}}function f(e,t){return e.find(e=>e.resourceType===n.Q.Workspace&&e.resourceId===t)}function E(e,t){if(t)return e.find(e=>e.resourceType===n.Q.Org&&e.resourceId===t)}function y(e){if(!e)return!1;let t=a.qM.get(c.w$).has(e),r=a.qM.get(c.g9).has(e);return t||r}function b({workspaceApprovedLibraryKeys:e,orgApprovedLibraryKeys:t}){return e.size>0||t.size>0}},932735:(e,t,r)=>{"use strict";r.d(t,{M:()=>s,W:()=>c});var n=r(843148),i=r(995076),a=r(790184),o=r(939540);function l(e){return(0,n.Ub)().ds_use_lib_keys?`${e.library_key}:${e.node_id}`:`${(0,i.j)(e)}:${e.node_id}`}function s(e){return e.isLocal?l(e):(0,o.FN)(e)??l(e)}function c(e){switch(e){case a.Af.COMPONENT:case a.Af.STATE_GROUP:case a.Af.MODULE:return e;default:return}}},476168:(e,t,r)=>{"use strict";r.d(t,{b:()=>d,y:()=>c});var n=r(843148),i=r(523292),a=r(392992),o=r(815464),l=r(553432),s=r(996272);function c({openFile:e,permissionsState:t,sourceLibraryFile:r,user:a,sourceLibraryFileKey:s}){return!!(!(0,n.Ub)().ds_limit_go_to_source||s&&(0,i.Aj)(s))||!!r&&(!!(0,l.canEditFile)(r.key,t)||((null==e?void 0:e.parentOrgId)?e.parentOrgId===(null==r?void 0:r.parent_org_id):(0,o.G8)(null==e?void 0:e.team)?!!((null==r?void 0:r.team_id)&&(null==r?void 0:r.team_id)===(null==e?void 0:e.teamId)):(null==a?void 0:a.drafts_folder_id)!=null&&a.drafts_folder_id===(null==e?void 0:e.folderId)&&function(e,t,r){if(!(null==t?void 0:t.team_id)||!e)return!1;let n=r.teams[t.team_id];return!!(n&&(0,o.So)(n)&&(0,l.canViewTeam)(n.id,r))}(a,r,t)))}function d(e,t){let r=e.user,n=(0,a.w5)(e),i=(0,s.Ad)(e);return!!c({openFile:n,permissionsState:(0,l.getPermissionsState)(e),user:r,sourceLibraryFile:t?null==i?void 0:i[t]:null,sourceLibraryFileKey:t})}},374588:(e,t,r)=>{"use strict";r.d(t,{CG:()=>y,Iv:()=>E,V9:()=>p,am:()=>b,qc:()=>f,wX:()=>h});var n=r(307824),i=r(623131),a=r(372152),o=r(365224),l=r(61836),s=r(327332),c=r(472956),d=r(523292),u=r(876760);function p(e,t){return t.hub_file_id?e.includes(t.hub_file_id):!!(0,d.Aj)(t.file_key)&&e.includes(t.file_key)}let m=(0,i.Zf)(null),_=(0,i.Zf)((0,s.s)());function h(){let[e,t]=(0,a.lZ)(_),r=(0,o.my)(m);return n.useCallback(()=>{r(e),t((0,s.s)())},[t,r,e])}let g=e=>u.qO.Query({fetch:async t=>await (0,l.ob)(e,t.arguments),gcPolicy:"onUnmount"}),f=g(c.Xcs),E=g(c.ELn),y=g(c.CUq);function b(e,t,r){let n=r(m),i=r(_),a=r(e({arguments:t,nonce:i}));return"loading"===a.status&&null!==n&&(a=r(e({arguments:t,nonce:n}))),a}},272520:(e,t,r)=>{"use strict";let n,i,a;r.d(t,{G:()=>c,PN:()=>s,ej:()=>u,qW:()=>d,qo:()=>l});var o=r(937620),l=((n=l||{}).PASTE="PASTE",n.MODAL="MODAL",n.PLUGIN="PLUGIN",n),s=((i=s||{}).ATTEMPT="figjam_link_metadata_attempt",i.ERROR="figjam_link_metadata_error",i.SUCCESS="figjam_link_metadata_success",i.EMBED_CLICK="figjam_link_embed_click",i.CONVERT_TO_TEXT="figjam_link_metadata_convert_to_text",i.OPEN_PREVIEW="figjam_link_preview_open",i.EMBED_EXPAND="figjam_link_embed_expand",i.COPY_LINK="figjam_link_metadata_copy_url",i.SWITCH_ORIENTATION_VERTICAL="figjam_link_preview_orientation_vertical",i.SWITCH_ORIENTATION_HORIZONTAL="figjam_link_preview_orientation_horizontal",i.EMBED_DEACTIVATE="figjam_embed_deactivate",i),c=((a=c||{}).EMBED="embed",a.LINK_PREVIEW="preview",a);function d(e){try{return new URL(e).hostname}catch(e){return"Could not parse"}}function u(e){let t=(0,o.e6)();return r=>{let n=null!=e&&"url"in e?e.url:"";t(r,{domain:null!=n?d(n):"",linkRenderType:"embed"})}}},201472:(e,t,r)=>{"use strict";r.d(t,{Gm:()=>p,Q1:()=>d,Q3:()=>c,aC:()=>_,g3:()=>m,sZ:()=>s,w7:()=>u});var n=r(506616),i=r(798348),a=r(472956),o=r(392992);function l(e,t,r){var n;let i=[],a=[];for(let t of e){let e=t.plugin;if(!e)continue;let o=null==(n=t.allowlistedWorkspace)?void 0:n.id;r&&o&&o!==r||(e.isWidget?a.push(e.id):i.push(e.id))}return"plugin"===t?i:a}function s(e,t,r=!0){var i,o;let s=_(),c=(0,n.Qb)(a.awZ,{orgId:e},{enabled:r}),d=null==(i=c.data)?void 0:i.org;return"loading"!==c.status&&s.loaded?"errors"!==c.status&&d?{loaded:!0,data:l(d.allowlistedPlugins,t,null==(o=s.data)?void 0:o.workspaceId)}:{loaded:!0,data:[]}:{loaded:!1}}function c(e,t=!0){var r;let n=(0,i.s)(t);if(!n.loaded)return{loaded:!1};let a=n.data;return{loaded:!0,data:l((null==a?void 0:a.allowlistedExtensions)??[],e,null==(r=null==a?void 0:a.workspace)?void 0:r.id)}}function d({workspace:e,hasPendingRequest:t,extension:r}){return!!(e.publicPluginsOrWidgetDisabled&&!t&&e.extensionRequestsAllowed&&!(null==r?void 0:r.roles.org))}function u({org:e,isWidget:t}){if(!e)return!1;let r=t?e.widgets_whitelist_enforced:e.plugins_whitelist_enforced,n=t?e.widget_requests_allowed:e.plugin_requests_allowed;return r&&n}function p({org:e,extension:t,allowlistedExtensions:r}){return!!e&&!!t&&!!(u({org:e,isWidget:t.is_widget})&&!t.roles.org&&!r[t.id])}function m({org:e,extensionVersion:t,isWidget:r,allowlistedExtensions:n}){return!!e&&!!t&&!!(u({org:e,isWidget:r})&&!t.is_private&&!n[t.plugin_id])}function _(){var e,t,r;let i=(0,o.AL)(),l=!!i,s=(0,n.Qb)(a.Nqd,{fileKey:(null==i?void 0:i.key)??""},{enabled:l});if(!l)return{loaded:!0,data:void 0};if("loaded"!==s.status)return{loaded:!1};let c=null==(r=null==(t=null==(e=s.data)?void 0:e.file)?void 0:t.team)?void 0:r.workspace;return{loaded:!0,data:{workspaceId:null==c?void 0:c.id,workspaceName:null==c?void 0:c.name,fileKey:i.key,fileName:i.name}}}},782800:(e,t,r)=>{"use strict";r.d(t,{CM:()=>I,Cg:()=>y,E9:()=>v,EV:()=>d,Ks:()=>b,N5:()=>h,QB:()=>g,SY:()=>c,UH:()=>E,kR:()=>m,mY:()=>p,s$:()=>_,w3:()=>u});var n=r(916924),i=r(843148),a=r(333864),o=r(403132),l=r(236296),s=r(514916);function c(e){return null!=e||(0,i.Ub)().ps_benchmark}function d(e){return""===e.name}function u(e){return e?1e3:(0,i.Ub)().ps_benchmark?50:20}function p(e,t){return g(e.currentUser.favoritedFiles,e.currentUser.favoritedPrototypes,e.currentUser.favoritedProjects,e.currentUser.favoritedTeams,e.currentUser.favoritedWorkspaces).find(e=>e.resource.resourceId===t)}function m(e,t){var r,n,i,a,o,l,c,d,u,p,m,_,h,g,f;switch(t){case s.M$.FILE:return(null==(r=e.favoritedResource)?void 0:r.favoritedFile)!=null?{id:null==(n=e.favoritedResource)?void 0:n.id,resourceType:s.M$.FILE,resource:null==(i=e.favoritedResource)?void 0:i.favoritedFile}:void 0;case s.M$.PROTOTYPE:return(null==(a=e.favoritedResource)?void 0:a.favoritedPrototype)!=null?{id:null==(o=e.favoritedResource)?void 0:o.id,resourceType:s.M$.PROTOTYPE,resource:null==(l=e.favoritedResource)?void 0:l.favoritedPrototype}:void 0;case s.M$.FOLDER:return(null==(c=e.favoritedResource)?void 0:c.favoritedProject)?{id:null==(d=e.favoritedResource)?void 0:d.id,resourceType:s.M$.FOLDER,resource:null==(u=e.favoritedResource)?void 0:u.favoritedProject}:void 0;case s.M$.TEAM:return(null==(p=e.favoritedResource)?void 0:p.favoritedTeam)?{id:null==(m=e.favoritedResource)?void 0:m.id,resourceType:s.M$.TEAM,resource:null==(_=e.favoritedResource)?void 0:_.favoritedTeam}:void 0;case s.M$.WORKSPACE:return(null==(h=e.favoritedResource)?void 0:h.favoritedWorkspace)?{id:null==(g=e.favoritedResource)?void 0:g.id,resourceType:s.M$.WORKSPACE,resource:null==(f=e.favoritedResource)?void 0:f.favoritedWorkspace}:void 0;default:return}}function _(e,t){var r,n;return(null==(n=null==(r=e.currentUser)?void 0:r.projectSubscriptions)?void 0:n.find(e=>{var r;return(null==(r=e.projectV2)?void 0:r.id)===t}))!==void 0}function h(e,t){let r=(0,a.y2)(t.prototype);r&&e(o.Ej({view:"prototype",file:r,nodeId:t.prototype.pageId}))}function g(e,t,r,n,i){return f((null==e?void 0:e.filter(e=>{var t;return null==(t=e.file)?void 0:t.canView}))??[],t??[],(null==r?void 0:r.filter(e=>e.project&&!e.project.deletedAt))??[],(null==n?void 0:n.filter(e=>e.team&&!e.team.deletedAt))??[],i??[])}let f=(e,t,r,n,i)=>{let a=e.map(e=>({id:e.id,resourceType:s.M$.FILE,resource:e})),o=t.map(e=>({id:e.id,resourceType:s.M$.PROTOTYPE,resource:e}));return[...a,...o,...r.map(e=>({id:e.id,resourceType:s.M$.FOLDER,resource:e})),...n.map(e=>({id:e.id,resourceType:s.M$.TEAM,resource:e})),...i.map(e=>({id:e.id,resourceType:s.M$.WORKSPACE,resource:e}))]};function E(e,t){let r=u(t);return g(e.currentUser.favoritedFiles,e.currentUser.favoritedPrototypes,(0,i.Ub)().ps_benchmark||t?e.currentUser.favoritedProjects:[],e.currentUser.favoritedTeams,e.currentUser.favoritedWorkspaces).length>=r}function y(e){return!!e&&e>=1e3}function b(e,t){var r;let n={};e.forEach(e=>{n[e.id]=e});let i=null==(r=e.find(e=>""===e.name))?void 0:r.id,a=(null==t?void 0:t.map(e=>n[e]).filter(e=>e))??[],o=e.filter(e=>!(t&&t.includes(e.id))),l=o.findIndex(e=>""===e.name);return -1!==l&&o.splice(l,1),o.sort((e,t)=>new Date(e.createdAt).getTime()-new Date(t.createdAt).getTime()),-1!==l&&i?[n[i],...a,...o]:[...a,...o]}function v(e,t){let r={};e.forEach(e=>{r[e.resource.id]=e});let n=(null==t?void 0:t.map(e=>r[e]).filter(e=>e))??[],i=e.filter(e=>!(t&&t.includes(e.resource.id)));return i.sort((e,t)=>new Date(e.resource.createdAt).getTime()-new Date(t.resource.createdAt).getTime()),[...n,...i]}function I(e){switch(e){case l.Az.FILE:case l.Az.PINNED_FILE:case l.Az.REPO:return s.M$.FILE;case l.Az.PROTOTYPE:return s.M$.PROTOTYPE;case l.Az.PROJECT:return s.M$.FOLDER;case l.Az.OFFLINE_FILE:return s.M$.FILE;default:(0,n.gy)(e)}}},570032:(e,t,r)=>{"use strict";r.d(t,{Y:()=>a,i:()=>i});var n=r(762820);function i(e){let t=[];return e.forEach(e=>{e.content.forEach(e=>{let r=JSON.parse(e);r.nodeId&&t.push(r.nodeId)})}),t}function a(e,t){return[...new Set(e)].reduce((e,r)=>{var i;let a=t(r),o=((null==(i=n.GqY)?void 0:i.nodeIsPage(r))?null==a?void 0:a.absoluteRenderBounds:null==a?void 0:a.absoluteBoundingBox)??null;return e[r]=o?{x:o.x,y:o.y,width:o.w,height:o.h}:o,e},{})}},990180:(e,t,r)=>{"use strict";r.d(t,{Ap:()=>M,GR:()=>V,KI:()=>W,U5:()=>U,UH:()=>B,UL:()=>R,a_:()=>D,cD:()=>H,gJ:()=>x,kD:()=>G,qQ:()=>k});var n=r(120304),i=r(250008),a=r(899116),o=r(656716),l=r(843148),s=r(888932),c=r(560072),d=r(745500),u=r(699768),p=r(669592),m=r(268984),_=r(403132),h=r(46604),g=r(907236),f=r(323576),E=r(417308),y=r(823252),b=r(191352),v=r(585508),I=r(980844),w=r(351212),T=r(169436),S=r(699084),C=r(1084),A=r(439460),O=r(427852),N=r(251596),L=r(13468);function R(){return(0,l.cp)().release_manifest_git_commit}function P(e,t){if(e!==document.title){let r=s.cp.browserType;if((0,l.Ub)().fig_icons&&"safari"!==r){let t=(0,O.C4)(e);t&&(function(e){if(!e)return;let t=document.getElementById("custom-emoji-favicon");t||((t=document.createElement("link")).id="custom-emoji-favicon",t.rel="icon",document.head.appendChild(t)),t.href="data:image/svg+xml,"+'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><text y=".9em" font-size="90">{text}</text></svg>'.replace("{text}",e)}(t),e=(0,O.ei)(e,t))}document.title=e,a.sZ&&t&&a.sZ.setTitle(t)}}function M(e){P(`${e} \u2013 Figma`,e)}function k(e,t){P(`${e}${"whiteboard"===t?" \u2013 FigJam":" \u2013 Figma"}`,e)}function D(e,t){let r=(0,L.sT)(e,t);if(!r){P("Figma",null);return}if("fullscreen"===t.view&&t.tryPluginName){e.openFile?P(e.openFile.name,r):P((0,c.t)("community.try.plugin_name_with_community",{pluginName:t.tryPluginName}),r);return}if("prototype"===t.view){let t="",n=null,i=function(e){let t=e.prototype;for(let e of t.pages)if(e.nodeId===t.currentPageId)return e.name;return""}(e);i?(t=`\u25B6 ${i} - ${r}`,n=`${i} - ${r}`):t=`\u25B6 ${r}`,P(t,n);return}if("fullscreen"===t.view&&!e.openFile){let e=(0,C.ui)();(null==e?void 0:e.name)?r=e.name:(null==t?void 0:t.localFileName)&&(r=t.localFileName)}let n=(0,S.gz)(e);if(n&&(0,A.wB)(n)){P(`\u2325 ${r}`,`${r}`);return}if("fullscreen"===t.view&&"whiteboard"===(0,b.me)(e.selectedView)){P(`${r} \u2013 FigJam`,r);return}M(r)}let F=e=>!!("state"in e&&"key"in e&&2===Object.keys(e).length||0===Object.keys(e).length&&/^\/community/.test(o.default.location.pathname)),x=(0,m.M0)(e=>{window.addEventListener("popstate",t=>{if(t.state){let r=e.getState(),n=r.selectedView;if((0,T.Z)())return;let i=t.state.jsCommitHash,a={...t.state};delete a.jsCommitHash;let l=F(a)?{view:"communityHub",subView:"searchAndBrowse",data:(0,u.qm)(o.default.location.pathname,o.default.location.search)}:a;if(i!==R()&&!F(a)){o.default.reload("Navigating to a state that was pushed by an older version of this application");return}if("fullscreen"===n.view&&!v.CA.isReady()){o.default.reload("User navigated before fullscreen fully initialized");return}if("fullscreen"===l.view&&!l.fileKey){window.history.back();return}if("fullscreen"===n.view&&("fullscreen"!==l.view||n.fileKey!==l.fileKey))e.dispatch(g.Gs({oldSelectedView:n,newSelectedView:l}));else{if(e.dispatch(f.oN()),"communityHub"===l.view&&"searchAndBrowse"===l.subView&&(0,p.K6)(l.data)){let t=(0,d.T)(r);(null==t?void 0:t.searchSessionId)&&e.dispatch(y.qU({sessionId:t.searchSessionId}))}e.dispatch(_.Ej({...l,fromPopstate:!0})),D(r,l)}}})});function U(e,t,r,n){e(h.Kc({fileKey:t.key}));let i=r||n,a=r?I.Y.ORG:I.Y.TEAM;e((0,l.Ub)().ps_benchmark&&i?E.m6({planId:i,planType:a}):E.ym({planId:r||w.I})),e(_.Ej({view:"fullscreen",fileKey:t.key,editorType:t.editor_type||"design"}))}function B(e,t){t(h.SW(e))}function G(e,t,r,n){(0,i.we)("Open File in New Tab Click",{fileKey:t,uiSelectedView:JSON.stringify(r)}),n(h.Kc({fileKey:t})),o.default.redirect(e,"_blank")}function V(e,t,r,n){(0,i.we)("Open Prototype in New Tab Click",{fileKey:t,pageId:r,uiSelectedView:JSON.stringify(n)}),o.default.redirect(e,"_blank")}function H(e,t){t(h.Eh({url:e}))}function W(e,t){let r=(0,N.sX)(),i=e||t,a=(0,n.w1)(e=>{var t;return r?null==(t=e.authedUsers.byId[r])?void 0:t.plans:null});return!!(null==a?void 0:a.find(e=>e.plan_id===i))}},671788:(e,t,r)=>{"use strict";r.d(t,{IF:()=>U,Mj:()=>H,Qj:()=>B,_h:()=>V,ao:()=>G,cb:()=>F,eh:()=>W,oF:()=>q,oN:()=>D,q0:()=>K,wN:()=>x});var n=r(120304),i=r(61836),a=r(814508),o=r(557044),l=r(967540),s=r(560072),c=r(317704),d=r(268984),u=r(375376),p=r(403132),m=r(241040),_=r(323576),h=r(735204),g=r(972164),f=r(841676),E=r(790548),y=r(685656),b=r(475136),v=r(112044),I=r(539892),w=r(497508),T=r(447776),S=r(332264),C=r(206312),A=r(694752),O=r(291732),N=r(90340),L=r(202613),R=r(596496),P=r(876760),M=r(146124),k=r(644516);let D=(0,d.M0)((e,{folderId:t})=>{(0,n.wN)(()=>{e.dispatch(m.WC({folderId:t})),e.dispatch(m.us({folderId:t,state:null}))})}),F=(0,d.M0)((e,{folderId:t,folderData:r})=>{(0,n.wN)(()=>{e.dispatch(m.s$(r.folder)),e.dispatch(u.eq({files:r.files,subscribeToRealtime:!1})),e.dispatch(h.Qb({repos:r.repos})),e.dispatch(g.eq({roles:r.roles})),e.dispatch(m.us({folderId:t,state:"loaded"}))})}),x=(0,d.M0)(async(e,{folderId:t,loadedFolders:r})=>{if(!r[t]){e.dispatch(m.us({folderId:t,state:"loading"}));try{let r=(await I.e.getFiles({folderId:t})).data.meta;e.dispatch(F({folderId:t,folderData:r}))}catch(r){404===r.status||403===r.status?e.dispatch(p.Ej({view:"resourceUnavailable",resourceType:b.oz.PROJECT})):r.status>=400&&r.status<500?e.dispatch(m.us({folderId:t,state:"loaded"})):e.dispatch(m.us({folderId:t,state:null}))}}}),U=P.qO.Query({fetch:async e=>(await w._.getFolders({teamId:e.teamId})).data.meta.folder_rows,schema:e=>e.array(E.iE),enabled:e=>!!e.teamId}),B=P.qO.Mutation(e=>I.e.delete({folderId:e.folderId})),G=(0,d.cj)("RENAME_FOLDER",(e,t,{optimistId:r})=>{let{folderId:n,folderName:a}=t,c=(0,R.mA)(a);if(c){e.dispatch(l.M.error(c));return}(0,N.yM)("Folder Renamed",n,null,e.getState(),{folderName:a});let u=o.cp.put("/api/folders/rename",{folder_id:t.folderId,name:t.folderName}).then(()=>{e.dispatch(d.sL.commit(r))}).catch(()=>{e.dispatch(d.sL.revert(r))});(0,l.S)({promise:u,fallbackError:(0,s.t)("file_browser.api_folder.an_error_occurred_while_renaming_this_project")}),(0,i.w3)().optimisticallyUpdate({Project:{[t.folderId]:{path:t.folderName}}},u)}),V=(0,d.cj)("FOLDER_UPDATE_FOLDER_ACCESS",(e,t,{optimistId:r})=>{let n=o.cp.put(`/api/folders/${t.folderId}`,{is_invite_only:t.isInviteOnly,is_view_only:t.isViewOnly}).then(()=>{e.dispatch(d.sL.commit(r))}).catch(()=>{e.dispatch(d.sL.revert(r))});(0,l.S)({promise:n,fallbackError:(0,s.t)("file_browser.api_folder.an_error_while_updating_the_folder_s_access")})}),H=(0,d.cj)("FOLDER_UPDATE_SHARING_AUDIENCE_CONTROLS",(e,t,{optimistId:r})=>{let n=I.e.updateFolderSharingAudienceControls({folderId:t.folder.id,sharingAudienceControl:t.sharingAudienceControl}).then(()=>{e.dispatch(d.sL.commit(r)),(0,N.yM)("Folder Share Settings Updated",t.folder.id,t.folder.team_id,e.getState(),{share_settings_type:"sharing_audience",oldSharingAudienceControl:t.folder.sharing_audience_control,newSharingAudienceControl:t.sharingAudienceControl})}).catch(()=>{e.dispatch(d.sL.revert(r))});(0,l.S)({promise:n,fallbackError:(0,s.t)("file_browser.api_folder.an_error_while_updating_the_folder_s_sharing_audience_control")})}),W=(0,d.cj)("FOLDER_UPDATE_TEAM_ACCESS",(e,t,{optimistId:r})=>{let n=I.e.updatedFolderTeamAccess({folderId:t.folder.id,teamAccess:t.teamAccess}).then(()=>{e.dispatch(d.sL.commit(r)),(0,N.yM)("Folder Share Settings Updated",t.folder.id,t.folder.team_id,e.getState(),{share_settings_type:"team_access",oldTeamAccess:t.folder.team_access,newTeamAccess:t.teamAccess})}).catch(()=>{e.dispatch(d.sL.revert(r))});(0,l.S)({promise:n,fallbackError:(0,s.t)("file_browser.api_folder.an_error_while_updating_the_folder_s_team_access")})}),K=(0,d.M0)(async(e,t)=>{var r,n,i,o,s;let c=t.folder,d=t.team,u=(0,y._e)(d);if(c.inviteOnlyAt||c.viewOnlyAt){e.dispatch(_.A5({type:C.O,data:{folder:c}}));return}try{await I.e.getCanMove({teamId:d.id,folderId:c.id})}catch(t){(null==(n=null==(r=t.data)?void 0:r.failure_info)?void 0:n.code)==="ERR_FILE_LIMIT"||(null==(o=null==(i=t.data)?void 0:i.failure_info)?void 0:o.code)==="ERR_PROJECT_LIMIT"?e.dispatch(_.A5({type:A.EP,data:{team:u,resource:f.kJ.FOLDER,action:v.qW.MOVE_FOLDER,currentPlan:L.O.Plan.STARTER,upsellPlan:L.O.Plan.PRO}})):e.dispatch(l.M.error(null==(s=t.data)?void 0:s.message));return}c.teamId&&u?e.dispatch(_.A5({type:O.Y,data:{folder:c,destinationTeam:u,onConfirm:()=>{(0,a.gd)(Y)({folder:c,team:u})}}})):(0,a.gd)(Y)({folder:c,team:u})}),Y=P.qO.Mutation((e,{query:t,objects:r,reduxStore:n})=>{var a;let{folder:d,team:u}=e;(0,N.yM)("Folder Moved",d.id,null,n.getState(),{destTeamId:u.id});let p=o.cp.put("/api/folders/move",{folder_id:d.id,team_id:u.id}).then(()=>{n.dispatch(c.A.enqueue({message:(0,s.t)("file_browser.folder_move.project_moved_toast",{folderName:d.path,teamName:u.name})}))});return n.dispatch((0,l.S)({promise:p,fallbackError:(0,s.t)("file_browser.api_folder.an_error_occurred_while_moving_this_project")})),null==(a=(0,i.w3)())||a.optimisticallyUpdate({Project:{[d.id]:{teamId:u.id}}},p),d.teamId&&(t.mutate(U({teamId:d.teamId}),e=>{let t=e.findIndex(e=>e.id===d.id);-1!==t&&e.splice(t,1)}),r.Folder.update(d.id,e=>{e.team_id=u.id})),p}),q=(0,d.M0)((e,t)=>{let r=e.getState(),n=t.where,i=t.team.id,a=r.creatingNewFolder&&r.creatingNewFolder.where===n&&r.creatingNewFolder.team.id==i,o=t.team;if(!a){if((0,M.A)(null==o?void 0:o.id,null==o?void 0:o.org_id)?o.canEdit:o.canEditTeamContents)(0,k.SQ)(o,{type:k.GV.ADD_PROJECT})?(e.dispatch(p.ud({where:n,team:o})),(0,M.A)((null==o?void 0:o.id)||null,(null==o?void 0:o.org_id)||null)?e.dispatch(_.A5({type:T._m,data:{teamId:o.id,modalShown:r.modalShown}})):e.dispatch(_.A5({type:S.Qv}))):e.dispatch(_.A5({type:A.EP,data:{team:o,resource:f.kJ.FOLDER,action:v.qW.CREATE_FOLDER,currentPlan:L.O.Plan.STARTER,upsellPlan:L.O.Plan.PRO}}));else{let t=o?(0,s.t)("file_browser.api_folder.no_create_permissions_team_name",{teamName:o.name}):(0,s.t)("file_browser.api_folder.no_create_permissions_this_team");e.dispatch(l.M.flash(t))}}})},43668:(e,t,r)=>{"use strict";r.d(t,{$n:()=>m,g3:()=>_});var n=r(843148),i=r(372152),a=r(643260),o=r(268984),l=r(762580),s=r(417308),c=r(449388),d=r(533056),u=r(334647),p=r(259580);let m=(0,o.M0)(async(e,{loadedPlans:t})=>{if(!t||!(t.length>0))try{let t=await u.K.getPlans();e.dispatch(s.eq({plans:t.data.meta.plans})),e.dispatch(c.eq({teams:t.data.meta.teams})),e.dispatch(l.eq({orgs:t.data.meta.orgs}));let r=t.data.meta.teams,i=(0,n.Ub)().ps_benchmark,a=(0,n.Ub)().close_starter_team_loophole;i&&a&&await Promise.all(r.map(t=>(0,d.Uh)(t.id,e)))}catch(e){}}),_=(e=!1)=>async t=>{try{return await h(t,e)}catch(e){return Promise.reject(e)}};async function h(e,t=!1){if(!(0,n.Ub)().ps_benchmark)return Promise.reject();let r=i.qM.get(p._);if(!t&&r!==a.D.INIT&&r!==a.D.LOADING)return r;try{r===a.D.INIT&&i.qM.set(p._,a.D.LOADING);let t=await u.K.getPlansForAuthedUsers();return i.qM.set(p._,t),e(c.eq({teams:t.teams})),e(l.eq({orgs:t.orgs})),t}catch(e){return r===a.D.LOADING&&i.qM.set(p._,a.D.INIT),Promise.reject(e)}}},51388:(e,t,r)=>{"use strict";r.d(t,{A2:()=>O,Ap:()=>C,EV:()=>P,Gm:()=>R,If:()=>N,KM:()=>M,S:()=>k,cL:()=>L,q8:()=>A});var n=r(250008),i=r(61836),a=r(231800),o=r(557044),l=r(967540),s=r(560072),c=r(317704),d=r(268984),u=r(403132),p=r(316220),m=r(972164),_=r(449388),h=r(100980),g=r(514916),f=r(546772),E=r(475136),y=r(184912),b=r(694684),v=r(90340),I=r(55080),w=r(270652),T=r(146124),S=r(322128);let C=(0,d.M0)((e,t)=>{let{teamName:r,orgAccess:n,workspaceId:i,description:a,defaultPermission:c,sharingAudienceControl:d,orgBrowsable:u,hidden:p,ignoreCurrentPlan:m}=t,h=e.getState().currentUserOrgId,g={team_name:r},f=(0,T.A)(null,h);!h||m||(g.org_id=h,d&&f||(g.org_access=n)),i&&(g.workspace_id=i),a&&(g.description=a),!c||d&&f||(g.default_permission=c),d&&f&&(g.sharing_audience_control=d),u&&(g.org_browsable=u),p&&(g.hidden=p),e.dispatch(_.s1({loading:!0})),o.cp.post("/api/teams/create",g).then(({data:r})=>{let n="team"in r.meta?r.meta.team:r.meta;(0,v.Y9)("Team Created",n.id,e.getState(),{sharing_audience_control:d,org_browsable:u,hidden:p}),A(n,e,t)}).catch(t=>{var r;let n=(0,s.ID)(t,(null==(r=null==t?void 0:t.response)?void 0:r.message)||(0,s.t)("team_creation.an_error_occurred_while_creating_this_team"));e.dispatch(l.M.error(n)),e.dispatch(_.s1({loading:!1}))})});function A(e,t,r){var n,i;let a=t.getState().user,o=t.getState().currentUserOrgId;t.dispatch(_.s$({team:e}));let{ignoreCurrentPlan:l}=r;return o&&!l&&(null==(n=r.inviteEmails)?void 0:n.length)&&r.inviteLevel?t.dispatch((0,w.YL)({emails:r.inviteEmails,emailsToExclude:a?new Set([a.email]):void 0,resourceType:g.y4.TEAM,resourceIdOrKey:e.id,level:r.inviteLevel,source:"new_team_creation_modal"})):r.teamFlowType===E.cb.CREATE&&(null==(i=r.inviteEmails)?void 0:i.length)&&t.dispatch((0,w.YL)({emails:r.inviteEmails,emailsToExclude:a?new Set([a.email]):void 0,resourceType:g.y4.TEAM,resourceIdOrKey:e.id,level:f.m.EDITOR,source:"team_creation_flow"})),y.e.getTeam({teamId:e.id}).then(({data:n})=>{for(let e of n.meta)t.dispatch(m.s$({role:e}));t.dispatch(_.s1({loading:!1}));let i=t.getState().currentUserOrgId&&!l;r.dontRedirect||(r.onSuccess&&r.onSuccess(),i||r.teamFlowType===E.cb.CREATE?(t.dispatch(u.Ej({view:"team",teamId:e.id})),t.dispatch(c.A.enqueue({type:"new_team_created",message:(0,s.t)("team_creation.you_have_created_a_new_team")}))):t.dispatch(u.Ej({view:"addCollaborators",teamId:e.id})))})}let O=(0,d.M0)((e,t)=>{var r;let n=t.team,l=n.id,d=n.name,u=t.name;(0,v.Y9)("Team Renamed",l,e.getState());let p=o.cp.put(`/api/teams/${l}`,{name:t.name}).then(({data:r})=>{t.skipVisualBell||e.dispatch(c.A.enqueue({message:(0,s.t)("change_team_name_visual_bell.text",{oldTeamName:d,newTeamName:u}),button:{text:(0,s.t)("change_team_name_visual_bell.undo"),action:()=>{e.dispatch(O({team:r.meta,name:d,skipVisualBell:!0}))}}}))});return null==(r=(0,i.w3)())||r.optimisticallyUpdate({Team:{[l]:{name:u}}},p),(0,a.Y)({requestPromise:p,fallbackError:"An error occurred while renaming this team.",store:e,next:e.dispatch,action:_.wX(t)})}),N=(0,d.M0)((e,t)=>{let r=t.team.id;return(0,v.Y9)("Team Share Settings Updated",r,e.getState(),{share_settings_type:"share_audience",oldSharingAudienceControl:t.team.sharing_audience_control,newSharingAudienceControl:t.sharingAudienceControl,oldOrgBrowsable:t.team.org_browsable,newOrgBrowsable:t.orgBrowsable,oldHidden:t.team.hidden,newHidden:t.hidden}),(0,a.Y)({requestPromise:o.cp.put(`/api/teams/${r}`,{sharing_audience_control:t.sharingAudienceControl,org_browsable:t.orgBrowsable,hidden:t.hidden}),fallbackError:"An error occurred while changing the sharing settings of this team.",store:e,next:e.dispatch,action:_.Sw(t)})}),L=(0,d.M0)((e,t)=>{let r=t.team.id;return(0,v.Y9)("Team Org Access Changed",r,e.getState(),{oldOrgAccess:t.team.org_access,newOrgAcccess:t.orgAccess}),(0,a.Y)({requestPromise:o.cp.put(`/api/teams/${r}`,{org_access:t.orgAccess}),fallbackError:"An error occurred while changing the org access of this team.",store:e,next:e.dispatch,action:_.sY(t)})}),R=(0,d.M0)((e,t)=>{let r=t.team.id;return(0,v.Y9)("Org Team Default Member Permission Changed",r,e.getState(),{oldDefaultPermission:t.team.default_permission,newDefaultPermission:t.defaultPermission}),(0,a.Y)({requestPromise:o.cp.put(`/api/teams/${r}`,{default_permission:t.defaultPermission}),fallbackError:(0,s.t)("file_browser.team_settings.an_error_occurred_while_changing_default_permission"),store:e,next:e.dispatch,action:_.q4(t)})}),P=(0,d.M0)((e,t)=>{(0,n.we)("file-browser-hydrate",{location:"team.onJoin"});let r=(0,I.iO)(t.teamId);(0,S.WO)("onJoinTeam").then(n=>{let i=t.teamId;e.dispatch(u.ug(n.data.meta));let a=e.getState().teams[i].name;switch(t.level){case f.m.OWNER:e.dispatch(l.M.flash((0,s.t)("join_team_flash.as_owner.text",{teamName:a})));break;case f.m.ADMIN:e.dispatch(l.M.flash((0,s.t)("join_team_flash.as_admin.text",{teamName:a})));break;default:e.dispatch(l.M.flash((0,s.t)("join_team_flash.text",{teamName:a})))}e.dispatch(p.mk({key:r}))}).catch(()=>{e.dispatch(p.is({key:r}))}),e.dispatch(_.iO(t))}),M=(0,d.M0)((e,t)=>{(0,n.we)("file-browser-hydrate",{location:"team.onBatchJoin"});let r=(0,I.e0)(t.teamIds);(0,S.WO)("onBatchJoinTeams").then(n=>{e.dispatch(u.ug(n.data.meta));let i=t.teamIds.length;switch(t.level){case f.m.OWNER:e.dispatch(l.M.flash((0,s.t)("join_team_batch_flash.as_owner.text",{teamCount:i})));break;case f.m.ADMIN:e.dispatch(l.M.flash((0,s.t)("join_team_batch_flash.as_admin.text",{teamCount:i})));break;default:e.dispatch(l.M.flash((0,s.t)("join_team_batch_flash.text",{teamCount:i})))}e.dispatch(p.mk({key:r}))}).catch(()=>{e.dispatch(p.is({key:r}))}),e.dispatch(_.kT(t))}),k=(0,d.M0)(e=>{let t=e.getState().currentUserOrgId;b.u.getTeamRoleRequestsOrgId({orgId:t}).then(t=>{e.dispatch(h.d({teamRoleRequests:t.data.meta}))})})},12832:(e,t,r)=>{"use strict";r.d(t,{KA:()=>_,KE:()=>u,OC:()=>h,SA:()=>d,Yb:()=>p,cz:()=>m,s1:()=>g,yo:()=>f});var n=r(843148),i=r(980068),a=r(326660),o=r(560072),l=r(509072),s=r(553432),c=r(417184);function d(e,t,r){if(!e)return null;let i={userId:e.id,orgId:t};return(0,n.Ub)().ps_benchmark&&(i.teamId=r||null),i}let u=(0,i.ei)(d);function p(e,t){let r=d(e.user,e.currentUserOrgId,e.currentTeamId);return(0,n.Ub)().ps_benchmark?!!r&&r.userId===t.userId&&(!!r.orgId&&r.orgId===t.orgId||!!r.teamId&&r.teamId===t.teamId):!!r&&r.userId===t.userId&&r.orgId===t.orgId}let m=l.c;function _(e,t){let r={};return t.forEach(t=>{r[t]=m(e,t)}),r}function h(e,t,r,i){var l;let c=(0,o.t)("navbar.workspaces.default_workspace_name");if(!t)return c;if(t.orgId){let n=(null==r?void 0:r[t.orgId])||e.orgById[t.orgId];return(null==n?void 0:n.name)||(0,o.t)("navbar.workspaces.default_org_workspace_name")}let d=(0,n.Ub)().ps_benchmark;if(d&&t.teamId){let r=(null==i?void 0:i[t.teamId])||e.teams[t.teamId];return(null==r?void 0:r.name)||(0,o.t)("navbar.workspaces.default_team_workspace_name")}return d&&(null==(l=e.user)?void 0:l.id)!=="-1"&&(0,a.Ij)("planSpaces","User with Plan Spaces enabled saw External Teams."),(0,s.userIsAMemberOfAnOrg)(e,t.userId)?(0,o.t)("navbar.profile_switcher.external_teams"):(0,o.t)("navbar.profile_switcher.your_teams")}function g(e){let t=d(e.user,e.currentUserOrgId,e.currentTeamId);if(!t)return(0,o.t)("navbar.workspaces.notifications_label");if((0,c.K2)(e.selectedView))return(0,o.t)("navbar.workspaces.community_notifications_label");if(t.orgId){let r=e.orgById[t.orgId],n=null==r?void 0:r.name;return n?(0,o.t)("user_notifications.org_notifications",{orgName:n}):(0,o.t)("navbar.workspaces.notifications_label")}return(0,s.userIsAMemberOfAnOrg)(e,t.userId)?(0,o.t)("navbar.workspaces.external_teams_notifications_label"):(0,o.t)("navbar.workspaces.notifications_label")}function f(e,t){return 0!==e.length&&(e.length>1||m(t,e[0]).length>1)}},515044:(e,t,r)=>{"use strict";let n;r.d(t,{$p:()=>P,C4:()=>x,Ce:()=>I,G2:()=>C,KW:()=>F,Ki:()=>k,QZ:()=>D,cX:()=>S,d6:()=>L,ey:()=>N,sH:()=>R,yC:()=>M});var i=r(458140),a=r(35456),o=r.n(a),l=r(916924),s=r(441748),c=r(375376),d=r(735204),u=r(514916),p=r(154328),m=r(784528),_=r(907788),h=r(881080),g=r(560072),f=r(439460),E=r(846004),y=r(596496),b=r(61304),v=r(815464),I=((n=I||{}).fileBrowserContextMenu="file_browser_context_menu",n.fileBrowserFavoritedContextMenu="file_browser_favorited_context_menu",n.fileBrowserTileActionMenu="file_browser_tile_action_menu",n.prototypeHeader="prototype_header",n.fullscreenToolbar="fullscreen_toolbar",n.expFigJamOnboardingShareVariant="exp_figjam_onboarding_share_variant",n.fullscreenCopyLinkButtonVisualBell="fullscreen_copy_link_button_visual_bell",n.prototypeCopyLinkButtonVisualBell="prototype_copy_link_button_visual_bell",n.customTemplatePublishNudge="custom_template_publish_nudge",n.expProTrialsV3CardStackWidget="exp_pro_trials_v3_card_stack_widget",n.editRequestTooltip="edit_request_tooltip",n.editRequestExternal="edit_request_external",n.teamFeedNux="team_feed_nux",n);function w(e,t,r,n){var i;let a;let o=t.user;if(t.mirror&&t.mirror.appModel.pagesList&&t.mirror.appModel.pagesList.length>1){let e=t.mirror.sceneGraph.get((0,m.AD)(t.mirror.appModel));e&&(a=e.name)}let l=e&&t.figFilePublishedAsHubFile[e.key],s=l?(0,b.ee)(l,t.hubFiles):null,c=(0,f.D$)(e,t.repos),d=c?c.team_id:e.team_id,u=d?null==(i=t.teamUserByTeamId)?void 0:i[d]:null;return{user:o,pageName:a,editingHubFile:s,prototype:t.prototype,mirror:t.mirror,selectedView:t.selectedView,contacts:t.contacts,currentUserOrgId:t.currentUserOrgId,autocomplete:t.autocomplete,orgDomains:t.orgDomains,dropdownShown:t.dropdownShown,modalShown:t.modalShown,teamUserByUserId:u,isFreeUserOnly:n,editorType:e.editor_type||"design",attributionContextKey:t.sharingAttributionContextKey,dispatch:r}}function T(e,t,r,n){return{file:{...e,canEdit:!1,canEditCanvas:!1,hasEditRole:!1,hasViewRole:!1,canView:!1,canViewPrototype:!1,canViewPrototypeLinks:!1,isOwner:!1,mainFileLinkExpirationConfig:null,passwordSetAt:null,passwordSetByUser:null,isPublishedHubFile:!1,folderAccessEnabled:!0,scFileExperienceEnabled:!1},repo:null,rolesByUserId:{},fileRoleRequests:[],folder:null,folderRoles:[],isInDraftsFolder:!1,orgDraftsOwner:null,org:null,orgUser:null,currentOrg:null,team:null,orgs:{},dataLoaded:!1,fileSeenStatesByUserId:{},currentUser:null,sharedOrgLicenseGroupSetting:null,...w(e,t,r,n)}}function S(e,t,r,n,a){if("loaded"!==e.status)return T(t,r,n,a);let o=e.data.file;if(!o)return T(t,r,n,a);let l=o.fileLinkExpirationConfig||o.sourceFileLinkExpirationConfig,s=(null==(A=o.repo)?void 0:A.defaultFileKey)===o.key,c=(null==(N=o.pwdConfig)?void 0:N.updatedAt)||null,d=(null==(L=o.pwdConfig)?void 0:L.setByUser)?(0,p.YV)(o.pwdConfig.setByUser):null,m={canEdit:o.canEdit,canEditCanvas:o.canEditCanvas,hasEditRole:o.hasEditRole,hasViewRole:o.hasViewRole,canView:o.canView,canViewPrototype:o.canViewPrototype,canViewPrototypeLinks:o.hasViewPrototypeRole,passwordSetAt:c,passwordSetByUser:d,isOwner:s?!!(null==(P=null==(R=o.repo)?void 0:R.roleOnObjectForUser)?void 0:P.isOwnerOfResource):!!(null==(M=o.roleOnObjectForUser)?void 0:M.isOwnerOfResource),isPublishedHubFile:!!o.publishedHubFile&&!o.publishedHubFile.unpublishedAt,mainFileLinkExpirationConfig:(0,p.i4)(l),folderAccessEnabled:(0,i.Fc)(o.folderAccessEnabled)||!1,scFileExperienceEnabled:(0,i.Fc)(o.scFileExperienceEnabled)||!1,...(0,p.ye)(o)},_={};o.repo&&o.repo.roles.forEach(e=>{e.userId&&(_[e.userId]=e)});let h={};o.project&&o.project.roles.forEach(e=>{e.userId&&(h[e.userId]=e)});let g={};o.team&&o.team.roles.forEach(e=>{e.userId&&(g[e.userId]=e)});let f={};(s?o.repo.roles:o.roles).forEach(e=>{var t,r,n;let i=e.user?(0,p.YV)(e.user):null;if(i){let a=(null==(t=e.user)?void 0:t.orgUser)||(null==(r=e.user)?void 0:r.guestOrgUser),o=_[i.id],l=g[i.id],s=h[i.id],c=(null==(n=e.user)?void 0:n.teamUser)?{...e.user.teamUser,designPaidStatus:e.user.teamUser.designPaidStatus,whiteboardPaidStatus:e.user.teamUser.whiteboardPaidStatus}:null,d=(0,p.XU)(e,i,a||null,c||null);f[i.id]=d.pending?d:{...d,folderLevel:(null==s?void 0:s.level)||null,teamLevel:(null==l?void 0:l.level)||null,repoLevel:(null==o?void 0:o.level)||null}}else e.pending&&(f[`pending-${e.id}`]=(0,p.XU)(e,null,null,null))});let b={};(0,E.Ev)(t)&&o.fileSeenStates.forEach(e=>{let t=e.user?(0,p.YV)(e.user):null;if(t){let r=_[t.id],n=g[t.id],i=h[t.id],a=(0,p.oL)(e,t);b[a.user_id]={...a,folderLevel:(null==i?void 0:i.level)||null,teamLevel:(null==n?void 0:n.level)||null,repoLevel:(null==r?void 0:r.level)||null}}});let v={};(null==(k=e.data.currentUser)?void 0:k.allBaseOrgUsers)&&e.data.currentUser.allBaseOrgUsers.forEach(e=>{e.org&&(v[e.org.id]={})});let I=o.repo?{...(0,p.eY)(o.repo),canEdit:o.repo.canEdit,mainFileLinkExpirationConfig:(0,p.i4)(l)}:null;if(O(l)){let e={link_access:l.prevPrivateLinkAccess,proto_link_access:l.prevPrivateProtoLinkAccess,org_browsable:l.prevOrgBrowsable};m={...m,...e},I&&(I={...I,...e})}let S=(null==(D=o.project)?void 0:D.orgDraftsFolderOwnerBaseOrgUser)?{id:o.project.orgDraftsFolderOwnerBaseOrgUser.id,design_paid_status:o.project.orgDraftsFolderOwnerBaseOrgUser.accountType,whiteboard_paid_status:o.project.orgDraftsFolderOwnerBaseOrgUser.whiteboardPaidStatus||u.m8.STARTER,user_id:o.project.orgDraftsFolderOwnerBaseOrgUser.userId,user:(0,p.YV)(o.project.orgDraftsFolderOwnerBaseOrgUser.user)}:null,C=o.project;var A,N,L,R,P,M,k,D,F,x,U,B,G,V,H,W,K=void 0;return o.org&&"loaded"===o.org.imgUrl.status&&null!==o.org.imgUrl.data&&(K=o.org.imgUrl.data),{file:m,repo:I,rolesByUserId:f,fileSeenStatesByUserId:b,fileRoleRequests:o.fileRoleRequests,folder:C&&{name:C.path,is_view_only:!!C.viewOnlyAt,is_invite_only:!!C.inviteOnlyAt,team_id:C.teamId,team_access:"loaded"===C.teamAccess.status?C.teamAccess.data:null},folderRoles:C&&C.roles||[],isInDraftsFolder:(0,y.AR)(C),orgDraftsOwner:S,org:o.org?{id:o.org.id,name:o.org.name,img_url:K,domain_capture:!!o.org.domainCapture,workshop_enabled:!o.org.workshopDisabledAt,invite_whitelist_guest_invite_setting:null==(F=o.org.inviteWhitelist)?void 0:F.guestInviteSetting,figjam_disabled_at:o.org.figjamDisabledAt,org_domains:(0,p.M5)(o.org.orgDomains),bigma_enabled:!!o.org.bigmaEnabledAt}:null,orgUser:(null==(x=o.org)?void 0:x.currentBaseOrgUser)?{id:o.org.currentBaseOrgUser.id,org_id:o.org.id,user_id:null==(U=e.data.currentUser)?void 0:U.id,permission:o.org.currentBaseOrgUser.permission,license_group_member:o.org.currentBaseOrgUser.licenseGroupMember?{license_group_id:o.org.currentBaseOrgUser.licenseGroupMember.licenseGroupId}:void 0,design_paid_status:o.org.currentBaseOrgUser.designPaidStatus,whiteboard_paid_status:o.org.currentBaseOrgUser.whiteboardPaidStatus}:null,currentOrg:e.data.org?{domain_capture:!!e.data.org.domainCapture,id:e.data.org.id,invite_whitelist_guest_invite_setting:(null==(B=e.data.org.inviteWhitelist)?void 0:B.guestInviteSetting)||null,figjam_disabled_at:e.data.org.figjamDisabledAt}:null,team:o.team?{id:o.team.id,name:o.team.name,img_url:"loaded"===o.team.imgUrl.status&&o.team.imgUrl.data||void 0,subscription:o.team.subscription,student_team:!!o.team.studentTeamAt,grace_period_end:o.team.gracePeriodEnd?o.team.gracePeriodEnd.toISOString():null,canRead:o.team.canRead,org_access:o.team.orgAccess}:null,orgs:v,dataLoaded:!0,currentUser:e.data.currentUser,sharedOrgLicenseGroupSetting:(0,p.uU)(o.org?{id:o.org.id,bigma_enabled:!!(null==(G=o.org)?void 0:G.bigmaEnabledAt)}:null,(null==(V=o.org)?void 0:V.sharedOrgLicenseGroupSetting)??(null==(H=e.data.org)?void 0:H.sharedOrgLicenseGroupSetting),null==(W=o.team)?void 0:W.workspaceSharedSetting),...w(m,r,n,a)}}function C(e,t){let r;let n=null,i=null;return"loaded"===e.status&&"loaded"===t.status?(r="loaded",n=o()(e.data,t.data)):"errors"===e.status||"errors"===t.status?(r="errors",i=o()(e.errors||[],t.errors||[])):r="loading",{status:r,data:n,errors:i}}function A(e){var t;return{dispatch:e.dispatch,dropdownShown:e.dropdownShown,modalShown:e.modalShown,currentUserOrgId:e.currentUserOrgId,orgDomains:e.orgDomains,user:e.user,orgUser:e.orgUser,org:e.org,orgs:e.orgs,hideLinkAccessInfo:F(e.file),team:e.team,inWorkshop:"fullscreen"===e.selectedView.view&&((null==(t=e.selectedView.workshopModeInfo)?void 0:t.until)||new Date)>new Date}}let O=e=>{if(!e)return!1;let{accessReverted:t,expiresAt:r}=e;return!t&&!!r&&(0,s.c)().isAfter(r)};function N(e){var t;let r="whiteboard"!==e.editorType&&e.org&&e.org.bigma_enabled?(null==(t=e.file.mainFileLinkExpirationConfig)?void 0:t.id)??"optimistic":null;return{fileKey:e.file.key,isBranch:(0,f.wB)(e.file),containingRepo:e.repo,hasEditRole:(0,E.QT)(e.file.hasEditRole,e.file,e.isFreeUserOnly,e.isInDraftsFolder),noun:(0,f.oR)(e.file),onUpdate:(t,n,i)=>{e.dispatch(c.__({file:{...t,key:e.file.key},onError:n,onSuccess:i,linkExpirationConfigId:r,currentUser:e.currentUser}))},permissions:e.file,mainFileLinkExpirationConfig:e.file.mainFileLinkExpirationConfig,passwordSetAt:e.file.passwordSetAt,passwordSetByUser:e.file.passwordSetByUser,isFreeUserOnly:e.isFreeUserOnly,isInDraftsFolder:e.isInDraftsFolder,isOwner:e.file.isOwner,isPublishedHubFile:e.file.isPublishedHubFile,editorType:e.editorType,sharedOrgLicenseGroupSetting:e.sharedOrgLicenseGroupSetting,isUI3:e.isUI3,...A(e)}}function L(e){var t;let r=e.repo;if(!r)throw Error("repoAccessRowProps called on a non-repo");let n=e.org&&e.org.bigma_enabled?(null==(t=e.file.mainFileLinkExpirationConfig)?void 0:t.id)??"optimistic":null;return{isBranch:(0,f.wB)(e.file),containingRepo:r,hasEditRole:r.canEdit,noun:"file",onUpdate:(t,i,a)=>{e.dispatch(d.__({repo:{...t,id:r.id,default_file_key:r.default_file_key},onError:i,onSuccess:a,linkExpirationConfigId:n,currentUser:e.currentUser}))},permissions:{...r,has_file_link_password:e.file.has_file_link_password,has_proto_link_password:e.file.has_proto_link_password},passwordSetAt:e.file.passwordSetAt,passwordSetByUser:e.file.passwordSetByUser,isFreeUserOnly:e.isFreeUserOnly,isInDraftsFolder:e.isInDraftsFolder,isOwner:e.file.isOwner,editorType:e.editorType,mainFileLinkExpirationConfig:e.file.mainFileLinkExpirationConfig,sharedOrgLicenseGroupSetting:e.sharedOrgLicenseGroupSetting,...A(e)}}function R(e,t,r){var n;let i=e.repo,a="whiteboard"!==e.editorType&&e.org&&e.org.bigma_enabled?(null==(n=e.file.mainFileLinkExpirationConfig)?void 0:n.id)??"optimistic":null,o=(i?i.link_access:e.file.link_access)||u.O6.INVITE_ONLY,l={discoverable:(i?i.org_browsable:e.file.org_browsable)||!1,linkAccess:o,protoLinkAccess:i?i.proto_link_access:e.file.proto_link_access,filePasswordEnabled:e.file.has_file_link_password??!1,protoPasswordEnabled:e.file.has_proto_link_password??!1},s=i&&e.file.key===i.default_file_key?(t,r,n)=>{e.dispatch(d.__({repo:{...t,id:i.id,default_file_key:i.default_file_key},onError:r,onSuccess:n,linkExpirationConfigId:a,currentUser:e.currentUser}))}:(t,r,n)=>{e.dispatch(c.__({file:{...t,key:e.file.key},onError:r,onSuccess:n,linkExpirationConfigId:a,currentUser:e.currentUser}))};return{org:e.org||void 0,goBack:t,onUpdate:s,permissions:l,isPrototype:r,editorType:e.editorType,bigmaEnabled:!!(e.org&&e.org.bigma_enabled),mainFileLinkExpirationConfig:e.file.mainFileLinkExpirationConfig,user:e.user,sharedOrgLicenseGroupSetting:e.sharedOrgLicenseGroupSetting,hasEditRole:i?i.canEdit:e.file.hasEditRole,dropdownShown:e.dropdownShown,modalShown:e.modalShown,isBranch:(0,f.wB)(e.file),passwordSetAt:e.file.passwordSetAt,passwordSetByUser:e.file.passwordSetByUser,fileKey:e.file.key,canEdit:e.file.canEdit,viewerExportRestricted:e.file.viewer_export_restricted,showRestrictViewerExportOption:(0,v.So)(e.team)}}function P(e,t){return{folderRoles:e.folderRoles,team:e.team,folder:e.folder,goBack:t}}function M({startingPointNodeId:e,startingPointsData:t}){if(t&&t.length>1&&e){let r=t.find(t=>t.id===e);if(r)return(0,g.t)("permissions.copy_link_button.visual_bell.copy_prototype_link_name",{name:r.name})}return(0,g.t)("permissions.copy_link_button.visual_bell.copy_prototype_link")}function k({nodeType:e,selectedView:t,startingPointsData:r,numPages:n}){let i="prototype"===t.view,a="fullscreen"===t.view,o=(0,g.t)("permissions.copy_link_button.visual_bell.copy_file_link");if(i){let{startingPointNodeId:e}=t;o=M({startingPointNodeId:e,startingPointsData:r})}else a&&("FRAME"===e&&"design"===t.editorType?o=(0,g.t)("permissions.copy_link_button.visual_bell.copy_frame_link"):"CANVAS"===e&&n>1?o=(0,g.t)("permissions.copy_link_button.visual_bell.copy_page_link"):e&&"CANVAS"!==e&&(o=(0,g.t)("permissions.copy_link_button.visual_bell.copy_selection_link")));return o}function D(e,t){if(!e)return null;let r=e.repo&&(0,f.UJ)(e,e.repo),n=(0,y.AR)(e.project),{filePermissions:i,repoPermissions:a,orgPermissions:o,projectPermissions:l,teamPermissions:s}=function(e){var t;let r=e=>({link_access:e.linkAccess,proto_link_access:e.protoLinkAccess,org_audience:e.orgAudience,org_browsable:e.orgBrowsable,has_file_link_password:e.hasFileLinkPassword,has_proto_link_password:e.hasProtoLinkPassword,team_id:e.teamId});return{filePermissions:{file_repo_id:e.fileRepoId,source_file_key:e.sourceFileKey,...r(e)},repoPermissions:e.repo&&{default_file_key:e.repo.defaultFileKey,...r(e.repo)},orgPermissions:e.org?{id:e.org.id,name:e.org.name,domain_capture:!!e.org.domainCapture,workshop_enabled:!e.org.workshopDisabledAt,invite_whitelist_guest_invite_setting:null==(t=e.org.inviteWhitelist)?void 0:t.guestInviteSetting,figjam_disabled_at:e.org.figjamDisabledAt,shared_org_license_group_settings:(0,p.uU)({id:e.org.id,bigma_enabled:!!e.org.bigmaEnabledAt},e.org.sharedOrgLicenseGroupSetting),bigma_enabled:!!e.org.bigmaEnabledAt}:null,teamPermissions:e.team&&{name:e.team.name,canRead:e.team.canRead,org_access:e.team.orgAccess},projectPermissions:e.project&&{name:e.project.path,is_invite_only:!!e.project.inviteOnlyAt}}}(e),{level:c,audience:d,publicProto:u}=(0,_.SA)(r?a:i),m={file_repo_id:i.file_repo_id,source_file_key:null,team_id:i.team_id};if(t&&"on"===u)return{tooltipText:(0,g.t)("permissions.copy_link_button.tooltip.public_view"),access:h.kT.PUBLIC_VIEW};if("inherit"===d&&!n||!t&&"proto-view-only"===c){let{copyLinkDisclaimer:e,access:r}=(0,h.tw)({file:(0,f.wB)(i)?m:i,team:s,org:o,folder:l,repo:a,isInDraftsFolder:n,isProtoView:t});return{tooltipText:e,access:r}}let E="view"===c;switch(d){case"public":if(t||E)return{tooltipText:t?(0,g.t)("permissions.copy_link_button.tooltip.public_view_prototype"):(0,g.t)("permissions.copy_link_button.tooltip.public_view"),access:h.kT.PUBLIC_VIEW};return{tooltipText:(0,g.t)("permissions.copy_link_button.tooltip.public_edit"),access:h.kT.PUBLIC_EDIT};case"public-password":if(t||E)return{tooltipText:t?(0,g.t)("permissions.copy_link_button.tooltip.public_password_view_prototype"):(0,g.t)("permissions.copy_link_button.tooltip.public_password_view"),access:h.kT.PUBLIC_PASSWORD_VIEW};return{tooltipText:(0,g.t)("permissions.copy_link_button.tooltip.public_password_edit"),access:h.kT.PUBLIC_PASSWORD_EDIT};case"org":case"org-browsable":if(null==o?void 0:o.name){if(t||E)return{tooltipText:t?(0,g.t)("permissions.copy_link_button.tooltip.org_view_prototype",{org:o.name}):(0,g.t)("permissions.copy_link_button.tooltip.org_view",{org:o.name}),access:h.kT.ORG_VIEW};return{tooltipText:(0,g.t)("permissions.copy_link_button.tooltip.org_edit",{org:o.name}),access:h.kT.ORG_EDIT}}if(t||E)return{tooltipText:t?(0,g.t)("permissions.copy_link_button.tooltip.org_view_no_name_prototype"):(0,g.t)("permissions.copy_link_button.tooltip.org_view_no_name"),access:h.kT.ORG_VIEW};return{tooltipText:(0,g.t)("permissions.copy_link_button.tooltip.org_edit_no_name"),access:h.kT.ORG_EDIT};case"inherit":return t?{tooltipText:(0,g.t)("permissions.copy_link_button.tooltip.people_invited_can_view_prototype"),access:h.kT.INVITE_VIEW}:{tooltipText:(0,g.t)("permissions.copy_link_button.tooltip.people_invited_can_access"),access:h.kT.INVITE_ACCESS}}}function F(e){return!!(!e.canEdit&&e.viewer_export_restricted&&e.link_access===u.O6.INHERIT)}function x(e,t){let r=function(e,t){let{audience:r}=(0,_.SA)(e);switch(r){case"inherit":return(0,g.t)("file_access_row.only_people_invited_to_this_noun",{noun:(0,g.t)("file_info_row.file")});case"public":return(0,g.t)("file_access_row.anyone_with_the_link");case"public-password":return(0,g.t)("file_access_row.anyone_with_the_link_and_password");case"org":return(0,g.t)("file_access_row.anyone_at_org_name_with_the_link",{orgName:t.name});case"org-browsable":return(0,g.t)("file_access_row.anyone_at_org_name",{orgName:t.name});default:(0,l.gy)(r)}}(e,t),n=function(e){let{audience:t,level:r}=(0,_.SA)(e);if("inherit"===t)return(0,g.t)("file_access_row.can_access");switch(r){case"view":return(0,g.t)("file_access_row.can_view");case"edit":return(0,g.t)("file_access_row.can_edit");case"proto-view-only":return(0,g.t)("file_access_row.can_view_prototypes");default:(0,l.gy)(r)}}(e);return`${r} ${n}`}},846004:(e,t,r)=>{"use strict";r.d(t,{$P:()=>N,Ev:()=>O,I$:()=>k,IR:()=>I,Ip:()=>w,K:()=>D,KU:()=>R,QT:()=>S,Qp:()=>M,SK:()=>C,i8:()=>L,kH:()=>A,kJ:()=>v,kv:()=>T,qi:()=>y.q,wp:()=>P});var n=r(307824),i=r(120304),a=r(441748),o=r(843148),l=r(514916),s=r(553432),c=r(13468),d=r(200800),u=r(927976);r(546772);var p=r(439460);r(596496);var m=r(402980),_=r(333928),h=r(708168),g=r(154328),f=r(242679);r(533056);var E=r(644516),y=r(160112);function b(e,t,r=!1,n,i){let a={...e};if(!r)return a;for(let r in e)if(r in t.fileByKey){let e=i&&i.hasOwnProperty(r);(!e||i[r])&&(e||(0,s.canManageFile)(r,t,n))||delete a[r]}return a}function v(e,t){var r;return!!(null==(r=t.fileByKey[e])?void 0:r.trashed_at)}function I(e,t,r=!1,n){let i=b(e,t,r,!0,n),a={};for(let e in i)v(e,t)||(a[e]=t.fileByKey[e]);return a}function w(e,t,r=!1){let n=b(e,t,r,!0),i={};for(let e in n)v(e,t)&&(i[e]=!0);for(let r in e){let e=t.fileByKey[r];e&&null===e.folder_id&&(0,s.canEditFile)(r,t,!0)&&(i[r]=!0)}return i}function T(e,t,r=!1){let n=b(e,t,r,!0),i={};for(let e in n)e in t.fileByKey&&v(e,t)&&t.fileByKey[e].folder_id&&(i[e]=t.fileByKey[e]);return i}function S(e,t,r,n){if((0,o.Ub)().ps_benchmark){if(n&&!t.parent_org_id&&t.parent_team&&!t.parent_team.subscription||n&&!t.parent_org_id&&!t.parent_team)return!1}else if(!t.team_id&&r)return!1;return e}function C(e,t,r){if(!e)return!t;if((0,o.Ub)().ps_benchmark){if((0,E.uO)(e))return!0;if(r)return!1}return!0}function A(e,t,r,n){return t?!e&&t.invite_whitelist_guest_invite_setting!==d.wt.BANNED:C(e,r,n)}function O(e){return!!e&&!e.parent_org_id&&(e.link_access===l.O6.VIEW||e.link_access===l.O6.EDIT)}function N(e){var t;return!!e.has_file_link_password&&((t=e.link_access)===l.O6.VIEW||t===l.O6.EDIT)}function L(e){return!!e.has_proto_link_password&&e.proto_link_access===l.eI.VIEW}function R(e){let{selectedView:t,file:r,repo:n,attributionContext:i,isReadOnly:a,isFigJam:o}=e,l="prototype"===t.view,s=(0,c.SH)(t),d=(0,p.Oe)(r);if(l){let e=(0,f.Gg)({nodeId:t.startingPointNodeId,showHotspots:t.showHotspots,showProtoSidebar:t.showProtoSidebar});return d?`${(0,p.mw)(r,n,"proto").href}${e}`:`${(0,g.OI)(r.key,r.name)}${e}`}if(d){let e=(0,p.mw)(r,n,"file");return s&&e.searchParams.append("node-id",(0,h.W)(s)),i&&e.searchParams.append("t",i),e.href}return(0,_.ie)({file:r,nodeId:s,isDevHandoff:(0,u.ie)(t),isReadOnly:a,isFigJam:o,attributionContext:i})}function P(){return(0,i.w1)(e=>e.fileByKey)}function M(e,t){return!N(e)||(0,o.Ub)().password_file_show_thumbnail&&(0,s.canViewResource)(l.y4.FILE,e.key,t)?e.thumbnail_guid?{url:e.thumbnail_url,fullWidth:!0,isLocked:!1}:e.thumbnail_url_override?{url:e.thumbnail_url_override,fullWidth:!0,isLocked:!1}:{url:e.thumbnail_url,fullWidth:!1,isLocked:!1}:{url:null,fullWidth:!0,isLocked:!0}}Date.parse("2021-04-21T15:00:00+0000");let k=4;function D({file:e}){let{url:t,fullWidth:r,isLocked:i}=M(e,(0,m.Ad)()),o=e.touched_at??e.updated_at,[l,s]=(0,n.useState)(null),[c,d]=(0,n.useState)(!0);return(0,n.useEffect)(()=>{s(null),d(!0)},[e.key]),(0,n.useEffect)(()=>{let e=()=>{s(t),d(r)};if(!t||!o){e();return}let n=(0,a.c)().subtract(k,"seconds"),i=(0,a.c)(o);if(i.isBefore(n)){e();return}let l=setTimeout(e,i.diff(n));return()=>clearTimeout(l)},[o,t,r]),{url:l,fullWidth:c,isLocked:i}}},506940:(e,t,r)=>{"use strict";r.d(t,{CI:()=>A,Gt:()=>y,Oc:()=>h,ee:()=>C,gd:()=>E,kr:()=>b,qO:()=>I,uw:()=>_,yj:()=>f});var n=r(307824),i=r(120304),a=r(161400),o=r(87975),l=r(888932),s=r(403132),c=r(386304),d=r(233159),u=r(948408),p=r(306440);let m=["canvas","inline_menu","comment_thread","help_widget","delightful_toolbar","main_toolbar"],_="focus-next-area",h="focus-previous-area",g={canvas:null,inline_menu:null,comment_thread:null,main_toolbar:null,delightful_toolbar:null,help_widget:null};function f(e,t){g[e]=t}function E(){let e=g.canvas;return null==e||e.focus(),e}function y(e){var t;let r=null==(t=g.canvas)?void 0:t.querySelector(`[id^="accessibility-comment-pin-${e}"]`);null==r||r.focus()}function b(){var e;let t=null==(e=g.main_toolbar)?void 0:e.querySelector('[data-tooltip^="set-tool-comments"]');null==t||t.focus()}function v(e){let t,r=function(){for(let e of m)if(function(e){var t;return null!=(t=g[e])&&!!t.contains(document.activeElement)}(e))return e;return"canvas"}();for(;null==t;){let n="forward"===e?function(e){let t=(m.indexOf(e)+1)%m.length;return m[t]}(r):function(e){let t;let r=m.indexOf(e);return t=0===r?m.length-1:(r-1)%m.length,m[t]}(r);if(t=function(e){var t,r;let n=null;switch(e){case"canvas":n=null==(t=g[e])?void 0:t.querySelector('[tabindex]:not([tabindex="-1"])');break;case"comment_thread":return null;default:n=(null==(r=g[e])?void 0:r.querySelector('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])'))||null}return n||null}(n)||g[n],r=n,"canvas"===n&&null==t){t=(0,u.Sm)();break}}return null==t||t.focus(),t}function I(e){return w(e)||T(e)}function w(e){let t=l.cp.mac&&(0,o.MP)(e,o.Cs.CONTROL|o.Cs.META);return"F6"===e.key&&(0,o.MP)(e,o.Cs.CONTROL)||l.cp.mac&&"F6"===e.key&&0===(0,o.I1)(e)||t&&"ArrowRight"===e.key}function T(e){let t=l.cp.mac&&(0,o.MP)(e,o.Cs.CONTROL|o.Cs.META);return"F6"===e.key&&(0,o.MP)(e,o.Cs.SHIFT|o.Cs.CONTROL)||l.cp.mac&&"F6"===e.key&&(0,o.MP)(e,o.Cs.SHIFT)||t&&"ArrowLeft"===e.key}let S=(e,t,r)=>{let n=e=>{var r;e&&(null==(r=a.x)?void 0:r.getState().dropdownShown)&&t(s.yi())};T(e)?(e.preventDefault(),e.stopPropagation(),n(v("backward")),r(d.sc.FOCUS_CYCLE_PREVIOUS_AREA,{key:e.key}),t(c.dQ({key:h}))):w(e)&&(e.preventDefault(),e.stopPropagation(),n(v("forward")),r(d.sc.FOCUS_CYCLE_NEXT_AREA,{key:e.key}),t(c.dQ({key:_})))};function C(){let e=(0,p.c$)(),t=(0,i.OY)(),r=(0,d.Kc)();(0,n.useEffect)(()=>{if(!("fullscreen"===e.view&&"whiteboard"===e.editorType))return;let n=e=>S(e,t,r);return document.addEventListener("keydown",n),()=>document.removeEventListener("keydown",n)},[t,e,r])}function A(e){let{e:t,onClickHandler:r,onEscapeHandler:n}=e;r&&t.keyCode===o.as.ENTER&&r(t),n&&t.keyCode===o.as.ESCAPE&&n(t)}},596496:(e,t,r)=>{"use strict";r.d(t,{AR:()=>b,CO:()=>g,C_:()=>B,El:()=>T,Gq:()=>C,Kc:()=>U,So:()=>I,Ul:()=>D,_c:()=>R,eA:()=>L,ec:()=>f,gX:()=>h,iM:()=>S,jr:()=>E,mA:()=>M,ms:()=>x,oz:()=>k,qU:()=>y,s1:()=>O,u_:()=>w,w5:()=>N,wX:()=>F,yw:()=>P,z3:()=>v});var n=r(843148),i=r(506616),a=r(425396),o=r(514916),l=r(472956),s=r(815464),c=r(553432),d=r(790548);r(685656);var u=r(790184),p=r(546772),m=r(978976);let _="temp-";function h(e,t){return f(e[t])}function g(e){let t=!!e&&""===e.path;return(0,n.Ub)().ps_benchmark?t:t&&!e.teamId}function f(e){let t=!!e&&""===e.path;return(0,n.Ub)().ps_benchmark?t:t&&!e.team_id}function E(e){return e.startsWith(_)}function y(){return`${_}${+new Date}`}function b(e){return(0,n.Ub)().ps_benchmark?(null==e?void 0:e.path)==="":(null==e?void 0:e.path)===""&&!(null==e?void 0:e.teamId)}function v(e){return(null==e?void 0:e.path)===""&&!!(null==e?void 0:e.teamId)}function I(e,t,r,n){if(!e)return null;if(n)return t[n.drafts_folder_id]||null;for(let n in t){let i=t[n],a=r[n]?r[n][e]:null;if(!i.teamId&&""===i.path&&null==i.orgId&&a&&a.level===p.m.OWNER)return i}return null}function w(e){return e&&!e.team_id&&""!==e.path&&!!e.org_id}function T(e){return e&&!e.teamId&&""!==e.path&&!!e.orgId}function S(e){return(null==e?void 0:e.path)===""?(0,u.E$)():null==e?void 0:e.path}function C(e){return void 0===e?null:""===e?(0,u.E$)():e}function A(e,t,r){let n=r.byFolderId[e.id],i=(n?Object.keys(n).map(e=>n[e]):[]).find(e=>e.level===p.m.OWNER);return{folderId:e.id,folderName:S(e),teamName:e.teamId&&t[e.teamId]?t[e.teamId].name:"",ownerHandle:i&&!1===i.pending?i.user.handle:""}}function O(e,t,r,n){t=t.filter(t=>t.id!==e.id);let i=A(e,r,n),a=t.map(e=>A(e,r,n)).filter(e=>e.folderName===i.folderName);if(0===a.length)return;let o=a.filter(e=>e.teamName===i.teamName);if(i.teamName&&0===o.length)return i.teamName;let l=o.filter(e=>e.ownerHandle===i.ownerHandle);if(i.ownerHandle&&0===l.length)return i.ownerHandle}function N(e,t,r){let n=new Date(e.touched_at||e.updated_at);return t[e.id]?t[e.id].filter(e=>e in r).map(e=>{let t=r[e];if(!t)return null;let n=t.touched_at||t.updated_at||t.created_at;return n?new Date(n):null}).reduce((e,t)=>t?e>t?e:t:e,n):n}function L(e,t){return null!=t&&t in e}function R(e,t){return t.fileKeysByFolderId[e]&&0===t.fileKeysByFolderId[e].length&&t.repoIdsByFolderId[e]&&0===t.repoIdsByFolderId[e].length}function P(e,t){let r=t.folders[e];if(r&&r.org_id)return r.org_id;if(r&&r.team_id){let e=t.teams[r.team_id];if(e&&e.org_id)return e.org_id}}function M(e){return e.length<=0?"Please provide a name":e.length>255?"Sorry, name must be at max 255 characters.":e.match(/[\/\\:?*"|]/)?'The following characters are not allowed:  / : ? * " |':void 0}function k(e,t,r,n,i,a,l,d){let u=t[e]||{id:e},p=n[e]||[],m=l[e]||[],_={};return m.forEach(e=>{_[e]=(i[e]||[]).map(e=>r[e]).filter(Boolean).sort((e,t)=>new Date(t.touched_at).getTime()-new Date(e.touched_at).getTime())}),{...u,files:p.map(e=>r[e]).filter(Boolean).sort((e,t)=>new Date(t.touched_at).getTime()-new Date(e.touched_at).getTime()),repos:m.map(e=>a[e]).filter(Boolean),filesByRepoId:_,canEdit:(0,c.canEditFolder)(u.id,d),canCreateWhiteboardFile:(0,c.canCreateFile)(u.id,d,o.aE.WHITEBOARD),canCreateDesignFile:(0,c.canCreateFile)(u.id,d,o.aE.DESIGN),canView:(0,c.canViewFolder_DEPRECATED)(u.id,d),isEditingLocked:(0,s.KQ)(u,d),team:u.team_id&&d.teams[u.team_id]||null}}function D(e,t){return{tileSortFilterConfig:t.folders.byId[e]||t.folders.default,sortKeys:[m._2.NAME,m._2.CREATED_AT,m._2.TOUCHED_AT]}}function F(e,t,r,i){var a;if(!(0,n.Ub)().ps_benchmark)return(0,d.CE)(e,t);let o=r&&(0,c.canViewTeam)(r,i);return t?`${location.origin}/files/${t}/project/${e}`:o?`${location.origin}/files/team/${r}/project/${e}`:(null==(a=i.user)?void 0:a.personal_drafts_folder_id)===e?`${location.origin}/files/drafts-to-move`:`${location.origin}/files/project/${e}`}function x(e){return!!e&&!!e.team_id&&!e.path}function U(e){return!!e&&!!e.teamId&&!e.path}function B(e,t){let r=(0,i.Qb)(l.XUA,{projectId:e.id});return"loaded"===r.status&&"loaded"!==r.data.project.status?a.YF.loading():r.transform(r=>{var n;return"loaded"===r.project.status&&!(null==(n=r.project.data)?void 0:n.ownerRole)&&!!e.team_id&&(0,c.hasAdminRoleAccessOnTeam)(e.team_id,t)})}},308624:(e,t,r)=>{"use strict";let n,i,a,o;r.d(t,{cP:()=>h,me:()=>n,wl:()=>g,yy:()=>v});var l=r(51408),s=r(972920),c=r(560072),d=r(317704),u=r(762820),p=r(784528),m=r(626436),_=r(998e3);let h="accessibility-screen-reader-announcement",g="selection";var f=((i=f||{})[i.NONE=0]="NONE",i[i.UP=1]="UP",i[i.DOWN=2]="DOWN",i[i.RIGHT=4]="RIGHT",i[i.LEFT=8]="LEFT",i[i.UP_RIGHT=5]="UP_RIGHT",i[i.UP_LEFT=9]="UP_LEFT",i[i.DOWN_RIGHT=6]="DOWN_RIGHT",i[i.DOWN_LEFT=10]="DOWN_LEFT",i),E=((a=E||{})[a.NONE=0]="NONE",a[a.HORIZONTAL=1]="HORIZONTAL",a[a.VERTICAL=2]="VERTICAL",a[a.BOTH=3]="BOTH",a),y=((o=y||{})[o.NONE=0]="NONE",o[o.DECREASED=1]="DECREASED",o[o.INCREASED=2]="INCREASED",o);class b{constructor(e){this.store=e,this.debounceNodeResizeUpdate=(0,s.C)(e=>{this.announceDomChange(u.AT.NODE_RESIZED,e);let t=u.ugv.getActiveDocument();u.SWE.resetStoredSelectedNodeBounds(t)},200),this.debounceNodeMovementUpdate=(0,s.C)(e=>{this.announceDomChange(u.AT.NODE_MOVED,e);let t=u.ugv.getActiveDocument();u.SWE.resetStoredSelectedNodeBounds(t)},200)}announceDomChange(e,t){let r=this.store.getState();if(!r.screenreader.enabled)return;let n=function(e,t,r){let n=t.targetNodeType?I(t.targetNodeType):"";switch(e){case u.AT.NODE_CREATED:if(t.targetNodeType===u.__k.STAMP&&t.stickableHostType)return(0,c.t)("fullscreen.accessibility.stamp_attached_announcement",{hostType:I(t.stickableHostType)});return(0,c.t)("fullscreen.accessibility.node_created_announcement",{node_type:n});case u.AT.NODE_DELETED:return t.multiSelection?(0,c.t)("fullscreen.accessibility.multiple_node_deleted_announcement"):(0,c.t)("fullscreen.accessibility.node_deleted_announcement",{node_type:n});case u.AT.TEXT_SELECTION:return(0,c.t)("fullscreen.accessibility.next_text_node_announcement",{nodeType:n});case u.AT.TOOL:if(t.targetNodeType===u.__k.STAMP)return;return t.targetNodeType!==u.__k.NONE?(0,c.t)("fullscreen.accessibility.tool_selected",{nodeType:n,shortcut:(0,p.O0)(r,"toggle-menu")}):(0,c.t)("fullscreen.accessibility.tool_unselected");case u.AT.TABLE_CELL_TEXT_SELECTION:if(null!=t.tableCellCol&&null!=t.tableCellRow)return(0,c.t)("fullscreen.accessibility.next_table_cell_announcement",{r:t.tableCellRow,c:t.tableCellCol});return(0,c.t)("fullscreen.accessibility.next_text_node_announcement",{nodeType:n});case u.AT.NODE_RESIZED:let i,a,o;let l=t.nodeSizeDelta;if(!l)return;let s=0,d=0,m=0;switch(0!==l.x&&(s|=1,d=l.x>0?2:1),0!==l.y&&(s|=2,m=l.y>0?2:1),s){case 0:return;case 1:i=(0,c.t)("fullscreen.accessibility.node_resize_horizontal"),a=w(d),o=Math.abs(l.x);break;case 2:i=(0,c.t)("fullscreen.accessibility.node_resize_vertical"),a=w(m),o=Math.abs(l.y);break;default:let _=Math.abs(l.x),h=w(d),g=Math.abs(l.y),f=w(m);return(0,c.t)("fullscreen.accessibility.node_resize_bidirectional",{nodeType:n,resizedComparisonX:h,nodeResizeXDelta:(0,c.t)("fullscreen.accessibility.node_unit",{numUnits:_}),resizedComparisonY:f,nodeResizeYDelta:(0,c.t)("fullscreen.accessibility.node_unit",{numUnits:g})})}return(0,c.t)("fullscreen.accessibility.node_resize_unidirectional",{nodeType:n,nodeSizeDelta:o,resizeComparison:a,nodeDirection:i});case u.AT.NODE_MOVED:let E,y,b=0,v=t.nodeMovementDelta;if(!v)return;switch(v.x>0?b|=4:v.x<0&&(b|=8),v.y<0?b|=1:v.y>0&&(b|=2),b){case 0:return;case 1:E=(0,c.t)("fullscreen.accessibility.node_movement_up"),y=Math.abs(v.y);break;case 2:E=(0,c.t)("fullscreen.accessibility.node_movement_down"),y=Math.abs(v.y);break;case 4:E=(0,c.t)("fullscreen.accessibility.node_movement_right"),y=Math.abs(v.x);break;case 8:E=(0,c.t)("fullscreen.accessibility.node_movement_left"),y=Math.abs(v.x);break;default:let T=(4&b)==4?(0,c.t)("fullscreen.accessibility.node_movement_right"):(0,c.t)("fullscreen.accessibility.node_movement_left"),S=Math.abs(v.x),C=(1&b)==1?(0,c.t)("fullscreen.accessibility.node_movement_up"):(0,c.t)("fullscreen.accessibility.node_movement_down"),A=Math.abs(v.y);return(0,c.t)("fullscreen.accessibility.node_movement_bidirectional",{nodeType:n,nodePositionXDelta:(0,c.t)("fullscreen.accessibility.node_unit",{numUnits:S}),nodeDirectionX:T,nodePositionYDelta:(0,c.t)("fullscreen.accessibility.node_unit",{numUnits:A}),nodeDirectionY:C})}return(0,c.t)("fullscreen.accessibility.node_movement_unidirectional",{nodeType:n,nodePositionDelta:y,nodeDirection:E});default:return}}(e,t,r.mirror.appModel.keyboardShortcuts),i=function(e){switch(e){case u.AT.NODE_CREATED:case u.AT.NODE_DELETED:return"creation-deletion";case u.AT.NODE_RESIZED:return"resize";case u.AT.NODE_MOVED:return"movement";case u.AT.TEXT_SELECTION:case u.AT.TABLE_CELL_TEXT_SELECTION:return g;case u.AT.TOOL:return"tool";default:return}}(e);n&&i&&this.store.dispatch(d.A.enqueue({type:`${h}-${i}`,message:n,role:"status",timeoutOverride:500}))}debounceNodeResizeUpdate(e){this.store.getState().screenreader.enabled&&this.debouncedResizeUpdate(e)}debounceNodeMovementUpdate(e){this.store.getState().screenreader.enabled&&this.debouncedMovementUpdate(e)}prefersReducedMotion(){return matchMedia("(prefers-reduced-motion: reduce)").matches}getAPCAContrast(e,t){return(0,l.Ks)((0,_.od)(e),(0,_.od)(t))}}function v(e){n=new b(e)}function I(e){let t=u.__k[e];return(0,m.u)(t)}function w(e){switch(e){case 1:return(0,c.t)("fullscreen.accessibility.node_resize_decrease");case 2:return(0,c.t)("fullscreen.accessibility.node_resize_increase");default:return(0,c.t)("fullscreen.accessibility.node_resize_none")}}},701664:(e,t,r)=>{"use strict";r.d(t,{O:()=>a});var n=r(572748),i=r(836780);let a=(0,i.If)(({currentUserOrgId:e,orgById:t})=>(0,n.q6)(e,t));(0,i.If)(({orgUsersByOrgId:e})=>e)},5868:(e,t,r)=>{"use strict";r.d(t,{AX:()=>a,kF:()=>o,uK:()=>l,yI:()=>s});var n=r(623131),i=r(836780);let a=(0,i.If)(e=>e.user),o=(0,n.Zf)(e=>{var t;return null==(t=e(a))?void 0:t.id}),l=(0,n.Zf)(e=>{var t;return null==(t=e(a))?void 0:t.created_at});(0,i.If)(e=>e.userStateLoaded);let s=(0,i.If)(e=>e.isStarterUser)},220180:(e,t,r)=>{"use strict";r.d(t,{A$:()=>u,E5:()=>l,IV:()=>_,UF:()=>h,Yh:()=>y,Z9:()=>m,_4:()=>p,c_:()=>s,eI:()=>g,of:()=>c,qy:()=>f,sZ:()=>d,uC:()=>E});var n=r(768832),i=r(936756),a=r(50451),o=r(762820);let l="<!--(figma)",s="(/figma)-->",c='<span data-buffer="'+l,d=s+'"></span>',u="<!--(figmeta)",p="(/figmeta)-->",m='<span data-metadata="'+u,_=p+'"></span>';function h(e,t,r){let a='<meta charset="utf-8">'+c+(0,n.OW)(t)+d+(0,i.Gq)(r);try{e.setData("text/html",a)}catch(e){console.warn("DataTransfer failed in clipboard event")}}function g(e){let t;try{t=e.getData("text/html")}catch(e){return console.warn("DataTransfer failed in clipboard event"),null}return function(e){let t=e.indexOf(l),r=e.indexOf(s);return t>=0&&r>=0&&t<r?(0,n.YP)(e.slice(t+l.length,r)):null}(t)}function f(e){var t;return!!(null==(t=e.clipboardData)?void 0:t.getData("text/html").includes(l))}function E(e,t){let r=a.O.encodeMessage({type:"STYLE",pasteFileKey:null!=e?e:void 0,sessionID:0,ackID:0,nodeChanges:[{guid:{sessionID:0,localID:0},phase:"CREATED",...t}]});return o.i46.encodeClipboardData(r)}function y(e){return a.O.decodeMessage(o.i46.decodeClipboardData(e))}},998e3:(e,t,r)=>{"use strict";function n(e){if(0===e.s)return{r:e.l,g:e.l,b:e.l,a:e.a};let t=e.l<.5?e.l*(1+e.s):e.l+e.s-e.l*e.s,r=2*e.l-t,n=[0,0,0];for(let i=0;i<3;i++){let a=e.h+-(1/3*(i-1));a<0&&a++,a>1&&a--,6*a<1?n[i]=r+(t-r)*6*a:2*a<1?n[i]=t:3*a<2?n[i]=r+(t-r)*(2/3-a)*6:n[i]=r}return{r:n[0],g:n[1],b:n[2],a:e.a}}function i(e){let t=e.r,r=e.g,n=e.b,i=Math.min(Math.min(t,r),n),a=Math.max(Math.max(t,r),n),o=a-i,l=0;a===i?l=0:t===a?l=(r-n)/o:r===a?l=2+(n-t)/o:n===a&&(l=4+(t-r)/o),(l=Math.min(60*l,360))<0&&(l+=360);let s=(i+a)/2;return{h:l/=360,s:a===i?0:s<=.5?o/(a+i):o/(2-a-i),l:s,a:e.a}}function a(e){let t=(e.h-Math.floor(e.h))*6,r=e.v*e.s,n=r*(1-Math.abs(t%2-1)),i=e.s<=0?0:t<1?r:t<2?n:t<3?0:t<4?0:t<5?n:r,a=e.s<=0?0:t<1?n:t<2?r:t<3?r:t<4?n:0,o=e.s<=0?0:t<1?0:t<2?0:t<3?n:t<4?r:t<5?r:n,l=e.v-r;return{r:i+l,g:a+l,b:o+l,a:e.a}}function o(e){let t=Math.max(Math.max(e.r,e.g),e.b),r=t-Math.min(Math.min(e.r,e.g),e.b);return{h:(0===r?0:t===e.r?((e.g-e.b)/r+6)%6:t===e.g?(e.b-e.r)/r+2:(e.r-e.g)/r+4)/6,s:0===t?0:r/t,v:t,a:e.a}}function l(e){return"l"in e?n(e):a(e)}function s(e){return"l"in e?{...e,s:1,l:.5,a:1}:{...e,s:1,v:1,a:1}}function c(e){return 255&(e>0?255*e+.5:0)}function d(e,t,r,n){return c(e)|c(t)<<8|c(r)<<16|c(n)<<24}function u(e,t,r){return c(e)|c(t)<<8|c(r)<<16|-16777216}function p(e){return c(e.red)|c(e.green)<<8|c(e.blue)<<16|c(e.alpha)<<24}function m(e){return{red:(255&e)/255,green:(e>>8&255)/255,blue:(e>>16&255)/255,alpha:(e>>24&255)/255}}function _(e,t){let r=e.alpha,n=t.alpha,i=r*(1-n),a=i+n,o=i/a,l=n/a;return{red:e.red*o+t.red*l,green:e.green*o+t.green*l,blue:e.blue*o+t.blue*l,alpha:a}}function h(e,t){return!!e&&!!t&&d(e.r,e.g,e.b,e.a)===d(t.r,t.g,t.b,t.a)}function g(e){return{red:e.r,green:e.g,blue:e.b,alpha:e.a}}function f(e){return{r:e.red,g:e.green,b:e.blue,a:e.alpha}}function E(e,t){let r=[];for(let n=0;n<3;n++)r.push(e[n][0]*t[0]+e[n][1]*t[1]+e[n][2]*t[2]);return r}function y(e){return b({l:e.l,ax:e.c*Math.cos(360*e.h*Math.PI/180),bx:e.c*Math.sin(360*e.h*Math.PI/180),a:e.a})}function b(e){let t=E([[.9999999984505198,.39633779217376786,.2158037580607588],[1.0000000088817609,-.10556134232365635,-.06385417477170591],[1.0000000546724108,-.08948418209496575,-1.2914855378640917]],[e.l,e.ax,e.bx]),r=E([[1.2268798733741557,-.5578149965554813,.28139105017721583],[-.04057576262431372,1.1122868293970594,-.07171106666151701],[-.07637294974672142,-.4214933239627914,1.5869240244272418]],t.map(e=>e**3)),n=E([[12831/3959,-329/214,-1974/3959],[-851781/878810,1648619/878810,36519/878810],[705/12673,-2585/12673,705/667]],r).map(function(e){let t=Math.abs(e);return t>.0031308?(e<0?-1:1)*(1.055*Math.pow(t,1/2.4)-.055):12.92*e});return{r:n[0],g:n[1],b:n[2],a:e.a}}r.d(t,{IL:()=>m,M9:()=>g,Y1:()=>n,YT:()=>o,Yf:()=>u,_2:()=>i,aK:()=>b,cn:()=>l,cr:()=>p,ik:()=>h,kJ:()=>s,od:()=>f,ou:()=>y,s7:()=>_,yC:()=>a})},519156:(e,t,r)=>{"use strict";let n;r.d(t,{B2:()=>m,Y1:()=>d,yy:()=>p});var i,a=r(843148),o=r(326660),l=r(401968),s=((n=s||{})[n.Unknown=0]="Unknown",n[n.No=1]="No",n[n.Yes=2]="Yes",n);let c=0;function d(e,t){if("srgb"===t)return e.getContext("2d");{let r=(0,l.eg)();return e.getContext("2d",{colorSpace:r?"srgb":t})}}let u=null==(i=document.createElement("canvas").getContext("2d",{colorSpace:"srgb",willReadFrequently:!0}))?void 0:i.canvas;function p({canvas:e,canvasWidth:t,canvasHeight:r,renderCanvas:n,value:i,colorSpace:d,initializeCanvasColorSpace:p=!1}){if(p&&e.getContext("2d",{colorSpace:d}),((0,a.Ub)().ee_color_management_force_canvas||(0,l.eg)())&&1!==c){if(u){u.width=t,u.height=r,n(u,i);let d=u.getContext("2d"),p=e.getContext("2d");if(d&&p)try{!function(e,t){if(e.canvas.width!==t.canvas.width||e.canvas.height!==t.canvas.height)throw Error("source ctx and target ctx dimensions don't match");if("getContextAttributes"in e&&"srgb"!==e.getContextAttributes().colorSpace)throw Error("source ctx is not srgb");if("getContextAttributes"in t&&"display-p3"!==t.getContextAttributes().colorSpace&&!((0,a.Ub)().ee_color_management_force_canvas&&"srgb"===t.getContextAttributes().colorSpace))throw Error("target ctx is not display-p3");let[r,n]=[t.canvas.width,t.canvas.height],i=e.getImageData(0,0,r,n),o=new ImageData(i.data,i.width,i.height,{colorSpace:"getContextAttributes"in e?t.getContextAttributes().colorSpace:"srgb"});t.clearRect(0,0,r,n),t.putImageData(o,0,0)}(d,p),0===c&&(c=2)}catch{(0,o.Ij)("color management","polyfill failed",{ee_color_management_force_canvas:(0,a.Ub)().ee_color_management_force_canvas,shouldUseCssColorLevel4Polyfill:(0,l.eg)(),is2dCanvasPolyfillSupportedByBrowser:s[c]}),n(e,i),c=1}}}else n(e,i)}function m(e){switch(e){case"fullscreen":case"mobile-viewer":return document.querySelector("#fullscreen-root canvas");case"prototype":return document.querySelector("#viewerContainer canvas");case"mirror":return document.querySelector("#mobileAppView canvas")}}},954636:(e,t,r)=>{"use strict";r.d(t,{M:()=>o,U:()=>l});var n=r(762820),i=r(78728);function a(e,t){switch(e){case"DOCUMENT":return t;case"SRGB":return n.AXT.SRGB;case"DISPLAY_P3_V4":return n.AXT.DISPLAY_P3}}function o(e,t){var r;if(1===e.length)return a(e[0].colorProfile??"DOCUMENT",t);{let n=(null==(r=e[0])?void 0:r.colorProfile)??"DOCUMENT";for(let t of e)if((t.colorProfile??"DOCUMENT")!==n){n="DOCUMENT";break}return a(n,t)}}function l(e,t){switch(e){case n.AP$.LEGACY:return t===i.S.DISPLAY_P3?n.AXT.DISPLAY_P3:n.AXT.SRGB;case n.AP$.SRGB:return n.AXT.SRGB;case n.AP$.DISPLAY_P3:return n.AXT.DISPLAY_P3}}},880492:(e,t,r)=>{"use strict";r.d(t,{e:()=>o});var n=r(326660),i=r(762820),a=r(578324);let o=new class{constructor(){this.onFrameCb=null,this.switchWebglColorSpace=(e,t)=>{let r=e.drawingBufferColorSpace;switch(t){case i.AXT.SRGB:if("srgb"===r)return;e.drawingBufferColorSpace="srgb",a.w.setCanvasColorProfile(i.AXT.SRGB);break;case i.AXT.DISPLAY_P3:if("display-p3"===r)return;e.drawingBufferColorSpace="display-p3",a.w.setCanvasColorProfile(i.AXT.DISPLAY_P3);break;default:(0,n.WI)("color management","unsupported color space",{targetColorSpace:t})}}}onFrame(){this.onFrameCb&&this.onFrameCb(),this.onFrameCb=null}queueSwitchWebglColorSpace(e,t,r){"mirror"===r?this.switchWebglColorSpace(e,t):this.onFrameCb=()=>{this.switchWebglColorSpace(e,t)}}}},471332:(e,t,r)=>{"use strict";r.d(t,{ME:()=>I,Oh:()=>T,Kk:()=>A,ek:()=>O,tp:()=>b,IT:()=>v});var n=r(307824),i=r(120304),a=r(843148),o=r(372152),l=r(550444),s=r(585508),c=r(762820),d=r(69040),u=r(84656),p=r(519156),m=r(54087),_=r(954636),h=r(880492);let g=(0,r(623131).Zf)(!1);function f(e){let[t,r]=(0,o.lZ)(g);return n.useEffect(()=>{t&&r(!1)},[t,r]),t?null:n.createElement(n.Fragment,null,e.children)}var E=r(661324);let y=n.createContext({canvasColorProfile:c.AXT.SRGB,documentColorProfile:c.AP$.LEGACY,documentExportColorProfile:c.AXT.SRGB});function b(){return n.useContext(y).canvasColorProfile}function v(){return n.useContext(y).documentColorProfile}let I=y.Consumer;function w(e){let{children:t,colorManagementStateJs:r}=e,i=(0,u.U3)(null==r?void 0:r.documentColorProfile(),c.AP$.LEGACY),a=(0,m.m)(i),{colorProfilePreference:o}=(0,E.A9)(),l=n.useMemo(()=>({documentColorProfile:i,documentExportColorProfile:(0,_.U)(i,o),canvasColorProfile:a}),[o,i,a]);return n.createElement(y.Provider,{value:l},t)}function T(e){(0,E.A9)();let t=(0,i.w1)(e=>{var t;return null==(t=e.selectedView)?void 0:t.view}),r=n.useMemo(()=>"prototype"===t?void 0:c.QdL,[t]);return n.createElement(w,{colorManagementStateJs:r},e.children)}function S({target:e,viewer:t}){let[r,i]=n.useState(null),o=n.useCallback(()=>{if(r)return!0;let t=(0,p.B2)(e);return!!t&&(i((0,a.Ub)().use_webgl2?t.getContext("webgl2"):t.getContext("webgl")),!0)},[e,r]);n.useEffect(()=>{if(!o())switch(e){case"fullscreen":case"mobile-viewer":s.CA.onReady().then(()=>{o()});break;case"prototype":case"mirror":t&&t.on("documentIsLoaded",()=>{o()})}},[o,e,t]);let l=b();return n.useEffect(()=>{r&&h.e.queueSwitchWebglColorSpace(r,l,e)},[l,e,r]),null}function C({viewer:e,target:t}){return n.createElement(l.Ou,{boundaryKey:"color-management",fallback:l.Yd.DEFAULT_FULL_PAGE,hasCustomWASMBuild:d.eY},n.createElement(o.ms,null,n.createElement(f,null,n.createElement(T,null,n.createElement(S,{target:t,viewer:e})))))}function A(){return n.createElement(C,{target:"fullscreen"})}function O({viewer:e}){return n.createElement(C,{target:"prototype",viewer:e})}},401968:(e,t,r)=>{"use strict";r.d(t,{O2:()=>_,Py:()=>l,_M:()=>d,eg:()=>p,qC:()=>E});var n=r(307824),i=r(899116),a=r(762820),o=r(492084);function l(e){switch(e){case a.AXT.SRGB:return"srgb";case a.AXT.DISPLAY_P3:return"display-p3";default:throw Error(`unrecognized color profile: ${e}`)}}let s=(0,o.w)(e=>{try{if(e===a.AXT.SRGB)return!0;let t=document.createElement("canvas").getContext("webgl");if(!t)throw Error("failed to create webgl canvas context to determine support");if(!("drawingBufferColorSpace"in t))throw Error("webgl context does not contain drawingBufferColorSpace attribute");let r=l(e);if(t.drawingBufferColorSpace=r,t.drawingBufferColorSpace!==r)throw Error(`webgl context does not support color space: ${r}`);return!0}catch(e){return!1}}),c=(0,o.w)(e=>{try{if(e===a.AXT.SRGB)return!0;let t=document.createElement("canvas"),r=l(e),n=t.getContext("2d",{colorSpace:r});if(n){if("getContextAttributes"in n){if(n.getContextAttributes().colorSpace!==r)throw Error("2d canvas context does not match the desired color space")}else throw Error("2d canvas context does not support getContextAttributes")}else throw Error("failed to create 2d canvas context to determine support");if(p()){let e=new ImageData(new Uint8ClampedArray([0,0,0,0]),1,1,{colorSpace:r});if(!("colorSpace"in e)||e.colorSpace!==r)throw Error(`image does not support color space: ${r}`)}return!0}catch(e){return!1}}),d=()=>"undefined"!=typeof CSS&&"function"==typeof CSS.supports&&CSS.supports("color","color(display-p3 1 1 1)"),u=()=>window.matchMedia("(color-gamut: p3)").matches,p=()=>!d();async function m(){if(!i.sZ)return;let e=await i.sZ.getActiveNSScreens();if(e){for(let t of e)if(!t.isCurrentWindow&&t.canRepresentDisplayGamutP3)return t.localizedName}}function _(e){switch(e.status){case"SupportedNatively":case"SupportedWithPolyfill":return!0;case"MonitorNotSupported":case"ClientNotSupported":return!1}}let h=()=>{let[e,t]=n.useState();return n.useEffect(()=>{m().then(t)},[]),e},g=()=>{let[e,t]=n.useState(u());return n.useEffect(()=>{let e=setInterval(()=>{t(u())},5e3);return()=>{clearInterval(e)}},[]),e},f=()=>i.sZ&&"unmanaged"===i.sZ.getColorSpace();function E(){let e=n.useMemo(()=>s(a.AXT.DISPLAY_P3),[]),t=n.useMemo(()=>c(a.AXT.DISPLAY_P3),[]),r=n.useMemo(()=>d(),[]),o=f(),l=h(),u=g();return e&&t?o?{status:"ClientNotSupported",diagnostics:{client:"desktop-app",shouldRestartDesktopAppInManagedColorSpace:!0}}:u?r?{status:"SupportedNatively",diagnostics:null}:{status:"SupportedWithPolyfill",diagnostics:null}:{status:"MonitorNotSupported",diagnostics:{alternativeMonitorName:l}}:{status:"ClientNotSupported",diagnostics:{client:i.sZ?"desktop-app":"browser"}}}},661324:(e,t,r)=>{"use strict";r.d(t,{A9:()=>b,EN:()=>g,S4:()=>I,a6:()=>E,kF:()=>y,sH:()=>v});var n=r(307824),i=r(60452),a=r(161400),o=r(623131),l=r(372152),s=r(957044),c=r(61836),d=r(557044),u=r(90340),p=r(514916),m=r(762820),_=r(78728);let h={colorProfilePreference:p.st.DEFAULT,id:""},g=(0,i.A)("USER_UPDATE_COLOR_PROFILE"),f=(0,o.Zf)(e=>{var t,r,n,i,o,l,c,d,u,m,f,E,y;let b=e((0,s.OW)({})),v=h.colorProfilePreference;"loading"===b.status&&void 0!==a.x&&(null==(n=null==(r=null==(t=a.x)?void 0:t.getState())?void 0:r.user)?void 0:n.color_profile)?v=null==(i=a.x.getState().user)?void 0:i.color_profile:(null==(l=null==(o=b.data)?void 0:o.userColorProfilePreference)?void 0:l.colorProfilePreference)&&(v=null==(d=null==(c=b.data)?void 0:c.userColorProfilePreference)?void 0:d.colorProfilePreference);let I={colorProfilePreference:function(e){switch(e){case p.st.DEFAULT:return _.S.DEFAULT;case p.st.SRGB:return _.S.SRGB;case"display-p3":case p.st.DISPLAY_P3:return _.S.DISPLAY_P3}}(v),id:(null==(m=null==(u=b.data)?void 0:u.userColorProfilePreference)?void 0:m.id)??h.id};return void 0!==a.x&&(null==(y=null==(E=null==(f=a.x)?void 0:f.getState())?void 0:E.user)?void 0:y.color_profile)!==I.colorProfilePreference&&a.x.dispatch(g({color_profile:I.colorProfilePreference})),I});function E(e){switch(e){case _.S.DEFAULT:case _.S.SRGB:return m.AXT.SRGB;case _.S.DISPLAY_P3:return m.AXT.DISPLAY_P3}}function y(){return l.qM.get(f)}function b(){return(0,l.m4)(f)}function v({colorProfilePreference:e,id:t,eventName:r="user_manual_change",additionalDataToLog:n}){var i,o,l;if(e===h.colorProfilePreference)return;!function(e){let t=a.x.getState();(0,u.E3)("color_profile_preference",t,{userColorProfile:e.userColorProfilePreference.colorProfilePreference,userColorProfileId:e.userColorProfilePreference.id,eventName:e.eventName,...e.additionalDataToLog??{}})}({userColorProfilePreference:{colorProfilePreference:e,id:t},eventName:r,additionalDataToLog:n});let s=void 0!==t,p=d.cp.put("/api/user",{color_profile:e});if(s)null==(i=(0,c.w3)())||i.optimisticallyUpdate({UserColorProfilePreference:{[t]:{colorProfilePreference:e}}},p);else{let t=null==(o=a.x.getState().user)?void 0:o.id;if(!t)return;null==(l=(0,c.w3)())||l.optimisticallyCreate({UserColorProfilePreference:{"optimistic-id":{colorProfilePreference:e,userId:t,createdAt:new Date,updatedAt:new Date}}},p)}}function I(){let e=b();return n.useCallback((t,r)=>{e.colorProfilePreference===_.S.DEFAULT&&v({colorProfilePreference:t,id:e.id,eventName:`default_to_${t===_.S.SRGB?"srgb":"p3"}`,additionalDataToLog:{desktopSetting:r.desktopSetting,p3Plugins:r.p3Plugins?Object.values(r.p3Plugins):null,canSeeP3:r.canSeeP3}})},[e.colorProfilePreference,e.id])}},762820:(e,t,r)=>{"use strict";let n,i,a,o,l,s,c,d,u,p,m,_,h,g,f,E,y,b,v,I,w,T,S,C,A,O,N,L,R,P,M,k,D,F,x,U,B,G,V,H,W,K,Y,q,j,$,Z,z,Q,X,J,ee,et,er,en,ei,ea,eo,el,es,ec,ed,eu,ep,em,e_,eh,eg,ef,eE,ey,eb,ev,eI,ew,eT,eS,eC,eA,eO,eN,eL,eR,eP,eM,ek,eD,eF,ex,eU,eB,eG,eV,eH,eW,eK,eY,eq,ej,e$,eZ,ez,eQ,eX,eJ,e0,e1,e2,e4,e3,e6,e8,e5,e7,e9,te,tt,tr,tn,ti,ta,to,tl,ts,tc,td,tu,tp,tm,t_,th,tg,tf,tE,ty,tb,tv,tI,tw,tT,tS,tC,tA,tO,tN,tL,tR,tP,tM,tk,tD,tF,tx,tU,tB,tG,tV,tH,tW,tK,tY,tq,tj,t$,tZ,tz,tQ,tX,tJ,t0,t1,t2,t4,t3,t6,t8,t5,t7,t9,re,rt,rr,rn,ri,ra,ro,rl,rs,rc,rd,ru,rp,rm,r_,rh,rg,rf,rE,ry,rb,rv,rI,rw,rT,rS,rC,rA,rO,rN,rL,rR,rP,rM,rk,rD,rF,rx,rU,rB,rG,rV,rH,rW,rK,rY,rq,rj,r$,rZ,rz,rQ,rX,rJ,r0,r1,r2,r4,r3,r6,r8,r5,r7,r9,ne,nt,nr,nn,ni,na,no,nl,ns,nc,nd,nu,np,nm,n_,nh,ng,nf,nE,ny,nb,nv,nI,nw,nT,nS,nC,nA,nO,nN,nL,nR,nP,nM,nk,nD,nF,nx,nU,nB,nG,nV,nH,nW,nK,nY,nq,nj,n$,nZ,nz,nQ,nX,nJ,n0,n1,n2,n4,n3,n6,n8,n5,n7,n9,ie,it,ir,ii,ia,io,il,is,ic,id,iu,ip,im,i_,ih,ig,iE,iy,ib,iv,iI,iw,iT,iS,iC,iA,iO,iN,iL,iR,iP,iM,ik,iD,iF,ix,iU,iB,iG,iV,iH,iW,iK,iY,iq,ij,i$,iZ,iz,iQ,iX,iJ,i0,i1,i2,i4,i3,i6,i8,i5,i7,i9,ae,at,ar,an,ai,aa,ao,al,as,ac,ad,au,ap,am;r.d(t,{A5$:()=>cj,AHL:()=>dR,AHW:()=>d_,AP$:()=>dK,AT:()=>ul,AXT:()=>dW,Abq:()=>X,App:()=>ek,At9:()=>dV,C04:()=>df,CML:()=>e$,CQ9:()=>sM,CWy:()=>eD,C_D:()=>da,CaZ:()=>i,CeN:()=>cR,Cpn:()=>te,EBV:()=>sk,EDU:()=>d9,EJk:()=>db,EPt:()=>dL,EZ7:()=>dz,EdD:()=>cI,Ehi:()=>eP,Enc:()=>ej,EvL:()=>z,FU2:()=>s$,FwJ:()=>eK,G0k:()=>dU,GUD:()=>sX,Gcj:()=>sH,Gg$:()=>h,Goi:()=>sL,GqY:()=>ea,GyV:()=>e9,GyX:()=>dt,I1w:()=>c5,I6V:()=>sq,I7U:()=>k,IBo:()=>dj,IHu:()=>es,IR3:()=>dr,IR4:()=>cc,IXO:()=>A,Iah:()=>dq,Ir:()=>uE,K2t:()=>y,KEP:()=>a,KM0:()=>sv,KQM:()=>dE,KwF:()=>ub,Ky0:()=>cr,M$e:()=>cO,M3L:()=>dT,M7G:()=>c2,MJr:()=>c_,MTb:()=>sW,MXH:()=>cf,MXu:()=>er,Mhd:()=>eX,Mlw:()=>e8,MtN:()=>sj,Mtq:()=>l,Mty:()=>cH,MzI:()=>cJ,O05:()=>cB,O0M:()=>uT,OCK:()=>dn,OCl:()=>eC,ODV:()=>s5,OQ8:()=>sI,OQf:()=>dv,OSR:()=>uo,OSv:()=>dQ,OWx:()=>sZ,Ocq:()=>c1,Og1:()=>cD,OkL:()=>uM,Okr:()=>sf,Oox:()=>c4,Q1C:()=>cL,Q5I:()=>tr,Q7J:()=>sG,QDw:()=>ch,QFr:()=>P,QHg:()=>ue,QPp:()=>de,QUp:()=>eU,QdL:()=>ex,Ql_:()=>eq,RGT:()=>eF,Rv6:()=>cz,S0Y:()=>us,S6F:()=>sb,S8x:()=>d$,SSM:()=>dx,SSV:()=>eT,SWE:()=>eJ,Sbl:()=>ct,Sw6:()=>sg,SwQ:()=>eB,Tcd:()=>uw,U9L:()=>ew,UBf:()=>cb,UFJ:()=>cm,UH2:()=>eY,Ufk:()=>dk,Urk:()=>cU,Ux9:()=>sm,W8V:()=>c7,W8r:()=>sY,WCQ:()=>sh,WGR:()=>eb,WS8:()=>ca,WWl:()=>dp,WYk:()=>dN,W_0:()=>sE,WiH:()=>uL,Wii:()=>dX,Ws3:()=>Q,XcX:()=>cT,Y57:()=>Y,YJO:()=>uy,YXl:()=>s8,Ylw:()=>dg,YxK:()=>d0,_22:()=>cp,_66:()=>cS,_8i:()=>F,_AQ:()=>cC,_Ko:()=>ev,_Q1:()=>B,_Qz:()=>ed,__k:()=>du,_gO:()=>sO,_oU:()=>ur,_sE:()=>sT,a48:()=>eV,a4s:()=>cV,aE_:()=>cG,aMS:()=>sA,aWZ:()=>dc,aWh:()=>U,a_3:()=>sS,a_v:()=>s9,ae0:()=>dF,auT:()=>dZ,ayv:()=>dA,c7s:()=>cw,cHn:()=>I,cJA:()=>eo,cP$:()=>cE,cf6:()=>ci,cpG:()=>g,cpk:()=>d2,e2e:()=>sw,eAh:()=>d7,eGU:()=>eI,eS:()=>o,ekv:()=>cy,fF:()=>sB,g$$:()=>sR,gFx:()=>ds,gRI:()=>dy,gVz:()=>eu,glt:()=>d8,gpy:()=>ec,i2Q:()=>dh,i46:()=>x,iCm:()=>sP,iEC:()=>eS,iMK:()=>sU,iUn:()=>cu,ibK:()=>ck,ig0:()=>sQ,iiI:()=>sK,ikJ:()=>D,ikQ:()=>cZ,imF:()=>dM,k5$:()=>eW,k5C:()=>ey,kDc:()=>cP,kL5:()=>dS,kPy:()=>c0,kfI:()=>c3,kpL:()=>n,m2t:()=>dO,mKA:()=>sx,mMU:()=>m,mSx:()=>dl,mUF:()=>M,mWV:()=>ef,maB:()=>cN,mcG:()=>cK,med:()=>cl,mmz:()=>d6,o$6:()=>uR,o$U:()=>sy,o3F:()=>cd,o3y:()=>cM,o5E:()=>s_,oHD:()=>cn,oPq:()=>uv,ok9:()=>un,omj:()=>dI,or$:()=>uu,p1I:()=>N,pVf:()=>dP,q09:()=>dw,q6Y:()=>dC,qSF:()=>e5,qSk:()=>d4,qkx:()=>eE,qqE:()=>cX,qsZ:()=>cq,s$Q:()=>uP,s9F:()=>ce,s9M:()=>dJ,sAy:()=>eg,sDf:()=>dD,sDv:()=>sp,sRF:()=>sz,sTm:()=>sF,u2q:()=>J,uAl:()=>dH,uQ8:()=>cs,uSN:()=>eL,uSk:()=>el,ucN:()=>cW,ugv:()=>e7,ui7:()=>em,uog:()=>ui,usI:()=>dG,usr:()=>b,uxq:()=>dd,w3:()=>$,w3O:()=>uf,w3X:()=>co,w7k:()=>ut,wFY:()=>ud,wZw:()=>u,wdD:()=>dm,wdF:()=>ua,wpU:()=>d1,y6c:()=>uI,y88:()=>c9,yEF:()=>C,yWc:()=>cF,yg_:()=>tn,yol:()=>L,zfd:()=>eG});class a_{constructor(e){this.handle=e}get someBool(){return s.__getProperty_someBool(this.handle)}}class ah extends a_{constructor(e){super(e),this.handle=e}set someBool(e){s.__setProperty_someBool(this.handle,e)}get someBool(){return super.someBool}}class ag{constructor(e){this.handle=e}get someNumber(){return c.__getProperty_someNumber(this.handle)}get nested(){return c.__getProperty_nested(this.handle)}}class af extends ag{constructor(e){super(e),this.handle=e}set someNumber(e){c.__setProperty_someNumber(this.handle,e)}get someNumber(){return super.someNumber}}class aE{constructor(e){this.handle=e}}class ay extends aE{constructor(e){super(e),this.handle=e}}class ab{constructor(e){this.handle=e}get showOutlines(){return _.__getProperty_showOutlines(this.handle)}get showOutlineObjectBounds(){return _.__getProperty_showOutlineObjectBounds(this.handle)}get showOutlineHiddenLayers(){return _.__getProperty_showOutlineHiddenLayers(this.handle)}get activeCanvasCurrentZoom(){return _.__getProperty_activeCanvasCurrentZoom(this.handle)}get activeCanvasRetinaMode(){return _.__getProperty_activeCanvasRetinaMode(this.handle)}get showFrameGridsViewOnly(){return _.__getProperty_showFrameGridsViewOnly(this.handle)}get overlayUiRendering(){return _.__getProperty_overlayUiRendering(this.handle)}get lockMouseMoves(){return _.__getProperty_lockMouseMoves(this.handle)}get allowTimeSlicedEditRenderingOptimization(){return _.__getProperty_allowTimeSlicedEditRenderingOptimization(this.handle)}get syncCursorRenderingToSceneGraph(){return _.__getProperty_syncCursorRenderingToSceneGraph(this.handle)}get showTimeSlicingEditRenderingDot(){return _.__getProperty_showTimeSlicingEditRenderingDot(this.handle)}get editFrameExtraSeconds(){return _.__getProperty_editFrameExtraSeconds(this.handle)}get editFrameExtraFramebufferSwitches(){return _.__getProperty_editFrameExtraFramebufferSwitches(this.handle)}get maxEditTimeSeconds(){return _.__getProperty_maxEditTimeSeconds(this.handle)}get selectionBoundingRect(){return _.__getProperty_selectionBoundingRect(this.handle)}get devHandoffEntryPointBoundingRect(){return _.__getProperty_devHandoffEntryPointBoundingRect(this.handle)}get inlineMenuTarget(){return _.__getProperty_inlineMenuTarget(this.handle)}get focusedStackRegion(){return _.__getProperty_focusedStackRegion(this.handle)}get scaleToolLastCanvasAnchorPoint(){return _.__getProperty_scaleToolLastCanvasAnchorPoint(this.handle)}get temporarilyHoveredNodes(){return _.__getProperty_temporarilyHoveredNodes(this.handle)}get thumbnailNodeId(){return _.__getProperty_thumbnailNodeId(this.handle)}get wandHoverHighlight(){return _.__getProperty_wandHoverHighlight(this.handle)}}class av extends ab{constructor(e){super(e),this.handle=e}}class aI{constructor(e){this.handle=e}get requestedPageChange(){return f.__getProperty_requestedPageChange(this.handle)}}class aw extends aI{constructor(e){super(e),this.handle=e}}class aT{constructor(e){this.handle=e}get pageToContainsNodeStatuses(){return E.__getProperty_pageToContainsNodeStatuses(this.handle)}}class aS extends aT{constructor(e){super(e),this.handle=e}}class aC{constructor(e){this.handle=e}get focusAnimationIsRunning(){return v.__getProperty_focusAnimationIsRunning(this.handle)}get currentNodeId(){return v.__getProperty_currentNodeId(this.handle)}get nodeIds(){return v.__getProperty_nodeIds(this.handle)}get readySectionItems(){return v.__getProperty_readySectionItems(this.handle)}get automaticIconDetection(){return v.__getProperty_automaticIconDetection(this.handle)}get focusNodeId(){return v.__getProperty_focusNodeId(this.handle)}get focusMode(){return v.__getProperty_focusMode(this.handle)}get selectedMeasurementId(){return v.__getProperty_selectedMeasurementId(this.handle)}}class aA extends aC{constructor(e){super(e),this.handle=e}}class aO{constructor(e){this.handle=e}get selectionEmpty(){return w.__getProperty_selectionEmpty(this.handle)}get selectionIsHyperlink(){return w.__getProperty_selectionIsHyperlink(this.handle)}get selectionIsMask(){return w.__getProperty_selectionIsMask(this.handle)}get shouldBlockUserEvents(){return w.__getProperty_shouldBlockUserEvents(this.handle)}get figmaScopeHighlightedNode(){return w.__getProperty_figmaScopeHighlightedNode(this.handle)}get keyboardLayoutPreference(){return w.__getProperty_keyboardLayoutPreference(this.handle)}get inPlaygroundMode(){return w.__getProperty_inPlaygroundMode(this.handle)}get shiftStraightLine(){return w.__getProperty_shiftStraightLine(this.handle)}get pencilStraightLine(){return w.__getProperty_pencilStraightLine(this.handle)}get handToolTemporarilyEnabled(){return w.__getProperty_handToolTemporarilyEnabled(this.handle)}get useNumbersForOpacity(){return w.__getProperty_useNumbersForOpacity(this.handle)}get nodesWithStatusForFile(){return w.__getProperty_nodesWithStatusForFile(this.handle)}get activeCommentAnchorData(){return w.__getProperty_activeCommentAnchorData(this.handle)}}class aN extends aO{constructor(e){super(e),this.handle=e}}class aL{constructor(e){this.handle=e}get activeEmbedData(){return T.__getProperty_activeEmbedData(this.handle)}}class aR extends aL{constructor(e){super(e),this.handle=e}}class aP{constructor(e){this.handle=e}get activeCanvasPixelPreview(){return S.__getProperty_activeCanvasPixelPreview(this.handle)}get renderRulers(){return S.__getProperty_renderRulers(this.handle)}get stackInsertionDebugMode(){return S.__getProperty_stackInsertionDebugMode(this.handle)}get renderStackShadows(){return S.__getProperty_renderStackShadows(this.handle)}get renderDynamicInsertionPoints(){return S.__getProperty_renderDynamicInsertionPoints(this.handle)}get shouldSetFullWidthChildToFill(){return S.__getProperty_shouldSetFullWidthChildToFill(this.handle)}get shouldAutoSegmentSelection(){return S.__getProperty_shouldAutoSegmentSelection(this.handle)}get renderALUVisualIndicators(){return S.__getProperty_renderALUVisualIndicators(this.handle)}get renderGrid(){return S.__getProperty_renderGrid(this.handle)}get showDotGrid(){return S.__getProperty_showDotGrid(this.handle)}get snapToPixelGrid(){return S.__getProperty_snapToPixelGrid(this.handle)}get snapToDotGrid(){return S.__getProperty_snapToDotGrid(this.handle)}get showPropertyLabels(){return S.__getProperty_showPropertyLabels(this.handle)}get showFrameGrids(){return S.__getProperty_showFrameGrids(this.handle)}get showMasks(){return S.__getProperty_showMasks(this.handle)}get showArtboardOutlines(){return S.__getProperty_showArtboardOutlines(this.handle)}get showSlices(){return S.__getProperty_showSlices(this.handle)}get hideHelpWidget(){return S.__getProperty_hideHelpWidget(this.handle)}get flipDuringResize(){return S.__getProperty_flipDuringResize(this.handle)}get renderAnnotations(){return S.__getProperty_renderAnnotations(this.handle)}get renderRedlines(){return S.__getProperty_renderRedlines(this.handle)}get layerHover(){return S.__getProperty_layerHover(this.handle)}get showSidebar(){return S.__getProperty_showSidebar(this.handle)}get keyboardZoomToSelection(){return S.__getProperty_keyboardZoomToSelection(this.handle)}get penToolAvoidSingleHandles(){return S.__getProperty_penToolAvoidSingleHandles(this.handle)}get snapToGeometry(){return S.__getProperty_snapToGeometry(this.handle)}get snapToObjects(){return S.__getProperty_snapToObjects(this.handle)}get aprilFun(){return S.__getProperty_aprilFun(this.handle)}get stickyTools(){return S.__getProperty_stickyTools(this.handle)}get disablePinchZoomFix(){return S.__getProperty_disablePinchZoomFix(this.handle)}get copyRenaming(){return S.__getProperty_copyRenaming(this.handle)}get smartQuotes(){return S.__getProperty_smartQuotes(this.handle)}get temporarilyHideViewportOverlay(){return S.__getProperty_temporarilyHideViewportOverlay(this.handle)}get rightClickPan(){return S.__getProperty_rightClickPan(this.handle)}get scrollWheelZoom(){return S.__getProperty_scrollWheelZoom(this.handle)}get expandedFramePresetType(){return S.__getProperty_expandedFramePresetType(this.handle)}get sidebarSplitPosition(){return S.__getProperty_sidebarSplitPosition(this.handle)}get devHandoffInspectSplitPosition(){return S.__getProperty_devHandoffInspectSplitPosition(this.handle)}get propertiesPanelSplitPosition(){return S.__getProperty_propertiesPanelSplitPosition(this.handle)}get pagesPanelHeight(){return S.__getProperty_pagesPanelHeight(this.handle)}get pagesPanelIsOpen(){return S.__getProperty_pagesPanelIsOpen(this.handle)}get colorFormat(){return S.__getProperty_colorFormat(this.handle)}get invertZoom(){return S.__getProperty_invertZoom(this.handle)}get cursorHighFiveWiggle(){return S.__getProperty_cursorHighFiveWiggle(this.handle)}get lowPower(){return S.__getProperty_lowPower(this.handle)}get showGuids(){return S.__getProperty_showGuids(this.handle)}get showFigmaScope(){return S.__getProperty_showFigmaScope(this.handle)}get canvasSearchDebug(){return S.__getProperty_canvasSearchDebug(this.handle)}get accessibilityDomDebug(){return S.__getProperty_accessibilityDomDebug(this.handle)}get fplDebug(){return S.__getProperty_fplDebug(this.handle)}get showQuickCommandRankDebug(){return S.__getProperty_showQuickCommandRankDebug(this.handle)}get showImmutableFrameSublayers(){return S.__getProperty_showImmutableFrameSublayers(this.handle)}get smallNudgeAmount(){return S.__getProperty_smallNudgeAmount(this.handle)}get bigNudgeAmount(){return S.__getProperty_bigNudgeAmount(this.handle)}get spellCheckPreference(){return S.__getProperty_spellCheckPreference(this.handle)}get enablePrototypingTabMerge(){return S.__getProperty_enablePrototypingTabMerge(this.handle)}get defaultEmojiSkinTone(){return S.__getProperty_defaultEmojiSkinTone(this.handle)}get handoffOutputFormat(){return S.__getProperty_handoffOutputFormat(this.handle)}get handoffPlatformTarget(){return S.__getProperty_handoffPlatformTarget(this.handle)}get ctrlClickContextMenu(){return S.__getProperty_ctrlClickContextMenu(this.handle)}get customCursor(){return S.__getProperty_customCursor(this.handle)}get similarIncludesMatching(){return S.__getProperty_similarIncludesMatching(this.handle)}get toggleSimilarHighlights(){return S.__getProperty_toggleSimilarHighlights(this.handle)}get exportSelectionSettings(){return S.__getProperty_exportSelectionSettings(this.handle)}get toggleNoodlesWithoutDragging(){return S.__getProperty_toggleNoodlesWithoutDragging(this.handle)}get useOldOutlineShortcuts(){return S.__getProperty_useOldOutlineShortcuts(this.handle)}get toggleDisplayDirtyRects(){return S.__getProperty_toggleDisplayDirtyRects(this.handle)}get toggleDisplayDirtyTiles(){return S.__getProperty_toggleDisplayDirtyTiles(this.handle)}}class aM extends aP{constructor(e){super(e),this.handle=e}}class ak{constructor(e){this.handle=e}}class aD extends ak{constructor(e){super(e),this.handle=e}}class aF{constructor(e){this.handle=e}}class ax extends aF{constructor(e){super(e),this.handle=e}}class aU{constructor(e){this.handle=e}showBigSectionNamePills(){return V.showBigSectionNamePills(this.handle)}sectionNestedZoomLevel(){return V.sectionNestedZoomLevel(this.handle)}showTidyUpButtonsOnCanvas(){return V.showTidyUpButtonsOnCanvas(this.handle)}}class aB extends aU{constructor(e){super(e),this.handle=e}}class aG{constructor(e){this.handle=e}viewportSpaceSelectionBounds(){return H.viewportSpaceSelectionBounds(this.handle)}currentDragBehaviorIsNullOr(e){return H.currentDragBehaviorIsNullOr(this.handle,e)}currentDragBehaviorIs(e){return H.currentDragBehaviorIs(this.handle,e)}canvasSpaceViewportRect(){return H.canvasSpaceViewportRect(this.handle)}canvasScale(){return H.canvasScale(this.handle)}isMouseOverCanvas(){return H.isMouseOverCanvas(this.handle)}canvasSpaceToViewportSpace(e){return H.canvasSpaceToViewportSpace(this.handle,e)}viewportSpaceToCanvasSpace(e){return H.viewportSpaceToCanvasSpace(this.handle,e)}}class aV extends aG{constructor(e){super(e),this.handle=e}}class aH{constructor(e){this.handle=e}canvasSpaceMouse(){return W.canvasSpaceMouse(this.handle)}viewportSpaceMouse(){return W.viewportSpaceMouse(this.handle)}invalidateViewport(){W.invalidateViewport(this.handle)}viewport(){return W.viewport(this.handle)}canvasGUID(){return W.canvasGUID(this.handle)}selectionNodeGUIDs(){return W.selectionNodeGUIDs(this.handle)}isMetaPressed(){return W.isMetaPressed(this.handle)}isOverSelection(){return W.isOverSelection(this.handle)}isStandardShortcutKeyPressed(){return W.isStandardShortcutKeyPressed(this.handle)}canvasSpaceMouseThreshold(){return W.canvasSpaceMouseThreshold(this.handle)}canvasSpaceSnappingThreshold(){return W.canvasSpaceSnappingThreshold(this.handle)}isShiftPressed(){return W.isShiftPressed(this.handle)}wasCanceled(){return W.wasCanceled(this.handle)}clickCount(){return W.clickCount(this.handle)}}class aW extends aH{constructor(e){super(e),this.handle=e}accept(){W.accept(this.handle)}findHoveredNodeId(){return W.findHoveredNodeId(this.handle)}canvasScene(){return W.canvasScene(this.handle)}setOwnedBySelection(e){W.setOwnedBySelection(this.handle,e)}}class aK{constructor(e){this.handle=e}}class aY extends aK{constructor(e){super(e),this.handle=e}fillRoundedRect(e,t,r){K.fillRoundedRect(this.handle,e,t,r)}fillRect(e,t){K.fillRect(this.handle,e,t)}fillCircle(e,t,r){K.fillCircle(this.handle,e,t,r)}strokeCircle(e,t,r,n){K.strokeCircle(this.handle,e,t,r,n)}fillAndStrokeCircle(e,t,r,n,i,a){K.fillAndStrokeCircle(this.handle,e,t,r,n,i,a)}fillText(e,t,r,n,i,a){K.fillText(this.handle,e,t,r,n,i,a)}renderFillAndStrokeRoundedRect(e,t,r,n,i,a,o){K.renderFillAndStrokeRoundedRect(this.handle,e,t,r,n,i,a,o)}renderContentFillIcon(e){K.renderContentFillIcon(this.handle,e)}renderSimilaritySearchIcon(e){K.renderSimilaritySearchIcon(this.handle,e)}}class aq{constructor(e){this.handle=e}}class aj extends aq{constructor(e){super(e),this.handle=e}clearCache(){q.clearCache(this.handle)}clearSnappingVisualizations(){q.clearSnappingVisualizations(this.handle)}addPostSnappingVisualizations(){q.addPostSnappingVisualizations(this.handle)}}class a${constructor(e){this.handle=e}get publishableSymbols(){return Z.__getProperty_publishableSymbols(this.handle)}get subscribedSymbols(){return Z.__getProperty_subscribedSymbols(this.handle)}get localSymbolsThatHaveUsages(){return Z.__getProperty_localSymbolsThatHaveUsages(this.handle)}get publishableStateGroups(){return Z.__getProperty_publishableStateGroups(this.handle)}get subscribedStateGroups(){return Z.__getProperty_subscribedStateGroups(this.handle)}get publishableStyles(){return Z.__getProperty_publishableStyles(this.handle)}get directlySubscribedStyles(){return Z.__getProperty_directlySubscribedStyles(this.handle)}get indirectlySubscribedStyles(){return Z.__getProperty_indirectlySubscribedStyles(this.handle)}get localStylesThatHaveUsages(){return Z.__getProperty_localStylesThatHaveUsages(this.handle)}get publishableModules(){return Z.__getProperty_publishableModules(this.handle)}get subscribedSymbolsOnCurrentPage(){return Z.__getProperty_subscribedSymbolsOnCurrentPage(this.handle)}get subscribedStateGroupsOnCurrentPage(){return Z.__getProperty_subscribedStateGroupsOnCurrentPage(this.handle)}get directlySubscribedStylesOnCurrentPage(){return Z.__getProperty_directlySubscribedStylesOnCurrentPage(this.handle)}get localSymbolsThatHaveUsagesOnCurrentPage(){return Z.__getProperty_localSymbolsThatHaveUsagesOnCurrentPage(this.handle)}get localStylesThatHaveUsagesOnCurrentPage(){return Z.__getProperty_localStylesThatHaveUsagesOnCurrentPage(this.handle)}get fileLevelVariableSetsSubscribed(){return Z.__getProperty_fileLevelVariableSetsSubscribed(this.handle)}get fileLevelVariablesSubscribed(){return Z.__getProperty_fileLevelVariablesSubscribed(this.handle)}get fileLevelVariableSetsLocal(){return Z.__getProperty_fileLevelVariableSetsLocal(this.handle)}get fileLevelVariablesLocal(){return Z.__getProperty_fileLevelVariablesLocal(this.handle)}}class aZ extends a${constructor(e){super(e),this.handle=e}}class az{constructor(e){this.handle=e}get propertiesPanelTab(){return ee.__getProperty_propertiesPanelTab(this.handle)}get typeDetailsPanelOpen(){return ee.__getProperty_typeDetailsPanelOpen(this.handle)}get shownPropertiesPanels(){return ee.__getProperty_shownPropertiesPanels(this.handle)}get isVertexSelectionAndHasEndpoints(){return ee.__getProperty_isVertexSelectionAndHasEndpoints(this.handle)}get shownTransformControls(){return ee.__getProperty_shownTransformControls(this.handle)}get enabledTransformControls(){return ee.__getProperty_enabledTransformControls(this.handle)}get enabledTypePanelControls(){return ee.__getProperty_enabledTypePanelControls(this.handle)}get strokePanelMode(){return ee.__getProperty_strokePanelMode(this.handle)}get strokePanelTerminalPointCount(){return ee.__getProperty_strokePanelTerminalPointCount(this.handle)}}class aQ extends az{constructor(e){super(e),this.handle=e}}class aX{constructor(e){this.handle=e}get activePrototypeDevice(){return et.__getProperty_activePrototypeDevice(this.handle)}get prototypeViewMode(){return et.__getProperty_prototypeViewMode(this.handle)}get nodeWithPlusBubble(){return et.__getProperty_nodeWithPlusBubble(this.handle)}get colorPickerEyedropperVarData(){return et.__getProperty_colorPickerEyedropperVarData(this.handle)}}class aJ extends aX{constructor(e){super(e),this.handle=e}}class a0{constructor(e){this.handle=e}}class a1 extends a0{constructor(e){super(e),this.handle=e}invalidateConnectorForReparenting(e){en.invalidateConnectorForReparenting(this.handle,e)}updateImmutableFrameInternal(){en.updateImmutableFrameInternal(this.handle)}}class a2{constructor(e){this.handle=e}immutableFrameObserverReference(){return ei.immutableFrameObserverReference(this.handle)}getIncidentConnectorIDsArray(e){return ei.getIncidentConnectorIDsArray(this.handle,e)}sitesPreviewObserverReference(){return ei.sitesPreviewObserverReference(this.handle)}}class a4 extends a2{constructor(e){super(e),this.handle=e}}class a3{constructor(e){this.handle=e}get showMissingFontsButton(){return e_.__getProperty_showMissingFontsButton(this.handle)}get showMemoryUsage(){return e_.__getProperty_showMemoryUsage(this.handle)}get showPropertiesPanel(){return e_.__getProperty_showPropertiesPanel(this.handle)}get leftPanelCollapsedUI3(){return e_.__getProperty_leftPanelCollapsedUI3(this.handle)}get renderResourceUse(){return e_.__getProperty_renderResourceUse(this.handle)}get showCanvasXYAxis(){return e_.__getProperty_showCanvasXYAxis(this.handle)}get showMousePosition(){return e_.__getProperty_showMousePosition(this.handle)}get showInFileMemoryPercentage(){return e_.__getProperty_showInFileMemoryPercentage(this.handle)}get showCanvasSearch(){return e_.__getProperty_showCanvasSearch(this.handle)}get showOutOfDateWall(){return e_.__getProperty_showOutOfDateWall(this.handle)}get backgroundPickerOpen(){return e_.__getProperty_backgroundPickerOpen(this.handle)}get gradientPaintPickerOpen(){return e_.__getProperty_gradientPaintPickerOpen(this.handle)}get minMaxModalShown(){return e_.__getProperty_minMaxModalShown(this.handle)}get isRecovery(){return e_.__getProperty_isRecovery(this.handle)}get hoveredComponentPropDef(){return e_.__getProperty_hoveredComponentPropDef(this.handle)}get hideUiForMobileEditing(){return e_.__getProperty_hideUiForMobileEditing(this.handle)}get isOffline(){return e_.__getProperty_isOffline(this.handle)}get isUI3(){return e_.__getProperty_isUI3(this.handle)}get showAnnotations(){return e_.__getProperty_showAnnotations(this.handle)}get focusModeState(){return e_.__getProperty_focusModeState(this.handle)}get quickActionsShown(){return e_.__getProperty_quickActionsShown(this.handle)}}class a6 extends a3{constructor(e){super(e),this.handle=e}}class a8{constructor(e){this.handle=e}get nodeIds(){return eA.__getProperty_nodeIds(this.handle)}}class a5 extends a8{constructor(e){super(e),this.handle=e}}class a7{constructor(e){this.handle=e}get isInSingleSlideView(){return eO.__getProperty_isInSingleSlideView(this.handle)}get focusedSlideId(){return eO.__getProperty_focusedSlideId(this.handle)}get speakerNotesInputHeightInViewport(){return eO.__getProperty_speakerNotesInputHeightInViewport(this.handle)}get dragHandleInHeightViewport(){return eO.__getProperty_dragHandleInHeightViewport(this.handle)}isSingleSlideViewEnabled(){return eO.isSingleSlideViewEnabled(this.handle)}isSingleSlideViewFocused(){return eO.isSingleSlideViewFocused(this.handle)}defaultPaddingInViewport(){return eO.defaultPaddingInViewport(this.handle)}bottomToolbeltHeightInViewport(){return eO.bottomToolbeltHeightInViewport(this.handle)}singleSlideThumbnailHeight(){return eO.singleSlideThumbnailHeight(this.handle)}singleSlideThumbnailWidth(){return eO.singleSlideThumbnailWidth(this.handle)}singleSlideThumbnailNumberWidth(){return eO.singleSlideThumbnailNumberWidth(this.handle)}singleSlideThumbnailNumberMargin(){return eO.singleSlideThumbnailNumberMargin(this.handle)}singleSlideThumbnailPadding(){return eO.singleSlideThumbnailPadding(this.handle)}}class a9 extends a7{constructor(e){super(e),this.handle=e}enterSingleSlideView(e,t){eO.enterSingleSlideView(this.handle,e,t)}exitSingleSlideView(){eO.exitSingleSlideView(this.handle)}recenterSlide(){eO.recenterSlide(this.handle)}}class oe{constructor(e){this.handle=e}}class ot extends oe{constructor(e){super(e),this.handle=e}generateTextPreview(e,t){return eN.generateTextPreview(this.handle,e,t)}}class or{constructor(e){this.handle=e}getOrCreateJsCopy(){return eB.getOrCreateJsCopy(this.handle)}getOrCreateSkewCopy(){return eB.getOrCreateSkewCopy(this.handle)}}class on extends or{constructor(e){super(e),this.handle=e}}class oi{constructor(e){this.handle=e}}class oa extends oi{constructor(e){super(e),this.handle=e}}class oo{constructor(e){this.handle=e}getOrCreateJsCopy(){return eK.getOrCreateJsCopy(this.handle)}getOrCreateSkewCopy(){return eK.getOrCreateSkewCopy(this.handle)}}class ol extends oo{constructor(e){super(e),this.handle=e}}class os{constructor(e){this.handle=e}getOrCreateJsCopy(){return eY.getOrCreateJsCopy(this.handle)}getOrCreateSkewCopy(){return eY.getOrCreateSkewCopy(this.handle)}}class oc extends os{constructor(e){super(e),this.handle=e}}class od{constructor(e){this.handle=e}getOrCreateSkewCopy(){return e$.getOrCreateSkewCopy(this.handle)}getOrCreateJsCopy(){return e$.getOrCreateJsCopy(this.handle)}}class ou extends od{constructor(e){super(e),this.handle=e}}class op{constructor(e){this.handle=e}getOrCreateSkewCopy(){return eZ.getOrCreateSkewCopy(this.handle)}}class om extends op{constructor(e){super(e),this.handle=e}}class o_{constructor(e){this.handle=e}bounds(){return ez.bounds(this.handle)}getHash(){return ez.getHash(this.handle)}isRect(){return ez.isRect(this.handle)}loopBlinnCompile(){return ez.loopBlinnCompile(this.handle)}}class oh extends o_{constructor(e){super(e),this.handle=e}}class og{constructor(e){this.handle=e}getOrCreateSkewCopy(){return eX.getOrCreateSkewCopy(this.handle)}getOrCreateJsCopy(){return eX.getOrCreateJsCopy(this.handle)}}class of extends og{constructor(e){super(e),this.handle=e}}class oE{constructor(e){this.handle=e}}class oy extends oE{constructor(e){super(e),this.handle=e}}class ob{constructor(e){this.handle=e}get slideGrid(){return e1.__getProperty_slideGrid(this.handle)}get isDraggingSlides(){return e1.__getProperty_isDraggingSlides(this.handle)}get layoutPrototypeConfig(){return e1.__getProperty_layoutPrototypeConfig(this.handle)}slideWidth(){return e1.slideWidth(this.handle)}slideHeight(){return e1.slideHeight(this.handle)}gridRowSpacing(){return e1.gridRowSpacing(this.handle)}gridSlideSpacing(){return e1.gridSlideSpacing(this.handle)}gridPadding(){return e1.gridPadding(this.handle)}getLastSlideCoord(){return e1.getLastSlideCoord(this.handle)}}class ov extends ob{constructor(e){super(e),this.handle=e}coordForSlide(e){return e1.coordForSlide(this.handle,e)}getClosestGridCoord(e){return e1.getClosestGridCoord(this.handle,e)}getTopRightSelectedSlideId(){return e1.getTopRightSelectedSlideId(this.handle)}duplicateAsBlankSlide(e,t,r,n){return e1.duplicateAsBlankSlide(this.handle,e,t,r,n)}addBlankSlideAtCoord(e,t,r){return e1.addBlankSlideAtCoord(this.handle,e,t,r)}insertSlideAtCoord(e,t,r,n){e1.insertSlideAtCoord(this.handle,e,t,r,n)}moveRow(e,t){e1.moveRow(this.handle,e,t)}moveSlidesToCoord(e,t){e1.moveSlidesToCoord(this.handle,e,t)}selectRow(e){e1.selectRow(this.handle,e)}addOrRemoveRowFromSelection(e){e1.addOrRemoveRowFromSelection(this.handle,e)}setGridOrder(e){e1.setGridOrder(this.handle,e)}rectForCoord(e,t){return e1.rectForCoord(this.handle,e,t)}rowBoundsInCanvas(e,t){return e1.rowBoundsInCanvas(this.handle,e,t)}createRow(e){return e1.createRow(this.handle,e)}}class oI{constructor(e){this.handle=e}getThemeAssetData(e){return e2.getThemeAssetData(this.handle,e)}getThemeIDInSceneRoot(){return e2.getThemeIDInSceneRoot(this.handle)}isAutoColorEnabled(e){return e2.isAutoColorEnabled(this.handle,e)}}class ow extends oI{constructor(e){super(e),this.handle=e}setActiveTheme(e){e2.setActiveTheme(this.handle,e)}upsertLocalThemeAndApplyEdit(e,t){return e2.upsertLocalThemeAndApplyEdit(this.handle,e,t)}insertDefaultLocalTheme(e){e2.insertDefaultLocalTheme(this.handle,e)}insertSubscribedTheme(e,t,r){e2.insertSubscribedTheme(this.handle,e,t,r)}setAutoColor(e,t){e2.setAutoColor(this.handle,e,t)}swapAllSlidesToNewTheme(e){e2.swapAllSlidesToNewTheme(this.handle,e)}remapSlideToLocalTheme(e){return e2.remapSlideToLocalTheme(this.handle,e)}upsertLocalThemeFromModule(e){return e2.upsertLocalThemeFromModule(this.handle,e)}setDocumentTemplateFileKey(e){e2.setDocumentTemplateFileKey(this.handle,e)}}class oT{constructor(e){this.handle=e}getSlideTransition(e){return e4.getSlideTransition(this.handle,e)}}class oS extends oT{constructor(e){super(e),this.handle=e}setSlideTransition(e,t){e4.setSlideTransition(this.handle,e,t)}}class oC{constructor(e){this.handle=e}}class oA extends oC{constructor(e){super(e),this.handle=e}setPreviewedNodeID(e){e3.setPreviewedNodeID(this.handle,e)}}class oO{constructor(e){this.handle=e}get annotationInfoByTlf(){return e6.__getProperty_annotationInfoByTlf(this.handle)}}class oN extends oO{constructor(e){super(e),this.handle=e}}class oL{constructor(e){this.handle=e}}class oR extends oL{constructor(e){super(e),this.handle=e}getCopy(){return ti.getCopy(this.handle)}subscribeFromJs(e){return ti.subscribeFromJs(this.handle,e)}unsubscribeFromJs(e){ti.unsubscribeFromJs(this.handle,e)}}class oP{constructor(e){this.handle=e}}class oM extends oP{constructor(e){super(e),this.handle=e}getCopy(){return ta.getCopy(this.handle)}set(e){ta.set(this.handle,e)}subscribeFromJs(e){return ta.subscribeFromJs(this.handle,e)}unsubscribeFromJs(e){ta.unsubscribeFromJs(this.handle,e)}}class ok{constructor(e){this.handle=e}}class oD extends ok{constructor(e){super(e),this.handle=e}getCopy(){return to.getCopy(this.handle)}subscribeFromJs(e){return to.subscribeFromJs(this.handle,e)}unsubscribeFromJs(e){to.unsubscribeFromJs(this.handle,e)}}class oF{constructor(e){this.handle=e}}class ox extends oF{constructor(e){super(e),this.handle=e}getCopy(){return tl.getCopy(this.handle)}subscribeFromJs(e){return tl.subscribeFromJs(this.handle,e)}unsubscribeFromJs(e){tl.unsubscribeFromJs(this.handle,e)}}class oU{constructor(e){this.handle=e}}class oB extends oU{constructor(e){super(e),this.handle=e}getCopy(){return ts.getCopy(this.handle)}subscribeFromJs(e){return ts.subscribeFromJs(this.handle,e)}unsubscribeFromJs(e){ts.unsubscribeFromJs(this.handle,e)}}class oG{constructor(e){this.handle=e}}class oV extends oG{constructor(e){super(e),this.handle=e}getCopy(){return tc.getCopy(this.handle)}subscribeFromJs(e){return tc.subscribeFromJs(this.handle,e)}unsubscribeFromJs(e){tc.unsubscribeFromJs(this.handle,e)}}class oH{constructor(e){this.handle=e}}class oW extends oH{constructor(e){super(e),this.handle=e}getCopy(){return td.getCopy(this.handle)}subscribeFromJs(e){return td.subscribeFromJs(this.handle,e)}unsubscribeFromJs(e){td.unsubscribeFromJs(this.handle,e)}}class oK{constructor(e){this.handle=e}}class oY extends oK{constructor(e){super(e),this.handle=e}getCopy(){return tu.getCopy(this.handle)}set(e){tu.set(this.handle,e)}subscribeFromJs(e){return tu.subscribeFromJs(this.handle,e)}unsubscribeFromJs(e){tu.unsubscribeFromJs(this.handle,e)}}class oq{constructor(e){this.handle=e}}class oj extends oq{constructor(e){super(e),this.handle=e}getCopy(){return tp.getCopy(this.handle)}set(e){tp.set(this.handle,e)}subscribeFromJs(e){return tp.subscribeFromJs(this.handle,e)}unsubscribeFromJs(e){tp.unsubscribeFromJs(this.handle,e)}}class o${constructor(e){this.handle=e}}class oZ extends o${constructor(e){super(e),this.handle=e}getCopy(){return tm.getCopy(this.handle)}set(e){tm.set(this.handle,e)}subscribeFromJs(e){return tm.subscribeFromJs(this.handle,e)}unsubscribeFromJs(e){tm.unsubscribeFromJs(this.handle,e)}}class oz{constructor(e){this.handle=e}}class oQ extends oz{constructor(e){super(e),this.handle=e}getCopy(){return t_.getCopy(this.handle)}subscribeFromJs(e){return t_.subscribeFromJs(this.handle,e)}unsubscribeFromJs(e){t_.unsubscribeFromJs(this.handle,e)}}class oX{constructor(e){this.handle=e}}class oJ extends oX{constructor(e){super(e),this.handle=e}getCopy(){return th.getCopy(this.handle)}set(e){th.set(this.handle,e)}subscribeFromJs(e){return th.subscribeFromJs(this.handle,e)}unsubscribeFromJs(e){th.unsubscribeFromJs(this.handle,e)}}class o0{constructor(e){this.handle=e}}class o1 extends o0{constructor(e){super(e),this.handle=e}getCopy(){return tg.getCopy(this.handle)}subscribeFromJs(e){return tg.subscribeFromJs(this.handle,e)}unsubscribeFromJs(e){tg.unsubscribeFromJs(this.handle,e)}}class o2{constructor(e){this.handle=e}}class o4 extends o2{constructor(e){super(e),this.handle=e}getCopy(){return tf.getCopy(this.handle)}set(e){tf.set(this.handle,e)}subscribeFromJs(e){return tf.subscribeFromJs(this.handle,e)}unsubscribeFromJs(e){tf.unsubscribeFromJs(this.handle,e)}}class o3{constructor(e){this.handle=e}}class o6 extends o3{constructor(e){super(e),this.handle=e}getCopy(){return tE.getCopy(this.handle)}set(e){tE.set(this.handle,e)}subscribeFromJs(e){return tE.subscribeFromJs(this.handle,e)}unsubscribeFromJs(e){tE.unsubscribeFromJs(this.handle,e)}}class o8{constructor(e){this.handle=e}}class o5 extends o8{constructor(e){super(e),this.handle=e}getCopy(){return ty.getCopy(this.handle)}set(e){ty.set(this.handle,e)}subscribeFromJs(e){return ty.subscribeFromJs(this.handle,e)}unsubscribeFromJs(e){ty.unsubscribeFromJs(this.handle,e)}}class o7{constructor(e){this.handle=e}}class o9 extends o7{constructor(e){super(e),this.handle=e}getCopy(){return tb.getCopy(this.handle)}set(e){tb.set(this.handle,e)}subscribeFromJs(e){return tb.subscribeFromJs(this.handle,e)}unsubscribeFromJs(e){tb.unsubscribeFromJs(this.handle,e)}}class le{constructor(e){this.handle=e}}class lt extends le{constructor(e){super(e),this.handle=e}getCopy(){return tv.getCopy(this.handle)}subscribeFromJs(e){return tv.subscribeFromJs(this.handle,e)}unsubscribeFromJs(e){tv.unsubscribeFromJs(this.handle,e)}}class lr{constructor(e){this.handle=e}}class ln extends lr{constructor(e){super(e),this.handle=e}getCopy(){return tI.getCopy(this.handle)}subscribeFromJs(e){return tI.subscribeFromJs(this.handle,e)}unsubscribeFromJs(e){tI.unsubscribeFromJs(this.handle,e)}}class li{constructor(e){this.handle=e}}class la extends li{constructor(e){super(e),this.handle=e}getCopy(){return tw.getCopy(this.handle)}subscribeFromJs(e){return tw.subscribeFromJs(this.handle,e)}unsubscribeFromJs(e){tw.unsubscribeFromJs(this.handle,e)}}class lo{constructor(e){this.handle=e}}class ll extends lo{constructor(e){super(e),this.handle=e}getCopy(){return tT.getCopy(this.handle)}subscribeFromJs(e){return tT.subscribeFromJs(this.handle,e)}unsubscribeFromJs(e){tT.unsubscribeFromJs(this.handle,e)}}class ls{constructor(e){this.handle=e}}class lc extends ls{constructor(e){super(e),this.handle=e}getCopy(){return tS.getCopy(this.handle)}subscribeFromJs(e){return tS.subscribeFromJs(this.handle,e)}unsubscribeFromJs(e){tS.unsubscribeFromJs(this.handle,e)}}class ld{constructor(e){this.handle=e}}class lu extends ld{constructor(e){super(e),this.handle=e}getCopy(){return tC.getCopy(this.handle)}subscribeFromJs(e){return tC.subscribeFromJs(this.handle,e)}unsubscribeFromJs(e){tC.unsubscribeFromJs(this.handle,e)}}class lp{constructor(e){this.handle=e}}class lm extends lp{constructor(e){super(e),this.handle=e}getCopy(){return tA.getCopy(this.handle)}set(e){tA.set(this.handle,e)}subscribeFromJs(e){return tA.subscribeFromJs(this.handle,e)}unsubscribeFromJs(e){tA.unsubscribeFromJs(this.handle,e)}}class l_{constructor(e){this.handle=e}}class lh extends l_{constructor(e){super(e),this.handle=e}getCopy(){return tO.getCopy(this.handle)}set(e){tO.set(this.handle,e)}subscribeFromJs(e){return tO.subscribeFromJs(this.handle,e)}unsubscribeFromJs(e){tO.unsubscribeFromJs(this.handle,e)}}class lg{constructor(e){this.handle=e}}class lf extends lg{constructor(e){super(e),this.handle=e}getCopy(){return tN.getCopy(this.handle)}subscribeFromJs(e){return tN.subscribeFromJs(this.handle,e)}unsubscribeFromJs(e){tN.unsubscribeFromJs(this.handle,e)}}class lE{constructor(e){this.handle=e}}class ly extends lE{constructor(e){super(e),this.handle=e}getCopy(){return tL.getCopy(this.handle)}subscribeFromJs(e){return tL.subscribeFromJs(this.handle,e)}unsubscribeFromJs(e){tL.unsubscribeFromJs(this.handle,e)}}class lb{constructor(e){this.handle=e}}class lv extends lb{constructor(e){super(e),this.handle=e}getCopy(){return tR.getCopy(this.handle)}set(e){tR.set(this.handle,e)}subscribeFromJs(e){return tR.subscribeFromJs(this.handle,e)}unsubscribeFromJs(e){tR.unsubscribeFromJs(this.handle,e)}}class lI{constructor(e){this.handle=e}}class lw extends lI{constructor(e){super(e),this.handle=e}getCopy(){return tP.getCopy(this.handle)}set(e){tP.set(this.handle,e)}subscribeFromJs(e){return tP.subscribeFromJs(this.handle,e)}unsubscribeFromJs(e){tP.unsubscribeFromJs(this.handle,e)}}class lT{constructor(e){this.handle=e}}class lS extends lT{constructor(e){super(e),this.handle=e}getCopy(){return tM.getCopy(this.handle)}set(e){tM.set(this.handle,e)}subscribeFromJs(e){return tM.subscribeFromJs(this.handle,e)}unsubscribeFromJs(e){tM.unsubscribeFromJs(this.handle,e)}}class lC{constructor(e){this.handle=e}}class lA extends lC{constructor(e){super(e),this.handle=e}getCopy(){return tk.getCopy(this.handle)}set(e){tk.set(this.handle,e)}subscribeFromJs(e){return tk.subscribeFromJs(this.handle,e)}unsubscribeFromJs(e){tk.unsubscribeFromJs(this.handle,e)}}class lO{constructor(e){this.handle=e}}class lN extends lO{constructor(e){super(e),this.handle=e}getCopy(){return tD.getCopy(this.handle)}set(e){tD.set(this.handle,e)}subscribeFromJs(e){return tD.subscribeFromJs(this.handle,e)}unsubscribeFromJs(e){tD.unsubscribeFromJs(this.handle,e)}}class lL{constructor(e){this.handle=e}}class lR extends lL{constructor(e){super(e),this.handle=e}getCopy(){return tF.getCopy(this.handle)}set(e){tF.set(this.handle,e)}subscribeFromJs(e){return tF.subscribeFromJs(this.handle,e)}unsubscribeFromJs(e){tF.unsubscribeFromJs(this.handle,e)}}class lP{constructor(e){this.handle=e}}class lM extends lP{constructor(e){super(e),this.handle=e}getCopy(){return tx.getCopy(this.handle)}set(e){tx.set(this.handle,e)}subscribeFromJs(e){return tx.subscribeFromJs(this.handle,e)}unsubscribeFromJs(e){tx.unsubscribeFromJs(this.handle,e)}}class lk{constructor(e){this.handle=e}}class lD extends lk{constructor(e){super(e),this.handle=e}getCopy(){return tU.getCopy(this.handle)}subscribeFromJs(e){return tU.subscribeFromJs(this.handle,e)}unsubscribeFromJs(e){tU.unsubscribeFromJs(this.handle,e)}}class lF{constructor(e){this.handle=e}}class lx extends lF{constructor(e){super(e),this.handle=e}getCopy(){return tB.getCopy(this.handle)}subscribeFromJs(e){return tB.subscribeFromJs(this.handle,e)}unsubscribeFromJs(e){tB.unsubscribeFromJs(this.handle,e)}}class lU{constructor(e){this.handle=e}}class lB extends lU{constructor(e){super(e),this.handle=e}getCopy(){return tG.getCopy(this.handle)}subscribeFromJs(e){return tG.subscribeFromJs(this.handle,e)}unsubscribeFromJs(e){tG.unsubscribeFromJs(this.handle,e)}}class lG{constructor(e){this.handle=e}}class lV extends lG{constructor(e){super(e),this.handle=e}getCopy(){return tV.getCopy(this.handle)}subscribeFromJs(e){return tV.subscribeFromJs(this.handle,e)}unsubscribeFromJs(e){tV.unsubscribeFromJs(this.handle,e)}}class lH{constructor(e){this.handle=e}}class lW extends lH{constructor(e){super(e),this.handle=e}getCopy(){return tH.getCopy(this.handle)}subscribeFromJs(e){return tH.subscribeFromJs(this.handle,e)}unsubscribeFromJs(e){tH.unsubscribeFromJs(this.handle,e)}}class lK{constructor(e){this.handle=e}}class lY extends lK{constructor(e){super(e),this.handle=e}getCopy(){return tW.getCopy(this.handle)}subscribeFromJs(e){return tW.subscribeFromJs(this.handle,e)}unsubscribeFromJs(e){tW.unsubscribeFromJs(this.handle,e)}}class lq{constructor(e){this.handle=e}}class lj extends lq{constructor(e){super(e),this.handle=e}getCopy(){return tK.getCopy(this.handle)}subscribeFromJs(e){return tK.subscribeFromJs(this.handle,e)}unsubscribeFromJs(e){tK.unsubscribeFromJs(this.handle,e)}}class l${constructor(e){this.handle=e}}class lZ extends l${constructor(e){super(e),this.handle=e}getCopy(){return tY.getCopy(this.handle)}subscribeFromJs(e){return tY.subscribeFromJs(this.handle,e)}unsubscribeFromJs(e){tY.unsubscribeFromJs(this.handle,e)}}class lz{constructor(e){this.handle=e}}class lQ extends lz{constructor(e){super(e),this.handle=e}getCopy(){return tq.getCopy(this.handle)}subscribeFromJs(e){return tq.subscribeFromJs(this.handle,e)}unsubscribeFromJs(e){tq.unsubscribeFromJs(this.handle,e)}}class lX{constructor(e){this.handle=e}}class lJ extends lX{constructor(e){super(e),this.handle=e}getCopy(){return tj.getCopy(this.handle)}subscribeFromJs(e){return tj.subscribeFromJs(this.handle,e)}unsubscribeFromJs(e){tj.unsubscribeFromJs(this.handle,e)}}class l0{constructor(e){this.handle=e}}class l1 extends l0{constructor(e){super(e),this.handle=e}getCopy(){return t$.getCopy(this.handle)}subscribeFromJs(e){return t$.subscribeFromJs(this.handle,e)}unsubscribeFromJs(e){t$.unsubscribeFromJs(this.handle,e)}}class l2{constructor(e){this.handle=e}}class l4 extends l2{constructor(e){super(e),this.handle=e}getCopy(){return tZ.getCopy(this.handle)}set(e){tZ.set(this.handle,e)}subscribeFromJs(e){return tZ.subscribeFromJs(this.handle,e)}unsubscribeFromJs(e){tZ.unsubscribeFromJs(this.handle,e)}}class l3{constructor(e){this.handle=e}}class l6 extends l3{constructor(e){super(e),this.handle=e}getCopy(){return tz.getCopy(this.handle)}subscribeFromJs(e){return tz.subscribeFromJs(this.handle,e)}unsubscribeFromJs(e){tz.unsubscribeFromJs(this.handle,e)}}class l8{constructor(e){this.handle=e}}class l5 extends l8{constructor(e){super(e),this.handle=e}getCopy(){return tQ.getCopy(this.handle)}subscribeFromJs(e){return tQ.subscribeFromJs(this.handle,e)}unsubscribeFromJs(e){tQ.unsubscribeFromJs(this.handle,e)}}class l7{constructor(e){this.handle=e}}class l9 extends l7{constructor(e){super(e),this.handle=e}getCopy(){return tX.getCopy(this.handle)}subscribeFromJs(e){return tX.subscribeFromJs(this.handle,e)}unsubscribeFromJs(e){tX.unsubscribeFromJs(this.handle,e)}}class se{constructor(e){this.handle=e}}class st extends se{constructor(e){super(e),this.handle=e}getCopy(){return tJ.getCopy(this.handle)}set(e){tJ.set(this.handle,e)}subscribeFromJs(e){return tJ.subscribeFromJs(this.handle,e)}unsubscribeFromJs(e){tJ.unsubscribeFromJs(this.handle,e)}}class sr{constructor(e){this.handle=e}}class sn extends sr{constructor(e){super(e),this.handle=e}getCopy(){return t0.getCopy(this.handle)}set(e){t0.set(this.handle,e)}subscribeFromJs(e){return t0.subscribeFromJs(this.handle,e)}unsubscribeFromJs(e){t0.unsubscribeFromJs(this.handle,e)}}class si{constructor(e){this.handle=e}}class sa extends si{constructor(e){super(e),this.handle=e}getCopy(){return t1.getCopy(this.handle)}subscribeFromJs(e){return t1.subscribeFromJs(this.handle,e)}unsubscribeFromJs(e){t1.unsubscribeFromJs(this.handle,e)}}class so{constructor(e){this.handle=e}}class sl extends so{constructor(e){super(e),this.handle=e}getCopy(){return t2.getCopy(this.handle)}subscribeFromJs(e){return t2.subscribeFromJs(this.handle,e)}unsubscribeFromJs(e){t2.unsubscribeFromJs(this.handle,e)}}class ss{constructor(e){this.handle=e}}class sc extends ss{constructor(e){super(e),this.handle=e}getCopy(){return t4.getCopy(this.handle)}subscribeFromJs(e){return t4.subscribeFromJs(this.handle,e)}unsubscribeFromJs(e){t4.unsubscribeFromJs(this.handle,e)}}class sd{constructor(e){this.handle=e}}class su extends sd{constructor(e){super(e),this.handle=e}getCopy(){return t3.getCopy(this.handle)}set(e){t3.set(this.handle,e)}subscribeFromJs(e){return t3.subscribeFromJs(this.handle,e)}unsubscribeFromJs(e){t3.unsubscribeFromJs(this.handle,e)}}var sp=((t6=sp||{})[t6.IN_CUBIC=0]="IN_CUBIC",t6[t6.OUT_CUBIC=1]="OUT_CUBIC",t6[t6.INOUT_CUBIC=2]="INOUT_CUBIC",t6),sm=((t8=sm||{})[t8.LINEAR=0]="LINEAR",t8[t8.BEZIER=1]="BEZIER",t8[t8.OSCILLATION=2]="OSCILLATION",t8[t8.SPRING=3]="SPRING",t8),s_=((t5=s_||{})[t5.SLIDES=0]="SLIDES",t5[t5.DESIGN=1]="DESIGN",t5),sh=((t7=sh||{})[t7.SYNCED=0]="SYNCED",t7[t7.OFFLINE=1]="OFFLINE",t7[t7.SESSION_START=2]="SESSION_START",t7[t7.FORCED=3]="FORCED",t7[t7.LIMBOED_CHANGES=4]="LIMBOED_CHANGES",t7),sg=((t9=sg||{})[t9.TEXT_MATCH=0]="TEXT_MATCH",t9[t9.LAYER_MATCH=1]="LAYER_MATCH",t9[t9.PAGE_MATCH=2]="PAGE_MATCH",t9),sf=((re=sf||{})[re.TEXT=0]="TEXT",re[re.FRAME_OR_GROUP=1]="FRAME_OR_GROUP",re[re.COMPONENT=2]="COMPONENT",re[re.INSTANCE=3]="INSTANCE",re[re.IMAGE=4]="IMAGE",re[re.SHAPE=5]="SHAPE",re[re.OTHER=6]="OTHER",re),sE=((rt=sE||{})[rt.FIND=0]="FIND",rt[rt.REPLACE=1]="REPLACE",rt),sy=((rr=sy||{})[rr.ACTIVE_PAGE=0]="ACTIVE_PAGE",rr[rr.ALL_PAGES=1]="ALL_PAGES",rr),sb=((rn=sb||{})[rn.ONLY_ACTIVE=0]="ONLY_ACTIVE",rn[rn.ALL=1]="ALL",rn),sv=((ri=sv||{})[ri.NONE=0]="NONE",ri[ri.UPPER_FIRST=1]="UPPER_FIRST",ri[ri.UPPER_ALL=2]="UPPER_ALL",ri),sI=((ra=sI||{})[ra.NONE=0]="NONE",ra[ra.SELECT_ACTIVE=1]="SELECT_ACTIVE",ra),sw=((ro=sw||{})[ro.ABOVE=0]="ABOVE",ro[ro.BELOW=1]="BELOW",ro[ro.LEFT=2]="LEFT",ro[ro.RIGHT=3]="RIGHT",ro),sT=((rl=sT||{})[rl.HEX=0]="HEX",rl[rl.RGB=1]="RGB",rl[rl.CSS=2]="CSS",rl[rl.HSB=3]="HSB",rl[rl.HSL=4]="HSL",rl[rl.UIColor=5]="UIColor",rl),sS=((rs=sS||{})[rs.SUCCESS=0]="SUCCESS",rs[rs.MERGE_IN_PROGRESS=1]="MERGE_IN_PROGRESS",rs[rs.PARSE_ERROR=2]="PARSE_ERROR",rs[rs.VERSION_MISMATCH=3]="VERSION_MISMATCH",rs[rs.INTERNAL_ERROR=4]="INTERNAL_ERROR",rs),sC=((rc=sC||{})[rc.SUCCESS=0]="SUCCESS",rc[rc.PARSE_ERROR=1]="PARSE_ERROR",rc[rc.VERSION_MISMATCH=2]="VERSION_MISMATCH",rc[rc.INTERNAL_ERROR=3]="INTERNAL_ERROR",rc),sA=((rd=sA||{})[rd.SUCCESS=0]="SUCCESS",rd[rd.NO_MERGE_IN_PROGRESS=1]="NO_MERGE_IN_PROGRESS",rd[rd.INTERNAL_ERROR=2]="INTERNAL_ERROR",rd[rd.MISSING_BACKING_SYMBOL=3]="MISSING_BACKING_SYMBOL",rd),sO=((ru=sO||{})[ru.SUCCESS=0]="SUCCESS",ru[ru.NO_MERGE_IN_PROGRESS=1]="NO_MERGE_IN_PROGRESS",ru[ru.INVALID_INDEX=2]="INVALID_INDEX",ru[ru.INTERNAL_ERROR=3]="INTERNAL_ERROR",ru[ru.INVALID_STATE_TRANSITION=4]="INVALID_STATE_TRANSITION",ru),sN=((rp=sN||{})[rp.SUCCESS=0]="SUCCESS",rp[rp.FAILURE=1]="FAILURE",rp),sL=((rm=sL||{})[rm.SOURCE=0]="SOURCE",rm[rm.BRANCH=1]="BRANCH",rm[rm.COMPARE=2]="COMPARE",rm),sR=((r_=sR||{})[r_.UPDATED_LIBRARY=0]="UPDATED_LIBRARY",r_[r_.CREATED=1]="CREATED",r_[r_.REMOVED=2]="REMOVED",r_[r_.UPDATED=3]="UPDATED",r_[r_.UNMODIFIED=4]="UNMODIFIED",r_),sP=((rh=sP||{})[rh.SUCCESS=0]="SUCCESS",rh[rh.NO_MERGE_IN_PROGRESS=1]="NO_MERGE_IN_PROGRESS",rh[rh.UNABLE_TO_UNDO_CHANGES=2]="UNABLE_TO_UNDO_CHANGES",rh[rh.INTERNAL_ERROR=3]="INTERNAL_ERROR",rh),sM=((rg=sM||{})[rg.BASIS_PARENT=0]="BASIS_PARENT",rg[rg.PARENT=1]="PARENT",rg),sk=((rf=sk||{})[rf.PREVIEW=0]="PREVIEW",rf[rf.STAGE=1]="STAGE",rf),sD=((rE=sD||{})[rE.FRAME_WITH_BACKGROUND_IMAGE=0]="FRAME_WITH_BACKGROUND_IMAGE",rE[rE.IMAGE=1]="IMAGE",rE[rE.STICKER=2]="STICKER",rE),sF=((ry=sF||{})[ry.APPLE=0]="APPLE",ry[ry.NOTO=1]="NOTO",ry),sx=((rb=sx||{})[rb.PNG=0]="PNG",rb[rb.SVG=1]="SVG",rb[rb.RASTERIZE=2]="RASTERIZE",rb),sU=((rv=sU||{})[rv.CURRENT_TAB=0]="CURRENT_TAB",rv[rv.NEW_TAB=1]="NEW_TAB",rv),sB=((rI=sB||{})[rI.SEARCH=0]="SEARCH",rI[rI.PREFERENCES=1]="PREFERENCES",rI[rI.HIDE_UI=2]="HIDE_UI",rI),sG=((rw=sG||{})[rw.COPY_PASTE=0]="COPY_PASTE",rw[rw.COMPONENT_IMPORT=1]="COMPONENT_IMPORT",rw[rw.STATE_GROUP_IMPORT=2]="STATE_GROUP_IMPORT",rw[rw.STYLE_IMPORT=3]="STYLE_IMPORT",rw[rw.BRANCH_MERGE=4]="BRANCH_MERGE",rw[rw.TEMPLATE_INSERTION=5]="TEMPLATE_INSERTION",rw[rw.VARIABLE_IMPORT=6]="VARIABLE_IMPORT",rw[rw.VARIABLE_SET_IMPORT=7]="VARIABLE_SET_IMPORT",rw[rw.PLAYGROUND_INSERT=8]="PLAYGROUND_INSERT",rw[rw.MODULE_IMPORT=9]="MODULE_IMPORT",rw),sV=((rT=sV||{})[rT.SOLID=0]="SOLID",rT[rT.DASHED=1]="DASHED",rT[rT.NONE=2]="NONE",rT),sH=((rS=sH||{})[rS.NO=0]="NO",rS[rS.YES=1]="YES",rS),sW=((rC=sW||{})[rC.ACTIVE_SCENE=0]="ACTIVE_SCENE",rC[rC.PLAYGROUND_SCENE=1]="PLAYGROUND_SCENE",rC),sK=((rA=sK||{})[rA.NONE=0]="NONE",rA[rA.BLACK=1]="BLACK",rA[rA.GRAY_DARK=2]="GRAY_DARK",rA[rA.GRAY=3]="GRAY",rA[rA.GRAY_LIGHT=4]="GRAY_LIGHT",rA[rA.RED=5]="RED",rA[rA.RED_LIGHT=6]="RED_LIGHT",rA[rA.ORANGE=7]="ORANGE",rA[rA.ORANGE_LIGHT=8]="ORANGE_LIGHT",rA[rA.YELLOW=9]="YELLOW",rA[rA.YELLOW_LIGHT=10]="YELLOW_LIGHT",rA[rA.GREEN=11]="GREEN",rA[rA.GREEN_LIGHT=12]="GREEN_LIGHT",rA[rA.BLUE=13]="BLUE",rA[rA.BLUE_LIGHT=14]="BLUE_LIGHT",rA[rA.VIOLET=15]="VIOLET",rA[rA.VIOLET_LIGHT=16]="VIOLET_LIGHT",rA[rA.WHITE=17]="WHITE",rA[rA.STICKY_GRAY=18]="STICKY_GRAY",rA[rA.STICKY_RED=19]="STICKY_RED",rA[rA.STICKY_ORANGE=20]="STICKY_ORANGE",rA[rA.STICKY_YELLOW=21]="STICKY_YELLOW",rA[rA.STICKY_GREEN=22]="STICKY_GREEN",rA[rA.STICKY_BLUE=23]="STICKY_BLUE",rA[rA.STICKY_VIOLET=24]="STICKY_VIOLET",rA[rA.STICKY_PINK=25]="STICKY_PINK",rA[rA.STICKY_GRAY_LIGHT=26]="STICKY_GRAY_LIGHT",rA[rA.HIGHLIGHT_GRAY=27]="HIGHLIGHT_GRAY",rA[rA.HIGHLIGHT_RED=28]="HIGHLIGHT_RED",rA[rA.HIGHLIGHT_YELLOW=29]="HIGHLIGHT_YELLOW",rA[rA.HIGHLIGHT_GREEN=30]="HIGHLIGHT_GREEN",rA[rA.HIGHLIGHT_BLUE=31]="HIGHLIGHT_BLUE",rA[rA.HIGHLIGHT_VIOLET=32]="HIGHLIGHT_VIOLET",rA[rA.HIGHLIGHT_ORANGE=33]="HIGHLIGHT_ORANGE",rA[rA.HIGHLIGHT_WHITE=34]="HIGHLIGHT_WHITE",rA[rA.CUSTOM=35]="CUSTOM",rA),sY=((rO=sY||{})[rO.LAYERS=0]="LAYERS",rO[rO.ASSETS=1]="ASSETS",rO[rO.LAYERS_SITES=2]="LAYERS_SITES",rO),sq=((rN=sq||{})[rN.NEXT=0]="NEXT",rN[rN.PREVIOUS=1]="PREVIOUS",rN[rN.COMMIT=2]="COMMIT",rN[rN.CANCEL=3]="CANCEL",rN[rN.CLEAR=4]="CLEAR",rN),sj=((rL=sj||{})[rL.VISIBLE=0]="VISIBLE",rL[rL.TRANSPARENT=1]="TRANSPARENT",rL[rL.TRANSPARENT_CUSTOM=2]="TRANSPARENT_CUSTOM",rL[rL.HIDDEN=3]="HIDDEN",rL),s$=((rR=s$||{})[rR.COPY_TO_CLIPBOARD=0]="COPY_TO_CLIPBOARD",rR[rR.COMPOSE_EMAIL=1]="COMPOSE_EMAIL",rR),sZ=((rP=sZ||{})[rP.RULER=0]="RULER",rP[rP.GUIDE=1]="GUIDE",rP[rP.BOTH=2]="BOTH",rP),sz=((rM=sz||{})[rM.GENERIC=0]="GENERIC",rM[rM.SNAP=1]="SNAP",rM[rM.LEVEL=2]="LEVEL",rM),sQ=((rk=sQ||{})[rk.YES=0]="YES",rk[rk.NO=1]="NO",rk),sX=((rD=sX||{})[rD.EMPTY=0]="EMPTY",rD[rD.RESIZING_WIDTH_AND_HEIGHT=1]="RESIZING_WIDTH_AND_HEIGHT",rD[rD.RESIZING_HEIGHT=2]="RESIZING_HEIGHT",rD[rD.RESIZING_NONE=3]="RESIZING_NONE",rD[rD.TRUNCATION_DISABLED=4]="TRUNCATION_DISABLED",rD[rD.TRUNCATION_ENABLED=5]="TRUNCATION_ENABLED",rD[rD.ALIGNMENT_LEFT=6]="ALIGNMENT_LEFT",rD[rD.ALIGNMENT_CENTER=7]="ALIGNMENT_CENTER",rD[rD.ALIGNMENT_RIGHT=8]="ALIGNMENT_RIGHT",rD[rD.ALIGNMENT_JUSTIFIED=9]="ALIGNMENT_JUSTIFIED",rD[rD.DECORATION_NONE=10]="DECORATION_NONE",rD[rD.DECORATION_UNDERLINE=11]="DECORATION_UNDERLINE",rD[rD.DECORATION_STRIKETHROUGH=12]="DECORATION_STRIKETHROUGH",rD[rD.LIST_STYLE_PLAIN=13]="LIST_STYLE_PLAIN",rD[rD.LIST_STYLE_UNORDERED=14]="LIST_STYLE_UNORDERED",rD[rD.LIST_STYLE_ORDERED=15]="LIST_STYLE_ORDERED",rD[rD.TEXT_CASE_ORIGINAL=16]="TEXT_CASE_ORIGINAL",rD[rD.TEXT_CASE_UPPER=17]="TEXT_CASE_UPPER",rD[rD.TEXT_CASE_LOWER=18]="TEXT_CASE_LOWER",rD[rD.TEXT_CASE_TITLE=19]="TEXT_CASE_TITLE",rD[rD.TEXT_CASE_SMALL_CAPS=20]="TEXT_CASE_SMALL_CAPS",rD[rD.TEXT_CASE_SMALL_CAPS_FORCED=21]="TEXT_CASE_SMALL_CAPS_FORCED",rD[rD.FRACTIONS_ON=22]="FRACTIONS_ON",rD[rD.FRACTIONS_OFF=23]="FRACTIONS_OFF",rD[rD.DISCRETIONARY_LIGATURES_ON=24]="DISCRETIONARY_LIGATURES_ON",rD[rD.DISCRETIONARY_LIGATURES_OFF=25]="DISCRETIONARY_LIGATURES_OFF",rD[rD.HISTORICAL_LIGATURES_ON=26]="HISTORICAL_LIGATURES_ON",rD[rD.HISTORICAL_LIGATURES_OFF=27]="HISTORICAL_LIGATURES_OFF",rD[rD.NUMERIC_STYLE_ORIGINAL=28]="NUMERIC_STYLE_ORIGINAL",rD[rD.NUMERIC_STYLE_UPPER_PROPORTIONAL=29]="NUMERIC_STYLE_UPPER_PROPORTIONAL",rD[rD.NUMERIC_STYLE_UPPER_MONOSPACE=30]="NUMERIC_STYLE_UPPER_MONOSPACE",rD[rD.NUMERIC_STYLE_LOWER_PROPORTIONAL=31]="NUMERIC_STYLE_LOWER_PROPORTIONAL",rD[rD.NUMERIC_STYLE_LOWER_MONOSPACE=32]="NUMERIC_STYLE_LOWER_MONOSPACE",rD[rD.NUMERIC_POSITION_SUB=33]="NUMERIC_POSITION_SUB",rD[rD.NUMERIC_POSITION_SUPER=34]="NUMERIC_POSITION_SUPER",rD[rD.NUMERIC_POSITION_NORMAL=35]="NUMERIC_POSITION_NORMAL",rD[rD.OPENTYPE_FEATURE_ON=36]="OPENTYPE_FEATURE_ON",rD[rD.OPENTYPE_FEATURE_OFF=37]="OPENTYPE_FEATURE_OFF",rD[rD.FONT_VARIATIONS=38]="FONT_VARIATIONS",rD[rD.LEADING_TRIM_CAP_HEIGHT=39]="LEADING_TRIM_CAP_HEIGHT",rD[rD.LEADING_TRIM_NONE=40]="LEADING_TRIM_NONE",rD[rD.HANGING_PUNCTUATION_ON=41]="HANGING_PUNCTUATION_ON",rD[rD.HANGING_PUNCTUATION_OFF=42]="HANGING_PUNCTUATION_OFF",rD[rD.HANGING_LISTS_ON=43]="HANGING_LISTS_ON",rD[rD.HANGING_LISTS_OFF=44]="HANGING_LISTS_OFF",rD),sJ=((rF=sJ||{})[rF.AUTOMATIC=0]="AUTOMATIC",rF[rF.WHEN_REQUESTED=1]="WHEN_REQUESTED",rF),s0=((rx=s0||{})[rx.NONE=0]="NONE",rx[rx.HORIZONTAL=1]="HORIZONTAL",rx[rx.VERTICAL=2]="VERTICAL",rx),s1=((rU=s1||{})[rU.MIN=0]="MIN",rU[rU.CENTER=1]="CENTER",rU[rU.MAX=2]="MAX",rU[rU.SPACE_EVENLY=3]="SPACE_EVENLY",rU[rU.SPACE_BETWEEN=4]="SPACE_BETWEEN",rU),s2=((rB=s2||{})[rB.MIN=0]="MIN",rB[rB.CENTER=1]="CENTER",rB[rB.MAX=2]="MAX",rB[rB.BASELINE=3]="BASELINE",rB),s4=((rG=s4||{})[rG.MIN=0]="MIN",rG[rG.CENTER=1]="CENTER",rG[rG.MAX=2]="MAX",rG[rG.STRETCH=3]="STRETCH",rG[rG.AUTO=4]="AUTO",rG[rG.BASELINE=5]="BASELINE",rG),s3=((rV=s3||{})[rV.AUTO=0]="AUTO",rV[rV.ABSOLUTE=1]="ABSOLUTE",rV),s6=((rH=s6||{})[rH.FIXED=0]="FIXED",rH[rH.RESIZE_TO_FIT=1]="RESIZE_TO_FIT",rH[rH.RESIZE_TO_FIT_WITH_IMPLICIT_SIZE=2]="RESIZE_TO_FIT_WITH_IMPLICIT_SIZE",rH),s8=((rW=s8||{})[rW.PACKED=0]="PACKED",rW[rW.SPACE_BETWEEN=1]="SPACE_BETWEEN",rW),s5=((rK=s5||{})[rK.PADDING_TOP=0]="PADDING_TOP",rK[rK.PADDING_RIGHT=1]="PADDING_RIGHT",rK[rK.PADDING_BOTTOM=2]="PADDING_BOTTOM",rK[rK.PADDING_LEFT=3]="PADDING_LEFT",rK[rK.PADDING_HORIZONTAL=4]="PADDING_HORIZONTAL",rK[rK.PADDING_VERTICAL=5]="PADDING_VERTICAL",rK[rK.PADDING_ALL=6]="PADDING_ALL",rK[rK.SPACING=7]="SPACING",rK[rK.COUNTER_SPACING=8]="COUNTER_SPACING",rK),s7=((rY=s7||{})[rY.TOP=0]="TOP",rY[rY.RIGHT=1]="RIGHT",rY[rY.BOTTOM=2]="BOTTOM",rY[rY.LEFT=3]="LEFT",rY),s9=((rq=s9||{})[rq.DESIGN_LAYOUT=0]="DESIGN_LAYOUT",rq[rq.WHITEBOARD_LAYOUT=1]="WHITEBOARD_LAYOUT",rq[rq.VECTOR=2]="VECTOR",rq[rq.TEXT=3]="TEXT",rq[rq.RASTER=4]="RASTER",rq[rq.GRADIENT=5]="GRADIENT",rq[rq.PLACE_IMAGE=6]="PLACE_IMAGE",rq[rq.HISTORY=7]="HISTORY",rq[rq.PREVIEW=8]="PREVIEW",rq[rq.COMMENTS=9]="COMMENTS",rq[rq.BRANCHING=10]="BRANCHING",rq[rq.DEV_HANDOFF=11]="DEV_HANDOFF",rq[rq.COMPARE_CHANGES=12]="COMPARE_CHANGES",rq[rq.LIBRARY=13]="LIBRARY",rq[rq.DEV_HANDOFF_HISTORY=14]="DEV_HANDOFF_HISTORY",rq[rq.SLIDE_LAYOUT=15]="SLIDE_LAYOUT",rq),ce=((rj=ce||{})[rj.LAYOUT=0]="LAYOUT",rj[rj.HISTORY=1]="HISTORY",rj[rj.PREVIEW=2]="PREVIEW",rj[rj.BRANCHING=3]="BRANCHING",rj[rj.DEV_HANDOFF=4]="DEV_HANDOFF",rj[rj.LIBRARY=5]="LIBRARY",rj),ct=((r$=ct||{})[r$.DEFAULT=0]="DEFAULT",r$[r$.DRAGGING=1]="DRAGGING",r$[r$.RESIZING=2]="RESIZING",r$[r$.ROTATING=3]="ROTATING",r$[r$.SELECTING_TEXT=4]="SELECTING_TEXT",r$[r$.CLICKING_TO_CHANGE_SELECTION=5]="CLICKING_TO_CHANGE_SELECTION",r$),cr=((rZ=cr||{})[rZ.OFF=0]="OFF",rZ[rZ.ON=1]="ON",rZ[rZ.MIXED=2]="MIXED",rZ),cn=((rz=cn||{})[rz.NONE=0]="NONE",rz[rz.COLOR=1]="COLOR",rz),ci=((rQ=ci||{})[rQ.NONE=0]="NONE",rQ[rQ.FILL=1]="FILL",rQ[rQ.STROKE=2]="STROKE",rQ[rQ.STROKE_PRESET=3]="STROKE_PRESET",rQ[rQ.EFFECT=4]="EFFECT",rQ[rQ.EXPORT=5]="EXPORT",rQ[rQ.LAYOUT_GRID=6]="LAYOUT_GRID",rQ[rQ.PLUGIN=7]="PLUGIN",rQ[rQ.PROTOTYPE_INTERACTION=8]="PROTOTYPE_INTERACTION",rQ[rQ.PROTOTYPE_INHERITED_INTERNAL_INTERACTION=9]="PROTOTYPE_INHERITED_INTERNAL_INTERACTION",rQ[rQ.PROTOTOTYPE_STARTING_POINT=10]="PROTOTOTYPE_STARTING_POINT",rQ),ca=((rX=ca||{})[rX.NONE=0]="NONE",rX[rX.PHONE=1]="PHONE",rX[rX.TABLET=2]="TABLET",rX[rX.DESKTOP=3]="DESKTOP",rX[rX.WATCH=4]="WATCH",rX[rX.PAPER=5]="PAPER",rX[rX.SOCIALMEDIA=6]="SOCIALMEDIA",rX[rX.FIGMA=7]="FIGMA",rX[rX.PRESENTATION=8]="PRESENTATION",rX[rX.ARCHIVE=9]="ARCHIVE",rX),co=((rJ=co||{})[rJ.NONE=0]="NONE",rJ[rJ.SELECT=1]="SELECT",rJ[rJ.HAND=2]="HAND",rJ[rJ.COMMENTS=3]="COMMENTS",rJ[rJ.DROPPER_COLOR=4]="DROPPER_COLOR",rJ[rJ.FRAME=5]="FRAME",rJ[rJ.SLICE=6]="SLICE",rJ[rJ.STACK=7]="STACK",rJ[rJ.SHAPE_STAR=8]="SHAPE_STAR",rJ[rJ.SHAPE_LINE=9]="SHAPE_LINE",rJ[rJ.SHAPE_ARROW=10]="SHAPE_ARROW",rJ[rJ.SHAPE_ELLIPSE=11]="SHAPE_ELLIPSE",rJ[rJ.SHAPE_RECTANGLE=12]="SHAPE_RECTANGLE",rJ[rJ.SHAPE_REGULAR_POLYGON=13]="SHAPE_REGULAR_POLYGON",rJ[rJ.VECTOR_PEN=14]="VECTOR_PEN",rJ[rJ.VECTOR_PENCIL=15]="VECTOR_PENCIL",rJ[rJ.VECTOR_BEND=16]="VECTOR_BEND",rJ[rJ.VECTOR_PAINT_BUCKET=17]="VECTOR_PAINT_BUCKET",rJ[rJ.TYPE=18]="TYPE",rJ[rJ.SCALE=19]="SCALE",rJ[rJ.STICKY=20]="STICKY",rJ[rJ.STAMP=21]="STAMP",rJ[rJ.SHAPE_WHITEBOARD_SQUARE=22]="SHAPE_WHITEBOARD_SQUARE",rJ[rJ.SHAPE_WHITEBOARD_ELLIPSE=23]="SHAPE_WHITEBOARD_ELLIPSE",rJ[rJ.SHAPE_WHITEBOARD_DIAMOND=24]="SHAPE_WHITEBOARD_DIAMOND",rJ[rJ.SHAPE_WHITEBOARD_TRIANGLE_UP=25]="SHAPE_WHITEBOARD_TRIANGLE_UP",rJ[rJ.SHAPE_WHITEBOARD_TRIANGLE_DOWN=26]="SHAPE_WHITEBOARD_TRIANGLE_DOWN",rJ[rJ.SHAPE_WHITEBOARD_ROUNDED_RECTANGLE=27]="SHAPE_WHITEBOARD_ROUNDED_RECTANGLE",rJ[rJ.SHAPE_WHITEBOARD_PARALLELOGRAM_RIGHT=28]="SHAPE_WHITEBOARD_PARALLELOGRAM_RIGHT",rJ[rJ.SHAPE_WHITEBOARD_PARALLELOGRAM_LEFT=29]="SHAPE_WHITEBOARD_PARALLELOGRAM_LEFT",rJ[rJ.CONNECTOR_ELBOWED=30]="CONNECTOR_ELBOWED",rJ[rJ.CONNECTOR_STRAIGHT=31]="CONNECTOR_STRAIGHT",rJ[rJ.CODE_BLOCK=32]="CODE_BLOCK",rJ[rJ.SHAPE_WHITEBOARD_ENG_DATABASE=33]="SHAPE_WHITEBOARD_ENG_DATABASE",rJ[rJ.SHAPE_WHITEBOARD_ENG_QUEUE=34]="SHAPE_WHITEBOARD_ENG_QUEUE",rJ[rJ.SHAPE_WHITEBOARD_ENG_FILE=35]="SHAPE_WHITEBOARD_ENG_FILE",rJ[rJ.SHAPE_WHITEBOARD_ENG_FOLDER=36]="SHAPE_WHITEBOARD_ENG_FOLDER",rJ[rJ.ERASER=37]="ERASER",rJ[rJ.HIGHLIGHTER=38]="HIGHLIGHTER",rJ[rJ.SECTION=39]="SECTION",rJ[rJ.WASHI_TAPE=40]="WASHI_TAPE",rJ[rJ.TABLE=41]="TABLE",rJ[rJ.SHAPE_WHITEBOARD_TRAPEZOID=42]="SHAPE_WHITEBOARD_TRAPEZOID",rJ[rJ.SHAPE_WHITEBOARD_STAR=43]="SHAPE_WHITEBOARD_STAR",rJ[rJ.SHAPE_WHITEBOARD_SHIELD=44]="SHAPE_WHITEBOARD_SHIELD",rJ[rJ.SHAPE_WHITEBOARD_HEXAGON=45]="SHAPE_WHITEBOARD_HEXAGON",rJ[rJ.SHAPE_WHITEBOARD_PENTAGON=46]="SHAPE_WHITEBOARD_PENTAGON",rJ[rJ.SHAPE_WHITEBOARD_OCTAGON=47]="SHAPE_WHITEBOARD_OCTAGON",rJ[rJ.SHAPE_WHITEBOARD_PLUS=48]="SHAPE_WHITEBOARD_PLUS",rJ[rJ.SHAPE_WHITEBOARD_PREDEFINED_PROCESS=49]="SHAPE_WHITEBOARD_PREDEFINED_PROCESS",rJ[rJ.SHAPE_WHITEBOARD_MANUAL_INPUT=50]="SHAPE_WHITEBOARD_MANUAL_INPUT",rJ[rJ.SHAPE_WHITEBOARD_CHEVRON=51]="SHAPE_WHITEBOARD_CHEVRON",rJ[rJ.SHAPE_WHITEBOARD_DOCUMENT_SINGLE=52]="SHAPE_WHITEBOARD_DOCUMENT_SINGLE",rJ[rJ.SHAPE_WHITEBOARD_DOCUMENT_MULTIPLE=53]="SHAPE_WHITEBOARD_DOCUMENT_MULTIPLE",rJ[rJ.SHAPE_WHITEBOARD_ARROW_LEFT=54]="SHAPE_WHITEBOARD_ARROW_LEFT",rJ[rJ.SHAPE_WHITEBOARD_ARROW_RIGHT=55]="SHAPE_WHITEBOARD_ARROW_RIGHT",rJ[rJ.SHAPE_WHITEBOARD_SUMMING_JUNCTION=56]="SHAPE_WHITEBOARD_SUMMING_JUNCTION",rJ[rJ.SHAPE_WHITEBOARD_OR=57]="SHAPE_WHITEBOARD_OR",rJ[rJ.SHAPE_WHITEBOARD_SPEECH_BUBBLE=58]="SHAPE_WHITEBOARD_SPEECH_BUBBLE",rJ[rJ.SHAPE_WHITEBOARD_INTERNAL_STORAGE=59]="SHAPE_WHITEBOARD_INTERNAL_STORAGE",rJ[rJ.SHAPE_WHITEBOARD_MINDMAP_TREE_NUCLEUS=60]="SHAPE_WHITEBOARD_MINDMAP_TREE_NUCLEUS",rJ[rJ.ANNOTATE=61]="ANNOTATE",rJ[rJ.IMAGE_OR_VIDEO=62]="IMAGE_OR_VIDEO",rJ[rJ.MEASURE=63]="MEASURE",rJ[rJ.SLIDES_POLL=64]="SLIDES_POLL",rJ[rJ.SLIDES_EMBED=65]="SLIDES_EMBED",rJ[rJ.HAND_SELECT=66]="HAND_SELECT",rJ[rJ.MULTISELECT=67]="MULTISELECT",rJ[rJ.WAND=68]="WAND",rJ[rJ.LASSO=69]="LASSO",rJ[rJ.SITES_LAYOUT_SET=70]="SITES_LAYOUT_SET",rJ),cl=((r0=cl||{})[r0.MISSING=0]="MISSING",r0[r0.PRESENT=1]="PRESENT",r0[r0.MIXED=2]="MIXED",r0[r0.MIXED_VALUES_FIRST=3]="MIXED_VALUES_FIRST",r0[r0.MIXED_VALUES_NEXT=4]="MIXED_VALUES_NEXT",r0),cs=((r1=cs||{})[r1.FRAME_PRESETS=0]="FRAME_PRESETS",r1[r1.PENCIL_TOOL=1]="PENCIL_TOOL",r1[r1.CANVAS_ITEM=2]="CANVAS_ITEM",r1[r1.TRANSFORM_ITEM=3]="TRANSFORM_ITEM",r1[r1.TEMPLATE_ITEM=4]="TEMPLATE_ITEM",r1[r1.COMPONENT_ITEM=5]="COMPONENT_ITEM",r1[r1.INSTANCE_ITEM=6]="INSTANCE_ITEM",r1[r1.STATE_GROUP_ITEM=7]="STATE_GROUP_ITEM",r1[r1.CONSTRAINTS_ITEM=8]="CONSTRAINTS_ITEM",r1[r1.VECTOR_ITEM=9]="VECTOR_ITEM",r1[r1.GRIDS_ITEM=10]="GRIDS_ITEM",r1[r1.MASK_ITEM=11]="MASK_ITEM",r1[r1.LAYER_ITEM=12]="LAYER_ITEM",r1[r1.TYPE_ITEM=13]="TYPE_ITEM",r1[r1.FILL_ITEM=14]="FILL_ITEM",r1[r1.STROKE_ITEM=15]="STROKE_ITEM",r1[r1.EFFECTS_ITEM=16]="EFFECTS_ITEM",r1[r1.EXPORT_ITEM=17]="EXPORT_ITEM",r1[r1.STACK_ITEM=18]="STACK_ITEM",r1[r1.SCALE_ITEM=19]="SCALE_ITEM",r1[r1.REMOVE_GROUP_BACKGROUND_ITEM=20]="REMOVE_GROUP_BACKGROUND_ITEM",r1[r1.OVERFLOW_ITEM=21]="OVERFLOW_ITEM",r1[r1.SELECTION_COLORS=22]="SELECTION_COLORS",r1[r1.VARIABLE_MODE_ITEM=23]="VARIABLE_MODE_ITEM",r1[r1.VARIABLE_PAGE_LEVEL_MODE_ITEM=24]="VARIABLE_PAGE_LEVEL_MODE_ITEM",r1[r1.SLIDES_ANIMATION=25]="SLIDES_ANIMATION",r1[r1.IMAGE_ITEM=26]="IMAGE_ITEM",r1[r1.SITES_POSITION_ITEM=27]="SITES_POSITION_ITEM",r1[r1.SITES_LINK_ITEM=28]="SITES_LINK_ITEM",r1[r1.NUM_VALUES=29]="NUM_VALUES",r1),cc=((r2=cc||{})[r2.FRAME_PRESETS_ITEM=0]="FRAME_PRESETS_ITEM",r2[r2.CORNER_RADIUS=1]="CORNER_RADIUS",r2[r2.FRAME_OPTIONS=2]="FRAME_OPTIONS",r2[r2.COUNT=3]="COUNT",r2[r2.STAR_INNER_SCALE=4]="STAR_INNER_SCALE",r2[r2.RECTANGLE_CORNER_RADII=5]="RECTANGLE_CORNER_RADII",r2[r2.FIXED_FRAME_OPTIONS=6]="FIXED_FRAME_OPTIONS",r2[r2.ARC_DATA=7]="ARC_DATA",r2[r2.TRANSFORM=8]="TRANSFORM",r2[r2.SIZE=9]="SIZE",r2[r2.ANGLE=10]="ANGLE",r2[r2.SECTION_ITEM=11]="SECTION_ITEM",r2[r2.NUM_VALUES=12]="NUM_VALUES",r2),cd=((r4=cd||{})[r4.TEXT_ALIGN_HORIZONTAL=0]="TEXT_ALIGN_HORIZONTAL",r4[r4.TEXT_ALIGN_VERTICAL=1]="TEXT_ALIGN_VERTICAL",r4[r4.TEXT_AUTO_RESIZE=2]="TEXT_AUTO_RESIZE",r4[r4.TEXT_STYLE=3]="TEXT_STYLE",r4[r4.NUM_VALUES=4]="NUM_VALUES",r4),cu=((r3=cu||{})[r3.NONE=0]="NONE",r3[r3.BOOL=1]="BOOL",r3[r3.TEXT=2]="TEXT",r3[r3.INSTANCE_SWAP=3]="INSTANCE_SWAP",r3[r3.VARIANT=4]="VARIANT",r3),cp=((r6=cp||{})[r6.NONE=0]="NONE",r6[r6.UNUSED_DEF_ERROR=1]="UNUSED_DEF_ERROR",r6[r6.CONFLICTING_NAMES_ERROR=2]="CONFLICTING_NAMES_ERROR",r6[r6.CONFLICTING_NAMES_WITH_VARIANT_ERROR=3]="CONFLICTING_NAMES_WITH_VARIANT_ERROR",r6),cm=((r8=cm||{})[r8.NOT_APPLICABLE=0]="NOT_APPLICABLE",r8[r8.YES=1]="YES",r8[r8.NO=2]="NO",r8),c_=((r5=c_||{})[r5.STATE_GROUP=0]="STATE_GROUP",r5[r5.STATE=1]="STATE",r5[r5.STATE_INSTANCE=2]="STATE_INSTANCE",r5[r5.STATE_OR_STATE_INSTANCE_SUBLAYER=3]="STATE_OR_STATE_INSTANCE_SUBLAYER",r5[r5.NON_STATE_COMPONENTS=4]="NON_STATE_COMPONENTS",r5[r5.NONE=5]="NONE",r5),ch=((r7=ch||{})[r7.NONE=0]="NONE",r7[r7.TOO_MANY_STATES_ERROR=1]="TOO_MANY_STATES_ERROR",r7[r7.MISSING_PROPERTIES_ERROR=2]="MISSING_PROPERTIES_ERROR",r7[r7.DUPLICATE_STATE_ERROR=3]="DUPLICATE_STATE_ERROR",r7[r7.PARSE_ERROR=4]="PARSE_ERROR",r7),cg=((r9=cg||{})[r9.NONE=0]="NONE",r9[r9.SINGLE_NODE=1]="SINGLE_NODE",r9[r9.MULTI_NODE=2]="MULTI_NODE",r9),cf=((ne=cf||{})[ne.FIXED=0]="FIXED",ne[ne.HUG_CONTENT=1]="HUG_CONTENT",ne[ne.FILL_CONTAINER=2]="FILL_CONTAINER",ne),cE=((nt=cE||{})[nt.CANVAS=0]="CANVAS",nt[nt.PROPERTIES_PANEL=1]="PROPERTIES_PANEL",nt[nt.DRAG_TO_CREATE=2]="DRAG_TO_CREATE",nt),cy=((nr=cy||{})[nr.NONE=0]="NONE",nr[nr.CONNECTOR=1]="CONNECTOR",nr[nr.LINE=2]="LINE",nr[nr.VECTOR=3]="VECTOR",nr[nr.VERTEX=4]="VERTEX",nr[nr.ENDPOINT=5]="ENDPOINT",nr[nr.PENCIL=6]="PENCIL",nr[nr.WASHI_TAPE=7]="WASHI_TAPE",nr[nr.SECTION=8]="SECTION",nr),cb=((nn=cb||{})[nn.NONE=0]="NONE",nn[nn.FRAME_NAME=1]="FRAME_NAME",nn[nn.FLOW_STARTING_POINT_NAME=2]="FLOW_STARTING_POINT_NAME",nn[nn.SECTION_NAME=3]="SECTION_NAME",nn),cv=((ni=cv||{})[ni.NONE=0]="NONE",ni[ni.INT=1]="INT",ni[ni.BOOL=2]="BOOL",ni[ni.FLOAT=3]="FLOAT",ni[ni.STRING=4]="STRING",ni[ni.JSON=5]="JSON",ni[ni.GRADIENT_STOP_SELECTION=7]="GRADIENT_STOP_SELECTION",ni[ni.SELECTED_PROPERTY=8]="SELECTED_PROPERTY",ni[ni.BOOL_ARRAY=9]="BOOL_ARRAY",ni[ni.GUID=10]="GUID",ni[ni.ON_CANVAS_NAME_EDITOR_INFO=11]="ON_CANVAS_NAME_EDITOR_INFO",ni[ni.EXPORT_SELECTION_SETTINGS=12]="EXPORT_SELECTION_SETTINGS",ni[ni.ACTIVE_EMBED_DATA=13]="ACTIVE_EMBED_DATA",ni[ni.VOTING_SESSION_INFO=14]="VOTING_SESSION_INFO",ni[ni.HOVERED_COMPONENT_PROP_DEF=15]="HOVERED_COMPONENT_PROP_DEF",ni[ni.TEXT_REVIEW_PLUGIN_INFO=16]="TEXT_REVIEW_PLUGIN_INFO",ni[ni.DEV_HANDOFF_CODE_LANGUAGE=17]="DEV_HANDOFF_CODE_LANGUAGE",ni[ni.DEV_HANDOFF_PREFERENCES=18]="DEV_HANDOFF_PREFERENCES",ni),cI=((na=cI||{})[na.OVERRIDES_FOR_LAYER_AND_SUBLAYERS=0]="OVERRIDES_FOR_LAYER_AND_SUBLAYERS",na[na.EXPORTS=1]="EXPORTS",na[na.EFFECTS=2]="EFFECTS",na[na.LAYER=3]="LAYER",na[na.VISIBLE=4]="VISIBLE",na[na.NAME=5]="NAME",na[na.FILL=6]="FILL",na[na.STROKE=7]="STROKE",na[na.TEXT=8]="TEXT",na[na.TEXT_STYLE=9]="TEXT_STYLE",na[na.SIZE=10]="SIZE",na[na.OVERRIDDEN_SYMBOL=11]="OVERRIDDEN_SYMBOL",na[na.PROTOTYPE_INTERACTIONS=12]="PROTOTYPE_INTERACTIONS",na[na.OVERLAY=13]="OVERLAY",na[na.NUM_VALUES=14]="NUM_VALUES",na),cw=((no=cw||{})[no.ALWAYS=0]="ALWAYS",no[no.ONLY_WHEN_NOT_EMPTY=1]="ONLY_WHEN_NOT_EMPTY",no[no.ONLY_WHEN_NOT_DISABLED=2]="ONLY_WHEN_NOT_DISABLED",no),cT=((nl=cT||{})[nl.UNJOINED=0]="UNJOINED",nl[nl.UNJOINED_FROM_ERROR=1]="UNJOINED_FROM_ERROR",nl[nl.UNJOINED_FROM_VALIDATION_FAILURE=2]="UNJOINED_FROM_VALIDATION_FAILURE",nl[nl.GOT_SCHEMA=3]="GOT_SCHEMA",nl[nl.JOINING_INITIAL_LOAD=4]="JOINING_INITIAL_LOAD",nl[nl.JOINING_RECONNECT=5]="JOINING_RECONNECT",nl[nl.JOINING_RECONNECT_AWAITING_QUERY_REPLY=6]="JOINING_RECONNECT_AWAITING_QUERY_REPLY",nl[nl.JOINED=7]="JOINED",nl[nl.SHOULD_UPGRADE=8]="SHOULD_UPGRADE",nl[nl.UPGRADING=9]="UPGRADING",nl[nl.WAITING_FOR_RELOAD=10]="WAITING_FOR_RELOAD",nl[nl.DETACHED=11]="DETACHED",nl),cS=((ns=cS||{})[ns.COMMENT=0]="COMMENT",ns[ns.EMPTY_LINE=1]="EMPTY_LINE",ns[ns.DECLARATION=2]="DECLARATION",ns[ns.BLOCK_COMMENT=3]="BLOCK_COMMENT",ns),cC=((nc=cC||{})[nc.DESIGN=0]="DESIGN",nc[nc.PROTOTYPE=1]="PROTOTYPE",nc[nc.INSPECT=2]="INSPECT",nc[nc.COMMENT=3]="COMMENT",nc[nc.EXPORT=4]="EXPORT",nc[nc.SLIDE=5]="SLIDE",nc[nc.SLIDE_ANIMATION=6]="SLIDE_ANIMATION",nc[nc.SITE=7]="SITE",nc),cA=((nd=cA||{})[nd.PAN=0]="PAN",nd[nd.ZOOM=1]="ZOOM",nd),cO=((nu=cO||{})[nu.CSS=0]="CSS",nu[nu.IOS=1]="IOS",nu[nu.ANDROID=2]="ANDROID",nu),cN=((np=cN||{})[np.TABULAR=0]="TABULAR",np[np.CODE=1]="CODE",np),cL=((nm=cL||{})[nm.NOT_LOADED=0]="NOT_LOADED",nm[nm.REQUESTED=1]="REQUESTED",nm[nm.LOADED=2]="LOADED",nm),cR=((n_=cR||{})[n_.NONE=0]="NONE",n_[n_.DIVIDER=1]="DIVIDER",n_[n_.WHITEBOARD_COLOR=2]="WHITEBOARD_COLOR",n_[n_.STICKY_COLOR=3]="STICKY_COLOR",n_[n_.HIGHLIGHT_COLOR=4]="HIGHLIGHT_COLOR",n_[n_.WHITEBOARD_STROKE=5]="WHITEBOARD_STROKE",n_[n_.WHITEBOARD_SHAPE=6]="WHITEBOARD_SHAPE",n_[n_.TEXT_DECORATION=7]="TEXT_DECORATION",n_[n_.HYPERLINK=8]="HYPERLINK",n_[n_.BULLETED_LIST=9]="BULLETED_LIST",n_[n_.WHITEBOARD_TEXT_STYLE=10]="WHITEBOARD_TEXT_STYLE",n_[n_.TEXT_ALIGN=11]="TEXT_ALIGN",n_[n_.FONT_FAMILY=12]="FONT_FAMILY",n_[n_.CONNECTOR_LINE_STYLE=13]="CONNECTOR_LINE_STYLE",n_[n_.CONNECTOR_START_CAP=14]="CONNECTOR_START_CAP",n_[n_.CONNECTOR_END_CAP=15]="CONNECTOR_END_CAP",n_[n_.AUTHOR_VISIBILITY=16]="AUTHOR_VISIBILITY",n_[n_.ADD_TEXT=17]="ADD_TEXT",n_[n_.CODE_BLOCK_LANGUAGE=18]="CODE_BLOCK_LANGUAGE",n_[n_.IMAGE=19]="IMAGE",n_[n_.BORDER=20]="BORDER",n_[n_.DESCRIPTION=21]="DESCRIPTION",n_[n_.EMBED_OPEN_EXTERNAL=22]="EMBED_OPEN_EXTERNAL",n_[n_.EMBED_MAXIMIZE=23]="EMBED_MAXIMIZE",n_[n_.EMBED_CONVERT_TO_TEXT=24]="EMBED_CONVERT_TO_TEXT",n_[n_.SECTION_SHOW_HIDE=25]="SECTION_SHOW_HIDE",n_[n_.SECTION_RENAME=26]="SECTION_RENAME",n_[n_.RESIZE_TO_FIT=27]="RESIZE_TO_FIT",n_[n_.WASHI_TAPE_PATTERN=28]="WASHI_TAPE_PATTERN",n_[n_.FACE_STAMP=29]="FACE_STAMP",n_[n_.START_MIND_MAP=30]="START_MIND_MAP",n_[n_.WIDGET=31]="WIDGET",n_),cP=((nh=cP||{})[nh.PNG=0]="PNG",nh[nh.JPEG=1]="JPEG",nh[nh.PDF=2]="PDF",nh[nh.CSV=3]="CSV",nh),cM=((ng=cM||{})[ng.STICKY=0]="STICKY",ng[ng.TABLE=1]="TABLE",ng),ck=((nf=ck||{})[nf.TRANSPARENT=0]="TRANSPARENT",nf[nf.WHITE=1]="WHITE",nf[nf.CHECKERBOARD=2]="CHECKERBOARD",nf[nf.HALF_CHECKERBOARD=3]="HALF_CHECKERBOARD",nf[nf.HALF_WHITE=4]="HALF_WHITE",nf[nf.CUSTOM_COLOR=5]="CUSTOM_COLOR",nf),cD=((nE=cD||{})[nE.SOLID=0]="SOLID",nE[nE.TRANSPARENT=1]="TRANSPARENT",nE[nE.GRID=2]="GRID",nE),cF=((ny=cF||{})[ny.ATTACHED_FILE_TIP=0]="ATTACHED_FILE_TIP",ny[ny.DETACHED_FILE_TIP=1]="DETACHED_FILE_TIP",ny[ny.DETACHED_BRANCH_TIP=2]="DETACHED_BRANCH_TIP",ny[ny.BRANCH_POINT=3]="BRANCH_POINT",ny[ny.PREVIEW_BRANCH_TIP=4]="PREVIEW_BRANCH_TIP",ny[ny.STAGED_BRANCH_TIP=5]="STAGED_BRANCH_TIP",ny[ny.STAGED_FILE_TIP=6]="STAGED_FILE_TIP",ny),cU=((nb=cU||{})[nb.NONE=0]="NONE",nb[nb.BEGIN_PREVIEW=1]="BEGIN_PREVIEW",nb[nb.RECREATE_BRANCH_POINT=2]="RECREATE_BRANCH_POINT",nb[nb.PREVIEW_CHANGES=3]="PREVIEW_CHANGES",nb[nb.STAGE_CHANGES=4]="STAGE_CHANGES",nb[nb.RESET_TO_BRANCH_POINT=5]="RESET_TO_BRANCH_POINT",nb[nb.COMMIT=6]="COMMIT",nb[nb.ABANDON=7]="ABANDON",nb[nb.STAGE_CHANGES_WHILE_ATTACHED=8]="STAGE_CHANGES_WHILE_ATTACHED",nb[nb.BEGIN_MERGE=9]="BEGIN_MERGE",nb),cB=((nv=cB||{})[nv.UNKNOWN=0]="UNKNOWN",nv[nv.US_QWERTY=1]="US_QWERTY",nv[nv.DVORAK=2]="DVORAK",nv[nv.GERMAN=3]="GERMAN",nv[nv.FRENCH_AZERTY=4]="FRENCH_AZERTY",nv[nv.HIRAGANA_KANA=5]="HIRAGANA_KANA",nv[nv.UK_MAC=6]="UK_MAC",nv[nv.UK_PC=7]="UK_PC",nv[nv.SWEDISH=8]="SWEDISH",nv[nv.FINNISH=9]="FINNISH",nv[nv.DANISH=10]="DANISH",nv[nv.NORWEGIAN=11]="NORWEGIAN",nv[nv.ITALIAN=12]="ITALIAN",nv[nv.SPANISH=13]="SPANISH",nv[nv.SPANISH_LATAM=14]="SPANISH_LATAM",nv[nv.CHINESE=15]="CHINESE",nv[nv.PORTUGUESE=16]="PORTUGUESE",nv[nv.KOREAN=17]="KOREAN",nv),cG=((nI=cG||{})[nI.DESIGN=0]="DESIGN",nI[nI.WHITEBOARD=1]="WHITEBOARD",nI[nI.SLIDES=2]="SLIDES",nI[nI.DEV_HANDOFF=3]="DEV_HANDOFF",nI[nI.SITES=4]="SITES",nI),cV=((nw=cV||{})[nw.RIGHT=0]="RIGHT",nw[nw.ABOVE=1]="ABOVE",nw[nw.CUSTOM_POSITION=2]="CUSTOM_POSITION",nw[nw.BELOW=3]="BELOW",nw),cH=((nT=cH||{})[nT.OFF=0]="OFF",nT[nT.ON_AND_LOCKED=1]="ON_AND_LOCKED",nT[nT.KEEP_UI=2]="KEEP_UI",nT[nT.HIDE_UI=3]="HIDE_UI",nT),cW=((nS=cW||{})[nS.NONE=0]="NONE",nS[nS.FRAME=1]="FRAME",nS[nS.GROUP=2]="GROUP",nS[nS.STACK=3]="STACK",nS[nS.SECTION=4]="SECTION",nS[nS.RESPONSIVE_SET=5]="RESPONSIVE_SET",nS),cK=((nC=cK||{})[nC.SELECTION=0]="SELECTION",nC[nC.SNAPPING=1]="SNAPPING",nC),cY=((nA=cY||{})[nA.MISSING=0]="MISSING",nA[nA.CORNER_RADIUS=1]="CORNER_RADIUS",nA[nA.PARAGRAPH_SPACING=2]="PARAGRAPH_SPACING",nA[nA.PARAGRAPH_INDENT=3]="PARAGRAPH_INDENT",nA[nA.STROKE_WEIGHT=4]="STROKE_WEIGHT",nA[nA.STACK_SPACING=5]="STACK_SPACING",nA[nA.STACK_PADDING_LEFT=6]="STACK_PADDING_LEFT",nA[nA.STACK_PADDING_TOP=7]="STACK_PADDING_TOP",nA[nA.STACK_PADDING_RIGHT=8]="STACK_PADDING_RIGHT",nA[nA.STACK_PADDING_BOTTOM=9]="STACK_PADDING_BOTTOM",nA[nA.VISIBLE=10]="VISIBLE",nA[nA.TEXT_DATA=11]="TEXT_DATA",nA[nA.WIDTH=12]="WIDTH",nA[nA.HEIGHT=13]="HEIGHT",nA[nA.RECTANGLE_TOP_LEFT_CORNER_RADIUS=14]="RECTANGLE_TOP_LEFT_CORNER_RADIUS",nA[nA.RECTANGLE_TOP_RIGHT_CORNER_RADIUS=15]="RECTANGLE_TOP_RIGHT_CORNER_RADIUS",nA[nA.RECTANGLE_BOTTOM_LEFT_CORNER_RADIUS=16]="RECTANGLE_BOTTOM_LEFT_CORNER_RADIUS",nA[nA.RECTANGLE_BOTTOM_RIGHT_CORNER_RADIUS=17]="RECTANGLE_BOTTOM_RIGHT_CORNER_RADIUS",nA[nA.BORDER_TOP_WEIGHT=18]="BORDER_TOP_WEIGHT",nA[nA.BORDER_BOTTOM_WEIGHT=19]="BORDER_BOTTOM_WEIGHT",nA[nA.BORDER_LEFT_WEIGHT=20]="BORDER_LEFT_WEIGHT",nA[nA.BORDER_RIGHT_WEIGHT=21]="BORDER_RIGHT_WEIGHT",nA[nA.VARIANT_PROPERTIES=22]="VARIANT_PROPERTIES",nA[nA.STACK_COUNTER_SPACING=23]="STACK_COUNTER_SPACING",nA[nA.MIN_WIDTH=24]="MIN_WIDTH",nA[nA.MAX_WIDTH=25]="MAX_WIDTH",nA[nA.MIN_HEIGHT=26]="MIN_HEIGHT",nA[nA.MAX_HEIGHT=27]="MAX_HEIGHT",nA),cq=((nO=cq||{})[nO.DONT_MERGE=0]="DONT_MERGE",nO[nO.TEXT_EDIT=1]="TEXT_EDIT",nO[nO.TEXT_LINE_HEIGHT=2]="TEXT_LINE_HEIGHT",nO[nO.TEXT_FONT_SIZE=3]="TEXT_FONT_SIZE",nO[nO.TEXT_LETTER_SPACING=4]="TEXT_LETTER_SPACING",nO[nO.LAYER_OPACITY=5]="LAYER_OPACITY",nO[nO.NUDGE=6]="NUDGE",nO[nO.SELECTION_PROPERTY=7]="SELECTION_PROPERTY",nO[nO.STYLE_SELECTION_PROPERTY=8]="STYLE_SELECTION_PROPERTY",nO[nO.CONTENT_FILL_INSERT_AND_GENERATE=9]="CONTENT_FILL_INSERT_AND_GENERATE",nO),cj=((nN=cj||{})[nN.NO_SESSION=0]="NO_SESSION",nN[nN.JOINED=1]="JOINED",nN[nN.NOT_JOINED=2]="NOT_JOINED",nN[nN.ENDED=3]="ENDED",nN),c$=((nL=c$||{})[nL.NONE=0]="NONE",nL[nL.FILL=1]="FILL",nL[nL.TEXT=2]="TEXT",nL[nL.EFFECT=3]="EFFECT",nL[nL.GRID=4]="GRID",nL),cZ=((nR=cZ||{})[nR.TOP_LEFT=0]="TOP_LEFT",nR[nR.TOP_CENTER=1]="TOP_CENTER",nR[nR.TOP_RIGHT=2]="TOP_RIGHT",nR[nR.MIDDLE_LEFT=3]="MIDDLE_LEFT",nR[nR.MIDDLE_CENTER=4]="MIDDLE_CENTER",nR[nR.MIDDLE_RIGHT=5]="MIDDLE_RIGHT",nR[nR.BOTTOM_LEFT=6]="BOTTOM_LEFT",nR[nR.BOTTOM_CENTER=7]="BOTTOM_CENTER",nR[nR.BOTTOM_RIGHT=8]="BOTTOM_RIGHT",nR),cz=((nP=cz||{})[nP.PRESENT=0]="PRESENT",nP[nP.PREVIEW=1]="PREVIEW",nP[nP.HTML_PREVIEW=2]="HTML_PREVIEW",nP),cQ=((nM=cQ||{})[nM.MOBILE_NATIVE_NAVBAR=0]="MOBILE_NATIVE_NAVBAR",nM),cX=((nk=cX||{})[nk.DEFINITELY_COVERED_ONLY=0]="DEFINITELY_COVERED_ONLY",nk[nk.DEFINITELY_COVERED_AND_OUTDATED=1]="DEFINITELY_COVERED_AND_OUTDATED",nk),cJ=((nD=cJ||{})[nD.SUCCESS=0]="SUCCESS",nD[nD.ERROR_TEXT_SIZE=1]="ERROR_TEXT_SIZE",nD[nD.ERROR_OTHER=2]="ERROR_OTHER",nD),c0=((nF=c0||{})[nF.MIRO=0]="MIRO",nF[nF.MURAL=1]="MURAL",nF[nF.UNKNOWN=2]="UNKNOWN",nF),c1=((nx=c1||{})[nx.PIXEL=0]="PIXEL",nx[nx.SCALED=1]="SCALED",nx),c2=((nU=c2||{})[nU.DEFAULT=0]="DEFAULT",nU[nU.UNDO_REDO=1]="UNDO_REDO",nU[nU.ANNOTATIONS=2]="ANNOTATIONS",nU[nU.NODE_STATUS=3]="NODE_STATUS",nU),c4=((nB=c4||{})[nB.FIT_TO_SCREEN=0]="FIT_TO_SCREEN",nB[nB.FIT_TO_WIDTH=1]="FIT_TO_WIDTH",nB[nB.FILL_SCREEN=2]="FILL_SCREEN",nB),c3=((nG=c3||{})[nG.X=0]="X",nG[nG.Y=1]="Y",nG),c6=((nV=c6||{})[nV.LEFT=0]="LEFT",nV[nV.CENTER=1]="CENTER",nV[nV.RIGHT=2]="RIGHT",nV[nV.JUSTIFIED=3]="JUSTIFIED",nV),c8=((nH=c8||{})[nH.TOP=0]="TOP",nH[nH.CENTER=1]="CENTER",nH[nH.BOTTOM=2]="BOTTOM",nH),c5=((nW=c5||{})[nW.CLICK=0]="CLICK",nW[nW.DRAG=1]="DRAG",nW),c7=((nK=c7||{})[nK.TOP=0]="TOP",nK[nK.RIGHT=1]="RIGHT",nK[nK.BOTTOM=2]="BOTTOM",nK[nK.LEFT=3]="LEFT",nK),c9=((nY=c9||{})[nY.YES=0]="YES",nY[nY.NO=1]="NO",nY),de=((nq=de||{})[nq.ROW=0]="ROW",nq[nq.COLUMN=1]="COLUMN",nq),dt=((nj=dt||{})[nj.FORWARD=0]="FORWARD",nj[nj.BACKWARD=1]="BACKWARD",nj),dr=((n$=dr||{})[n$.HIDE=0]="HIDE",n$[n$.REORDER_AND_APPEND_ONLY=1]="REORDER_AND_APPEND_ONLY",n$[n$.FULL=2]="FULL",n$),dn=((nZ=dn||{})[nZ.AXIS=0]="AXIS",nZ[nZ.POINT=1]="POINT",nZ),di=((nz=di||{})[nz.NONE=0]="NONE",nz[nz.PIXEL_GRID=1]="PIXEL_GRID",nz[nz.DOT_GRID=16]="DOT_GRID",nz),da=((nQ=da||{})[nQ.EDITOR_TEMPLATE=0]="EDITOR_TEMPLATE",nQ[nQ.SLIDES_TEMPLATE=1]="SLIDES_TEMPLATE",nQ),dl=((nX=dl||{})[nX.SUCCESS=0]="SUCCESS",nX[nX.TRIGGERED_DETACH=1]="TRIGGERED_DETACH",nX[nX.INTERNAL_ERROR=2]="INTERNAL_ERROR",nX),ds=((nJ=ds||{})[nJ.SUCCESS=0]="SUCCESS",nJ[nJ.NOT_DETACHED_ERROR=1]="NOT_DETACHED_ERROR",nJ[nJ.INTERNAL_ERROR=2]="INTERNAL_ERROR",nJ),dc=((n0=dc||{})[n0.DEFAULT=0]="DEFAULT",n0[n0.CONTAINING_PAGE=1]="CONTAINING_PAGE",n0[n0.PLUGIN=2]="PLUGIN",n0),dd=((n1=dd||{})[n1.LEGACY_PLUGIN=0]="LEGACY_PLUGIN",n1[n1.PLUGIN_VALIDATION=1]="PLUGIN_VALIDATION",n1[n1.DYNAMIC_PLUGIN_LOAD_ALL=2]="DYNAMIC_PLUGIN_LOAD_ALL",n1[n1.SAVE_LOCAL_COPY=3]="SAVE_LOCAL_COPY",n1[n1.LEGACY_IMAGES_CODE=4]="LEGACY_IMAGES_CODE",n1[n1.FIND_AND_REPLACE=5]="FIND_AND_REPLACE",n1[n1.REPLACE_LIBRARIES=6]="REPLACE_LIBRARIES",n1[n1.LIBRARY_UPDATES=7]="LIBRARY_UPDATES",n1[n1.MISSING_FONTS=8]="MISSING_FONTS",n1[n1.BRANCHING_MODAL_OPEN=9]="BRANCHING_MODAL_OPEN",n1[n1.BRANCHING_MERGE_TO_MAIN=10]="BRANCHING_MERGE_TO_MAIN",n1[n1.DEBUG_TOOL=11]="DEBUG_TOOL",n1),du=((n2=du||{})[n2.NONE=0]="NONE",n2[n2.DOCUMENT=1]="DOCUMENT",n2[n2.CANVAS=2]="CANVAS",n2[n2.GROUP_DEPRECATED=3]="GROUP_DEPRECATED",n2[n2.FRAME=4]="FRAME",n2[n2.SYMBOL=5]="SYMBOL",n2[n2.INSTANCE=6]="INSTANCE",n2[n2.STICKY=7]="STICKY",n2[n2.SHAPE_WITH_TEXT=8]="SHAPE_WITH_TEXT",n2[n2.CONNECTOR=9]="CONNECTOR",n2[n2.CODE_BLOCK=10]="CODE_BLOCK",n2[n2.WIDGET=11]="WIDGET",n2[n2.STAMP=12]="STAMP",n2[n2.MEDIA=13]="MEDIA",n2[n2.SECTION=14]="SECTION",n2[n2.SECTION_OVERLAY=15]="SECTION_OVERLAY",n2[n2.TABLE=16]="TABLE",n2[n2.TABLE_CELL=17]="TABLE_CELL",n2[n2.SLIDE=18]="SLIDE",n2[n2.SLIDE_GRID=19]="SLIDE_GRID",n2[n2.SLIDE_ROW=20]="SLIDE_ROW",n2[n2.MODULE=21]="MODULE",n2[n2.VECTOR_OPERATION=22]="VECTOR_OPERATION",n2[n2.VECTOR=23]="VECTOR",n2[n2.HIGHLIGHT=24]="HIGHLIGHT",n2[n2.STAR=25]="STAR",n2[n2.LINE=26]="LINE",n2[n2.ELLIPSE=27]="ELLIPSE",n2[n2.RECTANGLE=28]="RECTANGLE",n2[n2.REGULAR_POLYGON=29]="REGULAR_POLYGON",n2[n2.ROUNDED_RECTANGLE=30]="ROUNDED_RECTANGLE",n2[n2.TEXT=31]="TEXT",n2[n2.SLICE=32]="SLICE",n2[n2.WASHI_TAPE=33]="WASHI_TAPE",n2[n2.VARIABLE=34]="VARIABLE",n2[n2.VARIABLE_SET=35]="VARIABLE_SET",n2[n2.ASSISTED_LAYOUT_DEPRECATED=36]="ASSISTED_LAYOUT_DEPRECATED",n2[n2.INTERACTIVE_SLIDE_ELEMENT=37]="INTERACTIVE_SLIDE_ELEMENT",n2[n2.VARIABLE_OVERRIDE=38]="VARIABLE_OVERRIDE",n2),dp=((n4=dp||{})[n4.EMBED=0]="EMBED",n4[n4.LINK_PREVIEW=1]="LINK_PREVIEW",n4[n4.WIDGET=2]="WIDGET",n4),dm=((n3=dm||{})[n3.LOCAL=0]="LOCAL",n3[n3.REMOTE=1]="REMOTE",n3),d_=((n6=d_||{})[n6.CREATE=0]="CREATE",n6[n6.DELETE=1]="DELETE",n6[n6.PROPERTY_CHANGE=2]="PROPERTY_CHANGE",n6[n6.STYLE_PROPERTY_CHANGE=3]="STYLE_PROPERTY_CHANGE",n6[n6.STYLE_CREATE=4]="STYLE_CREATE",n6[n6.STYLE_DELETE=5]="STYLE_DELETE",n6),dh=((n8=dh||{})[n8.LOADED=0]="LOADED",n8[n8.LOADING=1]="LOADING",n8[n8.FAILED=2]="FAILED",n8),dg=((n5=dg||{})[n5.GROUP=0]="GROUP",n5[n5.UNION=1]="UNION",n5[n5.SUBTRACT=2]="SUBTRACT",n5[n5.INTERSECT=3]="INTERSECT",n5[n5.XOR=4]="XOR",n5[n5.STATE_GROUP=5]="STATE_GROUP",n5),df=((n7=df||{})[n7.UNLOADED=0]="UNLOADED",n7[n7.NOT_ANIMATED=1]="NOT_ANIMATED",n7[n7.ANIMATED=2]="ANIMATED",n7),dE=((n9=dE||{})[n9.NONE=0]="NONE",n9[n9.PRESET=1]="PRESET",n9[n9.CUSTOM=2]="CUSTOM",n9[n9.PRESENTATION=3]="PRESENTATION",n9),dy=((ie=dy||{})[ie.VALID=0]="VALID",ie[ie.NO_FRAMES=1]="NO_FRAMES",ie[ie.INVALID_START_NODE=2]="INVALID_START_NODE",ie),db=((it=db||{})[it.SCROLLS=0]="SCROLLS",it[it.FIXED=1]="FIXED",it[it.STICKY_SCROLLS=2]="STICKY_SCROLLS",it),dv=((ir=dv||{})[ir.INACTIVE=0]="INACTIVE",ir[ir.ALL_FRAMES=1]="ALL_FRAMES",ir[ir.COMPONENT_SET=2]="COMPONENT_SET",ir[ir.RESPONSIVE_SET=3]="RESPONSIVE_SET",ir),dI=((ii=dI||{})[ii.VARIABLES_MODAL=0]="VARIABLES_MODAL",ii[ii.VARIABLE_PICKER=1]="VARIABLE_PICKER",ii),dw=((ia=dw||{})[ia.AUTOMATIC_FIRST_COLLECTION=0]="AUTOMATIC_FIRST_COLLECTION",ia[ia.VARIABLES_MODAL=1]="VARIABLES_MODAL",ia),dT=((io=dT||{})[io.ADD_CHANGES=0]="ADD_CHANGES",io[io.REPLACE_CHANGES=1]="REPLACE_CHANGES",io),dS=((il=dS||{})[il.NONE=0]="NONE",il[il.DISCONNECTED_AUTOSAVE_DISABLED=1]="DISCONNECTED_AUTOSAVE_DISABLED",il[il.DISCONNECTED_SERVER_ISSUES=2]="DISCONNECTED_SERVER_ISSUES",il[il.DISCONNECTED_OTHER=3]="DISCONNECTED_OTHER",il[il.SYNCING_AUTOSAVE_DISABLED=4]="SYNCING_AUTOSAVE_DISABLED",il[il.SYNCING_SERVER_ISSUES=5]="SYNCING_SERVER_ISSUES",il[il.SYNCING_OTHER=6]="SYNCING_OTHER",il[il.SUPPRESS_UNSAVED_CHANGES_UI=7]="SUPPRESS_UNSAVED_CHANGES_UI",il),dC=((is=dC||{})[is.NONE=0]="NONE",is[is.SCENEGRAPH_VALIDATION_ERROR=1]="SCENEGRAPH_VALIDATION_ERROR",is[is.NON_ATOMIC_SYNC_ERROR=2]="NON_ATOMIC_SYNC_ERROR",is),dA=((ic=dA||{})[ic.NEW_FILE=0]="NEW_FILE",ic[ic.INITIAL_LOAD=1]="INITIAL_LOAD",ic[ic.RECONNECT=2]="RECONNECT",ic),dO=((id=dO||{})[id.DEFAULT=0]="DEFAULT",id[id.CROSSHAIR=1]="CROSSHAIR",id[id.EYEDROPPER=2]="EYEDROPPER",id[id.HAND=3]="HAND",id[id.PAINT_BUCKET=4]="PAINT_BUCKET",id[id.PEN=5]="PEN",id[id.PENCIL=6]="PENCIL",id[id.MARKER=7]="MARKER",id[id.ERASER=8]="ERASER",id[id.HIGHLIGHTER=9]="HIGHLIGHTER",id[id.HIGH_FIVE=10]="HIGH_FIVE",id),dN=((iu=dN||{})[iu.NONE=0]="NONE",iu[iu.STICKY=1]="STICKY",iu[iu.SHAPE_WITH_TEXT=2]="SHAPE_WITH_TEXT",iu[iu.SECTION=3]="SECTION",iu[iu.BUG_BASH=4]="BUG_BASH",iu[iu.STANDUP=5]="STANDUP",iu[iu.DESIGN_CRIT=6]="DESIGN_CRIT",iu[iu.USER_JOURNEY=7]="USER_JOURNEY",iu[iu.MAKE_SOMETHING_BRAINSTORM=8]="MAKE_SOMETHING_BRAINSTORM",iu[iu.MAKE_SOMETHING_TEAM_CHART=9]="MAKE_SOMETHING_TEAM_CHART",iu[iu.MAKE_SOMETHING_TEAM_UPDATES=10]="MAKE_SOMETHING_TEAM_UPDATES",iu[iu.MAKE_SOMETHING_PLANNING=11]="MAKE_SOMETHING_PLANNING",iu[iu.RETRO=12]="RETRO",iu),dL=((ip=dL||{})[ip.BASIC=0]="BASIC",ip[ip.EXPANDED=1]="EXPANDED",ip),dR=((im=dR||{})[im.DEFAULT=0]="DEFAULT",im[im.BLUE=1]="BLUE",im[im.GREEN=2]="GREEN",im[im.PURPLE=3]="PURPLE",im[im.RED=4]="RED",im[im.YELLOW=5]="YELLOW",im),dP=((i_=dP||{})[i_.DIAGRAM=0]="DIAGRAM",i_[i_.ORG_CHART=1]="ORG_CHART",i_),dM=((ih=dM||{})[ih.HORIZONTAL=0]="HORIZONTAL",ih[ih.VERTICAL=1]="VERTICAL",ih),dk=((ig=dk||{})[ig.DEFAULT=0]="DEFAULT",ig[ig.PURPLE=1]="PURPLE",ig[ig.BLUE=2]="BLUE",ig[ig.GREEN=3]="GREEN",ig),dD=((iE=dD||{})[iE.DEFAULT=0]="DEFAULT",iE[iE.BLUE=1]="BLUE",iE[iE.GREEN=2]="GREEN",iE[iE.PURPLE=3]="PURPLE",iE[iE.RED=4]="RED",iE[iE.YELLOW=5]="YELLOW",iE),dF=((iy=dF||{})[iy.SELECTION=0]="SELECTION",iy[iy.PENCIL_TOOL=1]="PENCIL_TOOL",iy[iy.SHAPE_TOOL=2]="SHAPE_TOOL",iy[iy.EDIT_PALETTE_MODAL=3]="EDIT_PALETTE_MODAL",iy),dx=((ib=dx||{})[ib.ALL=0]="ALL",ib[ib.SECTION_STATUS_LABEL=1]="SECTION_STATUS_LABEL",ib[ib.SECTION_PRESET_PICKER=2]="SECTION_PRESET_PICKER",ib),dU=((iv=dU||{})[iv.LEGACY=0]="LEGACY",iv[iv.MOBILE=1]="MOBILE",iv[iv.DEFAULT=2]="DEFAULT",iv[iv.MERGE_MODAL=3]="MERGE_MODAL",iv[iv.RECOVERY=4]="RECOVERY",iv[iv.MAXIMUM=5]="MAXIMUM",iv),dB=((iI=dB||{})[iI.GL_VERTEX_BUFFER=0]="GL_VERTEX_BUFFER",iI),dG=((iw=dG||{})[iw.DEFAULT=0]="DEFAULT",iw[iw.ALWAYS=1]="ALWAYS",iw[iw.NEVER=2]="NEVER",iw),dV=((iT=dV||{})[iT.FULLSCREEN=0]="FULLSCREEN",iT[iT.NON_FULLSCREEN=1]="NON_FULLSCREEN",iT),dH=((iS=dH||{})[iS.NONE=0]="NONE",iS[iS.FAST=1]="FAST",iS[iS.DEFAULT=6]="DEFAULT",iS[iS.BEST=9]="BEST",iS),dW=((iC=dW||{})[iC.SRGB=0]="SRGB",iC[iC.DISPLAY_P3=1]="DISPLAY_P3",iC),dK=((iA=dK||{})[iA.LEGACY=0]="LEGACY",iA[iA.SRGB=1]="SRGB",iA[iA.DISPLAY_P3=2]="DISPLAY_P3",iA),dY=((iO=dY||{})[iO.DOCUMENT=0]="DOCUMENT",iO[iO.SRGB=1]="SRGB",iO[iO.DISPLAY_P3_V4=2]="DISPLAY_P3_V4",iO),dq=((iN=dq||{})[iN.NO_CONVERSION=0]="NO_CONVERSION",iN[iN.SRGB_TO_DISPLAY_P3=1]="SRGB_TO_DISPLAY_P3",iN[iN.DISPLAY_P3_TO_SRGB=2]="DISPLAY_P3_TO_SRGB",iN),dj=((iL=dj||{})[iL.INVALID=0]="INVALID",iL[iL.TEST_SETUP=1]="TEST_SETUP",iL[iL.USER=2]="USER",iL[iL.PLUGIN=3]="PLUGIN",iL[iL.SYSTEM=4]="SYSTEM",iL[iL.REST_API=5]="REST_API",iL[iL.ONBOARDING=6]="ONBOARDING",iL[iL.AUTOSAVE=7]="AUTOSAVE",iL[iL.AI=8]="AI",iL),d$=((iR=d$||{})[iR.LOCAL=0]="LOCAL",iR[iR.GOOGLE=1]="GOOGLE",iR[iR.SHARED=2]="SHARED",iR),dZ=((iP=dZ||{})[iP.NON_ANIMATED_ONLY=0]="NON_ANIMATED_ONLY",iP[iP.ALL=1]="ALL",iP),dz=((iM=dz||{})[iM.SUCCESS=0]="SUCCESS",iM[iM.UNSUPPORTED_MEDIA=1]="UNSUPPORTED_MEDIA",iM[iM.OTHER_FAILURE=2]="OTHER_FAILURE",iM),dQ=((ik=dQ||{})[ik.REDUX=0]="REDUX",ik[ik.PLUGIN=1]="PLUGIN",ik[ik.PROTOTYPE_LIB=2]="PROTOTYPE_LIB",ik),dX=((iD=dX||{})[iD.IGNORE=0]="IGNORE",iD[iD.TRACK=1]="TRACK",iD),dJ=((iF=dJ||{})[iF.NONE=0]="NONE",iF[iF.BUILD=1]="BUILD",iF[iF.COMPLETED=2]="COMPLETED",iF),d0=((ix=d0||{})[ix.NONE=0]="NONE",ix[ix.AUTO=1]="AUTO",ix[ix.TOP=2]="TOP",ix[ix.LEFT=3]="LEFT",ix[ix.BOTTOM=4]="BOTTOM",ix[ix.RIGHT=5]="RIGHT",ix[ix.CENTER=6]="CENTER",ix),d1=((iU=d1||{})[iU.FILL=0]="FILL",iU[iU.STROKE=1]="STROKE",iU[iU.WIDTH=2]="WIDTH",iU[iU.HEIGHT=3]="HEIGHT",iU[iU.MIN_WIDTH=4]="MIN_WIDTH",iU[iU.MIN_HEIGHT=5]="MIN_HEIGHT",iU[iU.MAX_WIDTH=6]="MAX_WIDTH",iU[iU.MAX_HEIGHT=7]="MAX_HEIGHT",iU[iU.STROKE_WIDTH=8]="STROKE_WIDTH",iU[iU.CORNER_RADIUS=9]="CORNER_RADIUS",iU[iU.EFFECT=10]="EFFECT",iU[iU.TEXT_STYLE=11]="TEXT_STYLE",iU[iU.TEXT_ALIGN_HORIZONTAL=12]="TEXT_ALIGN_HORIZONTAL",iU[iU.FONT_FAMILY=13]="FONT_FAMILY",iU[iU.FONT_SIZE=14]="FONT_SIZE",iU[iU.FONT_WEIGHT=15]="FONT_WEIGHT",iU[iU.LINE_HEIGHT=16]="LINE_HEIGHT",iU[iU.LETTER_SPACING=17]="LETTER_SPACING",iU[iU.STACK_SPACING=18]="STACK_SPACING",iU[iU.STACK_PADDING=19]="STACK_PADDING",iU[iU.STACK_MODE=20]="STACK_MODE",iU[iU.STACK_ALIGNMENT=21]="STACK_ALIGNMENT",iU[iU.OPACITY=22]="OPACITY",iU[iU.COMPONENT=23]="COMPONENT",iU[iU.FONT_STYLE=24]="FONT_STYLE",iU),d2=((iB=d2||{})[iB.TOP=0]="TOP",iB[iB.BOTTOM=1]="BOTTOM",iB[iB.LEFT=2]="LEFT",iB[iB.RIGHT=3]="RIGHT",iB),d4=((iG=d4||{})[iG.COMPONENT=0]="COMPONENT",iG[iG.STATE_GROUP=1]="STATE_GROUP",iG),d3=((iV=d3||{})[iV.NONE=0]="NONE",iV[iV.CAP_HEIGHT=1]="CAP_HEIGHT",iV),d6=((iH=d6||{})[iH.FILL=0]="FILL",iH[iH.STROKE=1]="STROKE",iH[iH.BACKGROUND__NO_LONGER_USED=2]="BACKGROUND__NO_LONGER_USED",iH[iH.TEXT=3]="TEXT",iH[iH.EFFECT=4]="EFFECT",iH[iH.GRID=5]="GRID",iH[iH.DEPRECATED_STROKE=6]="DEPRECATED_STROKE",iH[iH.NOT_SUPPORTED=7]="NOT_SUPPORTED",iH),d8=((iW=d8||{})[iW.TOGGLE_BOLD=0]="TOGGLE_BOLD",iW[iW.INCREASE_BOLD=1]="INCREASE_BOLD",iW[iW.DECREASE_BOLD=2]="DECREASE_BOLD",iW[iW.TOGGLE_ITALIC=3]="TOGGLE_ITALIC",iW[iW.TOGGLE_UNDERLINE=4]="TOGGLE_UNDERLINE",iW[iW.TOGGLE_STRIKETHROUGH=5]="TOGGLE_STRIKETHROUGH",iW[iW.REMOVE_DECORATION=6]="REMOVE_DECORATION",iW[iW.SET_ORIGINAL_CASE=7]="SET_ORIGINAL_CASE",iW[iW.SET_UPPER_CASE=8]="SET_UPPER_CASE",iW[iW.SET_LOWER_CASE=9]="SET_LOWER_CASE",iW[iW.SET_TITLE_CASE=10]="SET_TITLE_CASE",iW[iW.INCREASE_LETTER_SPACING=11]="INCREASE_LETTER_SPACING",iW[iW.DECREASE_LETTER_SPACING=12]="DECREASE_LETTER_SPACING",iW[iW.INCREASE_LINE_HEIGHT=13]="INCREASE_LINE_HEIGHT",iW[iW.DECREASE_LINE_HEIGHT=14]="DECREASE_LINE_HEIGHT",iW),d5=((iK=d5||{})[iK.SET_BOLD=0]="SET_BOLD",iK[iK.SET_UNBOLD=1]="SET_UNBOLD",iK[iK.INCREASE_BOLD=2]="INCREASE_BOLD",iK[iK.DECREASE_BOLD=3]="DECREASE_BOLD",iK[iK.SET_ITALIC=4]="SET_ITALIC",iK[iK.SET_UNITALIC=5]="SET_UNITALIC",iK[iK.SET_UNDERLINE=6]="SET_UNDERLINE",iK[iK.SET_STRIKETHROUGH=7]="SET_STRIKETHROUGH",iK[iK.REMOVE_DECORATION=8]="REMOVE_DECORATION",iK[iK.SET_ORIGINAL_CASE=9]="SET_ORIGINAL_CASE",iK[iK.SET_UPPER_CASE=10]="SET_UPPER_CASE",iK[iK.SET_LOWER_CASE=11]="SET_LOWER_CASE",iK[iK.SET_TITLE_CASE=12]="SET_TITLE_CASE",iK[iK.INCREASE_LETTER_SPACING=13]="INCREASE_LETTER_SPACING",iK[iK.DECREASE_LETTER_SPACING=14]="DECREASE_LETTER_SPACING",iK[iK.INCREASE_LINE_HEIGHT=15]="INCREASE_LINE_HEIGHT",iK[iK.DECREASE_LINE_HEIGHT=16]="DECREASE_LINE_HEIGHT",iK),d7=((iY=d7||{})[iY.NONE=0]="NONE",iY[iY.CREATED=1]="CREATED",iY[iY.EDITED=2]="EDITED",iY[iY.REMOVED=3]="REMOVED",iY[iY.INDIRECTLY_EDITED=4]="INDIRECTLY_EDITED",iY[iY.AFFECTED=5]="AFFECTED",iY[iY.LIBRARY_UPDATES=6]="LIBRARY_UPDATES",iY),d9=((iq=d9||{})[iq.ALL_SCOPES=0]="ALL_SCOPES",iq[iq.TEXT_CONTENT=1]="TEXT_CONTENT",iq[iq.CORNER_RADIUS=2]="CORNER_RADIUS",iq[iq.WIDTH_HEIGHT=3]="WIDTH_HEIGHT",iq[iq.GAP=4]="GAP",iq[iq.ALL_FILLS=5]="ALL_FILLS",iq[iq.FRAME_FILL=6]="FRAME_FILL",iq[iq.SHAPE_FILL=7]="SHAPE_FILL",iq[iq.TEXT_FILL=8]="TEXT_FILL",iq[iq.STROKE=9]="STROKE",iq[iq.STROKE_FLOAT=10]="STROKE_FLOAT",iq[iq.EFFECT_FLOAT=11]="EFFECT_FLOAT",iq[iq.EFFECT_COLOR=12]="EFFECT_COLOR",iq[iq.OPACITY=13]="OPACITY",iq),ue=((ij=ue||{})[ij.WEB=0]="WEB",ij[ij.ANDROID=1]="ANDROID",ij[ij.iOS=2]="iOS",ij),ut=((i$=ut||{})[i$.NONE=0]="NONE",i$[i$.PRESET=1]="PRESET",i$[i$.CUSTOM=2]="CUSTOM",i$[i$.PRESENTATION=3]="PRESENTATION",i$),ur=((iZ=ur||{})[iZ.ALL=0]="ALL",iZ[iZ.BASE_SCREENS=1]="BASE_SCREENS",iZ[iZ.SCROLL_TO=2]="SCROLL_TO",iZ[iZ.STATES=3]="STATES",iZ),un=((iz=un||{})[iz.NONE=0]="NONE",iz[iz.CCW_90=1]="CCW_90",iz),ui=((iQ=ui||{})[iQ.PLAIN=0]="PLAIN",iQ[iQ.ORDERED_LIST=1]="ORDERED_LIST",iQ[iQ.UNORDERED_LIST=2]="UNORDERED_LIST",iQ[iQ.BLOCKQUOTE=3]="BLOCKQUOTE",iQ[iQ.HEADER=4]="HEADER",iQ),ua=((iX=ua||{})[iX.LTR=0]="LTR",iX[iX.RTL=1]="RTL",iX),uo=((iJ=uo||{})[iJ.CENTER=0]="CENTER",iJ[iJ.INSIDE=1]="INSIDE",iJ[iJ.OUTSIDE=2]="OUTSIDE",iJ),ul=((i0=ul||{})[i0.NODE_CREATED=0]="NODE_CREATED",i0[i0.NODE_DELETED=1]="NODE_DELETED",i0[i0.NODE_MOVED=2]="NODE_MOVED",i0[i0.NODE_RESIZED=3]="NODE_RESIZED",i0[i0.TEXT_SELECTION=4]="TEXT_SELECTION",i0[i0.TOOL=5]="TOOL",i0[i0.TABLE_CELL_TEXT_SELECTION=6]="TABLE_CELL_TEXT_SELECTION",i0),us=((i1=us||{})[i1.NONE=0]="NONE",i1[i1.FIGJAM=1]="FIGJAM",i1[i1.VIEWER=2]="VIEWER",i1),uc=((i2=uc||{})[i2.READ=0]="READ",i2[i2.ELIDE=1]="ELIDE",i2[i2.SKIP=2]="SKIP",i2),ud=((i4=ud||{})[i4.ELBOWED=0]="ELBOWED",i4[i4.STRAIGHT=1]="STRAIGHT",i4),uu=((i3=uu||{})[i3.SWT_CREATED=0]="SWT_CREATED",i3[i3.SWT_DELETED=1]="SWT_DELETED",i3[i3.SWT_EDITED=2]="SWT_EDITED",i3[i3.SWT_RESIZED=3]="SWT_RESIZED",i3[i3.STICKY_DELETED=4]="STICKY_DELETED",i3[i3.STICKY_EDITED=5]="STICKY_EDITED",i3[i3.STICKY_RESIZED=6]="STICKY_RESIZED",i3),up=((i6=up||{})[i6.FONT_SIZE=0]="FONT_SIZE",i6[i6.FONT_WEIGHT=1]="FONT_WEIGHT",i6[i6.FONT_FAMILY=2]="FONT_FAMILY",i6),um=((i8=um||{})[i8.UP=0]="UP",i8[i8.DOWN=1]="DOWN",i8[i8.LEFT=2]="LEFT",i8[i8.RIGHT=3]="RIGHT",i8),u_=((i5=u_||{})[i5.TEXT=0]="TEXT",i5[i5.BORDER=1]="BORDER",i5),uh=((i7=uh||{})[i7.LIGHT=0]="LIGHT",i7[i7.DARK=1]="DARK",i7),ug=((i9=ug||{})[i9.NONE=0]="NONE",i9[i9.DISSOLVE=1]="DISSOLVE",i9[i9.SLIDE_FROM_LEFT=2]="SLIDE_FROM_LEFT",i9[i9.SLIDE_FROM_RIGHT=3]="SLIDE_FROM_RIGHT",i9[i9.SLIDE_FROM_TOP=4]="SLIDE_FROM_TOP",i9[i9.SLIDE_FROM_BOTTOM=5]="SLIDE_FROM_BOTTOM",i9[i9.PUSH_FROM_LEFT=6]="PUSH_FROM_LEFT",i9[i9.PUSH_FROM_RIGHT=7]="PUSH_FROM_RIGHT",i9[i9.PUSH_FROM_TOP=8]="PUSH_FROM_TOP",i9[i9.PUSH_FROM_BOTTOM=9]="PUSH_FROM_BOTTOM",i9[i9.MOVE_FROM_LEFT=10]="MOVE_FROM_LEFT",i9[i9.MOVE_FROM_RIGHT=11]="MOVE_FROM_RIGHT",i9[i9.MOVE_FROM_TOP=12]="MOVE_FROM_TOP",i9[i9.MOVE_FROM_BOTTOM=13]="MOVE_FROM_BOTTOM",i9[i9.SLIDE_OUT_TO_LEFT=14]="SLIDE_OUT_TO_LEFT",i9[i9.SLIDE_OUT_TO_RIGHT=15]="SLIDE_OUT_TO_RIGHT",i9[i9.SLIDE_OUT_TO_TOP=16]="SLIDE_OUT_TO_TOP",i9[i9.SLIDE_OUT_TO_BOTTOM=17]="SLIDE_OUT_TO_BOTTOM",i9[i9.MOVE_OUT_TO_LEFT=18]="MOVE_OUT_TO_LEFT",i9[i9.MOVE_OUT_TO_RIGHT=19]="MOVE_OUT_TO_RIGHT",i9[i9.MOVE_OUT_TO_TOP=20]="MOVE_OUT_TO_TOP",i9[i9.MOVE_OUT_TO_BOTTOM=21]="MOVE_OUT_TO_BOTTOM",i9[i9.SMART_ANIMATE=22]="SMART_ANIMATE",i9),uf=((ae=uf||{})[ae.FullscreenApp=0]="FullscreenApp",ae[ae.PrototypeLib=1]="PrototypeLib",ae[ae.InteractionTest=2]="InteractionTest",ae),uE=((at=uE||{})[at.FROM=0]="FROM",at[at.TO=1]="TO",at),uy=((ar=uy||{})[ar.INVALID=0]="INVALID",ar[ar.PRIMARY_INSTANCE_BACKED_BY_SYMBOL=1]="PRIMARY_INSTANCE_BACKED_BY_SYMBOL",ar[ar.PRIMARY_INSTANCE_WITH_NESTED_SWAP_TO_SYMBOL=2]="PRIMARY_INSTANCE_WITH_NESTED_SWAP_TO_SYMBOL",ar[ar.PRIMARY_INSTANCE_WITH_TOP_LEVEL_PROP_ASSIGNMENT_TO_SYMBOL=3]="PRIMARY_INSTANCE_WITH_TOP_LEVEL_PROP_ASSIGNMENT_TO_SYMBOL",ar[ar.PRIMARY_INSTANCE_WITH_NESTED_PROP_ASSIGNMENT_TO_SYMBOL=4]="PRIMARY_INSTANCE_WITH_NESTED_PROP_ASSIGNMENT_TO_SYMBOL",ar[ar.PRODUCT_COMPONENT_WITH_PROP_DEF_TO_SYMBOL=5]="PRODUCT_COMPONENT_WITH_PROP_DEF_TO_SYMBOL",ar[ar.STATE_WITH_PROP_DEF_TO_SYMBOL=6]="STATE_WITH_PROP_DEF_TO_SYMBOL",ar[ar.SYMBOL_CONTAINING_PRIMARY_INSTANCE=7]="SYMBOL_CONTAINING_PRIMARY_INSTANCE",ar),ub=((an=ub||{})[an.NONE=0]="NONE",an[an.TOO_MANY_VARIABLES_ERROR=1]="TOO_MANY_VARIABLES_ERROR",an[an.TOO_MANY_MODES_ERROR=2]="TOO_MANY_MODES_ERROR",an),uv=((ai=uv||{})[ai.NONE=0]="NONE",ai[ai.LESS_THAN_MIN_WIDTH=1]="LESS_THAN_MIN_WIDTH",ai[ai.LESS_THAN_MIN_HEIGHT=2]="LESS_THAN_MIN_HEIGHT",ai[ai.GREATER_THAN_MAX_WIDTH=3]="GREATER_THAN_MAX_WIDTH",ai[ai.GREATER_THAN_MAX_HEIGHT=4]="GREATER_THAN_MAX_HEIGHT",ai),uI=((aa=uI||{})[aa.BOOLEAN=0]="BOOLEAN",aa[aa.FLOAT=1]="FLOAT",aa[aa.STRING=2]="STRING",aa[aa.COLOR=3]="COLOR",aa[aa.MAP=4]="MAP",aa[aa.SYMBOL_ID=5]="SYMBOL_ID",aa[aa.FONT_STYLE=6]="FONT_STYLE",aa[aa.TEXT_DATA=7]="TEXT_DATA",aa),uw=((ao=uw||{})[ao.BOOLEAN=0]="BOOLEAN",ao[ao.FLOAT=1]="FLOAT",ao[ao.STRING=2]="STRING",ao[ao.ALIAS=3]="ALIAS",ao[ao.COLOR=4]="COLOR",ao[ao.EXPRESSION=5]="EXPRESSION",ao[ao.MAP=6]="MAP",ao[ao.SYMBOL_ID=7]="SYMBOL_ID",ao[ao.FONT_STYLE=8]="FONT_STYLE",ao[ao.TEXT_DATA=9]="TEXT_DATA",ao),uT=((al=uT||{})[al.ADDITION=0]="ADDITION",al[al.SUBTRACTION=1]="SUBTRACTION",al[al.RESOLVE_VARIANT=2]="RESOLVE_VARIANT",al[al.MULTIPLY=3]="MULTIPLY",al[al.DIVIDE=4]="DIVIDE",al[al.EQUALS=5]="EQUALS",al[al.NOT_EQUAL=6]="NOT_EQUAL",al[al.LESS_THAN=7]="LESS_THAN",al[al.LESS_THAN_OR_EQUAL=8]="LESS_THAN_OR_EQUAL",al[al.GREATER_THAN=9]="GREATER_THAN",al[al.GREATER_THAN_OR_EQUAL=10]="GREATER_THAN_OR_EQUAL",al[al.AND=11]="AND",al[al.OR=12]="OR",al[al.NOT=13]="NOT",al[al.STRINGIFY=14]="STRINGIFY",al[al.TERNARY=15]="TERNARY",al[al.VAR_MODE_LOOKUP=16]="VAR_MODE_LOOKUP",al[al.NEGATE=17]="NEGATE",al[al.IS_TRUTHY=18]="IS_TRUTHY",al),uS=((as=uS||{})[as.INTERACTION_TEST=0]="INTERACTION_TEST",as[as.VIEWER_TEST=1]="VIEWER_TEST",as),uC=((ac=uC||{})[ac.ALLOWED=0]="ALLOWED",ac[ac.DISALLOWED_CYCLE=1]="DISALLOWED_CYCLE",ac[ac.DISALLOWED_OTHER=2]="DISALLOWED_OTHER",ac),uA=((ad=uA||{})[ad.MATERIALIZE_SWAPPED_OUT_TREE=0]="MATERIALIZE_SWAPPED_OUT_TREE",ad[ad.SKIP_MATERIALIZATION=1]="SKIP_MATERIALIZATION",ad),uO=((au=uO||{})[au.PENDING_INITIAL_LOAD=0]="PENDING_INITIAL_LOAD",au[au.PENDING_LOAD_AFTER_RECONNECT=1]="PENDING_LOAD_AFTER_RECONNECT",au[au.LOADED=2]="LOADED",au),uN=((ap=uN||{})[ap.MISSING_FONTS_ONLY=0]="MISSING_FONTS_ONLY",ap[ap.MISSING_OR_LOCAL_FONTS=1]="MISSING_OR_LOCAL_FONTS",ap),uL=((am=uL||{})[am.TEXT=0]="TEXT",am[am.KEY_PRESS=1]="KEY_PRESS",am[am.KEY_RELEASE=2]="KEY_RELEASE",am[am.MOUSE_MOVE=3]="MOUSE_MOVE",am[am.MOUSE_ENTER=4]="MOUSE_ENTER",am[am.MOUSE_LEAVE=5]="MOUSE_LEAVE",am[am.MOUSE_PRESS=6]="MOUSE_PRESS",am[am.MOUSE_DRAG=7]="MOUSE_DRAG",am[am.MOUSE_RELEASE=8]="MOUSE_RELEASE",am[am.MOUSE_WHEEL=9]="MOUSE_WHEEL",am[am.MOUSE_DROP=10]="MOUSE_DROP",am[am.MOUSE_ROTATE=11]="MOUSE_ROTATE",am[am.MOUSE_SCALE=12]="MOUSE_SCALE",am[am.MOUSE_SCALE_END=13]="MOUSE_SCALE_END",am[am.FOCUS_GAINED=14]="FOCUS_GAINED",am[am.FOCUS_LOST=15]="FOCUS_LOST",am[am.CLIPBOARD=16]="CLIPBOARD",am[am.MOUSE_MOVE_COALESCED=17]="MOUSE_MOVE_COALESCED",am[am.MOUSE_DRAG_COALESCED=18]="MOUSE_DRAG_COALESCED",am[am.CONTEXT_MENU_OPEN=19]="CONTEXT_MENU_OPEN",am[am.MOUSE_CANCEL=20]="MOUSE_CANCEL",am);function uR(e,t){switch(e){case"Actions":n=t;break;case"AnimationBindings":i=t;break;case"AppStateTsApi":a=t;break;case"AutosaveHelpers":o=t;break;case"BindingsPerfBench":l=t;break;case"NestedCppObject_Internal":s=t,window.NestedCppObject=a_,window.MutableNestedCppObject=ah;break;case"TestCppObject_Internal":c=t,window.TestCppObject=ag,window.MutableTestCppObject=af;break;case"CppBindingsTestHelpers":d=t;break;case"BranchingHelpers":u=t;break;case"BranchingState_Internal":p=t,window.BranchingState=aE,window.MutableBranchingState=ay;break;case"CanvasSearchHelpers":m=t;break;case"CanvasViewState_Internal":_=t,window.CanvasViewState=ab,window.MutableCanvasViewState=av;break;case"ComponentPropsAiCPPBindings":h=t;break;case"CSSExportHelpers":g=t;break;case"CurrentPageState_Internal":f=t,window.CurrentPageState=aI,window.MutableCurrentPageState=aw;break;case"CurrentSceneState_Internal":E=t,window.CurrentSceneState=aT,window.MutableCurrentSceneState=aS;break;case"CustomFocusHelpers":y=t;break;case"DebuggingHelpers":b=t;break;case"DevHandoffState_Internal":v=t,window.DevHandoffState=aC,window.MutableDevHandoffState=aA;break;case"DiffImpl":I=t;break;case"EditorState_Internal":w=t,window.EditorState=aO,window.MutableEditorState=aN;break;case"EmbedUiState_Internal":T=t,window.EmbedUiState=aL,window.MutableEmbedUiState=aR;break;case"EditorPreferences_Internal":S=t,window.EditorPreferences=aP,window.MutableEditorPreferences=aM;break;case"JamboardImporterCppBindings":C=t;break;case"EmojiCppBindings":A=t;break;case"FigjamState_Internal":O=t,window.FigjamState=ak,window.MutableFigjamState=aD;break;case"FirstDraftHelpers":N=t;break;case"FontHelpers":L=t;break;case"FullscreenInteractionTestHelpers":R=t;break;case"FullscreenOptimizationExposureLoggingBinding":P=t;break;case"FullscreenPerfInfo":M=t,window.FullscreenPerfInfo=M;break;case"FullscreenPerfMetrics":k=t;break;case"FullscreenWebSocketTsApi":D=t;break;case"StackBindingsCpp":F=t;break;case"Fullscreen":x=t;break;case"HandoffBindingsCpp":U=t;break;case"HistoryChangesBindings":B=t;break;case"HoverState_Internal":G=t,window.HoverState=aF,window.MutableHoverState=ax;break;case"EditorTypeConfig_Internal":V=t,window.EditorTypeConfig=aU,window.MutableEditorTypeConfig=aB;break;case"Viewport_Internal":H=t,window.Viewport=aG,window.MutableViewport=aV;break;case"MouseBehaviorEvent_Internal":W=t,window.MouseBehaviorEvent=aH,window.MutableMouseBehaviorEvent=aW;break;case"CanvasContext_Internal":K=t,window.CanvasContext=aK,window.MutableCanvasContext=aY;break;case"InteractionCpp":Y=t;break;case"CanvasSnapper_Internal":q=t,window.CanvasSnapper=aq,window.MutableCanvasSnapper=aj;break;case"LibraryKeyHelpers":j=t;break;case"LibraryPubSub":$=t;break;case"LibraryAssets_Internal":Z=t,window.LibraryAssets=a$,window.MutableLibraryAssets=aZ;break;case"MentionsCppBindings":z=t;break;case"MindmapCppBindings":Q=t;break;case"Multiplayer":X=t;break;case"PluginHelpers":J=t;break;case"PropertiesPanelState_Internal":ee=t,window.PropertiesPanelState=az,window.MutablePropertiesPanelState=aQ;break;case"PrototypingEditorState_Internal":et=t,window.PrototypingEditorState=aX,window.MutablePrototypingEditorState=aJ;break;case"PrototypingTsApi":er=t;break;case"ImmutableFrameObserver_Internal":en=t,window.ImmutableFrameObserver=a0,window.MutableImmutableFrameObserver=a1;break;case"SceneGraph_Internal":ei=t,window.SceneGraph=a2,window.MutableSceneGraph=a4;break;case"SceneGraphHelpers":ea=t;break;case"SceneNodeCpp":eo=t;break;case"SelectionPaintHelpers":el=t;break;case"SelectionStylesHelpers":es=t;break;case"StateManagementCPPBindings":ec=t;break;case"SharedStyle":ed=t;break;case"StickyClusteringCppBindings":eu=t;break;case"TestFullscreenMultiplayerDocument":ep=t;break;case"Thumbnail":em=t;break;case"UiState_Internal":e_=t,window.UiState=a3,window.MutableUiState=a6;break;case"UserPreferencesTestHelpers":eh=t;break;case"VariablesBindings":eg=t;break;case"VideoCppBindings":ef=t;break;case"WhiteboardAgendaCppBindings":eE=t;break;case"WhiteboardStarterKitCppBindings":ey=t;break;case"WhiteboardAiTemplatePreviewCppBindings":eb=t;break;case"WhiteboardAiVisualCppBindings":ev=t;break;case"WhiteboardTemplatePreviewCppBindings":eI=t;break;case"WhiteboardThumbnailGeneratorCppBindings":ew=t;break;case"WhiteboardTsApi":eT=t;break;case"WhiteboardVotingCppBindings":eS=t;break;case"HitTestBindings":eC=t;break;case"FlappData_Internal":eA=t,window.FlappData=a8,window.MutableFlappData=a5;break;case"SingleSlideView_Internal":eO=t,window.SingleSlideView=a7,window.MutableSingleSlideView=a9;break;case"SlideThemeStylePreview_Internal":eN=t,window.SlideThemeStylePreview=oe,window.MutableSlideThemeStylePreview=ot;break;case"WhiteboardSectionPresetPickerCppBindings":eL=t;break;case"StylesBindings":eR=t;break;case"CorePerfInfo":eP=t,window.CorePerfInfo=eP;break;case"FeatureFlagsCppApi":eM=t;break;case"WeakHandleHelpers":ek=t;break;case"WebAsyncCallback":eD=t;break;case"PerformanceEventCounters":eF=t;break;case"ColorManagementStateJs":ex=t;break;case"EditScopeBindings":eU=t;break;case"EffectData_Internal":eB=t,window.EffectData=or,window.MutableEffectData=on;break;case"Fonts":eG=t;break;case"ImageCppBindings":eV=t;break;case"BindingsNode_Internal":eH=t,window.BindingsNode=oi,window.MutableBindingsNode=oa;break;case"NodeTsApi":eW=t;break;case"PaintData_Internal":eK=t,window.PaintData=oo,window.MutablePaintData=ol;break;case"PrototypeInteractions_Internal":eY=t,window.PrototypeInteractions=os,window.MutablePrototypeInteractions=oc;break;case"RevisionNumberAccessor":eq=t;break;case"SceneGraphTsApi":ej=t;break;case"TextData_Internal":e$=t,window.TextData=od,window.MutableTextData=ou;break;case"DerivedTextData_Internal":eZ=t,window.DerivedTextData=op,window.MutableDerivedTextData=om;break;case"UniquePath_Internal":ez=t,window.UniquePath=o_,window.MutableUniquePath=oh;break;case"UniquePathHelpers":eQ=t;break;case"CompiledVectorData_Internal":eX=t,window.CompiledVectorData=og,window.MutableCompiledVectorData=of;break;case"AccessibilityHelpers":eJ=t;break;case"CanvasSelection_Internal":e0=t,window.CanvasSelection=oE,window.MutableCanvasSelection=oy;break;case"SlideDeck_Internal":e1=t,window.SlideDeck=ob,window.MutableSlideDeck=ov;break;case"SlideThemeLibBindings_Internal":e2=t,window.SlideThemeLibBindings=oI,window.MutableSlideThemeLibBindings=ow;break;case"SlideAnimationBindings_Internal":e4=t,window.SlideAnimationBindings=oT,window.MutableSlideAnimationBindings=oS;break;case"SitesPreviewObserver_Internal":e3=t,window.SitesPreviewObserver=oC,window.MutableSitesPreviewObserver=oA;break;case"AnnotationObserver_Internal":e6=t,window.AnnotationObserver=oO,window.MutableAnnotationObserver=oN;break;case"NodeTsApiGenerated":e8=t;break;case"Bindings":e5=t;break;case"DocumentStateTsApi":e7=t;break;case"FigmaScopeBindings":e9=t;break;case"VariablesMirrorManager":te=t;break;case"SharedDebuggingHelpers":tt=t;break;case"InteractionTestHelpers":tr=t;break;case"Prototype":tn=t,window.Prototype=tn;break;case"ObservableValue_Map_GUID_Int_Internal":ti=t,window.ObservableValue_Map_GUID_Int=oL,window.MutableObservableValue_Map_GUID_Int=oR;break;case"WritableObservableValue_SlidesToolMode__Internal":ta=t,window.WritableObservableValue_SlidesToolMode_=oP,window.MutableWritableObservableValue_SlidesToolMode_=oM;break;case"ObservableValue_TestCounter__Internal":to=t,window.ObservableValue_TestCounter_=ok,window.MutableObservableValue_TestCounter_=oD;break;case"ObservableValue_Array_TestCounter__Internal":tl=t,window.ObservableValue_Array_TestCounter_=oF,window.MutableObservableValue_Array_TestCounter_=ox;break;case"ObservableValue_Array_Bool_Internal":ts=t,window.ObservableValue_Array_Bool=oU,window.MutableObservableValue_Array_Bool=oB;break;case"ObservableValue_Bool_Internal":tc=t,window.ObservableValue_Bool=oG,window.MutableObservableValue_Bool=oV;break;case"ObservableValue_Float_Internal":td=t,window.ObservableValue_Float=oH,window.MutableObservableValue_Float=oW;break;case"WritableObservableValue_Bool_Internal":tu=t,window.WritableObservableValue_Bool=oK,window.MutableWritableObservableValue_Bool=oY;break;case"WritableObservableValue_Double_Internal":tp=t,window.WritableObservableValue_Double=oq,window.MutableWritableObservableValue_Double=oj;break;case"WritableObservableValue_Int_Internal":tm=t,window.WritableObservableValue_Int=o$,window.MutableWritableObservableValue_Int=oZ;break;case"ObservableValue_BoundingRect__Internal":t_=t,window.ObservableValue_BoundingRect_=oz,window.MutableObservableValue_BoundingRect_=oQ;break;case"WritableObservableValue_Optional_InlineMenuTarget__Internal":th=t,window.WritableObservableValue_Optional_InlineMenuTarget_=oX,window.MutableWritableObservableValue_Optional_InlineMenuTarget_=oJ;break;case"ObservableValue_Optional_FocusedStackRegion__Internal":tg=t,window.ObservableValue_Optional_FocusedStackRegion_=o0,window.MutableObservableValue_Optional_FocusedStackRegion_=o1;break;case"WritableObservableValue_AnchorPoint__Internal":tf=t,window.WritableObservableValue_AnchorPoint_=o2,window.MutableWritableObservableValue_AnchorPoint_=o4;break;case"WritableObservableValue_Array_GUID_Internal":tE=t,window.WritableObservableValue_Array_GUID=o3,window.MutableWritableObservableValue_Array_GUID=o6;break;case"WritableObservableValue_Optional_GUID_Internal":ty=t,window.WritableObservableValue_Optional_GUID=o8,window.MutableWritableObservableValue_Optional_GUID=o5;break;case"WritableObservableValue_Optional_BoundingRect__Internal":tb=t,window.WritableObservableValue_Optional_BoundingRect_=o7,window.MutableWritableObservableValue_Optional_BoundingRect_=o9;break;case"ObservableValue_String_Internal":tv=t,window.ObservableValue_String=le,window.MutableObservableValue_String=lt;break;case"ObservableValue_Map_String_Array_NodeStatus__Internal":tI=t,window.ObservableValue_Map_String_Array_NodeStatus_=lr,window.MutableObservableValue_Map_String_Array_NodeStatus_=ln;break;case"ObservableValue_GUID_Internal":tw=t,window.ObservableValue_GUID=li,window.MutableObservableValue_GUID=la;break;case"ObservableValue_Array_GUID_Internal":tT=t,window.ObservableValue_Array_GUID=lo,window.MutableObservableValue_Array_GUID=ll;break;case"ObservableValue_Json_Internal":tS=t,window.ObservableValue_Json=ls,window.MutableObservableValue_Json=lc;break;case"ObservableValue_PropertyState__Internal":tC=t,window.ObservableValue_PropertyState_=ld,window.MutableObservableValue_PropertyState_=lu;break;case"WritableObservableValue_GUID_Internal":tA=t,window.WritableObservableValue_GUID=lp,window.MutableWritableObservableValue_GUID=lm;break;case"WritableObservableValue_KeyboardLayout__Internal":tO=t,window.WritableObservableValue_KeyboardLayout_=l_,window.MutableWritableObservableValue_KeyboardLayout_=lh;break;case"ObservableValue_Array_DevHandoffOverviewNode__Internal":tN=t,window.ObservableValue_Array_DevHandoffOverviewNode_=lg,window.MutableObservableValue_Array_DevHandoffOverviewNode_=lf;break;case"ObservableValue_CommentAnchorData__Internal":tL=t,window.ObservableValue_CommentAnchorData_=lE,window.MutableObservableValue_CommentAnchorData_=ly;break;case"WritableObservableValue_ActiveEmbedData__Internal":tR=t,window.WritableObservableValue_ActiveEmbedData_=lb,window.MutableWritableObservableValue_ActiveEmbedData_=lv;break;case"WritableObservableValue_PresetType__Internal":tP=t,window.WritableObservableValue_PresetType_=lI,window.MutableWritableObservableValue_PresetType_=lw;break;case"WritableObservableValue_ColorFormat__Internal":tM=t,window.WritableObservableValue_ColorFormat_=lT,window.MutableWritableObservableValue_ColorFormat_=lS;break;case"WritableObservableValue_Float_Internal":tk=t,window.WritableObservableValue_Float=lC,window.MutableWritableObservableValue_Float=lA;break;case"WritableObservableValue_HandoffOutputFormat__Internal":tD=t,window.WritableObservableValue_HandoffOutputFormat_=lO,window.MutableWritableObservableValue_HandoffOutputFormat_=lN;break;case"WritableObservableValue_HandoffPlatformTarget__Internal":tF=t,window.WritableObservableValue_HandoffPlatformTarget_=lL,window.MutableWritableObservableValue_HandoffPlatformTarget_=lR;break;case"WritableObservableValue_ExportSelectionSettings__Internal":tx=t,window.WritableObservableValue_ExportSelectionSettings_=lP,window.MutableWritableObservableValue_ExportSelectionSettings_=lM;break;case"ObservableValue_Array_PublishableSymbolForWeb__Internal":tU=t,window.ObservableValue_Array_PublishableSymbolForWeb_=lk,window.MutableObservableValue_Array_PublishableSymbolForWeb_=lD;break;case"ObservableValue_Array_SubscribedSymbolForWeb__Internal":tB=t,window.ObservableValue_Array_SubscribedSymbolForWeb_=lF,window.MutableObservableValue_Array_SubscribedSymbolForWeb_=lx;break;case"ObservableValue_Array_PublishableStateGroupForWeb__Internal":tG=t,window.ObservableValue_Array_PublishableStateGroupForWeb_=lU,window.MutableObservableValue_Array_PublishableStateGroupForWeb_=lB;break;case"ObservableValue_Array_SubscribedStateGroupForWeb__Internal":tV=t,window.ObservableValue_Array_SubscribedStateGroupForWeb_=lG,window.MutableObservableValue_Array_SubscribedStateGroupForWeb_=lV;break;case"ObservableValue_Array_PublishableStyleForWeb__Internal":tH=t,window.ObservableValue_Array_PublishableStyleForWeb_=lH,window.MutableObservableValue_Array_PublishableStyleForWeb_=lW;break;case"ObservableValue_Array_SubscribedStyleForWeb__Internal":tW=t,window.ObservableValue_Array_SubscribedStyleForWeb_=lK,window.MutableObservableValue_Array_SubscribedStyleForWeb_=lY;break;case"ObservableValue_Array_PublishableModuleForWeb__Internal":tK=t,window.ObservableValue_Array_PublishableModuleForWeb_=lq,window.MutableObservableValue_Array_PublishableModuleForWeb_=lj;break;case"ObservableValue_Array_IDLSubscribedVariableSetInfo__Internal":tY=t,window.ObservableValue_Array_IDLSubscribedVariableSetInfo_=l$,window.MutableObservableValue_Array_IDLSubscribedVariableSetInfo_=lZ;break;case"ObservableValue_Array_IDLSubscribedVariableInfo__Internal":tq=t,window.ObservableValue_Array_IDLSubscribedVariableInfo_=lz,window.MutableObservableValue_Array_IDLSubscribedVariableInfo_=lQ;break;case"ObservableValue_Array_IDLLocalVariableSetInfo__Internal":tj=t,window.ObservableValue_Array_IDLLocalVariableSetInfo_=lX,window.MutableObservableValue_Array_IDLLocalVariableSetInfo_=lJ;break;case"ObservableValue_Array_IDLLocalVariableInfo__Internal":t$=t,window.ObservableValue_Array_IDLLocalVariableInfo_=l0,window.MutableObservableValue_Array_IDLLocalVariableInfo_=l1;break;case"WritableObservableValue_PropertiesPanelTab__Internal":tZ=t,window.WritableObservableValue_PropertiesPanelTab_=l2,window.MutableWritableObservableValue_PropertiesPanelTab_=l4;break;case"ObservableValue_Int_Internal":tz=t,window.ObservableValue_Int=l3,window.MutableObservableValue_Int=l6;break;case"ObservableValue_StrokePanelMode__Internal":tQ=t,window.ObservableValue_StrokePanelMode_=l8,window.MutableObservableValue_StrokePanelMode_=l5;break;case"ObservableValue_PrototypeDevice__Internal":tX=t,window.ObservableValue_PrototypeDevice_=l7,window.MutableObservableValue_PrototypeDevice_=l9;break;case"WritableObservableValue_PrototypeViewMode__Internal":tJ=t,window.WritableObservableValue_PrototypeViewMode_=se,window.MutableWritableObservableValue_PrototypeViewMode_=st;break;case"WritableObservableValue_HoveredComponentPropDef__Internal":t0=t,window.WritableObservableValue_HoveredComponentPropDef_=sr,window.MutableWritableObservableValue_HoveredComponentPropDef_=sn;break;case"ObservableValue_FocusModeState__Internal":t1=t,window.ObservableValue_FocusModeState_=si,window.MutableObservableValue_FocusModeState_=sa;break;case"ObservableValue_DocumentColorProfile__Internal":t2=t,window.ObservableValue_DocumentColorProfile_=so,window.MutableObservableValue_DocumentColorProfile_=sl;break;case"ObservableValue_Array_Array_GUID_Internal":t4=t,window.ObservableValue_Array_Array_GUID=ss,window.MutableObservableValue_Array_Array_GUID=sc;break;case"WritableObservableValue_Map_String_Bool_Internal":t3=t,window.WritableObservableValue_Map_String_Bool=sd,window.MutableWritableObservableValue_Map_String_Bool=su}}function uP(e){n=e.Actions,i=e.AnimationBindings,a=e.AppStateTsApi,o=e.AutosaveHelpers,l=e.BindingsPerfBench,s=e.NestedCppObject_Internal,window.NestedCppObject=a_,window.MutableNestedCppObject=ah,c=e.TestCppObject_Internal,window.TestCppObject=ag,window.MutableTestCppObject=af,d=e.CppBindingsTestHelpers,u=e.BranchingHelpers,p=e.BranchingState_Internal,window.BranchingState=aE,window.MutableBranchingState=ay,m=e.CanvasSearchHelpers,_=e.CanvasViewState_Internal,window.CanvasViewState=ab,window.MutableCanvasViewState=av,h=e.ComponentPropsAiCPPBindings,g=e.CSSExportHelpers,f=e.CurrentPageState_Internal,window.CurrentPageState=aI,window.MutableCurrentPageState=aw,E=e.CurrentSceneState_Internal,window.CurrentSceneState=aT,window.MutableCurrentSceneState=aS,y=e.CustomFocusHelpers,b=e.DebuggingHelpers,v=e.DevHandoffState_Internal,window.DevHandoffState=aC,window.MutableDevHandoffState=aA,I=e.DiffImpl,w=e.EditorState_Internal,window.EditorState=aO,window.MutableEditorState=aN,T=e.EmbedUiState_Internal,window.EmbedUiState=aL,window.MutableEmbedUiState=aR,S=e.EditorPreferences_Internal,window.EditorPreferences=aP,window.MutableEditorPreferences=aM,C=e.JamboardImporterCppBindings,A=e.EmojiCppBindings,O=e.FigjamState_Internal,window.FigjamState=ak,window.MutableFigjamState=aD,N=e.FirstDraftHelpers,L=e.FontHelpers,R=e.FullscreenInteractionTestHelpers,P=e.FullscreenOptimizationExposureLoggingBinding,M=e.FullscreenPerfInfo,window.FullscreenPerfInfo=M,k=e.FullscreenPerfMetrics,D=e.FullscreenWebSocketTsApi,F=e.StackBindingsCpp,x=e.Fullscreen,U=e.HandoffBindingsCpp,B=e.HistoryChangesBindings,G=e.HoverState_Internal,window.HoverState=aF,window.MutableHoverState=ax,V=e.EditorTypeConfig_Internal,window.EditorTypeConfig=aU,window.MutableEditorTypeConfig=aB,H=e.Viewport_Internal,window.Viewport=aG,window.MutableViewport=aV,W=e.MouseBehaviorEvent_Internal,window.MouseBehaviorEvent=aH,window.MutableMouseBehaviorEvent=aW,K=e.CanvasContext_Internal,window.CanvasContext=aK,window.MutableCanvasContext=aY,Y=e.InteractionCpp,q=e.CanvasSnapper_Internal,window.CanvasSnapper=aq,window.MutableCanvasSnapper=aj,j=e.LibraryKeyHelpers,$=e.LibraryPubSub,Z=e.LibraryAssets_Internal,window.LibraryAssets=a$,window.MutableLibraryAssets=aZ,z=e.MentionsCppBindings,Q=e.MindmapCppBindings,X=e.Multiplayer,J=e.PluginHelpers,ee=e.PropertiesPanelState_Internal,window.PropertiesPanelState=az,window.MutablePropertiesPanelState=aQ,et=e.PrototypingEditorState_Internal,window.PrototypingEditorState=aX,window.MutablePrototypingEditorState=aJ,er=e.PrototypingTsApi,en=e.ImmutableFrameObserver_Internal,window.ImmutableFrameObserver=a0,window.MutableImmutableFrameObserver=a1,ei=e.SceneGraph_Internal,window.SceneGraph=a2,window.MutableSceneGraph=a4,ea=e.SceneGraphHelpers,eo=e.SceneNodeCpp,el=e.SelectionPaintHelpers,es=e.SelectionStylesHelpers,ec=e.StateManagementCPPBindings,ed=e.SharedStyle,eu=e.StickyClusteringCppBindings,ep=e.TestFullscreenMultiplayerDocument,em=e.Thumbnail,e_=e.UiState_Internal,window.UiState=a3,window.MutableUiState=a6,eh=e.UserPreferencesTestHelpers,eg=e.VariablesBindings,ef=e.VideoCppBindings,eE=e.WhiteboardAgendaCppBindings,ey=e.WhiteboardStarterKitCppBindings,eb=e.WhiteboardAiTemplatePreviewCppBindings,ev=e.WhiteboardAiVisualCppBindings,eI=e.WhiteboardTemplatePreviewCppBindings,ew=e.WhiteboardThumbnailGeneratorCppBindings,eT=e.WhiteboardTsApi,eS=e.WhiteboardVotingCppBindings,eC=e.HitTestBindings,eA=e.FlappData_Internal,window.FlappData=a8,window.MutableFlappData=a5,eO=e.SingleSlideView_Internal,window.SingleSlideView=a7,window.MutableSingleSlideView=a9,eN=e.SlideThemeStylePreview_Internal,window.SlideThemeStylePreview=oe,window.MutableSlideThemeStylePreview=ot,eL=e.WhiteboardSectionPresetPickerCppBindings,eR=e.StylesBindings,eP=e.CorePerfInfo,window.CorePerfInfo=eP,eM=e.FeatureFlagsCppApi,ek=e.WeakHandleHelpers,eD=e.WebAsyncCallback,eF=e.PerformanceEventCounters,ex=e.ColorManagementStateJs,eU=e.EditScopeBindings,eB=e.EffectData_Internal,window.EffectData=or,window.MutableEffectData=on,eG=e.Fonts,eV=e.ImageCppBindings,eH=e.BindingsNode_Internal,window.BindingsNode=oi,window.MutableBindingsNode=oa,eW=e.NodeTsApi,eK=e.PaintData_Internal,window.PaintData=oo,window.MutablePaintData=ol,eY=e.PrototypeInteractions_Internal,window.PrototypeInteractions=os,window.MutablePrototypeInteractions=oc,eq=e.RevisionNumberAccessor,ej=e.SceneGraphTsApi,e$=e.TextData_Internal,window.TextData=od,window.MutableTextData=ou,eZ=e.DerivedTextData_Internal,window.DerivedTextData=op,window.MutableDerivedTextData=om,ez=e.UniquePath_Internal,window.UniquePath=o_,window.MutableUniquePath=oh,eQ=e.UniquePathHelpers,eX=e.CompiledVectorData_Internal,window.CompiledVectorData=og,window.MutableCompiledVectorData=of,eJ=e.AccessibilityHelpers,e0=e.CanvasSelection_Internal,window.CanvasSelection=oE,window.MutableCanvasSelection=oy,e1=e.SlideDeck_Internal,window.SlideDeck=ob,window.MutableSlideDeck=ov,e2=e.SlideThemeLibBindings_Internal,window.SlideThemeLibBindings=oI,window.MutableSlideThemeLibBindings=ow,e4=e.SlideAnimationBindings_Internal,window.SlideAnimationBindings=oT,window.MutableSlideAnimationBindings=oS,e3=e.SitesPreviewObserver_Internal,window.SitesPreviewObserver=oC,window.MutableSitesPreviewObserver=oA,e6=e.AnnotationObserver_Internal,window.AnnotationObserver=oO,window.MutableAnnotationObserver=oN,e8=e.NodeTsApiGenerated,e5=e.Bindings,e7=e.DocumentStateTsApi,e9=e.FigmaScopeBindings,te=e.VariablesMirrorManager,tt=e.SharedDebuggingHelpers,tr=e.InteractionTestHelpers,tn=e.Prototype,window.Prototype=tn,ti=e.ObservableValue_Map_GUID_Int_Internal,window.ObservableValue_Map_GUID_Int=oL,window.MutableObservableValue_Map_GUID_Int=oR,ta=e.WritableObservableValue_SlidesToolMode__Internal,window.WritableObservableValue_SlidesToolMode_=oP,window.MutableWritableObservableValue_SlidesToolMode_=oM,to=e.ObservableValue_TestCounter__Internal,window.ObservableValue_TestCounter_=ok,window.MutableObservableValue_TestCounter_=oD,tl=e.ObservableValue_Array_TestCounter__Internal,window.ObservableValue_Array_TestCounter_=oF,window.MutableObservableValue_Array_TestCounter_=ox,ts=e.ObservableValue_Array_Bool_Internal,window.ObservableValue_Array_Bool=oU,window.MutableObservableValue_Array_Bool=oB,tc=e.ObservableValue_Bool_Internal,window.ObservableValue_Bool=oG,window.MutableObservableValue_Bool=oV,td=e.ObservableValue_Float_Internal,window.ObservableValue_Float=oH,window.MutableObservableValue_Float=oW,tu=e.WritableObservableValue_Bool_Internal,window.WritableObservableValue_Bool=oK,window.MutableWritableObservableValue_Bool=oY,tp=e.WritableObservableValue_Double_Internal,window.WritableObservableValue_Double=oq,window.MutableWritableObservableValue_Double=oj,tm=e.WritableObservableValue_Int_Internal,window.WritableObservableValue_Int=o$,window.MutableWritableObservableValue_Int=oZ,t_=e.ObservableValue_BoundingRect__Internal,window.ObservableValue_BoundingRect_=oz,window.MutableObservableValue_BoundingRect_=oQ,th=e.WritableObservableValue_Optional_InlineMenuTarget__Internal,window.WritableObservableValue_Optional_InlineMenuTarget_=oX,window.MutableWritableObservableValue_Optional_InlineMenuTarget_=oJ,tg=e.ObservableValue_Optional_FocusedStackRegion__Internal,window.ObservableValue_Optional_FocusedStackRegion_=o0,window.MutableObservableValue_Optional_FocusedStackRegion_=o1,tf=e.WritableObservableValue_AnchorPoint__Internal,window.WritableObservableValue_AnchorPoint_=o2,window.MutableWritableObservableValue_AnchorPoint_=o4,tE=e.WritableObservableValue_Array_GUID_Internal,window.WritableObservableValue_Array_GUID=o3,window.MutableWritableObservableValue_Array_GUID=o6,ty=e.WritableObservableValue_Optional_GUID_Internal,window.WritableObservableValue_Optional_GUID=o8,window.MutableWritableObservableValue_Optional_GUID=o5,tb=e.WritableObservableValue_Optional_BoundingRect__Internal,window.WritableObservableValue_Optional_BoundingRect_=o7,window.MutableWritableObservableValue_Optional_BoundingRect_=o9,tv=e.ObservableValue_String_Internal,window.ObservableValue_String=le,window.MutableObservableValue_String=lt,tI=e.ObservableValue_Map_String_Array_NodeStatus__Internal,window.ObservableValue_Map_String_Array_NodeStatus_=lr,window.MutableObservableValue_Map_String_Array_NodeStatus_=ln,tw=e.ObservableValue_GUID_Internal,window.ObservableValue_GUID=li,window.MutableObservableValue_GUID=la,tT=e.ObservableValue_Array_GUID_Internal,window.ObservableValue_Array_GUID=lo,window.MutableObservableValue_Array_GUID=ll,tS=e.ObservableValue_Json_Internal,window.ObservableValue_Json=ls,window.MutableObservableValue_Json=lc,tC=e.ObservableValue_PropertyState__Internal,window.ObservableValue_PropertyState_=ld,window.MutableObservableValue_PropertyState_=lu,tA=e.WritableObservableValue_GUID_Internal,window.WritableObservableValue_GUID=lp,window.MutableWritableObservableValue_GUID=lm,tO=e.WritableObservableValue_KeyboardLayout__Internal,window.WritableObservableValue_KeyboardLayout_=l_,window.MutableWritableObservableValue_KeyboardLayout_=lh,tN=e.ObservableValue_Array_DevHandoffOverviewNode__Internal,window.ObservableValue_Array_DevHandoffOverviewNode_=lg,window.MutableObservableValue_Array_DevHandoffOverviewNode_=lf,tL=e.ObservableValue_CommentAnchorData__Internal,window.ObservableValue_CommentAnchorData_=lE,window.MutableObservableValue_CommentAnchorData_=ly,tR=e.WritableObservableValue_ActiveEmbedData__Internal,window.WritableObservableValue_ActiveEmbedData_=lb,window.MutableWritableObservableValue_ActiveEmbedData_=lv,tP=e.WritableObservableValue_PresetType__Internal,window.WritableObservableValue_PresetType_=lI,window.MutableWritableObservableValue_PresetType_=lw,tM=e.WritableObservableValue_ColorFormat__Internal,window.WritableObservableValue_ColorFormat_=lT,window.MutableWritableObservableValue_ColorFormat_=lS,tk=e.WritableObservableValue_Float_Internal,window.WritableObservableValue_Float=lC,window.MutableWritableObservableValue_Float=lA,tD=e.WritableObservableValue_HandoffOutputFormat__Internal,window.WritableObservableValue_HandoffOutputFormat_=lO,window.MutableWritableObservableValue_HandoffOutputFormat_=lN,tF=e.WritableObservableValue_HandoffPlatformTarget__Internal,window.WritableObservableValue_HandoffPlatformTarget_=lL,window.MutableWritableObservableValue_HandoffPlatformTarget_=lR,tx=e.WritableObservableValue_ExportSelectionSettings__Internal,window.WritableObservableValue_ExportSelectionSettings_=lP,window.MutableWritableObservableValue_ExportSelectionSettings_=lM,tU=e.ObservableValue_Array_PublishableSymbolForWeb__Internal,window.ObservableValue_Array_PublishableSymbolForWeb_=lk,window.MutableObservableValue_Array_PublishableSymbolForWeb_=lD,tB=e.ObservableValue_Array_SubscribedSymbolForWeb__Internal,window.ObservableValue_Array_SubscribedSymbolForWeb_=lF,window.MutableObservableValue_Array_SubscribedSymbolForWeb_=lx,tG=e.ObservableValue_Array_PublishableStateGroupForWeb__Internal,window.ObservableValue_Array_PublishableStateGroupForWeb_=lU,window.MutableObservableValue_Array_PublishableStateGroupForWeb_=lB,tV=e.ObservableValue_Array_SubscribedStateGroupForWeb__Internal,window.ObservableValue_Array_SubscribedStateGroupForWeb_=lG,window.MutableObservableValue_Array_SubscribedStateGroupForWeb_=lV,tH=e.ObservableValue_Array_PublishableStyleForWeb__Internal,window.ObservableValue_Array_PublishableStyleForWeb_=lH,window.MutableObservableValue_Array_PublishableStyleForWeb_=lW,tW=e.ObservableValue_Array_SubscribedStyleForWeb__Internal,window.ObservableValue_Array_SubscribedStyleForWeb_=lK,window.MutableObservableValue_Array_SubscribedStyleForWeb_=lY,tK=e.ObservableValue_Array_PublishableModuleForWeb__Internal,window.ObservableValue_Array_PublishableModuleForWeb_=lq,window.MutableObservableValue_Array_PublishableModuleForWeb_=lj,tY=e.ObservableValue_Array_IDLSubscribedVariableSetInfo__Internal,window.ObservableValue_Array_IDLSubscribedVariableSetInfo_=l$,window.MutableObservableValue_Array_IDLSubscribedVariableSetInfo_=lZ,tq=e.ObservableValue_Array_IDLSubscribedVariableInfo__Internal,window.ObservableValue_Array_IDLSubscribedVariableInfo_=lz,window.MutableObservableValue_Array_IDLSubscribedVariableInfo_=lQ,tj=e.ObservableValue_Array_IDLLocalVariableSetInfo__Internal,window.ObservableValue_Array_IDLLocalVariableSetInfo_=lX,window.MutableObservableValue_Array_IDLLocalVariableSetInfo_=lJ,t$=e.ObservableValue_Array_IDLLocalVariableInfo__Internal,window.ObservableValue_Array_IDLLocalVariableInfo_=l0,window.MutableObservableValue_Array_IDLLocalVariableInfo_=l1,tZ=e.WritableObservableValue_PropertiesPanelTab__Internal,window.WritableObservableValue_PropertiesPanelTab_=l2,window.MutableWritableObservableValue_PropertiesPanelTab_=l4,tz=e.ObservableValue_Int_Internal,window.ObservableValue_Int=l3,window.MutableObservableValue_Int=l6,tQ=e.ObservableValue_StrokePanelMode__Internal,window.ObservableValue_StrokePanelMode_=l8,window.MutableObservableValue_StrokePanelMode_=l5,tX=e.ObservableValue_PrototypeDevice__Internal,window.ObservableValue_PrototypeDevice_=l7,window.MutableObservableValue_PrototypeDevice_=l9,tJ=e.WritableObservableValue_PrototypeViewMode__Internal,window.WritableObservableValue_PrototypeViewMode_=se,window.MutableWritableObservableValue_PrototypeViewMode_=st,t0=e.WritableObservableValue_HoveredComponentPropDef__Internal,window.WritableObservableValue_HoveredComponentPropDef_=sr,window.MutableWritableObservableValue_HoveredComponentPropDef_=sn,t1=e.ObservableValue_FocusModeState__Internal,window.ObservableValue_FocusModeState_=si,window.MutableObservableValue_FocusModeState_=sa,t2=e.ObservableValue_DocumentColorProfile__Internal,window.ObservableValue_DocumentColorProfile_=so,window.MutableObservableValue_DocumentColorProfile_=sl,t4=e.ObservableValue_Array_Array_GUID_Internal,window.ObservableValue_Array_Array_GUID=ss,window.MutableObservableValue_Array_Array_GUID=sc,t3=e.WritableObservableValue_Map_String_Bool_Internal,window.WritableObservableValue_Map_String_Bool=sd,window.MutableWritableObservableValue_Map_String_Bool=su}function uM(){return{actions:n,animationBindings:i,appStateTsApi:a,autosaveHelpers:o,bindingsPerfBench:l,cppBindingsTestHelpers:d,branchingHelpers:u,canvasSearchHelpers:m,componentPropsAiCPPBindings:h,cSSExportHelpers:g,customFocusHelpers:y,debuggingHelpers:b,diffImpl:I,jamboardImporterCppBindings:C,emojiCppBindings:A,firstDraftHelpers:N,fontHelpers:L,fullscreenInteractionTestHelpers:R,fullscreenOptimizationExposureLoggingBinding:P,fullscreenPerfInfo:M,fullscreenPerfMetrics:k,fullscreenWebSocketTsApi:D,stackBindingsCpp:F,fullscreen:x,handoffBindingsCpp:U,historyChangesBindings:B,interactionCpp:Y,libraryKeyHelpers:j,libraryPubSub:$,mentionsCppBindings:z,mindmapCppBindings:Q,multiplayer:X,pluginHelpers:J,prototypingTsApi:er,sceneGraphHelpers:ea,sceneNodeCpp:eo,selectionPaintHelpers:el,selectionStylesHelpers:es,stateManagementCPPBindings:ec,sharedStyle:ed,stickyClusteringCppBindings:eu,testFullscreenMultiplayerDocument:ep,thumbnail:em,userPreferencesTestHelpers:eh,variablesBindings:eg,videoCppBindings:ef,whiteboardAgendaCppBindings:eE,whiteboardStarterKitCppBindings:ey,whiteboardAiTemplatePreviewCppBindings:eb,whiteboardAiVisualCppBindings:ev,whiteboardTemplatePreviewCppBindings:eI,whiteboardThumbnailGeneratorCppBindings:ew,whiteboardTsApi:eT,whiteboardVotingCppBindings:eS,hitTestBindings:eC,whiteboardSectionPresetPickerCppBindings:eL,stylesBindings:eR,corePerfInfo:eP,featureFlagsCppApi:eM,weakHandleHelpers:ek,webAsyncCallback:eD,performanceEventCounters:eF,colorManagementStateJs:ex,editScopeBindings:eU,fonts:eG,imageCppBindings:eV,nodeTsApi:eW,revisionNumberAccessor:eq,sceneGraphTsApi:ej,uniquePathHelpers:eQ,accessibilityHelpers:eJ,nodeTsApiGenerated:e8,bindings:e5,documentStateTsApi:e7,figmaScopeBindings:e9,variablesMirrorManager:te,sharedDebuggingHelpers:tt,interactionTestHelpers:tr,prototype:tn,nestedCppObject_Internal:s,testCppObject_Internal:c,branchingState_Internal:p,canvasViewState_Internal:_,currentPageState_Internal:f,currentSceneState_Internal:E,devHandoffState_Internal:v,editorState_Internal:w,embedUiState_Internal:T,editorPreferences_Internal:S,figjamState_Internal:O,hoverState_Internal:G,editorTypeConfig_Internal:V,viewport_Internal:H,mouseBehaviorEvent_Internal:W,canvasContext_Internal:K,canvasSnapper_Internal:q,libraryAssets_Internal:Z,propertiesPanelState_Internal:ee,prototypingEditorState_Internal:et,immutableFrameObserver_Internal:en,sceneGraph_Internal:ei,uiState_Internal:e_,flappData_Internal:eA,singleSlideView_Internal:eO,slideThemeStylePreview_Internal:eN,effectData_Internal:eB,bindingsNode_Internal:eH,paintData_Internal:eK,prototypeInteractions_Internal:eY,textData_Internal:e$,derivedTextData_Internal:eZ,uniquePath_Internal:ez,compiledVectorData_Internal:eX,canvasSelection_Internal:e0,slideDeck_Internal:e1,slideThemeLibBindings_Internal:e2,slideAnimationBindings_Internal:e4,sitesPreviewObserver_Internal:e3,annotationObserver_Internal:e6,observableValue_Map_GUID_Int_Internal:ti,writableObservableValue_SlidesToolMode__Internal:ta,observableValue_TestCounter__Internal:to,observableValue_Array_TestCounter__Internal:tl,observableValue_Array_Bool_Internal:ts,observableValue_Bool_Internal:tc,observableValue_Float_Internal:td,writableObservableValue_Bool_Internal:tu,writableObservableValue_Double_Internal:tp,writableObservableValue_Int_Internal:tm,observableValue_BoundingRect__Internal:t_,writableObservableValue_Optional_InlineMenuTarget__Internal:th,observableValue_Optional_FocusedStackRegion__Internal:tg,writableObservableValue_AnchorPoint__Internal:tf,writableObservableValue_Array_GUID_Internal:tE,writableObservableValue_Optional_GUID_Internal:ty,writableObservableValue_Optional_BoundingRect__Internal:tb,observableValue_String_Internal:tv,observableValue_Map_String_Array_NodeStatus__Internal:tI,observableValue_GUID_Internal:tw,observableValue_Array_GUID_Internal:tT,observableValue_Json_Internal:tS,observableValue_PropertyState__Internal:tC,writableObservableValue_GUID_Internal:tA,writableObservableValue_KeyboardLayout__Internal:tO,observableValue_Array_DevHandoffOverviewNode__Internal:tN,observableValue_CommentAnchorData__Internal:tL,writableObservableValue_ActiveEmbedData__Internal:tR,writableObservableValue_PresetType__Internal:tP,writableObservableValue_ColorFormat__Internal:tM,writableObservableValue_Float_Internal:tk,writableObservableValue_HandoffOutputFormat__Internal:tD,writableObservableValue_HandoffPlatformTarget__Internal:tF,writableObservableValue_ExportSelectionSettings__Internal:tx,observableValue_Array_PublishableSymbolForWeb__Internal:tU,observableValue_Array_SubscribedSymbolForWeb__Internal:tB,observableValue_Array_PublishableStateGroupForWeb__Internal:tG,observableValue_Array_SubscribedStateGroupForWeb__Internal:tV,observableValue_Array_PublishableStyleForWeb__Internal:tH,observableValue_Array_SubscribedStyleForWeb__Internal:tW,observableValue_Array_PublishableModuleForWeb__Internal:tK,observableValue_Array_IDLSubscribedVariableSetInfo__Internal:tY,observableValue_Array_IDLSubscribedVariableInfo__Internal:tq,observableValue_Array_IDLLocalVariableSetInfo__Internal:tj,observableValue_Array_IDLLocalVariableInfo__Internal:t$,writableObservableValue_PropertiesPanelTab__Internal:tZ,observableValue_Int_Internal:tz,observableValue_StrokePanelMode__Internal:tQ,observableValue_PrototypeDevice__Internal:tX,writableObservableValue_PrototypeViewMode__Internal:tJ,writableObservableValue_HoveredComponentPropDef__Internal:t0,observableValue_FocusModeState__Internal:t1,observableValue_DocumentColorProfile__Internal:t2,observableValue_Array_Array_GUID_Internal:t4,writableObservableValue_Map_String_Bool_Internal:t3}}},979144:(e,t,r)=>{"use strict";r.d(t,{CM:()=>m,Co:()=>I,EB:()=>p,EP:()=>v,O8:()=>f,Sk:()=>E,Yf:()=>y,ac:()=>T,i_:()=>b,q4:()=>_,s8:()=>g,wq:()=>h});var n=r(560072),i=r(813096),a=r(315500),o=r(927976),l=r(84656),s=r(600680),c=r(762820),d=r(10316),u=r(899139);function p(){return c.KEP.editorPreferences()}function m(){var e;return(0,l.U3)(null==(e=c.KEP)?void 0:e.editorPreferences().hideHelpWidget,!1)}function _(){let e=(0,o.AR)(),t=(0,l.s5)(p().colorFormat);return t===c._sE.CSS&&e||t===c._sE.UIColor&&!e?c._sE.RGB:t}function h(){var e;return(0,l.U3)(null==(e=c.KEP)?void 0:e.editorPreferences().sidebarSplitPosition,a.a.sidebarSplitPosition)}function g(){var e;return(0,l.U3)(null==(e=c.KEP)?void 0:e.editorPreferences().devHandoffInspectSplitPosition,320)}function f(){var e;return(0,l.U3)(null==(e=c.KEP)?void 0:e.editorPreferences().propertiesPanelSplitPosition,a.a.propertiesPanelSplitPosition)}function E(){var e;return(0,l.U3)(null==(e=c.KEP)?void 0:e.editorPreferences().bigNudgeAmount,i.e2)}function y(){var e;return(0,l.U3)(null==(e=c.KEP)?void 0:e.editorPreferences().smallNudgeAmount,i.a2)}function b(){return{smallNudgeAmount:y(),bigNudgeAmount:E()}}function v(){var e;return(0,l.U3)(null==(e=c.KEP)?void 0:e.editorPreferences().renderRulers,!1)}function I(){return(0,l.s5)(p().useOldOutlineShortcuts)}let w=[{getObservable:()=>p().activeCanvasPixelPreview,getMessage:e=>({message:e?(0,n.t)("visual_bell.pixel_preview_enabled",{scaling:(0,s.W)().activeCanvasRetinaMode.getCopy()?"2x":"1x"}):(0,n.t)("visual_bell.pixel_preview_disabled")})},{getObservable:()=>p().renderGrid,getMessage:e=>({message:e?(0,n.t)("visual_bell.render_grid_visible"):(0,n.t)("visual_bell.render_grid_hidden")})},{getObservable:()=>p().snapToPixelGrid,getMessage:e=>({message:e?(0,n.t)("visual_bell.snap_to_pixel_grid_enabled"):(0,n.t)("visual_bell.snap_to_pixel_grid_disabled")})},{getObservable:()=>p().showMasks,getMessage:e=>({message:e?(0,n.t)("visual_bell.show_masks_visible"):(0,n.t)("visual_bell.show_masks_hidden")})},{getObservable:()=>p().snapToDotGrid,getMessage:e=>({message:e?(0,n.t)("visual_bell.snap_to_dot_grid_enabled"):(0,n.t)("visual_bell.snap_to_dot_grid_disabled")})},{getObservable:()=>p().snapToGeometry,getMessage:e=>({message:e?(0,n.t)("visual_bell.snap_to_geometry_enabled"):(0,n.t)("visual_bell.snap_to_geometry_disabled")})},{getObservable:()=>p().snapToObjects,getMessage:e=>({message:e?(0,n.t)("visual_bell.snap_to_objects_enabled"):(0,n.t)("visual_bell.snap_to_objects_disabled")})},{getObservable:()=>p().aprilFun,getMessage:e=>({message:e?(0,n.t)("visual_bell.april_fun_enabled"):(0,n.t)("visual_bell.april_fun_disabled")})},{getObservable:()=>p().showFrameGrids,getMessage:e=>(0,d.Xq)()?((0,d.qs)(),{message:(0,n.t)("visual_bell.show_frame_grids_visible"),button:{text:(0,n.t)("visual_bell.show_frame_grids_hide_button"),action:e=>{e.stopPropagation(),c.KEP.editorPreferences().showFrameGrids.set(!1)}}}):{message:e?(0,n.t)("visual_bell.show_frame_grids_visible"):(0,n.t)("visual_bell.show_frame_grids_hidden")}}];function T(){(0,u.i_)(w)}},510104:(e,t,r)=>{"use strict";let n;r.d(t,{WO:()=>p,Yf:()=>n,mY:()=>d});var i=r(97499),a=r(45284),o=r(843148),l=r(372152),s=r(573596),c=r(291392);function d(e){let t=a.m_.getDefaultSkin()||1;return String.fromCodePoint(...(e.skins[t-1]?e.skins[t-1].unified:e.skins[0].unified).split("-").map(e=>parseInt(e,16)))}class u{convertEmojiNameToString(e){let t=e.toLocaleLowerCase(),r=((0,o.Ub)().emoji_15_upgrade?a.gP:i.gP).searchSynchronized(t).filter(e=>e.id===t);return 0===r.length?"":d(r[0])}setEmojiTypeaheadQuery(e){let t=e&&e.length>1?(0,c.u_)(e):null;l.qM.set(s.mC,t)}clearEmojiTypeaheadQuery(){l.qM.set(s.mC,null)}isShowingEmojiTypeaheadResults(){var e;let t=l.qM.get(s.mC);return!!(null==(e=null==t?void 0:t.emojis)?void 0:e.length)}setEmojiTypeaheadImageSet(e){l.qM.set(s.kZ,e)}setEmojiTypeaheadTargetRect(e,t,r){l.qM.set(s.ch,{x:e,y:t,height:r,width:0})}}function p(){n=new u}},713620:(e,t,r)=>{"use strict";let n,i;r.d(t,{CE:()=>_,Mz:()=>g,eI:()=>h,fh:()=>p,wB:()=>m});var a=r(87975),o=r(960764),l=r(888932),s=r(148276),c=r(106456);r(110296);var d=r(585508),u=r(762820),p=((n=p||{})[n.YES=0]="YES",n[n.NO=1]="NO",n),m=((i=m||{})[i.YES=0]="YES",i[i.NO=1]="NO",i);function _(e,t=0,r=1){if(!d.CA||!d.CA.isRootElementVisible())return!1;let n=e.keyCode,i=(0,a.Mr)(e);if(n===a.as.TAB&&(0,a.Sq)(e,a.Cs.SHIFT));else if(l.cp.mac&&e.ctrlKey&&(n===a.as.A||n===a.as.B||n===a.as.D||n===a.as.E||n===a.as.F||n===a.as.H||n===a.as.K||n===a.as.L||n===a.as.N||n===a.as.O||n===a.as.P||n===a.as.T||n===a.as.V));else if(n===a.as.DELETE||n===a.as.BACKSPACE||n===a.as.NUMPAD_DELETE||n===a.as.SPACE||n===a.as.ENTER||n===a.as.HOME||n===a.as.END||n===a.as.PAGE_UP||n===a.as.PAGE_DOWN||n===a.as.A&&1===r);else if(i&&n===a.as.Z&&1===t);else if(i||e.ctrlKey)return!0;return!1}function h(e,t=0,r=1){return!!_(e,t,r)&&g(e,!0)}function g(e,t=!1){var r;let n;if("keydown"===e.type)n=u.WiH.KEY_PRESS;else{if("keyup"!==e.type)return console.error("Invalid event passed to forwardKeyboardEvent"),!1;n=u.WiH.KEY_RELEASE}let i=(0,o.E7)(),l=d.CA.DEPRECATED_sendMessage(t?"handleKeyboardShortcut":"handleKeyboardEvent",{type:n,which:e.which,modifierKeys:(0,a.I1)(e),isRepeat:e.repeat,code:e.code??(null==(r=e.nativeEvent)?void 0:r.code),shouldUseLayoutAndCode:i!==u.O05.UNKNOWN,layout:i}),s=null==l?void 0:l.args.accepted;return s&&e.preventDefault(),s}(0,s.YB)(h),(0,c.Y)(h)},967636:(e,t,r)=>{"use strict";r.d(t,{An:()=>o,GK:()=>i,GV:()=>a,cF:()=>l});var n=r(682819);let i=new n._("action");function a(e){i.trigger("action",e)}let o=new n._("action");function l(e,t){o.trigger("action",[e,t])}},190095:(e,t,r)=>{"use strict";r.d(t,{E9:()=>D,au:()=>V,gN:()=>G});var n=r(250008),i=r(878164),a=r(796488),o=r(843148),l=r(814508),s=r(866244),c=r(326660),d=r(483576),u=r(58908),p=r(33828),m=r(557044),_=r(560072),h=r(317704),g=r(46604),f=r(735204),E=r(48504),y=r(90340),b=r(585508),v=r(398064),I=r(312452),w=r(236296),T=r(546763),S=r(553432),C=r(769696),A=r(215113),O=r(222664),N=r(145140),L=r(299988),R=r(223624),P=r(317776),M=r(76536);let k={bytes:new Uint8Array([137,80,78,71,13,10,26,10,0,0,0,13,73,72,68,82,0,0,0,1,0,0,0,1,8,6,0,0,0,31,21,196,137,0,0,0,10,73,68,65,84,120,156,99,0,1,0,0,5,0,1,13,10,45,180,0,0,0,0,73,69,78,68,174,66,96,130]),clientMeta:{background_color:{r:0,g:0,b:0,a:0},thumbnail_size:{width:1,height:1}}};function D(e,t,r){return t?(0,_.t)("fullscreen.file_import.fig_jam_has_been_disabled_by_your_organization"):r?(0,_.t)("fullscreen.file_import.user_externally_restricted"):e?(0,_.t)("fullscreen.file_import.you_don_t_have_permissions_to_import_in_folder_name",{folderName:e}):(0,_.t)("fullscreen.file_import.you_don_t_have_permissions_to_import")}async function F(e,t,r){b.CA.resetLoadedFigFile(),await (0,R.A$)(e,"whiteboard");let n=await P.AF.convertPDFToScene(r);if(n===I.MzI.ERROR_TEXT_SIZE)throw new M.gp((0,_.t)("fullscreen.file_import.file_contains_text_either_too_big_or_too_small"));if(n===I.MzI.ERROR_OTHER)throw new M.gp((0,_.t)("fullscreen.file_import.import_miro_pdf_failed"));return{file:{name:t,type:"jam",bytes:I.i46.getScene(),thumbnail:{bytes:new Uint8Array,clientMeta:{}},version:15},images:[],videos:[],warnings:[]}}async function x(e,t,r,n,a,o,s,d,p){var y,b=null;try{let v;let I=await function(e,t,r,n,i,a,o){if(e.hasCanceled())return Promise.reject(Error("canceled"));let l=Error((0,_.t)("fullscreen.file_import.oops_this_service_is_temporarily_unavailable")),s=function(e,t,r,n,i,a){let o=new FormData;return o.append("manifest",JSON.stringify({canvas_count:1,parts:[{name:"canvas",mime:"application/x-figma",length:t.length},{name:"thumbnail",mime:"image/png",length:r.bytes.length}],folder_id:a,file_type:e,client_meta:r.clientMeta,max_session_id:n,import_file_format:i})),o.append("canvas",new Blob([t],{type:"application/x-figma"})),o.append("thumbnail",new Blob([r.bytes],{type:"image/png"})),o}(t,r,n,i,a,o);return m.cp.post("/api/upnode/checkpoint?st=import",s,{raw:!0,retryCount:3}).catch(e=>{throw(0,c.oP)(u._.SCENEGRAPH_AND_SYNC,e),l}).then(e=>{if(e.error)throw Error(e.error);try{return JSON.parse(e.data)}catch(e){throw(0,c.oP)(u._.SCENEGRAPH_AND_SYNC,Error("Unparseable canvas upload response")),l}})}(t,n,a,o||k,s,d,p);if(b=I.meta.file.key,t.hasCanceled())throw Error("Import canceled.");if(!b)throw Error("Null fileKey.");let T=e.getState();if(!(0,S.canCreateFile)(I.meta.file.folder_id,T,I.meta.file.editor_type)){let t=null==(y=T.user)?void 0:y.drafts_folder_id,r=T.folders[I.meta.file.folder_id],n=r&&(0,S.isFigJamDisabledForFolder)(r,T),i=(0,S.isOrgUserExternallyRestrictedFromState)(T),a=D(null==r?void 0:r.name,n,i);throw e.dispatch(h.A.enqueue({message:a,type:"restricted-import-type",error:!0,...!t||n||i?{}:{button:{text:(0,_.t)("fullscreen.file_import.go_to_drafts"),action:()=>{e.dispatch(g.SW(t))}}}})),Error(a)}if(I.meta.file.file_repo_id){let t=await m.cp.put(`/api/repo/${I.meta.file.file_repo_id}`,{name:r});e.dispatch(f.s$({repo:t.data.meta})),v={file:{...I.meta.file,accessed_at:new Date().toISOString()}}}else await m.cp.put(`/api/files/${b}`,{name:r}),v={file:{...I.meta.file,accessed_at:new Date().toISOString(),name:r}};return await (0,l.gd)(i.aY)({orgId:T.currentUserOrgId,newFile:v.file}),e.dispatch(E.wJ({type:A.y.FILES,tiles:[{type:w.Az.FILE,file:v.file}]})),{fileKey:b}}catch(e){throw b&&m.cp.del("/api/files_batch",{files:[{key:b}]}),e}}async function U(e,t,r){let i=t.length,a=0,l=0;try{for(let n=0;n<t.length;n+=5){let s=[];for(let c=n;c<n+5&&c<t.length;c++){let n=t[c];if(e.hasCanceled())throw Error("Import canceled.");let u="application/octet-stream";if(e.isProbablyPNGFile(n.bytes))u="image/png";else if(e.isProbablyJPEGFile(n.bytes))u="image/jpeg";else if(e.isProbablyGIFFile(n.bytes))u="image/gif";else{console.warn("warning: ignoring image with unknown type ("+Array.prototype.slice.call(n.bytes,0,10).map(e=>(256|e).toString(16).slice(-2))+"...)");continue}e.callUpdateProgressCallback(20+(0===i?0:80*c/i)),s.push(new Promise((e,t)=>{let i=s=>{var c;let p=new XMLHttpRequest,m=!1;p.onloadend=()=>{let r=M.Mn.indexOf(p);if(r>-1&&M.Mn.slice(r,1),4===p.readyState&&200===p.status)e();else if(m)t(Error("Import canceled."));else if(413===p.status)a++,e();else if((0,o.Ub)().skip_invalid_file_import_images&&400===p.status)l++,e();else if(400!==p.status&&401!==p.status){let e=3-s;if(--s>0){let t=1e3*Math.pow(2,e),r=t+t*Math.random();(429===p.status||503===p.status)&&(r*=2),console.warn("Image upload failed, retrying..."),setTimeout(()=>{i(s)},r);return}}let n=new M.OP((0,_.t)("fullscreen.file_import.image_import_failed"));n.imageUploadError=!0,t(n)},p.onabort=()=>{m=!0},p.open("POST",`/api/upnode/image?purpose=canvas&sha1=${d.Sm(n.sha1Bytes)}&fileKey=${r.fileKey}`);let h=null==(c=(0,o.m_)().user_data)?void 0:c.id;h&&p.setRequestHeader("X-Figma-User-ID",h),p.setRequestHeader("Content-Type",u),M.Mn.push(p),p.send(n.bytes||null)};i(3)})),await (0,p.Y2)(0)}await Promise.all(s)}}catch(e){throw m.cp.del("/api/files_batch",{files:[{key:r.fileKey}]}),e}let s=[];return a>0&&s.push((0,_.t)("fullscreen.file_import.oversized_files_image_s_were_too_large_64_mb_and_did_not_successfully_import",{oversizedFiles:a})),l>0&&s.push((0,_.t)("fullscreen.file_import.invalid_images_on_import",{invalidFiles:l})),(0,n.we)("file_import_image_upload_complete",{oversizedFiles:a,invalidFiles:l}),s}function B(e){let t=(0,v.vK)([I.S8x.LOCAL,I.S8x.GOOGLE,I.S8x.SHARED]);return{getFont:async function(r){var n;let i=await t;for(let t of[i.localFontsList,i.indexFontsList,i.sharedFontsList])if(void 0!==t)for(let i of t){let t=function(e,t){if(e===t)return!0;let r=e.toLowerCase().trim(),n=t.toLowerCase().trim();if(r===n)return"lower";let i=r.split("-"),a=n.split("-");return 0!==i.length&&0!==a.length&&a[0]===i[0]&&(1===i.length&&2===a.length&&"regular"===a[1]||2===i.length&&1===a.length&&"regular"===i[1])&&"assume-regular"}(i.postscript,r);if(t){!0!==t&&console.warn(`Fuzzy font name match: ${i.postscript} = ${r} (${t})`);let a=e.getState(),o=null;if("folder"===a.selectedView.view){let e=a.folders[a.selectedView.folderId];o=e&&e.team_id}let l=await (0,v.aQ)({source:i.source,id:i.id,postscriptName:i.postscript,fileKey:(null==(n=a.openFile)?void 0:n.key)||null,teamId:o,orgId:a.currentUserOrgId});if(l)return{name:i.postscript,font:l}}}return new Promise((e,t)=>t(null))}}}async function G(e,t,r,i,l,d,p,m){var h,g,f;let E;if(".svg"===r)throw new M.gp((0,_.t)("fullscreen.file_import.to_import_an_svg_drag_it_directly_into_an_open_figma_file"));let b=d.blob,v=(0,a._E)(null==(g=null==(h=(0,o.m_)())?void 0:h.user_data)?void 0:g.email),I={entrypoint:"file_browser",fileLength:b.size};if(".pdf"===r){if((0,n.we)("pdf_import_started",I,{forwardToDatadog:!0}),b.size>52428800)throw new M.gp((0,_.t)("fullscreen.file_import.your_pdf_is_larger_than_50mb"));let r=new Uint8Array(await b.arrayBuffer());E=await F(e,t,r)}else if(".jamboard"===r){if((0,n.we)("file_import_started",{...I,extension:r},{forwardToDatadog:!0}),null==(f=d.metadata)?void 0:f.fileId){let r=new Uint8Array(await b.arrayBuffer());E=await (0,T.Ge)(e,t,r,d.metadata.fileId)}else throw new M.gp((0,_.t)("fullscreen.file_import.jamboard_supported_only_via_menu"))}else E=await l.convertFile({blob:b,featureFlags:i,fontLoader:B(e),isUserFigmaEmployee:v,fileExtension:r});let w=E.file;if(!w)throw new M.OP((0,_.t)("fullscreen.file_import.could_not_convert_file"));if(l.hasCanceled())return{warnings:["Canceled"],file:null};let{fileKey:S}=await x(e,l,t,w.type,w.bytes,w.thumbnail,w.maxSessionID||0,p,m);S&&".pdf"===r&&(0,y.s5)("pdf_import_successful",S,e.getState(),I,{forwardToDatadog:!0}),S&&".jamboard"===r&&(0,y.s5)("file_created",S,e.getState(),{ui_triggered_from:N.cb,extension:r,...I},{forwardToDatadog:!0});let A={fileKey:S,sketchMeta:w.sketchMeta},R=(0,C.ye)(E.videos,A.fileKey,l),P=await U(l,E.images,A);try{await R}catch(t){throw t instanceof s.O&&(0,O.qe)(e.dispatch,(0,_.t)("check_network_compatibility.error_bell.video_upload.message")),t}try{if(w.developerRelatedLinks){let e=new L.iO,t=w.developerRelatedLinks.map(e=>({fileKey:S,nodeId:e.nodeId,linkName:e.linkName,linkUrl:e.linkUrl}));await e.addLinks(t)}}catch(e){(0,c.oP)(u._.DEVELOPER_TOOLS,e)}return{warnings:E.warnings.concat(P),file:A}}async function V(e,t,r,n){var i,l;let s=(0,a._E)(null==(l=null==(i=(0,o.m_)())?void 0:i.user_data)?void 0:l.email),c=await r.convertFile({blob:n,featureFlags:t,fontLoader:B(e),isUserFigmaEmployee:s,fileExtension:".fig"});if(!c.file)throw Error("Could not convert file");return c.file}},356904:(e,t,r)=>{"use strict";r.d(t,{Aj:()=>_,CS:()=>E,Eb:()=>p,Er:()=>C,F3:()=>A,I9:()=>I,OG:()=>N,Ow:()=>w,SE:()=>f,UN:()=>M,Uz:()=>S,W:()=>m,_c:()=>b,ae:()=>T,aq:()=>u,gx:()=>g,kD:()=>c,kn:()=>y,o1:()=>h,oB:()=>v,oD:()=>L,qM:()=>R,sX:()=>s,uB:()=>O,uO:()=>d,w9:()=>l,wl:()=>k,yQ:()=>P});var n=r(843148),i=r(560072),a=r(907152),o=r(590160);let l=[],s={},c=[],d=(0,n.Ub)().figjam_summarization_ui2?8:16,u=436,p=36,m=72+2*d+436,_=4,h=24,g=24,f=6,E=18,y=12,b={r:.9,g:.9,b:.9,a:1},v=4,I=[{type:"drop-shadow",color:{r:0,g:0,b:0,a:.1},offset:{x:0,y:1},blur:3},{type:"drop-shadow",color:{r:0,g:0,b:0,a:.1},offset:{x:0,y:3},blur:8},{type:"drop-shadow",color:{r:0,g:0,b:0,a:.18},offset:{x:0,y:0},blur:.5}],w={fontFamily:"Inter",fontSize:14,fontWeight:400,lineHeight:24,letterSpacing:-.084,width:436},T=8*w.fontSize/14,S={fontFamily:"Roboto Mono",fontSize:11,fontWeight:400,lineHeight:24,width:u};function C(e,t,r=!0){e.isAlive()&&(e.setWidgetSyncedState("syncedState:ai-summary-items",JSON.stringify(t)),r&&o.a.renderFirstPartyWidget(e.widgetId,e.guid))}function A(e,t,r=!0){e.isAlive()&&(e.setWidgetSyncedState("syncedState:ai-summary-attribution",JSON.stringify(t)),r&&o.a.renderFirstPartyWidget(e.widgetId,e.guid))}function O(e,t,r=!0){e.isAlive()&&(e.setWidgetSyncedState("syncedState:summarized-at",`${t.getTime()}`),r&&o.a.renderFirstPartyWidget(e.widgetId,e.guid))}class N{static copySummaryDataToClipboard(e,t){let r=L(e,t);navigator.clipboard.writeText(r)}}function L(e,t){let r="";return r+=`${P(t)}

`,e.forEach(e=>{switch("h2"===e.type&&(r+="\n"),e.type){case"p":case"h1":case"h2":default:r+=e.content+"\n";break;case"li":r+=`\u2022 ${e.content}
`}}),r+=`
${(0,i.t)("whiteboard.ai.summary.summary_footer_disclaimer")}`}function R(e){return e.endsWith("...")?M():e+"."}function P(e){let t=new Date,r=parseInt(e,10);return r?(t.setTime(r),(0,i.t)("whiteboard.ai.summary.summary_header_disclaimer",{summaryGenerationDate:t})):(0,i.t)("whiteboard.ai.summary.summary_header_disclaimer_no_date")}function M(){return(0,i.t)("whiteboard.ai_summary.loading_text")}function k(e,t,r){let n=t.length>0,i=r&&r.length>0;if(!n||i)return!1;let o=new a.TSSceneGraph().get(e);return!!o&&(C(o,function(e){let t=JSON.parse(e),r=[{type:"p",context:"tldr",content:t.summary}];return t.supporting_points.forEach(({header:e,two_to_five_supporting_points:t})=>{r.push({type:"h2",content:e,context:"main_theme"}),t.forEach(e=>{r.push({type:"li",content:e,context:"supporting_point"})})}),r}(t)),!0)}},542276:(e,t,r)=>{"use strict";let n;r.d(t,{Yz:()=>h,uM:()=>T,yg:()=>g});var i=r(185048),a=r(161400),o=r(560072),l=r(202732),s=r(90340),c=r(699084),d=r(272520),u=r(762820),p=r(550504),m=r(55024),_=r(506240);function h(e,t){var r,n;let i=(null==(r=(0,c.QZ)(a.x.getState()))?void 0:r.key)??"";(0,s.s5)(e,i,a.x.getState(),{domain:null!=t?(0,d.qW)(t):"",linkRenderType:d.G.LINK_PREVIEW,userId:null==(n=a.x.getState().user)?void 0:n.id})}var g=((n=g||{}).OPEN="open",n.VERTICAL="vertical",n.HORIZONTAL="horizontal",n.CONVERT_TO_TEXT="convert_to_text",n);let f=`
<svg width="40" height="40" viewBox="0 0 40 40" fill="none" xmlns="http://www.w3.org/2000/svg">
<path fill-rule="evenodd" clip-rule="evenodd" d="M12 12H16V13H13V27H27V24H28V27V28H13H12V27V13V12ZM27.0001 13H26.9913L27.0001 13.0088V13ZM20.0001 13H26.2999L17.0251 22.2747L17.7323 22.9818L27.0001 13.714V20H28.0001V12.5V12H27.5001H20.0001V13Z" fill="white" fill-opacity="0.8"/>
</svg>
`,E=`
<svg width="40" height="40" viewBox="0 0 40 40" fill="none" xmlns="http://www.w3.org/2000/svg">
<path fill-rule="evenodd" clip-rule="evenodd" d="M17.7072 14L20.3536 16.6465L19.6465 17.3536L16.1465 13.8536L15.793 13.5L16.1465 13.1465L19.6465 9.64648L20.3536 10.3536L17.7072 13H21.5001C25.0762 13 28.0001 15.9239 28.0001 19.5C28.0001 21.3202 27.167 22.5686 26.3445 23.35C25.9353 23.7387 25.5272 24.0141 25.2208 24.1929C25.0671 24.2825 24.9377 24.3486 24.8448 24.393C24.7983 24.4153 24.7608 24.4322 24.7339 24.444C24.7204 24.4499 24.7095 24.4545 24.7014 24.4579L24.6914 24.462L24.688 24.4634L24.6868 24.4639L24.6862 24.4641C24.686 24.4642 24.6858 24.4643 24.5001 24C24.3144 23.5358 24.3142 23.5359 24.314 23.536L24.316 23.5351L24.3337 23.5275C24.3506 23.5201 24.3776 23.508 24.4131 23.491C24.4843 23.457 24.5893 23.4035 24.7169 23.3291C24.9729 23.1797 25.3148 22.9489 25.6557 22.625C26.3332 21.9814 27.0001 20.9799 27.0001 19.5C27.0001 16.4762 24.5239 14 21.5001 14H17.7072Z" fill="white" fill-opacity="0.8"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M16.5 20H12V21H16.5V29H17.5V21H22V20H17.5H16.5Z" fill="white" fill-opacity="0.8"/>
</svg>
`,y=`
<svg width="40" height="40" viewBox="0 0 40 40" fill="none" xmlns="http://www.w3.org/2000/svg">
<rect width="40" height="40" fill="#9747FF"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M13 29V22H27V29H13ZM12 11C12 10.4477 12.4477 10 13 10H27C27.5523 10 28 10.4477 28 11V29C28 29.5523 27.5523 30 27 30H13C12.4477 30 12 29.5523 12 29V11Z" fill="white"/>
</svg>
`,b=`
<svg width="40" height="40" viewBox="0 0 40 40" fill="none" xmlns="http://www.w3.org/2000/svg">
<path fill-rule="evenodd" clip-rule="evenodd" d="M13 29V22H27V29H13ZM12 11C12 10.4477 12.4477 10 13 10H27C27.5523 10 28 10.4477 28 11V29C28 29.5523 27.5523 30 27 30H13C12.4477 30 12 29.5523 12 29V11Z" fill="white" fill-opacity="0.8"/>
</svg>
`,v=`
<svg width="40" height="40" viewBox="0 0 40 40" fill="none" xmlns="http://www.w3.org/2000/svg">
<rect width="40" height="40" fill="#9747FF"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M17 16H31V24H17V16ZM8 16C8 15.4477 8.44772 15 9 15H31C31.5523 15 32 15.4477 32 16V24C32 24.5523 31.5523 25 31 25H9C8.44772 25 8 24.5523 8 24V16Z" fill="white"/>
</svg>
`,I=`
<svg width="40" height="40" viewBox="0 0 40 40" fill="none" xmlns="http://www.w3.org/2000/svg">
<path fill-rule="evenodd" clip-rule="evenodd" d="M17 16H31V24H17V16ZM8 16C8 15.4477 8.44772 15 9 15H31C31.5523 15 32 15.4477 32 16V24C32 24.5523 31.5523 25 31 25H9C8.44772 25 8 24.5523 8 24V16Z" fill="white" fill-opacity="0.8"/>
</svg>
`,w=`
<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg">
<path fill-rule="evenodd" clip-rule="evenodd" d="M5.52518 13.6568L8.17683 11.0052L8.88394 11.7123L6.23229 14.3639C4.96308 15.6331 2.9053 15.6331 1.63609 14.3639C0.366889 13.0947 0.366889 11.0369 1.63609 9.76772L4.28774 7.11607L4.99485 7.82317L2.3432 10.4748C1.46452 11.3535 1.46452 12.7781 2.3432 13.6568C3.22188 14.5355 4.6465 14.5355 5.52518 13.6568ZM11.7124 8.88383L11.0053 8.17673L13.6569 5.52508C14.5356 4.6464 14.5356 3.22177 13.6569 2.34309C12.7782 1.46441 11.3536 1.46442 10.4749 2.34309L7.82328 4.99475L7.11617 4.28764L9.76782 1.63599C11.037 0.366784 13.0948 0.366784 14.364 1.63599C15.6332 2.90519 15.6332 4.96298 14.364 6.23218L11.7124 8.88383ZM6.26175 10.5043L10.5044 6.26164L9.73836 5.49561L5.49572 9.73825L6.26175 10.5043Z" fill="black" fill-opacity="0.5"/>
</svg>
`;function T({figma:e}){let{widget:t}=e,{Frame:r,AutoLayout:n,Text:s,SVG:c}=t;t.register(function(){let g=t.useWidgetId(),[T]=t.useSyncedState("url",null),S=T?decodeURIComponent(T):"null",C=(0,p.i)(e,t,"thumbnailImageHash"),[A]=t.useSyncedState("thumbnailImageWidth",null),[O]=t.useSyncedState("thumbnailImageHeight",null),N=A&&O?A/O:void 0,L=(0,p.i)(e,t,"faviconImageHash"),R=!!C,P=480-(R?112:8)-32-16,[M]=t.useSyncedState("title",null),[k]=t.useSyncedState("description",null),[D]=t.useSyncedState("provider",""),F=!!M,x=!!k,U=F||x,B=!(F||x||R),G=F!==x,[V,H]=t.useSyncedState("orientation",B?"horizontal":"vertical"),W=(0,m.s)(t,"title",{name:"Inter Medium",size:16,lineHeight:22},"vertical"===V?240:P,("vertical"===V?2:1)+(G?1:0)+("Twitter"===D?4:0),!1),K=(0,m.s)(t,"description",{name:"Inter",size:W?13:14,lineHeight:20},"vertical"===V?240:P,("vertical"===V?2:1)+(G?1:0),!1),Y=(0,m.s)(t,"url",{name:"Inter",size:16,lineHeight:22},("vertical"===V?240:P)-24,1+(U?0:1),!0),q=U?(0,i.W2)(S):Y,j=()=>{h(d.PN.OPEN_PREVIEW,S),a.x.dispatch((0,l.gd)({rawInput:S}))};t.usePropertyMenu([{itemType:"action",propertyName:"open",tooltip:(0,o.t)("whiteboard.embeds.inline_menu.open_link"),icon:f},{itemType:"separator"},{itemType:"action",propertyName:"vertical",tooltip:(0,o.t)("whiteboard.embeds.inline_menu.display_vertical"),icon:"vertical"===V?y:b},{itemType:"action",propertyName:"horizontal",tooltip:(0,o.t)("whiteboard.embeds.inline_menu.display_horizontal"),icon:"horizontal"===V?v:I},{itemType:"separator"},{itemType:"action",propertyName:"convert_to_text",tooltip:(0,o.t)("whiteboard.embeds.inline_menu.change_back_to_text"),icon:E}],({propertyName:e})=>{switch(e){case"open":j();break;case"convert_to_text":h(d.PN.CONVERT_TO_TEXT,S),u.i46.replaceNodeWithText(g,S);break;case"vertical":h(d.PN.SWITCH_ORIENTATION_VERTICAL,S),H("vertical");break;case"horizontal":h(d.PN.SWITCH_ORIENTATION_HORIZONTAL,S),H("horizontal");break;default:console.error("Unhandled property name for LinkPreview widget: %s",e)}});let $={fontFamily:"Inter",horizontalAlignText:"left",verticalAlignText:"bottom",width:"fill-parent",fill:{type:"solid",color:{r:0,g:0,b:0,a:.8},blendMode:"normal"}},Z=t=>{let i=t?e.widget.h(r,{name:"container-frame",width:16,height:16,fill:{type:"image",imageHash:t,scaleMode:"fill"},cornerRadius:3}):e.widget.h(c,{src:w});return e.widget.h(n,{direction:"horizontal",horizontalAlignItems:"start",verticalAlignItems:"start",padding:{left:0,right:0,top:U?0:3,bottom:0}},i)},z=(t,n,i)=>e.widget.h(r,{name:"container-frame",width:t,height:n,fill:i?{type:"image",imageHash:i,scaleMode:"fill"}:_.Mlf,effect:[{type:"inner-shadow",color:{r:0,g:0,b:0,a:.1},offset:"vertical"===V?{x:0,y:-1}:{x:-1,y:0},blur:0}],onClick:j}),Q=t=>{if(t)return e.widget.h(s,{fontSize:16,fontWeight:500,lineHeight:22,...$},t)},X=(t,r)=>{if(r)return e.widget.h(s,{fontSize:t?13:14,lineHeight:20,fontWeight:400,...$,fill:{...$.fill,color:{r:0,g:0,b:0,a:t?.5:.8}}},r)},J=(t,r)=>e.widget.h(s,{fontSize:t?13:16,lineHeight:t?20:22,fontWeight:400,textDecoration:"underline",...$,fill:{...$.fill,color:{r:0,g:0,b:0,a:.5}},onClick:j},r);return"vertical"===V?function(...t){return e.widget.h(n,{direction:"vertical",horizontalAlignItems:"start",verticalAlignItems:"center",width:"hug-contents",height:"hug-contents",fill:_.yEj,cornerRadius:12,stroke:{type:"solid",color:{r:0,g:0,b:0,a:.2},blendMode:"normal"},effect:[{type:"drop-shadow",color:{r:0,g:0,b:0,a:.1},offset:{x:0,y:2},blur:6}]},...t)}(!R&&e.widget.h(r,{width:304,height:.01}),R&&z(304,N?Math.max(Math.min(304/N,608),160):160,C),U&&((t,...r)=>e.widget.h(n,{direction:"vertical",horizontalAlignItems:"start",verticalAlignItems:"start",width:"fill-parent",height:"hug-contents",fill:_.yEj,spacing:4,padding:{left:24,right:24,bottom:0,top:t?16:24}},...r))(R,Q(W),X(F,K)),((t,...r)=>e.widget.h(n,{name:"service-name-autolayout",direction:"horizontal",verticalAlignItems:t?"center":"start",horizontalAlignItems:"start",width:"fill-parent",spacing:8,padding:t?{left:24,right:24,top:8,bottom:24}:20},...r))(U,Z(L),J(U,q))):"horizontal"===V?function(t,...r){return e.widget.h(n,{direction:"horizontal",horizontalAlignItems:"center",verticalAlignItems:"start",width:480,height:"hug-contents",fill:_.yEj,cornerRadius:12,spacing:t?16:0,stroke:{type:"solid",color:{r:0,g:0,b:0,a:.2},blendMode:"normal"},effect:[{type:"drop-shadow",color:{r:0,g:0,b:0,a:.1},offset:{x:0,y:2},blur:6},{type:"drop-shadow",color:{r:0,g:0,b:0,a:.08},offset:{x:0,y:0},blur:2}]},...r)}(R,!R&&e.widget.h(r,{width:.01,height:.01}),R&&z(112,112,C),((t,...r)=>e.widget.h(n,{direction:"vertical",horizontalAlignItems:"center",verticalAlignItems:"start",width:"fill-parent",height:"fill-parent",fill:_.yEj,spacing:t?4:8,padding:t?{left:0,right:0,bottom:16,top:16}:20},...r))(R,U&&((...t)=>e.widget.h(n,{direction:"vertical",horizontalAlignItems:"start",verticalAlignItems:"start",width:"fill-parent",height:"hug-contents",fill:_.yEj,spacing:4,padding:0},...t))(Q(W),X(F,K)),((...t)=>e.widget.h(n,{name:"service-name-autolayout",direction:"horizontal",verticalAlignItems:U?"center":"start",horizontalAlignItems:"center",width:"fill-parent",spacing:8},...t))(Z(L),J(U,q)))):void 0})}},300711:(e,t,r)=>{"use strict";r.d(t,{AT:()=>i,Q_:()=>o,S2:()=>a});var n=r(843148);function i(){var e;return(null==(e=(0,n.cp)().frame_context)?void 0:e.type)==="integration"}function a(){return i()&&"google-meet"===(0,n.cp)().integration_host}function o(){return a()&&!!(0,n.cp)().is_meet_hardware}},636292:(e,t,r)=>{"use strict";r.d(t,{m:()=>a,s:()=>l});var n=r(816876),i=r(778524);let a="Selection Changed",o=new Set;function l(e,t,r){let l=function(e){let t=Object.keys(e);return 0===t.length?new Set:new Set(t)}(t),s=!(0,n.ch)(l,o);(0,i.Y9)({id:a,properties:{...r,numSelectedTextNodes:r.numSelectedByType&&r.numSelectedByType.TEXT||0,didSelectedNodeIdsChange:s}}),o=l}},599672:(e,t,r)=>{"use strict";r.d(t,{k:()=>h,s:()=>g});var n=r(307824),i=r(120304),a=r(250008),o=r(441748),l=r(107516),s=r(560072),c=r(317704),d=r(326300),u=r(323576),p=r(869588),m=r(787820),_=r(762820);function h(){let e=(0,i.OY)(),t=(0,i.w1)(e=>e.versionHistory.compareId),r=(0,i.w1)(e=>(0,p.ct)(t,e.versionHistory));return n.useCallback(t=>{g(t,e,r)},[e,r])}function g(e,t,r){let n=(0,l.U)(null==r?void 0:r.user.handle);if(n&&(null==r?void 0:r.touched_at)&&_.i46.getChunkChangeMap().has(e)){if(!_.i46.getChangesToCompareFromHistoryChangesState().has(e)){t(c.A.dequeue({matchType:"view_changes"}));return}t(c.A.dequeue({})),t(c.A.enqueue({message:(0,s.t)("collaboration.feedback.compare_changes_modal.action_text",{lastEditedBy:n,lastEditedAt:(0,o.c)(r.touched_at).fromNow()}),type:"view_changes",button:{text:(0,s.t)("collaboration.feedback.compare_changes_modal.action_button"),action:()=>{(0,a.we)("version_diffing_performance_metrics",{name:"diffing_modal_cta_clicked",entrypoint:"figma_design_version_history"}),t(u.A5({type:m.o,data:{nodeId:e}}))}},icon:""!==r.user.img_url?d.mc.FROM_URL:d.mc.NONE,iconShape:d.e0.CIRCLE,iconURL:r.user.img_url}))}}},38768:(e,t,r)=>{"use strict";r.d(t,{K:()=>s,s:()=>c});var n=r(307824),i=r(752648),a=r(372152),o=r(585508);let l=(0,i.Wm)(()=>o.CA.isReady()||o.CA.onReady());function s(){(0,a.m4)(l)}function c(){let[e,t]=(0,n.useState)(!1);return(0,n.useEffect)(()=>{if(o.CA.isReady()){t(!0);return}let e=!1;return o.CA.onReady().then(()=>{e||t(!0)}),()=>{e=!0}},[t]),e}},229372:(e,t,r)=>{"use strict";let n;r.d(t,{KU:()=>T,QN:()=>w,iM:()=>h,qj:()=>I});var i=r(972920),a=r(698228),o=r(843148),l=r(166064),s=r(326660),c=r(58908),d=r(557044),u=r(491920),p=r(585508),m=r(762820),_=r(768820);async function h(e,t,r){let n="figFile"===t.type?`/file/${t.fileKey}/image/batch`:`/community/file/${t.hubFileId}/image/batch`;try{let t=await d.cp.post(n,{sha1s:e,max_size:r},{retryCount:1/0});if(200!==t.status||t.data.error)throw Error("api error while resolving images");return t.data.meta.s3_urls}catch(t){throw console.warn(`Couldn't download image(s) with hashes ${e}`),t}}class g extends Error{constructor(e="IMAGE_MISSING"){super(e),Object.setPrototypeOf(this,g.prototype)}}class f extends Error{constructor(e="FILE_KEY_MISSING"){super(e),Object.setPrototypeOf(this,f.prototype)}}class E extends Error{constructor(e="IMAGE_EXPIRED"){super(e),Object.setPrototypeOf(this,E.prototype)}}var y=((n=y||{})[n.AWAITING_SINATRA_LOOKUP=0]="AWAITING_SINATRA_LOOKUP",n[n.LOOKUP=1]="LOOKUP",n[n.UPLOADING=2]="UPLOADING",n[n.READY=3]="READY",n[n.MISSING=4]="MISSING",n[n.FAILED=5]="FAILED",n[n.PRESENT=6]="PRESENT",n);let b=class{constructor(e,t){this.hash=e,this._priority=t,this.retries=0,this.state=0,this._downloadPromise=null,this._imageIsReady=()=>{},this._readyPromise=new Promise(e=>{this._imageIsReady=e})}set priority(e){this._priority!==b.MAX_PRIORITY&&(this._priority=e)}get priority(){return this._priority}imageIsReady(){this._imageIsReady()}readyPromise(){return this._readyPromise}isExpired(){let e=null;try{if(!(e=new URL(this.s3Path).searchParams.get("Expires")))return!1;e=parseInt(e,10)}catch{return!1}return e<Date.now()/1e3}downloadFromS3(){if(null==this.s3Path)throw Error("Called downloadFromS3 without s3Path");return d.cp.crossOriginGetAny(this.s3Path,null,{responseType:"arraybuffer"}).then(e=>e.data).catch(e=>{if(this.isExpired())throw new E;throw 0!==e.status&&e.status<500&&((0,s.WI)("image","Image is missing from S3!",{hash:this.hash,status:e.status}),(0,s.oP)(c._.SCENEGRAPH_AND_SYNC,Error("Image missing from S3"))),e})}download(e){if(!this._downloadPromise){let e=this.downloadFromS3();e.finally(()=>{this._downloadPromise=null}).catch(e=>{}),this._downloadPromise=e}return this._downloadPromise}};b.MAX_PRIORITY=Number.MAX_SAFE_INTEGER;class v{constructor(){this.queue=[],this.byHash=new Map,this.needsSort=!1}get length(){return this.queue.length}ensureSorted(){this.needsSort&&(this.queue.sort((e,t)=>t.priority-e.priority),this.needsSort=!1)}numEligible(e){this.ensureSorted();let t=this.queue.findIndex(t=>t.priority<e);return t<0?this.queue.length:t}push(...e){for(let t of(this.queue.push(...e),e))this.byHash.set(t.hash,t);this.needsSort=!0}updatePriority(e,t){let r=this.byHash.get(e);return null!=r&&(r.priority=t,this.needsSort=!0,!0)}pop(e){if(this.ensureSorted(),0===this.queue.length||this.queue[0].priority<e)return null;let t=Date.now(),r=1/0;for(let e=0;e<this.queue.length;e++){let n=this.queue[e].retryTime;if(null==n||t>=n){let[t]=this.queue.splice(e,1);return this.byHash.delete(t.hash),{found:!0,image:t}}r=n<r?n:r}return{found:!1,retryDelay:r-t}}find(e){return this.byHash.get(e)??null}erase(e){let t=this.byHash.get(e);if(t){this.byHash.delete(e);let r=this.queue.findIndex(e=>e===t);r>=0&&this.queue.splice(r,1)}}debugString(){return this.queue.map(e=>`${e.hash}(${e.priority})`).join(",")}}class I{constructor(){this.pendingPasteRequests={},this.pendingImagesToRecord={},this.pendingRecordImagesTasks={},this.imagesNeedingDirectUpload=new Set,this.MAX_REQUESTS=3,this.SINATRA_BATCH_SIZE=100,this.verbose=(0,o.Ub)().image_verbose,this.incomingImages=new Map,this.pendingLookupCallback=null,this.downloadQueue=new v,this.minPriority=0,this.downloadsPaused=!1,this.allImages=new Map,this.pendingDecodes=new Set,this.pendingDownloads=new Set,this.cancelDownloads=new Set,this.alreadyDownloaded=new Set,this.pendingUploads=new Set,this.uploadedImagesNeedingUrl=new Set,this.pendingImagesCallback=null,this.imageQueueEmpty=null,this.incomingImagesLookedUp=null,this.allImagesUploaded=null,this.progressCallbacks=[],this.imageMaxSize=void 0,this.flushPendingRecordImages=(0,i.C)(async()=>{let e=this.pendingImagesToRecord,t=this.pendingRecordImagesTasks,r=Object.keys(e);this.pendingImagesToRecord={},this.pendingRecordImagesTasks={};let n=await this.getEditingFileKey();r.forEach(async r=>{if(n===r){t[r].resolve();return}if(!r){t[r].reject("Invalid originFileKey");return}let i=1,a=e[r];for(;;){try{let e=await d.cp.put(`/api/files/${n}`,{image_sha1s:a,image_origin_file_key:r}),{success:i,failed:o}=I.parseFileUpdateResponseForImages(a,e);for(let e of(m.a48.imagePermissionsCopied(i),o))this.markImageMissing(e);for(let e of a)delete this.pendingPasteRequests[e];t[r].resolve();return}catch(e){if(e.status>=400&&e.status<500){for(let e of((0,l.uU)(),a))this.markImageMissing(e),delete this.pendingPasteRequests[e];t[r].reject(`4xx error when pasting images ${e}`);return}}let e=1e3*i*Math.random();await new Promise(t=>setTimeout(t,e)),i=Math.min(2*i,64)}})},100)}getEditingFileKey(){return p.CA.openFileKeyPromise()}recordImages(e,t){if(0===t.length)return Promise.resolve();if(!e)throw Error("No originFileKey specified");if(this.pendingImagesToRecord[e]=this.pendingImagesToRecord[e]||[],this.pendingImagesToRecord[e].push(...t),!this.pendingRecordImagesTasks[e]){let t,r;let n=new Promise((e,n)=>{t=e,r=n});this.pendingRecordImagesTasks[e]={promise:n,resolve:t,reject:r}}for(let r of t)this.pendingPasteRequests[r]=this.pendingRecordImagesTasks[e].promise;let r=this.pendingRecordImagesTasks[e].promise;return this.flushPendingRecordImages(),r}static parseFileUpdateResponseForImages(e,t){var r,n;try{if(null==(n=null==(r=null==t?void 0:t.data)?void 0:r.meta)?void 0:n.missing_shas){let r=new Set(t.data.meta.missing_shas);return{success:e.filter(e=>!r.has(e)),failed:Array.from(r)}}}catch{}return{success:e,failed:[]}}async resolveImageUrls(e){let t=await p.CA.openFilePromise(),r=await h(e,t,this.imageMaxSize),n=e.filter(e=>!(e in r));if(n.length>0){let e=await p.CA.sourceFileKeyPromise();if(e){let t=await h(n,{type:"figFile",fileKey:e});return{...r,...t}}}return r}queueImageForLookup(e){let t=e.hash;this.verbose&&(0,s.Ij)("image","incoming",{hash:t}),e.state=0,this.incomingImages.set(t,e),null==this.pendingLookupCallback&&(this.pendingLookupCallback=setTimeout(()=>{this.pendingLookupCallback=null,this.lookupImages().catch(e=>(0,s.oP)(c._.SCENEGRAPH_AND_SYNC,e))},0))}setExternalSource(e,t){let r=new b(e,b.MAX_PRIORITY);r.s3Path=t,this.allImages.set(e,r),this.downloadQueue.push(r),this.imagesNeedingDirectUpload.add(e),this.maybeDownloadMoreImages()}setImageDownloadPriority(e,t){if(!e){(0,s.sz)("setImageDownloadPriority","invalid hash");return}let r=this.allImages.get(e);if(null==r){r=new b(e,t),this.allImages.set(e,r),this.queueImageForLookup(r);return}2===r.state&&(0,s.WI)("image","Got download request for currently uploading image",{hash:e},{reportAsSentryError:!0}),r.priority=t,this.downloadQueue.updatePriority(e,t)&&this.maybeDownloadMoreImages()}setMinimumImagePriority(e){this.minPriority=e,this.maybeDownloadMoreImages()}pauseImageDownloads(){this.downloadsPaused=!0}resumeImageDownloads(){this.downloadsPaused=!1,this.maybeDownloadMoreImages()}maybeDownloadMoreImages(){for(var e;this.pendingDownloads.size<this.MAX_REQUESTS&&this.downloadQueue.length>0&&!this.downloadsPaused;){let e=this.downloadQueue.pop(this.minPriority);if(null==e)break;if(!e.found){let t=e.retryDelay;!Number.isFinite(t)||t<=0?(0,s.oP)(c._.SCENEGRAPH_AND_SYNC,Error("Logic error in download queue, cannot compute next retry")):setTimeout(()=>this.maybeDownloadMoreImages(),t);break}let t=e.image;t.hash&&(this.verbose&&(0,s.Ij)("image","download start",{hash:t.hash,ok:!this.pendingDownloads.has(t.hash)}),this.pendingDownloads.add(t.hash)),t.download(this.imageMaxSize).then(e=>{!this.cancelDownloads.delete(t.hash)&&(this.verbose&&(0,s.Ij)("image","download done",{hash:t.hash,ok:!this.alreadyDownloaded.has(t.hash)}),this.alreadyDownloaded.add(t.hash),this.imagesNeedingDirectUpload.has(t.hash)?(m.a48.imageDownloadedForPaste(t.hash,e),this.imagesNeedingDirectUpload.delete(t.hash)):m.a48.imageDownloaded(t.hash,e),this.pendingDecodes.has(t.hash)||((0,s.sz)("ImageManager","missing pending decode after download",{hash:t.hash}),(0,s.oP)(c._.SCENEGRAPH_AND_SYNC,Error("missing pending decode after image marked as downloaded")),t.imageIsReady()))},e=>{if(this.pendingDecodes.delete(t.hash)&&this.maybeResolveImageQueueEmptyAndPendingImages(),!this.cancelDownloads.delete(t.hash)){if(e instanceof g)this.markImageMissing(t.hash);else if(e instanceof f)(0,s.oP)(c._.SCENEGRAPH_AND_SYNC,e),this.markImageFailed(t.hash);else if(e instanceof E)this.queueImageForLookup(t);else{if(e instanceof d.uI&&403===e.status){this.markImageFailed(t.hash);return}let r=5e3*(1<<Math.min(t.retries,4));r+=r*Math.random(),t.retries+=1,(429===e.status||503===e.status)&&(r*=4),t.retryTime=Date.now()+r,this.downloadQueue.push(t)}}}).finally(()=>{this.pendingDownloads.delete(t.hash),this.maybeDownloadMoreImages()})}null==(e=this.pendingImagesCallback)||e.call(this,this.pendingImages),this.maybeResolveImageQueueEmptyAndPendingImages()}forceDownloadImage(e){this.setImageDownloadPriority(e,b.MAX_PRIORITY)}setImageDecodePending(e){this.verbose&&(0,s.Ij)("image","decode start",{hash:e,ok:!this.pendingDecodes.has(e)}),this.pendingDecodes.add(e)}getSignedUrls(e){let t=new Map;for(let r of e){let e=this.allImages.get(r);e&&e.s3Path&&t.set(r,e.s3Path)}return t}clearImageDecodePending(e,t){this.verbose&&(0,s.Ij)("image","decode done",{hash:e,ok:this.pendingDecodes.has(e)}),this.pendingDecodes.delete(e)&&this.maybeResolveImageQueueEmptyAndPendingImages(),t?this.markImageReady(e):this.markImageFailed(e)}markImagePresent(e){let t=this.allImages.get(e);t&&(t.state=6,m.a48.imageIsPresent(e))}markImageMissing(e){let t=this.allImages.get(e);t&&(t.state=4,m.a48.imageIsMissing(e),t.imageIsReady())}markImageFailed(e){let t=this.allImages.get(e);t&&(t.state=5,t.imageIsReady())}markImageReady(e){let t=this.allImages.get(e);t&&(t.state=3,t.imageIsReady())}async lookupImages(){let e=[];for(let t of this.incomingImages.values())0===t.state&&(e.push(t),t.state=1,this.verbose&&(0,s.Ij)("image","lookup",{hash:t.hash}));try{for(;e.length>0;){let t=e.splice(0,this.SINATRA_BATCH_SIZE);for(let e of t){let t=this.pendingPasteRequests[e.hash];if(t)try{await t}catch(t){(0,s.WI)("lookupImages","pastePromise failed",{hash:e.hash})}}let r=await this.resolveImageUrls(t.map(e=>e.hash));for(let e of t){let t=r[e.hash];t?(e.s3Path=t,this.markImagePresent(e.hash),this.downloadQueue.push(e),this.verbose&&(0,s.Ij)("image","enqueued-batch",{hash:e.hash})):(this.markImageMissing(e.hash),this.verbose&&(0,s.Ij)("image","missing",{hash:e.hash})),this.incomingImages.delete(e.hash)}}}finally{for(let t of e)this.incomingImages.delete(t.hash)&&(0,s.sz)("image","incoming fallback delete",{hash:t.hash});null!=this.incomingImagesLookedUp&&this.incomingImagesLookedUp.resolve()}this.maybeDownloadMoreImages()}forgetImage(e){if(this.imagesNeedingDirectUpload.has(e))return;this.verbose&&(0,s.Ij)("image","forget",{hash:e}),this.incomingImages.delete(e),this.downloadQueue.erase(e),this.pendingDownloads.has(e)&&this.cancelDownloads.add(e),this.alreadyDownloaded.delete(e),this.pendingDecodes.delete(e),this.maybeResolveImageQueueEmptyAndPendingImages(),this.maybeResolveImagesLookedUp();let t=this.allImages.get(e);t&&(this.allImages.delete(e),3!==t.state&&t.imageIsReady())}getNumEligibleForDownload(){return this.downloadQueue.numEligible(this.minPriority)}get pendingImages(){let e=this.getNumEligibleForDownload();return this.verbose&&(0,s.Ij)("image","pendingImages",{incoming:this.incomingImages.size,eligible:e,downloads:this.pendingDownloads.size,decode:this.pendingDecodes.size}),this.incomingImages.size+e+this.pendingDownloads.size+this.pendingDecodes.size}setPendingImagesCallback(e){this.pendingImagesCallback=e}imageQueueEmptyPromise(){if(!this.imageQueueEmpty){let e=performance.now();this.imageQueueEmpty=(0,a.Q)(),this.verbose&&(0,s.Ij)("image","queue empty defer installed",{start:e}),this.imageQueueEmpty.promise.finally(()=>{this.imageQueueEmpty=null;let t=performance.now()-e;this.verbose?(0,s.Ij)("image","queue empty defer cleared",{start:e,elapsed:t}):t>1e4&&(0,s.sz)("image","queue empty finished after a long time",{start:e,elapsed:t})}),this.emptyQueueCheck(this.imageQueueEmpty,e,3e4)}let e=this.imageQueueEmpty.promise;return this.maybeResolveImageQueueEmptyAndPendingImages(),e}imageLookupPromise(){this.incomingImagesLookedUp||(this.incomingImagesLookedUp=(0,a.Q)(),this.incomingImagesLookedUp.promise.finally(()=>{this.incomingImagesLookedUp=null}));let e=this.incomingImagesLookedUp.promise;return this.maybeResolveImagesLookedUp(),e}emptyQueueCheck(e,t,r){setTimeout(()=>{if(e===this.imageQueueEmpty){let n=Math.round(.001*(performance.now()-t));(0,s.sz)("image","queue empty is taking a long time",{elapsedSec:n,pending:this.pendingImages,downloads:this.pendingDownloads.size,decodes:this.pendingDecodes.size}),this.verbose&&(0,s.Ij)("image","slow",{downloads:this.pendingDownloads,decodes:this.pendingDecodes}),this.emptyQueueCheck(e,t,Math.min(2*r,9e5))}},r)}maybeResolveImageQueueEmptyAndPendingImages(){let e=this.pendingImages;for(let t of this.progressCallbacks)t(e);this.imageQueueEmpty&&0===e&&(this.verbose&&(0,s.Ij)("image","resolve queue empty!"),this.imageQueueEmpty.resolve(),this.progressCallbacks=[]),this.maybeResolveImagesLookedUp()}maybeResolveImagesLookedUp(){var e;0===this.incomingImages.size&&(null==(e=this.incomingImagesLookedUp)||e.resolve())}async loadAllImagesUnder(e,t,r,n=null,i){let a=performance.now();if(this.verbose&&(0,s.Ij)("image","loadAllImagesUnder",{reason:r,guids:e,start:a}),e.includes("0:0")&&"playground.initialLoad"!==r){(0,s.WI)("image","loadAllImagesUnder called with full document",{reason:r}),this.verbose&&(0,s.Ij)("image","waitForAllPages start");let e=(0,_.uU)(m.uxq.LEGACY_IMAGES_CODE);await e,e.catch(()=>{(0,s.oP)(c._.SCENEGRAPH_AND_SYNC,Error("image_manager: waitForAllPagesPromise rejected"))}),this.verbose&&(0,s.Ij)("image","waitForAllPages done")}let o=0,l=new Promise(r=>{let a=i??m.ugv.getMutableActiveDocument(),l=m.a48.findImagesUnder(a,e,t).map(e=>this.allImages.get(e)).filter(e=>void 0!==e&&3!==e.state&&2!==e.state);if(0===(o=l.length))r({totalImages:o});else{var s;let e=o;for(let t of(s=e,n&&n(s,o),l))this.setImageDownloadPriority(t.hash,b.MAX_PRIORITY),t.readyPromise().finally(()=>{var t;t=--e,n&&n(t,o),0===e&&r({totalImages:o})})}});return await l}async loadImageByHash(e){this.verbose&&(0,s.Ij)("image","loadImageByHash",{hash:e}),this.setImageDownloadPriority(e,b.MAX_PRIORITY),await this.imageQueueEmptyPromise()}setImageMaxSize(e){this.imageMaxSize=e}markImageUploading(e){this.pendingUploads.add(e)}markImageUploaded(e){this.pendingUploads.has(e)||(0,s.sz)("image","markImageUploaded called for unknown image",{imageHash:e}),this.pendingUploads.delete(e),this.uploadedImagesNeedingUrl.add(e),this.maybeResolveImagesUploaded()}startUploadingImage(e,t,r,n){if(this.pendingUploads.has(n))return;this.pendingUploads.add(n);let i=new b(n,0);i.state=2,this.allImages.set(n,i);let a=`/api/upnode/image?purpose=canvas&sha1=${n}&fileKey=${e}`,o=0;d.cp.post(a,t,{retryCount:1/0,headers:{...d.cp.defaults.headers,"Content-Type":r},rawBody:!0,uploadEvents:{loadstart:()=>{i.retries=o,o+=1}}}).then(e=>{if(200!==e.status){(0,s.WI)("image","unexpected status code from image upload",{hash:n,status:e.status},{reportAsSentryError:!0});return}(0,s.Ij)("image","uploaded new image",{hash:n}),this.pendingUploads.delete(n),m.a48.imageUploadFinished(n,m.EZ7.SUCCESS),i.state=3,this.uploadedImagesNeedingUrl.add(n),this.maybeResolveImagesUploaded()},e=>{let t;415===e.status?((0,s.WI)("image","image upload failed, removing invalid image",{hash:n}),t=m.EZ7.UNSUPPORTED_MEDIA):t=m.EZ7.OTHER_FAILURE,this.pendingUploads.delete(n),m.a48.imageUploadFinished(n,t),this.maybeResolveImagesUploaded()})}pendingUploadStats(){let e=new Set;for(let t of this.pendingUploads){let r=this.allImages.get(t);r&&r.retries>0&&e.add(t)}return[this.pendingUploads,e]}async maybeResolveImagesUploaded(){var e;if(0===this.pendingUploads.size){null==(e=this.allImagesUploaded)||e.resolve();let t=Array.from(this.uploadedImagesNeedingUrl);this.uploadedImagesNeedingUrl.clear();for(let e=0;e<t.length;e+=this.SINATRA_BATCH_SIZE){let r=t.slice(e,e+this.SINATRA_BATCH_SIZE),n=await this.resolveImageUrls(r);for(let e of r){let t=n[e];if(t){let r=this.allImages.get(e);if(r)r.s3Path=t;else{let r=new b(e,0);r.s3Path=t,r.state=3,this.allImages.set(e,r)}}}}}}imageUploadPromise(){this.allImagesUploaded||(this.allImagesUploaded=(0,a.Q)(),this.allImagesUploaded.promise.finally(()=>{this.allImagesUploaded=null}));let e=this.allImagesUploaded.promise;return this.maybeResolveImagesUploaded(),e}logDebugInfo(e){for(let t of e){let e=this.allImages.get(t),r=new Set;for(let e of Object.values(this.pendingImagesToRecord))for(let t of e)r.add(t);(0,s.Ij)("ImageManager","Blocking image info",{hash:t,state:e?e.state:"NO IMAGE",inIncoming:t in this.incomingImages,inQueue:null!=this.downloadQueue.find(t),inPending:t in this.pendingDownloads,inFinished:t in this.alreadyDownloaded,inPendingRecord:t in r})}let[t,r]=this.pendingUploadStats(),n=Array.from(this.incomingImages.values()).map(e=>e.hash).join(","),i=Array.from(this.pendingDownloads).join(","),a=Array.from(this.alreadyDownloaded).join(","),o=this.downloadQueue.debugString(),l=Array.from(t).join(","),c=Array.from(r).join(",");(0,s.Ij)("ImageManager","ImageManager debug info",{incomingImages:n,downloadQueue:o,pendingDownloads:i,alreadyDownloaded:a,pendingUploads:l,uploadBackoffs:c,pendingImagesToRecord:this.pendingImagesToRecord})}getDebugState(){let e=m.a48.getImageResourceDebugInfo(),t=new Map;return e.forEach(e=>{var r;t.set(e.hash,{...e,tsState:null==(r=this.allImages.get(e.hash))?void 0:r.state})}),this.allImages.forEach((e,r)=>{t.has(r)||t.set(r,{hash:r,tsState:e.state})}),t}static includeOutsideContents(e){return e.some(e=>!1===e.contentsOnly)}}let w=new class{constructor(){this.imageManager=new I}copyImagePermissions(e,t){return this.imageManager.recordImages(e,t)}setImageDownloadPriority(e,t){this.imageManager.setImageDownloadPriority(e,t)}forceDownloadImage(e){this.imageManager.forceDownloadImage(e)}setMinimumImagePriority(e){this.imageManager.setMinimumImagePriority(e)}forgetImage(e){this.imageManager.forgetImage(e)}setImageDecodePending(e){this.imageManager.setImageDecodePending(e)}clearImageDecodePending(e,t){this.imageManager.clearImageDecodePending(e,t)}async downloadEmoji(e){return(await d.cp.crossOriginGetAny(e,null,{responseType:"arraybuffer"})).data}markImageUploading(e){this.imageManager.markImageUploading(e)}markImageUploaded(e){this.imageManager.markImageUploaded(e)}startUploadingImage(e,t,r,n){this.imageManager.startUploadingImage(e,t,r,n)}pendingUploadStats(){return this.imageManager.pendingUploadStats()}logDebugInfo(e){this.imageManager.logDebugInfo(e)}pauseImageDownloads(){this.imageManager.pauseImageDownloads()}resumeImageDownloads(){this.imageManager.resumeImageDownloads()}getSignedUrls(e){return this.imageManager.getSignedUrls(e)}getImageHostDomain(){return window.location.hostname}setExternalSource(e,t){this.imageManager.setExternalSource(e,t)}};function T(){return w.imageManager}async function S(e,t){let r=!!I.includeOutsideContents(t);await T().loadAllImagesUnder([r?e.containingCanvas||"-1:-1":e.guid],m.auT.NON_ANIMATED_ONLY,"plugins.loadImagesAndExport")}(0,u.iW)(S)},982868:(e,t,r)=>{"use strict";r.d(t,{AN:()=>tO,O1:()=>tI,Sw:()=>tT,Wq:()=>tS,eO:()=>tA,iG:()=>tw,ot:()=>tC});var n=r(307824),i=r(763976),a=r(176804),o=r(111744),l=r(645148),s=r(671784),c=r(531480),d=r(202260),u=r(573344),p=r(577212),m=r(370912),_=r(16824),h=r(643060),g=r(188952),f=r(228328),E=r(120760),y=r(850680),b=r(187964),v=r(431756),I=r(772424),w=r(180384),T=r(510656),S=r(420292),C=r(400811),A=r(21648),O=r(150648),N=r(266880),L=r(697724),R=r(50740),P=r(358952),M=r(305624),k=r(43116),D=r(454136),F=r(359944),x=r(905296),U=r(400864),B=r(272580),G=r(258216),V=r(600692),H=r(374888),W=r(312452),K=r(665208),Y=r(35052),q=r(927456),j=r(639616),$=r(701532),Z=r(349164),z=r(730980),Q=r(895445),X=r(769344),J=r(384456),ee=r(568907),et=r(501484),er=r(512804),en=r(496620),ei=r(150400),ea=r(263616),eo=r(327472),el=r(741912),es=r(946696),ec=r(620796),ed=r(377740),eu=r(38812),ep=r(327691),em=r(869504),e_=r(897628),eh=r(128928),eg=r(660652),ef=r(852396),eE=r(497864),ey=r(646540),eb=r(313580),ev=r(403068),eI=r(430404),ew=r(786287),eT=r(119920),eS=r(831139),eC=r(537832),eA=r(338096),eO=r(774484),eN=r(420296),eL=r(796776),eR=r(893144),eP=r(189268),eM=r(865256),ek=r(773632),eD=r(282792),eF=r(594336),ex=r(613336),eU=r(642380),eB=r(148192),eG=r(706596),eV=r(653077),eH=r(543408),eW=r(94420),eK=r(989544),eY=r(433564),eq=r(182548),ej=r(406316),e$=r(669816),eZ=r(41684),ez=r(600316),eQ=r(896524),eX=r(24236),eJ=r(259808),e0=r(415656),e1=r(633752),e2=r(552200),e4=r(174980),e3=r(139800),e6=r(473108),e8=r(12704),e5=r(633616),e7=r(4076),e9=r(813424),te=r(167064),tt=r(751796),tr=r(801224),tn=r(731556),ti=r(437760),ta=r(303652),to=r(936848),tl=r(677992),ts=r(604476),tc=r(274280),td=r(860828),tu=r(405084),tp=r(596332),tm=r(776712),t_=r(615908),th=r(109948),tg=r(308287),tf=r(245800),tE=r(530456),ty=r(644912);let tb={place:{svg:Q.c,ui3Icon:n.createElement(i.A,null)},"crop-image":{svg:ee.c,ui3Icon:n.createElement(a.Y,null)},"create-section-from-selection":{svg:X.c,ui3Icon:n.createElement(o.I,null)},"add-selection-ready-status":{svg:ew.c,ui3Icon:n.createElement(l.a,null)},"remove-selection-ready-status":{svg:ew.c,ui3Icon:n.createElement(l.a,null)},"export-selected-exportables":{svg:en.c,ui3Icon:n.createElement(i.A,null)},"live-boolean-intersect":{svg:el.c,ui3Icon:n.createElement(s.I,null)},"live-boolean-subtract":{svg:es.c,ui3Icon:n.createElement(c.m,null)},"live-boolean-union":{svg:ec.c,ui3Icon:n.createElement(d.o,null)},"live-boolean-xor":{svg:ed.c,ui3Icon:n.createElement(u.q,null)},"mask-selection":{svg:eu.c,ui3Icon:n.createElement(p.E,null)},"request-edit-mode-via-toolbar":{svg:eg.c,ui3Icon:n.createElement(m.W,null)},"toggle-menu":{svg:eT.c,ui3Icon:n.createElement(i.A,null)},"create-multiple-symbols":{svg:null,ui3Icon:n.createElement(_.s,null)},"create-multiple-symbols-and-state-group":{svg:null,ui3Icon:n.createElement(h.Q,null)},"toggle-pixel-preview":{svg:eS.c,ui3Icon:n.createElement(i.A,null)},"toggle-show-resolved-comments":{svg:eC.c,ui3Icon:n.createElement(i.A,null)},"zoom-in":{svg:eA.c,ui3Icon:n.createElement(i.A,null)},"zoom-out":{svg:eO.c,ui3Icon:n.createElement(i.A,null)},"align-bottom":{svg:Y.c,ui3Icon:n.createElement(i.A,null)},"align-horizontal-center":{svg:q.c,ui3Icon:n.createElement(i.A,null)},"align-left":{svg:j.c,ui3Icon:n.createElement(i.A,null)},"align-right":{svg:$.c,ui3Icon:n.createElement(i.A,null)},"align-top":{svg:Z.c,ui3Icon:n.createElement(i.A,null)},"align-vertical-center":{svg:z.c,ui3Icon:n.createElement(i.A,null)},"distribute-horizontal-spacing":{svg:et.c,ui3Icon:n.createElement(i.A,null)},"distribute-vertical-spacing":{svg:er.c,ui3Icon:n.createElement(i.A,null)},"flatten-selection":{svg:ei.c,ui3Icon:n.createElement(g.i,null)},"create-symbol":{svg:J.c,ui3Icon:n.createElement(f.m,null)},"reset-symbol":{svg:ef.c,ui3Icon:n.createElement(E.S,null)},"add-variant":{svg:K.c,ui3Icon:n.createElement(y.A,null)},"multi-edit-text":{svg:ep.c,ui3Icon:n.createElement(b._,null)},"focus-mode-component-set-toggle":{svg:ea.c,ui3Icon:n.createElement(v.S,null)},"select-matching":{svg:eb.c,ui3Icon:n.createElement(I.s,null)},"text-edit-hyperlink":{svg:eo.c,ui3Icon:n.createElement(w.E,null)},"component-insert":{svg:eE.c,ui3Icon:n.createElement(i.A,null)},"present-as-prototype":{svg:em.c,ui3Icon:n.createElement(T.q,null)},"present-slides-audience-view":{svg:ev.c,ui3Icon:n.createElement(T.q,null)},"present-slides-presenter-view":{svg:eI.c,ui3Icon:n.createElement(S.g,null)},"show-april-fun-modal":{svg:eI.c,ui3Icon:n.createElement(S.g,null)},"toggle-inline-preview":{svg:e_.c,ui3Icon:n.createElement(C.Y,null)},"toggle-inline-html-preview":{svg:eh.c,ui3Icon:n.createElement(A.e,null)},"resize-to-fit":{svg:e5.c,ui3Icon:n.createElement(O.q,null)},"detach-instance":{svg:null,ui3Icon:n.createElement(N.w,null)},"push-changes-to-main":{svg:null,ui3Icon:n.createElement(L.u,null)},"reset-size":{svg:null,ui3Icon:n.createElement(R.g,null)},"reset-exports":{svg:null,ui3Icon:n.createElement(P.I,null)},"reset-effects":{svg:null,ui3Icon:n.createElement(M.e,null)},"reset-layer":{svg:null,ui3Icon:n.createElement(k.g,null)},"reset-visible":{svg:null,ui3Icon:n.createElement(D.S,null)},"reset-name":{svg:null,ui3Icon:n.createElement(F.K,null)},"reset-fill":{svg:null,ui3Icon:n.createElement(x.k,null)},"reset-stroke":{svg:null,ui3Icon:n.createElement(U.C,null)},"reset-text":{svg:null,ui3Icon:n.createElement(B.A,null)},"reset-text-style":{svg:null,ui3Icon:n.createElement(G.w,null)},"reset-prototype-interactions":{svg:null,ui3Icon:n.createElement(V.M,null)},"reset-overlay":{svg:null,ui3Icon:n.createElement(H.e,null)}},tv={"component-insert":ey.c};function tI(e){return tb[e]??null}function tw(e){var t;return(null==(t=tI(e))?void 0:t.svg)??null}function tT(e){return tv[e]??null}function tS(e){var t;return(null==(t=tC(e))?void 0:t.svg)??null}function tC(e){switch(e){case W.w3X.NONE:break;case W.w3X.SELECT:return{svg:ta.c,ui3Icon:n.createElement(i.A,null)};case W.w3X.HAND:return{svg:tn.c,ui3Icon:n.createElement(i.A,null)};case W.w3X.COMMENTS:return{svg:te.c,ui3Icon:n.createElement(i.A,null)};case W.w3X.DROPPER_COLOR:break;case W.w3X.FRAME:return{svg:tr.c,ui3Icon:n.createElement(i.A,null)};case W.w3X.STACK:return{svg:tc.c,ui3Icon:n.createElement(i.A,null)};case W.w3X.SLICE:return{svg:ts.c,ui3Icon:n.createElement(i.A,null)};case W.w3X.SECTION:return{svg:tl.c,ui3Icon:n.createElement(i.A,null)};case W.w3X.SHAPE_STAR:return{svg:e4.c,ui3Icon:n.createElement(i.A,null)};case W.w3X.SHAPE_LINE:return{svg:eW.c,ui3Icon:n.createElement(i.A,null)};case W.w3X.SHAPE_ARROW:return{svg:eN.c,ui3Icon:n.createElement(i.A,null)};case W.w3X.SHAPE_ELLIPSE:return{svg:eF.c,ui3Icon:n.createElement(i.A,null)};case W.w3X.SHAPE_RECTANGLE:return{svg:eX.c,ui3Icon:n.createElement(i.A,null)};case W.w3X.SHAPE_REGULAR_POLYGON:return{svg:eJ.c,ui3Icon:n.createElement(i.A,null)};case W.w3X.SHAPE_WHITEBOARD_SQUARE:return{svg:eX.c,ui3Icon:n.createElement(i.A,null)};case W.w3X.SHAPE_WHITEBOARD_ELLIPSE:return{svg:eF.c,ui3Icon:n.createElement(i.A,null)};case W.w3X.SHAPE_WHITEBOARD_DIAMOND:return{svg:eM.c,ui3Icon:n.createElement(i.A,null)};case W.w3X.SHAPE_WHITEBOARD_TRIANGLE_UP:return{svg:eJ.c,ui3Icon:n.createElement(i.A,null)};case W.w3X.SHAPE_WHITEBOARD_TRIANGLE_DOWN:return{svg:e8.c,ui3Icon:n.createElement(i.A,null)};case W.w3X.SHAPE_WHITEBOARD_ROUNDED_RECTANGLE:return{svg:e0.c,ui3Icon:n.createElement(i.A,null)};case W.w3X.SHAPE_WHITEBOARD_PARALLELOGRAM_RIGHT:return{svg:e$.c,ui3Icon:n.createElement(i.A,null)};case W.w3X.SHAPE_WHITEBOARD_PARALLELOGRAM_LEFT:return{svg:ej.c,ui3Icon:n.createElement(i.A,null)};case W.w3X.SHAPE_WHITEBOARD_ENG_DATABASE:return{svg:ex.c,ui3Icon:n.createElement(i.A,null)};case W.w3X.SHAPE_WHITEBOARD_ENG_QUEUE:return{svg:eG.c,ui3Icon:n.createElement(i.A,null)};case W.w3X.SHAPE_WHITEBOARD_ENG_FILE:return{svg:eU.c,ui3Icon:n.createElement(i.A,null)};case W.w3X.SHAPE_WHITEBOARD_ENG_FOLDER:return{svg:eB.c,ui3Icon:n.createElement(i.A,null)};case W.w3X.SHAPE_WHITEBOARD_TRAPEZOID:return{svg:e6.c,ui3Icon:n.createElement(i.A,null)};case W.w3X.SHAPE_WHITEBOARD_SHIELD:return{svg:e1.c,ui3Icon:n.createElement(i.A,null)};case W.w3X.SHAPE_WHITEBOARD_HEXAGON:return{svg:eV.c,ui3Icon:n.createElement(i.A,null)};case W.w3X.SHAPE_WHITEBOARD_PENTAGON:return{svg:eZ.c,ui3Icon:n.createElement(i.A,null)};case W.w3X.SHAPE_WHITEBOARD_OCTAGON:return{svg:eY.c,ui3Icon:n.createElement(i.A,null)};case W.w3X.SHAPE_WHITEBOARD_PLUS:return{svg:ez.c,ui3Icon:n.createElement(i.A,null)};case W.w3X.SHAPE_WHITEBOARD_PREDEFINED_PROCESS:return{svg:eQ.c,ui3Icon:n.createElement(i.A,null)};case W.w3X.SHAPE_WHITEBOARD_MANUAL_INPUT:return{svg:eK.c,ui3Icon:n.createElement(i.A,null)};case W.w3X.SHAPE_WHITEBOARD_CHEVRON:return{svg:eP.c,ui3Icon:n.createElement(i.A,null)};case W.w3X.SHAPE_WHITEBOARD_DOCUMENT_SINGLE:return{svg:eD.c,ui3Icon:n.createElement(i.A,null)};case W.w3X.SHAPE_WHITEBOARD_DOCUMENT_MULTIPLE:return{svg:ek.c,ui3Icon:n.createElement(i.A,null)};case W.w3X.SHAPE_WHITEBOARD_ARROW_LEFT:return{svg:eL.c,ui3Icon:n.createElement(i.A,null)};case W.w3X.SHAPE_WHITEBOARD_ARROW_RIGHT:return{svg:eR.c,ui3Icon:n.createElement(i.A,null)};case W.w3X.SHAPE_WHITEBOARD_SUMMING_JUNCTION:return{svg:e3.c,ui3Icon:n.createElement(i.A,null)};case W.w3X.SHAPE_WHITEBOARD_OR:return{svg:eq.c,ui3Icon:n.createElement(i.A,null)};case W.w3X.SHAPE_WHITEBOARD_SPEECH_BUBBLE:return{svg:e2.c,ui3Icon:n.createElement(i.A,null)};case W.w3X.SHAPE_WHITEBOARD_INTERNAL_STORAGE:return{svg:eH.c,ui3Icon:n.createElement(i.A,null)};case W.w3X.VECTOR_PEN:return{svg:th.c,ui3Icon:n.createElement(i.A,null)};case W.w3X.VECTOR_PENCIL:return{svg:tg.c,ui3Icon:n.createElement(i.A,null)};case W.w3X.ERASER:return{svg:tt.c,ui3Icon:n.createElement(i.A,null)};case W.w3X.VECTOR_BEND:return{svg:tm.c,ui3Icon:n.createElement(i.A,null)};case W.w3X.VECTOR_PAINT_BUCKET:return{svg:t_.c,ui3Icon:n.createElement(i.A,null)};case W.w3X.TYPE:return{svg:tp.c,ui3Icon:n.createElement(i.A,null)};case W.w3X.SCALE:return{svg:to.c,ui3Icon:n.createElement(i.A,null)};case W.w3X.STICKY:return{svg:td.c,ui3Icon:n.createElement(i.A,null)};case W.w3X.STAMP:return{svg:e7.c,ui3Icon:n.createElement(i.A,null)};case W.w3X.CONNECTOR_ELBOWED:return{svg:tE.c,ui3Icon:n.createElement(i.A,null)};case W.w3X.CONNECTOR_STRAIGHT:return{svg:ty.c,ui3Icon:n.createElement(i.A,null)};case W.w3X.CODE_BLOCK:return{svg:tr.c,ui3Icon:n.createElement(i.A,null)};case W.w3X.WASHI_TAPE:return{svg:tf.c,ui3Icon:n.createElement(i.A,null)};case W.w3X.TABLE:return{svg:tu.c,ui3Icon:n.createElement(i.A,null)};case W.w3X.ANNOTATE:return{svg:e9.c,ui3Icon:n.createElement(i.A,null)};case W.w3X.MEASURE:return{svg:ti.c,ui3Icon:n.createElement(i.A,null)}}return null}let tA=new Path2D("M5 0C2.23857 0 0 2.23857 0 5V35C0 37.7614 2.23857 40 5 40H35C37.7614 40 40 37.7614 40 35V5C40 2.23857 37.7614 0 35 0H5ZM16.2875 29.6971L21.2875 9.69726L23.7127 10.3035L18.7127 30.3034L16.2875 29.6971ZM11.6163 14.1165L6.61626 19.1165L5.73251 20.0005L6.61626 20.8843L11.6163 25.8843L13.384 24.1165L9.268 20.0005L13.384 15.8843L11.6163 14.1165ZM28.384 14.1165L33.384 19.1165L34.268 20.0005L33.384 20.8843L28.384 25.8843L26.6163 24.1165L30.7326 20.0005L26.6163 15.8843L28.384 14.1165Z"),tO=40},223972:(e,t,r)=>{"use strict";let n;r.d(t,{Wg:()=>n,_g:()=>g,qO:()=>_});var i=r(641820),a=r(341296),o=r(854096),l=r(858880),s=r(762056),c=r(197788),d=r(481556),u=r(778436);let p="None",m={ALT:256,META:512,SHIFT:1024,CONTROL:2048,RIGHTALT:4096};function _(e){let t=[];return 2048&e.modifierMask&&t.push("Control"),256&e.modifierMask&&t.push("Alt"),1024&e.modifierMask&&t.push("Shift"),512&e.modifierMask&&t.push("Meta"),4096&e.modifierMask&&t.push("RightAlt"),e.key!==p&&t.push(e.key),t.join("+")}class h{constructor(e){this.getFullscreenMenuItem=e=>{var t;let r=null==(t=this.store)?void 0:t.getState();if(!r){console.warn("[CustomKeyboardShortcuts] no state found");return}if("fullscreen"!==r.selectedView.view){console.warn("[CustomKeyboardShortcuts] attempted to dispatch an action outside of fullscreen");return}let n=(0,l.M9)(r),i=(0,l.Y$)(r,{isRecovery:!1,fullscreenMemoryWarningLevel:d.Wc.SAFE,unreadCommentCount:void 0,pluginAndWidgetMenuArgs:n}),o=(0,a.q)({appModel:r.mirror.appModel,extensionMenuProps:n,includeDisabled:!1});return new c.G(r.mirror.appModel,r.selectedView,[...i,...o]).getItem(r.mirror.appModel,e)},this.getCallback=e=>{var t;let r=this.getFullscreenMenuItem(e);return r&&r.callback&&(null==(t=this.store)?void 0:t.dispatch)?(console.log("[CustomKeyboardShortcut] found action and running callback",{menuItem:r,itemDisplayText:e}),()=>r.callback((0,o.CB)(r),r.args,this.store.dispatch)):(console.warn("[CustomKeyboardShortcut] could not find item for given action",{menuItem:r,itemDisplayText:e}),null)},this.store=e.store}getCustomKeyboardShortcuts(){if(!this.store)return[];let{userFlags:e}=this.store.getState();if(!s.YP.customKeyboardShortcuts.getEffectiveValue(e))return[];let t=(0,i.QF)(),r=[];return Object.entries(t).forEach(([e,{type:t,action:n}])=>{let a;try{a=this.getKeyboardShortcutFromText(e,null)}catch(e){a=null}let o=i.yO.get(t);if(null===a||void 0===o){console.warn("[CustomKeyboardShortcuts] unable to parse shortcut or shortcutActionType",{actionType:o,text:e});return}r.push({keyboardShortcut:a,type:o,action:n})}),console.log("[CustomKeyboardShortcuts] received request to fetch custom keyboard shortcuts",{shortcutsStorage:t,shortcuts:r}),r}dispatchAction(e){console.log("[CustomKeyboardShortcuts] received request to dispatch",{action:e});let t=this.getCallback(e);return!!t&&(t(),!0)}getDisplayStringFromKey(e){let t=u.s.isApple();switch(e.toUpperCase()){case"'":return"\u2032";case"-":return"\u2013";case"ESCAPE":return"\u238B";case"ENTER":return"\u21A9";case"RETURN":return"\u23CE";case"TAB":return"\u21E5";case"LEFT":return"\u2190";case"RIGHT":return"\u2192";case"UP":return"\u2191";case"DOWN":return"\u2193";case"DELETE":return"\u2326";case"BACKSPACE":return"\u232B";case"CAPS LOCK":return"\u21EA";case"CONTROL":return t?"\u2303":"Ctrl";case"ALT":case"RIGHTALT":return t?"\u2325":"Alt";case"SHIFT":return t?"\u21E7":"Shift";case"META":return t?"\u2318":u.s.isWindows()?"Win":"Meta";default:return e}}getKeyboardShortcutFromText(e,t){let r=p,n=0,i=e.split("+");for(let e of(i.length>0&&""===i[i.length-1]&&(i.pop(),i.length>0&&(i[i.length-1]=i[i.length-1]+"+")),i)){if(""===e)continue;let t=m[e.toUpperCase()];if(e===p||t&&(n&t)>0)return null;if(t&&(7936&t)!=0)n|=t;else{if(r!==p)return null;r=e}}return r===p&&0===n?null:{key:r,modifierMask:n,originalText:e,displayName:t}}getTextFromKeyboardShortcut(e){let t=u.s.isApple(),r=(e.displayName?this.getKeyboardShortcutFromText(e.displayName,null):null)??e,n=[];return 2048&r.modifierMask&&n.push(this.getDisplayStringFromKey("Control")),256&r.modifierMask&&n.push(this.getDisplayStringFromKey("Alt")),1024&r.modifierMask&&n.push(this.getDisplayStringFromKey("Shift")),512&r.modifierMask&&n.push(this.getDisplayStringFromKey("Meta")),4096&r.modifierMask&&n.push(this.getDisplayStringFromKey("RightAlt")),r.key!==p&&n.push(this.getDisplayStringFromKey(r.key)),t?n.join(""):n.join("+")}}function g(e){n=new h({store:e})}},200740:(e,t,r)=>{"use strict";r.d(t,{Af:()=>x,Ar:()=>M,C0:()=>R,IJ:()=>B,Md:()=>y,Qf:()=>v,Sl:()=>w,cP:()=>A,cb:()=>f,kb:()=>m,mR:()=>N,qo:()=>H,s5:()=>V,sf:()=>h,ui:()=>D,yP:()=>S});var n=r(307824),i=r(120304),a=r(972920),o=r(843148),l=r(219096),s=r(836780),c=r(939540),d=r(84656),u=r(762820);let{action:p,reducer:m}=(0,s.CQ)("SYNC_PUBLISHABLE_SYMBOLS",[]),{action:_,reducer:h}=(0,s.CQ)("SYNC_PUBLISHABLE_STATE_GROUPS",[]),{action:g,reducer:f}=(0,s.CQ)("SYNC_PUBLISHABLE_STYLES",[]),{action:E,reducer:y}=(0,s.CQ)("SYNC_PUBLISHABLE_MODULES",[]),{action:b,reducer:v}=(0,s.CQ)("SYNC_SUBSCRIBED_SYMBOLS",[]),{action:I,reducer:w}=(0,s.CQ)("SYNC_SUBSCRIBED_SYMBOLS_ON_CURRENT_PAGE",[]),{action:T,reducer:S}=(0,s.CQ)("SYNC_SUBSCRIBED_STATE_GROUPS",[]),{action:C,reducer:A}=(0,s.CQ)("SYNC_SUBSCRIBED_STATE_GROUPS_ON_CURRENT_PAGE",[]),{action:O,reducer:N}=(0,s.CQ)("SYNC_DIRECTLY_SUBSCRIBED_STYLES",[]),{action:L,reducer:R}=(0,s.CQ)("SYNC_DIRECTLY_SUBSCRIBED_STYLES_ON_CURRENT_PAGE",[]),{action:P,reducer:M}=(0,s.CQ)("SYNC_INDIRECTLY_SUBSCRIBED_STYLES",[]),{action:k,reducer:D}=(0,s.CQ)("SYNC_LOCAL_SYMBOLS_THAT_HAVE_USAGES",[]),{action:F,reducer:x}=(0,s.CQ)("SYNC_LOCAL_SYMBOLS_THAT_HAVE_USAGES_ON_CURRENT_PAGE",[]),{action:U,reducer:B}=(0,s.CQ)("SYNC_LOCAL_STYLES_THAT_HAVE_USAGES",[]),{action:G,reducer:V}=(0,s.CQ)("SYNC_LOCAL_STYLES_THAT_HAVE_USAGES_ON_CURRENT_PAGE",[]);function H(){let e=(0,o.Ub)().dse_editor_templates_v1,t=(0,i.o3)();n.useEffect(()=>(function(e){let t=()=>(0,c.wT)(e),r=(0,a.W)(t),n="normal",i=e.subscribe(()=>{let{activeUserAction:r,multiplayerSessionState:i}=e.getState().mirror.appModel,a=function(e){switch(e){case u.Sbl.DEFAULT:case u.Sbl.SELECTING_TEXT:case u.Sbl.CLICKING_TO_CHANGE_SELECTION:return!1;case u.Sbl.DRAGGING:case u.Sbl.RESIZING:case u.Sbl.ROTATING:return!0}}(r)||i===u.XcX.DETACHED;"normal"===n&&a?n="paused":"paused"!==n||a?"enqueued"!==n||a||(t(),n="normal"):n="normal"}),{publishableSymbols:l,publishableStateGroups:s,publishableStyles:d,publishableModules:m}=u.KEP.libraryAssets(),h=W(e,[{observable:l,action:p},{observable:s,action:_},{observable:d,action:g},...(0,o.Ub)().dse_editor_templates_v1?[{observable:m,action:E}]:[]],()=>{"normal"===n?r():n="enqueued"});return()=>{h(),i(),r.cancel()}})(t),[t,e]),n.useEffect(()=>(function(e){let{subscribedSymbols:t,subscribedStateGroups:r}=u.KEP.libraryAssets();return W(e,[{observable:t,action:b},{observable:r,action:T}],()=>e.dispatch((0,l.WM)()))})(t),[t]),n.useEffect(()=>(function(e){let{localSymbolsThatHaveUsages:t,directlySubscribedStyles:r,indirectlySubscribedStyles:n,localStylesThatHaveUsages:i}=u.KEP.libraryAssets();return W(e,[{observable:r,action:O},{observable:n,action:P},{observable:t,action:k},{observable:i,action:U}])})(t),[t]),n.useEffect(()=>(function(e){let{subscribedSymbolsOnCurrentPage:t,subscribedStateGroupsOnCurrentPage:r,directlySubscribedStylesOnCurrentPage:n,localSymbolsThatHaveUsagesOnCurrentPage:i,localStylesThatHaveUsagesOnCurrentPage:a}=u.KEP.libraryAssets();return W(e,[{observable:t,action:I},{observable:r,action:C},{observable:n,action:L},{observable:i,action:F},{observable:a,action:G}])})(t),[t])}function W(e,t,r){let n=[];for(let{observable:i,action:a}of t)e.dispatch(a(i.getCopy())),null==r||r(),n.push((0,d.WS)(i,{onChangeDeferred:()=>{e.dispatch(a(i.getCopy())),null==r||r()}}));return()=>{for(let e of n)e()}}},138884:(e,t,r)=>{"use strict";let n;r.d(t,{AX:()=>R,B9:()=>G,EJ:()=>x,Eh:()=>B,G2:()=>w,JX:()=>Y,KS:()=>W,Mr:()=>N,OE:()=>A,Si:()=>U,WU:()=>M,WW:()=>E,WY:()=>O,_A:()=>S,a6:()=>V,aN:()=>y,ao:()=>D,cX:()=>F,eQ:()=>T,ei:()=>P,em:()=>L,g$:()=>K,gc:()=>C,i4:()=>j,ii:()=>X,mg:()=>b,mo:()=>I,nm:()=>J,o7:()=>H,q4:()=>k,uc:()=>v});var i=r(250008),a=r(288136),o=r(916924),l=r(972920),s=r(899116),c=r(669576),d=r(161400),u=r(50451),p=r(4596),m=r(585508),_=r(762820),h=r(540696),g=r(570012),f=r(131748);let E=p.MR(p.WW);function y(e){_.GqY.addToSelection(e)}function b(e){_.GqY.removeFromSelection(e)}function v(e,t=!0){_.GqY.replaceSelection(e,t)}function I(){_.GqY.clearSelection()}function w(e,t){_.GqY.selectNodesInRange(e,t)}function T(e,t,r=_.EJk.SCROLLS){_.GqY.transferSelection(e,t,r),f.qM.reportEditAction("reorder-layers")}function S(e,t,r=_.EJk.SCROLLS){_.GqY.duplicateSelection(e,t,r),f.qM.reportEditAction("duplicate-layers")}function C(e,t){var r;let n=null==(r=d.x)?void 0:r.getState().mirror.sceneGraph.get(e);n&&(n.name=t)}function A(e,t){var r;let n=null==(r=d.x)?void 0:r.getState().mirror.sceneGraph.get(e);n&&(n.isExpanded=t)}function O(e,t){var r;let n=null==(r=d.x)?void 0:r.getState().mirror.sceneGraph.get(e);n&&(n.isTemporarilyExpanded=t)}function N(e,t){var r;let n=null==(r=d.x)?void 0:r.getState().mirror.sceneGraph.get(e);n&&(n.isSymbolPublishable=t)}function L(e,t){var r;let n=null==(r=d.x)?void 0:r.getState().mirror.sceneGraph.get(e);n&&(n.isPublishable=t)}function R(e,t){var r;let n=null==(r=d.x)?void 0:r.getState().mirror.sceneGraph.get(e);n&&(n.styleDescription=t)}function P(e){_.GqY.expandUpToRoot(e)}function M(e,t){_.GqY.setExpandedRecursive(e,t)}function k(e,t){_.GqY.setSelectionExpanded(e,t)}function D(e){var t;null==(t=_.i46)||t.updateAppModel(e)}function F(e){D({hoveredNode:e})}function x(e){_.KEP.uiState().hoveredComponentPropDef.set(e)}function U(e){D({temporarilyExpandedInstanceLayers:e})}function B(e){D({devHandoffCodeLanguage:e})}function G(e){D({devHandoffPreferences:e})}function V(){var e;return null==(e=_.KEP)?void 0:e.propertiesPanelState().propertiesPanelTab}function H(e){var t;return null==(t=V())?void 0:t.set(e)}function W(e){D({activeTextReviewPlugin:e})}function K(e,t,r){_.GqY.setNodeLocked(e,t,r)}function Y(e,t,r){_.GqY.setNodeVisible(e,t,r)}let q=["x","y","width","height","minWidth","minHeight","maxWidth","maxHeight","angle","canBecomeFrame","canBecomeGroup","canBecomeSection","miterLimitAngle","terminalCap","dashCap","availableOTFeaturesForSelection","availableOTFeaturesForFonts","toggledOnOTFeaturesForSelection","toggledOffOTFeaturesForSelection","mixedStateOTFeaturesForSelection","detectedList","destinationOverlayPositionType","destinationOverlayBackgroundInteraction","destinationOverlayBackgroundType","destinationOverlayBackgroundColor","name","numSelected","numSelectedByType","arcStart","arcSweep","arcRadius","fontFamily","previewFontFamily","fontStyle","fontVariations","intrinsicLineHeight","textContent","prototypeInteractions","prototypeInheritedInternalInteractions","isValidPrototypingSourceSelected","selectionIsHyperlink","whiteboardControls","whiteboardColor","whiteboardDividedSwatchColors","whiteboardFontFamilies","whiteboardFontSizes","whiteboardTextAlignHorizontal","whiteboardStrokeStyle","whiteboardNumSelected","whiteboardNumSelectedByType","whiteboardSelectionCanSummarize","whiteboardSelectionCanCluster","whiteboardSelectionCanShowAiOnboardingBadge","whiteboardStickyAIControlsShown","whiteboardMindmapAIControlsShown","nodeSelectedValidForQuickAdd","whiteboardStrokeWeight","whiteboardCodeBlockLanguage","washiTapePaint","washiTapePaintIsMixed","connectorLineStyleForSelection","connectorStartCapForSelection","connectorEndCapForSelection","connectorTextBackgroundTransparent","leftEndCap","rightEndCap","maxStrokeWeight","shapeWithTextTypeForSelection","shapeWithTextFillType","shapeWithTextOpacityOverride","authorVisibility","imageAspectRatio","imageHasNoStroke","imageOverlayColor","sectionContentsHidden","isSection","variableConsumptionInfo","borderTopVisible","borderRightVisible","borderBottomVisible","borderLeftVisible","borderSharedWeight","stackCounterSpacing","directlySubscribedAssetKeys","numVideosSelected","videoAutoplay","videoMediaLoop","videoMuted","themeId","shadow","blur"];function j(e,t,r,n,i){a.K4.start("update-selection-properties");try{!function(e,t,r,n,i){var a,l;let s={...e},c=function(e){let t=Object.create(null);for(let r of q)if(r in e){let n=e[r];n!==h.ee&&(t[r]=n),delete e[r]}return t}(s),d=function(e){let t={guid:{sessionID:0,localID:0}};for(let r in e){let n=e[r];n!==h.ee&&(t[r]=n)}return t}(s);if(n=function(e){switch(e){case g.MO.YES:case g.MO.YES_FORCE_TRACKING_AS_EDIT:case g.MO.YES_WITHOUT_TRACKING_AS_EDIT:return g.MO.YES;default:return g.MO.NO}}(n),null==t?void 0:t.guid){if(c){let e=c.fontFamily&&c.fontStyle;if((0,o.kz)(!e,"UI should never simultaneously update font family and style"),c.fontFamily&&t.fontStyle&&(d.fontName={family:c.fontFamily,style:t.fontStyle,postscript:""}),t.fontFamily&&c.fontStyle&&(d.fontName={family:t.fontFamily,style:c.fontStyle,postscript:""}),c.fontVariations&&(d.fontVariations=c.fontVariations),null==(a=c.variableConsumptionInfo)?void 0:a.variableConsumptionMap){let e=c.variableConsumptionInfo.variableConsumptionMap;d.variableConsumptionMap=(0,g.Qv)(e)}}let e=u.O.encodeMessage({type:"NODE_CHANGES",sessionID:0,ackID:0,nodeChanges:[d]});null==(l=_.i46)||l.updateSelectedStyleProperties(e,r,n===g.MO.YES),(0,o.kz)(null!=t.styleType,"unknown style type"),$(t.styleType)}else{let e=u.O.encodeMessage({type:"NODE_CHANGES",sessionID:0,ackID:0,nodeChanges:[d]});_.GqY.updateSelectionProperties(c,r,i,n===g.MO.YES,e)}}(e,t,r,n,i)}catch(e){throw e}finally{a.K4.stop("update-selection-properties")}}let $=(0,l.C)(e=>{(0,i.we)("Style Edited",{styleType:e})},500),Z=Object.create(null);var z=((n=z||{})[n.SceneGraph=0]="SceneGraph",n[n.AppModel=1]="AppModel",n[n.Selection=2]="Selection",n[n.SelectionProperties=3]="SelectionProperties",n);let Q=new Set([0,1,2,3]);function X(e=Q){e.has(0)&&m.CA.fromFullscreen.on("sceneGraphMirrorUpdate",ee),e.has(2)&&(m.CA.fromFullscreen.on("selection:addSelectors",er),m.CA.fromFullscreen.on("selection:removeSelectors",en),m.CA.fromFullscreen.on("selection:replaceSelectors",ei)),e.has(1)&&m.CA.fromFullscreen.on("updateAppModel",ea),e.has(3)&&m.CA.fromFullscreen.on("selectionPropertiesUpdate",eo)}function J(){let e=Z;return Z=Object.create(null),e}function ee(e){(0,o.kz)(!Z.invalidateSceneGraph,"We should get at most one sceneGraphMirrorUpdate per frame. We got two."),Z.invalidateSceneGraph={rebuildRows:!e||e.rebuildRows}}function et(e,t){return e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24}function er(e){var t,r,n;(0,o.kz)(!(null==(t=Z.selection)?void 0:t.replace),"addSelectors and replaceSelectors called on the same frame"),Z.selection||(Z.selection=Object.create(null)),(r=Z.selection).add||(r.add=Object.create(null)),(n=Z.selection).userTriggered||(n.userTriggered=e.userTriggered);let i=e.buffer;if(i)for(let e=0;e<i.length;e+=8){let t=et(i,e),r=et(i,e+4),n=p.MR({sessionID:t,localID:r});Z.selection.add[n]=!0}}function en(e){var t,r,n;(0,o.kz)(!(null==(t=Z.selection)?void 0:t.replace),"removeSelectors and replaceSelectors called on the same frame"),Z.selection||(Z.selection=Object.create(null)),(r=Z.selection).remove||(r.remove=Object.create(null)),(n=Z.selection).userTriggered||(n.userTriggered=e.userTriggered);let i=e.buffer;if(i)for(let e=0;e<i.length;e+=8){let t=et(i,e),r=et(i,e+4),n=p.MR({sessionID:t,localID:r});Z.selection.remove[n]=!0}}function ei(e){var t,r,n,i;(0,o.kz)(!(null==(t=Z.selection)?void 0:t.add),"addSelectors and replaceSelectors called on the same frame"),(0,o.kz)(!(null==(r=Z.selection)?void 0:r.remove),"removeSelectors and replaceSelectors called on the same frame"),Z.selection||(Z.selection=Object.create(null)),(n=Z.selection).replace||(n.replace=Object.create(null)),(i=Z.selection).userTriggered||(i.userTriggered=e.userTriggered);let a=e.buffer;if(a)for(let e=0;e<a.length;e+=8){let t=et(a,e),r=et(a,e+4),n=p.MR({sessionID:t,localID:r});Z.selection.replace[n]=!0}}function ea({changes:e,shouldIgnoreUserPrefs:t}){if(s.sZ){let t={},r={},n="actionEnabled__";for(let i of Object.keys(e))if(i.startsWith(n))t[i.substr(n.length)]=e[i].value;else{let t=(0,c.G)(i);if(void 0!==t){let n=e[i].value;for(let{name:e,propertyValue:i}of t.actions)r[e]=n===i}}let i=Object.keys(t).length>0,a=Object.keys(r).length>0;(i||a)&&s.sZ.updateFullscreenMenuState({actionEnabledState:i?t:void 0,actionCheckedState:a?r:void 0})}let r=Object.create(null),n=Object.create(null);for(let i in e)r[i]=e[i].value,n[i]=null==t?void 0:t[i];Z.appModelChanges={...Z.appModelChanges,...r},Z.appModelChangesShouldIgnoreUserPrefs={...Z.appModelChangesShouldIgnoreUserPrefs,...n}}function eo(e){let t=e.buffer&&e.buffer.length>0?u.O.decodeMessage(e.buffer):null;delete e.buffer,(0,o.kz)(!Z.selectionProperties,"Updating selectionProperties multiple times on a frame"),Z.selectionProperties={message:t,derivedProperties:e}}},768820:(e,t,r)=>{"use strict";r.d(t,{GS:()=>w,K2:()=>A,Os:()=>S,Si:()=>h,aI:()=>b,cp:()=>y,m_:()=>T,qi:()=>f,uU:()=>E,w9:()=>g,xY:()=>O,yk:()=>C}),r(843148);var n=r(372152),i=r(326660),a=r(234284),o=r(585508),l=r(762820),s=r(901092),c=r(492084),d=r(348916);r(907152);let u=null,p=0,m=!1,_=!1;function h(e){switch(e){case l.XcX.UNJOINED:return"unjoined";case l.XcX.UNJOINED_FROM_ERROR:return"unjoined_from_error";case l.XcX.UNJOINED_FROM_VALIDATION_FAILURE:return"unjoined_from_validation_failure";case l.XcX.GOT_SCHEMA:return"got_schema";case l.XcX.JOINING_INITIAL_LOAD:return"joining_initial_load";case l.XcX.JOINING_RECONNECT:return"joining_reconnect";case l.XcX.JOINING_RECONNECT_AWAITING_QUERY_REPLY:return"joining_reconnect_awaiting_query_reply";case l.XcX.JOINED:return"joined";case l.XcX.SHOULD_UPGRADE:return"should_upgrade";case l.XcX.UPGRADING:return"upgrading";case l.XcX.WAITING_FOR_RELOAD:return"waiting_for_reload";case l.XcX.DETACHED:return"detached";default:return"unknown"}}function g(){_||(_=!0,setInterval(()=>o.CA.isReady()&&l.Abq.updateConnectionStateIfNeeded(!1),250),window.addEventListener("online",()=>{navigator.onLine&&o.CA.isReady()&&l.Abq.updateConnectionStateIfNeeded(!0)}),window.addEventListener("visibilitychange",()=>{"visible"===document.visibilityState&&o.CA.isReady()&&l.Abq.updateConnectionStateIfNeeded(!0)}))}function f(e){u||(u=function(){try{let e=new Blob(["("+function(){onmessage=e=>setTimeout(()=>self.postMessage(""),e.data)}+")()"],{type:"text/javascript"}),t=new Worker(URL.createObjectURL(e));return(e,r)=>{t.onmessage||(t.onmessage=()=>{t.onmessage=null,e()},t.postMessage(r))}}catch(e){return console.error(e),(e,t)=>{setTimeout(e,t)}}}()),p=e,m||function e(){p&&(m=!0,u(function(){m=!1,p&&l.Abq.flush(),e()},p))}()}function E(e){let t=w(),r=T(t);return l.Abq.startLoadingAllPages(t,e),r.then(()=>{n.qM.set(s.sn,!1)}),r}function y(e){let t=w(),r=T(t);return l.Abq.subscribeToGuids(e,t),r}let b=(0,c.w)(()=>l.Abq.isIncrementalSession()||l.Abq.isValidatingIncremental()),v=1,I=new Map,w=()=>v++;function T(e){return new Promise((t,r)=>{I.set(e,[t,r])})}function S(e){let t=I.get(e);if(t){let[r,n]=t;r(),I.delete(e)}}function C(){I.forEach((e,t)=>{let[r,n]=e;n()}),I.clear()}function A(e,t=l.aWZ.CONTAINING_PAGE){(0,a.g9)();let r=w(),n=T(r),i=t===l.aWZ.PLUGIN;return l.Abq.subscribeToContainingPage__DO_NOT_USE_DIRECTLY(e,r,i),n}function O(e){let t=()=>{let r=w();return new Promise(async(t,n)=>{e.delete("0:0"),(0,i.Ij)("Autosave",`Requesting dependencies for ${e.size} nodes while loading incrementally`,void 0,{logToConsole:l.usI.ALWAYS}),await (0,d.Go)(l.XcX.JOINED),I.set(r,[t,n]),l.Abq.autosaveSubscribeToContainingPages(e,r)}).catch(()=>t())};return t()}},655068:(e,t,r)=>{"use strict";r.d(t,{EB:()=>C,GI:()=>b,Gg:()=>N,Kq:()=>I,QR:()=>v,VX:()=>R,aw:()=>m,cB:()=>L,ch:()=>w,ii:()=>O,k9:()=>y,qA:()=>T,w1:()=>p,wb:()=>S});var n=r(916924),i=r(843148),a=r(594192),o=r(50451),l=r(585508),s=r(998e3),c=r(116428),d=r(694472),u=r(540696);let p={r:196/255,g:196/255,b:196/255,a:1},m={r:0,g:0,b:0,a:1},_=[{position:0,color:{r:1,g:1,b:1,a:1}},{position:1,color:{r:1,g:1,b:1,a:0}}],h=_.map(d.Up),g=e=>{let t=c.A.identity();return t.translate(.5,.5),e&&(f(e.leftEndCap)||f(e.rightEndCap))&&(e.angle>=90||e.angle<-90)?t.rotate(Math.PI):!e||e.height>0&&e.width/e.height<=3?(t.rotate(-Math.PI/2),e&&(e.angle<-45&&e.angle>=-135?t.rotate(Math.PI/2):e.angle<-135||e.angle>135?t.rotate(Math.PI):e.angle>45&&e.angle<=135&&t.rotate(-Math.PI/2))):(e.angle>45||e.angle<-135)&&t.rotate(Math.PI),e&&e.hasReflection&&t.rotate(Math.PI),t.translate(-.5,-.5),t.toFigMatrix()},f=e=>{if(!e)return!1;switch(e){case"ARROW_LINES":case"ARROW_EQUILATERAL":case"TRIANGLE_FILLED":case"CIRCLE_FILLED":case"DIAMOND_FILLED":return!0;case"ROUND":case"SQUARE":case"NONE":case"HIGHLIGHT":case"WASHI_TAPE_1":case"WASHI_TAPE_2":case"WASHI_TAPE_3":case"WASHI_TAPE_4":case"WASHI_TAPE_5":case"WASHI_TAPE_6":return!1}},E=null;function y(e){return v(e.type)?e:null}function b(e){return I(e.type)?e:null}function v(e){return null!=e&&-1!==["GRADIENT_LINEAR","GRADIENT_RADIAL","GRADIENT_ANGULAR","GRADIENT_DIAMOND"].indexOf(e)}function I(e){return null!=e&&"SOLID"===e}function w(e){return"IMAGE"!==e.type&&"VIDEO"!==e.type?null:e}function T(e){return!e||(0,u.Er)(e)?null:e.map(w).filter(a.aI)}function S(e){return Array.from(e.hash).map(e=>(e<16?"0":"")+e.toString(16)).join("")}let C=new class{constructor(){this.clearCache=e=>{null!=e?delete this.cache[e]:this.cache={}},this.getId=(e,t,r)=>`${r}-${t}-${e}`,this.initPaint=(e,t,r,n,i,a)=>this.initPaintWithDefaultImagePaint(e,t,r,n,E,a??!1,i),this.getPaintStops=(e,t,r)=>r?[{position:0,color:t},{position:1,color:e}]:[{position:0,color:e},{position:1,color:t}],this.initPaintWithDefaultImagePaint=(e,t,r,n,a,o,l)=>{let s={type:e,opacity:1,visible:!0,blendMode:"NORMAL"};if("SOLID"===e?s.color=t:v(e)?(s.stops=_,s.stopsVar=h,s.transform=g(l)):function(e){return null!=e&&-1!==["IMAGE","VIDEO"].indexOf(e)}(e)&&a&&("VIDEO"===e?this.transferVideoAttributes(a,s):this.transferImageAttributes(a,s)),!r)return s;let c=this.cachePaint(r,n);if(this.transferGeneralAttributes(c,s),"SOLID"===e)c.color?this.transferColorAttributes(c,s):c.stops&&c.stops.length&&this.transferColorAttributes(c.stops[0],s);else if(v(e)){if(c.stops)this.transferGradientAttributes(c,s);else if(c.color){let e=R(c.color,o);s.stops=this.getPaintStops({...c.color,a:1},e,((0,i.Ub)().gradient_tool_improvements&&o)??!1),(0,i.Ub)().gradient_tool_improvements&&l&&f(l.rightEndCap)&&(s.stops=this.getPaintStops(e,{...c.color,a:1},o)),s.stopsVar=s.stops.map(d.Up)}}else"IMAGE"===e?c.image&&c.imageThumbnail&&(this.transferImageAttributes(c,s),s.transform=c.imageTransform):"VIDEO"===e&&c.video&&this.transferVideoAttributes(c,s);return s},this.cachePaint=(e,t)=>(this.cache[t]=this.cache[t]||e,v(e.type)?this.transferGradientAttributes(e,this.cache[t]):"SOLID"===e.type?this.transferColorAttributes(e,this.cache[t]):"IMAGE"===e.type?(this.transferImageAttributes(e,this.cache[t]),this.cache[t].imageTransform=e.transform):"VIDEO"===e.type&&this.transferVideoAttributes(e,this.cache[t]),this.cache[t]),this.transferGeneralAttributes=(e,t)=>{t.opacity=e.opacity,t.blendMode=e.blendMode,t.visible=e.visible},this.transferColorAttributes=(e,t)=>{t.color=e.color},this.transferGradientAttributes=(e,t)=>{t.stops=e.stops,t.stopsVar=e.stopsVar,t.transform=e.transform},this.transferImageAttributes=(e,t)=>{t.image=e.image,t.imageThumbnail=e.imageThumbnail,t.animatedImage=e.animatedImage,t.animationFrame=e.animationFrame,t.imageScaleMode=e.imageScaleMode,t.rotation=e.rotation,t.scale=e.scale,t.paintFilter=e.paintFilter,t.imageShouldColorManage=e.imageShouldColorManage,t.video=void 0},this.transferVideoAttributes=(e,t)=>{t.imageThumbnail=e.imageThumbnail,t.animationFrame=e.animationFrame,t.imageScaleMode=e.imageScaleMode,t.rotation=e.rotation,t.scale=e.scale,t.paintFilter=e.paintFilter,t.video=e.video,t.image=void 0},this.clearCache()}},A=!1;function O(){A||(A=!0,l.CA.fromFullscreen.on("handleDefaultImageStyle",e=>{let t=o.O.decodeMessage(e.buffer);t.nodeChanges&&t.nodeChanges.length>0&&t.nodeChanges[0].fillPaints&&(E=t.nodeChanges[0].fillPaints[0])}),l.CA.onReady().then(()=>{l.CA.DEPRECATED_sendMessage("requestDefaultImageStyle")}))}function N(e,t){let r=w(e);if(!r)return e;if("STRETCH"===r.imageScaleMode){let e=c.A.identity();return e.translate(.5,.5),e.rotate(-(Math.PI/180*t)),e.translate(-.5,-.5),e.multiply(c.A.fromFigMatrix(r.transform)),{...r,transform:e.toFigMatrix()}}return{...r,rotation:r.rotation+t}}function L(e,t){let r=y(e);if(r){let e=r.stops;return t.index<e.length?e[t.index].color:r.stops[0].color}{let t=b(e);return(0,n.kz)(!!t,"paint is neither a gradient nor a solid"),{...t.color,a:t.opacity??1}}}function R(e,t=!1){var r={...e,a:0};if((0,i.Ub)().gradient_tool_improvements&&!t){let t=(0,s.YT)(e),n=t.v>=.5?t.v-.4:t.v+.4;r=(0,s.yC)({...t,v:n})}return r}},587040:(e,t,r)=>{"use strict";r.d(t,{CS:()=>V,Co:()=>x,Gu:()=>K,ID:()=>F,If:()=>U,Kw:()=>A,OQ:()=>$,Og:()=>j,Qj:()=>k,S4:()=>G,SA:()=>q,UN:()=>er,UV:()=>Y,WC:()=>D,YL:()=>H,_6:()=>ei,aO:()=>z,aS:()=>M,gZ:()=>L,k5:()=>B,mM:()=>O,mS:()=>Q,qq:()=>Z,wj:()=>W});var n=r(250008),i=r(288136),a=r(722376),o=r(99808),l=r(843148),s=r(594192),c=r(329956),d=r(470200),u=r(444992),p=r(90340),m=r(585508),_=r(31160),h=r(762820),g=r(229372);let f={"frame.react-render":.1,"frame.scene-render":.2,"frame.scene-render.render-tree-generation":.2},E=["react","frame","frame.react-render","frame.scene-render","frame.scene-render.render-tree-generation","frame.style-updater","frame.symbol-updater","frame.trigger-action","fullscreen-handle-event","fullscreen-handle-event.trigger-action","frame.comments-render"],y=1,b=!1,v=null,I=0,w=null,T=0,S=-1/0,C=0,A=null,O=null,N=null,L=null,R={},P=!1;function M(e,t){y=e,b=(0,s.aI)(t),A&&A.setMultiplayerPerfInfo({multiplayerUserCount:y,ongoingSpotlight:b})}function k(){v=null,w=null,null==A||A.stopRecordingAndLog("closing-file"),null==A||A.setFileInfo(null,"unknown")}function D(e,t){A&&(A.setFileInfo(e,(0,p.EB)(t)),A.startRecording(!0),(0,g.KU)().setPendingImagesCallback(A.pendingImagesChanged)),v=e,w=performance.now(),I++;let r=(0,l.m_)().editing_file;1===I&&r&&(0,n.we)("Cold Boot Document Load",{fileKey:v,fileVersion:h.eS.currentFileVersion(),loadedTime:w,fileNodeCount:h.I7U.getFileNodeCount(),fileTeamId:r.team_id,fileParentOrgId:(0,l.m_)().org_id})}function F(e){null==A||A.setFileInfo(v,(0,p.EB)(e))}function x(){null==A||A.stopRecordingAndLog("about-to-rebuild-scene")}function U(){null==A||A.startRecording(!1)}function B(){null==A||A.recordSingleFrameNamedEvent("tileRenderingActive")}function G(){null==A||A.recordSingleFrameNamedEvent("createTableActive")}function V(){null==A||A.recordSingleFrameNamedEvent("editTableTextActive")}function H(){null==A||A.recordSingleFrameNamedEvent("reorderTableSpanActive")}function W(){null==A||A.recordSingleFrameNamedEvent("connectDiagramShapeWithConnectorActive")}function K(){null==A||A.recordSingleFrameNamedEvent("accessibilityDomActive")}function Y(){null==A||A.onNodeDragStart()}function q(){null==A||A.onNodeDragEnd()}function j(e){null==A||A.onTileRendererChanged(e)}function $(){null==A||A.onContextRestored()}function Z(){null==A||A.recordSingleFrameNamedEvent("createStickyActive")}function z(){null==A||A.recordSingleFrameNamedEvent("differentSectionClicked")}function Q(e){null==A||A.recordSingleFrameNamedEvent((0,a.C0)(e))}let X=["ALT","META","SHIFT","CONTROL","RIGHT_ALT"];function J(e){let{fileKey:t,fileNodeCount:r,multiplayerUserCount:n,ongoingSpotlight:i,recentInteractions:a,secondsSinceLoaded:o,version:l,randomID:s}=e,u={fileKey:t,fileNodeCount:r,multiplayerUserCount:n,ongoingSpotlight:i,secondsSinceLoaded:o,version:l,randomID:s,reportCount:T};for(let e=0;e<a.length;e++)u[`recentInteractions.${e}`]=JSON.stringify(a[e]);return(0,d.S)(e.deviceInfo,u),(0,c.uk)(e.nodeTypeHistogram,u,"nodeTypeHistogram"),u}function ee(e){(0,n.we)("Slow Editor Interaction",e),S=performance.now(),C=e.duration}function et(...e){}function er(){var e;if(!(null==(e=m.CA)?void 0:e.isReady()))return;let t={},r=i.K4.report(),n=0;for(let e of r)!function e(r,n=""){let i=n.length>0?`${n}.${r.name}`:r.name,a=R[i]||r.hitCount,o=r.hitCount-a;o>r.elapsedTimes.length&&(P||(console.warn(`Too many elapsed hits of ${i} since last report`),P=!0),o=r.elapsedTimes.length);let l=0,s=r.elapsedTimes.length;for(let e=s-o;e<s;e++)l+=r.elapsedTimes[e];for(let n of(t[i]=l,R[i]=r.hitCount,r.children))e(n,i)}(e),n+=t[e.name];!function(){var e;if(n/1e3<.2)return;let[r,i]=null===v||null===w?[null,[]]:[{deviceInfo:(0,d.Q)(),fileKey:v,fileNodeCount:h.I7U.getFileNodeCount(),multiplayerUserCount:y,ongoingSpotlight:b,nodeTypeHistogram:h.I7U.getNodeTypeHistogram(),recentInteractions:h.I7U.getRecentInteractions(),secondsSinceLoaded:(performance.now()-w)/1e3,version:1,randomID:(0,_.sP)(),reportCount:T},h.I7U.getSlowInteractions()];if(null==r)return;let a={};for(let e in t)-1!==E.indexOf(e)&&(a[e]=t[e]/1e3);let o=i.map(e=>{let t=e.interaction,n={kind:"interaction",type:t.type,subtype:t.subtype,frame:e.frame,collapsed:!1,duration:e.duration,...J(r)};if(X.forEach(e=>n["modifier."+e]=null),"MOUSE"===t.type)for(let e of(n.collapsed=t.collapsed,X))n["modifier."+e]=-1!==t.modifiers.indexOf(e);return(0,c.uk)(a,n,"timer"),n});for(let e in t){let n=t[e]/1e3,i=f[e];if("number"==typeof i&&n>=i){let t={kind:"timer",type:e,subtype:null,frame:null,collapsed:!1,duration:n,...J(r)};(0,c.uk)(a,t,"timer"),X.forEach(e=>t["modifier."+e]=null),o.push(t)}}if(0===o.length)return;let l=[],s=o,u=60-(performance.now()-S)/1e3;if(0===(s=s.filter(e=>u<=0||e.duration>=2*C)).length&&l.push(`we're in the report cooldown period (${u}s to go) and no reports were long enough to override it (the last report duration was ${C}s)`),u>0&&s.length,null===w)return;let p=60-(performance.now()-w)/1e3;p>0&&l.push(`we're in the document loading cooldown period (${p}s to go)`),l.length>0?1===(e=l).length?e[0]:2===e.length?(e[0],e[1]):(e.slice(0,e.length-1).join(", "),e[2]):((s=s.sort((e,t)=>e.duration-t.duration)).forEach(ee),T++)}(),h.I7U.clearNodeTypeHistogram(),h.I7U.clearSlowInteractions()}function en(e){let t=0,r=0,n=[];for(let i of e)1===i.path.length&&"frame"===i.path[0]?(r=i.elapsedTime,n.push(i)):i.path.length>1&&"frame"===i.path[0]?(t+=i.elapsedTime,n.push(i)):1===i.path.length&&n.push(i);if(t>0){let e=r-t;n.push({path:["frame","unaccounted-time"],elapsedTime:e})}return n}function ei(){if(!A&&(0,l.Ub)().frame_distribution_tracker_edit){let e=e=>{if((0,l.Ub)().optimization_exposure_logging_fs){let t=h.QFr.getAndClearOptimizationExposureLoggingValues(),r=new Map;t.forEach((e,t)=>{r.set(t,e>0)}),e.optimizationExposures=JSON.stringify(Object.fromEntries(r))}};(A=new a.Sk("editor_frame_distributions",en,2,!0,new u.a,t=>{e(t)})).addEventTracker("zoomActive",new o.qo),A.addEventTracker("panActive",new o._h),A.addEventTracker("viewportHasGaps",new o.wd(h.qqE.DEFINITELY_COVERED_ONLY)),A.addEventTracker("viewportIncludingOutdatedHasGaps",new o.wd(h.qqE.DEFINITELY_COVERED_AND_OUTDATED)),A.addEventTracker("multipleMultiplayerUsersInFile",new o.GO(2,()=>y)),A.addEventTracker("multipleMultiplayerUsersInFileAndPanningOrZooming",new o.yr(2,()=>y)),A.addEventTracker("viewportHasBlurryRegions",new o.kj(1)),A.addEventTracker("viewportHasVeryBlurryRegions",new o.kj(.5)),A.addEventTracker("viewportIsBlurry",new o.SQ(1)),A.addEventTracker("viewportIsVeryBlurry",new o.SQ(.5)),A.addEventTracker("timeSlicedEditRenderingActive",new o.Cc),A.addEventTracker("stalenessIsHigh",new o.o3(1e3)),A.addEventTracker("stalenessIsVeryHigh",new o.o3(2e3)),A.addEventTracker("moveCursorActive",new o.O1),O=new o.Y,A.addEventTracker("cursorChatActive",O),N=new o.wJ,A.addEventTracker("cursorReactionActive",N),A.trackOtherUserCursorMoved(),(0,l.Ub)().dt_perf_log_anim&&A.addEventTracker("devModeAnimationActive",new o.eT),L=new o.ID,A.addEventTracker("devModeAnnotationsVisible",L)}}},225512:(e,t,r)=>{"use strict";r.d(t,{q:()=>a,w:()=>o});var n=r(762820);let i=[];function a(e){return i.push(e),()=>{i=i.filter(t=>t!==e)}}function o(e){for(let t of i)t(e===n.ig0.YES)}},308628:(e,t,r)=>{"use strict";r.d(t,{Ml:()=>x,QP:()=>F,kz:()=>U});var n=r(307824),i=r(634564),a=r(874908),o=r(340764),l=r(374888),s=r(180384),c=r(358600),d=r(809232),u=r(559716),p=r(510656),m=r(697704),_=r(452688),h=r(230560),g=r(484876),f=r(677884),E=r(892628),y=r(320572),b=r(486712),v=r(793668),I=r(587104),w=r(951308),T=r(653312),S=r(384460),C=r(838768),A=r(968952),O=r(782072),N=r(183908),L=r(136936),R=r(352695),P=r(697608),M=r(562052),k=r(584236),D=r(763532);function F(e){switch(e){case"CLOSE_OVERLAY":return v.c;case"GO_BACK":return w.c;case"NAVIGATE_TO":default:return T.c;case"OPEN_OVERLAY":return C.c;case"OPEN_URL":return A.c;case"SCROLL_TO":return O.c;case"SWAP_WITH":return b.c;case"SWAP_STATE_TO":return R.c;case"UPDATE_MEDIA_PLAY_PAUSE_OPTIONS":case"UPDATE_MEDIA_PLAY":case"UPDATE_MEDIA_PAUSE":case"UPDATE_MEDIA_TOGGLE_PLAY_PAUSE":return k.c;case"UPDATE_MEDIA_MUTE_UNMUTE_OPTIONS":case"UPDATE_MEDIA_MUTE":case"UPDATE_MEDIA_UNMUTE":case"UPDATE_MEDIA_TOGGLE_MUTE_UNMUTE":return M.c;case"UPDATE_MEDIA_SKIP_BY_OPTIONS":case"UPDATE_MEDIA_SKIP_FORWARD":case"UPDATE_MEDIA_SKIP_BACKWARD":return P.c;case"UPDATE_MEDIA_SKIP_TO":return D.c;case"SET_VARIABLE":return N.c;case"SET_VARIABLE_MODE":return L.c;case"CONDITIONAL":return I.c;case"NONE":return S.c}}function x(e){switch(e){case"CLOSE_OVERLAY":return n.createElement(i.K,null);case"GO_BACK":return n.createElement(a.M,null);case"NAVIGATE_TO":default:return n.createElement(o.U,null);case"OPEN_OVERLAY":return n.createElement(l.e,null);case"OPEN_URL":return n.createElement(s.E,null);case"SCROLL_TO":return n.createElement(c.e,null);case"SWAP_WITH":return n.createElement(d._,null);case"SWAP_STATE_TO":return n.createElement(u.e,null);case"UPDATE_MEDIA_PLAY_PAUSE_OPTIONS":case"UPDATE_MEDIA_PLAY":case"UPDATE_MEDIA_PAUSE":case"UPDATE_MEDIA_TOGGLE_PLAY_PAUSE":return n.createElement(p.q,null);case"UPDATE_MEDIA_MUTE_UNMUTE_OPTIONS":case"UPDATE_MEDIA_MUTE":case"UPDATE_MEDIA_UNMUTE":case"UPDATE_MEDIA_TOGGLE_MUTE_UNMUTE":return n.createElement(m.G,null);case"UPDATE_MEDIA_SKIP_BY_OPTIONS":case"UPDATE_MEDIA_SKIP_FORWARD":case"UPDATE_MEDIA_SKIP_BACKWARD":return n.createElement(_.e,null);case"UPDATE_MEDIA_SKIP_TO":return n.createElement(h.U,null);case"SET_VARIABLE":return n.createElement(g.W,null);case"SET_VARIABLE_MODE":return n.createElement(f.U,null);case"CONDITIONAL":return n.createElement(E.O,null);case"NONE":return n.createElement(y.y,null)}}function U(e){return 1===e.numSelected&&!!e.numVideosSelected}},467412:(e,t,r)=>{"use strict";r.d(t,{C:()=>c,EF:()=>s,Gc:()=>u,IJ:()=>o,K8:()=>_,OC:()=>T,Q5:()=>b,QD:()=>I,QP:()=>h,Qj:()=>p,SM:()=>l,Wg:()=>v,Wm:()=>d,_m:()=>y,_o:()=>E,cj:()=>a,gt:()=>m,iY:()=>S,kF:()=>f,mY:()=>function e(t,r,i=[]){let a=t.get(r);for(let r of a.childrenNodes)a&&("CANVAS"===a.type||"SECTION"===a.type)&&a.visible&&(0,n.Kg)(r.type)&&r.visible&&("SECTION"===r.type?e(t,r.guid,i):i.push(r));return i},u8:()=>w});var n=r(491920),i=r(907152);function a(e,t,r){if("stop"===r(t))return"stop";for(let n of t.childrenGuids)if("stop"===a(e,e.get(n),r))return"stop"}function o(e,t){var r;return(null==(r=e.get(t))?void 0:r.parentNode)||null}function l(e,t,r){let n=o(e,t);for(;n;){if("CANVAS"===n.type||"DOCUMENT"===n.type)return;if("stop"===r(n))break;n=n.parentNode}}function s(e,t,r){let n=e.get(t);n&&"stop"!==r(n)&&l(e,t,r)}function c(e,t){let r=[];return l(e,t,e=>{r.push(e)}),r}function d(e,t){let r=0,n=e.get(t)||null;for(;n&&"CANVAS"!==n.type&&"DOCUMENT"!==n.type;)r++,n=o(e,n.guid);return r}function u(e,t){return[...new Set(t)].reduce((t,r)=>(t[r]=function(e,t){if(!t)return null;let r=e.get(t);if(!r)return null;for(;"CANVAS"!==r.type;){let e=r.parentNode;if(!e)break;r=e}return r.guid}(e,r),t),{})}function p(e){return("DOCUMENT"===e||"CANVAS"===e||"GROUP"===e||"FRAME"===e||"SYMBOL"===e||"INSTANCE"===e||"BOOLEAN_OPERATION"===e||"STICKY"===e||"SHAPE_WITH_TEXT"===e||"CONNECTOR"===e||"CODE_BLOCK"===e||"TABLE"===e||"TABLE_CELL"===e||"VARIABLE_SET"===e||"MODULE"===e||"SLIDE"===e||"SLIDE_ROW"===e||"SLIDE_GRID"===e)&&!_(e)}function m(e){return"VECTOR"===e||"STAR"===e||"LINE"===e||"ELLIPSE"===e||"RECTANGLE"===e||"REGULAR_POLYGON"===e||"ROUNDED_RECTANGLE"===e}function _(e){return"STICKY"===e||"SHAPE_WITH_TEXT"===e||"CONNECTOR"===e||"CODE_BLOCK"===e||"MEDIA"===e||"SECTION_OVERLAY"===e||"TABLE"===e}function h(e){return"STAMP"===e.type||"ROUNDED_RECTANGLE"===e.type&&e.name.includes("FigJam Stamp Icon")}function g(e,t){return t&&"CANVAS"===t.type&&t.visible&&(0,n.Kg)(e.type)&&e.visible}function f(e,t){let r=[],n=e.get(t);for(let t of n.uiOrderedChildren){let i=e.get(t);g(i,n)&&r.push(i)}return r}function E(e,t){let r=null,n=null;for(let i=0;i<t.length;i++){let a=e.get(t[i]),l=o(e,t[i]);if(a&&l&&g(a,l)){r=t[i],n=i;break}}return{tlfId:r,index:n}}function y(e,t){e.sort((e,r)=>{let n=t(e),i=t(r);return n<i?-1:n>i?1:0})}function b(e,t){let r=null;return l(e,t,e=>{if(!r){if("NONE"!==e.scrollDirection)return r=e,"stop";{let t=e.parentNode;if(t&&g(e,t))return r=e,"stop"}}}),r}function v(e,t){let r=null;return s(e,t,e=>{let t=e.parentNode;t&&g(e,t)&&(r=e)}),r}function I(e,t){let r=null;return s(e,t,e=>{let t=e.parentNode;t&&t&&("CANVAS"===t.type||"SECTION"===t.type)&&t.visible&&(0,n.Kg)(e.type)&&e.visible&&"SECTION"!==e.type&&(r=e)}),r}function w(e,t,r){let n;if(!r){let e=t.getCurrentPage();if(!e)return;r=e}return a(t,r,r=>{if(e(r,t))return n=r,"stop"}),n}function T(e,t){let r;let n=t.getCurrentPage();if(n)return a(t,n,n=>{if(e(n,t)){if(void 0===r)r=n;else{let[e,t]=n.guid.split(":").map(Number),[i,a]=r.guid.split(":").map(Number);r=e===i?t>a?n:r:e>i?n:r}}}),r}function S(){let e=i.TSSceneGraph.instance,t=[];return a(e,e.getRoot(),e=>{t.push(e.guid)}),t}},107792:(e,t,r)=>{"use strict";r.d(t,{Q:()=>a,u:()=>i});let n=[];function i(e){return n.push(e),()=>{n=n.filter(t=>t!==e)}}function a(e){for(let t of n)t(e)}},164664:(e,t,r)=>{"use strict";r.d(t,{IP:()=>E,Yr:()=>f,Yw:()=>y,gb:()=>b});var n=r(250008),i=r(899116),a=r(161400),o=r(742756),l=r(90340),s=r(585508),c=r(805332),d=r(398748),u=r(866816),p=r(759668),m=r(473123),_=r(486904),h=r(585248);let g=new class{constructor(){this._suggestionsCache=new o.o(100),this._textReviewPluginRunner=new _.o,this._currentPromise=null}async setCurrentImplementation(e,t){var r,i;let o=await (0,u.L5)(),s=await (0,u.bs)(),c=(0,u.SC)();await e.initialize(t,[...o,...s,...c]),this._current=e;let d=await (0,u.AL)();console.log(`[spell-check] using implementation: ${null==(r=this._current)?void 0:r.name}. Current language: ${t}. Supported languages: ${d}`);let p=a.x.getState().selectedView,m=(0,l.EB)(p.editorType);(0,n.we)("Spell Check Ready",{productType:m,language:t,implementationName:null==(i=this._current)?void 0:i.name,userIgnoreWordsCount:(o||[]).length})}get current(){return this._currentPromise||(this._currentPromise=(async()=>(await this.ensureImplementationLoaded(),this._current))()),this._currentPromise}async ensureImplementationLoaded(){if(this._current)return;let e=await (0,u.qg)(),t=(0,m.Cs)(e),r=(0,u.Co)(t);switch(e){case h.Yf.DESKTOP:await this.setCurrentImplementation(new d.L,r);break;case h.Yf.AGENT:await this.setCurrentImplementation(new c.CS,r);break;case h.Yf.HUNSPELL:await this.setCurrentImplementation(new p.E5,r)}}async getSuggestionsForWord(e){return this._suggestionsCache.has(e)?Promise.resolve(this._suggestionsCache.get(e)||[]):(await this.current).getSuggestionsForWord(e).then(t=>(this._suggestionsCache.set(e,t),t))}async spellCheckText(e){return(await this.current).spellCheckText(e)}async runTextReviewPlugin(e){return _.o.shouldUsePluginForSpellChecking()?await this._textReviewPluginRunner.reviewText(e):[]}getAPIName(){var e;return(null==(e=this._current)?void 0:e.name)||"N/A"}shouldEnableWhenFirstActivated(){let e=navigator.languages||[navigator.language];return function(e,t){if(e)return!0;try{let e=t.map(e=>(e||"").toLowerCase()).map(e=>e.split("-")[0]);if(!(e.includes("en")||e.includes("ru")))return!1}catch(e){}return!0}(!!i.sZ,e)}reset(){this._current=void 0,this._currentPromise=null,this._suggestionsCache.reset()}};async function f(){return await g.ensureImplementationLoaded(),g._current}async function E(e){return await g.ensureImplementationLoaded(),g._suggestionsCache.reset(),g._current.setLanguage(e)}async function y(e){await E((0,u.Co)(e)),s.CA&&s.CA.triggerAction("redo-spell-checking")}let b=g},649496:(e,t,r)=>{"use strict";let n;r.d(t,{AP:()=>_,Cc:()=>p,Km:()=>a,Qx:()=>d,Sg:()=>s,WH:()=>m,bX:()=>l,i6:()=>o,mq:()=>c,pT:()=>u});var i=r(675695),a=((n=a||{}).NONE="NONE",n.FILL="FILL",n.STROKE="STROKE",n.TEXT="TEXT",n.EFFECT="EFFECT",n.GRID="GRID",n);function o(e){switch(e){case"inheritTextStyleKey":return"TEXT";case"inheritFillStyleKey":case"inheritFillStyleKeyForStroke":return"FILL";case"inheritEffectStyleKey":return"EFFECT";case"inheritGridStyleKey":return"GRID";case"inheritExportStyleKey":return"EXPORT"}}function l(e){switch(e){case"NONE":default:return[];case"FILL":return["inheritFillStyleKey","inheritFillStyleKeyForStroke"];case"TEXT":return["inheritTextStyleKey"];case"EFFECT":return["inheritEffectStyleKey"];case"GRID":return["inheritGridStyleKey"]}}function s(e){switch(e){case"NONE":default:return null;case"FILL":return"inheritFillStyleKey";case"TEXT":return"inheritTextStyleKey";case"EFFECT":return"inheritEffectStyleKey";case"GRID":return"inheritGridStyleKey"}}let c={inheritEffectStyleKey:"inheritEffectStyleName",inheritExportStyleKey:"inheritExportStyleName",inheritFillStyleKey:"inheritFillStyleName",inheritFillStyleKeyForStroke:"inheritFillStyleNameForStroke",inheritGridStyleKey:"inheritGridStyleName",inheritTextStyleKey:"inheritTextStyleName"},d={inheritEffectStyleKey:"softDeletedEffectStyleId",inheritExportStyleKey:"softDeletedExportStyleId",inheritFillStyleKey:"softDeletedFillStyleId",inheritFillStyleKeyForStroke:"softDeletedFillStyleForStrokeId",inheritGridStyleKey:"softDeletedGridStyleId",inheritTextStyleKey:"softDeletedTextStyleId"};function u(e){return!!(null==e?void 0:e.key)}function p(e){return e.startsWith("S:")}function m(e){return e&&u(e)?`S:${e.key},${e.version||""}`:""}function _(e){if(!e||!p(e))return null;let t=e.substring(2).split(",");if(!t||2!==t.length)return null;let r=(0,i.YT)(t[0]),n=(0,i.SI)(t[1]);return r===i.YT.INVALID?null:{key:r,version:n}}},4388:(e,t,r)=>{"use strict";r.d(t,{Cg:()=>c,ER:()=>s,KM:()=>m,KW:()=>p,ik:()=>h,me:()=>f,sx:()=>g,uA:()=>d,ye:()=>_});var n=r(936756),i=r(50451),a=r(762820),o=r(585508),l=r(401968);function s(e,t){let r={guid:{sessionID:0,localID:0}};switch(t){case a.cf6.STROKE:case a.cf6.STROKE_PRESET:r.strokePaints=[e];break;case a.cf6.FILL:default:r.fillPaints=[e]}return i.O.encodeMessage({type:"NODE_CHANGES",sessionID:0,ackID:0,nodeChanges:[r]})}function c(e,t,r){let n=s(e),i={size:{x:t.x,y:t.y}};r&&(i.backgroundColor=r);let a=o.CA.DEPRECATED_sendMessage("requestPaintIcon",i,n);if(!(null==a?void 0:a.args))return null;let{pixelSize:l,displaySize:c}=a.args;return a.buffer&&l&&c?{pixels:a.buffer,pixelSize:l,displaySize:c}:null}function d(e,t,r){let n=s(e,r),i=new Uint8Array(t.buffer);return a.cJA.updateStillImageAndSelectionPropertiesForGIF(n,i)}function u(e){if(!e||!e.args)return null;let{pixelSize:t,displaySize:r}=e.args;return e.buffer&&t&&r?{pixels:e.buffer,pixelSize:t,displaySize:r}:null}function p(e,t,r,n){let i={size:{x:e.x,y:e.y},nodeId:t,contentsOnly:r,background:n};return u(o.CA.DEPRECATED_sendMessage("requestExportThumbnail",i,null))}function m(e,t){let r={x:e.x,y:e.y};return u(o.CA.DEPRECATED_sendMessage("requestExportPreview",{size:r,settings:{useAbsoluteBounds:t}},null))}function _(e){let t=o.CA.DEPRECATED_sendMessage("requestObjectsPanelIcon",{nodeId:e});return t&&t.buffer?n.Wi(t.buffer):""}function h(e,t,r){let n=document.createElement("canvas"),i=r?n.getContext("2d",{colorSpace:(0,l.Py)(r)}):n.getContext("2d");n.width=t.x,n.height=t.y;let a=i.createImageData(t.x,t.y);return a.data.set(e),i.putImageData(a,0,0),n}function g(e){let t=document.createElement("canvas");return t.width=e.naturalWidth,t.height=e.naturalHeight,t.getContext("2d").drawImage(e,0,0),t}function f(e,t,r){return h(e,t,r).toDataURL()}},907152:(e,t,r)=>{"use strict";let n,i;r.d(t,{Ar:()=>_,GG:()=>d,MP:()=>h,TSSceneGraph:()=>p,U3:()=>f,_w:()=>c,kg:()=>g,o1:()=>s,wD:()=>n});var a=r(50451),o=r(762820),l=r(491920);let s=1;var c=((i=c||{}).CURRENT="CURRENT",i.HISTORY="HISTORY",i.DETACHED="DETACHED",i.PLAYGROUND="PLAYGROUND",i);function d(){n=void 0}let u=class{constructor(e){this.get=e=>m(e,this.scene,!0),this.getFromStablePath=e=>{let t=o.k5$.setGlobalUnstableNodeByStablePath(this.scene,e,o.OSv.REDUX);return o.cJA.exists(o.OSv.REDUX)&&t?m(t,this.scene,!1):null},this.getRoot=()=>m("0:0",this.scene,!1),this.getInternalCanvas=()=>{if(this.sceneType&&"CURRENT"!==this.sceneType)throw Error("TSSceneGraph.getInternalCanvas - Not implemented except for current document");let e=o.cJA.getInternalCanvas(o.OSv.REDUX);return e?m(e,this.scene,!1):null},this.changeListeners=new Set,this.addListeners=new Set,this.deleteListeners=new Set,this.revisionNumber__DEPRECATED=0,this.sceneType=e}get scene(){switch(this.sceneType){case"DETACHED":return o.i46.getDetachedComponentsScene();case"HISTORY":return o.ugv.getDocumentByIndex(s);case"PLAYGROUND":return o.i46.getPlaygroundScene();default:return o.ugv.getActiveDocument()}}getCurrentPage(){if(this.sceneType&&"CURRENT"!==this.sceneType)throw Error("TSSceneGraph.getCurrentPage - Not implemented except for current document");let e=o.cJA.getCurrentPage(o.OSv.REDUX);return e?m(e,this.scene,!1):null}async setCurrentPageAsync(e){if(this.sceneType&&"CURRENT"!==this.sceneType)throw Error("TSSceneGraph.setCurrentPage - Not implemented except for current document");let t=new Promise(e=>{n=e});o.cJA.setCurrentPageAsync(e,o.OSv.REDUX);let r=await t;if(r)throw Error(r)}async setCurrentPageFromNodeAsync(e){if(this.sceneType&&"CURRENT"!==this.sceneType)throw Error("TSSceneGraph.setCurrentPage - Not implemented except for current document");let t=new Promise(e=>{n=e});o.cJA.setCurrentPageFromNodeAsync(e,o.OSv.REDUX),await t}createNode(e,t=o.Wii.TRACK){if(this.sceneType&&"CURRENT"!==this.sceneType)throw Error("Can only create nodes in the current document");let r=o.cJA.createNode(a.O.NodeType[e],{tracking:t},o.OSv.REDUX);if(!r)throw Error(`Cannot create node with type ${e}`);return m(r,o.ugv.getActiveDocument(),!1)}guidFromDeveloperFriendlyId(e){return o.u2q.guidFromDeveloperFriendlyId(e,this.scene)}developerFriendlyIdFromGuid(e){return o.u2q.developerFriendlyIdFromGuid(e,this.scene)}onChange(e){if(this.changeListeners)return this.changeListeners.add(e),()=>{var t;return null==(t=this.changeListeners)?void 0:t.delete(e)};throw Error("TSSceneGraph changeListeners not found")}onAdd(e){if(this.addListeners)return this.addListeners.add(e),()=>{var t;return null==(t=this.addListeners)?void 0:t.delete(e)};throw Error("TSSceneGraph addListeners not found")}onDelete(e){if(this.deleteListeners)return this.deleteListeners.add(e),()=>{var t;return null==(t=this.deleteListeners)?void 0:t.delete(e)};throw Error("TSSceneGraph deleteListeners not found")}triggerChange(){if(void 0!==this.revisionNumber__DEPRECATED&&(this.revisionNumber__DEPRECATED+=1),this.changeListeners)for(let e of this.changeListeners)e();else throw Error("TSSceneGraph listeners not found")}triggerAddCallbacks(e){if(this.addListeners)for(let t of this.addListeners)t(e);else throw Error("TSSceneGraph addListeners not found")}triggerDeleteCallbacks(e){if(this.deleteListeners)for(let t of this.deleteListeners)t(e);else throw Error("TSSceneGraph deleteListeners not found")}},p=u;function m(e,t,r){if(!e)return null;let n=(0,l.Ef)(e,0),i=(0,l.Ef)(e,e.indexOf(":")+1);return r&&(o.k5$.setGlobalUnstableNodeByID(t,n,i,o.OSv.REDUX),o.cJA&&!o.cJA.exists(o.OSv.REDUX))?null:new l.s9(t,e,n,i,o.OSv.REDUX)}function _(e){return("FRAME"===e.type||"SYMBOL"===e.type)&&!e.resizeToFit}function h(e){return("FRAME"===e.type||"SYMBOL"===e.type||"SECTION"===e.type||"SLIDE"===e.type)&&!e.resizeToFit}p.instance=new u;let g="-1:-1";function f(e){return e!==g}},312452:(e,t,r)=>{"use strict";r.d(t,{A5$:()=>n.A5$,CeN:()=>n.CeN,EBV:()=>n.EBV,EDU:()=>n.EDU,EdD:()=>n.EdD,Ehi:()=>n.Ehi,GqY:()=>n.GqY,I1w:()=>n.I1w,KEP:()=>n.KEP,Ky0:()=>n.Ky0,MJr:()=>n.MJr,MXH:()=>n.MXH,Mhd:()=>n.Mhd,Mty:()=>n.Mty,MzI:()=>n.MzI,O05:()=>n.O05,OQf:()=>n.OQf,Okr:()=>n.Okr,Q1C:()=>n.Q1C,Q7J:()=>n.Q7J,QDw:()=>n.QDw,Rv6:()=>n.Rv6,S8x:()=>n.S8x,Sbl:()=>n.Sbl,Tcd:()=>n.Tcd,UBf:()=>n.UBf,UH2:()=>n.UH2,Urk:()=>n.Urk,W8V:()=>n.W8V,W8r:()=>n.W8r,XcX:()=>n.XcX,Y57:()=>n.Y57,YXl:()=>n.YXl,_sE:()=>n._sE,aWh:()=>n.aWh,a_v:()=>n.a_v,cf6:()=>n.cf6,fF:()=>n.fF,i46:()=>n.i46,iUn:()=>n.iUn,iiI:()=>n.iiI,kfI:()=>n.kfI,m2t:()=>n.m2t,mWV:()=>n.mWV,oHD:()=>n.oHD,s9F:()=>n.s9F,sRF:()=>n.sRF,w3O:()=>n.w3O,w3X:()=>n.w3X,y6c:()=>n.y6c,yWc:()=>n.yWc});var n=r(762820)},964100:(e,t,r)=>{"use strict";r.d(t,{TI:()=>l,cn:()=>o});var n=r(778524),i=r(762820);let a=null,o="Upsell Libraries Valid Paste For Nudge";function l(e,t){a&&a.pasteID===e&&a.fileKey===t?a.offset=a.offset+1:a={pasteID:e,fileKey:t,offset:1},2===a.offset&&i.i46.shouldNudgeComponentCreationForSelection()&&(0,n.Y9)({id:o})}},563404:(e,t,r)=>{"use strict";r.d(t,{Al:()=>s,Ir:()=>l,Oo:()=>c,mY:()=>o});var n=r(120304),i=r(4580),a=r(784528);function o(e){return(0,n.w1)(t=>(0,a.Ib)(t.mirror.appModel,e))}function l(e){return(0,i.q)(t=>{let r={};for(let n of e)r[n]=(0,a.Ib)(t.mirror.appModel,n);return r})}function s(e){return(0,n.w1)(t=>e.every(e=>(0,a.Ib)(t.mirror.appModel,e)))}function c(e){return(0,n.w1)(t=>e.some(e=>(0,a.Ib)(t.mirror.appModel,e)))}},507076:(e,t,r)=>{"use strict";r.d(t,{A9:()=>l,H4:()=>c,ZR:()=>s});var n=r(307824),i=r(4580),a=r(585508),o=r(570012);function l(e){return(0,i.q)(t=>t.mirror.selectionProperties[e])}function s(e){return n.useCallback((t,r=o.MO.YES)=>{a.CA.updateSelectionProperties({[e]:t},{shouldCommit:r})},[e])}function c(e){return[l(e),s(e)]}},784340:(e,t,r)=>{"use strict";r.d(t,{Cc:()=>w,EF:()=>S,G0:()=>en,GK:()=>P,Gs:()=>G,Gy:()=>$,Il:()=>Y,ML:()=>O,MV:()=>C,Mz:()=>Q,OG:()=>ee,Q1:()=>x,SU:()=>A,Si:()=>j,WA:()=>er,__:()=>U,aI:()=>D,c1:()=>B,c9:()=>Z,cP:()=>k,cz:()=>V,eI:()=>N,eS:()=>X,eY:()=>et,eo:()=>T,iA:()=>z,ig:()=>K,oJ:()=>M,qW:()=>F,s5:()=>R,s9:()=>ei,ym:()=>L,yo:()=>W});var n=r(307824),i=r(854384),a=r.n(i),o=r(819584),l=r(372152),s=r(623131),c=r(506616),d=r(425396),u=r(594192),p=r(675695),m=r(4596),_=r(790184),h=r(162280),g=r(192988),f=r(801368),E=r(523292),y=r(392992),b=r(154328),v=r(291724),I=r(762820);function w(e){return J((0,l.m4)(f.K2)[e]??[])}function T(e){return(0,l.m4)((0,f.k3)(e))}function S(){return(0,l.m4)(f.eK)}function C(){O(),A(),(0,l.m4)(f.zq),N(),L(),(0,l.m4)(f.m0)}function A(){return J((0,l.m4)(f.mE))}function O(){return J((0,l.m4)(f._8))}function N(){return(0,l.m4)(f.qU)}function L(){return(0,l.m4)(f.Mp)}function R(e){return(0,l.m4)((0,f.Ou)(e))}function P(e){let t=(0,n.useMemo)(()=>e?(0,f._W)(e):(0,s.Zf)(null),[e]),r=(0,l.m4)(t);if(r)return r;if(!e)return;let i=I.sAy.getSubscribedVariableSetInfo(e);if(i)return(0,_.WC)(i)}function M(e){let t=(0,n.useMemo)(()=>(0,f.u_)(e),[e]);return(0,l.m4)(t)??null}function k(){let e=(0,n.useMemo)(()=>(0,f.wv)(),[]);return(0,l.m4)(e)}function D(e,t){var r;let n=function(e){let t=e?(0,f.m6)(e):(0,s.Zf)(null);return(0,l.m4)(t)}(e);return(null==(r=null==n?void 0:n.modeValues)?void 0:r[t])??void 0}function F(e,t){var r,n;return(null==(n=null==(r=B(e))?void 0:r.modeValues)?void 0:n[t])??void 0}function x(e){let t=(0,o.K0)(()=>e,[e]),r=(0,n.useMemo)(()=>(0,s.Zf)(e=>t.map(t=>(0,u.aI)(t)?e(f.s1)[t]??null:null)),[t]);return(0,l.m4)(r)}function U(e){var t;return(null==(t=B(e))?void 0:t.name)||(e?I.sAy.getVariableNameInStyleSelection(e)??void 0:void 0)}function B(e){let t=(0,n.useMemo)(()=>e?(0,f.AL)(e):(0,s.Zf)(null),[e]),r=(0,l.m4)(t);if(r)return r;if(!e)return null;let i=I.sAy.getSubscribedVariableInfo(e);return i?(0,_.AF)(i):null}function G(e,t){let r=(0,o.K0)(()=>e,[e]),i=(0,n.useMemo)(()=>(0,s.Zf)(e=>r.map(r=>{if(!r)return null;let n=e((0,f.AL)(r));if(n)return n;if(t){let e=I.sAy.getSubscribedVariableInfo(r);if(e)return(0,_.AF)(e)}return null})),[t,r]);return(0,l.m4)(i)}function V(e,t){let r=(0,n.useMemo)(()=>e?(0,f.G2)(e,t??m.Q9):(0,s.Zf)(null),[e,t]);return(0,l.m4)(r)}function H(e,t){var r;let n=[];if((null==e?void 0:e.status)==="loaded"){let i=e.data.file&&"status"in e.data.file?(0,c.Fc)(e.data.file):e.data.file;i&&(null==(r=i.variableCollections)||r.forEach(e=>{var r;null==(r=e.variables)||r.forEach(e=>{n.push((0,b._q)(e,i,t))})}))}return n}function W(){let e=(0,y.K0)(),t=(0,n.useMemo)(()=>e?(0,f.Y9)(e):(0,s.Zf)(null),[e]),r=(0,l.m4)(t);return(0,n.useMemo)(()=>H(r&&d.YF.from(r),!0),[r])}function K(e){let t=(0,n.useMemo)(()=>(0,f.SY)(e),[e]),r=(0,l.m4)(t);return(0,o.yC)(()=>{var e;let t={};for(let n of Object.values(r))if("loaded"===n.status)for(let r of(null==(e=n.data.variableCollection)?void 0:e.variables)??[])t[(0,p.Q5)(r.key)]=r;return t},[r])}function Y(e){var t;let r=(0,n.useMemo)(()=>!e||(0,E.Aj)(e)?(0,s.Zf)(null):(0,f.Y9)(e),[e]),i=(0,E.O0)(e),a=(0,f.Dm)(i),c=(0,l.m4)(r),u=(0,l.m4)(a),p=!!(null==(t=(0,v.aQ)().data)?void 0:t.find(t=>t.fileKey===e));return(0,o.K0)(()=>{if(!p||!c&&!u)return d.YF.loaded([]);if((null==c?void 0:c.status)==="loading"||(null==c?void 0:c.status)==="disabled"||(null==u?void 0:u.status)==="loading")return d.YF.loading();let e=c&&d.YF.from(c);return d.YF.loaded(H(e||u,!1))},[p,c,u])}function q(e,t){if((null==e?void 0:e.status)==="loaded"){let r=e.data.file&&"status"in e.data.file?(0,c.Fc)(e.data.file):e.data.file;if(r&&r.variableCollections)return r.variableCollections.map(e=>(0,b.rl)(e,r,t))}return[]}function j(){let e=(0,y.K0)(),t=(0,n.useMemo)(()=>e?(0,f.Y9)(e):(0,s.Zf)(null),[e]),r=(0,l.m4)(t);return(0,n.useMemo)(()=>q(r&&d.YF.from(r),!0),[r])}function $(e){var t;let r=(0,n.useMemo)(()=>!e||(0,E.Aj)(e)?(0,s.Zf)(null):(0,f.Y9)(e),[e]),i=(0,E.O0)(e),a=(0,f.Dm)(i),c=(0,l.m4)(r),u=(0,l.m4)(a),p=null==(t=(0,v.aQ)().data)?void 0:t.find(t=>t.fileKey===e);return(0,o.K0)(()=>{if(!p||!c&&!u)return d.YF.loaded([]);if((null==c?void 0:c.status)==="loading"||(null==u?void 0:u.status)==="loading")return d.YF.loading();let e=c&&d.YF.from(c);return d.YF.loaded(q(e||u,!1))},[p,c,u])}function Z(){let e=(0,v.aQ)(),t=(0,o.K0)(()=>{var t;return(null==(t=e.data)?void 0:t.map(e=>e.fileKey))??[]},[e.data]),r=(0,n.useMemo)(()=>(0,f.yg)(t),[t]),i=(0,l.m4)(r);return(0,o.K0)(()=>{let e=d.YF.all(Object.values(i));return"loaded"!==e.status?e:d.YF.loaded({items:a()(Object.values(i).map(e=>q(e,!1)))})},[i])}function z(e){let t=(0,v.aQ)(),r=(0,o.K0)(()=>{var e;return(null==(e=t.data)?void 0:e.filter(e=>!(0,E.Aj)(e.fileKey)).map(e=>e.fileKey))??[]},[t.data]),i=(0,o.K0)(()=>{var e;return(null==(e=t.data)?void 0:e.filter(e=>(0,E.Aj)(e.fileKey)).map(e=>e.fileKey))??[]},[t.data]),c=(null==e?void 0:e.enabled)===!1,u=(0,n.useMemo)(()=>{if(c){let e={};return r.forEach(t=>{e[t]=d.YF.disabled()}),(0,s.Zf)(e)}return(0,f.o$)(r)},[c,r]),p=(0,l.m4)(u),m=(0,n.useMemo)(()=>{if(c){let e={};return i.forEach(t=>{e[t]=d.YF.disabled()}),(0,s.Zf)(e)}return(0,f.q8)(i)},[c,i]),_=(0,l.m4)(m);return(0,o.K0)(()=>{let e={...p,..._},t=d.YF.all(Object.values(e));return"loaded"!==t.status?t.transform(()=>({libraryVariableSets:[],libraryVariables:[]})):d.YF.loaded({libraryVariableSets:a()(Object.values(e).map(e=>q(e,!1))),libraryVariables:a()(Object.values(e).map(e=>H(e,!1)))})},[p,_])}function Q(e,t,r){if(e)return I.aWh.getIdsOfVariablesWithValue(e,t,{type:r.type,value:r.value})}function X(e,t,r){if(!e)return;let n=I.aWh.getIdsOfVariablesWithValue(e,t,{type:r.type,value:r.value});if(1===n.length)return n[0]}function J(e){return n.useMemo(()=>e.filter(e=>!(0,h._q)(e)),[e])}function ee(e,t){let r=(0,g.c5)(e),i=function(e){let t=O(),r=z(e);return(0,n.useMemo)(()=>{var e;return(null==r?void 0:r.status)!=="loaded"?r.transform(()=>[]):d.YF.loaded([...(null==(e=r.data)?void 0:e.libraryVariables)??[],...t??[]])},[t,r])}(t);return(0,n.useMemo)(()=>{var t;if("loaded"!==i.status)return i.transform(()=>[]);let n=(null==(t=i.data)?void 0:t.filter(e=>(0,g.uC)(e,r)))??[],a=[];for(let t of e){let e=h.ol[t];e&&i&&(a=a.concat(n.filter(t=>e.includes(t.resolvedType))))}return d.YF.loaded([...a])},[e,i,r])}function et(e){let t={},r=(0,v.aQ)();if(r.data){for(let n of e)for(let e of r.data)if(e.fileKey===n){t[n]=e.name;break}}return t}function er(e){let t=(null==e?void 0:e.subscriptionStatus)==="SUBSCRIBED"?e.file_key:void 0,r=et(t?[t]:[]);return t?r[t]:void 0}function en(e){let t=e&&(0,_.S_)(e),r=P(t?e.rootVariableSetId:void 0);return(t?r:e)??null}function ei(){return(ee(["FONT_STYLE"]).data??[]).length>0}},843496:(e,t,r)=>{"use strict";let n;r.d(t,{OK:()=>n,SI:()=>_,SN:()=>s,Ts:()=>p,Yf:()=>g,_Y:()=>b,gh:()=>E,iO:()=>d,q:()=>I});var i=r(602216),a=r(682819),o=r(762820);let l=null;function s(e){return l=e,()=>{l=null}}let c=null;function d(e){return c=e,()=>{c=null}}let u=null;function p(e){return u=e,()=>{u=null}}let m=null;function _(e){return m=e,()=>{m=null}}let h=null;function g(e){return h=e,()=>{h=null}}let f=new a._("VariableMirrorVariableResolvedValueEmitter");function E(e,t,r){return o.Cpn.subscribeToLocalVariableResolvedValue(e,t),f.on(e,r),()=>{o.Cpn.unsubscribeFromLocalVariableResolvedValue(e,t),f.removeListener(e,r)}}let y=new a._("VariableMirrorExplicitModeEmitter");function b(e,t){return o.Cpn.subscribeToExplicitModeChanges(e),y.on(e,t),()=>{o.Cpn.unsubscribeFromExplicitModeChanges(e),y.removeListener(e,t)}}class v{localVariableSetUpdated(e){(0,i.unstable_batchedUpdates)(()=>{null==l||l({added:[e]})})}localVariableSetDeleted(e){(0,i.unstable_batchedUpdates)(()=>{null==l||l({deleted:e}),null==u||u({setDeleted:e})})}subscribedVariableSetUpdated(e,t){(0,i.unstable_batchedUpdates)(()=>{null==c||c({added:[e]}),null==h||h({setDeleted:e.id}),null==h||h({added:t})})}subscribedVariableSetDeleted(e){(0,i.unstable_batchedUpdates)(()=>{null==c||c({deleted:e}),null==h||h({setDeleted:e})})}localVariablesUpdated(e){null==u||u({added:e})}localVariableOverridesUpdated(e){null==m||m({added:e})}localVariableOverridesDeleted(e){null==m||m({deleted:e})}localVariablesDeleted(e){null==u||u({deleted:e}),e.forEach(e=>{f.trigger(e,{})})}variableResolvedValueUpdated(e,t){f.trigger(e,t)}explicitModeUpdated(e,t){y.trigger(e,t)}resetMirrorCache(){(0,i.unstable_batchedUpdates)(()=>{null==l||l(null),null==u||u(null),null==m||m(null),null==c||c(null),null==h||h(null)}),f.removeAllListeners()}}function I(){n=new v}},872172:(e,t,r)=>{"use strict";r.d(t,{c:()=>a,m:()=>i});let n=[];function i(e){return n.push(e),()=>{n=n.filter(t=>t!==e)}}function a(e,t){for(let r of n)r(e,t)}},679804:(e,t,r)=>{"use strict";let n;r.d(t,{C:()=>v,Ce:()=>P,E5:()=>B,GO:()=>b,GY:()=>I,IB:()=>k,Md:()=>D,OM:()=>x,Oi:()=>R,Qn:()=>G,Qv:()=>g,UT:()=>y,Uf:()=>w,XL:()=>O,Zc:()=>f,eo:()=>F,gd:()=>C,iQ:()=>E,o7:()=>N,oD:()=>n,oH:()=>T,qE:()=>U,uY:()=>S,uw:()=>A,wd:()=>M,yO:()=>H});var i=r(307824),a=r(602216),o=r(721500),l=r(980068),s=r(326660),c=r(103839),d=r(312452),u=r(568864),p=r(57148),m=r(585508),_=r(979144),h=r(531163);function g(e,t,r=!0){let n={x:e.width/2+(t.x-e.offsetX)*e.zoomScale,y:e.height/2+(t.y-e.offsetY)*e.zoomScale};return r?c.Cg.rounded(n):n}function f(e,t){let r=new c.Cg(e.x,e.y),n=g(e,t);return c.Cg.add(n,r)}function E(e,t){return Math.round(e/t-.5)}function y(e,t,r,n){return Math.round(n/2+(e-t)*r)}function b(e,t){return c.Cg.rounded({x:(t.x-e.width/2)/e.zoomScale+e.offsetX,y:(t.y-e.height/2)/e.zoomScale+e.offsetY})}function v(e,t,r){let n=g(e,{x:t.x,y:t.y},r);return{x:n.x,y:n.y,width:t.width*e.zoomScale,height:t.height*e.zoomScale}}function I(e,t){return!(e.x+e.width<0)&&!(e.x>t.width)&&!(e.y+e.height<0)&&!(e.y>t.height)}function w(e,t){let{offsetX:r,offsetY:n,zoomScale:i,width:a,height:o}=t;return!(e.x<r-a/2/i)&&!(e.x+e.width>r+a/2/i)&&!(e.y<n-o/2/i)&&!(e.y+e.height>n+o/2/i)}function T(e){if(e.height<0||e.width<0||e.zoomScale<=0)throw(0,s.WI)("Viewport","invalid values",{info:e}),Error("Invalid Viewport");return{x:e.offsetX-e.width/e.zoomScale/2,y:e.offsetY-e.height/e.zoomScale/2,width:e.width/e.zoomScale,height:e.height/e.zoomScale}}function S(e,t){return{x:e.x+t.x,y:e.y+t.y,width:e.width,height:e.height}}function C(e){return(0,l.ei)((e,t,r,n)=>({x:e,y:t,height:r,width:n}))(e.x,e.y,e.height,e.width)}function A(e){let t=x(e),r=i.useRef(t);return i.useEffect(()=>{r.current=t},[r,t]),r}function O({subscribeToUpdates_expensive:e}){let t=x({subscribeToUpdates_expensive:e}),r=i.useContext(p.sh).current||t,n=t.offsetX-r.offsetX,a=t.offsetY-r.offsetY,o=t.zoomScale-r.zoomScale;return{...t,deltaOffsetX:n,deltaOffsetY:a,deltaZoomScale:o}}function N(e,t){i.useEffect(()=>{var r;(null==(r=m.CA)?void 0:r.isReady())&&e.subscribeToUpdates_expensive&&(t(m.CA.getViewportInfo()),(0,u.z)())},[t,e.subscribeToUpdates_expensive]),i.useEffect(()=>{if(m.CA&&e.subscribeToUpdates_expensive){let e=e=>{(0,a.flushSync)(()=>{t(e)})};return m.CA.viewport.on("onSetViewport",e),()=>{m.CA.viewport.removeListener("onSetViewport",e)}}},[t,e.subscribeToUpdates_expensive])}function L(e){return i.useContext(e),i.useContext(p.UB).current||p.yI}function R(e){return L(e.subscribeToUpdates_expensive?p.Ix:p.Ok).x}function P(e){return L(e.subscribeToUpdates_expensive?p.KS:p.Ok).y}function M(e){return L(e.subscribeToUpdates_expensive?p.WU:p.Ok).width}function k(e){return L(e.subscribeToUpdates_expensive?p.GS:p.Ok).height}function D(e){return L(e.subscribeToUpdates_expensive?p.yk:p.Ok).zoomScale}function F(e){return L(e.subscribeToUpdates_expensive?p.CE:p.iw).isPanning}function x(e){let t=R(e),r=P(e),n=M(e),a=k(e),o=L(e.subscribeToUpdates_expensive?p.io:p.Ok).offsetX,l=L(e.subscribeToUpdates_expensive?p.wB:p.Ok).offsetY,s=D(e),c=F(e),d=L(e.subscribeToUpdates_expensive?p.u:p.iw).isZooming;return i.useMemo(()=>({x:t,y:r,width:n,height:a,offsetX:o,offsetY:l,zoomScale:s,isPanning:c,isZooming:d}),[t,r,n,a,o,l,s,c,d])}function U(){let e={subscribeToUpdates_expensive:!0},t=R(e),r=P(e),n=M(e),a=k(e);return i.useMemo(()=>({x:t,y:r,width:n,height:a}),[t,r,n,a])}function B(){n=void 0}function G(e){let t=new Promise(e=>{n=e});return d.i46.computeViewportSettingsForNode__DO_NOT_USE_DIRECTLY(e),t}let V=(0,o.qe)(h.Mn$);function H(){let e={subscribeToUpdates_expensive:!0},t=(0,_.EP)()?V:0,r=R(e)+t,n=P(e)+t,a=M(e)-t,o=k(e)-t;return i.useMemo(()=>({x:r,y:n,width:a,height:o}),[r,n,a,o])}},427012:(e,t,r)=>{"use strict";r.d(t,{IF:()=>u,cx:()=>s,eY:()=>d});var n=r(560072),i=r(326848),a=r(775408),o=r(542276),l=r(941892);let s={[l._.EMBED_WIDGET]:a.Y,[l._.LINK_PREVIEW_WIDGET]:o.uM,[l._.AI_SUMMARY_WIDGET]:i.o},c={[l._.EMBED_WIDGET]:{propertyMenuItemNameToI18nId:{[a.G.OPEN]:()=>(0,n.t)("whiteboard.embeds.inline_menu.open_link"),[a.G.CONVERT_TO_TEXT]:()=>(0,n.t)("whiteboard.embeds.inline_menu.change_back_to_text")}},[l._.LINK_PREVIEW_WIDGET]:{propertyMenuItemNameToI18nId:{[o.yg.OPEN]:()=>(0,n.t)("whiteboard.embeds.inline_menu.open_link"),[o.yg.VERTICAL]:()=>(0,n.t)("whiteboard.embeds.inline_menu.display_vertical"),[o.yg.HORIZONTAL]:()=>(0,n.t)("whiteboard.embeds.inline_menu.display_horizontal"),[o.yg.CONVERT_TO_TEXT]:()=>(0,n.t)("whiteboard.embeds.inline_menu.change_back_to_text")}},[l._.AI_SUMMARY_WIDGET]:{propertyMenuItemNameToI18nId:{"":function(){throw Error("Function not implemented.")}}}};function d(e){return!!l._[e]}function u(e,t){let r=c[e];if(r.propertyMenuItemNameToI18nId[t])return r.propertyMenuItemNameToI18nId[t]()}},69040:(e,t,r)=>{"use strict";r.d(t,{EP:()=>F,UI:()=>x,W:()=>P,eY:()=>V,iL:()=>M,mI:()=>G,mc:()=>R});var n=r(250008),i=r(899116),a=r(867084),o=r(656716),l=r(843148),s=r(888932),c=r(554252),d=r(326660),u=r(58908),p=r(234284),m=r(355064),_=r(762820),h=r(274572),g=r(212076),f=r(997708),E=r(312452);function y(e){return"prototype-lib"===e?Fig.prototypeLibURLs["compiled_wasm.wasm"]:Fig.fullscreenURLs["compiled_wasm.wasm"]}function b(e){return"prototype-lib"===e?Fig.prototypeLibURLs["compiled_wasm.js"]:Fig.fullscreenURLs["compiled_wasm.js"]}async function v(e,t){await (0,a.aU)(b(t));let r=window.executeFullscreenEmscriptenCode;delete window.executeFullscreenEmscriptenCode;let n={wasmBinaryFile:y(t),preRun(){n.emscripten_realloc_buffer(1610612736)}};window.Module=n,window.tsapi_init=(r,n)=>{e.tsapi_init(r),(0,f._J)(t,n)},window.tsApisForCpp=e.tsApisForCpp,r()}async function I(e){let t,r;try{await g.Ws.timeAsync("loadingCode",()=>{var t;return(null==(t=window.FULLSCREEN_PRELOADS)?void 0:t.js)||(0,a.aU)(b(e))})}catch(e){throw Error("Failed to load fullscreen JS code")}let n=window.executeFullscreenEmscriptenCode;delete window.executeFullscreenEmscriptenCode;let i={instantiateWasm:(e,n)=>(t=e,r=n,{}),wasmMemory:(0,h.YF)(e)};window.Module=i;try{n()}finally{delete window.Module}if(void 0===t)throw Error('Expected WebAssembly code to set "imports"');if(void 0===r)throw Error('Expected WebAssembly code to set "receiveInstance"');return{imports:t,receiveInstance:r}}async function w(e,t){let r=g.Ws.time("instantiateStreaming",async()=>{try{return await WebAssembly.instantiateStreaming(e,t)}catch(e){if("string"==typeof e)throw Error(e);throw e}});return await g.Ws.timeAsync("awaitInstantiateStreaming",()=>r)}async function T(e,t){if(!e.ok)throw Error(`Downloading wasm failed with ${e.status}`);let r=await e.arrayBuffer(),n=g.Ws.time("instantiate",async()=>{try{return await WebAssembly.instantiate(r,t)}catch(e){if("string"==typeof e)throw Error(e);throw e}});return await g.Ws.timeAsync("awaitInstantiate",()=>n)}let S=!1,C=null;async function A(e){var t;!C||C===e||(0,p.g9)()||R()||("fullscreen-app"===C?(0,d.oP)(u._.CLIENT_PLATFORM,Error("Previously downloaded fullscreen wasm, but is now downloading prototype-lib")):"prototype-lib"===C&&(0,d.oP)(u._.CLIENT_PLATFORM,Error("Previously downloaded prototype-lib wasm, but is now downloading fullscreen")));let r=y(e);g.Ws.start("loadingBinaryStart");let[n,i]=await Promise.all([(null==(t=window.FULLSCREEN_PRELOADS)?void 0:t.wasm)||fetch(r),I(e)]);delete window.FULLSCREEN_PRELOADS;let{imports:a,receiveInstance:o}=i;if("true"===n.headers.get("x-figma-local-build")&&(S=!0),WebAssembly.instantiateStreaming)try{let t=await w(n,a);return C=e,{receiveInstance:o,wasmResult:t}}catch(e){if(e&&(!e.message||e.message.includes("Incorrect response MIME type")||e.message.includes("Unexpected response MIME type")))console.warn('Detected a proxy interfering with the "application/wasm" MIME type. Falling back to a slower WebAssembly instantiation method instead.'),(0,d.oP)(u._.UNOWNED,Error(`Working around error instantiating streaming fullscreen WASM: ${e}`)),n=await fetch(r);else throw(0,d.sz)("loader","Error loading wasm",{url:r,message:null==e?void 0:e.message}),e}let l=await T(n,a);return C=e,{receiveInstance:o,wasmResult:l}}let O=(0,c.G6)(async()=>await A("fullscreen-app")),N=(0,c.G6)(async()=>await A("prototype-lib")),L=async e=>{switch(e){case"fullscreen-app":return await O();case"prototype-lib":return await N()}};function R(){let e=o.default.location.pathname;for(let t of["/c","/community","/@","/user","/org","/team"])if(e.startsWith(t))return!0;return!1}let P=!/Mobi/.test(navigator.userAgent)||/iPad/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent);function M(e="fullscreen-app"){return L(e).then(()=>{})}let k=document.location.pathname;function D(e){return"/preload-editor"===e||"/preload-android-proto"===e}function F(){return D(k)&&(0,s.MX)()&&s.WO||k.startsWith("/proto/")||i.sZ&&!i.sZ.isFileTab()||i.mY||R()||D(o.default.location.pathname)&&!i.sZ?"never":!(0,l.Ub)().preload_fullscreen_on_load||"complete"===document.readyState||(0,o.x)()?"immediately":"eventually"}function x(){function e(){L("fullscreen-app").catch(e=>{})}let t=F();"immediately"===t?e():"eventually"===t&&window.addEventListener("load",()=>{e()})}let U=null,B=null;async function G(e,t="fullscreen-app"){if(B&&B!==t&&!(0,p.g9)()&&("fullscreen-app"===B?(0,d.oP)(u._.UNOWNED,Error("Previously initialized fullscreen wasm, but is now initializing prototype-lib")):"prototype-lib"===B&&(0,d.oP)(u._.UNOWNED,Error("Previously initialized prototype-lib wasm, but is now initializing fullscreen"))),!y(t)||!window.WebAssembly)return location.href="/unsupported_browser",new Promise(()=>null);if((0,m.iE)("asan"))return B=t,v(e,t);try{U&&U!==e&&await o.default.reloadAndWaitForever("wasmBindings changed",{from:E.w3O[U.tsApisForCpp.CommonApp().appType()],to:E.w3O[e.tsApisForCpp.CommonApp().appType()]}),U=e;let{receiveInstance:r,wasmResult:i}=await L(t);(0,f.gf)(()=>{g.Ws.time("callMain",()=>r(i.instance,i.module))},U,t),B=t,(0,p.g9)()&&_.Q5I.setIsRunningInteractionTests(),(0,n.we)("Fullscreen Loaded")}catch(e){throw(0,n.we)("Fullscreen Load Failure",{error:e+""}),!e||"Failed to fetch"===e.message||"Could not download wasm module"===e.message||e.message.includes("NetworkError")||e.message.toLowerCase().includes("network error")||(e instanceof Error||(e=Error(`Fullscreen load failure: ${e}`)),(0,d.oP)(u._.UNOWNED,e)),e.reportedToSentry=!0,e}}function V(){if(S)return!0;let e=Fig.fullscreenURLs["compiled_wasm.js"];return!!(e&&e.startsWith("/"))}},917452:(e,t,r)=>{"use strict";let n,i,a;r.d(t,{EF:()=>d,GQ:()=>o,_:()=>s,aM:()=>l,cb:()=>c,oR:()=>u});var o=((n=o||{}).COMMUNITY="community",n);let l=2e3,s="DROPDOWN_TYPE_GENERIC_COMMENT_MENU",c="DROPDOWN_TYPE_COMMUNITY_PROFILE_MORE_ACTIONS_MENU";var d=((i=d||{}).ALL_DISABLED="all_disabled",i.ENABLED="enabled",i),u=((a=u||{}).REPORT="report",a.REPORT_AND_HIDE="report_and_hide",a)},236296:(e,t,r)=>{"use strict";let n;r.d(t,{Az:()=>_,Yv:()=>v,_U:()=>b,cp:()=>f,iA:()=>h,mE:()=>E,oD:()=>g});var i=r(916924),a=r(843148),o=r(439460),l=r(514916),s=r(144984),c=r(215113),d=r(562128),u=r(846004),p=r(333928),m=r(553432),_=((n=_||{}).FILE="FILE",n.PROTOTYPE="PROTOTYPE",n.REPO="REPO",n.PINNED_FILE="PINNED_FILE",n.PROJECT="PROJECT",n.OFFLINE_FILE="OFFLINE_FILE",n);function h(e){return{type:"FILE",file:e}}function g(e){return{type:"PROTOTYPE",prototype:e}}function f(e,t){return{type:"REPO",repo:e.repo,branches:e.files,selectedBranchKey:t[e.repo.id],accessed_at:e.timestamp}}function E(e){return{type:"OFFLINE_FILE",file:e}}let y=e=>{let t=(0,o.es)(e.repo,e.branches,e.selectedBranchKey);return t?t:(e.repo.default_file_key?(0,o.es)(e.repo,e.branches,e.repo.default_file_key):null)||e.branches[0]};class b{static getId(e){switch(e.type){case"FILE":case"PINNED_FILE":return e.file.key;case"PROTOTYPE":return e.prototype.file_key+","+e.prototype.page_id+","+e.prototype.id;case"REPO":return e.repo.id;case"PROJECT":return e.folder.id;case"OFFLINE_FILE":return e.file.fileKey;default:(0,i.gy)(e)}}static getName(e){switch(e.type){case"FILE":case"PINNED_FILE":case"OFFLINE_FILE":return e.file.name;case"PROTOTYPE":return e.prototype.fig_file.name+" - "+e.prototype.name;case"REPO":return(0,o.ec)(e.repo);case"PROJECT":return e.folder.name;default:(0,i.gy)(e)}}static getAccessedAt(e){switch(e.type){case"FILE":return e.file.accessed_at;case"PROTOTYPE":return e.prototype.accessed_at;case"REPO":return e.accessed_at;case"PINNED_FILE":case"PROJECT":return null;case"OFFLINE_FILE":return new Date(e.file.lastUpdatedAt).toISOString();default:(0,i.gy)(e)}}static getSharedAt(e){switch(e.type){case"FILE":return e.file.shared_at;case"PROTOTYPE":return e.prototype.shared_at;case"REPO":return e.repo.shared_at;case"PINNED_FILE":case"PROJECT":case"OFFLINE_FILE":return null;default:(0,i.gy)(e)}}static getCreatedAt(e){switch(e.type){case"FILE":return e.file.created_at;case"PINNED_FILE":return e.file.createdAt.toISOString();case"PROTOTYPE":return e.prototype.fig_file.created_at;case"REPO":return e.branches.reduce((e,t)=>e<t.created_at?e:t.created_at,e.repo.created_at);case"PROJECT":return e.folder.created_at;case"OFFLINE_FILE":return new Date(e.file.createdAt).toISOString();default:(0,i.gy)(e)}}static getTouchedAt(e){var t;switch(e.type){case"FILE":return e.file.touched_at??e.file.updated_at;case"REPO":return e.branches.reduce((e,t)=>null!==e&&e>t.touched_at?e:t.touched_at,null);case"PROTOTYPE":return e.prototype.accessed_at;case"PINNED_FILE":return null;case"PROJECT":return(null==(t=e.folder.folderLastUpdated)?void 0:t.toISOString())??null;case"OFFLINE_FILE":return new Date(e.file.lastUpdatedAt).toISOString();default:(0,i.gy)(e)}}static getTrashedAt(e){switch(e.type){case"FILE":return e.file.trashed_at;case"PROTOTYPE":return e.prototype.fig_file.trashed_at;case"REPO":return e.repo.trashed_at;case"PINNED_FILE":case"OFFLINE_FILE":return null;case"PROJECT":return e.folder.deleted_at;default:(0,i.gy)(e)}}static getTrashedUser(e){var t;switch(e.type){case"FILE":return{id:e.file.trashed_user_id,handle:null==(t=e.file.trashed_user)?void 0:t.handle};case"PROTOTYPE":case"REPO":case"PINNED_FILE":case"PROJECT":case"OFFLINE_FILE":return null;default:(0,i.gy)(e)}}static getIsFavorited(e){switch(e.type){case"FILE":return!!e.file.is_favorited;case"PROTOTYPE":return!!e.prototype.is_favorited;case"REPO":return!!e.repo.is_favorited;case"PINNED_FILE":case"OFFLINE_FILE":return!1;case"PROJECT":return!!e.folder.is_favorited;default:(0,i.gy)(e)}}static getFavoritedResourceType(e){switch(e.type){case"FILE":case"PINNED_FILE":case"REPO":case"OFFLINE_FILE":return l.M$.FILE;case"PROTOTYPE":return l.M$.PROTOTYPE;case"PROJECT":return l.M$.FOLDER;default:(0,i.gy)(e)}}static getFileKey(e){switch(e.type){case"FILE":case"PINNED_FILE":return e.file.key;case"PROTOTYPE":return e.prototype.file_key;case"REPO":return e.repo.default_file_key??void 0;case"PROJECT":case"OFFLINE_FILE":return;default:(0,i.gy)(e)}}static getFileIconType(e){switch(e.type){case"FILE":let t=e.file.editor_type;switch(t){case l.aE.DESIGN:case l.aE.SLIDES:case null:return d.MB.DESIGN;case l.aE.WHITEBOARD:return d.MB.WHITEBOARD;default:(0,i.gy)(t)}case"PINNED_FILE":switch(e.file.editorType){case l.aE.DESIGN:case l.aE.SLIDES:return d.MB.DESIGN;case l.aE.WHITEBOARD:return d.MB.WHITEBOARD;default:(0,i.gy)(e.file.editorType)}case"REPO":return d.MB.DESIGN;case"PROTOTYPE":return d.MB.PROTOTYPE;case"PROJECT":return;case"OFFLINE_FILE":{let t=(0,s.sZ)(e.file.editorType);switch(t){case l.aE.DESIGN:case l.aE.SLIDES:return d.MB.DESIGN;case l.aE.WHITEBOARD:return d.MB.WHITEBOARD;default:(0,i.gy)(t)}}default:(0,i.gy)(e)}}static getUrl(e,t){switch(e.type){case"FILE":return(0,p.El)(e.file);case"PINNED_FILE":return(0,p.ie)(e);case"PROTOTYPE":return e.prototype.url;case"REPO":let r=(0,o.M5)(e.repo,e.branches,t);return r?(0,o.wJ)(r,e.repo,"file"):"";case"PROJECT":case"OFFLINE_FILE":return"";default:(0,i.gy)(e)}}static getFavoriteResourceId(e){switch(e.type){case"FILE":case"PINNED_FILE":return e.file.key;case"PROTOTYPE":return e.prototype.id;case"REPO":return e.repo.default_file_key;case"PROJECT":return e.folder.id;case"OFFLINE_FILE":return e.file.fileKey;default:(0,i.gy)(e)}}static getIsTeamTemplate(e){switch(e.type){case"FILE":return e.file.is_team_template;case"PINNED_FILE":return e.file.isTeamTemplate;case"PROTOTYPE":case"REPO":case"PROJECT":case"OFFLINE_FILE":return!1;default:(0,i.gy)(e)}}static getOrgId(e){var t,r;switch(e.type){case"FILE":return(null==(t=e.file.parent_org)?void 0:t.id)??e.file.parent_org_id;case"PINNED_FILE":return null;case"PROTOTYPE":return e.prototype.fig_file.parent_org_id??e.prototype.fig_file.parent_org_id;case"REPO":return(null==(r=e.repo.parent_org)?void 0:r.id)??e.repo.parent_org_id;case"PROJECT":return e.folder.org_id;case"OFFLINE_FILE":return(0,a.Ub)().file_browser_items_view?e.file.orgId:null;default:(0,i.gy)(e)}}static getFavoriteResourceTeamId(e){var t,r,n,i,a;switch(e.type){case"FILE":return(null==(t=e.file.parent_team)?void 0:t.id)??e.file.team_id;case"PINNED_FILE":default:return null;case"PROTOTYPE":return(null==(r=e.prototype.parent_team)?void 0:r.id)??(null==(n=e.prototype.fig_file)?void 0:n.team_id);case"REPO":return(null==(i=e.repo.parent_team)?void 0:i.id)??e.repo.team_id;case"PROJECT":return e.folder.team_id??(null==(a=e.folder.parent_team)?void 0:a.id)}}static getSharedBy(e){var t,r,n,a;switch(e.type){case"FILE":return(null==(t=e.file.shared_by_user)?void 0:t.id)??e.file.shared_by;case"PROTOTYPE":return(null==(r=e.prototype.shared_by_user)?void 0:r.id)??e.prototype.shared_by;case"REPO":return(null==(n=e.repo.shared_by_user)?void 0:n.id)??e.repo.shared_by;case"PROJECT":return(null==(a=e.folder.shared_by_user)?void 0:a.id)??e.folder.shared_by;case"PINNED_FILE":case"OFFLINE_FILE":return null;default:(0,i.gy)(e)}}static getSharedByName(e){var t,r,n,a;switch(e.type){case"FILE":return null==(t=e.file.shared_by_user)?void 0:t.name;case"PROTOTYPE":return null==(r=e.prototype.shared_by_user)?void 0:r.name;case"REPO":return null==(n=e.repo.shared_by_user)?void 0:n.name;case"PROJECT":return null==(a=e.folder.shared_by_user)?void 0:a.name;case"PINNED_FILE":return(0,i.kz)(!0,"Cannot get shared by name from a pinned file"),null;case"OFFLINE_FILE":return(0,i.kz)(!0,"Cannot get shared by name from an offline file"),null;default:(0,i.gy)(e)}}static getOwner(e){switch(e.type){case"FILE":return e.file.owner;case"PINNED_FILE":case"PROTOTYPE":case"REPO":case"PROJECT":case"OFFLINE_FILE":(0,i.kz)(!0,"Did not expect to render owner for non-file tiles");return;default:(0,i.gy)(e)}}static getAppData(e){switch(e.type){case"FILE":return e.file.appData;case"REPO":return e.repo.appData;case"PROJECT":return e.folder.appData;case"PROTOTYPE":case"PINNED_FILE":return{};case"OFFLINE_FILE":return{isRenaming:!!e.file.isRenaming};default:(0,i.gy)(e)}}static getIsPasswordProtected(e){switch(e.type){case"FILE":return(0,u.$P)(e.file);case"REPO":return(0,o.g9)(e.repo);case"PROJECT":return(0,i.kz)(!0,"Did not expect to check ownership for non-file tiles"),!1;case"PROTOTYPE":return(0,u.i8)(e.prototype.fig_file)||(0,u.$P)(e.prototype.fig_file);case"PINNED_FILE":return(0,u.$P)({has_file_link_password:e.file.hasFileLinkPassword,link_access:e.file.linkAccess});case"OFFLINE_FILE":return!1;default:(0,i.gy)(e)}}static getHasViewAccess(e,t){switch(e.type){case"FILE":case"PINNED_FILE":return(0,m.canViewResource)(l.y4.FILE,e.file.key,t);case"REPO":return(0,m.canViewResource)(l.y4.FILE_REPO,e.repo.id,t);case"PROJECT":return(0,m.canViewResource)(l.y4.FOLDER,e.folder.id,t);case"PROTOTYPE":return(0,m.canViewPrototypes)(e.prototype.file_key,t);case"OFFLINE_FILE":return!0;default:(0,i.gy)(e)}}static getFolderId(e){switch(e.type){case"FILE":return e.file.folder_id;case"REPO":return e.repo.folder_id;case"PROJECT":return(0,i.kz)(!0,"Did not expect to check folder ID for a folder"),null;case"PROTOTYPE":return e.prototype.fig_file.folder_id;case"PINNED_FILE":return e.file.folderId;case"OFFLINE_FILE":return null;default:(0,i.gy)(e)}}static getThumbnailUrl(e){switch(e.type){case"FILE":return e.file.thumbnail_url_override??e.file.thumbnail_url;case"REPO":let t=y(e);return t?t.thumbnail_url_override??t.thumbnail_url:null;case"PROJECT":return(0,i.kz)(!0,"Did not expect to check folder ID for a folder"),null;case"PROTOTYPE":return e.prototype.thumbnail_url;case"PINNED_FILE":return e.file.thumbnailUrlOverride??e.file.thumbnailUrl;case"OFFLINE_FILE":return null;default:(0,i.gy)(e)}}static getIsThumbnailFullWidth(e){switch(e.type){case"FILE":return!!e.file.thumbnail_guid;case"REPO":let t=y(e);return t?t.thumbnail_guid:null;case"PROJECT":return(0,i.kz)(!0,"Did not expect to check folder ID for a folder"),null;case"PROTOTYPE":return!0;case"PINNED_FILE":return!!e.file.thumbnailGuid;case"OFFLINE_FILE":return null;default:(0,i.gy)(e)}}static getEditorType(e){switch(e.type){case"FILE":return e.file.editor_type;case"REPO":return l.aE.DESIGN;case"PROJECT":return(0,i.kz)(!0,"Did not expect to check editor type for a folder"),null;case"PROTOTYPE":return null;case"PINNED_FILE":case"OFFLINE_FILE":return e.file.editorType;default:(0,i.gy)(e)}}static getClientMeta(e){switch(e.type){case"FILE":return e.file.client_meta;case"REPO":let t=y(e);return t?t.client_meta:null;case"PROJECT":return(0,i.kz)(!0,"Did not expect to check client meta for a folder"),null;case"PROTOTYPE":case"OFFLINE_FILE":return null;case"PINNED_FILE":return e.file.clientMeta;default:(0,i.gy)(e)}}static getCanEdit(e){var t;switch(e.type){case"FILE":return(null==(t=e.filePerms)?void 0:t.canEdit)??null;case"REPO":let r=y(e);return r&&e.repoPerms?e.repoPerms.canEditBranch(r.key):null;case"PROJECT":return(0,i.kz)(!0,"Did not expect to check canEdit for a folder"),null;case"PROTOTYPE":case"PINNED_FILE":return null;case"OFFLINE_FILE":return!0;default:(0,i.gy)(e)}}}let v={FILE:c.y.FILES,PROTOTYPE:c.y.PROTOTYPES,REPO:c.y.REPOS,PINNED_FILE:c.y.PINNED_FILES,PROJECT:c.y.PROJECTS,OFFLINE_FILE:c.y.OFFLINE_FILES}},147048:(e,t,r)=>{"use strict";r.d(t,{SS:()=>I,Sg:()=>S,Sw:()=>b,WC:()=>v,ay:()=>C,iq:()=>w,sP:()=>A,wD:()=>T});var n=r(307824),i=r(602216),a=r(120304),o=r(721500),l=r(972920),s=r(767816),c=r(103839),d=r(986208),u=r(750908),p=r(312452),m=r(456076),_=r(480232),h=r(101040),g=r(417184),f=r(511196),E=r(762820),y=r(763456);let b=480,v=616,I=616-h.ov;function w(e,t=552,r=320){let[i,a]=n.useState(),[s,d]=n.useState(),[u,p]=n.useState(!1);return n.useLayoutEffect(()=>{let n=()=>{let n,i;switch(e.kind){case"mountCenter":n=window.innerWidth/2,i=window.innerHeight/2;break;case"buttonTarget":let l=(0,f.S2)(e.buttonTarget);if(!l)return;let s=l.getBoundingClientRect();n=s.x+s.width/2,i=s.y-s.height;break;case"sourceRect":n=e.sourceRect.x+e.sourceRect.width/2,i=e.sourceRect.y}let d=n-r/2,m=i-t-12+h.ov;window.innerWidth-d<r?(u||p(!0),d=window.innerWidth-r-_.YB):u&&p(!1),m=Math.max((0,o.I)(y.eWp)+_.YB,m),a(new c.Cg(d,m))};setTimeout(n,0);let i=(0,l.C)(n,100);return window.addEventListener("resize",i),()=>{window.removeEventListener("resize",i)}},[e,t,r,u]),{initialModalPosition:i,modalPosition:s,setModalPosition:d,modalWasClippedByRightSide:u}}function T(){let e=(0,a.OY)();return n.useCallback(()=>{E.i46&&E.i46.triggerAction("set-tool-default",null),e(u.kv())},[e])}function S(e,t,r){let o=(0,a.w1)(e=>e.mirror.appModel.currentTool===p.w3X.CODE_BLOCK),l=(0,a.w1)(e=>e.modalShown),c=(0,a.w1)(e=>e.mirror.appModel.showUi),d=T(),u=n.useCallback(()=>{!o&&(l||d())},[o,l,d]);n.useEffect(()=>{let n=n=>{var a;if(!e||(0,s.qU)(n.target,"data-does-not-dismiss-modal"))return;let o=i.findDOMNode(null==(a=t.current)?void 0:a.getEl());if(!o)return;let l=o.contains(n.target);if(c||l||u(),!r){u();return}let d=document.querySelector(r);if(!d)return;let p=d.contains(n.target);l||p||u()};return document.addEventListener("pointerdown",n),()=>{document.removeEventListener("pointerdown",n)}},[r,u,e,t,c])}function C(e){return e.mirror.appModel.currentTool===p.w3X.NONE&&e.universalInsertModal.showing&&e.universalInsertModal.pinned===m.a.NOT_PINNED}function A(e,t,r,i){let o=(0,a.OY)(),l=(0,a.w1)(e=>{var t;return(0,g.uC)({authedProfilesById:e.authedProfilesById,userId:null==(t=e.user)?void 0:t.id})});return{unsave:n.useCallback(r=>{e&&o((0,d.SY)({id:e,resourceType:t,communityProfile:l||void 0,hideSuccessVisualBell:r,source:d.wL.INSERTS_MODAL,optimisticData:{pluginInstallId:i}}))},[e,o,t,l,i]),save:n.useCallback((n,i)=>{e&&o((0,d.us)({id:e,resourceType:t,communityProfile:l||void 0,onSuccess:n,hideSuccessVisualBell:i,source:d.wL.INSERTS_MODAL,optimisticData:{resource:r}}))},[e,o,t,l,r])}}},136736:(e,t,r)=>{"use strict";r.d(t,{U:()=>a,g:()=>i});var n=r(120304);function i(){return(0,n.w1)(e=>""!==e.desktopNewTab.searchQuery&&e.desktopNewTab.isSearchBarFocused)}function a(){var e;let t=(0,n.w1)(e=>e.search);return{isLoading:!t.responses.files,searchResults:((null==(e=t.responses.files)?void 0:e.results)??[]).slice(0,5)}}},697436:(e,t,r)=>{"use strict";r.d(t,{I1:()=>m,MZ:()=>E,We:()=>f,eG:()=>g,oX:()=>h,yS:()=>_});var n=r(307824),i=r(120304),a=r(843148),o=r(560072),l=r(814104),s=r(849208);r(997108);var c=r(67364),d=r(778112),u=r(492084),p=r(919364);let m=new Set(["PM","ENG","DES","MKT","UR"]),_=(e,t)=>e?l.y_.loadingKeyForPayload({shelfType:d.CW.FILE_BROWSER_RECOMMENDED_TEMPLATES,filterLabel:t}):l.UR.loadingKeyForPayload({shelfType:d.CW.FILE_BROWSER_RECOMMENDED_TEMPLATES}),h=(0,u.w)(e=>(function(e){if(!e)return"OTH";let t={"software-development":"ENG","user-research":"UR",design:"DES",marketing:"MKT","product-management":"PM",other:"OTH"};if(e in t)return t[e];let r={"project-manager":"PM",designer:"DES",developer:"ENG",marketer:"MKT","product-manager":"PM",consultant:"OTH",sales:"MKT","ux-researcher":"UR",student:"OTH",educator:"OTH"};return e in r?r[e]:e.endsWith("-developer")?"ENG":e.endsWith("-designer")?"DES":e.includes("Eng")||e.includes("Dev")?"ENG":e.includes("Des")?"DES":e.includes("Lead")||e.includes("Man")?"PM":"OTH"})(function(e){var t;return null==(t=null==e?void 0:e.profile)?void 0:t.job_title}(e)??"OTH"));function g(e){let t=function(){function e(e){return!!(e&&e.createdAt&&new Date(e.createdAt).getTime()>0)}let t=(0,p.e)("thumbnail_exp_variant_1"),r=(0,p.e)("thumbnail_exp_variant_2"),n=(0,p.e)("thumbnail_exp_variant_3");return(0,a.Ub)().file_browser_23_thumbnails_ret?e(t)?"variant_1":e(r)?"variant_2":e(n)?"variant_3":void 0:void 0}(),r=(0,i.OY)();return(0,n.useMemo)(()=>{if(t)return t;if(!e)return"control";let n=(0,c.O)("exp_file_browser_23_thumbnails",e.id).defaultValue("control").treatment("variant_1","variant_1").treatment("variant_2","variant_2").treatment("variant_3","variant_3").get();return"control"!==n&&r(s.s({thumbnail_exp_variant_1:"variant_1"===n,thumbnail_exp_variant_2:"variant_2"===n,thumbnail_exp_variant_3:"variant_3"===n})),n},[t,e,r])}function f(e,t){if("control"!==t){if("variant_1"===t)return({"1009957993740460488":"https://static.figma.com/uploads/dec5a579e129f850d9cb185e10eb9cb857c549b3","1025461733126324339":"https://static.figma.com/uploads/cb7a96dc6ea6f0a0b8923c232a08611b8336a67a","1026970355968683737":"https://static.figma.com/uploads/2ede031a7acb59d1f6f5f6c8ae188074913680af","1027357893837345723":"https://static.figma.com/uploads/f8de29efb26c60db3029ce1a9c88eb530e849d39","1027358830096634813":"https://static.figma.com/uploads/e0b44978a4d3f08f0fe4b73d6be7ed7b5f24cc79","1028014024373154378":"https://static.figma.com/uploads/13599dd138874321a78e009db24dbe76ff979daf","1028076208648642188":"https://static.figma.com/uploads/095ae1d553942aa896ccf6b25966edd97667b165","1028102440297541271":"https://static.figma.com/uploads/d234bd0d3547321b683bfeb0a95260de01f33cd9","1035969027238355356":"https://static.figma.com/uploads/9f5e7c6ec10186bdd4716d9651e20b03570b7c22","1007804018270351087":"https://static.figma.com/uploads/2adfa67fff1922d3f0faba620e8660deab23a699"})[e];if("variant_2"===t)return({"1009957993740460488":"https://static.figma.com/uploads/b82cbe0b8d583693678dfe2eb7fb85662c7fe11c","1025461733126324339":"https://static.figma.com/uploads/e2ebd20d15452c471d365f88d629911da44aacf2","1026970355968683737":"https://static.figma.com/uploads/ccd5c27beb272f3608160108cec503de9550b789","1027357893837345723":"https://static.figma.com/uploads/cfca0b847f79993d092d635786f5b085b6664006","1027358830096634813":"https://static.figma.com/uploads/919a10d3fff28cb90bd53fb4435f807b5b708963","1028014024373154378":"https://static.figma.com/uploads/292a8d13e09a3506e7d874b7b1595bee1a7beda3","1028076208648642188":"https://static.figma.com/uploads/d057fcc153fa36f56c30a0cb8a53328663b1960e","1028102440297541271":"https://static.figma.com/uploads/8275bd22bf5b995454fc577d515d8452ff0783c7","1035969027238355356":"https://static.figma.com/uploads/ac044621d0e841ba6f0e7f0481dde1bb2c301c26","1007804018270351087":"https://static.figma.com/uploads/67c41046ae9c09e17728ac922871df4582b6a159"})[e];if("variant_3"===t)return({"1009957993740460488":"https://static.figma.com/uploads/7d5267406323239e5f1ad8c9ff5a3a4dbf93f239","1025461733126324339":"https://static.figma.com/uploads/02b39eb93add7d83214a9cd88be7dab63f255ee2","1026970355968683737":"https://static.figma.com/uploads/d15980d666915e1615d39c7205b1b133a26148e9","1027357893837345723":"https://static.figma.com/uploads/266af7247de711d9f48d811a1a9c2b4dd852e6b9","1027358830096634813":"https://static.figma.com/uploads/cfc9173b679cf2fd03f52d72abc8edbbacab4512","1028014024373154378":"https://static.figma.com/uploads/03696f3080f65ef88bac7bace1e4ab25ba5dbe97","1028076208648642188":"https://static.figma.com/uploads/5fb013c0234616b8e1d91b9d0c33310e4416ead4","1028102440297541271":"https://static.figma.com/uploads/18745d0e7879928855004562e40c33ea76e6477d","1035969027238355356":"https://static.figma.com/uploads/80f319257d9228e6c395d3f6e69410a56c4e96b1","1007804018270351087":"https://static.figma.com/uploads/4f7d5c6a313bfd6295406bc60d8157b85418bfd0"})[e]}}function E(e){if(!e||!m.has(e))return[null,null];switch(e){case"PM":return[(0,o.t)("file_browser.new_file_creation_topbar.explore_fig_jam_templates_pm"),(0,o.t)("file_browser.new_file_creation_topbar.explore_fig_jam_templates_pm_badge")];case"ENG":return[(0,o.t)("file_browser.new_file_creation_topbar.explore_fig_jam_templates_eng"),(0,o.t)("file_browser.new_file_creation_topbar.explore_fig_jam_templates_eng_badge")];case"DES":return[(0,o.t)("file_browser.new_file_creation_topbar.explore_fig_jam_templates_des"),(0,o.t)("file_browser.new_file_creation_topbar.explore_fig_jam_templates_des_badge")];case"MKT":return[(0,o.t)("file_browser.new_file_creation_topbar.explore_fig_jam_templates_mkt"),(0,o.t)("file_browser.new_file_creation_topbar.explore_fig_jam_templates_mkt_badge")];case"UR":return[(0,o.t)("file_browser.new_file_creation_topbar.explore_fig_jam_templates_ur"),(0,o.t)("file_browser.new_file_creation_topbar.explore_fig_jam_templates_ur_badge")];default:return[null,null]}}},397888:(e,t,r)=>{"use strict";r.d(t,{A1:()=>u,Ig:()=>p,_o:()=>g,a0:()=>m,aC:()=>E,au:()=>h,ct:()=>d,gV:()=>y,is:()=>_,uc:()=>f});var n=r(307824),i=r(120304),a=r(329956),o=r(435176),l=r(907152);let s=e=>{var t;return null==(t=null==e?void 0:e.mirror)?void 0:t.sceneGraph},c=()=>(0,i.o3)();function d(){return(0,i.w1)(s)}function u(){return n.useMemo(()=>new l.TSSceneGraph(l._w.PLAYGROUND),[])}let p=()=>(0,i.w1)(e=>e.mirror.sceneGraphSelection);function m(){return!(0,i.w1)(e=>(0,a.t7)(e.mirror.sceneGraphSelection))}function _(e){let t=c(),r=p(),i=(0,n.useRef)();i.current=()=>{e(t.getState())},(0,n.useEffect)(()=>{i.current()},[r])}function h(){return(0,i.w1)(e=>{var t,r;return null==(r=null==(t=null==e?void 0:e.mirror)?void 0:t.appModel)?void 0:r.currentTool})}function g(){return(0,i.w1)(e=>{var t;return(0,o.K)(null==(t=null==e?void 0:e.progressBarState)?void 0:t.mode)})}function f(e){return(0,i.w1)(t=>t.mirror.appModel[e])}let E=(0,n.createContext)(null);function y(){let e=(0,i.w1)(e=>e.mirror.sceneGraph);return(0,n.useContext)(E)||e}},481556:(e,t,r)=>{"use strict";let n;r.d(t,{KQ:()=>h,Q$:()=>p,Sm:()=>I,UR:()=>b,Uf:()=>m,Wc:()=>_,iq:()=>v,o$:()=>u,ol:()=>g});var i=r(307824),a=r(120304),o=r(623131),l=r(372152),s=r(762820),c=r(274572),d=r(149756);let u=75,p=60,m=90;var _=((n=_||{})[n.SAFE=0]="SAFE",n[n.WARNING=1]="WARNING",n[n.ERROR=2]="ERROR",n[n.OOM=3]="OOM",n);function h(e){}function g(){let e=(0,c.gT)()/s.Ehi.getHeapMemoryLimit()*100;return{memoryUsedPercent:e=Math.round(100*(e=Math.max(0,e=Math.min(100,e)))+Number.EPSILON)/100,usingTestMemory:!1}}let f=(0,o.Zf)(0),E=(0,o.Zf)(0),y=(0,o.Zf)(!1);function b(){let e=(0,a.w1)(e=>{var t;return(null==(t=e.modalShown)?void 0:t.type)===d.UH}),[t,r]=(0,l.lZ)(f),[n,o]=(0,i.useState)(!1),{memoryUsedPercent:c,usingTestMemory:m}=((0,a.w1)(e=>e.mirror),g()),[_,h]=(0,l.lZ)(E),[b,v]=(0,l.lZ)(y);return(0,i.useEffect)(()=>{let n;let i=e?3:(n=t,0===t?c>=u?n=2:c>=p&&(n=1):1===t?c>=u?n=2:c<p&&(n=0):2===t&&c<u&&(n=c<p?0:1),n);t!==i&&(h(t),r(i),v(!1),i>0&&s.KEP.uiState().showInFileMemoryPercentage.set(!0)),_&&_>0&&(0===i&&s.KEP.uiState().showInFileMemoryPercentage.set(!1),o(!0))},[t,c,e,_,v,r,h]),{warningLevel:t,memoryUsedPercent:c,usingTestMemory:m,previousWarningLevelUnsafe:n,previousWarningLevel:_,warningTracked:b,setWarningTracked:v}}function v(e,t,r){let n=(0,c.gT)()/t*e*100/s.Ehi.getHeapMemoryLimit();return r?n>=.1?`${n.toFixed(1)}%`:"--":n>=10?`${n.toFixed(1)}%`:`${n.toFixed(2)}%`}function I(){let e=s.GyV.getSubtreeMemoryUsage("0:2");return(0,c.gT)()/s.GyV.getSubtreeMemoryUsage("0:0")*e*100/s.Ehi.getHeapMemoryLimit()}},78168:(e,t,r)=>{"use strict";r.d(t,{AF:()=>E,Ar:()=>h,IV:()=>g,ec:()=>_,iG:()=>f});var n=r(307824),i=r(120304),a=r(372152),o=r(26708),l=r(266772),s=r(540696),c=r(312452),d=r(901092),u=r(907152),p=r(84656),m=r(795368);function _(){var e;return h({selectedView:(0,i.w1)(e=>e.selectedView),isLoadingVersionHistory:null==(e=(0,i.w1)(e=>e.versionHistory))?void 0:e.isLoadingPage,theme:(0,l.qG)()})}function h({selectedView:e,isLoadingVersionHistory:t,theme:r}){var i;let l=(null==e?void 0:e.view)==="prototype",_=l?null:u.TSSceneGraph.instance.getCurrentPage(),h=n.useMemo(()=>null==_?void 0:_.backgroundColor,[_]),g=!!(0,p.s5)(null==(i=c.KEP)?void 0:i.currentPageState().requestedPageChange),f=(0,a.m4)(d.mi),E=(0,a.m4)(d.qe),y=(0,a.m4)(d.sn);return n.useMemo(()=>{let e;if(l)return{isLoading:!1};let n=(0,s.kB)(h);return(e=null!==n?o.Q.format(n):r&&"dark"===(0,m.ID)(r)?"rgba(30, 30, 30, 1)":"rgba(229, 229, 229, 1)",null!=n?(n.a=.7,e=o.Q.format(n)):e="rgba(229, 229, 229, 0.1)",f)?{background:e,isLoading:!1}:{background:e,isLoading:!!t||g||y||E}},[l,h,r,f,t,g,y,E])}function g(e){return e.some(e=>e.status!==c.Q1C.LOADED)}function f(e){return e.every(e=>e.status===c.Q1C.LOADED)}function E(e,t){for(let r of e)if(r.nodeId===t)return r.status;return null}},560864:(e,t,r)=>{"use strict";r.d(t,{_m:()=>h,cz:()=>f,uG:()=>g});var n=r(307824),i=r(120304),a=r(733960),o=r(843148),l=r(506616),s=r(448604),c=r(219096),d=r(472956),u=r(790184),p=r(489796),m=r(392992),_=r(572748);function h(e){let t=(0,i.w1)(e=>e.library),r=(0,p.oT)(),a=(0,i.w1)(e=>e.recentlyUsed.libraryItems);return(0,n.useMemo)(()=>{let n=[],i=[];for(let l of a[e])if(l.type===u.Af.COMPONENT||l.type===u.Af.STATE_GROUP){let e=function(e,t){var r,n,i,a,o,l,s,c;return e.type===u.Af.COMPONENT?(null==(n=null==(r=t.published.components[e.team_id])?void 0:r[e.file_key])?void 0:n[e.node_id])||(null==(a=null==(i=t.defaultPublished.components[e.team_id])?void 0:i[e.file_key])?void 0:a[e.node_id]):e.type===u.Af.STATE_GROUP?(null==(l=null==(o=t.published.stateGroups[e.team_id])?void 0:o[e.file_key])?void 0:l[e.node_id])||(null==(c=null==(s=t.defaultPublished.stateGroups[e.team_id])?void 0:s[e.file_key])?void 0:c[e.node_id]):void 0}(l,t);e&&n.push(e)}else if(l.type===u.Af.MODULE&&(0,o.Ub)().dse_editor_templates_v1&&r.data){let e=function(e,t){var r;return null==(r=t[e.file_key])?void 0:r.find(t=>t.node_id===e.node_id)}(l,r.data);e&&i.push(e)}return{productComponents:n,templates:i}},[a,e,t,r])}function g(){let e=(0,i.OY)(),t=(0,m.K0)(),r=(0,_.kV)(),u=!!(0,o.Ub)().dse_preset_libraries,p=!!t&&!!r,h=(0,i.o3)(),g=(0,l.Qb)(d.SWd,{fileKey:t},{enabled:p});(0,n.useEffect)(()=>{var r,n,i,a;if(t&&"loaded"===g.status&&p){let t=(null==(a=null==(i=null==(n=null==(r=g.data)?void 0:r.file)?void 0:n.team)?void 0:i.workspace)?void 0:a.librarySubscriptions)||[],o=(0,c.qI)(t,{ignoreCommunitySubs:!u});e(s.w9({subscriptions:o}))}},[e,t,u,g,p]);let f=(0,a.i)(g);(0,n.useEffect)(()=>{var e,t,r,n,i,a,o,l;if(!(null==f?void 0:f.data)||!g.data)return;let s=(null==(n=null==(r=null==(t=null==(e=g.data)?void 0:e.file)?void 0:t.team)?void 0:r.workspace)?void 0:n.librarySubscriptions)||[],d=(null==(l=null==(o=null==(a=null==(i=f.data)?void 0:i.file)?void 0:a.team)?void 0:o.workspace)?void 0:l.librarySubscriptions)||[];(0,c._e)(h,d,s)},[h,g,f])}function f(e){let t=(0,i.OY)(),r=(0,_.kV)(),a=!!e&&!!r,u=!!(0,o.Ub)().dse_preset_libraries,p=(0,l.Qb)(d.MHk,{teamId:e},{enabled:a});(0,n.useEffect)(()=>{var e,r,n;if("loaded"===p.status&&a){let i=(null==(n=null==(r=null==(e=p.data)?void 0:e.team)?void 0:r.workspace)?void 0:n.librarySubscriptions)||[],a=(0,c.qI)(i,{ignoreCommunitySubs:!u});t(s.w9({subscriptions:a}))}},[t,u,p,a])}},103840:(e,t,r)=>{"use strict";r.d(t,{AP:()=>a,EP:()=>o,GO:()=>_,I7:()=>d,Mf:()=>l,Mh:()=>E,OU:()=>g,QP:()=>w,SI:()=>b,UF:()=>y,YH:()=>f,YX:()=>u,_T:()=>h,_Y:()=>I,aG:()=>v,gT:()=>p,im:()=>c,k1:()=>m,op:()=>s,qq:()=>T,y2:()=>i});var n=r(888932);function i(){return window.FigmaMobile}function a(){return i()}function o(){return window.FigmaMobile}function l(){return o()}function s(){return window.FigmaMobile}function c(){return window.FigmaMobile}function d(){return window.FigmaMobile}function u(){return window.FigmaMobile}function p(){return window.FigmaMobile}function m(){return window.FigmaMobile}function _(){return window.FigmaMobile}function h(){return _()}function g(){return window.FigmaMobile}function f(){return window.FigmaMobile}function E(){return window.FigmaMobile}function y(){return window.FigmaMobile}function b(){return window.FigmaMobile}function v(){return window.FigmaMobile}function I(){return window.FigmaMobile}function w(){return window.FigmaMobile}function T(e){let t=window.FigmaMobile;return"prototype"===e.view?n.cp.isMobileBrowser&&!e.commentsEnabled:"fullscreen"===e.view&&!!(null==t?void 0:t.shouldOptimizeForIpadApp)&&!e.commentsEnabled}},421584:(e,t,r)=>{"use strict";r.d(t,{QD:()=>l,Ut:()=>s,s$:()=>d,y_:()=>c});var n=r(120304),i=r(365224),a=r(681608),o=r(869588);function l(){let e=(0,n.w1)(e=>{var t,r;return(null==(t=e.selectedView)?void 0:t.view)==="fullscreen"&&(null==(r=e.selectedView)?void 0:r.editorType)==="design"}),t=(0,n.w1)(e=>{var t;return null==(t=e.mirror)?void 0:t.appModel.showUi}),r=(0,n.w1)(e=>{var t;return null==(t=e.mirror)?void 0:t.appModel.isReadOnly}),i=(0,n.w1)(e=>{var t;return(null==(t=e.versionHistory)?void 0:t.activeId)!==o._2});return e&&t&&!r&&!i}function s(){return(0,n.w1)(e=>"WHEEL"===e.multiplayerEmoji.type)}function c(){return(0,n.w1)(e=>e.universalInsertModal.showing)}function d(){let e=!!(0,i.m4)(a.K),t=(0,n.w1)(e=>!!e.modalShown),r=(0,n.w1)(e=>e.exportSettingsPickerShown.isShown);return e||t||r}},627652:(e,t,r)=>{"use strict";r.d(t,{EB:()=>u,Ur:()=>m,eC:()=>p,w2:()=>_,w5:()=>f,wl:()=>g,yq:()=>E});var n=r(307824),i=r(120304),a=r(515724),o=r(733960),l=r(843148),s=r(594192),c=r(589440),d=r(392992);let u=4,p=3;function m(){let e=(0,c.O)(),t=(0,i.w1)(e=>{var t;return(null==(t=e.openFile)?void 0:t.key)&&e.openFile.key in e.voice.activeCall}),r="ui3"===(0,a.qG)().version?p:u,o=t&&e?r-1:r,[l,s]=n.useState(o);return n.useEffect(()=>{let e=()=>{window.innerWidth<786?s(2):s(o)};return window.addEventListener("resize",e,!1),()=>{window.removeEventListener("resize",e,!1)}},[o]),n.useEffect(()=>{e&&(t?s(Math.min(l,3)):s(window.innerWidth<786?2:r))},[t,e,l,r]),l}function _(e){return"sessionID"in e}let h=e=>{let{user:t,sessionID:r,presenterSessionID:n,lastObservedSessionID:i,fileCreatorID:a,mostActiveSpeakerID:o,observingSessionID:s}=e;return _(t)&&t.sessionID===r?0:_(t)&&n&&t.sessionID===n?1:_(t)&&s&&t.sessionID===s?2:(0,l.Ub)().live_feedback_large_meetings&&_(t)&&i&&t.sessionID===i?3:_(t)&&t.userID===a?4:t.userID===o?5:t.name.toLocaleLowerCase().startsWith("anonymous")?Number.MAX_SAFE_INTEGER:6};function g(e,t){let r=e;return t&&(r=r.filter(e=>_(e)&&e.deviceName===t)),r=r.filter(e=>!_(e)||"editor"!==e.deviceName||void 0===e.sawMouse||!0===e.sawMouse)}function f(e,t,r,n,i){let{deviceNameFilter:a}=i,o=[],l=[...e];return l&&0!==l.length?(l.sort((e,t)=>{let r=h({...i,user:e})-h({...i,user:t});if(0!==r)return r;let n=e.name.toLocaleLowerCase(),a=t.name.toLocaleLowerCase();return _(e)&&_(t)&&n===a?e.sessionID-t.sessionID:n>a?1:-1}),(l=g(l,a)).length>=n&&(o=l.slice(n-1),l=l.slice(0,n-1)),{users:l,overflowUsers:o}):t&&!r?{users:[t],overflowUsers:[]}:{users:[],overflowUsers:[]}}function E(e,t,r,a,l){let c=(0,i.w1)(e=>e.multiplayer.sessionID),u=(0,i.w1)(e=>e.multiplayer.observingSessionID),p=(0,i.w1)(e=>e.multiplayer.presenterSessionID),m=(0,i.w1)(e=>e.multiplayer.deviceNameFilter),_=(0,d.AL)(),[h,g]=n.useState(null),E=(0,o.i)(u);E!==u&&(0,s.aI)(E)&&-1!==E&&E!==h&&g(E);let y=n.useMemo(()=>({sessionID:c,observingSessionID:u,presenterSessionID:p,lastObservedSessionID:h,mostActiveSpeakerID:l,fileCreatorID:null==_?void 0:_.creatorId,deviceNameFilter:m}),[c,u,p,h,l,null==_?void 0:_.creatorId,m]),{users:b,overflowUsers:v}=n.useMemo(()=>f(e,t,r,a,y),[e,t,r,a,y]);return{users:b,overflowUsers:v}}},392992:(e,t,r)=>{"use strict";r.d(t,{AL:()=>I,AX:()=>f,Ab:()=>b,Ci:()=>h,Gi:()=>A,K0:()=>w,K_:()=>C,Ks:()=>S,MZ:()=>v,WO:()=>y,WQ:()=>_,eg:()=>E,g9:()=>T,mi:()=>g,qK:()=>m,w5:()=>p});var n=r(120304),i=r(4580),a=r(623131),o=r(752648),l=r(685656),s=r(790184),c=r(492084),d=r(836780),u=r(169988);function p(e){return e.openFile}let m=(0,d.If)(p),_=(0,a.Zf)(e=>{let t=e(m),r=e(u._);return(null==t?void 0:t.teamId)?r[t.teamId]??null:null}),h=(0,o.AL)(m,e=>(null==e?void 0:e.teamId)??void 0),g=(0,o.AL)(m,e=>{var t;return(null==(t=null==e?void 0:e.team)?void 0:t.workspaceId)??void 0});function f(e){var t;return(null==(t=e.openFile)?void 0:t.key)||null}let E=(0,d.If)(f);function y(e){return e.openFile?s.lt:null}let b=(0,d.If)(y);function v(e){var t;return(null==(t=e.openFile)?void 0:t.key)&&e.fileByKey[e.openFile.key]||null}function I(){return(0,n.w1)(p)}let w=(0,c.m)(()=>{var e;return(null==(e=I())?void 0:e.key)||null});function T(){let e=I();return((null==e?void 0:e.sourceFileKey)??(null==e?void 0:e.key))||null}function S(){let e=I();return(null==e?void 0:e.editorType)==="slides"}function C(e){return A((0,i.q)(e=>({openFile:e.openFile,fileByKey:e.fileByKey})),e)}function A(e,t){let r=v(e);return(null==t?void 0:t.useSinatraType)?r:r?(0,l.iu)(r):null}},402980:(e,t,r)=>{"use strict";r.d(t,{AP:()=>s,Ad:()=>o,Oy:()=>p,QN:()=>d,Yr:()=>m,eY:()=>u,gT:()=>c,vu:()=>l,wV:()=>_});var n=r(120304),i=r(553432),a=r(291336);function o(){return(0,n.w1)(i.getPermissionsState,n.G)}function l(){return(0,n.w1)(a.Om)}function s(){return(0,n.w1)(e=>!!e.openFile&&(0,a.Uf)(e.openFile))}function c(e){let t=o();return(0,i.isFileFigjamDisabled)(e,t)}function d(e){let t=o();return(0,i.isFigJamDisabledForOrg)(e,t)}function u(e,t){let r=o();return(0,i.canCreateFile)(e,r,t)}function p(e,t){let r=o();return(0,i.canCreateFileLG)(e,r,t)}function m(e,t){let r=o();return(0,i.canCreateFileOrRequestUpgrade)(e,r,t)}function _(e,t){let r=o();return(0,i.canCreateFileOrRequestUpgradeLG)(e,r,t)}},453496:(e,t,r)=>{"use strict";let n;r.d(t,{E$:()=>P,K2:()=>C,O_:()=>U,QP:()=>x,SW:()=>S,Wl:()=>G,an:()=>D,ct:()=>R,gR:()=>k,gX:()=>L,i4:()=>F,kZ:()=>A,sL:()=>B,sr:()=>M});var i=r(307824),a=r(120304),o=r(916924),l=r(733960),s=r(372152),c=r(594192),d=r(888932),u=r(440900),p=r(234284),m=r(830300),_=r(560072),h=r(317704),g=r(268984),f=r(907236),E=r(762820),y=r(138884),b=r(43716),v=r(299988),I=r(306440),w=r(918300);let T=(0,p.g9)()?0:6e3;var S=((n=S||{}).INITIAL="initial",n.NEXT="next",n);let C=(0,g.M0)((e,t)=>{let r=e.getState().multiplayer.allUsers.find(e=>e.sessionID===t.presenterSessionID),n=(null==r?void 0:r.name)??"",i=r?(0,_.t)("collaboration.spotlight.visual_bell.user_left_the_spotlight",{userName:n}):(0,_.t)("collaboration.spotlight.visual_bell.the_presenter_left_the_spotlight");e.dispatch(h.A.enqueue({message:i,type:"presentation_stopped_alert"}))}),A=(0,g.M0)((e,t)=>{e.dispatch(h.A.dequeue({matchType:"presentation_stopped_alert"}))}),O=(e,t,r,n)=>{let i=(0,c.aI)(t)&&e!==t,a=r===t,o=n===t;return i&&!a&&!o};function N(){let e=(0,I.Aj)(),t=(0,a.OY)(),r=(0,a.w1)(e=>e.multiplayer),n=i.useCallback(e=>{t(f.CO({...r,observingSessionID:e}))},[r,t]),o=i.useCallback(e=>{E.Abq.observeUser(e)},[]);return"prototype"===e?n:o}function L(e){let{multiplayer:{observingSessionID:t,presenterSessionID:r,sessionID:n}}=e,d=(0,a.OY)(),p=(0,I.Aj)(),m=(0,s.m4)(u.Wg),[_,h]=i.useState("initial"),g=(0,l.i)(r),f=t===r,E=n===r||m,b=O(g,r,t,n),[v,S]=i.useState(null),L=N(),R=i.useCallback(()=>{(0,c.aI)(r)&&("prototype"!==p&&(0,y.mo)(),L(r))},[r,L,p]),P=i.useCallback(()=>{R(),r&&S(r)},[r,R]);v===t&&S(null);let{isActive:M,start:k,cancel:D,complete:F}=(0,w.w)(P),x=i.useCallback(()=>{D(),S(null)},[D]),U=b&&t===g,B=b&&!U,G=(0,c.qm)(r)&&(0,c.aI)(g)&&t===g;M&&E&&x(),i.useEffect(()=>{U&&(d(A()),k(2e3),h("next"))},[d,U,k]),i.useEffect(()=>{B&&(d(A()),k(T),h("initial"))},[d,B,k]),i.useEffect(()=>{G&&(L(-1),x(),d(C({presenterSessionID:g})))},[x,d,g,G,e.multiplayer,L]),i.useEffect(()=>{M&&f&&x()},[f,x,M]);let V=(()=>{switch(_){case"next":return 2e3;case"initial":return T;default:(0,o.gy)(_)}})();return{isAutoFollowPending:!E&&(B||U||M||null!=v),cancelAutoFollowCallback:x,completeAutoFollowCallback:F,observeCurrentPresenter:R,autoFollowType:_,autoFollowDelayMs:V}}function R(){return(0,a.w1)(({multiplayer:{sessionID:e}})=>e)}function P(){return(0,a.w1)(({multiplayer:{observingSessionID:e}})=>e)}function M(){let e=(0,a.w1)(e=>e.multiplayer);return e.allUsers.find(t=>t.sessionID===e.sessionID)??null}function k(){let e=(0,a.w1)(e=>e.multiplayer);return e.allUsers.find(t=>t.sessionID===e.observingSessionID)??null}function D(){let e=(0,a.w1)(e=>e.multiplayer);return e.allUsers.find(t=>t.sessionID===e.presenterSessionID)??null}function F({multiplayer:e}){let t=function(){let e=U(),t=(0,b.wj)();return!!e&&!t}(),r=e.presenterSessionID===e.sessionID,n=(0,I.Aj)(),a=i.useCallback(()=>{var e;"prototype"===n?null==(e=(0,m._u)())||e.stopPresenting():E.Abq.stopPresenting()},[n]);i.useEffect(()=>{!t&&r&&a()},[t,r,a])}function x({multiplayer:e}){let t=N(),r=!B(),n=-1!==e.observingSessionID;i.useEffect(()=>{!r&&n&&t(-1)},[r,n,t])}function U(){var e;return!((0,d.Cw)()&&(0,d.G8)()&&!(0,d.KL)()||(null==(e=v.kr)?void 0:e.getIsExtension()))}function B(){let e=(0,b.wj)(),t=(0,b.A7)();return!!e||!!t}function G(){let e=(0,a.w1)(e=>e.multiplayer),t=e.sessionsNominatingCurrentUser[0];return t?e.allUsers.find(e=>e.sessionID===t)??null:null}},918100:(e,t,r)=>{"use strict";r.d(t,{Ku:()=>s,QR:()=>l,a8:()=>c});var n=r(120304),i=r(553432),a=r(44412),o=r(478159);function l(e){let t=!!(0,o.K)({teamId:e,flag:a.g3}),r=(0,n.w1)(t=>t.teams[e]),l=(0,n.w1)(e=>(0,i.getPermissionsStateMemoized)(e));return a.WE.getProTrial(r,t,l)}function s(){let e=(0,n.w1)(e=>e.userTeamFlags),t=(0,n.w1)(e=>(0,i.getPermissionsStateMemoized)(e));return a.WE.getUpgradableProTrials(e,t)}function c(){let e=(0,n.w1)(e=>e.user),t=(0,n.w1)(e=>e.isFreeUser),r=(0,n.w1)(e=>(0,i.getPermissionsStateMemoized)(e)),o=(0,n.w1)(e=>e.userTeamFlags);return a.WE.getEligibleProTrialTeams(e,t,r,o)}},440076:(e,t,r)=>{"use strict";r.d(t,{A:()=>p});var n=r(120304),i=r(372152),a=r(927976),o=r(476108),l=r(853488),s=r(133020),c=r(44412),d=r(397888),u=r(918100);function p(e){let t=(0,u.QR)(e),r=(0,i.m4)(o.P),p=(0,a.AR)(),m=(0,d.uc)("showUi"),_=(0,d._o)(),h=(0,n.w1)(e=>e.openFile),g=(0,n.w1)(e=>e.selectedView),f=(0,n.w1)(e=>e.userFlags),E=(0,n.w1)(e=>e.notifications.length>0);return!!(h&&h.editorType&&c.WE.canSeeProTrialUxInFile(t,h))&&s.C.canSeeOnboardingInFile({editorType:h.editorType,selectedView:g,showStarterKit:r!==l.sr.FALSE,userFlags:f,hasNotifications:E,isDevHandoffView:p,isAppUiShown:m,isLoading:_})}},219604:(e,t,r)=>{"use strict";r.d(t,{sz:()=>T,WA:()=>C,eA:()=>b,$b:()=>v});var n=r(307824),i=r(120304),a=r(4580),o=r(121684),l=r(234284),s=r(316220),c=r(894204),d=r(251596),u=r(39676),p=r(334647),m=r(733500);let _=new class{constructor(){this.BatchedSchemaValidator=(0,m._o)()}getBatched(e){return this.BatchedSchemaValidator.validate(async({xr:t})=>await t.get("/api/users/batched",m.Ed.toAPIParameters({userIds:e.userIds.join(",")})))}},h=e=>t=>e&&t.publicUsers.byId[e]||null,g=e=>t=>{if(!e)return null;let r={};return e.forEach(e=>{e in t.publicUsers.byId&&(r[e]=t.publicUsers.byId[e])}),r},f=e=>t=>{let r=t.multiplayer.allUsers.find(t=>t.userID===e);return r?S(r):null},E=e=>t=>{let r=t.user,n=f(e)(t);return r&&r.id===e?r:n||null},y=e=>t=>{let r=E(e)(t),n=h(e)(t);return r||n||null};function b(e){let t=(0,a.q)(E(e)),r=function(e){let t=(0,i.OY)(),r=`PUBLIC_USER_FETCH_${e}`,a=(0,i.w1)(e=>e.loadingState),o=(0,i.w1)(h(e)),l=function(e){let t=!!(0,d.C2)();return!!e&&!T(e)&&t}(e),p=!!o,m=!p&&(0,u.K0)(a,r),_=!p&&(0,u.ay)(a,r),g=!p&&l&&!m&&!_;return(0,n.useEffect)(()=>{g&&(t(s.Cg({key:r})),I(e).then(e=>{t(c.Aj({user:e})),t(s.E5({key:r}))}).catch(()=>{t(s.is({key:r}))}))},[t,e,g,r]),{user:o,loading:m,hasError:_}}(t?null:e);return t?{user:t,loading:!1,hasError:!1}:r}function v(e){let t=(0,i.OY)(),r=(0,i.w1)(g(e)),a=Object.keys(r||[]),l=(0,i.w1)(e=>e.loadingState),{userIdChunks:d,loadingKeys:p}=n.useMemo(()=>{let t=[];for(let r=0;r<((null==e?void 0:e.length)||0);r+=50)t.push((null==e?void 0:e.slice(r,r+50))||[]);let r=t.map(e=>`PUBLIC_USERS_FETCH_${(0,o.m)(JSON.stringify(e))}`);return{userIdChunks:t,loadingKeys:r}},[50,e]),m=d.map(e=>null==e?void 0:e.filter(e=>!a.includes(e)));return(0,n.useEffect)(()=>{for(let e=0;e<p.length;e++){let r=p[e],n=m[e];if(0===n.length||(0,u.K0)(l,r)||(0,u.ay)(l,r))return;t(s.Cg({key:r})),w(n).then(e=>{t(c.oK({userIds:n})),t(c.iY({users:e})),t(s.E5({key:r}))}).catch(()=>{t(s.is({key:r}))})}},[t,m,p,l]),{usersById:r,loading:p.some(e=>(0,u.K0)(l,e)),hasError:p.some(e=>(0,u.ay)(l,e))}}let I=e=>p.K.getUser({userId:e}).then(e=>e.data.meta).catch(e=>{throw(0,l.Cm)()||console.warn("Failed to get public user"),e}),w=e=>_.getBatched({userIds:e}).then(e=>e.data.meta).catch(e=>{throw(0,l.Cm)()||console.warn("Failed to get public users"),e}),T=e=>e.startsWith("VISITOR-"),S=e=>({id:e.userID,name:e.name,handle:e.name,img_url:e.imageURL});async function C({state:e,dispatch:t,userId:r}){let n=y(r)(e);if(n)return n;if(T(r))return null;let i=e.user,a=T(r);if(!(!n&&!a&&i))return null;let o=await I(r);return t(c.Aj({user:o})),o}},702356:(e,t,r)=>{"use strict";r.d(t,{y:()=>c});var n=r(307824),i=r(602216),a=r(125504),o=r.n(a),l=r(934744),s=r(199360);function c(e){var t,r;if(!(null==(t=e.dragState)?void 0:t.dragPosition)||!(null==(r=e.dragState)?void 0:r.dragOffset))return null;let a=e.dragState.dragPosition.subtract(e.dragState.dragOffset),c=(0,l.oJ)(e.dragState.draggingResource);return(0,i.createPortal)(void 0!==e.icon?n.createElement("div",{className:o()(s.G0,{[s.U$]:e.dragState.isDraggingOverCanvas}),style:{left:a.x,top:a.y,width:e.dragState.draggingThumbSize.x,height:e.dragState.draggingThumbSize.y}},e.icon):n.createElement("img",{src:c,alt:e.dragState.draggingResource,className:o()(s.CW,{[s.U$]:e.dragState.isDraggingOverCanvas}),style:{left:a.x,top:a.y,width:e.dragState.draggingThumbSize.x,height:e.dragState.draggingThumbSize.y},draggable:!1}),document.getElementById("fullscreen-root"))}},934744:(e,t,r)=>{"use strict";r.d(t,{UX:()=>m,ag:()=>p,oJ:()=>u});var n=r(499776),i=r(570464),a=r(560072),o=r(191352),l=r(72708),s=r(535816),c=r(97764),d=r(477244);function u(e){switch(e){case"Table":return"https://static.figma.com/uploads/ac41ded88c50f0359c02ec3927394b7b33e210b6";case"CodeBlock":return"https://static.figma.com/uploads/8a035152916712353b045f442c2c6c5879ef3e17";case"MindMap":return"https://static.figma.com/uploads/1dd4c6f9e1fbf269895ee58e7be79d9f9ee79b9e";default:return""}}function p(e){switch(e){case"Table":return"Table";case"CodeBlock":return(0,a.t)("whiteboard.inserts.code_block_title");case"MindMap":return(0,a.t)("whiteboard.inserts.mind_map_title");default:return""}}function m(e){let t="whiteboard"===(0,o.CM)(),r=(0,s.kR)(),a=async n=>(e.insertAction(n),t&&(0,s.S4)({type:l.i.MORE,id:e.resource,source:e.triggeredFrom,options:{...r,query:e.searchQuery}}),await Promise.resolve());return(0,c.y)(e,{insertAction:a,dragPreviewPointerPosition:d.a.CENTERED,getDragPreviewSrc:e.icon?()=>"data:image/svg+xml;utf8,"+(0,n.i)(e.icon):()=>u(e.resource),recordingKey:i.Mx(e.triggeredFrom,"tool",e.resource)})}},73460:(e,t,r)=>{"use strict";r.d(t,{c:()=>m,s:()=>p});var n=r(307824),i=r(120304),a=r(4580),o=r(288448),l=r(467412),s=r(312452),c=r(927976),d=r(90340);let u=null;function p(e){let{isTeamFile:t,topLevelMode:r,sceneGraph:p,selectedPageId:m,selectedNodeId:_,numberOfNodesSelected:h,topLevelNodeId:g,topLevelNodeType:f,urlNodeId:E,fileKey:y}=(0,a.q)(e=>{var t,r;let n=Object.keys(e.mirror.sceneGraphSelection),i=(0,c.ie)(e.selectedView)?(0,l.Q5)(e.mirror.sceneGraph,(null==n?void 0:n[0])??""):null;return{isTeamFile:!!(null==(t=e.openFile)?void 0:t.teamId),topLevelMode:e.mirror.appModel.topLevelMode,sceneGraph:e.mirror.sceneGraph,selectedPageId:e.mirror.appModel.currentPage,selectedNodeId:n[n.length-1],numberOfNodesSelected:n.length,urlNodeId:"fullscreen"===e.selectedView.view&&e.selectedView.nodeId||void 0,fileKey:null==(r=e.openFile)?void 0:r.key,topLevelNodeId:null==i?void 0:i.guid,topLevelNodeType:null==i?void 0:i.type}}),b=(0,o.U9)(),v=(0,i.o3)(),I=(0,n.useRef)(""),w=(0,n.useRef)(0),T=(0,n.useRef)(!0);(0,n.useEffect)(()=>{if(r===e.topLevelMode&&(t||!e.teamFilesOnly)&&w.current<300){if(T.current){T.current=!1,u=null;return}if(T.current=!1,!_)return;let t=p.get(_);if(!t){u=null;return}let n=t.guid;if(n===I.current){u=null;return}I.current=n,w.current=w.current+1;let i=s.GqY.getOverridePathForNode(n),a=function(e){for(let t=0;t<22;t++){let r=e.parentNode;if(!r)return t;e=r}return 22}(t)-2,o=u??"canvas";u=null;let l={nodeId:n,nodeType:t.type,pageId:m,topLevelNodeId:g,topLevelNodeType:f,sectionStatus:t.hasReadyStatus?"ready_for_dev":null,overridePath:i,nestingLevel:a,numberOfNodesSelected:h,source:o,hasSeatForDevMode:r===s.s9F.DEV_HANDOFF?b:null};(0,d.s5)(e.eventName,y,v.getState(),l)}},[r,E,t,p,m,_,h,e.topLevelMode,e.eventName,e.teamFilesOnly,y,v,g,f,b])}function m(e){u=e}},530968:(e,t,r)=>{"use strict";r.d(t,{c:()=>s,e:()=>l});var n=r(307824),i=r(120304),a=r(103839),o=r(907236);function l(){return(0,i.w1)(e=>e.pickerShown)}function s(e){let t=(0,i.OY)(),r=l();return(0,n.useMemo)(()=>{let n=(null==r?void 0:r.id)===e;function i(){t(o.U5())}function l(r){let{x:n,y:i}=r;t(o.is({id:e,initialX:n,initialY:i}))}return{showing:n,initialPosition:new a.Cg((null==r?void 0:r.initialX)??0,(null==r?void 0:r.initialY)??0),hide:i,show:l,toggle:function(e){n?i():l(e())}}},[e,t,r])}},13088:(e,t,r)=>{"use strict";let n;r.d(t,{S8:()=>p,Uh:()=>_,YL:()=>u,as:()=>g,kd:()=>m,mA:()=>h});var i=r(307824),a=r(139776),o=r(506616),l=r(514916),s=r(472956),c=r(839324),d=r(892368);function u(e){let t=(0,o.Qb)(s.Ggv,{orgId:e});return i.useMemo(()=>{var e,r;if("loaded"===t.status){let n=((null==(r=null==(e=t.data)?void 0:e.org)?void 0:r.workspaces)??[]).filter(e=>e.canAdmin);return(0,a.E1)(n,"name"),(0,o.uU)(n)}return t},[t])}function p(e){let t=(0,o.Qb)(s.aue,{orgId:e});return i.useMemo(()=>{var e,r,n;if("loaded"===t.status){let i=null==(n=null==(r=null==(e=t.data)?void 0:e.currentUser)?void 0:r.baseOrgUser)?void 0:n.workspaceUsers,a=null==i?void 0:i.find(e=>e.isMainWorkspace);return(0,o.uU)((null==a?void 0:a.workspaceId)??null)}return t},[t])}function m(e,t){var r,n;let i=(0,o.Qb)(s.iYh,{orgId:e},{enabled:!!e&&!!t});if(null===t)return(0,o.uU)(d._);if("loaded"===i.status){let e=((null==(n=null==(r=i.data)?void 0:r.org)?void 0:n.workspaces)??[]).find(e=>e.id===t);return(0,o.uU)(e)}return i}function _(e){let t=(0,o.Qb)(s.kDP,{orgId:e});return i.useMemo(()=>{var e,r,n;if("loaded"===t.status){let i=((null==(r=null==(e=t.data.org)?void 0:e.workspaces)?void 0:r.length)||0)>0&&!!(null==(n=t.data.org)?void 0:n.bigmaEnabledAt);return(0,o.uU)(i)}return t},[t])}var h=((n=h||{})[n.IS_GUEST=1]="IS_GUEST",n[n.WRONG_WORKSPACE=2]="WRONG_WORKSPACE",n[n.TEAM_CREATION_CONTROL=3]="TEAM_CREATION_CONTROL",n[n.LG_LOADING=4]="LG_LOADING",n);function g(e,t){let r=(0,o.Qb)(s.UbN,{orgId:(null==e?void 0:e.id)??null}),{permission:n,workspaceMember:a,canCreateTeamInWorkspace:d,teamCreationControls:u,loading:p}=i.useMemo(()=>{var e,n,i,a,o,s,c,d,u;if("loaded"!==r.status)return{permission:l.y6.GUEST,workspaceMember:null,canCreateTeamInWorkspace:!1,loading:!0};let p=null==(n=null==(e=r.data)?void 0:e.currentUser)?void 0:n.baseOrgUser,m=null==p?void 0:p.permission;return{permission:m,workspaceMember:null==(i=null==p?void 0:p.workspaceUsers)?void 0:i.find(e=>e.isMainWorkspace),canCreateTeamInWorkspace:!!(null==(s=null==(o=null==(a=r.data)?void 0:a.org)?void 0:o.workspaces)?void 0:s.find(e=>e.canCreateTeam&&e.id===t)),teamCreationControls:null==(u=null==(d=null==(c=r.data)?void 0:c.org)?void 0:d.sharedOrgLicenseGroupSetting)?void 0:u.teamCreationControls,loading:!1}},[r,t]);if(p)return{canCreateTeam:!1,cannotCreateTeamReason:4};let m=u===c.jH.TEAM_CREATION_CONTROLS_ADMIN_ONLY;return n===l.y6.GUEST?{canCreateTeam:!1,cannotCreateTeamReason:1}:n===l.y6.ADMIN?{canCreateTeam:!0,cannotCreateTeamReason:null}:n!==l.y6.MEMBER?{canCreateTeam:!1,cannotCreateTeamReason:null}:t?d?{canCreateTeam:!0,cannotCreateTeamReason:null}:(null==a?void 0:a.workspaceId)!==t?{canCreateTeam:!1,cannotCreateTeamReason:2}:m?{canCreateTeam:!1,cannotCreateTeamReason:3}:{canCreateTeam:!1,cannotCreateTeamReason:null}:a?{canCreateTeam:!1,cannotCreateTeamReason:2}:m?{canCreateTeam:!1,cannotCreateTeamReason:3}:{canCreateTeam:!0,cannotCreateTeamReason:null}}},61304:(e,t,r)=>{"use strict";let n,i;r.d(t,{AH:()=>C,AJ:()=>B,Ce:()=>D,DM:()=>H,EZ:()=>F,I5:()=>L,O8:()=>R,Qx:()=>K,Ur:()=>P,_I:()=>W,_o:()=>x,dt:()=>A,ee:()=>O,gj:()=>T,gv:()=>M,oF:()=>N,oS:()=>Y,oh:()=>q,s3:()=>S,x1:()=>k,yE:()=>V,yu:()=>G}),r(139776);var a=r(796488),o=r(936756),l=r(896312),s=r(560072),c=r(693400),d=r(212980),u=r(194540),p=r(585508),m=r(762820),_=r(514916),h=r(28464),g=r(236892),f=r(228472),E=r(475136),y=r(236868),b=r(492084),v=r(417184),I=r(274900);let w={id:"",hub_file_id:"",fig_file_version_id:"",name:"",version:"",release_notes:"",description:"",creator_policy:"",created_at:"",valid_prototype:!0,thumbnail_guid:null},T={id:"",category_id:null,creator:{id:"",handle:"",img_url:""},publisher:{is_restricted_by_current_user:!1,id:"",name:"",img_url:"",img_urls:{},profile_handle:"",primary_user_id:null,current_user_is_following:!1,current_user_is_followed:!1,location:null,follower_count:0,following_count:0,entity_type:f.Iv.USER,badges:[]},community_publishers:{accepted:[],pending:[]},versions:{},current_hub_file_version_id:"",redirect_canvas_url:"",thumbnail_url:"",canvas_snapshot_url:null,created_at:"",unpublished_at:null,duplicate_count:0,like_count:0,view_count:0,comment_count:0,viewer_mode:_.C0.CANVAS,scaling_mode:null,realtime_token:"",client_meta:"",tags:[],thumbnail_is_set:!1,is_pinned:!1,comments_setting:null,should_load_prototype_lib:!1,publishing_status:_.VC.APPROVED_PUBLIC,badges:[]};var S=((n=S||{}).KEY="is-community-duplicate",n.VALUE="1",n),C=((i=C||{}).CURRENT_FILE="currentFile",i.NEW_FILE="newFile",i);function A(e){switch(e){case"currentFile":default:return(0,s.t)("browse_templates_modal.add_template");case"newFile":return(0,s.t)("browse_templates_modal.use_template")}}function O(e,t){return(0,v._W)(e,t,T)}function N(e,t){let r=t||e.current_hub_file_version_id;return(0,v._W)(r,e.versions,w)}function L(e,t,r,n){var i,a,o,l;let p;let g=e.figFilePublishedAsHubFile[t],f=O(g,e.hubFiles),E=N(f),b=v.Cm,I=e.fileByKey[t];!n&&!r&&((null==(i=e.authedActiveCommunityProfile)?void 0:i.team_id)||(null==(a=e.authedActiveCommunityProfile)?void 0:a.org_id))&&(p=e.authedActiveCommunityProfile.team_id?{team_id:e.authedActiveCommunityProfile.team_id}:{org_id:e.authedActiveCommunityProfile.org_id});let w=(0,u.S2)(f,I,e,p),T=r?f.viewer_mode:"design"===I.editor_type?_.C0.CANVAS:_.C0.WHITEBOARD;!r&&f.viewer_mode===_.C0.PROTOTYPE&&n&&(null==(o=m.MXu)?void 0:o.firstPagePrototypeStatus())===m.gRI.VALID&&(T=_.C0.PROTOTYPE);let S=[];g&&(null==f?void 0:f.tags)?S=f.tags:(null==I?void 0:I.editor_type)==="whiteboard"&&(S=["figjam"]);let C={...(0,y._M)(),tokens:S.map(e=>({state:h.O.OK,content:e}))},A={...(0,y._M)(),tokens:(f.community_publishers?[...f.community_publishers.accepted,...f.community_publishers.pending||[]]:[]).reduce((t,r)=>{let n=e.authedProfilesById[r.id];return(0,u.GO)(n,w)?t:t.concat([{state:h.O.OK,content:r}])},[])};return{name:E.name||(I.name===(0,s.t)("fullscreen.fullscreen_view_selector.untitled")?"":I.name),description:E.description||b.description,categoryId:f.category_id,creatorPolicy:E.creator_policy||b.creatorPolicy,tags:C,viewerMode:T,scalingMode:f.scaling_mode,author:w,publishers:A,commentsSetting:f.comments_setting||b.commentsSetting,blockPublishingOnToS:(0,u.a0)(e),price:(0,d.dO)(f.monetized_resource_metadata),isPaid:!!f.monetized_resource_metadata,supportContact:f.support_contact||(null==(l=e.user)?void 0:l.email),carouselMedia:(0,c.Y5)(f),coverImageCarouselMediaId:f.cover_image_carousel_media_id}}function R(e,t){return e?t?(0,d.sT)(t)?t<d.Ww?(0,s.t)("community.seller.paid_resource_minimum_err"):(0,s.t)("community.seller.paid_resource_maximum_err"):(0,d.ey)(t)?(0,s.t)("community.seller.prices_must_follow_format"):void 0:(0,s.t)("community.publishing.price_is_required_for_paid_resources"):void 0}function P(e){let t=(0,v.aO)(e||null).length;return 0===t?(0,s.t)("community.publishing.name_must_not_be_empty"):t<4?(0,s.t)("community.publishing.name_must_be_4_characters_long"):t>100?(0,s.t)("community.publishing.name_must_be_at_most_100_characters_long"):void 0}function M(e){if((0,v.aO)(e||null).length>1e4)return(0,s.t)("community.publishing.description_must_be_at_most_10000_characters_long")}function k(e){if((0,v.aO)(e||null).length>1e4)return(0,s.t)("community.publishing.creator_policy_must_be_at_most_10000_characters_long")}function D(e,t){return e&&!t?(0,s.t)("community.publishing.support_contact_must_not_be_empty"):!t||(0,a.kB)(t)||(0,o.g9)(t)?void 0:(0,s.t)("community.publishing.support_contact_must_be_a_valid_email_or_url")}function F(e){if(!e)return(0,s.t)("community.publishing.category_cant_be_empty")}function x(e){let t={name:P(e.name),description:M(e.description),creatorPolicy:k(e.creatorPolicy)};e.tags&&(t.tags=(0,v.QF)(e.tags)||void 0),e.publisherIds&&(t.publisherIds=(0,v.mg)(e.publisherIds.length)||void 0),t.carouselMedia=(0,u.Su)(e.carouselMedia),t.categoryId=F(e.categoryId);let r="isPaid"in e&&!!e.isPaid;return t.price=R(r,e.price),t.supportContact=D(r,e.supportContact),Object.keys(t).forEach(e=>!t[e]&&delete t[e]),t}let U=(0,b.m)(e=>{if(!p.CA)return null;let[t,r]=m.ui7.generateThumbnailForNode(e,I.g1,I.cv,2,{});return r});function B(e,t){return Object.keys(e).reduce((r,n)=>{var i,a;let o=e[n];return(null==(a=null==(i=o.community_publishers)?void 0:i.accepted)?void 0:a.some(e=>e.id===t))&&(r[n]=o),r},{})}function G(e){return e===E.aS.FULLSCREEN||e===E.aS.FULLSCREEN_WITH_COMMENTS}function V(e,t){let r=new XMLHttpRequest;return r.open("GET",`/api/hub_files/cover_image?file_key=${e}`,!0),r.setRequestHeader("X-Figma-User-ID",t.id),r.setRequestHeader("X-Csrf-Bypass","yes"),r.setRequestHeader("tsid",(0,l.q)()),r.responseType="blob",new Promise(e=>{r.onload=function(){let t=new Image;t.src=URL.createObjectURL(r.response),t.onload=async()=>{let r=document.createElement("canvas");r.width=I.g1,r.height=I.cv;let n=r.width,i=t.height*(r.width/t.width),a=0,o=r.height/2-i/2;i>r.height&&(i=r.height,n=t.width*(r.height/t.height),a=r.width/2-n/2,o=0),r.getContext("2d").drawImage(t,a,o,n,i);let l=await new Promise(e=>r.toBlob(e)),[s]=await Promise.all([(0,u.G_)(l)]);e({url:URL.createObjectURL(new Blob([s||""])),buffer:new Uint8Array(s)})}},r.send(null)})}function H(e,t){var r;let n;return r=null==e?void 0:e.thumbnailGuid,n=null,r&&(n=U(r)),n&&0!==n.length||(n=U(t)),{url:URL.createObjectURL(new Blob([n||""])),buffer:n}}function W(e,t){return Y(e)?null:t.thumbnail_guid?g.EL.USER_CANVAS:g.EL.NONE}function K(e,t){return Y(e)?null:t.thumbnail_guid?g.EL.USER_CANVAS:g.EL.DEFAULT_CANVAS}function Y(e){return!!e&&!e.unpublished_at}function q(e){return!!e&&e.publishing_status===_.VC.APPROVED_PUBLIC}},639588:(e,t,r)=>{"use strict";r.d(t,{O:()=>i});var n=r(778436);function i(e,t=!1){let r=e.deltaY,i=e.ctrlKey&&!t&&(n.s.isChrome()||n.s.isFirefox());return i?r/=-100:0!==r&&(r=r/Math.abs(r)*Math.min(Math.abs(r),10*Math.cbrt(Math.abs(r)))),i?Math.pow(4,r):Math.pow(.995,r)}},137188:(e,t,r)=>{"use strict";r.d(t,{Ex:()=>l,Go:()=>i,KU:()=>a,WM:()=>o,w7:()=>n,wR:()=>s,ye:()=>c});let n=[["Afghanistan","AF"],["\xc5land Islands","AX"],["Albania","AL"],["Algeria","DZ"],["American Samoa","AS"],["Andorra","AD"],["Angola","AO"],["Anguilla","AI"],["Antarctica","AQ"],["Antigua and Barbuda","AG"],["Argentina","AR"],["Armenia","AM"],["Aruba","AW"],["Australia","AU"],["Austria","AT"],["Azerbaijan","AZ"],["Bahamas","BS"],["Bahrain","BH"],["Bangladesh","BD"],["Barbados","BB"],["Belarus","BY"],["Belgium","BE"],["Belize","BZ"],["Benin","BJ"],["Bermuda","BM"],["Bhutan","BT"],["Bolivia (Plurinational State of)","BO"],["Bonaire, Sint Eustatius and Saba","BQ"],["Bosnia and Herzegovina","BA"],["Botswana","BW"],["Bouvet Island","BV"],["Brazil","BR"],["British Indian Ocean Territory","IO"],["Brunei Darussalam","BN"],["Bulgaria","BG"],["Burkina Faso","BF"],["Burundi","BI"],["Cabo Verde","CV"],["Cambodia","KH"],["Cameroon","CM"],["Canada","CA"],["Cayman Islands","KY"],["Central African Republic","CF"],["Chad","TD"],["Chile","CL"],["China","CN"],["Christmas Island","CX"],["Cocos (Keeling) Islands","CC"],["Colombia","CO"],["Comoros","KM"],["Congo","CG"],["Congo (Democratic Republic of the)","CD"],["Cook Islands","CK"],["Costa Rica","CR"],["C\xf4te d'Ivoire","CI"],["Croatia","HR"],["Cuba","CU"],["Cura\xe7ao","CW"],["Cyprus","CY"],["Czechia","CZ"],["Denmark","DK"],["Djibouti","DJ"],["Dominica","DM"],["Dominican Republic","DO"],["Ecuador","EC"],["Egypt","EG"],["El Salvador","SV"],["Equatorial Guinea","GQ"],["Eritrea","ER"],["Estonia","EE"],["Eswatini","SZ"],["Ethiopia","ET"],["Falkland Islands (Malvinas)","FK"],["Faroe Islands","FO"],["Fiji","FJ"],["Finland","FI"],["France","FR"],["French Guiana","GF"],["French Polynesia","PF"],["French Southern Territories","TF"],["Gabon","GA"],["Gambia","GM"],["Georgia","GE"],["Germany","DE"],["Ghana","GH"],["Gibraltar","GI"],["Greece","GR"],["Greenland","GL"],["Grenada","GD"],["Guadeloupe","GP"],["Guam","GU"],["Guatemala","GT"],["Guernsey","GG"],["Guinea","GN"],["Guinea-Bissau","GW"],["Guyana","GY"],["Haiti","HT"],["Heard Island and McDonald Islands","HM"],["Holy See","VA"],["Honduras","HN"],["Hong Kong","HK"],["Hungary","HU"],["Iceland","IS"],["India","IN"],["Indonesia","ID"],["Iran (Islamic Republic of)","IR"],["Iraq","IQ"],["Ireland","IE"],["Isle of Man","IM"],["Israel","IL"],["Italy","IT"],["Jamaica","JM"],["Japan","JP"],["Jersey","JE"],["Jordan","JO"],["Kazakhstan","KZ"],["Kenya","KE"],["Kiribati","KI"],["Korea (Democratic People's Republic of)","KP"],["Korea (Republic of)","KR"],["Kuwait","KW"],["Kyrgyzstan","KG"],["Lao People's Democratic Republic","LA"],["Latvia","LV"],["Lebanon","LB"],["Lesotho","LS"],["Liberia","LR"],["Libya","LY"],["Liechtenstein","LI"],["Lithuania","LT"],["Luxembourg","LU"],["Macao","MO"],["Macedonia (the former Yugoslav Republic of)","MK"],["Madagascar","MG"],["Malawi","MW"],["Malaysia","MY"],["Maldives","MV"],["Mali","ML"],["Malta","MT"],["Marshall Islands","MH"],["Martinique","MQ"],["Mauritania","MR"],["Mauritius","MU"],["Mayotte","YT"],["Mexico","MX"],["Micronesia (Federated States of)","FM"],["Moldova (Republic of)","MD"],["Monaco","MC"],["Mongolia","MN"],["Montenegro","ME"],["Montserrat","MS"],["Morocco","MA"],["Mozambique","MZ"],["Myanmar","MM"],["Namibia","NA"],["Nauru","NR"],["Nepal","NP"],["Netherlands","NL"],["New Caledonia","NC"],["New Zealand","NZ"],["Nicaragua","NI"],["Niger","NE"],["Nigeria","NG"],["Niue","NU"],["Norfolk Island","NF"],["Northern Mariana Islands","MP"],["Norway","NO"],["Oman","OM"],["Pakistan","PK"],["Palau","PW"],["Palestine, State of","PS"],["Panama","PA"],["Papua New Guinea","PG"],["Paraguay","PY"],["Peru","PE"],["Philippines","PH"],["Pitcairn","PN"],["Poland","PL"],["Portugal","PT"],["Puerto Rico","PR"],["Qatar","QA"],["R\xe9union","RE"],["Romania","RO"],["Russian Federation","RU"],["Rwanda","RW"],["Saint Barth\xe9lemy","BL"],["Saint Helena, Ascension and Tristan da Cunha","SH"],["Saint Kitts and Nevis","KN"],["Saint Lucia","LC"],["Saint Martin (French part)","MF"],["Saint Pierre and Miquelon","PM"],["Saint Vincent and the Grenadines","VC"],["Samoa","WS"],["San Marino","SM"],["Sao Tome and Principe","ST"],["Saudi Arabia","SA"],["Senegal","SN"],["Serbia","RS"],["Seychelles","SC"],["Sierra Leone","SL"],["Singapore","SG"],["Sint Maarten (Dutch part)","SX"],["Slovakia","SK"],["Slovenia","SI"],["Solomon Islands","SB"],["Somalia","SO"],["South Africa","ZA"],["South Georgia and the South Sandwich Islands","GS"],["South Sudan","SS"],["Spain","ES"],["Sri Lanka","LK"],["Sudan","SD"],["Suriname","SR"],["Svalbard and Jan Mayen","SJ"],["Sweden","SE"],["Switzerland","CH"],["Syrian Arab Republic","SY"],["Taiwan","TW"],["Tajikistan","TJ"],["Tanzania, United Republic of","TZ"],["Thailand","TH"],["Timor-Leste","TL"],["Togo","TG"],["Tokelau","TK"],["Tonga","TO"],["Trinidad and Tobago","TT"],["Tunisia","TN"],["Turkey","TR"],["Turkmenistan","TM"],["Turks and Caicos Islands","TC"],["Tuvalu","TV"],["Uganda","UG"],["Ukraine","UA"],["United Arab Emirates","AE"],["United Kingdom of Great Britain and Northern Ireland","GB"],["United States of America","US"],["United States Minor Outlying Islands","UM"],["Uruguay","UY"],["Uzbekistan","UZ"],["Vanuatu","VU"],["Venezuela (Bolivarian Republic of)","VE"],["Viet Nam","VN"],["Virgin Islands (British)","VG"],["Virgin Islands (U.S.)","VI"],["Wallis and Futuna","WF"],["Western Sahara","EH"],["Yemen","YE"],["Zambia","ZM"],["Zimbabwe","ZW"]],i=[["Argentina","AR"],["Armenia","AM"],["Australia","AU"],["Austria","AT"],["Belgium","BE"],["Bolivia (Plurinational State of)","BO"],["Bosnia and Herzegovina","BA"],["Bulgaria","BG"],["Cambodia","KH"],["Canada","CA"],["Chile","CL"],["Colombia","CO"],["Costa Rica","CR"],["C\xf4te d'Ivoire","CI"],["Croatia","HR"],["Cyprus","CY"],["Czechia","CZ"],["Denmark","DK"],["Dominican Republic","DO"],["Egypt","EG"],["El Salvador","SV"],["Estonia","EE"],["Finland","FI"],["France","FR"],["Gambia","GM"],["Germany","DE"],["Greece","GR"],["Hong Kong","HK"],["Hungary","HU"],["Iceland","IS"],["Indonesia","ID"],["Ireland","IE"],["Israel","IL"],["Italy","IT"],["Japan","JP"],["Jordan","JO"],["Kenya","KE"],["Korea (Republic of)","KR"],["Latvia","LV"],["Liechtenstein","LI"],["Lithuania","LT"],["Luxembourg","LU"],["Macao","MO"],["Malaysia","MY"],["Malta","MT"],["Mauritius","MU"],["Mexico","MX"],["Morocco","MA"],["Namibia","NA"],["Netherlands","NL"],["New Zealand","NZ"],["Norway","NO"],["Panama","PA"],["Paraguay","PY"],["Peru","PE"],["Philippines","PH"],["Poland","PL"],["Portugal","PT"],["Romania","RO"],["Saudi Arabia","SA"],["Senegal","SN"],["Singapore","SG"],["Slovakia","SK"],["Slovenia","SI"],["South Africa","ZA"],["Spain","ES"],["Sweden","SE"],["Switzerland","CH"],["Thailand","TH"],["Trinidad and Tobago","TT"],["Tunisia","TN"],["Turkey","TR"],["United Arab Emirates","AE"],["United Kingdom of Great Britain and Northern Ireland","GB"],["United States of America","US"],["Viet Nam","VN"]],a=["AX","CU","GS","HM","IO","IR","KP","LB","LY","SD","SO","SY","TF","UM"],o=[["Alabama","AL"],["Alaska","AK"],["Arizona","AZ"],["Arkansas","AR"],["California","CA"],["Colorado","CO"],["Connecticut","CT"],["Delaware","DE"],["Florida","FL"],["Georgia","GA"],["Hawaii","HI"],["Idaho","ID"],["Illinois","IL"],["Indiana","IN"],["Iowa","IA"],["Kansas","KS"],["Kentucky","KY"],["Louisiana","LA"],["Maine","ME"],["Maryland","MD"],["Massachusetts","MA"],["Michigan","MI"],["Minnesota","MN"],["Mississippi","MS"],["Missouri","MO"],["Montana","MT"],["Nebraska","NE"],["Nevada","NV"],["New Hampshire","NH"],["New Jersey","NJ"],["New Mexico","NM"],["New York","NY"],["North Carolina","NC"],["North Dakota","ND"],["Ohio","OH"],["Oklahoma","OK"],["Oregon","OR"],["Pennsylvania","PA"],["Rhode Island","RI"],["South Carolina","SC"],["South Dakota","SD"],["Tennessee","TN"],["Texas","TX"],["Utah","UT"],["Vermont","VT"],["Virginia","VA"],["Washington","WA"],["West Virginia","WV"],["Wisconsin","WI"],["Wyoming","WY"],["District of Columbia","DC"],["American Samoa","AS"],["Guam","GU"],["Northern Mariana Islands","MP"],["Puerto Rico","PR"],["United States Minor Outlying Islands","UM"],["Virgin Islands, U.S.","VI"],["Armed Forces (AA)","AA"],["Armed Forces (AE)","AE"],["Armed Forces (AP)","AP"]].sort((e,t)=>e[1].localeCompare(t[1])),l=[["Alberta","AB"],["British Columbia","BC"],["Manitoba","MB"],["New Brunswick","NB"],["Newfoundland and Labrador","NL"],["Nova Scotia","NS"],["Nunavut","NU"],["Ontario","ON"],["Prince Edward Island","PE"],["Quebec","QC"],["Saskatchewan","SK"],["Northwest Territories","NT"],["Yukon","YT"]].sort((e,t)=>e[1].localeCompare(t[1])),s=[["Andhra Pradesh","AP"],["Arunachal Pradesh","AR"],["Assam","AS"],["Bihar","BR"],["Chhattisgarh","CT"],["Goa","GA"],["Gujarat","GJ"],["Haryana","HR"],["Himachal Pradesh","HP"],["Jharkhand","JH"],["Karnataka","KA"],["Kerala","KL"],["Madhya Pradesh","MP"],["Maharashtra","MH"],["Manipur","MN"],["Meghalaya","ML"],["Mizoram","MZ"],["Nagaland","NL"],["Odisha","OR"],["Punjab","PB"],["Rajasthan","RJ"],["Sikkim","SK"],["Tamil Nadu","TN"],["Telangana","TG"],["Tripura","TR"],["Uttar Pradesh","UP"],["Uttarakhand","UT"],["West Bengal","WB"],["Andaman and Nicobar Islands","AN"],["Chandigarh","CH"],["Dadra and Nagar Haveli and Daman and Diu","DH"],["Delhi","DL"],["Jammu and Kashmir","JK"],["Ladakh","LA"],["Lakshadweep","LD"],["Puducherry","PY"]].sort((e,t)=>e[1].localeCompare(t[1])),c=["AT","BE","BG","HR","CY","CZ","DK","EE","FI","FR","DE","GR","HU","IE","IT","LV","LT","LU","MT","NL","PL","PT","RO","SK","SI","ES","SE"].concat(["GF","GP","MQ","ME","YT","RE","MF","GI","AX","IS","NO","AD","LI","MC","SM","VA","GB","GG","JE","PM","GL","BL","SX","AW","CW","WF","PF","NC","TF","AI","BM","IO","VG","KY","FK","MS","PN","SH","GS","TC"])},824856:(e,t,r)=>{"use strict";r.d(t,{Ap:()=>o,Cy:()=>a,se:()=>l});var n=r(899116),i=r(389908);function a(e){let t={};return e.forEach((e,r)=>{t[r]=e}),{layoutJSON:t,detectedLayoutsWeb:i.C8.map(t=>{let r=Object.entries(t.list).map(([t,r])=>null==r?!(t in e):e.get(t)===r).filter(e=>!e).length;return{name:t.name,isValid:0===r}}).filter(e=>e.isValid).map(e=>e.name)}}async function o(e){try{let e=null;if(n.sZ&&(e=await n.sZ.getKeyboardLayout()),!window.isSecureContext)return{detectedLayouts:[],layoutJSON:{},desktopLayout:e,errorMessage:"Not in secure context, no navigator.keyboard object"};if(window.top!==window.self)return{detectedLayouts:[],layoutJSON:{},desktopLayout:e,errorMessage:"Not in top-level browser context, navigator.keyboard not available"};let t=navigator.keyboard;if(!t||!t.getLayoutMap)return{detectedLayouts:[],layoutJSON:{},desktopLayout:e,errorMessage:"No keyboard in navigator object"};let r=await t.getLayoutMap(),{detectedLayoutsWeb:i,layoutJSON:o}=a(r);return{desktopLayout:e,detectedLayouts:i,layoutJSON:o}}catch(e){return console.error("Keyboard layout detection logging failed:",e),{detectedLayouts:[],layoutJSON:{},desktopLayout:null,errorMessage:"Unknown failure"}}}function l(e){return(e.desktopLayout?(0,i.UV)(e.desktopLayout):null)||(1===e.detectedLayouts.length&&i.Qz[e.detectedLayouts[0]]?i.Qz[e.detectedLayouts[0]]:null)}},762056:(e,t,r)=>{"use strict";let n;r.d(t,{S2:()=>h,WO:()=>f,YP:()=>E,oh:()=>g});var i=r(120304),a=r(161400),o=r(843148),l=r(372152),s=r(560072),c=r(317704),d=r(849208),u=r(90340),p=r(836780);function m(){let e=a.x;if(e)return e;throw Error("A lab is being instantiated without a global redux store set")}class _{constructor({getName:e,canOverrideFeatureFlag:t,defaultValueFeatureFlag:r}){this.getName=e,this.canOverrideFeatureFlag=t,this.defaultValueFeatureFlag=r,this.trueOverrideUserFlag=`${t}_override_true`,this.falseOverrideUserFlag=`${t}_override_false`,this.atom=(0,p.If)(e=>this.getEffectiveValue(e.userFlags),m)}getEffectiveValue(e){if(!this.canOverride())return this.defaultValue();let t=!!e[this.trueOverrideUserFlag],r=!!e[this.falseOverrideUserFlag];return t&&r?(console.error(`[Lab] Unexpected state: both ${this.trueOverrideUserFlag} and ${this.falseOverrideUserFlag} are true`),this.defaultValue()):!!t||!r&&this.defaultValue()}canOverride(){return!!(0,o.Ub)()[this.canOverrideFeatureFlag]}defaultValue(){return!!(0,o.Ub)()[this.defaultValueFeatureFlag]}isOverridden(e){let t=!!e[this.trueOverrideUserFlag],r=!!e[this.falseOverrideUserFlag];return t||r}toggleValue(e,t,r){if(!this.canOverride())return;let n=this.getEffectiveValue(e.userFlags),i=!n,a={[this.trueOverrideUserFlag]:!1,[this.falseOverrideUserFlag]:!1};a[i?this.trueOverrideUserFlag:this.falseOverrideUserFlag]=!0,t(d.s(a)),t(c.A.enqueue({message:i?(0,s.t)("lab.enabled",{labName:this.getName()}):(0,s.t)("lab.disabled",{labName:this.getName()})})),this.trackChange(e.user,n,!n,r)}resetToDefault(e,t){let r=this.getEffectiveValue(e.userFlags);t(d.s({[this.trueOverrideUserFlag]:!1,[this.falseOverrideUserFlag]:!1})),this.trackChange(e.user,r,this.defaultValue(),"reset")}trackChange(e,t,r,n){(0,u.E3)("labs",{user:e},{canToggleFF:this.canOverrideFeatureFlag,defaultValueFF:this.defaultValueFeatureFlag,previousValue:t,newValue:r,defaultValue:this.defaultValue(),source:n})}}function h(e){return(0,l.m4)(e.atom)}var g=((n=g||{})[n.DEFAULT=0]="DEFAULT",n[n.OVERRIDDEN=1]="OVERRIDDEN",n);function f(e){return[(0,l.m4)(e.atom),(0,i.w1)(t=>e.isOverridden(t.userFlags))?1:0]}let E=Object.freeze({customKeyboardShortcuts:new _({getName:()=>(0,s.t)("keyboard_settings.custom_keyboard_shortcuts"),canOverrideFeatureFlag:"ce_custom_keyboard_shortcuts",defaultValueFeatureFlag:"ce_custom_keyboard_default"}),ui3:new _({getName:()=>(0,s.t)("lab.ui3"),canOverrideFeatureFlag:"unified_index_v3_endpoint",defaultValueFeatureFlag:"unified_index_v3_default"}),ui3ExpAutoHideRightPanel:new _({getName:()=>(0,s.t)("lab.ui3.experimental_auto_hide_right_panel"),canOverrideFeatureFlag:"lab_hide_right_panel_toggle",defaultValueFeatureFlag:"lab_hide_right_panel_default"}),ui3ExpNonDesign:new _({getName:()=>(0,s.t)("lab.ui3.experimental_non_design"),canOverrideFeatureFlag:"unified_index_v3_exp",defaultValueFeatureFlag:"unified_index_v3_exp_default"}),ui3PrototypeAsATool:new _({getName:()=>(0,s.t)("lab.ui3.experimental_prototype_as_a_tool"),canOverrideFeatureFlag:"lab_prototype_as_a_tool_toggle",defaultValueFeatureFlag:"lab_prototype_as_a_tool_default"}),ui3AssetsPanelRedesign:new _({getName:()=>(0,s.t)("lab.ui3.assets_panel_redesign"),canOverrideFeatureFlag:"lab_asset_panel_redesign_toggle",defaultValueFeatureFlag:"lab_asset_panel_redesign_default"}),ui3AssetsPanelRedesignAlt:new _({getName:()=>(0,s.t)("lab.ui3.assets_panel_redesign_alt"),canOverrideFeatureFlag:"lab_asset_panel_alt_toggle",defaultValueFeatureFlag:"lab_asset_panel_alt_default"}),ui3FullHeightSidebarsDevMode:new _({getName:()=>(0,s.t)("lab.ui3.full_height_sidebars_dev_mode"),canOverrideFeatureFlag:"lab_full_height_dev_mode_toggle",defaultValueFeatureFlag:"lab_full_height_dev_mode_default"}),ui3CollapsedSidebarPillBackground:new _({getName:()=>(0,s.t)("lab.ui3.collapsed_sidebar_pill_background"),canOverrideFeatureFlag:"lab_collapsed_pill_color_toggle",defaultValueFeatureFlag:"lab_collapsed_pill_color_default"}),ui3Motion:new _({getName:()=>(0,s.t)("lab.ui3.motion"),canOverrideFeatureFlag:"lab_motion_toggle",defaultValueFeatureFlag:"lab_motion_default"}),fplComponents:new _({getName:()=>(0,s.t)("lab.fpl.components"),canOverrideFeatureFlag:"lab_fpl_components_toggle",defaultValueFeatureFlag:"lab_fpl_components_default"}),propertiesDevelopment:new _({getName:()=>(0,s.t)("lab.ui3.properties_dev"),canOverrideFeatureFlag:"ui3_properties_dev",defaultValueFeatureFlag:"ui3_properties_dev_default"}),trackableDebug:new _({getName:()=>(0,s.t)("lab.trackable_debug"),canOverrideFeatureFlag:"lab_trackable_debug_toggle",defaultValueFeatureFlag:"lab_trackable_debug_default"})})},668224:(e,t,r)=>{"use strict";r.d(t,{G:()=>y,M:()=>E});var n=r(307824),i=r(120304),a=r(796488),o=r(161400),l=r(506616),s=r(888932),c=r(418084),d=r(560072),u=r(49096),p=r(67612),m=r(191352),_=r(514916),h=r(472956),g=r(90340),f=r(696240);function E(e,t){return!!((null==e?void 0:e.is_ipad_user)||(0,a._E)(t))}function y(){let e=(0,i.OY)(),t=n.useRef(""),r="whiteboard"===(0,m.CM)(),a=(0,f.Ed)(),E=s.ch?_.KQ.DESKTOP:_.KQ.IPAD,y=(0,l.Qb)(h.Mzz,{deviceType:E});n.useEffect(()=>{var n;if(!y||"loaded"!==y.status)return;let i=y.data.latestClipboardData;if(i.deviceType!==E||!i.presignedDownloadUrl||!i.timestamp||Date.now()-parseInt(i.timestamp)>6e4)return;let l=o.x.getState(),s={copy_device_type:i.deviceType,copy_timestamp:i.timestamp};(0,g.s5)("crossDeviceCopyPaste_s3_header_fetch_start",null==(n=l.openFile)?void 0:n.key,l,s);let m=(0,c.c)();t.current=m,v(()=>fetch(i.presignedDownloadUrl,{method:"HEAD"}),m,t).then(({success:n,retryCount:o,errorMessage:c})=>{var _,h;if(a()){if(!n){(0,g.s5)("crossDeviceCopyPaste_s3_header_fetch_failure",null==(_=l.openFile)?void 0:_.key,l,{...s,error:c,retryCount:o});return}(0,g.s5)("crossDeviceCopyPaste_s3_header_fetch_success",null==(h=l.openFile)?void 0:h.key,l,{...s,retryCount:o}),e(u.q.dequeue({type:p.K.CLIPBOARD_DATA_AVAILABLE})),e(u.q.enqueue({notification:{type:p.K.CLIPBOARD_DATA_AVAILABLE,message:(0,d.t)("fullscreen.notification.clipboard_data_available"),downloadUrl:i.presignedDownloadUrl,deviceType:i.deviceType,timestamp:i.timestamp,isFigJam:r,acceptCallback:()=>{var e;return(0,g.s5)("crossDeviceCopyPaste_dialog_paste_tapped",null==(e=l.openFile)?void 0:e.key,l,s)},dismissCallback:()=>{var e;return(0,g.s5)("crossDeviceCopyPaste_dialog_dismiss_tapped",null==(e=l.openFile)?void 0:e.key,l,s)},displayCallback:()=>{var e;return(0,g.s5)("crossDeviceCopyPaste_dialog_shown",null==(e=l.openFile)?void 0:e.key,l,s)}}})),setTimeout(()=>{a()&&t.current===m&&e(u.q.dequeue({type:p.K.CLIPBOARD_DATA_AVAILABLE}))},6e4)}})},[r,y,E,t,e,a])}let b=e=>new Promise(t=>setTimeout(t,300*e)),v=async(e,t,r,n=0)=>{if(t!==r.current)return{success:!1,retryCount:n,errorMessage:"Download retry cancelled by new user initiated paste action"};try{let t=await e();if(!t.ok)throw Error("Failed to fetch header with status "+t.status)}catch(i){if(n>4)return{success:!1,retryCount:n,errorMessage:i.toString()};return await b(n),v(e,t,r,n+1)}return{success:!0,retryCount:n}}},53064:(e,t,r)=>{"use strict";r.d(t,{C8:()=>D,Gi:()=>N,VS:()=>O,e6:()=>k,iu:()=>L,wH:()=>A});var n=r(307824),i=r(120304),a=r(849300),o=r.n(a),l=r(445069),s=r.n(l),c=r(869720),d=r.n(c),u=r(843148),p=r(61836),m=r(506616),_=r(980068),h=r(594192),g=r(448604),f=r(219096),E=r(392992),y=r(939540),b=r(472956),v=r(154328),I=r(489796),w=r(629968),T=r(523292),S=r(784340);let C=n.createContext(null);function A(e){let{subscriptions:t,requestLibraryItems:r,releaseLibraryItems:i}=(0,h.wl)(n.useContext(C),"Must call `useLibraryData` from within <LibraryDataProvider>");return n.useEffect(()=>{if(e)return r(e),()=>i(e)},[r,i,e]),e&&t[e]||(0,m.W_)()}function O(){let{subscriptions:e}=(0,h.wl)(n.useContext(C),"Must call `useLibraryDataSubscriptions` from within <LibraryDataProvider>");return e}function N({fileKey:e}){return A(e),null}function L({children:e,maxSubscriptionsBeforeCleanup:t=20}){let r=(0,E.K0)(),[a,l]=n.useState({}),c=n.useCallback((e,t)=>{l(r=>({...r,[e]:t}))},[]),p=n.useMemo(()=>{let e={};for(let t of Object.keys(a)){let r=a[t];null!=r&&(e[t]=M(r))}return e},[a]),[m,_]=n.useState({});n.useEffect(()=>{r&&_(e=>({...e,[r]:(e[r]||0)+1}))},[r]);let[h,b]=n.useState({});!function(e){let t=n.useMemo(()=>(null==e?void 0:e.status)==="loaded"?D(e):[],[e]),r=n.useMemo(()=>s()(t,e=>e.node_id),[t]),a=n.useMemo(()=>(null==e?void 0:e.status)==="loaded"?function(e){let t=[];for(let r of e.data.libraryHierarchyPaths)for(let e of r.components)t.push(e);return t}(e):[],[e]),o=n.useMemo(()=>s()(a,"node_id"),[a]),l=n.useMemo(()=>(null==e?void 0:e.status)==="loaded"?function(e){let t=[];for(let r of e.data.libraryHierarchyPaths)for(let e of r.stateGroups)t.push(e);return t}(e):[],[e]),c=n.useMemo(()=>s()(l,e=>e.node_id),[l]),d=(0,S.Si)(),p=n.useMemo(()=>s()(d,e=>e.node_id),[d]),m=(0,S.yo)(),_=n.useMemo(()=>s()(m,e=>e.node_id),[m]),h=(0,I.kp)(),E=n.useMemo(()=>(0,u.Ub)().dse_editor_templates_v1?s()(h,e=>e.node_id):{},[h]),b=(0,i.OY)();n.useLayoutEffect(()=>{b(g.In({components:o,styles:r,stateGroups:c,variableSets:p,variables:_,modules:E})),b((0,f.u4)())},[b,o,c,r,p,_,E]),n.useEffect(()=>{((null==e?void 0:e.status)==="loaded"||(null==e?void 0:e.status)==="errors")&&(0,y.sf)()},[e])}(r?p[r]:null);let v=n.useCallback(e=>{_(t=>{let r=t[e]??0;return{...t,[e]:r+1}}),b(t=>({...t,[e]:Date.now()}))},[]),w=n.useCallback(e=>{_(t=>{let r=(t[e]??0)-1;if(r>0)return{...t,[e]:r};{r<0&&console.error("Tried to release subscription for library items that doesn't exist");let n={...t};return delete n[e],n}})},[]),T=Object.keys(m),A=Object.keys(a),O=d()([...T,...A]),N=o()(O,T);n.useEffect(()=>{let e=O.length,r=N.length;e>t&&r>0&&l(r=>{let n=[...N].sort((e,t)=>{let r=h[e],n=h[t];return null==r?-1:null==n?1:null==r&&null==n?0:r-n}).slice(0,e-t),i={...r};for(let e of n)delete i[e];return i})});let L=n.useMemo(()=>({requestLibraryItems:v,releaseLibraryItems:w,fetchedFileKeys:O,subscriptions:p}),[v,w,O,p]);return n.createElement(n.Fragment,null,n.createElement(C.Provider,{value:L},e),O.map(e=>n.createElement(P,{key:e,fileKey:e,onChange:c})),Object.entries(p).map(([e,t])=>t&&n.createElement(R,{subscription:t,fileKey:e,key:e})))}function R({subscription:e,fileKey:t}){return(0,p.bc)(e,"Library Data Subscription Load Time",{fileKey:t,numStyles:"loaded"===e.status?e.data.numStyles:0}),null}let P=n.memo(function({fileKey:e,onChange:t}){let r=e!==(0,E.K0)(),i=(0,T.Aj)(e),a=(0,w.a0)(),{view:o,args:l,options:s}=i?{view:b.yYl,args:{hubFileId:e},options:{enabled:a()}}:{view:r?b.y69:b.IfJ,args:{fileKey:e},options:void 0},c=(0,m.Qb)(o,l,s);return n.useEffect(()=>{t(e,c)},[t,e,c]),null}),M=(0,_.iI)(function(e){var t;if("loaded"!==e.status)return e;let r=e.data;if("communityLibraryByHubFileId"in r){let e=r.communityLibraryByHubFileId;if(!e)return(0,m.u8)([]);let t=e.libraryHierarchyPaths.map(t=>{let r=t.styles.map(t=>(0,v.Wc)(t,{key:e.hubFileId}));return{pageName:t.pageName??void 0,containingFrameName:t.containingFrameName??void 0,nameHierarchyPath:t.nameHierarchyPath??void 0,components:[],stateGroups:[],styles:r}});return(0,m.uU)({fileKey:e.hubFileId,name:e.name,numComponents:0,numStateGroups:0,numStyles:e.numStyles??0,libraryHierarchyPaths:t})}let n=r.file;if(!n)return(0,m.u8)([]);let i=n.libraryHierarchyPaths.map(e=>{let t="components"in e?e.components.map(e=>(0,v.Gi)(e,n)):[],r="stateGroups"in e?e.stateGroups.map(e=>(0,v.io)(e,n)):[],i=e.styles.map(e=>(0,v.Wc)(e,n));return{pageName:e.pageName??void 0,containingFrameName:e.containingFrameName??void 0,nameHierarchyPath:e.nameHierarchyPath??void 0,components:t,stateGroups:r,styles:i}});return(0,m.uU)({fileKey:n.key,name:n.name,numComponents:n.library&&"numComponents"in n.library&&n.library.numComponents||0,numStateGroups:n.library&&"numStateGroups"in n.library&&n.library.numStateGroups||0,numStyles:(null==(t=n.library)?void 0:t.numStyles)??0,libraryHierarchyPaths:i})});function k(e,t){let r=[];for(let n of e.libraryHierarchyPaths)for(let e of n.styles)t?e.style_type===t&&r.push(e):r.push(e);return r}function D(e,t){return k(e.data,t)}},939540:(e,t,r)=>{"use strict";let n;r.d(t,{A3:()=>tS,AD:()=>er,Ae:()=>th,Ap:()=>eO,Av:()=>e0,Ax:()=>ea,C2:()=>eJ,CM:()=>eF,CQ:()=>tY,Ck:()=>tu,ED:()=>tN,EJ:()=>ed,Ed:()=>tD,Eh:()=>eN,El:()=>eE,Ep:()=>tf,FN:()=>X,GW:()=>e7,G_:()=>tW,Gk:()=>tr,Gs:()=>tz,Gu:()=>ta,K4:()=>tP,KK:()=>tq,Ke:()=>eA,Ki:()=>td,Ko:()=>tw,Kw:()=>tp,Ky:()=>e_,MX:()=>j,Mx:()=>tx,OG:()=>tC,OK:()=>to,OM:()=>eS,OS:()=>tc,QA:()=>ey,QY:()=>eM,SQ:()=>tt,U9:()=>et,UB:()=>e8,Ux:()=>tJ,Vr:()=>tv,WV:()=>ee,Wy:()=>tE,Y:()=>Q,YB:()=>em,YH:()=>t$,Yf:()=>tL,Yh:()=>tI,Yp:()=>eg,_2:()=>tQ,_I:()=>eW,_Y:()=>tg,_h:()=>z,_u:()=>t_,aG:()=>tB,aQ:()=>e5,ae:()=>es,am:()=>ef,ao:()=>tm,cN:()=>eY,cb:()=>eZ,e6:()=>eD,ei:()=>ti,gZ:()=>tM,gd:()=>tZ,gt:()=>en,hp:()=>tX,iC:()=>$,iQ:()=>te,iU:()=>tl,iY:()=>e6,i_:()=>tU,ic:()=>tH,iy:()=>ev,k3:()=>eI,k5:()=>tk,kZ:()=>tV,mA:()=>e4,mE:()=>e$,mS:()=>eu,ms:()=>tO,nk:()=>eX,oN:()=>ew,oS:()=>Z,pP:()=>tj,q1:()=>tF,qQ:()=>e2,qS:()=>ek,qk:()=>tR,s1:()=>eP,sD:()=>tK,sf:()=>tT,u4:()=>ei,uM:()=>el,uS:()=>ts,uY:()=>ez,w7:()=>e1,wT:()=>eG,wp:()=>tG,wv:()=>J,ym:()=>t0,ys:()=>eo,yu:()=>ec});var i=r(307824),a=r(120304),o=r(216712),l=r.n(o),s=r(250008),c=r(139776),d=r(916924),u=r(972920),p=r(161400),m=r(4580),_=r(843148),h=r(980068),g=r(868676),f=r(326660),E=r(710956),y=r(936756),b=r(58908),v=r(557044),I=r(675695),w=r(778524),T=r(560072),S=r(49096),C=r(67612),A=r(796116),O=r(375376),N=r(448604),L=r(659436),R=r(316220),P=r(699084),M=r(148812),k=r(596496),D=r(762820),F=r(649496),x=r(783932),U=r(31948),B=r(39676),G=r(886872),V=r(790184),H=r(784528),W=r(103064),K=r(102628),Y=r(814132),q=r(869588),j=((n=j||{}).CURRENT="current",n.ALL="all",n);let $=i.createContext(null);function Z(e){return e===V.Av.CURRENT||e===V.Av.CHANGED||e===V.Av.DELETED}function z(e){return e===V.Av.NEW||e===V.Av.CHANGED||e===V.Av.DELETED}function Q(e){switch(e.type){case V.Af.COMPONENT:return{type:e.type,key:e.component_key,version:e.content_hash};case V.Af.STATE_GROUP:return{type:e.type,key:e.key,version:e.version};case V.Af.STYLE:return{type:e.type,key:e.key,version:e.content_hash};case V.Af.VARIABLE_SET:case V.Af.VARIABLE:case V.Af.MODULE:return{type:e.type,key:e.key,version:e.version};default:(0,d.Uc)(!1,`Unknown type ${null==e?void 0:e.type}`)}}function X(e){let{key:t}=Q(e);return(0,d.kz)(void 0!==t,"Asset had no key",{asset:e}),t}function J(e){return e.map(X)}function ee(e){return Q(e).version}function et(e){return!e.isShown||e.isCreating?null:e.style.isLocal?null:e.style}function er(e,t){return`/file/${e}?node-id=${encodeURIComponent(t)}&main-component=1`}function en(e){return er(e.file_key,e.node_id)}function ei(e,t,r){for(let r of Object.values(t))if("loaded"===r.status&&r.data.key===e)return r.data;for(let t of Object.values(r))if(t.key===e)return t;return null}function ea(e,t){let r=Object.create(null);if(!t)return r;let n=t.team_id||V.pw,i=e[n]&&e[n][t.key]||Object.create(null);for(let e in i)null==i[e].unpublished_at&&(r[e]=i[e]);return r}function eo(e,t){let r=ea(e,t);return Object.keys(r).map(e=>r[e])}function el(e){let t=[];return es(e,(r,n,i)=>{t.push(e[r][n][i])}),t}function es(e,t){Object.keys(e).forEach(r=>{Object.keys(e[r]).forEach(n=>{Object.keys(e[r][n]).forEach(e=>{t(r,n,e)})})})}function ec(e){return Object.keys(e).map(t=>e[t]).filter(e=>!e.deletedFromSceneGraph)}function ed(e,t){let r=[];for(let n in e){let i=e[n];i.style_type!==t||i.deletedFromSceneGraph||r.push(i)}return r}function eu(e,t,r,n){let i=[];for(let a in t)for(let o in t[a])if(eA(e,r,{team_id:a,key:o},n))for(let e in t[a][o]){let r=t[a][o][e];i.push(r)}return i}let ep=new Set;async function em(e){let t=new Map((e=e.filter(e=>e.canvas_url&&!M.Uv.hasKeyInCache(M.SA.augmentUrlWithFileVersion(e.canvas_url))&&!ep.has(e.key))).map(e=>[e.key,e.canvas_url])),r=e.map(e=>e.key);if(r.forEach(e=>ep.add(e)),0!==r.length)try{let e=await v.cp.post("/style/canvases",{style_keys:r});for(let[r,n]of Object.entries(e.data.meta.urls))v.cp.crossOriginGetAny(n,null,{responseType:"arraybuffer"}).then(({data:e})=>{let n=t.get((0,I.YT)(r));if(n){let t=M.SA.augmentUrlWithFileVersion(n);M.Uv.putCanvas(t,e)}ep.delete((0,I.YT)(r))}).catch(()=>{ep.delete((0,I.YT)(r))})}catch(e){r.forEach(e=>ep.delete(e))}}let e_=["TEXT","FILL","EFFECT","GRID"],eh=(e,t)=>{let r=t?1:2;switch(e){case"TEXT":return(0,T.t)("design_systems.styles.text_style",{numStyles:r});case"FILL":return(0,T.t)("design_systems.styles.color_style",{numStyles:r});case"EFFECT":return(0,T.t)("design_systems.styles.effect_style",{numStyles:r});case"GRID":return(0,T.t)("design_systems.styles.grid_style",{numStyles:r});case"EXPORT":return(0,T.t)("design_systems.styles.export_style",{numStyles:r});case"STROKE":return(0,T.t)("design_systems.styles.stroke_style",{numStyles:r});default:return(0,s.we)("Unknown style type",{styleType:e}),(0,T.t)("design_systems.styles.styles",{numStyles:r})}};function eg(e){return eh(e,!1)}function ef(e){return eh(e,!0)}function eE(e){return"inheritFillStyleKeyForStroke"===e?(0,T.t)("design_systems.styles.stroke_color_style"):"inheritFillStyleKey"===e?(0,T.t)("design_systems.styles.fill_color_style"):ef((0,F.i6)(e))}function ey(e,t){var r,n;return t in e?{design:!!(null==(r=e[t])?void 0:r.design),figjam:!!(null==(n=e[t])?void 0:n.figjam)}:{design:null,figjam:null}}let eb=e=>null!==e.design&&null!==e.figjam;function ev(e,t){var r;if(!t)return{design:!1,figjam:!1};let n=(r=e.subscriptions.forPresets,(0,_.Ub)().dse_preset_libraries?t?ey(r,t.key):{design:!1,figjam:!1}:{design:null,figjam:null}),i=ey(e.subscriptions.forCurrentOrg,t.key);return eb(i)?i:n}function eI(e,t){if(!t)return{design:!1,figjam:!1};let r=ev(e,t),n=ey(e.subscriptions.forCurrentWorkspace,t.key);return eb(n)?n:r}function ew(e,t,r){if(!r)return{design:!1,figjam:!1};let n=eI(e,r),i=ey(e.subscriptions.byTeam[t]||{},r.key);return eb(i)?i:n}let eT=(e,t)=>{if(!t)return{design:!1,figjam:!1};let r=ev(e,t),n=ey(e.subscriptions.forCurrentUser,t.key);return eb(n)?n:r};function eS(e,t){let r=eT(e,t);if(eb(r))return r;for(let n in e.subscriptions.byTeam){let i=ew(e,n,t);i.design&&(r.design=!0),i.figjam&&(r.figjam=!0)}return r}let eC=(e,t)=>e.key===t.key||e.source_file_key===t.key||e.key===t.source_file_key;function eA(e,t,r,n){let i;if(!t||!r||eC(t,r))return!1;i=(0,_.Ub)().ps_benchmark?t.team_id?n?function(e,t,r){let n=eT(e,r);return eb(n)?n:ew(e,t,r)}(e,t.team_id,r):ew(e,t.team_id,r):eS(e,r):t.team_id?ew(e,t.team_id,r):eS(e,r);let a="whiteboard"===t.editor_type?i.figjam:i.design,o=e.subscriptions.byFile;return t.key in o&&r.key in o[t.key]?o[t.key][r.key]:tr(e,r.key)?a||null===a:a}function eO(e,t,r,n){return eA(e,{key:t.key,team_id:t.teamId,editor_type:t.editorType,source_file_key:t.sourceFileKey},r,n)}function eN(e,t,r,n,i){if(r.length)return!0;for(let r of n){let n;let a=i[r];if(!a)continue;n="file_key"in a?a.file_key:"loaded"===a.status&&a.data.file_key;let o=(0,k.CO)(t.project);if(n&&eA(e,{key:t.key,team_id:t.teamId,editor_type:t.editorType,source_file_key:t.sourceFileKey},{key:n},o))return!0}return!1}let eL=(e,t)=>e.style_type===t.style_type?0:e_.indexOf(e.style_type)<e_.indexOf(t.style_type)?-1:1,eR=(e,t)=>-(0,g.QT)(e.sort_position||"",t.sort_position||"");function eP(e,t){let r=eL(e,t);return 0===r?eR(e,t):r}function eM(e){e.sort(eR)}function ek(e){let t=new Map;return e.forEach(e=>{let r=t.get(e.style_type);r?r.push(e):t.set(e.style_type,[e])}),t}function eD(e,t){let r=e=>e&&e.toLowerCase?e.toLowerCase():"",n=e.containing_frame||{},i=t.containing_frame||{};return n.pageId!==i.pageId?r(n.pageName)<r(i.pageName)?-1:1:n.nodeId!==i.nodeId?r(n.name)<r(i.name)?-1:1:r(e.name)<r(t.name)?-1:1}function eF(e){let t=[...e];return eM(t),{stylesByPrefix:t.reduce((e,t)=>{let r=(0,x.Mv)(t.name);return e[r]=e[r]||[],e[r].push(t),e},Object.create(null)),sortedPrefixes:(0,K.e)(t)}}let ex=!0;function eU(e,t){if(!e||!t)return!0;for(let r in e){if(!(r in t))return!0;let n=e[r],i=t[r];for(let e in n)if(n[e]!==i[e])return!0;for(let e in i)if(!(e in n))return!0}for(let r in t)if(!(r in e))return!0;return!1}function eB(e,t,r,n,i,a,o,l,s,c){let d=Object.create(null),u=0;for(let p in t.forEach(t=>{let s=t.nodeId,p=n[s];a[s]=ej(i[s]),d[s]=e(p,r[s],t,o,l,c);let m=d[s];m.status===V.Av.NEW&&m.type===V.Af.COMPONENT&&(u+=1)}),n)if(!(p in d)){let e=i[p];e&&e.url&&(0,M.ak)(e.url);let t=n[p];if(t.type===V.Af.COMPONENT||t.type===V.Af.STATE_GROUP){let e=(t.type,V.Af.COMPONENT,t);e.old_key&&s.add(e.node_id)}}for(let t in r)t in d||(a[t]=ej(i[t]),d[t]=e(n[t],r[t],null,o,l,c));return{newLocal:d,numNewComponents:u}}function eG(e){var t;let r=e.getState();if(r.versionHistory.activeId&&r.versionHistory.activeId!==q._2||!(null==(t=r.mirror)?void 0:t.sceneGraph))return;let n=(0,P.QZ)(r),i=n?n.key:"",a=V.lt,o=new Set,l={},{newLocal:s,numNewComponents:c}=eB(eW,r.library.publishableSymbols,r.library.openFilePublished__LIVEGRAPH.components,r.library.local.components,r.library.local.thumbnails,l,i,a,o,V.Af.COMPONENT),{newLocal:d}=eB(eK,r.library.publishableStateGroups,r.library.openFilePublished__LIVEGRAPH.stateGroups,r.library.local.stateGroups,r.library.local.thumbnails,l,i,a,o,V.Af.STATE_GROUP),{newLocal:u}=eB(eY,r.library.publishableStyles,r.library.openFilePublished__LIVEGRAPH.styles,r.library.local.styles,r.library.local.thumbnails,l,i,a,o,V.Af.STYLE),{newLocal:p}=eB(eq,r.library.publishableModules,r.library.openFilePublished__LIVEGRAPH.modules,r.library.local.modules,r.library.local.thumbnails,l,i,a,o,V.Af.MODULE);if(eU(r.library.local.components,s)&&e.dispatch(N.gl({local:s,type:V.Af.COMPONENT})),eU(r.library.local.stateGroups,d)&&e.dispatch(N.gl({local:d,type:V.Af.STATE_GROUP})),eU(r.library.local.styles,u)&&e.dispatch(N.gl({local:u,type:V.Af.STYLE})),eU(r.library.local.modules,p)&&(0,_.Ub)().dse_editor_templates_v1&&e.dispatch(N.gl({local:p,type:V.Af.MODULE})),function(e,t){if(!e&&!t)return!1;if(!e||!t||Object.keys(e).length!==Object.keys(t).length)return!0;for(let r in e)if(!t[r]||e[r].url!==t[r].url||e[r].content_hash!==t[r].content_hash)return!0;return!1}(r.library.local.thumbnails,l)&&e.dispatch(L.MH({thumbnails:l})),c>0&&ex&&((0,w.Y9)({id:"Parsed first components"}),ex=!1),o.size>0){let t=r.notifications.filter(e=>e.type===C.K.MOVE_COMPONENTS_PROMPT);if(t.length>0){let r=t[0].type===C.K.MOVE_COMPONENTS_PROMPT&&t[0].movableItemIds;r&&(0,E._K)(r,o)&&e.dispatch(S.q.dequeue({type:C.K.MOVE_COMPONENTS_PROMPT}))}}}let eV="Generating a local library item that is neither in the library nor in the scene graph. Why.",eH=(e,t,r,n,i,a)=>{var o;if(!r){if(t)return{...t,status:V.Av.DELETED,deletedFromSceneGraph:!0};throw Error(eV)}let l=t&&null==t.unpublished_at,s=!!r.isPublishable,c=V.Av.NOT_STAGED;l&&!s?c=V.Av.DELETED:!l&&s?c=V.Av.NEW:l||s||(c=V.Av.NOT_STAGED);let{description:d,description_rt:u}=(o=r.description,{description:r.descriptionPlain??"",description_rt:o??""});return{node_id:r.nodeId,name:r.name,description:d,description_rt:u,file_key:n,library_key:i,isPublishable:s,deletedFromSceneGraph:!1,meta:e?e.meta:void 0,isLocal:!0,status:c,type:a,thumbnail_url:t&&t.thumbnail_url||void 0}};function eW(e,t,r,n,i){let a={...eH(e,t,r,n,i,V.Af.COMPONENT),type:V.Af.COMPONENT,height:null==r?void 0:r.height,width:null==r?void 0:r.width,x:null==r?void 0:r.x,y:null==r?void 0:r.y,componentPropDefError:null==r?void 0:r.componentPropDefError,containing_frame:(null==r?void 0:r.containingFrame)||(null==t?void 0:t.containing_frame)||void 0,component_key:(null==t?void 0:t.component_key)||void 0,content_hash:(null==r?void 0:r.versionHash)||(null==t?void 0:t.content_hash)||void 0,userFacingVersion:(null==r?void 0:r.userFacingVersion)||I.I9.INVALID,old_key:(null==r?void 0:r.oldKey)||void 0};if(!t)return a;let o=null==t.unpublished_at,l=!!(null==r?void 0:r.isPublishable);return o&&l&&(t&&t.content_hash===a.content_hash&&!(0,H.Q3)(t.containing_frame,null==r?void 0:r.containingFrame)&&(0,H.eK)(t.name,null==r?void 0:r.name)&&(0,H.eK)(t.description,a.description)?a.status=V.Av.CURRENT:a.status=V.Av.CHANGED),a}function eK(e,t,r,n,i){let a=eH(e,t,r,n,i,V.Af.STATE_GROUP);if(!t){if(!r)throw Error(eV);return{...a,type:V.Af.STATE_GROUP,version:r.versionHash,userFacingVersion:r.userFacingVersion,containing_frame:r.containingFrame,width:r.width,height:r.height,stateGroupError:r.stateGroupError,componentPropDefError:r.componentPropDefError,fill_color:r.fill_color,default_state_key:r.default_state_key,old_key:r.oldKey||void 0}}let o={...a,type:V.Af.STATE_GROUP,version:(null==r?void 0:r.versionHash)||t.version,userFacingVersion:(null==r?void 0:r.userFacingVersion)||I.wJ.INVALID,containing_frame:(null==r?void 0:r.containingFrame)||t.containing_frame,width:(null==r?void 0:r.width)||t.min_node_width,height:(null==r?void 0:r.height)||t.min_node_height,key:t.key||void 0,stateGroupError:(null==r?void 0:r.stateGroupError)||D.QDw.NONE,componentPropDefError:(null==r?void 0:r.componentPropDefError)||D._22.NONE,fill_color:(null==r?void 0:r.fill_color)||(null==t?void 0:t.fill_color),default_state_key:(null==r?void 0:r.default_state_key)||(null==t?void 0:t.default_state_key),old_key:(null==r?void 0:r.oldKey)||void 0},l=null==t.unpublished_at,s=!!(null==r?void 0:r.isPublishable);return l&&s&&(t.version===o.version&&!(0,H.Q3)(t.containing_frame,null==r?void 0:r.containingFrame)&&(0,H.eK)(t.name,null==r?void 0:r.name)&&(0,H.eK)(t.description,o.description)?o.status=V.Av.CURRENT:o.status=V.Av.CHANGED),o}function eY(e,t,r,n,i){let a=eH(e,t,r,n,i,V.Af.STYLE),o=t&&null==t.unpublished_at,l=!!(null==r?void 0:r.isPublishable),s=!1;if(o&&l&&(t&&t.content_hash===(null==r?void 0:r.versionHash)&&(0,H.eK)(t.name,null==r?void 0:r.name)&&(0,H.eK)(t.description,a.description)?(0,H.eK)(t.sort_position,null==r?void 0:r.sortPosition)?a.status=V.Av.CURRENT:(a.status=V.Av.CHANGED,s=!0):a.status=V.Av.CHANGED),r)return{...a,type:V.Af.STYLE,key:r.styleKey,style_type:r.styleType,is_soft_deleted:r.isSoftDeleted,sort_position:r.sortPosition,content_hash:r.versionHash,userFacingVersion:r.userFacingVersion,hasOnlyBeenReordered:s,old_key:r.oldKey||void 0};if(t)return{...a,type:V.Af.STYLE,key:t.key,style_type:t.style_type,is_soft_deleted:!0,sort_position:t.sort_position,content_hash:t.content_hash,userFacingVersion:t.userFacingVersion,hasOnlyBeenReordered:s};throw Error(eV)}function eq(e,t,r,n,i){let a=eH(e,t,r,n,i,V.Af.MODULE);if(!t){if(!r)throw Error(eV);return{...a,type:V.Af.MODULE,moduleSource:r.moduleSource,height:r.height,width:r.width,x:r.x,y:r.y,containing_frame:r.containingFrame,version:r.versionHash,userFacingVersion:r.userFacingVersion,old_key:r.oldKey||void 0}}let o={...a,type:V.Af.MODULE,moduleSource:(null==r?void 0:r.moduleSource)||t.moduleSource,height:(null==r?void 0:r.height)||t.height,width:(null==r?void 0:r.width)||t.width,x:null==r?void 0:r.x,y:null==r?void 0:r.y,containing_frame:(null==r?void 0:r.containingFrame)||t.containing_frame||void 0,version:(null==r?void 0:r.versionHash)||t.version,userFacingVersion:(null==r?void 0:r.userFacingVersion)||I.qr.INVALID,old_key:(null==r?void 0:r.oldKey)||void 0,key:t.key},l=t&&null==t.unpublished_at,s=!!(null==r?void 0:r.isPublishable);return l&&s&&(t.version===o.version&&!(0,H.Q3)(t.containing_frame,null==r?void 0:r.containingFrame)&&(0,H.eK)(t.name,null==r?void 0:r.name)&&(0,H.eK)(t.description,o.description)?o.status=V.Av.CURRENT:o.status=V.Av.CHANGED),o}function ej(e){return{kind:e&&e.kind||void 0,url:e&&e.url||void 0,content_hash:e&&e.content_hash||void 0}}let e$=(e,t)=>`GET_PUBLISHED_COMPONENTS_FOR_${e}_FV${t}`,eZ=new Set;function ez(e){for(let t of eZ)e(R.E5({key:t}))}let eQ=new Set;function eX(e){return eQ.has(e)}function eJ(e){eQ.add(e)}function e0(){eQ.clear()}async function e1(e,t,r,n){var i,a,o,l,s,c,d,u;if(null===r)return;let p=e$(e,r);if(!(0,B.ER)(t,p))return;let m=W.C.getLibraryPublishedComponentsFv({key:e,fileVersion:r});(0,G.o)(m,{dispatch:n},p),eZ.add(p);try{let e=await m,t=(null==(a=null==(i=null==e?void 0:e.data)?void 0:i.meta)?void 0:a.components)||[],r=(null==(l=null==(o=null==e?void 0:e.data)?void 0:o.meta)?void 0:l.state_groups)||[],p=null==(c=null==(s=null==e?void 0:e.data)?void 0:s.meta)?void 0:c.file,_=null==(u=null==(d=null==e?void 0:e.data)?void 0:d.meta)?void 0:u.library;if(n(O.Aj({file:p})),_&&n(N.mO({libraries:[_]})),t=t.map(e=>({...e,team_id:p.team_id})),r=r.map(e=>({...e,team_id:p.team_id})),0!==r.length){let e=r.reduce((e,t)=>(e[t.node_id]=t,e),{});n(N.Aj({itemsById:e,fileKey:p.key,teamId:p.team_id,type:V.Af.STATE_GROUP}))}if(0!==t.length){let e=t.reduce((e,t)=>(e[t.node_id]=t,e),{});n(N.Aj({itemsById:e,fileKey:p.key,teamId:p.team_id,type:V.Af.COMPONENT}))}eJ(p.key)}catch(t){console.warn(`Failed to get published components from file ${e}`)}}async function e2(e,t,r,n){var i,a,o,l,s,c,d,u;if(null===r)return;let p=e$(e,r);if(!(0,B.ER)(t,p))return;let m=W.C.getCommunityLibraryPublishedComponents({hubFileId:e});(0,G.o)(m,{dispatch:n},p),eZ.add(p);try{let t=await m,r=(null==(a=null==(i=null==t?void 0:t.data)?void 0:i.meta)?void 0:a.components)||[],p=(null==(l=null==(o=null==t?void 0:t.data)?void 0:o.meta)?void 0:l.state_groups)||[],_=null==(c=null==(s=null==t?void 0:t.data)?void 0:s.meta)?void 0:c.hub_file,h=null==(u=null==(d=null==t?void 0:t.data)?void 0:d.meta)?void 0:u.library;if(_&&n(A.Ur([_])),h&&n(N.mO({libraries:[h]})),0!==p.length){let e=p.reduce((e,t)=>(e[t.node_id]=t,e),{});n(N.Aj({itemsById:e,fileKey:_.id,teamId:null,type:V.Af.STATE_GROUP}))}if(0!==r.length){let t=r.reduce((e,t)=>(e[t.node_id]=t,e),{});n(N.Aj({itemsById:t,fileKey:e,teamId:null,type:V.Af.COMPONENT}))}eJ(e)}catch(t){console.warn(`Failed to get published components from Community Library ${e}`)}}function e4(e,t){let r={};return t.forEach(e=>{var t,n,i,a;if(null==(n=null==(t=e.containing_frame)?void 0:t.containingStateGroup)?void 0:n.nodeId){let t=null==(a=null==(i=e.containing_frame)?void 0:i.containingStateGroup)?void 0:a.nodeId;r[t]||(r[t]=[]),r[t].push(e.name)}}),e.map(e=>({...e,stateNames:r[e.node_id]}))}let e3=new Set;async function e6(e,t=[],r,n,i,a,o){var s,c,d,u;if(!t.length)return{};let p={};for(let r of t){let t=e.get(r);t&&t.styleKey&&0!==D.i46.getNumUsagesOfStyle(t.styleKey,!0)&&(p[t.styleKey]=r)}let m=Object.keys(p),_=m.length>0&&(null==(d=null==(c=null==(s=await v.cp.post("/api/unpublished_styles",{style_keys:m,org_id:i}))?void 0:s.data)?void 0:c.meta)?void 0:d.styles)||[],h=l()([..._,...Object.values(r).filter(e=>e.key in p)],e=>e.key),g=new Set(h.map(e=>e.key)),f=Object.keys(p).filter(e=>e&&!g.has((0,I.YT)(e))),E=f.length>0&&(null==(u=await v.cp.post("/api/missing_styles",{style_keys:f}))?void 0:u.data.meta)||{};delete E[a];let y=[],b={};for(let e of h){let t=e.file_key;b[t]||(b[t]=[]),b[t].push(e),n[t]||e3.has(t)||(e3.add(t),y.push(t))}for(let[t,r]of Object.entries(E))for(let n of(b[t]||(b[t]=[]),r)){let r=p[n]&&e.get(p[n]);r&&b[t].push({type:V.Af.STYLE,name:r.name,file_key:t,key:n,thumbnail_url:`/style/${n}/thumbnail?ver=${r.styleVersionHash}`,canvas_url:`/style/${n}/thumbnail?ver=${r.styleVersionHash}`,content_hash:r.styleVersionHash||void 0,userFacingVersion:(0,I.SI)(r.userFacingVersion),node_id:r.guid,isLocal:!1,style_type:r.styleType,library_key:r.sourceLibraryKey})}return await e8(y,o),b}async function e8(e,t){if(e.length>0){let n=[];async function r(e){try{let r=await v.cp.post("/api/files/batch",{file_keys:e});r.data.meta||(0,f.WI)("designSystems","Unexpected empty API response",{data:JSON.stringify(r.data??null),numFiles:e.length,status:r.status}),t(O.eq({files:r.data.meta.files,subscribeToRealtime:!0}))}catch(e){(0,f.oP)(b._.DESIGN_SYSTEMS_EDITOR,e)}}for(let t=0;t<e.length;t+=200){let i=e.slice(t,t+200);n.push(r(i))}await Promise.all(n)}}async function e5(e,t,r){if(0===t.length)return[];let{styles:n,files:i}=(await v.cp.post("/api/styles",{style_keys:t,org_id:r})).data.meta;return e(O.eq({files:i,subscribeToRealtime:!0})),n}function e7(e,t=[],r=[],n,i,a,o,l=!1){var s,c,d,u;let p={},m=t.concat(r),_=[];for(let t of m){let r,o,m;let h=e.get(t);if(!h)continue;let g=t$(h)||void 0,f=h.publishID,E=h.isStateGroup;if(E?(h.sharedStateGroupVersion&&(r=h.sharedStateGroupVersion),h.stateGroupKey&&(o=h.stateGroupKey)):(h.sharedSymbolVersion&&(r=h.sharedSymbolVersion),h.componentKey&&(o=h.componentKey)),!f||!g)continue;let y=i[g];if(y){let e=y.team_id||V.pw;if((null==(m=((E?n.stateGroups[e]||{}:n.components[e]||{})[g]||{})[f])?void 0:m.type)===V.Af.COMPONENT){let t=null==(c=null==(s=m.containing_frame)?void 0:s.containingStateGroup)?void 0:c.nodeId;t&&(m=null==(u=null==(d=n.stateGroups[e])?void 0:d[g])?void 0:u[t],E=!0)}}else e3.has(g)||(e3.add(g),_.push(g));if(m)p[X(m)]=m;else if(E){if(!o||p[o]||!h.reversedChildrenGuids.some(t=>{var r;let n=null==(r=e.get(t))?void 0:r.componentKey;return n&&!p[n]}))continue;p[o]={type:V.Af.STATE_GROUP,name:h.name,file_key:g,library_key:h.sourceLibraryKey,key:o,thumbnail_url:`/state_group/${o}/thumbnail?ver=${r}&fv=${a}`,canvas_url:`/state_group/${o}/canvas?ver=${r}&fv=${a}`,node_id:f||"",isLocal:!1,version:r||I.wJ.INVALID,userFacingVersion:(0,I.wJ)(h.userFacingVersion),containing_frame:{},min_node_width:0,min_node_height:0,default_state_key:""}}else{if(!o||p[o]||h.isState&&!l||null===a)continue;p[o]={type:V.Af.COMPONENT,name:h.name,file_key:g,library_key:h.sourceLibraryKey,component_key:o,thumbnail_url:`/component/${o}/thumbnail?ver=${r}&fv=${a}`,canvas_url:`/component/${o}/canvas?ver=${r}&fv=${a}`,node_id:f||"",content_hash:h.sharedSymbolVersion||void 0,userFacingVersion:(0,I.I9)(h.userFacingVersion),isLocal:!1}}}return e8(_,o),Object.values(p)}let e9=(e,t,r,n,i,a,o)=>e7(e,t,r,n,i,a,o,!0).reduce((e,t)=>(t.type===V.Af.COMPONENT?t.component_key&&(e[t.component_key]=t):e[t.key]=t,e),Object.create(null));function te(e,t,r,n){for(let[i,a]of Object.entries((e=e.map(e=>({...e,team_id:r[e.file_key].team_id}))).reduce((e,t)=>(t.file_key in e?e[t.file_key].push(t):e[t.file_key]=[t],e),{})))n(N.Aj({itemsById:a.reduce((e,t)=>(e[t.node_id]=t,e),{}),fileKey:i,teamId:r[i].team_id,type:t}))}function tt(e){let t=(0,a.OY)(),{library:r,fileByKey:n,sceneGraph:o,fileVersion:l,subscribedComponents:s,subscribedStateGroups:c,subscribedComponentsOnCurrentPage:d,subscribedStateGroupsOnCurrentPage:u}=(0,m.q)(e=>({library:e.library,fileByKey:e.fileByKey,sceneGraph:e.mirror.sceneGraph,fileVersion:e.fileVersion,subscribedComponents:(0,Y.Sy)(e),subscribedStateGroups:(0,Y.UL)(e),subscribedComponentsOnCurrentPage:(0,Y.i6)(e),subscribedStateGroupsOnCurrentPage:(0,Y._c)(e)})),[p,_]="current"===e?[d,u]:[s,c];return i.useMemo(()=>e9(o,p,_,r.published,n,l,t),[o,p,_,r.published,n,l,t])}function tr(e,t){return!!e.defaultPublished.fileKeys.includes(t)}let tn=(0,h.ei)(e=>{let t={},r=e.local.styles;for(let e in r){let n=r[e];t[n.key]=n}return t});function ti(e,t,r){let n=tn(r)[e];if(n)return{kind:V.uk.LOCAL,value:n};let i=r.used__LIVEGRAPH.styles[e];return(null==i?void 0:i.status)==="loaded"?{kind:V.uk.LIBRARY,value:i.data}:t&&t.length?{kind:V.uk.DANGLING,value:{key:e,node_id:t[0]}}:void 0}function ta(e,t){return ti(e,t,(0,a.w1)(e=>e.library))}function to(e,t){if(!e)return"";if(e.kind!==V.uk.DANGLING)return e.value.name;{let r=t.get(e.value.node_id);return r?r.name:""}}function tl(e,t){let r=(0,a.w1)(e=>e.mirror.sceneGraph);return to(ta(e,t),r)}let ts=(0,h.ei)(e=>{let t={};return Object.keys(e).forEach(r=>{t[r]={},Object.keys(e[r]).forEach(n=>{t[r][n]=tc(e[r][n])})}),t});function tc(e){var t;let r={};for(let n in e){let i=e[n];(null==(t=i.containing_frame)?void 0:t.containingStateGroup)&&(r[n]={...i})}return r}function td(e,t,r){let n=e.team_id,i=e.key,a=n?r[n]:null;if(a){let e=a[i];if(e)return e[t]}return null}function tu(e,t){return function(e,t){var r,n;if(t.components[e]){let i=t.components[e],a=null==(n=null==(r=i.containing_frame)?void 0:r.containingStateGroup)?void 0:n.nodeId;return a?t.stateGroups[a]||null:i||null}return t.stateGroups[e]&&t.stateGroups[e]||null}(e,t)||(0,_.Ub)().dse_editor_templates_v1&&t.modules[e]&&t.modules[e]||null}function tp(e){let t=e.type===V.Af.STATE_GROUP&&!!(e.stateGroupError&&e.stateGroupError!==D.QDw.TOO_MANY_STATES_ERROR);return!!(e.componentPropDefError&&(e.componentPropDefError===D._22.CONFLICTING_NAMES_ERROR||e.componentPropDefError===D._22.CONFLICTING_NAMES_WITH_VARIANT_ERROR||e.componentPropDefError===D._22.UNUSED_DEF_ERROR)||t)}function tm(e){return e.variableSetError!==D.KwF.NONE}let t_=()=>{},th=new Promise(e=>{t_=e}),tg=()=>{},tf=new Promise(e=>{tg=e});function tE(e){e.dispatch(N.Ul({}))}let ty=()=>{},tb=new Promise(e=>{ty=e}),tv=e=>{var t;return{callback:ty,promise:tb,resetPromise:tA,loadingKey:`GET_USED_COMPONENTS_STATE_GROUPS_FOR_${null==(t=e.getState().openFile)?void 0:t.key}`}},tI=()=>{},tw=new Promise(e=>{tI=e}),tT=()=>{},tS=new Promise(e=>{tT=e});function tC(){t_(),tg(),tI(),th=new Promise(e=>{t_=e}),tf=new Promise(e=>{tg=e}),tw=new Promise(e=>{tI=e}),tA()}function tA(){ty(),tb=new Promise(e=>{ty=e})}function tO(e,t,r){return e.team_id===r?-1:t.team_id===r?1:(e.team_name||"").localeCompare(t.team_name||"")}function tN(e,t,r){return e.sort((e,n)=>{var i;let a=(i=null==r?void 0:r.groupByFolders,e.team_id!==n.team_id?tO(e,n,t):i&&e.file.folder_id!==n.file.folder_id?e.folder_name<n.folder_name?-1:1:(e.library_file_name||"").localeCompare(n.library_file_name||""));return(null==r?void 0:r.isDescending)?a:-a})}function tL(e,t,r){let n;let i=e.node_id,a=t[i]||{},o=a.url||null;switch(e.type){case V.Af.COMPONENT:case V.Af.STYLE:n=e.content_hash;break;case V.Af.VARIABLE:case V.Af.VARIABLE_SET:case V.Af.STATE_GROUP:case V.Af.MODULE:n=e.version;break;default:(0,d.gy)(e)}return(r||a.content_hash!==n||!(0,M.Qp)(o))&&(e.type===V.Af.COMPONENT||e.type===V.Af.STATE_GROUP||e.type===V.Af.MODULE?o=(0,M.kN)(i):e.type===V.Af.STYLE?o=(0,U.k)(e)?(0,M.q8)():(0,M.S2)(i,e.style_type):(e.type===V.Af.VARIABLE||e.type===V.Af.VARIABLE_SET)&&(o=(0,M.q8)())),o}function tR({numProductComponents:e,numStyles:t,numVariables:r,numModuleAssets:n}){let i=t>0?(0,T.t)("design_systems.libraries_modal.plural.num_style",{numStyles:t}):null,a=e>0?(0,T.t)("design_systems.libraries_modal.plural.num_component",{numComponents:e}):null,o=r>0?(0,T.t)("design_systems.libraries_modal.plural.num_variables",{numVariables:r}):null,l=(0,_.Ub)().dse_editor_templates_v1&&n>0?(0,T.t)("design_systems.libraries_modal.plural.num_templates",{numTemplates:n}):null,s=(0,c.Ib)([a,i,o,l]);return 0===s.length?(0,_.Ub)().dse_editor_templates_v1?(0,T.t)("design_systems.libraries_modal.no_publishable_assets"):(0,T.t)("design_systems.libraries_modal.no_components_styles_variables"):(0,y.Oy)(s,"unit")}let tP=e=>e!==V.Av.DELETED&&e!==V.Av.NOT_STAGED;function tM(e,t,r,n){let i=t[e];if(!i)return null;let a=el(r).find(e=>e.type===V.Af.COMPONENT?e.component_key===i:e.key===i),o="another file";if(!a)return o;let l=n[a.file_key];return l?l.name:o}function tk(e,t,r){var n,i;let a=e.reduce((r,n)=>(t[n]?r[n]=t[n]:(0,d.kz)(!1,"Expected nodeIdsToMove to be a subset of movableNodeIdToOldKey",{nodeIdsToMove:e,movableNodeIdToOldKey:t}),r),Object.create(null));for(let e of r){let r=null==(i=null==(n=e.containing_frame)?void 0:n.containingStateGroup)?void 0:i.nodeId,o=t[e.node_id];if(!r||!o)continue;let l=!!t[r];a[r]||!l?a[e.node_id]=o:a[e.node_id]&&delete a[e.node_id]}return{moveRemappings:a,movableItemsToPublishAsNew:new Set(Object.keys(t).filter(e=>!a[e]))}}function tD(e){return e.type===V.Af.COMPONENT||e.type===V.Af.STATE_GROUP}function tF(e){return e.isStateGroup||"SYMBOL"===e.type&&!e.isState}function tx(e){return V.gl.includes(e.type)}function tU(e){switch(e.type){case V.Af.COMPONENT:return e.component_key;case V.Af.STATE_GROUP:case V.Af.STYLE:case V.Af.VARIABLE:case V.Af.VARIABLE_SET:case V.Af.MODULE:return e.key;default:(0,d.gy)(e)}}function tB(e){return e.isLocal?D.GqY.getAssetKeyForPublish(e.node_id):X(e)}function tG(e){var t,r;return(null==(r=null==(t=e.containing_frame)?void 0:t.containingStateGroup)?void 0:r.nodeId)??null}function tV(e){return!!tG(e)}function tH(e,t,r,n){let i;if(!e)return;let a=t.get(e);if(a&&a.containingStateGroupId&&(a=t.get(a.containingStateGroupId)),a){if(t$(a)){let e=a.componentKey??a.stateGroupKey;e&&(i=null==n?void 0:n[e])}else i=null==r?void 0:r[a.guid];return i}}function tW(e,t){function r(e){return e.toLowerCase()}let n=r(e.name),i=r(t.name);return n<i?-1:n>i?1:0}function tK(e){switch(e){case V.cQ.THIRTY_DAYS:return(0,T.t)("design_systems.libraries_modal.30_days");case V.cQ.SIXTY_DAYS:return(0,T.t)("design_systems.libraries_modal.60_days");case V.cQ.NINETY_DAYS:return(0,T.t)("design_systems.libraries_modal.90_days");case V.cQ.YEAR:return(0,T.t)("design_systems.libraries_modal.year");default:(0,d.gy)(e)}}function tY(e){var t;return!!((0,_.Ub)().dse_templates_proto&&(null==(t=e.description)?void 0:t.startsWith("Figma.TemporaryIsTemplate")))}function tq(e){return!!((0,_.Ub)().dse_editor_templates_v1&&"MODULE"===e.type)}function tj(e,t){return(null!==e.design||null!==e.figjam)&&(!!e.design||!!e.figjam)&&(!!e.design&&!t.designSubscribed||!!e.figjam&&!t.figjamSubscribed||void 0)}function t$(e){return(0,_.Ub)().ds_publish_file_deprecation?e?e.isLooseComponent||e.isState?tZ(e.componentKey):e.isStateGroup?tz(e.stateGroupKey):null:null:(null==e?void 0:e.publishFile)??null}function tZ(e,t){var r;return e?(t||(t=tJ(p.x.getState().library.published.components)),(null==(r=t[e])?void 0:r.file_key)??null):null}function tz(e,t){var r;return e?(t||(t=tJ(p.x.getState().library.published.stateGroups)),(null==(r=t[e])?void 0:r.file_key)??null):null}function tQ(e,t,r){return r[e]?r[e].file_key??null:t[e]?t[e].file_key??null:null}function tX(e){let t={};return es(e,(r,n,i)=>{t[n]=t[n]||{},t[n][i]=e[r][n][i]}),t}function tJ(e){let t={};return es(e,(r,n,i)=>{let a=e[r][n][i];t[X(a)]=a}),t}function t0(e){let t=(0,a.OY)(),r=i.useMemo(()=>(0,u.C)(()=>{e&&e.value.node_id&&t(L.ob({styleNodeId:e.value.node_id,styleKind:e.kind}))}),[t,e]);i.useEffect(r)}},611996:(e,t,r)=>{"use strict";r.d(t,{Co:()=>B,Cy:()=>W,K:()=>D,Ki:()=>G,s1:()=>U,yY:()=>H});var n=r(120304),i=r(681949),a=r.n(i),o=r(250008),l=r(916924),s=r(843148),c=r(372152),d=r(234284),u=r(173292),p=r(268984),m=r(448604),_=r(823252),h=r(191352),g=r(699084),f=r(629968),E=r(148812),y=r(596496),b=r(939540),v=r(514916),I=r(187007),w=r(790184),T=r(888860),S=r(988328),C=r(552727),A=r(313373),O=r(932735),N=r(39676),L=r(814132),R=r(644516),P=r(882524),M=r(734712),k=r(510508);let D={threshold:.3,tokenize:!0,shouldSort:!0},F=new I.kX({keys:[{name:"name",weight:.6},{name:"stateNames",weight:.4},{name:"containing_frame.name",weight:.1},{name:"containing_frame.pageName",weight:.1},{name:"description",weight:.05}],...D});class x extends M.U{constructor(){super(...arguments),this.lastUpdatedQuery=(0,d.MZ)()?0:Date.now(),this.initSources=e=>{let t=(0,g.QZ)(e);if(!t)return;let r=e.folders,n=!!t.folder_id&&(0,y.ec)(r[t.folder_id]);((r,i,a,o)=>{let l=[],c=new Set,d=e=>{for(let t of e){let e=(0,O.M)(t);e&&c.has(e)||(e&&c.add(e),l.push({...t}))}};d((0,b.yu)(i)),e.library.assetsPanelSearch.shouldSearchDefaultLibraries&&(d((0,b.mS)(e.library,(0,E.cP)(e.library.defaultPublished.components),t,n)),d((0,b.mS)(e.library,e.library.defaultPublished.stateGroups,t,n)));let u=Object.values((0,b.OS)(e.library.local.components)),p=Object.values(e.library.local.stateGroups);d((0,b.mA)(p,u)),d(a),(0,s.Ub)().dse_editor_templates_v1&&d(Object.values(o)),r.set(l)})(F,(0,E.qO)(e.library.local.components),(0,b.GW)(e.mirror.sceneGraph,(0,L.Sy)(e),(0,L.UL)(e),e.library.published,e.fileByKey,e.fileVersion,e.dispatch),e.library.local.modules)},this.useInitSearch=S.I,this.computeLocalResultsPromise=async(e,t)=>{let r=(0,k.Ok)(T.Y.LOCAL,F,e);return{normalizedSearchResults:(await r).filter(e=>e.file_key===t),unsubscribedSearchResults:[]}},this.computeFileResultsPromise=async(e,t,r,n)=>{let i=(0,k.Ok)(T.Y.FILE,F,e),a=(0,k.Ur)(e,t),o=(0,k.Kg)(e,this.subscribedLibraryFileKeys,n,r),[l,{subscribedSearchResults:s,unsubscribedSearchResults:c},{communitySearchResults:d,unsubscribedCommunitySearchResults:u}]=await Promise.all([i,a,o]),p=(0,P.IP)(l,s),m=(0,P.IP)((null==d?void 0:d.filter(({file_key:e})=>e===t))||[],s),_=(0,P.IP)(c,p),h=(0,P.IP)((null==u?void 0:u.filter(({file_key:e})=>e===t))||[],_);return{normalizedSearchResults:[...s,...m],unsubscribedSearchResults:[..._,...h]}},this.computeAllResultsPromise=async(e,t,r,n,i,a,o)=>{let l=(0,k.Ok)(T.Y.ALL,F,e),s=(0,k.EF)(e,r,n,i,a,this.subscribedLibraryFileKeys),c=(0,k.Kg)(e,this.subscribedLibraryFileKeys,o,t),[d,{subscribedSearchResults:u,unsubscribedSearchResults:p},{communitySearchResults:m,unsubscribedCommunitySearchResults:_}]=await Promise.all([l,s,c]),h=(0,P.IP)(d,u,m||[]),g=(0,k.mQ)(h,u,T.Y.ALL),f=(0,P.IP)(m||[],g),E=(0,P.IP)(p,h),y=(0,P.IP)(_||[],E);return{normalizedSearchResults:[...g,...f],unsubscribedSearchResults:[...E,...y]}},this.computeResultsReduxSearchTypeHelper=(e,t,r,n,i)=>{var a;switch(null==t?void 0:t.type){case T.Y.LOCAL:return this.computeLocalResultsPromise(e,null==(a=n.openFile)?void 0:a.key);case T.Y.FILE:return this.computeFileResultsPromise(e,t.fileKey,r,()=>{var e;return(0,f.iI)({currentUserCreatedAt:(null==(e=n.user)?void 0:e.created_at)??null,currentTeam:(0,R.OA)(n),overrideFlag:n.userFlags[f.YL],dispatch:i,isFreeUser:c.qM.get(A.of).data})});case T.Y.RECENT:case void 0:case T.Y.ALL:return this.computeAllResultsPromise(e,r,n.fileVersion,n.currentUserOrgId,n.openFile,n.fileByKey,()=>{var e;return(0,f.iI)({currentUserCreatedAt:(null==(e=n.user)?void 0:e.created_at)??null,currentTeam:(0,R.OA)(n),overrideFlag:n.userFlags[f.YL],dispatch:i,isFreeUser:c.qM.get(A.of).data})});default:return(0,l.gy)(t,"unknown search type")}},this.computeResultsRedux=async e=>{var t,r,n;let i=e.getState(),l=i.library.assetsPanelSearch.query,s=null==(t=i.openFile)?void 0:t.key,c=null==(r=i.openFile)?void 0:r.teamId,d=null==(n=i.openFile)?void 0:n.parentOrgId;if(!l||!s){e.dispatch(m.qI());return}let p=i.library.assetsPanelSearch.searchOptions;if(p&&!(0,P.aK)(p)){e.dispatch(m.qI());return}let g=(0,h.me)(i.selectedView)===v.aE.DESIGN;o.qE.trackDefinedEvent("assets_panel.component_search",{query:l,inDesignEditor:g,searchSessionId:i.search.sessionId??"",assetsPanelVersion:i.library.assetsPanelSearch.versionForTracking,fileKey:s,fileTeamId:c??void 0,fileOrgId:d??void 0}),i.search.sessionId&&e.dispatch(u.i.incrementQueryCount());let f=Date.now();if(f<=this.lastUpdatedQuery)return;let E=await this.computeResultsReduxSearchTypeHelper(l,p,g,i,e.dispatch);if((null==p?void 0:p.type)===T.Y.LOCAL){e.dispatch(m.YJ(E)),e.dispatch((0,_.sX)({sessionId:i.search.sessionId,query:l,queryId:i.search.queryId})),o.qE.trackDefinedEvent("assets_panel.search_time",{elapsedTime:Date.now()-f,query:l,localSearchResultCount:E.normalizedSearchResults.length,searchType:p.type,searchSessionId:i.search.sessionId??"",assetsPanelVersion:i.library.assetsPanelSearch.versionForTracking,fileKey:s,fileTeamId:c??void 0,fileOrgId:d??void 0}),this.lastUpdatedQuery=f;return}if(l!==e.getState().library.assetsPanelSearch.query)return;e.dispatch(m.YJ(E)),e.dispatch((0,_.sX)({sessionId:i.search.sessionId,query:l,queryId:i.search.queryId}));let[y,b]=a()(E.normalizedSearchResults,e=>e.file_key===s);o.qE.trackDefinedEvent("assets_panel.search_time",{elapsedTime:Date.now()-f,query:l,localSearchResultCount:y.length,subscribedSearchResultCount:b.length,unsubscribedSearchResultsCount:E.unsubscribedSearchResults.length,searchType:(null==p?void 0:p.type)??T.Y.ALL,searchSessionId:i.search.sessionId??"",assetsPanelVersion:i.library.assetsPanelSearch.versionForTracking,fileKey:s,fileTeamId:c??void 0,fileOrgId:d??void 0}),this.lastUpdatedQuery=f}}}let U=new x,B=(0,p.M0)(e=>{G(e.getState())&&U.runComputeResultWithSourceChange(e)});function G(e){return!!(e.openFile&&e.fileVersion&&(0,N.kr)(e.loadingState,(0,C.AL)(e.openFile.key)))}let V=e=>e.type===w.Af.STATE_GROUP,H=e=>e.filter(e=>(0,w.CC)(e)||V(e));function W(){let e=(0,n.w1)(e=>e.library.assetsPanelSearch.query),t=(0,n.w1)(t=>{var r;return e?(null==(r=t.search.lastLoadedQuery)?void 0:r.sessionId)??t.search.sessionId:null});return{query:e,searchSessionId:t}}},882524:(e,t,r)=>{"use strict";r.d(t,{IP:()=>u,Ks:()=>p,aI:()=>s,aK:()=>d,iE:()=>c});var n=r(681949),i=r.n(n),a=r(790184),o=r(888860),l=r(939540);let s=e=>e.library.assetsPanelSearch,c=e=>e.library.assetsPanelSearch.query;function d(e){return e.type===o.Y.ALL||e.type===o.Y.LOCAL||e.type===o.Y.FILE}function u(e,...t){let r={};t.forEach(e=>{e.forEach(e=>{r[(0,l.FN)(e)]=e})});let n=[];return e.forEach(e=>{let t=(0,l.FN)(e);t in r?(e.ai_score&&(r[t].ai_score=e.ai_score),e.lexical_score&&(r[t].lexical_score=e.lexical_score)):n.push(e)}),n}function p(e){return i()(e,e=>e.type===a.Af.MODULE)}},265532:(e,t,r)=>{"use strict";r.d(t,{C:()=>g,k:()=>f});var n=r(307824),i=r(120304),a=r(250008),o=r(733960),l=r(843148),s=r(623131),c=r(372152),d=r(560072),u=r(49096),p=r(67612),m=r(312452),_=r(768516),h=r(392992);let g=(0,s.Zf)(!1);function f(){let e=(0,i.OY)(),t=(0,i.w1)(e=>{var t;return!(null==(t=e.openFile)?void 0:t.canEdit)||!("editorType"in e.selectedView)||"design"!==e.selectedView.editorType||!!(0,l.cp)().integration_host}),{updateCount:r,includesMoveComponentUpdatesOnCurrentPage:s,includesMoveStyleUpdatesOnCurrentPage:f}=(0,c.m4)(_.MD),{updateCount:E,includesMoveComponentUpdates:y,includesMoveStyleUpdates:b}=n.useMemo(()=>({updateCount:r,includesMoveComponentUpdates:s,includesMoveStyleUpdates:f}),[s,f,r]),v=(0,c.m4)(_.GO),[I,w]=(0,c.lZ)(g),T=(0,i.w1)(e=>e.mirror.appModel.multiplayerSessionState===m.XcX.DETACHED),S=(0,h.K0)(),C=(0,o.i)(E)??0,A=(0,o.i)(T)??!1,O=(0,o.i)(t)??t,N=(0,i.w1)(e=>e.mirror.appModel.topLevelMode===m.s9F.HISTORY),L=(0,o.i)(N)??!1,R=(0,i.w1)(e=>e.mirror.appModel.currentPage),P=(0,o.i)(R);return n.useEffect(()=>{t&&O||(!A&&T||!O&&t||C>0&&0===E||!L&&N?(R!==P&&w(!0),e(u.q.dequeue({type:p.K.COMPONENT_UPDATES_AVAILABLE}))):v||I||(!(E>C)||T||N)&&(!(E>0)||!O||t)||((0,a.we)("Component Updates Displayed",{fileKey:S,timestamp:Date.now(),isMoveUpdate:y||b,isShimFFEnabled:!!(0,l.Ub)().livegraph_shim_comp_full_read,isSgShimFFEnabled:!!(0,l.Ub)().livegraph_shim_sg_full_read}),e(u.q.enqueue({notification:{type:p.K.COMPONENT_UPDATES_AVAILABLE,message:y&&b?(0,d.t)("design_systems.updates.some_components_styles_were_moved_updates_are_available"):y?(0,d.t)("design_systems.updates.some_components_were_moved_updates_are_available"):b?(0,d.t)("design_systems.updates.some_styles_were_moved_updates_are_available"):(0,d.t)("design_systems.updates.component_updates_available"),dismissCallback:()=>{(0,a.we)("Component Updates Dismissed"),w(!0)}}}))))},[e,I,y,b,T,t,v,N,S,C,w,E,A,O,L,R,P]),null}},746704:(e,t,r)=>{"use strict";r.d(t,{Wi:()=>s,Y$:()=>c,m5:()=>u});var n=r(916924),i=r(252448),a=r(560072),o=r(609684),l=r(410984);function s(e){if(e===o.Ad.MEMBERS)return(0,a.t)("license_group_admin_tab.members");(0,n.gy)(e)}let c="originTab",d=[l.uY.BILLING];function u(e){let t=(0,i.u)(l.uY,e);if(t)return d.includes(t)?t:void 0}},216500:(e,t,r)=>{"use strict";r.d(t,{A9:()=>p,Pz:()=>m,ay:()=>_,e6:()=>h,ek:()=>g,gT:()=>E,qk:()=>b,uM:()=>y,yW:()=>f});var n=r(307824),i=r(120304),a=r(139776),o=r(441748),l=r(967540),s=r(560072),c=r(873036),d=r(572748);r(402980);var u=r(260244);r(658784),r(553432);let p=e=>`LICENSE_GROUP_GET_${e}`;function m(e){var t;let r=(0,i.w1)(({licenseGroups:e})=>e),o=null==(t=(0,d.Ce)())?void 0:t.id;return(0,n.useMemo)(()=>{let t=Object.values(r).filter(t=>t&&t.org_id===(e??o));return(0,a.E1)(t,"name"),t},[r,o,e])}function _(e,t=!0){let[r,a]=n.useState(!1),[o,d]=n.useState(!1),[u,p]=n.useState(!1),[m,_]=n.useState({}),h=(0,i.OY)();return n.useEffect(()=>{(async()=>{if(!r&&!o&&!u&&t){a(!0);try{let t=await c.UT.getLicenseGroupsMembersCounts({orgId:e});_(t.data.meta),d(!0),a(!1)}catch(e){h(l.M.error((0,s.t)("license_group.an_error_occurred_fetching_license_group_counts"))),a(!1),d(!1),p(!0)}}})()},[e,o,r,u,h,t]),{isFetched:o,memberCounts:m,isLoading:r}}function h(e){return(0,i.w1)(t=>!!e&&f(t.orgById[e]))}function g(){return(0,i.w1)(e=>!!e.currentUserOrgId&&f(e.orgById[e.currentUserOrgId]))}function f(e){return!!((null==e?void 0:e.bigma_enabled)&&(null==e?void 0:e.license_groups_count))}function E(e,t,r){let n=[],i=[];return e.forEach(e=>{e.admin_users_metadata.length>0?e.admin_users_metadata.some(e=>e.id===t)?n.push(e):r||i.push(e):r||n.push(e)}),(0,a.E1)(n,"name"),(0,a.E1)(i,"name"),{groupsUserIsAdminOf:n,otherLicenseGroups:i}}function y(e,t){if(!t)return!1;let r=(0,u.y8)(t,"upcoming");return(0,u.Su)(t)&&(!e.last_reviewed_at||(0,o.c)(e.last_reviewed_at).add(14,"days")<(0,o.c)(r.due_at))}function b(e,t){let r=[],n=[];return e.forEach(e=>{y(e,t)?r.push(e):n.push(e)}),{groupsToReview:r,groupsAlreadyReviewed:n}}},514916:(e,t,r)=>{"use strict";let n,i,a,o,l,s,c,d,u,p,m,_,h,g,f,E,y,b,v,I,w,T,S,C,A,O,N,L,R,P,M,k,D,F,x,U,B,G,V,H,W,K,Y,q,j,$;r.d(t,{At:()=>ej,C0:()=>eR,EJ:()=>eP,Ep:()=>Q,G:()=>e3,I3:()=>eg,IN:()=>eo,Ij:()=>em,Ix:()=>el,KQ:()=>eD,KU:()=>eI,M$:()=>eL,M5:()=>eq,MB:()=>ex,MV:()=>e$,O6:()=>z,Oc:()=>e2,Q9:()=>J,QV:()=>er,Qh:()=>X,Sg:()=>e0,Ss:()=>eB,U3:()=>eY,UB:()=>eW,VC:()=>eM,Y7:()=>e_,_M:()=>eQ,_Q:()=>eH,_e:()=>ep,_i:()=>eU,aA:()=>en,aE:()=>eC,aY:()=>eX,eI:()=>ei,es:()=>eJ,i0:()=>eu,io:()=>e1,kR:()=>ez,m:()=>es,m8:()=>eh,mE:()=>ee,mM:()=>eA,q2:()=>ey,sF:()=>eS,st:()=>eK,u:()=>eT,u0:()=>eO,uU:()=>ew,w$:()=>ea,wb:()=>ed,y4:()=>eE,y6:()=>ec,yK:()=>eb,yg:()=>eV});var Z=r(558352),z=((n=z||{}).ORG_VIEW="org_view",n.ORG_EDIT="org_edit",n.WORKSPACE_EDIT="workspace_edit",n.WORKSPACE_VIEW="workspace_view",n.VIEW="view",n.EDIT="edit",n.INHERIT="inherit",n.INVITE_ONLY="invite_only",n);let Q=(0,Z.ID)(z);var X=((i=X||{}).TEAM_ACCESS_VIEW="team_view",i.TEAM_ACCESS_EDIT="team_edit",i.TEAM_ACCESS_DISABLED="team_access_disabled",i),J=((a=J||{}).VIEW="view",a.EDIT="edit",a);let ee=(0,Z.ID)(J);var et=((o=et||{}).STUDENT_TEAM_NULL="not_student_team",o.STUDENT_TEAM_CURRENT="current_student_team",o.STUDENT_TEAM_EXPIRED="expired_student_team",o),er=((l=er||{}).UNVERIFIED="unverified",l.VERIFIED="verified",l.PENDING="pending",l.UNAVAILABLE="unavailable",l);let en=(0,Z.ID)(er);var ei=((s=ei||{}).ORG_VIEW="org_view",s.VIEW="view",s.INHERIT="inherit",s);let ea=(0,Z.ID)(ei);var eo=((c=eo||{}).MEMBERS="members",c.ALL_USERS="all_users",c),el=((d=el||{}).PUBLIC="public",d.PRIVATE="private",d.SECRET="secret",d);let es=(0,Z.ID)(el);var ec=((u=ec||{}).ADMIN="admin",u.MEMBER="member",u.GUEST="guest",u);let ed=(0,Z.ID)(ec);var eu=((p=eu||{}).ADMIN="admin",p.MEMBER="member",p);let ep=(0,Z.ID)(eu);var em=((m=em||{}).SELF_SELECTED="self",m.MOVED_BY_ADMIN="moved",m.AUTO_ASSIGNED="auto",m);let e_=(0,Z.ID)(em);var eh=((_=eh||{}).STARTER="starter",_.FULL="full",_.RESTRICTED="restricted",_);let eg=(0,Z.ID)(eh);var ef=((h=ef||{}).STARTER="starter",h.FULL="full",h.RESTRICTED="restricted",h),eE=((g=eE||{}).FILE="file",g.FILE_REPO="file_repo",g.FOLDER="folder",g.TEAM="team",g),ey=((f=ey||{}).FILE="file",f.FILE_REPO="file_repo",f.FOLDER="folder",f.TEAM="team",f.ORG="org",f);let eb=(0,Z.ID)(ey);var ev=((E=ev||{}).FILE="file",E.FILE_REPO="file_repo",E.FOLDER="folder",E.TEAM="team",E.PROTOTYPE="prototype",E),eI=((y=eI||{}).OK="ok",y.GRACE_PERIOD="grace_period",y.PAST_DUE="past_due",y.NO_MONTHLY_SUB_EDITOR_COUNT_EXCEEDED="no_monthly_sub_editor_count_exceeded",y.INCOMPLETE="incomplete",y);let ew=(0,Z.ID)(eI);var eT=((b=eT||{}).LOCKED="locked",b.EDITORS_LIMITED="editors_limited",b.PROJECTS_LIMITED="projects_limited",b.FILES_LIMITED="files_limited",b.PROJECTS_LIMITED_LEGACY="projects_limited_legacy",b.FILES_LIMITED_LEGACY="files_limited_legacy",b.WHITEBOARD_FILES_LIMITED="whiteboard_files_limited",b.WHITEBOARD_FILES_LIMITED_BETA="whiteboard_files_limited_beta",b);let eS=(0,Z.ID)(eT);var eC=((v=eC||{}).DESIGN="design",v.WHITEBOARD="whiteboard",v.SLIDES="slides",v);let eA=(0,Z.ID)(eC);var eO=((I=eO||{}).DESIGN="design",I.WHITEBOARD="whiteboard",I.DEV_MODE="dev_mode",I),eN=((w=eN||{}).DESIGN="design",w.WHITEBOARD="whiteboard",w.EXTERNAL="external",w),eL=((T=eL||{}).FILE="file",T.PROTOTYPE="prototype",T.FOLDER="folder",T.TEAM="team",T.WORKSPACE="workspace",T),eR=((S=eR||{}).CANVAS="canvas",S.PROTOTYPE="prototype",S.WHITEBOARD="whiteboard",S.LIBRARY="library",S),eP=((C=eP||{}).VERIFIED="verified",C.UNVERIFIED="unverified",C.BLOCKED="blocked",C),eM=((A=eM||{}).BLOCKED="blocked",A.ORG_PRIVATE="org_private",A.PENDING_USER_VISUAL_COMPLIANCE="pending_user_visual_compliance",A.PENDING_PUBLIC="pending_public",A.ORG_PRIVATE_PENDING_PUBLIC="org_private_pending_public",A.DELISTED="delisted",A.DELISTED_CREATOR_STRIPE_DISABLED="delisted_creator_stripe_disabled",A.APPROVED_PUBLIC="approved_public",A),ek=((O=ek||{}).MIGRATION_NOT_NEEDED="migration_not_needed",O.MIGRATION_NEEDED="migration_needed",O.MIGRATED="migrated",O),eD=((N=eD||{}).DESKTOP="desktop",N.IPAD="ipad",N),eF=((L=eF||{}).ALLOW="ALLOW",L.DISABLE="DISABLE",L),ex=((R=ex||{}).PRO_TRIAL="pro_trial",R.DOWNGRADED_ORG_TEAM="downgraded_org_team",R.PROMO_CODE="promo_code",R.ADMIN_OVERRIDE="admin_override",R);let eU=(0,Z.ID)(ex);var eB=((P=eB||{}).UNPINNED="unpinned",P.PINNED="pinned",P),eG=((M=eG||{}).FILE_SEEN="file_seen",M.DESIGN_FILE_SEEN="design_file_seen",M.WHITEBOARD_FILE_SEEN="whiteboard_file_seen",M.FILE_EDIT="file_edit",M.DESIGN_FILE_EDIT="design_file_edit",M.WHITEBOARD_FILE_EDIT="whiteboard_file_edit",M);let eV=(0,Z.ID)(eG);var eH=((k=eH||{}).CREATOR="creator",k.PUBLISHER="publisher",k),eW=((D=eW||{}).PENDING="pending",D.APPROVED="approved",D.REJECTED="rejected",D),eK=((F=eK||{}).DEFAULT="default",F.SRGB="srgb",F.DISPLAY_P3="display_p3",F),eY=((x=eY||{}).COST_CENTER="costCenter",x.ORGANIZATION="organization",x.DIVISION="division",x.DEPARTMENT="department",x);let eq=(0,Z.ID)(eY);var ej=((U=ej||{}).ROLE_UPGRADE="role_upgrade",U.INVITE_REDEEM="invite_redeem",U.ORG_INVITE_REDEEM="org_invite_redeem",U.INVITE_AUTOUPGRADE="invite_autoupgrade",U.RESOURCE_MOVED_TO_ORG="resource_moved_to_org",U.DRAFTS_SHARE="drafts_share",U.ACCESS_EDIT_LINK="access_edit_link",U.CREATE_TEAM="create_team",U.JOIN_TEAM="join_team",U.JOIN_TEAM_REQUEST="join_team_request",U.ADMIN_UPGRADE="admin_upgrade",U.SCIM="scim",U.FIGMA_ADMIN="figma_admin",U.DEPART_TEAM="depart_team",U.CREATE_FILE="create_file",U.EDIT_REQUEST_APPROVAL="edit_request_approval",U.EDIT_REQUEST_AUTO_APPROVAL="edit_request_auto_approval",U.RUN_PLUGIN="run_plugin",U.RESOURCE_MOVED_FROM_ORG_DRAFTS="resource_moved_from_org_drafts",U.DEFAULT_PAID_STATUS="default_paid_status",U.FJ_GA_REUPGRADE="fj_ga_reupgrade",U.EDIT_BUTTON="edit_button",U.EDIT_ACTION="edit_action",U.ACTIVE_EDIT_ACTION="active_edit_action",U.ORG_MERGE="org_merge",U.DEV_MODE_PRE_COMMIT_BETA_USE="dev_mode_pre_commit_beta_use",U.UNKNOWN="unknown",U.UNKNOWN_POPULATED_THROUGH_BACKFILL="unknown_populated_through_backfill",U.SCIM_RECOVERY="scim_recovery",U.ROLE_FALLBACK="role_fallback",U.PAID_STATUS_ON_ORG_CREATION="paid_status_on_org_creation",U);let e$=(0,Z.ID)(ej);var eZ=((B=eZ||{}).SELF_SELECTED="self",B.SELF_SELECTED_NOT_LISTED="not listed",B.SELF_SELECTED_DONT_KNOW="don't know",B.MOVED_BY_ADMIN="moved",B.AUTO_ASSIGNED="auto",B),ez=((G=ez||{}).ORG="org",G.WORKSPACE="workspace",G.TEAM="team",G.PROJECT="project",G),eQ=((V=eQ||{}).ORG="Org",V),eX=((H=eX||{}).ORGANIZATION="Organization",H.ENTERPRISE="Enterprise",H),eJ=((W=eJ||{}).INHERIT="INHERIT",W.NONE="NONE",W.OVERRIDE="OVERRIDE",W),e0=((K=e0||{}).INHERIT="INHERIT",K.OVERRIDE="OVERRIDE",K),e1=((Y=e1||{}).PUBLISHED_PLUGIN="published-plugin",Y.FIRST_PARTY="first-party",Y),e2=((q=e2||{}).PIXEL="PIXEL",q.SCALED="SCALED",q),e4=((j=e4||{}).HUB_FILE="hub_file",j.PLUGIN="plugin",j.PROFILE="profile",j.WIDGET="widget",j),e3=(($=e3||{}).NONE="NONE",$.ACCEPTED="ACCEPTED",$.STARTED_ONBOARDING="STARTED_ONBOARDING",$.ENABLED="ENABLED",$.DISABLED="DISABLED",$)},472956:(e,t,r)=>{"use strict";r.d(t,{$x$:()=>tB,A$M:()=>eT,A7C:()=>ry,A7D:()=>u,ALc:()=>t_,AND:()=>v,AVF:()=>e7,CS1:()=>ee,CU1:()=>er,CUq:()=>t8,CqH:()=>en,CsL:()=>N,Cuu:()=>tE,E3j:()=>d,E9j:()=>eQ,EJc:()=>D,ELn:()=>rf,EPJ:()=>tL,EhJ:()=>B,El:()=>e$,GYm:()=>_,Ga_:()=>r_,Ggv:()=>rS,Glc:()=>eR,Gmv:()=>th,I7G:()=>E,INx:()=>tK,IfJ:()=>e6,In$:()=>P,K0J:()=>eM,K6t:()=>rP,K8b:()=>rR,KYq:()=>f,K_8:()=>t$,Kee:()=>rN,M1u:()=>tO,M97:()=>eh,MB_:()=>rp,MBc:()=>y,MHk:()=>rT,MJL:()=>rM,MXg:()=>s,Mzz:()=>e4,Nqd:()=>J,Nx9:()=>ri,O0T:()=>rI,OEH:()=>I,OIH:()=>t4,OeO:()=>K,Ok5:()=>tP,Oo2:()=>rt,Oq:()=>t9,OuP:()=>tA,PQK:()=>te,QBW:()=>h,QHM:()=>p,QHY:()=>tv,QP1:()=>tM,QV9:()=>eD,QVT:()=>tp,Qf3:()=>tU,Qh$:()=>tR,QrD:()=>o,Qri:()=>z,Qto:()=>w,S6r:()=>eV,SIO:()=>rn,SKD:()=>eC,SKs:()=>eg,SU5:()=>Y,SUD:()=>tH,SUN:()=>F,SWd:()=>rw,SXp:()=>e0,S_3:()=>ro,S_b:()=>b,Sc2:()=>t2,ScM:()=>eF,Sof:()=>O,Sol:()=>eO,SsW:()=>eb,U1m:()=>ez,U7t:()=>t7,URB:()=>tn,UbN:()=>rb,UhA:()=>eW,UrV:()=>W,Uv2:()=>t5,UxA:()=>tQ,WSQ:()=>ek,WgE:()=>rL,XUA:()=>eJ,Xcs:()=>rg,Y3g:()=>e3,Y7S:()=>tF,YBT:()=>rr,YRM:()=>tq,YSG:()=>tD,YZK:()=>eL,YrS:()=>eY,YzI:()=>ea,_0D:()=>eo,_0U:()=>tY,_4S:()=>ey,_UT:()=>eH,_Wo:()=>t6,__c:()=>tI,_aX:()=>ew,aO2:()=>e1,aeg:()=>ra,aue:()=>X,awZ:()=>S,c1d:()=>rs,c5A:()=>G,cHm:()=>eU,cRH:()=>ep,cjx:()=>rA,cxT:()=>tX,e4c:()=>tf,e6W:()=>tw,e_W:()=>j,emN:()=>rv,es8:()=>e9,g$w:()=>eE,gDZ:()=>eP,gFG:()=>eG,gL1:()=>t0,gNh:()=>em,gPI:()=>tC,gRQ:()=>tu,gZ5:()=>x,grT:()=>tk,i2W:()=>L,iAj:()=>tz,iMo:()=>eS,iQe:()=>tt,iYh:()=>rC,ieM:()=>eu,imP:()=>ej,ioS:()=>U,k1G:()=>tT,kD6:()=>t1,kDP:()=>tb,kVC:()=>es,kXP:()=>tW,kZy:()=>tx,kbv:()=>rd,kj6:()=>T,kvg:()=>tZ,lCQ:()=>tN,m29:()=>eB,mAq:()=>H,mCU:()=>V,mEk:()=>rE,mI9:()=>rl,mIC:()=>tJ,mc7:()=>k,mch:()=>tg,mm8:()=>tS,moB:()=>re,mog:()=>ta,mor:()=>rO,o3I:()=>rh,o5r:()=>eN,oJN:()=>e5,oV9:()=>ti,ol9:()=>tj,onA:()=>R,p9d:()=>et,q0q:()=>C,q29:()=>ex,qEf:()=>el,qGJ:()=>rc,qY3:()=>m,qiY:()=>tc,qkA:()=>rk,qmI:()=>eX,qot:()=>tG,quK:()=>eq,qwB:()=>eI,rpO:()=>ei,s34:()=>ru,s7W:()=>rm,sX0:()=>e_,szR:()=>g,uMc:()=>t3,uUZ:()=>c,u_s:()=>e2,ukB:()=>tV,umJ:()=>ec,usN:()=>Z,uyy:()=>q,vQm:()=>M,wDW:()=>ev,wdE:()=>tr,wjj:()=>to,xUC:()=>eZ,y2y:()=>$,y4l:()=>A,y69:()=>tl,yAK:()=>td,yCo:()=>tm,ySe:()=>ty,yWn:()=>ed,yYl:()=>ts,y_L:()=>e8,yfh:()=>ef,ykw:()=>eK,yyE:()=>eA,zQH:()=>Q});var n=r(886420),i=r(993284);let a=new Set;function o(){return[...a]}function l(e,t,r){let o={_name:e,_argKeys:t,_hash:r,_reset:e=>{l._atomFamily.setShouldRemove(t=>!e||(0,n.QZ)(t,e)),l._atomFamily.setShouldRemove(null)},_data:null,_args:null},l=(0,i.AX)(o);return a.add(o),Object.assign(l,o)}let s=l("FileCanView",["key"],"48ac38814b2237c2065d4ff4882b2cb209c6d3f198aba1f4bd50abb022009ae8"),c=l("FileCanEdit",["key"],"643c2a05daae274b5d3321fbdcf7b17b79f2e79a1034d438797472bd97393a01"),d=l("FileCanAccessFullDevMode",["key"],"302fbd5879cecb4610fe6df0a296cc2451f6080d9856a69158f09c4e496b5f34"),u=l("FileIsEligibleForDevModeTrial",["key"],"bf6a330655a5ab104f115c1e79c00375b371e83c66dcc6dcc151aea798a5806c"),p=l("FileIsInDevModeTrial",["key"],"0f0a626606251ee8ce9c6aa2571831102a857ff8dc8f6c1becdaee70c3cce36e"),m=l("FolderCanView",["id"],"70ecb44b81d469b5104c6b0eaedb2720da5bd071d4736c4dd120b7c335c75609"),_=l("TeamCanView",["id"],"f91074f4851884b6957717ce7253f5da45b4e76b3d61e9a209c39cfd4e3b60fd"),h=l("TeamCanEdit",["id"],"aed3e798b36291c9381d2dbef51e0e662efaf8848c388e3d20542172e19bf178"),g=l("TeamCanAdmin",["id"],"ee6e0cc473b7fb71ab34c563834a9dd0b82c39552594b1e690a96509361d603c"),f=l("AccessibleFoldersV2",["orgId"],"fd388b3bc8040b0131a15cd94aeac41c157c7f79a1da29b8778a320a9198c717"),E=l("ActiveFileUsersForFileView",["fileKey"],"5f1d95341891783b9628176ec323d3e47e0cecc92f5f55840722cecc727b5af6"),y=l("AddUnassignedTeamsModalView",["workspaceId"],"bd8427fe6392a84d4bf32d02363bb03f27531cc12a9644f97d0c31abf15702c1"),b=l("ExtensionActivityLogHistoryView",["orgId","actedOnIdOrKey","userId"],"aca0968c8a26d8435b000c3d50bb73f508727dc01fdf175cc58692dd78344e5c"),v=l("AdminNotificationsCountView",["planType","planId","filterParams"],"58374b7b131553d8f642c371ba68b02a989126afb2bea8baf7c75f3ebb6756e1"),I=l("AdminRequestDashboardView",["planType","planId","sortOrder","filterParams","firstPageSize"],"b8018dcd64c5faf7a8c089018d4832416e9dbe08aa34c9d989df4f085b41977d"),w=l("AdminRequestDashOrgInfo",["orgId"],"0b16a79a16b35fdba1364c79fbd65ffd81580fffa4568c0201527e75d085cae6"),T=l("AdminSettingsSelectorView",["orgId"],"4147f294bfa4efbd6a993605ee12d8918bf2aba79ae900c6cd30e3041551e95f"),S=l("AllowlistPluginsSectionView",["orgId"],"927ee51d0b9a473ed814e4faf5ac8f6f96117c7cc67fc3e8361f86a46010abb0"),C=l("AllowlistedPlugin",["pluginId","orgIds"],"bdcc35e840d30866feed49f22aa72861c98836e5f59872eb85ebcb891a3f90c2"),A=l("FileOrgExtensionSettingsView",["fileKey"],"8f268a3c9b6d35cca60e3275a2585672dabfccb3f7e1e09b3e0503a40a0f4ea2"),O=l("AllowlistSettingsModalView",["orgId"],"0c693a1d2129815e969eaf337d6e3f543053dc7b7e5d4e715d172f6e76fe91ba"),N=l("AppliedColorPaletteForFile",["fileKey"],"d7bb73a2b34fc6a8b262a0d3c6a14139aabe2f321f2198e9a8f64aaad1aaa3c3"),L=l("AutoRunPluginsView",["targetOrgId","targetUserId"],"bd664c41a874536a44ee6b39fed040bd2c1435e7e6ee8b47970c0689a92ed660"),R=l("BillingTrialForResource",["resourceId","resourceType"],"eae7e0970266b809811d071443b722e7cd0bcea765f60ea9ac150d6c8983076a"),P=l("BlockingPrototypeData",["fileKey"],"b83030f85414f748104fcf5fc4ac7e59335c82388a0a2cd9e1443f1a9d4fed74"),M=l("BlockingUserState",[],"f156dee134b054963ffc5c9cb4b70eecc8779fbb2f3248d04dbae4c7a95ae28e"),k=l("BranchOpenMergeRequest",["branchFileKey"],"f8edbf534eda2e25b28944111acba2c4a4389bdabbe3317aad41c398fada7496"),D=l("BrowseTemplatesView",["currentOrgId"],"ace64503f7e7ab64486ebbba35dbde191c4a7771ffedaa84bf681954f3708f25"),F=l("ChurnFrictionPersonalizedModalView",["teamId"],"a7851e2e2978128a48b7cde5603fe7034be5a4f549fb433cd971790c5e6acf0c"),x=l("ColorPalettesForTeam",["teamId"],"4ee8f8daf1158220a88697aa5b15cd63e62423c791e11329a99da157f201368f"),U=l("CommunityHubLikeForProfile",["profileId","hubFileId","pluginId"],"0b2c5247975aa8bfb0f1b20240405ca5c36298ce51f868b46e4272567df5ba7c"),B=l("CommunityLibraryModalAssetsData",["hubFileId"],"eb26e41dbdd234464e15c48acac2b5b167463eae90a67213d4ea76cdfa216e8b"),G=l("CommunityLibraryVariableCollectionDataWithVariables",["hubFileId"],"fe35759017c06392550cb99fdd6bd554f970270c7c32e8363e6d47455b137828"),V=l("CommunityPayment",["monetizedResourceMetadataId"],"0fc7e090505e4843be46ef517e18e051b23d36baebf2d6a9f90897b1e630fbcb"),H=l("CommunityProfileView",["profileId"],"6671d8587961b8af52b5b57c1ea9342a3b4808efd7a51d720a873fc4f3996066"),W=l("CommunityResourceStat",["monetizedResourceMetadataId"],"a5bf64bfc576c2d4da406f8ef240d196c2892b5013607631d1a9bf8edb429452"),K=l("ComponentUpdatesForTeam",["teamId"],"277f318dd7e4ad76c74e062216826be16bcae49e1c13b10b4253d7f9eb3c34bc"),Y=l("ComponentUpdatesForProject",["projectId"],"cf9bb5b6b5a12a94b0cafa55923c11758f6d075f6cf46d0c15862ff523eff6d5"),q=l("ComponentUpdatesForFile",["fileKey"],"bd493cba4241dfe81f5dec0d63e89bd596c71afbe487e86e2dc5cc8095baa910"),j=l("StateGroupUpdatesForTeam",["teamId"],"1b2695fedada6213850d8aefcb5f3f89b41acd3f92dddcde9920fb670375cf44"),$=l("StateGroupUpdatesForProject",["projectId"],"524734762820f4be4f352b0176b28582640c8b4369db042ff908aa69002df866"),Z=l("StateGroupUpdatesForFile",["fileKey"],"8fb22d4ae83bd11aa950846237063e6f8f4be96493a5f2731fce7f81a853a6b4"),z=l("ConfiguredUpgradeRequestModalView",["orgId","permission"],"b918baff844f4f080bd845a5d8e55c441619beb41be649e26a321ef3fbb5e335"),Q=l("CopyLinkFileData",["fileKey"],"bee17c0e9834586fcf204d79f360e73440eb63dbf301d258f67356badd05fc42"),X=l("CurrentUserAssignedWorkspaceView",["orgId"],"0c7124b14ed5ccdccfb7155562ef02dcd72fedd6730711bc62fa19726d19780c"),J=l("CurrentWorkspaceView",["fileKey"],"b37ca03df4ca9a6b339690368ea9b85fb1b4fa8d6a7624a425b8d47d45da4f74"),ee=l("DeveloperRelatedLinks",["fileKey"],"d31ac965ef03c0e34554d512dfdf62bd711d232e5e9f45682c6502ee4719917c"),et=l("DeveloperRelatedLinksForNode",["fileKey","nodeId"],"76977ed58868a6fc5f10775c6ab56a7ae1c0edc9a9f855c28aa52f358f7dc558"),er=l("DevModeOptIn",["orgId"],"61d5df4716cb044bf5ff0c875b69f90e807db6d988bf8202e1cdc9d9113a19bb"),en=l("DevModeOptInInfo",["orgId"],"af5cb7df243be81ed41ae4ef78269a2b8e0ec4c7abf1522f56b6fa7db1c25791"),ei=l("DevModeOrgSuggestedUpgrades",["planId"],"5e01659de6b3bd710f978f6d3c28a5487078d84df22095f93517a653b3bfe036"),ea=l("DevModeOrgSuggestedUpgradesDismissalFlag",["orgId"],"ec2d5dce762461192af70dd142e32a5f808f416499795ba005c7204585b400e8"),eo=l("DevModeSuggestedUpgradesFlag",["planId","planType"],"e44047a0d8c2ddd8dccf3c7b1bf0abff28efcbccbf943655e9a29a859dcb2b1b"),el=l("DevModeTeamSuggestedUpgrades",["planId"],"2bc38915d6114b0678ce2da41c01dbdd5d6eee85bd70cc1cbffaabf6f2a87f55"),es=l("DevModeTeamSuggestedUpgradesDismissalFlag",["teamId"],"25c370c3edcd6eb208376393049bf3183c626d68ae5f11cb30842a844bbe0a53"),ec=l("DraftsToMoveFoldersByUserId",[],"8d7a8cd8c7f9d3a61a4e7071fc76629f4bfd0186e89a3977274c172888dc944d"),ed=l("EduOffboardingData",[],"0158a27ab01fe1c83646bf0b7a2e6fdd43d68a852172299c3bf040300d2bca41"),eu=l("EnterpriseOrgAdminOnboardingSequenceView",["orgId"],"30e0e7e0aee44a2270a54ba3ac8a433f2018dbcd14ff9d76b0ac520d0719cd62"),ep=l("DraftFilesView",["draftsFolderId","cursorColumn","sortOrder","firstPageSize","editorType"],"b1105ce08a971a180fce51500284bab7b234ab52477374c78a2b4711355831df"),em=l("ExtensionRequestTableView",["orgId"],"d9a333afb35fa0e3391aaf2106bcecc77598952779e2615eafda4ea834c8ec7c"),e_=l("FavoritesByResourceId",["resourceId","resourceType","orgId","teamId"],"7d451544d3b8917cab816cfbf44cb9d85ab0e16ff82be2c193557a28cd250a42"),eh=l("FeedPostWithDetails",["publicUuid"],"24b29c30b4006f2bed17488c340866ce7f577c71191065971e50044e5d9158dc"),eg=l("FeedPostsByFileKey",["fileKey"],"4f99ff364198b2984daa23a81f15a669866d20e88aa2d7e8ef2211645c41b40f"),ef=l("FeedPostsByUser",["currentOrgId"],"8793493a8be41b4438c4380c01a50f17f818f4df57f8dcd4f4ec10b0c45bdf7d"),eE=l("FeedTagFollowsByUser",[],"38d570f9ec2e0437c0574aa998634962b9940dba9d47b09e4a882042279d686a"),ey=l("FigmadocsForNode",["fileKey","nodeId","instances"],"bda527cb48095b2b5e78491bf380fd29c12527cafb676f138955111735add3fe"),eb=l("FileBrowserSearchBarData",["currentOrgId"],"38ed175c128f4f8f5bf24a9edee93e58cd7403b18b3def89b85d87194ab2a6f0"),ev=l("FileBrowserSidebarData",["currentOrgId","currentTeamId"],"c91130805635b7fad329dc12bbef641f2a765707ad2de22324020ce996d3d1cb"),eI=l("FileByKey",["fileKey"],"022da1992de32cdd1768040dae6b4f71679213e7a4d0785efa1f1f72a7df204a"),ew=l("FileByKeyForRealtimeShim",["fileKey"],"67a1fcc46782acc38bf2534fdb67065f088b47164bacf59ce39d7ee3d75eee79"),eT=l("FileCanvasMentionsByFileKey",["fileKey"],"dc35c2dcd175108676c65c93f504e05adbd8888169b22866551f85905a6e8e4e"),eS=l("FileContext",["fileKey"],"8cc187b44b38fec43bdb46aa20835e670a620079611851c36642b9410213edc5"),eC=l("FileEditRequestExistence",["fileKey"],"55b97a4e6d343306b9e53426dd411854cb998677ff56f3733553024d41bc28cd"),eA=l("FileExpirationView",["figFileKey"],"63f1f8b76ce0bf7092a474a9eb29db91e07f6414d0307424f2134a55e9b5767a"),eO=l("FileFeaturesEnabled",["fileKey"],"3e849cdd44aa88387c5f239dff61de34b50b1a524cbfd9b4c80ab5cd6dfb95fe"),eN=l("FileKeysInProject",["projectId"],"e9c541f314aaa3fe65310b611f2ece885d2779dcb987058831eccdf7b6b97c3b"),eL=l("FilesInProjectHighLimit",["projectId"],"2d948d1dedcc3a6beb3dd70366d458c05295528c111b3a02859f0d3504b27278"),eR=l("FileManagePermission",["fileKey"],"f2037b0da799497926535c4f9da6c1ee298943013d6185fcb953b66330d0fd63"),eP=l("FilePermissionsV2",["fileKey","projectId","teamId","repoId","currentOrgId"],"97c24780ab3b262e06887d8ffdace2b7d5f1e442945beb1c7b9dc6fef146bc86"),eM=l("FileShareModalPermissionsV3",["fileKey","projectId","teamId","repoId","currentOrgId"],"d5076e2283ce940a2a9a9ff013911d8374fe8ddc8ea16c55abfab5b8e5706ced"),ek=l("FileShareModalCurrentUserPermissions",["fileKey"],"2512ac69f76b1d0cef25c3d71e7584305b46afe84ff6de2dfdab9ce5dbe6c7fd"),eD=l("FilePresenterData",["fileKey"],"0508e03c1064490b32dd1ef8d46d6c4fb0666684e8ede6c521a9b93e105b789a"),eF=l("FileSearchResult",["projectId"],"7aec367ec7d989f848385aa24d88615661b904010261788704b616a78ebad9d6"),ex=l("FileTemplateView",["fileKey"],"07af256a60fd0adcd20542e38051ae1f3f25a2182e1aef4328379f740dda7af7"),eU=l("FileTilePermissions",["fileKey"],"e01852436e88d17ed052fcd17a12b9cc6e6df45bcf0e1e86660e6ca4aae839f6"),eB=l("FileVersions",["fileKey"],"2bbf04757525ff3398275f549744fb8e051a34e74d6649ef877a562d8d9e3904"),eG=l("FileWithCommentsAndReactions",["fileKey"],"c21719880d2c1e0d749e8c42caa85b7e7dfbd5754050c5a28e7ef8202e6af09c"),eV=l("QuickReply_CommentThreadByRootComment",["fileKey","rootId"],"f9f84224f4976023038cbe85f45296e5f02afa666e1f0233135a07b243008b1f"),eH=l("FilesForTeam",["teamId","updatedAtTimestamp"],"88c0e38ff647e36d61f2f5bc2d564e028c4753fa77810434aaaa86743289a74a"),eW=l("FilesForProject",["projectId","updatedAtTimestamp"],"fa8861f72131cae8a7d58e465aa5a087add9daa9c34de1f7b6ee955fe5a6bfdb"),eK=l("FilesForRepo",["repoId"],"6ac3767efd5a0736981ad68cd43c24d5a4ec30d1b0d30e9f21e9f3da973ca174"),eY=l("FolderSearchResult",["teamId"],"1c275c6f099475f4d0b36826c52c718fe51bd3d6c4f0744d4e03ed5c2cd6d9ce"),eq=l("ProjectsForTeam",["teamId"],"de767181d97beed84323939e47ae56b528561dce93a2e23febd43e997a7a8728"),ej=l("FileWithRoleRequests",["fileKey"],"90cffea1776cfa15881b4478aa311df28f8cf5692108cff7e7ebfe86b609445d"),e$=l("FileWorkshopMode",["fileKey"],"8e1a7b5f2c1eee980cebed68b2d38c1bf666c1f4185a414780d92a7d2a8deb50"),eZ=l("GlobalRecentFilesView",[],"19dbbf53a040fa6377e3ccae6a492bac9fbc8831799bdb763ffce62f5877b684"),ez=l("FileBrowserRecentFilesView",[],"82911e85b9ad05bcf499e088ece42a0f86e451d0f8ff094175004ba306f9944b"),eQ=l("FolderPermissions",["projectId","currentOrgId","teamId"],"9d08e3f9ff9d908dbfd7fe956d1d6ad796d5b101a6b76ba8df8fb8e89708c6c9"),eX=l("FolderPageView",["projectId"],"2523093849f424baa1b71058f665a676f100a8268a3a906e1e7ba2bbcdbbffb8"),eJ=l("ProjectOwnerRole",["projectId"],"4f41ba7af3298c8bfffc0737e1fb6031f591f3215bc77851e9997e6a3609b0ee"),e0=l("FolderCreation",["teamId"],"0f4ba11fae85787ee96394297534a9b49061b431472b7328164b19fa7687b37e"),e1=l("HubFile",["hubFileId"],"0ba241a00f8f41866b8d1ae20bf6dab97ffddcffa707d6a73f0c2c8720a46d82"),e2=l("InstalledPlugins",["orgId"],"9593041733352121e252a44de76821ed6e7fe88bfae3053810103068c08f70c1"),e4=l("LatestClipboardData",["deviceType"],"3c1dd779caffff794462c41b79f3cacfb0033e75573957e37745d40493147bab"),e3=l("LegacySourceStyleData",["fileKey"],"c356c1498340da843e2b6ea447d0d4e1102ac906470fd8be22670134799b9a7c"),e6=l("LibraryData",["fileKey"],"c840501345ecc39cfff0e38f32ed76d4182b823355c1dc523e38b2d20ca6b289"),e8=l("LibraryFileSelect",["projectId"],"2efc1533087a59d375256eb54a80d19b4810c3c1e690bd43de7eb1a50885344e"),e5=l("LibraryManagementData",["fileKey","orgId"],"c73f313f59955dbe582be03bd2ad3d7825328e65b9510551ba48d04497da20ef"),e7=l("LibraryModalAssetsData",["fileKey"],"cac21667f0458068a6910c2549e92e55620e3f17c6c47c2a535f536384d97465"),e9=l("LibraryModalVariablesData",["fileKey"],"4194fc14e6ce9a0d3e0e810df421f91dba0c765ab3341c7814ae783fb7ad6748"),te=l("LibraryModuleData",["fileKey"],"6ec6c1ee37c6439f9a6c47728ba636d50825e4fa42b7be839926d415c120f2cc"),tt=l("LibraryOrgSubscriptions",["orgId"],"ffca0f94206bab1d0077bd7e754045a0cac08aa427cdcde36214f46d1c537456"),tr=l("LibraryPresetSubscriptions",[],"4c2ac18e087ff19f97c6bb3cef8ead84926192fd1476d52c6755c4b207161b8e"),tn=l("LibraryTeamSubscriptions",[],"be5715a63a73f9ef97b1322a90b9c3ca626adf64bc088eef2610a883e936bc2b"),ti=l("LibraryFileSubscriptions",["fileKey"],"b7345247949e01d847bcda1f0d0a88c1809d2400ddc49027840e01a750754ce6"),ta=l("LibraryUserSubscriptions",[],"56acb725683669b8296b647c4ff1b9d4753ed7f249d953939daf16e442b7bb3f"),to=l("LibraryPublish",["id"],"3e64e9a71ee0b93508c0a26db41e3fa684e3e8c5d347433e4267fcf24785ead2"),tl=l("LibraryStyleData",["fileKey"],"6e4893856446585491844844d11d41eae9e848acd691c438e9141891ece9fee6"),ts=l("CommunityLibraryStyleData",["hubFileId"],"2548e36f13737896f6a935f102b8d1a3fdd85bf157a80ecb56c83ec2f8dc6eee"),tc=l("LibrarySubscriptionView",["orgId"],"217eae7ac471e3cde570d2a5abbf4c07e13c7b05c9abb26bf6f26fdb4f62e091"),td=l("LibraryVariableCollectionData",["fileKey"],"018619a49976527eac8252a59dee209a9f8393651e211132e9633b5b2366f2c9"),tu=l("LibraryVariableCollectionDataWithVariables",["fileKey"],"3a4fb471c695ef80769a6b3e645d8193e6aded7c59e34aeb605d71d97c9ff22c"),tp=l("LicenseGroupCountView",["id"],"7b4f8df5beec75d31fc351f2105542e95dfcd82cd9e15d9256665fe257137452"),tm=l("MoveDraftsTeamData",["orgId"],"06a518f09b7c9628ba0e5cba571764d189d2782eba661565a2978550c699a5ee"),t_=l("MoveFileCurrentProject",["projectId"],"529c9ddfe813f0359a09c67dad1625374ce32b9ebc18e69edf61f78775c9dc54"),th=l("NewFileCreationBar",["projectId"],"0164c976452d4324e85f25802056c4af6d77ecf27328b35d64fb1b4fb19b9f57"),tg=l("NonEnterpriseOrgMetaContentView",["orgId"],"53d873035f628159f51813efcdfb587bb9577177db47e1b1e8ef6d17a13e3f73"),tf=l("EnterpriseOrgMetaContentView",["orgId"],"acb6ee879323a6c741bca7ec3081a037bacf15e35dae88c34dac8051ce40d299"),tE=l("OpenEditorFileData",["fileKey"],"ac1781ded9fc23d605d63497377dc26da5ce0cad3c97a7829f88c3004f232604"),ty=l("OrgAdminUserView",["orgId","queryParams","firstPageSize"],"3bed86e7dda9c8ae30e342c4be2f91d49238e22bf1945f129fea37b1109c5f76"),tb=l("OrgHasWorkspacesView",["orgId"],"04a21fd542b7ee3ef85f0a3c726075db2de4b464fb727c10032948d303c867d7"),tv=l("OrgInviteModalView",["workspaceId"],"bd8427fe6392a84d4bf32d02363bb03f27531cc12a9644f97d0c31abf15702c1"),tI=l("OrgJoinRequestExistence",["orgId"],"b5a651cbe35528ced6f03c9517a92b337f71e1d197f43441754b582162cf41c9"),tw=l("OrgSharedSettingView",["orgId"],"8a2e3b30e423dcb15b616183a8cb743d24d06f971f198c2c34a10224b6be728d"),tT=l("OrgTaxIdView",["orgId"],"73b3babfc2feb79729d47e5e9d35931c65dfba628b93659ee0360310b58f0731"),tS=l("OrgTeamSummariesView",["orgId"],"211e1eeaa8cef57a7ce84c3de249e78031ce61cfe613d10305a5f148ed41102c"),tC=l("OrgTeamView",["orgId","queryParams","firstPageSize"],"0853482f455a8f9b79b6cc36160039d276c7dc2a29237600784aa563b4c2ffda"),tA=l("OrgUpgradeRequestView",["orgId"],"99524f29333312320f75281defc0222ff2bd11d99e961a814c6e3b5c5d3c5117"),tO=l("OrgUserFlag",["orgId","eventType"],"907a4d6e25529160678d40614850a69044a4978b5e7a6fce62fc3390be1e53ed"),tN=l("OrgUsersByIdView",["orgId","orgUserIds"],"5ee221fd1437ac93110b9402148ab2129ed6c36593a16fa471345ddb19ad4ffd"),tL=l("OrgWithWorkspacesPublicLinkControlsSettingView",["orgId"],"7ee6e30e1dea903be949acb5912f60a92be4543f794ec9e745d5ce50f25b1072"),tR=l("PaginatedFigFeed",["orgId","feedFilter","firstPageSize","refreshNonce"],"e432b51943f6052494725450387dd52eb6dd765e736db1f7054f4e9da9449d4f"),tP=l("PendingTeamRoleRequestsByTeamId",["teamId"],"463c4bc82f5c6b746e6182ef362fa13571fb668b0cd618b12286b210543e45fd"),tM=l("PendingUserMentionByCommentView",["fileCommentId"],"98448f91af1f453b5b6734a0b5e8618acc07797291f479b99596c129d9a6edb9"),tk=l("PinnedFiles",["folderId"],"5ab498e0f04133b5b6ee8c98b1804eb1dd7634bb1427764e0ee1bdeb54487c74"),tD=l("Plugin",["pluginId","orgId"],"65017a02ad1232e123e321f3439b6b3d0e62e860b0a62dd400a89680d6ba0865"),tF=l("PluginAllowlistManagementModalView",["pluginId","orgId"],"4a73858240acadfc6aa74940ec6792343f5829aa657673657c70f3b26629a9a6"),tx=l("PluginInstall",["pluginId","orgIds"],"b698e19a0d5778ad478c0fe11dcfdf2293781c298cc568539f3846c62b9c7589"),tU=l("PluginPreferencesView",["targetOrgId","targetUserId"],"79c4dcfa288c53ab695cb8b8ed0fbdbd03a9232102898162b74b6f1924a661b1"),tB=l("PluginRequests",["orgId"],"2466a0e0ddaabd4fdea4bdd8988dc793fa968f72e8958fd9ac0266f3a4613300"),tG=l("PluginSecurityFormResponse",["pluginId"],"ed6f9188040a98a2c1f2bf4010ff7559a4d6e6e0aec6449fd736e89f5256b763"),tV=l("PresetLibrariesView",[],"34a42f61f079efb35557f3afe79c3a114f30c73a81a928e421934eba7d982bc0"),tH=l("ProRequestUpgradeModalData",["teamId"],"50be44e91a9140285877ee5a5dbd2de4d02855331c1018e3048cac21afecf80f"),tW=l("ProjectNameById",["projectId"],"167370bf522cffa374d2936870d611915820b53dd89a514f2ce691652fab7965"),tK=l("ProjectByIdForRealtimeShim",["projectId"],"f944680b6c28e7b0da4d55dd3f5caf76e9646fd47fc9e456958465c115b79ef5"),tY=l("ProjectFileCount",["projectId"],"ec94b29e7e19f15b6d4c59b2cf69d5fcd55b0707ea9ad2ba3586d326d9e58579"),tq=l("ProjectTilePermissions",["projectId"],"16a2777a5ffffae2b82226d4dfc4c116b7de0589c7d1f74f6bf715aff14636ad"),tj=l("PrototypeTilePermissions",["prototypeId"],"977169b7f1e74b6a39209b07d77356440fe1425c9f181465b6b94ab06d8cd6f3"),t$=l("RepoByIdForRealtimeShim",["repoId"],"15d9984a198b456e92e383624bd7006828b69980be255c539a4842104b5dd221"),tZ=l("RepoFiles",["repoId"],"0d5d2d0eba496beeda76d8e582d87f7e4cfe57157fcfb722a22bec3c540a4710"),tz=l("RepoReviewerSuggestions",["repoId"],"94185a7fa65e3202424dc7fae7baa0a30927a7e2bae962b3821466ec9b597443"),tQ=l("RepoTilePermissions",["repoId"],"5e59c3e3f4c19b63d574b1db80b9a678975f9296e820f30b06fe9c1b2c36456d"),tX=l("ResolvedComments",["fileKey"],"7b5ece4b590e0ceeb80a1dcd7a7bba3427da3ab5e5c56e469d8d213acd73ccab"),tJ=l("ResourceSave",["hubFileId"],"f6ddfc1d3bf83cc30494e8398600aea2a8ea0a742536e8130876f93809535bf9"),t0=l("RoleUpdatesForTeam",["teamId","updatedAtTimestamp"],"d4f667ede4b3cb91b1082d3ba2ab05ab6b453693900007ced314afae2e008093"),t1=l("RoleUpdatesForUser",["updatedAtTimestamp"],"0060e36aee8b725419654060c730a9d92604bf97bb9cfcce7605f46c83bad7a6"),t2=l("SearchFilterWorkspaceView",["orgId"],"130ec2bbc72113b8e1233d4a0abd1896574662972483dee3600bdf6a98524b62"),t4=l("SharedWithYouResources",["resourceTypes","firstPageSize","sortOrder","cursorColumn","sharedBy","planId","planType","fileType","orgDeletedDrafts"],"3336b261afa40e7a801802b9f487a3d5518f8a41cf47cd4a730700c1f2f03d6b"),t3=l("StarterFileEditConfirmation",["key"],"b9611d6a7dde03eeddba3498f105bf6ded3faa6cfb7b314cd29161f4d5afd6d7"),t6=l("StatsigTeamsOrderView",["currentOrgId"],"75513768b3c4f5dd170727d4cb2c746a34fccc6cbcf648c0cb937c740905618b"),t8=l("StyleByKey",["key","openFileKey"],"724f930f7b12a977f464c39630183229aa09aaa10c63b149ace5e7f9912eef6e"),t5=l("SubscribedLibrariesForFile",["fileKey","teamId","workspaceId","orgId"],"c5b71eb6713b6ff7f6ffc561a0e45865c3de4c1b34347c841f2987becaaa07e2"),t7=l("SubscriptionUpdateSloData",["id"],"6045b83d38bf38732a0efc83edc2666a35d0c8896c9cc8202bbe2a2895613563"),t9=l("TeamByIdForRealtimeShim",["teamId"],"3d5011f8889d5e9cafba6e084010f051c6bf289e980da112bc35499eb3690938"),re=l("TeamCreationWorkspaceView",["orgId"],"35ba21389e67dd7ab06172a6ffd613dfe76efabdb65771ea81b86f77884bfc51"),rt=l("TeamFileCountsByTeamId",["teamId"],"65ed3efce57070adbe8851dcf9106feaaacc012da35c8289aae0a48316c20f76"),rr=l("TeamFileLimitsInfoByProject",["projectId"],"b4a57aee9df16a05176fa1704f425b199e6549e9d3801f314ce679e6c2018889"),rn=l("TeamFileLimitsInfo",["teamId"],"dbd52a7bea92c586923a33dc05e8df1462fcebe2695aba9a1e173958b70c61e7"),ri=l("TeamPermissions",["teamId"],"0a7a1b7f56546b9de8c4a9a5b2d19e3e857fadc44b657405e31a899d0f792313"),ra=l("TeamSettings",["teamId"],"62acd9ca3a813055ce1a888d2e4bf31583aeccddc26860181bf6e926b5360d59"),ro=l("TeamTaxIdView",["teamId"],"d08c7fc04682202932b106e57f3b244cd8934f105016f5e4455e1e47b4da3ec4"),rl=l("TeamTilePermissions",["teamId"],"c722850f6e18857a80a2aa359f468725d35d86c9a376cc4a86e5545c62d89f0f"),rs=l("ToggledDevModeSettingsView",["targetOrgId","targetUserId"],"34b6599d9efc94406278d0433956d1625dd72ba2530665e82e50fff00a7dce5d"),rc=l("TeamUserStatusAndRequests",["teamId"],"35aae8d56dc8866beb839fb6c9dac9b1bbc696d9bc4d86b71cb09ff856341985"),rd=l("UserColorProfilePreferenceView",[],"216d0bed6c38dd4b9d6b5287c2398707f4b0513ada63f2fb0e62d6dc7d7c31a4"),ru=l("UserForRcs",[],"7754a7394125d90e970356eeb514bae356f088eb6d0bba7eed8747e41c1c6898"),rp=l("UserJamboardOfferEligibility",[],"5b95ac3232a1b7dc3dd0992b440a2646c779175e5b575ee24cb6a27e3f523e99"),rm=l("UserMonetizationMetadata",["userId"],"446a7c94ab10360ad76751b775dc2df202993c5f35bcf54ee5158ec756678857"),r_=l("UserWithTeams",[],"76d3fc49455d3f5149aab864569fc920b934779fe705daa48b69aeb46f827c97"),rh=l("UserForRealtimeShim",[],"f7d06a9b0ab5b5926d562d108aa9a89a74374c9f9eb54af25f898b9e5392055a"),rg=l("VariableByKey",["key"],"a4a31249376c1b9db8c9931f228199504a7af95e2e7eab8465744473afadb02d"),rf=l("VariableCollectionByKey",["key"],"f03a53e505176caf79d490033bc0a5a4b845f66b26587289b4084d1f026f2804"),rE=l("VariablesByVariableCollectionKey",["variableCollectionKey"],"9dcd36f8c5d0b598488a30dabffeb7de883d75e6172768dfa93c5c256791d6bb"),ry=l("WorkspaceAdminSettingsView",["workspaceId"],"38435e281372e1803ba6e31d0db0c43f23a86fcf57ec4b552d0d186917bd3dbc"),rb=l("WorkspaceCanCreateTeamView",["orgId"],"624d2078031fa6e8eedaba0d89f2f014c16a4fbc07fa5fa0410d8f6bf32b3dce"),rv=l("WorkspaceModalPluginRequests",["orgId"],"58f1c2b1c207cc030538bd134a593b0dd005064421d73d4b233e4ca6b39fe66e"),rI=l("WorkspaceSelectorView",["orgId"],"e79cd448237eab7578fc7eb0b24e581e70040587b2cfc7e70f2667c05124f10c"),rw=l("WorkspaceSubscribedLibrariesForFile",["fileKey"],"83c2acf1c9924c21997389f1ea3b1f50c3a961408a0cc4fbed5b36b5807d5002"),rT=l("WorkspaceSubscribedLibrariesForTeam",["teamId"],"a55f2f3d11f91ba29bb4e770deedf727a9257e617dfca3808338b2515b8ad961"),rS=l("WorkspacesCanAdminView",["orgId"],"f54bfc15a44d957cbab31af6b9113a5387c7d7e7aaada067a70e869a56046df1"),rC=l("WorkspacesDirectoryView",["orgId"],"cd9fe5c3e928fade6a126e4c371bdd7970d269c6420e8ac6dc1a0bb98f7e0758"),rA=l("WorkspacesTableView",["orgId"],"34a4cf2dcdcf208bd8151cac65bf45abeed11f564ef956d26617a0661f9ec3cf"),rO=l("WorkspaceDefaultTeamsView",["workspaceId"],"3b9c11f1672dd9f6a7697af213e9a82c73bbe88dcbd406347ad5752e53332ec2"),rN=l("ApprovedLibrariesView",["workspaceId"],"c01ef8751391811d63ed49aab8a70c66a78532de852d58c820986536abecdb7c"),rL=l("WorkspacePageMembersView",["workspaceId"],"429826704124cb0727562d1386b41181a3dc57776e6b0cfb27121e5d2bf8cdd8"),rR=l("JamboardOfferRedeemedAt",[],"d1630e0a777d88bf1598a975fc759895e1f5367fa93c59198952752c8065a2ce"),rP=l("ApprovedLibrariesForOrgView",["orgId"],"86c216fb79dcfc9f41ec49ce29444c1c9cb39655e009cb588a8c68afba43aadb"),rM=l("DeviceTryFileView",["fileKey"],"57262db6a4c99d03c727ef6e8a734ac28b5bc6fb68fcf7f7134381d122629cdc"),rk=l("WorkspaceAdminLibrariesSectionView",["workspaceId"],"60a5e22cb527e5ccfb1da6f4003fbe39d4b76c9037bd82121fa0e6ba74712e0f")},154328:(e,t,r)=>{"use strict";r.d(t,{C0:()=>y,Gi:()=>P,K8:()=>h,KI:()=>O,M5:()=>W,M7:()=>b,OI:()=>I,OW:()=>function e(t){for(let[r,n]of Object.entries(t))n instanceof Date?t[r]=n.toISOString():n&&"object"==typeof n&&e(t[r])},QZ:()=>v,Wc:()=>k,XU:()=>S,Y3:()=>g,YV:()=>T,_q:()=>F,eY:()=>C,gL:()=>G,i4:()=>H,iQ:()=>U,io:()=>M,oL:()=>A,qG:()=>E,qM:()=>N,rl:()=>x,uU:()=>V,ye:()=>w});var n=r(916924),i=r(936756),a=r(675695),o=r(4596),l=r(997108),s=r(514916),c=r(790184),d=r(570012),u=r(668348),p=r(150779),m=r(762820),_=r(31948);function h(e){let t={};for(let r in e)t[(0,i.lD)(r)]=e[r];return t}function g(e,t){let r={};return(e.link_access&&(r.linkAccess=e.link_access),"proto_link_access"in e&&(r.protoLinkAccess=e.proto_link_access),"has_file_link_password"in e&&(r.hasFileLinkPassword=e.has_file_link_password),"has_proto_link_password"in e&&(r.hasProtoLinkPassword=e.has_proto_link_password),"org_audience"in e&&(r.orgAudience=e.org_audience),"org_browsable"in e&&(r.orgBrowsable=e.org_browsable),e.name&&(r._name=e.name),r&&t)?{File:{[t]:r}}:null}let f=e=>{let t={};return(e.link_access&&(t.linkAccess=e.link_access),"proto_link_access"in e&&(t.protoLinkAccess=e.proto_link_access),"org_audience"in e&&(t.orgAudience=e.org_audience),"org_browsable"in e&&(t.orgBrowsable=e.org_browsable),e.name&&(t.name=e.name),t&&e.id)?{Repo:{[e.id]:t}}:null};function E(e){if(!e.id)return null;let t=f(e);return t?(e.default_file_key&&Object.assign(t,g(e,e.default_file_key)),t):null}function y(e,t,r){let n=void 0!==e.default_file_key?e.default_file_key:e.key;return n&&"optimistic"===t&&e.expires_at?{FigFileLinkExpirationConfig:{[`optimistic-id-${n}`]:{figFileKey:n,expiresAt:new Date(e.expires_at),accessReverted:!1,updatedAt:new Date,prevPrivateLinkAccess:s.O6.ORG_VIEW,prevPrivateProtoLinkAccess:null,prevOrgBrowsable:null,setByUserId:(null==r?void 0:r.id)||null,setByUser:r}}}:null}function b(e,t,r){let n=e.link_access===s.O6.VIEW||e.link_access===s.O6.EDIT||e.proto_link_access===s.eI.VIEW;return t&&"optimistic"!==t&&(!n||"expires_at"in e)?{FigFileLinkExpirationConfig:{[t]:{expiresAt:e.expires_at?new Date(e.expires_at):null,accessReverted:!e.expires_at,setByUserId:(null==r?void 0:r.id)||null,setByUser:r}}}:null}function v(e){return{key:e.key,name:e.name,file_repo_id:e.file_repo_id,source_file_key:e.source_file_key,editor_type:e.editor_type,folder_id:e.folder_id,team_id:e.team_id,parent_org_id:e.parent_org_id,has_proto_link_password:e.has_proto_link_password,proto_link_access:e.proto_link_access,created_at:e.created_at,trashed_at:e.trashed_at,prototype_url:e.prototype_url}}function I(e,t,r){let n=`${window.location.origin}/proto/${e}/${(0,i.e0)(t||"")}`;return null!=r?`${n}?node-id=${(0,i.e0)(r)}`:n}function w(e){var t,r;return{checkpoint_token:"",edit_url:"",prototype_url:`${window.location.origin}/proto/${e.key}/${(0,i.e0)(e.name||"")}`,track_tags:"",url:`${window.location.origin}/file/${e.key}/${(0,i.e0)(e.name||"")}`,touched_at:"",client_meta:e.clientMeta||"",created_at:e.createdAt.toString(),creator_id:e.creator.id,deleted_at:e.deletedAt?e.deletedAt.toString():null,description:e.description||"",editor_type:e.editorType,file_repo_id:e.fileRepoId,folder_id:e.folderId,has_file_link_password:e.hasFileLinkPassword,has_proto_link_password:e.hasProtoLinkPassword,is_template:!!(null==(t=e.trackTags)?void 0:t.isTemplate),key:e.key,license:e.license,link_access:e.linkAccess,name:e.name||"",org_audience:!!e.orgAudience,org_browsable:e.orgBrowsable,parent_org_id:e.parentOrgId,proto_link_access:e.protoLinkAccess,source_file_key:e.sourceFileKey,starter_library_src_file_key:null==(r=e.trackTags)?void 0:r.starterLibrarySrcFileKey,team_id:e.teamId,thumbnail_guid:e.thumbnailGuid,thumbnail_url:e.thumbnailUrl,thumbnail_url_override:e.thumbnailUrlOverride,trashed_at:e.trashedAt?e.trashedAt.toString():null,trashed_user:e.trashedUser,trashed_user_id:e.trashedUser?e.trashedUser.id:null,updated_at:e.updatedAt.toString(),viewer_export_restricted:!!e.viewerExportRestrictedAt,is_try_file:e.isTryFile,library_key:e.libraryKey}}function T(e){return{id:e.id,handle:e.handle,img_url:e.imgUrl,email:e.email||void 0,name:e.name||void 0}}function S(e,t,r,n){let i={id:e.id,resource_type:e.resourceType,resource_id_or_key:e.resourceId,level:e.level,created_at:e.createdAt.toString(),updated_at:e.updatedAt.toString(),pending:e.pending,org_user:r?{design_paid_status:r.accountType,whiteboard_paid_status:r.whiteboardPaidStatus||s.m8.STARTER,user_id:r.userId,permission:r.permission}:void 0,team_user:n?{design_paid_status:n.designPaidStatus,whiteboard_paid_status:n.whiteboardPaidStatus,user_id:n.userId,team_id:n.teamId}:void 0};return e.pending?{...i,pending:!0,user_id:null,user:{email:e.pendingEmail||""}}:{...i,pending:!1,user_id:t.id,user:t}}function C(e){return{id:e.id,name:e.name,folder_id:e.folderId,default_file_key:e.defaultFileKey,deleted_at:e.deletedAt&&e.deletedAt.toString(),trashed_at:e.trashedAt&&e.trashedAt.toString(),created_at:e.createdAt.toString(),updated_at:e.updatedAt.toString(),team_id:e.teamId,link_access:e.linkAccess,proto_link_access:e.protoLinkAccess,has_file_link_password:e.hasFileLinkPassword,has_proto_link_password:e.hasProtoLinkPassword,org_audience:e.orgAudience,org_browsable:e.orgBrowsable,parent_org_id:e.parentOrgId,has_active_branches:e.hasActiveBranches}}function A(e,t){return{id:e.id,viewed_on:e.viewedOn.toString(),user_id:e.user.id,file_key:e.fileKey,user:t}}function O(e){let t={};return e.forEach(e=>t[e.id]=e),t}function N(e){switch(e){case s.y4.FILE:return"FileRole";case s.y4.FILE_REPO:return"RepoRole";case s.y4.FOLDER:return"ProjectRole";case s.y4.TEAM:return"TeamRole"}}function L(e){if(null!=e)return{backgroundColor:e.backgroundColor??void 0,containingStateGroup:"containingStateGroup"in e?function(e){if(null!=e)return{name:e.name??void 0,nodeId:e.nodeId??void 0}}(e.containingStateGroup):void 0,name:e.name??void 0,nodeId:e.nodeId??void 0,pageId:e.pageId??void 0,pageName:e.pageName??void 0}}function R(e,t){var r;return{description:e.description??void 0,description_rt:e.description_rt??void 0,library_key:c.lt,id:e.id,name:e.name,unpublished_at:(null==(r=e.unpublishedAt)?void 0:r.toISOString())??null,..."key"in t?{file_key:t.key,team_id:t.teamId}:{file_key:t.hubFileId,team_id:null}}}function P(e,t){return{...R(e,t),type:c.Af.COMPONENT,node_id:e.nodeId,canvas_url:`/component/${e.componentKey}/canvas?ver=${e.contentHash}`,component_key:(0,a.dv)(e.componentKey),containing_frame:L(e.containingFrame),content_hash:(0,a.I9)(e.contentHash),userFacingVersion:a.I9.INVALID,min_node_height:e.minNodeHeight??0,min_node_width:e.minNodeWidth??0,thumbnail_url:`/component/${e.componentKey}/thumbnail?ver=${e.contentHash}`}}function M(e,t){return{...R(e,t),type:c.Af.STATE_GROUP,node_id:e.nodeId,canvas_url:`/state_group/${e.key}/canvas?ver=${e.version}`,containing_frame:L(e.containingFrame),default_state_key:e.defaultStateKey,key:(0,a.Mb)(e.key),min_node_height:e.minNodeHeight??0,min_node_width:e.minNodeWidth??0,version:(0,a.wJ)(e.version),userFacingVersion:a.wJ.INVALID,thumbnail_url:`/state_group/${e.key}/thumbnail?ver=${e.version}`}}function k(e,t){var r,n;return{...R(e,t),type:c.Af.STYLE,node_id:e.nodeId,canvas_url:`/style/${e.key}/canvas?ver=${e.checkpoint.key}`,checkpoint_id:null==(r=e.checkpoint)?void 0:r.key,content_hash:(0,a.SI)(e.contentHash),userFacingVersion:a.SI.INVALID,key:(0,a.YT)(e.key),meta:e.meta?(0,_.UB)(e.meta):void 0,sort_position:e.sortPosition??"",style_type:e.styleType,thumbnail_url:`/style/${e.key}/thumbnail?ver=${e.checkpoint.key}`,hub_file_id:"loaded"===e.hubFile.status?null==(n=e.hubFile.data)?void 0:n.id:void 0}}function D(e,t){return`/variable_set/${e}/canvas?ver=${t}`}function F(e,t,r){let i="",l="";return r?(i=u.Yv(o.K0(e.nodeId)??o.WW),l=p.Yv(o.K0(e.variableCollection.nodeId)??o.WW)):(i=u._2((0,a.Q5)(e.key),(0,a.u8)(e.version)),l=p._2((0,a.s8)(e.variableCollection.key),(0,a.mE)(e.variableCollection.version))),{...R({...e,description_rt:null,thumbnailUrl:null},t),subscriptionStatus:"LIBRARY",type:c.Af.VARIABLE,node_id:i,variableSetId:l,variableCollectionKey:(0,a.s8)(e.variableCollection.key),resolvedType:function(e){switch(e){case"BOOLEAN":return m.y6c.BOOLEAN;case"COLOR":return m.y6c.COLOR;case"FLOAT":return m.y6c.FLOAT;case"MAP":return m.y6c.MAP;case"STRING":return m.y6c.STRING;case"SYMBOL_ID":return m.y6c.SYMBOL_ID;default:(0,n.kl)(`Unhandled livegraph type: ${e}`)}}(e.variableType),version:(0,a.u8)(e.version),userFacingVersion:a.u8.INVALID,sortPosition:e.sortPosition,key:(0,a.Q5)(e.key),scopes:(0,d.uY)(e.scopes),canvas_url:D(e.variableCollection.key,e.variableCollection.checkpoint.key)}}function x(e,t,r){var n;let i="";return i=r?p.Yv(o.K0(e.nodeId)??o.WW):p._2((0,a.s8)(e.key),(0,a.mE)(e.version)),{...R({...e,description_rt:null,thumbnailUrl:null},t),subscriptionStatus:"LIBRARY",type:c.Af.VARIABLE_SET,node_id:i,version:(0,a.mE)(e.version),userFacingVersion:a.mE.INVALID,canvas_url:D(e.key,e.checkpoint.key),key:(0,a.s8)(e.key),checkpoint_id:null==(n=e.checkpoint)?void 0:n.key,variableThumbnailsUrl:e.variableThumbnailsUrl??void 0,modes:function(e){if(null==e)return;let t=[];for(let r of e)t.push({id:r.id,name:r.name});return t}(e.modes),isExtendable:("loaded"===e.isExtendable.status&&e.isExtendable.data)??!1}}function U(e,t){return{...R(e,t),subscriptionStatus:"LIBRARY",type:c.Af.MODULE,node_id:e.nodeId,key:(0,a.OM)(e.key),version:(0,a.qr)(e.version),userFacingVersion:a.qr.INVALID,canvas_url:`/api/file_proxy/module_asset/${e.key}/canvas?ver=${e.checkpoint.key}`,containing_frame:L(e.containingFrame),thumbnail_url:`/module_asset/${e.key}/thumbnail?ver=${e.checkpoint.key}`,moduleSource:B(e.moduleSource),width:parseInt(e.width),height:parseInt(e.height),file_name:t.name}}let B=e=>{switch(e){case"EDITOR_TEMPLATE":return m.C_D.EDITOR_TEMPLATE;case"SLIDES_TEMPLATE":return m.C_D.SLIDES_TEMPLATE;default:(0,n.kl)(`Unhandled livegraph module source: ${e}`)}};function G(e){return{id:e.id,path:e.path,orgId:e.org_id??null,teamId:e.team_id,updatedAt:new Date(e.updated_at),createdAt:new Date(e.created_at),deletedAt:e.deleted_at?new Date(e.deleted_at):null,viewOnlyAt:e.is_view_only?new Date:null,inviteOnlyAt:e.is_invite_only?new Date:null,subscription:e.is_favorited?{id:"temp_is_favorited"}:null,description:e.description,ownerRole:null}}function V(e,t,r){return(t||r)&&e?(0,l.eM)(e)?{autogen_password_controls:(null==t?void 0:t.autogenPasswordControls)||!1,external_collaboration_controls:(null==t?void 0:t.externalCollaborationControls)||!1,public_link_controls_setting:(null==r?void 0:r.publicLinkControlsSetting)??(null==t?void 0:t.publicLinkControlsSetting),public_link_controls_max_expiration:(null==r?void 0:r.publicLinkControlsMaxExpiration)??(null==t?void 0:t.publicLinkControlsMaxExpiration)}:{autogen_password_controls:(null==t?void 0:t.autogenPasswordControls)||!1,external_collaboration_controls:(null==t?void 0:t.externalCollaborationControls)||!1,public_link_controls_setting:null==t?void 0:t.publicLinkControlsSetting,public_link_controls_max_expiration:null==t?void 0:t.publicLinkControlsMaxExpiration}:null}function H(e){return e?{...e,prevPrivateLinkAccess:e.prevPrivateLinkAccess,prevPrivateProtoLinkAccess:e.prevPrivateProtoLinkAccess,prevOrgBrowsable:!!e.prevOrgBrowsable,setByUser:e.setByUser?T(e.setByUser):null}:null}function W(e){let t={domains:[],isFetching:!1,fetchedAt:null};return e&&e.forEach(e=>{t.domains.push({id:e.id,created_at:e.createdAt?e.createdAt.toString():"",org_id:e.orgId,domain:e.domain,google_sso_only_at:e.googleSsoOnlyAt?e.googleSsoOnlyAt.toString():null,saml_sso_only_at:e.samlSsoOnlyAt?e.samlSsoOnlyAt.toString():null,verification_method:null,verified_at:null})}),t}},876760:(e,t,r)=>{"use strict";r.d(t,{UL:()=>p.UL,cQ:()=>p.cQ,qO:()=>h});var n=r(161400),i=r(372152),a=r(958688),o=r(991508),l=r(84444),s=r(536548),c=r(382076),d=r(919024),u=r(104748),p=r(814508);let m={File:(0,l.G)(()=>n.x,()=>d._Y),Repo:(0,c.Y)(()=>n.x,()=>d._Y),Folder:(0,s.A)(()=>n.x,()=>d._Y)},_=(0,o.a)(i.qM,{getRealtimeClient:()=>d._Y,getLivegraphClient:()=>a.IQ.get(),getReduxStore:()=>n.x},m).extend((0,u.O)(m)),h=Object.assign(_,{useFile:e=>(0,u.c)(e,_)})},836124:(e,t,r)=>{"use strict";r.d(t,{Ok:()=>s,wl:()=>c});var n=r(120304),i=r(843148),a=r(425396),o=r(557044),l=r(876760);let s=(0,i.Ub)().livestore_use_file_migration?function(e){return l.qO.File.useValue(e)}:function(e){let t=(0,n.w1)(t=>e?t.fileByKey[e]:void 0);return a.YF.loaded(t)};function c(e,t,r){return async(n,{pageParam:i})=>{var a,l;let s;i?s=i:(s=e(n),s=`${s}${-1===s.indexOf("?")?"?":"&"}page_size=${t}`);let c=await (0,o.Gg)(s);return{data:r?r(c.data.meta):c.data.meta,nextPage:null==(a=c.data.pagination)?void 0:a.next_page,prevPage:null==(l=c.data.pagination)?void 0:l.prev_page}}}},342512:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});var n=r(899116),i=r(767433),a=r(556312),o=r(233508);let l=null;function s(){return l||(n.sZ&&(l=new a.u),(0,i.s)()&&(l=new o.c)),l}},422416:(e,t,r)=>{"use strict";r.d(t,{Ip:()=>m,Pe:()=>v,QB:()=>I,Sy:()=>g,WQ:()=>E,aU:()=>y,kF:()=>h,mW:()=>f,wR:()=>_});var n=r(307824),i=r(843148),a=r(326660),o=r(200800),l=r(492084),s=r(89352),c=r(628);let d=["jpy","usd","gbp","cad","eur"],u=(0,l.m)(()=>{if(navigator){let e=navigator.languages;if(e&&e[0])return e[0];let t=navigator.language;if(t)return t}return"en-US"}),p={jpy:{annualFigma:1800,monthlyFigma:2250,orgFigma:6750,orgDevMode:3750,orgFigjam:750,enterprise:11250,enterpriseDevMode:5250,enterpriseFigjam:750,annualFigjam:450,monthlyFigjam:750},usd:{annualFigma:1200,monthlyFigma:1500,orgFigma:4500,orgDevMode:2500,orgFigjam:500,enterprise:7500,enterpriseDevMode:3500,enterpriseFigjam:500,annualFigjam:300,monthlyFigjam:500},eur:{annualFigma:1200,monthlyFigma:1500,orgFigma:4500,orgDevMode:2500,orgFigjam:500,enterprise:7500,enterpriseDevMode:3500,enterpriseFigjam:500,annualFigjam:300,monthlyFigjam:500},gbp:{annualFigma:1100,monthlyFigma:1400,orgFigma:4e3,orgDevMode:2200,orgFigjam:500,enterprise:7e3,enterpriseDevMode:3200,enterpriseFigjam:500,annualFigjam:300,monthlyFigjam:500},cad:{annualFigma:1600,monthlyFigma:2e3,orgFigma:6e3,orgDevMode:3500,orgFigjam:700,enterprise:1e4,enterpriseDevMode:5e3,enterpriseFigjam:700,annualFigjam:400,monthlyFigjam:700}};class m{constructor(e){this.fullFormat={jpy:"JPY",usd:"USD",eur:"EUR",gbp:"GBP",cad:"CAD"},null===e&&(0,a.GE)("Currency should not be null. Defaulted to usd."),this.currency=e??"usd",this.hasCents="jpy"!==this.currency,this.locale=u()}formatMoney(e,t){let r={currency:this.currency,style:"currency"};this.hasCents&&(null==t?void 0:t.showCents)||(r.maximumFractionDigits=0,r.minimumFractionDigits=0),this.hasCents&&(e*=.01);let n=e.toLocaleString(this.locale,r);return(n.startsWith("CA$")||n.startsWith("US$"))&&(n=n.slice(2)),(null==t?void 0:t.showFullFormat)?`${n} ${this.fullFormat[this.currency]}`:n}formatPrice(e){return this.formatMoney(this.getPrices()[e])}getPrices(){return p[this.currency]}getPricesForOrgPlan(e){let t,r,n;let i=this.getPrices();if(e===o.iV.ORGANIZATION)t=i.orgFigma,r=i.orgFigjam,n=i.orgDevMode;else if(e===o.iV.ENTERPRISE)t=i.enterprise,r=i.enterpriseFigjam,n=i.enterpriseDevMode;else throw Error(`Unknown billing plan: ${e}.`);return{[c.eK.DESIGN]:t,[c.eK.FIGJAM]:r,[c.eK.DEV_MODE]:n}}getPricesWithOverride(e,t){let r={},n=this.getPricesForOrgPlan(t);return s.Ih.forEach(t=>{var i;let a=n[t];(null==e?void 0:e.license_type_configuration)&&(null==(i=e.license_type_configuration[t])?void 0:i.is_free_period)&&(a=0),r[t]=a}),r}}function _(){let e=(0,i.cp)().user_currency_from_ip;return y()?e:"usd"}function h(){return new m(_())}function g(){return y()&&"usd"!==_()&&(0,i.cp)().iso_code||"US"}function f(){return(0,i.cp)().iso_code||"US"}function E(){let e=new Set;return e.add("usd"),e.add(_()),Array.from(e)}function y(){let e=(0,i.cp)().user_currency_from_ip;if(!e||!d.includes(e)||"usd"===e)return!1;let t=(0,i.cp)().user_data;return!!t&&!!t.id}let b={usd:[],eur:["AT","BE","CZ","DK","EE","FI","FR","DE","GR","HU","IS","IT","LV","LI","LT","LU","MT","NL","NO","PL","PT","SK","SI","ES","SE","CH","BG","HR","CY","IE","RO"],jpy:["JP"],cad:["CA"],gbp:["GB","IM","GG","JE","GI","GS"]};function v(e,t){return"usd"===e||b[e].includes(t)}function I(e="usd"){return(0,n.useMemo)(()=>{let t=new m(e);return(...e)=>t.formatMoney(...e)},[e])}},24952:(e,t,r)=>{"use strict";r.d(t,{EP:()=>o,eA:()=>s,k3:()=>l});var n=r(901676);let i="CHECK_OSS_SALES_EXPERIMENT_LOCAL_KEY",a="CHECKED_OSS_SALES_EXPERIMENT_LOCAL_KEY";function o(e){let t=(0,n.AP)();t.get(a)||t.set(i,e)}function l(){(0,n.AP)().set(a,!0)}function s(e){let t=(0,n.AP)();return!t.get(a)&&e===t.get(i)}},124664:(e,t,r)=>{"use strict";let n;r.d(t,{AX:()=>d,Ah:()=>y,Cm:()=>v,KU:()=>p,O2:()=>g,RF:()=>h,YL:()=>m,k7:()=>f,od:()=>b,sD:()=>E,uo:()=>_});var i=r(333928),a=r(553432),o=r(492084),l=r(392992),s=r(251596),c=r(919364);function d(e,t){let r=h(e,t);return r?(0,i.yi)(r):null}function u(e,t){return!!e&&!!e.track_tags&&!e.trashed_at&&!e.deleted_at&&!!e.is_template&&t.includes(e.track_tags.figma_basics_experiment)}function p(e){let t=(0,s.C2)(),r=(0,l.K_)({useSinatraType:!0});return m(null==t?void 0:t.id,r,e)}let m=(0,o.m)((e,t,r)=>null!=e&&null!=t&&u(t,r)&&e===t.creator_id);function _(e,t,r){let n=Object.values(e||{});if(0===n.length)return;let i=n.find(e=>e&&u(e,r));if(i&&(0,a.canEditFile)(i.key,t))return i.key}function h(e,t){return Object.values(e).find(e=>t.currentUserOrgId===(e.parent_org_id||null)&&e.is_template&&"whiteboard"===e.editor_type&&(0,a.canEditFile)(e.key,t)&&!e.trashed_at&&!e.deleted_at)}var g=((n=g||{}).PROPERTIES_PANEL_TITLE="properties-panel-title",n.SCRUBBABLE_CONTROL="scrubbable-control",n.PAINT_PANEL_ROW="paint-panel-row",n.TEXT_PANEL="text-panel",n);function f(e,t){return e+"-"+t.toLowerCase().replace(" ","-")}function E(){let e=(0,c.e)("editor_onboarded"),t=(0,c.e)("figma_basics_tooltips_onboarding");return v({editor_onboarded:e,figma_basics_tooltips_onboarding:t,no_figma_basics_tooltips_onboarding:(0,c.e)("no_figma_basics_tooltips_onboarding"),cursor_bot_v2__basics_onboarded:(0,c.e)("cursor_bot_v2__basics_onboarded"),cursor_bot_v2__no_basics_onboarded:(0,c.e)("cursor_bot_v2__no_basics_onboarded")})}function y(){return v({editor_onboarded:(0,c.e)("editor_onboarded"),figma_basics_tooltips_onboarding:(0,c.e)("figma_basics_tooltips_onboarding"),no_figma_basics_tooltips_onboarding:(0,c.e)("no_figma_basics_tooltips_onboarding")})}function b(e){let t=!!(0,c.e)("cursor_bot_v2__basics_onboarded"),r=!!(0,c.e)("cursor_bot_v2__no_basics_onboarded");return t||!e&&r}function v(e){return!!(e.editor_onboarded||e.figma_basics_tooltips_onboarding||e.no_figma_basics_tooltips_onboarding||e.cursor_bot_v2__basics_onboarded||e.cursor_bot_v2__no_basics_onboarded)}},320736:(e,t,r)=>{"use strict";r.d(t,{Km:()=>p,Mj:()=>u,Qs:()=>m});var n=r(916924),i=r(441748),a=r(617292),o=r(614208),l=r(681072),s=r(14020);let c=(e,t,r)=>{switch(e){case"product":return s.YT[t];case"role":return s.Cu[t];case"accountType":return s.wh[t];case"lastEdit":return s.eS[t];case"billingGroup":let n=decodeURIComponent(t),i=Object.keys(r).find(e=>{var t;return(null==(t=r[e])?void 0:t.name)===n});if("unassigned"===t||"Unassigned"===t)return l.C;if(i)return i;return null;case"newEditor":return"true"===t;default:return null}},d=(e,t,r)=>{switch(e){case"productFilter":return s.uw[t];case"roleFilter":return s.A$[t];case"permissionFilter":case"lastEditFilter":case"newEditorFilter":case"workspaceFilter":return t;case"licenseGroupFilter":return encodeURIComponent((0,o.ym)(t,r));default:return null}};function u(e,t){if(!e)return null;let r=(0,a.K0)(e);return Object.keys(r).reduce((e,n)=>{if(!(n in s.U7))return e;{let i=s.wB[n],a=r[n],o=c(n,a,t);return{...e,...o&&{[i]:o}}}},s.UP)}function p(e,t){return Object.keys(e).reduce((r,n)=>{let i=s.eg[n],a=e[n];return{...r,...a&&{[i]:d(n,a,t)}}},{})}function m(e){let t={filters:{}};return e[s.WY.newEditorFilter]&&(t.filters.new_editor=!0),Object.entries(e).forEach(([e,r])=>{if(null!==r&&e!==s.WY.newEditorFilter){if(e===s.WY.productFilter)t.product=r;else switch(e){case s.WY.licenseGroupFilter:t.filters.license_group=r;break;case s.WY.workspaceFilter:t.filters.workspace=r;break;case s.WY.permissionFilter:t.filters.permission=r;break;case s.WY.roleFilter:t.filters.role=r;break;case s.WY.lastEditFilter:t.filters.last_edit=(function(e){switch(e){case s.eS["3mo"]:return(0,i.c)().subtract(3,"month");case s.eS["6mo"]:return(0,i.c)().subtract(6,"month");case s.eS["1yr"]:return(0,i.c)().subtract(1,"year");default:(0,n.gy)(e)}})(r).utc().format()}}}),{...t.product&&{product:t.product},filters:JSON.stringify(t.filters)}}},260244:(e,t,r)=>{"use strict";let n,i;r.d(t,{C:()=>N,GM:()=>S,Ir:()=>b,KS:()=>D,M9:()=>P,OS:()=>I,S0:()=>M,Su:()=>A,UP:()=>R,W:()=>g,g7:()=>f,i8:()=>y,iW:()=>T,kR:()=>v,kj:()=>k,mi:()=>L,sv:()=>F,wD:()=>w,wG:()=>E,y8:()=>C,yK:()=>x});var a=r(503288),o=r.n(a),l=r(916924),s=r(441748),c=r(796488),d=r(560072),u=r(514916);r(200800);var p=r(89352),m=r(628),_=r(422416),h=r(815464);let g=3,f=1,E={[m.eK.DESIGN]:12*h.aK,[m.eK.FIGJAM]:12*h.CG,[m.eK.DEV_MODE]:12*h.yg};function y(e,t){if((0,c.qe)(e.user.email))return!1;switch(t){case m.eK.DESIGN:return e.design_paid_status===u.m8.FULL;case m.eK.FIGJAM:return e.whiteboard_paid_status===u.m8.FULL;case m.eK.DEV_MODE:return e.dev_mode_paid_status===u.m8.FULL;default:(0,l.gy)(t)}}function b(e){return 1===e.quarter?"annual":"true_up"}function v(e,t,r){var n,i;let a=(null==(n=t.license_type_configuration[e])?void 0:n.added_quantity)??0;if(t.is_stub){let r=(0,m.Sw)(e);return((null==(i=t.unit_amount_details_per_license_type[r])?void 0:i.total_cents)??0)*a}return a*(5-t.quarter)*(3*r[e])}function I(e){return e.is_stub&&1===e.quarter?null:((e.num_quarters_in_billing_period||4)+1-e.quarter)*3}function w(e){return Object.fromEntries(Object.values(m.eK).map(t=>{var r;return[t,(null==(r=e.license_type_configuration[t])?void 0:r.added_quantity)??0]}))}function T(e,t,r){let n=new _.Ip(e.currency).getPricesWithOverride(e,r),i=(t,r)=>{var i;if(e.is_stub){let n=(0,m.Sw)(t);return((null==(i=e.unit_amount_details_per_license_type[n])?void 0:i.total_cents)??0)*r}return r*(5-e.quarter)*(3*n[t])},a=p.Ih.dict(r=>{var a,o;let l,s;let c=null==(a=e.license_type_configuration[r])?void 0:a.locked_quantity,d=e.seat_floor[r]??0,u=c??t[r]??0,p=(null==(o=e.license_type_configuration[r])?void 0:o.prev_total_quantity)??0,m=Math.max(u,d??0),_=Math.max(m-p,0);return 1===e.quarter?(l=m,s=u):(l=_,s=Math.max(u-p,0)),{effectiveQuantityToBill:l,rawQuantityToBill:s,effectiveNewQuantity:_,seatFloor:d,prevTotalQuantity:p,totalSeats:u,lineItemTotal:i(r,l),monthlyUnitPrice:n[r]}}),l=o()(Object.values(a).map(({lineItemTotal:e})=>e)),s=e.is_stub&&1===e.quarter,c=s?null:((e.num_quarters_in_billing_period||4)+1-e.quarter)*3;return{licenseData:a,amountToPay:l,isStub:e.is_stub,isFirstInvoiceOfStubPeriod:s,remainingMonths:c}}function S(e,t){return C(e,t)}function C(e,t){return e.find(e=>e.status===t)}function A(e){var t;let r=C(e,"upcoming");return!!r&&!r.is_skipped_trueup&&(t=r.due_at,(0,s.c)(t)<(0,s.c)().add(14,"days"))}function O(e){let t=C(e,"open");return!!t&&(0,s.c)()<(0,s.c)(t.past_due_at)}function N(e){let t=C(e,"open");return!!t&&(0,s.c)(t.past_due_at)<(0,s.c)()}function L(e){return A(e)||O(e)||N(e)}var R=((n=R||{}).OVERDUE="overdue",n.UNPAID="unpaid",n.REVIEW="review",n.LOCKED="locked",n.DEFAULT="default",n),P=((i=P||{}).BILLING_STATUS="billing_status",i.TAX_ID_STATUS="tax_id_status",i.DEV_MODE_SUGGESTED_UPGRADES="dev_mode_suggested_upgrades",i);function M(e){return N(e)?"overdue":C(e,"locked")?"locked":A(e)?"review":O(e)?"unpaid":"default"}function k(e,t,r){if(0===t.length)return"";let n=M(t),i=C(t,"open");switch(n){case"unpaid":return(0,d.t)("billing_status.unpaid",{dueDate:new Date(i.past_due_at)});case"overdue":return(0,d.t)("billing_status.overdue",{dueDate:new Date(i.past_due_at)});case"review":let a=C(t,"upcoming");if(a&&1===a.quarter&&!e.has_automatic_upcoming_invoice)return(0,d.t)("billing_status.review.auto_renewal_off",{renewalDate:new Date(a.period_start_at)});return r?(0,d.t)("billing_status.review.workspace_admin.seat_rename",{dueDate:new Date(a.due_at)}):(0,d.t)("billing_status.review.org_admin",{dueDate:new Date(a.due_at)});case"locked":let o=C(t,"locked");return(0,d.t)("billing_status.locked",{dueDate:new Date(o.due_at)});case"default":let s=C(t,"upcoming");return(0,d.t)("billing_status.default",{dueDate:new Date(s.due_at)});default:(0,l.gy)(n)}}function D(e,t,r){let n=new _.Ip(t).getPricesForOrgPlan(r),i=Math.max(g-o()(Object.values(e)),0),a=Object.entries(e).reduce((e,t)=>{let[r,i]=t;return e+i*n[r]},0);return i&&(a+=i*n[m.eK.DESIGN]),12*a}function F(e){return null!==e&&null===e.value}function x(e){if(0===e.length)return null;let t=C(e,"upcoming");return t?1===t.quarter?t.period_start_at:t.period_end_at:null}},614208:(e,t,r)=>{"use strict";r.d(t,{K2:()=>E,KC:()=>g,Mr:()=>f,Nx:()=>_,Uz:()=>u,_A:()=>m,__:()=>h,gn:()=>p,k1:()=>y,mE:()=>b,mo:()=>c,ym:()=>d});var n=r(916924),i=r(560072),a=r(514916),o=r(795236),l=r(681072),s=r(14020);function c(e,t){switch(e){case s.ec.NAME:return(0,i.t)("members_table.column_header.name");case s.ec.LAST_EDIT:case s.ec.LAST_DESIGN_EDIT:case s.ec.LAST_WHITEBOARD_EDIT:return(0,i.t)("members_table.column_header.edit_at");case s.ec.LAST_ACTIVE:case s.ec.LAST_DESIGN_ACTIVE:case s.ec.LAST_WHITEBOARD_ACTIVE:return(0,i.t)("members_table.column_header.active_at");case s.ec.DESIGN_ROLE:return(0,i.t)("members_table.column_header.design_role.seat_rename");case s.ec.WHITEBOARD_ROLE:return(0,i.t)("members_table.column_header.whiteboard_role.seat_rename");case s.ec.DEV_MODE_ROLE:return(0,i.t)("members_table.column_header.dev_mode_role.seat_rename");case s.ec.DESIGN_UPGRADE_DATE:case s.ec.WHITEBOARD_UPGRADE_DATE:case s.ec.DEV_MODE_UPGRADE_DATE:return(0,i.t)("members_table.column_header.upgrade_date");case s.ec.WORKSPACE:return(0,i.t)("members_table.column_header.workspace");case s.ec.LICENSE_GROUP:return(0,i.t)("members_table.column_header.billing_group");case s.ec.SCIM_DATA:return t?(0,o.yi)(t):(0,i.t)("members_table.column_header.scim");case s.ec.DESIGN_UPGRADE_REASON:case s.ec.WHITEBOARD_UPGRADE_REASON:return(0,i.t)("members_table.column_header.upgrade_reason");default:(0,n.gy)(e)}}function d(e,t){var r;return e===l.C?(0,i.t)("license_group.unassigned"):(null==(r=t[e])?void 0:r.name)??""}function u(e){switch(e){case s.oZ.IDP:return(0,i.t)("members_table.org_permission_filter.pending");case s.oZ.UNVERIFIED:return(0,i.t)("members_table.org_permission_filter.unverified");case a.y6.GUEST:return(0,i.t)("members_table.org_permission_filter.guest");case a.y6.ADMIN:return(0,i.t)("members_table.org_permission_filter.admin");default:return(0,i.t)("members_table.org_permission_filter.member")}}function p(e){switch(e){case"3mo":return(0,i.t)("members_table.last_edit_filter.more_than_three_months_ago");case"6mo":return(0,i.t)("members_table.last_edit_filter.more_than_six_months_ago");case"1yr":return(0,i.t)("members_table.last_edit_filter.more_than_a_year_ago");default:return""}}function m(e){return["orgAdminSettings","licenseGroup"].includes(e)}function _(e){return["orgAdminSettings","licenseGroup"].includes(e)}function h(e){return["orgAdminSettings","licenseGroup"].includes(e)}function g(e){return"orgAdminSettings"===e}function f(e,t){return["orgAdminSettings","workspace"].includes(t)}function E(e,t){return["orgAdminSettings","licenseGroup"].includes(t)}function y(e){return"orgAdminSettings"===e}function b(e){return"orgAdminSettings"===e||"licenseGroup"===e}},55080:(e,t,r)=>{"use strict";let n;r.d(t,{Km:()=>d,e0:()=>p,iO:()=>u,q2:()=>m,qq:()=>s,yq:()=>c});var i=r(514916),a=r(553432),o=r(546772),l=r(623692),s=((n=s||{})[n.CLICK_LEAVE=0]="CLICK_LEAVE",n[n.CLICK_WITHDRAW=1]="CLICK_WITHDRAW",n[n.CLICK_JOIN=2]="CLICK_JOIN",n[n.CLICK_REQUEST=3]="CLICK_REQUEST",n[n.BYPASS_REQUEST=4]="BYPASS_REQUEST",n[n.CLICK_JOIN_AS_ADMIN=5]="CLICK_JOIN_AS_ADMIN",n);function c(e,t,r,n){var o;let s=(0,a.hasViewerRoleAccessOnTeam)(e.id,r),c=m(e,r);if(s)return 0;if(t&&t.status===l.q.PENDING)return 1;if(e.org_access===i.Ix.PRIVATE&&c&&(0,a.canAdminOrg)(n,r)||e.org_access===i.Ix.SECRET&&c&&(0,a.canAdminOrg)(n,r))return 4;if((0,a.canManageNonSecretOrgTeam)(e,r,null==(o=r.user)?void 0:o.id))return 5;if(e.org_access===i.Ix.PUBLIC)return 2;if(e.org_access===i.Ix.PRIVATE)return 3;return null}function d(e,t,r){return!!(e.org_access!==i.Ix.SECRET||(0,a.canViewTeam)(e.id,t)||e.org_access===i.Ix.SECRET&&e.orphaned&&(0,a.canAdminOrg)(r,t))}let u=e=>`JOINING_ORG_TEAM_${e}`,p=e=>`JOINING_${e.length}_BATCH_ORG_TEAMS_${e[0]}`;function m(e,t){var r;if(!e.org_id)return!1;let n=null==(r=t.orgTeams)?void 0:r.teams.find(t=>t.id===e.id);if(n)return!!n.orphaned;let i=t.roles.byTeamId[e.id];return!i||Object.values(i).every(e=>e.level<o.m.ADMIN&&!e.pending)}},658784:(e,t,r)=>{"use strict";r.d(t,{C1:()=>_,Cs:()=>f,GW:()=>I,Ku:()=>b,SM:()=>E,Sg:()=>v,eg:()=>y,qQ:()=>p,s5:()=>u,sd:()=>d,uO:()=>h,y2:()=>m,y_:()=>g});var n=r(139776);r(161400);var i=r(841152),a=r(560072),o=r(628),l=r(514916),s=r(541676),c=r(836780);function d(e){return!!e.user&&void 0!==e.orgUsersByOrgId&&_(e.orgUsersByOrgId.orgUsers,e.user.id).length>0}function u(e){return e.currentUserOrgId&&e.user&&e.orgUsersByOrgId.orgUsers[e.currentUserOrgId]?e.orgUsersByOrgId.orgUsers[e.currentUserOrgId][e.user.id]:null}(0,c.If)(u);let p=(0,c.If)(function(e){var t,r;let n=u(e);return null==(r=null==(t=null==n?void 0:n.workspace_users)?void 0:t.find(e=>e.is_main_workspace))?void 0:r.workspace_id});function m(e,t){return e.user&&e.orgUsersByOrgId.orgUsers[t]?e.orgUsersByOrgId.orgUsers[t][e.user.id]:null}let _=s.C;function h(e){let t=Object.values(e).filter(e=>e.permission===l.y6.ADMIN);return(0,n.E1)(t,"created_at"),t}function g(e,t){let r=e.admin_users_metadata.map(e=>t[e.id]).filter(e=>!!e);return(0,n.E1)(r,"created_at"),r}function f(e){return h(e).slice(0,3)}function E(e={},t){for(let r in e){let n=e[r];if(n.id===t)return n}}function y(e){return e.permission===l.y6.ADMIN?{color:i.Eo.DEFAULT,text:(0,a.t)("members_table.badge_label.admin")}:e.is_email_validated?e.permission===l.y6.GUEST?{color:i.Eo.DEFAULT,text:(0,a.t)("members_table.badge_label.guest")}:void 0:{color:i.Eo.DEFAULT,text:(0,a.t)("members_table.badge_label.unverified")}}function b(e,t){switch(t){case o.eK.DESIGN:return e.design_paid_status===l.m8.RESTRICTED;case o.eK.FIGJAM:case o._2.WHITEBOARD:return e.whiteboard_paid_status===l.m8.RESTRICTED;case o.eK.DEV_MODE:return e.dev_mode_paid_status===l.m8.RESTRICTED}}let v=e=>"string"!=typeof e,I=e=>{var t;return null==(t=e.workspace_users)?void 0:t.find(e=>e.is_main_workspace)}},795236:(e,t,r)=>{"use strict";r.d(t,{A$:()=>h,C_:()=>F,E7:()=>w,Ep:()=>T,IZ:()=>b,Mx:()=>A,OX:()=>y,Om:()=>v,Se:()=>E,UV:()=>B,Uh:()=>I,Y9:()=>g,aA:()=>O,cD:()=>L,cL:()=>U,cz:()=>D,eM:()=>C,gP:()=>f,gn:()=>R,kP:()=>k,m_:()=>M,oP:()=>x,wD:()=>N,yi:()=>S});var n=r(916924),i=r(441748),a=r(796488);r(843148);var o=r(936756),l=r(560072),s=r(997108),c=r(514916),d=r(553432);r(28464);var u=r(200800),p=r(628),m=r(216500),_=r(291336);function h(e,t){let r=e.map(e=>e.domain.toLowerCase()),n=(0,a.iD)(t);return 0!==r.length&&!!n&&r.indexOf(n)>-1}function g(e){return e.saml_sso_only?u.eq.SAML:e.google_sso_only?u.eq.GOOGLE:u.eq.ANY}function f(e){var t;return null==(t=e.config)?void 0:t.has_scim_token}function E(e){return(null==e?void 0:e.id)!==void 0}function y(e,t){let r=E(t)?t.email:t;return!!r&&(0,a.kB)(r)&&e.domains.length>0&&!h(e.domains,r)}function b(e){var t;return!!e.currentUserOrgId&&!!(null==(t=e.orgById[e.currentUserOrgId])?void 0:t.template_picker_disabled)}function v(e){return e.currentUserOrgId?e.orgById[e.currentUserOrgId]:null}function I(e){return e.isAccountLockedDuringOrgOperation}function w({org:e,invoice:t}){var r,n;let a=[(0,l.t)("org_admin_settings.billing_banner.finalized_invoice.design_seat_quantity",{quantityAdded:t.quantity_added})],s=null==(r=t.license_type_configuration[p.eK.DEV_MODE])?void 0:r.added_quantity,c=null==(n=t.license_type_configuration[p.eK.FIGJAM])?void 0:n.added_quantity;return(null!=s&&a.push((0,l.t)("org_admin_settings.billing_banner.finalized_invoice.dev_mode_seat_quantity",{quantityAdded:s})),e.figjam_disabled_at||a.push((0,l.t)("org_admin_settings.billing_banner.finalized_invoice.figjam_seat_quantity",{quantityAdded:c})),1===t.quarter)?(0,l.t)("org_admin_settings.billing_banner_figjam.finalized_renewal.template",{seatCountsText:(0,o.Oy)(a)}):(0,l.t)("org_admin_settings.billing_banner_figjam.finalized_trueup_invoice.seat_rename.template",{date:(0,i.c)(t.due_at).format("MMM D"),seatCountsText:(0,o.Oy)(a)})}function T(e){switch(e){case null:return(0,l.t)("org_settings.guest_control.null");case u.wt.REQUIRE_APPROVAL:return(0,l.t)("org_settings.guest_control.require_approval");case u.wt.BANNED:return(0,l.t)("org_settings.guest_control.banned");default:(0,n.gy)(e)}}function S(e){switch(e){case c.U3.COST_CENTER:return(0,l.t)("scim_metadata_display_text.cost_center");case c.U3.ORGANIZATION:return(0,l.t)("scim_metadata_display_text.organization");case c.U3.DIVISION:return(0,l.t)("scim_metadata_display_text.division");case c.U3.DEPARTMENT:return(0,l.t)("scim_metadata_display_text.department");default:(0,n.gy)(e)}}function C(e){return!!(e&&e.bigma_enabled)}function A(e,t,r,n){return!(0,_.MV)(n,null)&&null!=r.subscription&&!!e&&!t}function O(e){return!!(e&&e.bigma_enabled)}function N(e){return!!(null==e?void 0:e.domain_capture)&&O(e)}function L(e,t,r){var n;if(!(0,m.yW)(e)||t)return!1;let i=!!(null==(n=null==r?void 0:r.privilegedOrgUser)?void 0:n.licenseGroupMember),a=((null==r?void 0:r.teamRoles)||[]).some(e=>{var t;return null==(t=e.team)?void 0:t.licenseGroupId});return i||a}function R(e){let t=v(e);return!!(t&&(0,d.canMemberOrg)(t.id,(0,d.getPermissionsState)(e)))&&!!t.workspaces_count}let P=new RegExp(/[https?:?\/\/]?[a-z.]*figma[.\da-z:]*\/files\/(\d+)/);function M(e){return P.test(e)}function k(e){let t=e.match(P);return t?t[1]:null}function D(e){var t;return e.bigma_enabled?null==(t=e.shared_org_license_group_settings)?void 0:t.team_creation_controls:null}function F(e){return x(e)}function x(e){return!!(null==e?void 0:e.bigma_enabled)}function U(e){return(0,s.eM)(e)}function B(e){return(null==e?void 0:e.bigma_enabled)===!0}},815464:(e,t,r)=>{"use strict";let n;r.d(t,{An:()=>F,CG:()=>S,Do:()=>w,EF:()=>$,EX:()=>G,G8:()=>P,Ih:()=>M,KQ:()=>U,Kc:()=>N,Mp:()=>g,So:()=>R,Ul:()=>f,WS:()=>J,We:()=>b,Yj:()=>D,ZO:()=>v,aK:()=>T,aO:()=>I,cx:()=>E,eG:()=>z,ew:()=>B,jj:()=>H,kP:()=>x,lr:()=>Q,mE:()=>y,o9:()=>X,oe:()=>K,ow:()=>q,qk:()=>O,qs:()=>Z,sL:()=>W,vt:()=>Y,wZ:()=>j,xY:()=>L,y:()=>k,yg:()=>C});var i=r(441748),a=r(796488),o=r(489376),l=r(967540),s=r(560072),c=r(596496),d=r(514916),u=r(553432),p=r(200800),m=r(559572),_=r(738008),h=r(492084),g=((n=g||{}).FREE="free",n.PRO="pro",n.ORG="org",n.ENT="ent",n.EDU="edu",n);let f="https://www.figma.com/pricing/#cid-20p4Q0lWSOxIWj30zTY6P2",E=2,y=1,b=3,v=3,I=500,w=5,T=4500,S=500,C=2500;function A(e){return e>new Date}function O(e){let t=e&&!e.org_id&&e.grace_period_end&&i.c.utc(e.grace_period_end);return!!t&&t.valueOf()>Date.now()}function N(e,t=14){return!!(e&&O(e))&&i.c.utc(e.grace_period_end).valueOf()-Date.now()<864e5*t}function L(e){return!!e&&null!=e.subscription&&e.subscription!==d.KU.INCOMPLETE}function R(e){return!!e&&(L(e)||e.student_team||!!e.grace_period_end&&A(new Date(e.grace_period_end)))}function P(e){if(!e)return!1;let{subscription:t,studentTeamAt:r,gracePeriodEnd:n}=e;return!!t&&t!==d.KU.INCOMPLETE||!!r||n&&A(n)}function M(e){return Object.values(e.teams).filter(t=>(0,u.canEditTeam)(t.id,e)&&(!R(t)||t.student_team))}function k(e){return Object.values(e.teams).filter(t=>(0,u.canEditTeam)(t.id,e)&&!R(t))}function D(e,t){var r;return e&&!L(e)&&!(null==(r=e.restrictions_list)?void 0:r.includes(d.u.LOCKED))&&(0,u.canEditTeam)(e.id,t)}function F(e,t,r,n){if(t&&!n&&G(t,r))return!0;let i=e&&r.folders[e];return!!i&&U(i,r,n)}function x(e,t,r){return F(e.folder_id,e.team_id,t,r)}function U(e,t,r){var n,i,a;return n=e.team_id?t.teams[e.team_id]:null,i=t.user,a=t.userEduGracePeriods,(!!e.team_id||"org_edit"!==e.sharing_audience_control)&&!!(!e.team_id&&!(0,c.ec)(e)||e.team_id&&(!r&&V(n,i,a)||!R(n)&&(e.is_invite_only||e.is_view_only)))}function B(e,t,r){return!(e.teamId||(0,c.AR)(e))||!!e.teamId&&(!!H(t,r)||(e.inviteOnlyAt||e.viewOnlyAt)&&!P(t))}function G(e,t){return V(t.teams[e],t.user,t.userEduGracePeriods)}function V(e,t,r){var n;return!!e&&!!t&&(e.student_team?!((0,o.i6)(t)||(0,o.qq)(r,e.id).isInValidGracePeriod):null==(n=e.restrictions_list)?void 0:n.includes(d.u.LOCKED))}function H(e,t){var r,n;return!!e&&!!t&&(e.studentTeamAt?!((0,o.i6)(t)||(null==(r=e.eduGracePeriod)?void 0:r.isValid)):null==(n=e.restrictionsList)?void 0:n.includes(d.u.LOCKED))}function W(e){return Object.values(e.teams).some(t=>G(t.id,e)&&(0,u.canEditTeam)(t.id,e))}function K(e,t){let r=t.orgById[e];return r&&r.standing===p.GW.DELINQUENT}function Y(e,t){let r=t.orgById[e];return r&&r.standing===p.GW.SUSPENDED}function q(e,t){if(e.data&&e.data.message){let r=(0,s.ID)(e);r&&t(l.M.error(r))}else{let r=(0,s.ID)(e,(0,s.gv)("error.unknown_contact_support"));t(l.M.error(r))}}function j(e,t){let r=(0,i.c)(e);return Math.round((0,i.c)(t).diff(r,"months",!0))}function $(e){return(0,i.c)(e).isAfter((0,i.c)(new Date),"second")?e:null}function Z(e,t){return e===m.SK.MONTHLY?0:t}function z(e,t){return e===m.SK.MONTHLY?t:0}function Q(e,t={downgrade:{design:[],whiteboard:[],slides:[]},upgrade:{design:[],whiteboard:[],slides:[]}},r){let n="whiteboard"===r?"whiteboard_paid_status":"design_paid_status";return e.filter(e=>!(0,a.qe)(e.email)&&(e[n]===_.wf.FULL&&!t.downgrade[r].includes(e.id)||t.upgrade[r].includes(e.id))).length}function X(e,t){let r=!1,n=null!==e?Object.values(e).reduce((e,n)=>{var i;if(!n.user)return e;let a={id:n.user.id,design_paid_status:n.design_paid_status,whiteboard_paid_status:n.whiteboard_paid_status,email:n.user.email||"",handle:n.user.handle||"",img_url:n.user.img_url||""};return(null==(i=n.user)?void 0:i.id)===(null==t?void 0:t.id)?(r=!0,e.unshift(a)):e.push(a),e},[]):[];return!r&&t&&n.unshift({id:t.id,design_paid_status:_.wf.STARTER,whiteboard_paid_status:_.wf.STARTER,email:t.email,handle:t.handle,img_url:t.img_url}),n}function J(e,t){return Math.max(e,t)-t}(0,h.m)(()=>{if(navigator){let e=navigator.languages;if(e&&e[0])return e[0];let t=navigator.language;if(t)return t}return"en-US"})},291336:(e,t,r)=>{"use strict";r.d(t,{AB:()=>v,Ab:()=>N,C_:()=>L,E1:()=>U,Gc:()=>y,KC:()=>M,MV:()=>I,Ms:()=>w,Om:()=>h,SS:()=>R,SU:()=>C,Uf:()=>f,YN:()=>E,_y:()=>D,aS:()=>x,ac:()=>b,cL:()=>A,gp:()=>g,o5:()=>F,uE:()=>O,uF:()=>k,uK:()=>P,u_:()=>S,w7:()=>_,wh:()=>T});var n=r(843148),i=r(226096),a=r(560072),o=r(288448),l=r(514916),s=r(949460),c=r(546772),d=r(738008),u=r(112044),p=r(927976),m=r(439460);function _(){return(0,i.O8)()&&!(0,n.Ub)().integ_zoom_allow_extensions?{canRun:!1,message:(0,a.t)("widgets.no_zoom_widgets_plugins")}:{canRun:!0}}function h({copyExportRestrictedArgs:e}){return!(e&&f(e))}function g(e){return(0,p.ie)(e.selectedView)?(0,o.y2)(e)&&h({copyExportRestrictedArgs:e.openFile}):(!(0,i.O8)()||!!(0,n.Ub)().integ_zoom_allow_extensions)&&!e.mirror.appModel.isReadOnly}function f(e){return!e.canEdit&&e.viewerExportRestricted}function E(e,t){return!e||("whiteboard"===t?"starter"===e.whiteboard_paid_status:"starter"===e.design_paid_status)}let y=r(720620).G;function b(e){switch(e){case l.y6.GUEST:return(0,a.t)("general.guest");case l.y6.MEMBER:return(0,a.t)("general.member");case l.y6.ADMIN:return(0,a.t)("general.admin")}}function v(e){return(0,s.W)(e)}function I(e,t){return!!(e&&e.external_restricted_org_id&&e.external_restricted_org_id!==t)}function w(e){return!!(e&&e.external_restricted_org_id)}function T(e,t){return"whiteboard"===t?e&&e.whiteboard_paid_status===l.m8.RESTRICTED:e&&e.design_paid_status===l.m8.RESTRICTED}function S(e,t){return"whiteboard"===t?e&&e.whiteboard_paid_status===d.wf.RESTRICTED:e&&e.design_paid_status===d.wf.RESTRICTED}function C(e,t){return"whiteboard"===t?e&&e.whiteboardPaidStatus===d.wf.RESTRICTED:e&&e.designPaidStatus===d.wf.RESTRICTED}function A(e,t){return!C(null==e?void 0:e.currentTeamUser,t)&&((null==e?void 0:e.subscription)!==null||(null==e?void 0:e.studentTeamAt)!==null||(null==e?void 0:e.gracePeriodEnd)&&e.gracePeriodEnd>new Date)}function O(e){return e&&!!e.orgId}function N(e,t){return"whiteboard"===t?!!e&&e.whiteboard_paid_status===d.wf.FULL:!!e&&e.design_paid_status===d.wf.FULL}function L(e){return{[l.Ix.PUBLIC]:(0,a.t)("org_access_strings.anyone_at",{orgName:e}),[l.Ix.PRIVATE]:(0,a.t)("org_access_strings.invite_only"),[l.Ix.SECRET]:(0,a.t)("org_access_strings.hidden")}}function R(){return{[l.Ix.PUBLIC]:(0,a.t)("org_access_strings.open"),[l.Ix.PRIVATE]:(0,a.t)("org_access_strings.closed"),[l.Ix.SECRET]:(0,a.t)("org_access_strings.secret")}}function P(){return{[u.kB.ORG_BROWSABLE]:(0,a.t)("team_creation.visible"),[u.kB.HIDDEN]:(0,a.t)("team_creation.hidden")}}function M(){return{[l.Q9.EDIT]:(0,a.t)("team_creation.can_edit"),[l.Q9.VIEW]:(0,a.t)("team_creation.can_view")}}function k(e){switch(e){case c.m.OWNER:return(0,a.t)("permissions.level_name_capitalized.owner");case c.m.ADMIN:return(0,a.t)("permissions.level_name_capitalized.admin");case c.m.EDITOR:return(0,a.t)("permissions.level_name_capitalized.can_edit");case c.m.VIEWER:return(0,a.t)("permissions.level_name_capitalized.can_view");case c.m.VIEW_PROTOTYPES:return(0,a.t)("permissions.level_name_capitalized.can_view_prototypes");default:return(0,a.t)("permissions.level_name_capitalized.none")}}function D(e,t){switch(e){case c.m.OWNER:return t?(0,a.t)("permissions.level_name.branch_owner"):(0,a.t)("permissions.level_name.owner");case c.m.ADMIN:return(0,a.t)("permissions.level_name.admin");case c.m.EDITOR:return(0,a.t)("permissions.level_name.can_edit");case c.m.VIEWER:return(0,a.t)("permissions.level_name.can_view");case c.m.VIEW_PROTOTYPES:return(0,a.t)("permissions.level_name.can_view_prototypes");default:return(0,a.t)("permissions.level_name.none")}}function F(e){switch(e){case c.m.OWNER:return(0,a.t)("permissions.level_role_name.owner");case c.m.ADMIN:return(0,a.t)("permissions.level_role_name.admin");case c.m.EDITOR:return(0,a.t)("permissions.level_role_name.editor");case c.m.VIEWER:return(0,a.t)("permissions.level_role_name.viewer");case c.m.VIEW_PROTOTYPES:return(0,a.t)("permissions.level_role_name.prototype_viewer");default:return""}}function x({role:e,file:t,folder:r=null}){if(e.level!==c.m.VIEWER&&e.level!==c.m.VIEW_PROTOTYPES)return null;let n=(0,m.oR)(t);switch(e.level){case c.m.VIEWER:{if(t.link_access===l.O6.EDIT)return(0,a.t)("permissions.can_still_edit_anybody_with_the_link",{noun:n});if(t.link_access===l.O6.ORG_EDIT&&e.org_user&&e.org_user.permission!==l.y6.GUEST)return(0,a.t)("permissions.can_still_edit_org_member_with_link",{noun:n});if(e.pending)break;let i=!!r&&!r.is_invite_only&&!r.is_view_only&&!(""===r.name&&r.team_id);return B(!!e.teamLevel&&e.teamLevel>c.m.VIEWER&&(!r||i),!!e.folderLevel&&e.folderLevel>c.m.VIEWER,!!e.repoLevel&&e.repoLevel>c.m.VIEWER)}case c.m.VIEW_PROTOTYPES:{if(t.link_access===l.O6.EDIT)return(0,a.t)("permissions.can_still_see_and_edit_anybody_with_the_link_noun",{noun:n});if(t.link_access===l.O6.ORG_EDIT&&e.org_user&&e.org_user.permission!==l.y6.GUEST)return(0,a.t)("permissions.can_still_see_and_edit_allow_editing_by_org_members_with_link",{noun:n});if(e.pending)break;let i=r&&!r.is_invite_only&&!r.is_view_only;if(e.teamLevel&&e.teamLevel>c.m.VIEWER&&(!r||i))return(0,a.t)("permissions.can_still_see_and_edit_permission_team_file_is_in",{noun:n});if(e.folderLevel&&e.folderLevel>c.m.VIEWER)return(0,a.t)("permissions.can_still_see_and_edit_permission_team_project_is_in",{noun:n});if(e.repoLevel&&e.repoLevel>c.m.VIEWER)return(0,a.t)("permissions.can_still_see_and_edit_permission_main_file",{noun:n});if(t.link_access===l.O6.VIEW)return(0,a.t)("permissions.can_still_edit_allow_view_anybody_with_link",{noun:n});if(t.link_access===l.O6.ORG_VIEW&&e.org_user&&e.org_user.permission!==l.y6.GUEST)return(0,a.t)("permissions.can_still_edit_allow_edit_anybody_with_link",{noun:n});if(e.teamLevel&&e.teamLevel>=c.m.VIEWER&&(!r||i))return(0,a.t)("permissions.can_still_see_permission_team_file_is_on",{noun:n});if(e.folderLevel&&e.folderLevel>=c.m.VIEWER)return(0,a.t)("permissions.can_still_see_permission_project_file_is_on",{noun:n});if(e.repoLevel&&e.repoLevel>=c.m.VIEWER)return(0,a.t)("permissions.can_still_see_edit_permission_on_main_file",{noun:n})}}return null}function U({file:e,seenState:t,folder:r=null}){let n=(0,m.oR)(e);if(e.link_access===l.O6.EDIT)return(0,a.t)("permissions.can_still_edit_anybody_with_the_link",{noun:n});let i=!!r&&!r.is_invite_only&&!r.is_view_only;return B(!!t.teamLevel&&t.teamLevel>c.m.VIEWER&&(!r||i),!!t.folderLevel&&t.folderLevel>c.m.VIEWER,!!t.repoLevel&&t.repoLevel>c.m.VIEWER)}function B(e,t,r){return e?(0,a.t)("permissions.can_still_edit_team_permissions"):t?(0,a.t)("permissions.can_still_edit_folder_permissions"):r?(0,a.t)("permissions.can_still_edit_edit_permissions"):null}},553432:(e,t,r)=>{"use strict";r.d(t,{canAccessFile:()=>et,canAccessRepo__DEPRECATED:()=>er,canAdminLicenseGroup:()=>ek,canAdminOrg:()=>eR,canAdminTeam:()=>em,canAdminWorkspace:()=>eD,canCreateFile:()=>eI,canCreateFileInFolder:()=>eT,canCreateFileLG:()=>ew,canCreateFileOrRequestUpgrade:()=>eb,canCreateFileOrRequestUpgradeLG:()=>ev,canEditFile:()=>X,canEditFileMemoized:()=>J,canEditFolder:()=>ec,canEditRepo:()=>eo,canEditRole:()=>eC,canEditTeam:()=>ep,canGuestOrg:()=>eN,canMakeAdmin:()=>eA,canManageFile:()=>ea,canManageNonSecretOrgTeam:()=>eF,canManageOrgTeam:()=>ex,canManageRepo:()=>el,canMemberOrg:()=>eL,canOwnFolder:()=>ed,canOwnTeam:()=>e_,canRequestToEdit:()=>ey,canUploadAndEditVideo:()=>ez,canUploadAndEditVideo_REDUX_GLOBAL_DEPRECATED:()=>eQ,canViewFile:()=>Q,canViewFileMetadata:()=>z,canViewFolder_DEPRECATED:()=>es,canViewPrototypes:()=>ee,canViewResource:()=>eS,canViewTeam:()=>eu,getDeleteReposForeverPayload:()=>e$,getDeleteReposPayload:()=>ej,getExplicitRoleForUserAndFile:()=>B,getPaidStatus:()=>eB,getPermissionsState:()=>C,getPermissionsStateMemoized:()=>A,getReadOnlyOverrideMessageForFolder:()=>eY,getResourceName:()=>P,getResourceTeamId:()=>R,getRestoreReposPayload:()=>eZ,getRolesForResource:()=>G,getRolesForUserAndTeam:()=>D,hasActiveEduTeam:()=>eV,hasAdminRoleAccessOnTeam:()=>eE,hasAdminRoleAccessOnTeam__DEPRECATED:()=>ef,hasEditorRoleAccessOnTeam:()=>eg,hasFileAccess:()=>$,hasMinRole:()=>k,hasOrgAccess:()=>eP,hasProTeamPaidStatus:()=>eG,hasTeamAccess:()=>H,hasViewerRoleAccessOnTeam:()=>eh,isCopyExportRestricted__DEPRECATED:()=>en,isFigJamDisabledForFolder:()=>eK,isFigJamDisabledForOrg:()=>eW,isFileFigjamDisabled:()=>eH,isOrgUserExternallyRestrictedFromState:()=>eU,isResourceOwner:()=>M,useGetPermissionsState:()=>L,useMemoizedPermissionsState:()=>O,usePermissionsState:()=>N,userIsAMemberOfAnOrg:()=>eM});var n=r(307824),i=r(120304),a=r(52664),o=r(161400),l=r(4580),s=r(843148),c=r(980068),d=r(489376),u=r(560072),p=r(997108),m=r(439460),_=r(596496),h=r(514916),g=r(658784),f=r(815464),E=r(115996),y=r(640140),b=r(546772),v=r(738008),I=r(291336),w=r(146124);function T(e,t,r,n,i,a,o,l,s,c,d,u,p,m,_,h){return{currentUserOrgId:e,user:t,fileByKey:r,repos:n,folders:i,teams:a,roles:o,orgById:l,orgDraftsOwners:s,orgUsersByOrgId:c,teamUserByTeamId:d,userEduGracePeriods:u,licenseGroups:p,orgTeams:m,openFile:_,currentTeamId:h}}let S=(0,c.ei)(T);function C(e){return T(e.currentUserOrgId,e.user,e.fileByKey,e.repos,e.folders,e.teams,e.roles,e.orgById,e.orgDraftsOwners,e.orgUsersByOrgId,e.teamUserByTeamId,e.userEduGracePeriods,e.licenseGroups,e.orgTeams,e.openFile,e.currentTeamId)}function A(e){return S(e.currentUserOrgId,e.user,e.fileByKey,e.repos,e.folders,e.teams,e.roles,e.orgById,e.orgDraftsOwners,e.orgUsersByOrgId,e.teamUserByTeamId,e.userEduGracePeriods,e.licenseGroups,e.orgTeams,e.openFile,e.currentTeamId)}function O(){let e=(0,i.w1)(e=>e.currentUserOrgId),t=(0,i.w1)(e=>e.user),r=(0,i.w1)(e=>e.fileByKey),a=(0,i.w1)(e=>e.repos),o=(0,i.w1)(e=>e.folders),l=(0,i.w1)(e=>e.teams),s=(0,i.w1)(e=>e.roles),c=(0,i.w1)(e=>e.orgById),d=(0,i.w1)(e=>e.orgDraftsOwners),u=(0,i.w1)(e=>e.orgUsersByOrgId),p=(0,i.w1)(e=>e.teamUserByTeamId),m=(0,i.w1)(e=>e.userEduGracePeriods),_=(0,i.w1)(e=>e.licenseGroups),h=(0,i.w1)(e=>e.orgTeams),g=(0,i.w1)(e=>e.openFile),f=(0,i.w1)(e=>e.currentTeamId);return n.useMemo(()=>C({currentUserOrgId:e,user:t,fileByKey:r,repos:a,folders:o,teams:l,roles:s,orgById:c,orgDraftsOwners:d,orgUsersByOrgId:u,teamUserByTeamId:p,userEduGracePeriods:m,licenseGroups:_,orgTeams:h,openFile:g,currentTeamId:f}),[e,r,o,_,g,c,d,h,u,a,s,p,l,t,m,f])}function N(){return(0,l.q)(e=>C(e))}function L(){let e=(0,i.o3)();return n.useCallback(()=>A(e.getState()),[e])}function R(e,t){switch(e.resource_type){case h.y4.FILE:let r=t.fileByKey[e.resource_id_or_key];return r&&r.team_id;case h.y4.FILE_REPO:let n=t.repos[e.resource_id_or_key],i=t.folders[null==n?void 0:n.folder_id];return i&&i.team_id;case h.y4.FOLDER:let a=t.folders[e.resource_id_or_key];return a&&a.team_id;case h.y4.TEAM:return e.resource_id_or_key}}function P(e,t){let r=function(e,t){switch(e.resource_type){case h.y4.FILE:return t.fileByKey[e.resource_id_or_key];case h.y4.FOLDER:return t.folders[e.resource_id_or_key];case h.y4.TEAM:return t.teams[e.resource_id_or_key]}}(e,t);if(r)return r.name}function M(e,t,r,n){let i=function(e,t){switch(t){case h.y4.FILE:return e.byFileKey;case h.y4.FILE_REPO:return e.byRepoId;case h.y4.FOLDER:return e.byFolderId;case h.y4.TEAM:return e.byTeamId}}(n,r)[t];return!!i&&e in i&&i[e].level===b.m.OWNER}function k(e,t){for(let r of e)if(r.level>=t)return!0;return!1}function D(e,t){var r;let n=null==(r=t.user)?void 0:r.id,i=t.roles;return e in i.byTeamId&&n&&n in i.byTeamId[e]?[i.byTeamId[e][n]]:[]}function F(e,t){let r=t.user&&t.user.id,n=[],i=t.roles;e in i.byFolderId&&r&&r in i.byFolderId[e]&&n.push(i.byFolderId[e][r]);let a=t.folders[e];return a&&a.team_id&&!a.is_invite_only&&(n=n.concat(D(a.team_id,t))),n}function x(e,t){let r=t.user&&t.user.id,n=t.roles,i=[];e in n.byRepoId&&r&&r in n.byRepoId[e]&&i.push(n.byRepoId[e][r]);let a=t.repos[e];return a&&(i=[...i,...F(a.folder_id,t)]),i}function U(e,t){let r=[],n=B(e,t);null!==n&&r.push(n);let i=t.fileByKey[e];return i&&i.folder_id&&(r=r.concat(F(i.folder_id,t))),i&&i.file_repo_id&&(r=[...r,...x(i.file_repo_id,t)]),r}function B(e,t){let r=t.user&&t.user.id,n=t.roles;return e in n.byFileKey&&r&&r in n.byFileKey[e]?n.byFileKey[e][r]:null}function G(e,t,r){switch(e){case h.y4.FILE:return U(t,r);case h.y4.FILE_REPO:return x(t,r);case h.y4.FOLDER:return F(t,r);case h.y4.TEAM:return D(t,r)}}function V(e,t,r){if(r.user&&!(0,d.i6)(r.user))return!1;let n=(0,E.Q)(e,r);if(!n)return!1;let i=!!r.user&&(0,d.kZ)(r.userEduGracePeriods,(0,d.i6)(r.user),n.id,n.student_team).showAccessRestricted;return t>b.m.VIEWER&&i}function H(e,t,r){var n;let i=(0,E.Q)(e,r);if(!i)return!1;let a=null==(n=r.user)?void 0:n.id,o=i.org_id,l=(0,w.A)(e,o),c=(0,s.Ub)().sc_open_team_deprecation&&l,d=i.sharing_audience_control;if(o){let n=!c&&t<=b.m.EDITOR&&eL(o,r)&&i.org_access===h.Ix.PUBLIC&&i.default_permission===h.Q9.EDIT,s=k(D(e,r),t),u=t<=b.m.ADMIN&&(s||eF(i,r,a)),p=!c&&t<=b.m.VIEWER&&eL(o,r)&&i.org_access===h.Ix.PUBLIC,m=l&&eL(o,r)&&(t<=b.m.VIEWER&&d===h.O6.ORG_VIEW||t<=b.m.EDITOR&&d===h.O6.ORG_EDIT);return(u||p||s||n||m)&&eN(o,r)}return W(e,t,r)}function W(e,t,r){return k(D(e,r),t)&&!V(e,t,r)}function K(e,t,r){let n;let i=r.user&&r.user.id,a=r.folders[e];if(!i||!a)return!1;let o=(0,_.yw)(a.id,r);if(o&&!eN(o,r))return!1;let l=a.team_id&&r.teams[a.team_id],c=(0,w.A)(a.team_id,o??null),d=(0,s.Ub)().sc_open_team_deprecation&&c,u=a.sharing_audience_control;if(!d&&o&&eL(o,r)&&t<=b.m.VIEWER&&l&&l.org_access===h.Ix.PUBLIC&&!a.is_invite_only||!d&&o&&eL(o,r)&&t<=b.m.EDITOR&&l&&l.org_access===h.Ix.PUBLIC&&!a.is_invite_only&&!a.is_view_only&&l.default_permission===h.Q9.EDIT||c&&o&&eL(o,r)&&(t<=b.m.EDITOR&&u===h.O6.ORG_EDIT||t<=b.m.VIEWER&&u===h.O6.ORG_VIEW))return!0;let p=F(e,r);return(p.forEach(e=>{e.resource_type===h.y4.FOLDER&&(n=e)}),!a.team_id||a.is_invite_only||a.is_view_only&&t>=b.m.EDITOR)?!!n&&n.level>=t:k(p,t)}function Y(e,t){return e.proto_link_access===h.eI.VIEW&&t<=b.m.VIEW_PROTOTYPES||(e.link_access===h.O6.EDIT||e.link_access===h.O6.VIEW)&&t<=b.m.VIEWER}function q(e,t,r){return!!(e.link_access===h.O6.EDIT&&t<=b.m.EDITOR||e.parent_org_id&&(e.link_access===h.O6.ORG_EDIT&&t<=b.m.EDITOR||e.link_access===h.O6.ORG_VIEW&&t<=b.m.VIEWER||e.proto_link_access===h.eI.ORG_VIEW&&t<=b.m.VIEW_PROTOTYPES)&&eL(e.parent_org_id,r))}function j(e,t,r,n){var i,a,o;let l=r.user&&r.user.id,s=r.repos[e];if(!l&&t>b.m.VIEWER||!s)return!1;if(!n&&(Y(s,t)||q(s,t,r)))return!0;let c=s.parent_org_id;if(c&&!eN(c,r))return!1;if(!c&&s.team_id){let e=r.user&&(null==(a=null==(i=r.teamUserByTeamId)?void 0:i[s.team_id])?void 0:a[r.user.id]);if((0,I.u_)(e,h.aE.DESIGN))return!1}let d=c&&l&&(null==(o=r.orgUsersByOrgId.orgUsers[c])?void 0:o[l]);return(!(d&&(0,I.wh)(d,h.aE.DESIGN))||!(t>b.m.VIEWER))&&k(x(s.id,r),t)}function $(e,t,r,n,i){let o=r.fileByKey[e];return!(!o||!Z(o,t,r,n,i)||Z(o,b.m.EDITOR,r)&&function(e,t){var r,n,i;let o=t.user;if(!o||!e)return!1;let l=e.file_repo_id?t.repos[e.file_repo_id]??(0,a.q)(t,"file_repo",e.file_repo_id):null,s=e.team_id?t.teams[e.team_id]??(0,a.q)(t,"team",e.team_id):null,c=e.team_id?(null==(n=null==(r=t.teamUserByTeamId)?void 0:r[e.team_id])?void 0:n[o.id])??(0,a.q)(t,"team_user",e.team_id):null;return function(e,t,r,n,i,a){var o,l;if(!e.parent_org_id&&!e.team_id)return!1;let s=i?i.folder_id:e.folder_id;return e.parent_org_id?("whiteboard"!==(o=e.editor_type)||null==n||!n.figjam_disabled_at)&&!!s&&(!a||s!==a.drafts_folder_id)&&(!a||"whiteboard"===o||a.design_paid_status===h.m8.STARTER)&&(!a||"whiteboard"!==o||a.whiteboard_paid_status===h.m8.STARTER)&&(!n||!(0,p.wl)(n)):!e.parent_org_id&&!!e.team_id&&(l=e.editor_type,!!(t&&(0,f.xY)(t))&&!!(0,I.YN)(r,l)&&!(0,p.G4)(t.id))}(e,s,c,t.currentUserOrgId?t.orgById[t.currentUserOrgId]??(0,a.q)(t,"org",t.currentUserOrgId):null,l,t.currentUserOrgId?(null==(i=t.orgUsersByOrgId.orgUsers[t.currentUserOrgId])?void 0:i[o.id])??(0,a.q)(t,"org_user",t.currentUserOrgId):null)}(o,r)&&t>=b.m.EDITOR)}function Z(e,t,r,n,i){let a=r.user&&r.user.id;if(!e||function(e,t,r){var n,i,a;let o=t.currentUserOrgId,l=o&&t.user&&(null==(n=t.orgUsersByOrgId.orgUsers[o])?void 0:n[t.user.id]);if(r>b.m.VIEWER&&eU(t))return!0;if(!e.parent_org_id){if(!e.team_id)return!1;let n=t.user&&(null==(a=null==(i=t.teamUserByTeamId)?void 0:i[e.team_id])?void 0:a[t.user.id]);return r>b.m.VIEWER&&(0,I.u_)(n,e.editor_type)}if(!l)return!1;let s=e.folder_id;return(!s||l.drafts_folder_id!==s)&&!!(s&&(0,I.wh)(t.orgDraftsOwners[s],e.editor_type)&&(r>=b.m.VIEWER||r===b.m.VIEW_PROTOTYPES)||(0,I.wh)(l,e.editor_type)&&r>b.m.VIEWER)}(e,r,t)||e.deleted_at||(e.trashed_at&&t<b.m.VIEW_METADATA&&(t=b.m.VIEW_METADATA),!i&&e.trashed_at&&(0,m.wB)(e)&&t>=b.m.EDITOR))return!1;if(!n&&e.is_try_file&&!e.trashed_at&&t<=b.m.VIEWER||!n&&Y(e,t))return!0;if(!a&&t>b.m.VIEWER)return!1;if(!n&&q(e,t,r))return!0;if(e.parent_org_id&&!eN(e.parent_org_id,r))return!1;if(!n){let n=(0,m.D$)(e,r.repos);if(n&&(Y(n,t)||q(n,t,r)))return!0}if(e.folder_id&&e.team_id){let n=(0,E.Q)(e.team_id,r),i=r.folders[e.folder_id],a=(0,_.yw)(null==i?void 0:i.id,r);if(i&&n&&a&&eL(a,r)&&n.org_access===h.Ix.PUBLIC&&!i.is_invite_only&&(t<=b.m.VIEWER||t<=b.m.EDITOR&&!i.is_view_only&&n.default_permission===h.Q9.EDIT))return!0}let o=!!e.team_id&&!!a&&H(e.team_id,t,r),l=!1;if(U(e.key,r).forEach(e=>{switch(e.resource_type){case h.y4.FILE:case h.y4.FILE_REPO:case h.y4.FOLDER:e.level>=t&&(l=!0)}}),l)return!0;if(o){let n=e.folder_id;return!n||K(n,t,r)}return!1}function z(e,t,r){return $(e,b.m.VIEW_METADATA,t,r)}function Q(e,t,r){return $(e,b.m.VIEWER,t,r)}function X(e,t,r,n,i){if(!e)return!1;let a=t.fileByKey[e];return!(!a||!r&&(0,f.kP)(a,t,i))&&$(e,b.m.EDITOR,t,void 0,n)}(0,c.ei)((e,t)=>(function(e,t){return U(e.key,t).forEach(e=>{if(e.level<=b.m.VIEW_PROTOTYPES)return!0}),e.link_access===h.O6.INHERIT&&(e.proto_link_access===h.eI.VIEW||e.proto_link_access===h.eI.ORG_VIEW)})(e,t)),(0,c.ei)((e,t)=>Q(e,t));let J=(0,c.ei)((e,t)=>X(e,t));function ee(e,t,r){return $(e,b.m.VIEW_PROTOTYPES,t,r)}function et(e,t,r){return"prototype"===r?ee(e,t):Q(e,t)}function er(e,t,r){return Object.entries(t.fileByKey).some(([n,i])=>i.file_repo_id===e&&et(n,t,r))}function en(e,t){if(!e)return!1;let r=t.fileByKey[e];return!!r&&!X(e,t)&&!!r.viewer_export_restricted}function ei(e,t,r,n,i,a){var o,l;let s=!1,c=n.user&&n.user.id;if(!c||n.currentUserOrgId&&!eN(n.currentUserOrgId,n)||(0,I.MV)(n.user,n.currentUserOrgId))return!1;if(null===e)return!0;if(!i&&(0,f.An)(e,t,n,a))return!1;let d=n.roles.byFolderId[e];return d&&c&&c in d&&(s=d[c].level>=b.m.EDITOR),!!s||(t?!!eg(t,n)&&ec(e,n):!t&&!!r&&(null==(l=null==(o=n.orgDraftsOwners)?void 0:o[e])?void 0:l.design_paid_status)!=="restricted")}function ea(e,t,r,n){let i=t.user&&t.user.id,a=t.fileByKey[e];if(!i||!a)return!1;if((0,m.D$)(a,t.repos))return X(e,t,r,!0,n);let o=!1,l=t.roles.byFileKey[e];return l&&i&&i in l&&(o=l[i].level>=b.m.OWNER),ei(a.folder_id,a.team_id,o,t,r,n)}function eo(e,t,r){return j(e,b.m.EDITOR,t,r)}function el(e,t,r){let n=t.repos[e];return!!n&&!!t.folders[n.folder_id]&&ei(n.folder_id,n.team_id,j(e,b.m.OWNER,t),t,r)}function es(e,t){return K(e,b.m.VIEWER,t)}function ec(e,t){return K(e,b.m.EDITOR,t)}function ed(e,t){return K(e,b.m.OWNER,t)}function eu(e,t){return H(e,b.m.VIEWER,t)}function ep(e,t){return H(e,b.m.EDITOR,t)}function em(e,t){return H(e,b.m.ADMIN,t)}function e_(e,t){return H(e,b.m.OWNER,t)}function eh(e,t){return W(e,b.m.VIEWER,t)}function eg(e,t){return W(e,b.m.EDITOR,t)}function ef(e,t,r){var n;return n=b.m.ADMIN,k(function(e,t,r){let n=t.roles;return e in n.byTeamId&&r&&r in n.byTeamId[e]?[n.byTeamId[e][r]]:[]}(e,t,r),n)&&!V(e,n,t)}function eE(e,t){return W(e,b.m.ADMIN,t)}function ey(e){var t;let r=e.openFile;if(!r)return!1;let n=e.user,i=r&&e.roles.byFileKey[r.key],a=i&&n&&(null==(t=i[n.id])?void 0:t.level)===b.m.VIEWER,o=!e.currentUserOrgId&&r&&!r.teamId&&!r.parentOrgId,l=r&&r.linkAccess===h.O6.EDIT;return a&&o&&!l}function eb(e,t,r){return function(e,t,r,n){var i;let a=r.currentUserOrgId&&r.orgUsersByOrgId.orgUsers[r.currentUserOrgId],o=(null==(i=r.user)?void 0:i.id)&&a&&a[r.user.id],l=!!o&&(0,I.wh)(o,n),s=eW(r.currentUserOrgId,r),c=!!(l&&("design"===n||!s));if(eU(r))return!1;let d=t?ec(t,r)&&c:c;return e||d}(eI(e,t,r),e,t,r)}function ev(e,t,r){return function(e,t,r,n){var i;let a=r.currentUserOrgId&&r.orgUsersByOrgId.orgUsers[r.currentUserOrgId],o=(null==(i=r.user)?void 0:i.id)&&a&&a[r.user.id],l=!!o&&(0,I.wh)(o,n),s=eW(r.currentUserOrgId,r),c=!!(l&&("design"===n||!s));if(eU(r))return!1;let d=t.canEdit&&c;return e||d}(ew(e,t,r),e,t,r)}function eI(e,t,r){let n=e?(0,_.yw)(e,t):t.currentUserOrgId;return!("whiteboard"===r&&eW(n||null,t)||(0,I.MV)(t.user,n))&&(!e||eT(t.folders[e],t,r))}function ew(e,t,r){var n,i,a,o;let l=e.orgId||(e.teamId?null==(n=t.teams[e.teamId])?void 0:n.org_id:null)||null;if("whiteboard"===r&&eW(l,t)||(0,I.MV)(t.user,l))return!1;let s=t.user&&t.user.id;if(l){let n=s?null==(i=t.orgUsersByOrgId.orgUsers[l])?void 0:i[s]:null;if(!n||""===e.path&&n.drafts_folder_id!==e.id)return!1;if(e.id===n.drafts_folder_id)return!0;if((0,I.wh)(n,r))return!1}else{let n=e.teamId&&s&&(null==(o=null==(a=null==t?void 0:t.teamUserByTeamId)?void 0:a[e.teamId])?void 0:o[s])||null;if((0,I.u_)(n,r))return!1}return e.canEdit}function eT(e,t,r,n){var i,a,o,l,c;let d=t.currentUserOrgId;if(!e)return!1;if(d){let a=t.user&&t.user.id,o=a?null==(i=t.orgUsersByOrgId.orgUsers[d])?void 0:i[a]:null;return(""!==e.name||(null==o?void 0:o.drafts_folder_id)===e.id)&&(l=e.id,c=r||h.aE.DESIGN,!!o&&(l===o.drafts_folder_id||!(0,I.wh)(o,c)&&(void 0!==n?n:ec(l,t))))}{let i=t.user&&t.user.id,l=(0,s.Ub)().ps_benchmark&&(0,_.ms)(e),c=e.team_id&&i&&(null==(o=null==(a=null==t?void 0:t.teamUserByTeamId)?void 0:a[e.team_id])?void 0:o[i])||null;return(!(0,I.u_)(c,r)||!!l)&&(void 0!==n?n:ec(e.id,t))}}function eS(e,t,r){switch(e){case h.y4.FILE:return Q(t,r,!1);case h.y4.FILE_REPO:return j(t,b.m.VIEWER,r);case h.y4.FOLDER:return es(t,r);case h.y4.TEAM:return eu(t,r)}}function eC(e,t){return e.level!==b.m.OWNER&&(e.level===b.m.ADMIN?eA(e.resource_type,e.resource_id_or_key,t):function(e,t,r){switch(e){case h.y4.FILE:return X(t,r,!1);case h.y4.FILE_REPO:return eo(t,r);case h.y4.FOLDER:return ec(t,r);case h.y4.TEAM:return ep(t,r)}}(e.resource_type,e.resource_id_or_key,t))}function eA(e,t,r){return e===h.y4.TEAM&&em(t,r)}function eO(e,t,r){var n;return r?(null==(n=e.orgUsersByOrgId.orgUsers[t])?void 0:n[r])??(0,a.q)(e,"org_user",t):null}function eN(e,t){let r=t.user;if(!e||!r)return!1;let n=t.orgById[e]??(0,a.q)(t,"org",e);return eP(eO(t,e,r.id),n,y.I$.GUEST)}function eL(e,t,r){var n;if(!e)return!1;r=r||(null==(n=t.user)?void 0:n.id);let i=t.orgById[e]??(0,a.q)(t,"org",e);return eP(eO(t,e,r),i,y.I$.MEMBER)}function eR(e,t,r){var n;if(!e)return!1;let i=t.orgById[e]??(0,a.q)(t,"org",e);return r=r||(null==(n=t.user)?void 0:n.id),eP(eO(t,e,r),i,y.I$.ADMIN)}function eP(e,t,r){return!!t&&!!e&&(0,I.Gc)(e.permission)>=r}function eM(e,t){return(0,g.C1)(e.orgUsersByOrgId.orgUsers,t).some(r=>eL(r.org_id,e,t))}function ek(e,t,r){var n,i;return r=r||(null==(n=t.user)?void 0:n.id),!!(e&&t.licenseGroups&&(null==(i=t.licenseGroups[e])?void 0:i.admin_users_metadata.some(e=>e.id===r)))}function eD(e,t,r){var n,i,a,o,l;r=r||(null==(n=t.user)?void 0:n.id);let s=t.currentUserOrgId;return!!(e&&r&&s&&(null==(l=null==(o=null==(a=null==(i=t.orgUsersByOrgId)?void 0:i.orgUsers)?void 0:a[s])?void 0:o[r].workspace_users)?void 0:l.find(t=>t.permission===h.i0.ADMIN&&t.workspace_id===e)))}function eF(e,t,r){return e.org_access!==h.Ix.SECRET&&ex(e.id,t,r)}function ex(e,t,r){var n;if(!(r=r||(null==(n=t.user)?void 0:n.id))||!e||!t.currentUserOrgId)return!1;let i=t.currentUserOrgId&&t.user&&t.orgUsersByOrgId.orgUsers[t.currentUserOrgId]?t.orgUsersByOrgId.orgUsers[t.currentUserOrgId][r]:null;null===i&&(i=(0,a.q)(t,"org_user",t.currentUserOrgId));let o=(0,E.Q)(e,t);if(!o||!i||t.currentUserOrgId!==o.org_id)return!1;if(eE(e,t))return!0;let l=eR(t.currentUserOrgId,t,r);return o.org_access!==h.Ix.SECRET&&(l||!!(o.workspace_id&&eD(o.workspace_id,t,r)))}function eU(e){return(0,I.MV)(e.user,e.currentUserOrgId)}function eB(e,t,r,n){let i=t.parent_org_id&&e.orgUsersByOrgId.orgUsers[t.parent_org_id]&&e.orgUsersByOrgId.orgUsers[t.parent_org_id][r],a=t.team_id&&e.teamUserByTeamId&&e.teamUserByTeamId[t.team_id]&&e.teamUserByTeamId[t.team_id][r],o="";return i?o="design"===n?i.design_paid_status:i.whiteboard_paid_status:!i&&a&&(o="design"===n?a.design_paid_status:a.whiteboard_paid_status),o}function eG(e,t,r){if(!t||!r)return!1;let n="whiteboard"===t?"whiteboard_paid_status":"design_paid_status";return!!Object.entries(e.teamUserByTeamId||{}).find(([t,i])=>{var a,o;return(null==(a=i[r])?void 0:a[n])===v.wf.FULL&&(null==(o=e.teams[t])?void 0:o.pro_team)})}function eV(e,t){return!!t&&null!=Object.entries(e.teamUserByTeamId??{}).find(([r,n])=>{let i=e.teams[r];return!!(null==i?void 0:i.student_team_at)&&null!=n[t]})}function eH(e,t){var r;return"whiteboard"===e.editorType&&!!e.parentOrgId&&!!(null==(r=t.orgById[e.parentOrgId])?void 0:r.figjam_disabled_at)}function eW(e,t){var r;return!!e&&!!(null==(r=t.orgById[e])?void 0:r.figjam_disabled_at)}function eK(e,t){return eW((0,_.yw)(e.id,t)||null,t)}function eY(e,t){if(e.level!==b.m.VIEWER&&e.level!==b.m.VIEW_PROTOTYPES)return null;let r=t.folders[e.resource_id_or_key];if(!r)return null;let n=e.user_id&&r.team_id&&t.roles.byTeamId[r.team_id]&&t.roles.byTeamId[r.team_id][e.user_id],i=!r.is_invite_only&&!r.is_view_only;return n&&n.level>b.m.VIEWER&&i?(0,u.t)("permissions.can_still_edit_team_project_is_in"):null}function eq(e,t,r=!1,n){let i={...e};if(!r)return i;for(let r in e)r in t.repos&&!el(r,t,n)&&delete i[r];return i}function ej(e,t,r,n){let i={},a=n||eq(e,t,r,!0);for(let e in a){let r=t.repos[e];if(!r)continue;let n=t.fileByKey[r.default_file_key];if(!n)break;r.trashed_at||(i[e]={repo:r,main_file:n})}return i}function e$(e,t,r){let n={},i=eq(e,t,r,!0);for(let e in i){let r=t.repos[e];r.trashed_at&&(n[e]=r)}return n}function eZ(e,t,r){let n={},i=eq(e,t,r,!0);for(let e in i){let r=t.repos[e];r.trashed_at&&(n[e]=r)}return n}function ez(e,t){return!!e&&!!e.canEdit&&(e.team?(0,f.So)(e.teamId?t.teams[e.teamId]:void 0):!!e.parentOrgId)}function eQ(){if(void 0===o.x)return!1;let e=o.x.getState(),t=C(e);return ez(e.openFile,t)}},971032:(e,t,r)=>{"use strict";let n;r.d(t,{AT:()=>q,Af:()=>D,C2:()=>em,CM:()=>F,EZ:()=>eT,G6:()=>$,GQ:()=>e_,Ic:()=>x,K8:()=>k,KI:()=>eb,M9:()=>X,Mf:()=>N,Mh:()=>eu,Mz:()=>el,Qn:()=>Q,Sq:()=>ep,UN:()=>et,Ut:()=>eI,WI:()=>S,_E:()=>L,_Q:()=>M,_h:()=>z,_k:()=>ey,aU:()=>V,ae:()=>eh,cJ:()=>en,cX:()=>eE,cc:()=>j,cd:()=>C,eM:()=>H,e_:()=>J,es:()=>U,f5:()=>es,gB:()=>Y,gf:()=>er,iK:()=>W,kR:()=>P,kb:()=>R,mY:()=>ev,op:()=>eo,q:()=>Z,q0:()=>eg,qW:()=>n,qg:()=>G,s$:()=>A,uR:()=>K,wh:()=>T,yq:()=>O});var i=r(972920),a=r(326660),o=r(58908),l=r(762820),s=r(416532),c=r(649496),d=r(907152);let u=[],p=[],m=[],_=[],h=[],g=[],f=[],E=[],y=[],b=[],v=[],I=null,w=new class{constructor(){this.task=null,this.eventByGuid=new Map,this.styleEventByGuid=new Map,this.nodeEventByGuid=new Map,this.timeOutMs=100,this.flush=()=>{let e=[];for(let t of this.eventByGuid.values())if("NONE"!==t.nodeType)for(let r of t.events)e.push(this.injectTypeIntoEvent(t,r));for(let t of h)t(e);let t=[];for(let e of this.styleEventByGuid.values())if("NONE"!==e.nodeType)for(let r of e.events)t.push(r);for(let e of g)e(t);let r=[];for(let e of this.nodeEventByGuid.values())if("NONE"!==e.nodeType)for(let t of e.events)r.push({...t,nodeType:e.nodeType});for(let e of f)e(r);this.eventByGuid.clear(),this.styleEventByGuid.clear(),this.nodeEventByGuid.clear(),this.task=null}}onEventFired(e){null==this.task&&(this.task=scheduler.postTask(this.flush,{delay:this.timeOutMs,priority:"user-visible"}));let t=this.eventByGuid.get(e.id)??{nodeType:this.publicNodeTypeFromEvent(e),events:[]};if(!t)return;"NONE"===t.nodeType&&(t.nodeType=this.publicNodeTypeFromEvent(e));let r=t.events.find(t=>t.type===e.type&&t.origin===e.origin);if(r)for(let t of e.properties)r.properties.add(t);else{let r=d.TSSceneGraph.instance.get(e.id);r&&(e.type===l.AHW.STYLE_PROPERTY_CHANGE||e.type===l.AHW.STYLE_CREATE||e.type===l.AHW.STYLE_DELETE?r.styleKey&&t.events.push({id:e.id,origin:e.origin,type:e.type,properties:new Set(e.properties),styleKey:(0,c.WH)({key:r.styleKey,version:r.styleVersionHash})}):t.events.push({id:e.id,origin:e.origin,type:e.type,properties:new Set(e.properties),devFriendlyId:d.TSSceneGraph.instance.developerFriendlyIdFromGuid(e.id),oldContainingCanvas:e.oldContainingCanvas}))}this.eventByGuid.set(e.id,t);let n=d.TSSceneGraph.instance.get(e.id);if(n){if(n.styleKey){let r=t.events.filter(e=>e.type===l.AHW.STYLE_DELETE||e.type===l.AHW.STYLE_CREATE||e.type===l.AHW.STYLE_PROPERTY_CHANGE);this.styleEventByGuid.set(e.id,{nodeType:this.publicNodeTypeFromEvent(e),events:r})}else{let r=t.events.filter(e=>e.type===l.AHW.CREATE||e.type===l.AHW.PROPERTY_CHANGE||e.type===l.AHW.DELETE).map(e=>{var t;let r="";return e.type===l.AHW.CREATE||e.type===l.AHW.PROPERTY_CHANGE?r=n.containingCanvas||"":e.type===l.AHW.DELETE&&(r=(null==(t=e.oldContainingCanvas)?void 0:t.toString())||""),""===r&&(0,a.oP)(o._.EXTENSIBILITY,Error("Containing canvas for nodechange event is empty")),{...e,containingCanvas:r}});this.nodeEventByGuid.set(e.id,{nodeType:this.publicNodeTypeFromEvent(e),events:r})}}}publicNodeTypeFromEvent(e){let t=d.TSSceneGraph.instance.get(e.id);return t&&(null==t?void 0:t.type)!=="NONE"?(0,s.G)(t):"NONE"}injectTypeIntoEvent(e,t){return t.type===l.AHW.CREATE||t.type===l.AHW.DELETE||t.type===l.AHW.PROPERTY_CHANGE?{...t,nodeType:e.nodeType}:t}};function T(){n={selectionChange(e){for(let t of u)e?t.boxSelection():t.normal()},drop(e){for(let t of _)if(!1===t(e))return!1;return!0},boxSelectionEnded(){for(let e of u)e.boxSelection.flush()},currentPageChange(){for(let e of p)e()},timerChange(e){for(let t of m)t(e)},documentChange(e){w.onEventFired(e)},codegenPreferencesChange(e){for(let t of E)t(e)},stackInvariantsEnforced(e){null==ew||ew(e)},pluginPageLoaded(e){for(let t of y)t(e)},pluginAccessibleNodeIds(){let e=new Set;for(let t of b)t().forEach(t=>e.add(t));return Array.from(e)},pluginAccessiblePages(){let e=new Set;for(let t of v)t().forEach(t=>e.add(t));return Array.from(e)}}}function S(e){u.push({normal:e,boxSelection:(0,i.C)(e,500)})}function C(e){u=u.filter(t=>t.normal!==e||(t.boxSelection.cancel(),!1))}function A(e){p.push(e)}function O(e){p=p.filter(t=>t!==e)}function N(e){m.push(e)}function L(e){m=m.filter(t=>t!==e)}function R(e){_.push(e)}function P(e){_=_.filter(t=>t!==e)}function M(e){y.push(e)}function k(e){y=y.filter(t=>t!==e)}function D(e){b.push(e)}function F(e){b=b.filter(t=>t!==e)}function x(e){v.push(e)}function U(e){v=v.filter(t=>t!==e)}function B(){h.length||g.length||f.length?l.u2q.setIsDocumentChangeCallbackRegistered(!0):l.u2q.setIsDocumentChangeCallbackRegistered(!1)}function G(e){h.push(e),B()}function V(e){h=h.filter(t=>t!==e),B()}function H(e){g.push(e),B()}function W(e){g=g.filter(t=>t!==e),B()}function K(e){f.push(e),B()}function Y(e){f=f.filter(t=>t!==e),B()}function q(e){E.push(e)}function j(e){E=E.filter(t=>t!==e)}let{set:$,remove:Z,has:z,run:Q}=eS(),{set:X,remove:J,has:ee,run:et,reset:er}=eS(),{set:en,remove:ei,has:ea,run:eo,reset:el}=eS(),{set:es,remove:ec,has:ed,run:eu,reset:ep}=eS(),{set:em,remove:e_,has:eh,run:eg,reset:ef,runOrTimeout:eE}=eS();function ey(e){I=e}function eb(){return!!I}function ev(){I=null}async function eI(){return!I||await I()}let ew=null;function eT(e){return ew=e,()=>ew=null}function eS(){let e;let t=new Promise(t=>{e=t}),r=null,n=()=>{t=new Promise(t=>{e=t}),r=null};return{set:t=>{r=t,e(t)},remove:e=>{e===r&&n()},has:()=>!!r,run:async(...e)=>{let r=await t;return await r(...e)},runOrTimeout:async(e,...r)=>{let n=new Promise(t=>{setTimeout(()=>{t()},e)}),i=await Promise.race([t,n]);return void 0===i?{didRun:!1}:{didRun:!0,returnValue:await i(...r)}},reset:n}}},12608:(e,t,r)=>{"use strict";r.d(t,{u:()=>l});var n=r(161400),i=r(843148),a=r(557044),o=r(394048);let l=new class{constructor(){this.forceRefresh=(e,t,r)=>{var l;if(!t.redirect_code_url)return Promise.reject(Error("Invalid code download url"));let s="",c=n.x.getState(),d={version_id:t.id,file_key:(null==(l=c.openFile)?void 0:l.key)||""};if(r&&(d.org_id=r),(0,i.Ub)().plugins_remove_syntax_checking){let r=(0,a.Gg)(t.redirect_code_url,d,{raw:!0}).then(({data:t})=>(delete this.requestsInFlight[e],this.cache[e]=t,t)).catch(t=>{throw delete this.requestsInFlight[e],t});return this.requestsInFlight[e]=r,r}let u=(0,a.Gg)(t.redirect_code_url,d,{raw:!0}).then(({data:e})=>(s=e,(0,o.c)(s))).then(t=>{if(!t.success)throw Error("code is not valid javascript");return delete this.requestsInFlight[e],this.cache[e]=s,s}).catch(t=>{throw delete this.requestsInFlight[e],t});return this.requestsInFlight[e]=u,u},this.getAndCache=(e,t)=>{let r=this.getPluginVersionOrEmptyVersionHash(e);return r?r in this.cache?Promise.resolve(this.cache[r]):r in this.requestsInFlight?this.requestsInFlight[r]:this.forceRefresh(r,e,t):Promise.resolve(null)},this.clearCache=()=>{this.cache=Object.create(null),this.requestsInFlight=Object.create(null)},this.clearCache()}getPluginVersionOrEmptyVersionHash(e){return e&&e.id&&e.plugin_id?`${e.plugin_id}:${e.id}`:null}}},325252:(e,t,r)=>{"use strict";r.d(t,{$z:()=>eX,A9:()=>e9,AR:()=>J,AV:()=>e0,Al:()=>eG,Az:()=>tn,CD:()=>e4,CO:()=>tc,C_:()=>eP,Cg:()=>ew,E9:()=>eR,Gu:()=>e7,IH:()=>tb,IL:()=>el,IZ:()=>eZ,Ij:()=>tv,KA:()=>eN,Ki:()=>e3,MI:()=>ef,Ml:()=>eu,Nr:()=>ts,Oq:()=>eL,Q$:()=>z,QT:()=>eA,Qv:()=>eK,Se:()=>eD,Sp:()=>e1,Sq:()=>ej,UL:()=>ea,UN:()=>e2,Ul:()=>e8,W$:()=>eF,W2:()=>eQ,Wc:()=>j,X1:()=>eY,Y9:()=>eI,YV:()=>e$,Yh:()=>td,Yl:()=>ev,_M:()=>ek,_Q:()=>tu,_g:()=>to,a2:()=>ex,a6:()=>X,aG:()=>eB,aZ:()=>ti,cf:()=>e6,eO:()=>en,eQ:()=>tg,es:()=>ty,ey:()=>ei,g9:()=>ed,gX:()=>tf,gf:()=>eq,gv:()=>ez,i:()=>e_,iC:()=>em,io:()=>tr,kJ:()=>eV,kT:()=>ep,mg:()=>te,mo:()=>et,o3:()=>eM,ox:()=>eC,qE:()=>eU,qI:()=>tm,qT:()=>ta,qW:()=>eS,qm:()=>eH,qw:()=>t_,sX:()=>tl,sd:()=>tt,wF:()=>ec,yE:()=>Q,yM:()=>tE,yq:()=>es,yx:()=>eO,z4:()=>th}),r(183428);var n=r(120304),i=r(139776),a=r(688420),o=r(796488),l=r(161400),s=r(843148),c=r(888932),d=r(422080),u=r(326660),p=r(936756),m=r(58908),_=r(234284),h=r(557044),g=r(560072),f=r(317704),E=r(693400),y=r(212980),b=r(408288),v=r(332320),I=r(747348),w=r(194540),T=r(585508),S=r(540696),C=r(917452),A=r(514916),O=r(717252),N=r(28464),L=r(228472),R=r(963280),P=r(520912),M=r(224100),k=r(765428),D=r(171680),F=r(215228),x=r(695712),U=r(236868),B=r(927976),G=r(417184),V=r(8396),H=r(436808),W=r(767433),K=r(73e3),Y=r(342512),q=r(291336);async function j(e,{ignoreMissingEditorType:t,resourceType:r,isPublishing:n}){var i;let a=await ep(e,{resourceType:r});if(t&&(null==(i=a.error)?void 0:i.text)===er)return a.manifest;if(a.error)throw Error((0,M.Eh)(a.error));return a.manifest}function $({parameters:e,parameterOnly:t},r){if(e&&function(e,t){if(!e.length)throw Error(`Expected "${t}.parameters" to have non-empty parameter list.`);let r=new Set;e.forEach(e=>{if(r.has(e.key))throw Error(`Expected "${t}.parameters" to have unique keys, but got more than one parameter with key: "${e.key}"`);r.add(e.key)});let n=!1;for(let{key:t,optional:r}of e){if(n&&!r)throw Error(`Optional parameters must be listed last in the parameter list. ${t} not marked as optional.`);r&&(n=!0)}}(e,r),t&&!e)throw Error(`Expected parameters to be defined for "${r}" marked as parameterOnly.`)}r(274900);let Z={design:M.gr.FIGMA,dev_handoff:M.gr.DEV,whiteboard:M.gr.FIGJAM,slides:M.gr.FIGMA,sites:M.gr.FIGMA};function z(e){return Z[e]}function Q(){return(0,n.w1)(e=>"fullscreen"===e.selectedView.view?Z[e.selectedView.editorType]:void 0)}function X(){let e=l.x.getState().selectedView;if("fullscreen"===e.view)return Z[e.editorType]}function J(e,t){return Array.isArray(t)?t.includes(e):e===M.gr.FIGMA}class ee extends Error{constructor(e,t){super(e),this.message=e,this.manifest=t}}function et(){return er}let er='Missing editorType in manifest.  Specify a combination of ["figma", "figjam", "dev"]';function en(e){return e?e.includes(M.gr.FIGMA)&&e.includes(M.gr.FIGJAM)?M.kr.UNIVERSAL:e.includes(M.gr.FIGJAM)?M.kr.FIGJAM:e.includes(M.gr.FIGMA)&&ty(e)?M.kr.FIGMA_AND_INSPECT:ty(e)?M.kr.INSPECT:M.kr.FIGMA:M.kr.FIGMA}function ei(e,t){switch(e){case M.kr.FIGJAM:return"whiteboard";case M.kr.FIGMA:return"design";case M.kr.FIGMA_AND_INSPECT:case M.kr.INSPECT:return"dev_handoff";case M.kr.UNIVERSAL:return t??(0,b.C)()}}function ea(e){return e===A.aE.DESIGN?M.kr.FIGMA:e===A.aE.WHITEBOARD?M.kr.FIGJAM:M.kr.FIGMA}function eo(e,t){let r=new Set(M.cR);return e.filter(e=>!r.has(e)||(null==t?void 0:t.has(e)))}function el(e){return M.WK.some(t=>e.includes(t))}class es{constructor(e,t){this.permissions=e,this.trustedPluginOrigin=t}static none(){return new es([],void 0)}static forTest(e){return new es(e||M.AL,void 0)}static forConsoleGlobal(){return new es(M.eQ,void 0)}static forFirstPartyPlugin(){return new es(M.AL,void 0)}static forLocalPlugin(e){let t=e.manifest.permissions||[];if((0,u.Ij)("ValidatedPluginPermissions","Validating permissions for local plugin",{pluginID:e.manifest.id,requestedPermissions:t}),(0,s.Ub)().plugins_internal_apis)return new es(t,"*");let r=eo(t);return r.length<t.length&&(0,u.oP)(m._.EXTENSIBILITY,Error("Untrusted local plugin denied internal api permissions")),new es(r,void 0)}static forInstalledPlugin(e){let t=e.manifest.permissions||[];if((0,u.Ij)("ValidatedPluginPermissions","Validating permissions for installed plugin",{pluginID:e.plugin_id,requestedPermissions:t}),(0,O.SI)(e.plugin_id))return new es(eo(t,(0,O.qi)(e.plugin_id)),(0,O.At)(e.plugin_id));let r=eo(t);return r.length<t.length&&(0,u.oP)(m._.UNOWNED,Error("Untrusted installed plugin denied internal api permissions")),new es(r,void 0)}}function ec(e){try{return new URLPattern(e)}catch(e){return null}}function ed(e,t){let r=[],n=0;for(let[i,a]of t)r.push(e.substring(n,i)),n=a;return r.push(e.substring(n,e.length)),r.join("")}function eu(e,t,r){var n,i,a;let o,l,s,c,d;let u="widget"===r.resourceType||!!t.cachedContainsWidget;if("error"in t)l={type:M.UT.LOAD,text:t.error};else try{s=JSON.parse(t.manifest)}catch(e){l={type:M.UT.PARSE,text:e.message}}if("unknown"===r.resourceType){if(s)u=s.containsWidget;else if("manifest"in t)try{u=!!/containsWidget/.test(t.manifest)}catch{}}if(s){try{(0,F.a_)(s.editorType,k.Oc,"manifest.editorType"),c=s.editorType}catch{}try{(0,F.a_)(s.capabilities,k.YL,"manifest.capabilities"),d=s.capabilities}catch{}}let p=(0,Y.A)();if("manifest"in t&&(null==p||p.updateCachedContainsWidget({id:e,cachedContainsWidget:u})),!l)try{o=function(e,t){try{(0,F.a_)(e,"widget"===t.resourceType?k.qU:k.KM,"manifest")}catch(e){if(e instanceof Error)throw Error(function(e){let t="but got additional property",r=e.lastIndexOf(t);if(-1!==r){let n=e.substring(r+t.length).replace(/"/g,"").trim();return`Manifest has unexpected extra property: ${n}`}return e}(e.message));throw e}if("plugin"===t.resourceType){if(e.relaunchButtons){let t=new Set;e.relaunchButtons.forEach(r=>{if(t.has(r.command))throw new ee(`Expected "manifest.relaunchButtons" to have unique commands, but got more than one button with command: "${r.command}"`,e);t.add(r.command)})}!function(e){if($(e,"manifest"),e.menu){if(e.parameters)throw Error("manifest.parameters should not be specified when menu items are defined");!function e(t){for(let r of t)(0,M._)(r)?$(r,r.name):(0,M.ob)(r)&&e(r.menu)}(e.menu)}}(e)}if(!function(e){if(!("editorType"in e))throw new ee(er,e);if(e.editorType.some(e=>!M.sV.includes(e))||e.editorType.length<1||e.editorType.length>M.sV.length)throw Error('Invalid editorType in manifest.  Specify a combination of ["figma", "figjam", "dev"]')}(e),!function(e){if(e.permissions){let t=e.permissions.find(e=>!M.AL.includes(e));if(void 0!==t)throw new ee(`Invalid permission specified: ${t}`,e)}}(e),!function(e){if(e.capabilities)for(let t of e.capabilities){if(M.wt.includes(t)||function(e,t){throw new ee(`Invalid capability specified: ${t}`,e)}(e,t),"panel"===t||"inspect"===t||"codegen"===t||"linkpreview"===t||"vscode"===t){if(!ty(e.editorType))throw new ee(`Capability "${t}" requires "editorType" to include "dev"`,e);if(e.containsWidget)throw new ee(`Capability "${t}" is not supported for widgets`,e)}if((0,W.s)()&&!e.capabilities.includes("vscode"))throw new ee('Manifest must include "vscode" capability to run in Figma for VS Code Extension',e)}}(e),!function(e){var t,r;if(!(null==(t=e.capabilities)?void 0:t.includes("codegen"))){if(e.codegenLanguages)throw new ee("codegenLanguages only supported for codegen plugins",e);if(e.codegenPreferences)throw new ee("codegenPreferences only supported for codegen plugins",e);return}if(!e.codegenLanguages||0===e.codegenLanguages.length)throw new ee("codegen plugins must define at least one language in codegenLanguages",e);if(!e.codegenPreferences)return;let n=(null==(r=e.codegenLanguages)?void 0:r.map(e=>e.value))??[],i=[],a=new Set;for(let t=0;t<e.codegenPreferences.length;t++){let r=e.codegenPreferences[t];for(let i of r.includedLanguages??[])if(!n.includes(i))throw new ee(`Unknown language "${i}" in codegenPreferences[${t}].includedLanguages`,e);if((0,M.Lt)(r)&&i.push(r),(0,M.kz)(r)){if(a.has(r.propertyName))throw new ee('codegenPreferences "action" itemType settings must have unique propertyName values',e);a.add(r.propertyName)}if((0,M.kB)(r)){let t=0;if(r.options)for(let e of r.options)e.isDefault&&(t+=1);if(1!==t)throw new ee('codegenPreferences itemType: "select" should have exactly one default option',e)}}if(i.length>1)throw new ee('codegenPreferences should have at most one itemType: "unit"',e)}(e),"widget"===t.resourceType&&e.containsWidget&&"1.0.0"!==e.widgetApi)throw new ee("Widgets must specify the 'widgetApi' manifest field. The latest version is '1.0.0'",e);if(e.networkAccess){let t=(0,D.ER)(e.networkAccess);if(!t.isValid)throw new ee(t.validationErr,e)}if(e.relatedLinkDomains){if(!ty(e.editorType))throw new ee("'relatedLinkDomains' is only supported for plugins with 'editorType' containing 'dev'",e);for(let t of e.relatedLinkDomains){if(!t.startsWith("https://")||t.startsWith("http://"))throw new ee(`Invalid domain '${t}' in 'relatedLinkDomains'. Domains must start with 'https:// or 'http://'`,e);if(!ec(t))throw new ee(`Invalid domain '${t}' in 'relatedLinkDomains'.`,e)}}if(e.devResourceDomains){if(!ty(e.editorType))throw new ee("'devResourceDomains' is only supported for plugins with 'editorType' containing 'dev'",e);for(let t of e.devResourceDomains){if(!t.startsWith("https://")||t.startsWith("http://"))throw new ee(`Invalid domain '${t}' in 'devResourceDomains'. Domains must start with 'https:// or 'http://'`,e);if(!ec(t))throw new ee(`Invalid domain '${t}' in 'devResourceDomains'.`,e)}}return e}(s,{resourceType:u?"widget":"plugin"})}catch(e){l={type:M.UT.VALIDATE,text:e.message},e.manifest&&(o=e.manifest)}let m=u?(n=c,{...eg,editorType:n||void 0}):(i=c,a=d,{...eh,editorType:i||void 0,capabilities:a||void 0});return{plugin_id:o&&o.id||"",name:function(e,t){if(e)return e.name;if(t.lastKnownName)return t.lastKnownName;if(!t.path)return"Error";{let e=t.path.split(/\/|\\/);return e.length>=2?e[e.length-2]:t.path}}(o,t),manifest:o??m,localFileId:e,localFilePath:t.path,error:l}}async function ep(e,t){let r=(0,Y.A)();try{if(!r)throw Error("desktopApp not available");let n=await r.getLocalFileExtensionManifest(e);return eu(e,n,t)}catch(r){return{plugin_id:"",name:"Error",manifest:"widget"===t.resourceType?eg:eh,localFileId:e,localFilePath:"",error:{type:M.UT.LOAD,text:r.message}}}}async function em(e){let t;let r=(0,Y.A)();try{if(!r)throw Error("desktopApp not available");t=await r.getLocalFileExtensionSource(e)}catch(e){throw Error(`Unable to load code: ${e}`)}if(t.buildErrCode)throw Error("Build error: "+t.stderr+"\nPath was: "+t.path);let n=t.source;return t.html&&(n=function(e,t){let r=e=>JSON.stringify(e).split(/(<!--|-->|\bimport)/g).map((e,t)=>1&t?e.slice(0,2)+'"+"'+e.slice(2):e).join("");if("string"==typeof t)return`const __html__ = ${r(t)};${e}`;let n=Object.entries(t).map(([e,t])=>`[${r(e)}]:${r(t)}`).join(",");return`const __uiFiles__ = {${n}};${e}`}(n,t.html)),n}function e_(e){var t;return(null==(t=e.error)?void 0:t.text)===er?e.name:`${e.error?`\u26A0  `:""}${e.name}`}let eh={id:"",name:"",api:"",main:""},eg={id:"",name:"",api:"",main:"",containsWidget:!0,widgetApi:""},ef={id:"",plugin_id:"",manifest:{...eh},name:"",version:"",release_notes:"",installed_by:"user",description:"",tagline:"",creator_policy:"",created_at:"",redirect_icon_url:"",redirect_cover_image_url:"",redirect_code_url:"",is_private:!1,playground_fig_file_key:null},eE={id:"",publisher:{is_restricted_by_current_user:!1,id:"",name:"",img_url:"",img_urls:{},profile_handle:"",primary_user_id:null,current_user_is_following:!1,current_user_is_followed:!1,location:null,follower_count:0,following_count:0,entity_type:L.Iv.USER,badges:[]},creator:{id:"",handle:"",img_url:""},category_id:null,versions:{},install_count:0,unique_run_count:0,view_count:0,like_count:0,comment_count:0,unpublished_at:null,current_plugin_version_id:"",roles:{},realtime_token:"",support_contact:"",created_at:"",org_id:null,redirect_thumbnail_url:null,thumbnail_url:null,tags:[],community_publishers:{accepted:[],pending:[]},comments_setting:C.EF.ENABLED,is_widget:!1,editor_type:"design_and_whiteboard",publishing_status:null,badges:[]},ey={...eE,is_widget:!0},eb={name:"",currentVersionReleaseNotes:"",newVersionReleaseNotes:"",description:"",tagline:"",creatorPolicy:"",categoryId:"",tags:(0,U._M)(),iconSrc:"",coverImageSrc:"",widgetSnapshotImageSrc:"",widgetSnapshotImageError:null,supportContact:"",iconImageError:null,coverImageError:null,author:{user_id:""},twoFactorAuthDisabledError:null,emailNotVerifiedError:null,accountDetailsChangedError:null,freemiumRequiredForMigrating:null,commentsSetting:C.EF.ENABLED,creators:[],publishers:{inputValue:"",tokens:[],errorMessage:""},blockPublishingOnToS:!1,playgroundFigFile:null,playgroundFilePublishType:I.Y.Actions.NOOP};function ev(e){if(!e||!e.versions)return null;let t=e.current_plugin_version_id;return t&&e.versions[t]||null}function eI(e){let t=ev(e);return null===t?ef:t}function ew(e,t){if((0,K.kZ)(t))return(0,K.Qo)(t);let r=e[t]??{};for(let e in r)return r[e].current_plugin_version_id}let eT=e=>(null==e?void 0:e.containsWidget)?ey:eE;function eS(e,t,r,n){var i,a,o,l,s;if(null==(i=null==r?void 0:r.manifest)?void 0:i.id){if(e&&e[null==(a=null==r?void 0:r.manifest)?void 0:a.id])return e[null==(o=null==r?void 0:r.manifest)?void 0:o.id];if(t&&t[null==(l=null==r?void 0:r.manifest)?void 0:l.id])return t[null==(s=null==r?void 0:r.manifest)?void 0:s.id]}if(n){if(e&&e[n])return e[n];if(t&&t[n])return t[n]}return eT(null==r?void 0:r.manifest)}function eC(e,t,r){var n,i,a,o,l;if(null==(n=null==r?void 0:r.manifest)?void 0:n.id){if(e&&e[null==(i=null==r?void 0:r.manifest)?void 0:i.id])return e[null==(a=null==r?void 0:r.manifest)?void 0:a.id];if(t&&t[null==(o=null==r?void 0:r.manifest)?void 0:o.id])return t[null==(l=null==r?void 0:r.manifest)?void 0:l.id]}return null}function eA(e,t){return(0,G._W)(e,t,eE)}function eO(e,t){return(0,G._W)(e,t,ey)}function eN(e,t){let r={};return Object.keys(e).forEach(n=>{(function(e,t){let r=e.roles.org&&e.roles.org.id===t.id,n=e.roles.is_public&&e.publisher.id===t.community_profile_id;return!!(r||n)})(e[n],t)&&(r[n]=e[n])}),r}function eL(e,t){let r={};return Object.keys(e).forEach(n=>{let i=e[n];i.roles.org&&i.roles.org.id===t&&(r[i.id]=i)}),r}function eR(e,t){let r={};return Object.keys(e).forEach(n=>{let i=e[n];J(t,eI(i).manifest.editorType)&&(r[i.id]=i)}),r}function eP(e,t){let r={};return Object.keys(e).forEach(n=>{let i=e[n],a=i.roles.org&&i.roles.org.id;a&&a!==t||(r[i.id]=i)}),r}function eM(e){var t;return!!(null==(t=null==e?void 0:e.roles)?void 0:t.org)}function ek(e,t,r=!0){let n={};return Object.keys(e).forEach(i=>{let a=e[i],o=r?V.M3:V.OO;((0,w.OG)(a,t)||o(a,t))&&(n[i]=e[i])}),n}function eD(e,t){return Object.keys(e).reduce((r,n)=>{var i,a;let o=e[n];return o.roles.is_public&&(null==(a=null==(i=o.community_publishers)?void 0:i.accepted)?void 0:a.some(e=>e.id===t))&&(r[n]=e[n]),r},{})}function eF(e){return(0,i.mI)(Object.keys(e).map(t=>eI(e[t]))).map(t=>e[t.plugin_id])}function ex(e,t){var r,n;let i=e.roles,a=!t.is_public&&(0,v.An)(e);return!!i.is_public!=!!t.is_public||(null==(r=i.org)?void 0:r.id)!==(null==(n=t.org)?void 0:n.id)||a}function eU(e){if(!e)throw Error("Code string cannot be empty");let t=(0,p.u6)(e).length;if(t>G.UR)throw Error(`plugin code exceeds max size of ${Math.floor(G.UR/1e6)}MB`);return t}function eB(e){return(0,w._4)(e,"Icon image")}async function eG(e,t){return eB(e),await eW(e,{width:H.Go,height:H.Go},t,(0,g.t)("community.publishing.error_icon_image_dimensions"))}function eV(e){return(0,w._4)(e,"Artwork image",[...R.cL,"image/svg+xml"])}function eH(e){let t=null==e?void 0:e[0];if(!t)throw Error((0,g.t)("community.publishing.error_file_not_found"));return t}async function eW(e,t,r,n){let{width:i,height:a}=t,o=URL.createObjectURL(e),l=await (0,w.cD)(o);try{if(!function(e,t,r){let{width:n,height:i}=t;return e.width===n&&e.height===i||r&&e.width%n==0&&e.height%i==0&&e.width/n==e.height/i}(l,t,r))throw Error(n);if(l.width===i&&l.height===a)return e;let o=await new Promise((e,t)=>{let r=document.createElement("canvas");try{r.width=i,r.height=a,r.getContext("2d").drawImage(l,0,0,i,a),r.toBlob(r=>r?e(r):t(Error("Failed to resize image")))}catch(e){t(e)}finally{r.remove()}});return new File([o],e.name,{type:o.type})}finally{URL.revokeObjectURL(o),l.remove()}}async function eK(e){let t=(await h.cp.post(`/api/${(0,G.sr)(e)}`)).data.meta;if(!t.id)throw Error("cannot generate plugin ID");return t}function eY(e,t,r){return e.roles.org??(t&&r?{id:t.id,name:t.name,img_url:t.img_url}:null)}function eq(e,t){return t===M.ag.ORG?e?{org:e}:(a.g.error("publishing a private plugin without a valid org entity."),null):{is_public:!0}}function ej(e){return e.name===eb.name&&e.newVersionReleaseNotes===eb.newVersionReleaseNotes&&e.supportContact===eb.supportContact&&e.description===eb.description&&e.iconSrc===eb.iconSrc&&e.coverImageSrc===eb.coverImageSrc&&null==e.iconBlob&&null==e.coverImageBlob}function e$(e,t,r,n,i){var a,o,l,s,c;let d;let u=void 0!==t?e.localPlugins[t]:void 0,p=u&&u.manifest,m=eS(e.publishedPlugins,e.publishedWidgets,u,r),_=eI(m),h={...(0,U._M)(),tokens:(m.tags||[]).map(e=>({content:e,state:N.O.OK}))},g=null==(a=null==p?void 0:p.permissions)?void 0:a.includes("payments");try{d=(0,w.g7)(m,e)}catch(e){throw Error("Unable to get Plugin Data. You might be trying to act on a personal plugin in an Org space.")}let{accepted:f,pending:b}=m.community_publishers,v={...(0,U._M)(),tokens:(m.community_publishers?[...f.map(e=>({...e,isPending:!1})),...(null==b?void 0:b.map(e=>({...e,isPending:!0})))||[]]:[]).reduce((t,r)=>(0,w.GO)(e.authedProfilesById[r.id],d)?t:t.concat([{state:N.O.OK,content:r}]),[])};return{name:_.name||p&&p.name||eb.name,currentVersionReleaseNotes:_.release_notes||eb.newVersionReleaseNotes,newVersionReleaseNotes:eb.newVersionReleaseNotes,tags:h,supportContact:m.support_contact||(null==(o=e.user)?void 0:o.email)||eb.supportContact,description:_.description||eb.description,tagline:_.tagline||eb.tagline,creatorPolicy:_.creator_policy??eb.creatorPolicy,iconSrc:_.redirect_icon_url||eb.iconSrc,widgetSnapshotImageSrc:n||_.redirect_snapshot_url||eb.widgetSnapshotImageSrc,widgetSnapshotImageBlob:i||eb.widgetSnapshotImageBlob,coverImageSrc:_.redirect_cover_image_url||eb.coverImageSrc,iconImageError:eb.iconImageError,coverImageError:eb.coverImageError,widgetSnapshotImageError:eb.widgetSnapshotImageError,twoFactorAuthDisabledError:eb.twoFactorAuthDisabledError,emailNotVerifiedError:eb.emailNotVerifiedError,accountDetailsChangedError:eb.accountDetailsChangedError,freemiumRequiredForMigrating:eb.freemiumRequiredForMigrating,author:d,publishers:v,creators:f.map(e=>({...e,isPending:!1})).concat((b??[]).map(e=>({...e,isPending:!0}))).filter(t=>!(0,w.GO)(e.authedProfilesById[t.id],d)&&t.entity_type===L.Iv.USER),commentsSetting:m.comments_setting||eb.commentsSetting,categoryId:m.category_id||eb.categoryId,blockPublishingOnToS:(0,w.a0)(e),playgroundFigFile:_.playground_fig_file,playgroundFilePublishType:I.Y.Actions.NOOP,isPaid:!!m.monetized_resource_metadata||g,price:(0,y.dO)(m.monetized_resource_metadata),isSubscription:null==(l=m.monetized_resource_metadata)?void 0:l.is_subscription,hasPaymentsApi:g,annualDiscount:null==(s=m.monetized_resource_metadata)?void 0:s.annual_discount_percentage,isAnnualDiscountActive:!!(null==(c=m.monetized_resource_metadata)?void 0:c.annual_discount_active_at),carouselMedia:(0,E.Y5)(m)}}function eZ(e){if(!e)return{};let t={};return e.forEach(e=>{eI(e).id&&!e.unpublished_at&&(t[e.id]=e)}),t}function ez(e,t,r,n){let i={};return(e.email_validated_at||(i.emailNotVerifiedError=(0,g.t)("community.publishing.please_verify_your_email_address_to_publish")),n||(e.saml_sso_only||e.google_sso_only||e.two_factor_app_enabled||e.phone_number)&&(t.code!==L.YF.FAILURE||t.error!==(0,g.t)("community.publishing.you_must_enable_two_factor_authentication_to_publish")))?!n&&(e.plugin_publishing_blocked_at||e.community_blocked_at||t.code===L.YF.FAILURE&&t.error===(0,g.t)("community.publishing.you_must_verify_your_account_details_to_publish"))?i.accountDetailsChangedError=(0,g.t)("community.publishing.we_detected_a_change_to_your_account_details_please_contact_support_figma_com_to_publish_this_plugin"):t.code===L.YF.FAILURE&&t.error&&(i.other=t.error):i.twoFactorAuthDisabledError=r?(0,g.t)("community.publishing.please_enable_two_factor_authentication_to_publish_this_widget"):(0,g.t)("community.publishing.please_enable_two_factor_authentication_to_publish_this_plugin"),i}function eQ(e,t,r,n){var i,a;if(!e)return{};let l={};0===(0,G.aO)(e.name).length&&(l.name=(0,g.t)("community.publishing.name_must_not_be_empty")),0===(0,G.aO)(e.tagline).length&&(l.tagline=(0,g.t)("community.publishing.add_a_tagline")),(0,d.qG)(e.description)&&(l.description=(0,g.t)("community.publishing.add_a_description"));let s=(0,G.aO)(e.supportContact);if(0===s.length?l.supportContact=(0,g.t)("community.publishing.support_contact_must_not_be_empty"):(0,o.kB)(s)||(0,p.g9)(s)||(l.supportContact=(0,g.t)("community.publishing.support_contact_must_be_a_valid_email_or_url")),0===(0,G.aO)(e.iconSrc).length&&(l.iconImageError=(0,g.t)("community.publishing.icon_cant_be_empty")),l.carouselMedia=(0,w.Su)(e.carouselMedia),e.categoryId||(l.categoryId=(0,g.t)("community.publishing.category_cant_be_empty")),void 0===e.price||(null==(i=t.permissions)?void 0:i.includes("payments"))||(null==n?void 0:n.third_party_m10n_status)!==P.IT.FLAGGED||(l.freemiumRequiredForMigrating=(0,g.t)("community.seller.freemium_required_for_migration")),e.playgroundFigFile&&(null==(a=t.editorType)?void 0:a.length)===1){let n=t.editorType[0],i=e.playgroundFigFile.editor_type;if(n===M.gr.FIGMA&&"design"!==i||n===M.gr.FIGJAM&&"whiteboard"!==i){let e=n===M.gr.FIGMA?(0,g.t)("community.publishing.playground_file.figma"):(0,g.t)("community.publishing.playground_file.figjam");l.playgroundFigFile=r?(0,g.t)("community.publishing.widget_playground_file_editor_type_error",{editorType:e}):(0,g.t)("community.publishing.plugin_playground_file_editor_type_error",{editorType:e})}}r&&0===(0,G.aO)(e.widgetSnapshotImageSrc).length&&(l.widgetSnapshotImageError=(0,g.t)("community.publishing.snapshot_must_not_be_empty"));let c=function(e,t){var r,n;if(!e.isPaid||e.hasPaymentsApi)return null;if(!e.price)return(0,g.t)("community.publishing.price_is_required_for_paid_resources");if((0,y.sT)(e.price))return e.price<y.Ww?(0,g.t)("community.seller.paid_resource_minimum_err"):(0,g.t)("community.seller.paid_resource_maximum_err");if((0,y.ey)(e.price))return(0,g.t)("community.seller.prices_must_follow_format");if(!t||(0,v.An)(t))return null;let i=null==(r=null==t?void 0:t.monetized_resource_metadata)?void 0:r.price;return e.isSubscription&&i&&(0,y.Cw)(i/100,e.price)?(0,g.t)("community.seller.price_increase_limit"):!(null==(n=null==t?void 0:t.monetized_resource_metadata)?void 0:n.can_increase_price)&&i&&(0,y.LY)(i/100,e.price)?(0,g.t)("community.seller.price_can_only_be_increased_once_every_thirty_days"):null}(e,n);c&&(l.price=c);let u=e.isPaid&&e.annualDiscount&&e.isAnnualDiscountActive?Number.isInteger(e.annualDiscount)?null:(0,g.t)("community.seller.discount_must_follow_format"):null;return u&&(l.annualDiscount=u),l}function eX(e,t){if(!e)return{};let r={},n=(0,G.aO)(e.name).length;n<4?r.name=(0,g.t)("community.publishing.name_must_be_4_characters_long"):n>100&&(r.name=(0,g.t)("community.publishing.name_must_be_at_most_100_characters_long")),(0,G.aO)(e.description).length>1e4&&(r.description=(0,g.t)("community.publishing.description_must_be_at_most_10000_characters_long")),(0,G.aO)(e.newVersionReleaseNotes).length>1e4&&(r.newVersionReleaseNotes=(0,g.t)("community.publishing.release_notes_must_be_at_most_10000_characters_long")),(0,G.aO)(e.creatorPolicy).length>1e4&&(r.creatorPolicy=(0,g.t)("community.publishing.creator_policy_must_be_at_most_10000_characters_long"));let i=e.tags.tokens.map(e=>e.content);e.tags.inputValue&&(i=i.concat([e.tags.inputValue]));let a=(0,G.QF)(i);a&&(r.tags=a);let o=(0,G.sj)(e.tagline);return o&&(r.tagline=o),(0,G.aO)(e.supportContact).length>100&&(r.supportContact=(0,g.t)("community.publishing.support_contact_must_be_at_most_100_characters_long")),e.iconImageError&&(r.iconImageError=e.iconImageError),e.coverImageError&&(r.coverImageError=e.coverImageError),r}function eJ(e,t){return!t||!!e.roles.org&&e.roles.org.id===t.id||e.install_status!==M.A$.PUBLIC_PLUGINS_DISALLOWED&&e.install_status!==M.A$.PLUGIN_NOT_ORG_APPROVED}function e0(e){return(0,M._2)(e.plugin)}function e1(e){var t;let r;let{installedWidgetVersions:n,localPlugins:i,publishedCanvasWidgetVersions:a,publishedWidgets:o}=l.x.getState(),s=!e.widgetVersionId,c=e.widgetId;if(c){if(s){let e=Object.values(i).filter(e=>e.plugin_id===c);e.length>1&&te((0,g.t)("community.publishing.found_multiple_local_widgets_with_the_same_manifest_id")),1===e.length&&(r=e[0])}else{if(!(r=(null==(t=a[c])?void 0:t[e.widgetVersionId])||n.widgets[c]||o[c]&&eI(o[c])))return;r.id===e.widgetVersionId||(0,_.g9)()||(0,_.Cm)()||(0,u.oP)(m._.UNOWNED,Error(`plugin versionId=${null==r?void 0:r.id} doesn't match node.widgetVersionId=${e.widgetVersionId}`))}return r}}function e2(e){let t=e.canRunPluginState?e.canRunPluginState:l.x.getState();if(!(0,q.w7)().canRun||!(0,q.gp)(t)||!function(e,t){if(!e.currentUserOrgId)return!0;let r=e.orgById[e.currentUserOrgId];if(!r||(0,M.E7)(t)||(0,M.aO)(t))return!0;if(!r.public_plugins_allowed)return!1;let n=(0,M._2)(t);return(n?!r.widgets_whitelist_enforced:!r.plugins_whitelist_enforced)||!!(n?e.whitelistedWidgets:e.whitelistedPlugins)[t.plugin_id]}(t,e.plugin))return!1;let{plugin:r,publishedPlugins:n,orgEntity:i,installedPluginVersions:a,editorType:o}=e;return(0,M.E7)(r)?!(0,M._2)(r):!!(!o||J(Z[o],r.manifest.editorType)&&("dev_handoff"!==o||tn(r)))&&(!!(0,s.Ub)().plugins_simplify_runnable||!!a&&!!a[r.plugin_id]||!!eJ(eA(r.plugin_id,n),i))}function e4({canAssociatedUserPurchaseThisResource:e,resource:t}){return(0,M.xi)(t)&&t.current_user_has_run&&!t.community_resource_payment&&e}function e3(e){return e.roles.is_public?{role:"public"}:e.roles.org?{role:"org",roleOrgId:e.roles.org.id}:{role:"private"}}function e6(e){let t=e.match(/\/community\/widget\/(\d+)(\/.*)?$/);return t&&t[1]?t[1]:null}function e8(e){let t=e.match(/\/community\/plugin\/(\d+)(\/.*)?$/);return t&&t[1]?t[1]:null}function e5(e,t,r){if(!e.manifest.relaunchButtons)return[];let n=[];for(let i of e.manifest.relaunchButtons){if(r>1&&!i.multipleSelection)continue;let a=function(e,t,r){let n=null;for(let i of r){let r=!1;for(let{pluginID:a,command:o,message:l}of i)if(a===e&&o===t.command){r=!0,n?l!==n.description&&(n.description=M.Kk):n={pluginID:e,command:t.command,name:t.name,description:l||""};break}if(!r)return null}return n}(e.plugin_id,i,t);a&&n.push(a)}return n}function e7(e,t){return t?t.localFileId:e.id}function e9(e,t,r,n,i,a,o){let l=[],s=(0,S.kt)(e);for(let e of function(e){if(0===e.length)return[];let t=new Set;for(let{pluginID:r}of e[0])t.add(r||"");return Array.from(t).reverse()}(s))if((function(e,t){let r=[];for(let n in e)e[n].plugin_id===t&&r.push(e[n]);return r})(r,e).filter(e=>J(o,e.manifest.editorType)).forEach((t,r)=>{for(let n of e5(t,s,i))l.push({type:"local",pluginTypeAndID:`local-${e}-${r+1}`,plugin:t,relaunchButton:n})}),e in t){let r=t[e],c=eI(r);if(!J(o,c.manifest.editorType))continue;let d=e5(c,s,i);if(eJ(r,n))for(let t of d)l.push({type:"published",pluginTypeAndID:`installed-${e}`,plugin:c,publishedPlugin:r,relaunchButton:t});a(e,!1)}else a(e,!0);return l}function te(e){(0,x.Ex)({shouldShowVisualBell:!0});let t=(0,Y.A)();T.CA.dispatch(f.A.enqueue({type:"plugins-runtime-error",message:e,button:t?{text:"Show/Hide console",action:()=>{t.toggleDevTools("bottom")}}:void 0,error:!0}))}function tt(){T.CA.dispatch(f.A.dequeue({matchType:"plugins-runtime-error"}))}function tr(e,t){return e.plugin_id===(null==t?void 0:t.plugin_id)&&(null==e?void 0:e.id)===(null==t?void 0:t.id)}function tn(e,t){var r;return(!!(!(0,W.s)()||(null==(r=e.manifest.capabilities)?void 0:r.includes("vscode")))||null!=t&&!!t.allowNonVsCodePluginsInVsCode)&&ty(e.manifest.editorType)&&!(0,M._2)(e)}function ti(e){return tn(e)&&tE(e.manifest.capabilities)}function ta(e){var t,r;return tn(e)&&(null==(r=null==(t=e.manifest)?void 0:t.capabilities)?void 0:r.includes("codegen"))}function to(e){var t,r;return null==(r=null==(t=e.manifest)?void 0:t.capabilities)?void 0:r.includes("textreview")}function tl(e,t,r){if(!e)return t;switch(e){case"whiteboard":case"design":return Object.fromEntries(Object.entries(t).filter(([t,r])=>J(Z[e],r.manifest.editorType)));case"dev_handoff":return Object.fromEntries(Object.entries(t).filter(([e,t])=>tn(t,r)));default:return{}}}function ts(e,t){if(!e)return t;switch(e){case"whiteboard":case"design":return t.filter(t=>J(Z[e],t.manifest.editorType));case"dev_handoff":return t.filter(e=>tn(e));default:return[]}}function tc(e,t){if(!e)return t;switch(e){case"whiteboard":case"design":return Object.fromEntries(Object.entries(t).filter(([t,r])=>J(Z[e],eI(r).manifest.editorType)));case"dev_handoff":return Object.fromEntries(Object.entries(t).filter(([e,t])=>tn(eI(t))));default:return{}}}function td(e){if(!("related-link-preview"!==e&&"codegen"!==e))return!1;let t=l.x.getState().selectedView;return(0,B.ie)(t)}function tu(e){var t;return(null==(t=null==e?void 0:e.manifest.editorType)?void 0:t.length)===1&&ty(e.manifest.editorType)}function tp(e){let t=function(e){let t=["vscode"];return e.filter(e=>!t.includes(e))}(e.manifest.capabilities??[]);return 1===t.length&&"codegen"===t[0]}function tm(e){return tu(e)&&tp(e)}function t_(e){return ty(e.manifest.editorType)&&tp(e)}function th(e){let t=l.x.getState().selectedView;return(0,B.ie)(t)&&t_(e)}function tg(e,t,r){let n=l.x.getState().selectedView,i=null==t?void 0:t.plugins_whitelist_enforced,a=i&&r&&!!r[e.plugin_id]||!i;return(0,B.ie)(n)&&!tm(e)&&a}function tf({idToSearch:e,localPluginsByFileId:t,publishedPlugins:r,savedPlugins:n,recentPlugins:i}){let a=t&&t[e];if(a)return a;let o=(null==n?void 0:n.loaded)&&n.plugins[e];if(o)return o;let l=null==r?void 0:r[e];if(l){let e=eI(l);return""!==e.id?e:null}return i&&i[e]||null}function tE(e){return!!((null==e?void 0:e.includes("inspect"))||(null==e?void 0:e.includes("panel")))}function ty(e){return!!((null==e?void 0:e.includes(M.gr.DEV))||(null==e?void 0:e.includes(M.gr.INSPECT)))}function tb(e){let t=X(),r=e&&(null==e?void 0:e.plugin)&&tm(null==e?void 0:e.plugin);return e&&t&&J(t,e.plugin.manifest.editorType)&&("dev"!==t||tn(e.plugin))&&!r}function tv(){return(0,W.s)()?"plugins-menu-open-directory-vscode":c.cp.mac?"plugins-menu-open-directory-mac":"plugins-menu-open-directory-win"}},123576:(e,t,r)=>{"use strict";r.d(t,{EN:()=>c,ar:()=>l,wi:()=>s});var n=r(120304),i=r(417184),a=r(325252);let o=null;function l(e){o=e}function s(){return o}function c(){let e=(0,n.w1)(e=>e.installedPluginVersions.plugins),t=(0,n.w1)(e=>e.publishedPlugins),r=(0,i.CS)();o&&!(0,a.UN)({plugin:o.plugin,publishedPlugins:t,orgEntity:r,installedPluginVersions:e})&&(o=null)}},678280:(e,t,r)=>{"use strict";r.d(t,{W:()=>l,k:()=>o});var n=r(441748),i=r(321296),a=r(39676);let o=new class{loadPluginsPublishedByUser(e){let t=e.getState().loadingState,r=i.K_.loadingKeyForPayload();(0,a.ER)(t,r)&&e.dispatch(i.K_())}async loadPluginsAuthoredByCurrentOrg(e){let{loadingState:t,currentUserOrgId:r}=e.getState();if(!r)return;let n=i.Q$.loadingKeyForPayload(r);(0,a.ER)(t,n)&&await e.dispatch(i.Q$(r))}loadWidgetsAuthoredByCurrentOrg(e){let{loadingState:t,currentUserOrgId:r}=e.getState();if(!r)return;let n=i.ct.loadingKeyForPayload(r);(0,a.ER)(t,n)&&e.dispatch(i.ct(r))}};class l{constructor(e){this.expireDuration=e,this.lastRefreshed={}}clear(){this.lastRefreshed={}}debounceRefresh(e,t,r){if(e in this.lastRefreshed){if((0,n.c)(this.lastRefreshed[e]).add(this.expireDuration).valueOf()>Date.now())return}else if(!r){this.lastRefreshed[e]=(0,n.c)(Date.now());return}try{t(e)}catch(e){throw e}finally{this.lastRefreshed[e]=(0,n.c)(Date.now())}}}},140744:(e,t,r)=>{"use strict";r.d(t,{MP:()=>H,iS:()=>Y,k5:()=>W,k9:()=>K,kv:()=>Z,m_:()=>z,ui:()=>D.ui});var n=r(250008),i=r(899116),a=r(161400),o=r(843148),l=r(372152),s=r(326660),c=r(58908),d=r(33828),u=r(560072),p=r(317704),m=r(326300),_=r(592164),h=r(584208),g=r(987276),f=r(585508),E=r(767433),y=r(291336),b=r(12608),v=r(123576),I=r(778112),w=r(557188),T=r(224100),S=r(901092),C=r(19696),A=r(709164),O=r(234980),N=r(699884),L=r(695712),R=r(129248),P=r(492084),M=r(325252),k=r(234333),D=r(928424),F=r(342772),x=r(89936),U=r(736144),B=r(316640),G=r(133856);r(636256);class V extends Error{constructor(e){super(e)}}function H(e){let t=a.x.getState(),r=(0,y.gp)(t),n=(0,o.cp)().e2e_traffic;if(!e.userID||!n&&!r){if((0,B.WU)()){(0,B.qu)().then(()=>delete window.figma);return}delete window.figma;return}B.Mb.resetGlobalPluginAPI=H;try{if((0,B.WU)())return;!function(e){let t=(0,A.sX)(),r=[()=>t.destroy(),()=>{delete window.figma},()=>f.CA.triggerAction("commit")],n=()=>{let e;for(let t of r)try{t()}catch(t){e||(e=t)}if(r=[],e)throw e},i=()=>(n(),Promise.resolve());delete window.figma,new O.rM(t,{...(0,O.W)(),openFileKey:e.openFileKey,userID:e.userID,closePlugin:i,addShutdownAction:e=>{-1===r.indexOf(e)&&r.push(e)},incrementalSafeApi:!0,allowIncrementalUnsafeApiCalls:!0}).createAPI(),(0,B.Ou)(i)}(e)}catch(e){(0,o.K)()&&"fullscreen"===t.selectedView.view&&console.error(e)}}function W({pluginID:e,widgetNodeID:t}){return(0,D.ui)()&&void 0!==B.Mb.currentWidget&&B.Mb.currentWidget.pluginID===e&&B.Mb.currentWidget.widgetNodeID===t}let K="Plugin Start Initiated",Y=(0,P.w)(async e=>{let t=(0,B.UN)();B.Mb.currentPluginRunID=t;let r=new R.O;B.Mb.stats=r;let i=e.plugin;(0,n.we)(K,{pluginID:i.plugin_id,trigger:e.triggeredFrom,runMode:e.runMode,isWidget:e.isWidget,command:e.command,fileKey:e.openFileKey,pluginRunID:t,editorType:(0,M.a6)(),...(0,T.E7)(i)?{pluginVersionID:"",source:"development",name:"<local plugin>"}:{pluginVersionID:i.id,source:"imported",name:i.name}});let{isCancelled:o}=await r.markDuration("waitForAllPagesMs",async()=>await (0,U.I)(e));if(!o){if((0,M.Yh)(e.triggeredFrom)){if(!(0,M.aZ)(e.plugin))throw Error('Plugin not compatible to run in dev handoff panel. Make sure you have "dev" as an editorType and "inspect" as a capability in your manifest.json.');l.qM.set(S.GE,"LOADING"),l.qM.set(_.g,_.u.PLUGIN)}e.isWidget||e.ignoreForRunLastPlugin||(0,v.ar)(e),(0,B.Wf)(e.plugin),(0,B.U3)(e.triggeredFrom),"default"===e.runMode&&(0,M.Yh)(e.triggeredFrom)&&(e.runMode="inspect"),(0,B.YZ)(e.runMode);try{if((0,T.E7)(e.plugin))try{let n=await j(e,r,e.plugin);await $({localPlugin:e.plugin,runPluginArgs:e,stats:r,pluginRunID:t,code:n})}catch(t){(0,k.Oq)(t),q(t,e.isWidget)}else try{let i=await j(e,r,e.plugin);await function({pluginVersion:e,runPluginArgs:t,stats:r,pluginRunID:i,code:o}){let{command:l,queryMode:s,triggeredFrom:c,openFileKey:d,deferRunEvent:p,parameterValues:m,isWidget:_,widgetAction:f,forcePluginVersionId:y}=t,b=(0,C._K)();if(!b)throw new V(t.isWidget?(0,u.t)("plugins.cannot_run_widget_logged_out"):(0,u.t)("plugins.cannot_run_plugin_logged_out"));if(e={...e,id:y||e.id},B.Mb.currentPluginRunID!==i)return;let v=a.x.getState().selectedView.editorType,T={storeInRecentsKey:(0,g.m)(v),id:e.plugin_id,version:e.version,currentUserId:(0,C._K)()};_?a.x.dispatch(h.Ql(T)):a.x.dispatch(h.UN(T));let S=a.x.getState().publishedPlugins[e.plugin_id],A=(0,I.OG)(S),O={pluginID:e.plugin_id,pluginVersionID:e.id,trigger:c,source:"imported",command:l,name:e.name,fileKey:d,pluginRunID:i,queryMode:s,deferRunEvent:!!p,runWithParameters:!!m,manifest:JSON.stringify(e.manifest),productType:v,isWidget:_,isMonetized:A,paidStatus:function(e){let t=(0,I.OG)(e),r=null==e?void 0:e.community_resource_payment;return t&&r?r.status===w.S4.TRIALING?"trial":"paid":"none"}(S),widgetAction:f??null,isReadOnly:a.x.getState().mirror.appModel.isReadOnly,editorType:(0,M.a6)(),incrementalMode:"dynamic-page"===e.manifest.documentAccess,isVsCode:(0,E.s)()};return(0,n.we)("Plugin Start",O,_?{forwardToDatadog:!0}:{}),z(Q({runPluginArgs:t,manifest:e.manifest,stats:r,isLocal:!1,customOverrides:{code:o,name:e.name,openFileKey:d,permissions:M.yq.forInstalledPlugin(e),pluginID:e.plugin_id,pluginRunID:i,pluginVersionID:e.id,titleIconURL:e.redirect_icon_url,userID:b,enablePrivatePluginApi:!!(e.manifest.enablePrivatePluginApi&&e.is_private)}}))}({pluginVersion:e.plugin,runPluginArgs:e,stats:r,pluginRunID:t,code:i})}catch(t){t instanceof V||(0,s.oP)(c._.EXTENSIBILITY,t),q(t,e.isWidget)}}finally{(0,B.Wf)(null),(0,B.U3)(null),(0,B.YZ)(null)}}});function q(e,t){let r=(e instanceof V?null==e?void 0:e.message:void 0)??(t?(0,u.t)("plugins.error_loading_environment_widget"):(0,u.t)("plugins.error_loading_environment_plugin"));(0,M.mg)(r)}async function j(e,t,r){let n;let i=(0,T.E7)(r);try{if(f.CA.dispatch(p.A.enqueue({message:(0,u.t)("plugins.loading_plugin",{pluginName:r.name}),icon:m.mc.SPINNER,type:"loading-plugin",delay:200,timeoutOverride:1/0})),(0,o.Ub)().plugins_parallelize_load_sandbox){let a=i?(0,C.wi)():"cppvm",[o,l]=await Promise.all([(async()=>await (i?r.testCode?r.testCode:(0,M.iC)(r.localFileId):t.markDuration("pluginCodeDownloadedMs",async()=>await b.u.getAndCache(r,(0,C._8)()))))(),(async()=>{await t.markDuration("loadSandboxAndRunSecurityChecksMs",async()=>{try{await (0,G.a)(a,e.triggeredFrom)}catch(r){let t=e.isWidget?(0,u.t)("plugins.error_loading_environment_widget"):(0,u.t)("plugins.error_loading_environment_plugin");throw new V(t)}})})()]);n=o}else n=i?r.testCode?r.testCode:await (0,M.iC)(r.localFileId):await t.markDuration("pluginCodeDownloadedMs",async()=>await b.u.getAndCache(r,(0,C._8)()));if(!n){let t=e.isWidget?(0,u.t)("plugins.no_code_found_for_widget"):(0,u.t)("plugins.no_code_found_for_plugin");throw new V(t)}return n}finally{f.CA.dispatch(p.A.dequeue({matchType:"loading-plugin"}))}}async function $({localPlugin:e,runPluginArgs:t,pluginRunID:r,stats:i,code:o}){let{command:l,isWidget:s,widgetAction:c,queryMode:d,triggeredFrom:p,openFileKey:m,deferRunEvent:_,parameterValues:f}=t,y=(0,C._K)();if(!y)throw new V(s?(0,u.t)("plugins.cannot_run_widget_logged_out"):(0,u.t)("plugins.cannot_run_plugin_logged_out"));let b=a.x.getState().selectedView.editorType;if(e.manifest){let t={pluginID:e.manifest.id||"",pluginVersionID:"",trigger:p,source:"development",command:l,name:"<local plugin>",fileKey:m,pluginRunID:r,queryMode:d,deferRunEvent:!!_,runWithParameters:!!f,manifest:JSON.stringify(e.manifest),productType:b,isWidget:s,widgetAction:c??null,isReadOnly:a.x.getState().mirror.appModel.isReadOnly,editorType:(0,M.a6)(),incrementalMode:"dynamic-page"===e.manifest.documentAccess,isVsCode:(0,E.s)()};(0,n.we)("Plugin Start",t,s?{forwardToDatadog:!0}:{})}let v={storeInRecentsKey:(0,g.m)(b),id:String(e.localFileId),isDevelopment:!0,version:"",currentUserId:(0,C._K)()};s?a.x.dispatch(h.Ql(v)):a.x.dispatch(h.UN(v));try{let n=e.testCode?e.manifest:await (0,M.Wc)(e.localFileId,{resourceType:s?"widget":"plugin",ignoreMissingEditorType:!0,isPublishing:!1}),a=Q({runPluginArgs:t,manifest:n,stats:i,isLocal:!0,customOverrides:{code:o,openFileKey:m,permissions:M.yq.forLocalPlugin(e),enablePrivatePluginApi:!!n.enablePrivatePluginApi,pluginID:n.id||"",pluginRunID:r,pluginVersionID:"",titleIconURL:"",userID:y}});await z(a)}catch(t){(0,k.Oq)(t),(0,L.Ex)({shouldShowVisualBell:!0});let e=(t instanceof V?null==t?void 0:t.message:void 0)??(s?(0,u.t)("plugins.error_occured_while_running_widget"):(0,u.t)("plugins.error_occured_while_running_plugin"));(0,M.mg)(e)}}let Z=(0,P.w)(({newTriggeredFrom:e}={newTriggeredFrom:"runlast"})=>{let t=(0,v.wi)();t&&(0,M.IH)(t)&&(e&&(t.triggeredFrom=e),x.m.instance.enqueue({mode:"run-forever",runPluginArgs:t}))});function z(e){if(B.Mb.currentPluginRunID!==e.pluginRunID)return Promise.resolve();let t=e.stats;t.markTime("timeToRunPluginCodeStartMs");let r=e.isWidget?"widget":"plugin";(0,M.sd)();let a=(0,D.QP)();(0,D.wx)(a),(0,D.Wy)();let l=new Promise(async(r,n)=>{if(await (0,B.sX)({overriddenBy:e.triggeredFrom}),(0,D.MX)()!==a){r();return}let l=()=>(r(),Promise.resolve());(0,B.ms)(l);try{if(e.isWidget){let{widgetNodeID:t}=JSON.parse(e.command);B.Mb.currentWidget={widgetNodeID:t,pluginID:e.pluginID}}else B.Mb.currentWidget=void 0}catch{B.Mb.currentWidget=void 0}try{if((0,o.Ub)().plugins_parallelize_load_sandbox||await t.markDuration("loadSandboxAndRunSecurityChecksMs",async()=>{await (0,G.a)(e.vmType,e.triggeredFrom)}),i.sZ&&(0,M.IL)(e.permissions.permissions)&&(B.Mb.setMediaEnabled=!0,e.permissions.trustedPluginOrigin&&i.sZ&&(B.Mb.allowedPluginOrigin=e.permissions.trustedPluginOrigin,await i.sZ.addAllowedPluginOrigin(e.permissions.trustedPluginOrigin))),await (0,d.Y2)(0),(0,D.MX)()!==a){r();return}let{runResult:n,closePlugin:s}=await (0,F.P)({...e,pluginCounter:a,html:null});if((0,D.MX)()===a){(0,B.ms)(s,{ignorePreviousCloseFunc:l}),l=s;let e=await n;e&&f.CA.dispatch(p.A.enqueue({type:"plugins-supplied-message",message:e}))}r()}catch(e){n(e)}finally{a===(0,D.MX)()&&((0,B.ms)(null,{ignorePreviousCloseFunc:l}),(0,B.ie)())}}).catch(t=>{if(e.noConsoleError||(0,k.Oq)(t),e.showLaunchErrors){let r=(t instanceof V?null==t?void 0:t.message:void 0)??(e.isWidget?(0,u.t)("plugins.error_occured_while_running_widget"):(0,u.t)("plugins.error_occured_while_running_plugin"));(0,M.mg)(r)}else throw t}),s=()=>{let i={pluginID:e.pluginID,pluginVersionID:e.pluginVersionID,pluginRunID:e.pluginRunID,apiUsage:t.callCountsToJSON(),perfMetrics:t.perfMetricsToJSON(),ranWithParameters:t.ranWithParameters(),parameterCount:t.parameterCount(),isWidget:e.isWidget,trigger:e.triggeredFrom,stackInvariants:t.stackInvariantFieldsToJSON(),incrementalMode:e.incrementalSafeApi,numPagesLoaded:t.getNumPagesLoaded(),...t.getTimingMarks()},a={pluginDataHistogram:t.pluginDataHistogramToJSON(),pluginDataTotalSetSize:t.pluginDataTotalSetSize(),sharedPluginDataTotalSetSize:t.sharedPluginDataTotalSetSize(),pluginDataMaximumKeyCountExceeded:t.pluginDataMaximumKeyCountExceeded()};(0,n.we)("Plugin End",{...i,...a},{forwardToDatadog:!0}),e.pluginID&&t.hasResizedNodeWithMissingFont()&&((0,n.we)("Plugin resized node with missing font",{pluginID:e.pluginID}),console.warn(`This ${r} resized a node with missing fonts. Text layout for node will not be applied.`))};return l.then(s,s),l}function Q({manifest:e,isLocal:t,stats:r,runPluginArgs:n,customOverrides:i}){return{name:e.name,allowedDomains:function(e,t){let{networkAccess:r}=e;return r?t&&r.devAllowedDomains?r.allowedDomains.concat(r.devAllowedDomains):r.allowedDomains:N.Ke}(e,t),apiVersion:e.api,capabilities:e.capabilities??[],stats:r,checkSyntax:t,isLocal:t,disableSilenceConsole:t,enableProposedApi:t&&!!e.enableProposedApi,showLaunchErrors:!t,showRuntimeErrors:t,vmType:t?(0,C.wi)():"cppvm",...i,command:n.command,queryMode:n.queryMode,triggeredFrom:n.triggeredFrom,openFileKey:n.openFileKey,deferRunEvent:n.deferRunEvent,parameterValues:n.parameterValues,isWidget:n.isWidget,editorType:n.plugin.manifest.editorType??[],incrementalSafeApi:"dynamic-page"===e.documentAccess}}},89936:(e,t,r)=>{"use strict";r.d(t,{m:()=>_});var n=r(140744),i=r(916924),a=r(688420),o=r(161400),l=r(234284),s=r(33828),c=r(511308),d=r(927976),u=r(971032),p=r(316640);let m=class{constructor(){this.runQueue=[],this.currentRunState=null,this.MAX_RESOLVE_ITERATIONS=10}enqueue(e){let{runPluginArgs:t,onStart:r,mode:i,reuseExistingRunState:a=!0}=e,{plugin:l}=t;if(!(0,d.ie)(o.x.getState().selectedView))return(0,n.iS)(t);if(l.manifest.containsWidget)throw Error("Cannot enqueue a plugin that contains a widget");let s=this.createTask(r),c=this.findExistingRunState(e);if(a&&c)this.log("enqueue","Found existing run state, pushing runTask onto existing runState",{existingRunState:c,runTask:s}),c.runTasks.push(s),c===this.currentRunState&&"settled"===c.status&&this.resolveAllPromises(this.currentRunState);else{let e={runPluginArgs:t,runTasks:[s],mode:i,status:"idle"};this.log("enqueue","Creating new run state and adding to queue",{runState:e}),this.addToQueue(e),this.runNextPlugin()}return s.promise}getCurrentRunStatusOrNull(){var e;return(null==(e=this.currentRunState)?void 0:e.status)??null}getRunQueueLength(){return this.runQueue.length}async runNextPlugin(){if(await this.maybeTerminatePluginBeforeRun(),(0,p.g$)())return;let e=this.runQueue.shift();if(!e)return;this.currentRunState=e,this.prepPluginForRun(e.runPluginArgs.plugin);let t=this.runPlugin(e);await this.resolveAllPromises(e),await t,this.log("runNextPlugin","Finished running plugin",{runState:e}),this.runNextPlugin()}runPlugin(e){this.log("runNextPlugin","Running plugin",{runState:e});let{runPluginArgs:t}=e;return(0,n.iS)(t)}setRunPluginForTest(e){if(!(0,l.g9)())throw Error("Cannot set run plugin for test when not running interaction tests");this.runPlugin=e}createTask(e){let t=()=>{},r=()=>{};return{promise:new Promise((e,n)=>{t=e,r=n}),resolve:t,reject:r,onStart:e}}async resolvePromise({resolve:e,reject:t,onStart:r}){try{let t=await (null==r?void 0:r());e(t)}catch(e){t(e)}}async resolveAllPromises(e){this.log("runNextPlugin","Resolving all promises",{runState:e}),e.status="resolving";let t=0;for(;t<this.MAX_RESOLVE_ITERATIONS;){let r=e.runTasks;if(0===r.length)break;e.runTasks=[],await Promise.allSettled(r.map(e=>this.resolvePromise(e))),t++}await this.maybeTerminatePluginAfterRunSettled(e),e.status="settled",this.log("runNextPlugin","Resolved all promises",{runState:e})}addToQueue(e){switch(this.log("addToQueue","Adding to queue",{toAdd:e}),e.mode){case"run-forever":case"run-and-terminate":this.runQueue.push(e);break;default:(0,i.gy)(e.mode)}}async maybeTerminatePluginBeforeRun(){var e,t;let r=(0,p.g$)();(!!r!=!!this.currentRunState||(null==(e=this.currentRunState)?void 0:e.status)==="settled"&&(null==(t=this.currentRunState)?void 0:t.runPluginArgs.plugin.plugin_id)===(null==r?void 0:r.plugin_id))&&(this.log("maybeTerminatePluginBeforeRun","Terminating plugin"),await this.terminatePlugin())}async maybeTerminatePluginAfterRunSettled(e){let{mode:t}=e;switch(this.log("maybeTerminatePluginAfterRunSettled","Maybe terminating plugin",{toMaybeTerminate:e}),t){case"run-forever":this.runQueue.length>0&&await this.terminatePlugin();break;case"run-and-terminate":await this.terminatePlugin();break;default:(0,i.gy)(t)}}async terminatePlugin(){this.log("terminatePlugin","Terminating plugin"),this.currentRunState=null,await (0,p.qu)(),await (0,s.E1)()}findExistingRunState({runPluginArgs:e,mode:t}){var r,n;let i=null==(r=this.currentRunState)?void 0:r.runPluginArgs.plugin.plugin_id;return i===e.plugin.plugin_id&&(null==(n=(0,p.g$)())?void 0:n.plugin_id)===i?this.currentRunState:this.runQueue.find(r=>r.runPluginArgs.plugin.plugin_id===e.plugin.plugin_id&&r.mode===t)}isCurrentlyRunning({runPluginArgs:e,mode:t}){return!!this.findExistingRunState({runPluginArgs:e,mode:t})}prepPluginForRun(e){this.log("prepPluginForRun","Prepping plugin for run",{plugin:e}),(0,c.Y7)(e,null),(0,u.gf)(),(0,u.Mz)(),(0,u.Sq)()}log(e,t,r={}){if(!m.debug)return;let n={currentRunState:this.currentRunState,runQueue:this.runQueue,runningPluginState:p.Mb,...r};a.g.log("[PluginManager]",`[${e}]`,t,n)}},_=m;_.instance=new m,_.debug=!1},717252:(e,t,r)=>{"use strict";r.d(t,{At:()=>x,Ml:()=>b,SI:()=>F,UF:()=>B,_q:()=>W,ag:()=>H,cF:()=>G,gJ:()=>p,mE:()=>M,qA:()=>V,qi:()=>U});var n=r(843148),i=r(234284),a=r(224100);let o="1039957324840667051",l="1042072203439057981",s="1017757619521383731",c="1037692671113105119",d="1030479012894344777",u="1100947233945489758",p="1274481464484630971",m="1220512233196109878",_="1220802563996996107",h="1221187540287746170",g="1029476790898052743",f="1270487405418367065",E="1028089855820989707",y="1100944790471783866",b="1268676638869538880",v="1217135789855512677",I="1217657098906612843",w={[o]:a.WK,[l]:a.WK,[s]:a.WK,[c]:a.WK,"1096460041736534298":["analytics"],[m]:["analytics","openexternal"],[_]:["analytics","filekey","openexternal"],"1098405969270214551":["analytics","filekey","openexternal"],"1151936790942917527":["analytics","openexternal"],"1101944648482192724":["analytics","openexternal"],"1094001923188252679":["analytics","filekey","openexternal"],[d]:a.WK,[u]:a.WK,"1030848035996871692":["hidecursors"],"1030845409121640454":["hidecursors"],[p]:["cortex","analytics"],[h]:["filekey"],"857346721138427857":["filekey"],"745330164019088593":["filekey"],"1340067847030742527":["cortex","analytics","filekey","firstdraft"]},T={[o]:"https://recordwidget.vimeocdn.com",[l]:"https://recordwidget.vimeocdn.com",[s]:"https://recordwidget.vimeocdn.com",[c]:"https://recordwidget.vimeocdn.com",[d]:"https://www.figma.com",[u]:"https://www.figma.com"},S={"1034777534804649640":["analytics"],"1301665612022689456":["analytics","cortex"],[v]:["analytics","openexternal"],[I]:["analytics","filekey","openexternal"],"1271502283792345209":["cortex"],"1326353654536428586":["cortex"],"1094384373580076374":["analytics","filekey","openexternal"],"1149460326641202255":["analytics","openexternal"],"1101526018404272582":["analytics","openexternal"],"1131307276886895456":["analytics","filekey","openexternal"],[g]:a.WK,[f]:a.WK,[E]:a.WK,[y]:a.WK,"1256428543638612749":["cortex"],[b]:["cortex","analytics"],"1277056884710848803":["cortex","analytics"],"1265815812125155376":["hidecursors"],"1029480467793180296":["hidecursors"],"1276624117086983457":["cortex"],"1313947182028153675":["cortex","analytics","filekey","firstdraft"],"1308848962842011451":["cortex","analytics","filekey","firstdraft"],"1338915561589337295":["cortex","analytics","filekey","firstdraft"],"1342184095219254574":["cortex","analytics","filekey","firstdraft"],"1248327534194310871":["openexternal"],"1247608093818933926":["openexternal"],"1098668453462136230":["analytics"],"1098643145465550199":["analytics","filekey","openexternal"],"1159008294965494982":["analytics","openexternal"],"1105998388939381214":["analytics","openexternal"],"1098069144593389942":["analytics","filekey","openexternal"],"1065825789137646656":a.WK,"1105998344712102365":a.WK,"1065825795062708289":["hidecursors"],"1065825813933952067":["hidecursors"]},C={[v]:"https://static.figma.com/uploads/83e16c32f7fbe88022ff9fcff130cdd6c6423861"},A={[m]:"https://static.figma.com/uploads/83e16c32f7fbe88022ff9fcff130cdd6c6423861"},O={[g]:"https://staging.figma.com",[f]:"https://staging.figma.com",[E]:"https://staging.figma.com",[y]:"https://staging.figma.com"},N=new Set([v,I]),L=new Set([m,_,h,"1220851659530313303"]),R={"1311749001261674187":"1311747530036311881"},P={"1312547578554957136":"1311777988952403297"};function M(e){return"prod"===(0,n.m_)().cluster_name?e===_:"staging"===(0,n.m_)().cluster_name&&e===I}let k={},D={};function F(e){return"prod"===(0,n.m_)().cluster_name?e in T||e in w:"staging"===(0,n.m_)().cluster_name?e in O||e in S:(0,i.g9)()||(0,i.Cm)()?e in k:!!(0,n._w)()}function x(e){return"prod"===(0,n.m_)().cluster_name?e in T?T[e]:void 0:"staging"===(0,n.m_)().cluster_name?e in O?O[e]:void 0:(0,i.g9)()||(0,i.Cm)()?e in k?k[e]:void 0:(0,n._w)()?"*":void 0}function U(e){if(!F(e))throw Error("Untrusted pluginID");return"prod"===(0,n.m_)().cluster_name?new Set(w[e]??[]):"staging"===(0,n.m_)().cluster_name?new Set(S[e]??[]):(0,i.g9)()||(0,i.Cm)()?new Set(D[e]??[]):(0,n._w)()?new Set(a.cR):new Set}function B(){return"prod"===(0,n.m_)().cluster_name?L:"staging"===(0,n.m_)().cluster_name?N:((0,i.g9)()||(0,i.Cm)()||(0,n._w)(),new Set)}function G(e,t){let r=e===("staging"===(0,n.m_)().cluster_name?v:m);return!(t&&r)}function V(e){return"prod"===(0,n.m_)().cluster_name?A[e]:"staging"===(0,n.m_)().cluster_name?C[e]:void 0}function H(e){return"prod"===(0,n.m_)().cluster_name?"1286792998372727741"===e:"staging"===(0,n.m_)().cluster_name?"1286790870036328880"===e:!!((0,i.g9)()||(0,i.Cm)())||!!(0,n._w)()}function W(e){return"prod"===(0,n.m_)().cluster_name?P[e]:"staging"===(0,n.m_)().cluster_name?R[e]:void 0}},133020:(e,t,r)=>{"use strict";r.d(t,{C:()=>n});var n,i=r(441748),a=r(888932),o=r(936756),l=r(514916),s=r(124664);(e=>{e.getTooltipTrackingContext=function(e){return`Pro Onboarding Tooltip: ${(0,o._k)(e)}`},e.getTrackingProperties=function(e){return{productArea:"pro_tier_onboarding",teamId:e}},e.isRecentlyUpgraded=function(e){return!!e&&!!e.last_upgraded_at&&90>=(0,i.c)().diff((0,i.c)(e.last_upgraded_at),"days",!0)},e.canSeeOnboardingInFile=function({editorType:e,selectedView:t,showStarterKit:r,userFlags:n,hasNotifications:i,isDevHandoffView:o,isAppUiShown:c,isLoading:d}){if(a.cp.mobile||a.cp.tablet||i||o||!c||d)return!1;let u="fullscreen"===t.view&&t.starterKitHasBeenHidden;if(e===l.aE.WHITEBOARD&&r&&!u)return!1;let p=(0,s.Cm)(n),m=!!n.figjam_editor_onboarded;return e===l.aE.DESIGN&&!!p||e===l.aE.WHITEBOARD&&!!m}})(n||(n={}))},44412:(e,t,r)=>{"use strict";r.d(t,{Mg:()=>b,WE:()=>n,Yh:()=>f,g3:()=>g,gd:()=>E,iC:()=>y,kL:()=>_});var n,i=r(139776),a=r(441748),o=r(843148),l=r(997108),s=r(514916),c=r(815464),d=r(553432),u=r(69288),p=r(13468);let m="pro_trials_v3",_=14,h=s.MB.PRO_TRIAL,g="exp_pro_trials_v3_start_trial",f="seen_pro_trials_v3_entry_modal",E="seen_pro_trials_v3_team_welcome_modal",y="seen_pro_trials_v3_expiry_modal",b="dismissed_pro_trials_v3_unlocked_expiry_banner";(e=>{e.uxEnabled=()=>!!(0,o.Ub)().pro_trials_v3_ux,e.entryEnabled=()=>(0,e.uxEnabled)()&&!!(0,o.Ub)().exp_pro_trials_v3,e.expiryEnabled=()=>(0,e.uxEnabled)()&&!!(0,o.Ub)().pro_trials_v3_expiry,e.isUserInVariant=l.EF,e.getTrackingProperties=function(e){return e?{productArea:m,text:e}:{productArea:m}},e.getProTrial=function(e,n,i){if(!e)return null;let a=r(e);if(!a)return null;let o=new Date(e.grace_period_end),l=t(o),s=e.id;return{status:a,isOwner:n,userCanEditTeam:(0,d.canEditTeam)(s,i),trialExpiresAt:o,daysLeft:l,teamId:s}},e.getUpgradableProTrials=function(t,r){let n=Object.values(r.teams),o=(0,i.Ib)(n.map(n=>{var i;return e.getProTrial(n,!!(null==(i=t[n.id])?void 0:i[g]),r)})),l=o.filter(e=>e.status===u._.TRIAL_EXPIRED&&e.userCanEditTeam);l.sort((e,t)=>(0,a.c)(e.trialExpiresAt).diff(t.trialExpiresAt));let s=o.filter(e=>e.status===u._.IN_TRIAL&&e.userCanEditTeam);return s.sort((e,t)=>(0,a.c)(e.trialExpiresAt).diff(t.trialExpiresAt)),{ongoingTrials:s,expiredTrials:l}},e.getEligibleProTrialTeams=function(t,r,n,i){let a=(0,c.sL)(n),o=Object.values(n.teams).filter(o=>e.canStartProTrial(t,r,a,o,n,i));return o.sort((e,t)=>t.editors-e.editors),o},e.canStartProTrial=function(t,r,n,i,o,l){return!(!t||!e.entryEnabled()||(0,c.So)(i)||i.stripe_customer_id||!r||n||!(0,d.canEditTeam)(i.id,o)||30>(0,a.c)().utc().diff((0,a.c)(t.created_at).utc(),"days",!0)||(0,a.c)().utc().diff((0,a.c)(t.created_at).utc(),"days",!0)>90||e.getProTrialStatus(i)||Object.keys(l).some(e=>!!l[e][g]))&&!!e.isUserInVariant(t.id)};let t=e=>Math.max(Math.ceil((0,a.c)(e).diff((0,a.c)(),"days",!0)),0);function r(t){return(0,e.uxEnabled)()&&t.grace_period_end&&t.grace_period_type&&h===t.grace_period_type?new Date(t.grace_period_end)<new Date?u._.TRIAL_EXPIRED:u._.IN_TRIAL:null}function n(e){return!!e&&e.status===u._.IN_TRIAL&&e.userCanEditTeam}e.getProTrialStatus=r,e.isEligibleTrialEntryView=function(e){return"folder"===e.view||"team"===e.view||(0,p.U$)(e)},e.canSeeProTrialUx=n,e.canSeeProTrialUxInFile=function(e,t){return n(e)&&(null==t?void 0:t.editorType)&&(null==t?void 0:t.canEdit)},e.canSeeProTrialExpiryUx=function(t){if(!(0,e.expiryEnabled)()||!t||t.status!==u._.TRIAL_EXPIRED)return!1;let r=(0,a.c)().utc().diff((0,a.c)(t.trialExpiresAt).utc(),"days",!0);return!(r<0)&&r<7},e.canSeeExpiredProTrialBanner=function(t,r,n){var i;if(!r)return!1;let a=!!(null==(i=t[r.id])?void 0:i[g]),o=e.getProTrial(r,a,n);return e.canSeeProTrialExpiryUx(o)}})(n||(n={}))},868356:(e,t,r)=>{"use strict";r.d(t,{aN:()=>s,iA:()=>a,uq:()=>c});var n=r(901676),i=r(762820);function a(e){let t=[e];for(;0!==t.length;){let e=t.shift();if(!1!==e.visible){if("TEXT"===e.type)return!0;t.push(...e.childrenNodes)}}return!1}let o="last-used-left-panel-tab",l="ASSETS_TAB";function s(e){n.Ez&&n.Ez.setItem(o,e===i.W8r.ASSETS?l:"LAYERS_TAB")}function c(){if(n.Ez){let e=n.Ez.getItem(o);if(e)return e===l?i.W8r.ASSETS:i.W8r.LAYERS}return null}},213100:(e,t,r)=>{"use strict";r.d(t,{G4:()=>m,Ky:()=>v,Oo:()=>b,Oq:()=>y,_o:()=>f,ao:()=>d,c5:()=>g,cB:()=>p,io:()=>_,kJ:()=>E,qC:()=>h,yQ:()=>u});var n=r(916924),i=r(901676),a=r(191352),o=r(514916),l=r(778112),s=r(793944),c=r(325252);function d(){let e=(0,a.ee)();return"whiteboard"===e?s.Sy.FigJam:"design"===e?s.Sy.Design:"dev_handoff"===e?s.Sy.Handoff:null}let u="recent-widgets-figjam",p="recent-plugins-figjam",m="recent-templates-figjam",_="recent-widgets-figma-design",h="recent-plugins-figma-design",g="recent-face-stamps-figjam",f="recent-whiteboard-tools-figjam";function E(e,t){if(e===s.Sy.FigJam)switch(t){case l.K2.PLUGIN:return p;case l.K2.WIDGET:return u;case l.K2.HUB_FILE:return m;case s.G8.FACE_STAMP:return g;case s.G8.WHITEBOARD_TOOL:return f;default:return null}if(e===s.Sy.Design)switch(t){case l.K2.PLUGIN:return h;case l.K2.WIDGET:return _;default:return null}return e===s.Sy.Handoff&&t===l.K2.PLUGIN?"recent-plugins-handoff":null}function y(e,t){if(!i.Ez)return[];let r=[],n=E(e,t),a=n&&i.Ez.getItem(n);try{r=a&&JSON.parse(a)||[]}catch(e){}return r.map(e=>({...e,type:e.type||s.y4.CommunityResource}))}function b(e){let t=(0,c.Y9)(e),r=e.community_publishers.accepted.map(e=>({isPending:!1,profile:{id:e.id,profileHandle:e.profile_handle,user:null,team:null,org:null,[e.entity_type]:{name:e.name}},role:o._Q.CREATOR}));return t.community_publishers=r,t}function v(e){switch(e.type){case s.y4.CommunityResource:return e.id;case s.y4.TeamTemplate:return e.key;default:(0,n.gy)(e)}}},301660:(e,t,r)=>{"use strict";r.d(t,{K0:()=>f,Ow:()=>v,cF:()=>I,eo:()=>b,sP:()=>y});var n=r(250008),i=r(139776),a=r(219096),o=r(148812),l=r(762820),s=r(939540),c=r(783932),d=r(790184),u=r(793944),p=r(784528),m=r(959872),_=r(807200),h=r(555168),g=r(62128);function f(e,t,r,n,a,o,s,d,u,p=l.MJr.NONE,g){let f=h.wH.user("swap-to-related-symbol",(e,n)=>{(null==n?void 0:n.componentOrStateGroup)&&b(n.componentOrStateGroup,t,r,d,"Related Symbol Dropdown Menu",!1)}),E=[];return p===l.MJr.NONE?E=function(e,t,r,n,a){let{selectedItem:o,relatedItems:l}=y(e,t,r,n);if(!o||l.length<2)return[];let s=l.map(e=>({args:{componentOrStateGroup:e},callback:a,displayText:e.name,separator:!1,recordingKey:e.name,isChecked:e.node_id===o.node_id,displayText:(0,c.G4)(e.name)}));return(0,i.o$)(s,e=>{var t;return`${e.displayText}-${(null==(t=e.args.componentOrStateGroup)?void 0:t.node_id)||""}`}),s}(e,a,o,s,f):p===l.MJr.STATE_INSTANCE&&(E=function(e,t,r,n,i,a){let o=(0,_.MJ)(e,t,r);if(!o||o.mode!==l.MJr.STATE_INSTANCE)return[];let{allStates:s,stateGroup:c,stateGroupModel:d,selectedStates:u,selectedStatesPropertyValues:p}=o,g=(0,m.s)(Object.keys(n),i),f=(e,t)=>{if((null==t?void 0:t.property)&&(null==t?void 0:t.value)){let e={},r=[{property:t.property,value:t.value}];for(let n of u){let{propertyValues:i}=n.stateInfo,a={...i,[t.property]:t.value},o=(0,_.wT)(a,r,s);if(null!==o){let t=o.symbol.node_id;e[t]=(e[t]||[]).concat(g[n.symbol.node_id])}}0!==Object.keys(e).length&&((0,_.g3)("Swapping A Variant",c.nodeId,{source:"context_menu"}),h.Pc.user("swap-related-symbol",()=>I(e)))}},E=d.propertySortOrder||[],y=d.propertyValues;return E&&y?E.map(e=>{let t=p[e],r=y[e];return{displayText:e,children:r.map(r=>({args:{property:e,value:r},callback:f,separator:!1,recordingKey:r,isChecked:r===t,displayText:r})),recordingKey:a?`${a}.${e}`:e}}):[]}(g,r,n,d,s,"swapVariants")),E}let E=e=>{var t,r;return(null==(r=null==(t=null==e?void 0:e.containing_frame)?void 0:t.containingStateGroup)?void 0:r.nodeId)||null};function y(e,t,r,n){var i;if(!e)return{selectedItem:null,relatedItems:[]};let a=null,l={},d=(0,g.U7)(e,n);if(d){let{publishID:e,fileKey:n}=d,i=t[n];if(i){let t=(0,s.Ax)(r.published.components,i),n=(0,s.Ax)(r.published.stateGroups,i);l={...(0,o.qO)(t),...n};let c=t[e]??n[e],d=E(c);a=d?l[d]:c}}else{l=(0,o.e6)(r);let t=E(a=r.local.components[e]??r.local.stateGroups[e]);t&&(a=l[t])}if(!a)return{selectedItem:null,relatedItems:[]};if(!(null==(i=a.containing_frame)?void 0:i.nodeId)&&1===(0,c.QZ)(a.name).length)return{selectedItem:a,relatedItems:[]};let u=(0,c.Mv)(a.name),m=Object.values(l).filter(e=>(0,p.Ww)(e.containing_frame,null==a?void 0:a.containing_frame)&&(0,c.Mv)(e.name)===u);return{selectedItem:a,relatedItems:m}}function b(e,t,r,n,i,a){v(e,t,r,Object.keys(n),i,a)}function v(e,t,r,i,o,s){if(e){if(e.file_key===r){if(e.type===d.Af.COMPONENT){let t=e.node_id;l.i46.replaceSymbolBackingInstances({[t]:i},s)}else{let t=l.i46.getSimilarStates(i,e.node_id,"");l.i46.replaceSymbolBackingInstances(t,s)}(0,n.we)("Instance Swapped To Local Component",{source:o})}else t(a.e8({item:e,instanceGUIDs:i,sourceForTracking:o,storeInRecentsKey:u.Sy.Design,usedSwapInstanceKeyboardShortcut:s}))}}function I(e){l.i46.replaceSymbolBackingInstances(e,!1)}},670384:(e,t,r)=>{"use strict";r.d(t,{i:()=>s,y:()=>c});var n=r(340040),i=r(557044),a=r(163320),o=r(623908),l=r(701540);async function s(e,t="",r="",s,c=!1){c&&await (0,l.G)();let{data:{meta:d}}=await i.cp.post(`/api/multiplayer/${e}/create_savepoint`);return s(o.IR({history:{versions:[d]},direction:n.M5})),s(o.Q5({status:!1})),s(a.O({fileKey:e,savepointID:d.id,label:t,description:r})),d}async function c(e,t="",r="",n,i=!1){return null!=e?await s(e,t,r,n,i):null}},287540:(e,t,r)=>{"use strict";r.d(t,{$h:()=>d,FC:()=>c,ch:()=>s,eM:()=>l});var n=r(307824);r(830300);var i=r(907152),a=r(492084),o=r(425588);function l(e,...t){let r=(0,n.useRef)(new o.U(i.TSSceneGraph.instance,e)),a=(0,n.useCallback)(()=>r.current.readValue(...t),[r,...t]);return(0,n.useSyncExternalStore)(e=>r.current.subscribe(e),a)}let s=(0,a.m)((e,...t)=>{let r=(0,n.useRef)(new o.u(i.TSSceneGraph.instance,e)),a=(0,n.useCallback)(()=>r.current.readValue(...t),[r,...t]);return(0,n.useSyncExternalStore)(e=>r.current.subscribe(e),a)});function c(e){return l((e,t)=>t?t.map(t=>e.get(t)).filter(e=>null!==e):[],e)}function d(e){return l((e,t)=>t?e.get(t):null,e)}},13468:(e,t,r)=>{"use strict";r.d(t,{CA:()=>W,Kg:()=>D,SH:()=>H,U$:()=>K,Wm:()=>G,_8:()=>U,_G:()=>M,cB:()=>F,e8:()=>k,eg:()=>T,gJ:()=>B,gv:()=>S,k1:()=>P,m$:()=>w,sT:()=>x,yI:()=>V});var n=r(260392),i=r(843148),a=r(617292),o=r(742084),l=r(980844),s=r(114396),c=r(82972),d=r(10472),u=r(927976),p=r(739120),m=r(988348),_=r(668988),h=r(93940),g=r(259988),f=r(368432),E=r(685284),y=r(783244),b=r(80772),v=r(916924),I=r(322128);let w=new o.g([new g.uT,new h.i,new u.CU,new _.m,new f.W,new c.iB,new E.o,new y.i,new m.e,new p.s,new d.a,new b.i]);function T(e,t){return new URL(S(e,t),document.baseURI).href}function S(e,t){return w.selectedViewToPath(t,e)}let C=["drafts","fonts","libraries","search","settings","plugins","widgets","user"].concat(g.gh),A=RegExp(`^/files/([0-9]+)/(?:${C.join("|")})(.*)$`),O=RegExp("^/files/([0-9]+)/?$"),N=RegExp(`^/files/team/([0-9]+)/(?:${C.join("|")})(.*)$`),L=(e,t,r)=>{let n=e.split("/");return!n[1]||"files"!==n[1]||(0,i.Ub)().ps_benchmark&&6===n.length&&"files"===n[1]&&"team"===n[2]&&"restore"===n[5]||(e.match(A)?n.splice(2,1):e.match(N)?n.splice(2,2):(n.length>=3&&t&&n[2]===t&&n.splice(2,1),n.length>=3&&r&&n[3]===r&&n.splice(2,2))),n},R=(e,t)=>{let r=e.split("/");return r[1]&&"files"===r[1]&&(e.match(A)?r.splice(2,1):r.length>=3&&t&&r[2]===t&&r.splice(2,1)),r};function P(e){let t=e.match(A);if(t)return t[1];let r=e.match(O);return r?r[1]:null}function M(e){let t=e.match(N);return t?t[1]:null}function k(e){let t=R(e,(0,I.ov)());return""===t[t.length-1]&&t.splice(t.length-1,1),t}function D(e,t,r,n){let o=[],l=(0,i.Ub)().dev_mode_suggested_upgrades&&r&&!!(0,a.K0)(r).devModeSuggestions,s=r&&!!(0,a.K0)(r).dashDeepLink;return(0,i.Ub)().ps_benchmark?o=L(t,e.currentUserOrgId,e.currentTeamId):l||s?(o=L(t,e.currentUserOrgId,e.currentTeamId),t.match(N)&&(o[3]=R(t,e.currentUserOrgId)[3])):o=R(t,e.currentUserOrgId),""===o[o.length-1]&&o.splice(o.length-1,1),w.pathToSelectedView(e,o,r,n)||{view:"recentFiles"}}function F(e,t,r,n,i){if(t===n&&r===i)return e;let a=t===l.Y.ORG?r:`team/${r}`,o=n===l.Y.ORG?i:`team/${i}`;return e.replace(a,o)}function x(e,t){return w.selectedViewName(t,e)}function U(e){let t=e.modalShown;for(;t;){if("ACCOUNT_SETTINGS_MODAL"===t.type)return!0;t=t.prevModal}return!1}function B(e){let t=e.view;switch(t){case"recentFiles":case"deletedFiles":case"folder":case"team":case"allProjects":case"orgAdminSettings":case"licenseGroup":case"workspace":case"search":case"fullscreen":case"org":case"user":case"resourceUnavailable":case"feed":case"desktopNewTab":case"modalInIFrame":case"teamFeed":case"sharedWithYou":case"recentsAndSharing":case"draftsToMove":return!0;case"teamCreation":case"teamUpgrade":case"teamRestore":case"addAnnualPlan":case"addCollaborators":case"promoReview":case"eduReview":case"orgSelfServe":case"communityHub":case"prototype":case"figmascope":case"mobileViewer":case"teamAdminConsole":case"figjamTry":case"presenter":return!1;default:(0,v.gy)(t)}}function G(e){return"fullscreen"===e.view&&e.workshopModeInfoLoaded&&e.workshopModeInfo&&"whiteboard"===e.editorType&&new Date<e.workshopModeInfo.until||!1}function V(e){return!!("fullscreen"===e.view&&e.tryPluginId&&e.tryPluginName&&e.tryPluginVersionId)}function H(e){return"fullscreen"===e.view&&e.nodeId||null}function W(e){var t;switch(e.view){case"fullscreen":return e.fileKey||null;case"mobileViewer":return(null==(t=e.file)?void 0:t.key)||null;case"prototype":return null==e.file&&n.C7({data:{selectedView:e}}),e.file.key;default:return null}}function K(e){return"recentFiles"===e.view||"recentsAndSharing"===e.view&&e.tab===s.e.RECENTLY_VIEWED}},478176:(e,t,r)=>{"use strict";r.d(t,{I:()=>m,e:()=>_});var n=r(886420),i=r(623131),a=r(372152),o=r(327112),l=r(907236),s=r(734904),c=r(753432),d=r(762820),u=r(939540),p=r(190144);let m=(0,i.Zf)({});class _{constructor(e){this.store=e,this.dispatch=e=>{this.store.dispatch(e)}}showEyedropper(e,t,r,n,i,a){this.dispatch(l.oh({color:e,width:t,height:r,rgba:n,grid:i,styleID:a}))}hideEyedropper(){this.dispatch(l.oh(null))}getColorFromNativeEyeDropper(){return window.EyeDropper?new EyeDropper().open().then(({sRGBHex:e})=>e):Promise.reject()}updateSelectionImages(e){let t=a.qM.get(m),r=Object.keys(e).length!==Object.keys(t).length;if(!r){for(let n in t)if(!e[n]){r=!0;break}}r&&a.qM.set(m,e)}updateSelectionPaintsWithFillEncodedPaints(e,t,r,i,a,o){let l=(0,p.wF)(e,t,r,i,a),c=this.store.getState().mirror.selectionPaints;(!(0,n.QZ)(c.paints,l)||c.emptyDueToLimitExceeded||o)&&(this.store.dispatch(s.MR(l)),o&&this.store.dispatch(s.G(!0)))}updatePaintsDirectlyOnSingleNodeWithFillEncodedPaints(e,t){var r=[];for(let t of e){let e=(0,p.Sl)(t);e?r.push(e):console.error(`Failed to decode: ${t}`)}r=r.map((e,r)=>(e.variableScopes=new Set(t?t[r]:[]),e));let i=this.store.getState().mirror.selectionPaints;(!(0,n.QZ)(i.paintsDirectlyOnSingleNode,r)||i.emptyDueToLimitExceeded)&&this.store.dispatch(s.GP(r))}updatePaintStyles(e,t,r){let i=this.store.getState().library,a=this.store.getState().mirror.sceneGraph,o=t.map(e=>{let t=(0,u.ei)(e.key,e.guids,i);return t?{styleKey:e.key,version:e.version,styleGUIDs:e.guids,count:e.count,uniqueNodesCount:e.uniqueNodesCount,styleName:(0,u.OK)(t,a),variableScopes:new Set(e.variableScopes)}:{styleKey:e.key,version:e.version,styleGUIDs:e.guids,count:e.count,uniqueNodesCount:e.uniqueNodesCount,styleName:"",variableScopes:new Set(e.variableScopes)}});o.sort((e,t)=>e.count>t.count?-1:e.count===t.count&&e.styleName<t.styleName?-1:1),(!(0,n.QZ)(e,o)||this.store.getState().mirror.selectionPaints.emptyDueToLimitExceeded)&&this.store.dispatch(r(o))}updateSelectionPaintsWithStyles(e){this.updatePaintStyles(this.store.getState().mirror.selectionPaints.styles,e,s.EC)}updateSelectionTextAndEffectStyles(e){o.cV.syncFromFullscreen({styles:e})}updatePaintsDirectlyOnSingleNodeWithStyles(e){this.updatePaintStyles(this.store.getState().mirror.selectionPaints.stylesDirectlyOnSingleNode,e,s.Oc)}clearSelectionPaintsDueToLimitExceeded(){this.store.dispatch(s.OA())}clearSelectionTextAndEffectStylesDueToLimitExceeded(){o.cV.syncFromFullscreen({styles:[]})}updateSelectionPaintFromDropper(e){let t=this.store.getState().currentSelectionPaintInPicker;if(null==t.originalPaint)return!1;let r=(0,p.Sl)(e);return null==r?(console.error(`Failed to apply paint: ${e}`),!1):(d.uSk.updatePaint((0,p.OG)(t.originalPaint),e,!0),this.store.dispatch(s.Ab({...t,updatedPaintFromDropper:r.paint})),!0)}pickerHasSelectionPaintOpen(){return null!=this.store.getState().currentSelectionPaintInPicker.originalPaint}originalPaintForCurrentSelectionPaintsPicker(){let e=this.store.getState().currentSelectionPaintInPicker.originalPaint;return null==e?"":(0,p.OG)(e)}colorPickerSelectedVariable(){let e=this.store.getState().variablePickerShown;return e.isShown&&e.resolvedType===d.y6c.COLOR&&"variable-picker-alias"===e.type?{varId:e.variableID,modeId:e.modeID}:{}}isPrototypingModalOpen(){var e;return(null==(e=this.store.getState().pickerShown)?void 0:e.id)===c.EP}}},165032:(e,t,r)=>{"use strict";r.d(t,{Ap:()=>o,Ss:()=>h,uK:()=>l});var n=r(855712),i=r(476524),a=r(865768);let o=e=>e.selectedView,l=(0,n.M3)(o,e=>"workspace"===e.view&&e.subView===i.EF.DIRECTORY?e.workspaceId:void 0),s=(0,n.M3)(o,e=>"team"===e.view?e.teamId:void 0),c=(0,n.M3)(o,e=>"folder"===e.view?e.folderId:void 0),d=(0,n.M3)(o,e=>"org"===e.view?e.orgId:void 0),u=(0,n.M3)(o,e=>e.currentTeamId,(e,t)=>"allProjects"===e.view?t:void 0),p=(0,n.M3)(s,u,e=>e.teams,(e,t,r)=>e&&r[e]||t&&r[t]),m=(0,n.M3)(c,e=>e.folders,(e,t)=>e&&t[e]);(0,n.M3)(d,e=>e.orgById,(e,t)=>e&&t[e]);let _=(0,n.M3)(m,a.s,(e,t)=>e&&e.id!==t?e:void 0),h=(0,n.M3)(p,_,(e,t)=>e||t)},97007:(e,t,r)=>{"use strict";r.d(t,{EN:()=>H,EW:()=>eX,Ej:()=>ei,En:()=>eR,I3:()=>ey,OG:()=>ez,QX:()=>eL,Qj:()=>Y,SK:()=>eE,UF:()=>eQ,WM:()=>ek,Y5:()=>q,_0:()=>er,cH:()=>V,e:()=>e$,gX:()=>B,iA:()=>F,iU:()=>D,ig:()=>eJ,kD:()=>k,mO:()=>U,qI:()=>O,sZ:()=>z,tc:()=>eD,uK:()=>N,uw:()=>eZ,wd:()=>em,y8:()=>en});var n=r(484564),i=r.n(n),a=r(445069),o=r.n(a),l=r(334392),s=r.n(l),c=r(681949),d=r.n(c),u=r(788080),p=r.n(u),m=r(855712),_=r(139776),h=r(843148),g=r(329956),f=r(99391),E=r(392992),y=r(896496),b=r(790184),v=r(784528),I=r(596496),w=r(762820),T=r(939540),S=r(815464),C=r(491776),A=r(169988);let O=e=>e.library,N=e=>e.library.libraryRemapping,L=(0,m.M3)([E.AX,y.Cm],(e,t)=>e&&t[e]||{}),R=(0,m.M3)([E.AX,y.gF],(e,t)=>e&&t[e]||{}),P=e=>e.library.openFilePublished__LIVEGRAPH.styles,M=e=>e.library.openFilePublished__LIVEGRAPH.variableSets,k=(0,m.M3)([L,P,M],(e,t,r)=>!(0,g.t7)(t)||!(0,g.t7)(e)||!(0,g.t7)(r)),D=(0,m.M3)([e=>e.library.local.styles,P],(e,t)=>{if(!(0,h.Ub)().ds_remove_redux_library_status)return e;let r={};for(let n of Object.values(e)){let e=eo(n,t[n.node_id],es);r[n.node_id]={...n,status:e}}return r}),F=(0,m.M3)([e=>e.library.local.components,L,x,R],(e,t,r,n)=>{if(!(0,h.Ub)().ds_remove_redux_library_status)return e;let i={},a=(e,t)=>{if((null==t?void 0:t.content_hash)!==e.content_hash||!(0,v.eK)(t.name,null==e?void 0:e.name)||!(0,v.eK)(t.description,e.description)||(0,v.Q3)(t.containing_frame,null==e?void 0:e.containing_frame))return!0;let i=(0,T.wp)(e),a=i&&r[i]||null,o=(0,T.wp)(t),l=o&&n[o]||null;return a?!l||ec(a,l):null!=l};for(let r of Object.values(e)){let e=eo(r,t[r.node_id],a);i[r.node_id]={...r,status:e}}return i});function x(e){return e.library.local.stateGroups}let U=(0,m.M3)([x,R],(e,t)=>{if(!(0,h.Ub)().ds_remove_redux_library_status)return e;let r={};for(let n of Object.values(e)){let e=eo(n,t[n.node_id],ec);r[n.node_id]={...n,status:e}}return r}),B=(0,f.MJ)([e=>{let t={};return Object.entries(e.library.localVariablesById).forEach(([e,r])=>{r.isSoftDeleted||(t[e]=r)}),t},e=>e.library.openFilePublished__LIVEGRAPH.variables,E.w5],(e,t,r)=>{let n={};for(let[i,a]of Object.entries(t))e.hasOwnProperty(i)||(n[i]={...a,subscriptionStatus:"LOCAL",isPublishable:!1,modeValues:{},keyForPublish:a.key,status:b.Av.DELETED,deletedFromSceneGraph:!0,isSoftDeleted:!0,file_key:(null==r?void 0:r.key)??"",hasOnlyBeenReordered:!1});for(let i of Object.values(e)){let e=t[i.node_id],a=eo(i,e,ed);n[i.node_id]={...i,status:a,file_key:(null==r?void 0:r.key)??"",library_key:b.lt,key:null==e?void 0:e.key,hasOnlyBeenReordered:i&&e&&i.version===e.version&&i.sortPosition!==e.sortPosition}}return n}),G=(0,m.M3)([B],e=>i()(Object.values(e),e=>e.variableSetId)),V=(0,f.MJ)([e=>{let t={};return Object.entries(e.library.localVariableSetsById).forEach(([e,r])=>{r.isSoftDeleted||(t[e]=r)}),t},M,G,E.w5],(e,t,r,n)=>{let i={};for(let[r,a]of Object.entries(t))e.hasOwnProperty(r)||(i[r]={...a,subscriptionStatus:"LOCAL",modes:[],defaultModeID:"",isPublishable:!1,keyForPublish:a.key,status:b.Av.DELETED,deletedFromSceneGraph:!0,isSoftDeleted:!0,file_key:(null==n?void 0:n.key)??"",variableSetError:w.KwF.NONE});for(let a of Object.values(e)){let e=t[a.node_id],o=function(e,t,r){let n=eo(e,t,eu);if(n!==b.Av.CURRENT)return n;for(let e of r)if(e.status!==b.Av.CURRENT&&e.status!==b.Av.NOT_STAGED)return b.Av.CHANGED;return b.Av.CURRENT}(a,e,r[a.node_id]??[]);i[a.node_id]={...a,status:o,file_key:(null==n?void 0:n.key)??"",library_key:b.lt,key:null==e?void 0:e.key}}return i}),H=(0,m.M3)([F],e=>{let t={};for(let r of Object.values(e)){let e=(0,T.wp)(r);null!=e&&(t[e]=t[e]??[],t[e].push(r))}return t}),W=(0,m.M3)([F],e=>p()(e,e=>!(0,T.kZ)(e)));function K(e,t){return!!t&&!(t.version===e.version&&(0,v.eK)(t.name,null==e?void 0:e.name)&&(0,v.eK)(t.description,e.description))}(0,f.MJ)([D],e=>Object.values(e).map(e=>e.key)),(0,f.MJ)([D],e=>o()(Object.values(e),"key"));let Y=(0,m.M3)([e=>e.library.local.modules,e=>e.library.openFilePublished__LIVEGRAPH.modules],(e,t)=>{if(!(0,h.Ub)().dse_editor_templates_v1)return{};let r={};for(let n of Object.values(e)){let e=eo(n,t[n.node_id],K);r[n.node_id]={...n,status:e}}return r}),q=(0,m.M3)([W,U],(e,t)=>({...e,...t}));(0,m.M3)([q],e=>Object.values(e).filter(e=>(0,T.oS)(e.status)));let j=(0,m.M3)([q],e=>s()(e,e=>(0,T.aG)(e))),$=(0,m.M3)([q],e=>Object.values(e).some(e=>(0,T.oS)(e.status))),Z=(0,m.M3)([Y],e=>Object.values(e).some(e=>(0,T.oS)(e.status))),z=(0,m.M3)([$,Z],(e,t)=>e||t),Q=(0,m.M3)([q,C.SJ],(e,t)=>Object.keys(t).reduce((t,r)=>(e[r]&&(t[r]=e[r]),t),Object.create(null))),X=(0,m.M3)([Y,C.SJ],(e,t)=>Object.keys(t).reduce((t,r)=>(e[r]&&(t[r]=e[r]),t),Object.create(null))),J=(0,m.M3)([D,q,V,Y],(e,t,r,n)=>Object.keys(e).length>0||Object.keys(t).length>0||Object.keys(r).length>0||Object.keys(n).length>0),ee=(e,t)=>null!=e.status&&(!!(0,T._h)(e.status)||!!(0,T.K4)(e.status)&&(t?t.has(e.node_id):!!e.old_key)),et=(e,t)=>ee(e,t)&&(0,T.oS)(e.status),er=(0,m.M3)([e=>e.userStateLoaded,e=>e.openFile,k,J],(e,t,r,n)=>!e||!(null==t?void 0:t.canEdit)||!r&&!n),en=(0,m.M3)([F,U,D,(e,t)=>t],ea),ei=(0,m.M3)([F,U,D],(e,t,r)=>ea(e,t,r,void 0));function ea(e,t,r,n){let i={...e,...t,...r},a=new Set(n?Object.keys(n).filter(e=>"FORCED_COPY"!==n[e].publishType):Object.values(i).filter(e=>!!e.old_key).map(e=>e.node_id));return Array.from(a).map(t=>e[t]&&(0,T.wp)(e[t])).filter(e=>!!e).forEach(e=>{a.add(e)}),a}let eo=(e,t,r)=>{let n=t&&null==t.unpublished_at,i="isSoftDeleted"in e&&e.isSoftDeleted,a=!!e.isPublishable&&!i;return a&&(0,h.Ub)().cmty_lib_admin_publish?b.Av.NEW:n&&!a?b.Av.DELETED:!n&&a?b.Av.NEW:n||a?r(e,t)?b.Av.CHANGED:b.Av.CURRENT:b.Av.NOT_STAGED},el=(e,t)=>!(t&&t.content_hash===(null==e?void 0:e.content_hash)&&(0,v.eK)(t.name,e.name)&&(0,v.eK)(t.description,e.description)),es=(e,t)=>el(e,t)||!(0,v.eK)(t.sort_position,e.sort_position),ec=(e,t)=>!(t&&t.version===e.version&&!(0,v.Q3)(t.containing_frame,null==e?void 0:e.containing_frame)&&(0,v.eK)(t.name,null==e?void 0:e.name)&&(0,v.eK)(t.description,e.description)),ed=(e,t)=>!e||!t||t.version!==e.version||t.sortPosition!==e.sortPosition,eu=(e,t)=>!(t&&t.version===(null==e?void 0:e.version));(0,f.MJ)([D,P],(e,t)=>{let r=new Set;for(let n of Object.values(e)){let e=t[n.node_id],i=e&&null==e.unpublished_at,a=!!n.isPublishable;i&&a&&!el(n,e)&&!(0,v.eK)(e.sort_position,n.sort_position)&&r.add(n.node_id)}return r});let ep=(e,t,r,n)=>{let[i,a]=d()(t,t=>ee(t,e)),[o,l]=d()(i,r),[s,c]=d()(a,e=>(0,T.oS)(e.status));return{modified:{erroneous:(0,_.cp)(o,...n),wellFormed:(0,_.cp)(l,...n)},unmodified:{published:(0,_.cp)(s,...n),unpublished:(0,_.cp)(c,...n)}}};function em(e,t){return null==t?eh(e):e_(e,t)}let e_=(0,m.M3)([D,F,U,q,V,B,Y,en,(e,t)=>t],eg),eh=(0,m.M3)([D,F,U,q,V,B,Y,ei],(e,t,r,n,i,a,o,l)=>eg(e,t,r,n,i,a,o,l,void 0));function eg(e,t,r,n,i,a,o,l,s){let c=(e,t)=>{if(!s)return 0;let r=s[e.node_id],n=s[t.node_id];return r&&n?"FORCED_COPY"===r.publishType&&"FORCED_COPY"!==n.publishType?1:"FORCED_COPY"!==r.publishType&&"FORCED_COPY"===n.publishType?-1:0:0},d=[...new Set(Object.values(a).filter(e=>!e.isPublishable).map(e=>e.variableSetId))].map(e=>i[e]).filter(e=>!!e);return{styles:ep(l,Object.values(e),()=>!1,[T.s1,c]),components:ep(l,Object.values(t),T.Kw,[T.e6,c]),stateGroups:ep(l,Object.values(r),T.Kw,[T.e6,c]),productComponents:ep(l,Object.values(n),T.Kw,[T.e6,c]),variableSets:ep(l,(0,h.Ub)().ds_variables_extended_sets?Object.values(i):Object.values(i).filter(e=>!(0,b.S_)(e)),T.ao,[T.G_]),variableSetsWithHiddenVariables:ep(l,d,()=>!1,[T.G_]),modules:ep(l,(0,h.Ub)().dse_editor_templates_v1?Object.values(o):[],()=>!1,[T.e6])}}let ef=(0,f.MJ)([G],e=>Object.fromEntries(Object.entries(e).map(([e,t])=>[e,ep(new Set,t,()=>!1,[T.G_])]))),eE=()=>(0,f.MJ)([ef,(e,t)=>t],(e,t)=>{let r=e[t];return r?r.modified.wellFormed:[]}),ey=()=>(0,f.MJ)([ef,(e,t)=>t],(e,t)=>{let r=e[t];return r?r.unmodified.unpublished.filter(e=>!e.isPublishable):[]}),eb=(0,m.M3)([em],e=>e.styles.modified.wellFormed),ev=(0,m.M3)([D],e=>Object.values(e).filter(e=>et(e))),eI=(0,m.M3)([em],e=>e.components.modified.wellFormed),ew=(0,m.M3)([em],e=>e.stateGroups.modified.wellFormed),eT=(0,m.M3)([em],e=>e.productComponents.modified.wellFormed),eS=(0,m.M3)([eT],e=>e.filter(e=>(0,T.oS)(e.status))),eC=(0,m.M3)([em],e=>e.variableSets.modified.wellFormed),eA=(0,m.M3)([eC],e=>e.filter(e=>(0,T.oS)(e.status))),eO=(0,m.M3)([em],e=>(0,h.Ub)().dse_editor_templates_v1?e.modules.modified.wellFormed:[]),eN=(0,m.M3)([eO],e=>e.filter(e=>(0,T.oS)(e.status))),eL=(0,m.M3)([E.w5,A.G],(e,t)=>!!(0,h.Ub)().cmty_lib_admin_publish&&null!=e&&!!e.publishedHubFile||!((0,h.Ub)().ps_benchmark&&(0,I.Kc)(null==e?void 0:e.project))&&!!(e&&(0,S.So)(e.teamId?t[e.teamId]:null))),eR=eb,eP=(0,m.M3)([eR],e=>e.length>0),eM=(0,m.M3)([ev],e=>e.length>0),ek=(0,m.M3)([eI,eL],(e,t)=>t?e:[]),eD=(0,m.M3)([ew,eL],(e,t)=>t?e:[]),eF=(0,m.M3)([eT,eL],(e,t)=>t?e:[]),ex=(0,m.M3)([eF],e=>e.length>0),eU=(0,m.M3)([eS,eL],(e,t)=>t?e:[]),eB=(0,m.M3)([eU],e=>e.length>0),eG=(0,m.M3)([eC],e=>e),eV=(0,m.M3)([eG],e=>e.length>0),eH=(0,m.M3)([eA],e=>e),eW=(0,m.M3)([eH],e=>e.length>0),eK=(0,m.M3)([eO,eL],(e,t)=>t?e:[]),eY=(0,m.M3)([eK],e=>e.length>0),eq=(0,m.M3)([eN],e=>e.length>0),ej=(0,m.M3)([eR,eF,eG,eK],(e,t,r,n)=>[...e,...t,...r,...n]),e$=(0,m.M3)([ej],e=>e.map(e=>e.node_id)),eZ=(0,m.M3)([eP,ex,eV,eY],(e,t,r,n)=>e||t||r||n),ez=(0,m.M3)([eM,eB,eW,eq],(e,t,r,n)=>e||t||r||n),eQ=(0,m.M3)([Q,eF],(e,t)=>t.some(t=>e[t.node_id])),eX=(0,m.M3)([X,eK],(e,t)=>t.some(t=>e[t.node_id])),eJ=(0,m.M3)([j,y.Ab],(e,t)=>({...t,...e}));(0,m.M3)([eK],e=>e.map(e=>e.node_id))},768516:(e,t,r)=>{"use strict";r.d(t,{Ab:()=>z,BB:()=>et,En:()=>Z,GO:()=>en,Gi:()=>J,MD:()=>$,QD:()=>er,QJ:()=>Y,QN:()=>V,U3:()=>q,Yn:()=>G,eS:()=>k,eu:()=>ee,g3:()=>Q,iI:()=>M,kn:()=>W,me:()=>H,sn:()=>B,uM:()=>K,y6:()=>X});var n=r(849300),i=r.n(n),a=r(855712),o=r(843148),l=r(372152),s=r(623131),c=r(752648),d=r(99391),u=r(326660),p=r(675695),m=r(939540),_=r(790184),h=r(699084),g=r(439460),f=r(762820),E=r(836780),y=r(720656),b=r(896496),v=r(491776),I=r(814132),w=r(487023);function T(e,t,r,n,i){let a=Object.create(null);for(let{key:t,version:n}of e)if(t){if(t in r){let e=t;t=r[t],n=(null==i?void 0:i[e])===n?n:"FAKE_VERSION_FOR_MOVED_ITEM"}a[t]=a[t]||new Set,a[t].add(n)}for(let e of t)if(e in n){let t=n[e];a[t]=a[t]||new Set,a[t].add((0,p.Cs)("FAKE_VERSION_FOR_MOVED_ITEM"))}return a}let S=(0,a.M3)([I.wv,v.aY,y.UF,y.OA,e=>{let{styles:t,destinationStyleKeyToLegacySourceStyle:r}=e.library.used__LIVEGRAPH;return Object.values(t).reduce((e,t)=>{if("loaded"!==t.status||!r[t.data.key])return e;let{key:n,version:i}=r[t.data.key];return e[n]=i,e},Object.create(null))}],T),C=(0,a.M3)([I.iQ,v.Cu,y.UF,y.OA],T),A=(0,a.M3)([I.YP],e=>T(e,[],{},{})),O=(0,a.M3)([I.cJ],e=>Object.values(e).reduce((e,t)=>(e.has(t.key)||e.set(t.key,new Set),t.pageIds.forEach(r=>{var n;return null==(n=e.get(t.key))?void 0:n.add(r)}),e),new Map));function N(e,t,r){if(0===e.size)return!1;if(1===e.size){let n=Array.from(e)[0],i=r(t);return(null==i?void 0:i.toLowerCase())!==n.toLowerCase()}return!0}function L({publishedAssetsByKey:e,usedVersionsByAssetKey:t,editingFile:r,getVersion:n,getUpdateAsset:i}){let a=[];for(let o of Object.keys(t)){let l=e[(0,p.ae)(o)];!(!l||r&&(0,g.em)(r,l.file_key))&&N(t[(0,p.ae)(o)],l,n)&&a.push(i(l))}return a}let R=(0,a.M3)([w.GM,S,h.QZ,y.oP,y.Ou,y.M$,I.Ww,v._A],(e,t,r,n,i,a,o,l)=>{let s=!1,c=[],d=!1;return{styleUpdatesForAllPages:L({publishedAssetsByKey:e,usedVersionsByAssetKey:t,editingFile:r,getVersion:e=>e.content_hash,getUpdateAsset:e=>{let t={...e,oldSubscribedKeysToUpdate:[],localIdsToUpdate:[]};if(e.key in n&&(t.oldSubscribedKeysToUpdate=Array.from(n[e.key]),!a[e.key]))for(let e of(s=!0,t.oldSubscribedKeysToUpdate))o.has(e)&&(d=!0);if(e.key in i){for(let r of(t.localIdsToUpdate=Array.from(i[e.key]),a[e.key]||(s=!0),t.localIdsToUpdate))if(l.has(r)){d=!0;break}}return(o.has(e.key)||t.oldSubscribedKeysToUpdate.some(e=>o.has(e))||t.localIdsToUpdate.some(e=>l.has(e)))&&c.push(t),t}}),styleUpdatesForCurrentPage:c,includesMoveUpdatesOnAnyPage:s,includesMoveUpdatesOnCurrentPage:d}}),P=(0,d.MJ)([b._,C],(e,t)=>{let r=Object.keys(t),n=Object.keys(e);return i()(r,n)}),M=(0,a.M3)([P,b.yI,I.OG,v.qs],(e,t,r,n)=>{let i=new Map;if((0,o.Ub)().ds_reset_deleted_state_default)for(let a of e){let e=r[a];if(!e)continue;let o=n.get(e.nodeId),l=null==o?void 0:o.parentNode;if(o&&l&&o.isState&&(null==l?void 0:l.stateGroupKey)){let e=t[l.stateGroupKey];e&&i.set(a,e)}}return i}),k=(0,a.M3)([b._,b.gF,C,h.QZ,y.oP,y.Ou,I.kj,v.LU],(e,t,r,n,i,a,o,l)=>{var s,c,d;let u=!1,p=!1,m=L({publishedAssetsByKey:e,usedVersionsByAssetKey:r,editingFile:n,getVersion:e=>e.content_hash,getUpdateAsset:e=>{let t={...e,oldSubscribedKeysToUpdate:[],localIdsToUpdate:[]},r=e.component_key;if(r in i)for(let e of(t.oldSubscribedKeysToUpdate=Array.from(i[r]),u=!0,t.oldSubscribedKeysToUpdate))o.has(e)&&(p=!0);if(r in a){for(let e of(t.localIdsToUpdate=Array.from(a[r]),u=!0,t.localIdsToUpdate))if(l.has(e)){p=!0;break}}return t}}),_=[],h=[],g=[],f=[],E=new Set;for(let e of m){let r=null==(c=null==(s=e.containing_frame)?void 0:s.containingStateGroup)?void 0:c.nodeId;if(r){let n=null==(d=t[e.file_key])?void 0:d[r];if(n){let t=g.find(e=>e.key===n.key);if(null==t&&(t={...n,newStateKeyToOutdatedItems:{}},g.push(t)),e.component_key){let r=e.component_key;t.newStateKeyToOutdatedItems[r]={oldSubscribedKeysToUpdate:e.oldSubscribedKeysToUpdate,localIdsToUpdate:e.localIdsToUpdate},(o.has(e.component_key)||e.oldSubscribedKeysToUpdate.some(e=>o.has(e))||e.localIdsToUpdate.some(e=>l.has(e)))&&!E.has(n.key)&&(f.push(t),E.add(n.key))}}}else _.push(e),(e.component_key&&o.has(e.component_key)||e.oldSubscribedKeysToUpdate.some(e=>o.has(e))||e.localIdsToUpdate.some(e=>l.has(e)))&&h.push(e)}return{componentUpdatesForAllPages:_,stateGroupUpdatesForAllPages:g,includesMoveUpdatesOnAnyPage:u,componentUpdatesForCurrentPage:h,stateGroupUpdatesForCurrentPage:f,includesMoveUpdatesOnCurrentPage:p}}),D=(0,a.M3)([b.Wp,b.Uf,A,h.QZ,O,e=>e.mirror.appModel.currentPage],(e,t,r,n,i,a)=>{var o;let l={},s=new Set,c=null==(o=f.i46)?void 0:o.getInternalCanvasNodeId();for(let o of Object.keys(r)){let d=e[(0,p.Q5)(o)];if(!d||n&&(0,g.em)(n,d.file_key))continue;let m=t[(0,p.s8)(d.variableCollectionKey)];if(!m)continue;let h=l[(0,p.s8)(d.variableCollectionKey)]||{...m,libraryVariableIdsForUpdate:[]};if((0,_.S_)(h)){(0,u.WI)("variables","Encountered variable bound to variable set extension");continue}let f=r[d.key];if(f&&N(f,d,e=>e.version)&&h.libraryVariableIdsForUpdate.push(d.node_id),h.libraryVariableIdsForUpdate.length>0&&(l[(0,p.s8)(m.key)]=h,i.has(m.key))){let e=i.get(m.key);((null==e?void 0:e.has(a))||c&&(null==e?void 0:e.has(c)))&&s.add(m.key)}}let d=Object.values(l),m=d.filter(e=>s.has(e.key));return{variableSetUpdatesForAllPages:d,variableSetUpdatesForCurrentPage:m}}),F=(0,E.If)(k),x=(0,E.If)(R),U=(0,E.If)(D),B=(0,l.KU)(e=>(0,s.Zf)(t=>{let{componentUpdatesForAllPages:r,componentUpdatesForCurrentPage:n}=t(F);return e===m.MX.ALL?r:n})),G=(0,l.KU)(e=>(0,s.Zf)(t=>{let{stateGroupUpdatesForAllPages:r,stateGroupUpdatesForCurrentPage:n}=t(F);return e===m.MX.ALL?r:n})),V=(0,l.KU)(e=>(0,s.Zf)(t=>{let{styleUpdatesForAllPages:r,styleUpdatesForCurrentPage:n}=t(x);return e===m.MX.ALL?r:n})),H=(0,c.AL)(x,e=>e.styleUpdatesForAllPages),W=(0,l.KU)(e=>(0,s.Zf)(t=>{let{variableSetUpdatesForAllPages:r,variableSetUpdatesForCurrentPage:n}=t(U);return e===m.MX.ALL?r:n})),K=(0,s.Zf)(e=>{let{componentUpdatesForAllPages:t,stateGroupUpdatesForAllPages:r,includesMoveUpdatesOnAnyPage:n}=e(F),{styleUpdatesForAllPages:i,includesMoveUpdatesOnAnyPage:a}=e(x),{variableSetUpdatesForAllPages:o}=e(U);return{componentUpdatesForAllPages:t,stateGroupUpdatesForAllPages:r,styleUpdatesForAllPages:i,variableSetUpdatesForAllPages:o,includesMoveStyleUpdatesOnAnyPage:a,includesMoveComponentUpdatesOnAnyPage:n}}),Y=(0,s.Zf)(e=>{let{componentUpdatesForCurrentPage:t,stateGroupUpdatesForCurrentPage:r,includesMoveUpdatesOnCurrentPage:n}=e(F),{styleUpdatesForCurrentPage:i,includesMoveUpdatesOnCurrentPage:a}=e(x),{variableSetUpdatesForCurrentPage:o}=e(U);return{componentUpdatesForCurrentPage:t,stateGroupUpdatesForCurrentPage:r,styleUpdatesForCurrentPage:i,variableSetUpdatesForCurrentPage:o,includesMoveStyleUpdatesOnCurrentPage:a,includesMoveComponentUpdatesOnCurrentPage:n}}),q=(0,l.KU)(e=>(0,s.Zf)(t=>{let{componentUpdatesForAllPages:r,stateGroupUpdatesForAllPages:n,styleUpdatesForAllPages:i,variableSetUpdatesForAllPages:a}=t(K),{componentUpdatesForCurrentPage:o,stateGroupUpdatesForCurrentPage:l,styleUpdatesForCurrentPage:s,variableSetUpdatesForCurrentPage:c}=t(Y);return e===m.MX.ALL?{scopedComponentUpdates:r,scopedStateGroupUpdates:n,scopedStyleUpdates:i,scopedVariableSetUpdates:a}:{scopedComponentUpdates:o,scopedStateGroupUpdates:l,scopedStyleUpdates:s,scopedVariableSetUpdates:c}})),j=(0,c.AL)(K,({componentUpdatesForAllPages:e,stateGroupUpdatesForAllPages:t,styleUpdatesForAllPages:r,variableSetUpdatesForAllPages:n,includesMoveStyleUpdatesOnAnyPage:i,includesMoveComponentUpdatesOnAnyPage:a})=>{let o=e.length+t.length+r.length+n.length;return{updateCount:o,hasUpdates:o>0,includesMoveStyleUpdatesOnAnyPage:i,includesMoveComponentUpdatesOnAnyPage:a}}),$=(0,c.AL)(Y,({componentUpdatesForCurrentPage:e,stateGroupUpdatesForCurrentPage:t,styleUpdatesForCurrentPage:r,variableSetUpdatesForCurrentPage:n,includesMoveStyleUpdatesOnCurrentPage:i,includesMoveComponentUpdatesOnCurrentPage:a})=>{let o=e.length+t.length+r.length+n.length;return{updateCount:o,hasUpdates:o>0,includesMoveStyleUpdatesOnCurrentPage:i,includesMoveComponentUpdatesOnCurrentPage:a}}),Z=(0,c.AL)(j,({hasUpdates:e})=>e),z=(0,c.AL)($,({hasUpdates:e})=>e),Q=(0,l.KU)(e=>(0,s.Zf)(t=>t(e===m.MX.ALL?j:$).hasUpdates)),X=(0,c.AL)(j,({updateCount:e})=>e),J=(0,c.AL)($,({updateCount:e})=>e),ee=(0,l.S6)([K],({componentUpdatesForAllPages:e,stateGroupUpdatesForAllPages:t,styleUpdatesForAllPages:r,variableSetUpdatesForAllPages:n})=>({componentUpdateKeys:(0,m.wv)(e),stateGroupUpdateKeys:(0,m.wv)(t),styleUpdateKeys:(0,m.wv)(r),variableSetKeys:(0,m.wv)(n)})),et=(0,E.If)(e=>e.library.libraryUpdatesBannerDismissed);function er(e,t){let r=(0,v.qs)(e).get(t);if(!r)return null;let n=r.guid,i=r.styleKey,a=r.styleVersionHash;return i&&a?{GUID:n,key:i,version:a,isLocalStyle:r.isLocalStyle}:null}let en=(0,s.Zf)(!1)},720656:(e,t,r)=>{"use strict";r.d(t,{M$:()=>_,OA:()=>d,Ou:()=>m,UF:()=>c,oP:()=>p,sT:()=>h});var n=r(855712),i=r(99391),a=r(675695),o=r(836780),l=r(487023);let s=e=>e.library.movedLibraryItems,c=(0,n.M3)([(0,i.cN)(s,e=>e.subscribed),l.ol],(e,t)=>({...e,...t})),d=(0,n.M3)([s,l.gz],(e,t)=>({...e.local,...t}));function u(e){let t=Object.create(null);for(let r in e){let n=e[(0,a.ae)(r)];t[n]=t[n]||new Set,t[n].add((0,a.ae)(r))}return t}let p=(0,n.M3)([c],u),m=(0,n.M3)([d],u),_=e=>e.library.used__LIVEGRAPH.destinationStyleKeyToLegacySourceStyle,h=(0,o.If)(_)},491776:(e,t,r)=>{"use strict";r.d(t,{Cu:()=>w,GE:()=>y,GW:()=>u,Kq:()=>m,LU:()=>T,SJ:()=>o,WQ:()=>E,Yd:()=>_,_A:()=>v,_o:()=>s,aY:()=>b,gT:()=>g,kD:()=>f,kL:()=>d,qg:()=>c,qs:()=>l,ug:()=>h,uy:()=>I,w5:()=>S});var n=r(855712),i=r(99391),a=r(836780);let o=e=>e.mirror.sceneGraphSelection,l=e=>e.mirror.sceneGraph,s=e=>e.mirror.appModel,c=(0,i.S4)(e=>Object.keys(o(e)));function d(e){let t=Object.keys(o(e));return 1===t.length?t[0]:null}let u=(0,n.M3)([l,d],(e,t)=>t?e.get(t):null),p=()=>(e,t)=>l(e).get(t);function m(){let e=p();return(0,i.S4)((t,r)=>{let n=e(t,r);return null==n?null:{key:n.styleKey,version:n.styleVersionHash}})}function _(){let e=m();return(0,i.S4)((t,r)=>new Map(r.map(r=>[r,e(t,r)])))}function h(e){return e.mirror.selectionProperties.numSelected||0}let g=(0,i.MJ)([c,l],f);function f(e,t){let r=[];return e.forEach(e=>{let n=t.get(e);((null==n?void 0:n.type)==="INSTANCE"||(null==n?void 0:n.isInstanceSublayer))&&r.push(e)}),r}let E=(0,n.M3)([l,c],(e,t)=>{let r=[];return t.forEach(t=>{let n=e.get(t);n&&r.push(n)}),r}),y=(0,i.S4)(e=>e.library.publishableStyles.map(e=>e.nodeId)),b=(0,i.S4)(e=>e.library.localStylesThatHaveUsagesOnLoadedPages),v=(0,i.S4)(e=>new Set(e.library.localStylesThatHaveUsagesOnCurrentPage)),I=(0,a.If)(b),w=(0,i.S4)(e=>e.library.localSymbolsThatHaveUsagesOnLoadedPages),T=(0,i.S4)(e=>new Set(e.library.localSymbolsThatHaveUsagesOnCurrentPage));function S(e,t){var r;return!(null==(r=l(e).get(t))?void 0:r.visible)}},719876:(e,t,r)=>{"use strict";r.d(t,{g:()=>a,k:()=>i});var n=r(4596);function i(e,t,r){if(!t)return null;let i=e.library.used__LIVEGRAPH.sourceAssetKeyToDestinationKey[t]||((r&&e.library.used__LIVEGRAPH.localNodeIdToDestinationKey[(0,n.MR)(r)])??null);return e.library.used__LIVEGRAPH.styles[i??t]??null}function a(e,t){let{stylePreviewShown:r}=e;return r.isShown&&!r.isCreating&&r.style===t}},814132:(e,t,r)=>{"use strict";r.d(t,{CQ:()=>x,I5:()=>F,Ir:()=>v,OG:()=>h,Sy:()=>S,UL:()=>A,Ww:()=>D,YP:()=>m,_c:()=>O,cJ:()=>_,e4:()=>L,i6:()=>C,iQ:()=>u,kj:()=>P,oH:()=>M,oJ:()=>g,qs:()=>R,wv:()=>E,y4:()=>N});var n=r(445069),i=r.n(n),a=r(869720),o=r.n(a),l=r(855712),s=r(99391),c=r(836780);function d(e){return(0,s.cN)(e=>e.library,e)}let u=d(e=>e.subscribedSymbolsFromLoadedPages),p=d(e=>e.subscribedSymbolsOnCurrentPage),m=(0,s.MJ)([e=>e.library.subscribedVariablesByIdFromLoadedPages],e=>Object.values(e)),_=e=>e.library.subscribedVariableSetsByIdFromLoadedPages,h=(0,l.M3)([u],e=>i()(e,e=>e.key)),g=d(e=>e.subscribedStateGroupsFromLoadedPages),f=d(e=>e.subscribedStateGroupsOnCurrentPage),E=d(e=>e.directlySubscribedStylesFromLoadedPages),y=d(e=>e.directlySubscribedStylesOnCurrentPage),b=d(e=>e.indirectlySubscribedStylesFromLoadedPages),v=(0,l.M3)([b],e=>e.length>0),I=(0,l.M3)([E,b],(e,t)=>[...e,...t]);function w(e){return e.map(e=>e.nodeId)}function T(e){return o()(e.map(e=>e.key))}let S=(0,l.M3)([u],w),C=(0,l.M3)([p],w),A=(0,l.M3)([g],w),O=(0,l.M3)([f],w),N=(0,l.M3)([E],w);(0,l.M3)([y],w);let L=(0,l.M3)([I],w),R=(0,l.M3)([u],T),P=(0,l.M3)([p],e=>new Set(e.map(e=>e.key))),M=(0,l.M3)([g],T),k=(0,l.M3)([E],T),D=(0,l.M3)([y],e=>new Set(e.map(e=>e.key))),F=(0,c.If)(k),x=(0,l.M3)([I],T)},487023:(e,t,r)=>{"use strict";r.d(t,{GM:()=>c,YH:()=>s,gz:()=>l,ol:()=>o});var n=r(855712),i=r(675695),a=r(836780);let o=e=>e.library.used__LIVEGRAPH.sourceAssetKeyToDestinationKey,l=e=>e.library.used__LIVEGRAPH.localNodeIdToDestinationKey,s=(0,a.If)(e=>e.library.used__LIVEGRAPH.sourceAssetKeyToFileName),c=(0,n.M3)([e=>e.library.used__LIVEGRAPH.styles],function(e){let t={};for(let[r,n]of Object.entries(e))"loaded"===n.status&&(t[(0,i.YT)(r)]=n.data);return t})},706148:(e,t,r)=>{"use strict";r.d(t,{QB:()=>p,eQ:()=>s,kP:()=>u,o$:()=>c,oT:()=>l,qO:()=>d}),r(560072);var n=r(839324),i=r(402980),a=r(795236),o=r(553432);function l(e,t,r){return!!e&&(0,a.cz)(e)===n.jH.TEAM_CREATION_CONTROLS_ADMIN_ONLY&&!(t||r)}function s(e){let t=(0,i.Ad)(),r=(0,o.canAdminOrg)(t.currentUserOrgId,t),n=!!e&&(0,o.canAdminLicenseGroup)(e,t),a=l(t.currentUserOrgId?t.orgById[t.currentUserOrgId]:null,r,n);return{canUserAdminOrg:r,canUserAdminLicenseGroup:n,teamCreationIsDisabled:a}}function c(e){switch(e){case null:case void 0:return n.a6.ALLOWED;default:return e}}function d(e){return c(null==e?void 0:e.public_link_controls_setting)===n.a6.BANNED}function u(e){return[n.a6.EXPIRATION_REQUIRED,n.a6.EXP_AND_PWD_REQUIRED].includes(c(null==e?void 0:e.public_link_controls_setting))}function p(e){return[n.a6.PASSWORD_REQUIRED,n.a6.EXP_AND_PWD_REQUIRED].includes(c(null==e?void 0:e.public_link_controls_setting))}},291724:(e,t,r)=>{"use strict";let n;r.d(t,{C:()=>S,aQ:()=>w,cj:()=>O,of:()=>M,sf:()=>C,u0:()=>T});var i=r(307824),a=r(120304),o=r(681949),l=r.n(o),s=r(216712),c=r.n(s),d=r(139776),u=r(819584),p=r(843148),m=r(61836),_=r(506616),h=r(594192),g=r(234284),f=r(392992),E=r(472956),y=r(629968),b=r(865768),v=((n=v||{}).COMMUNITY="community",n.ORGANIZATION="organization",n.WORKSPACE="workspace",n.TEAM="team",n.FILE="file",n.USER="user",n);let I=i.createContext(null);function w(){let{subscription:e,ensureSubscription:t}=(0,h.wl)(i.useContext(I),"Must call `useSubscribedLibraries` from within <SubscribedLibrariesContext>");i.useEffect(()=>{t()},[t]);let r=i.useMemo(()=>(0,_.uU)([]),[]);return(0,g.g9)()?r:e}function T(){let e=w();return(0,u.yC)(()=>{var t;let r=new Set;return null==(t=e.data)||t.forEach(e=>r.add(e.fileKey)),r},[e.data])}function S(){let{untransformedSubscription:e}=(0,h.wl)(i.useContext(I),"Must call `useSubscribedLibraries` from within <SubscribedLibrariesContext>");if("loaded"!==e.status)return{};let t={},{file:r}=e.data;return(null==r?void 0:r.libraryOrgSubscriptions.length)&&(t.org=r.libraryOrgSubscriptions.reduce((e,t)=>{var r;let n=null==(r=t.library)?void 0:r.file.key;return n&&e.add(n),e},new Set)),(null==r?void 0:r.libraryTeamSubscriptions.length)&&(t.team=r.libraryTeamSubscriptions.reduce((e,t)=>{var r;let n=null==(r=t.library)?void 0:r.file.key;return n&&e.add(n),e},new Set)),(null==r?void 0:r.libraryFileSubscriptions.length)&&(t.file=r.libraryFileSubscriptions.reduce((e,t)=>{var r;let n=null==(r=t.library)?void 0:r.file.key;return n&&e.add(n),e},new Set)),(null==r?void 0:r.libraryUserSubscriptions.length)&&(t.user=r.libraryUserSubscriptions.reduce((e,t)=>{var r;let n=null==(r=t.library)?void 0:r.file.key;return n&&e.add(n),e},new Set)),t}function C({children:e}){var t;let r=(0,f.AL)(),n=(0,a.w1)(b.s),o=!!(n&&(null==r?void 0:r.folderId)===n),[l,s]=i.useState(!1),c=null==r?void 0:r.key,d=null==r?void 0:r.teamId,u=null==(t=null==r?void 0:r.team)?void 0:t.workspaceId,p=null==r?void 0:r.parentOrgId,m=(0,_.Qb)(E.Uv2,{fileKey:c||"",teamId:d??"-1",workspaceId:u||null,orgId:p||null},{enabled:!!r&&l}),h=function(e,t){let r=(0,f.AL)(),n=(null==r?void 0:r.parentOrgId)||null,a=(0,y.a0)();return i.useMemo(()=>O(e,n,t,a),[e,n,t,a])}(m,o),g=i.useMemo(()=>({subscription:h,ensureSubscription:()=>s(!0),untransformedSubscription:m}),[m,h]);return i.createElement(i.Fragment,null,i.createElement(I.Provider,{value:g},e),l&&i.createElement(A,{subscription:h}))}function A({subscription:e}){return(0,m.bc)(e,"Subscribed Libraries Subscription Load Time",{numLibraries:"loaded"===e.status?e.data.length:0}),null}function O(e,t,r,n){var i,a,o;if("loading"===e.status||"errors"===e.status||"disabled"===e.status)return e;let s=e.data.file;if(null==s)return(0,_.uU)([]);let u=(0,p.Ub)().dse_preset_libraries,m=(0,_.Fc)(s.libraryPresetSubscriptions)??[],g=s.libraryOrgSubscriptions,f=null==(a=null==(i=s.team)?void 0:i.workspace)?void 0:a.librarySubscriptions,E=s.libraryTeamSubscriptions,y=s.libraryUserSubscriptions,b=s.libraryFileSubscriptions,v=s.communityQuickstartLibraries,I=s.communityLibraryFileSubscriptions,w=[...g.filter(e=>u||!(0,_.Fc)(e.communityLibrary)).filter(e=>r?null==(e.libraryFileSubscriptionOverride||e.libraryUserSubscriptionOverride):null==(e.libraryFileSubscriptionOverride||e.libraryWorkspaceSubscriptionOverride||e.libraryTeamSubscriptionOverride)).map(e=>N(e,"organization")),...b.filter(e=>u||!(0,_.Fc)(e.communityLibrary)).map(e=>N(e,"file"))];if(u){if(!t){let e=m.filter(e=>r?null==(e.libraryFileSubscriptionOverride||e.libraryUserSubscriptionOverride):null==(e.libraryOrgSubscriptionOverride||e.libraryWorkspaceSubscriptionOverride||e.libraryTeamSubscriptionOverride||e.libraryFileSubscriptionOverride)).map(e=>L(e,"community"));w.push(...e)}}else if(n()){let[e,t]=l()(I,e=>e.isSubscribed),r=e.map(e=>L(e,"file")).filter(h.aI),n=new Set(t.map(e=>{var t;return null==(t=e.communityLibrary)?void 0:t.hubFileId}).filter(h.aI)),i=(v??[]).filter(e=>e.communityLibrary&&!n.has(e.communityLibrary.hubFileId)).map(e=>L(e,"file")).filter(h.aI);w.push(...r),w.push(...i)}if(r){let e=y.filter(e=>u||!(0,_.Fc)(e.communityLibrary)).filter(e=>{var r;return null==e.libraryFileSubscriptionOverride&&(null==(r=e.library)?void 0:r.file.parentOrgId)===t}).map(e=>N(e,"user")),r=(null==(o=function(e){var t,r,n,i;if(!(0,p.Ub)().ps_benchmark)return null==(i=null==(n=null==e?void 0:e.currentUser)?void 0:n.orgAwareTeamRoles)?void 0:i.map(e=>{var t;return null==(t=e.team)?void 0:t.libraryTeamSubscriptions}).filter(h.aI);{let n=null==e?void 0:e.teamId;return null==(r=null==(t=null==e?void 0:e.currentUser)?void 0:t.orgAwareTeamRoles)?void 0:r.filter(e=>{var t;return(null==(t=e.team)?void 0:t.id)===n}).map(e=>{var t;return null==(t=e.team)?void 0:t.libraryTeamSubscriptions}).filter(h.aI)}}(s))?void 0:o.map(e=>e.filter(e=>u||!(0,_.Fc)(e.communityLibrary)).filter(P).map(e=>N(e,"team"))))??[];w.push(...e),w.push(...(0,d.YX)(r))}else{let e=E.filter(e=>u||!(0,_.Fc)(e.communityLibrary)).filter(R).map(e=>N(e,"team")),t=(f||[]).filter(e=>u||!(0,_.Fc)(e.communityLibrary)).filter(e=>null==(e.libraryFileSubscriptionOverride||e.libraryTeamSubscriptionOverride)).filter(e=>e.isSubscribed).map(e=>N(e,"workspace"));w.push(...e),w.push(...t)}let T=c()(w.filter(h.aI),e=>e.fileKey);return(0,d.E1)(T,"name"),(0,_.uU)(T)}function N(e,t){let r=e.communityLibrary&&(0,_.Fc)(e.communityLibrary);return r?L({communityLibrary:r},t):e.library&&e.library?{fileKey:e.library.file.key,name:e.library.file.name,numComponents:e.library.numComponents??0,numStateGroups:e.library.numStateGroups??0,numStyles:e.library.numStyles??0,numStylesFill:e.library.numStylesFill??0,numStylesText:e.library.numStylesText??0,numStylesEffect:e.library.numStylesEffect??0,numStylesGrid:e.library.numStylesGrid??0,numVariables:e.library.numVariables??0,numVariablesBoolean:e.library.numVariablesBoolean??0,numVariablesFloat:e.library.numVariablesFloat??0,numVariablesColor:e.library.numVariablesColor??0,numVariablesString:e.library.numVariablesString??0,...(0,p.Ub)().dse_editor_templates_v1?{numModuleAssets:(0,_.Fc)(e.library.numModuleAssets)??0}:null,parentOrgId:e.library.file.parentOrgId,subscriptionType:t,thumbnailUrl:(0,_.Fc)(e.library.file.thumbnailUrl)??"",thumbnailUrlOverride:(0,_.Fc)(e.library.file.thumbnailUrlOverride)??null,thumbnailGuid:(0,_.Fc)(e.library.file.thumbnailGuid)??null}:null}function L(e,t){var r;return(null==e?void 0:e.communityLibrary)?{fileKey:e.communityLibrary.hubFileId,name:e.communityLibrary.name,numComponents:e.communityLibrary.numComponents??0,numStateGroups:e.communityLibrary.numStateGroups??0,numStyles:e.communityLibrary.numStyles??0,numStylesFill:e.communityLibrary.numStylesFill??0,numStylesText:e.communityLibrary.numStylesText??0,numStylesEffect:e.communityLibrary.numStylesEffect??0,numStylesGrid:e.communityLibrary.numStylesGrid??0,numVariables:e.communityLibrary.numVariables??0,numVariablesBoolean:e.communityLibrary.numVariablesBoolean??0,numVariablesFloat:e.communityLibrary.numVariablesFloat??0,numVariablesColor:e.communityLibrary.numVariablesColor??0,numVariablesString:e.communityLibrary.numVariablesString??0,...(0,p.Ub)().dse_editor_templates_v1?{numModuleAssets:(0,_.Fc)(e.communityLibrary.numModuleAssets)??0}:null,parentOrgId:null,subscriptionType:t,thumbnailUrl:(null==(r=(0,_.Fc)(e.communityLibrary.hubFile))?void 0:r.thumbnailUrl)??"",thumbnailUrlOverride:null,thumbnailGuid:null}:null}function R(e){return null==e.libraryFileSubscriptionOverride}function P(e){return null==(e.libraryFileSubscriptionOverride||e.libraryUserSubscriptionOverride)}function M(e,t){switch(t){case"FILL":return e.numStylesFill;case"TEXT":return e.numStylesText;case"EFFECT":return e.numStylesEffect;case"GRID":return e.numStylesGrid;default:return 0}}},912500:(e,t,r)=>{"use strict";r.d(t,{Af:()=>c,CW:()=>l,Q3:()=>o,YT:()=>d,i_:()=>s});var n=r(557044),i=r(355064),a=r(291336);function o(e,t){return n.cp.put("/api/team_join_link",{team_id:e,level:t}).then(({data:e})=>e.meta).catch(e=>{throw e})}function l(e){return`${window.location.origin}/team_invite/redeem/${e.token}`}let s=e=>`RETRIEVING_TEAM_JOIN_LINK_${e}`,c=e=>`RESETTING_TEAM_JOIN_LINK_${e}`;function d(){let e=(0,i.iE)("team_role_redemption"),t=!!e&&parseInt(e),r=t&&(0,a.o5)(t),n=(0,i.iE)("team_name");return n&&r?(0,i.iE)("skipped")?`You're already ${"owner"===r?"the":"a"} team ${r} of ${n}`:`You're now a team ${r} of ${n}`:void 0}},644516:(e,t,r)=>{"use strict";let n;r.d(t,{Al:()=>A,CI:()=>W,Er:()=>eo,GV:()=>D,IP:()=>en,Ke:()=>ea,Md:()=>ee,OA:()=>et,S2:()=>M,SQ:()=>x,U7:()=>V,WE:()=>$,_W:()=>el,_o:()=>Z,aM:()=>j,cL:()=>Q,cl:()=>ei,dh:()=>J,e0:()=>P,g5:()=>L,gR:()=>H,i0:()=>X,k5:()=>k,kj:()=>U,qS:()=>G,qy:()=>er,sn:()=>C,uO:()=>B,yA:()=>R,yW:()=>K});var i=r(120304),a=r(139776),o=r(916924),l=r(843148),s=r(61836),c=r(980068),d=r(560072),u=r(514916),p=r(472956),m=r(815464),_=r(553432),h=r(179572);r(685656);var g=r(546772),f=r(967572),E=r(188376),y=r(492084),b=r(326660),v=r(58908),I=r(596496),w=r(836780),T=r(876760),S=r(291336);async function C(e){let t=[],r={};return await Promise.all(e.map(async e=>{var n;let i=await T.qO.fetchFile(e);if(!(null==i?void 0:i.trashed_at)||!(null==i?void 0:i.team_id))return;t.push(i);let a=null==(n=(await (0,s.k1)(p.SIO,{teamId:i.team_id})).data)?void 0:n.team;(null==a?void 0:a.id)&&(r[a.id]=a)})),await O(t,r)}async function A(e){let t=[],r={};return await Promise.all(e.map(async e=>{var n,i;let a=await T.qO.fetchFile(e.key),o=(0,l.Ub)().ps_benchmark_counts,c={...a,folder_id:o?e.folderId:a.folder_id};if(c&&t.push(c),!e.folderId)return;let d=null==(i=null==(n=(await (0,s.k1)(p.YBT,{projectId:e.folderId})).data)?void 0:n.project)?void 0:i.team;(null==d?void 0:d.id)&&(r[d.id]=d)})),await O(t,r)}let O=(0,y.m)(async(e,t)=>{let r={},n={};if((0,l.Ub)().ps_benchmark_counts){let t={};for(let i of e){if(!i.folder_id)continue;let e=t[i.folder_id]??await T.qO.fetchFolder(i.folder_id);t[i.folder_id]=e;let a=(null==i?void 0:i.editor_type)==="design",o=(null==i?void 0:i.editor_type)==="whiteboard",l=(0,I.ms)(e)?0:1;i.team_id&&a&&(r[i.team_id]=(r[i.team_id]||0)+l),i.team_id&&o&&(n[i.team_id]=(n[i.team_id]||0)+l)}}else for(let t of e){let e=(null==t?void 0:t.editor_type)==="design",i=(null==t?void 0:t.editor_type)==="whiteboard";t.team_id&&e&&(r[t.team_id]=(r[t.team_id]||0)+1),t.team_id&&i&&(n[t.team_id]=(n[t.team_id]||0)+1)}let i=Object.keys(r).find(e=>{var n;let i=t[e];return i&&!F(i,{type:2,nDesignFilesToAdd:r[e],nCurrentDesignFiles:(null==(n=i.teamFileCounts)?void 0:n.designFileCount)||0})});return i||(i=Object.keys(n).find(e=>{var r;let i=t[e];return i&&!F(i,{type:5,nWhiteboardFilesToAdd:n[e],nCurrentWhiteboardFiles:(null==(r=i.teamFileCounts)?void 0:r.whiteboardFileCount)||0})}))});function N(e,t){return!!e.edit_roles&&("whiteboard"===t&&e.edit_roles.whiteboard_files.length>0||"design"===t&&e.edit_roles.design_files.length>0)}function L(e){var t,r;let n=null==(t=e.team_role)?void 0:t.level,i=(null==(r=e.team_role)?void 0:r.pending)||!1;return n&&n>=g.m.EDITOR&&!i||!!e.edit_roles&&e.edit_roles.folders.length>0||!(0,S.u_)(e.team_user,u.aE.DESIGN)&&N(e,u.aE.DESIGN)||!(0,S.u_)(e.team_user,u.aE.WHITEBOARD)&&N(e,u.aE.WHITEBOARD)}function R(e){var t,r,n,i,a,o,l,s;return!!e.team_role||((null==(r=null==(t=null==e?void 0:e.edit_roles)?void 0:t.design_files)?void 0:r.length)||0)>0||((null==(i=null==(n=null==e?void 0:e.edit_roles)?void 0:n.whiteboard_files)?void 0:i.length)||0)>0||((null==(o=null==(a=null==e?void 0:e.edit_roles)?void 0:a.folders)?void 0:o.length)||0)>0||((null==(l=null==e?void 0:e.view_roles)?void 0:l.file_count)||0)>0||((null==(s=null==e?void 0:e.view_roles)?void 0:s.folder_count)||0)>0}function P(e){return((0,S.Ab)(e.team_user,u.aE.DESIGN)||(0,S.Ab)(e.team_user,u.aE.WHITEBOARD))&&!R(e)}let M=e=>{var t;return!!(null==(t=null==e?void 0:e.restrictions_list)?void 0:t.includes(u.u.FILES_LIMITED_LEGACY))},k=e=>{var t;return!!(null==(t=null==e?void 0:e.restrictions_list)?void 0:t.includes(u.u.WHITEBOARD_FILES_LIMITED_BETA))};var D=((n=D||{})[n.ADD_DESIGN_FILE=0]="ADD_DESIGN_FILE",n[n.ADD_PROJECT=1]="ADD_PROJECT",n[n.ADD_N_DESIGN_FILES=2]="ADD_N_DESIGN_FILES",n[n.ADD_EDITOR=3]="ADD_EDITOR",n[n.ADD_FIGJAM_FILE=4]="ADD_FIGJAM_FILE",n[n.ADD_N_FIGJAM_FILES=5]="ADD_N_FIGJAM_FILES",n);function F(e,t){var r,n,i,a,o,l,s,c,d,p,_,h;if(!e||(null==(r=e.restrictionsList)?void 0:r.includes(u.u.LOCKED)))return!1;if((0,m.G8)(e))return!0;switch(t.type){case 0:if(null==(n=e.restrictionsList)?void 0:n.includes(u.u.FILES_LIMITED_LEGACY))return!1;if(t.isDestinationTeamDrafts)return!0;if(t.nCurrentDesignFiles&&t.nCurrentDesignFiles>=m.ZO)return!1;return!(null==(i=e.restrictionsList)?void 0:i.includes(u.u.FILES_LIMITED));case 1:return!(null==(a=e.restrictionsList)?void 0:a.includes(u.u.PROJECTS_LIMITED))&&!(null==(o=e.restrictionsList)?void 0:o.includes(u.u.PROJECTS_LIMITED_LEGACY));case 2:if(null==(l=e.restrictionsList)?void 0:l.includes(u.u.FILES_LIMITED_LEGACY))return!1;if(t.isDestinationTeamDrafts||0===t.nDesignFilesToAdd)return!0;if(t.nCurrentDesignFiles+t.nDesignFilesToAdd>m.ZO)return!1;return!(null==(s=e.restrictionsList)?void 0:s.includes(u.u.FILES_LIMITED));case 3:if(null==(c=e.restrictionsList)?void 0:c.includes(u.u.EDITORS_LIMITED))return!1;return!0;case 4:if(null==(d=e.restrictionsList)?void 0:d.includes(u.u.WHITEBOARD_FILES_LIMITED_BETA))return!1;if(t.isDestinationTeamDrafts)return!0;if(t.nCurrentWhiteboardFiles&&t.nCurrentWhiteboardFiles>=m.ZO)return!1;return!(null==(p=e.restrictionsList)?void 0:p.includes(u.u.WHITEBOARD_FILES_LIMITED));case 5:if(null==(_=e.restrictionsList)?void 0:_.includes(u.u.WHITEBOARD_FILES_LIMITED_BETA))return!1;if(t.isDestinationTeamDrafts||0===t.nWhiteboardFilesToAdd)return!0;if(t.nCurrentWhiteboardFiles+t.nWhiteboardFilesToAdd>m.ZO)return!1;return!(null==(h=e.restrictionsList)?void 0:h.includes(u.u.WHITEBOARD_FILES_LIMITED))}}function x(e,t){return F({subscription:e.subscription,restrictionsList:e.restrictions_list||[],studentTeamAt:e.student_team?new Date:null,gracePeriodEnd:e.grace_period_end?new Date(e.grace_period_end):null},t)}function U(e){var t;let r=Object.values(e.teams),n=Object.values(e.authedTeamsById);if(1===r.length&&(0,_.canAdminTeam)(r[0].id,e))return r[0];if(0===r.length&&1===n.length){let r=null==(t=e.user)?void 0:t.id;if(r)return e.teamAdminRolesForAuthedUsers[r].find(e=>e.team_id===n[0].id)?n[0]:null}return null}function B(e){return!!e.student_team||!!e&&!!e.subscription&&[u.KU.OK,u.KU.GRACE_PERIOD].includes(e.subscription)}function G(e){var t,r,n,i,a,o;let l=null==(t=e.user)?void 0:t.id,s=null==(r=e.openFile)?void 0:r.key;if(!l||!s)return null;let c=null==(i=null==(n=e.fileByKey)?void 0:n[s])?void 0:i.team_id;return c?null==(o=null==(a=e.teamUserByTeamId)?void 0:a[c])?void 0:o[l]:null}function V(){return(0,i.w1)(e=>{var t,r,n;let i=null==(t=e.user)?void 0:t.id;return i?(null==(n=null==(r=e.teamUserByTeamId)?void 0:r[Q(e)])?void 0:n[i])??null:null})}function H(e){switch(e){case f.w.NAME:return(0,d.t)("team_view.team_members_table_column.name");case f.w.ACTIVE_AT:return(0,d.t)("team_view.team_members_table_column.active_at");case f.w.PERMISSIONS:return(0,d.t)("team_view.team_members_table_column.team_permissions");case f.w.DESIGN_PAID_STATUS:return(0,d.t)("team_view.team_members_table_column.design_role.seat_rename");case f.w.FIGJAM_PAID_STATUS:return(0,d.t)("team_view.team_members_table_column.figjam_role.seat_rename");default:(0,o.gy)(e)}}function W(e){switch(e){case E.Q.DASHBOARD:return(0,d.t)("team_view.toolbar.dashboard");case E.Q.MEMBERS:return(0,d.t)("team_view.toolbar.members");case E.Q.SETTINGS:return(0,d.t)("team_view.toolbar.settings");case E.Q.BILLING:return(0,d.t)("team_view.toolbar.billing");default:(0,o.gy)(e)}}function K(e,t){return e&&!(0,_.hasViewerRoleAccessOnTeam)(e.id,t)&&(0,_.canViewTeam)(e.id,t)&&e.org_access===u.Ix.PRIVATE?E.y.MEMBERS:E.y.HOME}let Y=new RegExp(/[https?:?\/\/]?[a-z.]*figma[.\da-z:]*\/files\/([A-z0-9]*)\/team\/(\d+)/),q=new RegExp(/[https?:?\/\/]?[a-z.]*figma[.\da-z:]*\/files\/team\/(\d+)/);function j(e){return Y.test(e)}function $(e){return q.test(e)}function Z(e){let t=new URL(e).pathname.match("team/([A-z0-9]*)");return t?t[1]:null}let z=["recentsAndSharing","draftsToMove","communityHub"];function Q(e){var t;try{if(e.openFile)return e.openFile.teamId||"";if("teamId"in e.selectedView)return e.selectedView.teamId||"";if("folder"===e.selectedView.view){let r=e.selectedView.folderId;if(!e.folders[r])return(0,l.cp)().page_load_team_id||"";return(null==(t=e.folders[r])?void 0:t.team_id)||""}if(z.includes(e.selectedView.view))return e.currentTeamId||""}catch(e){(0,b.oP)(v._.GROWTH_PLATFORM,Error(`Error getting team ID from Redux state: ${e.message}`))}return""}function X(){return(0,i.w1)(e=>Q(e))||""}function J(){return(0,i.w1)(e=>e.teams[Q(e)])||null}let ee=(0,w.If)(e=>e.teams[Q(e)]||null);function et(e){return e.teams[Q(e)]||null}function er(e,t,r){return e?Object.keys((0,h.U)(t.byTeamId,e.id)).filter(e=>r[e]):[]}let en=(0,c.ei)(function(e,t,r){return e?er(e,t,r).map(e=>r[e]):[]});function ei(e,t){let r=[],n={};for(let t of e)t&&(n[t.id]=t,r.push(t.id));return e.sort((e,r)=>{let n=t.indexOf(e.id),i=t.indexOf(r.id);return -1===n&&-1===i?e.createdAt<r.createdAt?1:-1:n-i}),e}function ea(e,t){return ei(e,t).map(e=>e.id)}function eo(e,t){let r=e.byTeamId[t]||{};return(0,a.Ib)(Object.keys(r).map(e=>{let t=r[e];return t?!0===t.pending?null:t.user:null}))}function el(e,t,r){let n=0,i={};for(let a of(t.forEach(e=>i[e.id]=e),Object.keys(r))){let t=i[a],o=r[a][e];if(t&&o){if(t.pro_team||t.org_access||t.student_team)return!1;o.level===g.m.OWNER&&n++}}return n>1}},279580:(e,t,r)=>{"use strict";r.d(t,{Y3:()=>o,_K:()=>l,oF:()=>s});var n=r(560072),i=r(644792),a=r(704392);function o(e){return({light:(0,n.t)("fullscreen_actions.theme.light"),dark:(0,n.t)("fullscreen_actions.theme.dark"),system:(0,n.t)("fullscreen_actions.theme.system_theme")})[e]}function l(e){return a.u.map(t=>({name:`theme-${t}-mode`,isChecked:e===t,displayText:o(t),callback:(e,r,n)=>{n(i.EZ({theme:t,userInitiated:!0}))}}))}function s(e){return[{name:"theme-light-mode",checked:"light"===e,displayForQuickCommand:"theme-light-mode-quick-command",hideCheckForQuickCommand:!0,callback:(e,t,r)=>{r(i.EZ({theme:"light",userInitiated:!0}))}},{name:"theme-dark-mode",checked:"dark"===e,displayForQuickCommand:"theme-dark-mode-quick-command",hideCheckForQuickCommand:!0,callback:(e,t,r)=>{r(i.EZ({theme:"dark",userInitiated:!0}))}},{name:"theme-system",checked:"system"===e,displayForQuickCommand:"theme-system-quick-command",hideCheckForQuickCommand:!0,callback:(e,t,r)=>{r(i.EZ({theme:"system",userInitiated:!0}))}}]}},984812:(e,t,r)=>{"use strict";let n;r.d(t,{QN:()=>c,UX:()=>m,iA:()=>u,k1:()=>d,k9:()=>g,oh:()=>p,wJ:()=>h});var i=r(980068),a=r(560072),o=r(540696),l=((n=l||{})[n.OLD=0]="OLD",n[n.FEB19=1]="FEB19",n);class s{constructor(e,t,r,n){this.textUserLayoutVersion=e,this.intrinsicLineHeight=t,this.fontSize=r,this.lineHeight=n}withLineHeight(e){return new s(this.textUserLayoutVersion,this.intrinsicLineHeight,this.fontSize,e)}}let c=(0,i.ei)(e=>new s(null!=e.textUserLayoutVersion&&(0,o.EH)(e.textUserLayoutVersion)?0===e.textUserLayoutVersion?0:1:o.ee,e.intrinsicLineHeight??null,e.fontSize,e.lineHeight));function d(e){let{intrinsicLineHeight:t,fontSize:r,lineHeight:n}=e;if((0,o.EH)(n))switch(n.units){case"RAW":return n.value;case"PIXELS":if(!(0,o.EH)(r))return;return n.value/r;case"PERCENT":let i=(0,o.kB)(t);if(null==i)return;return n.value/100*i}}function u(e,t){if(null==t||"PERCENT"!==t.units||g(t))return t;let r=d(e.withLineHeight(t));return null==r?t:{value:r,units:"RAW"}}function p(e){let{textUserLayoutVersion:t,intrinsicLineHeight:r,fontSize:n}=e,i=(0,o.kB)(e.lineHeight);if(i)switch(i.units){case"RAW":if(!(0,o.EH)(n))return;return _(i.value*n,t);case"PIXELS":return i.value;case"PERCENT":let a=(0,o.kB)(r);if(null==a||!(0,o.EH)(n))return;return _(i.value/100*a*n,t)}}function m(e){let{textUserLayoutVersion:t,intrinsicLineHeight:r,fontSize:n,lineHeight:i}=e;if((0,o.EH)(i))switch(i.units){case"RAW":if(!(0,o.EH)(n))return;return _(100*i.value,t);case"PIXELS":let a=(0,o.kB)(r);if(null==a||!(0,o.EH)(n))return;return _(100*i.value/(n*a),t);case"PERCENT":return i.value}}function _(e,t){return t===o.ee||0===t?e:Math.round(e)}function h(e){let{lineHeight:t}=e;if(!(0,o.EH)(t))return(0,a.t)("fullscreen.mixed");if(g(t))return(0,a.t)("fullscreen.auto");switch(t.units){case"PERCENT":let r=d(e);if(null==r)return"Mixed";return`${parseFloat((100*r).toFixed(1))}%`;case"PIXELS":return`${parseFloat(t.value.toFixed(1))}`;case"RAW":return`${parseFloat((100*t.value).toFixed(1))}%`}}function g(e){return!!(null!=e&&(0,o.EH)(e))&&"PERCENT"===e.units&&.1>Math.abs(e.value-100)}},550912:(e,t,r)=>{"use strict";r.d(t,{D:()=>i,q:()=>a});var n=r(936756);function i(e){if(!e)return"";let t=e.map(e=>e.handle||e.name||"").filter(e=>!!e);return(0,n.Oy)(t)}function a(){var e;return!!(null==(e=window.INITIAL_OPTIONS)?void 0:e.user_data)}},204121:(e,t,r)=>{"use strict";r.d(t,{Q:()=>s,e:()=>c});var n=r(231800),i=r(557044),a=r(560072),o=r(268984),l=r(978076);let s=(0,o.M0)((e,t)=>{if(!t.userInitiated){e.dispatch(l.Sw(t));return}let r="0"==t.notificationSpaceId?null:t.notificationSpaceId,o={bell:t.isBellStateHigh,current_org_id:r};return(0,n.Y)({requestPromise:i.cp.put("/api/user_notifications_bell",o),fallbackError:(0,a.t)("user_notification.an_error_occurred_marking_all_as_read"),store:e,next:e.dispatch,action:l.Sw(t)})}),c=(0,o.M0)((e,t)=>{if(!t.userInitiated){e.dispatch(l.kf(t));return}return(0,n.Y)({requestPromise:i.cp.put("/api/user_notifications_bell/community/clear"),fallbackError:(0,a.t)("user_notification.an_error_occurred_marking_all_as_read"),store:e,next:e.dispatch,action:l.kf(t)})})},322128:(e,t,r)=>{"use strict";r.d(t,{AX:()=>G,Ab:()=>V,Av:()=>W,Ep:()=>B,GO:()=>b,ID:()=>x,JG:()=>E,OC:()=>O,WO:()=>A,YJ:()=>N,aE:()=>D,ak:()=>H,eK:()=>y,eg:()=>F,mA:()=>R,ov:()=>L,wh:()=>U});var n,i=r(708044),a=r.n(i),o=r(562416),l=r.n(o),s=r(441748),c=r(698228),d=r(899116),u=r(843148),p=r(253728),m=r(662100),_=r(901676),h=r(980844),g=r(934996),f=r(334647);let E=(0,c.Q)(),y=(0,c.Q)(),b=!(null==(n=window.EARLY_ARGS)?void 0:n.file_minimal_user_state),v=null,I=null,w=new class{constructor(){this.batchedCustomEvents=[],this.onVisibilityChange=async()=>{"hidden"===document.visibilityState&&await this.sendBatchedEvents()},this._currentlySendingBatchedEvents=!1,this.sendBatchedEvents=async()=>{if(this._currentlySendingBatchedEvents)return;this._currentlySendingBatchedEvents=!0;let e=this.batchedCustomEvents;this.batchedCustomEvents=[];try{await (0,m._U)(e)}catch(e){}this._currentlySendingBatchedEvents=!1},document.addEventListener("visibilitychange",this.onVisibilityChange),window.addEventListener("pagehide",this.sendBatchedEvents),this.sendBatchedEventsInterval=setInterval(this.sendBatchedEvents,5e3)}async cleanup(){document.removeEventListener("visibilitychange",this.onVisibilityChange),window.removeEventListener("pagehide",this.sendBatchedEvents),clearInterval(this.sendBatchedEventsInterval),await (0,p.U)()}reportUserStateCall(e){this.batchedCustomEvents.push({metric:"web.api_user_state.requested",tags:{source:e,client_visibility:document.visibilityState}})}},T=null,S=null,C=null;function A(e,t){b=!0;let r=L(),n=R();return T&&r===S&&n===C||(w.reportUserStateCall(e),T=f.K.getState({orgId:r||void 0,teamId:n||void 0},t),S=r,S=n,T.then(()=>{T=null,S=null,C=null}).catch(()=>{T=null,S=null,C=null})),T}function O(e){return g.s.getState(e)}function N(e){e||(e="personal"),v=e}function L(){return v?"personal"===v?null:v:v=(0,u.m_)().org_id||null}function R(){return I||(I=(0,u.m_)().team_id||null),I}let P="recent_user_data",M=e=>btoa(JSON.stringify(e)),k=e=>JSON.parse(atob(e));function D(e){B(e,!0)}function F(e){let t=G(),r=a()(t),n=(0,_.UV)();if(r.communityProfileId=e,!l()(t,r))try{n.set(P,M(r))}catch(e){console.error("Failed to set community profile",e)}}function x(e){B(e,!1)}function U(e,t,r){B(e,!1,void 0,void 0,void 0,`${t}-${r}`)}function B(e,t,r,n,i,o){if(d.mY)return;let c=G(),p=a()(c),m=(0,_.UV)();if(t?p.communityUserId=e:p.fileBrowserUserId=e,void 0!==r&&(p.userIdToOrgId||(p.userIdToOrgId={}),p.userIdToOrgId[e]=r),(0,u.Ub)().ps_benchmark&&(void 0!==r||void 0!==i)&&(p.userIdToPlan||(p.userIdToPlan={}),r?p.userIdToPlan[e]=[h.Y.ORG,r]:i&&(p.userIdToPlan[e]=[h.Y.TEAM,i])),n&&(p.communityProfileId=n),o&&(p.seenRecurringBannerIds||(p.seenRecurringBannerIds={}),p.seenRecurringBannerIds[o]=s.c.utc().toISOString()),!l()(c,p))try{m.set(P,M(p))}catch(e){console.error("Failed to set recent workspace",e)}}function G(){let e={communityUserId:null,communityProfileId:null,fileBrowserUserId:null,userIdToOrgId:{},seenRecurringBannerIds:{}},t=(0,_.UV)();try{let r=t.get(P);r&&(e=k(r))}catch(e){console.error("Failed to get recent workspace",e)}return e}function V(e){return G().userIdToOrgId[e]??null}function H(e){var t;return(null==(t=G().userIdToPlan)?void 0:t[e])??null}function W(e,t){var r;let n=`${e}-${t}`;return null==(r=G().seenRecurringBannerIds)?void 0:r[n]}},869588:(e,t,r)=>{"use strict";r.d(t,{CI:()=>H,EN:()=>F,Km:()=>er,Mp:()=>x,Sy:()=>D,_2:()=>P,_S:()=>U,aE:()=>q,a_:()=>j,ct:()=>K,eu:()=>ee,g3:()=>Q,gr:()=>k,kl:()=>et,qK:()=>Y,sN:()=>M,st:()=>J,wH:()=>en});var n=r(250008),i=r(441748),a=r(161400),o=r(843148),l=r(623131),s=r(372152),c=r(742756),d=r(340040),u=r(326660),p=r(58908),m=r(418084),_=r(557044),h=r(967540),g=r(67612),f=r(710544),E=r(317704),y=r(268984),b=r(403132),v=r(907236),I=r(623908),w=r(138884),T=r(606700),S=r(650180),C=r(406044),A=r(585508),O=r(762820),N=r(847492),L=r(876760),R=r(13468);let P="current_version",M=new c.o(40),k=(0,l.Zf)(""),D=L.qO.Query({fetch:async e=>{var t;let r=e.fileKey;if(!r)return null;let i=performance.now(),a=await C.I.getPaginatedVersions({...e,fileKey:r}),o=performance.now()-i;return(0,n.we)("version_diffing_performance_metrics",{name:"Lego versions fetched",durationMs:o}),(null==(t=a.data.meta)?void 0:t.versions)||[]},key:"fileVersionsPaginated"});function F(e,t,r){return`${e}-${t}-${r.id}`}function x(e,t){var r,n;let i=a.x.getState(),o=null==(r=i.openFile)?void 0:r.key,l=[t,null==(n=i.mirror.sceneGraph.getInternalCanvas())?void 0:n.guid].filter(e=>!!e);if(!o||!t)return null;let s=F(o,t,e);if(M.has(s))return M.get(s);let c=new Promise((t,r)=>{B(`${e.canvas_url}&nodes_to_extract=${l.join(",")}`,e=>{t({canvas:e,key:s})},r).onerror=r});return M.set(s,c),c}function U(e){var t;let r=a.x.getState(),n=null==(t=r.openFile)?void 0:t.key,i=r.mirror.appModel.currentPage;if(!n||!i)return null;let o=F(n,i,e);M.delete(o)}function B(e,t,r){var n;let i=null,a=new XMLHttpRequest;a.open("GET",e);let l=null==(n=(0,o.cp)().user_data)?void 0:n.id;return l&&a.setRequestHeader("X-Figma-User-ID",l),a.onload=()=>{200===a.status&&(i=new Uint8Array(a.response))},a.onloadend=()=>{null!=i?t(i):null==r||r("Failed to fetch bytes")},a.responseType="arraybuffer",a.send(),a}let G=async(e,t,r,n)=>{let i=new URLSearchParams;i.set("diff_version","2"),i.set("from_file_version_id",t),i.set("migration_version",`${r}`),n&&n.length>0&&i.set("nodes_to_diff",n.join(","));let{data:{meta:{checkpoint_diff:a}}}=await _.cp.post(`/api/file_diff/v2/checkpoint_diff/${e}?${i.toString()}`);return a},V=async e=>{let t=new Date().getTime(),{data:r}=await _.cp.crossOriginGetAny(e,null,{responseType:"arraybuffer"}),i=new Date().getTime();return(0,n.we)("versioning_performance_metrics",{name:"download_diff",durationMs:i-t},{forwardToDatadog:!0}),r};function H(e){for(let t of e.versions)if(t.id===e.activeId)return t;if(e.linkedVersion&&e.activeId===e.linkedVersion.id)return e.linkedVersion}async function W(e,t,r){var i;let a=await G(t.getState().openFile.key,e,t.getState().fileVersion,r);if(!a.signed_url)return"Error viewing what's changed between file versions.";let o=!!(null==(i=t.getState().openFile)?void 0:i.canEdit),l=new Date().getTime(),[s]=await Promise.all([V(a.signed_url)]),c=new Date().getTime();return((0,n.we)("versioning_performance_metrics",{name:"download_diff_and_load_pages",durationMs:c-l,isEditor:o},{forwardToDatadog:!0}),O.i46.loadHistoryChangesState(s))?"":"Error loading HistoryChangesState into memory."}function K(e,t){if(e)return t.versions.find(t=>t.id===e)}async function Y(e,t){let r=Date.now(),n=K(e,t.getState().versionHistory);if(!n)return{elapsedTime:Date.now()-r,numPagesWithChanges:0};let i=await W(n.id,t),a=Date.now()-r;if(i)throw(0,u.WI)("version diffing","error checking for visible changes",{error:i}),Error("Error checking for visible changes");return{elapsedTime:a,numPagesWithChanges:O.i46.getPagesWithChanges().length}}let q=(0,y.M0)(async(e,t)=>{var r;let n,a;let l=e.getState(),s=()=>{e.dispatch(b.Ej({...l.selectedView,compareLatest:void 0}))},c=()=>{e.dispatch(v.EN({mode:O.Mty.OFF})),s()},d=l.user;if(!(0,o.Ub)().version_diffing||!(0,o.Ub)().xr_debounce_threshold||!d||"fullscreen"!==l.selectedView.view||"whiteboard"===l.selectedView.editorType||l.mirror.appModel.topLevelMode===O.s9F.HISTORY||l.mirror.appModel.activeCanvasEditModeType===O.a_v.COMPARE_CHANGES)return c();let{openFileKey:u}=t;try{let e=await S.i.getLastInteraction({openFileKey:u});n=e.data.meta.last_view_at,a=e.data.meta.last_edit_at}catch{c()}let p=(0,i.c)(n),m=(0,i.c)(a),_=p>m?p:m;if(!_.isValid()||_<(0,i.c)().subtract(7,"days"))return c();let h=C.I.getPaginatedVersions({fileKey:u,createdAtOrBefore:_.toISOString()}),g=C.I.getPaginatedVersions({fileKey:u}),[f,E]=await Promise.all([h,g]),y=f.data.meta.versions,I=E.data.meta.versions;if(!(y.length>0&&I.length>0))return c();let w=y[0],T=I[0];if(!((0,i.c)(T.created_at)>(0,i.c)(w.created_at))||T.user_id===d.id||(null==(r=T.participating_users_array)?void 0:r.includes(d.handle)))return c();e.dispatch(J()),e.dispatch(en({fromVersionId:w.id}))}),j=(0,y.M0)(async(e,t)=>{var r;let a=e.getState(),l=a.user;if(!(0,o.Ub)().version_diffing||!l||"fullscreen"!==a.selectedView.view||"whiteboard"===a.selectedView.editorType||a.mirror.appModel.topLevelMode===O.s9F.HISTORY||a.mirror.appModel.activeCanvasEditModeType===O.a_v.COMPARE_CHANGES)return;let{openFileKey:s}=t,c=(0,i.c)(t.versionHistory.lastEdited),d=(0,i.c)(t.versionHistory.lastViewed),u=d>c?d:c;if(!u.isValid()||u<(0,i.c)().subtract(7,"days"))return;let p=Date.now(),_=C.I.getPaginatedVersions({fileKey:s,pageSize:1,createdAtOrBefore:u.toISOString()}),h=C.I.getPaginatedVersions({fileKey:s,pageSize:1}),[g,f]=await Promise.all([_,h]),E=g.data.meta.versions,y=f.data.meta.versions;if(E.length>0&&y.length>0){let t=E[0],a=y[0];if((0,i.c)(a.created_at)>(0,i.c)(t.created_at)&&a.user_id!==l.id&&!(null==(r=a.participating_users_array)?void 0:r.includes(l.handle))){let r={fileKey:s,eventId:(0,m.c)(),lastEdited:c.toISOString(),lastViewed:d.toISOString(),lastSeenVersion:t.id,lastSeenCreatedAt:t.created_at,latestVersion:a.id,latestCreatedAt:a.created_at};(0,n.we)("Version Diffing Changed Since Last View",{...r,durationMs:Date.now()-p},{forwardToDatadog:!0}),e.dispatch(z({lastSeenVersionId:t.id,trackingProps:r}))}}}),$=null;function Z(e,t,r,n,i){if(!e.canvas_url)return"Couldn't get this version from version history.";{let a=r.size>0,o=n,l=!1,c=e.canvas_url,d=t.getState().mirror.appModel.currentPage;if("LOAD_NEW_VERSION"===i&&d&&(o=d),l=!r.has(o))c+=`&nodes_to_extract=${o}`;else{t.dispatch(I.ue({isLoadingPage:!1}));return}if(c){let e=t.getState().selectedView;N.G.markVersionHistoryLoadStart(e.fileKey,e.nodeId,i);let d=B(c,i=>{if(d===$){var c;$=null;let d=t.getState().selectedView.editorType;if((c=t.getState().mirror.appModel.topLevelMode)===O.s9F.HISTORY||c===O.s9F.DEV_HANDOFF){let c;if(a)O.i46.applyFileToCurrentScene(i);else if(s.qM.set(k,""),!O.i46.loadFigFileForPreview(i))return"Error loading this version into memory.";N.G.markVersionHistoryLoadEnd();let u=t.getState().selectedView.fileKey;c="whiteboard"===d?"figjam":"design"===d||"slides"===d?d:"unknown",N.G.report(u,c),l&&(r.add(o),t.dispatch(I.sF({fetchedPageIds:r})),t.dispatch(I.ue({isLoadingPage:!1}))),e.nodeId&&e.nodeId!==n&&w.uc([e.nodeId]),t.dispatch(v.EN({mode:O.Mty.OFF}))}}});$=d}}return""}let z=(0,y.M0)(async(e,t)=>{let r,i;let{lastSeenVersionId:a,trackingProps:o}=t;try{let t=await Y(a,e);r=t.elapsedTime,i=t.numPagesWithChanges}catch(e){return}if(0===i){(0,n.we)("Version Diffing Notification Skipped",{...t.trackingProps,pagesWithChanges:0,durationMs:r},{forwardToDatadog:!0});return}(0,n.we)("Version Diffing Notification Shown",{...t.trackingProps,pagesWithChanges:i,durationMs:r},{forwardToDatadog:!0}),e.dispatch(f.C.enqueueFront({notification:{type:g.K.SEE_WHATS_CHANGED,message:"See what's changed since the last time you viewed this file",acceptCallback:()=>{(0,n.we)("Version Diffing Notification Opened",o),e.dispatch(J()),e.dispatch(en({fromVersionId:a}))},dismissCallback:()=>{(0,n.we)("Version Diffing Notification Dismissed",o)}}}))}),Q=(0,y.M0)((e,{direction:t})=>{let r=e.getState(),n=(0,R.CA)(r.selectedView);n&&!r.versionHistory.loading&&(e.dispatch(I.qW({loading:!0})),(0,d.Oi)(`/api/versions/${n}`,30,r.versionHistory,t).then(r=>{n===(0,R.CA)(e.getState().selectedView)&&e.dispatch(I.IR({history:r,direction:t}))}))}),X=(0,y.M0)(e=>{e.dispatch(I.KS()),e.dispatch(Q({direction:d.M5}))}),J=(0,y.M0)((e,t)=>{var r;A.CA.triggerAction("enter-history-mode"),A.CA.triggerAction("deselect-all"),e.dispatch(X()),null==(r=O.KEP)||r.uiState().showPropertiesPanel.set(!0),(0,n.we)("Toggle Version History",{source:(null==t?void 0:t.source)||null})}),ee=(0,y.M0)(e=>{var t;e.dispatch(et({id:P})),e.dispatch(en({fromVersionId:void 0})),e.dispatch(E.A.dequeue({matchType:"versions"})),e.dispatch(E.A.dequeue({matchType:"view_changes"})),e.dispatch(v.EN({mode:O.Mty.OFF})),O.i46.exitVersionHistoryMode((null==(t=e.getState().openFile)?void 0:t.canEdit)??!1)}),et=(0,y.M0)((e,t)=>{if(t.id===P){s.qM.set(k,""),O.i46.loadFigFileForPreview(new Uint8Array);let r=e.getState();e.dispatch(b.Ej({...r.selectedView,versionId:void 0,compareVersionId:void 0})),e.dispatch(I.eu({id:t.id}));return}e.dispatch(I.eu({id:t.id}));let r=e.getState(),n=H(r.versionHistory);if(!n)return;e.dispatch(b.Ej({...r.selectedView,compareVersionId:void 0}));let i=e.getState().mirror.appModel.currentPage,a=t.eventType,o=Z(n,e,new Set,i,a);if(o){e.dispatch(h.M.error(o));return}}),er=(0,y.M0)((e,t)=>{let r=t.version,n=t.currentPageNodeId,i=t.fetchedPageIds,a=t.eventType,o=Z(r,e,i,n,a);if(o){let t=`[${a}] Failed load fig file for preview: ${o}`;(0,u.oP)(p._.SCENEGRAPH_AND_SYNC,Error(`[VERSION_HISTORY_INCREMENTAL_LOAD] ${t}`)),e.dispatch(h.M.error(o));return}e.dispatch(I.e4({version:t.version}))}),en=(0,y.M0)(async(e,t)=>{if(!(0,o.Ub)().version_diffing){e.dispatch(I.It(t));return}let r=t.fromVersionId;if(!r)return;let i=K(r,e.getState().versionHistory);if(!i)return;let a=new Date().getTime(),l=await W(i.id,e);if(l){e.dispatch(h.M.error(l));return}let s=new Date().getTime(),c=e.getState().selectedView.editorType,d=T.e[T.e.COMPARE_CHANGES];if((0,n.we)("versioning_performance_metrics",{name:"load_diff",durationMs:s-a,fromCheckpointKey:i.checkpoint_key,nodesToDiff:"all",editorType:c,source:d},{forwardToDatadog:!0}),i.canvas_url){let e=O.i46.getChangesToCompareFromHistoryChangesState();if(e.size>0){let t=Array.from(e).join(",");B(`${i.canvas_url}&nodes_to_extract=${t}`,e=>{O.i46.loadPartialHistoryScene(e)})}}let u=O.i46.startComparingChanges()?"":"Error starting history compare";if(u){e.dispatch(h.M.error(u));return}let p=e.getState();e.dispatch(b.Ej({...p.selectedView,compareVersionId:r,compareLatest:void 0})),(0,n.we)("Version History Compare Start",{fromVersionId:r}),e.dispatch(I.It(t))})},57148:(e,t,r)=>{"use strict";r.d(t,{CE:()=>w,EJ:()=>N,GS:()=>y,Gu:()=>L,Ix:()=>g,KS:()=>f,O2:()=>h,Ok:()=>S,UB:()=>A,WU:()=>E,cn:()=>u,io:()=>b,iw:()=>C,qA:()=>m,sh:()=>O,u:()=>T,wB:()=>v,yI:()=>_,yk:()=>I});var n=r(307824),i=r(698228),a=r(886420),o=r(838836),l=r(234284),s=r(103839),c=r(133648);let d=window.matchMedia("(prefers-reduced-motion: reduce)"),u={navigationDurationMs:200,animationTimingFunction:e=>e<.5?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1,isGetViewportAtomic:!1},p=class{constructor(e,t={}){this.getCommentDestinationForCanvasPosition=(e,t,r)=>this.viewport.getCommentDestinationForCanvasPosition(e,t,r),this.setCanvasSpaceCenter=(e,t,r)=>{this.viewport.setCanvasSpaceCenter(e,t,r)},this.setCurrentPageIdAsync=async e=>{await this.viewport.setCurrentPageIdAsync(e)},this.pageIdForNodeId=e=>this.viewport.pageIdForNodeId(e),this.getValidCommentsRect=()=>this.viewport.getValidCommentsRect(),this.viewport=e,this.config={...u,...t}}navigateTo(e,t,r={}){var n,a;clearTimeout(this.delayTimeout),this.delayTimeout=void 0;let c=this.getViewportInfo();if(t||(t=c.zoomScale),d.matches||(0,l.g9)()||0===r.duration)return this.updateViewport(c,e,t),d.matches&&(null==(n=r.metricsCallback)||n.call(r,{prefersReducedMotion:!0})),Promise.resolve({cancelled:!1});let u=performance.now(),m=null,_=[],h=r.duration??this.config.navigationDurationMs;if(r.ignoreVisibleTargets){let t=s.Cg.subtract(e,{x:c.offsetX,y:c.offsetY});t=s.Cg.scale(1/c.zoomScale,t),t=s.Cg.abs(t);let n=Math.max(c.height,c.width)/2,i=p.DEFAULT_NAVIGATE_BUFFER*(1/c.zoomScale);if(s.Cg.max(t)<n-i)return null==(a=r.metricsCallback)||a.call(r,{prefersReducedMotion:!1}),Promise.resolve({cancelled:!1})}let g=(0,i.Q)(),f=!1,E=function(e){let t=document.getElementById("fullscreen-root");if(!t)return o.Kw;let r=()=>{t.addEventListener("mouseup",e),e()};return t.addEventListener("mousedown",r),()=>{t.removeEventListener("mousedown",r),t.removeEventListener("mouseup",e)}}(()=>{f=!0}),y=e=>{if(r.metricsCallback){let t=0,n=0;_.length&&(n=Math.round(_.reduce((e,r,n)=>((0===n&&e>17||r>17)&&t++,e+r))/_.length)),r.metricsCallback({numberOfSlowFrames:t,avgFrameDuration:n,animationCancelled:e,totalFrames:_.length,prefersReducedMotion:!1})}E(),g.resolve({cancelled:e})},b=t-c.zoomScale,v=s.Cg.scale(c.zoomScale,{x:c.offsetX,y:c.offsetY}),I=s.Cg.scale(t,e),w=s.Cg.subtract(I,v),T=this.getViewportInfo(),S=()=>{var n,i;let a=this.getViewportInfo();if(this.config.isGetViewportAtomic&&((i=T).offsetX!==a.offsetX||i.offsetY!==a.offsetY||i.zoomScale!==a.zoomScale)||f||(null==(n=r.signal)?void 0:n.aborted)){y(!0);return}let o=performance.now(),l=o-u;null!=m&&_.push(Math.round(o-m)),m=o;let d=this.config.animationTimingFunction(Math.min(l/h,1));if(d>=1){y(!1),this.updateViewport(a,e,t);return}let p=c.zoomScale+b*d,g=s.Cg.add(v,s.Cg.scale(d,w)),E=s.Cg.scale(1/p,g);this.updateViewport(a,E,p),requestAnimationFrame(S),T=this.getViewportInfo()};return r.delay?this.delayTimeout=setTimeout(()=>{u=performance.now(),S()},r.delay):S(),g.promise}getViewportInfo(){return this.viewport.getViewportInfo()}getRawViewportInfo(){return this.viewport.getRawViewportInfo()}getCommentsWrapperOffset(e){return this.viewport.getCommentsWrapperOffset(e)}setZoomScale(e,t){this.viewport.setZoomScale(e,t)}setHovering(e){this.viewport.setHovering(e)}updateViewport(e,t,r){this.setCanvasSpaceCenter(t,e,r),this.setZoomScale(e.zoomScale,r)}},m=p;m.DEFAULT_NAVIGATE_BUFFER=60;let _={x:0,y:0,width:1,height:1,offsetX:0,offsetY:0,zoomScale:1,isPanning:!1,isZooming:!1},h=n.createContext(new m({getViewportInfo:()=>_,getRawViewportInfo:()=>_,getCommentsWrapperOffset:e=>({x:0,y:0}),setCanvasSpaceCenter:e=>{},setZoomScale:(e,t)=>{},setHovering:e=>{},setCurrentPageIdAsync:e=>Promise.resolve(),pageIdForNodeId:e=>"1:0",getCommentDestinationForCanvasPosition:(e,t,r)=>null,getValidCommentsRect:()=>null})),g=n.createContext(_.x),f=n.createContext(_.y),E=n.createContext(_.width),y=n.createContext(_.height),b=n.createContext(_.offsetX),v=n.createContext(_.offsetY),I=n.createContext(_.zoomScale),w=n.createContext(_.isPanning),T=n.createContext(_.isZooming),S=n.createContext(0),C=n.createContext(!1),A=n.createContext({current:_}),O=n.createContext({current:_});function N({latestViewport:e,children:t}){let r=n.useRef(e),i=n.useRef(e);return i.current=r.current,r.current=e,n.createElement(O.Provider,{value:i},n.createElement(A.Provider,{value:r},n.createElement(g.Provider,{value:e.x},n.createElement(f.Provider,{value:e.y},n.createElement(E.Provider,{value:e.width},n.createElement(y.Provider,{value:e.height},n.createElement(b.Provider,{value:e.offsetX},n.createElement(v.Provider,{value:e.offsetY},n.createElement(I.Provider,{value:e.zoomScale},n.createElement(w.Provider,{value:e.isPanning},n.createElement(T.Provider,{value:e.isZooming},t)))))))))))}function L(e){let{getViewport:t}=e,[r,i]=n.useState(t()||_),o=n.useCallback(()=>{i(e=>{let r=t()||_;return(0,a.QZ)(e,r)?e:r})},[t,i]);return(0,c.U)(o),n.createElement(N,{latestViewport:r},e.children)}},94896:(e,t,r)=>{"use strict";r.d(t,{$O:()=>c,AX:()=>d,Ih:()=>s});var n=r(307824),i=r(120304),a=r(849208),o=r(762820),l=r(241024);let s={MAIN_GUIDE:"https://help.figma.com/hc/articles/1500004414622",TROUBLESHOOT:"https://help.figma.com/hc/articles/4402390108951",ACCESSIBILITY:"https://help.figma.com/hc/articles/4402390110743",FEEDBACK_FORM:"https://form.asana.com?k=FPQgFCXUINQN6CmMtWiabQ&d=10497086658021"};function c(){let e=(0,i.OY)(),t=(0,i.w1)(e=>e.multiplayer.observingSessionID),r=(0,i.w1)(e=>e.multiplayer.sessionID);return(0,n.useCallback)(function(n){if(n&&n.sessionID){try{o.Abq.observeUser(n.sessionID)}catch{return}t!==n.sessionID&&r!==n.sessionID&&e(a.s({aware_of_observation_mode:!0}))}},[t,r,e])}function d(){let[e,t]=n.useState(null),r=(0,i.w1)(e=>e.voice.showWidget);return n.useEffect(()=>{r&&!e&&t(l.e.getInstance())},[r,e]),e}},434064:(e,t,r)=>{"use strict";r.d(t,{Kd:()=>c,q0:()=>u,qU:()=>d});var n=r(307824),i=r(120304),a=r(250008),o=r(805388),l=r(560072),s=r(530152);let c="audio-paywall-key",d=(()=>{let e=!0,t=!1;return r=>{t||setTimeout(()=>{r>0&&e?(e=!1,(0,a.we)("Context Viewed",{name:"join-call-with-others"})):e||0!==r||(t=!0,(0,a.we)("Context Viewed",{name:"should-close-open-audio-nux"}))},200)}})();function u(){let e;let t=(0,i.w1)(e=>e.openFile),{userIdsInCall:r}=(0,s._q)(t.key),a=(0,s.yk)(r,t.key).map(e=>e.name);e=a.length>3?[...a.slice(0,2),(0,l.t)("collaboration.voice.n_others",{numUsers:a.length-2})]:a;let c=n.createElement(o.m,null,e);return n.createElement(l.Tx,{id:"collaboration.voice.are_talking_in_this_file",numVoiceUsers:e.length,voiceUserNames:c,joinText:n.createElement("b",null,n.createElement(l.Tx,{id:"collaboration.voice.join_lower"}))})}},530152:(e,t,r)=>{"use strict";r.d(t,{_q:()=>m,cd:()=>_,yk:()=>h});var n=r(307824),i=r(120304),a=r(886420),o=r(819584),l=r(733960),s=r(4256),c=r(814380),d=r(627652),u=r(251596);function p(){let e=(0,i.w1)(e=>e.multiplayer).allUsers,t=c.cD.useVoiceMetadataBySessionId();function r(e,t){return e.sessionID===t.sessionID&&e.sawMouse===t.sawMouse&&e.deviceName===t.deviceName&&e.name===t.name&&e.imageURL===t.imageURL}return{multiplayerUsersInVoiceCall:(0,o.oz)(()=>e.filter(e=>{var r;return null==(r=t[e.sessionID])?void 0:r.connectedCallId}),[e,t],r),multiplayerUsersNotInVoiceCall:(0,o.oz)(()=>e.filter(e=>{var r;return!(null==(r=t[e.sessionID])?void 0:r.connectedCallId)}),[e,t],r)}}function m(e,t){let r=(0,u.C2)(),a=(0,i.w1)(e=>e.multiplayer.deviceNameFilter),o=(0,i.w1)(t=>e&&t.voice.activeCall[e]),{multiplayerUsersInVoiceCall:s,multiplayerUsersNotInVoiceCall:c}=p(),m=(0,i.w1)(e=>e.voice.userIdsInCallFromProvider),[_,h]=(0,n.useState)(new Set),[g,f]=(0,n.useState)([]),[E,y]=n.useState(),b=(0,l.i)(o);return n.useEffect(()=>{o&&!b&&!E&&t&&(y(!0),setTimeout(()=>{y(!1)},2e3))},[o,b,t,E]),n.useEffect(()=>{!function(){if(o&&m.length>1&&!E){let e=new Set(m);h(e);let t=[];for(let r of[...c,...s])e.has(r.userID)||t.push(r);f((0,d.wl)(t,a))}else h(new Set(s.map(e=>e.userID))),f((0,d.wl)(c,a))}()},[o,s,c,r,a,m,E]),{userIdsInCall:_,usersNotInCall:g}}function _(e,t){let r=(0,i.OY)(),{multiplayerUsersInVoiceCall:o,multiplayerUsersNotInVoiceCall:l}=p(),c=n.useMemo(()=>o.reduce((e,t)=>({...e,[t.userID]:t.userID in e?e[t.userID].add(t):new Set([t])}),{}),[o]),d=n.useMemo(()=>l.reduce((e,t)=>({...e,[t.userID]:t.userID in e?e[t.userID].add(t):new Set([t])}),{}),[l]),u=(0,i.w1)(e=>t&&t in e.activeFileUsers?e.activeFileUsers[t]:void 0,i.G),m=(0,i.w1)(e=>e.voice.voiceUsersById),[_,h]=(0,n.useState)([]),[g,f]=(0,n.useState)([]),[E,y]=(0,n.useState)([]);return n.useEffect(()=>{let t=[],r=[],n=[];for(let i of e)if(i in c)r.push(...c[i]);else if(i in d)r.push(...d[i]);else if(u&&i in u){let e=u[i];t.push({imageURL:e.imageUrl,name:e.handle,userID:e.id})}else i in m?t.push(m[i]):n.push(i);(0,a.QZ)(E,r)||y(r),(0,a.QZ)(g,t)||f(t),(0,i.G)(_,n)||h(n)},[u,e,c,d,m,_,E,g]),n.useEffect(()=>{t&&_.length>0&&r(s.wb({fileKey:t,userIds:_}))},[_,r,t]),{voiceUsersInMultiplayer:E,voiceUsersNotInMultiplayer:g}}function h(e,t){let{voiceUsersInMultiplayer:r,voiceUsersNotInMultiplayer:i}=_(e,t);return n.useMemo(()=>[...r,...i],[r,i])}},73664:(e,t,r)=>{"use strict";let n;r.d(t,{Ki:()=>v,Mh:()=>h,Ql:()=>f,SI:()=>b,Sg:()=>y,Su:()=>E,mY:()=>g,sZ:()=>_});var i=r(307824),a=r(120304),o=r(899116),l=r(733960),s=r(888932),c=r(251368),d=r(4256),u=r(644516),p=r(955884);let m=()=>!((0,s.KL)()||(0,s.Cw)());function _(){let e=(0,a.w1)(e=>e.openFile),t=(0,a.w1)(e=>e.orgById),r=(0,a.w1)(e=>e.teams),n=null==e?void 0:e.key,o=(0,a.w1)(e=>n&&!!e.voice.activeCall[n]),[s,c]=i.useState(!1),d=(0,l.i)(s);return i.useEffect(()=>{let n=m()&&4===g({openFile:e,teams:r,orgById:t});!0===d&&!n&&o||c(n)},[e,t,r,d,o]),s}var h=((n=h||{})[n.FEATURE_DISABLED=0]="FEATURE_DISABLED",n[n.DISABLED_BY_ORG=1]="DISABLED_BY_ORG",n[n.INELIGIBLE_FILE_IN_PERSONAL_SPACE=2]="INELIGIBLE_FILE_IN_PERSONAL_SPACE",n[n.ELIGIBLE_WITH_UPGRADE=3]="ELIGIBLE_WITH_UPGRADE",n[n.ELIGIBLE=4]="ELIGIBLE",n);function g(e){if("gov"===window.INITIAL_OPTIONS.cluster_name)return 0;let t=e.openFile;if(!t||!t.parentOrgId&&!t.teamId)return 0;if(t.parentOrgId){let r=e.orgById[t.parentOrgId];return r?r.voice_enabled?4:1:0}if(t.teamId){let r=e.teams[t.teamId];return r?(0,u.uO)(r)?4:3:0}return 2}function f(){var e;return(null==(e=(0,c.A5)())?void 0:e.getPrimaryLocale(!0))==="en"}function E(){return!!o.sZ}function y(e){return e>=p.E5.STARTED&&e<p.E5.DONE}function b(e){return e<p.E5.NOT_STARTED}function v(e,t){var r;null==(r=o.sZ)||r.setCaptionsEnabled(t),e(d.Iv(t))}},861216:(e,t,r)=>{"use strict";r.d(t,{Ed:()=>o,Ou:()=>i,o3:()=>a,uA:()=>l});var n=r(307824);function i(e,t){let[r,i]=(0,n.useState)(null),[a,o]=(0,n.useState)(!1);return((0,n.useEffect)(()=>{if(t&&!a){let r=function(t){i(t[e]||null)};return t.volumeLevelsStore.subscribe(r),o(!0),()=>{t.volumeLevelsStore.unsubscribe(r),o(!1)}}},[t]),t)?r:null}function a(e,t,r){let n=t=>{r(t[e]||null)};return t&&t.volumeLevelsStore.subscribe(n),{unsubscribe:()=>null==t?void 0:t.volumeLevelsStore.unsubscribe(n)}}function o(e,t){let[r,i]=(0,n.useState)(),[a,o]=(0,n.useState)(!1);if((0,n.useEffect)(()=>{if(t&&!a){let r=function(t){var r;i(null==(r=t[e])?void 0:r.isMuted)};return t.volumeLevelsStore.subscribe(r),o(!0),()=>{t.volumeLevelsStore.unsubscribe(r),o(!1)}}},[t]),t)return r}function l(e){let[t,r]=(0,n.useState)(null),[i,a]=(0,n.useState)(!1);return(0,n.useEffect)(()=>{if(e&&!i){let t=function(e){r(e)};return e.recentlySpokeIdStore.subscribe(t),a(!0),()=>{e.recentlySpokeIdStore.unsubscribe(t),a(!1)}}},[e]),t}},801020:(e,t,r)=>{"use strict";r.d(t,{AJ:()=>_,AR:()=>f,C0:()=>u,Gw:()=>C,I7:()=>h,Q5:()=>g,Qn:()=>l,SQ:()=>d,VD:()=>b,WS:()=>A,ao:()=>s,gO:()=>L,mI:()=>w,nU:()=>O,o5:()=>y,of:()=>N,ok:()=>c,q:()=>I,s1:()=>p,sz:()=>n,uH:()=>E,w5:()=>S,wR:()=>v,wn:()=>m,y:()=>T});var n,i=r(326660),a=r(418084);function o(e){window.parent.postMessage(e,"*")}function l(){o({type:"FIGMA_READY"})}function s(e){o({type:"CSS_PROPERTIES",data:{cssProperties:e}})}function c(e){o({type:"HTML_SKELETON",data:{htmlSkeleton:e}})}function d(e){o({type:"TEXT",data:{text:e}})}function u(e,t){o({type:"LAYERS",data:{rootNodeId:e,layers:t}})}function p(e){o({type:"ASSET",data:{asset:e}})}function m(e){o({type:"RELATED_LINK_CREATED",data:{link:e}})}function _(e){o({type:"RELATED_LINK_REMOVED",data:{link:e}})}function h(e){o({type:"SELECTED_LAYER_GUID",data:{guid:e}})}function g(e){o({type:"SELECTED_PAGE_GUID",data:{guid:e}})}function f(e){o({type:"CONFIGURE_AUTOCOMPLETE",data:{providers:e}})}function E(e){o({type:"GENERATED_CODE",data:{sections:e}})}function y(e){o({type:"OPEN_RELATED_LINK",data:{href:e}})}function b(){o({type:"CREATE_FILE_LINK"})}let v=(0,r(492084).w)(e=>{o({type:"OPEN_IN_BROWSER",data:{href:e}})});function I(e){o({type:"FILE_NAME",data:{name:e}})}function w(){o({type:"OPEN_AUTOCOMPLETE_LINE_SETTINGS"})}function T(){o({type:"OPEN_AUTOCOMPLETE_BLOCK_SETTINGS"})}function S(e,t,r){o({type:"THUMBNAIL",data:{nodeId:e,thumbnailDataUri:t,thumbnailSize:r}})}function C(){o({type:"PAGE_LOADED"})}function A(){o({type:"IDLE_LOGOUT"})}function O(){o({type:"GO_BACK_TO_INDEX_PAGE"})}(e=>{e.sendGetLocalFileExtensionManifest=function(e){return N.sendMessage({type:"GET_LOCAL_FILE_EXTENSION_MANIFEST",request:{id:e}})},e.sendCreateMultipleNewLocalFileExtensions=function(e,t){return N.sendMessage({type:"CREATE_MULTIPLE_NEW_LOCAL_FILE_EXTENSIONS",request:{options:e,depth:t}})},e.sendGetLocalFileExtensionSourceMessage=function(e){return N.sendMessage({type:"GET_LOCAL_FILE_EXTENSION_SOURCE",request:{id:e}})},e.sendUpdateCachedContainsWidget=function(e){return N.sendMessage({type:"UPDATE_CACHED_CONTAINS_WIDGET",request:e})},e.sendGetLocalManifestFileExtensionIdsToCachedMetadataMap=function(){return N.sendMessage({type:"GET_LOCAL_MANIFEST_FILE_EXTENSION_IDS_TO_CACHED_METADATA_MAP",request:void 0})},e.sendRegisterManifestChangeObserverMessage=function(e){return L.registerCallback({type:"REGISTER_MANIFEST_CHANGE_OBSERVER"},e)},e.sendRegisterCodeChangeObserverMessage=function(e){return L.registerCallback({type:"REGISTER_CODE_CHANGE_OBSERVER"},e)},e.sendRegisterUIChangeObserverMessage=function(e){return L.registerCallback({type:"REGISTER_UI_CHANGE_OBSERVER"},e)},e.sendOpenExtensionDirectoryMessage=function(e){return o({type:"OPEN_EXTENSION_DIRECTORY",data:{id:e}})},e.sendOpenExtensionManifestMessage=function(e){return o({type:"OPEN_EXTENSION_MANIFEST",data:{id:e}})},e.sendRemoveFileExtensionMessage=function(e){return N.sendMessage({type:"REMOVE_LOCAL_FILE_EXTENSION",request:{id:e}})},e.sendGetLocalManifestFileExtensionIdsToCachedContainsWidgetMapMessage=function(){return N.sendMessage({type:"GET_LOCAL_MANIFEST_FILE_EXTENSION_IDS_TO_CACHED_CONTAINS_WIDGET_MAP",request:void 0})},e.sendToggleDevToolsMessage=function(){return o({type:"TOGGLE_DEV_TOOLS"})},e.sendGetAllLocalFileExtensionIdsMessage=function(){return N.sendMessage({type:"GET_ALL_LOCAL_FILE_EXTENSION_IDS",request:void 0})},e.sendWriteNewExtensionDirectoryToDiskMessage=function(e){return N.sendMessage({type:"WRITE_NEW_EXTENSION_DIRECTORY_TO_DISK",request:e})}})(n||(n={}));let N=new class{constructor(){this.pendingMessagesById={}}sendMessage(e){let t=(0,a.c)(),r={...e,requestId:t};return new Promise((e,n)=>{this.pendingMessagesById[t]={...r,resolve:e,reject:n},o(r)})}resolveMessage(e){let t=this.pendingMessagesById[e.requestId];if(!t){(0,i.WI)("MessageWithResponseManager.resolveMessage","No pending message found",{response:e,pendingMessagesById:this.pendingMessagesById},{reportAsSentryError:!0});return}e.response&&(t.resolve(e.response),delete this.pendingMessagesById[e.requestId])}},L=new class{constructor(){this.callbacksById={}}registerCallback(e,t){let r=(0,a.c)();return this.callbacksById[r]=t,o({...e,callbackId:r}),()=>this.cancelCallback(r)}resolveMessage(e){let t=this.callbacksById[e.callbackId];if(!t){(0,i.WI)("MessageWithCallbackManager.resolveMessage","No callback found",{response:e,callbacksById:this.callbacksById},{reportAsSentryError:!0});return}t(e.callbackData)}async cancelCallback(e){await N.sendMessage({type:"CANCEL_CALLBACK",request:{callbackId:e}}),delete this.callbacksById[e]}}},996640:(e,t,r)=>{"use strict";r.d(t,{_c:()=>c,a4:()=>d,gx:()=>u,yW:()=>p});var n=r(307824),i=r(9256),a=r(484212),o=r(506616),l=r(892368),s=r(873036);function c(e){let t={};return e.forEach(e=>{let r=e.workspace_id??l._;t[r]=(t[r]??0)+1}),t}function d(e,t=!0){let[r,l]=n.useState((0,o.W_)()),c=n.useCallback(async()=>await s.UT.getWorkspaceTeamsCounts({orgId:e}),[e]),d=(0,a.Y)(()=>c(),[c]);return(n.useEffect(()=>{(0,i._g)(d)?l((0,o.uU)(d.value.data.meta)):(0,i.ym)(d)?l((0,o.u8)([])):l((0,o.W_)())},[d]),t)?r:(0,o.W_)()}function u(e,t){return`${location.origin}/files/${t?t+"/":""}workspace/${e}/directory/teams`}function p(e){let t={},r=0,n=0;return e.forEach(e=>{if(e.workspace_id){let r=t[e.workspace_id]??0;r++,t[e.workspace_id]=r}else e.team_id?r++:n++}),{libraryCountByWorkspaceId:t,unassignedLibrariesCount:r,draftLibrariesCount:n}}},630468:(e,t,r)=>{"use strict";r.d(t,{SQ:()=>O,_M:()=>A,cp:()=>R,ui:()=>N});var n=r(656716),i=r(843148),a=r(693400),o=r(796116),l=r(321296),s=r(375376),c=r(403132),d=r(241040),u=r(907236),p=r(735204),m=r(823252),_=r(90340),h=r(439460),g=r(990180),f=r(587040),E=r(815464),y=r(13468),b=r(550912),v=r(322128),I=r(144984),w=r(188376),T=r(78343),S=r(259988),C=r(919588);function A(e,t){return null==e||null==t?e!==t:y.m$.requireHistoryChange(e,t)}let O=(e,t)=>y.m$.selectedViewHasMissingResources(e,t),N=!1,L=0,R=e=>t=>function(r){var R,P,M,k,D,F;let x=e.getState().selectedView;t(r);let U=e.getState();if(c.ug.matches(r)){N=!0;let t=U.selectedView;if(t===T.AB&&(t=(0,i.cp)().selected_view||(0,y.Kg)(U,n.default.location.pathname,n.default.location.search,n.default.location.hash)),"fullscreen"===t.view&&t.fileKey){let{fileKey:r}=t,n=e.getState().fileByKey[r];n&&(0,I.sZ)(t.editorType)!==n.editor_type&&(t.editorType=n.editor_type??"design")}if(O(U,t)&&(t={view:"resourceUnavailable",resourceType:(F=t,new S.uT().selectedViewMissingResourceType(U,F))}),"teamUpgrade"===t.view&&t.teamId){let e=U.teams[t.teamId];e&&e.pro_team&&!(0,E.qk)(e)&&(t={view:"team",teamId:t.teamId,teamViewTab:w.y.SETTINGS})}t!==T.AB?e.dispatch(c.Ej(t)):(null==(R=U.user)?void 0:R.drafts_folder_id)?e.dispatch(c.Ej({view:"folder",folderId:U.user.drafts_folder_id})):e.dispatch(c.Ej({view:"recentFiles"}))}else if(u.AV.matches(r)){let e={view:"fullscreen",fileKey:r.payload.file.key,editorType:r.payload.fullscreenEditorType},t=(0,y.gv)(U,e);n.default.replace(t,{...e,jsCommitHash:(0,g.UL)()})}else if(c.Ej.matches(r)){if("prototype"!==x.view&&"prototype"===r.payload.view&&(0,C.Y)()){let e=(0,y.gv)(U,r.payload);n.default.redirect(e)}"fullscreen"===r.payload.view&&("fullscreen"!==x.view||r.payload.editorType!==x.editorType)&&f.ID(r.payload.editorType);let{selectedView:t}=e.getState();if(!("inlinePreview"in t&&t.inlinePreview)&&!r.payload.fromPopstate){let t=(0,y.gv)(U,r.payload);n.default.location.pathname+n.default.location.search!==t?(("fullscreen"!==r.payload.view||r.payload.fileKey!==(null==(P=(0,i.cp)().editing_file)?void 0:P.key))&&!v.GO&&(0,b.q)()&&(0,v.WO)("fileBrowserHistory middleware selectView").then(t=>{e.dispatch(c.ug(t.data.meta))}),!r.payload.forceReplaceState&&n.default.location.state&&A(x,r.payload)?n.default.push(t,{...r.payload,previousSelectedView:x,jsCommitHash:(0,g.UL)()}):n.default.replace(t,{...r.payload,previousSelectedView:x,jsCommitHash:(0,g.UL)()})):null==n.default.location.state&&n.default.replace(t,{...r.payload,previousSelectedView:x,jsCommitHash:(0,g.UL)()}),(null==(D=null==(k=null==(M=e.getState())?void 0:M.user)?void 0:k.appData)?void 0:D.loggedOut)&&"fullscreen"!==r.payload.view&&n.default.reload("User Logged out")}"searchAndBrowse"===r.payload.subView?(0,g.Ap)((0,a.M1)(r.payload.data)):(0,g.a_)(U,r.payload)}else if(o.gz.matches(r)&&"hubFile"===U.selectedView.subView)(0,g.a_)(U,{hubFileId:r.payload.hubFileId,subView:"hubFile",view:"communityHub"});else if(l.eY.matches(r)){let t=e.getState().selectedView,i=r.payload.publishedPlugins,a=t&&"communityHub"===t.view&&"plugin"===t.subView&&t.publishedPluginId;if(a&&i&&i.some(e=>e.id===a)){if(n.default){let e=(0,y.gv)(U,t);n.default.replace(e,{...t,jsCommitHash:(0,g.UL)()})}(0,g.a_)(U,t)}}else if(d.Aj.matches(r)){let t=e.getState().selectedView;"folder"===t.view&&t.folderId===r.payload.folder.id&&(0,g.a_)(U,t)}else if(d.s$.matches(r)){let t=e.getState().selectedView;if("folder"===t.view&&t.folderId===r.payload.id){(0,g.a_)(U,t);let e=(0,y.gv)(U,t);n.default.replace(e,{...t,jsCommitHash:(0,g.UL)()})}}else if(p.Aj.matches(r)){let t=e.getState().selectedView;if("fullscreen"===t.view){let e=t.fileKey&&U.fileByKey[t.fileKey];if(e){let i=(0,h.D$)(e,U.repos);if(i&&i.id===r.payload.repo.id){(0,g.a_)(U,t);let e=(0,y.gv)(U,t);n.default&&n.default.replace(e,{...t,jsCommitHash:(0,g.UL)()})}}}}else if(s.Aj.matches(r)){let t=e.getState().selectedView;if("fullscreen"===t.view&&r.payload.file.key===t.fileKey||"prototype"===t.view&&r.payload.file.key===t.file.key){(0,g.a_)(U,t);let e=(0,y.gv)(U,t);n.default&&n.default.replace(e,{...t,jsCommitHash:(0,g.UL)()})}}else if(m.Gm.matches(r)){let t=e.getState().selectedView;(null==t?void 0:t.view)==="search"&&(n.default.replace((0,y.gv)(U,t),{...t,jsCommitHash:(0,g.UL)()}),(0,g.a_)(U,t))}else c.cb.matches(r)?(0,_.E3)("File Browser Sidebar Clicked",e.getState(),{clickedResourceType:r.payload.clickedResourceType,resourceIdOrKey:r.payload.resourceIdOrKey}):0===L&&(L=setTimeout(function(){L=0,null===e.getState().selectedView&&e.dispatch(c.Ej({view:"recentFiles"}))},0));return r}},970176:(e,t,r)=>{"use strict";let n;r.d(t,{KU:()=>i,gL:()=>a,i:()=>o});let i="f195f195-f195-f195-f195-f195f195f195",a=9;var o=((n=o||{}).DEFAULT="DEFAULT",n.CUSTOM="CUSTOM",n)},778112:(e,t,r)=>{"use strict";let n,i,a,o,l,s,c,d,u,p,m,_,h,g;r.d(t,{CW:()=>L,GU:()=>U,IV:()=>w,K2:()=>b,Kq:()=>A,OG:()=>F,OW:()=>S,S0:()=>G,SC:()=>k,SG:()=>v,YS:()=>C,YV:()=>x,ak:()=>N,gD:()=>M,gH:()=>R,mc:()=>P,qA:()=>V,qI:()=>I,qk:()=>B,s9:()=>D,sF:()=>H,y4:()=>T});var f=r(698580),E=r(338948),y=r(520912),b=((n=b||{}).HUB_FILE="hub_file",n.PLUGIN="plugin",n.WIDGET="widget",n.COMMENT="comment",n),v=((i=v||{}).SUBSCRIPTION="subscription",i.ONE_TIME="one_time",i),I=((a=I||{}).DETAIL="detail",a.INSERTS="inserts",a.QUICK_ACTIONS="quick_actions",a.PLUGIN_ROW="plugin_row",a.SEARCH="search",a),w=((o=w||{})[o.NO_USER=0]="NO_USER",o[o.NO_PROFILE=1]="NO_PROFILE",o),T=((l=T||{}).HUB_FILE="hub_file",l.PLUGIN="plugin",l.WIDGET="widget",l),S=((s=S||{}).HUB_FILE="hub_file",s.PLUGIN="plugin",s.WIDGET="widget",s.PROFILE="profile",s);let C=E.WS.extend({author:f.ignore(),parent_id:f.string().nullable(),reply_count:f.number(),last_replied_at:f.string().nullable(),resource_version_id:f.string(),message_meta:f.array(f.ignore()),rating_value:f.number().optional()}),A=f.object({plugin:f.ignore().nullish(),plugin_install:f.ignore().nullish(),whitelisted_plugin:f.ignore().nullish(),hub_file:f.ignore().nullish(),profile:f.ignore().nullish(),community_comment:f.ignore().nullish(),widget:f.ignore().nullish(),community_resource_payment:f.ignore().nullish()});var O=((c=O||{})[c.SHOW_404=0]="SHOW_404",c[c.REDIRECT_TO_INTERNAL_PROFILE=1]="REDIRECT_TO_INTERNAL_PROFILE",c),N=((d=N||{}).ALL="ALL",d.ME="ME",d.RATINGS_REVIEWS="RATINGS_REVIEWS",d.COMMENTS="COMMENTS",d),L=((u=L||{}).COMMUNITY_LANDING="community_landing",u.FILE_BROWSER_RECOMMENDED_TEMPLATES="file_browser_recommended_templates",u.FIGJAM_TEMPLATES_PICKER="figjam_templates_picker",u.BROWSE_PLUGINS_MODAL="browse_plugins_modal",u.BROWSE_WIDGETS_MODAL="browse_widgets_modal",u.CURATED_PAGE="curated_page",u.NA="na",u.CONFIG_VOTE="config_vote",u.COMMUNITY_WIDGETS_PAGE="community_widgets_page",u.FIGJAM_SIMPLE_TEMPLATES_PICKER="figjam_simple_templates_picker",u.FIGMA_INSERTS_NUX="figma_inserts_nux",u.FILE_BROWSER_TEMPLATES_BAR="file_browser_templates_bar",u.COMMUNITY_LIBRARIES_QUICKSTART="community_libraries_quickstart",u.FIGJAM_SECTION_PRESET_PICKER="figjam_section_preset_picker",u.CATEGORY_PAGE="category_page",u),R=((p=R||{}).PM="PM",p.DES="DES",p.ENG="ENG",p.MKT="MKT",p.UR="UR",p.OTH="OTH",p.ALL="ALL",p.STARTER="STARTER",p);function P(e){return"is_widget"in e&&e.is_widget}function M(e){return"current_plugin_version_id"in e&&!e.is_widget}function k(e){return"client_meta"in e}function D(e){return"fig_file_metadata"in e}function F(e){return!!(null==e?void 0:e.monetized_resource_metadata)}function x(e){var t;return!!(null==(t=null==e?void 0:e.monetized_resource_metadata)?void 0:t.has_freemium_code)}function U(e){return"third_party_m10n_status"in e&&e.third_party_m10n_status===y.IT.FLAGGED}function B(e){return k(e)||P(e),e}var G=((m=G||{}).POST_COMPOSER="POST_COMPOSER",m.NAVBAR="NAVBAR",m.RECENT_FILES_DIRECT_LINK="RECENT_FILES_DIRECT_LINK",m.IFRAME="IFRAME",m),V=((_=V||{}).ACTIVE="active",_.INACTIVE="inactive",_),H=((h=H||{}).PASTE="paste",h.DROP="drop",h.FILE_INPUT="file_input",h),W=((g=W||{})[g.TRY_IT_OUT=0]="TRY_IT_OUT",g[g.OPEN=1]="OPEN",g);f.object({id:f.string().nullish(),hubFileId:f.string().nullish(),pluginId:f.string().nullish(),widgetId:f.string().nullish(),oneStars:f.number(),twoStars:f.number(),threeStars:f.number(),fourStars:f.number(),fiveStars:f.number(),totalRatings:f.number(),avgRating:f.number().nullish(),createdAt:f.date().nullish(),updatedAt:f.date().nullish()})},685656:(e,t,r)=>{"use strict";let n,i,a,o,l;r.d(t,{GM:()=>_,Mi:()=>g,SG:()=>h,Uz:()=>s,Yp:()=>d,_e:()=>p,iu:()=>m,k1:()=>u,mM:()=>c});var s=((n=s||{}).FILE_BROWSER_SIDEBAR_RECENTS="file_browser_sidebar_recents",n.FILE_BROWSER_SIDEBAR_DRAFTS="file_browser_sidebar_drafts",n.FILE_BROWSER_SIDEBAR_FOLDER="file_browser_sidebar_folder",n.FILE_BROWSER_TOOLBAR_RECENTS="file_browser_toolbar_recents",n.FILE_BROWSER_TOOLBAR_FOLDER="file_browser_toolbar_folder",n.FILE_BROWSER_TOOLBAR_DRAFTS="file_browser_toolbar_drafts",n.FILE_BROWSER_TOPBAR_DELETED="file_browser_topbar_deleted",n.FILE_BROWSER_TOPBAR_RECENTS="file_browser_topbar_recents",n.FILE_BROWSER_TOPBAR_FOLDER="file_browser_topbar_folder",n.FILE_BROWSER_TOPBAR_DRAFTS="file_browser_topbar_drafts",n.FILE_BROWSER_TOPBAR_OFFLINE="file_browser_topbar_offline",n.FILE_BROWSER_EMPTY_FOLDER="file_browser_empty_folder",n.FILE_BROWSER_FEED="file_browser_feed",n.FILE_BROWSER_FOLDER_CONTEXT_MENU="file_browser_folder_context_menu",n.FILE_BROWSER_FOLDER_EMPTY_TILE="file_browser_folder_empty_tile",n.FILE_BROWSER_STARTER_TEAM_OVERVIEW="file_browser_starter_team_overview",n.FILE_BROWSER_TEAM_FILE_LIMIT_PAYWALL="file_browser_team_file_limit_paywall",n.FILE_BROWSER_TEAM_FOLDER_BUTTONS="file_browser_team_folder_buttons",n.FILE_BROWSER_NUX="file_browser_nux",n.FILE_BROWSER_ONBOARDING="file_browser_onboarding",n.FILE_BROWSER_TEMPLATES_BAR="file_browser_templates_bar",n.CURSOR_BOT_END_MODAL="cursor_bot_end_modal",n.DESIGN_TOOLTIPS_PLUS_OUTRO_MODAL="design_tooltips_plus_outro_modal",n.DESIGN_VIDEO_OUTRO_MODAL="design_video_outro_modal",n.FIGJAM_NUDGE_MODAL="figjam_nudge_modal",n.DESKTOP_NEW_TAB_BUTTON="desktop_new_tab_button",n.FIGJAM_WHATS_NEW_MODAL="figjam_whats_new_modal",n.FIGJAM_AI_ONBOARDING_MODAL="figjam_ai_onboarding_announcement",n.FIGJAM_EDITOR_FILE_CREATE_BUTTON="figjam_editor_file_create_button",n.OFFLINE_NOTIFICATION="offline_notification",n.FIGJAM_MINI_HOME="figjam_mini_home",n.COMMUNITY_COLLECTIONS_PAGE="community_collections_page",n.FIGJAM_MAKE_SOMETHING_POPUP="figjam_make_something_popup",n),c=((i=c||{}).NEW_TAB="new_tab",i.SAME_TAB="same_tab",i),d=((a=d||{})[a.NONE=0]="NONE",a[a.FOR_OPEN=1]="FOR_OPEN",a[a.FOR_MENU=2]="FOR_MENU",a);function u(e,t=!0,r=!0){return e?{id:e.id,orgId:e.org_id||null,teamId:e.team_id,path:e.path,canEdit:t,canRename:r,inviteOnlyAt:e.is_invite_only?new Date:null,viewOnlyAt:e.is_view_only?new Date:null,subscription:e.is_subscribed?{}:null,description:e.description}:null}function p(e){return e?{id:e.id,name:e.name,org_id:e.orgId,img_url:e.imgUrl??void 0,subscription:e.subscription,restrictions_list:e.restrictionsList,student_team_at:e.studentTeamAt?e.studentTeamAt.toString():null,grace_period_end:e.gracePeriodEnd?e.gracePeriodEnd.toString():null,deleted_at:e.deletedAt?e.deletedAt.toString():null,created_at:e.createdAt.toString(),student_team:!!e.studentTeamAt}:null}function m(e,t){let r={key:e.key,teamId:e.team_id,folderId:e.folder_id,clientMeta:e.client_meta,parentOrgId:e.parent_org_id||null,fileRepoId:e.file_repo_id,sourceFileKey:e.source_file_key,linkAccess:e.link_access,hasFileLinkPassword:e.has_file_link_password,hasProtoLinkPassword:e.has_proto_link_password,updatedAt:new Date(e.updated_at||e.created_at),trashedAt:e.trashed_at?new Date(e.trashed_at):null,deletedAt:e.deleted_at?new Date(e.deleted_at):null,creatorId:e.creator_id,createdAt:new Date(e.created_at),name:e.name,_name:e.name,editorType:e.editor_type||"design",orgBrowsable:e.org_browsable||null,thumbnailGuid:e.thumbnail_guid||null,sourceCheckpointId:e.source_checkpoint_id||null,license:e.license,isTeamTemplate:!!e.is_team_template,figFileLinks:[],isFavorited:!!(null==e?void 0:e.is_favorited),isTryFile:e.is_try_file,votingSessions:null,template:null,canPublishTemplate:!1,viewerExportRestricted:!!e.viewer_export_restricted,publishedHubFile:null,ownerRole:null,trackTags:{isTemplate:e.is_template||null},libraryKey:e.library_key??""};if(!t)return r;let{team:n,folder:i,repo:a,sourceFile:o,can_delete:l,can_edit:s,can_edit_canvas:c,can_access_dev_mode_entry_point:d,can_access_full_dev_mode:p,can_manage:m,can_view:_,showEditButton:h,hasEduGracePeriod:g,org:f,orgUser:E,teamUser:y}=t;return{...r,team:function(e,t=!1){return e?{id:e.id,name:e.name,orgId:e.org_id,subscription:e.subscription,imgUrl:e.img_url||null,restrictionsList:e.restrictions_list||[],studentTeamAt:e.student_team_at?new Date(e.student_team_at):e.student_team?new Date:null,trialPeriodEnd:null,gracePeriodEnd:e.grace_period_end?new Date(e.grace_period_end):null,deletedAt:e.deleted_at?new Date(e.deleted_at):null,createdAt:new Date(e.created_at),eduGracePeriod:{id:"",isValid:t},licenseGroupId:e.license_group_id,licenseGroup:e.license_group,workspaceId:e.workspace_id,orgAccess:e.org_access}:null}(n,g),project:u(i),repo:a?{id:a.id,name:a.name,folderId:a.folder_id,teamId:a.team_id,defaultFileKey:a.default_file_key}:null,sourceFile:o?{key:o.key,name:o.name,fileRepoId:o.file_repo_id}:null,showEditButton:h,canDelete:l,canEdit:s,canEditCanvas:c,canAccessDevModeEntryPoint:d,canAccessFullDevMode:p,canManage:m,canView:_,org:f?{figjamDisabledAt:f.figjam_disabled_at,inviteWhitelist:{guestInviteSetting:f.invite_whitelist_guest_invite_setting},name:f.name}:null,currentPartialOrgUser:E?{draftsFolderId:E.drafts_folder_id,whiteboardPaidStatus:E.whiteboard_paid_status,accountType:E.design_paid_status,designOrgAccountTypeRequest:null,whiteboardOrgAccountTypeRequest:null,designAccountTypeRequest:null,whiteboardAccountTypeRequest:null,devModeAccountTypeRequest:null}:null,currentTeamUser:y?{whiteboardPaidStatus:y.whiteboard_paid_status,designPaidStatus:y.design_paid_status,designProAccountTypeRequest:null,whiteboardProAccountTypeRequest:null,designAccountTypeRequest:null,whiteboardAccountTypeRequest:null}:null}}var _=((o=_||{})[o.BAR=0]="BAR",o[o.SPINNER=1]="SPINNER",o);class h{constructor(e,t,r){this.tabCloseText=e,this.unsaved=t,this.error=r,this.hasUnsavedChanges=!1,this.hasUnsavedChanges=t.hasAutosaveChanges||t.hasMultiplayerChanges}equals(e){return e&&this.tabCloseText===e.tabCloseText&&this.unsaved.hasAutosaveChanges===e.unsaved.hasAutosaveChanges&&this.unsaved.hasMultiplayerChanges===e.unsaved.hasMultiplayerChanges&&this.error===e.error}}var g=((l=g||{})[l.CUT=0]="CUT",l[l.COPY=1]="COPY",l[l.PASTE=2]="PASTE",l)},228472:(e,t,r)=>{"use strict";let n,i,a,o;r.d(t,{EN:()=>f,Iv:()=>m,Y9:()=>d,YF:()=>u,_E:()=>y,qW:()=>b,yE:()=>h});var l=r(698580),s=r(119648),c=r(291900),d=((n=d||{}).RESOURCE_PAGE="resource_page",n.EDITOR="editor",n.UNIVERSAL_POSTING="universal_posting",n.ADMIN="admin",n),u=((i=u||{})[i.EDIT=0]="EDIT",i[i.PREVIEW=1]="PREVIEW",i[i.UPLOADING=2]="UPLOADING",i[i.SUCCESS=3]="SUCCESS",i[i.FAILURE=4]="FAILURE",i);let p=l.object({"500_500":l.string().optional(),"120_120":l.string().optional()});var m=((a=m||{}).USER="user",a.TEAM="team",a.ORG="org",a);let _=l.object({email:l.string().optional(),user_id:l.string(),is_primary_user:l.boolean(),can_sell_on_community:l.boolean().optional()}),h=s.Y.and(l.object({id:l.string(),name:l.string(),profile_handle:l.string(),img_url:l.string().optional(),img_urls:p,current_user_is_following:l.boolean(),current_user_is_followed:l.boolean(),is_restricted_by_current_user:l.boolean(),entity_type:l.nativeEnum(m),primary_user_id:l.string().nullable(),location:l.string().nullable(),follower_count:l.number(),following_count:l.number(),isPending:l.boolean().optional(),associated_users:l.array(_).optional(),has_published:l.boolean().optional()})),g=l.object({accepted:l.array(h),pending:l.array(h).optional()}),f=l.object({creator:c.iM,publisher:h,community_publishers:g}),E=c.iM.pick({id:!0,email:!0}),y=l.object({accepted:l.array(c.iM),pending:l.array(E).optional()});var b=((o=b||{}).OWNER="owner",o.PUBLISHER="publisher",o.NONE="none",o)},570012:(e,t,r)=>{"use strict";let n,i,a;r.d(t,{Af:()=>m,IL:()=>u,MO:()=>p,Qv:()=>f,SK:()=>d,mu:()=>_,qm:()=>h,uY:()=>g});var o=r(916924),l=r(843148),s=r(905412),c=r(312452);let d={isInitialized:!1,hasMissingFonts:!1,activeUserAction:c.Sbl.DEFAULT,currentTool:c.w3X.SELECT,currentStampToolName:null,activeCanvasEditModeType:c.a_v.DESIGN_LAYOUT,showUi:!0,showKeyboardShortcuts:!1,topLevelMode:c.s9F.LAYOUT,urlNodeId:"-1:-1",hideMultiplayerCursors:!1,showArtboardOutline:!1,useRealmsForPluginDev:!1,showComments:!0,currentSelectedGradientStop:{type:c.oHD.NONE,index:-1},currentSelectedProperty:{type:c.cf6.NONE,indices:[]},isUserPresent:!1,showTogglePrototypeModeButton:!1,forcePublishFlattened:!1,prototypeCanvasUiVisible:!1,showTooltips:!1,prototypeBackgroundPickerOpen:!1,pastableStyleCount:0,statePropertyToFocus:"",hoveredNode:"",multiplayerSessionState:c.XcX.UNJOINED,isReadOnly:!0,isSceneReadOnly:!0,hyperlinkLocation:null,onCanvasNameEditorInfo:{mode:c.UBf.NONE,x:0,y:0,angle:0,padding:{x:0,y:0},margin:{x:0,y:0},cornerRadius:0,fontSize:11},votingSessionInfo:{sessionId:"",votingStage:c.A5$.NO_SESSION,userVoteLimit:0,votedNodes:[],userIdToVoteStampIds:{}},loadingEmbeds:[],temporarilyExpandedInstanceLayers:[],keyboardShortcuts:{},selectedInteractions:[],hoveredInteractions:[],currentPage:"0:1",pagesList:[],devHandoffCodeLanguage:{type:"first-party",id:"WEB"},devHandoffPreferences:{codeExtensionPreferences:{}},branchingSceneState:c.yWc.ATTACHED_FILE_TIP,lastBranchingStagingAction:c.Urk.NONE,themePreference:null,sceneGeneration:0,spellCheckSuggestions:{figma:{suggestions:[],rangeText:"",rangeStart:0,rangeEnd:0,noSuggestionsFound:!1}},onCanvasPillInfo:null,activeTextReviewPlugin:null,hotReloadPluginDev:!0,useLocalRelatedLinkPlugin:!1};var u=((n=u||{})[n.MIXED_OR_NO_SYMBOLS=0]="MIXED_OR_NO_SYMBOLS",n[n.SYMBOLS_ONLY=1]="SYMBOLS_ONLY",n),p=((i=p||{})[i.NO=0]="NO",i[i.YES=1]="YES",i[i.YES_WITHOUT_TRACKING_AS_EDIT=2]="YES_WITHOUT_TRACKING_AS_EDIT",i[i.YES_FORCE_TRACKING_AS_EDIT=3]="YES_FORCE_TRACKING_AS_EDIT",i[i.NO_BUT_TRACK_AS_EDIT=4]="NO_BUT_TRACK_AS_EDIT",i),m=((a=m||{})[a.NOT_ASSET=0]="NOT_ASSET",a[a.ASSET_ICON=1]="ASSET_ICON",a[a.ASSET_IMAGE=2]="ASSET_IMAGE",a[a.ASSET_GIF=4]="ASSET_GIF",a[a.ASSET_VIDEO=8]="ASSET_VIDEO",a[a.ASSET_COMPONENT=16]="ASSET_COMPONENT",a);function _(e){switch(e){case c.y6c.BOOLEAN:return"BOOLEAN";case c.y6c.COLOR:return"COLOR";case c.y6c.FLOAT:return"FLOAT";case c.y6c.STRING:return"STRING";case c.y6c.SYMBOL_ID:return"SYMBOL_ID";case c.y6c.MAP:return"MAP";case c.y6c.FONT_STYLE:return"FONT_STYLE";case c.y6c.TEXT_DATA:return"TEXT_DATA";default:(0,o.gy)(e)}}function h(e){let t=[c.EDU.STROKE_FLOAT,c.EDU.OPACITY,c.EDU.EFFECT_COLOR,c.EDU.EFFECT_FLOAT];return(0,l.Ub)().ds_variables_strokes?e.map(e=>c.EDU[e]):e.filter(e=>!t.includes(e)).map(e=>c.EDU[e])}function g(e){return e?e.map(e=>c.EDU[e]):[c.EDU.ALL_SCOPES]}function f(e){let t={entries:[]};return Object.keys(e).forEach(r=>{var n;let i=e[r];if(i){if(i.isMixed)return;{let e=function(e){function t(e){if(e.type!==c.Tcd.ALIAS)return null;let t=s.Qb.fromString(e.value);return t?s.Qb.toKiwi(t):null}switch(e.type){case c.Tcd.BOOLEAN:return{dataType:"BOOLEAN",resolvedDataType:"BOOLEAN",value:{boolValue:e.value}};case c.Tcd.FLOAT:return{dataType:"FLOAT",resolvedDataType:"FLOAT",value:{floatValue:e.value}};case c.Tcd.COLOR:return{dataType:"COLOR",resolvedDataType:"COLOR",value:{colorValue:e.value}};case c.Tcd.STRING:return{dataType:"STRING",resolvedDataType:"STRING",value:{textValue:e.value}};case c.Tcd.ALIAS:{let r=t(e);if(!r)return null;return{dataType:"ALIAS",resolvedDataType:_(e.resolvedType),value:{alias:r}}}case c.Tcd.FONT_STYLE:{let r=e.value.asFloat&&t(e.value.asFloat)?{resolvedDataType:"FLOAT",fontStyleKey:"asFloat",variableId:t(e.value.asFloat)}:e.value.asString&&t(e.value.asString)?{resolvedDataType:"STRING",fontStyleKey:"asString",variableId:t(e.value.asString)}:null;if(!r)return null;return{dataType:"FONT_STYLE",resolvedDataType:"FONT_STYLE",value:{fontStyleValue:{[r.fontStyleKey]:{dataType:"ALIAS",resolvedDataType:r.resolvedDataType,value:{alias:r.variableId}}}}}}case c.Tcd.MAP:case c.Tcd.EXPRESSION:case c.Tcd.SYMBOL_ID:case c.Tcd.TEXT_DATA:return null}}(i);e&&(null==(n=t.entries)||n.push({variableData:e,variableField:r}))}}else t.entries.push({variableField:r})}),t}},269308:(e,t,r)=>{"use strict";r.d(t,{S:()=>o});var n=r(916924),i=r(560072),a=r(410984);function o(e,t){switch(e){case a.uY.ACTIVITY:return(0,i.t)("org_admin_tab.activity");case a.uY.DASHBOARD:return(0,i.t)("org_admin_tab.dashboard");case a.uY.WORKSPACES:return(0,i.t)("org_admin_tab.workspaces");case a.uY.TEAMS:return(0,i.t)("org_admin_tab.teams");case a.uY.MEMBERS:return(0,i.t)("org_admin_tab.members");case a.uY.BILLING:return(0,i.t)("org_admin_tab.billing");case a.uY.RESOURCES:switch(t){case a.OC.LIBRARIES:return(0,i.t)("resources_tab.libraries");case a.OC.SHARED_FONTS:return(0,i.t)("resources_tab.fonts");case a.OC.APPROVED_PLUGINS:return(0,i.t)("resources_tab.approved_plugins");case a.OC.APPROVED_WIDGETS:return(0,i.t)("resources_tab.approved_widgets");default:return(0,i.t)("org_admin_tab.resources")}case a.uY.SETTINGS:return(0,i.t)("org_admin_tab.settings");default:(0,n.gy)(e)}}},410984:(e,t,r)=>{"use strict";let n,i,a;r.d(t,{OC:()=>s,OS:()=>c,s3:()=>l,uY:()=>o});var o=((n=o||{}).DASHBOARD="",n.WORKSPACES="workspaces",n.TEAMS="teams",n.MEMBERS="members",n.ACTIVITY="activity",n.BILLING="billing",n.RESOURCES="resources",n.SETTINGS="settings",n);let l=["workspaces"];var s=((i=s||{}).LIBRARIES="",i.SHARED_FONTS="fonts",i.APPROVED_PLUGINS="plugins",i.APPROVED_WIDGETS="widgets",i),c=((a=c||{}).ORG="Org",a.WORKSPACE="Workspace",a)},14020:(e,t,r)=>{"use strict";let n,i,a,o;r.d(t,{A$:()=>C,Ab:()=>O,Cu:()=>S,I3:()=>p,U7:()=>_,UP:()=>h,WY:()=>m,YT:()=>b,Yr:()=>u,eS:()=>A,ec:()=>d,eg:()=>f,oZ:()=>I,sQ:()=>c,uw:()=>v,wB:()=>g,wh:()=>w,zc:()=>E});var l=r(628),s=r(514916),c=((n=c||{}).ASC="asc",n.DESC="desc",n),d=((i=d||{}).NAME="name",i.LAST_ACTIVE="last_active",i.LAST_DESIGN_ACTIVE="last_design_active",i.LAST_WHITEBOARD_ACTIVE="last_whiteboard_active",i.LAST_EDIT="last_edit",i.LAST_DESIGN_EDIT="last_design_edit",i.LAST_WHITEBOARD_EDIT="last_whiteboard_edit",i.DESIGN_ROLE="design_role",i.DESIGN_UPGRADE_DATE="design_upgrade_date",i.WHITEBOARD_ROLE="whiteboard_role",i.WHITEBOARD_UPGRADE_DATE="whiteboard_upgrade_date",i.LICENSE_GROUP="license_group",i.WORKSPACE="workspace",i.SCIM_DATA="scim_data",i.DESIGN_UPGRADE_REASON="design_upgrade_reason",i.WHITEBOARD_UPGRADE_REASON="whiteboard_upgrade_reason",i.SEARCH_SCORE="score",i.DEV_MODE_ROLE="dev_mode_role",i.DEV_MODE_UPGRADE_DATE="dev_mode_upgrade_date",i);let u=["last_active","last_design_active","last_whiteboard_active","last_edit","last_design_edit","last_whiteboard_edit","design_upgrade_date","whiteboard_upgrade_date","dev_mode_upgrade_date"],p={columnName:"name",isReversed:!1};var m=((a=m||{}).productFilter="productFilter",a.licenseGroupFilter="licenseGroupFilter",a.workspaceFilter="workspaceFilter",a.permissionFilter="permissionFilter",a.roleFilter="roleFilter",a.lastEditFilter="lastEditFilter",a.newEditorFilter="newEditorFilter",a),_=((o=_||{}).product="product",o.workspace="workspace",o.billingGroup="billingGroup",o.accountType="accountType",o.role="role",o.lastEdit="lastEdit",o.newEditor="newEditor",o);let h={productFilter:null,licenseGroupFilter:null,workspaceFilter:null,permissionFilter:null,roleFilter:null,lastEditFilter:null,newEditorFilter:!1},g={product:"productFilter",role:"roleFilter",billingGroup:"licenseGroupFilter",workspace:"workspaceFilter",accountType:"permissionFilter",lastEdit:"lastEditFilter",newEditor:"newEditorFilter"},f={productFilter:"product",licenseGroupFilter:"billingGroup",workspaceFilter:"workspace",permissionFilter:"accountType",roleFilter:"role",lastEditFilter:"lastEdit",newEditorFilter:"newEditor"};function E(){let e={full:0,restricted:0,starter:0};return{designAccountType:{...e},figjamAccountType:{...e},devModeAccountType:{...e},permission:{guest:0,member:0,admin:0,provisional:0,unverified:0},lastEdit:{[A["3mo"]]:0,[A["6mo"]]:0,[A["1yr"]]:0}}}let y={FIGMA:"figma",FIGJAM:"figjam",DEV_MODE:"dev_mode"},b={[y.FIGMA]:l._2.DESIGN,[y.FIGJAM]:l._2.WHITEBOARD,[y.DEV_MODE]:l._2.DEV_MODE},v={[l._2.DESIGN]:y.FIGMA,[l._2.WHITEBOARD]:y.FIGJAM,[l._2.DEV_MODE]:y.DEV_MODE},I={IDP:"provisional",UNVERIFIED:"unverified"},w={[s.y6.ADMIN]:s.y6.ADMIN,[s.y6.GUEST]:s.y6.GUEST,[s.y6.MEMBER]:s.y6.MEMBER,[I.IDP]:I.IDP,[I.UNVERIFIED]:I.UNVERIFIED},T={EDITOR:"editor",VIEWER:"viewer","VIEWER-RESTRICTED":"viewer-restricted"},S={[T.EDITOR]:s.m8.FULL,[T.VIEWER]:s.m8.STARTER,[T["VIEWER-RESTRICTED"]]:s.m8.RESTRICTED},C={[s.m8.FULL]:T.EDITOR,[s.m8.STARTER]:T.VIEWER,[s.m8.RESTRICTED]:T["VIEWER-RESTRICTED"]},A={"3mo":"3mo","6mo":"6mo","1yr":"1yr"};function O(e){return"user_id"in e&&void 0!==e.user_id}},640140:(e,t,r)=>{"use strict";let n,i,a;r.d(t,{I$:()=>f,MH:()=>w,Qz:()=>b,aU:()=>y,eq:()=>v,kv:()=>_,u_:()=>E});var o=r(916924),l=r(698580),s=r(514916),c=r(628),d=r(208908),u=r(189148),p=r(291900),m=r(671528),_=((n=_||{}).SELF_SELECTED="self",n.SELF_SELECTED_NOT_LISTED="not listed",n.SELF_SELECTED_DONT_KNOW="don't know",n.MOVED_BY_ADMIN="moved",n.AUTO_ASSIGNED="auto",n);let h=l.nativeEnum(_),g=l.object({id:l.string(),license_group_id:l.string().nullable(),org_user_id:l.string(),assigned_at:l.string(),created_at:l.string(),actor_user_id:l.string().nullable(),update_reason:h,updated_at:l.string()});s.m8.FULL,s.m8.STARTER,s.m8.RESTRICTED;var f=((i=f||{})[i.GUEST=0]="GUEST",i[i.MEMBER=2]="MEMBER",i[i.ADMIN=3]="ADMIN",i),E=((a=E||{}).ORG_USER="org_user",a.IDP_USER="idp_user",a.ORG_INVITE="org_invite",a);let y=l.object({design_paid_status:s.I3,whiteboard_paid_status:s.I3,dev_mode_paid_status:s.I3,id:l.string(),org_id:l.string(),user_id:l.string(),user:p.iM,permission:s.wb,description:l.string().nullish(),drafts_folder_id:l.string(),created_at:l.string(),updated_at:l.string(),disabled_at:l.string().nullish(),account_type_changed_at:l.string().optional(),last_edit:l.coerce.undefined(l.string().optional()),last_seen:l.coerce.undefined(l.string().optional()),last_design_edit:l.coerce.undefined(l.union([l.string(),d.E]).optional()),last_whiteboard_edit:l.coerce.undefined(l.union([l.string(),d.E]).optional()),last_design_seen:l.coerce.undefined(l.union([l.string(),d.E]).optional()),last_whiteboard_seen:l.coerce.undefined(l.union([l.string(),d.E]).optional()),scim_account_type:l.string().nullish(),scim_whiteboard_paid_status:l.string().nullish(),scim_dev_mode_paid_status:l.string().nullish(),user_state_changed_at:l.string().optional(),design_upgrade_reason:l.coerce.undefined(u.C.optional()),whiteboard_upgrade_reason:l.coerce.undefined(u.C.optional()),dev_mode_upgrade_reason:l.coerce.undefined(u.C.optional()),scim_metadata:l.record(l.string().nullish()).nullish(),agreed_to_community_tos_at:l.string().nullish(),license_group_member:g.optional(),license_admin:l.boolean().optional(),is_email_validated:l.boolean().optional().nullable(),show_figjam_user_onboarding:l.boolean().nullable(),has_shown_figjam_admin_onboarding:l.boolean().nullable(),has_shown_figjam_admin_launch_onboarding:l.boolean().nullable(),ecc_upgrading_locked:l.boolean().nullish(),type:l.literal("org_user").default("org_user"),workspace_users:l.array(m.a).optional(),is_dev_mode_beta_user:l.boolean().optional()}),b=y;s.aE.WHITEBOARD,s.aE.DESIGN;let v={[c.eK.FIGJAM]:"whiteboard_paid_status",[c.eK.DESIGN]:"design_paid_status",[c.eK.DEV_MODE]:"dev_mode_paid_status"};function I(e,t){switch(t){case c.eK.DESIGN:return e.design_paid_status;case c.eK.FIGJAM:return e.whiteboard_paid_status;case c.eK.DEV_MODE:return e.dev_mode_paid_status;default:(0,o.gy)(t)}}function w(e,t){switch(t){case c.eK.DESIGN:case c.eK.FIGJAM:return I(e,t);case c.eK.DEV_MODE:return I(e,c.eK.DESIGN)===s.m8.FULL?s.m8.FULL:I(e,t);default:(0,o.gy)(t)}}},200800:(e,t,r)=>{"use strict";let n,i,a,o,l,s,c;r.d(t,{EP:()=>w,GW:()=>E,I7:()=>y,a2:()=>S,eq:()=>g,iV:()=>C,wt:()=>v});var d=r(698580),u=r(514916),p=r(832443),m=r(740080),_=r(127012),h=r(839324),g=((n=g||{}).ANY="any",n.GOOGLE="google",n.SAML="saml",n);let f=d.union([d.literal("AUTO"),d.literal("GOOD"),d.literal("DELINQUENT"),d.literal("SUSPENDED"),d.literal("DEACTIVATED")]),E={AUTO:"AUTO",GOOD:"GOOD",DELINQUENT:"DELINQUENT",SUSPENDED:"SUSPENDED",DEACTIVATED:"DEACTIVATED"};var y=((i=y||{}).MANUAL="manual",i.DISABLED="disabled",i.QUARTERLY="quarterly",i.CHARGE_IMMEDIATELY="quarterly_auto_charge",i);let b=d.nativeEnum(y);var v=((a=v||{}).REQUIRE_APPROVAL="require_approval",a.BANNED="banned",a);let I=d.nativeEnum(v);var w=((o=w||{}).US="US",o.EU="EU",o);let T=d.nativeEnum(w);d.object({name:d.string(),img_url:d.string().optional(),id:d.string()});var S=((l=S||{}).Initial="Initial",l.ChoosePlan="ChoosePlan",l.AddCollaborators="AddCollaborators",l.PseudoCreateTeam="PseudoCreateTeam",l.CreateTeam="CreateTeam",l.TeamSelect="TeamSelect",l.Details="Details",l.Payment="Payment",l.Review="Review",l.Confirmation="Confirmation",l),C=((s=C||{}).ENTERPRISE="enterprise",s.ORGANIZATION="organization",s);let A=d.nativeEnum(C);var O=((c=O||{}).DEPROVISION="deprovision",c);m._g.extend({id:d.string(),name:d.string(),legal_name:d.string().optional(),domain_capture:d.boolean(),created_at:d.string().optional(),updated_at:d.string().optional(),deleted_at:d.string().optional(),img_url:d.string().optional(),handle:d.string().optional(),figjam_disabled_at:d.date().nullable(),realtime_token:d.string().optional(),standing:f,stripe_customer_id:d.string().optional(),invite_whitelist_enforced:d.boolean(),invite_whitelist_enforced_guests:d.boolean(),invite_whitelist_guest_invite_setting:I.nullable(),invite_whitelist_member_allowlist_enabled:d.boolean().nullable(),ip_ranges:d.array(d.string()),past_due_at:d.string().nullable(),plugins_whitelist_enforced:d.boolean(),widgets_whitelist_enforced:d.boolean(),plugin_requests_allowed:d.boolean(),widget_requests_allowed:d.boolean(),public_plugins_allowed:d.boolean(),voice_enabled:d.boolean().optional(),billing:b.nullable(),google_sso_only:d.boolean(),saml_sso_only:d.boolean(),locked_quantity_full_members:d.number().nullable(),locked_quantity_figjam_members:d.number().nullable(),featured_scim_metadata:u.M5.nullable(),community_profile_id:d.string().optional(),community_profile_handle:d.string().optional(),template_picker_disabled:d.boolean().optional(),experiment_seed:d.string().optional(),experiment_eligible:d.boolean().optional(),bigma_enabled:d.boolean().optional(),bigma_enabled_at:d.number().optional(),workshop_enabled:d.boolean().optional(),cursor_chat_disabled:d.boolean().optional(),plan:A.optional(),design_default_paid_status:u.I3.optional(),whiteboard_default_paid_status:u.I3.optional(),k12_google_org:d.boolean(),shared_org_license_group_settings:h.U7.nullable(),vat_gst_id:d.string().optional().nullable(),tax_id_verification_status:u.aA.optional(),are_custom_templates_allowed:d.boolean(),should_auto_renew:d.boolean(),has_automatic_upcoming_invoice:d.boolean(),target_locality:T.optional(),org_domains:_.e.optional().nullable(),workspaces_count:d.number().optional(),cmty_publish_as_user_enabled:d.boolean().optional(),license_groups_count:d.number().optional(),workspaces_nux_active_at:d.string().optional(),ai_features_disabled:d.boolean().optional(),is_dev_mode_opt_in_accepted:d.boolean().optional(),has_invalid_upgrades:d.boolean().optional(),figma_provided_libraries_disabled:d.boolean().optional(),billing_api:p.i,stripe_memo:d.string().optional()})},559572:(e,t,r)=>{"use strict";let n,i,a;r.d(t,{S2:()=>c,SK:()=>o,Su:()=>m,gZ:()=>_,kd:()=>u,qW:()=>l,wp:()=>s,ys:()=>d});var o=((n=o||{})[n.UNSPECIFIED=0]="UNSPECIFIED",n[n.ANNUAL=1]="ANNUAL",n[n.MONTHLY=2]="MONTHLY",n[n.STUDENT=3]="STUDENT",n);let l={UPGRADE_NEW_TEAM:"upgrade_new_team",PLAN_COMPARISON:"plan_comparison",CREATE_TEAM:"create_team",ADD_COLLABORATORS:"add_collaborators",CHOOSE_PLAN:"choose_plan",PAYMENT_AND_ADDRESS:"payment_and_address",CONFIRM_PAY:"confirm_pay"};var s=((i=s||{}).MONTHLY="monthly",i.ANNUAL="annual",i);let c="US",d="JP",u=e=>({line1:"",line2:"",country:e||c,city:"",region:"",postal_code:""});var p=((a=p||{}).PRODUCT_PRO_DESIGN_ANNUAL="prod_BTrZbmnROhwnmX",a.PRODUCT_PRO_DESIGN_MONTHLY="prod_BUXN0CamqLCsuF",a.PRODUCT_PRO_FIGJAM_ANNUAL="figjam_annual_usd_36",a.PRODUCT_PRO_FIGJAM_MONTHLY="figjam_monthly_usd_5",a);let m=["prod_BTrZbmnROhwnmX","prod_BUXN0CamqLCsuF"],_=["figjam_annual_usd_36","figjam_monthly_usd_5"]},224100:(e,t,r)=>{"use strict";let n,i,a,o,l,s;r.d(t,{A$:()=>v,AL:()=>P,CE:()=>et,E7:()=>J,Eh:()=>ep,IB:()=>ei,Kk:()=>eu,Lt:()=>U,O$:()=>ea,O0:()=>ec,UT:()=>w,WK:()=>C,X2:()=>eh,_:()=>es,_2:()=>er,aO:()=>ee,ag:()=>em,cR:()=>A,cl:()=>e_,eQ:()=>N,gr:()=>Z,iC:()=>eo,kB:()=>G,kr:()=>I,kz:()=>F,oL:()=>Q,ob:()=>ed,sV:()=>z,wt:()=>M,xi:()=>el,y6:()=>T});var c,d=r(698580),u=r(825016),p=r(917452),m=r(514916),_=r(228472),h=r(119648),g=r(374052),f=r(197720),E=r(557188),y=r(520912),b=r(263212),v=((n=v||{})[n.PUBLIC_PLUGINS_DISALLOWED=0]="PUBLIC_PLUGINS_DISALLOWED",n[n.PLUGIN_NOT_ORG_APPROVED=1]="PLUGIN_NOT_ORG_APPROVED",n[n.PLUGIN_INSTALLED_FOR_ORG=2]="PLUGIN_INSTALLED_FOR_ORG",n[n.PLUGIN_INSTALLED_FOR_USER=3]="PLUGIN_INSTALLED_FOR_USER",n[n.PLUGIN_INSTALLABLE=4]="PLUGIN_INSTALLABLE",n),I=((i=I||{}).FIGMA="design",i.FIGJAM="whiteboard",i.UNIVERSAL="design_and_whiteboard",i.INSPECT="inspect",i.FIGMA_AND_INSPECT="design_and_inspect",i),w=((a=w||{}).LOAD="LOAD",a.PARSE="PARSE",a.VALIDATE="VALIDATE",a),T=((o=T||{}).Plugin="plugin",o.Widget="widget",o);let S=d.object({type:d.nativeEnum(w),text:d.string()}),C=["camera","microphone","displaycapture"],A=["openexternal","analytics","cortex","firstdraft","filekey","hidecursors",...C],O=d.object({command:d.string(),name:d.string(),multipleSelection:d.boolean().optional()}),N=["currentuser","activeusers","teamlibrary","fileusers","payments","clipboardwrite"],L=d.object({name:d.string(),key:d.string(),description:d.string().optional(),optional:d.boolean().optional(),allowFreeform:d.boolean().optional()}),R=d.array(L),P=[...N,...A];[...P];let M=["textreview","panel","inspect","codegen","linkpreview","vscode"],k=d.object({label:d.string(),value:d.string(),isDefault:d.boolean().optional()}),D=d.object({itemType:d.literal("action"),propertyName:d.string(),includedLanguages:d.array(d.string()).optional(),label:d.string().optional()});function F(e){return D.safeParse(e).success}let x=d.object({itemType:d.literal("unit"),scaledUnit:d.string(),defaultScaleFactor:d.number().optional(),default:d.boolean().optional(),includedLanguages:d.array(d.string()).optional()});function U(e){return x.safeParse(e).success}let B=d.object({itemType:d.literal("select"),propertyName:d.string(),label:d.string().optional(),options:d.array(k),includedLanguages:d.array(d.string()).optional()});function G(e){return B.safeParse(e).success}let V=d.union([D,x,B]),H=d.array(V),W=d.object({label:d.string(),value:d.string()}),K=d.object({command:d.string(),name:d.string(),parameters:R.optional(),parameterOnly:d.boolean().optional()}),Y=d.object({separator:d.literal(!0)}),q=d.object({name:d.string()}).extend({menu:d.lazy(()=>d.array(d.union([K,Y,q])))}),j=d.object({allowedDomains:d.array(d.string()),reasoning:d.string().optional(),devAllowedDomains:d.array(d.string()).optional()}),$=d.union([q,K,Y]);var Z=((l=Z||{}).FIGMA="figma",l.FIGJAM="figjam",l.INSPECT="inspect",l.DEV="dev",l);let z=Object.values(Z),Q=d.object({id:d.string().optional(),name:d.string(),api:d.string(),main:d.string(),ui:d.union([d.string(),d.record(d.string(),d.string())]).optional(),build:d.string().optional(),enableProposedApi:d.boolean().optional(),enablePrivatePluginApi:d.boolean().optional(),menu:$.array().optional(),networkAccess:j.optional(),relaunchButtons:O.array().optional(),relatedLinkDomains:d.array(d.string()).optional(),devResourceDomains:d.array(d.string()).optional(),parameters:R.optional(),parameterOnly:d.boolean().optional(),editorType:d.filteredArray(d.nativeEnum(Z)).optional(),containsWidget:d.boolean().optional(),widgetApi:d.string().optional(),permissions:d.filteredArray(d.union([d.enum(N),d.enum(A)])).optional(),enableReadOnly:d.boolean().optional(),capabilities:d.filteredArray(d.enum(M)).optional(),codegenLanguages:d.array(W).optional(),codegenPreferences:H.optional(),documentAccess:d.enum(["dynamic-page"]).optional()});(e=>{e.PluginVersionSchema=d.object({id:d.string(),name:d.string().nullable(),version:d.string().nullable(),releaseNotes:d.string().nullable(),description:d.string().nullable(),tagline:d.string().nullable(),creatorPolicy:d.string().nullable(),manifest:d.string().nullable(),createdAt:d.date(),iconPath:d.string().nullable(),coverImagePath:d.string().nullable(),codePath:d.string().nullable(),plugin:d.object({currentPluginVersionId:d.string().nullable()})}),e.PluginInstallSchema=d.object({id:d.string(),pluginId:d.string(),pinnedStatus:d.nativeEnum(m.Ss),createdAt:d.date(),plugin:d.object({id:d.string(),currentPluginVersionId:d.string().nullable(),publishingStatus:d.nativeEnum(m.VC).nullable(),isWidget:d.boolean().nullable(),viewableInEditor:d.boolean(),orgId:d.string().nullable(),approvedAt:d.date().nullable(),approvalStatus:d.number().nullable(),communityPublishers:d.lazy(()=>e.CommunityPublisherSchema).array().nullable(),currentPluginVersion:e.PluginVersionSchema.nullable()}).nullable()}),e.OrgSchema=d.object({id:d.string(),installedPlugins:d.array(e.PluginInstallSchema)}),e.CommunityTeamSchema=d.object({id:d.string(),name:d.string()}),e.OrgInfoSchema=d.object({id:d.string(),name:d.string()}),e.CommunityProfileSchema=d.object({id:d.string(),profileHandle:d.string(),user:d.object({id:d.string(),name:d.string().nullable()}).nullable(),team:e.CommunityTeamSchema.nullable(),org:e.OrgInfoSchema.nullable()}),e.CommunityPublisherSchema=d.object({role:d.nativeEnum(m._Q),isPending:d.boolean(),profile:e.CommunityProfileSchema})})(c||(c={}));let X=d.object({id:d.string(),plugin_id:d.string(),name:d.string(),version:d.string(),current_plugin_version_id:d.string().optional(),release_notes:d.string(),description:d.string(),tagline:d.string(),creator_policy:d.string(),is_private:d.boolean(),manifest:Q,created_at:d.string(),org_id:d.string().optional(),redirect_icon_url:d.string(),redirect_cover_image_url:d.string(),redirect_code_url:d.string(),redirect_snapshot_url:d.string().nullish(),community_publishers:d.array(c.CommunityPublisherSchema).optional(),installed_by:d.union([d.literal("user"),d.literal("org")]).nullish(),playground_fig_file_key:d.string().nullish(),playground_fig_file:d.ignore().optional(),playground_file_version_id:d.string().nullish()});function J(e){return void 0!==e.localFileId}function ee(e){return!J(e)&&!!e.is_private}function et(e){return!J(e)&&!ee(e)}function er(e){var t;return!!(null==(t=e.manifest)?void 0:t.containsWidget)}d.object({plugin_id:d.string(),name:d.string(),manifest:Q,localFileId:d.number(),localFilePath:d.string(),error:S.optional(),cachedContainsWidget:d.boolean().optional(),lastKnownPluginId:d.string().optional(),testCode:d.string().optional()});let en=d.object({org:d.object({id:d.string(),name:d.string()}).optional(),is_public:d.boolean().optional()}),ei=d.object({id:d.string(),versions:d.record(X),current_plugin_version_id:d.string().nullable(),is_widget:d.coerce.boolean()}),ea=ei.merge(d.object({install_count:d.number(),view_count:d.number(),like_count:d.number(),comment_count:d.number(),category_id:d.string().nullable(),roles:en,org_id:d.string().nullable(),realtime_token:d.string(),created_at:d.string(),redirect_thumbnail_url:d.string().nullable(),thumbnail_url:d.string().nullable(),tags:d.array(d.string()).optional(),current_user_has_run:d.boolean().optional(),current_user_first_ran_at:d.string().optional(),unique_run_count:d.number(),editor_type:d.nativeEnum(I),unpublished_at:d.string().nullable(),support_contact:d.string().nullable(),comments_setting:d.nativeEnum(p.EF).nullable(),related_content:(0,u.y_)(d.lazy(()=>ea)),hide_related_content_by_others:d.boolean().optional(),publishing_status:d.nativeEnum(m.VC).nullable(),score:d.number().nullable(),install_status:d.nativeEnum(v).optional(),profile_install_status:d.nativeEnum(v).optional(),commenting_is_restricted:d.boolean(),monetization_status:d.nativeEnum(y.SU).optional(),community_resource_payment:E.WG.optional(),third_party_m10n_status:d.nativeEnum(y.IT).optional(),creator_policy:d.string(),plugin_publishers:_._E.optional(),carousel_media_urls:d.optional(b.gt),carousel_videos:d.optional(b.o5)})).and(_.EN).and(h.Y).and(f.O).and(g.A),eo=ea.and(d.object({is_widget:d.literal(!0)}));function el(e){return e.third_party_m10n_status===y.IT.MIGRATING}function es(e){return"command"in e&&"name"in e}function ec(e){return"separator"in e&&e.separator}function ed(e){return"name"in e&&"menu"in e}let eu=Symbol("relaunchMixedDescription");function ep({type:e,text:t}){switch(e){case"LOAD":return"Manifest load error: "+t;case"PARSE":return"Manifest not valid JSON: "+t;case"VALIDATE":return"Manifest error: "+t}}var em=((s=em||{}).ORG="ORG",s.PUBLIC="PUBLIC",s);function e_(e,t){return t?`GET_PLUGIN_ALLOW_LIST_${e}_${t}`:`GET_PLUGIN_ALLOW_LIST_${e}`}function eh(e,t){return t?`GET_WIDGET_ALLOW_LIST_${e}_${t}`:`GET_WIDGET_ALLOW_LIST_${e}`}},648180:(e,t,r)=>{"use strict";r.d(t,{K:()=>l,m:()=>o});var n=r(916924),i=r(560072),a=r(628);function o(e){switch(e){case a.eK.DESIGN:return(0,i.t)("general.figma_design");case a._2.WHITEBOARD:case a.eK.FIGJAM:return(0,i.t)("general.figjam");case a.eK.DEV_MODE:return(0,i.t)("general.dev_mode");default:(0,n.gy)(e)}}function l(e){switch(e){case a.eK.DESIGN:return(0,i.t)("general.figma_design_short");case a._2.WHITEBOARD:case a.eK.FIGJAM:return(0,i.t)("general.figjam");case a.eK.DEV_MODE:return(0,i.t)("general.dev_mode");default:(0,n.gy)(e)}}},304504:(e,t,r)=>{"use strict";let n;r.d(t,{W:()=>a,o:()=>i});let i={id:""};var a=((n=a||{}).NORMAL="normal",n.INHERITED_INTERNAL="inherited_internal",n)},114396:(e,t,r)=>{"use strict";let n;r.d(t,{A:()=>l,e:()=>o});var i=r(843148),a=r(978976),o=((n=o||{}).RECENTLY_VIEWED="recently-viewed",n.SHARED_FILES="shared-with-you",n.SHARED_PROJECTS="shared-projects",n);let l={"recently-viewed":[a._2.NAME,a._2.CREATED_AT,a._2.ACCESSED_AT],"shared-with-you":(0,i.Ub)().sunflower_swy_sort_options?[a._2.NAME,a._2.CREATED_AT,a._2.SHARED_AT]:[a._2.SHARED_AT],"shared-projects":(0,i.Ub)().sunflower_swy_sort_options?[a._2.NAME,a._2.CREATED_AT,a._2.SHARED_AT]:[a._2.SHARED_AT]}},263212:(e,t,r)=>{"use strict";let n;r.d(t,{G2:()=>o,gt:()=>c,o5:()=>u});var i=r(698580),a=r(377228),o=((n=o||{})[n.CURATED_IMAGE=0]="CURATED_IMAGE",n[n.THUMBNAIL=1]="THUMBNAIL",n[n.EMBED=2]="EMBED",n);let l=i.record(i.string().refine(e=>Object.keys(a.o.COMMUNITY_HUB_FILE_THUMBNAIL).includes(e)),i.string().url()),s=i.object({url:i.string().url(),resized_thumbnail_urls:i.optional(l),created_at:i.date().optional()}),c=i.record(i.number(),s);s.extend({id:i.optional(i.string()),buffer:i.instanceof(Uint8Array).nullable(),sha1:i.string()});let d=i.object({url:i.string().url(),video_file_uuid:i.string().uuid(),thumbnail_url:i.string().url(),thumbnail_sha1:i.string()}),u=i.record(i.number(),d);d.merge(i.object({id:i.optional(i.string()),buffer:i.instanceof(Uint8Array).nullable(),sha1:i.string(),video_file_uuid:i.optional(i.string().uuid()),thumbnail_buffer:i.optional(i.instanceof(Uint8Array))}))},362592:(e,t,r)=>{"use strict";let n;r.d(t,{C:()=>a,g:()=>i});var i=((n=i||{})[n.URGENT_ALERT=9999]="URGENT_ALERT",n[n.HIGH_PRIORITY_MODAL=20]="HIGH_PRIORITY_MODAL",n[n.OVERRIDING_MODAL=15]="OVERRIDING_MODAL",n[n.DEFAULT_MODAL=10]="DEFAULT_MODAL",n[n.SECONDARY_MODAL=5]="SECONDARY_MODAL",n[n.SURVEY=1]="SURVEY",n);let a="team-library"},219476:(e,t,r)=>{"use strict";let n,i,a,o,l,s,c,d,u,p,m,_,h,g,f,E,y,b,v,I,w,T,S;r.d(t,{A1:()=>$,C4:()=>H,CE:()=>ei,Co:()=>es,Cu:()=>q,ET:()=>L,Ir:()=>X,Kg:()=>j,NV:()=>O,Oo:()=>eo,SY:()=>J,S_:()=>F,UX:()=>ep,YH:()=>z,_c:()=>en,a:()=>Z,aE:()=>B,aM:()=>R,aY:()=>ec,cf:()=>Q,cr:()=>P,ei:()=>et,gX:()=>A,gh:()=>x,iQ:()=>N,iq:()=>D,kf:()=>K,kv:()=>k,mG:()=>ed,mM:()=>W,my:()=>eu,qC:()=>V,sB:()=>U,sF:()=>G,uA:()=>Y,uI:()=>er,wF:()=>M,wd:()=>ea,wr:()=>ee,y_:()=>el});var C=r(560072),A=((n=A||{}).FILES="files",n.PROJECTS="projects",n.TEAMS="teams",n.USERS="users",n.HUB_FILES="hub_files",n.PUBLIC_PLUGINS="public_plugins",n.PRIVATE_PLUGINS="private_plugins",n.PUBLIC_PROFILES="public_profiles",n.PUBLIC_WIDGETS="public_widgets",n.PRIVATE_WIDGETS="private_widgets",n),O=((i=O||{}).RESOURCE="resource",i.CREATOR="creator",i.SPACE="space",i),N=((a=N||{}).USERS="users",a.PROJECTS="projects",a.TEAMS="teams",a.ORGS="orgs",a),L=((o=L||{}).FOLDER="folders",o.TEAM="teams",o.ORG="orgs",o),R=((l=R||{}).DROPDOWN="dropdown",l.AUTOCOMPLETE="autocomplete",l),P=((s=P||{}).PILL="pill",s.CLEAR_ALL="clear_all",s.ALL_TYPES="all_types",s.SELECTION="selection",s),M=((c=M||{}).ALL_FILES="FILES",c.DESIGN_FILES="DESIGN_FILES",c.FIGJAM_FILES="FIGJAM_FILES",c.SLIDES="SLIDES",c.USERS="USERS",c.PROJECTS="PROJECTS",c.TEAMS="TEAMS",c.PLUGINS="PLUGINS",c.WIDGETS="WIDGETS",c),k=((d=k||{}).NAME="name",d.FUZZY_NAME="fuzzy-name",d.NAME_WORD_DELIMITER_V2="name-word-delimiter-v2",d.DEEP_SEARCH_TEXT="deep-search-text",d.PAGE_NAME="page-name",d.FRAME_NAME="frame-name",d),D=((u=D||{}).ONE_TYPE="one_type",u.ALL_TYPES_BLOCKING="all_types_blocking",u.ALL_TYPES_STREAMING="all_types_streaming",u);function F(e){switch(e){case"files":return(0,C.t)("search.preview_section.files_capitalized");case"projects":return(0,C.t)("search.preview_section.projects_capitalized");case"users":return(0,C.t)("search.preview_section.people_capitalized");case"teams":return(0,C.t)("search.preview_section.teams_capitalized");case"private_plugins":return(0,C.t)("search.preview_section.plugins_capitalized");case"hub_files":return(0,C.t)("search.preview_section.community_capitalized");default:return""}}function x(e){if(!e)return null;switch(e.value){case"FILES":case"DESIGN_FILES":case"FIGJAM_FILES":case"SLIDES":return"files";case"USERS":return"users";case"PROJECTS":return"projects";case"TEAMS":return"teams";case"PLUGINS":return"private_plugins";case"WIDGETS":return"private_widgets";default:return null}}function U(e){switch(e){case"files":return"FILES";case"users":return"USERS";case"projects":return"PROJECTS";case"teams":return"TEAMS";case"private_plugins":return"PLUGINS";case"private_widgets":return"WIDGETS";default:return null}}var B=((p=B||{}).DESIGN="design",p.FIGJAM="whiteboard",p.SLIDES="slides",p);function G(e){if(e)switch(e.value){case"DESIGN_FILES":return"design";case"FIGJAM_FILES":return"whiteboard";case"SLIDES":return"slides";default:return}}function V(e){if(!e)return null;let t={};for(let[r,n]of Object.entries(e))n&&("creatorIds"===r?t["creator_ids[]"]=n:"folderIds"===r&&n.length>0?t["folder_ids[]"]=n:"teamIds"===r&&n.length>0?t["team_ids[]"]=n:"orgIds"===r&&n.length>0?t["org_ids[]"]=n:t[r]=n);return t}var H=((m=H||{}).ORG="internal",m.ORG_GUEST="internal_guest",m.PERSONAL="personal",m.COMMUNITY="community",m);let W={internal:{modelTypes:["files","projects","users","teams","private_plugins","private_widgets"],correspondingModelTypes:{hub_files:"files",public_profiles:"users",public_plugins:"private_plugins",public_widgets:"private_widgets"},defaultModelType:"files"},internal_guest:{modelTypes:["files","projects","users","teams"],correspondingModelTypes:{hub_files:"files",public_profiles:"users"},defaultModelType:"files"},personal:{modelTypes:["files","projects","users"],correspondingModelTypes:{hub_files:"files",public_profiles:"users"},defaultModelType:"files"},community:{modelTypes:["hub_files","public_plugins","public_profiles","public_widgets"],correspondingModelTypes:{files:"hub_files",users:"public_profiles",private_plugins:"public_plugins",private_widgets:"public_widgets"},defaultModelType:"hub_files"}};var K=((_=K||{}).POPULARITY="popularity",_.RECENCY="recency",_.RELEVANCY="relevancy",_.NAME="name",_.AUTHOR_NAME="author_name",_.INSTALL_COUNT="install_count",_.MEMBER_COUNT="member_count",_.FILE_COUNT="file_count",_.UPDATED_AT="updated_at",_.TOUCHED_AT="touched_at",_.FILES_LAST_TOUCHED_AT="files_last_touched_at",_.CREATED_AT="created_at",_.EMAIL="email",_),Y=((h=Y||{}).NAME="name",h.AUTHOR_NAME="author_name",h.UPDATED_AT="updated_at",h.INSTALL_COUNT="install_count",h.RELEVANCY="relevancy",h.RUN_COUNT="run_count",h),q=((g=q||{}).NAME="name",g.AUTHOR_NAME="author_name",g.UPDATED_AT="updated_at",g.INSTALL_COUNT="install_count",g.RELEVANCY="relevancy",g),j=((f=j||{}).POPULARITY="popularity",f.RECENCY="recency",f),$=((E=$||{}).RELEVANCY="relevancy",E.NAME="name",E.TOUCHED_AT="touched_at",E.CREATED_AT="created_at",E.OWNER="owner",E),Z=((y=Z||{}).RELEVANCY="relevancy",y.NAME="name",y.FILES_LAST_TOUCHED_AT="files_last_touched_at",y.CREATED_AT="created_at",y.FILE_COUNT="file_count",y),z=((b=z||{}).RELEVANCY="relevancy",b.NAME="name",b.FILES_LAST_TOUCHED_AT="files_last_touched_at",b.CREATED_AT="created_at",b.MEMBER_COUNT="member_count",b),Q=((v=Q||{}).RELEVANCY="relevancy",v.NAME="name",v.EMAIL="email",v),X=((I=X||{}).RELEVANCY="relevancy",I),J=((w=J||{}).RELEVANCY="relevancy",w),ee=((T=ee||{}).PREVIEW="preview",T.FULL_PAGE="full_page",T.OUTSIDE_FILE_BROWSER="outside_file_browser",T),et=((S=et||{}).OPEN="open",S.CLOSE="close",S);function er(e){switch(e){case"files":return(0,C.t)("search.search_model_type_header.files");case"projects":return(0,C.t)("search.search_model_type_header.projects");case"teams":return(0,C.t)("search.search_model_type_header.teams");case"users":return(0,C.t)("search.search_model_type_header.people");case"hub_files":return(0,C.t)("search.search_model_type_header.hub_files");case"public_plugins":return(0,C.t)("search.search_model_type_header.public_plugins");case"private_plugins":return(0,C.t)("search.search_model_type_header.private_plugins");case"public_profiles":return(0,C.t)("search.search_model_type_header.creators");case"public_widgets":return(0,C.t)("search.search_model_type_header.public_widgets");case"private_widgets":return(0,C.t)("search.search_model_type_header.private_widgets")}}function en(e){switch(e){case"teams":return(0,C.t)("file_browser.team");case"hub_files":return(0,C.t)("activity_log.resource.file");case"public_plugins":case"private_plugins":return(0,C.t)("community.plugins.plugin");case"public_profiles":return(0,C.t)("search.preview_section.creator");case"public_widgets":case"private_widgets":return(0,C.t)("community.plugins.widget");case"users":case"files":case"projects":return(0,C.t)("permissions.level_name.none")}}function ei(e){if(1===(e=Array.from(new Set(e))).length)return e[0];{let t=e.pop();return e.join(", ")+" and "+t}}function ea(e){switch(e){case"files":return(0,C.t)("search.search_model_type.empty_state_files");case"projects":return(0,C.t)("search.search_model_type.empty_state_projects");case"teams":return(0,C.t)("search.search_model_type.empty_state_teams");case"users":return(0,C.t)("search.search_model_type.empty_state_people");case"hub_files":return(0,C.t)("search.search_model_type.empty_state_hub_files");case"public_plugins":return(0,C.t)("search.search_model_type.empty_state_public_plugins");case"private_plugins":return(0,C.t)("search.search_model_type.empty_state_private_plugins");case"public_profiles":return(0,C.t)("search.search_model_type.empty_state_creators");case"public_widgets":return(0,C.t)("search.search_model_type.empty_state_public_widgets");case"private_widgets":return(0,C.t)("search.search_model_type.empty_state_private_widgets");default:return""}}let eo=["files","projects","users","teams"],el=["files","projects","users","hub_files"],es=["public_plugins","private_plugins","public_widgets","private_widgets","public_profiles"],ec=["public_plugins","private_plugins","public_widgets","private_widgets","teams","public_profiles"],ed=4,eu=10,ep=30},475136:(e,t,r)=>{"use strict";let n,i,a,o,l,s,c,d,u;r.d(t,{AH:()=>_,El:()=>E,Id:()=>C,M5:()=>A,MZ:()=>N,QF:()=>g,R4:()=>v,aS:()=>y,cb:()=>w,mo:()=>h,oz:()=>I,qU:()=>b,uE:()=>S,wp:()=>m,y8:()=>T});var p=r(559572),m=((n=m||{})[n.INVITE=0]="INVITE",n[n.PUBLISH=1]="PUBLISH",n[n.PUBLISH_COMMUNITY=2]="PUBLISH_COMMUNITY",n[n.PUBLISH_TEMPLATE=3]="PUBLISH_TEMPLATE",n[n.POST_TO_FEED=4]="POST_TO_FEED",n[n.COLLABORATORS=5]="COLLABORATORS",n[n.EMBED_CODE=6]="EMBED_CODE",n[n.SHARE_DEV_MODE=7]="SHARE_DEV_MODE",n[n.SHARE_SETTINGS=8]="SHARE_SETTINGS",n[n.FOLDER_MEMBERS=9]="FOLDER_MEMBERS",n[n.SHARE_GOOGLE_DEVICE_DISCLAIMER=10]="SHARE_GOOGLE_DEVICE_DISCLAIMER",n),_=((i=_||{}).ACCOUNT="account",i.PLUGINS="plugins",i.COMMUNITY="community",i.NOTIFICATIONS="notifications",i);function h(e){return"search"===e.view}let g={UNIVERSAL_PUBLISHING:"publish",ACCOUNT_SETTINGS:"settings"};var f=((a=f||{}).IN_VIEW="in_view",a.DIRECT="direct",a),E=((o=E||{}).RESOURCES="resources",o.LIKES="likes",o.FOLLOWERS="followers",o.FOLLOWING="following",o.METRICS="metrics",o.SAVES="saves",o),y=((l=y||{})[l.DEFAULT=0]="DEFAULT",l.FULLSCREEN="fullscreen",l.FULLSCREEN_WITH_COMMENTS="fullscreen_comments",l),b=((s=b||{}).ONBOARDING="onboarding",s);function v(e){return"org"===e.view}var I=((c=I||{})[c.PROJECT=0]="PROJECT",c[c.TEAM=1]="TEAM",c[c.WORKSPACE=2]="WORKSPACE",c[c.LICENSE_GROUP=3]="LICENSE_GROUP",c),w=((d=w||{}).UPGRADE_EXISTING_TEAM="upgrade_existing_team",d.CREATE_AND_UPGRADE="create_and_upgrade",d.CREATE="create",d),T=((u=T||{})[u.UNDETERMINED=0]="UNDETERMINED",u[u.STARTER=1]="STARTER",u[u.TEAM=2]="TEAM",u[u.ORG=3]="ORG",u);function S(e){return"create"===e||"create_and_upgrade"===e}function C(e){return"upgrade_existing_team"===e}function A(e,t){return"create"===e&&(t===p.qW.CREATE_TEAM||t===p.qW.ADD_COLLABORATORS)||t===p.qW.PLAN_COMPARISON}let O=["recentFiles","deletedFiles","teamCreation","folder","addAnnualPlan","addCollaborators","team","teamUpgrade","orgAdminSettings","licenseGroup","workspace","search","user","promoReview","eduReview","teamFeed","resourceUnavailable","feed","sharedWithYou","teamAdminConsole","recentsAndSharing","draftsToMove","allProjects"];function N(e){return O.includes(e.view)}},839324:(e,t,r)=>{"use strict";let n,i,a;r.d(t,{IN:()=>c,U7:()=>m,a6:()=>u,jH:()=>l});var o=r(698580),l=((n=l||{}).TEAM_CREATION_CONTROLS_ANYONE="team_creation_controls_anyone",n.TEAM_CREATION_CONTROLS_ADMIN_ONLY="team_creation_controls_admin_only",n);let s=o.nativeEnum(l);var c=((i=c||{}).MEMBERS="members",i.ALL_USERS="all_users",i.DISABLED="disabled",i);let d=o.nativeEnum(c);var u=((a=u||{}).ALLOWED="public_link_controls_setting_allowed",a.PASSWORD_REQUIRED="public_link_controls_setting_password_required",a.EXPIRATION_REQUIRED="public_link_controls_setting_expiration_required",a.EXP_AND_PWD_REQUIRED="public_link_controls_setting_password_and_expiration_required",a.BANNED="public_link_controls_setting_banned",a);let p=o.nativeEnum(u),m=o.object({team_creation_controls:s.optional().nullable(),external_collaboration_controls:o.boolean(),ip_account_restriction:o.boolean().optional(),idle_timeout_duration_in_secs:o.number().optional().nullable(),autogen_password_controls:o.boolean(),public_link_controls_setting:p.optional().nullable(),public_link_controls_max_expiration:o.number().optional().nullable(),configured_upgrade_request_setting:d.optional().nullable(),configured_upgrade_request_message:o.string().optional().nullable()})},967572:(e,t,r)=>{"use strict";let n;r.d(t,{w:()=>i});var i=((n=i||{}).NAME="Name",n.ACTIVE_AT="Last active",n.PERMISSIONS="Team permissions",n.DESIGN_PAID_STATUS="Design role",n.FIGJAM_PAID_STATUS="FigJam role",n)},623692:(e,t,r)=>{"use strict";r.d(t,{q:()=>n});let n={PENDING:"pending",APPROVED:"approved",DENIED:"denied",WITHDRAWN:"withdrawn"}},738008:(e,t,r)=>{"use strict";let n,i;r.d(t,{wT:()=>o,wf:()=>a,ys:()=>l});var a=((n=a||{}).FULL="full",n.RESTRICTED="restricted",n.STARTER="starter",n),o=((i=o||{}).DESIGN="design",i.WHITEBOARD="whiteboard",i);let l={full:3,starter:2,restricted:1}},112044:(e,t,r)=>{"use strict";let n,i,a,o,l;r.d(t,{Cg:()=>_,GC:()=>m,Oe:()=>b,c1:()=>E,kB:()=>h,qW:()=>y,yo:()=>g});var s=r(843148),c=r(698580),d=r(514916),u=r(740080),p=r(681072);let m=118;var _=((n=_||{}).REQUIRES_SOURCE_ACTION="requires_source_action",n),h=((i=h||{}).ORG_BROWSABLE="org_browsable",i.HIDDEN="hidden",i),g=((a=g||{}).STUDENT_TEAM_NULL="not_student_team",a.STUDENT_TEAM_CURRENT="current_student_team",a.STUDENT_TEAM_EXPIRED="expired_student_team",a);let f=c.nativeEnum(g);function E(e,t){let r=(0,s.Ub)().ps_benchmark;return t?`${location.origin}/files/${t}/team/${e}`:`${location.origin}/files/team/${e}${r?"/all-projects":""}`}u._g.extend({created_at:c.string(),id:c.string(),img_url:c.string().optional(),org_id:c.string().nullable(),name:c.string(),description:c.string(),projects:c.number(),editors:c.number(),realtime_token:c.string().optional(),restrictions_list:c.array(d.sF).nullable(),subscription:d.uU.nullable(),subscription_raw:d.uU.nullable(),org_access:d.m.nullable(),stripe_customer_id:c.string().nullable(),student_team_at:c.string().nullable(),student_team_state:f,student_autoverifying_team_at:c.string().nullable(),student_team:c.boolean(),pro_team:c.boolean(),org_team:c.boolean(),starter_team:c.boolean(),grace_period_end:c.string().nullable(),grace_period_type:d._i.nullable(),last_upgraded_at:c.string().nullable(),updated_at:c.string().nullable().optional(),deleted_at:c.string().nullable(),community_profile_id:c.string().optional(),community_profile_handle:c.string().optional(),experiment_seed:c.union([c.number(),c.string()]).nullable(),license_group_id:c.string().nullable(),license_group:p.K.nullable(),workspace_id:c.string().nullable(),default_permission:d.mE.optional().nullable(),is_favorited:c.boolean().optional(),vat_gst_id:c.string().optional(),tax_id_verification_status:d.aA.optional(),cmty_publish_as_user_enabled:c.boolean().optional(),ai_features_disabled:c.boolean().optional(),legal_name:c.string().nullable(),shared_by_text:c.string().optional(),org_or_team_name:c.string().optional().nullable(),sharing_audience_control:d.Ep.optional(),org_browsable:c.boolean().optional(),hidden:c.boolean().optional()});var y=((o=y||{}).MOVE_FILES="move_files",o.DUPLICATE_FILES="duplicate_files",o.RESTORE_FILES="restore_files",o.MOVE_FOLDER="move_folder",o.IMPORT_FILES="import_files",o.CREATE_FILE="create_file",o.CREATE_FOLDER="create_folder",o.CREATE_FILE_FROM_TEMPLATE="create_file_from_template",o.CREATE_PAGE="create_page",o.DUPLICATE_PAGE="duplicate_page",o.CREATE_MORE_VARIABLE_MODES="create_more_variable_modes",o.PUBLISH_MORE_VARIABLE_MODES="publish_more_variable_modes",o.CREATE_FILE_FROM_DROPDOWN="create_file_from_dropdown",o),b=((l=b||{}).PUBLISH_COMPONENTS="publish_components",l.USE_AUDIO="use_audio",l.VIEW_ONLY_PROJECT="view_only_project",l.INVITE_ONLY_PROJECT="invite_only_project",l)},978976:(e,t,r)=>{"use strict";let n,i,a,o,l,s,c;r.d(t,{MZ:()=>_,_2:()=>d,_U:()=>p,hk:()=>h,iq:()=>m,kT:()=>f,sV:()=>g,sz:()=>u});var d=((n=d||{})[n.NAME=0]="NAME",n[n.CREATED_AT=1]="CREATED_AT",n[n.TOUCHED_AT=2]="TOUCHED_AT",n[n.TRASHED_AT=3]="TRASHED_AT",n[n.OWNER=4]="OWNER",n[n.SEARCH_RELEVANCE=5]="SEARCH_RELEVANCE",n[n.PROJECT_NAME=6]="PROJECT_NAME",n[n.ACCESSED_AT=7]="ACCESSED_AT",n[n.SHARED_AT=8]="SHARED_AT",n),u=((i=u||{})[i.ASC=0]="ASC",i[i.DESC=1]="DESC",i),p=((a=p||{})[a.ANY=0]="ANY",a[a.SELF=1]="SELF",a[a.OTHER=2]="OTHER",a),m=((o=m||{})[o.ANY=0]="ANY",o[o.DESIGN=1]="DESIGN",o[o.FIGJAM=2]="FIGJAM",o[o.PROTOTYPE=3]="PROTOTYPE",o[o.SLIDES=4]="SLIDES",o),_=((l=_||{})[l.LIST=0]="LIST",l[l.GRID=1]="GRID",l),h=((s=h||{}).ALL="",s.SHARED="shared",s.ORG_DELETED_DRAFTS="deleted_user_drafts",s);function g(e){switch(e){case 0:return"resource_name";case 1:return"resource_created_at";case 8:return"shared_at";default:return null}}var f=((c=f||{})[c.TIME=0]="TIME",c[c.ALPHABETICAL=1]="ALPHABETICAL",c[c.OTHER=2]="OTHER",c)},291900:(e,t,r)=>{"use strict";let n,i,a;r.d(t,{A9:()=>u,G:()=>l,OR:()=>c,iM:()=>d,mK:()=>s});var o=r(698580),l=((n=l||{}).NONE="none",n.ACCEPTED="accepted",n.STARTED_ONBOARDING="started_onboarding",n.DISABLED="disabled",n.ENABLED="enabled",n),s=((i=s||{}).NUM_CUSTOMERS="num_customers",i.PAYOUTS="payouts",i.GROSS="gross",i.LAST_UPDATED="last_updated_at",i.ALL_TIME_TOTAL_EARNED="all_time_total_earned",i.NUM_PURCHASES="num_purchases",i);function c(e){return e&&({none:0,accepted:1,started_onboarding:2,disabled:3,enabled:4})[e]||0}let d=o.object({id:o.string(),name:o.string().optional(),handle:o.string(),img_url:o.string(),email:o.string().optional(),description:o.string().nullish(),org_id:o.string().optional()});var u=((a=u||{}).EDITOR_ON_MAIN="Editor on main",a.EDITOR_ON_TEAM="Editor on team",a)},567988:(e,t,r)=>{"use strict";r.d(t,{A5:()=>s,CK:()=>o,Cw:()=>l,KO:()=>n,OK:()=>a,ee:()=>i,yY:()=>c});let n="show_m10n_approval_banner",i="show_m10n_stripe_onboarding_incomplete",a="show_m10n_stripe_adtl_info_needed_banner",o="seen_advanced_prototyping_upsell",l=new Set(["seen_pro_cart_abandon_survey","seen_drafts_collaboration_survey","seen_first_use_survey","seen_type_of_work_survey","seen_org_admin_survey","seen_pro_admin_survey","seen_org_cart_abandon_survey","seen_remote_templates_opt_out_survey","seen_editor_new_user_survey","seen_editor_new_user_research_intake","seen_starter_team_loophole_survey","dismissed_starter_team_loophole_survey","completed_starter_team_loophole_survey"]),s=["collective_upsell_widget_seen_1","collective_upsell_widget_seen_10","collective_upsell_widget_seen_100"],c=["collective_upsell_full_screen_seen_1","collective_upsell_full_screen_seen_10"]},955884:(e,t,r)=>{"use strict";let n,i,a,o;r.d(t,{D:()=>d,E5:()=>u,G8:()=>c,YL:()=>l,_k:()=>s});var l=((n=l||{})[n.CONNECTED=0]="CONNECTED",n[n.CONNECTED_WITH_MIC_DISABLED=1]="CONNECTED_WITH_MIC_DISABLED",n[n.DISCONNECTED=2]="DISCONNECTED",n[n.CONNECTING=3]="CONNECTING",n[n.DISCONNECTING=4]="DISCONNECTING",n[n.RECONNECTING=5]="RECONNECTING",n[n.ERROR=6]="ERROR",n[n.CALL_INACTIVE=7]="CALL_INACTIVE",n[n.TOKEN_WILL_EXPIRE_DETECT_MIC_INPUT=8]="TOKEN_WILL_EXPIRE_DETECT_MIC_INPUT",n[n.TOKEN_WILL_EXPIRE=9]="TOKEN_WILL_EXPIRE",n[n.TOKEN_EXPIRED=10]="TOKEN_EXPIRED",n[n.TOKEN_SILENTLY_RENEWED=11]="TOKEN_SILENTLY_RENEWED",n[n.USER_JOINED=12]="USER_JOINED",n[n.USER_LEFT=13]="USER_LEFT",n[n.ERROR_MICROPHONE_PERMISSIONS_DENIED=14]="ERROR_MICROPHONE_PERMISSIONS_DENIED",n[n.WARNING_MICROPHONE_LEVELS_HIGH_AND_MUTED=15]="WARNING_MICROPHONE_LEVELS_HIGH_AND_MUTED",n[n.UNMUTE=16]="UNMUTE",n[n.MUTE=17]="MUTE",n[n.ERROR_ON_LEAVE=18]="ERROR_ON_LEAVE",n[n.SYSTEM_INCOMPATIBLE=19]="SYSTEM_INCOMPATIBLE",n[n.WARNING_AUDIO_INPUT_LEVEL_TOO_LOW=20]="WARNING_AUDIO_INPUT_LEVEL_TOO_LOW",n[n.WARNING_AUDIO_OUTPUT_LEVEL_TOO_LOW=21]="WARNING_AUDIO_OUTPUT_LEVEL_TOO_LOW",n[n.WARNING_SEND_AUDIO_BITRATE_TOO_LOW=22]="WARNING_SEND_AUDIO_BITRATE_TOO_LOW",n[n.WARNING_RECV_AUDIO_DECODE_FAILED=23]="WARNING_RECV_AUDIO_DECODE_FAILED",n[n.WARNING_AUDIO_INPUT_LEVEL_TOO_LOW_RECOVER=24]="WARNING_AUDIO_INPUT_LEVEL_TOO_LOW_RECOVER",n[n.WARNING_AUDIO_OUTPUT_LEVEL_TOO_LOW_RECOVER=25]="WARNING_AUDIO_OUTPUT_LEVEL_TOO_LOW_RECOVER",n[n.WARNING_SEND_AUDIO_BITRATE_TOO_LOW_RECOVER=26]="WARNING_SEND_AUDIO_BITRATE_TOO_LOW_RECOVER",n[n.WARNING_RECV_AUDIO_DECODE_FAILED_RECOVER=27]="WARNING_RECV_AUDIO_DECODE_FAILED_RECOVER",n);let s=new Set([9,10]);var c=((i=c||{})[i.NONE=0]="NONE",i[i.HEADPHONES=1]="HEADPHONES",i[i.FULL=2]="FULL",i),d=((a=d||{}).ERROR="error",a.WARNING="warning",a.MESSAGE="message",a.SUCCESS="success",a.PENDING="pending",a),u=((o=u||{})[o.DONE=100]="DONE",o[o.STARTED=1]="STARTED",o[o.NOT_STARTED=0]="NOT_STARTED",o[o.DISK_ERROR=-1]="DISK_ERROR",o[o.NETWORK_ERROR=-2]="NETWORK_ERROR",o)},901092:(e,t,r)=>{"use strict";r.d(t,{E1:()=>u,Ed:()=>p,GE:()=>s,i0:()=>l,kn:()=>d,mi:()=>i,qe:()=>o,s1:()=>c,sn:()=>a});var n=r(623131);let i=(0,n.Zf)(!1),a=(0,n.Zf)(!1),o=(0,n.Zf)(!1),l=(0,n.Zf)(null),s=(0,n.Zf)(null),c=(0,n.Zf)(null),d=(0,n.Zf)(null),u=(0,n.Zf)(!1),p=(0,n.Zf)(e=>e(s)?e(l):null)},70228:(e,t,r)=>{"use strict";let n;r.d(t,{cj:()=>M,Wt:()=>B,Wy:()=>G,G5:()=>P});var i=r(307824),a=r(120304),o=r(916924),l=r(843148),s=r(365224),c=r(372152),d=r(506616),u=r(323576),p=r(894764),m=r(392992),_=r(572748),h=r(251596),g=r(514916),f=r(472956),E=r(325252),y=r(89936),b=r(395180),v=r(927976),I=r(698240),w=r(560072),T=r(597624),S=r(250016),C=r(784740),A=r(203736),O=r(23024),N=((n=N||{}).STOP_AUTO_RUN_FROM_USER="stop-auto-run-from-user",n.STOP_AUTO_RUN_FROM_ORG="stop-auto-run-from-org",n.CONFIRM_REPLACE="confirm-replace",n.ENABLE_AUTO_RUN="enable-auto-run",n);let L=(0,A.U9)(function({commonShowModalArgs:e,newPluginName:t,autoRunModalType:r}){let n,l;let s=()=>{b.K.updateUserAutoRunPluginId(e.pluginID,g.es.NONE),d(u.Kw())},c=()=>d(u.Kw()),d=(0,a.OY)(),p=(0,_.Ce)()||null,m={currentAutoRunPluginName:i.createElement(C.a,{fontWeight:"bold"},e.currentAutoRunPluginName)},h={orgName:i.createElement(C.a,null,(null==p?void 0:p.name)||""),orgPluginName:i.createElement(C.a,{fontWeight:"bold"},e.orgPluginName)},f={orgPluginName:i.createElement(C.a,{fontWeight:"bold"},e.orgPluginName),newPluginName:i.createElement(C.a,{fontWeight:"bold"},t),orgName:i.createElement(C.a,null,(null==p?void 0:p.name)||"")};switch(r){case"stop-auto-run-from-user":n=i.createElement(i.Fragment,null,i.createElement(C.a,{color:"default",fontWeight:"medium",i18nId:"dev_handoff.autorun_confirm_modal.stop_auto_run_desc",i18nParams:m}),i.createElement("div",{className:I.cx.mt16.$},i.createElement(T.g,{direction:"horizontal",horizontalAlignItems:"end",height:"hug-contents"},i.createElement(S.q,{variant:"secondary",onClick:c},(0,w.t)("dev_handoff.autorun_confirm_modal.cancel")),i.createElement(S.q,{variant:"primary",onClick:()=>{s(),d((0,u.A5)({type:L,data:{commonShowModalArgs:e,autoRunModalType:"enable-auto-run"}}))}},(0,w.t)("dev_handoff.autorun_confirm_modal.stop_auto_run")))));break;case"enable-auto-run":n=i.createElement(i.Fragment,null,i.createElement(C.a,{color:"default",fontWeight:"medium",i18nId:"dev_handoff.autorun_confirm_modal.enable_auto_run_desc",i18nParams:h}),i.createElement("div",{className:I.cx.mt16.$},i.createElement(T.g,{direction:"horizontal",horizontalAlignItems:"end",height:"hug-contents"},i.createElement(S.q,{variant:"secondary",onClick:c},(0,w.t)("dev_handoff.autorun_confirm_modal.dont_enable")),i.createElement(S.q,{variant:"primary",onClick:()=>{b.K.updateUserAutoRunPluginId(e.pluginID,g.es.INHERIT),d(u.Kw())}},(0,w.t)("dev_handoff.autorun_confirm_modal.enable_auto_run")))));break;case"confirm-replace":n=i.createElement(i.Fragment,null,i.createElement(C.a,{color:"default",fontWeight:"medium",i18nId:"dev_handoff.autorun_confirm_modal.confirm_replace",i18nParams:f}),i.createElement("div",{className:I.cx.mt16.$},i.createElement(T.g,{direction:"horizontal",horizontalAlignItems:"end",height:"hug-contents"},i.createElement(S.q,{variant:"secondary",onClick:c},(0,w.t)("dev_handoff.autorun_confirm_modal.cancel")),i.createElement(S.q,{variant:"primary",onClick:()=>{b.K.updateUserAutoRunPluginId(e.pluginID,g.es.OVERRIDE),d(u.Kw())}},(0,w.t)("dev_handoff.autorun_confirm_modal.replace")))));break;case"stop-auto-run-from-org":n=i.createElement(i.Fragment,null,i.createElement(C.a,{color:"default",fontWeight:"medium",i18nId:"dev_handoff.autorun_confirm_modal.stop_auto_run_from_org",i18nParams:h}),i.createElement("div",{className:I.cx.mt16.$},i.createElement(T.g,{direction:"horizontal",horizontalAlignItems:"end",height:"hug-contents"},i.createElement(S.q,{variant:"secondary",onClick:c},(0,w.t)("dev_handoff.autorun_confirm_modal.cancel")),i.createElement(S.q,{variant:"primary",onClick:s},(0,w.t)("dev_handoff.autorun_confirm_modal.stop_auto_run")))));break;default:(0,o.gy)(r)}switch(r){case"stop-auto-run-from-user":case"stop-auto-run-from-org":l=(0,w.t)("dev_handoff.autorun_confirm_modal.title_stop_auto_run");break;case"confirm-replace":l=(0,w.t)("dev_handoff.autorun_confirm_modal.title_replace_auto_run");break;case"enable-auto-run":l=(0,w.t)("dev_handoff.autorun_confirm_modal.title_enable_auto_run",{pluginName:e.orgPluginName});break;default:(0,o.gy)(r)}return i.createElement(O.Cc,{title:l,onClose:()=>d(u.Kw()),maxWidth:360},i.createElement("div",{className:I.cx.p16.$,"data-testid":"autorun-confirm-modal"},n))},"AutoRunConfirmModal");var R=r(901092);function P(e){var t;let r=(null==e?void 0:e.plugin_id)??"",n=(null==e?void 0:e.name)??"",c=k(),d=F(),p=(null==(t=c.plugin)?void 0:t.plugin_id)===r,m=(0,s.my)(R.E1),_=D(),h=(0,a.OY)();return{isPluginSetToAutoRun:p,callback:i.useCallback(()=>{var e,t,i,a,s;if(m(!0),!(0,l.Ub)().dev_mode_auto_run_plugin||!c.loaded||!d.loaded)return;let p=null==(e=_.autoRunPrefs)?void 0:e.autoRunPluginBehavior,f={pluginID:r,orgPluginName:(null==(i=null==(t=d.autoRunPrefs)?void 0:t.autoRunPlugin.currentPluginVersion)?void 0:i.name)||"",currentAutoRunPluginName:(null==(a=c.plugin)?void 0:a.name)||""};switch(p){case void 0:case g.es.NONE:b.K.updateUserAutoRunPluginId(r,g.es.OVERRIDE);break;case g.es.OVERRIDE:r!==(null==(s=c.plugin)?void 0:s.plugin_id)?b.K.updateUserAutoRunPluginId(r,g.es.OVERRIDE):d.autoRunPrefs?h((0,u.A5)({type:L,data:{commonShowModalArgs:f,autoRunModalType:N.STOP_AUTO_RUN_FROM_USER}})):b.K.updateUserAutoRunPluginId(r,g.es.NONE);break;case g.es.INHERIT:d.autoRunPrefs?r!==d.autoRunPrefs.autoRunPluginId?h((0,u.A5)({type:L,data:{commonShowModalArgs:f,newPluginName:n,autoRunModalType:N.CONFIRM_REPLACE}})):h((0,u.A5)({type:L,data:{commonShowModalArgs:f,autoRunModalType:N.STOP_AUTO_RUN_FROM_ORG}})):b.K.updateUserAutoRunPluginId(r,g.es.OVERRIDE);break;default:(0,o.gy)(p)}},[c,_.autoRunPrefs,h,d,r,n,m])}}function M(e){return e&&(0,E.aZ)(e)}function k(){var e,t,r,n;let i=D(),a=F(),o=null==(e=(0,_.Ce)())?void 0:e.id,s=null==(t=(0,h.C2)())?void 0:t.id;if(!(0,l.Ub)().dev_mode_auto_run_plugin)return{loaded:!0,plugin:null};if(!(i.loaded&&a.loaded))return{loaded:!1,plugin:null};let c=null;switch(null==(r=i.autoRunPrefs)?void 0:r.autoRunPluginBehavior){case g.es.NONE:c=null;break;case g.es.OVERRIDE:c=i.autoRunPrefs.autoRunPlugin;break;case g.es.INHERIT:default:c=(null==(n=a.autoRunPrefs)?void 0:n.autoRunPlugin)??null}let d=c?(0,p.io)(c,o??"",s??"",null)??null:null;return{loaded:!0,plugin:M(d)?d:null}}function D(){let e=(0,h.C2)();return x((0,d.Qb)(f.i2W,{targetOrgId:null,targetUserId:(null==e?void 0:e.id)??""},{enabled:!!(null==e?void 0:e.id)}))}function F(e){let t=(0,_.Ce)(),r=!!(t&&t.bigma_enabled),n=(0,d.Qb)(f.i2W,{targetOrgId:(null==t?void 0:t.id)??"",targetUserId:null},{enabled:r});return r?x(n,e):{loaded:!0,autoRunPrefs:null}}function x(e,t){if("loaded"!==e.status)return{loaded:!1,autoRunPrefs:null};let r=e.data.pluginPreferences,n=!!(t||(null==r?void 0:r.autoRunEnabled));return r&&r.autoRunPluginId&&r.autoRunPlugin&&n?{loaded:!0,autoRunPrefs:{autoRunPluginId:r.autoRunPluginId,autoRunPluginBehavior:r.autoRunBehavior,autoRunPlugin:r.autoRunPlugin}}:{loaded:!0,autoRunPrefs:null}}async function U(e,t,r){(0,l.Ub)().dev_mode_auto_run_plugin&&(r(!0),await y.m.instance.enqueue({runPluginArgs:{plugin:e,command:"",queryMode:!1,runMode:"default",triggeredFrom:"auto-run",openFileKey:t,isWidget:!1,ignoreForRunLastPlugin:!0},mode:"run-forever"}))}function B(){let e=(0,v.AR)(),t=(0,m.K0)(),r=(0,p.WC)(),n=k(),[i,a]=(0,c.lZ)(R.E1);if(!e||i||!n.loaded)return;let o=n.plugin;if(!o){a(!0);return}M(o)&&t&&r(o)&&U(o,t,a)}function G(){var e;let t=F(!0),r=(0,_.kV)();if(!(0,l.Ub)().dev_mode_auto_run_plugin)return{loaded:!0,plugin:null};if(!t.loaded)return{loaded:!1,plugin:null};let n=(null==(e=t.autoRunPrefs)?void 0:e.autoRunPlugin)??null,i=n?(0,p.io)(n,r??"",null,null)??null:null;return{loaded:!0,plugin:M(i)?i:null}}},196988:(e,t,r)=>{"use strict";r.d(t,{E:()=>o,g:()=>l});var n=r(623131),i=r(372152);let a=(0,n.Zf)(0);function o(){i.qM.set(a,e=>e+1)}function l(){return(0,i.m4)(a)}},599420:(e,t,r)=>{"use strict";r.d(t,{M:()=>b,c:()=>y});var n=r(307824),i=r(43116),a=r(886420),o=r(843148),l=r(204792),s=r(968240),c=r(560072),d=r(295752),u=r(869220),p=r(833492),m=r(514916),_=r(142548),h=r(740718),g=r(241645),f=r(830814),E=r(242632);function y(){var e;let{toggle:t,showing:r}=(0,p.s)("CODE_SETTINGS_DROPDOWN"),a=n.useRef(null),d=null==(e=a.current)?void 0:e.getBoundingClientRect(),{updateDefaultCodegenSettings:u,isSetToDefault:m}=b(),f=n.useCallback(e=>{e.stopPropagation(),e.preventDefault(),t()},[t]);return(0,o.Ub)().dev_mode_default_codegen?n.createElement(n.Fragment,null,n.createElement(g.wP,{ref:a,"data-tooltip-type":_.wL.TEXT,"data-tooltip":(0,c.t)("dev_handoff.code.options"),onClick:f},n.createElement(s.e,{svg:E.c},n.createElement(i.g,null))),r&&d&&n.createElement(h.Mx,{targetRect:d,propagateCloseClick:!0},n.createElement(l.g.CheckableOption,{onClick:u,checked:m},n.createElement(c.Tx,{id:"dev_handoff.code.settings.set_as_default"})))):null}function b(){let{setCodegenSettings:e,localCodegenSettings:t}=(0,f.mC)(),r=(0,d.oJ)(),i=(0,u.Ef)(),o=n.useMemo(()=>(null==t?void 0:t.behavior)===m.Sg.OVERRIDE&&(0,a.eG)(null==t?void 0:t.language,r)&&(0,a.eG)(null==t?void 0:t.preferences,i),[r,i,t]);return{updateDefaultCodegenSettings:n.useCallback(()=>{e({behavior:o?m.Sg.INHERIT:m.Sg.OVERRIDE,language:r,preferences:i})},[r,i,o,e]),isSetToDefault:o}}},699884:(e,t,r)=>{"use strict";r.d(t,{Gy:()=>n.G,Ke:()=>c.Ke,Om:()=>l.O,S8:()=>i.S8,YR:()=>o.Y,_2:()=>i._2,cX:()=>s.c,kX:()=>c.kX,qQ:()=>a.q,qi:()=>c.qi});var n=r(393028),i=r(103960),a=r(956068),o=r(721908),l=r(920912),s=r(478136),c=r(19960)},721908:(e,t,r)=>{"use strict";r.d(t,{O:()=>d,Y:()=>u});var n=r(307824),i=r(103839),a=r(101040),o=r(19960),l=r(956068),s=r(404516),c=r(203984);let d="plugin-iframe-top";class u extends n.Component{constructor(e){super(e),this.state={titleIconURL:"",titleIconSvgSrc:void 0,title:"",displayed:!1,width:o.IP,height:o.Ef,initialPosition:new i.Cg(0,0),cancelCallback:void 0,onDragEnd:e=>{},dragging:!1},this.onDragStart=()=>{this.setState({dragging:!0})},this.onDragEnd=e=>{this.setState({dragging:!1}),"function"==typeof this.state.onDragEnd&&this.state.onDragEnd(e)},this.onClose=()=>{this.state.cancelCallback&&this.state.cancelCallback()},u.instance=this}static getInstance(){return u.instance}updateState(e){this.setState(e)}render(){let{width:e,height:t}=this.state;return n.createElement("div",{style:{display:this.state.displayed?"":"none"},className:`${c.C} ${s.Av}`,"data-testid":"pluginModalContainer"},n.createElement(a.G0,{titleIconURL:this.state.titleIconURL,titleIconSvgSrc:this.state.titleIconSvgSrc,titleIconSvgClassName:c.S,title:this.state.title,truncateTitleText:!0,dragHeaderOnly:!0,initialWidth:e,initialHeight:t,onDragStart:this.onDragStart,onDragEnd:this.onDragEnd,onClose:this.onClose,ignoreCloseShortcut:!0,alwaysEnsureHeaderModalOnScreen:!0,initialPosition:this.state.initialPosition,canResetPosition:this.state.displayed,preventKeyboardFocus:!0,frameStyle:{overflow:"hidden"},recordingKey:"pluginModal",hidden:!this.state.displayed},n.createElement("div",{"data-onboarding-key":d,style:{position:"relative",top:"160px"}}),n.createElement(l.q,{iframeId:o.qi.MODAL,dragging:this.state.dragging})),n.createElement(l.q,{iframeId:o.qi.FETCH}))}}},830814:(e,t,r)=>{"use strict";r.d(t,{mC:()=>G,b2:()=>V,Y5:()=>H});var n=r(307824),i=r(120304),a=r(937620),o=r(877052),l=r(372152),s=r(506616),c=r(594192),d=r(557044),u=r(478180),p=r(288448),m=r(715436),_=r(511308),h=r(869220),g=r(849208),f=r(191352),E=r(894764),y=r(534408),b=r(138884),v=r(392992),I=r(572748),w=r(251596),T=r(514916),S=r(472956),C=r(325252),A=r(717252),O=r(927976),N=r(511508),L=r(753268),R=r(332464),P=r(916924),M=r(843148),k=r(762820);let D={language:{type:"first-party",id:"WEB"},preferences:{customSettings:null,unit:T.Oc.PIXEL,scaleFactor:null},behavior:T.Sg.INHERIT};class F{constructor(e,t,r){if(this.workingPreferences=e,this.parentPreferences=t,this.parentEnabledPreferences=r,!t||!r)return;let{codegenEnabled:n,pinnedPluginsEnabled:i}={...r},a={...t};!n&&(0,M.Ub)().dev_mode_default_codegen&&(a.codegenSettings=null),!i&&(0,M.Ub)().dev_mode_org_pinned_plugins_ent&&(a.pins=[],a.removedInheritedPins=[]),this.parentPreferences=a}orgPinsNotInUserPins(){var e;let t=[];for(let r of(null==(e=this.parentPreferences)?void 0:e.pins)??[])this.workingPreferences.pins.find(e=>e.pluginId===r.pluginId)||t.push(r);return t}get pinnedPluginIDs(){let e=[...this.workingPreferences.pins,...this.orgPinsNotInUserPins()],t=new Set(this.workingPreferences.removedInheritedPins);return e.filter(e=>!t.has(e.pluginId)&&(!e.inherited||x(this.parentPreferences,e.pluginId))).map(e=>e.pluginId)}get codegenSettings(){var e,t;return this.parentPreferences&&(null==(e=this.workingPreferences.codegenSettings)?void 0:e.behavior)!==T.Sg.OVERRIDE?(null==(t=this.parentPreferences)?void 0:t.codegenSettings)??null:this.workingPreferences.codegenSettings}update(e){return new F((0,R.cp)(this.workingPreferences,e),this.parentPreferences,this.parentEnabledPreferences)}pinPlugin(e){var t;let r=null==(t=this.workingPreferences)?void 0:t.pins.findIndex(t=>t.pluginId===e&&t.inherited);return null!=r&&-1!==r?this.update(t=>{t.pins[r].inherited=!1,t.removedInheritedPins=t.removedInheritedPins.filter(t=>t!==e)}):x(this.workingPreferences,e)?this:this.update(t=>{t.pins.push({pluginId:e,inherited:!1}),t.removedInheritedPins=t.removedInheritedPins.filter(t=>t!==e)})}unpinPlugin(e){return this.update(t=>{t.pins=t.pins.filter(t=>t.pluginId!==e),x(this.parentPreferences,e)&&t.removedInheritedPins.push(e)})}movePin(e,t){return"after"===t.type&&e===t.id||"begin"===t.type&&this.pinnedPluginIDs[0]===e?this:this.update(r=>{let n=x(this.workingPreferences,e),i=x(this.parentPreferences,e),a=!!(!n&&i);switch(r.pins=r.pins.filter(t=>t.pluginId!==e),t.type){case"begin":r.pins.unshift({pluginId:e,inherited:a});break;case"after":{let n=r.pins.findIndex(e=>e.pluginId===t.id);if(-1!==n)r.pins.splice(n+1,0,{pluginId:e,inherited:a});else{let n=this.orgPinsNotInUserPins(),i=n.findIndex(e=>e.pluginId===t.id);if(-1===i)throw Error("Invalid pin to move after");r.pins.push(...n.slice(0,i+1).map(e=>({...e,inherited:!0})),{pluginId:e,inherited:a})}}}})}get localCodegenSettings(){var e;if(!this.codegenSettings)return null;let t=null==(e=this.codegenSettings)?void 0:e.language,r=this.lgLanguageToLocalLanguage(t);if(!r)return null;let n=this.codegenSettings.preferences,i=this.lgUnitToLocalUnit(n.unit);return{language:r,preferences:{scaleFactor:n.scaleFactor??void 0,customSettings:n.customSettings??void 0,unit:i},behavior:this.codegenSettings.behavior}}setCodegenSettingLanguage(e){return this.update(t=>{var r,n;let i=this.localLanguageTypeToLgLanguageType(e.type);if(!i)throw Error("Invalid language type");let a={...e,type:i,pluginLanguage:e.pluginLanguage??null};t.codegenSettings={language:a,preferences:(null==(r=this.codegenSettings)?void 0:r.preferences)||D.preferences,behavior:(null==(n=this.codegenSettings)?void 0:n.behavior)||D.behavior}})}setCodegenSettingUnit(e){return this.update(t=>{if(!this.codegenSettings)return;let r=this.localUnitToLgUnit(e);if(!r)throw Error("Invalid unit");let n=this.codegenSettings.preferences?{...this.codegenSettings.preferences,unit:r}:{scaleFactor:null,unit:r,customSettings:null};t.codegenSettings={language:this.codegenSettings.language,preferences:n,behavior:this.codegenSettings.behavior}})}setCodegenSettingCustomSettings(e,t){return this.update(r=>{var n,i,a;if(!this.codegenSettings)return;let o=this.localLanguageTypeToLgLanguageType(e.type);if(!o)throw Error("Invalid language type");let l={...e,type:o,pluginLanguage:e.pluginLanguage??null},s={scaleFactor:(null==(n=this.codegenSettings.preferences)?void 0:n.scaleFactor)??null,unit:(null==(i=this.codegenSettings.preferences)?void 0:i.unit)??null,customSettings:{...null==(a=this.codegenSettings.preferences)?void 0:a.customSettings,...t.customSettings}};r.codegenSettings={language:l,preferences:s,behavior:this.codegenSettings.behavior}})}setCodegenSetting(e){return this.update(t=>{if(!e){t.codegenSettings=null;return}let{behavior:r,language:n,preferences:i}=e,a=this.localLanguageTypeToLgLanguageType(n.type);if(!a)throw Error("Invalid language type");let o={...n,type:a,pluginLanguage:n.pluginLanguage??null},l={unit:this.localUnitToLgUnit(i.unit),customSettings:i.customSettings??null,scaleFactor:i.scaleFactor??null};t.codegenSettings={behavior:r,language:o,preferences:l}})}localUnitToLgUnit(e){switch(e){case k.Ocq.PIXEL:return T.Oc.PIXEL;case k.Ocq.SCALED:return T.Oc.SCALED;default:return null}}lgUnitToLocalUnit(e){switch(e){case T.Oc.PIXEL:return k.Ocq.PIXEL;case T.Oc.SCALED:return k.Ocq.SCALED;default:return}}localLanguageTypeToLgLanguageType(e){switch(e){case"first-party":return T.io.FIRST_PARTY;case"published-plugin":return T.io.PUBLISHED_PLUGIN;default:return null}}lgLanguageToLocalLanguage(e){let t;switch(e.type){case T.io.FIRST_PARTY:t={id:e.id,type:e.type,pluginLanguage:e.pluginLanguage??void 0};break;case T.io.PUBLISHED_PLUGIN:if(!e.pluginLanguage)return null;t={id:e.id,type:e.type,pluginLanguage:e.pluginLanguage};break;default:(0,P.gy)(e.type)}return t}serialize(){return{pins:this.workingPreferences.pins.map(e=>({pluginId:e.pluginId,inherited:e.inherited})),removedInheritedPins:Array.from(new Set(this.workingPreferences.removedInheritedPins)),codegenSettings:this.workingPreferences.codegenSettings}}}function x(e,t){return null==e?void 0:e.pins.some(e=>e.pluginId===t)}let U={pins:[],removedInheritedPins:[],codegenSettings:null},B={...U,codegenSettings:{language:{id:y.qm.CSS,type:T.io.FIRST_PARTY,pluginLanguage:null},preferences:{customSettings:null,unit:T.Oc.PIXEL,scaleFactor:null},behavior:T.Sg.INHERIT}};function G(){let{loaded:e,preferences:t}=function(){let e=(0,w.sX)(),{loaded:t,preferences:r}=Y((0,s.Qb)(S.Qf3,{targetOrgId:null,targetUserId:e}));return{loaded:t,preferences:r}}(),{loaded:r,preferences:o,codegenEnabled:l,pinnedPluginsEnabled:d}=K(),_=(0,i.OY)(),h=(0,a.qM)(),f=(0,O.AR)(),y=(0,p.U9)(),b=f&&!y;(0,n.useEffect)(()=>{t&&T(null)},[t]);let v=(0,n.useMemo)(()=>new F(t??U,o??null,{codegenEnabled:l,pinnedPluginsEnabled:d}),[t,o,l,d]),[I,T]=(0,n.useState)(null),C=(0,n.useMemo)(()=>{let e=new Map;for(let r of[...(null==t?void 0:t.pins)??[],...(null==o?void 0:o.pins)??[]])r.plugin&&e.set(r.pluginId,r.plugin);return e},[null==o?void 0:o.pins,null==t?void 0:t.pins]),A=(0,n.useMemo)(()=>(null==I?void 0:I.pinnedPluginIDs)??v.pinnedPluginIDs,[v,I]),N=(0,i.w1)(e=>e.currentUserOrgId),L=(0,w.sX)(),R=(0,E.WC)(),P=(0,n.useMemo)(()=>A.map(e=>{let t=C.get(e);if(!t||!t.publishingStatus||t.publishingStatus!==u.VC.APPROVED_PUBLIC&&t.publishingStatus!==u.VC.ORG_PRIVATE)return null;let r=(0,E.io)(t,N,L,null);return r&&(b||R(r))?r:null}).filter(c.aI),[A,C,N,L,b,R]),M=e=>{T(e),W(e.serialize()).catch(()=>{T(null)})};return{pinnedPlugins:P,unpinPlugin(e){M(v.unpinPlugin(e)),h("Dev Handoff Unpin Plugin",{pluginID:e})},pinPlugin(e){_(g.s({[m.S_]:!0})),M(v.pinPlugin(e)),h("Dev Handoff Pin Plugin",{pluginID:e})},movePin(e,t){M(v.movePin(e,t)),h("Dev Handoff Moved Plugin",{pluginID:e})},localCodegenSettings:v.localCodegenSettings,setCodegenSettings(e){M(v.setCodegenSetting(e))},setCodegenSettingsLanguage(e){M(v.setCodegenSettingLanguage(e))},setCodegenSettingsUnit(e){M(v.setCodegenSettingUnit(e))},setCodegenSettingsCustomSettings(e,t){M(v.setCodegenSettingCustomSettings(e,t))},loaded:e&&r}}function V(){let{loaded:e,preferences:t}=K(),[r,i]=(0,n.useState)(!1),[o,s]=(0,n.useState)(new F({...B,codegenSettings:null},null,null)),c=(0,a.ER)(),[d,u]=(0,l.lZ)(N.A),p=(0,n.useCallback)(e=>{var t;s(e),u((null==(t=e.localCodegenSettings)?void 0:t.language)??null)},[u]);(0,n.useEffect)(()=>{e&&(null!=t&&p(new F({...t,codegenSettings:t.codegenSettings??B.codegenSettings},null,null)),i(!0))},[t,e,u,p]);let m=(0,n.useMemo)(()=>(null==o?void 0:o.pinnedPluginIDs)??[],[o]);return{pinnedPlugins:(0,E.g7)(m,{enabled:!0}),unpinPlugin(e){p(o.unpinPlugin(e)),c("Dev Handoff Org Unpin Plugin",{pluginID:e})},pinPlugin(e){p(o.pinPlugin(e)),c("Dev Handoff Org Pin Plugin",{pluginID:e})},movePin(e,t){p(o.movePin(e,t)),c("Dev Handoff Org Move Plugin",{pluginID:e})},localCodegenSettings:o.localCodegenSettings,setCodegenSettings(e){p(o.setCodegenSetting(e)),c("Dev Handoff Org Set codegenSettings",{codeLanguage:null==e?void 0:e.language.id})},setCodegenSettingsLanguage(e){p(o.setCodegenSettingLanguage(e)),c("Dev Handoff Org Set codegenSettingsLanguage",{codeLanguage:e.id})},setCodegenSettingsUnit(e){p(o.setCodegenSettingUnit(e)),c("Dev Handoff Org Set codegenSettings Unit in preferences",{unit:e})},setCodegenSettingsCustomSettings(e,t){p(o.setCodegenSettingCustomSettings(e,t))},serialize:()=>o.serialize(),updatePrefs(e){s(new F({pins:e.map(e=>({pluginId:e.plugin_id,inherited:!1})),removedInheritedPins:[],codegenSettings:o.codegenSettings},null,null))},loaded:r}}function H(){let e;let[t,r]=(0,n.useState)(!1),{localCodegenSettings:a,loaded:s}=G(),{loaded:c,plugin:d}=function(){let e=(0,v.K0)(),t=(0,l.m4)(o.O),r=(0,i.w1)(e=>e.figFileDuplicatedFromHubFile),a=(0,n.useMemo)(()=>{if(!e)return null;let t=r[e];return t&&t.hubFileId?(0,A._q)(t.hubFileId):null},[r,e]),s=!!a,c=(0,E.I5)(a??"",s);return t?a&&s?c:{loaded:!0,plugin:null}:{loaded:!1,plugin:null}}(),u=(0,h.ee)(),p=(0,L.u)("community_hub_file"),m=(0,f.KG)(),g=null==a?void 0:a.language,y=(null==g?void 0:g.type)==="published-plugin"&&s,I=(0,E.I5)((null==g?void 0:g.id)??"",y);if(!t){if(c&&d){if(!(0,C.qT)(d)||!(e=(0,_.Uj)(d)))return;"design"===m&&p("handoff")}else if(y&&I.loaded&&a){if((null==g?void 0:g.type)==="published-plugin"&&!I.plugin||I.plugin&&!(0,C.qT)(I.plugin))return;e=g}else(null==a?void 0:a.language.type)==="first-party"&&(e=g);e&&(!d&&a&&u(e,I.plugin??null,a.preferences),(0,b.Eh)(e),r(!0))}}async function W(e){await d.cp.post("/api/plugin_preferences/user",{preferences:e})}function K(){let e=(0,I.Ce)();return Y((0,s.Qb)(S.Qf3,{targetOrgId:(null==e?void 0:e.id)??null,targetUserId:null}))}function Y(e){if("loaded"!==e.status)return{loaded:!1,preferences:null,codegenEnabled:!1,pinnedPluginsEnabled:!1};let t=e.data.pluginPreferences,{codegenEnabled:r,pinnedPluginsEnabled:n}=t||{};return{loaded:!0,preferences:null==t?void 0:t.preferences,codegenEnabled:r??!1,pinnedPluginsEnabled:n??!1}}},236868:(e,t,r)=>{"use strict";r.d(t,{Fz:()=>l,IF:()=>s,QL:()=>o,SW:()=>d,_M:()=>c,g$:()=>a});var n=r(670968),i=r(28464);function a(e,t){let r=!!(e.tokens&&e.tokens.length||e.inputValue&&e.inputValue.length);return e.tokens.some(e=>e.state===i.O.ERROR)&&(r=!1),e.inputValue&&e.inputValue.length&&t(e.inputValue).state===i.O.ERROR&&(r=!1),r}function o(e){let t=[];for(let r of e.tokens)t.push(r.content.toLowerCase());return e.inputValue&&t.push(e.inputValue.toLowerCase()),t}function l(e){let t=[];for(let r of e.tokens)t.push(r.content.toLowerCase());return t}function s(e){let t=[];for(let r of e.tokens){let e="string"==typeof r.content?r.content:r.content.email;t.push(e.toLowerCase())}return e.inputValue&&t.push(e.inputValue.toLowerCase()),t}function c(){return{inputValue:"",tokens:[],errorMessage:""}}function d(e=c(),t){return n.a_.matches(t)?c():n.WO.matches(t)?{...t.payload}:n.a.matches(t)?{...e,tokens:e.tokens.concat(t.payload),inputValue:""}:n.uA.matches(t)?{...e,inputValue:t.payload}:n.ER.matches(t)?{...e,errorMessage:t.payload}:e}},784528:(e,t,r)=>{"use strict";r.d(t,{AD:()=>S,CA:()=>T,ET:()=>E,EX:()=>_,Ep:()=>d,Gs:()=>g,IJ:()=>b,Ib:()=>I,O0:()=>w,Q3:()=>p,SY:()=>h,Ww:()=>u,_s:()=>y,eK:()=>c,mq:()=>m,wj:()=>f});var n=r(843148),i=r(888932),a=r(403132),o=r(907236),l=r(762820),s=r(570012);function c(e,t){return!e&&!t||e===t}function d(e,t){return!e&&!t||!!e&&!!t&&e.pageId==t.pageId}function u(e,t){return!e&&!t||!!e&&!!t&&e.nodeId==t.nodeId}function p(e,t){let r=e?e.nodeId:void 0,n=e?e.name:void 0,i=e?e.backgroundColor:void 0,a=e?e.pageId:void 0,o=t?t.nodeId:void 0,l=t?t.name:void 0,s=t?t.backgroundColor:void 0,d=t?t.pageId:void 0;return(r!==o||n!==l||i!==s||!!a||!d)&&!function(e,t){if(null==e&&null==t)return!0;if(null==e||null==t)return!1;for(let r of["nodeId","name","backgroundColor","pageName","pageId","containingStateGroup"])switch(r){case"nodeId":case"name":case"backgroundColor":case"pageName":case"pageId":if(!c(e[r],t[r]))return!1;break;case"containingStateGroup":if(!function(e,t){if(null==e&&null==t)return!0;if(null==e||null==t)return!1;for(let r of["nodeId","name"])if(!c(e[r],t[r]))return!1;return!0}(e[r],t[r]))return!1}return!0}(e,t)}function m(e={...s.SK},t){return a._6.matches(t)?s.SK:(o.gl.matches(t)&&t.payload.appModelChanges&&-1===(e={...e,...t.payload.appModelChanges,isInitialized:!0}).currentSelectedGradientStop.index&&(e.currentSelectedGradientStop={index:0,type:l.oHD.COLOR}),e)}let _="fullscreen-menu-dropdown";function h(e){return(null==e?void 0:e.type)===_}let g="page-picker-dropdown";function f(e){return(null==e?void 0:e.type)===g}let E="quick-actions-dropdown",y="quick-actions-component-search-dropdown";function b(e){return!!(0,n.Ub)().dse_quick_action_comp_search&&(null==e?void 0:e.type)===y}let v=Object.create(null);function I(e,t){let r;return!!e[(r=v[t])||(r=v[t]=`actionEnabled__${t}`),r]}function w(e,t){switch(t){case"set-tool-bend":return i.cp.mac?"\u2318":"Ctrl";case"stack-reorder-left":case"stack-counter-align-left":return"\u2190";case"stack-reorder-left-end":return"\u2325\u2190";case"stack-reorder-right":case"stack-counter-align-right":return"\u2192";case"stack-reorder-right-end":return"\u2325\u2192";case"stack-reorder-up":case"stack-counter-align-top":return"\u2191";case"stack-reorder-up-end":case"stack-reorder-down-end":return"\u2325\u2191";case"stack-reorder-down":case"stack-counter-align-bottom":return"\u2193";case"set-tool-default-desc-figjam":case"set-tool-default-desc-figma":return"V";case"set-tool-marker":return"M";case"set-tool-stamp":return"E";case"set-tool-type":return"T";case"set-tool-connector-elbowed":return"X";case"toggle-publish":return i.cp.mac?"\u23252":"Alt+2";case"toggle-inline-preview":return"\u21E7Space";case"toggle-inline-html-preview":return"\u2325\u21E7Space";case"deselect-all":return"\u238B";case"multi-edit-text":return"Enter"}if(e[t]){let r=e[t];if(r&&r.length>=1)return r[0].text}return""}function T(e,t){if(e[t]){let r=e[t];if(r&&r.length>=1)return r[0].originalText}return""}function S(e){return e&&e.currentPage?e.currentPage:"0:1"}},258492:(e,t,r)=>{"use strict";r.d(t,{O:()=>s,W:()=>u});var n=r(403132),i=r(907236),a=r(361464),o=r(907152),l=r(779384);let s="not implemented",c=(...e)=>{throw Error(s)},d={scene:0,get:()=>null,getFromStablePath:()=>null,guidFromDeveloperFriendlyId:()=>"",developerFriendlyIdFromGuid:()=>"",getRoot:c,createNode:c,getCurrentPage:c,setCurrentPageAsync:c,setCurrentPageFromNodeAsync:c,getInternalCanvas:c,onChange:c,onAdd:c,onDelete:c,triggerChange:c,triggerAddCallbacks:c,triggerDeleteCallbacks:c};function u(e=d,t){return n._6.matches(t)||a.Y.matches(t)?((0,l.mK)(),d):i.gl.matches(t)&&t.payload.invalidateSceneGraph?((0,l.Oo)(),new o.TSSceneGraph):e}},513048:(e,t,r)=>{"use strict";r.d(t,{FE:()=>s,KQ:()=>c,Mx:()=>d,cz:()=>m,mS:()=>u,uu:()=>p});var n=r(916924),i=r(403132),a=r(907236),o=r(361464),l=r(467412);function s(e=Object.create(null),t){if(i._6.matches(t)||o.Y.matches(t))return Object.create(null);if(a.gl.matches(t)&&t.payload.selection){let{add:r,remove:i,replace:a}=t.payload.selection;if((0,n.kz)(!((r||i)&&a),"We expect either an add or remove OR a replace."),a)return a;let o=Object.assign(Object.create(null),e,r);for(let e in i)delete o[e];return o}return e}function c(e,t,r){for(let n in t){let t=e.get(n);t&&(0,l.cj)(e,t,r)}}function d(e,t,r){for(let n in t){let t=e.get(n);t&&r(t)}}function u(e,t){return!!e[t]}function p(e,t,r){return!!m(e,t,r)}function m(e,t,r){if(t[r])return e.get(r)||null;let n=null;return(0,l.SM)(e,r,e=>{if(!n&&t[e.guid]&&(n=e),n)return"stop"}),n}},525064:(e,t,r)=>{"use strict";r.d(t,{CU:()=>h,Il:()=>g,KA:()=>_,UZ:()=>m,Yv:()=>u,cT:()=>p,g3:()=>v,g8:()=>f,oJ:()=>E,qS:()=>y,wZ:()=>b});var n=r(721500),i=r(103839),a=r(907236),o=r(361464),l=r(37864),s=r(356267),c=r(466872),d=r(763456);let u=(0,n.I)(d._gu);function p(e,t=u){let{top:r,left:n}=e.getBoundingClientRect();return new i.Cg(n-t,r)}function m({el:e,initialHeight:t,verticalAlign:r}){let{right:n,top:a}=e.getBoundingClientRect();return r&&t?new i.Cg(n,a-t/2):new i.Cg(n,a)}function _(e,t=u,r=!0){let{top:n,left:a,width:o,height:l}=e.getBoundingClientRect(),s=n+l;return r?new i.Cg(a+(o-t)/2,s):new i.Cg(a+o-t,s)}function h(e=null,t){return a.is.matches(t)?t.payload:a.U5.matches(t)?null:e}function g(e={isShown:!1},t){return a.O0.matches(t)?{...t.payload,isShown:!0}:a.CI.matches(t)?{isShown:!1}:e}function f(e={isShown:!1},t){return l.eD.matches(t)?{...t.payload,isShown:!0}:l.es.matches(t)?{isShown:!1}:e}function E(e={isShown:!1},t){return a.sT.matches(t)?{pickerInfo:t.payload,isShown:!0}:a._I.matches(t)?{isShown:!1}:e}function y(e=!1,t){return a.qS.matches(t)?t.payload:e}function b(e={isShown:!1},t){return c.i.matches(t)?{...t.payload}:c.w.matches(t)||a.eU.matches(t)||o.Y.matches(t)?{isShown:!1}:e}function v(e=null,t){return s.Y.matches(t)?t.payload:s._.matches(t)?null:e}},47068:(e,t,r)=>{"use strict";r.d(t,{Kk:()=>u,Sy:()=>c,gt:()=>d,iy:()=>p});var n=r(901676),i=r(403132),a=r(597116);let o={[a.U.VIEW_MODE]:"view-bar-view-mode-option",[a.U.SORT_MODE]:"view-bar-sort-options"};function l(e){let t=n.Ez&&n.Ez.getItem(e)||"{}";try{return JSON.parse(t)}catch(e){return{}}}function s(e,t){if(n.Ez)try{let r=JSON.stringify(t);n.Ez.setItem(e,r)}catch(e){}return t}function c(e={},t){if(i.ug.matches(t))return l(o[a.U.VIEW_MODE]);if(i.K8.matches(t)){let r={...e,[t.payload.viewId]:t.payload.viewMode};return s(o[a.U.VIEW_MODE],r)}return e}function d(e={},t){if(i.ug.matches(t))return l(o[a.U.SORT_MODE]);if(i.yU.matches(t)){let r={...e,[t.payload.viewId]:t.payload.sortMode};return s(o[a.U.SORT_MODE],r)}return e}function u(e,t,r){return t[e]??r}function p(e,t,r,n){let i=t.viewBarSortOptionsByView[e];return i&&-1!==r.indexOf(i.sortKey)?i:n}},785100:(e,t,r)=>{"use strict";r.d(t,{Q:()=>o});var n=r(733500),i=r(557044),a=r(153900);let o=new class{constructor(){this.ColorPaletteSchemaValidator=(0,n.Yv)("ColorPaletteSchemaValidator",a._et.sinatra(),null)}createColorPalette(e){return this.ColorPaletteSchemaValidator.validate(async({xr:t})=>await t.post("/api/color_palettes",n.Ed.toAPIParameters(e)))}updateColorPalette(e){return this.ColorPaletteSchemaValidator.validate(async({xr:t})=>await t.put(`/api/color_palettes/${e.uuid}`,n.Ed.toAPIParameters(e)))}async deleteColorPalette(e){await i.cp.del(`/api/color_palettes/${e}`)}setUserColorPaletteOverrideForFile(e,t){return i.cp.post(`/api/files/${e}/color_palette`,n.Ed.toAPIParameters({colorPaletteUuid:t}))}async setTeamDefaultPalette(e,t){await i.cp.post(`/api/teams/${e}/default_color_palette`,n.Ed.toAPIParameters({colorPaletteUuid:t}))}async clearTeamDefaultPalette(e){await i.cp.del(`/api/teams/${e}/default_color_palette`)}}},736512:(e,t,r)=>{"use strict";let n;r.d(t,{e:()=>a,s:()=>o});var i=r(733500),a=((n=a||{}).VIEW_OR_PENDING="view_or_pending",n.VIEW_PROTOTYPE_OR_PENDING="view_prototype_or_pending",n);let o=new class{constructor(){this.ContactsSchemaValidator=(0,i._o)(),this.AtMentionsSchemaValidator=(0,i._o)(),this.searchAtMentions=e=>(e.includeHiResAvatars||delete e.includeHiResAvatars,this.AtMentionsSchemaValidator.validate(({xr:t})=>t.get("/api/contacts/at_mentions",i.Ed.toAPIParameters(e)))),this.getAtMentions=e=>(e.includeHiResAvatars||delete e.includeHiResAvatars,this.AtMentionsSchemaValidator.validate(({xr:t})=>t.get("/api/contacts/at_mentions",i.Ed.toAPIParameters(e)))),this.ShareModalSchemaValidator=(0,i._o)(),this.searchShareModalContacts=e=>this.ShareModalSchemaValidator.validate(({xr:t})=>t.get("/api/contacts/share",i.Ed.toAPIParameters(e))),this.getShareModalContacts=e=>this.ShareModalSchemaValidator.validate(({xr:t})=>t.get("/api/contacts/share",i.Ed.toAPIParameters(e))),this.FeedAtMentionsSchemaValidator=(0,i._o)(),this.getFeedAtMentions=e=>(e.includeHiResAvatars||delete e.includeHiResAvatars,this.FeedAtMentionsSchemaValidator.validate(({xr:t})=>t.get("/api/contacts/feed_at_mentions",i.Ed.toAPIParameters(e)))),this.searchFeedAtMentions=e=>(e.includeHiResAvatars||delete e.includeHiResAvatars,this.FeedAtMentionsSchemaValidator.validate(({xr:t})=>t.get("/api/contacts/feed_at_mentions",i.Ed.toAPIParameters(e)))),this.FaceStampsMentionSchemaValidator=(0,i._o)(),this.searchFaceStamps=e=>(e.includeHiResAvatars||delete e.includeHiResAvatars,this.FaceStampsMentionSchemaValidator.validate(({xr:t})=>t.get("/api/contacts/face_stamps",i.Ed.toAPIParameters(e)))),this.getRecentFaceStamps=e=>(e.includeHiResAvatars||delete e.includeHiResAvatars,this.FaceStampsMentionSchemaValidator.validate(({xr:t})=>t.get("/api/contacts/face_stamps",i.Ed.toAPIParameters(e)))),this.FeedPostCreatorsSchemaValidator=(0,i._o)(),this.getFeedPostCreators=e=>(e.includeHiResAvatars||delete e.includeHiResAvatars,this.FeedPostCreatorsSchemaValidator.validate(({xr:t})=>t.get("/api/contacts/feed_post_creators",i.Ed.toAPIParameters(e)))),this.searchFeedPostCreators=e=>(e.includeHiResAvatars||delete e.includeHiResAvatars,this.FeedPostCreatorsSchemaValidator.validate(({xr:t})=>t.get("/api/contacts/feed_post_creators",i.Ed.toAPIParameters(e))))}getContacts(e){return this.ContactsSchemaValidator.validate(async({xr:t})=>await t.get("/api/contacts",i.Ed.toAPIParameters(e)))}}},504648:(e,t,r)=>{"use strict";r.d(t,{c:()=>a});var n=r(733500),i=r(557044);let a=new class{constructor(){this.GenerateImageTokenSchemaValidator=(0,n._o)()}getGenerateImageToken(e){return this.GenerateImageTokenSchemaValidator.validate(async({xr:t})=>await t.get(`/api/feed_posts/generate_image_token/${e.fileKey}`,n.Ed.toAPIParameters({org_id:e.orgId,token_version:e.tokenVersion})))}markFeedViewed(e){i.cp.post(`/api/feed_posts/${e.publicUuid}/mark_viewed`)}vote(e){i.cp.post(`/api/feed_posts/${e.publicUuid}/vote`,{vote_option:e.voteOption})}}},633188:(e,t,r)=>{"use strict";r.d(t,{iu:()=>o,kr:()=>l});var n=r(733500),i=r(698580);let a=i.object({save_location:i.string(),folder_name:i.string().optional(),org_id:i.string().optional()}),o=(0,n.Yv)("ClaimTryFileSchemaValidator",a,null,!0),l=new class{claimTryFile(e){return o.validate(async({xr:t})=>await t.put(`/api/file/claim/${e.fileKey}`))}}},813344:(e,t,r)=>{"use strict";let n;r.d(t,{A:()=>s,i:()=>l});var i=r(733500),a=r(698580),o=r(640140),l=((n=l||{}).DEV_MODE_BETA_SUGGESTED_UPGRADES="dev_mode_beta_suggested_upgrades",n.MEMBERS_TAB="members_tab",n);let s=new class{constructor(){this.GuestResourcesSchemaValidator=(0,i._o)(),this.OrgUserSchemaValidator=(0,i.Yv)("OrgUserSchemaValidator",o.Qz,null,!1),this.UpdateOrgUsersSchemaValidator=(0,i.Yv)("UpdateOrgUsersSchemaValidator",a.array(o.Qz),null,!1),this.CreateStarterTeamSchemaValidator=(0,i._o)(),this.PostOrgUserFlagsSchemaValidator=(0,i._o)(),this.DevModeSuggestedUpgradesSchemaValidator=(0,i._o)(!1)}getGuestResources(e){return this.GuestResourcesSchemaValidator.validate(async({xr:t})=>await t.get(`/api/org_user/${e.orgUserId}/guest_resources`))}updateOrgUser(e){let{id:t,changes:r}=e;return this.OrgUserSchemaValidator.validate(({xr:e})=>e.put(`/api/org_users/${t}`,i.Ed.toAPIParameters(r)))}updateOrgUsers(e){let{orgId:t,...r}=e;return this.UpdateOrgUsersSchemaValidator.validate(({xr:t})=>t.put(`/api/orgs/${e.orgId}/org_users`,i.Ed.toAPIParameters(r)))}createStarterTeam(){return this.CreateStarterTeamSchemaValidator.validate(({xr:e})=>e.post("/api/org_user/create_starter_team"))}postOrgUserFlags(e){let{orgUserId:t,flags:r}=e;return this.PostOrgUserFlagsSchemaValidator.validate(({xr:e})=>e.post(`/api/org_users/${t}/flags`,{flags:r}))}declineDevModeSuggestedUpgrades(e){return this.DevModeSuggestedUpgradesSchemaValidator.validate(async({xr:t})=>await t.del(`/api/orgs/${e.org_id}/org_users/dev_mode_suggested_upgrades`,e))}}},873036:(e,t,r)=>{"use strict";r.d(t,{UT:()=>m,u_:()=>c.u_});var n,i=r(733500),a=r(557044),o=r(698580),l=r(319060),s=r(658044),c=r(640140);(e=>{e.isOrgInvite=function(e){return e.type===c.u_.ORG_INVITE},e.isOrgUser=function(e){return e.type===c.u_.ORG_USER},e.isIdpUser=function(e){return e.type===c.u_.IDP_USER}})(n||(n={}));let d=c.aU.pick({id:!0,user:!0,type:!0}),u=o.discriminatedUnion("type",[c.Qz,l.q,s.q]),p=o.object({users:o.array(o.union([u,d])).optional(),cursor:o.ignore(),designEditorCutoff:o.ignore().optional(),whiteboardEditorCutoff:o.ignore().optional(),devModeEditorCutoff:o.ignore().optional(),totalUserCount:o.number()}),m=new class{constructor(){this.IdpUsersSchemaValidator=(0,i._o)(),this.LicenseGroupsSchemaValidator=(0,i._o)(),this.BillingDataSchemaValidator=(0,i._o)(),this.TeamsSchemaValidator=(0,i._o)(),this.TeamSchemaValidator=(0,i._o)(),this.EligibleUpgradesFigjamSchemaValidator=(0,i._o)(),this.OrgNameSchemaValidator=(0,i._o)(),this.DomainsSchemaValidator=(0,i._o)(),this.AdminsSchemaValidator=(0,i.Yv)("AdminsSchemaValidator",e=>e.array(c.Qz),null,!1),this.OrgUsersPaginatedSchemaValidator=(0,i.Yv)("OrgUsersPaginatedSchemaValidator",p,null,!1),this.OrgUsersPaginatedSchemaValidatorPassthrough=(0,i._o)(),this.UserSchemaValidator=(0,i.Yv)("UserSchemaValidator",c.Qz,null,!1),this.OauthConnectionsSchemaValidator=(0,i._o)(),this.ShowVatGstSchemaValidator=(0,i._o)(),this.LicenseGroupsMembersCountsSchemaValidator=(0,i._o)(),this.WorkspaceTeamsCountsSchemaValidator=(0,i._o)(),this.OrgUsersCountSchemaValidator=(0,i._o)(),this.OrgUsersFilterCountsSchemaValidator=(0,i._o)(),this.OrgTeamsFilterCountsSchemaValidator=(0,i._o)(),this.OrgAdminsSchemaValidator=(0,i._o)()}getIdpUsers(e){return this.IdpUsersSchemaValidator.validate(async({xr:t})=>await t.get(`/api/orgs/${e.orgId}/idp_users`))}getLicenseGroups(e){return this.LicenseGroupsSchemaValidator.validate(async({xr:t})=>await t.get(`/api/orgs/${e.currentOrgId}/license_groups`))}getBillingData(e){return this.BillingDataSchemaValidator.validate(async({xr:t})=>{let r=await t.get(`/api/orgs/${e.orgId}/billing_data`);return r.data.meta?r:{...r,data:{...r.data,meta:null}}})}updateOrgPaymentMethod(e){return this.BillingDataSchemaValidator.validate(async({xr:t})=>{let r=await t.put(`/api/orgs/${e.orgId}/billing_data`,e.paymentMethod);return r.data.meta?r:{...r,data:{...r.data,meta:null}}})}getTeams(e){return this.TeamsSchemaValidator.validate(async({xr:t})=>{let{orgId:r,...n}=e;return await t.get(`/api/orgs/${e.orgId}/teams`,i.Ed.toAPIParameters(n))})}getTeam(e){return this.TeamSchemaValidator.validate(async({xr:t})=>await t.get(`/api/orgs/${e.orgId}/teams/${e.teamId}`))}getEligibleUpgradesFigjam(){return this.EligibleUpgradesFigjamSchemaValidator.validate(async({xr:e})=>await e.get("/api/orgs/eligible_upgrades_figjam"))}getOrgName(e){return this.OrgNameSchemaValidator.validate(async({xr:t})=>await t.get(`/api/orgs/${e.orgId}/org_name`))}getDomains(e){return this.DomainsSchemaValidator.validate(async({xr:t})=>await t.get(`/api/orgs/${e.currentOrgId}/domains`))}getAdmins(e){return this.AdminsSchemaValidator.validate(async({xr:t})=>await t.get(`/api/orgs/${e.orgId}/admins`,i.Ed.toAPIParameters({include_license_admins:e.includeLicenseAdmins})))}getOrgUsersPaginatedV2(e){let{orgId:t,after:r,minimalFields:n,pageSize:a,sort:o,filter:l,...s}=e;return this.OrgUsersPaginatedSchemaValidatorPassthrough.validate(async({xr:e})=>await e.get(`/api/v2/orgs/${t}/org_users`,i.Ed.toAPIParameters({...s,...l||{},...o||{},minimalFields:n||void 0,pageSize:a||void 0,after:r?JSON.stringify(r):void 0})))}getUser(e){return this.UserSchemaValidator.validate(async({xr:t})=>await t.get(`/api/orgs/${e.orgId}/user/${e.userId}`))}getOauthConnections(e){return this.OauthConnectionsSchemaValidator.validate(async({xr:t})=>await t.get(`/api/orgs/${e.orgId}/oauth_connections`))}getShowVatGst(e){return this.ShowVatGstSchemaValidator.validate(async({xr:t})=>await t.get(`/api/orgs/${e.orgId}/show_vat_gst`))}getLicenseGroupsMembersCounts(e){return this.LicenseGroupsMembersCountsSchemaValidator.validate(async({xr:t})=>await t.get(`/api/orgs/${e.orgId}/license_groups/members/counts`))}getWorkspaceTeamsCounts(e){return this.WorkspaceTeamsCountsSchemaValidator.validate(async({xr:t})=>await t.get(`/api/orgs/${e.orgId}/workspaces/teams/counts`))}getOrgUsersCount(e){return this.OrgUsersCountSchemaValidator.validate(async({xr:t})=>await t.get(`/api/orgs/${e.orgId}/org_users/count`))}getOrgUsersFilterCounts(e){return""===e.searchQuery&&delete e.searchQuery,this.OrgUsersFilterCountsSchemaValidator.validate(async({xr:t})=>await t.get(`/api/orgs/${e.orgId}/org_users/filter_counts`,i.Ed.toAPIParameters({searchQuery:e.searchQuery,product:e.product,licenseGroupId:e.licenseGroupId,workspaceId:e.workspaceId,permission:e.permission,role:e.role})))}getOrgTeamsFilterCounts(e){let{orgId:t,searchQuery:r,orgAccess:n,teamsWithoutOwners:i,teamsMemberOf:a,workspaceId:o,sortBy:l,sortOrder:s}=e;return this.OrgTeamsFilterCountsSchemaValidator.validate(async({xr:e})=>{let c={search_query:r,org_access:n||void 0,teams_without_owners:i?String(i):void 0,teams_member_of:void 0!==a?JSON.stringify(a):void 0,workspace_id:o||void 0,sort_by:l,order_by:s};return await e.get(`/api/orgs/${t}/team_counts`,c)})}getOrgAdmins(e){return this.OrgAdminsSchemaValidator.validate(async({xr:t})=>await t.get(`/api/orgs/${e.orgId}/org_admins`))}apiAutogenControls(e){let{orgId:t,autogen_password_controls:r}=e;return a.cp.put(`/api/orgs/${t}`,{autogen_password_controls:r})}delWorkspaces(e){return a.cp.del(`/api/orgs/${e.orgId}/workspaces`,{workspace_ids:e.workspaceIds})}validateTrial(e){return a.cp.post(`/api/orgs/${e.orgId}/validate_trial`)}selfAssignWorkspace(e){return a.cp.post(`/api/orgs/${e.orgId}/self_assign_workspace`,{workspace_id:e.workspaceId})}postDevModeOptInTermsAccepted(e){return a.cp.post(`/api/orgs/${e.orgId}/dev_mode_terms_accepted`)}}},395180:(e,t,r)=>{"use strict";r.d(t,{K:()=>a});var n=r(733500),i=r(557044);let a=new class{updateOrgPreferences(e,t){let{preferences:r,...n}=t,a={preferences:r};return e.bigma_enabled?(a.auto_run_plugin_id=n.auto_run_plugin_id,a.auto_run_enabled=n.auto_run_enabled,a.codegen_enabled=n.codegen_enabled,a.pinned_plugins_enabled=n.pinned_plugins_enabled):!1===n.pinned_plugins_enabled&&(a.pinned_plugins_enabled=!1),i.cp.post(`/api/plugin_preferences/org/${e.id}`,a)}updateUserAutoRunPluginId(e,t){return i.cp.put("/api/plugin_preferences/user",n.Ed.toAPIParameters({autoRunBehavior:t,autoRunPluginId:e}))}}},793524:(e,t,r)=>{"use strict";r.d(t,{x:()=>o});var n=r(843148),i=r(733500),a=r(557044);let o=new class{constructor(){this.CommunitySchemaValidator=(0,i._o)(),this.UserNotificationsSchemaValidator=(0,i._o)(),this.CommunityServerDrivenSchemaValidator=(0,i._o)(),this.ServerDrivenSchemaValidator=(0,i._o)(),this.ServerDrivenPlanSchemaValidator=(0,i._o)()}getCommunity(e){return this.CommunitySchemaValidator.validate(async({xr:t})=>await t.get("/api/user_notifications/community",{currentView:null==e?void 0:e.currentView}))}getUserNotifications(e){return this.UserNotificationsSchemaValidator.validate(async({xr:t})=>await t.get("/api/user_notifications",i.Ed.toAPIParameters(e,["currentView"])))}getCommunityServerDriven(e){return this.CommunityServerDrivenSchemaValidator.validate(async({xr:t})=>await t.get("/api/user_notifications/community/server_driven",{currentView:e.currentView}))}getServerDriven(e){return this.ServerDrivenSchemaValidator.validate(async({xr:t})=>await t.get("/api/user_notifications/server_driven",i.Ed.toAPIParameters(e,["currentView"])))}getServerDrivenPlan(e){return this.ServerDrivenPlanSchemaValidator.validate(async({xr:t})=>await t.get("/api/user_notifications/server_driven/plan",i.Ed.toAPIParameters(e,["currentView"])))}recordNotificationClicked(e){return a.cp.post("/api/user_notification/clicked",{id:e.id,currentView:e.currentView,medium:e.medium})}enrollUserInStatusChangeXP(e){if((0,n.Ub)().enable_status_change_notif_xp)return a.cp.post(`/api/user_notifications/status_change_signup/${e.fileKey}`)}}},58468:(e,t,r)=>{"use strict";r.d(t,{Cs:()=>l,Ut:()=>c,_9:()=>s});var n=r(843148),i=r(372152),a=r(967004);let o="showFigmentDebugger";function l(e,t){try{if(!(0,n.Ub)().internal_only_debug_tools||!(0,n.Ub)().figment_debugger||null==e)return;i.qM.set(a.W8,{requestJsons:e,networkState:t})}catch(e){console.error("[Figment Debugger] Error tracking request")}}function s(){var e;let t=c();e=!t,localStorage.setItem(o,e?"true":"false"),i.qM.set(a.mH,!t)}function c(){try{if(null==localStorage)return!1;let e=localStorage.getItem(o);return"true"===e}catch(e){return!1}}},123240:(e,t,r)=>{"use strict";r.d(t,{O:()=>l,Q:()=>s});var n=r(307824),i=r(733960),a=r(306440);let o=n.createContext(null);function l(){return n.useContext(o)}function s({children:e}){let[t,r]=n.useState(null),[l,s]=n.useState(null),c=(0,a.Aj)(),d=(0,i.i)(c);(0,n.useEffect)(()=>{d!==c&&"fullscreen"===d&&(r(null),s(null))},[d,c]);let u=(0,n.useMemo)(()=>({dltNode:t,dltContainerNode:l,setDltNode:r,setDltContainerNode:s}),[t,l,r,s]);return n.createElement(o.Provider,{value:u},e)}},91404:(e,t,r)=>{"use strict";r.d(t,{Fn:()=>eu,Iz:()=>K,UP:()=>et,cE:()=>x,eC:()=>F,oN:()=>ei,qG:()=>ep,qf:()=>en,sH:()=>er,uw:()=>ea});var n=r(307824),i=r(125504),a=r.n(i),o=r(841152),l=r(537096),s=r(560072),c=r(784740),d=r(142548),u=r(55808),p=r(550656),m=r(30492),_=r(926044),h=r(314772),g=r(447276),f=r(117328),E=r(727696),y=r(301748),b=r(946080),v=r(849340),I=r(103748),w=r(20916),T=r(335580),S=r(828928),C=r(721360),A=r(297553),O=r(980332),N=r(269476),L=r(50356),R=r(279968),P=r(726880);let M=[m.c,_.c,h.c,g.c,f.c,E.c,y.c,b.c,v.c,I.c,w.c,T.c,S.c,C.c,A.c,O.c,N.c,L.c],k=[p.kT,p.It,p.Y6,p.GK],D=[];for(let e=0;e<M.length*k.length;e+=1){let t=e%M.length,r=M[t],n=(e+Math.floor(e/M.length))%k.length,i=k[n];D.push({svgSrc:r,className:i})}function F(e){return e.startsWith("https://www.gravatar.com/avatar/")}function x(e){return e&&!F(e)?e:void 0}let U={CIRCLE:`${p.Os} ${p.oD}`,SQUARE:`${p.Os} ${p.Qr}`,ROUNDED_SQUARE:`${p.Os} ${p._K}`};function B(e){return"number"==typeof e?{imgSize:e,fallbackSize:e}:e}class G{constructor(e,t){this.lower=e,this.upper=t}contains(e){return e>=this.lower&&e<this.upper}}let V=new G(65,91),H=new G(97,123),W=new G(48,58);class K extends n.Component{render(){let e={display:"flex",justifyContent:"center",color:this.props.tint||(0,u.Sg)(this.props.color),backgroundColor:this.props.color||void 0,opacity:this.props.opacity},t=this.props.enabled||!0,{size:r,fontSize:i}=this.props;r&&(e.width=`${r}px`,e.height=`${r}px`,e.lineHeight=`${r}px`,e.fontSize=`${i??r/2}px`);let o=U[this.props.shape||"CIRCLE"];return n.createElement("span",{"data-testid":this.props.dataTestId,style:e,className:a()(o,this.props.className||"",{[p.AH]:!t}),"aria-hidden":"true"},this.props.children)}}class Y extends n.Component{render(){return n.createElement(K,{dataTestId:"initial-avatar",...this.props},this.props.initial)}}function q(e){let t={};if(e.size&&e.svgSizeRatio){let r=e.size*e.svgSizeRatio;t.width=`${r}px`,t.height=`${r}px`}let r=(0,u.Sg)(e.color);return t.fill=r,n.createElement(K,{...e},n.createElement("div",{style:t},n.createElement(l.A,{svg:e.svg,autosize:!0})))}class j extends n.Component{render(){let{size:e}=this.props,t=e?`${e}px`:void 0,r=U[this.props.shape||"CIRCLE"];return n.createElement(l.A,{className:`${r} ${this.props.className||""} ${(this.props.enabled,"")}`,style:this.props.style||{},svg:this.props.src,autosize:!0,width:t,height:t,dataTestId:"svg-avatar"})}}class $ extends n.Component{constructor(e){super(e),this.onImageLoadError=()=>{this.setState({loadError:!0})},this.state={loadError:!1}}render(){var e,t;let r={},i=this.props.style||{};if(this.props.size){let n=this.state.loadError?null==(e=B(this.props.size))?void 0:e.fallbackSize:null==(t=B(this.props.size))?void 0:t.imgSize,a=`${n}px`;r.width=a,r.height=a,i.width=a,i.height=a}let a=this.props.enabled||!0,o=U[this.props.shape||"CIRCLE"],l=this.state.loadError||!this.props.imgUrl?this.props.children:n.createElement("img",{"data-testid":"image-avatar",className:`${a?"":p.AH}`,style:r,src:this.props.imgUrl,onError:this.onImageLoadError,alt:""});return n.createElement("div",{className:`${o} ${this.props.className} ${a?"":p.AH}`,style:{...i,position:"relative"}},l)}}let Z=[V,H,W],z={colors:u.cn,getInitial:e=>e?e[0]:null,defaultFallbackAvatarSvg:R.c},Q=["fallback_text","handle","name","email"],X=(e,t=z)=>class extends n.Component{constructor(){super(...arguments),this.computeFallbackInitial=()=>{let e=el((this.props.initializableEntityProperties?this.props.initializableEntityProperties:Q).map(e=>this.props.entity[e]));return e&&"string"==typeof e?t.getInitial(e):null},this.computeFallbackColor=()=>(0,u.qr)(this.props.entity.id,t.colors)}render(){let r=this.props.fallbackInitial||this.computeFallbackInitial(),i=this.computeFallbackColor()||null,a=this.props.entity.img_url||this.props.entity.imageURL||this.props.entity.imageUrl||this.props.entity.imgUrl||null;return n.createElement(e,{imgUrl:a,fallbackInitial:r,fallbackColor:this.props.defaultFallbackAvatarSvg&&!r?null:i,fallbackTintColor:this.props.defaultFallbackAvatarSvg?void 0:t.defaultFallbackTintColor,...this.props,defaultFallbackAvatarSvg:this.props.defaultFallbackAvatarSvg||t.defaultFallbackAvatarSvg})}};class J extends n.Component{renderFallback(){var e,t,r,i,a,o;let{size:l,fontSize:s,fallbackSvg:c,avatarSvg:d,svgSizeRatio:u}=this.props,p=null==(e=B(l))?void 0:e.fallbackSize;if(d)return n.createElement(q,{size:p,fontSize:s,tint:this.props.fallbackTintColor,color:this.props.fallbackColor,enabled:this.props.enabled,shape:this.props.shape,svg:d,svgSizeRatio:u,opacity:this.props.opacity});if(c)return n.createElement(j,{size:null==(t=B(l))?void 0:t.fallbackSize,src:c,shape:this.props.shape});if(this.props.hideFallbackInitial)return n.createElement(K,{size:null==(r=B(l))?void 0:r.fallbackSize,fontSize:s,className:this.props.className,tint:this.props.fallbackTintColor,color:this.props.fallbackColor,enabled:this.props.enabled,shape:this.props.shape});let m=this.props.fallbackInitial;return m?n.createElement(Y,{size:null==(o=B(l))?void 0:o.fallbackSize,fontSize:s,className:this.props.className,initial:m,tint:this.props.fallbackTintColor,color:this.props.fallbackColor,enabled:this.props.enabled,shape:this.props.shape}):this.props.defaultFallbackAvatarSvg?n.createElement(j,{className:this.props.className,size:null==(a=B(l))?void 0:a.fallbackSize,src:this.props.defaultFallbackAvatarSvg,style:{fill:this.props.fallbackTintColor||void 0,background:this.props.fallbackColor||void 0},enabled:this.props.enabled,shape:this.props.shape}):n.createElement(K,{size:null==(i=B(l))?void 0:i.fallbackSize,fontSize:s,className:this.props.className,tint:this.props.fallbackTintColor,color:this.props.fallbackColor,enabled:this.props.enabled,shape:this.props.shape})}render(){return!this.props.imgUrl||F(this.props.imgUrl)?this.renderFallback():n.createElement($,{size:this.props.size||null,imgUrl:this.props.imgUrl,className:`${this.props.className||""}`,enabled:this.props.enabled,shape:this.props.shape},this.renderFallback())}}J.displayName="Avatar";let ee=X(J,{...z,getInitial:e=>{let t=e.charCodeAt(0);return Z.some(e=>e.contains(t))?e[0]:null}}),et=ee;function er({entity:e,size:t=40}){if(e.imgUrl)return n.createElement(ee,{shape:"SQUARE",entity:e,size:t});let r=(0,u.Sk)(null==e?void 0:e.id,D);return n.createElement(j,{src:r.svgSrc,size:t,shape:"SQUARE",className:r.className})}let en=X(J,{...z,defaultFallbackAvatarSvg:P.c,getInitial:e=>e.charCodeAt(0)===e.codePointAt(0)?e[0]:null});function ei(e){return n.createElement(en,{shape:"SQUARE",...e})}function ea(e){return n.createElement("div",{className:e.isHovered?p.iq:p.kC},e.teams.slice(0,3).map(t=>n.createElement(ei,{key:t.id,entity:t,...e})))}class eo extends n.Component{render(){let e=this.props.size||0,t=Math.round(e/4)+1,r=Math.round(t/5);return n.createElement("span",{className:p.w3,style:e?{width:`${e}px`,height:`${e}px`}:void 0},this.props.showBell&&n.createElement("div",{className:p.Iv,style:e?{width:`${t}px`,height:`${t}px`,top:`-${r}px`,right:`-${r}px`}:void 0}),this.props.children)}}eo.displayName="AvatarBellWrapper";let el=(e=[],t="?")=>e.find(e=>e)||t,es=(e,t)=>class extends n.Component{constructor(){super(...arguments),this.onClick=e=>{this.props.onClick&&this.props.onClick(e,this.props.entity)}}render(){let r=this.props["data-tooltip-proxy-element-id"]||`avatar_${this.props.entity.id}_tooltip_proxy`;return n.createElement("div",{className:`${p.m4} ${this.props.onClick?p.yQ:""} ${this.props.enabled?p.kn:""} ${this.props.className||""}`,onClick:this.props.onClick?this.onClick:void 0,"data-tooltip-proxy-element-id":r},n.createElement("div",{id:r,"data-tooltip-type":d.wL.TEXT,"data-tooltip":this.props["data-tooltip"],"data-tooltip-offset-x":this.props["data-tooltip-offset-x"],"data-tooltip-offset-y":this.props["data-tooltip-offset-y"],"data-tooltip-max-width":this.props["data-tooltip-max-width"]},e&&n.createElement(e,{...this.props,className:void 0})),n.createElement(t,{...this.props}),this.props.children)}};class ec extends n.Component{render(){let e=this.props.showTruncatedTextTooltip?n.createElement(c.a,{truncate:!0},this.props.text):n.createElement("span",{className:p.Gq},this.props.text),t=this.props.showTruncatedTextTooltip?void 0:this.props.tooltipText??void 0;return n.createElement("div",{className:p.IN,title:t},n.createElement("div",{className:`${p.kZ} ${p.m4} ${this.props.onLabelClick?p.yQ:""}`,onClick:this.props.onLabelClick},this.props.text.length>0&&e,this.props.showIsMe&&n.createElement("span",{className:p.WS},n.createElement(s.Tx,{id:"avatar.tooltip.you"})),this.props.badge&&n.createElement(o.kt,{...this.props.badge}),this.props.isScimUser&&n.createElement(o.kt,{color:o.Eo.DEFAULT,text:(0,s.t)("members_table.org_user_name_cell.scim_badge")})),this.props.email&&n.createElement("div",{className:this.props.onEmailClick?p.sn:"",onClick:this.props.onEmailClick},n.createElement("div",{className:p.GO},this.props.email)))}}let ed=e=>class extends n.Component{render(){let t=[this.props.overrideHandle,this.props.entity.handle,this.props.entity.name];this.props.fallbackToEmail&&t.push(this.props.entity.email);let r=el(t,this.props.defaultText),i=`${r}${this.props.includeUserEmailAddress?`
${this.props.entity.email}`:""}`,{onEmailClick:a,onLabelClick:o,...l}=this.props;return n.createElement(e,{text:r,email:this.props.includeUserEmailAddress?this.props.entity.email:null,tooltipText:this.props.showTooltip?i:null,onEmailClick:a,onLabelClick:o,...l})}},eu=es(ee,ed(ec)),ep=es(ei,ed(ec))},19764:(e,t,r)=>{"use strict";r.d(t,{GW:()=>m,Gm:()=>_,SZ:()=>h,_s:()=>g});var n=r(307824),i=r(30128),a=r(537096),o=r(560072),l=r(476868),s=r(887540),c=r(91404),d=r(216152),u=r(450500);let p=(e,t={})=>function(r){let c=null==r.size?120:r.size,p=()=>{r.dispatch((0,l.a)({entity:r.entity,entityType:r.entityType,shape:t.editorShape?t.editorShape:void 0}))},m={width:`${c}px`,minWidth:`${c}px`,height:`${c}px`,minHeight:`${c}px`},_=r.avatarEditorState&&r.avatarEditorState.status===s.e0.UPLOADING&&r.entity===r.avatarEditorState.entity,h=t.className?t.className:d.oD,g=n.createElement(i.E,{isLoading:_,className:`${d.OS} ${h}`},()=>n.createElement(e,{size:c,...r})),f=n.createElement("div",{className:`${h} ${r.overlayClass||""}`},n.createElement(a.A,{className:`${d.wL} ${d.Kk} ${h} ${r.overlayClass||""}`,svg:r.icon||u.c}));return t.withButton?n.createElement("div",{className:`${d.ii} ${d.oD}`,style:m},g,f,n.createElement("div",{className:d.aM,onClick:p},n.createElement(o.Tx,{id:"avatar_editor.edit"}))):n.createElement("div",{className:`${d.SI} ${h}`,onClick:p,style:m},g,f)},m=p(c.UP),_=p(c.UP,{withButton:!0}),h=p(c.oN,{editorShape:"SQUARE",className:d.Qr}),g=p(c.sH,{editorShape:"SQUARE",className:d.Qr})},55808:(e,t,r)=>{"use strict";r.d(t,{Sg:()=>l,Sk:()=>a,cn:()=>i,qr:()=>o});var n=r(506240);let i=[n.oDm,n.UBe,n.M1q,n.gzz,n.gdr,n.mnv,n.ahy];function a(e,t){if(!e)return t[0];try{let r=e.substring(e.length-4),n=parseInt(r);if(Number.isNaN(n))return t[Math.abs(function(e){var t=0;if(0===e.length)return t;for(var r=0;r<e.length;r++)t=(t<<5)-t+e.charCodeAt(r),t&=t;return t}(e)%t.length)];return t[n%t.length]}catch(e){return t[0]}}function o(e,t){return a(e,t)}function l(e){return e===n.mnv?"var(--color-textonmultiplayeryellow)":"var(--color-textonmultiplayerblue)"}},827440:(e,t,r)=>{"use strict";r.d(t,{ue:()=>v});var n=r(307824),i=r(120304),a=r(250008),o=r(838836),l=r(557044),s=r(105516),c=r(148276),d=r(643712),u=r(698240),p=r(560072),m=r(212980),_=r(983476),h=r(323576),g=r(520912),f=r(203736),E=r(777868),y=r(158196),b=r(812970);let v=(0,f.U9)(function(e){let{name:t,user:r,monetizedResource:o}=e,[s,c]=n.useState(!1),[_,f]=n.useState(null),[b,v]=n.useState(""),T=(0,i.OY)(),S=()=>{T((0,h.A5)({type:I,data:{user:r}}))},C=()=>{T((0,h.A5)({type:w,data:{user:r}}))};return n.createElement(y.Co,{size:"small",content:n.createElement("div",{className:u.cx.flexColumn.colorText.$},n.createElement(p.Tx,{id:"community.buyer.we_re_sorry_to_hear_resource_name_didnt_work_out",resourceName:n.createElement("span",{className:u.cx.fontBold.$},t)}),n.createElement("div",{className:u.cx.my16.$},n.createElement(d.e,{value:_,onChange:e=>{f(e)}},Object.values(g.q8).map(e=>n.createElement(d.W,{className:u.cx.font11.selectNone.$,key:e,value:e},(0,m._0)(e)))),_===g.q8.OTHER?n.createElement("div",{className:u.cx.mt8.$},n.createElement(E.s,{value:b,onChange:e=>v(e.target.value),placeholder:(0,p.t)("community.buyer.refund_reason.add_additional_details"),maxLength:g.uK})):null)),onConfirm:()=>{c(!0),(0,a.we)("Request Refund Modal Confirm",{refundReason:_,refundOtherReasonText:b,monetizedResourceMetadataId:o.id}),l.cp.post(`/api/community/buyer/${o.id}/refund`,{refund_reason:_,refund_other_reason_text:b}).then(()=>{c(!1),T(h.oN()),S()}).catch(e=>{c(!1),T(h.oN()),C()})},hideOnConfirm:!1,isLoading:s,confirmationTitle:n.createElement(p.Tx,{id:"community.buyer.need_a_refund"}),disableConfirm:!_,confirmText:n.createElement(p.Tx,{id:"general.confirm"}),cancelText:n.createElement(p.Tx,{id:"general.close"}),autoFocusCta:!1,dispatch:T,popStack:!0})},"CommunityRequestRefundModal"),I=(0,f.U9)(function(e){let{user:t}=e,r=(0,i.OY)();return n.createElement(y.Y1,{size:"small",hide:o.Kw,title:(0,p.t)("community.buyer.refund_requested")},n.createElement(s.cT,{dispatch:r}),n.createElement(p.Tx,{id:"community.buyer.keep_an_eye_out",here:n.createElement(c.Gy,{onClick:()=>{(0,_.Qt)(t),r(h.oN())},trusted:!0},n.createElement(p.Tx,{id:"community.buyer.here"}))}),n.createElement("div",{className:b.hy},n.createElement(c.Sm,{onClick:()=>r(h.oN())},n.createElement(p.Tx,{id:"general.close"}))))},"CommunityRefundRequestedSuccessModal"),w=(0,f.U9)(function(e){let{user:t}=e,r=(0,i.OY)();return n.createElement(y.Co,{size:"small",confirmationTitle:n.createElement(p.Tx,{id:"community.buyer.unable_to_process_refund"}),content:n.createElement("span",{className:u.cx.colorText.$},n.createElement(p.Tx,{id:"community.buyer.error_requesting_refund_please_contact_support"})),confirmText:n.createElement(p.Tx,{id:"community.buyer.get_support"}),onConfirm:()=>(0,_.ct)(t),cancelText:n.createElement(p.Tx,{id:"general.close"}),autoFocusCta:!1,dispatch:r})},"CommunityErrorRequestingRefundModal")},722948:(e,t,r)=>{"use strict";r.d(t,{O:()=>N,c:()=>U});var n=r(307824),i=r(120304),a=r(250008),o=r(916924),l=r(886420),s=r(148276),c=r(63396),d=r(71556),u=r(698240),p=r(560072),m=r(597624),_=r(250016),h=r(784740),g=r(323576),f=r(514916),E=r(876760),y=r(526072),b=r(480575),v=r(220360),I=r(193180),w=r(370960),T=r(260588),S=r(843596),C=r(873956);function A({text:e}){return n.createElement(h.a,{"data-testid":"extension-security-form-error",color:"danger"},e)}function O(e){let{canShowErrors:t}=(0,I.c)();return t&&(0,y.Ke)(e)}function N(e){let t=e.match(/\[([^\]]+)\]\(([^)]+)\)/);if(!t||!t.index)return e;let[r,i,a]=t;return n.createElement("span",{"data-testid":"parsed-text-content"},e.slice(0,t.index),n.createElement("a",{href:a,target:"_blank",className:u.cx.colorTextBrand.cursorPointer.$},i),e.slice(t.index+r.length))}function L(e){let{onChange:t,question:r}=e,{prompt:i,value:a,placeholder:o}=r,l=O(r);return n.createElement("div",{className:u.cx.flex.flexColumn.gap8.$},i&&n.createElement("div",null,N(i)),n.createElement(s.QT,{className:u.cx.wFull.$,value:a??"",onChange:t,placeholder:o}),l&&n.createElement(A,{text:(0,p.t)("community.publishing.data_security.incomplete_text")}))}function R(e){let{question:t,dispatch:r,path:i}=e,{prompt:a,options:o}=t,l=O(t);return n.createElement("div",{className:u.cx.flex.flexColumn.gap16.$},n.createElement(h.a,{fontWeight:"semi-bold"},a),n.createElement(n.Fragment,null,o.map((e,t)=>{let a=`path-${i.join("-")}-option-input-${t}`;return n.createElement("div",{className:u.cx.flex.flexColumn.$,key:`option-${t}`},n.createElement("div",{className:u.cx.flex.gap8.$},n.createElement("input",{type:"radio",id:a,checked:e.isSelected??!1,onChange:()=>{r({type:"UPDATE_SINGLE_SELECT_QUESTION",questionIndex:i[0],optionIndex:t})},className:u.cx.cursorPointer.$}),n.createElement("label",{htmlFor:a,className:u.cx.cursorPointer.$},e.label)),e.subQuestions&&e.isSelected&&n.createElement("div",{className:u.cx.ml20.flex.flexColumn.gap8.pt8.$},e.subQuestions.map((e,a)=>n.createElement(M,{key:`sub-question-${a}`,question:e,dispatch:r,path:i.concat(t,a)}))))})),l&&n.createElement(A,{text:(0,p.t)("community.publishing.data_security.incomplete_single_select")}))}function P(e){let{dispatch:t,path:r,question:i}=e,{prompt:a,options:o}=i,l=O(i);return n.createElement("div",{className:u.cx.flex.flexColumn.gap16.$},n.createElement(h.a,{fontWeight:"semi-bold"},a),n.createElement(n.Fragment,null,o.map((e,i)=>{let a=`path-${r.join("-")}-option-input-${i}`;return n.createElement("div",{className:u.cx.flex.flexColumn.$,key:`option-${i}`},n.createElement("div",{className:u.cx.flex.gap8.$},n.createElement("input",{type:"checkbox",checked:e.isSelected??!1,onChange:()=>{t({type:"UPDATE_MULTI_SELECT_QUESTION",questionIndex:r[0],optionIndex:i})},id:a,className:u.cx.cursorPointer.$}),n.createElement("label",{htmlFor:a,className:u.cx.cursorPointer.$},e.label)),e.subQuestions&&e.isSelected&&n.createElement("div",{className:u.cx.ml20.flex.flexColumn.gap8.pt8.$},e.subQuestions.map((e,a)=>n.createElement(M,{key:`sub-question-${a}`,question:e,dispatch:t,path:r.concat(i,a)}))))})),l&&n.createElement(A,{text:(0,p.t)("community.publishing.data_security.incomplete_multi_select")}))}function M(e){let{question:t,dispatch:r,path:i}=e;switch(t.inputType){case"single_select":return n.createElement(R,{question:t,dispatch:r,path:i});case"multi_select":return n.createElement(P,{question:t,dispatch:r,path:i});case"text":return n.createElement(L,{question:t,onChange:e=>{1===i.length?r({type:"UPDATE_TEXT_QUESTION",questionIndex:i[0],value:e.currentTarget.value}):3===i.length&&r({type:"UPDATE_TEXT_SUBQUESTION",path:[i[0],i[1],i[2]],value:e.currentTarget.value})},path:i});default:return null}}function k(e){let{extensionType:t,securityForm:r,dispatch:i}=e,a="plugin"===t?n.createElement(p.Tx,{id:"community.publishing.security_form.plugin_description"}):n.createElement(p.Tx,{id:"community.publishing.security_form.widget_description"}),o="plugin"===t?n.createElement(p.Tx,{id:"community.publishing.security_form.plugin_sharing_description"}):n.createElement(p.Tx,{id:"community.publishing.security_form.widget_sharing_description"});return n.createElement("div",{className:u.cx.p16.flex.flexColumn.$,"data-testid":"extension-security-form"},n.createElement("div",{className:u.cx.pb16.$},n.createElement(h.a,{i18nId:"community.publishing.security_form.header",fontSize:14,fontWeight:"medium"})),n.createElement("div",{className:u.cx.pb16.$},a),n.createElement("div",{className:u.cx.pb16.$},o,n.createElement("a",{href:"plugin"===t?"https://help.figma.com/hc/articles/360042293394":"https://help.figma.com/hc/articles/4410337103639",target:"_blank",className:u.cx.colorTextBrand.cursorPointer.$},n.createElement(p.Tx,{id:"community.publishing.security_form.learn_more"}))),n.createElement("div",{className:u.cx.flex.flexColumn.gap32.$},r.questions.map((e,t)=>n.createElement(M,{key:`question-${t}`,question:e,dispatch:i,path:[t]}))))}function D({onDiscard:e,onDone:t,securityFormFromDB:r,localSecurityFormResponse:o,onOptOut:s,currentFormStatus:c,extensionId:d}){let h=n.useMemo(()=>!(0,l.QZ)(o,r),[o,r]),{canShowErrors:f,numberOfErrors:E,optedOutOfSecurityForm:b,extensionType:w}=(0,I.c)(),T=(0,y.YB)(r),S=(0,i.OY)();return n.createElement("div",{className:u.cx.flex.gap8.p16.justifyBetween.alignCenter.absolute.bottom0.left0.right0.bSolid.bt1.colorBorder.colorBg.$},!T&&n.createElement("button",{className:u.cx.bgTransparent.noWrap.if(b,u.cx.colorTextSecondary,u.cx.colorTextBrand.cursorPointer).$,onClick:()=>{S((0,g.A5)({type:v.M,data:{onConfirm:s,status:c,extensionType:w},showModalsBeneath:!0})),(0,a.we)("Data Security Plugin Form",{action:"Remove security details",extensionType:w,extensionId:d})},disabled:b},n.createElement(p.Tx,{id:"community.publishing.security_form.opt_out_button"})),n.createElement(m.g,{width:"fill-parent",horizontalAlignItems:"end"},n.createElement(_.q,{variant:"secondary",onClick:()=>{e(),(0,a.we)("Data Security Plugin Form",{action:"Discard changes",extensionType:w,extensionId:d})},disabled:!h},n.createElement(p.Tx,{id:"community.publishing.security_form.discard_changes"})),n.createElement(_.q,{variant:"primary",onClick:t,disabled:f&&E>0},n.createElement(p.Tx,{id:"general.done"}))))}function F({currentFormStatus:e}){let t,r,i;if(!e)return null;switch(e){case f.UB.APPROVED:t=n.createElement(n.Fragment,null,n.createElement("div",null,n.createElement(h.a,{i18nId:"community.publishing.security_banner.approved.title",fontWeight:"semi-bold"})),n.createElement("div",null,n.createElement(h.a,{i18nId:"community.publishing.security_banner.approved.description"}))),r=S.c,i="success";break;case f.UB.PENDING:t=n.createElement(n.Fragment,null,n.createElement("div",null,n.createElement(h.a,{i18nId:"community.publishing.security_banner.pending.title",fontWeight:"semi-bold"})),n.createElement("div",null,n.createElement(h.a,{i18nId:"community.publishing.security_banner.pending.description"}))),r=C.c,i="brand";break;case f.UB.REJECTED:t=n.createElement(n.Fragment,null,n.createElement("div",null,n.createElement(h.a,{i18nId:"community.publishing.security_banner.rejected.title",fontWeight:"semi-bold"})),n.createElement("div",null,n.createElement(h.a,{i18nId:"community.publishing.security_banner.rejected.description"})),n.createElement("div",null),n.createElement("div",null,n.createElement(h.a,{i18nId:"community.publishing.security_banner.rejected.description.check_email"}))),r=C.c,i="brand";break;default:(0,o.gy)(e)}return n.createElement(c.O,{iconSrc:r,variant:i,orientation:"vertical"},t)}function x({localSecurityFormResponse:e,securityFormFromDB:t,setSecurityFormResponse:r,extensionType:i,onDone:a,currentFormStatus:o,existingSecurityFormResponse:l,extensionId:s}){let c={questions:t.questions,version:t.version},[u,p]=(0,n.useReducer)(w._,e??c),{setCanShowErrors:m,setOptedOutOfSecurityForm:_,optedOutOfSecurityForm:h}=(0,I.c)();return n.useEffect(()=>{r(u),(0,y.YB)(u)||_(!1)},[r,u,_]),n.createElement(n.Fragment,null,n.createElement(d.f,{className:T.y,maxHeight:800},n.createElement(F,{currentFormStatus:o}),n.createElement(k,{securityForm:u,dispatch:p,extensionType:i})),n.createElement(D,{onOptOut:()=>{p({type:"RESET_FORM"}),_(!0)},onDiscard:()=>{p({type:"DISCARD_CHANGES",originalState:c}),m(!1)},onDone:()=>{if((0,y.kn)(e,l)&&!h){m(!0);return}a()},securityFormFromDB:t,localSecurityFormResponse:e,currentFormStatus:o,extensionId:s}))}function U(e){let{version:t,setSecurityFormResponse:r,extensionType:i,localSecurityFormResponse:a,existingSecurityFormResponse:o,onDone:l,optedOutOfSecurityForm:s,setOptedOutOfSecurityForm:c,extensionId:d}=e,[u]=(0,E.UL)(B(t),{enabled:!o}),p=(o?{version:String(o.formVersion),questions:o.responses}:null)??("loaded"===u.status?u.data:null);return p?n.createElement(I.e,{localSecurityFormResponse:a,existingSecurityFormResponse:o,optedOutOfSecurityForm:s,setOptedOutOfSecurityForm:c,extensionType:i},n.createElement(x,{localSecurityFormResponse:a,securityFormFromDB:p,setSecurityFormResponse:r,extensionType:i,onDone:l,currentFormStatus:(null==o?void 0:o.status)??null,existingSecurityFormResponse:o,extensionId:d})):null}let B=E.qO.Query({fetch:async e=>await b.kR.getBlankSecurityForm(e)})},523668:(e,t,r)=>{"use strict";let n;r.d(t,{EB:()=>L,G4:()=>N,Ki:()=>A,UD:()=>O,sH:()=>C});var i=r(307824),a=r(120304),o=r(878164),l=r(477080),s=r(87975),c=r(425396),d=r(577824),u=r(703520),p=r(672352),m=r(537096),_=r(560072),h=r(693400),g=r(823252),f=r(194540),E=r(236296),y=r(402980),b=r(219476),v=r(390260),I=r(685624),w=r(991440),T=r(824928),S=r(166996),C=((n=C||{}).FILES="FILES",n.PLUGINS="PLUGINS",n.WIDGETS="WIDGETS",n);function A(e){return i.createElement("div",{className:w.mM},i.createElement("div",{className:w.DE},"FILES"===e.tab?(0,_.t)("community.universal_posting_modal.resource_empty.files_title"):"PLUGINS"===e.tab?(0,_.t)("community.universal_posting_modal.resource_empty.plugins_title"):(0,_.t)("community.universal_posting_modal.resource_empty.widgets_title")),i.createElement("div",{className:w.sT},"FILES"===e.tab?(0,_.t)("community.universal_posting_modal.resource_empty.files_subtitle"):"PLUGINS"===e.tab?(0,_.t)("community.universal_posting_modal.resource_empty.plugins_subtitle"):(0,_.t)("community.universal_posting_modal.resource_empty.widgets_subtitle")))}function O(e){var t,r,n,s;let d=(0,a.w1)(e=>e.currentUserOrgId),u=(r=(0,o.M1)(d||null,l.GQh.CAN_PUBLISH_TO_COMMUNITY),n=i.useMemo(()=>{let e=r.data||[];return c.YF.loaded(e.filter(e=>e.parent_org_id===d))},[r,d]),s=e.editorTypes,t=i.useMemo(()=>{if(!s||1!==s.length)return n;let e=n.data||[];return c.YF.loaded(e.filter(e=>e.editor_type===s[0]))},[n,s]),i.useMemo(()=>"loaded"!==t.status?[]:t.data.map(e=>({type:E.Az.FILE,file:e})),[t]));return 0===u.length?i.createElement(A,{tab:"FILES"}):i.createElement("div",{className:w.kz,onClick:e.deselectActiveFile,role:"presentation"},u.map(t=>{if(t.type!==E.Az.FILE)return null;let r=t.file;if(e.filterFn&&!e.filterFn(r))return null;let n=r.hub_file&&(0,h.OU)(r.hub_file);return i.createElement(R,{key:r.key,file:r,disabled:n,setActiveFile:e.setActiveFile,activeFileKey:e.activeFileKey})}))}function N(e){let t=(0,y.Ad)(),r=(0,a.w1)(e=>e.authedProfilesById),n=(0,a.w1)(e=>e.figFileDuplicatedFromHubFile);return e.searchResults?0===e.searchResults.length?i.createElement("div",{className:w.mM},i.createElement("div",{className:w.DE},i.createElement(_.Tx,{id:"community.universal_posting_modal.recent_editable_files_search.no_files_matching",searchQuery:i.createElement("span",{className:w.S6},e.activeSearchQuery)}))):i.createElement("div",{className:w.kz,onClick:e.deselectActiveFile,role:"presentation"},e.searchResults.filter(i=>{var a;return i.model.editor_type&&(void 0===e.editorTypes||(null==(a=e.editorTypes)?void 0:a.includes(i.model.editor_type)))&&(0,f.a2)(i.model,{...t,authedProfilesById:r,figFileDuplicatedFromHubFile:n},null)}).map(t=>{let r=t.model,n=r.hub_file&&(0,h.OU)(r.hub_file);return i.createElement(R,{key:r.key,file:r,disabled:n,setActiveFile:e.setActiveFile,activeFileKey:e.activeFileKey})})):i.createElement("div",{className:w.M$},i.createElement(u.M7,{size:"small"}))}function L(e){let{query:t,setQuery:r,setSearchResults:n,hasCloseButton:o=!0}=e,l=(0,a.OY)(),c=i.useCallback(()=>{t&&(l(g.G_({entryPoint:"community:universal_posting"})),n(null),v.KK.getFigFiles({query:t,desc:!0,sort:b.A1.RELEVANCY,orgId:void 0,isGlobal:!0}).then(({data:{meta:e}})=>{n(e.results)}))},[t,l,n]),u=i.useCallback(()=>{r("")},[r]),h=i.useCallback(e=>(e.keyCode===s.as.ENTER&&c(),!0),[c]),f=i.useCallback(e=>{r(e)},[r]);i.useEffect(()=>{let e=setTimeout(c,300);return()=>clearTimeout(e)},[t,c]);let E=i.useRef(null),{searchInputRef:y,onMouseDown:I,onMouseUp:C,onBlur:A,onClearSearchClick:O,onSearchKeyDown:N,onSearchChange:L}=(0,p.yq)({...e,focusOnMount:!1,clearSearch:u,onChange:f,onSubmit:c,isKeyDownHandled:h},E);return i.createElement("div",{className:w.cf},i.createElement(m.A,{className:w.I6,svg:T.c}),i.createElement(d.y,{ref:y,placeholder:e.placeholderText??(0,_.t)("community.universal_posting_modal.search_bar.placeholder"),className:w.k$,value:t,onMouseDown:I,onMouseUp:C,onBlur:A,onChange:L,onKeyDown:N,spellCheck:!1}),!!t&&o&&i.createElement(m.A,{className:w.yi,svg:S.c,onClick:O}))}function R(e){let{file:t,disabled:r,setActiveFile:n,activeFileKey:a}=e;return i.createElement(I.s1,{onClick:e=>{e.stopPropagation(),r||n(t)},file:t,subtitle:i.createElement(I.Ql,{file:t}),activeFileUsers:[],currentUser:null,isSelected:!r&&a===t.key,disabled:r,tooltipText:r?(0,_.t)("community.publishing.this_file_has_been_published_to_community_as_a_library"):void 0})}},18544:(e,t,r)=>{"use strict";r.d(t,{Ck:()=>_,Eh:()=>g,KK:()=>h});var n=r(307824),i=r(120304),a=r(656716),o=r(87975),l=r(403132),s=r(13468),c=r(91404),d=r(903560);let u={underline:d.yy,noUnderline:d.uY};class p extends n.PureComponent{constructor(){super(...arguments),this.onClick=e=>{if(e.preventDefault(),e.stopPropagation(),(0,o.mM)(e)||this.props.openInNewTab){a.default.redirect(this.props.hrefPath||"","_blank");return}let t=m(this.props);this.props.dispatch(l.Ej(t))}}render(){let e={...this.props.publisher,img_url:this.props.publisher.img_urls["120_120"]},t=n.createElement(n.Fragment,null,this.props.showAvatar&&n.createElement("div",{className:this.props.avatarClassName||d.Sy},n.createElement(c.UP,{size:this.props.avatarSize||32,entity:e})),!this.props.hideName&&n.createElement("span",{className:this.props.childrenClassName||d.Ur},this.props.publisher.name));return n.createElement("div",{className:`${this.props.className||""}`},this.props.disabled?n.createElement("span",{className:this.props.childrenClassName||d.kH},t):n.createElement("a",{href:`/@${this.props.publisher.profile_handle}`,className:this.props.childrenClassName||this.props.authorLinkStyle,onClick:this.onClick},t))}}let m=e=>({view:"communityHub",subView:"handle",handle:e.publisher.profile_handle}),_=(0,i.Ul)((e,t)=>{let r=m(t);return{hrefPath:(0,s.gv)(e,r),authorLinkStyle:"communityHub"===e.selectedView.view&&"landing"===e.selectedView.subView?u.noUnderline:u.underline}})(p),h=(0,i.Ul)((e,t)=>({hrefView:m(t),hrefPath:(0,s.gv)(e,m(t)),authorLinkStyle:u.underline}))(p);function g(e){let t=(0,i.OY)(),r={view:"communityHub",subView:"handle",handle:e.profile.profile_handle},c=(0,i.w1)(e=>(0,s.gv)(e,r));return n.createElement("a",{href:`/@${e.profile.profile_handle}`,className:d.Sk,onClick:e=>{if(e.preventDefault(),e.stopPropagation(),(0,o.mM)(e)){a.default.redirect(c||"","_blank");return}t(l.Ej(r))}},e.children)}},669220:(e,t,r)=>{"use strict";r.d(t,{S:()=>b,i:()=>n});var n,i=r(307824),a=r(120304),o=r(560072),l=r(693728),s=r(745500),c=r(693400),d=r(796116),u=r(879764),p=r(323576),m=r(825016),_=r(90340),h=r(417184),g=r(251596),f=r(778112),E=r(142548),y=r(643812);function b(e){var t,r,s;let{resource:d,viewContext:u}=e,p=(0,a.w1)(e=>e.authedActiveCommunityProfile),m=(0,h.a)(p),_=(0,c.IJ)(d.id,(0,c.Se)(d)),g=!!(null==(t=_.data)?void 0:t[0]),f=n.useLikeActions(d,!!(null==(r=_.data)?void 0:r[0]),(null==(s=_.data)?void 0:s[1])||null,u);return m?i.createElement("div",{"data-tooltip-type":E.wL.TEXT,"data-tooltip":(0,o.t)("community.likes.to_like_switch_to_your_personal_profile"),"data-tooltip-show-immediately":!0},i.createElement(l.I,{isResourceLiked:!1,shouldTriggerFunHearts:!1,disabled:!0})):i.createElement(l.I,{onClick:f(),isResourceLiked:g,shouldTriggerFunHearts:!!(!g&&p&&!m)})}(n||(n={})).useLikeActions=function(e,t,r,n){let i=(0,a.OY)(),o=(0,g.C2)(),l=(0,s.o)(),c=()=>{(0,_.a2)(v()),(0,f.SC)(e)?i(d.G2({hubFileId:e.id})):(0,f.mc)(e)?i(u.M({id:e.id,resourceType:f.y4.WIDGET})):i(u.M({id:e.id,resourceType:f.y4.PLUGIN}))},h=e=>{if(e.stopPropagation(),o){if(!o.community_profile_id){i(p.A5({type:y.i0,data:{userId:o.id,variations:[y.q0.OPT_IN],onFinish:()=>c()}}));return}c()}},E=t=>{if(t.stopPropagation(),!o)throw Error(`Tried to unlike a ${b} as a signed out user`);(0,_.a2)(v()),(0,f.SC)(e)?i(d.ID({hubFileId:e.id,likeId:r||void 0})):(0,f.mc)(e)?i(u.m({id:e.id,resourceType:f.y4.WIDGET,likeId:r||void 0})):i(u.m({id:e.id,resourceType:f.y4.PLUGIN,likeId:r||void 0}))},b=(0,f.SC)(e)?"hub file":(0,f.mc)(e)?"widget":"plugin",v=()=>({action:(0,f.SC)(e)?t?m.k9.HUB_FILE_UNLIKE:m.k9.HUB_FILE_LIKE:(0,f.mc)(e)?t?m.k9.WIDGET_UNLIKE:m.k9.WIDGET_LIKE:t?m.k9.PLUGIN_UNLIKE:m.k9.PLUGIN_LIKE,pluginId:e.id,profileId:e.publisher.id,viewContext:n,...l});return function(){return t?e=>E(e):e=>h(e)}}},412872:(e,t,r)=>{"use strict";r.d(t,{C_:()=>_,Er:()=>f,Id:()=>y,KA:()=>g,U7:()=>u,_c:()=>m,mk:()=>p,sx:()=>h,ye:()=>d});var n=r(307824),i=r(972920),a=r(76952),o=r(560072),l=r(357652),s=r(26048),c=r(809080);let d="profile_admin_dropdown",u="community-tab",p="community-comments-on-focus",m="seen_community_comments_compose",_="seen_community_profile_admin_dropdown_onboarding",h="seen_community_monetization_metrics_tab_onboarding",g="seen_community_profile_creator_banner",f="seen_community_creator_carousel_media_nux";function E({dismissModal:e}){let t=n.useRef(null),r=n.useCallback((0,i.C)(()=>{t.current&&(t.current.style.opacity="0")},0,!0),[t]),s=n.useCallback((0,i.C)(()=>{t.current&&(t.current.style.opacity="1")},450),[t]);n.useEffect(()=>(window.addEventListener("scroll",r,!1),window.addEventListener("scroll",s,!1),()=>{window.removeEventListener("scroll",r,!1),window.removeEventListener("scroll",s,!1)}),[r,s]);let d=n.useCallback(e=>{let r=t.current;r&&(e.isIntersecting?r.style.visibility="visible":r.style.visibility="hidden")},[t]);return n.createElement(l.k3,{targetKey:"sort-state-dropdown",dismissModal:e,width:301,display:"hidden",containerRef:t,className:c.U7},n.createElement(a.w,{onIntersectionChange:d}),n.createElement("div",{className:c.WW},n.createElement(o.Tx,{id:"community.onboarding.see_more_of_what_you_love"})),n.createElement(o.Tx,{id:"community.onboarding.whether_you_want_to_focus_on_creators_you_follow_discover_new_files_and_plugins_or_find_out_what_s_trending_you_can_customize_your_feed_here"}))}function y({dismissModal:e}){return n.createElement(l.k3,{width:302,targetKey:d,dismissModal:e},n.createElement("div",{className:c.WW},n.createElement(o.Tx,{id:"community.onboarding.use_community_as_an_org_or_team"})),n.createElement(o.Tx,{id:"community.onboarding.switch_to_browsing_community_as_an_admin_to_save_plugins_and_manage_content_published_by_your_org_or_team"}))}e=>n.createElement(E,{...e}),s.GK.SELF_CONTAINED},649244:(e,t,r)=>{"use strict";let n;r.d(t,{u:()=>Y});var i=r(307824),a=r(120304),o=r(250008),l=r(660364),s=r(161400),c=r(87975),d=r(105516),u=r(148276),p=r(537096),m=r(560072),_=r(317704),h=r(236952),g=r(321296),f=r(323576),E=r(750908),y=r(191352),b=r(585508),v=r(342512),I=r(274900),w=r(325252),T=r(752804),S=r(778112),C=r(224100),A=r(142548),O=r(158196),N=r(203736),L=r(927976),R=r(72708),P=r(98660),M=r(828008),k=r(333692),D=r(73080),F=r(548300),x=r(11176);let U=(0,v.A)();var B=((n=B||{}).CHOOSE_EDITOR_TYPE="choose_editor_type_step",n.CHOOSE_TEMPLATE="choose_template_step",n.SUCCESS_SCREEN="success_screen_step",n.HIDDEN="hidden",n);function G({children:e,onClick:t}){return i.createElement("div",{role:"button",onClick:t,tabIndex:0},e)}function V({resourceType:e,showFigmaDesignOption:t,showFigJamOption:r,selectedEditorTypes:n,setSelectedEditorTypes:a}){return i.createElement(i.Fragment,null,i.createElement(K,{isSelected:n.includes(C.gr.FIGMA)&&n.includes(C.gr.FIGJAM),image:i.createElement(k.c.editorTypes.figmaDesignAndFigJam,null),titleText:(0,m.t)(e===S.K2.WIDGET?"community.plugin_development.widget_creation_editor_option_figma_design_and_figjam":"community.plugin_development.plugin_creation_editor_option_figma_design_and_figjam"),descriptionText:(0,m.t)(e===S.K2.WIDGET?"community.plugin_development.widget_creation_editor_option_figma_design_and_figjam_description":"community.plugin_development.plugin_creation_editor_option_figma_design_and_figjam_description"),onSelect:()=>a([C.gr.FIGMA,C.gr.FIGJAM])}),t&&i.createElement(K,{isSelected:n.includes(C.gr.FIGMA)&&1===n.length,image:i.createElement(k.c.editorTypes.figmaDesign,null),titleText:(0,m.t)(e===S.K2.WIDGET?"community.plugin_development.widget_creation_editor_option_figma_design":"community.plugin_development.plugin_creation_editor_option_figma_design"),descriptionText:(0,m.t)(e===S.K2.WIDGET?"community.plugin_development.widget_creation_editor_option_figma_design_description":"community.plugin_development.plugin_creation_editor_option_figma_design_description"),onSelect:()=>a([C.gr.FIGMA])}),r&&i.createElement(K,{isSelected:n.includes(C.gr.FIGJAM)&&1===n.length,image:i.createElement(k.c.editorTypes.figJam,null),titleText:(0,m.t)(e===S.K2.WIDGET?"community.plugin_development.widget_creation_editor_option_figjam":"community.plugin_development.plugin_creation_editor_option_figjam"),descriptionText:(0,m.t)(e===S.K2.WIDGET?"community.plugin_development.widget_creation_editor_option_figjam_description":"community.plugin_development.plugin_creation_editor_option_figjam_description"),onSelect:()=>a([C.gr.FIGJAM])}))}function H({selectedTemplate:e,setSelectedTemplate:t}){let r=(0,a.w1)(e=>(0,L.ie)(e.selectedView));return i.createElement(i.Fragment,null,r?i.createElement(i.Fragment,null,i.createElement(K,{isSelected:"tab"===e,onSelect:()=>t("tab"),image:i.createElement(k.c.templates.tab,null),titleText:(0,m.t)("community.plugin_development.plugin_creation_template_option_tab"),descriptionText:(0,m.t)("community.plugin_development.plugin_creation_template_option_tab_description")}),i.createElement(K,{isSelected:"codegen"===e,onSelect:()=>t("codegen"),image:i.createElement(k.c.templates.codegen,null),titleText:(0,m.t)("community.plugin_development.plugin_creation_template_option_codegen"),descriptionText:(0,m.t)("community.plugin_development.plugin_creation_template_option_codegen_description")})):i.createElement(i.Fragment,null,i.createElement(K,{isSelected:"empty"===e,onSelect:()=>t("empty"),image:i.createElement(k.c.templates.empty,null),titleText:(0,m.t)("community.plugin_development.plugin_creation_template_option_default"),descriptionText:(0,m.t)("community.plugin_development.plugin_creation_template_option_default_description")}),i.createElement(K,{isSelected:"runOnce"===e,onSelect:()=>t("runOnce"),image:i.createElement(k.c.templates.runOnce,null),titleText:(0,m.t)("community.plugin_development.plugin_creation_template_option_run_once"),descriptionText:(0,m.t)("community.plugin_development.plugin_creation_template_option_run_once_description")}),i.createElement(K,{isSelected:"withUI"===e,onSelect:()=>t("withUI"),image:i.createElement(k.c.templates.withUI,null),titleText:(0,m.t)("community.plugin_development.plugin_creation_template_option_with_ui"),descriptionText:(0,m.t)("community.plugin_development.plugin_creation_template_option_with_ui_description")})))}function W({widgetCreationType:e,setWidgetCreationType:t}){return i.createElement(i.Fragment,null,i.createElement(K,{isSelected:"empty"===e,image:i.createElement(k.c.widgetOptions.empty,null),titleText:(0,m.t)("community.plugin_development.widget_creation_option_default"),descriptionText:(0,m.t)("community.plugin_development.widget_creation_option_default_description"),onSelect:()=>t("empty")}),i.createElement(K,{isSelected:"simple"===e,image:i.createElement(k.c.widgetOptions.simple,null),titleText:(0,m.t)("community.plugin_development.widget_creation_option_simple"),descriptionText:(0,m.t)("community.plugin_development.widget_creation_option_simple_description"),onSelect:()=>t("simple")}),i.createElement(K,{isSelected:"with_iframe"===e,image:i.createElement(k.c.widgetOptions.withIframe,null),titleText:i.createElement("span",{style:{letterSpacing:"-0.5px"}},(0,m.t)("community.plugin_development.widget_creation_option_with_iframe")),descriptionText:(0,m.t)("community.plugin_development.widget_creation_option_with_iframe_description"),onSelect:()=>t("with_iframe")}))}function K({isSelected:e,onSelect:t,image:r,titleText:n,descriptionText:a}){return i.createElement("div",{className:e?D.uw:D.Oe,onClick:t},i.createElement("div",{className:e?D.iU:D.Sg},i.createElement("div",{className:D.Wc},e?i.createElement(p.A,{svg:x.c}):i.createElement("div",{className:D._A})),r,i.createElement("div",{className:D.Ar},i.createElement("div",{className:D.io},n),i.createElement("div",null,a))))}let Y=(0,N.U9)(function({resourceType:e}){let t=(0,a.OY)(),r=(0,a.w1)(e=>(0,L.ie)(e.selectedView)),[n,v]=i.useState(""),[N,x]=i.useState(-1),[B,K]=(0,l.K)(r?"choose_template_step":"choose_editor_type_step",`${e}_create_flow_change_step`,{productType:(0,w.a6)()===C.gr.FIGMA?"design":"whiteboard"}),[Y,q]=i.useState(r?"tab":"runOnce"),[j,$]=i.useState(r?[C.gr.DEV]:[C.gr.FIGMA,C.gr.FIGJAM]),[Z,z]=i.useState("simple"),[Q,X]=i.useState(!1),J=()=>n.replace(/[^0-9a-zA-Z\.\-\+!%&_ =]/g,"_").trim(),ee=async({resourceId:r,template:n})=>{if(""===J())return t(_.A.enqueue({message:(0,m.t)("community.plugin_development.please_add_some_alphanumeric_text_to_your_resource_name"),error:!0})),null;n.name=J();try{let i=await ((0,T.S8)()?U.writeNewExtensionDirectoryToDisk(n):U.writeNewExtensionToDisk(J(),n.files));if(i)return(0,o.we)(`Added New ${e}`,{how:"created",[e+"Id"]:r,version:I.mc,isWidget:e===S.K2.WIDGET,productType:(0,w.a6)()===C.gr.FIGMA?"design":"whiteboard"}),t(h.sg({localFileId:i,resourceType:e})),i}catch(e){console.error(e)}return t(_.A.enqueue({message:(0,m.t)("community.plugin_development.unable_to_write_resource_to_disk"),error:!0})),null},et=async()=>{if(!n){X(!0);return}let r="";try{let n=await (0,w.Qv)(e);t(g.eY({publishedPlugins:[n],src:"onGenerateNewClick"})),K("hidden"),r=n.id}catch(e){t(_.A.enqueue({message:(0,m.t)("community.plugin_development.unable_to_generate_resource_id"),error:!0}));return}let i=e===S.K2.PLUGIN?T._A[Y]:T.KE[Z],a=await ee({resourceId:r,template:i(n,r,j)});null!=a?(K("success_screen_step"),x(a)):t(f.oN())},er=()=>{t(f.oN()),b.CA.dispatch(E.KE({initialX:0,initialY:0,initialTab:el?"widget"===e?R.i.WIDGETS:R.i.PLUGINS:void 0,initialFdResourceTab:eo?"widget"===e?P.o.WIDGET:P.o.PLUGIN:void 0,initialFdView:eo?"development":void 0,scrollDevelopmentSectionIntoView:el}))},en=()=>{U.openExtensionDirectory(N)},ei=(0,a.w1)(e=>"fullscreen"===e.selectedView.view),ea=(0,y.KG)(),eo="design"===ea||"dev_handoff"===ea,el="whiteboard"===ea,es=!ei||eo,ec=!ei||el,ed=e=>{"Enter"===e.key||e.keyCode===c.as.ENTER?"choose_editor_type_step"===B?K("choose_template_step"):"choose_template_step"===B?et():"success_screen_step"===B&&er():("Escape"===e.key||e.keyCode===c.as.ESCAPE)&&er()},eu=i.createElement(i.Fragment,null,i.createElement(u.gV,{className:D.sq,onClick:et,disabled:""===n},i.createElement("span",{"data-tooltip":e===S.K2.PLUGIN?(0,m.t)("community.plugin_development.you_must_provide_a_name_for_your_plugin"):(0,m.t)("community.plugin_development.you_must_provide_a_name_for_your_widget"),"data-tooltip-type":""===n?A.wL.TEXT:null},i.createElement(m.Tx,{id:"community.plugin_development.save_as"})))),ep=i.createElement("div",null,i.createElement("div",{className:D.y_},i.createElement(m.Tx,{id:"community.general.name"})),i.createElement(u.QT,{value:n,onChange:e=>{e.currentTarget.value&&Q&&X(!1),v(e.currentTarget.value)},className:D.sB,placeholder:e===S.K2.PLUGIN?(0,m.t)("community.plugin_development.plugin_name"):(0,m.t)("community.plugin_development.widget_name"),autoFocus:!0,"data-tooltip":e===S.K2.PLUGIN?(0,m.t)("community.plugin_development.you_must_provide_a_name_for_your_plugin"):(0,m.t)("community.plugin_development.you_must_provide_a_name_for_your_widget"),"data-tooltip-type":A.wL.TEXT,"data-tooltip-show-immediately":!0,"data-tooltip-key":"plugin-new-development-modal","data-tooltip-ignore-mouse":!0}),i.createElement(M.yq,{visible:Q,tooltipKey:"plugin-new-development-modal"}));return"choose_editor_type_step"===B?(()=>{let r=ei?D.yu:D.gV;return i.createElement(G,{onClick:()=>X(!1)},i.createElement(O.wJ,{className:D.AH,dispatch:t,onKeyDown:ed,disableClickOutsideToHide:!0,onModalClick:e=>e.stopPropagation()},i.createElement(d.cT,{dispatch:t}),i.createElement("div",{className:D.sj},i.createElement("div",null,e===S.K2.PLUGIN?(0,m.t)("community.plugin_development.create_plugin"):(0,m.t)("community.plugin_development.create_widget"))),i.createElement("div",{className:D.AL},ep,i.createElement("div",{className:r},i.createElement(V,{resourceType:e,showFigmaDesignOption:es,showFigJamOption:ec,selectedEditorTypes:j,setSelectedEditorTypes:$}))),i.createElement("div",{className:D.GG},i.createElement("div",{className:D.YK},i.createElement(u.gV,{className:D.sq,onClick:()=>K("choose_template_step")},i.createElement(m.Tx,{id:"general.next"}))))))})():"choose_template_step"===B?(()=>{let n=r?D.yu:D.gV;return i.createElement(G,{onClick:()=>X(!1)},i.createElement(O.wJ,{className:D.AH,dispatch:t,onKeyDown:ed,disableClickOutsideToHide:!0},i.createElement(d.cT,{dispatch:t}),i.createElement("div",{className:D.sj},i.createElement("div",null,e===S.K2.PLUGIN?i.createElement(m.Tx,{id:"community.plugin_development.create_plugin"}):i.createElement(m.Tx,{id:"community.plugin_development.create_widget"}))),i.createElement("div",{className:D.AL},ep,i.createElement("div",{className:n},e===S.K2.PLUGIN?i.createElement(H,{selectedTemplate:Y,setSelectedTemplate:q}):i.createElement(W,{widgetCreationType:Z,setWidgetCreationType:z}))),i.createElement("div",{className:D.GG},i.createElement("div",{className:D.ug},!(0,L.ie)(s.x.getState().selectedView)&&i.createElement(u.wX,{className:D.sq,onClick:()=>K("choose_editor_type_step")},i.createElement(p.A,{svg:F.c,className:D.iG}),i.createElement(m.Tx,{id:"general.back"})),eu))))})():"success_screen_step"===B?(()=>{let r=i.createElement(u.cH,{href:`https://www.figma.com/${e}-docs/`,trusted:!0},i.createElement(m.Tx,{id:"community.plugin_development.setup_guide"})),n=i.createElement(u.cH,{href:"https://discord.gg/xzQhe2Vcvx",trusted:!0},i.createElement(m.Tx,{id:"community.plugin_development.join_our_discord"}));return i.createElement(O.wJ,{className:D.EF,dispatch:t,onKeyDown:ed,disableClickOutsideToHide:!0},i.createElement(d.cT,{dispatch:t}),i.createElement("div",{className:D.uP},i.createElement("div",{className:D.m0},e===S.K2.PLUGIN?(0,m.t)("community.plugin_development.new_plugin_created"):(0,m.t)("community.plugin_development.new_widget_created")),i.createElement("div",{className:D.AL},i.createElement("span",{className:D.w5},e===S.K2.PLUGIN?i.createElement(m.Tx,{id:"community.plugin_development.follow_our_setup_guide_plugin",setupGuideLink:r}):i.createElement(m.Tx,{id:"community.plugin_development.follow_our_setup_guide_widget",setupGuideLink:r})),i.createElement("div",{className:D.yW},e===S.K2.PLUGIN?i.createElement(m.Tx,{id:"community.plugin_development.connect_with_other_plugin_developers",joinOurDiscordLink:n}):i.createElement(m.Tx,{id:"community.plugin_development.connect_with_other_widget_developers",joinOurDiscordLink:n}))),i.createElement("div",{className:D.GG},i.createElement("div",{className:D._G},i.createElement(u.wX,{onClick:en},i.createElement(m.Tx,{id:"community.plugin_development.open_folder"})),i.createElement(u.gV,{className:D.sq,onClick:er},i.createElement(m.Tx,{id:"general.done"}))))),i.createElement("div",{className:D.y0},e===S.K2.WIDGET?i.createElement(k.c.widgetSuccess,null):i.createElement(k.c.pluginSuccess,null)))})():i.createElement(i.Fragment,null)},"PluginNewDevelopmentModal")},952352:(e,t,r)=>{"use strict";r.d(t,{Wf:()=>D,k9:()=>U});var n=r(307824),i=r(120304),a=r(250008),o=r(760780),l=r(838836),s=r(537096),c=r(698240),d=r(560072),u=r(745500),p=r(693400),m=r(958196),_=r(403132),h=r(323576),g=r(833492),f=r(572748),E=r(696240),y=r(514916),b=r(325252),v=r(224100),I=r(494500),w=r(848328),T=r(562128),S=r(108688),C=r(740718),A=r(908732),O=r(220480),N=r(231648),L=r(876180);function R(e,t,r,n){(0,a.we)("extension_opened_from_community",{extension_id:e,file_type:t,editor_type:r,...n})}function P(e){return"whiteboard"===e?T.MB.WHITEBOARD:T.MB.DESIGN}function M(e){return n.createElement("button",{type:"button",className:O.Sb,onClick:e.onClick,"data-testid":e.dataTestId},n.createElement("div",{className:O.cH},n.createElement("div",{className:c.cx.w32.flex.justifyCenter.$},e.icon),n.createElement("div",{className:O.kX},e.text)),e.rightIcon)}function k(e){let t=e.fileName?e.fileName:e.playgroundFile?(0,d.t)("community.using.playground_file"):e.fileIconType===T.MB.WHITEBOARD?(0,d.t)("community.using.figjam_board"):(0,d.t)("community.using.figma_file");return n.createElement(M,{onClick:e.onClick,"data-testid":e.dataTestId,icon:n.createElement("div",{className:O._M},n.createElement(A.QB,{fileIconType:e.fileIconType})),text:t})}function D(e){let t;let r=n.createElement(A.OS,{editorType:[e.editorType]});return t=e.fileName?e.fileName:e.playgroundFile?(0,d.t)("community.using.playground_file"):e.editorType===v.gr.FIGMA?(0,d.t)("community.using.figma_file"):(0,d.t)("community.using.figjam_board"),n.createElement("button",{type:"button",className:O.Sb,onClick:e.onClick,"data-testid":e.dataTestId},n.createElement("div",{className:O.cH},n.createElement("div",{className:O._M},r),n.createElement("div",{className:O.kX},t)))}function F(e){let t=(0,i.OY)(),{files:r,resource:a,editorTypes:o}=e,l=(0,u.o)(),s=e=>{if(!e.org_id)return;let r=(0,p.EK)(a),n={extension:{pluginId:r.plugin_id,iconUrl:r.redirect_icon_url,name:r.name},isWidget:a.is_widget,orgId:e.org_id,workspaceDetails:{workspaceId:e.workspace_id,workspaceName:e.workspace_name,fileKey:e.key,fileName:e.name},openedFrom:"community",fullscreenEditorType:null};t((0,h.A5)({type:w.U,data:n}))},c=e=>{R(a.id,"existing_file",e.editor_type,l),t(m.wr({resource:a,fullscreenEditorType:e.editor_type===y.aE.DESIGN&&(0,b.es)(o)?"dev_handoff":(0,b.UL)(e.editor_type),fileKey:e.key,userId:e.user_id}))};return(null==r?void 0:r.length)===0?null:n.createElement(n.Fragment,null,n.createElement("div",{className:O.oi},n.createElement(d.Tx,{id:"community.detail_view.recent_files"})),n.createElement("div",{className:O.Wu},r?r.map(e=>n.createElement(k,{key:e.key,fileIconType:e.editor_type===y.aE.DESIGN&&e.last_published_at?T.MB.PUBLISHED:e.editor_type===y.aE.DESIGN?T.MB.DESIGN:T.MB.WHITEBOARD,fileName:e.name,onClick:()=>{t(_.yi()),e.can_run?c(e):e.requests_allowed&&s(e)}})):n.createElement("div",{className:O.aG},[...Array(6)].map((e,t)=>n.createElement("div",{key:t,className:O.io})))))}function x({hasSecondaryDropdown:e,text:t,primaryFullscreenEditorType:r,resource:a}){let o=(0,i.OY)(),l=(0,b.Y9)(a),c=(0,u.o)();return n.createElement(M,{onClick:()=>{if(!e){let e=!!(l.playground_fig_file||"dev_handoff"===r);R(a.id,e?"playground":"new_file",r,c),o(_.yi()),o(m.wr({resource:a,fullscreenEditorType:r,isPlaygroundFile:e}))}},icon:n.createElement(s.A,{svg:L.c,className:O.Gm}),text:t,rightIcon:e?n.createElement(s.A,{svg:N.c,className:O._E}):void 0})}function U(e,t,r){let s=(0,i.OY)(),c=(0,g.g)(),p=(null==c?void 0:c.type)===B&&c.data.resourceId===e.id&&c.data.viewContext===r,h=n.memo(function({primaryFullscreenEditorType:r}){var i;let h;let g=(0,f.Ce)(),y=(0,u.o)(),[w,T]=n.useState();(0,o.u)(()=>{!async function(){let t=await I.q.getRecentFiles({extensionId:e.id,isWidget:!!e.is_widget});(0,a.we)("recent_files_for_plugins_loaded",{response_count:t.data.meta.length,extension_id:e.id,...y}),T(t.data.meta.filter(e=>e.can_run||e.requests_allowed).slice(0,6))}()});let A=(0,b.Y9)(e),N=(null==(i=A.manifest.editorType)?void 0:i.sort())??[],L=!!A.playground_fig_file||"dev_handoff"===r,M=N.includes(v.gr.FIGMA)&&N.includes(v.gr.FIGJAM);M&&("design"!==r&&"dev_handoff"!==r||(null==g?void 0:g.figjam_disabled_at)?"whiteboard"===r&&(h="design"):h="whiteboard");let D=(()=>{let t=[{displayText:(0,d.t)("community.using.new_file"),preventDismissOnSelected:!0,render:()=>n.createElement(k,{fileIconType:P(r),onClick:()=>{R(e.id,"new_file",r,y),s(_.yi()),s(m.wr({resource:e,fullscreenEditorType:r}))}})}];return M&&h&&t.push({displayText:(0,d.t)("community.using.new_file"),preventDismissOnSelected:!0,render:()=>n.createElement(k,{fileIconType:P(h),onClick:()=>{R(e.id,"new_file",h,y),s(_.yi()),s(m.wr({resource:e,fullscreenEditorType:h}))}})}),t})(),U={displayText:(0,d.t)("community.using.new_file"),className:O.UJ,preventDismissOnSelected:!0,render:()=>n.createElement(x,{hasSecondaryDropdown:D.length>1,text:(0,d.t)("community.using.new_file"),primaryFullscreenEditorType:r,resource:e}),children:D.length>1?D:void 0},B={displayText:(0,d.t)("community.using.playground_file"),className:O.UJ,preventDismissOnSelected:!0,render:()=>n.createElement(x,{hasSecondaryDropdown:!1,text:(0,d.t)("community.using.playground_file"),primaryFullscreenEditorType:r,resource:e})};(0,E.CI)("resize",()=>{p&&s(_.yi())});let G=(()=>{let t=[];if(void 0===w||w.length>0)t.push({displayText:"recentFiles",preventDismissOnSelected:!0,render:()=>n.createElement(F,{files:w,resource:e,editorTypes:N})});else if(!L&&M)return D;return L?t.push(B):t.push(U),t})();return n.createElement(S.I,{showPoint:!1,lean:t,className:O.Yn,subMenuClassName:O.eo,type:C.aA.MATCH_BACKGROUND,rootAndSubmenuMaxWidth:280,minWidth:280,autoHeight:!0,onSelectItem:l.Kw,hidePointWhenContentOffScreen:!0,items:G,parentRect:null==c?void 0:c.data.targetRect,dispatch:s})});return{dropdownIsShown:p,toggleSwitchEditorDropdown:(t,n)=>{var i;let a=null==(i=t.current)?void 0:i.getBoundingClientRect();a&&((void 0!==n?n:!p)?s(_.Qn({type:B,data:{resourceId:e.id,viewContext:r,targetRect:a}})):s(_.yi()))},PluginTrySwitchEditorDropdown:h}}let B="PLUGIN_TRY_SWITCH_EDITOR_DROPDOWN"},839432:(e,t,r)=>{"use strict";let n;r.d(t,{G8:()=>c,_8:()=>m,kn:()=>u});var i=r(307824),a=r(698240),o=r(560072),l=r(415444),s=r(790943),c=((n=c||{}).PUBLISH="publish",n.PERMISSIONS="permissions",n.DATA_SECURITY="data_security",n);let d=[{tab:"publish",title:()=>(0,o.t)("community.publishing.publish_tab"),isVisible:()=>!0},{tab:"data_security",title:()=>(0,o.t)("community.publishing.data_security_tab"),isVisible:()=>!0},{tab:"permissions",title:()=>(0,o.t)("community.publishing.permissions_tab"),dataOnboardingKey:l.w,isVisible:()=>!0}],u=d.map(e=>e.tab);function p(e){return i.createElement("div",{className:e.tab===e.selectedTab?s.G:s.a,key:e.tab,role:"tab",onClick:()=>e.onClick(e.tab),onMouseDown:e=>e.stopPropagation(),onPointerDown:e=>e.stopPropagation(),tabIndex:0,"data-onboarding-key":e.dataOnboardingKey},e.title())}function m(e){return i.createElement("div",{className:a.cx.flex.itemsCenter.$,role:"tablist"},d.map(t=>e.allowedTabs.includes(t.tab)&&t.isVisible()?i.createElement(p,{key:t.tab,selectedTab:e.selectedTab,onClick:e.onClick,tab:t.tab,title:t.title,dataOnboardingKey:t.dataOnboardingKey}):null))}},684591:(e,t,r)=>{"use strict";r.d(t,{MZ:()=>p,Mz:()=>o,Uj:()=>_,W6:()=>c,iO:()=>u,kL:()=>l,me:()=>d,sH:()=>m,tC:()=>s});var n=r(693400),i=r(180155),a=r(475136);function o(e,t){return(0,n.yC)({path:i.yi.FILE,id:e,name:t})}function l(e,t){return(0,n.yC)({path:i.yi.PLUGIN,id:e,name:t})}function s(e,t){return(0,n.yC)({path:i.yi.WIDGET,id:e,name:t})}function c(e,t,r){let n="";return t===a.El.METRICS&&(null==r?void 0:r.community_profile_handle)!==e?`/@${e}`:(t&&t!==a.El.RESOURCES&&t!==a.El.LIKES&&(n=t?`/${t}`:""),`/@${e}${n}`)}function d(e,t){return new URL(l(e,t),location.href).href}function u(e,t){return new URL(s(e,t),location.href).href}function p(e,t){return new URL(o(e,t),location.href).href}function m(){return new URL("/community/plugin/pluginID",location.href).href}function _(e){let t=e.match(/\/community\/plugin\/([^/]+)/);return t?t[1]:null}},908732:(e,t,r)=>{"use strict";r.d(t,{IH:()=>N,OS:()=>A,QB:()=>L,of:()=>n});var n,i=r(307824),a=r(537096),o=r(560072),l=r(325252),s=r(236892),c=r(224100),d=r(142548),u=r(562128),p=r(911184),m=r(808856),_=r(715884),h=r(45628),g=r(764808),f=r(182653),E=r(51496),y=r(765848),b=r(409488),v=r(32016),I=r(609172),w=r(786301),T=r(695816),S=r(93756),C=r(428116);function A(e,t){if(!e.editorType)return null;let r=p.ag;return(t?r=p.Xm:e.isPlaygroundFileInsertBadge&&(r=p.z6),e.editorType instanceof Array)?e.editorType.includes(c.gr.FIGMA)&&e.editorType.includes(c.gr.FIGJAM)&&(0,l.es)(e.editorType)?i.createElement(a.A,{svg:t?S.c:C.c,className:r,useOriginalSrcFills_DEPRECATED:!0,"data-tooltip-type":d.wL.TEXT,"data-tooltip":(0,o.t)("community.detail_view.universal"),dataTestId:"editor-type-badge-universal"}):e.editorType.includes(c.gr.FIGMA)&&e.editorType.includes(c.gr.FIGJAM)?i.createElement(a.A,{svg:t?w.c:T.c,className:r,useOriginalSrcFills_DEPRECATED:!0,"data-tooltip-type":d.wL.TEXT,"data-tooltip":(0,o.t)("community.detail_view.made_for_figma_design_and_figjam"),dataTestId:"editor-type-badge-figma-figjam"}):e.editorType.includes(c.gr.FIGMA)&&(0,l.es)(e.editorType)?i.createElement(a.A,{svg:t?v.c:I.c,className:p.ag,useOriginalSrcFills_DEPRECATED:!0,"data-tooltip-type":d.wL.TEXT,"data-tooltip":(0,o.t)("community.detail_view.figma_design_and_dev_mode"),dataTestId:"editor-type-badge-figma-devmode"}):e.editorType.includes(c.gr.FIGJAM)&&(0,l.es)(e.editorType)?i.createElement(a.A,{svg:t?f.c:E.c,className:p.ag,useOriginalSrcFills_DEPRECATED:!0,"data-tooltip-type":d.wL.TEXT,"data-tooltip":(0,o.t)("community.detail_view.made_for_fig_jam_and_dev_mode"),dataTestId:"editor-type-badge-figjam-devmode"}):O(e.editorType[0],r,t):O(e.editorType,r,t)}function O(e,t,r){switch(e){case c.gr.FIGJAM:case s.eI.FIGJAM:return i.createElement(a.A,{svg:r?h.c:g.c,className:t,useOriginalSrcFills_DEPRECATED:!0,"data-tooltip-type":d.wL.TEXT,"data-tooltip":(0,o.t)("community.detail_view.made_for_fig_jam"),dataTestId:"editor-type-badge-figjam"});case c.gr.FIGMA:case s.eI.FIGMA:return i.createElement(a.A,{svg:r?y.c:b.c,className:t,useOriginalSrcFills_DEPRECATED:!0,"data-tooltip-type":d.wL.TEXT,"data-tooltip":(0,o.t)("community.detail_view.made_for_figma_design"),dataTestId:"editor-type-badge-figma"});case c.gr.INSPECT:case c.gr.DEV:return i.createElement(a.A,{svg:r?m.c:_.c,className:p.ag,useOriginalSrcFills_DEPRECATED:!0,"data-tooltip-type":d.wL.TEXT,"data-tooltip":(0,o.t)("community.detail_view.dev_mode_only"),dataTestId:"editor-type-badge-devmode"});default:return null}}function N(){return i.createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg","data-tooltip-type":d.wL.TEXT,"data-tooltip":(0,o.t)("community.insert_modal.codegen_plugin_icon_tooltip")},i.createElement("path",{d:"M0 4C0 1.79086 1.79086 0 4 0H12C14.2091 0 16 1.79086 16 4V12C16 14.2091 14.2091 16 12 16H4C1.79086 16 0 14.2091 0 12V4Z",fill:"var(--color-bg)"}),i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 1H4C2.34315 1 1 2.34315 1 4V12C1 13.6569 2.34315 15 4 15H12C13.6569 15 15 13.6569 15 12V4C15 2.34315 13.6569 1 12 1ZM4 0C1.79086 0 0 1.79086 0 4V12C0 14.2091 1.79086 16 4 16H12C14.2091 16 16 14.2091 16 12V4C16 1.79086 14.2091 0 12 0H4Z",fill:"var(--color-border)"}),i.createElement("path",{d:"M3 3.5C3 3.22386 3.22386 3 3.5 3H9.5C9.77614 3 10 3.22386 10 3.5C10 3.77614 9.77614 4 9.5 4H3.5C3.22386 4 3 3.77614 3 3.5Z",fill:"var(--color-icon)"}),i.createElement("path",{d:"M3 12.5C3 12.2239 3.22386 12 3.5 12H9.5C9.77614 12 10 12.2239 10 12.5C10 12.7761 9.77614 13 9.5 13H3.5C3.22386 13 3 12.7761 3 12.5Z",fill:"var(--color-icon)"}),i.createElement("path",{d:"M5 6.5C5 6.22386 5.22386 6 5.5 6H12.5C12.7761 6 13 6.22386 13 6.5C13 6.77614 12.7761 7 12.5 7H5.5C5.22386 7 5 6.77614 5 6.5Z",fill:"var(--color-icon-assistive)"}),i.createElement("path",{d:"M6 9.5C6 9.22386 6.22386 9 6.5 9H13.5C13.7761 9 14 9.22386 14 9.5C14 9.77614 13.7761 10 13.5 10H6.5C6.22386 10 6 9.77614 6 9.5Z",fill:"var(--color-icon-design)"}))}function L(e){switch(e.fileIconType){case u.MB.WHITEBOARD:return i.createElement("svg",{width:"32",height:"32",viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg"},i.createElement("g",{clipPath:"url(#clip0_8665_227734)"},i.createElement("path",{d:"M7 28H25C25.5523 28 26 27.5523 26 27V9.91421C26 9.649 25.8946 9.39464 25.7071 9.20711L20.7929 4.29289C20.6054 4.10536 20.351 4 20.0858 4H7C6.44772 4 6 4.44772 6 5V27C6 27.5523 6.44772 28 7 28Z",fill:"#9747FF"}),i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M19.2966 20.8616C19.4811 21.0461 19.7802 21.0461 19.9647 20.8616L21.0059 19.8205C21.1903 19.636 21.1903 19.3369 21.0059 19.1524L15.0579 13.2045L13.3487 14.9137L19.2966 20.8616ZM12.6416 14.2066L11.7021 13.2671L11.2748 11.1305L13.4113 11.5578L14.3508 12.4974L12.6416 14.2066ZM11.0623 10.0682L13.9043 10.6366L21.713 18.4453C22.288 19.0203 22.288 19.9526 21.713 20.5276L20.6718 21.5687C20.0968 22.1438 19.1645 22.1438 18.5895 21.5687L10.7809 13.7601L10.2125 10.9181L10 9.85578L11.0623 10.0682Z",fill:"white"}),i.createElement("path",{d:"M20.5 8.5V6.41421V4L22.2071 5.70711L24.2929 7.79289L26 9.5H23.5858H21.5C20.9477 9.5 20.5 9.05228 20.5 8.5Z",fill:"#D9B8FF"})),i.createElement("defs",null,i.createElement("clipPath",{id:"clip0_8665_227734"},i.createElement("rect",{width:"32",height:"32",fill:"white"}))));case u.MB.PUBLISHED:return i.createElement("svg",{width:"32",height:"32",viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg"},i.createElement("g",{clipPath:"url(#clip0_8665_306087)"},i.createElement("path",{d:"M7 28H25C25.5523 28 26 27.5523 26 27V9.91421C26 9.649 25.8946 9.39464 25.7071 9.20711L20.7929 4.29289C20.6054 4.10536 20.351 4 20.0858 4H7C6.44772 4 6 4.44772 6 5V27C6 27.5523 6.44772 28 7 28Z",fill:"var(--color-iconpublishedfile, --grey-800)"}),i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16.8582 12.9953L16.8466 12.992L12.4437 11.7366L15.7009 14.9938C15.8169 14.954 15.9412 14.9324 16.0707 14.9324C16.6993 14.9324 17.2089 15.442 17.2089 16.0707C17.2089 16.6993 16.6993 17.2089 16.0707 17.2089C15.442 17.2089 14.9324 16.6993 14.9324 16.0707C14.9324 15.9412 14.954 15.8169 14.9938 15.7009L11.7425 12.4496L12.9443 16.6419L12.9548 16.6784L12.9625 16.7156C13.26 18.1592 14.5397 19.2442 16.0707 19.2442C16.4199 19.2442 16.7541 19.1882 17.0659 19.0854L17.6507 18.8924L18.0862 19.3279L19.3171 20.5588L20.5858 19.2901L19.3411 18.0455L18.9107 17.615L19.0954 17.035C19.1918 16.7321 19.2443 16.4085 19.2443 16.0707C19.2443 14.5951 18.2363 13.3524 16.8699 12.9983L16.8582 12.9953ZM21.2929 18.583L22 19.2901L21.2929 19.9972L20.0242 21.2659L19.3171 21.973L18.61 21.2659L17.3791 20.035C16.9676 20.1708 16.5277 20.2442 16.0707 20.2442C14.0558 20.2442 12.3744 18.8165 11.983 16.9175L10.3246 11.1324L10 10L11.1329 10.323L17.1208 12.0303C18.9175 12.4959 20.2443 14.1283 20.2443 16.0707C20.2443 16.5127 20.1756 16.9386 20.0482 17.3384L21.2929 18.583Z",fill:"white"}),i.createElement("path",{d:"M20.5 8.5V6.41421V4L22.2071 5.70711L24.2929 7.79289L26 9.5H23.5858H21.5C20.9477 9.5 20.5 9.05228 20.5 8.5Z",fill:"var(--color-iconpublishedfilesecondary, --grey-500)"})),i.createElement("defs",null,i.createElement("clipPath",{id:"clip0_8665_306087"},i.createElement("rect",{width:"32",height:"32",fill:"white"}))));case u.MB.DESIGN:default:return i.createElement("svg",{width:"32",height:"32",viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg"},i.createElement("g",{clipPath:"url(#clip0_8665_306087)"},i.createElement("path",{d:"M7 28H25C25.5523 28 26 27.5523 26 27V9.91421C26 9.649 25.8946 9.39464 25.7071 9.20711L20.7929 4.29289C20.6054 4.10536 20.351 4 20.0858 4H7C6.44772 4 6 4.44772 6 5V27C6 27.5523 6.44772 28 7 28Z",fill:"#0D99FF"}),i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16.8582 12.9953L16.8466 12.992L12.4437 11.7366L15.7009 14.9938C15.8169 14.954 15.9412 14.9324 16.0707 14.9324C16.6993 14.9324 17.2089 15.442 17.2089 16.0707C17.2089 16.6993 16.6993 17.2089 16.0707 17.2089C15.442 17.2089 14.9324 16.6993 14.9324 16.0707C14.9324 15.9412 14.954 15.8169 14.9938 15.7009L11.7425 12.4496L12.9443 16.6419L12.9548 16.6784L12.9625 16.7156C13.26 18.1592 14.5397 19.2442 16.0707 19.2442C16.4199 19.2442 16.7541 19.1882 17.0659 19.0854L17.6507 18.8924L18.0862 19.3279L19.3171 20.5588L20.5858 19.2901L19.3411 18.0455L18.9107 17.615L19.0954 17.035C19.1918 16.7321 19.2443 16.4085 19.2443 16.0707C19.2443 14.5951 18.2363 13.3524 16.8699 12.9983L16.8582 12.9953ZM21.2929 18.583L22 19.2901L21.2929 19.9972L20.0242 21.2659L19.3171 21.973L18.61 21.2659L17.3791 20.035C16.9676 20.1708 16.5277 20.2442 16.0707 20.2442C14.0558 20.2442 12.3744 18.8165 11.983 16.9175L10.3246 11.1324L10 10L11.1329 10.323L17.1208 12.0303C18.9175 12.4959 20.2443 14.1283 20.2443 16.0707C20.2443 16.5127 20.1756 16.9386 20.0482 17.3384L21.2929 18.583Z",fill:"white"}),i.createElement("path",{d:"M20.5 8.5V6.41421V4L22.2071 5.70711L24.2929 7.79289L26 9.5H23.5858H21.5C20.9477 9.5 20.5 9.05228 20.5 8.5Z",fill:"#80CAFF"})),i.createElement("defs",null,i.createElement("clipPath",{id:"clip0_8665_306087"},i.createElement("rect",{width:"32",height:"32",fill:"white"}))))}}(e=>{e.IconAndBadgeContainer=function({children:e,className:t}){return i.createElement("div",{className:p.GG+(t?` ${t}`:"")},e)},e.BadgeContainer=function({children:e,fromBrowseResourceModal:t,resourceType:r}){let n=p.Kg;return t&&"plugin"===r?n=p.Ql:t&&"widget"===r&&(n=p.Eb),i.createElement("div",{className:n},e)}})(n||(n={}))},17844:(e,t,r)=>{"use strict";r.d(t,{w:()=>u});var n=r(307824),i=r(120304),a=r(560072),o=r(332320),l=r(321296),s=r(778112),c=r(203736),d=r(158196);let u=(0,c.U9)(function({plugin:e}){let t,r,c,u;let p=(0,i.OY)(),m=e.is_widget?(0,a.t)("community.plugins.widget"):(0,a.t)("community.plugins.plugin"),_=()=>{p(l.OW({resource:e}))};return(0,o.An)(e)?(r=(0,a.t)("community.plugins.withdraw_from_review"),t=e.roles.org?(0,a.t)("community.plugins.this_action_will_remove_your_public_resource_type_review_submission_your_resource_type_will_still_be_available_to_members_of_org_name",{resourceType:m,orgName:e.roles.org.name}):(0,a.t)("community.plugins.this_action_will_remove_your_public_resource_type_review_submission",{resourceType:m}),c=(0,a.t)("community.plugins.withdraw"),u=()=>{e.roles.org?p(l.us({pluginId:e.id,role:e.roles})):_()}):((0,s.OG)(e)?(r=(0,a.t)("community.plugins.delist_your_resource_type",{resourceType:m}),t=(0,a.t)("community.resource.delisting_this_resource_will_prevent_people_from_discovering_or_purchasing_this_resource",{resourceType:m}),c=(0,a.t)("community.resource.delist")):(r=(0,a.t)("community.plugins.unpublish_resource_type",{resourceType:m}),t=(0,a.t)("community.plugins.this_action_will_cause_your_resource_type_to_disappear_current_users_will_lose_access_to_your_resource_type_immediately_you_cannot_undo_this_action_however_if_you_publish_your_resource_type_again_later_it_will_keep_its_url",{resourceType:m}),c=(0,a.t)("community.resource.unpublish")),u=_),n.createElement(d.Co,{confirmationTitle:r,content:t,onConfirm:u,dispatch:p,confirmText:c,size:"small",destructive:!0,disableClickOutsideToHide:!0,popStack:!0})},"UnpublishPluginModal",c.Ou.YES)},261496:(e,t,r)=>{"use strict";r.d(t,{I5:()=>y,YJ:()=>b});var n=r(307824),i=r(120304),a=r(4580),o=r(570464),l=r(204792),s=r(560072),c=r(762820),d=r(555168),u=r(833492),p=r(323576),m=r(308568),_=r(740718),h=r(256896),g=r(877584),f=r(757056),E=r(760236);let y="APPLY_COMPONENT_PROP_DROPDOWN";function b({source:e,nodeField:t,iconWidth:r,defaultValue:s}){let c=n.useMemo(E.u,[]),d=n.useMemo(E.EF,[]),{containingComponentDefs:m,defReferencedBySelection:b,containingProductComponent:v}=(0,a.q)(e=>{let r=(0,f.Er)(e);return{containingProductComponent:r?e.mirror.sceneGraph.get(r):null,containingComponentDefs:c(e,r,t),defReferencedBySelection:d(e,t)}}),w=(0,i.OY)(),T=(0,u.g)(),S=n.useCallback(()=>{(0,h.Mj)(v,!0,(0,h.WK)(t),e),w(p.A5({type:g.u,data:{prePopulatedDefaultValue:s,propType:(0,h.WK)(t),refField:t}}))},[s,w,t,v,e]),C=y.concat("-",t);if(!(T&&T.type===C&&T.data.nodeField===t))return null;let A=T.data.targetRect;return n.createElement(_.Mx,{targetRect:A,maxWidth:220,lean:"right",arrowOffsetFromRectLeft:r,leanPadding:6,propagateCloseClick:!0},m.map(e=>{let r=!!b&&b.explicitDefID===e.explicitDefID;return n.createElement(I,{key:`apply-prop-${e.explicitDefID}`,action:"apply-prop",nodeField:t,defID:e.explicitDefID,name:e.name,isApplied:r,hideCheck:!b,recordingKey:o.Mx("applyProp",e.name)})}),!!m.length&&n.createElement(l.g.Separator,null),n.createElement(I,{key:"create-prop",action:"create-prop",nodeField:t,onCreate:S,isApplied:!1,hideCheck:!b,recordingKey:"openCreatePropModal"}))}let v=(e,t)=>t||("create-prop"===e?(0,s.t)("design_systems.component_properties.create_property_menu_option"):"");function I({action:e,nodeField:t,name:r,defID:i,onCreate:a,isApplied:l,hideCheck:s,...u}){let p=n.useCallback(()=>{"create-prop"===e?a&&a():d.Pc.user("add-prop-ref",()=>c.i46.addComponentPropRef(t,i))},[e,i,t,a]);return n.createElement(m.w,{text:v(e,r),inPanel:!0,isEnabled:!0,hideCheck:s,isChecked:l,onClick:p,key:e,recordingKey:o.Mx(u,t,"propDropdown")})}},256896:(e,t,r)=>{"use strict";let n,i,a;r.d(t,{AZ:()=>G,C4:()=>w,CU:()=>q,EL:()=>K,IH:()=>k,Mj:()=>A,Mx:()=>O,OE:()=>F,Ud:()=>W,W0:()=>V,W2:()=>U,WK:()=>L,Yz:()=>v,gN:()=>B,iW:()=>b,jc:()=>N,mG:()=>I,mK:()=>T,mk:()=>x,o3:()=>C,qO:()=>D,qe:()=>M,st:()=>S,wT:()=>Y,wf:()=>P,xy:()=>H,yK:()=>R});var o=r(307824),l=r(454136),s=r(811364),c=r(230200),d=r(250008),u=r(816876),p=r(560072),m=r(762820),_=r(540696),h=r(918628),g=r(552727),f=r(122112),E=r(210020),y=r(101180);let b=304,v="add-component-prop-dropdown",I="bubbled-props-picker";var w=((n=w||{})[n.DEFINITION=0]="DEFINITION",n[n.ASSIGNMENT=1]="ASSIGNMENT",n),T=((i=T||{})[i.REGULAR=0]="REGULAR",i[i.WIDE=1]="WIDE",i[i.UNBOUNDED=2]="UNBOUNDED",i[i.RESIZABLE_SIDEBAR=3]="RESIZABLE_SIDEBAR",i);function S(e){switch(e){case m.iUn.BOOL:return y.c;case m.iUn.TEXT:return E.c;case m.iUn.INSTANCE_SWAP:return f.c}}function C(e){switch(e){case m.iUn.BOOL:return o.createElement(l.S,null);case m.iUn.TEXT:return o.createElement(s.c,null);case m.iUn.INSTANCE_SWAP:return o.createElement(c.o,null)}}function A(e,t,r,n){e&&(0,d.we)("ds_component_props_def_create_modal_open",{product_component_guid:e.guid,product_component_is_state_group:e.isStateGroup,is_bottoms_up_creation:t,prop_type:m.iUn[r],source:n})}function O(e){switch(e){case m.iUn.BOOL:return(0,p.t)("design_systems.component_properties.boolean");case m.iUn.TEXT:return(0,p.t)("design_systems.component_properties.text");case m.iUn.INSTANCE_SWAP:return(0,p.t)("design_systems.component_properties.instance_swap");case m.iUn.VARIANT:return(0,p.t)("design_systems.component_properties.variant")}}function N(e,t){if((0,_.Er)(t))return _.ee;switch(e){case m.iUn.BOOL:return"true"===t;case m.iUn.TEXT:case m.iUn.INSTANCE_SWAP:return t;default:throw Error(`Unexpected component prop type: ${e}`)}}function L(e){switch(e){case h.M.VISIBLE:return m.iUn.BOOL;case h.M.TEXT:return m.iUn.TEXT;case h.M.OVERRIDDEN_SYMBOL_ID:return m.iUn.INSTANCE_SWAP}}function R(e){switch(e){case m.iUn.BOOL:return!0;case m.iUn.TEXT:return"";case m.iUn.INSTANCE_SWAP:return null;case m.iUn.VARIANT:return(0,p.t)("design_systems.states_panel.default_property_value")}}function P(e,t){switch(e){case m.iUn.INSTANCE_SWAP:return!!t;case m.iUn.TEXT||m.iUn.VARIANT:return!!(null==t?void 0:t.length);default:return!0}}let M={format:e=>e?(0,p.t)("design_systems.component_properties.boolean_true"):(0,p.t)("design_systems.component_properties.boolean_false"),isEqual:(e,t)=>e===t};function k(e,t){if(!t.length)return null;let r=e(t[0]);return r&&t.every(t=>e(t)===r)?r:null}function D(e,t){switch(e){case m._22.CONFLICTING_NAMES_ERROR:case m._22.CONFLICTING_NAMES_WITH_VARIANT_ERROR:return(0,p.t)("design_systems.component_properties.error_conflicting_name");case m._22.UNUSED_DEF_ERROR:return(0,p.t)("design_systems.component_properties.error_unused_property");default:return t?(0,p.t)("design_systems.component_properties.has_unpublished_preferred_values"):""}}function F(e,t){if(!e.length)return null;let{backingSymbolGUID:r,backingStateGroupGUID:n}=(0,g.gh)(new Set(e),t);return n&&(0,_.EH)(n)?t.get(n):r&&(0,_.EH)(r)?t.get(r):_.ee}function x(e,t,r){let n;if(t.size)return n=t.has(_.ee)?_.ee:e===m.iUn.INSTANCE_SWAP?F([...t],r):t.size>1?_.ee:t.values().next().value,N(e,n)}function U(e,t,r){return e.file_key!==r?m.i46.getDefaultStateForSubscribedStateGroup(t,e.default_state_key):m.i46.getDefaultStateForLocalStateGroup(t)}function B(e){if(e)try{return new URL(e).hostname}catch(e){}}var G=((a=G||{}).PILL="pill",a.ICON="icon",a);function V(e,t){return!!("INSTANCE"===e.type&&!e.isInstanceSublayer&&e.simplifyInstancePanels&&t.get(e.symbolId||""))&&e.hasHiddenChildrenWhenSimplified}function H(e,t){let r;if(e.length){for(let n of e){let e=t.get(n);if(!e||"INSTANCE"!==e.type)continue;let i=e.symbolId;if(i){if(void 0===r)r=i;else if(i!==r)return}}return r}}function W(e,t){let r;if(e.length){for(let n of e){let e=t.get(n);if(!e||"INSTANCE"!==e.type)continue;let i=e.symbolId;if(!i)continue;let a=t.get(i);if(!a)continue;if(a.isLooseComponent)return;let o=a.containingStateGroupId;if(o){if(void 0===r)r=o;else if(o!==r)return}}return r}}function K(e,t){var r;if(!e.length)return new Set;let n=new Set(null==(r=t[e[0]])?void 0:r.hiddenProps);return e.reduce((e,r)=>{var n;return(null==(n=t[r])?void 0:n.hiddenProps)?(0,u.q)(e,new Set(t[r].hiddenProps)):e},n)}function Y(e,t){var r;return e?(null==(r=t[e])?void 0:r.componentPropDefError)??m._22.NONE:m._22.NONE}function q(e,t){var r;let n=null==(r=t[e])?void 0:r.defs;return n?Object.values(n).sort((e,t)=>e.sortPosition<t.sortPosition?-1:1):[]}},877584:(e,t,r)=>{"use strict";r.d(t,{u:()=>R});var n=r(307824),i=r(120304),a=r(824740),o=r(87975),l=r(570464),s=r(853688),c=r(105516),d=r(148276),u=r(577824),p=r(240228),m=r(560072),_=r(317704),h=r(37864),g=r(219096),f=r(323576),E=r(762820),y=r(397888),b=r(790184),v=r(203736),I=r(777868),w=r(839046),T=r(235020),S=r(101040),C=r(256896),A=r(649600),O=r(514008),N=r(273472),L=r(730611);let R=(0,v.U9)(function(e){let{propType:t,prePopulatedDefaultValue:r,refField:v}=e,R=(0,i.OY)(),{singleSelectedNode:P,dropdownShown:M,openFileKey:k,defaultPropName:D,isInstanceSwapPickerShown:F}=(0,A.OC)({refField:v,propType:t}),x=(0,y.ct)(),[U,B]=n.useState(D),G=n.useCallback(e=>B(e.target.value),[]),{inputRef:V,inputProps:{onChange:H,onFocus:W,onMouseUp:K,onMouseLeave:Y,onKeyUp:q}}=(0,a.y)({autoFocus:!0,onChange:G}),[j,$]=n.useState(r??(0,C.yK)(t)),[Z,z]=(0,O.kL)(r,x),Q=n.useMemo(()=>t===E.iUn.INSTANCE_SWAP&&j?(0,C.OE)([j],x):null,[j,t,x]),X=(0,A.wj)({propType:t,propName:U,defaultValue:j}),J=n.useCallback(e=>{$(e)},[]),ee=e=>$(e.currentTarget.value),et=e=>{e.keyCode!==o.as.ENTER||e.shiftKey||X||en()},er=n.useCallback(()=>{R(f.oN()),R((0,h.es)())},[R]),en=(0,A.GU)({propType:t,propName:U,refField:v,preferredProductComponents:Z,defaultValue:j}),ei=n.useCallback(e=>{E.i46.wouldCreateCycleUnderParent((null==P?void 0:P.guid)||"",e)?(R(_.A.enqueue({message:(0,m.t)("design_systems.component_properties.choose_default_instance_value_cycle")})),$("")):(R(_.A.clearAll()),$(e))},[R,null==P?void 0:P.guid]),ea=(0,O._Y)(z),eo=(0,O.U7)(z),{inputRef:el,inputProps:{onFocus:es,onMouseUp:ec,onMouseLeave:ed,onKeyUp:eu,onChange:ep}}=(0,a.y)({onChange:ee}),em=(0,A.kU)({type:"create"});return n.createElement(S.i8,{initialWidth:C.iW,contentContainerClassName:L.kl,onClose:F?()=>{R((0,h.es)())}:()=>{R(f.oN())},onClick:F?()=>R((0,h.es)()):void 0,initialPosition:em,alwaysEnsureModalOnScreen:!0,disableDragging:!0,tabIndex:0,clickOutsideToHide:!0},n.createElement("div",{className:L.kt},n.createElement("p",{className:L.S6},n.createElement(m.Tx,{id:"design_systems.component_properties.create_component_property"})),n.createElement(c.CA,{onClick:er})),n.createElement(p.a,null,n.createElement("div",{className:L.uA},n.createElement("p",{className:L.YB},n.createElement(m.Tx,{id:"design_systems.component_properties.name"})),n.createElement(u.y,{ref:V,className:L.Yh,onFocus:W,onMouseUp:K,onMouseLeave:Y,onChange:H,onKeyDown:et,onKeyUp:q,value:U,placeholder:t===E.iUn.VARIANT?"Property":"",autoCorrect:"off",autoFocus:!0,recordingKey:l.Mx("componentPropName",(0,C.Mx)(t))})),n.createElement("div",{className:L.uA},n.createElement("p",{className:L.YB},n.createElement(m.Tx,{id:"design_systems.component_properties.default_value"})),t===E.iUn.BOOL?n.createElement(T.M1,{id:"create-component-prop-default-value-select",className:L.wB,property:void 0===j||j,formatter:C.qe,onChange:J,dispatch:R,dropdownShown:M,disabled:!1,recordingKey:l.Mx("componentPropDefaultValue",(0,C.Mx)(t))},n.createElement(T.cb,{value:!0,key:"true-option",recordingKey:"componentPropDefaultValue.true"},C.qe.format(!0)),n.createElement(T.cb,{value:!1,key:"false-option",recordingKey:"componentPropDefaultValue.false"},C.qe.format(!1))):t===E.iUn.TEXT?n.createElement("div",{className:L.wB},n.createElement(I.s,{className:L.Ut,onChange:ep,ref:e=>{(null==e?void 0:e.textarea)&&(el.current=e.textarea)},onFocus:es,onMouseUp:ec,onMouseLeave:ed,onKeyUp:eu,recordingKey:l.Mx("componentPropDefaultValue",(0,C.Mx)(t)),value:j||"",autoCorrect:"off"})):t===E.iUn.VARIANT?n.createElement(s.aw,{className:L.Yh,onChange:ee,onKeyDown:et,recordingKey:l.Mx("componentPropDefaultValue",(0,C.Mx)(t)),defaultValue:j||"",autoCorrect:"off"}):t===E.iUn.INSTANCE_SWAP?n.createElement("div",{className:L.wB},n.createElement(w.M,{pickerID:"create-prop-modal-instance-swap-picker",pickerWidth:212,shouldPerformSwapOnClick:!1,instanceSwapNode:Q,title:(0,m.t)("design_systems.component_properties.choose_instance"),preferredItems:Z,sceneGraph:x,onSwapCallback:e=>{R((0,g.QP)({item:e,callback:t=>{ei(e.type===b.Af.STATE_GROUP?(0,C.W2)(e,t,k):t)}}))}})):null),t===E.iUn.INSTANCE_SWAP&&n.createElement(N.m,{borderBottom:!0,recordingKey:"create-prop-modal-preferred-values-picker",swapPickerId:"create-prop-modal-preferred-values-picker",swapPickerWidth:212,addComponents:e=>ea(e,O.AK.ADD),onSetComponents:eo,removeComponents:e=>ea(e,O.AK.REMOVE),toggleComponent:e=>ea([e]),values:Z,propDefDefaultValue:(0,C.jc)(t,j)}),n.createElement(d.gV,{recordingKey:"createComponentProperty",dataTestId:"create-component-prop-button",disabled:X,className:L.ay,onClick:en,type:"submit"},n.createElement(m.Tx,{id:"design_systems.component_properties.create_property"}))))},"CreateComponentPropModal")},959872:(e,t,r)=>{"use strict";r.d(t,{c:()=>a,s:()=>i});var n=r(540696);function i(e,t){var r;let n={};for(let i of e){let e;let a=t.get(i);(e=(null==a?void 0:a.type)==="INSTANCE"?a.symbolId:(null==a?void 0:a.containingSymbolId)??(null==a?void 0:a.topmostBackingStateId))&&(null==(r=t.get(e))?void 0:r.isState)&&(n[e]||(n[e]=[]),n[e].push(i))}return n}function a(e,t,r){var i,a;if(!e)return{};let o={};for(let l of t){let t=null==(a=null==(i=e[l])?void 0:i.stateVariantProps)?void 0:a.propertyValues;if(t)for(let e of r)e in o&&o[e]!==t[e]?o[e]=o[e]&&t[e]?n.ee:"":o[e]=t[e]||""}return o}},514008:(e,t,r)=>{"use strict";let n;r.d(t,{AK:()=>L,U7:()=>k,_Y:()=>M,gb:()=>I,iR:()=>C,kL:()=>P,oL:()=>v,wn:()=>F,yu:()=>R});var i=r(307824),a=r(120304),o=r(855712),l=r(819584),s=r(268984),c=r(219096),d=r(762820),u=r(939540),p=r(97007),m=r(720656),_=r(896496),h=r(918628),g=r(790184),f=r(142548),E=r(492084),y=r(743424),b=r(757056);let v=e=>["preferredValuesInstancePicker",...e],I=e=>({"data-tooltip-type":f.wL.TEXT,"data-tooltip-show-left":!0,...(0,y.GC)(e)}),w=()=>{},T=new Promise(e=>{w=e});function S(){w(),T=new Promise(e=>{w=e})}let C=e=>`GET_MISSING_PREFERRED_PRODUCT_COMPONENTS_FOR_${e}`,A=(e,t)=>{var r;return{callback:w,promise:T,resetPromise:S,loadingKey:C(null==(r=e.getState().openFile)?void 0:r.key),callbackForComponent:t}},O=(0,s.M0)((e,{stateGroupKeys:t,componentKeys:r,callback:n})=>{c.Yf(r,t,e,A(e,n))}),N=()=>(0,o.M3)([p.ig,(e,t)=>t],(e,t)=>{let r=[],n=[];return t.forEach(t=>{let i=e[t.key];i?r.push(i):n.push(t)}),{preferredProductComponents:r,missingValues:n}});var L=((n=L||{}).ADD="ADD",n.REMOVE="REMOVE",n);function R(e){let t=(0,l.yC)(()=>{var t,r;return(null==e?void 0:e.type)!==d.iUn.INSTANCE_SWAP?[]:(t=e.type,r=e.preferredValues,t===d.iUn.INSTANCE_SWAP?r.filter(e=>"key"in e&&"string"==typeof e.key&&"type"in e&&e.type in d.qSk):[])},[e]),r=(0,a.w1)(m.UF),n=(0,i.useMemo)(()=>t.map(e=>{let t=r[e.key];return t?{type:e.type,key:t}:e}),[r,t]),o=(0,i.useMemo)(N,[]),{preferredProductComponents:s,missingValues:c}=(0,a.w1)(e=>o(e,n)),p=(0,a.OY)(),_=(0,i.useRef)(new Set),[f,E]=(0,i.useState)(!1),[y,b]=(0,i.useState)(0),v=(0,i.useCallback)(()=>b(e=>e+1),[]);return(0,i.useEffect)(()=>{let e=[],t=[];c.forEach(r=>{_.current.has(r.key)||(r.type===d.qSk.COMPONENT?e.push(r.key):t.push(r.key))}),e.length>0||t.length>0?p(O({componentKeys:e,stateGroupKeys:t,callback:r=>{r?([...e,...t].forEach(e=>_.current.add(e)),E(!1)):E(!0)}})):E(!1)},[c,p,y]),{preferredValues:s,togglePreferredValues:(0,i.useCallback)((n,i)=>{if(e&&e.kind===h.c.TYPED){let a=[...t];n.forEach(e=>{let t=(0,u.aG)(e),n=a.findIndex(e=>e.key===t||r[e.key]===t);-1!==n&&"ADD"!==i?a.splice(n,1):-1===n&&"REMOVE"!==i&&a.push({key:t,type:e.type===g.Af.COMPONENT?d.qSk.COMPONENT:d.qSk.STATE_GROUP})}),Object.keys(r).length>0&&a.forEach((e,t)=>{let n=r[e.key];n&&(a[t].key=n)}),d.i46.editInstanceSwapPreferredValues(e.explicitDefID,a)}},[e,r,t]),handleSetPreferredValues:(0,i.useCallback)(t=>{if((null==e?void 0:e.kind)!==h.c.TYPED)return;let n=t.map(e=>{let t=(0,u.aG)(e);return{key:r[t]??t,type:e.type===g.Af.COMPONENT?d.qSk.COMPONENT:d.qSk.STATE_GROUP}});d.i46.editInstanceSwapPreferredValues(e.explicitDefID,n)},[e,r]),preferredValuesFetchError:f,retryPreferredValuesFetch:v}}function P(e,t){let r=(0,a.w1)(p.Y5),n=(0,a.w1)(_.Ab),[o,l]=(0,i.useState)(()=>{let i=[];if("string"==typeof e){let a=(0,u.ic)(e,t,r,n);a&&i.push(a)}return i});return[o,l]}function M(e){return(0,i.useCallback)((t,r)=>{e(e=>{let n=[...e];return t.forEach(e=>{let t=(0,u.aG)(e),i=n.findIndex(e=>t===(0,u.aG)(e));i>-1&&"ADD"!==r?n.splice(i,1):-1===i&&"REMOVE"!==r&&n.push(e)}),n})},[e])}function k(e){return(0,i.useCallback)(t=>{e([...t])},[e])}let D=(0,E.w)(e=>(!!e.component_key||!!e.key)&&!e.unpublished_at);function F(e){let t=(0,a.w1)(b.Er),r=(0,a.w1)(p.Y5),n=(0,i.useMemo)(()=>!!t&&D(r[t]??{}),[t,r]);return(0,l.yC)(()=>n?new Set(e.filter(e=>!D(e)).map(e=>e.node_id)):new Set,[n,e])}},823848:(e,t,r)=>{"use strict";r.d(t,{Et:()=>m,M3:()=>d,q2:()=>u,yE:()=>p});var n=r(855712),i=r(540696),a=r(491776),o=r(760236),l=r(611852);let s=(0,n.M3)([o.YU],e=>e.length>0),c=(0,n.M3)([l.mc],e=>e.length>0),d=(0,n.M3)([s,c],(e,t)=>e||t),u=(0,n.M3)([a.WQ],e=>{if(!e.length)return null;let t=new Set(e.map(e=>e.textContent)),[r]=t;return 1===t.size?r:i.ee});function p(){return(0,n.M3)([(0,l.eq)(),(0,o.ey)()],(e,t)=>[...e,...t])}let m=(0,n.M3)([l.mc,o.YU],(e,t)=>[...e,...t])},757056:(e,t,r)=>{"use strict";r.d(t,{A1:()=>d,Al:()=>L,Ci:()=>p,E5:()=>b,Er:()=>y,M1:()=>E,_6:()=>M,_w:()=>D,aA:()=>u,am:()=>x,cf:()=>w,cn:()=>_,e_:()=>f,g$:()=>N,gI:()=>h,iu:()=>C,kH:()=>k,mN:()=>g,oB:()=>F,oz:()=>B,zz:()=>O});var n=r(855712),i=r(809896),a=r(720444),o=r(540696),l=r(939540),s=r(491776),c=r(256896);let d=e=>e.mirror.selectionProperties.componentProps,u=e=>e.mirror.selectionProperties.moduleProps,p=e=>e.mirror.selectionProperties.resettableComponentPropAssignments,m=(0,n.M3)([s.qs,s.qg],U),_=(0,n.M3)([s.qs,s.qg],function(e,t){return(0,c.IH)(t=>{var r;return null==(r=e.get(t))?void 0:r.containingModuleId},t)??void 0});function h(e){let{description:t,symbolDescription:r}=e.mirror.selectionProperties;return(0,o.Er)(t)||(0,o.Er)(r)?t??"":t&&t&&(t.startsWith("<")&&t.endsWith(">")||(0,i.s)(r)===t)?t:(0,o.Er)(r)?r:(0,i.s)(r??"")}let g=(0,n.M3)([s.qs,s.qg],B),f=(0,n.M3)([s.qs,s.qg],(e,t)=>{var r;let n=new Set;for(let i of t){let t=null==(r=e.get(i))?void 0:r.containingSymbolId;t&&n.add(t)}return Array.from(n)}),E=()=>(0,n.M3)([s.qs,(e,t)=>t],(e,t)=>B(e,t)??U(e,t)),y=(()=>{let e=E();return t=>e(t,(0,s.qg)(t))})(),b=(0,n.M3)([m,g],(e,t)=>e??t),v=()=>(0,n.M3)([(e,t)=>t,s.qs],(e,t)=>{let r=(0,a.Q)(e,e=>{let r=t.get(e);return!!r&&(0,l.q1)(r)});for(let n of e){let e=t.get(n),i=(null==e?void 0:e.containingStateGroupId)??(null==e?void 0:e.containingSymbolId);if(i&&i!==r)return}return r??void 0}),I=()=>(0,n.M3)([(e,t)=>t,s.qs],(e,t)=>(0,a.Q)(e,e=>{let r=t.get(e);return!!r&&(0,l.KK)(r)})??void 0);(()=>{let e=v();return t=>e(t,(0,s.qg)(t))})();let w=()=>(0,n.M3)([E(),v()],(e,t)=>e??t),T=()=>(0,n.M3)([I()],e=>e),S=(()=>{let e=w();return t=>e(t,(0,s.qg)(t))})(),C=(0,n.M3)([S,s.qs],(e,t)=>e?t.get(e):null),A=(()=>{let e=T();return t=>e(t,(0,s.qg)(t))})(),O=(0,n.M3)([A,s.qs],(e,t)=>e?t.get(e):null),N=(0,n.M3)([d,s.qg],(e,t)=>{if(e)return(0,c.IH)(t=>{var r;return null==(r=e[t])?void 0:r.containingInstance},t)??void 0}),L=()=>(0,n.M3)([d,(e,t)=>t],(e,t)=>{if(e)return(0,c.IH)(t=>{var r;return null==(r=e[t])?void 0:r.containingInstanceBackingSymbol},t)??void 0}),R=(0,n.M3)([d,s.qg],(e,t)=>{if(e)return V(e,t)}),P=(0,n.M3)([d,s.qg,s.qs],(e,t,r)=>{if(e)return G(e,t,r)}),M=()=>(0,n.M3)([d,(e,t)=>t,s.qs],(e,t,r)=>{if(!e)return;let n=[];for(let e of t){let t=r.get(e);if(!t||t.isLooseComponent||t.isState||t.isStateGroup)return;t.symbolId&&n.push(e)}return G(e,n,r)??V(e,n)}),k=(0,n.M3)([P,R],(e,t)=>t??e),D=()=>(0,n.M3)([s.qs,(e,t)=>t],(e,t)=>t.some(t=>{var r;return(null==(r=e.get(t))?void 0:r.isInstanceSublayer)??!1})),F=(()=>{let e=D();return t=>e(t,(0,s.qg)(t))})(),x=(0,n.M3)([s.WQ],e=>e.some(e=>"SYMBOL"===e.type||!!e.isStateGroup));function U(e,t){return(0,c.IH)(t=>{var r;return null==(r=e.get(t))?void 0:r.containingSymbolId},t)??void 0}function B(e,t){return(0,c.IH)(t=>{var r;return null==(r=e.get(t))?void 0:r.containingStateGroupId},t)??void 0}function G(e,t,r){return(0,c.IH)(t=>{var n,i;let a=null==(n=e[t])?void 0:n.backingSymbol;if(a)return null==(i=r.get(a))?void 0:i.containingStateGroupId},t)??void 0}function V(e,t){return(0,c.IH)(t=>{var r,n;return(null==(r=e[t])?void 0:r.backingSymbol)??(null==(n=e[t])?void 0:n.containingInstanceBackingSymbol)},t)??void 0}},760236:(e,t,r)=>{"use strict";r.d(t,{Ab:()=>h,C_:()=>I,EF:()=>w,SY:()=>b,YU:()=>y,ey:()=>A,k7:()=>O,u:()=>v,wy:()=>T,yQ:()=>C});var n=r(855712),i=r(99391),a=r(936756),o=r(560072),l=r(540696),s=r(312452),c=r(114447),d=r(491776),u=r(807200),p=r(256896),m=r(757056);let _=(0,i.MJ)([m.A1,(e,t)=>t],(e,t)=>{var r;return e&&t&&(null==(r=e[t])?void 0:r.defs)||{}});function h(){return(0,i.MJ)([_],e=>Object.values(e).sort((e,t)=>e.sortPosition<t.sortPosition?-1:1))}let g=(0,i.MJ)([m.A1,m.Er],(e,t)=>{var r;return e&&t?(null==(r=e[t])?void 0:r.defs)??{}:{}}),f=(0,i.MJ)([g],e=>Object.values(e).sort((e,t)=>e.sortPosition<t.sortPosition?-1:1).map(e=>e.name)),E=()=>(0,i.MJ)([m.A1,(0,m.cf)(),(0,m._6)()],(e,t,r)=>{var n;let i=r??t;return e&&i?Object.values((null==(n=e[i])?void 0:n.defs)||{}).sort((e,t)=>e.sortPosition<t.sortPosition?-1:1):[]}),y=(()=>{let e=E();return t=>e(t,(0,d.qg)(t))})(),b=(0,n.M3)([m.A1,d.qg,(e,t)=>t],(e,t,r)=>{if(e)return(0,p.IH)(t=>{var n,i;let a=null==(i=null==(n=e[t])?void 0:n.refs)?void 0:i[r];if((null==a?void 0:a.isLinked)===!1)return a.fallbackName},t)??void 0});function v(){return(0,i.MJ)([_,(e,t,r)=>r],(e,t)=>{let r=(0,p.WK)(t),n=Object.values(e).filter(({type:e})=>e===r);return(0,a.m0)(n,e=>e.name.toLocaleLowerCase()),n})}let I=()=>(0,n.M3)([m.A1,(0,m.M1)(),(0,m.Al)(),(e,t,r)=>t,(e,t,r)=>r],(e,t,r,n,i)=>{var a,o,l,s,c;if(!e)return null;if(t){let r=(0,p.IH)(t=>{var r,n;let a=null==(n=null==(r=e[t])?void 0:r.refs)?void 0:n[i];if(null==a?void 0:a.isLinked)return a.explicitDefID},n);if(r)return(null==(o=null==(a=e[t])?void 0:a.defs)?void 0:o[r])||null}if(r){let t=[];for(let r of n){let n=null==(l=e[r])?void 0:l.correspondingSymbolSublayer;if(!n)return null;t.push(n)}let a=(0,p.IH)(t=>{var r,n;let a=null==(n=null==(r=e[t])?void 0:r.refs)?void 0:n[i];if(null==a?void 0:a.isLinked)return a.explicitDefID},t);if(a)return(null==(c=null==(s=e[r])?void 0:s.defs)?void 0:c[a])||null}return null});function w(){let e=I();return(t,r)=>e(t,(0,d.qg)(t),r)}let T=()=>(0,n.M3)([m.A1,(e,t,r)=>t,(e,t,r)=>r],(e,t,r)=>!!e&&t.some(t=>{var n,i;return(null==(i=null==(n=e[t])?void 0:n.refs)?void 0:i[r])!==void 0})),S=()=>(0,i.MJ)([m.A1,d.qs,(e,t)=>t],(e,t,r)=>{var n,i;if(!e||0===r.length)return{};let a=(0,p.xy)(r,t),o=(0,p.Ud)(r,t)??a;if(!o)return{};let l=Object.keys((null==(n=e[o])?void 0:n.defs)??{});if(0===l.length)return{};let s={};for(let n of l){let a=null;for(let o of r){let r=t.get(o);if((null==r?void 0:r.type)!=="INSTANCE")continue;let l=null==(i=e[r.guid])?void 0:i.assignments;if(!l)continue;let s=l[n];if(null!=s){if(s.isMixed){a={isMixed:!0};break}if(null===a)a={isMixed:!1,value:s.value};else if(a.value!==s.value){a={isMixed:!0};break}}}a&&(s[n]=a)}return s}),C=(0,n.M3)([(e,t)=>t,(e,t,r)=>r,f,d.GW],(e,t,r,n)=>{if(e===s.iUn.BOOL&&t){let e=(null==n?void 0:n.name)?(0,o.t)("design_systems.component_properties.boolean_property_default_name",{selectedNodeName:n.name}):(0,o.t)("design_systems.component_properties.boolean_property_default_name_fallback",{numSelected:n?1:2});return(0,c.q)(e,r)}{let t=e===s.iUn.INSTANCE_SWAP?(0,o.t)("design_systems.component_properties.instance_swap_property_default_name"):(0,p.Mx)(e);return(0,c.q)(t,r)}});function A(){return(0,i.MJ)([d.qs,E(),S(),m.A1,(e,t)=>t],(e,t,r,n,i)=>{if(!n)return[];let a=(0,p.EL)(i,n);return t.filter(e=>!a.has(e.explicitDefID)).map(t=>{let n=t.defaultValue;if(null!=r[t.explicitDefID]){let e=r[t.explicitDefID];n=e?e.isMixed?l.ee:null==e.value?u.y:e.value:u.y}if(t.type===s.iUn.INSTANCE_SWAP&&n!==u.y&&n!==l.ee){let t=(0,p.OE)([n],e);n=t&&(0,l.EH)(t)?t.name:u.y}return[t.name,n]})})}let O=()=>(0,n.M3)([m.A1,m.Ci,d.qs,(e,t)=>t],(e,t,r,n)=>{var i,a;let o={};if(!e||!t)return o;for(let l of n)for(let n in t[l]){let s=null==(i=e[n])?void 0:i.backingSymbol;if(!s)continue;let c=(null==(a=r.get(s))?void 0:a.containingStateGroupId)||s;for(let e in o[c]||(o[c]={}),t[l][n])o[c][e]?o[c][e].instanceGUIDs.push(n):o[c][e]={name:t[l][n][e],instanceGUIDs:[n]}}return o})},611852:(e,t,r)=>{"use strict";r.d(t,{Iv:()=>g,SS:()=>E,ec:()=>y,eq:()=>h,mc:()=>f});var n=r(855712),i=r(99391),a=r(560072),o=r(762820),l=r(540696),s=r(114447),c=r(491776),d=r(918628),u=r(807200),p=r(256896),m=r(959872),_=r(757056);function h(){return(0,i.MJ)([u.Id,_.A1,c.qs,(e,t)=>t],(e,t,r,n)=>{var i;if(!t||0===n.length)return[];let o=(0,p.Ud)(n,r)??(0,_.oz)(r,n);if(!o||n.includes(o))return[];let s=null==(i=t[o])?void 0:i.stateGroupVariantProps;if(!s)return[];let c=(0,m.c)(t,n,s.propertySortOrder);return(s.propertySortOrder||[]).map(e=>{let t=c[e]||u.y;return(0,l.Er)(t)?[e,(0,a.t)("inspect_panel.property.mixed")]:[e,t]})})}let g=()=>(0,i.MJ)([_.A1,(0,_.cf)(),(0,_._6)()],(e,t,r)=>{if(!e)return[];let n=r??t;return n?y(n,e):[]}),f=(()=>{let e=g();return t=>e(t,(0,c.qg)(t))})(),E=(0,n.M3)([f],e=>{let t=e.map(e=>e.name),r=(0,a.t)("design_systems.component_properties.variant_property_default_name");return(0,s.q)(r,t)});function y(e,t){var r;let n=null==(r=t[e])?void 0:r.stateGroupVariantProps;if(!n)return[];let i=(0,p.CU)(e,t),a=(0,p.wT)(e,t);return n.propertySortOrder.map(e=>{let t=a===o._22.CONFLICTING_NAMES_WITH_VARIANT_ERROR&&i.some(t=>t.name===e),r=n.propertyValues[e];return{name:e,values:r,type:o.iUn.VARIANT,kind:d.c.VARIANT,error:t?o._22.CONFLICTING_NAMES_WITH_VARIANT_ERROR:o._22.NONE}})}},513568:(e,t,r)=>{"use strict";r.d(t,{CG:()=>y,G_:()=>O,IN:()=>S,O8:()=>b,OK:()=>C,OW:()=>P,Qh:()=>I,SC:()=>L,_2:()=>R,gv:()=>v,iA:()=>M,oN:()=>w,q6:()=>E,s$:()=>k,sv:()=>A,wB:()=>T});var n=r(307824),i=r(515724),a=r(560072),o=r(813096),l=r(23604),s=r(282528),c=r(540696),d=r(570012),u=r(142548),p=r(971152),m=r(385228),_=r(736456),h=r(509972),g=r(762464);let f={scrubMultiplier:1,wheelMultiplier:1,smallNudgeAmount:o.a2,bigNudgeAmount:o.e2};function E(e){let{onValueChange:t}=e,r=(0,n.useCallback)(e=>null==t?void 0:t(e,d.MO.YES),[t]),i=e.isTokenizable?_.S:m.IJ;return n.createElement(h.a,{...f,...e,scrubbingDisabled:e.scrubbingDisabled||e.disabled||null==e.value||e.value===c.ee&&!e.mixedMathHandler},e.childrenAtEnd?null:e.children,n.createElement(i,{onKeyDown:e.onKeyDown,onKeyUp:e.onKeyUp,recordingKey:e.recordingKey,className:e.inputClassName,dataTestId:e.dataTestId,noLeftBorder:e.noLeftBorder,squareRightBorder:e.squareRightBorder,formatter:e.formatter,property:e.value??null,onMouseDown:s.Ii,onChange:r,allowEmpty:e.allowEmpty,mixedMathHandler:e.mixedMathHandler,mixedMathCallback:e.mixedMathCallback,onFocus:e.onFocus,onBlur:e.onBlur,onClick:e.onClick,onMixedMathNudge:e.onMixedMathNudge,disabled:e.disabled??null===e.value,placeholder:e.placeholder,autoFocus:e.autoFocus,noBorderOnFocus:!0,forwardedRef:e.forwardedRef}),e.childrenAtEnd?e.children:null)}function y({onMouseEnter:e,onMouseLeave:t,onMouseEnterNonPropagating:r,...i}){let a={...f,...i,noBorderOnFocus:i.noBorderOnFocus||i.disableSelectFocus};return n.createElement("div",{className:i.className},n.createElement(p.Q1,{id:i.id,inputClassName:i.inputClassName,dropdownClassName:i.dropdownClassName,dropdownWidth:i.dropdownWidth,willShowDropdown:i.willShowDropdown,formatter:i.formatter,property:i.value,onChange:(e,t=d.MO.YES)=>{var r;null==(r=i.onValueChange)||r.call(i,e,t)},onKeyDown:i.onKeyDown,onKeyUp:i.onKeyUp,onInputFocus:i.onFocus,onInputBlur:i.onBlur,onMouseEnter:e,onMouseEnterNonPropagating:r,onMouseLeave:t,mixedMathHandler:i.mixedMathHandler,dispatch:i.dispatch,disabled:i.disabled,dropdownShown:i.dropdownShown,autoFocus:i.autoFocus,recordingKey:i.recordingKey,scrubbableControlProps:a,svg:i.svg,fallbackSvg:i.fallbackSvg,icon:i.label,ui3Icon:i.ui3Icon,forwardedRef:i.forwardedRef,isTokenizable:i.isTokenizable,dataTestId:i.dataTestId,allowEmpty:i.allowEmpty,unNamespacedInputRecordingKey:i.unNamespacedInputRecordingKey,placeholder:i.placeholder,omitValueFromDropdown:i.omitValueFromDropdown,noPlaceholderLine:i.noPlaceholderLine,onboardingKey:i.onboardingKey,disableSelectFocus:i.disableSelectFocus,openBelowTarget:i.openBelowTarget,chevronClassName:i.chevronClassName,dropdownAlignment:i.dropdownAlignment,enablePreview:i.enablePreview,optionsWithDisabledPreviews:i.optionsWithDisabledPreviews},i.children))}function b(e){let{min:t,max:r,smallNudgeAmount:i,bigNudgeAmount:a,formatter:o}=e,s=(0,n.useMemo)(()=>new l.kb({min:t,max:r,smallNudgeAmount:i,bigNudgeAmount:a}),[t,r,i,a]);return n.createElement(y,{...e,formatter:o??s})}function v(e){let{min:t,max:r,smallNudgeAmount:i,bigNudgeAmount:a}=e,o=(0,n.useMemo)(()=>new l.kv({min:t,max:r,smallNudgeAmount:i,bigNudgeAmount:a}),[t,r,i,a]);return n.createElement(E,{...e,formatter:o})}function I(e){let{min:t,max:r,smallNudgeAmount:i,bigNudgeAmount:a,onEvaluateExpressionError:o}=e,s=(0,n.useMemo)(()=>new l.kb({min:t,max:r,smallNudgeAmount:i,bigNudgeAmount:a,onEvaluateExpressionError:o}),[t,r,i,a,o]);return n.createElement(E,{...e,formatter:s})}function w({min:e=0,max:t,floatingPointFormat:r,onEvaluateExpressionError:i,...a}){let{smallNudgeAmount:o,bigNudgeAmount:s}=a,c=(0,n.useMemo)(()=>new l.kb({min:Math.max(e,0),max:t,smallNudgeAmount:o,bigNudgeAmount:s,floatingPointFormat:r,onEvaluateExpressionError:i}),[e,t,o,s,r,i]);return n.createElement(E,{...a,formatter:c})}function T({min:e=0,max:t,...r}){let{smallNudgeAmount:i,bigNudgeAmount:a}=r,o=(0,n.useRef)(!1),s=(0,n.useMemo)(()=>new l.ii({min:Math.max(e,0),max:t,smallNudgeAmount:i,bigNudgeAmount:a}),[e,t,i,a]),u=(0,c.Er)(r.value)&&r.mixedMathHandler,p=r.disabled||r.scrubbingDisabled||"number"!=typeof r.value&&!Array.isArray(r.value)&&!u,g=r.isTokenizable?_.S:m.IJ;return n.createElement(h.a,{...f,...r,formatter:s,scrubbingDisabled:p,onScrubBegin:e=>{var t;o.current=!0,null==(t=r.onScrubBegin)||t.call(r,e)},onScrubEnd:e=>{var t;o.current=!1,null==(t=r.onScrubEnd)||t.call(r,e)},className:r.className},r.children,n.createElement(g,{forwardedRef:r.forwardedRef,disabled:r.disabled,className:r.inputClassName,formatter:s,property:r.value??null,source:o.current?"scrub":"document",onChange:e=>r.onValueChange(e,d.MO.YES),mixedMathHandler:r.mixedMathHandler,onMixedMathNudge:r.onMixedMathNudge,onBlur:r.onBlur,onFocus:r.onFocus,onNudge:r.onNudge,onKeyDown:r.onKeyDown,onClick:r.onClick,onPaste:r.onPaste,recordingKey:r.recordingKey,noBorderOnFocus:!0,shouldClearOnFocus:r.shouldClearOnFocus,placeholder:r.placeholder,dataTestId:r.dataTestId}))}function S({min:e,max:t,allowEmpty:r,...i}){let{smallNudgeAmount:a,bigNudgeAmount:o}=i,s=(0,n.useRef)(!1),u=(0,n.useMemo)(()=>new l.Ab({min:e,max:t,smallNudgeAmount:a,bigNudgeAmount:o,allowEmpty:r}),[e,t,a,o,r]),p=(0,c.Er)(i.value)&&i.mixedMathHandler,g=i.disabled||i.scrubbingDisabled||"number"!=typeof i.value&&!p,E=i.isTokenizable?_.S:m.IJ;return n.createElement(h.a,{...f,...i,formatter:u,scrubbingDisabled:g,onScrubBegin:e=>{var t;s.current=!0,null==(t=i.onScrubBegin)||t.call(i,e)},onScrubEnd:e=>{var t;s.current=!1,null==(t=i.onScrubEnd)||t.call(i,e)},className:i.className},i.children,n.createElement(E,{forwardedRef:i.forwardedRef,disabled:i.disabled,className:i.inputClassName,formatter:u,property:i.value??null,source:s.current?"scrub":"document",allowEmpty:r,onChange:e=>i.onValueChange(e,d.MO.YES),mixedMathHandler:i.mixedMathHandler,onMixedMathNudge:i.onMixedMathNudge,onBlur:i.onBlur,onFocus:i.onFocus,onNudge:i.onNudge,onKeyDown:i.onKeyDown,onPaste:i.onPaste,recordingKey:i.recordingKey,noBorderOnFocus:!0,shouldClearOnFocus:i.shouldClearOnFocus,placeholder:i.placeholder,dataTestId:i.dataTestId}))}function C({min:e=.001,max:t=10,resolution:r=.001,...i}){let a=(0,n.useMemo)(()=>new l.US(l.e6.MILLISECONDS,t,e),[t,e]);return n.createElement(E,{...i,resolution:r,formatter:a})}function A({min:e=.001,max:t=10,resolution:r=.001,...i}){let a=(0,n.useMemo)(()=>new l.US(l.e6.SECONDS,t,e),[t,e]);return n.createElement(E,{...i,resolution:r,formatter:a})}function O({max:e=3600,displayFractions:t=!1,...r}){let i=(0,n.useMemo)(()=>new l.Gi(e,t),[e,t]);return n.createElement(E,{...r,formatter:i})}let N={...f,scrubMultiplier:4,wheelMultiplier:2};function L({min:e=0,max:t=1,decimals:r,hidePercentSign:i,...a}){let{smallNudgeAmount:o,bigNudgeAmount:s}=a,c=(0,n.useMemo)(()=>new l.OI({min:e,max:t,smallNudgeAmount:o,bigNudgeAmount:s,decimals:r,hidePercentSign:i}),[e,t,o,s,r,i]);return n.createElement(E,{...N,...a,formatter:c,postScrubMultiplier:.001,postBigNudgeAmount:.1})}function R(e){let t="ui3"===(0,i.qG)().version,{inputClassName:r,...o}=e,l=e.ui3RightJustifyPercentSign??!0;return t?n.createElement(L,{...o,inputClassName:`${g.m2} ${r}`,"data-tooltip-type":u.wL.TEXT,"data-tooltip":(0,a.t)("fullscreen.scrubbable.opacity"),tooltipForScreenReadersOnly:!0,hidePercentSign:l,childrenAtEnd:l},l?n.createElement("span",{className:g.CA},n.createElement(a.Tx,{id:"fullscreen.scrubbable.percent"})):e.children):n.createElement(L,{...e,"data-tooltip-type":u.wL.TEXT,"data-tooltip":(0,a.t)("fullscreen.scrubbable.opacity"),tooltipForScreenReadersOnly:!0})}function P(e){let{smallNudgeAmount:t,bigNudgeAmount:r}=e,i=(0,n.useMemo)(()=>new l.RX({smallNudgeAmount:t,bigNudgeAmount:r}),[t,r]);return n.createElement(E,{...e,formatter:i,postScrubMultiplier:-.5,postWheelMultiplier:-.2,postBigNudgeAmount:.1})}function M(e){let t=(0,n.useMemo)(()=>new l.RX({min:7.16,max:180}),[]);return n.createElement(E,{...e,formatter:t,postScrubMultiplier:.5,postBigNudgeAmount:.1,postWheelMultiplier:.2})}function k(e){let{min:t,smallNudgeAmount:r=o.a2,bigNudgeAmount:i=o.e2,formatter:a}=e,s=(0,n.useRef)(!1),c=(0,n.useMemo)(()=>a??new l._M({min:t,smallPixelNudgeAmount:r,bigPixelNudgeAmount:i}),[t,r,i,a]),u=e.isTokenizable?_.S:m.IJ;return n.createElement(h.a,{...f,"data-tooltip-type":e["data-tooltip-type"],"data-tooltip":e["data-tooltip"],tooltipForScreenReadersOnly:e.tooltipForScreenReadersOnly,className:e.className,value:e.value,onValueChange:e.onValueChange,smallNudgeAmount:r,bigNudgeAmount:i,scrubMultiplier:e.scrubMultiplier,disabled:e.disabled,scrubbingDisabled:e.disabled,dispatch:e.dispatch,formatter:c,onScrubBegin:()=>{s.current=!0},onScrubEnd:()=>{s.current=!1},noBorderOnHover:e.noBorderOnHover},e.children,n.createElement(u,{disabled:e.disabled,className:e.inputClassName,formatter:c,property:e.value,source:s.current?"scrub":"document",onChange:t=>e.onValueChange(t,d.MO.YES),recordingKey:e.recordingKey,noBorderOnFocus:!0,shouldClearOnFocus:e.shouldClearOnFocus,placeholder:e.placeholder}))}},381748:(e,t,r)=>{"use strict";r.d(t,{SG:()=>w,ai:()=>v,eY:()=>I});var n=r(307824),i=r(125504),a=r.n(i),o=r(21036),l=r(570464),s=r(537096),c=r(560072),d=r(373224),u=r(784340),p=r(833492),m=r(142548),_=r(159624),h=r(369528),g=r(184e3),f=r(238708),E=r(667300),y=r(940020);let b=n.forwardRef(function({children:e,disabled:t,icon:r,inputClassName:i,isActive:o,nonTextChild:l,noBorder:s,onMouseDownCapture:c,onContextMenuCapture:d},u){return n.createElement("div",{ref:u,className:a()(i,{[E.qO]:!0,[E.XD]:o,[E.yy]:!s,[E.SE]:t,[E.c9]:l}),onMouseDownCapture:c,onContextMenuCapture:d},n.createElement("div",{className:E.IV},e),!t&&r)}),v=n.forwardRef(function({inputClassName:e,inputRef:t,currentFieldValue:r,recordingKey:i,disabled:d,children:u,hideIcon:_=!1,nonTextChild:v,isActive:I,onPickerOpen:w,disableEntryPoint:T=!1,noBorder:S,hasBindingContextMenu:C},A){var O,N;let L=n.useId(),R=(0,n.useContext)(h.m),P=(0,n.useRef)(null),M=(0,g._O)(),{showing:k,show:D,data:F,hide:x}=(0,p.s)(f.U+L),U=n.useCallback(()=>{w?w():null==R||R.showBindingUI(P.current,{currentFieldValue:r}),x()},[r,x,w,R]),B=n.useCallback(()=>{var e;null==(e=null==R?void 0:R.onVariableSelected)||e.call(R,void 0),x()},[x,R]),G=l.S4(i,"mousedown",e=>{if(e&&!T&&e.shiftKey){U(),e.preventDefault(),e.stopPropagation();return}}),V=l.S4(i,"contextmenu",e=>{e&&!T&&C&&(null==t?void 0:t.current)&&(D({data:{position:{top:e.clientY,left:e.clientX}}}),e.preventDefault(),e.stopPropagation())});return n.createElement(n.Fragment,null,n.createElement(b,{recordingKey:i,inputClassName:e,disabled:d,isActive:null!=I?I:!!(null==R?void 0:R.isShowingBindingUI),ref:(0,o.c)(A,P),onMouseDownCapture:G,onContextMenuCapture:V,nonTextChild:v,noBorder:S,icon:_||T?void 0:n.createElement(s.A,{recordingKey:l.Mx(i,"comboBoxButton"),className:a()(E.Kk),role:"button",ariaLabel:(0,c.t)("fullscreen.properties_panel.apply_variable"),"data-tooltip-type":M?m.wL.TEXT:void 0,"data-tooltip":M?(0,c.t)("fullscreen.properties_panel.apply_variable"):void 0,svg:y.default,onClick:U,dataTestId:l.Mx("variable-control-icon",i??"")})},u),C&&t&&k&&"number"==typeof(null==(O=null==F?void 0:F.position)?void 0:O.top)&&"number"==typeof(null==(N=null==F?void 0:F.position)?void 0:N.left)&&n.createElement(f.A,{inputRef:t,isBound:!!(null==R?void 0:R.boundVariableId),left:F.position.left,onClose:x,onOpenVariablePicker:U,onUnbindVariable:B,recordingKey:l.Mx(i,"contextMenu"),top:F.position.top}))});function I({fields:e,currentFieldValue:t,resolvedType:r,editingStyleGuid:i,inputClassName:a,inputRef:o,disabled:l,recordingKey:s,disableEntryPoint:c,hideIcon:d,noBorder:p,children:m,hasBindingContextMenu:h}){let g=(0,u.OG)(e).data??[];return n.createElement(_.I5,{fields:e,resolvedType:r,editingStyleGuid:i},n.createElement(v,{recordingKey:s,inputClassName:a,inputRef:o,disabled:l,currentFieldValue:t,disableEntryPoint:!!c||0===g.length,hideIcon:d,noBorder:p,hasBindingContextMenu:h},m))}let w=n.forwardRef(function({currentFieldValue:e,disabled:t,isActive:r,recordingKey:i,children:s,onPickerOpen:c,dataTestId:u},p){let m=(0,n.useContext)(h.m),_=(0,n.useRef)(null),g=n.useCallback(()=>{c?c():null==m||m.showBindingUI(_.current,{currentFieldValue:e})},[e,c,m]),f=l.S4(i,"mousedown",e=>{if(e&&!t){if((0,d.g)(e)){e.preventDefault(),e.stopPropagation();return}if(e.shiftKey&&1&e.buttons){g(),e.preventDefault(),e.stopPropagation();return}}}),y=l.S4(i,"contextmenu",e=>{e&&!t&&(g(),e.preventDefault(),e.stopPropagation())});return n.createElement("div",{ref:(0,o.c)(p,_),className:a()({[E.Kc]:!0,[E.G]:r}),onMouseDownCapture:f,onContextMenu:y,"data-testid":u},s)})},235528:(e,t,r)=>{"use strict";r.d(t,{GO:()=>u,g$:()=>p});var n=r(307824),i=r(120304),a=r(899116),o=r(849208),l=r(919364);function s(e){switch(e){case"default":return"color_management_desktop_app_setting_default";case"unmanaged":return"color_management_desktop_app_setting_unmanaged";case"managed":return"color_management_desktop_app_setting_managed";case"srgb":return"color_management_desktop_app_setting_srgb"}}function c(e,t){return e.getState().userFlags[t]}function d(e,t,r){let{isDefault:n,isManaged:i,isSrgb:a,isUnmanaged:l}=t,c={};n&&"default"!==r&&(c.color_management_desktop_app_setting_default=!1),l&&"unmanaged"!==r&&(c.color_management_desktop_app_setting_unmanaged=!1),i&&"managed"!==r&&(c.color_management_desktop_app_setting_managed=!1),a&&"srgb"!==r&&(c.color_management_desktop_app_setting_srgb=!1);let d=n&&"default"===r||l&&"unmanaged"===r||i&&"managed"===r||a&&"srgb"===r;void 0===r||d||(c[s(r)]=!0),Object.keys(c).length>0&&e(o.s(c))}function u(e){var t;if(!a.sZ)return;let r=null==(t=a.sZ)?void 0:t.getLegacyColorSpacePreference();d(e.dispatch,{isDefault:!!c(e,s("default")),isUnmanaged:!!c(e,s("unmanaged")),isManaged:!!c(e,s("managed")),isSrgb:!!c(e,s("srgb"))},r)}function p(){let e=!!(0,l.e)(s("default")),t=!!(0,l.e)(s("unmanaged")),r=!!(0,l.e)(s("managed")),a=!!(0,l.e)(s("srgb")),o=(0,i.OY)(),c=n.useCallback(n=>{d(o,{isDefault:e,isUnmanaged:t,isManaged:r,isSrgb:a},n)},[o,e,r,a,t]),u=null;return e&&(u="default"),t&&(u="unmanaged"),r&&(u="managed"),a&&(u="srgb"),[u,c]}},514684:(e,t,r)=>{"use strict";let n;r.d(t,{Eb:()=>f,GM:()=>y,gv:()=>E});var i=r(307824),a=r(120304),o=r(125504),l=r.n(o),s=r(148276),c=r(698240),d=r(560072),u=r(948544),p=r(447740),m=r(846004),_=r(572748),h=r(49192),g=r(992556),f=((n=f||{})[n.LARGE=0]="LARGE",n[n.MEDIUM=1]="MEDIUM",n[n.SMALL=2]="SMALL",n);function E({size:e=1,useCurrentFileAsThumbnail:t=!1}){var r;let n=(0,_.Ce)(),o=(0,a.w1)(e=>e.user),s=(0,a.w1)(e=>e.openFile),c=null==s?void 0:s.key,d=(0,m.wp)(),p={modalGraphic:g.GI,orgAvatar:g.wV,userAvatar:g.cn,exampleFileThumbnail:g.UT,thumbnailContainer:g.iW,avatar:g.Mr,thumbnailInnerContainer:g.Sc},f={modalGraphic:g.Yr,orgAvatar:g.uW,userAvatar:g.ao,exampleFileThumbnail:g.CC,thumbnailContainer:g.S4,avatar:g.K6,thumbnailInnerContainer:g.cp},E={2:{modalGraphic:g.M7,orgAvatar:g.O4,userAvatar:g.gB,exampleFileThumbnail:g.aA,thumbnailContainer:g.cD,avatar:g.Oy,thumbnailInnerContainer:g.cp},1:f,0:p}[e],y=i.createElement("img",{src:"https://static.figma.com/uploads/b13789723ab5e9138ab263193f7d82aff4c47674",alt:"",className:g.qm});if(void 0!==c&&t){let e=null==(r=d[c])?void 0:r.thumbnail_url;e&&(y=i.createElement("img",{src:e,alt:"",className:g.qm}))}return i.createElement("div",{className:E.modalGraphic},i.createElement("img",{src:"https://static.figma.com/uploads/f290b00b2b225be3eb5056cb4473d87953764837",alt:"",className:E.exampleFileThumbnail}),o&&i.createElement(h.c,{className:l()(E.avatar,E.orgAvatar),userId:o.id,orgId:null==n?void 0:n.id,size:2===e?16:1===e?24:32}),o&&i.createElement("div",{className:l()(E.avatar,E.userAvatar)},i.createElement(u.iO,{user:o,size:2===e?u.Qt.SMALL16:1===e?u.Qt.MEDIUM:u.Qt.LARGE})),i.createElement("div",{className:E.thumbnailContainer},i.createElement("div",{className:E.thumbnailInnerContainer},y)))}function y(){return i.createElement("div",null,i.createElement(E,{size:0,useCurrentFileAsThumbnail:!0}),i.createElement("div",{className:c.cx.p16.font11.$},i.createElement(d.Tx,{id:"whiteboard.inserts.custom_templates_description"})),i.createElement("div",{className:c.cx.flex.justifyEnd.mx16.mb16.$},i.createElement(s.G0,{target:"_blank",href:p.a},i.createElement(d.Tx,{id:"whiteboard.inserts.learn_more"}))))}},444988:(e,t,r)=>{"use strict";let n;r.d(t,{GM:()=>m,M9:()=>h,Sw:()=>p,UD:()=>u,gr:()=>d,yG:()=>s,ye:()=>_});var i=r(752648),a=r(623131),o=r(372152),l=r(365224),s=((n=s||{}).STICKY="STICKY",n.STAMP="STAMP",n.PAN="PAN",n.ZOOM="ZOOM",n);let c=Object.values(s),d=(0,i.oR)({onboardingCanShow:!1,shownTooltips:new Set(c)},(e,t)=>{switch(t.type){case"INITIALIZE_ONBOARDING":{let t=new Set(c);return{...e,onboardingCanShow:!0,shownTooltips:t}}case"DISMISS_ONBOARDING":return{...e,shownTooltips:new Set};case"DISMISS_TOOLTIP":{let r=new Set([...e.shownTooltips]);return r.delete(t.tooltip),{...e,shownTooltips:r}}case"SHOW_TOOLTIP":{let r=new Set([...e.shownTooltips]);return r.add(t.tooltip),{...e,shownTooltips:r}}}}),u=(0,a.Zf)(e=>{let{onboardingCanShow:t,shownTooltips:r}=e(d);return t&&!r.size});function p(e){let t=(0,o.m4)(d);return t.onboardingCanShow&&t.shownTooltips.has(e)}function m(e){let t=(0,o.m4)(d);return t.onboardingCanShow&&!t.shownTooltips.has(e)}function _(){return(0,o.m4)(d).onboardingCanShow}function h(){let e=(0,l.my)(d);return()=>{e({type:"DISMISS_TOOLTIP",tooltip:"PAN"}),e({type:"DISMISS_TOOLTIP",tooltip:"ZOOM"})}}},738048:(e,t,r)=>{"use strict";r.d(t,{QX:()=>l,WE:()=>o,qG:()=>a,rR:()=>s});var n=r(762820);function i(){return new Date(Date.now()-6e4)}function a(e){return null!==e&&e.createdAt>i()}function o(e){return[n.w3X.NONE,n.w3X.SELECT].includes(e)}function l(e,t){return t===(null==e?void 0:e.creatorId)}function s(e){return!!e&&e.createdAt>i()}},414200:(e,t,r)=>{"use strict";r.d(t,{G:()=>o,i:()=>a});var n=r(242988);let i=()=>Date.now()-12096e5;function a({userCreatedAt:e,lastUsedFigjamDate:t,hasSeenOverlayV2:r}){return!!(e.getTime()<=i()&&(null==t||t.getTime()<=i()))&&!r}function o(e,t=[]){return null==e.data||t.includes(e.data)||!n.Sw.includes(e.data)?"other":e.data}},663196:(e,t,r)=>{"use strict";r.d(t,{c:()=>N,o:()=>S});var n=r(307824),i=r(120304),a=r(760780),o=r(623131),l=r(372152),s=r(365224),c=r(849208),d=r(974636),u=r(122548),p=r(440772),m=r(283620),_=r(313373),h=r(805220),g=r(35880),f=r(392992),E=r(362592),y=r(187044),b=r(816616),v=r(505752),I=r(655164),w=r(26048),T=r(881467);let S=(0,o.Zf)(!1),C=()=>new Date(Date.now()-1e4),A="Move Drafts Nudge -",O=(0,h.y_)("dismissed_move_drafts_nudge");function N(){let e=(0,l.m4)(f.qK),t=(0,l.m4)(_.m2),r=(0,l.m4)(h.wB),o=(0,l.m4)(m.DW),N=(0,l.m4)(_.of),L=(0,l.m4)(m.y8),R=(0,l.m4)(p._),P=(0,l.m4)(O),M=(0,s.my)(S),k=(0,d.W)({overlay:T.Q$R,priority:E.g.SECONDARY_MODAL},[R,t,r,o,N,L,P]),{currentStep:D,next:F}=(0,u.c)({numSteps:2,onComplete:k.complete}),x=(0,i.OY)();return(0,a.u)(()=>{null!=e&&e.canEdit&&e.createdAt>C()&&k.show({canShow:(e,t,r,n,i,a,o)=>t===y._O.PERSONAL&&a&&n&&!(0,g.WM)(r,"ran_move_drafts_nudge_machine")&&(x(c.s({ran_move_drafts_nudge_machine:!0})),!0)&&!o&&!!i&&!!e,onShow:()=>{M(!0)}})}),n.createElement(b.y,{currentStep:D,isShowing:k.isShowing},n.createElement(v.m,{isShowing:k.isShowing,modalType:w.GK.SELF_CONTAINED,trackingContextName:`${A} Main nudge`,element:I.yk,onClickPrimaryCta:F,onManualDismiss:k.complete,testId:"move_drafts_main_nudge",onClose:k.complete}),n.createElement(v.m,{isShowing:k.isShowing,modalType:w.GK.SELF_CONTAINED,trackingContextName:`${A} Dropdown highlight`,element:I.uc,onClickPrimaryCta:F,onManualDismiss:k.complete,onClose:k.complete}))}},982060:(e,t,r)=>{"use strict";r.d(t,{O:()=>I,e:()=>v});var n=r(307824),i=r(120304),a=r(372152),o=r(849208),l=r(600928),s=r(974636),c=r(283620),d=r(313373),u=r(805220),p=r(35880),m=r(472956),_=r(362592),h=r(187044),g=r(505752),f=r(655164),E=r(26048),y=r(881467),b=r(663196);let v="Node Count Reached for Draft";function I(){let e=(0,n.useRef)(!1),t=(0,a.m4)(c.eE),r=(0,a.m4)(c.DW),I=(0,a.m4)(d.of),w=(0,a.m4)(c.y8),T=(0,a.m4)(d.m2),S=(0,a.m4)(u.wB),C=(0,a.m4)(b.o),A=(0,a.m4)((0,m.yCo)({orgId:null})),O=(0,i.OY)(),N=(0,i.w1)(e=>{var t,r,n;let i=null==(r=null==(t=null==e?void 0:e.mirror)?void 0:t.appModel)?void 0:r.currentPage,a=null==(n=null==e?void 0:e.mirror)?void 0:n.sceneGraph,o=null==a?void 0:a.get(i);return!!o&&(!o.childrenNodes.length||o.childrenAreAllGhosts)}),L=(0,s.W)({overlay:y.Yhy,priority:_.g.SECONDARY_MODAL},[I,r,w,T,S,A]),R=(0,n.useCallback)(()=>{!t||e.current||C||N||L.show({canShow(e,t,r,n,i,a){var l,s;let c=0===((null==(s=null==(l=null==a?void 0:a.currentUser)?void 0:l.teamEditRoles)?void 0:s.map(e=>e.team))??[]).filter(e=>e&&e.projects&&e.projects.length>0).length;return e&&t&&r&&n===h._O.PERSONAL&&!c&&!(0,p.QP)(i,"ran_move_drafts_nudge_v2_num_3")&&((0,p.QP)(i,"ran_move_drafts_nudge_v2_num_2")?!(0,p.WM)(i,"ran_move_drafts_nudge_v2_num_2")&&(O(o.s({ran_move_drafts_nudge_v2_num_3:!0})),!0):(0,p.QP)(i,"ran_move_drafts_nudge_v2_num_1")?!(0,p.WM)(i,"ran_move_drafts_nudge_v2_num_1")&&(O(o.s({ran_move_drafts_nudge_v2_num_2:!0})),!0):(O(o.s({ran_move_drafts_nudge_v2_num_1:!0})),!0))},onShow(){e.current=!0}})},[t,N,O,C,L]),P=(0,n.useCallback)(({dismissModal:e,onClickPrimaryCta:t})=>n.createElement(f.yS,{dismissModal:e,onClickPrimaryCta:t}),[]);return(0,l.y)(L.uniqueId,v,R),n.createElement(g.m,{isShowing:L.isShowing,modalType:E.GK.SELF_CONTAINED,trackingContextName:"Move Drafts Nudge - Team nudge",element:P,onClickPrimaryCta:()=>{O(o.s({ran_move_drafts_nudge_v2_num_3:!0})),L.complete()},onClose:L.complete,onManualDismiss:L.complete})}},641196:(e,t,r)=>{"use strict";let n;r.d(t,{K2:()=>s,_q:()=>o,kv:()=>l});var i=r(623131),a=r(962868),o=((n=o||{}).NOT_STARTED="NOT_STARTED",n.MODAL_SHOWING="MODAL_SHOWING",n.USE_CASE_STEPS="USE_CASE_STEPS",n.COMPLETED="COMPLETED",n);let l=(0,i.Zf)("NOT_STARTED"),s=(0,i.Zf)(a.sx.NONE)},198416:(e,t,r)=>{"use strict";r.d(t,{Ib:()=>y,O:()=>E});var n=r(307824),i=r(120304),a=r(125504),o=r.n(a),l=r(4580),s=r(326660),c=r(148276),d=r(703520),u=r(560072),p=r(46604),m=r(866368),_=r(39676),h=r(124664),g=r(553432),f=r(347e3);function E(e){let t=(0,i.OY)(),r=(0,l.q)(e=>{let t=(0,h.AX)(e.fileByKey,(0,g.getPermissionsState)(e)),r=m.w7.loadingKeyForPayload();return{isLoading:(0,_.K0)(e.loadingState,r),tutorialFileUrl:t,shouldShowLoadingState:!t,didFail:(0,_.ay)(e.loadingState,r)}});n.useEffect(()=>{r.tutorialFileUrl||r.isLoading||t(m.w7())},[]);let{dismissModal:a}=e;return n.useEffect(()=>{r.didFail&&(a(),y("failure","curator"))},[r.didFail,a]),n.useEffect(()=>{let e=setTimeout(()=>{r.isLoading&&y("timeout","curator")},5e3);return()=>clearTimeout(e)},[r.isLoading]),n.createElement("div",{className:f.iB},n.createElement("div",{className:f.Ab},n.createElement("div",{className:f.mm},n.createElement("div",{className:f.W8},n.createElement("div",{className:f.a2},n.createElement("img",{className:f.c$,src:"https://static.figma.com/uploads/964c3ddf18b0f2712b664efde991dfc4f2c58eb8",alt:""})),n.createElement("div",{className:o()({[f.oM]:!0,[f.i4]:!0})},n.createElement("div",{className:f._y},n.createElement(u.Tx,{id:"rcs.figjam_onboarding.for_more_tips_and_tricks_here_s_a_2_minute_hands_on_tutorial"})),n.createElement("div",{className:f.o3},n.createElement("div",{className:f.s7,onClick:e.dismissModal},n.createElement(u.Tx,{id:"rcs.figjam_onboarding.maybe_later"})),n.createElement(c.Uv,{className:r.shouldShowLoadingState?f.Om:f.q0,onClick:()=>{if(r.tutorialFileUrl){var n;n=r.tutorialFileUrl,t(p.Eh({url:n}))}e.dismissModal()},disabled:r.shouldShowLoadingState},r.shouldShowLoadingState?n.createElement(d.M7,{className:f.aV}):n.createElement(u.Tx,{id:"rcs.figjam_onboarding.open_tutorial"}))))))))}function y(e,t){(0,s.CQ)("type",e),(0,s.CQ)("source",t),(0,s.GE)("FigJam onboarding - failed to load open tutorial button")}},983556:(e,t,r)=>{"use strict";r.d(t,{Cu:()=>C,O8:()=>S,u6:()=>L});var n=r(307824),i=r(120304),a=r(838836),o=r(560072),l=r(765064),s=r(784740),c=r(58352),d=r(217568),u=r(191352),p=r(600928),m=r(974636),_=r(392992),h=r(362592),g=r(505752),f=r(563040),E=r(101040),y=r(26048),b=r(881467),v=r(284396);let I=f.ae,w=v.Ow,T=c.g,S="open-playground-file-onboarding-event",C="open-playground-file-click-event";function A(){let e=(0,i.w1)(e=>e.selectedView),t=n.createElement(s.a,{i18nId:"rcs.playground_file.ready_to_try",fontWeight:"bold"});return n.createElement("p",{style:l.sx.add({animation:"none"}).$},e.isWidget?n.createElement(o.Tx,{id:"rcs.playground_file.ready_to_try.widget",readyToTry:t}):n.createElement(o.Tx,{id:"rcs.playground_file.ready_to_try.plugin",readyToTry:t}))}function O(){return n.createElement("div",{style:l.sx.add({animation:"none"}).$},n.createElement("div",{className:"open_playground_file_overlay--titleText--dfQ-w"},n.createElement(o.Tx,{id:"rcs.playground_file.switch_devmode_to_design_title"})),n.createElement("div",{className:"open_playground_file_overlay--bodyText--o-uaP"},n.createElement(o.Tx,{id:"rcs.playground_file.switch_devmode_to_design_description"})))}function N(e){let t,r,i,o;switch(e.fullscreenEditorType){case"dev_handoff":t="Open Playground File Onboarding Nudge (DevMode)",r=T,i=O,o=6;break;case"whiteboard":t="Open Playground File Onboarding Nudge (FigJam)",r=w,i=A;break;default:t="Open Playground File Onboarding Nudge (Figma)",r=I,i=A}return n.createElement(g.m,{testId:"OpenPlaygroundFileOverlay",modalType:y.GK.POINTER,onboardingKey:r,trackingContextName:t,width:250,element:i,shouldCenterArrow:E.yi.FALLBACK,shouldNotWrapInParagraphTag:!0,isShowing:e.isShowing,onClickPrimaryCta:e.onClose,onClose:a.Kw,onManualDismiss:e.onClose,topPadding:o})}function L(){let e=(0,m.W)({overlay:b.qi_,priority:h.g.SECONDARY_MODAL}),t=(0,_.AL)(),r=(0,u.KG)();return((0,p.y)(e.uniqueId,S,()=>{(null==t?void 0:t.canEdit)&&e.show()}),(0,p.y)(e.uniqueId,[v.cy,C,"action_open_universal_insert_collage_modal",d.eg],()=>{e.complete()}),t)?n.createElement(N,{onClose:e.complete,fullscreenEditorType:r,isShowing:e.isShowing}):null}},108052:(e,t,r)=>{"use strict";r.d(t,{AF:()=>h,mM:()=>_,sT:()=>b});var n=r(307824),i=r(372152),a=r(560072),o=r(600928),l=r(974636),s=r(805220),c=r(362592),d=r(505752),u=r(415444),p=r(26048),m=r(881467);let _="plugin-publish-invite-publishers-onboarding-event",h="plugin-publish-invite-publishers-click-event",g="seen_plugin_publish_invite_publishers_onboarding",f=(0,s.y_)(g),E=()=>(0,a.t)("rcs.plugin_publish.work_with_other_developers");function y(){return n.createElement("p",null,n.createElement(a.Tx,{id:"rcs.plugin_publish.if_anyone_helped"}))}function b(){let e=(0,i.m4)(f),t=(0,l.W)({overlay:m.w$H,priority:c.g.SECONDARY_MODAL},[e]);return(0,o.y)(t.uniqueId,_,()=>{t.show({canShow:e=>!e})}),(0,o.y)(t.uniqueId,[h,"Lost DOM Target"],()=>{t.complete()}),n.createElement(d.m,{isShowing:t.isShowing,modalType:p.GK.ANNOUNCEMENT_POINTER,trackingContextName:"Plugin Publish Invite Publishers Onboarding Modal",element:y,title:E,onboardingKey:u.w,userFlagOnShow:g,width:300,onClickPrimaryCta:t.complete,onClose:t.complete,onManualDismiss:t.complete})}},488499:(e,t,r)=>{"use strict";r.d(t,{GM:()=>d,c$:()=>u});var n=r(307824),i=r(899116),a=r(843148),o=r(901676),l=r(698580);let s="desktop-new-tab-plan-space",c=l.object({userId:l.string(),orgId:l.string().nullish(),teamId:l.string().nullish(),timestamp:l.number()});function d(e){let t=o.Ez;t&&t.setItem(s,JSON.stringify({...e,timestamp:Date.now()}))}function u(){(0,n.useEffect)(()=>{var e,t;let r=(null==(e=(0,a.cp)().user_data)?void 0:e.id)||void 0,n=(0,a.cp)().org_id,l=(0,a.cp)().team_id;if(!i.sZ||i.sZ.getVersion()>=103||!(0,a.Ub)().desktop_ps_new_tab_reload||n&&!l)return;let d=e=>{let t;if(e){try{t=c.parse(JSON.parse(e))}catch(e){return}t.userId===r&&null==t.orgId&&(t.teamId??null)!==(l??null)&&Date.now()-t.timestamp<1e4&&(window.location.href=`/desktop_new_tab?fuid=${t.userId}&team_id=${t.teamId}`)}},u=e=>{e.key===s&&d(e.newValue)};return d(null==(t=o.Ez)?void 0:t.getItem(s)),window.addEventListener("storage",u),()=>{window.removeEventListener("storage",u)}},[])}},612836:(e,t,r)=>{"use strict";r.d(t,{U:()=>p});var n=r(307824),i=r(125504),a=r.n(i),o=r(916924),l=r(148276),s=r(30128),c=r(698240),d=r(765064),u=r(865360);function p(e){let{defaultVariant:t,ctaButtonMeta:r}=e,i="big"===e.size,p=n.createElement(s.E,{isLoading:!!r.isLoading,className:c.cx.flex.alignCenter.$},()=>r.label),m=e.ctaButtonMeta.variantOverride||t,_=d.sx.font13.lh24.h40.pl16.pr16;switch(m){case"primary":let h={trackingProperties:{trackingDescriptor:r.ctaTrackingDescriptor,...r.trackingProperties},disabled:r.disabled??r.isLoading,style:d.sx.fontMedium.if(e.emphasized,d.sx.b1.colorBorderOnbrandStrong).if(i,_).$,className:"text"===r.type?u.q:void 0,dataTestId:r.dataTestId,...r.tooltipProperties};switch(r.type){case"button":case"text":return n.createElement(l.Uv,{onClick:r.onClick,...h},p);case"link":return n.createElement(l.G0,{href:r.href,target:"_blank",...h},p);default:(0,o.gy)(r)}case"secondary":let g={trackingProperties:{trackingDescriptor:r.ctaTrackingDescriptor,...r.trackingProperties},disabled:r.disabled??r.isLoading,style:d.sx.fontMedium.if(e.emphasized,d.sx.colorTextOnbrand).if(i,_).$,className:a()("text"===r.type?u.q:void 0,e.emphasized?u._:void 0),dataTestId:r.dataTestId,...r.tooltipProperties};switch(r.type){case"text":case"button":return n.createElement(l.Sm,{onClick:r.onClick,...g},p);case"link":return n.createElement(l.GA,{href:r.href,target:"_blank",...g},p);default:(0,o.gy)(r)}default:(0,o.gy)(m)}}},378780:(e,t,r)=>{"use strict";r.d(t,{A:()=>c,m:()=>d});var n=r(307824),i=r(125504),a=r.n(i),o=r(698240),l=r(765064),s=r(855256);function c(e){return n.createElement("div",{className:a()(o.cx.colorIconOnbrand.colorBorder.bSolid.bt1.bb1.flex.$,s.I),style:l.sx.add({margin:"0 -16px",aspectRatio:e.aspectRatio.toString(),width:"-webkit-fill-available"}).$},n.createElement("img",{src:e.src,alt:e.alt,className:o.cx.flex.justifyCenter.alignCenter.overflowHidden.$}))}function d(e){return n.createElement("div",{style:l.sx.colorIconOnbrand.colorBorder.bSolid.bt1.bb1.flex.add({margin:"0 -16px",aspectRatio:e.aspectRatio.toString(),width:"-webkit-fill-available"}).$},n.createElement("video",{autoPlay:!0,muted:!0,loop:!0,"object-fit":"initial","aria-hidden":"true",style:l.sx.flex.justifyCenter.alignCenter.overflowHidden.$},n.createElement("source",{src:e.src,type:"video/mp4"})))}},416052:(e,t,r)=>{"use strict";r.d(t,{cH:()=>T,OK:()=>O,Y$:()=>S});var n=r(307824),i=r(120304),a=r(125504),o=r.n(a),l=r(916924),s=r(733960),c=r(105516),d=r(148276),u=r(698240),p=r(560072),m=r(765064),_=r(250016),h=r(771668),g=r(323576),f=r(144459),E=r(441388),y=r(203736),b=r(593940),v=r(158196),I=r(612836);let w="FeatureAnnouncement";function T(e){let t=(0,i.OY)(),{isShowing:r,onClose:a}=e,o=(0,s.i)(r),l=(0,i.w1)(e=>{var t;return null==(t=e.modalShown)?void 0:t.type})===w,c=(0,s.i)(l);return(0,n.useEffect)(()=>{r&&c&&!l&&a("different_modal_shown")},[r,c,l,a]),(0,n.useEffect)(()=>{o||!r||l?o&&!r&&l&&t(g.Kw()):t(g.us({type:w,optOutOfPrevModal:!0}))},[t,o,r,l]),n.createElement(b.S,{isShowing:r&&l,testId:e.testId,userFlagOnShow:e.userFlagOnShow},n.createElement(S,{...e}))}function S(e){return n.createElement(E.kH,{name:e.trackingContextName,properties:e.trackingProperties},n.createElement(v.Y1,{animateIn:!0,className:u.cx.overflowHidden.colorText.$,padding:0,size:700,hide:t=>{switch(t){case v.cB.CLICK_OUTSIDE:return e.onClose("modal_background_clicked");case v.cB.PRESS_ESCAPE:return e.onClose("escape_button_pressed");default:(0,l.gy)(t)}},enableEscapeToClose:!0,disableClickOutsideToHide:!1===e.clickOutsideToHide},"landscape"===e.orientation?n.createElement(A,{...e}):n.createElement(C,{...e}),n.createElement(c.CA,{innerText:(0,p.t)("general.close"),className:o()(u.cx.w32.h32.m8.absolute.top0.right0.colorIcon.$,{"feature_annoucement--closeButtonLight--Xjb45":"light"===e.closeButtonColor,"feature_annoucement--closeButtonDark--VMWkW":"dark"===e.closeButtonColor}),onClick:()=>e.onClose("close_button_clicked"),trackingProperties:{trackingDescriptor:f.O.CLOSE}}),n.createElement(M,{stepCounter:e.stepCounter})))}function C(e){return n.createElement("div",{className:u.cx.flex.$},n.createElement("div",{className:u.cx.flex.flexColumn.justifyCenter.p32.$},n.createElement("div",{className:u.cx.fontInter.font24.fontSemiBold.lh32.$,style:m.sx.add({letterSpacing:"-0.456px"}).$},e.title),n.createElement(d._C,{direction:"y",multiple:1}),n.createElement("div",{className:u.cx.fontInter.font14.fontNormal.lh24.$,style:m.sx.add({letterSpacing:"-0.084px"}).$},e.description),n.createElement(d._C,{direction:"y",multiple:3}),n.createElement("div",{className:u.cx.flex.gap8.$},e.primaryCta&&n.createElement(I.U,{defaultVariant:"primary",size:"big",ctaButtonMeta:e.primaryCta}),e.secondaryCta&&n.createElement(I.U,{defaultVariant:"secondary",size:"big",ctaButtonMeta:e.secondaryCta}))),e.media)}function A(e){return n.createElement("div",{className:u.cx.flex.flexColumn.$},e.media,n.createElement("div",{className:u.cx.flex.pl32.pr32.pt32.pb24.gap32.$},n.createElement("div",{className:u.cx.fontInter.font24.fontSemiBold.lh32.w200.flexShrink0.$,style:m.sx.add({letterSpacing:"-0.456px"}).$},e.title),n.createElement("div",{className:u.cx.fontInter.font14.fontNormal.lh24.$,style:m.sx.add({letterSpacing:"-0.084px"}).$},e.description)),n.createElement("div",{className:u.cx.flex.pl32.pr32.gap8.justifyEnd.$},e.secondaryCta&&n.createElement(I.U,{defaultVariant:"secondary",size:"big",ctaButtonMeta:e.secondaryCta}),e.primaryCta&&n.createElement(I.U,{defaultVariant:"primary",size:"big",ctaButtonMeta:e.primaryCta})),n.createElement(d._C,{direction:"y",multiple:4}))}function O(e){return n.createElement("img",{src:e.src,alt:e.alt,style:m.sx.add({aspectRatio:e.aspectRatio.toString()}).$,width:e.width})}function N(e){return n.createElement("div",{className:u.cx.absolute.left0.pl8.$,hidden:e.hidden},n.createElement(_.q,{variant:"text",onClick:e.onBack},n.createElement("div",{className:u.cx.font13.lh24.flex.itemsCenter.pr12.$},n.createElement(h.GW,{icon:"chevron-left-32"}),n.createElement(p.Tx,{id:"general.back"}))))}function L(e){return n.createElement("div",{className:u.cx.absolute.right0.pr8.$,hidden:e.hidden},n.createElement(_.q,{variant:"text",onClick:e.onNext},n.createElement("div",{className:u.cx.font13.lh24.flex.itemsCenter.pl12.$},n.createElement(p.Tx,{id:"general.next"}),n.createElement(h.GW,{icon:"chevron-right-32"}))))}function R(e){return n.createElement("div",{className:u.cx.absolute.right0.pr8.$,hidden:e.hidden},n.createElement(_.q,{variant:"text",onClick:e.onDone},n.createElement("div",{className:u.cx.font13.lh24.flex.itemsCenter.$},n.createElement(p.Tx,{id:"general.done"}))))}function P(e){let t=t=>t+1===e.stepNum;return n.createElement("div",{className:u.cx.flex.gap8.h32.justifyCenter.itemsCenter.absolute.left0.right0.mxAuto.$},Array(e.totalNumSteps).fill(0).map((e,r)=>n.createElement("div",{className:u.cx.w8.h8.bRadius8.b1.colorBorder.if(t(r),u.cx.colorBgInverse,u.cx.colorBg).$,key:r})))}function M(e){let{stepCounter:t}=e;if(!t)return null;let r=1===t.stepNum,i=t.stepNum===t.totalNumSteps;return n.createElement("div",{className:u.cx.p8.bt1.colorBorder.bSolid.h32.$},n.createElement(P,{stepNum:t.stepNum,totalNumSteps:t.totalNumSteps}),n.createElement(N,{onBack:t.onBack,hidden:r}),n.createElement(L,{onNext:t.onNext,hidden:i}),n.createElement(R,{onDone:t.onNext,hidden:!i}))}(0,y.U9)(()=>null,w)},414320:(e,t,r)=>{"use strict";let n,i;r.d(t,{C:()=>a,q:()=>o});var a=((n=a||{}).BOTTOM_RIGHT="bottom_right",n.CENTER="center",n),o=((i=o||{}).SECONDARY_MODAL="SECONDARY_MODAL",i.MODAL="MODAL",i.UNSET="UNSET",i)},462704:(e,t,r)=>{"use strict";r.d(t,{ID:()=>a,IK:()=>i,IT:()=>n,ot:()=>o});let n="fig-kiwi",i="fig-jam.",a="fig-diff";function o(e){return e.byteLength>=2&&80===e[0]&&75===e[1]}},801528:(e,t,r)=>{"use strict";r.d(t,{G:()=>a,Q:()=>i});var n=r(623131);let i=(0,n.Zf)({}),a=(0,n.Zf)({})},353100:(e,t,r)=>{"use strict";let n,i,a,o;r.d(t,{AP:()=>b,CU:()=>v,Ci:()=>R,G0:()=>A,GR:()=>N,GY:()=>D,MD:()=>M,Md:()=>F,QN:()=>S,UV:()=>w,a8:()=>x,as:()=>O,eK:()=>k,eo:()=>T,gx:()=>C,mK:()=>L,q_:()=>U,sT:()=>y,u_:()=>I});var l=r(307824),s=r(916924);r(644220);var c=r(843148),d=r(506616);r(310444);var u=r(703520),p=r(698240),m=r(560072),_=r(597624),h=r(771668),g=r(628),f=r(514916),E=r(472956);r(422416),r(200800);let y="UPGRADE_REQUESTS_PRODUCT_DROPDOWN",b="UPGRADE_REQUESTS_SORT_DROPDOWN",v="request",I="\u2013",w=new Date(2024,0,31),T=50,S="dev_mode_suggested_upgrade_dismissed";var C=((n=C||{}).TEAM="Team",n.ORG="Org",n),A=((i=A||{}).ALL_UNASSIGNED_REQUESTS="all_unassigned_requests",i.ALL_MANAGED_REQUESTS="all_managed_requests",i.ALL_ORG_REQUESTS="all_org_requests",i.INDIVIDUAL_BILLING_GROUP_REQUESTS="individual_billing_group_requests",i),O=((a=O||{}).APPROVE_ALL="APPROVE_ALL",a.BULK_SELECT="BULK_SELECT",a.SINGLE="SINGLE",a.EMAIL="EMAIL",a.DEEPLINK="DEEPLINK",a);let N="admin_requests_dashboard";var L=((o=L||{}).NEWEST_FIRST="NEWEST_FIRST",o.OLDEST_FIRST="OLDEST_FIRST",o);let R={NEWEST_FIRST:()=>(0,m.t)("admin_dashboard.requests.sort.newest_first"),OLDEST_FIRST:()=>(0,m.t)("admin_dashboard.requests.sort.oldest_first")},P={[g._2.DESIGN]:{name:()=>(0,m.t)("admin_dashboard.requests.design_seat"),icon:"file-design-16-file-type"},[g._2.WHITEBOARD]:{name:()=>(0,m.t)("admin_dashboard.requests.figjam_seat"),icon:"file-figjam-16-file-type"},[g._2.DEV_MODE]:{name:()=>(0,m.t)("admin_dashboard.requests.devmode_seat"),icon:"file-devmode-16-file-type"}};function M({licenseType:e}){let t=P[e];return l.createElement(_.g,{spacing:8},l.createElement(h.GW,{icon:t.icon}),l.createElement("div",null,t.name()))}function k(e){switch(e){case f.u0.DESIGN:return g._2.DESIGN;case f.u0.WHITEBOARD:return g._2.WHITEBOARD;case f.u0.DEV_MODE:return g._2.DEV_MODE;default:(0,s.gy)(e)}}function D(e){return e.trim().slice(0,T)}function F({text:e,showSpinner:t}){return l.createElement("div",{className:p.cx.flex.itemsCenter.justifyCenter.$},l.createElement("span",{className:t?p.cx.invisible.$:""},e),t&&l.createElement(u.M7,{className:p.cx.absolute.$,shouldMatchTextColor:!0,size:"small"}))}function x(){return!!(0,c.Ub)().dev_mode_suggested_upgrades}function U({planType:e,planId:t}){var r,n,i,a,o,l,s,u,p;let m=x(),_=(0,d.Qb)(E._0D,{planType:e,planId:t},{enabled:m}),h="loaded"===_.status&&_.data.devModeSuggestedUpgrades.status===d.j5.Loaded,g=(0,d.Qb)(E.YzI,{orgId:t},{enabled:"Org"===e}),f="loaded"===g.status&&g.data.currentUser.status===d.j5.Loaded||"disabled"===g.status,y=(0,d.Qb)(E.kVC,{teamId:t},{enabled:"Team"===e}),b="loaded"===y.status&&y.data.currentUser.status===d.j5.Loaded||"disabled"===y.status;if(!m)return!1;let v=(0,c.Ub)().dev_mode_suggests_tile_dismissal&&(!f||!b);if(!h||v)return null;let I=f&&(null==(r=g.data)?void 0:r.currentUser.status)===d.j5.Loaded&&!!(null==(a=null==(i=null==(n=g.data)?void 0:n.currentUser.data.privilegedOrgUser)?void 0:i.orgUserFlag)?void 0:a.id),w=(null==(o=y.data)?void 0:o.currentUser.status)===d.j5.Loaded&&(null==(s=null==(l=y.data)?void 0:l.currentUser.data.teamUser)?void 0:s.teamUserEvents),T=w&&w.length>0;return(!(0,c.Ub)().dev_mode_suggests_tile_dismissal||!T&&!I)&&(null==(u=_.data)?void 0:u.devModeSuggestedUpgrades.status)===d.j5.Loaded&&!!(null==(p=_.data.devModeSuggestedUpgrades)?void 0:p.data)&&_.data.devModeSuggestedUpgrades.data.length>0}},694404:(e,t,r)=>{"use strict";r.d(t,{m:()=>p});var n=r(307824),i=r(458140),a=r(372152),o=r(506616),l=r(841152),s=r(698240),c=r(472956),d=r(801528),u=r(353100);function p(e){var t;let r=(0,o.Qb)(c.AND,{planType:e.planType,planId:e.planId,filterParams:null}),p=(0,u.q_)({planType:e.planType,planId:e.planId}),m="loaded"===r.status&&r.data.adminRequestDashboardTotalRowCount.status===i.j5.Loaded?null==(t=r.data.adminRequestDashboardTotalRowCount.data)?void 0:t.rowCount:void 0,_=m??0,[h,g]=(0,a.lZ)(d.Q),[f,E]=(0,a.lZ)(d.G),y=[e.planType,e.planId].toString();n.useEffect(()=>{let t=e.isDataLoaded&&null!==p;if(m&&t){let t={...h};t[y]=_,g(t);let r={...f};r[y]=!!(p||e.showDevModeOptIn),E(r)}return()=>{let e={...h};delete e[y],g(e);let t={...f};delete t[y],E(t)}},[e.isDataLoaded,m,y,e.showDevModeOptIn,p]);let b=e.showDevModeOptIn||f[y]?1:0,v=(h[y]??0)+(e.billingStatusCount||0)+(e.taxStatusCount||0)+b;if(v<1)return null;let I=l.Eo.DEFAULT;return e.billingStatusCount||e.taxStatusCount||b?I=l.Eo.WARNING:e.isSelected&&(I=l.Eo.LIGHT),void 0!==m&&e.isDataLoaded&&null!==p?n.createElement(l.kt,{text:v.toString(),color:I,className:I===l.Eo.DEFAULT?s.cx.mr0.colorText.colorBgSelectedSecondary.$:s.cx.mr0.$,dataTestId:"admin-notifications-badge"}):null}},685624:(e,t,r)=>{"use strict";r.d(t,{Ap:()=>en,Ql:()=>et,ay:()=>ee,k1:()=>ei,s1:()=>ea});var n=r(307824),i=r(120304),a=r(125504),o=r.n(a),l=r(311364),s=r(656716),c=r(843148),d=r(87975),u=r(506616),p=r(425396),m=r(383456),_=r(698240),h=r(560072),g=r(784740),f=r(645484),E=r(403132),y=r(46604),b=r(417308),v=r(48504),I=r(441388),w=r(993608),T=r(832148),S=r(1084),C=r(782800),A=r(990180),O=r(846004),N=r(596496),L=r(236296),R=r(685276),P=r(572748),M=r(306440),k=r(333928),D=r(514916),F=r(472956),x=r(980844),U=r(114396),B=r(215113),G=r(142548),V=r(351212),H=r(302872),W=r(715420),K=r(451e3),Y=r(771068),q=r(635096),j=r(562128),$=r(794428),Z=r(892996),z=r(936508),Q=r(78720),X=r(794132),J=r(182896);function ee(e){var t,r;let n=null==(t=(0,P.Ce)())?void 0:t.id,i="folder"===(0,M.c$)().view,a=(0,u.Qb)(F.kXP,{projectId:e},{enabled:!!e&&!i});if(i)return p.YF.loaded(null);if("loaded"!==a.status)return p.YF.from(a);let o=a.data.project;if(((null==(r=null==o?void 0:o.team)?void 0:r.orgId)||(null==o?void 0:o.orgId))!==n)return p.YF.loaded(null);{let e=a.data.project;return p.YF.loaded(e?(0,N.iM)(e):null)}}function et(e){let t=ee(e.file.folder_id),r=t.data;return(0,O.$P)(e.file)?n.createElement("span",{className:J.MB},n.createElement(h.Tx,{id:"tile.file_tile.password_protected"})):"loaded"!==t.status?null:n.createElement("div",{className:J.An},n.createElement("span",{className:_.cx.inlineFlex.$},e.left||null),n.createElement("span",{className:J.SM},e.file.touched_at&&!r&&n.createElement("span",{className:J.MB},n.createElement(h.Tx,{id:"tile.file_tile.edited_time",time:n.createElement(m.O,{date:e.file.touched_at})})),e.file.touched_at&&r&&n.createElement("span",{className:J.SA},n.createElement(h.Tx,{id:"tile.file_tile.edited_time_with_separator",time:n.createElement(m.O,{date:e.file.touched_at})})),r&&n.createElement(g.a,{truncate:!0,showTooltipWhenTruncated:!0},r)))}function er(e){let{file:t,currentUserId:r}=e,i=n.createElement(n.Fragment,null,n.createElement(K.YH,{date:e.file.trashed_at}));return n.Fragment,t.trashed_user_id&&t.trashed_user_id===r?n.createElement("span",{className:J.Wm},n.createElement(h.Tx,{id:"tile.file_tile.deleted_by_you",time:i})):t.trashed_user&&t.trashed_user.handle?n.createElement("span",null,n.createElement(h.Tx,{id:"tile.file_tile.deleted_by_other_user",userHandle:t.trashed_user.handle,time:i})):n.createElement("span",{className:J.Wm},n.createElement(h.Tx,{id:"tile.file_tile.deleted_generic",time:i}))}function en(e){var t;let r=e.file.last_published_at,a=(0,R.g)(),l=(0,m.oX)(r),s=(0,i.w1)(e=>"deletedFiles"===e.selectedView.view),d=(0,i.w1)(e=>"teamFeed"===e.selectedView.view),u=(0,c.Ub)().ps_benchmark,p=(0,i.OY)();(0,c.Ub)().statsig_aa_flag_web_file_tile;let{file:_}=e,g=e.tile,E=n.useMemo(()=>g||{type:L.Az.FILE,file:_},[g,_]),y=_.parent_org_id??(null==(t=_.parent_org)?void 0:t.id)??null,b=u&&(null==_?void 0:_.team_id)?_.team_id:null,v=(0,$.q)(_.key,D.M$.FILE,y,b),I=n.useMemo(()=>"loaded"===v.status?!!v.favorite:L._U.getIsFavorited(E),[E,v]),w=n.useMemo(()=>{if(E.type===L.Az.REPO)return E.repo.id},[E]),T=n.useCallback((e,t,r)=>{if(E.type===L.Az.FILE||E.type===L.Az.REPO){let n={entrypoint:"file_tile",favoriteId:t,sectionId:r,file:_,repoId:w,fileBrowserFavorite:!0};e?p(f.U5(n)):p(f.o9(n))}},[_,E,w,p]),S=(0,A.KI)(y,b),O=!!(0,c.Ub)().ps_benchmark,N=O&&!_.team_id&&!_.parent_org_id;return n.createElement(n.Fragment,null,n.createElement(X.e,{file:e.file,disabled:e.disabled,tooltipText:e.tooltipText}),n.createElement("div",{className:J.bn},n.createElement(j.wZ,{type:a(_),size:j.mW.MEDIUM,"data-tooltip-type":r?G.wL.TEXT:void 0,"data-tooltip":r?(0,h.t)("tile.file_tile.published_as_library",{time:l}):void 0}),e.showBranchIndicator&&n.createElement(z.Y,{className:J.og,fileKey:e.file.key,branches:e.branches,selectedBranchKey:e.selectedBranchKey,onSelectBranch:e.onSelectBranch})),n.createElement("div",{className:o()(J.o3,{[J.Ow]:I})},!!((!O||S)&&!s&&!d&&!N)&&n.createElement("div",{className:J.QN},n.createElement(Q.i,{setFavorite:T,favoriteType:(0,C.CM)(E.type),resourceId:e.file.key,noHoverState:!0,size:Q.A.MEDIUM,orgId:y,teamId:b}))),n.createElement("div",{className:J.gl},n.createElement(Y.Q,{tile:E,...e,isListView:!1}),n.createElement("div",{className:J.kb},e.hasUnsyncedChanges&&n.createElement(W.Y,null),n.createElement(K.m_,{subtitle:e.subtitle,disabled:e.disabled})),n.createElement("div",{className:J.uU},n.createElement(H.u,{entityList:e.activeFileUsers,maxNumHeads:3,currentUser:e.currentUser,overlapped:!0}))))}let ei=(0,i.Ul)((e,t)=>{let r=t.tile.file.parent_org_id?e.orgById[t.tile.file.parent_org_id]:null,n=t.tile.file.team_id?e.teams[t.tile.file.team_id]:null;return{isDeletedFilesView:"deletedFiles"===e.selectedView.view,isRecentsView:"recentFiles"===e.selectedView.view||"recentsAndSharing"===e.selectedView.view&&e.selectedView.tab===U.e.RECENTLY_VIEWED,isSharedWithYouFilesView:"sharedWithYou"===e.selectedView.view&&"files"===e.selectedView.tab||"recentsAndSharing"===e.selectedView.view&&e.selectedView.tab===U.e.SHARED_FILES,user:e.user,activeFileUsers:e.activeFileUsers,unsyncedFileKeys:(0,S.Su)(e.autosave.unclaimedFilesWithChangesInIDB,e),parentOrgOrTeam:r||n,currentOrgId:e.currentUserOrgId,currentTeamId:e.currentTeamId,selectedView:e.selectedView}})(function(e){var t,r,a;let o;let[s,c]=n.useState(!1),d=(0,i.OY)(),{isDeletedFilesView:u,isDropdownShown:p,onTileContextMenu:_,tile:g,index:f,activeFileUsers:y,user:b}=e,S=n.useCallback(e=>{e.stopPropagation(),e.preventDefault()},[]),C=n.useCallback(e=>{_&&(e.stopPropagation(),e.preventDefault(),p()?d(E.yi()):(d(v.sX()),d(v.wJ({type:B.y.FILES,tiles:[g]})),_(g,e,f)))},[_,p,d,g,f]),A=n.useCallback(e=>{e.stopPropagation()},[]),O=n.useMemo(()=>u?[]:(0,T.G)(y,b.id,g.file.key),[y,u,g.file.key,b.id]),N=e.tile.file,L=(null==(t=N.appData)?void 0:t.isRenaming)||!1,R=e;L&&(R={...R,draggable:!1});let P=e.showSettingsIcon?{showSettingsIcon:!0,onFileSettingsClick:C,onFileSettingsMouseDown:A,onFileSettingsDoubleClick:S}:{showSettingsIcon:!1};if(e.isSharedWithYouFilesView&&((null==(r=N.shared_by_user)?void 0:r.name)||N.shared_at)){let e=N.shared_at&&n.createElement(n.Fragment,null,n.createElement(h.Tx,{id:"swy_tile.shared"}),n.createElement(m.O,{date:new Date(N.shared_at)})),t=(null==(a=N.shared_by_user)?void 0:a.name)?`From ${N.shared_by_user.name}`:e,r=N.parent_org||N.parent_team;o=n.createElement(n.Fragment,null,n.createElement("div",{className:J.iI},r&&n.createElement(Z.I,{entityId:r.id,entityName:r.name||void 0,imgUrl:r.imgUrl||void 0}),n.createElement("div",null,t)))}else if(e.isDeletedFilesView)o=n.createElement(er,{currentUserId:e.user.id,file:e.tile.file});else if(e.isRecentsView){let t=e.parentOrgOrTeam;o=n.createElement("div",{className:J.iI},n.createElement(et,{left:t&&n.createElement(Z.I,{entityId:t.id,entityName:t.name,imgUrl:t.img_url}),file:N}))}else o=n.createElement(et,{file:N});let M=(0,k.yi)(N);return M=(0,l.sU)(M,e.user),M=(0,l.sl)(M,e.currentOrgId,e.currentTeamId,e.selectedView),n.createElement(I.kH,{name:"File Tile",trackingTargets:w.I.RCS,properties:{fileKey:N.key}},n.createElement(K._i,{...R,href:M,onMouseEnter:()=>{c(!0)},onMouseLeave:()=>{c(!1)},isHover:s,tileRef:e.tileRef},e.isListView?n.createElement(q.c,{tile:e.tile,activeFileUserList:O,...P}):n.createElement(en,{file:N,subtitle:o,activeFileUsers:O,currentUser:e.user,hasUnsyncedChanges:(()=>{let t=e.tile.file.key;return e.unsyncedFileKeys.findIndex(e=>e.fileKey===t)>=0})(),isHover:s,...P})))}),ea=(0,i.Ul)((e,t)=>{let r=(0,S.Su)(e.autosave.unclaimedFilesWithChangesInIDB,e),n=t.file.key;return{hasUnsyncedChanges:r.findIndex(e=>e.fileKey===n)>=0}})(function(e){let t=(0,i.w1)(e=>e.currentUserOrgId),r=(0,i.w1)(e=>e.currentTeamId),a=(0,i.w1)(e=>e.user),u=(0,i.w1)(e=>e.selectedView),p=(0,i.OY)();return n.createElement("div",{className:J.qY},n.createElement("div",{onClick:n=>{if((0,c.Ub)().ps_benchmark?p(b.m6({planId:t||r,planType:t?x.Y.ORG:x.Y.TEAM})):p(b.ym({planId:t||V.I})),(0,d.mM)(n)){p(y.Kc({fileKey:e.file.key,entrypoint:"standalone file tile",viewMode:0===e.viewMode?"list":"grid"}));let n=`/file/${e.file.key}`;n=(0,l.sU)(n,a),n=(0,l.sl)(n,t,r,u),s.default.redirect(n,"_blank")}else if((0,l.Mb)(t,e.file.parent_org_id,r,e.file.team_id)){p(y.Kc({fileKey:e.file.key,entrypoint:"standalone file tile",viewMode:0===e.viewMode?"list":"grid"}));let n=(0,c.Ub)().ps_benchmark;(0,l.A3)(e.file.key,a,t,n?r:null,u)}else n.preventDefault(),e.onClick(n)},className:o()(J.Kc,J.CA,{[J.ue]:e.isSelected}),role:"link",tabIndex:0},n.createElement("div",{className:J.kD},n.createElement("div",{className:J.yO}),n.createElement(en,{...e}))))})},319552:(e,t,r)=>{"use strict";r.d(t,{K:()=>c,y:()=>d});var n=r(307824),i=r(120304),a=r(250008),o=r(61836),l=r(472956),s=r(843148);function c(){let e=(0,i.w1)(e=>e.currentUserOrgId),t=(0,i.w1)(e=>e.currentTeamId),r=d({currentOrgId:e,currentTeamId:(0,s.Ub)().ps_benchmark&&t||null});return"loaded"===r.status?r.data:null}function d(e,t){let r=n.useMemo(()=>({stuckMs:1e4,onEvent:(t,r,n)=>{var i,o;return i=e.currentOrgId,o=e.currentTeamId,void((0,s.Ub)().file_browser_sidebar_lg_logging&&(0,a.we)("File Browser Sidebar LG",{lgEvent:t,traceId:n.traceId,hasBeenOffline:n.wasOffline,hasBeenBackgrounded:n.wasBackgrounded,timeElapsedMs:n.timeElapsedMs,orgId:i,teamId:o,errors:JSON.stringify(r.errors)}))}}),[e.currentOrgId,e.currentTeamId]);return(0,o.W0)(l.wDW,e,{...t,subscriptionLogger:r})}},886256:(e,t,r)=>{"use strict";r.d(t,{S:()=>o});var n=r(307824),i=r(250008),a=r(418084);function o(e,t){let r=(0,n.useRef)(null),o=(0,n.useRef)((0,a.c)()),l=(0,n.useRef)("hidden"===document.visibilityState),s=(0,n.useRef)(!1===navigator.onLine);return(0,n.useEffect)(()=>{let e=()=>{"hidden"===document.visibilityState&&(l.current=!0)},t=()=>{s.current=!0};return document.addEventListener("visibilitychange",e),window.addEventListener("offline",t),()=>{document.removeEventListener("visibilitychange",e),window.removeEventListener("offline",t)}},[]),{trackPerformanceEvent:(0,n.useCallback)((n,c={})=>{let d=performance.now(),u=d-(r.current??d);if("fetch_start"===n||"fetch_next"===n)r.current=d,o.current=(0,a.c)();else{if(null==r.current)return;r.current=null}(0,i.we)(e,{eventName:n,traceId:o.current,source:t,duration:u,hasBeenBackgrounded:l.current,hasBeenOfflined:s.current,...c})},[e,t])}}},873400:(e,t,r)=>{"use strict";r.d(t,{I$:()=>E,Qp:()=>v,YT:()=>I});var n=r(307824),i=r(125504),a=r.n(i),o=r(250008),l=r(623131),s=r(372152),c=r(888932),d=r(901676),u=r(148276),p=r(698240),m=r(560072),_=r(598016),h=r(144459),g=r(431328);let f="mobile_download_prompt_dismissed";function E(e){let{isCompact:t}=e,r=c.mA?_.M:_.U,i=(0,d.UV)(),l=!t&&!!e.renderBlockingPrompt,[s,p]=n.useState(!l),[E,v]=n.useState(!l);n.useEffect(()=>{null===i.get(f)&&(p(!1),v(!1))},[i,l]);let I=()=>{l||(p(!0),(0,o.we)("mobile_web_mobile_app_download_prompt_dismissed",{userId:e.userIdForTracking}),setTimeout(()=>{v(!0)},300),i.set(f,!0))};return n.createElement(n.Fragment,null,n.createElement("div",{className:a()({[g.wL]:!0,[g.Iz]:s,[g.yQ]:E}),style:{transitionDuration:"300ms"},onClick:I},n.createElement("div",{className:a()(g.M$,g.q4,{[g.ER]:s,[g.RX]:l}),onClick:e=>{e.stopPropagation()}},n.createElement("div",{className:a()(g.QP,{[g.g$]:l})},t?n.createElement(b,null):n.createElement(y,{renderBlockingPrompt:l??!1})),n.createElement("hr",{className:a()({[g._o]:!0,[g.CQ]:l})}),n.createElement("div",{className:g._3},n.createElement("img",{className:g.EV,src:"https://static.figma.com/uploads/249f0f055b922ecef6bffc592a8420e7e6eddcea",alt:(0,m.t)("file_browser.mobile_prompt.app_image_alt")}),n.createElement("div",null,n.createElement("h3",{className:g.ae},n.createElement(m.Tx,{id:"file_browser.mobile_prompt.app_title"})),n.createElement("p",{className:g.Uw},l?n.createElement(m.Tx,{id:"file_browser.mobile_prompt.app_description_new"}):n.createElement(m.Tx,{id:"file_browser.mobile_prompt.app_description"}))),n.createElement(u.cr,{trackingProperties:{userId:e.userIdForTracking,appLink:r,trackingDescriptor:h.O.MOBILE_WEB_MOBILE_APP_DOWNLOAD_PROMPT_CLICKED},href:r,className:g.yW},n.createElement(m.Tx,{id:"file_browser.mobile_prompt.app_action"}))),!l&&n.createElement("div",{className:g._3},n.createElement("img",{className:g.EV,src:"https://static.figma.com/uploads/741698fed49afa5e8f3becdd906e66d32c8e7fae",alt:(0,m.t)("file_browser.mobile_prompt.browser_image_alt")}),n.createElement("div",null,n.createElement("h3",{className:g.ae},n.createElement(m.Tx,{id:"file_browser.mobile_prompt.browser_title"}))),n.createElement(u.Wi,{onClick:()=>I(),className:g.gd},n.createElement(m.Tx,{id:"file_browser.mobile_prompt.browser_action"}))))))}function y(e){return n.createElement(n.Fragment,null,n.createElement("img",{className:g.qg,src:"https://static.figma.com/uploads/5f1dc37f397dbddf711d3d950bee5dd46c07fc72",alt:(0,m.t)("file_browser.mobile_prompt.image_alt")}),n.createElement("div",{className:g.Az},n.createElement("h2",{className:g.YH},e.renderBlockingPrompt?n.createElement(m.Tx,{id:"file_browser.mobile_prompt.modal_title_blocking"}):n.createElement(m.Tx,{id:"file_browser.mobile_prompt.modal_title"})),n.createElement("p",{className:g.AF},e.renderBlockingPrompt?n.createElement(m.Tx,{id:"file_browser.mobile_prompt.modal_body_blocking"}):n.createElement(m.Tx,{id:"file_browser.mobile_prompt.modal_body"}))))}function b(){return n.createElement(n.Fragment,null,n.createElement("h2",{className:g.YH},n.createElement(m.Tx,{id:"file_browser.mobile_prompt.modal_title_compact"})))}let v=(0,l.Zf)(!1);function I(){let e=c.mA?_.M:_.U,[t,r]=(0,s.lZ)(v),i=()=>{r(!0),(0,o.we)("mobile_web_mobile_app_download_prompt_dismissed")};return n.createElement(n.Fragment,null,n.createElement("div",{className:a()({[g.wL]:!0,[g.Iz]:t,[g.yQ]:t})},n.createElement("div",{className:a()(g.gx,g.M$,g.CU,{[g.ER]:t})},n.createElement("div",{className:g.sv}),n.createElement("div",{className:g.eQ},n.createElement("img",{className:g.oQ,src:"https://static.figma.com/uploads/249f0f055b922ecef6bffc592a8420e7e6eddcea",alt:(0,m.t)("file_browser.mobile_prompt.app_image_alt")}),n.createElement(u._C,{multiple:3}),n.createElement("h2",null,n.createElement(m.Tx,{id:"file_browser.mobile_prompt.modal_title_blocking"})),n.createElement(u._C,{multiple:2}),n.createElement("p",null,n.createElement(m.Tx,{id:"file_browser.mobile_prompt.modal_body_blocking"})),n.createElement(u._C,{multiple:4}),n.createElement(u.cr,{fullWidth:!0,trackingProperties:{appLink:e,trackingDescriptor:h.O.MOBILE_WEB_MOBILE_APP_DOWNLOAD_PROMPT_CLICKED},href:e,className:p.cx.font16.fontWhyte.$},n.createElement(m.Tx,{id:"file_browser.mobile_prompt.open_in_the_app_store"})),n.createElement(u._C,{multiple:3}),n.createElement(u.oT,{className:p.cx.font16.colorTextSecondary.$,onClick:()=>{i()}},n.createElement(m.Tx,{id:"file_browser.mobile_prompt.ill_do_this_later"}))))))}},158196:(e,t,r)=>{"use strict";let n;r.d(t,{Co:()=>A,Y1:()=>T,cB:()=>I,iU:()=>w,wJ:()=>S,y4:()=>C});var i=r(307824),a=r(125504),o=r.n(a),l=r(250008),s=r(87975),c=r(570464),d=r(105516),u=r(148276),p=r(703520),m=r(240228),_=r(560072),h=r(771668),g=r(323576),f=r(753432),E=r(441388),y=r(203736),b=r(741158),v=r(620744),I=((n=I||{}).CLICK_OUTSIDE="click_outside",n.PRESS_ESCAPE="press_escape",n);let w=400;function T(e){let t,r;let{useModalViewScroll:n=!0,tintedModalBackground:a=!0,hide:l,disableClickOutsideToHide:c,size:d,alignment:u,absolutePosition:p,padding:m,height:_,maxHeight:h,width:g,title:E,titleClassName:y,className:I,fixedTop:w,backgroundClassName:T,onKeyDown:S,disableKeyboardEventPropagation:C,modalRef:A,onModalClick:O,showOverflow:N,enableEscapeToClose:L,children:R,animateIn:P}=e;(0,b.G)();let M=i.useCallback(()=>{c||l("click_outside")},[c,l]),k=i.useCallback(e=>{e.stopPropagation()},[]),D=i.useCallback(e=>{O&&O(e)},[O]),F=i.useCallback(e=>{if(e.keyCode===s.as.ESCAPE&&(!c||L)){l("press_escape"),e.preventDefault(),e.stopPropagation();return}S&&S(e),C&&(e.nativeEvent.stopImmediatePropagation(),e.stopPropagation())},[c,l,S,C,L]),x=i.useRef(null);i.useEffect(()=>{x.current&&!x.current.contains(document.activeElement)&&x.current.focus()}),"number"==typeof d&&(t=d,r=d);let U=o()({[v.jH]:"small"===d,[v.qQ]:"fitContent"===d,[v.O2]:"mobile"===d,[v.QL]:!d||"medium"===d||"number"==typeof d}),B=o()(v.q4,T,f.cp,{[v.a_]:a,[v.Cw]:w,[v.wF]:"left"===u,[v.G_]:"right"===u,[v.UH]:"leftNoPadding"===u}),G=o()(U,I,{[v.kl]:n,[v.ue]:!n,[v.YN]:N,[v.$f]:!!p,[v.O7]:P}),V={minWidth:t,maxWidth:r,height:_,maxHeight:h,width:g,padding:m,...p?{top:p.top,left:p.left}:{}};return i.createElement("div",{tabIndex:0,className:B,onMouseDown:M,onKeyDown:F,ref:x,"data-testid":"modal-background"},i.createElement("div",{className:G,style:V,onMouseDown:k,onClick:D,ref:A,role:"dialog","data-testid":e["data-testid"]},E&&i.createElement("div",{className:`${v.e} ${y||""}`},E),R))}function S(e){let{dispatch:t,onHide:r,popStack:n}=e,{name:a}=(0,E.U1)(),o=i.useCallback(e=>{n?t(g.Kw()):t(g.oN()),r&&r(),(0,l.we)("Modal Close",{source:e,trackingContext:a})},[t,r,n,a]);return i.createElement(T,{...e,hide:o})}let C="CONFIRMATION_MODAL";(0,y.Ko)(C,e=>i.createElement(A,{...e.modalShown.data}));class A extends c.Yl{constructor(){super(...arguments),this.hideModal=()=>{this.props.dontClose||(this.props.popStack?this.props.dispatch(g.Kw()):this.props.dispatch(g.oN()))},this.onCloseButtonClick=c.yw(this,"click",e=>{this.hideModal(),this.props.onCloseButtonClick&&this.props.onCloseButtonClick()}),this.onSubmit=c.QD(this,"confirm",e=>{e.preventDefault(),(this.props.hideOnConfirm??!0)&&this.hideModal(),this.props.onConfirm()},{playback:()=>({preventDefault:()=>{}})}),this.onCancel=c.QD(this,"cancel",e=>{e.preventDefault(),(this.props.hideOnCancel??!0)&&this.hideModal(),this.props.onCancel&&this.props.onCancel()},{playback:()=>({preventDefault:()=>{}})})}render(){let e=this.props.destructive?u.y2:u.Uv,t=!(this.props.dontClose||this.props.hideClose),r=!!this.props.autoFocusCta&&this.props.destructive,n=!!this.props.autoFocusCta&&!this.props.destructive;return i.createElement(S,{size:this.props.size||"small",...this.props,className:this.props.className||v.kl,onHide:this.props.overrideOnHide??this.props.onCancel},t&&i.createElement(d.w3,{...this.props,className:this.props.closeClass,onClick:this.onCloseButtonClick}),i.createElement(m.a,null,!this.props.hideConfirmationTitle&&i.createElement("div",{className:this.props.titleClass??v.e},this.props.confirmationTitle??i.createElement(_.Tx,{id:"modal.are_you_sure"})),this.props.children?this.props.children:i.createElement("div",{className:v.YX},this.props.content),i.createElement("div",{className:v.hy},i.createElement("div",{className:this.props.helperTextClass??v.C6},this.props.helperText),!this.props.hideCancel&&i.createElement(u.Sm,{onClick:this.onCancel,autoFocus:r},this.props.cancelText??i.createElement(_.Tx,{id:"modal.cancel"})),this.props.isLoading?i.createElement(e,{dataTestId:"confirmation-modal-confirm-action-button",tabIndex:0,type:"submit",className:v.iO,disabled:!0,trackingProperties:this.props.trackedConfirmationProperties||{}},i.createElement(p.M7,{className:this.props.loadingText?v.as:v.g$}),this.props.loadingText):i.createElement("form",{onSubmit:this.onSubmit},i.createElement(e,{dataTestId:"confirmation-modal-confirm-action-button",tabIndex:0,type:"submit",className:v.I8,disabled:this.props.disableConfirm,autoFocus:n,trackingProperties:this.props.trackedConfirmationProperties||{}},this.props.confirmText))),this.props.bottomWarningText&&i.createElement("div",{className:v.MN},i.createElement(h.GW,{icon:"warning-32"}),this.props.bottomWarningText)))}}A.displayName="ConfirmationModal",A.defaultProps={destructive:!1,autoFocusCta:!0}},9368:(e,t,r)=>{"use strict";r.d(t,{K8:()=>g,Ky:()=>w,gB:()=>f,sF:()=>I});var n=r(307824),i=r(120304),a=r(721500),o=r(886420),l=r(841152),s=r(560072),c=r(913368),d=r(417184),u=r(251596),p=r(108688),m=r(49192),_=r(556708),h=r(377867);let g="COMMUNITY_WORKSPACE_SWITCHER_SECTION_DROPDOWN",f="ACCOUNT_SWITCHING_ADD_ACCOUNT_ONBOARDING_KEY",E=(0,a.I)(_.uM),y=(0,a.I)(_.sD),b=(0,a.I)(_.OI)+2*(0,a.I)(_.cn)+1;function v(e,t,r,i,a,o,u){return{displayText:e.name,sideText:`@${e.profile_handle}`,optionHeight:b,icon:n.createElement("div",{className:h.mg},a[e.id]&&n.createElement("div",{className:h.AJ}),n.createElement(m.c,{userId:t.id,profileId:e.id,forceAvatar:!0})),itemBadge:(0,d.a)(e)?n.createElement(l.kt,{className:h.bi,text:(0,s.t)("navbar.community.admin_label"),color:l.Eo.INVERT,subtle:!0}):void 0,isActive:i,isChecked:i,className:h.OG,callback:()=>u(c.YV({profileId:e.id,view:r?o:void 0}))}}function I(e,t,r,i,a,o,u,p,_,g,f){let E=[],y=new Set,I=[],w=[];return Object.keys(e).forEach(i=>{let a=e[i],l=a.community_profile_id;if(f&&a.id===r.id){y.add(l);return}if(l){let e=o[l];if(!e||y.has(l))return;y.add(l);let n=!!(null==p?void 0:p.primary_user_id)&&(null==p?void 0:p.id)===e.id,i=t&&n;E=E.concat([v(e,r,t,i,u,_,g)]);return}let s=(null==p?void 0:p.primary_user_id)===a.id,w=t&&s,T=(0,d.uC)({authedProfilesById:o,userId:a.id});I=I.concat([{displayText:a.name,sideText:a.email,optionHeight:b,icon:n.createElement("div",{className:h.mg},n.createElement(m.c,{userId:a.id,forceAvatar:!0})),isActive:w,isChecked:w,className:h.OG,callback:()=>g(c.YV({profileId:(null==T?void 0:T.id)||null,view:t?_:void 0}))}])}),Object.keys(i).forEach(e=>{let a=i[e],f=null==a?void 0:a.community_profile_id;if(f){let e=o[f];if(!e||y.has(f))return;y.add(f);let n=t&&(null==p?void 0:p.id)===e.id;E=E.concat([v(e,r,t,n,u,_,g)]);return}let I=t&&(null==p?void 0:p.org_id)===a.id,T=(0,d.uC)({authedProfilesById:o,orgId:a.id});T&&(w=w.concat([{displayText:a.name,sideText:void 0,optionHeight:b,icon:n.createElement("div",{className:h.mg},n.createElement(m.c,{userId:r.id,orgId:a.id,forceAvatar:!0})),isActive:I,itemBadge:n.createElement(l.kt,{className:h.bi,text:(0,s.t)("navbar.community.admin_label"),color:l.Eo.INVERT,subtle:!0}),isChecked:I,className:h.OG,callback:()=>g(c.YV({profileId:T.id||null,view:t?_:void 0}))}]))}),Object.values(a).forEach(e=>{let n=null==e?void 0:e.community_profile_id;if(n){let e=o[n];if(!e||y.has(n))return;y.add(n);let i=t&&(null==p?void 0:p.id)===e.id;E=E.concat([v(e,r,t,i,u,_,g)]);return}}),E=E.concat(I).concat(w)}function w(){let e=(0,i.OY)(),t=(0,i.w1)(e=>{var t;return(null==(t=e.dropdownShown)?void 0:t.type)===g}),r=(0,i.w1)(e=>e.selectedView),a=(0,d.UP)(),l=(0,i.w1)(e=>{var t,r;return null==(r=null==(t=e.dropdownShown)?void 0:t.data)?void 0:r.targetRect}),s=(0,u.a5)(),c=(0,i.w1)(e=>(0,d.qS)(e)),m=(0,i.w1)(e=>(0,d._v)(e),o.QZ),_=(0,i.w1)(e=>e.authedProfilesById),h=(0,i.w1)(e=>e.userNotifications.communityProfileBellStates),f=(0,i.w1)(e=>e.authedActiveCommunityProfile);return n.createElement(n.Fragment,null,t&&n.createElement(p.I,{showPoint:!0,showCheckmarkOnRight:!0,items:I({[s.id]:s},a,s,c,m,_,h,f,r,e,!(0,d.a)(f)&&(null==f?void 0:f.primary_user_id)===s.id||void 0),onSelectItem:(t,r)=>{t.callback&&t.callback("",null,e)},parentRect:l,dispatch:e,minWidth:E,rootAndSubmenuMaxWidth:y}))}},13652:(e,t,r)=>{"use strict";r.d(t,{E$:()=>F,Mt:()=>O,gS:()=>N});var n=r(307824),i=r(120304),a=r(721500),o=r(843148),l=r(841152),s=r(537096),c=r(588900),d=r(698240),u=r(560072),p=r(317704),m=r(46604),_=r(417184),h=r(43668),g=r(12832),f=r(514916),E=r(553432),y=r(108688),b=r(9368),v=r(49192),I=r(556708),w=r(377867),T=r(933812),S=r(260080),C=r(998968),A=r(324847);let O="FILE_BROWSER_WORKSPACE_SWITCHER",N="ACCOUNT_SWITCHING_PERSONAL_ONBOARDING_KEY",L="ACCOUNT_SWITCHING_COMMUNITY_ONBOARDING_KEY",R=(0,a.I)(I.cT),P=(0,a.I)(I.uM),M=(0,a.I)(I.sD),k=(0,a.I)(I.OI)+2*(0,a.I)(I.cn),D=k+1;function F(){let e=(0,i.OY)(),t=(0,i.w1)(e=>{var t;return(null==(t=e.dropdownShown)?void 0:t.type)===O}),r=(0,i.w1)(e=>e.selectedView),a=(0,i.w1)(e=>{var t,r;return null==(r=null==(t=e.dropdownShown)?void 0:t.data)?void 0:r.targetRect}),I=(0,i.w1)(e=>e.authedUsers),F=(0,i.w1)(e=>e.authedProfilesById),x=(0,i.w1)(e=>(0,E.getPermissionsStateMemoized)(e)),U=(0,g.KA)(x,I.orderedIds),B=(0,i.w1)(e=>e.orgUsersByOrgId),G=(0,i.w1)(e=>e.orgById),V=(0,i.w1)(e=>e.authedTeamsById),H=(0,i.w1)(e=>e.authedActiveCommunityProfile),W=(0,_.UP)(),K=(0,i.w1)(e=>Object.keys(e.authedProfilesById).some(t=>!!e.authedProfilesById[t].org_id||!!e.authedProfilesById[t].team_id)),Y=(0,i.w1)(e=>e.userNotifications.communityProfileBellStates),q=(0,i.w1)(e=>e.userNotifications.userBellStates),j=(0,i.w1)(e=>e.teamFeedBellStates),$=(0,o.Ub)().ps_benchmark;n.useEffect(()=>{$&&(0,h.g3)()(e).catch(t=>{var r;let n=(null==(r=null==t?void 0:t.data)?void 0:r.message)||(0,u.t)("file_browser.error_try_again");e(p.A.enqueue({message:n,type:"error"}))})},[e,$]);let Z=()=>{let t=[];return I.orderedIds.forEach(r=>{var i;let a=I.byId[r];if(!a)return;t=t.concat([{displayText:a.email,optionHeight:k,icon:n.createElement("span",{className:w.Sg}),disabled:!0}]);let s=(null==(i=a.plans)?void 0:i.map(t=>{let r={userId:a.id,orgId:t.is_org?t.plan_id:null,teamId:t.is_org?null:t.plan_id},i=(0,g.Yb)(x,r),s=!!t.is_guest,c=r.orgId&&!s&&(0,o.Ub)().xr_debounce_threshold?{view:"teamFeed"}:{view:"recentsAndSharing"};return{displayText:t.name,optionHeight:D,itemBadge:s?n.createElement(l.kt,{className:w.uu,text:(0,u.t)("navbar.navbar.guest"),color:l.Eo.INVERT,subtle:!0}):void 0,icon:n.createElement(v.c,{className:d.cx.mr8.$,userId:r.userId,orgId:r.orgId,teamId:r.teamId}),isActive:i,isChecked:i,className:w.c1,callback:()=>e(m.kH({workspace:r,view:c})),activeClassName:w.W8}}))||[];t=(t=t.concat(s)).concat([{displayText:"",disabled:!0,separator:!0}])}),t};return n.createElement(n.Fragment,null,t&&n.createElement(y.I,{showPoint:!0,showCheckmarkOnRight:!0,lean:"left",leanPadding:R,items:(()=>{if($)return Z();let t=[];return I.orderedIds.forEach(r=>{let i=I.byId[r];t=(t=(t=t.concat([{displayText:i.email,optionHeight:k,icon:n.createElement("span",{className:w.Sg}),disabled:!0}])).concat(U[r].map(t=>{var r,a;let o=(0,g.OC)(x,t),s=!W&&(0,g.Yb)(x,t),c=!t.orgId,d=!1;t.orgId&&B.orgUsers[t.orgId]&&(d=(null==(r=B.orgUsers[t.orgId][t.userId])?void 0:r.permission)===f.y6.GUEST);let p=null==(a=null==q?void 0:q[t.userId])?void 0:a[t.orgId||"0"],_=j[t.orgId||"0"];return{displayText:o,optionHeight:D,badge:d?n.createElement(l.kt,{className:w.uu,text:(0,u.t)("navbar.navbar.guest"),color:l.Eo.INVERT,subtle:!0}):void 0,icon:n.createElement("div",{className:w.mg},(p||_)&&n.createElement("div",{className:w.AJ}),n.createElement(v.c,{userId:t.userId,orgId:t.orgId})),subText:c&&i.external_restricted_org_id?(0,u.t)("navbar.workspaces.disabled_by_your_admins"):void 0,alternativeRightIconIfNotChecked:c&&i.external_restricted_org_id?A.c:void 0,isActive:s,isChecked:s,className:w.c1,activeClassName:w.W8,callback:()=>e(m.kH({workspace:t})),"data-onboarding-key":c?N:void 0}}))).concat([{displayText:"",disabled:!0,separator:!0}])}),t})().concat((()=>{let t=!!Y&&Object.values(Y).some(e=>e),i=(0,b.sF)(I.byId,W,x.user,G,V,F,Y,H,r,e);if(i.length>1){let e=[{displayText:K?"":(0,u.t)("navbar.community.browse_community_workspace_switcher_label"),optionHeight:k,itemBadge:K?n.createElement("div",{className:w.GI},n.createElement(u.Tx,{id:"navbar.community.browse_community_workspace_switcher_label"}),n.createElement("a",{href:"https://help.figma.com/hc/articles/4404108672663",target:"_blank",className:w.Ck},n.createElement(s.A,{svg:T.c,className:w.Yj}))):void 0,icon:n.createElement("span",{className:w.OP}),disabled:!0}];return[{displayText:(0,u.t)("navbar.community.community_label"),optionHeight:k,icon:n.createElement("div",{className:w.mg},t&&n.createElement("div",{className:w.AJ}),n.createElement(c._,{svg:S.c,fallbackSvg:C.c})),onMouseEnter:()=>(0,_.IR)("submenu",r.view),className:w.MH,children:e.concat(i),activeClassName:w.W8,"data-onboarding-key":L}]}if(1!==i.length)return[];{let e=i[0];return[{displayText:(0,u.t)("navbar.community.community_label"),sideText:e.sideText,rightJustifySideText:!0,optionHeight:k,icon:n.createElement("div",{className:w.mg},t&&n.createElement("div",{className:w.AJ}),n.createElement(c._,{svg:S.c,fallbackSvg:C.c})),activeClassName:w.W8,isActive:e.isActive,isChecked:e.isChecked,className:w.MH,callback:e.callback,"data-onboarding-key":L}]}})()),onSelectItem:(t,r)=>{t.callback&&t.callback("",null,e)},parentRect:a,dispatch:e,minWidth:P,rootAndSubmenuMaxWidth:M}))}},862560:(e,t,r)=>{"use strict";let n;r.d(t,{M7:()=>x,cI:()=>B,_g:()=>U});var i=r(307824),a=r(120304),o=r(4580),l=r(843148),s=r(87975),c=r(204792),d=r(537096),u=r(560072),p=r(403132),m=r(46604),_=r(257200),h=r(323576),g=r(195388),f=r(441388),E=r(628),y=r(134372),b=r(402980),v=r(514916),I=r(685656),w=r(191252),T=r(596496),S=r(740718),C=r(116492),A=r(916924),O=r(45628),N=r(765848),L=((n=L||{})[n.DESIGN=0]="DESIGN",n[n.DESIGN_SELECTED=1]="DESIGN_SELECTED",n[n.WHITEBOARD=2]="WHITEBOARD",n[n.WHITEBOARD_SELECTED=3]="WHITEBOARD_SELECTED",n);function R(e){switch(e.type){case 0:return i.createElement(d.A,{svg:N.c,className:"file_badges--figmaDesignBadge--0Bza6"});case 1:return i.createElement(d.A,{svg:N.c,className:"file_badges--figmaDesignBadgeSelected--SS-iQ"});case 2:return i.createElement(d.A,{svg:O.c,className:"file_badges--figjamBadge--lFKrQ"});case 3:return i.createElement(d.A,{svg:O.c,className:"file_badges--figjamBadgeSelected--PyCgN"});default:(0,A.gy)(e.type)}}var P=r(201348);let M="new_file_dropdown--dropdownOptionGroup--BiMgZ",k="new_file_dropdown--optionSubtext--iSTIe";var D=r(800886);let F=(0,f.wB)(c.g.Option),x="CREATE_FILES_ONBOARDING_KEY";function U(e){let t=(0,b.Ad)(),r=(0,o.q)(t=>({selectedView:e?m.SW(e).payload:t.selectedView,currentOrgId:t.currentUserOrgId,orgById:t.orgById,currentTeamId:t.currentTeamId,teams:t.teams}));return{...t,...r}}function B(e){let{from:t,anchorRef:r,team:n,lean:o}=e,f=U(e.folder.id),A=(0,b.QN)(null==f?void 0:f.currentOrgId),O=(0,b.Oy)(e.folder,v.aE.WHITEBOARD),N=(0,b.Oy)(e.folder,v.aE.DESIGN),B=(0,b.wV)(e.folder,v.aE.WHITEBOARD),G=(0,b.wV)(e.folder,v.aE.DESIGN),V=(0,i.useRef)(null),H=(0,a.OY)(),[W,K]=(0,i.useState)(null),[Y,q]=i.useState(!1),[j,$]=i.useState(!1),Z=r.current;if((0,i.useLayoutEffect)(()=>{if(!Z)return;let e=Z.getBoundingClientRect();e.y+=4,K(e)},[Z]),!W)return null;let z=(e,r,i)=>{let a={state:f,editorType:i,team:n,from:t,openNewFileIn:(0,s.mM)(e)?I.mM.NEW_TAB:I.mM.SAME_TAB};H(_.Ah(a)),H(p.yi())},Q=e=>{var t;let r=null==(t=f.user)?void 0:t.id,n=f.currentOrgId,i=n&&f.orgUsersByOrgId.orgUsers[n],a=r&&i&&i[r];n&&a&&H((0,h.A5)({type:C.S,data:{orgId:n,orgUser:a,entryPoint:g.aK.CreateFile,licenseType:(0,E.kl)(e)}}))};return i.createElement(i.Fragment,null,i.createElement(S.Mx,{leanPadding:8,lean:o,targetRect:W,ref:V,className:"new_file_dropdown--newFileDropdown--9Iki6",onboardingKey:(0,T.CO)(e.folder)?x:void 0,propagateCloseClick:!0},i.createElement(F,{disabled:!G,key:"design",onPointerUp:e=>G&&!N?Q(v.aE.DESIGN):z(e,!1,v.aE.DESIGN),className:"new_file_dropdown--extraSpaceOption--7prXh",onPointerOver:()=>q(!0),onPointerOut:()=>q(!1)},i.createElement("div",{className:M},i.createElement("span",null,i.createElement(u.Tx,{id:"sidebar.new_design_file"})),G&&!N&&i.createElement("span",{className:k},i.createElement(u.Tx,{id:"sidebar.need_an_upgrade_to_create"}))),i.createElement(R,{type:Y?L.DESIGN_SELECTED:L.DESIGN})),i.createElement(F,{disabled:!B,key:"whiteboard",onPointerUp:e=>B&&!O?Q(v.aE.WHITEBOARD):z(e,!1,v.aE.WHITEBOARD),onPointerOver:()=>$(!0),onPointerOut:()=>$(!1),className:B?"new_file_dropdown--purpleHoverOption--im1na":""},i.createElement("div",{className:M},i.createElement("div",{className:"new_file_dropdown--figjamFileOptionContainer--073AK"},i.createElement("span",null,i.createElement(u.Tx,{id:"sidebar.new_fig_jam_file"}))),A&&i.createElement("span",{className:k},i.createElement(u.Tx,{id:"sidebar.disabled_by_your_organization"})),B&&!O&&i.createElement("span",{className:k},i.createElement(u.Tx,{id:"sidebar.need_an_upgrade_to_create"}))),i.createElement(R,{type:j?L.WHITEBOARD_SELECTED:L.WHITEBOARD})),i.createElement(c.g.Separator,null),i.createElement(F,{key:P.g.IMPORT,onClick:()=>{H(m.SW(e.folder.id)),H((0,y.M)({showImportModal:(0,l.Ub)().figjam_3p_file_importer}))},disabled:!O&&!N,onboardingKey:w.s},i.createElement("div",{className:M},i.createElement(u.Tx,{id:"sidebar.import"})),i.createElement("span",{className:"new_file_dropdown--icon--tjtCA"},i.createElement(d.A,{svg:D.c})))))}},265260:(e,t,r)=>{"use strict";r.d(t,{IL:()=>o,Yf:()=>a,me:()=>i});var n=r(307824);function i(e){return n.createElement("div",{"data-tooltip-type":e.dataTooltipType,"data-tooltip":e.dataTooltip,"data-tooltip-show-above":e.dataTooltipShowAbove,"data-tooltip-show-below":e.dataTooltipShowAbove,"data-tooltip-max-width":e.dataTooltipMaxWidth,"data-tooltip-timeout-delay":e.dataTooltipTimeout,"data-testid":"notice-icon-yellow",className:e.className,style:e.style},n.createElement("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("path",{d:"M8 16C8 11.5817 11.5817 8 16 8V8C20.4183 8 24 11.5817 24 16V16C24 20.4183 20.4183 24 16 24V24C11.5817 24 8 20.4183 8 16V16Z",fill:`var(${e.faded?"--color-bg-warning-tertiary":"--color-icon-warning"}, #FFEB00)`}),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16 11.7499C16.4142 11.7499 16.75 12.0857 16.75 12.4999V15.6259C16.75 16.0401 16.4142 16.3759 16 16.3759C15.5858 16.3759 15.25 16.0401 15.25 15.6259V12.4999C15.25 12.0857 15.5858 11.7499 16 11.7499Z",fill:`var(${e.faded?"--color-text":"--color-icon-onwarning"}, #FFEB00)`}),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16 17.9999C16.5523 17.9999 17 18.4476 17 18.9999V19.0685C17 19.6208 16.5523 20.0685 16 20.0685C15.4477 20.0685 15 19.6208 15 19.0685V18.9999C15 18.4476 15.4477 17.9999 16 17.9999Z",fill:`var(${e.faded?"--color-text":"--color-icon-onwarning"}, #FFEB00)`})))}function a(e){return n.createElement("div",{"data-tooltip-type":e.dataTooltipType,"data-tooltip":e.dataTooltip,"data-tooltip-show-above":e.dataTooltipShowAbove,"data-tooltip-show-below":e.dataTooltipShowAbove,"data-tooltip-max-width":e.dataTooltipMaxWidth,"data-tooltip-timeout-delay":e.dataTooltipTimeout,"data-testid":"notice-icon-yellow-new",className:e.className,style:e.style},n.createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("rect",{x:"16",y:"16",width:"16",height:"16",rx:"8",transform:"rotate(-180 16 16)",fill:`var(${e.faded?"--color-bg-warning-tertiary":"--color-icon-warning"})`}),n.createElement("path",{d:"M8.5 8.66701H7.5L7.5 6.50001V4.66701H8.5V6.50001V8.66701ZM8.666 10.667C8.666 11.035 8.368 11.333 7.999 11.333C7.631 11.333 7.333 11.035 7.333 10.667C7.333 10.298 7.631 10 7.999 10C8.368 10 8.666 10.298 8.666 10.667Z",fill:`var(${e.faded?"--color-text":"--color-icon-onwarning"})`})))}function o(e){return n.createElement("div",{"data-tooltip-type":e.dataTooltipType,"data-tooltip":e.dataTooltip,"data-tooltip-show-above":e.dataTooltipShowAbove,"data-tooltip-show-below":e.dataTooltipShowAbove,"data-tooltip-max-width":e.dataTooltipMaxWidth,"data-tooltip-timeout-delay":e.dataTooltipTimeout,className:e.className,style:e.style},n.createElement("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("path",{d:"M7.5 16C7.5 11.5817 11.0817 8 15.5 8V8C19.9183 8 23.5 11.5817 23.5 16V16C23.5 20.4183 19.9183 24 15.5 24V24C11.0817 24 7.5 20.4183 7.5 16V16Z",fill:"var(--color-iconprototypefile, #00001a)"}),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15.5 11.75C15.9142 11.75 16.25 12.0858 16.25 12.5V15.626C16.25 16.0402 15.9142 16.376 15.5 16.376C15.0858 16.376 14.75 16.0402 14.75 15.626V12.5C14.75 12.0858 15.0858 11.75 15.5 11.75Z",fill:"var(--color-icon-onwarning, #FFEB00)"}),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15.5 18C16.0523 18 16.5 18.4477 16.5 19V19.0686C16.5 19.6208 16.0523 20.0686 15.5 20.0686C14.9477 20.0686 14.5 19.6208 14.5 19.0686V19C14.5 18.4477 14.9477 18 15.5 18Z",fill:"var(--color-icon-onwarning, #FFEB00)"})))}},331560:(e,t,r)=>{"use strict";r.d(t,{C_:()=>p,Md:()=>_,ie:()=>m});var n=r(307824),i=r(703520),a=r(71556),o=r(698240),l=r(560072),s=r(597624),c=r(784740),d=r(269308),u=r(410984);function p(e){return n.createElement(s.g,{height:200,verticalAlignItems:"center",horizontalAlignItems:"center"},e.children)}function m(e){let t=e.selectedViewAndTab.view===u.OS.ORG?e.selectedViewAndTab:void 0,r=t?t.tab??u.OC.LIBRARIES:void 0,i=r?(0,d.S)(u.uY.RESOURCES,r):(0,l.t)("resources_tab.libraries");return n.createElement(s.g,{direction:"vertical",spacing:0,height:"hug-contents"},n.createElement(s.g,{height:80,spacing:24,backgroundColor:"default",dataTestId:"resources-section-container-header"},n.createElement(c.a,{fontSize:24,fontWeight:"regular"},i),e.leftActions,n.createElement(s.O,null),e.rightActions),e.notices&&n.createElement(s.g,{direction:"vertical",height:"hug-contents",spacing:24,padding:{bottom:24}},e.notices))}function _(e){return e.isLoading?n.createElement(p,null,n.createElement(i.WA,null)):n.createElement(a.f,{className:o.cx.wFull.hFull.$},n.createElement(s.g,{padding:{horizontal:32}},n.createElement(m,{selectedViewAndTab:e.selectedViewAndTab,leftActions:e.leftActions,rightActions:e.rightActions,notices:e.notices})),n.createElement("div",{className:o.cx.wFull.$},e.children))}},382240:(e,t,r)=>{"use strict";let n;r.d(t,{MJ:()=>U,qj:()=>G,gJ:()=>B,KQ:()=>D,Ih:()=>k,qS:()=>M,K2:()=>V,u2:()=>F});var i=r(307824),a=r(602216),o=r(120304),l=r(204792),s=r(537096),c=r(698240),d=r(560072),u=r(771668),p=r(403132),m=r(441388),_=r(993608),h=r(833492),g=r(216500),f=r(514916),E=r(146124),y=r(142548),b=r(740718),v=r(557008),I=r(721500),w=r(964992),T=r(49068);let S="shared_table--batchActionsSelector--RHjtW",C="shared_table--whiteChevron--nrA-L";var A=r(851540);let O=(0,I.I)(T.sv),N=(0,I.I)(T.cf),L="BATCH_CHANGE_LICENSE_GROUP_DROPDOWN",R="BATCH_CHANGE_WORKSPACE_DROPDOWN",P="BATCH_EDIT_ORG_ACCESS_DROPDOWN";function M(e){return i.createElement(m.UV,{className:e.disabled?"shared_table--optionDisabled--nqqvb shared_table--_optionBase--p1jvR shared_table--_disabled--aygfl":"shared_table--option--lzikw shared_table--_optionBase--p1jvR",onClick:e.onClick,trackingProperties:e.trackingProperties,...e.tooltip?{"data-tooltip-type":y.wL.TEXT,"data-tooltip":e.tooltip,"data-tooltip-show-above":!0}:{}},e.label)}function k(e){var t;let r=(null==(t=e.dropdownShown)?void 0:t.type)===e.dropdownType,n=(0,d.t)("multi_select_list.filter_default"),a=null===e.selectedValue?n:e.getDisplayText(e.selectedValue),o=e.hideDefaultOption?e.values.length*O:(e.values.length+1)*O+N;return i.createElement(D,{dispatch:e.dispatch,type:e.dropdownType,showingDropdown:r},i.createElement("div",{"data-onboarding-key":e["data-onboarding-key"],className:c.cx.maxW200.ellipsis.overflowHidden.$},e.getSelectedDisplayText?i.createElement("span",{className:c.cx.noWrap.$},e.getSelectedDisplayText(e.selectedValue)):i.createElement(i.Fragment,null,i.createElement("span",{className:c.cx.noWrap.$},e.label,":")," ",i.createElement("span",{className:c.cx.noWrap.$},a))),r&&i.createElement(l.g.DropdownWithScrim,{stopScrollPropagation:!0,dispatch:e.dispatch,className:w.Si,style:e.dropdownShown.data.position},i.createElement(b.AK,{maxDropdownHeight:e=>Math.round(.5*e),dropdownChildrenHeight:o},!e.hideDefaultOption&&i.createElement(i.Fragment,null,i.createElement(l.g.CheckableOptionTrackable,{checked:null===e.selectedValue,onClick:()=>e.updateFilter(null),trackingProperties:{filterType:e.dropdownType}},n),i.createElement(l.g.Separator,null)),e.values.map(t=>i.createElement(l.g.CheckableTwoColumnOptionTrackable,{key:e.getDisplayText(t),checked:e.selectedValue===t,onClick:()=>e.updateFilter(t),primaryText:e.getDisplayText(t),secondaryText:null===e.selectedValue&&e.getCount?e.getCount(t).toString():"",trackingProperties:{filterType:e.dropdownType,text:e.getDisplayText(t)}})))))}class D extends i.PureComponent{constructor(){super(...arguments),this.toggleDropdown=e=>{if(e.preventDefault(),e.stopPropagation(),this.props.showingDropdown)this.props.dispatch(p.yi());else{let e;let t=a.findDOMNode(this).getBoundingClientRect(),r=t.top>=window.innerHeight-200;e=this.props.isMultilevelDropdown?{targetRect:t}:{position:{top:r?"auto":t.top,bottom:r?36:"auto",left:this.props.isRightAligned?"auto":Math.min(t.left,window.innerWidth-180),right:this.props.isRightAligned?window.innerWidth-Math.max(t.right,180):"auto"}},this.props.dispatch(p.Qn({type:this.props.type,data:e}))}}}render(){return i.createElement("div",{className:`${this.props.isDisabled?w.GC:w.yW} ${this.props.className?this.props.className:""}`,onClick:this.props.isDisabled?void 0:this.toggleDropdown,"data-tooltip-type":this.props.tooltip?y.wL.TEXT:void 0,"data-tooltip":this.props.tooltip?this.props.tooltip:void 0,"data-tooltip-show-above":!!this.props.tooltip||void 0,"data-testid":"dropdown-selector"},this.props.children,!this.props.isDisabled&&!this.props.hideChevron&&i.createElement(s.A,{className:`${w.KY} ${this.props.chevronClassName?this.props.chevronClassName:""}`,svg:A.c}))}}var F=((n=F||{}).NONE="NONE",n.UNASSIGNED="UNASSIGNED",n.WORKSPACE="WORKSPACE",n);function x(e){let t=(0,o.OY)(),r=(0,h.g)(),n=i.createRef(),a=0,s=e.workspaces.map(t=>{let r="WORKSPACE"===e.selectedWorkspace.type&&e.selectedWorkspace.workspaceId===t.id;return i.createElement(l.g.CheckableOptionTrackable,{key:t.id,checked:r,onClick:r?void 0:()=>e.onChange(t)},t.name)});a+=O*s.length,s.push(i.createElement(l.g.Separator,{key:"separator"})),a+=N;let c="UNASSIGNED"===e.selectedWorkspace.type;s.push(i.createElement(l.g.CheckableOptionTrackable,{key:"",checked:c,onClick:c?void 0:()=>e.onChange(null)},c?"Unassigned":"Unassign")),a+=O;let d=i.createElement(b.AK,{maxDropdownHeight:e=>Math.round(.8*e),dropdownChildrenHeight:a,ref:n},s);return i.createElement(l.g.DropdownWithScrim,{dispatch:t,className:"shared_table--batchActionsSelectorDropdown--rCt6G",style:r.data.position},d)}function U(e){let t=(0,o.OY)(),r=(0,h.g)();if(!(0,g.ek)()||0===e.licenseGroups.length)return null;let n=(null==r?void 0:r.type)===L;return i.createElement(m.kH,{name:"Change billing group",trackingTargets:_.I.NONE},n&&i.createElement(x,{workspaces:e.licenseGroups,selectedWorkspace:e.selectedLicenseGroup,onChange:e.onChange}),i.createElement(D,{className:S,dispatch:t,showingDropdown:n,type:L,chevronClassName:C},i.createElement(d.Tx,{id:"members_table.batch_actions_menu.change_billing_group"})))}function B(e){let t=(0,o.OY)(),r=(0,h.g)();if(0===e.workspaces.length)return null;let n=(null==r?void 0:r.type)===R;return i.createElement(m.kH,{name:"Change Workspace",trackingTargets:_.I.NONE},n&&i.createElement(x,{workspaces:e.workspaces,selectedWorkspace:e.selectedWorkspace,onChange:e.onChange}),i.createElement(D,{className:S,dispatch:t,showingDropdown:n,type:R,chevronClassName:C},i.createElement(d.Tx,{id:"members_table.batch_actions_menu.change_workspace"})))}function G({orgAccessOptions:e,selectedOrgAccess:t,onChange:r,disabled:n,tooltip:a}){let l=(0,o.OY)(),s=(0,h.g)(),c=(null==s?void 0:s.type)===P;return i.createElement(D,{className:n?"shared_table--batchActionsSelectorDisabled--dWdph shared_table--_disabled--aygfl":S,dispatch:l,isDisabled:n,tooltip:a,showingDropdown:c,type:P,chevronClassName:C},i.createElement(d.Tx,{id:"members_table.batch_actions_menu.edit_org_access"}),c&&i.createElement(v.u,{dispatch:l,dropdownShown:s,options:e,value:t,onChange:r}))}function V({orgId:e,orgAccess:t}){return(0,E.A)(null,e||null)&&(t===f.Ix.PRIVATE||t===f.Ix.SECRET)?i.createElement("div",{"data-tooltip-type":y.wL.TEXT,"data-tooltip":t===f.Ix.PRIVATE?(0,d.t)("teams_table.closed_team_tooltip_header"):(0,d.t)("teams_table.secret_team_tooltip_header"),"data-tooltip-subtext":t===f.Ix.PRIVATE?(0,d.t)("teams_table.closed_team_tooltip_subtitle"):(0,d.t)("teams_table.secret_team_tooltip_subtitle"),"data-tooltip-show-above":!0,"data-tooltip-timeout-delay":500,"data-tooltip-max-width":300},i.createElement(u.GW,{icon:"lock-16"})):null}},191252:(e,t,r)=>{"use strict";r.d(t,{o:()=>u,s:()=>d});var n=r(307824),i=r(120304),a=r(843148),o=r(560072),l=r(134372),s=r(201348),c=r(197280);let d="import";function u(){let e=(0,i.OY)();return n.createElement(c.k,{action:{kind:s.e.BUTTON,key:s.g.IMPORT,displayText:(0,o.t)("file_browser.folder.import"),onClick:()=>{e((0,l.M)({showImportModal:(0,a.Ub)().figjam_3p_file_importer}))},dataTestId:"file-import-button","data-onboarding-key":d}})}},197280:(e,t,r)=>{"use strict";r.d(t,{k:()=>m});var n=r(307824),i=r(125504),a=r.n(i),o=r(148276),l=r(703520),s=r(537096),c=r(698240),d=r(201348),u=r(912288);function p(e){switch(e.action.kind){case d.e.BUTTON:return n.createElement(n.Fragment,null,e.action.displayText);case d.e.ICON_BUTTON:return n.createElement(s.A,{svg:e.action.icon});case d.e.ICON_TEXT_BUTTON:return n.createElement(n.Fragment,null,n.createElement(s.A,{svg:e.action.icon,className:e.action.svgStyleClass,style:{alignSelf:"center",paddingRight:"5px"}}),n.createElement("div",null,e.action.displayText));case d.e.CUSTOM_BUTTON:return e.action.element;default:return null}}function m(e){if(e.action.kind===d.e.CUSTOM)return n.createElement("div",{className:u.Yn,key:e.action.key},e.action.element);let t="isLoading"in e.action&&!0===e.action.isLoading;return n.createElement(o.Sm,{key:e.action.key,className:a()(c.cx.flex.itemsCenter.justifyCenter.$,e.action.showOnMobile?null:u.Yn,e.action.hideOnDesktop?u.u2:null,"styleClass"in e.action?e.action.styleClass:null),"data-tooltip":"data-tooltip"in e.action?e.action["data-tooltip"]:void 0,"data-tooltip-type":"data-tooltip-type"in e.action?e.action["data-tooltip-type"]:void 0,"data-onboarding-key":"data-onboarding-key"in e.action?e.action["data-onboarding-key"]:void 0,dataTestId:"dataTestId"in e.action?e.action.dataTestId:void 0,innerText:"displayText"in e.action?e.action.displayText:void 0,onClick:"onClick"in e.action?e.action.onClick:void 0},t?n.createElement(l.M7,{className:c.cx.px4.$}):n.createElement(p,{action:e.action}))}},704208:(e,t,r)=>{"use strict";r.d(t,{g:()=>g,s:()=>h});var n=r(307824),i=r(120304),a=r(148276),o=r(703520),l=r(560072),s=r(317704),c=r(913368),d=r(141796),u=r(203736),p=r(887320),m=r(158196),_=r(239728);function h(e){let{profileId:t,profileHandle:r,emptyStateText:u}=e,m=(0,i.OY)(),[h,g]=n.useState([]),[f,E]=n.useState(!1);n.useEffect(()=>{E(!0),d.G.getRestrictedProfiles({profileId:t}).then(({data:e})=>{g(e.meta),E(!1)})},[t]);let y=(e,t)=>{g(h.map(r=>r.id===e?{...r,is_restricted_by_current_user:t}:r))},b=(e,t)=>{y(e,t),m(s.A.enqueue({message:t?(0,l.t)("community.comments.restricted_this_user_s_comments"):(0,l.t)("community.comments.unrestricted_this_user_s_comments"),type:"profile-restricted-change",button:{text:(0,l.t)("community.undo"),action:()=>{t?I(e):v(e)}}}))},v=t=>{m(c.q6({profileId:e.profileId,blockedProfileId:t,onSuccess:()=>b(t,!0)}))},I=t=>{m(c.O_({profileId:e.profileId,blockedProfileId:t,onSuccess:()=>b(t,!1)}))},w=h&&h.length>0;if(!u&&!w)return n.createElement(n.Fragment,null);if(f)return n.createElement(o.M7,null);let T=w?n.createElement(n.Fragment,null,r?(0,l.t)("community.comments.these_people_can_t_comment_on_any_of_profile_handles_community_files_and_plugins",{profileHandle:r}):(0,l.t)("community.comments.these_people_can_t_comment_on_any_of_your_community_files_and_plugins")):n.createElement(n.Fragment,null,u," ",n.createElement(l.Tx,{id:"community.comments.learn_more_about_managing_comments_on_your_files_and_plugins_in_community",learnMoreLink:n.createElement(a.gf,{href:"https://help.figma.com/hc/articles/1500002628062",target:"_blank",trusted:!0},n.createElement(l.Tx,{id:"general.learn_more"}))})," "),S=n.createElement("div",{className:e.wrapperClassName?e.wrapperClassName:""},n.createElement("div",{className:_.C4},h.map(e=>n.createElement(p.o,{profile:e,key:e.profile_handle,rightSide:e.is_restricted_by_current_user?n.createElement(a.wX,{onClick:I.bind(null,e.id)},n.createElement(l.Tx,{id:"community.comments.unrestrict"})):n.createElement(a.gV,{onClick:v.bind(null,e.id)},n.createElement(l.Tx,{id:"community.comments.restrict"}))}))));return n.createElement(n.Fragment,null,n.createElement("div",{className:_.G0},n.createElement(l.Tx,{id:"settings_tab.community_commenters_label"})),T,S)}let g=(0,u.U9)(function(e){let t=(0,i.OY)();return n.createElement(m.wJ,{dispatch:t,className:_.kv,popStack:!0},n.createElement(h,{profileId:e.profileId,profileHandle:e.profileHandle,emptyStateText:e.emptyStateText}))},"ProfilesBlockedFromCommentingModal")},270928:(e,t,r)=>{"use strict";r.d(t,{I:()=>m,c:()=>p});var n=r(307824),i=r(125504),a=r.n(i),o=r(446488),l=r(698240),s=r(803644),c=r(753644),d=r(182896),u=r(132556);function p(e){return n.createElement("div",{className:e.fillContainer?l.cx.wFull.hFull.$:d.qY},n.createElement(m,{thumbnail_url:e.thumbnail_url,additionalClassName:e.fillContainer?l.cx.wFull.hFull.$:d.c$,isLocked:e.isLocked}))}function m(e){let{isLocked:t}=e;return n.createElement("div",{className:a()({[e.additionalClassName||""]:!!e.additionalClassName,[u.eQ]:!0,[c.uS]:t}),style:t?{}:{background:`url(${(0,s.c)()})`}},n.createElement("div",{className:u.kr,style:{backgroundColor:"transparent"}},n.createElement("div",{className:u.AJ,style:t?{}:{backgroundImage:`url(${e.thumbnail_url})`}},t&&n.createElement(o.Yn,{additionalClassName:c.mS,iconClassName:c.eK}))))}},882980:(e,t,r)=>{"use strict";r.d(t,{I:()=>p,q:()=>m});var n=r(307824),i=r(125504),a=r.n(i),o=r(250008),l=r(698240),s=r(765064),c=r(306440),d=r(126104);function u({isSticky:e,hasTopDivider:t,children:r}){return n.createElement("div",{className:a()(d.os,{[l.cx.sticky.$]:e,[l.cx.bSolid.colorBorder.bt1.$]:t})},r)}function p(e){let{mobileToolBarSpacerStyle:t,containerStyle:r,metaContainerStyle:i}=e.collapseSidebarOnTabletView?{mobileToolBarSpacerStyle:"",containerStyle:d.IO,metaContainerStyle:d.__}:{mobileToolBarSpacerStyle:d.ij,containerStyle:d.uQ,metaContainerStyle:d.Ij},l=(0,c.c$)(),[s,p]=n.useState(!1),m=window.performance.getEntriesByType("navigation")[0];return n.useEffect(()=>{let e=null==m?void 0:m.loadEventEnd;0===e||s||((0,o.we)("File Browser Cold Start Page Load Time",{elapsedMs:e,selectedView:l.view},{forwardToDatadog:!0,batchRequest:!0}),p(!0))},[null==m?void 0:m.loadEventEnd,s,l.view]),n.createElement(n.Fragment,null,!!e.banner&&e.banner,e.toolbar,n.createElement("div",{className:t}),e.viewbar&&n.createElement(u,{isSticky:e.viewBarSticky},e.viewbar),!!e.belowToolbarBanner&&e.belowToolbarBanner,n.createElement("div",{className:a()(e.scrollableContainerClass,d.UF)},!!e.header&&e.header,n.createElement("div",{className:`${r} ${e.containerClass||""}`},e.metaContent&&n.createElement("div",{className:i},e.metaContent),n.createElement("div",{className:`${d.W8} ${e.contentContainerClass||""}`},e.content))))}function m(e){let{containerStyle:t,metaContainerStyle:r}=e.collapseSidebarOnTabletView?{containerStyle:d.IO,metaContainerStyle:a()(d.__,d.Yn)}:{containerStyle:d.uQ,metaContainerStyle:a()(d.Ij,d.Yn)};return n.createElement(n.Fragment,null,!!e.banner&&e.banner,!!e.header&&n.createElement("div",{className:d.Yp},e.header),n.createElement("div",{className:e.scrollableContainerClass?e.scrollableContainerClass:""},n.createElement("div",{className:`${t} ${e.containerClass||""}`},e.metaContent&&n.createElement("div",{className:r,style:s.sx.add({marginTop:"-24px"}).$},e.metaContent),n.createElement("div",{className:d.W8},e.toolbar&&n.createElement(u,{hasTopDivider:!0},e.toolbar),n.createElement("div",{className:e.contentContainerClass},e.content),e.footer&&n.createElement("div",{className:d.QL},e.footer)))))}},258932:(e,t,r)=>{"use strict";r.d(t,{Ed:()=>E,gJ:()=>y});var n=r(307824),i=r(120304),a=r(250008),o=r(560072),l=r(771668),s=r(784740),c=r(403132),d=r(815464),u=r(553432),p=r(142548),m=r(241645),_=r(353100),h=r(694404),g=r(138771),f=r(337024);function E(e){let t=(0,i.OY)(),r=(0,i.w1)(e=>e.teams)[e.team.id],l=n.useCallback(n=>{n.stopPropagation(),t(c.Ej({view:"teamAdminConsole",teamId:e.team.id,isProTeam:null==r?void 0:r.pro_team})),(0,a.we)("Admin Console Opened",{trackingContext:e.trackingContextName,entryPoint:"sidebar"})},[t,e.team,e.trackingContextName,null==r?void 0:r.pro_team]);return n.createElement(m.Qn,{svg:f.c,onClick:l,"data-tooltip-type":p.wL.TEXT,"data-tooltip":(0,o.t)("sidebar.admin_console"),className:"admin_console_button--button--beaKS addition_button--button--Wsk6Q"})}function y(e){let t=(0,i.OY)(),r=(0,i.w1)(e=>e.currentTeamId),a=(0,i.w1)(e=>e.teams),o=(0,i.w1)(u.getPermissionsState);if(!r)return null;let p=a[r];if(!(0,u.hasAdminRoleAccessOnTeam)(r,o)||!p||!(0,d.So)(p))return null;let m=e.selectedView&&"teamAdminConsole"===e.selectedView.view,f=n.createElement(h.m,{planType:_.gx.TEAM,planId:r,isSelected:m,isDataLoaded:!0});return n.createElement(g.W,{isSelected:m,onClick:()=>{t(c.Ej({view:"teamAdminConsole",teamId:r,isProTeam:p.pro_team})),t(c.cb({clickedResourceType:"teamAdminSettings",resourceIdOrKey:p.id}))},"data-onboarding-key":"PRO_ADMIN_SETTINGS_LINK_ONBOARING_KEY","data-testid":"admin-settings-link",icon:n.createElement(l.GW,{icon:"settings-16"}),text:n.createElement(s.a,{i18nId:"sidebar.admin_dashboard",truncate:!0}),badge:(null==p?void 0:p.pro_team)?f:void 0})}},793604:(e,t,r)=>{"use strict";r.d(t,{Ep:()=>f,GS:()=>g,U7:()=>_});var n=r(307824),i=r(120304),a=r(843148),o=r(838836),l=r(560072),s=r(645484),c=r(403132),d=r(782800),u=r(108688),p=r(800300);let m=(e,t,r,n={})=>e?[{displayText:t||"",callback:r,...n}]:[],_="organize-favorite-menu",h=()=>{let e=(0,i.w1)(e=>e.dropdownShown);return e&&(null==e?void 0:e.type)===_?e:null};function g(e){let t=(0,i.OY)(),r=(0,i.w1)(e=>e.currentTeamId),a=(0,i.w1)(e=>e.currentUserOrgId),o=(0,i.w1)(e=>e.mobileNavShown),l=(0,i.w1)(e=>e.favorites.collapsedCustomSections),s=n.useMemo(()=>(0,d.Ks)(e.sections,e.customSectionOrdering),[e.sections,e.customSectionOrdering]),c=h();if(null==c)return null;let{updateFavorite:p,resourceId:m,resourceType:_,isFavorited:g,currentSectionId:E}=e,y=f({dispatch:t,currentOrgId:a,currentTeamId:r,collapsedCustomSections:l,updateFavorite:p,resourceId:m,resourceType:_,isFavorited:g,currentSectionId:E,sections:s,mobileNavShown:o});return n.createElement(u.I,{items:y,parentRect:c.data.targetRect,showPoint:!!e.showPoint,lean:"right",recordingKey:"organize-favorited-dropdown",dispatch:t,onSelectItem:(e,r)=>{var n;null==(n=e.callback)||n.call(e,"",{},t,r)}})}function f(e){let{dispatch:t,currentOrgId:r,currentTeamId:n,collapsedCustomSections:i,updateFavorite:d,resourceId:u,resourceType:_,isFavorited:h,currentSectionId:g,sections:f}=e,E=(e,n)=>{d(e,n),t(c.yi()),e&&n&&(i.delete(n),t(s.Id({collapsedCustomSections:i})),p.OO({type:"topLevel",id:"custom",orgId:r,sectionId:n},!0))},y=f.map(e=>({displayText:""===e.name?(0,l.t)("sidebar.starred"):e.name,isChecked:h&&g===e.id,alwaysShowCheckMarkOffset:!0,callback:()=>E(!(h&&g===e.id),e.id)})),b=[...m(h,null,o.Kw,{separator:!0}),...m(h,(0,l.t)("favorited_resources.remove_from_sidebar"),()=>E(!1))],v=n&&(0,a.Ub)().ps_benchmark,I=[...m(!e.showFavoriteOptionsOnly&&!v,(0,l.t)("favorited_resources.create_a_new_section"),()=>{void 0===e.mobileNavShown||e.mobileNavShown||t(c.IL());let r=g?f.findIndex(e=>e.id===g):0;_&&t(s.eA({movingResource:{resourceId:u,isFavorited:!0,resourceType:_}})),t(s.cz({newCustomSectionIndex:r})),t(c.yi())})],w=[{displayText:"",separator:!0}],T=f.find(e=>e.id===g),S=h?`${(0,l.t)("favorited_resources.indicate_section_prefix")}: ${(null==T?void 0:T.name)||(0,l.t)("sidebar.starred")}`:(0,l.t)("favorited_resources.add_to_sidebar");return f.length>4?[{displayText:S,children:[...y,...w,...I]},...b]:[...m(!0,(0,l.t)("favorited_resources.add_to_sidebar"),o.Kw,{disabled:!0}),...y,...w,...b,...w,...I]}},919268:(e,t,r)=>{"use strict";r.d(t,{c:()=>K,o:()=>Y});var n=r(307824),i=r(120304),a=r(250008),o=r(721500),l=r(760780),s=r(843148),c=r(814508),d=r(698240),u=r(967540),p=r(560072),m=r(317704),_=r(21156),h=r(241040),g=r(323576),f=r(441388),E=r(993608),y=r(90340),b=r(202613),v=r(671788),I=r(596496),w=r(514916),T=r(658784),S=r(815464),C=r(553432),A=r(368974),O=r(644516),N=r(841676),L=r(790548),R=r(546772),P=r(534248),M=r(108688),k=r(117440),D=r(92280),F=r(694752),x=r(368168),U=r(866408),B=r(504007),G=r(131940),V=r(235908),H=r(400764),W=r(763456);function K(){let e=(0,i.w1)(e=>e.fileKeysByFolderId),t=(0,i.w1)(e=>e.repoIdsByFolderId),r=(0,i.w1)(e=>(0,C.getPermissionsState)(e)),n=(0,i.w1)(e=>e.currentUserOrgId),l=(0,i.w1)(e=>e.currentTeamId),m=(0,i.w1)(e=>e.loadedFolders),f=(0,G.a)(),E=(0,c.cQ)(v.Qj),y=n||l,P=(0,i.w1)(e=>e.teams),M=(0,i.OY)();return({folder:i,useLGPerms:l,onRenameClick:c,shouldShowJoinButton:G,onRevokeTransfer:K,getPendingInfo:Y,pendingTransfer:q})=>{var j,$,Z,z,Q,X,J;let ee=i.teamId,et=i&&i.teamId?P[i.teamId]:void 0,er=null==et?void 0:et.org_id,en=()=>{M(g.A5({type:H.G,data:{folder:i}}))},ei=({canTransferProject:e,canAccessPaidFeatures:t,team:r})=>{let n=(0,s.Ub)().enable_starter_team_transfers;if(!r||!e){eo();return}if(t||n){ea();return}M(g.A5({type:F.EP,data:{team:r,resource:N.We.PROJECT_TRANSFER,currentPlan:b.O.Plan.STARTER,upsellPlan:b.O.Plan.PRO}}))},ea=()=>{i.teamId&&Y&&M(g.A5({type:U.or,data:{folder:r.folders[i.id],team:r.teams[i.teamId],entryPoint:B.Ud.PROJECT_SETTINGS,onRequestClose:Y}}))},eo=()=>{i.teamId&&M(g.A5({type:U.sx,data:{folder:r.folders[i.id],team:r.teams[i.teamId],entryPoint:B.Ud.PROJECT_SETTINGS}}))},el=e=>{q&&K&&M(g.A5({type:V.u,data:{pending:q,canTransferProject:e,onRevokeTransfer:K}}))},es=(0,I.El)(i),ec=!1;ec=l?!!(null==(j=i.folderPerms)?void 0:j.canEdit):i.canEdit;let ed=!1;ed=l?!!(null==($=i.folderPerms)?void 0:$.canDelete):i.teamId?(0,C.hasEditorRoleAccessOnTeam)(i.teamId,r)&&ec:es?ec:(0,C.canOwnFolder)(i.id,r);let eu=!1;eu=l?!!(null==(Z=i.folderPerms)?void 0:Z.canShare):!es;let ep=!1;ep=l?!!(null==(z=i.folderPerms)?void 0:z.canMove):ec&&null==i.inviteOnlyAt&&null==i.viewOnlyAt;let em=!1,e_=!1,eh=i.teamId?r.teams[i.teamId]:void 0;if(l)em=!!(null==(Q=i.folderPerms)?void 0:Q.canSeeTransferOption),e_=!!(null==(X=i.folderPerms)?void 0:X.canTransfer);else{let e=(0,T.s5)(r),t=(null==e?void 0:e.permission)===w.y6.ADMIN,n=(null==eh?void 0:eh.id)&&(0,C.hasAdminRoleAccessOnTeam)(null==eh?void 0:eh.id,r);em=!!((null==e?void 0:e.permission)!==w.y6.GUEST&&eh&&(0,C.canViewTeam)(eh.id,r)),e_=!!t||!!(!(null==eh?void 0:eh.org_id)&&n)}let eg=!1;if(l)eg=!!(null==(J=i.folderPerms)?void 0:J.canEditDescription);else{let e=(0,S.KQ)({...i,is_invite_only:null!==i.inviteOnlyAt,is_view_only:null!==i.viewOnlyAt,team_id:i.teamId},r);eg=i.canEdit&&!e}let ef=window.innerWidth<=(0,o.I)(W.Q92),eE=!eu||!ef,ey=[];return i.description&&(ey.push({displayText:(0,p.t)("project_menu.description"),disabled:!0},{displayText:i.description,displayTextClassname:d.cx.colorTextMenuSecondary.preWrap.$,disabled:!0},{displayText:"",separator:!0}),eg&&ey.push({displayText:(0,p.t)("project_menu.edit_description"),callback:en},{displayText:"",separator:!0})),!i.description&&eg&&ey.push({displayText:(0,p.t)("project_menu.add_description"),callback:en}),ey.push({displayText:(0,p.t)("file_browser.copy_link"),callback:()=>{let e=(0,L.CE)(i.id,n);M(_.L2({url:e}))}}),G||(eE||ey.push({displayText:(0,p.t)("sidebar.share"),callback:()=>{M((0,v.wN)({folderId:i.id,loadedFolders:m})),M(g.A5({type:x.w,data:{folderId:i.id}}))}}),(er===y||ee===y)&&ey.push({displayText:(0,p.t)("sidebar.move_project"),callback:()=>{M((0,v.wN)({folderId:i.id,loadedFolders:m})),M(g.A5({type:D.yi,data:{folderId:i.id}}))},disabled:!ep}),c&&ey.push({displayText:(0,p.t)("sidebar.rename"),callback:()=>{c&&c(i)},disabled:!ec}),f||ey.push({displayText:i.isSubscribed?(0,p.t)("sidebar.remove_from_favorites"):(0,p.t)("sidebar.add_to_favorites"),callback:()=>{M(h.Ev({folderId:i.id,folderName:i.path,teamId:i.teamId,isSubscribed:!i.isSubscribed}))}}),ey.push({displayText:"",separator:!0}),em&&!q&&ey.push({displayText:(0,p.t)("project_menu.transfer"),callback:()=>ei({canTransferProject:e_,canAccessPaidFeatures:!!(eh&&(0,O.uO)(eh)),team:eh}),trackingProperties:{canUserAccessProFeature:!!(eh&&(0,O.uO)(eh))}}),q&&em&&ey.push({displayText:"",separator:!0},{displayText:(0,p.t)("project_menu.pending_transfer_request"),disabled:!0},{displayText:(0,p.t)("project_menu.view_transfer_details"),callback:()=>el(!!e_)},{displayText:"",separator:!0}),ey.push({displayText:(0,p.t)("project_menu.delete"),callback:()=>{var r;(0,a.we)("Folder Delete Click",{folderId:i.id,teamId:i.teamId,orgId:i.orgId});(l?!!(null==(r=i.folderPerms)?void 0:r.canSkipDeletionConfirmation):(0,I._c)(i.id,{fileKeysByFolderId:e,repoIdsByFolderId:t}))?E({folderId:i.id}).catch(()=>{M(u.M.error((0,p.t)("file_browser.api_folder.error_when_deleting")))}):M(g.A5({type:k.q,data:{folder:i}}))},disabled:!ed}),ed||i.teamId||ey.push({displayText:(0,p.t)("sidebar.leave_shared_project"),callback:()=>{M((0,A.M$)({role:r.roles.byFolderId[i.id][r.user.id],level:R.m.NONE}))}})),ey}}function Y({className:e,folder:t,useLGPerms:r,onRenameClick:a}){var o;let s=(0,i.w1)(e=>e.dropdownShown),c=(0,i.OY)(),[d,u]=n.useState(void 0),p=()=>{P.s.getFolderTransfer({folderId:t.id}).then(({data:e})=>{u(e.meta)},e=>{u(void 0)})};(0,l.u)(()=>{p()});let _=(0,f.U1)(),h=K(),g=null==(o=null==s?void 0:s.data)?void 0:o.targetRect;if(!g)return null;let b=h({folder:t,useLGPerms:r,onRenameClick:a,onRevokeTransfer:()=>{d?P.s.deleteAssetTransferRequest({id:d.id}).then(()=>{u(void 0),c(m.A.enqueue({message:"Transfer revoked."}))},e=>{c(m.A.enqueue({message:"Something went wrong - check your connection and try again",error:!0}))}):c(m.A.enqueue({message:"No pending transfer found for this project.",error:!0}))},getPendingInfo:p,pendingTransfer:d});return n.createElement(f.kH,{trackingTargets:E.I.RCS,name:"Folder Context Menu"},n.createElement(M.I,{className:e,items:b,parentRect:g,showPoint:!1,lean:"right",dispatch:c,onSelectItem:(e,t)=>{e.callback&&e.callback("",{},c,t),e.trackingProperties&&(0,y.a2)({..._.properties,trackingContext:_.name,...e.trackingProperties})}}))}},789420:(e,t,r)=>{"use strict";r.d(t,{gy:()=>C,iM:()=>S,u0:()=>A,uM:()=>O});var n=r(307824),i=r(120304),a=r(980068),o=r(102184),l=r(537096),s=r(967540),c=r(560072),d=r(942540),u=r(403132),p=r(46604),m=r(245024),_=r(383620),h=r(671788),g=r(596496),f=r(514916),E=r(553432),y=r(246216),b=r(711213),v=r(226504),I=r(138771),w=r(964112),T=r(771488);let S=e=>`new-file-from-folder-link-${e}`;function C(e){return e&&e.type===A?e.data.folder:null}let A="nav-folder-context-menu",O=(0,i.Ul)((e,t)=>{let r=(0,a.ei)(E.canCreateFileOrRequestUpgradeLG),n=r(t.folder,e,f.aE.WHITEBOARD),i=r(t.folder,e,f.aE.DESIGN);return{shouldSeeCreateFileButton:n||i,dragState:e.dragState}})(function(e){var t;let r=n.useRef(null),a=(0,i.OY)(),[f,E]=n.useState(!1),[O,N]=n.useState(!1),L=()=>!e.folder.teamId&&e.folder.path,R=(e,t)=>{t.stopPropagation(),t.preventDefault();let r={top:t.clientY,right:t.clientX,bottom:t.clientY,left:t.clientX,width:1,height:1};a(u.Qn({type:A,data:{folder:{...e,isSubscribed:!0,description:e.description},targetRect:r}}))},P=t=>{let{folder:r}=e;if(t.isFigFiles()){E(!1);let n=t.getData();return!!n&&(a(m.I({files:n,folder:r,team:e.team})),!0)}if(t.isRepos()){E(!1);let n=t.getReposData();return!!n&&(a(m.I({files:n.files,repos:n.repos,folder:r,team:e.team})),!0)}return!1},M=(e,t)=>{a((0,h.ao)({folderId:e.id,folderName:t})),a(u.gF({folderId:e.id}))},k=e.folder;if(e.renamingNavFolderWithId===k.id)return n.createElement(I.W,{useSpacer:!0,text:n.createElement("div",{key:`rename-input-${k.id}`,className:w.kb},n.createElement(b.E,{className:w._y,placeholderValue:k.path,submit:e=>{M(k,e)},cancel:()=>{let t=e.folder;a(u.gF({folderId:t.id}))}}))});let D=(0,g.iM)(k),F=e.disambiguationFolders?(0,g.s1)(k,e.disambiguationFolders,e.permissionsState.teams,e.permissionsState.roles):void 0,x=e.draggable,U=x&&(O||e.dragState.type===y.A.Folder&&(null==(t=e.dragState.data)?void 0:t.id)===e.folder.id),B=w.kb,G=null,V=C(e.dropdownShown),H="folder"===e.selectedView.view&&e.selectedView.folderId===k.id;H&&(G=e.selectedItemRef),V&&V.id===k.id?B=w.UN:f&&(B=w.wH);let W=e.shouldSeeCreateFileButton?n.createElement(v.I,{folder:e.folder,dropdownType:S(e.folder.id),isUserDraftFolder:!1}):void 0,K=`(${F})`;return n.createElement("div",{ref:G},n.createElement(o.g,{className:B,title:D.length>28?D:void 0,draggable:x,isDragTarget:e=>{let t=new _.oJ(e);return t.isFigFiles()||t.isRepos()},onTargetDragEnter:e=>{L()||E(!0)},onTargetDragLeave:e=>{L()||E(!1)},onTargetDrop:e=>{if(L()){a(s.M.error((0,c.t)("file_browser.error_on_move_to_personal_project")));return}P(new _.oJ(e))},onDragStart:t=>{let n=e.folder;t.dataTransfer.effectAllowed="move";let i=new _.oJ(t.dataTransfer);i.setArbitraryData(n),r.current&&i.setDragImage(r.current),a(d.y({type:y.A.Folder,data:n})),t.stopPropagation()},onDragEnd:e=>{a(d.m())},onMouseOver:()=>{N(!0)},onMouseLeave:()=>{N(!1)},onMouseDown:t=>{let r=e.folder;t.metaKey||t.ctrlKey||0!==t.button||(a(p.SW(r.id)),a(u.cb({clickedResourceType:"folder",resourceIdOrKey:r.id})))},onContextMenu:e=>R(k,e)},n.createElement("div",{className:w.yO}),n.createElement(I.W,{showGrabber:U,isSelected:H,icon:e.isSharedProject?n.createElement(l.A,{className:w.Kk,svg:T.c}):void 0,useSpacer:!0,text:n.createElement("span",{className:w.E5},D,F&&n.createElement("span",{className:w.GV},K)),badge:W})),n.createElement("div",{className:w.CU,ref:e=>{r.current=e}}))})},800300:(e,t,r)=>{"use strict";r.d(t,{Ce:()=>l,M3:()=>c,OO:()=>s});var n=r(901676);let i="sidebar-collapsed-sections";function a(e,t){return"custom"===e.id?e.type===t.type&&e.id===t.id&&e.orgId===t.orgId&&e.sectionId===t.sectionId:e.type===t.type&&e.id===t.id&&e.orgId===t.orgId}function o(){return(0,n.AP)().get(i)||[]}function l(e){return!o().find(t=>a(t,e))}function s(e,t){let r=(0,n.AP)();l(e)?t||r.set(i,[...o(),e]):t&&r.set(i,o().filter(t=>!a(t,e)))}function c(){let e=new Set;return o().forEach(t=>{"custom"===t.id&&t.sectionId?e.add(t.sectionId):"favorited"===t.id&&e.add(t.id)}),e}},134048:(e,t,r)=>{"use strict";r.d(t,{JJ:()=>q,UZ:()=>j});var n=r(307824),i=r(120304),a=r(250008),o=r(843148),l=r(489376),s=r(841152),c=r(698240),d=r(560072),u=r(948544),p=r(40392),m=r(784740),_=r(412416),h=r(403132),g=r(46604),f=r(323576),E=r(441388),y=r(476868),b=r(782800),v=r(51388),I=r(918100),w=r(514916),T=r(815464),S=r(291336),C=r(553432),A=r(44412),O=r(533056),N=r(81363),L=r(887540),R=r(246216),P=r(546772),M=r(142548),k=r(187044),D=r(19764),F=r(711213),x=r(265260),U=r(716576),B=r(426636);function G(){return n.createElement(s.kt,{color:s.Eo.INFORMATIONAL,text:(0,d.t)("team_list.pro_trial"),className:"pro_trials_badge--proTrialsBadge--HmAFD team_link--freeBadge--J1VU5 team_link--badge--CsmIV"})}var V=r(258932),H=r(138771);let W="team_link--lockedBadge--pkX7M team_link--badge--CsmIV",K="team_link--badgeButton--VlJ8N",Y="team_link--teamWarningIcon--n6h-O",q="team-link-context-menu";function j(e){var t;let r;let a=(0,i.OY)(),[o,s]=n.useState(!1),d=e.team,_=function(e,t){if(e&&e.type===q&&e.data.teamId in t)return t[e.data.teamId]}(e.dropdownShown,e.teams),f=null;e.selectedView&&"team"===e.selectedView.view&&e.selectedView.teamId===d.id&&e.renamingNavTeamWithId!==d.id?f=e.selectedItemRef:_&&_.id===d.id&&(r="team_link--contextSelectedTeam--OU-pQ team_link--team--UTpA0 sidebar--sidebarSection--x1KjT text--fontPos11--2LvXf text--_fontBase--QdLsd");let E=(0,C.hasAdminRoleAccessOnTeam)(d.id,e.permissionsState),I=(0,C.hasEditorRoleAccessOnTeam)(d.id,e.permissionsState),A=(0,C.canEditTeam)(d.id,e.permissionsState),N=(0,C.getPermissionsState)(e.permissionsState),P=!!e.draggable&&(o||e.dragState.type===R.A.Team&&(null==(t=e.dragState.data)?void 0:t.id)===e.team.id),M=e.renamingNavTeamWithId===d.id,x=(()=>{var t,r;let n=e.teams[e.team.id];return!!((null==(t=null==n?void 0:n.restrictions_list)?void 0:t.includes(w.u.FILES_LIMITED_LEGACY))||(null==(r=null==n?void 0:n.restrictions_list)?void 0:r.includes(w.u.WHITEBOARD_FILES_LIMITED_BETA)))})(),G=(0,T.EX)(d.id,N),W=!M&&!(0,S.MV)(e.user,e.currentUserOrgId)&&o&&!(x||G),K=!M&&E&&(0,T.G8)(e.team)&&!e.team.orgId,Y={showReminder:!1,showAccessRestricted:!1};return N.user&&(Y=(0,l.kZ)(N.userEduGracePeriods,(0,l.i6)(N.user),d.id,!!d.studentTeamAt)),n.createElement("div",{onContextMenu:t=>{t.stopPropagation(),t.preventDefault(),e.team&&(0,O.Uh)(e.team.id,{dispatch:a});let r={top:t.clientY,right:t.clientX,bottom:t.clientY,left:t.clientX,width:1,height:1};a(h.Qn({type:q,data:{teamId:e.team.id,targetRect:r}}))},onMouseOver:()=>{s(!0)},onMouseLeave:()=>{s(!1)},ref:f,"data-onboarding-key":e.onboardingKey},n.createElement(H.W,{rowClassName:r,onClick:t=>{let r=e.team;a(g.oH(r.id)),a(h.cb({clickedResourceType:"team",resourceIdOrKey:r.id}))},showGrabber:P,isSelected:e.selectedView&&"team"===e.selectedView.view&&e.selectedView.teamId===d.id&&!M,icon:n.createElement("div",{className:c.cx.h16.w16.flex.itemsCenter.justifyCenter.$},n.createElement(u.uM,{size:{imgSize:u.Qt.SMALL,fallbackSize:u.Qt.XSMALL},fallbackDisplay:p.B.HIDDEN,team:{...e.team,imgUrl:e.team.imgUrl||void 0}})),text:n.createElement("div",{className:c.cx.flex.flexRow.overflowHidden.flexGrow1.itemsCenter.$},M?n.createElement(F.E,{className:"team_link--teamNameInput--Ka6l7 input--input---PElz",placeholderValue:d.name,submit:t=>{a((0,v.A2)({team:e.team,name:t})),a(h.ag({teamId:e.team.id}))},cancel:()=>{a(h.ag({teamId:e.team.id}))}}):n.createElement(m.a,{truncate:!0},d.name),n.createElement($,{team:d,dispatch:a,permissionsState:e.permissionsState,selectedView:e.selectedView,shouldShowFileLimitBadge:x,eduVerificationNeeded:Y})),badge:n.createElement(n.Fragment,null,W&&n.createElement(U.W,{team:e.team,trackingContextName:k.i8.FILE_BROWSER}),K&&n.createElement(V.Ed,{team:e.team,trackingContextName:k.i8.FILE_BROWSER}))}),!(0,b.SY)(e.currentUserOrgId)&&_&&_.id===d.id&&n.createElement(B.W,{team:{..._,canEdit:A,canEditTeamContents:I},onRenameClick:e=>{a(h.MZ({teamId:e.id}))},onChangeTeamIconClick:()=>{a((0,y.M)({team:{...e.team,imgUrl:e.team.imgUrl||void 0}}))},teamRoleRequests:e.teamRoleRequests}),E&&n.createElement("span",{className:"team_link--hiddenEditableAvatar--wAMZC"},n.createElement(D.GW,{entity:{...d,imgUrl:d.imgUrl||void 0},entityType:L.sD.TEAM,avatarEditorState:e.avatarEditorState,size:14,dispatch:a})))}function $(e){var t,r,i,l;let[c,u]=n.useState(!1),p=n.useRef(),m=(0,I.QR)(e.team.id);if(e.shouldShowFileLimitBadge)return n.createElement(x.me,{className:Y,dataTooltipType:M.wL.TEXT,dataTooltip:(0,d.t)("team_list.your_team_is_over_the_starter_plan_s_file_limit"),dataTooltipShowAbove:!0,dataTooltipMaxWidth:160,dataTooltipTimeout:50});let h=e.permissionsState,y=(0,C.getRolesForUserAndTeam)(e.team.id,h),b=(0,C.hasMinRole)(y,P.m.EDITOR);if(h.user&&((null==(t=e.eduVerificationNeeded)?void 0:t.showReminder)||(null==(r=e.eduVerificationNeeded)?void 0:r.showAccessRestricted))&&b){let t=n.createElement(x.me,{className:Y,dataTooltipType:M.wL.TEXT,dataTooltip:(0,d.t)("team_list.verify_that_youre_a_student_or_educator"),dataTooltipShowAbove:!0,dataTooltipMaxWidth:160,dataTooltipTimeout:50});return(null==(i=e.eduVerificationNeeded)?void 0:i.showReminder)&&(t=n.createElement(x.IL,{className:Y,dataTooltipType:M.wL.TEXT,dataTooltip:(0,d.t)("team_list.verify_that_youre_a_student_or_educator"),dataTooltipShowAbove:!0,dataTooltipMaxWidth:160,dataTooltipTimeout:50})),t}let v=null==(l=h.user)?void 0:l.id,w=t=>{e.dispatch((0,f.A5)({type:_.o,data:{teamId:e.team.id,upsellSource:t}}))};if((0,T.EX)(e.team.id,e.permissionsState)){if(e.team.studentTeamAt&&(0,o.Ub)().edu_onboarding_grace_period)return null;let t=A.WE.canSeeProTrialExpiryUx(m);return(0,C.hasEditorRoleAccessOnTeam)(e.team.id,h)?t?n.createElement(E.kH,{name:s.LE.PRO_TRIAL_EXPIRED,properties:{userId:v,teamId:e.team.id,...A.WE.getTrackingProperties()}},n.createElement(E.Ix,{type:"button",onClick:()=>w(N.e.PRO_TRIAL_UPSELL_MODAL),className:K,trackingProperties:A.WE.getTrackingProperties("Badge Clicked")},n.createElement("span",{"data-tooltip-type":M.wL.SPECIAL,"data-tooltip":M.oz.PRO_TRIAL_EXPIRED,"data-tooltip-show-right":!0,"data-tooltip-max-width":128,"data-tooltip-timeout-delay":50},n.createElement(s.kt,{color:s.Eo.WARNING,text:(0,d.t)("team_list.pro_trial_expired"),className:W})))):n.createElement(E.kH,{name:s.LE.LOCKED,properties:{userId:v,teamId:e.team.id}},n.createElement(E.Ix,{type:"button",onClick:()=>w(N.e.LOCKED_TEAM_BADGE),className:K,trackingProperties:{text:"Badge Clicked"}},n.createElement(s.kt,{color:s.Eo.WARNING,text:(0,d.t)("team_list.locked"),className:W}))):t?n.createElement(E.kH,{name:s.LE.PRO_TRIAL_EXPIRED,properties:{userId:v,teamId:e.team.id,...A.WE.getTrackingProperties()}},n.createElement(s.kt,{color:s.Eo.WARNING,text:(0,d.t)("team_list.pro_trial_expired"),className:W})):n.createElement(s.kt,{color:s.Eo.WARNING,text:(0,d.t)("team_list.locked"),className:"team_link--badge--CsmIV"})}return m&&A.WE.canSeeProTrialUx(m)?n.createElement(E.kH,{name:s.LE.PRO_TRIAL,properties:{userId:v,teamId:e.team.id,...A.WE.getTrackingProperties()}},n.createElement(E.Ix,{type:"button",onClick:()=>w(N.e.PRO_TRIAL_UPSELL_MODAL),className:K,trackingProperties:A.WE.getTrackingProperties("Badge Clicked")},n.createElement("span",{"data-tooltip-type":M.wL.SPECIAL,"data-tooltip":M.oz.PRO_TRIAL,"data-tooltip-pro-trials-days-left":m.daysLeft,"data-tooltip-show-right":!0,"data-tooltip-max-width":195,"data-tooltip-timeout-delay":50},n.createElement(G,null)))):!(0,T.G8)(e.team)&&(0,C.hasEditorRoleAccessOnTeam)(e.team.id,h)?n.createElement("button",{onClick:t=>{t.stopPropagation(),e.dispatch(g.oH(e.team.id)),w(N.e.STARTER_TEAM_BADGE),(0,a.we)("Starter Team Badge Clicked",{userId:v,teamId:e.team.id})},onMouseEnter:()=>{c||(p.current=setTimeout(()=>{(0,a.we)("Starter Team Badge Viewed",{userId:v,teamId:e.team.id}),u(!0)},1e3))},onMouseLeave:()=>{clearTimeout(p.current)},className:K},n.createElement(s.kt,{color:s.Eo.INFORMATIONAL,text:(0,d.t)("team_list.free"),className:"team_link--freeBadge--J1VU5 team_link--badge--CsmIV"})):null}},701372:(e,t,r)=>{"use strict";let n,i;r.d(t,{C:()=>o,o:()=>a});var a=((n=a||{}).BLUE="blue",n.WHITE="white",n),o=((i=o||{}).PRO_TRIALS_ENTRY="Pro Trials Entry",i.PRO_TRIALS_UPGRADE="Pro Trials Upgrade",i.EDU_EXPIRY="EDU Expiry",i.EDU_UPGRADE="EDU Upgrade",i.JAMBOARD_OFFER_NUDGE="Jamboard Offer Nudge",i.JAMBOARD_OFFER_UPGRADE="Jamboard Offer Upgrade",i.ORG_UPGRADE="Org Upgrade",i.UNIVERSAL="Universal",i)},843904:(e,t,r)=>{"use strict";r.d(t,{l:()=>v});var n=r(307824),i=r(120304),a=r(125504),o=r.n(a),l=r(506616),s=r(148276),c=r(833616),d=r(560072),u=r(323576),p=r(514916),m=r(472956),_=r(203736),h=r(23024),g=r(738380),f=r(620744),E=r(925640);function y(e,t){return e&&"loaded"===t.status?t.data.org:e||"loaded"!==t.status?null:t.data.team}let b=n.memo(function(e){var t,r,a;let _=(0,i.OY)(),{updateVatGstId:b}=e,v=!!(null==(t=e.org)?void 0:t.id),I=(0,l.Qb)(m.k1G,{orgId:(null==(r=e.org)?void 0:r.id)||""},{enabled:v}),w=(0,l.Qb)(m.S_3,{teamId:(null==(a=e.team)?void 0:a.id)||""},{enabled:!v}),T=v?I:w,S=y(v,T),C=null==S?void 0:S.taxIdVerificationStatus,[A,O]=n.useState(),[N,L]=n.useState(""),[R,P]=n.useState(""),[M,k]=n.useState(!1),[D,F]=n.useState({country:"",state:""}),[x,U]=n.useState(!1);n.useEffect(()=>{if(!x&&"loaded"===T.status){let e=y(v,T),t=e?(0,l.Fc)(e.taxInfo):null;L((null==e?void 0:e.vatGstId)||""),P((null==t?void 0:t.regionalVatGstId)||""),k((null==t?void 0:t.canUpdateRegionalVatGst)||!1),F({country:(null==t?void 0:t.country)||"",state:(null==t?void 0:t.state)||""}),U(!0)}},[v,T,x]);let B=()=>{_(u.oN())};return n.createElement(h.Cc,{onClose:B,title:(0,d.t)("change_vat_gst_id.input_id"),minWidth:344,maxWidth:344,fixedTop:!0},A&&n.createElement("div",{className:E.c,"data-testid":"change-vat-gst-id-error"},n.createElement(c.E,{color:c.q.ERROR,rounded:!1,text:A})),C===p.QV.VERIFIED&&n.createElement("div",{"data-testid":"change-vat-gst-id-information"},n.createElement(c.E,{color:c.q.INFORMATION,rounded:!1,text:(0,d.t)("change_vat_gst_id.tax_id_verification_succeeded")})),C===p.QV.UNVERIFIED&&n.createElement("div",{"data-testid":"change-vat-gst-id-warning"},n.createElement(c.E,{color:c.q.WARNING,rounded:!1,text:(0,d.t)("change_vat_gst_id.tax_id_verification_failed")})),n.createElement("div",{className:f.kN},n.createElement("p",{className:E.k},n.createElement(d.Tx,{id:"change_vat_gst_id.description"})),n.createElement("form",{onSubmit:e=>{e.preventDefault(),b(N,e=>O(e),M?R:"").then(e=>{e&&B()})},"data-testid":"change-vat-form"},x&&n.createElement(g.c,{onChange:L,country:D.country,vatId:N,isCommunityCheckout:!1}),M&&n.createElement(g.c,{onChange:P,country:D.country,region:D.state,vatId:R,isCommunityCheckout:!1,variant:"regional"}),n.createElement("div",{className:o()(f.hy,f.C)},n.createElement(s.Uv,{className:f.I8,type:"submit",disabled:!x},n.createElement(d.Tx,{id:"change_vat_gst_id.save_id"}))))))}),v=(0,_.U9)(b,"ChangeVatGstIdModal")},426636:(e,t,r)=>{"use strict";r.d(t,{S:()=>R,W:()=>P});var n=r(307824),i=r(120304),a=r(721500),o=r(967540),l=r(560072),s=r(21156),c=r(403132),d=r(323576),u=r(635272),p=r(458468),m=r(671788),_=r(514916),h=r(55080),g=r(291336),f=r(553432),E=r(146124),y=r(790548),b=r(546772),v=r(112044),I=r(497508),w=r(108688),T=r(12900),S=r(926912),C=r(290320),A=r(866408),O=r(635302),N=r(763456),L=r(609932);function R(){let e=(0,i.w1)(e=>(0,f.getPermissionsState)(e)),t=(0,i.w1)(e=>e.selectedView),r=(0,i.w1)(e=>e.teamRoleRequests),w=(0,i.OY)();return({team:i,onRenameClick:R,onChangeTeamIconClick:P,teamRoleRequests:M})=>{let k=()=>{w(c.yi()),w(d.A5({type:C.W,data:{teamId:i.id}}))},D=(0,p.e_)(w,i.id),F=e=>{w(d.A5({type:T.AN,data:{team:e}}))},x=(0,p.e_)(w,i.id,b.m.ADMIN),U=(0,p.e_)(w,i.id,b.m.OWNER),B=e=>{if(!M)return;let t=M[e.id].id;w(u.uk({requestId:t}))},G=e=>{w(d.A5({type:C.W,data:{teamId:e.id}}))},V=()=>{w(c.yi());let e=!!i.org_id,t=e=>{w(d.A5({type:S._,data:{team:i,subscriptionStatus:e}}))};e?t(!0):I._.getSubscriptionStatus({teamId:i.id}).then(({data:e})=>{t(e.meta&&e.meta.subscription_will_renew)}).catch(e=>{var t;(null==(t=e.data)?void 0:t.message)&&w(o.M.error(e.data.message))})},H=e.roles.byTeamId[i.id]||{},W=Object.keys(H).filter(e=>!H[e].pending).length,K=(0,f.canAdminTeam)(i.id,e),Y=(null==i?void 0:i.org_access)===_.Ix.PUBLIC||W>1,q=(0,f.hasAdminRoleAccessOnTeam)(i.id,e),j=(0,g.MV)(e.user,e.currentUserOrgId),$=window.innerWidth<=(0,a.I)(N.Q92),Z=[{displayText:(0,l.t)("file_browser.copy_link"),callback:()=>{let e=(0,v.c1)(i.id,i.org_id);w(s.L2({url:e}))}}];return"search"===t.view&&i.org_id!==e.currentUserOrgId||(i.canEditTeamContents&&$&&!j&&Z.push({displayText:(0,l.t)("file_browser.team.new_project"),callback:()=>{w((0,m.oF)({where:y.Et.FolderListView,team:{...i,canAdmin:K}}))}}),$&&Z.push({displayText:(0,l.t)("file_browser.team.invite"),callback:()=>{w(d.A5({type:A.oD,data:{teamId:i.id,notifyOnSuccess:!0}}))}}),K&&Z.push({displayText:(0,l.t)("team_view.toolbar.rename"),callback:()=>{w(c.yi()),R&&R(i)}}),K&&P&&Z.push({displayText:(0,l.t)("team_view.toolbar.change_icon"),callback:()=>{w(c.yi()),P&&P(i)}}),Z.push(...(()=>{let t=[];return((0,f.hasViewerRoleAccessOnTeam)(i.id,e)?Y&&t.push({displayText:(0,l.t)("team_view.toolbar.leave_team"),callback:k}):i.org_id&&!((0,h.yq)(i,r[i.id],e,i.org_id)===h.qq.CLICK_JOIN&&(0,E.A)(i.id,i.org_id))&&t.push({displayText:"",render:()=>n.createElement(O.V,{key:"main-cta",className:L.S,onBypassRequest:U,onJoin:D,onJoinRequest:F,onJoinAsAdmin:x,onLeave:G,onWithdrawRequestForTeam:B,team:i,useLinks:!0,isCardActive:!1})}),q&&t.push({displayText:(0,l.t)("team_view.toolbar.delete_team"),callback:V}),0===t.length)?[]:[{displayText:"",separator:!0},...t]})())),Z}}function P({className:e,team:t,onRenameClick:r,onChangeTeamIconClick:a,teamRoleRequests:o}){var l;let s=(0,i.w1)(e=>e.dropdownShown),c=(0,i.OY)(),d=R()({team:t,onRenameClick:r,onChangeTeamIconClick:a,teamRoleRequests:o});return n.createElement(w.I,{className:e,items:d,parentRect:null==(l=null==s?void 0:s.data)?void 0:l.targetRect,showPoint:!1,lean:"right",dispatch:c,onSelectItem:(e,t)=>{e.callback&&e.callback("",{},c,t)}})}},353720:(e,t,r)=>{"use strict";r.d(t,{Md:()=>F,_q:()=>x,e6:()=>U});var n=r(307824),i=r(120304),a=r(880636),o=r(506616),l=r(698240),s=r(560072),c=r(948544),d=r(771668),u=r(645484),p=r(403132),m=r(46604),_=r(323576),h=r(90340),g=r(402980),f=r(514916),E=r(472956),y=r(39676),b=r(303972),v=r(55080),I=r(553432),w=r(146124),T=r(114396),S=r(142548),C=r(955668),A=r(866408),O=r(78720),N=r(892996),L=r(134048),R=r(426636),P=r(395128),M=r(820240),k=r(842648);function D(e){var t,r;let a;let o=(0,i.OY)(),E=(0,i.w1)(e=>e.currentUserOrgId),y=(0,g.Ad)(),v=(0,b.W)(),I=(0,i.w1)(e=>e.orgById),D=(0,i.w1)(({selectedView:e})=>e),[F,x]=n.useState(!1),U=()=>{if(!e.canUserViewTeam){e.onJoinRequest(e.team);return}(0,h.Y9)("file_browser_team_click",e.team.id,y,{selectedView:"recentsAndSharing"===D.view?D.tab||T.e.RECENTLY_VIEWED:D.view,viewMode:"grid"}),o(m.gf({clickedResourceType:"team",resourceIdOrKey:e.team.id})),o(p.Ej({view:"team",teamId:e.team.id}))},B=t=>{t.stopPropagation(),t.preventDefault(),e.setSelectedTeamId(e.team.id);let r={top:t.clientY,right:t.clientX,bottom:t.clientY,left:t.clientX,width:1,height:1};o(p.Qn({type:L.JJ,data:{teamId:e.team.id,targetRect:r}}))},G=n.useCallback((t,r,n)=>{if(e.team){let i={team:e.team,entrypoint:"org_browse_teams_view",sectionId:n,favoriteId:r};t?o(u.kf(i)):o(u.gl(i))}},[o,e.team]),V="search"===D.view,H=e.team.org_id&&I[e.team.org_id]||e.team.id&&v[e.team.id],W=n.createElement(s.Tx,{id:"team_tile.members_count",numMembers:e.memberCount}),K=n.createElement("div",{className:l.cx.flex.flexRow.itemsCenter.$},V&&H&&n.createElement(N.I,{entityId:H.id,entityName:H.name,imgUrl:H.img_url}),e.isCurrentUserInTeam&&n.createElement(n.Fragment,null,n.createElement(s.Tx,{id:"team_list.org_join_status_joined"}),n.createElement("span",null,"\xa0\xb7\xa0")),W),Y=e.selectedTeamId===e.team.id,q=n.createElement(C.i,{team:e.team,isCurrentUserInTeam:e.isCurrentUserInTeam,isLoading:e.isLoading,onOpenTeam:U,onJoin:e.onJoin,onLeave:e.onLeave,onJoinRequest:e.onJoinRequest,onBypassRequest:e.onBypassRequest,onWithdrawRequestForTeam:e.onWithdrawRequestForTeam,spinnerClassName:M.SU,isCardActive:F||Y,onClickButton:e.setSelectedTeamId}),j=n.createElement("div",{className:l.cx.flex.$},q,E&&e.canUserViewTeam&&n.createElement(O.i,{setFavorite:G,favoriteType:f.M$.TEAM,resourceId:e.team.id,size:O.A.MEDIUM,containerStyle:M.uY,noHoverState:!0,orgId:e.team.org_id})),$=(0,w.A)((null==(t=e.team)?void 0:t.id)||null,(null==(r=e.team)?void 0:r.org_id)||null);$?e.team.org_access===f.Ix.PRIVATE?a=(0,s.t)("file_browser.team_header.closed_team_header"):e.team.org_access===f.Ix.SECRET&&(a=(0,s.t)("file_browser.team_header.secret_team_header")):e.team.org_access===f.Ix.PRIVATE?a=(0,s.t)("file_browser.team_tiles.private_team_tooltip"):e.team.org_access===f.Ix.SECRET&&(a=(0,s.t)("file_browser.team_tiles.secret_team_tooltip"));let Z=e.team.org_access===f.Ix.PRIVATE?(0,s.t)("file_browser.team_header.closed_team_subtitle"):e.team.org_access===f.Ix.SECRET?(0,s.t)("file_browser.team_header.secret_team_subtitle"):void 0,z=e.team.org_access===f.Ix.PRIVATE||e.team.org_access===f.Ix.SECRET?n.createElement("div",{className:l.cx.mr4.$,style:{marginLeft:$?"4px":"-4px"},"data-tooltip-type":S.wL.TEXT,"data-tooltip":a,"data-tooltip-offset-y":-4,"data-tooltip-timeout-delay":50,"data-tooltip-max-width":200,"data-tooltip-subtext":$?Z:""},n.createElement(d.GW,{icon:"lock-16"})):void 0,Q=$?void 0:z,X=$?z:void 0;return n.createElement(n.Fragment,null,n.createElement(P.w,{name:e.team.name,onContextMenu:e=>{B(e)},headerLeft:n.createElement(c.uM,{team:e.team,size:40,avatarSvg:k.c}),onMouseOver:()=>{x(!0)},titleSubtitle:Q,titleSubtitleRight:X,onMouseOut:()=>{x(!1)},isSelected:Y,headerRight:j,footerLeft:K,isCardActive:F||Y,onClick:t=>{1===t.detail?e.setSelectedTeamId(e.team.id):2===t.detail&&U()},canView:e.canUserViewTeam}),e.dropdownTeamId===e.team.id&&n.createElement("div",{className:l.cx.fixed.$},n.createElement(R.W,{team:{...e.team,canEdit:!1,canEditTeamContents:!1},onRenameClick:e=>{o(_.A5({type:A.gr,data:{team:e}}))}})))}function F(e){var t;let r=e.team,i=(0,o.Qb)(E.mI9,{teamId:r.id}),l=!1,s=!1;if("loaded"===i.status&&(null==(t=i.data)?void 0:t.team)){let e=(0,a.J)(i.data.team);l=e.canView,s=e.isInTeam}return n.createElement("div",null,n.createElement(U,{...e,team:r,canUserViewTeam:l,isCurrentUserInTeam:s}))}let x=(0,i.Ul)((e,t)=>{var r,n,i;let a=e.user,o=t.team&&t.team.top_members&&t.team.top_members.filter(e=>!e.pending),l=(0,I.hasViewerRoleAccessOnTeam)(t.team.id,e),s=(0,I.canMemberOrg)(t.team.org_id,e)&&t.team.org_access===f.Ix.PUBLIC,c=(0,I.canManageNonSecretOrgTeam)(t.team,e,null==a?void 0:a.id);return{isCurrentUserInTeam:l,canUserViewTeam:s||l||c,currentUser:a,memberCount:t.team.member_count??0,topMembers:o||[],isLoading:(0,y.K0)(e.loadingState,(0,v.iO)(t.team.id)),dropdownTeamId:(null==(r=e.dropdownShown)?void 0:r.type)===L.JJ?null==(i=null==(n=e.dropdownShown)?void 0:n.data)?void 0:i.teamId:void 0}})(D),U=D},606500:(e,t,r)=>{"use strict";r.d(t,{A:()=>c,w:()=>s});var n=r(307824),i=r(148276),a=r(560072),o=r(765064),l=r(335996);let s=["","",""];function c({disableInvites:e,collaborators:t,setCollaborators:r,willSendInvites:s,skipInviteStep:c}){let d=(e,n)=>{if(n>=t.length)return;let i=[...t];i[n]=e,r(i)};return n.createElement(n.Fragment,null,n.createElement("div",{className:l.uy},n.createElement(a.Tx,{id:"pro_cart.add_collaborators.add_collaborators_to_your_team"})),n.createElement(i._C,{multiple:.5}),n.createElement("div",{className:l.Qh},n.createElement(a.Tx,{id:"pro_cart.add_collaborators.well_add_them_to_your_team"})),n.createElement(i._C,{multiple:4}),n.createElement("div",{style:o.sx.flex.flexColumn.add({maxWidth:"400px"}).mlAuto.mrAuto.gap12.$},t.map((e,t)=>n.createElement(i.qM,{key:`collaborator-email-input-${t}`,value:e,onChange:e=>d(e.target.value,t),placeholder:(0,a.t)("pro_cart.add_collaborators.email")})),n.createElement(i.gf,{onClick:()=>{let e=[...t];e.push(""),r(e)},trusted:!0,style:o.sx.alignLeft.font14.fontMedium.$},n.createElement(a.Tx,{id:"pro_cart.add_collaborators.add_another"}))),n.createElement("div",{style:o.sx.flex.flexColumn.itemsCenter.mlAuto.mrAuto.mt24.gap24.fontMedium.font14.$},n.createElement(i.Uv,{disabled:!!e,style:o.sx.font14.add({height:"44px",width:"110px"}).$,onClick:s},n.createElement(a.Tx,{id:"pro_cart.add_collaborators.sent_invites"})),n.createElement(i.g7,{trusted:!0,onClick:c,style:o.sx.colorTextSecondary.alignCenter.$},n.createElement(a.Tx,{id:"pro_cart.add_collaborators.skip_for_now"}))))}},216040:(e,t,r)=>{"use strict";let n,i;r.d(t,{EX:()=>S,H_:()=>O,OC:()=>w,OK:()=>b,UL:()=>I,WO:()=>E,_A:()=>g,ao:()=>v,eg:()=>N,eu:()=>C,iw:()=>T,sZ:()=>L,w9:()=>A,wh:()=>y,yC:()=>h});var a=r(307824),o=r(441748),l=r(997928),s=r(843148),c=r(506616),d=r(572748),u=r(919364),p=r(472956),m=r(559572),_=r(492084);let h=25;var g=((n=g||{}).NOT_IN_FEATURE_FLAG="not_in_feature_flag",n.NO_IMPORTED_JAMBOARD_FILES="no_imported_jamboard_files",n.IN_PAID_TEAM="in_paid_team",n.IN_STUDENT_TEAM="in_student_team",n.REDEEMED="redeemed",n);function f({enabled:e}){var t;let r=(0,c.Qb)(p.K8b,{},{enabled:e});return"loaded"!==r.status||!!(null==(t=r.data.jamboardOfferRedeemedAt)?void 0:t.redeemedAt)}let E=(0,_.m)(({enabled:e})=>{let t=(0,c.Qb)(p.MB_,{},{enabled:e});return"loaded"===t.status?t.data.currentUser.jamboardOfferEligibility:null});function y(){let e=!!(0,s.Ub)().figjam_jamboard_offer;return"loading"===(0,c.Qb)(p.MB_,{},{enabled:e}).status}function b(e){let t=(0,l.e)(),r=e?(0,o.c)().isBefore((0,o.c)(e)):null,n=null==e?void 0:e.getTime();return(0,a.useEffect)(()=>{if(r){let e=setTimeout(t,(0,o.c)(n).diff()+1);return()=>clearTimeout(e)}},[n,t,r]),r}function v(e){let t=E({enabled:!!(0,s.Ub)().figjam_jamboard_offer});return T(e)&&t?t.promoCodeId:null}let I=(0,_.m)(()=>{let e=!!(0,s.Ub)().figjam_jamboard_offer,t=f({enabled:e}),r=E({enabled:e}),n=b(null==r?void 0:r.promoExpirationDate);return e&&!!r&&!t&&r.isEligible&&!!n&&!!r.promoCodeId});function w(){var e;let t=!!(0,s.Ub)().figjam_jamboard_offer,r=(0,c.Qb)(p.MB_,{},{enabled:t}),n=b(null==(e=r.data)?void 0:e.currentUser.jamboardOfferEligibility.promoExpirationDate);return t?{isOfferActive:n,queryStatus:r.status}:{isOfferActive:!1,queryStatus:"disabled"}}let T=(0,_.m)(e=>I()&&e===m.SK.ANNUAL),S=(0,_.m)(({numWhiteboardEditors:e,billingPeriod:t})=>T(t)?Math.min(h,e):0),C=(0,_.m)(({numWhiteboardEditors:e,billingPeriod:t})=>e-S({numWhiteboardEditors:e,billingPeriod:t})),A=(0,_.m)(e=>Math.max(0,h-e));function O(e){return Math.min(e,h)}var N=((i=N||{}).IMPORT_JAMBOARD_FILE="import_jamboard_file",i.REDEEM_OFFER="redeem_offer",i);function L(){let e=!!(0,d.kV)(),t=!!(0,u.e)("signed_up_from_figjam_jamboard"),r=(0,s.Ub)(),n=!!r.figjam_jamboard_offer&&!e,i=f({enabled:n}),a=E({enabled:n}),o=b(null==a?void 0:a.promoExpirationDate);return n&&!i&&a&&o?!i&&a.isEligible&&a.promoCodeId?"redeem_offer":!i&&t&&r.figjam_3p_file_importer&&"no_imported_jamboard_files"===a.ineligibilityReason?"import_jamboard_file":null:null}},49284:(e,t,r)=>{"use strict";r.d(t,{$9:()=>D,Ej:()=>R,Gk:()=>T,IP:()=>O,KC:()=>v,Ok:()=>C,Qv:()=>N,Sy:()=>b,WI:()=>x,_O:()=>F,_k:()=>S,a4:()=>P,cb:()=>L,gJ:()=>f,kl:()=>A,w5:()=>y,wt:()=>E});var n=r(307824),i=r(120304),a=r(125504),o=r.n(a),l=r(841152),s=r(148276),c=r(560072),d=r(144459),u=r(514916),p=r(422416),m=r(559572),_=r(91092),h=r(216040),g=r(335996);function f(e,t){let r=new p.Ip(t).getPrices();switch(e){case m.SK.ANNUAL:return r.annualFigma;case m.SK.MONTHLY:return r.monthlyFigma;case m.SK.STUDENT:return 0}throw Error(`Unknown plan type: ${e}`)}function E(e,t){let r=new p.Ip(t).getPrices();switch(e){case m.SK.ANNUAL:return r.annualFigjam;case m.SK.MONTHLY:return r.monthlyFigjam;case m.SK.STUDENT:return 0}throw Error(`Unknown plan type: ${e}`)}function y({isPromo:e,isEducationTeam:t,claimsEndAtDate:r}){var i;return e?{trackingDescriptor:d.O.START_PRO_PLAN_FOR_FREE,buttonText:n.createElement(c.Tx,{id:"pro_cart.review.start_professional_plan_for_free"}),finePrint:n.createElement(n.Fragment,null,n.createElement(c.Tx,{id:"pro_cart.review.offer_redeem_agree",termsOfServiceLink:n.createElement(x,null)}),r&&n.createElement(n.Fragment,null," ",n.createElement(c.Tx,{id:"pro_cart.review.redeem_offer_by",date:(i=new Date(r),new Intl.DateTimeFormat("en-US",{month:"long",day:"numeric",year:"numeric"}).format(i))})))}:t?{trackingDescriptor:d.O.COMPLETE_UPGRADE,buttonText:n.createElement(c.Tx,{id:"pro_cart.review.complete_upgrade"}),finePrint:n.createElement(c.Tx,{id:"pro_cart.review.all_editors_on_an_education_team_must_be_verified.seat_rename"})}:{trackingDescriptor:d.O.COMPLETE_PURCHASE,buttonText:n.createElement(c.Tx,{id:"pro_cart.review.complete_purchase"}),finePrint:n.createElement(c.Tx,{id:"pro_cart.review.your_subscription_will_automatically_renew_without_link.seat_rename"})}}function b(e,t,r,n,i){let a=new p.Ip(i).formatMoney(n,{showCents:!r}),o=(0,c.t)("all_carts.num_editors.seat_rename",{numEditors:t}),l=(0,c.t)("all_carts.plural_months",{months:e?12:1});return(0,c.t)("all_carts.cost_equation",{money:a,editors:o,billingTime:l})}function v({currentBillingPeriod:e,numEditors:t,noCents:r,shouldStrikethroughMonthlyUnitCostIfAnnual:i,currency:a}){return e===m.SK.STUDENT?null:n.createElement(I,{isAnnual:e===m.SK.ANNUAL,numEditors:t,noCents:r,unitCost:f(e,a),currency:a,monthlyUnitCostForStrikethrough:i?f(m.SK.MONTHLY,a):void 0})}function I({isAnnual:e,numEditors:t,noCents:r,unitCost:i,monthlyUnitCostForStrikethrough:a,currency:o}){let l=new p.Ip(o),s=l.formatMoney(i,{showCents:!r}),d=(0,c.t)("all_carts.num_editors.seat_rename",{numEditors:t}),u=(0,c.t)("all_carts.plural_months",{months:e?12:1});return"number"==typeof a&&e?n.createElement(c.Tx,{id:"all_carts.cost_equation_strikethrough_unit_price",strikethroughUnitPrice:n.createElement("span",{className:g.iy},l.formatMoney(a,{showCents:!r})),money:s,editors:d,billingTime:u}):n.createElement(c.Tx,{id:"all_carts.cost_equation",money:s,editors:d,billingTime:u})}function w({currentBillingPeriod:e,numEditors:t,noCents:r,shouldStrikethroughMonthlyUnitCostIfAnnual:i,currency:a,isJamboardOffer:o}){return n.createElement(I,{isAnnual:e===m.SK.ANNUAL,numEditors:t,unitCost:o?0:E(e,a),noCents:r,currency:a,monthlyUnitCostForStrikethrough:i?E(m.SK.MONTHLY,a):void 0})}function T(e,t){let r=new p.Ip(t);return n.createElement(c.Tx,{id:"pro_cart.design_billing_cost_per_month.seat_rename","data-testid":"design_cost_per_editor_text",monthlyCostInDollars:r.formatMoney(f(e,t))})}function S(e,t){let r=new p.Ip(t);return n.createElement(c.Tx,{id:"pro_cart.whiteboard_billing_cost_per_month.seat_rename","data-testid":"whiteboardCostPerEditorText",monthlyCostInDollars:r.formatMoney(E(e,t))})}function C(e,t,r){return e*f(t,r)*(t===m.SK.ANNUAL?12:1)}function A(e,t,r){return e*E(t,r)*(t===m.SK.ANNUAL?12:1)}function O(e,t){return Math.ceil((1-12*e/(12*t))*100)}function N({noCents:e=!0,shouldStrikethroughMonthlyUnitCostIfAnnual:t,currency:r,numEditors:a,isJamboardOffer:o}){let l=(0,i.w1)(e=>e.payment.billingPeriod),s=(0,i.w1)(e=>e.payment.numWhiteboardEditors),c=(0,h.eu)({numWhiteboardEditors:s,billingPeriod:l});return l===m.SK.STUDENT?null:n.createElement(w,{currentBillingPeriod:l,numEditors:a||c,noCents:e,currency:r,shouldStrikethroughMonthlyUnitCostIfAnnual:t,isJamboardOffer:o})}function L(e,t){return"promoReview"===e.view||"teamUpgrade"===e.view&&e.paymentStep===m.qW.CONFIRM_PAY&&t.promo}function R({editorType:e,numEditors:t,currency:r}){let i;i="design"===e?C(t,m.SK.MONTHLY,r):A(t,m.SK.MONTHLY,r);let a=new p.Ip(r);return n.createElement(c.Tx,{id:"edu.cost_per_month",cost:a.formatMoney(i)})}function P({"data-testid":e,discountPercentage:t,mainText:r,priceText:i,strikethroughPriceText:a,subText:d,showDevModeIncludedText:u}){let p=t=>void 0===e?void 0:`${e}-${t}`;return n.createElement("div",{"data-testid":e},n.createElement("div",{className:g.Ko,"data-testid":p("cost-row")},n.createElement("span",{"data-testid":p("main-text")},r),n.createElement("span",{"data-testid":p("price-section")},a&&n.createElement(n.Fragment,null,n.createElement("span",{className:o()(g.Mj,g.kB),"data-testid":p("strikethrough-price-text")},a),"\xa0"),n.createElement("span",{className:g.kB,"data-testid":p("price-text")},i))),u&&n.createElement(n.Fragment,null,n.createElement(s._C,{multiple:.2}),n.createElement(_.Q,null),n.createElement(s._C,{multiple:.1})),n.createElement("div",{className:g.ae,"data-testid":p("sub-row")},n.createElement("span",{"data-testid":p("sub-text")},d),t&&n.createElement("span",{"data-testid":p("discount-percentage")},n.createElement(l.kt,{className:g.uu,color:l.Eo.SUCCESS,size:l.mk.LARGE,subtle:!0,text:n.createElement(c.Tx,{id:"pro_cart.sidebar.annual_savings_percentage",percentage:t})}))))}function M({payment:e,currency:t,isPromo:r,isEducationTeam:i,...a}){var o,l,s;let d,u,_,h,g;let f=new p.Ip(t),{editorType:E}=a;return"design"===E?(u=e.numDesignEditors,_=k(m.Su,null==(o=e.taxes)?void 0:o.lines)??C(u,e.billingPeriod,t),d=n.createElement(c.Tx,{id:"pro_cart.info.figma_design_editors.seat_rename",numEditors:u}),g=i?n.createElement(R,{editorType:E,currency:t,numEditors:e.numDesignEditors}):null,r?h=n.createElement(c.Tx,{id:"pro_cart.review.free_for_days",days:null==(l=e.promo)?void 0:l.promo_value}):i||(h=n.createElement(v,{currentBillingPeriod:e.billingPeriod,numEditors:e.numDesignEditors,noCents:!1,currency:t}))):(a.isJamboardOffer?(u=a.numJamboardOfferEditors,_=0):(u=a.numPaidFigjamEditors,_=k(m.gZ,null==(s=e.taxes)?void 0:s.lines)??A(u,e.billingPeriod,t)),h=!i&&n.createElement(N,{noCents:!1,currency:t,numEditors:u,isJamboardOffer:a.isJamboardOffer}),d=n.createElement(c.Tx,{id:"pro_cart.info.figjam_editors.seat_rename",numEditors:u}),g=i?n.createElement(R,{editorType:E,currency:t,numEditors:e.numWhiteboardEditors}):null),r&&(g=f.formatMoney(_,{showCents:!0})),n.createElement(P,{"data-testid":`confirm-${E}-summary`,mainText:d,strikethroughPriceText:g,priceText:f.formatMoney(r||i?0:_,{showCents:!0}),subText:h,showDevModeIncludedText:"design"===E})}function k(e,t){return null==t?void 0:t.filter(t=>e.includes(t.product)).reduce((e,t)=>e+t.sub_total,0)}function D(e){let t=(0,h.eu)({numWhiteboardEditors:e.payment.numWhiteboardEditors,billingPeriod:e.payment.billingPeriod}),r=(0,h.EX)({numWhiteboardEditors:e.payment.numWhiteboardEditors,billingPeriod:e.payment.billingPeriod});return n.createElement(n.Fragment,null,e.payment.numDesignEditors>0&&n.createElement("div",null,n.createElement(M,{...e,editorType:u.aE.DESIGN}),n.createElement(s._C,{multiple:2})),r>0&&n.createElement("div",null,n.createElement(M,{...e,editorType:u.aE.WHITEBOARD,isJamboardOffer:!0,numJamboardOfferEditors:r,numPaidFigjamEditors:t}),n.createElement(s._C,{multiple:2})),t>0&&n.createElement("div",null,n.createElement(M,{...e,editorType:u.aE.WHITEBOARD,numJamboardOfferEditors:r,numPaidFigjamEditors:t}),n.createElement(s._C,{multiple:2})))}function F(e){let t=(0,h.eu)({numWhiteboardEditors:e.payment.numWhiteboardEditors,billingPeriod:e.payment.billingPeriod}),r=(0,h.EX)({numWhiteboardEditors:e.payment.numWhiteboardEditors,billingPeriod:e.payment.billingPeriod});return n.createElement(n.Fragment,null,n.createElement(M,{...e,editorType:u.aE.DESIGN}),n.createElement(s._C,{multiple:2}),n.createElement(M,{...e,editorType:u.aE.WHITEBOARD,numJamboardOfferEditors:r,numPaidFigjamEditors:t}),n.createElement(s._C,{multiple:2}))}function x(){return n.createElement(s.gf,{href:"/tos",target:"_blank",trusted:!0},n.createElement(c.Tx,{id:"pro_cart.review.tos"}))}},354536:(e,t,r)=>{"use strict";let n;r.d(t,{Ej:()=>y,OS:()=>f,o1:()=>m});var i=r(307824),a=r(120304),o=r(125504),l=r.n(o),s=r(403132),c=r(7674),d=r(740718),u=r(438624),p=r(475176),m=((n=m||{}).DEFAULT="default",n.ADMIN_SETTINGS="adminSettings",n);class _ extends u.s{constructor(){super(...arguments),this.styleOverrides=()=>({base:p.Nv})}}class h extends u.s{constructor(){super(...arguments),this.styleOverrides=()=>({base:p.Iz,selected:p.kB})}}class g extends i.PureComponent{constructor(e){super(e),this.shouldShowDropdown=()=>!!(this.props.dropdownKey&&this.props.dropdownShown&&this.props.dropdownShown.type===this.props.dropdownKey&&this.props.dropdownShown.data&&this.props.dropdownShown.data.targetRect),this.toggleDropdown=()=>{let e=this.dropdownRef.current;this.props.dropdownKey&&e&&(this.props.dropdownShown?this.props.dispatch(s.yi()):this.props.dispatch(s.Qn({type:this.props.dropdownKey,data:{targetRect:e.getBoundingClientRect()}})))},this.getTabClassWithStyling=()=>"adminSettings"===this.props.variant?h:_,this.dropdownRef=i.createRef()}render(){let e=this.getTabClassWithStyling();return i.createElement(e,{tab:this.props.tab,selectedTab:this.props.selectedTab,onClick:this.props.onClick??this.toggleDropdown,disabled:this.props.disabled,tooltipText:this.props.tooltipText,showTooltipWhenDisabled:this.props.showTooltipWhenDisabled,dataText:this.props.dataText},i.createElement("span",{ref:this.dropdownRef,className:p.I7,"data-onboarding-key":this.props["data-onboarding-key"]},this.props.children),this.props.dropdownKey&&i.createElement(i.Fragment,null,i.createElement(c.k,{showingDropdown:this.shouldShowDropdown(),dropdownKey:this.props.dropdownKey,dispatch:this.props.dispatch,className:l()(p.KY,this.props.chevronClassName),svgContainerClassName:p.kP}),this.shouldShowDropdown()&&i.createElement(d.Mx,{targetRect:this.props.dropdownShown.data.targetRect,lean:"right",minWidth:120,propagateCloseClick:!0},this.props.dropdownOptions)))}}let f=g.name,E=e=>({dropdownShown:e.dropdownShown});function y(){return(0,a.Ul)(E)(g)}},767876:(e,t,r)=>{"use strict";r.d(t,{S:()=>m,k:()=>_});var n=r(307824),i=r(491440),a=r(125504),o=r.n(a),l=r(570464),s=r(537096),c=r(588900),d=r(91612),u=r(284548);let p=e=>e.stopPropagation(),m=n.forwardRef((e,t)=>n.createElement("div",{key:"topBarWrapper",role:"none",onClick:p},n.createElement(_,{...e,children:void 0,recordingKey:e.recordingKey,ref:t}),e.children));class _ extends l.Yl{constructor(e){super(e),this.onClick=l.yw(this,"click",e=>{this.props.onClick&&!this.props.onClickForKeyDownOnly&&this.props.onClick(e)}),this.onKeyDown=e=>{var t,r;"Escape"===e.key&&(e.preventDefault(),null==(t=this.wrapperRef.current)||t.blur(),null==(r=this.buttonRef.current)||r.blur()),this.props.enabled&&!this.props.hidden&&("Enter"===e.key||" "===e.key)&&(e.preventDefault(),this.props.onClick(e))},this.wrapperRef=n.createRef(),this.buttonRef=n.createRef()}render(){let e,t="";this.props.fullHeightSidebarsEnabled||(t=this.props.selected?d.Oo:this.props.enabled?d.Gm:d.SE),this.props.isUI3&&this.props.ui3Icon?e=this.props.ui3Icon:this.props.useSvgNode?e=this.props.svgNode?n.createElement("span",null,this.props.svgNode):null:this.props.svg&&(e=n.createElement(c._,{svg:this.props.svg,fallbackSvg:this.props.fallbackSvg,useOriginalSrcFills_DEPRECATED:this.props.useOriginalSrcFills_DEPRECATED,className:this.props.svgStyle}));let r=n.createElement(n.Fragment,null,!this.props.hidden&&e,this.props.text&&n.createElement("span",{className:this.props.textStyle||(this.props.svg?d.Sq:d.q2)},this.props.text),this.props.showIndicator&&n.createElement("span",{className:this.props.indicatorStyle?this.props.indicatorStyle:d.gl}),this.props.showChevron&&(this.props.isUI3?n.createElement("div",{className:d.uD},n.createElement(i.u,null)):this.props.positionOnChevron?n.createElement("div",{className:d.MB,ref:this.props.chevronRef},n.createElement(s.A,{svg:u.c,className:o()(d.a7,d.OK)})):n.createElement(s.A,{svg:u.c,className:d.a7})),this.props.children);return n.createElement("button",{id:this.props.id,ref:this.buttonRef,className:o()(t,this.props.narrow?d.QP:null,this.props.className),onMouseDown:this.props.enabled&&!this.props.hidden?this.onClick:void 0,onClick:p,"data-tooltip-type":this.props["data-tooltip-type"],"data-tooltip":this.props["data-tooltip"],"data-tooltip-shortcut-key":this.props["data-tooltip-shortcut-key"],"data-tooltip-offset-x":this.props.showChevron&&!this.props.isUI3&&this.props.positionOnChevron?8:0,"data-onboarding-key":this.props.onboardingKey,"data-testid":this.props.dataTestId,onKeyDown:this.onKeyDown,"aria-label":this.props.ariaLabel,"aria-expanded":this.props["aria-expanded"],"aria-controls":this.props["aria-controls"],"aria-haspopup":this.props["aria-haspopup"],"data-fullscreen-intercept":!0},r)}}_.displayName="TopBarAction",_.defaultProps={enabled:!0,hidden:!1}},5044:(e,t,r)=>{"use strict";function n(e){return!!(e.deeplink&&e.preferred_attachments.map(e=>e._block_type).includes("ClientActionableAttachment"))&&a(e.deeplink.href)}function i(e){return e.deeplink?o(e.deeplink.href):null}r.d(t,{KG:()=>o,Oq:()=>n,zk:()=>i});let a=e=>{let t=new URL(e);return"file"===t.pathname.split("/")[1]&&t.hash.length>1&&"#-1"!==t.hash};function o(e){if(!1===a(e))return null;let t=new URL(e),r=t.pathname.split("/");return r.length<3?null:{fileKey:r[2],threadId:t.hash.slice(1),deeplink:e}}},117788:(e,t,r)=>{"use strict";r.d(t,{m:()=>n});let n=(0,r(623131).Zf)(void 0)},103880:(e,t,r)=>{"use strict";r.d(t,{CI:()=>v,IP:()=>h,OA:()=>g,O_:()=>b,Qv:()=>w,Sc:()=>E,Yz:()=>I,qN:()=>f,s4:()=>y});var n=r(946692),i=r(250008),a=r(51408),o=r(220156),l=r(843148),s=r(372152),c=r(266772),d=r(312452),u=r(892368),p=r(489308),m=r(117788);let _=(0,a.Yn)("#2c2c2c");function h(e){let t=(0,a.Yn)(e);return!!t&&.2126*t.r+.7152*t.g+.0722*t.b<.6}function g(e){return"dark"===e?_:a.a8}function f(e){try{if(e)return(0,a.Yn)(e)}catch(e){console.error(e)}}function E(){return[{option:_},...(0,p.m6)("base").filter(e=>!(0,a.kl)(e,(0,p.yq)(d.iiI.BLACK,"base"))).map(e=>({option:e})),...(0,p.m6)("baseLight").map(e=>({option:e}))]}function y(e,t,r){try{if((0,l.Ub)().workspace_colors_a11y_ks)return t;let n=(0,a.Yn)(t),s=h(n),c=(0,o.M$)(t,!s,s);return r&&c!==t&&(0,i.we)("workspace_background_color_adjusted_for_accessibility",{workspace_id:e,original_background_color:t,adjusted_background_color:c}),c}catch(e){console.error(e)}return t}function b(e){var t;let r=(0,s.m4)(m.m);if(!e||"unset"===r)return;let i=((null==(t=e.colorConfig)?void 0:t.colors)??[])[0];return r?(0,n.colorToHex)(r):i}function v(e){return!!e&&"unset"!==e}function I(e){let t=(0,c.qG)(),r=b(e);if(r&&("light"===t||"dark"===t))return h(r)!==("dark"===t)}function w(e){return e&&e!==u._&&"colorConfig"in e?e:void 0}},105676:(e,t,r)=>{"use strict";r.d(t,{gt:()=>X,z5:()=>J});var n=r(307824),i=r(120304),a=r(311364),o=r(862844),l=r(656716),s=r(633008),c=r(888932),d=r(816596),u=r(578412),p=r(148276),m=r(537096),_=r(560072),h=r(369592),g=r(441388),f=r(817076),E=r(34664),y=r(724604),b=r(439460),v=r(31160),I=r(312452),w=r(103840),T=r(306440),S=r(251596),C=r(724148),A=r(506616),O=r(375376),N=r(403132),L=r(392992),R=r(472956),P=r(876760),M=r(553432),k=r(515752),D=r(888404),F=r(195348),x=r(399132);function U(e){let{buttonText:t,buttonOnClick:r,message:i}=e;return n.createElement(k.y,{className:F.uQ},n.createElement("div",{className:F.kf},n.createElement("div",{className:F.g1},n.createElement(m.A,{svg:x.c,className:F.pW}),n.createElement("span",{className:F.Eb},n.createElement(_.Tx,{id:"collaboration.branching_archived_footer.locked"}),"\xa0\xa0\xa0"),n.createElement("span",{className:F.Ej},i)),n.createElement("div",{className:F.kx},t&&r&&n.createElement(p.wX,{className:F.sq,onClick:r},e.buttonText))))}function B(){let e=(0,i.OY)(),t=(0,i.w1)(L.w5),r=P.qO.useFile((null==t?void 0:t.key)||"").data,a=(0,i.w1)(e=>(0,M.getPermissionsState)(e)),o=(0,A.Qb)(R.mc7,{branchFileKey:t&&(null==t?void 0:t.key)||""}),l=(0,b.uO)(t??{fileRepoId:null},a.repos),s=(0,C.K)((null==l?void 0:l.default_file_key)??"");if(!t||!r||!l)return null;let c=l.default_file_key,d="loaded"===o.status&&(null===o.data.file||o.data.file&&(0,D.Ir)(o.data.file)===D.cz.MERGED),u="loaded"!==o.status||d,p=(0,M.canManageFile)(t.key,a,void 0),m=c&&"loaded"===s.status&&s.data.result;return u?n.createElement(U,{message:n.createElement(_.Tx,{id:"collaboration.branching_archived_footer.merged"})}):p?n.createElement(U,{message:n.createElement(_.Tx,{id:"collaboration.branching_archived_footer.restore_branch"}),buttonText:n.createElement(_.Tx,{id:"collaboration.branching_archived_footer.restore_branch_button"}),buttonOnClick:()=>{e(O.WO({fileKeys:{[r.key]:r},userInitiated:!0}))}}):n.createElement(U,{message:n.createElement(_.Tx,{id:"collaboration.branching_archived_footer.can_restore_branch"}),buttonText:m?n.createElement(_.Tx,{id:"collaboration.branching_archived_footer.back_to_main_file"}):void 0,buttonOnClick:m?()=>{e(N.Ej({view:"fullscreen",fileKey:c,editorType:"design"}))}:void 0})}B.displayName="ArchivedBranchFooter";var G=r(518256),V=r(441748),H=r(323576),W=r(518413);function K(){let e=(0,i.w1)(e=>{var t;return null==(t=e.openFile)?void 0:t.name}),t=(0,T.c$)(),r=(0,i.OY)();return({origin:n,formState:i})=>{let a="DUPLICATE"===t.landingState&&e?(0,_.t)("footer_banner.log_in_or_create_an_account_to_get_a_copy_of_file_name",{fileName:e}):"";r(d.a.init({origin:n,formState:i,redirectUrl:l.default.location.pathname})),r(H.A5({type:W.A,data:{headerText:a}}))}}function Y(e){let t=(0,V.c)(),r=Math.max(0,Math.ceil((0,V.c)(e).diff(t,"minutes",!0)));return r>=60?(0,_.t)("figjam_try_v2.timer_hours_left",{hoursLeft:Math.ceil(r/60)}):(0,_.t)("figjam_try_v2.timer_minutes_left",{minutesLeft:r})}var q=r(244978),j=r(812970),$=r(124032),Z=r(774288),z=r(140548),Q=r(627216);function X(){let e=(0,i.w1)(e=>e.openFile),t=(0,S.C2)(),r=(0,E.S)(!0),a=(0,i.w1)(e=>e.progressBarState.mode),l=(0,v.AT)(),s=(0,f.Y)(),d=!s&&r.enabled,p=(0,w._T)(),m=!!(null==p?void 0:p.handleSignUp),_=(0,y.O)();n.useEffect(()=>{_()},[_]);let h=K();return t?e&&(0,b.Oe)(e)&&e.trashedAt&&a===I.Mty.OFF?n.createElement(B,null):null:l||d||!e||c.cp.isMeetDevice?null:n.createElement("div",{className:m?$.mM:$.a0},n.createElement(ee,{isFigJamTry:s}),!s&&n.createElement(q.O,{origin:o.Ss.LOGGED_OUT_FILE,authModalCallback:()=>h({origin:o.Ss.LOGGED_OUT_FILE,formState:u.o9.SIGN_UP_EXTRA_INFO})}))}let J=120;function ee({isFigJamTry:e}){let t=t=>e&&t?o.IL.FIGJAM_TRY_FOOTER_BANNER_CONTINUE_WITH_GOOGLE:e?o.IL.FIGJAM_TRY_FOOTER_BANNER:t?o.IL.LOGGED_OUT_FOOTER_CONTINUE_WITH_GOOGLE:o.IL.LOGGED_OUT_FOOTER,r=(0,f.c)(),c=K(),y=e?r:c,b=(0,i.OY)(),v=(0,w._T)(),I=!!(null==v?void 0:v.handleSignUp),S=(0,E.S)(!I),C=(0,T.c$)(),A=function(e,t){let[r,i]=n.useState(Y((()=>{let e=new Date;return e.setDate(e.getDate()+1),e})()));return n.useEffect(()=>{if(!e||!t.enabled)return;let r=()=>i(Y(t.until));r();let n=setInterval(r,6e4);return()=>clearInterval(n)},[e,t]),r}(e,S),O=(0,_.t)("footer_banner.welcome_to_figma"),N="DUPLICATE"===C.landingState?(0,_.t)("footer_banner.create_an_account_to_get_your_own_copy_of_this_file"):(0,_.t)("footer_banner.create_an_account_to_edit_and_collaborate_on_this_file"),L={src:z.c,style:$.Wy},R=!1;e&&(O=A,N=I?(0,_.t)("figjam_try_v2.to_save_your_work_create_free_account"):(0,_.t)("figjam_try_v2.after_that_this_board_will_be_deleted"),L={src:Q.c,style:$.Sc},R=!S.enabled||"fallback"===S.id);let P=(0,h.Gi)(),M=R?n.createElement("div",{className:$.cf}):n.createElement("span",{className:I?$.or:$.qm},O),k=R?N:n.createElement("span",{className:I?$.GQ:$.eg},N),D=n.useRef(null);(function(e,t){let r=(0,s.m)(t)??s.V;n.useEffect(()=>{if(!e)return;let n=document.documentElement.style,i=t.current;if(!i)return;let a=i.parentElement;if(!a)return;let o=parseInt(window.getComputedStyle(i).getPropertyValue("padding"))||0,l=window.getComputedStyle(a),s=parseInt(getComputedStyle(document.body).getPropertyValue("--toolbar-height"))||48,c=parseInt(l.getPropertyValue("top"))||s,d=parseInt(l.getPropertyValue("margin"))||0;return n.setProperty("--editor-banner-height",`${r.height+2*o+(c-s)+d}px`),()=>{n.setProperty("--editor-banner-height","0px")}},[e,t,r.height])})(I,D),n.useEffect(()=>{(null==v?void 0:v.updateFigJamTryExpiration)&&S.enabled&&S.until&&v.updateFigJamTryExpiration(S.until)},[v,S]);let[F,x]=n.useState(!1),U=(0,w.QP)();return n.useEffect(()=>{U&&(U._processing_sign_up=e=>{x(e)})},[U,x]),n.createElement(g.kH,{name:"Google Logged-out File Banner",properties:{localExperimentSeed:P,isFigJamTry:e}},I?n.createElement("div",{className:`${$.gA} ${j.kl}`,ref:D},n.createElement("div",{className:$.ot},n.createElement("a",{className:L.style,href:"/",target:"_blank",rel:"noopener"},n.createElement(m.A,{svg:L.src,useOriginalSrcFills_DEPRECATED:!0})),n.createElement("div",{className:$.IG},M,k)),n.createElement("div",{className:`${$.i2} ${$.Y$}`},n.createElement(p.Uv,{disabled:F,fullWidth:!0,key:"email-btn",onClick:()=>{(null==v?void 0:v.handleSignUp)&&v.handleSignUp()},className:`${$.ND} ${$.uA}`},n.createElement("div",{className:$.mO},F&&n.createElement("span",{className:$.g$},n.createElement("div",{className:$.En}),n.createElement("div",{className:$.En}),n.createElement("div",{className:$.En}),n.createElement("div",{className:$.En}),n.createElement("div",{className:$.En}),n.createElement("div",{className:$.En}),n.createElement("div",{className:$.En}),n.createElement("div",{className:$.En})),n.createElement(_.Tx,{id:"footer_banner.sign_up_for_free"}))))):n.createElement("div",{className:`${$.U$} ${j.kl}`,ref:D},n.createElement("div",{className:$.ot},n.createElement("a",{className:L.style,href:"/",target:"_blank",rel:"noopener"},n.createElement(m.A,{svg:L.src,useOriginalSrcFills_DEPRECATED:!0})),n.createElement("div",{className:$.yp},M,k)),n.createElement("div",{className:$.i2},n.createElement(p.Sm,{onClick:()=>{o.Cq(b,t(!0),()=>y({origin:t(!0),formState:u.o9.SIGN_UP_EXTRA_INFO})).then(t=>{b(d.a.setRedirectUrl({redirectUrl:(0,a.oX)(l.default.location.pathname,e?{[G._I.key]:G._I.value}:{})})),b(d.a.complete({userId:t.id}))},()=>{})},innerText:"Continue with Google",key:"google-btn"},n.createElement("div",{className:$.eS},n.createElement(m.A,{svg:Z.c,useOriginalSrcFills_DEPRECATED:!0}),n.createElement(_.Tx,{id:"footer_banner.continue_with_google"}))),n.createElement("div",{style:{width:12},key:"spacer-div"}),n.createElement(p.EZ,{key:"email-btn",onClick:()=>{y({origin:t(!1),formState:u.o9.SIGN_UP})},className:$.ND},n.createElement(_.Tx,{id:"footer_banner.sign_up_with_email"})))))}},244978:(e,t,r)=>{"use strict";r.d(t,{O:()=>y});var n=r(307824),i=r(120304),a=r(916924),o=r(862844),l=r(656716),s=r(484212),c=r(843148),d=r(643260),u=r(816596),p=r(825320),m=r(578412),_=r(997108),h=r(783684),g=r(404432);let f="g_one_tap";function E({origin:e,iFrameHandler:t,authModalCallback:r=()=>{}}){let E=(0,s.Y)(h.C,[]),y=(0,i.OY)(),b=!!(0,_.U7)(),v=n.useCallback(async({credential:n})=>{(0,p.AB)("google_one_tap_login_start",e,{},{forwardToDatadog:!0});let i=(0,g.u)(n);if(!i)return;let a={name:i.name,token:n,tokenType:m.qm.ID_TOKEN};if(t){t(a);return}try{let t=await (0,o.WT)(a,{dispatch:y,apiUrl:o.KQ,origin:e,showExtraInfoModalCb:r});(0,p.AB)("google_one_tap_login_complete",e,{},{forwardToDatadog:!0}),y(u.a.setRedirectUrl({redirectUrl:l.default.location.pathname})),y(u.a.complete({userId:t.id}))}catch(e){y(u.a.showError({message:e.message}))}},[e,t,y,r]),I=n.useRef(!1);return n.useEffect(()=>{if(E.status===d.D.SUCCESS&&!I.current){I.current=!0;let t=E.value,{google_client_id:r}=(0,c.cp)();(0,a.kz)(void 0!==r,"google_client_id should be defined in initialOptions"),t.accounts.id.initialize({client_id:r,prompt_parent_id:f,callback:v,cancel_on_tap_outside:!1,itp_support:!1,use_fedcm_for_prompt:b}),t.accounts.id.prompt(t=>{if(b){let r=t.getMomentType();(0,p.AB)("google_one_tap_prompt_moment",e,{momentType:r,reason:"dismissed"===r?t.getDismissedReason():void 0},{forwardToDatadog:!0});return}"display"===t.getMomentType()?t.isDisplayed()?(0,p.AB)("google_one_tap_prompt_displayed",e,{},{forwardToDatadog:!0}):(0,p.AB)("google_one_tap_prompt_display_failed",e,{reason:t.getNotDisplayedReason()},{forwardToDatadog:!0}):"skipped"===t.getMomentType()?(0,p.AB)("google_one_tap_prompt_skipped",e,{reason:t.getSkippedReason()},{forwardToDatadog:!0}):"dismissed"===t.getMomentType()&&(0,p.AB)("google_one_tap_prompt_dismissed",e,{reason:t.getDismissedReason()},{forwardToDatadog:!0})})}},[E,v,e,b]),n.createElement("div",{id:f,"data-testid":"google_one_tap",className:"google_one_tap--googleOneTap--c-K3O"})}function y(e){var t;return(null==(t=(0,c.Ub)())?void 0:t.google_one_tap_killswitch)?null:n.createElement(E,{...e})}},43828:(e,t,r)=>{"use strict";r.d(t,{Gq:()=>m,IS:()=>c,IT:()=>g,O0:()=>_,Om:()=>f,U7:()=>h,_Z:()=>u,m8:()=>E,mS:()=>d,ob:()=>p});var n=r(47531),i=r(936756),a=r(560072),o=r(679804),l=r(520552),s=r(626436);function c(e,t){return(0,l.kT)(e,t)||"WIDGET"===t.type}function d(e){let t=[];for(let[r,n]of(e.shapeType&&t.push(E(e.shapeType)),"img"===e.ariaRole?e.accessibleLabel?t.push(e.accessibleLabel):t.push((0,a.t)("fullscreen.accessibility_dom.unlabeled_image")):"MEDIA"===e.type?e.accessibleLabel?t.push(e.accessibleLabel):t.push((0,a.t)("fullscreen.accessibility_dom.unlabeled_video")):t.push((0,s.u)(e.type)),("SECTION"===e.type||"INSTANCE"===e.type||"FRAME"===e.type)&&e.name&&t.push(e.name),e.contentsHidden&&t.push((0,a.t)("fullscreen.accessibility.contents_hidden")),e.setData.size>1&&t.push((0,a.t)("fullscreen.accessibility_dom.pos_in_set",{i:e.setData.i,size:e.setData.size})),e.numChildren&&e.numChildren>0&&t.push((0,a.t)("fullscreen.accessibility_dom.num_children",{n:e.numChildren})),Object.entries(e.stampFrequencies??{})))t.push((0,a.t)("fullscreen.accessibility_dom.num_stamps",{count:n,name:r}));return(0,i.Oy)(t,"unit")}function u(e){return"SECTION"===e}function p(e){return u(e.type)&&e.name?e.name:null}function m(e){if(0===Math.round(e.angle))return e;let t=(0,n.getCenteredRotation)(e.angle,e.width,e.height);return{...e,x:e.x-t[0][2],y:e.y-t[1][2]}}function _(e){let t=null==e?void 0:e.textData;return(null==t?void 0:t.characters)?{characters:t.characters,lines:t.lines,styleOverrideTable:t.styleOverrideTable,characterStyleIDs:t.characterStyleIDs,hyperlink:e.hyperlink}:{}}function h(e,t){return"TABLE"!==t.type?[]:t.sortedTableCells}function g(e){return e.fills&&(1===e.fills.length&&"IMAGE"===e.fills[0].type||2===e.fills.length&&"IMAGE"===e.fills[1].type)?"img":"SECTION"===e.type?"region":"TABLE"===e.type?"table":"group"}function f(){let e={x:0,y:0,width:1e3,height:1e3,angle:0};return{viewportContainerToCss:t=>{let r=(0,o.C)(t,e),n=(0,o.uY)(r,t);return{left:n.x,top:n.y,width:n.width,height:n.height,position:"absolute"}},nodeRectToCss:(t,r)=>{let n=0!==Math.round(t.angle)?{transform:`rotate(${(360-t.angle).toString()}deg)`}:{},i=e;return"canvas"!==r&&(i=r),{position:"absolute",left:100*t.x/i.width+"%",top:100*t.y/i.height+"%",width:100*t.width/i.width+"%",height:100*t.height/i.height+"%",...n}}}}function E(e){switch(e){case"DIAMOND":return(0,a.t)("fullscreen.accessibility_dom.node_name_whiteboard-diamond");case"ELLIPSE":return(0,a.t)("fullscreen.accessibility_dom.node_name_whiteboard-ellipse");case"ENG_DATABASE":return(0,a.t)("fullscreen.accessibility_dom.node_name_whiteboard-eng-database");case"ENG_FILE":return(0,a.t)("fullscreen.accessibility_dom.node_name_whiteboard-eng-file");case"ENG_FOLDER":return(0,a.t)("fullscreen.accessibility_dom.node_name_whiteboard-eng-folder");case"ENG_QUEUE":return(0,a.t)("fullscreen.accessibility_dom.node_name_whiteboard-eng-queue");case"PARALLELOGRAM_RIGHT":case"PARALLELOGRAM_LEFT":return(0,a.t)("fullscreen.accessibility_dom.node_name_whiteboard-parallelogram-right");case"ROUNDED_RECTANGLE":return(0,a.t)("fullscreen.accessibility_dom.node_name_whiteboard-rounded-rectangle");case"SQUARE":return(0,a.t)("fullscreen.accessibility_dom.node_name_whiteboard-square");case"TRIANGLE_DOWN":case"TRIANGLE_UP":return(0,a.t)("fullscreen.accessibility_dom.node_name_whiteboard-triangle-down");case"TRAPEZOID":return(0,a.t)("fullscreen.accessibility_dom.node_name_whiteboard-trapezoid");case"STAR":return(0,a.t)("fullscreen.accessibility_dom.node_name_whiteboard-star");case"SHIELD":return(0,a.t)("fullscreen.accessibility_dom.node_name_whiteboard-shield");case"HEXAGON":return(0,a.t)("fullscreen.accessibility_dom.node_name_whiteboard-hexagon");case"PENTAGON":return(0,a.t)("fullscreen.accessibility_dom.node_name_whiteboard-pentagon");case"OCTAGON":return(0,a.t)("fullscreen.accessibility_dom.node_name_whiteboard-octagon");case"PLUS":return(0,a.t)("fullscreen.accessibility_dom.node_name_whiteboard-plus");case"PREDEFINED_PROCESS":return(0,a.t)("fullscreen.accessibility_dom.node_name_whiteboard-predefined-process");case"MANUAL_INPUT":return(0,a.t)("fullscreen.accessibility_dom.node_name_whiteboard-manual-input");case"CHEVRON":return(0,a.t)("fullscreen.accessibility_dom.node_name_whiteboard-chevron");case"DOCUMENT_SINGLE":return(0,a.t)("fullscreen.accessibility_dom.node_name_whiteboard-document-single");case"DOCUMENT_MULTIPLE":return(0,a.t)("fullscreen.accessibility_dom.node_name_whiteboard-document-multiple");case"ARROW_LEFT":return(0,a.t)("fullscreen.accessibility_dom.node_name_whiteboard-arrow-left");case"ARROW_RIGHT":return(0,a.t)("fullscreen.accessibility_dom.node_name_whiteboard-arrow-right");case"SUMMING_JUNCTION":return(0,a.t)("fullscreen.accessibility_dom.node_name_whiteboard-summing-junction");case"OR":return(0,a.t)("fullscreen.accessibility_dom.node_name_whiteboard-or");case"SPEECH_BUBBLE":return(0,a.t)("fullscreen.accessibility_dom.node_name_whiteboard-speech-bubble");case"INTERNAL_STORAGE":return(0,a.t)("fullscreen.accessibility_dom.node_name_whiteboard-internal-storage");default:throw Error(`Unhandled shape type: ${e}`)}}},626436:(e,t,r)=>{"use strict";r.d(t,{u:()=>a,y:()=>o});var n=r(560072),i=r(762820);function a(e){switch(e){case"SECTION":return(0,n.t)("fullscreen.accessibility_dom.node_name_section");case"STICKY":return(0,n.t)("fullscreen.accessibility_dom.node_name_sticky");case"ROUNDED_RECTANGLE":case"SHAPE_WITH_TEXT":return(0,n.t)("fullscreen.accessibility_dom.node_name_shape");case"CONNECTOR":return(0,n.t)("fullscreen.accessibility_dom.node_name_connector");case"CODE_BLOCK":return(0,n.t)("fullscreen.accessibility_dom.node_name_code_block");case"LINE":return(0,n.t)("fullscreen.accessibility_dom.node_name_line");case"TEXT":return(0,n.t)("fullscreen.accessibility_dom.node_name_text");case"TABLE":return(0,n.t)("fullscreen.accessibility_dom.node_name_table");case"TABLE_CELL":return(0,n.t)("fullscreen.accessibility_dom.node_name_table_cell_generic");case"WIDGET":return(0,n.t)("fullscreen.accessibility_dom.node_name_widget");case"INSTANCE":return(0,n.t)("fullscreen.accessibility_dom.node_name_instance");case"STAMP":return(0,n.t)("fullscreen.accessibility_dom.node_name_stamp");case"CANVAS":return(0,n.t)("fullscreen.accessibility_dom.node_name_canvas");default:return(0,n.t)("fullscreen.accessibility_dom.node_name_fallback")}}function o(e,t){return e===i.w3X.STAMP?t?(0,n.t)("fullscreen.accessibility_dom.current_tool_stamp",{stampName:t}):(0,n.t)("fullscreen.accessibility_dom.current_tool",{toolName:(0,n.t)("fullscreen_actions.set-tool-stamp")}):null}},230924:(e,t,r)=>{"use strict";r.d(t,{Uh:()=>N,ie:()=>C,kR:()=>A});var n=r(307824),i=r(120304),a=r(125504),o=r.n(a),l=r(886420),s=r(365224),c=r(455200),d=r(888932),u=r(560072),p=r(403132),m=r(753432),_=r(585508),h=r(762820),g=r(138884),f=r(679804),E=r(84936),y=r(734572),b=r(16580),v=r(645604),I=r(43828),w=r(314220),T=r(451171);let{nodeRectToCss:S}=(0,I.Om)(),C={alwaysPan:!1,noPanViewportMultiplier:.9,panJustEnoughViewportMultiplier:1.5},A={jumpOnAbort:!0};function O(e){let t=(0,c.qk)(e.headerLevel,2,6);return e.header?n.createElement(n.Fragment,null,n.createElement("div",{role:"heading","aria-level":t,id:e.header.headerId},e.header.label),e.children):n.createElement(n.Fragment,null,e.children)}function N({nodeId:e,accessibilityScope:t,isDebugMode:r,navigate:a,suppressIds:o}){let l=(0,E.K)(e,t),s=(0,i.w1)(e=>e.mirror.appModel.showComments);if(!l)return null;let c=l.childIds.length,d=l.childIds.map((i,l)=>n.createElement(L,{parentId:e,key:i,nodeId:i,accessibilityScope:t,isDebugMode:r,navigate:a,setSize:c,setPosition:l+1,headingLevel:1,suppressIds:o}));return n.createElement(n.Fragment,null,d,s?n.createElement(M,{guid:e,navigate:a,isDebugMode:r,parentTransformProperties:"canvas",isTopLevel:!0}):null)}function L({accessibilityScope:e,nodeId:t,isDebugMode:r,navigate:i,setSize:a,setPosition:o,headingLevel:l,parentId:s,suppressIds:c}){let d=(0,E.K)(t,e);if(!d)return null;let{childIds:u,...p}=d;return n.createElement(R,{...p,nodeId:t,isDebugMode:r,navigate:i,setSize:a,setPosition:o,headingLevel:l,parentId:s,childIds:u,accessibilityScope:e,suppressIds:c})}let R=n.memo(function({childIds:e,parentId:t,setSize:r=1,setPosition:a=1,headingLevel:l=2,author:c,transformProperties:E,directTextContent:b,innerTextContent:N,tableCells:R,headerLabel:P,guid:k,isDebugMode:D,navigate:F,ariaRole:x,name:U,shapeType:B,type:G,accessibilityScope:V,nodeId:H,suppressIds:W,stampFrequencies:K,accessibleLabel:Y,contentsHidden:q}){let j=(0,i.o3)(),$=j.getState().comments.showResolved,Z=(0,i.w1)(e=>e.mirror.appModel.showComments),z=j.getState().mirror.sceneGraph,Q=e.length,X=(0,I._Z)(G)?l+1:l,J=e.map((e,t)=>n.createElement(L,{key:e,nodeId:e,accessibilityScope:V,isDebugMode:D,navigate:F,parentId:H,headingLevel:X,setSize:Q,setPosition:t+1,suppressIds:W})),ee=(0,I.mS)({type:G,shapeType:B,ariaRole:x,name:U,setData:{size:r,i:a,headerLevel:l},numChildren:Q,stampFrequencies:K,accessibleLabel:Y,contentsHidden:q}),et=t?z.get(t):void 0,er=S(E,t&&et&&"CANVAS"!==et.type?(0,I.Gq)(h.GqY.getNodeTransformProperties(t)):"canvas"),en=(0,w.u)(b),ei=(0,w.u)(N),ea=(0,w.K)(z,H,R),eo=P?{label:P,headerId:`sectionHeaderFor-${k}`}:null,el=(0,i.w1)(e=>{let t=Object.keys(e.mirror.sceneGraphSelection);return(e.mirror.appModel.activeCanvasEditModeType!==h.a_v.TEXT&&1===t.length?t[0]:"")===k}),{groupCommentNodeId:es,groupCommentTransformProperties:ec,groupSize:ed}=function(e,t){var r;let n,i,a;let o=null==(r=t.get(e))?void 0:r.parentGuid,l=o?t.get(o):void 0;for(;null==l?void 0:l.resizeToFit;){n=l.guid??e;let r=l.parentGuid;l=r?t.get(r):void 0}if(n){let t=h.i46.getSortedChildGuids(n);t.length>0&&t[t.length-1]===e?(a=t.length,i=(0,I.Gq)(h.GqY.getNodeTransformProperties(n))):n=void 0}return{groupCommentNodeId:n,groupCommentTransformProperties:i,groupSize:a}}(k,z);(function(e,t,r,i,a,o,l,c,d){let u=(0,s.my)(y.K);n.useEffect(()=>{e&&u({type:"SET_CURRENTLY_SELECTED_NODE",payload:{nodeId:d,ariaLabel:(0,I.mS)({type:t,shapeType:r,name:i,accessibleLabel:a,setData:{size:o,i:l,headerLevel:c}})}})},[a,c,l,e,i,d,r,o,t,u])})(el,G,B,U,Y,r,a,l,H),n.useEffect(()=>{var e,t,r,n;W||(el&&!h.K2t.getExpectingTextInput()?(null==(e=document.getElementById(k))||e.setAttribute("tabindex","0"),null==(t=document.getElementById(k))||t.focus()):(null==(r=document.getElementById(k))||r.setAttribute("tabindex","-1"),null==(n=document.getElementById(k))||n.blur()))},[k,el,W]);let[eu,ep]=(0,v.Y)(D?[e,t,c,E,b,N,P,k,el,x,U,B,G,H,W]:[]);return n.createElement(n.Fragment,null,n.createElement("div",{id:W?void 0:k,ref:ep,role:x,className:o()(T.pl,D&&eu),style:er,"aria-label":ee,tabIndex:-1,contentEditable:d.cp.windows&&el?"true":void 0,onContextMenu:e=>{j.dispatch(p.Qn({type:m.y4,data:{clientX:e.clientX,clientY:e.clientY}})),e.preventDefault()},onFocus:e=>{e.target!==e.currentTarget||e.relatedTarget===e.currentTarget||el||(g.mo(),g.aN([k]),_.CA.commit(),F((0,f.Qn)({nodeId:k,...C}),A))},"data-guid":W?k:void 0,"data-fullscreen-intercept-dangerously-include-tab":!0},n.createElement(O,{header:eo,headerLevel:X},n.createElement(n.Fragment,null,ei.length>0?ei:null,en.length>0?en:null,null!=c&&n.createElement(u.Tx,{id:"fullscreen.accessibility.author",authorName:c}),ea.length>0?ea:null,J)),Z?n.createElement(M,{guid:k,navigate:F,isDebugMode:D,parentTransformProperties:E,showResolved:$}):null),Z&&es?n.createElement(M,{guid:es,navigate:F,isDebugMode:D,parentTransformProperties:"canvas",intermediateTransformProperties:ec??E,showResolved:$,groupSize:ed}):null)},function({directTextContent:e,innerTextContent:t,tableCells:r,transformProperties:n,childIds:a,stampFrequencies:o,accessibleLabel:s,...c},{directTextContent:d,innerTextContent:u,tableCells:p,transformProperties:m,childIds:_,stampFrequencies:h,accessibleLabel:g,...f}){return(0,i.G)(c,f)&&(0,i.G)(n,m)&&(0,i.G)(o,h)&&(0,i.G)(s,g)&&(0,i.G)(a,_)&&(0,l.QZ)(e,d)&&(0,l.QZ)(t,u)&&(0,l.QZ)(r,p)});function P({isDebugMode:e,threads:t,navigate:r,parentTransformProperties:i,intermediateTransformProperties:a}){return n.createElement(n.Fragment,null,null==t?void 0:t.map((o,l)=>n.createElement(b.k,{key:o.id,thread:o,navigate:r,isDebugMode:e,setPos:l+1,setSize:t.length,intermediateTransformProperties:a,parentTransformProperties:i})))}function M({guid:e,isDebugMode:t,navigate:r,isTopLevel:i,groupSize:a,parentTransformProperties:o,intermediateTransformProperties:l,showResolved:s}){let c=(0,b.Q)(e),d=s?c:null==c?void 0:c.filter(e=>e.comments.length>0&&!e.comments[0].resolved_at),p=n.createElement(P,{threads:d,navigate:r,isDebugMode:t,parentTransformProperties:o,intermediateTransformProperties:l});if(!(d&&d.length>0))return null;if(i)return n.createElement("div",{role:"region","aria-labelledby":"canvas-comments-heading"},n.createElement("h2",{id:"canvas-comments-heading"},n.createElement(u.Tx,{id:"fullscreen.accessibility_dom.unattached_comments"})),p);if(!a)return p;{let e=(0,u.t)("fullscreen.accessibility_dom.grouped_comments",{groupSize:a});return n.createElement("div",{role:"group","aria-label":e},p)}}},948408:(e,t,r)=>{"use strict";r.d(t,{Qn:()=>E,Sm:()=>b,Uj:()=>v,_e:()=>y});var n=r(307824),i=r(120304),a=r(4580),o=r(594192),l=r(936756),s=r(560072),c=r(317704),d=r(233159),u=r(308624),p=r(585508),m=r(762820),_=r(128720),h=r(626436);function g(e){e.target instanceof HTMLInputElement&&e.target.setAttribute("aria-hidden","false")}function f(e){e.target instanceof HTMLInputElement&&e.target.setAttribute("aria-hidden","true")}let E="hidden-input-activedescendant";function y(e){(0,n.useEffect)(()=>{let t=b();return null==t?p.CA.onReady().then(()=>{let t=b();setTimeout(()=>{null!=t&&(t.ariaLabel=I(e),t.setAttribute("aria-activedescendant",E),t.addEventListener("focus",g),t.addEventListener("blur",f))},500)}):(t.ariaLabel=I(e),t.setAttribute("aria-activedescendant",E),t.addEventListener("focus",g),t.addEventListener("blur",f)),()=>{null==t||t.removeEventListener("focus",g),null==t||t.removeEventListener("blur",f)}},[e]);let t=(0,a.q)(e=>Object.keys(e.mirror.sceneGraphSelection).length),r=(0,i.w1)(e=>e.mirror.appModel.activeCanvasEditModeType===m.a_v.DESIGN_LAYOUT||e.mirror.appModel.activeCanvasEditModeType===m.a_v.WHITEBOARD_LAYOUT||e.mirror.appModel.activeCanvasEditModeType===m.a_v.COMMENTS),y=(0,d.oV)(),[v,w]=(0,a.q)(e=>{let t;return null!=e.mirror.appModel.currentStampToolName&&""!==e.mirror.appModel.currentStampToolName&&(t=(0,_.WW)(e.mirror.appModel.currentStampToolName)()),[e.mirror.appModel.currentTool,t]}),T=(0,i.OY)(),S=(0,n.useRef)(!1);(0,n.useEffect)(()=>{if("whiteboard"!==e||!r)return;let n=null;0===t&&!0===S.current?n=(0,s.t)("fullscreen.accessibility.selection_cleared"):t>1&&(n=(0,s.t)("fullscreen.accessibility.multi_select",{n:t})),y&&n&&T(c.A.enqueue({type:`${u.cP}-${u.wl}`,message:n,role:"status",timeoutOverride:100})),S.current=t>0},[e,T,t,r,y]),(0,n.useEffect)(()=>{let r=b();if(null==r)return;let n=[I(e),(0,h.y)(v,w),t>0?(0,s.t)("fullscreen.accessibility.num_items_selected",{num_selected:t}):null].filter(o.aI);r.ariaLabel=(0,l.Oy)(n,"unit");let i=document.getElementById(E);i&&(i.ariaLabel=(0,l.Oy)(n,"unit"))},[e,t,v,w])}function b(){var e;let t=null==(e=document.getElementById("fullscreen-root"))?void 0:e.getElementsByClassName("focus-target");if(null==t)return null;for(let e of t){let t="application"===e.getAttribute("role")||"application"===e.role;if(e.hasAttribute("readonly")&&t)return e}return null}function v(){var e;null==(e=b())||e.focus()}function I(e){return"whiteboard"===e?(0,s.t)("general.figjam"):(0,s.t)("general.figma_design")}},308568:(e,t,r)=>{"use strict";r.d(t,{w:()=>p,C:()=>u});var n=r(307824),i=r(343104),a=r(125504),o=r.n(a),l=r(204792),s=r(484532),c=r(968240),d=r(508260);function u(e){return n.createElement("div",{className:"action_option--iconContainer--LFlTl"},e.children)}function p(e){return n.createElement(l.g.Option,{disabled:!e.isEnabled,onClick:e.onClick,onPointerUp:e.onPointerUp,recordingKey:e.recordingKey,className:o()("action_option--optionContainer--ru4UN",{"action_option--optionContainerLimitWidth--aaElZ":e.inPanel}),buttonRef:e.buttonRef,onboardingKey:e.onboardingKey,simulateHover:e.simulateHover},!e.hideCheck&&n.createElement("div",{className:"action_option--checkMarkContainer--hq6Bt action_option--iconContainer--LFlTl"},e.isChecked&&n.createElement(c.e,{svg:d.c},n.createElement(i.q,null))),e.children&&n.createElement(u,null,e.children),n.createElement("div",{className:"action_option--text--fSMIm"},e.text),null!=e.shortcut&&n.createElement(s.y,{shortcut:e.shortcut,className:"action_option--shortcut--w0R75"}))}},533060:(e,t,r)=>{"use strict";r.d(t,{ak:()=>S,cb:()=>x,qu:()=>C});var n=r(307824),i=r(125504),a=r.n(i),o=r(139776),l=r(418084),s=r(204838),c=r(760700),d=r(537096),u=r(4596),p=r(560072),m=r(167044),_=r(762820),h=r(979144),g=r(84656),f=r(142548),E=r(502808),y=r(540168),b=r(163600),v=r(195428),I=r(648896),w=r(599628),T=r(1196);function S({changesToDisplay:e,selectedNode:t,onHover:r,onClick:i,expandedLayers:l,setLayerExpanded:s}){let d=(0,g.s5)((0,h.EB)().showGuids),_=n.useMemo(()=>{let t=e=>{if(e.value){let t=e.value.change.guid||e.value.basis.guid,r=(0,u.MR)(t)||u.Q9;return!!(null==l?void 0:l.has(r))}return!0};return(0,o.Ib)((0,v.Wm)((0,v.Sm)(e,(e,r)=>{if(e.parent&&!t(e.parent))return{result:null,visitChildren:!1};let n=!0,{value:i,children:a}=e;if(i.changesToDisplay.length>0){let o=!!a&&a.length>0,l=i.change.guid||i.basis.guid,s=(0,u.MR)(l)||u.Q9;return n=t(e),{result:{...i,indentation:r,isContainer:o,isExpanded:n,idToExpand:s}}}return{result:null}})))},[e,l]);return n.createElement("div",{className:a()(I.M3,I.cP)},n.createElement("div",{className:a()(I.uI,I.EY,I.qG)},(0,p.t)("dev_handoff.compare_changes.layers")),_&&n.createElement("div",{className:a()(I.Yv)},n.createElement("div",{className:I.eo},_.map((e,o)=>{let l=(0,u.MR)(e.change.guid)||(0,u.MR)(e.basis.guid),p=(0,E.GC)(e.basis,e.change);return n.createElement("div",{key:l,className:a()(I.y6,t===l?I.Un:void 0,I.uI),onMouseOver:()=>{r&&l&&r(l)},onMouseLeave:()=>{r&&r(u.Q9)},onClick:()=>{i&&l&&i(l,e)},role:"button",tabIndex:o},n.createElement("div",{className:I.MQ,style:{paddingLeft:`${16*e.indentation}px`}},n.createElement("div",{className:I.ol},n.createElement(m.sj,{visible:e.isContainer,expanded:e.isExpanded,onMouseDown:t=>{t.stopPropagation(),e.isContainer&&(null==s||s([e.idToExpand],!e.isExpanded))},name:p}),n.createElement("div",{className:I.yC},n.createElement(E.OC,{basis:e.basis,change:e.change})),n.createElement(c.s$,{className:I.kn,text:d?`${p} (${(0,u.MR)(e.change.guid)||(0,u.MR)(e.basis.guid)})`:p,tooltipPropsWhenTruncated:{"data-tooltip":p,"data-tooltip-type":f.wL.TEXT}})),n.createElement(R,{change:e.change,basis:e.basis})))}))))}function C(e,t,r,n){return(0,v.Sm)(e,e=>{let i=e.value,a=(0,b.I5)({basis:i.basis,changes:i.change,chunkViewType:y.OE.MERGE_REVIEW,compareThumbnailSource:t,chunk:r,changedStyles:i.changedStyles,isRootNode:i.isRootNode,RenderTableDelegate:n});return a.length>0?{result:{...i,changesToDisplay:a}}:{result:null}})}function A(e){let{basis:t,change:r,changesToDisplay:i}=e,a=(0,E.GC)(t,r),o=n.useMemo(()=>({"data-tooltip":a,"data-tooltip-type":f.wL.TEXT}),[a]);return n.createElement("div",{className:I.pl},n.createElement("div",{className:I.nU},n.createElement("span",{className:I.Wi},n.createElement(E.OC,{basis:t,change:r})),n.createElement(s.G,{className:I.kn,text:a,tooltipPropsWhenTruncated:o}),n.createElement(R,{change:r,basis:t})),n.createElement("div",null,n.createElement(P,{changesToDisplay:i})))}function O({skipMargin:e}){return n.createElement("span",{className:a()(I.eg,{[I.AL]:e})},n.createElement(p.Tx,{id:"collaboration.branching_chunk.phase_removed"}))}function N({skipMargin:e}){return n.createElement("span",{className:a()(I.qw,{[I.AL]:e})},n.createElement(p.Tx,{id:"collaboration.branching_chunk.phase_updated"}))}function L({skipMargin:e}){return n.createElement("span",{className:a()(I.$e,{[I.AL]:e})},n.createElement(p.Tx,{id:"collaboration.branching_chunk.phase_created"}))}function R(e){let{basis:t,change:r}=e;return(0,b.UR)(t)?n.createElement(L,null):(0,b.c3)(r)?n.createElement(O,null):n.createElement(N,null)}function P(e){let{changesToDisplay:t}=e;return n.createElement(n.Fragment,null,t.map(e=>n.createElement("div",{key:e.identifier,className:a()(I.Q5,I.Ur)},n.createElement("div",{className:a()(I.kR,I.w4)},n.createElement("div",{className:I.Q5},n.createElement("div",{className:I.Gm},null==e?void 0:e.name()),n.createElement("div",{className:I.WG},n.createElement("div",{className:I.C6},e.oldValue())))),n.createElement("div",{className:a()(I.wz,I.w4)},n.createElement("div",{className:I.C6},e.newValue())))))}function M(e){let{chunk:t,compareThumbnailSource:r}=e,[i,o]=n.useState(!0),{change:s,basis:c}=e.pairedChanges[0],u=t.displayNode.styleType,m=(0,b.MZ)(u,c,s,y.OE.MERGE_REVIEW,t,r);return 0===m.length?null:n.createElement(n.Fragment,null,n.createElement("div",{className:I.kj},n.createElement("div",{className:I.cB,role:"button",tabIndex:0,onClick:()=>{o(!i)}},i?n.createElement(d.A,{svg:w.c,className:I.SO}):n.createElement(d.A,{svg:T.c,className:I.SO}),n.createElement(p.Tx,{id:"collaboration.branching_chunk.change_details"}))),n.createElement("div",null,m.map(e=>n.createElement("div",{className:I.Ur,key:(0,l.c)()},n.createElement("div",{className:I.Q5},n.createElement("div",{className:a()(I.kR)},n.createElement("div",{className:I.Q5},n.createElement("div",{className:a()(I.kR,I.Gm)},e.name()),n.createElement("div",{className:I.wz},n.createElement("div",{className:I.C6},e.oldValue())))),n.createElement("div",{className:a()(I.wz,I._y)},n.createElement("div",{className:I.C6},e.newValue())))))))}function k(e){let{pairedChanges:t,chunk:r,compareThumbnailSource:i}=e,[a,l]=n.useState(!0),s=(0,b.AZ)(t,i),c=(0,o.Ib)(t.map(e=>{let t=(0,b.I5)({basis:e.basis,changes:e.change,chunkViewType:y.OE.MERGE_REVIEW,compareThumbnailSource:i,chunk:r,changedStyles:e.changedStyles});return t.length?{...e,changesToDisplay:t}:null}));return(0,v.Q5)(c)&&0===s.length||r&&r.phase===_.g$$.REMOVED?null:n.createElement(n.Fragment,null,n.createElement("div",{className:I.kj},n.createElement("div",{className:I.cB,role:"button",tabIndex:0,onClick:()=>{l(!a)}},a?n.createElement(d.A,{svg:w.c,className:I.SO}):n.createElement(d.A,{svg:T.c,className:I.SO}),n.createElement("div",null,n.createElement(p.Tx,{id:"collaboration.branching_chunk.change_details"})))),a&&n.createElement(n.Fragment,null,n.createElement("div",null,n.createElement(P,{changesToDisplay:s})),n.createElement("div",{className:I.Y3},Array.isArray(c)&&c.map(e=>n.createElement(A,{key:(0,u.MR)(e.change.guid),basis:e.basis,change:e.change,changesToDisplay:e.changesToDisplay})))))}let D=n.memo(function(e){let{basis:t,changes:r,chunk:i,compareThumbnailSource:a}=e,o=n.useMemo(()=>(0,E.Og)(t||[]),[t]);if(!r||!t)return null;let l=r.map(e=>({change:e,basis:o[(0,u.MR)(e.guid)]}));return n.createElement("div",{className:I._c},n.createElement("div",{className:I.Sw}),(0,E.OK)(i)?n.createElement(M,{pairedChanges:l,chunk:i}):n.createElement(k,{pairedChanges:l,chunk:i,compareThumbnailSource:a}))});class F extends n.Component{constructor(e){super(e),this.state={hasError:!1}}static getDerivedStateFromError(){return{hasError:!0}}componentDidCatch(){}render(){return this.state.hasError?n.createElement(p.Tx,{id:"collaboration.branching_chunk.error"}):n.createElement(D,{changes:this.props.changes,basis:this.props.basis,chunk:this.props.chunk,compareThumbnailSource:this.props.compareThumbnailSource})}}let x=F},540168:(e,t,r)=>{"use strict";let n,i,a;r.d(t,{A3:()=>d,Ij:()=>f,Ks:()=>p,OE:()=>s,U7:()=>_,gB:()=>E,kL:()=>g,m2:()=>m,my:()=>l,sn:()=>c,u0:()=>h,wN:()=>u});var o=r(418084),l=((n=l||{}).RENDER_SINGLE_PROPERTY="RENDER_SINGLE_PROPERTY",n.RENDER_MULTI_PROPERTY="RENDER_MULTI_PROPERTY",n.RENDER_MULTI_NODE="RENDER_MULTI_NODE",n.RENDER_DISPLAY_NODE_SINGLE_PROPERTY="RENDER_DISPLAY_NODE_SINGLE_PROPERTY",n),s=((i=s||{})[i.MERGE_REVIEW=0]="MERGE_REVIEW",i[i.CONFLICT_REVIEW=1]="CONFLICT_REVIEW",i);let c={derivedTextData:!1,name:!0,visible:!0,locked:!0,parentIndex:!0,transform:!0,description:!0,symbolDescription:!0,symbolLinks:!0,type:!0,booleanOperation:!0,horizontalConstraint:!0,verticalConstraint:!0,hyperlink:!0,mention:!0,proportionsConstrained:!0,inheritGridStyleID:!0,layoutGrids:!0,inheritTextStyleID:!0,inheritFillStyleID:!0,inheritFillStyleIDForStroke:!0,inheritEffectStyleID:!0,inheritExportStyleID:!0,inheritStrokeStyleID:!0,styleIdForFill:!0,styleIdForStrokeFill:!0,styleIdForText:!0,styleIdForEffect:!0,styleIdForGrid:!0,scrollBehavior:!0,transitionType:!0,transitionDuration:!0,easingType:!0,scrollDirection:!0,transitionPreserveScroll:!0,connectionType:!0,interactionType:!0,transitionTimeout:!0,interactionMaintained:!0,interactionDuration:!0,overlayPositionType:!0,transitionShouldSmartAnimate:!0,overlayRelativePosition:!0,overlayBackgroundInteraction:!0,overlayBackgroundAppearance:!0,keyTrigger:!0,prototypeInteractions:!0,prototypeStartNodeID:!0,prototypeStartingPoint:!0,videoPlayback:!0,stackMode:!0,stackSpacing:!0,stackCounterSizing:!0,stackPrimarySizing:!0,stackChildPrimaryGrow:!0,stackChildAlignSelf:!0,stackPrimaryAlignItems:!0,stackCounterAlignItems:!0,stackHorizontalPadding:!0,stackVerticalPadding:!0,stackPaddingRight:!0,stackPaddingBottom:!0,stackPositioning:!0,stackReverseZIndex:!0,bordersTakeSpace:!0,stackWrap:!0,stackCounterSpacing:!0,stackCounterAlignContent:!0,minSize:!0,maxSize:!0,maxLines:!0,pluginData:!0,pluginRelaunchData:!0,stackPadding:!1,stackJustify:!1,codeBlockLanguage:!0,pasteSource:!1,fontVariations:!0,detachOpticalSizeFromFontSize:!0,widgetMetadata:!0,widgetPropertyMenuItems:!0,widgetSyncedState:!0,renderedSyncedState:!0,widgetEvents:!1,widgetInputBehavior:!1,widgetCachedAncestor:!0,widgetInputTextNodeType:!1,interactiveSlideConfigData:!1,interactiveSlideParticipantData:!1,flappType:!1,themeID:!1,slideThemeData:!1,slideThemeMap:!1,slideTemplateFileKey:!1,componentPropDefs:!0,componentPropRefs:!0,componentPropAssignments:!1,simplifyInstancePanels:!0,propsAreBubbled:!0,size:!1,guid:!1,phase:!0,opacity:!1,blendMode:!1,count:!1,dashPattern:!1,autoRename:!1,backgroundEnabled:!1,mask:!1,maskType:!1,exportContentsOnly:!1,maskIsOutline:!1,backgroundOpacity:!1,cornerRadius:!1,fontSize:!1,paragraphIndent:!1,paragraphSpacing:!1,listSpacing:!1,starInnerScale:!1,miterLimit:!1,strokeWeight:!1,textTracking:!1,strokeAlign:!1,strokeCap:!1,strokeJoin:!1,textAlignHorizontal:!1,textAlignVertical:!1,textCase:!1,textDecoration:!1,leadingTrim:!1,hangingPunctuation:!1,hangingList:!1,fillPaints:!1,strokePaints:!1,lineHeight:!1,fontName:!1,textData:!1,effects:!1,handleMirroring:!1,exportSettings:!1,textAutoResize:!1,vectorData:!1,styleID:!1,backgroundColor:!1,fillGeometry:!1,strokeGeometry:!1,guidPath:!1,symbolData:!1,frameMaskDisabled:!1,resizeToFit:!1,exportBackgroundDisabled:!1,sharedSymbolReference:!1,isSymbolPublishable:!1,sharedSymbolMappings:!1,derivedSymbolData:!1,sharedSymbolVersion:!1,overrideLevel:!1,nestedInstanceResizeEnabled:!1,fontVariantCommonLigatures:!1,fontVariantContextualLigatures:!1,fontVariantDiscretionaryLigatures:!1,fontVariantHistoricalLigatures:!1,fontVariantOrdinal:!1,fontVariantSlashedZero:!1,fontVariantNumericFigure:!1,fontVariantNumericSpacing:!1,fontVariantNumericFraction:!1,fontVariantCaps:!1,fontVariantPosition:!1,guides:!1,transitionNodeID:!1,prototypeBackgroundColor:!1,internalOnly:!1,overriddenSymbolID:!1,rectangleTopLeftCornerRadius:!1,rectangleTopRightCornerRadius:!1,rectangleBottomLeftCornerRadius:!1,rectangleBottomRightCornerRadius:!1,rectangleCornerRadiiIndependent:!1,rectangleCornerToolIndependent:!1,sharedComponentMasterData:!1,cornerSmoothing:!1,styleType:!1,styleDescription:!1,unflatteningMappings:!1,letterSpacing:!1,version:!1,userFacingVersion:!1,sharedStyleMasterData:!1,sharedStyleReference:!1,sortPosition:!1,isPublishable:!1,exportTextAsSVGText:!1,isSoftDeletedStyle:!1,isSoftDeleted:!1,isNonUpdateable:!1,isOverrideOverTextStyle:!1,connectionURL:!1,prototypeDevice:!1,backgroundPaints:!1,arcData:!1,derivedSymbolDataLayoutVersion:!1,navigationType:!1,fontVersion:!1,textUserLayoutVersion:!1,textExplicitLayoutVersion:!1,textBidiVersion:!1,toggledOnOTFeatures:!1,toggledOffOTFeatures:!1,overrideKey:!1,publishFile:!1,sourceLibraryKey:!1,publishID:!1,key:!1,componentKey:!1,isC2:!1,fileAssetIds:!1,publishedVersion:!1,containerSupportsFillStrokeAndCorners:!1,isStateGroup:!1,voiceEventPhrase:!1,forceUnflatteningMappings:!1,ancestorPathBeforeDeletion:!1,stateGroupPropertyValueOrders:!1,nodeGenerationData:!1,derivedImmutableFrameData:!1,derivedImmutableFrameDataVersion:!1,shapeWithTextType:!1,connectorStart:!1,connectorEnd:!1,connectorLineStyle:!1,connectorStartCap:!1,connectorEndCap:!1,connectorType:!1,shapeUserHeight:!1,overrideStash:!1,internalEnumForTest:!1,internalDataForTest:!1,connectorControlPoints:!1,connectorTextMidpoint:!1,annotations:!1,measurements:!1,libraryMoveInfo:!1,libraryMoveHistory:!1,developerRelatedLinks:!1,stampData:!1,embedData:!1,linkPreviewData:!1,richMediaData:!1,textTruncation:!0,shapeTruncates:!1,sectionContentsHidden:!1,widgetTooltip:!1,borderTopWeight:!1,borderBottomWeight:!1,borderLeftWeight:!1,borderRightWeight:!1,borderStrokeWeightsIndependent:!1,widgetHoverStyle:!1,hasHadRTLText:!1,emojiImageSet:!1,slideThumbnailHash:!1,isWidgetStickable:!1,shouldHideCursorsOnWidgetHover:!1,variableDataValues:!1,variableConsumptionMap:!1,variableModeBySetMap:!1,variableSetModes:!1,variableSetID:!1,backingVariableSetId:!1,rootVariableKey:!1,variableResolvedType:!1,isCollectionExtendable:!1,variableScopes:!1,codeSyntax:!0,agendaPositionMap:!1,agendaMetadataMap:!1,migrationStatus:!1,editInfo:!1,documentColorProfile:!1,accessibleHTMLTag:!0,ariaRole:!0,ariaAttributes:!0,accessibleLabel:!0,tableRowPositions:!1,tableColumnPositions:!1,tableRowHeights:!1,tableColumnWidths:!1,detachedSymbolId:!1,sevMoonlitLilyData:!1,childReadingDirection:!1,readingIndex:!1,sectionStatusInfo:!1,handoffStatusMap:!1,slideActiveThemeLibKey:!1,slideSpeakerNotes:!1,diagramParentIndex:!1,diagramLayoutRuleType:!1,diagramLayoutPaused:!1,editScopeInfo:!1,sectionPresetInfo:!1,semanticWeight:!1,semanticItalic:!1,isPageDivider:!1,moduleType:!1,pageType:!1,isResponsiveSet:!1,defaultResponsiveSetId:!1,responsiveSetSettings:!1},d=new Map(Object.entries({inheritTextStyleID:["fontName","fontSize","textCase","textDecoration","letterSpacing","fontVariations","fontVariantCommonLigatures","fontVariantContextualLigatures","fontVariantDiscretionaryLigatures","fontVariantHistoricalLigatures","fontVariantOrdinal","fontVariantSlashedZero","fontVariantNumericFigure","fontVariantNumericSpacing","fontVariantNumericFraction","fontVariantCaps","fontVariantPosition"],inheritFillStyleID:["fillPaints"],inheritFillStyleIDForStroke:[],inheritEffectStyleID:["effects"],styleIdForText:["fontName","fontSize","textCase","textDecoration","letterSpacing","fontVariations","fontVariantCommonLigatures","fontVariantContextualLigatures","fontVariantDiscretionaryLigatures","fontVariantHistoricalLigatures","fontVariantOrdinal","fontVariantSlashedZero","fontVariantNumericFigure","fontVariantNumericSpacing","fontVariantNumericFraction","fontVariantCaps","fontVariantPosition"],styleIdForFill:["fillPaints"],styleIdForStrokeFill:["strokePaints"],styleIdForEffect:["effects"]})),u={derivedTextData:!1,name:!1,visible:!0,locked:!1,parentIndex:!1,transform:!0,description:!1,symbolDescription:!1,symbolLinks:!1,type:!1,booleanOperation:!1,horizontalConstraint:!0,verticalConstraint:!0,hyperlink:!0,mention:!1,proportionsConstrained:!1,inheritGridStyleID:!0,layoutGrids:!1,inheritTextStyleID:!0,inheritFillStyleID:!0,inheritFillStyleIDForStroke:!0,inheritEffectStyleID:!0,inheritExportStyleID:!0,inheritStrokeStyleID:!0,styleIdForFill:!0,styleIdForStrokeFill:!0,styleIdForText:!0,styleIdForEffect:!0,styleIdForGrid:!0,scrollBehavior:!1,transitionType:!1,transitionDuration:!1,easingType:!1,scrollDirection:!1,transitionPreserveScroll:!1,connectionType:!1,interactionType:!1,transitionTimeout:!1,interactionMaintained:!1,interactionDuration:!1,overlayPositionType:!1,transitionShouldSmartAnimate:!1,overlayRelativePosition:!1,overlayBackgroundInteraction:!1,overlayBackgroundAppearance:!1,keyTrigger:!1,prototypeInteractions:!1,prototypeStartNodeID:!1,prototypeStartingPoint:!1,videoPlayback:!1,stackMode:!0,stackSpacing:!0,stackCounterSizing:!0,stackPrimarySizing:!0,stackChildPrimaryGrow:!0,stackChildAlignSelf:!0,stackPrimaryAlignItems:!0,stackCounterAlignItems:!0,stackHorizontalPadding:!0,stackVerticalPadding:!0,stackPaddingRight:!0,stackPaddingBottom:!0,stackPositioning:!0,stackReverseZIndex:!0,bordersTakeSpace:!0,stackWrap:!0,stackCounterSpacing:!0,stackCounterAlignContent:!0,minSize:!0,maxSize:!0,maxLines:!0,pluginData:!1,pluginRelaunchData:!1,stackPadding:!1,stackJustify:!1,codeBlockLanguage:!1,pasteSource:!1,fontVariations:!0,detachOpticalSizeFromFontSize:!1,widgetMetadata:!1,widgetPropertyMenuItems:!1,widgetSyncedState:!1,renderedSyncedState:!1,widgetEvents:!1,widgetInputBehavior:!1,widgetCachedAncestor:!1,widgetInputTextNodeType:!1,interactiveSlideConfigData:!1,interactiveSlideParticipantData:!1,flappType:!1,themeID:!1,slideThemeData:!1,slideThemeMap:!1,slideTemplateFileKey:!1,componentPropDefs:!1,componentPropRefs:!1,componentPropAssignments:!1,simplifyInstancePanels:!1,propsAreBubbled:!1,size:!0,guid:!1,phase:!1,opacity:!0,blendMode:!0,count:!0,dashPattern:!0,autoRename:!1,backgroundEnabled:!1,mask:!0,maskType:!0,exportContentsOnly:!1,maskIsOutline:!1,backgroundOpacity:!1,cornerRadius:!1,fontSize:!0,paragraphIndent:!0,paragraphSpacing:!0,listSpacing:!0,starInnerScale:!0,miterLimit:!0,strokeWeight:!0,textTracking:!0,strokeAlign:!0,strokeCap:!0,strokeJoin:!0,textAlignHorizontal:!0,textAlignVertical:!0,textCase:!0,textDecoration:!0,leadingTrim:!0,hangingPunctuation:!1,hangingList:!1,fillPaints:!0,strokePaints:!0,lineHeight:!0,fontName:!0,textData:!0,effects:!0,handleMirroring:!1,exportSettings:!1,textAutoResize:!1,vectorData:!0,styleID:!1,backgroundColor:!1,fillGeometry:!1,strokeGeometry:!1,guidPath:!1,symbolData:!1,frameMaskDisabled:!1,resizeToFit:!0,exportBackgroundDisabled:!1,sharedSymbolReference:!1,isSymbolPublishable:!1,sharedSymbolMappings:!1,derivedSymbolData:!1,sharedSymbolVersion:!1,overrideLevel:!1,nestedInstanceResizeEnabled:!1,fontVariantCommonLigatures:!0,fontVariantContextualLigatures:!0,fontVariantDiscretionaryLigatures:!0,fontVariantHistoricalLigatures:!0,fontVariantOrdinal:!0,fontVariantSlashedZero:!0,fontVariantNumericFigure:!0,fontVariantNumericSpacing:!0,fontVariantNumericFraction:!0,fontVariantCaps:!0,fontVariantPosition:!0,guides:!1,transitionNodeID:!1,prototypeBackgroundColor:!1,internalOnly:!1,overriddenSymbolID:!1,rectangleTopLeftCornerRadius:!0,rectangleTopRightCornerRadius:!0,rectangleBottomLeftCornerRadius:!0,rectangleBottomRightCornerRadius:!0,rectangleCornerRadiiIndependent:!1,rectangleCornerToolIndependent:!1,sharedComponentMasterData:!1,cornerSmoothing:!0,styleType:!1,styleDescription:!1,unflatteningMappings:!1,letterSpacing:!0,version:!1,userFacingVersion:!1,sharedStyleMasterData:!1,sharedStyleReference:!1,sortPosition:!1,isPublishable:!1,exportTextAsSVGText:!1,isSoftDeletedStyle:!1,isSoftDeleted:!1,isNonUpdateable:!1,isOverrideOverTextStyle:!1,connectionURL:!1,prototypeDevice:!1,backgroundPaints:!1,arcData:!1,derivedSymbolDataLayoutVersion:!1,navigationType:!1,fontVersion:!1,textUserLayoutVersion:!1,textExplicitLayoutVersion:!1,textBidiVersion:!1,toggledOnOTFeatures:!1,toggledOffOTFeatures:!1,overrideKey:!1,publishFile:!1,sourceLibraryKey:!1,publishID:!1,key:!1,componentKey:!1,isC2:!1,fileAssetIds:!1,publishedVersion:!1,containerSupportsFillStrokeAndCorners:!1,isStateGroup:!1,voiceEventPhrase:!1,forceUnflatteningMappings:!1,ancestorPathBeforeDeletion:!1,stateGroupPropertyValueOrders:!1,nodeGenerationData:!0,derivedImmutableFrameData:!1,derivedImmutableFrameDataVersion:!1,shapeWithTextType:!0,connectorStart:!1,connectorEnd:!1,connectorLineStyle:!1,connectorStartCap:!1,connectorEndCap:!1,connectorType:!1,shapeUserHeight:!0,overrideStash:!1,internalEnumForTest:!1,internalDataForTest:!1,connectorControlPoints:!1,connectorTextMidpoint:!1,annotations:!1,measurements:!1,libraryMoveInfo:!1,libraryMoveHistory:!1,developerRelatedLinks:!1,stampData:!1,embedData:!0,linkPreviewData:!0,richMediaData:!0,textTruncation:!0,shapeTruncates:!0,sectionContentsHidden:!0,widgetTooltip:!1,borderTopWeight:!0,borderBottomWeight:!0,borderLeftWeight:!0,borderRightWeight:!0,borderStrokeWeightsIndependent:!1,widgetHoverStyle:!1,hasHadRTLText:!1,emojiImageSet:!1,slideThumbnailHash:!1,isWidgetStickable:!1,shouldHideCursorsOnWidgetHover:!1,variableDataValues:!1,variableConsumptionMap:!0,variableModeBySetMap:!1,variableSetModes:!1,variableSetID:!1,backingVariableSetId:!1,rootVariableKey:!1,isCollectionExtendable:!1,variableResolvedType:!1,variableScopes:!1,codeSyntax:!0,agendaPositionMap:!1,agendaMetadataMap:!1,migrationStatus:!1,editInfo:!1,documentColorProfile:!1,accessibleHTMLTag:!1,ariaRole:!1,ariaAttributes:!1,accessibleLabel:!1,tableRowPositions:!1,tableColumnPositions:!1,tableRowHeights:!1,tableColumnWidths:!1,detachedSymbolId:!1,sevMoonlitLilyData:!1,childReadingDirection:!1,readingIndex:!1,sectionStatusInfo:!1,handoffStatusMap:!1,slideActiveThemeLibKey:!1,slideSpeakerNotes:!1,diagramLayoutRuleType:!1,diagramParentIndex:!1,diagramLayoutPaused:!1,editScopeInfo:!1,sectionPresetInfo:!1,semanticWeight:!1,semanticItalic:!1,isPageDivider:!1,moduleType:!1,pageType:!1,isResponsiveSet:!1,defaultResponsiveSetId:!0,responsiveSetSettings:!1},p=Object.keys(u).filter(e=>u[e]);var m=((a=m||{})[a.LEGO=0]="LEGO",a[a.BRANCHING=1]="BRANCHING",a[a.COMPARE_CHANGES=2]="COMPARE_CHANGES",a[a.TEST_SUITE=3]="TEST_SUITE",a);function _(e){return e.toLowerCase().replace("_"," ")}function h(e,t,r){return{treatmentType:"RENDER_SINGLE_PROPERTY",renderName:e,renderOldValue:"string"==typeof t?()=>_(t):t,renderNewValue:"string"==typeof r?()=>_(r):r}}function g(e,t,r){return{identifier:(0,o.c)(),treatmentType:"RENDER_MULTI_NODE",renderName:e,renderOldValue:"string"==typeof t?()=>t:t,renderNewValue:"string"==typeof r?()=>r:r}}function f(e,t,r){return{identifier:(0,o.c)(),treatmentType:"RENDER_MULTI_PROPERTY",renderName:e,renderOldValue:"string"==typeof t?()=>t:t,renderNewValue:"string"==typeof r?()=>r:r}}function E(e,t,r){return{treatmentType:"RENDER_DISPLAY_NODE_SINGLE_PROPERTY",renderName:e,renderOldValue:"string"==typeof t?()=>t:t,renderNewValue:"string"==typeof r?()=>r:r}}},195428:(e,t,r)=>{"use strict";function n(e,t){t.parent=e,e.children=e.children||[],e.children.push(t)}function i(e,t){let r=(e,i=0,o)=>{var l;let s;let{result:c,visitChildren:d=!0}=a(e)?t(e,i,o):{result:null,visitChildren:!0},u=c?{value:c}:null,p=0;return u?(p=1,s=u):s=o||{},u&&o&&n(o,u),d&&(null==(l=e.children)||l.forEach(e=>r(e,i+p,s))),s};return r(e)}function a(e){return void 0!==e.value}function o(e){let t=[e];for(;t.length>0;){let e=t.pop();if(e&&a(e))return!1;t.push(...(null==e?void 0:e.children)||[])}return!0}function l(e){return Array.isArray(e)?0===e.length:o(e)}function s(e){if(Array.isArray(e))return e;let t=[],r=e=>{var n;e.value&&t.push(e.value),null==(n=e.children)||n.forEach(r)};return r(e),t}r.d(t,{MJ:()=>o,OM:()=>n,Q1:()=>a,Q5:()=>l,Sm:()=>i,Uh:()=>function e(t,r){if(a(t)&&r(t.value))return t.value;if(t.children)for(let n of t.children){let t=e(n,r);if(t)return t}return null},Wm:()=>s})},836492:(e,t,r)=>{"use strict";let n;r.d(t,{Ir:()=>s,Ud:()=>c,g3:()=>l,sl:()=>o,wN:()=>d});var i=r(312452),a=r(639512);let o={[i.Okr.TEXT]:0,[i.Okr.FRAME_OR_GROUP]:0,[i.Okr.COMPONENT]:0,[i.Okr.INSTANCE]:0,[i.Okr.IMAGE]:0,[i.Okr.SHAPE]:0,[i.Okr.OTHER]:0},l=[...a.Km,...a.__],s=a.__;function c(e){return a.Km.filter(t=>e[t])}var d=((n=d||{})[n.PREV=-1]="PREV",n[n.NONE=0]="NONE",n[n.NEXT=1]="NEXT",n)},476156:(e,t,r)=>{"use strict";let n;r.d(t,{C:()=>L});var i=r(307824),a=r(120304),o=r(51408),l=r(843148),s=r(103839),c=r(105516),d=r(240228),u=r(560072),p=r(317704),m=r(250016),_=r(403132),h=r(323576),g=r(110296),f=r(753432),E=r(431844),y=r(142548),b=r(203736),v=r(158196),I=r(856372),w=r(856876),T=r(520887),S=r(378556),C=r(556868),A=r(691520);let O={shouldZoomToStart:!1,shouldWheelPan:!0,enableZoomControls:!0,enableZoomKeyControls:!0,minZoomFactor:.01,maxZoomFactor:10,crossOrigin:"use-credentials"};var N=((n=N||{})[n.LEFT=-1]="LEFT",n[n.RIGHT=1]="RIGHT",n);let L=(0,b.U9)(function(e){let t=(0,a.OY)(),[r,n]=i.useState(e.selectedIdx),b=i.useRef(null),[N,L]=i.useState(null),R=i.useRef(null),{onUpdateAltText:P}=e,[M,k]=i.useState(e.attachments),D=(0,T.yu)(S.a.ATTACHMENT_MODAL_BACKGROUND_COLOR),F=D?(0,o.Yn)(D):void 0,x=e=>{var t;if(b.current){let r=null==(t=b.current)?void 0:t.children[e].firstChild;null==r||r.blur()}},U=e=>{x(r),n(e),L(null)},B=e=>{U((r+e+M.length)%M.length)},G=e=>{let t=r===(-1===e?0:M.length-1);return i.createElement(m.q,{onClick:()=>B(e),icon:-1===e?"chevron-left-32":"chevron-right-32",variant:"text",disabled:t})},V=e=>{if("ArrowLeft"===e.key)0!==r&&B(-1);else if("ArrowRight"===e.key){if(r===M.length-1)return;B(1)}},H=()=>(t(h.Kw()),!0);(0,E.yo)(H,E.W6.FULL_SCREEN_MODAL);let W=(e,r)=>{e.preventDefault(),e.stopPropagation(),t(_.Qn({type:f.op,data:{id:"comment_attachment_context_menu",clientX:e.clientX,clientY:e.clientY,attachment:r}}))},K=i.useRef(null),Y=i.useCallback(()=>{if(R.current&&!N){let e=R.current.getBoundingClientRect(),r=new s.Cg(e.left+e.width/2,e.top);t(g.WS()),L(r)}else L(null)},[t,N]),q=i.useCallback(e=>{if(K.current){let n=K.current.value.trim();(n||e)&&P(n,r).then(e=>{200!==e.status?t(p.A.enqueue({message:(0,u.t)("comments.failed_to_update_alt_text")})):k(e=>(e[r]={...e[r],altText:n},e))}).catch(e=>{t(p.A.enqueue({message:(0,u.t)("comments.failed_to_update_alt_text")}))})}L(null)},[t,P,r]);return i.createElement(i.Fragment,null,i.createElement(d.a,null,i.createElement(v.wJ,{dispatch:t,className:A.Yf,size:"any",onKeyDown:e=>{V(e)}},i.createElement("div",{className:A.Kc},i.createElement("div",{className:A.CA},i.createElement("div",{className:A.Uj},M[r].metadata.file_name??(0,u.t)("comments.attachment_default_name",{fileExtension:M[r].mediaType.split("/")[1]})),i.createElement(c.CA,{className:A.o$,recordingKey:"commentMediaDetailModal",onClick:H,innerText:(0,u.t)("comments.close"),"aria-label":(0,u.t)("comments.close")})),i.createElement("div",{className:A.iQ},i.createElement(I.ko,{imageSrc:M[r].imageUrl,onContextMenu:e=>{W(e,M[r])},pageBackgroundColor:F??void 0,...O}),!!(0,l.Ub)().comments_media_alt_text&&(e.canEdit||M[r].altText)&&i.createElement("button",{className:M.length>1?A.g3:A.S8,"data-tooltip-type":y.wL.TEXT,"data-tooltip":N?void 0:(0,u.t)("comments.add_description"),"data-tooltip-show-above":!0,onClick:()=>N?q(M[r].altText):Y(),ref:R},(0,u.t)("comments.alt_text"))),M.length>1&&i.createElement("div",{className:A.a4},G(-1),i.createElement("div",{ref:b,className:A.kr},M.map((e,t)=>i.createElement("div",{key:e.thumbnailUrl,className:A.ms},i.createElement(C.a,{thumbnailUrl:e.thumbnailUrl,altText:e.altText||(0,u.t)("comments.attachment_thumbnail_alt_text_default"),isSelected:t===r,onClick:e=>{U(t)},onRightClick:t=>W(t,e)})))),G(1)))),N&&i.createElement(w.s,{text:M[r].altText??"",location:N,onEnter:()=>q(M[r].altText),onEscape:()=>(L(null),!0),inputRef:K,canEdit:e.canEdit})))},"AttachmentDetailModal",b.Ou.NO)},556868:(e,t,r)=>{"use strict";r.d(t,{a:()=>u});var n=r(307824),i=r(703520),a=r(560072),o=r(553540),l=r(502144);let s=e=>e.height<256&&e.width<256,c=e=>e.height/e.width>2||e.width/e.height>2,d=e=>e.width>e.height?{width:256,height:128}:{width:128,height:256};function u(e){let[t,r]=n.useState(e.thumbnailUrl);n.useEffect(()=>{t.startsWith("blob")||r(e.thumbnailUrl)},[t,e.thumbnailUrl]);let u=e.dimensions??void 0,p=u&&(s(u)?u:c(u)?d(u):(0,o.U5)(u.width,u.height,256));return n.createElement("button",{className:e.isSelected?l.Gm:l.kO,onClick:()=>{e.onClick(e.thumbnailUrl)},style:p&&{width:`${p.width}px`,height:`${p.height}px`},onContextMenu:t=>{e.onRightClick&&e.onRightClick(t)}},n.createElement("img",{src:t,crossOrigin:"use-credentials",alt:e.altText||(0,a.t)("comments.attachment_thumbnail_alt_text_default"),className:l.EJ}),n.createElement("div",{className:e.overlayText||e.isUploading?l.em:l.M7},e.isUploading&&n.createElement(i.M7,null),e.overlayText))}},23248:(e,t,r)=>{"use strict";r.d(t,{E:()=>_});var n=r(307824),i=r(120304),a=r(560072),o=r(403132),l=r(323576),s=r(753432),c=r(505176),d=r(476156),u=r(556868),p=r(982288),m=r(502144);function _(e){let t=(0,i.OY)(),{attachments:r}=e,_=n=>{t((0,l.A5)({type:d.C,data:{attachments:r,selectedIdx:r.map(e=>e.thumbnailUrl).indexOf(n),onUpdateAltText:h,canEdit:e.canEdit},showModalsBeneath:!0}))},h=(t,n)=>{let i=r[n];return c.i.put(e.fileKey,i.id,t)},g=(e,r)=>{e.preventDefault(),e.stopPropagation(),t(o.Qn({type:s.op,data:{id:"comment_attachment_context_menu",clientX:e.clientX,clientY:e.clientY,attachment:r}}))};return n.createElement("div",{className:p.kJ},r.slice(0,3).map((e,t)=>n.createElement("div",{key:e.id,className:m.am},n.createElement(u.a,{thumbnailUrl:e.thumbnailUrl,altText:e.altText||(0,a.t)("comments.attachment_thumbnail_alt_text_default"),overlayText:r.length>3&&2===t?`+${r.length-3}`:void 0,onClick:_,onRightClick:t=>g(t,e),dimensions:0===t&&1===r.length?e.metadata.dimensions:void 0}))))}},377860:(e,t,r)=>{"use strict";let n;r.d(t,{Oc:()=>l,i8:()=>c,sb:()=>s,uq:()=>d,uw:()=>o});var i=r(562416),a=r.n(i),o=((n=o||{})[n.NORMAL=0]="NORMAL",n[n.ACTIVE=1]="ACTIVE",n[n.DIMMED=2]="DIMMED",n);function l(e,t){return`${100*Math.round(e.x/100)},${100*Math.round(e.y/100)},${t}`}function s(e,t){if(e.isSinglePin&&t.isSinglePin){var r,n;return r=e.pins[0],n=t.pins[0],r.x!==n.x||r.y!==n.y||!a()(r.avatars,n.avatars)||!a()(r.previewMessageMeta,n.previewMessageMeta)||r.isUnread!==n.isUnread||r.numUnreadReplies!==n.numUnreadReplies||r.isResolved!==n.isResolved||!a()(r.selectionBoxAnchor,n.selectionBoxAnchor)||!a()(r.otherBoundingBoxes,n.otherBoundingBoxes)||!a()(r.isPinnedToFile,n.isPinnedToFile)}return e.pins.length!==t.pins.length||e.isUnread!==t.isUnread||e.isPinnedToFile!==t.isPinnedToFile}let c={length:0,leafNodes:new Set([]),all:()=>[],getParentOf:()=>null,zoomScale:-1};function d(e){let t=new Map,r=[];return e.forEach(e=>{if(t.has(e.user.id)){let n=t.get(e.user.id);r[n].num_unread_comments+=e.isUnread?1:0,r[n].num_comments+=1}else r.push({avatar_url:e.user.img_url,avatar_user_id:e.user.id,avatar_user_handle:e.user.handle,num_unread_comments:e.isUnread?1:0,num_comments:1}),t.set(e.user.id,r.length-1)}),r}},78432:(e,t,r)=>{"use strict";r.d(t,{s:()=>l});var n=r(307824),i=r(103839),a=r(679804),o=r(805996);function l(e){let t=(0,a.yO)(),r=i.Cg.scale(-1,t);return n.createElement("div",{className:o.G,style:{top:t.y,left:t.x,height:t.height,width:t.width}},n.createElement("div",{className:o.S,style:{top:r.y,left:r.x}},e.children))}},310620:(e,t,r)=>{"use strict";r.d(t,{_G:()=>w,aM:()=>T,ic:()=>N,s1:()=>A,w1:()=>I});var n=r(307824),i=r(120304),a=r(125504),o=r.n(a),l=r(250008),s=r(398500),c=r(843148),d=r(107516),u=r(148276),p=r(821588),m=r(560072),_=r(202732),h=r(306440),g=r(251596),f=r(483004),E=r(981764),y=r(142548),b=r(785160),v=r(377976);function I(e){let t=RegExp("^\\w+:"),r=e.match(t);return""===e||r&&["http:","https:","mailto:","tel:"].includes(r[0].toLowerCase())?e:"https://"+e}let w=n.memo(e=>{let{text:t,hyperlink:r}=e,a=n.useMemo(()=>(0,s.Hu)(t),[t]),o=(0,h.Aj)(),l=(0,i.OY)();return n.createElement(u.cH,{onClick:()=>{l((0,_.gd)({rawInput:I(r)}))},className:v.Kq,"data-tooltip-type":y.wL.SPECIAL,"data-tooltip":y.oz.HYPERLINK_POPUP,"data-tooltip-show-above":!0,"data-tooltip-unconstrain-width":!0,"data-tooltip-editor-type":o,"data-tooltip-url-string":r,"data-tooltip-interactive":!0,"data-tooltip-precise":!0,trusted:!1},a)}),T=n.memo(e=>{let{userId:t,imgUrl:r,handle:i,href:a}=e;return n.createElement(u.cH,{href:a,target:"_blank",className:v.GL,"data-tooltip-type":y.wL.SPECIAL,"data-tooltip":y.oz.USER_INFO,"data-tooltip-show-above":!0,"data-tooltip-user-img-url":r,"data-tooltip-user-handle":i,"data-tooltip-unconstrain-width":!0,"data-mention-user-id":t,trusted:!0},i)}),S=n.memo(function(e){var t;let r=null==(t=(0,g.C2)())?void 0:t.community_profile_id,{handle:i,commentId:a,profileId:o,profileName:s,profileImgUrl:c}=e,p=(0,d.U)(i),m=(0,d.U)(s);return n.createElement(u.cH,{href:`/${p}`,target:"_blank",className:v.GL,"data-tooltip-type":y.wL.SPECIAL,"data-tooltip":y.oz.USER_INFO,"data-tooltip-show-above":!0,"data-tooltip-user-img-url":c,"data-tooltip-user-handle":m,"data-tooltip-unconstrain-width":!0,onClick:()=>{(0,l.we)("at_mention_link_clicked",{mentioned_profile_id:o,profile_id:r,comment_id:a})},trusted:!0},p)}),C=n.memo(e=>{let{text:t,tokenStyles:r}=e,i=n.useMemo(()=>(0,s.Hu)(t),[t]),a=(null==r?void 0:r.map(e=>"b"===e?v.iK:"i"===e?v.wz:"s"===e?v.Uh:"lightbold"===e?v.W2:void 0))||[];return n.createElement(p.a,null,n.createElement("span",{className:o()(a)},i))}),A=n.memo(e=>{let{text:t,highlightHashtag:r,onHashtagClick:i}=e,a=`#${t}`;return r&&i?n.createElement(u.cH,{className:v.Kq,trusted:!0,onClick:()=>i(t.toLowerCase()),"data-tooltip-type":y.wL.SPECIAL,"data-tooltip":y.oz.FEED_HASHTAG,"data-tooltip-hashtag-text":t},a):n.createElement("span",null,a)}),O=n.memo(e=>{let{text:t,userId:r,profileId:i,user:a,orgPath:o,profiles:l,commentId:s,tokenStyles:c,hyperlink:u,isHashtag:p,enableHashtags:m,onHashtagClick:_}=e,h=(0,d.U)(t);if(r)return n.createElement(T,{href:`/files${o}/user/${r}`,userId:r,handle:(0,d.U)(null==a?void 0:a.handle)||void 0,imgUrl:null==a?void 0:a.img_url});if(i&&h){let e="@"+h,t=null==l?void 0:l[i];return t?n.createElement(S,{handle:e,commentId:s,profileId:t.id,profileName:t.name,profileImgUrl:t.img_url}):n.createElement("span",null,e)}if(null===i&&h){let e="@"+h;return n.createElement("span",null,e)}let g=u&&I(u);return g&&h&&(0,b.q)(g)?n.createElement(w,{text:h,hyperlink:g}):p&&h?n.createElement(A,{text:h,highlightHashtag:m,onHashtagClick:_}):h?n.createElement(C,{text:h,tokenStyles:c}):null}),N=n.memo(e=>{let t=(0,i.w1)(e=>e),r=(0,c.Ub)().ps_benchmark?(0,E.K)(t):(0,f.E)(t),a=(0,i.w1)(t=>{var r,n;return e.mentionedProfiles||(null==(n=null==(r=t.communityHub)?void 0:r.comments)?void 0:n.mentionedProfiles)}),o=(t,r,i,a,l)=>t.map((t,s)=>{var c,u,p,m,_;let h="";if((null==(c=t.styles)?void 0:c.includes("ul"))?h=v.kx:(null==(u=t.styles)?void 0:u.includes("ol"))&&(h=v.Et),null==(p=t.children)?void 0:p.length){let e=t.children.map((e,t)=>n.createElement("li",{key:`li-${r}-${s}-${t}`,className:h},o(e.children,`${r}-${s}-${t}`,i,a,l)));if(null==(m=t.styles)?void 0:m.includes("ul"))return n.createElement("ul",{key:`ul-${r}-${s}`},e);if(null==(_=t.styles)?void 0:_.includes("ol"))return n.createElement("ol",{key:`ol-${r}-${s}`},e)}return n.createElement(O,{key:`${r}-${s}`,orgPath:i,profiles:a||null,commentId:l,text:(0,d.U)(t.t)||void 0,hyperlink:t.link,user:t.user_annotated,userId:t.user_id,profileId:t.profile_id,tokenStyles:t.styles||null,isHashtag:t.is_hashtag,enableHashtags:e.enableHashtags,onHashtagClick:e.onHashtagClick})}),{messageMeta:l,showEditedIndicator:s,commentId:u}=e,p=e.className||v.Av;return n.createElement("div",{className:v.c3+" "+p,"data-testid":"comment-message",dir:"auto"},o(l,u,r,a,u),s&&n.createElement("span",{className:v.Af,key:"edited_indicator"},"\xa0",n.createElement(m.Tx,{id:"comments.edited"})))});N.displayName="CommentMessage"},268720:(e,t,r)=>{"use strict";r.d(t,{Oq:()=>P,WM:()=>R,_K:()=>w,_w:()=>k,cD:()=>D,op:()=>C});var n=r(307824),i=r(120304),a=r(562416),o=r.n(a),l=r(398500),s=r(560072),c=r(678516),d=r(913368),u=r(660352),p=r(560900),m=r(740516),_=r(147495),h=r(417184),g=r(762820),f=r(907152),E=r(251596),y=r(84656),b=r(778112),v=r(827540);let I=new Set([]);function w(e){return({creationDate:(0,s.t)("comments.sort_by_date"),recent:(0,s.t)("comments.sort_by_last_action"),unread:(0,s.t)("comments.sort_by_unread")})[e]}let T=(e,t)=>Date.parse(t.comments[0].created_at)-Date.parse(e.comments[0].created_at),S={creationDate:T,recent:(e,t)=>Date.parse(t.lastRepliedAt||t.comments[t.comments.length-1].created_at)-Date.parse(e.lastRepliedAt||e.comments[e.comments.length-1].created_at),unread:(e,t)=>{let r=Number(e.comments.some(e=>e.isUnread)),n=Number(t.comments.some(e=>e.isUnread));return r===n?T(e,t):n-r}};function C(e){return({resolved:(0,s.t)("comments.show_resolved_comments"),yours:(0,s.t)("comments.only_your_threads"),currentPage:(0,s.t)("comments.only_current_page"),currentSlide:(0,s.t)("comments.only_current_slide")})[e]}let A=e=>!e.comments[0].resolved_at,O=e=>"comment-thread"===e.sidebarItemType,N=e=>"feed-post"===e.sidebarItemType,L={currentPage:!1,currentNode:!1,currentSlide:!1};function R(e){return({commentsOnly:(0,s.t)("comments.only_comments"),postsOnly:(0,s.t)("comments.only_posts")})[e]}let P={postsOnly:[v.gd.RESOLVED],all:[],commentsOnly:[]};async function M(e,t){if(t){let r=t.replace(l.o5,l.yu);return await e.search(r).then(e=>new Set(e.map(e=>e.item.parentId||e.item.id)))}return I}let k=n.createContext({});function D(e){var t;let r=(0,p.gb)(),a=(0,i.OY)(),l=(0,h.UP)(),s=(0,i.w1)(e=>e.comments.showResolved),I=(0,i.w1)(e=>e.comments.showOnlyParticipating),w=(0,i.w1)(e=>e.mirror.appModel.currentPage),T=e.currentNode||w,C=(0,E.sX)()||void 0,R=(0,i.w1)(e=>e.selectedView.commentThreadId),D=(0,y.U3)(null==(t=g.KEP)?void 0:t.singleSlideView().focusedSlideId,f.kg),[F,x]=n.useState("creationDate"),[U,B]=n.useState({...L,resolved:!s,yours:I,...e.initialFilterState}),[G,V]=n.useState("all"),[H,W]=n.useState(""),[K,Y]=n.useState(null),q=(0,_.YD)(r),j=n.useMemo(()=>({resolved:A,yours:e=>C&&e.comments.some(e=>e.user_id===C||(0,m.mK)(e).includes(C))||!1,currentPage:e=>w&&e.page===w||!1,currentNode:e=>{let t=e.comments[0].client_meta;return null!=t&&!!t.in_frame&&t.node_id===T},currentSlide:e=>{var t;let r=null==(t=e.comments[0].client_meta)?void 0:t.node_id,n=r?f.TSSceneGraph.instance.get(r):void 0,i=n?n.findContainingSlideOrSelf():f.kg;return!(0,f.U3)(D)||!(0,f.U3)(i)||i===D}}),[C,w,T,D]),$=n.useMemo(()=>({all:()=>!0,commentsOnly:O,postsOnly:N}),[]),Z=n.useCallback(e=>{W(e)},[]),z=n.useCallback(e=>{a(c.mw({activeSort:e})),x(e)},[a]),Q=n.useCallback(e=>{"resolved"===e&&(a(c.Ww({showResolved:U.resolved})),l&&a((0,u.Sw)(U.resolved))),"yours"===e&&(a(c.kH({showOnlyParticipating:!U.yours})),l&&a(d.Yj(U.yours?b.ak.ALL:b.ak.ME))),B(t=>(t[e]=!t[e],{...t}))},[a,U,l]),X=n.useMemo(()=>{let e=new Set;for(let t of Object.values(v.gd))U[t]&&e.add(t);return e},[U]),J=n.useCallback(e=>{V(e)},[]);n.useEffect(()=>{P[G].forEach(e=>{("resolved"===e?!X.has(e):X.has(e))&&Q(e)})},[G,X,Q]),n.useEffect(()=>{H?M(q,H).then(e=>{o()(K,e)||Y(e)}):Y(null)},[r,H,K,q]);let ee=n.useMemo(()=>(function(e,t,r,n,i,a,o,l){if("loaded"!==e.status)return e;let s=[...e.data];for(let e of(l&&(s=s.filter(e=>l.has(e.id))),n))s=s.filter(a[e]);return s=s.filter(o[r]),{...e,data:s.sort(i[t])}})(r,F,G,X,S,j,$,K),[r,F,G,X,j,$,K]),et=n.useMemo(()=>({setSort:z,toggleFilter:Q,setMode:J,setQuery:Z}),[Z,z,Q,J]),er=n.useMemo(()=>({activeQuery:H,activeSort:F,activeMode:G,activeFilters:X,threads:r,filteredThreads:ee,filteredSidebarItems:ee,threadManager:et}),[H,F,G,X,r,ee,et]),en=n.useMemo(()=>{if(r&&"loaded"===r.status)return r.data.find(e=>e.id===R)},[R,r]);return n.useEffect(()=>{en&&en.comments[0].resolved_at&&U.resolved&&Q("resolved")},[U,en,Q]),n.createElement(k.Provider,{value:er},e.children)}},871376:(e,t,r)=>{"use strict";r.d(t,{Cu:()=>E,DL:()=>g,WM:()=>f});var n=r(307824),i=r(120304),a=r(721500),o=r(678516),l=r(679804),s=r(251596),c=r(372708),d=r(619092),u=r(690090),p=r(919264),m=r(454816),_=r(37048),h=r(763456);function g(e){let t=(0,i.w1)(e=>e.comments.typeahead);return e.mentionsDisabled&&(null==t?void 0:t.type)==="mentions"||e.hashtagsDisabled&&(null==t?void 0:t.type)==="hashtags"?null:n.createElement(E,{onInsert:e.onInsert,onClear:e.onClear,isCommunityMentions:!1,decoratorsRef:e.decoratorsRef,width:e.width,direction:e.direction,targetRect:e.targetRect,useFixedPosition:!0,useWindowAsViewport:!0})}function f(e){let t=(0,i.w1)(e=>e.comments.typeaheadPositionOffset),r=n.useMemo(()=>{let r=e.position||{x:0,y:0};return{top:t.top+r.y,right:t.right+r.x,bottom:t.bottom+r.y,left:t.left+r.x,width:t.width,height:t.height}},[t,e.position]);return n.createElement(E,{onInsert:e.onInsert,onClear:e.onClear,isCommunityMentions:e.isCommunityMentions,decoratorsRef:e.decoratorsRef,width:(0,a.qe)(h._2l),direction:d.MR.DOWNWARDS,targetRect:r})}function E(e){let t;let r=(0,i.w1)(e=>e.comments.emojiPicker),a=(0,i.w1)(e=>e.comments.typeahead),[h,g]=(0,n.useState)(null);n.useEffect(()=>{(null==a?void 0:a.type)==="suggestions"&&g(_.O2)},[null==a?void 0:a.type]);let f=(0,i.OY)(),E=n.useCallback(()=>{f(o.sm({visible:!1}))},[f]),y=n.useCallback(e=>{f(o.An(e))},[f]),b=(0,l.OM)({subscribeToUpdates_expensive:!0}),v=n.useMemo(()=>e.useWindowAsViewport?{isPanning:!1,isZooming:!1,height:window.innerHeight}:b,[e.useWindowAsViewport,b]),I=((null==v?void 0:v.isPanning)||(null==v?void 0:v.isZooming))&&(null==r?void 0:r.visible);n.useEffect(()=>{I&&E()},[I,E]);let w=(0,s.C2)(),T=!!(r&&r.visible||a),{onClear:S}=e,C=n.useCallback(()=>{r&&r.visible&&E(),a&&S()},[r,a,E,S]),{decoratorsRef:A}=e;return n.useEffect(()=>{A&&(A.current={visible:T,clearDecorators:C})},[C,A,T]),t={...t=e.useFixedPosition||e.direction!==d.MR.UPWARDS?h&&e.targetRect.height>0&&e.targetRect.bottom>v.height-h&&e.targetRect.top>v.height-e.targetRect.bottom?e.useFixedPosition?{useFixedPosition:!0,targetRect:e.targetRect,direction:d.MR.UPWARDS}:{positionFromBottom:{left:e.targetRect.left,bottom:v.height-e.targetRect.top},direction:d.MR.UPWARDS}:{useFixedPosition:e.useFixedPosition,targetRect:e.targetRect,direction:d.MR.DOWNWARDS}:{positionFromBottom:e.positionFromBottom,direction:d.MR.UPWARDS},useWindowAsViewport:e.useWindowAsViewport},n.createElement("div",{style:{pointerEvents:"auto"}},r&&r.visible&&n.createElement(m.q,{onInsert:r.onPick,onCancel:r.onCancel??E,targetRect:r.targetRect}),a&&"emojis"===a.type&&n.createElement(c.m,{dispatchTypeahead:y,typeahead:a,onInsert:e.onInsert,onClear:e.onClear,width:e.width,setMaxTypeaheadHeight:g,isComments:!0,...t}),w&&a&&"mentions"===a.type&&(a.search||a.mentions.length>0)&&n.createElement(p.g,{dispatch:f,setTypeahead:y,typeahead:a,onInsert:e.onInsert,onClear:e.onClear,entity:w,isCommunityMentions:e.isCommunityMentions,width:e.width,recordingKey:"mentionsTypeaheadView",dataTestId:"comment-mentions-typeahead",setMaxTypeaheadHeight:g,isComments:!0,...t}),a&&"suggestions"===a.type&&n.createElement(_.ox,{setTypeahead:y,typeahead:a,onInsert:e.onInsert,onClear:e.onClear,width:e.width,...t}),a&&"hashtags"===a.type&&n.createElement(u.e,{setTypeahead:y,typeahead:a,onInsert:e.onInsert,onClear:e.onClear,width:e.width,setMaxTypeaheadHeight:g,...t}))}},623136:(e,t,r)=>{"use strict";r.d(t,{GE:()=>y,K2:()=>E});var n=r(307824),i=r(125504),a=r.n(i),o=r(398500),l=r(936756),s=r(560072),c=r(815596),d=r(142548),u=r(241645),p=r(701308),m=r(984932);function _(e){return void 0!==e.numUsers}let h={};function g(e,t){let r=e.map(e=>e.handle).slice(0,t),n=e.length-t;return n>0&&r.push((0,l.u)(n,"other")),(0,l.Oy)(r)}c.A.forEach(e=>{h[`:${e.id}:`]=e});let f=n.forwardRef(function(e,t){let r=_(e.reaction)?e.reaction.numUsers:e.reaction.users.length,i=Object.keys(e.reaction.skinTonesToUsers).length,l=i>0?Object.keys(e.reaction.skinTonesToUsers):[""],s=l.map(t=>(0,o.UT)(`${e.reaction.emoji}${t}`)[0]),c={};if(!_(e.reaction)){let t=[],r=[];if(i>0)l.forEach(n=>{let a=`${e.reaction.emoji}${n}`;t.push((0,o.UT)(a)[0].unicode);let l=g(e.reaction.skinTonesToUsers[n],Math.floor(40/i));r.push([a,l])});else{t.push((0,o.UT)(e.reaction.emoji)[0].unicode);let n=g(e.reaction.users,40);r.push([e.reaction.emoji,n])}c={emojiUnicodeList:t,emojiShortcodeToUsers:r}}return n.createElement("button",{className:a()({[p.O0]:e.reaction.selected,[p.Ob]:!e.reaction.selected,[p.u0]:!e.visible}),"data-tooltip-type":d.wL.SPECIAL,"data-tooltip":d.oz.EMOJI_REACTION,"data-tooltip-data":JSON.stringify(c),"data-tooltip-max-width":200,onClick:e.onClick,"data-testid":`reaction-button-${e.reaction.emoji}`,ref:t},s.map(e=>n.createElement("span",{key:`${e.meta}`,className:p.qs},e.unicode)),n.createElement("span",{className:p.UB},r))});function E(e){let t=e.styleClassName?e.styleClassName:p.YZ;return n.createElement(u.KM,{svg:m.c,"data-tooltip-type":d.wL.TEXT,"data-tooltip":(0,s.t)("comments.add_reaction"),onClick:e.onClick,selected:e.selected,className:t,selectedClassName:e.selectedStyleClassName,dataTestId:"add-reaction-button"})}function y(e){let{reactions:t,collapseOverflow:r,onClickExisting:i,children:o,prependToList:l}=e,c=n.useRef(null),d=n.useRef({}),[u,m]=n.useState(null),[_,h]=n.useState(!r);n.useLayoutEffect(()=>{if(!c.current)return;let{width:e}=c.current.getBoundingClientRect(),r=-parseInt(p.It)+parseInt(p.CO),n=0;for(let i of t){let a=d.current[i.emoji];if(!a)return;if((r+=parseInt(p.It)+a.getBoundingClientRect().width)>e||n===t.length-1&&r+40+parseInt(p.It)>e)break;n+=1}m(n)},[t]);let g=null===u?null:t.length-u,E=t.map((t,r)=>{let a=i?e=>i(t,e):void 0;return n.createElement(f,{key:t.emoji,reaction:t,onClick:a,ref:e=>d.current[t.emoji]=e,visible:_||e.addedReaction||null===u||r<u})}),y=!(_||e.addedReaction)&&null!==g&&g>0;return n.createElement(n.Fragment,null,n.createElement("div",{className:a()({[p.i_]:!0,[p.Mj]:y,[p.G6]:!(_||e.addedReaction)&&null===g}),ref:c},...l??[],E,!y&&o),y&&n.createElement("div",{className:p.qC},n.createElement("button",{className:p.Ob,onClick:()=>{h(!0)},"data-testid":"show-more-reactions-button"},n.createElement(s.Tx,{id:"comments.num_hidden_more",numHidden:g}))))}},423536:(e,t,r)=>{"use strict";r.d(t,{Y:()=>c,u:()=>d});var n=r(307824),i=r(125504),a=r.n(i),o=r(101492),l=r(560072),s=r(93896);let c=(0,o.Ip)("lazy_thread_comment_composer",{isCodesplit:!0,ComponentFactory:async()=>({default:(await Promise.all([r.e(7493),r.e(8332),r.e(7900),r.e(9508),r.e(2240),r.e(6352),r.e(1708),r.e(8980),r.e(1884),r.e(6005),r.e(2809),r.e(1064),r.e(8688),r.e(520)]).then(r.bind(r,366240))).ThreadCommentComposer})});function d(e){let{type:t}=e;return n.createElement("div",{className:a()({[s.a2]:"new"===t,[s.A$]:"thread"===t})},n.createElement("span",null,n.createElement(l.Tx,{id:"comments.failed_to_load"})))}},738200:(e,t,r)=>{"use strict";r.d(t,{G:()=>d});var n=r(307824),i=r(843148),a=r(936756),o=r(560072),l=r(948544),s=r(423536),c=r(93896);function d(e){let t=n.useCallback(()=>{var t;if(null==(t=e.replyContainerRef)?void 0:t.current){let t=(0,i.Ub)().comments_smooth_scroll?"smooth":"auto";e.replyContainerRef.current.scrollIntoView({block:"end",behavior:t})}},[e.replyContainerRef]),r=n.createElement(s.Y,{fallback:null,errorFallback:n.createElement(s.u,{type:"thread"}),editorRef:e.editorRef,editorType:e.editorType,dispatch:e.dispatch,user:e.user,typeahead:e.typeahead,mentionables:e.mentionables,threadPosition:e.threadPosition,setHyperlinkLocation:e.setHyperlinkLocation,hyperlinkLocation:e.hyperlinkLocation,setHyperlinkEditorRef:e.setHyperlinkEditorRef,messageMeta:e.messageMeta,attachments:e.attachments,submitText:e.submitText,placeholderText:e.placeholderText,onCancel:e.onCancel,onSubmit:e.onSubmit,onComposeFocus:e.onComposeFocus,onEditStart:e.onEditStart,editorOnInsert:e.editorOnInsert,editorOnClear:e.editorOnClear,viewportPositionFromClientPosition:e.viewportPositionFromClientPosition,isDisabled:e.isDisabled,mountInputFocused:e.mountInputFocused,updateMessage:e.updateMessage,updateAttachment:e.updateAttachment,deleteAttachment:e.deleteAttachment,setIsEditorFocused:e.setIsEditorFocused,isEmojiPickerDisabled:e.isEmojiPickerDisabled,hideEmojiPicker:e.hideEmojiPicker,allowAttachments:e.allowAttachments,recordingKey:e.recordingKey,className:e.className,authorChanged:e.authorChanged,createdAt:e.createdAt,threadId:e.threadId,fileKey:e.fileKey,editingExistingComment:e.editingExistingComment,scrollToBottom:e.replyContainerRef&&t,maintainSelectionOnFocus:e.maintainSelectionOnFocus});return n.createElement("div",{className:c.We,ref:e.replyContainerRef,"aria-label":e.authorNames?(0,o.t)("fullscreen.accessibility.reply_to_comment_with_authors",{username:(0,a.Oy)(e.authorNames)}):(0,o.t)("fullscreen.accessibility.reply_to_comment")},n.createElement("div",{className:c.wP},n.createElement(l.iO,{user:e.user||{}})),r)}},389668:(e,t,r)=>{"use strict";r.d(t,{C:()=>s,a:()=>l});var n=r(161400),i=r(372152),a=r(90340),o=r(733724);function l(e,t){var r;let n=i.qM.get(o.iY),a=i.qM.get(o.iI);return c(e,n,(null==(r=i.qM.get(o.kB))?void 0:r.index)??null,t,a)}function s(e,t,r,i){var o;let l=n.x.getState(),s=c(t,e,r,n.x,i);(0,a.s5)("canvas_mention_search_cancelled",null==(o=l.openFile)?void 0:o.key,l,s)}function c(e,t,r,n,i){return{search_session_id:i,node_id:e,node_type:function(e,t){if(!e)return null;let r=t.getState().mirror.sceneGraph.get(e);return(null==r?void 0:r.type)||null}(e,n),query_length:null==t?void 0:t.length,contains_at_symbol:null==t?void 0:t.includes("@"),result_row_index:r}}},714644:(e,t,r)=>{"use strict";let n;r.d(t,{u:()=>ep,Y5:()=>eu,q$:()=>en});var i=r(307824),a=r(602216),o=r(120304),l=r(125504),s=r.n(l),c=r(628164),d=r(916924),u=r(721500),p=r(570464),m=r(853688),_=r(537096),h=r(240228),g=r(560072),f=r(264060),E=r(753432),y=r(511196),b=r(585508),v=r(762820),I=r(59508),w=r(427584),T=r(679804),S=r(43716),C=r(397888),A=r(46),O=r(142548),N=r(55808),L=r(759920),R=r(162844),P=r(971164),M=r(102864),k=r(103839);let D=(0,i.createContext)({finishedAnimating:!1,draggedStamp:null,shouldDragCancel:!1,setFinishedAnimating:e=>{},onDrag:e=>{},onDragStart:e=>{},onDragEnd:()=>{},wheelContainerRef:{current:null},wheelContentRef:{current:null}});function F(e){let[t,r]=(0,i.useState)(!1),[n,a]=(0,i.useState)(null),[o,l]=(0,i.useState)(!1),s=(0,i.useRef)(null),c=(0,i.useRef)(null),d=(0,i.useRef)(null),u=(0,i.useMemo)(()=>({finishedAnimating:t,draggedStamp:n,shouldDragCancel:o,wheelContainerRef:s,wheelContentRef:c,onDragStart:e=>{var t;d.current=(null==(t=c.current)?void 0:t.getBoundingClientRect())||null,a(e)},onDragEnd:()=>{d.current=null,a(null),l(!1)},onDrag:e=>{if(d.current){let t=d.current,r=k.Cg.distance(new k.Cg(e.x,e.y),new k.Cg(t.left+t.width/2,t.top+t.height/2))<=t.width/2;r!==o&&l(r)}},setFinishedAnimating:e=>{r(e)}}),[t,n,o]);return i.createElement(D.Provider,{value:u},e.children)}function x(e){let t=(0,i.useContext)(D);return e?t.draggedStamp===e:null!=t.draggedStamp}function U(){return(0,i.useContext)(D).wheelContainerRef}var B=r(53316),G=r(448580),V=r(128720);let H="emoji_wheel--active---0zBa",W="emoji_wheel--reactionsCenter--Z6kHH emoji_wheel--center--5zTgA",K="emoji_wheel--expand--bSTWk",Y="emoji_wheel--switchWheel1--pASAD",q="emoji_wheel--switchWheel2--1Iksu";var j=r(506240),$=r(763456),Z=r(531163),z=r(981440),Q=r(873344),X=r(4076),J=r(740520);let ee=(0,u.I)($.eWp),et=2*w.U;var er=((n=er||{}).REACTION="REACTION",n.STAMP="STAMP",n.VOTE_STAMP="VOTE_STAMP",n);function en(){return(0,o.w1)(e=>{let t=j.UBe.toUpperCase().substring(1),r=e.multiplayer.allUsers;if(!r||0===r.length)return t;let n=r[0];return n.color.startsWith("#")?n.color.toUpperCase().substring(1):t})}function ei(e){let{className:t,name:r,position:n,onMouseEnter:a,onMouseLeave:o}=e,l=p.S4(`emojiWheel.wedge.${r}`,"mousedown",e.onClick),c=(0,M.Q)(),d={transform:`scaleX(-1) rotate(${(n-1)*45+22.5}deg)`};return n%2==0&&(d.transform=`rotate(${(4-n)*45-22.5}deg)`),i.createElement("svg",{"aria-hidden":"true",style:d,className:s()(t,c&&"r-chat"===r&&"emoji_wheel--reactionsWedgeDisabled--0h2dE"),width:et,height:et,viewBox:`0 0 ${et} ${et}`,fill:"none",xmlns:"http://www.w3.org/2000/svg"},i.createElement("path",{onClick:l,onMouseEnter:a,onMouseLeave:o,d:`M0 ${w.U}H${w.U}L0 0V${w.U}Z`,fill:"white","data-tooltip-type":O.wL.TEXT,"data-tooltip-offset-x":30,"data-tooltip-offset-y":-50,"data-tooltip":!0===c&&"r-chat"===r?(0,g.t)("fullscreen_actions.disable-cursor-chat"):null}))}function ea({type:e,x:t,y:r,openedViaHover:n}){let a=(0,o.OY)(),l=(0,o.w1)(e=>e.mirror.appModel.isReadOnly);if(l)return i.createElement("div",{className:W},i.createElement("div",{className:"emoji_wheel--singleCenterReaction--xWX-5 emoji_wheel--singleCenter--X3W61"},i.createElement(_.A,{svg:Q.c})));if("VOTE_STAMP"===e)return i.createElement("div",{className:"emoji_wheel--voteStampsCenter--4F1L3 emoji_wheel--center--5zTgA"},i.createElement("div",{className:"emoji_wheel--singleCenterVoting--N2E5- emoji_wheel--singleCenter--X3W61"},i.createElement(_.A,{svg:X.c})));let c=()=>{a(f.Af({wheelType:{STAMP:"REACTION2",REACTION:"STAMP1"}[e],isReadonly:l,isJoinedToActiveVotingSession:!1,viewportX:t,viewportY:r,source:"emoji_wheel_toggle",openedViaHover:n}))},d={REACTION:W,STAMP:"emoji_wheel--stampsCenter---ZqKJ emoji_wheel--center--5zTgA"}[e];return i.createElement("div",{className:d},i.createElement(m.g9,{"aria-label":(0,g.t)("fullscreen.reaction_wheel"),"aria-pressed":"REACTION"===e,role:"button",recordingKey:"emoji-wheel-reaction-button",className:s()("emoji_wheel--reactionsButton--H7Rps","REACTION"===e&&H),onClick:"REACTION"!==e?c:void 0},i.createElement(_.A,{svg:Q.c})),i.createElement(m.g9,{"aria-label":(0,g.t)("fullscreen.stamp_wheel"),"aria-pressed":"STAMP"===e,role:"button",recordingKey:"emoji-wheel-stamp-button",className:s()("emoji_wheel--stampsButton--XDDR8","STAMP"===e&&H),onClick:"STAMP"!==e?c:void 0},i.createElement(_.A,{svg:X.c})))}let eo=i.createContext({top:0,left:0});function el({x:e,y:t,type:r,emojis:n,openedViaHover:a}){let l=U(),c=(0,i.useContext)(D).wheelContentRef,u=(0,o.OY)(),[p,m]=i.useState(null),{onAnimationStart:b,onAnimationEnd:T}=function(){let e=(0,i.useContext)(D);return{onAnimationStart:()=>e.setFinishedAnimating(!1),onAnimationEnd:()=>e.setFinishedAnimating(!0)}}(),[S,O]=(0,i.useState)(!1),N=i.useCallback(()=>{u(f.MX())},[u]),M=x();(0,P.k)(N,{closeOnEsc:!0,ignore:[l.current,(0,R.Kc)(),(0,y.S2)(L.S0)]});let k=en(),F=(0,C.au)();i.useEffect(()=>{a||F===v.w3X.SELECT||F===v.w3X.HAND_SELECT||N()},[F,N,a]),i.useEffect(()=>{M&&F!==v.w3X.SELECT&&F!==v.w3X.HAND_SELECT&&v.i46.triggerAction("set-tool-default",null)},[M,F]),i.useLayoutEffect(()=>{m(e=>{switch(e){case null:return K;case K:return Y;case Y:return q;case q:return Y;default:return e}})},[r]);let G={REACTION:"emoji_wheel--reactions--RKlR4 emoji_wheel--wheel--sg2lN",STAMP:"emoji_wheel--stamps--ty-ji emoji_wheel--wheel--sg2lN",VOTE_STAMP:"emoji_wheel--voteStamps--yhYZR emoji_wheel--wheel--sg2lN"}[r],V={REACTION:"emoji_wheel--reactionsDial--A3mRG emoji_wheel--dial--05ZOf",STAMP:"emoji_wheel--stampsDial--CLKFt emoji_wheel--dial--05ZOf",VOTE_STAMP:"emoji_wheel--voteStampsDial--v9czq emoji_wheel--dial--05ZOf"}[r],H=w.U+3,W=Math.min(window.innerHeight-2*H,Math.max(ee,t+ee-H)),j=Math.min(window.innerWidth-2*H,Math.max(0,e-H)),$={top:W,left:j,position:"absolute",zIndex:Z._c6},Q=i.useRef(null),[X,er]=i.useState(null),ei=i.useCallback((e,t,r)=>{let n=(0,B.iw)(e,k),i={x:t,y:r-ee},a=e.type;switch(a){case"STAMP":A.yu.trackFromFullscreen("Start stamping",{name:e.name}),(0,B.MB)(n,e.label||""),N();break;case"VOTE_STAMP":A.yu.trackFromFullscreen("Start vote stamping",{name:e.name}),(0,B.MB)(n,e.label||""),N();break;case"REACTION":A.yu.trackFromFullscreen("Start reacting",{name:e.name}),u(f.Ku({imageUrl:n,name:e.name,position:i})),v.i46.triggerAction("set-tool-default",null);break;case"ACTION":N(),e.action(i,u);break;default:(0,d.gy)(a)}},[k,N,u]),el=a&&!M;i.useEffect(()=>{if(el&&!S){let e=setTimeout(N,300);return()=>clearTimeout(e)}},[S,el,N]),i.useEffect(()=>{let e=e=>{if(Q.current){let{x:t,y:r}=e;ei(Q.current,t,r)}};return I.ae.addTriggerActiveWheelButtonListener(e),()=>{I.ae.removeTriggerActiveWheelButtonListener(e)}},[ei]),i.useEffect(()=>{var e;null==(e=l.current)||e.focus()},[l,r]);let ec=null!=X?{transform:`rotate(${-(45*X)-22.5}deg)`}:null,ed=null!=p?{animation:`${p} 0.2s ease-in-out`}:{};return i.createElement(eo.Provider,{value:{top:W,left:j}},i.createElement("div",{tabIndex:-1,"aria-label":function(e){switch(e){case"REACTION":return(0,g.t)("fullscreen.reaction_wheel");case"STAMP":return(0,g.t)("fullscreen.stamp_wheel");case"VOTE_STAMP":return(0,g.t)("fullscreen.vote_stamp_wheel")}}(r),ref:l,style:$,className:s()("emoji_wheel--wheelContainer--PDwZJ",a&&"emoji_wheel--wheelContainerWithExtendedHitBox--dtL8J",E.cp),onMouseEnter:()=>O(!0),onMouseLeave:()=>O(!1),"data-fullscreen-intercept":!0},i.createElement(h.a,null,i.createElement("div",{style:ed,ref:c,className:G,onAnimationStart:b,onAnimationEnd:T},i.createElement(_.A,{ariaHidden:!0,autosize:!0,height:`${et}px`,width:`${et}px`,useOriginalSrcFills_DEPRECATED:!0,svg:z.c}),n.map(e=>i.createElement(es,{key:e.name,emoji:e,multiplayerColor:k,active:Q.current===e,type:r,onMouseEnter:e=>{if(Q.current=e,null==X)er(e.position);else{let t=(e.position-X)%8;t<-4&&(t+=8),t>4&&(t-=8),er(X+t)}},onMouseLeave:()=>{Q.current=null,er(null)},onClick:(e,t)=>{ei(t,e.clientX,e.clientY)}})),ec&&i.createElement(_.A,{ariaHidden:!0,autosize:!0,height:`${et+54}px`,width:`${et+54}px`,className:V,svg:J.c,style:ec}))),i.createElement(ea,{type:r,x:e,y:t,openedViaHover:a})))}function es(e){let{active:t,emoji:r,multiplayerColor:n,onMouseEnter:a,onMouseLeave:o,onClick:l,type:c}=e,d=x(r.name),u=(0,i.useContext)(D).finishedAnimating,p=(0,M.Q)(),m=i.useRef(null),[_,h]=i.useState(null);if(i.useEffect(()=>{(0,B.ru)(r,n).then(h)},[r,n]),!_)return i.createElement(i.Fragment,{key:r.name});let g={REACTION:12,STAMP:20,VOTE_STAMP:20}[c],f={REACTION:!1,STAMP:!0,VOTE_STAMP:!0,ACTION:!1}[r.type],E=r.offset||.74,y=r.position*Math.PI/4,b=(Math.cos(y)*E+1)*w.U-20,v=(1-Math.sin(y)*E)*w.U-20;return i.createElement("span",{key:r.name},i.createElement(ei,{className:s()("emoji_wheel--wedge--sBm7k",t&&!d&&({REACTION:"emoji_wheel--reactionsWedgeActive--nDFhr",STAMP:"emoji_wheel--stampsWedgeActive--fiShF",VOTE_STAMP:"emoji_wheel--voteStampsWedgeActive--F5i4m"})[c]),name:r.name,position:r.position,onMouseEnter:()=>a(r),onMouseLeave:o,onClick:e=>l(e,r)}),i.createElement("div",{className:"emoji_wheel--emoji--EG-Xt",style:{top:v,left:b},ref:m},!d&&i.createElement("button",{"aria-label":null==r.i18nName?r.label:r.i18nName(),className:s()("emoji_wheel--emojiButtonContainer--kC-6-",p&&"r-chat"===r.name&&"emoji_wheel--emojiButtonContainerDisabled--zc8XC"),"data-fullscreen-intercept":!0,onClick:e=>l(e,r),onFocus:()=>a(r),onBlur:o},i.createElement("img",{style:{width:2*g,height:2*g},src:_,alt:`${r.name} emoji`}))),f&&u&&i.createElement(ec,{contentTarget:m.current,stamp:r,url:_,onClick:e=>l(e,r),onMouseEnter:()=>a(r),onMouseLeave:o}))}function ec(e){let{contentTarget:t,onMouseEnter:r,onMouseLeave:n,stamp:o,url:l}=e,s=U(),[d,u]=i.useState(0),m=i.useRef(null),[_,h]=i.useState(null),g=i.useContext(eo);i.useLayoutEffect(()=>{if(t){let e=t.getBoundingClientRect();h({top:e.top,left:e.left})}else h(null)},[t,g.top,g.left]);let{onDragStart:f,onDrag:E,onDragEnd:y}=function(){let e=(0,i.useContext)(D);return{onDragStart:e.onDragStart,onDrag:e.onDrag,onDragEnd:e.onDragEnd}}(),I=x(o.name),w=(0,i.useContext)(D).shouldDragCancel,S=(0,T.Md)({subscribeToUpdates_expensive:I}),C=p.S4(`emojiWheel.draggableStamp.${o.name}`,"mousedown",e.onClick);return _&&l&&s.current?(0,a.createPortal)(i.createElement(c.q.div,{key:d,"aria-hidden":"true",onClick:e=>{e.stopPropagation(),e.preventDefault(),C(e)},className:"emoji_wheel--emojiDraggable--6hh9L",style:{top:_.top,left:_.left},onMouseEnter:r,onMouseLeave:n,drag:!0,variants:{initial:{scale:1},whileDrag:{scale:1.5*S},whileDragCancel:{scale:.93}},animate:I?w?"whileDragCancel":"whileDrag":"initial",ref:m,dragElastic:1,dragConstraints:{top:0,bottom:0,right:0,left:0},onDragStart:()=>{f(o.name)},onDrag:(e,t)=>{E(t.point)},onDragEnd:()=>{if(!w){let e=m.current;if(e){let t=e.getBoundingClientRect(),r=b.CA.getViewportInfo(),n={x:t.left-r.x,y:t.top-r.y},i=(0,T.GO)(r,n);(0,B.CM)(l,o.label||"",Math.round(i.x),Math.round(i.y),null,v.IBo.USER)}}u(e=>e+1),y(),n()}},i.createElement("img",{draggable:!1,style:{width:40,height:40},src:l,alt:`${o.name} emoji`})),s.current):null}function ed(){let e=function(){let e=(0,o.w1)(e=>e.multiplayer.allUsers.find(t=>t.sessionID===e.multiplayer.sessionID)),t=(0,o.w1)(t=>{var r,n;if(e&&e.imageURL)return`${e.imageURL}?c=1`;let i=null==(n=null==(r=t.user)?void 0:r.profile)?void 0:n.images;return i&&i["500_500"]?`${i["500_500"]}?c=1`:null}),r=e?e.name:null,n=(0,N.qr)(null==e?void 0:e.userID,N.cn),a=(0,B.uE)(t,r,n),l=(0,B.qT)(t,r,n);return i.useMemo(()=>({stamp:a,voteStamp:l}),[a,l])}(),t=en(),r=i.useMemo(()=>(0,V.Ux)(e.stamp),[e.stamp]),n=i.useMemo(()=>(0,V.gT)(e.voteStamp),[e.voteStamp]);return i.useEffect(()=>{(0,B.Q3)(G.C,t)},[t]),i.useEffect(()=>{(0,B.Q3)(r,t)},[t,r]),i.useEffect(()=>{(0,B.Q3)(n,t)},[t,n]),{REACTION:G.C,STAMP:r,VOTE_STAMP:n}}function eu(){return ed(),i.createElement(i.Fragment,null)}function ep(e){let t=(0,S.wj)(),r=function({wheelType:e,isJoinedToActiveVotingSession:t}){return t?"VOTE_STAMP":({STAMP1:"STAMP",STAMP2:"STAMP",REACTION1:"REACTION",REACTION2:"REACTION"})[e]}({wheelType:e.multiplayerEmoji.wheelType,isJoinedToActiveVotingSession:t}),n=function({wheelType:e}){return ed()[e]}({wheelType:r});if("WHEEL"!==e.multiplayerEmoji.type)return i.createElement(i.Fragment,null);let{viewportX:a,viewportY:o,openedViaHover:l}=e.multiplayerEmoji;return i.createElement(F,null,i.createElement(el,{x:a,y:o,type:r,emojis:n,openedViaHover:l}))}},53316:(e,t,r)=>{"use strict";r.d(t,{CM:()=>b,MB:()=>y,Q3:()=>T,Yl:()=>v,cL:()=>I,iw:()=>w,qT:()=>E,ru:()=>S,uE:()=>f,ym:()=>g});var n=r(307824),i=r(768832),a=r(326660),o=r(58908),l=r(762820),s=r(555168),c=r(712296),d=r(436808),u=r(501116),p=r(506240);let m=Object.create(null);function _(e){return(0,d.sX)(e).catch(()=>null)}let h=new u.o;async function g({profileImageUrl:e,userName:t,userColor:r,noCircleOutline:n}){let i=500*window.devicePixelRatio,a=81.25*window.devicePixelRatio,[o,l]=await Promise.all([_({url:"https://static.figma.com/uploads/cbbdc3ccc2f650369332a454328722aa11cbd78a",height:i,width:i}),e?_({url:e,height:i,width:i}):null]),s=(0,d.y4)(i,i),c=s.getContext("2d");if(!o)return"";if(n||c.drawImage(o,0,0,i,i),c.arc(i/2,i/2,i/2-a,0,2*Math.PI,!0),c.clip(),l){let e=i-2*a;c.drawImage(l,a,a,e,e)}else{if(!r||!t)return"";c.fillStyle=r,c.fillRect(0,0,i,i),c.textBaseline="middle",c.textAlign="center";let e=187.5*window.devicePixelRatio;c.font=`${e}px Inter`,c.fillStyle===p.mnv?c.fillStyle=p.OQd:c.fillStyle="white",c.fillText(t.substring(0,1).toUpperCase(),i/2,i/2+10*window.devicePixelRatio)}c.scale(window.devicePixelRatio,window.devicePixelRatio);let u=s.toDataURL("image/png");return h.set(u,e,t,r,n),u}function f(e,t,r,i){let[a,o]=(0,n.useState)(h.get(e,t,r,i)||"");return(0,n.useEffect)(()=>{if(!e&&!(t&&r)){o("");return}let n=!1,l=h.get(e,t,r,i);return l!==a&&(l?o(l):g({profileImageUrl:e,userName:t,userColor:r,noCircleOutline:i}).then(e=>{n||o(e)})),()=>{n=!0}},[e,t,r,i,a]),a}function E(e,t,r){let[i,a]=(0,n.useState)(null);return(0,n.useEffect)(()=>{if(!e&&!(t&&r)){a(null);return}let n=!1;return(async()=>{let[n,i,a]=await Promise.all([_({url:"https://static.figma.com/uploads/cd58a828de2645b5c35b76d4b8ea61b0e93e2b34",height:160,width:160}),_({url:"https://static.figma.com/uploads/e8f7fcffc0ef390a0bdac65da832cf0a35588ae0",height:80,width:76}),e?_({url:e,height:500,width:500}):null]),o=(0,d.y4)(160,160),l=o.getContext("2d");if(!n||!i)return null;if(l.drawImage(n,0,0,160,160),l.save(),l.arc(72,80,48,0,2*Math.PI,!0),l.clip(),a)l.drawImage(a,24,32,96,96);else{if(!r||!t)return null;l.fillStyle=r,l.fillRect(0,0,160,160),l.textBaseline="middle",l.textAlign="center",l.font="53px Inter",l.fillStyle="white",l.fillText(t.substring(0,1).toUpperCase(),72,83)}return l.restore(),l.drawImage(i,80,56,76,80),o.toDataURL("image/png")})().then(e=>{n||a(e)}),()=>{n=!0}},[e,t,r]),i}async function y(e,t){let r=await (0,c.q)(e,m);(0,a.Ij)("activateStampToolWithImageURL","setting stamp tool",{label:t,bytesLength:null==r?void 0:r.length}),l.i46.activateStampTool(r,t)}async function b(e,t,r,n,i,a){let o=await (0,c.q)(e,m);(0,s.Pc)(a,"drop-stamp",()=>l.i46.emojiWheelDropStampOntoCanvas(o,t,r,n,i,"wheel"))}async function v(e,t,r,n,i,a){let o=await (0,c.q)(e,m);(0,s.Pc)(a,"drop-face",()=>l.i46.dropFaceOntoCanvas(o,"Face Stamp",t,r,n,i))}async function I(e,t,r,n){let i=await (0,c.q)(e,m);(0,s.Pc)(n,"replace-face",()=>l.i46.updateFaceForNode(i,t,r))}function w(e,t){if(e.image)return`https://static.figma.com/uploads/${e.image}`;if(e.imageFunc)return e.imageFunc(t);throw Error(`Invalid emoji ${e} has no image nor imageFunc`)}function T(e,t){for(let r of e){let e=w(r,t);e&&(0,c.q)(e,m).catch(e=>{(0,a.oP)(o._.FIGJAM_CORE,e)})}}async function S(e,t){let r=w(e,t);if(!r)return null;try{let e=await (0,c.q)(r,m);return`data:image/png;base64,${(0,i.OW)(e)}`}catch{return(0,a.sz)("emoji wheel","unable to load emoji data",{url:r,name:e.name}),null}}},448580:(e,t,r)=>{"use strict";r.d(t,{C:()=>a});var n=r(264060),i=r(102864);let a=[{type:"REACTION",name:"r-fire",image:"d1e0d7ed5e1aa13e8854dbd88b9fd650377a02f2",position:2},{type:"REACTION",name:"r-surprised",image:"1429964104bceac90c5c8e731ce4cc50b27e2797",position:1},{type:"REACTION",name:"r-eyes",image:"ffd0635e8f9322352eff0c15411ac0b536b98d87",position:8},{type:"REACTION",name:"r-wave",image:"0606e9d967b5abb6d9a2853c2fff589f2ec2fc05",position:7},{type:"ACTION",name:"r-chat",image:"d1de3f6fe1f8ffa74d3db5203b2df761d0fed1cc",position:6,action:(e,t)=>{(0,i.Y)().then(r=>{r||t(n.It({position:e,source:"emoji_wheel_reactions"}))})}},{type:"REACTION",name:"r-sad",image:"78f60a21d2616c2a24c7645d8636dec855e48ffb",position:5},{type:"REACTION",name:"r-laugh",image:"a83de90bf34495081ce2e8bcaf28d1d2c16e5186",position:4},{type:"REACTION",name:"r-love",image:"ff5be810b821d264cc2c95f665d24a867c34e587",position:3}]},128720:(e,t,r)=>{"use strict";r.d(t,{Ax:()=>i,Cl:()=>u,Ux:()=>o,WW:()=>l,gT:()=>d,ug:()=>p});var n=r(560072);let i="s-heart";function a(e){return[{type:"STAMP",name:"s-thumbsUp",image:e.thumbsUp,position:2,label:"Thumbs up",i18nName:()=>(0,n.t)("fullscreen.stamp_wheel.thumbs_up")},{type:"STAMP",name:"s-plusOne",offset:.72,image:e.plusOne,position:1,label:"+1",i18nName:()=>(0,n.t)("fullscreen.stamp_wheel.plus_one")},{type:"STAMP",name:"s-star",image:e.star,position:8,label:"Star",i18nName:()=>(0,n.t)("fullscreen.stamp_wheel.star")},{type:"STAMP",name:"s-question",image:e.question,position:7,label:"Question",i18nName:()=>(0,n.t)("fullscreen.stamp_wheel.question")},{type:"STAMP",name:"s-thumbsDown",image:e.thumbsDown,position:6,label:"Thumbs down",i18nName:()=>(0,n.t)("fullscreen.stamp_wheel.thumbs_down")},{type:"STAMP",name:"s-dot",imageFunc:e.dots,position:5,label:"Dot",i18nName:()=>(0,n.t)("fullscreen.stamp_wheel.dot")},{type:"STAMP",name:"s-profile",offset:.73,imageFunc:e.profile,position:4,label:"Profile",i18nName:()=>(0,n.t)("fullscreen.stamp_wheel.profile")},{type:"STAMP",name:"s-heart",image:e.heart,position:3,label:"Heart",i18nName:()=>(0,n.t)("fullscreen.stamp_wheel.heart")}]}function o(e){return a({heart:"af824a5efc8f5738e597b114e77ec693dc694783",thumbsDown:"aa22611268cdcc5c6a89b0fbfdb1acbf6d98378d",star:"3b83c9551d5d60e27ad4ca2f67cd10358a154401",thumbsUp:"933574dba7004721d4f0fe0ba0f4d5069e106383",question:"d81074b0b59deec7f21f7c9d68653119fb0dbac2",profile:()=>e,dots:e=>`https://static.figma.com/figjam_dots/${e}.png`,plusOne:"f54909c2377f2c9da84382594e98db7b2a5c5f8f"})}function l(e){let t=o(null).find(t=>t.label===e);return t&&t.i18nName?t.i18nName:()=>(0,n.t)("fullscreen.accessibility_dom.labelled_stamp",{label:(null==t?void 0:t.label)??""})}let s={F24E1E:"f5c62908951d5597fd78d43b466a590616ba2693","0FA958":"a80c699432955f63c3613761744dfb61758780ae",FFC700:"a9d0704b01ae94a42c00e495f58e169966099333","5551FF":"87a816dc22c9fe975e6cb531cc7f2b47ff66f26e",D27C2C:"a7115640741f347d4fec9f4f82bf88465e6081f4",848484:"1775b53401dbbb5bfb48ae9b00b650952e5c8d67",EBEBEB:"c3312ab90b95e13d91b5a826628708663e502ddc",667799:"27be94d8a31dc67f2fdf0bc0ed1cd2c7d6c48cba","007BE5":"4f73e22fc8d7e9d55bfb24dcc7b7d6201ca51fb3","9747FF":"d337617455a562b3a0859d87fac6d82f86d8d729",FF24BD:"19e369b3f6531ed8571b6fed7db7e2fe7b4d4517",F24822:"4c9a2a1f92768b87946ec3a4d9000f0fe99d760c",FFCD29:"13a81b40823bfed9e05f4b0eedab902453bf47b3","14AE5C":"fd086d9788aa1e5a4dd7c10436a59d5d51c6c063"},c={"s-heart":"421d20c98db007d377890189b093545f16498acc","s-thumbsDown":"0bda50cfaecc87b58d0a78e8a8768b55a9f67c03","s-star":"cbc8d70c16c1fcf0d8690429564495cce3ab11c0","s-thumbsUp":"5e39a5f28101ed8ca9d9e38275066867c47294e9","s-question":"75a4d8d5c7e5fc18ad3f76ce2c1166b68f9ec046","s-plusOne":"0d4a582f5dd156228c1443c9fd19a331ff8f087b"};function d(e){return a({heart:c["s-heart"],thumbsDown:c["s-thumbsDown"],star:c["s-star"],thumbsUp:c["s-thumbsUp"],question:c["s-question"],profile:()=>e,dots:e=>{let t=s[e]||s["667799"];return`https://static.figma.com/uploads/${t}`},plusOne:c["s-plusOne"]})}let u="https://static.figma.com/uploads/2b2029d1eabf48358e208427103a2023435751dc",p=a({heart:"cdb352553f6650801d744ab73fd416222f120bd6",thumbsDown:"1b9c978d009d03d1abececfe15edf721a7c14374",star:"a9c2008e62c6d5a4421a22cd960b5ca54fdbe93f",thumbsUp:"d7c56a0ef07da63ed9f641ab04637704a4744c74",question:"4fe56356e345e558e669ff6e369f0265ee0b7fe7",profile:()=>"https://static.figma.com/uploads/cb417fb549d06a2fb42e182cddd2b94b1996b768",dots:()=>u,plusOne:"96363e23778476978d264bfcbd286bc0cbafe6cd"})},363636:(e,t,r)=>{"use strict";r.d(t,{S2:()=>v,ek:()=>w,oX:()=>E,sf:()=>I,wd:()=>y});var n=r(307824),i=r(125504),a=r.n(i),o=r(105516),l=r(148276),s=r(560072),c=r(597624),d=r(144459),u=r(441388),p=r(124664),m=r(357652),_=r(521692),h=r(664928),g=r(107496),f=r(166996);let E=300;function y({currentStepNum:e,totalNumSteps:t,useLoadingBar:r}){if(null==e||null==t)return null;let i=Math.min(e/t*64,64);return r?n.createElement("div",{className:g.gR},n.createElement("div",{className:a()({[g.u6]:!0,[g.gp]:i>=64}),style:{width:`${i}px`}})):n.createElement("span",{className:g.ET},n.createElement(s.Tx,{id:"rcs.rcs_shared.step_counter",currentStepNum:e,totalNumSteps:t}))}function b(e){var t,r,i,a;return n.createElement(n.Fragment,null,n.createElement("h2",{className:g.kF},e.title),n.createElement(l._C,{multiple:1}),n.createElement("div",{className:g.kr},e.children),n.createElement(l._C,{multiple:3}),n.createElement(c.g,{verticalAlignItems:"center",direction:"horizontal",spacing:8},e.lowerLeftText,n.createElement(c.O,null),e.onSecondaryCtaClick&&n.createElement(l.Sm,{onClick:e.onSecondaryCtaClick,trackingProperties:{ctaTrackingDescriptor:(null==(t=e.secondaryCtaProps)?void 0:t.ctaTrackingDescriptor)||d.O.BACK}},(null==(r=e.secondaryCtaProps)?void 0:r.ctaText)||n.createElement(s.Tx,{id:"tooltips_plus_onboarding.back"})),e.onPrimaryCtaClick&&n.createElement(l.Uv,{onClick:e.onPrimaryCtaClick,trackingProperties:{ctaTrackingDescriptor:(null==(i=e.primaryCtaProps)?void 0:i.ctaTrackingDescriptor)||d.O.NEXT}},(null==(a=e.primaryCtaProps)?void 0:a.ctaText)||n.createElement(s.Tx,{id:"tooltips_plus_onboarding.next"}))))}function v(e){let t=(0,p.KU)(["exp_cursor_bot_onboarding"]);return n.createElement(u.kH,{name:e.trackingContextName,properties:{isInCursorBotBasicsFile:t}},!e.disableHighlight&&n.createElement(_.k,{target:e.targetKey}),n.createElement(m.Y3,{className:a()({[g.kn]:!0,[g.eO]:"designPanel"===e.pointsTo,[g.YM]:"toolbar"===e.pointsTo,[g.Sq]:"leftPanel"===e.pointsTo}),targetKey:e.targetKey,shouldCenterArrow:e.shouldCenterArrow,disableClickOutsideToHide:!0,dismissModal:e.dismissModal,hideCloseButton:e.hideCloseButton,arrowPosition:e.arrowPosition,hidePointer:e.hidePointer,width:E,hideIfTargetLost:!0},n.createElement(b,{title:e.title,children:e.children,lowerLeftText:e.lowerLeftText,onSecondaryCtaClick:e.onSecondaryCtaClick,onPrimaryCtaClick:e.onPrimaryCtaClick,secondaryCtaProps:e.secondaryCtaProps,primaryCtaProps:e.primaryCtaProps})))}function I(e){return n.createElement(u.kH,{name:e.trackingContextName},n.createElement("div",{style:{width:E},className:a()(g.kn,g.iO)},n.createElement(b,{title:e.title,children:e.children,lowerLeftText:e.lowerLeftText,onSecondaryCtaClick:e.onSecondaryCtaClick,onPrimaryCtaClick:e.onPrimaryCtaClick,secondaryCtaProps:e.secondaryCtaProps,primaryCtaProps:e.primaryCtaProps}),n.createElement(o.CA,{className:h.yy,onClick:e.dismissModal,innerText:"close",svg:f.c})))}function w(e){return n.createElement("div",{className:g.Ir},e.children)}},302844:(e,t,r)=>{"use strict";r.d(t,{QP:()=>p,_:()=>u});var n=r(307824),i=r(120304),a=r(972920),o=r(623131),l=r(372152),s=r(594192),c=r(849208);let d={x:(0,o.Zf)(void 0),y:(0,o.Zf)(void 0),cornerRadius:(0,o.Zf)(void 0),angle:(0,o.Zf)(void 0),width:(0,o.Zf)(void 0),height:(0,o.Zf)(void 0),fontSize:(0,o.Zf)(void 0),fontStyle:(0,o.Zf)(void 0),fontFamily:(0,o.Zf)(void 0),fillPaints:(0,o.Zf)(void 0),strokePaints:(0,o.Zf)(void 0),effects:(0,o.Zf)(void 0)},u=(0,a.C)(e=>{let t=d[e];t&&l.qM.set(t,e=>!e)},200,!0);function p(e,t){let r=(0,i.o3)(),a=d[e],o=(0,l.m4)(a);n.useEffect(()=>{!(t&&t.current||(0,s.qm)(o))&&(r.getState().userFlags.figma_basics_has_modified_properties||r.getState().userFlags.has_modified_properties||r.dispatch(c.s({has_modified_properties:!0})))},[t,o,r])}},877804:(e,t,r)=>{"use strict";r.d(t,{g:()=>p,a:()=>u});var n=r(307824);let i="file_load--tabBar--D43oo",a="file_load--tabName--TrE24",o="file_load--shimmer--0w-rr",l="file_load--title--kxgMz";function s(){return n.createElement("div",{className:`${o} file_load--text--6ZMqP`})}function c(e){let t=12+.5*e.index;return n.createElement("div",{className:"file_load--style--r3WWP",style:{animationDelay:`${t}s`}},n.createElement("div",{className:`${o} file_load--circle--RmZhY`}),n.createElement(s,null))}function d(e){let t=Math.floor(e.index/5),r=e.index%5;return n.createElement("div",{className:"file_load--shimmerContainer--TJ3Mx",style:{animationDelay:`${3+2*t+.05*r}s`}},n.createElement(s,null))}function u(){let e=[];for(let t=0;t<15;t++)e.push(n.createElement(c,{key:t,index:t}));return n.createElement("div",null,n.createElement("div",{className:i},n.createElement("div",{className:`${a} ${o}`}),n.createElement("div",{className:`${a} ${o}`}),n.createElement("div",{className:`${a} ${o}`})),n.createElement("div",null,n.createElement("div",{className:"file_load--backgroundProperty--Uw1mR"},n.createElement("div",{className:`${o} ${l}`}),n.createElement("div",{className:`${o} file_load--full--YH06h`}))),n.createElement("div",{className:"file_load--styles--jq3r4"},n.createElement("div",{className:`${o} ${l}`}),e))}function p(){let e=[];for(let t=0;t<24;t++)e.push(n.createElement(d,{key:t,index:t}));return n.createElement("div",null,n.createElement("div",{className:i},n.createElement("div",{className:`file_load--searchTab--7r-4M ${o}`}),n.createElement("div",{className:`${a} ${o}`}),n.createElement("div",{className:`${a} ${o}`})),n.createElement("div",{className:"file_load--layers--llavb"},e))}},840748:(e,t,r)=>{"use strict";r.d(t,{Af:()=>D,KG:()=>H,Kg:()=>R,OF:()=>O,QH:()=>P,SA:()=>F,e2:()=>M,g9:()=>L,gN:()=>k,gV:()=>N,ik:()=>B,qg:()=>A,wJ:()=>x,wb:()=>G,yk:()=>V});var n=r(307824),i=r(120304),a=r(452955),o=r(721500),l=r(843148),s=r(372152),c=r(326660),d=r(50451),u=r(58908),p=r(234076),m=r(756824),_=r(703520),h=r(560072),g=r(24884),f=r(21156),E=r(762820),y=r(397888),b=r(392992),v=r(876760),I=r(869588),w=r(967860),T=r(23024),S=r(531163),C=r(900904);let A={alwaysPan:!0,maxScale:1},O=300,N=[25,50,75,100],L=.5,R=4;function P(e,t){let r=(0,i.w1)(e=>{var t;return null==(t=e.openFile)?void 0:t.key}),n=(0,i.w1)(e=>e.mirror.appModel.currentPage),a=t??n;return!!r&&!!a&&!!e&&(0,I.EN)(r,a,e)===s.qM.get(I.gr)}function M(e){let t=new Map;return e.forEach((e,r)=>{var n;let i=(n=e.nodeId)&&(0,l.Ub)().version_diffing?Math.max(E._Q1.getChangeCountForPage(n),0):0;i>0&&t.set(e.nodeId,i)}),t}function k(){let e=(0,b.K0)(),t=(0,I.Sy)({fileKey:e,pageSize:200}),[r]=(0,v.UL)(t,{enabled:!!e});return n.useEffect(()=>{"errors"===r.status&&(0,c.oP)(u._.FEEDBACK,Error(`Version fetch in CC error: ${r.errors}`))},[r.status]),{versions:r.data||[],requestStatus:r.status}}function D(e){let t=(0,y.ct)().get(e),r=null==t?void 0:t.getPluginData("dt_internal","statusHistory");return n.useMemo(()=>r?JSON.parse(r):null,[r])}function F(e){var t;let r=(0,a.Mp)(e),o=(null==r?void 0:r.createdAt)||null,l=o?new Date(o).toISOString():void 0,s=(null==r?void 0:r.lastEditedAt)||null,c=s?new Date(s&&s%6e4==0&&s<17061264e5?s+6e4:s).toISOString():void 0,d=k(),u=null==(t=(0,a.eG)())?void 0:t.toISOString(),p=(0,i.w1)(e=>"fullscreen"===e.selectedView.view&&e.selectedView.filterStatusVersions),m=D(e??""),_=n.useMemo(()=>p&&m?m.map(e=>e.versionId).filter(g.t):void 0,[m,p]),h=n.useMemo(()=>(function(e,t,r,n,i){let a=[],o=!1;function l(){if(a.length>0){let e=a[a.length-1];e.frameCreated=!0,e.frameEdited=void 0}}for(let s of e){let e={...s};if(e.canvas_url&&(!o&&n&&e.created_at&&e.created_at<n&&(o=!0,e.lastViewed=!0),(!t||!(e.edited_at>t))&&(!i||i.includes(e.id)))){if(r&&e.edited_at<r)return l(),a;a.push(e)}}return l(),a})(d.versions,c,l,u,_),[d.versions,c,l,u,_]),{requestStatus:f}=d;return{versions:h,versionsQueryLoaded:"loaded"===f||"disabled"===f}}function x({title:e,onClose:t,children:r}){let i=(0,o.qe)(S._6u);return n.createElement(T.Cc,{title:e,fixedCenter:!0,disableClickOutsideToHide:!0,onClose:t,headerClassName:C.kF,containerClassName:C.sj,maxWidth:i,innerContainerClassName:C.GV,focus:!0},r)}function U(e){return!!e&&e.hasOwnProperty("getImage")}function B(e){let{view:t,opacity:r,Overlay:i,hideNoImageText:a,header:o}=e,l=()=>void 0!==r?{opacity:r}:{},s=n.useMemo(()=>U(e.image)?e.image:e.image&&{data:e.image.image,width:e.image.width,height:e.image.height,scale:e.image.scale||R},[e]);return n.createElement("div",{className:t===p.Uv.SIDE_BY_SIDE?C.C4:C.CI},!!o&&n.createElement("div",{className:C.IH},o),!s&&n.createElement("div",{className:C.kd},!a&&n.createElement(h.Tx,{id:"collaboration.feedback.compare_changes_modal.no_image_found"})),U(e.image)?n.createElement(m.Qh,{className:C.c$,style:{...l()},image:s,Overlay:i}):s&&n.createElement(m.IL,{className:C.c$,style:{...l()},image:s,Overlay:i}))}function G(){return n.createElement("div",{className:C.uK},n.createElement(_.WA,null))}function V(e){return d.O.decodeMessage(e).nodeChanges||[]}function H(e,t){let r=null==e?void 0:e.toString();r&&t(f.ye({stringToCopy:r}))}w.wF.COMPARE_THUMBNAIL},295088:(e,t,r)=>{"use strict";r.d(t,{Y7:()=>E,U9:()=>g,Yd:()=>f});var n=r(307824),i=r(120304),a=r(250008),o=r(441748),l=r(843148),s=r(971376),c=r(703520),d=r(537096),u=r(560072),p=r(762820),m=r(869588),_=r(91404),h=r(684376);function g(e,t=!1){let r=(0,o.c)(new Date),n=(0,o.c)(e);return n.isSame(r,"day")?(0,u.t)("collaboration.feedback.time_hour_minutes",{time:n.toDate()}):n.isSame(r,"year")?(0,u.t)("collaboration.feedback.time_date_minutes_without_year",{time:n.toDate()}):t?(0,u.t)("collaboration.feedback.time_date_minutes",{time:n.toDate()}):(0,u.t)("collaboration.feedback.date",{time:n.toDate()})}function f(e,t){return e?n.createElement(_.UP,{size:t,entity:{img_url:e}}):n.createElement("div",{className:"diffing_compare_summary--noUserImage--XijV0"})}function E({compareId:e,versions:t,buttonOnClickOverride:r}){let o=(0,i.OY)(),[_,E]=n.useState(null);n.useEffect(()=>{let r=t.find(t=>t.id===e);r&&E(r)},[e,t]);let[y,b]=n.useState({});n.useEffect(()=>{if(!_)return;let e=t.filter(e=>e.created_at&&_.created_at&&e.created_at>=_.created_at);if(0===e.length)return;let r={};e.forEach(e=>{r={...r,...e.participating_images_dict},e.user.handle&&e.user.img_url&&(r[e.user.handle]=e.user.img_url)}),Object.keys(r).length>0&&b(r)},[_,t]);let v=n.useCallback(t=>{t.stopPropagation(),setTimeout(()=>{o((0,m.eu)()),(0,a.we)("Version History Compare Stop",{fromVersionId:e})},300)},[o,e]);if(!(0,l.Ub)().version_diffing)return null;let I=e=>Math.max(p._Q1.getChangeCountForStatus(e),0),w=I(p.eAh.EDITED),T=w+I(p.eAh.CREATED)+(I(p.eAh.LIBRARY_UPDATES)+I(p.eAh.AFFECTED))+I(p.eAh.REMOVED),S=[],C=Object.keys(y).length,A=C>8,O=A?6:C;return Object.entries(y).slice(0,O).forEach(([e,t])=>{S.push(n.createElement("span",{className:"diffing_compare_summary--editorAvatar--w3xnL",key:e},f(t,24)))}),A&&S.push(n.createElement("span",{className:"diffing_compare_summary--editorsOverflowText--JcgMo"},n.createElement(u.Tx,{id:"collaboration.feedback.compare_changes_overflow_editors",numAddlEditors:C-6}))),n.createElement("div",{className:"diffing_compare_summary--comparingDetailsContainerLeft--UrX34"},n.createElement("div",null,n.createElement("div",{className:"diffing_compare_summary--comparingDetailsHeaderText--CToWP"},n.createElement(u.Tx,{id:"collaboration.feedback.compare_changes_m2"})),!_&&n.createElement("div",{className:"diffing_compare_summary--comparingDetailsSpinnerContainer--DWjiP"},n.createElement(c.WA,null)),!!_&&n.createElement("div",null,_&&function(e){let t=e.label;return t||e.created_at?n.createElement("div",{className:"diffing_compare_summary--compareWithVersionName--B9k0o"},n.createElement("div",{className:"diffing_compare_summary--versionName--NyScQ"},t||g(e.created_at)),n.createElement(d.A,{svg:h.c,className:"diffing_compare_summary--arrowLeftRightIcon--XdePz"}),n.createElement("div",{className:"diffing_compare_summary--currentText--FoiBm"},n.createElement(u.Tx,{id:"collaboration.feedback.current_file"}))):null}(_),S.length>0&&T>0&&n.createElement("div",{className:"diffing_compare_summary--editorAvatarsContainer--vdLWd"},S),n.createElement("div",{className:"diffing_compare_summary--comparingDetailsText--WlaVi"},T>0&&n.createElement(u.Tx,{id:"collaboration.feedback.num_editors_of_changes",numEditors:C})))),n.createElement(s.gV,{className:"diffing_compare_summary--doneComparingButton--ZSZ0E",onClick:v},n.createElement(u.Tx,{id:"collaboration.feedback.done_version_history"})))}},461016:(e,t,r)=>{"use strict";r.d(t,{CE:()=>eP,En:()=>eL,Hj:()=>eM,ee:()=>eB,iO:()=>ek,q:()=>eH,sN:()=>eU,wJ:()=>eR});var n=r(307824),i=r(120304),a=r(125504),o=r.n(a),l=r(250008),s=r(916924),c=r(889364),d=r(721500),u=r(843148),p=r(87975),m=r(340040),_=r(888932),h=r(422080),g=r(570464),f=r(853688),E=r(326660),y=r(58908),b=r(204792),v=r(148276),I=r(383456),w=r(703520),T=r(537096),S=r(698240),C=r(967540),A=r(560072),O=r(317704),N=r(784740),L=r(412416),R=r(190036),P=r(375376),M=r(403132),k=r(907236),D=r(323576),F=r(163320),x=r(373388),U=r(753432),B=r(883528),G=r(144459),V=r(441388),H=r(699084),W=r(202613),K=r(846004),Y=r(585508),q=r(31160),j=r(312452),$=r(815464),Z=r(553432),z=r(140744),Q=r(81363),X=r(869588),J=r(841676),ee=r(685656),et=r(112044),er=r(142548),en=r(606700),ei=r(927976),ea=r(295088),eo=r(91100),el=r(402080),es=r(241645),ec=r(694752),ed=r(584116),eu=r(668988),ep=r(740718),em=r(763456),e_=r(234088),eh=r(817588),eg=r(123419),ef=r(776012),eE=r(643204),ey=r(599628),eb=r(1196),ev=r(940712),eI=r(73533),ew=r(876180),eT=r(802956),eS=r(546956),eC=r(204504),eA=r(306496);let eO=(0,d.qe)(em._gu),eN=(0,d.qe)(em.w3W);function eL(e){return e===j.a_v.HISTORY||e===j.a_v.COMPARE_CHANGES||e===j.a_v.DEV_HANDOFF_HISTORY}function eR(e){return e.label?e.label:e.participating_users_array&&e.participating_users_array[0]?e.participating_users_array[0]:e.user.handle?e.user.handle:((0,E.WI)("version","Verison history got user without a handle",{item:e}),(0,E.oP)(y._.SCENEGRAPH_AND_SYNC,Error("Verison history got user without a handle")),"(unknown user)")}function eP(e){switch(e.item.view){case"branch_child_create":return n.createElement(A.Tx,{id:"collaboration.feedback.new_branch_created"});case"branch_child_merge":return n.createElement(A.Tx,{id:"collaboration.feedback.branch_merged"});case"branch_child_update":return n.createElement(A.Tx,{id:"collaboration.feedback.branch_updated_from_main_file"});case"branch_create":return n.createElement(A.Tx,{id:"collaboration.feedback.branch_created"});case"branch_merge":return n.createElement(A.Tx,{id:"collaboration.feedback.branch_merged_into_main_and_archived"});case"branch_update":return n.createElement(A.Tx,{id:"collaboration.feedback.updated_from_main"});case"branch_archive":return n.createElement(A.Tx,{id:"collaboration.feedback.branch_archived"});case"branch_restore":return n.createElement(A.Tx,{id:"collaboration.feedback.branch_restored"})}return n.createElement(n.Fragment,null,eR(e.item))}function eM(e){let{time:t}=e,r=n.useMemo(()=>(0,ea.U9)(t,!0),[t]),{onChange:i}=e;return n.useEffect(()=>{i&&i(r)},[i,r]),n.createElement(n.Fragment,null,r)}class ek extends g.Yl{constructor(e){super(e),this.descriptionRef=n.createRef(),this.onClick=g.yw(this,"click",()=>{setTimeout(()=>{this.props.isAllowedToChangeVersion()&&!this.props.isActive&&this.props.onSelect(this.props.versionId)},300)}),this.disabledOnClickHandler=g.yw(this,"click",()=>{setTimeout(()=>{var e;if((0,l.we)("CTA Clicked",{name:"Disabled Version History",teamId:null==(e=this.props.team)?void 0:e.id}),this.props.isStarterTeam){if(!this.props.team){(0,E.oP)(y._.MONETIZATION,Error("Paywall: no team present"));return}this.props.dispatch(D.A5({type:ec.EP,data:{team:this.props.team,editorType:this.props.editorType,resource:J.We.VERSION_HISTORY,currentPlan:W.O.Plan.STARTER,upsellPlan:W.O.Plan.PRO}}))}},300)}),this.onMouseEnter=e=>{let t=this.descriptionRef.current;t&&t.scrollHeight>t.clientHeight&&this.setState({hovered:!0})},this.onMouseLeave=e=>{this.setState({hovered:!1})},this.onDoubleClick=g.yw(this,"dblclick",()=>{this.props.onCreateSavepoint?this.props.onCreateSavepoint():this.props.onEditSavepoint&&this.props.onEditSavepoint(this.props.versionId)}),this.onMenuClick=g.yw(this,"contextmenu",e=>{this.props.onSavepointMenuCallback&&this.props.versionId!==X._2&&this.props.onSavepointMenuCallback(this.props.versionId,this.props.checkpointKey||"",e)}),this.onBranchClick=g.yw(this,"click",e=>{e.stopPropagation(),this.props.dispatch(M.Ej({view:"fullscreen",fileKey:this.props.branchFileKey,editorType:"design"}))}),this.onCompareClick=g.yw(this,"click",e=>{e.stopPropagation(),setTimeout(()=>{this.props.onCompareChanges&&this.props.isAllowedToChangeVersion()&&this.props.isCurrentVersionActive&&!this.props.isComparing&&this.props.onCompareChanges(this.props.versionId)},300)}),this.onCompareCurrent=g.yw(this,"click",e=>{e.stopPropagation(),setTimeout(()=>{this.props.onCompareChangesFromCurrent&&this.props.isAllowedToChangeVersion()&&!this.props.isComparing&&this.props.onCompareChangesFromCurrent()},300)}),this.toggleSeeMore=e=>{e.preventDefault(),e.stopPropagation(),this.setState({longDescription:!this.state.longDescription})},this.ref=e=>{e&&(this.versionRowDiv=e)},this.generateEditorName=(e,t)=>n.createElement("div",{className:e_.UL,"data-tooltip-type":er.wL.TEXT,"data-tooltip":t,"data-tooltip-show-left":!0,"data-tooltip-max-width":1e3,key:`who_${e}`,dir:"auto"},t),this.generateBranchLink=e=>{if(!this.props.fileByKey||!this.props.branchFileKey)return null;{let t=this.props.fileByKey[this.props.branchFileKey];return t&&!t.deleted_at?n.createElement("span",{className:e_.Un,onClick:this.onBranchClick},e||(t.name??n.createElement(A.Tx,{id:"collaboration.feedback.branch"}))):n.createElement("span",{className:e_.Wv},(null==t?void 0:t.name)??n.createElement(A.Tx,{id:"collaboration.feedback.branch"}))}},this.setFormattedTime=e=>{this.setState({formattedTime:e})},this.state={longDescription:!1,hovered:!1}}componentDidMount(){super.componentDidMount(),this.versionRowDiv&&this.props.isActive&&!this.props.first&&this.versionRowDiv.scrollIntoView(!1)}render(){var e,t,r,i,a;let o,l;let s=this.descriptionRef.current,c=!!(s&&(this.state.longDescription||s.scrollHeight>s.clientHeight||this.state.hovered)&&!this.props.isActive),d=(0,ea.Yd)(this.props.userUrl,15),u=this.props.versionId===X._2,p=!this.props.label&&!u&&!this.props.isLinked&&!this.props.isBranchingVersion,m=(null==(e=this.props.version)?void 0:e.frameCreated)||(null==(t=this.props.version)?void 0:t.frameEdited)||(null==(r=this.props.version)?void 0:r.lastViewed),_=p&&!m,f=this.props.isPreview?e_.v$:e_.am;this.props.disabled&&!this.props.isStarterTeam&&(f=e_.y6+" "+f),u&&(f=e_._c+" "+f),this.props.isActive&&(f=e_.mQ+" "+f);let E=this.props.isActive&&!u?e_.IH:this.state.longDescription?e_.i_:c?e_.iG:e_.kr,y=this.state.longDescription?n.createElement(A.Tx,{id:"collaboration.feedback.show_less"}):n.createElement(A.Tx,{id:"collaboration.feedback.show_more"}),b=[],v=0;if(this.props.participatingImagesDict){let e=Object.keys(this.props.participatingImagesDict).length;for(let[t,r]of Object.entries(this.props.participatingImagesDict))if(o=(0,ea.Yd)(r,15),l=this.generateEditorName(v,t),b.push(n.createElement("span",{className:e_.Wm,key:t},(!this.props.first||"current_version"!=this.props.versionId)&&o,l)),++v>4&&v<e&&!this.props.isActive){b.push(n.createElement("div",{className:e_.Q7,key:"number-additional-editors"},n.createElement(A.Tx,{id:"collaboration.feedback.num_editors_number_editor_count_more",numEditors:e-Number(v)})));break}}else this.props.user&&this.props.userUrl?(o=(0,ea.Yd)(this.props.userUrl,15),l=this.generateEditorName(v,this.props.user),b.push(n.createElement("span",{className:e_.Wm,key:"branching-solo-editor"},(!this.props.first||"current_version"!=this.props.versionId)&&o,l))):_&&"file_multiplayer"===this.props.view&&"Figma System"===this.props.user&&b.push(n.createElement("div",{className:e_.ES,key:"figma-system"},this.props.user));let S=e_.UB;this.props.hideLine?S="":this.props.first&&this.props.last?S=e_.Uh:this.props.first?S=e_.ob:this.props.last&&(S=e_.Wi);let C=d,O=null,N="text"in this.props?this.props.text.toLowerCase():void 0;if(_||(C="components published"===N||"published to community hub"===N?n.createElement(T.A,{className:e_.cf,svg:eS.c,useOriginalSrcFills_DEPRECATED:!0}):n.createElement(eo.c,null)),_&&this.props.last&&(C=n.createElement(eo.c,null)),this.props.isBranchingVersion)switch(this.props.view){case"branch_child_create":C=n.createElement(T.A,{className:e_.SY,svg:eE.c}),O=n.createElement(A.Tx,{id:"collaboration.feedback.branch_child_create",link:this.generateBranchLink()}),this.props.isPreview&&this.props.first&&!this.props.hideLine&&(S=e_.C8),this.props.last&&(S=e_.IL);break;case"branch_child_merge":C=n.createElement(T.A,{className:e_.Wy,svg:ef.c}),O=n.createElement(A.Tx,{id:"collaboration.feedback.merged",link:this.generateBranchLink(this.props.label)});break;case"branch_child_update":C=n.createElement(eo.c,null),O=n.createElement(A.Tx,{id:"collaboration.feedback.branch_child_update",link:this.generateBranchLink()}),this.props.isPreview&&this.props.first&&!this.props.hideLine&&(S=e_.C8),this.props.last&&(S=e_.IL);break;case"branch_merge":C=n.createElement(T.A,{className:e_.GY,svg:eI.c,useOriginalSrcFills_DEPRECATED:!0}),O=n.createElement(A.Tx,{id:"collaboration.feedback.branch_merge",link:this.generateBranchLink((0,A.t)("collaboration.feedback.main_branch_name"))});break;case"branch_create":C=n.createElement(T.A,{className:e_.YH,svg:eg.c}),O=n.createElement(A.Tx,{id:"collaboration.feedback.branch_created"});break;case"branch_update":C=n.createElement(T.A,{className:e_.SY,svg:eE.c}),O=n.createElement(A.Tx,{id:"collaboration.feedback.branch_updated_from",link:this.generateBranchLink((0,A.t)("collaboration.feedback.main_branch_name"))});break;case"branch_archive":C=n.createElement(T.A,{className:e_.Ql,svg:eh.c}),O=n.createElement(A.Tx,{id:"collaboration.feedback.branch_archived"});break;default:C=n.createElement(eo.c,null)}let L=[];return(null==(i=this.props.version)?void 0:i.frameCreated)&&L.push(this.props.isSection?n.createElement(A.Tx,{id:"collaboration.feedback.compare_changes_modal.section_created"}):n.createElement(A.Tx,{id:"collaboration.feedback.compare_changes_modal.frame_created"})),(null==(a=this.props.version)?void 0:a.lastViewed)&&L.push(n.createElement(A.Tx,{id:"collaboration.feedback.compare_changes_modal.last_viewed_by_you"})),p&&!_&&this.props.time?L.push(n.createElement("div",{className:e_.If},n.createElement(eM,{time:this.props.time}))):"displayText"in this.props?L.push(this.props.displayText):L.push(this.props.text),n.createElement(n.Fragment,null,(!_||this.props.showAutosaves)&&n.createElement("div",{className:f,ref:this.ref,onClick:this.props.disabled?this.disabledOnClickHandler:this.onClick,onMouseEnter:this.props.disabled&&!this.props.isStarterTeam?void 0:this.onMouseEnter,onMouseLeave:this.props.disabled&&!this.props.isStarterTeam?void 0:this.onMouseLeave,onContextMenu:this.props.disabled?void 0:this.onMenuClick,onDoubleClick:this.props.disabled&&this.props.isStarterTeam?void 0:this.onDoubleClick},n.createElement("div",{className:S}),n.createElement("div",{className:_?e_.Sy:e_.x},n.createElement("div",{className:e_.uA},n.createElement("div",{className:e_.e6,style:{right:this.getLabelRightPosition(this.props.showCompareChanges)}},C,_&&this.props.time?this.renderTime(this.props.time,e_.cN,this.props.showCompareChanges):n.createElement(n.Fragment,null,this.props.isBranchingVersion&&this.props.fileByKey&&this.props.branchFileKey?n.createElement("div",{className:e_.SM,dir:"auto"},O):n.createElement("div",{className:e_.Sq,dir:"auto"},L[0]))),this.props.showCompareChanges&&this.props.isCurrentVersionActive&&!u&&!this.props.isComparingLoading&&!this.props.isComparing&&n.createElement("div",{dir:"auto"},n.createElement("button",{className:e_._A,onClick:this.onCompareClick},n.createElement("div",{className:e_.gH},n.createElement(A.Tx,{id:"collaboration.feedback.compare"})))),this.props.showCompareChanges&&this.props.isCurrentVersionActive&&!u&&this.props.isComparingLoading&&!this.props.isComparing&&n.createElement("div",{className:e_.uG},n.createElement(w.M7,null)),this.props.showCompareChanges&&this.props.isCurrentVersionActive&&!this.props.isComparingLoading&&this.props.isComparing&&n.createElement("div",{dir:"auto"},n.createElement("div",{className:e_.iC},n.createElement(A.Tx,{id:"collaboration.feedback.comparing"})),n.createElement("button",{className:e_._A,onClick:this.props.onDoneComparingClick},n.createElement("div",{className:e_.gH},n.createElement(A.Tx,{id:"collaboration.feedback.done_version_history"})))),this.props.showCompareChanges&&!this.props.isCurrentVersionActive&&u&&!this.props.isComparingLoading&&!this.props.isComparing&&n.createElement("div",{dir:"auto"},n.createElement("button",{className:e_._A,onClick:this.onCompareCurrent},n.createElement("div",{className:e_.gH},n.createElement(A.Tx,{id:"collaboration.feedback.compare"})))),this.props.isActive&&this.props.onSavepointMenuCallback&&!u&&n.createElement(es.wP,{svg:ev.c,onClick:this.props.disabled?void 0:this.onMenuClick,className:e_.AD,"data-tooltip-type":er.wL.TEXT,"data-tooltip":(0,A.t)("collaboration.feedback.more_options"),recordingKey:g.Mx(this.props,"versonContext")})),L.length>1&&n.createElement("div",{className:e_.cR},L.slice(1).map((e,t)=>n.createElement("div",{className:e_.Sq,dir:"auto",key:t},e))),n.createElement("div",{className:E,style:{paddingRight:this.getLabelRightPosition(this.props.showCompareChanges)},ref:this.descriptionRef,dir:"auto"},(0,h.PV)(this.props.description)),c&&n.createElement("div",{className:e_.q0,onClick:this.props.disabled?void 0:this.toggleSeeMore},n.createElement("div",{className:e_.OA},y)),n.createElement("div",null,b.length>0&&n.createElement("div",{className:e_.qC},b),!p&&this.props.time&&n.createElement("span",{className:e_.O6,"data-tooltip-type":er.wL.TEXT,"data-tooltip":(0,ea.U9)(this.props.time)}," ",n.createElement(I.O,{onChange:this.setFormattedTime,date:this.props.time}))))))}renderTime(e,t,r){let i=n.createElement(eM,{time:e,onChange:this.setFormattedTime});return n.createElement("div",{className:t},i)}getLabelRightPosition(e){return e?"65px":"35px"}}function eD({shouldShowUpgradeLink:e,startUpgrade:t,hasRestrictedVersions:r}){return n.createElement(V.kH,{name:"Version History Paywall Panel"},n.createElement("div",{className:e_.ew},n.createElement(N.a,{fontWeight:"semi-bold",i18nId:r?"upsell.history.need_to_travel_back_in_time":"upsell.history.everything_else_is_history"}),n.createElement("div",null,e?n.createElement(N.a,{i18nId:"upsell.history.upsell_upgrade_description",i18nParams:{upgradeLink:n.createElement(v.g7,{className:e_.EB,onClick:t,trackingProperties:{trackingDescriptor:G.O.UPGRADE,upsellSource:Q.e.HISTORY_UPSELL,canUserAccessProFeature:!1},trusted:!0},n.createElement(N.a,{i18nId:"upsell.history.upsell_upgrade"}))}}):n.createElement(N.a,{i18nId:"upsell.history.upsell_learn_more_description",i18nParams:{upgradeLink:n.createElement(v.g7,{className:e_.EB,href:"/pricing",trusted:!0,trackingProperties:{canUserAccessProFeature:!1}},n.createElement(A.Tx,{id:"upsell.history.learn_more"}))}}))))}function eF(){return n.createElement(n.Fragment,null,n.createElement("span",{className:e_.bt},_.cp.mac?n.createElement(A.Tx,{id:"collaboration.feedback.shortcut_mac"}):n.createElement(A.Tx,{id:"collaboration.feedback.shortcut"})))}ek.displayName="VersionRow";class ex extends g.Yl{constructor(e){super(e),this.label="",this.description="",this.hasLabeled=!1,this.autoExpandUnlabeledOnly=!0,this.autoExpandGroupId="",this.expandLast=!1,this.toggleAutoItemById=e=>{let t=new Set(this.state.expandedIds);t.has(e)||this.autoExpandUnlabeledOnly&&!this.hasLabeled||this.autoExpandGroupId===e?(t.delete(e),this.hasLabeled||(this.autoExpandUnlabeledOnly=!1),this.setState({autoExpandForCurrentSelection:!1})):(t.add(e),this.hasLabeled||(this.autoExpandUnlabeledOnly=!0)),this.autoExpandGroupId="",this.setState({expandedIds:t})},this.drawRows=(e,t,r,n)=>{let i=[],a=0,o=-1,l=-1,s=0,c=e.length-1-e.slice().reverse().findIndex(e=>(0,en.I)(e)||e.label),d=e.length-1-e.slice().reverse().findIndex(e=>{var t,r,n,i;return(null==(t=this.props.user)?void 0:t.handle)&&((null==(n=e.participating_users_array)?void 0:n.includes(null==(r=this.props.user)?void 0:r.handle))||e.user.handle===(null==(i=this.props.user)?void 0:i.handle))});for(;a<e.length;){let t=e[a];if(t.label||(0,en.I)(t)){let u=r&&(0===a&&t.disabled||0===i.length);s>0&&(this.renderAutoVersionBatch(i,e,o,l,r&&(t.disabled&&0===o||0===i.length),!1,this.state.showAutosaves,n),u=!1),i.push(this.renderRow(t,u,a===e.length-1||a===c&&!this.state.showAutosaves||a===d&&this.state.showOnlyUserVersionHistory,n)),s=0,o=-1,l=-1}else o<0&&(o=a),l=a,s++;a++}return s>0&&this.renderAutoVersionBatch(i,e,o,l,r&&(e[0].disabled&&0===o||0===i.length),t,this.state.showAutosaves,n),i},this.hasLabeledVersions=e=>{for(let t of e)if(t.label&&t.label.length>0)return!0;return!1},this.startLoadingVersion=e=>{this.props.dispatch(M.Ej({...this.props.selectedView,versionId:e.id})),this.props.dispatch(k.EN({mode:j.Mty.KEEP_UI,type:ee.GM.SPINNER})),this.setState({isLoadingVersion:!0,loadingVersionId:e.id}),(0,l.we)("History Version Savepoint Viewed",{savepointId:e.id,savedAt:e.touched_at})},this.finishedLoadingVersion=()=>{let e=this.state.loadingVersionId;if(e&&e.length>0){let t=this.getVersionByID(e);if(t){let e;if(null!=t.label&&t.label.length>0)e=(0,A.t)("collaboration.feedback.viewing_version",{label:t.label});else{let r=(0,ea.U9)(t.touched_at);e=(0,A.t)("collaboration.feedback.viewing_version",{label:r})}e.length>34&&(e=e.substring(0,34)+"\u2026"),this.props.dispatch(O.A.enqueue({type:"versions",message:e}))}}this.setState({isLoadingVersion:!1,loadingVersionId:""})},this.loadVersionById=e=>{if(e===this.props.versionHistory.activeId)return;if(e===X._2){this.props.dispatch((0,X.kl)({id:X._2}));return}let t=this.getVersionByID(e);t&&this.loadVersion(t)},this.loadVersion=e=>{e.id!==this.props.versionHistory.activeId&&(this.startLoadingVersion(e),requestAnimationFrame(()=>{this.props.dispatch((0,X.kl)({id:e.id,nodeId:this.props.selectedView.nodeId,eventType:"LOAD_NEW_VERSION"}))}))},this.isAllowedToChangeVersion=()=>null===this.props.modalShown&&!(0,z.ui)(),this.onKeyDown=g.Yh(this,"keydown",e=>{if(!this.props.dropdownShown){if(e.keyCode===p.as.ESCAPE)this.props.modalShown||0!==Object.keys(this.props.mirror.sceneGraphSelection).length||this.props.dispatch((0,X.eu)());else if(e.keyCode===p.as.UP_ARROW||e.keyCode===p.as.DOWN_ARROW){if(!this.isAllowedToChangeVersion())return;let t=this.props.versionHistory.versions.length;this.setState({autoExpandForCurrentSelection:!0}),this.autoExpandGroupId="";let r=-1;if(this.props.versionHistory.activeId===X._2)e.keyCode===p.as.DOWN_ARROW&&(r=0);else{let t=this.props.versionHistory.versions.findIndex(e=>e.id===this.props.versionHistory.activeId);-1!==t&&(r=e.keyCode===p.as.UP_ARROW?t-1:t+1)}if(r<0){this.props.dispatch((0,X.kl)({id:X._2}));return}r>=t&&(r=t-1);let n=this.props.versionHistory.versions[r];n.disabled||this.loadVersion(n)}}}),this.startComparingChanges=e=>{this.props.dispatch(k.EN({mode:j.Mty.KEEP_UI,type:ee.GM.SPINNER})),this.setState({isLoadingCompareChanges:!0,loadingCompareId:e.id})},this.finishedComparingChanges=()=>{let e=this.state.loadingCompareId;if(e&&e.length>0){let t=this.getVersionByID(e);if(!t)return;let r=null!=t.label&&t.label.length>0?t.label:(0,ea.U9)(t.touched_at),n=(0,A.t)("collaboration.feedback.comparing_changes_toast",{fromVersionLabel:r});n.length>56&&(n=n.substring(0,56)+"\u2026"),this.props.dispatch(O.A.enqueue({type:"versions",message:n}))}this.setState({isLoadingCompareChanges:!1,loadingCompareId:""}),this.props.dispatch(k.EN({mode:j.Mty.OFF}))},this.compareChangesById=e=>{if(e===X._2)return;if(e===this.props.versionHistory.compareId){this.props.dispatch((0,X.wH)({fromVersionId:e}));return}let t=this.getVersionByID(e);t&&this.compareChanges(t)},this.compareChangesFromCurrent=()=>{let e=this.props.versionHistory.activeId;if(!e)return;let t=this.getVersionByID(e);t&&(this.props.dispatch((0,X.kl)({id:X._2})),this.compareChanges(t))},this.compareChanges=e=>{e.id!==this.props.versionHistory.compareId&&(this.startComparingChanges(e),requestAnimationFrame(()=>{this.props.dispatch((0,X.wH)({fromVersionId:e.id}))}))},this.loadMore=()=>{this.expandLast=!0,this.props.dispatch((0,X.g3)({direction:m.sh}))},this.startUpgrade=()=>{let e=this.getOpenFile(),t=e.teamId&&this.props.teams[e.teamId];if(!t){(0,E.oP)(y._.MONETIZATION,Error("Paywall: no team present"));return}this.props.dispatch(D.A5({type:L.o,data:{upsellSource:Q.e.HISTORY_UPSELL,teamId:t.id,openCheckoutInNewTab:!0}}))},this.restoreVersion=e=>{this.canEditFile()&&(this.props.dispatch(P.Gw({fileKey:this.getOpenFile().key,versionId:e.id})),(0,l.we)("History Version Checkpoint Restored",{versionId:e.id,savedAt:e.touched_at}))},this.duplicateVersion=e=>{let t=this.getOpenFile(),r=(0,q.Mp)(t,(0,Z.getPermissionsState)(this.props));r?this.props.dispatch(D.A5({type:ec.EP,data:{team:r,resource:J.kJ.FILE,action:et.qW.DUPLICATE_FILES,editorType:t.editorType,currentPlan:W.O.Plan.STARTER,upsellPlan:W.O.Plan.PRO}})):(this.props.dispatch(P.IZ({file:this.getOpenFile(),versionId:e.id})),(0,l.we)("History Version Checkpoint Duplicated",{versionId:e.id,savedAt:e.touched_at}))},this.clearVersion=e=>{this.props.dispatch(F.O({fileKey:this.getOpenFile().key,savepointID:e,label:"",description:""}))},this.addSavepoint=()=>{this.canEditFile()&&this.props.dispatch(D.A5({type:ed.qK,data:{}}))},this.editSavepoint=e=>{if(this.canEditFile()&&e){let t=this.getVersionByID(e);(null==t?void 0:t.label)&&(this.label=t.label),(null==t?void 0:t.description)&&(this.description=t.description),this.props.dispatch(D.A5({type:ed.qK,data:{description:this.description,label:this.label,savepointID:e}}))}},this.dropdownCallback=(e,t)=>{let{version:r}=t;switch(e){case"savepoint-clear":this.clearVersion(r.id);break;case"savepoint-restore":this.restoreVersion(r);break;case"savepoint-duplicate":this.duplicateVersion(r);break;case"savepoint-edit":case"savepoint-label":this.editSavepoint(r.id);break;case"savepoint-compare":this.compareChangesFromCurrent();break;case"savepoint-link":try{this.props.dispatch(x.eI({...this.props.selectedView,versionId:r.id})),this.props.dispatch(O.A.enqueue({type:"link_copied_to_clipboard",message:(0,B.W)("link-copied")}))}catch(e){this.props.dispatch(C.M.error("Failed to copy link"))}}},this.getVersionByID=e=>{var t;let r=this.props.versionHistory,n=r.versions.find(t=>t.id===e);return(null==(t=r.linkedVersion)?void 0:t.id)===e?r.linkedVersion:n},this.onSavepointMenu=(e,t,r)=>{if(this.props.dropdownShown&&this.props.dropdownShown.type===U.eC){r.preventDefault();return}r.stopPropagation(),r.preventDefault();let n=this.getVersionByID(e),{clientX:i,clientY:a}=r;this.props.dispatch(M.Qn({type:U.eC,data:{clientX:i,clientY:a,version:n,callback:this.dropdownCallback,editName:n.label?"savepoint-edit":"savepoint-label",enableClear:n.label&&n.label.length>0}}))},this.onDoneComparingClick=g.yw(this,"click",e=>{e.stopPropagation(),setTimeout(()=>{this.isAllowedToChangeVersion()&&this.props.versionHistory.compareId&&this.props.dispatch((0,X.kl)({id:X._2}))},300)}),this.renderRow=(e,t,r,i)=>{var a;let o=this.getOpenFile();return n.createElement(ek,{key:`history-item-${e.id}`,description:e.description,label:e.label,disabled:e.disabled,text:eR(e),displayText:n.createElement(eP,{item:e}),view:e.view?e.view:null,participatingImagesDict:e.participating_images_dict,time:e.edited_at,isActive:this.props.versionHistory.activeId===e.id,isCurrentVersionActive:this.props.versionHistory.activeId===X._2,isComparingLoading:this.state.loadingCompareId===e.id,isComparing:this.props.versionHistory.compareId===e.id,user:e.user&&e.user.handle,userUrl:e.user&&((0,en.I)(e)||e.label)?e.user.img_url:null,clearVersion:this.clearVersion.bind(this,e.id),onSelect:this.loadVersionById,onCompareChanges:this.compareChangesById,onCompareChangesFromCurrent:this.compareChangesFromCurrent,isAllowedToChangeVersion:this.isAllowedToChangeVersion,versionId:e.id,checkpointKey:e.checkpoint_key,dispatch:this.props.dispatch,recordingKey:g.Mx(this.props,"version",e.id),onSavepointMenuCallback:this.onSavepointMenu,onEditSavepoint:this.editSavepoint,first:t,last:r,isBranchingVersion:(0,en.I)(e),fileByKey:this.props.fileByKey,branchFileKey:e.branch_file_key,showAutosaves:this.state.showAutosaves,showCompareChanges:this.showCompareChanges(),onDoneComparingClick:this.onDoneComparingClick,isStarterTeam:i,team:o.teamId?null==(a=this.props.teams)?void 0:a[o.teamId]:void 0,editorType:o.editorType})},this.onClose=()=>{if(this.props.onClose){this.props.onClose();return}this.props.dispatch((0,X.eu)())},this.state={isLoadingVersion:!1,loadingVersionId:"",isLoadingCompareChanges:!1,loadingCompareId:"",expandedIds:new Set,autoExpandForCurrentSelection:!1,showAutosaves:!0,showOnlyUserVersionHistory:!1}}renderAutoVersionBatch(e,t,r,i,a,o,l,s){let c;if(r<0||null===t||t.length<1)return;let d=t[r].id,u=this.state.expandedIds.has(d)||this.autoExpandUnlabeledOnly&&!this.hasLabeled;if(this.state.autoExpandForCurrentSelection)for(let e=r;e<=i;e++)t[e].id===this.props.versionHistory.activeId&&(u=!0,this.autoExpandGroupId=this.props.versionHistory.activeId);this.expandLast&&o&&(u||this.toggleAutoItemById(d),this.expandLast=!1);let p=i-r+1,m=!0;if(1===p&&(u=!0,m=!1),c=o&&(1===p||!u)?a?e_.Uh:e_.Wi:a?e_.ob:e_.UB,m&&l&&e.push(n.createElement(f.g9,{key:`auto_row_${r}`,recordingKey:g.Mx(this.props,`autoVersionBatch.${r}`),className:t[r].disabled?e_.wP:e_.z8,onClick:this.toggleAutoItemById.bind(this,d)},n.createElement("div",{className:c}),n.createElement("div",{className:e_.GG},n.createElement(eo.c,null),n.createElement("div",{className:e_.iw},n.createElement(A.Tx,{id:"collaboration.feedback.autosave_count",count:p}),n.createElement(T.A,{key:"expand-caret",className:u?e_.Q9:e_.R1,svg:u?ey.c:eb.c}))))),u)for(let n=r;n<=i;n++)e.push(this.renderRow(t[n],a&&r===i,o&&n===i,s))}componentDidMount(){super.componentDidMount(),this.props.versionHistory.activeId||this.props.dispatch((0,X.kl)({id:X._2})),document.addEventListener("keydown",this.onKeyDown),Y.CA.fromFullscreen.on("sceneGraphMirrorUpdate",this.finishedLoadingVersion),c.H.on("loadedCompareChanges",this.finishedComparingChanges)}componentWillUnmount(){super.componentWillUnmount(),document.removeEventListener("keydown",this.onKeyDown),Y.CA.fromFullscreen.removeListener("sceneGraphMirrorUpdate",this.finishedLoadingVersion),c.H.removeListener("loadedCompareChanges",this.finishedComparingChanges)}getOpenFile(){let e=this.props.openFile;return null==e&&(0,E.WI)("history","history view should only be possible to open when we have a file"),(0,s.kz)(null!=e,"history view should only be possible to open when we have a file"),e}canEditFile(){var e;return null==(e=this.props.openFile)?void 0:e.canEdit}showCompareChanges(){return(0,u.Ub)().version_diffing&&"whiteboard"!==this.props.selectedView.editorType&&"dev_handoff"!==this.props.selectedView.editorType}render(){var e;let t=this.getOpenFile().team,r=this.props.versionHistory.versions.filter(e=>{var t,r,n,i;return!this.state.showOnlyUserVersionHistory||(null==(t=this.props.user)?void 0:t.handle)&&((null==(n=e.participating_users_array)?void 0:n.includes(null==(r=this.props.user)?void 0:r.handle))||e.user.handle===(null==(i=this.props.user)?void 0:i.handle))}),i=r.filter(e=>!e.disabled),a=r.filter(e=>e.disabled).slice(0,$.Do);this.hasLabeled=this.hasLabeledVersions(i)||this.hasLabeledVersions(a);let l=null,s=(0,m.uE)(this.props.versionHistory),c=!(0,$.G8)(t)&&!this.props.currentUserOrgId&&(a.length>0||!s),d=!!t&&(0,Z.canEditTeam)(t.id,(0,Z.getPermissionsState)(this.props));c&&(l=n.createElement(eD,{startUpgrade:this.startUpgrade,shouldShowUpgradeLink:d,hasRestrictedVersions:!!a.length}));let u=n.createElement("div",{className:e_.ec},!this.props.versionHistory.loading&&(0,m.uE)(this.props.versionHistory)&&n.createElement("a",{className:e_.AF,onClick:this.loadMore},n.createElement(A.Tx,{id:"collaboration.feedback.show_older"}))),p=this.props.versionHistory.docHasChanged&&!this.props.versionHistory.loading,_=this.props.versionHistory.linkedVersion,h=_&&i.some(e=>_.id===e.id),f=!this.state.showOnlyUserVersionHistory||(null==_?void 0:_.user.id)===(null==(e=this.props.user)?void 0:e.id),E=(0,ei.ie)(this.props.selectedView),y=(0,eu.K)(this.props.selectedView),b=!this.canEditFile(),v=i.map(e=>(0,en.I)(e)||e.label?1:0).reduce((e,t)=>e+t,0);return n.createElement("div",null,this.props.progressBarState.mode!==j.Mty.ON_AND_LOCKED&&n.createElement(V.kH,{name:"Version History Panel",properties:{teamId:null==t?void 0:t.id}},n.createElement("div",{className:o()(e_.uQ,U.cp),style:E||y||this.props.isUI3?{width:E||this.props.isUI3?"100%":eO+eN,borderLeft:E?"unset":void 0}:{position:"fixed",top:"auto",bottom:"auto",width:eO+eN,height:"100%"}},n.createElement(eB,{onClose:this.onClose,addSavepoint:this.addSavepoint,filterOptions:{showAutosaves:this.state.showAutosaves,setShowAutosaves:e=>this.setState({showAutosaves:e}),showOnlyUserVersionHistory:this.state.showOnlyUserVersionHistory,setShowOnlyUserVersionHistory:e=>this.setState({showOnlyUserVersionHistory:e})},isViewOnly:b}),n.createElement("div",{"data-not-draggable":!0},n.createElement("div",{className:e_.gD},!this.hasLabeled&&!b&&!E&&n.createElement("div",{className:e_.mw},n.createElement("div",null,n.createElement(A.Tx,{id:"collaboration.feedback.press_shortcut_to_add_to_version_history_while_editing",shortcut:n.createElement(eF,null)}))),_&&!h&&f&&n.createElement(ek,{description:_.description,label:_.label,versionId:_.id,onSavepointMenuCallback:this.onSavepointMenu,displayText:n.createElement(A.Tx,{id:"collaboration.feedback.get_version_text_linked_version_linked_version",versionText:n.createElement(eP,{item:_})}),view:_.view?_.view:null,time:_.edited_at,isActive:this.props.versionHistory.activeId===_.id,isCurrentVersionActive:this.props.versionHistory.activeId===X._2,isComparingLoading:this.state.loadingCompareId===_.id,isComparing:this.props.versionHistory.compareId===_.id,userUrl:_.user.img_url,dispatch:this.props.dispatch,onSelect:this.loadVersionById,onCompareChanges:this.compareChangesById,onCompareChangesFromCurrent:this.compareChangesFromCurrent,isAllowedToChangeVersion:this.isAllowedToChangeVersion,isLinked:!0,first:!0,last:!0,isBranchingVersion:(0,en.I)(_),checkpointKey:_.checkpoint_key,showAutosaves:this.state.showAutosaves,showCompareChanges:this.showCompareChanges(),onDoneComparingClick:this.onDoneComparingClick}),this.props.versionHistory.loading&&n.createElement("div",{className:e_.g$},n.createElement(w.M7,null)),p&&n.createElement(ek,{displayText:n.createElement(A.Tx,{id:"collaboration.feedback.current_version"}),view:null,isActive:this.props.versionHistory.activeId===X._2,isCurrentVersionActive:this.props.versionHistory.activeId===X._2,isComparingLoading:this.state.loadingCompareId===X._2,isComparing:!!this.props.versionHistory.compareId,userUrl:this.props.user.img_url,versionId:X._2,dispatch:this.props.dispatch,addSavepoint:this.addSavepoint,onSelect:this.loadVersionById,onCompareChanges:this.compareChangesById,onCompareChangesFromCurrent:this.compareChangesFromCurrent,isAllowedToChangeVersion:this.isAllowedToChangeVersion,first:!0,last:!1,recordingKey:g.Mx(this.props,"currentVersion"),onCreateSavepoint:this.addSavepoint,onSavepointMenuCallback:this.onSavepointMenu,showAutosaves:this.state.showAutosaves,hideLine:0===i.length||!this.state.showAutosaves&&0===v,showCompareChanges:this.showCompareChanges(),onDoneComparingClick:this.onDoneComparingClick}),this.drawRows(i,0===a.length,!p),this.drawRows(a,!0,!1,d),l),0===a.length&&u))))}}ex.displayName="VersionHistoryView";let eU=(0,i.Ul)(H.i)(ex);function eB(e){let{onClose:t,addSavepoint:r,filterOptions:i,isViewOnly:a}=e,{toggleDropdown:o,dropdownTargetRef:l,isDropdownShown:s}=(0,el.s)("FILTER_VERSIONS_DROPDOWN");n.useEffect(()=>{},[s,l]);let c=()=>{null==i||i.setShowOnlyUserVersionHistory(!(null==i?void 0:i.showOnlyUserVersionHistory))},d=i?[n.createElement(b.g.CheckableOption,{key:"all",checked:!i.showOnlyUserVersionHistory,onClick:()=>i.showOnlyUserVersionHistory?c():null},n.createElement(A.Tx,{id:"collaboration.feedback.all_filter_text"})),n.createElement(b.g.CheckableOption,{key:"only_yours",disabled:a,checked:i.showOnlyUserVersionHistory,onClick:()=>i.showOnlyUserVersionHistory?null:c()},n.createElement(A.Tx,{id:"collaboration.feedback.only_yours_filter"})),n.createElement(b.g.Separator,{key:"sep"}),n.createElement(b.g.CheckableOption,{key:"autosaves",checked:i.showAutosaves,onClick:()=>{null==i||i.setShowAutosaves(!i.showAutosaves)}},n.createElement(A.Tx,{id:"collaboration.feedback.show_autosave_versions"}))]:[];return n.createElement("div",{className:e_.CA},n.createElement("div",{className:e_.Uj},n.createElement(A.Tx,{id:"collaboration.feedback.version_history"})),n.createElement("div",{className:S.cx.flex.itemsCenter.$},i&&n.createElement("div",{ref:l},n.createElement(es.KM,{svg:eC.c,selected:!!i.showOnlyUserVersionHistory,"data-tooltip-type":er.wL.TEXT,"data-tooltip":(0,A.t)("collaboration.feedback.filter_tooltip"),onClick:o,onMouseDown:e=>s&&e.stopPropagation()})),s&&l.current&&n.createElement(ep.uq,{showPoint:!0,targetRect:l.current.getBoundingClientRect(),options:d,hideDropdown:o,autofocusPrevElementOnSelect:!0,autofocusPrevElementOnEsc:!0,autofocusPrevElementOnTab:!1,propagateCloseClick:!0}),!a&&n.createElement(es.wP,{svg:ew.c,fallbackSvg:eT.c,onClick:r,"data-tooltip-type":er.wL.TEXT,"data-tooltip":(0,A.t)("collaboration.feedback.add_to_version_history_tooltip"),dataTestId:"versions-add-savepoint",recordingKey:g.Mx(e,"plusVersion")}),n.createElement(es.wP,{svg:eA.c,onClick:t,"data-tooltip-type":er.wL.TEXT,"data-tooltip":(0,A.t)("collaboration.feedback.close_tooltip"),recordingKey:"button-close"})))}function eG({versions:e,selectedVersion:t,setVersion:r,last:a,idx:o,isSection:l}){let s=(0,i.OY)(),c=(0,K.wp)();return n.createElement(n.Fragment,null,e.map((i,d)=>n.createElement(ek,{key:`history-item-${i.id}`,description:i.description,label:i.label,disabled:i.disabled,text:eR(i),displayText:n.createElement(eP,{item:i}),view:i.view?i.view:null,participatingImagesDict:i.participating_images_dict,time:i.edited_at,isActive:(null==t?void 0:t.id)===i.id,user:i.user&&i.user.handle,userUrl:i.user&&((0,en.I)(i)||i.label)?i.user.img_url:null,onSelect:()=>r(i),isAllowedToChangeVersion:()=>!0,versionId:i.id,checkpointKey:i.checkpoint_key,dispatch:s,first:0===o&&0===d,last:a&&d===e.length-1,isBranchingVersion:(0,en.I)(i),fileByKey:c,branchFileKey:i.branch_file_key,showAutosaves:!0,version:i,isSection:l})))}function eV({versions:e,selectedVersion:t,setVersion:r,last:i,idx:a}){var o;let l;let[s,c]=n.useState(t&&!!e.find(e=>e.id===t.id)),d=null==(o=(0,R.a_)())?void 0:o.isSection;return l=i&&(1===e.length||!s)?0===a?e_.Uh:e_.Wi:0===a?e_.ob:e_.UB,n.createElement("div",{key:`auto_row_${a}`},n.createElement(f.g9,{className:e_.z8,onClick:()=>c(!s)},n.createElement("div",{className:l}),n.createElement("div",{className:e_.GG},n.createElement(eo.c,null),n.createElement("div",{className:e_.iw},n.createElement(A.Tx,{id:"collaboration.feedback.autosave_count",count:e.length}),n.createElement(T.A,{key:"expand-caret",className:s?e_.Q9:e_.R1,svg:s?ey.c:eb.c})))),s&&n.createElement(eG,{versions:e,selectedVersion:t,setVersion:r,last:i,idx:a,isSection:d}))}function eH({versions:e,selectedVersion:t,setVersion:r}){var i;let a=[],o=[],l=0,s=null==(i=(0,R.a_)())?void 0:i.isSection;function c(e){o.length>0&&(a.push(n.createElement(eV,{key:l,versions:[...o],selectedVersion:t,setVersion:r,idx:l,last:e})),l++,o=[])}for(let i=0;i<e.length;i++){let d=e[i];d.label||d.frameCreated||d.frameEdited||d.lastViewed||(0,en.I)(d)?(c(!1),a.push(n.createElement(eG,{key:l,versions:[d],selectedVersion:t,setVersion:r,idx:l,last:i===e.length-1,isSection:s})),l++,o=[]):o.push(d)}return c(!0),n.createElement(n.Fragment,null,a)}},592428:(e,t,r)=>{"use strict";r.d(t,{Q:()=>E,e:()=>y});var n=r(307824),i=r(602216),a=r(250008),o=r(570464),l=r(537096),s=r(560072),c=r(317704),d=r(753432),u=r(131748),p=r(585508),m=r(762820),_=r(555168),h=r(713620),g=r(445267),f=r(541384);function E(e){let{onBlur:t,onClickTrash:r,onInputKeyDown:i,onInputChange:a,url:o,location:c}=e,u=n.useRef(null);return n.useEffect(()=>{u.current&&(u.current.focus(),u.current.select())},[u]),n.createElement("div",{className:g.uQ,style:{left:c.x,top:c.y}},n.createElement("div",{className:`${g.QD} ${d.cp}`},n.createElement("input",{className:g.Yh,value:o,onKeyDown:i,onChange:a,onBlur:t,placeholder:(0,s.t)("hyperlink.type_or_paste_url"),autoComplete:"off",autoCorrect:"off",autoCapitalize:"off",spellCheck:!1,ref:u}),""!==o&&n.createElement(l.A,{svg:f.c,className:g.wX,onMouseDown:e=>{r(e)}})))}class y extends o.UR{constructor(e){super(e),this.inputRef=e=>{this.input=e,null!==e&&(e.focus(),e.select())},this.onInputChange=o.cJ(this,"change",e=>{this.setState({url:e.target.value.trim()})}),this.onInputKeyDown=o.Yh(this,"keydown",e=>{if((0,h.eI)(e,h.fh.NO))return o.Cy;if("Escape"===e.key)e.preventDefault(),this.setState({shouldUpdateLinkOnDismiss:!1}),(0,a.we)("Hyperlink Editor Cancelled On Escape"),m.i46.hideHyperlinkEditor();else if("Enter"===e.key){let t=this.input.value.trim();if((0,i.flushSync)(()=>{this.setState({shouldUpdateLinkOnDismiss:!1})}),e.preventDefault(),_.Pc.user("set-hyperlink",()=>!m.i46.setHyperlink(t,this.props.hyperlink.nodeID,this.props.hyperlink.rangeStart,this.props.hyperlink.rangeEnd)))(0,a.we)("Hyperlink Editor Invalid Link"),this.visualBell((0,s.t)("hyperlink.invalid_link_plain"));else if(""!==this.props.hyperlink.url&&""===t)(0,a.we)("Hyperlink Editor Deleted Link"),this.visualBell((0,s.t)("hyperlink.link_deleted"));else{this.props.hyperlink.url!==this.state.url&&u.qM.reportEditAction("hyperlink_edit");let e={};if(!t.startsWith("mailto:"))try{let r=new URL(function(e){let t=RegExp("^\\w+:");return""===e||t.test(e)?e:"https://"+e}(t)).hostname,n=this.props.editorType;e={domain:r,editorType:n}}catch(e){}(0,a.we)("Hyperlink Editor Updated Link On Enter",e)}m.i46.hideHyperlinkEditor()}}),this.onClickTrash=o.yw(this,"click",()=>{this.setState({shouldUpdateLinkOnDismiss:!1}),_.Pc.user("clear-hyperlink",()=>m.i46.setHyperlink("",this.props.hyperlink.nodeID,this.props.hyperlink.rangeStart,this.props.hyperlink.rangeEnd)),this.visualBell((0,s.t)("hyperlink.link_deleted")),u.qM.reportEditAction("hyperlink_edit"),m.i46.hideHyperlinkEditor()}),this.state={url:function(e){return e.startsWith("mailto:")?-1!==e.indexOf("?")?e:e.substr(7):e}(e.hyperlink.url),shouldUpdateLinkOnDismiss:!0}}componentWillUnmount(){super.componentWillUnmount(),this.state.shouldUpdateLinkOnDismiss&&(_.Pc.user("set-hyperlink",()=>m.i46.setHyperlink(this.state.url,this.props.hyperlink.nodeID,this.props.hyperlink.rangeStart,this.props.hyperlink.rangeEnd)),(0,a.we)("Hyperlink Editor Updated Link On Dismiss"))}visualBell(e){this.props.dispatch(c.A.enqueue({message:e}))}render(){let{url:e,x:t,y:r}=this.props.hyperlink,i=p.CA.getViewportInfo(),a=Math.min(Math.max(t,100),i.width-100);return n.createElement("div",{className:g.uQ,style:{left:Math.round(a+i.x),top:Math.round(r+i.y)}},n.createElement("div",{className:`${g.QD} ${d.cp}`},n.createElement("input",{className:g.Yh,value:this.state.url,onChange:this.onInputChange,onKeyDown:this.onInputKeyDown,placeholder:(0,s.t)("hyperlink.type_or_paste_url"),autoComplete:"off",autoCorrect:"off",autoCapitalize:"off",spellCheck:!1,ref:this.inputRef}),""!==e&&n.createElement(l.A,{svg:f.c,className:g.wX,onClick:this.onClickTrash})))}}},433204:(e,t,r)=>{"use strict";r.d(t,{Qr:()=>D,JZ:()=>k});var n=r(307824),i=r(120304),a=r(250008),o=r(570464),l=r(853688),s=r(537096),c=r(560072),d=r(202732),u=r(753432),p=r(191352),m=r(272520),_=r(585508),h=r(762820),g=r(708168),f=r(904340),E=r(87564);let y="hyperlink_popup--path--UM5d- hyperlink_popup--linkPart--8Dtx8 hyperlink_popup--inlineText--U1QY9",b="hyperlink_popup--text--kzWyq hyperlink_popup--linkPart--8Dtx8 hyperlink_popup--inlineText--U1QY9",v="hyperlink_popup--clickable--VAzTE",I="hyperlink_popup--divider--NSUKF",w="hyperlink_popup--edit--Q80cZ";var T=r(625456),S=r(379576),C=r(818176),A=r(656984),O=r(208452),N=r(765408),L=r(55076),R=r(662716);function P(e){let t,r;let u=(0,i.OY)(),p=t=>{u((0,d.gd)({rawInput:e.urlString,event:t})),e.immediatelyDismissHyperlinkPopup&&e.immediatelyDismissHyperlinkPopup()},_=t=>{e.data.type===E.C.MAILTO||e.data.type===E.C.TEL?(0,f.cn)(u,e.data.url.pathname,"HyperlinkPopup"):console.error("We don't yet enable copy for other hyperlinks"),e.immediatelyDismissHyperlinkPopup&&e.immediatelyDismissHyperlinkPopup(),t.stopPropagation()},h=t=>{e.data.type===E.C.MAILTO||e.data.type===E.C.TEL?_(t):p(t)},{data:P}=e;switch(P.type){case E.C.GENERIC:case E.C.FIGMA_FILE:case E.C.FIGMA_PROTOTYPE:case E.C.FIGMA_VERSION:let M=P.url.host.replace(/http(s)?(:)?(\/\/)?|(\/\/)?(www\.)?/,""),k=P.url.pathname+P.url.search+P.url.hash,D=k.split(/\//),F="file"===D[1]||"proto"===D[1];switch(P.type){case E.C.GENERIC:r=O.c;break;case E.C.FIGMA_FILE:case E.C.FIGMA_VERSION:r=F?S.c:O.c;break;case E.C.FIGMA_PROTOTYPE:r=L.c}if((0,g.i)(P.url.host)&&F&&D[2]&&D[3]){let e=decodeURI(P.url.pathname.split(/\//)[3]).replace(/-/g," ");t=n.createElement("div",{className:b},e)}else t=n.createElement(n.Fragment,null,n.createElement("div",{className:"hyperlink_popup--domain--k0xkl hyperlink_popup--linkPart--8Dtx8 hyperlink_popup--inlineText--U1QY9"},M),k&&"/"!==k&&n.createElement("div",{className:y},k));break;case E.C.PAGE:r=C.c,t=n.createElement("div",{className:b},P.text);break;case E.C.FRAME:r=A.c,t=n.createElement(n.Fragment,null,n.createElement("div",{className:b},P.text),P.secondaryText&&n.createElement("div",{className:"hyperlink_popup--secondaryText--bLzWO hyperlink_popup--linkPart--8Dtx8 hyperlink_popup--inlineText--U1QY9"},n.createElement(s.A,{className:"hyperlink_popup--pageSeparator--SAx-p",svg:T.c}),P.secondaryText));break;case E.C.INVALID:r=O.c,t=n.createElement("div",{className:b},n.createElement(c.Tx,{id:"hyperlink.invalid_link",link:P.urlString}));break;case E.C.MISSING:case E.C.NOT_LOADED:r=O.c,t=n.createElement("div",{className:b},P.text);break;case E.C.MAILTO:t=n.createElement("div",{className:y},P.url.pathname),r=N.c;break;case E.C.TEL:r=R.c,t=n.createElement("div",{className:y},P.url.pathname)}let x=e.canEdit,U=e.canEdit&&(P.type===E.C.GENERIC||P.type===E.C.FIGMA_FILE||P.type===E.C.FIGMA_VERSION||P.type===E.C.FIGMA_PROTOTYPE),B=function(){switch(e.data.type){case E.C.GENERIC:case E.C.FIGMA_FILE:case E.C.FIGMA_PROTOTYPE:return(0,c.t)("hyperlink.prefix.open");case E.C.FIGMA_VERSION:return(0,c.t)("hyperlink.prefix.open_past_version");case E.C.PAGE:case E.C.FRAME:return(0,c.t)("hyperlink.prefix.go_to");case E.C.MAILTO:case E.C.TEL:return(0,c.t)("hyperlink.prefix.email");case E.C.INVALID:case E.C.MISSING:case E.C.NOT_LOADED:return null}}(),G=(()=>{switch(e.data.type){case E.C.MAILTO:return(0,c.t)("hyperlink.send_mail");case E.C.TEL:return(0,c.t)("hyperlink.call_telephone");default:return null}})();return n.createElement("div",{role:"none",className:"hyperlink_popup--popup--fByJA _overlayBase--_overlayBase--Rkj8l",onMouseEnter:()=>{e.onMouseEnter&&e.onMouseEnter()}},n.createElement(l.iH,{type:"button",className:v,onAuxClick:h,onMouseDown:h,recordingKey:e.recordingKey},n.createElement(s.A,{className:"hyperlink_popup--icon--7YW8G",svg:r}),B?n.createElement("span",{className:"hyperlink_popup--inlineText--U1QY9"},B," "):null,t),G&&"whiteboard"!==e.editorType&&n.createElement(n.Fragment,null,n.createElement("div",{className:I}),n.createElement(l.iH,{type:"button",className:`hyperlink_popup--open--EsmHi ${v}`,onAuxClick:p,onMouseDown:p,recordingKey:o.Mx(e,"secondaryButton")},G)),x&&n.createElement(n.Fragment,null,n.createElement("div",{className:I}),n.createElement(l.iH,{type:"button",recordingKey:o.Mx(e,"editHyperlinkPopup"),className:w,onMouseDown:t=>{e.immediatelyDismissHyperlinkPopup&&e.immediatelyDismissHyperlinkPopup(),e.showHyperlinkEditor(),(0,a.we)("Show Hyperlink Editor",{source:"HyperlinkPopup"}),t.stopPropagation()}},n.createElement(c.Tx,{id:"hyperlink.edit"}))),U&&"whiteboard"===e.editorType&&n.createElement(n.Fragment,null,n.createElement("div",{className:I}),n.createElement(l.g9,{dataTestId:"hyperlink.preview",role:"button",recordingKey:o.Mx(e,"unfurlHyperlinkPopup"),className:w,onMouseDown:t=>{(e.data.type===E.C.GENERIC||e.data.type===E.C.FIGMA_FILE||e.data.type===E.C.FIGMA_PROTOTYPE||e.data.type===E.C.FIGMA_VERSION)&&e.getLinkMetadata&&u(e.getLinkMetadata({clipboardText:e.data.url.toString(),url:e.data.url.toString(),isTextIframe:!1,entrypoint:m.qo.MODAL}))}},n.createElement(c.Tx,{id:"hyperlink.create_preview"}))))}let M=({size:e,mouse:t,position:r,forceToBottom:n})=>{let i,a,o;let l=_.CA.getViewportInfo();e.x<300?i=r.x:(i=t.x)<r.x-e.x/2?i=r.x-e.x/2:i>r.x+e.x/2&&(i=r.x+e.x/2),((a=r.y)<50||n)&&(a+e.y>l.height-50?a=t.y:(a+=e.y,o="hyperlink_popup--topAligned--1DH2u"));let s={top:Math.round(a+l.y),left:Math.round(i+l.x),transform:"translateX(-50%)"},c={left:"50%"};if(l.width>=800){if(i<=200){let e=Math.max(i,20),t=1-(e-20)/180,r=50+-50*t;s.left=Math.round(e+l.x),s.transform=`translateX(${-r}%)`,c.left=`calc(${r}% + 20px * ${t})`}else if(i>l.width-200){let e=Math.min(i,l.width-20),t=1-(l.width-20-e)/180,r=50+50*t;s.left=Math.round(e+l.x),s.transform=`translateX(${-r}%)`,c.left=`calc(${r}% - 20px * ${t})`}}return{divStyle:s,tooltipStyle:c,verticalAlignmentStyle:o}};function k(e){let{data:t,editorType:r,urlString:i,canEdit:a,onMouseEnter:o,immediatelyDismissHyperlinkPopup:l,getLinkMetadata:s,showHyperlinkEditor:c}=e;return n.createElement(P,{data:t,editorType:r,urlString:i,canEdit:a,recordingKey:"hyperlinkPopup",onMouseEnter:o,immediatelyDismissHyperlinkPopup:l,getLinkMetadata:s,showHyperlinkEditor:c})}function D(e){let{getLinkMetadata:t}=e,r=(0,i.w1)(e=>e.hyperlinkPopup),a=(0,i.w1)(e=>e.mirror.appModel.isReadOnly),o=(0,p.CM)(),l=n.useCallback(()=>{r&&h.i46.showHyperlinkEditor(r.position.x,r.position.y+r.size.y/2,r.guid)},[r]);if(!r)return null;let{divStyle:s,tooltipStyle:c,verticalAlignmentStyle:d}=M({size:r.size,mouse:r.mouse,position:r.position,forceToBottom:"whiteboard"===o});return n.createElement("div",{className:"hyperlink_popup--container--i1-kA",style:s},n.createElement("div",{className:`hyperlink_popup--popupContainer--MXRdI ${d} ${u.cp} ${u.cn}`},n.createElement(k,{data:r.data,editorType:o,urlString:r.urlString,canEdit:!a&&!r.locked,onMouseEnter:h.i46.stopDismissingHyperlinkPopup,immediatelyDismissHyperlinkPopup:h.i46.immediatelyDismissHyperlinkPopup,getLinkMetadata:t,showHyperlinkEditor:l}),n.createElement("div",{className:"hyperlink_popup--tooltip--gEvvW",style:c})))}},673776:(e,t,r)=>{"use strict";let n;r.d(t,{GH:()=>p,gd:()=>u,i6:()=>d,qy:()=>m});var i=r(307824),a=r(125504),o=r.n(a),l=r(570464),s=r(418084),c=r(419064);let d=(0,s.c)();function u(e){return void 0!==e.active}var p=((n=p||{}).ESSENTIAL="essential",n.TOOLS="tools",n.VIEW="view",n.ZOOM="zoom",n.TEXT="text",n.SHAPE="shape",n.SELECT="select",n.CURSOR="cursor",n.EDIT="edit",n.COPY="copy",n.TRANSFORM="transform",n.ARRANGE="arrange",n.COMPONENTS="components",n.ADVANCED="advanced",n.ACCESSIBILITY="accessibility",n);let m=i.forwardRef((e,t)=>{let{tabInfo:r,completedTabs:n,onNavClick:a}=e;return i.createElement(i.Fragment,null,r.map((o,l)=>i.createElement(_,{key:o.id,tabInfo:r,completedTabs:n,onNavClick:a,recordingKey:e.recordingKey,tab:o,index:l,ref:t})))}),_=i.forwardRef((e,t)=>{let{tab:r,index:n,onNavClick:a,completedTabs:s}=e,p=l.S4(l.Mx(e,r.id),"click",e=>{a(r.id)});return u(r)?i.createElement("div",{role:"tab",ref:e=>{t.current||(t.current=[]),t.current[n]=e},"aria-selected":r.active,"aria-controls":d,key:r.id,id:r.id,className:r.className,"data-completed":s[r.id],onClick:p,tabIndex:-1},r.displayName):i.createElement("div",{key:r.id,className:o()(r.className,c.eC)})})},493428:(e,t,r)=>{"use strict";let n;r.d(t,{AH:()=>L,jz:()=>M});var i=r(307824),a=r(120304),o=r(515724),l=r(125504),s=r.n(l),c=r(628164),d=r(721500),u=r(570464),p=r(698240),m=r(753432),_=r(322864),h=r(191352),g=r(589440),f=r(762820),E=r(979144),y=r(315500),b=r(397888),v=r(103840),I=r(762056),w=r(84656),T=r(112840),S=r(805404),C=r(877804),A=r(958895),O=r(763456),N=r(196556);let L="left-panel-container";var R=((n=R||{}).EDITOR="EDITOR_LEFT_PANEL",n);class P extends u.Yl{renderLoading(){let e=y.a.sidebarSplitPosition,t=(0,v.GO)(),r=(null==t?void 0:t.shouldOptimizeForIpadApp)&&y.a.hideUiForMobileEditing?0:(0,T.ER)(e);return i.createElement("div",{className:s()(m.cp,{[N._3]:this.props.isHidden,[N.wl]:!this.props.isHidden,[N.UV]:this.props.isFullHeight}),style:{width:r,display:this.props.showUi?void 0:"none"}},i.createElement("div",{className:N.GU},this.props.isLoading&&i.createElement(C.g,null)))}renderNonLoading(){if(!this.props.currentPageId)return null;let e=this.props.constrainedSidebarWidth;return i.createElement(A.C,{className:s()(m.cp,{[N.Qs]:!this.props.isHidden,[N._3]:!this.props.isFullHeight&&this.props.isHidden,[N.U1]:this.props.showBackgroundGradient,[N.qc]:this.props.rulersVisible,[N.UV]:this.props.isFullHeight,[N.OO]:this.props.isFullHeight,[N.yC]:this.props.rulersVisible&&this.props.isFullHeight}),size:e,defaultSize:T.mE,side:"right",disableResizing:this.props.disableResizing,onResize:T.Ef,style:{maxWidth:(0,T.aW)(),display:this.props.showUi?void 0:"none",bottom:this.props.isFigjamEditor?"auto":void 0},ref:this.props.forwardedRef,id:L,"data-cancel-insertable-resource-drag-and-drop":!0},i.createElement("div",{style:{width:e},className:N.GU},this.props.children))}render(){let e=this.props.constrainedSidebarWidth,t=this.props.isFullHeight?`${(0,d.qe)(O.Kv5)}px`:"var(--spacer-2)",r=this.props.isHidden?{initial:{translateX:`calc(-${e}px - ${t})`},animate:{translateX:`calc(-${e}px - ${t})`,opacity:1,transitionEnd:{opacity:0}}}:{initial:{translateX:0,opacity:1}};return i.createElement(c.q.div,{className:s()(N.sN,{[N.GA]:this.props.isFigjamEditor,[p.cx.hFitContent.$]:this.props.isFigjamEditor}),style:{width:`calc(${e}px + ${t})`,pointerEvents:this.props.showUi?void 0:"none"},transition:{duration:this.props.animateVisibility?this.props.durationMedium>0?this.props.durationMedium:.2:0,ease:"easeOut"},tabIndex:this.props.isHidden?-1:void 0,...r},this.props.isLoading?this.renderLoading():this.renderNonLoading())}}function M({children:e,width:t,disableResizing:r}){let n=(0,a.w1)(e=>{var t;return null==(t=e.mirror.appModel)?void 0:t.showUi}),l=(0,a.w1)(e=>{var t;return null==(t=e.mirror.appModel)?void 0:t.currentPage}),s=(0,b._o)(),c="whiteboard"===(0,h.KG)(),u=(0,T.U9)(),{isLeftPanelCollapsed:p}=(0,T.uA)(),m=(0,S.sZ)(),y=(0,w.s5)(f.KEP.singleSlideView().isInSingleSlideView),v="ui3"===(0,o.qG)().version,C=(0,I.S2)(I.YP.ui3Motion)&&v,A=(0,g.O)(),O=!(0,_.sj)()&&v&&!c,N=(0,w.s5)((0,E.EB)().renderRulers),L=i.useMemo(()=>(0,d.sS)(getComputedStyle(document.body).getPropertyValue("--duration-md"))/1e3,[]);return i.createElement(P,{isLoading:s,constrainedSidebarWidth:t??u,isHidden:m?!y:p,disableResizing:r,showBackgroundGradient:O,rulersVisible:N,isUI3:v,isFullHeight:A,isFigjamEditor:c,showUi:n,currentPageId:l,animateVisibility:C,durationMedium:L},e)}P.displayName="LeftPanel"},112840:(e,t,r)=>{"use strict";r.d(t,{ER:()=>h,Ef:()=>E,U9:()=>f,aW:()=>g,mE:()=>_,sT:()=>b,uA:()=>y});var n=r(307824),i=r(120304),a=r(733960),o=r(929452),l=r(907236),s=r(309812),c=r(762820),d=r(979144),u=r(315500),p=r(103840),m=r(84656);let _=240;function h(e){return Math.max(240,Math.min(500,e||0))}function g(){return 500}function f(){return h((0,d.wq)())}function E(e){(0,d.EB)().sidebarSplitPosition.set(h(e))}function y(){var e,t,r,a;let o=(0,s.Ci)(),l=!(0,m.U3)(null==(e=c.KEP)?void 0:e.editorPreferences().showSidebar,u.a.showSidebar),_=(0,m.U3)(null==(t=c.KEP)?void 0:t.uiState().leftPanelCollapsedUI3,!u.a.showSidebar),h=o?_:l,g=(0,i.w1)(e=>e.user),f=!!(null==(r=(0,p._T)())?void 0:r.shouldOptimizeForIpadApp),E=(0,m.s5)(null==(a=c.KEP)?void 0:a.uiState().hideUiForMobileEditing)&&f;(!g||E)&&(h=!0);let y=(0,n.useCallback)(()=>{c.KEP.uiState().leftPanelCollapsedUI3.set(!h)},[h]),b=(0,n.useCallback)(()=>{(0,d.EB)().showSidebar.set(h)},[h]);return{isLeftPanelCollapsed:h,toggleLeftPanelCollapsed:o?y:b}}function b(){let e=(0,i.w1)(e=>(0,o.Qj)(e.multiplayer));(function(e){let t=(0,s.Ci)(),{isLeftPanelCollapsed:r,toggleLeftPanelCollapsed:i}=y(),o=(0,a.i)(e),l=(0,n.useRef)();n.useEffect(()=>{t&&e!==o&&void 0!==o&&(e?r?l.current=!1:(i(),l.current=!0):l.current&&r&&i())},[e,o,r,i,t])})(e),function(e){let{isLeftPanelCollapsed:t}=y(),r=(0,i.OY)(),o=(0,a.i)(t&&e);n.useEffect(()=>{e&&o&&!t&&r(l.mv())},[e,o,t,r])}(e)}},97004:(e,t,r)=>{"use strict";r.d(t,{a:()=>m,g:()=>p});var n=r(307824),i=r(4580),a=r(204792),o=r(560072),l=r(762820),s=r(939540),c=r(939088);let d=a.g.Dropdown,u=a.g.Option,p="component-insert-leaf-context-menu",m=n.memo(function(){let{dropdownShown:e,defaultFileKeys:t,openFileKey:r}=(0,i.q)(e=>{var t;return{dropdownShown:e.dropdownShown,defaultFileKeys:e.library.defaultPublished.fileKeys,openFileKey:(null==(t=e.openFile)?void 0:t.key)||null}});if(!e||e.type!==p)return null;let a=e.data.component,m=a.file_key===r;return t.includes(a.file_key)?null:n.createElement(d,{className:c.I,style:e.data.position},m?n.createElement(u,{recordingKey:`goToLocalComponent.${a.node_id}`,onClick:()=>l.i46.goToSymbolOrStateGroupById(a.node_id,!1)},n.createElement(o.Tx,{id:"design_systems.instance_swap_picker.go_to_main_component"})):n.createElement(u,{recordingKey:`goToSubscribedComponent.${a.node_id}`,href:(0,s.gt)(a),target:"_blank"},n.createElement(o.Tx,{id:"design_systems.instance_swap_picker.go_to_main_component"})))})},440112:(e,t,r)=>{"use strict";r.d(t,{O:()=>i});var n=r(307824);class i extends n.PureComponent{constructor(){super(...arguments),this.state={requestNumber:null},this.timerHandle=null,this.onError=e=>{var t,r;null==(r=(t=this.props).onError)||r.call(t,e),this.reload()},this.reload=()=>{this.clearTimer(),this.timerHandle=this.scheduleNextReload()},this.updateRequestTime=()=>{let e=null===this.state.requestNumber?1:this.state.requestNumber+1;this.setState({requestNumber:e})}}clearTimer(){null!==this.timerHandle&&(clearTimeout(this.timerHandle),this.timerHandle=null)}scheduleNextReload(){let{delayMultiplier:e=10}=this.props,t=Math.min(300,e*((this.state.requestNumber||0)+Math.random()));return setTimeout(this.updateRequestTime,1e3*t)}getSrc(){return this.props.src?null===this.state.requestNumber?this.props.src:`${this.props.src}${-1===this.props.src.indexOf("?")?"?":"&"}requestNumber=${this.state.requestNumber}`:this.props.src}imgProps(){let e={...this.props};return delete e.delayMultiplier,e}UNSAFE_componentWillReceiveProps(e){e.src!==this.props.src&&(this.clearTimer(),this.setState({requestNumber:null}))}componentWillUnmount(){this.clearTimer()}render(){return n.createElement("img",{...this.imgProps(),alt:"",src:this.getSrc(),onError:this.onError})}}i.displayName="ReloadingImage"},920004:(e,t,r)=>{"use strict";r.d(t,{U$:()=>y,Up:()=>E,uK:()=>f});var n=r(307824),i=r(120304),a=r(250008),o=r(760780),l=r(21036),s=r(915880),c=r(672352),d=r(173292),u=r(585508),p=r(713620),m=r(392992),_=r(425812),h=r(807604);let g=e=>!!e.isNewAssetsPanel;function f({isVisible:e,autofocus:t,selectOnFocus:r,ref:i}){return n.useCallback(()=>{(null==i?void 0:i.current)&&e&&t&&i.current.focus(r)},[t,e,i,r])}function E(e){let{isVisible:t,query:r,placeholder:s,onChange:E,className:y,extraSpacing:b,hideXIcon:v,hideSearchIcon:I,isFigjam:w,isLibraryModalUi3:T,autofocus:S,selectOnFocus:C,entryPointForTracking:A,forwardedRef:O,recordingKey:N}=e,L=(0,i.OY)(),R=(0,m.AL)(),P=(0,i.w1)(e=>e.search.sessionId),M=(0,_.w)(),k=n.useRef(null),D=f({isVisible:t,autofocus:S,selectOnFocus:C,ref:k}),F=n.useCallback(e=>!!(e.altKey&&u.CA.isWebContextReady())&&(0,p.Mz)(e,!0),[]);(0,o.u)(()=>{function e(){L(d.i.endSession())}return D(),e(),e});let x=n.useCallback(()=>{"editor:assets_panel"===A&&a.qE.trackDefinedEvent("assets_panel.search_cleared",{searchQuery:r,assetsPanelVersion:M,fileKey:null==R?void 0:R.key,fileTeamId:(null==R?void 0:R.teamId)??void 0,fileOrgId:(null==R?void 0:R.parentOrgId)??void 0}),g(e)?e.onClearSearch():E(""),L(d.i.endSession())},[A,e,L,r,M,null==R?void 0:R.key,null==R?void 0:R.teamId,null==R?void 0:R.parentOrgId,E]),U=n.useCallback(e=>{A&&(""===e&&P?L(d.i.endSession()):""===e||P||L(d.i.startSearch({entryPoint:A})),E(e))},[L,A,P,E]),B=n.useCallback(()=>{"editor:assets_panel"===A&&a.qE.trackDefinedEvent("assets_panel.search_focused",{assetsPanelVersion:M,fileKey:null==R?void 0:R.key,fileTeamId:(null==R?void 0:R.teamId)??void 0,fileOrgId:(null==R?void 0:R.parentOrgId)??void 0}),g(e)&&e.onFocus()},[A,null==R?void 0:R.key,null==R?void 0:R.parentOrgId,null==R?void 0:R.teamId,e,M]),G=n.useCallback(()=>{"editor:assets_panel"===A&&a.qE.trackDefinedEvent("assets_panel.search_unfocused",{assetsPanelVersion:M,fileKey:null==R?void 0:R.key,fileTeamId:(null==R?void 0:R.teamId)??void 0,fileOrgId:(null==R?void 0:R.parentOrgId)??void 0}),g(e)&&e.onBlur()},[A,null==R?void 0:R.key,null==R?void 0:R.parentOrgId,null==R?void 0:R.teamId,e,M]);return w||T?n.createElement(c.EB,{ref:(0,l.c)(k,O),className:y,focusOnMount:!1,query:r,placeholder:s,clearSearch:x,onChange:U,onFocus:B,onBlur:G,isKeyDownHandled:F,hideXIcon:v,recordingKey:N,withUI3Icon:T}):g(e)?n.createElement(h.G,{ref:(0,l.c)(k,O),onFocus:B,onBlur:G,focusOnMount:!1,query:r,clearSearch:x,onChange:U,placeholder:e.placeholder,isKeyDownHandled:F,recordingKey:N}):n.createElement(c.Yd,{ref:(0,l.c)(k,O),className:y,focusOnMount:!1,extraSpacing:b,query:r,placeholder:s,clearSearch:x,onChange:U,onFocus:B,onBlur:G,isKeyDownHandled:F,hideXIcon:v,hideSearchIcon:I,recordingKey:N})}function y({autofocus:e,className:t,column:r,extraSpacing:i,hideSearchIcon:a,hideXIcon:c,isFigjam:d,isVisible:u,onChange:p,path:m,placeholder:_,query:h,recordingKey:g,selectOnFocus:f,entryPointForTracking:y,forwardedRef:b,...v}){let I=n.useRef(null),{setKeyboardNavigationElement:w}=(0,s._G)({path:m,column:r,disabled:!u});return(0,o.u)(()=>{I.current&&(null==w||w(I.current.searchInput))}),n.createElement(E,{forwardedRef:(0,l.c)(I,b),autofocus:e,className:t,extraSpacing:i,hideSearchIcon:a,hideXIcon:c,isFigjam:d,isVisible:u,onChange:p,placeholder:_,query:h,selectOnFocus:f,entryPointForTracking:y,setKeyboardNavigationElement:w,recordingKey:g,...v})}},888860:(e,t,r)=>{"use strict";let n;r.d(t,{Y:()=>i,e:()=>a});var i=((n=i||{}).ALL="all",n.RECENT="recent",n.LOCAL="local",n.FILE="file",n);let a={all:!0,recent:!1,local:!0,file:!0}},112768:(e,t,r)=>{"use strict";r.d(t,{U:()=>I,s:()=>w});var n=r(307824),i=r(120304),a=r(681949),o=r.n(a),l=r(250008),s=r(843148),c=r(87975),d=r(845396),u=r(560072),p=r(323576),m=r(629968),_=r(523292),h=r(81492),g=r(172600),f=r(280692),E=r(392992),y=r(968900),b=r(235020),v=r(888860);let I="component-sidebar-asset-type-select";function w(e){var t;let{assetType:r,libraryNameByFileKey:a,onSetAssetType:w,onSetKeyboardNavigationElement:S,validAssetTypeOptions:C}=e,A=(0,i.OY)(),O=(0,i.w1)(e=>e.modalShown),N=(0,i.w1)(e=>e.dropdownShown),L=(0,i.w1)(E.w5),R=r.type===v.Y.FILE?r.fileKey:void 0,P=(0,h.Ci)(),M=(0,h.qO)(R),k=n.useCallback(()=>{(null==O?void 0:O.type)===y.M&&A(p._g()),l.qE.trackDefinedEvent("assets_panel.asset_type_dropdown_opened",{fileKey:null==L?void 0:L.key,assetsPanelVersion:2})},[A,O,null==L?void 0:L.key]),D=n.useMemo(()=>{if((0,f.WY)(P)){let e=Object.entries(a??{}).map(([e,t])=>({key:e,name:t}));return(0,f.i2)({libraries:e,approvedLibraryKeysByResourceType:P}),e.map(({key:e})=>e)}return Object.keys(a??{}).sort((e,t)=>d.k.LEXICOGRAPHICALLY(a[e],a[t]))},[a,P]),F=(0,m.a0)(),[x,U]=o()(D,e=>!(0,_.Aj)(e)),B=U.length>0&&F(),G=n.useMemo(()=>({format:e=>{switch(e.type){case v.Y.RECENT:return(0,u.t)("design_systems.assets_panel.dropdown_type_recents");case v.Y.ALL:return(0,u.t)("design_systems.assets_panel.dropdown_type_all_libraries");case v.Y.LOCAL:return(0,s.Ub)().dse_editor_templates_v1?(0,u.t)("design_systems.assets_panel.dropdown_type_local_assets"):(0,u.t)("design_systems.assets_panel.dropdown_type_local");case v.Y.FILE:return a[e.fileKey]}},isEqual:T}),[a]);return n.createElement(b.M1,{className:"sidebar_asset_type_select--select--PTmwH",id:I,property:r,formatter:G,onChange:w,dropdownAlignment:"left",openOnKeyPressed:[c.as.SPACE,c.as.ENTER],onSetKeyboardNavigationElement:S,dispatch:A,chevronClassName:"sidebar_asset_type_select--chevron--xyZLx",inputClassName:"sidebar_asset_type_select--input--sSEn2",dropdownShown:e.useLocalState?e.dropdownShown:N,dropdownWidth:260,onShowDropdown:k,onShowDropdownOverride:e.useLocalState?e.onShowDropdownOverride:void 0,onHideDropdownOverride:e.useLocalState?e.onHideDropdownOverride:void 0,rightIcon:M?n.createElement(g.gp,{fileKey:R}):void 0},!!C[v.Y.ALL]&&n.createElement(b.cb,{value:{type:v.Y.ALL}}),!!C[v.Y.RECENT]&&n.createElement(b.cb,{value:{type:v.Y.RECENT}}),!!C[v.Y.LOCAL]&&n.createElement(b.cb,{value:{type:v.Y.LOCAL}}),x.length>0?n.createElement(b.Wy,null):null,x.length>0?n.createElement(b.cb,{isHeader:!0,formattedValue:(null==(t=null==L?void 0:L.org)?void 0:t.name)?(0,u.t)("design_systems.assets_panel.dropdown_org_libraries",{orgName:L.org.name}):(0,u.t)("design_systems.assets_panel.dropdown_libraries")}):null,x.map(e=>(0,f.yk)(e)?n.createElement(b.cb,{key:e,value:{type:v.Y.FILE,fileKey:e},removeTextRightPadding:!0,rightSettingsIcon:n.createElement(g.wF,null)}):n.createElement(b.cb,{key:e,value:{type:v.Y.FILE,fileKey:e},fullWidth:!0})),B?n.createElement(b.Wy,null):null,B?n.createElement(b.cb,{isHeader:!0,formattedValue:(0,u.t)("design_systems.assets_panel.dropdown_curated_libraries")}):null,B&&U.map(e=>n.createElement(b.cb,{key:e,value:{type:v.Y.FILE,fileKey:e},fullWidth:!0})))}function T(e,t){return e.type===v.Y.FILE&&t.type===v.Y.FILE?e.fileKey===t.fileKey:e.type===t.type}},858324:(e,t,r)=>{"use strict";r.d(t,{EZ:()=>o,O_:()=>a,gv:()=>l}),r(307824);var n=r(901676);let i="library-section-expanded-";function a(e,t=!1){let r=null;try{if(null!=n.Ez){let t=n.Ez.getItem(`${i}${e}`);r=t?JSON.parse(t):null}}catch(e){}return null!=r?!!r:t}function o(e,t){null!==n.Ez&&n.Ez.setItem(`${i}${e}`,JSON.stringify(t))}function l(e,t){switch(e){case"FILE":return"Used in this file"!==t;case"PAGE":case"NAME_GROUP":case"ASSET_TYPE":return!1}}},491296:(e,t,r)=>{"use strict";r.d(t,{O:()=>u,y:()=>d});var n=r(307824),i=r(120304),a=r(323576),o=r(97007),l=r(896496),s=r(790184),c=r(968900);function d(e,t,r){let o=(0,i.OY)(),l=(0,i.w1)(e=>e.modalShown);return n.useCallback(()=>{(null==l?void 0:l.type)===c.M&&(null==l?void 0:l.data)&&o(a.kD({data:{...null==l?void 0:l.data,asset:e,sectionPosition:t,sectionNameForTracking:r},type:c.M}))},[e,o,l,t,r])}function u(e){let t=(0,i.w1)(l._),r=(0,i.w1)(l.yI),n=(0,i.w1)(o.iA),a=(0,i.w1)(o.mO);if(e.type===s.Af.COMPONENT){let r=e.isLocal?n[e.node_id]:e.component_key?t[e.component_key]:void 0;return!!r&&r.content_hash!==e.content_hash}if(e.type===s.Af.STATE_GROUP){let t=e.isLocal?a[e.node_id]:e.key?r[e.key]:void 0;return!!t&&t.version!==e.version}return!1}},171992:(e,t,r)=>{"use strict";let n;r.d(t,{CO:()=>h,E3:()=>u,WG:()=>g,Yx:()=>p,_k:()=>m,gD:()=>E,m6:()=>d,sz:()=>b,wt:()=>c,yO:()=>_,zi:()=>v});var i=r(139776),a=r(148812),o=r(939540),l=r(790184),s=r(784528);let c="assets-panel";function d(e){var t;if(!e.length)return!0;let r=null==(t=e.find(e=>(0,o.Mx)(e)&&e.containing_frame))?void 0:t.containing_frame;for(let t of e)if((0,o.Mx)(t)){let e=(0,s.Ep)(r,t.containing_frame),n=(0,s.Ww)(r,t.containing_frame);if(!e||!n)return!1}return!0}let u=()=>({subscribedFiles:[],fileKeyToSubscribedItems:{}});function p(e,t){let r=m((0,a.qO)(e)),n=m(t,e);return{allItems:[].concat(r.allItems,n.allItems),publishedItems:[].concat(r.publishedItems,n.publishedItems),privateItems:[].concat(r.privateItems,n.privateItems),erroneousItems:[].concat(r.erroneousItems,n.erroneousItems),numUpdates:r.numUpdates+n.numUpdates,numPublished:r.numPublished+n.numPublished}}function m(e,t,r){var n,i;let s=(0,a.SM)(e),c=[],d=[],u=[],p=r?Object.values(r):[],m=0,_=0,h=new Set;if(t)for(let e of Object.keys(t)){let r=t[e],a=null==(i=null==(n=r.containing_frame)?void 0:n.containingStateGroup)?void 0:i.nodeId;a&&r.old_key&&h.add(a)}for(let e of s)if(e.deletedFromSceneGraph||(c.push(e),e.status===l.Av.NOT_STAGED||e.status===l.Av.DELETED?u.push(e):d.push(e)),(0,a.cF)(e.status)&&_++,e.status!==l.Av.CURRENT&&e.status!==l.Av.NOT_STAGED||(e.type===l.Af.COMPONENT||e.type===l.Af.STATE_GROUP)&&(0,o.K4)(e.status)&&e.old_key||e.type===l.Af.STATE_GROUP&&(0,o.K4)(e.status)&&h.has(e.node_id)){m++;continue}return{allItems:c,publishedItems:d,privateItems:u,erroneousItems:p,numUpdates:m,numPublished:_}}function _(e,t,r,n,i,a){var o;let l=f(e.published.stateGroups,r,e,t,!!n),s=(o=!!n,f(e.published.components,r,e,t,o,e=>{var t;return(null==(t=e.containing_frame)?void 0:t.containingStateGroup)==null})),c={},d={};for(let e of s.subscribedFiles)(!i||e.key===i)&&(a&&e.key===a||(c[e.key]=e,d[e.key]=(d[e.key]||[]).concat(s.fileKeyToSubscribedItems[e.key])));for(let e of l.subscribedFiles)(!i||e.key===i)&&(a&&e.key===a||(c[e.key]=e,d[e.key]=(d[e.key]||[]).concat(l.fileKeyToSubscribedItems[e.key])));return{subscribedFiles:Object.values(c),fileKeyToSubscribedItems:d}}function h(e,t,r,n,a){let l=e.data;if(!l)return u();let s=[],c={};for(let e in Object.entries(l).forEach(([e,i])=>{let l=t[e];l&&(!r||(0,o.Ap)(n,r,l,a))&&i.length>0&&(c[e]=[...i])}),c){let r=t[e];r&&s.push(r)}return(0,i.E1)(s,"name"),{subscribedFiles:s,fileKeyToSubscribedItems:c}}function g(e,t,r,n){let i={...e.defaultPublished.components};for(let t of Object.keys(e.defaultPublished.stateGroups))for(let r of(i[t]||(i[t]=Object.create(null)),Object.keys(e.defaultPublished.stateGroups[t])))i[t][r]={...i[t][r]||{},...e.defaultPublished.stateGroups[t][r]};return f(i,r,e,t,n,e=>{var t;return(null==(t=e.containing_frame)?void 0:t.containingStateGroup)==null})}function f(e,t,r=null,n=null,a,l=()=>!0){let s=Object.create(null);for(let i in e){let c=e[i];for(let e in c){let i=t[e];if(!i||n&&r&&!(0,o.Ap)(r,n,i,a))continue;let d=[];for(let t in c[e]){let r=c[e][t];l(r)&&d.push(r)}d.length>0&&(s[e]=d)}}let c=[];return Object.keys(s).forEach(e=>{let r=t[e];r&&c.push(r)}),(0,i.E1)(c,"name"),{fileKeyToSubscribedItems:s,subscribedFiles:c}}function E(e,t,r,n){let i=y(e.published.stateGroups,r,e,t,n),a=y(e.published.components,r,e,t,n,e=>{var t;return(null==(t=e.containing_frame)?void 0:t.containingStateGroup)==null}),o={},l={};for(let e of[a,i])for(let t of e.subscribedHubFiles)o[t.id]=t,l[t.id]=(l[t.id]||[]).concat(e.hubFileIdToSubscribedItems[t.id]);return{subscribedHubFiles:Object.values(o),hubFileIdToSubscribedItems:l}}function y(e,t,r=null,n=null,a,l=()=>!0){let s={};for(let i in e){let c=e[i];for(let e in c){let i=t[e];if(!i||r&&n&&!(0,o.Ap)(r,n,{key:i.id},a))continue;let d=[];for(let t in c[e]){let r=c[e][t];l(r)&&d.push(r)}d.length>0&&(s[e]=d)}}let c=Object.keys(s).map(e=>t[e]);return(0,i.o$)(c,e=>e.versions[e.current_hub_file_version_id].name),{hubFileIdToSubscribedItems:s,subscribedHubFiles:c}}var b=((n=b||{})[n.Grid=0]="Grid",n[n.List=1]="List",n);let v=e=>0===e?"grid":"list"},489347:(e,t,r)=>{"use strict";let n;r.d(t,{ID:()=>m,Ou:()=>v,Qx:()=>y,wJ:()=>p,wt:()=>_});var i=r(139776),a=r(843148),o=r(560072),l=r(280692),s=r(939540),c=r(783932),d=r(790184),u=r(171992);function p(e,t){let r={},n={},i=[];return e.forEach(e=>{let a=t(e);if(!a)return;let o=a.containing_frame;if(null==o?void 0:o.pageId){let t=o.pageId,i=o.pageName||"";n[t]=i,r[t]=r[t]||[],r[t].push(e)}else i.push(e)}),{itemsByPageId:r,pageNamesByPageId:n,itemsWithoutPage:i}}let m="0:1";function _(e,t,r,n){if(0!==r.length){if(1===Object.keys(e).length&&1===Object.keys(t).length){let t=Object.keys(e)[0];e[t].push(...r),r.splice(0,r.length)}else t[m]&&e[m]?(e[m].push(...r),r.splice(0,r.length)):n&&(t[m]||(t[m]="Page 1"),e[m]=[...r],r.splice(0,r.length))}}function h(e,t,r,n){var a,o;let l=[],s=new Map;for(let i of e)t&&(i.flattenedPath=t.concat(i.name||"").join(" / ")),r&&(i.breadcrumbPath=function(e,t){let r=[...e];if(t&&t.length&&e&&e.length){let n=e.length-t.length;for(let i=t.length-1;i>=0;--i)i+n<e.length&&e[i+n]===t[i]&&r.pop()}return r.length>0?r.join(" / ")+" /":""}(r,t)),n&&(i.stickyHeaderTokens=n.concat(i.name||"")),s.has(i.name||"")?(i.subtrees&&i.subtrees.length&&(null==(a=s.get(i.name||""))||a.subtrees.push(...i.subtrees)),i.items&&i.items.length&&(null==(o=s.get(i.name||""))||o.items.push(...i.items))):s.set(i.name||"",i);for(let e of s.values()){let a=t,o=r,s=n.concat(e.name||""),c=new Set;for(let t of e.subtrees)c.add(t.name);o=o.concat(e.name||""),"PAGE"!==e.type&&(0===e.items.length&&1===c.size?(e.skipElementsInRendering=!0,a=a.concat(e.name||"")):a=[]),e.subtrees=h(e.subtrees,a,o,s),(0,i.E1)(e.subtrees,"name"),l.push(e)}return l}function g(e,t){(0,i.E1)(t,"name");let r=Object.create(null);for(let n of t){let t=(0,c.QZ)(n.name),i="";for(let a=0;a<t.length;a++){let o;let l=t[a],s=i,c=a<t.length-1;if(i+=l+(c?"/":""),o=r[s]?r[s]:e,c&&!r[i]){let e={type:"NAME_GROUP",name:l,key:l,items:[],subtrees:[]};r[i]=e,o.subtrees.push(e)}c||o.items.push(n)}}}function f(e,t){var r;let n={},i=[],o=[],l={};for(let e of t)if((0,a.Ub)().dse_templates_proto&&e.type===d.Af.COMPONENT&&(0,s.CQ)(e))i.push(e);else if((0,s.Mx)(e)&&(null==(r=e.containing_frame)?void 0:r.nodeId)){let t=e.containing_frame.nodeId;n[t]=n[t]||[],n[t].push(e),l[t]=e.containing_frame}else o.push(e);if((0,a.Ub)().dse_templates_proto&&i.length>0){let t={type:"NAME_GROUP",name:"Templates",key:`${e.key}-${b}`,items:[],subtrees:[]};e.subtrees.push(t),g(t,i)}let c=Object.keys(n).length;if(c>0||1===c&&o.length){for(let t in n){let r=l[t],i=n[t],a={type:"NAME_GROUP",name:r.name||"",key:t,items:[],subtrees:[]};e.subtrees.push(a),g(a,i)}g(e,o)}else g(e,(0,a.Ub)().dse_templates_proto?t.filter(e=>!(0,s.CQ)(e)):t)}function E(e,t){let{itemsByPageId:r,pageNamesByPageId:n,itemsWithoutPage:a}=p(t,e=>e.type===d.Af.COMPONENT||e.type===d.Af.STATE_GROUP||e.type===d.Af.MODULE?e:null);_(r,n,a);let o=Object.keys(r);if((0,i.o$)(o,e=>n[e]),o.length>1||1===o.length&&a.length){for(let t of o){let i={type:"PAGE",name:n[t],key:t,items:[],subtrees:[]};e.subtrees.push(i),f(i,r[t])}f(e,a)}else f(e,t);e.subtrees=h(e.subtrees,[],[],e.name?[e.name]:[]),(0,i.o$)(e.subtrees,e=>e.name.trim())}function y({localLibraryItemsInfo:e,localTemplatesInfo:t,subscribedItemsInfo:r,subscribedTemplatesInfo:n,subscribedCommunityItemsInfo:s,defaultSubscribedItemsInfo:c,canPublish:d,approvedLibraryKeysByResourceType:u}){let p;let m={items:[],subtrees:[]},_={},{fileKeyToSubscribedItems:h,subscribedFiles:g}=r,f=[...g],y={};if((0,a.Ub)().dse_editor_templates_v1&&n)for(let e of(y=n.fileKeyToSubscribedItems,n.subscribedFiles))f.find(t=>t.key===e.key)||f.push(e);(0,a.Ub)().dse_editor_templates_v1&&t&&(p=w(m,t,d,1));let b=w(m,e,d,0),v=c.fileKeyToSubscribedItems;for(let e of c.subscribedFiles){let t=e.key,r={items:[],subtrees:[],key:`defaultLibrary:${t}`,name:(0,o.t)("design_systems.assets_panel.created_by_figma"),type:"FILE",isFilePublished:!0,sectionNameForTracking:"Default libraries",subscribedFileKey:t};E(r,v[t]),m.subtrees.push(r),_[t]=r}for(let e of((0,i.E1)(f,"name"),(0,l.WY)(u)&&(0,l.i2)({libraries:f,approvedLibraryKeysByResourceType:u}),f)){let t=e.key,r={items:[],subtrees:[],key:`subscribedComponents:${t}`,name:e.name,type:"FILE",isFilePublished:!0,sectionNameForTracking:"Subscribed libraries",subscribedFileKey:t};if((0,a.Ub)().dse_editor_templates_v1){let t={items:[],subtrees:[],key:"templates",name:(0,o.t)("design_systems.assets_panel.templates"),type:"ASSET_TYPE"};y[e.key]&&(E(t,y[e.key]),r.subtrees.push(t));let n={items:[],subtrees:[],key:"components",name:(0,o.t)("design_systems.assets_panel.components"),type:"ASSET_TYPE"};h[e.key]&&E(n,h[e.key]),r.subtrees.push(n)}else E(r,h[e.key]);_[t]=r,m.subtrees.push(r)}if(s){let{hubFileIdToSubscribedItems:e,subscribedHubFiles:t}=s;for(let r of t){let t=r.id,n={items:[],subtrees:[],key:`subscribedCommunityComponents:${t}`,name:r.versions[r.current_hub_file_version_id].name,type:"FILE",isFilePublished:!0,sectionNameForTracking:"Subscribed community libraries",subscribedFileKey:t};E(n,e[t]),m.subtrees.push(n),_[t]=n}}return{tree:m,localSubtree:b,localTemplateSubtree:p,subscribedFileSubtrees:_}}let b="template-subtree";function v(e){return"NAME_GROUP"===e.type&&e.key.includes(b)}var I=((n=I||{})[n.COMPONENT=0]="COMPONENT",n[n.TEMPLATE=1]="TEMPLATE",n);function w(e,t,r,n){let{allItems:i,privateItems:a,numPublished:l}=t,s=l>0&&r,c=s&&a.length>0,d=function(e,t){let{allItems:r,publishedItems:n,privateItems:i,numPublished:a}=e;return a>0&&t&&i.length>0?n:r}(t,r),p={items:[],subtrees:[],key:0===n?"localComponents":"localTemplates",name:i.length>0?(0,o.t)(0===n?"design_systems.assets_panel.local_components":"design_systems.assets_panel.local_templates"):"",type:"FILE",sectionNameForTracking:0===n?"Local components":"Local templates",isFilePublished:s,stickyHeaderTokens:[]};if(e.subtrees.push(p),!c&&(0,u.m6)(d)?(f(p,d),p.subtrees=h(p.subtrees,[],[],p.name?[p.name]:[])):E(p,d),c){let e={items:[],subtrees:[],key:"privateToThisFile",name:(0,o.t)("design_systems.assets_panel.hidden"),type:"PAGE",sectionNameForTracking:0===n?"Local private components":"Local private templates",isFilePublished:s,stickyHeaderTokens:[]};E(e,a),p.subtrees.push(e)}return p}},110952:(e,t,r)=>{"use strict";r.d(t,{S_:()=>u,d9:()=>E,ik:()=>h,im:()=>_,oY:()=>p});var n=r(307824),i=r(120304),a=r(250008),o=r(623131),l=r(372152),s=r(47956),c=r(519756),d=r(208420);let u="performance.ds_eco.asset_panel_loading",p=new s.QD(u,{}),m=(0,o.Zf)(!1),_=(0,o.Zf)(!1);function h(){let[e,t]=(0,l.lZ)(m);return n.useCallback(()=>{e||(t(!0),p.start())},[e,t])}let g=(e,t)=>{let r=(0,i.w1)(e=>e.openFile),o=(0,d.u)(),[s,m]=(0,l.lZ)(_);n.useEffect(()=>{if(!o&&!s&&t){m(!0);let t=p.stop();t&&(0,a.we)(u,{elapsedMs:t,fileKey:null==r?void 0:r.key,teamId:null==r?void 0:r.teamId,orgId:null==r?void 0:r.parentOrgId,isUi3RedesignedAssetPanel:!1,numLibraries:e.allElementsTree.allElements.length,numComponents:f(e.allElementsTree.allElements),numComponentsShown:e.elementsInView.filter(e=>e.type===c.QJ.TILE).length,numSectionsShown:e.elementsInView.filter(e=>e.type===c.QJ.ROW).length},{forwardToDatadog:!0})}},[e.isDirty,e.elementsInView,e.allElementsTree,o,s,r,m,t])},f=e=>{let t=0;return e.forEach(e=>{e.type===c.QJ.TILE?t+=1:e.type===c.QJ.ROW&&(0,c.yy)(e)&&(t+=f(e.children))}),t};function E({elementsCache:e,hasRenderedItems:t}){return g(e,t),null}},135352:(e,t,r)=>{"use strict";let n,i,a,o;r.d(t,{IB:()=>c,IZ:()=>_,U$:()=>l,WE:()=>d,_o:()=>u,av:()=>s,iI:()=>h,ox:()=>m,s0:()=>p});let l=6,s="components",c="templates",d="privateToThisFile";var u=((n=u||{})[n.HEADER=0]="HEADER",n[n.BREADCRUMB=1]="BREADCRUMB",n[n.CONTENTS=2]="CONTENTS",n),p=((i=p||{})[i.SEARCH=0]="SEARCH",i[i.FILTER=1]="FILTER",i),m=((a=m||{})[a.TEMPLATES=0]="TEMPLATES",a[a.COMPONENTS=1]="COMPONENTS",a),_=((o=_||{})[o.LOCAL_AND_SUBSCRIBED=0]="LOCAL_AND_SUBSCRIBED",o[o.PRESETS=1]="PRESETS",o);function h(e){return!!e.pages&&!!e.previews}},224012:(e,t,r)=>{"use strict";r.d(t,{Og:()=>f,Zr:()=>g,b7:()=>b,cZ:()=>_,gv:()=>h,iM:()=>v,im:()=>I,kt:()=>w,uQ:()=>m,wf:()=>y,wn:()=>E});var n=r(307824),i=r(139776),a=r(843148),o=r(523292),l=r(280692),s=r(392992),c=r(888860),d=r(135352),u=r(961420),p=r(319435);function m(){let e=(0,s.K0)(),{libraryKey:t,isViewingRecents:r}=(0,u.o)();return r?c.Y.RECENT:t?t===e?c.Y.LOCAL:c.Y.FILE:c.Y.ALL}function _(){let{isViewingRecents:e,isSearching:t}=(0,u.o)(),[r]=(0,p.Id)();return e||t?void 0:r}function h({moreSearchResults:e}={}){let{libraryKey:t,pageId:r,isSearching:i,isViewingRecents:a}=(0,u.o)(),l=(0,s.K0)();return n.useMemo(()=>i?e?{componentSectionNameForTracking:"More search results",templateSectionNameForTracking:"More search results"}:{componentSectionNameForTracking:"Primary search results",templateSectionNameForTracking:"Templates search results"}:a?{componentSectionNameForTracking:"Recently used",templateSectionNameForTracking:"Recently used templates"}:t===l?r===d.WE?{componentSectionNameForTracking:"Local private components",templateSectionNameForTracking:"Local private templates"}:{componentSectionNameForTracking:"Local components",templateSectionNameForTracking:"Local templates"}:t&&(0,o.Aj)(t)?{componentSectionNameForTracking:"Subscribed community libraries",templateSectionNameForTracking:"Subscribed community libraries"}:{componentSectionNameForTracking:"Subscribed libraries",templateSectionNameForTracking:"Subscribed libraries"},[i,a,t,e,l,r])}function g(e,t){let{isViewingRecents:r,isSearching:i}=(0,u.o)();return n.useMemo(()=>r?"recents":i?"search":e?t?"page":"library":void 0,[i,r,e,t])}function f(e,t){let r=[...e];return t&&(0,l.WY)(t)?(0,l.i2)({libraries:r,approvedLibraryKeysByResourceType:t}):(0,i.E1)(r,"name"),r}function E(e,t){return f(e.map(e=>({...e,key:e.fileKey})),t)}function y(e){let t=[...e];return(0,i.o$)(t,e=>e.versions[e.current_hub_file_version_id].name),t}function b(e,t){let r=t.allLibrariesUnsorted.get(e.fileKey);return r?{...r,...e}:e}function v(e){let t=e.numComponents+e.numStateGroups,r=(0,a.oV)("dse_editor_templates_v1",e.numModuleAssets,0)??0;return t>0||r>0?{name:e.name,fileKey:e.fileKey,numComponents:t,numTemplates:r,thumbnailUrl:e.thumbnailUrlOverride??e.thumbnailUrl,thumbnailShouldCover:!!e.thumbnailGuid||(0,o.Aj)(e.fileKey)}:null}function I(e,t,r=30,i=10,a=100){let o=n.useRef(void 0);n.useEffect(()=>{if(!e.current)return;let n=e.current,l=e=>{let n=void 0!==o.current&&e.timeStamp-o.current<a,l=e.deltaX,s=e.deltaY;Math.abs(l)>(n?i:r)&&(o.current=e.timeStamp),!n&&Math.abs(l)>r&&Math.abs(l)>Math.abs(s)&&t(l>0?"right":"left")};return n.addEventListener("wheel",l,{passive:!0}),()=>{n.removeEventListener("wheel",l)}},[t,e,a,i,r])}function w(e){return(e instanceof HTMLInputElement||e instanceof HTMLTextAreaElement||e instanceof HTMLSelectElement)&&"application"!==e.role}},319435:(e,t,r)=>{"use strict";let n;r.d(t,{Id:()=>u,Mz:()=>s,SK:()=>l,mU:()=>c});var i=r(307824),a=r(372152),o=r(901676),l=((n=l||{}).FOLDER="folder",n.FLAT="flat",n);let s="assets-panel-view-mode",c="folder",d=(0,a.Ce)(s,c);function u(){let[e,t]=(0,a.lZ)(d),r=i.useCallback(e=>e.key===s&&null!=e.newValue,[]),n=i.useCallback(r=>{if(r)try{let n=JSON.parse(r);("folder"===n||"flat"===n)&&e!==n&&t(n)}catch(e){}},[e,t]);return(0,o.kH)({onSync:n,shouldSyncValue:r}),[e,t]}},756372:(e,t,r)=>{"use strict";r.d(t,{KI:()=>n,cx:()=>i,or:()=>a});let n="root",i=40,a=300},293580:(e,t,r)=>{"use strict";r.d(t,{_A:()=>w,__:()=>T});var n=r(307824),i=r(120304),a=r(656716),o=r(760780),l=r(441388),s=r(374588),c=r(572748),d=r(553432),u=r(13468),p=r(414544),m=r(790184),_=r(203736),h=r(238372),g=r(650360),f=r(148072),E=r(580652),y=r(23124),b=r(705080),v=r(585604);let I=n.memo(function({initialTab:e,teamId:t,initialUpdatesModalScope:r,entrypoint:d}){let p=(0,i.w1)(e=>e.selectedView),m=(0,i.w1)(e=>(0,u._8)(e)),_=(0,i.w1)(e=>e.openFile),h=(0,c.Ce)(),g=new URLSearchParams(a.default.location.search).get("teamToMoveFileToOnNavigate"),E=(0,s.wX)();return(0,o.u)(()=>{E()}),n.createElement(l.kH,{name:"Library Preference Modal",properties:{fileKey:null==_?void 0:_.key,fileTeamId:null==_?void 0:_.teamId,teamId:"team"===p.view&&p.teamId,orgId:null==h?void 0:h.id,inPublishDraftExp:!!g}},m?n.createElement(S,null):"fullscreen"===p.view&&"whiteboard"!==p.editorType?n.createElement(f.Q,{entrypoint:d,initialTab:e,initialUpdatesModalScope:r}):"team"===p.view?n.createElement(C,{initialTab:e,teamId:p.teamId}):t?n.createElement(C,{initialTab:e,teamId:t}):void 0)}),w=(0,_.U9)(I,m.Kq),T=(0,_.U9)(function({entrypoint:e}){return n.createElement(I,{initialTab:m.Er.FONTS,entrypoint:e})},m.SY);function S(){let e=(0,y.eU)();return n.createElement(E.w,{width:e,title:n.createElement(v.K,{availableTabs:[m.Er.LIBRARIES],selectedTab:m.Er.LIBRARIES})},n.createElement(b.g,null,n.createElement(h.K,{showingDefaultSubscriptionsForUser:!0,showingDefaultSubscriptionsForTeamId:null,width:e})))}function C({initialTab:e,teamId:t}){let r=(0,i.OY)(),a=(0,i.w1)(e=>e.sharedFonts),o=(0,i.w1)(e=>(0,p.q)(e)),l=(0,i.w1)(e=>(0,d.canAdminOrg)(e.currentUserOrgId,e)),s=(0,d.usePermissionsState)(),c=n.useMemo(()=>{let e=[m.Er.LIBRARIES];return o&&e.push(m.Er.FONTS),e},[o]),{selectedTab:u,setSelectedTab:_}=(0,y.sn)(c,e),f=(0,y.eU)(o);return n.createElement(E.w,{width:f,title:n.createElement(v.K,{availableTabs:c,selectedTab:u,setSelectedTab:_})},n.createElement(b.g,{showSharedFonts:o},u===m.Er.LIBRARIES&&n.createElement(h.K,{showingDefaultSubscriptionsForTeamId:t,showingDefaultSubscriptionsForUser:!1,width:f}),u===m.Er.FONTS&&n.createElement(g.M,{dispatch:r,teamId:t,width:f,resourceType:"team",useModalViewComponent:!0,canAdminOrg:l,permissionsState:s,sharedFonts:a})))}},890493:(e,t,r)=>{"use strict";r.d(t,{Qt:()=>_,e:()=>g});var n=r(307824),i=r(120304),a=r(843148),o=r(703520),l=r(537096),s=r(560072),c=r(833492),d=r(537180),u=r(235020),p=r(967332),m=r(895184);function _({variableSet:e,modeDropdownStyle:t,fileKey:r,entity:a,defaultModeId:o,isLibraryFileEnabled:l}){var p,m;let _=(0,i.OY)(),g=(0,c.g)(),f="auto_inherit_mode_string",E=e.modes?e.modes[0].name:"",y=n.useMemo(()=>({name:(0,s.t)("variables.mode_properties_panel.select.option.default_with_name",{modeName:E}),id:f}),[E]),b=o?null==(p=e.modes)?void 0:p.find(e=>e.id===o):y,[v,I]=(0,n.useState)(b),w=n.useMemo(()=>{var t;return(null==v?void 0:v.id)===f?y:null==(t=e.modes)?void 0:t.find(e=>e.id===(null==v?void 0:v.id))},[e,v,y]),T=n.useCallback(t=>{I(t),t.id===f?d.S.deleteDefaultMode({fileKey:r,entityType:a.entityType,entityId:a.entityId,variableSetKey:e.key}):d.S.setDefaultMode({fileKey:r,entityType:a.entityType,entityId:a.entityId,variableSetKey:e.key,defaultModeId:t.id}).catch(e=>{I(v)})},[v,r,a.entityType,a.entityId,e.key]);return e.modes&&1!==e.modes.length&&a&&b?n.createElement(u.M1,{id:`subscription-dropdown-${e.id}`,property:w,dispatch:_,dropdownShown:g,onChange:T,formatter:h,dropdownWidth:150,className:t,disabled:!l},n.createElement(u.cb,{value:y},(0,s.t)("variables.mode_properties_panel.select.option.default_with_name",{modeName:E})),n.createElement(u.Wy,null),null==(m=e.modes)?void 0:m.map(e=>n.createElement(u.cb,{key:e.id,value:e},h.format(e)))):n.createElement("div",{className:t})}let h={format:e=>e.name};function g({forBestMatches:e,variableSets:t,shouldDisplayDefaultModeDropdown:r,fileKey:i,entity:c,isLibraryFileEnabled:u}){let[h,g]=(0,n.useState)({}),[f,E]=(0,n.useState)(!1);if(!t||0===t.length)return null;r&&(r=t.some(e=>e.modes&&e.modes.length>1));let y=(0,a.Ub)().ds_workspace_team_default_modes&&!f&&r&&c&&i;return(y&&d.S.getDefaultModes({fileKey:i,entityType:c.entityType,entityId:c.entityId}).then(e=>{g(e.data.meta),E(!0)}).catch(()=>{E(!0)}),y)?n.createElement(o.WA,null):n.createElement("div",null,!e&&n.createElement("div",{className:p.kF},n.createElement("div",{className:p.Sq},n.createElement(s.Tx,{id:"design_systems.libraries_modal.header_variable_collections"})),(0,a.Ub)().ds_workspace_team_default_modes&&r&&n.createElement("div",{className:p.Sq},n.createElement(s.Tx,{id:"design_systems.libraries_modal.header_default_mode"}))),n.createElement("div",{className:e?p.cF:p.ii},t.map(t=>n.createElement("div",{className:p._s,key:t.id},e?n.createElement(n.Fragment,null,n.createElement(l.A,{className:p.eC,svg:m.c}),n.createElement("span",{className:p.N9},t.name),t.numVariableMatches&&n.createElement("span",{className:p.sp},n.createElement(s.Tx,{id:"design_systems.libraries_modal.plural.num_variable_match",numVariables:t.numVariableMatches}))):n.createElement("div",{className:p.QX},n.createElement("span",{className:p.N9},t.name),r&&c&&i&&(0,a.Ub)().ds_workspace_team_default_modes&&n.createElement(_,{variableSet:t,modeDropdownStyle:p.w3,fileKey:i,entity:c,defaultModeId:h[t.key],isLibraryFileEnabled:u})||n.createElement("div",{className:p.w3}),n.createElement("span",{className:p.sp},n.createElement(s.Tx,{id:"design_systems.libraries_modal.plural.num_variables",numVariables:t.numVariables})))))))}},494220:(e,t,r)=>{"use strict";r.d(t,{Ih:()=>J});var n=r(307824),i=r(120304),a=r(733960),o=r(843148),l=r(87975),s=r(643260),c=r(594192),d=r(888932),u=r(326660),p=r(105516),m=r(132256),_=r(519756),h=r(703520),g=r(672352),f=r(560072),E=r(375376),y=r(403132),b=r(914219),v=r(323576),I=r(735204),w=r(441388),T=r(495172),S=r(309812),C=r(699084),A=r(148812),O=r(762820),N=r(540696),L=r(784340),R=r(392992),P=r(572748),M=r(939540),k=r(514916),D=r(97007),F=r(790184),x=r(901272),U=r(203736),B=r(777868),G=r(158196),V=r(642192),H=r(871776),W=r(799624),K=r(51100),Y=r(138792),q=r(481760),j=r(213460),$=r(703120),Z=r(907504),z=r(971564);let Q=(0,w.qu)(e=>n.createElement(H.kf,null,n.createElement(ee,{publishingMode:$.W.HUBFILE,...e})),"Community Libraries Publishing Modal"),X=(0,U.U9)(Q,"CommunityLibraryPublishingModal"),J=(0,U.U9)(function(e){return n.createElement(w.kH,{name:"Publishing Modal",properties:{entryPoint:e.entrypoint}},n.createElement(H.kf,null,n.createElement(ee,{publishingMode:$.W.LIBRARY,...e})))},"PublishingModal");function ee({timedOut:e,initiallyCheckedItemIDs:t,publishingMode:r}){var m;let _=(0,S.Ci)(),w=(0,R.AL)(),N=(0,i.w1)(e=>e.library),U=(0,i.w1)(D.iU),q=(0,i.w1)(D.iA),j=(0,i.w1)(D.mO),Q=(0,L.EF)(),{modeLimit:J,canShowCTA:ee,showCTA:er}=(0,V.Y3)("publishing"),ei=(0,i.OY)(),ea=(0,i.w1)(e=>e.savedPublishDescription),eo=(0,i.w1)(D.QX),el=null==(m=(0,P.Ce)())?void 0:m.id,es=(0,i.w1)(e=>e.orgById),ec=(0,i.w1)(C.QZ),[ed,eu]=n.useState(""),[ep,em]=n.useState(ea||""),e_=(0,R.K_)({useSinatraType:!0}),[eh,eg]=n.useState((0,x.u)(e_||null)),[ef,eE]=n.useState(null),ey=n.useContext(H.MX),eb=n.useMemo(()=>(0,A.qO)(q),[q]),ev=(0,H.gF)(),eI=(0,H.Rs)(),ew=(0,i.w1)(e=>(0,D.e)(e,eI)),eT=(0,a.i)(ey);n.useEffect(()=>{(null==eT?void 0:eT.status)===s.D.LOADING&&ey.status===s.D.SUCCESS&&(t||eC(new Set(ew)))},[ew,ey,t,null==eT?void 0:eT.status]);let[eS,eC]=n.useState(()=>new Set(t&&t.size>0?ew.filter(e=>null==t?void 0:t.has(e)):ew)),[eA,eO]=n.useState(!1),[eN,eL]=n.useState(null);n.useEffect(()=>{let e=e=>{"Shift"===e.key&&eO(!0)},t=e=>{"Shift"===e.key&&eO(!1)};return document.addEventListener("keydown",e),document.addEventListener("keyup",t),()=>{document.removeEventListener("keydown",e),document.removeEventListener("keyup",t)}},[]);let eR=n.useCallback(()=>{N.publishProgress.state===F.g7.ASSEMBLING_COMPONENTS&&ei(b.qe())},[ei,N.publishProgress.state]),eP=n.useCallback(()=>{eR(),ei(v.oN())},[ei,eR]);n.useEffect(()=>{N.publishProgress.state===F.g7.UPLOADING&&eP()},[eP,N.publishProgress.state]);let eM=(0,a.i)(N),ek=(0,a.i)(ew);n.useEffect(()=>{if(eM&&ek&&eM!==N){if(eL(null),ek.every(e=>eS.has(e))){eC(new Set(ew));return}eC(new Set(ew.filter(e=>eS.has(e))))}},[ew,eS,N,eb,ev,w,ek,eM]),(0,L.MV)();let eD=(0,i.w1)(e=>(0,D.wd)(e,eI)),eF=n.useCallback(e=>{let t=[...eD.variableSets.modified.wellFormed,...eD.styles.modified.wellFormed,...eD.productComponents.modified.wellFormed].map(e=>e.node_id),r=t.indexOf(e);if(null===r)return;let n=new Set(eS),i=!n.has(e);if(eA&&null!==eN){let e=Math.min(r,eN),a=Math.max(r,eN);for(let r=e;r<=a;r++)i?n.add(t[r]):n.delete(t[r])}else i?n.add(e):n.delete(e);eC(n),eL(r)},[eS,eN,eD,eA]),ex=n.useCallback(()=>{ew.length===eS.size?eC(new Set):eC(new Set(ew))},[ew,eS.size]),eU=n.useCallback((e,t)=>{ey.status===s.D.SUCCESS&&ey.nodeIdToValidatedMoveInfo[e]&&(ey.nodeIdToValidatedMoveInfo[e].publishType=t)},[ey]),eB=(0,i.w1)(e=>(0,D.WM)(e,eI)),eG=(0,i.w1)(e=>(0,D.tc)(e,eI)),eV=(0,i.w1)(e=>(0,D.En)(e,eI)),eH=n.useCallback(()=>{let e=N.used__LIVEGRAPH.localNodeIdToDestinationKey;if(!Object.keys(N.movedLibraryItems.local).length&&!Object.keys(e).length)return;let t=eG.filter(e=>!!N.movedLibraryItems.local[e.node_id]&&e.status!==F.Av.DELETED&&eS.has(e.node_id)).map(e=>e.node_id),r=new Set(t);for(let n of[...t,...eB.filter(e=>{var t,n;let i=null==(n=null==(t=e.containing_frame)?void 0:t.containingStateGroup)?void 0:n.nodeId,a=i&&j[i]||null;return!(!N.movedLibraryItems.local[e.node_id]||e.status===F.Av.DELETED||a&&((0,M.Kw)(a)||r.has(a.node_id)))&&eS.has(i||e.node_id)}).map(e=>e.node_id),...eV.filter(t=>!!e[t.node_id]&&t.status!==F.Av.DELETED&&eS.has(t.node_id)).map(e=>e.node_id)]){let e=O.i46.generatePublishableCopy(n);e&&eS.has(n)&&(eS.delete(n),eS.add(e))}},[eS,j,N.used__LIVEGRAPH.localNodeIdToDestinationKey,N.movedLibraryItems.local,eB,eG,eV]),eW=(0,i.w1)(D.uw),eK=n.useCallback(e=>{let t;if(ec&&eW){if(el){let e=(0,x.u)(ec);if(eh&&!e||!eh&&e){let e={link_access:k.O6.ORG_VIEW,org_browsable:eh};ec.file_repo_id?ei(I.Aj({repo:{id:ec.file_repo_id,...e},userInitiated:!0})):ei(E.Aj({file:{key:ec.key,...e},userInitiated:!0}))}}for(let e of eS){let t=Q[e];if((0,c.aI)(t)&&t.modes.length>J){ee(t.modes.length)?er():(0,u.WI)("designSystems publishing","Blocking publishing of variable collection with too many modes, but upsell is not available",{collectionId:e});return}}if(ey.status===s.D.SUCCESS){let e=Object.keys(ey.nodeIdToValidatedMoveInfo).filter(e=>eS.has(e)&&"MOVE"===ey.nodeIdToValidatedMoveInfo[e].publishType),r=[...Object.values(q),...Object.values(j),...Object.values(U)].reduce((e,t)=>(ey.nodeIdToValidatedMoveInfo[t.node_id]&&t.old_key&&(e[t.node_id]=t.old_key),e),Object.create(null)),n=eB.filter(M.kZ);t=(0,M.k5)(e,r,n)}eH(),ei(b.pC({savepointDescription:ep,itemsToPublish:eS,moveInformation:t,hubFileId:e||void 0}))}},[ec,eW,el,ey,eH,ei,ep,eS,eh,Q,J,ee,er,q,j,U,eB]),eY=n.useCallback(e=>{if(!ec)return;let t=d.cp.mac?e.metaKey:e.ctrlKey;e.keyCode===l.as.ENTER&&t&&(eK(),e.preventDefault(),e.stopPropagation())},[ec,eK]),eq=n.useCallback(e=>{em(e.target.value)},[]),ej=n.useCallback(e=>{eg(e),ei(y.yi())},[ei]),e$=!!(null==ec?void 0:ec.starter_library_src_file_key),eZ=n.useMemo(()=>{let e=0;return Object.values(eb).forEach(t=>{e$?(0,M._h)(t.status)&&e++:(0,M.K4)(t.status)&&e++}),Object.values(j).forEach(t=>{e$?(0,M._h)(t.status)&&e++:(0,M.K4)(t.status)&&e++}),e},[e$,j,eb]),ez=(0,T._c)(),eQ=n.useMemo(()=>{let e=e=>Object.values(e).some(e=>e.status===F.Av.NEW);return!!(eo&&e(eb)||eo&&e(j)||e(U))},[eo,j,U,eb]),eX=n.useMemo(()=>{if(!(0,o.Ub)().first_draft_publish_ux)return!1;let e=new Set(O.p1I.getLocalDesignSystemKits().map(e=>e.pageId));return eD.productComponents.modified.wellFormed.some(t=>{var r;let n=null==(r=t.containing_frame)?void 0:r.pageId;return!!n&&e.has(n)})},[eD.productComponents.modified.wellFormed]);if(!ec)return null;if(ey.status===s.D.LOADING)return n.createElement(G.wJ,{size:480,title:r===$.W.HUBFILE?n.createElement(f.Tx,{id:"design_systems.publishing_modal.modal_header_community_library"}):n.createElement(f.Tx,{id:"design_systems.publishing_modal.modal_header"}),titleClassName:z.m0,className:z._C,dispatch:ei,onKeyDown:eY,onHide:eR},n.createElement(h.M7,{className:z.kH}));let eJ=null==w?void 0:w.team,e0=eI&&Object.keys(eI).some(e=>!!eS.has(e)&&!U[e]&&"MOVE"===eI[e].publishType),e1=eD.productComponents.modified.wellFormed.length,e2=eD.styles.modified.wellFormed.length,e4=eD.variableSets.modified.wellFormed.length,e3=(0,o.oV)("dse_editor_templates_v1",eD.modules.modified.wellFormed.length,0);return n.createElement(G.wJ,{size:480,title:r===$.W.HUBFILE?n.createElement(f.Tx,{id:"design_systems.publishing_modal.modal_header_community_library"}):n.createElement(f.Tx,{id:"design_systems.publishing_modal.modal_header"}),titleClassName:z.m0,className:z._C,dispatch:ei,onKeyDown:eY,onHide:eR,"data-testid":"publishing-modal"},n.createElement(p.cT,{dispatch:ei,customStyle:_?{top:8,right:12}:{top:6,right:6}}),n.createElement("div",{className:z.o$},n.createElement("div",{className:ef?z.OA:z.ek},n.createElement("div",{className:z.wD},_?n.createElement("div",{className:z.Ou},n.createElement(g.EB,{focusOnMount:!1,query:ed,clearSearch:()=>eu(""),onChange:eu,recordingKey:"publishingModalSearchBar",withUI3Icon:!0,smallFont:!0,hasTransparentBackground:!0})):n.createElement(g.Yd,{className:z.Kq,focusOnMount:!1,query:ed,clearSearch:()=>eu(""),onChange:eu,recordingKey:"publishingModalSearchBar"}),!ed&&n.createElement("div",{className:z.AL},n.createElement(B.s,{className:z.cB,placeholder:(0,f.t)("design_systems.publishing_modal.description_placeholder"),value:ep,onChange:eq,dir:"auto"}))),n.createElement(et,{itemsToPublish:eS,onLibraryItemRowCheckboxToggle:eF,onTogglePublishAll:ex,setItemsToPublish:eC,onChangeMoveOptionForItem:eU,assetQuery:ed,showVariableCollectionOverview:eE}),!el&&!eo&&eZ>0&&n.createElement(en,{numComponentsToUpsell:eZ,isStarterLibrary:e$,team:eJ}),e0&&n.createElement(K.S,null),e&&n.createElement(Y.U,null),n.createElement(W.Q,{publishingMode:r,publishedHubFile:ez,setAllowOrgAccess:ej,hasItemsToPublish:0!==eS.size,canPublishComponentsAndStateGroups:eo,org:el?es[el]:null,publishProgress:N.publishProgress,numModifiedAssets:e4+e2+e1+e3,hasFirstDraftChanges:eX,hasNewLibraryItems:eQ,closeModal:eP,editingFile:ec,publish:eK,onSwitchToCommunityLibraryMode:()=>{ei(v.oN()),ei(v.us({type:X.type}))}})),ef&&n.createElement("div",{className:z.ek},n.createElement(Z.A,{variableCollection:ef.variableCollection,view:ef.view,drillUp:()=>eE(null)}))))}function et(e){let[t,r]=n.useState(!1),a=()=>{r(!t)},[l,s]=n.useState(!1),c=()=>{s(!l)},[d,u]=n.useState(!1),p=()=>{u(!d)},h=(0,H.Rs)(),g=(0,H.gF)(),E=(0,i.w1)(e=>(0,D.wd)(e,h)),[y,b,v,I,w,T,S,C,A,O,L,R,P,k,x,U]=n.useMemo(()=>[E.variableSets.modified.wellFormed,E.variableSets.modified.erroneous,E.variableSets.unmodified.published,E.variableSets.unmodified.unpublished,E.variableSetsWithHiddenVariables.modified.wellFormed,E.modules.modified.wellFormed,E.modules.modified.erroneous,E.modules.unmodified.published,E.modules.unmodified.unpublished,E.styles.modified.wellFormed,E.styles.unmodified.published,E.styles.unmodified.unpublished,E.productComponents.modified.wellFormed,E.productComponents.modified.erroneous,E.productComponents.unmodified.published,E.productComponents.unmodified.unpublished].map(t=>e.assetQuery?t.filter(t=>t.name.toLocaleLowerCase().trim().includes(e.assetQuery.toLocaleLowerCase())):t),[E.productComponents.modified.erroneous,E.productComponents.modified.wellFormed,E.productComponents.unmodified.published,E.productComponents.unmodified.unpublished,E.modules.modified.wellFormed,E.modules.modified.erroneous,E.modules.unmodified.published,E.modules.unmodified.unpublished,E.styles.modified.wellFormed,E.styles.unmodified.published,E.styles.unmodified.unpublished,E.variableSets.modified.wellFormed,E.variableSets.modified.erroneous,E.variableSets.unmodified.published,E.variableSets.unmodified.unpublished,E.variableSetsWithHiddenVariables.modified.wellFormed,e.assetQuery]),B=n.useMemo(()=>new Set(O.concat(y).concat(P).concat((0,o.oV)("dse_editor_templates_v1",T,[])).map(e=>e.node_id)),[y,P,O,T]),G=(0,i.w1)(D.EN),V=(t,r,i,a)=>{for(let o of t){let t=null==h?void 0:h[o.node_id],l=!1;if(o.type===F.Af.STATE_GROUP){let e=!t||"FORCED_COPY"===t.publishType,r=(G[o.node_id]??[]).some(e=>g.has(e.node_id));l=e&&r}let s=n.createElement(q.S,{key:o.node_id,libraryItem:o,includeLeftAccessory:i,isChecked:e.itemsToPublish.has(o.node_id),onCheckBoxToggle:e.onLibraryItemRowCheckboxToggle,onChangeMoveOptionForItem:e.onChangeMoveOptionForItem,moveInfo:(0,M.K4)(o.status)&&t||null,isUnmovableStateGroupWithMovableState:l,showVariableCollectionOverview:e.showVariableCollectionOverview,isVariableSetWithPrivateVariables:a,hasChangedVariables:y.length>0}),c=a?"-hiddenVariables":"";W(s,`library-item-row-${o.node_id}${c}`,46,r)}},W=(e,t,r,n)=>{let i=_.q.getNextRenderedElementTop(n);n.push({parent:null,type:_.QJ.ROW,top:i,element:e,key:t,height:r,sectionNameForTracking:void 0})},K=(()=>{let r=[],i=y.length+O.length+P.length+(0,o.oV)("dse_editor_templates_v1",T.length,0),s=v.length+L.length+x.length+(0,o.oV)("dse_editor_templates_v1",C.length,0),u=I.length+U.length+R.length+w.length+(0,o.oV)("dse_editor_templates_v1",A.length,0),m=k.length+b.length+(0,o.oV)("dse_editor_templates_v1",S.length,0);m&&(W(n.createElement(j.WN,{header:n.createElement(f.Tx,{id:"design_systems.publishing_modal.invalid_components_with_count",countString:n.createElement(j.AZ,{count:m})}),caretToggle:{isExpanded:d},onClick:p}),"erroneous",32,r),d&&(V(k,r,q.M.TARGET),(0,o.Ub)().dse_editor_templates_v1&&V(S,r),V(b,r)));let _=e.assetQuery?[...e.itemsToPublish].filter(e=>B.has(e)):[...e.itemsToPublish],h=e.assetQuery?[...e.itemsToPublish].filter(e=>!B.has(e)):[],g=_.length;if(i){let t;if(t=g===i||g>0&&g<i&&N.ee,W(n.createElement(j.E$,{header:n.createElement(f.Tx,{id:"design_systems.publishing_modal.changes_header_with_count",countString:n.createElement(j.AZ,{count:g,total:i})}),checkboxValue:t,onClick:()=>{e.assetQuery?i===g?e.setItemsToPublish(new Set(h)):e.setItemsToPublish(new Set([...e.itemsToPublish,...B])):e.onTogglePublishAll()}}),"changed:header",32,r),y.length>0&&W(n.createElement("div",{className:z._s},n.createElement(f.Tx,{id:"design_systems.publishing_modal.variable_collections"})),"variableSet:header",32,r),V(y,r,q.M.CHECKBOX),(0,o.Ub)().dse_templates_proto){let e=P.filter(M.CQ);e.length>0&&(W(n.createElement("div",{className:z._s},n.createElement(f.Tx,{id:"design_systems.publishing_modal.templates"})),"templates:header",32,r),V(e,r,q.M.CHECKBOX))}(0,o.Ub)().dse_editor_templates_v1&&T.length>0&&(W(n.createElement("div",{className:z._s},n.createElement(f.Tx,{id:"design_systems.publishing_modal.templates"})),"templates:header",32,r),V(T,r,q.M.CHECKBOX)),O.length>0&&W(n.createElement("div",{className:z._s},n.createElement(f.Tx,{id:"design_systems.publishing_modal.styles"})),"styles:header",32,r),V(O,r,q.M.CHECKBOX),P.length>0&&W(n.createElement("div",{className:z._s},n.createElement(f.Tx,{id:"design_systems.publishing_modal.components"})),"components:header",32,r),(0,o.Ub)().dse_templates_proto?V(P.filter(e=>!(0,M.CQ)(e)),r,q.M.CHECKBOX):V(P,r,q.M.CHECKBOX)}return s&&(W(n.createElement(j.WN,{header:n.createElement(f.Tx,{id:"design_systems.publishing_modal.unchanged_header_with_count",countString:n.createElement(j.AZ,{count:s})}),caretToggle:{isExpanded:t},onClick:a}),"unchanged:header",32,r),t&&(V(v,r),V(L,r),V(x,r),(0,o.Ub)().dse_editor_templates_v1&&V(C,r))),u&&(W(n.createElement(j.WN,{header:n.createElement(f.Tx,{id:"design_systems.publishing_modal.hidden_header_with_count",countString:n.createElement(j.AZ,{count:u})}),caretToggle:{isExpanded:l},onClick:c}),"private:header",32,r),l&&(W(n.createElement("div",{className:z.yG},n.createElement(f.Tx,{id:"design_systems.publishing_modal.these_wont_be_published"})),"private:subheader",22,r),V(I,r),V(w,r,void 0,!0),V(R,r),V(U,r),(0,o.Ub)().dse_editor_templates_v1&&V(A,r))),r})();return n.createElement(m.U,{scrollContent:K,isList:!0,recordingKey:"publishingModalLibraryList",getViewportHeight:e=>e-200,width:480,className:z.yR,renderEmptyState:!K.length&&e.assetQuery?()=>n.createElement(er,{assetQuery:e.assetQuery}):void 0})}function er({assetQuery:e}){return n.createElement("div",{className:z.cj},n.createElement(f.Tx,{id:"design_systems.publishing_modal.empty_search_result",assetQuery:e}))}function en({numComponentsToUpsell:e,isStarterLibrary:t,team:r}){let i=r?n.createElement("a",{className:z.AF,target:"_blank",rel:"noopener",href:`/files/upgrade-team/${r.id}`},n.createElement(f.Tx,{id:"design_systems.publishing_modal.upgrade_team"})):n.createElement("a",{className:z.AF,target:"_blank",rel:"noopener",href:"/files/create-team"},n.createElement(f.Tx,{id:"design_systems.publishing_modal.create_a_professional_team"})),a=t?n.createElement(f.Tx,{id:"design_systems.publishing_modal.starter_library_upsell",numComponents:e}):n.createElement(f.Tx,{id:"design_systems.publishing_modal.standard_upsell",numComponents:e,teamUpsellLink:i});return n.createElement("div",{className:z.qi,"data-testid":"libraryPublishModalUpsell"},a)}},725380:(e,t,r)=>{"use strict";let n;r.d(t,{Up:()=>d,cV:()=>c,yQ:()=>u});var i=r(307824),a=r(916924),o=r(560072),l=r(323576),s=r(790184);function c(e){switch(e){case s.Av.CHANGED:return i.createElement(o.Tx,{id:"design_systems.publishing_modal.modified"});case s.Av.CURRENT:return i.createElement(o.Tx,{id:"design_systems.publishing_modal.no_changes"});case s.Av.DELETED:return i.createElement(o.Tx,{id:"design_systems.publishing_modal.removed"});case s.Av.NEW:return i.createElement(o.Tx,{id:"design_systems.publishing_modal.added"});case s.Av.NOT_STAGED:return"";default:(0,a.gy)(e)}}function d(e,t){return l.A5({type:{type:"PublishingModal"},data:{initiallyCheckedItemIDs:e,timedOut:t}})}var u=((n=u||{}).ASSET_PANEL_LIBRARY_CONTEXT_MENU="asset_panel_library_context_menu",n.COMPONENT_PUBLISH_ERROR_NOTIFICATION="component_publish_error_notification",n.FILENAME_VIEW_DROPDOWN="filename_view_dropdown",n.FULLSCREEN_MOVE_COMPONENTS_PROMPT="fullscreen_move_components_prompt",n.FULLSCREEN_OTHER="fullscreen_other",n.LIBRARY_PREFERENCES_MODAL="library_preferences_modal",n.PROPERTIES_PANEL="properties_panel",n.PUBLISH_UPSELL_MODAL="publish_upsell_modal",n.UNPUBLISHED_PREFERRED_VALUES_WARNING="unpublished_preferred_values_warning",n.TEST="test",n)},102628:(e,t,r)=>{"use strict";r.d(t,{C_:()=>m,GS:()=>h,Q1:()=>d,U3:()=>g,YN:()=>w,a:()=>function e(t,r){t.styles.forEach(e=>{v(e,r)}),t.subfolders.forEach(t=>{e(t,r)})},aA:()=>b,aK:()=>I,e:()=>c,ii:()=>E,mY:()=>s,mq:()=>v,qw:()=>p,sd:()=>f,w5:()=>u,y4:()=>y});var n=r(250008),i=r(916924),a=r(762820),o=r(783932),l=r(790184);function s(e,t){let r={name:"",type:"STYLE_FOLDER",level:0,styles:[],subfolders:[],styleTypeSection:t};return e.forEach(e=>{let n=r,i=(0,o.QZ)(e.name);i.pop(),i.forEach(e=>{let r=n.name?n.name+"/"+e:e,i=n.subfolders.find(e=>e.name===r);if(!i){let e={name:r,type:"STYLE_FOLDER",level:n.level+1,styles:[],subfolders:[],styleTypeSection:t};n.subfolders.push(e),i=e}n=i}),n.styles.push(e)}),r}function c(e){if(!e.length)return[];let t=s(e,e[0].style_type),r=[],n=e=>{e.styles.length>0&&r.push(e.name),e.subfolders.forEach(n)};return n(t),r}function d(e){let t=[...e.subfolders].reverse(),r=[...e.styles];for(;t.length>0;){let e=t.pop();e&&(r.push(e),r.push(...e.styles),t.push(...[...e.subfolders].reverse()))}return r}function u(e){return"STYLE_FOLDER"===e.type?e.name:e.node_id}function p(e){return e.split("/").filter(e=>e).map(e=>e.trim()).join("/")}function m(e,t){let r=t[e];if("STYLE_FOLDER"!==r.type)return[];let n=[];for(let[i,a]of t.slice(e+1).entries()){if("STYLE_FOLDER"===a.type&&a.level<=r.level)break;n.push(e+1+i)}return n}function _(e){return"STYLE_FOLDER"===e.type?e.name:(0,o.Mv)(e.name)}function h(e){return d(e).filter(e=>e.type===l.Af.STYLE)}function g(e){return d(e).filter(e=>"STYLE_FOLDER"===e.type)}function f(e){let t=[];return e.forEach(e=>{"STYLE_FOLDER"===e.type?t.push(...h(e)):t.push(e)}),t}function E(e,t){let r=y(e,t),n=[];return r.forEach(e=>{let r=t[e];r&&n.push(r)}),n}function y(e,t){let r=[],n=t.map(e=>e.type===l.Af.STYLE?e.node_id:null),i=t.map(e=>"STYLE_FOLDER"===e.type?e.name:null);return e.styleIds.forEach(e=>{let t=n.indexOf(e);-1!==t&&r.push(t)}),e.folderNames.forEach(e=>{let t=i.indexOf(e);-1!==t&&r.push(t)}),r.sort((e,t)=>e-t),r}function b(e){return e.type===l.Af.STYLE?(0,o.QZ)(e.name).length:e.level}function v(e,t){e.file_key===t&&(a.i46.deleteNode(e.node_id),(0,n.we)("Style Deleted",{styleType:e.style_type,from:"styleListContextMenu"}))}function I(e,t,r,n){if(!e&&!r||!t)return!1;let i=!n&&""!==n||"STYLE_FOLDER"===t.type&&r===t&&(null==e?void 0:e.type)===l.Af.STYLE&&b(e)>b(r)&&n!==(0,o.Mv)(t.name);return!(e===t||r===t&&(t.type===l.Af.STYLE||!i)||"STYLE_FOLDER"===t.type&&((null==e?void 0:e.type)===l.Af.STYLE&&(null==r?void 0:r.type)===l.Af.STYLE||(null==e?void 0:e.type)==="STYLE_FOLDER"&&(null==r?void 0:r.type)===l.Af.STYLE||e&&(_(e)+"/").startsWith(t.name+"/")||r&&(_(r)+"/").startsWith(t.name+"/")&&!i))}function w(e,t,r,n,c,u,p){if(e.forEach(e=>{(function(e,t){let r=e.filter(e=>e.type===l.Af.STYLE).map(e=>e.node_id),n=[];t.forEach(e=>{r.indexOf(e.node_id)>-1&&n.push(e)});let i=e[0],a=d(s(n,i.type===l.Af.STYLE?i.style_type:i.styleTypeSection)).filter(e=>e.type===l.Af.STYLE);for(let e=0;e<r.length;e++)if(r[e]!==a[e].node_id)return!0;return!1})(c=function(e,t){let r=new Set,n=new Set;for(let t of e)(t.type===l.Af.STYLE?[t]:(function e(t){let r=[];return t.styles.forEach(e=>{r.push(e)}),t.subfolders.forEach(t=>{r.push(t),r.push(...e(t))}),r})(t).concat([t])).forEach(e=>e.type===l.Af.STYLE?n.add(e.node_id):r.add(e.name));return t.filter(e=>"STYLE_FOLDER"===e.type?!r.has(e.name):!n.has(e.node_id))}([e],c),u)&&(u=T(e,c,u))}),!c)return;let m=new Set(e.map(e=>"STYLE_FOLDER"===e.type||p?function(e,t,r,n){if(!e)return n.some(e=>e.type===l.Af.STYLE&&""===(0,o.Mv)(e.name))?null:-1;if(!t)return r.length-1;let a=r.map(e=>e.node_id);if(e.type===l.Af.STYLE&&t.type===l.Af.STYLE||"STYLE_FOLDER"===e.type&&t.type===l.Af.STYLE)return null;if(e.type===l.Af.STYLE&&"STYLE_FOLDER"===t.type&&b(e)===b(t)){let r=a.indexOf(e.node_id),i=function(e,t){let r=h(e),n=new Set(t.filter(e=>e.type===l.Af.STYLE).map(e=>e.node_id)),i=r[0];return r.forEach(e=>{e.sort_position&&i.sort_position&&e.sort_position<i.sort_position&&n.has(e.node_id)&&(i=e)}),i}(t,n),o=a.indexOf(i.node_id);return r<o?r:o-1}{let o=n.indexOf(t);if(-1!==o){let e=n.slice(o,n.length).find(e=>e.type===l.Af.STYLE);if(!e)return r.length-1;let t=a.indexOf(e.node_id);return(0,i.kz)(-1!==t,"style to insert before does not exist in the stored list"),t-1}{let t=n.indexOf(e),o=n.slice(t+1).reverse().find(e=>e.type===l.Af.STYLE);if(!o)return r.length-1;let s=a.indexOf(o.node_id);return(0,i.kz)(-1!==s,"style to insert after does not exist in the stored list"),s}}}(t,r,u,c):function(e,t,r,n){if(!e)return -1;if(!t)return r.length-1;let a=r.map(e=>e.node_id);if(e.type===l.Af.STYLE&&"STYLE_FOLDER"===t.type)return a.indexOf(e.node_id);{let e=n.indexOf(t),o=n.slice(e,n.length).find(e=>e.type===l.Af.STYLE);if(!o)return r.length-1;let s=a.indexOf(o.node_id);return(0,i.kz)(-1!==s,"style to insert before does not exist in the stored list"),s-1}}(t,r,u,c)));if(m.size>1||m.has(null))return;let _=m.values().next().value,g=u[_],f=u[_+1],E=new Map,y=g;for(let t of e){let e=t=>{t.type===l.Af.STYLE?(a.i46.insertStyleBetween(t.node_id,(null==y?void 0:y.node_id)||"",(null==f?void 0:f.node_id)||""),y=t):(t.styles.forEach(t=>{e(t)}),t.subfolders.forEach(t=>{e(t)}))};e(t);let r=""===n?[]:n.split("/"),i=[...r,(0,o.G4)(t.name)];if(i.join("/")!==t.name){let e=(t,r)=>{if(t.type===l.Af.STYLE){let e=[...r,(0,o.G4)(t.name)].join("/");E.set(t.node_id,e),a.i46.renameNode(t.node_id,e)}else E.set(t.name,r.join("/")),t.styles.forEach(t=>{e(t,r)}),t.subfolders.forEach(t=>{let n=[...r,(0,o.G4)(t.name)];e(t,n)})};e(t,"STYLE_FOLDER"===t.type?i:r)}else E.set("STYLE_FOLDER"===t.type?t.name:t.node_id,t.name)}return E}let T=(e,t,r)=>{let n=(0,o.QZ)(e.name);e.type===l.Af.STYLE&&n.pop();let i=t.filter(e=>e.type===l.Af.STYLE),s=[];for(;n.length;){let e=n.join("/");if(0===(s=i.filter(t=>(0,o.Mv)(t.name).startsWith(e))).length)n.pop();else break}if(s.length){let t,n=s[0];s.forEach(e=>{null!=e.sort_position&&null!=n.sort_position&&e.sort_position<n.sort_position&&(n=e)}),t=e.type===l.Af.STYLE?e:h(e)[0];let i=r.indexOf(t),o=r[i-1],c=r[i+1];a.i46.insertStyleBetween(n.node_id,(null==o?void 0:o.node_id)||"",(null==c?void 0:c.node_id)||"");let d=[...r];return d.splice(d.indexOf(n),1),d.splice(d.indexOf(o)+1,0,n),d}return r}},911192:(e,t,r)=>{"use strict";r.d(t,{SI:()=>R});var n=r(307824),i=r(120304),a=r(843148),o=r(506616),l=r(105516),s=r(148276),c=r(703520),d=r(560072),u=r(323576),p=r(144459),m=r(441388),_=r(439460),h=r(202613),g=r(596496),f=r(514916),E=r(472956),y=r(815464),b=r(291336),v=r(553432),I=r(841676),w=r(112044),T=r(203736),S=r(158196),C=r(725380),A=r(694752),O=r(269160),N=r(494220),L=r(526988);let R="publish-components-upsell";function P(e){let{modalShown:t,openFile:r,permissionsState:l,repo:s,selectedView:d}=e,p=(0,i.OY)(),m=(0,i.w1)(e=>e.currentUserOrgId),_=()=>{p(u.A5({type:N.Ih,data:{entrypoint:C.yQ.PUBLISH_UPSELL_MODAL}}))},T=(0,o.Qb)(E.KYq,{orgId:m}),O=t.data.team,L=!!(0,a.Ub)().ps_benchmark,R=L&&(0,y.So)(O);if(O&&(0,v.canEditTeam)(O.id,l)&&!R)return n.createElement(A.Sc,{team:O,resource:I.We.TEAM_LIBRARY,action:w.Oe.PUBLISH_COMPONENTS,editorType:f.aE.DESIGN,onStarterPlanCtaClick:_,currentPlan:h.O.Plan.STARTER,upsellPlan:h.O.Plan.PRO,onBillingCompleteRedirectInfo:{fileKey:r.key,nodeId:"fullscreen"===d.view&&d.nodeId||""}});if("loaded"!==T.status)return n.createElement(S.wJ,{size:"small",height:176,dispatch:p},n.createElement(c.WA,null));{let t=!1;for(let e of T.data.currentUser.teamEditRoles){let n=e.team;n&&(0,b.cL)(n,r.editorType)&&!(0,b.uE)(n)&&!n.deletedAt&&(t=!0)}let i=!!m,a=L&&(0,g.Kc)(r.project);return t||i||a?n.createElement(k,{isFileInTeamWithProFeatures:R,isFileInOrg:i,modalShown:e.modalShown,openFile:r,repo:s,onStylesClick:_,dispatch:p}):"fullscreen"===d.view?n.createElement(A.Sc,{team:O,resource:I.We.TEAM_LIBRARY,action:w.Oe.PUBLISH_COMPONENTS,editorType:f.aE.DESIGN,onStarterPlanCtaClick:_,currentPlan:h.O.Plan.STARTER,upsellPlan:h.O.Plan.PRO,onBillingCompleteRedirectInfo:{fileKey:r.key,nodeId:d.nodeId||""}}):n.createElement(F,{onStylesClick:_,dispatch:p})}}(0,T.Ko)(R,e=>{let t=e.openFile;if(null==t)return n.createElement(n.Fragment,null);let r=(0,_.uO)(t,e.repos);return n.createElement(P,{openFile:t,repo:r,modalShown:e.modalShown,permissionsState:(0,v.getPermissionsState)(e),selectedView:e.selectedView})});class M extends n.PureComponent{constructor(){super(...arguments),this.closeModal=()=>{this.props.dispatch(u.oN())},this.renderFileMoveModal=()=>{let e=this.props.modalShown.data;(0,O.a)({key:this.props.openFile.key,name:this.props.openFile.name,folder_id:this.props.openFile.folderId,team_id:this.props.openFile.teamId,editor_type:this.props.openFile.editorType,parent_org_id:this.props.openFile.parentOrgId},this.props.repo,this.props.dispatch,{handlesVisualBell:!1,callback:e.afterFileMove},{isPublishing:!0})}}render(){let e=n.createElement(d.Tx,{id:"upsell.move_file_publish.move_file_to_team_to_publish"}),t=n.createElement(d.Tx,{id:"upsell.move_file_publish.move_file_to_pro_team_to_publish"}),r=n.createElement(d.Tx,{id:"upsell.move_file_publish.move_file_to_project_to_publish"}),i=(0,d.t)("upsell.move_file_publish.move_to_team_to_publish_library_assets"),a=(0,d.t)("upsell.move_file_publish.move_to_project_to_publish_library_assets"),o=t;this.props.isFileInOrg?o=e:this.props.isFileInTeamWithProFeatures&&(o=r);let c=this.props.isFileInTeamWithProFeatures?n.createElement(d.Tx,{id:"upsell.move_file_publish.move_to_project"}):n.createElement(d.Tx,{id:"upsell.move_file_publish.move_to_team"});return n.createElement(S.wJ,{title:this.props.isFileInTeamWithProFeatures?a:i,size:"small",dispatch:this.props.dispatch},n.createElement(l.cT,{...this.props}),o,n.createElement("div",{className:L.yi},n.createElement("div",{className:L.qo},n.createElement(s.Sm,{onClick:this.closeModal,trackingProperties:{trackingDescriptor:p.O.CANCEL}},n.createElement(d.Tx,{id:"upsell.shared.cancel"})),n.createElement(s.G0,{href:"#",className:L.I8,onClick:this.renderFileMoveModal},c))))}}M.displayName="MoveFilePublishUpsell";let k=(0,m.qu)(M),D=class extends n.PureComponent{constructor(){super(...arguments),this.closeModal=()=>{this.props.dispatch(u.oN())}}render(){let e=(0,d.t)("upsell.create_team_publish.create_a_team_to_publish_library_assets"),t=n.createElement(d.Tx,{id:"upsell.create_team_publish.only_pro_teams_can_publish"});return n.createElement(m.kH,{name:D.displayName},n.createElement(S.wJ,{title:e,size:"small",dispatch:this.props.dispatch},n.createElement(l.cT,{...this.props}),t,n.createElement("div",{className:L.yi},n.createElement("div",{className:L.qo},n.createElement(s.Sm,{onClick:this.closeModal,trackingProperties:{trackingDescriptor:p.O.CANCEL}},n.createElement(d.Tx,{id:"upsell.shared.cancel"})),n.createElement(s.G0,{href:"/files/create-team",target:"_blank",className:L.I8,onClick:this.closeModal},n.createElement(d.Tx,{id:"upsell.shared.create_a_team"}))))))}},F=D;F.displayName="CreateTeamPublishUpsell"},489796:(e,t,r)=>{"use strict";r.d(t,{oT:()=>f,kp:()=>E});var n=r(307824),i=r(770340),a=r(819584);r(843148);var o=r(372152),l=r(623131),s=r(425396),c=r(392992),d=r(154328),u=r(291724),p=r(139776),m=r(957044),_=r(472956);let h=(0,o.KU)(e=>(0,m.EJ)({fileKey:e})),g=(0,o.KU)(e=>(0,l.Zf)(t=>{let r={};for(let n of e)r[n]=t((0,_.PQK)({fileKey:n}));return r}),p.MF);function f(){let e=(0,u.aQ)();return function(e){let t=(0,n.useMemo)(()=>g(e),[e]),r=(0,o.m4)(t);return(0,a.K0)(()=>{let e=s.YF.all(Object.values(r));return"loaded"!==e.status?e.transform(()=>({})):s.YF.loaded(Object.fromEntries(Object.entries(r).map(([e,t])=>[e,y(t)])))},[r])}((0,a.K0)(()=>{var t;return(null==(t=e.data)?void 0:t.map(e=>e.fileKey))??[]},[e.data]))}function E(){let e=(0,c.K0)(),t=(0,n.useMemo)(()=>e?h(e):(0,l.Zf)(null),[e]),r=(0,o.m4)(t);return(0,n.useMemo)(()=>y(null!=r?s.YF.from(r):void 0),[r])}function y(e){var t;if((null==e?void 0:e.status)!=="loaded")return[];let r=e.data.file;if((null==r?void 0:r.status)!==i.j5.Loaded)return[];let n=r.data;return(null==(t=null==n?void 0:n.modules)?void 0:t.status)!==i.j5.Loaded?[]:n.modules.data.map(e=>(0,d.iQ)(e,n))}},402080:(e,t,r)=>{"use strict";r.d(t,{s:()=>d});var n=r(307824),i=r(602216),a=r(120304),o=r(418084),l=r(403132),s=r(740718),c=r(108688);function d(e){let t=(0,a.OY)(),r=n.useMemo(()=>e||(0,o.c)(),[e]),d=(0,a.w1)(e=>{var t;return(null==(t=e.dropdownShown)?void 0:t.type)===r}),u=n.useMemo(()=>document.createElement("div"),[]);n.useEffect(()=>(document.body.appendChild(u),()=>{document.body.removeChild(u)}),[u]);let p=n.useRef(null),m=i.findDOMNode(p.current),_=(null==m?void 0:m.getBoundingClientRect())||null,h=e=>{e.callback&&e.callback("",null,t)};return{toggleDropdown:()=>{d?t(l.yi()):t(l.Qn({type:r}))},dropdownTargetRef:p,Dropdown:function(e){let r=(0,s.UB)(e);return n.createElement(n.Fragment,null,d&&_&&i.createPortal(n.createElement(c.I,{parentRect:_,dispatch:t,onSelectItem:h,...e,...r}),u))},isDropdownShown:d}}},849524:(e,t,r)=>{"use strict";let n,i,a;r.d(t,{Yl:()=>ei,iA:()=>K,sH:()=>eo});var o=r(307824),l=r(120304),s=r(515724),c=r(125504),d=r.n(c),u=r(111908),p=r(628164),m=r(250008),_=r(288136),h=r(916924),g=r(733960),f=r(843148),E=r(372152),y=r(888932),b=r(929452),v=r(440900),I=r(180976),w=r(830300),T=r(560072),S=r(431844),C=r(762820),A=r(679804),O=r(397888),N=r(392992),L=r(453496),R=r(698484),P=r(306440),M=r(882784),k=r(718128),D=r(705595),F=r(682076),x=r(741800),U=r(454292),B=r(528324),G=r(37948),V=r(258944),H=r(755368),W=r(241884);let K=5;var Y=((n=Y||{})[n.Default=0]="Default",n[n.Mobile=1]="Mobile",n[n.Prototype=2]="Prototype",n);let q=(e,t)=>{let r=(0,A.qE)(),n=(0,I.Et)(),i=(0,O.uc)("showUi"),a=function({isUI3:e,prototypeHeaderHidden:t,showUi:r,style:n,toolbarHeight:i}){if(e)return 0;switch(n){case 0:case 1:return r?i:0;case 2:return t?0:i;default:(0,h.gy)(n)}}({isUI3:"ui3"===(0,s.qG)().version,prototypeHeaderHidden:t,showUi:i,style:e,toolbarHeight:n});return o.useMemo(()=>({left:r.x,top:a,width:r.width}),[r,a])},j=e=>{let t;let r=(0,A.qE)(),n=r.y;switch(e){case 1:t=4;break;case 2:t=n;break;case 0:t=2*K}return o.useMemo(()=>({left:r.x,top:n,width:r.width-(0===e?2*K:0),height:r.height-t}),[r,e,n,t])},$=(e,t)=>{let r;let n=j(t),i=0;switch(t){case 0:r={borderWidth:K},i=K;break;case 1:r={borderTopWidth:4},i=4;break;case 2:r={}}return o.useMemo(()=>({style:{...n,...r,"--multiplayerBorderColor":e,borderStyle:"solid","--multiplayerBorderWidth":`${i}px`},borderInfo:{width:i,color:e}}),[e,n,r,i])};function Z(e){let{children:t,prototypeHeaderHidden:r}=e,n=(0,P.Aj)(),i=0;"prototype"===n?i=2:y.CU&&(i=1);let a=q(i,r||!1),l=2===i?W.G6:void 0,s=2===i&&r?W.Ou:void 0;return o.createElement("div",{className:d()(W.Cs,l,s),style:a},t)}function z(){let{style:e,borderInfo:t}=o.useContext(V.s);return e={...e,borderColor:t.color},o.createElement("div",{"data-testid":"viewport-frame",className:d()(W.MP),style:e})}function Q(){let{style:e,borderInfo:t}=o.useContext(V.s);return e={...e,color:"brand"===t.color?"var(--color-bg-brand)":t.color,"--borderColorTransitionDurationSeconds":`${H.eQ}s`},o.createElement("div",{className:W.MP,style:e})}function X(e){let{children:t,colorOverride:r,overlayStatus:n}=e,i=(0,L.gR)(),a=(0,L.an)(),l=(0,L.sr)(),s=(0,P.Aj)(),c=0;"prototype"===s?c=2:y.CU&&(c=1);let d=$((()=>{if(r)return r;if(!n)return a&&(null==l?void 0:l.sessionID)===(null==a?void 0:a.sessionID)?(null==l?void 0:l.color)??"transparent":(null==i?void 0:i.color)??"transparent";{let{self:e,others:t}=n;return"none"!==e?"brand":"following"===t&&"none"===e?(null==i?void 0:i.color)??"transparent":"transparent"}})(),c);return o.createElement(V.s.Provider,{value:d},t)}var J=((i=J||{}).PRESENTING="presenting",i.PROMPT_TO_ACCEPT_NOMINATION="prompt_to_accept_nomination",i.SHOWING_EXPLAINER="showing_explainer",i.NONE="none",i),ee=((a=ee||{}).PENDING_AUTO_FOLLOW="pending_auto_follow",a.FOLLOWING="following",a.PROMPT_TO_REJOIN="prompt_to_rejoin",a.NONE="none",a);function et(){return"prototype"!==(0,P.Aj)()}function er(e,t,r,n){let i=(0,g.i)(e),a=(0,g.i)(t),l=o.useRef(performance.now());return o.useEffect(()=>{if("presenting"===e){let e=_.sr.tryStop("start_spotlight");e&&((0,m.we)("start_spotlight",{elapsedMs:e},{forwardToDatadog:!0}),(0,f.Ub)().workspace_activity_write&&r&&r.team&&r.team.workspaceId&&k.W.recordActivity({activityUnitType:M.cv.FILE_COLLABORATION,fileKey:r.key,collaborationType:M.kb.SPOTLIGHT_STARTED,numPeopleInFile:n.current}))}else if("pending_auto_follow"===t){let e=_.sr.tryStop("join_spotlight");e&&(0,m.we)("join_spotlight",{elapsedMs:e},{forwardToDatadog:!0})}else if("following"===t){let e=_.sr.tryStop("start_following");e&&(0,m.we)("start_following",{elapsedMs:e},{forwardToDatadog:!0})}},[e,t,r,n]),(e!==i||t!==a)&&(l.current=performance.now()),{statusChangedAt:l.current}}function en(e){let{multiplayer:t,prototypeHeaderHidden:r}=e,n=(0,L.sr)(),i=(0,L.an)(),a=(0,L.gR)(),l=(0,L.Wl)(),s=(0,N.AL)(),c=(0,R.u)(),d=(0,b.qK)(),m=(0,b.E1)(),_=(0,b.iK)(),[g,f]=o.useState(!1);o.useEffect(()=>{f(!1)},[null==i?void 0:i.sessionID]),o.useEffect(()=>{(null==a?void 0:a.sessionID)===(null==i?void 0:i.sessionID)&&f(!1)},[null==a?void 0:a.sessionID,null==i?void 0:i.sessionID]);let{isAutoFollowPending:y,cancelAutoFollowCallback:I,completeAutoFollowCallback:A,observeCurrentPresenter:O,autoFollowType:M,autoFollowDelayMs:k}=(0,L.gX)(e),{isWaitingForFirstFollower:D,stopPresenting:F}=function(e){let[t,r]=o.useState(!1),n=e.followerCount,[i,a]=(0,E.lZ)(v.Wg);0===n||t||r(!0);let l=(0,b.C0)(e)||i;(0,b.C0)(e)&&i&&a(!1),!l&&t&&r(!1);let s=l&&0===n&&!t,c=(0,R.u)(),d=(0,P.Aj)(),u=o.useCallback(()=>{var e;c(R.Y.STOP),"prototype"===d?null==(e=(0,w._u)())||e.stopPresenting():C.Abq.stopPresenting()},[c,d]),p=o.useCallback(()=>!!s&&(u(),!0),[u,s]);return(0,S.yo)(p,S.W6.MULTIPLAYER_SPOTLIGHT),{isWaitingForFirstFollower:s,stopPresenting:u}}(t),x=function(e){let{multiplayer:t,showingExplainer:r,isPendingPresenting:n}=e;return(0,b.C0)(t)||n?"presenting":r?"showing_explainer":(0,b.qG)(t)?"prompt_to_accept_nomination":"none"}({multiplayer:t,showingExplainer:(0,E.m4)(v.U$),isPendingPresenting:(0,E.m4)(v.Wg)}),U=function(e){let{multiplayer:t,isAutoFollowPending:r,presenterUser:n,suppressRejoinPrompt:i}=e;return r?"pending_auto_follow":(0,b.Qj)(t)?"following":n&&!i?"prompt_to_rejoin":"none"}({multiplayer:t,isAutoFollowPending:y,presenterUser:i,suppressRejoinPrompt:g}),V=o.useRef(t.allUsers.length);V.current=t.allUsers.length;let{statusChangedAt:W}=er(x,U,s,V),[K,Y]=function(e,t){switch(e){case"presenting":if("following"===t||"prompt_to_rejoin"===t)return[e,"none"];return[e,t];case"prompt_to_accept_nomination":if("pending_auto_follow"===t)return["none",t];return[e,"none"];case"showing_explainer":case"none":return[e,t];default:(0,h.gy)(e)}}(x,U),q=o.useCallback(()=>{f(!0),I(),c(R.Y.IGNORE)},[I,c]),j=M===L.SW.INITIAL,$=o.useCallback(()=>"pending_auto_follow"===Y&&!!y&&M===L.SW.INITIAL&&(I(),!0),[M,I,y,Y]);(0,S.yo)($,S.W6.MULTIPLAYER_SPOTLIGHT);let z=et(),J="showing_explainer"===K,ee="none"!==K,en="none"!==Y,ei=["presenting","prompt_to_accept_nomination","showing_explainer"].includes(K)||["following"].includes(Y),[ea,eo]=(0,E.lZ)(v.Rn);return ei!==ea&&eo(ei),o.createElement(X,{overlayStatus:{self:K,others:Y}},o.createElement(u.I,null,ei&&o.createElement(p.q.span,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{ease:"easeIn",duration:H.eQ}},o.createElement(Q,null))),o.createElement(u.I,null,ee&&o.createElement(p.q.span,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{ease:"easeIn",duration:H.eQ}},o.createElement(Z,{prototypeHeaderHidden:r},(()=>{switch(K){case"presenting":if(null===n)return null;if(D){let e=o.createElement(T.Tx,{id:"collaboration.spotlight.bell.presenter.waiting_for_followers"}),t=(0,T.t)("collaboration.spotlight.bell.presenter.cancel");return o.createElement(G.E,{color:"brand",message:{text:e},renderKey:`${n.sessionID}`,progressBar:!0,progressBarDurationMs:6e3,autoHide:!1,button:{text:t,onClick:F}})}return o.createElement(G.E,{color:"brand",message:{text:o.createElement(B.u,{count:t.followerCount})},renderKey:`${n.sessionID}`,progressBar:!1,progressBarDurationMs:0,autoHide:!1,button:{text:(0,T.t)("collaboration.spotlight.bell.presenter.stop"),onClick:F},docked:z});case"prompt_to_accept_nomination":if(!n||!l)return null;return o.createElement(G.E,{color:"brand",useSecondaryColor:!0,message:{text:o.createElement(T.Tx,{id:"collaboration.spotlight.bell.follower.nominated",nominatorName:l.name})},renderKey:`${n.sessionID}`,progressBar:!1,progressBarDurationMs:0,autoHide:!1,button:{text:(0,T.t)("collaboration.spotlight.tooltip.spotlight_me"),onClick:()=>{d(t)}},showCloseButton:!0,onCloseCallback:()=>{m(n.sessionID,t)}});case"showing_explainer":if(null===n)return null;let e=i?o.createElement(T.Tx,{id:"collaboration.spotlight.bell.explainer.takeover",currentPresenter:null==i?void 0:i.name}):o.createElement(T.Tx,{id:"collaboration.spotlight.bell.explainer"});return o.createElement(G.E,{color:"brand",useSecondaryColor:!0,message:{text:e},renderKey:`${t.sessionID}`,autoHide:!1,progressBar:!1,progressBarDurationMs:0,button:null,docked:!1});case"none":return null;default:(0,h.gy)(K)}})()))),o.createElement(u.I,null,en&&o.createElement(p.q.span,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{ease:"easeIn",duration:H.eQ}},o.createElement(Z,{prototypeHeaderHidden:r},(()=>{switch(Y){case"pending_auto_follow":{if(!i)return null;let e=i.name,t=j?{text:o.createElement(T.Tx,{id:"collaboration.spotlight.bell.follower.spotlighting_presenter_alternate_copy",presenterName:e}),onClick:A}:{text:o.createElement(T.Tx,{id:"collaboration.spotlight.bell.follower.switching_to_new_presenter",presenterName:e})},r=j?{text:(0,T.t)("collaboration.spotlight.bell.follower.not_now"),onClick:q}:null;return o.createElement(G.E,{color:null==i?void 0:i.color,message:t,renderKey:`${i.sessionID}`,progressBar:j,progressBarDurationMs:k||0,autoHide:!1,button:r,ghost:J})}case"following":{let e=t.observingSessionID===t.presenterSessionID;if(null===a)return null;let r=(null==a?void 0:a.name)||"",n=e?o.createElement(T.Tx,{id:"collaboration.spotlight.bell.follower.spotlight_on_presenter",observedUserName:r}):o.createElement(T.Tx,{id:"collaboration.spotlight.bell.follower.following_non_presenter",observedUserName:r}),i={text:e?(0,T.t)("collaboration.spotlight.bell.stop_following"):(0,T.t)("collaboration.spotlight.bell.stop"),onClick:()=>_(t)};return o.createElement(G.E,{color:null==a?void 0:a.color,message:{text:n},renderKey:`${t.observingSessionID}`,autoHide:!0,progressBar:!1,progressBarDurationMs:0,button:i,docked:z,ghost:J})}case"prompt_to_rejoin":let e=()=>(0,b.g5)(O,t,"Spotlight Rejoined",W);if(null!==a||null===i)return null;let r=o.createElement(T.Tx,{id:"collaboration.spotlight.bell.follower.reprompt_spotlight_on_presenter",presenterUserName:i.name}),n=(0,T.t)("collaboration.spotlight.bell.follower.follow");return o.createElement(G.E,{color:null==i?void 0:i.color,message:{text:r,onClick:e},renderKey:`${i.sessionID}`,autoHide:!1,progressBar:!1,progressBarDurationMs:0,button:{text:n,onClick:e},showCloseButton:!0,onCloseCallback:()=>(0,b.g5)(()=>f(!0),t,"Spotlight Rejoin Dismissed",W),useSecondaryColor:!0,ghost:J});case"none":return null;default:(0,h.gy)(Y)}})()))))}function ei(e){let{prototypeHeaderHidden:t}=e,r=(0,l.w1)(({multiplayer:e})=>e),n=(0,L.O_)(),i=(0,L.sL)(),a=-1!==r.observingSessionID;return((0,L.i4)({multiplayer:r}),(0,L.QP)({multiplayer:r}),i)?null:n?o.createElement(en,{multiplayer:r,prototypeHeaderHidden:t}):a?o.createElement(ea,{prototypeHeaderHidden:t}):null}function ea(e){let{prototypeHeaderHidden:t}=e,r=(0,L.gR)(),n=(0,N.AL)(),i=(0,l.w1)(e=>e.multiplayer.allUsers.length),a=o.useRef(i);a.current=i,er("none","following",n,a);let s=`${null==r?void 0:r.sessionID}`,c=o.useMemo(()=>{let e=(null==r?void 0:r.name)||"";return{text:o.createElement(T.Tx,{id:"collaboration.spotlight.bell.follower.following_non_presenter",observedUserName:e})}},[r]),d=et();return null===r?null:o.createElement(X,null,o.createElement(z,null),o.createElement(Z,{prototypeHeaderHidden:t},o.createElement(G.E,{color:null==r?void 0:r.color,message:c,renderKey:s,autoHide:!0,progressBar:!1,progressBarDurationMs:0,button:null,docked:d})))}function eo(){let e=(0,E.m4)(D.K6)===F.cj.PLAYING,t=(0,E.m4)(D.S_);if(!e)return null;switch(t){case F.my.CANVAS:return o.createElement(X,{colorOverride:x.aW},o.createElement(z,null));case F.my.PROPERTIES_PANEL:return o.createElement(el,null);default:return null}}function el(){let e=j(0),t=U.OG-2*K;return o.createElement("div",{"data-testid":"cursor-bot-properties-panel-frame",className:W.MP,style:{border:`${K}px solid ${x.aW}`,width:`${t}px`,height:e.height,top:e.top,right:0}})}},932060:(e,t,r)=>{"use strict";r.d(t,{E9:()=>m,Ky:()=>d,o0:()=>s});var n=r(307824),i=r(843148),a=r(372152),o=r(901676),l=r(762820);let s={id:"0",trailEnabled:!1},c="aprilFunCursor";function d(){n.useEffect(()=>{var e;if(!(0,i.Ub)().april_fun_2024)return;let t=null==(e=(0,o.iy)())?void 0:e.getItem(c);if(t)try{let e=JSON.parse(t);l.Abq.sendAprilFunCursor(e.id,e.trailEnabled)}catch(e){console.error("Error parsing aprilFunCursor",e)}},[])}let u=(0,a.Ce)(c,s),p=(0,a.Ce)("aprilFunCursorEnabled",!0);function m(){let[e,t]=(0,a.lZ)(p),[r,i]=(0,a.lZ)(u),o=n.useCallback(t=>{e&&(i(t),l.Abq.sendAprilFunCursor(t.id,t.trailEnabled))},[e,i]);return{aprilFunCursorEnabled:e,aprilFunCursor:e?r:s,setAprilFunCursorEnabled:e=>{t(e),e?r&&l.Abq.sendAprilFunCursor(r.id,r.trailEnabled):l.Abq.sendAprilFunCursor(s.id,s.trailEnabled)},setAprilFunCursor:o}}},705595:(e,t,r)=>{"use strict";r.d(t,{K6:()=>_,KM:()=>l,Os:()=>d,S_:()=>E,WQ:()=>o,_2:()=>p,aE:()=>c,dl:()=>m,eI:()=>f,kJ:()=>y,qA:()=>h,qM:()=>u,sp:()=>g,sx:()=>s});var n=r(623131),i=r(762820),a=r(682076);let o=2e3,l=2e3,s=(0,n.Zf)(o),c=(0,n.Zf)(l),d=(0,n.Zf)(""),u=(0,n.Zf)(0),p=(0,n.Zf)(!1);(0,n.Zf)(!1);let m=(0,n.Zf)(null),_=(0,n.Zf)(a.cj.AWAITING_PLAYBACK),h=(0,n.Zf)(i.m2t.DEFAULT),g=(0,n.Zf)(a.Ss.DEFAULT),f=(0,n.Zf)(void 0),E=(0,n.Zf)(a.my.CANVAS),y=(0,n.Zf)(0)},682076:(e,t,r)=>{"use strict";let n,i,a,o,l,s,c,d,u,p,m;r.d(t,{AV:()=>y,Ap:()=>_,K:()=>f,Ss:()=>g,cN:()=>w,cj:()=>b,cv:()=>T,eh:()=>v,lA:()=>I,mW:()=>E,my:()=>h});var _=((n=_||{}).SET_CHAT="setChat",n.CLEAR_CHAT="clearChat",n.TARGET_DOM_NODE="targetDOMNode",n.TARGET_SCENE_NODE="targetSceneNode",n.INSERT_NODE="insertNode",n.ADJUST_ZOOM_LEVEL="adjustZoomLevel",n.MOVE_CURSOR_TO_CENTER_SCREEN="moveCursorToCenterScreen",n.CHANGE_TOOL="changeTool",n.MOVE_VIEWPORT="moveViewport",n.SET_CURSOR_DIRECTION="setCursorDirection",n.SET_PROPERTIES_PANEL_TAB="setPropertiesPanelTab",n.UPDATE_SELECTED_NODE_PROPERTIES="updateSelectedNodeProperties",n.SCROLL_PROPERTIES_PANEL="scrollPropertiesPanel",n.FOCUS_INPUT="focusInput",n.SELECT_SCENE_NODE="selectSceneNode",n.SET_VIEWPORT_FRAME_TYPE="setViewportFrameType",n),h=((i=h||{}).CANVAS="canvas",i.PROPERTIES_PANEL="properties-panel",i.TEXT_PANEL="text-panel",i),g=((a=g||{}).DEFAULT="left",a.RIGHT="right",a),f=((o=f||{})[o.DEFAULT=0]="DEFAULT",o[o.INSIDE_SCENE_NODE=1]="INSIDE_SCENE_NODE",o[o.CANVAS_COORDINATE=2]="CANVAS_COORDINATE",o),E=((l=E||{})[l.TOP_LEFT=0]="TOP_LEFT",l[l.BOTTOM_RIGHT=1]="BOTTOM_RIGHT",l),y=((s=y||{}).CREATE_FRAME="How to draw a frame",s.FORMAT_FRAME="How to use the design panel",s.CREATE_TEXT="Add words where needed",s.FORMAT_TEXT="How to format text",s),b=((c=b||{}).PLAYING="playing",c.AWAITING_PLAYBACK="awaitingPlayback",c),v=((d=v||{}).LEFT="left",d.CENTER="center",d.RIGHT="right",d),I=((u=I||{}).TOP="top",u.CENTER="center",u.BOTTOM="bottom",u),w=((p=w||{}).TEST="test",p.PRODUCT_FRAME="productFrame",p.PRODUCT_FRAME_CHERRIES_FRAME="productFrameCherriesFrame",p.PRODUCT_FRAME_TOMATO_FRAME="productFrameTomatoFrame",p.CHERRIES_FRAME_CHERRIES_IMAGE="cherriesFrameCherriesImage",p.CHERRIES_FRAME_CHERRIES_TEXT="cherriesFrameCherriesText",p.CHERRIES_FRAME_PRICE_TEXT="cherriesFramePriceText",p.CHERRIES_FRAME_GROWN_TEXT="cherriesFrameGrownText",p.NO_BASICS_FILE_FRAME="noBasicsFileFrame",p.NO_BASICS_FILE_TEXT="noBasicsFileText",p),T=((m=T||{}).ESC_KEY="esc key",m.STOP_BTN="stop button",m.NEXT_BTN="next tutorial button",m.PREV_BTN="previous tutorial button",m)},741800:(e,t,r)=>{"use strict";r.d(t,{AJ:()=>p,GS:()=>y,Ge:()=>_,K:()=>g,Kx:()=>f,Lx:()=>c,aW:()=>d,c5:()=>E,kZ:()=>h,m4:()=>m,o$:()=>u});var n=r(326660),i=r(555168),a=r(52456),o=r(926920),l=r(682076),s=r(777264);let c="cursor_bot",d="#007BE5";function u(e,t){return Math.min(t.width/(e.absoluteBoundingBox.w+300),t.height/(e.absoluteBoundingBox.h+300))*t.zoom}function p(e,t,r){let n;e instanceof HTMLElement?n=e.getBoundingClientRect():n={h:e.absoluteBoundingBox.h,w:e.absoluteBoundingBox.w,x:e.absoluteBoundingBox.x,y:e.absoluteBoundingBox.y,left:e.absoluteBoundingBox.x,right:e.absoluteBoundingBox.x+e.absoluteBoundingBox.w,top:e.absoluteBoundingBox.y,bottom:e.absoluteBoundingBox.y+e.absoluteBoundingBox.h};let i=(null==r?void 0:r.x)||0,a=(null==r?void 0:r.y)||0,o=0;return{targetX:(null==t?void 0:t.x)===l.eh.LEFT?n.left+i:(null==t?void 0:t.x)===l.eh.RIGHT?n.right+i:(n.right+n.left)/2+i,targetY:(null==t?void 0:t.y)===l.lA.TOP?n.top+a:(null==t?void 0:t.y)===l.lA.BOTTOM?n.bottom+a:(n.top+n.bottom)/2+a}}async function m({imgSrc:e,desiredWidth:t,desiredHeight:r}){try{let n=(0,a.E)(),o=i.Pc.onboarding("create-rectangle-for-image",()=>n.createRectangle()),l=await n.createImageAsync(e),{width:s,height:c}=await l.getSizeAsync(),d=void 0!==t?t:s,u=void 0!==r?r:c;return i.Pc.onboarding("resize-rectangle-node-with-image-fill",()=>{o.resize(d,u)}),i.Pc.onboarding("set-image-fill",()=>{o.fills=[{type:"IMAGE",imageHash:l.hash,scaleMode:"FILL"}]}),o.id}catch(t){return(0,n.WI)(c,"Failed to insert image",{imgUrl:e,err:t},{reportAsSentryError:!0}),null}}function _(e){let t=document.getElementById(o._I);t.classList.add(s.yM),t.scrollTop=e,t.classList.remove(s.yM)}function h(e){return e===l.cj.PLAYING}function g(e,t){let r=t?"cursor_bot_v2__basics_file__":"cursor_bot_v2__no_basics_file__";switch(e){case"How to draw a frame":return{tutorialPlayedUserFlag:`${r}clicked_show_me_for_create_a_frame`,stepCompletedUserFlag:`${r}played_create_a_frame`};case"How to use the design panel":return{tutorialPlayedUserFlag:`${r}clicked_show_me_for_frame_formatting`,stepCompletedUserFlag:`${r}played_frame_formatting`};case"Add words where needed":return{tutorialPlayedUserFlag:`${r}clicked_show_me_for_create_text`,stepCompletedUserFlag:`${r}played_create_text`};case"How to format text":return{tutorialPlayedUserFlag:`${r}clicked_show_me_for_text_formatting`,stepCompletedUserFlag:`${r}played_text_formatting`};default:throw Error(`Unknown tutorial name: ${e}`)}}let f=600,E=1200,y=1500},836244:(e,t,r)=>{"use strict";r.d(t,{s:()=>I});var n=r(307824),i=r(125504),a=r.n(i),o=r(365224),l=r(148276),s=r(698240),c=r(560072),d=r(597624),u=r(144459),p=r(441388),m=r(124664),_=r(363636),h=r(357652),g=r(521692),f=r(705595),E=r(682076),y=r(107496);let b="cursor_bot_tooltip--textInverseColor--sNGZA";function v(e){var t,r,i,o;let p=e.shouldInverseColors??!1;return n.createElement(n.Fragment,null,n.createElement("h2",{className:a()(y.kF,{[b]:p})},e.title),n.createElement(l._C,{multiple:1}),n.createElement("div",{className:a()(y.kr,{[b]:p})},e.children),n.createElement(l._C,{multiple:3}),n.createElement(d.g,{verticalAlignItems:"center",direction:"horizontal",spacing:8},n.createElement("div",{className:a()({[s.cx.colorTextOnbrand.$]:p,[s.cx.colorTextSecondary.$]:!p})},e.lowerLeftText),n.createElement(d.O,null),e.onSecondaryCtaClick&&n.createElement("div",{ref:e.showMeCtaRef},n.createElement(l.Sm,{onClick:e.onSecondaryCtaClick,className:a()({[s.cx.colorTextOnbrand.$]:p,"cursor_bot_tooltip--secondaryCta--uig-B":p}),trackingProperties:{ctaTrackingDescriptor:(null==(t=e.secondaryCtaProps)?void 0:t.ctaTrackingDescriptor)||u.O.BACK}},(null==(r=e.secondaryCtaProps)?void 0:r.ctaText)||n.createElement(c.Tx,{id:"tooltips_plus_onboarding.back"}))),e.onPrimaryCtaClick&&n.createElement(l.Uv,{onClick:e.onPrimaryCtaClick,trackingProperties:{ctaTrackingDescriptor:(null==(i=e.primaryCtaProps)?void 0:i.ctaTrackingDescriptor)||u.O.NEXT},className:a()({[s.cx.colorBg.colorText.$]:p})},(null==(o=e.primaryCtaProps)?void 0:o.ctaText)||n.createElement(c.Tx,{id:"tooltips_plus_onboarding.next"}))))}function I(e){let t=n.useRef(null),r=n.useRef(null),i=n.useRef(null),l=(0,o.my)(f.sx),c=(0,o.my)(f.aE),d=(0,o.my)(f.sp),[u,b]=n.useState(!1),[I,w]=n.useState(),T=()=>{let n=0,a=0;if(null!=t.current&&null!=r.current&&null!=i.current){let{offsetTop:o,offsetHeight:s,offsetLeft:u,offsetWidth:p}=t.current,m=Math.sqrt(Math.pow(n=o+s/2,2)+Math.pow(a=u+p/2,2)),_=[{top:`${n}px`,left:`${a}px`,width:"0px",height:"0px",borderRadius:"100%"},{top:`${n-m}px`,left:`${a-m}px`,width:`${2*m}px`,height:`${2*m}px`,borderRadius:"100%",offset:.4166666666666667},{top:`${n-m}px`,left:`${a-m}px`,width:`${2*m}px`,height:`${2*m}px`,borderRadius:"100%"}];r.current.animate(_,{duration:600,easing:"cubic-bezier(0.14, 0, 0.32, 1)"}),setTimeout(()=>{w("#007be5")},130),b(!0);let h=e.collapseToTopRight?"top right":"bottom right",g=[{transform:"scale(1)",transformOrigin:h},{transform:"scale(0)",transformOrigin:h,offset:.4166666666666667},{transform:"scale(0)",transformOrigin:h}],f=i.current;setTimeout(()=>{null!=i.current&&i.current.animate(g,{duration:350,easing:"ease-in"})},250),setTimeout(()=>{b(!1),w(void 0)},350);let y=f.offsetLeft+f.offsetWidth,v=e.collapseToTopRight?f.offsetTop:f.offsetTop+f.offsetHeight;l(y),c(v),e.collapseToTopRight&&d(E.Ss.RIGHT)}},S=(0,m.KU)(["exp_cursor_bot_onboarding"]);return n.createElement(p.kH,{name:e.trackingContextName,properties:{isInCursorBotBasicsFile:S}},!e.disableHighlight&&n.createElement(g.k,{target:e.targetKey}),n.createElement(h.Y3,{className:a()(y.kn,{[y.eO]:"designPanel"===e.pointsTo,[y.YM]:"toolbar"===e.pointsTo,[y.Sq]:"leftPanel"===e.pointsTo}),targetKey:e.targetKey,shouldCenterArrow:e.shouldCenterArrow,disableClickOutsideToHide:!0,dismissModal:e.dismissModal,hideCloseButton:e.hideCloseButton,arrowPosition:e.arrowPosition,hidePointer:e.hidePointer,width:_.oX,hideIfTargetLost:!0,ref:i,closeButtonClassName:u?"cursor_bot_tooltip--closeButtonInverseColor--CLQm3":void 0,pointerForegroundColor:I},n.createElement("div",{className:s.cx.overflowHidden.absolute.top0.left0.wFull.hFull.eventsNone.$},n.createElement("div",{className:"cursor_bot_tooltip--expandingBlue--7HBiv",ref:r})),n.createElement(v,{title:e.title,children:e.children,onSecondaryCtaClick:()=>{T(),setTimeout(()=>{var t;null==(t=e.onSecondaryCtaClick)||t.call(e)},500)},onPrimaryCtaClick:e.onPrimaryCtaClick,secondaryCtaProps:e.secondaryCtaProps,primaryCtaProps:e.primaryCtaProps,showMeCtaRef:t,shouldInverseColors:u,lowerLeftText:e.lowerLeftText})))}},102864:(e,t,r)=>{"use strict";r.d(t,{Q:()=>s,Y:()=>c});var n=r(120304),i=r(161400),a=r(61836),o=r(506616),l=r(472956);function s(){var e,t,r;let i=(0,n.w1)(e=>{var t;return null==(t=e.openFile)?void 0:t.key});return!!(null==(r=null==(t=null==(e=(0,o.Qb)(l.Sol,{fileKey:i||""}).data)?void 0:e.file)?void 0:t.org)?void 0:r.cursorChatDisabledAt)}function c(){return new Promise((e,t)=>{var r;let n=null==(r=i.x.getState().openFile)?void 0:r.key;if(!n)return e(!1);(0,a.k1)(l.Sol,{fileKey:n}).then(t=>{var r,n,i;return e(!!(null==(i=null==(n=null==(r=t.data)?void 0:r.file)?void 0:n.org)?void 0:i.cursorChatDisabledAt))})})}},888684:(e,t,r)=>{"use strict";let n;r.d(t,{W0:()=>tp,Ko:()=>tu,C_:()=>tg});var i={};r.r(i),r.d(i,{GLARE_ANIMATION:()=>e0,GRAY_BACKGROUND:()=>eJ,NONE:()=>e2,ORANGE_GRADIENT:()=>eX,PINK_GRADIENT:()=>ez,animateBg:()=>eQ,glareAnimation:()=>e1});var a=r(307824),o=r(120304),l=r(125504),s=r.n(l),c=r(288136),d=r(51408),u=r(804420),p=r(843148),m=r(550444),_=r(590720),h=r(772124),g=r(282528),f=r(191352),E=r(600680),y=r(587040),b=r(312452),v=r(679804),I=r(814380),w=r(43716),T=r(453496),S=r(84656),C=r(57148),A=r(78432);let O="goat",N=["https://static.figma.com/uploads/758d9b37316a4d4a7d1596c9e05ad0815d6bceb7","https://static.figma.com/uploads/4c3ce682051e8e5d6e528c972d18db3d3f089c83","https://static.figma.com/uploads/c773c8fbbe08af6fce82a0dfbb64b3f57dc0b066","https://static.figma.com/uploads/2ba0d6da9b7b7ec650b85d4d095240095912eede","https://static.figma.com/uploads/ef71313c23f3c1726302703bdaa758ce8678a455","https://static.figma.com/uploads/657e30cd36f43b1a626b052a8c4c7274373dd84d"],L=null,R=Math.floor(Math.random()*N.length);async function P(){if(!L){let e=[];L=N.map(t=>{let r=new Audio(t),n=new Promise(e=>{r.oncanplaythrough=()=>{e()}});return e.push(n),r.load(),document.body.appendChild(r),r}),await Promise.all(e)}}let M=new Map([["happy birthday","PINK_GRADIENT"],["bday","PINK_GRADIENT"],["hbd","PINK_GRADIENT"],["fire","ORANGE_GRADIENT"],["fiire","ORANGE_GRADIENT"],["fiiire","ORANGE_GRADIENT"],["fiiiire","ORANGE_GRADIENT"],["lit","ORANGE_GRADIENT"],["heat","ORANGE_GRADIENT"],["hot","ORANGE_GRADIENT"],["spicy","ORANGE_GRADIENT"],["lowkey","GRAY_BACKGROUND"],["slick","GLARE_ANIMATION"],["this is clean","GLARE_ANIMATION"],["this clean","GLARE_ANIMATION"],["cleann","GLARE_ANIMATION"],["sharp","GLARE_ANIMATION"],["immaculate","GLARE_ANIMATION"],["pristine","GLARE_ANIMATION"],["polished","GLARE_ANIMATION"],["spotless","GLARE_ANIMATION"],["shiny","GLARE_ANIMATION"]]);(0,p.Ub)().figjam_latin_emote_easter_eggs&&(M.set("me encanta","PINK_GRADIENT"),M.set("hola","PINK_GRADIENT"),M.set("bienvenides","PINK_GRADIENT"));let k=new Map([["https://static.figma.com/uploads/a83de90bf34495081ce2e8bcaf28d1d2c16e5186",["lol","lmao","rofl","lmfao","hehe","haha","sksk","cryingg","dyingg","so funny","rotfl"]],["https://static.figma.com/uploads/d1e0d7ed5e1aa13e8854dbd88b9fd650377a02f2",["fire","fiire","fiiire","fiiiire","spicy","oh snap","dope","hot","heat","so good","siick","siiick","siiiick","on point","rad","sweeet","sweeeet","wagmi","wgmi","gmi"]],["https://static.figma.com/uploads/0606e9d967b5abb6d9a2853c2fff589f2ec2fc05",["hey","hiya","heyo","hello","howdy","whats up","what's up","good morning","gm","greetings","bye","later","ciao","see ya","cya","wave"]],["https://static.figma.com/uploads/ffd0635e8f9322352eff0c15411ac0b536b98d87",["taking a look","sus","let me look","let me see","lemme see","i see what you did there"]],["https://static.figma.com/uploads/ff5be810b821d264cc2c95f665d24a867c34e587",["gorgeous","stunning","love","loove","looove","loooove","looooove","luv","woww","awww","<3","yass","cute","amazingg","heart eyes","beautiful","my eyeballs are literally two giant hearts right now and i couldn't be happier","beautiful","adorable"]],["https://static.figma.com/uploads/78f60a21d2616c2a24c7645d8636dec855e48ffb",["ngmi","bummer","sad face","uh oh",":(","noo","oh no","sorry to hear that","rip","rats","big sad","tragic","fail","womp","that sucks"]],["https://static.figma.com/uploads/1429964104bceac90c5c8e731ce4cc50b27e2797",["wtf","whoa","no way",":O","woah","whaat","whaaat","shook","shooketh","omg","omfg","speechless","oh snap","surprised"]],["https://static.figma.com/uploads/e15fa4fbba4b88b4f1f04ba64bb12abf12bcbc6c",["gift","hbd","bday","birthday"]],["https://static.figma.com/uploads/778eea842ed4020f6209e97c77abcd84984e5c94",["cool","coool","swag","chill"]],["https://static.figma.com/uploads/4fdb8f4b31f0e8f7abf1b56b334ab6b6fed134d0",[O]]]);(0,p.Ub)().figjam_latin_emote_easter_eggs&&(k.set("https://static.figma.com/uploads/62f55b94bf05d9a49731714238dd5e6ce716225d",["me encanta","ole","vamos"]),k.set("https://static.figma.com/uploads/88ea7d675b3ebeebbd917bf6857afa502b51d928",["bienvenidos","bienvenides","bienvenidas"]),k.set("https://static.figma.com/uploads/89a607910c3edfcaf5efa1e19bc8b646f2e47a6a",["fuego","picante"]),k.set("https://static.figma.com/uploads/8b29bcdf89d32bafec42bee873327384b55eb54b",["hola","brillante","excelente","bien","muy bien","sol"]));var D=((n=D||{})[n.Default=0]="Default",n);let F=new Map;k.forEach((e,t)=>{!function(e,t,r){e.forEach(e=>r.set(e,t))}(e,t,F)});let x=(e,t)=>{let r=t.get(e);r&&I.cD.sendReaction(r)};var U=r(791704),B=r(585392),G=r(899116),V=r(219023),H=r(161400),W=r(439784),K=r(937620),Y=r(372152),q=r(980068),j=r(762820),$=r(979144);let Z=class{constructor(){this.previouslyCollidingCursors=new Set}updateAndCheckCollisions(e){var t,r;let n=new Set,i=[];for(let a=0;a<e.length;a++){let o=e[a],l=Z.closestNonSelfCursor(o,e.slice(a+1));if(l&&Z.distanceBetween(null==(t=o.mouse)?void 0:t.canvasSpacePosition,null==(r=l.mouse)?void 0:r.canvasSpacePosition)<Z.CURSOR_COLLISION_RADIUS){let e=Z.makeCursorProximityKey(o,l);this.previouslyCollidingCursors.has(e)||i.push([o,l]),n.add(e)}}return this.previouslyCollidingCursors=n,i}static makeCursorProximityKey(e,t){return[e.sessionId,t.sessionId].sort().join("+")}static distanceBetween(e,t){if(!e||!t)return 1/0;let r=e.x-t.x,n=e.y-t.y;return Math.sqrt(r*r+n*n)}static computeMidpoint(e,t){return{x:(e.x+t.x)/2,y:(e.y+t.y)/2}}static closestNonSelfCursor(e,t){let r=1/0,n=null;return t.forEach(t=>{var i,a;if(t.sessionId!==e.sessionId){let o=Z.distanceBetween(null==(i=e.mouse)?void 0:i.canvasSpacePosition,null==(a=t.mouse)?void 0:a.canvasSpacePosition);o<r&&(r=o,n=t)}}),n}};Z.CURSOR_COLLISION_RADIUS=80;let z=(0,r(623131).Zf)(!1);var Q=r(459256);class X extends Q.i{constructor(e){super(),this.position=e,this.type="BubblePopEntity",this.sortOrder=-2}}class J extends Q.i{constructor(e){super(),this.position=e,this.type="SparkleEntity"}}class ee extends Q.i{constructor(e){super(),this.position=e,this.type="StarParticle",this.scale=(1+Math.random())*.3,this.sortOrder=-.5,this.customData.emissionAngle=Math.random()*Math.PI*2}}class et extends Q.i{constructor(e){super(),this.timedTriggers=e}update(e){return this.age+=e,this.timedTriggers=this.timedTriggers.filter(e=>!(this.age>=e.time)||(e.event(),!1)),this.timedTriggers.length>0}}let er=class extends Q.i{constructor({startingRelativePosition:e,startingRotation:t,position:r,viewportZoomScale:n,cursorOnRightForWindup:i,cursorOnRightForCollision:a,sessionId:o,getUserCursorTransform:l}){super(),this.type="AnimatedCursorEntity",this.lifetime=.85,a&&(this.sortOrder=-1),this.position=r,this.viewportZoomScale=n,this.cursorOnRightForWindup=i,this.cursorOnRightForCollision=a;let s={transform:`translate(${e.x}px, ${e.y}px) rotate(${t}rad)`},c={transform:`translate(${(this.cursorOnRightForWindup?1:-1)*90}px, 70px) rotate(${this.cursorOnRightForWindup?1:-1}rad) scale(0.9)`},d={transform:`translate(${(this.cursorOnRightForCollision?1:-1)*10}px, 0px) scale(2)`},u=er.RANDOM_VECTORS.map(e=>({transform:`translate(${10*e.x}px, ${10*e.y}px) ${d.transform}`})),p=1e3/60;this.customData={sessionId:o,animations:[{keyframes:[s,c],timing:{duration:12*p,easing:"cubic-bezier(.26,.32,.12,1)"}},{keyframes:[c,d],timing:{delay:12*p,duration:4*p,easing:"cubic-bezier(.16,.5,.47,1.25)"}},{keyframes:u,timing:{delay:16*p,duration:4*p,easing:`steps(${u.length})`}},{keyframes:[d,d],timing:{delay:20*p,duration:18*p}}],getReturnToCursorTransform:e=>{let t=(this.cursorOnRightForCollision?1:-1)*10,r=l(),i=(r.position.x-this.position.x)*n,a=(r.position.y-this.position.y)*n,o=r.rotation;return`translate(${er.lerp(t,i,e)}px,${er.lerp(0,a,e)}px) rotate(${er.lerp(0,o,e)}rad) scale(${er.lerp(2,1,e)})`}}}static lerp(e,t,r){return e*(1-r)+t*r}};er.RANDOM_VECTORS=[{x:.626086772987037,y:-.24715772511262912},{x:.16558013014491735,y:-.4962441097195551}];var en=r(779604);let ei=class{constructor(){this.wiggleMeter=0,this.wiggleMode=!1,this.lastUpdateTime=0,this.shakeFactor=0,this.shakeGracePeriod=0,this.speedFactor=0,this.mouseX=0,this.mouseY=0,this.hasLastMousePosition=!1,this.lastMouseX=0,this.lastMouseY=0,this.lastDirectionX=0,this.lastDirectionY=0,this.subscriptions=[],this.mouseLeftCanvas=!1,this.highFiveKeyPressed=!1,this.mouseButtonHeld=!1}getWiggleMode(){return this.wiggleMode}getShakeFactor(){return this.shakeFactor}getAboutToHide(){return this.getWiggleMode()&&this.wiggleMeter<ei.WIGGLE_MODE_ABOUT_TO_HIDE_TIME/ei.WIGGLE_MODE_DEACTIVATION_TIME}onWiggleModeChange(e){return this.subscriptions.push(e),()=>{let t=this.subscriptions.indexOf(e);t>=0&&this.subscriptions.splice(t,1)}}setWiggleMode(e){if(e!==this.wiggleMode)for(let t of(this.wiggleMode=e,this.subscriptions))t(this.wiggleMode)}setMouseLeftCanvas(e){this.mouseLeftCanvas=e}getMouseLeftCanvas(){return this.mouseLeftCanvas}setHighFiveKeyPressed(e){this.highFiveKeyPressed=e}getHighFiveKeyPressed(){return this.highFiveKeyPressed}setMouseButtonHeld(e){this.mouseButtonHeld=e,this.update()}getMousePosition(){return{x:this.mouseX,y:this.mouseY,overCanvas:!this.mouseLeftCanvas}}stopWigglingNow(){this.speedFactor=0,this.shakeFactor=0,this.shakeGracePeriod=0,this.wiggleMeter=0,this.hasLastMousePosition=!1,this.lastDirectionX=0,this.lastDirectionY=0,this.setWiggleMode(!1),this.update()}startOrRefreshWiggle(){this.setWiggleMode(!0),this.wiggleMeter=1}getDeltaTime(){let e=performance.now(),t=e-this.lastUpdateTime;return this.lastUpdateTime=e,t/1e3}update(e,t){e?this.setMousePositionAndUpdate(e,t):this.updateWiggleMeter(t)}setMousePositionAndUpdate(e,t){if(this.mouseLeftCanvas||this.mouseButtonHeld)return;let r="number"==typeof t?t:this.getDeltaTime();if(r<=0)return;this.mouseX=e.x,this.mouseY=e.y;let n=1,i=(this.mouseX-this.lastMouseX)/r,a=(this.mouseY-this.lastMouseY)/r;if(this.lastMouseX=this.mouseX,this.lastMouseY=this.mouseY,!this.hasLastMousePosition){this.hasLastMousePosition=!0;return}let o=Math.sqrt(i*i+a*a);if(o>0){let e=i/o,t=a/o;n=e*this.lastDirectionX+t*this.lastDirectionY,this.lastDirectionX=e,this.lastDirectionY=t}let l=r/ei.WIGGLE_MODE_MOVEMENT_DECAY_TIME,s=r/ei.WIGGLE_MODE_MOVEMENT_MIN_TIME+l;this.speedFactor+=Math.min(o*ei.WIGGLE_MODE_MOVEMENT_SENSITIVITY,s),this.speedFactor=Math.max(0,this.speedFactor-l),this.speedFactor=Math.min(1,this.speedFactor);let c=this.speedFactor>=.8,d=c&&n<0,u=Math.abs(this.lastDirectionX)>Math.abs(this.lastDirectionY);c&&d&&u&&(this.shakeFactor+=1/(this.wiggleMode?ei.WIGGLE_MODE_REPLENISH_SHAKES:ei.WIGGLE_MODE_MIN_SHAKES_TO_TRIGGER),this.shakeGracePeriod=1),this.shakeGracePeriod>0?this.shakeGracePeriod=Math.max(this.shakeGracePeriod-r/ei.WIGGLE_MODE_SHAKE_GRACE_PERIOD,0):this.shakeFactor-=r/ei.WIGGLE_MODE_SHAKE_RESET_TIME,this.shakeFactor=Math.min(Math.max(this.shakeFactor,0),1),c&&(Math.abs(this.shakeFactor)>=.8?this.wiggleMeter=1:this.wiggleMode&&Math.abs(this.shakeFactor)>=.3&&(this.wiggleMeter=Math.max(this.wiggleMeter,Math.abs(this.shakeFactor)))),this.updateWiggleMeter(r)}updateWiggleMeter(e){if((e="number"==typeof e?e:this.getDeltaTime())<=0)return;this.wiggleMeter<=0?this.setWiggleMode(!1):this.wiggleMeter>=1&&this.setWiggleMode(!0);let t=0;t=this.mouseLeftCanvas?-ei.WIGGLE_MODE_LEAVE_CANVAS_GRACE_PERIOD:this.highFiveKeyPressed?ei.WIGGLE_MODE_HIGH_FIVE_KEY_TIME:this.wiggleMode?-ei.WIGGLE_MODE_DEACTIVATION_TIME:-ei.WIGGLE_MODE_MOUSE_RESET_TIME,this.wiggleMeter+=e/t,this.wiggleMeter=Math.min(Math.max(this.wiggleMeter,0),1)}};function ea(){return{cursorWiggleDetector:new ei,cursorEntitySystem:new V.ac,cursorCollisionDetector:new Z,cursorKinematics:new en.w}}function eo(e,t,r){(0,a.useEffect)(()=>{if(r)return document.addEventListener(e,t),()=>{document.removeEventListener(e,t)}},[e,t,r])}ei.WIGGLE_MODE_DEACTIVATION_TIME=6,ei.WIGGLE_MODE_ABOUT_TO_HIDE_TIME=3,ei.WIGGLE_MODE_HIGH_FIVE_KEY_TIME=.5,ei.WIGGLE_MODE_MOUSE_RESET_TIME=.6,ei.WIGGLE_MODE_MOVEMENT_SENSITIVITY=4e-5,ei.WIGGLE_MODE_MOVEMENT_MIN_TIME=.1,ei.WIGGLE_MODE_MOVEMENT_DECAY_TIME=1.5,ei.WIGGLE_MODE_MIN_SHAKES_TO_TRIGGER=6.5,ei.WIGGLE_MODE_REPLENISH_SHAKES=3.5,ei.WIGGLE_MODE_SHAKE_GRACE_PERIOD=.3,ei.WIGGLE_MODE_SHAKE_RESET_TIME=.5,ei.WIGGLE_MODE_LEAVE_CANVAS_GRACE_PERIOD=.3;let el=(0,q.ei)(function(e){return e.reduce((e,t)=>(e[t.sessionID]=t,e),{})});function es(e,t,r,n,i){let a=((0,en.C)(t.getHandsOnRight(),r)?1:-1)*(Math.PI/4),o=32/n,l={x:e.x+o*Math.sin(a),y:e.y-o*Math.cos(a)};return i||(l.x+=16/n,l.y+=16/n),{position:l,rotation:a}}function ec(e,t){return!!e.find(e=>"AnimatedCursorEntity"===e.type&&e.customData.sessionId===t)}function ed(e,t,r,n,i){var a,o;return!("editor"!==e.deviceName||(null==(a=null==t?void 0:t.mouse)?void 0:a.canvasSpacePosition)==null||isNaN(null==(o=null==t?void 0:t.mouse)?void 0:o.canvasSpacePosition.x)||t.mouse.pageId!==r||(-1===t.lastMouseMoveMs||window.performance.now()-t.lastMouseMoveMs>6e4)&&n!==e.sessionID)&&e.sessionID!==i}function eu(){let e=(0,f.CM)(),t=(0,w.wj)();return"whiteboard"===e&&!t}var ep=r(477452),em=r(932060);function e_(e,t){let r=3*e,n=3*e,i=1.7999999999999998*e,a=[];for(let e=0;e<=100;e+=2){if(0===e||100===e){a.push(eh(0,0,0));continue}let t=Math.floor(Math.random()*r)-r/2,o=Math.floor(Math.random()*n)-n/2,l=Math.floor(Math.random()*i)-i/2;a.push(eh(t,o,l))}return new Animation(new KeyframeEffect(t,a,{duration:100,easing:"ease-in-out",iterations:1/0}),document.timeline)}function eh(e,t,r){return{transform:`translate(${e}px, ${t}px) rotate(${r}deg)`}}function eg(e){return!!e.length&&e.some(e=>"running"===e.playState)}function ef(e){let{content:t,children:r}=e,[n,i]=(0,a.useState)(0),o=(0,a.useRef)(0),l=(0,a.useRef)([]),s=a.useRef(null),[c,d]=(0,a.useState)([]),u=(0,K.e6)(),p=(0,a.useMemo)(()=>0===t.length?0:((t.match(/\!+$/g)||[])[0]||"").length,[t]),m=(0,a.useCallback)(e=>{clearTimeout(o.current),o.current=setTimeout(()=>{i(e=>(e>0&&m(250),Math.max(e-1,0)))},e)},[]);return(0,a.useEffect)(()=>{i(p),m(1e3)},[p,m]),(0,a.useEffect)(()=>{if(!s.current)return;n>1&&!l.current.length&&(l.current=[e_(1,s.current),e_(1.5,s.current),e_(2,s.current),e_(2.5,s.current),e_(3,s.current)]);let e=eg(l.current);if(n>1){let e=Math.min(n-1-1,l.current.length-1);l.current.forEach((t,r)=>{r===e?t.play():t.cancel()})}else l.current.forEach(e=>null==e?void 0:e.cancel());let t=eg(l.current);!e&&t&&u("cursor_chat_rumble_triggered"),d(l.current.map(e=>null==e?void 0:e.playState))},[n,u]),a.createElement("div",{"data-testid":"chat-animation-wrapper","data-test-animation-state":c,ref:s},r)}let eE={HANDLE_KEYDOWN:"HANDLE_KEYDOWN",HANDLE_INPUT:"HANDLE_INPUT",STOP_CHATTING:"STOP_CHATTING",START_FADING_INACTIVE_CHAT:"START_FADING_INACTIVE_CHAT",STOP_FADING_INACTIVE_CHAT:"STOP_FADING_INACTIVE_CHAT",HANDLE_EMOTE_ANIMATION_END:"HANDLE_EMOTE_ANIMATION_END"},ey={currentUserInput:"",previousLine:"",fadingOutText:"",isWidthLocked:!1,isShowingEmptyNewline:!1,inputIsEmpty:!0,currentEmoteBackground:"NONE",width:0,isFigJam:!1,isFadingInactiveChat:!1,shouldClose:!1,hasTypedAnything:!1},eb=e=>{let t=document.createElement("canvas").getContext("2d");if(!t)return e;t.font="14px Inter, sans-serif";let r=t.measureText(e.currentUserInput).width,n=t.measureText(e.previousLine).width;return{...e,width:Math.max(r,n)}};function ev(e,t){var r;let n=e.toLocaleLowerCase(),i=!(1===(r=n.charAt(n.length-t.length-1)).length&&/[A-Za-z]/.test(r));return n.endsWith(t)&&i}let eI=(e,t,r)=>{for(let t of F.keys())ev(e,t)&&(!function(e,t){x(e,t),x(e,t),x(e,t),x(e,t),x(e,t),x(e,t)}(t,F),r("cursor_chat_emote_triggered",{keyword:t}),function(e){if(e===O)try{P().then(()=>{L&&(L[R].play(),R=(R+1)%L.length)})}catch(e){}}(t))},ew=e=>{for(let[t,r]of M)if(r&&ev(e,t))return{key:t,background:r}};function eT(e,t){switch(t.type){case eE.HANDLE_INPUT:{let r={...e},{value:n}=t.payload;if(e.isShowingEmptyNewline&&(r.isShowingEmptyNewline=!1),n.length>r.currentUserInput.length&&r.isFigJam){let{key:e,background:i}=ew(n)??{};i&&(r.currentEmoteBackground=i,t.payload.trackEvent("cursor_chat_background_effect_triggered",{keyword:e})),eI(n,D.Default,t.payload.trackEvent)}return r.fadingOutText=r.previousLine,r.previousLine="",r.currentUserInput=n,e.hasTypedAnything||t.payload.trackEvent("cursor_chat_typed_something"),r.hasTypedAnything=!0,r.inputIsEmpty=0===r.currentUserInput.length&&0===r.previousLine.length,eb(r)}case eE.HANDLE_KEYDOWN:{let r=t.payload;if("Enter"===r.key){if(!1===e.hasTypedAnything)return e;let t={...e};return t.isShowingEmptyNewline=!0,t.inputIsEmpty=!1,t.isWidthLocked=!0,t.fadingOutText=t.previousLine,t.previousLine=t.currentUserInput,t.currentUserInput="",eb(t)}if("Escape"===r.key)return{...e,shouldClose:!0};return e}case eE.HANDLE_EMOTE_ANIMATION_END:{let t={...e};return t.isWidthLocked=!1,t.currentEmoteBackground="NONE",eb(t)}case eE.STOP_CHATTING:return{...e,shouldClose:!0};case eE.START_FADING_INACTIVE_CHAT:return{...e,isFadingInactiveChat:!0};case eE.STOP_FADING_INACTIVE_CHAT:return{...e,isFadingInactiveChat:!1};default:return e}}var eS=r(102864),eC=r(946020),eA=r(916924),eO=r(653368);function eN({viewportInfo:e,cursorEntities:t}){let r=(0,T.ct)(),n=(0,o.w1)(({multiplayer:{allUsers:e}})=>e);return a.createElement(a.Fragment,null,t.map(t=>{var i;let o;switch(t.type){case"StarParticle":o=a.createElement(eU,{emissionAngle:t.customData.emissionAngle});break;case"BubblePopEntity":o=a.createElement(eV,null);break;case"SparkleEntity":o=a.createElement(eH,null);break;case"AnimatedCursorEntity":let l=t.customData.sessionId,s=r.toString()===l,c=s?ek:null==(i=n.find(e=>e.sessionID.toString()===l))?void 0:i.color;o=a.createElement(eB,{customData:t.customData,color:c,isCurrentUser:s})}return o&&a.createElement(eR,{canvasPosition:t.position,viewportInfo:e,key:t.id,rotation:t.rotation,scale:t.scale},o)}))}function eL({cursorWiggleStatus:e,temporarilyHide:t,isCursorHandOnRight:r}){return a.createElement("div",{className:"cursor_high_five--highFiveCursorForSelf--cVByQ"},a.createElement(eM,{color:ek,isHighFiveHandOut:"HIDDEN"!==e,aboutToHide:"ABOUT_TO_HIDE"===e,temporarilyHide:t,isCursorHandOnRight:r}))}function eR({canvasPosition:e,viewportInfo:t,children:r,rotation:n=0,scale:i=1}){let o=(0,v.Qv)(t,e||{x:0,y:0});return a.createElement(eP,{viewportPosition:o,rotation:n,scale:i},r)}function eP({viewportPosition:e,children:t,rotation:r=0,scale:n=1}){let i={transform:`translate3D(${0|e.x}px, ${0|e.y}px, 0) translate(-50%, -50%) rotate(${r}rad) scale(${n})`};return a.createElement("div",{className:"cursor_high_five--highFiveAbsoluteContainer---G725",style:i},t)}function eM({color:e,isHighFiveHandOut:t,temporarilyHide:r,isCursorHandOnRight:n,aboutToHide:i=!1}){return a.createElement("div",{className:s()({"cursor_high_five--highFiveAnimationContainer--jWFVT":!0,"cursor_high_five--highFiveAnimHighFiveHandOut--6q5Bu":t,"cursor_high_five--highFiveAnimHighFiveHandAboutToHide--tFRSO":i})},a.createElement("div",{style:{opacity:r?"0":"1"},className:s()({"cursor_high_five--highFiveWaveContainer--M1fBF":!0,"cursor_high_five--cursorHandOnRight--wSZLI":n})},a.createElement(ex,{color:e})))}let ek="#FFFFFF",eD=new Set([ek,"#0FA958","#5551FF","#9747FF","#848484","#D27C2C","#F24E1E","#FFC700","#667799","#9747FF","#007BE5","#FF24BD","#F24822","#FFCD29","#14AE5C"]);function eF({color:e}){let[t,r]=a.useState(!1);if(!eD.has(e))return(0,eA.kz)(!!e,`Unknown color ${e} for Cursor High Fives`),a.createElement(a.Fragment,null);let n=(0,eO.I)(t?ek:e,b.m2t.HIGH_FIVE);return a.createElement("img",{className:"cursor_high_five--handImage--mJVid",src:n,alt:"",onError:()=>r(!0)})}function ex({color:e}){return a.createElement(eF,{key:e,color:e})}function eU({emissionAngle:e}){return a.createElement("div",{className:"cursor_high_five--fallingStar--Kx2fO"},a.createElement("div",{style:{transform:`rotate(${e}rad)`}},a.createElement("div",{className:"cursor_high_five--shootingStar--tyk8Z"},a.createElement(eG,null))))}function eB({customData:e,color:t,isCurrentUser:r}){let n=a.useRef(null);return a.useLayoutEffect(()=>{if(!(0,eC.c)())return;let t=-1;return e.animations.forEach((r,i)=>{var a;let o=null==(a=n.current)?void 0:a.animate(r.keyframes,r.timing);o&&i===e.animations.length-1&&(o.onfinish=()=>{let r=null,i=0,a=1e3/60*12,o=l=>{let s=null===r?0:l-r;if(r=l,i+=s,n.current&&i<a){let r=i/a;n.current.style.transform=e.getReturnToCursorTransform(Math.sin(2.1*r)/.8632093666488737*(1-r)+r),t=requestAnimationFrame(o)}};t=requestAnimationFrame(o)})}),()=>{t>=0&&cancelAnimationFrame(t)}},[e,n]),a.createElement("div",{ref:n},a.createElement(ex,{color:t}))}function eG(){return a.createElement("img",{className:"cursor_high_five--starImage--GqFaX",src:"https://static.figma.com/uploads/353e095c3f9c8488d9bb83dec3ce1d4c689f96db",alt:"star"})}function eV(){return a.createElement("div",{className:"cursor_high_five--bubble--9DVru"})}function eH(){return a.createElement("div",{className:"cursor_high_five--sparkle--hCRWw"})}var eW=r(888932),eK=r(560072),eY=r(264060),eq=r(511196),ej=r(759920);let e$=(e,t,r)=>{a.useEffect(()=>{if(e.current){if(t){e.current.style.width="initial";return}e.current.style.width=`${r+35}px`}},[r,e,t])},eZ=(e,t,r,n)=>{a.useEffect(()=>{r.current&&n.current&&(r.current.value=e,n.current.dataset.value=e)},[e,t,r,n])},ez="cursor_chat_emotes--PINK_GRADIENT--1KQ3C",eQ="cursor_chat_emotes--animateBg---meP2",eX="cursor_chat_emotes--ORANGE_GRADIENT--cC1fw",eJ="cursor_chat_emotes--GRAY_BACKGROUND--DAHAE",e0="cursor_chat_emotes--GLARE_ANIMATION--SuTBw",e1="cursor_chat_emotes--glareAnimation--x1WJw",e2="cursor_chat_emotes--NONE---FYHz";function e4(e){let{color:t}=e,r="whiteboard"===(0,f.CM)(),n=a.useRef(null),l=a.useRef(null),s=(0,o.OY)(),c=(0,K.e6)(),[{currentUserInput:u,previousLine:p,fadingOutText:m,isFadingInactiveChat:_,isShowingEmptyNewline:h,inputIsEmpty:g,currentEmoteBackground:E,width:y,shouldClose:b,hasTypedAnything:v},I]=a.useReducer(eT,{...ey,isFigJam:r});e$(n,g,y),eZ(u,p,n,l),function(e,t,r,n){a.useEffect(()=>{var r;null==(r=j.Abq)||r.sendChatMessage(e,t)},[e,t]);let i=a.useCallback(()=>{var e;null==(e=j.Abq)||e.sendChatMessage("",""),n(eY.MX())},[n]);a.useEffect(()=>{r&&i()},[r,i]),a.useEffect(()=>()=>i(),[i])}(u,p,b,s);let w=a.useCallback(()=>{s(eY.MX()),I({type:eE.STOP_CHATTING})},[s,I]);a.useEffect(()=>{I({type:eE.STOP_FADING_INACTIVE_CHAT});let e=setTimeout(()=>{I({type:eE.START_FADING_INACTIVE_CHAT})},5e3),t=setTimeout(()=>{I({type:eE.STOP_FADING_INACTIVE_CHAT}),w()},8e3);return()=>{clearTimeout(e),clearTimeout(t)}},[u,I,w]),a.useEffect(()=>{let e=e=>{I({type:eE.HANDLE_KEYDOWN,payload:e})},t=()=>{document.removeEventListener("keydown",e)},r=()=>{document.addEventListener("keydown",e)};return n.current&&(window.focus(),n.current.focus({preventScroll:!0})),document.addEventListener("keydown",e),document.addEventListener("compositionstart",t),document.addEventListener("compositionend",r),()=>{document.removeEventListener("keydown",e),document.removeEventListener("compositionstart",t),document.removeEventListener("compositionend",r)}},[I,n]);let T=a.useCallback(e=>{var t;if((0,eq.KE)(e.relatedTarget,(0,eq.S2)(ej._I))){null==(t=n.current)||t.focus();return}w()},[w]),S=(0,d.uo)(t),C=S===d.Kg?"chat_input--lightPlaceholder--YGSmc":"chat_input--darkPlaceholder--BH5Qn",A=a.createElement("div",{className:`chat_input--mask--P6RFl ${_?"chat_input--fading--EBfYy":""} `,style:{boxShadow:`2px 4px 8px ${t}40`}},a.createElement("label",{ref:l,className:"chat_input--inputSizer--9JY00"},a.createElement("input",{className:`chat_input--input--2o9dx ${C} ${h?"chat_input--expanded--1W44Y":""}`,style:{color:S,backgroundColor:"transparent"},ref:n,type:"text",onChange:e=>I({type:eE.HANDLE_INPUT,payload:{value:e.currentTarget.value,trackEvent:c}}),onBlur:T,size:v?1:(0,eK.t)("whiteboard.cursor_chat.say_something").length,placeholder:v?"":(0,eK.t)("whiteboard.cursor_chat.say_something"),maxLength:50,dir:"auto",spellCheck:!1,value:u}),a.createElement("div",{className:`chat_input--chatBackground--Mdxwm ${i[E]}`,style:{background:t},onAnimationEnd:()=>I({type:eE.HANDLE_EMOTE_ANIMATION_END})}),a.createElement("div",{style:{color:S},className:"chat_input--previousChat--Y2u9G"},p),a.createElement("div",{key:m,style:{color:S},className:"chat_input--fadingOutLine--VF6ni chat_input--previousChat--Y2u9G chat_input--animated--ADHj-"},m)));return r?a.createElement(ef,{content:u},A):A}let e3="fake_cursor--selectCursor--1K-wG fake_cursor--cursor--xDDWs",e6="fake_cursor--hideCursor--CUrrB",e8={[j.w3X.SELECT]:"f7ae268fa093b5f690abfe5cc56cccfa8c2d4734",[j.w3X.HAND]:"aebe1073b0b9e7ca3907e21cc08ee416d86520c4"};function e5(e){let t=eu(),r=(0,o.w1)(e=>{var t,r;return(null==(r=null==(t=null==e?void 0:e.mirror)?void 0:t.appModel)?void 0:r.currentTool)===j.w3X.HAND})?j.w3X.HAND:j.w3X.SELECT,{color:n,viewportInfo:i}=e,l=(0,T.ct)();(0,em.Ky)();let s="HIDDEN"!==e.cursorWiggleStatus,c=!e.isMouseOverCanvas,{showCursorChat:d,position:u}=e,p=u&&u.y>=i.y&&u.x>=i.x&&u.x<=i.x+i.width,m=d&&p,[_,h]=a.useState(m);a.useEffect(()=>{if(_)return document.body.classList.add(e6),()=>document.body.classList.remove(e6)},[_]),a.useEffect(()=>{if(m){h(!0);return}let e=()=>h(!1);if(!eW.cp.isIpad&&!eW.cp.isMeetDevice)return document.addEventListener("mousemove",e),()=>document.removeEventListener("mousemove",e);e()},[m]);let g=r===j.w3X.SELECT||s?e3:"fake_cursor--handCursor--3jlcf fake_cursor--cursor--xDDWs",f=e8[s?j.w3X.SELECT:r];if(!u)return a.createElement(a.Fragment,null);let E=u.x,y=u.y,b={willChange:"transform",transform:`translate3D(${E}px, ${y}px, 0)`};return a.createElement("div",{style:b,className:"fake_cursor--container--FpLnk"},_&&a.createElement("img",{className:g,src:`https://static.figma.com/uploads/${f}`,alt:`${g===e3?"select":"hand"} cursor`}),t&&a.createElement(eL,{cursorWiggleStatus:e.cursorWiggleStatus,temporarilyHide:c||ec(e.cursorEntities,l.toString()),isCursorHandOnRight:(0,en.C)(e.cursorHandsOnRight,l.toString())}),d&&a.createElement("div",{className:"fake_cursor--chatBox--YabvX",style:{opacity:p?1:0}},a.createElement(e4,{color:n})))}var e7=r(721500),e9=r(46),te=r(971164),tt=r(763456);let tr="reactions--indicatorSolid--wjW1q",tn=(0,e7.I)(tt.eWp);function ti({viewportInfo:e,reactionInfo:t}){let r=(0,v.Qv)(e,t.canvasSpacePosition),[n]=(0,a.useState)(.5*Math.random()+2),[i]=(0,a.useState)(.4*Math.random()+.3),o={animationDuration:`${n.toFixed(1)}s`},l={animationDuration:`${i.toFixed(1)}s`},{x:s,y:c}=r;s-=5,c-=10;let[d]=(0,a.useState)(1*Math.random()+.5),u={willChange:"transform",transform:`translate3D(${0|s}px, ${0|c}px, 0) scale(${d})`},[p]=(0,a.useState)(Math.random()>.5?"reactions--forward--8SV6f":"reactions--backward--ZCNdY");return a.createElement("div",{className:"reactions--translationContainer--G9Mik",style:u},a.createElement("div",{className:"reactions--floatingEmojiContainer--olUKm",style:o},a.createElement("img",{src:t.reactionId,className:`reactions--floatingEmoji--IKqDo ${p}`,style:l,alt:""})))}function ta({viewportInfo:e,multiplayerCursorsEnabled:t}){let r=I.cD.useReactionsBySessionId(),n=Object.keys(r),i=(0,T.ct)();return a.createElement(a.Fragment,null,n.map(n=>{let o=r[n],l=Object.keys(o);return n===`${i}`||t?a.createElement(a.Fragment,{key:n},l.map(t=>{let r=o[t];return a.createElement(ti,{key:t,viewportInfo:e,reactionInfo:r})})):null}))}function to({multiplayerEmoji:e,cursorPosition:t,viewportInfo:r}){let n=(0,a.useRef)(0),[i,l]=(0,a.useState)(tr),[s,c]=(0,a.useState)(!1),d=(0,o.OY)(),u=(0,a.useCallback)(()=>{d(eY.Gs())},[d]);(0,te.k)(u,{closeOnEsc:!0,ignore:"allClicks"});let{reactImageUrl:p,reactName:m}="REACTING_OR_CHATTING"===e.type?{reactImageUrl:e.imageUrl,reactName:e.name}:{reactImageUrl:null,reactName:null};return(0,a.useEffect)(()=>{if(l(tr),!p)return;let e=null,t=null,r=()=>{I.cD.sendReaction(p),W.G.trigger(b.sRF.GENERIC),l(tr),null!=e&&clearTimeout(e),e=setTimeout(()=>{l("reactions--indicatorFading--ZTyOt reactions--indicatorSolid--wjW1q")},300)},i=e=>{" "===e.key&&null!==t&&clearInterval(t)},a=e=>{"CANVAS"===e.target.tagName&&(n.current=Date.now(),r(),t&&clearInterval(t),t=setInterval(()=>{r()},60),e.stopPropagation(),e.preventDefault())},o=e=>{if(null!=t){let e=t;if(n.current>0){let e=Date.now()-n.current;e9.yu.trackFromFullscreen("emoji_reaction",{duration:e,image:p,name:m},!1),n.current=0}setTimeout(()=>{clearInterval(e)},70)}e.stopPropagation(),e.preventDefault()},s=new Set,d=0,u=null,_=e=>{var r,n;if("mouse"===e.pointerType){a(e);return}if("CANVAS"!==e.target.tagName||u&&e.pointerId===u.pointerId)return;s.add(e.pointerId);let i=s.size;if(d=Math.max(i,d),1===i){let t=new PointerEvent("pointermove",e);null==(r=e.target)||r.dispatchEvent(t),u=new PointerEvent("pointerdown",e)}d<=1?a(e):(u&&(null==(n=e.target)||n.dispatchEvent(u),u=null),t&&clearInterval(t),c(!0))},h=e=>{"mouse"!==e.pointerType&&u&&e.pointerId===u.pointerId&&(u=new PointerEvent("pointerdown",{bubbles:u.bubbles,cancelable:u.cancelable,composed:u.composed,detail:u.detail,view:u.view,altKey:u.altKey,ctrlKey:u.ctrlKey,metaKey:u.metaKey,shiftKey:u.shiftKey,button:u.button,buttons:u.buttons,clientX:e.clientX,clientY:e.clientY,movementX:e.movementX,movementY:e.movementY,relatedTarget:u.relatedTarget,screenX:e.screenX,screenY:e.screenY,isPrimary:u.isPrimary,pointerId:u.pointerId,pointerType:u.pointerType}))},f=e=>{if("mouse"===e.pointerType){o(e);return}if(!s.has(e.pointerId))return;s.delete(e.pointerId);let t=s.size;1===d&&o(e),0===t&&(d=0,u=null,c(!1))},E=(0,g.Ce)();return E?(document.addEventListener("pointerdown",_,!0),document.addEventListener("pointermove",h,!0),document.addEventListener("pointerup",f,!0),document.addEventListener("pointercancel",f,!0)):(document.addEventListener("mousedown",a,!0),document.addEventListener("mouseup",o,!0),document.addEventListener("mouseleave",o,!0)),document.addEventListener("keydown",i),()=>{null!=t&&clearInterval(t),null!=e&&clearTimeout(e),E?(document.removeEventListener("pointerdown",_,!0),document.removeEventListener("pointermove",h,!0),document.removeEventListener("pointerup",f,!0),document.removeEventListener("pointercancel",f,!0)):(document.removeEventListener("mousedown",a,!0),document.removeEventListener("mouseup",o,!0),document.removeEventListener("mouseleave",o,!0)),document.removeEventListener("keydown",i)}},[p,m]),p&&t&&!s?a.createElement("div",{className:i,style:{willChange:"transform",transform:`translate3D(${t.x-r.x}px, ${t.y-tn}px, 0)`}},a.createElement("img",{src:p,alt:""})):null}var tl=r(506240),ts=r(917384),tc=r(890288);function td({children:e,namePlateMetadata:t}){return a.createElement("div",{style:{"--april-fun-cursor-center-image":null==t?void 0:t.center,"--april-fun-cursor-before-image":null==t?void 0:t.before,"--april-fun-cursor-after-image":null==t?void 0:t.after,"--april-fun-cursor-name-text-color":null==t?void 0:t.nameTextColor,"--april-fun-cursor-name-border-radius":null==t?void 0:t.nameBorderRadius,"--april-fun-cursor-name-shadow":null==t?void 0:t.nameShadow,"--april-fun-cursor-name-text-shadow":null==t?void 0:t.nameTextShadow,"--april-fun-cursor-name-background-color":null==t?void 0:t.nameBackgroundColor,"--april-fun-cursor-name-border":null==t?void 0:t.nameBorder,"--april-fun-cursor-pseudo-cap-width":null==t?void 0:t.pseudoCapWidth,"--april-fun-cursor-name-horizontal-padding":null==t?void 0:t.nameHorizontalPadding},className:s()(ts.q)},e)}let tu=(0,a.memo)(function({name:e,color:t,cursorType:r,chatMessage:n,isHighFiving:o,focusOnTextCursor:l,temporarilyHide:u,isCursorHandOnRight:m,isCursorPointingRight:g,editorType:f,isCursorAndChatAreaOffscreen:E,sessionId:y,prefersReducedMotion:v,isHighFivingSupported:I,useChatAnimation:w,disableMessageFade:T,isStaticView:S,isHoveringWidgetWithHiddenCursors:C,aprilFunCursor:A}){var O,N;let[L,R]=(0,a.useState)(1),P=(0,a.useMemo)(()=>(0,d.uo)(t),[t]),[k,D]=(0,a.useState)("NONE"),[F,x]=(0,a.useState)(S),{aprilFunCursorEnabled:B}=(0,em.E9)(),G=B&&(0,h._)()&&A&&A.id!==em.o0.id&&r===b.m2t.DEFAULT,[V,H]=n||[];(0,a.useEffect)(()=>{let e,t;return V||H?(x(!0),R(1)):(x(!1),D("NONE")),T||(e=setTimeout(()=>{R(0)},5e3),t=setTimeout(()=>{x(!1),D("NONE")},8e3)),()=>{R(0),x(!1),D("NONE"),clearTimeout(e),clearTimeout(t)}},[V,H,T]);let W="whiteboard"===f;(0,a.useEffect)(()=>{if(W&&V&&!E)for(let e of M.keys()){let t=M.get(e);t&&ev(V,e)&&D(t)}},[V,E,W]);let K=a.useRef(null);(0,a.useEffect)(()=>{if(K.current&&K.current.innerText===V){let e=c.sr.tryStop(`view_cursor_chat_message_${y}_${V}`);e&&c.Eh.add("view_cursor_chat_message",e)}},[V,K,y]);let Y=(0,p.Ub)().cursor_bot&&g&&r===b.m2t.DEFAULT,q=function(e,t,r,n,o,l,c,u,m,_,h,g,f){let{aprilFunCursorEnabled:E}=(0,em.E9)(),y=(0,p.Ub)().april_fun_2024?(0,ep.o)(null==f?void 0:f.id):null;return(0,p.Ub)().april_fun_2024&&y&&E?e?a.createElement("div",{className:s()({[tc.gn]:e,[tc.oZ]:!e,[tc.Mf]:t}),style:{backgroundColor:y.cursorChatBackground,color:y.cursorChatTextColor}},a.createElement("div",{className:e?tc.O2:tc.UH,style:{opacity:e?r===d.Kg?.8:.5:1},dir:"auto"},n),e&&a.createElement("div",{className:s()(tc.Ej),style:{opacity:r===d.O6?.8*o:o,boxShadow:l?void 0:`2px 4px 8px ${y.cursorChatBackground}40`},dir:"auto"},c&&a.createElement("div",{ref:h},c)),a.createElement("div",{className:`${tc.Gi} ${i[m]}`,style:"NONE"!==m?{background:y.cursorChatBackground,overflow:"hidden",borderRadius:"2px 20px 20px 20px"}:{background:y.cursorChatBackground},onAnimationEnd:()=>g("NONE")})):a.createElement(td,{namePlateMetadata:y},a.createElement("div",{className:ts.U,style:{opacity:1},dir:"auto"},n),a.createElement("div",{className:`${tc.Gi} ${i[m]}`,style:"NONE"!==m?{background:y.cursorChatBackground,overflow:"hidden",borderRadius:"2px 20px 20px 20px"}:{background:y.cursorChatBackground},onAnimationEnd:()=>g("NONE")})):a.createElement("div",{className:s()({[tc.gn]:e,[tc.oZ]:!e,[tc.Mf]:t}),style:{color:r}},a.createElement("div",{className:e?tc.O2:tc.UH,style:{opacity:e?r===d.Kg?.8:.5:1},dir:"auto"},n),e&&a.createElement("div",{className:tc.Ej,style:{opacity:r===d.O6?.8*o:o,boxShadow:l?void 0:`2px 4px 8px ${_}40`},dir:"auto"},c&&a.createElement("div",{ref:h},c)),a.createElement("div",{className:`${tc.Gi} ${i[m]}`,style:"NONE"!==m?{background:_,overflow:"hidden",borderRadius:"2px 20px 20px 20px"}:{background:_},onAnimationEnd:()=>g("NONE")}))}(F,Y,P,e,L,W,V,0,k,t,K,D,A);return l?null:a.createElement("div",{className:tc.uk,style:{opacity:C?0:1},"data-testid":`multiplayer-cursor-${y}`},a.createElement("div",{className:tc.k1},I?a.createElement(a.Fragment,null,a.createElement("div",{className:tc.QG},a.createElement(eM,{color:t,isHighFiveHandOut:o,temporarilyHide:u,isCursorHandOnRight:m})),a.createElement("img",{className:s()({[tc.E9]:!0,[tc.wg]:!0,[tc.Ep]:o,[tc.Mf]:Y}),src:!o&&G&&(null==(O=(0,_.Ux)(parseInt(A.id)))?void 0:O.cursorUrl)||(0,eO.I)(t,o?b.m2t.DEFAULT:r),alt:`${o?"highfive cursor":"hand cursor"}`,onError:({currentTarget:e})=>{e.onerror=null,e.src=(0,eO.S)(t)}})):a.createElement("img",{className:s()({[tc.E9]:!0,[tc.Mf]:Y}),src:G&&(null==(N=(0,_.Ux)(parseInt(A.id)))?void 0:N.cursorUrl)||(0,eO.I)(t,r),alt:"cursor",onError:({currentTarget:e})=>{e.onerror=null,e.src=(0,eO.S)(t)}}),y&&a.createElement(U.o,{sessionId:y})),(w||W)&&!v?a.createElement(ef,{content:V||""},q):q)}),tp=a.memo(function({isCursorAndChatAreaOffscreen:e,x:t,y:r,children:n}){let i={display:e?"none":"block",willChange:"transform",transform:e?"translate3D(-10000px, -10000px, 0)":`translate3D(${t}px, ${r}px, 0)`};return a.createElement("div",{style:i},n)});function tm(){let e=(0,o.w1)(({multiplayer:{observingSessionID:e}})=>-1!==e),t=(0,o.w1)(({multiplayer:{allUsers:e}})=>e),r=I.cD.useInfoBySessionId({updateSynchronously:e}),n=eu(),i=(0,u.C)(),[l,s,c,d]=function(){let[e]=(0,a.useState)(ea);!function(e){let t=(0,K.e6)(),[r,n]=(0,Y.lZ)(z),i=eu(),l=function(){let e=(0,o.w1)(e=>{let t=e.mirror.appModel.currentTool;return t===j.w3X.SELECT||t===j.w3X.HAND}),t=(0,o.w1)(e=>{var t,r;return(null==(t=e.multiplayerEmoji)?void 0:t.type)==="WHEEL"||(null==(r=e.multiplayerEmoji)?void 0:r.type)==="REACTING_OR_CHATTING"}),r=(0,o.w1)(e=>e.mirror.appModel.activeCanvasEditModeType);return e&&!t&&r!==j.a_v.TEXT}(),s=(0,S.s5)((0,$.EB)().cursorHighFiveWiggle),c=(0,a.useRef)(null),d=(0,a.useRef)(0);(0,a.useEffect)(()=>{l||e.stopWigglingNow()},[e,l]),(0,a.useEffect)(()=>{let r=e.onWiggleModeChange(r=>{I.cD.sendHighFiveStatus(r),n(r),r&&e.getHighFiveKeyPressed()?t("figjam_cursor_high_five_events",{type:"enter_hands_up",source:"keyboard"}):r&&t("figjam_cursor_high_five_events",{type:"enter_hands_up",source:"mouse"})});return()=>{r()}},[e,n,t]),(0,a.useEffect)(()=>{r?(e.startOrRefreshWiggle(),e.setMouseLeftCanvas(!1),e.update()):e.stopWigglingNow()},[e,r]);let u=(0,a.useCallback)(()=>{clearTimeout(d.current),d.current=setTimeout(()=>{e.getHighFiveKeyPressed()&&!e.getWiggleMode()&&(e.update(),u())},250)},[e]);(0,a.useEffect)(()=>()=>clearTimeout(d.current),[]);let p=(0,o.o3)(),m=(0,a.useCallback)(t=>{let r=t.metaKey||t.ctrlKey||t.altKey||t.shiftKey;if("h"!==t.key||r)" "!==t.key&&"/"!==t.key&&!r&&e.getWiggleMode()&&(e.setHighFiveKeyPressed(!1),c.current=null,e.stopWigglingNow());else{if(!e.getHighFiveKeyPressed()){let e=p.getState().mirror.appModel.currentTool;c.current=e}e.setHighFiveKeyPressed(!0),e.update(),u()}},[e,u,p]),_=(0,a.useCallback)(t=>{"h"===t.key&&(e.getWiggleMode()&&null!==c.current&&c.current!==j.w3X.HAND&&j.i46.triggerActionInUserEditScope("set-tool-default",{source:"cursor-high-fives"}),c.current=null,e.setHighFiveKeyPressed(!1),e.stopWigglingNow())},[e,c]),h=(0,a.useCallback)(t=>{e.getWiggleMode()&&(e.setHighFiveKeyPressed(!1),e.stopWigglingNow()),(0===t.button||1===t.button)&&e.setMouseButtonHeld(!0)},[e]),g=(0,a.useCallback)(()=>{e.setMouseButtonHeld(!1)},[e]),f=(0,a.useCallback)(t=>{let r=!(t.target instanceof Element&&t.target.closest("#fullscreen-root"));e.setMouseLeftCanvas(r),e.update({x:t.clientX,y:t.clientY})},[e]),E=i&&l;eo("keydown",m,E),eo("keyup",_,E),eo("pointerdown",h,E),eo("pointerup",g,E),eo("mousemove",f,E&&s)}(e.cursorWiggleDetector);let t=(0,K.e6)(),[r,n]=(0,a.useState)([]),[i,l]=(0,a.useState)("HIDDEN"),[s,c]=(0,a.useState)(new Set),d=(0,v.uw)({subscribeToUpdates_expensive:!0}),u=(0,a.useRef)({oldEntitiesKey:"",oldHandsOnRightKey:"",oldWiggleMode:!1,oldWiggleStatus:"HIDDEN"});return I.cD.useInfoBySessionIdSubscription((0,a.useMemo)(()=>(0,B.o)(100,()=>{let r=d.current;if(!r)return;(function(e,t,r){if(!H.x||!j.Abq)return;let n=H.x.getState(),i=I.cD.infoBySessionId();if(!n.mirror||!n.mirror.appModel)return;let a=j.Abq.currentSessionID(),o=n.multiplayer,l=n.mirror.appModel.currentPage,s=o.observingSessionID,c=el(o.allUsers),d=Object.values(i).filter(e=>{if(!e.highFiveStatus||!e.mouse)return!1;let t=c[e.sessionId];return!!t&&(t.sessionID===a||ed(t,e,l,s,a))});t.cursorKinematics.updateCursors(d,a,t.cursorWiggleDetector.getWiggleMode(),t.cursorWiggleDetector.getMousePosition());let u=(null==e?void 0:e.zoomScale)||1;t.cursorCollisionDetector.updateAndCheckCollisions(d).forEach(e=>(function(e,t,r,n,i){let[a,o]=e,l=ec(n.cursorEntitySystem.getEntities(),a.sessionId),s=ec(n.cursorEntitySystem.getEntities(),o.sessionId);if(l&&s)return;let c=a.sessionId===r.toString(),d=o.sessionId===r.toString(),u=a.mouse.canvasSpacePosition,p=o.mouse.canvasSpacePosition,m=Z.computeMidpoint(u,p);m.y-=38/t;let _=u.x>p.x,h=c||d?c:_;(c&&!l||d&&!s)&&n.cursorWiggleDetector.startOrRefreshWiggle(),e.forEach((e,r)=>{if(!ec(n.cursorEntitySystem.getEntities(),e.sessionId)&&e.mouse){let i=es(e.mouse.canvasSpacePosition,n.cursorKinematics,e.sessionId,t,c);G.sZ&&setTimeout(()=>{W.G.trigger(j.sRF.GENERIC)},400),n.cursorEntitySystem.addEntity(new er({startingRelativePosition:{x:(i.position.x-m.x)*t,y:(i.position.y-m.y)*t},startingRotation:i.rotation,position:m,viewportZoomScale:t,cursorOnRightForWindup:0===r?_:!_,cursorOnRightForCollision:0===r?h:!h,sessionId:e.sessionId,getUserCursorTransform:()=>{var i,a;return es((null==(a=null==(i=I.cD.infoBySessionId()[e.sessionId])?void 0:i.mouse)?void 0:a.canvasSpacePosition)||{x:0,y:0},n.cursorKinematics,e.sessionId,t,0===r?c:d)}}))}}),n.cursorEntitySystem.addEntity(new et([{time:.3,event:()=>{n.cursorEntitySystem.addEntity(new X(m)),n.cursorEntitySystem.addEntity(new J(m));for(let e=0;e<6;e++)n.cursorEntitySystem.addEntity(new ee(m))}}])),i("figjam_cursor_high_five_events",{type:"give_high_five"})})(e,u,a,t,r)),t.cursorEntitySystem.update()})(r,e,t);let i=e.cursorEntitySystem.getEntities(),a=i.map(e=>e.id).join(",");a!==u.current.oldEntitiesKey&&n(i);let o=e.cursorWiggleDetector.getWiggleMode(),s=e.cursorWiggleDetector.getAboutToHide()?"ABOUT_TO_HIDE":o?"SHOWN":"HIDDEN";s!==u.current.oldWiggleStatus&&l(s);let p=e.cursorKinematics.getHandsOnRight(),m=Array.from(p.keys()).join(",");m!==u.current.oldHandsOnRightKey&&c(new Set(p)),u.current.oldEntitiesKey=a,u.current.oldWiggleMode=o,u.current.oldWiggleStatus=s,u.current.oldHandsOnRightKey=m}),[d,t,e])),[r,i,!e.cursorWiggleDetector.getMouseLeftCanvas(),s]}(),p=(0,v.OM)({subscribeToUpdates_expensive:!0}),m=(0,o.w1)(({multiplayer:{sessionID:e}})=>!!r[e]),_=(0,o.w1)(e=>e.multiplayerEmoji),h=(0,o.w1)(e=>e.mirror.appModel.currentPage),y=(0,o.w1)(e=>!e.mirror.appModel.hideMultiplayerCursors),b=(0,S.s5)((0,E.W)().showOutlines),T=(0,w.wj)(),O=function(e){let t=(0,g.Ce)()?"pointermove":"mousemove",[r,n]=(0,a.useState)(e);return(0,a.useEffect)(()=>{let e=e=>{n({x:e.clientX,y:e.clientY})};return document.addEventListener(t,e),()=>{document.removeEventListener(t,e)}},[n,t]),r}("REACTING_OR_CHATTING"===_.type?_.viewportPosition:null),N=(0,f.CM)(),L=(0,a.useContext)(C.O2),R=(0,a.useMemo)(()=>L.getCommentsWrapperOffset(p),[L,p]);if(null==p)return null;let P={left:`${0|p.x}px`,top:`${0|p.y}px`,width:`${0|p.width}px`,height:`${0|p.height}px`},M=(0-p.offsetX)*p.zoomScale+R.x,k=(0-p.offsetY)*p.zoomScale+R.y,D={top:`${p.y+p.height/2}px`,left:`${p.x+p.width/2}px`,transform:`translate(${M}px, ${k}px)`},F=t[0],x=F?F.color:tl.oDm;return a.createElement(a.Fragment,null,a.createElement(A.s,null,a.createElement("div",{"aria-hidden":!0,"data-forward-events-to-fullscreen":!0,className:tc.wL,style:D},m&&y&&a.createElement("div",{className:T?tc._W:tc.Mv},t.map(e=>a.createElement(th,{key:e.sessionID,user:e,viewportInfo:p,cursorEntities:l,cursorHandsOnRight:d,editorType:N,currentPageId:h,outlineModeEnabled:b,sessionInfo:r[e.sessionID],prefersReducedMotion:i,isHighFivingSupported:n}))))),a.createElement("div",{"aria-hidden":!0,"data-forward-events-to-fullscreen":!0,className:tc.Sq,style:P},a.createElement(e5,{showCursorChat:!!O&&"REACTING_OR_CHATTING"===_.type&&_.isChatting,position:O,color:x,viewportInfo:p,cursorWiggleStatus:s,cursorEntities:l,cursorHandsOnRight:d,isMouseOverCanvas:c}),n&&m&&y?a.createElement(eN,{viewportInfo:p,cursorEntities:l}):null,p?a.createElement(ta,{viewportInfo:p,multiplayerCursorsEnabled:y}):null,p?a.createElement(to,{multiplayerEmoji:_,cursorPosition:O,viewportInfo:p}):null))}let t_=(e,t,r)=>{let n=a.useRef(null);n.current=(null==e?void 0:e.sessionId)??n.current,(0,a.useEffect)(()=>{var e;n.current&&r&&(null==(e=y.mM)||e.setOtherUserChattingState(n.current,t))},[r,t]),(0,a.useEffect)(()=>{var e;return n.current&&(null==(e=y.mM)||e.setOtherUserChattingState(n.current,!1)),()=>{var e;n.current&&(null==(e=y.mM)||e.setOtherUserChattingState(n.current,!1))}},[])};function th({user:e,viewportInfo:t,cursorEntities:r,cursorHandsOnRight:n,editorType:i,currentPageId:o,outlineModeEnabled:l,sessionInfo:s,prefersReducedMotion:c,isHighFivingSupported:d}){let u=!(0,eS.Q)()&&s?s.chatMessage:[null],m=(0,T.ct)(),_=(0,T.E$)();(0,em.Ky)();let h=!!((null==s?void 0:s.mouse)&&ed(e,s,o,_,m));if(t_(s,!!(u&&u.length&&u[0]),h),!h||!(null==s?void 0:s.mouse))return null;let g=!!(0,p.Ub)().ee_text_selection_in_mp&&s.focusOnTextCursor,f=l?"#848484":e.color,E=s.mouse.canvasSpacePosition,y=(0,v.Qv)(t,E),b=function({x:e,y:t},{width:r,height:n}){return e<0||t<0||e>r||t>n}(y,t)&&function({x:e,y:t}){return e<-400||t<-100}(y),I=t.zoomScale,w=(I-1)*E.x,S=(I-1)*E.y,C=e.sessionID.toString();return a.createElement(tp,{x:E.x+w,y:E.y+S,isCursorAndChatAreaOffscreen:b},a.createElement(tu,{isCursorAndChatAreaOffscreen:b,cursorType:s.cursorType,name:e.name,chatMessage:u,color:f,sessionId:e.sessionID,isHighFiving:s.highFiveStatus,temporarilyHide:ec(r,C),isCursorHandOnRight:(0,en.C)(n,C),isHoveringWidgetWithHiddenCursors:s.isHoveringWidgetWithHiddenCursors,editorType:i,focusOnTextCursor:g??!1,prefersReducedMotion:c,isHighFivingSupported:d,aprilFunCursor:s.aprilFunCursor}))}function tg(){return a.createElement(m.Ou,{boundaryKey:"MultiplayerCursors",fallback:m.Yd.NONE_I_KNOW_WHAT_IM_DOING},a.createElement(tm,null))}},74892:(e,t,r)=>{"use strict";r.d(t,{A:()=>y,c:()=>v});var n=r(307824),i=r(120304),a=r(721500),o=r(87975),l=r(570464),s=r(103839),c=r(560072),d=r(907236),u=r(813096),p=r(23604),m=r(979144),_=r(385228),h=r(24588),g=r(101040),f=r(763456),E=r(986844);let y="nudge-amount",b=(0,a.I)(f.iUm);function v(e){let t=(0,i.OY)(),r=(0,m.Yf)(),a=(0,m.Sk)(),f=new p.kb({min:.1,smallNudgeAmount:u.a2,bigNudgeAmount:u.e2}),y=new p.kb({min:1,smallNudgeAmount:u.a2,bigNudgeAmount:u.e2}),v=()=>{t(d.U5())},I=e=>{e.keyCode===o.as.ENTER&&v()},w=new s.Cg(window.innerWidth/2-b/2,window.innerHeight/3);return n.createElement(g.G0,{title:(0,c.t)("fullscreen.nudge.nudge_amount"),headerSize:"small",initialPosition:w,onClose:v,dragHeaderOnly:!0,recordingKey:l.Mx(e,"modal")},n.createElement("div",{className:E.e2}),n.createElement(h.WA,null,n.createElement("label",{className:E.Sq},n.createElement(c.Tx,{id:"fullscreen.nudge.small_nudge"})),n.createElement("label",{className:E.Sq},n.createElement(c.Tx,{id:"fullscreen.nudge.big_nudge"}))),n.createElement(h.WA,null,n.createElement(_.WC,{className:E.Yh,formatter:f,property:r,onChange:e=>{(0,m.EB)().smallNudgeAmount.set(e)},onKeyDown:I,recordingKey:l.Mx(e,"smallNudgeInput")}),n.createElement(_.WC,{className:E.Ub,formatter:y,property:a,onChange:e=>{(0,m.EB)().bigNudgeAmount.set(e)},onKeyDown:I,recordingKey:l.Mx(e,"bigNudgeInput"),autoFocus:!0})),n.createElement("div",{className:E.e2}))}v.displayName="NudgeAmountPicker"},142088:(e,t,r)=>{"use strict";r.d(t,{De:()=>e7,G:()=>e4,M7:()=>tl,k5:()=>e3,kj:()=>tr,sj:()=>ti,ue:()=>tn});var n,i=r(307824),a=r(602216),o=r(120304),l=r(39004),s=r(385632),c=r(125504),d=r.n(c),u=r(916924),p=r(843148),m=r(87975),_=r(742756),h=r(980068),g=r(570464),f=r(537096),E=r(588900),y=r(698240),b=r(560072),v=r(432800),I=r(491920),w=r(762820),T=r(713620),S=r(526768),C=r(467412),A=r(4388),O=r(907152),N=r(784340),L=r(679804),R=r(481556),P=r(142548),M=r(973780),k=r(532128),D=r(24588),F=r(335080),x=r(761748),U=r(144972),B=r(473728),G=r(202612),V=r(599628),H=r(1196),W=r(835928),K=r(855776),Y=r(57064),q=r(22724),j=r(365868),$=r(308680),Z=r(72028),z=r(373508),Q=r(982968),X=r(35424),J=r(209084),ee=r(114028),et=r(492404),er=r(594336),en=r(856716),ei=r(243568),ea=r(637664),eo=r(122112),el=r(89285),es=r(324871),ec=r(94420),ed=r(643356),eu=r(963300),ep=r(399132),em=r(502436),e_=r(440860),eh=r(669060),eg=r(879972),ef=r(344360),eE=r(14517),ey=r(507944),eb=r(191864),ev=r(729992),eI=r(836436),ew=r(576420),eT=r(24236),eS=r(115368),eC=r(530860),eA=r(262960),eO=r(201020),eN=r(460144),eL=r(797895),eR=r(522540),eP=r(263448),eM=r(378668),ek=r(60340),eD=r(356120),eF=r(806164),ex=r(493572),eU=r(17408),eB=r(644096),eG=r(174980),eV=r(279564),eH=r(158524),eW=r(954484),eK=r(618745),eY=r(938144),eq=r(683336),ej=r(808100),e$=r(402264),eZ=r(980172),ez=r(305564),eQ=r(63408),eX=r(836904),eJ=r(101180),e0=r(895184);function e1(e){let t=e.stackMode;return"HORIZONTAL"===t||"VERTICAL"===t}function e2(e){return void 0!==e.objectsPanelThumbnailId}function e4(e){switch(e.stackMode){case"HORIZONTAL":if("WRAP"===e.stackWrap)switch(e.stackPrimaryAlignItems){case"MIN":case"SPACE_EVENLY":case"SPACE_BETWEEN":case void 0:return ex.c;case"CENTER":return eF.c;case"MAX":return eU.c;default:(0,u.gy)(e.stackPrimaryAlignItems)}else switch(e.stackCounterAlignItems){case"BASELINE":case"MIN":case void 0:return eP.c;case"CENTER":return eR.c;case"MAX":return eL.c;default:(0,u.gy)(e.stackCounterAlignItems)}case"VERTICAL":switch(e.stackCounterAlignItems){case"BASELINE":case"MIN":case void 0:return ek.c;case"CENTER":return eM.c;case"MAX":return eD.c;default:(0,u.gy)(e.stackCounterAlignItems)}}return ei.c}class e3 extends g.UR{render(){let e={transform:`translate3d(0px, ${this.props.top}px, 0)`,width:this.props.width,height:U.m},t=`${G.CE} ${G.G0}`;return this.props.isParentSelected&&(t+=" "+G.WM),this.props.isDescendantOfSymbol&&(t+=" "+G.eS),this.props.isDescendantOfInstance&&(t+=" "+G.Gy),i.createElement("div",{className:t,style:e},function(e){let t=[];for(let r=0;r<e+1;r++)t.push(i.createElement("span",{key:r,className:G.I1}));return i.createElement("span",{className:G.AF},t)}(this.props.level),this.props.sectionType===w.EJk.FIXED?(0,b.t)("fullscreen.properties_panel.constraints_resizing_panel.fixed"):(0,b.t)("fullscreen.properties_panel.scrolls"))}}function e6(e){let t=(0,k.wl)(),r=(e.abbreviatedStateName||e.name).replace(/\n/," ");if(t&&e.isResponsiveSet&&!e.isDefaultResponsiveSet&&(r=`/${r}`),e.shouldShowGuids){let t=w.GqY.getOverridePathForNode(e.guid);return`${r} (${e.guid}): [${t}]`}return r}function e8({children:e}){return i.createElement("div",{className:B.Sy,role:"textbox",tabIndex:0},e)}function e5(e){let t=O.TSSceneGraph.instance.get(e.guid),r=t?t.responsiveNodeRange:null,n=!!t&&t.isPrimaryResponsiveNode;return r?i.createElement("div",{className:y.cx.flex.$},r&&i.createElement("span",{className:y.cx.colorTextSecondary.pr2.$},`${(e=>{if(!e)return"";let{minWidth:t,maxWidth:r}=e,n=r&&isFinite(r)?` \u2013 ${r}`:" + ";return`${t??1}${n}`})(r)}${n?" \xb7 ":""}`),n&&i.createElement("span",{className:y.cx.colorTextBrand.$},(0,b.t)("sites.panel.main"))):null}function e7(e){let[t,r]=(0,i.useState)(null),[n,o]=(0,i.useState)(!1),l=e.svgOverride,s=(0,k.wl)();(0,i.useEffect)(()=>{r(e.isRenaming?e.name:null)},[e.name,e.isRenaming]);let c=e6({abbreviatedStateName:e.abbreviatedStateName,guid:e.guid,shouldShowGuids:e.shouldShowGuids,name:e.name,isDefaultResponsiveSet:e.isDefaultResponsiveSet,isResponsiveSet:e.isResponsiveSet}),u=g.S4(e.recordingKey,e.focusOnSingleClick?"click":"dblclick",()=>{e.startRenaming(e.guid)}),p=(0,i.useRef)(null),_=(0,i.useCallback)(e=>{var t;e&&(p.current=a.findDOMNode(e),null==(t=p.current)||t.select())},[]),h=g.ic(e.recordingKey,"change",e=>{var t;r(null==(t=e.currentTarget)?void 0:t.value)}),E=g.ag(e.recordingKey,"keydown",t=>{var r,i;if(!n){if(t.keyCode===m.as.ESCAPE)e.stopRenaming(!1);else if(t.keyCode===m.as.ENTER)e.stopRenaming(!0,null==(r=p.current)?void 0:r.value,c);else{if(t.keyCode!==m.as.TAB)return(0,T.eI)(t,T.fh.NO),g.Cy;t.preventDefault(),e.stopRenaming(!0,null==(i=p.current)?void 0:i.value,c),t.shiftKey?e.prevNodeGuid&&e.startRenaming(e.prevNodeGuid):e.nextNodeGuid&&e.startRenaming(e.nextNodeGuid)}}}),v=g.ye(e.recordingKey,"blur",()=>{var t;e.stopRenaming(!0,null==(t=p.current)?void 0:t.value,c)}),I=e.interiorSvg?e8:i.Fragment;return i.createElement(I,null,l?i.createElement(l,null):i.createElement(tn,{guid:e.guid,navigateAndPanTo:e.navigateAndPanTo,isDefaultResponsiveSet:e.isDefaultResponsiveSet}),e.isThumbnail&&i.createElement(f.A,{"data-tooltip-type":P.wL.TEXT,"data-tooltip":(0,b.t)("fullscreen.object_row.file_thumbnail"),className:G.KU,svg:Z.c}),e.isRenaming&&i.createElement(D.gf,{className:d()(G.Yh,e.inputTextOverridesClassName),ref:_,value:null!==t?t:e.name,onChange:h,onKeyDown:E,onBlur:v,onCompositionStart:()=>o(!0),onCompositionEnd:()=>o(!1),spellCheck:!1,autoCorrect:"off",autoCapitalize:"off"}),!e.isRenaming&&i.createElement("span",{className:d()(G.gt,e.staticTextOverridesClassName,s?y.cx.justifyBetween.$:""),onDoubleClick:e.focusOnSingleClick?void 0:u,onClick:e.focusOnSingleClick?u:void 0,dir:"auto"},i.createElement("div",{className:G.Qn,ref:e.layerNameRef},c),e.explicitVariableModeNames&&e.explicitVariableModeNames.length>0&&i.createElement("div",{className:G.Ml},i.createElement(F.k,{modeNames:e.explicitVariableModeNames})),!e.isHovered&&s&&i.createElement(e5,{guid:e.guid})))}function e9(e){var t;let r=(0,i.useRef)(null),[n,a]=(0,i.useState)(!1),o=e6({abbreviatedStateName:e.abbreviatedStateName,name:e.name,shouldShowGuids:e.shouldShowGuids,guid:e.guid,isDefaultResponsiveSet:e.isDefaultResponsiveSet,isResponsiveSet:e.isResponsiveSet}),l=(0,i.useCallback)(()=>{let e=r.current;return!!e&&e.scrollWidth>e.offsetWidth},[]),s=(0,i.useCallback)(()=>{a(l())},[a,l]);(0,i.useEffect)(()=>{s()},[s]);let{onContextMenu:c}=e,u=(0,i.useCallback)(t=>{c&&c(e.guid,t)},[c,e.guid]),{onMouseEnter:p}=e,m=(0,i.useCallback)(t=>{s(),p&&p(e.guid,t)},[p,e.guid,s]),{lockMouseDown:_}=e,h=(0,i.useCallback)(t=>{_&&_(e.guid,t)},[_,e.guid]),{visibleMouseDown:f}=e,E=(0,i.useCallback)(t=>{f&&f(e.guid,t)},[f,e.guid]),{onDragStartCallback:y}=e,b=(0,i.useCallback)(t=>{t.dataTransfer.effectAllowed="none",null!=y&&y(e.guid,t)},[y,e.guid]),{onDragOverCallback:v}=e,I=(0,i.useCallback)(t=>{null!=v&&v(e.guid,t)},[v,e.guid]),{onDragDropCallback:w}=e,T=(0,i.useCallback)(t=>{null!=w&&w(e.guid,t)},[w,e.guid]),{onDragEnterCallback:S}=e,A=(0,i.useCallback)(t=>{null!=S&&S(e.guid,t)},[S,e.guid]),{onDragLeaveCallback:O}=e,N=(0,i.useCallback)(t=>{null!=O&&O(e.guid,t)},[O,e.guid]),L=(0,i.useCallback)(()=>(0,R.iq)(e.nodeMemoryUsage,e.rootMemoryUsage,!0),[e.nodeMemoryUsage,e.rootMemoryUsage]),M={transform:`translate3d(0px, ${e.top}px, 0)`,width:e.width,height:U.k},k=e.fixed&&0!==e.width;k&&(M.top=e.stickyOffset);let D="FRAME"===e.nodeType,F=d()({[G.CE]:!0,[G.Ss]:0===e.level,[G.AL]:D&&!e1(e)&&!e.resizeToFit&&!e.isStateGroup,[G.yA]:D&&!e1(e)&&e.resizeToFit,[G.Qf]:D&&e1(e),[G.M1]:e.isStateGroup,[G.mw]:(0,C.K8)(e.nodeType),[G.O2]:"SECTION"===e.nodeType,[G.sF]:"SYMBOL"===e.nodeType,[G.E$]:"MODULE"===e.nodeType,[G.cT]:"INSTANCE"===e.nodeType,[G.Ko]:e.isStamp,[G.sN]:"HIGHLIGHT"===e.nodeType,[G.MF]:"WIDGET"===e.nodeType||e.isWidgetSublayer,[G.eS]:e.isDescendantOfSymbol,[G.Gy]:e.isDescendantOfInstance,[G.wj]:e.isDescendantOfModule,[G.w7]:e.mask,[G.gL]:!!k,[G.wt]:!!e.layerAbove,[G.G2]:e.isHovered,[G.Oo]:e.isSelected,[G.WM]:e.isAncestorSelected,[G.SE]:!e.visible||e.isAncestorHidden,[G.g1]:e.locked||e.isAncestorLocked,[G.Al]:e.hasChildren&&e.isExpanded}),x=(null==(t=e.versionHistory)?void 0:t.activeId)&&"current_version"===e.versionHistory.activeId,B=e.showMemoryUsage&&e.showInFileMemoryPercentage&&!e.isRenaming&&x;return i.createElement("div",{className:F,style:M,onContextMenu:u,onMouseEnter:m,draggable:!1,onDragOver:I,onDrop:T,onDragStart:b,onDragEnter:A,onDragLeave:N,"data-testid":e.hasChildren?"layer-row-with-children":"layer-row","data-tooltip-type":P.wL.TEXT,"data-tooltip":n?o:null,"data-tooltip-max-lines":4,"data-tooltip-hide-immediately":!0,"data-tooltip-show-right":!0,"data-tooltip-text-left":!0},i.createElement(te,{guid:e.guid,mask:e.mask,level:e.level,hasChildren:e.hasChildren,isExpanded:e.isExpanded,displayOrder:e.displayOrder,isMaskedAtLevels:e.isMaskedAtLevels,isLastMaskedAtLevels:e.isLastMaskedAtLevels,dispatch:e.dispatch,expandMouseDown:e.expandMouseDown,currentPage:e.currentPage,recordingKey:g.Mx(e,"indents")}),i.createElement(e7,{...e,layerNameRef:r}),B&&i.createElement("span",{className:G.c3,dir:"auto"},L()),!e.hideRowActions&&!e.isRenaming&&!e.readonly&&!e.isDragging&&i.createElement("span",{className:G.cP},i.createElement(ta,{recordingKey:g.Mx(e,"lockIcon"),locked:e.locked,isAncestorLocked:e.isAncestorLocked,onMouseDown:h}),i.createElement(to,{recordingKey:g.Mx(e,"visibleIcon"),visible:e.visible,isAncestorHidden:e.isAncestorHidden,onMouseDown:E})))}e3.displayName="SectionRow",e9.displayName="ObjectRow";class te extends i.PureComponent{constructor(){super(...arguments),this.expandMouseDown=e=>{this.props.expandMouseDown(this.props.guid,e)}}renderNodeIndents(){let e=[];for(let t=0;t<this.props.level+1;t++){let r=`[${t}]`,n=-1!==this.props.isLastMaskedAtLevels.indexOf(r),a=-1!==this.props.isMaskedAtLevels.indexOf(r),o=t===this.props.level&&this.props.mask,l=t===this.props.level&&this.props.hasChildren,s=G.w7;this.props.displayOrder===I.Q5.DOM&&(s+=" "+G.O4),o||a||n?n?e.push(i.createElement(f.A,{key:t,svg:l?ey.c:eb.c,className:s})):a?e.push(i.createElement(f.A,{key:t,svg:l?eE.c:ef.c,className:s})):o&&e.push(i.createElement(f.A,{key:t,svg:l?eh.c:e_.c,className:s})):e.push(i.createElement("span",{key:t,className:G.I1})),l&&e.push(i.createElement(f.A,{key:"expand-caret",className:this.props.isExpanded?G.Q9:G.R1,svg:this.props.isExpanded?V.c:H.c,onMouseDown:this.expandMouseDown,recordingKey:g.Mx(this.props,"expandCaret")}))}return e}render(){return i.createElement("span",{className:G.AF},this.renderNodeIndents())}}te.displayName="Indents";let tt=new _.o(750);function tr(e,t){let r=tt.get(e);return r&&r.thumbnailId===t||(r={thumbnailId:t,svg:A.ye(e)},tt.set(e,r)),r.svg}(e=>{function t(e,t){var r;if(!e)return eT.c;let n=e.type;switch((0,C.QP)(e)&&(n="STAMP"),n){case"BOOLEAN_OPERATION":switch(e.booleanOperation){case"UNION":return J.c;case"INTERSECT":return Q.c;case"SUBTRACT":return X.c;case"XOR":return ee.c;default:return eT.c}case"VECTOR":return ez.c;case"STAR":return eG.c;case"LINE":return ec.c;case"ELLIPSE":return er.c;case"RECTANGLE":break;case"REGULAR_POLYGON":return ew.c;case"ROUNDED_RECTANGLE":return 0===e.cornerRadius?eT.c:eS.c;case"TEXT":return ej.c;case"SLICE":return eN.c;case"GROUP":case"FRAME":if((0,k.qe)()&&e2(e)&&e.isResponsiveSet)return i.createElement(l.A,null);if((0,k.qe)()&&e2(e)&&(null==(r=e.parentNode)?void 0:r.isResponsiveSet))return(0,M.I)(e.size.x);if(e.isStateGroup)return eW.c;if(e1(e))return e4(e);else if(e.resizeToFit)return ea.c;else return ei.c;case"MODULE":return eY.c;case"SYMBOL":if((0,p.Ub)().dse_templates_proto&&e2(e)&&e.isTemplate)return eY.c;if(e2(e)&&e.isState||(null==t?void 0:t.isStateGroup))return eK.c;return eW.c;case"INSTANCE":return eo.c;case"STICKY":return eV.c;case"SHAPE_WITH_TEXT":return eA.c;case"CONNECTOR":return et.c;case"STAMP":return eB.c;case"SECTION":return eC.c;case"WIDGET":{let t=e.guid?O.TSSceneGraph.instance.get(e.guid.toString()):null;if(t&&"EMBED_WIDGET"===t.widgetId)return en.c;if(t&&"LINK_PREVIEW_WIDGET"===t.widgetId)return ed.c;return eQ.c}case"CANVAS":return ev.c;case"TABLE":return eq.c}return eT.c}function r(e){let t=(0,h.ei)((e,t)=>tr(e,t)),{guid:r,node:n,isMenuIcon:a,isMenuIconPurple:o,className:l,editModeType:s,detachedInfo:d}=e,u=n?t(r,n.objectsPanelThumbnailId):"",p=null==n?void 0:n.hasEnabledAnimatedPaint,m=null==n?void 0:n.hasEnabledVideoPaint,_=null==n?void 0:n.isLiveObject;return i.createElement(c,{className:l,node:n,isMenuIcon:a,isMenuIconPurple:o,thumbnailSrc:u,onDoubleClick:()=>{e.node&&(e.navigateAndPanTo?e.navigateAndPanTo(e.node.guid):w.i46.panToNode(e.node.guid))},animated:p||m,staticImage:null==n?void 0:n.hasEnabledStaticImagePaint,editModeType:s,detachedInfo:d,isLiveObject:_,isDefaultResponsiveSet:e.isDefaultResponsiveSet})}e.defaultIconSrcForNode=t,e.LayerIcon=r,r.displayName="LayerIcon";let n=e=>e.mirror.sceneGraph;e.ConnectedLayerIcon=function(e){let t=(0,o.w1)(n);return i.createElement(r,{...e,node:t.get(e.guid)||null})};class a extends i.PureComponent{getAllPaints(e){return[...e.fillPaints||[],...e.strokePaints||[],...e.backgroundPaints||[]]}renderBaseIcon(){let{node:e,parentNode:t,isMenuIcon:r,isMenuIconPurple:n,className:a}=this.props;return i.createElement(c,{className:a,node:e,parentNode:t,isMenuIcon:r,isMenuIconPurple:n,animated:this.hasEnabledAnimatedPaintNodeChange(e),staticImage:this.hasEnabledStaticPaintNodeChange(e)})}renderVariableIcon(){let{variableResolvedType:e}=this.props.node;return null==e?this.renderBaseIcon():i.createElement(x.m,{type:e})}renderVariableCollectionIcon(){return i.createElement(f.A,{svg:e0.c,className:this.props.className,autosize:!0})}renderStyleIcon(){let{node:e,className:t}=this.props;switch(e.styleType){case"GRID":let r=(0,v.y5)(e);return i.createElement(f.A,{svg:r,className:t,autosize:!0,width:"10px"});case"FILL":return i.createElement(f.A,{svg:Y.c,className:t});case"EFFECT":return i.createElement(f.A,{svg:K.c,className:t});case"TEXT":return i.createElement(f.A,{svg:q.c,className:t});default:return this.renderBaseIcon()}}hasEnabledAnimatedPaintNodeChange(e){for(let t of this.getAllPaints(e))if(t.animatedImage)return!0;return!1}hasEnabledStaticPaintNodeChange(e){for(let t of this.getAllPaints(e))if(t.image)return!0;return!1}render(){let{node:e,className:t}=this.props;return e.styleType?this.renderStyleIcon():"VARIABLE"===e.type?this.renderVariableIcon():"VARIABLE_SET"===e.type?this.renderVariableCollectionIcon():"CANVAS"===e.type?i.createElement(f.A,{svg:j.c,className:t}):this.renderBaseIcon()}}e.NodeChangeIcon=a;class c extends i.PureComponent{render(){let e,r;let{node:n,parentNode:a,animated:o,staticImage:l,thumbnailSrc:c,isMenuIcon:u,isMenuIconPurple:p,onDoubleClick:m,editModeType:_,detachedInfo:h,isLiveObject:g}=this.props;if(!n)return null;let y=G.KU;c&&(y=G.D1),u&&(y=p?G.w6:G.Is);let b=!1;this.props.isDefaultResponsiveSet?e=i.createElement(s.O,null):n.mask?e=eg.c:(o||l)&&(0,C.gt)(n.type)&&!(0,C.QP)(n)?e=o?el.c:es.c:c?e=(0,f.o)(c):_===w.a_v.DEV_HANDOFF&&(null==h?void 0:h.status)==="loaded"&&"SYMBOL"!==n.type&&"INSTANCE"!==n.type?(e=W.c,b=!0):g?e=eu.c:(e=t(n,a),r=function(e){if(e)switch(e.type){case"TEXT":return e$.c;case"STICKY":return eH.c;case"SHAPE_WITH_TEXT":return eO.c;case"FRAME":if(e1(e))return e4(e);break;case"CANVAS":return eI.c}}(n));let v=!b&&"ABSOLUTE"===n.stackPositioning&&i.createElement(f.A,{className:G.mQ,svg:z.c});return i.createElement("span",{className:d()(this.props.className||y,G.sb),onDoubleClick:m},"string"==typeof e?i.createElement(E._,{svg:e,fallbackSvg:r}):i.createElement("span",{style:{stroke:"none",fill:"none"}},e),v)}}e.LayerIconBase=c})(n||(n={}));let tn=n.ConnectedLayerIcon,ti=n.NodeChangeIcon;class ta extends g.UR{constructor(){super(...arguments),this.stopPropagation=e=>e.stopPropagation(),this.onMouseDown=g.yw(this,"mousedown",e=>{this.props.onMouseDown(e)})}render(){let e,t;return this.props.locked?(e=ep.c,t=em.c):e=this.props.isAncestorLocked?$.c:eZ.c,i.createElement(E._,{className:G.pW,svg:e,fallbackSvg:t,onMouseDown:this.onMouseDown,onDoubleClick:this.stopPropagation})}}ta.displayName="LockIcon";class to extends g.UR{constructor(){super(...arguments),this.stopPropagation=e=>e.stopPropagation(),this.onMouseDown=g.yw(this,"mousedown",e=>{this.props.onMouseDown(e)})}render(){let e;return e=this.props.isAncestorHidden&&this.props.visible?$.c:this.props.visible?eJ.c:eX.c,i.createElement(f.A,{className:G.Q1,svg:e,onMouseDown:this.onMouseDown,onDoubleClick:this.stopPropagation})}}function tl(e){let t=(0,S.i)("prototype_sections_zoom"),r=i.useCallback(e=>{t((0,L.Qn)({nodeId:e,alwaysPan:!0}))},[t]),n=(0,N.oJ)(e.guid);return i.createElement(e9,{...e,explicitVariableModeNames:n,navigateAndPanTo:r})}to.displayName="VisibleIcon"},581384:(e,t,r)=>{"use strict";r.d(t,{AX:()=>g,_e:()=>h,_i:()=>_,ey:()=>I,oQ:()=>d,sF:()=>f,sf:()=>p,uY:()=>v,ug:()=>u});var n=r(916924),i=r(980068),a=r(491920),o=r(762820),l=r(467412),s=r(513048),c=r(144972);function d(e,t,r,n){return e.top+c.k>n-t&&e.top<n+r+t||!!e.fixed}function u(e,t,r){return d(e,t/2,t,r)}function p(e,t,r){if(!e.length)return[];let i=t=>{let r,i;let a=e.length,o=0,l=a-1;if(t<=0)return 0;if(t>=e[a-1].top+c.k)return a-1;for((0,n.kz)(o<=l,"binary search min <= max predicate failed");o<=l;)if((i=e[r=(o+l)/2|0]).top+c.k<t)o=r+1;else if(i.top>t)l=r-1;else break;return r},a=t/2,o=i(r-a),l=i(r+t+a);return e.slice(o,l+1)}function m(e,t){let r=e.get(t);if((0,n.kz)(null!=r,"node not found in scenegraph"),!(r.isExpanded||r.isTemporarilyExpanded)||0===r.uiOrderedChildren.length)return c.k;let i=c.k;for(let t of(r.fixedChildrenCount>0&&(i+=2*c.m),r.uiOrderedChildren))i+=m(e,t);return i}function _(e,t){let r=[],i=t.get(e);for((0,n.kz)(null!=i,"node not found in scenegraph");i&&"CANVAS"!==i.type;){let e=i.guid;i=i.parentNode,(0,n.kz)(null!=i,"parent node not found in scenegraph");let t=i.uiOrderedChildren.indexOf(e);r.push(t)}return r.reverse(),r}function h(e,t,r){let i=e.reduce((e,r)=>t.get(e.uiOrderedChildren[r]),t.get(r));return(0,n.kz)(null!=i,"node from path is not found in scenegraph"),i.guid}function g(e,t,r,n,i=!1){let a=null,o=null,l=null;for(let e in r){let t=r[e],i=t+c.k;if(n>=t&&n<=i){a=e;break}(!o||r[e]<r[o])&&(o=e),(!l||r[e]>r[l])&&(l=e)}if(!a&&(o&&n<r[o]?a=o:l&&n>r[l]+c.k&&(a=l)),a&&i){let r=(0,s.cz)(e,t,a);if(r)return r.guid}return a}let f=16,E=(0,i.ei)((e,t)=>{let r=1/0;return(0,s.Mx)(e,t,t=>{t&&(r=Math.min(r,(0,l.Wm)(e,t.guid)))}),r===1/0&&(r=0),r});function y(e,t,r,i,a,s,d){let u=E(e,t)+(i>0?Math.floor(i/f):Math.ceil(i/f)),p=s<a.uiOrderedChildren.length?r[a.uiOrderedChildren[s]]+("before"===d?0:c.k):r[a.guid]+m(e,a.guid),_=s<a.fixedChildrenCount?o.EJk.FIXED:o.EJk.SCROLLS,h={parent:a,index:s+("before"===d?0:1),section:_},g=(0,l.Wm)(e,a.guid)+1;for(;g>u;){let t=function(e,t){if("CANVAS"===t.parent.type||"DOCUMENT"===t.parent.type||t.index!==t.parent.uiOrderedChildren.length||t.section===o.EJk.FIXED)return t;let r=(0,l.IJ)(e,t.parent.guid);(0,n.kz)(null!=r,"parent node not in scenegraph");let i=r.uiOrderedChildren.indexOf(t.parent.guid);return{parent:r,index:i+1,section:i<r.fixedChildrenCount?o.EJk.FIXED:o.EJk.SCROLLS}}(e,h);if(t!==h)h=t,g--;else break}for(;g<u;){let t=function(e,t){if(0===t.index)return t;let r=e.get(t.parent.uiOrderedChildren[t.index-1]);return((0,n.kz)(null!=r,"node not in scenegraph"),(0,l.Qj)(r.type)&&t.index!==t.parent.fixedChildrenCount&&(r.isExpanded||r.isTemporarilyExpanded||!(r.uiOrderedChildren.length>0)))?{parent:r,index:r.uiOrderedChildren.length,section:o.EJk.SCROLLS}:t}(e,h);if(t!==h)h=t,g++;else break}let y=h.parent.guid;return{parentGuid:y,index:h.index,section:h.section,parentTop:r[y],lineTop:p,lineIndent:g*f}}function b(e,t,r,i,a,d){let u=e.get(i);if(!u)return null;let p=r[i],_=(0,l.IJ)(e,i);(0,n.kz)(null!=_,"parent not found");let h=_.uiOrderedChildren.indexOf(i),g=(0,l.Qj)(u.type),f=(n,i,o)=>y(e,t,r,a,n,i,o);if(g&&(0,s.mS)(t,i))return f(_,h,d>p+m(e,i)/2?"after":"before");if(g){if(d<p+c.k/3)return f(_,h,"before");if(!(d<p+2*c.k/3))return u.isExpanded||u.isTemporarilyExpanded?f(u,0,"before"):f(_,h,"after");{let t=e.get(i);return t?{parentGuid:i,index:t.fixedChildrenCount,section:o.EJk.SCROLLS,parentTop:p}:null}}if(!(d>p+c.k))return f(_,h,d>p+c.k/2?"after":"before");{let t=u;for(;"CANVAS"!==t.type;){let r=null!=t.parentGuid?e.get(t.parentGuid):null;(0,n.kz)(null!=r,"node not in scenegraph"),t=r}return f(t,t.uiOrderedChildren.length,"before")}}function v(e,t,r,i,a,l,c){if(c){let t=e.get(c);return t?{parentGuid:c,index:t.fixedChildrenCount,section:o.EJk.SCROLLS,parentTop:"sticky"}:null}{let c=function(e,t){let r=null;for(let n in e){let i=e[n];t>=i.top&&t<i.top+i.height&&(!r||i.top>r.top)&&(r=i)}return r}(i,l),d=g(e,t,r,l,!0),u=null;return!d&&c?u=function(e,t,r,i,a,l){let c=(0,s.cz)(e,t,i.parentGuid);if(c)return b(e,t,r,c.guid,a,l);{var d;let l=e.get(i.parentGuid);return(0,n.kz)(null!=l,"parent node not in scenegraph"),d=i.type===o.EJk.FIXED?0:l.fixedChildrenCount,y(e,t,r,a,l,d,"before")}}(e,t,r,c,a,l):d&&(u=b(e,t,r,d,a,l)),u&&c&&c.parentGuid===u.parentGuid&&(u.section=c.type),u}}function I(e,t){return e.childrenDisplayOrder===a.Q5.DESIGN?e.uiOrderedChildren.length-t:t}},520552:(e,t,r)=>{"use strict";r.d(t,{is:()=>y,kT:()=>f,oD:()=>m});var n=r(916924),i=r(594192),a=r(570464),o=r(491920),l=r(762820),s=r(467412),c=r(427012),d=r(513048),u=r(256896),p=r(144972);class m{constructor(e,t){this.sceneGraph=e,this.sceneGraphSelection=t,this.nodes={},this.ancestorInfos={},this.maskInfos={}}getNode(e){if(!this.nodes[e]){let t=this.sceneGraph.get(e);t&&(this.nodes[e]=t)}return this.nodes[e]}getAncestorInfo(e){let t=this.ancestorInfos[e];if(t)return t;let r=this.getNode(e);if((0,n.kz)(null!=r,"getAncestorInfo called on invalid node"),r.parentGuid){let n=this.getAncestorInfo(r.parentGuid);t={isAncestorHidden:n.isAncestorHidden||!r.visible,isAncestorLocked:n.isAncestorLocked||r.locked,isAncestorSelected:n.isAncestorSelected||(0,d.mS)(this.sceneGraphSelection,e),childrenDisplayOrder:r.childrenDisplayOrder}}else t={isAncestorHidden:!1,isAncestorLocked:!1,isAncestorSelected:!1,childrenDisplayOrder:o.Q5.DESIGN};return this.ancestorInfos[e]=t,t}getMaskInfo(e){let t=this.maskInfos[e];if(t)return t;let r=this.getNode(e);if((0,n.kz)(null!=r,"getMaskInfo called on invalid node"),"CANVAS"===r.type)this.maskInfos[e]={level:0,isMaskedAtLevels:"",isLastMaskedAtLevels:""};else{let e=r.parentGuid,t=e&&this.getNode(e),n=t?this.getMaskInfo(e):void 0;if(t&&n){let e=n.level,r=n.isMaskedAtLevels,i=t.fixedChildrenCount,a=t.reversedChildrenGuids,l=!1,s=!1;for(let t=0;t<a.length;t++){let n=a[a.length-t-1],c=this.getNode(n);if(!c)continue;let d=c.mask,u=l&&(d||(0,o.Kg)(c.type)&&!c.resizeToFit&&!c.frameMaskDisabled||a.length-t===i);u&&(l=!1),d&&(l=c.visible),u&&!s&&(this.maskInfos[a[a.length-t]].isLastMaskedAtLevels+=`[${e}]`),this.maskInfos[n]={level:e+1,isMaskedAtLevels:r+(l&&!d?`[${e}]`:""),isLastMaskedAtLevels:""},s=d}l&&!s&&(this.maskInfos[a[0]].isLastMaskedAtLevels+=`[${e}]`)}}return this.maskInfos[e]}}function _(e){for(let t=e.length-1;t>=0;t--){let r=e[t];if("object"===r.rowType)return r}return null}function h(e,t,r,n){let{indentLevel:i,opts:o,pathFromRoot:l}=r,s={nodeGuid:t[n],indentLevel:i+1,opts:{isDescendantOfSymbol:"SYMBOL"===e.type||o.isDescendantOfSymbol,isDescendantOfInstance:"INSTANCE"===e.type||o.isDescendantOfInstance,isDescendantOfModule:"MODULE"===e.type||o.isDescendantOfModule}};return a.IN()&&(s.pathFromRoot=[...l,n]),s}function g(e,t,r,n,i,a){let o=`${t}.${e.numSections}`,l={rowType:"section",top:e.top,level:r,sectionType:t,sectionId:o,isDescendantOfSymbol:n,isDescendantOfInstance:i,isDescendantOfModule:a};return e.allRowData.push(l),e.top+=p.m,e.numSections++,l}function f(e,t){return(0,s.K8)(t.type)||"SECTION_OVERLAY"===t.type}function E(e,t){let r;let{nodeGuid:n,indentLevel:a,opts:o,pathFromRoot:s}=t,d=e.sceneGraph.get(n);if(!d||"SECTION_OVERLAY"===d.type&&!e.showImmutableFrameSublayers)return;d.mask&&e.maskGuids.push(d.guid);let m=null;if(e.allRowData.length>0){let t=_(e.allRowData);t.nextNodeGuid=d.guid,m=t.guid}let y="WIDGET"===d.type&&(d.widgetVersionId||d.widgetId&&(0,c.eY)(d.widgetId)),b=f(e.sceneGraph,d)&&!e.showImmutableFrameSublayers||y;if("SECTION"===d.type&&1===d.uiOrderedChildren.length){let t=e.sceneGraph.get(n);r=!(t&&"SECTION_OVERLAY"===t.type)}else r=d.uiOrderedChildren.length>0&&!b;let v={rowType:"object",guid:d.guid,isExpanded:d.isExpanded,isTemporarilyExpanded:d.isTemporarilyExpanded,hasChildren:r,top:e.top,level:a,prevNodeGuid:m,nextNodeGuid:null,isDescendantOfSymbol:o.isDescendantOfSymbol,isDescendantOfInstance:o.isDescendantOfInstance,isDescendantOfModule:o.isDescendantOfModule};s&&(v.recordingKey=`objectsPanel.row.${s.join(".")}`),e.allRowData.push(v),e.objectRowByGuid[d.guid]=v,e.topByGuid[n]=e.top,e.top+=p.k;let I=d.isExpanded||d.isTemporarilyExpanded;I&&d.uiOrderedChildren.length>0&&(b||(d.fixedChildrenCount>0?function(e,t,r){let n=t.uiOrderedChildren.map(t=>e.sceneGraph.get(t)).filter(i.aI).map((e,t)=>({node:e,index:t,scrollBehavior:e.scrollBehavior})),a=e.top,o="SYMBOL"===t.type||r.opts.isDescendantOfSymbol,s="INSTANCE"===t.type||r.opts.isDescendantOfInstance,c="MODULE"===t.type||r.opts.isDescendantOfModule,d=g(e,l.EJk.FIXED,r.indentLevel+1,o,s,c);n.filter(({scrollBehavior:e})=>"FIXED_WHEN_CHILD_OF_SCROLLING_FRAME"===e).forEach(({index:i})=>{E(e,h(t,n.map(e=>e.node.guid),r,i))});let u=e.top,p=g(e,l.EJk.SCROLLS,r.indentLevel+1,o,s,c);n.filter(({scrollBehavior:e})=>"FIXED_WHEN_CHILD_OF_SCROLLING_FRAME"!==e).forEach(({index:i})=>{E(e,h(t,n.map(e=>e.node.guid),r,i))});let m=e.top;e.sectionById[d.sectionId]={parentGuid:t.guid,top:a,height:u-a,type:d.sectionType},e.sectionById[p.sectionId]={parentGuid:t.guid,top:u,height:m-u,type:p.sectionType}}(e,d,t):function(e,t,r){let n=t.uiOrderedChildren;for(let i=0;i<n.length;i++)E(e,h(t,n,r,i))}(e,d,t))),I&&(0,u.W0)(d,e.sceneGraph)&&!e.temporarilyExpandedInstanceLayers.includes(d.guid)&&function(e,t,r){let n={rowType:"layer-expansion",containingPrimaryInstanceGUID:t,top:e.top,level:r+1};e.allRowData.push(n),e.top+=p.k}(e,d.guid,a)}function y(e,t,r,n,i){let o={allRowData:[],numSections:0,top:0,topByGuid:Object.create(null),objectRowByGuid:Object.create(null),sectionById:Object.create(null),sceneGraph:e,maskGuids:[],showImmutableFrameSublayers:r,temporarilyExpandedInstanceLayers:n};if(!function(e,t,r){if(!t)return;let n={isAncestorHidden:!1,isAncestorLocked:!1,isDescendantOfSymbol:!1,isDescendantOfInstance:!1,isDescendantOfModule:!1};if(r){E(e,{nodeGuid:t.guid,indentLevel:0,opts:n,pathFromRoot:[0]});return}let i=t.children;if(i&&i.length)for(let t=0;t<i.length;t++){let r={nodeGuid:i[t],indentLevel:0,opts:n};a.IN()&&(r.pathFromRoot=[t]),E(e,r)}}(o,t,i),o.allRowData.length>1){let e=function(e){for(let t=0;t<e.length;t++){let r=e[t];if("object"===r.rowType)return r}return null}(o.allRowData),t=_(o.allRowData);e.prevNodeGuid=t.guid,t.nextNodeGuid=e.guid}return{rowData:o.allRowData,topByGuid:o.topByGuid,sectionById:o.sectionById,totalHeight:o.top}}},589940:(e,t,r)=>{"use strict";r.d(t,{Q:()=>g,u:()=>f});var n=r(307824),i=r(721500),a=r(427074),o=r(855076),l=r(103839),s=r(148276),c=r(560072),d=r(907236),u=r(644092),p=r(101040),m=r(763456),_=r(159096);let h=(0,i.I)(m.Ooh);function g(e){let t=(0,u.aQ)(),r=n.useMemo(()=>new l.Cg(window.innerWidth/2-h/2,window.innerHeight-(t>0?120+t:150)),[t]);return n.createElement(f,{initialPosition:r,...e})}class f extends n.PureComponent{constructor(e){super(e),this.onClose=()=>{this.props.dispatch(d.qq()),(0,o.KA)("never")},this.onClickOpenInApp=()=>{this.props.dispatch(d.qq()),(0,o.KA)(this.state.alwaysChecked?"always":"never"),(0,a.w5)(location.href)},this.onClickAlwaysOpenDesktopApp=()=>{this.setState({alwaysChecked:!this.state.alwaysChecked})},this.state={alwaysChecked:"never"!==(0,o.kf)()}}static shouldShowOnce(){return(0,o.iY)()&&void 0===(0,o.kf)()}static shouldAutoOpen(){return(0,o.iY)()&&"always"===(0,o.kf)()}static toggleAutoOpen(){let e="always"===(0,o.kf)();(0,o.KA)(e?"never":"always")}static isAutoOpenEnabled(){return"always"===(0,o.kf)()}static enableAutoOpen(){(0,o.KA)("always")}static disableAutoOpenIfUnset(){void 0===(0,o.kf)()&&(0,o.KA)("never")}render(){return n.createElement(p.G0,{initialPosition:this.props.initialPosition,title:(0,c.t)("desktop_open_views.open_in_desktop_modal.title"),headerSize:"small",dragHeaderOnly:!0,onClose:this.onClose},n.createElement("div",{className:_.u},n.createElement("div",{className:_.Y},n.createElement(s.Km,{id:"always-open-desktop-app",checked:this.state.alwaysChecked,onClick:this.onClickAlwaysOpenDesktopApp}),n.createElement(s.iM,{htmlFor:"always-open-desktop-app"},n.createElement(c.Tx,{id:"desktop_open_views.open_in_desktop_modal.always_open_in_app_checkbox"}))),n.createElement("div",{className:_.Y},n.createElement(s.wX,{onClick:this.onClose},n.createElement(c.Tx,{id:"desktop_open_views.modal.dismiss_button"})),n.createElement(s.gV,{onClick:this.onClickOpenInApp},n.createElement(c.Tx,{id:"desktop_open_views.open_in_desktop_modal.open_in_app_button"})))))}}f.displayName="OpenDesktopAppModal"},68588:(e,t,r)=>{"use strict";let n;r.d(t,{O:()=>R,X:()=>D});var i=r(307824),a=r(120304),o=r(946692),l=r(700512),s=r(250008),c=r(733960),d=r(47956),u=r(204792),p=r(703520),m=r(30128),_=r(71556),h=r(672352),g=r(537096),f=r(560072),E=r(403132),y=r(762820),b=r(229372),v=r(833492),I=r(397888),w=r(187007),T=r(246120),S=r(138780),C=r(740718);let A="post_to_feed_view--caretIcon--akCZQ";var O=r(599628),N=r(840468),L=r(1196),R=((n=R||{}).LOADED="post-to-feed-view-loaded",n.SELECT_NODE="post-to-feed-select-node",n);function P(e){return i.createElement("div",{className:null!==e.isSelectedIdx?"post_to_feed_view--selectedTile--D6T9A post_to_feed_view--tile--9a4ta":"post_to_feed_view--tile--9a4ta",onClick:e.onClick,role:"button",tabIndex:0,ref:t=>{t&&e.observe(t)},"data-observer-guid":e.node.guid},i.createElement("div",{className:"post_to_feed_view--tileThumbnail--FkrR9",style:{backgroundColor:e.backgroundColor}},i.createElement(m.E,{isLoading:!e.thumbnailUrl},()=>i.createElement("img",{className:"post_to_feed_view--thumbnail--uAumv",src:e.thumbnailUrl,alt:"",draggable:!1}))),i.createElement("div",{className:"post_to_feed_view--tileDetails--FZrxQ"},i.createElement("div",{className:"post_to_feed_view--nodeName--jbJro"},e.node.name)),null!==e.isSelectedIdx&&1!==e.totalNumSelected&&i.createElement("div",{className:"post_to_feed_view--tileOverlay--iyl2x"},e.isSelectedIdx+1))}function M(e){let{toggleSelectNode:t}=e,r=(e.pageNode&&(0,o.colorToHex)(e.pageNode.backgroundColor))??"",[n,a]=i.useState(!1),l=i.useCallback(n=>{t(n,{pageId:e.pageNode.guid,pageBackgroundColor:r})},[t,e.pageNode.guid,r]);return i.createElement("div",{className:"post_to_feed_view--pageSection--85j7J"},e.showCollapsibleHeader&&i.createElement("div",{className:"post_to_feed_view--pageHeader--ZOfTF",onClick:()=>a(e=>!e),role:"button",tabIndex:0},n?i.createElement(g.A,{svg:L.c,className:A}):i.createElement(g.A,{svg:O.c,className:A}),e.pageNode.name,"\xa0",i.createElement("span",{className:"post_to_feed_view--pageHeaderFaint--p-zwO"},"\xb7 ",e.nodes.length)),!n&&i.createElement("div",{className:"post_to_feed_view--tilesGrid--Ft03l"},e.nodes.map(t=>{var n,a,o;let s=(null==(n=e.selectedNodeGuids)?void 0:n.indexOf(t.guid))??null;return i.createElement(P,{key:`node-${t.guid}`,node:t,thumbnailUrl:(null==(a=e.thumbnailByGuid[t.guid])?void 0:a.url)??"",backgroundColor:r,isSelectedIdx:-1===s?null:s,onClick:()=>l(t.guid),totalNumSelected:(null==(o=e.selectedNodeGuids)?void 0:o.length)??null,observe:e.observe})})))}let k="feed-post-page-selector-menu";function D(){let e=i.useCallback((e,t)=>{let r=window.parent;window.self.origin===r.origin&&r&&r.postMessage({type:e,data:t})},[]),t=i.useRef(new d.QD("feed_post_to_file_load",{}));i.useEffect(()=>{t.current.start()},[]);let r=(0,I._o)(),n=(0,I.ct)(),o=(0,a.w1)(e=>{var t;return null==(t=e.openFile)?void 0:t.key});i.useEffect(()=>{if(!r){t.current.stop();let r=t.current.getElapsedTime();(0,s.we)("team_feed.post_from_file.file_load",{elapsedMs:r,fileKey:o}),e("post-to-feed-view-loaded",!0)}},[r,e,o]);let m=(0,a.w1)(e=>e.mirror.appModel.pagesList),A=i.useMemo(()=>m.reduce((e,t)=>({...e,[t.nodeId]:n.get(t.nodeId)}),{}),[m,n]),O=(0,a.OY)(),L=i.useMemo(()=>Object.values(A).flatMap(e=>e?e.uiOrderedChildren.map(t=>{let r=n.get(t);return r&&("FRAME"===r.type||"SECTION"===r.type)?{...r,pageId:e.guid,name:null==r?void 0:r.name}:null}).filter(e=>e):[]).filter(e=>null!==e),[A,n]),R=i.useMemo(()=>{let e={};for(let t of L)e[t.pageId]?e[t.pageId].push(t):e[t.pageId]=[t];return e},[L]),P=i.useMemo(()=>new w.ei(L,{keys:["name"]}),[L]),[D,F]=i.useState(""),[x,U]=i.useState(null),[B]=(0,l.c)(D,200),G=i.useCallback(e=>{U(P.search(e))},[P]),V=i.useMemo(()=>{if(null===x)return null;let e={};for(let t of x)e[t.pageId]?e[t.pageId].push(t):e[t.pageId]=[t];return e},[x]);i.useEffect(()=>{""!==B&&G(B)},[B,G]);let H=(0,v.g)(),W=i.useRef(null),[K,Y]=i.useState(null);i.useEffect(()=>{if(K||!n||!R||0===Object.keys(R).length)return;let e=n.get(Object.keys(R)[0]);e&&Y(e)},[K,R,n]);let[q,j]=i.useState({}),[$,Z]=i.useState([]),z=(0,c.i)($),Q=i.useRef(null),[X,J]=i.useState([]),ee=i.useCallback(e=>{let t=[];e.forEach(e=>{var r;if(e.isIntersecting&&e.target instanceof HTMLElement){let n=null==(r=e.target.dataset)?void 0:r.observerGuid;n&&t.push(n)}}),J(t)},[]),et=i.useMemo(()=>new IntersectionObserver(ee,{threshold:[.25]}),[ee]),er=i.useCallback(e=>{et&&et.observe(e)},[et]),[en,ei]=i.useState({});i.useEffect(()=>{if(0===X.length)return;let e=X.filter(e=>!en[e]);0!==e.length&&(0,b.KU)().loadAllImagesUnder(e,y.auT.NON_ANIMATED_ONLY,"feed.postFromFile").then(()=>{e.forEach(e=>{setTimeout(()=>{ei(t=>{if(t[e])return t;let r=(0,S.IW)(e);return{...t,[e]:{url:URL.createObjectURL(new Blob([r])),data:r}}})},0)})})},[X,en]),i.useEffect(()=>{$!==z&&e("post-to-feed-select-node",$.map(e=>({guid:e,thumbnail:en[e].data,backgroundColor:q[e]})))},[z,$,e,en,q]);let ea=i.useCallback((e,t)=>{en[e]&&(j(r=>t.pageBackgroundColor?{...r,[e]:t.pageBackgroundColor}:r),Z(t=>t.includes(e)?t.filter(t=>e!==t):t.length>=T.gp?t:[...t,e]))},[en]);return R&&0===Object.keys(R).length?i.createElement("div",{className:"post_to_feed_view--noContentContainer--VE8Tm post_to_feed_view--container--BiDZs text--fontPos16--oMC-G text--_fontBase--QdLsd"},(0,f.t)("fig_feed.no_top_level_nodes")):K?i.createElement("div",{className:"post_to_feed_view--container--BiDZs"},i.createElement("div",{className:"post_to_feed_view--searchFilterContainer--lyX72"},i.createElement(h.EB,{query:D,className:"post_to_feed_view--searchBar--IwmvI",onChange:F,clearSearch:()=>{F(""),U(null)},focusOnMount:!1,iconClassName:"post_to_feed_view--searchIcon---WXsZ",placeholder:(0,f.t)("fig_feed.search_frames")}),""===D&&i.createElement(i.Fragment,null,i.createElement("div",{role:"button",ref:W,onClick:()=>{(null==H?void 0:H.type)===k?O(E.yi()):O(E.Qn({type:k}))},tabIndex:0,className:"post_to_feed_view--pageMenuDropdown--bS4RV"},i.createElement("div",null,K.name),i.createElement(g.A,{svg:N.c,width:"8px",autosize:!0})),W.current&&(null==H?void 0:H.type)===k&&i.createElement(C.Mx,{showPoint:!1,targetRect:W.current.getBoundingClientRect(),propagateCloseClick:!0},Object.keys(R).map(e=>i.createElement(u.g.CheckableOption,{key:e,onClick:()=>Y(A[e]),checked:K.guid===e},A[e].name))))),i.createElement(_.f,{hideScrollbar:!0,className:"post_to_feed_view--scrollContainer--syalR",innerClassName:"post_to_feed_view--innerScrollContainer--aP8K2",scrollContainerRef:Q},""===D&&i.createElement(M,{pageNode:K,nodes:R[K.guid]||[],thumbnailByGuid:en,selectedNodeGuids:$,toggleSelectNode:ea,observe:er}),""!==D&&(null===V?i.createElement("div",{className:"post_to_feed_view--loadingSpinnerContainer--E8n20"},i.createElement(p.M7,{size:"large"})):Object.entries(V).length>0?Object.entries(V).map(([e,t])=>i.createElement(M,{key:e,pageNode:A[e],nodes:t,thumbnailByGuid:en,selectedNodeGuids:$,toggleSelectNode:ea,showCollapsibleHeader:!0,observe:er})):i.createElement("div",{className:"post_to_feed_view--notFoundContainer--5cMl3 text--fontPos16--oMC-G text--_fontBase--QdLsd"},i.createElement("div",null,i.createElement(f.Tx,{id:"fig_feed.no_frames_matching",searchQuery:i.createElement(i.Fragment,null,i.createElement("span",{className:"post_to_feed_view--searchQuery--TIyhI"},D))})))))):null}},608140:(e,t,r)=>{"use strict";r.d(t,{cZ:()=>a,mO:()=>o,on:()=>l});var n=r(340868),i=r(617268);let a=["NORMAL","SELECT_DIVIDER","DARKEN","MULTIPLY","LINEAR_BURN","COLOR_BURN","SELECT_DIVIDER","LIGHTEN","SCREEN","LINEAR_DODGE","COLOR_DODGE","SELECT_DIVIDER","OVERLAY","SOFT_LIGHT","HARD_LIGHT","SELECT_DIVIDER","DIFFERENCE","EXCLUSION","SELECT_DIVIDER","HUE","SATURATION","COLOR","LUMINOSITY"],o=["PASS_THROUGH"].concat(a),l=e=>"NORMAL"===e||"PASS_THROUGH"===e?i.c:n.c},15416:(e,t,r)=>{"use strict";r.d(t,{Cy:()=>n,IN:()=>E,IX:()=>f,QH:()=>g,UB:()=>v,Y$:()=>h,YQ:()=>y,_k:()=>_,kn:()=>b,wB:()=>m});var n,i=r(307824),a=r(120304);r(139776);var o=r(21156),l=r(762820),s=r(979144),c=r(540696),d=r(287540),u=r(791372),p=r(712220);function m(){let e=(0,a.w1)(e=>e.mirror.selectionProperties),t=(0,a.w1)(e=>e.mirror.sceneGraphSelection);return e&&1===e.numSelected&&Object.keys(t).find(e=>e)||null}function _(){let e=(0,a.w1)(e=>e.mirror.sceneGraphSelection);return i.useMemo(()=>{let t=Object.keys(e);return 0===t.length?null:t},[e])}function h(e,t){return e&&Number(e).toLocaleString("en",{maximumFractionDigits:t,useGrouping:!1})}function g(){let e=m(),t=(0,d.$h)(e);if(null!=e&&null!=t)return t}function f(){let e=_(),t=(0,d.FC)(e??[]);if(e)return t}function E(){let e=(0,a.w1)(e=>e.mirror.objectsPanelRowRebuildCounter);return(0,d.ch)((e,t)=>e,e)}function y(e){return(0,a.w1)(t=>{let r=e(t);if(null!=r&&(0,c.EH)(r))return r})}function b(e,t){let r=i.useMemo(()=>e?[{color:e,colorVar:t}]:[],[t,e]);return(0,u.GO)(r)}function v(e,t){let r=(0,a.OY)(),n=i.useCallback(()=>{let n=window.getSelection();if(n&&n.toString().length>0||!e)return null;r(o.ye({stringToCopy:e.toString(),ignoreLineBreaks:!1})),t&&t()},[t,e,r]);return e?n:void 0}(e=>{let t={prefix:"",suffix:"",delimiter:": ",quoted:!1};function r(e,r){let n="",i={...t,...r};return e.forEach(e=>{if(e[1]){let{prefix:t,suffix:r,delimiter:a,quoted:o}=e.length>2?{...i,...e[2]}:i,l=o?`"${e[1]}"`:e[1];n+=`${t}${e[0]}${a}${l}${r}
`}}),n}e.copyPairs=r;let n=["true","false","nil","null"];e.unquoteEnumerableValues=function(e){return e.map(e=>{let[t,r]=e;return"string"==typeof r&&n.includes(r.toLowerCase())?[t,r,{quoted:!1}]:e})};let o=(e,t,r)=>{let{paint:n}=e;switch(n.type){case"SOLID":if(1===r)return e.valueFormatter(e.colors[0],{hexCSSValue:!0});return l.cpG.convertGradientPaintToCSS(e.encodedPaint);case"GRADIENT_LINEAR":case"GRADIENT_RADIAL":case"GRADIENT_DIAMOND":case"GRADIENT_ANGULAR":return l.cpG.convertGradientPaintToCSS(e.encodedPaint)}};function c(e,t){var r;return null==(r=null==e?void 0:e.map(r=>o(r,t,(null==e?void 0:e.length)||0)))?void 0:r.join(",\n")}e.copyColors=c;let d={MULTIPLY:"multiply",SCREEN:"screen",OVERLAY:"overlay",DARKEN:"darken",LIGHTEN:"lighten",COLOR_DODGE:"color-dodge",SATURATION:"saturation",COLOR:"color",LUMINOSITY:"luminosity"},m=(e=[])=>e.flatMap(e=>e.type===p.v.STYLE?e.paints:e),_="background";e.useCopyAllColors=function(e,t){let n=(0,a.w1)(e=>e.mirror.selectionProperties.numSelected)||0,l=m(e),s=i.useCallback(()=>{if(1===n&&l){let e=new Set;if(l.forEach(t=>{t.paint.blendMode&&e.add(t.paint.blendMode)}),e.size<=1){let n=c(l,t),i=[];n&&i.push([_,n]);let a=[...e],o=a[0]?d[a[0]]:void 0;return o&&i.push(["background-blend-mode",o]),r(i,{suffix:";"})}}return r(l.reduce((e,r)=>{let n=r.paint.blendMode,i=n?d[n]:void 0;i&&e.push(["background-blend-mode",i]);let a=o(r,t,1),l=a?[_,a]:void 0;return l&&e.push(l),e},[]).filter(e=>e).map(e=>e),{suffix:";"})},[l,n,t]);return l?s:void 0};let g=(t,n,i,a)=>{let o=n.includes(" "),l=m(i),s=l.length>1||1===l.length&&"SOLID"!==l[0].paint.type,c=e.copyColors(l,t);if(!s&&!o)return`${a??"border"}: ${n} solid ${c}`;let d=o?[["border-width",n],["border-style","solid"]]:[[`${a??"border"}`,`${n} solid`]];return c&&d.push(s?["border-image-source",c]:["border-color",c]),r(d,{suffix:";\n"})};e.useStrokeCopyValue=function(e,t,r){let n=(0,s.q4)(),a=m(t);return i.useMemo(()=>g(n,e,a,r),[n,e,a,r])},e.useCopyAllStrokes=function(e){let t=(0,s.q4)();return i.useMemo(()=>e.map(e=>g(t,e.strokeWeight,e.strokeColors,e.borderCSSKey)).join("\n"),[t,e])};let f=e=>e.map(e=>void 0===e?"":`${e}px`),E=(t,n,i)=>{var a,o;if("FOREGROUND_BLUR"===t.type||"BACKGROUND_BLUR"===t.type)return r([["backdrop-filter",`blur(${t.radius}px)`]]);let l=e.copyColors(n,i);if(!t.offset)return;let s=f([null==(a=t.offset)?void 0:a.x,null==(o=t.offset)?void 0:o.y,t.radius,t.spread]).join(" "),c=l?` ${l}`:"",d="INNER_SHADOW"===t.type?" inset":"";return r([["box-shadow",`${s}${c}${d}`]],{suffix:";"})};e.useCopyShadow=function(e){let t=(0,s.q4)(),r=b(e.color);return i.useMemo(()=>E(e,r,t),[e,r,t])},e.useCopyAllShadows=function(e){let t=(0,s.q4)(),r=(0,u.So)(e,e=>e.color);return i.useCallback(()=>r.filter(e=>e.color).map(e=>E(e.value,[e.color],t)).join("\n"),[r,t])};let y=(e,t,r)=>{switch(e){case"Linear":return"linear";case"Ease in":return"ease-in";case"Ease out":return"ease-out";case"Ease in and out":return"ease-in-out";case"Ease in back":return"cubic-bezier(0.3, -0.05, 0.7, -0.5)";case"Ease out back":return"cubic-bezier(0.45, 1.45, 0.8, 1)";case"Ease in and out back":return"cubic-bezier(0.7, -0.4, 0.4, 1.4)";default:if(void 0==e)return;if(t){if(r)return`{ mass: ${r[0]}, stiffness: ${r[1]}, damping: ${r[2]} }`;return e}return`cubic-bezier(${e})`}},v=e=>`${h(1e3*e,2)}ms`,I=t=>{let r=`// ${t.event}
`,n=t.action,i=[];return t.delay&&i.push(["animation-delay",v(t.delay)]),t.action&&(i.push([`// ${null==n?void 0:n.action}`,`"${(null==n?void 0:n.value)??""}"`]),(null==n?void 0:n.hasAnimation)&&(i.push(["// Animate",(null==n?void 0:n.animation)??""]),(null==n?void 0:n.isSpringTransition)?i.push(["// Spring",y(null==n?void 0:n.curve,null==n?void 0:n.isSpringTransition,null==n?void 0:n.curveFunction)]):(i.push(["animation-timing-function",y(null==n?void 0:n.curve)]),i.push(["animation-duration",v(n.duration??0)])))),r+e.copyPairs(i,{suffix:";"})};e.useCopyAllInteractions=function(e){return i.useCallback(()=>e.map(e=>I(e)).join("\n"),[e])};let w=e=>{let t;let n=e.image.name,i=`${n}.${e.animatedImage?"gif":"png"}`;return r([[`// ${e.animatedImage?"GIF":"Image"}`,n],["background",`url("${i}")`],["background-size","FILL"==(t=e.imageScaleMode)?"cover":"FIT"==t?"contain":void 0],["opacity",e.opacity<1?e.opacity.toFixed(2):void 0],["background-blend-mode",d[e.blendMode]]],{suffix:";"})};e.useCopyImages=function(e){return i.useCallback(()=>e.map(e=>w(e)).join("\n"),[e])}})(n||(n={}))},884728:(e,t,r)=>{"use strict";r.d(t,{CI:()=>Q,IX:()=>B,Kw:()=>G,MD:()=>ea,MJ:()=>C,OV:()=>F,Oq:()=>A,Os:()=>Z,SQ:()=>el,So:()=>T,WQ:()=>D,WW:()=>h,YD:()=>z,Y_:()=>N,_2:()=>R,_s:()=>S,cH:()=>et,e5:()=>ee,iG:()=>X,iO:()=>$,kz:()=>U,oV:()=>k,sb:()=>x,sf:()=>J,un:()=>V,wC:()=>L,yS:()=>en,y_:()=>er,yi:()=>q});var n=r(307824),i=r(560072),a=r(26708),o=r(238152),l=r(422584),s=r(23604),c=r(73376),d=r(762820),u=r(540696),p=r(650180),m=r(196040);class _ extends n.PureComponent{onMouseDown(e){if(2===e.detail){let t=window.getSelection(),r=document.createRange();r.selectNodeContents(e.currentTarget),t&&(t.removeAllRanges(),t.addRange(r)),e.stopPropagation()}}render(){return n.createElement("span",{onMouseDown:this.onMouseDown},this.props.children)}}_.displayName="TextSelectionGroup";class h extends n.PureComponent{render(){return n.createElement("div",{className:m.mB},this.props.children)}}h.displayName="InspectionGroup";class g extends n.PureComponent{render(){return n.createElement("div",{className:m.QD},this.props.name?`${this.props.name}: `:"",this.props.children)}}g.displayName="PropertyInspector";class f extends n.PureComponent{formatMixed(e){return(0,i.t)("inspect_panel.property.mixed")}render(){return n.createElement(g,{name:this.props.name},(0,u.EH)(this.props.value)?this.format(this.props.value):this.formatMixed(this.props.value))}}f.displayName="SelectionPropertyInspector";class E extends f{format(e){return e}}class y extends n.PureComponent{formatMixed(e,t){return(0,i.t)("inspect_panel.property.mixed_value")}render(){return n.createElement(g,{name:this.props.name},(0,u.EH)(this.props.value)?this.format(this.props.value,this.props.target):this.formatMixed(this.props.value,this.props.target))}}y.displayName="TargetDependentSelectionPropertyInspector";let b=e=>parseFloat((null==e?0:e).toFixed(2)).toString(),v=e=>{let t=b(e);return -1===t.indexOf(".")?t+".0":t},I=(e,t)=>{switch(t){case d.M$e.CSS:return n.createElement(_,null,`${b(e)}px`);case d.M$e.ANDROID:return n.createElement(_,null,`${b(e)}dp`);case d.M$e.IOS:return n.createElement("span",null,n.createElement(_,null,`${b(e)}`)," pt")}},w=e=>`${b(e)}%`;class T extends y{format(e,t){return I(e,t)}}class S extends y{format(e,t){return t===d.M$e.ANDROID?n.createElement(_,null,`${b(e)}sp`):I(e,t)}}class C extends f{format(e){return w(e)}}class A extends y{format(e,t){return"PIXELS"===(e=e||{units:"PERCENT",value:0}).units?I(e.value,t):w(e.value)}}let O=new s.RX;class N extends f{format(e){return O.format(e)}}class L extends E{}class R extends E{}let P=new c.UL;class M extends f{format(e){return P.format(e)}}let k=M,D=M,F=M,x=M,U=M,B=M,G=M;class V extends f{format(e){return c.Q3.format(e)}}class H extends n.PureComponent{render(){let{color:e,target:t}=this.props;switch(t){case d.M$e.CSS:return n.createElement(_,null,(e.a<1?a.Q:o.aQ).format(e));case d.M$e.ANDROID:return n.createElement(_,null,o.aQ.formatForAndroid(e));case d.M$e.IOS:{let t=v(e.r),r=v(e.g),i=v(e.b),a=v(e.a);return n.createElement("span",null,"rgba ",n.createElement(_,null,`${t}, ${r}, ${i}, ${a}`))}}}}H.displayName="PlatformFormattedColor";class W extends n.PureComponent{render(){let{target:e,stop:t}=this.props;switch(e){case d.M$e.CSS:return n.createElement("div",{className:m.QD},n.createElement(H,{color:t.color,target:e})," @ ",n.createElement(_,null,w(100*t.position)));case d.M$e.ANDROID:case d.M$e.IOS:return n.createElement("div",{className:m.QD},n.createElement(H,{color:t.color,target:e})," @ ",n.createElement(_,null,v(t.position)))}}}W.displayName="SelectableColorStop";class K extends n.PureComponent{render(){let e=a.Q.format(this.props.color);return n.createElement("span",{className:m.e_,style:{background:e}})}}K.displayName="ColorSwatch";class Y extends n.PureComponent{render(){let e="linear-gradient(180deg, "+this.props.stops.map(e=>a.Q.format(e.color)).join(", ")+")";return n.createElement("span",{className:m.e_,style:{background:e}})}}Y.displayName="GradientSwatch";class q extends n.Component{render(){let e=this.props.colorNameMap&&this.props.colorNameMap[a.Q.format(this.props.value)];return n.createElement("div",{className:m.Od},n.createElement(K,{color:this.props.value}),n.createElement("div",{className:m.QD},e&&`${e} (`,n.createElement(H,{color:this.props.value,target:this.props.target}),e&&")"))}}q.displayName="ColorInspector";let j=new c.AH;function $(e,t){return`/file/${e}/image/${t}`}async function Z({paint:e,fileKey:t}){let r;if(!t)return null;let n=e.animatedImage||e.image;"VIDEO"===e.type&&e.video?r=e.video.hash:n&&n.hash&&(r=n.hash);let i="";return(r&&(i=Array.from(r).map(e=>(e<16?"0":"")+e.toString(16)).join("")),i)?"VIDEO"===e.type?(await p.i.getVideosDownload({hexHash:i,fileKey:t})).data.meta.signed_url:$(t,i):null}function z(e){return"VIDEO"===e.type?"mp4":null!=e.animatedImage?"gif":"png"}function Q(e){let t=e.animatedImage||e.image,r="VIDEO"===e.type?"video":"image";return`${t&&t.name||r}`}class X extends n.PureComponent{constructor(e){super(e),this.paintTypeFormatter=new c.k9(()=>this.props.paint),this.state={downloadUrl:""}}updateDownloadUrlForNewPaint(){Z({paint:this.props.paint,fileKey:this.props.openFileKey}).then(e=>{if(this.setState({downloadUrl:e}),null===e){console.error("No download args for paint type: "+this.props.paint.type);return}})}componentDidMount(){this.updateDownloadUrlForNewPaint()}componentDidUpdate(e,t,r){e.paint!==this.props.paint&&this.updateDownloadUrlForNewPaint()}downloadLinkFor(e){if(!this.props.openFileKey)return"";let t=z(e),r=`${Q(e)}.${t}`,i="IMAGE"===e.type||"VIDEO"===e.type;return this.state.downloadUrl&&i?n.createElement("a",{href:this.state.downloadUrl,target:"_blank",rel:"noopener"},r):r}render(){let{paint:e,name:t}=this.props;switch(e.type){case"SOLID":{let r={...e.color,a:e.color.a*e.opacity};return n.createElement("div",null,n.createElement(g,{name:t},n.createElement(i.Tx,{id:"inspect_panel.colors.solid"})),e.blendMode&&"NORMAL"!==e.blendMode&&n.createElement(F,{name:(0,i.t)("inspect_panel.colors.blend"),value:e.blendMode}),this.props.children,n.createElement(q,{value:r,target:this.props.target,colorNameMap:this.props.colorNameMap}))}case"GRADIENT_LINEAR":case"GRADIENT_RADIAL":case"GRADIENT_ANGULAR":case"GRADIENT_DIAMOND":{let r=this.paintTypeFormatter.format(e.type);return n.createElement("div",null,n.createElement(g,{name:t},n.createElement(i.Tx,{id:"inspect_panel.colors.gradient",gradientType:r})),e.blendMode&&"NORMAL"!==e.blendMode&&n.createElement(F,{name:(0,i.t)("inspect_panel.colors.blend"),value:e.blendMode}),this.props.children,n.createElement("div",{className:m.Od},n.createElement(Y,{stops:e.stops}),n.createElement("div",null,e.stops.map((e,t)=>n.createElement(W,{key:t,stop:e,target:this.props.target})))))}case"IMAGE":case"VIDEO":return n.createElement("div",null,n.createElement(g,{name:t},"IMAGE"===e.type?n.createElement(i.Tx,{id:"inspect_panel.images.image_type"}):n.createElement(i.Tx,{id:"proto.prototype_panel.video"})),n.createElement(g,{name:(0,i.t)("inspect_panel.images.file_name")},this.downloadLinkFor(e)),e.blendMode&&"NORMAL"!==e.blendMode&&n.createElement(F,{name:(0,i.t)("inspect_panel.colors.blend"),value:e.blendMode}),n.createElement(g,{name:(0,i.t)("inspect_panel.images.scale_mode")},j.format(e.imageScaleMode)),e.opacity<1&&n.createElement(C,{name:(0,i.t)("inspect_panel.properties.opacity"),value:100*e.opacity}),this.props.children)}}}X.displayName="PaintInspector";class J extends f{format(e){switch(e){case"NONE":return(0,i.t)("inspect_panel.strokes.cap_none");case"ROUND":return(0,i.t)("inspect_panel.strokes.cap_round");case"SQUARE":return(0,i.t)("inspect_panel.strokes.cap_square");case"ARROW_LINES":return(0,i.t)("inspect_panel.strokes.cap_line_arrow");case"ARROW_EQUILATERAL":return(0,i.t)("inspect_panel.strokes.cap_triangle_arrow")}}}class ee extends f{format(e){return l.y.format(e)}}class et{format(e){switch(e){case"INNER_SHADOW":return(0,i.t)("inspect_panel.property.effect_inner_shadow");case"DROP_SHADOW":return(0,i.t)("inspect_panel.property.effect_drop_shadow");case"FOREGROUND_BLUR":return(0,i.t)("inspect_panel.property.effect_layer_blur");case"BACKGROUND_BLUR":return(0,i.t)("inspect_panel.property.effect_background_blur");default:return}}}class er extends f{constructor(){super(...arguments),this.formatter=new et}format(e){return this.formatter.format(e)}}class en extends y{format(e,t){return n.createElement("span",null,I(e.x,t),", ",I(e.y,t))}}let ei=class extends f{format(e){return ei.formatter.format(e)}},ea=ei;ea.formatter=new c.mU;let eo=class extends f{format(e){return eo.formatter.format(e)}},el=eo;el.formatter=new c.Yj},478936:(e,t,r)=>{"use strict";let n;r.d(t,{ID:()=>G,KQ:()=>Z,VV:()=>V,YR:()=>W,gD:()=>B,gd:()=>H});var i=r(307824),a=r(120304),o=r(125504),l=r.n(o),s=r(721500),c=r(87975),d=r(455200),u=r(888932),p=r(570464),m=r(560072),_=r(907236),h=r(26708),g=r(238152),f=r(23604),E=r(585508),y=r(998e3),b=r(762820),v=r(979144),I=r(46),w=r(570012),T=r(142548),S=r(513568),C=r(408156),A=r(385228),O=r(241645),N=r(24588),L=r(235020),R=r(951748),P=r(357884),M=r(578432),k=r(763456),D=r(324448),F=r(220812);let x=(0,s.qe)(k._gu);function U(e,t){return Object.keys(e).every(r=>e[r]===t[r])}class B extends L.M1{}class G extends L.cb{}let V={format:e=>e==b._sE.HEX?"Hex":b._sE[e]};var H=((n=H||{}).FULL="full",n.SIMPLE_WITH_OPACITY="simple_with_opacity",n.SIMPLE="simple",n);class W extends p.UR{constructor(e){super(e),this.onHSLVAChange=(e,t)=>{let r=(0,y.cn)(e);this.setState({hslva:e,rgba:r}),this.props.onColorChange(r,t?w.MO.YES:w.MO.NO_BUT_TRACK_AS_EDIT),t&&this.props.analytics&&I.yu.trackFromFullscreen(this.props.analytics.name,{source:"slider",color:g.aQ.format(r),...this.props.analytics.properties})},this.onOpacityChange=(e,t)=>{if(!this.props.onOpacityChange){this.onHSLVAChange(e,t);return}let r=(0,y.cn)(e);this.setState({hslva:e,rgba:r}),this.props.onOpacityChange(r.a,t?w.MO.YES:w.MO.NO_BUT_TRACK_AS_EDIT),t&&this.props.analytics&&I.yu.trackFromFullscreen(this.props.analytics.name,{source:"slider",color:g.aQ.format(r),...this.props.analytics.properties})},this.onHexInputChange=(e,t)=>{this.props.onColorChange(e,t),this.props.analytics&&I.yu.trackFromFullscreen(this.props.analytics.name,{source:"hex",color:g.aQ.format(e),...this.props.analytics.properties})},this.toggleDropper=e=>{e.stopPropagation(),E.CA.triggerAction("toggle-dropper")},this.onColorFormatChange=e=>{(0,v.EB)().colorFormat.set(e)},this.renderSimpleColorControls=()=>{let e=this.props.currentTool===b.w3X.DROPPER_COLOR;return i.createElement("div",{className:D.iW},i.createElement("div",{className:D.S8},!this.props.dropperDisabled&&i.createElement("div",{className:D.w7},i.createElement(O.KM,{svg:F.c,fill:"dark"===this.props.theme?"white":"black",selected:e,onPointerDown:this.toggleDropper,recordingKey:p.Mx(this.props,"dropperButton"),"data-tooltip-type":T.wL.TEXT,"data-tooltip":(0,m.t)("fullscreen.color_controls.eyedropper"),tooltipForScreenReadersOnly:!0,className:l()({[D.eB]:!e&&"dark"===this.props.theme})})),i.createElement(Y,{recordingKey:p.Mx(this.props,"hexInput"),...this.props,onColorChange:this.onHexInputChange})),i.createElement("div",{className:l()(D.y4,{[D.m_]:"simple_with_opacity"===this.props.displayType})},i.createElement(R.m,{width:140,color:this.state.hslva,changeCallback:this.onHSLVAChange,containerClass:D.U$,recordingKey:p.Mx(this.props,"hueControl")}),"simple_with_opacity"===this.props.displayType&&i.createElement(P.I,{width:140,color:this.state.hslva,changeCallback:this.onOpacityChange,containerClass:D.U$,recordingKey:p.Mx(this.props,"opacityControl")})),i.createElement(M.w,{size:184,color:this.state.hslva,changeCallback:this.onHSLVAChange,ignoreWheelCallback:!0,recordingKey:p.Mx(this.props,"slvControl")}))},this.state=this.stateFromProps(e)}UNSAFE_componentWillReceiveProps(e){var t;if((U(e.color,this.props.color)||U(e.color,this.state.rgba))&&this.props.colorFormat===e.colorFormat)return;let r=this.stateFromProps(e);("l"in r.hslva&&(0===r.hslva.l||1===r.hslva.l)||"v"in r.hslva&&0===r.hslva.v)&&(r.hslva={...r.hslva,s:this.state.hslva.s});let n=(0,d.IR)(this.state.hslva.h,0)&&(0,d.IR)(r.hslva.h,1),i=(0,d.IR)(this.state.hslva.h,1)&&(0,d.IR)(r.hslva.h,0);t=e.color,((0,d.IR)(t.r,t.g)&&(0,d.IR)(t.r,t.b)||n||i)&&(r.hslva={...r.hslva,h:this.state.hslva.h}),this.setState(r)}stateFromProps(e){return{hslva:e.colorFormat===b._sE.HSL?(0,y._2)(e.color):(0,y.YT)(e.color),rgba:e.color}}render(){let e={...this.props};return(delete e.recordingKey,"simple"===this.props.displayType||"simple_with_opacity"===this.props.displayType)?this.renderSimpleColorControls():i.createElement("div",null,i.createElement(M.w,{size:x,color:this.state.hslva,changeCallback:this.onHSLVAChange,recordingKey:p.Mx(this.props,"slvControl"),containerClass:D.Ud}),i.createElement(N.I7,null,i.createElement("div",{className:D.s7},i.createElement("div",{className:D.w7},i.createElement(O.KM,{svg:F.c,selected:this.props.currentTool===b.w3X.DROPPER_COLOR,onMouseDown:this.toggleDropper,recordingKey:p.Mx(this.props,"dropperButton"),"data-tooltip-type":T.wL.TEXT,"data-tooltip":(0,m.t)("fullscreen.properties_panel.color_picker.eyedropper"),tooltipForScreenReadersOnly:!0})),i.createElement("div",{className:D.Gi},i.createElement(R.m,{width:156,color:this.state.hslva,changeCallback:this.onHSLVAChange,containerClass:D.U$,recordingKey:p.Mx(this.props,"hueControl")}),i.createElement(P.I,{width:156,color:this.state.hslva,changeCallback:this.onOpacityChange,containerClass:D.U$,recordingKey:p.Mx(this.props,"opacityControl")}))),i.createElement(N.WA,null,i.createElement(B,{id:"color-input-type-select",className:D.sZ,dropdownClassName:D.c9,property:this.props.colorFormat,formatter:V,onChange:this.onColorFormatChange,dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown,recordingKey:p.Mx(this.props,"colorFormatSelect")},i.createElement(G,{value:b._sE.HEX,recordingKey:p.Mx(this.props,"hexOption")}),i.createElement(G,{value:b._sE.RGB,recordingKey:p.Mx(this.props,"rgbOption")}),i.createElement(G,{value:b._sE.CSS,recordingKey:p.Mx(this.props,"cssOption")}),i.createElement(G,{value:b._sE.HSL,recordingKey:p.Mx(this.props,"hslOption")}),i.createElement(G,{value:b._sE.HSB,recordingKey:p.Mx(this.props,"hsvOption")})),this.props.colorFormat===b._sE.HEX&&i.createElement(Y,{recordingKey:p.Mx(this.props,"hexInput"),...e}),this.props.colorFormat===b._sE.RGB&&i.createElement(q,{recordingKey:p.Mx(this.props,"rgbInput"),...e}),this.props.colorFormat===b._sE.CSS&&i.createElement(j,{recordingKey:p.Mx(this.props,"cssInput"),...e}),(this.props.colorFormat===b._sE.HSL||this.props.colorFormat===b._sE.HSB)&&i.createElement($,{value:this.state.hslva,changeCallback:this.onHSLVAChange,recordingKey:p.Mx(this.props,"hslvInput"),...e}))))}}W.displayName="ColorControls";let K=i.forwardRef((e,t)=>i.createElement("div",{ref:t,className:l()({[D.OY]:!e.isSimple,[D.Vt]:e.isSimple})},e.children));function Y(e){let t=(0,a.OY)(),r=(0,i.useRef)(null),n="simple"===e.displayType||"simple_with_opacity"===e.displayType;(0,i.useEffect)(()=>{n&&r.current&&(r.current.dataset.preferredTheme=e.theme)},[n,e.theme]);let o=(0,i.useMemo)(()=>n?g.aQ:new g.Gc({parseAlpha:!0}),[n]),s=e=>{e.keyCode===c.as.ESCAPE&&t(_.U5())};return i.createElement(K,{ref:r,isSimple:n},i.createElement(A.qS,{className:l()({[D.cl]:!n,[D.AV]:n}),squareRightBorder:!0,noBorderOnFocus:!0,formatter:o,property:e.color,onChange:e.onColorChange,autoFocus:!u.cp.isIpad,onKeyDown:s,recordingKey:p.Mx(e,"color"),forwardedRef:e.hexInputRef}),!n&&i.createElement(S._2,{className:D.o9,value:e.color.a,onValueChange:(t,r)=>{e.onColorChange({...e.color,a:t},r)},noLeftBorder:!0,noBorderOnFocus:!0,dispatch:t,onKeyDown:s,recordingKey:p.Mx(e,"opacity")}))}class q extends p.UR{constructor(){super(...arguments),this.formatter=new f.cX({normalizeFactor:255,min:0,max:1}),this.onRChange=e=>this.props.onColorChange({...this.props.color,r:e}),this.onGChange=e=>this.props.onColorChange({...this.props.color,g:e}),this.onBChange=e=>this.props.onColorChange({...this.props.color,b:e}),this.onAChange=(e,t)=>{this.props.onColorChange({...this.props.color,a:e},t)},this.onKeyDown=e=>{e.keyCode===c.as.ESCAPE&&this.props.dispatch(_.U5())}}render(){return i.createElement(K,null,i.createElement(S.q6,{className:D.uI,dispatch:this.props.dispatch,formatter:this.formatter,value:this.props.color.r,onValueChange:this.onRChange,onKeyDown:this.onKeyDown,scrubMultiplier:1/255,autoFocus:!0,noBorderOnFocus:!0,squareRightBorder:!0,"data-tooltip-type":T.wL.TEXT,"data-tooltip":(0,m.t)("fullscreen.color_controls.red"),recordingKey:p.Mx(this.props,"red")}),i.createElement(S.q6,{className:D.uI,dispatch:this.props.dispatch,formatter:this.formatter,value:this.props.color.g,onValueChange:this.onGChange,onKeyDown:this.onKeyDown,scrubMultiplier:1/255,noLeftBorder:!0,noBorderOnFocus:!0,squareRightBorder:!0,"data-tooltip-type":T.wL.TEXT,"data-tooltip":(0,m.t)("fullscreen.color_controls.green"),recordingKey:p.Mx(this.props,"green")}),i.createElement(S.q6,{className:D.uI,dispatch:this.props.dispatch,formatter:this.formatter,value:this.props.color.b,onValueChange:this.onBChange,onKeyDown:this.onKeyDown,scrubMultiplier:1/255,noBorderOnFocus:!0,noLeftBorder:!0,squareRightBorder:!0,"data-tooltip-type":T.wL.TEXT,"data-tooltip":(0,m.t)("fullscreen.color_controls.blue"),recordingKey:p.Mx(this.props,"blue")}),i.createElement(S._2,{className:D.o9,dispatch:this.props.dispatch,value:this.props.color.a,onValueChange:this.onAChange,onKeyDown:this.onKeyDown,noLeftBorder:!0,noBorderOnFocus:!0,recordingKey:p.Mx(this.props,"opacity")}))}}q.displayName="RgbInputs";class j extends p.UR{constructor(){super(...arguments),this.formatter=h.Q,this.onKeyDown=e=>{e.keyCode===c.as.ESCAPE&&this.props.dispatch(_.U5())}}render(){return i.createElement(K,null,i.createElement(A.qS,{className:D.gV,formatter:this.formatter,property:this.props.color,onChange:this.props.onColorChange,recordingKey:p.Mx(this.props,"color"),autoFocus:!0,noBorderOnFocus:!0,onKeyDown:this.onKeyDown}))}}j.displayName="CssInputs";class $ extends p.UR{constructor(){super(...arguments),this.formatter360=new f.cX({normalizeFactor:360,min:0,max:1}),this.formatter100=new f.cX({normalizeFactor:100,min:0,max:1}),this.onHChange=e=>this.props.changeCallback({...this.props.value,h:e},!0),this.onSChange=e=>this.props.changeCallback({...this.props.value,s:e},!0),this.onLChange=e=>this.props.changeCallback({...this.props.value,l:e},!0),this.onVChange=e=>this.props.changeCallback({...this.props.value,v:e},!0),this.onAChange=(e,t)=>{this.props.onColorChange({...this.props.color,a:e},t)},this.onKeyDown=e=>{e.keyCode===c.as.ESCAPE&&this.props.dispatch(_.U5())}}render(){return i.createElement(K,null,i.createElement(S.q6,{className:D.uI,dispatch:this.props.dispatch,squareRightBorder:!0,formatter:this.formatter360,scrubMultiplier:1/360,value:this.props.value.h,onValueChange:this.onHChange,recordingKey:p.Mx(this.props,"hue"),autoFocus:!0,noBorderOnFocus:!0,"data-tooltip-type":T.wL.TEXT,"data-tooltip":(0,m.t)("fullscreen.color_controls.hue"),onKeyDown:this.onKeyDown}),i.createElement(S.q6,{className:D.uI,dispatch:this.props.dispatch,noLeftBorder:!0,squareRightBorder:!0,formatter:this.formatter100,scrubMultiplier:.01,value:this.props.value.s,onValueChange:this.onSChange,recordingKey:p.Mx(this.props,"saturation"),noBorderOnFocus:!0,"data-tooltip-type":T.wL.TEXT,"data-tooltip":(0,m.t)("fullscreen.color_controls.saturation"),onKeyDown:this.onKeyDown}),i.createElement(S.q6,{className:D.uI,dispatch:this.props.dispatch,noLeftBorder:!0,squareRightBorder:!0,formatter:this.formatter100,scrubMultiplier:.01,value:"l"in this.props.value?this.props.value.l:this.props.value.v,onValueChange:"l"in this.props.value?this.onLChange:this.onVChange,recordingKey:p.Mx(this.props,"value"),noBorderOnFocus:!0,"data-tooltip-type":T.wL.TEXT,"data-tooltip":"l"in this.props.value?(0,m.t)("fullscreen.color_controls.lightness"):(0,m.t)("fullscreen.color_controls.brightness"),onKeyDown:this.onKeyDown}),i.createElement(S._2,{className:D.o9,dispatch:this.props.dispatch,value:this.props.color.a,onValueChange:this.onAChange,noLeftBorder:!0,noBorderOnFocus:!0,recordingKey:p.Mx(this.props,"opacity"),onKeyDown:this.onKeyDown}))}}function Z(e){let t=(0,a.OY)(),r=(0,i.useRef)(null);(0,i.useEffect)(()=>{r.current&&(r.current.dataset.preferredTheme=e.theme)},[e.theme]);let n=(0,i.useMemo)(()=>new g.Gc({parseAlpha:!0}),[]),o=e=>{e.keyCode===c.as.ESCAPE&&t(_.U5())};return i.createElement(K,{ref:r,isSimple:!1},i.createElement("div",{className:D.od},i.createElement(C.o,{color:e.color,onMouseDown:e.onChitMouseDown}),i.createElement(A.qS,{className:D.cl,squareRightBorder:!0,noBorderOnFocus:!0,formatter:n,property:e.color,onChange:e.onColorChange,onKeyDown:o,recordingKey:p.Mx(e,"color")})),i.createElement(S._2,{decimals:e.opacityDecimals,className:D.o9,value:e.color.a,onValueChange:(t,r)=>{e.onColorChange({...e.color,a:t},r)},noLeftBorder:!0,noBorderOnFocus:!0,dispatch:t,onKeyDown:o,recordingKey:p.Mx(e,"opacity")}))}$.displayName="HslvInputs"},841988:(e,t,r)=>{"use strict";r.d(t,{Ef:()=>X,cp:()=>Z,sO:()=>j});var n=r(307824),i=r(120304),a=r(736572),o=r(280584),l=r(485876),s=r(515724);r(760780);var c=r(997928),d=r(733960);r(4580);var u=r(843148),p=r(21036),m=r(570464),_=r(853688),h=r(130176);r(71556);var g=r(968240),f=r(560072);r(340628);var E=r(199612),y=r(471332),b=r(762820),v=r(979144),I=r(655068);r(169224);var w=r(833492),T=r(397888),S=r(142548),C=r(525064);r(590608);var A=r(308264),O=r(380928),N=r(478936),L=r(99980),R=r(524536),P=r(810868);r(175192);var M=r(204928),k=r(50404);r(24588);var D=r(427824),F=r(865160),x=r(668348),U=r(853996),B=r(101040),G=r(23024),V=r(616476),H=r(263360),W=r(562861),K=r(753447),Y=r(876180);function q(e,t,r,i){let a=(0,d.i)(e);n.useEffect(()=>{e!==a&&e===b.w3X.DROPPER_COLOR&&(!t||t.includes("custom_color"))&&!i&&r("custom_color")},[e,r,i,t,a])}function j({label:e,isActive:t,recordingKey:r,onClick:i,isOnlyTab:a}){let{version:o}=(0,s.qG)();return"ui3"===o&&a?n.createElement(G.IR,{title:e}):n.createElement(_.g9,{className:t?K.QP:K.aC,onClick:i,role:"button",tabIndex:0,"data-label":e,recordingKey:r},e)}function $({currentView:e,rightButtons:t,recordingKey:r,onViewChange:i,supportedViews:o=["custom_color","library"],tabManager:l,tabProps:s}){if(l&&s)return n.createElement("div",{className:K.je},n.createElement(a.k.TabStrip,{manager:l},n.createElement(a.k.Tab,{...s.custom_color},n.createElement(f.Tx,{id:"fullscreen.properties_panel.color_picker.custom"})),n.createElement(a.k.Tab,{...s.library},n.createElement(f.Tx,{id:"fullscreen.properties_panel.color_picker.libraries"}))),t&&n.createElement("div",{className:K.gF},t));let c=m.Mx(r,"viewTabs");return n.createElement("div",{className:K.je},n.createElement(_.g9,{className:K.EH,recordingKey:c},(null==o?void 0:o.includes("custom_color"))&&n.createElement(j,{isOnlyTab:1===o.length,label:(0,f.t)("fullscreen.properties_panel.color_picker.custom"),isActive:"custom_color"===e,onClick:()=>i("custom_color"),recordingKey:m.Mx(c,"customColor")}),(null==o?void 0:o.includes("library"))&&n.createElement(j,{isOnlyTab:1===o.length,label:(0,f.t)("fullscreen.properties_panel.color_picker.libraries"),isActive:"library"===e,onClick:()=>i("library"),recordingKey:m.Mx(c,"library")})),t&&n.createElement("div",{className:K.gF},t))}let Z=n.forwardRef(function({paint:e,paintId:t,selectedStyle:r,inheritStyleKeyField:i,currentSelectedGradientStop:s,colorFormat:c,currentTool:d,initialPosition:u,initialView:_,supportedViews:y,initialCreationModalView:v,initialStyleCreationPaint:w,openFileKey:T,recordingKey:A,dropdownShown:O,onKeyDown:N,onChange:L,onColorChange:R,onBlendModeChange:P,onPaintTypeChange:M,onColorVariableChange:k,onApplyStyle:U,onClose:G,dropImageOnPaintThumbnail:H,updateStillImageAndSelectionPropertiesForGIF:W,disableImagePaints:j,variableScopes:Z},X){let ee=(0,E.e)("fpl_tabs"),et=(0,n.useRef)(null),[er,en]=a.k.useTabs({custom_color:!0,library:!0},{defaultActive:()=>J({initialView:_,isBoundToLibraryAsset:!!e.colorVar||!!r,supportedViews:y})}),ei=en.activeTab,ea=(0,V.a)(),eo=n.useCallback((e,t)=>{t&&e.type&&ea(e.type),L(e,t)},[ea,L]),{VariableAndStyleCreateModalRoot:el,VARIABLE_CREATE_MODAL_WIDTH_PX:es}=n.useContext(F.q)??{},[ec,ed]=(0,n.useState)(!1),eu=(0,n.useRef)();q(d,y,en.setActiveTab,ec);let ep=(0,n.useMemo)(()=>{var t,r;let n=(0,I.GI)(e),i=(0,I.k9)(e);if(n&&(null==(r=null==(t=n.colorVar)?void 0:t.value)?void 0:r.alias))return{type:b.Tcd.ALIAS,resolvedType:b.y6c.COLOR,value:x.MR(n.colorVar.value.alias)};if(!n&&!i)return{type:b.Tcd.COLOR,resolvedType:b.y6c.COLOR,value:{r:1,g:1,b:1,a:1}};{let e=(0,I.cB)(n||i,s);return{type:b.Tcd.COLOR,resolvedType:b.y6c.COLOR,value:e}}},[e,s]),em=n.useCallback(()=>{var e;let t=null==(e=et.current)?void 0:e.getEl();if(!t)return null;let r=(0,C.cT)(t,es);eu.current=r,ed(!0)},[ed,es]),e_=n.useCallback(()=>{ed(!1)},[ed]);return n.createElement(n.Fragment,null,n.createElement(h.u,{name:"paint_picker_v2_modal"},n.createElement(B.G0,{title:n.createElement($,{currentView:ei,recordingKey:A,rightButtons:n.createElement(o.w,{"data-tooltip-type":S.wL.TEXT,"data-tooltip":(0,f.t)("variables.binding_ui.create_style_or_variable_button_tooltip"),"aria-label":(0,f.t)("variables.binding_ui.create_style_or_variable_button_tooltip"),recordingKey:m.Mx(A,"createVariable"),onClick:em},n.createElement(g.e,{svg:Y.c,fallbackSvg:Y.c},n.createElement(l.c,null))),supportedViews:y,onViewChange:en.setActiveTab,tabManager:ee?en:null,tabProps:ee?er:null}),headerSize:"small",initialPosition:u,recordingKey:m.Mx(A,"modal"),onClose:G,ref:(0,p.c)(X,et),autoflowHeight:!0},n.createElement("div",{className:K.kl},function(){if(ee)return n.createElement(n.Fragment,null,n.createElement(a.k.TabPanel,{...er.custom_color},n.createElement(z,{paint:e,paintId:t,currentSelectedGradientStop:s,colorFormat:c,currentTool:d,openFileKey:T,recordingKey:A,dropdownShown:O,onKeyDown:N,onChange:eo,onColorChange:R,onBlendModeChange:P,onPaintTypeChange:M,dropImageOnPaintThumbnail:H,updateStillImageAndSelectionPropertiesForGIF:W,disableImagePaints:j})),n.createElement(a.k.TabPanel,{...er.library},n.createElement(Q,{disabledVariableIds:new Set,selectedItem:r||(0,D.M)(e),recordingKey:m.Mx(A,"libraryColors"),onVariableSelected:k,onStyleSelected:U,onClose:G,variableScopes:Z})));switch(ei){case"custom_color":return n.createElement(z,{paint:e,paintId:t,currentSelectedGradientStop:s,colorFormat:c,currentTool:d,openFileKey:T,recordingKey:A,dropdownShown:O,onKeyDown:N,onChange:eo,onColorChange:R,onBlendModeChange:P,onPaintTypeChange:M,dropImageOnPaintThumbnail:H,updateStillImageAndSelectionPropertiesForGIF:W,disableImagePaints:j});case"library":return n.createElement(Q,{disabledVariableIds:new Set,selectedItem:r||(0,D.M)(e),recordingKey:m.Mx(A,"libraryColors"),onVariableSelected:k,onStyleSelected:U,onClose:G,variableScopes:Z})}}()))),ec&&(eu.current&&el?n.createElement(el,{initialPosition:eu.current,initialVariableValue:ep,initialView:v,resolvedType:b.y6c.COLOR,inheritStyleKeyField:i,initialStyleCreationPaint:w,onCreateVariable:k,onCreateStyle:U,onClose:e_}):null))});function z({paint:e,paintId:t,currentSelectedGradientStop:r,colorFormat:a,currentTool:o,openFileKey:l,recordingKey:s,dropdownShown:d,onKeyDown:p,onChange:_,onColorChange:h,onBlendModeChange:g,onPaintTypeChange:f,dropImageOnPaintThumbnail:E,updateStillImageAndSelectionPropertiesForGIF:b,disableImagePaints:v}){let w=(0,i.OY)(),T=(0,y.tp)(),S=(0,c.e)(),C=n.useRef(null),D=(0,I.GI)(e),F=(0,I.k9)(e),x=(0,I.ch)(e);function U(e){let t=(0,I.cB)(e,r);return n.createElement(n.Fragment,null,n.createElement(A.Sg,{name:"Color picker",ref:C,handleKeyDown:p,focusOnMount:!0,forceUpdate:S},function(){if(F){let e=n.createElement(k.u,{paint:F,paintTypeOptions:["GRADIENT_LINEAR","GRADIENT_RADIAL","GRADIENT_ANGULAR","GRADIENT_DIAMOND"],onChange:f,dropdownShown:d,recordingKey:m.Mx(s,"gradientTypeSelect")}),t=(0,u.Ub)().gradient_tool_improvements;return n.createElement(n.Fragment,null,t?n.createElement("div",{className:K.s5},n.createElement("div",{className:K.Qz},e),n.createElement(H.g,{gradientPaint:F,onChange:_})):n.createElement("div",{className:K.Mn},e),n.createElement(L.g,{colorProfile:T,paint:F,onChange:_,currentSelectedGradientStop:r,hasFocus:(C.current&&C.current.hasFocus())??!1,dispatch:w,recordingKey:m.Mx(s,"gradient")}))}}(),n.createElement(N.YR,{dispatch:w,dropdownShown:d,color:t,onColorChange:h,currentTool:o,colorFormat:a,recordingKey:m.Mx(s,"colorControls")})),n.createElement(M.E,{recordingKey:s,onChange:h}))}return n.createElement(n.Fragment,null,n.createElement("div",{className:K.Gi},n.createElement(P.W,{paint:e,paintId:t,onChange:f,disableImagePaints:v,recordingKey:m.Mx(s,"paintTypeGroupTabs")}),n.createElement(O.u,{blendMode:e.blendMode||"NORMAL",onBlendModeChange:g,dispatch:w,dropdownShown:d,recordingKey:m.Mx(s,"blendModeSelection"),key:`color-picker-blend-mode-selection-${t}`})),D&&U(D),F&&(F?(0,u.Ub)().ds_gradient_variables?n.createElement(W.o,{colorProfile:T,currentSelectedGradientStop:r,onChange:_,onKeyDown:p,onPaintTypeChange:f,paint:F}):U(F):null),x&&b&&E&&n.createElement(R.g,{paint:x,paintId:t,openFileKey:l,dropImageOnPaintThumbnail:E,updateStillImageAndSelectionPropertiesForGIF:b,onChange:_,dispatch:w,dropdownShown:d,recordingKey:m.Mx(s,"imageSettings")}))}function Q({selectedItem:e,disabledVariableIds:t,recordingKey:r,onVariableSelected:i,onStyleSelected:a,onClose:o,variableScopes:l}){return n.createElement(U._W,{selectedItem:e,resolvedType:b.y6c.COLOR,disabledVariableIds:t,pickerType:"color-picker",recordingKey:r,onVariableSelected:i,onStyleSelected:a,onClose:o,variableScopes:l})}function X({color:e,boundVariable:t,disabledVariableIds:r,initialPosition:s,initialView:c,recordingKey:d,onChange:u,onVariableChange:p,onClose:_,hideLibraryContainer:y,variableScopes:I,isVariableCreationEnabled:A=!1}){let O=(0,i.OY)(),L=(0,E.e)("fpl_tabs"),R=(0,w.g)(),P=(0,v.q4)(),k=(0,T.au)(),D=(0,n.useMemo)(()=>p?["custom_color","library"]:["custom_color"],[p]),[x,U]=a.k.useTabs({custom_color:D.includes("custom_color"),library:D.includes("library")},{defaultActive:()=>J({initialView:c,isBoundToLibraryAsset:!!t,supportedViews:D})}),G=U.activeTab;(0,n.useEffect)(()=>{c&&c!==G&&U.setActiveTab(c)},[c]);let V=n.useRef(null),{VariableCreateModalRoot:H,VARIABLE_CREATE_MODAL_WIDTH_PX:W}=n.useContext(F.q)??{},[j,Z]=(0,n.useState)(!1),z=n.useRef(),X=b.y6c.COLOR,ee=(0,n.useMemo)(()=>(null==t?void 0:t.node_id)?{type:b.Tcd.ALIAS,resolvedType:X,value:t.node_id}:e?{type:b.Tcd.COLOR,resolvedType:X,value:e}:void 0,[t,e,X]);function et(){var e;let t=null==(e=V.current)?void 0:e.getEl();if(!t)return;let r=(0,C.cT)(t,W);z.current=r,Z(!0)}return q(k,D,U.setActiveTab,!1),n.createElement(n.Fragment,null,n.createElement(h.u,{name:"color_picker"},n.createElement(B.G0,{ref:V,title:n.createElement($,{currentView:G,supportedViews:D,rightButtons:function(){if(H&&A)return n.createElement(o.w,{"data-tooltip-type":S.wL.TEXT,"data-tooltip":(0,f.t)("variables.binding_ui.create_variable_button_tooltip"),"aria-label":(0,f.t)("variables.binding_ui.create_variable_button_tooltip"),recordingKey:m.Mx(d,"createVariable"),onClick:et},n.createElement(g.e,{svg:Y.c},n.createElement(l.c,null)))}(),recordingKey:d,onViewChange:U.setActiveTab,tabManager:L?U:null,tabProps:L?x:null}),headerSize:"small",initialPosition:s,recordingKey:m.Mx(d,"modal"),onClose:_},n.createElement("div",{className:K.kl},function(){if(L)return n.createElement(n.Fragment,null,n.createElement(a.k.TabPanel,{...x.custom_color},n.createElement(N.YR,{dispatch:O,dropdownShown:R,color:e,onColorChange:u,currentTool:k,colorFormat:P,recordingKey:m.Mx(d,"colorControls")}),!y&&n.createElement(M.E,{onChange:u,recordingKey:d})),n.createElement(a.k.TabPanel,{...x.library},n.createElement(Q,{selectedItem:t,disabledVariableIds:r,recordingKey:m.Mx(d,"libraryColors"),onVariableSelected:p,variableScopes:I,onClose:_})));switch(G){case"custom_color":return n.createElement(n.Fragment,null,n.createElement(N.YR,{dispatch:O,dropdownShown:R,color:e,onColorChange:u,currentTool:k,colorFormat:P,recordingKey:m.Mx(d,"colorControls")}),!y&&n.createElement(M.E,{onChange:u,recordingKey:d}));case"library":return n.createElement(Q,{selectedItem:t,disabledVariableIds:r,recordingKey:m.Mx(d,"libraryColors"),onVariableSelected:p,variableScopes:I,onClose:_})}}()))),j&&(H&&z.current&&p?n.createElement(H,{initialPosition:z.current,initialValue:ee,resolvedType:b.y6c.COLOR,onCreateVariable:p,onClose:function(){Z(!1)}}):null))}function J({initialView:e,isBoundToLibraryAsset:t,supportedViews:r}){let n;return(n=e||(t?"library":"custom_color"),r&&!r.includes(n))?r[0]:n}},228560:(e,t,r)=>{"use strict";let n;r.d(t,{m:()=>_,u:()=>h});var i=r(307824),a=r(515724),o=r(87975),l=r(455200),s=r(888932),c=r(570464),d=r(282528),u=r(373224),p=r(713620),m=r(971664),_=((n=_||{})[n.DEFAULT=0]="DEFAULT",n[n.LIGHT=1]="LIGHT",n);function h(e){let{version:t}=(0,a.qG)();return i.createElement(g,{...e,version:t})}class g extends c.UR{constructor(e){super(e),this.sliderRef=i.createRef(),this.sKeyHeld=!1,this.onChange=c.QD(this,"change",e=>{this.props.onChange(e)}),this.onPointerDown=e=>{this.props.disabled||e.button!==u.O.LEFT||(e.stopPropagation(),e.currentTarget.setPointerCapture(e.pointerId),this.onSliderPointerEvent(e),this.setState({dragging:!0}))},this.onPointerUp=e=>{if(!this.state.dragging)return;this.onSliderPointerEvent(e);let t=this.getRawSliderValueFromPointerEvent(e);this.props.onStopDragging(e,t),this.setState({dragging:!1}),this.sKeyHeld=!1},this.onPointerMove=e=>{this.state.dragging&&(e.stopPropagation(),this.onSliderPointerEvent(e))},this.onPointerEnter=()=>{var e,t;this.props.disabled||null==(t=(e=this.props).onHover)||t.call(e,"ENTER")},this.onPointerLeave=()=>{var e,t;this.props.disabled||null==(t=(e=this.props).onHover)||t.call(e,"LEAVE")},this.onKeyDown=e=>{if(this.props.disabled)return;let t=e.shiftKey?this.props.shiftScale||10:1;switch(e.keyCode){case o.as.LEFT_ARROW:case o.as.DOWN_ARROW:if(void 0!==this.props.shiftScale){let e=Math.ceil(this.state.value/t)*t;this.setSliderValue(this.percentFromValue(e-1*t,this.props))}else this.setSliderValue(this.state.localValuePercent-.02*t);break;case o.as.RIGHT_ARROW:case o.as.UP_ARROW:if(void 0!==this.props.shiftScale){let e=Math.floor(this.state.value/t)*t;this.setSliderValue(this.percentFromValue(e+1*t,this.props))}else this.setSliderValue(this.state.localValuePercent+.02*t);break;case o.as.HOME:this.setSliderValue(0);break;case o.as.END:this.setSliderValue(1);break;case o.as.BACKSPACE:case o.as.DELETE:void 0!==this.props.defaultValue&&this.setSliderValue(this.percentFromValue(this.props.defaultValue,this.props));break;case o.as.ESCAPE:case o.as.ENTER:case o.as.SPACE:e.currentTarget.blur();break;case o.as.S:if(!this.state.dragging)return(0,p.eI)(e,p.fh.YES,p.wB.YES),c.Cy;this.sKeyHeld=!0;break;default:return(0,p.eI)(e,p.fh.YES,p.wB.YES),c.Cy}e.stopPropagation(),e.preventDefault()},this.onKeyUp=e=>{e.keyCode===o.as.S&&(this.sKeyHeld=!1)},this.getRawSliderValue=(e,t=!1)=>{var r;let n=this.valueFromPercent((0,l.qk)(e,0,1)),i=null==(r=this.props.recommendedValues)?void 0:r.find(e=>e===n);if(null!=i)return i;let a=this.getResolution(t),o=1/(a||1);return(0,l.qk)(a?Math.round(n*o)/o:n,this.props.min,this.props.max)},this.setSliderValue=(e,t=!1)=>{let r=this.getRawSliderValue(e,t);r!==this.state.value&&(this.setState({value:r,localValuePercent:this.percentFromValue(r,this.props)}),this.onChange(r))},this.state={value:this.props.value,localValuePercent:this.percentFromValue(this.props.value,this.props),dragging:!1}}getSliderInfo(){let e=this.sliderRef.current;return{bounds:e.getBoundingClientRect(),length:e.clientWidth,height:e.clientHeight}}valueFromPercent(e){return this.props.min+(this.props.max-this.props.min)*e}percentFromValue(e,t){return(e-t.min)/(t.max-t.min)}UNSAFE_componentWillReceiveProps(e){this.setState({value:e.value,localValuePercent:this.percentFromValue(e.value,e)})}getSliderPercentFromPointerEvent(e){var t;let r=(e.clientX-this.getSliderInfo().bounds.left)/this.getSliderInfo().length,n=!(s.cp.mac&&e.ctrlKey)&&!this.sKeyHeld,i=(null==(t=this.props.recommendedValues)?void 0:t.length)||this.props.showDefaultValue;if(n&&i){let e=void 0!==this.props.defaultValue?this.percentFromValue(this.props.defaultValue,this.props):.5,t=r,n=Number.POSITIVE_INFINITY;for(let i of(this.props.recommendedValues??[]).concat(this.props.showDefaultValue?[this.valueFromPercent(e)]:[])){let e=this.percentFromValue(i,this.props),a=Math.abs(e-r);a<n&&(t=e,n=a)}(n<.02||n<.05&&t===e)&&(r=t)}return r}onSliderPointerEvent(e){let t=this.getSliderPercentFromPointerEvent(e);this.setSliderValue(t,e.shiftKey)}getRawSliderValueFromPointerEvent(e){let t=this.getSliderPercentFromPointerEvent(e);return this.getRawSliderValue(t,e.shiftKey)}getResolution(e){return(e?this.props.shiftScale:void 0)||this.props.resolution}render(){var e,t;let r,n;let a=this.percentFromValue(this.props.defaultValue||0,this.props),o="ui3"===this.props.version?"left":"marginLeft",l={[o]:`${100*this.state.localValuePercent}%`},s={[o]:`${100*a}%`},c=m.E7;this.props.disabled?c=m.Cs:1===this.props.sliderType?c=m.Si:this.state.value===this.props.defaultValue&&(c=m.U3),r=this.props.fullWidth?m.cD:this.props.long?m.AN:m.Gi,n=this.props.fullWidth?m.QZ:this.props.long?m.CK:m.YT;let u=this.props.showDefaultValue||this.props.disabled||this.props.fullWidth||1===this.props.sliderType?m.YX:m.iU,p=void 0!==this.props.defaultValue&&void 0===this.props.recommendedValues||(null==(e=this.props.recommendedValues)?void 0:e.length)===1&&this.props.recommendedValues[0]===this.props.defaultValue,_=this.props.showDefaultValue||this.props.disabled||this.props.fullWidth?m.EJ:m.ED,h="ui3"===this.props.version&&p?_:this.props.showDefaultValue||this.props.disabled||this.props.fullWidth?m._A:m._u,g=Math.min(this.state.localValuePercent,a),f=Math.abs(this.state.localValuePercent-a);return i.createElement("div",{className:r,tabIndex:this.props.disabled?-1:this.props.tabIndex,onKeyDown:this.onKeyDown,onKeyUp:this.onKeyUp,onBlur:e=>this.props.onStopDragging(e.nativeEvent),onPointerEnter:this.onPointerEnter,onPointerLeave:this.onPointerLeave},i.createElement("div",{className:n,onMouseDown:d.Ii,onPointerDown:this.onPointerDown,onPointerUp:this.onPointerUp,onLostPointerCapture:this.onPointerUp,onPointerMove:this.onPointerMove,ref:this.sliderRef},i.createElement("div",{className:u}),"ui3"===this.props.version&&this.props.isDelta&&i.createElement("div",{className:m.uu,style:{width:`${100*f}%`,left:`${100*g}%`}}),null==(t=this.props.recommendedValues)?void 0:t.map((e,t)=>{if(this.props.showDefaultValue&&e===this.props.defaultValue)return;let r={[o]:`${100*this.percentFromValue(e,this.props)}%`};return i.createElement("div",{key:t,className:_,style:r})}),this.props.showDefaultValue&&!this.props.hideValue&&i.createElement("div",{className:h,style:s}),!this.props.hideValue&&i.createElement("div",{className:c,style:l})))}}g.displayName="SliderImpl"},971152:(e,t,r)=>{"use strict";let n;r.d(t,{Cg:()=>f,Q1:()=>b,oD:()=>y});var i=r(307824),a=r(125504),o=r.n(a),l=r(570464),s=r(403132),c=r(540696),d=r(570012),u=r(509972),p=r(385228),m=r(235020),_=r(736456),h=r(747588),g=r(799480);let{OverridesProvider:f,OverridableComponent:E}=(0,h.q)();var y=((n=y||{})[n.Select=0]="Select",n[n.Input=1]="Input",n);class b extends i.PureComponent{constructor(){super(...arguments),this.state={isMouseOver:!1,isFocused:!1,previousPreviewValue:this.props.property},this.onMouseOver=e=>{var t,r;null==(r=(t=this.props).onMouseEnter)||r.call(t,e),this.setState({isMouseOver:!0})},this.onMouseLeave=e=>{var t,r;null==(r=(t=this.props).onMouseLeave)||r.call(t,e),this.setState({isMouseOver:!1})},this.onFocus=e=>{var t,r;this.setState({isFocused:!0}),null==(r=(t=this.props).onInputFocus)||r.call(t,e)},this.onBlur=e=>{var t,r;this.setState({isFocused:!1}),null==(r=(t=this.props).onInputBlur)||r.call(t,e)}}componentDidUpdate(e){var t;this.props.enablePreview&&!e.dropdownShown&&(null==(t=this.props.dropdownShown)?void 0:t.type)===this.props.id&&this.setState({previousPreviewValue:this.props.property})}areValuesEqual(e,t){return null==e||null==t?null==e==(null==t):this.props.formatter.isEqual?this.props.formatter.isEqual(e,t):e===t}render(){var e;let t=(0,c.kB)(this.state.previousPreviewValue??this.props.property),r=[],n=!0;i.Children.forEach(this.props.children,e=>{var r;this.areValuesEqual(null==(r=null==e?void 0:e.props)?void 0:r.value,t)&&(n=!1)}),n&&t&&!this.props.omitValueFromDropdown&&(r.push(i.createElement(m.cb,{value:t,key:"custom-option",dataTestId:`custom-option-${t}`},this.props.formatter.format(t))),0!==i.Children.count(this.props.children)&&r.push(i.createElement(m.Wy,{key:"custom-option-divider"})));let a=g.wB;!this.props.disabled&&(this.state.isMouseOver||this.state.isFocused)&&(a=g.cd);let h=g.uQ;this.props.disabled&&(h=g.w$);let f=this.props.isTokenizable?_.S:p.IJ,y=e=>{var t,r;this.props.disableSelectFocus&&"ArrowDown"===e.key&&e.metaKey?(e.preventDefault(),this.props.dispatch(s.Qn({type:this.props.id}))):null==(r=(t=this.props).onKeyDown)||r.call(t,e)};return i.createElement("div",{className:`${h} ${this.props.className||""}`,onMouseDown:this.props.onMouseDown,onMouseOver:this.onMouseOver,onMouseLeave:this.onMouseLeave,onMouseEnter:this.props.onMouseEnterNonPropagating,"data-onboarding-key":this.props.onboardingKey,onKeyDown:e=>{var t,r,n,i,a;this.props.disableSelectFocus&&(null==(t=this.props.dropdownShown)?void 0:t.type)===this.props.id&&"ArrowUp"===e.key&&e.metaKey&&(this.props.dispatch(s.yi()),null==(n=null==(r=this.props.forwardedRef)?void 0:r.current)||n.focus(),null==(a=null==(i=this.props.forwardedRef)?void 0:i.current)||a.select())}},i.createElement(E,{overrideKey:"select",originalComponent:m.M1,id:this.props.id,formatter:this.props.formatter,property:this.state.previousPreviewValue??this.props.property,className:this.props.disabled?g.cp:g.Ml,inputClassName:o()(a,this.props.inputClassName,{[g.io]:this.props.disableSelectFocus&&(this.state.isFocused||(null==(e=this.props.dropdownShown)?void 0:e.type)===this.props.id)}),dropdownClassName:this.props.dropdownClassName,onChange:(e,t)=>{this.props.onChange(e,t,0)},dispatch:this.props.dispatch,disabled:this.props.disabled,dropdownShown:this.props.dropdownShown,recordingKey:l.Mx(this.props,"select"),svg:this.props.svg,icon:this.props.icon,fallbackSvg:this.props.fallbackSvg,ui3Icon:this.props.ui3Icon,svgClassName:this.props.svgClassName,dropdownWidth:this.props.dropdownWidth,willShowDropdown:this.props.willShowDropdown,onOptionFocus:this.props.onOptionFocus,disableSelectFocus:this.props.disableSelectFocus,openBelowTarget:this.props.openBelowTarget,chevronClassName:this.props.chevronClassName,dropdownAlignment:this.props.dropdownAlignment,onDropdownHidden:e=>{var t,r;e&&(null==(r=null==(t=this.props.forwardedRef)?void 0:t.current)||r.focus()),this.setState({previousPreviewValue:void 0})},enablePreview:this.props.enablePreview&&!!this.props.dropdownShown,optionsWithDisabledPreviews:this.props.optionsWithDisabledPreviews},r,this.props.children),this.props.scrubbableControlProps?i.createElement(u.a,{...this.props.scrubbableControlProps,className:o()(g.IN,{[g.Ur]:!!this.props.svg,[g.MF]:this.props.disableSelectFocus})},i.createElement(E,{overrideKey:"inputComponent",originalComponent:f,dataTestId:this.props.dataTestId,className:this.props.inputClassName,formatter:this.props.formatter,property:this.props.forceInputPlaceholder&&this.props.placeholder?"":this.props.property,onChange:(e,t=d.MO.YES)=>{this.props.onChange(e,t,1)},onKeyDown:y,onKeyUp:this.props.onKeyUp,mixedMathHandler:this.props.mixedMathHandler,disabled:this.props.disabled,autoFocus:this.props.autoFocus,recordingKey:this.props.unNamespacedInputRecordingKey?this.props.recordingKey:l.Mx(this.props,"input"),onFocus:this.onFocus,onBlur:this.onBlur,noBorderOnFocus:!0,forwardedRef:this.props.forwardedRef,placeholder:this.props.placeholder&&(this.props.forceInputPlaceholder||!this.props.property)?this.props.placeholder:void 0,allowEmpty:this.props.allowEmpty,noPlaceholderLine:this.props.noPlaceholderLine})):i.createElement(E,{overrideKey:"inputComponent",originalComponent:f,dataTestId:this.props.dataTestId,className:`${g.Yh} ${this.props.svg?g.Ur:""} ${this.props.inputClassName||""}`,formatter:this.props.formatter,property:this.props.forceInputPlaceholder&&this.props.placeholder?"":this.props.property,onChange:(e,t=d.MO.YES)=>{this.props.onChange(e,t,1)},onKeyDown:y,onKeyUp:this.props.onKeyUp,disabled:this.props.disabled,autoFocus:this.props.autoFocus,recordingKey:this.props.unNamespacedInputRecordingKey?this.props.recordingKey:l.Mx(this.props,"input"),onFocus:this.onFocus,onBlur:this.onBlur,forwardedRef:this.props.forwardedRef,placeholder:this.props.forceInputPlaceholder&&this.props.placeholder?this.props.placeholder:void 0}))}}b.displayName="ComboBox",b.propTypes={children:(e,t,r)=>{let n=e[t],a=null;return i.Children.forEach(n,e=>{e.type&&e.type.__IS_VALID_SELECT_CHILD__||(a=Error(`${r} children should be of type 'Option' or 'SelectDivider'`))}),a}}},922120:(e,t,r)=>{"use strict";r.d(t,{GY:()=>o,Gu:()=>s,q_:()=>c,uO:()=>l});var n=r(307824),i=r(120304),a=r(15416);function o(){let e=(0,i.w1)(e=>e.mirror.sceneGraph),t=(0,a.QH)(),r=(0,i.w1)(e=>e.mirror.selectionProperties.masterSymbolGUID);if(!t||!t.isAlive())return[null,null];if(null==t?void 0:t.isStateGroup)return[null,t??null];if((null==t?void 0:t.type)==="SYMBOL"||(null==t?void 0:t.type)==="INSTANCE"){let n=t??null;if((null==t?void 0:t.type)==="INSTANCE"&&(n=r?e.get(r):null),!n)return[null,null];if(!(null==n?void 0:n.isState))return[n??null,null];let i=(null==n?void 0:n.parentGuid)?e.get(null==n?void 0:n.parentGuid):null;return[n??null,(null==i?void 0:i.isStateGroup)?i:null]}return[null,null]}function l(e,t){return n.useMemo(()=>{var r,n;let i=(null==(r=null==e?void 0:e.symbolLinks)?void 0:r.filter(e=>e.uri).map(e=>e))||[];if(i.length>0)return i;let a=(null==(n=null==t?void 0:t.symbolLinks)?void 0:n.filter(e=>e.uri).map(e=>e))||[];if(a.length>0)return a},[e,t])}function s(){var e,t;return null==(t=null==(e=(0,a.QH)())?void 0:e.symbolLinks)?void 0:t.map(e=>e)}function c(){let[e,t]=o(),r=l(e,t),i=null==e?void 0:e.description,a=null==t?void 0:t.description,s=i&&a?a+"\n\n"+i:i||a;return n.useMemo(()=>({links:r,description:s}),[r,s])}},581716:(e,t,r)=>{"use strict";r.d(t,{Ss:()=>el,ac:()=>es,sz:()=>en});var n=r(307824),i=r(602216),a=r(120304),o=r(280584),l=r(173885),s=r(485876),c=r(43116),d=r(139776),u=r(888932),p=r(570464),m=r(853688),_=r(968240),h=r(4596),g=r(560072),f=r(907236),E=r(219096),y=r(585508),b=r(220180),v=r(762820),I=r(555168),w=r(540696),T=r(685656),S=r(570012),C=r(142548),A=r(308264),O=r(876184),N=r(406168),L=r(200251),R=r(427824),P=r(36040),M=r(92072),k=r(241645),D=r(791024),F=r(24588),x=r(364540),U=r(266724),B=r(471111),G=r(478216),V=r(852396),H=r(836904),W=r(702924),K=r(84244),Y=r(501067),q=r(946856),j=r(101180),$=r(876180),Z=r(802956);let z=()=>n.useCallback(e=>e.stopPropagation(),[]);function Q(e){let{onDeleteProperty:t,onChange:r}=e,{getSelectedIndices:i,propertyList:a,setSelectedIndices:s,getSelectedIndicesAsSet:c}=e.selection,d=n.useCallback(()=>{let e=(0,w.uc)(a,[]),n=t;n||(n=t=>r(e.filter((e,r)=>!t.has(r)))),i().length?(n(c()),s([])):(n(new Set([e.length-1])),r(e.slice(0,e.length-1)))},[c,i,a,t,s,r]),u=z(),m=Number((0,w.EH)(a)&&(0,w.uc)(a,[]).length);return n.createElement(o.w,{as:"button",recordingKey:p.Mx(e,"removeButton"),disabled:0===m,"aria-label":(0,g.t)("fullscreen.draggable_list.remove"),onClick:d,onMouseDown:u},n.createElement(_.e,{svg:W.c,fallbackSvg:K.c},n.createElement(l.A,null)))}function X(e){let{parent:t,toggleShowingStyles:r}=e,{current:i}=t,a=n.useCallback(()=>{let e=null==i?void 0:i.getBoundingClientRect();e&&r(e)},[i,r]),o=z();return e.toggleShowingStyles?n.createElement(k.KM,{recordingKey:p.Mx(e,"stylesButton"),className:B.KR,svg:Y.c,fallbackSvg:q.c,"data-tooltip-type":C.wL.LOOKUP,"data-tooltip":"style",selected:e.isStylesPickerShown,onClick:a,onMouseDown:o}):null}function J(e){return n.createElement(o.w,{recordingKey:p.Mx(e,"resetInteractionsButton"),"data-tooltip-type":C.wL.TEXT,"data-tooltip":(0,g.t)("proto.prototype_panel.reset_interactions"),"aria-label":(0,g.t)("proto.prototype_panel.reset_interactions"),onClick:e.onResetInteractions},n.createElement(_.e,{fix_me_removeThisPropAndProvideUI3Icon:!0,svg:V.c,fallbackSvg:V.c}))}function ee(e){return n.createElement(F.wP,{className:B.qi,onMouseDown:e.addProperty,recordingKey:p.Mx(e,"addButton"),"data-tooltip":e.overrideAddPropertyTooltip??(0,g.t)("fullscreen.draggable_list.add"),"data-tooltip-type":C.wL.TEXT,tooltipForScreenReadersOnly:!e.overrideAddPropertyTooltip},n.createElement(_.e,{svg:$.c,fallbackSvg:Z.c},n.createElement(s.c,null)))}function et(e){let t=z();return n.createElement("span",{className:B.KK},n.createElement(o.w,{as:"button",recordingKey:p.Mx(e,"scrollBehaviorButton"),"data-testid":"scroll-behavior-button","data-tooltip-type":C.wL.TEXT,"data-tooltip":(0,g.t)("fullscreen.draggable_list.scroll_behavior"),"aria-label":(0,g.t)("fullscreen.draggable_list.scroll_behavior"),onClick:e.toggleScrollBehaviorPicker,onMouseDown:t},n.createElement(_.e,{svg:G.c,fallbackSvg:G.c},n.createElement(c.g,null))))}function er(e){let t=e.checked?j.c:H.c;return n.createElement(k.KM,{recordingKey:p.Mx(e,"addButton"),className:B.qi,"data-tooltip-type":C.wL.TEXT,"data-tooltip":(0,g.t)("fullscreen.toolbar.prototyping-visibility"),"data-tooltip-shortcut-key":"toggle-prototyping-info","data-onboarding-key":"visible-flows-toggle",svg:t,fallbackSvg:t,onClick:e.toggleVisibleFlows,selected:e.checked,selectedClassName:B.At})}function en(e){let{propertyList:t}=e.selection,r=(0,w.EH)(t)&&0===(0,w.uc)(t,[]).length;return n.createElement("div",{className:B.aC},e.children,n.createElement("div",{className:B.UJ},!r&&e.showRemoveButton&&n.createElement(Q,{recordingKey:e.recordingKey,selection:e.selection,onDeleteProperty:e.onDeleteProperty,onChange:e.onChange}),n.createElement(X,{recordingKey:e.recordingKey,isStylesPickerShown:e.isStylesPickerShown||!1,toggleShowingStyles:e.toggleShowingStyles,parent:e.parent}),e.showResetInteractionsButton&&n.createElement(J,{recordingKey:e.recordingKey,onResetInteractions:e.onResetInteractions}),e.showScrollBehaviorButton&&n.createElement(et,{recordingKey:e.recordingKey,toggleScrollBehaviorPicker:e.toggleScrollBehaviorPicker}),!e.hideAddButton&&n.createElement(ee,{recordingKey:e.recordingKey,addProperty:e.addProperty,overrideAddPropertyTooltip:e.overrideAddPropertyTooltip}),e.showVisibleFlowsButton&&n.createElement(er,{recordingKey:e.recordingKey,toggleVisibleFlows:e.toggleVisibleFlows,checked:e.visibleFlowsButtonChecked})))}let ei=(e,t,r)=>{let i=n.useCallback(n=>{var i;let a=n||{selectedPropertyType:e,propertyList:t,currentSelectedProperty:r},o=(0,w.uc)(a.propertyList,[]);return a.selectedPropertyType===(null==(i=a.currentSelectedProperty)?void 0:i.type)?a.currentSelectedProperty.indices.filter(e=>e>=0&&e<o.length):[]},[r,e,t]),o=n.useCallback(()=>new Set(i()),[i]),l=(0,a.OY)(),s=n.useCallback(t=>{(0,d.MF)(t,i())||(0===t.length?y.CA.deselectProperty():y.CA.updateAppModel({currentSelectedProperty:{type:e,indices:t}}),l(f.U5()),l(f.CI()))},[i,e,l]);return n.useMemo(()=>({propertyList:t,getSelectedIndices:i,getSelectedIndicesAsSet:o,setSelectedIndices:s}),[t,i,o,s])};function ea(e){let{addProperty:t,hideAddButton:r}=e,{propertyList:a}=e.selection,o=n.useCallback(e=>{let n=(0,w.EH)(a)&&0===(0,w.uc)(a,[]).length;e.currentTarget===e.target&&n&&!r&&t(e)},[t,a,r]),l=n.useRef(),s=n.useCallback(e=>{e&&(l.current=i.findDOMNode(e))},[l]);if(!e.title)return null;let c=0===Number((0,w.uc)(a,[]).length),d=!(e.isMixed||(0,w.Er)(a))&&!e.boldHeaderRow&&c;return n.createElement(F.WA,{ref:s,onMouseDown:o,className:d?B.UN:void 0},n.createElement(en,{recordingKey:e.recordingKey,showRemoveButton:!c&&e.showRemoveButton,showResetInteractionsButton:e.showResetInteractionsButton,showScrollBehaviorButton:e.showScrollBehaviorButton,hideAddButton:e.hideAddButton,selection:e.selection,onDeleteProperty:e.onDeleteProperty,onChange:e.onChange,isStylesPickerShown:e.isStylesPickerShown||!1,toggleShowingStyles:e.toggleShowingStyles,parent:l,addProperty:e.addProperty,overrideAddPropertyTooltip:e.overrideAddPropertyTooltip,onResetInteractions:e.onResetInteractions,toggleScrollBehaviorPicker:e.toggleScrollBehaviorPicker,showVisibleFlowsButton:e.showVisibleFlowsButton,toggleVisibleFlows:e.toggleVisibleFlows,visibleFlowsButtonChecked:e.visibleFlowsButtonChecked},n.createElement(F.w1,{faded:c,className:B.PI,isPanelBodyCollapsedAtom:e.isPanelBodyCollapsedAtom},n.createElement(m.g9,{className:B.sD,recordingKey:p.Mx(e,"panelTitle"),onMouseDown:o},e.title))))}class eo extends p.Yl{constructor(e){super(e),this.focusChange=()=>this.forceUpdate(),this.keyboardReceiverRef=e=>{e&&(this.keyboardReceiver=e)},this.onKeyDown=p.mQ(this,"keydown",e=>{if(this.props.shouldIgnoreKeyboardEvents)return;let t=e.event;switch(t.keyCode){case 8:case 46:this.removeProperty(),e.accept();break;case 68:if(this.props.shouldIgnoreKeyboardEventDuplicateProperty)return;(t.metaKey&&u.cp.mac||t.ctrlKey&&!u.cp.mac)&&(this.duplicateProperty(),e.accept());break;case 27:this.props.selectionHandler.getSelectedIndices().length&&(this.props.selectionHandler.setSelectedIndices([]),e.accept())}}),this.clipboardDataType=()=>{switch(this.props.selectedPropertyType){case v.cf6.FILL:return"fillPaints";case v.cf6.STROKE:case v.cf6.STROKE_PRESET:return"strokePaints";case v.cf6.EXPORT:return"exportSettings";case v.cf6.LAYOUT_GRID:return"layoutGrids";case v.cf6.EFFECT:return"effects";case v.cf6.PROTOTYPE_INTERACTION:return"prototypeInteractions";case v.cf6.PROTOTYPE_INHERITED_INTERNAL_INTERACTION:return null;default:throw Error(`Unexpected: ${v.cf6[this.props.selectedPropertyType]}`)}},this.liftInteractionsFromInteractionGroups=e=>{let t=e.map(e=>e.interactions),r=[];for(var n of t)for(var i of n){let e=JSON.parse(JSON.stringify(i));i&&i.actions&&(e.actions=(0,D.g)(e.actions)),r.push(e)}return r},this.onClipboard=(e,t)=>{var r;let n=this.clipboardDataType();if(!n)return;let i=e.event.clipboardData||window.clipboardData,a=this.props.selectionHandler.getSelectedIndices();switch(t){case T.Mi.COPY:case T.Mi.CUT:if(a.length){let o=(0,w.kB)(this.props.propertyList),l=o?a.map(e=>o[e]):[];"prototypeInteractions"===n&&(l=this.liftInteractionsFromInteractionGroups(l)),("fillPaints"===n||"strokePaints"===n)&&(l=l.map(e=>(0,R.c)(e)));let s=b.uC((null==(r=this.props.openFile)?void 0:r.key)||null,{[n]:l});b.UF(i,s,""),t===T.Mi.CUT&&this.removeProperty(),e.accept()}break;case T.Mi.PASTE:if("prototypeInteractions"===n)break;if(a.length){let t=b.eI(i);if(t){let r=b.Yh(t),i=r.nodeChanges&&r.nodeChanges[0]||{},o=this.getProperties(i,n);if(o&&o.length){let t=a[a.length-1],r=(0,w.uc)(this.props.propertyList,[]);r=r.slice(0,t+1).concat(o).concat(r.slice(t+1)),this.props.onChange(r);let n=o.map((e,r)=>t+r+1);this.props.selectionHandler.setSelectedIndices(n),e.accept()}}}}},this.onPropertyChange=(e,t,r)=>{let n=(0,w.uc)(this.props.propertyList,[]).slice(0);n[e]=t,this.props.onChange(n,r)},this.removeProperty=()=>{let e=(0,w.uc)(this.props.propertyList,[]),t=this.props.onDeleteProperty;t||(t=t=>this.props.onChange(e.filter((e,r)=>!t.has(r)))),this.props.selectionHandler.getSelectedIndices().length&&(t(this.props.selectionHandler.getSelectedIndicesAsSet()),this.props.selectionHandler.setSelectedIndices([]))},this.duplicateProperty=()=>{let e=(0,w.uc)(this.props.propertyList,[]).slice();if(this.props.selectionHandler.getSelectedIndices().length){let t=this.props.selectionHandler.getSelectedIndices().map(t=>e[t]);for(let r of t){let t={...r};e.splice(e.indexOf(r),0,t)}this.props.onChange(e);let r=[];for(let n of t)r.push(e.indexOf(n));this.props.selectionHandler.setSelectedIndices(r)}},this.renderListItem=(e,t,r,n,i,a,o)=>this.props.renderProperty(e,t,r,n,this.keyboardReceiver&&this.keyboardReceiver.hasFocus(),this.onPropertyChange.bind(this,t),i,a,o)}UNSAFE_componentWillReceiveProps(e){this.props.currentSelectedProperty!==e.currentSelectedProperty&&(this.props.selectionHandler.getSelectedIndices(e).length?this.keyboardReceiver.focus():this.keyboardReceiver.blur())}getProperties(e,t){let r=e[t]||null,n=["fillPaints","strokePaints","backgroundPaints"];return n.indexOf(t)>=0&&(r=r||(()=>{for(let t of n){let r=e[t]||null;if(r&&r.length)return r}return null})()),r}render(){let e=(0,w.uc)(this.props.propertyList,[]),t=this.props.propertyList===w.ee||this.props.isMixed,r=this.props.renderHeader;return n.createElement(A.Sg,{name:"Draggable property list",handleKeyDown:this.onKeyDown,handleClipboard:this.onClipboard,ref:this.keyboardReceiverRef,forceUpdate:this.focusChange},r?n.createElement(r,{selectionHandler:this.props.selectionHandler}):n.createElement(ea,{title:this.props.title,recordingKey:this.props.recordingKey,showRemoveButton:this.props.showRemoveButton,showResetInteractionsButton:this.props.showResetInteractionsButton,showScrollBehaviorButton:this.props.showScrollBehaviorButton,hideAddButton:this.props.hideAddButton,selection:this.props.selectionHandler,onDeleteProperty:this.props.onDeleteProperty,onChange:this.props.onChange,isStylesPickerShown:this.props.isStylesPickerShown||!1,toggleShowingStyles:this.props.toggleShowingStyles,addProperty:this.props.addProperty,overrideAddPropertyTooltip:this.props.overrideAddPropertyTooltip,boldHeaderRow:this.props.boldHeaderRow,onResetInteractions:this.props.onResetInteractions,toggleScrollBehaviorPicker:this.props.toggleScrollBehaviorPicker,isMixed:this.props.isMixed,showVisibleFlowsButton:this.props.showVisibleFlowsButton,toggleVisibleFlows:this.props.toggleVisibleFlows,visibleFlowsButtonChecked:this.props.visibleFlowsButtonChecked,isPanelBodyCollapsedAtom:this.props.isPanelBodyCollapsedAtom}),n.createElement(P.O_,{isPanelBodyCollapsedAtom:this.props.isPanelBodyCollapsedAtom||null},t&&n.createElement(F.WA,null,n.createElement(F.yk,{className:B.Sq},this.props.selectedPropertyType===v.cf6.EXPORT?n.createElement(g.Tx,{id:"fullscreen.properties_panel.click_plus_to_replace_mixed_export_settings"}):n.createElement(g.Tx,{id:"fullscreen.properties_panel.click_plus_to_replace_mixed_content"}))),!t&&n.createElement(U.u,{listItems:e,onChange:this.props.onChange,onReorder:this.props.onReorder,selectedIndices:this.props.selectionHandler.getSelectedIndices(),updateSelection:this.props.selectionHandler.setSelectedIndices,renderListItem:this.renderListItem,reversed:void 0===this.props.reversed||this.props.reversed})))}}function el(e){let t=ei(e.selectedPropertyType,e.propertyList,e.currentSelectedProperty);return n.createElement(eo,{...e,selectionHandler:t})}eo.displayName="DraggablePropertyList";class es extends p.Yl{constructor(){super(...arguments),this.state={hasEverHovered:!1},this.context=null,this.onApplyStyle=(e,t)=>{this.props.dispatch(E.Ce({style:e,inheritStyleKeyField:this.props.inheritStyleKeyField,fromSearch:t}))},this.addProperty=e=>{this.props.addProperty(e),this.isInStyleModal()||this.props.dispatch(f.U5()),this.props.dispatch(f.CI())},this.removeAllProperties=()=>{(0,L.Al)(this.props.inheritStyleKey)&&I.Pc.user("remove-all-properties",()=>v.i46.applyStyleToSelection(this.props.inheritStyleKeyField,h.Q9,!1)),this.props.onChange([],S.MO.YES)},this.toggleShowingStyles=e=>{if(this.props.onPickerIconClick){let t=e.left+(e.width-x.Il)/2,r=e.top+e.height;this.props.onPickerIconClick({initialX:t,initialY:r});return}if((0,L.mh)(this.props))this.props.dispatch(f.CI());else{let t=e.left+(e.width-x.Il)/2,r=e.top+e.height;this.props.dispatch(f.O0({id:(0,L.ak)(this.props.inheritStyleKeyField),initialX:t,initialY:r,modal:!0}))}},this.onMouseOver=()=>{this.setState({hasEverHovered:!0})}}isInStyleModal(){return null!=this.context}isInCreateStyleModal(){return this.context===M.yS.CREATE_STYLE}isInCreateVariableStyleModal(){return this.context===M.yS.CREATE_VARIABLE_STYLE}render(){let e=this.props.propertyList===w.ee||this.props.inheritStyleKey===w.ee,t=!e&&0===(0,w.uc)(this.props.propertyList,[]).length&&!(0,w.kB)(this.props.inheritStyleKey);if(e){let e=(0,L.mh)(this.props);return n.createElement("div",{onMouseOver:this.onMouseOver},n.createElement(el,{...this.props,isMixed:!0,addProperty:this.addProperty,toggleShowingStyles:this.toggleShowingStyles,isStylesPickerShown:!!e}),this.state.hasEverHovered&&n.createElement(N.aw,{inheritStyleKey:this.props.inheritStyleKey,inheritStyleID:this.props.inheritStyleID,styleType:this.props.styleType}),e&&n.createElement(N.Iv,{picker:e,styleType:this.props.styleType,inheritStyleKey:this.props.inheritStyleKey,inheritStyleID:this.props.inheritStyleID,stylePickerListLayout:this.props.stylePickerListLayout,onToggleListLayout:this.props.onToggleListLayout,onApplyStyle:this.onApplyStyle,initialPosition:(0,O.iu)(e),minBottomMargin:O.qG,recordingKey:"stylePicker"}))}if(this.isInStyleModal()){let e=(0,h.MR)(this.props.selectedStyleProperties.guid),t=!!(e&&this.props.library.local.styles[e]);return n.createElement("div",{className:t||this.isInCreateStyleModal()||this.isInCreateVariableStyleModal()?B.A7:B.sB},n.createElement(el,{...this.props,title:(0,g.t)("design_systems.styles.properties"),addProperty:this.addProperty}))}return n.createElement(O.qU,{styleType:this.props.styleType,inheritStyleKey:this.props.inheritStyleKey,inheritStyleKeyField:this.props.inheritStyleKeyField,inheritStyleID:this.props.inheritStyleID,stylePickerListLayout:this.props.stylePickerListLayout,onToggleListLayout:this.props.onToggleListLayout,hasMixedProperties:this.props.hasMixedProperties,hasMissingFont:this.props.hasMissingFont,stylesButtonDataTag:this.props.stylesButtonDataTag,title:this.props.title,addProperty:this.addProperty,overrideAddPropertyTooltip:this.props.overrideAddPropertyTooltip,isEmpty:t,removeAllProperties:void 0!==this.props.removeAllProperties?this.props.removeAllProperties:this.removeAllProperties,styleVisibility:this.props.styleVisibility,recordingKey:this.props.recordingKey,onPickerIconClick:this.props.onPickerIconClick,onToggleAdvancedSettings:this.props.onToggleAdvancedSettings,advancedSettingsTooltip:this.props.advancedSettingsTooltip,isPanelBodyCollapsedAtom:this.props.isPanelBodyCollapsedAtom},n.createElement(el,{...this.props,title:""}))}}es.displayName="StyleAndPropertyList",es.contextType=M.Oi},241645:(e,t,r)=>{"use strict";r.d(t,{KM:()=>E,Qn:()=>f,_s:()=>y,g$:()=>h,wP:()=>g});var n=r(307824),i=r(125504),a=r.n(i),o=r(297608),l=r(87975),s=r(853688),c=r(537096),d=r(588900),u=r(441388),p=r(828008),m=r(938724),_=r(851540);let h=n.forwardRef(function(e,t){let r=a()(e.className,m.Bn,e.disabled?m.S8:m.cN,{[m.Oi]:e.selected,[e.selectedClassName??""]:e.selected,[m.g7]:e.isBackgroundTransparent});return n.createElement("button",{ref:t,className:r,onClick:e.disabled?void 0:e.onClick,onDoubleClick:e.disabled?void 0:e.onDoubleClick,onKeyDown:e.disabled?void 0:e.onKeyDown,onPointerDown:e.disabled?void 0:e.onPointerDown,onMouseDown:e.disabled?void 0:e.onMouseDown,onMouseUp:e.disabled?void 0:e.onMouseUp,onMouseMove:e.disabled?void 0:e.onMouseMove,onMouseEnter:e.disabled?void 0:e.onMouseEnter,onMouseLeave:e.disabled?void 0:e.onMouseLeave},n.createElement(g,{svg:e.svg,className:e.className,fallbackSvg:e.fallbackSvg,selected:e.selected,selectedClassName:e.selectedClassName,isBackgroundTransparent:e.isBackgroundTransparent,"data-onboarding-key":e["data-onboarding-key"],useOriginalSrcFills_DEPRECATED:e.useOriginalSrcFills_DEPRECATED,fill:e.fill,dataTestId:e.dataTestId,"aria-expanded":e["aria-expanded"],"aria-haspopup":e["aria-haspopup"],"aria-owns":e["aria-owns"],"data-tooltip-type":e["data-tooltip-type"],"data-tooltip":e["data-tooltip"],"data-tooltip-shortcut-key":e["data-tooltip-shortcut-key"]}),n.createElement(c.A,{className:m.KY,svg:_.c}))}),g=n.forwardRef(function(e,t){let r=(0,o.e)(t);function i(){r.current.blur()}let c=a()(e.className,{[m.Oi]:e.selected,[e.selectedClassName??""]:e.selected,[m.S8]:!e.selected&&e.disabled,[m.cN]:!e.selected&&!e.disabled,[m.g7]:e.isBackgroundTransparent}),u=e.tooltipForScreenReadersOnly||!e.showTooltipWhenSelectedIsTrue&&e.selected,_=e.href?s.OU:s.iH;return n.createElement(_,{forwardedRef:r,className:c,style:e.style,tabIndex:null!=e.tabIndex?e.tabIndex:e.disabled?-1:0,onClick:e.disabled?void 0:e.onClick,onDoubleClick:e.disabled?void 0:e.onDoubleClick,onKeyDown:e.disabled?void 0:t=>{var r,n;switch(t.keyCode){case l.as.ENTER:case l.as.SPACE:(e.onMouseDown||e.onClick||e.onKeyDown)&&t.preventDefault(),null==(r=e.onMouseDown)||r.call(e,t),e.onKeyDown?e.onKeyDown(t):null==(n=e.onClick)||n.call(e,t);break;case l.as.ESCAPE:i()}},onPointerDown:e.disabled?void 0:e.onPointerDown,onMouseDown:e.disabled?void 0:e.onMouseDown,onMouseUp:e.disabled?void 0:i,onMouseMove:e.disabled?void 0:e.onMouseMove,onMouseEnter:e.disabled?void 0:e.onMouseEnter,onMouseLeave:e.disabled?void 0:e.onMouseLeave,onContextMenu:e.disabled?void 0:e.onContextMenu,href:e.disabled?void 0:e.href,type:e.type,target:e.target,"data-tooltip-type":u?null:e["data-tooltip-type"],"data-tooltip":u?null:e["data-tooltip"],"data-tooltip-show-immediately":u?null:e["data-tooltip-show-immediately"],"data-tooltip-max-width":u?null:e["data-tooltip-max-width"],"data-tooltip-show-above":u?null:e["data-tooltip-show-above"],"data-tooltip-shortcut-key":u?null:e["data-tooltip-shortcut-key"],"data-tooltip-offset-x":u?null:e["data-tooltip-offset-x"],"data-tooltip-offset-y":u?null:e["data-tooltip-offset-y"],"aria-label":e["aria-label"]??(0,p.mS)(e),"aria-disabled":e.disabled,"data-onboarding-key":e["data-onboarding-key"],"data-testid":e.dataTestId,"aria-expanded":e["aria-expanded"],"aria-haspopup":e["aria-haspopup"],"aria-owns":e["aria-owns"],recordingKey:e.recordingKey},e.children||n.createElement(d._,{svg:e.svg,fallbackSvg:e.fallbackSvg,useOriginalSrcFills_DEPRECATED:e.useOriginalSrcFills_DEPRECATED,style:{fill:e.fill}}))}),f=(0,u.wB)(g),E=g,y=(0,u.wB)(E)},482952:(e,t,r)=>{"use strict";r.d(t,{Mn:()=>u,OC:()=>c,W6:()=>E,_u:()=>h,eS:()=>m,m6:()=>g,mQ:()=>_,yA:()=>f,yg:()=>p});var n=r(143076),i=r(675695),a=r(762820),o=r(649496),l=r(939540),s=r(790184);function c(e,t){var r;let n=null==(r=t.get(e))?void 0:r.symbolId;if(n){let r,i;let a=t.get(n),o=null==a?void 0:a.containingStateGroupId;if((null==a?void 0:a.isState)&&o){let e=t.get(o);(null==e?void 0:e.isStateGroup)&&(r=null==e?void 0:e.stateGroupKey,i=null==e?void 0:e.sharedStateGroupVersion)}let{componentKey:s,sharedSymbolVersion:c}=a??{};return{instanceGUID:e,backingGUID:n,fileKey:(0,l.YH)(a)??void 0,componentKey:s??void 0,stateGroupKey:r??void 0,symbolVersion:c??void 0,stateGroupVersion:i??void 0}}return null}function d(e,t,r){let i=(0,l.FN)(t);if(!i)return;let a=n.M.fromGuid(e.instanceGUID);r[i]?r[i].instanceIdsToUpdate.push(a):r[i]={updateAsset:t,instanceIdsToUpdate:[a]}}function u(e,t,r){let n={},a={};for(let t of r)for(let r of e)r.component_key&&(t.componentKey&&t.componentKey===r.component_key?t.symbolVersion&&t.symbolVersion!==r.content_hash&&d(t,r,n):t.componentKey&&r.oldSubscribedKeysToUpdate.includes(t.componentKey)?d(t,r,n):r.localIdsToUpdate.includes(t.backingGUID)&&d(t,r,n));for(let e of r)for(let r of t)if(r.key){if(e.componentKey&&e.stateGroupKey&&e.stateGroupKey===r.key)e.stateGroupVersion&&e.stateGroupVersion!==r.version&&Object.keys(r.newStateKeyToOutdatedItems).includes(e.componentKey)&&d(e,r,a);else for(let t of Object.keys(r.newStateKeyToOutdatedItems))e.componentKey&&r.newStateKeyToOutdatedItems[(0,i.dv)(t)].oldSubscribedKeysToUpdate.includes(e.componentKey)?d(e,r,a):r.newStateKeyToOutdatedItems[(0,i.dv)(t)].localIdsToUpdate.includes(e.backingGUID)?d(e,r,a):e.componentKey&&e.componentKey===t&&d(e,r,a)}return{componentInstanceUpdateInfo:n,stateInstanceUpdateInfo:a}}function p(e,t,r){if(t&&r){let n=new Set([r,...e]);return{updateAsset:t,inheritStyleKeyFields__DEPRECATED:(0,o.bX)(t.style_type),styleGUIDs:[...n]}}return t?{updateAsset:t,inheritStyleKeyFields__DEPRECATED:(0,o.bX)(t.style_type),styleGUIDs:e}:null}function m(e,t){return e.find(e=>(null==t?void 0:t.isLocalStyle)?-1!==e.localIdsToUpdate.indexOf(t.GUID):null!=t&&!!t.key&&-1!==e.oldSubscribedKeysToUpdate.indexOf(t.key)||e.key===(null==t?void 0:t.key)&&t.version&&e.content_hash!==t.version)??null}function _(e,t){return e?t.filter(({key:t,version:r})=>e.oldSubscribedKeysToUpdate.includes(t)||t===e.key&&r!==e.content_hash).map(e=>e.nodeId).concat(e.localIdsToUpdate):[]}function h(e,t){return[...Object.values(e),...Object.values(t)].reduce((e,t)=>e+=t.instanceIdsToUpdate.length,0)}function g(e,t){return e.component_key&&e.content_hash?a.i46.getOutdatedComponentInstanceDevIds(e.component_key,e.content_hash,e.oldSubscribedKeysToUpdate,e.localIdsToUpdate,t||""):[]}function f(e,t){return a.i46.getOutdatedStateInstanceDevIds(e.version,e.newStateKeyToOutdatedItems,t||"")}function E(e){return e.type===s.Af.COMPONENT?g(e,void 0).length:f(e,void 0).length}},243892:(e,t,r)=>{"use strict";r.d(t,{Ab:()=>eO,Ks:()=>eN,Ww:()=>eI,Yx:()=>eA,m_:()=>eE});var n=r(307824),i=r(602216),a=r(120304),o=r(280584),l=r(543832),s=r(193824),c=r(125504),d=r.n(c),u=r(250008),p=r(721500),m=r(972920),_=r(4580),h=r(843148),g=r(87975),f=r(570464),E=r(103839),y=r(753944),b=r(303872),v=r(148276),I=r(537096),w=r(968240),T=r(560072),S=r(995076),C=r(765064),A=r(403132),O=r(907236),N=r(37864),L=r(219096),R=r(316220),P=r(323576),M=r(110296),k=r(849208),D=r(282528),F=r(148812),x=r(81492),U=r(172600),B=r(280692),G=r(647812),V=r(596496),H=r(560864),W=r(392992),K=r(572748),Y=r(939540),q=r(39676),j=r(795236),$=r(619152),Z=r(790184),z=r(793944),Q=r(142548),X=r(514008),J=r(97004),ee=r(17984),et=r(550464),er=r(525804),en=r(101040),ei=r(372204),ea=r(75796),eo=r(23124),el=r(293580),es=r(235020),ec=r(743424),ed=r(509868),eu=r(552727),ep=r(763456),em=r(116960),e_=r(350264),eh=r(736584),eg=r(14896);let ef=(0,p.I)(ep.OW1),eE=(0,p.I)(ep.mw5),ey=(0,p.I)(ep.msj),eb=e=>{switch(e){case ea.mS.SMALL:return{height:22,width:22,gridClassName:""};case ea.mS.NORMAL:return{height:72,width:72,gridClassName:""};case ea.mS.WIDE:return{height:52,width:256,gridClassName:""}}},ev=(e,t)=>{let r=eb(t),i=(0,h.Ub)().ds_use_lib_keys?`${e.node_id}-${e.library_key}`:`${e.node_id}-${(0,S.j)(e)}`;return n.createElement(et.ug,{key:i,item:e,height:null==r?void 0:r.height,width:null==r?void 0:r.width,showName:!1,shouldHideDescription:!0,shouldShowNamePopout:!0,isFigJam:!0,noBackground:!1,displayType:null===t?"list-compact":"grid",isSearch:!1,className:null===t?em.oT:em.Yj})};function eI(e,t){return n.createElement(ee.H,{item:e,shouldGenerateLocalThumbnail:!0,className:null===t?em.oT:em.Yj,draggable:!1})}let ew=e=>["drilldownItem-productComponent",e.node_id],eT=(e,t)=>{let r=1===e.length&&1===t.length&&e[0].node_id===t[0].node_id;return e.length>0&&!r},eS="ENABLED_LIBRARIES_LABEL";function eC(e){let{openFile:t,onSwapCallback:r,instanceSwapPickerShown:i,multiselect:o,onMultiselectCallback:l,selectedItems:s,scrollContainerHeight:c,isLoadingSubscribedLibraries:p,shouldPerformSwapOnClick:m,itemsToSwap:h,incrementNumSearchesForTracking:f,dropdownAccessory:E,pickerType:w,pickerToggleRef:S,preferredItems:O,overrideDefaultItem:D,showPreferredSectionByDefault:W,preferredValuesErrorComponent:Q}=e,X=w===b.i6.INSTANCE_SWAP_PICKER||w===b.i6.PREFERRED_VALUES_PICKER,{library:ee,dropdownShown:et,fileByKey:en,hubFiles:ep,sceneGraphSelection:eh,isListView:eg,loadingState:eE}=(0,_.q)(e=>({library:e.library,dropdownShown:e.dropdownShown,fileByKey:e.fileByKey,hubFiles:e.hubFiles,sceneGraphSelection:e.mirror.sceneGraphSelection,isListView:e.instanceSwapPickerListLayout,loadingState:e.loadingState})),ey=(0,a.w1)(e=>e.universalInsertModal.showing),eb=t.key,eT=(0,a.OY)(),eC=o?null:s[0]??null,eA=null==D?void 0:D.file_key,eO=n.useMemo(()=>eA??F.a8(s),[eA,s]),eN=n.useMemo(()=>(0,ec.Ss)(ee),[ee]),eL=n.useMemo(()=>(0,ec.jg)(ee,t,en,eO),[ee,t,en,eO]),eR=(0,H._m)(z.Sy.Design).productComponents.map(ec.Yt),eP=n.useMemo(()=>O?O.map(ec.Yt):[],[O]),eM=n.useMemo(()=>(0,ec.ic)(eL,en),[eL,en]),[ek,eD,eF]=n.useMemo(()=>{var e;return eO&&(null==(e=eM[eO])?void 0:e.length)>0?[eO,eM[eO],eL[eO]]:eN.length>0?[eb,eN,(0,Y.yu)(F.e6(ee))]:X&&Object.entries(eM).find(([e,t])=>t.length>0)||[null,[]]},[eO,eM,eN,X,eL,eb,ee]),[ex,eU]=n.useState(()=>W?{type:b.es.PREFERRED}:ek&&(X||ek!==eb)?{type:b.es.FILE,key:ek}:{type:b.es.RECENT}),[eB,eG]=n.useState(null),eV=n.useMemo(()=>{let e=[],r=(0,Y.yu)(F.e6(ee));e.push(...r);let n=[];return Object.values(eL).forEach(e=>{n.push(...e)}),e.push(...n),(e=>{let r=[];r=e.filter(e=>e.type===Z.Af.COMPONENT);let n=e.filter(e=>e.type===Z.Af.STATE_GROUP),i=(0,Y.uS)(ee.published.components),a=(0,Y.mS)(ee,i,{key:t.key,team_id:t.teamId,editor_type:t.editorType,source_file_key:t.sourceFileKey},(0,V.CO)(t.project)),o=Object.values((0,Y.OS)(ee.local.components)),l=a.concat(o),s=(0,Y.mA)(n,l);return r.push(...s),r})(e)},[eL,ee,t]),[eH,eW]=n.useState(!1),eK=n.useCallback(async e=>{let t=await (0,$.a)(e,eV),r=(0,y.ic)(t.map(e=>e.item),e=>e.name,e=>e.file_key+e.node_id);return(0,u.we)(`${X?"Instance Swap Picker":"Component Insert"} Search`,{numResults:r.length}),f(),r},[eV,X,f]),eY=n.useCallback(e=>ex.type===b.es.FILE?ex.key===eb?e.filter(e=>"LEAF"===e.type&&e.item.isLocal):e.filter(e=>"LEAF"===e.type&&e.item.file_key===ex.key&&(0,Y.FN)(e.item)):ex.type===b.es.PREFERRED?e.filter(e=>"LEAF"===e.type&&O&&!!O.find(t=>t.node_id===e.item.node_id)):e,[ex,eb,O]),eq=n.useCallback((e,t)=>{e.preventDefault(),e.stopPropagation(),eT(A.Qn({type:J.g,data:{component:t.item,position:{top:e.clientY,left:e.clientX}}}))},[eT]),{validDropdownSelection:ej,validRootDrilldownItems:e$}=n.useMemo(()=>{let e=[];if(ex.type===b.es.PREFERRED&&eP.length>0?e=eP:ex.type===b.es.RECENT&&eR.length>0?e=eR:ex.type===b.es.FILE&&eM.hasOwnProperty(ex.key)?e=eM[ex.key]:ex.type===b.es.FILE&&eb===ex.key&&(e=eN),0===e.length){let e,t;if(ek)e={type:b.es.FILE,key:ek},t=eD;else if(eP.length>0)e={type:b.es.PREFERRED},t=eP;else if(eR.length>0)e={type:b.es.RECENT},t=eR;else if(Object.keys(eM).length>0){let r=Object.keys(eM)[0];e={type:b.es.FILE,key:r},t=eM[r]}else e={type:b.es.RECENT},t=eR;return{validDropdownSelection:e,validRootDrilldownItems:t}}return{validDropdownSelection:ex,validRootDrilldownItems:e}},[ex,eP,eR,eM,eb,eN,ek,eD]),eZ=n.useMemo(()=>{if(o){if(eO&&eF)return D?{[D.file_key]:F.oh(D,eF)}:{[eO]:(0,ec.sZ)(s,eF)}}else{let e=D||eC;if(e&&eF){let t=F.oh(e,eF);return{[e.file_key]:t}}}return{}},[o,eO,eF,s,D,eC]),[ez,eQ]=n.useState({}),eX=n.useMemo(()=>({...eZ,...ez}),[eZ,ez]),[eJ,e0]=n.useState({index:-1,parentId:null}),e1=n.useCallback(()=>e0({index:-1,parentId:null}),[]),e2=n.useCallback((e,t)=>{e1(),ej&&ej.type===b.es.FILE&&eQ({[ej.key]:e})},[e1,ej]),e4=n.useMemo(()=>ej.type===b.es.FILE&&eX[ej.key]||[],[ej,eX]),e3=(0,ei.M)({hideTooltips:!0}),e6=n.useCallback(()=>{w!==b.i6.PREFERRED_VALUES_PICKER&&(i.isShown&&i.modal?(i.returnFocusToToggle&&(null==S?void 0:S.current)&&S.current.focus(),eT(M.WS()),eT((0,N.es)())):w===b.i6.RESOURCE_INSERT_MODAL&&ey&&(eT(k.s({seen_component_onboarding_modal:!0})),e3()))},[i,S,eT,w,e3,ey]),e8=n.useCallback(e=>{if(eg)return null;let t=e.filter(e=>"LEAF"===e.type).map(e=>e.item);return(0,ea.kr)(t)},[eg]),e5=n.useCallback(t=>{var r;t===b.es.PREFERRED?eU({type:b.es.PREFERRED}):t===b.es.RECENT?eU({type:b.es.RECENT}):eU({type:b.es.FILE,key:t}),(null==(r=e.searchBarRef)?void 0:r.current)&&e.searchBarRef.current.focus(),(0,u.we)(`${X?"Instance Swap Picker":"Component Insert"} Library Switch`,{isSearching:eH})},[e.searchBarRef,X,eH]),e7=(0,K.Ce)(),e9=(0,j.UV)(e7),te=ex.type===b.es.FILE?ex.key:void 0,tt=(0,x.qO)(te),tr=(0,x.Ci)(),tn=n.useMemo(()=>({format:t=>{var r;return t===eS?(0,T.t)("design_systems.instance_swap_picker.enabled_libraries"):t===eb?(0,T.t)("design_systems.instance_swap_picker.local_components"):t===b.es.RECENT?eH?(0,T.t)("design_systems.instance_swap_picker.all_libraries"):e.pickerType===b.i6.RESOURCE_INSERT_MODAL?(0,T.t)("universal_insert.recents"):(0,T.t)("design_systems.instance_swap_picker.recently_used"):t===b.es.PREFERRED?(0,T.t)("design_systems.instance_swap_picker.preferred"):(null==(r=en[t])?void 0:r.name)??""}}),[eb,en,eH,e.pickerType]),ti=n.useMemo(()=>{switch(ex.type){case b.es.FILE:if(ex.key===eb)return"Local components";return"Subscribed libraries";case b.es.RECENT:return"Recently used";case b.es.PREFERRED:return"Preferred values"}},[ex,eb]),ta=n.useCallback(()=>{eT(P.A5({type:el._A,data:{initialTab:Z.Er.LIBRARIES,entrypoint:eo.Yj.INSTANCE_SWAP_BROWSE_LIBRARIES_LINK}}))},[eT]),to=n.useCallback(e=>{if("LEAF"!==e.type||0===s.length)return!1;let{item:t}=e;if(eB&&!o){let e=(0,eu.qq)(eB,Object.keys(eh));if(q.K0(eE,e))return t.node_id===eB.node_id&&t.file_key===eB.file_key}return s.some(e=>t.type===Z.Af.COMPONENT&&e.type===Z.Af.COMPONENT?!!t.component_key&&t.component_key===e.component_key||!t.component_key&&!e.component_key&&t.node_id===e.node_id:t.type===Z.Af.STATE_GROUP&&e.type===Z.Af.STATE_GROUP&&(!!t.key&&t.key===e.key||!t.key&&!e.key&&t.node_id===e.node_id))},[eB,eh,eE,o,s]),tl=n.useCallback(e=>{let{currentDrilldownItems:t,index:r,parentId:n}=e,i=Math.max(Math.min(eJ.index,r),0),a=Math.min(Math.max(eJ.index,r),t.length-1),o=t.slice(i,a+1).filter(e=>"LEAF"===e.type);null==l||l(o.map(e=>e.item),to(t[r])?ec.IP.DESELECT:ec.IP.SELECT),e0({index:r,parentId:n})},[to,l,eJ.index]),ts=(0,G.q)({alwaysSwap:X,canSwap:m,itemsToSwap:h,openFileKey:eb,onSwap:r,sourceForTracking:"Instance Swap Picker"}),tc=n.useCallback((e,t,r,n)=>{if(!eb)return;if(o&&n){if(e.shiftKey&&-1!==eJ.index&&eJ.parentId===n.parentId){tl(n);return}e0({index:n.index,parentId:n.parentId})}let i=e.altKey;eB&&eT(R.E5({key:(0,eu.qq)(eB,Object.keys(eh))})),eG(t.item),ts(e,t.item),e6(),X?(0,u.we)("Instance Swap Picker Insert Instance",{type:t.item.type===Z.Af.COMPONENT?"component":"state_group",fromSearch:r,viewMode:eg?"list":"grid",dropdownType:(0,b.wt)(ex,eb)}):(0,u.we)("Component Insert Panel Insert Instance",{type:t.item.type===Z.Af.COMPONENT?"component":"state_group",fromSearch:r,altKey:i,viewMode:eg?"list":"grid",dropdownType:(0,b.wt)(ex,eb)})},[eb,ex,o,eB,eh,ts,e6,X,eJ.index,eJ.parentId,tl,eT,eg]),td=n.useRef(null),tu=n.createElement("div",{className:w===b.i6.RESOURCE_INSERT_MODAL?d()(em.c1,em.cJ):em.oh},n.createElement(ed.u,{id:(0,b.io)(w),property:ej.type===b.es.FILE?ej.key:ej.type,formatter:tn,rightIcon:e9&&te!==eb&&tt?n.createElement(U.gp,{fileKey:te}):void 0,onChange:e5,dispatch:eT,dropdownShown:et,dropdownAlignment:"left",dropdownWidth:230,openOnKeyPressed:[g.as.SPACE,g.as.ENTER],inputClassName:w===b.i6.RESOURCE_INSERT_MODAL?em.Az:void 0,className:w===b.i6.RESOURCE_INSERT_MODAL?em.es:em.oF,ref:td},(()=>{function e(e){return n.createElement(ed.g,{key:e,value:e})}function r(e){return n.createElement(ed.g,{key:e,value:e,removeTextRightPadding:!0,rightSettingsIcon:n.createElement(U.wF,null)})}let i=Object.keys(eM),a=[];eP.length&&a.push(e(b.es.PREFERRED));let o=(0,V.CO)(t.project);if(eO&&eO!==eb&&!W&&!(0,Y.Ke)(ee,{key:t.key,team_id:t.teamId,editor_type:t.editorType,source_file_key:t.sourceFileKey},{key:eO},o)&&en[eO]&&(a.length>0&&a.push(n.createElement(es.Wy,{key:"non-subscribed-divider"})),a.push(e(eO)),i=i.filter(e=>e!==eO)),eO&&eO!==eb&&(0,Y.Ke)(ee,{key:t.key,team_id:t.teamId,editor_type:t.editorType,source_file_key:t.sourceFileKey},{key:eO},o)&&ep[eO]&&(i=i.filter(e=>e!==eO)),e9&&(0,B.WY)(tr)){let e=i.map(e=>en[e]).filter(e=>!!e).map(({key:e,name:t})=>({key:e,name:t}));(0,B.i2)({libraries:e,approvedLibraryKeysByResourceType:tr}),i=e.map(({key:e})=>e)}if((eH||eR.length>0)&&(a.length>0&&a.push(n.createElement(es.Wy,{key:"recent-divider"})),a.push(e(b.es.RECENT))),X){for(let t of(eN.length>0&&(a.length>0&&a.push(n.createElement(es.Wy,{key:"local-divider"})),a.push(e(eb))),i.length>0&&(a.length>0&&a.push(n.createElement(es.Wy,{key:"subscribed-divider"})),a.push(n.createElement(ed.g,{key:eS,value:eS,disabled:!0}))),i))e9&&(0,B.yk)(t)?a.push(r(t)):a.push(e(t));return a}for(let t of(eN.length>0&&a.push(e(eb)),i.length>0&&a.push(n.createElement(es.Wy,{key:"subscribed-divider"})),i))e9&&(0,B.yk)(t)?a.push(r(t)):a.push(e(t));return a})()),E),tp=n.createElement("div",null,ex.type===b.es.RECENT&&null,ex.type!==b.es.RECENT&&n.createElement(v.cH,{className:em.AF,onClick:()=>eU({type:b.es.RECENT}),canFocus:!0,trusted:!0},n.createElement(T.Tx,{id:"design_systems.instance_swap_picker.search_all_libraries"}))),tm=n.createElement("div",{className:X?em.K6:em._8,style:{height:c+(e.pickerType===b.i6.RESOURCE_INSERT_MODAL?er.M7:0)}},n.createElement("div",{className:X?em.YH:void 0},n.createElement(T.Tx,{id:"design_systems.instance_swap_picker.no_components"})),n.createElement(v.wX,{className:X?em.wK:em.e4,onClick:ta},n.createElement("div",null,n.createElement(I.A,{svg:e_.c,style:C.sx.colorIcon.$})),n.createElement(T.Tx,{id:"design_systems.instance_swap_picker.browse_libraries"}))),t_=Object.keys(eM).length>0;return n.createElement(y.e_,{recordingKey:e.recordingKey,scrollContainerHeight:c,setSearching:eW,onSearch:eK,searchFilter:eY,onLeafItemContextMenu:eq,onLeafItemDrilldown:tc,onLeafItemDraggable:X?void 0:{sourceForTracking:"component-insert-modal",clickToInsert:!1,afterSuccessfulInsert:e6,sectionNameForTracking:ti},rootDrilldownItems:e$,initialPath:e4,beforeItems:tu,focusBeforeItems:()=>{var e;return null==(e=td.current)?void 0:e.focus()},emptyState:tm,isSelectedItem:to,multiselect:o,onMultiselectCallback:l,getBackgroundColorForLeafItemThumbnail:F.S8,getLeafItemTooltip:X?ec.GC:void 0,getLeafItemThumbnail:X||eg?eI:ev,drilldownItemsRecordingKey:"instanceSwapDrilldownItems",drilldownItemsKeySupplement:ex.type===b.es.FILE?ex.key:ex.type,getLeafItemRecordingKey:ew,getThumbnailGridLayoutForItems:e8,onDrilldownPathChange:e2,drilldownContainerSize:X?ea.W8.NORMAL:ea.W8.LARGE,additionalRowBottomMargin:X?y.uY:0,renderLeafItemNames:!!X||eg,searchBarRef:e.searchBarRef,pickerToggleRef:S,extraHeightOnSearch:X||e.pickerType===b.i6.RESOURCE_INSERT_MODAL?0:ef,validLibrariesArePresent:t_,isLoading:p||(0,q.K0)(eE,L._A),searchDebounceTime:e.searchDebounceTime,emptySearchResultsFooter:tp,searchBarPlaceholderText:ex.type===b.es.PREFERRED?(0,T.t)("design_systems.instance_swap_picker.search_preferred"):ex.type===b.es.RECENT?(0,T.t)("design_systems.instance_swap_picker.search_all_libraries"):null!=ex.key&&en[ex.key]?(0,T.t)("design_systems.instance_swap_picker.search_filename",{filename:en[ex.key].name}):(0,T.t)("design_systems.instance_swap_picker.search"),pickerType:e.pickerType,errorComponent:ex.type===b.es.PREFERRED?Q:void 0,query:e.query,setQuery:e.setQuery,contextValue:e.drilldownPickerContextValue})}function eA(e){let{multiselect:t,onMultiselectCallback:r,selectedItems:i,searchDebounceTime:o,shouldPerformSwapOnClick:l=!0,itemsToSwap:s,onSwapCallback:c,searchBarRef:d,setNumSearchesForTracking:u,scrollContainerHeight:p,pickerToggleRef:m,toggleGridViewButton:h,preferredItems:g,overrideDefaultItem:f,preferredValuesErrorComponent:E}=e,y=n.useRef(f).current,{instanceSwapPickerShown:v,loadingState:I,fileVersion:w,library:T}=(0,_.q)(e=>({instanceSwapPickerShown:e.instanceSwapPickerShown,loadingState:e.loadingState,fileVersion:e.fileVersion,library:e.library})),S=(0,a.w1)(W.w5),C=n.useMemo(()=>!!g&&eT(g,i),[g,i]),A=(null==S?void 0:S.key)||null,O=n.useMemo(()=>(null==y?void 0:y.file_key)??F.a8(i),[null==y?void 0:y.file_key,i]),N=n.useMemo(()=>{if(null==S||null==A||null===w)return!0;let e=(0,V.CO)(null==S?void 0:S.project);if(O&&S&&(0,Y.Ke)(T,{key:S.key,team_id:S.teamId,editor_type:S.editorType,source_file_key:S.sourceFileKey},{key:O},e)&&!(0,Y.nk)(O)){let e=(0,Y.mE)(O,w);return!q.kr(I,e)}if(C&&O&&O!==A)return q.K0(I,(0,X.iR)(A));let t=(0,eu.AL)(A);return!q.kr(I,t)},[S,A,w,C,O,T,I]),L=n.useCallback(()=>null==u?void 0:u(e=>e+1),[u]);return(v.isShown||e.pickerType!==b.i6.INSTANCE_SWAP_PICKER)&&A&&S?n.createElement(eC,{openFile:S,instanceSwapPickerShown:v,multiselect:t,onMultiselectCallback:r,selectedItems:i,scrollContainerHeight:p,recordingKey:e.recordingKey,shouldPerformSwapOnClick:l,itemsToSwap:s,onSwapCallback:c,pickerToggleRef:m,searchBarRef:d,isLoadingSubscribedLibraries:N,searchDebounceTime:o,incrementNumSearchesForTracking:L,pickerType:e.pickerType,dropdownAccessory:e.pickerType===b.i6.RESOURCE_INSERT_MODAL?h:null,preferredItems:g,preferredValuesErrorComponent:E,overrideDefaultItem:y,showPreferredSectionByDefault:C,query:e.query,setQuery:e.setQuery,drilldownPickerContextValue:e.drilldownPickerContextValue}):null}function eO(e){var t;let{pickerType:r,initialWidth:o,initialHeight:l,title:s,pickerToggleRef:c,query:d,setQuery:p}=e,h=r===b.i6.INSTANCE_SWAP_PICKER||r===b.i6.PREFERRED_VALUES_PICKER,{instanceSwapPickerShown:g,dropdownShown:y}=(0,_.q)(e=>({instanceSwapPickerShown:e.instanceSwapPickerShown,dropdownShown:e.dropdownShown})),v=(0,a.OY)(),I=n.useRef(null),w=g.isShown?new E.Cg(g.initialX,g.initialY):new E.Cg(0,0),T=n.useCallback(()=>{(null==y?void 0:y.type)===(0,b.io)(r)&&v(A.yi())},[v,y,r]),S=n.useCallback(()=>{var e;g.isShown&&g.modal&&v((0,N.eD)({...g,modal:!1,returnFocusToToggle:!1})),null==(e=I.current)||e.focus()},[v,g]),[C,O]=n.useState(0),L=n.useCallback(()=>{(0,u.we)(`${h?"Instance Swap Picker":"Component Insert"} Total Searches`,{numSearches:C}),v((0,N.es)())},[v,C,h]),R=n.useRef(null),P=h?320:428,M=h?eE:ey,k=n.useCallback(()=>g.isShown&&g.initialY?l||Math.min(window.innerHeight-g.initialY-20,P):P,[P,l,g]),[D,F]=n.useState(k),x=i.findDOMNode(null==(t=R.current)?void 0:t.getEl());n.useLayoutEffect(()=>{let e=(0,m.C)(()=>{if(!x)return;let e=x.getBoundingClientRect();e.bottom>window.innerHeight&&F(D-(e.bottom-window.innerHeight)-20)},200);return window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}},[D,F,x]);let U=n.createElement(eN,{isSwapPicker:h,searchBarRef:I}),B=n.createElement("div",{className:em.oB},n.createElement("div",{className:em.WI},s),U);return n.createElement(en.G0,{title:h?B:s,initialPosition:w,initialHeight:D,initialWidth:o??M,isCloseHidden:h,dragHeaderOnly:!0,onDragStart:T,onDragEnd:S,onClose:L,ref:R,autoflowHeight:!0,recordingKey:f.Mx(e.recordingKey,"modal")},n.createElement(eA,{...e,searchBarRef:I,toggleGridViewButton:U,setNumSearchesForTracking:O,scrollContainerHeight:D,pickerToggleRef:c,query:d,setQuery:p}))}function eN({isSwapPicker:e,isPreferredValues:t,searchBarRef:r}){let i=(0,a.OY)(),c=(0,a.w1)(e=>t?e.preferredValuesPickerListLayout:e.instanceSwapPickerListLayout),d=t?O.Cm:O.O8,p=n.useCallback(n=>{n.stopPropagation(),i(d({isListLayout:!c})),(null==r?void 0:r.current)&&r.current.focus(),(0,u.we)(`${t?"Preferred Values Picker":e?"Instance Swap Picker":"Component Insert"} View Toggle`,{viewMode:c?"grid":"list"})},[i,d,c,r,t,e]);return n.createElement(o.w,{as:"button","data-tooltip-type":Q.wL.TEXT,"data-tooltip":c?(0,T.t)("design_systems.instance_swap_picker.show_as_grid"):(0,T.t)("design_systems.instance_swap_picker.show_as_list"),"aria-label":c?(0,T.t)("design_systems.instance_swap_picker.show_as_grid"):(0,T.t)("design_systems.instance_swap_picker.show_as_list"),onClick:p,onMouseDown:D.Ii,recordingKey:f.Mx("toggleGridViewButton",t?"preferredValues":"instanceSwapPicker")},n.createElement(w.e,{svg:c?eh.c:eg.c},c?n.createElement(l.W,null):n.createElement(s.K,null)))}},312:(e,t,r)=>{"use strict";r.d(t,{G:()=>p,a:()=>u});var n=r(855712),i=r(540696),a=r(301660),o=r(491776),l=r(62128),s=r(552727);let c=e=>e.fileByKey,d=e=>e.library;function u(){return(0,n.M3)([(e,t,r)=>t,(e,t,r)=>r,c,d],(e,t,r,n)=>{if(!t.get(e))return null;let{selectedItem:i}=(0,a.sP)(e,r,n,t);return i})}let p=(0,n.M3)([c,d,o.qs,l.yS],(e,t,r,n)=>{let o=null,{backingSymbolGUID:l,backingStateGroupGUID:c}=(0,s.gh)(new Set(n),r);if(c&&(0,i.EH)(c)?o=c:l&&(0,i.EH)(l)&&(o=l),!o)return null;let{selectedItem:d}=(0,a.sP)(o,e,t,r);return d})},791372:(e,t,r)=>{"use strict";r.d(t,{Cy:()=>h,G:()=>m,GO:()=>E,So:()=>g,me:()=>_});var n=r(307824),i=r(26708),a=r(238152),o=r(23604),l=r(73376),s=r(998e3),c=r(762820),d=r(979144),u=r(190144),p=r(712220);let m=(()=>{let e=new o.cX({normalizeFactor:360,min:0,max:1}),t=new o.cX({normalizeFactor:100,min:0,max:1}),r=new o.My({min:0,max:1}),l=new o.cX({normalizeFactor:255,min:0,max:1}),u={hsla:(r,n)=>`hsla(${e.format(r.h)}, ${t.format(r.s)}%, ${t.format(r.l)}%, ${n})`,hsba:(r,n)=>`hsba(${e.format(r.h)}, ${t.format(r.s)}%, ${t.format(r.v)}%, ${n})`,rgba:(e,t)=>`rgba(${l.format(e.r)}, ${l.format(e.g)}, ${l.format(e.b)}, ${t})`,uicolor:(e,t,n)=>n?`UIColor(${r.format(e.r)}, ${r.format(e.g)}, ${r.format(e.b)}, ${t})`:`UIColor(red: ${r.format(e.r)}, green: ${r.format(e.g)}, blue: ${r.format(e.b)}, alpha: ${t})`};return()=>{let e=(0,d.q4)();return n.useCallback((t,r)=>{let n=Number(t.a).toLocaleString("en",{maximumFractionDigits:2});switch(e){case c._sE.HEX:let o=a.W0.format(t,(null==r?void 0:r.hexCSSValue)?{withAlpha:1!==t.a}:(null==r?void 0:r.alphaInPercent)?{withAlpha:1!==t.a,showDot:!0}:void 0);return`#${o}`;case c._sE.RGB:return u.rgba(t,n);case c._sE.CSS:return i.Q.format(t);case c._sE.HSB:let l=(0,s.YT)(t);return u.hsba(l,n);case c._sE.HSL:let d=(0,s._2)(t);return u.hsla(d,n);case c._sE.UIColor:return u.uicolor(t,n,(null==r?void 0:r.shortform)??!1)}},[e])}})();function _(e,t,r){let n=new l.k9(()=>e),i=e.opacity||1,a=[...e.color?[{...e.color,a:i*e.color.a}]:[],...e.stops?e.stops.map(e=>({...e.color,a:i*e.color.a})):[]];return{type:p.v.RAW,paint:e,colors:a,typeFormatter:n.format,valueFormatter:t,variableScope:r,encodedPaint:(0,u.OG)(e)}}function h(e,t,r,n=[]){return{type:p.v.STYLE,name:e,dsStyle:t,paints:r,styleGUIDs:n}}function g(e,t){let r=m();return n.useMemo(()=>e.map(e=>{let n=t(e);if(!n)return{value:e,color:void 0};let i=[n],a={color:n,opacity:n.a,type:"SOLID"};return{value:e,color:{type:p.v.RAW,encodedPaint:(0,u.OG)(a),paint:a,colors:i,typeFormatter:f,valueFormatter:r}}}),[t,e,r])}let f=()=>"SOLID";function E(e){let t=m();return n.useMemo(()=>e.map(({color:e,colorVar:r})=>{let n=[e],i={color:e,opacity:e.a,type:"SOLID"};return r&&(i.colorVar=r),{type:p.v.RAW,encodedPaint:(0,u.OG)(i),paint:i,colors:n,typeFormatter:f,valueFormatter:t}}),[e,t])}},792592:(e,t,r)=>{"use strict";r.d(t,{Ki:()=>ta,mE:()=>e3,Cm:()=>te,Dk:()=>e5,Mf:()=>td,q:()=>e6});var n,i=r(307824),a=r(602216),o=r(120304),l=r(280584),s=r(266880),c=r(173885),d=r(504013),u=r(878476),p=r(515724),m=r(125504),_=r.n(m),h=r(250008),g=r(972920),f=r(297608),E=r(4580),y=r(843148),b=r(623131),v=r(372152),I=r(455200),w=r(980068),T=r(570464),S=r(853688),C=r(936756),A=r(130176),O=r(675695),N=r(102184),L=r(148276),R=r(537096),P=r(968240),M=r(560072),k=r(907236),D=r(219096),F=r(323576),x=r(356267),U=r(734904),B=r(340628),G=r(753432),V=r(883528),H=r(238152),W=r(73376),K=r(282528),Y=r(904556),q=r(585508),j=r(762820),$=r(555168),Z=r(979144),z=r(540696),Q=r(655068),X=r(4388),J=r(907152),ee=r(507076),et=r(784340),er=r(833492),en=r(392992),ei=r(530968),ea=r(939540),eo=r(124664),el=r(879396),es=r(719876),ec=r(790184),ed=r(570012),eu=r(190144),ep=r(142548),em=r(525064),e_=r(513568),eh=r(902848),eg=r(833508),ef=r(427824),eE=r(162280),ey=r(668348),eb=r(310448),ev=r(399260),eI=r(120326),ew=r(302844),eT=r(192988),eS=r(946072),eC=r(69884),eA=r(472936),eO=r(408156),eN=r(36040),eL=r(92072),eR=r(987904),eP=r(266724),eM=r(581716),ek=r(385228),eD=r(893984),eF=r(699536),ex=r(24588),eU=r(406168),eB=r(364540),eG=r(200251),eV=r(195260);let eH=new class{get pendingItem(){return this._pendingItem}set pendingItem(e){this._pendingItem=e,this.attemptAndRetry()}clearTask(){void 0!==this._activeTaskId&&cancelAnimationFrame(this._activeTaskId)}attemptAndRetry(){this.clearTask(),this.attemptFocus()?this._pendingItem=void 0:this._activeTaskId=requestAnimationFrame(()=>this.attemptAndRetry())}attemptFocus(){return!this._pendingItem||this._pendingItem.attemptImmediateFocus()}},eW=(0,i.createContext)(eH);function eK(e){let t=null,r=Object.assign(e=>{t=e},{focus(){e.pendingItem=r},attemptImmediateFocus(){if(t===document.activeElement)return!0;if(!t)return!1;{let e=!1,r=r=>{e||(e=r.target===t)};document.addEventListener("focus",r,!0);try{return t.focus(),e}finally{document.removeEventListener("focus",r,!0)}}}});return r}var eY=r(9636),eq=r(450076),ej=r(887880),e$=r(938724),eZ=r(92992),ez=r(541384),eQ=r(702924),eX=r(84244),eJ=r(972496),e0=r(501067),e1=r(946856),e2=r(54116),e4=r(805304);class e3 extends i.PureComponent{constructor(){super(...arguments),this.onPaintsChange=(e,t,r)=>{(0,y.Ub)().ce_properties_panel_tracking&&(0,h.we)("editor-paints-panel-fill-change"),q.CA.updateSelectionProperties({fillPaints:e},{shouldCommit:t,overwrite:r??j.c7s.ONLY_WHEN_NOT_EMPTY}),(0,ew._)("fillPaints")},this.onApplyStyle=(e,{fromSearch:t}={})=>{this.props.dispatch(D.Ce({style:e,inheritStyleKeyField:"inheritFillStyleKey",fromSearch:t}))},this.onExportBackgroundDisabledChange=e=>{q.CA.updateSelectionProperties({exportBackgroundDisabled:!e})}}videoFillSelected(){if((0,z.Er)(this.props.selectionProperties.fillPaints)||!this.props.selectionProperties.numVideosSelected)return!1;for(let e of this.props.selectionProperties.fillPaints??[])if(e.video)return!0;return!1}render(){let e=(0,eG.W_)({...this.props,styleType:"FILL",inheritStyleKeyField:"inheritFillStyleKey"});return i.createElement(A.u,{name:"fill_panel"},i.createElement(ex.sF,null,i.createElement(e9,{propertyList:this.props.fillPaints,onChange:this.onPaintsChange,onApplyStyle:this.onApplyStyle,currentSelectedProperty:this.props.currentSelectedProperty,selectedPropertyType:j.cf6.FILL,recordingKey:T.Mx(this.props,"paintList"),pickerInStyleCreationShown:this.props.pickerInStyleCreationShown,onPickerShown:()=>{(0,y.Ub)().ce_properties_panel_tracking&&(0,h.we)("editor-paints-panel-fill-color-picker-show")},variableScopes:this.props.variableScopes,isPanelBodyCollapsedAtom:this.props.isPanelBodyCollapsedAtom,isUI3:this.props.isUI3,...(0,eR.G0)(this.props),...e}),i.createElement(eN.O_,{isPanelBodyCollapsedAtom:this.props.isPanelBodyCollapsedAtom},this.props.selectionContainsFrames&&this.props.hasExports&&i.createElement(ex.WA,null,i.createElement(eA.K,{className:eZ.Ep,id:"frame-background-export-background-disabled",property:this.props.exportBackgroundDisabled===z.ee?z.ee:!this.props.exportBackgroundDisabled,onChange:this.onExportBackgroundDisabledChange,recordingKey:T.Mx(this.props,"exportDisableCheckbox")}),i.createElement(ex.iM,{className:eZ.KS,htmlFor:"frame-background-export-background-disabled","data-tooltip-type":ep.wL.TEXT,"data-tooltip":(0,M.t)("fullscreen.properties_panel.fill.include_the_canvas_or_group_background_in_exports")},i.createElement(M.Tx,{id:"fullscreen.properties_panel.fill.show_in_exports"}))),(0,el.Wi)()&&this.videoFillSelected()&&i.createElement(eF.c,{updateSelectionProperties:q.CA.updateSelectionProperties,dispatch:this.props.dispatch,videoPlayback:(0,eD.w3)(this.props.selectionProperties)}))))}}function e6(e){let{bigNudgeAmount:t,smallNudgeAmount:r}=(0,Z.i_)();return i.createElement(e8,{...e,bigNudgeAmount:t,smallNudgeAmount:r})}e3.displayName="FillPanel";class e8 extends i.PureComponent{constructor(){super(...arguments),this.settingsId="stroke-settings",this.state={showSwapButton:!1,syncState:"NONE",individualBorderOption:eC._E.ALL},this.stopPropagation=e=>e.stopPropagation(),this.onPaintsChange=(e,t,r)=>{(0,y.Ub)().ce_properties_panel_tracking&&(0,h.we)("editor-paints-panel-stroke-change",{key:"color"}),q.CA.updateSelectionProperties({strokePaints:e},{shouldCommit:t,overwrite:r??j.c7s.ONLY_WHEN_NOT_EMPTY}),(0,ew._)("strokePaints")},this.onNonPaintsChange=(e,t=ed.MO.YES)=>{let r=(0,z.uc)(this.props.strokePaints,[]);if(r.length>0&&!r.find(e=>e.visible)){let e=r.map(e=>({...e,visible:!0}));q.CA.updateSelectionProperties({strokePaints:e},{shouldCommit:ed.MO.NO,overwrite:j.c7s.ONLY_WHEN_NOT_EMPTY})}q.CA.updateSelectionProperties(e,{shouldCommit:t}),(0,ew._)("strokePaints")},this.onApplyStyle=(e,{fromSearch:t}={})=>{this.props.dispatch(D.Ce({style:e,inheritStyleKeyField:"inheritFillStyleKeyForStroke",fromSearch:t}))},this.bordersAlignmentOnChange=(e,t=ed.MO.YES)=>{if(this.state.individualBorderOption!==eC._E.ALL){let{strokeAlign:t}=e;(0,h.we)("Individual Border Alignment Changed",{position:(0,z.EH)(t)?t:"__mixed__"})}this.onNonPaintsChange(e,t)},this.forwardedRef=i.createRef(),this.toggleSettings=()=>{var e;if((null==(e=this.props.pickerShown)?void 0:e.id)===this.settingsId)this.props.dispatch(k.U5());else{if(!this.forwardedRef||!this.forwardedRef.current)return;(0,h.we)("editor-paints-panel-advanced-stroke-show");let e=(0,em.cT)(this.forwardedRef.current);this.props.dispatch(k.is({id:this.settingsId,initialX:e.x,initialY:e.y})),this.props.dispatch(k.CI()),this.props.dispatch(B.eO())}},this.setIndividualBorderOption=e=>{this.setState({individualBorderOption:e})},this.selectBorderSides=(e,t=ed.MO.YES)=>{if(this.setState({individualBorderOption:e}),e===eC._E.CUSTOM)return;let r=e===eC._E.ALL,n={borderTopVisible:r||e===eC._E.TOP,borderRightVisible:r||e===eC._E.RIGHT,borderBottomVisible:r||e===eC._E.BOTTOM,borderLeftVisible:r||e===eC._E.LEFT};q.CA.updateSelectionProperties(n,{shouldCommit:t}),(0,ew._)("strokePaints")},this.nodesSupportIndividualBorders=(e,t)=>{let r=new Set(["RECTANGLE","ROUNDED_RECTANGLE","SYMBOL","INSTANCE"]);for(let n of e)if(r.has(n.type)||"FRAME"===n.type&&!n.resizeToFit||"FRAME"===n.type&&t<2&&this.nodesSupportIndividualBorders(n.childrenNodes,t+1))return!0;return!1},this.supportsIndividualBorders=()=>{if(!this.props.numSelectedByType)return!1;if((0,Y.aY)(this.props.numSelectedByType,"RECTANGLE")||(0,Y.aY)(this.props.numSelectedByType,"ROUNDED_RECTANGLE")||(0,Y.aY)(this.props.numSelectedByType,"SYMBOL")||(0,Y.aY)(this.props.numSelectedByType,"INSTANCE"))return!0;if((0,Y.aY)(this.props.numSelectedByType,"FRAME")){let e=Object.keys(this.props.sceneGraphSelection).map(J.TSSceneGraph.instance.get).filter(e=>!!e);return this.nodesSupportIndividualBorders(e,0)}return!1},this.onBidirectionalEndpointRowMouseEnter=e=>{this.stopPropagation(e),this.props.leftEndCap&&this.props.rightEndCap&&(0,z.EH)(this.props.leftEndCap)&&(0,z.EH)(this.props.rightEndCap)&&this.props.leftEndCap!==this.props.rightEndCap&&this.setState({showSwapButton:!0})},this.onBidirectionalEndpointRowMouseLeave=e=>{this.stopPropagation(e),this.hideSwapButton()},this.hideSwapButton=()=>{this.setState({showSwapButton:!1})},this.updateSyncState=e=>{if("reset"===e){this.setState({syncState:"NONE"});return}switch(this.state.syncState){case"NONE":"changed start"===e?this.setState({syncState:"CHANGED_START"}):"changed end"===e&&this.setState({syncState:"CHANGED_END"});break;case"CHANGED_START":"changed end"===e&&this.setState({syncState:"CHANGED_BOTH"});break;case"CHANGED_END":"changed start"===e&&this.setState({syncState:"CHANGED_BOTH"})}},this.componentDidUpdate=e=>{e.sceneGraphSelection!==this.props.sceneGraphSelection&&this.setState({syncState:"NONE",individualBorderOption:eC._E.ALL})}}render(){var e;let t=(0,eG.W_)({...this.props,styleType:"FILL",inheritStyleKeyField:"inheritFillStyleKeyForStroke"}),r=(0,eG.Al)(t.inheritStyleKey),n=!(this.props.numSelectedByType&&(0,Y.aY)(this.props.numSelectedByType,"TABLE"))&&(r||(0,z.uc)(this.props.strokePaints,[]).length>0||this.props.strokePaints===z.ee),a=(null==(e=this.props.pickerShown)?void 0:e.id)===this.settingsId,o=2===this.props.strokePanelTerminalPointCount&&this.props.strokePanelMode!==j.ekv.WASHI_TAPE,l=this.props.strokePanelMode!==j.ekv.WASHI_TAPE,s=this.supportsIndividualBorders();return i.createElement(A.u,{name:"stroke_panel"},i.createElement(ex.sF,{"data-testid":"stroke-panel-id"},i.createElement(e7,{propertyList:this.props.strokePaints,selectedPropertyType:j.cf6.STROKE,onChange:this.onPaintsChange,onApplyStyle:this.onApplyStyle,currentSelectedProperty:this.props.currentSelectedProperty,pickerInStyleCreationShown:this.props.pickerInStyleCreationShown,recordingKey:T.Mx(this.props,"paintList"),onPickerShown:()=>{(0,y.Ub)().ce_properties_panel_tracking&&(0,h.we)("editor-paints-panel-stroke-color-picker-show")},variableScopes:new Set([j.EDU.STROKE]),...(0,eR.G0)(this.props),...t,onToggleListLayout:this.toggleSettings,onToggleAdvancedSettings:n&&l?this.toggleSettings:void 0,advancedSettingsTooltip:(0,M.t)("fullscreen.properties_panel.fill.advanced_stroke_settings"),isPanelBodyCollapsedAtom:this.props.isPanelBodyCollapsedAtom}),n&&i.createElement(eq.E,{forwardedRef:this.forwardedRef,borderSharedWeight:this.props.borderSharedWeight,maxStrokeWeight:this.props.maxStrokeWeight,strokeAlign:this.props.strokeAlign,strokeCap:this.props.strokeCap,terminalCap:this.props.terminalCap,strokeJoin:this.props.strokeJoin,arcRadius:this.props.arcRadius,arcSweep:this.props.arcSweep,connectorLineStyle:this.props.connectorLineStyle,miterLimitAngle:this.props.miterLimitAngle,onNonPaintsChange:this.onNonPaintsChange,numSelectedByType:this.props.numSelectedByType,updateSyncState:this.updateSyncState,hideSwapButton:this.hideSwapButton,syncState:this.state.syncState,showSwapButton:this.state.showSwapButton,selectBorderSides:this.selectBorderSides,setIndividualBorderOption:this.setIndividualBorderOption,onBordersAlignmentChange:this.bordersAlignmentOnChange,onBidirectionalEndpointRowMouseEnter:this.onBidirectionalEndpointRowMouseEnter,onBidirectionalEndpointRowMouseLeave:this.onBidirectionalEndpointRowMouseLeave,showAdvancedStrokeSettings:l,showIndividualBorderControls:s,showEndPointControls:o,showStrokePicker:a,strokePanelMode:this.props.strokePanelMode,individualBorderOption:this.state.individualBorderOption,toggleSettings:this.toggleSettings,stopPropagation:this.stopPropagation,strokePanelTerminalPointCount:this.props.strokePanelTerminalPointCount,dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown,pickerShown:this.props.pickerShown,recordingKey:this.props.recordingKey,leftEndCap:this.props.leftEndCap,rightEndCap:this.props.rightEndCap,dashPattern:this.props.dashPattern,dashCap:this.props.dashCap})))}}function e5({title:e,propertyList:t,onChange:r,onApplyStyle:n,addProperty:a,overrideAddPropertyTooltip:l,onReorder:s,renderProperty:c,onDeleteProperty:d,onToggleListLayout:u,styleType:p,inheritStyleKey:m,inheritStyleKeyField:_,inheritStyleID:h,stylePickerListLayout:g,removeAllProperties:f,library:E,defaultColor:y,openFile:b,stylePickerShown:v,currentSelectedProperty:I,selectedPropertyType:w,modalShown:S,sceneGraphSelection:C,selectedStyleProperties:A,recordingKey:O,onToggleAdvancedSettings:N,advancedSettingsTooltip:L,isPanelBodyCollapsedAtom:R}){let P=(0,o.OY)(),M=(0,ei.e)(),D=(0,er.g)(),F=!!i.useContext(eL.Oi),x=F?`style-modal-${(0,eb.O)(_)}`:(0,eb.O)(_),U=(0,eG.yk)(m,h,p),B=(0,eg.I$)((null==U?void 0:U.key)??null,(0,z.kB)(h)),G=(null==U?void 0:U.isLocal)?U:(null==B?void 0:B.status)==="loaded"?B.data:null,V=function(){let e=(0,et.ML)(),t=(0,et.eI)(),r=e.length>0,n=Object.keys(t).length>0;return r||n}(),H=t&&(0,z.EH)(t)&&(t.length>1||t.some(e=>!(0,Q.Kq)(e.type)))?"create_style":V?"create_variable":"create_style",W=i.useCallback(()=>M&&M.id===x?M:null,[M,x]),K=i.useCallback(({initialX:e,initialY:t})=>{W()?P(k.U5()):P(k.is({id:x,initialX:e,initialY:t}))},[P,x,W]),Y=i.useCallback(e=>{K(e)},[K]),q=i.useCallback((e,t)=>{r([e],t,j.c7s.ONLY_WHEN_NOT_DISABLED)},[r]),$=(0,ee.A9)("numSelectedByType"),Z=(0,eN.IV)(R||null),X=i.useCallback(()=>{a(),Z()},[a,Z]),J=i.useMemo(()=>{if($)return(0,eT.aO)(w,$)},[w,$]);return i.createElement(i.Fragment,null,i.createElement(eM.ac,{title:e,propertyList:t,onChange:r,addProperty:X,overrideAddPropertyTooltip:l,renderProperty:c,onDeleteProperty:d,onReorder:s,removeAllProperties:f,currentSelectedProperty:I,selectedPropertyType:w,recordingKey:O,dropdownShown:D,openFile:b,library:E,modalShown:S,pickerShown:M,sceneGraphSelection:C,selectedStyleProperties:A,stylePickerShown:v,inheritStyleKey:m,inheritStyleKeyField:_,inheritStyleID:h,stylePickerListLayout:g,styleType:p,onToggleListLayout:u,onPickerIconClick:Y,dispatch:P,onToggleAdvancedSettings:N,advancedSettingsTooltip:L,isPanelBodyCollapsedAtom:R}),(()=>{let e=W();if(!e)return;let r=t&&(0,z.EH)(t)&&1===t.length?t[0]:{type:"SOLID",color:{r:1,g:1,b:1,a:1},opacity:1};return i.createElement(eR.UN,{paint:r,paintId:(0,eG.ak)(_),selectedStyle:G,inheritStyleKeyField:_,onChange:q,onApplyStyle:F?void 0:n,pickerShown:e,defaultColor:y,dropdownShown:D,initialView:"library",supportedViews:["library"],initialCreationModalView:H,recordingKey:T.Mx(O,"paintPicker"),variableScopes:J,hasVisiblePaintBelow:!1})})())}function e7(e){let{version:t}=(0,p.qG)();return"ui3"!==t?i.createElement(e9,{...e,isUI3:!1}):i.createElement(e9,{...e,isUI3:!0})}e8.displayName="StrokePanel";class e9 extends i.PureComponent{constructor(){super(...arguments),this.context=null,this.addProperty=()=>{let e=(0,eG.Uf)(this.props.selectedStyleProperties);switch(this.props.selectedPropertyType){case j.cf6.STROKE:e||((0,ew._)("strokePaints"),q.CA.triggerActionInUserEditScope("add-stroke-to-selection"));break;case j.cf6.FILL:e?q.CA.triggerActionInUserEditScope("add-fill-to-style-selection"):q.CA.triggerActionInUserEditScope("add-fill-to-selection"),(0,ew._)("fillPaints")}},this.removeProperty=e=>{this.isInStyleModal()||this.props.dispatch(k.U5()),this.props.dispatch(k.CI());let t=(0,z.uc)(this.props.propertyList,[]).filter((t,r)=>r!==e);this.props.onChange(t),q.CA.deselectProperty()},this.title=()=>{switch(this.props.selectedPropertyType){case j.cf6.STROKE:return(0,M.t)("fullscreen.properties_panel.fill.stroke");case j.cf6.FILL:return(0,M.t)("fullscreen.properties_panel.fill.fill");default:return""}},this.getUI3AddPropertyTooltip=()=>{if(!this.props.isUI3)return;let e=(0,z.uc)(this.props.propertyList,[]);switch(this.props.selectedPropertyType){case j.cf6.STROKE:return 0===e.length?(0,M.t)("fullscreen.properties_panel.section_stroke.tooltip_addStroke"):(0,M.t)("fullscreen.properties_panel.section_stroke.tooltip_addStrokeFill");case j.cf6.FILL:return(0,M.t)("fullscreen.properties_panel.section_fill.tooltip_addFill");default:return}},this.onChange=(e,t,r)=>{this.props.onChange(e,t,r),(0,z.uc)(this.props.propertyList,[]).length!==e.length&&Q.EB.clearCache()},this.onReorder=()=>{Q.EB.clearCache()},this.toggleListLayout=()=>{this.props.dispatch(k.Mj({isListLayout:!this.props.stylePickerListLayout})),this.props.dispatch(B.eO())},this.renderProperty=(e,t,r,n,a,o,l,s,c)=>{var d;let u=this.isInStyleModal()?"preview-paint":"paint",p=Q.EB.getId(t,this.props.selectedPropertyType,u),m=(0,z.uc)(this.props.propertyList,[]).slice(0,t).some(e=>e.visible);return i.createElement(te,{key:`paint-${t}`,id:p,inheritStyleKeyField:this.props.inheritStyleKeyField,index:t,singletonRow:(0,z.uc)(this.props.propertyList,[]).length<=1,selectedPropertyType:this.props.selectedPropertyType,paint:e,selected:this.props.stylePickerShown.isShown?(null==(d=this.props.pickerShown)?void 0:d.id)===p:r,isDragging:n,hasFocus:a,stylePickerShown:this.props.stylePickerShown,onPickerShown:this.props.onPickerShown,pickerInStyleCreationShown:this.props.pickerInStyleCreationShown,onChange:o,onMouseDown:l,onMouseMove:s,onMouseUp:c,onRemovePaint:this.removeProperty.bind(this,t),onApplyStyle:this.props.onApplyStyle,recordingKey:T.Mx(this.props,t),variableScopes:this.props.variableScopes,isUI3:this.props.isUI3,hasVisiblePaintBelow:m,...(0,eR.G0)(this.props)})}}isInStyleModal(){return null!=this.context}render(){let e=this.getUI3AddPropertyTooltip();return i.createElement(e5,{title:this.title(),propertyList:this.props.propertyList,onChange:this.onChange,currentSelectedProperty:this.props.currentSelectedProperty,selectedPropertyType:this.props.selectedPropertyType,addProperty:this.addProperty,overrideAddPropertyTooltip:e,renderProperty:this.renderProperty,pickerShown:this.props.pickerShown,onReorder:this.onReorder,recordingKey:this.props.recordingKey,...(0,eG.W_)(this.props),onToggleListLayout:this.toggleListLayout,library:this.props.library,defaultColor:this.props.defaultColor,onApplyStyle:this.props.onApplyStyle,onToggleAdvancedSettings:this.props.isUI3?this.props.onToggleAdvancedSettings:void 0,advancedSettingsTooltip:this.props.isUI3?this.props.advancedSettingsTooltip:void 0,isPanelBodyCollapsedAtom:this.props.isPanelBodyCollapsedAtom})}}e9.displayName="PaintList",e9.contextType=eL.Oi;class te extends i.PureComponent{constructor(){super(...arguments),this.state={isDragHover:!1},this.context=null,this.row=null,this.rowRef=e=>{e&&(this.row=a.findDOMNode(e))},this.pickerShownInStyleModal=()=>!this.isInStyleModal()&&!!this.props.pickerInStyleCreationShown,this.handleOpenImagePicker=e=>{this.props.selectedPropertyType!==e.propertyType||this.props.index!==e.index||this.pickerShown()||this.pickerShownInStyleModal()||this.showPicker()},this.handleCloseImagePicker=e=>{this.props.selectedPropertyType===e.propertyType&&this.props.index===e.index&&this.pickerShown()&&this.hidePicker()},this.onPaintPickerChange=(e,t)=>{e.visible=!0,this.props.onChange(e,t)},this.onVisibleChange=e=>{this.props.onChange({...this.props.paint,visible:e})},this.pickerShown=()=>{var e,t;return this.isInStyleModal()?(null==(e=this.props.pickerInStyleCreationShown)?void 0:e.id)===this.props.id?this.props.pickerInStyleCreationShown:null:(null==(t=this.props.pickerShown)?void 0:t.id)===this.props.id?this.props.pickerShown:null},this.showPicker=()=>{var e,t;if(!this.row)return;let r=(0,em.cT)(this.row);null==(t=(e=this.props).onPickerShown)||t.call(e),q.CA.updateAppModel({currentSelectedProperty:{type:this.props.selectedPropertyType,indices:[this.props.index]}}),this.isInStyleModal()?this.props.dispatch((0,x.Y)({id:this.props.id,initialX:r.x,initialY:r.y})):this.props.dispatch(k.is({id:this.props.id,initialX:r.x,initialY:r.y,data:{isInStyleModal:this.isInStyleModal()}})),this.isInStyleModal()||(this.props.dispatch(B.eO()),this.props.dispatch(k.CI()))},this.hidePicker=()=>{this.isInStyleModal()?this.props.dispatch((0,x._)()):this.props.dispatch(k.U5()),q.CA.deselectProperty()},this.togglePicker=()=>{this.pickerShown()?this.hidePicker():this.showPicker()},this.isDragTarget=()=>!!(0,z.kB)(this.props.paint),this.onDragEnter=()=>{this.setState({isDragHover:!0})},this.onDragLeave=()=>{this.setState({isDragHover:!1})},this.onDrop=e=>{this.setState({...this.state,isDragHover:!1});let t=(0,z.kB)(this.props.paint);if(!t)return;let r=q.CA.fileArrayToString;if(r){let n=r(Array.from(e.files));j.i46.dropImageOnPaintThumbnail(t.blendMode||"NORMAL",t.opacity||1,n,this.props.index,this.props.selectedPropertyType)}},this.dropImageOnPaintThumbnail=(e,t,r)=>{let n=q.CA.fileArrayToString;if(n){let i=n(Array.from(r.files));j.i46.dropImageOnPaintThumbnail(e,t,i,this.props.index,this.props.selectedPropertyType)}},this.updateStillImageAndSelectionPropertiesForGIF=(e,t)=>$.Pc.user("update-gif-image",()=>(0,X.uA)(e,t,this.props.selectedPropertyType)),this.onDetachVariableClick=()=>{let e=(0,ef.c)(this.props.paint);this.onPaintPickerChange(e,ed.MO.YES)}}isInStyleModal(){return null!=this.context}componentDidMount(){this.isInStyleModal()||(q.CA.fromFullscreen.on("openImagePicker",this.handleOpenImagePicker),q.CA.fromFullscreen.on("closeImagePicker",this.handleCloseImagePicker))}componentWillUnmount(){this.isInStyleModal()||(q.CA.fromFullscreen.removeListener("openImagePicker",this.handleOpenImagePicker),q.CA.fromFullscreen.removeListener("closeImagePicker",this.handleCloseImagePicker)),this.isInStyleModal()&&this.pickerShown()&&this.hidePicker()}hasBoundColorVariable(){return!!this.props.paint.colorVar}render(){let e=this.renderButtons();return i.createElement("div",null,i.createElement(N.g,{isDragTarget:this.isDragTarget,onTargetDragEnter:this.onDragEnter,onTargetDragLeave:this.onDragLeave,onTargetDrop:this.onDrop,recordingKey:T.Mx(this.props,"dropTarget")},i.createElement(S.g9,{recordingKey:T.Mx(this.props,"dragTarget")},i.createElement(tr,{ref:this.rowRef,id:this.props.id,paint:this.props.paint,firstIconButton:e.length>0?e[0]:null,secondIconButton:e.length>1?e[1]:null,shownPickerMatchesThisPaint:!!this.pickerShown(),togglePicker:this.togglePicker,isDragHover:this.state.isDragHover,onChange:this.props.onChange,selected:this.props.selected,singletonRow:this.props.singletonRow,isDragging:this.props.isDragging,hasFocus:this.props.hasFocus,noBorderOnFocus:this.props.noBorderOnFocus,recordingKey:this.props.recordingKey,onMouseDown:this.props.onMouseDown,onMouseMove:this.props.onMouseMove,onMouseUp:this.props.onMouseUp,isUI3:this.props.isUI3,...(0,eR.G0)(this.props)}))),this.pickerShown()&&i.createElement(eR.UN,{paint:this.props.paint,paintId:this.props.id,selectedStyle:null,inheritStyleKeyField:this.props.inheritStyleKeyField,dropImageOnPaintThumbnail:this.dropImageOnPaintThumbnail,updateStillImageAndSelectionPropertiesForGIF:this.updateStillImageAndSelectionPropertiesForGIF,onChange:this.onPaintPickerChange,onApplyStyle:this.isInStyleModal()?void 0:this.props.onApplyStyle,onClose:this.hidePicker,recordingKey:T.Mx(this.props,"paintPicker"),defaultColor:this.props.defaultColor,dropdownShown:this.props.dropdownShown,pickerShown:this.pickerShown(),variableScopes:this.props.variableScopes,hasVisiblePaintBelow:this.props.hasVisiblePaintBelow}))}renderButtons(){let e=[];if(this.props.hideVisibilityToggle||this.hasBoundColorVariable()||e.push({button:i.createElement(eY.k,{visible:this.props.paint.visible,onChange:this.onVisibleChange,recordingKey:T.Mx(this.props,"visibleToggle")}),opensPicker:!1,key:"visibleToggle"}),this.hasBoundColorVariable()&&e.push({button:i.createElement("span",{className:eZ.Az},i.createElement(l.w,{as:"button","data-tooltip-type":ep.wL.TEXT,"data-tooltip":(0,M.t)("fullscreen.properties_panel.fill.detach_variable"),"aria-label":(0,M.t)("fullscreen.properties_panel.fill.detach_variable"),onMouseDown:K.Ii,onClick:this.onDetachVariableClick,recordingKey:T.Mx(this.props,"paint","detachVariableButton")},i.createElement(P.e,{svg:ez.c},i.createElement(s.w,null)))),opensPicker:!1,key:"detatchVariableButton"}),this.props.onRemovePaint){let t=this.props.isUI3?{"data-tooltip-type":ep.wL.TEXT,"data-tooltip":(0,M.t)("fullscreen.properties_panel.fill.remove")}:{};e.push({button:i.createElement(l.w,{as:"button",recordingKey:T.Mx(this.props,"removeButton"),onMouseDown:K.Ii,onClick:this.props.onRemovePaint,"aria-label":(0,M.t)("fullscreen.properties_panel.fill.remove"),...t},i.createElement(P.e,{svg:eQ.c,fallbackSvg:eX.c},i.createElement(c.A,null))),opensPicker:!1,key:"removeButton"})}return e}}function tt({children:e}){return i.createElement("div",{onFocus:e=>e.stopPropagation()},e)}te.displayName="PaintListItem",te.contextType=eL.Oi;class tr extends i.PureComponent{constructor(){super(...arguments),this.onChange=(e,t=!0)=>{e.visible=!0,this.props.onChange(e),t&&Q.EB.clearCache(this.props.id)},this.onColorChange=e=>{let t={...this.props.paint,color:e};(0,I.IR)(e.a,this.props.paint.opacity??1)||(t.opacity=e.a,t.visible=!0),this.onChange(t)},this.onOpacityChange=(e,t)=>{this.props.onChange({...this.props.paint,opacity:e,visible:!0},t)},this.onChitOrTypeMouseDown=e=>{e.stopPropagation(),this.props.togglePicker()},this.onContainerMouseDown=e=>{if(e.shiftKey||2&e.buttons){this.props.togglePicker(),e.preventDefault(),e.stopPropagation();return}},this.onContainerContextMenu=e=>{e.preventDefault(),e.stopPropagation()},this.onRowFocus=()=>{var e,t;null==(t=(e=this.props).onFocus)||t.call(e),this.props.shownPickerMatchesThisPaint&&this.props.togglePicker()},this.boundColorVariableId=()=>{var e,t;let r=null==(t=null==(e=this.props.paint.colorVar)?void 0:e.value)?void 0:t.alias;return r?ey.MR(r):null},this.componentWillUnmount=()=>{this.props.onInputBlur&&this.props.onInputBlur()}}render(){let e=this.boundColorVariableId(),t=this.props.firstIconButton?this.wrapButton(this.props.firstIconButton):null,r=this.props.secondIconButton?this.wrapButton(this.props.secondIconButton):null,n=i.createElement(i.Fragment,null,i.createElement("div",{className:e?eZ.If:eZ.WV,onMouseDown:this.onChitOrTypeMouseDown,onMouseDownCapture:this.onContainerMouseDown,onContextMenu:this.onContainerContextMenu},e?i.createElement(eS.e,{isSelected:this.props.selected&&this.props.hasFocus},i.createElement(ti,{selected:this.props.selected&&!this.props.hasFocus,variableId:e,paint:this.props.paint,onMouseDown:this.onChitOrTypeMouseDown,recordingKey:this.props.recordingKey})):this.renderPaint())),a=i.createElement("div",{className:eZ.kx,"data-onboarding-key":(0,eo.k7)(eo.O2.PAINT_PANEL_ROW,this.props.id)},n,i.createElement("div",{className:eZ.Co},t,r));if(this.props.preventDragging)return this.props.isUI3?i.createElement(eV.m2,{appendedClassName:_()(eZ.SM,{[eZ.w1]:this.props.isDragHover,[e$.oD]:this.props.selected,[e$.Ax]:this.props.selected&&!this.props.hasFocus}),input:n,leftIcon:t,rightIcon:r,onFocus:this.onRowFocus,recordingKey:this.props.recordingKey,onMouseDown:this.props.onMouseDown,onMouseMove:this.props.onMouseMove,onMouseUp:this.props.onMouseUp}):i.createElement(ex.WA,{className:this.props.isDragHover?`${eZ.w1} ${eZ.SM}`:eZ.SM,selected:this.props.selected,selectedSecondary:this.props.selected&&!this.props.hasFocus,onFocus:this.onRowFocus,recordingKey:this.props.recordingKey,onMouseDown:this.props.onMouseDown,onMouseMove:this.props.onMouseMove,onMouseUp:this.props.onMouseUp},a);if(this.props.isUI3){let e=_()(eZ.SM,{[eZ.w1]:this.props.isDragHover,[e$.oD]:this.props.selected,[e$.Ax]:this.props.selected&&!this.props.hasFocus});return i.createElement(eV.WG,{singletonRow:this.props.singletonRow,selected:this.props.selected,selectedSecondary:this.props.selected&&!this.props.hasFocus,dragging:this.props.isDragging,onFocus:this.onRowFocus,recordingKey:this.props.recordingKey,onMouseDown:this.props.onMouseDown,onMouseMove:this.props.onMouseMove,onMouseUp:this.props.onMouseUp},null===t||null===r?i.createElement(eV.gn,{appendedClassName:e,input:n,icon:t||r,label:null}):i.createElement(eV.m2,{appendedClassName:e,input:n,leftIcon:t,rightIcon:r}))}return i.createElement(eP.e,{className:this.props.isDragHover?`${eZ.w1} ${eZ.SM}`:eZ.SM,shiftGrabberOnInputFocus:!0,selected:this.props.selected,selectedSecondary:this.props.selected&&!this.props.hasFocus,singletonRow:this.props.singletonRow,dragging:this.props.isDragging,onFocus:this.onRowFocus,recordingKey:this.props.recordingKey,onMouseDown:this.props.onMouseDown,onMouseMove:this.props.onMouseMove,onMouseUp:this.props.onMouseUp},a)}wrapButton({button:e,opensPicker:t,key:r}){return t?i.createElement(tt,{key:r},e):i.createElement(i.Fragment,{key:r},e)}renderPaint(){let e=_()({[eZ.iT]:!this.props.paint.visible});return i.createElement(i.Fragment,null,i.createElement(tt,null,i.createElement(eO.o,{paint:this.props.paint,onMouseDown:this.onChitOrTypeMouseDown,recordingKey:T.Mx(this.props,"chit"),className:eZ.ye})),i.createElement(tn,{...this.props,onFocus:this.props.onInputFocus,onBlur:this.props.onInputBlur,visible:this.props.paint.visible,onTypeMouseDown:this.onChitOrTypeMouseDown,onMouseDown:K.Ii,onColorChange:this.onColorChange,onOpacityChange:this.onOpacityChange,recordingKey:T.Mx(this.props,"value"),noBorderOnFocus:!0}),i.createElement(e_._2,{inputClassName:e,className:eZ.au,onFocus:this.props.onInputFocus,onBlur:this.props.onInputBlur,onScrubBegin:this.props.onScrubBegin,onScrubEnd:this.props.onScrubEnd,value:this.props.paint.opacity,onValueChange:this.onOpacityChange,dispatch:this.props.dispatch,noLeftBorder:!0,noBorderOnFocus:!0,onMouseDown:K.Ii,recordingKey:T.Mx(this.props,"opacity")}))}}function tn(e){let t=(0,i.useMemo)(()=>new H.Gc({parseAlpha:!0}),[]),r=(0,i.useMemo)(()=>new W.k9(()=>e.paint),[e.paint]),n=T.S4(e.recordingKey,"mousedown",t=>{var r,n;null==(r=e.onMouseDown)||r.call(e,t),null==(n=e.onTypeMouseDown)||n.call(e,t)});return"SOLID"===e.paint.type?i.createElement(ek.qS,{forwardedRef:e.focusableRef,className:e.visible?eZ.W8:eZ.c0,onFocus:e.onFocus,onBlur:e.onBlur,noLeftBorder:!1,squareRightBorder:!1,formatter:t,property:{...e.paint.color,a:e.paint.opacity??1},onChange:e.onColorChange,onMouseDown:e.onMouseDown,recordingKey:T.Mx(e,"colorInput"),noBorderOnFocus:e.noBorderOnFocus}):i.createElement("div",{className:e.visible?eZ.C1:eZ.ay,onMouseDown:n},r.format(e.paint.type))}function ti({variableId:e,paint:t,onMouseDown:r,recordingKey:n,selected:a}){let o=(0,et.c1)(e),l=(null==o?void 0:o.name)??"",s=!!o&&(0,eE._q)(o),{version:c}=(0,p.qG)(),d=s?null:i.createElement(tt,null,i.createElement(eO.o,{paint:t,onMouseDown:r,recordingKey:T.Mx(n,"chit"),className:"ui3"===c?void 0:eZ.ye}));return"ui3"===c?i.createElement(tl,{selected:a,styleIcon:d||i.createElement("div",{"data-tooltip-type":ep.wL.TEXT,"data-tooltip":(0,M.t)("variables.variable_was_deleted")},i.createElement(R.A,{className:eZ.e_,svg:e4.c})),styleName:l}):i.createElement(i.Fragment,null,d,i.createElement("div",{className:eZ.eo},i.createElement(ev.c,{isDeleted:s,text:l})))}function ta({variableId:e,color:t,opacity:r,onMouseDown:n,recordingKey:a}){let o=(0,et.c1)(e),l=(null==o?void 0:o.name)??"",s=!!o&&(0,eE._q)(o);return i.createElement(i.Fragment,null,s?null:i.createElement(tt,null,i.createElement(eO.o,{color:t,opacity:r,onMouseDown:n,recordingKey:T.Mx(a,"chit"),className:eZ.ye})),i.createElement(S.g9,{role:"button",tabIndex:0,className:eZ.eo,onMouseDown:n,recordingKey:T.Mx(a,"pill")},i.createElement(ev.c,{isDeleted:s,text:l,tooltip:l})))}function to({styleKey:e,count:t,uniqueNodesCount:r,styleGUIDs:n,id:a,variableScopes:c,recordingKey:u,rowRef:m}){let _=(0,en.K0)(),g=(0,er.g)(),y=(0,ei.e)(),{version:b}=(0,p.qG)(),{stateStylePickerShown:v,stylePreviewShown:I}=(0,E.q)(e=>({stateStylePickerShown:e.stylePickerShown,stylePreviewShown:e.stylePreviewShown})),w=(0,o.OY)(),S=`${G.CA}-${a}`,A=(null==y?void 0:y.id)===S?y:null,N=v.isShown&&v.id===S?v:null,L=(0,f.e)(m),R=(0,ea.Gu)(e,n),F=(0,ea.iU)(e,n),x=(0,o.w1)(t=>(0,es.k)(t,e,null)),U=i.useCallback(()=>{w(k.U5()),j.i46.selectStyleByGuid("")},[w]),V=i.useCallback(()=>{if(!L.current)return;R&&R.value&&j.i46.selectStyleByGuid(R.value.node_id);let{x:e,y:t}=(0,em.cT)(L.current);w(k.is({id:S,initialX:e,initialY:t}))},[w,S,L,R]),H=i.useCallback(()=>{w(B.eO())},[w]),W=i.useCallback(e=>{e.stopPropagation(),A?U():V(),I.isShown&&H()},[U,H,V,I.isShown,A]),K=i.useCallback(e=>{let t=(0,eu.OG)(e);$.Pc.user("apply-paint-to-style",()=>j.uSk.updateStyleWithPaint(n,t))},[n]),Y=i.useCallback(e=>{w(D.mS({style:e,callback:e=>{$.Pc.user("apply-style",()=>j.uSk.updateStyle(n,e))}})),(0,h.we)("Edit Selection Style",{fileKey:_,count:t}),U()},[t,w,_,U,n]),q=i.useCallback(e=>{e.stopPropagation(),$.Pc.user("detach-style",()=>j.uSk.detachStyle(n)),j.i46.selectStyle(O.YT.INVALID,O.SI.INVALID)},[n]),Z=i.useCallback(()=>{j.uSk.selectOnlySameStyle(n),(0,h.we)("Select Selection Style",{count:t})},[t,n]);(0,ea.ym)(R);let[z,X]=i.useState(!1);if(!R)return null;let J=R.kind===ec.uk.DANGLING?i.createElement(eh.wv,{dsStyle:{...R.value,style_type:"FILL"},disableTooltip:!0}):i.createElement(eh.wv,{dsStyle:R.value,disableTooltip:!0}),ee=i.createElement(ex.wP,{className:`${ej.cn} ${ej.mc}`,onMouseDown:Z,"data-tooltip-type":ep.wL.TEXT,"data-tooltip":`Select ${(0,C.u)(r,"item")} using this style`,"aria-label":`Select ${(0,C.u)(r,"item")} using this style`,recordingKey:T.Mx(u,"selectSameStyleButton")},i.createElement(P.e,{svg:e2.c},i.createElement(d.e,null))),et=i.createElement(l.w,{actionOnPointerDown:!0,recordingKey:T.Mx(u,"detachButton"),"data-tooltip-type":ep.wL.TEXT,"data-tooltip":(0,M.t)("fullscreen.properties_panel.fill.detach_style"),"aria-label":(0,M.t)("fullscreen.properties_panel.fill.detach_style"),onClick:q},i.createElement(P.e,{svg:ez.c},i.createElement(s.w,null)));return i.createElement(i.Fragment,null,"ui3"===b?i.createElement(eV.m2,{appendedClassName:eZ.OU+" "+ej.g5+(A||N?" "+e$.Ax:""),ref:L,input:i.createElement(tl,{recordingKey:T.Mx(u,"row"),onMouseDown:W,styleIcon:J,styleName:F,selected:!!A||!!N}),leftIcon:i.createElement("div",{className:ej.cn},et),rightIcon:ee}):i.createElement(ex.WA,{className:ej.g5,forwardedRef:L,onMouseOver:()=>X(!0),selectedSecondary:!!A||!!N},i.createElement(ex.w1,{className:ej.op,recordingKey:T.Mx(u,"row"),onMouseDown:W},i.createElement("div",{className:N?ej.gz:ej.uA},i.createElement("div",{className:ej.E3},J),i.createElement("div",{className:ej.cR},F))),i.createElement("div",{className:ej.cn},et),ee),z&&i.createElement(eU.aw,{inheritStyleKey:e,inheritStyleID:null,styleType:"FILL"}),A?i.createElement(eR.UN,{paint:{color:{r:1,g:1,b:1,a:1},opacity:1,type:"SOLID"},paintId:S,selectedStyle:(null==x?void 0:x.data)??(R&&R.kind!==ec.uk.DANGLING?R.value:null),inheritStyleKeyField:"inheritFillStyleKey",defaultColor:Q.w1,onChange:K,onApplyStyle:Y,pickerShown:A,dropdownShown:g,initialView:"library",variableScopes:c,recordingKey:T.Mx(u,"paintPicker"),hasVisiblePaintBelow:!1}):null)}function tl(e){let{styleIcon:t,styleName:r,selected:n,...a}=e;return i.createElement(S.iH,{...a,className:_()(ej.Q9,{[ej.Oo]:n})},i.createElement("div",{className:ej.E3},t),i.createElement("div",{className:ej.cR},r))}function ts({styleKey:e,styleGUIDs:t,onClick:r}){let n=(0,ea.Gu)(e,t);return((0,ea.ym)(n),n)?i.createElement("span",{role:"presentation",onClick:r},i.createElement(eh.wv,{dsStyle:{...n.value,style_type:"FILL"},disableTooltip:!0})):i.createElement(i.Fragment,null)}tr.displayName="Paint",(e=>{class t extends i.PureComponent{constructor(){super(...arguments),this.state={hasEverHovered:!1},this.row=null,this.rowRef=e=>{e?this.row=a.findDOMNode(e):this.row=null},this.paintPickerInitialView=void 0,this.componentWillUnmount=()=>{this.props.dispatch(U.Ab({paintId:void 0,originalPaint:void 0,updatedPaintFromDropper:void 0}))},this.pickerShownIsStylePicker=()=>this.props.stylePickerShown.isShown&&this.props.stylePickerShown.id===this.stylePickerID(),this.pickerShown=()=>{var e;return(null==(e=this.props.pickerShown)?void 0:e.id)===this.pickerID()},this.showPicker=()=>{if(!this.row)return;let e=(0,em.cT)(this.row);this.props.dispatch(k.is({id:this.pickerID(),initialX:e.x,initialY:e.y})),this.props.dispatch(B.eO()),this.props.dispatch(k.CI()),this.props.dispatch(U.Ab({paintId:this.props.id,originalPaint:this.props.paint,updatedPaintFromDropper:void 0}))},this.hidePicker=()=>{this.props.dispatch(k.U5()),q.CA.deselectProperty()},this.togglePicker=()=>{this.pickerShown()?this.hidePicker():this.showPicker()},this.toggleStylePicker=()=>{this.pickerShownIsStylePicker()?this.hidePicker():this.row&&this.props.showPicker(this.stylePickerID(),this.row)},this.toggleListLayout=()=>{this.props.setPickerListLayout(!this.props.stylePickerListLayout)},this.onCreateStyle=()=>{let e=(0,eu.OG)(this.props.paint),t=j.uSk.paintDataNodesInPaint(e);this.props.dispatch(F.A5({type:eI.K,data:{originalPaint:this.props.paint,paintDataNodesInPaint:t,conflictNodesCount:this.props.conflictNodesCount,type:{kind:"create"}}})),this.hidePicker()},this.onApplyStyle=e=>{let t=j.uSk.paintDataNodesInPaint((0,eu.OG)(this.props.paint));this.props.dispatch(D.mS({style:e,callback:e=>{if(t.length>1)this.props.dispatch(F.A5({type:eI.K,data:{originalPaint:this.props.paint,paintDataNodesInPaint:t,conflictNodesCount:this.props.conflictNodesCount,type:{kind:"apply",styleGuid:e}}}));else{let t=(0,eu.OG)(this.props.paint);$.Pc.user("apply-style",()=>j.uSk.applyStyleToPaintDatas(t,e)),(0,h.we)("Apply Style to Selection Paint ",{count:this.props.uniqueNodesCount})}}})),this.hidePicker()},this.debouncedTrackPaintChangeFromPicker=(0,g.C)(e=>{var t;(0,h.we)("Edit Selection Paint",{fileKey:(null==(t=this.props.openFile)?void 0:t.key)||"",count:this.props.count})}),this.onChangeForPaint=(e,t)=>{let r=t==ed.MO.YES;$.Pc.user("change-paint",()=>j.uSk.updatePaint((0,eu.OG)(this.props.paint),(0,eu.OG)(e),r)),this.setState({paintValueInPicker:e}),this.props.dispatch(U.Ab({paintId:this.props.id,originalPaint:this.props.paint,updatedPaintFromDropper:void 0}))},this.onChangeForPaintPicker=(e,t)=>{this.onChangeForPaint(e,t),this.debouncedTrackPaintChangeFromPicker(e)},this.debouncedOnChangeForPaintPicker=(0,g.C)(this.onChangeForPaintPicker),this.onDetachVariableClick=()=>{let e=(0,ef.c)(this.props.paint);this.onChangeForPaint(e,ed.MO.YES)},this.currentPaintValue=()=>this.props.paintValueFromEyeDropper?this.props.paintValueFromEyeDropper:this.state.paintValueInPicker?this.state.paintValueInPicker:this.props.paint,this.onMouseOver=()=>{this.setState({hasEverHovered:!0})},this.onPaintClick=()=>{this.paintPickerInitialView=void 0,this.togglePicker()},this.onStyleClick=e=>{e.stopPropagation(),this.paintPickerInitialView="library",this.togglePicker()},this.onSelectSamePaintMouseDown=()=>{let e=(0,eu.OG)(this.props.paint);j.uSk.selectOnlySamePaint(e),(0,h.we)("Select Selection Paint",{count:this.props.uniqueNodesCount})},this.onFocus=()=>{this.pickerShownIsStylePicker()&&this.toggleStylePicker()},this.boundColorVariableId=()=>{var e,t;let r=null==(t=null==(e=this.props.paint.colorVar)?void 0:e.value)?void 0:t.alias;return r?ey.MR(r):null}}pickerID(){return`${G.iC}-${this.props.id}`}stylePickerID(){return`${G.CA}-${this.props.id}`}render(){let e=null;this.pickerShownIsStylePicker()&&this.props.stylePickerShown.isShown&&(e=this.props.stylePickerShown);let t=this.props.debounce?this.debouncedOnChangeForPaintPicker:this.onChangeForPaintPicker,r=this.renderButtons();return i.createElement("div",{onMouseOver:this.onMouseOver},i.createElement(tr,{ref:this.rowRef,id:this.props.id,paint:this.currentPaintValue(),firstIconButton:r.length>0?r[0]:null,secondIconButton:r.length>1?r[1]:null,count:this.props.count,uniqueNodesCount:this.props.uniqueNodesCount,recordingKey:T.Mx(this.props,"paint"),onFocus:this.onFocus,onChange:this.onChangeForPaint,onInputFocus:this.props.onInputFocus,onInputBlur:this.props.onInputBlur,onScrubBegin:this.props.onScrubBegin,onScrubEnd:this.props.onScrubEnd,selected:this.pickerShown()||this.pickerShownIsStylePicker(),singletonRow:!1,isDragging:!1,hasFocus:!1,shownPickerMatchesThisPaint:this.pickerShown(),togglePicker:this.onPaintClick,isDragHover:!1,preventDragging:!0,isUI3:this.props.isUI3,focusableRef:this.props.focusableRef,...(0,eR.G0)(this.props)}),this.pickerShown()&&this.props.pickerShown&&(this.props.customColorPicker?i.createElement(this.props.customColorPicker,{paint:this.currentPaintValue(),onChange:t,onClose:this.hidePicker,pickerShown:this.props.pickerShown}):i.createElement(eR.UN,{paint:this.currentPaintValue(),paintId:this.props.id,selectedStyle:null,inheritStyleKeyField:"inheritFillStyleKey",onChange:t,onApplyStyle:this.onApplyStyle,disableImagePaints:!0,recordingKey:T.Mx(this.props,"paintPicker"),defaultColor:this.props.defaultColor,dropdownShown:this.props.dropdownShown,pickerShown:this.props.pickerShown,initialView:this.paintPickerInitialView,initialStyleCreationPaint:this.currentPaintValue(),variableScopes:this.props.variableScopes,hasVisiblePaintBelow:!1})),this.state.hasEverHovered&&i.createElement(eU.aw,{inheritStyleKey:null,inheritStyleID:null,styleType:"FILL"}),e&&i.createElement(eU.Iv,{picker:e,onCreateStyle:this.onCreateStyle,onApplyStyle:this.onApplyStyle,recordingKey:T.Mx(this.props,"stylePicker"),styleType:"FILL",onToggleListLayout:this.toggleListLayout,stylePickerListLayout:this.props.stylePickerListLayout,inheritStyleKey:null,inheritStyleID:null}))}renderButtons(){let e=[];return this.boundColorVariableId()?e.push({button:i.createElement("span",{className:eZ.Az},i.createElement(l.w,{as:"button","data-tooltip-type":ep.wL.TEXT,"data-tooltip":(0,M.t)("fullscreen.properties_panel.fill.detach_variable"),"aria-label":(0,M.t)("fullscreen.properties_panel.fill.detach_variable"),onMouseDown:K.Ii,onClick:this.onDetachVariableClick,recordingKey:T.Mx(this.props,"paint","detachVariableButton")},i.createElement(P.e,{svg:ez.c},i.createElement(s.w,null)))),opensPicker:!1,key:"detatchVariableButton"}):e.push({button:i.createElement("span",{className:eZ.Az},i.createElement(l.w,{"data-tooltip-type":ep.wL.LOOKUP,"data-tooltip":"style","aria-label":(0,V.W)("style"),onClick:this.onStyleClick,recordingKey:T.Mx(this.props,"paint","styleButton")},i.createElement(P.e,{svg:e0.c,fallbackSvg:e1.c},i.createElement(u.i,null)))),opensPicker:!0,key:"styleButton"}),null!=this.props.uniqueNodesCount&&e.push({button:i.createElement("span",{className:eZ.Az},i.createElement(l.w,{onClick:this.onSelectSamePaintMouseDown,"data-tooltip-type":ep.wL.TEXT,"data-tooltip":(0,M.t)("fullscreen.properties_panel.select_item_using_this_color",{numItems:this.props.uniqueNodesCount}),"aria-label":(0,M.t)("fullscreen.properties_panel.select_item_using_this_color",{numItems:this.props.uniqueNodesCount}),recordingKey:T.Mx(this.props,"paint","selectSamePaintButton")},i.createElement(P.e,{svg:e2.c},i.createElement(d.e,null)))),opensPicker:!0,key:"selectSamePaintButton"}),e}}t.displayName="SelectionPaintItem",e.SelectionPaintItem=t,e.ConnectedSelectionPaintItem=(0,o.Ul)((e,t)=>({pickerShown:e.pickerShown,stylePickerShown:e.stylePickerShown,paintValueFromEyeDropper:e.currentSelectionPaintInPicker.paintId==t.id?e.currentSelectionPaintInPicker.updatedPaintFromDropper:void 0,stylePickerListLayout:e.stylePickerListLayout}),e=>({showPicker:(t,r)=>{let{top:n,left:i}=r.getBoundingClientRect(),[a,o]=[i-eB.Il,n];e(k.O0({id:t,initialX:a,initialY:o,modal:!0})),e(B.eO()),e(k.U5())},setPickerListLayout:t=>{e(k.Mj({isListLayout:t}))}}))(t)})(n||(n={}));let tc=n.ConnectedSelectionPaintItem;function td(e){let{version:t}=(0,p.qG)(),r=(0,i.useMemo)(()=>(0,b.Zf)(!0),[]),[n,a]=(0,v.lZ)(r),o=(0,i.useContext)(eW);return i.createElement(tu,{...{...e,uiVersion:t,isCollapsedAtom:r,isCollapsed:n,setIsCollapsed:a,tracker:o}})}class tu extends T.UR{constructor(e){super(e),this.state={lastKnownSelection:{},selectionVersion:0,forceShowPaints:!1,forceShowLibraryColors:!1},this.selectionsAreEqual=(0,w.ei)((e,t)=>{if(Object.keys(e).length!==Object.keys(t).length)return!1;for(let r in e)if(e[r]!==t[r])return!1;return!0}),this.ignoreLimitWhenCollectingPaints=()=>{var e;(0,h.we)("Show Selection Paints For Large Selection",{fileKey:(null==(e=this.props.openFile)?void 0:e.key)||""}),j.uSk.ignoreLimitWhenCollectingPaints()},this.toggleShowPaints=e=>{var t;e.stopPropagation(),(0,h.we)("Show All Selection Paints",{fileKey:(null==(t=this.props.openFile)?void 0:t.key)||""}),this.setState({forceShowPaints:!this.state.forceShowPaints})},this.toggleShowLibraryColors=e=>{var t;e.stopPropagation(),(0,h.we)("Show All Selection Styles",{fileKey:(null==(t=this.props.openFile)?void 0:t.key)||""}),this.setState({forceShowLibraryColors:!this.state.forceShowLibraryColors})},this.onPaintFocus=()=>{j.uSk.setIsPaintFocused(!0)},this.onPaintBlur=()=>{j.uSk.setIsPaintFocused(!1)},this.onPaintScrubBegin=()=>{j.uSk.setIsPaintOpacityScrubbing(!0)},this.onPaintScrubEnd=()=>{j.uSk.setIsPaintOpacityScrubbing(!1)},this.ROW_LIMIT=4,this.componentWillUnmount=()=>{j.uSk.setIsPaintFocused(!1)},this.state={lastKnownSelection:e.sceneGraphSelection,selectionVersion:0,forceShowPaints:!1,forceShowLibraryColors:!1},this.swatchFocusItems=[eK(e.tracker),eK(e.tracker),eK(e.tracker)]}UNSAFE_componentWillReceiveProps(e){(!this.selectionsAreEqual(this.state.lastKnownSelection,e.sceneGraphSelection)||e.selectionPaints.forceUpdateForUndo&&this.props.selectionPaints.forceUpdateForUndo!==e.selectionPaints.forceUpdateForUndo)&&(this.setState({lastKnownSelection:this.props.sceneGraphSelection,selectionVersion:this.state.selectionVersion+1,forceShowPaints:!1,forceShowLibraryColors:!1}),this.props.dispatch(U.G(!1)))}render(){let e;let t=this.state.forceShowLibraryColors,r=this.state.forceShowPaints,n=[...this.props.selectionPaints.paints.filter(e=>!!e.paint.colorVar),...this.props.selectionPaints.styles],a=[...this.props.selectionPaints.paints.filter(e=>!e.paint.colorVar)],o=n.length,l=a.length,s=t||o<=this.ROW_LIMIT?o:this.ROW_LIMIT-1,c=r||l<=this.ROW_LIMIT?l:this.ROW_LIMIT-1,d=o+l,u=i.createElement(ex.WA,null,i.createElement(ex.w1,{extended:!0},i.createElement(M.Tx,{id:"fullscreen.properties_panel.fill.selection_colors"})));return"ui3"===this.props.uiVersion?this.props.selectionPaints.emptyDueToLimitExceeded?e=i.createElement(ex.WA,{className:eZ.Yx,onMouseDown:this.ignoreLimitWhenCollectingPaints,recordingKey:T.Mx(this.props,"limitExceeded")},i.createElement(L.wX,{className:eZ.WW,onClick:this.ignoreLimitWhenCollectingPaints},i.createElement(M.Tx,{id:"fullscreen.properties_panel.fill.show_selection_colors"}))):d<4?e=[...n,...a].map((e,t)=>"paint"in e?this.renderPaint({selectionPaint:e,index:t}):this.renderStyle({selectionStyle:e,index:t})):this.props.isCollapsed?(u=i.createElement(eN.ED,{isPanelBodyCollapsedAtom:this.props.isCollapsedAtom},i.createElement(ex.WA,null,i.createElement(ex.w1,{extended:!0,isPanelBodyCollapsedAtom:this.props.isCollapsedAtom},i.createElement(M.Tx,{id:"fullscreen.properties_panel.fill.selection_colors"})),i.createElement("span",{className:eZ.w7},[...n,...a].slice(0,3).map((e,t)=>{let r=this.swatchFocusItems[t],n=()=>{this.props.setIsCollapsed(!1),r.focus()};return"paint"in e?i.createElement(eO.o,{onClick:n,paint:e.paint,key:t}):i.createElement(ts,{onClick:n,styleKey:e.styleKey,styleGUIDs:e.styleGUIDs,key:t})}),i.createElement("span",{className:eZ.Y1},`+${d-3}`)))),e=i.createElement(i.Fragment,null)):(u=i.createElement(eN.ED,{isPanelBodyCollapsedAtom:this.props.isCollapsedAtom},i.createElement(ex.WA,null,i.createElement(ex.w1,{extended:!0,isPanelBodyCollapsedAtom:this.props.isCollapsedAtom},i.createElement(M.Tx,{id:"fullscreen.properties_panel.fill.selection_colors"})))),e=[...n,...a].map((e,t)=>"paint"in e?this.renderPaint({selectionPaint:e,index:t,ref:this.swatchFocusItems[t]}):this.renderStyle({selectionStyle:e,index:t,ref:this.swatchFocusItems[t]}))):e=i.createElement(i.Fragment,null,this.props.selectionPaints.emptyDueToLimitExceeded&&i.createElement(ex.WA,{className:eZ.Yx,onMouseDown:this.ignoreLimitWhenCollectingPaints,recordingKey:T.Mx(this.props,"limitExceeded")},i.createElement(L.wX,{className:eZ.WW,onClick:this.ignoreLimitWhenCollectingPaints},i.createElement(M.Tx,{id:"fullscreen.properties_panel.fill.show_selection_colors"}))),!this.props.selectionPaints.emptyDueToLimitExceeded&&n.slice(0,s).map((e,t)=>"paint"in e?this.renderPaint({selectionPaint:e,index:t}):this.renderStyle({selectionStyle:e,index:t})),s<o&&i.createElement(ex.WA,{className:eZ.ic,recordingKey:T.Mx(this.props,"libraryColorsOverflow"),onMouseDown:this.toggleShowLibraryColors},i.createElement(R.A,{className:eZ.ek,svg:eJ.c}),i.createElement(ex.yk,{className:eZ.WU},i.createElement(M.Tx,{id:"fullscreen.properties_panel.fill.see_all_x_library_colors",number:o}))),!this.props.selectionPaints.emptyDueToLimitExceeded&&a.slice(0,c).map((e,t)=>this.renderPaint({selectionPaint:e,index:t})),c<l&&i.createElement(ex.WA,{className:eZ.ic,recordingKey:T.Mx(this.props,"paintOverflow"),onMouseDown:this.toggleShowPaints},i.createElement(R.A,{className:eZ.ek,svg:eJ.c}),i.createElement(ex.yk,{className:eZ.WU},i.createElement(M.Tx,{id:"fullscreen.properties_panel.fill.see_all_x_colors",number:l})))),i.createElement(A.u,{name:"selection_paints_panel"},i.createElement(ex.sF,{className:eZ.mG},u,e))}renderStyle({selectionStyle:e,index:t,ref:r}){return i.createElement(to,{recordingKey:T.Mx(this.props,"style",t),styleKey:e.styleKey,count:e.count,uniqueNodesCount:e.uniqueNodesCount,styleGUIDs:e.styleGUIDs,id:`${e.styleKey}/${e.version}`,key:`${e.styleKey}/${e.version}`,variableScopes:e.variableScopes,rowRef:r})}renderPaint({selectionPaint:e,index:t,ref:r}){return i.createElement(tc,{recordingKey:T.Mx(this.props,"paint",t),paint:e.paint,count:e.count??0,uniqueNodesCount:e.uniqueNodesCount??0,conflictNodesCount:e.conflictNodesCount??0,variableScopes:e.variableScopes,debounce:!!e.count&&e.count>500,onInputFocus:this.onPaintFocus,onInputBlur:this.onPaintBlur,onScrubBegin:this.onPaintScrubBegin,onScrubEnd:this.onPaintScrubEnd,id:e.encodedPaint,key:`${e.encodedPaint}:${this.state.selectionVersion}`,isUI3:this.props.isUI3,focusableRef:r,customColorPicker:this.props.customColorPicker,...(0,eR.G0)(this.props)})}}},222720:(e,t,r)=>{"use strict";r.d(t,{Aj:()=>R,KY:()=>O,oZ:()=>N});var n=r(307824),i=r(120304),a=r(125504),o=r.n(a),l=r(843148),s=r(570464),c=r(537096),d=r(560072),u=r(219096),p=r(762820),m=r(979144),_=r(540696),h=r(570012),g=r(142548),f=r(513568),E=r(381748),y=r(159624),b=r(219868),v=r(585608),I=r(69884),w=r(235020),T=r(92992),S=r(601416);class C extends w.M1{}class A extends w.cb{}function O(e){return n.createElement(c.A,{svg:S.c,className:"ACTIVE"===e.iconState?void 0:T.CA})}function N(e){let{bigNudgeAmount:t,smallNudgeAmount:r}=(0,m.i_)(),a=(0,i.OY)(),c=n.useRef(null),u=(0,i.w1)(e=>{let{borderTopWeight:t,borderBottomWeight:r,borderLeftWeight:n,borderRightWeight:i}=e.mirror.selectionProperties;return(0,_.Ke)(t,r,n,i)}),h=e.borderOption===I._E.CUSTOM?u:e.strokeWeight,E=e.borderOption===I._E.MIXED?1:0,b=e.borderOption?(0,v.yO)(e.borderOption):void 0;return n.createElement(n.Fragment,null,n.createElement(P,{inputClassName:e.gridRight?T.CY:T.qr,isNotPencilTool:e.gridRight,inputRef:c,field:b||"STROKE_WEIGHT",recordingKey:s.Mx(e,"strokeWeightInputWrapper")},n.createElement(f.oN,{isTokenizable:!!(0,l.Ub)().ds_variables_strokes,className:o()(T.Y$,{[T.SW]:e.gridRight}),min:E,max:1e3,onValueChange:(t,r)=>{let n=e.borderOption?(0,I.GG)(e.borderOption):"strokeWeight";e.onChange({[n]:t},r)},value:h,dispatch:a,recordingKey:e.recordingKey,bigNudgeAmount:t,smallNudgeAmount:r,"data-tooltip-type":g.wL.TEXT,"data-tooltip":(0,d.t)("fullscreen.properties_panel.fill.stroke_width"),tooltipForScreenReadersOnly:!0,inputClassName:T.gf,disabled:e.disabled,dataTestId:e.dataTestId,forwardedRef:c},n.createElement(O,null))),(0,l.Ub)().ds_variables_strokes&&n.createElement(y.u2,{variableScope:p.EDU.STROKE_FLOAT}))}class L{format(e){switch(e){case"CENTER":return(0,d.t)("fullscreen.properties_panel.stroke.center");case"INSIDE":return(0,d.t)("fullscreen.properties_panel.stroke.inside");case"OUTSIDE":return(0,d.t)("fullscreen.properties_panel.stroke.outside")}}}class R extends n.PureComponent{constructor(){super(...arguments),this.sentenceCaseFormatter=new L,this.onStrokeAlignChange=(e,t=h.MO.YES)=>{this.props.onChange({strokeAlign:e},t)}}render(){return n.createElement(C,{id:"stroke-align-select",className:o()(T.UV,{[T.ak]:this.props.gridLeft}),inputClassName:T._y,chevronClassName:T.Ys,formatter:this.sentenceCaseFormatter,property:this.props.strokeAlign,onChange:this.onStrokeAlignChange,dispatch:this.props.dispatch,dropdownWidth:96,dropdownShown:this.props.dropdownShown,recordingKey:this.props.recordingKey,disabled:this.props.disabled,enablePreview:!0},n.createElement(A,{value:"CENTER"}),n.createElement(A,{value:"INSIDE"}),n.createElement(A,{value:"OUTSIDE"}))}}function P({children:e,inputClassName:t,field:r,inputRef:a,isNotPencilTool:o,recordingKey:s}){let c=(0,i.OY)(),{updateVariableConsumption:d,consumedVariable:m}=(0,b.DT)([r]),{clearVariableConsumption:_,consumedVariable:h}=(0,b.DT)(["BORDER_BOTTOM_WEIGHT","BORDER_TOP_WEIGHT","BORDER_LEFT_WEIGHT","BORDER_RIGHT_WEIGHT"]),{clearVariableConsumption:g}=(0,b.DT)(["STROKE_WEIGHT"]),f=(0,y.c1)(m)??(0,y.c1)(h)??void 0,v=n.useCallback(async e=>{if(e){let t=await c((0,u.sN)(e));d((0,b.R8)(p.y6c.FLOAT,t))}else _(),g()},[_,g,c,d]);return(0,l.Ub)().ds_variables_strokes&&o?n.createElement(y.Et,{boundVariableId:f,resolvedType:p.y6c.FLOAT,onVariableSelected:v},n.createElement(E.ai,{inputRef:a,inputClassName:t,currentFieldValue:f,hasBindingContextMenu:!0,hideIcon:!0,recordingKey:s},n.cloneElement(n.Children.only(e),{className:void 0,isTokenizable:!0,noBorderOnHover:!0}))):n.cloneElement(n.Children.only(e),{className:t})}R.displayName="StrokeAlignSelection"},926920:(e,t,r)=>{"use strict";let n;r.d(t,{C:()=>U,MV:()=>x,UL:()=>H,_I:()=>F,au:()=>W,cf:()=>G,eM:()=>K,yo:()=>V});var i,a,o,l,s=r(307824),c=r(120304),d=r(515724),u=r(916924),p=r(721500),m=r(372152),_=r(980068),h=r(570464),g=r(762820),f=r(979144),E=r(519588),y=r(540696),b=r(655068),v=r(784340),I=r(84656),w=r(97007),T=r(200251),S=r(301e3),C=r(219868),A=r(705595),O=r(682076),N=r(92072),L=r(19268),R=r(511332),P=r(792592),M=r(352688),k=r(861144),D=r(763456);let F="properties-panel-scroll-container";function x(){let e=(0,c.w1)(w.iU);return s.useMemo(()=>Object.values(e).filter(e=>!e.deletedFromSceneGraph),[e])}let U=(0,p.I)(D.Oi7),B=(e,t)=>e?h.Mx(e,t):t;var G=((n=G||{})[n.DEFAULT_EXPANDED=0]="DEFAULT_EXPANDED",n[n.DEFAULT_SIMPLIFIED=1]="DEFAULT_SIMPLIFIED",n[n.OVERRIDDEN_EXPANDED=2]="OVERRIDDEN_EXPANDED",n);(i||(i={})).ConnectedFillPanel=(0,c.Ul)(e=>({library:e.library,mirror:e.mirror,dropdownShown:e.dropdownShown,modalShown:e.modalShown,pickerShown:e.pickerShown,pickerInStyleCreationShown:e.pickerInStyleCreationShown,stylePickerShown:e.stylePickerShown,stylePickerListLayout:e.stylePickerListLayout,openFile:e.openFile}))(function(e){let t=(0,f.q4)(),{version:r}=(0,d.qG)();return s.createElement(P.mE,{key:e.key,selectionProperties:e.selectionProperties,fillPaints:e.selectionProperties.fillPaints,dispatch:e.dispatch,dropdownShown:e.dropdownShown,modalShown:e.modalShown,currentSelectedProperty:e.mirror.appModel.currentSelectedProperty,currentSelectedGradientStop:e.mirror.appModel.currentSelectedGradientStop,pickerShown:e.pickerShown,pickerInStyleCreationShown:e.pickerInStyleCreationShown,stylePickerShown:e.stylePickerShown,stylePickerListLayout:e.stylePickerListLayout,currentTool:e.mirror.appModel.currentTool,colorFormat:t,editModeType:e.mirror.appModel.activeCanvasEditModeType,defaultColor:b.w1,inheritStyleKey:e.selectionProperties.inheritFillStyleKey||null,inheritStyleID:e.selectionProperties.inheritFillStyleID||null,library:e.library,sceneGraphSelection:e.mirror.sceneGraphSelection,selectedStyleProperties:e.mirror.selectedStyleProperties,openFile:e.openFile,recordingKey:B(e.recordingKey,"fillPanel"),selectionContainsFrames:(0,E.AV)(e.mirror),hasExports:!!e.selectionProperties.exportSettings&&(0,y.uc)(e.selectionProperties.exportSettings,[]).length>0,exportBackgroundDisabled:e.selectionProperties.exportBackgroundDisabled,variableScopes:e.variableScopes,isPanelBodyCollapsedAtom:null,isUI3:"ui3"===r})});let V=i.ConnectedFillPanel;(a||(a={})).ConnectedEffectsPanel=(0,c.Ul)(e=>({library:e.library,mirror:e.mirror,dropdownShown:e.dropdownShown,modalShown:e.modalShown,pickerShown:e.pickerShown,stylePickerShown:e.stylePickerShown,openFile:e.openFile}))(function(e){let t=e.mirror.selectedStyleProperties&&!!e.mirror.selectedStyleProperties.guid,{smallNudgeAmount:r,bigNudgeAmount:n}=(0,f.i_)(),{version:i}=(0,d.qG)();return s.createElement(L.m,{key:"effects",stylePickerShown:e.stylePickerShown,effects:e.selectionProperties.effects||[],inheritStyleKey:e.selectionProperties.inheritEffectStyleKey||null,inheritStyleID:e.selectionProperties.inheritEffectStyleID||null,dispatch:e.dispatch,dropdownShown:e.dropdownShown,modalShown:e.modalShown,pickerShown:e.pickerShown,currentSelectedProperty:e.mirror.appModel.currentSelectedProperty,smallNudgeAmount:r,bigNudgeAmount:n,library:e.library,sceneGraphSelection:e.mirror.sceneGraphSelection,selectedStyleProperties:e.mirror.selectedStyleProperties,openFile:e.openFile,recordingKey:B(e.recordingKey,"effectsPanel"),selectionContainsOnlySpreadEligibleNodes:!!e.selectionProperties.containsOnlySpreadEligibleNodes||t,selectionContainsAnyKnockoutShadowEligibleNodes:!!e.selectionProperties.containsAnyKnockoutShadowEligibleNodes||t,framelikeWithoutFills:!!e.selectionProperties.framelikeWithoutFills,framelikeWithoutClipping:!!e.selectionProperties.framelikeWithoutClipping,isUI3:"ui3"===i})});let H=a.ConnectedEffectsPanel;(o||(o={})).ConnectedGridsPanel=(0,c.Ul)(e=>({library:e.library,mirror:e.mirror,dropdownShown:e.dropdownShown,modalShown:e.modalShown,pickerShown:e.pickerShown,stylePickerShown:e.stylePickerShown,openFile:e.openFile}))(function(e){let t=(0,f.q4)(),{smallNudgeAmount:r,bigNudgeAmount:n}=(0,f.i_)(),i=(0,I.s5)(g.KEP.editorPreferences().showFrameGrids);return s.createElement(R.C,{key:"grids",stylePickerShown:e.stylePickerShown,layoutGrids:e.selectionProperties.layoutGrids,smallNudgeAmount:r,bigNudgeAmount:n,currentSelectedProperty:e.mirror.appModel.currentSelectedProperty,dispatch:e.dispatch,dropdownShown:e.dropdownShown,modalShown:e.modalShown,pickerShown:e.pickerShown,currentTool:e.mirror.appModel.currentTool,colorFormat:t,showFrameGrids:i,editModeType:e.mirror.appModel.activeCanvasEditModeType,inheritStyleKey:e.selectionProperties.inheritGridStyleKey||null,inheritStyleID:e.selectionProperties.inheritGridStyleID||null,library:e.library,sceneGraphSelection:e.mirror.sceneGraphSelection,selectedStyleProperties:e.mirror.selectedStyleProperties,openFile:e.openFile,recordingKey:B(e.recordingKey,"gridsPanel")})});let W=o.ConnectedGridsPanel;(e=>{let t=(0,_.ei)(k.kF);e.ConnectedTypePanel=(0,c.Ul)(e=>({library:e.library,mirror:e.mirror,dropdownShown:e.dropdownShown,modalShown:e.modalShown,pickerShown:e.pickerShown,stylePickerShown:e.stylePickerShown,stylePreviewShown:e.stylePreviewShown,openFile:e.openFile,userFavoriteFonts:e.userFavoriteFonts,userFlags:e.userFlags,orgById:e.orgById,fonts:e.fonts,localFontAgentVersion:e.localFontAgentVersion,hasSeenTruncationOnboarding:!!e.userFlags.seen_text_truncation_onboarding}),null,(e,r,n)=>({...e,...n,...r,openTypeFeatures:t(n.selectionProperties.availableOTFeaturesForSelection,n.selectionProperties.availableOTFeaturesForFonts,n.selectionProperties.toggledOnOTFeaturesForSelection,n.selectionProperties.toggledOffOTFeaturesForSelection,n.selectionProperties.mixedStateOTFeaturesForSelection,e.mirror.selectedStyleProperties.guid)}))(function(e){let t=s.useContext(N.Oi),r=(0,I.s5)(g.KEP.propertiesPanelState().enabledTypePanelControls),n=null!=t;(0,u.kz)(null!=e.selectionProperties.fontFamily,"TypePanel missing fontFamily"),(0,u.kz)(null!=e.selectionProperties.fontStyle,"TypePanel missing fontStyle"),(0,u.kz)(null!=e.selectionProperties.fontSize,"TypePanel missing fontSize"),(0,u.kz)(n||null!=e.selectionProperties.textLineType,"TypePanel missing textLineType"),(0,u.kz)(n||null!=e.selectionProperties.wholeNodeTextLineType,"TypePanel missing wholeNodeTextLineType"),(0,u.kz)(null!=e.selectionProperties.lineHeight,"TypePanel missing lineHeight"),(0,u.kz)(null!=e.selectionProperties.letterSpacing,"TypePanel missing letterSpacing"),(0,u.kz)(null!=e.selectionProperties.paragraphSpacing,"TypePanel missing paragraphSpacing"),(0,u.kz)(null!=e.selectionProperties.paragraphIndent,"TypePanel missing paragraphIndent"),(0,u.kz)(null!=e.selectionProperties.listSpacing,"TypePanel missing listSpacing"),(0,u.kz)(null!=e.selectionProperties.textCase,"TypePanel missing textCase"),(0,u.kz)(null!=e.selectionProperties.textDecoration,"TypePanel missing textDecoration"),(0,u.kz)(null!=e.selectionProperties.maxLines,"TypePanel missing maxLines");let{smallNudgeAmount:i,bigNudgeAmount:a}=(0,f.i_)(),o=(0,T.yk)(e.selectionProperties.inheritTextStyleKey??null,e.selectionProperties.inheritTextStyleID??null,"TEXT"),l=(0,S.U)(),c=(0,v.OG)(["TEXT_DATA"]).data??[],p=(0,C.Ef)().variableConsumptionMap,_=(0,C._M)(),{version:h}=(0,d.qG)(),E=(0,m.m4)(A.S_)===O.my.TEXT_PANEL;return s.createElement(M._,{key:"type",fonts:e.fonts,fontFamily:e.selectionProperties.fontFamily,fontStyle:e.selectionProperties.fontStyle,fontSize:e.selectionProperties.fontSize,lineHeight:e.selectionProperties.lineHeight,intrinsicLineHeight:e.selectionProperties.intrinsicLineHeight,letterSpacing:e.selectionProperties.letterSpacing,paragraphSpacing:e.selectionProperties.paragraphSpacing,paragraphIndent:e.selectionProperties.paragraphIndent,listSpacing:e.selectionProperties.listSpacing,textLineType:e.selectionProperties.textLineType,textDirectionality:e.selectionProperties.textDirectionality,hasHadRTLText:e.selectionProperties.hasHadRTLText,wholeNodeTextLineType:e.selectionProperties.wholeNodeTextLineType,isHangingPunctuationApplicableToSelection:e.selectionProperties.isHangingPunctuationApplicableToSelection,textCase:e.selectionProperties.textCase,textDecoration:e.selectionProperties.textDecoration,inheritStyleKey:e.selectionProperties.inheritTextStyleKey||null,inheritStyleID:e.selectionProperties.inheritTextStyleID||null,mainStyle:o,textContentBoundAsset:l,textAlignHorizontal:e.selectionProperties.textAlignHorizontal,textAlignVertical:e.selectionProperties.textAlignVertical,textAutoResize:e.selectionProperties.textAutoResize,missingFont:e.selectionProperties.missingFont,textUserLayoutVersion:e.selectionProperties.textUserLayoutVersion,textExplicitLayoutVersion:e.selectionProperties.textExplicitLayoutVersion,textBidiVersion:e.selectionProperties.textBidiVersion,textTruncation:e.selectionProperties.textTruncation,leadingTrim:e.selectionProperties.leadingTrim,leadingTrimEnabled:e.selectionProperties.leadingTrimEnabled,hangingPunctuation:e.selectionProperties.hangingPunctuation,hangingList:e.selectionProperties.hangingList,fontVariantDiscretionaryLigatures:e.selectionProperties.fontVariantDiscretionaryLigatures||!1,fontVariantHistoricalLigatures:e.selectionProperties.fontVariantHistoricalLigatures||!1,fontVariantNumericFigure:e.selectionProperties.fontVariantNumericFigure||"NORMAL",fontVariantNumericSpacing:e.selectionProperties.fontVariantNumericSpacing||"NORMAL",fontVariantNumericFraction:e.selectionProperties.fontVariantNumericFraction||"NORMAL",fontVariantCaps:e.selectionProperties.fontVariantCaps||"NORMAL",fontVariantPosition:e.selectionProperties.fontVariantPosition||"NORMAL",fontVariations:e.selectionProperties.fontVariations||[],detachOpticalSize:e.selectionProperties.detachOpticalSizeFromFontSize||!1,openTypeFeatures:e.openTypeFeatures,editModeType:e.mirror.appModel.activeCanvasEditModeType,enabledTypePanelControls:r,dispatch:e.dispatch,dropdownShown:e.dropdownShown,modalShown:e.modalShown,pickerShown:e.pickerShown,stylePickerShown:e.stylePickerShown,stylePreviewShown:e.stylePreviewShown,userFavoriteFonts:e.userFavoriteFonts,orgById:e.orgById,smallNudgeAmount:i,bigNudgeAmount:a,library:e.library,sceneGraph:e.mirror.sceneGraph,sceneGraphSelection:e.mirror.sceneGraphSelection,selectedStyleProperties:e.mirror.selectedStyleProperties,openFile:e.openFile,localFontAgentVersion:e.localFontAgentVersion,recordingKey:B(e.recordingKey,"typePanel"),hasSeenTruncationOnboarding:e.hasSeenTruncationOnboarding,textVariablesExist:c.length>0,variableConsumptionMap:n?_:p,isSlides:e.isSlides,version:h,showBlueBorder:E})})})(l||(l={}));let K=l.ConnectedTypePanel},454292:(e,t,r)=>{"use strict";r.d(t,{Ir:()=>d,OG:()=>o,Uf:()=>s,Yh:()=>l,wH:()=>c});var n=r(721500),i=r(762820),a=r(763456);let o=(0,n.qe)(a._gu);function l(e){return e[i.uQ8.TRANSFORM_ITEM]||e[i.uQ8.VECTOR_ITEM]}function s(e,t,r,n,a){return c(e,t,r,n)||a&&e[i.uQ8.TRANSFORM_ITEM]}function c(e,t,r,n){let a=r.numSelectedByType&&!!r.numSelectedByType.SLIDE;return!!(!t&&!a&&(r.propertiesPanelShouldShowAddAutoLayout||(null==n?void 0:n.propertiesPanelShouldShowAddAutoLayout)||e[i.uQ8.STACK_ITEM]))}function d(e,t,r){return!!(!t&&e[i.uQ8.SELECTION_COLORS]&&(r.styles.length>0||r.paints.length>0||r.emptyDueToLimitExceeded))}},499752:(e,t,r)=>{"use strict";r.d(t,{IF:()=>F,_C:()=>G,yq:()=>U});var n=r(307824),i=r(578744),a=r.n(i),o=r(101492),l=r(594192),s=r(570464),c=r(853688),d=r(103839),u=r(915880),p=r(698240),m=r(560072),_=r(762820),h=r(654752),g=r(344808),f=r(91497),E=r(701280),y=r(668508),b=r(540696),v=r(784340),I=r(162280),w=r(668348),T=r(101040),S=r(216428),C=r(399260),A=r(965876),O=r(408156),N=r(953068),L=r(125068),R=r(879668),P=r(585428),M=r(844792),k=r(928224),D=r(421888);let F=n.createContext({autoCloseOnScroll:!0}),x=(0,o.Ip)("lazy_search_expression_builder",{isCodesplit:!0,ComponentFactory:async()=>({default:(await Promise.all([r.e(7493),r.e(8332),r.e(7900),r.e(9508),r.e(2240),r.e(6352),r.e(1708),r.e(8980),r.e(1884),r.e(6005),r.e(2809),r.e(1064),r.e(7080),r.e(1e3)]).then(r.bind(r,181e3))).ExpressionBuilderSearch})});function U({resolvedType:e,targetVariableData:t,autoOpenExpressionBuilder:r,setAutoOpenExpressionBuilder:i,updateSelectionProperties:a,recordingKey:o,updateConditionInConditionalAction:c,isNarrowPanel:u,showVariableThumbnails:p,setVariableValue:m,onClose:g,requestedTypes:E,initialPosition:v,variantProperty:I}){let w=!1;(0,b.Er)(t)&&(t=void 0,w=!0),(null==(t=(0,R.uS)(t,I))?void 0:t.type)===_.Tcd.EXPRESSION&&(null==t?void 0:t.value.expressionFunction)===_.O0M.STRINGIFY&&(t=t.value.expressionArguments[0]);let[T,S]=n.useState(null),C=n.useCallback(e=>{null!==e&&S(e)},[]),[A,O]=n.useState(v??null),{shouldShowAdvancedPrototypingPaywall:L,showAdvancedPrototypingVariablesModal:P}=(0,N.MX)(),M=n.useCallback(()=>{if(L)P();else if(!A&&T){let e=T.getBoundingClientRect();O(new d.Cg(e.left-34,e.top-6))}},[T,A,L,P]);n.useEffect(()=>{!0===r&&i&&T&&(M(),i(!1))},[r,T,M,i]);let F=n.useCallback(()=>{A&&(O(null),g&&g())},[A,g]),x=n.useCallback(e=>{if(void 0!==c)c(e);else if((0,l.aI)(m)){if(!m(e))return!1}else void 0!==a&&a({targetVariableData:e});return F(),!0},[F,c,a,m]),U=n.createElement(n.Fragment,null,A&&n.createElement(B,{initialTokens:t?(0,h.A)((0,f.i)(t,new y.q(!0))):[],initialPosition:A,resolvedType:e,onCloseExpressionBuilder:F,onInputSubmitted:x,icon:c?k.c:D.c,isInConditional:void 0!==c,recordingKey:s.Mx(o,"expressionBuilder"),requestedTypes:E})),V=n.createElement(G,{targetVariableData:t,forwardRef:C,onClick:M,recordingKey:o,isNarrowPanel:u,isInCell:!!m,showVariableThumbnails:p,isInConditional:void 0!==c,isMixed:w});return n.createElement(n.Fragment,null,U," ",V)}function B({initialTokens:e,initialPosition:t,resolvedType:r,onCloseExpressionBuilder:i,onInputSubmitted:o,icon:l,isInConditional:d,recordingKey:p,requestedTypes:_}){let{autoCloseOnScroll:h}=n.useContext(F),f=n.useMemo(()=>e.reduce((e,t)=>e+=t.stringValue,""),[e]),b=n.useRef(f),v=n.useRef(!1),[I,w]=n.useState(0),C=n.useCallback((e,t)=>{w(e),e>0&&!v.current&&(v.current=!0),t&&(0,R.Eh)(b.current,t,r,d?"conditional":"set_variable")},[d,r]),[A,O]=n.useState((0,E.a)(b.current,r,_)),N=n.useCallback(()=>{if(b.current.trim().length>0){(0,R.Eh)(b.current,"success",r,d?"conditional":"set_variable");let e=o((0,g.K)(b.current,new y.q));if(!e)return O(!e),e}else(0,R.Eh)(b.current,"submit_empty",r,d?"conditional":"set_variable"),i();return!0},[d,i,o,r]),L=n.useMemo(()=>a()(e=>{(0,R.Eh)(b.current,e,r,d?"conditional":"set_variable"),i()}),[d,i,r]),[k,D]=n.useState(!1),U=n.useCallback(()=>k?(0,m.t)("proto.expression_builder.ai_placeholder"):d?(0,m.t)("proto.expression_builder_entry.placeholder"):(0,m.t)("proto.expression_builder.placeholder"),[k,d]);return n.createElement("div",{className:M._M},n.createElement(T.G0,{container:S.a,containerProps:{wiggleCount:I},title:"",headerSize:"hidden",initialPosition:t,onClose:i,dragHeaderOnly:!1,initialWidth:258,canRenderBelowViewport:!0},n.createElement(u.O8,{recordingKey:p},n.createElement("div",null,n.createElement(x,{fallback:n.createElement("div",{className:M.Ec}," Loading... "),errorFallback:null,initialTokens:e,expressionText:b,resolvedType:r,error:A,setError:O,onSubmit:N,onClose:L,icon:l,wiggleCount:I,setWiggleCount:C,hasWiggled:v.current,placeholderText:U(),isInConditional:d,recordingKey:s.Mx(p,"search"),requestedTypes:_,isAIMode:k,setIsAIMode:D})))),n.createElement(c.g9,{className:P.Yj,onMouseDown:e=>{!A&&N()||(I>=1?L("click_out_cancel"):0===I&&C(1,"click_out_error")),e.stopPropagation()},onWheel:()=>{h&&b.current.trim()===f.trim()&&L("scroll_cancel")},recordingKey:s.Mx(p,"closeBuilder")}))}function G({targetVariableData:e,forwardRef:t,onClick:r,recordingKey:i,showVariableThumbnails:a,isNarrowPanel:o,isInCell:l,isInConditional:d,isMixed:u,variantProperty:h}){e=(0,R.uS)(e,h);let g=n.useMemo(()=>e?(0,f.i)(e,new y.q(!0,!0)).replace(/\(/g," ( ").replace(/\)/g," ) ").split(/\s+(?=(?:(?:[^"]*"){2})*[^"]*$)(?![^{]*})/):[],[e]);if(e&&(0,b.EH)(e)&&(null==e?void 0:e.resolvedType)===_.y6c.COLOR)return n.createElement(O.o,{color:e.value});let E=0===g.length;return n.createElement(c.g9,{onClick:r,recordingKey:s.Mx(i,"openExpressionBuilder"),className:p.cx.minW0.$},n.createElement("div",{className:l?M.eu:o?M.gx:M.Ec,ref:t},g.filter(e=>e.length>0).map((e,t)=>{if(e.startsWith("{")&&e.endsWith("}")){let r=e.replace(/[{}]/g,""),{variableId:i,modeId:o}=(0,R.YB)(r);return n.createElement(V,{variableId:i,modeId:o,showVariableThumbnails:a,key:t})}return w.K0(e)?n.createElement(V,{variableId:e,showVariableThumbnails:a,key:t}):R.iW.test(e)?n.createElement("span",{key:t},e):R.At.test(e)||R.I1.test(e)?n.createElement("span",{key:t},e):n.createElement(L.a,{text:e,key:t})}),E&&n.createElement("span",{className:M.oH},u?(0,m.t)("fullscreen.mixed"):d?(0,m.t)("proto.expression_builder_entry.placeholder"):(0,m.t)("proto.expression_builder.placeholder"))))}function V({variableId:e,modeId:t,showVariableThumbnails:r}){let i=(0,v.c1)(e),a=i?(0,A.yk)(i.name):(0,m.t)("proto.expression_builder_entry.missing"),o=(0,v.GK)(null==i?void 0:i.variableSetId),l=o&&t?o.modes.find(e=>e.id===t):null,s=null==l?void 0:l.name,c=i&&r?(0,R.WI)(i.resolvedType):null,d=s?`${a}: ${s}`:`${a}`;return n.createElement(C.c,{text:d,thumbnailValue:c,isDeleted:!!i&&(0,I._q)(i)})}},879668:(e,t,r)=>{"use strict";r.d(t,{An:()=>E,At:()=>S,Eh:()=>H,I1:()=>O,MH:()=>M,MN:()=>f,Qz:()=>P,UZ:()=>b,WI:()=>V,WO:()=>R,Wo:()=>L,YB:()=>B,YR:()=>T,ao:()=>v,c1:()=>A,cZ:()=>y,gl:()=>I,iW:()=>C,is:()=>w,kX:()=>N,mE:()=>x,mO:()=>g,mm:()=>F,qI:()=>D,uS:()=>G,wz:()=>k,yS:()=>U});var n=r(307824),i=r(250008),a=r(326660),o=r(4596),l=r(219096),s=r(762820),c=r(654752),d=r(668508),u=r(784340),p=r(392992),m=r(336016),_=r(26236),h=r(141700);function g({highlightedItemID:e,variables:t,expressionItems:r}){return e?t.find(t=>t.node_id===e)??r.find(t=>t.name===e)??null:null}let f=new RegExp(/\+|-|\*|!|=|\/|&|\||>|<| /g),E=new RegExp(/\+|-|\*|!|=|\/|&&|\|\||>|</g),y=new RegExp(/\+|-|\*|\//g),b=new RegExp(/\+/g),v=new RegExp(/>|<|!/g),I=new RegExp(/>=|<=/g),w=new RegExp(/!=|==|(OR|or|Or)|>=|<=|&&|\|\|/g),T=new RegExp(/(AND|and|And)|(NOT|not|Not)/g),S=new RegExp(/"([^"]*)"/),C=new RegExp(/^[0-9.]*$/),A=new RegExp(/(AND|and|And)|(NOT|not|Not)|(OR|or|Or)|!=|==|&&|\|\|/),O=new RegExp(/\s*(true|false)\s*/i),N=new RegExp(/\(|\)/g);function L(e){return!!e&&(!C.test(e)||isNaN(Number(e)))}function R(e,t){var r;return(null==(r=null==e?void 0:e.modes.find(e=>e.id===t))?void 0:r.name)??""}function P(e){let[t,r]=e.split("$$$");return[t,r]}function M(e,t,r){if(r.keepVariableID)return`${e}$$$${t}`;let n=r.variableIdToVariable(e);if(!n)return"{}";let i=r.variableCollectionIdToVariableCollection(n.variableSetId);if(!i)return"{}";let a=R(i,t);return`{${n.name}$$$${a}}`}function k(e){for(let t of e){if("items"in t)return t.items[0].node_id;if("expressionItem"in t)return t.expressionItem.name}return null}function D(e){for(let t of e)if("items"in t)return t.items[0].node_id;for(let t of e)if(t.type===_.Qh.EXPRESSION&&"LITERAL"===t.expressionItem.type)return t.expressionItem.name;return null}function F(e){return n.useMemo(()=>e===s.y6c.BOOLEAN?[s.y6c.BOOLEAN,s.y6c.STRING,s.y6c.FLOAT]:e===s.y6c.STRING?[s.y6c.STRING,s.y6c.FLOAT]:[e],[e])}function x(e,t,r,i){var a,o;let l=(0,u.ML)(),s=(0,u.SU)(),c=(0,u.iA)(),d=null==(a=c.data)?void 0:a.libraryVariables,g=null==(o=c.data)?void 0:o.libraryVariableSets,[f,E]=(0,n.useMemo)(()=>"ALL_LIBRARIES"===r.type?[[...l,...d??[]],[...s,...g??[]]]:"LOCAL_VARIABLES"===r.type?[l,s]:[d??[],g??[]],[r.type,l,d,s,g]),y=(0,p.K0)(),b=(0,m.q)(null,null),v=n.useMemo(()=>{let e={};return b.forEach(t=>{e[t.fileKey]=t.fileName}),e},[b]),I=F(t),w=n.useMemo(()=>f.filter(e=>(null==i?void 0:i.includes(e.resolvedType))??I.includes(e.resolvedType)),[f,i,I]),T=(0,h.O)(w,e??"");return n.useMemo(()=>null===e?[]:e.length>0?(0,_.aO)({variables:T,variableSets:E,styles:[],layout:"list",fileNamesByKey:v,openFileKey:y}):(0,_.nL)({variables:T,variableSets:E,layout:r.layout}),[e,T,E,v,y,r.layout])}async function U(e,t){let r=t.find(t=>t.node_id===e.node_id);r&&await (0,l.Cq)(r)}function B(e){let[t,r]=e.split(" %%% "),[n,i]=t.split("$$$");return{variableId:n,modeId:i,resolvedType:r?+r:null}}function G(e,t){var r;return(null==e?void 0:e.type)===s.Tcd.EXPRESSION&&(null==e?void 0:e.value.expressionFunction)===s.O0M.IS_TRUTHY&&e.value.expressionArguments[0]&&(e=e.value.expressionArguments[0]),(null==e?void 0:e.type)===s.Tcd.EXPRESSION&&(null==e?void 0:e.value.expressionFunction)===s.O0M.RESOLVE_VARIANT&&(null==(r=null==e?void 0:e.value.expressionArguments[0])?void 0:r.type)===s.Tcd.MAP&&t&&e.value.expressionArguments[0].value[t]&&(e=e.value.expressionArguments[0].value[t]),(null==e?void 0:e.type)===s.Tcd.EXPRESSION&&(null==e?void 0:e.value.expressionFunction)===s.O0M.STRINGIFY&&(e=e.value.expressionArguments[0]),e}function V(e){return e===s.y6c.STRING?{type:s.Tcd.STRING,resolvedType:s.y6c.STRING,value:o.Q9}:e===s.y6c.BOOLEAN?{type:s.Tcd.BOOLEAN,resolvedType:s.y6c.BOOLEAN,value:!0}:e===s.y6c.FLOAT?{type:s.Tcd.FLOAT,resolvedType:s.y6c.FLOAT,value:0}:null}function H(e,t,r,n){let o=new d.q(!0),l=[];try{l=(0,c.A)(e)}catch{(0,a.sz)("could not tokenize expression for logging:",e)}let u=l.filter(e=>"TOKEN_VARIABLE"===e.type||"TOKEN_VARIABLE_WITH_MODE"===e.type).map(e=>{let[t,r]=P(e.stringValue),n=o.variableIdToVariable(t);return{collection_id:null==n?void 0:n.variableSetId,variable_id:t,variable_type:null==n?void 0:n.resolvedType,mode_id:r}}),p=Object.keys(s.y6c)[Object.values(s.y6c).indexOf(r)].toLowerCase();"float"!==p&&"string"!==p&&"boolean"!==p&&(p="invalid");let m={status:t,resolved_type:p,variable_data:JSON.stringify(u),entry:n};i.qE.trackDefinedEvent("prototype.expression_submit",m)}},961716:(e,t,r)=>{"use strict";r.d(t,{kv:()=>ei,ys:()=>eE});var n=r(307824),i=r(602216),a=r(120304),o=r(280584),l=r(173885),s=r(125504),c=r.n(s),d=r(721500),u=r(937620),p=r(733960),m=r(843148),_=r(372152),h=r(79276),g=r(838836),f=r(570464),E=r(853688),y=r(103839),b=r(537096),v=r(968240),I=r(588900),w=r(4596),T=r(560072),S=r(907236),C=r(753432),A=r(73376),O=r(309812),N=r(585508),L=r(762820),R=r(555168),P=r(540696),M=r(308628),k=r(677808),D=r(392992),F=r(879396),x=r(570012),U=r(304504),B=r(142548),G=r(525064),V=r(266724),H=r(581716),W=r(931296),K=r(648704),Y=r(289172),q=r(24588),j=r(29224),$=r(118596),Z=r(531163),z=r(791576),Q=r(702924),X=r(84244),J=r(124456);let ee=new A.RZ,et=new A.U$,er=new A.Q9,en=new A.gB,ei=n.memo(function(){let e=(0,a.OY)(),t=(0,a.w1)(el),r=(0,a.w1)(es),o=(0,a.w1)(e_),l=(0,a.w1)(ed),s=(0,a.w1)(eu),c=(0,a.w1)(ep),p=(0,K.KU)(),_=(0,K.gB)(),g=(0,a.w1)(eh),f=(0,a.w1)(ec),E=(0,a.w1)(e=>(0,F.Wi)()&&!e.mirror.appModel.prototypeCanvasUiVisible),b=Object.keys(c).length>1,v=eg(),I=function(){let e=eg(),t=(0,a.w1)(em);return!!e&&!!t&&t.selectionOverrides[L.EdD.PROTOTYPE_INTERACTIONS]}(),T=(0,D.AL)(),O=(0,u.qM)(),P=n.useMemo(()=>new A.id(s),[s]),M=n.useCallback(e=>P.format(e),[P]),k=n.useRef(null),[B,V]=(0,j.sZ)(),H=e=>{N.CA.updateSelectionProperties({prototypeInteractions:e},{shouldCommit:x.MO.NO_BUT_TRACK_AS_EDIT}),N.CA.commit()};return n.createElement($.QP,{getNodeName:M},n.createElement(q.sF,{"data-onboarding-key":"prototypePanel",ref:k,"data-testid":"prototype-interaction-list"},n.createElement(ea,{interactionGroups:p,inheritedInternalInteractionGroups:_,mixed:b,isOrInInstance:v,openFile:T,dispatch:e,currentSelectedProperty:l,onChange:(e,n)=>{let i=e.map(e=>e.interactions).reduce((e,t)=>e.concat(t),[]),a=new Set,o=[];for(let e of i){let t=w.MR(e.id);if(t&&!a.has(t))o.push(e);else{if(!(t=L.i46.generateUniqueID()))continue;let r=w.K0(t);if(!r)continue;o.push({...e,id:r})}t&&a.add(t)}n===U.W.NORMAL?o=[...o,...r]:n===U.W.INHERITED_INTERNAL&&(o=[...t,...o]),H(o)},onAddProperty:e=>{e.stopPropagation();let n=[];for(let e of Object.keys(c)){let t=L.i46.generateUniqueID();if(!t)return;let r=w.K0(t);if(!r)return;let i={id:r,sourceNodeID:w.K0(e)??w.WW,event:{interactionType:function(e){let t=new Set;for(let{event:r}of e)t.add(r.interactionType);for(let e of ef)if(!t.has(e))return e;return"ON_KEY_DOWN"}(p)}};i.stateManagementVersion=1,i.actions=[{connectionType:"NONE"}],n.push(i)}let a=n.map(e=>h.M({nodeID:e.sourceNodeID,interactionID:e.id}));if(a.length>0){L.i46.setSelectedInteractions(a);let e=i.findDOMNode(k.current),t=(0,G.cT)(e);eI(new y.Cg(t.x,t.y+(0,d.qe)(Z.OYi)))}let o=[...t,...n,...r];E&&N.CA.triggerAction("toggle-prototyping-info"),O("prototype_interaction_added",{interactionCount:o.length}),H(o)},onDeleteProperty:(e,t)=>{let r=(t===U.W.NORMAL?p:_).filter((t,r)=>e.has(r)),n=[];for(let e of r)n.push(...e.interactions);let i=ev(n);R.Pc.user("delete-prototype-interactions",()=>L.i46.deleteInteractions(i)),N.CA.deselectProperty()},shouldIgnoreKeyboardEvents:o.length>0||l.type!==L.cf6.PROTOTYPE_INTERACTION&&l.type!==L.cf6.PROTOTYPE_INHERITED_INTERNAL_INTERACTION,isValidPrototypingSourceSelected:g,showScrollBehaviorButton:!!(0,F.Wi)()&&!!(V||B),showResetInteractionsButton:I,toggleScrollBehaviorPicker:()=>{if((null==f?void 0:f.id)===C.Ez)e(S.U5());else{let t=i.findDOMNode(k.current),r=(0,G.cT)(t);e(S.is({id:C.Ez,initialX:r.x,initialY:r.y}))}}}),(0,m.Ub)().prototype_ai_magic_link&&n.createElement(Y.GM,null)))});function ea(e){let t=n.useRef(!1);return n.createElement(n.Fragment,null,n.createElement(H.Ss,{title:(0,T.t)("proto.title_interactions"),stylePickerShown:{isShown:!1},addProperty:e.onAddProperty,showScrollBehaviorButton:e.showScrollBehaviorButton,toggleScrollBehaviorPicker:e.toggleScrollBehaviorPicker,hideAddButton:!e.isValidPrototypingSourceSelected,renderProperty:(r,i,a,o,l,s,c,d,u)=>n.createElement(eo,{interactionGroups:e.interactionGroups,interactionGroup:r,index:i,selected:a,hasFocus:l,isDragging:o,singletonRow:e.interactionGroups.length<=1,onMouseDown:c,onMouseMove:d,onMouseUp:u,dispatch:e.dispatch,category:U.W.NORMAL,autoOpenVariablePicker:t,recordingKey:f.Mx("prototypeInteractionList",i),key:i}),openFile:e.openFile,onChange:t=>e.onChange(t,U.W.NORMAL),currentSelectedProperty:e.currentSelectedProperty,selectedPropertyType:L.cf6.PROTOTYPE_INTERACTION,propertyList:e.interactionGroups,pickerShown:null,dispatch:e.dispatch,onDeleteProperty:t=>e.onDeleteProperty(t,U.W.NORMAL),shouldIgnoreKeyboardEvents:e.shouldIgnoreKeyboardEvents,recordingKey:"prototypeInteractionList",boldHeaderRow:e.interactionGroups.length>=1||e.inheritedInternalInteractionGroups.length>=1,showResetInteractionsButton:e.showResetInteractionsButton,onResetInteractions:R.wH.user("reset-instance-interactions",()=>L.i46.resetSymbolOverrides(L.EdD.PROTOTYPE_INTERACTIONS))}),e.isOrInInstance&&e.inheritedInternalInteractionGroups.length>0&&n.createElement(q.WA,null,n.createElement(q.yk,{className:z.Sq},n.createElement(T.Tx,{id:"proto.interaction_list.variant_interactions"}))),e.isOrInInstance&&n.createElement(H.Ss,{title:"",stylePickerShown:{isShown:!1},addProperty:g.Kw,hideAddButton:!0,toggleScrollBehaviorPicker:e.toggleScrollBehaviorPicker,renderProperty:(r,i,a,o,l,s,c,d,u)=>n.createElement(eo,{interactionGroups:e.inheritedInternalInteractionGroups,interactionGroup:r,index:i,selected:a,hasFocus:l,isDragging:o,singletonRow:e.inheritedInternalInteractionGroups.length<=1,onMouseDown:c,onMouseMove:d,onMouseUp:u,dispatch:e.dispatch,category:U.W.INHERITED_INTERNAL,autoOpenVariablePicker:t,recordingKey:f.Mx("prototypeInheritedInternalInteractionList",i)}),openFile:e.openFile,onChange:t=>e.onChange(t,U.W.INHERITED_INTERNAL),currentSelectedProperty:e.currentSelectedProperty,selectedPropertyType:L.cf6.PROTOTYPE_INHERITED_INTERNAL_INTERACTION,propertyList:e.inheritedInternalInteractionGroups,pickerShown:null,dispatch:e.dispatch,onDeleteProperty:t=>e.onDeleteProperty(t,U.W.INHERITED_INTERNAL),shouldIgnoreKeyboardEvents:e.shouldIgnoreKeyboardEvents,recordingKey:f.Mx("prototypeInheritedInternalInteractionList")}))}function eo({interactionGroups:e,interactionGroup:t,index:r,hasFocus:s,isDragging:d,selected:m,singletonRow:g,onMouseDown:y,onMouseMove:A,onMouseUp:P,dispatch:D,category:F,recordingKey:x}){let H=(0,O.Ci)(),{getNodeName:Y}=(0,$.Ks)(),q=(0,a.w1)(e_),j=(0,K.KU)(),Z=(0,a.w1)(ec),er=(null==Z?void 0:Z.id)===C.EP?Z:null,en=(0,a.w1)(eu),ei=(0,_.m4)(k.gX)?et:ee,ea=function(e,t){let r=new Set(t.map(e=>{let t=h.K(e);return t?w.MR(t.interactionID):""}).filter(e=>""!==e));for(let t of e.interactions){let e=w.MR(t.id);if(e&&r.has(e))return!0}return!1}(t,q),eo=n.useRef(null),el=n.useCallback(()=>{let e=i.findDOMNode(eo.current);eI((0,G.cT)(e))},[]),es=n.useCallback(()=>{L.i46.setSelectedInteractions([]),D(S.U5()),N.CA.deselectProperty()},[D]),ed=!1,ep=null;for(let e of t.interactions)if(!ep&&e.actions&&e.actions.length>0)ep=e.actions[0];else if(ey(ep,Y)!=ey((e.actions??[])[0],Y)){ed=!0;break}let em=!1,eh=!1;if(F===U.W.NORMAL){for(let e of t.interactions){if(!e.actions||0===e.actions.length)continue;let t=e.actions[0];if(!t||"SWAP_STATE"!==t.navigationType)continue;let r="";if(t.transitionNodeID){let e=en.get(w.MR(t.transitionNodeID));if(e){if(e.isState)r=e.parentGuid||"";else{em=!0;break}}}let n=L.i46.getContainingStateGroupOrSelf(w.MR(e.sourceNodeID??w.WW))||"";if(""===n||""!==r&&n!==r){em=!0;break}}let r=["ON_CLICK","MOUSE_DOWN","MOUSE_UP"].includes(t.event.interactionType??""),n=e.some(e=>"ON_HOVER"===e.event.interactionType);eh=r&&n}em=F!==U.W.INHERITED_INTERNAL&&em;let eg=function(e,t,r){if(e!==U.W.INHERITED_INTERNAL)return null;let n=r.find(e=>e.key===t.key&&e.interactions.length===t.interactions.length&&1===t.interactions.length&&function(e,t){let r=void 0!==e.actions&&e.actions.length>=1,n=void 0!==t.actions&&t.actions.length>=1;if(!r||!n)return!1;let i=e.actions.every(e=>"UPDATE_MEDIA_RUNTIME"===e.connectionType),a=e.actions.every(e=>w.U3(e.transitionNodeID));var o=!1;for(let e of t.actions)if("INTERNAL_NODE"===e.connectionType&&"SWAP_STATE"===e.navigationType){o=!0;break}return i&&a&&o}(e.interactions[0],t.interactions[0]));return(null==n?void 0:n.interactions[0])??null}(F,t,e),ef=(0,p.i)(eg),ew=(0,u.qM)();n.useEffect(()=>{var e,r;null===ef&&eg&&ew("prototype_interaction_conflict_override_created",{interaction_type:null==(e=t.interactions[0].event)?void 0:e.interactionType,action_type:null==(r=eg.event)?void 0:r.interactionType})});let eT=F===U.W.INHERITED_INTERNAL&&j.some(e=>e.key===t.key)&&!eg,eS=m&&s,eC=ea&&!m;return n.createElement("div",null,n.createElement(V.e,{ref:eo,className:H?z.y_:void 0,"data-testid":`prototypeInteractionItem-${r}`,selected:eS,selectedSecondary:eC,singletonRow:g,dragging:d,onMouseDown:y,onMouseMove:A,onMouseUp:P,onMouseEnter:()=>{let e=ev(t.interactions);L.i46.hoverInteractions(e)},onMouseLeave:()=>{L.i46.hoverInteractions([])},recordingKey:f.Mx(x,"draggableRow")},n.createElement(E.g9,{className:c()({[z.aZ]:!0,[z.oZ]:eS,[z.Qr]:eC}),onClick:r=>{if(!eo)return;let n=eb(t);if(r.metaKey||r.ctrlKey)ea?n=q.filter(e=>!n.includes(e)):n.push(...q);else if(r.shiftKey){var i;let r,a;let o=(i=t.key,e.findIndex(({key:e})=>e===i));if(-1===o)return;let l=function(e,t){let r=1/0,n=e;for(let i of t){let t=Math.abs(e-i);t<r&&(n=i,r=t)}return n}(o,function(e,t){let r=new Set,n=new Set(t);for(let t=0;t<e.length;t++)eb(e[t]).some(e=>n.has(e))&&r.add(t);return r}(e,q)),s=(r=o,a=l,o>l&&(r=l,a=o),e.slice(r,a+1));for(let e of(n=[...q],s))n.push(...eb(e))}L.i46.setSelectedInteractions(n),N.CA.updateAppModel({currentSelectedProperty:{type:F===U.W.NORMAL?L.cf6.PROTOTYPE_INTERACTION:L.cf6.PROTOTYPE_INHERITED_INTERNAL_INTERACTION,indices:[]}}),n.length?er&&er.shouldPin||el():es()},onMouseDown:e=>{e.stopPropagation()},recordingKey:x},em?n.createElement(b.A,{className:z.WW,svg:J.c,"data-tooltip-type":B.wL.SPECIAL,"data-tooltip":B.oz.PROTOTYPE_INVALID_SWAP_STATE}):eh?n.createElement(b.A,{className:z.WW,svg:J.c,"data-tooltip-type":B.wL.SPECIAL,"data-tooltip":B.oz.PROTOTYPE_MULTIPLE_INTERACTIONS_MOUSE_AND_HOVER}):eT&&n.createElement(b.A,{className:z.WW,svg:J.c,"data-tooltip-type":B.wL.SPECIAL,"data-tooltip":B.oz.PROTOTYPE_CONFLICTING_STATE_INSTANCE_AND_BACKING_STATE_INTERACTION}),n.createElement("div",{className:eh||em||eT?z.QF:z._K},function(e,t){let r=t.format(e.interactionType??"NONE");if("ON_KEY_DOWN"===e.interactionType&&e.keyTrigger&&e.keyTrigger.keyCodes){let t=(0,W._4)(e.keyTrigger.keyCodes),n=(0,W.O0)(e.keyTrigger,!0);if("KEYBOARD"===e.keyTrigger.triggerDevice&&t)return r+" ("+(0,W.YD)(t)+")";if(n)return r+" ("+n+")"}return r}(t.event,ei)),n.createElement(I._,{className:z.Ul,svg:ed?(0,M.QP)("NONE"):(0,M.QP)(eE(ep))}),n.createElement("div",{className:z.uQ,dir:"auto"},ed?(0,T.t)("proto.variant_actions.mixed"):F===U.W.INHERITED_INTERNAL?(0,T.t)("proto.variant_actions.change_to"):ey(ep,Y))),n.createElement("span",{className:z.mg},n.createElement(o.w,{as:"button",onClick:e=>{e.stopPropagation();let r=ev(t.interactions);R.Pc.user("delete-prototype-interactions",()=>L.i46.deleteInteractions(r)),N.CA.deselectProperty(),N.CA.commit()},onMouseDown:e=>{e.stopPropagation()},"aria-label":(0,T.t)("proto.prototype_panel.remove_interaction_tooltip"),recordingKey:f.Mx(x,"removeButton")},n.createElement(v.e,{svg:Q.c,fallbackSvg:X.c},n.createElement(l.A,null))))))}function el(e){return e.mirror.selectionProperties.prototypeInteractions||[]}function es(e){return e.mirror.selectionProperties.prototypeInheritedInternalInteractions||[]}function ec(e){return e.pickerShown}function ed(e){return e.mirror.appModel.currentSelectedProperty}function eu(e){return e.mirror.sceneGraph}function ep(e){return e.mirror.sceneGraphSelection}function em(e){return e.mirror.selectionProperties.resettableInstanceOverrides}function e_(e){return e.mirror.appModel.selectedInteractions}function eh(e){return e.mirror.selectionProperties.isValidPrototypingSourceSelected??!0}function eg(){let e=(0,a.w1)(ep),t=(0,a.w1)(eu);for(let r of Object.keys(e)){let e=t.get(r);if(e&&("INSTANCE"===e.type||e.isInstanceSublayer))return!0}return!1}let ef=["ON_CLICK","DRAG","ON_HOVER","ON_PRESS","MOUSE_ENTER","MOUSE_LEAVE","MOUSE_DOWN","MOUSE_UP"];function eE(e){if(!e)return"NONE";if("URL"===e.connectionType)return"OPEN_URL";if("BACK"===e.connectionType)return"GO_BACK";if("CLOSE"===e.connectionType)return"CLOSE_OVERLAY";if("INTERNAL_NODE"===e.connectionType)switch(e.navigationType){case void 0:case null:case"NAVIGATE":return"NAVIGATE_TO";case"SCROLL_TO":return"SCROLL_TO";case"OVERLAY":return"OPEN_OVERLAY";case"SWAP":return"SWAP_WITH";case"SWAP_STATE":return"SWAP_STATE_TO"}if("SET_VARIABLE"===e.connectionType)return"SET_VARIABLE";if("SET_VARIABLE_MODE"===e.connectionType)return"SET_VARIABLE_MODE";if("UPDATE_MEDIA_RUNTIME"===e.connectionType)switch(e.mediaAction){case void 0:case"PLAY":return"UPDATE_MEDIA_PLAY";case"PAUSE":return"UPDATE_MEDIA_PAUSE";case"TOGGLE_PLAY_PAUSE":return"UPDATE_MEDIA_TOGGLE_PLAY_PAUSE";case"MUTE":return"UPDATE_MEDIA_MUTE";case"UNMUTE":return"UPDATE_MEDIA_UNMUTE";case"TOGGLE_MUTE_UNMUTE":return"UPDATE_MEDIA_TOGGLE_MUTE_UNMUTE";case"SKIP_FORWARD":return"UPDATE_MEDIA_SKIP_FORWARD";case"SKIP_BACKWARD":return"UPDATE_MEDIA_SKIP_BACKWARD";case"SKIP_TO":return"UPDATE_MEDIA_SKIP_TO"}return"CONDITIONAL"===e.connectionType?"CONDITIONAL":("NONE"===e.connectionType||console.warn("Unknown connection type",e.connectionType),"NONE")}function ey(e,t){if(!e)return er.format("NONE");let r=eE(e);switch(r){case"NONE":case"GO_BACK":case"CLOSE_OVERLAY":case"SET_VARIABLE":case"SET_VARIABLE_MODE":case"CONDITIONAL":return er.format(r);case"OPEN_URL":if(null!=e.connectionURL){if((0,P.Er)(e.connectionURL))return(0,T.t)("fullscreen.mixed");return e.connectionURL.replace(/https?:\/\//,"")}return er.format("NONE");case"UPDATE_MEDIA_PLAY":case"UPDATE_MEDIA_PAUSE":case"UPDATE_MEDIA_TOGGLE_PLAY_PAUSE":case"UPDATE_MEDIA_MUTE":case"UPDATE_MEDIA_UNMUTE":case"UPDATE_MEDIA_TOGGLE_MUTE_UNMUTE":case"UPDATE_MEDIA_SKIP_FORWARD":case"UPDATE_MEDIA_SKIP_BACKWARD":case"UPDATE_MEDIA_SKIP_TO":return en.format(e)}return e.transitionNodeID?(0,P.Er)(e.transitionNodeID)?(0,T.t)("fullscreen.mixed"):t(w.MR(e.transitionNodeID)):er.format("NONE")}function eb(e){return e.interactions.filter(e=>e.id&&e.sourceNodeID).map(e=>h.M({nodeID:e.sourceNodeID,interactionID:e.id}))}function ev(e){let t=[];for(let r of e){let{sourceNodeID:e,id:n}=r;e&&n&&t.push(h.M({nodeID:e,interactionID:n}))}return t}function eI(e){N.CA.triggerAction("show-prototype-interaction-edit-modal",{args:{source:L.cP$.PROPERTIES_PANEL,x:e.x,y:e.y}})}},791024:(e,t,r)=>{"use strict";r.d(t,{G:()=>c,g:()=>d});var n=r(916924),i=r(4596),a=r(762820),o=r(668348),l=r(965876);function s(e,t,r){var n,i;let c=(0,l.gb)(t,r),d=function(e){switch(e){case a.y6c.BOOLEAN:return"BOOLEAN";case a.y6c.FLOAT:return"FLOAT";case a.y6c.STRING:return"STRING";case a.y6c.COLOR:return"COLOR";case a.y6c.MAP:return"MAP";case a.y6c.SYMBOL_ID:return"SYMBOL_ID";default:throw Error(`Unexpected resolved type: ${e}`)}}(t);if(e===a.Tcd.BOOLEAN)return{dataType:"BOOLEAN",resolvedDataType:d,value:{boolValue:c.value}};if(e===a.Tcd.FLOAT)return{dataType:"FLOAT",resolvedDataType:d,value:{floatValue:c.value}};if(e===a.Tcd.STRING)return{dataType:"STRING",resolvedDataType:d,value:{textValue:c.value}};if(e===a.Tcd.ALIAS){var u=null;if("string"==typeof r){let e=o.K0(r);e&&(u={guid:{sessionID:null==(n=null==e?void 0:e.guid)?void 0:n.sessionID,localID:null==(i=null==e?void 0:e.guid)?void 0:i.localID}})}return{dataType:"ALIAS",resolvedDataType:d,value:{alias:u||c.value}}}if(e===a.Tcd.COLOR)return{dataType:"COLOR",resolvedDataType:d,value:{colorValue:c.value}};if(e===a.Tcd.EXPRESSION)return{dataType:"EXPRESSION",resolvedDataType:d,value:{expressionValue:function e(t){for(var r=t.expressionArguments,n=[],i=0;i<r.length;i++){var o=r[i],l=s(o.type,o.resolvedType,o.value);o.type===a.Tcd.EXPRESSION&&(l.value={expressionValue:e(o.value)}),n.push(l)}return{expressionArguments:n,expressionFunction:a.O0M[t.expressionFunction]}}(r)}};if(e===a.Tcd.MAP)return{dataType:"MAP",resolvedDataType:d,value:{mapValue:c.value}};else if(e===a.Tcd.SYMBOL_ID)return{dataType:"SYMBOL_ID",resolvedDataType:d,value:{symbolIdValue:c.value}}}function c(e){for(var t of e)t&&t.actions&&(t.actions=d(t.actions));return[].concat.apply([],e)}function d(e){var t,r,a=[];for(var l of e){if("SET_VARIABLE"===l.connectionType){if(l.targetVariable){let e=o.K0(l.targetVariable.id);l.targetVariable.id={guid:{sessionID:null==(t=null==e?void 0:e.guid)?void 0:t.sessionID,localID:null==(r=null==e?void 0:e.guid)?void 0:r.localID}}}l.targetVariableData&&(l.targetVariableData=s(l.targetVariableData.type,l.targetVariableData.resolvedType,l.targetVariableData.value))}else if("SET_VARIABLE_MODE"===l.connectionType)(0,n.Up)(l.targetVariableModeID,"targetVariableModeID"),l.targetVariableModeID=(0,i.K0)(l.targetVariableModeID)||void 0;else if("CONDITIONAL"===l.connectionType&&l.conditionalActions){var c=[];for(var u of l.conditionalActions){var p=[],m=null;u&&(u.condition&&(m=s(u.condition.type,u.condition.resolvedType,u.condition.value)),u.actions&&(p=d(u.actions))),c.push({condition:m,actions:p})}l.conditionalActions=c}a.push(l)}return a}},323500:(e,t,r)=>{"use strict";r.d(t,{Sg:()=>c,_c:()=>s,qw:()=>o});var n=r(996572),i=r(540696);function a(e,t){return void 0===e&&void 0===t||void 0!==e&&void 0!==t&&JSON.stringify(e)===JSON.stringify(t)}class o{constructor(e){this.path=e}equals(e){return JSON.stringify(this.path)===JSON.stringify(e)}isConditional(){return 3===this.path.length}}function l(e,t){var r;if(0===t.path.length)return;let n=t.path[0];if(e.length>n){let i=e[n];if(3===t.path.length&&"CONDITIONAL"===i.connectionType&&i.conditionalActions){let e=t.path[1],n=t.path[2];if(i.conditionalActions.length>e){let t=i.conditionalActions[e];if(t.actions&&(null==(r=t.actions)?void 0:r.length)>n)return t.actions[n]}}return i}}function s(e){return void 0!==e.ifStatement&&void 0!==e.action}function c(e,t,r,c,d){if(0===e.length||!c||!d)return{newActions:void 0,newExpandedRows:void 0};let u=s(c);if(u&&(0,i.Er)(c.action)||a(c,l(e,t)))return{newActions:void 0,newExpandedRows:void 0};let p=l(e,t);if(!p)return{newActions:void 0,newExpandedRows:void 0};if(!u&&d===n.Ab.INSIDE&&"CONDITIONAL"===c.connectionType)return function(e,t,r,n){if(!t||!n||"CONDITIONAL"!==n.connectionType||"CONDITIONAL"===t.connectionType)return{newActions:void 0,newExpandedRows:void 0};var i=[],l=[],s=0,c=0;for(let u of e){if(a(n,u)&&"CONDITIONAL"===u.connectionType){if(u.conditionalActions){for(let e of u.conditionalActions)if(e.actions&&void 0!==e.actions.find(e=>e===t))return{newActions:void 0,newExpandedRows:void 0}}if(!u.conditionalActions){var d={actions:[]};u.conditionalActions=[d]}u.conditionalActions[0].actions?u.conditionalActions[0].actions.push(t):u.conditionalActions[0].actions=[t],l.push(new o([c])),c++}!a(t,u)&&(i.push(u),r.find(e=>e.equals([s]))&&l.push(new o([c])),c++),s++}return{newActions:i,newExpandedRows:l}}(e,p,r,c);for(var m,_,h=[],g=[],f=[],E=0,y=0,b=!1,v=0;v<e.length;v++){let i=e[v];var I=a(c,i)&&!b;u&&c.action&&(I=a(c.action,i)&&!b);let l=t.equals([v]);if(!l&&"CONDITIONAL"===i.connectionType){if(i.conditionalActions){for(var w=[],T=0;T<(null==(m=i.conditionalActions)?void 0:m.length);T++){var S={};let e=i.conditionalActions[T];if(e.actions&&e.actions.length>0){for(var C=[],A=0,O=0;O<(null==(_=e.actions)?void 0:_.length);O++){let r=e.actions[O];if(a(c,r)){if("CONDITIONAL"===p.connectionType)return{newActions:void 0,newExpandedRows:void 0};d===n.Ab.AFTER?(C.push(r),A++,C.push(p),g.push(new o([v,T,A+1]))):d===n.Ab.BEFORE&&(C.push(p),g.push(new o([v,T,A])),C.push(r),A++),b=!0}else!t.equals([v,T,O])&&(C.push(r),A++)}S.actions=C,S.condition=e.condition}else if(u&&(c.ifStatement&&0===T||!c.ifStatement&&1===T)){if("CONDITIONAL"===p.connectionType)return{newActions:void 0,newExpandedRows:void 0};S.actions=[p],S.condition=c.ifStatement?e.condition:void 0,b=!0}else S=e;w.push(S)}if(u&&!c.ifStatement&&I&&w.length<=1){var N={actions:c.ifStatement?[]:[p]};w.push(N),b=!0}i.conditionalActions=w}else if(u){var L={actions:c.ifStatement?[p]:[]},N={actions:c.ifStatement?[]:[p]};i.conditionalActions=[L,N],b=!0}}I&&!b?(d===n.Ab.AFTER?(r.find(e=>e.equals([v]))&&f.push(new o([y])),h.push(i),y++,h.push(p),g.push(new o([E+1])),y++):d===n.Ab.BEFORE&&(h.push(p),g.push(new o([E])),y++,r.find(e=>e.equals([v]))&&f.push(new o([y])),h.push(i),y++),b=!0):!l&&(E++,r.find(e=>e.equals([v]))&&f.push(new o([y])),h.push(i),y++)}return{newActions:h,newExpandedRows:f}}},953068:(e,t,r)=>{"use strict";r.d(t,{CQ:()=>S,Ep:()=>B,KI:()=>G,MX:()=>H,OE:()=>L,Wf:()=>A,aU:()=>M,eK:()=>R,mt:()=>x,o1:()=>I,wP:()=>N,wf:()=>P,wn:()=>O,wt:()=>k});var n=r(307824),i=r(120304),a=r(250008),o=r(4580),l=r(843148),s=r(372152),c=r(4596),d=r(323576),u=r(202613),p=r(762820),m=r(540696),_=r(308628),h=r(392992),g=r(514916),f=r(841676),E=r(694752),y=r(642192),b=r(15416),v=r(403660);function I(e,t,r,n,i,a,o,l,s,c){return{behavior:function(e){if(e){if(!(0,m.EH)(e))return m.ee;if("INSTANT_TRANSITION"===e);else if("DISSOLVE"===e)return"DISSOLVE";else if("FADE"===e)return"FADE";else if(e.startsWith("SLIDE_OUT"))return"SLIDE_OUT";else if(e.startsWith("SLIDE"))return"SLIDE";else if(e.startsWith("PUSH"))return"PUSH";else if(e.startsWith("MOVE_OUT"))return"MOVE_OUT";else if(e.startsWith("MOVE"))return"MOVE";else if("SMART_ANIMATE"===e||"MAGIC_MOVE"===e)return"SMART_ANIMATE";else if("SCROLL_ANIMATE"===e)return"SCROLL_ANIMATE"}return"INSTANT"}(e),direction:function(e){if(e&&(0,m.EH)(e)){for(let t of T)if(e.indexOf(t)>=0)return t}return null}(e),easing:function(e){if(e){if(!(0,m.EH)(e))return m.ee;if("IN_CUBIC"===e)return"EASE_IN";if("OUT_CUBIC"===e);else if("INOUT_CUBIC"===e)return"EASE_IN_AND_OUT";else if("LINEAR"===e)return"LINEAR";else if("IN_BACK_CUBIC"===e)return"EASE_IN_BACK";else if("OUT_BACK_CUBIC"===e)return"EASE_OUT_BACK";else if("INOUT_BACK_CUBIC"===e)return"EASE_IN_AND_OUT_BACK";else if("CUSTOM_CUBIC"===e)return"CUSTOM_BEZIER";else if("GENTLE_SPRING"===e)return"GENTLE";else if("SPRING_PRESET_ONE"===e)return"QUICK";else if("SPRING_PRESET_TWO"===e)return"BOUNCY";else if("SPRING_PRESET_THREE"===e)return"SLOW";else if("CUSTOM_SPRING"===e)return"CUSTOM_SPRING"}return"EASE_OUT"}(t),isSpringTransition:S(t),easingFunction:r?(0,m.EH)(r)?r:m.ee:w,duration:n?(0,m.EH)(n)?n:m.ee:.3,shouldSmartAnimate:C(i,!1),preserveScroll:C(a,!1),resetVideoPosition:C(o,!1),openUrlInNewTab:C(l,!1),resetScrollPosition:C(s,!1),resetInteractiveComponents:C(c,!1)}}let w=[0,0,.58,1],T=["LEFT","RIGHT","TOP","BOTTOM"];function S(e){return!!e&&("GENTLE_SPRING"===e||"SPRING_PRESET_ONE"===e||"SPRING_PRESET_TWO"===e||"SPRING_PRESET_THREE"===e||"CUSTOM_SPRING"===e)}function C(e,t){return e?(0,m.EH)(e)?e:m.ee:t}function A(e){return e.length?e.reduce((e,t)=>e&&e!==t.stateManagementVersion||!e&&1===t.stateManagementVersion?m.ee:void 0===e?0:e,e[0].stateManagementVersion):void 0}function O(e){return N(e)||e===m.ee}function N(e){return void 0===e||0===e}function L(e){return 1===e}function R(e,t,r){if(e===m.ee)return!0;let n=(0,m.kB)(t),i=(0,m.kB)(r);return!("CLOSE"===n||"URL"===n||"INTERNAL_NODE"===n&&"SCROLL_TO"===i||"SET_VARIABLE"===n||"CONDITIONAL"===n||"SET_VARIABLE_MODE"===n||"NONE"===n||"UPDATE_MEDIA_RUNTIME"===n)}function P(e){if("BACK"===e.connectionType)return!0;let t=(0,m.kB)(e.transitionNodeID);if(null==t||t===c.WW)return!0;let r=c.MR(t);return!!p.mWV.subtreeContainsVideoPaint(r)}function M(e){if("BACK"===e.connectionType)return!0;let t=(0,m.kB)(e.transitionNodeID);if(null==t||t===c.WW)return!0;let r=c.MR(t);return!!p.gpy.subtreeContainsInteractiveComponent(r)}function k(){let{selectionProperties:e}=(0,o.q)(e=>({selectionProperties:e.mirror.selectionProperties})),t=(0,b.wB)(),r=[],n=[];if(t){let{viableIds:e,disabledIds:i}=p.MXu.getVideoNodesOnSameTlfAsNode(t);r=e,n=i}let i=(null==e?void 0:e.numSelected)===1&&(r.length>0||n.length>0);return(0,_.kz)(e)||i}let D="SEPARATOR",F=D+"_MEDIA",x=e=>e.startsWith(D),U=["NAVIGATE_TO","SWAP_STATE_TO","GO_BACK",D,"SET_VARIABLE","SET_VARIABLE_MODE","CONDITIONAL","SCROLL_TO","OPEN_URL",D,"OPEN_OVERLAY","SWAP_WITH","CLOSE_OVERLAY",F,"UPDATE_MEDIA_PLAY","UPDATE_MEDIA_PAUSE","UPDATE_MEDIA_TOGGLE_PLAY_PAUSE","UPDATE_MEDIA_PLAY_PAUSE_OPTIONS","UPDATE_MEDIA_MUTE_UNMUTE_OPTIONS","UPDATE_MEDIA_SKIP_TO","UPDATE_MEDIA_SKIP_BY_OPTIONS"];function B(e,t){let{hasValidVariableSets:r}=(0,v.M)();return U.filter(n=>!!("SWAP_STATE_TO"!==n||p.i46.isSelectionContainedInStateOrStateInstance())&&(n!==F||!!e)&&"UPDATE_MEDIA_PLAY"!==n&&"UPDATE_MEDIA_PAUSE"!==n&&"UPDATE_MEDIA_TOGGLE_PLAY_PAUSE"!==n&&"UPDATE_MEDIA_PLAY_PAUSE_OPTIONS"!==n&&"UPDATE_MEDIA_MUTE_UNMUTE_OPTIONS"!==n&&"UPDATE_MEDIA_SKIP_TO"!==n&&"UPDATE_MEDIA_SKIP_BY_OPTIONS"!==n&&("CONDITIONAL"!==n||!t)&&("SET_VARIABLE_MODE"!==n||!!r&&!!(0,l.Ub)().prototype_set_mode_action))}function G(e){let t={connectionType:"NONE"};switch(e){case"NAVIGATE_TO":t.connectionType="INTERNAL_NODE",t.navigationType="NAVIGATE";break;case"OPEN_OVERLAY":t.connectionType="INTERNAL_NODE",t.navigationType="OVERLAY";break;case"SCROLL_TO":t.connectionType="INTERNAL_NODE",t.navigationType="SCROLL_TO";break;case"SWAP_WITH":t.connectionType="INTERNAL_NODE",t.navigationType="SWAP";break;case"SWAP_STATE_TO":t.connectionType="INTERNAL_NODE",t.navigationType="SWAP_STATE";break;case"GO_BACK":t.connectionType="BACK";break;case"CLOSE_OVERLAY":t.connectionType="CLOSE";break;case"OPEN_URL":t.connectionType="URL";break;case"SET_VARIABLE":t.connectionType="SET_VARIABLE";break;case"SET_VARIABLE_MODE":t.connectionType="SET_VARIABLE_MODE";break;case"UPDATE_MEDIA_PLAY":t.connectionType="UPDATE_MEDIA_RUNTIME",t.mediaAction="PLAY";break;case"UPDATE_MEDIA_PAUSE":t.connectionType="UPDATE_MEDIA_RUNTIME",t.mediaAction="PAUSE";break;case"UPDATE_MEDIA_PLAY_PAUSE_OPTIONS":case"UPDATE_MEDIA_TOGGLE_PLAY_PAUSE":t.connectionType="UPDATE_MEDIA_RUNTIME",t.mediaAction="TOGGLE_PLAY_PAUSE";break;case"UPDATE_MEDIA_MUTE":t.connectionType="UPDATE_MEDIA_RUNTIME",t.mediaAction="MUTE";break;case"UPDATE_MEDIA_UNMUTE":t.connectionType="UPDATE_MEDIA_RUNTIME",t.mediaAction="UNMUTE";break;case"UPDATE_MEDIA_MUTE_UNMUTE_OPTIONS":case"UPDATE_MEDIA_TOGGLE_MUTE_UNMUTE":t.connectionType="UPDATE_MEDIA_RUNTIME",t.mediaAction="TOGGLE_MUTE_UNMUTE";break;case"UPDATE_MEDIA_SKIP_BY_OPTIONS":case"UPDATE_MEDIA_SKIP_FORWARD":t.connectionType="UPDATE_MEDIA_RUNTIME",t.mediaAction="SKIP_FORWARD";break;case"UPDATE_MEDIA_SKIP_BACKWARD":t.connectionType="UPDATE_MEDIA_RUNTIME",t.mediaAction="SKIP_BACKWARD";break;case"UPDATE_MEDIA_SKIP_TO":t.connectionType="UPDATE_MEDIA_RUNTIME",t.mediaAction="SKIP_TO";break;case"CONDITIONAL":t.connectionType="CONDITIONAL"}return t}function V(e,t){let r=(0,i.OY)();return(0,n.useCallback)(()=>{r(d.A5({type:E.EP,data:{team:t,resource:e,editorType:g.aE.DESIGN,currentPlan:u.O.Plan.STARTER,upsellPlan:u.O.Plan.PRO}})),(0,a.we)("prototype.payment_upsell_modal_shown",{paywallFeature:e})},[r,e,t])}function H(){let{canUseAdvancedPrototyping:e,canMoveFileToProPlus:t,showMoveToProTeam:r}=(0,y.MP)(),n=(0,l.Ub)().prototype_multi_path_paywall&&!e,a=(0,i.w1)(e=>e.openFile),o=(0,i.w1)(e=>a&&a.teamId?e.teams[a.teamId]:null),c=(0,s.m4)(h.WQ),d=V(f.We.PROTOTYPING_MULTIPLE_ACTIONS,o),u=V(f.We.PROTOTYPING_CONDITIONAL_ACTIONS,o),p=V(f.We.PROTOTYPING_VARIABLES,o),m=V(f.We.VIDEOS_IN_PROTOTYPES,o);return{shouldShowAdvancedPrototypingPaywall:n,showAdvancedPrototypinglMultipleActionsModal:t?r:d,showAdvancedPrototypingConditionalActionsModal:t?r:u,showAdvancedPrototypingVariablesModal:t?r:p,showVideosModal:t&&!c?r:m}}},931296:(e,t,r)=>{"use strict";r.d(t,{O0:()=>s,S8:()=>c,Ud:()=>d,YD:()=>a,_4:()=>o,a2:()=>l});var n=r(764644),i=r(778436);function a(e){let t=[],r=i.s.isApple();return r&&e.metaKey&&t.push("\u2318"),!r&&e.metaKey&&t.push(e.ctrlKey?"\u2318":"Ctrl"),e.ctrlKey&&t.push(r?"\u2303":"Ctrl"),e.shiftKey&&t.push(r?"\u21E7":"Shift"),e.altKey&&t.push(r?"\u2325":"Alt"),t.push(d[e.keyCode]||String.fromCharCode(e.keyCode)),t.join(r?"":"+")}function o(e){if(!e)return null;let t={metaKey:!1,ctrlKey:!1,shiftKey:!1,altKey:!1,keyCode:0};for(let r of e)switch(r){case 16:t.shiftKey=!0;break;case 17:t.ctrlKey=!0;break;case 18:t.altKey=!0;break;case 91:case 92:case 93:case 224:t.metaKey=!0;break;default:t.keyCode=r}return t.keyCode?t:null}function l(e){return[e.keyCode,e.shiftKey?16:0,e.ctrlKey?17:0,e.altKey?18:0,e.metaKey?91:0].filter(Boolean)}function s(e,t=!1){var r;if(!e||(null==e?void 0:e.triggerDevice)==="KEYBOARD")return null;let i=u.get(null==e?void 0:e.triggerDevice),a=(null==(r=null==e?void 0:e.keyCodes)?void 0:r[0])??0,o=(null==i?void 0:i.get(a))??function(e){if(e>=n._){let t=Math.floor((e-n._)/2);return`Axis ${t} ${e%2==0?"-":"+"}`}return`Button ${e}`}(a);return o.length<=1&&!t&&(o+=" (Gamepad)"),o}let c=new Set([16,17,18,91,92,93,224]),d={3:"Break",8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"Caps Lock",27:"Esc",32:"Space",33:"Page Up",34:"Page Down",35:"End",36:"Home",37:"\u2190",38:"\u2191",39:"\u2192",40:"\u2193",41:"Select",42:"Print",43:"Execute",44:"Print Screen",45:"Ins",46:"Del",47:"Help",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",58:":",59:"=",60:"<",61:"=",63:"\xdf",64:"@",65:"A",66:"B",67:"C",68:"D",69:"E",70:"F",71:"G",72:"H",73:"I",74:"J",75:"K",76:"L",77:"M",78:"N",79:"O",80:"P",81:"Q",82:"R",83:"S",84:"T",85:"U",86:"V",87:"W",88:"X",89:"Y",90:"Z",95:"Sleep",96:"Numpad 0",97:"Numpad 1",98:"Numpad 2",99:"Numpad 3",100:"Numpad 4",101:"Numpad 5",102:"Numpad 6",103:"Numpad 7",104:"Numpad 8",105:"Numpad 9",106:"*",107:"+",108:".",109:"-",110:".",111:"/",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",124:"F13",125:"F14",126:"F15",127:"F16",128:"F17",129:"F18",130:"F19",131:"F20",132:"F21",133:"F22",134:"F23",135:"F24",144:"Num Lock",145:"Scroll Lock",151:"Airplane Mode",160:"^",161:"!",163:"#",164:"$",166:"Page Backward",167:"Page Forward",168:"Refresh",170:"*",172:"Home",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",193:"?",194:".",219:"[",220:"\\",221:"]",222:"'",223:"`"},u=new Map([["SWITCH_PRO",new Map([[0,"B"],[1,"A"],[2,"Y"],[3,"X"],[4,"L"],[5,"R"],[6,"ZL"],[7,"ZR"],[8,"-"],[9,"+"],[10,"LStick Press"],[11,"RStick Press"],[12,"DPad Up"],[13,"DPad Down"],[14,"DPad Left"],[15,"DPad Right"],[16,"Home"],[17,"Capture"],[1e3,"LStick Left"],[1001,"LStick Right"],[1002,"LStick Up"],[1003,"LStick Down"],[1004,"RStick Left"],[1005,"RStick Right"],[1006,"RStick Up"],[1007,"RStick Down"]])],["PS4",new Map([[0,"X"],[1,"\u25CB"],[2,"\u25A1"],[3,"\u25B3"],[4,"L1"],[5,"R1"],[6,"L2"],[7,"R2"],[8,"Share"],[9,"Options"],[10,"LStick Press"],[11,"RStick Press"],[12,"DPad Up"],[13,"DPad Down"],[14,"DPad Left"],[15,"DPad Right"],[16,"Home"],[17,"Touch Pad"],[1e3,"LStick Left"],[1001,"LStick Right"],[1002,"LStick Up"],[1003,"LStick Down"],[1004,"RStick Left"],[1005,"RStick Right"],[1006,"RStick Up"],[1007,"RStick Down"]])],["XBOX_ONE",new Map([[0,"A"],[1,"B"],[2,"X"],[3,"Y"],[4,"LB"],[5,"RB"],[6,"LT"],[7,"RT"],[8,"View"],[9,"Menu"],[10,"LStick Press"],[11,"RStick Press"],[12,"DPad Up"],[13,"DPad Down"],[14,"DPad Left"],[15,"DPad Right"],[16,"Xbox Button"],[1e3,"LStick Left"],[1001,"LStick Right"],[1002,"LStick Up"],[1003,"LStick Down"],[1004,"RStick Left"],[1005,"RStick Right"],[1006,"RStick Up"],[1007,"RStick Down"]])]])},648704:(e,t,r)=>{"use strict";r.d(t,{If:()=>E,KU:()=>g,cp:()=>y,gB:()=>f});var n=r(120304),i=r(250008),a=r(139776),o=r(886420),l=r(79276),s=r(4596),c=r(585508),d=r(540696),u=r(491776),p=r(570012),m=r(304504);function _(e){var t,r,n,i,a,o;if(!e||!e.interactionType)return"NONE";switch(e.interactionType){case"MOUSE_IN":case"MOUSE_OUT":case"MOUSE_ENTER":case"MOUSE_LEAVE":case"MOUSE_DOWN":case"MOUSE_UP":return e.interactionType+((null==(t=e.interactionMaintained)?void 0:t.toString())??"0");case"ON_KEY_DOWN":return e.interactionType+((null==(r=e.keyTrigger)?void 0:r.triggerDevice)??"")+((null==(i=null==(n=e.keyTrigger)?void 0:n.keyCodes)?void 0:i.sort().toString())??"");case"AFTER_TIMEOUT":return e.interactionType+((null==(a=e.transitionTimeout)?void 0:a.toString())??"0");case"ON_MEDIA_HIT":return e.interactionType+((null==(o=e.mediaHitTime)?void 0:o.toString())??"0");default:return e.interactionType}}function h(e,t){return Object.keys(e).length>1?function(e){let t=[],r=new Map;for(let t of e){let e=_(t.event);r.has(e)||r.set(e,[]);let n=r.get(e);n&&n.push(t)}for(let[e,n]of r)n&&n.length>0&&n[0].event&&t.push({key:e,event:n[0].event,interactions:n});return t}(t):function(e){let t=[];if(e.length>0&&e[0].event)for(let r of e)r.event&&t.push({key:_(r.event),event:r.event,interactions:[r]});return t}(t)}function g(){let e=(0,n.w1)(C);return h((0,n.w1)(u.SJ),e)}function f(){let e=(0,n.w1)(A);return h((0,n.w1)(u.SJ),e)}function E(){let e=(0,n.w1)(C),t=new Set((0,n.w1)(O));return e.some(e=>{let r=e.id&&e.sourceNodeID?l.M({nodeID:e.sourceNodeID,interactionID:e.id}):void 0;return r&&t.has(r)})?m.W.NORMAL:m.W.INHERITED_INTERNAL}function y(e){let t=(0,n.w1)(C),r=(0,n.w1)(A),a=e===m.W.INHERITED_INTERNAL?r:t,o=(0,n.w1)(O),u=new Set(o),_=new Set,h=[];a.forEach((e,t)=>{let r=e.id&&e.sourceNodeID?l.M({nodeID:e.sourceNodeID,interactionID:e.id}):void 0;r&&u.has(r)&&(_.add(t),h.push(e))});let g=h.map(e=>{var t;return null==(t=e.actions)?void 0:t.length}).some(e=>{var t;return e!==(null==(t=h[0].actions)?void 0:t.length)}),E=(0===h.length?[]:h[0].actions||[]).map(e=>({...e}));if(!g)for(var y=0;y<h.length;y++){let e=h[y].actions||[];for(var I=0;I<e.length;I++){let t=E[I],r=e[I];for(let e in r)t[e]?v(r,t,e)||(t[e]=d.ee):t[e]=r[e]}}let N=n=>(function o(l){let s=function(o,s,u){let h=!1,g=[],f=[];for(let e in o)(0,d.Er)(k[e])?(h=!0,g.push(e)):f.push(e);let{changes:E,eventChanges:y,actionChanges:b,interactionChanges:v}=function(e){let t={},r={},n={},i={};for(let a in e)T.has(a)?n[a]=e[a]:w.has(a)?r[a]=e[a]:S.has(a)?i[a]=e[a]:t[a]=e[a];return{changes:t,eventChanges:r,actionChanges:n,interactionChanges:i}}(o),I=[];a.forEach((e,t)=>{if(_.has(t)){let t={...e.event,...y},r=[],i=e.actions||[];for(let e=0;e<i.length;e++)if(e===n){if(l.length>1){let{newPrototypeAction:t}=function(e,t,r){if(t.length>2&&e.conditionalActions){let a=e.conditionalActions,o=e.conditionalActions,l=t[1],s=o[l];var n={condition:s.condition,actions:[]},i=[];let c=s.actions?s.actions:[];for(let e=0;e<c.length;e++)e===t[2]?i.push({...c[e],...r}):i.push({...c[e]});n.actions=i,a[l]=n,e.conditionalActions=a}return{newPrototypeAction:e}}(i[e],l,b);r[e]=t}else r.push({...i[e],...b})}else r.push({...i[e]});n>=r.length&&r.push({...b}),I.push({...e,...v,event:t,actions:r})}else I.push(e)}),(0,i.we)("prototype_update_selection_properties",{mixedUpdate:h,mixedUpdatedProperties:g,nonMixedUpdatedProperties:f,num_connector:_.size,category:e}),e===m.W.NORMAL?I=[...I,...r]:e===m.W.INHERITED_INTERNAL&&(I=[...t,...I]),E.prototypeInteractions=I,c.CA.updateSelectionProperties(E,{shouldCommit:s||p.MO.YES,overwrite:u})};return s.appendActionIndex=function(e){return o([...l,e])},s})([n]),L=e=>e&&null!=e.actions?e.actions[0]:null,R=e=>{let t=L(e);if(null==t)return s.MR(e.sourceNodeID);let r=s.MR(t.transitionNodeID);return r===s.Q9||null===r?s.MR(e.sourceNodeID):r},P=(e,t)=>{var r;if(!e.actions||(null==(r=e.actions)?void 0:r.length)===0||0===t.length)return null;if(!(t.length>2))return e.actions[t[0]];{let r=e.actions.length>t[0]?e.actions[t[0]]:null;if(r&&r.conditionalActions){let e=r.conditionalActions.length>t[1]?r.conditionalActions[t[1]]:null;if(e&&e.actions)return e.actions.length>t[2]?e.actions[t[2]]:null}}},M=(e,t)=>{if(null==t||void 0===t)return s.MR(e.sourceNodeID);let r=s.MR(t.transitionNodeID);return r===s.Q9||null===r?s.MR(e.sourceNodeID):r},k=function(e){let t={},r={};for(let n of e){if(!n||!n.event)continue;for(let e in n.event)t[e]?b(n.event,t,e)||(t[e]=d.ee):t[e]=n.event[e];let e=n.actions&&{...n.actions[0]};if(e)for(let t in e)r[t]?v(e,r,t)||(r[t]=d.ee):r[t]=e[t]}return{...t,...r}}(h),D=function(e){let t={},r=[{}];for(let i of e){if(!i||!i.event)continue;for(let e in i.event)t[e]?b(i.event,t,e)||(t[e]=d.ee):t[e]=i.event[e];if(!i.actions)continue;let e=i.actions;var n=0;for(let t of e){for(let e in t){n>r.length-1&&r.push({});let i=r[n];i[e]?v(t,i,e)||(i[e]=d.ee):i[e]=t[e]}n++}}return{interactionEvent:t,interactionActions:r}}(h),F=new Set(o.map(e=>{let t=l.K(e);return t?s.MR(t.nodeID):""}).filter(e=>""!==e)),x=a.filter(e=>e.sourceNodeID&&F.has(s.MR(e.sourceNodeID)));var U=[...x];let B=f();if(B.length>0)for(var y=0;y<B.length;y++){let e=B[y];for(var G=0;G<e.interactions.length;G++){let t=e.interactions[G];U.find(e=>e.id===t.id)||U.push(t)}}return{makeUpdateSelectionPropertiesForActionIndex:N,updateSelectionProperties:N(0),makeUpdateMultipleDestinationNodesForActionIndex:n=>(function n(i){let o=function(n,o,l){let d={},u=[];a.forEach(e=>{let t=P(e,i),r=M(e,t);if(t&&r&&-1!==Object.keys(n).indexOf(r)&&s.K0(n[r])){let c=s.K0(n[r]);if(c){if(!e.actions)return;var a=[];let r=i[0];if(t){if(i.length>2){let t=e.actions[r],n=i[1];if(t.conditionalActions){let r=t.conditionalActions[n],s=i[2],d=t.conditionalActions;var o={condition:t.conditionalActions[n].condition,actions:[]};if(r.actions){let u={...r.actions[s],transitionNodeID:c};var l=[...r.actions];l.splice(s,1,u),o.actions=l,d[n]=o,t.conditionalActions=d,(a=[...e.actions]).splice(i[0],1,t)}}}else{let t={...e.actions[i[0]],transitionNodeID:c};(a=[...e.actions]).splice(i[0],1,t)}u.push({...e,actions:a})}}}else u.push(e)}),e===m.W.NORMAL?u=[...u,...r]:e===m.W.INHERITED_INTERNAL&&(u=[...t,...u]),d.prototypeInteractions=u,c.CA.updateSelectionProperties(d,{shouldCommit:o,overwrite:l})};return o.appendActionIndex=function(e){return n([...i,e])},o.updateMultipleDestinationNodes=function(e,t,r){return o},o})([n]),updateMultipleDestinationNodes:(n,i,o)=>{let l={},d=[];a.forEach(e=>{let t=R(e);if(t&&-1!==Object.keys(n).indexOf(t)&&s.K0(n[t])){let r=s.K0(n[t]);if(r){if(!e.actions)return;let t=e.actions.findIndex(e=>"INTERNAL_NODE"===e.connectionType&&"SWAP_STATE"===e.navigationType);if(-1!==t){let n={...e.actions[t],transitionNodeID:r},i=[...e.actions];i.splice(t,1,n),d.push({...e,actions:i})}}}else d.push(e)}),e===m.W.NORMAL?d=[...d,...r]:e===m.W.INHERITED_INTERNAL&&(d=[...t,...d]),l.prototypeInteractions=d,c.CA.updateSelectionProperties(l,{shouldCommit:i,overwrite:o})},detailPropsMultipleActions:D,detailProps:k,interactionsOnSelectedNode:x,interactionsOnSelectedNodesAndComponents:U,selectedInteractions:h,mergedActions:E,differentLengthActions:g}}function b(e,t,r){if("keyTrigger"===r){let n=e[r],i=(0,d.uc)(t[r],void 0);return(0,a.MF)((null==n?void 0:n.keyCodes)||[],(null==i?void 0:i.keyCodes)||[])&&(null==n?void 0:n.triggerDevice)===(null==i?void 0:i.triggerDevice)}return e[r]===t[r]}function v(e,t,r){switch(r){case"transitionNodeID":let n=e[r],i=(0,d.uc)(t[r],void 0);return s.yK(n,i);case"targetVariable":let a=e[r],l=(0,d.uc)(t[r],m.o);return(null==a?void 0:a.id)===(null==l?void 0:l.id);case"overlayRelativePosition":let c=e[r],u=(0,d.uc)(t[r],void 0);return(null==c?void 0:c.x)===(null==u?void 0:u.x)&&(null==c?void 0:c.y)===(null==u?void 0:u.y);case"easingType":let p=e[r],_=(0,d.uc)(t[r],void 0);if("CUSTOM_CUBIC"!==p||"CUSTOM_CUBIC"!==_)return p===_;return I((0,d.uc)(e.easingFunction,void 0),(0,d.uc)(t.easingFunction,void 0));case"easingFunction":return I(e[r],(0,d.uc)(t[r],void 0));case"extraScrollOffset":let h=e[r],g=(0,d.uc)(t[r],void 0);return(null==h?void 0:h.x)===(null==g?void 0:g.x)&&(null==h?void 0:h.y)===(null==g?void 0:g.y);case"targetVariableData":case"conditionalActions":return(0,o.QZ)(e[r],t[r]);default:return e[r]===t[r]}}function I(e,t){if(e===t)return!0;if(void 0===e||void 0===t||e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}let w=new Set(["interactionType","interactionMaintained","interactionDuration","keyTrigger","transitionTimeout","mediaHitTime"]),T=new Set(["transitionNodeID","transitionType","transitionDuration","easingType","easingFunction","transitionShouldSmartAnimate","connectionType","connectionURL","targetVariable","targetVariableData","navigationType","transitionPreserveScroll","transitionResetVideoPosition","openUrlInNewTab","extraScrollOffset","mediaAction","mediaSkipToTime","mediaSkipByAmount","conditions","conditionalActions","transitionResetScrollPosition","transitionResetInteractiveComponents","targetVariableSetID","targetVariableModeID","targetVariableSetKey"]),S=new Set(["stateManagementVersion"]);function C(e){return e.mirror.selectionProperties.prototypeInteractions||[]}function A(e){return e.mirror.selectionProperties.prototypeInheritedInternalInteractions||[]}function O(e){return e.mirror.appModel.selectedInteractions}},893984:(e,t,r)=>{"use strict";r.d(t,{q8:()=>q,w3:()=>B});var n=r(307824),i=r(916924),a=r(570464),o=r(130176),l=r(103839),s=r(4596),c=r(560072),d=r(907236),u=r(753432),p=r(144459),m=r(441388),_=r(309812),h=r(585508),g=r(979144),f=r(138884),E=r(540696),y=r(879396),b=r(187044),v=r(474232),I=r(101040),w=r(917076),T=r(119224),S=r(670232),C=r(266252),A=r(532164),O=r(961716),N=r(856108),L=r(699536),R=r(24588),P=r(29224),M=r(533852),k=r(682996),D=r(740836),F=r(405964),x=r(406752),U=r(859584);function B(e){let{videoMediaLoop:t,videoAutoplay:r,videoMuted:n,numVideosSelected:a}=e;return(0,i.Up)(t),(0,i.Up)(r),(0,i.Up)(n),(0,i.Up)(a),{autoplay:r,muted:n,mediaLoop:t,numVideosSelected:a}}function G(){return n.createElement(T.K,{idForTests:"create-connection-hint",title:(0,c.t)("proto.onboarding.creating_a_connection"),userFlag:"dismissed_create_connection_hint",icon_DEPRECATED:F.c,iconFallback:x.c,hintText:(0,c.t)("proto.onboarding.select_a_frame_or_object_hint")})}function V(){return n.createElement(T.K,{idForTests:"delete-connection-hint",title:(0,c.t)("proto.onboarding.removing_a_connection"),userFlag:"dismissed_delete_connection_hint",icon_DEPRECATED:k.c,iconFallback:D.c,hintText:(0,c.t)("proto.onboarding.to_delete_a_connection_click_and_drag_on_either_end")})}function H(){return n.createElement(T.K,{idForTests:"play-button-hint",title:(0,c.t)("proto.onboarding.running_your_prototype"),userFlag:"dismissed_play_button_hint",icon_DEPRECATED:U.c,hintText:(0,c.t)("proto.onboarding.use_the_play_button_hint")})}function W({dismissedCreateConnectionHint:e,dismissedDeleteConnectionHint:t,dismissedPlayButtonHint:r,numTransitionsOnCurrentPage:i}){let a=0===i&&!e,o=0!==i&&!t,l=!r,s=n.useMemo(()=>a?p.O.CREATING_A_CONNECTION:o?p.O.REMOVING_A_CONNECTION:l?p.O.RUNNING_YOUR_PROTOTYPE:null,[a,o,l]);return s?n.createElement(m.kH,{name:"Prototype Onboarding Hint Panel V1",properties:{trackingDescriptor:s}},n.createElement(R.sF,null,n.createElement("div",null,a&&n.createElement(G,null),o&&n.createElement(V,null),l&&n.createElement(H,null)))):null}function K(e){let{bigNudgeAmount:t,smallNudgeAmount:r}=(0,g.i_)(),i=(0,_.Ci)();return n.createElement(Y,{...e,bigNudgeAmount:t,smallNudgeAmount:r,useUI3:i})}class Y extends n.PureComponent{constructor(){super(...arguments),this.onClickShowPrototypeSettings=()=>{this.props.dispatch((0,y.UV)({name:"Show Prototype Settings Clicked"})),f.mo()}}renderOnboardingPanel(){let e=!!this.props.userFlags.dismissed_create_connection_hint,t=!!this.props.userFlags.dismissed_delete_connection_hint,r=!!this.props.userFlags.dismissed_play_button_hint,i=this.props.selectionProperties.numTransitionsOnCurrentPage;return n.createElement(W,{dismissedCreateConnectionHint:e,dismissedDeleteConnectionHint:t,dismissedPlayButtonHint:r,numTransitionsOnCurrentPage:i})}renderPrototypeSettingsPanel(){return n.createElement(o.u,{name:"show_prototype_settings_panel"},n.createElement(R.sF,null,n.createElement(v.W,{onClick:this.onClickShowPrototypeSettings,recordingKey:a.Mx(this.props,"prototypeSettingsButton")},n.createElement(c.Tx,{id:"proto.menu.show_prototype_settings"}))))}renderDevicePanel(){(0,i.kz)((0,E.EH)(this.props.selectionProperties.prototypeDevice),"should not have mixed device selection");let e=(0,y.cp)(this.props.selectionProperties.prototypeDevice);return n.createElement(C.Y,{key:"device-panel",dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown,prototypeBackgroundColor:this.props.selectionProperties.prototypeBackgroundColor,prototypeDevice:e,smallNudgeAmount:this.props.smallNudgeAmount,bigNudgeAmount:this.props.bigNudgeAmount,recordingKey:"devicePanel",useUI3:this.props.useUI3,pickerShown:this.props.pickerShown})}render(){var e,t,r,i;let o=!(0,E.EH)(this.props.selectionProperties.transitionNodeID)||s.U3((0,E.kB)(this.props.selectionProperties.transitionNodeID)),p=(null==(e=this.props.selectionProperties)?void 0:e.numSelected)??!1,m=!!this.props.selectionProperties.numVideosSelected,_=this.props.selectionProperties.isInstanceSelected||this.props.selectionProperties.isInstanceSublayerSelected,g=(0,y.Wi)()||this.props.selectionProperties.prototypeStartingPointsInfo&&this.props.selectionProperties.prototypeStartingPointsInfo.length>0,f=!o&&!(0,y.Wi)(),b=this.props.selectionProperties.isValidPrototypingSourceSelected??!0;if(!p)return n.createElement("div",{className:(0,y.Wi)()?M.u_:void 0},(0,y.Wi)()&&g&&n.createElement(A.c,null),this.renderDevicePanel(),!this.props.useUI3&&n.createElement(S.k,{recordingKey:a.Mx(this.props,"backgroundPanel"),prototypeBackgroundColor:this.props.selectionProperties.prototypeBackgroundColor,pickerShown:this.props.pickerShown,dispatch:this.props.dispatch}),!(0,y.Wi)()&&g&&n.createElement(A.c,null),f&&this.renderOnboardingPanel(),n.createElement(w.Af,{panelName:w.oL.PROTOTYPE}));{let e=n.createElement(P.sB,{dropdownShown:this.props.dropdownShown,scrollDirection:this.props.selectionProperties.scrollDirection??"NONE",showScrollWarning:this.props.selectionProperties.showWontScrollWarning??!1,disableOverflowBehaviorItem:!!_,recordingKey:a.Mx(this.props,"scrollBehaviorPanel"),updateSelectionProperties:h.CA.updateSelectionProperties});return n.createElement("div",{className:(0,y.Wi)()?M.u_:void 0},this.props.selectionProperties.isTopLevelFrameAndValidPrototypeSourceSelected&&n.createElement(N.c,{recordingKey:a.Mx(this.props,"startingPointPanel")}),!(0,y.Wi)()&&b&&n.createElement(O.kv,null),(0,y.Wi)()?(null==(t=this.props.pickerShown)?void 0:t.id)===u.Ez&&n.createElement(I.G0,{title:(0,c.t)("proto.scroll_panel.scroll_behavior_title"),headerSize:"small",initialPosition:new l.Cg(null==(r=this.props.pickerShown)?void 0:r.initialX,null==(i=this.props.pickerShown)?void 0:i.initialY),recordingKey:"scroll-behavior-modal-panel",onClose:()=>{this.props.dispatch(d.U5())},dataTestId:"scroll-behavior-modal-panel"},n.createElement(R.I7,null,e)):e,m&&!(0,y.Wi)()&&n.createElement(L.c,{updateSelectionProperties:h.CA.updateSelectionProperties,dispatch:this.props.dispatch,videoPlayback:B(this.props.selectionProperties)}),!(0,y.Wi)()&&this.renderPrototypeSettingsPanel(),f&&this.renderOnboardingPanel(),n.createElement(w.Af,{panelName:w.oL.PROTOTYPE}))}}}Y.displayName="PrototypePanel";let q=(0,y.Wi)()?K:(0,m.qu)(K,b.i8.PROTOTYPE_PANEL)},403660:(e,t,r)=>{"use strict";r.d(t,{K:()=>M,M:()=>P});var n=r(307824),i=r(120304),a=r(653296),o=r.n(a),l=r(484564),s=r.n(l),c=r(553424),d=r.n(c),u=r(869720),p=r.n(u),m=r(570464),_=r(905412),h=r(675695),g=r(698240),f=r(560072),E=r(540696),y=r(784340),b=r(833492),v=r(235020),I=r(219868),w=r(969060),T=r(24588);let S="prototype_set_variable_mode_controls--dropdownRow--vl5z4",C="missing";class A extends v.M1{}class O extends v.cb{}class N extends v.M1{}class L extends v.cb{}let R={};function P(){let e=(0,y.cP)()||R,t=(0,I.oh)(),r=n.useMemo(()=>{let r=d()(t,(e,t)=>{var r;return{collectionID:e.node_id,collectionName:e.name,key:e.key,modeOptions:(null==(r=e.modes)?void 0:r.map(t=>({modeId:{guid:t.id,collectionKey:e.key},name:t.name,isCompatible:!0})))||[],explicitMode:null,inheritMode:null,fileKey:e.file_key}});return o()({},e,r)},[t,e]),i=n.useMemo(()=>Object.entries(r).map(([e,t])=>({setKey:e,modeData:t,isLocal:void 0===t.fileKey})),[r]),a=n.useMemo(()=>Object.values(i).filter(e=>{var t,r;return(null==(t=e.modeData)?void 0:t.modeOptions)&&(null==(r=e.modeData)?void 0:r.modeOptions.length)>1}),[i]),l=n.useMemo(()=>p()(a.map(e=>e.modeData.fileKey??w.ii)),[a]),c=(0,y.eY)(l),[u,m]=n.useMemo(()=>{let{_local:e,_unknownFile:t,...r}=s()(a,e=>e.isLocal?"_local":e.modeData.fileKey&&void 0===c[e.modeData.fileKey]?"_unknownFile":e.modeData.fileKey),n=Object.entries(r).sort(([e],[t])=>e.localeCompare(t)).map(([e,t])=>[{fileKey:e,fileName:c[e]},...t]).flat(1);return t&&(n.push({fileKey:w.ii,fileName:(0,f.t)("variables.mode_properties_panel.used_variables.subheading")}),n.push(...t)),[e??[],n]},[c,a]),_=(0,I._E)(),g=n.useCallback(e=>{let t=_[(0,h.s8)(e)],r=a.find(t=>t.setKey===e);if(r)return(e=>{var r;if(e)return void 0===t&&(t=e.modeData.modeOptions[0].modeId.guid),null==(r=e.modeData.modeOptions.find(e=>e.modeId.guid!==t&&(t=e.modeId.guid,!0)))?void 0:r.modeId.guid})(r)},[_,a]),E=a.length>0?a[0]:void 0,b=null==E?void 0:E.setKey,v=null==E?void 0:E.modeData.collectionID,T=n.useMemo(()=>b&&g(b),[b,g]),S=a.length>0;return{localVariableSets:u,allVariableSets:a,firstVariableSet:E,firstVariableSetID:v,firstVariableSetMode:T,hasValidVariableSets:S,getDefaultNewModeForVariableCollectionKey:g,subscribedVariableSetsWithSections:m}}function M({targetVariableSetID:e,targetVariableModeID:t,updateSelectionProperties:r,recordingKey:i}){let{getDefaultNewModeForVariableCollectionKey:a,allVariableSets:o}=P(),[l,s]=n.useMemo(()=>{let t=(0,E.Er)(e)||void 0===e?e:function(e,t){let r=e.find(e=>e.modeData.collectionID===t);if(r)return r;let n=_.qk.toRefIfSubscribed(t);if(n)return e.find(e=>e.setKey===n.key)}(o,e)||C,r=(()=>{if(!(0,E.Er)(t)&&void 0!==t&&t!==C)return t})();return[t,r]},[e,o]);return n.createElement("div",{className:g.cx.relative.$},n.createElement(T.WA,{recordingKey:m.Mx(i,"selectTargetVariableSet")},n.createElement(F,{selectedVariableSet:l,onChange:e=>{r({targetVariableSetID:e.modeData.collectionID,targetVariableModeID:a(e.setKey)})}})),s&&n.createElement(T.WA,{recordingKey:m.Mx(i,"selectTargetVariableMode")},n.createElement(B,{selectedVariableSetKey:s.setKey,selectedVariableModeID:t,onChange:e=>{r({targetVariableModeID:e})}})))}let k={format:e=>void 0===e?(0,f.t)("proto.prototype_panel.edit_set_mode.none"):e===C?(0,f.t)("proto.prototype_panel.edit_set_mode.missing_collection"):e.modeData.collectionName,isEqual:(e,t)=>void 0!==e&&void 0!==t&&e!==C&&t!==C&&(e.setKey===t.setKey||e.modeData.collectionID===t.modeData.collectionID)};function D(e){return"fileKey"in e?[n.createElement(v.Wy,{key:e.fileKey+"divider"}),n.createElement(O,{isHeader:!0,key:e.fileKey+"header",formattedValue:e.fileName})]:n.createElement(O,{key:e.setKey,value:e})}function F({selectedVariableSet:e,onChange:t}){let r=(0,i.OY)(),a=(0,b.g)(),{localVariableSets:o,allVariableSets:l,subscribedVariableSetsWithSections:s}=P();return n.createElement(A,{id:"set-variable-mode--select-variable-set",className:S,property:e,formatter:k,dispatch:r,dropdownShown:a,onChange:e=>{(0,E.Er)(e)||void 0===e||e===C||t(e)}},o.length>0&&l.length>0&&n.createElement(O,{isHeader:!0,formattedValue:(0,f.t)("variables.mode_properties_panel.local_variables.subheading")}),o.map(D),s.map(D))}let x={format:e=>void 0===e?(0,f.t)("proto.prototype_panel.edit_set_mode.none"):e===C?(0,f.t)("proto.prototype_panel.edit_set_mode.missing_mode"):(null==e?void 0:e.name)??""};function U(e){return n.createElement(L,{key:e.modeId.guid,value:e})}function B({selectedVariableSetKey:e,selectedVariableModeID:t,onChange:r}){let a=(0,i.OY)(),o=(0,b.g)(),{allVariableSets:l}=P(),s=n.useMemo(()=>{var t;return null==(t=l.find(t=>t.setKey===e))?void 0:t.modeData.modeOptions},[e,l]),c=n.useMemo(()=>(0,E.Er)(t)||void 0===t?t:(null==s?void 0:s.find(e=>e.modeId.guid===t))||C,[t,s]);return n.createElement(N,{id:"set-variable-mode--select-variable-mode",className:S,property:c,formatter:x,dispatch:a,dropdownShown:o,onChange:e=>{!e||(0,E.Er)(e)||e===C||r(e.modeId.guid)}},s&&(null==s?void 0:s.map(U)))}},905084:(e,t,r)=>{"use strict";let n;r.d(t,{Ib:()=>o,S0:()=>n,xy:()=>s});var i=r(4596),a=r(953068);let o=new class{constructor(){this.upgradedInteractions=new Set}getGUIDString(e){return i.MR(e)??i.MR(i.WW)}recordInteractionUpgraded(e,t){return this.upgradedInteractions.add(`${this.getGUIDString(e)},${this.getGUIDString(t)}`)}hasInteractionBeenUpgraded(e,t){return this.upgradedInteractions.has(`${this.getGUIDString(e)},${this.getGUIDString(t)}`)}haveInteractionsBeenUpgraded(e){for(let t of e)if(!this.hasInteractionBeenUpgraded(t.id,t.sourceNodeID))return!1;return!0}haveAnyInteractionsBeenUpgraded(e){for(let t of e)if((0,a.OE)(t.stateManagementVersion)&&this.hasInteractionBeenUpgraded(t.id,t.sourceNodeID))return!0;return!1}clearData(){this.upgradedInteractions=new Set}};class l{recordInteractionUpgraded(e,t){o.recordInteractionUpgraded(i.K0(e),i.K0(t))}}function s(){n=new l}},24588:(e,t,r)=>{"use strict";r.d(t,{CQ:()=>A,CS:()=>E,I7:()=>h,KM:()=>m.KM,Qn:()=>m.Qn,WA:()=>f,gf:()=>T,iM:()=>S,ol:()=>b,qR:()=>v,sF:()=>g,w1:()=>y,wP:()=>m.wP,yg:()=>w,yk:()=>C});var n=r(307824),i=r(570464),a=r(853688),o=r(577824),l=r(537096),s=r(713620),c=r(142548),d=r(36040),u=r(938724),p=r(672964),m=r(241645);let _=(e,t)=>({...e,className:`${t} ${e.className||""}`});function h(e){return n.createElement(a.g9,{..._(e,u.kD),"data-non-interactive":!0})}class g extends i.UR{render(){return n.createElement(a.g9,{..._(this.props,u.Eb),"data-non-interactive":!0})}}g.displayName="Panel";class f extends i.UR{render(){let e;let{selected:t,selectedSecondary:r,heightMultiplier:i,...o}=this.props,l=r?u.Ax:t?u.oD:null;return e=2===i?u.QK:1.5===i?u.It:u.Mj,l&&(e+=" "+l),n.createElement(a.g9,{..._(o,e),"data-non-interactive":!0})}}function E(e){return n.createElement(a.g9,{..._(e,u.O8),"data-non-interactive":!0})}function y(e){let{faded:t,extended:r,innerRef:i,isPanelBodyCollapsedAtom:o,...l}=e,s=u.PI;e.faded&&(s=u.uS),e.extended&&(s=u.k3),o&&(s=s+" "+u.as);let c=_(l,s);return n.createElement(a.g9,{...c,forwardedRef:i},!e.doNotReserveSpaceForChevron&&n.createElement(d.Qy,{isPanelBodyCollapsedAtom:o||null}),e.children)}function b(e){let t=_(e,u.Qr);return delete t.title,delete t.dataTooltipContentKey,delete t.dataTooltipTimeoutDelay,n.createElement(a.g9,{...e,"data-non-interactive":!0},n.createElement("div",{className:u.G8},e.title),n.createElement(l.A,{className:u.EN,svg:p.c,"data-tooltip-type":c.wL.SPECIAL,"data-tooltip":e.dataTooltipContentKey,"data-tooltip-timeout-delay":e.dataTooltipTimeoutDelay}))}function v({...e}){return n.createElement("div",{..._(e,u.M$),dir:"auto"})}function I(e){let t=u.MT;return e.noLeftBorder&&(t+=` ${u.A7}`),e.squareRightBorder&&(t+=` ${u._k}`),e.noBorderOnFocus||(t+=` ${u._Z}`),e.noPlaceholderLine&&(t+=` ${u.ym}`),t}f.displayName="Row";let w=n.forwardRef(function(e,t){let r=I(e),i=_(e,r);return delete i.noLeftBorder,delete i.squareRightBorder,delete i.noBorderOnFocus,delete i.noPlaceholderLine,n.createElement(a.aw,{autoComplete:"new-password",spellCheck:!1,forwardedRef:t,...i})});class T extends n.PureComponent{constructor(){super(...arguments),this.onKeyDown=e=>{!(0,s.eI)(e,s.fh.NO)&&this.props.onKeyDown&&this.props.onKeyDown(e)}}render(){let e=I(this.props),t=_(this.props,e);return delete t.noLeftBorder,delete t.squareRightBorder,delete t.noBorderOnFocus,delete t.noPlaceholderLine,t.onKeyDown=this.onKeyDown,n.createElement(o.y,{"data-testid":this.props.dataTestId,type:"text",spellCheck:!1,...t,ref:t.innerRef})}}function S({disabled:e,...t}){return n.createElement("label",{..._(t,e?u.OC:u.A5),dir:"auto"})}function C(e){return n.createElement("label",{..._(e,u.OC)})}T.displayName="TextInput";let A=n.forwardRef((e,t)=>{let r=I(e)+" "+u.If,{noLeftBorder:i,squareRightBorder:o,...l}=e;return n.createElement(a.g9,{..._(l,r),forwardedRef:t,tabIndex:0},l.children)})},958895:(e,t,r)=>{"use strict";r.d(t,{C:()=>d,S:()=>u});var n=r(307824),i=r(515724),a=r(125504),o=r.n(a),l=r(628164),s=r(657596),c=r(368299);let d=(0,n.forwardRef)(function({size:e,defaultSize:t,animation:r,disableResizing:i,onResize:a,side:o,breakpoints:s,children:c,...d},u){let m=(0,n.useRef)(0),_=(0,n.useRef)(0),h="left"===o?-1:1,g={};if(s){let t=Object.entries(s).sort((e,t)=>t[1]-e[1]).find(([,t])=>e>=t);t&&(g[t[0]]="")}let f=n.createElement(n.Fragment,null,n.createElement(p,{side:o,disabled:i,onDragStart:()=>{_.current=e,m.current||(m.current=e)},onDrag:e=>{a(_.current+e*h)},onDoubleClick:()=>{a(t??m.current)},verticalDirection:"bottom"===o}),c),E="left"===o||"right"===o?e:void 0,y="bottom"===o?e:void 0;return r?n.createElement(l.q.div,{style:{width:E,height:y},...d,...g,ref:u,...r},f):n.createElement("div",{style:{width:E,height:y},...d,...g,ref:u},f)}),u=(0,n.forwardRef)(function(e,t){let{version:r}=(0,i.qG)(),{size:a,defaultSize:o,animation:l,disableResizing:s,onResize:c,side:u,breakpoints:p,children:m,..._}=e;return"ui2"===r?n.createElement("div",{..._,ref:t},m):n.createElement(d,{...e,ref:t})});function p({side:e,onDoubleClick:t,disabled:r,...i}){let a=(0,s.I)(i);return r?null:n.createElement("button",{...a,className:o()(i.verticalDirection?c.verticalHandle:c.horizontalHandle,c[e]),onDoubleClick:t})}},235020:(e,t,r)=>{"use strict";r.d(t,{AW:()=>B,M1:()=>$,Wy:()=>X,_8:()=>q,cb:()=>z,ot:()=>Q});var n=r(307824),i=r(602216),a=r(54688),o=r(125504),l=r.n(o),s=r(250008),c=r(972920),d=r(768184),u=r(843148),p=r(87975),m=r(962148),_=r(888932),h=r(570464),g=r(234284),f=r(180976),E=r(418084),y=r(204838),b=r(204792),v=r(537096),I=r(968240),w=r(588900),T=r(330716),S=r(560072),C=r(403132),A=r(585508),O=r(713620),N=r(540696),L=r(907152),R=r(570012),P=r(142548),M=r(747588),k=r(137036),D=r(851540),F=r(193288),x=r(415008),U=r(284548);let{OverridesProvider:B,OverridableComponent:G}=(0,M.q)(),V=b.g.DropdownWithScrim,H=b.g.Separator;function W(){return(0,S.t)("design_systems.instance_panel.mixed")}function K(e){return n.createElement("div",{className:e.providedClassName},n.createElement(I.e,{svg:U.c},n.createElement(a.o,null)))}function Y(e){let t;t=e.dropdownOverride?e.dropdownOverride:(0,N.EH)(e.property)?e.formatter.format(e.property):e.customMixedText||W();let r=l()({[k.Yh]:!e.isDisabled,[k.uI]:e.isDisabled,[k.gL]:e.svg||e.icon,[k.yy]:"right"===e.textAlign});return n.createElement("div",{className:l()(r,e.inputClassName),style:{width:e.inputWidth},onMouseDown:e.isDisabled?void 0:e.onMouseDown,onClick:e.isDisabled?void 0:e.onClick,"data-testid":e.dataTestId,"aria-hidden":"true"},e.icon&&!e.svg&&n.createElement("div",{className:`${k.Y7} ${e.svgClassName||""}`},e.icon),e.svg&&!e.icon&&n.createElement("div",{className:`${k.Y7} ${e.svgClassName||""}`},n.createElement(I.e,{fix_me_removeThisPropAndProvideUI3Icon:!0,svg:e.svg,fallbackSvg:e.fallbackSvg},e.ui3Icon)),"middle"===e.truncation?n.createElement("span",{className:k.EB},n.createElement(T.E,{text:t})):n.createElement("span",{className:l()(k.o9,{[k.wZ]:"none"!==e.truncation,[k.IJ]:e.fill})},t),e.rightIcon,n.createElement(G,{originalComponent:K,providedClassName:`${k.KY} ${e.chevronClassName||""}`,overrideKey:"chevron"}))}let q=n.forwardRef(function({containerClassName:e,...t},r){return n.createElement("div",{className:l()(k.uQ,e),ref:r},n.createElement(Y,{...t}))}),j=[p.as.UP_ARROW,p.as.DOWN_ARROW,p.as.SPACE,p.as.ENTER];class $ extends h.UR{constructor(e){super(e),this.keyRecycler=new m.Y,this.updateWindowHeight=()=>{this.setState({windowHeight:window.innerHeight})},this.containerRect=null,this.containerRef=e=>{this.container=e,this.container&&(this.containerRect=this.container.getBoundingClientRect())},this.hiddenInputRef=e=>{var t,r;"always"!==this.props.preventHiddenInput&&(null==(r=(t=this.props).onSetKeyboardNavigationElement)||r.call(t,e),this.hiddenInput=e,e&&this.props.autoFocus&&e.focus())},this.focus=()=>{var e;null==(e=this.hiddenInput)||e.focus()},this.dropdownListboxId=(0,E.c)(),this.stopPropagation=e=>e.stopPropagation(),this.isDropdownShown=e=>{var t;return(null==(t=e.dropdownShown)?void 0:t.type)===this.props.id},this.dropdownShown=()=>this.isDropdownShown(this.props),this.formattedSelectedValue=()=>{let e=(0,u.Ub)().sc_team_experience&&this.props.focusedOption||this.props.property;return(0,N.EH)(e)?this.props.formatter.format(e):this.props.customMixedText||W()},this.optionHeightByIndex={},this.allowSelectionTask=new d.E,this.cacheOptionPositions=e=>{let t=8;this.childPositionByIndex=Object.create(null),this.optionIndexByFormattedValue=Object.create(null),this.optionValueByIndex=Object.create(null),(e.property===N.ee||this.state.previousPreviewValue===N.ee)&&(t+=24,0!==n.Children.count(this.props.children)&&(t+=17));let r=0;n.Children.forEach(e.children,n=>{if(null==n)return null;if("Option"===n.type.__CLASS_NAME__){let i=n.props.value??null,a=null==i?"":e.formatter.format(i);this.optionIndexByFormattedValue[a]=r,this.optionValueByIndex[r]=i,this.optionHeightByIndex[r]=n.props.height||24,this.childPositionByIndex[r]=t,t+=n.props.height||24,r++}else this.childPositionByIndex[r]=t,t+=17,r++}),t+=8,this.dropdownContentHeight=t},this.onMouseDown=h.yw(this,"mousedown",e=>{if(this.props.onMouseDown||e.stopPropagation(),this.dropdownShown()){this.hideDropdown();return}(0,g.g9)()?this.setState({allowSelection:!0}):(this.setState({allowSelection:!1}),this.allowSelectionTask.reset(),this.allowSelectionTask.scheduleOnce(()=>{this.setState({allowSelection:!0})},250)),this.showDropdown(),this.setState({wasOpenedOnMouseClick:!0})}),this.showDropdown=()=>{this.resetUserInput(),this.startValue=this.props.property,(this.props.willShowDropdown?this.props.willShowDropdown():Promise.resolve()).then(()=>{var e,t,r,n;this.resizeDropdown(),this.props.onShowDropdownOverride?this.props.onShowDropdownOverride():this.props.dispatch(C.Qn({type:this.props.id})),null!=this.state.focusedOptionValue&&(null==(t=(e=this.props).onOptionFocus)||t.call(e,this.state.focusedOptionValue,"option")),null==(n=(r=this.props).onShowDropdown)||n.call(r)})},this.hideDropdown=(e=!0,t=!1)=>{this.setState({currentDropdownAccepted:e}),e||this.clearPreview(),this.props.onHideDropdownOverride?this.props.onHideDropdownOverride():this.props.dispatch(C.yi()),this.hiddenInput&&!0===this.state.wasOpenedOnMouseClick&&(this.setState({wasOpenedOnMouseClick:!1}),this.hiddenInput.blur()),this.props.onDropdownHidden&&this.props.onDropdownHidden(t),this.startValue=void 0},this.resizeDropdown=()=>{let e;if(this.hiddenInput&&null==this.props.preventHiddenInput&&this.hiddenInput.focus(),this.container&&(this.containerRect=this.container.getBoundingClientRect()),!this.containerRect)return;let t=this.positionForFormattedValue(this.formattedSelectedValue()),r=-t,i=this.dropdownContentHeight,a=()=>r+i,o=(0,N.kB)(this.props.property),l=null!==o?this.props.formatter.format(o):this.props.customMixedText||W(),s=()=>this.containerRect.top+a(),c=null!=this.props.minTop?this.props.minTop:this.getDropdownMarginTop(),d=this.getDropdownMarginBottom(),u=window.innerHeight-d;if(this.props.neverConstrain||_.cp.windows){let e=0;if(s()>u){let t=s()-u;r-=t,e-=t}if(this.containerRect.top+r<c){let t=c-(this.containerRect.top+r);r+=t,e+=t}if(s()>u){let e=s()-u;i-=e}this.shouldConstrainTop=!1,this.shouldConstrainBottom=!1,this.setState({topPositionOffsetForNeverConstrain:e})}else{if(this.props.targetDomNode&&this.props.targetDomNode!==document.body)throw Error("If you are parenting your <Select /> into a node that is NOT document.body via the targetDomNode prop, please ensure neverConstrain is also set to true. There are known issues with scrolling positioning with a specified targetDomNode.");if(this.shouldConstrainTop=this.containerRect.top+r<c,this.shouldConstrainTop){let a=this.containerRect.top-c;r=-a,i=this.dropdownContentHeight-(t-a),e=this.scrollTopForValueOverInput(r,l);let o=n.Children.toArray(this.props.children);for(let t=o.length-2;t>=0;t--){let n=this.childPositionByIndex[t]-e;if(8>=Math.abs(n)){if("SelectDivider"===o[t].type.__CLASS_NAME__||t===this.optionIndexByFormattedValue[l])break;let e=n;e+=(this.childPositionByIndex[t+1]-this.childPositionByIndex[t])/2,r+=e,i-=e;break}}}if(this.shouldConstrainBottom=s()>u,this.shouldConstrainBottom){i=window.innerHeight-(this.containerRect.top+r)-8,e=this.scrollTopForValueOverInput(r,l);let t=n.Children.toArray(this.props.children);for(let r=1;r<t.length;r++){let n=this.childPositionByIndex[r]-e;if(8>=Math.abs(n-i)){if("SelectDivider"===t[r-1].type.__CLASS_NAME__||r===this.optionIndexByFormattedValue[l])break;i+=n-i,i-=(this.childPositionByIndex[r]-this.childPositionByIndex[r-1])/2;break}}}}e=this.scrollTopForValueOverInput(r,l);let p=this.containerRect.top+r,m="function"==typeof this.props.dropdownAlignment?this.props.dropdownAlignment(this.containerRect.left):"left"===this.props.dropdownAlignment?this.containerRect.left:void 0;this.props.targetDomNode&&(p-=this.props.targetDomNode.getBoundingClientRect().top,m&&(m-=this.props.targetDomNode.getBoundingClientRect().left)),this.setState({focusedOptionValue:(0,N.kB)(this.props.property),dropdownScreenTop:p,dropdownScreenLeft:m,dropdownScreenRight:"right"===this.props.dropdownAlignment?window.innerWidth-this.containerRect.right:void 0,dropdownWidth:this.containerRect.width,dropdownHeight:i,dropdownScrollTop:e})},this.ignoreMouseMove=!1,this.onOptionMouseMove=(e,t,r)=>{this.ignoreMouseMove||(this.updateFocusedValue(e,t),this.resetUserInput()),this.ignoreMouseMove=!1},this.onOptionMouseUp=(e,t)=>{this.state.allowSelection&&(this.submitValue(e),this.hiddenInput&&this.hiddenInput.blur())},this.submitValue=e=>{this.clearPreview(),this.props.onChange(e,this.startValue!==e?R.MO.YES_FORCE_TRACKING_AS_EDIT:void 0),this.hideDropdown(!0)},this.clearPreview=()=>{var e,t;void 0!==this.state.previousPreviewValue&&(A.CA.triggerActionInUserEditScope("undo"),this.setState({previousPreviewValue:void 0}),null==(t=(e=this.props).onPreview)||t.call(e,void 0))},this.updatePreview=(0,c.C)(e=>{var t,r,n;if(this.props.enablePreview){let i=L.TSSceneGraph.instance.getCurrentPage(),a=0;if(i&&(a=i.directlySelectedNodes.length??0),a>250||null===e){this.clearPreview();return}if(e&&(null==(t=this.props.optionsWithDisabledPreviews)?void 0:t.includes(e)))return;let o=void 0===this.state.previousPreviewValue;if(o){if(this.props.property===e)return;this.setState({previousPreviewValue:this.props.property}),null==(n=(r=this.props).onPreview)||n.call(r,this.props.property)}let l=performance.now();this.props.onChange(e,o?R.MO.YES_WITHOUT_TRACKING_AS_EDIT:R.MO.NO),(0,u.Ub)().ee_canvas_previews_logging&&(0,s.we)("on_canvas_preview",{timeMs:performance.now()-l,directlySelectedNodesCount:a,property:this.props.id},{batchRequest:!0})}},50),this.updateFocusedValue=(e,t)=>{var r,n;e===this.state.focusedOptionValue||(this.setState({focusedOptionValue:e}),null==(n=(r=this.props).onOptionFocus)||n.call(r,e??void 0,"option"),t||this.updatePreview(e))},this.dropdownRef=e=>{e&&(this.dropdownEl=i.findDOMNode(e),this.scrollValueOverInput(this.formattedSelectedValue()))},this.maxDropdownHeight=()=>{let e=null!=this.props.minTop?this.props.minTop:this.getDropdownMarginTop();return window.innerHeight-e-8},this.onScroll=(e,t,r)=>{let{dropdownScrollTop:n,dropdownHeight:i}=this.state;if(void 0===n||void 0===i)return;t&&r&&(this.dropdownEl.scrollTop+=r,this.dropdownEl.scrollTop=Math.max(0,this.dropdownEl.scrollTop));let a=this.dropdownEl.scrollTop,o=a-n;if(this.setState({dropdownScrollTop:a}),this.dropdownContentHeight>i&&(this.shouldConstrainTop&&o<0||this.shouldConstrainBottom&&o>0)){let e=null!=this.props.minTop?this.props.minTop:this.getDropdownMarginTop(),t=Math.min(i+Math.abs(o),this.dropdownContentHeight,this.maxDropdownHeight());if(t-i>0){let r=this.state.dropdownScreenTop;o>0&&void 0!==r&&(r=Math.max(r-o,e),a-=o,this.dropdownEl.scrollTop=a,this.setState({dropdownScrollTop:a})),this.setState({dropdownScreenTop:r,dropdownHeight:t})}}this.ignoreMouseMove=!0},this.onKeyDown=h.Yh(this,"keydown",e=>{var t;if((0,O.eI)(e))return h.Cy;if(this.dropdownShown()){let r=null==this.state.focusedOptionValue?"":this.props.formatter.format(this.state.focusedOptionValue),i=this.optionIndexByFormattedValue[r],a=!1;switch(e.keyCode){case p.as.UP_ARROW:case p.as.TAB:case p.as.DOWN_ARROW:{if(this.props.disableSelectFocus&&e.metaKey)break;let r=i;if(void 0!==i){let i;let o=n.Children.toArray(this.props.children),l=e.keyCode===p.as.UP_ARROW?-1:1;do r+=l,(i=o[r])&&(a=!!i.props.disabled);while(i&&"SelectDivider"===i.type.__CLASS_NAME__||(null==(t=null==i?void 0:i.props)?void 0:t.isHeader))}r=r??0;let o=this.optionValueByIndex[r];null!=o&&(this.updateFocusedValue(o,a),this.scrollValueIntoView(this.props.formatter.format(o)),this.ignoreMouseMove=!0,this.resetUserInput()),"until_keydown"===this.props.preventHiddenInput&&this.focus(),e.stopPropagation(),e.preventDefault();break}case p.as.ENTER:null!=this.state.focusedOptionValue&&this.submitValue(this.state.focusedOptionValue);break;case p.as.ESCAPE:this.hiddenInput&&this.hideDropdown(!1,!0);break;default:this.addInputChar(e.keyCode)}}else e.keyCode===p.as.ESCAPE?this.hiddenInput&&this.hiddenInput.blur():(this.props.openOnKeyPressed?this.props.openOnKeyPressed.includes(e.keyCode):j.includes(e.keyCode))?(e.preventDefault(),this.showDropdown(),this.setState({allowSelection:!0})):this.addInputChar(e.keyCode)}),this.onFocus=h.CW(this,"focus",()=>{var e,t;let r=(0,N.kB)(this.props.property);null!=r&&(null==(t=(e=this.props).onOptionFocus)||t.call(e,r,"input"))}),this.onBlur=h.CW(this,"blur",()=>{var e,t;this.dropdownShown()||null==(t=(e=this.props).onOptionFocus)||t.call(e,void 0,"input")}),this.userInput="",this.lastInputAt=0,this.addInputChar=e=>{if(this.props.disableTyping)return;let t=String.fromCharCode(e).toLowerCase(),r=Date.now();this.userInput=r-this.lastInputAt<1500?this.userInput+t:t,this.lastInputAt=r;let i=null,a=!1;if(n.Children.forEach(this.props.children,e=>{null!=e&&null===i&&null!=e.props.value&&this.props.formatter.format(e.props.value).toLowerCase().startsWith(this.userInput)&&(i=e.props.value,a=!!e.props.disabled)}),null!==i){if(this.dropdownShown()){this.updateFocusedValue(i,a);let e=this.props.formatter.format(i);this.scrollValueOverInput(e)}else this.submitValue(i)}},this.isDisabled=()=>this.props.disabled||0===n.Children.count(this.props.children),this.cloneChildForRender=(e,t,r)=>{var i,a,o;let l=(e,t)=>null!=e&&null!=t&&this.props.formatter.isEqual?this.props.formatter.isEqual(e,t):e==t;if(null==e)return null;if(null==e.props.value){let r=this.childPositionByIndex[t];return n.cloneElement(e,{style:{...e.props.style||{},top:r}})}if(void 0===this.state.dropdownHeight||void 0===this.state.dropdownScrollTop)return this.keyRecycler.freeKeyForId(e.key),null;let s=Math.max(this.state.dropdownHeight,72),c=this.state.dropdownScrollTop-s,d=this.state.dropdownScrollTop+this.state.dropdownHeight+s,u=this.childPositionByIndex[t],p=u+(e.props.height||24);if(!(0,g.g9)()&&(p<c||u>d))return this.keyRecycler.freeKeyForId(e.key),null;let m=this.keyRecycler.getKeyForId(e.key),_=this.state.previousPreviewValue??this.props.property,f=l((0,N.kB)(_),e.props.value);null==(i=this.props.multipleSelections)||i.forEach(t=>{!f&&l((0,N.kB)(t),e.props.value||null)&&(f=!0)});let E=null==(o=(a=this.props.formatter).formatExtended)?void 0:o.call(a,e.props.value),y=(null==E?void 0:E.text)??this.props.formatter.format(e.props.value),{svg:b,fallbackSvg:v}=E||{},I=(0,N.ED)(e.props.value)?"auto":e.props.value;return n.cloneElement(e,{key:m,selected:f,formattedValue:y,svg:b,fallbackSvg:v,focused:l(this.state.focusedOptionValue,e.props.value),onMouseUp:e.props.disabled||!this.state.allowSelection?null:this.onOptionMouseUp.bind(this,e.props.value),onMouseMove:this.onOptionMouseMove.bind(this,e.props.value,e.props.disabled),id:`${r}-${t}`,style:{...e.props.style||{},top:u},recordingKey:e.props.recordingKey||h.Mx(this.props,`${I}`)})},this.state={focusedOptionValue:(0,N.kB)(this.props.property),showTopScrollIndicator:!1,showBottomScrollIndicator:!1,windowHeight:window.innerHeight,currentDropdownAccepted:!1,wasOpenedOnMouseClick:!1},this.cacheOptionPositions(e)}componentDidMount(){super.componentDidMount(),window.addEventListener("resize",this.updateWindowHeight)}componentWillUnmount(){var e,t;super.componentWillUnmount(),this.allowSelectionTask.reset(),window.removeEventListener("resize",this.updateWindowHeight),this.dropdownShown()&&(null==(t=(e=this.props).onOptionFocus)||t.call(e,void 0,"input"),this.clearPreview())}UNSAFE_componentWillUpdate(e){this.cacheOptionPositions(e)}componentDidUpdate(e,t){var r,i;if(super.componentDidUpdate(this.props,this.state),this.hiddenInput&&null==this.props.preventHiddenInput&&(this.dropdownShown()&&!this.state.currentDropdownAccepted?this.hiddenInput.focus():this.props.blurOnChange&&this.hiddenInput.blur()),this.isDropdownShown(e)&&!this.dropdownShown()){if(this.state.currentDropdownAccepted?this.setState({currentDropdownAccepted:!1}):null==(i=(r=this.props).onCancel)||i.call(r),this.props.onOptionFocus){if(document.activeElement!==this.hiddenInput)this.props.onOptionFocus(void 0,"input");else{let e=(0,N.kB)(this.props.property);null!=e&&this.props.onOptionFocus(e,"input")}}this.setState({topPositionOffsetForNeverConstrain:void 0}),this.clearPreview()}if(this.dropdownShown()&&(this.isDropdownShown(e)||void 0!==this.state.dropdownHeight&&void 0!==this.state.dropdownScrollTop?(n.Children.count(this.props.children)!==n.Children.count(e.children)||t.windowHeight!==this.state.windowHeight)&&this.resizeDropdown():(this.resizeDropdown(),this.props.openBelowTarget&&this.updateFocusedValue(this.optionValueByIndex[0]))),this.container){let e=this.container.getBoundingClientRect(),r=void 0!==t.containerLeft&&void 0!==t.containerTop&&void 0!==e.left&&void 0!==e.top&&(Math.abs(t.containerLeft-e.left)>1||Math.abs(t.containerTop-e.top)>1);this.props.hideDropdownWhenContainerMoves&&r&&this.hideDropdown(),this.setState({containerLeft:e.left,containerTop:e.top})}}getDropdownMarginBottom(){return this.props.dropdownMarginBottom||8}getDropdownMarginTop(){return this.getDropdownMarginBottom()+(0,f.cF)()}positionForFormattedValue(e){let t=0,r=0;if(this.props.neverConstrain&&(r=this.state.topPositionOffsetForNeverConstrain||0),this.containerRect){let r=this.heightForFormattedValue(e);t=(this.containerRect.height-r)/2}return e!==this.props.customMixedText&&e!==W()&&e in this.optionIndexByFormattedValue?this.childPositionByIndex[this.optionIndexByFormattedValue[e]]-t-r:8-t}heightForFormattedValue(e){let t=this.optionIndexByFormattedValue[e];return null==this.optionHeightByIndex[t]?24:this.optionHeightByIndex[t]}scrollTopForValueOverInput(e,t){return Math.max(this.positionForFormattedValue(t)+e,0)}scrollValueOverInput(e){if(!this.dropdownEl||!this.containerRect||void 0===this.state.dropdownScreenTop)return;let t=this.scrollTopForValueOverInput(this.state.dropdownScreenTop-this.containerRect.top,e),{dropdownScreenTop:r}=this.state;if(t>0){let n=this.positionForFormattedValue(e)-t;if(n<16){let e=16-n;t-=e,r-=e}}this.dropdownEl.scrollTop=t,this.setState({dropdownScrollTop:t,dropdownScreenTop:r})}scrollValueIntoView(e){if(!this.dropdownEl||void 0===this.state.dropdownHeight||this.dropdownContentHeight<=this.state.dropdownHeight)return;let t=this.dropdownEl.scrollTop,r=this.dropdownEl.scrollTop+this.dropdownEl.offsetHeight,n=this.positionForFormattedValue(e),i=this.heightForFormattedValue(e),a=0;if(this.containerRect&&(a=(this.containerRect.height-i)/2),n<t+16){let e=n+-(i-16+a);this.dropdownEl.scrollTop=e,this.setState({dropdownScrollTop:e})}else if(n+i>r-16){let e=16+a,t=n-this.dropdownEl.offsetHeight+i+e;this.dropdownEl.scrollTop=t,this.setState({dropdownScrollTop:t})}}resetUserInput(){this.lastInputAt=0,this.userInput=""}renderInput(){return n.createElement(Y,{formatter:this.props.formatter,property:this.props.property,inputClassName:this.props.inputClassName,inputWidth:this.props.inputWidth,chevronClassName:this.props.chevronClassName,truncation:this.props.truncation,svg:this.props.svg,icon:this.props.icon,ui3Icon:this.props.ui3Icon,rightIcon:this.props.rightIcon,fill:this.props.fill,fallbackSvg:this.props.fallbackSvg,svgClassName:this.props.svgClassName,customMixedText:this.props.customMixedText,dropdownOverride:this.props.dropdownOverride,isDisabled:this.isDisabled(),onMouseDown:this.onMouseDown,textAlign:this.props.textAlign})}render(){let e=l()(this.props.className,k.uQ),t=this.props.tooltip?{"data-tooltip":this.props.tooltip,"data-tooltip-type":P.wL.TEXT}:{};if(this.isDisabled())return n.createElement("div",{className:e,"data-testid":this.props.dataTestId,"data-onboarding-key":this.props.dataOnboardingKey,onMouseEnter:this.props.onMouseEnter,onMouseLeave:this.props.onMouseLeave,"aria-label":this.props.ariaLabel,role:this.props.role,...t},this.renderInput());let r=[];if(this.dropdownShown()){let e=0;r=n.Children.map(this.props.children,t=>{let r=this.cloneChildForRender(t,e,this.dropdownListboxId);return t&&e++,r})||[],(this.props.property===N.ee||this.state.previousPreviewValue===N.ee)&&(0!==n.Children.count(this.props.children)&&r.unshift(n.createElement(X,{key:"mixed-divider",style:{top:32}})),r.unshift(n.createElement(z,{key:"select-option-mixed",selected:!0,formattedValue:this.props.customMixedText||W(),disabled:!0,style:{top:8}})))}let a=this.state.dropdownScrollTop||0,o=void 0!==this.state.dropdownHeight&&a+this.state.dropdownHeight<this.dropdownContentHeight,s=n.createElement("div",{className:`${k.GC} ${this.props.dropdownClassName||""}`,style:{top:(this.state.dropdownScreenTop??0)+(this.props.openBelowTarget&&this.containerRect?this.containerRect.height+4:0),height:this.state.dropdownHeight,left:this.state.dropdownScreenLeft,right:this.state.dropdownScreenRight,width:"function"==typeof this.props.dropdownWidth?this.state.dropdownWidth&&this.props.dropdownWidth(this.state.dropdownWidth):null!=this.props.dropdownWidth?this.props.dropdownWidth:this.state.dropdownWidth}},n.createElement("div",{className:k.QV},n.createElement(V,{className:k.gw,ref:this.dropdownRef,dispatch:this.props.dispatch,onScroll:this.onScroll,onKeyDown:this.onKeyDown},n.createElement("div",{className:k.ii,style:{height:this.dropdownContentHeight,minHeight:this.dropdownContentHeight},onMouseLeave:()=>this.updateFocusedValue(null),role:"listbox","aria-label":this.props.ariaLabel,tabIndex:-1,id:this.dropdownListboxId,"data-testid":"select-dropdown-content"},r)),n.createElement(J,{showTopIndicator:a>0,showBottomIndicator:o,onScroll:this.onScroll}))),c=null==this.state.focusedOptionValue?"":this.props.formatter.format(this.state.focusedOptionValue),d=this.optionIndexByFormattedValue[c];return n.createElement("div",{className:e,ref:this.containerRef,onClick:this.stopPropagation,onMouseDown:this.props.onMouseDown,onMouseEnter:this.props.onMouseEnter,onMouseLeave:this.props.onMouseLeave,"data-testid":this.props.dataTestId,"data-onboarding-key":this.props.dataOnboardingKey,...t},n.createElement("div",{ref:this.hiddenInputRef,"aria-label":this.props.ariaLabel,role:this.props.role,"aria-activedescendant":`${this.dropdownListboxId}-${d}`,"aria-owns":this.dropdownListboxId,"aria-controls":this.dropdownListboxId,"aria-expanded":"combobox"===this.props.role?this.dropdownShown():void 0,tabIndex:this.props.disableSelectFocus?-1:0,className:l()({[k.GU]:!0,[k.YX]:!0}),onKeyDown:this.onKeyDown,onFocus:this.onFocus,onBlur:this.onBlur}),this.renderInput(),!this.props.targetDomNode&&this.dropdownShown()&&s,this.props.targetDomNode&&this.dropdownShown()&&i.createPortal(s,this.props.targetDomNode))}}function Z({ignoreCheck:e,iconToReplaceCheck:t,rightCheck:r,selected:i,checkSvg:a,icon:o}){return n.createElement(n.Fragment,null,!e&&!t&&!r&&(i?n.createElement(v.A,{className:k.ox,svg:a||x.c}):n.createElement("span",{className:k.ox})),!!t&&n.createElement("div",{className:k.wV},t),!t&&o)}$.displayName="Select",$.propTypes={children:(e,t,r)=>{let i=e[t],a=null;return n.Children.forEach(i,e=>{null==e||e.type&&e.type.__IS_VALID_SELECT_CHILD__||(a=Error(`${r} children should be of type 'Option' or 'SelectDivider'`))}),a}},$.defaultProps={dropdownAlignment:"left"};class z extends h.UR{constructor(){super(...arguments),this.elementRef=null,this.onMouseUp=h.yw(this,"mouseup",e=>{if(!this.props.onMouseUp)return h.Cy;this.props.onMouseUp(e)}),this.onMouseMove=h.yw(this,"mousemove",e=>{if(!this.props.onMouseMove)return h.Cy;this.props.onMouseMove(e)})}getElement(){return this.elementRef}render(){let e;e=this.props.disabled?k.Ge:this.props.focused?k.Kc:this.props.isHeader?k.ac:k.MH,this.props.fullWidth&&(e+=" "+k.Kk);let t={...this.props.style||{},height:this.props.height||24};return n.createElement("div",{id:this.props.id,className:`${e} ${this.props.additionalStylesClassName??""}`,onMouseUp:this.onMouseUp,onMouseMove:this.onMouseMove,onMouseEnter:this.props.onMouseEnter,onMouseLeave:this.props.onMouseLeave,style:t,ref:e=>this.elementRef=e,"data-testid":this.props.dataTestId,"aria-label":this.props.ariaLabel??this.props.formattedValue,role:"option",tabIndex:-1,"data-dropdown-tooltip":this.props.tooltip,"data-tooltip-type":this.props.tooltipType,"aria-disabled":this.props.disabled},n.createElement(G,{...this.props,originalComponent:Z,overrideKey:"leftCheckIcon"}),this.props.svg&&n.createElement(w._,{className:k.Af,svg:this.props.svg,fallbackSvg:this.props.fallbackSvg}),this.props.children||!this.props.truncateInMiddle?n.createElement("span",{className:l()(k.A$,{[k.CG]:this.props.rightCheck,[k.qQ]:this.props.removeTextRightPadding}),dir:"auto",style:{textAlign:"left"}},this.props.children||this.props.formattedValue):n.createElement(y.G,{className:k.uc,text:this.props.formattedValue||""}),this.props.rightLabel&&n.createElement("span",{className:l()(k.AX,this.props.rightLabelStyle)},this.props.rightLabel),this.props.rightSettingsIcon,!this.props.ignoreCheck&&!this.props.iconToReplaceCheck&&this.props.rightCheck&&this.props.selected&&n.createElement(v.A,{className:k.es,svg:this.props.checkSvg||x.c}))}}z.displayName="Option",z.__IS_VALID_SELECT_CHILD__=!0,z.__CLASS_NAME__="Option";class Q extends z{}class X extends n.PureComponent{render(){return n.createElement(H,{...this.props,className:k.Sw})}}X.displayName="SelectDivider",X.__IS_VALID_SELECT_CHILD__=!0,X.__CLASS_NAME__="SelectDivider";class J extends n.PureComponent{constructor(){super(...arguments),this.scrollInterval=void 0,this.onMouseEnterIndicator=e=>t=>{this.scrollInterval&&clearInterval(this.scrollInterval),this.scrollInterval=setInterval(()=>{this.props.onScroll(void 0,!0,e)},25)},this.onMouseLeaveIndicator=e=>{clearInterval(this.scrollInterval)},this.onMouseDownIndicator=e=>{e.stopPropagation()},this.onClickIndicator=e=>{e.stopPropagation()},this.onWheelIndicator=e=>{this.props.onScroll(void 0,!0,e.deltaY)}}componentWillUnmount(){clearInterval(this.scrollInterval)}render(){let e=this.props.showTopIndicator?{}:{display:"none"},t=this.props.showBottomIndicator?{}:{display:"none"};return n.createElement(n.Fragment,null,n.createElement("div",{className:k.e4,style:e,onMouseEnter:this.onMouseEnterIndicator(-8),onMouseLeave:this.onMouseLeaveIndicator,onMouseDown:this.onMouseDownIndicator,onClick:this.onClickIndicator,onWheel:this.onWheelIndicator},n.createElement(v.A,{className:k.o7,svg:F.c})),n.createElement("div",{className:k.Aj,style:t,onMouseEnter:this.onMouseEnterIndicator(8),onMouseLeave:this.onMouseLeaveIndicator,onMouseDown:this.onMouseDownIndicator,onClick:this.onClickIndicator,onWheel:this.onWheelIndicator},n.createElement(v.A,{className:k.o7,svg:D.c})))}}},563868:(e,t,r)=>{"use strict";r.d(t,{O:()=>C,y:()=>T});var n=r(307824),i=r(760780),a=r(560072),o=r(600928),l=r(974636),s=r(122548),c=r(507076),d=r(397888),u=r(919364),p=r(362592),m=r(816616),_=r(505752),h=r(101040),g=r(26048),f=r(881467),E=r(664056);let y="seen_wrapping_min_max_onboarding",b="seen_text_truncation_onboarding",v="https://help.figma.com/hc/articles/360040451373-Explore-auto-layout-properties";function I(){return n.createElement("p",{className:E.gp},n.createElement(a.Tx,{id:"fullscreen.properties_panel.stack_panel.wrapping_onboarding_body",wrap:n.createElement("strong",null,n.createElement(a.Tx,{id:"fullscreen.properties_panel.stack_panel.wrap_icon"}))}))}function w(){return n.createElement(n.Fragment,null,n.createElement("p",{className:E.gp},n.createElement(a.Tx,{id:"fullscreen.properties_panel.stack_panel.min_max_onboarding_body_1"})),n.createElement("p",{className:E.gp},n.createElement(a.Tx,{id:"fullscreen.properties_panel.stack_panel.min_max_onboarding_body_2",width:n.createElement("strong",null,n.createElement(a.Tx,{id:"fullscreen.properties_panel.stack_panel.width"})),height:n.createElement("strong",null,n.createElement(a.Tx,{id:"fullscreen.properties_panel.stack_panel.height"}))})))}function T(){let e=(0,u.e)(y),t=(0,l.W)({overlay:f.y09,priority:p.g.DEFAULT_MODAL}),{currentStep:r,next:i}=(0,s.c)({numSteps:2,onComplete:t.complete});(0,o.y)(t.uniqueId,"action_stack_selection",()=>{e||t.show()}),(0,o.y)(t.uniqueId,"action_unstack_selection",()=>{t.isShowing&&t.complete()});let b=(0,c.A9)("stackMode");return(0,d.is)(()=>{(!b||"NONE"===b)&&t.isShowing&&t.complete()}),n.createElement(m.y,{currentStep:r,isShowing:t.isShowing},n.createElement(_.m,{modalType:g.GK.ANNOUNCEMENT_POINTER,ctaText:n.createElement(a.Tx,{id:"general.next"}),onClickPrimaryCta:i,stepCounter:n.createElement("span",{className:E.u6},n.createElement(a.Tx,{id:"fullscreen.properties_panel.stack_panel.wrapping_onboarding_1of2"})),secondaryCtaText:n.createElement("a",{href:v,target:"_blank"},n.createElement(a.Tx,{id:"rcs.rcs_shared.learn_more"})),preventDismissOnClickSecondaryCta:!0,title:n.createElement(a.Tx,{id:"fullscreen.properties_panel.stack_panel.wrapping_onboarding_title"}),onboardingKey:"stack-mode-control",userFlagOnShow:y,element:()=>n.createElement(I,null),isShowing:t.isShowing,onClose:t.complete,onManualDismiss:t.complete,trackingContextName:"alv5-wrapping-minmax-onboarding",arrowPosition:h.Wp.LEFT_TITLE,width:300}),n.createElement(_.m,{modalType:g.GK.ANNOUNCEMENT_POINTER,ctaText:n.createElement(a.Tx,{id:"general.got_it"}),secondaryCtaText:n.createElement("a",{href:v,target:"_blank"},n.createElement(a.Tx,{id:"rcs.rcs_shared.learn_more"})),title:n.createElement(a.Tx,{id:"fullscreen.properties_panel.stack_panel.min_max_onboarding_title"}),stepCounter:n.createElement("span",{className:E.u6},n.createElement(a.Tx,{id:"fullscreen.properties_panel.stack_panel.wrapping_onboarding_2of2"})),onboardingKey:"transform-width",userFlagOnShow:y,element:()=>n.createElement(w,null),isShowing:t.isShowing,onClickPrimaryCta:t.complete,onClose:t.complete,onManualDismiss:t.complete,trackingContextName:"alv5-wrapping-minmax-onboarding",arrowPosition:h.Wp.LEFT_TITLE,width:300}))}function S(){return n.createElement("p",{className:E.gp},n.createElement(a.Tx,{id:"fullscreen.properties_panel.stack_panel.truncate_onboarding_body",maxLines:n.createElement("strong",null,n.createElement(a.Tx,{id:"fullscreen.properties_panel.stack_panel.max_lines"})),truncateText:n.createElement("strong",null,n.createElement(a.Tx,{id:"fullscreen.properties_panel.stack_panel.truncate_text"}))}))}function C(){let e=(0,c.A9)("textAutoResize"),t=(0,l.W)({overlay:f.O40,priority:p.g.DEFAULT_MODAL}),r=(0,u.e)(b);return(0,i.u)(()=>()=>{t.complete()}),(0,o.y)(t.uniqueId,"Type Details Panel Opened",()=>{!r&&e&&"NONE"!==e&&t.show()}),n.createElement(_.m,{modalType:g.GK.ANNOUNCEMENT_POINTER,ctaText:n.createElement(a.Tx,{id:"general.got_it"}),secondaryCtaText:n.createElement("a",{href:v,target:"_blank"},n.createElement(a.Tx,{id:"rcs.rcs_shared.learn_more"})),title:n.createElement(a.Tx,{id:"fullscreen.properties_panel.stack_panel.truncate_onboarding_title"}),onboardingKey:"truncate-text",userFlagOnShow:b,element:()=>n.createElement(S,null),isShowing:t.isShowing,onClickPrimaryCta:t.complete,onClose:t.complete,onManualDismiss:t.complete,trackingContextName:"alv5-text-truncate-onboarding",arrowPosition:h.Wp.RIGHT_TITLE,width:272})}},707576:(e,t,r)=>{"use strict";r.d(t,{GK:()=>m.c,GM:()=>_,gJ:()=>h,wh:()=>g});var n=r(307824),i=r(4580),a=r(148276),o=r(537096),l=r(560072),s=r(762820),c=r(138884),d=r(51976),u=r(807200),p=r(868976),m=r(381100);function _({flushWithContainer:e}){let t=function(){let{allStates:e,selectedStates:t,stateGroupError:r,stateGroupSelectionMode:o}=(0,i.q)(e=>({allStates:(0,d.iS)(e)??[],selectedStates:(0,d.QZ)(e)??[],stateGroupError:(0,d.WD)(e),stateGroupSelectionMode:(0,d.wB)(e)}));if(o===s.MJr.STATE_GROUP){let t=()=>{let t=(0,u.Ao)(e,r).map(e=>e.symbol.node_id);c.mo(),c.aN(t)};switch(r){case s.QDw.PARSE_ERROR:return n.createElement("div",null,n.createElement(l.Tx,{id:"design_systems.states_panel.some_layers_have_invalid_names"}),n.createElement("div",null,n.createElement("strong",null,n.createElement(l.Tx,{id:"design_systems.states_panel.prop_value_prop_value"}))),n.createElement(a.cH,{onClick:t,className:p.E$,trusted:!0},n.createElement(l.Tx,{id:"design_systems.states_panel.select_invalid_variants"})));case s.QDw.DUPLICATE_STATE_ERROR:return n.createElement("div",null,n.createElement(l.Tx,{id:"design_systems.states_panel.some_variants_have_the_same_property_values_applied"}),n.createElement(a.cH,{onClick:t,className:p.E$,trusted:!0},n.createElement(l.Tx,{id:"design_systems.states_panel.select_conflicting_variants"})));case s.QDw.MISSING_PROPERTIES_ERROR:return n.createElement("div",null,n.createElement(l.Tx,{id:"design_systems.states_panel.some_variants_are_missing_properties"}),n.createElement(a.cH,{onClick:t,className:p.E$,trusted:!0},n.createElement(l.Tx,{id:"design_systems.states_panel.select_invalid_variants"})));case s.QDw.TOO_MANY_STATES_ERROR:return n.createElement("div",null,n.createElement(l.Tx,{id:"design_systems.states_panel.components_with_more_than_1000_variants_may_experience_performance_issues"}))}}else if(o===s.MJr.STATE||o===s.MJr.STATE_INSTANCE)switch((0,u.Es)(t)){case s.QDw.PARSE_ERROR:return n.createElement("div",null,n.createElement(l.Tx,{id:"design_systems.states_panel.layer_has_invalid_name",layers:t.length}),n.createElement("div",null,n.createElement("strong",null,n.createElement(l.Tx,{id:"design_systems.states_panel.prop_value_prop_value"}))));case s.QDw.DUPLICATE_STATE_ERROR:return n.createElement("div",null,n.createElement(l.Tx,{id:"design_systems.states_panel.the_properties_and_values_of_variant_are_conflicting",variants:t.length}));case s.QDw.MISSING_PROPERTIES_ERROR:return n.createElement("div",null,n.createElement(l.Tx,{id:"design_systems.states_panel.variants_are_missing_one_or_more_properties",variants:t.length}))}return null}();return null===t?null:n.createElement(h,{flushWithContainer:e},t)}function h({title:e,children:t,flushWithContainer:r}){return n.createElement("div",{className:r?p.aq:p.YX},n.createElement("div",{className:p.wl},n.createElement(o.A,{className:p.Ov,svg:m.c}),e),t)}function g({title:e,children:t,closeButton:r}){return n.createElement("div",{className:p.cF},n.createElement("div",{className:p.aK},n.createElement("div",{className:p.wl},n.createElement(o.A,{className:p.Ov,svg:m.c}),e),r),t)}},51976:(e,t,r)=>{"use strict";r.d(t,{QZ:()=>h,WD:()=>u,Yn:()=>s,ec:()=>m,gH:()=>p,iS:()=>_,s9:()=>g,wB:()=>c});var n=r(99391),i=r(762820),a=r(392992),o=r(807200);function l(e){return e.mirror.selectionProperties.stateGroupSelectionInfo}function s(e){let t=l(e);return(null==t?void 0:t.mode)===i.MJr.NON_STATE_COMPONENTS?null==t?void 0:t.numSelectedNonStateComponents:0}function c(e){var t;return null==(t=l(e))?void 0:t.mode}function d(e){let t=l(e);return t&&t.mode!==i.MJr.NONE&&t.mode!==i.MJr.NON_STATE_COMPONENTS?t.stateGroupModel:null}let u=(0,n.S4)(function(e){var t;return null==(t=d(e))?void 0:t.stateGroupError});function p(e){let t=l(e);return t&&t.mode!==i.MJr.NONE&&t.mode!==i.MJr.NON_STATE_COMPONENTS?t.stateGroup:null}let m=(0,n.S4)(function(e){var t;return null==(t=d(e))?void 0:t.propertySortOrder}),_=(0,n.MJ)([l,a.AX,a.WO],(e,t,r)=>e&&e.mode!==i.MJr.NONE&&e.mode!==i.MJr.NON_STATE_COMPONENTS?e.allStates.map(e=>(0,o._S)(e,t,r)):null),h=(0,n.MJ)([l,a.AX,a.WO],(e,t,r)=>e&&(e.mode===i.MJr.STATE||e.mode===i.MJr.STATE_INSTANCE||e.mode===i.MJr.STATE_OR_STATE_INSTANCE_SUBLAYER)?e.selectedStates.map(e=>(0,o._S)(e,t,r)):null),g=(0,n.MJ)([h,c,d],(e,t,r)=>e&&r&&(t===i.MJr.STATE||t===i.MJr.STATE_INSTANCE||t===i.MJr.STATE_OR_STATE_INSTANCE_SUBLAYER)?(0,o.i)(e,r.propertySortOrder||[]):null)},807200:(e,t,r)=>{"use strict";r.d(t,{Ao:()=>E,CW:()=>N,Es:()=>f,IJ:()=>w,Id:()=>A,MJ:()=>C,Yp:()=>T,_S:()=>S,g3:()=>I,gF:()=>O,gH:()=>h,gb:()=>v,i:()=>g,iI:()=>y,wT:()=>b,y:()=>_});var n=r(307824);r(120304);var i=r(855712),a=r(250008),o=r(995076),l=r(131748),s=r(585508),c=r(762820),d=r(138884),u=r(540696),p=r(392992),m=r(939540);let _="\u2014";function h(e,t){return Object.keys(e).sort((e,r)=>t.indexOf(e)-t.indexOf(r)).map(t=>`${t}=${e[t]}`).join(", ")}function g(e,t,r){let n={};for(let i of e){if(void 0!==i.actionIndexPath&&void 0!==r&&i.actionIndexPath.some((e,t)=>e!==r[t]))continue;let{propertyValues:e}=i.stateInfo;if(e)for(let r of t)r in n&&n[r]!==e[r]?n[r]=n[r]&&e[r]?u.ee:"":n[r]=e[r]||""}return n}function f(e){let t=c.QDw.NONE;for(let r of e)r.stateInfo.stateError&&r.stateInfo.stateError>t&&(t=r.stateInfo.stateError);return t}function E(e,t){return e.filter(e=>e.stateInfo.stateError===t)}function y(e,t,r){let n=[],i=0;for(let e of r){let r=e.propertyValues;if(!r)continue;let a=0;for(let e of t){if(e.value!==r[e.property])break;a++}a>i?(i=a,n=[e]):a===i&&n.push(e)}if(0===i)return null;let a=null,o=1/0;for(let t of n){let r=function(e,t){let r=0;for(let n in e)e[n]!==u.ee&&e[n]!==t[n]&&r++;return r}(e,t.propertyValues);r<o&&(o=r,a=t)}return a}function b(e,t,r){let n=[],i=0;for(let e of r){let r=e.stateInfo.propertyValues;if(!r)continue;let a=0;for(let e of t){if(e.value!==r[e.property])break;a++}a>i?(i=a,n=[e]):a===i&&n.push(e)}if(0===i)return null;let a=null,o=1/0;for(let t of n){let r=function(e,t){let r=0;for(let n in e)e[n]!==u.ee&&e[n]!==t[n]&&r++;return r}(e,t.stateInfo.propertyValues);r<o&&(o=r,a=t)}return a}function v(e){return e.replace(/[,=]/g,"").trim()}function I(e,t,r){let n=c.i46.getStateGroupAnalyticsInfo(t);(0,a.we)(e,{...n,...r||{}})}function w(e,t,r,n){if(""===(t=v(t))||e===t||-1===n.indexOf(e))return;let i=[...n];i[i.indexOf(e)]=t,r.forEach(r=>{let n=r.stateInfo.propertyValues;n&&(n={...n})[e]&&(n[t]=n[e],delete n[e],e!==t&&l.qM.reportEditAction("rename-property"),d.gc(r.symbol.node_id,h(n,i)))}),s.CA.commit()}function T(e,t,r,n){I("Deleting Property from Variant Component",n),t.forEach(t=>{let n=t.stateInfo.propertyValues;if(!n)return;for(let t of(n={...n},e))n[t]&&delete n[t];let i=h(n,r);""===i&&(i="Property 1=Default"),l.qM.reportEditAction("delete-prop"),d.gc(t.symbol.node_id,i)}),s.CA.commit()}function S(e,t,r){return{stateInfo:e.stateInfo,symbol:(0,m._I)(null,null,e.symbol,t||"",r||(0,o.C)("")),actionIndexPath:function(e){if(!e)return[];let t=e.match(/\{(.*?)\}/);return!t||t.length<2?[]:t[1].trim().split(",").map(e=>parseFloat(e.trim()))}(e.actionIndexPath)}}function C(e,t,r,n){var i;if(!e)return null;let a=e.mode;if(a===c.MJr.NONE)return null;if(a===c.MJr.NON_STATE_COMPONENTS)return{mode:a,numSelectedNonStateComponents:e.numSelectedNonStateComponents};let o=e.stateGroup,l=e.stateGroupModel,s=(null==(i=null==l?void 0:l.propertySortOrder)?void 0:i.length)===1,d=e.allStates.map(e=>S(e,t,r));if(a===c.MJr.STATE_GROUP)return{mode:a,stateGroup:o,stateGroupModel:l,allStates:d,modelIsOneDimensional:s};let u=e.selectedStates.map(e=>S(e,t,r)),p=g(u,l.propertySortOrder||[],n);return c.MJr.STATE,{mode:a,stateGroup:o,stateGroupModel:l,allStates:d,modelIsOneDimensional:s,selectedStates:u,selectedStatesPropertyValues:p}}n.createContext(null);let A=(0,i.M3)([e=>e.mirror.selectionProperties.stateGroupSelectionInfo,p.AX,p.WO],C),O=[["yes","no"],["true","false"],["on","off"]],N=O.reduce((e,t)=>e.concat(t),[])},750976:(e,t,r)=>{"use strict";r.d(t,{A5:()=>ez,E3:()=>eG,ID:()=>eZ,IN:()=>e3,KQ:()=>e$,O1:()=>eq,Sy:()=>eQ,_k:()=>ej,gB:()=>eW,s3:()=>eY});var n=r(307824),i=r(120304),a=r(25292),o=r(776940),l=r(721500),s=r(570464),c=r(103839),d=r(968240),u=r(588900),p=r(330716),m=r(560072),_=r(907236),h=r(422584),g=r(904556),f=r(585508),E=r(762820),y=r(540696),b=r(84656),v=r(570012),I=r(142548),w=r(513568),T=r(101040),S=r(385228),C=r(24588),A=r(943344),O=r(235020),N=r(763456),L=r(543200),R=r(525004),P=r(410556),M=r(777112),k=r(773704),D=r(353972),F=r(47892),x=r(815472),U=r(229292),B=r(183572),G=r(106388),V=r(799696),H=r(217108),W=r(970216),K=r(657007),Y=r(877836),q=r(545224),j=r(1892),$=r(434336),Z=r(908360),z=r(167492),Q=r(839804),X=r(963348),J=r(668596),ee=r(596455),et=r(495920),er=r(601364),en=r(982580),ei=r(453512),ea=r(463752),eo=r(289624),el=r(267056),es=r(288116),ec=r(512108),ed=r(354012),eu=r(299860),ep=r(294764),em=r(341868),e_=r(424324),eh=r(578664),eg=r(698492),ef=r(126576),eE=r(204108),ey=r(309300),eb=r(546944),ev=r(998700),eI=r(823660),ew=r(258272),eT=r(934783),eS=r(901360),eC=r(806420),eA=r(971876),eO=r(985088),eN=r(797116),eL=r(171248);let eR=(0,l.I)(N.Ket);class eP extends A.G{}class eM extends A.n{}class ek extends O.M1{}class eD extends O.cb{}class eF{constructor(){this.format=e=>{switch(e){case"LINE":return(0,m.t)("fullscreen.properties_panel.stroke_settings.solid");case"SIMPLE_DASH":return(0,m.t)("fullscreen.properties_panel.stroke_settings.simple_dash");case"CUSTOM_DASH":return(0,m.t)("fullscreen.properties_panel.stroke_settings.custom");default:return""}}}}function ex(e,t){switch(e){case"LINE":return"default"===t?eC.c:eA.c;case"SIMPLE_DASH":return"default"===t?eT.c:eS.c;default:return}}class eU extends A.G{}class eB extends A.n{}function eG(e){return e.dashCap?n.createElement(eU,{className:e.className,property:e.dashCap,onChange:e.onChange,recordingKey:e.recordingKey},n.createElement(eB,{svg:W.c,fallbackSvg:K.c,value:"NONE",tooltip:(0,m.t)("fullscreen.properties_panel.stroke_settings.none"),recordingKey:s.Mx(e,"NONE")}),n.createElement(eB,{svg:j.c,fallbackSvg:$.c,value:"SQUARE",tooltip:(0,m.t)("fullscreen.properties_panel.stroke_settings.square"),recordingKey:s.Mx(e,"SQUARE")}),n.createElement(eB,{svg:Y.c,fallbackSvg:q.c,value:"ROUND",tooltip:(0,m.t)("fullscreen.properties_panel.stroke_settings.round"),recordingKey:s.Mx(e,"ROUND")})):null}function eV(e){return e?(0,y.Er)(e)?y.ee:0===e.length?"LINE":2!==e.length?"CUSTOM_DASH":0===e[0]&&0===e[1]?"LINE":"SIMPLE_DASH":"LINE"}function eH(e){if(e){if((0,y.Er)(e))return y.ee;if(2===e.length)return e[0]}}function eW(e){if((0,y.Er)(e))return y.ee;switch(e){case"NONE":case"ROUND":case"SQUARE":return e;default:return}}function eK(e){let t=(0,i.OY)(),r=new eF,{strokePanelMode:l,maxStrokeWeight:c,dashPattern:u,connectorLineStyle:_}=e,[f,b]=n.useState(eV(u));n.useEffect(()=>{b(eV(u))},[u]);let[T,A]=n.useState(!0),[N,R]=n.useState(),P=eH(u),M=function(e){if(e){if((0,y.Er)(e))return y.ee;if(2===e.length)return e[1]}}(u),k=()=>{if(!u||(0,y.Er)(u)||2!==u.length)return;A(!0);let t=u[0];e.onChange({dashPattern:[t,t]})},D=n.useRef("NONE"),F=n.createRef(),x=n.createRef(),U=n.createRef();n.useEffect(()=>{var e,t,r,n;if("NONE"!==D.current){if("FOCUS_CURRENT_EVENT"===D.current)switch(f){case"SIMPLE_DASH":null==(e=x.current)||e.focus(),null==(t=x.current)||t.select();break;case"CUSTOM_DASH":null==(r=F.current)||r.focus(),null==(n=F.current)||n.select()}"FOCUS_NEXT_EVENT"===D.current?D.current="FOCUS_CURRENT_EVENT":D.current="NONE"}},[u,f,x,F]);let B=eW(e.dashCap),G=l===E.ekv.VERTEX||l===E.ekv.ENDPOINT,V=(0,i.w1)(e=>e.mirror.selectionProperties.numSelectedByType),H=(0,g.aY)(V,"CONNECTOR"),W=N??f;return n.createElement("div",{className:L.U$},H&&void 0!==_&&n.createElement(C.WA,null,n.createElement(C.iM,{className:H?L.Si:L.u6},n.createElement(m.Tx,{id:"fullscreen.properties_panel.stroke_settings.path_style"})),n.createElement(eP,{className:L.iM,property:_,onChange:t=>{e.onChange({connectorLineStyle:t})},recordingKey:s.Mx(e,"pathStyle")},n.createElement(eM,{svg:eL.c,value:"STRAIGHT",tooltip:(0,m.t)("fullscreen.properties_panel.stroke_settings.straight"),recordingKey:s.Mx(e,"STRAIGHT")}),n.createElement(eM,{svg:eO.c,fallbackSvg:eN.c,value:"ELBOWED",tooltip:(0,m.t)("fullscreen.properties_panel.stroke_settings.elbowed"),recordingKey:s.Mx(e,"ELBOWED")}))),n.createElement(C.WA,null,n.createElement(C.iM,{className:G?L.Mk:L.MT},n.createElement(m.Tx,{id:"fullscreen.properties_panel.stroke_settings.stroke_style"})),n.createElement(ek,{id:"line-style-select",className:L.S2,property:f,formatter:r,onChange:(t,r=v.MO.YES)=>{D.current="FOCUS_NEXT_EVENT";let n=2*(c??1);switch(t){case"LINE":e.onChange({dashPattern:[]},r);break;case"SIMPLE_DASH":e.onChange({dashPattern:[n,n]},r);break;case"CUSTOM_DASH":e.onChange({dashPattern:[n,2*n,3*n,4*n]},r)}},dispatch:t,dropdownShown:e.dropdownShown,dropdownWidth:120,recordingKey:s.Mx(e,"strokeStyle"),svg:ex(f,"default"),fallbackSvg:ex(f,"fallback"),ui3Icon:"LINE"===f?n.createElement(a.C,null):"SIMPLE_DASH"===f?n.createElement(o.W,null):void 0,svgClassName:G?L.KM:L.uI,disabled:G,onPreview:e=>{R(e)},enablePreview:!0},n.createElement(eD,{additionalStylesClassName:L.g_,value:"LINE",recordingKey:s.Mx(e,"LINE")},n.createElement("span",{className:L.g_},n.createElement(d.e,{className:L.g1,svg:eC.c,fallbackSvg:eA.c},n.createElement(a.C,null)),n.createElement(p.E,{text:r.format("LINE")}))),n.createElement(eD,{value:"SIMPLE_DASH",recordingKey:s.Mx(e,"SIMPLE_DASH"),additionalStylesClassName:L.g_},n.createElement("span",{className:L.g_},n.createElement(d.e,{svg:eT.c,fallbackSvg:eS.c,className:L.g1},n.createElement(o.W,null)),n.createElement(p.E,{text:r.format("SIMPLE_DASH")}))),n.createElement(O.Wy,null),n.createElement(eD,{value:"CUSTOM_DASH",recordingKey:s.Mx(e,"CUSTOM_DASH")}))),("SIMPLE_DASH"===W||W===y.ee)&&n.createElement(n.Fragment,null,n.createElement(C.WA,null,n.createElement(C.iM,{className:G?L.Ku:L.Ix},n.createElement(m.Tx,{id:"fullscreen.properties_panel.stroke_settings.dash"})),n.createElement(w.oN,{className:L.ue,min:0,value:eH(u),onValueChange:t=>{let r;if(D.current="NONE",!u||(0,y.Er)(u)||2!==u.length)r=[t,t];else{let e=u[0],n=u[1];r=T&&e===n?[t,t]:[t,n]}e.onChange({dashPattern:r})},dispatch:t,smallNudgeAmount:1,bigNudgeAmount:10,recordingKey:s.Mx(e,"dash"),"data-tooltip-type":I.wL.TEXT,"data-tooltip":(0,m.t)("fullscreen.properties_panel.stroke_settings.dash"),tooltipForScreenReadersOnly:!0,forwardedRef:x,disabled:G})),n.createElement(C.WA,null,n.createElement(C.iM,{className:G?L.c9:L.k3},n.createElement(m.Tx,{id:"fullscreen.properties_panel.stroke_settings.gap"})),n.createElement(w.oN,{className:L.qq,min:0,value:void 0!==M&&(0,y.EH)(M)&&T&&P===M?void 0:M,placeholder:void 0!==M&&(0,y.EH)(M)&&T&&P===M?String(parseFloat(M.toFixed(2))):void 0,onValueChange:t=>{let r;D.current="NONE",A(!1),r=!u||(0,y.Er)(u)||2!==u.length?[t,t]:[u[0],t],e.onChange({dashPattern:r})},onBlur:e=>{var t;(null==(t=U.current)?void 0:t.value)===""&&k()},dispatch:t,smallNudgeAmount:1,bigNudgeAmount:10,recordingKey:s.Mx(e,"gap"),"data-tooltip-type":I.wL.TEXT,"data-tooltip":(0,m.t)("fullscreen.properties_panel.stroke_settings.gap"),tooltipForScreenReadersOnly:!0,forwardedRef:U,disabled:G}))),"CUSTOM_DASH"===W&&n.createElement(C.WA,null,n.createElement(C.iM,{className:G?L.eU:L.qU},n.createElement(m.Tx,{id:"fullscreen.properties_panel.stroke_settings.dashes"})),n.createElement(S.UP,{className:L.Ev,forwardedRef:F,formatter:h.y,property:e.dashPattern,onChange:t=>{e.onChange({dashPattern:t})},placeholder:(0,m.t)("fullscreen.properties_panel.stroke_settings.dash_gap"),recordingKey:s.Mx(e,"dashes"),disabled:G})),(l===E.ekv.VECTOR||l===E.ekv.LINE)&&("SIMPLE_DASH"===W||"CUSTOM_DASH"===W)&&void 0!==B&&n.createElement(C.WA,null,n.createElement(C.iM,{className:L.c1},n.createElement(m.Tx,{id:"fullscreen.properties_panel.stroke_settings.dash_cap"})),n.createElement(eG,{className:L.gV,dashCap:B,onChange:t=>{e.onChange({dashCap:t})},recordingKey:s.Mx(e,"dashCap")})))}eK.displayName="StrokeLineStyleSettings";class eY extends O.M1{}class eq extends O.cb{}class ej{constructor(){this.format=e=>{switch(e){case"NONE":return(0,m.t)("fullscreen.properties_panel.stroke_settings.none");case"ARROW_LINES":return(0,m.t)("fullscreen.properties_panel.stroke_settings.line_arrow");case"ARROW_EQUILATERAL":return(0,m.t)("fullscreen.properties_panel.stroke_settings.triangle_arrow");case"TRIANGLE_FILLED":return(0,m.t)("fullscreen.properties_panel.stroke_settings.reversed_triangle");case"CIRCLE_FILLED":return(0,m.t)("fullscreen.properties_panel.stroke_settings.circle_arrow");case"DIAMOND_FILLED":return(0,m.t)("fullscreen.properties_panel.stroke_settings.diamond_arrow");case"ROUND":return(0,m.t)("fullscreen.properties_panel.stroke_settings.round");case"SQUARE":return(0,m.t)("fullscreen.properties_panel.stroke_settings.square");case"HIGHLIGHT":case"WASHI_TAPE_1":case"WASHI_TAPE_2":case"WASHI_TAPE_3":case"WASHI_TAPE_4":case"WASHI_TAPE_5":case"WASHI_TAPE_6":return""}}}}let e$={format(e){switch(e){case"NONE":return(0,m.t)("fullscreen.properties_panel.stroke_settings.none");case"ARROW_LINES":return(0,m.t)("fullscreen.properties_panel.section_stroke.dropdown_startEndPoint.value_line");case"ARROW_EQUILATERAL":return(0,m.t)("fullscreen.properties_panel.section_stroke.dropdown_startEndPoint.value_triangle");case"TRIANGLE_FILLED":return(0,m.t)("fullscreen.properties_panel.section_stroke.dropdown_startEndPoint.value_reversed");case"CIRCLE_FILLED":return(0,m.t)("fullscreen.properties_panel.section_stroke.dropdown_startEndPoint.value_circle");case"DIAMOND_FILLED":return(0,m.t)("fullscreen.properties_panel.section_stroke.dropdown_startEndPoint.value_diamond");case"ROUND":return(0,m.t)("fullscreen.properties_panel.stroke_settings.round");case"SQUARE":return(0,m.t)("fullscreen.properties_panel.stroke_settings.square");case"HIGHLIGHT":case"WASHI_TAPE_1":case"WASHI_TAPE_2":case"WASHI_TAPE_3":case"WASHI_TAPE_4":case"WASHI_TAPE_5":case"WASHI_TAPE_6":return""}}},eZ=["NONE","ARROW_LINES","ARROW_EQUILATERAL","TRIANGLE_FILLED","CIRCLE_FILLED","DIAMOND_FILLED"],ez=["ROUND","SQUARE"],eQ=["NONE","ROUND","SQUARE"];function eX(e,t,r){switch(e){case"NONE":default:return;case"ARROW_LINES":if(r)return t?es.c:ea.c;return t?F.c:D.c;case"ARROW_EQUILATERAL":if(r)return t?eb.c:ef.c;return t?H.c:V.c;case"TRIANGLE_FILLED":if(r)return t?e_.c:eu.c;return t?U.c:x.c;case"DIAMOND_FILLED":if(r)return t?ei.c:et.c;return t?k.c:M.c;case"CIRCLE_FILLED":if(r)return t?ee.c:Q.c;return t?P.c:R.c;case"ROUND":return r?eh.c:B.c;case"SQUARE":return r?eg.c:G.c}}function eJ(e,t){switch(e){case"NONE":return"default"===t?ec.c:ed.c;case"ARROW_LINES":return"default"===t?eo.c:el.c;case"ARROW_EQUILATERAL":return"default"===t?eE.c:ey.c;case"TRIANGLE_FILLED":return"default"===t?ep.c:em.c;case"DIAMOND_FILLED":return"default"===t?er.c:en.c;case"CIRCLE_FILLED":return"default"===t?X.c:J.c;case"ROUND":return Z.c;default:return z.c}}function e0(e){let t=(0,i.OY)(),r=new ej,a=e.strokePanelMode===E.ekv.ENDPOINT,o=1===e.strokePanelTerminalPointCount||a;return n.createElement("div",{className:L.U$},n.createElement(C.WA,{"data-testid":"end-point-settings-row"},n.createElement(C.iM,{disabled:e.disabled,className:e.disabled?L.OI:L.Qz},o?(0,m.t)("fullscreen.properties_panel.stroke_settings.end_point"):(0,m.t)("fullscreen.properties_panel.stroke_settings.end_points")),n.createElement(eY,{id:"end-point-select",className:L.YP,property:e.endPoint,formatter:r,onChange:t=>{e.onChange({terminalCap:t}),e.onChange({strokeCap:t})},blurOnChange:!0,dispatch:t,dropdownShown:e.dropdownShown,dropdownWidth:200,recordingKey:e.recordingKey,svg:eX(e.endPoint,!1,o),fallbackSvg:eX(e.endPoint,!0,o),svgClassName:e.disabled?L.ei:L._W,dropdownOverride:(0,y.Er)(e.endPoint)?void 0:"NONE"===e.endPoint?(0,m.t)("fullscreen.properties_panel.stroke_settings.none"):" ",disabled:e.disabled},eZ.map(t=>n.createElement(eq,{key:t,value:t,recordingKey:s.Mx(e,t)},n.createElement("span",{className:L._Y},n.createElement(u._,{className:L.g1,svg:eJ(t,"default"),fallbackSvg:eJ(t,"fallback")}),n.createElement(p.E,{text:r.format(t)})))),n.createElement(O.Wy,null),ez.map(t=>n.createElement(eq,{key:t,value:t,recordingKey:s.Mx(e,t)},n.createElement("span",{className:L._Y},n.createElement(u._,{className:L.g1,svg:eJ(t,"default"),fallbackSvg:eJ(t,"fallback")}),n.createElement(p.E,{text:r.format(t)})))))))}e0.displayName="EndPointSettings";class e1 extends A.G{}class e2 extends A.n{}function e4(e){let t=(0,i.OY)();return n.createElement("div",{className:L.U$},n.createElement(C.WA,null,n.createElement(C.iM,{className:e.disabled?L.OC:L.U9},n.createElement(m.Tx,{id:"fullscreen.properties_panel.stroke_settings.join"}))," ",n.createElement(e1,{className:L.kn,property:e.disabled?void 0:e.strokeJoin,onChange:t=>{e.onChange({strokeJoin:t})},disabled:e.disabled,recordingKey:e.recordingKey},n.createElement(e2,{svg:eI.c,value:"MITER",tooltip:(0,m.t)("fullscreen.properties_panel.stroke_settings.miter"),recordingKey:s.Mx(e,"MITER")}),n.createElement(e2,{svg:ev.c,value:"BEVEL",tooltip:(0,m.t)("fullscreen.properties_panel.stroke_settings.bevel"),recordingKey:s.Mx(e,"BEVEL")}),n.createElement(e2,{svg:ew.c,value:"ROUND",tooltip:(0,m.t)("fullscreen.properties_panel.stroke_settings.round_join"),recordingKey:s.Mx(e,"ROUND")}))),!e.disabled&&"MITER"===e.strokeJoin&&n.createElement(C.WA,null,n.createElement(C.iM,{className:e.disabled?L.pC:L.C8},n.createElement(m.Tx,{id:"fullscreen.properties_panel.stroke_settings.miter_angle"})),n.createElement(w.iA,{className:L.w3,disabled:e.disabled||"MITER"!==e.strokeJoin,value:e.miterLimitAngle,onValueChange:t=>{e.onChange({miterLimitAngle:t})},recordingKey:s.Mx(e,"miterAngle"),tooltipForScreenReadersOnly:!0,"data-tooltip-type":I.wL.TEXT,"data-tooltip":(0,m.t)("fullscreen.properties_panel.stroke_settings.miter_angle"),dispatch:t})))}function e3(e){let t=(0,i.OY)(),r=(0,b.s5)(E.KEP.propertiesPanelState().isVertexSelectionAndHasEndpoints);if(!e.pickerShown)return null;let a=new c.Cg(e.pickerShown.initialX,e.pickerShown.initialY),{strokePanelMode:o,strokePanelTerminalPointCount:l,numSelectedByType:d,arcRadius:u,arcSweep:p}=e,h=o===E.ekv.ENDPOINT||o===E.ekv.VECTOR&&l>0||r,g=o!==E.ekv.PENCIL,y=o===E.ekv.VECTOR||o===E.ekv.VERTEX,v=o===E.ekv.VECTOR&&0===l,I=v&&d&&1===Object.keys(d).length&&d.ELLIPSE&&1===u&&0!==p,w=e.strokePanelMode===E.ekv.VECTOR&&"LINE"!==eV(e.dashPattern)&&e.terminalCap?e.terminalCap:e.strokeCap;return n.createElement(T.G0,{title:(0,m.t)("fullscreen.properties_panel.stroke_settings.advanced_stroke"),initialPosition:a,headerSize:"small",onClose:()=>{t(_.U5()),f.CA.deselectProperty()},recordingKey:s.Mx(e,"modal"),initialWidth:eR},n.createElement(eK,{onChange:e.onChange,strokePanelMode:e.strokePanelMode,strokePanelTerminalPointCount:e.strokePanelTerminalPointCount,connectorLineStyle:e.connectorLineStyle,dashPattern:e.dashPattern,dashCap:e.dashCap,maxStrokeWeight:e.maxStrokeWeight,strokeCap:e.strokeCap,terminalCap:e.terminalCap,dropdownShown:e.dropdownShown,recordingKey:s.Mx(e.recordingKey,"lineStyle")}),h&&n.createElement(e0,{onChange:e.onChange,endPoint:w,dropdownShown:e.dropdownShown,strokePanelTerminalPointCount:e.strokePanelTerminalPointCount,disabled:v&&!I&&!r,recordingKey:s.Mx(e.recordingKey,"endPoint"),strokePanelMode:o}),g&&n.createElement(e4,{onChange:e.onChange,strokeJoin:e.strokeJoin,miterLimitAngle:e.miterLimitAngle,disabled:!y,recordingKey:s.Mx(e.recordingKey,"join")}))}e4.displayName="StrokeJoinAndMiterAngleSettings"},200251:(e,t,r)=>{"use strict";r.d(t,{Al:()=>E,C4:()=>w,Go:()=>b,Uf:()=>f,W_:()=>I,ak:()=>h,mh:()=>g,yk:()=>v});var n=r(307824),i=r(120304),a=r(843148),o=r(675695),l=r(4596),s=r(762820),c=r(540696),d=r(397888),u=r(392992),p=r(53064),m=r(719876),_=r(790184);function h(e){return`styles-picker-${e}`}function g(e){return e.stylePickerShown.isShown&&e.stylePickerShown.id===h(e.inheritStyleKeyField)?e.stylePickerShown:null}function f(e){return e&&(0,l.U3)(e.guid)}function E(e){let t=(0,c.kB)(e);return t&&t!==o.YT.INVALID}function y({library:e,sceneGraph:t,inheritStyleKey:r,inheritStyleID:n}){let i=(0,c.kB)(r);if(!i)return null;let a=(0,c.kB)(n);if(!a)return null;let s=(0,l.MR)(a),d=Object.values(e.local.styles).find(e=>e.node_id===s);if(d)return d.is_soft_deleted?null:d;let u=t.get(s);return u?{key:i,style_type:u.styleType,type:_.Af.STYLE,node_id:s,name:u.name,isLocal:!1,content_hash:u.styleVersionHash??void 0,userFacingVersion:(0,o.SI)(u.userFacingVersion),file_key:"",library_key:u.sourceLibraryKey}:null}function b({library:e,sceneGraph:t,inheritStyleKey:r,inheritStyleID:n}){if((0,a.Ub)().ds_zombie_styles_fixes)return y({library:e,sceneGraph:t,inheritStyleID:n,inheritStyleKey:r});if(!E(r))return null;let i=(0,c.kB)(r);if(!i)return null;let o=Object.values(e.local.styles).find(e=>e.key===i);if(o&&!o.is_soft_deleted)return o;let l=(0,m.k)({library:e},i,(0,c.kB)(n));return(null==l?void 0:l.status)==="loaded"?l.data:null}function v(e,t,r){let o=(0,i.w1)(e=>e.library),l=(0,d.ct)(),s=(0,p.VS)(),c=(0,u.K0)(),m=y({library:o,sceneGraph:l,inheritStyleKey:e,inheritStyleID:t}),_=n.useMemo(()=>{if(!e)return null;let n=b({library:o,inheritStyleKey:e,inheritStyleID:t,sceneGraph:l});if(n)return n;for(let t of Object.values(s))if((null==t?void 0:t.status)==="loaded"&&t.data.fileKey!==c){for(let n of(0,p.C8)(t,r))if(n.key===e)return n}return null},[t,e,s,o,c,l,r]);return(0,a.Ub)().ds_zombie_styles_fixes?m:_}function I(e){return{dropdownShown:e.dropdownShown,openFile:e.openFile,library:e.library,modalShown:e.modalShown,pickerShown:e.pickerShown,sceneGraphSelection:e.sceneGraphSelection,selectedStyleProperties:e.selectedStyleProperties,stylePickerShown:e.stylePickerShown,hasMissingFont:e.hasMissingFont,hasMixedProperties:e.hasMixedProperties||!1,inheritStyleKey:e.inheritStyleKey,inheritStyleKeyField:e.inheritStyleKeyField,inheritStyleID:e.inheritStyleID,stylePickerListLayout:e.stylePickerListLayout,styleType:e.styleType,onToggleListLayout:e.onToggleListLayout,dispatch:e.dispatch}}function w(e){if(!e)return;let t=e=>(0,l.U3)((0,l.K0)(e))?e:void 0;return t(s.i46.getStyleNodeId(e.key,e.version))??t(s.i46.getSoftDeletedStyleNodeId(e.key,e.version))}},6264:(e,t,r)=>{"use strict";r.d(t,{SK:()=>d,Ss:()=>c,uc:()=>u});var n=r(307824),i=r(120304),a=r(972920),o=r(659436),l=r(833492),s=r(364540);function c(e,t){let r=(0,i.OY)(),l=n.useMemo(()=>(0,a.C)(r,200),[r]);n.useEffect(()=>{(null==t?void 0:t.skip)||l(o.Mn({styleType:e}))})}function d(e){let t=(0,i.OY)(),r=n.useMemo(()=>(0,a.C)(t,200),[t]);n.useEffect(()=>{r(o.Mn({styleType:e}))},[r,e])}function u(e){let t=(0,l.g)();return n.useMemo(()=>t&&t.type===s.zU&&t.data.style.style_type===e?t:null,[t,e])}},184e3:(e,t,r)=>{"use strict";let n;r.d(t,{O2:()=>s,OA:()=>o,OO:()=>c,_O:()=>l});var i=r(309812),a=r(762056),o=((n=o||{})[n.UNDER_DEVELOPMENT=0]="UNDER_DEVELOPMENT",n[n.READY=1]="READY",n);function l(e){let t=(0,i.Ci)(),r=(0,a.S2)(a.YP.propertiesDevelopment);return void 0===e&&(e=1),!!((1===e||r)&&t)}function s(){return l(0)}function c(){return l(1)}},195260:(e,t,r)=>{"use strict";r.d(t,{GQ:()=>E,OU:()=>y,WG:()=>w,_8:()=>g,_o:()=>v,gn:()=>h,m2:()=>f,np:()=>m,uu:()=>_});var n=r(307824),i=r(125504),a=r.n(i),o=r(853688),l=r(537096),s=r(979144),c=r(84656),d=r(471111),u=r(498970),p=r(105644);let m=(0,n.forwardRef)(function({leftLabel:e,leftInput:t,rightLabel:r,rightInput:i,appendedClassName:o,icon:l,...s},c){return n.createElement("div",{className:a()(u.gD,o),ref:c,...s,"data-non-interactive":!0},null!=e?n.createElement(T,null,e):null,n.createElement("div",{className:u.Ux,"data-non-interactive":!0},t),null!=r?n.createElement(S,null,r):null,n.createElement("div",{className:u.ag,"data-non-interactive":!0},i),n.createElement(I,null,l))});(0,n.forwardRef)(function({leftLabel:e,leftInput:t,rightLabel:r,rightInput:i,appendedClassName:o,...l},s){return n.createElement("div",{className:a()(u.oN,o),ref:s,...l,"data-non-interactive":!0},null!=e?n.createElement(T,null,e):null,n.createElement("div",{className:u.Ux,"data-non-interactive":!0},t),null!=r?n.createElement(S,null,r):null,n.createElement("div",{className:u.ag,"data-non-interactive":!0},i))}),(0,n.forwardRef)(function({label:e,input:t,inputSize:r,...i},o){return n.createElement("div",{className:a()(u.MF),style:{gridTemplateColumns:"small"===r?"3fr 1fr":"1fr 1fr"},ref:o,...i,"data-non-interactive":!0},n.createElement("div",{className:u.a4,"data-non-interactive":!0},e),n.createElement("div",{className:u.Je,"data-non-interactive":!0},t))});let _=(0,n.forwardRef)(function({label:e,leftIcon:t,input:r,firstRightIcon:i,secondRightIcon:a,...o},l){return n.createElement("div",{className:u.Eh,ref:l,...o,"data-non-interactive":!0},null!=e?n.createElement(T,null,e):null,n.createElement("div",{className:u.QX,"data-non-interactive":!0},t),n.createElement("div",{className:u.Je,"data-non-interactive":!0},r),n.createElement("div",{className:u.Id,"data-non-interactive":!0},i),n.createElement("div",{className:u.AB,"data-non-interactive":!0},a))}),h=(0,n.forwardRef)(function({label:e,input:t,icon:r,appendedClassName:i,...o},l){let s=a()(u.oR,i);return n.createElement("div",{className:s,ref:l,...o,"data-non-interactive":!0},null!=e?n.createElement(T,null,e):null,n.createElement("div",{className:u.Ux,"data-non-interactive":!0},t),n.createElement(I,null,r))}),g=(0,n.forwardRef)(function({input:e,label:t,appendedClassName:r,alwaysShowLabel:i,...o},l){return n.createElement("div",{className:a()(u.Iz,r),ref:l,...o,"data-non-interactive":!0},t?n.createElement(T,{alwaysShowLabel:i},t):null,n.createElement("div",{className:u.Ux,"data-non-interactive":!0},e))}),f=(0,n.forwardRef)(function({input:e,leftIcon:t,rightIcon:r,appendedClassName:i,...l},s){let c=a()(u.An,i);return n.createElement(o.g9,{className:c,forwardedRef:s,...l,"data-non-interactive":!0},n.createElement("div",{className:u.wZ,"data-non-interactive":!0}," ",e," "),n.createElement("div",{className:u.mQ,"data-non-interactive":!0}," ",t," "),n.createElement("div",{className:u.wt,"data-non-interactive":!0}," ",r," "))}),E=(0,n.forwardRef)(function({input:e,children:t,appendedClassName:r,...i},l){let s=a()(u.Qj,r);return n.createElement(o.g9,{className:s,forwardedRef:l,...i,"data-non-interactive":!0},n.createElement("div",{className:u.wZ,"data-non-interactive":!0},e),n.createElement("div",{className:u.mS},t))}),y=(0,n.forwardRef)(function(e,t){let r=a()(u.eW,e.appendedClassName),i=null!=e.leftInput?n.createElement("div",{className:u.qQ},e.leftInput):e.topLeftInput,l=null!=e.rightInput?n.createElement("div",{className:u.qQ},e.rightInput):e.topRightInput,s=null!=e.leftInput?null:n.createElement("div",null,e.bottomLeftInput),c=null!=e.rightInput?null:n.createElement("div",null,e.bottomRightInput);return n.createElement(o.g9,{className:r,forwardedRef:t,...e,"data-non-interactive":!0},n.createElement(T,null,e.leftLabel),n.createElement(S,null,e.rightLabel),n.createElement(b,null),i,l,n.createElement("div",null,e.topIcon),s,c,n.createElement("div",null,e.bottomIcon))});function b({}){return n.createElement("div",{"data-non-interactive":!0})}function v({children:e}){return n.createElement("span",{"aria-hidden":"true"},e)}function I({children:e}){return e?n.createElement("div",{className:u.g6,"data-non-interactive":!0},e):null}let w=(0,n.forwardRef)(function({selected:e,grabberClassName:t,hideGrabber:r,singletonRow:i,dragging:s,children:c,selectedSecondary:m,..._},h){let g=!r&&(!i||s),f=e&&s?d.Wk:d.mY,E=m?u.Ax:e?u.oD:"";return n.createElement(o.g9,{..._,forwardedRef:h,className:E},g&&n.createElement("div",{className:a()(t,{[u.q_]:s,[u.Yf]:!s})},(!s||e)&&n.createElement(l.A,{className:f,svg:p.c})),c)});function T({children:e,alwaysShowLabel:t}){return(0,c.s5)((0,s.EB)().showPropertyLabels)||t?n.createElement("span",{"aria-hidden":"true",className:u.Yr,"data-non-interactive":!0},e):n.createElement(b,null)}function S({children:e}){return(0,c.s5)((0,s.EB)().showPropertyLabels)?n.createElement("span",{"aria-hidden":"true",className:u.qD,"data-non-interactive":!0},e):n.createElement(b,null)}},838432:(e,t,r)=>{"use strict";r.d(t,{q:()=>i});var n=r(101492);let i=new(r(211204)).C({name:"properties_panel",enforce:!1,dependencies:[],exports:["views"],friendFiles:[],routeHints:["fullscreen","design"]}).createLazyComponent(()=>Promise.all([r.e(7493),r.e(8332),r.e(7900),r.e(9508),r.e(2240),r.e(6352),r.e(1708),r.e(8980),r.e(1884),r.e(6005),r.e(2809),r.e(1064),r.e(5268),r.e(168),r.e(6813)]).then(r.bind(r,996784)).then(e=>e.PropertiesPanel),{loading:()=>null,error:n.Yd.NONE,componentName:"LazyPropertiesPanel"})},819688:(e,t,r)=>{"use strict";let n,i;r.d(t,{Mv:()=>em,oB:()=>ef,oT:()=>eo});var a=r(307824),o=r(120304),l=r(125504),s=r.n(l),c=r(404920),d=r(250008),u=r(916924),p=r(721500),m=r(760780),_=r(843148),h=r(623131),g=r(372152),f=r(87975),E=r(21036),y=r(47956),b=r(888932),v=r(853688),I=r(418084),w=r(915880),T=r(703520),S=r(71556),C=r(537096),A=r(560072),O=r(995076),N=r(403132),L=r(191352),R=r(629968),P=r(523292),M=r(490820),k=r(647812),D=r(392992),F=r(32636),x=r(270588),U=r(611996),B=r(514916),G=r(165032),V=r(996272),H=r(790184),W=r(784528),K=r(569532),Y=r(46756),q=r(931128),j=r(75796),$=r(888860),Z=r(112768),z=r(720876),Q=r(171992),X=r(756372),J=r(921204),ee=r(50600),et=r(703072),er=r(763456),en=r(531163),ei=r(854004),ea=r(241626);let eo="insert",el=(0,p.qe)(er.Av$),es="Quick Actions Component Search",ec=(0,p.qe)(er.cbY),ed=en.qwm+1,eu=(0,h.Zf)(!1),ep=(0,h.Zf)({type:$.Y.ALL});var em=((n=em||{}).KEYBOARD_SHORTCUT="Keyboard Shortcut (Shift + I)",n.MENU_OPTION="Menu Option",n.INSERT_TAB="Insert [Tab]",n),e_=((i=e_||{}).KEYBOARD_OR_CLICK="Keyboard navigation or click",i.DRAG_AND_DROP="Drag and drop",i);let eh=(0,h.Zf)(""),eg=(0,h.Zf)([]);function ef(){var e;let[t,r]=(0,g.lZ)(eh),[n,i]=(0,a.useState)(!1),[l,s]=(0,g.lZ)(eu),[p,h]=(0,g.lZ)(eg),[E,v]=(0,g.lZ)(ep),[O,M]=(0,a.useState)({type:""}),[k,F]=(0,a.useState)(""),x=(0,a.useRef)(null);(0,m.u)(()=>{var e;null==(e=x.current)||e.select()});let H=(0,o.w1)(V.kX),q=(0,o.w1)(G.Ap),Q=(0,o.w1)(e=>e.currentUserOrgId),ee=(0,o.w1)(D.w5),er=(0,o.w1)(V.Ad),en=(0,o.w1)(V.gH),eo=(0,o.w1)(e=>e.dropdownShown),ed=(0,R.a0)(),em=(0,_.cp)().tracking_session_id,e_=(null==eo?void 0:eo.type)===W._s?null==(e=eo.data)?void 0:e.entryPoint:void 0,ef=(0,o.OY)();U.s1.useInitSearch(),(0,m.u)(()=>{(0,d.we)("quick_actions.search_opened",{tracking_session_id:em,searchSessionId:k,entryPoint:e_}),eI()});let ev=(0,a.useCallback)(()=>{k&&(0,d.we)("quick_actions.search_session_end",{tracking_session_id:em,searchSessionId:k,entryPoint:e_})},[e_,k,em]);a.useEffect(()=>ev,[e_,ev,k,em]);let eI=(0,a.useCallback)(()=>{ev(),F((0,I.c)()),(0,d.we)("quick_actions.search_session_start",{tracking_session_id:em,searchSessionId:k,entryPoint:e_})},[e_,ev,k,em]),ew=(0,a.useCallback)(()=>{ef(N.yi())},[ef]),eT=(0,a.useCallback)(()=>{ef(N.Qn({type:W.ET,hasOwnEscKeyHandler:!0}))},[ef]),eS=(0,c.c)(async e=>{let t=new y.QD("quick_actions.search_query_time",{});t.start();let r=await eA(e);h((0,U.yY)(r.normalizedSearchResults)),i(!1);let n=t.stop();(0,d.we)("quick_actions.search_query_time",{query:e,searchResultCount:r.normalizedSearchResults.length,searchType:E.type,searchElapsedTime:n,tracking_session_id:em,searchSessionId:k,entryPoint:e_})},200),eC=(0,L.me)(q)===B.aE.DESIGN,eA=a.useCallback(e=>{switch(E.type){case $.Y.LOCAL:return U.s1.computeLocalResultsPromise(e,null==ee?void 0:ee.key);case $.Y.FILE:return U.s1.computeFileResultsPromise(e,E.fileKey,eC,ed);case $.Y.RECENT:case void 0:case $.Y.ALL:return U.s1.computeAllResultsPromise(e,eC,H,Q,ee,er,ed);default:return(0,u.gy)(E,"unknown search type")}},[E,Q,er,H,ed,eC,ee]),eO=a.useCallback(e=>{ee&&(e?(r(e),i(!0),eS(e)):(r(""),i(!1),eS.cancel(),h([]),eI()))},[eS,ee,eI,r,h]),eN=(0,a.useCallback)(e=>eO(e.currentTarget.value),[eO]),eL=(0,a.useCallback)(e=>{if(e.keyCode===f.as.BACKSPACE&&0===e.currentTarget.value.length||(b.cp.mac?(0,f.MP)(e,f.Cs.META):(0,f.MP)(e,f.Cs.CONTROL))&&(e.keyCode===f.as.P||e.keyCode===f.as.FORWARD_SLASH)){e.preventDefault(),eT();return}},[eT]),eR=(0,a.useCallback)(()=>{if(0===p.length)return a.createElement("div",{className:ei.J2},a.createElement("p",{className:ei.yU},a.createElement(A.Tx,{id:"fullscreen_actions.quick_actions_component_search.no-results",searchQuery:t})));let e=(0,j.kr)(p,!0),r={layout:e,isList:l,containerWidth:l?el:el-4*ec,maxSmallThumbSize:X.cx,maxWideColWidth:X.or},n=(0,j.eK)(r),{width:i,height:o}=(0,j.Ez)(r,n);return a.createElement(S.f,{hideScrollbar:!0,className:ei.TT},a.createElement("div",{className:l?ei.wV:ei.kz},p.map((r,n)=>a.createElement(ey,{key:eb(r.node_id),afterSuccessfulInsert:ew,asset:r,fileNameByKey:en,isList:l,thumbLayout:e,thumbHeight:o,thumbWidth:i,row:l?n+1:Math.floor(n/4)+1,column:l?0:n%4,assetTypeDropdownSelection:E.type,searchQuery:t,searchSessionId:k??"",entryPoint:e_,openFileKey:(null==ee?void 0:ee.key)??""}))))},[p,l,t,ew,en,E.type,k,e_,null==ee?void 0:ee.key]),eP=(0,g.m4)(Y.k),eM=a.useMemo(()=>{if(eP.data)return eP.data.filter(e=>!(0,P.Aj)(e.fileKey))},[eP.data]),ek=a.useMemo(()=>{let e={};return"loaded"!==eP.status||eM&&eM.forEach(t=>{e[t.fileKey]=t.name}),e},[eP.status,eM]),eD=(0,a.useCallback)(()=>{var e;s(e=>!e),null==(e=x.current)||e.focus()},[s]),eF=(0,a.useCallback)(e=>{var t;e.keyCode===f.as.BACKSPACE&&(null==(t=x.current)||t.focus())},[]);return a.createElement(K.W,null,a.createElement(J.W,{onKeyDown:eF},a.createElement(w.O8,null,a.createElement("div",{className:et.kv},a.createElement(C.A,{svg:ea.c,className:et.I6}),a.createElement("div",{className:ei.I9},a.createElement(A.Tx,{id:"fullscreen_actions.quick_actions_component_search.insert"})),a.createElement(eE,{onSearchInputChange:eN,searchQuery:t,searchSessionId:k,trackingSessionId:em,entryPoint:e_,onKeyDown:eL,searchInputRef:x})),t&&a.createElement("div",null,a.createElement("div",{className:ei.kF},a.createElement(Z.s,{assetType:E,libraryNameByFileKey:ek,onSetAssetType:function(e){var r;v(e),eO(t),null==(r=x.current)||r.focus()},validAssetTypeOptions:$.e,useLocalState:!0,onHideDropdownOverride:()=>{M({type:""})},onShowDropdownOverride:()=>{M({type:Z.U})},dropdownShown:O}),a.createElement(z.g,{recordingKey:es,isList:l,onToggleViewMode:eD,disabled:0===p.length})),n?a.createElement("div",{className:ei.OS},a.createElement(T.M7,{className:ei.kH})):eR()))))}function eE({onSearchInputChange:e,searchQuery:t,searchSessionId:r,trackingSessionId:n,entryPoint:i,onKeyDown:o,searchInputRef:l}){let{setKeyboardNavigationElement:s}=(0,w._G)({path:[0],column:0});return a.createElement(v.aw,{onKeyDown:o,forwardedRef:(0,E.c)(l,s),className:et.k$,placeholder:(0,A.t)("fullscreen_actions.quick_actions_component_search.search-prompt"),onChange:e,value:t,maxLength:150,spellCheck:!1,onFocus:()=>{(0,d.we)("quick_actions.search_focused",{tracking_session_id:n,searchSessionId:r,entryPoint:i})},onBlur:()=>{(0,d.we)("quick_actions.search_unfocused",{tracking_session_id:n,searchSessionId:r,entryPoint:i})}})}function ey({asset:e,fileNameByKey:t,thumbLayout:r,thumbHeight:n,thumbWidth:i,isList:o,row:l,column:c,assetTypeDropdownSelection:d,searchQuery:u,searchSessionId:p,afterSuccessfulInsert:m,entryPoint:_,openFileKey:h}){let{setKeyboardNavigationElement:g}=(0,w._G)({path:[l],column:c}),f=(0,M.my)(e.file_key),E=(0,M.ec)(e.file_key,f),y=a.useMemo(()=>({assetKey:(0,M.OC)(e),assetFileKey:(0,O.j)(e),assetLibraryKey:e.library_key,sectionPosition:4*l+c,assetTypeDropdownSelection:d,libraryType:f,viewMode:o?"LIST":"GRID",searchQuery:u,searchSessionId:p,source:es,sourceSection:es,type:e.type===H.Af.COMPONENT?"component":"state_group",subscriptionLevel:E}),[e,d,c,o,f,l,u,p,E]),b=(0,k.q)({canSwap:!1,openFileKey:h,sourceForTracking:es,insertAsChildOfCanvas:!0,insertLogArgsOverride:{...y,entryPoint:_,insertionAction:"Keyboard navigation or click"}}),{onInsertableResourcePointerDown:I,dragState:T}=(0,x.S)({isList:o,sourceForTracking:es,resource:e,clickToInsert:!1,insertLogArgsOverride:{...y,entryPoint:_,insertionAction:"Drag and drop"},afterSuccessfulInsert:m}),S=(0,a.useCallback)(t=>{b(t,e),m()},[m,e,b]);return a.createElement(v.iH,{key:eb(e.node_id),forwardedRef:g,className:o?ei.kb:s()(ee.ul,ee.Ke),onPointerDown:I,onClick:S},a.createElement(F.Q,{dragState:T,isList:o,zIndexOverride:ed}),a.createElement("div",{className:ei.Oc},a.createElement(q.u,{asset:e,fileName:e.file_key?null==t?void 0:t[e.file_key]:void 0,sourceForTracking:es,thumbLayout:r,thumbHeight:n,thumbWidth:i,viewMode:o?Q.sz.List:Q.sz.Grid,noFlyout:!0,sectionNameForTracking:es,preventDrag:!0,disableContextMenu:!0})))}function eb(e){return`quick-actions-tile-${e}`}},754752:(e,t,r)=>{"use strict";r.d(t,{EL:()=>K,EZ:()=>j});var n=r(307824),i=r(120304),a=r(250008),o=r(139776),l=r(843148),s=r(87975),c=r(888932),d=r(570464),u=r(234284),p=r(418084),m=r(537096),_=r(778524),h=r(560072),g=r(765064),f=r(403132),E=r(907236),y=r(341296),b=r(854096),v=r(883528),I=r(858880),w=r(859264),T=r(555168),S=r(979144),C=r(713620),A=r(84656),O=r(89936),N=r(517164),L=r(784528),R=r(197788),P=r(819688),M=r(140204),k=r(614420),D=r(835228),F=r(667952),x=r(848844),U=r(48228),B=r(467188),G=r(520028),V=r(793400),H=r(901460),W=r(241626);let K=e=>(0,b.wt)(e)&&!e.hideCheckForQuickCommand;class Y extends d.UR{constructor(e){super(e),this.searchInputRef=n.createRef(),this.scrollContainerRef=n.createRef(),this.listboxId=(0,p.c)(),this.resultPrefix=(0,p.c)(),this.delayedCloseTimerID=0,this.updateQueryAndResults=e=>{let t;if(e){let r=this.searchIndex.search(this.props.appModel,e.trim());t=this.sortedByEnabledSearchResults(r)}else t=this.recentlyUsedItemsMenu();this.setState({searchQuery:e,searchResults:t,resultsType:e?"searchResults":"suggestions",activeItemIndex:0,mouseMoved:!1})},this.cancelDelayedClose=()=>{0!==this.delayedCloseTimerID&&(clearTimeout(this.delayedCloseTimerID),this.delayedCloseTimerID=0)},this.onClick=d.yw(this,"click",e=>{(null==e?void 0:e.button)!==0||this.state.searchResults.length>0||this.setState({searchResults:this.searchIndex.list(this.props.appModel)})}),this.onKeyDown=d.Yh(this,"keydown",e=>{let t=this.getResults(),r=e=>{if(t.length>0){let r=this.state.activeItemIndex+e,n=r<0?t.length-1:r%t.length,i=1!==t.length||!this.state.displayAriaActiveDescendant;this.setState({activeItemIndex:n,displayAriaActiveDescendant:i}),this.scrollContainerRef.current.scrollElementAtIndexIntoView(n)}},n=(0,s.MP)(e,s.Cs.CONTROL),i=c.cp.mac?(0,s.MP)(e,s.Cs.META):n,a=c.cp.mac&&n;switch(e.keyCode){case s.as.ENTER:if(e.preventDefault(),t.length>0){let e=t[this.state.activeItemIndex];T.Pc.user(`quick-actions-select-${e.name??e.action??"unknown"}`,()=>{this.onSelectItem(e)})}break;case s.as.ESCAPE:e.preventDefault(),this.cancelDelayedClose(),this.props.dispatch(f.yi());break;case s.as.N:case s.as.DOWN_ARROW:if(e.keyCode===s.as.N&&!a){(0,C.eI)(e,C.fh.NO);break}e.preventDefault(),this.cancelDelayedClose(),r(1);break;case s.as.P:case s.as.UP_ARROW:if(e.keyCode===s.as.P&&!a){(0,C.eI)(e,C.fh.NO);break}e.preventDefault(),this.cancelDelayedClose(),r(-1);break;case s.as.TAB:{e.preventDefault();let r=t.length;if(r>0&&this.state.activeItemIndex<r){let e=t[this.state.activeItemIndex];e.args&&e.args.itemParameterArgs&&this.onStartParameterMode(e.args.itemParameterArgs,e,"tab")}break}case s.as.R:case s.as.S:case s.as.D:case s.as.E:case s.as.F:case s.as.O:if(i){e.preventDefault();let t=this.state.searchQuery+e.key;this.updateQueryAndResults(t)}break;default:"Meta"!==e.key&&"Ctrl"!==e.key&&this.cancelDelayedClose(),(0,C.eI)(e,C.fh.NO)}}),this.onSearchChange=d.cJ(this,"change",e=>{let t=e.currentTarget.value;this.updateQueryAndResults(t)}),this.onSearchKeyDown=e=>{e.currentTarget.value.trim().toLowerCase()===P.oT&&e.keyCode===s.as.TAB&&this.props.dispatch(f.Qn({type:L._s,data:{entryPoint:P.Mv.INSERT_TAB}}))},this.onSelectItem=(e,t)=>{var r;if(e.disabled)this.cancelDelayedClose();else{let n=!1;if(null==(r=e.args)?void 0:r.itemParameterArgs){if(e.runPluginArgs&&!this.state.searchQuery)O.m.instance.enqueue({mode:"run-forever",runPluginArgs:e.runPluginArgs}),n=!0;else if(e.parametersRequired){this.onStartParameterMode(e.args.itemParameterArgs,e,(null==t?void 0:t.type)==="click"?"click":"enter");return}}e.callback&&!n&&(e.callback((0,b.CB)(e),e.args,this.props.dispatch),n=!0),e.action&&(w.Qb.get(e.action,"quick-actions",e.args)(t),n=!0),n&&this.addToRecentlyUsedCommands(e,e.runPluginArgs);let i="plugins-menu-item"===e.name&&e.args&&e.args.plugin_search_string,o=i?e.args.plugin_search_string:e.action??e.name;if((0,a.we)("Quick Actions Action",{action:o,searchQuery:this.state.searchQuery,isPlugin:i}),"toggle-publish"===e.action&&(0,_.Y9)({id:"insert-component-onboarding-event"}),"component-search"===e.name){this.onEnterComponentSearch(e);return}if(K(e)&&!(0,u.MZ)()){this.cancelDelayedClose(),this.delayedCloseTimerID=setTimeout(()=>{this.props.dispatch(f.yi())},300);return}this.props.dispatch(f.yi())}},this.renderResult=(e,t)=>{let r=t===this.state.activeItemIndex;return n.createElement($,{role:"option",id:this.getResultId(t),key:e.action||t,recordingKey:d.Mx(this.props,e.action||"searchResult"),active:r,disabled:!!e.disabled,appModel:this.props.appModel,item:e,isLastItem:t===this.state.searchResults.length-1,actionIcon:this.getActionIcon(e),onClick:t=>this.onSelectItem(e,t),onMouseMove:()=>{this.state.mouseMoved||this.setState({mouseMoved:!0,activeItemIndex:t})},onMouseEnter:()=>{this.state.mouseMoved&&this.setState({activeItemIndex:t})},allSavedPlugins:this.props.pluginAndWidgetMenuArgs.allSavedPlugins,publishedPlugins:this.props.pluginAndWidgetMenuArgs.publishedPlugins,searchQuery:this.state.searchQuery,compact:this.props.compact})};let t=(0,y.q)({extensionMenuProps:this.props.pluginAndWidgetMenuArgs,appModel:this.props.appModel,includeDisabled:!0});this.searchIndex=new R.G(this.props.appModel,this.props.selectedView,[...this.props.fullscreenMenuItems,...t],{includeDisabled:!0,acceptsUnicode:"ja"===this.props.locale}),this.state={searchQuery:"",searchResults:[],suggestions:this.suggestions(),resultsType:"suggestions",activeItemIndex:0,displayAriaActiveDescendant:!0,mouseMoved:!1}}componentDidMount(){super.componentDidMount(),this.searchInputRef.current&&this.searchInputRef.current.focus()}suggestions(){return(0,D.BQ)(this.props.scenegraph,this.props.scenegraphSelection,this.searchIndex,this.props.appModel)}recentlyUsedItemsMenu(){return(0,o.Ib)(this.props.recentlyUsedQuickCommands.map(e=>{let t=this.searchIndex.getItem(this.props.appModel,e.displayName);return t&&e.runPluginArgs&&(t.runPluginArgs=e.runPluginArgs),t}))}sortedByEnabledSearchResults(e){let t=e.filter(e=>!e.disabled),r=e.filter(e=>e.disabled);return t.concat(r)}addToRecentlyUsedCommands(e,t){let r=(0,k.E)(e),n=this.props.recentlyUsedQuickCommands.filter(e=>e.displayName!==r&&!!this.searchIndex.getItem(this.props.appModel,e.displayName));n.length>=3&&n.pop(),n.unshift({displayName:r,runPluginArgs:t}),this.props.dispatch(E.QV(n))}getActionIcon(e){var t;if(e.runPluginArgs&&!this.state.searchQuery)return n.createElement(m.A,{svg:H.c});if(n.isValidElement(e.iconType))return e.iconType;if("plugins-menu-item"===e.name){let r;return(e.pluginId&&(r=this.props.pluginAndWidgetMenuArgs.allSavedPlugins[e.pluginId]||(null==(t=this.props.pluginAndWidgetMenuArgs.recentlyUsedPlugins)?void 0:t.find(t=>t.plugin_id===e.pluginId))),r)?n.createElement(N.W,{className:U.Wk,plugin:r,role:"presentation"}):n.createElement(m.A,{className:U.Sy,svg:V.c,ariaLabel:`${e.name} icon`})}let r=(0,k.E)(e);if(e.iconType){if("external_link"===e.iconType)return n.createElement(m.A,{svg:G.c})}else if(this.props.recentlyUsedQuickCommands.filter(e=>e.displayName===r).length>0)return n.createElement(m.A,{svg:H.c})}onEnterComponentSearch(e){this.props.onEnterComponentSearch&&(this.addToRecentlyUsedCommands(e),this.props.onEnterComponentSearch())}onStartParameterMode(e,t,r){this.addToRecentlyUsedCommands(t),this.props.onStartParameterEntry(e,t,r)}getResultId(e){return this.resultPrefix+"-"+e}renderResultsHeader(){return this.props.compact?null:"suggestions"===this.state.resultsType&&this.getResults().length>0?n.createElement("div",{className:U.eM},n.createElement(h.Tx,{id:"fullscreen_actions.suggested-actions"})):null}getResults(){return"suggestions"===this.state.resultsType?this.state.suggestions:this.state.searchResults}renderResults(){let e=this.getResults();if(this.state.searchQuery||this.props.compact){if("searchResults"===this.state.resultsType&&0===this.state.searchResults.length)return n.createElement("div",{className:U.WK},n.createElement(h.Tx,{id:"fullscreen_actions.no_matches"}));if("suggestions"===this.state.resultsType&&0===this.state.suggestions.length)return n.createElement("div",{className:U.eC},n.createElement(h.Tx,{id:"fullscreen_actions.no_actions_available"}))}else if(0===e.length)return null;return n.createElement(x.y,{id:this.listboxId,ref:this.scrollContainerRef,resultCount:e.length,role:"listbox",compact:this.props.compact},e.map(this.renderResult))}render(){let e=this.state.searchQuery||this.state.searchResults.length;return n.createElement(x.W,{recordingKey:this.props.recordingKey||"",onKeyDown:this.onKeyDown,"data-testid":"quick-actions",compact:this.props.compact},!this.props.compact&&n.createElement("div",{className:U.kv},n.createElement(m.A,{svg:W.c,className:U.I6}),n.createElement("input",{ref:this.searchInputRef,className:U.k$,placeholder:(0,v.W)("quick-actions-with-wand-modal-placeholder"),onChange:this.onSearchChange,onKeyDown:this.onSearchKeyDown,onClick:this.onClick,value:this.state.searchQuery,maxLength:150,spellCheck:!1,dir:"auto",role:"combobox","aria-autocomplete":"list","aria-owns":this.listboxId,"aria-controls":this.listboxId,"aria-expanded":e?"true":"false","aria-activedescendant":e&&(this.state.displayAriaActiveDescendant||this.state.searchResults.length>1)?this.getResultId(this.state.activeItemIndex):void 0})),this.renderResultsHeader(),this.renderResults())}}Y.displayName="QuickActions";let q=(0,i.Ul)(function(e,t){var r;return{pluginAndWidgetMenuArgs:t.pluginAndWidgetMenuArgs,fullscreenMenuItems:t.fullscreenMenuItems,appModel:e.mirror.appModel,selectedView:e.selectedView,recentlyUsedQuickCommands:e.recentlyUsedQuickCommands,scenegraph:e.mirror.sceneGraph,scenegraphSelection:e.mirror.sceneGraphSelection,onStartParameterEntry:t.onStartParameterEntry,onEnterComponentSearch:t.onEnterComponentSearch,locale:null==(r=e.user)?void 0:r.locale,compact:t.compact}},function(e){return{dispatch:e}})(Y);function j(e){let t=(0,I.KO)(),r=(0,I.gN)();return n.createElement(q,{...e,pluginAndWidgetMenuArgs:t,fullscreenMenuItems:r})}function $(e){let t=(0,A.s5)((0,S.EB)().showQuickCommandRankDebug);return n.createElement(Z,{...e,showQuickCommandRankDebug:t})}class Z extends d.UR{constructor(e){super(e),this.onClick=d.yw(this,"click",e=>{if(!this.props.onClick)return d.Cy;this.props.onClick(e)}),this.getDisplayText=()=>{let e=this.props.item,t=e.args;if(t&&t.itemParameterArgs&&e.runPluginArgs&&!this.props.searchQuery)return n.createElement(M.G,{runPluginArgs:e.runPluginArgs,itemParameterArgs:t.itemParameterArgs,pluginId:this.props.item.pluginId,allSavedPlugins:this.props.allSavedPlugins,publishedPlugins:this.props.publishedPlugins});if(t&&t.itemPath){let e=this.props.compact?t.itemPath.slice(-1):t.itemPath;return n.createElement(M.U,{itemPath:e})}let r=(this.props.showQuickCommandRankDebug&&void 0!==e.stringMatchScore&&void 0!==e.popularityScore?`M${e.stringMatchScore} P${e.popularityScore}: `:"")+(0,k.E)(e);return n.createElement("div",{className:U.aS},r)},K(this.props.item)?this.state={itemIsChecked:(0,b.EH)(this.props.appModel,this.props.item)}:this.state={}}componentDidUpdate(e,t){super.componentDidUpdate(e,t),null!=this.state.itemIsChecked&&this.setState({itemIsChecked:(0,b.EH)(this.props.appModel,this.props.item)})}render(){let e=this.props.item,t=this.getDisplayText(),r=(0,b.CB)(e),i=e.shortcutText||(0,L.O0)(this.props.appModel.keyboardShortcuts,r),a=void 0!==this.props.item.runPluginArgs,o=e.args&&e.menuActionType&&"run-local-plugin"===e.menuActionType&&(!e.runPluginArgs||this.props.searchQuery),s="plugins-menu-item"===e.name&&!!e.args.itemParameterArgs&&(e.args.itemParameterArgs.parameters.length>0||e.args.itemParameterArgs.supportsFollowupActions),c=null;void 0!==this.state.itemIsChecked?c=n.createElement(F.a,{checked:this.state.itemIsChecked,disabled:this.props.disabled}):this.props.actionIcon&&(c=this.props.actionIcon);let d=`${this.props.active?U.Qb:U.aG} ${this.props.disabled?U.Qn:""}`;return n.createElement("div",{className:d,onMouseMove:this.props.onMouseMove,onMouseEnter:this.props.onMouseEnter,onClick:this.onClick,id:this.props.id,role:this.props.role,"aria-disabled":this.props.disabled||void 0,"aria-checked":this.props.item.checked},n.createElement("div",{className:U.i4},c),n.createElement("div",{className:U.gd},t,o&&n.createElement("div",{className:U.Co},n.createElement(h.Tx,{id:"fullscreen_actions.development"}))),i&&!s&&n.createElement("div",{className:U.em},i),!i&&s&&n.createElement("div",{className:U.em},n.createElement("div",{className:U.Su},n.createElement(h.Tx,{id:"fullscreen_actions.tab"})),a&&n.createElement("div",{className:U.Sq},n.createElement(h.Tx,{id:"fullscreen_actions.to_edit"})),n.createElement(m.A,{svg:B.c})),!i&&e.isRepairCommand&&(0,l.Ub)().internal_only_debug_tools&&n.createElement("div",{style:g.sx.colorBgTertiary.p8.bRadius8.borderBox.flex.itemsCenter.justifyCenter.mr8.h16.add({fontSize:"8px"}).$},"REPAIR"))}}Z.displayName="QuickActionsResult"},782960:(e,t,r)=>{"use strict";r.d(t,{AB:()=>B,Ap:()=>V,OS:()=>G,k5:()=>H});var n=r(307824),i=r(120304),a=r(125504),o=r.n(a),l=r(250008),s=r(139776),c=r(916924),d=r(768832),u=r(87975),p=r(888932),m=r(570464),_=r(326660),h=r(58908),g=r(537096),f=r(560072),E=r(403132),y=r(907236),b=r(417184),v=r(585508),I=r(291336),w=r(325252),T=r(123576),S=r(687208),C=r(89936),A=r(736144),O=r(316640),N=r(517164),L=r(921204),R=r(937308),P=r(703072),M=r(935680),k=r(241626);let D="Loading suggestions...";function F(e){let t=0,r=0,n=0,i=0;return e.parameters.forEach(e=>{let a=!!e.optional,o=!a,l=!!e.allowFreeform;t+=o?1:0,n+=a?1:0,r+=o&&l?1:0,i+=a&&l?1:0}),{pluginId:e.pluginId,pluginLocalFileId:e.pluginLocalFileId,command:e.command,source:e.pluginId?"imported":"development",displayName:e.displayName,paramCount:t+n,freeformParamCount:r+i,requiredParamCount:t,requiredFreeformParamCount:r,optionalParamCount:n,optionalFreeformParamCount:i,parameterOnly:e.parameterOnly,pluginRunID:(0,O._s)(),triggeredFrom:e.triggeredFrom}}function x(e){(0,c.Uc)(null!==e,"We should never be in the middle state if there are no optional parameters")}class U extends m.UR{constructor(e){let t;if(super(e),this.searchInputRef=n.createRef(),this.scrollContainerRef=n.createRef(),this.searchBarRef=n.createRef(),this.primaryPlaceholderTextRef=n.createRef(),this.ranWithParameters=!1,this.runArgs=null,this.loadingTimerID=null,this.pendingLoadingMessage=null,this.firstOptionalIndex=null,this.eventID=0,this.onSuggestions=e=>{switch(e.type){case"SUGGESTIONS":{let t=this.getDropdownItems(e.suggestions,this.state.searchQuery,this.state.activeParameterIndex),r=t.findIndex(e=>(function(e){return"freeform"!==e&&"skip"!==e})(e)),n=r>=0?r:this.state.activeItemIndex,i=t.length||!this.state.searchQuery?null:(0,f.t)("fullscreen_actions.no_matches");this.clearLoadingMessage(),this.setState({activeItemIndex:n,items:t,errorMessage:i});break}case"ERROR":this.clearLoadingMessage(),this.setState({items:this.getDropdownItems([],this.state.searchQuery,this.state.activeParameterIndex),errorMessage:e.message||(0,f.t)("fullscreen_actions.no_matches")});break;case"LOADING":this.setLoadingMessage(e.message)}},this.onBackspace=()=>{var e;let t=this.state.activeParameterIndex,r=null;if("middle"===t){if(x(this.firstOptionalIndex),0===this.firstOptionalIndex){this.props.onExitParameterEntry();return}r=this.firstOptionalIndex-1}else if("final"===t)r=this.props.parameters.length-1;else{if(0===t){this.props.onExitParameterEntry();return}r=t-1}let n={...this.state.parameterValues},i=null==(e=this.getParameterForIndex(r))?void 0:e.key;i&&delete n[i],this.setParameterIndex(r,n)},this.onTextChange=e=>{let t;let r=this.state.activeParameterIndex;if("middle"===r)x(this.firstOptionalIndex),t=this.firstOptionalIndex;else{if("final"===r)return;t=r}let n=this.props.parameters[t];this.triggerInputEvent({parameterValues:this.state.parameterValues,currentParameter:n,currentSearchQuery:e}),this.setLoadingMessage(D),this.setState({searchQuery:e,items:this.getDropdownItems([],e,t),activeItemIndex:0,activeParameterIndex:t,mouseMoved:!1,errorMessage:""})},this.onSelectItem=(e,t)=>{let r;let n=this.state.activeParameterIndex;if("final"===n){"enter"===t&&this.launchPluginWithParameters(this.state.parameterValues);return}let i={...this.state.parameterValues};if("middle"!==n){if(0===this.state.items.length)return;let r=this.props.parameters[n];if(e<0||e>=this.state.items.length){let i="Trying to select suggestion at invalid index";console.error(i),(0,_.Ij)("PluginParameterEntry","invalid index",{index:e,items:this.state.items.length,currentIndex:n,parameter:r.name,keyPress:t}),(0,_.oP)(h._.EXTENSIBILITY,Error(i));return}let a=this.state.items[e];"skip"===a||("freeform"===a?i[r.key]={name:this.state.searchQuery}:((0,c.kz)(!this.state.loadingMessage,"Selected item while loading"),i[r.key]=a))}let a=this.firstOptionalIndex;if("middle"===n){if(x(this.firstOptionalIndex),"enter"===t){this.launchPluginWithParameters(i);return}r=this.firstOptionalIndex}else if(n===this.props.parameters.length-1){if("enter"===t){this.launchPluginWithParameters(i);return}r="final"}else r=null!==a&&n===a-1?"tab"===t?a:"middle":n+1;this.setParameterIndex(r,i),this.searchInputRef.current.focus()},this.onKeyDown=m.Yh(this,"keydown",e=>{var t,r;let n=e=>{let t=this.state.activeItemIndex+e;return t<0?this.state.items.length-1:t%this.state.items.length},i=p.cp.mac?(0,u.MP)(e,u.Cs.META):(0,u.MP)(e,u.Cs.CONTROL);switch(e.keyCode){case u.as.ENTER:e.preventDefault(),this.onSelectItem(this.state.activeItemIndex,"enter");break;case u.as.TAB:e.preventDefault(),this.onSelectItem(this.state.activeItemIndex,"tab");break;case u.as.DOWN_ARROW:if(e.preventDefault(),this.state.items.length>0){let e=n(1);this.setState({activeItemIndex:e}),null==(t=this.scrollContainerRef.current)||t.scrollElementAtIndexIntoView(e)}break;case u.as.UP_ARROW:if(e.preventDefault(),this.state.items.length>0){let e=n(-1);this.setState({activeItemIndex:e}),null==(r=this.scrollContainerRef.current)||r.scrollElementAtIndexIntoView(e)}break;case u.as.BACKSPACE:0===this.state.searchQuery.length?(e.preventDefault(),this.onBackspace(),e.stopPropagation()):("final"===this.state.activeParameterIndex||"middle"===this.state.activeParameterIndex)&&e.preventDefault();break;case u.as.ESCAPE:e.preventDefault(),this.props.dispatch(E.yi());break;case u.as.P:case u.as.FORWARD_SLASH:i&&(e.preventDefault(),this.props.dispatch(E.yi()));break;case u.as.EQUALS:case u.as.DASH:i&&(e.preventDefault(),"-"===e.key?v.CA.triggerAction("zoom-out"):v.CA.triggerAction("zoom-in"));break;case u.as.R:case u.as.S:case u.as.D:case u.as.E:case u.as.F:case u.as.O:if(i){e.preventDefault();let t=this.state.searchQuery+e.key;this.onTextChange(t)}}}),this.onSearchChange=m.cJ(this,"change",e=>{let t=e.currentTarget.value;this.onTextChange(t)}),this.renderResult=(e,t,r)=>{let i,a="",o="";return"skip"===t?(a=`Skip "${e.name}"`,o="skip"):"freeform"===t?(a=this.state.searchQuery,o="skip"):(a=t.name,o=t.name,i=K(t,P.Wk)),n.createElement(W,{recordingKey:m.Mx(this.props,"suggestion",o),active:r===this.state.activeItemIndex,key:r,suggestion:a,onClick:e=>this.onSelectItem(r,"enter"),onMouseMove:()=>{this.state.mouseMoved||this.setState({mouseMoved:!0,activeItemIndex:r})},icon:i,onMouseEnter:()=>{this.state.mouseMoved&&this.setState({activeItemIndex:r})}})},(0,_.Ij)("PluginParameterEntry","Starting parameter entry for plugin",{parameters:e.parameters,displayName:e.displayName,parameterOnly:e.parameterOnly,pluginId:e.pluginId,pluginLocalFileId:e.pluginLocalFileId,command:e.command}),0===e.parameters.length)throw Error("Must specify at least one parameter");let r=e.parameters.findIndex(e=>e.optional);this.firstOptionalIndex=r<0?null:r,t=e.initialParameterValues?"final":e.parameters[0].optional?"middle":0,this.handler=this.runPlugin();let i=this.getParameterForIndex(t);i&&this.triggerInputEvent({parameterValues:{},currentParameter:i,currentSearchQuery:""}),this.setLoadingMessage("Loading plugin..."),this.state={searchQuery:"",items:[],errorMessage:null,loadingMessage:null,activeItemIndex:0,parameterValues:e.initialParameterValues||{},activeParameterIndex:t,mouseMoved:!1,hidePluginName:!1}}getParameterForIndex(e){return"middle"===e||"final"===e?null:this.props.parameters[e]}getCurrentParameter(){return this.getParameterForIndex(this.state.activeParameterIndex)}runPlugin(){var e;let t=null;if(this.props.pluginId?this.props.allSavedPlugins[this.props.pluginId]?t=this.props.allSavedPlugins[this.props.pluginId]:this.props.publishedPlugins[this.props.pluginId]&&(t=(0,w.Y9)(this.props.publishedPlugins[this.props.pluginId])):this.props.pluginLocalFileId&&(t=this.props.localExtensions[this.props.pluginLocalFileId]),!t||!(0,w.UN)({plugin:t,publishedPlugins:this.props.publishedPlugins,orgEntity:this.props.orgEntity,editorType:this.props.editorType}))throw Error("Plugin not runnable");this.runArgs={plugin:t,command:this.props.command||"",queryMode:!0,runMode:"default",triggeredFrom:"parameter-entry",openFileKey:(null==(e=this.props.openFile)?void 0:e.key)||"",deferRunEvent:!0,isWidget:!1};let r=(0,S.K)();return C.m.instance.enqueue({mode:"run-forever",runPluginArgs:this.runArgs}),r}async triggerInputEvent(e){this.eventID++;let t=this.eventID,r=await this.handler;this.eventID===t&&r.triggerParameterInputEvent({...e,onSuggestions:e=>{this.eventID===t&&this.onSuggestions(e)}})}updateLayout(){let e=0===this.state.activeParameterIndex&&!this.props.parameters[0].optional;if(void 0===this.state.placeholderWidth&&!e){if(this.primaryPlaceholderTextRef.current){let e=this.primaryPlaceholderTextRef.current.offsetWidth;this.setState({placeholderWidth:Math.min(250,Math.max(e,120))})}else this.setState({placeholderWidth:0})}let t=this.searchBarRef.current,r=t.offsetWidth<t.scrollWidth;e||!r||this.state.hidePluginName||this.setState({hidePluginName:!0}),t.scrollLeft=t.scrollWidth}componentDidMount(){super.componentDidMount(),(0,l.we)("Parameter Entry Started",F(this.props)),this.searchInputRef.current.focus(),this.updateLayout()}componentDidUpdate(e,t){super.componentDidUpdate(e,t),this.updateLayout()}componentWillUnmount(){var e,t;super.componentWillUnmount(),this.ranWithParameters||(0,O.qu)();let r=(e=this.props.parameters,t=this.state.parameterValues,e.reduce((e,r)=>(function(e,t,r){var n;let i=!!r[t.key],a=!!t.optional,o=!a;return n={requiredCount:o?1:0,optionalCount:a?1:0,requiredEntered:i&&o?1:0,optionalEntered:i&&a?1:0,entered:i?1:0},{requiredCount:e.requiredCount+n.requiredCount,optionalCount:e.optionalCount+n.optionalCount,requiredEntered:e.requiredEntered+n.requiredEntered,optionalEntered:e.optionalEntered+n.optionalEntered,entered:e.entered+n.entered}})(e,r,t),{requiredCount:0,optionalCount:0,requiredEntered:0,optionalEntered:0,entered:0}));this.ranWithParameters&&r.requiredEntered!==r.requiredCount&&((0,_.Ij)("PluginParameterEntry","Parameter entry mismatch",{requiredParameters:this.props.parameters,parameterValues:this.state.parameterValues}),(0,_.oP)(h._.EXTENSIBILITY,Error("Plugin ran successfully with parameters, but not all parameters were recorded")));let n=F(this.props);(0,l.we)("Parameter Entry Finished",{...n,success:this.ranWithParameters,parametersEntered:r.entered,requiredParametersEntered:r.requiredEntered,optionalParametersEntered:r.optionalEntered})}getDropdownItems(e,t,r){if("middle"===r||"final"===r)return[];let n=e.slice(),i=this.props.parameters[r];t.length>0&&i.allowFreeform&&n.unshift("freeform");let a=this.props.parameters[r];return 0===t.length&&a.optional&&n.unshift("skip"),n}setLoadingMessage(e){if(this.loadingTimerID){this.pendingLoadingMessage=e;return}this.pendingLoadingMessage=e,this.loadingTimerID=setTimeout(()=>{this.setState({loadingMessage:this.pendingLoadingMessage}),this.loadingTimerID=null,this.pendingLoadingMessage=null},300)}clearLoadingMessage(){this.loadingTimerID&&(clearTimeout(this.loadingTimerID),this.loadingTimerID=null),this.setState({loadingMessage:null})}setParameterIndex(e,t){let r=this.getParameterForIndex(e);r&&((0,_.Ij)("PluginParameterEntry","setParameterIndex",{nextParameter:r.name}),this.triggerInputEvent({parameterValues:t,currentParameter:r,currentSearchQuery:""}));let n=!(0===e&&!this.props.parameters[0].optional)&&this.state.hidePluginName;this.searchInputRef.current.focus(),this.setLoadingMessage(D),this.setState({searchQuery:"",items:this.getDropdownItems([],"",e),activeItemIndex:0,activeParameterIndex:e,parameterValues:t,mouseMoved:!1,errorMessage:null,placeholderWidth:void 0,hidePluginName:n})}launchPluginWithParameters(e){if(this.setState({parameterValues:e}),this.handler.then(async t=>{let{isCancelled:r}=await (0,A.I)(this.runArgs);r||t.triggerRunEvent({command:"parameters",parameters:e})}),this.runArgs){let t=this.runArgs;if(this.runArgs=null,t.queryMode=!1,t.deferRunEvent=!1,t.parameterValues=e,this.props.recentlyUsedCommandName){let e=this.props.recentlyUsedCommandName;this.props.dispatch(y.a2({currentDisplayName:e,newCommand:{displayName:e,runPluginArgs:t}}))}(0,T.ar)(t)}this.ranWithParameters=!0,this.props.dispatch(E.yi())}renderResults(){if("middle"===this.state.activeParameterIndex)return n.createElement("div",{className:R.M5},n.createElement("div",{className:R.kv},n.createElement("div",{className:R.MX},n.createElement(f.Tx,{id:"fullscreen_actions.plugin_parameters.tab"})),n.createElement("div",{className:R.Sq},n.createElement(f.Tx,{id:"fullscreen_actions.plugin_parameters.to_enter_optional_parameters"}))),n.createElement("div",{className:R.kv},n.createElement("div",{className:R.MX},n.createElement(f.Tx,{id:"fullscreen_actions.plugin_parameters.enter"})),n.createElement("div",{className:R.Sq},n.createElement(f.Tx,{id:"fullscreen_actions.plugin_parameters.to_run_plugin"}))));if("final"===this.state.activeParameterIndex)return null;let e=this.props.parameters[this.state.activeParameterIndex],t=null;if(this.state.errorMessage?t=n.createElement("div",{className:P.WK},this.state.errorMessage):this.state.loadingMessage&&(t=n.createElement("div",{className:P.WK},this.state.loadingMessage)),0===this.state.items.length)return t;let r=t?this.state.items.length+1:this.state.items.length;return n.createElement(L.y,{ref:this.scrollContainerRef,resultCount:r},this.state.items.map((t,r)=>this.renderResult(e,t,r)),t)}renderCurrentParameters(){var e;let t=null==(e=this.getCurrentParameter())?void 0:e.key,r=V(this.props.parameters,this.state.parameterValues,t);return n.createElement(n.Fragment,null,n.createElement(G,{key:"plugin-name",value:this.state.hidePluginName?void 0:this.props.displayName,icon:H(this.props.allSavedPlugins,this.props.publishedPlugins,this.props.pluginId)}),r)}placeholderElement(){let e=this.state.activeParameterIndex,t=this.state.searchQuery.length>0;if("final"===e)return n.createElement(n.Fragment,null);if("middle"===e){let e=(0,s.Ib)(this.props.parameters.map(e=>e.optional?e.name:null)).join(", ");return n.createElement("span",{ref:this.primaryPlaceholderTextRef},n.createElement(f.Tx,{id:"fullscreen_actions.plugin_parameters.optional_optional_names",optionalNames:e}))}{let r=this.props.parameters[e],i=this.props.parameters.slice(e);if(r.optional){let e=i.map(e=>e.name);return t&&(e[0]=""),n.createElement("span",{ref:this.primaryPlaceholderTextRef},e.join(", "))}{let e=(0,s.Ib)(i.map(e=>e.optional?null:e.name)),r=(0,s.Ib)(i.map(e=>e.optional?e.name:null));return t&&(e[0]=""),n.createElement("span",null,n.createElement("span",{ref:this.primaryPlaceholderTextRef},e.join(", ")),r.length>0&&n.createElement(n.Fragment,null,n.createElement("span",{className:R.YO,key:"divider"},"|"),n.createElement("span",{key:"optionalParams"},n.createElement(f.Tx,{id:"fullscreen_actions.plugin_parameters.optional_optional_names",optionalNames:r.join(", ")}))))}}}render(){let e=this.getCurrentParameter(),t=null==e?void 0:e.description,r=this.placeholderElement(),i="final"===this.state.activeParameterIndex?R.o3:R.Y4,a={minWidth:this.state.placeholderWidth?`${this.state.placeholderWidth}px`:void 0},l=this.renderResults();return n.createElement(L.W,{recordingKey:this.props.recordingKey||"",onKeyDown:this.onKeyDown},n.createElement("div",{className:P.kv},n.createElement(g.A,{svg:k.c,className:P.I6}),n.createElement("div",{className:R.Ud,ref:this.searchBarRef},this.renderCurrentParameters(),n.createElement("div",{className:i},n.createElement("input",{ref:this.searchInputRef,className:R.mm,onChange:this.onSearchChange,value:this.state.searchQuery,maxLength:150,spellCheck:!1,style:a}),n.createElement("div",{className:R.QY},n.createElement("div",{className:R._I},n.createElement("span",{className:R.ye},this.state.searchQuery),r))))),!!t&&n.createElement("div",{className:o()({[R.qq]:!0,[R.ic]:!l})},t),l)}}U.displayName="PluginParameterEntry";let B=(0,i.Ul)(function(e){let t=e.selectedView.editorType;return{openFile:e.openFile,publishedPlugins:e.publishedPlugins,publishedWidgets:e.publishedWidgets,allSavedPlugins:e.installedPluginVersions.plugins,localExtensions:e.localPlugins,orgEntity:(0,b.or)(e),org:e.currentUserOrgId?e.orgById[e.currentUserOrgId]:null,editorType:t,userCanRunPlugins:(0,I.gp)(e),activeTextReviewPlugin:e.mirror.appModel.activeTextReviewPlugin}},function(e){return{dispatch:e}})(U);function G(e){return n.createElement("div",{className:R.Oq},e.icon&&n.createElement("span",null,e.icon),e.value&&n.createElement("span",null,e.value))}function V(e,t,r){return e.filter(e=>t[e.key]&&e.key!==r).map(e=>t[e.key]&&n.createElement(G,{icon:K(t[e.key],R.mA),key:e.key,value:t[e.key].name}))}function H(e,t,r){if(!r)return n.createElement(g.A,{className:R.mA,svg:M.c,ariaLabel:"plugin icon"});{let i=e[r];return i||(i=t[r]&&(0,w.Y9)(t[r])),n.createElement(N.W,{className:R.mA,plugin:i,alt:"plugin icon"})}}class W extends m.UR{constructor(){super(...arguments),this.onClick=m.yw(this,"click",e=>{if(!this.props.onClick)return m.Cy;this.props.onClick(e)})}render(){let e=`${this.props.active?P.Qb:P.aG}`;return n.createElement("div",{className:e,onClick:this.onClick,onMouseMove:this.props.onMouseMove,onMouseEnter:this.props.onMouseEnter},n.createElement("div",{className:P.i4},this.props.icon),n.createElement("div",{className:R.GW},n.createElement("div",{className:P.aS},this.props.suggestion)))}}function K(e,t){let r="";if(e.iconUrl)r=e.iconUrl;else if(e.icon&&"string"==typeof e.icon)r="data:image/svg+xml;base64,"+d.H9(e.icon);else{if(!e.icon||"string"==typeof e.icon)return;r="data:application/octet-stream;base64,"+d.OW(e.icon)}return n.createElement(Y,{className:t,src:r})}W.displayName="ParameterSuggestion";class Y extends m.UR{render(){let e=new URL(this.props.src);return e.hostname===window.location.hostname?((0,_.oP)(h._.EXTENSIBILITY,Error("same-origin URL blocked in UntrustedImage")),n.createElement(n.Fragment,null)):["https:","http:","data:","blob:"].includes(e.protocol)?n.createElement("img",{src:this.props.src,className:this.props.className,crossOrigin:"anonymous",alt:""}):((0,_.oP)(h._.EXTENSIBILITY,Error("Unexpected protocol blocked in UntrustedImage")),n.createElement(n.Fragment,null))}}Y.displayName="UntrustedImage"},198324:(e,t,r)=>{"use strict";r.d(t,{EF:()=>f,Qp:()=>E,Ud:()=>T});var n=r(307824),i=r(515724),a=r(843148),o=r(570464),l=r(103839),s=r(26708),c=r(282528),d=r(519156),u=r(715268),p=r(401968),m=r(762820),_=r(469220);function h(e){let{version:t}=(0,i.qG)();return n.createElement(g,{...e,uiVersion:t})}class g extends o.UR{constructor(){super(...arguments),this.dragging=!1,this.srgbCanvasElement=null,this.srgbCanvasRef=e=>{this.srgbCanvasElement=e,this.srgbCanvasElement&&((0,a.Ub)().ee_color_management_force_canvas?(0,d.yy)({canvas:this.srgbCanvasElement,canvasWidth:this.canvasWidth(),canvasHeight:this.canvasHeight(),renderCanvas:this.props.renderCanvas,value:this.props.value,colorSpace:"srgb"}):this.props.renderCanvas(this.srgbCanvasElement,this.props.value))},this.displayP3CanvasElement=null,this.displayP3CanvasRef=e=>{let t=!!(null===this.displayP3CanvasElement&&e);this.displayP3CanvasElement=e,this.displayP3CanvasElement&&(0,d.yy)({canvas:this.displayP3CanvasElement,canvasWidth:this.canvasWidth(),canvasHeight:this.canvasHeight(),renderCanvas:this.props.renderCanvas,value:this.props.value,colorSpace:"display-p3",initializeCanvasColorSpace:t})},this.barElement=null,this.barRef=e=>{this.barElement=e,e&&this.disableWeirdHorizontalScrollingPageNavigation(e)},this.handleElement=null,this.handleRef=e=>{this.handleElement=e,this.handleElement&&(this.props.renderHandle(this.props.value,this.handleElement),this.disableWeirdHorizontalScrollingPageNavigation(this.handleElement))},this.offset=new l.Cg(0,0),this.setOffset=e=>{if(null!=e){let t=e.target.getBoundingClientRect(),r=new l.Cg(t.left+t.width/2,t.top+t.height/2);this.offset=r.subtract(new l.Cg(e.clientX,e.clientY))}else null!=this.props.offset?this.offset=this.props.offset:this.offset=new l.Cg(0,0)},this.ensureInitialized=()=>{if(!this.barElement)throw Error("callback called before rendering barElement")},this.mouseToValue=e=>{this.ensureInitialized();let t=this.barElement.getBoundingClientRect(),r=e.x+this.offset.x,n=e.y+this.offset.y;return r-=t.left+(this.props.handlePadding?this.props.handle/2:0),n-=t.top+(this.props.handlePadding?this.props.handle/2:0),r/=this.props.width,n/=this.props.height,r=Math.max(Math.min(r,1),0),n=Math.max(Math.min(n,1),0),new l.Cg(r,n)},this.valueToPosition=e=>{let t=e.x,r=e.y;return t*=this.props.width,r*=this.props.height,t-=this.props.handlePadding?0:this.props.handle/2,r-=this.props.handlePadding?0:this.props.handle/2,new l.Cg(t,r)},this.onPointerDown=o.OA(this,"pointerdown",e=>{e.stopPropagation(),this.dragging=!0,e.currentTarget.setPointerCapture(e.pointerId),e.currentTarget===this.handleElement?this.setOffset(e):(this.setOffset(),this.props.mouseCallback(this.mouseToValue(new l.Cg(e.clientX,e.clientY)),!1))},{recordMetadata:e=>{this.ensureInitialized();let t=this.barElement.getBoundingClientRect();return{left:(e.clientX-t.left)/t.width,top:(e.clientY-t.top)/t.height}},playbackMetadata:e=>{this.ensureInitialized();let t=this.barElement.getBoundingClientRect();return{clientX:e.left*t.width+t.left,clientY:e.top*t.height+t.top}}}),this.onPointerUp=o.OA(this,"pointerup",e=>{if(!this.dragging)return o.Cy;this.dragging=!1,this.props.mouseCallback(this.mouseToValue(new l.Cg(e.clientX,e.clientY)),!0)},{recordMetadata:e=>{this.ensureInitialized();let t=this.barElement.getBoundingClientRect();return{left:(e.clientX-t.left)/t.width,top:(e.clientY-t.top)/t.height}},playbackMetadata:e=>{this.ensureInitialized();let t=this.barElement.getBoundingClientRect();return{clientX:e.left*t.width+t.left,clientY:e.top*t.height+t.top}}}),this.onPointerMove=e=>{this.dragging&&(e.stopPropagation(),this.props.mouseCallback(this.mouseToValue(new l.Cg(e.clientX,e.clientY)),!1))},this.onWheel=o.G_(this,"wheel",e=>{var t,r;e.stopPropagation();let n=e.ctrlKey;null==(r=(t=this.props).wheelCallback)||r.call(t,new l.Cg(e.deltaX,e.deltaY),e.altKey,n)},{recordMetadata:e=>({deltaX:e.deltaX,deltaY:e.deltaY,deltaMode:e.deltaMode,ctrlKey:e.ctrlKey}),playbackMetadata:e=>({deltaX:e.deltaX,deltaY:e.deltaY,deltaMode:e.deltaMode,ctrlKey:e.ctrlKey})}),this.onKeyDown=o.Yh(this,"keydown",e=>{e.stopPropagation(),this.props.keyDownCallback(e)})}componentDidUpdate(e,t){super.componentDidUpdate(e,t),e.value!==this.props.value&&(this.srgbCanvasRef(this.srgbCanvasElement),this.displayP3CanvasRef(this.displayP3CanvasElement),this.handleRef(this.handleElement))}componentWillUnmount(){super.componentWillUnmount(),this.dragging=!1}disableWeirdHorizontalScrollingPageNavigation(e){e.addEventListener("wheel",e=>e.preventDefault(),{passive:!1})}canvasWidth(){return this.props.width+(this.props.handlePadding?this.props.handle:0)}canvasHeight(){return this.props.height+(this.props.handlePadding?this.props.handle:0)}render(){let e={position:"relative",boxSizing:"border-box",overflow:"hidden",width:this.props.width+(this.props.handlePadding?this.props.handle:0),height:this.props.height+(this.props.handlePadding?this.props.handle:0),borderRadius:this.props.handlePadding?.5*this.props.handle:0,...this.props.canvasWrapperStyles},t="ui3"===this.props.uiVersion?I:v,r={position:"absolute",boxShadow:`inset ${t}`,left:0,top:0,width:this.props.width+(this.props.handlePadding?this.props.handle:0),height:this.props.height?1:this.props.height+(this.props.handlePadding?this.props.handle:0),borderRadius:this.props.handlePadding?.5*this.props.handle:0},i=this.valueToPosition(this.props.value),a={position:"absolute",boxSizing:"border-box",boxShadow:t,left:i.x,top:i.y,width:this.props.handle,height:this.props.handle,borderRadius:.5*this.props.handle},o=this.props.hitBoxMargin;return n.createElement("div",{className:this.props.containerClass,style:{position:"relative"}},n.createElement("div",{ref:this.barRef,style:e},this.props.colorProfile===m.AXT.SRGB?n.createElement("canvas",{ref:this.srgbCanvasRef,width:`${this.canvasWidth()}px`,height:`${this.canvasHeight()}px`}):void 0,this.props.colorProfile===m.AXT.DISPLAY_P3?n.createElement("canvas",{ref:this.displayP3CanvasRef,width:`${this.canvasWidth()}px`,height:`${this.canvasHeight()}px`}):void 0,n.createElement("div",{style:r})),this.props.children,n.createElement("div",{ref:this.handleRef,onMouseDown:c.Ii,onPointerDown:this.onPointerDown,onPointerUp:this.onPointerUp,onPointerMove:this.onPointerMove,onLostPointerCapture:this.onPointerUp,onWheel:this.onWheel,onKeyDown:this.onKeyDown,style:a,tabIndex:0,className:_.G}),n.createElement("div",{onMouseDown:c.Ii,onPointerDown:this.onPointerDown,onPointerUp:this.onPointerUp,onLostPointerCapture:this.onPointerUp,onPointerMove:this.onPointerMove,onWheel:this.onWheel,style:{position:"absolute",left:-o,top:-o,right:-o,bottom:-o}}))}}function f(e){return"ui3"===e?b:y}function E(){let{version:e}=(0,i.qG)();return f(e)}g.displayName="SliderControlInner";let y=12,b=16,v="0 0 0 .6px rgba(0, 0, 0, 0.2)",I="var(--elevation-200-canvas)",w=s.Q;function T({hitBoxMargin:e,width:t,height:r,handlePadding:a,value:o,offset:l,mouseCallback:s,wheelCallback:c,keyDownCallback:d,renderCanvas:_,containerClass:g,recordingKey:E,canvasWrapperStyles:y,colorProfile:b,colorHandle:v,children:I}){let{version:T}=(0,i.qG)(),S=(0,n.useCallback)((e,t)=>{let r=f(T);if(t.style.borderRadius=`${r/2}px`,t.style.borderStyle="solid",t.style.borderWidth="0.5px",t.style.borderColor="var(--color-icon-tertiary, white)",t.style.background="var(--color-bg, white)",v){t.style.borderColor="white",t.style.borderWidth=`${"ui3"===T?4:2}px`;let r=v(e);b===m.AXT.DISPLAY_P3&&(0,p.eg)()?t.style.backgroundImage=`url(${(0,u.We)(r,b||m.AXT.SRGB)})`:t.style.background=w.format(r,(0,p.Py)(b||m.AXT.SRGB))}},[v,b,T]),C=f(T),A="ui3"===T?{outlineWidth:"1px",outlineStyle:"solid",outlineColor:"var(--color-bordertranslucent)",outlineOffset:"-1px"}:{};return n.createElement(h,{hitBoxMargin:e,width:t,height:r,handle:C,handlePadding:a,value:o,offset:l,mouseCallback:s,wheelCallback:c,keyDownCallback:d,renderCanvas:_,renderHandle:S,containerClass:g,recordingKey:E,canvasWrapperStyles:{...A,...y},colorProfile:b},I)}},128864:(e,t,r)=>{"use strict";let n;r.d(t,{CK:()=>eA,Co:()=>ew,El:()=>ey,Ks:()=>n,WA:()=>eb,ey:()=>eD,sH:()=>eL});var i=r(307824),a=r(120304),o=r(515724),l=r(125504),s=r.n(l),c=r(628164),d=r(455e3),u=r(843148),p=r(372152),m=r(506616),_=r(814508),h=r(980068),g=r(570464),f=r(326660),E=r(58908),y=r(226096),b=r(841152),v=r(760700),I=r(148276),w=r(537096),T=r(698240),S=r(560072),C=r(288448),A=r(375376),O=r(33656),N=r(907236),L=r(735204),R=r(560900),P=r(441388),M=r(495172),k=r(589440),D=r(1084),F=r(439460),x=r(990180),U=r(12832),B=r(506940),G=r(979144),V=r(435176),H=r(31160);r(69040);var W=r(260952),K=r(392992),Y=r(251596),q=r(472956),j=r(291336),$=r(553432),Z=r(144984),z=r(967860),Q=r(142548),X=r(187044),J=r(927976),ee=r(711213),et=r(767876),er=r(333816),en=r(888404),ei=r(7674),ea=r(335432),eo=r(553272),el=r(518256),es=r(504460),ec=r(477284),ed=r(375948),eu=r(763348),ep=r(223512),em=r(955088),e_=r(2060),eh=r(76264),eg=r(94164),ef=r(700320);let eE=(0,H.AT)(),ey="FULLSCREEN_FILENAME_CHEVRON",eb="FULLSCREEN_FILENAME_DROPDOWN";class ev extends g.UR{constructor(e){super(e),this.startRenaming=g.yw(this,"click",()=>{this.props.canRename&&this.props.user&&this.props.dispatch(N._u())}),this.submitFileName=e=>{this.props.dispatch(N.yQ()),this.props.onRename(e)},this.cancelFileName=()=>{this.props.dispatch(N.yQ())},this.nameRef=i.createRef()}render(){let e=(0,G.EB)().sidebarSplitPosition.getCopy(),t=(0,v.aO)({textRef:this.nameRef,text:this.props.name});return this.props.isRenaming?i.createElement(ee.E,{className:s()(eg.Qj,{[eg.AT]:this.props.isFullHeightSidebar}),placeholderValue:this.props.name,submit:this.submitFileName,cancel:this.cancelFileName,recordingKey:g.Mx(this.props,"input"),maxLength:this.props.maxLength}):i.createElement("span",{className:s()(this.props.user?eg.oR:eg.e,{[eg.AT]:this.props.isFullHeightSidebar}),style:this.props.isFullHeightSidebar?{maxWidth:`calc(${e}px - var(--spacer-6))`}:void 0,onClick:this.startRenaming,dir:"auto","data-testid":"filename",tabIndex:0,role:"textbox",ref:this.nameRef,onKeyDown:e=>(0,B.CI)({e,onClickHandler:this.startRenaming}),"aria-label":(0,S.t)("fullscreen.filename_view.file_input_title"),"data-tooltip-type":Q.wL.TEXT,"data-tooltip":t?this.props.name:void 0},this.props.name)}}function eI(e){let t=(0,k.O)();return i.createElement(ev,{...e,name:(0,F.ec)(e.repo),onRename:t=>{e.dispatch(L.yQ({repo:e.repo,name:t}))},isFullHeightSidebar:t})}function ew(e){let t=(0,a.OY)(),r=(0,Y.C2)(),n=(0,K.AL)(),o=(0,a.w1)(e=>e.isRenaming),l=(0,a.w1)(e=>{var t,r,n;return(0,V.K)(e.progressBarState.mode)?!(null==(t=e.openFile)?void 0:t.canEdit):null==(n=null==(r=e.mirror)?void 0:r.appModel)?void 0:n.isReadOnly}),s=(0,p.m4)(D.ay),c=!!n&&(0,ed.w$)(n,r),d=!!r&&!!n&&!!l,u=null==n&&null!=s?{type:"new-autosave-file",newAutosaveFile:s}:{type:"open-file",openFile:n,canRename:c};return i.createElement(eT,{dispatch:t,user:r,renamableFile:u,isRenaming:o,viewOnly:d,recordingKey:e.recordingKey})}function eT(e){var t;let r,n,a;let o=(0,_.cQ)(D.sX),l=(0,k.O)(),{renamableFile:s}=e;"open-file"===s.type?(r=s.canRename,n=null==(t=s.openFile)?void 0:t.name):(r=!0,n=s.newAutosaveFile.name,a=s.newAutosaveFile.editorType);let c="new-autosave-file"===s.type;return i.useEffect(()=>{c&&n&&a&&(0,x.qQ)(n,(0,Z.sZ)(a))},[c,n,a]),i.createElement(ev,{...e,name:n||(0,S.t)("fullscreen.filename_view.title_placeholder"),canRename:r,onRename:t=>{"new-autosave-file"===s.type?o({fileKey:s.newAutosaveFile.fileKey,name:t,source:D.Mj.EDITOR}):s.openFile?e.dispatch(A.yQ({file:s.openFile,name:t})):(0,f.oP)(E._.UNOWNED,Error("Tried renaming but file does not exist"))},isFullHeightSidebar:l,maxLength:100})}function eS({file:e}){let t=(0,a.OY)(),r=(0,R.EB)();if(!e||!(0,F.Oe)(e))return null;let n=X.i8.EDITOR_TOOLBAR_ACTION;return i.createElement("div",{className:eg.qm},i.createElement(en.GS,{branchFileKey:e.key,size:b.mk.LARGE,onClick:e=>{t(O.Wy({direction:z.CI.TO_SOURCE,trackingContextName:n,unreadCommentCount:r}))},convertsToDotWithSmallScreen:!0,isToolbar:!0}))}ev.displayName="EditableName";let eC=e=>{var t;let r=(0,m.Qb)(q.kvg,{repoId:e});if("loaded"!==r.status)return;let n=null==(t=r.data.repo)?void 0:t.files;return!!n&&n.map(e=>(0,en.Ir)(e)).some(e=>e===en.cz.IN_REVIEW||e===en.cz.CHANGES_REQUESTED||e===en.cz.APPROVED)},eA="Filename chevron clicked";function eO({file:e,viewOnly:t}){let r=(0,m.Qb)(q.__c,{orgId:e.parentOrgId}),n=(0,m.Qb)(q.imP,{fileKey:e.key}),o=(0,J.AR)(),l=(0,C.U9)(),s=(0,M._c)(),d="loading"===r.status||e.parentOrgId&&!e.org,u=(0,er.Uj)(e.fileRepoId),p=e.fileRepoId?u:null,_=(0,a.OY)(),h=(0,eh.av)({file:e,viewOnly:t}),g=t&&!h;if(!e||(null==p?void 0:p.status)==="loading"||d||"loading"===n.status||g)return null;let f=!!(e.repo&&(0,F.UJ)(e,e.repo)),E=!!(0,F.Oe)(e)&&!!e.trashedAt;if(o&&!l){let t=s&&!s.unpublishedAt;return i.createElement("div",{className:T.cx.flex.itemsCenter.wFitContent.$},i.createElement(eu.c,null),!t&&i.createElement(I._C,{direction:"x",multiple:2}),!E&&i.createElement(em.SC,{file:e,viewPermission:h,recordingKey:"fileNamePermission"}))}return i.createElement(c.q.div,{transition:{duration:.3,ease:"easeOut",delay:.2,opactity:{ease:"linear",delay:.2}},initial:{width:0,translateX:-100,opacity:0},animate:{width:"auto",translateX:0,opacity:1}},i.createElement("div",{className:T.cx.flex.itemsCenter.wFitContent.$},f&&e.fileRepoId&&i.createElement(eN,{repoId:e.fileRepoId,isEditor:e.canEdit,dispatch:_,branchInfo:p}),i.createElement(i.Fragment,null,i.createElement(eu.c,null),!E&&i.createElement(em.SC,{file:e,viewPermission:h,recordingKey:"fileNamePermission"}))))}function eN(e){let t=eC(e.repoId),{branchInfo:r}=e;if(!r||"loaded"!==r.status)return null;let n=r.data.activeBranches.length;return n<1?null:i.createElement(et.k,{text:(0,S.t)("fullscreen.filename_view.branch-count",{BRANCHES:n}),onClick:()=>e.dispatch(O.aC({trackingContextName:X.i8.EDITOR_TOOLBAR_ACTION})),showIndicator:e.isEditor&&t,indicatorStyle:eg.gl})}function eL({openFile:e,user:t}){let r=(0,e_.W)(),n=function(e,t){if(!(null==e?void 0:e.project))return"";let r=e.project;return r.path?r.path:(0,u.Ub)().ps_benchmark&&r.id===(null==t?void 0:t.personal_drafts_folder_id)?(0,S.t)("fullscreen.filename_view.drafts_to_move"):(0,S.t)("fullscreen.filename_view.drafts")}(e,t),a=n.length>25?n:void 0,o=(0,k.O)();return i.createElement("div",{className:n?eg.SA:eg.m,title:a},i.createElement("div",{className:s()(eg.mY,{[eg.qG]:o}),onClick:r,role:"link",tabIndex:0},n),!o&&i.createElement(w.A,{ariaHidden:!0,svg:ef.c,className:eg.I_}))}function eR(e){let{openFile:t,repoId:r,currentUserId:n,modalShown:a,topLevelMode:o,appMergingStatus:l,openFileMerge:s,dispatch:c}=e,u=(0,W.YD)({repoId:r,currentUserId:n,appMergingStatus:l,openFileMerge:s});return i.createElement(i.Fragment,null,i.createElement(d.W,{openFile:t,modalShown:a,topLevelMode:o,mergeStatus:u,dispatch:c}),i.createElement(W.Ml,{openFileKey:t.key,currentUserId:n,mergeStatus:u}))}class eP extends g.UR{constructor(e){super(e),n=i.createRef()}renderDropdownMenu(){var e,t;let{dropdownShown:r,recordingKey:n,dispatch:a}=this.props,o=!!r&&r.type===eb;return i.createElement(ec.I,{trackEvent:(e,t)=>{this.context.trackEvent(e,t)},dropdownTargetRect:null==(e=null==r?void 0:r.data)?void 0:e.targetRect,recordingKey:n,dispatch:a,dropdownVisible:o,activatePathOnMount:null==(t=null==r?void 0:r.data)?void 0:t.activatePathOnMount})}renderChevronWithDropdown(e,t){let r=i.createElement(i.Fragment,null,i.createElement(ei.k,{divRef:n,className:e?eg.KY:eg.s7,svgContainerClassName:eg.mk,dispatch:this.props.dispatch,showingDropdown:!!t&&this.showingDropdown(),dropdownKey:eb,recordingKey:g.Mx(this.props,"chevron"),dataOnboardingKey:ey,rcsHandlerId:eA,tabIndex:0,ariaLabel:(0,S.t)("fullscreen.filename_view.edit_file_menu"),dataTestId:"filename-menu-chevron",isUI3:this.props.isUI3}),this.renderDropdownMenu());return i.createElement("div",{className:s()({[eg.IX]:!e}),onMouseDown:e=>{var t;let r=new MouseEvent("mousedown",{view:window,bubbles:!0,cancelable:!0});null==(t=null==n?void 0:n.current)||t.dispatchEvent(r)},onClick:e=>{e.stopPropagation()}},r)}showingDropdown(){var e;return(null==(e=this.props.dropdownShown)?void 0:e.type)===eb}render(){let{user:e,openFile:t,isRenaming:r,isUI3:a}=this.props,o=null==t?void 0:t.repo,l=!!(t&&(0,F.Oe)(t)),c=!!(t&&o&&(0,F.UJ)(t,o)),d=!!t&&(0,ed.w$)(t,e),u=!!this.props.user&&!!t&&!!this.props.editorIsReadOnly,p=!!t&&(0,j.Uf)(t),m=!r&&e&&t&&!p&&!this.props.isLimitedDevMode,_=!eE&&this.props.currentWorkspace&&this.props.hasMultipleWorkspaces;return i.createElement("div",{className:s()(eg.wv,{[eg.Mv]:!e}),id:"fullscreen-filename","data-onboarding-key":el._g,onContextMenu:e=>{if(n.current){let t=new MouseEvent("mousedown",{view:window,bubbles:!0,cancelable:!0});n.current.dispatchEvent(t),e.preventDefault()}}},i.createElement("div",{className:r?eg.Yf:eg.M5},(null==t?void 0:t.fileRepoId)&&(null==e?void 0:e.id)&&i.createElement(eR,{openFile:t,repoId:null==t?void 0:t.fileRepoId,modalShown:this.props.modalShown,topLevelMode:this.props.topLevelMode,currentUserId:e.id,appMergingStatus:this.props.mergingStatus,openFileMerge:this.props.openFileMerge,dispatch:this.props.dispatch}),!1,_&&!a&&i.createElement("div",{className:eg.wx},i.createElement(e_.M,{iconClassName:eg.OS})),i.createElement(eL,{user:e,openFile:t}),!r&&l&&o&&i.createElement(ea.w,{repo:o,dispatch:this.props.dispatch,trackingContextName:X.i8.EDITOR_TOOLBAR_ACTION}),c&&o?i.createElement(eI,{dispatch:this.props.dispatch,user:e,repo:o,canRename:d,isRenaming:r,viewOnly:u}):i.createElement(ew,{recordingKey:g.Mx(this.props,"fileName")}),!r&&t&&e&&i.createElement("div",{className:eg.SW},i.createElement(eS,{file:t})),!r&&(null==t?void 0:t.team)?i.createElement(ep.S,{openFile:t,team:t.team}):t&&i.createElement(es._,{openFile:t}),i.createElement("div",{className:s()({[eg.yS]:!m})},m&&this.renderChevronWithDropdown(c,t)),(0,y.O8)()&&i.createElement(eo.E,{isUI3:!1,targetKey:ey}),!r&&t&&i.createElement(eO,{file:t,viewOnly:u})))}}eP.displayName="FilenameView",eP.contextType=P.Y$;let eM=(0,h.ei)(U.SA),ek=(0,a.Ul)(function(e){var t,r,n;let i;let a=(0,$.getPermissionsState)(e),o=(0,u.Ub)().ps_benchmark;i=o?eM(a.user,a.currentUserOrgId,a.currentTeamId):eM(a.user,a.currentUserOrgId);let l=(0,V.K)(e.progressBarState.mode)?!(null==(t=e.openFile)?void 0:t.canEdit):null==(n=null==(r=e.mirror)?void 0:r.appModel)?void 0:n.isReadOnly,s=!1;return s=o?e.plans.length>1:(0,U.yo)(e.authedUsers.orderedIds,a),{canRequestToEdit:!!(0,$.canRequestToEdit)(e),editorIsReadOnly:l,isLimitedDevMode:(0,J.ie)(e.selectedView)&&!(0,C.y2)(e),openFile:e.openFile,loadingState:e.loadingState,userStateLoaded:e.userStateLoaded,dropdownShown:e.dropdownShown,isRenaming:e.isRenaming,userFlags:e.userFlags,currentWorkspace:i,hasMultipleWorkspaces:s,workspaceName:(0,U.OC)(e,i),selectedView:e.selectedView,topLevelMode:e.mirror.appModel.topLevelMode,modalShown:e.modalShown,mergingStatus:e.mergingStatus,openFileMerge:e.openFileMerge,...a}})(eP);function eD(e){let t=(0,p.m4)(D.ay),r="ui3"===(0,o.qG)().version,n=(0,K.AL)(),l=(0,Y.C2)(),s=(0,a.OY)(),c=(0,$.usePermissionsState)().repos;return i.useEffect(()=>{let e=window.FigmaMobile,t=window.FigmaMobile;if(null==e?void 0:e.updateFilePermission){let r=!!n&&(0,ed.w$)(n,l),i=!!n&&(0,ed._O)(n,l);e.updateFilePermission(r,i),t&&(t._move_to_project=()=>{i&&(0,ed.I9)(s,n,c)()})}},[s,n,c,l]),i.createElement(ek,{recordingKey:e.recordingKey,newAutosaveFile:t,isUI3:r})}},477284:(e,t,r)=>{"use strict";let n;r.d(t,{I:()=>e_,e:()=>eu});var i=r(307824),a=r(120304),o=r(515724),l=r(843148),s=r(506616),c=r(560072),d=r(645484),u=r(375376),p=r(403132),m=r(46604),_=r(942932),h=r(907236),g=r(323576),f=r(560900),E=r(441388),y=r(495172),b=r(589440),v=r(423944),I=r(439460),w=r(752692),T=r(787848),S=r(598888),C=r(202613),A=r(185996),O=r(782800),N=r(846004),L=r(596496),R=r(585508),P=r(471332),M=r(661324),k=r(762820),D=r(31160),F=r(784340),x=r(392992),U=r(514916),B=r(472956),G=r(553432),V=r(97007),H=r(869588),W=r(841676),K=r(790548),Y=r(228472),q=r(112044),j=r(784528),$=r(187044),Z=r(319552),z=r(131940),Q=r(289080),X=r(888404),J=r(492496),ee=r(725380),et=r(911192),er=r(108688),en=r(694752),ei=r(805404),ea=r(410300),eo=r(461016),el=r(81668),es=r(459656),ec=r(494220),ed=r(375948);let eu="FILENAME_VIEW_MOVE_TO_PROJECT",ep=(0,D.AT)();var em=((n=em||{}).DISABLED="disabled",n.PUBLISH="publish",n.SHOW_UPSELL_MODAL="show_upsell_modal",n);function e_({trackEvent:e,dropdownTargetRect:t,recordingKey:r,dispatch:n,dropdownVisible:em,activatePathOnMount:e_}){var eh,eg,ef,eE,ey,eb,ev,eI;let ew=(0,a.w1)(e=>e.mirror.appModel),eT=(0,a.w1)(e=>e.selectedView),eS=(0,a.w1)(e=>(0,G.getPermissionsStateMemoized)(e)),eC=(0,a.w1)(e=>e.userStateLoaded),eA=(0,a.w1)(e=>e.openFile),eO=(0,x.K_)({useSinatraType:!0}),eN=(0,a.w1)(e=>e.repos),eL=(0,a.w1)(e=>e.teams),eR=(0,a.w1)(e=>e.currentUserOrgId),eP=(0,Z.y)({currentOrgId:eR,currentTeamId:null}),eM="ui3"===(0,o.qG)().version,ek=(0,b.O)(),eD=(0,ei.sZ)(),eF=(0,s.Qb)(B.Glc,{fileKey:(null==eA?void 0:eA.key)||""}),ex=(0,a.w1)(V.QX),eU=(0,a.w1)(V._0);(0,F.MV)();let eB=(0,s.Qb)(B.mc7,{branchFileKey:(null==eA?void 0:eA.key)||""}),eG=(0,y._c)(),eV=eD&&(0,l.Ub)().dse_editor_templates_v1,eH=i.useMemo(()=>{if(eA&&"loaded"===eP.status)return(0,O.mY)(eP.data,eA.key)},[eA,eP]),eW=(0,a.w1)(V.kD),eK=(0,a.w1)(e=>e.mirror.appModel.topLevelMode),eY=(0,es.eI)(eA,eW),eq=(0,T.TZ)(),ej=(0,f.EB)(),e$=(0,v.Qv)(),eZ=(0,v.W0)()===v.c3.CAN_PUBLISH,ez=k.KEP.uiState().isRecovery.getCopy(),eQ=i.useMemo(()=>eU?"disabled":ex?"publish":"show_upsell_modal",[ex,eU]),eX=(0,P.IT)(),{colorProfilePreference:eJ}=(0,M.A9)(),e0=(0,M.a6)(eJ),e1=(0,z.a)();if(!eA||!em)return null;let e2="loaded"===eF.status&&!!(null==(eg=null==(eh=eF.data)?void 0:eh.file)?void 0:eg.canDelete),e4="loaded"===eP.status&&(0,O.UH)(eP.data,eR),e3=eT.editorType,e6="whiteboard"!==e3,e8=eS.user,e5=!!(e6&&(0,I.Oe)(eA)),e7="loaded"===eB.status&&(null===eB.data.file||eB.data.file&&(0,X.Ir)(eB.data.file)===X.cz.MERGED),e9=e5&&("loaded"!==eB.status||e7),te=(0,G.isFileFigjamDisabled)(eA,eS)||(0,G.isOrgUserExternallyRestrictedFromState)(eS),tt=e8&&eA.canManage,tr=e8&&eA.canDelete,tn=!!(e5&&eA.trashedAt),ti=tn&&!e9,ta=eG&&eG.profile.entityType===Y.Iv.TEAM,to=e8&&tr&&!ta,tl=(0,ed.w$)(eA,e8),ts=!!eH,tc=eA.project,td=tc&&(0,G.canCreateFileLG)(tc,eS,eA.editorType)?e5?(0,c.t)("fullscreen.filename_view.duplicate-as-new"):(0,c.t)("fullscreen.filename_view.duplicate"):(0,c.t)("fullscreen.filename_view.duplicate-to-drafts"),tu=null,tp=(0,l.Ub)().ps_benchmark;tp?tc&&""!==tc.path&&(tu=tc):tu=eA.teamId?tc:null;let tm=tp&&eA.folderId===(null==e8?void 0:e8.personal_drafts_folder_id),t_=eA.canEdit&&!!eA.thumbnailGuid,th=(null==(eb=null==(ey=null==(eE=null==(ef=eP.data)?void 0:ef.currentUser)?void 0:eE.baseOrgUser)?void 0:ey.fileBrowserPreferences)?void 0:eb.orderedSidebarSections)??[],tg=(0,O.Ks)((null==(eI=null==(ev=eP.data)?void 0:ev.currentUser)?void 0:eI.userSidebarSections)??[],th),tf=tg.find(e=>e.id===(null==eH?void 0:eH.resource.sidebarSectionId)),tE=()=>{eV?R.CA.triggerAction("publish-slides-template"):n(g.A5({type:ec.Ih,data:{entrypoint:ee.yQ.FILENAME_VIEW_DROPDOWN}}))},ty=()=>{let e=eA.teamId&&eL[eA.teamId];n(g.A5({type:et.SI,data:{afterFileMove:tE,team:e||null}}))},tb=()=>{"show_upsell_modal"===eQ?ty():"publish"===eQ&&tE()},tv=(e,t)=>{if(!eO)return;let r={entrypoint:"editor",favoriteId:null==eH?void 0:eH.resource.id,sectionId:t,file:eO,fileBrowserEntryPoint:!1};e?n(d.o9(r)):n(d.U5(r))},tI=()=>{let e={name:"",newResourceForSection:{resourceId:eA.key,isFavorited:!0,resourceType:U.M$.FILE}};n(d.Tu(e))},tw=!ep&&"design"===eT.editorType&&eA.canEdit,tT=(0,J.MT)((0,w.e)(eq,$.i8.EDITOR_TOOLBAR,eK),{appModel:ew,selectedView:eT}),tS=(0,J.MT)((0,w.O)(eq,$.i8.EDITOR_TOOLBAR,eK,ej),{appModel:ew,selectedView:eT}),tC=(e,t)=>e?t:[],tA=[...tS,...tC(e5,tT),{separator:!0,displayText:""},...tC(!ep&&!ez,[{disabled:!(0,j.Ib)(ew,"enter-history-mode"),recordingKey:"toggleVersionHistory",displayText:(0,eo.En)(ew.activeCanvasEditModeType)?(0,c.t)("fullscreen.filename_view.version-history-hide"):(0,c.t)("fullscreen.filename_view.version-history-show"),callback:()=>{n(p.yi()),(0,eo.En)(ew.activeCanvasEditModeType)?n((0,H.eu)()):n((0,H.st)({source:$.i8.EDITOR_TOOLBAR}))}}]),...tC(!!e$,[(0,ea.O)({dispatch:n,fileKey:(null==e$?void 0:e$.fileKey)||"",templateName:(null==e$?void 0:e$.name)||""})]),...tC(eZ,[(0,ea.s)({dispatch:n,fileKey:eA.key,isPublished:!!e$,source:"filename-context-menu"})]),...tC(!ep&&!(e6&&e5)&&"whiteboard"!==e3&&!eD,[{disabled:"disabled"===eQ,recordingKey:"publishVersion",displayText:(0,c.t)("fullscreen.filename_view.publish-styles-and-components"),callback:tb}]),...tC(!!eV,[{recordingKey:"publishSlidesTemplate",displayText:(0,c.t)("fullscreen.filename_view.publish-template"),callback:tb}]),...tC(eY,[{recordingKey:"viewFileAnalytics",displayText:(0,c.t)("fullscreen.filename_view.file_analytics"),callback:()=>{n((0,g.A5)({type:el.M,data:{fileKey:eA.key,entrypoint:A.u.FileView}}))}}]),...tC(e6&&!ez,[{disabled:!e8,recordingKey:"exportSelectedExportables",displayText:(0,c.t)("fullscreen.filename_view.export"),shortcut:ew.keyboardShortcuts&&(0,j.O0)(ew.keyboardShortcuts,"export-selected-exportables"),callback:()=>{R.CA.triggerAction("export-selected-exportables",{source:"toolbar"})}}]),...tC(!ep&&!!e1&&(!e4||!!ts)&&!tm,[{separator:!0,displayText:""},{displayText:ts?(0,c.t)("favorited_resources.indicate_section_prefix")+": "+(tf&&""!==tf.name?tf.name:(0,c.t)("sidebar.starred")):(0,c.t)("favorited_resources.add_to_sidebar"),children:(()=>{let e=[];return 0===tg.length&&e.push({recordingKey:"favorite-custom",displayText:(0,c.t)("sidebar.starred"),isChecked:!1,callback:()=>tI()}),tg.map(t=>{e.push({recordingKey:"favorite-custom",displayText:""===t.name?(0,c.t)("sidebar.starred"):t.name,isChecked:!!tf&&tf.id===t.id,callback:()=>tv(!!tf&&tf.id===t.id,t.id)})}),e})()}]),...tC(!ep&&!!e1&&!!ts&&!tm,[{recordingKey:"favorite-custom-remove",displayText:(0,c.t)("favorited_resources.remove_from_sidebar"),callback:()=>tv(!0,null==tf?void 0:tf.id)}]),{separator:!0,displayText:""},...tC(!e5,tT),{separator:!0,displayText:""},...tC(tw,[(0,S.s)(eX,e0)]),{separator:!0,displayText:""},...tC(!ep&&!tm,[{disabled:!eC||te,recordingKey:"duplicate",displayText:td,callback:()=>{n(p.yi());let e=(0,D.Mp)(eA,eS);if(e){n(g.A5({type:en.EP,data:{team:e,resource:W.kJ.FILE,action:q.qW.DUPLICATE_FILES,editorType:eA.editorType||"design",currentPlan:C.O.Plan.STARTER,upsellPlan:C.O.Plan.PRO}}));return}R.CA.dispatchIfSaved(u.IZ({file:eA,checkOssSalesExperiment:eW}))}}]),...tC(!tn,[{disabled:!tl,recordingKey:"rename",displayText:e5?(0,c.t)("fullscreen.filename_view.rename-branch"):(0,c.t)("fullscreen.filename_view.rename"),callback:()=>{n(p.yi()),n(h._u())}}]),...tC(!ep&&ti,[{disabled:!tt,displayText:"Restore",callback:()=>{n(p.yi()),eO&&n(u.WO({fileKeys:{[eA.key]:eO},userInitiated:!0}))}}]),...tC(!ep&&!!tu,[{disabled:!1,displayText:(0,c.t)("fullscreen.filename_view.go_to_project"),callback:()=>{if(tu){let e;e=(0,l.Ub)().ps_benchmark?(0,L.wX)(tu.id,tu.orgId??null,tu.teamId,eS):(0,K.CE)(tu.id,tu.orgId??null),n(m.Eh({url:e}))}}}]),...tC(!ep&&!e5,[{disabled:!to,recordingKey:"moveToProject","data-onboarding-key":eu,displayText:(0,c.t)("fullscreen.filename_view.move-to-project"),callback:(0,ed.I9)(n,eA,eN)}]),...tC(!e1&&(ts||!e4)&&!tm,[{recordingKey:"favorite",displayText:ts?(0,c.t)("fullscreen.filename_view.unfavorite_label"):(0,c.t)("fullscreen.filename_view.favorite_label"),callback:()=>tv(!!ts)}]),...tC(!ep&&!tn&&!tm&&e2,[{disabled:!to,recordingKey:"delete",displayText:e5?(0,c.t)("fullscreen.filename_view.archive-branch"):(0,c.t)("fullscreen.filename_view.delete"),callback:e5?()=>{n(p.yi()),eO&&(n(u.MB({fileKeys:{[eA.key]:eO},userInitiated:!0})),e("Branch Archived",{fileKey:eA.key,fileRepoId:eA.fileRepoId}))}:()=>{n(p.yi());let e=(0,I.uO)(eA,eN);if(e&&(0,I.cX)(eA,e)){let t=(0,G.getDeleteReposPayload)({[e.id]:!0},eS,!0);n(_.ol({filesByKey:{},reposById:t}))}else{let e=(0,N.IR)({[eA.key]:!0},eS,!0,{[eA.key]:e2});n(_.ol({filesByKey:e}))}}}]),...tC(!ep&&tn,[{disabled:!tt,displayText:(0,c.t)("fullscreen.filename_view.delete-branch"),callback:()=>{n(p.yi()),n(g.A5({type:Q.k,data:{fileName:eA.name,onConfirm:()=>n(_.qe({fileKeys:{[eA.key]:!0},userInitiated:!0}))}}))}}]),...tC(!!t_,[{separator:!0,displayText:""},{recordingKey:"resetFileThumbnail",displayText:(0,c.t)("fullscreen.filename_view.restore_default_thumbnail"),callback:()=>{n(u.a0({file_key:eA.key,thumbnail_guid:null}))}}])];return i.createElement(E.kH,{name:$.i8.EDITOR_FILENAME_DROPDOWN},i.createElement(er.I,{items:tA,parentRect:t,showPoint:!eM,recordingKey:r,dispatch:n,allowCodegenOptions:"design"===eT.editorType,onSelectItem:e=>{e.callback&&e.callback("",{},n)},activatePathOnMount:e_,lean:ek?"right":void 0}))}},76264:(e,t,r)=>{"use strict";let n;r.d(t,{C8:()=>U,Qp:()=>K,Sx:()=>W,av:()=>G,cn:()=>F,gF:()=>V,ii:()=>x,kn:()=>B});var i=r(307824),a=r(120304),o=r(250008),l=r(843148),s=r(506616),c=r(703520),d=r(560072),u=r(250016),p=r(441388),m=r(762820),_=r(103840),h=r(402980),g=r(802928),f=r(251596),E=r(514916),y=r(472956),b=r(39676),v=r(795236),I=r(815464),w=r(291336),T=r(553432),S=r(200800),C=r(546772),A=r(142548),O=r(187044),N=r(927976),L=r(553620),R=r(264340),P=r(426260),M=r(375948),k=r(906228),D=r(161324);let F="edit-button-onboarding",x="edit_button_upgrading_to_edit";var U=((n=U||{}).EDIT_BUTTON_LOADING="editButtonLoading",n.EDIT_BUTTON="editButton",n.PRO_REQUEST_UPGRADE="proRequestUpgrade",n.ORG_REQUEST_UPGRADE="orgRequestUpgrade",n.REQUEST_EDIT_VIEW="requestEditView",n.VIEW_ONLY="viewOnly",n);function B(e){return!!e&&["orgRequestUpgrade","proRequestUpgrade","requestEditView"].includes(e.type)}function G(e){var t,r,n,c,u,p,m,A,O,L,R,P,k;let D=e.file,F=(0,a.w1)(e=>e.loadingState),U=(0,a.w1)(e=>e.orgUsersByOrgId),B=(0,a.w1)(e=>e.teamUserByTeamId),G=(0,a.w1)(e=>e.teams),V=(0,a.w1)(e=>e.showEditButton),H=(0,a.w1)(e=>(0,T.getPermissionsStateMemoized)(e)),W=H.user,K=(0,i.useMemo)(()=>!!D&&(0,w.Uf)(D),[D]),Y=(0,a.w1)(({openFile:e})=>{var t;return null==(t=null==e?void 0:e.org)?void 0:t.name}),q=function(e,t){let r=(0,f.C2)();return(0,i.useCallback)(n=>{let i={file_key:n.key,hasRoleAccess:(0,T.hasFileAccess)(n.key,C.m.VIEWER,e,!0),link_access:n.linkAccess},a=n.parentOrgId&&t.orgUsers[n.parentOrgId],l=r&&a&&a[r.id];n.parentOrgId?(i.account_type=l&&l.design_paid_status,i.parent_org_id=n.parentOrgId):n.teamId&&(i.team_id=n.teamId),(0,o.we)("Edit Button Events",{edit_button_event:"click",...i})},[r,e,t])}(H,U),j=(0,_.k1)(),$=(0,s.Qb)(y.imP,{fileKey:D.key}),Z=(0,s.Qb)(y.__c,{orgId:D.parentOrgId}),z=!1,Q=(0,g.c)(),X=D.canEdit,J=(0,M._g)(D),ee=(0,h.gT)(D),et=(0,N.AR)(),er=D.canAccessFullDevMode;if("loading"===Z.status||D.parentOrgId&&!D.org)return null;if("loaded"===Z.status&&(z=(null==(r=null==(t=D.org)?void 0:t.inviteWhitelist)?void 0:r.guestInviteSetting)===S.wt.REQUIRE_APPROVAL&&!!Z.data.orgJoinRequest),!z&&(0,b.K0)(F,x))return{type:"editButtonLoading"};if(!z&&V)return{type:"editButton",upgrade:async()=>{await Q(D,x),q(D)}};if(e.viewOnly){let t,r,i;let a=D.parentOrgId&&U.orgUsers[D.parentOrgId],o=W&&a&&a[W.id],s=D.teamId&&B[D.teamId],_=W&&s&&s[W.id],h=!!(o&&(0,w.wh)(o,D.editorType)),g=!!(_&&(0,w.u_)(_,D.editorType)),f=D.teamId&&G[D.teamId],y=g&&!D.parentOrgId;(0,l.Ub)().exp_pro_vr_migrate_org?(t=D.editorType===E.aE.DESIGN?null==(n=D.currentPartialOrgUser)?void 0:n.designAccountTypeRequest:null==(c=D.currentPartialOrgUser)?void 0:c.whiteboardAccountTypeRequest,r=D.editorType===E.aE.DESIGN?null==(u=D.currentTeamUser)?void 0:u.designAccountTypeRequest:null==(p=D.currentTeamUser)?void 0:p.whiteboardAccountTypeRequest):(t=D.editorType===E.aE.DESIGN?null==(m=D.currentPartialOrgUser)?void 0:m.designOrgAccountTypeRequest:null==(A=D.currentPartialOrgUser)?void 0:A.whiteboardOrgAccountTypeRequest,r=D.editorType===E.aE.DESIGN?null==(O=D.currentTeamUser)?void 0:O.designProAccountTypeRequest:null==(L=D.currentTeamUser)?void 0:L.whiteboardProAccountTypeRequest);let b=(null==t?void 0:t.status)==="pending",T=(null==r?void 0:r.status)==="pending",C=!1;if((null==j?void 0:j.updateHasPendingEditRequest)&&j.updateHasPendingEditRequest(!1),W&&!(0,I.kP)({folder_id:D.folderId,team_id:D.teamId},H)){if(_&&f&&(0,v.Mx)(y,T,f,W))return{type:"proRequestUpgrade",file:e.file,teamUser:_,isDevMode:et};if(h&&!b&&!(0,w.MV)(W,o?o.org_id:"")&&!(et&&X&&!er))return{type:"orgRequestUpgrade",editorType:D.editorType,fileKey:D.key,orgUser:o,orgId:D.parentOrgId,isDevMode:et};if("loading"===$.status)return null;if("loaded"===$.status){let e=W.id;(null==(R=$.data.file)?void 0:R.fileRoleRequests.find(t=>t.requesterUserId===e))&&(C=!0,(null==j?void 0:j.updateHasPendingEditRequest)&&j.updateHasPendingEditRequest(!0))}if(!y&&!h&&!X&&!C&&!z&&!(0,w.MV)(W,o?o.org_id:"")&&!((null==(k=null==(P=D.org)?void 0:P.inviteWhitelist)?void 0:k.guestInviteSetting)===S.wt.BANNED&&!D.currentPartialOrgUser)&&(!(0,M.CQ)(D)||J))return{type:"requestEditView",fileKey:D.key,userId:W.id,isDevMode:et}}return z?i=(0,d.t)("fullscreen.toolbar.pending-org-join-request-tooltip",{orgName:Y||""}):C&&(i=(0,d.t)("fullscreen.toolbar.pending-edit-request-tooltip")),{type:"viewOnly",isRestrictedView:K,isDisabledView:ee,pendingToolTipMessage:i,pendingRequest:b||T||C||z}}return null}function V(e){let t=(0,a.w1)(e=>e.openFile);return t?i.createElement(H,{file:t,viewOnly:e.viewOnly,variant:e.variant,recordingKey:e.recordingKey,hideViewOnlyText:e.hideViewOnlyText}):null}function H(e){let t=G({file:e.file,viewOnly:e.viewOnly});return t?i.createElement(W,{viewPermission:t,variant:e.variant,recordingKey:e.recordingKey,hideViewOnlyText:e.hideViewOnlyText}):null}function W({viewPermission:e,variant:t,recordingKey:r,hideViewOnlyText:n}){switch(e.type){case"editButtonLoading":return i.createElement("div",{className:D.io},i.createElement(u.q,{"aria-label":(0,d.t)("fullscreen.toolbar.edit-file-button-loading-aria-label"),disabled:!0,variant:t,recordingKey:r},i.createElement("span",{className:D.uA},i.createElement(d.Tx,{id:"fullscreen.toolbar.edit-file-button"})),i.createElement(c.M7,{className:D.wV})));case"editButton":{let n={"data-tooltip":(0,d.t)("fullscreen.toolbar.edit-file-button-hover-tooltip"),"data-tooltip-show-immediately":!0,"data-tooltip-type":A.wL.TEXT,"data-tooltip-max-width":500,"data-tooltip-offset-y":5};return i.createElement(p.kH,{name:O.i8.FILE_EDIT_BUTTON},i.createElement("div",{"data-onboarding-key":F},i.createElement(u.q,{variant:t,onClick:e.upgrade,recordingKey:r,...n},i.createElement(d.Tx,{id:"fullscreen.toolbar.edit-file-button"}))))}case"requestEditView":return i.createElement(L.Q,{fig_file_key:e.fileKey,user_id:e.userId,variant:t,recordingKey:r,isDevMode:e.isDevMode});case"orgRequestUpgrade":return i.createElement(p.kH,{name:O.i8.FILE_ORG_REQUEST_UPGRADE_BUTTON,properties:{isDevMode:e.isDevMode,buttonVariant:t}},i.createElement(R.Wc,{fig_file_key:e.fileKey,orgUser:e.orgUser,orgId:e.orgId,editorType:e.editorType,variant:t,recordingKey:r}));case"proRequestUpgrade":return i.createElement(p.kH,{name:O.i8.FILE_PRO_REQUEST_UPGRADE_BUTTON,properties:{isDevMode:e.isDevMode,buttonVariant:t}},i.createElement(R.UZ,{file:e.file,teamUser:e.teamUser,entryPoint:P.w5.EDIT_FILE,variant:t,recordingKey:r}));case"viewOnly":return i.createElement(k.y,{isRestrictedView:e.isRestrictedView,isDisabledView:e.isDisabledView,pendingToolTipMessage:e.pendingToolTipMessage,pendingRequest:e.pendingRequest,variant:t,hideViewOnlyText:n})}}function K(){return(0,a.w1)(e=>"fullscreen"===e.selectedView.view&&e.selectedView.isRecoveryMode&&m.KEP.uiState().isRecovery.getCopy())}},802468:(e,t,r)=>{"use strict";r.d(t,{Id:()=>ep,qU:()=>eE,yu:()=>em});var n=r(307824),i=r(120304),a=r(590659),o=r(125524),l=r(515724),s=r(125504),c=r.n(s),d=r(404920),u=r(721500),p=r(899116),m=r(656716),_=r(937620),h=r(733960),g=r(843148),f=r(372152),E=r(87975),y=r(929452),b=r(440900),v=r(180976),I=r(971376),w=r(148276),T=r(577824),S=r(71556),C=r(968240),A=r(560072),O=r(551872),N=r(403132),L=r(46604),R=r(907236),P=r(849208),M=r(282528),k=r(34664),D=r(506940),F=r(762820),x=r(300711),U=r(627652),B=r(392992),G=r(453496),V=r(918300),H=r(879396),W=r(483004),K=r(981764),Y=r(530152),q=r(73664),j=r(142548),$=r(582044),Z=r(780546),z=r(740718),Q=r(925472),X=r(540),J=r(7674),ee=r(462756),et=r(15320),er=r(586624),en=r(447600),ei=r(363892),ea=r(763456),eo=r(494824),el=r(824928),es=r(166996);let ec="multiplayer-nickname-dropdown",ed=(0,x.AT)(),eu=(0,u.qe)(ea.ozQ);function ep(e,t,r,n,i,a,o){if(!i)return;let l=e.sessionID,s=l===t,c=a&&a.sessionID===t;if(s&&c)o();else if(n){let t=i.observingSessionID===l||i.sessionID===l?-1:e.sessionID,n=-1!==i.observingSessionID,a=i.observingSessionID!==l&&i.sessionID!==l;n&&r((0,H.UV)({name:"Prototype Observation Ended",params:{multiplayerObservingSessionID:i.observingSessionID,multiplayerSessionID:i.sessionID}})),a&&(r((0,H.UV)({name:"Prototype Observation Started",params:{multiplayerObservingSessionID:l,multiplayerSessionID:i.sessionID}})),r(P.s({aware_of_observation_mode:!0}))),r(R.CO({...i,observingSessionID:t}))}else F.Abq.observeUser(l),i.observingSessionID!==l&&i.sessionID!==l&&r(P.s({aware_of_observation_mode:!0}))}function em(e){let t=(0,B.AL)(),{user:r,multiplayer:a,dropdownShown:o}=e,l=(0,i.OY)(),s=(0,i.w1)(e=>"prototype"===e.selectedView.view),c=(0,G.an)(),d=(0,G.sr)(),u=(0,y.wX)(),p=n.useCallback(e=>{ep(e,null==d?void 0:d.sessionID,l,s,a,c,u)},[null==d?void 0:d.sessionID,l,s,a,c,u]),m=s?null:t;return r?n.createElement(n.Fragment,null,!ed&&m&&r&&n.createElement(X.c,{fileKey:m.key}),n.createElement(e_,{dropdownShown:o,multiplayer:a,user:r,editingFile:m,onUserClick:p})):n.createElement(n.Fragment,null,!ed&&m&&r&&n.createElement(X.c,{fileKey:m.key}),n.createElement(ey,{dropdownShown:o,multiplayer:a,user:r,editingFile:m,onUserClick:p}))}function e_(e){let{multiplayer:t,user:r,onUserClick:i,dropdownShown:a,editingFile:o}=e,l=(0,n.useMemo)(()=>t.allUsers.find(e=>e.sessionID===t.sessionID)||null,[t.allUsers,t.sessionID]);(0,n.useEffect)(()=>{},[t,r]);let s=(0,k.SK)((null==o?void 0:o.key)||"").enabled;return n.createElement("div",{className:eo.G8},n.createElement(ei.AZ,null),l&&n.createElement(eE,{dropdownShown:a,multiplayer:t,currentUser:l,onUserClick:i}),o&&n.createElement(en.C,{user:r,editingFile:o,isFileInWorkshop:s}))}let eh=(0,n.forwardRef)(function(e,t){let{query:r,setQuery:i}=e,l=(0,h.i)(r),s=n.useRef(null),[d,u]=n.useState(!1);return(n.useEffect(()=>{s.current&&r!==l&&(s.current.scrollWidth>s.current.clientWidth?u(!0):u(!1))},[l,r]),(0,g.Ub)().live_feedback_large_meetings)?n.createElement("div",{ref:t,className:eo.Im},n.createElement("div",{className:eo.I6},n.createElement(C.e,{svg:el.c,"aria-label":(0,A.t)("fullscreen.accessibility.search_icon")},n.createElement(a.u,null))),n.createElement(T.y,{ref:s,placeholder:(0,A.t)("collaboration.spotlight.menu.search.placeholder"),className:c()({[eo.k$]:!0,[eo.Ih]:d}),value:r,onClick:M.Ii,onChange:e=>{i(e.target.value),(0,M.Ii)(e)},onKeyDown:e=>{"Escape"===e.key&&(i(""),(0,M.Ii)(e))},spellCheck:!1}),!!r&&n.createElement("button",{className:eo.Ke,onClick:e=>{e.stopPropagation(),i("")},"aria-label":(0,A.t)("search.sidebar_search_clear")},n.createElement("div",{className:eo.yi},n.createElement(C.e,{svg:es.c},n.createElement(o.C,null))))):null});function eg(e){let{targetRect:t,arrowOffsetFromRectLeft:r,currentUser:a,peopleList:o,userListRenderer:s,onUserClick:c,onKeyDown:u}=e,p=(0,n.useRef)(null),m=(0,n.useRef)(null),[h,g]=(0,f.lZ)(b.U$),[E,T]=(0,f.lZ)(b.Wg),[C,L]=n.useState(200),R="ui3"===(0,l.qG)().version,P=(0,i.OY)(),M=(0,v.Et)(),k=Math.min(window.innerHeight-M-22,450);n.useLayoutEffect(()=>{if(p.current&&m.current){let e=R?8:0;L(k-p.current.offsetHeight-m.current.offsetHeight-2*e)}},[R,k]);let D=(0,n.useCallback)(()=>{g(!0)},[g]),{start:F,cancel:x}=(0,V.w)(D),U=(0,n.useCallback)(()=>{x(),g(!1)},[x,g]),B=(0,y.Y$)(),H=(0,n.useCallback)(()=>{B(),U(),T(!0),P(N.yi())},[U,P,T,B]),W=(0,y.wX)(),K=(0,n.useCallback)(()=>{W(),P(N.yi())},[P,W]),Y=(0,G.an)(),q=Y&&e.currentUser.sessionID===Y.sessionID?n.createElement(I.Gi,{onClick:K,className:eo.Oq},n.createElement(A.Tx,{id:"collaboration.spotlight.button.stop"})):n.createElement(w.gV,{onClick:H,className:eo.Oq,onMouseOver:()=>{F(300)},onMouseLeave:U},n.createElement(A.Tx,{id:"collaboration.spotlight.tooltip.spotlight_me"})),[j,Z]=n.useState(""),{searchResults:Q}=function(e){let{query:t,usersToSearch:r}=e,[i,a]=n.useState(r),o=n.useRef(!1),l=(0,_.e6)(),s=n.useRef(!1),c=s.current,u=n.useCallback(async e=>{if(""===e)a(r);else{o.current=!1;let t=await (0,er.u)(e,r);o.current||(a(t.map(e=>e.item)),c||(l("Multiplayer Tools User Search",{otherUserSessionsCount:r.length}),s.current=!0))}},[c,l,r]),p=(0,d.c)(u,200);return n.useEffect(()=>(p(t),()=>{p.cancel(),o.current=!0}),[p,t,r]),{searchResults:i}}({query:j,usersToSearch:o});return n.createElement(z.Mx,{className:eo.Yn,targetRect:t,maxHeight:k,maxWidth:eu,lean:"center",arrowOffsetFromRectLeft:r,onKeyDown:u,showPoint:!R,disableDropdownScrollContainer:!0,propagateCloseClick:!0},n.createElement("div",{ref:p,className:eo.us},n.createElement($.c,{user:a,isOverflow:!0}),n.createElement("div",{className:eo.QL},q,n.createElement(X.y,null))),o.length>0&&n.createElement(n.Fragment,null,n.createElement("div",{className:eo.O4}),n.createElement(eh,{ref:m,query:j,setQuery:Z}),n.createElement(S.f,{width:eu-16,maxHeight:C},n.createElement(O.Y,{autofocus:!0,label:(0,A.t)("fullscreen.toolbar.multiplayer.all_users"),renderer:s,onSelect:e=>{e.length&&(c(e[0]),P(N.yi()))},initiallyNotSelected:!0,customClassName:eo.a0},Q))))}let ef="multiplayer-tools-dropdown";function eE(e){let{multiplayer:t,dropdownShown:r,currentUser:a,onUserClick:o}=e,s=(0,n.useRef)(null),d=(0,n.useRef)(null),u=(0,n.useRef)(null),h=(0,n.useRef)(null),v=(0,n.useRef)(null),I="ui3"===(0,l.qG)().version,w=(0,i.OY)(),[T,S]=n.useState(!1),C=(null==r?void 0:r.type)===ef,O=(0,n.useMemo)(()=>t.allUsers.filter(e=>e.sessionID!==(null==a?void 0:a.sessionID)),[t.allUsers,a]),[R,P]=(0,f.lZ)(b.U$);R&&!C&&P(!1);let k=(0,U.Ur)(),{users:F,overflowUsers:x}=(0,U.yq)(O,null,!1,k),B=(0,n.useMemo)(()=>[...F,...x],[x,F]),V=(0,_.e6)(),H=(0,n.useCallback)(e=>{if((0,M.Ii)(e),!d.current)return;u.current=d.current.getBoundingClientRect();let t=(null==r?void 0:r.type)===ef;w(L.iC({type:ef})),t||V("Multiplayer Tools Opened",{currentUserSessionID:a.sessionID,otherUserSessionsCount:B.length})},[a.sessionID,w,null==r?void 0:r.type,B.length,V]),Y=(0,G.an)(),q=Y&&Y.sessionID!==a.sessionID?Y:null,Z=(0,i.w1)(e=>e),z=(0,g.Ub)().ps_benchmark?(0,K.K)(Z):(0,W.E)(Z),Q=(0,y.e2)(),X=(0,y.E1)(),et=n.useMemo(()=>({label:e=>e.name,id:e=>String(e.sessionID),renderDisplay(r,{hasCursor:i}){let a=(0,E.Qf)(()=>{let e=`/files${z}/user/${r.userID}`;m.default.redirect(e,p.sZ?void 0:"_blank")}),o=[],l=t.sessionNominatedByCurrentUser===r.sessionID;return t.presenterSessionID!==r.sessionID&&(l?o.push({text:n.createElement(A.Tx,{id:"collaboration.spotlight.tooltip.menu.cancel_ask_to_spotlight"}),onClick:()=>{(0,U.w2)(r)&&X(r.sessionID,t)},key:"cancel-ask-to-spotlight"}):o.push({text:n.createElement(A.Tx,{id:"collaboration.spotlight.tooltip.ask_to_spotlight"}),onClick:()=>{(0,U.w2)(r)&&Q(r.sessionID,t)},key:"ask-to-spotlight"})),o.push({text:n.createElement(A.Tx,{id:"avatar.tooltip.view_profile"}),onClick:e=>{a(e)},key:"view-profile"}),n.createElement($.c,{key:r.sessionID,user:r,isOverflow:!0,isInListbox:!0,containsCursor:i,secondaryActions:o,fullHeightSidebarsEnabled:e.fullHeightSidebarsEnabled})}}),[t,z,Q,X,e.fullHeightSidebarsEnabled]),er=C||T,en=B.length+1,ei=e.fullHeightSidebarsEnabled?eo.aT:eo.IO;return n.createElement("span",{className:ei,ref:s},n.createElement(ee.q,{featured:q,quickAccess:F,maxVisibleUsers:(I?U.eC:U.EB)-1,onUserClick:o,fullHeightSidebarsEnabled:e.fullHeightSidebarsEnabled}),n.createElement("button",{id:"multiplayer-toolbar-container","aria-label":(0,A.t)("fullscreen.toolbar.multiplayer.multiplayer_tools"),"aria-expanded":null!=u.current&&(null==r?void 0:r.type)===ef,"data-tooltip-type":j.wL.TEXT,"data-tooltip":(0,A.t)("fullscreen.toolbar.multiplayer.multiplayer_tools"),"data-tooltip-offset-x":d.current&&v.current?d.current.offsetWidth/2-v.current.offsetWidth/2-1.5:0,"data-tooltip-offset-y":d.current&&s.current?s.current.clientHeight/2-d.current.clientHeight/2:0,className:c()({[eo.yR]:!0,[eo.WW]:e.fullHeightSidebarsEnabled&&x.length>0,[eo.SS]:e.fullHeightSidebarsEnabled&&0===x.length,[eo.Oo]:C,[eo.G2]:!C&&T}),ref:d,onMouseOverCapture:e=>{S(!0),(0,M.Ii)(e)},onMouseDownCapture:H,onMouseLeave:()=>{S(!1)},onKeyDown:e=>{(0,D.CI)({e,onClickHandler:e=>{H(e)},onEscapeHandler:()=>{var e;null==(e=null==d?void 0:d.current)||e.blur()}})},onClick:M.Ii},n.createElement("span",{key:a.sessionID,ref:h,className:eo.SE},n.createElement($.c,{user:a,key:a.sessionID,isOverflow:!1,fullHeightSidebarsEnabled:e.fullHeightSidebarsEnabled})),n.createElement("span",{"data-onboarding-key":"multiplayer-spotlight-nux-key",className:eo.I5},x.length>0&&n.createElement("span",{className:c()({[eo._W]:!0,[eo.SE]:!0,[eo.Oo]:C,[eo.G2]:!C&&T}),style:{minWidth:en<10?8:en<100?15:22}},`${en}`),n.createElement(J.m,{divRef:v,className:c()({[eo.KY]:!0,[eo.SE]:!0,[eo.Oo]:C,[eo.G2]:!C&&T}),showingDropdown:er}))),(null==r?void 0:r.type)===ef&&v.current&&n.createElement(eg,{targetRect:v.current.getBoundingClientRect(),arrowOffsetFromRectLeft:v.current?v.current.offsetWidth/2+1:0,currentUser:a,onUserClick:o,userListRenderer:et,peopleList:B,onKeyDown:e=>{"Tab"===e.key&&w(N.yi())}}))}function ey(e){let{multiplayer:t,user:r,onUserClick:i,dropdownShown:a,editingFile:o}=e,l=(0,n.useMemo)(()=>t.allUsers.find(e=>e.sessionID===t.sessionID)||null,[t.allUsers,t.sessionID]);(0,n.useEffect)(()=>{},[t,r]);let s=(0,k.SK)((null==o?void 0:o.key)||"").enabled;return n.createElement("div",{className:eo.G8},n.createElement(ei.AZ,null),n.createElement(ev,{dropdownShown:a,multiplayer:t,currentUser:l,onUserClick:i,editingFile:o}),o&&n.createElement(en.C,{user:r,editingFile:o,isFileInWorkshop:s}))}let eb="multiplayer-users-dropdown";function ev(e){let{editingFile:t,multiplayer:r,dropdownShown:a,currentUser:o,onUserClick:l}=e,s=(0,n.useRef)(null),c=(0,n.useRef)(null),d=(0,n.useRef)(null),u=(0,i.OY)(),_=(0,n.useCallback)(e=>{(0,M.Ii)(e),s.current&&(c.current=s.current.getBoundingClientRect(),u(L.iC({type:eb})))},[u]),h=null==a?void 0:a.type,g=(0,n.useMemo)(()=>h===ec&&d.current?d.current.getBoundingClientRect():null,[h]),f=(0,Q.gP)(),b=(0,i.w1)(W.E),v=(0,q.sZ)(),I=(null==t?void 0:t.key)??null,{usersNotInCall:w}=(0,Y._q)(I,!0),T=r.allUsers,S=(0,U.Ur)(),C=(0,i.w1)(e=>I&&e.voice.activeCall[I])||!1,{users:R,overflowUsers:P}=(0,U.yq)(v?w:T,o,C,S),k=n.useCallback(e=>0===e?"multiplayer-spotlight-nux-key":1===e?"multiplayer-observation-nux-key":"",[]),F=(0,y.e2)(),x=(0,y.E1)(),B=n.useMemo(()=>({label:e=>e.name,id:e=>String(e.sessionID),renderDisplay(e,{hasCursor:t}){let i=(0,E.Qf)(()=>{let t=`/files${b}/user/${e.userID}`;m.default.redirect(t,p.sZ?void 0:"_blank")}),a=[],o=r.sessionNominatedByCurrentUser===e.sessionID;return r.presenterSessionID!==e.sessionID&&(o?a.push({text:n.createElement(A.Tx,{id:"collaboration.spotlight.tooltip.menu.cancel_ask_to_spotlight"}),onClick:()=>{(0,U.w2)(e)&&x(e.sessionID,r)},key:"cancel-ask-to-spotlight"}):a.push({text:n.createElement(A.Tx,{id:"collaboration.spotlight.tooltip.ask_to_spotlight"}),onClick:()=>{(0,U.w2)(e)&&F(e.sessionID,r)},key:"ask-to-spotlight"})),a.push({text:n.createElement(A.Tx,{id:"avatar.tooltip.view_profile"}),onClick:e=>{i(e)},key:"view-profile"}),n.createElement($.c,{key:e.sessionID,user:e,isOverflow:!0,isInListbox:!0,containsCursor:t,secondaryActions:a})}}),[r,b,F,x]);return n.createElement("span",{className:eo._2,"data-onboarding-key":"multiplayer-avatars"},R.map((e,t)=>{let r=n.createElement($.c,{user:e,onboardingKey:k(t),key:e.sessionID,isOverflow:!1,onUserClick:l});return e.sessionID===(null==o?void 0:o.sessionID)?n.createElement("span",{key:e.sessionID,ref:d},r):r}),P.length>0&&n.createElement(n.Fragment,null,n.createElement("button",{id:"multiplayer-overflow-container","aria-label":(0,A.t)("fullscreen.toolbar.multiplayer.more_users"),"aria-expanded":null!=c.current&&(null==a?void 0:a.type)===eb,className:eo.K_,ref:s,onMouseDown:_,onKeyDown:e=>{(0,D.CI)({e,onClickHandler:e=>{_(e)},onEscapeHandler:()=>{var e;null==(e=null==s?void 0:s.current)||e.blur()}})},onClick:M.Ii},n.createElement(Z.a,{className:eo.Mk,text:`${P.length}`})),(null==a?void 0:a.type)===eb&&s.current&&n.createElement(Q.Oq,{targetRect:s.current.getBoundingClientRect(),onKeyDown:e=>{"Tab"===e.key&&u(N.yi())}},n.createElement(O.Y,{autofocus:!0,label:"More multiplayer users",renderer:B,onSelect:e=>{e.length&&(l(e[0]),u(N.yi()))},customClassName:eo.a0},P))),(null==a?void 0:a.type)===ec&&g&&n.createElement(z.Mx,{targetRect:g,maxHeight:f,className:eo.gV,propagateCloseClick:!0},n.createElement(et.Q,null)))}},563040:(e,t,r)=>{"use strict";let n;r.d(t,{Er:()=>ef,FP:()=>u,In:()=>ep,K4:()=>P,Kg:()=>D,Kk:()=>eg,MR:()=>C,Qn:()=>M,SS:()=>I,Sw:()=>K,Yb:()=>W,ae:()=>T,c9:()=>e_,gb:()=>eu,iw:()=>p,mS:()=>N,mV:()=>R,mq:()=>w,qv:()=>A,sB:()=>k,wT:()=>em,wt:()=>H,yS:()=>m,zN:()=>eh});var i=r(594192),a=r(312452),o=r(147048),l=r(784528),s=r(699156);r(532128);var c=r(722620),d=r(258240),u=((n=u||{})[n.TOOL=0]="TOOL",n[n.ACTION=1]="ACTION",n[n.CUSTOM_ACTION=2]="CUSTOM_ACTION",n[n.FLYOUT=3]="FLYOUT",n[n.LABEL=4]="LABEL",n[n.TEXT_BUTTON=5]="TEXT_BUTTON",n);function p(e){return"action"in e}function m(e){return"divider"in e}let _=[a.a_v.DESIGN_LAYOUT,a.a_v.WHITEBOARD_LAYOUT,a.a_v.SLIDE_LAYOUT,a.a_v.RASTER,a.a_v.GRADIENT,a.a_v.TEXT,a.a_v.COMMENTS],h=_.concat([a.a_v.VECTOR]),g=_.concat([a.a_v.VECTOR,a.a_v.PLACE_IMAGE]),f=[a.a_v.VECTOR],E=[a.a_v.PLACE_IMAGE],y=[a.a_v.PREVIEW,a.a_v.BRANCHING,a.a_v.COMPARE_CHANGES,a.a_v.HISTORY],b=[a.a_v.DESIGN_LAYOUT,a.a_v.TEXT,a.a_v.RASTER,a.a_v.GRADIENT,a.a_v.PREVIEW,a.a_v.COMMENTS,a.a_v.BRANCHING,a.a_v.HISTORY,a.a_v.COMPARE_CHANGES],v={type:3,name:"move-flyout",children:[{action:"set-tool-default",property:"currentTool",propertyValue:a.w3X.SELECT,recordingKey:"toolDefault"},{action:"set-tool-scale",property:"currentTool",propertyValue:a.w3X.SCALE,recordingKey:"toolScale"}],editModes:g,recordingKey:"moveFlyout"},I={type:3,name:"shape-flyout",editModes:_,recordingKey:"shapeFlyout",children:[{action:"set-tool-rectangle",property:"currentTool",propertyValue:a.w3X.SHAPE_RECTANGLE,recordingKey:"toolShapeRectangle"},{action:"set-tool-line",property:"currentTool",propertyValue:a.w3X.SHAPE_LINE,recordingKey:"toolShapeLine"},{action:"set-tool-arrow",property:"currentTool",propertyValue:a.w3X.SHAPE_ARROW,recordingKey:"toolShapeArrow"},{action:"set-tool-ellipse",property:"currentTool",propertyValue:a.w3X.SHAPE_ELLIPSE,recordingKey:"toolShapeEllipse"},{action:"set-tool-regular-polygon",property:"currentTool",propertyValue:a.w3X.SHAPE_REGULAR_POLYGON,recordingKey:"toolShapePolygon"},{action:"set-tool-star",property:"currentTool",propertyValue:a.w3X.SHAPE_STAR,recordingKey:"toolShapeStar"},{action:"place",recordingKey:"toolPlaceImage",onboardingKey:"tool-place-image"}]},w={type:0,tool:a.w3X.COMMENTS,action:"set-tool-comments",editModes:_.concat([a.a_v.PREVIEW]),nonEditorsAllowed:!0,onboardingKey:"comment",recordingKey:"toolComment"},T="insert",S={type:1,action:"component-insert",editModes:_,recordingKey:"toolResourceInsert",onboardingKey:T,isActive:o.ay},C=[{type:0,tool:a.w3X.SELECT,action:"set-tool-default",nonEditorsAllowed:!0,editModes:y,recordingKey:"toolDefault"},v,{type:3,name:"region-flyout",editModes:_,onboardingKey:"frame",recordingKey:"regionFlyout",children:[{action:"set-tool-frame",property:"currentTool",propertyValue:a.w3X.FRAME,recordingKey:"toolFrame"},{action:"set-tool-section",property:"currentTool",propertyValue:a.w3X.SECTION,recordingKey:"toolSection"},{action:"set-tool-slice",property:"currentTool",propertyValue:a.w3X.SLICE,recordingKey:"toolSlice"}]},I,{type:3,name:"pen-flyout",editModes:h,recordingKey:"penFlyout",onboardingKey:"pen",children:[{action:"set-tool-pen",property:"currentTool",propertyValue:a.w3X.VECTOR_PEN,recordingKey:"toolPen"},{action:"set-tool-pencil",property:"currentTool",propertyValue:a.w3X.VECTOR_PENCIL,recordingKey:"toolPencil"}]},{type:0,tool:a.w3X.VECTOR_BEND,action:"set-tool-bend",editModes:f,recordingKey:"toolBend"},{type:0,tool:a.w3X.VECTOR_PAINT_BUCKET,action:"set-tool-paint-bucket",editModes:f,recordingKey:"toolPaintBucket"},{type:0,tool:a.w3X.TYPE,action:"set-tool-type",editModes:_,recordingKey:"toolType",onboardingKey:"tool-type-onboarding"},S,{type:0,tool:a.w3X.HAND,action:"set-tool-hand",nonEditorsAllowed:!0,loggedOutAllowed:!0,editModes:b,recordingKey:"toolHand"},w,{type:4,label:"toolbar-place-image",editModes:E,recordingKey:"toolPlaceOneImage"},{type:5,action:"place-all-images",editModes:E,recordingKey:"toolPlaceAllImages"},{type:5,action:"discard-all-images",editModes:E,recordingKey:"toolDiscardAllImages"},{type:5,action:"leave-edit-mode",editModes:f,tooltip:"leave-vector-edit-mode",recordingKey:"toolLeaveVectorEditMode"}],A={type:1,action:"focus-mode-component-set-toggle",editModes:[a.a_v.DESIGN_LAYOUT],recordingKey:"focusModeComponentSetToggle",featureFlags:["ce_multi_edit"],isActive:()=>a.KEP.uiState().focusModeState.getCopy()===a.OQf.COMPONENT_SET,onboardingKey:"focus-mode-component-set-toggle"},O=[{type:1,action:"multi-edit-text",editModes:_,featureFlags:["ce_multi_edit"],recordingKey:"multiEditText",onboardingKey:"multi-edit-text"},{type:1,action:"select-matching",editModes:[a.a_v.DESIGN_LAYOUT],featureFlags:["ce_multi_edit"],recordingKey:"selectMatching"},A],N=["go-to-original-component","goto-parent-component","text-edit-hyperlink","crop-image","create-symbol","request-edit-mode-via-toolbar","multi-edit-text","select-matching","focus-mode-component-set-toggle","add-selection-ready-status","remove-selection-ready-status","mask-selection","create-multiple-symbols","create-multiple-symbols-and-state-group","add-variant","live-boolean-union","live-boolean-subtract","live-boolean-intersect","live-boolean-xor","flatten-selection","resize-to-fit","detach-instance","push-changes-to-main","reset-symbol","reset-size","reset-exports","reset-effects","reset-layer","reset-visible","reset-name","reset-fill","reset-stroke","reset-text","reset-text-style","reset-prototype-interactions","reset-overlay","reset_property_assignment"],L=e=>t=>{var r;return!!(null==(r=t.mirror.selectionProperties.resettableInstanceOverrides)?void 0:r.selectionOverrides[e])},R={type:1,editModes:_,action:"live-boolean-union",recordingKey:"toolBooleanUnion"},P={type:1,editModes:_,action:"live-boolean-subtract",recordingKey:"toolBooleanSubtract"},M={type:1,editModes:_,action:"live-boolean-intersect",recordingKey:"toolBooleanIntersect"},k={type:1,editModes:_,action:"live-boolean-xor",recordingKey:"toolBooleanXor"},D={type:1,editModes:_,action:"flatten-selection",recordingKey:"toolFlatten"},F={type:1,action:"focus-mode-component-set-toggle",editModes:[a.a_v.DESIGN_LAYOUT],recordingKey:"focusModeComponentSetToggle",featureFlags:["ce_multi_edit"],isActive:()=>a.KEP.uiState().focusModeState.getCopy()===a.OQf.COMPONENT_SET,onboardingKey:"focus-mode-component-set-toggle"},x={type:1,action:"select-matching",editModes:[a.a_v.DESIGN_LAYOUT],featureFlags:["ce_multi_edit"],recordingKey:"selectMatching",isAvailable:e=>!(0,l.Ib)(e.mirror.appModel,"focus-mode-component-set-toggle")},U={type:1,action:"multi-edit-text",editModes:_,featureFlags:["ce_multi_edit"],recordingKey:"multiEditText",onboardingKey:"multi-edit-text"},B={type:1,action:"add-selection-ready-status",editModes:[..._,a.a_v.DEV_HANDOFF],recordingKey:"toolAddReadyStatus"},G={type:1,action:"remove-selection-ready-status",editModes:[..._,a.a_v.DEV_HANDOFF],isActive:()=>!0,recordingKey:"toolRemoveReadyStatus"},V={type:1,action:"text-edit-hyperlink",isActive:()=>a.KEP.editorState().selectionIsHyperlink.getCopy(),editModes:[a.a_v.DESIGN_LAYOUT,a.a_v.TEXT],recordingKey:"editHyperlink"},H={type:1,action:"create-symbol",recordingKey:"toolCreateSymbol",onboardingKey:"create-symbol"},W={type:1,action:"create-multiple-symbols",recordingKey:"toolCreateMultipleSymbols",onboardingKey:"create-symbol"},K={type:1,action:"create-multiple-symbols-and-state-group",recordingKey:"toolCreateMultipleSymbolsAndStateGroup",onboardingKey:"create-symbol"},Y={type:1,action:"detach-instance",recordingKey:"detachInstance",onboardingKey:"detach-instance"},q={type:1,action:"push-changes-to-main",recordingKey:"pushChangesToMain"},j={type:1,action:"reset-symbol",recordingKey:"resetChanges"},$={type:1,action:"reset-size",recordingKey:"resetChanges",isAvailable:L(a.EdD.SIZE)},Z={type:1,action:"reset-exports",recordingKey:"resetChanges",isAvailable:L(a.EdD.EXPORTS)},z={type:1,action:"reset-effects",recordingKey:"resetChanges",isAvailable:L(a.EdD.EFFECTS)},Q={type:1,action:"reset-layer",recordingKey:"resetChanges",isAvailable:L(a.EdD.LAYER)},X={type:1,action:"reset-visible",recordingKey:"resetChanges",isAvailable:L(a.EdD.VISIBLE)},J={type:1,action:"reset-name",recordingKey:"resetChanges",isAvailable:L(a.EdD.NAME)},ee={type:1,action:"reset-fill",recordingKey:"resetChanges",isAvailable:L(a.EdD.FILL)},et={type:1,action:"reset-stroke",recordingKey:"resetChanges",isAvailable:L(a.EdD.STROKE)},er={type:1,action:"reset-text",recordingKey:"resetChanges",isAvailable:L(a.EdD.TEXT)},en={type:1,action:"reset-text-style",recordingKey:"resetChanges",isAvailable:L(a.EdD.TEXT_STYLE)},ei={type:1,action:"reset-prototype-interactions",recordingKey:"resetChanges",isAvailable:L(a.EdD.PROTOTYPE_INTERACTIONS)},ea={type:1,action:"reset-overlay",recordingKey:"resetChanges",isAvailable:L(a.EdD.OVERLAY)},eo={type:1,action:"add-variant",editModes:_,recordingKey:"addVariant"},el={type:1,action:"resize-to-fit",editModes:_,recordingKey:"toolResizeToFit"},es={type:1,action:"mask-selection",isActive:()=>a.KEP.editorState().selectionIsMask.getCopy()===a.Ky0.ON,editModes:_,recordingKey:"toolMaskSelection"},ec={type:1,action:"crop-image",editModes:_,recordingKey:"toolCropImage"},ed={type:1,action:"request-edit-mode-via-toolbar",editModes:_,recordingKey:"toolEditMode"},eu=(e,t,r)=>[[x,F],[B,G,V],[r,t,H,W,K,Y,q,j,Z,z,Q,X,J,ee,et,er,en,$,ei,ea,eo,...e].filter(i.aI),[el,es,ec,ed,U],[R,P,M,k,D]],ep=[{type:1,action:"create-section-from-selection",editModes:_,recordingKey:"toolCreateSection"},{type:1,action:"request-edit-mode-via-toolbar",editModes:_,recordingKey:"toolEditMode"},...O,{type:1,action:"reset-symbol",editModes:_,recordingKey:"toolResetSymbol"},{type:3,name:"symbol-flyout",editModes:_,recordingKey:"createSymbolFlyout",flyoutHideOptionsIfSingleEnabledAction:!0,flyoutShowItemIcons:!1,onboardingKey:"create-symbol",children:[{action:"create-symbol",recordingKey:"toolCreateSymbol",onboardingKey:"create-symbol"},{action:"create-multiple-symbols",recordingKey:"toolCreateMultipleSymbols",onboardingKey:"create-symbol"},{action:"create-multiple-symbols-and-state-group",recordingKey:"toolCreateMultipleSymbolsAndStateGroup",onboardingKey:"create-symbol"}]},{type:1,action:"add-variant",editModes:_,recordingKey:"addVariant"},{type:1,action:"mask-selection",isActive:()=>a.KEP.editorState().selectionIsMask.getCopy()===a.Ky0.ON,editModes:_,recordingKey:"toolMaskSelection"},{type:3,name:"boolean-flyout",editModes:_,children:[{action:"live-boolean-union",recordingKey:"toolBooleanUnion"},{action:"live-boolean-subtract",recordingKey:"toolBooleanSubtract"},{action:"live-boolean-intersect",recordingKey:"toolBooleanIntersect"},{action:"live-boolean-xor",recordingKey:"toolBooleanXor"},{divider:!0},{action:"flatten-selection",recordingKey:"toolFlatten"}],recordingKey:"booleanFlyout"},{type:1,action:"crop-image",editModes:_,recordingKey:"toolCropImage"},{type:1,action:"text-edit-hyperlink",isActive:()=>a.KEP.editorState().selectionIsHyperlink.getCopy(),editModes:[a.a_v.DESIGN_LAYOUT,a.a_v.TEXT],recordingKey:"editHyperlink"},{type:1,action:"add-image-description",propertyValue:!0,editModes:_,recordingKey:"addImageDescription"},{type:1,action:"add-selection-ready-status",editModes:[..._,a.a_v.DEV_HANDOFF],recordingKey:"toolAddReadyStatus"},{type:1,action:"remove-selection-ready-status",editModes:[..._,a.a_v.DEV_HANDOFF],isActive:()=>!0,recordingKey:"toolRemoveReadyStatus"}],em=[{type:0,tool:a.w3X.SELECT,action:"set-tool-default-figjam",nonEditorsAllowed:!0,onlyShowInReadOnly:!0,editModes:[..._,a.a_v.PREVIEW,a.a_v.HISTORY],recordingKey:"toolDefault"},{type:0,tool:a.w3X.HAND,action:"set-tool-hand",nonEditorsAllowed:!0,onlyShowInReadOnly:!0,editModes:[..._,a.a_v.PREVIEW,a.a_v.HISTORY],recordingKey:"toolHand",onboardingKey:s.EN}],e_=[{type:0,tool:a.w3X.SELECT,action:"set-tool-default-dev-handoff",editModes:[a.a_v.DEV_HANDOFF,a.a_v.DEV_HANDOFF_HISTORY],recordingKey:"toolDefault",nonEditorsAllowed:!0,onlyShowInReadOnly:!1,newFileDisabled:!0,iconOverride:d.c,isWideForEditors:!0},{type:0,tool:a.w3X.MEASURE,action:"set-tool-measure",editModes:[a.a_v.DEV_HANDOFF],recordingKey:"toolMeasure",nonEditorsAllowed:!1,newFileDisabled:!1,onlyShowInReadOnly:!1,hideInExtension:!0,onboardingKey:"tool-measurements-onboarding"},{type:0,tool:a.w3X.ANNOTATE,action:"set-tool-annotate",editModes:[a.a_v.DEV_HANDOFF],recordingKey:"toolAnnotate",nonEditorsAllowed:!1,newFileDisabled:!1,onlyShowInReadOnly:!1,hideInExtension:!0,onboardingKey:"tool-annotations-onboarding"},{type:0,tool:a.w3X.COMMENTS,action:"set-tool-comments",editModes:[a.a_v.DEV_HANDOFF],recordingKey:"toolComment",nonEditorsAllowed:!0,newFileDisabled:!0,onlyShowInReadOnly:!1}],eh={type:3,name:"prototype-view-flyout",editModes:_.concat([a.a_v.DEV_HANDOFF,a.a_v.PREVIEW]),nonEditorsAllowed:!0,loggedOutAllowed:!0,recordingKey:"prototypeViewFlyout",dontChainRecordingKeys:!0,flyoutDoNotStyleActiveItem:!0,children:[{action:"present-as-prototype",actionOnFlyoutItemClick:"set-prototype-view-present",isActive:()=>a.KEP.prototypingEditorState().prototypeViewMode.getCopy()===a.Rv6.PRESENT,recordingKey:"prototypeViewPresent",onboardingKey:"prototype-view-present-dropdown-option"},{action:"toggle-inline-preview",actionOnFlyoutItemClick:"set-prototype-view-preview",isActive:()=>a.KEP.prototypingEditorState().prototypeViewMode.getCopy()===a.Rv6.PREVIEW,recordingKey:"prototypeViewPreview"}],onboardingKey:"prototype-view-flyout"},eg={type:1,action:"toggle-inline-html-preview",iconOverride:c.c,recordingKey:"prototypeViewSitesPreview"},ef={type:3,name:"slides-presentation-flyout",editModes:_.concat([a.a_v.SLIDE_LAYOUT,a.a_v.PREVIEW]),nonEditorsAllowed:!0,loggedOutAllowed:!0,recordingKey:"slidesPresentationFlyout",flyoutDoNotStyleActiveItem:!0,children:[{action:"present-slides-audience-view",actionOnFlyoutItemClick:"set-slides-audience-view",recordingKey:"audienceViewPresent",isActive:()=>a.KEP.prototypingEditorState().prototypeViewMode.getCopy()===a.Rv6.PRESENT},{action:"toggle-inline-preview",actionOnFlyoutItemClick:"set-prototype-view-preview",recordingKey:"prototypeViewPreview",featureFlags:["piper","piper_inline_preview"]},{action:"present-slides-presenter-view",actionOnFlyoutItemClick:"set-slides-presenter-view",recordingKey:"presenterViewPresent",featureFlags:["piper"]}]}},896784:(e,t,r)=>{"use strict";r.d(t,{W:()=>n,i:()=>i});let n=r(153180);function i(e,t,r=!0){let i=n.enabledButton;return e?t&&r&&(i=n.activeButton):i=n.disabledButton,i}},186776:(e,t,r)=>{"use strict";r.d(t,{Qr:()=>Z,kz:()=>$,sJ:()=>z});var n=r(307824),i=r(120304),a=r(515724),o=r(125504),l=r.n(o),s=r(323135),c=r(937620),d=r(4580),u=r(843148),p=r(87975),m=r(838836),_=r(570464),h=r(853688),g=r(204792),f=r(560072),E=r(403132),y=r(191352),b=r(589440),v=r(120664),I=r(859264),w=r(585508),T=r(600680),S=r(762820),C=r(979144),A=r(563404),O=r(833492),N=r(84656),L=r(879396),R=r(144984),P=r(142548),M=r(784528),k=r(927976),D=r(711213),F=r(767876),x=r(7674),U=r(108688),B=r(241645),G=r(699156),V=r(358628),H=r(830596),W=r(344848),K=r(138220),Y=r(565512);let q="zoom-input-dropdown";function j({targetRect:e,showingZoomDropdown:t,toggleZoomMenu:r,recordingKey:o}){let l=(0,c.e6)();n.useEffect(()=>{l("View Menu Opened")},[l]);let s=(0,y.KG)(),p="ui3"===(0,a.qG)().version,m=(0,N.s5)((0,T.W)().activeCanvasCurrentZoom),_=(0,N.s5)((0,C.EB)().activeCanvasPixelPreview),h=(0,N.s5)((0,T.W)().activeCanvasRetinaMode),g=(0,d.q)(e=>e.mirror.appModel.keyboardShortcuts),f=(0,i.w1)(e=>!e.mirror.appModel.isReadOnly),E=(0,i.w1)(e=>!!e.user),b=(0,i.w1)(e=>(0,k.ie)(e.selectedView)),v=e=>(0,i.w1)(t=>!!t.mirror.appModel[e]),O="design"===s,P="design"===(0,R.sZ)(s),D=(0,i.w1)(e=>e.mirror.appModel.prototypeCanvasUiVisible),F=(0,N.s5)(S.KEP.editorPreferences().showPropertyLabels),x=(0,N.s5)(S.KEP.editorPreferences().showFrameGrids),U=(0,N.s5)((0,T.W)().showFrameGridsViewOnly),B=f?"showFrameGrids":"showFrameGridsViewOnly",G=(0,N.s5)((0,C.EB)().snapToDotGrid),V=(0,N.s5)((0,C.EB)().snapToPixelGrid),H=(0,N.s5)((0,C.EB)().showDotGrid),W=(0,N.s5)((0,C.EB)().renderGrid),K=[{type:"ZOOM_IN",shortcut:(0,M.O0)(g,"zoom-in"),recordingKey:"zoomIn",disabled:!(0,A.mY)("zoom-in")},{type:"ZOOM_OUT",shortcut:(0,M.O0)(g,"zoom-out"),recordingKey:"zoomOut",disabled:!(0,A.mY)("zoom-out")},{type:"ZOOM_TO_FIT",shortcut:(0,M.O0)(g,"zoom-to-fit"),recordingKey:"zoomToFit"},{type:"ZOOM_TO_50",recordingKey:"zoomTo50"},{type:"ZOOM_TO_100",shortcut:(0,M.O0)(g,"zoom-reset"),recordingKey:"zoomTo100"},{type:"ZOOM_TO_200",recordingKey:"zoomTo200"},{type:"separator"},{type:"PIXEL_PREVIEW",isChildChecked:_,recordingKey:"activeCanvasPixelPreview",hidden:!O&&!b,disabled:(0,A.mY)("activeCanvasPixelPreview"),children:[{type:"PIXEL_PREVIEW_DISABLED",shortcut:(0,M.O0)(g,"toggle-pixel-preview"),isChecked:!_,recordingKey:"disabled"},{type:"PIXEL_PREVIEW_1X",isChecked:_&&!h,shortcut:h?void 0:(0,M.O0)(g,"toggle-pixel-preview"),recordingKey:"1x"},{type:"PIXEL_PREVIEW_2X",isChecked:_&&h,shortcut:h?(0,M.O0)(g,"toggle-pixel-preview"):void 0,recordingKey:"2x"}]},{type:P?"PIXEL_GRID":"DOT_GRID",shortcut:(0,M.O0)(g,P?"toggle-grid":"toggle-show-dot-grid"),recordingKey:P?"renderGrid":"showDotGrid",isChecked:P?W:H,disabled:!(0,A.mY)("toggle-grid")},{type:P?"SNAP_TO_PIXEL_GRID":"SNAP_TO_DOT_GRID",shortcut:(0,M.O0)(g,P?"toggle-snapping-to-pixels":"toggle-snapping-to-dots"),recordingKey:O?"snapToPixelGrid":"snapToDotGrid",isChecked:P?V:G,disabled:!(0,A.mY)(O?"toggle-snapping-to-pixels":"toggle-snapping-to-dots"),hidden:b},{type:"LAYOUT_GRIDS",shortcut:(0,M.O0)(g,"toggle-shown-layout-grids"),recordingKey:B,hidden:!P||!E,isChecked:f?x:U,disabled:(0,A.mY)(B)},{type:"RULERS",shortcut:(0,M.O0)(g,"toggle-rulers"),recordingKey:"renderRulers",hidden:!P,isChecked:(0,N.s5)((0,C.EB)().renderRulers),disabled:(0,A.mY)("renderRulers")},{type:"OUTLINES_MENU",recordingKey:"outlinesMenu",hidden:!P||!E,disabled:(0,A.mY)("showOutlines"),children:[{type:"OUTLINES",shortcut:(0,M.O0)(g,"toggle-outlines-with-migration-notice")||(0,M.O0)(g,"toggle-outlines"),isChecked:(0,N.s5)((0,T.W)().showOutlines),recordingKey:"showOutlines"},{type:"separator"},{type:"OUTLINES_HIDDEN_LAYERS",isChecked:(0,N.s5)((0,T.W)().showOutlineHiddenLayers),recordingKey:"hiddenLayers"},{type:"OUTLINES_OBJECT_BOUNDS",isChecked:(0,N.s5)((0,T.W)().showOutlineObjectBounds),recordingKey:"objectBounds"}]},{type:"MULTIPLAYER_CURSORS",shortcut:(0,M.O0)(g,"toggle-multiplayer-cursors"),recordingKey:"hideMultiplayerCursors",isChecked:!v("hideMultiplayerCursors"),disabled:(0,A.mY)("hideMultiplayerCursors")},{type:"PROPERTY_LABELS",recordingKey:"toggleShowPropertyLabels",isChecked:F,hidden:!p},{type:"separator"},{type:"COMMENTS",shortcut:(0,M.O0)(g,"toggle-show-comments"),recordingKey:"showComments",isChecked:v("showComments"),disabled:(0,A.mY)("showComments")},{type:"ANNOTATIONS",recordingKey:"showAnnotations",isChecked:(0,N.s5)(S.KEP.uiState().showAnnotations),disabled:!(0,A.mY)("toggle-show-annotations"),hidden:!b},{type:"PROTOTYPING",shortcut:(0,M.O0)(g,"toggle-prototyping-info"),recordingKey:"prototypingMode",hidden:!O||f&&!(0,L.Wi)(),isChecked:D},{type:"SINGLE_PROPERTIES_PANEL",recordingKey:"singlePropertiesPanel",hidden:!(0,u.Ub)().prototype_modality,isChecked:(0,L.Wi)()}],Y=n.useCallback(e=>{S.i46.setCanvasZoomScale(e/100)},[]);return n.createElement($,{targetRect:e,showingZoomDropdown:t,toggleZoomMenu:r,recordingKey:o,allowCodegenOptions:P,currentZoom:100*m,dropdownItems:K,onSelectDropdownItem:(e,t)=>{switch(e){case"ZOOM_IN":w.CA.triggerAction("zoom-in",{source:"zoom-menu"});break;case"ZOOM_OUT":w.CA.triggerAction("zoom-out",{source:"zoom-menu"});break;case"ZOOM_TO_FIT":w.CA.triggerAction("zoom-to-fit",{source:"zoom-menu"});break;case"ZOOM_TO_50":S.i46.setCanvasZoomScale(.5);break;case"ZOOM_TO_100":S.i46.setCanvasZoomScale(1);break;case"ZOOM_TO_200":S.i46.setCanvasZoomScale(2);break;case"PIXEL_PREVIEW":I.Qb.get("toggle-pixel-preview","toolbar")(t);break;case"PIXEL_GRID":I.Qb.get("toggle-grid","toolbar")(t);break;case"SNAP_TO_PIXEL_GRID":I.Qb.get("toggle-snapping-to-pixels","toolbar")(t);break;case"SNAP_TO_DOT_GRID":I.Qb.get("toggle-snapping-to-dots","toolbar")(t);break;case"DOT_GRID":I.Qb.get("toggle-show-dot-grid","toolbar")(t);break;case"LAYOUT_GRIDS":I.Qb.get("toggle-shown-layout-grids","toolbar")(t);break;case"MULTIPLAYER_CURSORS":I.Qb.get("toggle-multiplayer-cursors","toolbar")(t);break;case"PROPERTY_LABELS":I.Qb.get("toggle-show-property-labels","toolbar")(t);break;case"PROTOTYPING":I.Qb.get("toggle-prototyping-info","toolbar")(t);break;case"SINGLE_PROPERTIES_PANEL":w.CA.triggerAction("toggle-prototyping-tab-merge");break;case"RULERS":I.Qb.get("toggle-rulers","toolbar")(t);break;case"SLICES":I.Qb.get("toggle-show-slices","toolbar")(t);break;case"COMMENTS":I.Qb.get("toggle-show-comments","toolbar")(t);break;case"ANNOTATIONS":I.Qb.get("toggle-show-annotations","toolbar")(t);break;case"OUTLINES":w.CA.triggerAction("toggle-outlines",{source:"zoom-menu"});break;case"OUTLINES_HIDDEN_LAYERS":w.CA.triggerAction("toggle-outline-mode-hidden-layers",{source:"zoom-menu"});break;case"OUTLINES_OBJECT_BOUNDS":w.CA.triggerAction("toggle-outline-mode-object-bounds",{source:"zoom-menu"});break;case"PIXEL_PREVIEW_DISABLED":_&&w.CA.triggerAction("toggle-pixel-preview",{source:"zoom-menu"});break;case"PIXEL_PREVIEW_1X":_||w.CA.triggerAction("toggle-pixel-preview",{source:"zoom-menu"}),h&&w.CA.triggerAction("toggle-retina-mode",{source:"zoom-menu"});break;case"PIXEL_PREVIEW_2X":_||w.CA.triggerAction("toggle-pixel-preview",{source:"zoom-menu"}),h||w.CA.triggerAction("toggle-retina-mode",{source:"zoom-menu"})}r()},onSubmitCustomZoom:Y})}function $({targetRect:e,showingZoomDropdown:t,recordingKey:r,allowCodegenOptions:o,currentZoom:l,dropdownItems:s,displayAboveTarget:c,onSelectDropdownItem:d,onSubmitCustomZoom:u}){let m=(0,i.OY)(),h="ui3"===(0,a.qG)().version,y=n.useMemo(()=>({ZOOM_IN:(0,f.t)("fullscreen_actions.zoom-in"),ZOOM_OUT:(0,f.t)("fullscreen_actions.zoom-out"),ZOOM_TO_FIT:(0,f.t)("fullscreen_actions.zoom-to-fit"),ZOOM_TO_50:(0,f.t)("fullscreen.toolbar.zoom_menu.zoom_to_50"),ZOOM_TO_100:(0,f.t)("fullscreen_actions.zoom-reset"),ZOOM_TO_200:(0,f.t)("fullscreen.toolbar.zoom_menu.zoom_to_200"),PIXEL_PREVIEW:(0,f.t)("fullscreen.toolbar.zoom_menu.pixel_preview"),PIXEL_GRID:(0,f.t)("fullscreen_actions.toggle-grid"),SNAP_TO_PIXEL_GRID:(0,f.t)("fullscreen_actions.toggle-snapping-to-pixels"),PROTOTYPING:(0,f.t)("fullscreen_actions.toggle-prototyping-information"),SNAP_TO_DOT_GRID:(0,f.t)("fullscreen_actions.toggle-snapping-to-dots"),DOT_GRID:(0,f.t)("fullscreen_actions.toggle-show-dot-grid"),LAYOUT_GRIDS:(0,f.t)("fullscreen_actions.toggle-shown-layout-grids"),MULTIPLAYER_CURSORS:(0,f.t)("fullscreen_actions.toggle-multiplayer-cursors"),PROPERTY_LABELS:(0,f.t)("fullscreen_actions.toggle-show-property-labels"),RULERS:(0,f.t)("fullscreen_actions.toggle-rulers"),SLICES:(0,f.t)("fullscreen_actions.toggle-show-slices"),COMMENTS:(0,f.t)("fullscreen_actions.toggle-show-comments"),ANNOTATIONS:(0,f.t)("fullscreen_actions.toggle-show-annotations"),OUTLINES:(0,f.t)("fullscreen_actions.toggle-outlines"),OUTLINES_MENU:(0,f.t)("fullscreen_actions.outlines-menu"),OUTLINES_HIDDEN_LAYERS:(0,f.t)("fullscreen_actions.outline-mode-hidden-layers"),OUTLINES_OBJECT_BOUNDS:(0,f.t)("fullscreen_actions.outline-mode-object-bounds"),PIXEL_PREVIEW_DISABLED:(0,f.t)("fullscreen.toolbar.zoom_menu.pixel_preview_disabled"),PIXEL_PREVIEW_1X:(0,f.t)("fullscreen.toolbar.zoom_menu.pixel_preview_1x"),PIXEL_PREVIEW_2X:(0,f.t)("fullscreen.toolbar.zoom_menu.pixel_preview_2x"),SINGLE_PROPERTIES_PANEL:(0,f.t)("fullscreen_actions.single-properties-panel")}),[]),b=n.useMemo(()=>{let e=t=>{if("separator"===t.type)return{displayText:"",disabled:!0,separator:!0};let{children:r,...n}=t,i={displayText:y[t.type]};switch(t.type){case"ZOOM_TO_50":i.isChecked=50===l;break;case"ZOOM_TO_100":i.isChecked=100===l;break;case"ZOOM_TO_200":i.isChecked=200===l}return r&&(i.children=r.map(e)),{...n,...i}};return s.map(e)},[l,s,y]),v=n.useCallback((e,t)=>{d(e.type,t)},[d]);return n.createElement(U.I,{items:b,onSelectItem:v,parentRect:e,showPoint:!h,dispatch:m,recordingKey:_.Mx(r,"dropdown"),alwaysShowCheckMarkOffset:!0,allowCodegenOptions:o,displayAboveTarget:c},n.createElement("div",{style:{height:2}}),n.createElement("div",{className:V.OC,onKeyDown:e=>{(e.keyCode===p.as.ENTER||e.keyCode===p.as.ESCAPE)&&t&&m(E.yi())}},n.createElement(D.E,{className:V.Yh,placeholderValue:`${Math.round(l)}%`,cancel:e=>{e&&e.blur()},submit:e=>{e.endsWith("%")&&(e=e.substr(0,e.length-1));let t=-1;try{t=parseInt(e,10)}catch(e){}t>0&&u(t)},recordingKey:_.Mx(r,"dropdown","zoomInput")})),n.createElement(g.g.Separator,null))}let Z=n.memo(function({recordingKey:e}){let t=(0,y.KG)(),r=(0,A.mY)("zoom-out"),i=(0,A.mY)("zoom-in"),a=100*(0,N.s5)((0,T.W)().activeCanvasCurrentZoom);return"whiteboard"===t?n.createElement(z,{type:"FULL",recordingKey:e,currentZoom:a,Dropdown:j,dropdownId:q,canZoomIn:i,canZoomOut:r,onZoomIn:()=>w.CA.triggerAction("zoom-in"),onZoomOut:()=>w.CA.triggerAction("zoom-out")}):n.createElement(z,{type:"DROPDOWN_ONLY",recordingKey:e,currentZoom:a,Dropdown:j,dropdownId:q})});function z({type:e,recordingKey:t,currentZoom:r,Dropdown:a,...o}){let c=(0,i.OY)(),d=n.useRef(null),u=(0,O.s)(o.dropdownId),[p,g]=(0,n.useState)(null),E=(0,b.O)(),{isPropertiesPanelCollapsed:y}=(0,v.I)(),I=n.useCallback(()=>{var e;g((null==(e=null==d?void 0:d.current)?void 0:e.getBoundingClientRect())||null)},[d]);n.useEffect(()=>(I(),s.k.addListener(I),window.addEventListener("resize",I),()=>{s.k.removeListener(I),window.removeEventListener("resize",I)}),[I]);let w=n.useCallback(()=>{I(),u.toggle({hasOwnEscKeyHandler:!1})},[u,I]),T=u.showing&&p&&n.createElement(a,{targetRect:p,showingZoomDropdown:u.showing,toggleZoomMenu:u.toggle,recordingKey:t});switch(e){case"FULL":{let e=!("canZoomIn"in o)||o.canZoomIn,i=!("canZoomOut"in o)||o.canZoomOut,a="onZoomIn"in o?o.onZoomIn:m.Kw,s="onZoomOut"in o?o.onZoomOut:m.Kw;return n.createElement("div",{role:"none",className:l()(V.WE,V.Ml),onClick:e=>e.stopPropagation()},n.createElement(B.wP,{recordingKey:_.Mx(t,"zoomOutButton"),className:l()({[V.Yv]:!0,[V.Gm]:i}),svg:H.c,fallbackSvg:W.c,disabled:!i,onClick:s,"data-tooltip-type":P.wL.LOOKUP,"data-tooltip":"zoom-out"}),n.createElement(F.k,{ariaLabel:(0,f.t)("fullscreen.zoom_menu.zoom_view_options"),onClick:w,recordingKey:_.Mx(t,"zoomButton"),selected:u.showing,className:l()(V.ub,u.showing&&V.XD),onboardingKey:G.au,"data-tooltip-type":P.wL.TEXT,"data-tooltip":(0,f.t)("fullscreen.zoom_menu.zoom_view_options")},n.createElement("div",{className:V.oT,"data-testid":"zoom-amount",ref:d},Math.round(r),"%"),n.createElement("div",{className:V.MB,ref:d},n.createElement(x.k,{dispatch:c,dropdownKey:q,showingDropdown:u.showing,dataTestId:"zoom-menu-chevron",className:u.showing?V.cn:V.Om,svgContainerClassName:V.W,toggleOnClick:!0}))),T,n.createElement(B.wP,{recordingKey:_.Mx(t,"zoomInButton"),className:l()({[V.T3]:!0,[V.Gm]:e}),svg:K.c,fallbackSvg:Y.c,disabled:!e,onClick:a,"data-tooltip-type":P.wL.LOOKUP,"data-tooltip":"zoom-in"}))}case"DROPDOWN_ONLY":{let e=E?V.yu:V.a0,i=E?u.showing?V.Q1:y?V.I5:V.GS:u.showing?V.gX:V.ai,a=E?u.showing?V.Ow:V.kV:V.oT,o=n.createElement(h.iH,{className:i,onClick:w,recordingKey:_.Mx(t,"zoomButton"),forwardedRef:E?d:void 0},n.createElement("div",{className:a,"data-testid":"zoom-amount"},Math.round(r),"%"),n.createElement("div",{className:l()(V.MB,{[V.Iv]:E&&u.showing}),ref:d},n.createElement(x.k,{dispatch:c,dropdownKey:q,showingDropdown:u.showing,dataTestId:"zoom-menu-chevron",toggleOnClick:!0,isUI3:E})));return n.createElement("div",{className:V.WE,role:"none",onClick:e=>e.stopPropagation()},n.createElement(F.k,{selected:u.showing,className:e,onboardingKey:G.au,"data-tooltip-type":P.wL.TEXT,"data-tooltip":(0,f.t)("fullscreen.zoom_menu.zoom_view_options"),onClick:w,onClickForKeyDownOnly:!0,fullHeightSidebarsEnabled:E},o),T)}default:return null}}},774860:(e,t,r)=>{"use strict";r.d(t,{C:()=>m,q:()=>_});var n=r(307824),i=r(120304),a=r(760780),o=r(560072),l=r(849208),s=r(526768),c=r(101040),d=r(363636),u=r(836244),p=r(628128);let m="text-panel-container";function _(e){let[t,r]=n.useState(!1),_=(0,s.i)(),h=(0,i.OY)();if((0,a.u)(()=>{queueMicrotask(async function(){var t;let n=null==(t=e.getNodeForViewportFocus)?void 0:t.call(e),i=e.getNodeToSelect();i?(await (0,p.MJ)({navigate:_,guidToFocus:null==n?void 0:n.guid,guidToSelect:i.guid}),r(!0),h(l.s({format_text_step_shown:!0}))):e.skip()})}),!t)return null;let g=e.fromCursorBot?u.s:d.S2,f={dismissModal:e.onClose,disableHighlight:!0,targetKey:m,title:e.title||n.createElement(o.Tx,{id:"tooltips_plus_onboarding.text_formatting.title"}),trackingContextName:"Tooltips+ Text Formatting Step",lowerLeftText:e.lowerLeftText,onSecondaryCtaClick:e.onSecondaryCtaClick,onPrimaryCtaClick:e.onPrimaryCtaClick,arrowPosition:c.Wp.RIGHT_BODY,shouldCenterArrow:c.yi.FALLBACK,pointsTo:"designPanel",primaryCtaProps:e.primaryCtaProps,secondaryCtaProps:e.secondaryCtaProps},E={...f,collapseToTopRight:e.fromCursorBot,trackingContextName:"Cursor Bot Text Formatting Step"+(e.isFollowUp?" (Reactive Follow Up)":"")};return n.createElement(g,{...e.fromCursorBot?E:f},e.bodyText||n.createElement(o.Tx,{id:"tooltips_plus_onboarding.text_formatting.description"}))}},628128:(e,t,r)=>{"use strict";let n;r.d(t,{MJ:()=>y,Qh:()=>m,Uh:()=>g,Un:()=>d,kr:()=>E,m2:()=>h,mE:()=>f,sE:()=>c});var i=r(585508),a=r(138884),o=r(467412),l=r(679804),s=r(258492),c=((n=c||{})[n.FORWARD=0]="FORWARD",n[n.BACKWARD=1]="BACKWARD",n);let d="exp_tooltips_plus_onboarding",u="product page";function p(e,t){return t.some(t=>e.toLowerCase().startsWith(t.toLowerCase()))}function m(e,t,r){let n;if((null==r?void 0:r.type)===t)return r;let i=h(e);return i&&(0,o.cj)(e,i,e=>{if(e.type===t)return n=e,"stop"}),n}function _({nodeType:e,sceneGraph:t,preferredName:r,backupNames:n,ancestorName:i}){let a;let l=h(t);if(!l)return a;let s=[];return((0,o.cj)(t,l,t=>{if(t.type===e&&p(t.name,[r])&&(!i||i&&function(e,t){let r=e.parentNode;for(;r&&!r.name.toLowerCase().startsWith(t.toLowerCase());)r=r.parentNode;return!!(null==r?void 0:r.name.toLowerCase().startsWith(t.toLowerCase()))}(t,i)))return a=t,"stop";n&&t.type===e&&p(t.name,n)&&s.push(t)}),a)?a:s.length>0?s[0]:void 0}function h(e){let t=null;try{t=e.getCurrentPage()}catch(e){if(e.message!==s.O)throw e}return t}function g(e,t){return _({nodeType:"TEXT",sceneGraph:e,preferredName:t?"add your own":"heirloom tomato",backupNames:t?["browse our shop","we\u2019re farmers","sustainability is"]:["organic ginger","sweet onion","order summary","we\u2019re farmers","grown in"],ancestorName:t?void 0:u})||m(e,"TEXT")}function f(e,t){let r=_({nodeType:"TEXT",sceneGraph:e,preferredName:t?"browse our shop":"heirloom tomato",backupNames:t?["basket"]:["organic ginger","sweet onion","order summary","we\u2019re farmers","grown in"],ancestorName:t?void 0:u});if(r&&"TEXT"===r.type){let t=(0,o.IJ)(e,r.guid);if((null==t?void 0:t.type)==="FRAME")return t}return m(e,"FRAME")}function E(e,t){let r;if(!t)return;let n=_({nodeType:"FRAME",sceneGraph:e,preferredName:"landing page"});return n&&(0,o.EF)(e,t.guid,e=>{if(e.guid===n.guid)return r=n,"stop"}),r}async function y({navigate:e,guidToFocus:t,guidToSelect:r}){a.mo(),await e((0,l.Qn)({nodeId:t||r,alwaysPan:!1,minSizePx:t?200:32})),a.aN([r]),i.CA.commit()}},159624:(e,t,r)=>{"use strict";r.d(t,{AH:()=>x,C2:()=>D,Et:()=>W,I5:()=>U,MX:()=>q,S0:()=>F,c1:()=>B,c9:()=>V,gp:()=>H,qU:()=>Z,u2:()=>K,uI:()=>$});var n=r(307824),i=r(120304),a=r(886420),o=r(843148),l=r(570464),s=r(103839),c=r(560072),d=r(219096),u=r(466872),p=r(585508),m=r(762820),_=r(555168),h=r(540696),g=r(784340),f=r(570012),E=r(142548),y=r(525064),b=r(987904),v=r(241645),I=r(369528),w=r(865160),T=r(162280),S=r(668348),C=r(310448),A=r(111972),O=r(853996),N=r(101040),L=r(306640),R=r(499752),P=r(219868),M=r(192988),k=r(876180);function D(e){return{type:m.Tcd.EXPRESSION,resolvedType:m.y6c.BOOLEAN,value:{expressionFunction:m.O0M.IS_TRUTHY,expressionArguments:["variable"in e&&"variableId"in e?(0,P.R8)(e.variable.resolvedType,e.variableId):e]}}}function F(e,t,r,l,s){let{mapVariableIdToTypedValue:c}=l??{},p=(0,i.OY)(),m=(0,i.w1)(e=>e.variablePickerShown),{updateVariableConsumption:_,clearVariableConsumption:h}=(0,P.DT)(e),g=(0,n.useCallback)(e=>{r?r(e):e?p((0,d.Ge)({item:e,callback:r=>{c?_(c({variable:e,variableId:r})):_((0,P.R8)(t,r))}})):h()},[r,p,_,t,h,c]),f=(0,n.useCallback)(e=>e?s?s(e):(_(c?c(e):e),!0):(h(),!0),[c,h,s,_]);return[m.isShown&&"variable-picker-fields"===m.type&&(0,a.QZ)(m.fields,e)&&(null==l?void 0:l.metadata)===m.metadata,(0,n.useCallback)((r,n)=>{let i=(null==n?void 0:n.initialPosition)??(0,A.e)(r);p((0,u.i)({type:"variable-picker-fields",isShown:!0,initialPosition:i,fields:e,resolvedType:t,requestedTypes:null==l?void 0:l.requestedTypes,currentFieldValue:null==n?void 0:n.currentFieldValue,onVariableSelected:g,metadata:null==l?void 0:l.metadata,variableFilters:null==l?void 0:l.variableFilters,onExpressionSubmitted:(0,o.Ub)().prototype_expressions_nodefields?f:void 0}))},[p,e,t,null==l?void 0:l.requestedTypes,null==l?void 0:l.metadata,null==l?void 0:l.variableFilters,g,f]),g,(0,o.Ub)().prototype_expressions_nodefields?f:void 0]}function x(e,t,r){let a=(0,i.OY)(),o=(0,i.w1)(e=>e.variablePickerShown),l=(0,n.useCallback)(n=>{n?a((0,d.Ge)({item:n,callback:n=>{let i=(0,P.R8)(r,n);_.Pc.user("alias-variable",()=>m.sAy.setVariableValueForMode(e,t,i))&&p.CA.triggerAction("commit")}})):_.Pc.user("unalias-variable",()=>m.sAy.detachVariableValueForMode(e,t))&&p.CA.triggerAction("commit")},[a,e,t,r]);return[o.isShown&&"variable-picker-alias"===o.type&&o.variableID===e&&o.modeID===t,(0,n.useCallback)((n,i)=>{let o=n.getBoundingClientRect();a((0,u.i)({type:"variable-picker-alias",isShown:!0,initialPosition:new s.Cg(o.left,o.bottom),initialView:null==i?void 0:i.initialView,variableID:e,modeID:t,resolvedType:r,onVariableSelected:l}))},[e,t,r,a,l]),l]}function U({children:e,...t}){return n.createElement(G,{...t,children:e})}function B(e){var t,r;let n=(0,h.kB)(e);if(n){if("dataType"in n&&"ALIAS"===n.dataType&&(null==(t=n.value)?void 0:t.alias))return S.MR(null==(r=n.value)?void 0:r.alias);if("type"in n){if(n.type===m.Tcd.ALIAS)return n.value;if(n.type===m.Tcd.FONT_STYLE)return B(n.value.asFloat??n.value.asString??null);if((null==n?void 0:n.type)===m.Tcd.EXPRESSION&&n.value.expressionFunction===m.O0M.STRINGIFY&&1===n.value.expressionArguments.length)return B(n.value.expressionArguments[0])}}return null}function G({fields:e,children:t,resolvedType:r,requestedTypes:i,editingStyleGuid:a,onVariableSelected:o,onExpressionSubmitted:l}){let{consumedVariable:s}=(0,P.DT)(e,a),c=B(s),d=(0,g.c1)(c??void 0),u=!!d&&(0,T._q)(d),[p,m,_,h]=F(e,r,o,{requestedTypes:i},l),f=(0,n.useMemo)(()=>({showBindingUI:m,isShowingBindingUI:p,onVariableSelected:_,boundVariableId:c,isBoundVariableDeleted:u,onExpressionSubmitted:h}),[m,p,_,c,u,h]);return n.createElement(I.m.Provider,{value:f},t)}function V({variableID:e,modeID:t,children:r,resolvedType:i}){let[a,o,l]=x(e,t,i),s=B((0,g.qW)(e,t)??null),c=(0,g.c1)(s??void 0),d=!!c&&(0,T._q)(c),u=(0,n.useMemo)(()=>({showBindingUI:o,isShowingBindingUI:a,onVariableSelected:l,boundVariableId:s,isBoundVariableDeleted:d}),[o,a,l,s,d]);return n.createElement(I.m.Provider,{value:u},r)}function H({children:e,resolvedType:t,variableValue:r,onVariableValueChange:i,onVariableSelected:a}){let o=n.useRef(),[l,c]=n.useState(!1),d=(0,n.useCallback)(()=>{c(!1)},[]),u=(0,n.useCallback)(e=>{let t=e.getBoundingClientRect();o.current=new s.Cg(t.left,t.bottom),c(!0)},[]),p=r.type===m.Tcd.ALIAS?r.value:void 0,_=(0,g.c1)(p),h=!!_&&(0,T._q)(_),f=(0,n.useMemo)(()=>({showBindingUI:u,isShowingBindingUI:l,boundVariableId:p??null,isBoundVariableDeleted:h}),[u,l,p,h]),E=(0,g.cz)(p);return n.createElement(I.m.Provider,{value:f},e,l?r.resolvedType!==m.y6c.COLOR?n.createElement(Q,{disabledVariableIds:new Set,boundVariable:null,initialPosition:o.current,resolvedType:t,onVariableSelected:a,onClose:d,pickerType:"create-modal",recordingKey:"variableBindingsDropdown"}):r.type===m.Tcd.COLOR?n.createElement(b.eM,{disabledVariableIds:new Set,title:"",color:r.value,boundVariable:null,initialPosition:o.current,recordingKey:"variableBindingsDropdown",onChange:e=>i({type:m.Tcd.COLOR,resolvedType:m.y6c.COLOR,value:{...e,a:1}}),onVariableChange:a,onClose:d}):r.type===m.Tcd.ALIAS?n.createElement(b.eM,{disabledVariableIds:new Set,title:"",color:E.value,boundVariable:_,initialPosition:o.current,recordingKey:"variableBindingsDropdown",onChange:e=>i({type:m.Tcd.COLOR,resolvedType:m.y6c.COLOR,value:{...e,a:1}}),onVariableChange:a,onClose:d}):void 0:null)}function W({boundVariableId:e,resolvedType:t,requestedTypes:r,onVariableSelected:a,children:o}){let l=(0,g.c1)(e??void 0),c=!!l&&(0,T._q)(l),[d,p]=function({resolvedType:e,requestedTypes:t,boundVariableId:r,onVariableSelected:a}){let o=(0,n.useId)(),l=(0,i.OY)(),c=(0,i.w1)(e=>e.variablePickerShown);return[c.isShown&&"variable-picker-controlled"===c.type&&c.key===o,(0,n.useCallback)((n,i)=>{let c=n.getBoundingClientRect();l((0,u.i)({type:"variable-picker-controlled",isShown:!0,initialPosition:(null==i?void 0:i.initialPosition)??new s.Cg(c.left,c.bottom),initialView:null==i?void 0:i.initialView,variableID:r,key:o,resolvedType:e,requestedTypes:t,onVariableSelected:a}))},[l,r,o,e,t,a])]}({resolvedType:t,requestedTypes:r,boundVariableId:e,onVariableSelected:a});return n.createElement(I.m.Provider,{value:{boundVariableId:e??null,isBoundVariableDeleted:c,isShowingBindingUI:d,showBindingUI:p,onVariableSelected:a}},o)}function K({variableScope:e}){let t=(0,i.OY)(),r=(0,n.useCallback)(()=>{t((0,u.w)())},[t]),a=(0,i.w1)(e=>e.variablePickerShown);if(!a.isShown||"variable-picker-controlled"!==a.type)return null;let{resolvedType:o,initialPosition:l,requestedTypes:s,variableID:c,onVariableSelected:d,variableFilters:p}=a;return n.createElement(Y,{variableID:c,resolvedType:o,requestedTypes:s,initialPosition:l,onVariableSelected:d,onClose:r,variableScopes:e?new Set([e]):void 0,variableFilters:p})}function Y({resolvedType:e,requestedTypes:t,initialPosition:r,variableID:i,onVariableSelected:a,onClose:o,variableScopes:l,variableFilters:s}){let c=(0,g.c1)(i),d=(0,n.useMemo)(()=>{if(i&&c)return{type:m.Tcd.ALIAS,resolvedType:e,value:i}},[e,i,c]);return n.createElement(Q,{disabledVariableIds:new Set,initialPosition:r,resolvedType:e,requestedTypes:t,boundVariable:c,newVariableInitialValue:d,onVariableSelected:a,onClose:o,variableScopes:l,variableFilters:s,pickerType:"fields",recordingKey:"variableBindingsDropdown"})}function q(){let e=(0,i.OY)(),t=(0,n.useCallback)(()=>{e((0,u.w)())},[e]),r=(0,i.w1)(e=>e.variablePickerShown);if(!r.isShown||"variable-picker-fields"!==r.type)return null;let{fields:a,resolvedType:l,initialPosition:s,onVariableSelected:c,currentFieldValue:d,requestedTypes:p,variableFilters:m,onExpressionSubmitted:_,metadata:h}=r;return(0,o.Ub)().prototype_expressions_nodefields&&_?n.createElement(j,{fields:a,resolvedType:l,requestedTypes:p,variableFilters:m,initialPosition:s,onExpressionSubmitted:_,variantProperty:h}):n.createElement($,{fields:a,resolvedType:l,requestedTypes:p,variableFilters:m,initialPosition:s,currentFieldValue:d,onVariableSelected:c,onClose:t})}function j({fields:e,resolvedType:t,requestedTypes:r,initialPosition:a,onExpressionSubmitted:o,variantProperty:l}){let s=(0,i.OY)(),{consumedVariable:c}=(0,P.DT)(e),[d,p]=(0,n.useState)(!0);return n.createElement(R.yq,{resolvedType:t,requestedTypes:r,targetVariableData:c??void 0,setVariableValue:o,onClose:()=>{s((0,u.w)()),p(!1)},isNarrowPanel:!0,autoOpenExpressionBuilder:d,setAutoOpenExpressionBuilder:p,showVariableThumbnails:!0,initialPosition:a,variantProperty:l})}function $({fields:e,resolvedType:t,requestedTypes:r,variableFilters:i,initialPosition:a,currentFieldValue:o,onVariableSelected:l,onClose:s}){let{consumedVariable:c}=(0,P.DT)(e),d=c&&(0,h.EH)(c)&&c.type===m.Tcd.ALIAS?c.value:void 0,u=(0,g.c1)(d),p=(0,n.useMemo)(()=>d&&u?{type:m.Tcd.ALIAS,resolvedType:t,value:d}:o?{type:(0,T.KU)(t),resolvedType:t,value:o}:void 0,[o,t,d,u]),_=n.useMemo(()=>{if((0,M.Ks)(t,r))return(0,M.c5)(e)},[r,e,t]);return n.createElement(Q,{disabledVariableIds:new Set,initialPosition:a,resolvedType:t,requestedTypes:r,boundVariable:u,newVariableInitialValue:p,onVariableSelected:l,onClose:s,pickerType:"fields",recordingKey:"variableBindingsDropdown",variableScopes:_,variableFilters:i})}function Z(){let e=(0,i.w1)(e=>e.variablePickerShown);return e.isShown&&"variable-picker-alias"===e.type?n.createElement(z,{pickerShownState:e}):null}function z({pickerShownState:e}){let t=(0,i.OY)(),{variableID:r,modeID:a,resolvedType:o,initialPosition:s,initialView:c,onVariableSelected:d,variableFilters:h}=e,E=(0,g.qW)(r,a),y=(0,g.c1)((null==E?void 0:E.type)===m.Tcd.ALIAS?null==E?void 0:E.value:void 0),b=(0,n.useCallback)(()=>{t((0,u.w)())},[t]),v=(0,n.useCallback)((e,t)=>{let n={type:m.Tcd.COLOR,resolvedType:m.y6c.COLOR,value:e};_.Pc.user("set-color-variable-value",()=>m.sAy.setVariableValueForMode(r,a,n))&&t===f.MO.YES&&p.CA.triggerAction("commit")},[r,a]);return(null==E?void 0:E.resolvedType)===m.y6c.COLOR?n.createElement(L.i,null,n.createElement(X,{disabledVariableIds:new Set([r]),boundVariable:y,variableValue:E,initialPosition:s,initialView:c,onColorChange:v,onVariableSelected:d,onClose:b,recordingKey:"variableBindingsDropdown"}),n.createElement(O.KU,{recordingKey:l.Mx("variableBindingsDropdown","closer"),onClose:b})):n.createElement(n.Fragment,null,n.createElement(L.i,null,n.createElement(Q,{disabledVariableIds:new Set([r]),initialPosition:s,resolvedType:o,variableFilters:h,boundVariable:y,onVariableSelected:d,onClose:b,pickerType:"alias",recordingKey:"variableBindingsDropdown"})),n.createElement(O.KU,{recordingKey:l.Mx("variableBindingsDropdown","closer"),onClose:b}))}function Q({disabledVariableIds:e,initialPosition:t,boundVariable:r,newVariableInitialValue:i,resolvedType:a,requestedTypes:o,variableFilters:s,pickerType:d,variableScopes:u,recordingKey:p,onVariableSelected:m,onClose:_}){let h=n.useRef(null),{VariableCreateModalRoot:g,VARIABLE_CREATE_MODAL_WIDTH_PX:f}=(0,n.useContext)(w.q)??{},[b,I]=(0,n.useState)(!1),T=n.useRef();function S(){var e;let t=null==(e=h.current)?void 0:e.getEl();if(!t)return;let r=(0,y.cT)(t,f);T.current=r,I(!0)}return n.createElement(n.Fragment,null,n.createElement(N.G0,{ref:h,title:"",headerSize:"hidden",initialPosition:t,onClose:_,dragHeaderOnly:!1,initialWidth:C.uw,autoflowHeight:!0},n.createElement(O._W,{selectedItem:r,disabledVariableIds:e,resolvedType:a,pickerType:d,recordingKey:p,setControlRightButtons:function(){if(g&&void 0!==a&&"fields"===d)return n.createElement(v.wP,{"data-tooltip-type":E.wL.TEXT,"data-tooltip":(0,c.t)("variables.binding_ui.create_variable_button_tooltip"),recordingKey:l.Mx(p,"createVariable"),svg:k.c,onClick:S})}(),onVariableSelected:m,onClose:_,requestedTypes:o,variableScopes:u,variableFilters:s})),n.createElement(O.KU,{recordingKey:l.Mx(p,"closer"),onClose:_}),b&&(g&&void 0!==a&&T.current?n.createElement(g,{initialPosition:T.current,initialValue:i,resolvedType:a,onCreateVariable:m,onClose:function(){I(!1)}}):null))}function X({disabledVariableIds:e,boundVariable:t,variableValue:r,initialPosition:i,initialView:a,recordingKey:o,onColorChange:l,onVariableSelected:s,onClose:c}){let d=r.type===m.Tcd.COLOR?r.value:{r:1,g:1,b:1,a:1};return n.createElement(b.eM,{title:"",color:d,disabledVariableIds:e,initialPosition:i,initialView:a,boundVariable:t,recordingKey:o,onChange:l,onVariableChange:s,onClose:c})}},219868:(e,t,r)=>{"use strict";let n;r.d(t,{$O:()=>ec,DT:()=>ea,Ef:()=>j,GC:()=>B,R8:()=>Y,W4:()=>z,WC:()=>K,Wc:()=>ep,We:()=>ee,Yv:()=>el,_E:()=>Q,_M:()=>$,aO:()=>V,c4:()=>G,co:()=>ed,cs:()=>H,ei:()=>q,fR:()=>eu,fu:()=>X,gN:()=>ei,gp:()=>Z,kd:()=>en,oH:()=>es,oh:()=>et,sf:()=>W,uw:()=>J,v9:()=>er});var i=r(307824),a=r(120304),o=r(445069),l=r.n(o),s=r(503288),c=r.n(s),d=r(250008),u=r(886420),p=r(819584),m=r(843148),_=r(372152),h=r(4596),g=r(560072),f=r(317704),E=r(295752),y=r(824960),b=r(637016),v=r(323576),I=r(762820),w=r(555168),T=r(540696),S=r(169643),C=r(507076),A=r(784340),O=r(768516),N=r(491776),L=r(407552),R=r(790184),P=r(570012),M=r(927976),k=r(668348),D=r(192988),F=r(23124),x=r(293580),U=r(967228);let B="INHERIT",G="DEFAULT",V="MIXED",H="DELETED",W="https://help.figma.com/hc/articles/15343816063383#conflicts";var K=((n=K||{})[n.LEARN_MORE=0]="LEARN_MORE",n[n.REVIEW_UPDATES=1]="REVIEW_UPDATES",n);function Y(e,t){return{type:I.Tcd.ALIAS,resolvedType:e,value:t}}function q(e){if(0===e.length)return null;if(e.length>=2){for(let t=1;t<e.length;t++)if(!(0,u.QZ)(e[t],e[0]))return T.ee}let t=e[0];return(null==t?void 0:t.isMixed)?T.ee:t}function j(){var e;let[t,r]=(0,C.H4)("variableConsumptionInfo");return{variableConsumptionMap:(null==(e=(0,T.kB)(t))?void 0:e.variableConsumptionMap)||{},setVariableConsumptionMap:(0,i.useCallback)((e,t=P.MO.YES)=>{r({variableConsumptionMap:e},t)},[r])}}function $(){return(0,T.kB)((0,S.a)("variableConsumptionMap"))||{}}function Z(){let e=(0,C.A9)("variableConsumptionInfo"),t=(0,p.yC)(()=>{var t;return(null==(t=(0,T.kB)(e))?void 0:t.variableSetKeyToModeData)||{}},[e]),r=Q(),n=et();return(0,p.K0)(()=>{var e,i;for(let[a,o]of Object.entries(r))if(!t[a]&&n[a]){let r=n[a];if(!(null==(e=r.modes)?void 0:e.find(e=>e.id===o)))continue;t[a]={collectionID:r.node_id,collectionName:r.name,modeOptions:(null==(i=r.modes)?void 0:i.map(e=>({modeId:{guid:e.id,collectionKey:r.key},name:e.name,isCompatible:!0})))||[],explicitMode:{guid:o,collectionKey:r.key},inheritMode:null,fileKey:r.file_key}}return t},[n,r,t])}function z(){let e=(0,C.A9)("variableConsumptionInfo");return(0,p.yC)(()=>{var t;return(null==(t=(0,T.kB)(e))?void 0:t.variableSetKeyToMode)||{}},[e])}function Q(){let e=(0,C.A9)("variableConsumptionInfo");return(0,p.yC)(()=>{var t;return(null==(t=(0,T.kB)(e))?void 0:t.variableSetKeyToPageLevelPresetMode)||{}},[e])}function X(){let e=(0,a.OY)(),t=(0,C.H4)("numSelectedByType")[0],r=Z(),n=em();return(0,i.useCallback)((i,a,o)=>{if(a!==V&&a!==H){if(t&&(0,T.EH)(t)){let e=c()(Object.values(t));d.qE.trackDefinedEvent("variables.explicit_mode_changed",{numSelected:e,numSelectedFrames:t.FRAME??0,numSelectedInstances:t.INSTANCE??0,numSelectedRectangles:t.ROUNDED_RECTANGLE??0,numSelectedSymbols:t.SYMBOL??0})}w.Pc.user("set-explicit-variable-mode",()=>{I.sAy.setExplicitVariableModeForSelection(i,a===B||a===G?null:a,!0)}),Object.values(r).some(e=>e.modeOptions.some(e=>(0,u.QZ)(e.modeId,a)&&!e.isCompatible))&&(0,m.Ub)().ds_variables_relax_modes&&a!==B&&a!==G&&o&&(n?e(f.A.enqueue({message:(0,g.t)("variables.visual_bell.variables_incompatible_modes_needs_updates",{modeName:o}),button:{text:(0,g.t)("variables.modes.option.review_updates"),action:()=>{e(v.A5({type:x._A,data:{initialTab:R.Er.UPDATES,entrypoint:F.Yj.INCMPATIBLE_MODES_VISUAL_BELL}}))}}})):e(f.A.enqueue({message:(0,g.t)("variables.visual_bell.variables_incompatible_modes_no_updates",{modeName:o})})))}},[e,n,r,t])}function J(){let e=Z();return(0,p.K0)(()=>Object.fromEntries(Object.entries(e).filter(([e,t])=>!t.fileKey&&t.modeOptions.length>1)),[e])}function ee(){let e=Z();return(0,p.K0)(()=>Object.fromEntries(Object.entries(e).filter(([e,t])=>!!t.fileKey&&t.modeOptions.length>1)),[e])}function et(){let e=(0,A.c9)();return(0,p.K0)(()=>{var t;if("loaded"===e.status){let r=null==(t=e.data)?void 0:t.items.filter(e=>e.modes&&e.modes.length>1);return l()(r,e=>e.key)}return{}},[e])}function er(e){let t=J(),r=ee(),n=et();return Object.values(t).length>0||Object.values(r).length>0||e&&Object.values(n).length>0}function en(){let e=Z();return(0,p.K0)(()=>Object.values(e).some(e=>e.modeOptions.some(e=>!e.isCompatible)),[e])}function ei(){let e=em(),t=(0,_.m4)(O.En),r=(0,a.w1)(e=>(0,N.ug)(e));return r&&e?1:!r&&t?1:0}function ea(e,t){let{variableConsumptionMap:r,setVariableConsumptionMap:n}=j(),a=(0,S.a)("guid"),o=$(),l=r;return t&&(0,T.EH)(a)&&h.yK(t,a)&&(l=o),{consumedVariable:l&&q(e.map(e=>l[e])),updateVariableConsumption:(0,i.useCallback)(t=>{let r={};e.forEach(e=>{r[e]=t,(0,U.e6)(e,t)}),n(r)},[n,e]),clearVariableConsumption:(0,i.useCallback)((t=P.MO.YES)=>{let r={};e.forEach(e=>{r[e]=null}),n(r,t)},[n,e])}}function eo(e){if(e&&(0,T.EH)(e)){if(e.type===I.Tcd.EXPRESSION&&1===e.value.expressionArguments.length){let t=e.value.expressionArguments[0];if(t.type===I.Tcd.ALIAS)return t.value}if(e.type===I.Tcd.FONT_STYLE){let t=e.value.asString??e.value.asFloat;if((null==t?void 0:t.type)===I.Tcd.ALIAS)return t.value}if(e.type===I.Tcd.ALIAS)return e.value}}function el(e,t,r){return ec(e,function(e){if(!(!e||(0,T.Er)(e)))return{type:I.Tcd.FLOAT,resolvedType:I.y6c.FLOAT,value:e}}(t),r)}function es(e,t,r){return ec(e,function(e){if(e)return{type:I.Tcd.STRING,resolvedType:I.y6c.STRING,value:e}}(t),r)}function ec(e,t,r){let n=(0,y.wB)(),i=(0,b.o)(),a=(0,M.AR)(),o=(0,E.oJ)(),{variableConsumptionMap:l}=j(),s=r||l,c=eo(s&&q([e].map(e=>s[e]))||null),d=D.Iv[e]??I.EDU.ALL_SCOPES,u=!c&&a&&t?(0,A.eS)(n,[d],t):void 0,p=(0,A.c1)(c??u);if(!p)return{};let m=(0,E.Sm)(p,o.id),_=a&&"code"===i.inspectionMode&&m?m:null==p?void 0:p.name;return{variable:p,variableDisplayName:_,isSuggested:!c}}function ed(e,t){let r=(0,y.wB)(),n=(0,M.AR)(),i=(0,b.o)(),a=(0,E.oJ)(),o=(0,M.AR)(),{boundVar:l,matchingVars:s}=function(e,t,r){var n;if(!e)return{};let{colorVar:i,color:a,opacity:o}=t;return(null==(n=null==i?void 0:i.value)?void 0:n.alias)?{boundVar:k.MR(i.value.alias)}:a&&r?{matchingVars:(0,A.Mz)(e,Array.from(r),{type:I.Tcd.COLOR,resolvedType:I.y6c.COLOR,value:{...a,a:a.a*(o??1)}})}:{}}(r,e,t),c=l??((null==s?void 0:s.length)===1?s[0]:void 0),d=!l&&!!c,u=(0,A.c1)(c);if(d&&!n)return{variable:null};let p=(0,E.Sm)(u,a.id),m=o&&"code"===i.inspectionMode&&p?p:null==u?void 0:u.name;return{variable:u,variableDisplayName:m,isSuggested:d,matchingVars:n?s:[]}}function eu(e){let{consumedVariable:t}=ea([e]),r=eo(t);return(0,A.c1)(r)}function ep(e){return(0,a.w1)(t=>{var r;let n=((null==(r=(0,T.kB)(t.mirror.selectionProperties.variableConsumptionInfo))?void 0:r.variableNotMatchingSetValue)||{})[e]??void 0;return(0,L.a)(n)&&"isMixed"in n?T.ee:n})}function em(){let{componentUpdatesForSelection:e,stateGroupUpdatesForSelection:t,styleUpdatesForSelection:r,variableSetUpdatesForSelection:n}=function(){let{componentUpdatesForCurrentPage:e,stateGroupUpdatesForCurrentPage:t,styleUpdatesForCurrentPage:r,variableSetUpdatesForCurrentPage:n}=(0,_.m4)(O.QJ),i=(0,C.A9)("directlySubscribedAssetKeys"),a=[],o=[],l=[],s=[];if(i&&!(0,T.Er)(i)){let c=new Set(i);a=e.filter(e=>c.has(e.component_key??"")),o=t.filter(e=>c.has(e.key)),l=r.filter(e=>c.has(e.key)),s=n.filter(e=>c.has(e.key))}return{componentUpdatesForSelection:a,stateGroupUpdatesForSelection:o,styleUpdatesForSelection:l,variableSetUpdatesForSelection:s}}();return e.length>0||t.length>0||r.length>0||n.length>0}},162280:(e,t,r)=>{"use strict";r.d(t,{KU:()=>u,Kk:()=>d,Wm:()=>c,__:()=>function e(t){return({*[Symbol.iterator](){if(yield t,t.type===s.Tcd.EXPRESSION)for(let r of t.value.expressionArguments)yield*e(r);else if(t.type===s.Tcd.MAP)for(let r of Object.values(t.value))yield*e(r)}})[Symbol.iterator]()},_q:()=>p,am:()=>h,ol:()=>m,qW:()=>_});var n=r(916924),i=r(51408),a=r(886420),o=r(560072),l=r(238152),s=r(762820);function c(e){if("MIXED"===e)return(0,o.t)("fullscreen.mixed");if(!e)return null;switch(e.resolvedType){case s.y6c.FLOAT:return String(parseFloat(e.value.toFixed(2)));case s.y6c.BOOLEAN:return e.value?(0,o.t)("variables.values.boolean.true"):(0,o.t)("variables.values.boolean.false");case s.y6c.COLOR:return l.W0.format(e.value);case s.y6c.STRING:return e.value;default:return JSON.stringify(e.value)}}function d(e,t){if(e===t)return!0;if(!e||!e.dataType||!e.resolvedDataType||!e.value||!t||!t.dataType||!t.resolvedDataType||!t.value||e.dataType!==t.dataType||e.resolvedDataType!==t.resolvedDataType)return!1;switch(e.dataType){case"BOOLEAN":return e.value.boolValue===t.value.boolValue;case"FLOAT":return e.value.floatValue===t.value.floatValue;case"STRING":return e.value.textValue===t.value.textValue;case"COLOR":return(0,n.Up)(e.value.colorValue),(0,n.Up)(t.value.colorValue),(0,i.iq)(e.value.colorValue)===(0,i.iq)(t.value.colorValue);default:return(0,a.QZ)(e,t)}}function u(e){switch(e){case s.y6c.BOOLEAN:return s.Tcd.BOOLEAN;case s.y6c.FLOAT:return s.Tcd.FLOAT;case s.y6c.STRING:return s.Tcd.STRING;case s.y6c.COLOR:return s.Tcd.COLOR;case s.y6c.MAP:return s.Tcd.MAP;case s.y6c.SYMBOL_ID:return s.Tcd.SYMBOL_ID}}function p(e){return"LOCAL"===e.subscriptionStatus&&e.isSoftDeleted}let m={CORNER_RADIUS:[s.y6c.FLOAT],STACK_SPACING:[s.y6c.FLOAT],STACK_PADDING_LEFT:[s.y6c.FLOAT],STACK_PADDING_TOP:[s.y6c.FLOAT],STACK_PADDING_RIGHT:[s.y6c.FLOAT],STACK_PADDING_BOTTOM:[s.y6c.FLOAT],TEXT_DATA:[s.y6c.STRING,s.y6c.FLOAT],WIDTH:[s.y6c.FLOAT],HEIGHT:[s.y6c.FLOAT],RECTANGLE_TOP_LEFT_CORNER_RADIUS:[s.y6c.FLOAT],RECTANGLE_TOP_RIGHT_CORNER_RADIUS:[s.y6c.FLOAT],RECTANGLE_BOTTOM_LEFT_CORNER_RADIUS:[s.y6c.FLOAT],RECTANGLE_BOTTOM_RIGHT_CORNER_RADIUS:[s.y6c.FLOAT],STACK_COUNTER_SPACING:[s.y6c.FLOAT],MIN_WIDTH:[s.y6c.FLOAT],MAX_WIDTH:[s.y6c.FLOAT],MIN_HEIGHT:[s.y6c.FLOAT],MAX_HEIGHT:[s.y6c.FLOAT],STROKE_WEIGHT:[s.y6c.FLOAT],OPACITY:[s.y6c.FLOAT],BORDER_TOP_WEIGHT:[s.y6c.FLOAT],BORDER_BOTTOM_WEIGHT:[s.y6c.FLOAT],BORDER_LEFT_WEIGHT:[s.y6c.FLOAT],BORDER_RIGHT_WEIGHT:[s.y6c.FLOAT],MISSING:[],PARAGRAPH_SPACING:[s.y6c.FLOAT],PARAGRAPH_INDENT:[s.y6c.FLOAT],VISIBLE:[s.y6c.BOOLEAN],VARIANT_PROPERTIES:[s.y6c.SYMBOL_ID],FONT_FAMILY:[s.y6c.STRING],FONT_STYLE:[s.y6c.STRING,s.y6c.FLOAT],FONT_VARIATIONS:[s.y6c.FLOAT],FONT_SIZE:[s.y6c.FLOAT],LETTER_SPACING:[s.y6c.FLOAT],LINE_HEIGHT:[s.y6c.FLOAT]};function _(e){return!!e.variable}function h({variable:e,variableDisplayName:t}){var r;return(null==(r=e.codeSyntax)?void 0:r[s.QHg.WEB])?e.codeSyntax[s.QHg.WEB]:`var(--${(t??e.name).replace(/[^a-zA-Z0-9-]/g,"")})`}},853996:(e,t,r)=>{"use strict";r.d(t,{KU:()=>en,Mp:()=>X,Wy:()=>ec,_W:()=>Z});var n=r(307824),i=r(120304),a=r(125504),o=r.n(a),l=r(916924),s=r(760780),c=r(843148),d=r(87975),u=r(21036),p=r(570464),m=r(327332),_=r(915880),h=r(703520),g=r(537096),f=r(560072),E=r(81492),y=r(172600),b=r(280692),v=r(762820),I=r(649496),w=r(784340),T=r(833492),S=r(397888),C=r(392992),A=r(572748),O=r(795236),N=r(790184),L=r(985288),R=r(142548),P=r(24588),M=r(235020),k=r(833508),D=r(880036),F=r(336016),x=r(519624),U=r(506944),B=r(26236),G=r(141700),V=r(532420),H=r(967228),W=r(192988),K=r(585428),Y=r(736584),q=r(14896),j=r(263332);function $({resolvedType:e,requestedTypes:t}){return t||(e?[e]:null)}function Z({selectedItem:e,resolvedType:t,requestedTypes:r,variableFilters:i,pickerType:a,disabledVariableIds:o,setControlRightButtons:s,variableScopes:c,recordingKey:d,onVariableSelected:u,onStyleSelected:p,onClose:m}){let{currentView:_,setCurrentView:h,toggleLayout:g}=(0,x.K)({selectedItem:e,resolvedType:t}),f=function(e){switch(e.type){case"ALL_LIBRARIES":return J;case"LOCAL_VARIABLES":return X;case"SUBSCRIBED_VARIABLES":return z;default:(0,l.gy)(e,"Unhandled view for picker body")}}(_),E=(0,n.useMemo)(()=>$({requestedTypes:r,resolvedType:t??null}),[r,t]),[y,b]=(0,n.useState)("");return n.createElement(n.Fragment,null,n.createElement(f,{selectedItem:e,currentView:_,setCurrentView:h,toggleLayout:g,resolvedType:t,disabledVariableIds:o,pickerType:a,setControlRightButtons:s,recordingKey:d,onVariableSelected:u,onStyleSelected:p,onClose:m,requestedTypes:r,searchQuery:y,onSearchInputChange:b,variableScopes:c,variableFilters:i}),n.createElement(F._,{resolvedTypes:E,selectedItem:e}))}function z({selectedItem:e,currentView:t,setCurrentView:r,toggleLayout:i,resolvedType:a,pickerType:o,setControlRightButtons:l,recordingKey:s,onVariableSelected:c,onStyleSelected:d,onClose:u,requestedTypes:p,searchQuery:m,onSearchInputChange:_,variableScopes:h,variableFilters:g}){let f=t.fileKey,E=(0,w.Il)(f),y=(0,w.Gy)(f),b=(null==e?void 0:e.type)===N.Af.VARIABLE?e:null,I=(0,w.GK)((null==b?void 0:b.variableSetId)||""),T="loading"===y.status||"loading"===E.status,[S,C]=(0,n.useMemo)(()=>{let e=E.data??[],t=y.data??[];return(null==b?void 0:b.subscriptionStatus)==="SUBSCRIBED"&&(null==b?void 0:b.file_key)===f&&!e.find(e=>e.key===(null==b?void 0:b.key))&&I?[[...e,b],[...t,I]]:[e,t]},[f,E,y,b,I]);return a===v.y6c.COLOR&&"color-picker"===o&&d?n.createElement(Q,{fileKey:f,render:({isLoading:f,dsStyles:E})=>n.createElement(er,{variables:S,variableSets:C,dsStyles:E,currentView:t,setCurrentView:r,toggleLayout:i,selectedItem:e,disabledVariableIds:new Set,resolvedType:a,pickerType:o,setControlRightButtons:l,recordingKey:s,isLoading:f||T,onVariableSelected:c,onStyleSelected:d,onClose:u,requestedTypes:p,searchQuery:m,onSearchInputChange:_,variableScopes:h,variableFilters:g})}):n.createElement(er,{variables:S,variableSets:C,dsStyles:[],currentView:t,setCurrentView:r,toggleLayout:i,selectedItem:e,disabledVariableIds:new Set,resolvedType:a,pickerType:o,setControlRightButtons:l,recordingKey:s,onVariableSelected:c,onClose:u,requestedTypes:p,searchQuery:m,onSearchInputChange:_,variableScopes:h})}function Q({fileKey:e,render:t}){var r;let{status:i,stylesByFileKey:a}=(0,k.am)({styleType:I.Km.FILL,initialSelectedSubscribedStyle:null}),o=(null==(r=a[e])?void 0:r.styles)??[];return n.createElement(D.g,null,t({isLoading:"loaded"!==i,dsStyles:o}))}function X({selectedItem:e,disabledVariableIds:t,currentView:r,setCurrentView:i,toggleLayout:a,resolvedType:o,pickerType:l,setControlRightButtons:s,recordingKey:c,onVariableSelected:d,onStyleSelected:u,onClose:p,requestedTypes:m,searchQuery:_,onSearchInputChange:h,variableScopes:g,variableFilters:f}){let E=(0,w.ML)(),y=(0,w.SU)();return o===v.y6c.COLOR&&"color-picker"===l&&u?n.createElement(ee,{styleType:I.Km.FILL,render:b=>n.createElement(er,{variables:E,variableSets:y,dsStyles:b,currentView:r,setCurrentView:i,toggleLayout:a,selectedItem:e,disabledVariableIds:t,resolvedType:o,pickerType:l,setControlRightButtons:s,recordingKey:c,onVariableSelected:d,onStyleSelected:u,onClose:p,requestedTypes:m,searchQuery:_,onSearchInputChange:h,variableScopes:g,variableFilters:f})}):n.createElement(er,{variables:E,variableSets:y,dsStyles:[],currentView:r,setCurrentView:i,toggleLayout:a,selectedItem:e,disabledVariableIds:t,resolvedType:o,pickerType:l,setControlRightButtons:s,recordingKey:c,onVariableSelected:d,onClose:p,requestedTypes:m,searchQuery:_,onSearchInputChange:h,variableScopes:g,variableFilters:f})}function J({selectedItem:e,disabledVariableIds:t,currentView:r,setCurrentView:i,toggleLayout:a,resolvedType:o,pickerType:l,setControlRightButtons:s,recordingKey:c,onVariableSelected:d,onStyleSelected:u,onClose:p,requestedTypes:m,searchQuery:_,onSearchInputChange:h,variableScopes:g,variableFilters:f}){var E,y;let b=(0,w.ML)(),T=(0,w.SU)(),S=(0,w.iA)(),C="loaded"!==S.status,A=null==(E=S.data)?void 0:E.libraryVariables,O=null==(y=S.data)?void 0:y.libraryVariableSets,N=(0,n.useMemo)(()=>[...b,...A??[]],[b,A]),L=(0,n.useMemo)(()=>[...T,...O??[]],[T,O]);return o===v.y6c.COLOR&&"color-picker"===l&&u?n.createElement(et,{styleType:I.Km.FILL,render:({dsStyles:E,isLoading:y})=>n.createElement(er,{variables:N,variableSets:L,dsStyles:E,isLoading:y||C,currentView:r,setCurrentView:i,toggleLayout:a,selectedItem:e,disabledVariableIds:t,resolvedType:o,pickerType:l,setControlRightButtons:s,recordingKey:c,onVariableSelected:d,onStyleSelected:u,onClose:p,requestedTypes:m,searchQuery:_,onSearchInputChange:h,variableScopes:g,variableFilters:f})}):n.createElement(er,{variables:N,variableSets:L,dsStyles:[],isLoading:C,currentView:r,setCurrentView:i,toggleLayout:a,selectedItem:e,disabledVariableIds:t,resolvedType:o,pickerType:l,setControlRightButtons:s,recordingKey:c,onVariableSelected:d,onClose:p,requestedTypes:m,searchQuery:_,onSearchInputChange:h,variableScopes:g,variableFilters:f})}function ee({styleType:e,render:t}){return t((0,k._2)(e))}function et({styleType:e,render:t}){let r=(0,k._2)(e),{status:i,stylesByFileKey:a}=(0,k.am)({styleType:I.Km.FILL,initialSelectedSubscribedStyle:null}),o=(0,n.useMemo)(()=>Object.values(a).reduce((e,{styles:t})=>(e.push(...t),e),[]),[a]),l=(0,n.useMemo)(()=>r.concat(o),[r,o]);return n.createElement(D.g,null,t({isLoading:"loaded"!==i,dsStyles:l}))}function er({variables:e,variableSets:t,dsStyles:r,currentView:i,setCurrentView:a,toggleLayout:l,selectedItem:s,disabledVariableIds:u,resolvedType:m,pickerType:g,setControlRightButtons:y,recordingKey:I,isLoading:w,onVariableSelected:S,onStyleSelected:R,onClose:M,requestedTypes:k,searchQuery:D,onSearchInputChange:x,variableScopes:Y,variableFilters:q}){(0,H.SA)({isLoading:w??!1,eventName:"variables.variable_picker_load_time"});let j=(0,C.K0)(),Z=(0,T.g)(),z=s?(0,B.mg)(s):null,[Q,X]=n.useState(null);n.useRef(null).current=Q;let J=n.useRef(null),{canToggleLayout:ee,layout:et}=D.length>0?{canToggleLayout:!1,layout:"list"}:{canToggleLayout:!0,layout:i.layout},er=(0,n.useCallback)(()=>{J.current&&J.current.focus(),l()},[l]),en=(0,n.useMemo)(()=>$({requestedTypes:k,resolvedType:m??null}),[k,m]),ea=R?[N.Yx.VARIABLE,N.Yx.STYLE]:[N.Yx.VARIABLE],eo=(0,F.q)(en,s,ea),el=(0,A.Ce)(),es=(0,E.Ci)(),ed=(0,O.UV)(el)&&(0,b.WY)(es),eu=(0,n.useMemo)(()=>{if(ed){let e=eo.map(({fileKey:e,fileName:t})=>({key:e,name:t}));return(0,b.i2)({libraries:e,approvedLibraryKeysByResourceType:es}),e.map(({key:e,name:t})=>({fileKey:e,fileName:t}))}return eo.sort((e,t)=>e.fileName.localeCompare(t.fileName))},[eo,ed,es]),ep=(0,n.useMemo)(()=>{let e={};return(ed?eu:eo).forEach(t=>{e[t.fileKey]=t.fileName}),e},[eo,eu,ed]),em=(0,n.useMemo)(()=>k?e.filter(e=>k.includes(e.resolvedType)):e.filter(e=>void 0===m||e.resolvedType===m),[e,m,k]),e_=(0,n.useMemo)(()=>Y?em.filter(e=>(0,B.mg)(e)===z||(0,W.uC)(e,Y)):em,[em,Y,z]),eh=(0,G.O)(e_,D),eg=(0,n.useMemo)(()=>!(0,c.Ub)().prototype_bind_visiblity_to_strs||D.length>0?eh:eh.filter(e=>{if(!("SUBSCRIBED"===e.subscriptionStatus||"LOCAL"===e.subscriptionStatus))return!0;if((null==q?void 0:q[L.E.MUST_INCLUDE_ONE_OF])!==void 0&&e.resolvedType===v.y6c.STRING){let t=null==q?void 0:q[L.E.MUST_INCLUDE_ONE_OF][e.resolvedType];if(t&&!Object.values(e.modeValues).some(e=>{if("string"==typeof e.value){let r=e.value.trim().toLocaleLowerCase();return null==t?void 0:t.some(e=>e===r)}}))return!1}return!0}),[eh,D,q]),ef=(0,G.c)(r,D),eE=(0,n.useMemo)(()=>"ALL_LIBRARIES"===i.type?(0,B.aO)({variables:eg,variableSets:t,styles:ef,layout:et,fileNamesByKey:ep,openFileKey:j}):m===v.y6c.COLOR?(0,B.oZ)({variables:eg,variableSets:t,styles:ef,layout:et}):(0,B.nL)({variables:eg,variableSets:t,layout:et}),[eg,t,i,ef,m,ep,j,et]),ey=n.useRef([]);ey.current=eE;let eb=n.useRef(null),ev=(0,n.useCallback)(()=>{var e;null==(e=eb.current)||e.scrollToTop();let t=function(e){let t=null;for(let r of e)if("items"in r){t=r.items[0];break}return t}(ey.current);X(t?(0,B.mg)(t):null)},[]),eI=(0,n.useCallback)((e,t)=>{var r;let n=(0,B.IR)(ey.current,e);n>=0&&(null==(r=eb.current)||r.scrollToIndex(n,t)),X(e)},[]);(0,n.useLayoutEffect)(()=>{!w&&(D.length>0||!z?ev():D||eI(z,{align:"center"}))},[D,z,w,ev,eI]);let{showStyleContextMenu:ew,hideStyleContextMenu:eT}=(0,V.Iv)(),eS=(0,n.useCallback)((e,t)=>{e.type===N.Af.STYLE&&ew({dsStyle:e,position:t})},[ew]),eC=(0,n.useCallback)(e=>{X((0,B.mg)(e))},[X]),eA=(0,n.useCallback)(e=>{Q===(0,B.mg)(e)&&X(null)},[Q,X]),eO=(0,n.useCallback)(e=>{e.type===N.Af.VARIABLE?S(e):null==R||R(e,{fromSearch:D.length>0}),M()},[D,S,R,M]),eN=(0,n.useCallback)(e=>{x(e.currentTarget.value)},[x]),eL=(0,n.useCallback)(t=>{var n;if(t.keyCode===d.as.ENTER){let t=function({highlightedItemID:e,variables:t,dsStyles:r}){return e?[...t,...r].find(t=>(0,B.mg)(t)===e)??null:null}({variables:e,dsStyles:r,highlightedItemID:Q});t?eO(t):s&&S(),M()}else t.keyCode===d.as.ESCAPE?M():((0,_.KB)(t.code,!1)||(0,_.OF)(t.code,!1)||(0,_.uc)(t.code,!1)||(0,_.sr)(t.code,!1))&&(Q?((null==(n=eb.current)?void 0:n.getVirtualItems())??[]).some(e=>{let t=ey.current[e.index];return"items"in t&&t.items.some(e=>(0,B.mg)(e)===Q)})||eI(Q,{align:"center"}):z?eI(z,{align:"center"}):ev())},[M,S,eO,s,Q,z,e,r,eI,ev]);return n.createElement(_.O8,{recordingKey:I,onClick:eT},n.createElement("div",{className:K.Ou},n.createElement(ei,{inputRef:J,value:D,onChange:eN,onKeyDown:eL,recordingKey:p.Mx(I,"input")})),n.createElement(ec,{recordingKey:I,currentView:i,resolvedType:m,subscribedLibraries:eu,setControlRightButtons:y,onSetSelect:a,onToggleLayoutIconClick:ee?er:void 0}),n.createElement(P.I7,{className:o()({[K.qG]:m!==v.y6c.COLOR,[K.kD]:!0})},w?n.createElement("div",{className:K.kH,style:{height:(0,B.mw)({layout:et})}},n.createElement(h.M7,null)):0===ef.length&&0===eg.length?n.createElement("div",{className:K.Qp,style:{height:(0,B.mw)({layout:et})}},D.length>0?(0,f.t)("variables.binding_ui.no_search_results"):m===v.y6c.COLOR?(0,f.t)("variables.binding_ui.no_colors_empty_state"):(0,f.t)("variables.binding_ui.no_variables_empty_state")):"list"===et?n.createElement(U.I,{ref:eb,className:K.yR,listItems:eE,selectedItemID:z,disabledVariableIds:u,highlightedItemID:Q,pickerType:g,recordingKey:I,onItemHighlight:eC,onItemSelect:eO,onItemContextMenu:eS,onItemMouseLeave:eA}):n.createElement(U.e,{ref:eb,className:K.yR,listItems:eE,selectedItemID:z,highlightedItemID:Q,recordingKey:I,onItemHighlight:eC,onItemSelect:eO,onItemContextMenu:eS,onItemMouseLeave:eA})),(null==Z?void 0:Z.type)===V.qO&&n.createElement(V.UR,{dsStyle:Z.data.dsStyle,position:Z.data.position,recordingKey:p.Mx(I,"contextMenu")}))}function en({recordingKey:e,onClose:t}){let r=p.S4(e,"mousedown",n.useCallback(e=>{t(),e.stopPropagation()},[t]));return(0,S.au)()===v.w3X.DROPPER_COLOR?null:n.createElement("div",{tabIndex:0,role:"button",className:K.Yj,onMouseDown:r})}function ei({inputRef:e,value:t,onChange:r,onKeyDown:i,recordingKey:a}){let o=n.useRef(null);return(0,s.u)(()=>{o.current&&o.current.focus()}),n.createElement("div",{className:K.Ud},n.createElement(g.A,{className:K.I6,svg:j.c}),n.createElement(P.yg,{ref:(0,u.c)(e,o),className:K.k$,value:t,onChange:r,noBorderOnFocus:!0,placeholder:(0,f.t)("variables.binding_ui.search_placeholder"),onKeyDown:i,recordingKey:a}))}class ea extends M.M1{}class eo extends M.cb{}function el({recordingKey:e,currentView:t,subscribedLibraries:r,onSetSelect:a,resolvedType:o}){let l=(0,i.OY)(),s=(0,T.g)(),c=(0,n.useRef)(`variable-binding-set-select-${(0,m.s)()}`),d=(0,n.useMemo)(()=>({format(e){switch(e.type){case"LOCAL_VARIABLES":return o===v.y6c.COLOR?(0,f.t)("variables.binding_ui.set_labels.local_colors"):(0,f.t)("variables.binding_ui.set_labels.local_variables");case"SUBSCRIBED_VARIABLES":return e.fileName;case"ALL_LIBRARIES":return(0,f.t)("variables.binding_ui.set_labels.all_libraries")}},isEqual:(e,t)=>e.type===t.type&&("SUBSCRIBED_VARIABLES"!==e.type||e.fileKey===t.fileKey)}),[o]),u=r.length>0?n.createElement(eo,{value:{type:"LOCAL_VARIABLES",layout:t.layout},formattedValue:o===v.y6c.COLOR?(0,f.t)("variables.binding_ui.set_labels.local_colors"):(0,f.t)("variables.binding_ui.set_labels.local_variables"),recordingKey:p.Mx(e,"localVariables")}):null,_=(0,A.Ce)(),h=(0,O.UV)(_),g="SUBSCRIBED_VARIABLES"===t.type?t.fileKey:void 0,I=(0,E.qO)(g);return n.createElement(ea,{id:c.current,dispatch:l,dropdownShown:s,dropdownWidth:200,className:K.An,chevronClassName:K.KU,inputClassName:K.SU,property:t,formatter:d,rightIcon:h&&I?n.createElement(y.gp,{fileKey:g}):void 0,onChange:a,recordingKey:e},n.createElement(eo,{value:{type:"ALL_LIBRARIES",layout:t.layout},formattedValue:(0,f.t)("variables.binding_ui.set_labels.all_libraries"),recordingKey:p.Mx(e,"allLibraries")}),u&&n.createElement(M.Wy,null),u,u&&n.createElement(M.Wy,null),r.map((r,i)=>{let a=h&&(0,b.yk)(r.fileKey);return n.createElement(eo,{key:r.fileKey,value:{type:"SUBSCRIBED_VARIABLES",layout:t.layout,fileKey:r.fileKey,fileName:r.fileName},formattedValue:r.fileName,recordingKey:p.Mx(e,"subscribedLibrary",i),removeTextRightPadding:a,rightSettingsIcon:a&&n.createElement(y.wF,null)})}))}function es({recordingKey:e,currentView:t,resolvedType:r,onToggleLayoutIconClick:i}){if(r!==v.y6c.COLOR)return null;{let{tooltip:r,layoutSvg:a}=function(e){switch(e){case"list":return{tooltip:(0,f.t)("variables.binding_ui.show_as_grid_tooltip"),layoutSvg:Y.c};case"grid":return{tooltip:(0,f.t)("variables.binding_ui.show_as_list_tooltip"),layoutSvg:q.c}}}(t.layout);return n.createElement(P.wP,{"data-tooltip-type":R.wL.TEXT,"data-tooltip":r,recordingKey:e,svg:a,onClick:i})}}function ec({recordingKey:e,currentView:t,subscribedLibraries:r,setControlRightButtons:i,resolvedType:a,onSetSelect:o,onToggleLayoutIconClick:l}){return n.createElement(P.WA,{className:K.Gs},o?n.createElement(el,{currentView:t,subscribedLibraries:r,recordingKey:p.Mx(e,"setSelector"),onSetSelect:o,resolvedType:a}):n.createElement("div",{className:K.Qb},(0,f.t)("variables.binding_ui.set_labels.local_variables")),(l||i)&&n.createElement("div",{className:K.Eh},l&&n.createElement(es,{currentView:t,resolvedType:a,onToggleLayoutIconClick:l,recordingKey:p.Mx(e,"toggleLayout")}),i))}},192988:(e,t,r)=>{"use strict";r.d(t,{Ax:()=>I,IT:()=>S,Iv:()=>b,Ks:()=>C,aO:()=>A,c5:()=>w,uC:()=>T});var n=r(307824),i=r(332648),a=r(843148),o=r(537096),l=r(560072),s=r(762820),c=r(72604),d=r(513668),u=r(149760),p=r(660716),m=r(601416),_=r(257068);let h=new Set([s.y6c.FLOAT,s.y6c.COLOR]),g=new Set([s.cf6.FILL,s.cf6.STROKE,s.cf6.EFFECT]),f=new Set([s.EDU.FRAME_FILL,s.EDU.SHAPE_FILL,s.EDU.TEXT_FILL]),E=new Map([[s.EDU.ALL_SCOPES,{name:n.createElement(l.Tx,{id:"variables.scopes.all_properties"})}],[s.EDU.CORNER_RADIUS,{name:n.createElement(l.Tx,{id:"variables.scopes.corner_radius"}),iconElement:n.createElement(o.A,{svg:c.c,key:0})}],[s.EDU.WIDTH_HEIGHT,{name:n.createElement(l.Tx,{id:"variables.scopes.width_height"}),iconElement:n.createElement(o.A,{svg:p.c,key:1})}],[s.EDU.GAP,{name:n.createElement(l.Tx,{id:"variables.scopes.gap"}),iconElement:n.createElement(o.A,{svg:u.c,key:2}),subLabel:n.createElement(l.Tx,{id:"variables.scopes.auto_layout"})}],[s.EDU.TEXT_CONTENT,{name:n.createElement(l.Tx,{id:"variables.scopes.text_content"}),iconElement:n.createElement(o.A,{svg:_.c,key:3})}],[s.EDU.STROKE_FLOAT,{name:n.createElement(l.Tx,{id:"variables.scopes.stroke"}),iconElement:n.createElement(o.A,{svg:m.c,key:4})}],[s.EDU.OPACITY,{name:n.createElement(l.Tx,{id:"variables.scopes.layer_opacity"}),iconElement:n.createElement(i.w,{key:5})}],[s.EDU.EFFECT_FLOAT,{name:n.createElement(l.Tx,{id:"variables.scopes.effects"}),iconElement:n.createElement(o.A,{svg:d.c,key:6})}]]),y=new Map([[s.EDU.ALL_SCOPES,{name:n.createElement(l.Tx,{id:"variables.scopes.all_properties"})}],[s.EDU.ALL_FILLS,{name:n.createElement(l.Tx,{id:"variables.scopes.all_fills"})}],[s.EDU.FRAME_FILL,{name:n.createElement(l.Tx,{id:"variables.scopes.frame_fill"}),indented:!0}],[s.EDU.SHAPE_FILL,{name:n.createElement(l.Tx,{id:"variables.scopes.shape_fill"}),indented:!0}],[s.EDU.TEXT_FILL,{name:n.createElement(l.Tx,{id:"variables.scopes.text_fill"}),indented:!0}],[s.EDU.STROKE,{name:n.createElement(l.Tx,{id:"variables.scopes.stroke"})}],[s.EDU.EFFECT_COLOR,{name:n.createElement(l.Tx,{id:"variables.scopes.effects"})}]]),b={CORNER_RADIUS:s.EDU.CORNER_RADIUS,STACK_SPACING:s.EDU.GAP,STACK_PADDING_LEFT:s.EDU.GAP,STACK_PADDING_TOP:s.EDU.GAP,STACK_PADDING_RIGHT:s.EDU.GAP,STACK_PADDING_BOTTOM:s.EDU.GAP,TEXT_DATA:s.EDU.TEXT_CONTENT,WIDTH:s.EDU.WIDTH_HEIGHT,HEIGHT:s.EDU.WIDTH_HEIGHT,RECTANGLE_TOP_LEFT_CORNER_RADIUS:s.EDU.CORNER_RADIUS,RECTANGLE_TOP_RIGHT_CORNER_RADIUS:s.EDU.CORNER_RADIUS,RECTANGLE_BOTTOM_LEFT_CORNER_RADIUS:s.EDU.CORNER_RADIUS,RECTANGLE_BOTTOM_RIGHT_CORNER_RADIUS:s.EDU.CORNER_RADIUS,STACK_COUNTER_SPACING:s.EDU.GAP,MIN_WIDTH:s.EDU.WIDTH_HEIGHT,MAX_WIDTH:s.EDU.WIDTH_HEIGHT,MIN_HEIGHT:s.EDU.WIDTH_HEIGHT,MAX_HEIGHT:s.EDU.WIDTH_HEIGHT,STROKE_WEIGHT:s.EDU.STROKE_FLOAT,BORDER_TOP_WEIGHT:s.EDU.STROKE_FLOAT,BORDER_BOTTOM_WEIGHT:s.EDU.STROKE_FLOAT,BORDER_LEFT_WEIGHT:s.EDU.STROKE_FLOAT,BORDER_RIGHT_WEIGHT:s.EDU.STROKE_FLOAT,OPACITY:s.EDU.OPACITY,MISSING:null,PARAGRAPH_SPACING:null,PARAGRAPH_INDENT:null,VISIBLE:null,VARIANT_PROPERTIES:null,FONT_FAMILY:null,FONT_STYLE:null,FONT_VARIATIONS:null,FONT_SIZE:null,LETTER_SPACING:null,LINE_HEIGHT:null};Object.keys(s.__k).filter(e=>isNaN(Number(e)));let v={FRAME:s.EDU.FRAME_FILL,SYMBOL:s.EDU.FRAME_FILL,INSTANCE:s.EDU.FRAME_FILL,VECTOR:s.EDU.SHAPE_FILL,STAR:s.EDU.SHAPE_FILL,LINE:s.EDU.SHAPE_FILL,ELLIPSE:s.EDU.SHAPE_FILL,RECTANGLE:s.EDU.SHAPE_FILL,REGULAR_POLYGON:s.EDU.SHAPE_FILL,ROUNDED_RECTANGLE:s.EDU.SHAPE_FILL,TEXT:s.EDU.TEXT_FILL,VECTOR_OPERATION:s.EDU.SHAPE_FILL,NONE:null,DOCUMENT:null,CANVAS:null,GROUP_DEPRECATED:null,SLICE:null,STICKY:null,SHAPE_WITH_TEXT:null,CONNECTOR:null,CODE_BLOCK:null,WIDGET:null,STAMP:null,MEDIA:null,HIGHLIGHT:null,SECTION:null,SECTION_OVERLAY:null,WASHI_TAPE:null,VARIABLE:null,TABLE:null,TABLE_CELL:null,VARIABLE_SET:null,VARIABLE_OVERRIDE:null,SLIDE:null,SLIDE_ROW:null,SLIDE_GRID:null,ASSISTED_LAYOUT_DEPRECATED:null,INTERACTIVE_SLIDE_ELEMENT:null,MODULE:null};function I(e){return e===s.y6c.FLOAT?((0,a.Ub)().ds_variables_strokes||(E.delete(s.EDU.STROKE_FLOAT),E.delete(s.EDU.OPACITY),E.delete(s.EDU.EFFECT_FLOAT)),E):e===s.y6c.COLOR?((0,a.Ub)().ds_variables_strokes||y.delete(s.EDU.EFFECT_COLOR),y):new Map}function w(e){let t=new Set;for(let r of e)b[r]&&t.add(b[r]);return t}function T(e,t){if(!h.has(e.resolvedType))return!0;let r=!1;for(let e of t)if(f.has(e)){r=!0;break}for(let n of e.scopes)if(t.has(n)||n===s.EDU.ALL_SCOPES||n===s.EDU.ALL_FILLS&&r)return!0;return!1}function S(){return[s.y6c.FLOAT,s.y6c.COLOR]}function C(e,t){if(t){for(let e of t)if(h.has(e))return!0}return h.has(e)}function A(e,t){if(!e||!t||!g.has(e))return;let r=new Set;switch(e){case s.cf6.STROKE:case s.cf6.STROKE_PRESET:r.add(s.EDU.STROKE);break;case s.cf6.FILL:for(let e in t){let t=v[e];t&&r.add(t)}break;case s.cf6.EFFECT:r.add(s.EDU.EFFECT_COLOR)}return r.size?r:void 0}},969060:(e,t,r)=>{"use strict";r.d(t,{oT:()=>P,ii:()=>R,Iv:()=>L,AP:()=>M});var n=r(307824),i=r(120304),a=r(653296),o=r.n(a),l=r(28588),s=r.n(l),c=r(553424),d=r.n(c),u=r(886420),p=r(656716),m=r(843148),_=r(570464),h=r(537096),g=r(560072),f=r(219096),E=r(323576),y=r(979144),b=r(784340),v=r(833492),I=r(392992),w=r(84656),T=r(790184),S=r(23124),C=r(293580),A=r(108688),O=r(219868),N=r(873956);let L="VARIABLES_APPLY_MODE_DROPDOWN",R="[INVALID_FILE_KEY]";function P(e){let{showLibrarySets:t,recordingKey:r}=e,a=(0,i.OY)(),o=M(t,r),l=(0,v.g)();return l&&l.type===L?n.createElement(A.I,{dispatch:a,parentRect:l.data.targetRect,showPoint:!0,items:o,onSelectItem:e=>{e.callback&&e.callback("",{},a)},recordingKey:"applyModeDropdown"}):null}function M(e,t){let r=(0,i.OY)(),a=(0,I.g9)(),l=(0,w.s5)((0,y.EB)().showGuids),c=(0,O.fu)(),v=(0,O.gN)(),A=n.useCallback((e,t,i,a,o)=>{var s;let d=i??(a?O.GC:O.c4),_=a===O.aO?(0,g.t)("variables.mode_properties_panel.select.option.mixed"):null==(s=t.find(e=>(0,u.QZ)(e.modeId,a)))?void 0:s.name,y=n.createElement(h.A,{className:"variables_apply_mode_dropdown--infoIcon--BO6TZ",svg:N.c}),b=!!(0,m.Ub)().ds_variables_relax_modes,I=t.some(e=>!e.isCompatible),w=(e,t)=>e?t:[];return[...w(d===O.aO,[{recordingKey:"mode-MIXED",displayText:(0,g.t)("variables.mode_properties_panel.select.option.mixed"),isChecked:!0}]),...w(!!a,[{recordingKey:"mode-INHERIT",displayText:_?(0,g.t)("variables.mode_properties_panel.select.option.auto_with_name",{modeName:_}):(0,g.t)("variables.mode_properties_panel.select.option.auto"),isChecked:d===O.GC,callback:()=>{c(e,O.GC,_)}}]),...w(!a&&t.length>0,[{recordingKey:"mode-DEFAULT",displayText:(0,g.t)("variables.mode_properties_panel.select.option.default_with_name",{modeName:t[0].name}),rightIcon:b&&!t[0].isCompatible?y:void 0,disabled:!b&&!t[0].isCompatible,isChecked:d===O.c4,callback:()=>{c(e,O.c4,t[0].name)}}]),...w(t.length>0,[{separator:!0,displayText:""},...i&&i!==O.aO&&t.every(e=>!(0,u.QZ)(e.modeId,i))?[{recordingKey:"mode-DELETED",displayText:(0,g.t)("variables.mode_properties_panel.select.option.deleted"),disabled:!0,isChecked:!0}]:[],...t.map(t=>({recordingKey:"mode-"+t.modeId.guid,displayText:l?`${t.name} (${t.modeId.guid})`:t.name,callback:()=>{o?r((0,f.cz)({item:o,callback:r=>{c(e,t.modeId,t.name)}})):c(e,t.modeId,t.name)},rightIcon:b&&!t.isCompatible?y:void 0,disabled:!b&&!t.isCompatible,isChecked:(0,u.QZ)(t.modeId,d)}))]),...w(b&&I&&v===O.WC.REVIEW_UPDATES,[{separator:!0,displayText:""},{recordingKey:"mode-review-update",displayText:(0,g.t)("variables.modes.option.review_updates"),callback:()=>{r(E.A5({type:C._A,data:{initialTab:T.Er.UPDATES,entrypoint:S.Yj.VARIABLE_APPLY_MODE_DROPDOWN_INCOMPATIBLE_LINK}}))},iconType:"info"}]),...w(b&&I&&v===O.WC.LEARN_MORE,[{separator:!0,displayText:""},{recordingKey:"mode-learn-more",displayText:(0,g.t)("variables.modes.option.learn_more"),callback:()=>{p.default.unsafeRedirect(O.sf,"_blank")},iconType:"info"}])]},[v,c,l,r]),L=(0,O.uw)(),P=(0,O.We)(),M=(0,O.oh)(),k=n.useMemo(()=>{if(!e)return P;{let e=d()(M,(e,t)=>{var r;return{collectionID:e.node_id,collectionName:e.name,key:e.key,modeOptions:(null==(r=e.modes)?void 0:r.map(t=>({modeId:{guid:t.id,collectionKey:e.key},name:t.name,isCompatible:!0})))||[],explicitMode:null,inheritMode:null,fileKey:e.file_key}});return o()({},P,e)}},[M,e,P]),D=(0,b.eY)(s()(k,e=>e.fileKey??R)),F=n.useMemo(()=>Object.entries(k).reduce((e,[t,r])=>{if(r.fileKey===a)return e;let n=R;r.fileKey&&D[r.fileKey]&&(n=r.fileKey);let i=e[n];return i?i[t]=r:e[n]={[t]:r},e},{}),[k,a,D]),x=n.useMemo(()=>Object.keys(F).sort(),[F]);return n.useMemo(()=>{let e=[];for(let[r,n]of(Object.values(L).length>0&&e.push({recordingKey:_.Mx(t,"local"),displayText:(0,g.t)("variables.mode_properties_panel.local_variables.subheading"),header:!0}),Object.entries(L)))e.push({recordingKey:_.Mx(t,r),displayText:n.collectionName,children:A(r,n.modeOptions,n.explicitMode,n.inheritMode)});for(let r of x){let n=F[r]??[];if(0===Object.values(n).length)continue;e.length>0&&e.push({separator:!0,displayText:""});let i=D[r]??(0,g.t)("variables.mode_properties_panel.used_variables.subheading");for(let[r,a]of(e.push({recordingKey:_.Mx(t,"fileName-"+i),displayText:i,header:!0}),Object.entries(n).sort(([e,t],[r,n])=>t.collectionName.localeCompare(n.collectionName))))e.push({recordingKey:_.Mx(t,r),displayText:a.collectionName,children:A(r,a.modeOptions,a.explicitMode,a.inheritMode,M[r])})}return e},[L,t,A,x,F,D,M])}},801368:(e,t,r)=>{"use strict";r.d(t,{AL:()=>es,Dm:()=>W,G2:()=>ec,K2:()=>eo,Mp:()=>z,Ou:()=>B,SY:()=>K,Y9:()=>H,_8:()=>ea,_W:()=>G,eK:()=>x,k3:()=>ep,m0:()=>ee,m6:()=>ei,mE:()=>et,o$:()=>Y,q8:()=>q,qU:()=>el,s1:()=>en,u_:()=>ed,wv:()=>em,yW:()=>e_,yg:()=>V,zq:()=>er});var n=r(484564),i=r.n(n),a=r(445069),o=r.n(a),l=r(788080),s=r.n(l),c=r(139776),d=r(843148),u=r(623131),p=r(372152),m=r(957044),_=r(993284),h=r(838836),g=r(594192),f=r(868676),E=r(675695),y=r(374588),b=r(585508),v=r(762820),I=r(843496),w=r(91640),T=r(836780),S=r(472956),C=r(790184),A=r(585236);let O=(0,w.RD)(()=>v.KEP.libraryAssets().fileLevelVariableSetsSubscribed),N=(0,u.Zf)(e=>e(O).map(C.WC)),L=(0,w.RD)(()=>v.KEP.libraryAssets().fileLevelVariableSetsLocal),R=(0,u.Zf)(e=>e(L).map(C.EP)),P=(0,w.RD)(()=>v.KEP.libraryAssets().fileLevelVariablesSubscribed),M=(0,w.RD)(()=>v.KEP.libraryAssets().fileLevelVariablesLocal),k=(0,u.Zf)(e=>e(M).map(C.Sy)),D=(0,u.Zf)(e=>e(P).map(C.AF)),F=(0,u.Zf)(e=>({...o()(e(R),e=>e.keyForPublish),...o()(e(N),e=>e.key)}));(0,u.Zf)(e=>({...o()(e(k),e=>e.keyForPublish),...o()(e(D),e=>e.key)}));let x=(()=>{let e=(0,T.yG)({},"SYNC_ATOM_VARIABLE_SETS_BY_ID"),t=(0,p.CF)(e,(e,t)=>{if(t){if("added"in t){let r=o()(t.added.map(C.EP),e=>e.node_id);return{...e,...r}}if("deleted"in t){let r={...e};return delete r[t.deleted],r}}return{}});return t.onMount=e=>{b.CA.onReady().then(()=>{e({added:v.sAy.getLocalVariableSetsInfo()})});let t=(0,I.SN)(t=>{e(t)});return()=>{t(),e(null)}},(0,T.Qt)(t,e.reducer)})(),U=(0,u.Zf)(e=>({...e(x),...e(er)})),B=(0,p.KU)(e=>(0,u.Zf)(t=>t(x)[e]));(0,p.KU)(e=>(0,u.Zf)(t=>t(er)[e]));let G=(0,p.KU)(e=>(0,u.Zf)(t=>t(U)[e]));(0,p.KU)(e=>(0,m.Wq)(t=>r=>r(t({fileKey:e}))));let V=(0,p.KU)(e=>(0,u.Zf)(t=>{let r={};for(let n of e)r[n]=t((0,S.yAK)({fileKey:n}));return r}),c.MF),H=(0,p.KU)(e=>(0,m.IJ)(t=>r=>r(t({fileKey:e}))));function W(e){return(0,S.c5A)(e?{hubFileId:e}:null)}let K=(0,p.KU)(e=>(0,u.Zf)(t=>{let r={};for(let n of e)r[n]=t((0,_.AX)(S.mEk)({variableCollectionKey:n}));return r}),c.MF),Y=(0,p.KU)(e=>(0,u.Zf)(t=>{let r={};for(let n of e)r[n]=t((0,S.gRQ)({fileKey:n}));return r}),c.MF),q=(0,p.KU)(e=>(0,u.Zf)(t=>{let r={};for(let n of e)r[n]=t((0,S.c5A)({hubFileId:n}));return r}),c.MF),j=(0,u.Zf)(e=>{let t=e(el),r=e(A.s),n=((0,d.Ub)().dse_preset_libraries?Object.values(t).filter(e=>!(0,y.V9)(r,e)):Object.values(t)).map(e=>e.key).sort();return e((0,m.wt)(n.map(e=>({key:e})))).reduce((e,t)=>(e[(0,E.Q5)(t.args.key)]=t.result,e),{})}),$=(0,u.Zf)(e=>{let t=e(el),r=e(A.s),n=((0,d.Ub)().dse_preset_libraries?Object.values(t).filter(e=>(0,y.V9)(r,e)):[]).map(e=>e.key).sort().map(e=>({key:e})),i=(0,y.am)(y.qc,n,e);return"loaded"!==i.status?{}:i.data.reduce((e,t)=>{if("loaded"!==t.result.status)return e;let r=t.result.data.variable;if(!r)return e;let n=(0,E.Q5)(r.key);return{...e,[n]:t.result}},{})}),Z=(0,u.Zf)(e=>({...e(j),...e($)}),h.Kw),z=(0,T.o$)(Z,"SYNC_ATOM_USED_LIBRARY_VARIABLES_BY_KEY",{}),Q=(0,u.Zf)(e=>{let t=[...new Set(Object.values(e(j)).map(e=>{var t,r;return null==(r=null==(t=e.data)?void 0:t.variable)?void 0:r.variableCollection.key}).filter(g.aI))].sort();return e((0,m.cj)(t.map(e=>({key:e})))).reduce((e,t)=>(e[(0,E.s8)(t.args.key)]=t.result,e),{})},h.Kw),X=(0,u.Zf)(e=>{let t=[...new Set(Object.values(e($)).map(e=>{var t,r;return null==(r=null==(t=e.data)?void 0:t.variable)?void 0:r.variableCollection.key}).filter(g.aI))].sort().map(e=>({key:e})),r=(0,y.am)(y.Iv,t,e);return"loaded"!==r.status?{}:r.data.reduce((e,t)=>{if("loaded"!==t.result.status)return e;let r=t.result.data.variableCollection;if(!r)return e;let n=(0,E.Q5)(r.key);return{...e,[n]:t.result}},{})}),J=(0,u.Zf)(e=>({...e(Q),...e(X)}),h.Kw),ee=(0,T.o$)(J,"SYNC_ATOM_USED_LIBRARY_VARIABLE_SETS_BY_KEY",{});(0,u.Zf)(e=>{let t=Object.keys(e(x));if(0!==t.length)return t[0]});let et=(0,u.Zf)(e=>Object.values(e(x))),er=(()=>{let e=(0,T.yG)({},"SYNC_ATOM_SUBSCRIBED_VARIABLE_SETS_BY_ID"),t=(0,p.CF)(e,(e,t)=>{if(t){if("added"in t){let r=o()(t.added.map(C.WC),e=>e.node_id);return{...e,...r}}{let r={...e};return delete r[t.deleted],r}}return{}});return t.onMount=e=>{b.CA.onReady().then(()=>{e({added:v.sAy.getSubscribedVariableSetsInfo()})});let t=(0,I.iO)(t=>{e(t)});return()=>{t(),e(null)}},(0,T.Qt)(t,e.reducer)})(),en=(()=>{let e=(0,T.yG)({},"SYNC_ATOM_LOCAL_VARIABLES_BY_ID"),t=(0,p.CF)(e,(e,t)=>{if(t){if("added"in t)return{...e,...o()(t.added.map(C.Sy),e=>e.node_id)};if("deleted"in t){let r=new Set(t.deleted);return s()(e,e=>e.node_id&&!r.has(e.node_id))}if("setDeleted"in t)return s()(e,e=>e.variableSetId!==t.setDeleted)}return{}});return t.onMount=e=>{b.CA.onReady().then(()=>{e({added:v.sAy.getLocalVariablesInfo()})});let t=(0,I.Ts)(t=>{e(t)});return()=>{t(),e(null)}},(0,T.Qt)(t,e.reducer)})(),ei=(0,p.KU)(e=>(0,u.Zf)(t=>t(en)[e]??null)),ea=(0,u.Zf)(e=>Object.keys(e(en)).map(t=>e(ei(t))).sort((e,t)=>-(0,f.QT)(e.sortPosition,null==t?void 0:t.sortPosition))),eo=(0,u.Zf)(e=>i()(e(ea),e=>e.variableSetId)),el=(()=>{let e=(0,T.yG)({},"SYNC_ATOM_SUBSCRIBED_VARIABLES_BY_ID"),t=(0,p.CF)(e,(e,t)=>{if(t){if("added"in t)return{...e,...o()(t.added.map(C.AF),e=>e.node_id)};if("deleted"in t)return s()(e,e=>e.id!==t.deleted);if("setDeleted"in t)return s()(e,e=>e.variableSetId!==t.setDeleted)}return{}});return t.onMount=e=>{b.CA.onReady().then(()=>{e({added:v.sAy.getSubscribedVariablesInfo()})});let t=(0,I.Yf)(t=>{e(t)});return()=>{t(),e(null)}},(0,T.Qt)(t,e.reducer)})();(0,p.KU)(e=>(0,u.Zf)(t=>t(el)[e]??null));let es=(0,p.KU)(e=>(0,u.Zf)(t=>t(en)[e]??t(el)[e]??null));function ec(e,t){let r=b.CA.isReady(),n=r&&e?v.sAy.getVariableResolvedValue(e,t):null,i=(0,u.Zf)(n);return e&&(i.onMount=n=>{r||b.CA.onReady().then(()=>{n(v.sAy.getVariableResolvedValue(e,t))});let i=(0,I.gh)(e,t,e=>{n(e[t]??null)});return()=>{i(),n(null)}}),i}function ed(e){let t=b.CA.isReady(),r=t&&e?v.sAy.getExplicitModeNames(e):null,n=(0,u.Zf)(r);return e&&(n.onMount=r=>{t||b.CA.onReady().then(()=>{r(v.sAy.getExplicitModeNames(e))});let n=(0,I._Y)(e,e=>{r(e)});return()=>{n(),r(null)}}),n}let eu=(()=>{let e=(0,u.Zf)({}),t=(0,p.CF)(e,(e,t)=>{if(t){if("added"in t)return{...e,...o()(t.added.map(C.cT),e=>e.node_id)};if("deleted"in t){let r=new Set(t.deleted);return s()(e,e=>e.node_id&&!r.has(e.node_id))}return{}}return e});return t.onMount=e=>{b.CA.onReady().then(()=>{e({added:v.sAy.getLocalVariableOverridesInfo()})});let t=(0,I.SI)(t=>{e(t)});return()=>{t(),e(null)}},t})(),ep=(0,p.KU)(e=>(0,u.Zf)(t=>{let r=Object.values(t(eu)).filter(t=>t.variableSetId===e);return o()(r,e=>e.rootVariableKey)}));function em(){let e=b.CA.isReady(),t=e?v.sAy.getPageLevelModes():null,r=(0,u.Zf)(t);return r.onMount=t=>(e||b.CA.onReady().then(()=>{t(v.sAy.getPageLevelModes())}),()=>{t(null)}),r}let e_=(0,u.Zf)(e=>{if(!(0,d.Ub)().ds_variables_resolution_v2||!(0,d.Ub)().ds_variables_bump_set_versions)return!1;let t=e(et),r=e(F);return!!t.some(e=>(0,g.qm)(r[e.keyForPublish]))})},967228:(e,t,r)=>{"use strict";r.d(t,{SA:()=>f,e6:()=>b,i_:()=>E,ic:()=>v});var n=r(307824),i=r(250008),a=r(161400),o=r(760780),l=r(733960),s=r(372152),c=r(326660),d=r(90340),u=r(762820),p=r(392992),m=r(251596),_=r(668348),h=r(801368);function g(e){switch(e){case u.y6c.BOOLEAN:return"boolean";case u.y6c.FLOAT:return"float";case u.y6c.STRING:return"string";case u.y6c.COLOR:return"color";case u.y6c.MAP:return"map";case u.y6c.SYMBOL_ID:return"symbol_id";case u.y6c.FONT_STYLE:return"font_style";case u.y6c.TEXT_DATA:return"text_data"}}function f({isLoading:e,eventName:t}){let r=(0,l.i)(e),a=(0,n.useRef)();(0,o.u)(()=>{a.current=performance.now()});let s=function(e){let t=(0,n.useRef)(!1);return function(){t.current||(e(),t.current=!0)}}(function(){if(a.current){let e=performance.now()-a.current;i.qE.trackDefinedEvent(t,{loadTimeMs:e})}});r&&!e&&s()}function E({resolvedType:e}){let t=(0,p.K0)(),r=(0,m.sX)();(0,o.u)(()=>{t&&r&&i.qE.trackDefinedEvent("variables.inline_creation_dialog_opened",{fileKey:t,userId:r,resolvedType:g(e)})})}function y(e){return"type"in e}function b(e,t){var r,n,i;try{if(y(t)?t.type===u.Tcd.ALIAS:"ALIAS"===t.dataType){let o=y(t)?t.value:(0,_.MR)(null==(r=t.value)?void 0:r.alias),l=y(t)?g(t.resolvedType):t.resolvedDataType,c=a.x.getState(),u=Object.keys(c.mirror.sceneGraphSelection),p=null==(n=c.openFile)?void 0:n.key,m=c.user&&c.user.id,f=s.qM.get((0,h.AL)(o)),E=(null==f?void 0:f.variableSetId)?null==(i=s.qM.get((0,h._W)(null==f?void 0:f.variableSetId)))?void 0:i.node_id:null;for(let t of u)(0,d.s5)("ds_variable_reference_set",p,c,{userId:m,variable_id:o,collection_id:E,value_type:l,node_id:t,variable_field_id:e})}}catch(e){(0,c.WI)("variables","Could not log variable consumption",{exception:e},{reportAsSentryError:!0})}}function v(e){var t;try{let r=a.x.getState(),n=Object.keys(r.mirror.sceneGraphSelection),i=null==(t=r.openFile)?void 0:t.key,o=r.user&&r.user.id;for(let t of n)(0,d.s5)("ds_variable_reference_set",i,r,{userId:o,variable_id:e,value_type:u.y6c.SYMBOL_ID,node_id:t,variable_field_id:"VARIANT_PROPERTIES"})}catch(e){(0,c.WI)("variables","Could not log variant binding variable consumption",{exception:e},{reportAsSentryError:!0})}}},478228:(e,t,r)=>{"use strict";r.d(t,{Y:()=>ec,s:()=>ed});var n=r(307824),i=r(120304),a=r(125504),o=r.n(a),l=r(700512),s=r(250008),c=r(139776),d=r(721500),u=r(886420),p=r(996572),m=r(167568),_=r(843148),h=r(372152),g=r(838836),f=r(594192),E=r(570464),y=r(901676),b=r(130176),v=r(103839),I=r(698240),w=r(560072),T=r(466872),S=r(762820),C=r(555168),A=r(979144),O=r(784340),N=r(833492),L=r(585260),R=r(84656),P=r(46),M=r(790184),k=r(142548),D=r(203736),F=r(101040),x=r(308264),U=r(241645),B=r(568088),G=r(736588),V=r(159624),H=r(863436),W=r(801368),K=r(553096),Y=r(781828),q=r(202024),j=r(910576),$=r(140896),Z=r(206256),z=r(386432),Q=r(599264),X=r(260096),J=r(561652),ee=r(924816),et=r(366496),er=r(899960);let en="variables-modal-width",ei="variables-modal-height",ea="variables-modal-position",eo=(0,d.qe)(et.Q1),el=(0,d.qe)(et.A3),es=(0,d.qe)(et.G6),ec=(0,D.U9)(function(){let e=(0,L.m)({type:ec}),t=(0,i.OY)(),r=(0,R.s5)((0,A.EB)().showGuids),a=(0,i.w1)(e=>e.variablePickerShown),S=(0,i.w1)(e=>{var t;return(null==(t=e.modalShown)?void 0:t.type)===G.SE.type}),C=(0,h.m4)(W.yW),{state:{currentVariableSet:O,renamingModeGUID:D,renamingVariableID:ed,selectedGroupNames:eu,selectedVariableIDs:ep,variableGroupList:em,variableList:e_,variableOverrides:eh,isSidebarOpen:eg},actions:ef}=(0,q.l)(q.y.WRITEABLE),{showing:eE,show:ey,hide:eb,data:ev}=(0,N.s)("variables-modal-context-menu"),eI=(0,n.useCallback)((e,t,r)=>{S&&ef.toggleEditVariableModal(null);let n=ep;ep.includes(e)||(ef.setSelectedVariableIDs([e]),n=[e]),ey({data:{position:{left:r.clientX,top:r.clientY},modeID:t,variables:(0,c.iA)(n,e=>e_.find(t=>t.node_id===e)),cellElement:r.currentTarget,groupNames:[]}}),r.preventDefault()},[S,ep,ey,ef,e_]),ew=(0,n.useCallback)((e,t)=>{ey({data:{position:{left:t.clientX,top:t.clientY},groupNames:eu,variables:[],cellElement:t.currentTarget}}),t.preventDefault()},[eu,ey]),eT=(0,i.w1)(P.K4);(0,n.useEffect)(()=>(0,s.we)("ds_variables_modal_opened",eT),[eT]);let eS=e=>{var t;return ep.length>0&&(null==e?void 0:e.key)==="Enter"&&!!e.shiftKey&&(null==(t=ef.duplicateVariables)||t.call(ef),!0)},eC=E.cF("variablesModal","keydown",e=>{eS(e.event)&&(e.accept(),eS(e))}),eA=n.useRef(null),eO=(0,n.useRef)(null),eN=function(){let e=(0,y.op)(),t=(0,B.m)(),r=(0,n.useMemo)(()=>new v.Cg(t+(0,d.qe)(et.Q1),(0,d.qe)(et.A3)+(0,d.qe)(et.Q1)),[t]),[i]=(0,n.useState)(()=>{let t=null==e?void 0:e.getItem(ea);if(!t)return null;let r=JSON.parse(t);return new v.Cg(r.x,r.y)}),[a]=(0,n.useState)(()=>{let t=Number(null==e?void 0:e.getItem(en));return t&&Number.isFinite(t)?t:642}),[o]=(0,n.useState)(()=>{let t=Number(null==e?void 0:e.getItem(ei));return t&&Number.isFinite(t)?t:380}),[{windowInnerHeight:s,windowInnerWidth:c}]=(0,l.c)((0,m.U)(),300);return{initialConstraints:i?{x:"left",y:"top"}:{x:"right",y:"top"},initialPosition:i??r,maxWidth:c-2*eo,maxHeight:s-el-2*eo,minWidth:642,minHeight:380,initialWidth:a,initialHeight:o}}(),eL=(0,B.m)(),eR=(0,y.op)(),eP=(0,n.useCallback)(({width:e,height:t})=>{(0,_.Ub)().ds_variables_authoring_resize&&(null==eR||eR.setItem(en,String(e)),null==eR||eR.setItem(ei,String(t-es)))},[eR]),eM=(0,n.useCallback)(e=>{null==eR||eR.setItem(ea,JSON.stringify(e))},[eR]),[ek,eD]=(0,n.useState)(null),eF=(0,n.useCallback)(()=>{if(!(0,_.Ub)().ds_variables_authoring_resize)return;let e=eO.current;e&&e.setTransform(e=>{let t={...e,position:new v.Cg(eo,eo+el),width:window.innerWidth-2*eo,height:window.innerHeight-2*eo-el};return(0,u.QZ)(t,e)?(eD(null),ek):(eD(e),t)})},[ek]),ex=(0,n.useCallback)(e=>{e.target===e.currentTarget&&eF()},[eF]),eU=(0,f.aI)(O),eB=(0,H.qs)();return n.createElement(b.u,{name:"variables_modal"},n.createElement(x.Sg,{handleKeyDown:eC,ref:eA,name:"variables-authoring-modal",focusOnMount:!0},n.createElement(F.G0,{...(0,_.Ub)().ds_variables_authoring_resize?{allowAutoExpanding:!1,allowResizeHeight:!0,allowResizeWidth:!0,fullFrame:!0,initialConstraints:eN.initialConstraints,initialHeight:eN.initialHeight,initialPosition:eN.initialPosition,initialWidth:eN.initialWidth,maxHeight:eN.maxHeight,maxWidth:eN.maxWidth,minHeight:eN.minHeight,minWidth:eN.minWidth,onDragEnd:eM,onEdgeDoubleClick:eF,onResize:eP}:{allowAutoExpanding:!0,initialConstraints:{x:"right",y:"top"},initialPosition:eN.initialPosition},ref:eO,contentContainerClassName:ee.kl,dragHeaderOnly:!0,onClick:()=>{var e;a.isShown&&t((0,T.w)()),S&&ef.toggleEditVariableModal(null),null==(e=eA.current)||e.focus()},onKeyDown:eC,onClose:e,recordingKey:"variablesModal",title:n.createElement("div",{className:ee.e,onDoubleClick:ex},!eU&&n.createElement("div",{className:I.cx.ml8.fontSemiBold.font11.fontUi.$},n.createElement(w.Tx,{id:"variables.authoring_modal.title"})),eU&&n.createElement("div",{className:o()({[ee.I1]:!0,[ee.eU]:eg})},n.createElement(U.wP,{recordingKey:E.Mx("variablesModal","toggleSidebar"),svg:er.c,"data-tooltip-type":k.wL.TEXT,"data-tooltip":(0,w.t)("variables.authoring_modal.toggle_sidebar"),onClick:()=>ef.setIsSidebarOpen(e=>!e)})),eB&&n.createElement("div",{className:ee.ay},n.createElement(j.Q,null)),n.createElement("div",{className:ee.Al},n.createElement(K.o,null)))},n.createElement(p.qd,null,eU?n.createElement("div",{className:o()({[ee.uQ]:!0,[ee.sl]:!(0,_.Ub)().ds_variables_authoring_resize}),style:{"--propertiesPanelWidth":`${eL}px`},"data-testid":"variables-modal-container"},eg&&n.createElement(Q.m,{groups:em,onChangeVariableSet:ef.setCurrentVariableSetID,onContextMenu:ew,onCreateVariableSet:ef.createVariableSet,onCreateVariableSetExtension:ef.createVariableSetExtension,onDeleteVariableSet:ef.deleteVariableSet,onMoveSelectedGroupsToGroup:ef.moveSelectedGroupsToGroup,onMoveVariableToGroup:ef.moveVariableToGroup,onRenameGroup:ef.renameGroup,onRenameVariableSet:ef.renameVariableSet,onReorderGroups:ef.reorderGroups,onMoveGroups:ef.moveGroups,recordingKey:"variablesModal",selectedGroupNames:eu,selectedVariableIDs:ep,setSelectedGroupNames:ef.setSelectedGroupNames,variableSet:O,isShowingGuids:r}),n.createElement("div",{className:o()({[ee.i2]:!0,[ee._A]:!(0,_.Ub)().ds_variables_authoring_resize})},C&&n.createElement(Y.Q,null),0===e_.length?n.createElement(J.y,{recordingKey:"variablesModal",groups:em,selectedGroup:eu[0],setRenamingVariableID:ef.setRenamingVariableID,setSelectedVariableID:ef.setSelectedVariableIDs,variableSetID:O.node_id}):n.createElement(b.u,{name:"variables_modal_table"},n.createElement(X.g,{groups:em,key:eu.join("-"),onCreateMode:ef.createMode,onDeleteMode:ef.deleteMode,onDuplicateMode:ef.duplicateMode,onMoveVariableToGroup:ef.moveVariableToGroup,onRenameGroup:ef.renameGroup,onRenameMode:ef.renameMode,onRenameVariable:ef.renameVariable,onReorderVariables:ef.reorderVariables,onVariableContextMenu:eI,recordingKey:"variablesModal",renamingModeGUID:D,renamingVariableID:ed,selectedGroupNames:eu,selectedVariableIDs:ep,setRenamingModeGUID:ef.setRenamingModeGUID,setRenamingVariableID:ef.setRenamingVariableID,setSelectedVariableIDs:ef.setSelectedVariableIDs,variableSet:O,isShowingGuids:r,toggleEditVariableModal:ef.toggleEditVariableModal,setVariableValueForMode:ef.setVariableValueForMode}),ef.setRenamingVariableID&&n.createElement("div",{className:ee.kf},n.createElement(Z.Ck,{recordingKey:"variablesModal",groups:em,selectedGroup:eu[0],setRenamingVariableID:ef.setRenamingVariableID,variableSetID:O.node_id,setSelectedVariableID:ef.setSelectedVariableIDs}))),(0,_.Ub)().ds_variables_extended_sets&&(0,M.S_)(O)?n.createElement("pre",{className:I.cx.maxH200.overflowAuto.$},JSON.stringify(eh,void 0,2)):null)):n.createElement(z.i,{recordingKey:"variablesModalNullState"})),eE&&ev&&n.createElement($.W,{allVariables:e_,contextMenuData:ev,hasGroups:em.length>1,hideContextMenu:eb,onCreateGroup:ef.createGroup,onUngroup:ef.ungroup,onDuplicateVariables:ef.duplicateVariables,onDeleteEmptyGroup:g.Kw,onDeleteVariables:ef.deleteVariables,onSetAllVariablesSelected:g.Kw,toggleEditVariableModal:ef.toggleEditVariableModal,recordingKey:E.Mx("variablesModal","contextMenuDropdown")}),n.createElement(V.qU,null))))},"VariablesModal",D.Ou.YES);function ed(){let e=(0,L.m)({type:ec}),t=(0,O.SU)();return(0,n.useCallback)(()=>{0===t.length&&C.Pc.system("create-default-variable-set",()=>S.sAy.createVariableSet((0,w.t)("variables.authoring_modal.default_collection_name"),S.q09.AUTOMATIC_FIRST_COLLECTION)),e()},[t.length,e])}},928928:(e,t,r)=>{"use strict";let n;r.d(t,{G:()=>C});var i=r(307824),a=r(602216),o=r(250008),l=r(148276),s=r(30128),c=r(967540),d=r(560072),u=r(860700),p=r(323576),m=r(144459),_=r(803644),h=r(795368),g=r(887540),f=r(158196),E=r(203736),y=r(506240),b=r(812970),v=((n=v||{})[n.IMAGE=0]="IMAGE",n[n.SLIDER=1]="SLIDER",n);let I=(e,t)=>{e.fillStyle=(null==t?void 0:t.colorBg)||y.Ipt,e.beginPath(),e.moveTo(0,0),e.lineTo(200,0),e.lineTo(200,200),e.lineTo(0,200),e.lineTo(0,0),e.moveTo(0,100),e.arc(100,100,100,0,2*Math.PI,!0),e.fill(),e.restore()},w={CIRCLE:I,SQUARE:e=>{e.fillStyle=y.Ipt;let t=Math.floor(20),r=new Path2D;r.moveTo(10+t,10),r.lineTo(190-t,10),r.arcTo(190,10,190,10+t,t),r.lineTo(190,190-t),r.arcTo(190,190,190-t,190,t),r.lineTo(10+t,190),r.arcTo(10,190,10,190-t,t),r.lineTo(10,10+t),r.arcTo(10,10,10+t,10,t),r.moveTo(0,0),r.lineTo(200,0),r.lineTo(200,200),r.lineTo(0,200),r.lineTo(0,0),r.closePath(),e.fill(r,"evenodd"),e.restore()}};class T extends i.Component{constructor(){super(...arguments),this.mask=(this.props.avatarEditorState.shape?w[this.props.avatarEditorState.shape]:null)||I,this.sliderPosition=73.33333333333333,this.previewOffset={x:100,y:100},this.canvasStyle={background:`url('${(0,_.c)()}')`,width:200,height:244,display:"block",margin:"20px auto 10px auto",cursor:"move"},this.state={hasImageLoaded:!1},this.componentDidMount=async()=>{try{this.image=await this.loadImageFile(this.props.avatarEditorState.file)}catch{this.props.dispatch(c.M.error((0,d.t)("avatar_editor.an_error_occurred_while_loading_the_image"))),this.props.dispatch(p.Kw());return}if(this.image.width<g.Qt.LARGE||this.image.height<g.Qt.LARGE){this.props.dispatch(c.M.error((0,d.t)("avatar_editor.your_profile_image_must_be_at_least_500_x500_px"))),this.props.dispatch(p.Kw());return}this.setState({hasImageLoaded:!0})},this.startUpload=()=>{this.props.dispatch(p.Kw());let e=this.props.avatarEditorState.entityType===g.sD.WORKSPACE?"image/png":"image/jpeg";this.props.dispatch(u.qg({entity:this.props.avatarEditorState.entity,entityType:this.props.avatarEditorState.entityType,small:(0,u.k$)((0,u.QV)(this.image,g.Qt.SMALL,this.computeImagePosition(g.Qt.SMALL),e)),large:(0,u.k$)((0,u.QV)(this.image,g.Qt.LARGE,this.computeImagePosition(g.Qt.LARGE),e)),contentType:e})),this.props.onAvatarSet&&this.props.dispatch(this.props.onAvatarSet()),(0,o.we)("Change Profile Picture")},this.loadImageFile=e=>{let t=new Image;return new Promise((r,n)=>{t.onerror=e=>{n(e)},t.onload=()=>{URL.revokeObjectURL(i),r(t)};let i=URL.createObjectURL(e);t.src=i})},this.hasAlpha=e=>(this.ctx.clearRect(0,0,200,200),this.ctx.drawImage(e,0,0,200,200),this.ctx.getImageData(0,0,1,1).data[3]<255),this.mountCanvas=e=>{if(e){this.canvas=e,this.ctx=e.getContext("2d");let t=window.devicePixelRatio||1;e.width=200*t,e.height=244*t,this.ctx.scale(t,t);let r=this.hasAlpha(this.image)?Math.max(this.image.width,this.image.height)*Math.SQRT2:Math.min(this.image.width,this.image.height);this.previewScale=200/r,this.renderCanvasContent()}},this.onCanvasDown=e=>{let t=e.nativeEvent;if(0!==t.button)return;e.preventDefault(),document.addEventListener("mousemove",this.onCanvasMove),document.addEventListener("mouseup",this.onCanvasUp);let r=this.canvas.getBoundingClientRect();this.dragState={target:t.pageY-r.top<200?0:1,dragStart:{x:t.pageX,y:t.pageY}},1===this.dragState.target&&(this.updateSliderPosition(t.pageX-r.left),this.renderCanvasContent())},this.onCanvasMove=e=>{if(e.preventDefault(),null!=this.dragState){let t=this.dragState.dragStart;switch(this.dragState.target){case 0:this.previewOffset.x+=e.pageX-t.x,this.previewOffset.y+=e.pageY-t.y;break;case 1:{let r=this.computeImageScaleFactor();this.updateSliderPosition(this.sliderPosition+e.pageX-t.x);let n=this.computeImageScaleFactor();this.previewOffset.x+=(100-this.previewOffset.x)*(1-n/r),this.previewOffset.y+=(100-this.previewOffset.y)*(1-n/r)}}this.renderCanvasContent(),this.dragState.dragStart={x:e.pageX,y:e.pageY}}},this.onCanvasUp=e=>{e.preventDefault(),document.removeEventListener("mousemove",this.onCanvasMove),document.removeEventListener("mouseup",this.onCanvasMove),this.dragState=null},this.buttonRef=e=>{e&&a.findDOMNode(e).focus()}}updateSliderPosition(e){this.sliderPosition=e,this.sliderPosition=Math.max(20,Math.min(this.sliderPosition,180))}computeImageScaleFactor(){let e=(this.sliderPosition-20)/160;return e=1.5*e+-.5,this.previewScale*Math.pow(100,e)}computeImagePosition(e){let t=e/200,r=this.computeImageScaleFactor()*t,n=this.image.width*r,i=this.image.height*r;return{x:this.previewOffset.x*t-n/2,y:this.previewOffset.y*t-i/2,width:n,height:i}}renderCanvasContent(){var e,t,r,n,i;let a=this.ctx;a.clearRect(0,0,200,244);let o=this.computeImagePosition(200);a.drawImage(this.image,o.x,o.y,o.width,o.height),a.save(),this.mask(a,this.props.designTokens),a.fillStyle=(null==(e=this.props.designTokens)?void 0:e.colorBg)||y.Ipt,a.fillRect(0,200,200,44),a.strokeStyle=(null==(t=this.props.designTokens)?void 0:t.colorIcon)||y.q_m,a.beginPath(),a.moveTo(20,234),a.lineTo(180,234),a.closePath(),a.lineWidth=1,a.stroke();a.fillStyle=(null==(r=this.props.designTokens)?void 0:r.colorIcon)||"#333",a.strokeStyle=(null==(n=this.props.designTokens)?void 0:n.colorBorder)||"#777",a.beginPath(),a.moveTo(this.sliderPosition-4,226),a.lineTo(this.sliderPosition+4,226),a.lineTo(this.sliderPosition+4,238),a.lineTo(this.sliderPosition,242),a.lineTo(this.sliderPosition-4,238),a.closePath(),a.fill(),a.stroke(),a.fillStyle=(null==(i=this.props.designTokens)?void 0:i.colorIcon)||y.YHL,a.font="20px Arial",a.textBaseline="top";let l=a.measureText("+");a.fillText("-",0,222),a.fillText("+",200-l.width,222)}render(){return this.state.hasImageLoaded?i.createElement(f.wJ,{size:296,className:b.kl,...this.props},i.createElement(s.E,{isLoading:this.props.avatarEditorState.status!==g.e0.POSITIONING},()=>i.createElement("div",{className:b.YX,style:{textAlign:"center"}},i.createElement("div",{style:{width:"100%"}},i.createElement("canvas",{ref:this.mountCanvas,style:this.canvasStyle,onMouseDown:this.onCanvasDown})),i.createElement("div",{style:{marginTop:24,textAlign:"center"}},i.createElement("div",{style:{marginLeft:"auto",marginRight:"auto",display:"inline-block"}},i.createElement(l.Uv,{onClick:this.startUpload,className:b.I8,ref:this.buttonRef,trackingProperties:{trackingDescriptor:m.O.SAVE_PROFILE_PICTURE}},i.createElement(d.Tx,{id:"avatar_editor.save_image"}))))))):null}}T.displayName="AvatarEditorModal";let S=function(e){return i.createElement(s.E,{isLoading:e.avatarEditorState.status!==g.e0.POSITIONING},()=>i.createElement(T,{...e,avatarEditorState:e.avatarEditorState,onAvatarSet:e.onAvatarSet,designTokens:e.designTokens}))},C="AVATAR_EDITOR_MODAL";(0,E.Ko)(C,e=>i.createElement(h.OK.Consumer,null,t=>i.createElement(S,{designTokens:t,avatarEditorState:e.avatarEditorState,onAvatarSet:e.modalShown.data.onAvatarSet,dispatch:e.dispatch})))},12244:(e,t,r)=>{"use strict";r.d(t,{W:()=>h});var n=r(307824),i=r(936756),a=r(537096),o=r(560072),l=r(21480),s=r(528488),c=r(778112),d=r(142548),u=r(876124),p=r(55256);function m(e){return n.createElement("div",{className:"detail_engagement_row--engagementItem--Kpp0Y","data-tooltip":e["data-tooltip"],"data-tooltip-type":e["data-tooltip-type"],"data-tooltip-show-immediately":e["data-tooltip-show-immediately"]},e.children)}function _(){return n.createElement("div",{className:"detail_engagement_row--engagementDivider--t0laO"})}function h({resource:e}){let t=e.unique_run_count??0,r=(0,c.YV)(e),h=(0,c.GU)(e),g=(()=>{if(r)return n.createElement(s.kv,{resource:e});if(h)return n.createElement(s.w1,null);let t=(0,l.gX)({resource:e,payment:e.community_resource_payment});return e.monetized_resource_metadata&&t?n.createElement(s.E5,{metadata:e.monetized_resource_metadata}):null})(),f=(0,i.aw)(t),E=(0,i.aw)(e.like_count);return n.createElement("div",{className:"detail_engagement_row--detailEngagementRow--JLmtH"},n.createElement(m,{"data-tooltip":(0,o.t)("community.try.people_like_this",{numPeople:e.like_count,numPeopleStr:E}),"data-tooltip-type":d.wL.TEXT},n.createElement(a.A,{svg:p.c}),E),n.createElement(_,null),n.createElement(m,{"data-tooltip":(0,o.t)("community.try.people_use_this",{numPeople:t,numPeopleStr:f}),"data-tooltip-type":d.wL.TEXT},n.createElement(a.A,{svg:u.c}),f),!!g&&n.createElement(n.Fragment,null,n.createElement(_,null),n.createElement(m,null,g)))}},294916:(e,t,r)=>{"use strict";r.d(t,{m:()=>y});var n=r(307824),i=r(120304),a=r(888932),o=r(971376),l=r(105516),s=r(560072),c=r(597624),d=r(784740),u=r(21156),p=r(323576),m=r(342512),_=r(142548),h=r(203736),g=r(158196),f=r(241645),E=r(965080);let y=(0,h.U9)(function(e){let{localPlugin:t}=e,r=(0,i.OY)(),{error:h}=t;if(!h)return null;let y=(0,m.A)(),b=!!(null==y?void 0:y.isCompatibleWith({desktopVersion:80})),v=a.cp.mac?n.createElement(s.Tx,{id:"universal_insert.show_in_finder"}):n.createElement(s.Tx,{id:"universal_insert.show_in_explorer"});return n.createElement(g.wJ,{size:"small",dispatch:r,title:(0,s.t)("universal_insert.manifest_error_title")},n.createElement(l.cT,{dispatch:r}),n.createElement(c.g,{direction:"vertical",spacing:16},n.createElement(c.g,{direction:"horizontal",horizontalAlignItems:"space-between",width:"fill-parent",verticalAlignItems:"start",spacing:8},n.createElement(c.g,{backgroundColor:"secondary",padding:4,width:"fill-parent",cornerRadius:3},n.createElement(d.a,{color:"secondary",fontSize:13,fontFamily:"monospace"},h.text)),n.createElement(f.wP,{svg:E.c,onClick:()=>{r(u.ye({stringToCopy:h.text}))},"data-tooltip-type":_.wL.TEXT,"data-tooltip":(0,s.t)("inspect_panel.copy")})),n.createElement(c.g,{width:"fill-parent",horizontalAlignItems:"end"},n.createElement(o.wX,{onClick:()=>r(p.Kw())},n.createElement(s.Tx,{id:"universal_insert.cancel"})),n.createElement(o.gV,{onClick:()=>{b?y.openExtensionManifest(t.localFileId):y.openExtensionDirectory(t.localFileId)}},b?n.createElement(s.Tx,{id:"universal_insert.edit_manifest"}):v))))},"DevelopmentResourceErrorModal")},579515:(e,t,r)=>{"use strict";let n;r.d(t,{EY:()=>y,Oi:()=>g,QH:()=>f,SM:()=>E});var i=r(307824),a=r(120304),o=r(125504),l=r.n(o),s=r(148276),c=r(537096),d=r(560072),u=r(312920),p=r(142548),m=r(550072),_=r(933812),h=((n=h||{}).AUTO="auto",n.CONSTRAINED="constrained",n);function g(e){let t=(0,a.OY)(),r=i.useCallback(()=>{t(u.a({}))},[t]),n=e.width||"constrained",o=l()(m.sq,{[m.Cy]:"constrained"===n});return i.createElement("div",{"data-not-draggable":!0},i.createElement(s.wX,{onClick:r,className:o},e.children))}function f(){let e=(0,a.OY)(),t=i.useCallback(t=>{t.stopPropagation(),e(u.a({}))},[e]);return i.createElement("button",{className:m.uu,onClick:t},i.createElement(d.Tx,{id:"community.buyer.update_payment"}))}function E(){return i.createElement("div",{className:m.WW,"data-tooltip-type":p.wL.TEXT,"data-tooltip":(0,d.t)("community.buyer.update_payment_info_to_retain_access")},i.createElement(c.A,{svg:_.c}))}function y(){return i.createElement("div",{className:m.a0,"data-not-draggable":!0},i.createElement("div",{className:m.WW},i.createElement(c.A,{svg:_.c})),i.createElement("div",{className:m.AZ},i.createElement(d.Tx,{id:"community.buyer.update_payment_info"})),i.createElement("div",{className:m.EJ},i.createElement(g,{width:"auto"},i.createElement(d.Tx,{id:"community.buyer.go_to_stripe"}))))}},750600:(e,t,r)=>{"use strict";r.d(t,{EZ:()=>_,K6:()=>m,Qh:()=>f,oP:()=>g,u2:()=>h});var n=r(307824),i=r(120304),a=r(971376),o=r(148276),l=r(560072),s=r(597624),c=r(784740),d=r(649228),u=r(325252);function p(e){return{...e.is_widget?{widget_id:e.id}:{plugin_id:e.id},src:d.Ap.INVITE_TILE}}function m(e){let t=(0,i.OY)(),r=p(e);return()=>t((0,d._Q)(r))}function _(e){let t=(0,i.OY)(),r=p(e);return()=>t((0,d.e_)(r))}function h({resource:e}){let t=m(e),r=_(e);return n.createElement(s.g,null,n.createElement(a.wX,{onClick:e=>{e.stopPropagation(),r()}},n.createElement(l.Tx,{id:"community.detail_view.decline"})),n.createElement(o.gV,{onClick:e=>{e.stopPropagation(),t()}},n.createElement(l.Tx,{id:"community.detail_view.accept"})))}function g({resource:e}){let t=(0,u.Y9)(e),r=e.creator,i=e.is_widget?"widget":"plugin",a=`/community/${i}/${e.id}`;return n.createElement(c.a,null,n.createElement(l.Tx,{id:"universal_insert.invited_you_to_publish",ownerName:n.createElement(c.a,{fontWeight:"bold"},r.handle),resourceName:n.createElement(o.Gy,{href:a,onClick:e=>{e.stopPropagation()},target:"_blank",trusted:!0},n.createElement(c.a,{fontWeight:"bold"},t.name))}))}function f({resource:e}){return n.createElement(s.g,{direction:"vertical"},n.createElement(g,{resource:e}),n.createElement(h,{resource:e}))}},577028:(e,t,r)=>{"use strict";r.d(t,{I6:()=>l,M3:()=>o,c9:()=>i,ei:()=>s,kH:()=>c,kg:()=>a});var n=r(307824);function i(){return n.createElement("svg",{width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("rect",{width:"40",height:"40",rx:"8",fill:"white"}),n.createElement("rect",{x:"0.5",y:"0.5",width:"39",height:"39",rx:"7.5",stroke:"black",strokeOpacity:"0.2"}),n.createElement("path",{d:"M12 15L6 20L12 25",stroke:"black",strokeOpacity:"0.9",strokeWidth:"2",strokeLinecap:"square"}),n.createElement("path",{d:"M28 15L34 20L28 25",stroke:"black",strokeOpacity:"0.9",strokeWidth:"2",strokeLinecap:"square"}),n.createElement("rect",{x:"22.2002",y:"10",width:"2",height:"20",transform:"rotate(18 22.2002 10)",fill:"black",fillOpacity:"0.9"}))}function a(){return n.createElement("svg",{width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("rect",{width:"40",height:"40",rx:"8",fill:"white"}),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M25 8H15V6H25V8ZM31 22C31 28.0751 26.0751 33 20 33C13.9249 33 9 28.0751 9 22C9 15.9249 13.9249 11 20 11C26.0751 11 31 15.9249 31 22ZM33 22C33 29.1797 27.1797 35 20 35C12.8203 35 7 29.1797 7 22C7 14.8203 12.8203 9 20 9C23.0804 9 25.9105 10.0714 28.1382 11.8618L31 9L34.5355 12.5355L31.3731 15.698C32.4097 17.5647 33 19.7134 33 22ZM21 22V14H19V22C19 22.5523 19.4477 23 20 23C20.5523 23 21 22.5523 21 22Z",fill:"black",fillOpacity:"0.9"}),n.createElement("rect",{x:"0.5",y:"0.5",width:"39",height:"39",rx:"7.5",stroke:"black",strokeOpacity:"0.2"}))}function o(){return n.createElement("svg",{width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("rect",{width:"40",height:"40",rx:"8",fill:"white"}),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6 10C6 7.79086 7.79086 6 10 6H30C32.2091 6 34 7.79086 34 10V21.1632V30C34 32.2091 32.2091 34 30 34H14.3864H10C7.79086 34 6 32.2091 6 30V10ZM10 8C8.89543 8 8 8.89543 8 10V23.1195L13.7151 15.8804L14.4948 14.8927L15.2809 15.8753L20.7081 22.6594L25.9453 19.1679L26.6001 18.7314L27.1783 19.2652L32 23.716V21.1632V10C32 8.89543 31.1046 8 30 8H10ZM8 30V26.3472L14.5052 18.1073L19.7191 24.6247L20.2919 25.3406L21.0547 24.8321L26.3999 21.2686L32 26.4378V30C32 31.1046 31.1046 32 30 32H14.3864H10C8.89543 32 8 31.1046 8 30ZM24 17C25.6569 17 27 15.6569 27 14C27 12.3431 25.6569 11 24 11C22.3431 11 21 12.3431 21 14C21 15.6569 22.3431 17 24 17Z",fill:"black",fillOpacity:"0.9"}),n.createElement("rect",{x:"0.5",y:"0.5",width:"39",height:"39",rx:"7.5",stroke:"black",strokeOpacity:"0.2"}))}function l(){return n.createElement("svg",{width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("rect",{width:"40",height:"40",rx:"8",fill:"white"}),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10 6C7.79086 6 6 7.79086 6 10V30C6 32.2091 7.79086 34 10 34H14.3864H30C32.2091 34 34 32.2091 34 30V21.1632V10C34 7.79086 32.2091 6 30 6H10ZM8 10C8 8.89543 8.89543 8 10 8H30C31.1046 8 32 8.89543 32 10V14H8V10ZM8 16V30C8 31.1046 8.89543 32 10 32H14.3864H30C31.1046 32 32 31.1046 32 30V21.1632V16H8ZM13 11C13 12.1046 12.1046 13 11 13C9.89543 13 9 12.1046 9 11C9 9.89543 9.89543 9 11 9C12.1046 9 13 9.89543 13 11ZM17 19.9207V27.0793C17 27.4911 17.4435 27.7505 17.8024 27.5486L24.1657 23.9693C24.5316 23.7635 24.5316 23.2365 24.1657 23.0307L17.8024 19.4514C17.4435 19.2495 17 19.5088 17 19.9207Z",fill:"black",fillOpacity:"0.9"}),n.createElement("rect",{x:"0.5",y:"0.5",width:"39",height:"39",rx:"7.5",stroke:"black",strokeOpacity:"0.2"}))}function s(){return n.createElement("svg",{width:40,height:40,fill:"none"},n.createElement("rect",{width:40,height:40,rx:8,fill:"#fff"}),n.createElement("rect",{x:.5,y:.5,width:39,height:39,rx:7.5,stroke:"#000",strokeOpacity:.2}),n.createElement("circle",{cx:16.5,cy:16.5,r:1.5,fill:"#000"}),n.createElement("circle",{cx:23.5,cy:16.5,r:1.5,fill:"#000"}),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M25.549 20H14.074C13.5 20 13 20.424 13 21a7.002 7.002 0 005.97 6.925c.218-.667.484-1.312.796-1.93A5.002 5.002 0 0115.1 22h7.674a14.038 14.038 0 012.775-2z",fill:"#000"}),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M32.28 19.28c-7.18 0-13 5.82-13 13 0 .241.006.481.019.72L33 19.299a13.15 13.15 0 00-.72-.02z",fill:"#000"}),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21.34 30.92c-.439.052-.886.08-1.34.08-6.075 0-11-4.925-11-11S13.925 9 20 9s11 4.925 11 11c0 .454-.027.901-.08 1.34l2.06-2.06C32.606 12.434 26.938 7 20 7 12.82 7 7 12.82 7 20c0 6.938 5.435 12.606 12.28 12.98l2.06-2.06z",fill:"#000"}))}function c(){return n.createElement("svg",{width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("rect",{width:"40",height:"40",rx:"8",fill:"white"}),n.createElement("rect",{x:"0.5",y:"0.5",width:"39",height:"39",rx:"7.5",stroke:"black",strokeOpacity:"0.2"}),n.createElement("rect",{x:"5",y:"17",width:"10",height:"6",rx:"2",stroke:"black",strokeWidth:"2"}),n.createElement("rect",{x:"24",y:"9",width:"10",height:"6",rx:"2",stroke:"black",strokeWidth:"2"}),n.createElement("rect",{x:"24",y:"25",width:"10",height:"6",rx:"2",stroke:"black",strokeWidth:"2"}),n.createElement("path",{d:"M15 20H15.5C17.7091 20 19.5 18.2091 19.5 16V16C19.5 13.7909 21.2909 12 23.5 12H24",stroke:"black",strokeWidth:"2"}),n.createElement("path",{d:"M15 20H15.5C17.7091 20 19.5 21.7909 19.5 24V24C19.5 26.2091 21.2909 28 23.5 28H24",stroke:"black",strokeWidth:"2"}))}},480232:(e,t,r)=>{"use strict";r.d(t,{AX:()=>W,Ah:()=>Y,Ge:()=>F,KQ:()=>D,OC:()=>V,WO:()=>P,YB:()=>N,YZ:()=>B,ai:()=>H,cX:()=>M,e$:()=>S,gx:()=>G,iu:()=>x,kn:()=>R,qK:()=>k,qM:()=>K,uk:()=>L});var n=r(307824),i=r(120304),a=r(721500),o=r(4580),l=r(843148),s=r(594192),c=r(103839),d=r(560072),u=r(212980),p=r(448604),m=r(894764),_=r(596496),h=r(572748),g=r(251596),f=r(39676),E=r(915668),y=r(557188),b=r(224100),v=r(456076),I=r(171992),w=r(552727),T=r(763456);function S(e){let t=[(0,d.t)("whiteboard.inserts.search_placeholder_1"),(0,d.t)("whiteboard.inserts.search_placeholder_2"),(0,d.t)("whiteboard.inserts.search_placeholder_3"),(0,d.t)("whiteboard.inserts.search_placeholder_4"),(0,d.t)("whiteboard.inserts.search_placeholder_5"),(0,d.t)("whiteboard.inserts.search_placeholder_6"),(0,d.t)("whiteboard.inserts.search_placeholder_7"),(0,d.t)("whiteboard.inserts.search_placeholder_8")];return"en"===e&&(t=t.concat([(0,d.t)("whiteboard.inserts.search_placeholder_9"),(0,d.t)("whiteboard.inserts.search_placeholder_10"),(0,d.t)("whiteboard.inserts.search_placeholder_11"),(0,d.t)("whiteboard.inserts.search_placeholder_12")])),t[Math.floor(Math.random()*t.length)]}let C=(0,a.I)(T.eWp),A=(0,a.I)(T.GWm),O=(0,a.I)(T.aK_),N=(0,a.I)(T.q6b),L=(0,a.I)(T.sni)+(0,a.I)(T.cNh)+5,R=(0,a.I)(T.sfb),P=(0,a.I)(T.WSJ),M=62,k=new c.Cg(N,N+C);function D(e,t,r){let n=e===v.a.PINNED_AND_DOCKED_LEFT&&window.innerWidth>=O?0:2*N+A,i=window.innerHeight-r-C-2*N-n;return e===v.a.PINNED_AND_DOCKED_LEFT?i:Math.min(t,i)}function F(e,t,r,n){let a=(0,i.w1)(e=>e.figjamDefaultInserts)[t],o=[];for(let n of a)r(n,e)&&("templates"===t?o.push({type:E.e.HubFile,template:n}):o.push(n));return e.push(...o),e.slice(0,n)}function x(e,t){let r=(0,n.useRef)(null),i=(0,n.useRef)(!1);return t.every(e=>!!e)&&!i.current&&(r.current=e,i.current=!0),null!==r.current?r.current:e}function U(e,t){let r=new Map(e.map(e=>{var r;return[e.key,(r=1e4*Math.sin(t++))-Math.floor(r)]}));return e.sort((e,t)=>{let n=r.get(e.key)||0,i=r.get(t.key)||0;return n>i?1:n<i?-1:0})}function B(){let e=(0,i.OY)(),{openFile:t,fileVersion:r,fileByKey:a,loadingState:s,library:c}=(0,o.q)(e=>({openFile:e.openFile,fileVersion:e.fileVersion,fileByKey:e.fileByKey,sceneGraphSelection:e.mirror.sceneGraphSelection,loadingState:e.loadingState,library:e.library})),d=(0,g.sX)()||"";n.useEffect(()=>{e(p.Ze({shouldSearchDefaultLibraries:!0}))},[e]);let u=t&&r&&(0,f.ER)(s,(0,w.AL)(t.key));n.useEffect(()=>{u&&e(p.Ul({}))},[e,u]);let m=(0,_.CO)(null==t?void 0:t.project);return n.useMemo(()=>{let e;let r=(0,I.yO)(c,t,a,m),n=(0,I.WG)(c,t,a,m),i=new Set(n.subscribedFiles.map(e=>e.key)),o=r.subscribedFiles.filter(e=>!i.has(e.key));e=window.location.origin.includes("staging.figma.com")?"3oeQNbicdVK70ytqmfZJhR":"AglYtWdfaNikShoD8HZ8pJ";let s=n.subscribedFiles.find(t=>t.key===e);if(s&&(0,l.Ub)().figjam_ngima_stickers){let t=U(n.subscribedFiles.filter(t=>t.key!==e),parseInt(d)%1e3);t.unshift(s),n.subscribedFiles=t}else n.subscribedFiles=U(n.subscribedFiles,parseInt(d)%1e3);return{subscribedFiles:[...o,...n.subscribedFiles],fileKeyToSubscribedItems:{...r.fileKeyToSubscribedItems,...n.fileKeyToSubscribedItems}}},[c,t,a,m,d])}function G(){let e=(0,h.Ce)(),t=!!(e&&e.plugins_whitelist_enforced),r=!!(e&&e.widgets_whitelist_enforced);return!t&&!r}let V=n.createContext(null);function H(){return(0,s.wl)(n.useContext(V),"Must be wrapped within <FigJamBrowseResourceModalContext.Provider>")}function W(e){return e.filter(e=>e.editor_type===b.kr.UNIVERSAL||e.editor_type===b.kr.FIGJAM)}function K(){return q((0,m.KM)(),(0,i.w1)(e=>e.communityPayments))}function Y(){return q((0,m.So)(),(0,i.w1)(e=>e.communityPayments))}function q(e,t){return function(r){let n=e[r.plugin_id];if(!n||!n.monetized_resource_metadata)return!0;let i=t[n.monetized_resource_metadata.id]||n.community_resource_payment;return!i||!(0,u.ue)(i,y.S4.PENDING)}}},750496:(e,t,r)=>{"use strict";r.d(t,{E:()=>_});var n=r(307824),i=r(125504),a=r.n(i),o=r(888932),l=r(570464),s=r(853688),c=r(537096),d=r(698240),u=r(560072),p=r(142548),m=r(527652);function _(e){return n.createElement(s.g9,{className:a()("pin_button--pinButton--FRpn1",{[d.cx.ml8.$]:!e.noMargin}),onClick:o.cp.isIpad?void 0:e.setPinned,onPointerDown:t=>o.cp.isIpad?e.setPinned():void 0,"data-tooltip-type":p.wL.TEXT,"data-tooltip":(0,u.t)("whiteboard.inserts.dock_to_side"),recordingKey:l.Mx("universalInsert","pin"),dataTestId:"universal-insert-modal-popout-button","data-not-draggable":!0},n.createElement(c.A,{svg:m.c}))}},394224:(e,t,r)=>{"use strict";r.d(t,{W:()=>T,y:()=>w});var n=r(307824),i=r(602216),a=r(120304),o=r(125504),l=r.n(o),s=r(853688),c=r(103839),d=r(584208),u=r(585508),p=r(762820),m=r(58504),_=r(251596),h=r(793944),g=r(142548),f=r(55808),E=r(53316),y=r(372204),b=r(199360),v=r(272912);function I({children:e,mini:t,user:r}){return t?n.createElement("div",{className:l()(v.YP,v.yU)},e):n.createElement("div",{"data-tooltip-type":g.wL.TEXT,"data-tooltip":r.name||r.handle||"","data-tooltip-timeout-delay":"500","data-tooltip-show-below":!0,"data-tooltip-offset-y":"-20",className:l()(v.YP)},e)}function w({user:e,hideName:t,mini:r,searchQuery:i,triggeredFrom:o}){let l=e.hi_res_img_url||e.img_url,s=`${l}?c=1`,g=(0,f.qr)(e.id,f.cn),b=(0,E.uE)(s,e.name||e.handle||"",g),w=(0,_.sX)(),O=(0,y.M)(),N=(0,a.OY)(),L=n.useCallback(()=>{N(d.ai({currentUserId:w??void 0,storeInRecentsKey:h.Sy.FigJam,item:{id:e.id,user:e,type:h.y4.FaceStamp}}))},[w,N,e]),{dragState:R,onInsertableResourcePointerDown:P}=(0,m.I)({icon:n.createElement("img",{src:b,className:v.Ko,alt:`profile stamp for ${e.name}`}),insertAction:t=>{let{dropPosition:r,isClick:n,type:i}=t;if(n||"click"===i){let t=u.CA.getViewportInfo();(0,E.Yl)(b,t.offsetX,t.offsetY,e.id,"click",p.IBo.USER),L()}else{let n=t.pointerPercentageOffset?t.pointerPercentageOffset.x:0,i=t.pointerPercentageOffset?t.pointerPercentageOffset.y:0,a=new c.Cg(50,50),o=r.subtract(new c.Cg(n*a.x,i*a.y)).subtract(new c.Cg(5,5));(0,E.Yl)(b,o.x,o.y,e.id,"drag",p.IBo.USER),L()}},clickToInsert:!r,afterSuccessfulInsert:O,resource:{id:e.id,name:e.name||"",img:b},triggeredFrom:o,searchQuery:i,mini:r});return r&&!b?null:n.createElement(I,{mini:r,user:e},b?n.createElement(n.Fragment,null,n.createElement(C,{stampImageUrl:b,username:e.name||"",onPointerDown:P,dragging:null!==R,mini:r}),n.createElement(A,{dragState:R,imageUrl:b}),!t&&n.createElement(S,{username:e.name||e.handle||""})):n.createElement(n.Fragment,null,n.createElement(T,{mini:r}),!t&&n.createElement(S,{username:""})))}function T({mini:e}={}){return n.createElement("div",{className:l()(v.YP,{[v.yU]:e,[v.y4]:!e})},n.createElement("div",{className:l()(v.yQ,v.Ko)}),!e&&n.createElement("div",{className:l()(v.Kk,v.wz)}))}function S({username:e}){return n.createElement("div",{title:e,className:v.wz},e)}function C(e){return n.createElement(s.iH,{recordingKey:"facestamp",dataTestId:`facestamp-${e.username}${e.mini?"-mini":""}`,onPointerDown:e.onPointerDown},n.createElement("img",{draggable:!1,src:e.stampImageUrl,className:l()(v.Ko,{[v.ug]:e.dragging,[v.YF]:e.mini}),alt:`profile stamp for ${e.username}`}))}function A(e){var t;if(!(null==(t=e.dragState)?void 0:t.dragPosition)||!e.dragState.grabbedPointerPercentageOffset)return null;let r=function(){let{zoomScale:e}=u.CA.getViewportInfo();return new c.Cg(50,50).scale(e)}(),a=e.dragState.dragPosition.subtract(new c.Cg(e.dragState.grabbedPointerPercentageOffset.x*r.x,e.dragState.grabbedPointerPercentageOffset.y*r.y));return(0,i.createPortal)(n.createElement("img",{alt:"",className:l()(b.Oe,{[b.U$]:e.dragState.isDraggingOverCanvas}),style:{left:a.x,top:a.y,width:r.x,height:r.y},src:e.imageUrl}),document.getElementById("fullscreen-root"))}},546788:(e,t,r)=>{"use strict";r.d(t,{Ep:()=>s,Ml:()=>u,U1:()=>c,eK:()=>p});var n=r(307824),i=r(120304),a=r(987276),o=r(13468),l=r(793944);function s(){let e=!!(0,i.w1)(e=>{var t;return null==(t=e.openFile)?void 0:t.org}),t=(0,i.w1)(e=>(0,o.Wm)(e.selectedView)&&!e.user);return!!(e&&!t)}function c(e,t=20){let r=u(e),a=(0,i.w1)(e=>e.faceStamps);return n.useMemo(()=>{let e=new Map;return r.forEach(t=>{e.set(t.id,t)}),a.forEach(t=>{e.set(t.id,t)}),Array.from(e.values()).slice(0,t)},[t,r,a])}let d=(e,t)=>(e.name||"").toLowerCase().includes(t.toLowerCase())||(e.handle||"").toLowerCase().includes(t.toLowerCase())||(e.email||"").toLowerCase().split("@")[0].includes(t.toLowerCase());function u(e){let t=(0,i.w1)(e=>e.recentlyUsed.faceStamps[l.Sy.FigJam]);return n.useMemo(()=>t.map(e=>e.user).filter(t=>!e||d(t,e)),[t,e])}function p(){let e=(0,i.w1)(e=>e.recentlyUsed.faceStamps),t=s(),r=(0,a.i)();return n.useMemo(()=>r&&t?e.figjam.map(e=>e.user):[],[r,e,t])}},512408:(e,t,r)=>{"use strict";r.d(t,{C:()=>a});var n=r(307824),i=r(853688);function a({text:e,description:t,onClick:r,onPointerDown:a,iconComponent:o,recordingKey:l,rightCaret:s}){return n.createElement(i.iH,{recordingKey:l,dataTestId:l,onClick:r,onPointerDown:a,className:"native_figjam_action_block--optionContainer--PAZPH"},n.createElement("div",{className:"native_figjam_action_block--actionBlockLeftSide--lGAtd native_figjam_action_block--actionBlockRightSide--lUQRE"},n.createElement("div",{className:"native_figjam_action_block--iconComponent--nQLDP"},o)),n.createElement("div",{className:"native_figjam_action_block--actionBlockRightSide--lUQRE"},n.createElement("div",{className:"native_figjam_action_block--textRow--yGuij"},n.createElement("div",{className:"native_figjam_action_block--text--S9XDd text--fontPos13--xW8hS text--_fontBase--QdLsd"},e)),n.createElement("div",{className:"native_figjam_action_block--description--FdkF2 text--fontPos11--2LvXf text--_fontBase--QdLsd"},t)),s&&n.createElement("svg",{className:"native_figjam_action_block--rightCaret--mk9xP",width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.46967 2.46967L0.96967 6.96967L2.03033 8.03033L6 4.06066L9.96967 8.03033L11.0303 6.96967L6.53033 2.46967L6 1.93934L5.46967 2.46967Z",fill:"black"})))}},346680:(e,t,r)=>{"use strict";r.d(t,{oJ:()=>Q,EF:()=>ee,OW:()=>et,tI:()=>X,ox:()=>z,S6:()=>Z,IP:()=>j,Q9:()=>$,ko:()=>J,g$:()=>q});var n=r(307824),i=r(120304),a=r(570464),o=r(560072),l=r(192252),s=r(323576),c=r(584208),d=r(762820),u=r(555168),p=r(103840),m=r(602216),_=r(125504),h=r.n(_),g=r(199360);function f(e){var t,r;if(!(null==(t=e.dragState)?void 0:t.dragPosition)||!(null==(r=e.dragState)?void 0:r.dragOffset))return null;let i=e.dragState.dragPosition.subtract(e.dragState.dragOffset);return(0,m.createPortal)(n.createElement("div",{className:h()(g.G0,{[g.U$]:e.dragState.isDraggingOverCanvas}),style:{left:i.x,top:i.y,width:e.dragState.draggingThumbSize.x,height:e.dragState.draggingThumbSize.y}},e.icon),document.getElementById("fullscreen-root"))}var E=r(702356),y=r(499776),b=r(191352),v=r(97764),I=r(477244),w=r(72708),T=r(535816);function S(e){let t="whiteboard"===(0,b.CM)(),r=(0,T.kR)(),n=async n=>(e.insertAction(n),t&&(0,T.S4)({type:w.i.MORE,id:e.resource,source:e.triggeredFrom,options:{...r,query:e.searchQuery}}),await Promise.resolve());return(0,v.y)(e,{insertAction:n,dragPreviewPointerPosition:I.a.CENTERED,getDragPreviewSrc:()=>"data:image/svg+xml;utf8,"+(0,y.i)(e.icon),recordingKey:a.Mx("more",e.resource.toLowerCase())})}var C=r(934744),A=r(702400),O=r(793944),N=r(577028),L=r(512408),R=r(372204),P=r(940680),M=r(629688),k=r(162844),D=r(45884),F=r(480232);let x=M.Ky(),U=M.MX(),B=M.P3(),G=M.iW(),V=N.c9(),H=N.kg(),W=N.M3(),K=N.I6(),Y=N.kH();function q(e){let t=function(e){switch(e){case"Table":return d.w3X.TABLE;case"CodeBlock":return d.w3X.CODE_BLOCK;case"MindMap":return d.w3X.SHAPE_WHITEBOARD_MINDMAP_TREE_NUCLEUS;case"Text":return d.w3X.TYPE;case"Section":return d.w3X.SECTION;default:throw Error(`Unknown tool: ${e}`)}}(e);return e=>{let{dropPosition:r,isClick:n}=e;n?u.Pc.user("click-insert-tool",()=>d.i46.createNodeAtViewportCenterFromTool(t)):u.Pc.user("drag-insert-tool",()=>d.i46.createNodeFromTool(t,r.x,r.y))}}function j(){let e=(0,R.M)(),t=(0,i.OY)(),r=(0,i.w1)(e=>{var t;return null==(t=e.user)?void 0:t.id}),{currentTab:l,searchQuery:s}=(0,F.ai)(),d=()=>{t(c.$$({currentUserId:r,storeInRecentsKey:O.Sy.FigJam,item:{id:"Table",type:O.y4.WhiteboardTool}})),e()},{dragState:u,onInsertableResourcePointerDown:p}=(0,C.UX)({resource:"Table",insertAction:e=>{q("Table")(e),d()},clickToInsert:!0,afterSuccessfulInsert:d,triggeredFrom:(0,A.k)(l),searchQuery:s});return n.createElement(n.Fragment,null,n.createElement(L.C,{text:(0,o.t)("whiteboard.inserts.table_title"),description:(0,o.t)("whiteboard.inserts.table_description"),onPointerDown:p,iconComponent:x,recordingKey:a.Mx("inserts","more","table")}),n.createElement(E.y,{dragState:u}))}function $(){let e=(0,R.M)(),{currentTab:t,searchQuery:r}=(0,F.ai)(),i=()=>{e()},{dragState:l,onInsertableResourcePointerDown:s}=(0,C.UX)({resource:"Text",insertAction:e=>{q("Text")(e),i()},clickToInsert:!0,afterSuccessfulInsert:i,triggeredFrom:(0,A.k)(t),searchQuery:r,icon:U});return n.createElement(n.Fragment,null,n.createElement(L.C,{text:(0,o.t)("whiteboard.inserts.text_title"),description:(0,o.t)("whiteboard.inserts.text_description"),onPointerDown:s,iconComponent:U,recordingKey:a.Mx("inserts","more","text")}),n.createElement(E.y,{dragState:l,icon:U}))}function Z(){let e=(0,R.M)();return n.createElement(n.Fragment,null,n.createElement(L.C,{text:(0,o.t)("whiteboard.inserts.stamp_title"),description:(0,o.t)("whiteboard.inserts.stamp_description"),onPointerDown:()=>{(0,k.wX)({source:"figjam_universal_inserts"}),e()},iconComponent:B,recordingKey:a.Mx("inserts","more","stamp")}))}function z(){let e=(0,R.M)(),{currentTab:t,searchQuery:r}=(0,F.ai)(),i=()=>{e()},{dragState:l,onInsertableResourcePointerDown:s}=(0,C.UX)({resource:"Section",insertAction:e=>{q("Section")(e),i()},clickToInsert:!0,afterSuccessfulInsert:i,triggeredFrom:(0,A.k)(t),searchQuery:r,icon:G});return n.createElement(n.Fragment,null,n.createElement(L.C,{text:(0,o.t)("whiteboard.inserts.section_title"),description:(0,o.t)("whiteboard.inserts.section_description"),onPointerDown:s,iconComponent:G,recordingKey:a.Mx("inserts","more","section")}),n.createElement(E.y,{dragState:l,icon:G}))}function Q(){let e=(0,R.M)(),t=(0,i.OY)(),r=(0,i.w1)(e=>{var t;return null==(t=e.user)?void 0:t.id}),{currentTab:l,searchQuery:s}=(0,F.ai)(),d=()=>{t(c.$$({currentUserId:r,storeInRecentsKey:O.Sy.FigJam,item:{id:"CodeBlock",type:O.y4.WhiteboardTool}})),e()},{dragState:u,onInsertableResourcePointerDown:p}=(0,C.UX)({resource:"CodeBlock",insertAction:e=>{q("CodeBlock")(e),d()},clickToInsert:!0,afterSuccessfulInsert:d,triggeredFrom:(0,A.k)(l),searchQuery:s});return n.createElement(n.Fragment,null,n.createElement(L.C,{text:(0,o.t)("whiteboard.inserts.code_block_title"),description:(0,o.t)("whiteboard.inserts.code_block_description"),onPointerDown:p,iconComponent:V,recordingKey:a.Mx("inserts","more","codeBlock")}),n.createElement(E.y,{dragState:u}))}function X(){let e=(0,R.M)(),t=(0,i.OY)(),r=(0,i.w1)(e=>{var t;return null==(t=e.user)?void 0:t.id}),{currentTab:l,searchQuery:s}=(0,F.ai)(),d=()=>{t(c.$$({currentUserId:r,storeInRecentsKey:O.Sy.FigJam,item:{id:"MindMap",type:O.y4.WhiteboardTool}})),e()},p=u.wH.user("insert-mindmap",e=>{q("MindMap")(e),d()}),{dragState:m,onInsertableResourcePointerDown:_}=(0,C.UX)({resource:"MindMap",insertAction:p,clickToInsert:!0,afterSuccessfulInsert:d,triggeredFrom:(0,A.k)(l),searchQuery:s});return n.createElement(n.Fragment,null,n.createElement(L.C,{text:(0,o.t)("whiteboard.inserts.mind_map_title"),description:(0,o.t)("whiteboard.inserts.mind_map_description"),onPointerDown:_,iconComponent:Y,recordingKey:a.Mx("inserts","more","mindMap")}),n.createElement(E.y,{dragState:m}))}function J(){let e=(0,R.M)(),{currentTab:t,searchQuery:r}=(0,F.ai)(),i=(0,D.GE)(),{dragState:l,onInsertableResourcePointerDown:s}=S({resource:"Timer",icon:H,insertAction:()=>{i({source:D.iu.INSERTS_MENU}),e()},clickToInsert:!0,afterSuccessfulInsert:e,triggeredFrom:(0,A.k)(t),searchQuery:r});return n.createElement(n.Fragment,null,n.createElement(L.C,{text:(0,o.t)("whiteboard.inserts.timer_title"),description:(0,o.t)("whiteboard.inserts.timer_description"),onPointerDown:s,iconComponent:H,recordingKey:a.Mx("inserts","more","timer")}),n.createElement(f,{icon:H,dragState:l}))}function ee(){var e;let t=(0,i.OY)(),r=(0,R.M)(),{currentTab:s,searchQuery:c}=(0,F.ai)(),u=()=>{d.i46.triggerAction("set-tool-default",null),d.i46.triggerAction("place",{source:"MEDIA_MODAL"}),t(l.CU({open:!0})),r()},{dragState:m,onInsertableResourcePointerDown:_}=S({resource:"Image",icon:W,insertAction:u,clickToInsert:!0,afterSuccessfulInsert:r,triggeredFrom:(0,A.k)(s),searchQuery:c}),h=!(null==(e=(0,p.k1)())?void 0:e.shouldOptimizeForIpadApp);return n.createElement(n.Fragment,null,n.createElement(L.C,{text:(0,o.t)("whiteboard.inserts.media_title"),description:(0,o.t)("whiteboard.inserts.media_description"),onPointerDown:h?_:void 0,onClick:h?void 0:u,iconComponent:W,recordingKey:a.Mx("inserts","more","images")}),n.createElement(f,{icon:W,dragState:m}))}function et(){let e=(0,i.OY)(),t=(0,R.M)(),{currentTab:r,searchQuery:l}=(0,F.ai)(),{dragState:c,onInsertableResourcePointerDown:u}=S({resource:"Link",icon:K,insertAction:()=>{d.i46.triggerAction("set-tool-default",null),e(s.us({type:P.gj.type,data:{shouldMountCenter:!0}})),t()},clickToInsert:!0,afterSuccessfulInsert:t,triggeredFrom:(0,A.k)(r),searchQuery:l});return n.createElement(n.Fragment,null,n.createElement(L.C,{text:(0,o.t)("whiteboard.inserts.links_title"),description:(0,o.t)("whiteboard.inserts.links_description"),onPointerDown:u,iconComponent:K,recordingKey:a.Mx("inserts","more","links")}),n.createElement(f,{icon:K,dragState:c}))}},46592:(e,t,r)=>{"use strict";r.d(t,{GA:()=>x,gf:()=>B,mC:()=>U});var n=r(307824),i=r(120304),a=r(843148),o=r(277716),l=r(204792),s=r(542660),c=r(703520),d=r(71556),u=r(537096),p=r(560072),m=r(236952),_=r(321296),h=r(323576),g=r(441388),f=r(894764),E=r(990732),y=r(818388),b=r(147048),v=r(833492),I=r(103840),w=r(39676),T=r(325252),S=r(702400),C=r(778112),A=r(203736),O=r(393052),N=r(158196),L=r(740718),R=r(12244),P=r(579515),M=r(480232),k=r(372204),D=r(980328),F=r(824628);function x(e){let t=(0,i.w1)(e=>e.universalInsertModal),r=e.id,m=(0,i.w1)(e=>e.publishedWidgets[r]),A=(0,E.OY)(m),N=(0,i.OY)(),x=Object.values((0,f.Wm)()).find(t=>t.plugin_id===e.id),G=!!(0,f.Cg)().find(t=>t.id===e.id)&&!x,V=(0,i.w1)(e=>{var t,r;return null==(r=null==(t=e.dropdownShown)?void 0:t.data)?void 0:r.targetRect}),H=(0,v.g)(),W=(null==H?void 0:H.type)===B&&H.data.widgetId===r,K=(0,M.ai)().currentTab,Y=(0,S.k)(K),q=(0,I._T)(),j=(null==q?void 0:q.shouldOptimizeForIpadApp)||(0,a.Ub)().cmty_m10n_test_apple_os;n.useEffect(()=>{m||N(_.S0({id:r,resourceType:C.K2.WIDGET}))},[r,N,m]);let $=(0,k.M)();if((0,w.y_)(_.S0.loadingKeyForPayload({id:r,resourceType:C.K2.WIDGET}))&&!m)return n.createElement(c.M7,{className:D.kH});if(!m)return null;let Z=(0,T.Y9)(m);return n.createElement(g.kH,{name:"detail",properties:{resourceId:e.id,isMonetized:(0,C.OG)(m),resourceType:C.K2.WIDGET,editorType:"figjam"}},n.createElement(d.f,{height:(0,M.KQ)(t.pinned,500,M.uk)},n.createElement("div",{className:D.Ge},A&&n.createElement(P.EY,null),n.createElement("img",{className:e.onInsertableWidgetMouseDown?void 0:D.YD,onMouseDown:t=>{var r;return null==(r=e.onInsertableWidgetMouseDown)?void 0:r.call(e,t,Z)},src:Z.redirect_cover_image_url||"",alt:`${Z.name}`,width:b.Sw,height:b.Sw/2}),n.createElement("div",{className:D.wP},n.createElement(R.W,{resource:m})),n.createElement("div",{className:D.kr},n.createElement(o.C,{fallback:null,errorFallback:null,value:Z.description})))),!j&&n.createElement(s.c,{className:D.gT,href:`/community/widget/${r}`,target:"_blank",trusted:!0},n.createElement(u.A,{svg:F.c,className:D.e7}),n.createElement(p.Tx,{id:"whiteboard.inserts.see_more_details_in_community"})),W&&V&&n.createElement(L.Mx,{targetRect:V,lean:"left",minWidth:120,maxWidth:190,disableDropdownScrollContainer:!0,propagateCloseClick:!0},(null==x?void 0:x.error)||G?n.createElement(l.g.Option,{onClick:()=>{x&&x.error?N((0,h.A5)({type:O.s,data:{error:x.error,dispatch:N,resourceType:C.K2.WIDGET},showModalsBeneath:!0})):N((0,h.A5)({type:U,data:{dispatch:N},showModalsBeneath:!0}))}},n.createElement(p.Tx,{id:"whiteboard.inserts.in_development_version_error_dropdown"})):n.createElement(l.g.Option,{onClick:()=>{(0,y.I)({pluginID:Z.plugin_id,widgetName:Z.name,pluginVersionID:"",triggeredFrom:Y}),$()}},n.createElement(p.Tx,{id:"whiteboard.inserts.in_development_version_dropdown"})),n.createElement(l.g.Option,{onClick:()=>{(0,y.I)({pluginID:Z.plugin_id,widgetName:Z.name,pluginVersionID:Z.id,triggeredFrom:Y}),$()}},n.createElement(p.Tx,{id:"whiteboard.inserts.published_version_dropdown"}))))}let U=(0,A.U9)(function({dispatch:e}){return n.createElement(N.Co,{confirmationTitle:(0,p.t)("whiteboard.inserts.widget_development_error_modal_title"),content:(0,p.t)("whiteboard.inserts.widget_development_error_modal_description"),onConfirm:()=>{e(m.wb({resourceType:"widget"})),e(h.Kw())},dispatch:e,confirmText:(0,p.t)("whiteboard.inserts.widget_development_import_manifest"),size:"small",disableClickOutsideToHide:!0,hideOnConfirm:!1,cancelText:(0,p.t)("whiteboard.inserts.widget_development_error_modal_close"),hideCancel:!1,popStack:!0})},"FigjamPublishedDevelopmentWidgetErrorModal",A.Ou.YES),B="DROPDOWN_TYPE_WIDGET_DETAIL_SUBMENU"},78180:(e,t,r)=>{"use strict";r.d(t,{MN:()=>x,MR:()=>F,QT:()=>M,U_:()=>N,cS:()=>U,eA:()=>P,ow:()=>k,y6:()=>D});var n=r(307824),i=r(120304),a=r(899116),o=r(843148),l=r(204792),s=r(560072),c=r(236952),d=r(21156),u=r(323576),p=r(189432),m=r(894764),_=r(818388),h=r(147048),g=r(833492),f=r(572748),E=r(325252),y=r(778112),b=r(224100),v=r(70228),I=r(830814),w=r(393052),T=r(684591),S=r(927976),C=r(108688),A=r(740718),O=r(46592);function N(e){let t=(0,i.OY)(),r=(0,m.KM)()[e.widgetId],o=(0,E.Y9)(r),c=(0,m.aW)(e.widgetId),d=(0,m.uM)(e.widgetId),p=a.sZ&&!!d&&!c;return n.createElement(A.Mx,{targetRect:e.targetRect,lean:e.lean||"left",minWidth:120,maxWidth:190,disableDropdownScrollContainer:!0,propagateCloseClick:!0},(null==c?void 0:c.error)||p?n.createElement(l.g.Option,{onClick:()=>{c&&c.error?t((0,u.A5)({type:w.s,data:{error:c.error,dispatch:t,resourceType:y.K2.WIDGET},showModalsBeneath:!0})):t((0,u.A5)({type:O.mC,data:{dispatch:t},showModalsBeneath:!0}))}},"\u26A0 ",n.createElement(s.Tx,{id:"universal_insert.in_development_version"})):n.createElement(l.g.Option,{onClick:()=>{(0,_.I)({pluginID:o.plugin_id,widgetName:o.name,pluginVersionID:"",triggeredFrom:"universal-insert"})}},n.createElement(s.Tx,{id:"universal_insert.in_development_version"})),n.createElement(l.g.Option,{onClick:()=>{(0,_.I)({pluginID:o.plugin_id,widgetName:o.name,pluginVersionID:o.id,triggeredFrom:"universal-insert"})}},n.createElement(s.Tx,{id:"universal_insert.published_version"})))}function L({pluginId:e,preferences:t}){let{pinnedPlugins:r,pinPlugin:n,unpinPlugin:i}=t;return r.find(t=>t.plugin_id===e)?{displayText:(0,s.t)("dev_handoff.inspect_panel.unpin"),callback:()=>{i(e)}}:{displayText:(0,s.t)("dev_handoff.inspect_panel.pin"),callback:()=>{n(e)}}}function R({plugin:e}){let{callback:t,isPluginSetToAutoRun:r}=(0,v.G5)(e??null);return(0,v.cj)(e)&&(0,o.Ub)().dev_mode_auto_run_plugin?{displayText:(0,s.t)("dev_handoff.inspect_panel.auto_run"),callback:t,isChecked:r}:null}function P(e){let t=(0,i.OY)(),r=(0,g.g)(),a=(0,S.AR)(),o=(0,I.mC)(),l=(0,f.Ce)(),c=(0,m.u_)(),u=R({plugin:e.plugin}),p=n.useCallback(()=>{t(d.L2({url:e.resourceType===y.y4.PLUGIN?(0,T.me)(e.resourceId):(0,T.iO)(e.resourceId)}))},[t,e.resourceType,e.resourceId]),_=[];return(e.resourceType===y.y4.PLUGIN&&((0,E.eQ)(e.plugin,l,c)&&o.loaded&&_.push(L({pluginId:e.plugin.plugin_id,preferences:o})),u&&_.push(u)),_.push({displayText:(0,s.t)("universal_insert.copy_link"),callback:p}),r)?a?n.createElement(U,{parentRect:null==r?void 0:r.data.targetRect,items:_,autoHeight:!0,minWidth:u?220:void 0}):n.createElement(U,{parentRect:null==r?void 0:r.data.targetRect,lean:"left",minWidth:64,items:_}):null}let M="DROPDOWN_TYPE_SAVED_AND_RECENT_ACTIONS_DROPDOWN";function k(e){let t=(0,g.g)(),r=(0,I.mC)(),i=(0,S.AR)(),a=(0,f.Ce)(),o=(0,m.u_)(),l=R({plugin:e.plugin}),c=[];return(c.push({displayText:(0,s.t)("universal_insert.view_details"),callback:e.viewResource}),i&&((0,E.eQ)(e.plugin,a,o)&&r.loaded&&c.push(L({pluginId:e.plugin.plugin_id,preferences:r})),l&&c.push(l)),t)?i?n.createElement(U,{parentRect:null==t?void 0:t.data.targetRect,lean:"left",minWidth:64,items:c,autoHeight:!0}):n.createElement(U,{parentRect:null==t?void 0:t.data.targetRect,lean:"left",minWidth:64,items:c}):null}let D="DROPDOWN_TYPE_PLUGIN_USER_OPTIONS_DROPDOWN";function F(e){var t;if(!e.localResource&&!e.publishedResource)throw Error("Either localResource or publishedResource is required");let r=(0,S.AR)(),a=(0,i.OY)(),o=(0,g.g)(),l=Object.values((0,m.IX)()).find(t=>{var r;return t.plugin_id===(null==(r=e.publishedResource)?void 0:r.id)}),d=(0,I.mC)(),u=R({plugin:e.publishedResource?(0,E.Y9)(e.publishedResource):null}),_=e.localResource||l,f=(0,m.WK)(_?_.plugin_id:e.publishedResource.id),y=(0,m.uM)(_?_.plugin_id:e.publishedResource.id),v=e.publishedResource||f||y,w=!!(null==v?void 0:v.versions[v.current_plugin_version_id]),T=v?v.is_widget:null==_?void 0:_.manifest.containsWidget,C=(0,h.wD)(),A=(0,p.Yt)(_,v),O=(0,p.So)(v),N=(0,p.kD)(_,v,C),P=(0,p.gh)(_),M=(0,p.Us)(w,()=>{_&&a(c.gk(null==_?void 0:_.localFileId))});if(!o||!o.data.targetRect)return null;let k=[];(_&&!_.error||v)&&k.push(A),w&&e.viewResource&&k.push({displayText:(0,s.t)("universal_insert.view_details"),callback:e.viewResource}),w&&k.push(N),_&&(null==(t=_.error)?void 0:t.type)!==b.UT.LOAD&&k.push(P),_||k.push({displayText:(0,s.t)("universal_insert.locate_local_version"),callback:()=>{c.wb({resourceType:T?"widget":"plugin"})}});let D=[];v&&w&&d.loaded&&r&&D.push(L({pluginId:v.id,preferences:d})),w&&u&&D.push(u);let F=[];_&&F.push(M),O&&F.push(O);let x=k.some(Boolean)&&(F.some(Boolean)||D.some(Boolean))&&{displayText:"",separator:!0},B=F.some(Boolean)&&D.some(Boolean)&&{displayText:"",separator:!0};return n.createElement(U,{parentRect:o.data.targetRect,lean:"left",minWidth:u?220:120,rootAndSubmenuMaxWidth:u?void 0:190,disableDropdownScrollContainer:!0,hidePointWhenContentOffScreen:!0,dataTestId:"developmentResourceOptionDropdown",items:[...k,x,...D,B,...F].filter(e=>!!e)})}let x="DROPDOWN_TYPE_DEVELOPMENT_RESOURCE_OPTIONS_DROPDOWN";function U(e){let t=(0,i.OY)();return n.createElement(C.I,{...e,dispatch:t,showPoint:!0,type:A.aA.DEFAULT,onSelectItem:e=>{e.callback&&e.callback("",null,t)}})}},525804:(e,t,r)=>{"use strict";r.d(t,{C_:()=>k,Dn:()=>R,I$:()=>K,KS:()=>D,M7:()=>w,MN:()=>A,Mz:()=>I,Sk:()=>G,U7:()=>B,UD:()=>b,Ui:()=>N,Up:()=>U,WW:()=>H,Y3:()=>L,YB:()=>S,YJ:()=>x,cT:()=>P,gp:()=>F,o7:()=>M,uM:()=>O,us:()=>V,uy:()=>W,y6:()=>T});var n=r(307824),i=r(120304),a=r(721500),o=r(372152),l=r(594192),s=r(936756),c=r(103839),d=r(105516);r(698240);var u=r(560072),p=r(419380),m=r(299988),_=r(679804),h=r(456076);r(368672);var g=r(927976),f=r(990676),E=r(750496),y=r(763456);r(939164);let b=(0,a.I)(y.qub),v=(0,a.I)(y.OuU),I=(0,a.I)(y.i_R),w=44,T=(0,a.I)(y.a0$),S=(0,a.I)(y.yg5),C=(0,a.I)(y.A3q),A=(0,a.I)(y.MNp),O="#toolbar-action-component-insert",N="#toolbelt-action-component-insert",L=6,R=10,P=0,M=1,k=2;function D(e){let t=G(),r=(0,g.AR)(),n=(0,i.w1)(e=>e.universalInsertModal.pinned),a=(0,o.m4)(p._);if(m.kr.getIsExtension())return a-S-e;if(r)return window.innerHeight-S-e;let l=window.innerHeight-t.y-S-e;return n===h.a.PINNED_AND_DOCKED_LEFT?l:Math.min(v-e,l)}let F=n.createContext(null);function x(){return(0,l.wl)(n.useContext(F),"Must be wrapped within <FdBrowseResourceModalContext.Provider>")}function U(e){var t;if(!e)return{x:S,y:S};let r=document.querySelector(N);if(r){let e=r.getBoundingClientRect(),t=e?(null==e?void 0:e.top)-v-6:C;return{x:(null==e?void 0:e.x)||284,y:t}}{let e=null==(t=document.querySelector(O))?void 0:t.getBoundingClientRect();return{x:(null==e?void 0:e.x)||284,y:(null==e?void 0:e.bottom)||C}}}function B(){let e=(0,i.w1)(e=>e.mirror.appModel.showUi),t=G(),[r,a]=n.useState(e?new c.Cg(284,C):t);return n.useLayoutEffect(()=>{let t=()=>{if(!e)return;let{x:t,y:n}=U(!0);(t&&r.x!==t||n&&r.y!==n)&&a(new c.Cg(t,n))};return window.addEventListener("resize",t),t(),()=>window.removeEventListener("resize",t)},[e,r.x,r.y]),n.useEffect(()=>{e||a(t)},[t,e]),r}function G(){let e=(0,_.qE)();return n.useMemo(()=>new c.Cg(e.x+S,e.y+S),[e.x,e.y])}function V({containerClassName:e}){let t=(0,i.w1)(e=>e.universalInsertModal.pinned),{closeModal:r,pinModal:a}=x(),o=t===h.a.NOT_PINNED?n.createElement(E.E,{setPinned:a}):n.createElement(d.CA,{onClick:r});return n.createElement("div",{className:e},o)}function H(e){var t;if(!(null==(t=e.community_publishers)?void 0:t.accepted)||0===e.community_publishers.accepted.length)return"";let r=e.community_publishers.accepted[0].name;return 1===e.community_publishers.accepted.length?(0,u.t)("community.resource.by_creator",{spaceChar:" ",creator:r}):(0,u.t)("community.resource.by_more_than_2_creators",{spaceChar:" ",creator1:r,others:(0,u.t)("community.resource.by_x_others",{numPublishers:e.community_publishers.accepted.length-1})})}function W(e){let t=("community_publishers"in e?e.community_publishers??[]:[]).map(({profile:e})=>e).filter(e=>null!=e).map(e=>{var t,r,n;return(null==(t=e.user)?void 0:t.name)??(null==(r=e.team)?void 0:r.name)??(null==(n=e.org)?void 0:n.name)??""}),r=(0,f.SU)(e.plugin_id,t),n=r.length;if(0===n)return"";let i=r[0];return 1===n?(0,u.t)("community.resource.by_creator",{spaceChar:" ",creator:i}):(0,u.t)("community.resource.by_more_than_2_creators",{spaceChar:" ",creator1:i,others:(0,u.t)("community.resource.by_x_others",{numPublishers:n-1})})}function K(e){let t=H(e),r=e.unique_run_count,n=(0,u.t)("community.try.people_use_this",{numPeople:r,numPeopleStr:(0,s.aw)(r)});return`${t}${r>0?` \xb7 ${n}`:""}`}},98660:(e,t,r)=>{"use strict";let n,i;r.d(t,{o:()=>a,s:()=>o});var a=((n=a||{}).COMPONENT="component",n.PLUGIN="plugin",n.WIDGET="widget",n),o=((i=o||{})[i.MAIN=0]="MAIN",i[i.ORG_PRIVATE_EXPANDED_LIST=1]="ORG_PRIVATE_EXPANDED_LIST",i[i.ORG_ALLOWLIST_EXPANDED_LIST=2]="ORG_ALLOWLIST_EXPANDED_LIST",i)},962868:(e,t,r)=>{"use strict";let n,i;r.d(t,{CE:()=>l,S0:()=>a,mW:()=>o,sx:()=>s});let a="Make Something Modal",o="Make something modal V2 dismissal interacted";var l=((n=l||{}).BRAINSTORM_TEMPLATE_BUTTON_INTERACTED="Make something modal V2 brainstorm template interacted",n.TEAM_UPDATES_TEMPLATE_BUTTON_INTERACTED="Make something modal V2 team updates template interacted",n.TEAM_CHART_TEMPLATE_BUTTON_INTERACTED="Make something modal V2 team chart template interacted",n.PLANNING_AHEAD_TEMPLATE_BUTTON_INTERACTED="Make something modal V2 planning ahead template interacted",n),s=((i=s||{}).BRAINSTORM="BRAINSTORM",i.UPDATES="TEAM UPDATES",i.PLAN="PLANNING AHEAD",i.TEAM="TEAM CHART",i.NONE="NONE",i)},129388:(e,t,r)=>{"use strict";r.d(t,{Q3:()=>B,YF:()=>D,iu:()=>U});var n=r(307824),i=r(120304),a=r(916924),o=r(721500),l=r(329956),s=r(560072),c=r(323576),d=r(849208),u=r(997108),p=r(441388),m=r(927800),_=r(425652),h=r(90340),g=r(251596),f=r(61304),E=r(514916),y=r(915668),b=r(778112),v=r(793944),I=r(203736),w=r(158196),T=r(26048),S=r(300927),C=r(406484),A=r(102024),O=r(304408),N=r(574592),L=r(75620),R=r(517004),P=r(730400),M=r(763456),k=r(658632);function D(e,t){t.editorType=t.editorType||E.aE.WHITEBOARD,e(c.us({type:B.type,data:t}))}function F(e){let t;let{onTemplateInsertedCurrentFile:r,onTemplateInsertedNewFile:o,hideModal:p}=e,h=(0,i.OY)(),E=n.useRef(null),I=(0,g.sX)(),{templates:w,categoryTitles:T,duplicateFile:S,fileKey:M,searchQuery:D,searchTemplatesResult:F,setSearchQuery:x,categoryIds:U,subcategories:G}=(0,P.Qb)({source:"browse-templates-modal"}),V=w,{templates:H,categoryIds:W}=(0,P.Qb)({templatesShelfType:b.CW.FIGJAM_SIMPLE_TEMPLATES_PICKER}),K={};W.reduce((e,t)=>(e[t]=(0,s.t)("browse_templates_modal_sidebar.get_started"),e),K);let Y={...T,...K},q=1===W.length&&(0,u.iC)(I);q&&(V={...H,...V});let[j,$]=n.useState(),[Z,z]=n.useState(),Q=(0,l.t7)(V),X=j&&Object.values(V).find(e=>e.includes(j))||[],{insertTemplate:J,isInsertingTemplate:ee}=(0,_.Y7)(),et=(0,i.w1)(e=>j?e.hubFiles[j]:null),er=n.useCallback(()=>{"newFile"===e.triggeredFrom&&h(d.s({figjam_templates_picker_new_file_closed:!0})),p?p():h(c.ek(B))},[e.triggeredFrom,h,p]),en=n.useCallback(()=>{r?r():er()},[r,er]);n.useEffect(()=>{let t=U.filter(t=>T[t]===e.initiallySelectedCategoryTitle);1===t.length&&z(t[0])},[U,T,e.initiallySelectedCategoryTitle]),n.useEffect(()=>{var e;null==(e=E.current)||e.scrollTo(0,0),j&&et&&(0,m.U)("resource_previewed",{fileKey:M,resourceType:"template",resourceName:(0,f.oF)(et).name,resourceId:j,triggeredFrom:"browse-templates-modal",templateType:y.e.HubFile})},[j,M,et]);let ei=!D,ea=(0,_.K_)(),eo=(0,_.AT)(),el=e=>ee(e)||eo(e),es=t=>{if(e.templateInsertionLocation===f.AH.CURRENT_FILE)J({template:t,onSuccess:en,triggeredFrom:"browse-templates-modal"});else{switch(t.type){case y.e.HubFile:S(t.template.id);break;case y.e.TeamTemplate:ea({templateIdentifier:{type:v.y4.TeamTemplate,file_key:t.template.file_key},templateName:t.template.name,openInNewTab:!0});break;default:(0,a.gy)(t)}null==o||o()}};return j?(t=n.createElement(A.U,{templateId:j,templateInsertionLocation:e.templateInsertionLocation,insertTemplate:es,isInsertingTemplate:el(j),moreTemplateIds:X,selectTemplate:$}),ei=!1):t=D?n.createElement(O.a,{searchQuery:D,hubFileResultIds:F,isInsertingTemplate:el,onInsertTemplate:es,onPreviewHubFileTemplate:$}):Z===N.Q?n.createElement(R.iQ,{insertTemplate:es,isInsertingTemplate:el,templateInsertionLocation:e.templateInsertionLocation}):Q?n.createElement(n.Fragment,null):n.createElement(C.O,{templates:V,categoryIds:U,categoryTitles:Y,selectedCategory:Z,selectCategory:z,enterCommunityUrl:"/community/figjam",templateInsertionLocation:e.templateInsertionLocation,previewHubFile:$,onInsertTemplate:es,isInsertingTemplate:el}),n.createElement(n.Fragment,null,n.createElement(L.m,{editorType:e.editorType,triggeredFrom:e.triggeredFrom,searchQuery:D,setSearchQuery:x,previewTemplateId:j,goBack:()=>$(void 0),hideModal:er}),n.createElement("div",{className:k.YX,ref:E},ei&&n.createElement(N.K,{categoryIds:U,categoryTitles:Y,selectedCategory:Z,selectCategory:z,shouldShowMakeSomethingV2:q,makeSomethingCategoryId:q?W[0]:"",triggeredFrom:e.triggeredFrom,subcategories:G}),t))}function x(e){let t=(0,i.OY)(),{hideModal:r,hideTintedModalBackground:a}=e,l=n.useCallback(()=>{r?r():t(c.ek(B))},[t,r]),s="newFile"===e.triggeredFrom,d="whiteboard"===e.editorType?s?k.cz:k.wJ:s?k.sD:k.kl,{properties:u,name:m}=(0,p.U1)();return n.createElement(w.wJ,{dispatch:t,className:d,backgroundClassName:s?k.U$:void 0,size:(0,o.I)(M.YTE),onHide:()=>{(0,h.a2)({...u,trackingContext:m,text:S.O}),l()},tintedModalBackground:!a},n.createElement(F,{...e}))}function U(e){let t=(0,i.w1)(e=>e.openFile?e.openFile.key:null);return n.createElement(p.kH,{name:"template_modal_shown",properties:{fileKey:t,source:e.triggeredFrom}},n.createElement(x,{...e}))}let B=(0,I.U9)(U,"BrowseTemplatesModal"),G=(e=!0,t)=>({modalType:T.GK.WELCOME,trackingContextName:"Browse Templates Modal",element:r=>n.createElement(U,{editorType:E.aE.WHITEBOARD,templateInsertionLocation:f.AH.CURRENT_FILE,triggeredFrom:"newFile",hideModal:t?r.onClickPrimaryCta:r.dismissModal,hideTintedModalBackground:e})});G(),G(!0,!0),G(!1)},621832:(e,t,r)=>{"use strict";r.d(t,{At:()=>K,CA:()=>k,Ex:()=>W,MJ:()=>Y,U3:()=>M,iK:()=>U,m_:()=>F,o9:()=>x});var n=r(307824),i=r(120304),a=r(125504),o=r.n(a),l=r(594544),s=r(916924),c=r(656716),d=r(506616),u=r(455200),p=r(838836),m=r(971376),_=r(204792),h=r(703520),g=r(698240),f=r(560072),E=r(21156),y=r(403132),b=r(90340),v=r(432380),I=r(846004),w=r(833492),T=r(61304),S=r(472956),C=r(915668),A=r(826876),O=r(848688),N=r(512704),L=r(605936),R=r(730400),P=r(658632);function M(e){return n.createElement("div",{className:P.aW},e.children)}function k({template:e}){var t,r;let i=(0,w.g)(),{primaryKey:a}=(0,v.ak)()(e);return(null==i?void 0:i.type)===R.$E&&(null==(t=null==i?void 0:i.data)?void 0:t.templatePrimaryKey)===a&&(null==(r=i.data)?void 0:r.position)?n.createElement(D,{template:e,position:i.data.position}):null}function D({template:e,position:t}){var r,a;let o=(0,i.OY)(),{viewSourceFileUrl:s,duplicateLink:u,primaryKey:p}=(0,v.ak)()(e),m=e.type===C.e.TeamTemplate,b=(0,d.Qb)(S.MXg,{key:p},{enabled:m});return n.createElement(_.g.Dropdown,{style:{...t,position:"fixed"}},n.createElement(_.g.Option,{onClick:()=>{o(y.yi()),o(E.L2({url:u}))}},n.createElement(f.Tx,{id:"browse_templates_modal.context_menu.copy_link"})),s&&m&&n.createElement(_.g.Option,{onClick:()=>{o(y.yi()),c.default.redirect(s,"_blank")},disabled:"loading"===b.status||"disabled"===b.status||!(null==(a=null==(r=b.data)?void 0:r.file)?void 0:a.hasPermission)},n.createElement(l.gR,{width:"fill-parent",horizontalAlignItems:"space-between",verticalAlignItems:"center",spacing:8},n.createElement("span",null,n.createElement(f.Tx,{id:"browse_templates_modal.context_menu.view_original_file"})),n.createElement(h.M7,{className:g.cx.if("loading"!==b.status,g.cx.invisible).$}))))}function F(e){let{clientMeta:t,imageUrl:r,thumbnailIsSet:i,isWhiteboard:a,name:o,publishers:l,hubFileId:s,resizedThumbnailUrls:c}=(0,v.ak)()(e.template),d=(0,R.Yv)(e.template),u=(0,O.cH)();return n.createElement(n.Fragment,null,n.createElement(A.Cq,{onContextMenu:d,image:n.createElement(A.cm,{backgroundColor:(0,I.qi)(t)},n.createElement(A.Oe.Cover,null,n.createElement("button",{className:P.a8,onClick:e.onInsert,disabled:e.isInsertingTemplate||u})),n.createElement(A.Oe.Center,null,n.createElement(L.S,{insertTemplate:e.onInsert,isInsertingTemplate:e.isInsertingTemplate,shouldUseOpaqueBackground:!0},(0,T.dt)(e.templateInsertionLocation))),n.createElement(N.IN,{image:r,isSet:i,isWhiteboard:a,hubFileId:s,alt:o,resizedThumbnailUrls:c})),bottomRow:n.createElement(A.es.FullMetadata,{name:o,publishers:l,hoverText:e.onPreview?(0,f.t)("browse_templates_modal.view_details"):void 0,onClick:e.onPreview||p.Kw})}),n.createElement(k,{template:e.template}))}function x(e){let t=(0,i.w1)(t=>t.hubFiles[e.hubFileId]);return n.createElement(F,{template:{template:t,type:C.e.HubFile},onInsert:()=>e.onInsert({template:t,type:C.e.HubFile}),isInsertingTemplate:e.isInsertingTemplate,onPreview:e.previewHubFile,templateInsertionLocation:e.templateInsertionLocation})}function U({url:e,fileKey:t}){return n.createElement("a",{href:e,target:"_blank"},n.createElement(m.wX,{className:P.gZ,onClick:()=>{(0,b.a2)({fileKey:t,uiSelectedView:"see_more_button",name:"Templates Modal Browse More"},"cta_clicked")}},n.createElement(f.Tx,{id:"browse_templates_modal_content.see_more_in_community"})))}function B(){return n.createElement("div",{className:g.cx.flex.itemsCenter.h40.my8.wFull.$},n.createElement(G,null))}function G(){return n.createElement("div",{className:o()(g.cx.w100.h16.bRadius3.$,P.gl)})}function V({lightness:e="normal"}){let t=function(e){switch(e){case"normal":return P.gl;case"light":return P.qu;case"lightest":return P.Ki;default:(0,s.gy)(e)}}(e);return n.createElement(A.Cq,{image:n.createElement(A.cm,{removeBorder:!0},n.createElement("div",{className:o()(t,g.cx.wFull.hFull.$)})),bottomRow:n.createElement("div",{className:o()(t,g.cx.h16.w100.bRadius3.$)})})}function H({shouldFade:e}){return n.createElement(n.Fragment,null,(0,u.ik)(3).map(t=>{let r="normal";return e&&(r=2===t?"lightest":1===t?"light":"normal"),n.createElement(V,{key:t,lightness:r})}))}function W(){return n.createElement("div",{className:g.cx.px24.$},n.createElement(B,null),n.createElement(M,null,n.createElement(H,null),n.createElement(H,null),n.createElement(H,{shouldFade:!0})))}function K({shouldFade:e}){return n.createElement("div",{className:g.cx.pb20.$},n.createElement("div",{className:g.cx.h24.mb16.$},n.createElement(G,null)),n.createElement(M,null,n.createElement(H,{shouldFade:e})))}function Y(){return n.createElement(l.gR,{width:"fill-parent",height:"fill-parent",verticalAlignItems:"center",horizontalAlignItems:"center"},n.createElement(h.M7,{size:"large"}))}},517004:(e,t,r)=>{"use strict";r.d(t,{iQ:()=>C,qJ:()=>S,sn:()=>T});var n=r(307824),i=r(125504),a=r.n(i),o=r(139776),l=r(204792),s=r(76952),c=r(537096),d=r(698240),u=r(560072),p=r(597624),m=r(423944),_=r(572748),h=r(795236),g=r(915668),f=r(681072),E=r(187044),y=r(14692),b=r(621832),v=r(658632),I=r(599628),w=r(1196);function T({filterOptions:e,selectedIds:t,isMyTeamsOnly:r,onFilterChange:i,userTeamOrWorkspaceOrLicenseGroupIds:a,showWorkspaces:s,rightAlignOptions:c=!0}){let _=new Set(t||e.map(e=>e.id)),h=[],g=[],y=[],b=!1;for(let t of e)_.has(t.id)&&y.push(t),(0,m.M$)(t)?b=!0:a.has(t.id)?h.push(t):g.push(t);(0,o.E1)(h,"name"),(0,o.E1)(g,"name");let v=h.filter(e=>_.has(e.id)),I=g.filter(e=>_.has(e.id)),w=function({filterOptionsCount:e,userMemberFilterOptionsSelected:t,userNonMemberFilterOptionsSelected:r,isMyTeamsOnly:n,showWorkspaces:i,unassignedTeamsSelected:a}){let o=[...t,...r],l=o.length+(a?1:0);return 0===l?(0,u.t)("browse_templates_modal.none_selected"):l===e?i?n?(0,u.t)("browse_templates_modal.my_teams_only"):(0,u.t)("browse_templates_modal.all_workspaces"):(0,u.t)("browse_templates_modal.all_teams"):1===l?a?(0,u.t)("browse_templates_modal.other_teams"):o[0].name:(0,u.t)("browse_templates_modal.first_name_count_more",{count:l-1,firstName:o[0].name})}({filterOptionsCount:e.length,userMemberFilterOptionsSelected:v,userNonMemberFilterOptionsSelected:I,showWorkspaces:s,isMyTeamsOnly:r,unassignedTeamsSelected:_.has(f.C)}),T=(e,t)=>{i({ids:e?y.reduce((e,r)=>r.id===t.id?e:[...e,r.id],[]):[...y.map(e=>e.id),t.id],myTeamsOnly:r})},S=(e,t)=>{let n=new Set(_);e.forEach(e=>{t?n.add(e.id):n.delete(e.id)}),i({ids:Array.from(n),myTeamsOnly:r})},C=[];if(s){if(C.push(...[...h,...g].filter(e=>!!e.id).map(e=>{let t=_.has(e.id);return n.createElement(l.g.CheckableOptionTrackable,{key:e.id||e.name,checked:t,onClick:()=>{T(t,e)},displayType:l.g.CheckableDisplayType.Checkbox},e.name)})),C.length&&C.unshift(n.createElement(l.g.Separator,{key:"my-teams-only-separator"})),C.unshift(n.createElement(l.g.CheckableOptionTrackable,{key:"my-teams-only",checked:r,onClick:()=>i({ids:t,myTeamsOnly:!r}),displayType:l.g.CheckableDisplayType.Checkmark},n.createElement(u.Tx,{id:"browse_templates_modal.my_teams_only"}))),b){let e=_.has(f.C);C.push(...[n.createElement(l.g.Separator,{key:"unassigned-teams-separator"}),n.createElement(l.g.CheckableOptionTrackable,{key:"unassigned-teams",checked:e,onClick:()=>{T(e,{id:f.C})},displayType:l.g.CheckableDisplayType.Checkbox},n.createElement(u.Tx,{id:"browse_templates_modal.other_teams"}))])}}else h.length>0&&C.push(n.createElement(l.g.CheckableOptionTrackable,{displayType:l.g.CheckableDisplayType.Checkbox,key:"my-teams",checked:h.length===v.length,mixed:h.length>v.length&&v.length>0,onClick:()=>{S(h,v.length<h.length)}},n.createElement(u.Tx,{id:"browse_templates_modal.my_teams"}))),C.push(...h.map(e=>{let t=_.has(e.id);return n.createElement(l.g.CheckableOptionTrackable,{key:e.id||e.name,checked:t,onClick:()=>{T(t,e)},displayType:l.g.CheckableDisplayType.Checkbox,nested:!0},e.name)})),h.length>0&&g.length>0&&C.push(n.createElement(l.g.Separator,{key:"other-teams-separator"})),g.length>0&&C.push(n.createElement(l.g.CheckableOptionTrackable,{key:"other-teams",displayType:l.g.CheckableDisplayType.Checkbox,checked:g.length===I.length,mixed:g.length>I.length&&I.length>0,onClick:()=>{S(g,I.length<g.length)}},n.createElement(u.Tx,{id:"browse_templates_modal.all_others"}))),C.push(...g.map(e=>{let t=_.has(e.id);return n.createElement(l.g.CheckableOptionTrackable,{key:e.id||e.name,checked:t,onClick:()=>{T(t,e)},displayType:l.g.CheckableDisplayType.Checkbox,nested:!0},e.name)}));return C.length?n.createElement(p.g,{spacing:0,width:"hug-contents"},n.createElement("span",{className:d.cx.colorTextSecondary.$},n.createElement(u.Tx,{id:"browse_templates_modal.published_from"})),n.createElement(l.g.DropdownSelector,{label:w,noBorder:!0,rightAlignOptions:c,stayOpenOnSelect:!0,optionsBelowSelector:!0,options:C,notDraggable:!0,noRightPadding:!0,menuTrackingContextName:E.i8.TEMPLATES_BROWSE_FILTERS,menuTrackingProperties:{isEnterpriseOrg:s}})):null}function S(e){let[t,r]=(0,n.useState)(!0),i=(0,n.useRef)(null),o=(0,n.useRef)(!1);return(0,n.useEffect)(()=>{var e;!0!==o.current||t||null==(e=i.current)||e.scrollIntoView()},[t]),n.createElement("section",null,n.createElement("button",{className:a()(d.cx.wFull.alignLeft.sticky.top0.zIndexTemplateModalTeamName.font13.my8.h40.fontMedium.colorBg.$,v.qK),onClick:()=>r(!t),ref:i},n.createElement("h2",null,n.createElement(c.A,{className:d.cx.relative.inlineFlex.justifyCenter.colorIconTertiary.mx2.w16.$,style:{top:"-2px"},svg:t?I.c:w.c}),e.workspaceName&&n.createElement("span",{className:d.cx.colorTextSecondary.fontNormal.$},e.workspaceName," / "),e.teamName)),t&&n.createElement(n.Fragment,null,n.createElement("div",{className:d.cx.if(e.minimalSpacing,d.cx.px0.mb0,d.cx.px24.mb20).$},e.children),n.createElement(s.w,{"data-testid":`load-more-team-${e.teamId}`,onIntersectionChange:({isIntersecting:t})=>{t&&e.onRequestLoadMoreForTeam(e.teamId)}})),n.createElement(s.w,{onIntersectionChange:({isIntersecting:e})=>{o.current=e}}))}function C(e){let t=(0,n.useRef)(null),r=(0,_.Ce)(),i=(0,h.C_)(r),{filterOptions:a,selectedTeamOrWorkspaceOrLicenseGroupIds:o,isMyTeamsOnly:l,onFilterChange:c,requestLoadMore:f,requestLoadMoreForTeam:E,templatesByTeam:v,userTeamOrWorkspaceOrLicenseGroupIds:I,isLoadingTeamTemplates:w}=(0,m.gz)(r);return n.createElement("div",{className:d.cx.wFull.$},n.createElement(p.g,{horizontalAlignItems:"space-between",height:56,padding:{left:24,right:24},strokeWidth:{bottom:1},strokeColor:"default"},n.createElement("div",{className:d.cx.font13.fontMedium.$},n.createElement(u.Tx,{id:"browse_templates_modal.published_by_current_org_name",orgName:r.name})),n.createElement(T,{filterOptions:a,selectedIds:o,isMyTeamsOnly:l,onFilterChange:e=>{var r;"function"==typeof(null==(r=t.current)?void 0:r.scroll)&&t.current.scroll({top:0,behavior:"smooth"}),c(e)},userTeamOrWorkspaceOrLicenseGroupIds:new Set(I),showWorkspaces:i})),0===v.length?w?n.createElement(b.Ex,null):n.createElement(y.Ah,null):n.createElement("section",{className:d.cx.overflowYScroll.$,ref:t,style:{height:"calc(100% - 56px)"}},v.map(({team_id:t,team_name:r,workspace_name:a,templates:o})=>n.createElement(S,{key:t,teamName:r,workspaceName:i?a:null,teamId:t,onRequestLoadMoreForTeam:E},n.createElement(b.U3,null,o.map(t=>n.createElement(b.m_,{templateInsertionLocation:e.templateInsertionLocation,key:t.file_key,template:{template:t,type:g.e.TeamTemplate},onInsert:()=>e.insertTemplate({template:t,type:g.e.TeamTemplate}),isInsertingTemplate:e.isInsertingTemplate(t.file_key)}))))),n.createElement(s.w,{"data-testid":"load-more-teams",className:d.cx.relative.$,style:{bottom:"250px"},onIntersectionChange:({isIntersecting:e})=>{e&&f()}})))}},730400:(e,t,r)=>{"use strict";r.d(t,{$E:()=>S,E$:()=>A,Yv:()=>C,Qb:()=>T});var n=r(307824),i=r(120304),a=r(972920),o=r(843148),l=r(87975),s=r(560072),c=r(814104),d=r(796116),u=r(403132),p=r(927800),m=r(90340),_=r(432380),h=r(61304),g=r(514916),f=r(39676),E=r(187007),y=r(915668),b=r(778112),v=r(601716);let I={},w={};function T(e){var t;let{templatesShelfType:r,source:l}=e,u=(0,i.OY)(),[p]=n.useState(()=>new E.ei([],{keys:["name"]})),_=r||b.CW.FIGJAM_TEMPLATES_PICKER,g=c.UR.loadingKeyForPayload({shelfType:_}),y=(0,f.y_)(g),v=(0,f.IT)(g),I=(0,i.w1)(e=>e.hubFiles),w=(0,i.w1)(e=>e.communityHub.shelves[_]),T=(0,i.w1)(e=>e.openFile?e.openFile.key:null),S=null==(t=(0,o.cp)().user_data)?void 0:t.id,[C,A]=n.useState(""),[O,N]=n.useState([]),L=n.useMemo(()=>(w||[]).reduce((e,t)=>({...e,[t.id]:t.shelf_content.map(e=>e.id)}),{}),[w]),R=n.useMemo(()=>(w||[]).reduce((e,t)=>({...e,[t.id]:(0,s.wj)(t.i18n_meta.title,t.title)}),{}),[w]),P=n.useMemo(()=>(w||[]).map(({id:e})=>e),[w]),M=n.useCallback(e=>{let t=I[e],r=(0,h.oF)(t);u(d.k5({hubFileId:e,hubFileName:r.name||"this file",openInNewTab:!0,source:l}))},[u,I,l]);return n.useEffect(()=>{y||v||u(c.UR({shelfType:_}))},[u,v,y,_]),n.useEffect(()=>{let e=Object.keys(L).reduce((e,t)=>[...e,...L[t]],[]).map(e=>(0,h.oF)(I[e]));p.set(e)},[L,I,p]),n.useEffect(()=>{let e;C?(e=[...new Set(e=p.search(C).map(e=>e.hub_file_id))],(0,m.a2)({userId:S,fileKey:T,entry_point:"templates_modal",scope:"Templates Modal"},"search_query_result")):e=[],N(e)},[C,S,T,p]),{templates:L,categoryTitles:R,hubFiles:I,isLoading:y,duplicateFile:M,fileKey:T,userId:S,setSearchQuery:n.useCallback((0,a.C)(A,300),[]),searchQuery:C,searchTemplatesResult:O,categoryIds:P,subcategories:n.useMemo(()=>{if(!w)return[];let e={activity:(0,s.t)("browse_templates_modal.subcategory.activity"),role:(0,s.t)("browse_templates_modal.subcategory.role")},t=[];return w.forEach(r=>{if(!r.shelf_meta.category)return;let n=r.shelf_meta.category,i=t.find(e=>e.id===n);i?i.categoryIds.push(r.id):t.push({id:n,title:e[n]||n,categoryIds:[r.id]})}),t},[w])}}let S="templates_context_menu";function C(e){let t=(0,i.OY)(),{primaryKey:r}=(0,_.ak)()(e);return n.useCallback(e=>{e.preventDefault();let n={templatePrimaryKey:r,position:{top:e.clientY,left:e.clientX}};t(u.Qn({type:S,data:n}))},[t,r])}function A(e){let{additionalCtaLoggingProps:t,templateId:r,source:a,forceOpenNewTab:o=!1}=e,s=(0,i.OY)(),[c]=(0,n.useState)(()=>new Promise(e=>(function(e,t){if(w[e]){t(w[e]);return}I[e]||(I[e]=[],v._.getVersions({id:e}).then(t=>{if(!t)return;let{data:r}=t,n=r.meta;w[e]=n,I[e].map(e=>e(n)),I[e]=[]})),I[e].push(t)})(r,e)));return async(e,n)=>{let i=await c,u=(0,h.oF)(i);s(d.k5({hubFileId:r,hubFileName:(null==u?void 0:u.name)||"this file",openInNewTab:!!o||(0,l.mM)(e),folderId:void 0,source:a,callback:e=>{(0,m.a2)({fileKey:e,templateId:r,productType:i.viewer_mode===g.C0.WHITEBOARD?"figjam":"design",...t}),(0,p.U)("resource_inserted",{fileKey:e,resourceId:r,resourceName:null==u?void 0:u.name,resourceType:"template",templateType:y.e.HubFile,triggeredFrom:a}),null==n||n(e)}}))}}},365676:(e,t,r)=>{"use strict";r.d(t,{oR:()=>j,s1:()=>eu});var n=r(307824),i=r(120304),a=r(125504),o=r.n(a),l=r(760780),s=r(167568),c=r(843148),d=r(623131),u=r(372152),p=r(365224),m=r(470200),_=r(570464),h=r(180976),g=r(103839),f=r(557044),E=r(102184),y=r(148276),b=r(426488),v=r(71556),I=r(537096),w=r(560072),T=r(317704),S=r(326300),C=r(755696),A=r(21156),O=r(323576),N=r(849208),L=r(833492),R=r(306440),P=r(919364),M=r(104536),k=r(203736),D=r(24588),F=r(235020),x=r(101040),U=r(541636),B=r(168572),G=r(451776),V=r(837040),H=r(944708),W=r(674060),K=r(873956),Y=r(131343),q=r(392596);let j=(0,d.Zf)(!1),$=e=>e.map(e=>{let t=e.name.match(/((.*)\s+-\s+)?(.*)/);return{optionCategoryName:t&&t[2]||"Other",optionSubareaName:t&&t[3]||e.name,gid:e.gid}}).reduce((e,t)=>{let r=e.get(t.optionCategoryName);return r||(r=[],e.set(t.optionCategoryName,r)),r.push({name:t.optionSubareaName,gid:t.gid}),e},new Map),Z=e=>{let t=e.match(/app\.asana\.com\/\d\/\d+\/(\d+)/);if(!t||t.length<2)throw Error((0,w.t)("bug_reporter.error_invalid_asana_url"));return t[1]};function z(e){return!Q(e)}function Q(e){return"error"in e}let X={gid:"",name:"Pick an option"},J="bugReporter",ee=(0,d.Zf)(!0),et=(0,d.Zf)(""),er=(0,d.Zf)(""),en=(0,d.Zf)(""),ei=(0,d.Zf)(X),ea=(0,d.Zf)(X),eo=(0,d.Zf)(!1),el=n.createElement("div",{className:G.iC},"WARNING: because the title begins with TEST: your bug will be routed to the ",n.createElement("a",{className:G.ug,href:"https://app.asana.com/0/1203643376438098/list",target:"_blank"},n.createElement(w.Tx,{id:"bug_reporter.warning_asana_board"}))," and the Slack channel ",n.createElement("a",{className:G.ug,href:"https://figma.slack.com/archives/C04C0EWEWSD",target:"_blank"},n.createElement(w.Tx,{id:"bug_reporter.slack_testing_channel"})));function es(e){let t=(0,L.g)(),r=(0,i.OY)(),a=(0,h.Et)(),{windowInnerHeight:d}=(0,s.U)(),[p,m]=(0,u.lZ)(et),[g,f]=(0,u.lZ)(er),[S,A]=(0,u.lZ)(en),[O,N]=(0,u.lZ)(ei),[R,P]=(0,u.lZ)(ea),[M,k]=(0,u.lZ)(eo),[U,H]=n.useState(!0),[W,Y]=n.useState(!1),[q,j]=n.useState([]),[$,z]=n.useState(void 0),Q=d-(a+x.ov+b.sh)-b.Yh;(0,l.u)(()=>{!0===M&&(X(),k(!1))});let X=()=>{H(!0),j([]),e.clearForm()},ee=()=>!!(!e.isSubmitting&&g.trim()&&S.trim())&&(!e.isNewReport||!!O.gid&&!!R.gid),es=t=>{if(t)try{let r=Z(t);e.attachFromTask(r)}catch(e){r(T.A.enqueue({message:`${e}`,error:!0}))}},ed=_.ic(_.Mx(J,"link-input"),"change",e=>{let t=e.target.value;m(t),""===t&&X()}),eu=_.ic(_.Mx(J,"title-input"),"change",e=>{f(e.target.value)}),ep=_.ic(_.Mx(J,"description-input"),"change",e=>{A(e.target.value)}),em=_.AJ(_.Mx(J,"severity-input")??"","change",e=>{N(e)}),e_=_.AJ(_.Mx(J,"product-area-input")??"","change",e=>{P(e)}),eh=n.useCallback(e=>{let t=[],n=[];for(let r of e)if(r.size>52428800)n.push(r.name);else{let e=URL.createObjectURL(r);t.push({fileContent:r,url:e,name:r.name,type:r.type})}if(n.length>0){let e=`Error: files could not be attached (over 50MB limit): [${n.join(", ")}].`;console.error(e),r(T.A.enqueue({error:!0,message:e}))}return t},[r]),eg=e=>{if(e.files.length>0){let t=eh([...e.files]);j(e=>[...e,...t])}Y(!1)},ef=_.ic(_.Mx(J,"include-filekey-input"),"change",e=>{H(e.currentTarget.checked)}),eE=_.Un(J,"submit",t=>{t.preventDefault(),ee()&&e.submitBugReport(g,S,O,R,U,q,$)}),ey=(e,t)=>{let r=e.target;"Enter"===e.key&&(e.metaKey||e.ctrlKey?eE(e):("description"!==t&&e.preventDefault(),"asanaInput"===t&&es(p))),"Escape"===e.key&&r&&r.blur()},eb=_.ag(_.Mx(J,"asanaInput"),"keydown",e=>{ey(e,"asanaInput")});return n.createElement(E.g,{className:o()(W&&G.wJ),isDragTarget:()=>!0,onTargetDragEnter:()=>{Y(!0)},onTargetDragLeave:()=>{Y(!1)},onTargetDrop:e=>eg(e)},W&&n.createElement("div",{className:G.Il},n.createElement(I.A,{svg:V.c}),n.createElement(w.Tx,{id:"bug_reporter.drop_attachments"})),n.createElement(v.f,{maxHeight:Q,hideScrollbar:W},n.createElement("form",{onSubmit:eE,onPaste:e=>{if(e.clipboardData.files.length>0){let t=eh([...e.clipboardData.files]);j(e=>[...e,...t])}},className:o()(G.kl,W&&G.or)},n.createElement("div",{className:G.SQ},n.createElement(D.iM,{className:G.W8},n.createElement(w.Tx,{id:"bug_reporter.asana_hint"})),n.createElement(y.QT,{className:G.MT,placeholder:(0,w.t)("bug_reporter.modal.asana_link_placeholder"),value:p,onChange:ed,onPaste:e=>{let t=e.clipboardData.getData("text");try{Z(t),es(t)}catch{}},onKeyDown:eb,maxLength:150})),n.createElement("div",null,n.createElement(D.iM,{className:G.Sq},n.createElement(w.Tx,{id:"bug_reporter.modal.title"})),n.createElement(y.QT,{className:G.MT,placeholder:(0,w.t)("bug_reporter.modal.title_placeholder"),autoFocus:!0,onKeyDown:e=>ey(e,"title"),value:g,onChange:eu,maxLength:150})),n.createElement("div",null,n.createElement(D.iM,{className:G.Sq},n.createElement(w.Tx,{id:"bug_reporter.modal.severity"})),n.createElement(F.M1,{id:"bug_reporter_select_severity",dispatch:r,property:O,onChange:em,dropdownShown:t,formatter:{format:e=>e.name,isEqual:(e,t)=>e.gid===t.gid}},0===e.severityOptions.length&&n.createElement(F.cb,{key:"loading",disabled:!0},n.createElement(w.Tx,{id:"bug_reporter.modal.loading"})),e.severityOptions.map(e=>n.createElement(F.cb,{value:e,key:e.gid},e.name)))),n.createElement("div",null,n.createElement(D.iM,{className:G.Sq},n.createElement(w.Tx,{id:"bug_reporter.modal.product_area"})),n.createElement(F.M1,{id:"bug_reporter_select_product_area",dispatch:r,property:R,onChange:e_,dropdownShown:t,formatter:{format:e=>e.name,isEqual:(e,t)=>e.gid===t.gid}},(()=>{if(0===e.productAreaGroups.size)return n.createElement(F.cb,{value:null,key:"loading",disabled:!0},n.createElement(w.Tx,{id:"bug_reporter.modal.loading"}));let t=[];return e.productAreaGroups.forEach((e,r)=>{t.push(n.createElement(F.cb,{value:null,key:r,disabled:!0},r)),e.forEach(e=>t.push(n.createElement(F.cb,{value:e,key:e.gid},e.name))),t.push(n.createElement(F.Wy,{key:`${r}.divider`}))}),t.pop(),t})())),n.createElement("div",null,n.createElement(D.iM,{className:G.Sq},n.createElement(w.Tx,{id:"bug_reporter.modal.description"})),n.createElement(y.QT,{className:[G.MT,G.Ut].join(" "),placeholder:(0,w.t)("bug_reporter.modal.description_placeholder"),type:"textarea",value:S,onChange:ep,onKeyDown:e=>ey(e,"description"),maxLength:1e3})),n.createElement("div",null,n.createElement(D.iM,{className:G.Sq},n.createElement(w.Tx,{id:"bug_reporter.modal.images_and_videos"})),n.createElement(ec,{attachmentFiles:q,setAttachmentFiles:j,validateInputFiles:eh})),n.createElement("div",null,(0,c.Ub)().in_app_performance_profiling&&n.createElement(n.Fragment,null,n.createElement(D.iM,{className:G.Sq},n.createElement(w.Tx,{id:"bug_reporter.profiler.title"})),n.createElement(B._,{onProfilingFinish:e=>{z(e)}}),$&&n.createElement(w.Tx,{id:"bug_reporter.profiler.profile_attached"}))),"fullscreen"===e.selectedView.view&&n.createElement("div",{className:G.uM},n.createElement(C.y,{checked:U,onChange:ef,label:(0,w.t)("bug_reporter.modal.include_filekey")}),n.createElement("div",{className:G.uu},n.createElement(I.A,{svg:K.c}),n.createElement("div",{className:G.CM},n.createElement(w.Tx,{id:"bug_reporter.modal.include_filekey_info"})))),g.startsWith("TEST:")&&el,n.createElement(y.ec,{className:G.E$},n.createElement(y.wX,{onClick:e.onClose,type:"button"},n.createElement(w.Tx,{id:"bug_reporter.modal.cancel"})),n.createElement(y.gV,{type:"submit",disabled:!ee()},(0,w.t)("bug_reporter.modal.submit"))))))}function ec(e){let{attachmentFiles:t,setAttachmentFiles:r,validateInputFiles:i}=e,a=n.useRef(null),o=n.useCallback(()=>{a.current&&(a.current.value="")},[]),l=n.useCallback(()=>{var e;let t=(null==(e=a.current)?void 0:e.files)||null;if(null===t||0===t.length)return;let n=i([...t]);r(e=>[...e,...n]),o()},[o,i,r]),s=(e,t,n)=>{e.preventDefault(),r(e=>(e.splice(t,1),[...e])),URL.revokeObjectURL(n)};return n.createElement("div",{className:G.GM},t.length>0&&t.map((e,t)=>n.createElement("div",{className:G.Iz,key:t},n.createElement("div",null,e.type.startsWith("image")?n.createElement("img",{className:G.iS,alt:e.name,key:t,src:e.url}):n.createElement("video",{className:G.iS,key:t,src:e.url}),n.createElement("div",{className:G.wL})),n.createElement("button",{onClick:r=>s(r,t,e.url)},n.createElement(I.A,{className:G.aO,svg:q.c})))),n.createElement("label",{className:G.ic,htmlFor:"file-upload"},n.createElement(I.A,{svg:W.c})),n.createElement("input",{id:"file-upload",type:"file",accept:"image/png, image/jpeg, image/gif, video/mp4, video/quicktime",ref:a,onChange:l,multiple:!0,hidden:!0}))}function ed(e){let t=(0,i.OY)(),[r,a]=n.useState(!0),o=e.title.startsWith("TEST:")?(0,w.t)("bug_reporter.slack_testing_channel"):(0,w.t)("bug_reporter.slack_bugs_channel"),l=_.S4(_.Mx(J,"asana-link"),"click",()=>{}),s=async r=>{r.preventDefault(),a(!1);try{await f.cp.post("/api/bug_reports/slack_channel_message",{title:e.title,description:e.description,task_url:e.taskUrl,task_gid:e.taskGid}),t(T.A.enqueue({message:`Message sent to ${o} with details.`}))}catch(e){t(T.A.enqueue({message:`Couldn't send Slack message: ${e}`,error:!0})),a(!0)}};return n.createElement("div",{className:G.kl},n.createElement("div",{className:G.Qf},n.createElement(w.Tx,{id:"bug_reporter.success_message"})),n.createElement("div",{className:G.mA},n.createElement("div",{className:G.GO},n.createElement(I.A,{svg:Y.c}),n.createElement(y.Gy,{onClick:l,href:e.taskUrl,target:"_blank",trusted:!0},n.createElement(w.Tx,{id:"bug_reporter.asana_link"}))),n.createElement("div",{className:G.GO},n.createElement(I.A,{svg:H.c}),n.createElement(y.Gy,{onClick:()=>{t(A.ye({stringToCopy:e.taskUrl}))},trusted:!0},n.createElement(w.Tx,{id:"bug_reporter.copy_link"})))),e.isNewReport&&n.createElement("div",null,n.createElement("div",{className:G.Qx},n.createElement(w.Tx,{id:"bug_reporter.share_to_slack_info"})),n.createElement(y.gV,{onClick:s,type:"button",disabled:!r},`Share in ${o}`)),e.slackUrl&&n.createElement("div",null,n.createElement(y.mq,{className:G.ec,href:e.slackUrl,target:"blank",type:"button"},n.createElement(w.Tx,{id:"bug_reporter.open_slack_discussion"}))),e.submissionErrorMessages.length>0&&e.submissionErrorMessages.map(e=>n.createElement("p",{key:e},e.toString())))}let eu=(0,k.U9)(function(){let e=(0,i.w1)(e=>e.multiplayer.allUsers.length),t=(0,i.w1)(e=>{var t;return null==(t=e.user)?void 0:t.id}),r=(0,R.c$)(),a=(0,i.OY)(),{windowInnerHeight:o}=(0,s.U)(),d=(0,U.o)(),[_,h]=n.useState([]),[E,y]=(0,u.lZ)(et),v=(0,p.my)(er),I=(0,p.my)(en),C=(0,p.my)(ei),A=(0,p.my)(ea),[L,k]=n.useState(new Map),D=(0,p.my)(eo),[F,B]=(0,u.lZ)(ee),[V,H]=n.useState(!1),[W,K]=n.useState(!1),Y=n.useRef(""),q=n.useRef(""),el=n.useRef(""),ec=n.useRef(""),eu=n.useRef(""),ep=n.useRef([]),em=n.useRef(null),e_=n.useRef(0),eh=(0,p.my)(j),eg=()=>{a(O.oN())},ef=(0,P.e)("seen_bug_reporter_modal");(0,l.u)(()=>{ef||a(N.s({seen_bug_reporter_modal:!0})),eh(!0)}),n.useEffect(()=>{(async()=>{try{let{data:e}=await M.s.getMeta();h(e.meta.severity),k($(e.meta.product_area))}catch(e){a(T.A.enqueue({message:`Could not fetch field metadata: ${e}`,error:!0}))}})()},[a]);let eE=()=>M.s.getGetTask({taskGid:Y.current}).then(({data:e})=>e).catch(e=>{var t;let r=`Couldn't fetch task details from Asana. ${e.data.message}`;e instanceof f.uI&&(null==(t=e.data)?void 0:t.message)&&(r=e.data.message),a(T.A.enqueue({message:r,error:!0}))}),ey=async e=>{if(0===e.length)return{attachments:[],errorMessages:[]};let t=e.map(async e=>{try{return{uuid:await ev(e.fileContent,e.type),name:e.name}}catch(t){return{error:`Please add attachment ${e.name} directly in Asana instead. ${t}`}}}),r=await Promise.all(t);return ep.current=r.filter(Q).map(({error:e})=>e),{attachments:r.filter(z),errorMessages:r.filter(Q).map(({error:e})=>e)}},eb=async e=>{if(!e)return{attachments:[],errorMessages:[]};try{return{attachments:[{uuid:await ev(JSON.stringify(e),"application/json"),name:"profile.json"}],errorMessages:[]}}catch(e){return{attachments:[],errorMessages:[`Please record a profile directly in dev tools instead. ${e}`]}}},ev=async(e,t)=>{let r=await M.s.getAttachmentUploadUrl({fileType:t});if(200!==r.status)throw Error("Failed to get presigned upload URL from S3");let{upload_url:n,fields:i,uuid:a}=r.data.meta,o=new FormData;for(let e in i)o.append(e,i[e]);if(o.append("content-type",t),o.append("file",e),204!==(await fetch(n,{method:"post",body:o})).status)throw Error("Failed to upload attachment to S3");return a},eI=async(n,i,o,l,s,d,u)=>{var p,_,h;K(!0),ec.current=n,eu.current=i,a(T.A.enqueue({type:"bug-reporter-submitting",message:(0,w.t)("bug_reporter.submitting_visual_bell"),timeoutType:"exact",timeoutOverride:4e3,icon:S.mc.SPINNER})),a(T.A.enqueue({type:"bug-reporter-submitting-long",message:(0,w.t)("bug_reporter.long_submitting_visual_bell"),delay:4e3,icon:S.mc.SPINNER}));let g={env:(0,c.m_)().cluster_name,user_agent:navigator.userAgent,view:r.view,user_id:t,org_id:(0,c.m_)().org_id,tracking_session_id:(0,c.m_)().tracking_session_id,release_commit:(0,c.m_)().release_manifest_git_commit,device_info:(0,m.Q)(),num_people_in_file:e};"fullscreen"===r.view?(g.editor_type=r.editorType,s&&(g.file_key=r.fileKey,g.url=window.location.href)):g.url=window.location.href;let y={title:n,severity:o.gid,product_area:l.gid,description:i,metadata:g},b=[ey(d),eb(u)],[v,I]=await Promise.all(b);v.attachments.length>0&&(y.attachments=v.attachments),I.attachments.length>0&&(y.profileUuid=I.attachments[0].uuid),(v.errorMessages.length||I.errorMessages.length)&&(ep.current=[...v.errorMessages,...I.errorMessages]);try{let e=F?await f.cp.post("/api/bug_reports",y):await f.cp.put("/api/bug_reports/update_task",{...y,task_gid:Y.current=Z(E)});if(e.status>=200&&e.status<300)a(T.A.dequeue({matchType:"bug-reporter-submitting"})),a(T.A.dequeue({matchType:"bug-reporter-submitting-long"})),q.current=e.data.meta.task_url,Y.current=e.data.meta.task_gid,F||(el.current=e.data.meta.slack_url),e_.current=(null==(_=null==(p=em.current)?void 0:p.getCurrentContentSize())?void 0:_.y)||0,H(!0),D(!0),K(!1);else throw Error(`Request failed with code ${e.status}.`)}catch(t){a(T.A.dequeue({matchType:"bug-reporter-submitting"})),a(T.A.dequeue({matchType:"bug-reporter-submitting-long"}));let e=t.message;t instanceof f.uI&&(null==(h=t.data)?void 0:h.message)&&"string"==typeof t.data.message&&(e=t.data.message),a(T.A.enqueue({message:`${e}. Couldn't submit report. Try again or use /bug in Slack.`,error:!0})),K(!1)}},ew=async e=>{Y.current=e,B(!1);let t=await eE();t&&(v(t.meta.title),I(t.meta.description),C(t.meta.severity??X),A(t.meta.product_area??X))};return n.createElement(x.G0,{ref:em,title:(0,w.t)("help_widget.menu.report_issue"),initialPosition:(()=>{let e=d?b.Yh:b.sh,t=b.Yh;return V&&(t=o-(e_.current+x.ov)-b.Yh),new g.Cg(e,t)})(),initialConstraints:{x:"right",y:V?"top":"bottom"},onClose:eg,recordingKey:J,headerClassName:G.Mr,dragHeaderOnly:!0},V?n.createElement(ed,{isNewReport:F,taskUrl:q.current,taskGid:Y.current,slackUrl:el.current,title:ec.current,description:eu.current,submissionErrorMessages:ep.current}):n.createElement(es,{isNewReport:F,selectedView:r,severityOptions:_,productAreaGroups:L,attachFromTask:ew,submitBugReport:eI,onClose:eg,clearForm:()=>{B(!0),v(""),I(""),A(X),C(X),Y.current="",y("")},isSubmitting:W}))},"BugReporterModal")},951752:(e,t,r)=>{"use strict";let n;r.d(t,{Gc:()=>w,k1:()=>S});var i=r(307824),a=r(120304),o=r(557044),l=r(148276),s=r(451828),c=r(560072),d=r(913368),u=r(403132),p=r(323576),m=r(825016),_=r(441388),h=r(39676),g=r(187044),f=r(158196),E=r(203736),y=r(752132),b=r(217488),v=((n=v||{})[n.SET_PROFILE_HANDLE=0]="SET_PROFILE_HANDLE",n[n.SUCCESS=1]="SUCCESS",n);let I=class extends i.Component{constructor(e){super(e),this.saveHandle=e=>{this.setState({newProfileHandle:e})},this.onProfileHandleValidationSuccess=()=>{this.setState({submitDisabled:!1})},this.onProfileHandleValidationFailure=()=>{this.setState({submitDisabled:!0})},this.sendValidateEmail=async()=>{let{status:e}=await o.cp.post("/api/validation/email/send");200===e&&this.setState({validateEmailSent:!0,submitDisabled:!0})},this.onSubmit=e=>{if(e.preventDefault(),!this.props.emailValidatedAt){this.sendValidateEmail();return}this.setState({submitDisabled:!0});let t=this.props.profileId;if(t){let e={profileHandle:this.state.newProfileHandle,profileId:t,onSuccess:this.props.onFinish};this.props.dispatch(d.gL(e)),this.setState({loadingKey:d.gL.loadingKeyForPayload(e)})}else if(1==[this.props.userId,this.props.teamId,this.props.orgId].filter(e=>e).length){let e={profileHandle:this.state.newProfileHandle,teamId:this.props.teamId,orgId:this.props.orgId,userId:this.props.userId,onSuccess:this.props.onFinish};this.props.dispatch(d.Ar(e)),this.setState({loadingKey:d.Ar.loadingKeyForPayload(e)})}},this.onChangeSubmit=e=>{e.preventDefault(),this.setState({submitDisabled:!0}),this.props.profileId&&this.props.dispatch(d.gL({profileHandle:this.state.newProfileHandle,profileId:this.props.profileId})),this.props.dispatch(p.Kw())},this.navigateToProfileWithHandle=e=>{this.props.dispatch(u.Ej({view:"communityHub",subView:"handle",handle:this.state.newProfileHandle})),this.props.dispatch(p.oN())},this.state={newProfileHandle:e.existingProfileHandle||"",submitDisabled:!!e.emailValidatedAt,step:0,validateEmailSent:!1,emailAddressForValidation:void 0}}componentDidUpdate(){this.state.loadingKey&&((0,h.K_)(this.props.loadingState,this.state.loadingKey)?this.setState({step:1,loadingKey:void 0}):(0,h.ay)(this.props.loadingState,this.state.loadingKey)&&this.setState({loadingKey:void 0}))}renderHeaderImage(){return 0===this.state.step?this.props.emailValidatedAt?i.createElement(y.S8,null):i.createElement(y.IT,null):i.createElement(y.K_,null)}renderUnvalidatedAccount(e,t){return i.createElement("div",null,i.createElement("div",{className:b.k9},e?i.createElement(c.Tx,{id:"community.change_profile_handle_modal.new_verification_email_sent"}):i.createElement(c.Tx,{id:"community.change_profile_handle_modal.check_your_email"})),i.createElement("div",{className:b.G0},i.createElement(c.Tx,{id:"community.change_profile_handle_modal.verify_email_prompt"})),i.createElement("div",{className:b.G0},i.createElement(c.Tx,{id:"community.change_profile_handle_modal.sent_email",email:i.createElement("strong",null,i.createElement(c.Tx,{id:"community.profiles.email"}))})),i.createElement("div",{className:b.G0},i.createElement(c.Tx,{id:"community.change_profile_handle_modal.no_email_check_spam_or_click_resend_email_below"})))}renderTitle(){return 0===this.state.step?i.createElement("div",{className:b.k9},this.props.profileId?i.createElement(c.Tx,{id:"community.change_profile_handle_modal.change_your_unique_profile_handle"}):this.props.userId?i.createElement(c.Tx,{id:"community.change_profile_handle_modal.to_like_comment_follow_or_publish_please_create_a_community_profile"}):i.createElement(c.Tx,{id:"community.change_profile_handle_modal.create_a_community_profile_to_publish_publicly_as_your_org_or_team"})):i.createElement("div",{className:b.k9},i.createElement(c.Tx,{id:"community.change_profile_handle_modal.welcome_to_figma_community"}))}renderContent(){return 0===this.state.step?i.createElement("form",{id:I.id,onSubmit:this.onSubmit},i.createElement(s.w,{saveHandle:this.saveHandle,onProfileHandleValidationSuccess:this.onProfileHandleValidationSuccess,onProfileHandleValidationFailure:this.onProfileHandleValidationFailure})):i.createElement("div",{className:b.iO},i.createElement(c.Tx,{id:"community.change_profile_handle_modal.new_profile_link",url:i.createElement("div",{className:b.yY},i.createElement("span",{className:b.gU},"figma.com/@",this.state.newProfileHandle))}))}renderFooterCTAs(){return 0!==this.state.step?i.createElement(i.Fragment,null,i.createElement(l.wX,{onClick:this.navigateToProfileWithHandle},i.createElement(c.Tx,{id:"community.change_profile_handle_modal.view_profile"})),i.createElement(l.gV,{type:"submit",onClick:()=>this.props.dispatch(p.Kw()),className:b.I8},i.createElement(c.Tx,{id:"general.done"}))):this.props.profileId?i.createElement(i.Fragment,null,i.createElement(l.wX,{onClick:()=>this.props.dispatch(p.Kw())},i.createElement(c.Tx,{id:"general.cancel"})),i.createElement(l.Uv,{type:"submit",onClick:this.onChangeSubmit,className:b.I8,disabled:this.state.submitDisabled,trackingProperties:{action:m.k9.UPDATE_PROFILE_HANDLE,communityHubEntity:m.uu.PROFILES,communityHubEntityId:this.props.profileId}},i.createElement(c.Tx,{id:"community.change_profile_handle_modal.change_handle"}))):i.createElement(i.Fragment,null,i.createElement(l.wX,{onClick:()=>this.props.dispatch(p.Kw())},i.createElement(c.Tx,{id:"general.cancel"})),i.createElement(l.Uv,{type:"submit",onClick:this.onSubmit,className:b.I8,disabled:this.state.submitDisabled||this.props.communityBlockedAt,trackingProperties:{action:m.k9.CREATE_PROFILE,communityHubEntity:this.props.userId?m.uu.USERS:this.props.teamId?m.uu.TEAMS:m.uu.ORGS,communityHubEntityId:this.props.userId??this.props.teamId??this.props.orgId}},this.props.emailValidatedAt?i.createElement(c.Tx,{id:"community.change_profile_handle_modal.create_profile"}):i.createElement(c.Tx,{id:"community.change_profile_handle_modal.resend_email"})))}render(){let e={};e.type=this.props.profileId?m.k9.UPDATE_PROFILE_HANDLE:m.k9.CREATE_PROFILE,this.props.profileId?(e.communityHubEntity=m.uu.PROFILES,e.communityHubEntityId=this.props.profileId):(e.communityHubEntity=this.props.userId?m.uu.USERS:this.props.teamId?m.uu.TEAMS:m.uu.ORGS,e.communityHubEntityId=this.props.userId??this.props.teamId??this.props.orgId);let t=this.props.emailValidatedAt?i.createElement(i.Fragment,null,this.renderTitle(),this.renderContent()):this.renderUnvalidatedAccount(this.state.validateEmailSent,this.props.userEmail);return i.createElement(f.wJ,{size:"medium",className:b.Al,dispatch:this.props.dispatch,popStack:!0},i.createElement(_.kH,{name:g.i8.PROFILE_CREATE_MODAL,properties:e},i.createElement("div",{className:b.GQ},this.renderHeaderImage()),i.createElement("div",{className:b.qW},t),i.createElement("div",{className:b.kf},i.createElement("div",{className:b.wz},this.renderFooterCTAs()))))}};function w(e){let t=e.getState();t.modalShown&&t.modalShown.type===S&&e.dispatch(p.Kw())}I.displayName="ChangeProfileHandle",I.id="profile-change-handle";let T=(0,a.Ul)((e,t)=>{var r,n;return{loadingState:e.loadingState,emailValidatedAt:!!(null==(r=e.user)?void 0:r.email_validated_at),communityBlockedAt:!!e.user&&!!e.authedUsers.byId[e.user.id].community_blocked_at,userEmail:null==(n=e.user)?void 0:n.email}})(I),S="CHANGE_PROFILE_HANDLE";(0,E.Ko)(S,e=>{let t=e.modalShown;return i.createElement(T,{profileId:t.data.profileId,existingProfileHandle:t.data.profileHandle,teamId:t.data.teamId,orgId:t.data.orgId,userId:t.data.userId,onFinish:t.data.onFinish})})},594672:(e,t,r)=>{"use strict";r.d(t,{W:()=>d,s:()=>u});var n=r(307824),i=r(148276),a=r(560072),o=r(323576),l=r(23024),s=r(25088);function c(e){return n.createElement("div",{style:{height:e.height}})}function d(e){let t=e.onHide||(()=>{e.dispatch(o.Kw())});return n.createElement(l.Cc,{...e,isCloseHidden:!0},n.createElement(c,{height:18}),e.children&&n.createElement("div",{className:s._Q},e.children,n.createElement(c,{height:18})),n.createElement(u,{onConfirm:e.onConfirm,onCancel:t,confirmButtonText:e.buttonText,hideCancelButton:e.hideCancelButton,makeButtonAppearNegative:e.makeButtonAppearNegative},e.checkboxText))}class u extends n.PureComponent{constructor(e){super(e),this.onCheck=()=>{this.setState({checked:!this.state.checked})},this.state={checked:!1}}render(){return n.createElement("div",{className:this.props.className},n.createElement(i.iM,{className:s.Sq},n.createElement(i.Km,{checked:this.state.checked,onChange:this.onCheck,className:s.Ep}),this.props.children),n.createElement("div",{className:s.cP},!this.props.hideCancelButton&&n.createElement(i.Sm,{onClick:this.props.onCancel},this.props.cancelButtonText||(0,a.t)("modal.cancel")),this.props.makeButtonAppearNegative?n.createElement(i.y2,{disabled:!this.state.checked,onClick:this.props.onConfirm},this.props.confirmButtonText||(0,a.t)("modal.confirm")):n.createElement(i.Uv,{disabled:!this.state.checked,onClick:this.props.onConfirm},this.props.confirmButtonText||(0,a.t)("modal.confirm"))))}}u.displayName="CheckboxConfirmButtons"},43304:(e,t,r)=>{"use strict";r.d(t,{Mh:()=>O,WI:()=>C,ay:()=>S});var n=r(307824),i=r(120304),a=r(623131),o=r(372152),l=r(148276),s=r(643712),c=r(778524),d=r(560072),u=r(771668),p=r(784740),m=r(323576),_=r(441388),h=r(401968),g=r(661324),f=r(78728),E=r(203736),y=r(68235),b=r(23024),v=r(453484);let I=(e,t)=>{switch(e){case f.S.SRGB:return{text:(0,d.t)("fullscreen.color_management.user_color_profile_modal.info.srgb_supported"),type:"info"};case f.S.DISPLAY_P3:switch(t.status){case"SupportedNatively":case"SupportedWithPolyfill":return{text:(0,d.t)("fullscreen.color_management.user_color_profile_modal.info.display_p3_supported"),type:"info"};case"ClientNotSupported":let r=t.diagnostics&&"client"in t.diagnostics&&"desktop-app"===t.diagnostics.client?(0,d.t)("fullscreen.color_management.user_color_profile_modal.client_type.desktop_app"):(0,d.t)("fullscreen.color_management.user_color_profile_modal.client_type.browser");if(t.diagnostics&&"shouldRestartDesktopAppInManagedColorSpace"in t.diagnostics&&t.diagnostics.shouldRestartDesktopAppInManagedColorSpace)return{text:(0,d.t)("fullscreen.color_management.beta.warning.desktop_unmanaged"),type:"warning"};return{text:(0,d.t)("fullscreen.color_management.user_color_profile_modal.warning.display_p3_not_supported.client",{client:r}),type:"warning"};case"MonitorNotSupported":if(t.diagnostics&&"alternativeMonitorName"in t.diagnostics&&t.diagnostics.alternativeMonitorName)return{text:(0,d.t)("fullscreen.color_management.user_color_profile_modal.warning.display_p3_not_supported.alternative_display",{displayName:t.diagnostics.alternativeMonitorName}),type:"warning"};return{text:(0,d.t)("fullscreen.color_management.user_color_profile_modal.warning.display_p3_not_supported.display"),type:"warning"}}}},w="user-color-profile",T={srgbOption:`${w}-srgb-option`,p3Option:`${w}-p3-option`,supportDetailsWarningIcon:`${w}-warning-icon`,supportDetailsInfoIcon:`${w}-info-icon`},S=(0,a.Zf)(!1),C="user_color_profile_modal_closed",A=(0,E.U9)(function(){let e=(0,i.OY)(),t=(0,g.A9)(),r=function(e){switch(e){case f.S.DEFAULT:case f.S.SRGB:return f.S.SRGB;case f.S.DISPLAY_P3:return f.S.DISPLAY_P3}}(t.colorProfilePreference),a=I(r,(0,h.qC)()),E=function(e){switch(e){case f.S.SRGB:return(0,d.t)("fullscreen.color_management.user_color_profile_modal.options.srgb.description");case f.S.DISPLAY_P3:return(0,d.t)("fullscreen.color_management.user_color_profile_modal.options.display_p3.description")}}(r),[w,A]=(0,o.lZ)(S);return n.useEffect(()=>(w||A(!0),()=>{w&&((0,c.Y9)({id:C}),A(!1))}),[A,w]),n.createElement(_.kH,{name:"color_management_user_color_profile_modal"},n.createElement(b.Cc,{title:(0,d.t)("fullscreen.color_management.user_color_profile_modal.title"),minWidth:320,maxWidth:320,onClose:()=>{e((0,m._g)())}},n.createElement("div",{className:v.kl},n.createElement("label",{className:v.M5},n.createElement(p.a,null,n.createElement(d.Tx,{id:"fullscreen.color_management.user_color_profile_modal.options.label"}))),n.createElement(s.e,{isHorizontal:!0,className:v.S6,value:r,onChange:e=>{(0,g.sH)({colorProfilePreference:e,id:t.id})}},n.createElement(s.W,{className:v.qv,value:f.S.SRGB,dataTestId:T.srgbOption},(0,d.t)("fullscreen.color_management.user_color_profile_modal.options.srgb.value")),n.createElement(s.W,{className:v.qv,value:f.S.DISPLAY_P3,dataTestId:T.p3Option},(0,d.t)("fullscreen.color_management.user_color_profile_modal.options.display_p3.value"))),n.createElement(p.a,{color:"secondary"},E),n.createElement("div",{className:v.e2}),n.createElement(p.a,{color:"secondary"},n.createElement(d.Tx,{id:"fullscreen.color_management.user_color_profile_modal.descriptions.affected_files"})),n.createElement("span",{style:{whiteSpace:"pre"}}," "),n.createElement(l.g7,{trusted:!0,href:y.y,target:"_blank",className:v.AF},n.createElement(d.Tx,{id:"rcs.rcs_shared.learn_more"})),n.createElement("div",{className:v.e2}),n.createElement("div",{className:v.Sw}),n.createElement("div",{className:v.Sb},n.createElement(u.GW,{icon:"warning"===a.type?"warning-32":"info-32",dataTestId:"warning"===a.type?T.supportDetailsWarningIcon:T.supportDetailsInfoIcon}),n.createElement("span",null,a.text,"warning"===a.type&&n.createElement(n.Fragment,null,n.createElement("span",{style:{whiteSpace:"pre"}}," "),n.createElement(l.g7,{trusted:!0,href:y.y,target:"_blank",className:v.AF},n.createElement(d.Tx,{id:"rcs.rcs_shared.learn_more"}))))))))},"user_color_profile_modal");function O(){return{name:"user-color-profile-menu-option",displayForQuickCommand:"user-color-profile-quick-action",callback:(e,t,r)=>{r((0,m.A5)({type:A}))}}}},5108:(e,t,r)=>{"use strict";r.d(t,{m:()=>u});var n=r(307824),i=r(560072),a=r(913368),o=r(291900),l=r(158196),s=r(310426),c=r(203736);class d extends n.Component{constructor(){super(...arguments),this.deleteProfile=()=>{this.props.dispatch(a.sF({profileId:this.props.profileId,handle:this.props.handle}))}}render(){let e=n.createElement(n.Fragment,null,n.createElement("p",null,n.createElement(i.Tx,{id:"community.delete_profile_modal.delete_profile_info"})),n.createElement("br",null),this.props.stripe_account_status&&this.props.stripe_account_status!==o.G.NONE&&n.createElement(n.Fragment,null,n.createElement("p",null,n.createElement(i.Tx,{id:"settings.any_resources_you_have_marked_for_sale",creatorAgreement:s.EF})),n.createElement("br",null)),n.createElement("p",null,n.createElement(i.Tx,{id:"settings.delete_user_account.for_more_information_about_how_we_treat_your_data",privacyPolicyLink:s.Ex})));return n.createElement(l.Co,{destructive:!0,confirmationTitle:(0,i.t)("community.delete_profile_modal.delete_profile_title"),content:e,onConfirm:this.deleteProfile,confirmText:(0,i.t)("general.delete"),popStack:!0,...this.props})}}let u=(0,c.U9)(d,"DeleteProfileModal")},6492:(e,t,r)=>{"use strict";r.d(t,{Gy:()=>N,OC:()=>P,ig:()=>M}),r(84344);var n=r(307824),i=r(120304),a=r(125504),o=r.n(a),l=r(404920),s=r(644220),c=r(971376),d=r(105516),u=r(310444),p=r(698240),m=r(778524),_=r(560072),h=r(317704),g=r(597624),f=r(771668),E=r(323576),y=r(441388),b=r(572748),v=r(422416),I=r(200800),w=r(164576),T=r(873036),S=r(203736),C=r(353100),A=r(158196),O=r(205028);let N="dev_mode_opt_in_success_event";function L(e,t){return t(E.Kw()),T.UT.postDevModeOptInTermsAccepted({orgId:e}).catch(e=>(t(h.A.enqueue({message:(0,_.t)("dev_mode_opt_in.modal.failed_to_agree_to_opt_in"),error:!0})),Promise.reject(e))).then(()=>(0,m.Y9)({id:N}))}function R(){let e=(0,i.OY)();return n.createElement(d.CA,{onClick:()=>e(E.Kw()),innerText:"Close"})}let P=(0,S.U9)(function(e){let t=(0,i.OY)(),r=(0,b.Ce)(),a=parseInt(e.emailRequestId??""),o=!Number.isNaN(a);return n.createElement(y.kH,{name:"DevMode Opt-in Page",properties:{org_id:r.id,source:o?"email":"notif"}},n.createElement("div",{className:O.y0},n.createElement(k,{org:r,onAccept:()=>{let e=L(r.id,t);return o&&e.then(()=>{w.E.approveRequests({plan_id:r.id,plan_type:C.gx.ORG,included_request_ids:[a.toString()],selection_method:C.as.EMAIL}).catch(e=>(t(h.A.enqueue({message:(0,_.t)("dev_mode_opt_in.modal.upgrade_seats_error",{seatCount:1}),error:!0})),Promise.reject(e))).then(()=>t(h.A.enqueue({message:(0,_.t)("dev_mode_opt_in.modal.upgraded_seats",{seatCount:1}),type:"requests-approved"})))}),e},showNotNow:!1,hasAssociatedSeats:o})),n.createElement("div",{className:O.Ib,style:{position:"absolute",top:24,right:24}},n.createElement(R,null)))},"DEV_MODE_OPT_IN_FULL_SCREEN_MODAL"),M=(0,S.U9)(function(e){let t=(0,i.OY)(),r=(0,b.Ce)();return n.createElement(y.kH,{name:"DevMode Opt-in Modal",properties:{org_id:r.id,source:e.source?e.source:"dashboard"}},n.createElement(A.wJ,{className:p.cx.overflowHidden.$,padding:40,size:520,dispatch:t},n.createElement(k,{org:r,onAccept:()=>{let n=L(r.id,t);e.onOptInUpgrade&&n.then(()=>e.onOptInUpgrade()),e.onOptInShowModal&&n.then(()=>e.onOptInShowModal())},showNotNow:!0,hasAssociatedSeats:!!e.onOptInUpgrade}),n.createElement("div",{style:{position:"absolute",top:4,right:4}},n.createElement(R,null))))},"DEV_MODE_OPT_IN_PARTIAL_MODAL");function k(e){var t;let r=(0,i.OY)(),a=(0,s.u6)(e.org.id),d=(0,l.c)(e.onAccept,750,{leading:!0,trailing:!1}),m=n.createElement("a",{className:p.cx.cursorPointer.fontMedium.$,href:"https://help.figma.com/hc/articles/19813618057623",target:"_blank",rel:"noopener noreferrer"},(0,_.t)("dev_mode_opt_in.modal.guide_to_dev_mode_billing")),h=n.createElement("a",{className:p.cx.cursorPointer.fontMedium.$,href:"https://www.figma.com/pricing",target:"_blank",rel:"noopener noreferrer"},"figma.com/pricing"),b=new v.Ip((null==(t=a.data)?void 0:t.currency)??"usd"),w=e.org.plan??I.iV.ORGANIZATION,T=b.getPricesForOrgPlan(w),S="loaded"===a.status?n.createElement(n.Fragment,null,b.formatMoney(T.dev_mode)):n.createElement(u.AT,{className:p.cx.h8.w20.inlineBlock.$});return n.createElement("div",{className:O.W8},n.createElement("div",{className:O.SC},n.createElement("div",{className:O.kF},n.createElement(_.Tx,{id:"dev_mode_opt_in.modal.header"})),n.createElement("div",{className:o()(O.Oy,p.cx.mb24.$)},e.hasAssociatedSeats?n.createElement(_.Tx,{id:"dev_mode_opt_in.modal.subheader_with_seats"}):n.createElement(_.Tx,{id:"dev_mode_opt_in.modal.subheader"})),n.createElement("div",{className:O.OK},n.createElement("div",{className:p.cx.mt16.ml16.mr16.$},n.createElement(g.g,{width:"fill-parent",spacing:8},n.createElement(f.GW,{icon:"file-design-with-devmode-32-file-type"}),n.createElement("span",null,n.createElement("div",{className:O.Oy},n.createElement(_.Tx,{id:"dev_mode_opt_in.modal.pricing.with_design.main_text"})),n.createElement("div",{className:O.eg},n.createElement(_.Tx,{id:"dev_mode_opt_in.modal.pricing.with_design.sub_text"}))))),n.createElement("div",{className:O.IH}),n.createElement("div",{className:p.cx.ml16.mr16.mb16.$},n.createElement(g.g,{width:"fill-parent",spacing:8},n.createElement(f.GW,{icon:"file-devmode-32-file-type"}),n.createElement("span",null,n.createElement("div",{className:O.Oy},n.createElement(_.Tx,{id:"dev_mode_opt_in.modal.pricing.dev_mode_only.main_text"})),n.createElement("div",{className:O.eg},n.createElement(_.Tx,{id:"dev_mode_opt_in.modal.pricing.dev_mode_only.sub_text"})))))),n.createElement("div",{className:O.eg},n.createElement("div",{className:p.cx.mt24.fontMedium.$},n.createElement(_.Tx,{id:"dev_mode_opt_in.modal.description_question"})),n.createElement("div",{className:p.cx.mt8.$},n.createElement(_.Tx,{id:"dev_mode_opt_in.modal.description_provision",pricingLink:h,plan:w===I.iV.ORGANIZATION?(0,_.t)("dev_mode_opt_in.modal.org"):(0,_.t)("dev_mode_opt_in.modal.ent"),price:S,billingLink:m}))),n.createElement(c.Uv,{className:o()(O.sq,p.cx.mt24.$),type:"button",onClick:d},e.hasAssociatedSeats?n.createElement(_.Tx,{id:"dev_mode_opt_in.modal.agree_with_seats"}):n.createElement(_.Tx,{id:"dev_mode_opt_in.modal.agree"})),e.showNotNow&&n.createElement(y.UV,{role:"button",className:o()(p.cx.mt8.flex.justifyCenter.$,O.M3),onClick:()=>r(E.Kw())},n.createElement(_.Tx,{id:"dev_mode_opt_in.modal.not_now"}))))}},411820:(e,t,r)=>{"use strict";r.d(t,{Q:()=>u,U:()=>d});var n=r(307824),i=r(721500),a=r(570464),o=r(174380),l=r(763456),s=r(659068);let c=(0,i.qe)(l.A3q);function d({resizeTo:e,getCurrentContainerBounds:t,isResizing:r,setIsResizing:i,setResizeDirections:l,onResizeEnd:s,lockAspectRatio:d,recordingKey:u,hidden:p}){let _=n.useRef(),h=n.useRef(),g=n.useRef([]),f=n.useRef({x:0,y:0}),[E,y]=n.useState(!1),b=n.useCallback(({x:t,y:n},i)=>{if(!r||!h.current||!e){y(!1);return}let a=d||i,l={x:t-f.current.x,y:n-f.current.y};l.y=Math.max(l.y,c);let{left:s,top:u,right:p,bottom:_}=m(l,h.current,r,a);e({[o.wN.TOP]:u!==h.current.top,[o.wN.BOTTOM]:_!==h.current.bottom,[o.wN.LEFT]:s!==h.current.left,[o.wN.RIGHT]:p!==h.current.right},{left:s,top:u,right:p,bottom:_,lockAspectRatio:a})},[r,d,e,y]),v=n.useCallback(()=>{y(!1),i(void 0),l([]),g.current=[],null==s||s()},[y,i,s,l]),I=n.useRef(v);I.current=v,(0,n.useEffect)(()=>()=>{I.current()},[]);let w=a.S4(u,"mouseup",v),T=a.S4(u,"mousemove",n.useCallback(e=>{if(p)return a.Cy;e.stopPropagation(),e.preventDefault();let t={x:e.clientX,y:e.clientY};if(_.current=t,r)b(t,e.shiftKey);else{let e=Object.create(null);g.current.forEach(t=>{e[t]=!0}),l(g.current),i(e)}},[p,r,b,i,l]),{recordMetadata:e=>({clientX:e.clientX,clientY:e.clientY}),playbackMetadata:e=>({clientX:e.clientX,clientY:e.clientY})}),S=a.ag(u,"keydown",n.useCallback(e=>{e.shiftKey&&_.current&&b(_.current,!0)},[b])),C=a.ag(u,"keyup",n.useCallback(e=>{_.current&&b(_.current,e.shiftKey)},[b]));return(0,n.useEffect)(()=>{if(E)return document.addEventListener("mousemove",T),document.addEventListener("mouseup",w),document.addEventListener("keydown",S),document.addEventListener("keyup",C),()=>{document.removeEventListener("mousemove",T),document.removeEventListener("mouseup",w),document.removeEventListener("keydown",S),document.removeEventListener("keyup",C)}},[E,T,w,S,C]),{startResizing:n.useCallback((e,r)=>{g.current=e;let n=t();h.current=n;let i={x:e.includes(o.wN.LEFT)?n.left:e.includes(o.wN.RIGHT)?n.right:r.x,y:e.includes(o.wN.TOP)?n.top:e.includes(o.wN.BOTTOM)?n.bottom:r.y};f.current={x:r.x-i.x,y:r.y-i.y},y(!0)},[t,y]),stopResizing:v}}function u({allowedResizeDirections:e,onEdgeDoubleClick:t,resizeTo:r,onResizeEnd:i,getCurrentContainerBounds:l,lockAspectRatio:s,isResizing:c,setIsResizing:u,setResizeDirections:m,hidden:_,recordingKey:h}){let{startResizing:g}=d({resizeTo:r,getCurrentContainerBounds:l,onResizeEnd:i,isResizing:c,setIsResizing:u,setResizeDirections:m,lockAspectRatio:s,hidden:_,recordingKey:h});return _?null:n.createElement("div",null,Object.values(o.wN).map((r,i)=>e.includes(r)?n.createElement(p,{key:i,directions:[r],startResizing:g,onDoubleClick:t,recordingKey:a.Mx(h,r)}):null),[o.wN.TOP,o.wN.BOTTOM].map(r=>[o.wN.LEFT,o.wN.RIGHT].map((i,o)=>e.includes(r)&&e.includes(i)?n.createElement(p,{key:o,directions:[r,i],startResizing:g,onDoubleClick:t,recordingKey:a.Mx(h,r,i)}):null)))}class p extends a.UR{constructor(){super(...arguments),this.onMouseDown=e=>a.yw(this,"mousedown",t=>{t.stopPropagation(),t.preventDefault(),this.props.startResizing(e,{x:t.clientX,y:t.clientY})}),this.onDoubleClick=a.yw(this,"dblclick",()=>{var e,t;if(!this.props.onDoubleClick)return a.Cy;null==(t=(e=this.props).onDoubleClick)||t.call(e)}),this.directionsToStyle=e=>{if(1===e.length)switch(e[0]){case o.wN.TOP:return s.yM;case o.wN.BOTTOM:return s.wx;case o.wN.LEFT:return s.C6;case o.wN.RIGHT:return s.Gy}else if(2===e.length){if(e[0]===o.wN.TOP&&e[1]===o.wN.RIGHT)return s.Wq;if(e[0]===o.wN.TOP&&e[1]===o.wN.LEFT)return s.Km;if(e[0]===o.wN.BOTTOM&&e[1]===o.wN.RIGHT)return s.cF;if(e[0]===o.wN.BOTTOM&&e[1]===o.wN.LEFT)return s.Ul}}}render(){return n.createElement("div",{role:"presentation",className:this.directionsToStyle(this.props.directions),onMouseDown:this.onMouseDown(this.props.directions),onDoubleClick:this.onDoubleClick})}}let m=(e,t,r,n)=>{let{x:i,y:a}=e,l=r[o.wN.LEFT]?i:t.left,s=r[o.wN.RIGHT]?i:t.right,c=r[o.wN.TOP]?a:t.top,d=r[o.wN.BOTTOM]?a:t.bottom;if(n){let e=(t.right-t.left)/(t.bottom-t.top-o.ov),n=r[o.wN.LEFT]?t.left-i:i-t.right,u=r[o.wN.TOP]?t.top-a:a-t.bottom,p=r[o.wN.LEFT]||r[o.wN.RIGHT],m=r[o.wN.TOP]||r[o.wN.BOTTOM];if(p&&m){let i,a;let p=n/e;p<u?(i=n,a=p,r[o.wN.TOP]?c=t.top-a:d=t.bottom+a):(i=u*e,a=u,r[o.wN.LEFT]?l=t.left-i:s=t.right+i)}else if(p){let n=r[o.wN.LEFT]?t.left-i:i-t.right;d=t.bottom+n/e}else if(m){let n=r[o.wN.TOP]?t.top-a:a-t.bottom;s=t.right+n*e}}return{left:l,top:c,right:s,bottom:d}}},841696:(e,t,r)=>{"use strict";r.d(t,{uO:()=>f});var n=r(307824),i=r(120304),a=r(899116),o=r(656716),l=r(105516),s=r(148276),c=r(698240),d=r(560072),u=r(323576),p=r(441388),m=r(203736),_=r(158196),h=r(62680),g=r(586948);let f=(0,m.U9)(function(){let e=(0,i.w1)(e=>{var t,r;return null==(r=null==(t=e.modalShown)?void 0:t.data)?void 0:r.onImportCompleted}),t=(0,i.OY)(),{isGoogleDrivePending:r,startGoogleDriveImportFlow:m}=(0,h.W)(e),f=()=>{t(u._g()),null==e||e()};return n.createElement(p.kH,{name:"google_connect_disclaimer_modal"},n.createElement(_.wJ,{size:360,dispatch:t,className:g.u,onHide:()=>null==e?void 0:e()},n.createElement(l.cT,{dispatch:t,trackingProperties:{text:"dismiss"},onClose:f}),n.createElement("img",{src:"https://static.figma.com/uploads/bbeffb0922b3841d79ccfa204400c7dc2c399628",width:30,height:26,className:c.cx.mb8.$,alt:(0,d.t)("rcs.jamboard.google_drive_icon.alt")}),a.sZ?n.createElement(n.Fragment,null,n.createElement("h2",{className:c.cx.mb8.font18.fontSemiBold.lh24.$},n.createElement(d.Tx,{id:"rcs.jamboard.open_in_browser_disclaimer.title"})),n.createElement("p",{className:c.cx.mb24.font11.lh16.$},n.createElement(d.Tx,{id:"rcs.jamboard.open_in_browser_disclaimer.desc1"})),n.createElement("div",{className:c.cx.flex.justifyEnd.gap8.$},n.createElement(s.Sm,{onClick:f},n.createElement(d.Tx,{id:"rcs.jamboard.connect_to_google_drive_disclaimer.cancel"})),n.createElement(s.Uv,{onClick:()=>{f(),o.default.redirect(window.location.href,"_blank")},className:g.C},n.createElement(d.Tx,{id:"rcs.jamboard.open_in_browser_disclaimer.button"})))):n.createElement(n.Fragment,null,n.createElement("h2",{className:c.cx.mb8.font18.fontSemiBold.lh24.$},n.createElement(d.Tx,{id:"rcs.jamboard.connect_to_google_drive_disclaimer.title"})),n.createElement("p",{className:c.cx.mb8.font11.lh16.$},n.createElement(d.Tx,{id:"rcs.jamboard.connect_to_google_drive_disclaimer.desc1"})),n.createElement("p",{className:c.cx.mb24.font11.lh16.$},n.createElement(d.Tx,{id:"rcs.jamboard.connect_to_google_drive_disclaimer.desc2"})),n.createElement("div",{className:c.cx.flex.justifyEnd.gap8.$},n.createElement(s.Sm,{onClick:f},n.createElement(d.Tx,{id:"rcs.jamboard.connect_to_google_drive_disclaimer.cancel"})),n.createElement(s.Uv,{onClick:()=>{t(u._g()),m()},disabled:r,className:g.C},n.createElement(d.Tx,{id:"rcs.jamboard.connect_to_google_drive_disclaimer.button"}))))))},"ConnectToGoogleDriveDisclaimerModal")},940680:(e,t,r)=>{"use strict";r.d(t,{a4:()=>g,gj:()=>f});var n=r(307824),i=r(602216),a=r(120304),o=r(560072),l=r(323576),s=r(511196),c=r(762820),d=r(147048),u=r(203736),p=r(101040),m=r(46928),_=r(790068);let h="delightful-toolbar-media-button",g="InsertMediaModal",f=(0,u.U9)(function(){let e=(0,a.OY)(),t=(0,a.w1)(e=>{var t,r;return!!(null==(r=null==(t=e.modalShown)?void 0:t.data)?void 0:r.shouldMountCenter)}),r=n.useRef(null),u=t?{kind:"mountCenter"}:{kind:"buttonTarget",buttonTarget:h},{initialModalPosition:f,modalPosition:E,setModalPosition:y}=(0,d.iq)(u,157,320),b=n.useCallback(()=>{c.i46.triggerAction("set-tool-default",null),e(l.ek({type:g}))},[e]),v=n.useCallback(e=>{y(e)},[y]),I=!E||!!(null==f?void 0:f.equals(E));return(n.useEffect(()=>{let e=e=>{var t;let n=i.findDOMNode(null==(t=r.current)?void 0:t.getEl()),a=(0,s.S2)(h);if(!n||!a)return;let o=n.contains(e.target),l=a.contains(e.target);!I||o||l||b()};return document.addEventListener("pointerdown",e),()=>{document.removeEventListener("pointerdown",e)}},[b,I]),f)?n.createElement(p.G0,{ref:r,initialPosition:f,initialWidth:320,title:(0,o.t)("whiteboard.embeds.insert_embed_modal.title"),onClose:b,onDragStart:()=>c.i46.triggerActionInUserEditScope("set-tool-default",null),onDragEnd:v,dragHeaderOnly:!0,arrowRelativeX:t?void 0:160,arrowPosition:p.Wp.BOTTOM,smallArrow:!0,containerClassName:_.wO,headerClassName:_.CA,isFigJam:!0},n.createElement("div",{className:_.W8,"data-testid":"insert-media-modal"},n.createElement(m.a,{onSuccess:b}))):null},g)},149756:(e,t,r)=>{"use strict";let n;r.d(t,{OU:()=>T,UH:()=>C,qE:()=>A});var i=r(307824),a=r(120304),o=r(250008),l=r(427074),s=r(656716),c=r(843148),d=r(888932),u=r(570464),p=r(148276),m=r(560072),_=r(403132),h=r(191352),g=r(585508),f=r(762820),E=r(514916),y=r(203736),b=r(158196),v=r(360420),I=r(936524),w=r(812970);function T(e,t={}){var r,n;(0,o.we)("memory_warning_event",{currentAllocatedBytes:null==(r=f.Ehi)?void 0:r.getTotalUsedHeapMemory(),maxAllocatedBytes:null==(n=f.Ehi)?void 0:n.getMaxUsedHeapMemory(),...e,...t})}var S=((n=S||{}).SHOW_RELOAD="showReload",n.SHOW_RECOVERY_MODE="showRecoveryMode",n.SHOW_BROWSER_UPGRADE="showBrowserUpgrade",n.SHOW_BROWSER_UPGRADE_AND_DESKTOP_DOWNLOAD="showBrowserUpgradeAndDesktop",n);let C="memory-warning-modal";function A(e){var t,r;let n=g.CA.hasDesktopApp(),o=(0,a.w1)(e=>e.mirror.appModel.isReadOnly),y=(0,a.w1)(e=>e.selectedView),S=(0,h.me)(y)===E.aE.DESIGN,C=(0,a.w1)(e=>{var t;return null==(t=e.openFile)?void 0:t.key})||(null==(r=null==(t=(0,c.cp)().editing_file)?void 0:t.source_file)?void 0:r.key)||"",A=(0,a.OY)(),O={view:"fullscreen",editorType:S?"design":"whiteboard",fileKey:C,isRecoveryMode:!0},N=f.Ehi.getHeapMemoryMode()===f.G0k.RECOVERY,L=o||N?"showReload":d.cp.isWasm4gbSupported?"showRecoveryMode":n?"showBrowserUpgrade":"showBrowserUpgradeAndDesktop",R={chrome:"https://support.google.com/chrome/answer/95414",safari:"https://support.apple.com/en-us/HT204416",firefox:"https://support.mozilla.org/en-US/kb/update-firefox-latest-release",msedge:"https://support.microsoft.com/en-us/topic/update-to-the-new-microsoft-edge-182d0668-e3f0-49da-b8bb-db5675245dc2"},P=i.createElement(p.Gy,{onClick:()=>g.CA.navigateToURL(d.cp.mac?"/download/desktop/mac":"/download/desktop/win",f.iMK.NEW_TAB),trusted:!0},i.createElement(m.Tx,{id:"memory_warning_modal.desktop_app_download_link"})),M="showReload"===L?{title:(0,m.t)("memory_warning_modal.reload_modal_title"),content:(0,m.t)("memory_warning_modal.reload_modal_content"),contentCTA:(0,m.t)("memory_warning_modal.reload_modal_content_cta"),buttonCTA:(0,m.t)("memory_warning_modal.reload_page_button"),secondaryButtonCTA:(0,m.t)("memory_warning_modal.learn_more"),buttonExternalLink:null,secondaryButtonExternalLink:"https://help.figma.com/hc/articles/360040528173-Reduce-memory-usage-in-files/"}:"showRecoveryMode"===L?{title:(0,m.t)("memory_warning_modal.recovery_mode_modal_title"),content:(0,m.t)("memory_warning_modal.recovery_mode_modal_out_of_memory"),contentCTA:(0,m.t)("memory_warning_modal.recovery_mode_modal_content"),buttonCTA:(0,m.t)("memory_warning_modal.recovery_mode_button"),secondaryButtonCTA:(0,m.t)("memory_warning_modal.learn_more"),buttonExternalLink:null,secondaryButtonExternalLink:"https://help.figma.com/hc/articles/360040528173-Reduce-memory-usage-in-files/"}:"showBrowserUpgrade"===L?{title:(0,m.t)("memory_warning_modal.old_browser_out_of_memory_modal_title"),content:(0,m.t)("memory_warning_modal.old_browser_out_of_memory_modal_content"),contentCTA:(0,m.t)("memory_warning_modal.old_browser_out_of_memory_modal_content_cta_and_open_in_desktop"),buttonCTA:(0,m.t)("memory_warning_modal.old_browser_primary_button_cta"),secondaryButtonCTA:(0,m.t)("memory_warning_modal.open_in_desktop"),buttonExternalLink:d.cp.browserType&&R[d.cp.browserType]||null,secondaryButtonExternalLink:null}:{title:(0,m.t)("memory_warning_modal.old_browser_out_of_memory_modal_title"),content:(0,m.t)("memory_warning_modal.old_browser_out_of_memory_modal_content"),contentCTA:null,buttonCTA:(0,m.t)("memory_warning_modal.old_browser_primary_button_cta"),secondaryButtonCTA:null,buttonExternalLink:d.cp.browserType&&R[d.cp.browserType]||null,secondaryButtonExternalLink:null};return e.isBranching?i.createElement(v.W,null):i.createElement(b.wJ,{size:"small",className:w.kl,disableClickOutsideToHide:!0,dispatch:A},i.createElement("div",{className:I.m0},M.title),i.createElement("div",{className:I.YX},i.createElement("div",null,M.content,i.createElement("br",null),"\xa0",i.createElement("br",null)),"showBrowserUpgradeAndDesktop"===L?i.createElement(m.Tx,{id:"memory_warning_modal.old_browser_out_of_memory_modal_content_cta_and_download_desktop",desktopAppLink:P}):M.contentCTA,i.createElement("br",null)),i.createElement("div",{className:w.hy},M.secondaryButtonCTA&&i.createElement(p.wX,{recordingKey:u.Mx(e,"crash"),onClick:()=>{M.secondaryButtonCTA===(0,m.t)("memory_warning_modal.learn_more")&&T({warningEvent:"LEARN_MORE",fileKey:C},{isReadOnly:o}),"showBrowserUpgrade"===L&&(0,l.w5)(location.href)}},i.createElement("a",{className:I.Kc,href:M.secondaryButtonExternalLink||void 0,target:"_blank"},M.secondaryButtonCTA)),i.createElement(p.gV,{recordingKey:u.Mx(e,"crash"),className:w.I8,onClick:()=>{M.buttonCTA===(0,m.t)("memory_warning_modal.recovery_mode_button")&&T({warningEvent:"OPEN_RECOVERY_MODE",fileKey:C},{isReadOnly:o}),("showRecoveryMode"===L||o)&&A(_.Ej(O)),("showReload"===L||"showRecoveryMode"===L)&&s.default.reload("Memory warning panel")}},i.createElement("a",{className:I.aq,href:M.buttonExternalLink||void 0,target:"_blank"},M.buttonCTA))))}(0,y.Ko)(C,e=>{let{isBranching:t}=e.modalShown.data;return i.createElement(A,{isBranching:t})})},357652:(e,t,r)=>{"use strict";r.d(t,{UV:()=>k,UX:()=>P,Y3:()=>M,ey:()=>D,g$:()=>L,g5:()=>C,k3:()=>R,uO:()=>A});var n=r(307824),i=r(125504),a=r.n(i),o=r(721500),l=r(421428),s=r(372152),c=r(838836),d=r(105516),u=r(148276),p=r(4596),m=r(144459),_=r(441388),h=r(644092),g=r(266772),f=r(503324),E=r(679804),y=r(101040),b=r(871340),v=r(629600),I=r(763456),w=r(664928),T=r(166996),S=r(156780);let C=(0,o.I)(I.ELe);function A(e){let t=(0,h.aQ)(),r=(0,E.OM)({subscribeToUpdates_expensive:!0}),i=n.useRef({x:0,y:0,width:0,height:0,angle:0,absoluteBounds:{x:0,y:0,width:0,height:0},page:p.Q9}),[a,o]=n.useState({left:0,top:0,pointerOffset:0,pointerPosition:0}),l=n.useMemo(()=>(0,b.W8)(e.pointerType||b.cD.arrow),[e.pointerType]),s=e.topPadding||-l.pointerTargetOverlap,c=n.useCallback(()=>{if(!i.current){o(null);return}let n=(0,E.C)(r,i.current.absoluteBounds),a={x:n.x+r.x,y:n.y+r.y,height:n.height,width:n.width};o((0,b.vr)({width:e.width,height:e.height,targetRect:a,positioningConstants:l,alignPointerToLeft:e.alignPointerToLeft,shouldCenterArrow:e.shouldCenterArrow,topPadding:s,arrowPosition:e.arrowPosition,targetType:"canvas",viewportTopOffset:r.y,viewportBottomOffset:t}))},[e.height,e.width,l,e.alignPointerToLeft,e.shouldCenterArrow,s,t,e.arrowPosition,r]);return n.useEffect(()=>{var t;let r=(0,f.S_)(`useCanvasNodeRepositioning-${e.targetKey}`,[e.targetKey],e=>{i.current=e.position,c()});return i.current=(null==(t=r.currentNodePosition[e.targetKey])?void 0:t.position)||null,c(),()=>{(0,f.O4)(`useCanvasNodeRepositioning-${e.targetKey}`)}},[e.targetKey,c]),(0,v.K6)({location:a,onTargetLost:e.onTargetLost,targetKey:e.targetKey,targetType:"canvas"}),a}function O(e,t){switch(e){case y.Wp.TOP:case y.Wp.BOTTOM:return{left:t};case y.Wp.LEFT_TITLE:return{top:t};case y.Wp.RIGHT_TITLE:case y.Wp.RIGHT_BODY:return{}}}let N={[y.Wp.TOP]:{foregroundStyle:w.qM,backgroundStyle:w.S8},[y.Wp.BOTTOM]:{foregroundStyle:w.In,backgroundStyle:w.oz},[y.Wp.LEFT_TITLE]:{foregroundStyle:w.cp,backgroundStyle:w.We},[y.Wp.RIGHT_TITLE]:{foregroundStyle:w.IH,backgroundStyle:w.qC},[y.Wp.RIGHT_BODY]:{foregroundStyle:w.IH,backgroundStyle:w.qC}};function L(e){let{foregroundStyle:t,backgroundStyle:r}=N[e.arrowPosition],i={...e.modalColor?{backgroundColor:e.modalColor}:{},...e.arrowOffset?O(e.arrowPosition,e.arrowOffset):{}},a={...e.modalColor?{backgroundColor:e.modalColor}:{},...e.pointerBorder?{backgroundColor:e.pointerBorderColor||"#444444"}:{},...e.arrowOffset?O(e.arrowPosition,e.arrowOffset):{}};return n.createElement(n.Fragment,null,n.createElement("div",{"aria-hidden":!0,className:r,style:a}),n.createElement("div",{"aria-hidden":!0,className:t,style:i}))}function R(e){let t=(0,b.W8)(b.cD.arrow),r=e.width||t.defaultModalWidth,i=e.backgroundColor,a=e.onVisibilityChange,[o,l]=n.useState(0),s=n.useCallback(e=>{null!==e&&l(e.getBoundingClientRect().height)},[]),c=(e.isCanvasNode?A:v.IN)({targetKey:e.targetKey,height:o,width:r+2*C,topPadding:e.topPadding,alignPointerToLeft:e.alignPointerToLeft,shouldScrollTargetIntoView:e.shouldScrollTargetIntoView,shouldCenterArrow:e.shouldCenterArrow,arrowPosition:e.arrowPosition,onTargetLost:e.onTargetLost}),u=!!c;if(n.useEffect(()=>{a&&a(u)},[u,a]),!c)return null;let p={left:c.left,top:c.top,width:r};e.topOffset&&(p.marginTop=e.topOffset),e.leftOffset&&(p.marginLeft=e.leftOffset);let m=e.backgroundColor?{backgroundColor:e.backgroundColor}:{};return n.createElement("div",{className:`${e.className||w.C6} ${e.noAnimation?w.MJ:""}`,style:{...p,...m},ref:s,onMouseLeave:e.onMouseLeave,onMouseDown:e.onMouseDown,role:"none"},n.createElement("div",{ref:e.containerRef,role:"tooltip"},!e.shouldHideArrow&&n.createElement(L,{arrowPosition:c.pointerPosition,arrowOffset:c.pointerOffset,modalColor:i}),e.shouldNotWrapInParagraphTag?e.children:n.createElement("p",null,e.children),e.dismissModal&&n.createElement(d.CA,{useOriginalSrcFills_DEPRECATED:!0,className:w.yy,onClick:e.dismissModal,innerText:"close",svg:S.c})))}function P(e){let{arrowPosition:t}=e,r=(0,b.W8)(b.cD.arrow),i=e.width||r.defaultModalWidth,a=e.backgroundColor,o="dark"===(0,g.qG)(),l="light"===e.background,[s,c]=n.useState(0),p=n.useCallback(e=>{null!==e&&c(e.getBoundingClientRect().height)},[]),m=(0,v.IN)({targetKey:e.targetKey,height:s,width:i+2*C,topPadding:e.topPadding,shouldCenterArrow:e.shouldCenterArrow,alignPointerToLeft:e.alignPointerToLeft,...t&&{arrowPosition:t}});if(!m&&!e.shouldCenterModal)return null;let h=l&&!o,f=n.createElement(d.CA,{useOriginalSrcFills_DEPRECATED:!0,className:`${w.aS} ${!h&&e.isUI3?w.gV:""}`,onClick:e.dismissModal,innerText:"close",svg:h?T.c:S.c}),E=n.createElement("div",null,e.ctaText&&e.onClickPrimaryCta&&n.createElement("div",{className:w.cr},e.bottomLeftText&&n.createElement("b",null,e.bottomLeftText),n.createElement("div",{className:w.sP},e.secondaryCtaText&&e.onClickSecondaryCta&&n.createElement(_.Ix,{className:l?w.AD:w.UF,onClick:e.onClickSecondaryCta,"aria-hidden":!0},e.secondaryCtaText),e.ctaText&&e.onClickPrimaryCta&&n.createElement(u.Uv,{className:l?w.aG:w.I5,onClick:e.onClickPrimaryCta,trackingProperties:e.buttonContext?{buttonContext:e.buttonContext}:void 0},e.ctaText)))),y={backgroundColor:a,width:i,margin:e.topOffset?`${e.topOffset}px auto`:"auto"},I=m?{left:m.left,top:m.top}:{left:0,right:0,top:0,bottom:0};return n.createElement("div",{className:l?w.OY:w.sT,ref:p,style:{...y,...I}},n.createElement("div",null,m&&n.createElement(L,{arrowPosition:m.pointerPosition,arrowOffset:m.pointerOffset,modalColor:l?"var(--color-bg)":void 0}),n.createElement("h1",null,e.title),e.children,f),E)}let M=n.forwardRef(function(e,t){let[r,i]=n.useState(0),a=n.useCallback(e=>{null!==e&&i(e.getBoundingClientRect().height),null!=t&&(t.current=e)},[t]),o=n.useRef(null),s=e.disableClickOutsideToHide?c.Kw:e.dismissModal;(0,l.M)(o,s);let u=n.useRef(null),p=(0,v.IN)({targetKey:e.targetKey,height:r,width:e.width+2*C,topPadding:e.topPadding,shouldCenterArrow:e.shouldCenterArrow,arrowPosition:e.arrowPosition,onTargetLost:e.onTargetLost});n.useEffect(()=>{p&&(u.current=p)},[p]);let _=p||u.current,h=e.hideIfTargetLost&&null==p;if(!_||h||e.shouldDismissWhenLostDOMTarget&&!p)return null;let g=e.pointerBackgroundColor||"var(--color-border, rgba(0, 0, 0, 0.2))",f=e.pointerForegroundColor||"var(--color-bg, white)",E={left:_.left,top:_.top,width:e.width};e.height&&(E.height=e.height);let y=e.animateQuickly?w.cD:w.Ky;return n.createElement("div",{ref:o},n.createElement("div",{className:e.className?`${e.className}`:y,style:E,ref:a,"data-testid":"walkThroughModal"},!e.hidePointer&&n.createElement(L,{arrowPosition:_.pointerPosition,arrowOffset:_.pointerOffset,modalColor:f,pointerBorderColor:g,pointerBorder:!0}),e.children,!e.hideCloseButton&&n.createElement(d.CA,{className:`${w.yy} ${e.closeButtonClassName||""}`,onClick:()=>{e.additionalOnExplicitDismiss&&e.additionalOnExplicitDismiss(),e.dismissModal()},innerText:"close",svg:T.c,trackingProperties:{trackingDescriptor:m.O.CLOSE_BUTTON}})))});function k({skipConnectorModal:e,shouldSkipConnectorModalAtom:t}){let[r,n]=(0,s.lZ)(t);return r&&e&&e(),{handleTargetLost:function(t,r){t&&("canvas"===r&&n(!0),e&&e())}}}function D(e){return n.createElement(F,{useRepositioning:"canvas"===e.targetType?A:v.IN,targetType:e.targetType,targetKey:e.targetKey,topPadding:e.topPadding,isBold:e.isBold,hasShadow:e.hasShadow,arrowPosition:e.arrowPosition,children:e.children,autoWidth:e.autoWidth,fixedWidth:e.fixedWidth,shouldHideArrow:e.shouldHideArrow,shouldCenterArrow:e.shouldCenterArrow,onTargetLost:e.onTargetLost})}function F(e){let t=(0,b.W8)(b.cD.connector),[r,i]=n.useState(0),[o,l]=n.useState(0),s=n.useRef(null),c=e.useRepositioning({targetKey:e.targetKey,height:r,width:e.autoWidth?o:e.fixedWidth?e.fixedWidth:t.defaultModalWidth,topPadding:e.topPadding,pointerType:b.cD.connector,arrowPosition:e.arrowPosition,shouldCenterArrow:e.shouldCenterArrow});return(n.useLayoutEffect(()=>{let e=s.current;if(!e)return;let t=new ResizeObserver(()=>{let t=e.getBoundingClientRect();i(t.height),l(t.width)});return t.observe(e),()=>t.disconnect()},[c]),c)?n.createElement("div",{className:a()({[w.ob]:!0,[w.i4]:!e.isBold,[w.WI]:!!e.isBold,[w.Up]:!!e.hasShadow,[w.aM]:"dom"===e.targetType,[w.hA]:"canvas"===e.targetType}),style:{left:c.left,top:c.top,width:e.autoWidth?"auto":e.fixedWidth?e.fixedWidth:t.defaultModalWidth},ref:s},!e.shouldHideArrow&&n.createElement(x,{connectorPosition:c.pointerPosition,connectorOffset:c.pointerOffset,isBold:e.isBold}),e.children):null}function x(e){let t=n.createElement("div",{className:a()({[w.mI]:!0,[w.q6]:!0}),style:{left:e.connectorOffset}},n.createElement("div",{className:a()({[w.qc]:!0,[w.i4]:!e.isBold,[w.WI]:!!e.isBold})}),n.createElement("div",{className:a()({[w.u2]:!0,[w.i4]:!e.isBold,[w.WI]:!!e.isBold})})),r=n.createElement("div",{className:a()({[w.mI]:!0,[w.Q7]:!0}),style:{left:e.connectorOffset}},n.createElement("div",{className:a()({[w.u2]:!0,[w.i4]:!e.isBold,[w.WI]:!!e.isBold})}),n.createElement("div",{className:a()({[w.qc]:!0,[w.i4]:!e.isBold,[w.WI]:!!e.isBold})})),i=n.createElement("div",{className:a()({[w.mI]:!0,[w.kR]:!0}),style:{top:e.connectorOffset}},n.createElement("div",{className:a()({[w.qc]:!0,[w.i4]:!e.isBold,[w.WI]:!!e.isBold})}),n.createElement("div",{className:a()({[w.mO]:!0,[w.i4]:!e.isBold,[w.WI]:!!e.isBold})})),o=n.createElement("div",{className:a()({[w.mI]:!0,[w.wz]:!0}),style:{top:e.connectorOffset}},n.createElement("div",{className:a()({[w.mO]:!0,[w.i4]:!e.isBold,[w.WI]:!!e.isBold})}),n.createElement("div",{className:a()({[w.qc]:!0,[w.i4]:!e.isBold,[w.WI]:!!e.isBold})}));return n.createElement(n.Fragment,null,e.connectorPosition===y.Wp.TOP&&t,e.connectorPosition===y.Wp.BOTTOM&&r,e.connectorPosition===y.Wp.LEFT_TITLE&&i,e.connectorPosition===y.Wp.RIGHT_TITLE&&o,e.connectorPosition===y.Wp.RIGHT_BODY&&o)}},622987:(e,t,r)=>{"use strict";r.d(t,{Cg:()=>T,If:()=>I,Iz:()=>A,UV:()=>O,Uh:()=>R,WC:()=>C,Y5:()=>L,YC:()=>S,am:()=>M,cL:()=>w,oF:()=>P,yK:()=>N});var n=r(307824),i=r(120304),a=r(841152),o=r(537096),l=r(698240),s=r(560072),c=r(907236),d=r(762820),u=r(815464),p=r(362592),m=r(784528),_=r(101040),h=r(90268),g=r(518256),f=r(675756),E=r(895445),y=r(384456),b=r(350264);function v(){return n.createElement(a.kt,{color:a.Eo.DEFAULT,text:(0,s.t)("pro_onboarding.professional"),className:l.cx.colorTextBrand.colorBgSelectedSecondary.font11.$})}function I({dismissModal:e}){return n.createElement(f.qy,{dismissModal:e,pointerTargetKey:"create-new-project-permission-dropdown",arrowPosition:_.Wp.RIGHT_BODY,title:(0,s.t)("pro_onboarding.protect_your_projects"),subtitle:(0,s.t)("pro_onboarding.change_who_can_edit_and_view_your_files_on_your_professional_plan"),width:320,badge:n.createElement(v,null)})}function w({dismissModal:e}){let t="team-view-new-project-cta";return n.createElement(f.qy,{dismissModal:e,pointerTargetKey:t,calloutTargetKey:t,arrowPosition:_.Wp.TOP,title:(0,s.t)("pro_onboarding.hello_organized_files"),subtitle:(0,s.t)("pro_onboarding.now_that_you_re_on_a_professional_team_move_your_files_into_project"),width:320,shouldCenterArrow:_.yi.FALLBACK,badge:n.createElement(v,null)})}function T({dismissModal:e,canCreateFigjamBoard:t}){let r="folder-page-view-new-file-cta";return n.createElement(f.qy,{dismissModal:e,pointerTargetKey:r,calloutTargetKey:r,arrowPosition:_.Wp.TOP,title:t?(0,s.t)("pro_onboaridng.so_many_files_and_boards"):(0,s.t)("pro_onboaridng.so_many_files"),subtitle:t?(0,s.t)("pro_onboaridng.you_now_get_unlimited_design_files_pages_and_figjam_boards"):(0,s.t)("pro_onboaridng.you_now_get_unlimited_design_files"),width:320,shouldCenterArrow:_.yi.FALLBACK,badge:n.createElement(v,null)})}function S({dismissModal:e}){let t="share-prototype";return n.createElement(f.qy,{dismissModal:e,pointerTargetKey:t,calloutTargetKey:t,arrowPosition:_.Wp.TOP,title:(0,s.t)("pro_onboarding.prototpye_only_links"),subtitle:(0,s.t)("pro_onboarding.on_your_professional_plan_you_can_share_prototypes"),width:300,badge:n.createElement(v,null)})}function C({dismissModal:e}){let t="meeting-panel-button";return n.createElement(f.qy,{dismissModal:e,pointerTargetKey:t,calloutTargetKey:t,arrowPosition:_.Wp.TOP,title:(0,s.t)("pro_onboarding.start_a_voting_session"),subtitle:(0,s.t)("pro_onboarding.if_you_want_to_reach_a_decision_keep_things_simple_with_a_figjam_vote"),width:320,badge:n.createElement(v,null)})}function A({dismissModal:e}){return n.createElement(f.qy,{dismissModal:e,pointerTargetKey:"pages-panel-toggle",calloutTargetKey:"pages-panel-toggle",arrowPosition:_.Wp.LEFT_TITLE,title:(0,s.t)("rcs.pro_trials_onboarding.unlimited_pages_title"),subtitle:n.createElement(s.Tx,{id:"rcs.pro_trials_onboarding.unlimited_pages_subtitle",maxFreePages:u.We}),width:320,badge:n.createElement(v,null)})}function O({dismissModal:e}){let t=(0,i.w1)(e=>e.multiplayer.allUsers.length>1),r=t?"audio-nux-key":g.oN,a=t?(0,s.t)("pro_onboarding.if_other_people_are_in_your_file_select_the_headphones"):(0,s.t)("rcs.pro_trials_onboarding.audio_subtitle_without_multiple_users");return n.createElement(f.qy,{dismissModal:e,pointerTargetKey:r,calloutTargetKey:r,arrowPosition:_.Wp.TOP,title:(0,s.t)("rcs.pro_trials_onboarding.audio_title"),subtitle:a,width:320,badge:n.createElement(v,null)})}function N({dismissModal:e}){return n.createElement(f.qy,{dismissModal:e,pointerTargetKey:"file-workshop-row",calloutTargetKey:"file-workshop-button",arrowPosition:_.Wp.RIGHT_TITLE,title:(0,s.t)("rcs.pro_trials_onboarding.open_sessions_title"),subtitle:(0,s.t)("rcs.pro_trials_onboarding.open_sessions_subtitle"),width:300,badge:n.createElement(v,null)})}function L({dismissModal:e}){let t=[(0,s.t)("rcs.pro_trials_onboarding.password_protection_first_instruction",{linkAccessOptionText:(0,s.t)("file_access_row.anyone_with_the_link_and_password")}),(0,s.t)("rcs.pro_trials_onboarding.password_protection_second_instruction")];return n.createElement(f.qy,{dismissModal:e,pointerTargetKey:"file-access-row",calloutTargetKey:h.zE,arrowPosition:_.Wp.RIGHT_TITLE,title:(0,s.t)("rcs.pro_trials_onboarding.password_protection_title"),width:320,instructions:t,disableClickOutsideToHide:!0,badge:n.createElement(v,null)})}function R({dismissModal:e}){let t=(0,i.OY)(),r=(0,i.w1)(e=>Object.keys(e.library.local.components).length>0),a=(0,i.w1)(e=>e.mirror.appModel.keyboardShortcuts),l=(0,m.O0)(a,"create-symbol");n.useEffect(()=>{t(c.wN({tab:d.W8r.ASSETS}))},[]);let u=n.createElement(o.A,{svg:b.c,title:(0,s.t)("rcs.pro_trials_onboarding.component_publishing_team_library_icon"),role:"img",ariaLabel:(0,s.t)("rcs.pro_trials_onboarding.component_publishing_team_library_icon"),autosize:!0}),h=n.createElement(o.A,{svg:y.c,title:(0,s.t)("rcs.pro_trials_onboarding.component_publishing_create_component_icon"),role:"img",ariaLabel:(0,s.t)("rcs.pro_trials_onboarding.component_publishing_create_component_icon"),autosize:!0}),g=[n.createElement(n.Fragment,null,n.createElement(s.Tx,{id:"rcs.pro_trials_onboarding.component_publishing_second_instruction_with_components",teamLibraryIcon:u})),(0,s.t)("rcs.pro_trials_onboarding.component_publishing_third_instruction_with_components",{publishButtonText:(0,s.t)("design_systems.libraries_modal.publish")})],E=[(0,s.t)("rcs.pro_trials_onboarding.component_publishing_first_instruction_without_components"),n.createElement(n.Fragment,null,n.createElement(s.Tx,{id:"rcs.pro_trials_onboarding.component_publishing_second_instruction_without_components",createComponentIcon:h,createComponentShortcut:l}))],I=r?(0,s.t)("rcs.pro_trials_onboarding.component_publishing_title_with_components"):(0,s.t)("rcs.pro_trials_onboarding.component_publishing_title_without_components"),w=r?void 0:(0,s.t)("rcs.pro_trials_onboarding.component_publishing_subtitle_without_components");return n.createElement(f.qy,{dismissModal:e,pointerTargetKey:p.C,calloutTargetKey:p.C,arrowPosition:_.Wp.LEFT_TITLE,title:I,subtitle:w,width:320,instructions:r?g:E,badge:n.createElement(v,null)})}function P({dismissModal:e}){let t=n.createElement(o.A,{svg:E.c,title:(0,s.t)("rcs.pro_trials_onboarding.video_icon"),role:"img",ariaLabel:(0,s.t)("rcs.pro_trials_onboarding.video_icon"),autosize:!0}),r=n.createElement(s.Tx,{id:"rcs.pro_trials_onboarding.video_subtitle",imageOrVideoIcon:t});return n.createElement(f.qy,{dismissModal:e,pointerTargetKey:"tool-place-image",calloutTargetKey:"tool-place-image",arrowPosition:_.Wp.LEFT_TITLE,title:(0,s.t)("rcs.pro_trials_onboarding.video_title"),subtitle:r,width:320,badge:n.createElement(v,null)})}function M({dismissModal:e}){let t="local-variables-panel-title";return n.createElement(f.qy,{dismissModal:e,pointerTargetKey:t,calloutTargetKey:t,arrowPosition:_.Wp.LEFT_TITLE,title:(0,s.t)("pro_onboarding.variables_save_you_time"),subtitle:n.createElement(s.Tx,{id:"pro_onboarding.use_variables_in_components_and_prototypes"}),width:320,badge:n.createElement(v,null)})}},926912:(e,t,r)=>{"use strict";r.d(t,{_:()=>E});var n=r(307824),i=r(120304),a=r(87975),o=r(148276),l=r(577824),s=r(560072),c=r(323576),d=r(449388),u=r(441388),p=r(142548),m=r(203736),_=r(866408),h=r(23024),g=r(832404),f=r(812970);let E=(0,m.U9)(function(e){let[t,r]=n.useState(""),m=(0,i.OY)(),E=1===Object.values((0,i.w1)(e=>e.teams)).length,y=e=>{e.preventDefault(),m(c.oN())},b=n.useCallback(()=>{m(c.oN()),m((0,c.A5)({type:_.u8,data:{teamId:e.team.id}}))},[m,e.team.id]);if(!e.team.org_id&&e.subscriptionStatus)return n.createElement(u.kH,{name:"Blocked Pro Team Delete Modal"},n.createElement(h.ox,{title:(0,s.t)("team_delete_modal.pro_plan_cancel_modal_header"),confirmText:(0,s.t)("team_delete_modal.proceed_to_cancel"),onConfirm:()=>{m((0,c.A5)({type:g.W,data:{teamId:e.team.id,onContinue:b}}))},cancelText:(0,s.t)("team_delete_modal.dismiss"),trackedConfirmationProperties:{teamId:e.team.id}},n.createElement(s.Tx,{id:"team_delete_modal.cancel_to_delete_team",teamName:e.team.name})));let v=e.team.name!==t;return n.createElement(u.kH,{name:"Team Delete Modal",properties:{teamid:e.team.id}},n.createElement(h.Cc,{maxWidth:344,minWidth:344,fixedTop:!0,onClose:y,title:(0,s.t)("team_delete_modal.delete_this_props_team_name",{teamName:e.team.name})},n.createElement("div",{className:f.uQ},n.createElement(s.Tx,{id:"team_delete_modal.warning_confirmation_text",teamName:n.createElement("span",{className:f.II},e.team.name)}),n.createElement("div",null,n.createElement("div",null,"\xa0"),n.createElement(s.Tx,{id:"team_delete_modal.days_to_undo_deletion",numDays:n.createElement("span",{className:f.II},n.createElement(s.Tx,{id:"team_delete_modal.days_for_team_deletion_undo",numDays:28}))})),n.createElement("div",null,"\xa0"),n.createElement(s.Tx,{id:"team_delete_modal.to_confirm_please_enter_the_name_of_the_team"}),n.createElement("form",{onSubmit:t=>{t.preventDefault(),m(d.E5({team:e.team,userInitiated:!0,teamDelete:!0})),m(c.Kw()),r("")}},n.createElement("div",null,n.createElement(l.y,{className:f.MT,type:"text",value:t,onKeyDown:e=>{e.keyCode===a.as.ENTER&&e.preventDefault()},onChange:e=>{r(e.currentTarget.value)},autoComplete:"off",autoCorrect:"off",autoCapitalize:"off",spellCheck:!1})),E&&n.createElement(n.Fragment,null,n.createElement("div",null,"\xa0"),n.createElement(s.Tx,{id:"team_delete_modal.deleting_last_team_notice",notice:n.createElement("span",{className:f.II},n.createElement(s.Tx,{id:"team_delete_modal.warning_note"}))})),n.createElement("div",{className:f.hy},n.createElement(o.wX,{onClick:y},n.createElement(s.Tx,{id:"general.cancel"})),n.createElement(o.y2,{type:"submit",className:f.I8,disabled:v},n.createElement("span",{"data-tooltip":(0,s.t)("team_delete_modal.to_confirm_please_enter_the_name_of_the_team"),"data-tooltip-type":v?p.wL.TEXT:null},n.createElement(s.Tx,{id:"team_delete_modal.delete_team"}))))))))},"TeamConfirmDeleteModal")},812448:(e,t,r)=>{"use strict";r.d(t,{M:()=>f,q:()=>_});var n=r(307824),i=r(250008),a=r(4580),o=r(148276),l=r(703520),s=r(560072),c=r(762820),d=r(84656),u=r(158196),p=r(203736),m=r(812970);let _="upgrading-modal";(0,p.Ko)(_,e=>n.createElement(h,{upgradingState:e.modalShown.data.upgradingState,dispatch:e.dispatch}));class h extends n.Component{render(){let e=this.props.upgradingState===c.XcX.UPGRADING?(0,s.t)("multiplayer_upgrade_modal.content_saving"):(0,s.t)("multiplayer_upgrade_modal.content_reloading");return n.createElement(u.wJ,{size:"small",className:m.kl,disableClickOutsideToHide:!0,dispatch:this.props.dispatch},n.createElement("div",{className:m.e},n.createElement(s.Tx,{id:"multiplayer_upgrade_modal.title"})),n.createElement("div",{className:m.YX},e),n.createElement("div",{className:m.hy},n.createElement(l.M7,null)))}}h.displayName="UpgradingModal";class g extends n.Component{constructor(){super(...arguments),this.noOp=e=>e,this.onUpdateClicked=()=>{(0,i.we)("Upgrade Modal Clicked"),c.Abq.startUpgrade()}}render(){let{multiplayerSessionState:e,isReadOnly:t}=this.props,r=e!==c.XcX.UNJOINED;return e===c.XcX.UPGRADING||e===c.XcX.WAITING_FOR_RELOAD?null:n.createElement(u.wJ,{size:"small",className:m.kl,disableClickOutsideToHide:!0,dispatch:this.noOp},n.createElement("div",{className:m.e},n.createElement(s.Tx,{id:"multiplayer_upgrade_modal.title"})),n.createElement("div",{className:m.YX},n.createElement(s.Tx,{id:"multiplayer_upgrade_modal.content"}),!r&&n.createElement("span",null,n.createElement("br",null),"\xa0",n.createElement("br",null),n.createElement(s.Tx,{id:"multiplayer_upgrade_modal.content_offline"}))),r&&n.createElement("div",{className:m.hy},n.createElement(o.gV,{onClick:this.onUpdateClicked},t?n.createElement(s.Tx,{id:"multiplayer_upgrade_modal.reload_button"}):n.createElement(s.Tx,{id:"multiplayer_upgrade_modal.save_and_reload_button"}))))}}function f(){var e,t;let{multiplayerSessionState:r,isReadOnly:i}=(0,a.q)(e=>({multiplayerSessionState:e.mirror.appModel.multiplayerSessionState,isReadOnly:e.mirror.appModel.isReadOnly}));return(0,d.U3)(null==(t=null==(e=c.KEP)?void 0:e.uiState())?void 0:t.showOutOfDateWall,!1)?n.createElement(g,{multiplayerSessionState:r,isReadOnly:i}):null}g.displayName="OutOfDateWall"},194572:(e,t,r)=>{"use strict";r.d(t,{c7:()=>m,oj:()=>g,sj:()=>f});var n=r(307824),i=r(120304),a=r(441748),o=r(557044),l=r(778524),s=r(323576),c=r(168404),d=r(251596),u=r(440668),p=r(6888);let m="link_expired_event";function _(e){o.cp.put(`/api/files/${e}/expire_public_link`)}let h=(e,t)=>{let r=n.useRef(null);n.useEffect(()=>{let n=e?(0,a.c)(e).diff((0,a.c)()):void 0;return void 0!==n&&n<2147483647?(r.current&&clearTimeout(r.current),r.current=setTimeout(()=>{r.current=null,t()},n)):r.current&&(clearTimeout(r.current),r.current=null),()=>{r.current&&clearTimeout(r.current)}},[e,t])};function g(e){let t=(0,d.C2)(),r=(0,i.OY)(),{file:a,onCanvasExpired:o}=e,p=null==a?void 0:a.key,g=(0,c.K)(e.file),f=n.useRef(void 0),E=null==g?void 0:g.activeExpiration,y=null==g?void 0:g.file,b=null==y?void 0:y.hasViewPrototypeRole,v=null==g?void 0:g.accessReverted;n.useEffect(()=>{var e,t;b&&v&&!(null==(e=f.current)?void 0:e.accessReverted)&&g.expiresAt&&g.expiresAt===(null==(t=f.current)?void 0:t.expiresAt)&&(0,l.Y9)({id:m}),f.current=g},[g,v,b]),h(E,n.useCallback(()=>{p&&(b&&t||(r(s.A5({type:u.G})),null==o||o()),_(p))},[r,o,p,t,b]))}function f(e,t){var r;h(null==(r=(0,p.uw)(t))?void 0:r.toISOString(),n.useCallback(()=>{_(e)},[e]))}},90268:(e,t,r)=>{"use strict";r.d(t,{s5:()=>en,zE:()=>et});var n=r(307824),i=r(386760),a=r(43636),o=r(998200),l=r(716540),s=r(310664),c=r(153532),d=r(180384),u=r(562416),p=r.n(u),m=r(843148),_=r(838836),h=r(326660),g=r(936756),f=r(58908),E=r(148276),y=r(805388),b=r(537096),v=r(968240),I=r(560072),w=r(323576),T=r(202613),S=r(846004),C=r(514916),A=r(815464),O=r(706148),N=r(841676),L=r(144984),R=r(200800),P=r(246120),M=r(142548),k=r(694752),D=r(428096),F=r(110860),x=r(907788),U=r(327852),B=r(6888),G=r(557008),V=r(440064),H=r(395792),W=r(764636),K=r(159284),Y=r(514840),q=r(218404),j=r(692340),$=r(54780),Z=r(5220),z=r(83012),Q=r(389560),X=r(946188),J=r(650484),ee=r(183500);let et="file-share-audience-select-key",er="file-share-level-select-key";class en extends n.PureComponent{constructor(){super(...arguments),this.state={descriptionModeExpanded:!1,unsavedDropdownValues:null,isLinkExpirationInputDisplayed:!!this.getExpiration()||(0,O.kP)(this.props.sharedOrgLicenseGroupSetting),publicLinkDisplayState:V.iO.VIEW},this.onCollapseDescription=()=>{this.setState({descriptionModeExpanded:!1})},this.onExpandDescription=()=>{this.setState({descriptionModeExpanded:!0})},this.onUpdateUnsavedDropdownValues=e=>{this.setState({unsavedDropdownValues:e})},this.onUpdatePublicLinkDisplayStatus=e=>{this.setState({publicLinkDisplayState:e})},this.onResetProperties=()=>{this.setState({unsavedDropdownValues:null,publicLinkDisplayState:V.iO.VIEW})},this.onDropdownValuesChange=e=>{var t;let r={},n=this.state.unsavedDropdownValues||(0,x.SA)(this.props.permissions),{filePayload:i,transformedValues:a}=(0,x.us)(n,e,this.props.team,this.props.org,this.props.isFreeUserOnly,this.props.isInDraftsFolder,(0,L.sZ)(this.props.editorType)),o=(0,x.EF)(a),l=(0,O.kP)(this.props.sharedOrgLicenseGroupSetting),s=(0,x.GO)(this.props.mainFileLinkExpirationConfig),c=l&&o&&!this.props.isBranch&&!s||l&&o&&!this.props.isBranch&&s&&n.audience!==e.audience||(0,V.MB)(this.state.publicLinkDisplayState)&&n.audience===a.audience&&o;if("public-password"!==n.audience&&"public-password"===a.audience){if(this.props.team&&!this.props.org&&!(0,A.So)(this.props.team)){if(!(0,L.gz)(this.props.editorType)){(0,h.oP)(f._.MONETIZATION,Error("Paywall: Wrong editor type for pro feature"),{extra:{editorType:this.props.editorType,teamId:null==(t=this.props.team)?void 0:t.id}});return}this.props.dispatch((0,w.A5)({type:k.EP,data:{team:this.props.team,editorType:this.props.editorType,resource:N.We.PASSWORD_PROTECTION,currentPlan:T.O.Plan.STARTER,upsellPlan:T.O.Plan.PRO}}));return}(()=>{this.setState({unsavedDropdownValues:a,publicLinkDisplayState:l?V.iO.EDIT_PWD_AND_EXP:V.iO.EDIT_PWD,isLinkExpirationInputDisplayed:!1})})();return}if("public-password"===n.audience&&"public-password"!==a.audience&&Object.assign(r,{publicLinkDisplayState:V.iO.VIEW,unsavedDropdownValues:null}),o&&(!(0,x.EF)(n)||n.audience!==e.audience)&&(l&&!this.props.isBranch||this.props.isBranch&&this.getExpiration())&&Object.assign(r,{isLinkExpirationInputDisplayed:!0,publicLinkDisplayState:this.props.isBranch?V.iO.VIEW:V.iO.EDIT_EXP}),"edit"===n.level&&"edit"!==a.level&&!this.props.hasEditRole&&!this.props.isOwner){let e=this.props.modalShown;this.props.dispatch(w.A5({type:D.K,data:{onConfirm:()=>{e&&this.props.dispatch(w.A5(e)),c?this.onUpdateUnsavedDropdownValues(a):this.props.onUpdate(i)},onCancel:()=>{e&&this.props.dispatch(w.A5(e))}}}));return}if(!this.props.isBranch&&this.props.containingRepo&&function(e,t){if(!t.has_active_branches)return!1;switch(e){case"inherit":return!0;case"org":case"org-browsable":if(t.link_access===C.O6.VIEW||t.link_access===C.O6.EDIT)return!0;return!1;default:return!1}}(e.audience,this.props.containingRepo)){this.props.dispatch(w.A5({type:F.M,data:{repoId:this.props.containingRepo.id,onConfirm:()=>{this.props.onUpdate(i)}}}));return}o||c||Object.assign(r,{publicLinkDisplayState:V.iO.VIEW,unsavedDropdownValues:null}),c?Object.assign(r,{unsavedDropdownValues:a}):(this.props.onUpdate(i),Object.assign(r,{unsavedDropdownValues:null})),this.setState(r)}}componentDidUpdate(e){let t={};p()(this.getAccessPermissions(this.props.permissions),this.getAccessPermissions(e.permissions))||(0,x.wZ)(this.props.permissions)||Object.assign(t,{unsavedDropdownValues:null}),p()(this.getExpiration(),(0,B.uw)(e.mainFileLinkExpirationConfig))||Object.assign(t,{isLinkExpirationInputDisplayed:!!this.getExpiration()||(0,O.kP)(this.props.sharedOrgLicenseGroupSetting)}),this.setState(t)}getAccessPermissions(e){return{has_file_link_password:e.has_file_link_password,has_proto_link_password:e.has_proto_link_password,link_access:e.link_access,proto_link_access:e.proto_link_access,org_browsable:e.org_browsable}}getExpiration(){return(0,B.uw)(this.props.mainFileLinkExpirationConfig)}shouldShowDescription(){var e;if((0,P.EZ)())return!1;let t=this.props.org,r=this.state.unsavedDropdownValues||(0,x.SA)(this.props.permissions);return t&&!t.domain_capture&&(0,x.IZ)(r)&&(null==(e=this.props.orgUser)?void 0:e.permission)!==C.y6.GUEST}renderDescription(){if(!this.props.permissions||!this.props.org||!this.props.orgDomains||this.props.orgDomains.domains.length<=0)return n.createElement("div",null);let e=this.props.orgDomains.domains.map(e=>e.domain),t=this.props.org.name;if(this.state.descriptionModeExpanded)return n.createElement("div",null,n.createElement("p",{className:H.op},n.createElement(I.Tx,{id:"file_access_row.org_name_members_have_emails_at_emails_list_show_less",orgName:t,emailsList:n.createElement(y.m,null,e.map(e=>n.createElement("span",{key:e},e))),showLess:n.createElement(E.Gy,{onClick:this.onCollapseDescription,trusted:!0},n.createElement(I.Tx,{id:"file_access_row.show_less"}))})));{let r=e[0],i=e.length-1;return n.createElement("p",{className:H.op},n.createElement(I.Tx,{id:"file_access_row.orgname_members_have_emails_at_first_domain_plus_others",domainCount:e.length,orgName:t,firstDomain:r,remainingDomainCountLink:n.createElement(E.Gy,{onClick:this.onExpandDescription,trusted:!0},n.createElement(I.Tx,{id:"file_access_row.remaining_domain_count_more",remainingDomainCount:i}))}))}}render(){let e=this.state.unsavedDropdownValues||(0,x.SA)(this.props.permissions),{passwordSetAt:t,passwordSetByUser:r,hideLinkAccessInfo:i,mainFileLinkExpirationConfig:a}=this.props,o="inherit"===e.audience,l=Y.c;o?l=$.c:"public-password"===e.audience?l=X.c:"public"===e.audience?l=K.c:"org"===e.audience?l=J.c:"org-browsable"===e.audience&&(l=z.c),this.props.inWorkshop&&"public-password"!==e.audience&&(l=K.c);let s=!!e.publicProto||!this.shouldShowDescription();return n.createElement(n.Fragment,null,n.createElement("div",{"data-onboarding-key":"file-access-row"},n.createElement("div",{className:H.I1},!this.props.isUI3&&n.createElement(b.A,{className:H.Gy,svg:l}),n.createElement("div",{className:H.SQ},!i&&n.createElement(es,{...this.props,ui3Icon:this.props.isUI3?n.createElement(ed,{audience:e.audience,isSelected:!0}):void 0,dropdownValues:e,onDropdownValuesChange:this.onDropdownValuesChange}),i&&n.createElement(n.Fragment,null,n.createElement(I.Tx,{id:"file_access_row.only_editors_can_invite_people_to_this_file.seat_rename"})))),n.createElement(U.M,{isPasswordProtected:(0,x.wZ)(this.props.permissions),passwordSetAt:t,passwordSetByUser:r||null,expirationSetByUser:a?a.setByUser:null,onResetProperties:this.onResetProperties,dropdownValues:e,displayState:this.state.publicLinkDisplayState,currentExpiration:this.getExpiration(),shouldShowDescription:this.shouldShowDescription(),renderDescription:this.renderDescription.bind(this),onDropdownValuesChange:this.onDropdownValuesChange,onUpdateDisplayStatus:this.onUpdatePublicLinkDisplayStatus,...this.props}),s&&n.createElement("div",null)))}}function ei(e){let{has_file_link_password:t,has_proto_link_password:r}=e;return!!t||!!r}function ea(e,t){switch(e){case"public":if(t.link_access!==C.O6.VIEW&&t.link_access!==C.O6.EDIT||ei(t))return!0;return!1;case"org":case"org-browsable":if(t.link_access===C.O6.INHERIT||ei(t))return!0;return!1;default:return!1}}class eo extends n.PureComponent{constructor(){super(...arguments),this.FILE_LINK_AUDIENCE_DROPDOWN="file-link-audience-dropdown",this.onAudienceChange=e=>{let t={...this.props.dropdownValues,audience:e};(0,x.IZ)(t)||(t.publicProto=null),this.props.onDropdownValuesChange(t)},this.isBranchOfPwdProtectedRepo=()=>!!(this.props.containingRepo&&this.props.isBranch&&ei(this.props.containingRepo)),this.getInviteOnlyText=e=>this.isBranchOfPwdProtectedRepo()?(0,I.t)("file_access_row.anyone_with_the_link_and_password"):(0,I.t)("file_access_row.only_people_invited_to_this_noun",{noun:e}),this.orgOptions=()=>{let e=(0,O.qO)(this.props.sharedOrgLicenseGroupSetting),t=(0,O.QB)(this.props.sharedOrgLicenseGroupSetting),r=this.props.fileKey&&this.props.editorType===C.aE.WHITEBOARD&&(0,O.kP)(this.props.sharedOrgLicenseGroupSetting),i=this.props.editorType===C.aE.SLIDES&&!(0,m.Ub)().piper_create_public_links,a=!!this.props.containingRepo&&this.props.isBranch,o=(0,I.t)("file_access_row.anyone_with_the_link");!this.props.inWorkshop&&(e||t||r||i)&&(o=(0,I.t)("file_access_row.anyone_with_the_link_disabled_by_admin"));let l=this.props.org.name,s=this.props.noun,c=[{type:"option",key:"public",text:o,icon:n.createElement(ec,{icon:W.c,audience:"public"}),disabled:e||t||r||i||!!a&&ea("public",this.props.containingRepo)}],d=(0,I.t)("file_access_row.anyone_with_the_link_and_password");return!this.props.inWorkshop&&(e||r||i)&&(d=(0,I.t)("file_access_row.anyone_with_the_link_and_password_disabled_by_admin")),c.push({type:"option",key:"public-password",text:d,icon:n.createElement(ec,{icon:Q.c,audience:"public-password"}),disabled:e||r||i||!!this.props.isBranch||!!this.props.isPublishedHubFile}),c.push({type:"separator"}),c.push({type:"option",key:"org",text:(0,I.t)("file_access_row.anyone_at_org_name_with_the_link",{orgName:(0,g.QH)(l,37)}),icon:n.createElement(ec,{icon:ee.c,audience:"org"}),disabled:!!a&&ea("org",this.props.containingRepo)}),this.showOrgBrowsable()&&c.push({type:"option",key:"org-browsable",text:(0,I.t)("file_access_row.anyone_at_org_name",{orgName:(0,g.QH)(l,37)}),icon:n.createElement(ec,{icon:Z.c,audience:"org-browsable"}),disabled:!!a&&ea("org-browsable",this.props.containingRepo)}),c.push({type:"separator"}),c.push({type:"option",key:"inherit",text:this.getInviteOnlyText(s),icon:n.createElement(ec,{icon:j.c,audience:"inherit"})}),c},this.nonOrgOptions=()=>{let e=this.props.noun,t=!!this.props.team||(0,x.wZ)(this.props.permissions),r=[{type:"option",key:"public",text:(0,I.t)("file_access_row.anyone_with_the_link")}];return t&&r.push({type:"option",key:"public-password",text:(0,I.t)("file_access_row.anyone_with_the_link_and_password")}),r.push({type:"option",key:"inherit",text:this.getInviteOnlyText(e)}),r}}showOrgBrowsable(){let{dropdownValues:e,isBranch:t}=this.props;return!("proto-view-only"===e.level||t)}render(){let e=this.props.hasEditRole,t=this.props.dropdownValues.audience;return this.props.inWorkshop&&"public-password"!==t&&(t="public"),n.createElement(G.k,{dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown,value:t,options:this.props.org?this.orgOptions():this.nonOrgOptions(),onChange:this.onAudienceChange,id:this.FILE_LINK_AUDIENCE_DROPDOWN,dataOnboardingKey:et,placeholder:(0,I.t)("file_access_row.only_people_invited_to_this_noun",{noun:this.props.noun}),disabled:!e&&!this.props.isOwner||this.props.inWorkshop||this.isBranchOfPwdProtectedRepo(),trackingProperties:{canUserAccessProFeature:(0,A.So)(this.props.team)},ui3Icon:this.props.ui3Icon})}}eo.displayName="FileLinkAudience";class el extends n.PureComponent{constructor(){super(...arguments),this.LINK_LEVEL_DROPDOWN="link-level-dropdown",this.onLevelChange=e=>{this.props.onDropdownValuesChange({...this.props.dropdownValues,level:e})}}showEditOption(){let{dropdownValues:e,team:t,isFreeUserOnly:r,org:n,isInDraftsFolder:i}=this.props;return"edit"===e.level||(n?"inherit"!==e.audience&&!(n.invite_whitelist_guest_invite_setting===R.wt.BANNED&&"public"===e.audience):!!(0,S.SK)(t,r,i))}showEditWarning(){let{dropdownValues:e,org:t,inWorkshop:r}=this.props;return!!t&&!r&&"edit"===e.level&&"public"===e.audience&&t.invite_whitelist_guest_invite_setting===R.wt.REQUIRE_APPROVAL}showPrototypeOnlyOption(){let{dropdownValues:e}=this.props;return"org-browsable"!==e.audience}render(){let{dropdownValues:e,team:t,hasEditRole:r,editorType:i}=this.props,a="inherit"===e.audience&&"proto-view-only"!==e.level,o=[];if(a){let e=[{type:"option",key:"edit",text:(0,I.t)("file_access_row.can_edit")}],t=[{type:"option",key:"access",text:(0,I.t)("file_access_row.can_access")}];return n.createElement(G.k,{dataOnboardingKey:er,dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown,value:this.props.inWorkshop?"edit":"access",options:this.props.inWorkshop?e:t,onChange:_.Kw,id:this.LINK_LEVEL_DROPDOWN,disabled:!0})}return(this.showEditOption()||this.props.inWorkshop)&&o.push({type:"option",key:"edit",text:(0,I.t)("file_access_row.can_edit")}),o.push({type:"option",key:"view",text:(0,I.t)("file_access_row.can_view")}),(0,A.So)(t)&&"design"===i&&this.showPrototypeOnlyOption()&&o.push({type:"option",key:"proto-view-only",text:(0,I.t)("file_access_row.can_view_prototypes")}),n.createElement("div",{className:this.showEditWarning()?H.ic:""},this.showEditWarning()&&n.createElement(b.A,{className:H.O,svg:q.c,"data-tooltip-max-width":201,"data-tooltip-timeout-delay":50,"data-tooltip-type":M.wL.TEXT,"data-tooltip":(0,I.t)("file_access_row.external_users_can_view_this_file_but_need_admin_approval_to_edit")}),n.createElement(G.k,{dataOnboardingKey:er,dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown,value:this.props.inWorkshop?"edit":e.level,options:o,onChange:this.onLevelChange,id:this.LINK_LEVEL_DROPDOWN,disabled:!r&&!this.props.isOwner||1===o.length||this.props.inWorkshop}))}}function es(e){return n.createElement(n.Fragment,null,n.createElement(eo,{...e}),n.createElement(el,{...e}))}function ec({icon:e,...t}){return n.createElement(v.e,{className:H.Wu,svg:e},n.createElement(ed,{...t}))}function ed({audience:e,isSelected:t=!1}){switch(e){case"inherit":return n.createElement(i.m,null);case"public":return n.createElement(a.a,null);case"public-password":return n.createElement(o.s,null);case"org":return t?n.createElement(l.c,null):n.createElement(s.I,null);case"org-browsable":return n.createElement(c.g,null);default:return n.createElement(d.E,null)}}el.displayName="FileLinkLevel"},557008:(e,t,r)=>{"use strict";r.d(t,{k:()=>C,u:()=>S});var n=r(307824),i=r(54688),a=r(125504),o=r.n(a),l=r(721500),s=r(204792),c=r(968240),d=r(778524),u=r(597624),p=r(784740),m=r(403132),_=r(441388),h=r(740718),g=r(49068),f=r(60304),E=r(395792),y=r(284548);let b=(0,l.I)(f.GC),v=(0,l.I)(g.sv),I=(0,l.I)(g.WE),w=(0,l.I)(g.cf),T=b-v/2;function S({dispatch:e,dropdownClassName:t,dropdownShown:r,options:i,value:a,onChange:l,trackingProperties:c={}}){var d;let[_,g]=(0,n.useState)(0),[f,y]=(0,n.useState)(window.innerWidth),S=()=>{y(window.innerWidth)};(0,n.useEffect)(()=>(window.addEventListener("resize",S),()=>window.removeEventListener("resize",S)),[]);let C=n.useRef(null),A=n.useRef(null);(0,n.useEffect)(()=>{var e;if(C.current&&A.current){let t=C.current.getBoundingClientRect(),r=null==(e=C.current.offsetParent)?void 0:e.getBoundingClientRect();!t||!r||t.top>=r.top&&t.bottom<=r.bottom||(C.current.scrollIntoView(!1),A.current.scrollBy(8)),g(t.width)}},[]);let O={...(null==(d=null==r?void 0:r.data)?void 0:d.position)||{top:0,left:0}},N=0,L=0,R=!1,P=-1,M=i.map((t,r)=>{var o;if("separator"===t.type)return R||(N+=w),L+=w,n.createElement(s.g.Separator,{key:t.key?String(t.key):r,dataTestId:`dropdown-separator-${r}`});let d=t.key===a;d&&(P=r),R=R||d;let _=t.subtext?I:v;R||(N+=_),L+=_;let h={};return t.subtext&&(null==(o=i[r+1])?void 0:o.type)!=="separator"&&(h.paddingBottom=8,L+=8),n.createElement("div",{key:String(t.key),ref:d?C:null,style:h,"data-testid":`dropdown-option-${r}`,"data-onboarding-key":`dropdown-option-${String(t.key)}`},n.createElement(s.g.CheckableOptionTrackable,{checked:d,onClick:r=>{r.stopPropagation(),d||l(t.key),e(m.yi())},trackingProperties:{...c,key:String(t.key)},disabled:t.disabled,"data-testid":`dropdown-option-checkable-${r}`},n.createElement("div",{style:{display:"flex",alignItems:"center"}},!!t.icon&&n.createElement(n.Fragment,null,t.icon),n.createElement(u.g,{direction:"vertical",spacing:4,height:_,verticalAlignItems:"center"},n.createElement(p.a,{fontSize:12},t.text),t.subtext&&n.createElement(p.a,{fontSize:11,color:"menu-disabled"},t.subtext)))))});_+O.left+4>f&&(O.left="auto",O.right=4);let k=16;P===i.length-1&&(k=8),"auto"!==O.top&&void 0!==O.top&&(O.top-=Math.min(N,T-k),O.top=Math.max(16,O.top));let D=n.createElement(h.AK,{maxDropdownHeight:e=>"auto"===O.top||void 0===O.top?b:Math.min(b,Math.round(e-O.top-8-16)),dropdownChildrenHeight:L,ref:A},M);return n.createElement(s.g.DropdownWithScrim,{stopScrollPropagation:!0,dispatch:e,className:o()(E.Gq,t),style:O},D)}function C({dispatch:e,dropdownShown:t,value:r,options:a,onChange:l,id:s,placeholder:u,disabled:p=!1,dropdownData:h={},isOpen:g,trackingProperties:f={},dataOnboardingKey:b,onOpenRcsEvent:v,ui3Icon:I}){let w=(0,n.useRef)(null),T=a.findIndex(e=>"option"===e.type&&e.key===r),C=a[T],A=(null==C?void 0:C.type)==="option"?C.selectedLabel||C.text:u,O=(null==C?void 0:C.type)==="option"&&C.selectedLabelClass||"";return g=g??(null==t?void 0:t.type)===s,n.createElement("div",{ref:w},n.createElement(_.UV,{trackingProperties:f,className:o()({[E.Ml]:!p,[E.iY]:I}),onClick:p?void 0:r=>{r.stopPropagation(),r.preventDefault(),t&&t.type===s?e(m.yi()):a.length&&!p&&(e(m.Qn({type:s,data:{...h,...function(e){var t;let r=null==(t=e.current)?void 0:t.getBoundingClientRect();return r?{position:{top:r.top,bottom:"auto",left:r.left,right:"auto"}}:{}}(w)}})),v&&(0,d.Y9)({id:v}))}},I,n.createElement("div",{className:`${E.GY} ${O}`,"data-testid":"dropdown-label"},A),!p&&n.createElement("div",{className:E.g$},n.createElement(c.e,{"data-onboarding-key":!p&&b?b:"",svg:y.c},n.createElement(i.o,null)))),g&&n.createElement(S,{dispatch:e,dropdownShown:t,dropdownClassName:E.i,value:r,options:a,onChange:l,trackingProperties:f}))}},585320:(e,t,r)=>{"use strict";r.d(t,{MJ:()=>L,QT:()=>O});var n=r(307824),i=r(120304),a=r(125504),o=r.n(a),l=r(733960),s=r(506616),c=r(537096),d=r(778524),u=r(560072),p=r(375376),m=r(323576),_=r(90340),h=r(515044),g=r(846004),f=r(397888),E=r(171748),y=r(268644),b=r(472956),v=r(13468),I=r(142548),w=r(896784),T=r(782120),S=r(201548),C=r(80096),A=r(944708);let O="simple-sharing-copy-link-button",N=!1;function L(e){let{fileKey:t,selectedView:r,startingPointsData:a,isFigJamTry:o,userId:c}=e,[I,w]=n.useState(!1),C=(0,i.OY)(),A=(0,f._o)(),O=(0,f.ct)(),L=(0,i.w1)(e=>e.mirror.appModel.pagesList.length),P=(0,i.w1)(e=>e.mirror.appModel.isReadOnly),M=(0,E._)(),k=n.useRef(),D=(0,s.Qb)(b.zQH,{fileKey:t}),F="loaded"===D.status?D.data.file:null,x=(0,l.i)(D.status),U="prototype"===r.view,B="fullscreen"===r.view,G=B&&A,V=n.useCallback(()=>{o?C((0,m.A5)({type:S.m,data:{fileKey:t}})):C((0,m.A5)({type:T.OL,data:{fileKey:t,source:U?h.Ce.prototypeCopyLinkButtonVisualBell:h.Ce.fullscreenCopyLinkButtonVisualBell}}))},[C,o,t,U]),H=(0,h.QZ)(F,U),W=n.useCallback(e=>{let n=(0,v.SH)(r),i=n?O.get(n):null;C(p.L2({fileKey:t,source:y.O.SIMPLE_SHARING_COPY_LINK_BUTTON,url:(0,g.KU)({selectedView:r,file:e,repo:e.repo,attributionContext:(0,y.Q)(M,y.O.SIMPLE_SHARING_COPY_LINK_BUTTON),isReadOnly:P,isFigJam:"fullscreen"===r.view&&"whiteboard"===r.editorType}),visualBellMessageOverride:(0,h.Ki)({nodeType:null==i?void 0:i.type,selectedView:r,startingPointsData:a,numPages:L}),visualBellButton:{text:(0,u.t)("permissions.copy_link_button.visual_bell.see_link_settings"),action:()=>V()},trackingProperties:{access:null==H?void 0:H.access,isPrototype:U}}))},[M,C,t,U,L,O,r,a,H,V,P]),K=n.useCallback(()=>{!G&&("loading"===D.status?w(!0):F&&W(F))},[F,W,G,D.status]);return n.useEffect(()=>{"loaded"===D.status&&"loading"===x&&I&&F&&(W(F),w(!1))},[I,F,W,x,D.status]),n.createElement(R,{onClick:K,tooltip:(null==H?void 0:H.tooltipText)||"",onMouseEnter:()=>{F&&H&&((0,d.Y9)({id:"Copy link button interacted"}),N||(k.current=setTimeout(()=>{var e;N=!0,(0,_.U$)({name:"Simple Sharing: Permission Tooltip",userId:c,fileKey:F.key,fileTeamId:F.teamId,fileParentOrgId:null==(e=F.org)?void 0:e.id,access:H.access,productType:(0,_.YN)(F),isPrototype:U})},2e3)))},onMouseLeave:()=>{clearTimeout(k.current)},isFigJam:B&&"whiteboard"===r.editorType})}function R(e){let t=n.createElement(c.A,{svg:A.c,title:(0,u.t)("permissions.copy_link_button.title"),role:"img"}),r=o()((0,w.i)(!0,!1),{[C.QN]:!e.isFigJam,[C.AN]:e.isFigJam});return n.createElement("button",{onClick:e.onClick,onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave,className:r,"data-tooltip-type":I.wL.TEXT,"data-tooltip":e.tooltip,"data-tooltip-max-width":300,"data-onboarding-key":O},t)}},73796:(e,t,r)=>{"use strict";r.d(t,{Ck:()=>I,EH:()=>b,MN:()=>w,qy:()=>v,wv:()=>S});var n=r(307824),i=r(120304),a=r(125504),o=r.n(a),l=r(537096),s=r(560072),c=r(628),d=r(514916),u=r(815464),p=r(291336),m=r(648180),_=r(546772),h=r(142548),g=r(557008),f=r(395792),E=r(994396),y=r(910256);function b(e){let t="level-change-dropdown",r=(0,i.OY)(),a=()=>e.dropdownShown&&e.dropdownShown.type===t&&e.dropdownShown.data.dropdownId===e.id;return n.createElement("div",{className:f.I1},n.createElement("div",{className:f.g4},n.createElement(v,{user:e.user,contacts:e.contacts,id:e.id,pending:e.pending})),n.createElement("div",{className:f.SQ},n.createElement("div",{key:`name-${e.id}`,className:e.pending?f.WQ:f.N9},e.userName),e.warningMessage&&n.createElement(l.A,{className:f.WW,svg:y.c,"data-tooltip-timeout-delay":50,"data-tooltip-type":h.wL.TEXT,"data-tooltip":e.warningMessage}),e.warningTooltipId&&n.createElement(l.A,{className:f.WW,svg:y.c,"data-tooltip-type":h.wL.SPECIAL,"data-tooltip":e.warningTooltipId,"data-tooltip-timeout-delay":50,"data-tooltip-interactive":!0}),(()=>{let i=e.getRoleOptions();return i?n.createElement(g.k,{dispatch:r,onChange:e.onChangeLevel,options:i,id:t,value:e.level,dropdownShown:e.dropdownShown,dropdownData:{dropdownId:e.id},isOpen:!!a()}):n.createElement("span",null,(0,p._y)(e.level,e.isBranchFile))})()))}function v(e){let{user:t,pending:r,contacts:i}=e,a=!1===r?t.img_url:t.email&&t.email in i&&i.usersByEmail[t.email].img_url;return a?n.createElement("img",{"data-tooltip-type":h.wL.TEXT,"data-tooltip":e.user.email,key:`avatar-${e.id}`,src:a,className:o()(e.pending?f.Y3:f.Os,e.small&&f.A5),alt:""}):n.createElement("div",{className:o()(f.wV,e.small&&f.A5),"data-tooltip-type":h.wL.TEXT,"data-tooltip":e.user.email},n.createElement(l.A,{key:`avatar-${e.id}`,svg:E.c,className:o()(f.S4,e.small&&f.A5)}))}function I(e,t){return!1===e.pending?e.user.handle:e.user.email in t?t.usersByEmail[e.user.email].handle:e.user.email}function w(e,t,r,n,i,a,o,l,c,m){let h=[],g=!1;if(!r)return null;c&&a===_.m.VIEW_PROTOTYPES?h.push({type:"option",key:_.m.VIEW_PROTOTYPES,text:(0,p._y)(_.m.VIEWER)}):t?h.push(T(a)):(e&&!i&&h.push(T(_.m.OWNER)),n&&h.push(T(_.m.ADMIN)),h.push(T(_.m.EDITOR)),h.push(T(_.m.VIEWER)),(o===d.y4.FILE||o===d.y4.FILE_REPO)&&(0,u.So)(l)&&!m&&h.push(T(_.m.VIEW_PROTOTYPES)),g=i);let f=t&&!e?(0,s.t)("confirm_remove_role.leave"):(0,s.t)("confirm_remove_role.remove");return h.push({type:"separator"}),g&&h.push({type:"option",key:"resend",text:(0,s.t)("role_row.resend_invite")}),h.push({type:"option",key:_.m.NONE,text:f}),h}function T(e){return{type:"option",key:e,text:(0,p._y)(e)}}function S(e,t){let r="";return e&&!t?r=(0,m.m)(c._2.DESIGN):!e&&t&&(r=(0,m.m)(c._2.WHITEBOARD)),r}},990676:(e,t,r)=>{"use strict";r.d(t,{EB:()=>C,SU:()=>T,cX:()=>S,kH:()=>w});var n=r(843148),i=r(119648),a=r(228472),o=r(984288),l=r(726604);let s={id:"4317920",team_id:null,org_id:"675025436003846244",location:"San Francisco, CA",profile_handle:"asana",public_at:"2020-05-06T20:49:58.442Z",follower_count:341,following_count:0,primary_user_id:null,name:"Asana",img_url:"https://s3-alpha.figma.com/profile/d8034acd-76dd-4b36-98da-58fdf79529f2",img_urls:{"120_120":"https://s3-alpha.figma.com/profile/d8034acd-76dd-4b36-98da-58fdf79529f2","500_500":"https://s3-alpha.figma.com/profile/5c98d80b-d276-446c-8080-7e586b085612"},current_user_is_following:!1,current_user_is_followed:!1,is_restricted_by_current_user:!1,entity_type:a.Iv.ORG,website:"asana.design",twitter:"twitter.com/asanadesignteam",instagram:"instagram.com/asanadesignteam",description:"We\u2019re the Design team behind Asana.\nWe design the future of teamwork. \u2728\n\nJoin us: asana.com/jobs/product",pronouns:null,has_shared_teams:null,has_shared_orgs:null,redirect_cover_image_url:"/profile/4317920/cover_image",is_community_beta:!0,badges:[i._.FIGMA_PARTNER]},c={id:"1521",team_id:null,org_id:"703355754804194517",location:"Sydney, Australia",profile_handle:"atlassian",public_at:"2020-06-22T18:25:34.800Z",follower_count:4297,following_count:0,primary_user_id:null,name:"Atlassian",img_url:"https://s3-alpha.figma.com/profile/c1b2cbe9-346d-4ba4-9af0-aca1bc444657",img_urls:{"120_120":"https://s3-alpha.figma.com/profile/c1b2cbe9-346d-4ba4-9af0-aca1bc444657","500_500":"https://s3-alpha.figma.com/profile/26a88a1d-27d7-460c-9301-dd0910d39614"},current_user_is_following:!1,current_user_is_followed:!1,is_restricted_by_current_user:!1,entity_type:a.Iv.ORG,website:"https://atlassian.com",twitter:null,instagram:null,description:"The official home of Atlassian's design resources in Figma.",pronouns:null,has_shared_teams:null,has_shared_orgs:null,redirect_cover_image_url:"/profile/1521/cover_image",is_community_beta:!0,badges:[i._.FIGMA_PARTNER]},d={id:"1608",team_id:null,org_id:"797266083973274396",location:null,profile_handle:"github",public_at:"2020-02-12T18:27:36.218Z",follower_count:126,following_count:0,primary_user_id:null,name:"GitHub",img_url:"https://s3-alpha.figma.com/profile/2789d808-2da3-4e73-a540-a7333e924556",img_urls:{"120_120":"https://s3-alpha.figma.com/profile/2789d808-2da3-4e73-a540-a7333e924556","500_500":"https://s3-alpha.figma.com/profile/84ae1734-e47e-4945-884c-f536e5d3f427"},current_user_is_following:!1,current_user_is_followed:!1,is_restricted_by_current_user:!1,entity_type:a.Iv.ORG,website:"https://www.github.com",twitter:null,instagram:null,description:null,pronouns:null,has_shared_teams:null,has_shared_orgs:null,redirect_cover_image_url:"",is_community_beta:!1,badges:[i._.FIGMA_PARTNER]},u={id:"1731",team_id:null,org_id:null,location:"Los Angeles, CA",profile_handle:"snap",public_at:"2020-03-02T14:56:23.081Z",follower_count:17,following_count:0,primary_user_id:null,name:"Snapchat",img_url:"https://s3-alpha.figma.com/profile/7a97c4dc-8a42-4273-bcdd-d97bcabcd0b2",img_urls:{"120_120":"https://s3-alpha.figma.com/profile/7a97c4dc-8a42-4273-bcdd-d97bcabcd0b2","500_500":"https://s3-alpha.figma.com/profile/7bbd1ecd-0481-4423-9092-58ec01c00d68"},current_user_is_following:!1,current_user_is_followed:!1,is_restricted_by_current_user:!1,entity_type:a.Iv.ORG,website:"https://www.snapchat.com/l/en-gb/",twitter:null,instagram:null,description:null,pronouns:null,has_shared_teams:null,has_shared_orgs:null,redirect_cover_image_url:"/profile/1731/cover_image",is_community_beta:!1,badges:[]},p={id:"2480257",team_id:null,org_id:null,location:"San Francisco, CA",profile_handle:"figma",public_at:"2019-10-21T22:53:16.561Z",follower_count:16253,following_count:53,primary_user_id:"768244674400796816",name:"Figma",img_url:"https://s3-alpha.figma.com/profile/c82ecc52-1c47-405d-980b-904ff54c6577",img_urls:{"120_120":"https://s3-alpha.figma.com/profile/c82ecc52-1c47-405d-980b-904ff54c6577","500_500":"https://s3-alpha.figma.com/profile/c4bc0357-6f54-412a-ac89-f311905bbec5"},current_user_is_following:!1,current_user_is_followed:!1,is_restricted_by_current_user:!1,entity_type:a.Iv.USER,website:"www.figma.com",twitter:"twitter.com/figma",instagram:"instagram.com/figma",description:"Figma is the design tool for teams who build products together. Claim your community profile here: https://bit.ly/3euhKR9",pronouns:null,has_shared_teams:!1,has_shared_orgs:null,redirect_cover_image_url:"/profile/2480257/cover_image",is_community_beta:!0,badges:[]},m="1098405969270214551",_="1094001923188252679",h="1101944648482192724",g="1151936790942917527",f={[s.id]:m,[d.id]:h,[c.id]:_,[u.id]:g},E="1220512233196109878",y="1220802563996996107",b={[d.id]:E,[c.id]:y};function v(){return(!!(0,n.Ub)().widgets_hardcode_cocreators||!!(0,n.Ub)().cmty_hardcode_cocreators)&&"prod"===(0,n.m_)().cluster_name}function I(e){if(!v())return[];switch(e){case m:return[p,s];case y:case _:return[p,c];case E:case h:return[p,d];case g:return[p,u];default:return[]}}function w(e){var t;if(!v())return e;let r=I(e.id);if(0===r.length)return e;let n=((null==(t=e.community_publishers)?void 0:t.accepted)??[]).filter(e=>!r.find(t=>t.id===e.id)),i=r.concat(n);return{...e,community_publishers:{...e.community_publishers,accepted:i}}}function T(e,t){let r=I(e).map(e=>e.name);if(0===r.length)return t;let n=t.filter(e=>!r.includes(e));return r.concat(n)}async function S(e){if(!v())return[];try{let t=f[e];if(t){let e=(await l.w.getVersions({widgetId:t})).data.meta.plugin;return[w(e)]}}catch(e){console.error(e)}return[]}async function C(e){if(!v())return[];try{let t=b[e];if(t){let e=(await o.q.getVersions({pluginId:t})).data.meta.plugin;return[w(e)]}}catch(e){console.error(e)}return[]}},512704:(e,t,r)=>{"use strict";r.d(t,{Cu:()=>ef,IN:()=>es,IZ:()=>eE,Qt:()=>em,aC:()=>eg,a_:()=>ey,oN:()=>eb});var n,i,a,o,l,s=r(307824),c=r(120304),d=r(125504),u=r.n(d),p=r(916924),m=r(656716),_=r(87975),h=r(888932),g=r(422080),f=r(816596),E=r(841152),y=r(830720),b=r(537096),v=r(588900),I=r(560072),w=r(317704),T=r(780216),S=r(659024),C=r(693400),A=r(332320),O=r(879764),N=r(986208),L=r(403132),R=r(323576),P=r(441388),M=r(417184),k=r(846004),D=r(917452),F=r(61304),x=r(325252),U=r(778112),B=r(224100),G=r(142548),V=r(517164),H=r(91404),W=r(780546),K=r(936364),Y=r(740718),q=r(212980),j=r(8524),$=r(18544),Z=r(33064),z=r(684591),Q=r(835200),X=r(368672),J=r(892996),ee=r(18424),et=r(643812),er=r(85328),en=r(205468),ei=r(455580),ea=r(837212),eo=r(629284),el=r(362036);function es(e){let t;let[r,n]=s.useState(!1),i=!r&&e.isSet?er.YV:e.isWhiteboard?er.CI:er.YR,a=e.showNewBadge?s.createElement(em,null):e.showFigPickBadge?s.createElement(ep,null):s.createElement(s.Fragment,null),o=u()(e.isSet?er._o:er.I3,{[er.Su]:e.includeChromiumDownscalingFix&&h.cp.chrome},e.imageClassName);return t=e.image?e.showOriginalThumbnail?s.createElement("img",{className:o,src:e.image,loading:"lazy",onLoad:()=>n(!0),alt:e.alt,draggable:!1}):s.createElement(T.aC,{className:o,image:e.image,onLoad:()=>n(!0),hubFileId:e.hubFileId,alt:e.alt,thumbnailContext:e.thumbnailContext,resizedThumbnailUrls:e.resizedThumbnailUrls}):s.createElement(Q.m1,null),s.createElement("div",{className:i,style:{backgroundColor:e.backgroundColor}},t,a,e.showPrototypeIcon&&s.createElement("div",{className:er.aF},s.createElement(v._,{svg:el.c,className:er.SQ,useOriginalSrcFills_DEPRECATED:!0,fallbackSvg:el.c})),e.showWhiteboardIcon&&s.createElement(e_,null))}function ec(e){let t=(0,c.w1)(e=>e.orgById),r="search"===(0,c.w1)(({selectedView:e})=>e).view,n=e.plugin.org_id&&(null==t?void 0:t[e.plugin.org_id]),i=(0,x.Y9)(e.plugin),{tagline:a,description:o,name:l}=i,d=(0,A.AX)({description:e.isPublishing?"":o??"",tagline:a??""},g.PV);return s.createElement("div",{className:er.mO},s.createElement("div",{className:er.CG},s.createElement("img",{src:i.redirect_icon_url,loading:"lazy",alt:""})),s.createElement("div",{className:er.W7},s.createElement(V.W,{plugin:i,className:er.kb,loading:"lazy",alt:""})),l&&s.createElement("div",{className:er.eo},l),d&&s.createElement("div",{className:l?er.uP:er.QX},d),r&&n&&s.createElement("div",{className:er.ug},s.createElement(J.I,{entityId:n.id,entityName:n.name,imgUrl:n.img_url,hideTooltip:!0}),n.name),e.showNewBadge?s.createElement(em,null):e.showInstalledIcon&&s.createElement("span",{className:er.qm},s.createElement(I.Tx,{id:"community.plugins.saved"})),e.children)}s.memo(function(e){function t(){return e.name?s.createElement("div",{className:er.Uv},e.name):s.createElement("div",{className:er.UQ},e.placeholderName)}function r(){return s.createElement("div",null,e.author?e.author:s.createElement("div",{className:er.a}))}return s.createElement(s.Fragment,null,s.createElement("div",{className:e.showFileNameAsPrimary?er.Ar:er.e4,onClick:e.onClick},s.createElement("div",{className:er.wJ},s.createElement("a",{className:er.Qf,href:e.href,onClick:e=>e.preventDefault(),style:{backgroundColor:e.backgroundColor,backgroundClip:h.cp.safari?"padding-box":""}},s.createElement(es,{image:e.backgroundImage,isWhiteboard:e.isWhiteboard,isSet:!!e.thumbnailIsSet,showFigPickBadge:e.showFigPickBadge,showNewBadge:e.showNewBadge,showPrototypeIcon:e.isPrototype,showWhiteboardIcon:e.isWhiteboard,showOriginalThumbnail:e.showOriginalThumbnail,hubFileId:e.hubFileId,alt:e.name}))),s.createElement("div",{className:er.Q5},s.createElement("div",{className:er.A9},e.showFileNameAsPrimary?s.createElement(r,null):s.createElement(t,null)),s.createElement("div",{className:er.Wq},s.createElement("div",{className:er.Ki},ed(e.commentsSetting)&&s.createElement(eu,{count:e.commentCount}),e.duplicateButton),e.showFileNameAsPrimary?s.createElement(t,null):s.createElement(r,null)))))});let ed=e=>e!==D.EF.ALL_DISABLED;function eu(e){return s.createElement("div",{className:er.Yj},s.createElement(b.A,{className:er.gV,svg:ea.c})," ",e.count)}function ep(){return s.createElement("div",{className:er.yA,"data-tooltip-type":G.wL.TEXT,"data-tooltip":(0,I.t)("community.profiles.boosted_by_the_figma_team"),"data-tooltip-show-immediately":!0},s.createElement(E.kt,{text:(0,I.t)("community.profiles.fig_pick"),color:E.Eo.BRAND,className:er.gf}))}function em(){return s.createElement("div",{className:er.yA},s.createElement(E.kt,{text:(0,I.t)("community.profiles.new"),color:E.Eo.SUCCESS,className:er.gf}))}function e_(){return s.createElement("div",{className:er.Ep,"data-tooltip-type":G.wL.TEXT,"data-tooltip":(0,I.t)("community.profiles.made_in_fig_jam"),"data-tooltip-show-immediately":!0},s.createElement(v._,{svg:en.c,useOriginalSrcFills_DEPRECATED:!0,fallbackSvg:en.c}))}function eh(e){let{AuthorsJSX:t,CreatorsOverlay:r,creatorsOverlayProps:i}=n.useCreatorsHoverOverlay({resource:e.plugin}),a=s.createElement("div",{className:er.yz},s.createElement("div",{className:er.G8},t)),o=e.isPaid?{id:"0",badges:[],monetized_resource_metadata:{id:"0",price:(0,q.qs)(e.price),is_subscription:!1}}:null;return s.createElement("div",{className:h.cp.mobile?er.aG:e.showAuthorByDefault?er.ak:er.cn,onClick:e.onClick},o&&s.createElement(S.K4,{resource:o||e.plugin}),s.createElement(r,{...i},s.createElement("div",{className:er.EI},s.createElement("div",{className:er.cL},s.createElement(ec,{showInstalledIcon:e.isSaved,showNewBadge:e.showNewBadge,isPublishing:e.isPublishing,plugin:e.plugin},s.createElement("div",{className:er.wx},s.createElement(K._,{...e})))),s.createElement("div",{className:er.O3},e.showInstallCount&&s.createElement("div",{className:er.cB},e.isPublic&&(e.author||a),!e.isPublic&&s.createElement("div",{className:er.ct},s.createElement(b.A,{className:er.pW,svg:eo.c}),s.createElement(I.Tx,{id:"community.cards.private"})),s.createElement("div",{className:er.YX},e.isPublic&&ed(e.commentsSetting)&&s.createElement(eu,{count:e.commentCount}),e.isPaid?s.createElement(X.kJ,{metric:e.uniqueRunCount||0}):s.createElement("div",{className:h.cp.mobile?er.uy:er.Wd},s.createElement(y.O,{className:h.cp.mobile||e.isBrowsingAsTeamOrOrgProfile?er.yo:e.isSaved?er.YT:er.We,count:e.installCount,prefix:s.createElement("div",{className:er.nr},e.isSaved?"\u2713 ":"\u2193 "),onClick:h.cp.mobile||e.isBrowsingAsTeamOrOrgProfile?void 0:e.onSaveClick}),e.isSaved&&s.createElement("div",{className:er.MF,onClick:h.cp.mobile||e.isBrowsingAsTeamOrOrgProfile?void 0:e.onSaveClick},s.createElement(I.Tx,{id:"community.profiles.remove_from_saved_plugins"}))),e.dropdown)),!e.showInstallCount&&s.createElement(H.UP,{entity:e.entity,size:24})))))}(e=>{function t(e){var t;return s.createElement("div",{onMouseLeave:()=>{e.setDropdownRef(null),e.setDropdownContent(null)}},e.dropdownContent&&(null==(t=e.dropdownRef)?void 0:t.current)&&s.createElement(Y.Mx,{targetRect:e.dropdownRef.current.getBoundingClientRect(),maxWidth:150,minWidth:1,type:Y.aA.LIGHT,className:er.yg,disableDropdownScrollContainer:!0,propagateCloseClick:!0},s.createElement("div",{className:er.Eu},e.dropdownContent)),e.children)}function r(e){let{setDropdownContent:t,setDropdownRef:r}=e,n=[s.useRef(null),s.useRef(null),s.useRef(null),s.useRef(null),s.useRef(null)],i=s.useRef(null),a=({profile:n,ref:i})=>s.createElement("span",{onMouseEnter:()=>{r(i),t(s.createElement($.Ck,{publisher:n,className:er.OE}))},ref:i,className:e.avatarContainerClassName,key:`author-link-${n.id}`},s.createElement($.Ck,{publisher:n,className:er.p7,avatarClassName:er.cD,avatarSize:e.avatarSize,showAvatar:!0,hideName:!0})),o=({profile:t,stylesOverride:r})=>s.createElement($.Ck,{key:`author-link-${t.id}`,publisher:t,className:r||er.p7,avatarClassName:er.Os,avatarSize:e.avatarSize,showAvatar:!0}),l=({profiles:e,ref:n})=>{let i=s.createElement($.Ck,{publisher:e[0],className:er.p7});return s.createElement("div",{className:er.YL},1===e.length&&s.createElement(I.Tx,{id:"community.by_publisher",publisher:i}),e.length>1&&s.createElement(I.Tx,{id:"community.by_publisher_with_suffix",publisherName:i,publishersSuffix:s.createElement(s.Fragment,null,s.createElement("span",{ref:n,className:er.sf,onMouseLeave:()=>{r(null)},onMouseEnter:()=>{r(n),t(s.createElement(s.Fragment,null,e.slice(1).map(e=>o({profile:e,stylesOverride:er.OE}))))}},s.createElement(I.Tx,{id:"community.cards.pluralize_num_other_publishers",numOtherPublishers:e.length-1})))}))},{resource:c}=e;if(!c)return null;let d=c.community_publishers.accepted;return 1===d.length?e.showAuthorAndOthersTextLabel?s.createElement(s.Fragment,null,a({profile:d[0],ref:n[0]}),l({profiles:d,ref:i})):s.createElement(s.Fragment,null,o({profile:d[0]})):d.length<=4?s.createElement(s.Fragment,null,d.map((e,t)=>a({profile:e,ref:n[t]})),e.showAuthorAndOthersTextLabel&&l({profiles:d,ref:i})):s.createElement(s.Fragment,null,...d.slice(0,4).map((e,t)=>a({profile:e,ref:n[t]})),(({profiles:n,ref:i})=>s.createElement("span",{ref:i,onMouseEnter:()=>{r(i),t(s.createElement(s.Fragment,null,n.map(e=>o({profile:e,stylesOverride:er.OE}))))},onMouseLeave:()=>{r(null)}},s.createElement(W.a,{size:e.avatarSize,className:er.Mk,text:`${n.length}`})))({profiles:d.slice(4),ref:n[4]}),e.showAuthorAndOthersTextLabel&&l({profiles:d,ref:i}))}e.useCreatorsHoverOverlay=function({resource:e,avatarStyleOverrides:n={size:24,containerClassName:er.g4,showAuthorAndOthersTextLabel:!1}}){let[i,a]=s.useState(null),[o,l]=s.useState(null),c=s.useMemo(()=>({setDropdownRef:l,setDropdownContent:a,dropdownRef:o,dropdownContent:i,avatarStyleOverrides:n}),[l,a,o,i,n]);return{AuthorsJSX:s.useMemo(()=>s.createElement(r,{resource:e,showAuthorAndOthersTextLabel:n.showAuthorAndOthersTextLabel,avatarSize:n.size,avatarContainerClassName:n.containerClassName,setDropdownContent:a,setDropdownRef:l}),[e,a,l,n]),CreatorsOverlay:t,creatorsOverlayProps:c}},e.Authors=r})(n||(n={})),(e=>{class t extends s.PureComponent{constructor(){super(...arguments),this.onClick=e=>{var t;if((0,_.mM)(e)){m.default.redirect((0,z.kL)(null==(t=this.props.plugin)?void 0:t.id),"_blank");return}this.props.onClick()},this.loggedOutAction=(e,t,r)=>{if(h.m_){window.location.href="/login";return}this.props.onLoggedOutAction(e,t,r)},this.onUnsave=e=>{null==e||e.stopPropagation(),null==e||e.preventDefault(),this.props.currentUser&&this.props.onUnsave()},this.onSave=e=>{if(null==e||e.stopPropagation(),null==e||e.preventDefault(),!this.props.currentUser){let e=(0,I.t)("community.profiles.save_this_plugin_to_give_you_and_figma_a_boost");this.loggedOutAction(e,"plugin_install_signed_out",ei.c);return}this.props.onSave()}}isSaved(){if(this.props.isPublic)return this.props.authedActiveCommunityProfile?(0,Z.a)(this.props.authedActiveCommunityProfile,this.props.plugin):this.props.plugin.profile_install_status===B.A$.PLUGIN_INSTALLED_FOR_USER;{let e=[B.A$.PLUGIN_INSTALLED_FOR_USER];return this.props.orgEntity&&e.push(B.A$.PLUGIN_INSTALLED_FOR_ORG),!!this.props.plugin.install_status&&e.includes(this.props.plugin.install_status)}}render(){let e=(0,x.Y9)(this.props.plugin),t=e.description;return s.createElement(eh,{...this.props,onClick:this.onClick,href:(0,z.kL)(this.props.plugin.id),isPublic:this.props.isPublic,onSaveClick:this.isSaved()?this.onUnsave:this.onSave,description:t,tagline:e.tagline,name:e.name,showInstallCount:!0,isSaved:this.isSaved(),isLiked:this.props.currentUserLiked,installCount:this.props.plugin.install_count,likeCount:this.props.plugin.like_count,commentCount:this.props.plugin.comment_count,entity:this.props.plugin.publisher||this.props.plugin.creator,commentsSetting:this.props.plugin.comments_setting,showAuthorByDefault:this.props.showAuthorByDefault,showNewBadge:!!(this.props.lastViewedAtForNewBadge&&Date.parse(this.props.plugin.created_at)>Date.parse(this.props.lastViewedAtForNewBadge)),isBrowsingAsTeamOrOrgProfile:this.props.isBrowsingAsTeamOrOrgProfile,dropdown:this.props.dropdown,plugin:this.props.plugin})}}e.ConnectedPluginTile=(0,c.Ul)(e=>({currentUser:e.user||null,orgEntity:(0,M.or)(e),isBrowsingAsTeamOrOrgProfile:(0,M.a)(e.authedActiveCommunityProfile),authedActiveCommunityProfile:e.authedActiveCommunityProfile}),(e,t)=>({onClick:()=>{var r;null==(r=t.onClick)||r.call(t),e(L.Ej({view:"communityHub",subView:"plugin",publishedPluginId:t.pluginId}))},onProfileCreate:r=>{e(R.A5({type:et.i0,data:{variations:[et.q0.OPT_IN],userId:r.id,onFinish:()=>e(O.M({id:t.pluginId,resourceType:U.y4.PLUGIN}))}}))},onSave:()=>{e(N.G4({id:t.pluginId,resourceType:U.y4.PLUGIN,orgId:void 0}))},onUnsave:()=>{e(N.SY({id:t.pluginId,resourceType:U.y4.PLUGIN,source:N.wL.COMMUNITY_HUB})),e(w.A.enqueue({message:(0,I.t)("community.profiles.removed_from_saved_plugins"),type:"plugin-installed",button:{text:(0,I.t)("community.comments.undo"),action:()=>{e(N.G4({id:t.pluginId,resourceType:U.y4.PLUGIN,orgId:void 0}))}}}))},onLoggedOutAction:(t,r,n)=>{e(f.a.init({origin:r})),e((0,R.A5)({type:ee.I,data:{headerText:t,icon:n,dispatch:e}}))}}))(t),e.PluginTile=function(t){var r;let n=(0,c.w1)(e=>e.publishedPlugins),i=t.plugin||(0,x.QT)(t.pluginId,n),a=!!(null==(r=(0,C.IJ)(i.id,U.y4.PLUGIN).data)?void 0:r[0]);return s.createElement(e.ConnectedPluginTile,{...t,plugin:i,currentUserLiked:a})}})(i||(i={}));let eg=i.PluginTile,ef=(0,P.wB)(eg);class eE extends s.Component{render(){let{numResources:e,maxResources:t,className:r}=this.props;return s.createElement(s.Fragment,null,e<t?Array(t-e).fill(null).map((e,t)=>s.createElement("div",{key:t,className:r})):null)}}eE.defaultProps={maxResources:4},(e=>{class t extends s.Component{constructor(){super(...arguments),this.onHubFileClick=(0,_.Qf)(e=>{e.preventDefault(),e.stopPropagation(),this.props.onHubFileClick()})}render(){let e=(0,F.oF)(this.props.hubFile);return s.createElement("div",{className:er.uk},s.createElement("div",{className:er.Yf},s.createElement("a",{className:er.oF,style:{backgroundColor:(0,k.qi)(this.props.hubFile.client_meta),backgroundImage:`url(${this.props.hubFile.thumbnail_url})`},onClick:this.onHubFileClick,href:(0,z.Mz)(this.props.hubFile.id)},s.createElement("div",{className:er.H2},s.createElement("div",{className:er.qE},e.name)))))}}t.displayName="PublicProfileHubFileTile",e.PublicProfileHubFileTile=(0,c.Ul)(null,(e,t)=>({onHubFileClick:()=>{e(L.Ej({view:"communityHub",subView:"hubFile",hubFileId:t.hubFile.id}))}}))(t)})(a||(a={})),(e=>{class t extends s.Component{constructor(){super(...arguments),this.onPluginClick=(0,_.Qf)(e=>{e.preventDefault(),e.stopPropagation(),this.props.onResourceClick()})}render(){let e=(0,x.Y9)(this.props.resource),t=(0,U.mc)(this.props.resource);return s.createElement("div",{className:er.uk},s.createElement("div",{className:er.Yf},s.createElement("a",{className:er.Sw,onClick:this.onPluginClick,href:t?(0,z.tC)(this.props.resource.id):(0,z.kL)(this.props.resource.id)},s.createElement(V.W,{className:er.us,plugin:e,loading:"lazy",alt:""}),s.createElement("div",{className:er.y},e.name))))}}t.displayName="PublicProfilePluginTile",e.PublicProfileBasePluginTile=(0,c.Ul)(null,(e,t)=>({onResourceClick:()=>{(0,U.mc)(t.resource)?e(L.Ej({view:"communityHub",subView:"widget",widgetId:t.resource.id})):e(L.Ej({view:"communityHub",subView:"plugin",publishedPluginId:t.resource.id}))}}))(t)})(o||(o={})),(e=>{class t extends s.Component{constructor(e){super(e),this.onPublicProfileClick=e=>{if((0,_.mM)(e)){let e=this.props.publicProfile;if(!e)return;m.default.redirect((0,z.W6)(e.profile_handle)||"","_blank");return}this.props.onPublicProfileClick()},this.updateFollowInfoOnFollowClick=()=>{let e=this.state.currentUserIsFollowing?{currentUserFollowActionCountDiff:this.state.currentUserFollowActionCountDiff-1,currentUserIsFollowing:!1}:{currentUserFollowActionCountDiff:this.state.currentUserFollowActionCountDiff+1,currentUserIsFollowing:!0};this.setState(e)},this.state={currentUserFollowActionCountDiff:0,currentUserIsFollowing:e.publicProfile.current_user_is_following}}render(){let e=this.props.publicProfile;if(!e)return null;let t={id:e.id,name:e.name,img_url:e.img_url};return s.createElement("div",{className:`${er._k} ${this.props.notTabletSidebarOptimized?er.M7:""}`},s.createElement("div",{className:er.e_},s.createElement("div",{onClick:this.onPublicProfileClick},s.createElement(H.UP,{entity:t,size:96,className:er.MB})),s.createElement("div",{className:er.f},s.createElement("div",{className:er._Y,onClick:this.onPublicProfileClick},e.name),e.profile_handle&&s.createElement("div",{className:er.Rx},s.createElement("div",{className:er.ek,onClick:this.onPublicProfileClick},"@",e.profile_handle),e.current_user_is_followed&&s.createElement(eb,null)),e.location&&s.createElement("div",{className:er.Is},e.location),s.createElement("div",{className:er.qM},!this.props.isOwnProfile&&s.createElement(j.W,{profile:e,followClassName:er.aq,followingClassName:er.aq,unfollowClassName:er.aq,onClick:this.updateFollowInfoOnFollowClick,onError:this.updateFollowInfoOnFollowClick}),s.createElement("div",null,s.createElement("div",{className:er.Yr},s.createElement(I.Tx,{id:"community.follow.followers"})),s.createElement("div",{className:er.Yl},e.follower_count+this.state.currentUserFollowActionCountDiff))))),this.props.resources.length>0&&s.createElement("div",{className:er.WJ},this.props.resources.map(e=>{let t=(0,C.Se)(e);switch(t){case U.y4.HUB_FILE:return s.createElement(a.PublicProfileHubFileTile,{hubFile:e,key:e.id});case U.y4.PLUGIN:case U.y4.WIDGET:return s.createElement(o.PublicProfileBasePluginTile,{resource:e,key:e.id});default:(0,p.gy)(t)}}),s.createElement(eE,{numResources:this.props.resources.length,maxResources:6,className:er.uk})),0===this.props.resources.length&&s.createElement("div",{className:er.sh},s.createElement(I.Tx,{id:"community.profiles.no_resources_published_yet"})))}}t.displayName="PublicProfileTile";let r=(e,t)=>{var r;return{isOwnProfile:(null==(r=e.authedActiveCommunityProfile)?void 0:r.id)===t.publicProfile.id}},n=(e,t)=>({onPublicProfileClick:()=>{t.onClick&&t.onClick(),e(L.Ej({view:"communityHub",subView:"handle",handle:t.publicProfile.profile_handle}))}});e.ConnectedPublicProfileTile=(0,c.Ul)(r,n)(t),e.ConnectedPublicProfileTileTracked=(0,c.Ul)(r,n)((0,P.wB)(t))})(l||(l={}));let ey=l.ConnectedPublicProfileTile;function eb(){return s.createElement(E.kt,{text:(0,I.t)("community.profiles.follows_you"),color:E.Eo.DEFAULT,className:er.Pw})}l.ConnectedPublicProfileTileTracked},587962:(e,t,r)=>{"use strict";r.d(t,{C7:()=>d,Um:()=>l,WI:()=>o,Zw:()=>s,_u:()=>u});var n=r(916924),i=r(273436),a=r(762820);function o(e){let t=e.getCurrentPage();(0,n.Uc)(!!t,"expected currentPage to exist");let r=t.prototypeDevice;return r?r.presetIdentifier:null}function l(e,t,r){let i=t.x/t.y,a=e.x/e.y;(0,n.Uc)(.01>Math.abs(i-a),`Expected ${i} \u2248 ${a}`);let o=e.x/t.x;return{x:r.x*o,y:r.y*o}}function s(e,t,r){let n=e.x/r.x;return{x:t.x*n,y:t.y*n}}let c=e=>{let t=i.sH[e];return(0,n.Up)(t,"getDeviceImageIdealSize must take in a valid presetIdentifier"),{x:t.imageSize.x/t.scaleFactor,y:t.imageSize.y/t.scaleFactor}};function d(e,t){let r=e=>({x:e.y,y:e.x}),{framePresetSize:n,offset:o}=i.sH[e],l=c(e),s=t===a.ok9.CCW_90,d={x:l.x-n.x-o.x,y:o.y};return s?{idealDeviceSize:r(l),framePresetSize:r(n),offset:r(d)}:{idealDeviceSize:l,framePresetSize:n,offset:o}}function u(e,t){let r=i.sH[e],a=i.sH[t];return(0,n.Up)(r,"expected device1 to exist"),(0,n.Up)(a,"expected device2 to exist"),r.deviceName===a.deviceName&&r.imageSize.x===a.imageSize.x&&r.imageSize.y===a.imageSize.y}},815828:(e,t,r)=>{"use strict";let n;r.d(t,{A5:()=>A,Ip:()=>T,OG:()=>h,YB:()=>m,_e:()=>O,cr:()=>g,gD:()=>_,gN:()=>I,mC:()=>w,qs:()=>y,tL:()=>N,uG:()=>E,y6:()=>f});var i=r(120304),a=r(916924),o=r(560072),l=r(317704),s=r(273436),c=r(585508),d=r(762820),u=r(101040),p=r(587962);let m=16,_=216,h=152,g=104,f=20;var E=((n=E||{})[n.DEVICE=0]="DEVICE",n[n.WEBSITE=1]="WEBSITE",n[n.SMALL=2]="SMALL",n);function y(e){return"fullscreen"===e.selectedView.view&&("design"===e.selectedView.editorType||"dev_handoff"===e.selectedView.editorType||"slides"===e.selectedView.editorType)}let b=16/9,v=(e,t)=>{let r=t.getCurrentPage();if(!r)throw Error("Expected currentPage to exist");let{prototypeDevice:n}=r;return n?n.type===d.w7k.PRESENTATION?{x:e.absoluteBoundingBox.w,y:e.absoluteBoundingBox.h}:n.type===d.w7k.NONE?null:n.rotation===d.ok9.NONE?n.size:{x:n.size.y,y:n.size.x}:null};function I(e,t){let r=v(t,e);return r?{type:0,...r}:t.absoluteBoundingBox.w>=1280?{type:1}:{type:2}}function w(e,t){switch(e.type){case 0:return{x:e.x,y:e.y};case 1:return{x:t.absoluteBoundingBox.w,y:t.absoluteBoundingBox.w/b};case 2:return{x:t.absoluteBoundingBox.w,y:t.absoluteBoundingBox.h};default:(0,a.gy)(e)}}function T(e,t){var r,n;return((null==(n=null==(r=e.getCurrentPage())?void 0:r.prototypeDevice)?void 0:n.rotation)??d.ok9.NONE)===d.ok9.NONE?{x:g,y:f+(t?u.ov:0)}:{x:g,y:g}}let S=(e,{x:t,y:r},n)=>{let i=r/e.y,a=Math.min(i,t/e.x),{x:o,y:l}=T(n);if(a<1){if(a===i){if(Math.max(e.x*a,o)!==o)return{x:e.x*a,y:e.y*a};{let t=o/e.x;return{x:o,y:e.y*t}}}if(Math.max(e.y*a,l)!==l)return{x:e.x*a,y:e.y*a};{let t=l/e.y;return{x:e.x*t,y:l}}}return e},C=(e,{x:t,y:r},n)=>{let{x:i,y:a}=T(n),o=a/e.y,l=Math.max(o,i/e.x);if(l>1){if(l===o){if(Math.min(e.x*l,t)!==t)return{x:e.x*l,y:e.y*l};{let r=t/e.x;return{x:t,y:e.y*r}}}if(Math.min(e.y*l,r)!==r)return{x:e.x*l,y:e.y*l};{let t=r/e.y;return{x:e.x*t,y:r}}}return e};function A(e,t,r,n,o){var l,d;let _=o.get(n);(0,a.Uc)(!!_,"expected node to exist");let h=I(o,_);if(e&&(0,i.G)(e.breakpoint,h)&&!t)return e;let f=c.CA.getViewportInfo(),E=f.height-u.ov-2*m,y=Math.max(.5*f.width,g),b=(0,p.WI)(o),v=!!b&&(0,s.kX)(b);if(!(0===h.type&&r&&v)){let e=S(w(h,_),{x:y,y:E},o);return{initialViewerSize:e=C(e,{x:y,y:E},o),breakpoint:h}}let T=null==(d=null==(l=o.getCurrentPage())?void 0:l.prototypeDevice)?void 0:d.rotation;(0,a.Up)(T,"expected device rotation to exist");let{idealDeviceSize:A,framePresetSize:O}=(0,p.C7)(b,T),N=S(A,{x:y,y:E},o);return N=C(N,{x:y,y:E},o),{initialViewerSize:(0,p.Zw)(N,O,A),breakpoint:h}}function O(e,t,r,n){(0,a.Uc)(0!==r.type,"Can't fit to aspect ratio for devices");let i=w(r,t);if(e.x<i.x)switch(r.type){case 1:i={x:e.x,y:e.x/b};break;case 2:{let r=t.absoluteBoundingBox.w/t.absoluteBoundingBox.h;i={x:e.x,y:e.x/r};break}default:(0,a.gy)(r)}return{initialViewerSize:i=C(i,{x:1/0,y:1/0},n),breakpoint:r}}function N(e,t,r){let n=c.CA.getViewportInfo();e.x>.9*n.width&&t(l.A.enqueue({type:"inline-preview-resize-to-actual-size",message:(0,o.t)("inline_preview.resize_to_actual_size_visual_bell"),button:{text:(0,o.t)("bindings.revert"),editScope:"inline-preview-resize-revert",action:r},error:!1}))}},244808:(e,t,r)=>{"use strict";r.d(t,{AR:()=>y,H:()=>n,KW:()=>h,OE:()=>p,_0:()=>g,gx:()=>m,ke:()=>b,mM:()=>_,o4:()=>E,q6:()=>v,sl:()=>f});var n,i=r(307824),a=r(120304),o=r(125504),l=r.n(o),s=r(843148),c=r(441388),d=r(547328),u=r(286178);let p=i.createContext(void 0);function m(e){return i.createElement("div",{className:l()(d.GU,e.className)},e.children)}function _(e){return i.createElement("div",{className:d.Up},e.children)}function h(e){return i.createElement("div",{className:d.It},e.children)}function g(e){let t={width:"300px"};return e.width&&("number"==typeof e.width?t.width=`${e.width}px`:t.width=e.width),e.height&&(t.height=e.height),e.margin&&(t.margin=e.margin),i.createElement(p.Consumer,null,r=>i.createElement("div",{className:l()(d.Co,e.containerClassName)},i.createElement("img",{src:e.src,style:t,onLoad:r,alt:e.alt})))}function f(e){let t=void 0===e.width?{width:"300px"}:{width:`${e.width}px`};return e.height&&(t.height=e.height),e.margin&&(t.margin=e.margin),i.createElement(p.Consumer,null,r=>i.createElement("div",{className:d.Co},i.createElement("video",{autoPlay:!0,muted:!0,loop:!0,"object-fit":"initial",style:t,onLoad:r,"aria-hidden":"true"},i.createElement("source",{src:e.src,type:"video/mp4"}))))}function E(e){return i.createElement("div",{className:e.className?e.className:d.kf},e.children)}(n||(n={})).Content=function(e){return i.createElement("div",{className:e.className||d.xh,style:e.style},e.children)};let y=(0,c.wB)(e=>i.createElement("a",{className:u.M,href:e.href,target:"_blank",rel:"noopener",onClick:e.onClick},e.children)),b=(0,a.Ul)(e=>({shouldHide:e.notifications.length>0}))(e=>e.shouldHide&&!(0,s.Ub)().curator_queue_notifs?null:i.createElement("div",{className:d.U$},e.children)),v=(0,a.Ul)(e=>({shouldHide:e.notifications.length>0}))(e=>e.shouldHide&&!(0,s.Ub)().curator_queue_notifs?null:i.createElement("div",{className:d.OV},i.createElement("div",{className:d.s1},e.children)))},699156:(e,t,r)=>{"use strict";r.d(t,{yO:()=>k,oF:()=>M,EN:()=>P,Gm:()=>L,au:()=>R});var n=r(307824),i=r(120304),a=r(125504),o=r.n(a),l=(r(888932),r(105516)),s=r(148276),c=r(703520),d=r(560072),u=r(46604),p=r(866368),m=(r(762820),r(39676)),_=r(124664),h=r(553432),g=r(198416),f=r(357652),E=r(26048),y=r(492084),b=r(518256);let v="figjam_onboarding--contentContainer--vQvDd",I="figjam_onboarding--imageContainer--GPtw1",w="figjam_onboarding--image--NumdD",T="figjam_onboarding--mainContent--HABV- text--fontPos12Whyte---tkNx text--_fontBaseWhyte--efAjI",S="figjam_onboarding--normal--sRaYv",C="figjam_onboarding--bold--wJ3qz";var A=r(166996);let O="FigJam Editor Onboarding",N={zoom:`${O} - Zoom`,handTool:`${O} - Hand Tool`,share:`${O} - Share`,openTutorial:`${O} - Open Tutorial`},L="https://static.figma.com/uploads/8f3066fc3906f11f2601a390725f2b7af58e01a1",R="zoom-menu",P="tool-hand";class M extends n.PureComponent{render(){return n.createElement("div",{className:v},n.createElement("div",{className:I},n.createElement("span",{className:"figjam_onboarding--imgHelper--sGCfe","aria-hidden":"true"}),n.createElement("img",{className:w,src:this.props.imgSrc,alt:""})),n.createElement("div",{className:o()({[T]:!0,[S]:!this.props.isBold,[C]:!!this.props.isBold})},this.props.titleText&&n.createElement("div",{className:"figjam_onboarding--title--DmyK0"},this.props.titleText),n.createElement("div",{className:"figjam_onboarding--text--jvsq3"},this.props.bodyText),n.createElement("div",{className:"figjam_onboarding--bottomContentRow--Yv0ux"},n.createElement("div",{className:o()({"figjam_onboarding--secondaryText---j79q":!0,[S]:!this.props.isBold,[C]:!!this.props.isBold})},this.props.steps?n.createElement(d.Tx,{id:"rcs.rcs_shared.step_counter",currentStepNum:this.props.steps.current,totalNumSteps:this.props.steps.total}):n.createElement(n.Fragment,null)),n.createElement(s.Uv,{className:o()({"figjam_onboarding--ctaButton--KDgS8 text--fontPos12Whyte---tkNx text--_fontBaseWhyte--efAjI":!0,[C]:!!this.props.isBold}),onClick:this.props.onNext,autoFocus:!0},this.props.buttonText,!this.props.buttonText&&this.props.steps&&this.props.steps.current===this.props.steps.total&&n.createElement(d.Tx,{id:"rcs.rcs_shared.done"}),!this.props.buttonText&&this.props.steps&&this.props.steps.current<this.props.steps.total&&n.createElement(d.Tx,{id:"rcs.figjam_onboarding.next"})))),n.createElement(l.CA,{className:o()({"figjam_onboarding--closeButton--4KeRY close_button--closeX--Bc-63":!0,[S]:!this.props.isBold,[C]:!!this.props.isBold}),onClick:this.props.onDismiss,innerText:"close",svg:A.c}))}}function k(e){return n.createElement("div",{className:"figjam_onboarding--connectorModalWrapper--5khRw"},e.children)}M.displayName="FigJamOnboardingModal",N.zoom,E.GK.SELF_CONTAINED,N.handTool,E.GK.SELF_CONTAINED,N.share,E.GK.SELF_CONTAINED,N.share,E.GK.SELF_CONTAINED;let D=(0,y.m)(e=>{e(p.w7())}),F=(0,y.m)((e,t)=>{t(u.Eh({url:e}))});(0,i.Ul)(e=>{let t=(0,_.AX)(e.fileByKey,(0,h.getPermissionsState)(e)),r=p.w7.loadingKeyForPayload();return{tutorialFileUrl:t,isLoading:(0,m.K0)(e.loadingState,r),shouldShowLoadingState:!t,didFail:(0,m.ay)(e.loadingState,r)}},e=>({dispatch:e}),(e,t,r)=>({fetchTutorialFileIfNecessary:()=>{e.tutorialFileUrl||e.isLoading||D(t.dispatch)},openTutorialFile:()=>{e.tutorialFileUrl&&F(e.tutorialFileUrl,t.dispatch),r.dismissModal()},...r,shouldShowLoadingState:e.shouldShowLoadingState,didFail:e.didFail}))(function(e){n.useEffect(()=>{e.fetchTutorialFileIfNecessary()},[]);let{didFail:t,dismissModal:r}=e;return n.useEffect(()=>{t&&(r(),(0,g.Ib)("failure","rcs"))},[t,r]),n.useEffect(()=>{let t=setTimeout(()=>{e.shouldShowLoadingState&&(0,g.Ib)("timeout","rcs")},5e3);return()=>clearTimeout(t)},[e.shouldShowLoadingState]),n.createElement("div",{className:"figjam_onboarding--openTutorialModalContainer--cipav"},n.createElement("div",{className:"figjam_onboarding--openTutorialModalShadow--OtEY- figjam_onboarding--openTutorialModalBase--rBacv"},n.createElement("div",{className:"figjam_onboarding--openTutorialModal--4EA02 figjam_onboarding--openTutorialModalBase--rBacv"},n.createElement("div",{className:v},n.createElement("div",{className:I},n.createElement("img",{className:w,src:"https://static.figma.com/uploads/964c3ddf18b0f2712b664efde991dfc4f2c58eb8",alt:""})),n.createElement("div",{className:o()({[T]:!0,[S]:!0})},n.createElement("div",{className:"figjam_onboarding--openTutorialModalText--MzAfi figjam_onboarding--text--jvsq3"},n.createElement(d.Tx,{id:"rcs.figjam_onboarding.for_more_tips_and_tricks_here_s_a_2_minute_hands_on_tutorial"})),n.createElement("div",{className:"figjam_onboarding--openTutorialBottomContentRow--F5hh2 figjam_onboarding--bottomContentRow--Yv0ux"},n.createElement("div",{className:"figjam_onboarding--secondaryTextClickable--zaTWG figjam_onboarding--secondaryText---j79q",onClick:r},n.createElement(d.Tx,{id:"rcs.figjam_onboarding.maybe_later"})),n.createElement(s.Uv,{className:e.shouldShowLoadingState?"figjam_onboarding--openTutorialButtonDisabled--IbmUV figjam_onboarding--openTutorialButton--IUkOM figjam_onboarding--ctaButton--KDgS8 text--fontPos12Whyte---tkNx text--_fontBaseWhyte--efAjI":"figjam_onboarding--openTutorialButton--IUkOM figjam_onboarding--ctaButton--KDgS8 text--fontPos12Whyte---tkNx text--_fontBaseWhyte--efAjI",onClick:e.openTutorialFile,disabled:e.shouldShowLoadingState},e.shouldShowLoadingState?n.createElement(c.M7,{className:"figjam_onboarding--openTutorialSpinner--mHlJN publish_modal--spinner--7DaqW"}):n.createElement(d.Tx,{id:"rcs.figjam_onboarding.open_tutorial"}))))))))}),N.openTutorial,E.GK.SELF_CONTAINED},521168:(e,t,r)=>{"use strict";r.d(t,{k:()=>n});let n=(0,r(623131).Zf)(!1)},661588:(e,t,r)=>{"use strict";r.d(t,{A:()=>d,I:()=>u});var n=r(307824),i=r(125504),a=r.n(i),o=r(148276),l=r(753432),s=r(547328);let c="mobile_shelf--rowCta--BUbfa text--fontPos13--xW8hS text--_fontBase--QdLsd";function d(e){return n.createElement("div",{tabIndex:0,className:a()("mobile_shelf--background--Msmrp modal--modalBackground--OE8MH",l.cp)},n.createElement("div",{className:a()("mobile_shelf--shelf--XNQ2O",s.gn)},e.children))}function u(e){let{icon:t,title:r,description:i,ctaType:a,ctaText:l}=e,s="ctaOnClick"in e?e.ctaOnClick:void 0,d="ctaHref"in e?e.ctaHref:void 0,u="primary"===a?n.createElement(o.Uv,{onClick:s,className:c},l):n.createElement(o.Sm,{onClick:s,className:c},l);return n.createElement("div",{className:"mobile_shelf--rowContainer--9Vsrx"},n.createElement("div",{className:"mobile_shelf--rowIconAndText--2So5-"},n.createElement("img",{src:t,alt:"icon",className:"mobile_shelf--rowIcon--jAN5E"}),n.createElement("div",{className:"mobile_shelf--rowText--qUPio"},n.createElement("div",{className:"mobile_shelf--rowTitle--QI3ZU text--fontPos13--xW8hS text--_fontBase--QdLsd"},r),i&&n.createElement("div",{className:"mobile_shelf--rowDescription--2jdzt text--fontPos11--2LvXf text--_fontBase--QdLsd"},i))),d&&n.createElement("a",{href:d},u),!d&&u)}},655164:(e,t,r)=>{"use strict";r.d(t,{uc:()=>Q,yk:()=>z,yS:()=>X});var n=r(307824),i=r(120304),a=r(125504),o=r.n(a),l=r(878164),s=r(733960),c=r(4580),d=r(506616),u=r(594192),p=r(326660),m=r(58908),_=r(204792),h=r(148276),g=r(63396),f=r(537096),E=r(698240),y=r(560072),b=r(317704),v=r(948544),I=r(40392),w=r(403132),T=r(245024),S=r(323576),C=r(849208),A=r(191352),O=r(202613),N=r(833492),L=r(392992),R=r(251596),P=r(514916),M=r(472956),k=r(553432),D=r(841676),F=r(112044),x=r(142548),U=r(203736),B=r(694752),G=r(128864),V=r(477284),H=r(375948),W=r(101040),K=r(357652),Y=r(518256);let q="move_drafts_nudge_rcs_steps--bodyWithoutTitle--H7oik",j="move_drafts_nudge_rcs_steps--infoText--dIEdg";var $=r(224840),Z=r(873956);function z(e){let t=(0,c.q)(e=>(0,k.getPermissionsState)(e)),r=(0,R.sX)(),a=(0,i.OY)(),o=(0,N.g)(),l=(0,i.w1)(e=>e.openFile),s=(0,i.w1)(e=>e.repos),d=(0,i.w1)(e=>e.userFlags.seen_move_drafts_nudge),[u,p]=n.useState(!1),m=(0,k.hasProTeamPaidStatus)(t,null==l?void 0:l.editorType,r),{dismissModal:_}=e;setTimeout(()=>{p(!0)},3e3);let h=()=>a(C.s({dismissed_move_drafts_nudge:!0}));n.useEffect(()=>()=>{d||a(C.s({seen_move_drafts_nudge:!0}))},[a,d]);let g=()=>{d?(h(),_()):e.onClickPrimaryCta()};n.useEffect(()=>{(null==o?void 0:o.type)===G.WA&&_()},[null==o?void 0:o.type,_]);let f=d?(0,y.t)("rcs.move_drafts_nudge.dismiss"):(0,y.t)("rcs.move_drafts_nudge.not_now"),E=m?(0,y.t)("rcs.move_drafts_nudge.when_to_draft_when_to_file_pro_user"):(0,y.t)("rcs.move_drafts_nudge.when_to_draft_when_to_file"),b=m?n.createElement(y.Tx,{id:"rcs.move_drafts_nudge.edit_with_professional_tools"}):n.createElement(y.Tx,{id:"rcs.move_drafts_nudge.you_re_currently_working_solo_on_a_draft"});return u?n.createElement(K.UX,{targetKey:G.El,dismissModal:g,title:E,ctaText:(0,y.t)("rcs.move_drafts_nudge.move_file"),onClickPrimaryCta:()=>{h(),(0,H.I9)(a,l,s)()},secondaryCtaText:f,onClickSecondaryCta:g,width:268},n.createElement("p",null,b)):null}function Q(e){let t=(0,i.OY)(),r=(0,N.g)(),{dismissModal:a}=e,o=(null==r?void 0:r.type)===G.WA,l=(0,s.i)(o);return n.useEffect(()=>{l&&!o&&a()},[o,l,a]),n.useEffect(()=>{var e,r;if(!(null==(e=G.Ks)?void 0:e.current)){a();return}return t(w.Qn({type:G.WA,data:{targetRect:null==(r=G.Ks.current)?void 0:r.getBoundingClientRect(),activatePathOnMount:[(0,y.t)("fullscreen.filename_view.move-to-project")]}})),()=>{t(w.yi())}},[t,a]),n.createElement("div",{onMouseDown:e=>{e.stopPropagation()},onClick:e=>{e.stopPropagation()}},n.createElement(K.UX,{targetKey:V.e,title:"",shouldCenterArrow:W.yi.FALLBACK,dismissModal:a,ctaText:(0,y.t)("rcs.move_drafts_nudge.got_it"),onClickPrimaryCta:e.onClickPrimaryCta,width:268},n.createElement("p",{className:q},n.createElement(y.Tx,{id:"rcs.move_drafts_nudge.okay_you_can_move_drafts_and_files_into_team_projects_here_any_time"}))))}function X({dismissModal:e,onClickPrimaryCta:t}){var r;let a=(0,i.OY)(),s=(0,N.g)(),c=(0,A.CM)(),w=(0,L.AL)(),C=(0,l.M1)(null),[R,k]=n.useState(void 0);n.useEffect(()=>{(null==s?void 0:s.type)===G.WA&&e()},[null==s?void 0:s.type,e]);let U=(0,d.Qb)(M.yCo,{orgId:null});if("loaded"!==U.status||0===U.data.currentUser.teamEditRoles.length)return null;let V=U.data.currentUser.teamEditRoles.map(e=>e.team).filter(e=>e&&e.projects&&!e.deletedAt&&e.projects.length>0);if(0===V.length)return(0,p.oP)(m._.MONETIZATION,Error("MoveDraftsTeamNudgeView rendered with noTeamWithProjects")),null;let H=1===V.length;if(!R){let e=H?V[0]:function(e,t){if(null===t)return e[0];let r=new Map;for(let t=0;t<e.length;t++){let n=e[t];r.set(n?n.id:null,{count:0,index:t})}let n=0,i=0;for(let e of t)if(e.team_id&&r.has(e.team_id)){let t=r.get(e.team_id);t.count++,t.count>n&&(n=t.count,i=t.index)}return e[i]}(V,null==C?void 0:C.data);null!==e&&k(e)}if(!R||!w)return null;let Y={key:w.key,name:w.name,folder_id:w.folderId,editor_type:w.editorType,is_team_template:w.isTeamTemplate},q=e=>{a(b.A.enqueue({type:"file-moved",i18n:{id:"visual_bell.file_move_folder",params:{folderName:e||""}}})),a(S.A5({type:J}))};function z(e){return(null==w?void 0:w.editorType)===P.aE.WHITEBOARD?[P.u.WHITEBOARD_FILES_LIMITED,P.u.WHITEBOARD_FILES_LIMITED_BETA].some(t=>{var r;return!!(null==(r=e.restrictionsList)?void 0:r.includes(t))}):[P.u.FILES_LIMITED,P.u.FILES_LIMITED_LEGACY].some(t=>{var r;return!!(null==(r=e.restrictionsList)?void 0:r.includes(t))})}return n.createElement(K.Y3,{targetKey:G.El,dismissModal:e,width:268,shouldCenterArrow:W.yi.FALLBACK},function(e,t){let r=e.roles.filter(e=>!!e.user&&e.user.id!==t),i=r.sort(()=>Math.random()-Math.random()).slice(0,Math.min(r.length,3)).map(e=>(0,u.wl)(e.user)),a=n.createElement(y.Tx,{id:"rcs.move_drafts_nudge.ready_to_bring_in_your_team"});if(0===i.length)a=n.createElement(y.Tx,{id:"rcs.move_drafts_nudge.want_to_get_ideas_from_teammates"});else if(1===i.length){let e=i[0];a=n.createElement(y.Tx,{id:"rcs.move_drafts_nudge.want_to_get_ideas_from_user_name",userName:e.name?e.name.split(" ")[0]:e.email||e.handle})}return n.createElement(n.Fragment,null,n.createElement("div",{className:"move_drafts_nudge_rcs_steps--avatarRow--cUnRs"},i.map(e=>n.createElement("div",{key:e.id,className:E.cx.relative.$},n.createElement(v.iO,{user:{name:e.name||e.email||"",img_url:e.imgUrl},size:v.Qt.LARGE})))),n.createElement("h1",{className:"move_drafts_nudge_rcs_steps--modalTitle--Rk7Jg"},a))}(R,U.data.currentUser.id),(r=H?R:null)?n.createElement("p",{className:j},n.createElement(y.Tx,{id:"rcs.move_drafts_nudge.drafts_are_great_for_solo_work_but_teammates_can_t_find_or_contribute_to_this_file_move_it_to_team_name_to_let_others_edit",teamName:n.createElement("b",null,r.name)})):n.createElement("p",{className:j},n.createElement(y.Tx,{id:"rcs.move_drafts_nudge.drafts_are_great_for_solo_work_but_teammates_can_t_find_or_contribute_to_this_file_move_it_to_your_team_to_let_others_edit"})),!H&&n.createElement("div",{className:"move_drafts_nudge_rcs_steps--moveFileSelector--bUHWg"},n.createElement("h2",null,n.createElement(y.Tx,{id:"rcs.move_drafts_nudge.move_file_to"})),n.createElement(_.g.DropdownSelector,{className:"move_drafts_nudge_rcs_steps--dropdownSelector--vE83U",optionsBelowSelector:!0,shouldRenderAutocompleteStyles:!0,label:(0,y.t)("rcs.move_drafts_nudge.team_project",{teamName:R.name,projectName:R.projects[0].path}),iconLabel:n.createElement(v.uM,{size:v.Qt.XSMALL,fallbackDisplay:I.B.HIDDEN,team:{id:R.id,imgUrl:R.imgUrl||void 0}}),options:V.map((e,t)=>!!e&&!!e.projects&&n.createElement(_.g.Option,{key:t,id:String(t),onClick:e=>k(V[parseInt(e.currentTarget.id)]),className:"move_drafts_nudge_rcs_steps--projectRow--4JZde"},n.createElement("div",{className:"move_drafts_nudge_rcs_steps--teamAvatarIcon--vjnRi"},n.createElement(v.uM,{size:v.Qt.XSMALL,fallbackDisplay:I.B.HIDDEN,team:{id:e.id,imgUrl:e.imgUrl||void 0}})),n.createElement("div",{className:o()("move_drafts_nudge_rcs_steps--optionText----TA7",{"move_drafts_nudge_rcs_steps--optionTextWithWarning--ENYe0":z(e)})},n.createElement(y.Tx,{id:"rcs.move_drafts_nudge.team_project",teamName:e.name,projectName:e.projects[0].path})),z(e)&&n.createElement("div",{className:"move_drafts_nudge_rcs_steps--warningIcon--KHIj5"},n.createElement(f.A,{svg:$.c,"data-tooltip-type":x.wL.TEXT,"data-tooltip":(0,y.t)("file_browser.file_move.paywall_team_tooltip")}))))})),z(R)&&n.createElement("div",{className:"move_drafts_nudge_rcs_steps--banner--S35O-"},n.createElement(g.O,{orientation:"vertical",variant:"warning",iconSrc:Z.c,action:{label:(0,y.t)("rcs.move_drafts_nudge.upgrade_to_continue"),onClick:()=>{a(S.A5({type:B.EP,data:{team:R,resource:D.kJ.FILE,action:F.qW.MOVE_FILES,currentPlan:O.O.Plan.STARTER,upsellPlan:O.O.Plan.PRO,editorType:c,multipleResources:!1}}))}}},n.createElement(y.Tx,{id:"rcs.move_drafts_nudge.team_team_name_reached_the_starter_plan_file_limit_of_3_files",teamName:R.name}))),n.createElement("div",{className:"move_drafts_nudge_rcs_steps--ctaContainer--VD-a6"},n.createElement(h.Sm,{className:"move_drafts_nudge_rcs_steps--secondaryCtaButton--yOPJx",onClick:t},(0,y.t)("rcs.move_drafts_nudge.cancel")),n.createElement(h.Uv,{onClick:()=>{a(T.I({files:[Y],team:R,folder:R.projects[0],fromFileModal:!0,onFinishCallback:q})),t()},disabled:z(R)},(0,y.t)("rcs.move_drafts_nudge.move_file"))))}let J=(0,U.U9)(function(){let e=(0,i.OY)();return n.createElement(K.UX,{targetKey:Y.oN,title:"",dismissModal:()=>{e(S._g())},ctaText:(0,y.t)("rcs.move_drafts_nudge.got_it"),onClickPrimaryCta:()=>{e(S._g())},width:268},n.createElement("p",{className:q},n.createElement(y.Tx,{id:"rcs.move_drafts_nudge.now_that_you_ve_moved_this_file_to_projects_your_teammates_can_edit_and_collaborate_with_you"})))},"MoveDraftsFeedbackModal")},521692:(e,t,r)=>{"use strict";r.d(t,{k:()=>l});var n=r(307824),i=r(125504),a=r.n(i),o=r(821696);class l extends n.Component{componentDidMount(){this.interval=setInterval(()=>{this.forceUpdate()},1e3)}componentWillUnmount(){clearInterval(this.interval)}render(){let e=document.querySelector(`[data-onboarding-key=${this.props.target}]`);if(!e)return n.createElement("div",null);{let t=e.getBoundingClientRect();if(!e.offsetParent)return n.createElement("div",null);let r=t.left+t.width/2,i=t.top+t.height/2,l=a()(o.Up,{[o.gM]:this.props.isBrandColor});return n.createElement("div",{className:l,style:{top:i,left:r}})}}}l.displayName="RcsCallout"},518256:(e,t,r)=>{"use strict";let n;r.d(t,{CA:()=>a,Ir:()=>s,QX:()=>p,Y7:()=>d,_I:()=>o,_g:()=>l,ay:()=>_,mk:()=>c,oN:()=>i,qA:()=>u,ry:()=>m,yW:()=>h});let i="share",a="show onboarding template connector after share or dismiss",o={key:"figjamTrySave",value:"1"},l="FULLSCREEN_FILENAME_CONTAINER",s="FULLSCREEN_TOGGLE_MENU",c="center_button_group",d="ASSETS_PANEL_ONBOARDING_KEY",u="ACCOUNT_SWITCHING_NOTIFICATION_ONBOARDING_KEY";var p=((n=p||{}).PAN="PAN_PREFERENCE_ONBOARDING_KEY",n.ZOOM="ZOOM_PREFERENCE_ONBOARDING_KEY",n);let m="shared_with_you_tab",_="account_profile_switching_onboarding_key",h="dev_mode_mode_switcher_onboarding_key"},26048:(e,t,r)=>{"use strict";let n,i,a,o,l,s,c;r.d(t,{AJ:()=>d,GK:()=>_,SW:()=>h,ak:()=>E,eO:()=>g,kH:()=>f,uA:()=>u});var d=((n=d||{}).TOP_RIGHT="top-right",n.CENTER="center",n.BOTTOM_LEFT="bottom-left",n.BOTTOM_RIGHT="bottom-right",n),u=((i=u||{}).LEFT_TITLE="left_title",i.RIGHT_TITLE="right_title",i),p=((a=p||{})[a.TOP=0]="TOP",a[a.BOTTOM=1]="BOTTOM",a[a.RIGHT_TITLE=2]="RIGHT_TITLE",a[a.RIGHT_BODY=3]="RIGHT_BODY",a[a.LEFT_TITLE=4]="LEFT_TITLE",a),m=((o=m||{}).FALLBACK="fallback",o.BEST_EFFORT="best_effort",o),_=((l=_||{}).DRAGGABLE="draggable",l.FEATURE_UPDATE="feature_update",l.WELCOME="welcome",l.SELF_CONTAINED="self_contained",l.WALK_THROUGH="walk_through",l.ANNOUNCEMENT_POINTER="announcement_pointer",l.POINTER="pointer",l.MOBILE="mobile",l),h=((s=h||{}).MODAL="modal",s.SHELF="shelf",s);let g=740,f=580;var E=((c=E||{}).ON_DARK="on_dark",c.ON_LIGHT="on_light",c.HIGH_CONTRAST="high_contrast",c.HIDDEN="hidden",c)},571911:(e,t,r)=>{"use strict";r.d(t,{O:()=>O});var n=r(307824),i=r(602216),a=r(125504),o=r.n(a),l=r(721500),s=r(838836),c=r(103839),d=r(105516),u=r(148276),p=r(426488),m=r(30128),_=r(240228),h=r(441388),g=r(158196),f=r(101040),E=r(357652),y=r(244808),b=r(521692),v=r(26048),I=r(661588),w=r(547328),T=r(763456);let S=(0,l.I)(T.eWp),C=(0,l.I)(T.K2m),A=e=>null!==e?e:void 0;class O extends n.Component{constructor(e){super(e),this.renderIfDocumentComplete=()=>{"complete"===document.readyState&&this.forceRender()},this.getRcsKeyElementInterval=null,this.startScanningForRcsKeyElement=()=>{this.cleanUpRcsKeyElementScanner();let e=this.props.step;if(e.modalType===v.GK.DRAGGABLE){if(!e.onboardingKey){this.setState({rcsKeyLocation:null});return}this.getRcsKeyElementInterval=setInterval(()=>{let e=this.getRcsKeyElement();if(null!=e){let t=this.computeLocation(e.getBoundingClientRect());(null==this.state.rcsKeyLocation||this.state.rcsKeyLocation.top!==t.top||this.state.rcsKeyLocation.left!==t.left)&&this.setState({rcsKeyLocation:t})}else this.setState({rcsKeyLocation:null})},50)}},this.cleanUpRcsKeyElementScanner=()=>{null!=this.getRcsKeyElementInterval&&(clearInterval(this.getRcsKeyElementInterval),this.getRcsKeyElementInterval=null)},this.acceptHeight=e=>this.setState({modalHeight:e}),this.nextButtonRef=e=>{e&&(this.button=i.findDOMNode(e),this.focusButton())},this.focusButton=()=>{this.button&&!this.props.step.UNSAFE_disableFocus&&this.button.focus()},this.computeLocation=e=>{let t=this.props.step;if(t.modalType!==v.GK.DRAGGABLE)return{top:null,left:null,arrowRelativeX:null,arrowRelativeY:null,arrowPosition:null};if(t.pointDirection===v.uA.LEFT_TITLE){let t=e.top+e.height/2;return{left:e.left+e.width+16,top:t-20,arrowRelativeX:-18,arrowRelativeY:f.ov/2-9,arrowPosition:f.Wp.LEFT_TITLE}}if(t.pointDirection===v.uA.RIGHT_TITLE){let t=e.top+e.height/2,r=e.left-this.width-16,n=f.ov/2-9;return{left:r,top:t-20,arrowRelativeX:this.width,arrowRelativeY:n,arrowPosition:f.Wp.RIGHT_TITLE}}let r=e.left+e.width/2,n=e.bottom+18,i=r-this.width/2,a=r-(i=Math.min(i=Math.max(i,10),window.innerWidth-10-this.width)),o=f.Wp.TOP;return null!=this.state.modalHeight&&window.innerHeight-n<this.state.modalHeight+12&&(n=e.top-this.state.modalHeight-12,o=f.Wp.BOTTOM),{left:i,top:n,arrowRelativeX:a,arrowRelativeY:null,arrowPosition:o}},this.getFramePosition=()=>this.state.rcsKeyLocation?this.state.rcsKeyLocation:{top:null,left:null,arrowPosition:null,arrowRelativeX:null,arrowRelativeY:null},this.getRcsKeyElement=()=>{let e=this.props.step;if(e.modalType!==v.GK.DRAGGABLE)return null;let t=document.querySelector(`[data-onboarding-key=${e.onboardingKey}]`);if(!t)return null;let r=t.getBoundingClientRect();return 0===r.left&&0===r.right&&0===r.height&&0===r.width?null:t},this.acceptTitle=e=>{this.setState({title:e,titleSetByStep:this.props.step})},this.forceRender=()=>this.setState({renderCount:this.state.renderCount+1}),this.getPositionAndConstraints=(e,t)=>{let r=this.getFramePosition();if(r.top&&r.left)return{initialPosition:new c.Cg(r.left,r.top)};switch(e){case v.AJ.BOTTOM_LEFT:return{initialPosition:t||new c.Cg(C,C),initialConstraints:{x:"left",y:"bottom"}};case v.AJ.BOTTOM_RIGHT:return{initialPosition:t||new c.Cg(p.Yh,16),initialConstraints:{x:"right",y:"bottom"}};case v.AJ.TOP_RIGHT:return{initialPosition:t||new c.Cg(C,S+C),initialConstraints:{x:"right",y:"top"}};case v.AJ.CENTER:default:return{initialPosition:t||new c.Cg(window.innerWidth/2-this.width/2,window.innerHeight/2-this.height/2)}}},this.state={modalHeight:328,rcsKeyLocation:null,renderCount:0}}componentDidMount(){window.addEventListener("beforeunload",this.props.onClose),this.startScanningForRcsKeyElement(),document.addEventListener("readystatechange",this.renderIfDocumentComplete)}componentWillUnmount(){this.props.onClose(),window.removeEventListener("beforeunload",this.props.onClose),document.removeEventListener("readystatechange",this.renderIfDocumentComplete),this.cleanUpRcsKeyElementScanner()}componentDidUpdate(e,t){this.focusButton();let r=this.props.step;if(r.modalType!==v.GK.DRAGGABLE)return;let n=e.step;(n.modalType!==v.GK.DRAGGABLE||r.onboardingKey&&r.onboardingKey!==n.onboardingKey)&&this.startScanningForRcsKeyElement()}get width(){let e=this.props.step;switch(e.modalType){case v.GK.FEATURE_UPDATE:return e.width||v.eO;case v.GK.DRAGGABLE:return e.width||350;default:return 350}}get height(){return this.state.modalHeight||328}static getDerivedStateFromProps(e,t){return e.step!==t.titleSetByStep?{title:void 0,titleSetByStep:void 0}:{}}render(){let e=this.props.step,t=this.getFramePosition(),r={acceptTitle:this.acceptTitle,dismissModal:this.props.dismissModal,onClickPrimaryCta:this.props.onClickPrimaryCta,forceRender:this.forceRender},i=n.createElement(y.OE.Provider,{value:this.forceRender},n.createElement(e.element,{...r}));return(0,h.ol)((()=>{switch(e.modalType){case v.GK.DRAGGABLE:let{initialPosition:r,initialConstraints:a}=this.getPositionAndConstraints(e.defaultLocation,e.initialPosition),l=e.title instanceof Function?e.title():e.title,c=this.state.title||l,p=e.onboardingKey||e.highlightOnlyKey;return n.createElement(n.Fragment,null,p&&!e.disableHighlight&&n.createElement(b.k,{target:p}),n.createElement(f.G0,{initialWidth:this.width,acceptHeight:this.acceptHeight,title:c,initialPosition:r,initialConstraints:a,arrowRelativeX:e.hideArrow?void 0:A(t.arrowRelativeX),arrowRelativeY:e.hideArrow?void 0:A(t.arrowRelativeY),arrowPosition:e.hideArrow?void 0:A(t.arrowPosition),animatedIn:!0,dragHeaderOnly:!!c,onClose:this.props.dismissModal,headerClassName:e.headerClassName,zIndex:e.zIndex,disableDragging:e.disableDragging},i,e.disableFooter?null:n.createElement(y.o4,{className:e.footerClassName},!e.hideStepCounter&&e.stepCounter&&n.createElement("div",{className:w.gN},e.stepCounter),n.createElement("div",{className:w.hy},e.additionalButton&&n.createElement(u.GA,{className:w.cZ,href:"link"===e.additionalButton.onClickBehavior?e.additionalButton.href:void 0,target:"link"===e.additionalButton.onClickBehavior?"_blank":void 0,onClick:"function"===e.additionalButton.onClickBehavior?()=>{e.additionalButton.onClick(this.props.dispatch),this.props.dismissModal()}:void 0,trackingProperties:e.additionalButton.textForTracking?{text:e.additionalButton.textForTracking()}:{}},e.additionalButton.label),n.createElement(u.Uv,{ref:this.nextButtonRef,onClick:this.props.onClickPrimaryCta,className:w.cZ,trackingProperties:{trackingDescriptor:e.ctaTrackingDescriptor},disabled:!!e.ctaIsLoading},n.createElement(m.E,{isLoading:!!e.ctaIsLoading,className:w.kH},()=>n.createElement("div",null,e.ctaText)))))));case v.GK.FEATURE_UPDATE:{let t=e.closeButtonStyle===v.ak.ON_DARK?w.m_:e.closeButtonStyle===v.ak.HIGH_CONTRAST?w.I$:e.closeButtonStyle===v.ak.ON_LIGHT?w.Ep:w.OA;return n.createElement(g.Y1,{className:`${w.kl} ${w.gn}`,size:this.width,height:e.height,hide:this.props.dismissModal,disableClickOutsideToHide:e.disableClickOutsideToHide},i,e.closeButtonStyle!==v.ak.HIDDEN&&n.createElement(d.CA,{innerText:"Close",className:t,onClick:()=>{this.props.additionalOnExplicitDismiss&&this.props.additionalOnExplicitDismiss(),this.props.dismissModal()}}))}case v.GK.MOBILE:if(e.type===v.SW.SHELF)return n.createElement(I.A,null,i);return n.createElement(g.Y1,{className:`${w.kl} ${w.gn} ${w.QD}`,hide:this.props.dismissModal,disableClickOutsideToHide:!0,size:"mobile"},i,n.createElement(d.CA,{innerText:"Close",className:w.iq,onClick:()=>{this.props.additionalOnExplicitDismiss&&this.props.additionalOnExplicitDismiss(),this.props.dismissModal()}}));case v.GK.WALK_THROUGH:return n.createElement(n.Fragment,null,!e.disableHighlight&&n.createElement(b.k,{target:e.onboardingKey}),n.createElement(E.Y3,{targetKey:e.onboardingKey,dismissModal:this.props.dismissModal,height:e.height,width:e.width,pointerForegroundColor:e.pointerForegroundColor,shouldCenterArrow:e.shouldCenterArrow,topPadding:e.topPadding,className:e.className,shouldDismissWhenLostDOMTarget:e.shouldDismissWhenLostDOMTarget,additionalOnExplicitDismiss:this.props.additionalOnExplicitDismiss,hideCloseButton:e.hideCloseButton,disableClickOutsideToHide:e.disableClickOutsideToHide},i));case v.GK.WELCOME:return n.createElement(n.Fragment,null,e.fullscreen&&n.createElement("div",{className:w.uw}),n.createElement(g.Y1,{className:o()(void 0!==e.fullscreen&&e.fullscreen?w.Cw:w.KO,e.className),size:"fitContent",hide:this.props.dismissModal,disableClickOutsideToHide:!0,disableKeyboardEventPropagation:!0,tintedModalBackground:void 0===e.tintedModalBackground||e.tintedModalBackground},n.createElement(_.a,null,i)));case v.GK.SELF_CONTAINED:return i;case v.GK.POINTER:return n.createElement(n.Fragment,null,e.showHighlight&&n.createElement(b.k,{target:e.onboardingKey}),n.createElement(E.k3,{dismissModal:this.props.dismissModal,targetKey:e.onboardingKey,width:e.width,topPadding:e.topPadding,shouldCenterArrow:e.shouldCenterArrow,shouldNotWrapInParagraphTag:e.shouldNotWrapInParagraphTag,arrowPosition:e.arrowPosition,onTargetLost:e.onTargetLost},i));case v.GK.ANNOUNCEMENT_POINTER:let h=e.title instanceof Function?e.title():e.title;return n.createElement(E.UX,{targetKey:e.onboardingKey,dismissModal:this.props.dismissModal,title:h,bottomLeftText:e.stepCounter,ctaText:e.ctaText,onClickPrimaryCta:this.props.onClickPrimaryCta,secondaryCtaText:e.secondaryCtaText,onClickSecondaryCta:e.preventDismissOnClickSecondaryCta?s.Kw:this.props.dismissModal,width:e.width,topPadding:e.topPadding,shouldCenterModal:e.shouldCenterModal,shouldCenterArrow:e.shouldCenterArrow,arrowPosition:e.arrowPosition},i)}})(),e.trackingContextName,e.trackingProperties)}}O.displayName="RcsFrame"},15212:(e,t,r)=>{"use strict";r.d(t,{Ut:()=>T,sV:()=>C});var n=r(307824),i=r(413552),a=r(125504),o=r.n(a),l=r(721500),s=r(980068),c=r(838836),d=r(148276),u=r(585408),p=r(310444),m=r(71556),_=r(698240),h=r(765064),g=r(441388),f=r(993608),E=r(720516),y=r(461072),b=r(964992),v=r(763456),I=r(306496);class w extends n.PureComponent{render(){let e=this.props.isReversed?"\u2191":"\u2193";return n.createElement("div",{className:`${y.Ge} ${this.props.className||""}`,onClick:this.props.onClick,"data-onboarding-key":this.props.onboardingKey},this.props.name,this.props.isSelected&&n.createElement("div",{className:b.eo},e),this.props.extraContent)}}w.displayName="MultiSelectHeader";let T="msl_header_toggle_select_all_onboarding_key",S=(0,l.I)(v.cvi);class C extends n.Component{constructor(e){super(e),this.rangeSelectAnchorRowKey=null,this.setScrollTopState=()=>{this.setState({scrollTop:this.nextScrollTop}),this.frameRequest=null},this.onScroll=e=>{this.nextScrollTop=e,null==this.frameRequest&&(this.frameRequest=requestAnimationFrame(this.setScrollTopState)),this.props.onScroll&&this.props.onScroll()},this.itemKeys=(0,s.ei)((e,t)=>e.map(e=>t(e))),this.selectableItemKeys=()=>{let e=this.itemKeys(this.props.items,this.props.getItemKey);return this.props.unselectableItemKeys?e.filter(e=>{var t;return!(null==(t=this.props.unselectableItemKeys)?void 0:t.has(e))}):e},this.toggleSelectMultiple=(e,t,r=!1)=>{this.rangeSelectAnchorRowKey=null;let n=this.props.onSelectedItemsChange??c.Kw;if(t){if(r)this.setState({selectedItemKeys:new Set,selectedAll:!1}),n([]);else{let t=new Set(this.state.selectedItemKeys);e.forEach(e=>t.delete(e)),this.setState(e=>({selectedItemKeys:t,selectedAll:e.selectedAll})),n(this.filterToSelected(this.props.items,t,this.props.unselectableItemKeys,this.props.getItemKey))}}else{let t=new Set([...e,...this.state.selectedItemKeys]);this.setState(e=>({selectedItemKeys:t,selectedAll:e.selectedAll||r})),n(this.filterToSelected(this.props.items,t,this.props.unselectableItemKeys,this.props.getItemKey))}},this.isItemSelected=e=>{var t;let r=this.props.getItemKey(e);return this.state.selectedItemKeys.has(r)&&!(null==(t=this.props.unselectableItemKeys)?void 0:t.has(r))},this.toggleSelect=e=>{var t;let r=this.props.getItemKey(e);if(null==(t=this.props.unselectableItemKeys)?void 0:t.has(r))return;let n=new Set(this.state.selectedItemKeys);this.rangeSelectAnchorRowKey=r,this.isItemSelected(e)?n.delete(r):n.add(r),this.setState({selectedItemKeys:n}),this.props.onSelectedItemsChange&&this.props.onSelectedItemsChange(this.filterToSelected(this.props.items,n,this.props.unselectableItemKeys,this.props.getItemKey))},this.selectRowsInRange=(e,t,r)=>{if(e===t)return;let n=this.props.items.map(e=>this.props.getItemKey(e)).filter(e=>{var t;return!(null==(t=this.props.unselectableItemKeys)?void 0:t.has(e))}),i=n.indexOf(e),a=n.indexOf(t);if(-1===i||-1===a)return;let o=Math.max(i,a),l=n.slice(Math.min(i,a),o+1);r?this.toggleSelectMultiple(l,!0):this.toggleSelectMultiple(l,!1)},this.onRowClick=(e,t)=>{var r;let n=this.props.getItemKey(t);if(null==(r=this.props.unselectableItemKeys)||!r.has(n)){if(e.shiftKey){let e;if(1===this.state.selectedItemKeys.size?e=[...this.state.selectedItemKeys][0]:this.rangeSelectAnchorRowKey&&(e=this.rangeSelectAnchorRowKey),e&&e!==n){let t=this.state.selectedItemKeys.has(n);this.selectRowsInRange(e,n,t),this.rangeSelectAnchorRowKey=n;return}}this.toggleSelect(t)}},this.isFirstInSelectedGroup=e=>{let t=this.props.items[e],r=this.props.getItemKey(t);if(!this.state.selectedItemKeys.has(r))return!1;let n=this.props.items[e-1];if(!n)return!0;let i=this.props.getItemKey(n);return!this.state.selectedItemKeys.has(i)},this.isLastInSelectedGroup=e=>{let t=this.props.items[e],r=this.props.getItemKey(t);if(!this.state.selectedItemKeys.has(r))return!1;let n=this.props.items[e+1];if(!n)return!0;let i=this.props.getItemKey(n);return!this.state.selectedItemKeys.has(i)},this.rowWithCheckbox=(e,t,r)=>{var i,a,l,s,c,d;let p=this.isItemSelected(e),m=this.props.getItemKey(e),_=o()(b.o9,null==(i=this.props.styleOverrideClassNames)?void 0:i.unselectedCheckbox),h=(null==(a=this.props.unselectableItemKeys)?void 0:a.has(m))?null:n.createElement(u.s,{className:p?void 0:_,allChecked:p,someChecked:!1,"data-onboarding-key":p?"msl_selected_row_onboarding_key":void 0,"data-testid":"multi-select-list-select-item-checkbox",onChange:e=>{}}),g=e.tooltipText,f=[];return this.props.shouldRoundBordersForSelectedRows&&(f.push(b.ub),p&&!this.isFirstInSelectedGroup(r)&&f.push(b.Oo),p&&!this.isLastInSelectedGroup(r)&&f.push(b.fz)),n.createElement(E.mi,{className:o()(b.CE,null==(l=this.props.styleOverrideClassNames)?void 0:l.row,p&&(null==(s=this.props.styleOverrideClassNames)?void 0:s.selectedRow)?null==(c=this.props.styleOverrideClassNames)?void 0:c.selectedRow:void 0,...f),selected:p,key:m,onClick:t=>this.onRowClick(t,e),tooltipText:g,useAdminTableStyles:!0,dataTestId:"multi-select-list-table-trackable-row"},n.createElement("div",{className:o()(b.Gu,null==(d=this.props.styleOverrideClassNames)?void 0:d.checkboxColumn)},h),this.props.columns.map(i=>n.createElement("div",{className:i.className,key:i.name},i.cellComponent(e,t,r))))},this.renderLoadingRow=e=>{var t,r;let i=0;return e<2?i=1:e<10&&(i=1-(e-2+1)/9),n.createElement("div",{key:e,style:{opacity:i},"data-testid":"multi-select-list-loading-row"},n.createElement(E.mi,{className:o()(b.CE,null==(t=this.props.styleOverrideClassNames)?void 0:t.row),useAdminTableStyles:!0,dataTestId:"multi-select-list-table-loading-row"},n.createElement("div",{className:o()(b.Gu,null==(r=this.props.styleOverrideClassNames)?void 0:r.checkboxColumn)}),this.props.columns.map((t,r)=>t.name?n.createElement("div",{className:t.className,key:t.name},n.createElement("div",{style:h.sx.add({width:`${50*Math.abs(Math.sin(e+r+1))+30}%`}).$},n.createElement(p.AT,{className:_.cx.h12.$,animationType:p.ie.SHIMMER}))):n.createElement("div",{key:t.name,className:o()(_.cx.wFull.$,t.className)}))))},this.filterToSelected=(0,s.ei)((e,t,r,n)=>e.filter(e=>t.has(n(e))&&!(null==r?void 0:r.has(n(e))))),this.state={scrollTop:0,selectedItemKeys:new Set,selectedAll:!1},this.stickBannerRef=n.createRef(),this.scrollContainerRef=n.createRef()}componentDidUpdate(e,t){if(e.sortState.columnName!==this.props.sortState.columnName||e.sortState.isReversed!==this.props.sortState.isReversed||e.items.length!==this.props.items.length){if(this.rangeSelectAnchorRowKey=null,(e.isLoading||this.props.isLoading)&&e.items.length<this.props.items.length&&this.state.selectedAll){let t=this.props.items.slice(e.items.length).map(e=>this.props.getItemKey(e));this.setState(e=>({selectedItemKeys:new Set([...e.selectedItemKeys,...t])}))}this.props.isLoading&&0===this.props.items.length&&this.state.selectedAll&&this.setState({selectedItemKeys:new Set,selectedAll:!1})}}onHeaderClick(e){this.props.onSetSortState(e)}renderColumnHeaders(e){var t,r;let i=e.length===this.selectableItemKeys().length,a=e.length>0,l=0===e.length;return n.createElement(E.CG,{header:!0,useAdminTableStyles:!0,className:o()(this.props.disabled?b.qQ:b.aC,null==(t=this.props.styleOverrideClassNames)?void 0:t.header),dataTestId:"multi-select-list-table-header-row"},n.createElement("div",{className:o()(b.Gu,null==(r=this.props.styleOverrideClassNames)?void 0:r.checkboxColumn)},this.selectableItemKeys().length>0&&!this.props.selectAllDisabled&&n.createElement(u.s,{allChecked:i,"data-onboarding-key":T,someChecked:a,onChange:()=>{l?(this.toggleSelectMultiple(this.selectableItemKeys(),!1,!0),this.props.onToggleSelectAll&&this.props.onToggleSelectAll(!1)):(this.toggleSelectMultiple(this.selectableItemKeys(),!0,!0),this.props.onToggleSelectAll&&this.props.onToggleSelectAll(!0))},"data-testid":"multi-select-list-select-all-checkbox"})),this.props.columns.map(e=>n.createElement("div",{className:e.className,key:e.name},n.createElement(w,{className:e.headerClassName,extraContent:e.headerExtraContent,name:e.name,isReversed:this.props.sortState.isReversed,isSelected:e.sorting_key?e.sorting_key===this.props.sortState.columnName:e.name===this.props.sortState.columnName,onClick:e.getSortValue?()=>this.onHeaderClick(e.sorting_key??e.name):void 0,onboardingKey:e.onboardingKey}))))}render(){var e,t,r,i,a;let s=this.filterToSelected(this.props.items,this.state.selectedItemKeys,this.props.unselectableItemKeys,this.props.getItemKey),c=this.props.isBannerHeightDynamic?{top:(null==(r=null==(t=null==(e=this.stickBannerRef)?void 0:e.current)?void 0:t.getBoundingClientRect())?void 0:r.height)||0}:void 0,u=this.props.isLoading&&0===this.props.items.length,p=this.props.trackingProperties?this.props.trackingProperties.batchAction:{};return n.createElement(n.Fragment,null,n.createElement("div",{className:o()(b.iL,{[b.Qb]:this.props.hasNewScrollContext},null==(i=this.props.styleOverrideClassNames)?void 0:i.tableWrapper)},n.createElement(m.f,{className:b.yR,innerClassName:o()(b.EN,this.props.scrollContainerInnerClassName),onScroll:this.onScroll,minContentWidth:this.props.minContentWidth||(0,l.I)(v.Ehe),scrollContainerRef:this.scrollContainerRef,scrollingDisabled:u,horizontalScrollingDisabled:this.props.hasNewScrollContext,scrollBarAlways:this.props.scrollBarAlwaysVisible},n.createElement(n.Fragment,null,n.createElement("div",{ref:this.stickBannerRef,className:b.QH},this.props.stickyBanner),n.createElement("div",null,this.props.scrollAwayContent),n.createElement("div",{className:void 0!==this.props.stickyBanner?b.md:b.QH,style:c},n.createElement(g.kH,{name:"MultiSelectList Header",trackingTargets:f.I.NONE,properties:{tableType:this.props.itemTypeContext.itemType}},this.props.stickyContent),this.renderColumnHeaders(s)),0===this.props.items.length&&!this.props.isLoading&&n.createElement("div",{className:b.Qp},this.props.emptyContent),n.createElement(g.kH,{name:"MultiSelectList - Row",trackingTargets:f.I.RCS,properties:{tableType:this.props.itemTypeContext.itemType}},n.createElement(A,{totalLoaded:this.props.items.length,isLoading:!!this.props.isLoading,disabled:!!this.props.disabled,renderLoadingRow:e=>this.renderLoadingRow(e),renderItem:e=>this.rowWithCheckbox(this.props.items[e],s.length>0,e),scrollContainerRef:this.scrollContainerRef,onFetchMore:this.props.onFetchMore,rowHeight:this.props.rowHeightOverride??S,paddingEnd:this.props.paddingEnd||32})))),this.props.actionBar&&n.createElement(g.kH,{name:"MultiSelectList BatchAction",trackingTargets:f.I.RCS,properties:{selectedAll:this.state.selectedAll,selectedCount:s.length,...p}},n.createElement("div",{className:s.length>0?b.z8:b.yq,"data-testid":"multi-select-list-action-bar"},n.createElement("div",{className:o()(s.length>0?b.Os:b._k,this.props.actionBarClassName)},n.createElement("div",{className:b.W0},this.props.itemTypeContext.getSelectedCountString(this.props.getTotalSelected?this.props.getTotalSelected(s,this.selectableItemKeys()):s.length)),this.props.actionBar(s),n.createElement(d._e,{className:o()(b.U$,null==(a=this.props.styleOverrideClassNames)?void 0:a.batchActionClearButton),svg:I.c,onClick:()=>{this.toggleSelectMultiple(this.selectableItemKeys(),!0,!0),this.props.onToggleSelectAll&&this.props.onToggleSelectAll(!0)},trackingProperties:{action:"Clear Selection"}}))))),this.props.footer&&this.props.footer(s))}}function A({totalLoaded:e,isLoading:t,disabled:r,renderItem:a,renderLoadingRow:o,scrollContainerRef:l,onFetchMore:s,rowHeight:c,paddingEnd:d}){let u=n.useCallback(()=>c,[c]),{virtualItems:p,totalSize:m}=(0,i.b)({size:t||s?e+10:e,parentRef:l,overscan:15,estimateSize:u,paddingEnd:d||32});return n.useEffect(()=>{let t=p[p.length-1];e&&s&&(null==t?void 0:t.index)>=e-1&&s()},[s,e,p]),n.createElement("div",{className:`${r?b.O0:b.Wk}`,style:{height:m}},p.map(t=>n.createElement("div",{key:t.index,style:{position:"absolute",top:t.start,left:0,width:"100%",height:t.size}},t.index>=e?o(t.index-e):a(t.index))))}C.displayName="MultiSelectList"},866408:(e,t,r)=>{"use strict";r.d(t,{Gi:()=>S,Ij:()=>g,Y5:()=>m,aI:()=>A,gr:()=>c,oD:()=>d,or:()=>w,sp:()=>I,sx:()=>b,u8:()=>p,um:()=>y});var n=r(307824),i=r(203736),a=r(960032),o=r(271156),l=r(504007);r(91184),r(231951);let s=a.c.createLazyComponent(()=>Promise.all([r.e(7493),r.e(8332),r.e(7900),r.e(9508),r.e(2240),r.e(6352),r.e(1708),r.e(8980),r.e(1884),r.e(6005),r.e(2809),r.e(1064),r.e(9866),r.e(5268),r.e(7528),r.e(2056),r.e(5672),r.e(4032)]).then(r.bind(r,799212)).then(e=>e.TeamRenameModal),(0,i.kj)("TeamNameModal")),c=(0,i.U9)(s),d="team-permissions-modal",u=a.c.createLazyComponent(()=>Promise.all([r.e(7493),r.e(8332),r.e(7900),r.e(9508),r.e(2240),r.e(6352),r.e(1708),r.e(8980),r.e(1884),r.e(6005),r.e(2809),r.e(1064),r.e(9866),r.e(5268),r.e(7528),r.e(2056),r.e(5672),r.e(4032)]).then(r.bind(r,968740)).then(e=>e.TeamPermissionsModal),(0,i.kj)("TeamPermissionsModal"));(0,i.Ko)(d,u);let p="team-admin-downgrade-survey",m="leave-team-downgrade-survey",_=a.c.createLazyComponent(()=>Promise.all([r.e(7493),r.e(8332),r.e(7900),r.e(9508),r.e(2240),r.e(6352),r.e(1708),r.e(8980),r.e(1884),r.e(6005),r.e(2809),r.e(1064),r.e(9866),r.e(5268),r.e(7528),r.e(2056),r.e(5672),r.e(4032)]).then(r.bind(r,564928)).then(e=>e.DowngradeSurveyModalAdmin),(0,i.kj)("DowngradeSurveyModalAdmin")),h=a.c.createLazyComponent(()=>Promise.all([r.e(7493),r.e(8332),r.e(7900),r.e(9508),r.e(2240),r.e(6352),r.e(1708),r.e(8980),r.e(1884),r.e(6005),r.e(2809),r.e(1064),r.e(9866),r.e(5268),r.e(7528),r.e(2056),r.e(5672),r.e(4032)]).then(r.bind(r,564928)).then(e=>e.DowngradeSurveyModalLeaveTeam),(0,i.kj)("DowngradeSurveyModalLeaveTeam"));(0,i.Ko)(p,e=>n.createElement(_,{...e})),(0,i.Ko)(m,e=>n.createElement(h,{...e}));let g="team-admin-confirm-downgrade",f=a.c.createLazyComponent(()=>Promise.all([r.e(7493),r.e(8332),r.e(7900),r.e(9508),r.e(2240),r.e(6352),r.e(1708),r.e(8980),r.e(1884),r.e(6005),r.e(2809),r.e(1064),r.e(9866),r.e(5268),r.e(7528),r.e(2056),r.e(5672),r.e(4032)]).then(r.bind(r,822640)).then(e=>e.ConfirmDowngradeModal),(0,i.kj)("ConfirmDowngradeModal"));(0,i.Ko)(g,f);let E=a.c.createLazyComponent(()=>Promise.all([r.e(7493),r.e(8332),r.e(7900),r.e(9508),r.e(2240),r.e(6352),r.e(1708),r.e(8980),r.e(1884),r.e(6005),r.e(2809),r.e(1064),r.e(9866),r.e(5268),r.e(7528),r.e(2056),r.e(5672),r.e(4032)]).then(r.bind(r,938160)).then(e=>e.MemberEditAccessModal),(0,i.kj)("MemberEditAccessModal")),y=(0,i.U9)(E,"MemberEditAccessModal"),b=(0,i.U9)(o.k,"AssetTransferAdminListModal"),v=a.c.createLazyComponent(()=>Promise.all([r.e(7493),r.e(8332),r.e(7900),r.e(9508),r.e(2240),r.e(6352),r.e(1708),r.e(8980),r.e(1884),r.e(6005),r.e(2809),r.e(1064),r.e(9866),r.e(5268),r.e(7528),r.e(2056),r.e(5672),r.e(4032)]).then(r.bind(r,572232)).then(e=>e.ConfirmTeamUserPaidStatusUpdateModal),(0,i.kj)("ConfirmTeamUserPaidStatusUpdateModal")),I=(0,i.U9)(v,"ConfirmTeamUserPaidStatusUpdateModal"),w=(0,i.U9)(l.gN,"AssetTransferRequestModal"),T=a.c.createLazyComponent(()=>Promise.all([r.e(7493),r.e(8332),r.e(7900),r.e(9508),r.e(2240),r.e(6352),r.e(1708),r.e(8980),r.e(1884),r.e(6005),r.e(2809),r.e(1064),r.e(9866),r.e(5268),r.e(7528),r.e(2056),r.e(5672),r.e(4032)]).then(r.bind(r,594132)).then(e=>e.ConfirmDowngradeEditorsModal),(0,i.kj)("ConfirmDowngradeEditorsModal")),S=(0,i.U9)(T,"ConfirmDowngradeEditorsModal"),C=a.c.createLazyComponent(()=>Promise.all([r.e(7493),r.e(8332),r.e(7900),r.e(9508),r.e(2240),r.e(6352),r.e(1708),r.e(8980),r.e(1884),r.e(6005),r.e(2809),r.e(1064),r.e(9866),r.e(5268),r.e(7528),r.e(2056),r.e(5672),r.e(4032)]).then(r.bind(r,920332)).then(e=>e.EduUpgradeModal),(0,i.kj)("EduUpgradeModal")),A=(0,i.U9)(C,"EDU_UPGRADE_MODAL")},423420:(e,t,r)=>{"use strict";r.d(t,{E:()=>o,Y:()=>a});var n=r(372152),i=r(625252);let a=(0,i.q)(n.qM,"FileBrowser",(0,i.u)("filebrowser-loading-page",e=>{e.setAttribute("id",""),e.classList.remove("hidden"),e.classList.remove("fadeOut")})),o=a.useIsLoading},451e3:(e,t,r)=>{"use strict";r.d(t,{YH:()=>m,__:()=>d,_i:()=>u,m_:()=>p});var n=r(307824),i=r(125504),a=r.n(i),o=r(768184),l=r(383456),s=r(441388),c=r(182896);function d(e){let[t]=n.useState(()=>new o.E),[r,i]=n.useState(!1),{onClick:l,openTile:s,tile:d,index:u,selectable:p,isSelected:m,selectTile:_}=e,h=n.useCallback(e=>{if(l(),!p){s(d,e,u);return}r?(m&&_(d,e),s(d,e,u)):(_(d,e),t.reset(),t.scheduleOnce(()=>{i(!1)},500),i(!0),e.preventDefault(),e.stopPropagation())},[t,u,m,s,l,_,p,d,r]);n.useEffect(()=>()=>t.reset(),[t]);let g=e.isRenaming||!1,f=a()(c.uQ,{[c.Mh]:e.isListView,[c.ue]:e.selectable&&e.isSelected}),E=a()(c.yO,c.Uc);return n.createElement("a",{className:f,href:!e.selectable||r?e.href:void 0,rel:"noopener",onClick:h,onContextMenu:e.onTileContextMenu?t=>{e.onTileContextMenu&&e.onTileContextMenu(e.tile,t,e.index)}:void 0,draggable:!!e.draggable&&void 0,onDragStart:e.draggable?t=>{e.draggable&&e.onTileDragStart(e.tile,t)}:void 0,onDragEnd:e.draggable?t=>{e.draggable&&e.onTileDragEnd(e.tile,t)}:void 0,onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave,ref:e.tileRef},n.createElement("div",{className:a()(c.kD,c.CA),draggable:e.draggable&&!g},e.isListView?e.children:n.createElement(n.Fragment,null,n.createElement("div",{className:E,onClick:()=>!0}),e.children)))}let u=(0,s.wB)(d);function p({subtitle:e,disabled:t}){return n.createElement("div",{className:t?c._s:c.CY},e)}function m({date:e}){return n.createElement("div",{className:c.S2},n.createElement(l.O,{className:c.MB,date:e}))}},904308:(e,t,r)=>{"use strict";r.d(t,{h:()=>ec,s:()=>es});var n=r(307824),i=r(120304),a=r(125504),o=r.n(a),l=r(250008),s=r(311364),c=r(144992),d=r(899116),u=r(843148),p=r(87975),m=r(506616),_=r(21036),h=r(594192),g=r(888932),f=r(383456),E=r(703520),y=r(76952),b=r(537096),v=r(446488),I=r(698240),w=r(560072),T=r(784740),S=r(403132),C=r(46604),A=r(257200),O=r(241040),N=r(417308),L=r(48504),R=r(90340),P=r(782800),M=r(846004),k=r(236296),D=r(833492),F=r(306440),x=r(514916),U=r(472956),B=r(154328),G=r(303972),V=r(553432),H=r(974292),W=r(685656),K=r(114396),Y=r(215113),q=r(351212),j=r(936364),$=r(862560),Z=r(892996),z=r(481100),Q=r(142548),X=r(319552),J=r(131940),ee=r(789420),et=r(55934),er=r(985408),en=r(433824),ei=r(96108),ea=r(647976),eo=r(356832);function el(e){var t,r,a;let l=(0,i.OY)(),d=(0,V.usePermissionsState)(),p=(0,F.c$)(),h=(0,i.w1)(e=>e.currentUserOrgId),f=(0,i.w1)(e=>e.currentTeamId),b="recentsAndSharing"===p.view&&"shared-projects"===p.tab?(null==(t=e.folder.parent_org)?void 0:t.id)??null:h,v="recentsAndSharing"===p.view&&"shared-projects"===p.tab?(null==(r=e.folder.parent_team)?void 0:r.id)??null:f,I=(0,u.Ub)().ps_benchmark,w=I?v:null,T=(0,J.a)(),A=(0,D.g)(),L=(0,u.Ub)().ps_benchmark,M=(0,m.Qb)(U.sX0,{resourceId:e.folder.id,resourceType:x.M$.FOLDER,orgId:b,teamId:b?null:v}),k=(0,X.y)({currentOrgId:b,currentTeamId:(w??v)||null}),G=n.useMemo(()=>{if("loaded"===M.status){if(I||T)return void 0!==(0,P.kR)(M.data,x.M$.FOLDER)}else if("loaded"===k.status)return(0,P.s$)(k.data,e.folder.id);return I||T?!!e.folder.is_favorited:!!e.folder.is_subscribed},[e.folder.id,k,M,T,I,e.folder.is_favorited,e.folder.is_subscribed]),H=t=>{e.isSearch||l(O.AJ({folderId:t}))},W=()=>{var t,r;l(C.gf({clickedResourceType:"team",resourceIdOrKey:e.folder.id})),(0,R.yM)("file_browser_folder_click",e.folder.id,e.folder.team_id,d,{selectedView:"recentsAndSharing"===e.selectedView.view?e.selectedView.tab||K.e.RECENTLY_VIEWED:e.selectedView.view,planFilterId:(null==(t=e.currentPlanFilter)?void 0:t.planId)||null,planFilterType:(null==(r=e.currentPlanFilter)?void 0:r.planType)||null,viewMode:"grid"}),l(C.SW(e.folder.id))},Y=n.useCallback(t=>{l(C.Kc({fileKey:t.key,entrypoint:"folder list card"})),l(N.ym({planId:h||q.I}));let r="recentsAndSharing"===e.selectedView.view||"folder"===e.selectedView.view?e.selectedView:void 0;(0,s.Mb)(h,t.parent_org_id,f,t.team_id)?(0,s.A3)(t.key,d.user,h,L?f:null,e.selectedView):l(S.Ej({view:"fullscreen",fileKey:t.key,editorType:t.editor_type||"design",prevSelectedView:r}))},[h,f,l,L,d.user,e.selectedView]),j=e.useLGPerms?!!(null==(a=e.folder.folderPerms)?void 0:a.canCreateDesignFile):(0,V.canCreateFile)(e.folder.id,d,x.aE.DESIGN),$=e.folderFiles.length,Z=e.isSearch?"loaded":"loaded"===e.loadedFolders[e.folder.id],Q=n.useMemo(()=>e.folderFiles.sort((e,t)=>e.touched_at<t.touched_at?1:-1).slice(0,15),[e.folderFiles]),et=n.useMemo(()=>Q.map(e=>e.key),[Q]);(0,c.OS)(et);let er=n.useMemo(()=>{let t=Q.slice(0,4).map(t=>n.createElement(ep,{key:t.key,file:t,teamId:e.folder.team_id,onFileClick:Y,selectedView:e.selectedView}));for(;t.length<4;)t.push(n.createElement(em,{key:`${t.length}`,folder:e.folder,canCreateFile:j}));return t},[Q,e.folder,e.selectedView,Y,j]);return n.createElement("div",{ref:(0,_.c)(e.folderRef),className:o()(ei.YN,{[ei.My]:!0}),onClick:e=>{(g.cp.mac?e.metaKey:e.ctrlKey)||e.shiftKey||(e.preventDefault(),e.stopPropagation(),2===e.detail&&W())},onContextMenu:t=>{t.stopPropagation(),t.preventDefault();let r={top:t.clientY,right:t.clientX,bottom:t.clientY,left:t.clientX,width:1,height:1};l(S.Qn({type:ee.u0,data:{folder:{...(0,B.gL)(e.folder),folderPerms:e.folder.folderPerms,description:e.folder.description,canEdit:(0,V.canEditFolder)(e.folder.id,d),isSubscribed:G},useLGPerms:e.useLGPerms,targetRect:r}}))},"data-onboarding-key":e.dataOnboardingKey,tabIndex:0},n.createElement("div",{className:ei.G6}),n.createElement("div",{className:ei.cB},n.createElement(y.w,{onIntersectionChange:t=>{t.isIntersecting&&H(e.folder.id)}}),!Z&&n.createElement(E.WA,null),Z&&n.createElement("div",{className:ei.Si},er),n.createElement(n.Fragment,null,n.createElement("div",{className:ei.o3},n.createElement("div",{className:o()(ei.QN,{[ei.ak]:(null==A?void 0:A.type)==="organize-favorite-menu"}),tabIndex:0},n.createElement(z.k,{folder:{...e.folder,is_subscribed:G},containerStyle:ei.uY}))),n.createElement("div",{className:ei.sf},n.createElement(eu,{...e,folder:e.folder,folderName:e.folderName,folderTeamName:e.folderTeamName,folderOwnerName:e.folderOwnerName,folderLastUpdated:e.folderLastUpdated,folderFileCount:$,showTeamNameOrAuthor:!1,showFavoriteStar:!1,hideSubscribe:!!e.hideSubscribe,isSharerInfoIncluded:e.isSharerInfoIncluded})))))}let es=(0,i.Ul)((e,t)=>{let r=[...e.fileKeysByFolderId[t.folder.id]??[],...(e.repoIdsByFolderId[t.folder.id]??[]).map(t=>e.repos[t].default_file_key).filter(e=>null!==e)].map(t=>e.fileByKey[t]).filter(h.aI),n=e.selectedView;return{...(0,en.o)(e,t.folder),loadedFolders:e.loadedFolders,folderFiles:r,selectedView:n}})(el),ec=el,ed={open:!0,openNewTab:!0,share:!0,copyLink:!0,delete:!0,moveFile:!0};function eu(e){var t;let r=e.folder,a=(0,i.w1)(e=>e.orgById),o=(0,G.W)(),l=(0,V.usePermissionsState)(),s=e.folderTeamName,c=e.folderOwnerName&&(0,w.t)("team_view.folder_list_card.owner_handle",{folderOwnerName:e.folderOwnerName}),d=r.shared_by_user&&r.shared_by_user.name?n.createElement(w.Tx,{id:"team_tile.shared_by",shared_by_text:r.shared_by_user.name}):r.shared_at&&n.createElement("div",{className:ei.Om},n.createElement(w.Tx,{id:"swy_tile.shared"}),n.createElement(f.O,{date:new Date(r.shared_at)})),u=r.parent_org||r.parent_team,p=n.createElement(n.Fragment,null,n.createElement("div",{className:ei.E9},n.createElement(T.a,{fontSize:11,i18nId:"team_view.folder_list_card.number_of_files",i18nParams:{numFiles:e.folderFileCount}}),n.createElement("div",null,"\xa0\xb7\xa0"),n.createElement(T.a,{fontSize:11,truncate:!0},u&&n.createElement(Z.I,{entityId:u.id,entityName:u.name||void 0,imgUrl:u.imgUrl||void 0}),d))),m=r.parent_org_id&&a[r.parent_org_id]||r.team_id&&o[r.team_id],_=m&&"search"===e.selectedView.view?n.createElement("div",{className:I.cx.flex.flexRow.itemsCenter.pre.$},n.createElement(Z.I,{entityId:m.id,entityName:m.name,imgUrl:m.img_url}),s&&n.createElement(n.Fragment,null,s+" \xb7 "),n.createElement(w.Tx,{id:"team_view.folder_list_card.number_of_files",numFiles:e.folderFileCount})):n.createElement(n.Fragment,null,n.createElement(w.Tx,{id:"team_view.folder_list_card.number_of_files",numFiles:e.folderFileCount}),e.folderLastUpdated&&n.createElement(w.Tx,{id:"team_view.folder_list_card.last_updated_at",lastUpdatedTime:n.createElement(f.O,{date:e.folderLastUpdated})}));return n.createElement("div",{className:ei.qW},n.createElement("div",{className:ei.YZ},n.createElement("div",{className:ei.K4},n.createElement(T.a,{fontSize:13,fontWeight:"medium",truncate:!0},e.folderName),(0,V.canEditFolder)(e.folder.id,l)&&(null==(t=e.folder.settings)?void 0:t.legacy_team_root_folder)&&"Untitled project"===e.folder.path?n.createElement(b.A,{className:ei.O,svg:eo.c,"data-tooltip-type":Q.wL.SPECIAL,"data-tooltip-interactive":!0,"data-tooltip":Q.oz.TEAM_ROOT_FOLDER_RENAME,"data-tooltip-show-immediately":!0,"data-tooltip-show-above":!0,"data-tooltip-folder-id":e.folder.id}):null),n.createElement(j._,{...e})),e.showTeamNameOrAuthor&&n.createElement("div",{className:ei.uQ},s||c),n.createElement("div",{className:ei.KY},n.createElement("div",{className:ei.uo},n.createElement("div",{className:ei.Qd},(r.shared_by_user||r.shared_at)&&e.isSharerInfoIncluded?p:_))))}function ep(e){var t,r,a;let s=(0,i.OY)(),c=(0,i.w1)((0,H.K)((0,er.S)(e.file.key))),u=(0,i.w1)(e=>e.dropdownShown),p=(null==(a=null==(r=null==(t=null==u?void 0:u.data)?void 0:t.tile)?void 0:r.file)?void 0:a.key)===e.file.key,m=t=>{t.preventDefault(),t.stopPropagation(),d.sZ&&(0,l.we)("Open File Click",{fileKey:e.file.key,uiSelectedView:JSON.stringify({teamId:e.teamId})}),e.onFileClick(e.file)},_=e.file,h="whiteboard"===_.editor_type?ei.Md:ei.kr,g=_.thumbnail_guid?ei.AJ:ei.gB,f={type:k.Az.FILE,file:_};return n.createElement("button",{className:o()(ei.UZ,{[ei.Oo]:p}),onClick:e=>{2===e.detail&&m(e)},draggable:!1,tabIndex:0,onContextMenu:t=>{t.preventDefault(),t.stopPropagation();let r={top:t.clientY,right:t.clientX,bottom:t.clientY,left:t.clientX,width:1,height:1};s(S.Qn({type:(0,er.S)(e.file.key),data:{tile:f,targetRect:r}})),s(L.sX()),s(L.wJ({type:Y.y.FILES,tiles:[f]}))}},n.createElement("div",{className:ei.c$},n.createElement("div",{className:h,style:{backgroundColor:(0,M.qi)(_.client_meta)}},_.has_file_link_password||_.has_proto_link_password?n.createElement("div",{className:o()(g,ei.g1)},n.createElement(v.Yn,null)):n.createElement("div",{className:g,style:{backgroundImage:`url(${_.thumbnail_url})`}}))),n.createElement("div",{className:ei.af},n.createElement("div",{className:ei.Q$},_.name)),c&&n.createElement(et.Q,{tileActions:ed,tile:f,openTile:m,recentsIndexToLog:void 0,dropdownVisible:c}))}function em(e){let t=(0,i.OY)(),r=(0,$._g)(),a=(0,i.w1)(t=>e.folder.team_id?t.teams[e.folder.team_id]:void 0);return n.createElement("a",{href:"#",rel:"noopener",role:"button",className:ei.ID,onClick:n=>{n.preventDefault(),n.stopPropagation(),e.canCreateFile&&t(A.Ah({state:r,editorType:x.aE.DESIGN,folderId:e.folder.id,team:a,from:W.Uz.FILE_BROWSER_FOLDER_EMPTY_TILE,openNewFileIn:(0,p.mM)(n)?W.mM.NEW_TAB:W.mM.SAME_TAB}))},draggable:!1,tabIndex:0,onContextMenu:e=>{e.preventDefault(),e.stopPropagation()}},e.canCreateFile&&n.createElement(b.A,{svg:ea.c}))}},660364:(e,t,r)=>{"use strict";r.d(t,{A:()=>l,K:()=>s});var n=r(307824),i=r(250008),a=r(733960),o=r(570464);function l(e,t){return n.useCallback(r=>{let{event:n,...a}=r||{},l=n&&o.Mx(e,n)||e;(0,i.we)(l,{...t,...a})},[e,t])}function s(e,t,r){let[o,l]=n.useState(e),s=(0,a.i)(o);return n.useEffect(()=>{t&&o!==s&&(0,i.we)(t,{previousState:s,newState:o,...r})},[o]),[o,l]}},139776:(e,t,r)=>{"use strict";r.d(t,{Cy:()=>N,E1:()=>f,GI:()=>v,I5:()=>y,IH:()=>R,Ib:()=>T,KG:()=>s,MF:()=>c,MP:()=>d,QO:()=>g,QV:()=>_,SQ:()=>o,S_:()=>p,Ux:()=>C,W2:()=>l,WS:()=>O,Wm:()=>h,YP:()=>u,YX:()=>function e(t,r=[]){for(let n=0;n<t.length;n++){let i=t[n];Array.isArray(i)?e(i,r):r.push(i)}return r},Yt:()=>m,cp:()=>w,gd:()=>S,iA:()=>L,mI:()=>I,mk:()=>b,o$:()=>E,uW:()=>A,wv:()=>a});var n=r(455200),i=r(594192);function a(e,t,r,n){let i=e.indexOf(t,0);if(i<0)return e;let a=null==r?-1:e.indexOf(r);a<0?a=n?0:e.length:n&&i<a?a-=1:!n&&i>a&&(a+=1);let o=e.slice();return i>-1&&a!==i&&(o.splice(i,1),o.splice(a,0,t)),o}function o(e,t){-1===e.indexOf(t)&&e.push(t)}function l(e,t){-1===e.indexOf(t)&&e.unshift(t)}function s(e,t){let r=e.indexOf(t);-1!==r&&e.splice(r,1)}function c(e,t){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}function d(e){for(let t=1;t<e.length;t++)if(void 0===e[t]||e[t]!==e[t-1])return!1;return!0}function u(e,t){let r=e.length,n,i;for(;0!==r;)i=Math.floor((t?function(e=Date.now()){return(9301*e+49297)%233280/233280}(t):Math.random())*r),r-=1,n=e[r],e[r]=e[i],e[i]=n;return e}function p(e){return e[Math.floor(Math.random()*e.length)]}function m(e,t,r=!1){return _(e,e=>e[t],r)}function _(e,t,r=!1,n,i=!1){e.sort((e,a)=>{if(t(e)===t(a)&&n){let t=i?-1:1;return n(e)<n(a)?-t:t}let o=r?-1:1;return t(e)<t(a)?-o:o})}let h=200,g=new Intl.Collator("en",{numeric:!0,sensitivity:"base"});function f(e,t,r={}){E(e,e=>e[t],r)}function E(e,t,r={},n){let i=e=>{let r=t(e);return r&&r.toLowerCase?r.toLowerCase():""},a=e=>{if(!n)return"";let t=n(e);return t&&t.toLowerCase?t.toLowerCase():""},o=r.isDescending?-1:1;r.useExpensiveNaturalComparison?e.sort((e,t)=>g.compare(i(e),i(t))*o):e.sort((e,t)=>{if(i(e)===i(t)&&n){let n=r.isSecondaryDescending?-1:1;return a(e)<a(t)?-n:n}return i(e)<i(t)?-o:o})}function y(e,t,r=!1,n,i=!1){let a=(e,t)=>{let r=e(t);return"string"==typeof r?r.toLowerCase():"number"==typeof r?r:""},o=r?-1:1;e.sort((e,r)=>{if(a(t,e)===a(t,r)&&n){let t=i?-1:1;return a(n,e)<a(n,r)?-t:t}return a(t,e)<a(t,r)?-o:o})}function b(e,t,r=!1){return e.sort((e,n)=>{let i=new Date(t(e)).getTime()<new Date(t(n)).getTime()?1:-1;return r?-i:i})}function v(e,t,r=!1){return b(e,e=>e[t],r)}function I(e){return b(e,e=>e.created_at)}function w(e,...t){return e.sort((e,r)=>{for(let n of t){let t=n(e,r);if(0!==t)return t}return 0})}function T(e){return e.filter(i.aI)}function S(e,t,r=i.aI){for(let n=t+1;n<e.length;n++){let t=e[n];if(r(t,n))return t}}function C(e,t,r=i.aI){for(let n=t-1;n>=0;n--){let t=e[n];if(r(t,n))return t}}function A(e,t,r="left",a=i.aI){t=(0,n.qk)(t,0,e.length-1);for(let n=0;t-n>=0||t+n<e.length;n++){let[i,o]="left"===r?[t-n,t+n]:[t+n,t-n];if(i>=0&&i<e.length){let t=e[i];if(a(t,i))return t}if(o>=0&&o<e.length){let t=e[o];if(a(t,o))return t}}}function O(e){let t=[...e],r=(0,i.wl)(t.pop(),"input must be non-empty");return[t,r]}function N(e,t,r=String){let n={};t.forEach((e,t)=>{n[r(e)]=t});let i=0,a=0,o=[];for(;;){let l=e[i],s=t[a];if(void 0===l||void 0===s){if(void 0===l&&void 0===s)return o;void 0!==l&&void 0===s?(o.push({hasBoth:!1,left:l,right:void 0}),i++):void 0===l&&void 0!==s&&(o.push({hasBoth:!1,left:void 0,right:s}),a++)}else{let e=n[r(l)];void 0===e||e<a?(o.push({hasBoth:!1,left:l,right:void 0}),i++):(e===a?(o.push({hasBoth:!0,left:l,right:s}),i++):o.push({hasBoth:!1,left:void 0,right:s}),a++)}}}function L(e,t){let r=[];for(let n of e){let e=t(n);null!=e&&r.push(e)}return r}function R(e,t){return e.includes(t)?e.filter(e=>e!==t):e.concat(t)}},9256:(e,t,r)=>{"use strict";r.d(t,{Al:()=>u,Ix:()=>s,MT:()=>_,Yj:()=>o,_g:()=>p,a8:()=>c,c$:()=>l,q:()=>d,ym:()=>m});var n=r(643260);let i={status:n.D.INIT},a={status:n.D.LOADING};function o(){return i}function l(){return a}function s(e){return{status:n.D.SUCCESS,value:e}}function c(e){return{status:n.D.FAILURE,error:e}}function d(e){return e.status===n.D.INIT}function u(e){return e.status===n.D.LOADING}function p(e){return e.status===n.D.SUCCESS}function m(e){return e.status===n.D.FAILURE}function _(e){return p(e)?e.value:void 0}},311364:(e,t,r)=>{"use strict";r.d(t,{A3:()=>y,Ep:()=>S,Mb:()=>f,OO:()=>w,QV:()=>C,UX:()=>T,YH:()=>h,a2:()=>b,aC:()=>L,c1:()=>k,k5:()=>A,n6:()=>M,oX:()=>_,qA:()=>g,sU:()=>v,sl:()=>I,yW:()=>D});var n=r(656716),i=r(87975),a=r(888932),o=r(326660),l=r(58908),s=r(333928),c=r(980844),d=r(114396),u=r(250008),p=r(698228),m=r(843148);function _(e,t){let r,n;try{r=new URL(e,m.Gm),n=new URLSearchParams(r.search)}catch(r){throw(0,o.oP)(l._.EXPLORE,r,{extra:{...t,url:e}}),r}Object.entries(t).forEach(e=>{let[t,r]=e;n.set(t,r)});let i=n.toString();i&&(r.search=`?${i}`);let a=r.href;return a.startsWith(m.Gm)?a.substr(m.Gm.length):a}function h(e,t,r){let n=new URL(e,m.Gm),i=new URLSearchParams(n.search);i.has(t)||i.set(t,r);let a=i.toString();a&&(n.search=`?${a}`);let o=n.href;return o.startsWith(m.Gm)?o.substr(m.Gm.length):o}function g(e){var t=e.url;if(null!=t){if(t.startsWith("mailto:")){n.default.unsafeRedirect(t,e.openInNewWindow?"_blank":"");return}t.startsWith("http://")||t.startsWith("https://")||(t="http://"+t),n.default.postRedirect(`/exit?url=${encodeURIComponent(t)}`,e.openInNewWindow?"_blank":"")}}function f(e,t,r,n){return(0,m.Ub)().ps_benchmark?e?e!==t:r!==n:e!==t}let E="external-teams";function y(e,t,r,i,a,o="file"){let l=v((0,m.Ub)().dt_url_improvements?(0,s.ie)({file:{key:e},base:o}):`/${o}/${e}`,t);(0,m.Ub)().ps_benchmark?(l=I(l,r,i,a),function(e,t,r,n="file"){(0,u.we)("file_browser_fresh_external_file_load",{fileKey:e,entryPlanId:t||r,planType:t?c.Y.ORG:c.Y.TEAM,urlType:n})}(e,r,i,o)):(l=I(l,r,null,a),b(e,r,o)),n.default.redirect(l)}function b(e,t,r="file"){(0,u.we)("file_browser_fresh_external_file_load",{fileKey:e,entryPlanId:t||E,urlType:r})}function v(e,t){return t?h(e,"fuid",t.id):e}function I(e,t,r,n){let i=(0,m.Ub)().ps_benchmark,a="";if(i){let n=t||r;n&&(a=h(e,"prev-plan-id",n),a=h(a,"prev-plan-type",t?c.Y.ORG:c.Y.TEAM))}else a=h(e,"prev-org-id",t||E);return n&&(a=h(a,"prev-selected-view",n.view),a="folder"===n.view?h(a,"prev-folder-id",n.folderId):a,a="recentsAndSharing"===n.view?h(a,"prev-tab",n.tab||d.e.RECENTLY_VIEWED):a),a}function w(e,t,r){return window.open(e,t,r)}function T(e){return{top:e?e.top:0,right:e?e.right:0,bottom:e?e.bottom:0,left:e?e.left:0,width:e?e.width:0,height:e?e.height:0}}function S(e,t){return e&&t?JSON.stringify(T(e))===JSON.stringify(T(t)):e===t}function C(){return self!==top}let A={},O=document&&document.documentElement;function N(e,t){Object.defineProperty(A,e,{enumerable:!0,configurable:!0,get(){let r=t();return Object.defineProperty(A,e,{enumerable:!0,value:r}),r}})}function L(){return null==document.visibilityState||"visible"===document.visibilityState?Promise.resolve():new Promise(e=>{document.addEventListener("visibilitychange",function t(){"visible"===document.visibilityState&&(document.removeEventListener("visibilitychange",t),e())})})}N("pointerLock",()=>!!(O&&O.requestPointerLock)),N("fullscreenChangeEventName",()=>"onfullscreenchange"in document?"fullscreenchange":"onmozfullscreenchange"in document?"mozfullscreenchange":"onwebkitfullscreenchange"in document?"webkitfullscreenchange":"onMSFullscreenChange"in document?"MSFullscreenChange":"onmsfullscreenchange"in document?"msfullscreenchange":null),N("fullscreenErrorEventName",()=>"onfullscreenerror"in document?"fullscreenerror":"onmozfullscreenerror"in document?"mozfullscreenerror":"onwebkitfullscreenerror"in document?"webkitfullscreenerror":"onMSFullscreenError"in document?"MSFullscreenError":"onmsfullscreenerror"in document?"msfullscreenerror":null),N("requestFullscreenFunc",()=>O&&(O.requestFullscreen||O.mozRequestFullScreen||O.webkitRequestFullscreen||O.msRequestFullscreen||null)),N("exitFullscreenFunc",()=>{let e=document.exitFullscreen||document.mozExitFullscreen||document.mozCancelFullScreen||document.webkitExitFullscreen||document.msExitFullscreen||null;return e?e.bind(document):null}),N("getFullscreenElement",()=>document.fullscreenElement?()=>document.fullscreenElement:document.mozFullScreenElement?()=>document.mozFullScreenElement:document.webkitFullscreenElement?()=>document.webkitFullscreenElement:document.msFullscreenElement?()=>document.msFullscreenElement:()=>null),N("fullscreen",()=>null!=A.requestFullscreenFunc&&null!=A.exitFullscreenFunc&&(document.fullscreenEnabled||document.webkitFullscreenEnabled));let R="hidden"===document.visibilityState?Date.now():null,P=new Set;function M(){if(null===R||Date.now()-R<3e4)return Promise.resolve();let{promise:e,resolve:t}=(0,p.Q)();return P.add(t),e}function k(){let e=RegExp(`${a.cp.name}\\/${a.cp.version}[0-9.]*`),t=navigator.userAgent.match(e);if(t)return t[0]}function D(e){let t=(0,m.cp)().user_data,r=t&&t.id,n=function(e){if(!r||e instanceof KeyboardEvent&&e.keyCode!==i.as.ENTER)return;let t=e.target;if(!(t instanceof Element))return;let n=t.closest("a");if(!n||n.hostname!==window.location.hostname)return;let a=window.location.href,o=n.href.substr(0,n.href.indexOf("#")),l=a.indexOf("#"),s=a.substr(0,l),c=a.substr(l+1);o&&o===(s||c)||(n.href=h(n.href,"fuid",r))},a=e??document;a.addEventListener("click",n),a.addEventListener("keydown",n)}document.addEventListener("visibilitychange",()=>{"hidden"===document.visibilityState?R=Date.now():"visible"===document.visibilityState&&(R=null,P.forEach(e=>e()),P.clear())})},51408:(e,t,r)=>{"use strict";let n;r.d(t,{A9:()=>F,AV:()=>h,CS:()=>y,Cw:()=>_,G0:()=>l,Iy:()=>E,Kg:()=>d,Ks:()=>U,Mn:()=>v,O6:()=>u,OA:()=>x,Ou:()=>c,Ow:()=>L,Sc:()=>P,UF:()=>p,Ut:()=>m,WE:()=>A,Y5:()=>N,Y9:()=>Z,Yn:()=>f,a8:()=>s,ao:()=>M,es:()=>T,iq:()=>D,kl:()=>z,oL:()=>R,q0:()=>C,uA:()=>g,uo:()=>O,wU:()=>S,yo:()=>Q});var i=r(467740),a=r(455200),o=r(998e3);let l={r:0,g:0,b:0,a:1},s={r:1,g:1,b:1,a:1};var c=((n=c||{}).MULTIPLAYER_GRAY="#667799",n.MULTIPLAYER_BLUE="#007BE5",n.MULTIPLAYER_PURPLE="#9747FF",n.MULTIPLAYER_PINK="#FF24BD",n.MULTIPLAYER_RED="#F24822",n.MULTIPLAYER_YELLOW="#FFCD29",n.MULTIPLAYER_GREEN="#14AE5C",n);let d="var(--color-textondarkcanvas, #ffffff)",u="var(--color-textonlightcanvas, #000000)",p="inset 0px 0px 0px 1px rgba(255, 255, 255, 0.15)",m="inset 0px 0px 0px 1px rgba(0, 0, 0, 0.1)",_="inset 0px 0px 0px 2px var(--color-bordertranslucent)",h={aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#00FFFF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blue:"#0000FF",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgreen:"#006400",darkgrey:"#A9A9A9",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#FF00FF",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",green:"#008000",greenyellow:"#ADFF2F",grey:"#808080",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgreen:"#90EE90",lightgrey:"#D3D3D3",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#00FF00",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#663399",red:"#FF0000",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFFFFF",whitesmoke:"#F5F5F5",yellow:"#FFFF00",yellowgreen:"#9ACD32"};function g(e,t){return{...e,a:t}}function f(e,t){if(!e)return null;if("string"!=typeof e)return e;let r=null!=t,n=t??1;return function(e,t=1){let r=e.match(/color\(\s*display-p3\s*(?<red>[-+]?[0-9]*\.?[0-9]+)\s+(?<green>[-+]?[0-9]*\.?[0-9]+)\s+(?<blue>[-+]?[0-9]*\.?[0-9]+)\s*(?:\/\s*(?<alpha>[-+]?[0-9]*\.?[0-9]+%?))?\s*\)/);if(r&&r.groups&&"red"in r.groups&&"green"in r.groups&&"blue"in r.groups){let{red:e,green:n,blue:i,alpha:a}=r.groups;return{r:parseFloat(e),g:parseFloat(n),b:parseFloat(i),a:a?parseFloat(a):t}}return null}(e,n)??T(e,n)??y(e,n)??E(e,r,n)??null}function E(e,t=!1,r=1){let n=/[^0-9a-f]*([0-9a-f]*)/i.exec(e.trim());if(!n)return null;let i=n[1];if(i.length>=8&&t)return k(V(i.substring(0,2)),V(i.substring(2,4)),V(i.substring(4,6)),V(i.substring(6,8)));if(7===i.length&&t)return k(V(i.substring(0,2)),V(i.substring(2,4)),V(i.substring(4,6)),G(i[6]));if(i.length>=6)return k(V(i.substring(0,2)),V(i.substring(2,4)),V(i.substring(4,6)),r);if(5===i.length&&t)return k(G(i[0]),G(i[1]),G(i[2]),V(i.substring(3,5)));if(4===i.length&&t)return k(G(i[0]),G(i[1]),G(i[2]),G(i[3]));if(i.length>=3)return k(G(i[0]),G(i[1]),G(i[2]),r);if(2===i.length){let e=V(i);return k(e,e,e,r)}else if(1===i.length){let e=G(i);return k(e,e,e,r)}return null}function y(e,t=1){let r;return(r=X.exec(e=e.trim()))?k(W(r[1]),W(r[2]),W(r[3]),null==r[4]?t:Y(r[4])):(r=J.exec(e))?k(H(r[1]),H(r[2]),H(r[3]),null==r[4]?t:Y(r[4])):(r=ee.exec(e))?function(e,t,r,n){if(0===t)return k(r,r,r,n);let i=r<.5?r*(1+t):r+t-r*t,a=2*r-i,o=[0,0,0];for(let t=0;t<3;++t){let r=e+-(1/3*(t-1));r<0&&++r,r>1&&--r,6*r<1?o[t]=a+(i-a)*6*r:2*r<1?o[t]=i:3*r<2?o[t]=a+(i-a)*(2/3-r)*6:o[t]=a}return k(o[0],o[1],o[2],n)}(q(r[1]),W(r[2]),W(r[3]),null==r[4]?t:Y(r[4])):(r=et.exec(e))?function(e,t,r,n){let i=(100*e+16)/116,a=t/500+i,o=i-r/200,l=e=>{let t=e**3;return t>b?t:(e-16/116)/7.787};i=l(i);let s=e=>e>.0031308?1.055*e**(1/2.4)-.055:12.92*e,c=s(3.2404542*(a=95.047*l(a)/100)+-1.5371385*i+-.4985314*(o=108.883*l(o)/100)),d=s(-.969266*a+1.8760108*i+.041556*o),u=s(.0556434*a+-.2040259*i+1.0572252*o);return k($(c),$(d),$(u),n)}(W(r[1]),parseFloat(r[2]),parseFloat(r[3]),null==r[4]?t:Y(r[4])):(r=er.exec(e))?(0,o.ou)({l:K(r[1],.01),c:K(r[2],.004),h:q(r[3]),a:null==r[4]?t:Y(r[4])}):(r=en.exec(e))?(0,o.aK)({l:K(r[1],.01),ax:K(r[2],.01),bx:parseFloat(r[3]),a:null==r[4]?t:Y(r[4])}):null}let b=(6/29)**3;function v(e,t){return w(I(e),I(t))/.002741735}let I=e=>{let t=1-(1-e.r/255)*e.a,r=1-(1-e.g/255)*e.a,n=1-(1-e.b/255)*e.a,i,a,o;return i=(.4124*(t=t>.04045?Math.pow((t+.055)/1.055,2.4):t/12.92)+.3576*(r=r>.04045?Math.pow((r+.055)/1.055,2.4):r/12.92)+.1805*(n=n>.04045?Math.pow((n+.055)/1.055,2.4):n/12.92))/.95047,a=(.2126*t+.7152*r+.0722*n)/1,o=(.0193*t+.1192*r+.9505*n)/1.08883,i=i>.008856?Math.pow(i,1/3):7.787*i+16/116,{l:116*(a=a>.008856?Math.pow(a,1/3):7.787*a+16/116)-16,a:500*(i-a),b:200*(a-(o=o>.008856?Math.pow(o,1/3):7.787*o+16/116))}},w=(e,t)=>{let r=e.l-t.l,n=e.a-t.a,i=e.b-t.b,a=Math.sqrt(e.a*e.a+e.b*e.b),o=a-Math.sqrt(t.a*t.a+t.b*t.b),l=n*n+i*i-o*o,s=r/1,c=o/(1+.045*a),d=(l=l<0?0:Math.sqrt(l))/(1+.015*a),u=s*s+c*c+d*d;return u<0?0:Math.sqrt(u)};function T(e,t=1){let r=h[e.toLowerCase()];return r?E(r,!1,t):null}function S(e){return{r:j(e.r),g:j(e.g),b:j(e.b),a:j(e.a)}}function C(e){let t=f(e);return!!t&&.627>B(t)}function A(e){if(!e)return!0;let t=f(e);return!t||(null==t?void 0:t.a)===0}function O(e){return C(e)?d:u}function N(e){return C(e)?"var(--color-textondarkcanvassecondary, rgba(255,255,255,0.6))":"var(--color-textonlightcanvassecondary, rgba(0,0,0,0.6))"}function L(e,t,r){let n=f(e),i=f(t);if(!n||!i)return;let a=M(n,i),o=B(n),l=B(a);if(r){let e=B(i);return"light"===r&&e>.9||"dark"===r&&e<.25?_:void 0}return o<.2&&l<o+.1?p:o>.8&&.1>Math.abs(l-o)?m:void 0}function R(e,t){let r="dark"===t,n=f(e);if(!n||(null==n?void 0:n.a)===0)return!1;let i=B(n),a=function(e){let t=Math.max(e.r,e.g,e.b),r=Math.min(e.r,e.g,e.b),n=t-r;return t===r?0:(t+r)/2<=.5?n/(t+r):n/(2-t-r)}(n);return C(e)&&r?!(a>.5)||i<.427:!C(e)&&!r&&(!(a>.5)||i>.827)}function P(e=[]){function t(e){return null!=e}let r=e.map(e=>{if("SOLID"===e.type)return e.color;let r=(e.stops??[]).map(e=>e.color).filter(t);if(r.length)return M(...r)}).filter(t);return r.length?M(...r):void 0}function M(...e){return e.reduceRight((e,t)=>{let r=t.a,n=e.a,i=r*(1-n),a=i+n,o=i/a,l=n/a;return{r:t.r*o+e.r*l,g:t.g*o+e.g*l,b:t.b*o+e.b*l,a:a}})}function k(e,t,r,n=1){return isNaN(e)||isNaN(t)||isNaN(r)||isNaN(n)?null:{r:e,g:t,b:r,a:n}}function D({r:e,g:t,b:r,a:n}){return`rgba(${Math.round(255*e)}, ${Math.round(255*t)}, ${Math.round(255*r)}, ${n})`}function F({r:e,g:t,b:r,a:n}){let i=Math.min(Math.max(0,n),255),a=Math.min(Math.max(0,e),255).toString(16).padStart(2,"0"),o=Math.min(Math.max(0,t),255).toString(16).padStart(2,"0"),l=Math.min(Math.max(0,r),255).toString(16).padStart(2,"0"),s=i.toString(16).padStart(2,"0");return 255===i?`#${a}${o}${l}`:`#${a}${o}${l}${s}`}function x(e){switch(e){case"legacy":return"#e5e5e5";case"light":default:return"#f5f5f5";case"dark":return"#1e1e1e"}}function U(e,t){let r=[255*e.r,255*e.g,255*e.b],n=[255*t.r,255*t.g,255*t.b],a=(0,i.gd)((0,i.e8)(r),(0,i.e8)(n));if("number"!=typeof a||isNaN(a))throw Error(`APCAcontrast returned an invalid value: ${a}`);return a}function B(e){return .299*e.r+.587*e.g+.114*e.b}function G(e){return V(`${e}${e}`)}function V(e){return j(parseInt(e,16))}function H(e){return j(parseFloat(e))}function W(e){return $(.01*parseFloat(e))}function K(e,t){return e.endsWith("%")?$(parseFloat(e)*t):parseFloat(e)}function Y(e){return e?e.includes("%")?W(e):$(parseFloat(e)):1}function q(e){let t=parseFloat(e),r=0;return r=e.includes("grad")?.9*t:e.includes("rad")?180*t/Math.PI:e.includes("turn")?360*t:t,(r=(0,a.Mx)(r,360))/360}function j(e){return $(e/255)}function $(e){return(0,a.qk)(e,0,1)}function Z(e){return e&&!isNaN(e.r)&&!isNaN(e.g)&&!isNaN(e.b)&&e.r>=0&&e.r<=1&&e.g>=0&&e.g<=1&&e.b>=0&&e.b<=1}function z(e,t){let{r:r,g:n,b:i,a:o}=e,{r:l,g:s,b:c,a:d}=t;return(0,a.IR)(r,l)&&(0,a.IR)(n,s)&&(0,a.IR)(i,c)&&(0,a.IR)(o,d)}function Q(e,t){return!!e&&!!t&&e.length===t.length&&e.every((e,r)=>z(e,t[r]))}let X=/^(?:rgba?\()?\s*([-+]?[0-9]*\.?[0-9]+)%\s*?[, ]\s*([-+]?[0-9]*\.?[0-9]+)%\s*?[, ]\s*([-+]?[0-9]*\.?[0-9]+)%\s*?(?:[,\/ ]\s*([-+]?[0-9]*\.?[0-9]+%?))?\s*\)?\s*;?$/,J=/^(?:rgba?\()?\s*([0-9]*\.?[0-9]+)\s*?[, ]\s*([0-9]*\.?[0-9]+)\s*?[, ]\s*([0-9]*\.?[0-9]+)\s*?(?:[,\/ ]\s*([-+]?[0-9]*\.?[0-9]+%?))?\s*\)?\s*;?$/,ee=/^(?:hsla?\()?\s*([-+]?[0-9]*\.?[0-9]+(?:deg|rad|grad|turn)?)\s*?[, ]\s*([-+]?[0-9]*\.?[0-9]+)%\s*?[, ]\s*([-+]?[0-9]*\.?[0-9]+)%\s*?(?:[,\/ ]\s*([-+]?[0-9]*\.?[0-9]+%?))?\s*\)?\s*;?$/,et=/^(?:lab?\()?\s*([0-9]*\.?[0-9]+)%\s*?[, ]\s*([-+]?[0-9]*\.?[0-9]+)\s*?[, ]\s*([-+]?[0-9]*\.?[0-9]+)\s*?(?:[,\/ ]\s*([-+]?[0-9]*\.?[0-9]+%?))?\s*\)?\s*;?$/,er=/^(?:oklch?\()\s*([0-9]*\.?[0-9]+%?)\s*?[, ]\s*([-+]?[0-9]*\.?[0-9]+%?)\s*?[, ]\s*([-+]?[0-9]*\.?[0-9]+)\s*?(?:[,\/ ]\s*([-+]?[0-9]*\.?[0-9]+(?:deg|rad|grad|turn)?))?\s*\)?\s*;?$/,en=/^(?:oklab?\()\s*([0-9]*\.?[0-9]+%?)%\s*?[, ]\s*([-+]?[0-9]*\.?[0-9]+%?)\s*?[, ]\s*([-+]?[0-9]*\.?[0-9]+)\s*?(?:[,\/ ]\s*([-+]?[0-9]*\.?[0-9]+%?))?\s*\)?\s*;?$/},220156:(e,t,r)=>{"use strict";r.d(t,{Hm:()=>c,M$:()=>p,cj:()=>d,o9:()=>u,tW:()=>P});var n=r(946692),i=r(573800),a=r(238152),o=r(711316),l=r(51408),s=r(455200);function c(e,t,r="IGNORE",n){if(!e||!(0,l.Y9)(e))return console.warn("Invalid color passed to calculateColorWithRampValue. Ensure r, g, b, and a are between 0 and 1",e),null;if(t<0||t>1e3)return console.warn("Invalid value passed into calculateColorWithRampValue. Ensure value is between 0 and 1000",t),null;let i=E(e),a=I(i),o=w(i.hsluv_l,a);if(n){let{LESS_THAN:t,GREATER_THAN:r}=n;if(t&&100*o<t||r&&100*o>r)return e}return v(i,t/1e3,a,o),"IGNORE"!==r&&A(i,"BLACK"===r||"BLACK_AND_WHITE"===r,"WHITE"===r||"BLACK_AND_WHITE"===r),f(i)}function d(e){if(!e||!(0,l.Y9)(e))return console.warn("Invalid color passed to calculateColorWithRampValue. Ensure r, g, b, and a are between 0 and 1",e),null;let t=E(e),r=I(t);return Math.floor(100*w(t.hsluv_l,r))}function u(e,t,r="IGNORE"){if(!e||!(0,l.Y9)(e))return console.warn("Invalid color passed to calculateColorWithRelativeAdjustment. Ensure r, g, b, and a are between 0 and 1",e),null;if(t<-1||t>1)return console.warn("Invalid percentage passed into calculateColorWithRelativeAdjustment. Ensure percentage is between -1 and 1",t),null;let n=E(e),i=I(n),a=n.hsluv_l,o=a;o=t>0?a+(100-a)*t:a*(1- -1*t);let s=w(a,i);return v(n,w(o,i)/10,i,s),"IGNORE"!==r&&A(n,"BLACK"===r||"BLACK_AND_WHITE"===r,"WHITE"===r||"BLACK_AND_WHITE"===r),f(n)}function p(e,t,r){let i=E((0,l.Yn)(e));return A(i,t,r),(0,n.colorToHex)(f(i))}let m=["red","orange","yellow","green","blue","purple"],_={red:{a:-.079,b:16.1},orange:{a:-2.55,b:56.4},yellow:{a:-4.26,b:81.7},green:{a:1.67,b:131},blue:{a:3.4,b:227},purple:{a:.0136,b:282}},h={red:{d:95.2,c:-3.15,b:1.3,a:-.159},orange:{d:108,c:-11.7,b:2.8,a:-.183},yellow:{d:76.3,c:-3.03,b:1.96,a:-.151},green:{d:102,c:-44.8,b:11.8,a:-.776},blue:{d:95.5,c:-10.7,b:3.71,a:-.306},purple:{d:95.6,c:-2.82,b:1.43,a:-.189}},g={red:{d:96.4,c:-.7,b:-2.01,a:.125},orange:{d:103,c:-6.98,b:.0827,a:-.0256},yellow:{d:102,c:-5.84,b:.849,a:-.0972},green:{d:96.5,c:2.77,b:-2.86,a:.171},blue:{d:97.5,c:.173,b:-2.12,a:.127},purple:{d:98.1,c:-2.29,b:-1.94,a:.132}},f=e=>(e.hsluvToRgb(),{r:(0,s.qk)(e.rgb_r,0,1),g:(0,s.qk)(e.rgb_g,0,1),b:(0,s.qk)(e.rgb_b,0,1),a:1}),E=e=>{let t=new i.u;return t.rgb_r=e.r,t.rgb_g=e.g,t.rgb_b=e.b,t.rgbToHsluv(),t},y={red:1,orange:.75,yellow:.6,green:1,blue:1.1,purple:1};function b(e){if((0,l.Ks)(e,l.a8)<=T)return O(e);let t=E(e),r=new i.u;if(r.hsluv_h=t.hsluv_h,t.hsluv_l<=10)return r.hsluv_s=0,r.hsluv_l=60,f(r);if(t.hsluv_l<=30){let e=.03*t.hsluv_l;r.hsluv_s=t.hsluv_s*e}else r.hsluv_s=Math.min(100,1.5*t.hsluv_s);return r.hsluv_l=Math.min(100,.444*t.hsluv_l+55.555),L(r)}function v(e,t,r,n=5){t*=10;let i=_[r].a*n+_[r].b-e.hsluv_h;e.hsluv_h=_[r].a*t+_[r].b-i;let a=e.hsluv_s,o=h[r].a*n*n*n+h[r].b*n*n+h[r].c*n+h[r].d;e.hsluv_s=h[r].a*t*t*t+h[r].b*t*t+h[r].c*t+h[r].d,e.hsluv_s*=a/o,e.hsluv_l=g[r].a*t*t*t+g[r].b*t*t+g[r].c*t+g[r].d,e.hsluv_s>100&&(e.hsluv_s=100),e.hsluv_l>100&&(e.hsluv_l=100),e.hsluv_h>360&&(e.hsluv_h=360),e.hsluv_h<0&&(e.hsluv_h=0)}function I(e){let t={blue:0,yellow:0,green:0,purple:0,red:0,orange:0},r=e.hsluv_l/100;e.hsluvToRgb(),m.forEach(n=>{let a=new i.u;a.rgb_r=o.w[n].r,a.rgb_g=o.w[n].g,a.rgb_b=o.w[n].b,a.rgbToHsluv(),v(a,r,n,5),a.hsluvToRgb();let s=(0,l.Mn)(f(e),f(a));t[n]=s/y[n]});let n="yellow",a=t[n];for(let e in t)t[e]<a&&(a=t[e],n=e);return e.rgbToHsluv(),n}function w(e,t){let r=(0,s.uK)(g[t].a,g[t].b,g[t].c,g[t].d-e),n=r.filter(e=>0<e&&e<10);return 1===n.length?n[0]:r.length>1?(r.sort(),r[Math.floor(r.length/2)]):e<50?11:-1}let T=10,S={BLACK:l.G0,WHITE:l.a8},C=e=>{let{customColorHsluv:t,colorTypeForContrastCheck:r,isCustomColorForeground:n,contrastMinimum:i}=e,a=S[r],o=()=>n?Math.abs((0,l.Ks)(c,a)):Math.abs((0,l.Ks)(a,c)),s=a===l.G0?.1:-.1,c=f(t);for(;o()<i+.2;)t.hsluv_l+=s,c=f(t);t.rgbToHsluv()},A=(e,t,r)=>{let n;let i=f(e),a=Math.abs((0,l.Ks)(l.a8,i)),o=Math.abs((0,l.Ks)(l.G0,i));if(t&&r)n=o>=a?"BLACK":"WHITE";else{if(!t&&!r)return;n=t?"BLACK":"WHITE"}("BLACK"!==n||!(o>=60))&&("WHITE"===n&&a>=60||C({customColorHsluv:e,contrastMinimum:60,colorTypeForContrastCheck:n,isCustomColorForeground:!1}))},O=e=>({r:(0,s.qk)((e.r-1)/.55+1,0,1),g:(0,s.qk)((e.g-1)/.55+1,0,1),b:(0,s.qk)((e.b-1)/.55+1,0,1),a:1}),N=e=>{e.hsluvToRgb();let t=new i.u;return t.rgb_r=1-.55*(1-e.rgb_r),t.rgb_g=1-.55*(1-e.rgb_g),t.rgb_b=1-.55*(1-e.rgb_b),t.rgbToHsluv(),t},L=e=>{let t=N(e);return C({customColorHsluv:t,contrastMinimum:T,colorTypeForContrastCheck:"WHITE",isCustomColorForeground:!1}),O(f(t))};function R(e){let t=[],r=new Set;return e.forEach(e=>{let n=a.aQ.format(e);r.has(n)||(r.add(n),t.push(e))}),t}function P(e){if(e)return{base:e,widget:e,baseLight:R(e.map(e=>u(e,.6,"BLACK_AND_WHITE")||l.G0)),sticky:R(e.map(e=>c(e,400,"BLACK",{LESS_THAN:400})||l.G0)),highlight:R(e.map(b))}}},13796:(e,t,r)=>{"use strict";let n;r.d(t,{E1:()=>function e(t=[]){if(!t)return"";let r=t.reduce((t,r)=>{var n;let i=r.t||"",l=r.styles||[];r.user_annotated?(i=r.user_annotated.handle,l=["lightbold"]):r.profile_id||null===r.profile_id?(i="@"+r.t,l=["lightbold"]):(null==(n=r.children)?void 0:n.length)?r.children.forEach((r,n)=>{(t||i)&&(i+="\n"),i+=(l.includes("ol")?`${n+1}. `:"* ")+e(r.children)}):(i=(0,o.Hu)(i).map(e=>"string"==typeof e?(0,d.Gq)(e):`<span class="${p.SG}">${e.props["data-text"]}</span>`).join("\n"),r.link&&(l=["lightbold"]));let s=[];return l.forEach(e=>{"b"===e?s.push(p.iK):"lightbold"===e?s.push(p.W2):"i"===e?s.push(p.wz):"s"===e&&s.push(p.Uh)}),s.length&&(i=`<span class='${a()(...s)}'>`+i+"</span>"),t+i},"");return(0,c.U)(r)||""},IF:()=>E,UF:()=>function e(t,r){if(t.length!==r.length)return!1;for(let n=0;n<t.length;n++){let i=t[n],a=r[n];if(i.t!==a.t||i.user_id!==a.user_id)return!1;if(!h(i,a))return!1;if(i.profile_id!==a.profile_id)return!1;else if(i.link!==a.link)return!1;else if(!_(i,a))return!1;else if(!e(i.children??[],a.children??[]))return!1}return!0},WG:()=>T,aM:()=>b,as:()=>m,ay:()=>S,e2:()=>f,fY:()=>g,kz:()=>I,mk:()=>function e(t=[],r=!0){var n;let i=(Array.isArray(t)?t:[{t:t}]).map(t=>{var r;let n={t:null,styles:null,children:null,user:null,userId:null,link:null,isHashtag:null};if(t.user_annotated&&t.user_id)return{...n,userId:t.user_id,user:{...t.user_annotated,name:t.user_annotated.name??null,imgUrl:t.user_annotated.img_url}};if(t.profile_id||null===t.profile_id)return{...n,t:"@"+t.t,styles:["lightbold"]};let i={...n,t:t.t||n.t,styles:t.styles||n.styles,link:t.link||n.link};return(null==(r=t.children)?void 0:r.length)&&(i.children=t.children.map(t=>({...n,children:e(t.children,!1)}))),i});if(r&&i.length){let e=i[i.length-1];e.t=(null==(n=e.t)?void 0:n.replace(/\s+$/g,""))??null}return i},uS:()=>w,yU:()=>v,z6:()=>y});var i=r(125504),a=r.n(i),o=r(398500),l=r(886420),s=r(594192),c=r(107516),d=r(936756),u=r(103839),p=r(397212);let m=5,_=(e,t)=>{var r;if((0,s.qm)(e.styles)&&(0,s.qm)(t.styles))return!0;if((0,s.qm)(e.styles)!==(0,s.qm)(e.styles))return!1;let n=null==(r=e.styles)?void 0:r.filter(e=>{var r;return!(null==(r=t.styles)?void 0:r.includes(e))});return(null==n?void 0:n.length)===0},h=(e,t)=>!!((0,s.qm)(e.user_annotated)&&(0,s.qm)(t.user_annotated))||(0,s.qm)(e.user_annotated)===(0,s.qm)(e.user_annotated)&&(0,l.QZ)(e.user_annotated,t.user_annotated);var g=((n=g||{}).EDITOR_MENTION="editor_mention",n.COMMUNITY_MENTION="community_mention",n.PLAIN_TEXT="plain_text",n.EMOJI="emoji",n.NONE="none",n);function f(e){return 2===Object.keys(e).length&&Object.keys(e).includes("user_id")&&Object.keys(e).includes("user_annotated")?"editor_mention":2===Object.keys(e).length&&Object.keys(e).includes("profile_id")&&Object.keys(e).includes("t")?"community_mention":Object.keys(e).includes("t")&&!Object.keys(e).includes("link")&&e.t&&(0,o.W6)(e.t)?"emoji":Object.keys(e).includes("t")&&!Object.keys(e).includes("link")?"plain_text":"none"}function E(e=[],t){if(!e)return"";let r=e.reduce((e,t)=>{var r,n,i;let a=t.t||"";return t.user_annotated?a=t.user_annotated.handle:t.profile_id||null===t.profile_id?a="@"+t.t:(null==(r=t.children)?void 0:r.length)&&(null==(n=t.styles)?void 0:n.length)?t.children.forEach((r,n)=>{(e||a)&&(a+="\n"),a+=(t.styles.includes("ol")?`${n+1}. `:"* ")+E(r.children)}):(null==(i=t.styles)?void 0:i.length)&&t.styles.includes("s")&&(a=""),e+a},"");return(null==t?void 0:t.includeTrailingWhitespace)||(r=r.replace(/\s+$/g,"")),(0,c.U)(r)||""}function y(e){return 0===e.length||/^\s*$/.test(E(e))}function b(e){return y(e)||E(e).length<=5}function v(e){return E(e).length>=17500}function I(e){if(!Array.isArray(e))return[];let t=function e(t){let r=[];return t.forEach(t=>{var n;(null==(n=t.user_id)?void 0:n.includes("invite-"))?t.t&&r.push(t.t):t.children&&r.push(...e(t.children))}),r}(e);return!function e(t){return t.forEach(t=>{var r;(null==(r=t.user_id)?void 0:r.includes("invite-"))?delete t.user_id:t.children&&e(t.children)}),t}(e),t}function w(e){var t;return e.length>0&&(e[e.length-1].t=null==(t=e[e.length-1].t)?void 0:t.trimEnd()),e}function T(e,t){let r=Math.min(Math.max(e.x,t.x),t.x+t.width),n=Math.min(Math.max(e.y,t.y),t.y+t.height);return new u.Cg(r,n)}function S(e){return e.includes("-")}},721500:(e,t,r)=>{"use strict";function n(e){return parseInt(e.split("px")[0])}function i(e){return Number(e.split("px")[0])}function a(e){return Number(e.split("ms")[0])}r.d(t,{I:()=>n,qe:()=>i,sS:()=>a})},641820:(e,t,r)=>{"use strict";r.d(t,{QF:()=>h,WK:()=>m,cl:()=>p,yO:()=>c});var n=r(762820),i=r(778436),a=r(843148),o=r(960764),l=r(901676);let s="customKeyboardShortcuts",c=new Map(Object.entries(n.At9).map(([e,t])=>[e,t])),d=new Map(Object.entries(n.At9).map(([e,t])=>[t,e]));function u(e,t,r){let n=d.get(t),i=Object.entries(e).find(([e,t])=>t.type===n&&t.action===r);return null==i?void 0:i[0]}function p(e,t,r){var c,p;if(!(0,a.Ub)().ce_custom_keyboard_shortcuts)return;let m=_(),h=o.Up.get((0,o.E7)())||"UNKNOWN",g=i.s.isApple()?"mac":"!mac",f=d.get(e),E=(null==(c=m[h])?void 0:c[g])??{},y=u(E,e,t);y&&delete E[y],m[h]={...m[h],[g]:{...E,[r]:{type:f,action:t}}},console.log("[CustomKeyboardShortcuts] saving shortcuts to local storage",{typeString:f,action:t,shortcutStr:r,shortcuts:m}),null==(p=l.Ez)||p.setItem(s,JSON.stringify(m)),n.i46.reloadKeyboardShortcuts()}function m(e,t){var r,c;if(!(0,a.Ub)().ce_custom_keyboard_shortcuts)return;let p=_(),m=o.Up.get((0,o.E7)())||"UNKNOWN",h=i.s.isApple()?"mac":"!mac",g=d.get(e),f=(null==(r=p[m])?void 0:r[h])??{},E=u(f,e,t);if(E)delete f[E];else{console.error("[CustomKeyboardShortcuts] could not find existing shortcut",{typeString:g,action:t,shortcuts:p});return}p[m]={...p[m],[h]:{...f}},null==(c=l.Ez)||c.setItem(s,JSON.stringify(p)),n.i46.reloadKeyboardShortcuts()}function _(){let e;if(!l.Ez)return{};let t=l.Ez.getItem(s);if(!t)return{};try{e=JSON.parse(t)}catch(e){console.error("[Custom Keyboard Shortcuts] Failed to parse from local storage",e)}return e}function h(){var e;let t=o.Up.get((0,o.E7)())||"UNKNOWN",r=i.s.isApple()?"mac":"!mac";return(null==(e=(_()??{})[t])?void 0:e[r])??{}}},878164:(e,t,r)=>{"use strict";r.d(t,{SM:()=>k,aY:()=>R,aQ:()=>L,M1:()=>P,WE:()=>D,j7:()=>M});var n=r(307824),i=r(120304),a=r(681949),o=r.n(a),l=r(159152),s=r.n(l),c=r(161400),d=r(843148),u=r(506616),p=r(814508),m=r(425396),_=r(375376),h=r(241040),g=r(195388),f=r(574316),E=r(735204),y=r(90340),b=r(472956),v=r(876760),I=r(641044),w=r(733500),T=r(640140);let S=new class{constructor(){this.RecentPrototypesSchemaValidator=(0,w.Yv)("RecentPrototypesSchemaValidator",e=>e.object({recent_prototypes:e.ignore(),recent_prototype_repos:e.ignore(),org_drafts_owners:e.array(T.Qz)}),null,!1)}getRecentPrototypes(e){return this.RecentPrototypesSchemaValidator.validate(async({xr:t})=>{var r;return await t.get("/api/recent_prototypes",w.Ed.toAPIParameters({...e,fuid:null==(r=(0,d.cp)().user_data)?void 0:r.id}))})}};var C=r(886256),A=r(477080),O=r(724148);let N=v.qO.Query({fetch:async e=>{let t=(await I.C.getRecentFiles({orgId:e||void 0,isGlobal:!0})).data.meta,r=t.recent_repos.map(e=>e.files).reduce((e,t)=>e.concat(t),[]);return c.x.dispatch(_.eq({files:t.recent_files.concat(r),subscribeToRealtime:!1})),c.x.dispatch(E.Sm({recent_repos:t.recent_repos})),c.x.dispatch(g.uO({orgDraftsOwners:t.org_drafts_owners})),c.x.dispatch(h.us({folderId:`recents-${e||"no-org"}`,state:"loaded"})),t},schema:I.a,sync:(e,{realtimeClient:t,mutate:r})=>t.subscribe("recent_file",(e,t)=>{r(r=>{"post"===t||"put"===t?(s()(r.recent_files,t=>t.key===e.key),r.recent_files.unshift(e)):"delete"===t&&s()(r.recent_files,t=>t.key===e.key)})}),output:({data:e})=>({...e,recent_files:e.recent_files.filter(e=>!e.trashed_at&&!e.file_repo_id)}),key:"recentFiles"}),L=v.qO.Mutation(async(e,{query:t,xr:r})=>{t.mutate(N(e.orgId),t=>{let[r,n]=o()(t.recent_files,t=>e.removeKeys.includes(t.key));(0,y.a8)("File RecentFiles Removed",r),t.recent_files=n}),await r.del("/api/files_batch/view",{file_keys:e.removeKeys})}),R=v.qO.Mutation((e,{query:t})=>{let{orgId:r,newFile:n}=e;t.mutate(N(r),e=>{let t=e.recent_files.findIndex(e=>e.key===n.key);-1!==t&&e.recent_files.splice(t,1),e.recent_files.unshift(n)})});function P(e,t,r,i){var a;let[o]=(0,p.UL)(N(e),{revalidateOnMount:r}),l=n.useMemo(()=>o.transform(e=>e.recent_files),[o]),s=(0,O.m)(l),c=i?(0,A.sPr)(l,t):s,{trackPerformanceEvent:d}=(0,C.S)("recent_files_fetch_performance","legacy");return(0,n.useEffect)(()=>{d("fetch_end")},[d,null==(a=c.data)?void 0:a.length]),(0,n.useEffect)(()=>{c.status===m.C0.ERRORS&&d("fetch_error",{errors:JSON.stringify(c.errors??{})})},[d,c.status,c.errors]),(0,n.useEffect)(()=>(d("fetch_start"),()=>{d("fetch_cancel")}),[d]),n.useMemo(()=>c.status===m.C0.LOADING||c.status===m.C0.DISABLED?m.YF.loading():c.status===m.C0.ERRORS?m.YF.error(c.errors):c,[c])}let M=function(e,t){let r=(0,i.OY)();n.useEffect(()=>(function(e,t){S.getRecentPrototypes({orgId:t||void 0,isGlobal:!0,includeRepo:!0}).then(({data:t})=>{e(f.E$());let{recent_prototypes:r,recent_prototype_repos:n,org_drafts_owners:i}=t.meta;for(let t of r)e(f.OM({prototype:t}));e(g.uO({orgDraftsOwners:i})),e(E.eq({repos:n}))}).catch(e=>{})})(r,e),[r,e]);let a=(0,i.w1)(e=>e.recentPrototypes);return n.useMemo(()=>{let e=a.filter(e=>!e.trashed);return m.YF.from({status:"loaded",data:e,errors:[]})},[a])},k={LG100:"100x",CLASSIC:"classic"};function D(e,t,r){var i,a,o,l,s;let c=!!(0,d.Ub)().recent_files_lg_use_100x,p=c?k.LG100:k.CLASSIC,_=(0,u.Qb)(b.xUC,{},{enabled:r&&!c}),h=(0,u.Qb)(b.U1m,{},{enabled:r&&c}),g=c?(null==(i=h.data)?void 0:i.currentUser.status)==="loaded"?null==(o=null==(a=h.data)?void 0:a.currentUser)?void 0:o.data.recentFiles2:[]:null==(s=null==(l=_.data)?void 0:l.currentUser)?void 0:s.recentFiles,f=c?h:_,E=function(e){var t,r,n,i,a,o,l;if(!e)return[];let s=[];for(let c of e){let e=c.file;if(e&&!e.trashedAt&&!e.deletedAt){let d={accessed_at:c.actionAt.toISOString(),client_meta:F(e.clientMeta),created_at:e.createdAt.toISOString(),creator_id:e.creatorId,deleted_at:null,description:e.description,edit_url:e.editUrl,editor_type:e.editorType,file_repo_id:e.fileRepoId,folder_id:e.folderId,has_file_link_password:e.hasFileLinkPassword,has_proto_link_password:e.hasProtoLinkPassword,is_new_user_playground_library:"variant"===F(null==(t=e.trackTags)?void 0:t.defaultLibraryFileTreatmentId)||void 0,is_favorited:e.isFavorited,is_team_template:e.isTeamTemplate,is_try_file:e.isTryFile,key:e.key,last_published_at:e.lastPublishedAt||null,license:e.license,link_access:e.linkAccess,name:e.name,org_audience:!!e.orgAudience,parent_org_id:e.parentOrgId,proto_link_access:e.protoLinkAccess,prototype_url:e.prototypeUrl,org_browsable:e.orgBrowsable,source_checkpoint_id:e.sourceCheckpointId,source_file_key:e.sourceFileKey,starter_library_src_file_key:(null==(r=e.trackTags)?void 0:r.starterLibrarySrcFileKey)||void 0,team_id:e.teamId,thumbnail_guid:e.thumbnailGuid,thumbnail_url:e.thumbnailUrl,thumbnail_url_override:e.thumbnailUrlOverride,touched_at:e.touchedAt,track_tags:e.trackTags?{source:F(null==(n=e.trackTags)?void 0:n.source),starter_library_src_file_key:(null==(i=e.trackTags)?void 0:i.starterLibrarySrcFileKey)||null,figma_basics_experiment:(null==(a=e.trackTags)?void 0:a.figmaBasicsExperiment)||null,default_library_file_treatment_id:F(null==(o=e.trackTags)?void 0:o.defaultLibraryFileTreatmentId)}:null,trashed_at:null,trashed_user_id:e.trashedUserId,updated_at:null==(l=e.updatedAt)?void 0:l.toISOString(),url:e.url,viewer_export_restricted:e.viewerExportRestricted};s.push(d)}}return s}(g),{trackPerformanceEvent:y}=(0,C.S)("recent_files_fetch_performance","livegraph");return(0,n.useEffect)(()=>{r&&y("fetch_end",{lgSource:p})},[r,y,E.length,p]),(0,n.useEffect)(()=>{f.status===m.C0.ERRORS&&r&&y("fetch_error",{errors:JSON.stringify(f.errors??{}),lgSource:p})},[r,y,f.status,f.errors,p]),(0,n.useEffect)(()=>(r&&y("fetch_start",{lgSource:p}),()=>{r&&y("fetch_cancel",{lgSource:p})}),[r,y,p]),n.useMemo(()=>f.status===m.C0.LOADING||f.status===m.C0.DISABLED?m.YF.loading():f.status===m.C0.ERRORS?m.YF.error(f.errors):m.YF.loaded(E),[E,f.errors,f.status])}function F(e){return(null==e?void 0:e.status)==="loaded"?e.data:null}},644220:(e,t,r)=>{"use strict";r.d(t,{UN:()=>h,Yh:()=>g,gV:()=>_,u6:()=>f});var n,i=r(307824),a=r(733960),o=r(814508),l=r(557044),s=r(560072),c=r(879748),d=r(514916),u=r(876760),p=r(816880),m=r(873036);(n||(n={})).orgBillingDataQuery=u.qO.Query({fetch:async e=>(await m.UT.getBillingData({orgId:e})).data.meta,enabled:e=>!!e});let _=u.qO.Mutation(async(e,{query:t})=>{let{orgId:r,billingContacts:i,onRejected:a}=e,o=await l.cp.put(`/api/orgs/${r}/billing_data`,{admin_email:i}).catch(e=>{throw a(e),e});t.mutate(n.orgBillingDataQuery(r),e=>{e&&(e.admin_email=o.data.meta.admin_email)})}),h=u.qO.Mutation(async(e,{query:t})=>{let r=await l.cp.put(`/api/orgs/${e.orgId}/lock_invoice`,{license_quantities:e.licenseQuantities}),i=n.orgBillingDataQuery(e.orgId);return t.mutate(i,e=>{e&&(e.invoices=r.data.meta.invoices)}),await t.refetch(i),r.data.meta});function g(e){let[t,{refetch:r}]=(0,o.UL)(n.orgBillingDataQuery(e));return r}function f(e){let t=(0,c.YT)(),r=!!(t&&t.permission===d.y6.ADMIN),[l,u]=(0,o.UL)(n.orgBillingDataQuery(e));(0,p.O)(l,(0,s.t)("org_billing_error_default"));let m=(0,a.i)(e),_=i.useMemo(()=>m!==e&&!!m,[e,m]),h=(0,a.i)(r),g=i.useMemo(()=>!1===h&&r&&l.data&&0===Object.keys(l.data).length,[r,l.data,h]),f=i.useMemo(()=>g||_,[g,_]);return(0,i.useEffect)(()=>{"loading"!==l.status&&f&&u.refetch()},[u,f,l.status]),l}},477080:(e,t,r)=>{"use strict";r.d(t,{GQh:()=>c,sPr:()=>d});var n=r(307824),i=r(120304),a=r(665260),o=r(425396),l=r(194540),s=r(553432);let c={CAN_VIEW_PROTOTYPE:a.SjB.CAN_VIEW_PROTOTYPE,CAN_PUBLISH_TO_COMMUNITY:"community:canPublish",CAN_EDIT:a.SjB.CAN_EDIT};function d(e,t){let r=Array.isArray(t)?t:[t],a="loaded"===e.status,d=function(e,t=!1){let r=(0,s.usePermissionsState)(),a=(0,i.w1)(e=>e.authedProfilesById),c=(0,i.w1)(e=>e.figFileDuplicatedFromHubFile);return n.useMemo(()=>{if(!t)return e;let n=e.data||[],i={...r,authedProfilesById:a,figFileDuplicatedFromHubFile:c};return o.YF.loaded(n.filter(e=>(0,l.a2)(e,i,null)))},[a,t,e,r,c])}(e,a&&(null==r?void 0:r.some(e=>e===c.CAN_PUBLISH_TO_COMMUNITY)));return function(e,t=!1){let r=(0,s.usePermissionsState)();return n.useMemo(()=>{if(!t)return e;let n=e.data||[];return o.YF.loaded(n.filter(e=>(0,s.canEditFile)(e.key,r)))},[t,e,r])}(d=function(e,t=!1){let r=(0,s.usePermissionsState)();return n.useMemo(()=>{if(!t)return e;let n=e.data||[];return o.YF.loaded(n.filter(e=>e.link_access&&(0,s.canViewFileMetadata)(e.key,r,!1)||(0,s.canViewFileMetadata)(e.key,r,!0)))},[t,e,r])}(d,a&&(null==r?void 0:r.some(e=>e===c.CAN_VIEW_PROTOTYPE))),a&&(null==r?void 0:r.some(e=>e===c.CAN_EDIT)))}},724148:(e,t,r)=>{"use strict";r.d(t,{K:()=>c,m:()=>s});var n=r(307824),i=r(506616),a=r(425396),o=r(472956),l=r(553432);function s(e,t=!0){let r=(0,n.useMemo)(()=>{var t;return(null==(t=e.data)?void 0:t.map(e=>({key:e.key})))??[]},[e]),l=(0,i.Kb)(o.MXg,r,{enabled:r.length>0});return(0,n.useMemo)(()=>(function(e,t,r=!0){if("loaded"!==e.status)return e;let n={},i=!1,o=null;return(t.forEach(e=>{var t;if("loading"===e.result.status||"disabled"===e.result.status){i=!0;return}if("errors"===e.result.status){o=e.result.errors;return}n[e.args.key]=(null==(t=e.result.data.file)?void 0:t.hasPermission)??!1}),null!=o)?r?e:a.YF.error(o):i?r?e:a.YF.loading():a.YF.loaded(e.data.filter(e=>n[e.key]))})(e,l,t),[l,e,t])}function c(e){let t=(0,l.usePermissionsState)();return(0,n.useMemo)(()=>{let r=(0,l.canViewFile)(e,t);return(0,i.uU)({result:r})},[e,t])}},144992:(e,t,r)=>{"use strict";r.d(t,{OS:()=>_,QX:()=>d,Y1:()=>l,qg:()=>u,sD:()=>c,w$:()=>p,y8:()=>m});var n=r(307824),i=r(506616),a=r(425396),o=r(472956);function l(e){var t,r;let n=e.canEdit,i=e.canEdit,a=e.canRename,o=e.canManage,l=!!(null==(t=e.project)?void 0:t.canView),s=!!(null==(r=e.project)?void 0:r.canEdit),c=e.canDelete&&!e.isTrashed,d=e.canEdit||!e.viewerExportRestricted,u=e.canEdit&&e.isTrashed,p=e.canFavorite;return{canEdit:n,canRename:a,canMove:o,canShowInProject:l,canPin:s,canDelete:c,canDuplicate:d,canRestore:u,canFavorite:p,isFavorited:e.isFavorited,canDeleteForever:e.canDelete&&e.isTrashed||!e.folderId&&e.canEdit,canUseInNewFile:e.isTeamTemplate,canRestoreFromVersion:i}}let s=e=>(t,r)=>r?t.filter(t=>{let n=r[t];return!!(null==n?void 0:n[e])}):[],c=s("canDelete"),d=s("canDuplicate"),u=s("canRestore"),p=s("canDeleteForever");function m(e,t=!0){let r=(0,n.useMemo)(()=>e.map(e=>({fileKey:e})),[e]),a=(0,i.Kb)(o.cHm,r,{enabled:r.length>0&&t}),s=!0,c=null,d={};return a.forEach(e=>{var t;if("loaded"!==e.result.status&&(s=!1),"errors"===e.result.status){c=e.result.errors;return}let r=null==(t=e.result.data)?void 0:t.file;r&&(d[e.args.fileKey]=l(r))}),{isLoaded:s,error:c,permsByFileKey:d}}function _(e,t=!0){let r=(0,n.useMemo)(()=>e.map(e=>({fileKey:e})),[e]),s=(0,i.Kb)(o.cHm,r,{enabled:t});return(0,n.useMemo)(()=>a.YF.all(s.map(e=>e.result)).transform(e=>{let t={};for(let r of e){let e=r.file;e&&(t[e.id]=l(e))}return t}),[s])}},497424:(e,t,r)=>{"use strict";r.d(t,{Ah:()=>l,EL:()=>c,ov:()=>s});var n=r(307824),i=r(506616),a=r(425396),o=r(472956);function l(e){return{canRead:e.canRead,canFavorite:e.canRead&&!e.isFavorited,canUnfavorite:e.canRead&&e.isFavorited}}function s(e,t=!0){let r=(0,n.useMemo)(()=>e.map(e=>({prototypeId:e})),[e]),a=(0,i.Kb)(o.ol9,r,{enabled:r.length>0&&t}),s=!0,c=null,d={};return a.forEach(e=>{var t;if("loaded"!==e.result.status&&(s=!1),"errors"===e.result.status){c=e.result.errors;return}let r=null==(t=e.result.data)?void 0:t.prototype;r&&(d[e.args.prototypeId]=l(r))}),{isLoaded:s,error:c,permsByPrototypeId:d}}function c(e,t=!0){let r=(0,n.useMemo)(()=>e.map(e=>({prototypeId:e})),[e]),s=(0,i.Kb)(o.ol9,r,{enabled:t});return(0,n.useMemo)(()=>a.YF.all(s.map(e=>e.result)).transform(e=>{let t={};for(let r of e){let e=r.prototype;e&&(t[e.id]=l(e))}return t}),[s])}},539028:(e,t,r)=>{"use strict";r.d(t,{AB:()=>d,GS:()=>l,IR:()=>u,_e:()=>c,cl:()=>p,op:()=>m,wJ:()=>_});var n=r(307824),i=r(506616),a=r(425396),o=r(472956);function l(e){var t,r;let n=e.canEdit,i=e.canEdit,a=!!(null==(t=e.project)?void 0:t.canView),o=e.canEdit&&!e.isTrashed,l=e.canEdit&&e.isTrashed,s=e.canEdit&&e.isTrashed,c=!!(null==(r=e.sourceFile)?void 0:r.isFavorited);return{canDelete:o,canRename:n,canShowInProject:a,isFavorited:c,canRestore:s,canForeverDelete:l,canFavorite:e.canRead&&!!e.sourceFile&&!e.sourceFile.isFavorited,canUnfavorite:e.canRead&&!!e.sourceFile&&e.sourceFile.isFavorited,isMainBranch:t=>{var r;return t===(null==(r=e.sourceFile)?void 0:r.key)},canMove:i,canEditBranch:t=>{var r,n;return!!(null==(n=null==(r=e.branches)?void 0:r.find(e=>e.key===t))?void 0:n.canEdit)},canPin:!!e.project&&e.canEdit}}let s=e=>(t,r)=>r?t.filter(t=>{let n=r[t];return!!(null==n?void 0:n[e])}):[],c=s("canDelete"),d=s("canRestore"),u=s("canForeverDelete");function p(e,t,r){return r?e.filter(e=>{let n=t[e],i=r[e];return null==i?void 0:i.isMainBranch(n)}):[]}function m(e,t=!0){let r=(0,n.useMemo)(()=>e.map(e=>({repoId:e})),[e]),a=(0,i.Kb)(o.UxA,r,{enabled:r.length>0&&t}),s=!0,c=null,d={};return a.forEach(e=>{var t;if("loaded"!==e.result.status&&(s=!1),"errors"===e.result.status){c=e.result.errors;return}let r=null==(t=e.result.data)?void 0:t.repo;r&&(d[e.args.repoId]=l(r))}),{isLoaded:s,error:c,permsByRepoId:d}}function _(e,t=!0){let r=(0,n.useMemo)(()=>e.map(e=>({repoId:e})),[e]),s=(0,i.Kb)(o.UxA,r,{enabled:t});return(0,n.useMemo)(()=>a.YF.all(s.map(e=>e.result)).transform(e=>{let t={};for(let r of e){let e=r.repo;e&&(t[e.id]=l(e))}return t}),[s])}},899116:(e,t,r)=>{"use strict";r.d(t,{CE:()=>_,CM:()=>f,Mh:()=>n.Mh,S4:()=>g,Y_:()=>u,__:()=>m,eS:()=>h,mY:()=>d,sZ:()=>c,wR:()=>p});var n=r(578540),i=r(679244),a=r(623131),o=r(888932),l=r(326660),s=r(636700);let c=(0,n.IZ)(),d=window.bellFeedAPI?window.bellFeedAPI:null;function u(e){return window.bellFeedAPI&&null!=window.bellFeedAPI.version&&window.bellFeedAPI.version>=e?window.bellFeedAPI:null}function p(){return!!(window.__figmaContent||c&&(96>c.getVersion()||!window.trustedTypes))}function m(){if(c&&o.cp.mac){let[e,t]=`${o.cp.osversion}`.split(".");return 10>+e||10==+e&&12>+t}return!1}function _(e){e?document.body.classList.add(s.or):document.body.classList.remove(s.or)}function h(){return!!c}c&&((0,i._)({browser_name:"Figma Desktop",desktop_channel:c.beta?"beta":"stable",desktop_version:c.getInformationalVersion(),desktop_client_id:c.getClientID()}),(0,l.AN)("browser",{name:"Desktop",version:c.getInformationalVersion()})),delete window.__figmaDesktop;let g=(0,a.Zf)(!1),f=(0,a.Zf)(null)},767816:(e,t,r)=>{"use strict";function n(e,t){return null!=e&&"function"==typeof e.closest&&null!=e.closest(`[${t}]`)}function i(e,t,r){let n=e;for(;n;){if(r(n))return n;if(n===t)break;n=n.parentElement}return null}function a(e){for(;;){var t;if(null==e)return null;if(null!=(t=e)&&t instanceof HTMLElement)return e;if(!("parentNode"in e))return null;e=e.parentNode}}function o(e){return!!e&&!!(d(e)||s(e)||p(e)||e.isContentEditable||e.hasAttribute("tabindex"))}function l(e){return!!e&&"INPUT"===e.tagName}function s(e){return!!e&&!!("A"===e.tagName&&e.hasAttribute("href"))}function c(e){return"button"===e.type||"submit"===e.type}function d(e){return!!e&&!!("BUTTON"===e.tagName||l(e)&&c(e))}function u(e){return s(e)||!!e&&!!(d(e)||function(e,...t){let r=e.getAttribute("role");return null!==r&&t.includes(r)}(e,"button"))}function p(e){return!!e&&(!!l(e)&&!c(e)||"SELECT"===e.tagName||"TEXTAREA"===e.tagName)}r.d(t,{E7:()=>u,IX:()=>a,Ie:()=>i,QF:()=>p,qU:()=>n,sJ:()=>o})},185048:(e,t,r)=>{"use strict";r.d(t,{GC:()=>p,S0:()=>d,W2:()=>c,Wy:()=>m,qs:()=>u});var n=r(259596),i=r(843148),a=r(995144);let o=new Set(["airtable.com","asana.com","calendly.com","chorus.ai","coda.io","codepen.io","docs.google.com","drive.google.com","paper.dropbox.com","figma.com","framer.com","github.com","gmail.com","atlassian.com","loom.com","lottiefiles.com","lucidchart.com","maze.co","office.com","miro.com","mode.com","mural.co","notion.so","quip.com","rollbar.com","sentry.io","slab.com","slideshare.net","surveymonkey.com","tableau.com","trello.com","typeform.com","usertesting.com","whimsical.com","behance.net","dribbble.com","facebook.com","google.com","maps.google.com ","instagram.com","linkedin.com","medium.com","pinterest.com","soundcloud.com","spotify.com","open.spotify.com","tiktok.com","twitter.com","vimeo.com","youtu.be","youtube.com"]),l=RegExp("^<iframe[^>]+src\\s*=\\s*(?:(?:\"([^\">]+)\")|(?:'([^'>]+)')).*><\\/iframe>$"),s=RegExp("^(?:(?:(?:https?|ftp):)?\\/\\/)(?:\\S+(?::\\S*)?@)?(?:(?!(?:10|127)(?:\\.\\d{1,3}){3})(?!(?:169\\.254|192\\.168)(?:\\.\\d{1,3}){2})(?!172\\.(?:1[6-9]|2\\d|3[0-1])(?:\\.\\d{1,3}){2})(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z0-9\\u00a1-\\uffff][a-z0-9\\u00a1-\\uffff_-]{0,62})?[a-z0-9\\u00a1-\\uffff]\\.)+(?:[a-z\\u00a1-\\uffff]{2,}\\.?))(?::\\d{2,5})?(?:[/?#]\\S*)?$","i");function c(e){let t=new URL(e).hostname;return 0===t.indexOf("www.")&&(t=t.slice(4)),t}function d(e){if(!(0,i.Ub)().figjam_embeds_allowlist)return!0;try{let t=c(e);return o.has(t)}catch(e){return console.error("Invalid URL in embed"),!1}}function u(e){let t=function(e){if(!e.startsWith("<iframe"))return"";let t=n.sanitize(e,{ALLOWED_TAGS:["iframe"],ALLOWED_ATTR:["src"]}),r=l.exec(t);return r&&r.length>1?r[1]:""}(e),r=t||e,i=r.startsWith("http://")||r.startsWith("https://")?r:`https://${r}`;return s.test(i)?{isFromIFrame:!!t,url:i}:null}function p(e,t,r){let n=u(t.trim());return n?(e(a.ii({clipboardText:t,url:n.url,isTextIframe:n.isFromIFrame,entrypoint:r})),{valid:!0}):{valid:!1,reason:"Text was not a valid URL or IFrame"}}function m(e="",t){if(!e.startsWith("<meta charset='utf-8'><div><a href='https://app.asana.com"))return null;let r=n.sanitize(e,{ALLOWED_TAGS:["a"],ALLOWED_ATTR:["href"]}).split("<a"),i=/href="(https:\/\/app\.asana\.com[^"]*)"/,a=[];for(let e of r){let t=e.match(i);t&&t[1]&&a.push({url:t[1],isFromIFrame:!1})}return a.length!==t.split("\n").length?null:a}},219023:(e,t,r)=>{"use strict";r.d(t,{ac:()=>o,g5:()=>a,sb:()=>i});var n=r(459256);class i extends n.i{constructor(){super(),this.type="Particle",this.velocity={x:0,y:0},this.kick={x:0,y:0},this.kickDecay=1,this.gravity={x:0,y:0}}static fastVectorAddScaled(e,t,r){e.x+=t.x*r,e.y+=t.y*r}update(e){return i.fastVectorAddScaled(this.position,this.velocity,e),i.fastVectorAddScaled(this.position,this.kick,e),i.fastVectorAddScaled(this.kick,this.kick,Math.pow(this.kickDecay,e/.016)-1),i.fastVectorAddScaled(this.velocity,this.gravity,e),super.update(e)}}class a extends n.i{constructor(){super(...arguments),this.emissionProfile=()=>1,this.emitParticle=()=>{},this.alreadyEmitted=0}update(e){for(;this.alreadyEmitted<this.emissionProfile(this.age);)this.emitParticle(),this.alreadyEmitted++;return super.update(e)}}class o extends n.I{constructor(){super(...arguments),this.MAX_PARTICLES=512,this.addParticle=e=>{this.getParticles().length<this.MAX_PARTICLES&&this.addEntity(e)}}getParticles(){return this.getEntities().filter(e=>e instanceof i)}}},115200:(e,t,r)=>{"use strict";r.d(t,{EN:()=>c,I3:()=>p,MT:()=>u,UD:()=>o,Yz:()=>d,a0:()=>i,aE:()=>l,mk:()=>m,oR:()=>s,oZ:()=>a});var n=r(250008);let i="sidebar favorited row";function a(e,t,r,i,a,o){(0,n.we)("resource_removed_from_favorites",{resource_id:e,selectedView:t,entrypoint:r,resource_type:i,editor_type:a,fileBrowserUnfavorite:o})}function o(e,t,r,i,a,o){(0,n.we)("resource_added_to_favorites",{resourceId:e,editor_type:a,selectedView:t,resource_type:i,entrypoint:r,fileBrowserFavorite:o})}function l(e,t,r,i,a){(0,n.we)("favorited_resource_clicked",{resource_id:e,resource_type:t,editor_type:a,section_id:r,entrypoint:i})}function s(e){(0,n.we)("sidebar_section_collapsed",{is_collapse:e,section:"favorites"})}function c(){(0,n.we)("favorites_reordered",{})}function d(e){(0,n.we)("favorites_context_menu_action_clicked",{action:e})}function u(e,t){(0,n.we)("File Browser Sidebar Custom Section Created",{new_custom_section_name:t,new_custom_section_id:e})}function p(e){(0,n.we)("File Browser Sidebar Custom Section Deleted",{new_custom_section_id:e})}function m(e,t){(0,n.we)("File Browser Sidebar Custom Section Renamed",{new_custom_section_new_name:t,new_custom_section_id:e})}},762588:(e,t,r)=>{"use strict";function n(e,t){let r=document.createElement("a");r.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(e)),r.setAttribute("download",t+".txt"),r.style.display="none",document.body.appendChild(r),r.click(),document.body.removeChild(r)}r.d(t,{E:()=>n})},862844:(e,t,r)=>{"use strict";let n,i;r.d(t,{Cq:()=>k,IL:()=>C,KQ:()=>O,Ss:()=>S,W0:()=>R,WT:()=>F,Ws:()=>M,kt:()=>N,uQ:()=>P});var a=r(250008),o=r(311364),l=r(161400),s=r(656716),c=r(901676),d=r(557044),u=r(816596),p=r(825320),m=r(578412),_=r(837176),h=r(764404),g=r(967540),f=r(560072),E=r(323576),y=r(492084),b=r(796488),v=r(843148),I=r(326660),w=r(810756);let T="google_sso_temp";var S=((n=S||{}).COMMUNITY_FASTMA="google_one_tap_logged_out_community_fastma",n.COMMUNITY="google_one_tap_logged_out_community",n.LOGGED_OUT_FILE="google_one_tap_logged_out_file",n),C=((i=C||{}).LOGGED_OUT_FOOTER="logged_out_footer",i.LOGGED_OUT_FOOTER_CONTINUE_WITH_GOOGLE="logged_out_footer_continue_with_google",i.FIGJAM_TRY_FOOTER_BANNER="figjam_try_footer_banner",i.FIGJAM_TRY_FOOTER_BANNER_CONTINUE_WITH_GOOGLE="figjam_try_footer_banner_continue_with_google",i);let A=Object.values(S).concat(Object.values(C)),O="/api/session/google_auth/signin",N="google_one_tap_login",L=(0,y.m)(()=>new Promise((e,t)=>{document.cookie=T+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;";let r=(0,o.OO)("/start_google_sso","","width=600,height=600");if(null===r){(0,a.we)("GoogleSSOError",{step:"window-not-found"}),t(Error((0,f.t)("auth.google-sso.unable-to-get-info")));return}window.setTimeout(function n(){let i=(0,c.W)(document.cookie,T);if(null!==i){let r=JSON.parse(i);document.cookie=T+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;",r.token?e(r):((0,a.we)("GoogleSSOError",{step:"token-not-found"}),t(Error((0,f.t)("auth.google-sso.unable-to-get-info"))))}else r.closed?((0,a.we)("GoogleSSOError",{step:"cookie-not-found"}),t(Error((0,f.t)("auth.google-sso.unable-to-get-info")))):window.setTimeout(n,250)},250)}));async function R(e,t){let r=await L();return await F(r,{dispatch:e,apiUrl:"/api/session/google_auth/signin_or_signup",origin:t})}async function P({dispatch:e,shouldDelayExtraInfoStep:t,origin:r}){let n=await L();return await F(n,{dispatch:e,apiUrl:O,shouldDelayExtraInfoStep:!!t,origin:r})}function M(e,t,r){(0,p.AB)("google_sso_login_redirect_attempt",r,{fromMsTeams:t}),document.cookie=T+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;";let n=JSON.stringify({apiUrl:O,redirectPath:e});document.cookie=`${T}=${encodeURIComponent(n)}; path=/`;let i=t?s.default.unsafeRedirectMsTeams:s.default.redirect,a="/start_google_sso?should_use_redirect_instead=1";t&&(a+="&from_ms_teams=1"),i(a)}async function k(e,t,r){let n=await L();return await F(n,{dispatch:e,apiUrl:O,origin:t,showExtraInfoModalCb:r})}function D(e,t){t(u.a.setGoogleIdToken({googleIdToken:e.token})),t(u.a.setGoogleTokenType({googleTokenType:e.tokenType})),t(u.a.changeName({value:e.name}))}function F(e,{dispatch:t,apiUrl:r,origin:n,showExtraInfoModalCb:i,shouldDelayExtraInfoStep:o,__TEST_ONLY_markDone:c}){return new Promise(async(y,T)=>{var C,O,N,L,R;try{let{data:i}=await function(e,t){let r={name:t.name,token:t.token,token_type:t.tokenType,google_fed_cm_enabled:(0,w.Iv)("google_federated_cm_rollout").get("fed_cm_enabled",!1)};return d.cp.post(e,r)}(r,e);t(g.M.flash((0,f.t)("auth.sign-in-success",{email:i.meta.email}))),i.meta&&i.meta.email_domain_type?((0,a.we)("Sign Up (GTM)",{isWorkEmail:(0,b.gh)(i)}),await (0,h.S)("sign_up_google_sso")):((0,a.we)("google_sso",{eventSubtype:"google_sso_success_signin",user_id:null==(C=null==i?void 0:i.meta)?void 0:C.id,origin:n}),await (0,h.S)("sign_in_google_sso")),y(i.meta)}catch({data:d}){let r=(0,f.ID)({data:d},null==d?void 0:d.message);if(n&&Object.values(S).includes(n)&&(0,p.AB)("google_one_tap_login_error",n,{error:r}),r===(0,f.t)("auth.error.account-not-found")){if((0,v.Ub)().antispam_arkose_google_signup&&(0,v.m_)().do_arkose){let r;(r=o?u.a.googleSignupSkipExtraInfo:u.a.signUpExtraInfoGoogle,null!=n&&A.includes(n))?(t(u.a.init({origin:n,formState:m.o9.SIGN_UP,redirectUrl:s.default.location.pathname})),t(E.A5({type:_.D,data:{}}))):(null==(L=null==(N=null==(O=l.x)?void 0:O.getState())?void 0:N.modalShown)?void 0:L.type)!==_.D&&(0,p.In)()&&(0,I.sz)("authenticate_google_user","Skipped launching auth modal before arkose verification",{auth_origin:n},{reportAsSentryError:!0,modeEventName:"google_sso_skipped_launching_auth_modal"}),D(e,t),t(u.a.showForm({formState:m.o9.VERIFY_HUMAN,prevState:m.o9.SIGN_UP,postVerificationAction:r}))}else o?o?(D(e,t),t(u.a.googleSignupSkipExtraInfo())):(0,a.we)("google_sso",{eventSubtype:"google_sso_unexpected_state_no_callback",user_id:null==(R=null==d?void 0:d.meta)?void 0:R.id,origin:n}):(i?i():t(u.a.showForm({formState:m.o9.SIGN_UP_EXTRA_INFO})),D(e,t));null==c||c()}else T(Error(r||(0,f.t)("auth.google-sso.unable-to-auth")))}})}},439784:(e,t,r)=>{"use strict";r.d(t,{G:()=>o});var n=r(578540),i=r(762820),a=r(899116);let o={trigger(e){if(a.sZ)switch(e){case i.sRF.GENERIC:a.sZ.triggerHaptic(n.sn.GENERIC,1,0);break;case i.sRF.LEVEL:a.sZ.triggerHaptic(n.sn.LEVEL,1,0);break;case i.sRF.SNAP:a.sZ.triggerHaptic(n.sn.SNAP,1,0);break;default:throw Error(e)}}}},505935:(e,t,r)=>{"use strict";r.d(t,{Y:()=>a,g:()=>i});var n=r(307824);function i(){let e=new Set;return{subscribe:t=>(e.add(t),()=>{e.delete(t)}),emit(t){for(let r of e)r(t)}}}function a(e,t){(0,n.useEffect)(()=>e.subscribe(t),[t,e])}},937620:(e,t,r)=>{"use strict";r.d(t,{ER:()=>d,e6:()=>s,eg:()=>c,mw:()=>u,qM:()=>l});var n=r(307824),i=r(120304),a=r(404920),o=r(90340);function l(){let e=(0,i.o3)();return n.useCallback((t,r,n)=>{var i;let a=e.getState();(0,o.s5)(t,null==(i=a.openFile)?void 0:i.key,a,r,n)},[e])}function s(){let e=(0,i.o3)();return n.useCallback((t,r)=>{var n;let i=e.getState(),a=null==(n=i.openFile)?void 0:n.key,l=i.user&&i.user.id;(0,o.s5)(t,a,i,{userId:l,...r})},[e])}function c(){let e=(0,i.o3)();return n.useCallback((t,r)=>{var n;let i=e.getState(),a=null==(n=i.openFile)?void 0:n.key,l=i.mirror.appModel.currentPage;(0,o.s5)(t,a,i,{pageId:l,...r})},[e])}function d(){let e=(0,i.o3)();return n.useCallback((t,r)=>{let n=e.getState(),i=n.currentUserOrgId??"";(0,o.oL)(t,i,n,{...r})},[e])}function u(e){let t=d();return(0,a.c)(t,e,{leading:!0,trailing:!1})}},819584:(e,t,r)=>{"use strict";r.d(t,{K0:()=>c,ac:()=>p,e:()=>d,oz:()=>u,yC:()=>s});var n=r(307824),i=r(120304),a=r(562416),o=r.n(a),l=r(733960);function s(e,t){return p(n.useMemo(e,t))}function c(e,t){return p(n.useMemo(e,t),i.G)}function d(e,t,r){return p(n.useMemo(e,t),r)}function u(e,t,r){return d(e,t,(e,t)=>{if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(!r(e[n],t[n]))return!1;return!0})}function p(e,t=o()){let r=(0,l.i)(e),i=n.useRef(e);return null!=r&&(e===r||t(e,i.current))?i.current:(i.current=e,e)}},427792:(e,t,r)=>{"use strict";r.d(t,{O:()=>a,Y:()=>i});var n=r(307824);function i(e){(0,n.useEffect)(()=>{let t=()=>{e({width:window.innerWidth,height:window.innerHeight})};return window.addEventListener("resize",t),()=>{window.removeEventListener("resize",t)}},[e])}function a(e){let[t,r]=(0,n.useState)(window.innerWidth<=e);return i(n=>{n.width<=e&&!t?r(!0):n.width>e&&t&&r(!1)}),t}},148804:(e,t,r)=>{"use strict";r.d(t,{Q:()=>a});var n=r(307824),i=r(733960);function a(e){let[t,r]=(0,n.useState)(e?1:0),a=(0,i.i)(e);return(0,n.useEffect)(()=>{!1===a&&e&&r(e=>e+1)},[a,e]),t}},667492:(e,t,r)=>{"use strict";r.d(t,{C:()=>i});var n=r(733960);function i(e){let t=(0,n.i)(e);return e!==t}},421428:(e,t,r)=>{"use strict";r.d(t,{M:()=>a,o:()=>i});var n=r(307824);function i(e,t,r){return n.useEffect(()=>{function n(t){e.current&&!e.current.contains(t.target)&&r(t)}return document.addEventListener(t,n),()=>{document.removeEventListener(t,n)}},[e,t,r]),e}function a(e,t){return i(e,"mousedown",t)}},487540:(e,t,r)=>{"use strict";r.d(t,{H:()=>l});var n=r(623131),i=r(372152);let a=(0,n.Zf)(window.scrollY);window.addEventListener("scroll",()=>{i.qM.set(a,window.scrollY)});let o=(0,n.Zf)(e=>0===e(a));function l(){return(0,i.m4)(o)}},228028:(e,t,r)=>{"use strict";r.d(t,{i:()=>i});var n=r(307824);function i(e){let t=(0,n.useRef)(e);return t.current=e,t}},804420:(e,t,r)=>{"use strict";r.d(t,{C:()=>a,Y:()=>i});var n=r(307824);function i(e){let[t,r]=(0,n.useState)(()=>matchMedia(e).matches);return(0,n.useEffect)(()=>{let t=matchMedia(e),n=e=>{r(e.matches)};return t.addEventListener("change",n),()=>{t.removeEventListener("change",n)}},[e]),t}function a(){return i("(prefers-reduced-motion: reduce)")}},167568:(e,t,r)=>{"use strict";r.d(t,{U:()=>i});var n=r(307824);function i(){let[e,t]=n.useState(window.innerWidth),[r,i]=n.useState(window.innerHeight);return n.useEffect(()=>{let e=()=>{t(window.innerWidth),i(window.innerHeight)};return window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}},[]),{windowInnerWidth:e,windowInnerHeight:r}}},809896:(e,t,r)=>{"use strict";r.d(t,{s:()=>l,u:()=>a});var n=r(259596),i=r.n(n);function a(e){var t;if(!e)return"";try{let r=e.replace(/<br>|<\/p>|<\/h2>|<\/li>/g,"$&\n"),n=o(r);return(null==(t=new DOMParser().parseFromString(n,"text/html").documentElement.textContent)?void 0:t.trim())??""}catch(e){return console.error(e),""}}let o=(()=>{let e;return t=>(e||(e=i()()),e.sanitize(t))})();function l(e){return e?e.replace("&","&amp;").replace('"',"&quot;").replace("'","&#39;").replace("<","&lt;").replace(">","&gt;"):""}},877052:(e,t,r)=>{"use strict";r.d(t,{O:()=>n});let n=(0,r(623131).Zf)(!1)},639260:(e,t,r)=>{"use strict";let n;r.d(t,{AH:()=>a,AP:()=>c,EZ:()=>s,Qo:()=>o,UQ:()=>l,mg:()=>i});var i=((n=i||{}).MINUTES="minutes",n.HOURS="hours",n.DAYS="days",n);let a=60,o=3600,l=86400,s="on-idle-timeout-logged-in-ipc-key";function c(e){return e<o?[e/60,"minutes"]:e<l?[e/3600,"hours"]:e%l==0?[e/86400,"days"]:[e/3600,"hours"]}},843148:(e,t,r)=>{"use strict";r.d(t,{FX:()=>C,GS:()=>E,Gm:()=>O,IL:()=>y,K:()=>w,KC:()=>_,KO:()=>b,Ou:()=>s,Ub:()=>m,_t:()=>T,_w:()=>I,cp:()=>A,g8:()=>S,jl:()=>f,m_:()=>v,oV:()=>h,sL:()=>g,w1:()=>N});var n,i=r(941364),a=r(977380),o=r(492084),l=r(617292);let s={disable_personal:!0,teams:[],team_users:[],roles:[],orgs:[],org_drafts_owners:[],user_favorite_fonts:[],is_free_user:!0,is_starter_user:!0},c={...JSON.parse(JSON.stringify(v().feature_flags||{}))},d=JSON.parse(JSON.stringify(v().launchdarkly_client_flags||{})),{zoom_client_user_agent:u}=v();u&&function(e,t){if(e.navigator.userAgent!==t){let r={get:function(){return t}};try{Object.defineProperty(e.navigator,"userAgent",r)}catch(t){e.navigator=Object.create(navigator,{userAgent:r})}}}(window,u),Object.freeze(c),Object.freeze(d);let p=JSON.parse(JSON.stringify(v().experiments||{}));Object.freeze(p);let m=(0,o.m)(()=>c);function _(){return d}function h(e,t,r){return m()[e]?t:r}function g(){return p}function f(e){return p[e]}(n||(n={})).withFeatureFlag=function(e,t){if(m()[e])return t;let r=e=>null;return r.displayName="",r};let E=e=>{self.INITIAL_OPTIONS={...self.INITIAL_OPTIONS,editing_file:e}},y=()=>{self.INITIAL_OPTIONS={...self.INITIAL_OPTIONS,payment_flow_data:null}};function b(){return v().payment_flow_data}function v(){return window.INITIAL_OPTIONS||{}}function I(){return"local"===v().cluster_name}function w(){return I()||"staging"===v().cluster_name}function T(){let e=v().cluster_name;return"gov"===e||"gov-staging"===e}function S(){return v().consent_region}let C=function(e){switch(e){case"staging":return e;case"prod":return"production";case"gov":return"gov-prod";case"gov-staging":return"gov-staging";default:return"development"}}(v().cluster_name||""),A=v,O="https://fakepath.figma.com";function N(){let e=[(0,a.us)(),(0,a.kn)()];for(let t=0;t<e.length;t++){let r=e[t];if(r){let e=(0,l.K0)(r);if(e.locale)return(0,a.Qd)(e.locale)}}let t=(0,a._)();if(t){let e=t.split("/")[1];if(e&&i.AT.includes(e))return(0,a.Qd)(e)}let{user_data:r}=v();return(null==r?void 0:r.locale)&&(null==r?void 0:r.locale)!==i.Qb?[null==r?void 0:r.locale,i.Qb]:[i.Qb]}},960764:(e,t,r)=>{"use strict";r.d(t,{E7:()=>v,IJ:()=>m,Up:()=>g,_Q:()=>b,eM:()=>w,gT:()=>y,kU:()=>E,my:()=>I,uC:()=>_});var n=r(901676),i=r(560072),a=r(386304),o=r(90340),l=r(585508),s=r(762820),c=r(161400),d=r(517048),u=r(557044);let p="keyboardLayoutPreference",m="keyboardLayoutPreference";function _(e){switch(e){case s.O05.US_QWERTY:return(0,i.t)("keyboard_settings.us_qwerty");case s.O05.DVORAK:return(0,i.t)("keyboard_settings.us_dvorak");case s.O05.GERMAN:return(0,i.t)("keyboard_settings.german_qwertz");case s.O05.FRENCH_AZERTY:return(0,i.t)("keyboard_settings.french_azerty");case s.O05.HIRAGANA_KANA:return(0,i.t)("keyboard_settings.japanese_kana");case s.O05.UK_MAC:return(0,i.t)("keyboard_settings.uk_mac");case s.O05.UK_PC:return(0,i.t)("keyboard_settings.uk_pc");case s.O05.SWEDISH:return(0,i.t)("keyboard_settings.swedish");case s.O05.DANISH:return(0,i.t)("keyboard_settings.danish");case s.O05.NORWEGIAN:return(0,i.t)("keyboard_settings.norwegian");case s.O05.ITALIAN:return(0,i.t)("keyboard_settings.italian");case s.O05.SPANISH:return(0,i.t)("keyboard_settings.spanish");case s.O05.FINNISH:return(0,i.t)("keyboard_settings.finnish");case s.O05.SPANISH_LATAM:return(0,i.t)("keyboard_settings.spanish_latin_america");case s.O05.CHINESE:return(0,i.t)("keyboard_settings.chinese");case s.O05.PORTUGUESE:return(0,i.t)("keyboard_settings.portuguese");case s.O05.KOREAN:return(0,i.t)("keyboard_settings.korean");case s.O05.UNKNOWN:return(0,i.t)("keyboard_settings.default_unknown")}}let h=new Map(Object.entries(s.O05).map(([e,t])=>[e,t])),g=new Map(Object.entries(s.O05).map(([e,t])=>[t,e]));function f(e){let[t]=e.split(":"),r=h.get(t);return t&&r?{layout:r}:{layout:s.O05.UNKNOWN}}function E(e){try{let t=c.x.getState();(0,o.E3)("keyboard_layout_preference",t,{layout:s.O05[e.layout],eventName:e.eventName,detectedLayout:e.detectedLayout,detectedLayoutStr:e.detectedLayoutStr})}catch(e){}}function y({layout:e}){if(!n.Ez)return;let t=s.O05[e];n.Ez.setItem(p,t),new d.g().sendToOtherTabs(m,t),E({layout:e,eventName:"user_manual_change"}),s.i46.reloadShortcuts(e),u.cp.put("/api/user",{keyboard_preference:s.O05[e],keyboard_preference_method:"manual"})}function b(e){if(!n.Ez)return;n.Ez.setItem(p,e);let{layout:t}=f(e);l.CA&&l.CA.isReady()&&s.i46.reloadShortcuts(t)}function v(){return function(){var e;if(n.Ez){let e=n.Ez.getItem(p);if(null!=e)return f(e)}if(!c.x)return{layout:s.O05.UNKNOWN};let t=null==(e=c.x.getState().user)?void 0:e.keyboard_layout,r=h.get(t);if(!t||!r)return{layout:s.O05.UNKNOWN};let i=t?r:s.O05.UNKNOWN;return b(s.O05[i]),{layout:i}}().layout}function I(){return Object.keys(s.O05)}function w(){return 0===I().length?[]:[{name:"keyboard-layout-menu-option",callback:(e,t,r)=>{r(a.O4({tab:"layout"})),l.CA.triggerAction("toggle-keyboard-shortcuts")}}]}},61836:(e,t,r)=>{"use strict";r.d(t,{Et:()=>F,QF:()=>N,W0:()=>M,bc:()=>k,gT:()=>A,i:()=>U,iW:()=>R,k1:()=>D,ob:()=>x,w3:()=>O});var n=r(307824),i=r(889952),a=r(458140),o=r(131592),l=r(250008);r(264496);var s=r(843148),c=r(506616),d=r(227208),u=r(770456),p=r(496740),m=r(503592),_=r(472956),h=r(132188),g=r(492084),f=r(899116),E=r(823052),y=r(425396),b=r(326660),v=r(234284),I=r(418084);function w(){return c.IQ.get()}let T=null,S=new d._,C=new p.i;function A(e){var t;let r=w();if(r){if(e===T||(0,v.g9)()||(0,v.Cm)())return r;(0,b.WI)("livegraph","userId changed after livegraph client creation. userId == null",{before:null==T,after:null==e}),r.close()}T=e;let n=window.LGEarlyWS;delete window.LGEarlyWS,t=function(e,t){let r=!!(0,s.Ub)().livegraph_connect_next,n=f.sZ?"desktop":"web",o=new URLSearchParams((0,s.cp)().page_load_token);o.append("userId",e||""),o.append("anonUserId",(0,s.cp)().anonymous_user_id||""),o.append("clientType",n),o.append("clientUrl",document.URL);let l=(0,s.cp)().release_manifest_git_commit||"missing";o.append("commitHash",l),o.append("preload",JSON.stringify((0,s.cp)().livegraph_preload_views??{}));let c=(0,s.cp)().figma_url,d=(0,u.c)(c,r,o.toString()),p=[],h=[];for(let[e,t]of Object.entries((0,s.cp)().livegraph_preload_views??{}))e===_.xUC._name&&(t.hash===_.xUC._hash||"development"===t.hash)&&(p.push(_.xUC),h.push(t.args));let g={tags:{commitHash:l,clientType:n},document,enableCrossViewIncompleteInstanceCheck:(0,s.Ub)().livegraph_check_incomplete_view,enableSendingSubscriptionRequestBeforeAuthMsg:(0,s.Ub)().livegraph_sub_before_auth,preloadedViews:p,preloadedViewArgs:h},y=new a.Et(i.c),b=new a.K4(i.c.views,y),v=t||null,I=new a.uK({userId:e},y,b,d,t?function(e){if(!v||v.readyState===WebSocket.CLOSED||v.readyState===WebSocket.CLOSING)return new WebSocket(e);let t=v;return t.url!==e?(console.warn(`Expecting to use an early socket for livegraph, urls don't match. Expected: ${t.url} Found: ${e}`),new WebSocket(e)):(v=null,t)}:e=>new WebSocket(e),g),w=new m.Ox(I,{connect_next:r?"true":"false"}),{livegraph_update_slo_client_frequency:T,livegraph_sessions_capturing_update_slo_percent:A,livegraph_update_slo_failure_threshold:O}=(0,s.KC)(),N=new E.K(I,T,O);Math.random()<A&&setTimeout(()=>N.startMeasureLoop(),6e4*Math.random()+5e3),I.addEventListener(e=>{S.logEvent(e),C.logEvent(e),w.onEvent(e)});for(let e=0;e<((null==p?void 0:p.length)??0);e++){let t=p[e],r=h[e];w.onEvent({type:"SUBSCRIBE_VIEW_CLIENT",view:t,args:r}),w.onEvent({type:"SUBSCRIBE_VIEW_SERVER",view:t,args:r})}return I}(e,n),c.IQ.set(t);let o=(0,_.QrD)(),l=w();return window.LIVEGRAPH={client:l,logger:S,viewBindings:o,subscribeForDebugging:(e,t)=>{let r=o.find(t=>t._name===e);if(!r){console.warn(`View ${e} not found`);return}l.subscribe(r,t,e=>{console.log(e)})}},(0,h.or)("LiveGraph connection",async()=>{await w().connect()}),w()}function O(){return w()}function N(){return(0,c.MJ)().client}let L=!1;function R({userId:e=null,children:t}){n.useEffect(()=>{if(L&&!(0,v.Cm)()&&!(0,v.g9)())throw Error("Only a single LivegraphProvider should exist at a time");return L=!0,()=>{L=!1}},[]);let r=n.useMemo(()=>A(e),[e]),[i,a]=n.useState(r);return n.useEffect(()=>(c.IQ.addListener(a),()=>{c.IQ.removeListener(a)}),[a]),n.createElement(c.yW,{value:{client:i}},t)}class P{constructor(e,t,r){this.viewArgs=e,this.traceId=(0,I.c)(),this.errors=null,this._isLoading=!0,this.timer=new m.uE({onTimeout:()=>t(this),timeoutMs:r})}finish(){this._isLoading=!1,this.timer.finish()}get timeElapsedMs(){return this.timer.getTime()}get wasBackgrounded(){return this.timer.backgrounded}get wasOffline(){return this.timer.wasOffline}get isLoading(){return this._isLoading}}function M(e,t,r){var i;let o=n.useRef(null),l=!1!==r.enabled,s=r.subscriptionLogger,d=n.useRef(t),u=o.current;!o.current&&l&&(o.current=new P(t,e=>s.onEvent("stuck",m,e),s.stuckMs));let p=l?o.current.traceId:void 0,m=(0,c.Qb)(e,t,{enabled:l,traceId:p});if(null===u&&l&&s.onEvent("initiated",m,o.current),!(0,a.yU)(t,d.current)){let e=new P(t,e=>s.onEvent("stuck",m,e),s.stuckMs);(null==(i=o.current)?void 0:i.isLoading)&&(o.current.finish(),s.onEvent("canceled",m,o.current,{nextTraceId:e.traceId})),o.current=e,s.onEvent("initiated",m,o.current),d.current=t}return n.useEffect(()=>{var e,t;"loaded"===m.status?(null==(e=o.current)?void 0:e.isLoading)&&(o.current.finish(),s.onEvent("loaded",m,o.current)):"errors"===m.status&&(null==(t=o.current)?void 0:t.isLoading)&&(o.current.finish(),o.current.errors=m.errors,s.onEvent("error",m,o.current))},[m,m.errors,m.status,s]),n.useEffect(()=>()=>{var e;(null==(e=o.current)?void 0:e.isLoading)&&(o.current.finish(),s.onEvent("canceled",m,o.current))},[]),m}function k(e,t,r={}){let i=n.useRef(window.performance.now()),a=n.useRef(!1);n.useEffect(()=>{if(!a.current&&"loading"!==e.status&&"disabled"!==e.status){let n=window.performance.now();(0,l.we)(t,{...r,durationMs:n-i.current,status:e.status}),a.current=!0}},[r,t,e.status])}function D(e,t){return new Promise((r,n)=>{let i=w(),a=null==i?void 0:i.subscribe(e,t,e=>{"loaded"===e.status?(r(y.YF.from(e)),null==a||a()):e.errors&&(n(e.errors),null==a||a())})})}let F=(0,g.w)((e,t)=>new Promise(r=>{let n=w(),i=null==n?void 0:n.subscribe(e,t,e=>{r(e.status),null==i||i()})}));function x(e,t){return new Promise((r,n)=>{let i=w();if(!i){n(Error("Livegraph client not available"));return}let a=new o.c(i);i.subscribeAndUnsubscribeInBatches(e,t,a,e=>{e.every(e=>"loaded"===e.result.status||e.result.errors)&&(r(e),a.clearSubscriptions())})})}function U(){let e=S.startRecording();return()=>e?S.stopRecording(e):[]}},506616:(e,t,r)=>{"use strict";r.d(t,{Fc:()=>u.Fc,IQ:()=>d.IQ,Kb:()=>g,Kw:()=>u.Kw,MJ:()=>_,Qb:()=>h,W_:()=>d.W_,cv:()=>o.c,gy:()=>u.gy,j5:()=>s.j5,u8:()=>d.u8,uU:()=>d.uU,wZ:()=>f,yU:()=>i.yU,yW:()=>m,ys:()=>E});var n=r(307824),i=r(458140),a=r(131592),o=r(812516),l=r(815148),s=r(770340),c=r(425396),d=r(958688),u=r(914028);let p=n.createContext(null),m=p.Provider;function _(){let e=n.useContext(p);if(!e)throw Error("Tried to use useSubscription outside a LiveGraph context provider");return e}function h(e,t,r={}){let a=!1!==r.enabled,[o,s]=n.useState(a?d.bW:l.sf),u=_(),[p,m]=n.useState(t),h=r.traceId,g=o;return u.mock&&(g=u.mock.useSubscription(e,t)),(0,i.yU)(t,p)||(m(t),s(g=a?d.bW:l.sf)),n.useEffect(()=>{var t;if(u.mock)return;if(!1===a){s(l.sf);return}let r=null==(t=u.client)?void 0:t.subscribe(e,p,e=>{s(e)},h);return()=>{null==r||r()}},[a,p,u.client,u.mock,e,h]),n.useMemo(()=>c.YF.from(g),[g])}function g(e,t,r={}){let i=_(),o=!1!==r.enabled,[s]=n.useState(()=>new a.c(i.client)),[u,p]=n.useState(()=>t.map(e=>({args:e,result:o?d.bW:l.sf})));return n.useLayoutEffect(()=>{var r;if(!1===o){p(e=>e.map(({args:e})=>({args:e,result:l.sf})));return}null==(r=i.client)||r.subscribeAndUnsubscribeInBatches(e,t,s,e=>{p(e)})},[o,t,s,i.client,e]),n.useLayoutEffect(()=>()=>{s.clearSubscriptions()},[s]),n.useMemo(()=>u.map(({args:e,result:t})=>({result:c.YF.from(t),args:e})),[u])}function f(){let e=_(),[t,r]=n.useState(e.client?e.client.getHealthStatus():o.c.DISCONNECTED),i=e=>r(e);return n.useEffect(()=>{if(null!==e.client)return e.client.addHealthListener(i)},[e]),t}function E(e){return{status:s.j5.Loaded,data:e}}},333864:(e,t,r)=>{"use strict";r.d(t,{ET:()=>o,Eb:()=>u,Gm:()=>s,IB:()=>d,iY:()=>p,ot:()=>c,qC:()=>l,y2:()=>a});var n=r(514916),i=r(506616);function a(e){var t;return(null==e?void 0:e.file)?{key:e.fileKey,name:e.file.name,editor_type:e.file.editorType,folder_id:e.file.folderId,team_id:e.file.teamId,parent_org_id:e.file.parentOrgId,file_repo_id:e.file.fileRepoId,source_file_key:e.fileKey,has_proto_link_password:e.file.hasProtoLinkPassword,proto_link_access:e.file.protoLinkAccess,created_at:e.file.createdAt.toString(),trashed_at:(null==(t=e.file.trashedAt)?void 0:t.toString())||null,prototype_url:(0,i.Fc)(e.file.prototypeUrl)||""}:null}function o(e){return e.file&&e.file.repo?{id:e.file.fileRepoId??"",name:e.file.name,folder_id:e.file.folderId??"",default_file_key:e.file.key,deleted_at:e.file.repo.deletedAt&&e.file.repo.deletedAt.toString(),trashed_at:e.file.repo.trashedAt&&e.file.repo.trashedAt.toString(),created_at:e.file.repo.createdAt.toString(),updated_at:e.file.repo.updatedAt.toString(),team_id:e.file.teamId,link_access:e.file.repo.linkAccess,proto_link_access:e.file.repo.protoLinkAccess,has_file_link_password:e.file.repo.hasFileLinkPassword,has_proto_link_password:e.file.repo.hasProtoLinkPassword,org_audience:e.file.repo.orgAudience,org_browsable:e.file.repo.orgBrowsable,parent_org_id:e.orgId,has_active_branches:e.file.repo.hasActiveBranches}:null}function l(e){return{id:e.key,key:e.key,name:e.name,fileRepoId:e.file_repo_id,editorType:e.editor_type,folderId:e.folder_id,teamId:e.team_id,hasFileLinkPassword:!1,thumbnailUrl:e.thumbnail_url||"",thumbnailUrlOverride:e.thumbnail_url_override||"",thumbnailGuid:e.thumbnail_guid||null,clientMeta:e.client_meta,canView:!0,library:{numComponents:e.last_published_at?1:0,numStyles:0,numStateGroups:0,numVariableSets:0},repo:{id:e.file_repo_id||"",name:"",createdAt:new Date,deletedAt:new Date,trashedAt:null,updatedAt:new Date,linkAccess:e.link_access,protoLinkAccess:e.proto_link_access,hasFileLinkPassword:!1,hasProtoLinkPassword:!1,orgAudience:null,orgBrowsable:!0,hasActiveBranches:!1},project:null,isTeamTemplate:e.is_team_template||!1,checkpointClientMeta:""}}function s(e,t,r,i){return{userId:t,resourceType:n.M$.FOLDER,orgId:r??null,teamId:e.team_id??null,sidebarSectionId:i??null,createdAt:new Date,updatedAt:new Date,resourceId:e.id,project:{id:e.id,path:e.path,orgId:r,teamId:e.team_id,updatedAt:new Date(e.updated_at),createdAt:new Date(e.created_at),deletedAt:null!=e.deleted_at?new Date(e.deleted_at):null,viewOnlyAt:e.is_view_only?new Date:null,inviteOnlyAt:e.is_invite_only?new Date:null,canEdit:!1,description:e.description,team:{id:e.team_id??"",orgId:r,name:"",licenseGroup:{name:""},studentTeamAt:null,eduGracePeriod:{id:"",isValid:!1},restrictionsList:[],subscription:n.KU.OK,gracePeriodEnd:null,canEdit:!1,canAdmin:!1}}}}function c(e,t,r,a){var o;return{userId:t,orgId:r??null,teamId:(null==(o=e.fig_file)?void 0:o.team_id)??null,sidebarSectionId:a??null,createdAt:new Date,updatedAt:new Date,resourceId:e.id??"",resourceType:n.M$.PROTOTYPE,prototype:{id:e.id||"unknown",name:e.name,fileKey:e.fig_file.key,pageId:e.page_id,thumbnailUrl:e.thumbnail_url,url:e.url,file:{parentOrgId:e.fig_file.parent_org_id||null,key:e.fig_file.key,folderId:e.fig_file.folder_id,teamId:e.fig_file.team_id,fileRepoId:e.fig_file.file_repo_id,hasProtoLinkPassword:e.fig_file.has_proto_link_password,name:e.fig_file.name,editorType:e.fig_file.editor_type,protoLinkAccess:e.fig_file.proto_link_access,createdAt:new Date(e.fig_file.created_at),trashedAt:e.fig_file.trashed_at?new Date(e.fig_file.trashed_at):null,prototypeUrl:{status:i.j5.Loaded,data:e.fig_file.prototype_url}}}}}function d(e,t,r,i){return{userId:t,orgId:r??null,sidebarSectionId:i??null,createdAt:new Date,updatedAt:new Date,resourceId:e.id,resourceType:n.M$.TEAM,teamId:null,team:{id:e.id,orgId:e.org_id,name:e.name,deletedAt:null,imgUrl:null,licenseGroup:null}}}function u(e,t,r,i){return{userId:t,orgId:r??null,teamId:e.team_id??null,sidebarSectionId:i??null,createdAt:new Date,updatedAt:new Date,resourceId:e.key,resourceType:n.M$.FILE,file:l(e)}}function p(e,t,r,i){return{userId:t,orgId:r??null,createdAt:new Date,updatedAt:new Date,resourceId:e.id,sidebarSectionId:i??null,resourceType:n.M$.WORKSPACE,workspace:e}}},980068:(e,t,r)=>{"use strict";r.d(t,{U7:()=>o,ei:()=>i,iI:()=>a});var n=r(742756);function i(e){let t=null;return function(...r){if(null!=t&&t.args.length===r.length){let e=!0;for(let n=0,i=r.length;n<i;n++)if(r[n]!=t.args[n]){e=!1;break}if(e)return t.result}return(t={args:r,result:e(...r)}).result}}function a(e){let t=new WeakMap;return r=>{let n=t.get(r);if(n)return n;let i=e(r);return t.set(r,i),i}}function o(e,t){let r=new n.o(t);return t=>{if(r.has(t))return r.get(t);let n=e(t);return r.set(t,n),n}}},166064:(e,t,r)=>{"use strict";r.d(t,{I3:()=>m,K$:()=>E,KG:()=>u,WG:()=>o,YN:()=>c,Yd:()=>d,_:()=>f,gD:()=>p,gv:()=>y,op:()=>_,uU:()=>h,yG:()=>g});var n=r(557044),i=r(812984),a=r(2164);let o=["memory.fullscreen.","performance.fullscreen."],l=!0;function s(e,t){let r=-1/0;return()=>{let n=Date.now()/1e3;n-r>e&&(r=n,t())}}window.addEventListener("error",e=>{if(!l)return;l=!1;let{message:t,filename:r}=e,i=(0,a.k)(),o=/abort/i.test(t),s=/\/compiled_/.test(r);n.cp.post("/api/web_logger/metrics/unhandled_error",{tags:i.concat(`abort:${o}`,`fullscreen:${s}`).join(",")})});let c=s(30,()=>{n.cp.post("/api/web_logger/metrics/context_lost",{tags:(0,a.k)().join(",")})}),d=s(30,()=>{n.cp.post("/api/web_logger/metrics/context_restored",{tags:(0,a.k)().join(",")})});function u(e){window.figmaPerfTesting&&window.postMessage({name:e,value:performance.now()/1e3},"*")}function p(){n.cp.post("/api/web_logger/metrics/dirty_after_load",{tags:(0,a.k)().join(",")})}function m(){n.cp.post("/api/web_logger/metrics/consecutive_flushes",{tags:(0,a.k)().join(",")})}function _(){n.cp.post("/api/web_logger/metrics/consecutive_image_change_skips",{tags:(0,a.k)().join(",")})}function h(){n.cp.post("/api/web_logger/metrics/image_paste_error",{tags:(0,a.k)().join(",")})}function g(e){n.cp.post("/api/web_logger/metrics/unsaved_changes_bell",{file_key:e,tags:(0,a.k)().join(",")})}function f(){n.cp.post("/api/web_logger/metrics/unsaved_changes_notification",{tags:(0,a.k)().join(",")})}function E(e){n.cp.post("/api/web_logger/metrics/reconnecting_banner",{tags:[...(0,a.k)(),`client:${e}`].join(",")})}function y(e){return(0,i.a)(e,!0)}},523060:(e,t,r)=>{"use strict";let n;r.d(t,{G4:()=>w,Sw:()=>b,Ux:()=>y,_c:()=>S,cl:()=>g,g$:()=>_});var i=r(843148),a=r(888932),o=r(901676),l=r(90340),s=r(585508),c=r(979144),d=r(518256),u=r(161400),p=r(517048),m=r(557044),_=((n=_||{}).MouseScrollToZoom="mouse-scroll-wheel-zoom",n.RightClickDragToPan="right-click-drag-to-pan",n);function h(e,t){m.cp.put("/api/user","mouse-scroll-wheel-zoom"===e?{mouse_scroll_to_zoom:t}:{right_click_drag_to_pan:t})}function g({navigationPreference:e,enabled:t}){new p.g().sendToOtherTabs(e,JSON.stringify(t)),function(e){try{let t=u.x.getState();(0,l.E3)("navigation_preferences",t,{navigationPreference:e.navigationPreference,enabled:e.enabled,eventName:e.eventName})}catch(e){}}({navigationPreference:e,enabled:t,eventName:"user_manual_change"}),h(e,t)}let f=[!0,1,"1","true"];function E(e){return f.includes(e)}function y(e){u.x.getState().isFullscreenDocumentLoaded&&v(E(e))}function b(e){u.x.getState().isFullscreenDocumentLoaded&&I(E(e))}function v(e){s.CA.triggerAction(e?"set-scroll-wheel-zoom-enabled":"set-scroll-wheel-zoom-disabled")}function I(e){s.CA.triggerAction(e?"set-right-click-pan-enabled":"set-right-click-pan-disabled")}function w(){return[{separator:!0,featureFlags:["figjam_navigation_mode","navigation_mode_scroll_to_pref"],platforms:["!ipad"]},{action:"toggle-scroll-wheel-zoom",featureFlags:["figjam_navigation_mode","navigation_mode_scroll_to_pref"],platforms:["!ipad"],hideForQuickCommand:a.cp.isIpad,"data-onboarding-key":d.QX.ZOOM,callback:()=>{g({navigationPreference:"mouse-scroll-wheel-zoom",enabled:!(0,c.EB)().scrollWheelZoom.getCopy()})},checked:(0,c.EB)().scrollWheelZoom.getCopy()},{action:"toggle-right-click-pan",featureFlags:["figjam_navigation_mode","navigation_mode_scroll_to_pref"],platforms:["!ipad"],hideForQuickCommand:a.cp.isIpad,"data-onboarding-key":d.QX.PAN,callback:()=>{g({navigationPreference:"right-click-drag-to-pan",enabled:!(0,c.EB)().rightClickPan.getCopy()})},checked:(0,c.EB)().rightClickPan.getCopy()},{separator:!0,featureFlags:["figjam_navigation_mode","navigation_mode_scroll_to_pref"],platforms:["!ipad"],flags:["!edit"]}]}function T(e,t=!1){var r,n,a;if(!o.Ez)return;let l=t,s=o.Ez.getItem(e),c=o.Ez.getItem("mouse-scroll-wheel-zoom"===e?"should-scroll-wheel-zoom":"right-click-pan"),d="mouse-scroll-wheel-zoom"===e?null==(r=u.x.getState().user)?void 0:r.mouse_scroll_to_zoom:null==(n=u.x.getState().user)?void 0:n.right_click_drag_to_pan;null!==s?l=E(s):(0,i.Ub)().nav_pref_use_local_storage&&c?l=E(c):null!=d&&(l=d),a=l,"mouse-scroll-wheel-zoom"===e?v(a):I(a),new p.g().sendToOtherTabs(e,JSON.stringify(l)),d!==l&&h(e,l)}function S(){let e=(0,i.Ub)().figjam_nav_new_user_onboarding;(0,i.Ub)().navigation_mode_scroll_to_pref&&(0,i.Ub)().figjam_navigation_mode&&(T("mouse-scroll-wheel-zoom",e),T("right-click-drag-to-pan",e))}},79276:(e,t,r)=>{"use strict";r.d(t,{K:()=>a,M:()=>i});var n=r(4596);function i(e){return`${n.MR(e.nodeID)}~${n.MR(e.interactionID)}`}function a(e){let[t,r]=e.split("~").map(e=>n.K0(e));return t&&r?{nodeID:t,interactionID:r}:null}},329956:(e,t,r)=>{"use strict";function n(e){for(let t in e)return!1;return!0}function i(e){for(let t in e)return t;return null}function a(e){let t=null;for(let r in e){if(null!==t)return null;t=r}return t}function o(e,t){let r={...e};for(let[e,n]of Object.entries(t))null!=n&&(r[e]=n);return r}r.d(t,{QL:()=>a,YX:()=>function e(t,r=""){return Object.fromEntries(Object.entries(t).flatMap(([t,n])=>{let i=""===r?t:`${r}.${t}`;return n&&"object"==typeof n?Object.entries(e(n,i)):[[i,n]]}))},iw:()=>i,k3:()=>o,t7:()=>n,uk:()=>function e(t,r,n){for(let i in t){let a=""===n?i:n+"."+i;Array.isArray(t[i])?r[a]=JSON.stringify(t[i]):"object"==typeof t[i]&&null!==t[i]?e(t[i],r,a):r[a]=t[i]}}})},148380:(e,t,r)=>{"use strict";let n;r.d(t,{A5:()=>P,Q7:()=>R,Wq:()=>C,g7:()=>O,gg:()=>b,u3:()=>L,yA:()=>A});var i=r(307824),a=r(517048),o=r(372152),l=r(61836),s=r(506616),c=r(702796),d=r(403132),u=r(250008),p=r(899116),m=r(161400),_=r(843148),h=r(326660);let g=!1,f=null,E=new a.g,y="tab-entered-offline-mode";function b(){var e;window.addEventListener("online",N),null==(e=(0,l.w3)())||e.addHealthListener(S),E.register(y,()=>O("TAB_IPC"))}function v(){return o.qM.get(c.A)||g}function I(e){e!==o.qM.get(c.A)&&(o.qM.set(c.A,e),m.x.dispatch(d.Ej(m.x.getState().selectedView)),(0,h.Ij)("Offline mode",e?"entered offline mode":"exited offline mode"))}let w=!1,T=null;function S(e){e===s.cv.CONNECTED?(T&&(clearTimeout(T),T=null),w=!1,N()):e!==s.cv.DISCONNECTED||T||(T=setTimeout(()=>w=!0,3e4))}function C(){return!navigator.onLine||w}var A=((n=A||{}).BACK_TO_FILES="BACK_TO_FILES",n.CREATE_FILE="CREATE_FILE",n.TAB_IPC="TAB_IPC",n);function O(e){C()&&!v()&&(P()?I(!0):(0,_.Ub)().offline_detection_shadow_logging&&(g=!0),(P()||(0,_.Ub)().offline_detection_shadow_logging)&&(f={startTime:Date.now(),entrypoint:e,viewedOfflineFileBrowser:!1},(0,u.we)("Entered Offline Mode",{entrypoint:e,isNavigatorOnline:navigator.onLine,isLivegraphDisconnected:w})),E.sendToOtherTabs(y))}function N(){!C()&&v()&&(I(!1),g=!1,(0,u.we)("Exited Offline Mode",{duration:f?Date.now()-f.startTime:null,entrypoint:null==f?void 0:f.entrypoint,isNavigatorOnline:navigator.onLine,isLivegraphDisconnected:w,viewedOfflineFileBrowser:null==f?void 0:f.viewedOfflineFileBrowser}),f=null)}function L(){f&&(f.viewedOfflineFileBrowser=!0)}function R(){let[e,t]=i.useState(navigator.onLine);return i.useEffect(()=>{let e=()=>t(navigator.onLine);return window.addEventListener("online",e),window.addEventListener("offline",e),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",e)}},[]),e}function P(){return p.sZ?(0,_.Ub)().offline_file_browser_desktop:(0,_.Ub)().offline_file_browser_entrypoints}},547732:(e,t,r)=>{"use strict";r.d(t,{Cc:()=>u,GG:()=>o,Ki:()=>p,sl:()=>a});var n=r(899116),i=r(505935);let a=(0,i.g)();function o(){return n.sZ&&n.sZ.getVersion()>=100}let l=(document.addEventListener("visibilitychange",d),o()&&a.subscribe(e=>{l=e,d()}),null),s=document.visibilityState,c=(0,i.g)();function d(){let e="hidden"===document.visibilityState||"hidden"===l?"hidden":"visible";e!==s&&(s=e,c.emit(e))}function u(e){return c.subscribe(e)}function p(){return s}},340040:(e,t,r)=>{"use strict";r.d(t,{M5:()=>s,Oi:()=>c,SC:()=>a,_W:()=>u,sE:()=>o,sh:()=>l,uE:()=>d});var n=r(307824),i=r(557044);let a=25;function o(e,t,r){let[i,o]=n.useState({});return n.useEffect(()=>{o({})},[e]),{fetchNext:n.useCallback((n=!1)=>d(i)||n?c(e,r||a,n?{}:i,l).then(e=>{var t,r;return o({pagination:{next_page:null==(t=e.pagination)?void 0:t.next_page,prev_page:null==(r=e.pagination)?void 0:r.prev_page}}),delete e.pagination,e}).catch(e=>(null==t||t(e),Promise.resolve({}))):Promise.resolve({}),[e,t,i,r]),hasMore:d(i)}}let l="next",s="prev";function c(e,t,r,n=l){return new Promise((a,o)=>{let l=r&&r.pagination,c=l&&(n===s?l.prev_page:l.next_page);(null==l||c)&&(c=c||`${e}${-1===e.indexOf("?")?"?":"&"}page_size=${t}`,(0,i.QZ)(c).then(({data:e})=>{let t=e.pagination;null==l?l=t:n===s?t.prev_page&&(l.prev_page=t.prev_page):l.next_page=t.next_page,e.meta.pagination=l,a(e.meta)},o))})}function d(e){return!!(!(null==e?void 0:e.pagination)||e.pagination.next_page)}function u(e,t,r=a){let n=[],i=e.map(e=>e.sort(t));for(let e=0;e<r;e++){let e=null;for(let r=0;r<i.length;++r){let n=i[r];0!==n.length&&(null===e||0>t(n[0],i[e][0]))&&(e=r)}null!==e&&n.push(i[e].shift())}return{mergedResults:n,unmergedResultsList:i}}},888932:(e,t,r)=>{"use strict";r.d(t,{CU:()=>A,Cw:()=>d,EP:()=>I,G8:()=>m,K6:()=>g,KL:()=>s,MX:()=>C,Q9:()=>y,Qn:()=>T,Sk:()=>S,WO:()=>p,aC:()=>b,ch:()=>l,cp:()=>L,kP:()=>w,mA:()=>_,m_:()=>c,oN:()=>v,oV:()=>u,qq:()=>E,wR:()=>O});var n=r(281152),i=r(300711),a=r(492084),o=r(843148);let l=/iPad/.test(navigator.userAgent)||/Mac/.test(navigator.userAgent)&&!/iPhone/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||!1,s=(0,a.w)(()=>l),c=/Mobi/.test(navigator.userAgent);function d(){return c}function u(){return/FigmaMirror-Android/.test(navigator.userAgent)}let p=/Android/.test(navigator.userAgent);function m(){return!!window.FigmaMobile}let _=/iPhone|iPad|iPod/.test(navigator.userAgent),h=/iPhone|iPod/.test(navigator.userAgent);function g(){return _}let f=p||_,E=f&&!C(),y=(p||h)&&!C(),b=p&&!C(),v=h&&!C();function I(){return f}function w(){return y}function T(){return!!window.FigmaMobile&&!window.FigmaMobile.handleTripleTaps}function S(){return u()||T()}function C(){return/FigmaMobile/.test(navigator.userAgent)}let A=c||p||l||C()||S(),O=(0,a.w)(()=>!A),N={},L={...n,get is64BitBrowser(){if(this.windows&&!this.firefox)return/(?:Win64|x64)/.test(window.navigator.userAgent);return/(?:MacIntel|Win64|x86_64)/.test(window.navigator.platform)},get isWasm4gbSupported(){if(this.chrome)return Number(this.version)>=83;if(this.firefox)return Number(this.version)>=89;if(this.safari)return Number(this.version)>=15.2;if(this.msedge)return Number(this.version)>=89;return!1},get browserType(){if(this.chrome)return"chrome";if(this.firefox)return"firefox";if(this.safari)return"safari";if(this.msedge)return"msedge"},get isMobileBrowser(){return/Mobi/.test(window.navigator.userAgent)},get isInNativeApp(){return m()},get isIpad(){return s()},get isIpadNative(){return s()&&window.FigmaMobile&&window.FigmaMobile.shouldOptimizeForIpadApp},get isMeetDevice(){return!!(0,o.Ub)().figjam_3p_hardware_device&&(0,i.Q_)()},override(e){for(let t in e)t in N||(N[t]=this[t]),this[t]=e[t]},resetOverrides(){for(let e in N)this[e]=N[e]}}},554252:(e,t,r)=>{"use strict";function n(e){return new Promise((t,r)=>{let n=Array(e.length),i=e.length,a=()=>{0===i&&t(n)};for(let t=0;t<e.length;t++)e[t].then(e=>{n[t]={type:"resolve",resolve:e,reject:void 0},i--,a()},e=>{n[t]={type:"reject",resolve:void 0,reject:e},i--,a()});a()})}function i(e){let t=null;return()=>(null===t&&(t=e()).catch(()=>t=null),t)}async function a(e,t,r){return await new Promise((n,i)=>{let a;let o=function(){0===t?i(a):e().then(n).catch(e=>{t--,a=e,setTimeout(function(){o()},null==r?0:r)})};o()})}r.d(t,{AN:()=>n,G6:()=>i,Oe:()=>a})},586048:(e,t,r)=>{"use strict";r.d(t,{Ex:()=>i,YB:()=>n,_:()=>a});let n="figma.pc_modal";function i(){let e=`figma.pc=; domain=${window.location.hostname}; path=/; max-age=0; expires=Thu, 01 Jan 1970 00:00:00 UTC;`;document.cookie=e}function a(){let e=`${n}=; domain=${window.location.hostname}; path=/; max-age=0; expires=Thu, 01 Jan 1970 00:00:00 UTC;`;document.cookie=e}},277716:(e,t,r)=>{"use strict";r.d(t,{C:()=>a,w:()=>i});var n=r(101492);let i=(0,n.Ip)("lazy_quill_editor",{isCodesplit:!0,ComponentFactory:async()=>({default:(await Promise.all([r.e(7493),r.e(8332),r.e(7900),r.e(9508),r.e(2240),r.e(6352),r.e(1708),r.e(8980),r.e(1884),r.e(6005),r.e(2809),r.e(1064),r.e(5020),r.e(7060)]).then(r.bind(r,917692))).QuillEditor})}),a=(0,n.Ip)("lazy_readonly_quill_editor",{isCodesplit:!0,ComponentFactory:async()=>({default:(await Promise.all([r.e(7493),r.e(8332),r.e(7900),r.e(9508),r.e(2240),r.e(6352),r.e(1708),r.e(8980),r.e(1884),r.e(6005),r.e(2809),r.e(1064),r.e(5020),r.e(7060)]).then(r.bind(r,917692))).ReadOnlyQuillEditor})})},919024:(e,t,r)=>{"use strict";r.d(t,{El:()=>o,Wc:()=>s,_Y:()=>c,wl:()=>d});var n=r(498228);let i=[],a=0;function o(e){let t=e.split(":");return{channel:t[0],timestamp:parseInt(t[1]),generation:parseInt(t[2]),signature:t[3]}}let l=(0,n._0)(),s=l,c=l.v2;function d(){s.disconnect();let e=(0,n._0)();s=e,c=e.v2,s.connect()}window.realtimeClient=l,[].push(function(){a>0||i.forEach(e=>{a+=1,setTimeout(()=>{try{e()}finally{a-=1}},6e4+24e4*Math.random())})})},498228:(e,t,r)=>{"use strict";r.d(t,{El:()=>m,_0:()=>h});var n,i=r(250008),a=r(843148),o=r(834164),l=r(224900),s=r(234284);let c=!1,d=[],u=[],p=0;function m(e){let t=e.split(":");return{channel:t[0],timestamp:parseInt(t[1]),generation:parseInt(t[2]),signature:t[3]}}let _=-1;function h(){let e=null,t=null,r=null,n=null,d=null,p={},h=!0,g=Date.now(),f=0,E=null,y=!0,b=!1,v=null,I=new o.g("prototype.realtime_socket_connection_attempt","prototype.realtime_socket_disconnect"),w=()=>{null!=d&&clearInterval(d),null!=n&&n.close(),d=null,n=null,h=!0},T=()=>{E&&(clearTimeout(E),E=null),v&&(window.removeEventListener("online",v),v=null),N()},S=()=>{if(w(),!y||null!=E)return;let e=4+(Math.min(128,4*Math.pow(2,f))-4)*Math.random();console.log(`[Realtime] Disconnected. Will attempt reconnect in ${e.toFixed(0)} seconds.`),E=setTimeout(()=>{console.log(`[Realtime] Attempting reconnect now after waiting ${e.toFixed(0)} seconds.`),T()},1e3*e),f++,v=()=>{console.log("[Realtime] Attempting reconnect due to connectivity change."),navigator.onLine&&T()},window.addEventListener("online",v)},C=e=>{n&&n.readyState===n.OPEN&&n.send(`tok:${e.channel}:${e.timestamp}:${e.generation}:${e.signature}`)},A=e=>{let t=(0,a.m_)().user_data;if(!(null==t?void 0:t.id)){console.warn("Can't post to me channel without user id available"),(0,i.we)("Me Channel UserId Missing");return}let r=`/me-${null==t?void 0:t.id}`;if(!(r in p)){if(console.warn("We're not subscribed to the me channel"),(0,i.we)("Me Channel Subscription Missing"),null==t?void 0:t.realtime_token){(0,i.we)("Me Channel Resubscribe");let e=m(t.realtime_token);p[r]=e,C(e)}else{console.warn("We're unable to subscribe to the me channel; server will reject this message"),(0,i.we)("Me Channel No Token");return}}if(!n||n.readyState!==n.OPEN){(0,s.g9)()||console.warn("Sending to me without open websocket"),(0,i.we)("Me Channel Websocket Missing");return}let o=JSON.stringify([{channel:r,data:e}]);n.send(`pme:${o}`)},O=e=>{delete p[e],n&&n.readyState===n.OPEN&&n.send(`uns:${e}`)},N=()=>{var t,r;w();let i="";i=("https:"===window.location.protocol?`wss://${window.location.host}`:`ws://${window.location.host}`)+"/api/realtime_v2";let a=window.INITIAL_OPTIONS&&window.INITIAL_OPTIONS.release_git_tag||"";i+=`?release_git_tag=${a}&user_id=${(null==(r=null==(t=window.INITIAL_OPTIONS)?void 0:t.user_data)?void 0:r.id)||""}`,(n=new WebSocket(i)).onopen=e=>{for(let e in I.handleSocketConnectionAttempt(!0,f,!c,!document.hidden),f=0,console.log(`[Realtime] Connected to ${i}.`),b=!0,d=setInterval(()=>{n.send("ping")},3e4+5e3*Math.random()-2500),c&&Date.now()-g>6e4&&u.forEach(e=>{setTimeout(e,0)}),c=!0,p)C(p[e])},n.onmessage=t=>{if("pong"===t.data){g=Date.now();return}let r=t.data.substr(0,4);if("tok:"===r){let e=m(t.data.substr(4));p[e.channel]=e;return}let n={};if("ouc:"===r){let e=t.data.substr(4).split(":");3!==e.length&&console.warn("Got ouc: command with wrong number of params");for(let t=0;t<e.length;t++)"null"===e[t]&&(e[t]=null);n={type:"verify_user_state",org_user_count:e[0]&&parseInt(e[0]),org_user_updated:e[1]&&new Date(parseInt(e[1])).toISOString(),target_user_id:e[2]}}else if("sub:"===r||"uns:"===r){let e=t.data.split(":"),r=e[e.length-1];if("ok"===r)return;if(delete p[e[1]],"expired"===r){if(!h)return;h=!1,n={type:"token_expired"}}else{console.warn(t.data);return}}else{try{n=JSON.parse(t.data)}catch(e){console.warn(`unexpected non-JSON realtime message: ${t.data}`);return}null!=n.err&&(console.warn("encountered error message from realtime",n.err),S())}e&&e(n)},n.onclose=e=>{b?I.handleSocketDisconnect(!0):I.handleSocketConnectionAttempt(!1,f,!c,!document.hidden),b=!1,n=null,S()}},L={},R=new Set,P=new Map,M={connect:N,disconnect:()=>{y=!1,w(),p={}},setCallback:t=>{e=e=>{let r=e.method,n=Object.keys(e).filter(e=>l.O.has(e)).map(t=>({type:t,value:e[t]})),i=!1;t(e),n.forEach(t=>{let n=L[t.type];n&&Object.keys(n).map(e=>n[e]).filter(e=>e.methods[r]).forEach(r=>{r.callback(t.value,e.method)})})}},setOnSubscribeCallback:e=>{t=e},setOnUnsubscribeCallback:e=>{r=e},subscribe:(e,r)=>{let n=p[e.channel];p[e.channel]=e,n||C(e),!1!==r&&R.add(e.channel),t&&t(e.channel)},unsubscribe:(e,t)=>{if(!1!==t&&R.delete(e),!1===t&&R.has(e))return;let n=P.get(e);n&&n.size>0||(delete p[e],O(e),r&&r(e))},postToMeChannel:e=>{A(e)}},k=()=>{let e=(0,a.m_)().user_data;return(null==e?void 0:e.realtime_token)?m(e.realtime_token):null},D=["post","put","delete"],F=e=>"string"==typeof e?{type:e,token:k(),methods:D}:e,x={subscriptions:p,subscribe:function(e,t){let r=F(e),n=r.token||k();if(!n)return()=>{};let i=(_+=1,`${_}:${performance.now()}`),a=L[r.type]||{},o=r.methods||D,l={};return o.forEach(e=>{l[e]=!0}),a[i]={methods:l,callback:t},L[r.type]=a,(P.get(n.channel)||new Set).add(i),M.subscribe(n,!1),()=>{let{channel:e}=n,t=P.get(e);null==t||t.delete(i);let a=L[r.type];if(a&&(delete a[i],0===Object.keys(a).length)){let e=r.type;delete L[e]}M.unsubscribe(e,!1)}}};return{...M,v2:x}}n=function(){p>0||d.forEach(e=>{p+=1,setTimeout(()=>{try{e()}finally{p-=1}},6e4+24e4*Math.random())})},u.push(n)},499776:(e,t,r)=>{"use strict";r.d(t,{i:()=>a});var n=r(602216),i=r(200404);function a(e){let t=document.createElement("div"),r=(0,i.C)(t);return(0,n.flushSync)(()=>{r.render(e)}),t.innerHTML}},570464:(e,t,r)=>{"use strict";r.d(t,{AJ:()=>I,CW:()=>V,Cy:()=>y,G_:()=>P,Gu:()=>E,IN:()=>u,In:()=>c,Mx:()=>h,OA:()=>W,QD:()=>v,S4:()=>L,Sc:()=>m,UR:()=>g,Un:()=>G,Wk:()=>K,Yh:()=>M,Yl:()=>f,_F:()=>d,ag:()=>k,cF:()=>F,cJ:()=>x,gn:()=>R,ic:()=>U,mC:()=>B,mQ:()=>D,oH:()=>b,sV:()=>p,vL:()=>_,ye:()=>H,yw:()=>N});var n=r(307824),i=r(234284),a=r(768832),o=r(843148),l=r(255536);let s=new Set;function c(e){(0,i.g9)()&&s.add(e)}function d(e){(0,i.g9)()&&s.delete(e)}function u(){return!!i.yO||(0,i.AZ)()||(0,o.Ub)()&&(0,o.Ub)().interaction_recorder}function p(e){u()&&(0,l.ED)(e)}function m(e){u()&&(0,l.QR)(e)}function _(e){let t;t="string"==typeof e?e:null==e?void 0:e.recordingKey;let r=n.useMemo(()=>({recordingKey:t}),[t]);return n.useCallback((...e)=>h(r,...e),[r])}function h(e,...t){let r;return(r="string"==typeof e?e:null==e?void 0:e.recordingKey)?r+"."+t.join("."):r}class g extends n.PureComponent{recordingKey(){return this.props.recordingKey}componentDidMount(){p(this)}componentDidUpdate(e,t){p(this)}componentWillUnmount(){m(this)}}class f extends n.Component{recordingKey(){return this.props.recordingKey}componentDidMount(){p(this)}componentDidUpdate(e,t,r){p(this)}componentWillUnmount(){m(this)}}function E(e){let t=n.useMemo(()=>({recordingKey:()=>e}),[e]);return n.useLayoutEffect(()=>(p(t),()=>m(t)),[t]),t}let y=l.Cy;function b(e,t,r){if(!u())return r;let n=[];return(0,l.UF)(e,t,e=>{if(!(0,l.I9)())return r(e);let t=[];return(Array.isArray(e)?e:[e]).forEach((e,r)=>{e&&"object"==typeof e&&!Array.isArray(e)?(n[r]={},t[r]=new Proxy(e,{get(e,t){let i=e[t];return Reflect.has(T,t)||(n[r][t]=i),i}})):(n[r]=e,t[r]=e)}),r(Array.isArray(e)?t:t[0])},{record:e=>e?n:void 0,playback:e=>e?"object"!=typeof e||Array.isArray(e)?e:{...e,...T}:e})}function v(e,t,r,n={}){return u()?(0,l.UF)(e,t,r,n):r}function I(e,t,r,i){let a=E(e);return n.useMemo(()=>v(a,t,r,i),[a,t,r,i])}function w(e){let t={};return e.altKey&&(t.altKey=!0),e.shiftKey&&(t.shiftKey=!0),e.metaKey&&(t.metaKey=!0),e.ctrlKey&&(t.ctrlKey=!0),t}let T={preventDefault(){},stopPropagation(){}};function S(e){let t={};return t.altKey=!!e.altKey,t.ctrlKey=!!e.ctrlKey,t.metaKey=!!e.metaKey,t.shiftKey=!!e.shiftKey,t}function C(e){var t,r;let n=null==(r=null==(t=e.currentTarget)?void 0:t.dataset)?void 0:r.testid;return n?{currentTarget:n}:{}}let A={value:"",blur(){},setPointerCapture(){},releasePointerCapture(){}};function O(e){if(e.currentTarget){let t=document.querySelector(`[data-testid="${e.currentTarget}"]`);if(!t)throw Error(`Expected to find element with data-testid="${e.currentTarget}" for currentTarget`);return{currentTarget:new Proxy(t,{get(e,t){switch(t){case"setPointerCapture":case"releasePointerCapture":return()=>{};default:let r=e[t];if("function"==typeof r)return r.bind(e);return r}}})}}return{currentTarget:A}}function N(e,t,r,n){return v(e,t,r,{record(e){e||(e={});let t={buttons:e.buttons,...w(e),...n&&n.recordMetadata?n.recordMetadata(e):{},...C(e)};return n&&n.includeTarget&&(t.target={tagName:e.target.tagName}),t},playback:e=>({clientX:0,clientY:0,button:0,buttons:e.buttons,target:(null==n?void 0:n.includeTarget)?e.target:A,...S(e),...T,...O(e),...n&&n.playbackMetadata?n.playbackMetadata(e):{}})})}function L(e,t,r,i){let a=E(e);return n.useMemo(()=>N(a,t,r,i),[a,t,r,i])}function R(e,t,r){return v(e,t,r,{record(e){let t=e.dataTransfer.files,r={};if(t){let e=[];for(let r of t){let t=e.length;e.push("(failed to read file)"),(function(e){return new Promise((t,r)=>{let n=new FileReader;n.onload=()=>t(new Uint8Array(n.result)),n.onerror=e=>r(e),n.readAsArrayBuffer(e)})})(r).then(r=>{let n=(0,a.OW)(r);n.length>1e3&&(console.warn("Recording of drop events is only supported for small files"),n="(file too large)"),e[t]=n})}r.files=e}return{buttons:e.buttons,...w(e),dataTransfer:r}},playback(e){let t={};return e.dataTransfer.files&&(t.files=e.dataTransfer.files.map(e=>new Blob([(0,a.YP)(e)]))),{clientX:0,clientY:0,button:0,buttons:e.buttons,...S(e),...T,dataTransfer:t}}})}function P(e,t,r,n){return v(e,t,r,{record:e=>(e||(e={}),{buttons:e.buttons,...w(e),...n&&n.recordMetadata?n.recordMetadata(e):{}}),playback:e=>({deltaX:0,deltaY:0,deltaMode:WheelEvent.DOM_DELTA_PIXEL,clientX:0,clientY:0,button:0,buttons:e.buttons,...S(e),...T,...n&&n.playbackMetadata?n.playbackMetadata(e):{}})})}function M(e,t,r,n){return v(e,t,r,{record:e=>({key:e.key,keyCode:e.keyCode,which:e.keyCode,type:t,...w(e),...n&&n.recordMetadata?n.recordMetadata(e):{},...C(e)}),playback:e=>({key:e.key,keyCode:e.keyCode,which:e.keyCode,type:t,...S(e),...T,...O(e),...n&&n.playbackMetadata?n.playbackMetadata(e):{}})})}function k(e,t,r,i){let a=E(e);return n.useMemo(()=>M(a,t,r,i),[a,t,r,i])}function D(e,t,r){return v(e,t,r,{record(e){let r=e.event;return{key:r.key,keyCode:r.keyCode,which:r.keyCode,type:t,...w(r)}},playback:e=>({event:{key:e.key,keyCode:e.keyCode,...S(e),...T},accept:()=>{}})})}function F(e,t,r){let i=E(e);return n.useMemo(()=>D(i,t,r),[i,t,r])}function x(e,t,r){return v(e,t,r,{record:e=>e.currentTarget instanceof HTMLInputElement&&"checkbox"===e.currentTarget.type?{checked:e.currentTarget.checked}:{value:e.currentTarget.value},playback(e){let t={value:e.value,checked:e.checked};return{target:t,currentTarget:t,...T}}})}function U(e,t,r){let i=E(e);return n.useMemo(()=>x(i,t,r),[i,t,r])}function B(e,t,r){return v(e,t,r,{record:e=>({}),playback:e=>({...T})})}function G(e,t,r){let i=E(e);return n.useMemo(()=>B(i,t,r),[i,t,r])}function V(e,t,r){return v(e,t,r,{record:e=>({}),playback:e=>({})})}function H(e,t,r){let i=E(e);return n.useMemo(()=>V(i,t,r),[i,t,r])}function W(e,t,r,n){return v(e,t,r,{record(e){e||(e={});let t={buttons:e.buttons,...w(e),...n&&n.recordMetadata?n.recordMetadata(e):{},...C(e)};return n&&n.includeTarget&&(t.target={tagName:e.target.tagName}),t},playback(e){let t=n&&n.includeTarget?{target:e.target}:{};return{clientX:0,clientY:0,button:0,buttons:e.buttons,pointerId:0,pointerType:"mouse",...S(e),...t,...T,...O(e),...n&&n.playbackMetadata?n.playbackMetadata(e):{}}}})}function K(e,t,r,i){let a=E(e);return n.useMemo(()=>W(a,t,r,i),[a,t,r,i])}},853688:(e,t,r)=>{"use strict";r.d(t,{OU:()=>p,Oy:()=>_,Ui:()=>h,aw:()=>m,g9:()=>s,iH:()=>u,s:()=>d,ye:()=>c});var n=r(307824),i=r(288056),a=r(441388),o=r(570464);class l extends o.UR{constructor(){super(...arguments),this.onClick=o.yw(this,"click",e=>this.props.onClick?this.props.onClick(e):o.Cy),this.onContextClick=o.yw(this,"contextmenu",e=>this.props.onContextMenu?this.props.onContextMenu(e):o.Cy),this.onDoubleClick=o.yw(this,"dblclick",e=>this.props.onDoubleClick?this.props.onDoubleClick(e):o.Cy),this.onMouseDown=o.yw(this,"mousedown",e=>this.props.onMouseDown?this.props.onMouseDown(e):o.Cy),this.onMouseUp=o.yw(this,"mouseup",e=>this.props.onMouseUp?this.props.onMouseUp(e):o.Cy),this.onMouseMove=o.yw(this,"mousemove",e=>this.props.onMouseMove?this.props.onMouseMove(e):o.Cy),this.onMouseEnter=o.yw(this,"mouseenter",e=>this.props.onMouseEnter?this.props.onMouseEnter(e):o.Cy),this.onMouseLeave=o.yw(this,"mouseleave",e=>this.props.onMouseLeave?this.props.onMouseLeave(e):o.Cy),this.onPointerDown=o.OA(this,"pointerdown",e=>this.props.onPointerDown?this.props.onPointerDown(e):o.Cy),this.onPointerUp=o.OA(this,"pointerup",e=>this.props.onPointerUp?this.props.onPointerUp(e):o.Cy),this.onPointerMove=o.OA(this,"pointermove",e=>this.props.onPointerMove?this.props.onPointerMove(e):o.Cy),this.onKeyUp=o.Yh(this,"keyup",e=>this.props.onKeyUp?this.props.onKeyUp(e):o.Cy),this.onKeyDown=o.Yh(this,"keydown",e=>this.props.onKeyDown?this.props.onKeyDown(e):o.Cy),this.onFocus=o.CW(this,"focus",e=>this.props.onFocus?this.props.onFocus(e):o.Cy),this.onBlur=o.CW(this,"blur",e=>this.props.onBlur?this.props.onBlur(e):o.Cy)}render(){let{recordingKey:e,forwardedRef:t,dataTestId:r,...n}=this.props;return this.recordingKey()&&(this.props.onClick&&(n.onClick=this.onClick),this.props.onDoubleClick&&(n.onDoubleClick=this.onDoubleClick),this.props.onMouseDown&&(n.onMouseDown=this.onMouseDown),this.props.onMouseMove&&(n.onMouseMove=this.onMouseMove),this.props.onMouseEnter&&(n.onMouseEnter=this.onMouseEnter),this.props.onMouseLeave&&(n.onMouseLeave=this.onMouseLeave),this.props.onMouseUp&&(n.onMouseUp=this.onMouseUp),this.props.onContextMenu&&(n.onContextMenu=this.onContextClick),this.props.onKeyUp&&(n.onKeyUp=this.onKeyUp),this.props.onKeyDown&&(n.onKeyDown=this.onKeyDown),this.props.onFocus&&(n.onFocus=this.onFocus),this.props.onBlur&&(n.onBlur=this.onBlur),this.props.onPointerDown&&(n.onPointerDown=this.onPointerDown),this.props.onPointerUp&&(n.onPointerUp=this.onPointerUp),this.props.onPointerMove&&(n.onPointerMove=this.onPointerMove)),r&&(n["data-testid"]=r),this.node(n,t)}}class s extends l{node(e,t){return n.createElement("div",{...e,ref:t})}}s.displayName="RecordableDiv";let c=(0,a.wB)(s);class d extends l{node(e,t){return n.createElement("span",{...e,ref:t})}}d.displayName="RecordableSpan";class u extends l{node(e,t){return n.createElement("button",{...e,ref:t})}}u.displayName="RecordableButton";class p extends l{node(e,t){return n.createElement("a",{...e,ref:t})}}p.displayName="RecordableA";class m extends l{constructor(){super(...arguments),this.onChange=o.cJ(this,"change",e=>this.props.onChange?this.props.onChange(e):o.Cy)}node(e,t){return n.createElement("input",{...e,onChange:this.onChange,ref:t,dir:"auto"})}}m.displayName="RecordableInput";class _ extends l{constructor(){super(...arguments),this.onChange=o.cJ(this,"change",e=>this.props.onChange?this.props.onChange(e):o.Cy)}node(e,t){return n.createElement("textarea",{...e,onChange:this.onChange,ref:t,dir:"auto"})}}function h({children:e}){let t=(0,n.useMemo)(()=>o.IN()?(e,t)=>{let r=o.Gu(t.recordingKey);return(0,n.useMemo)(()=>{if(!e||!t.recordingKey)return e;let n=o.oH(r,t.eventName,t=>Array.isArray(t)?e(...t):e(t));return(...e)=>n(e)},[r,t.eventName,e,t.recordingKey])}:g,[]);return n.createElement(i.M.Provider,{value:{useInteraction:t}},e)}function g(e){return e}_.displayName="RecordableTextarea"},107516:(e,t,r)=>{"use strict";r.d(t,{U:()=>o,u:()=>l});var n=r(259596),i=r.n(n);let a=/[\u202A-\u202E\u2060-\u206F]/g;function o(e){return e?e.replace(a,"").normalize():e}function l(e){return i().sanitize(e)}},93736:(e,t,r)=>{"use strict";r.d(t,{K8:()=>i,Kw:()=>a,NJ:()=>o});var n=r(768832);async function i(e){let t=new TextEncoder().encode(e);return Array.from(new Uint8Array(await crypto.subtle.digest("SHA-256",t))).map(e=>e.toString(16).padStart(2,"0")).join("")}function a(e,t){return l(e,t)}function o(e){return window.crypto.subtle.importKey("raw",(0,n.YP)(e),"AES-GCM",!0,["encrypt","decrypt"])}async function l(e,t){let r=t.split(".");if(2!==r.length)throw Error("Could not parse message and nonce.");let i=r[0],a=r[1],o=(0,n.YP)(i),l=(0,n.YP)(a),s=await window.crypto.subtle.decrypt({name:"AES-GCM",iv:o},e,l);return new TextDecoder().decode(s)}},710956:(e,t,r)=>{"use strict";function n(e,t){return e.size===t.size&&i(e,t)}function i(e,t){return[...e].every(e=>t.has(e))}function a(e,t){let r=new Set,n=new Set;return null==t||t.forEach(t=>{e.has(t)||n.add(t)}),e.forEach(e=>{(null==t?void 0:t.has(e))||r.add(e)}),{added:r,removed:n}}r.d(t,{Gk:()=>n,_K:()=>i,a2:()=>a})},929452:(e,t,r)=>{"use strict";r.d(t,{C0:()=>T,E1:()=>g,Qj:()=>S,Y$:()=>m,e2:()=>h,g5:()=>I,iK:()=>f,qG:()=>C,qK:()=>E,wX:()=>_});var n=r(307824),i=r(120304),a=r(560072),o=r(317704),l=r(762820),s=r(698484),c=r(306440),d=r(250008),u=r(830300);function p(e){let{observingSessionID:t,presenterSessionID:r}=e,n=e.allUsers.find(t=>t.sessionID===e.sessionID),i=r?e.allUsers.find(e=>e.sessionID===r):null,a=t?e.allUsers.find(e=>e.sessionID===t):null;return{isPrototypeViewer:"prototype"===e.deviceNameFilter,presentingUserId:null==i?void 0:i.userID,presentingSessionId:null==i?void 0:i.sessionID,observingUserId:null==a?void 0:a.userID,observingSessionId:null==a?void 0:a.sessionID,currentUserId:null==n?void 0:n.userID,currentUserSessionId:null==n?void 0:n.sessionID}}function m(){let e=(0,s.u)(),t=(0,c.Aj)();return n.useCallback(()=>{var r;e(s.Y.START),"prototype"===t?null==(r=(0,u._u)())||r.startPresenting():l.Abq.startPresenting()},[t,e])}function _(){let e=(0,c.Aj)();return n.useCallback(()=>{var t;"prototype"===e?null==(t=(0,u._u)())||t.stopPresenting():l.Abq.stopPresenting()},[e])}function h(){let e="prototype"===(0,c.Aj)(),t=(0,i.OY)();return n.useCallback((r,n)=>{e?y(r,n,(0,u._u)(),t):y(r,n,null,t)},[e,t])}function g(){let e="prototype"===(0,c.Aj)(),t=(0,i.OY)();return n.useCallback((r,n)=>{e?b(r,n,(0,u._u)(),t):b(r,n,null,t)},[e,t])}function f(){let e="prototype"===(0,c.Aj)();return n.useCallback(t=>{e?w(t,(0,u._u)()):w(t,null)},[e])}function E(){let e="prototype"===(0,c.Aj)();return n.useCallback(t=>{e?v(t,(0,u._u)()):v(t,null)},[e])}function y(e,t,r,n){r?r.nominatePresenter(e):l.Abq.nominatePresenter(e);let i=t.allUsers.find(t=>t.sessionID===e);if(null==i?void 0:i.name){let e=(0,a.t)("collaboration.spotlight.visual_bell.nominated_user_to_spotlight",{userName:i.name});n(o.A.enqueue({message:e,type:"nominated_presenter"}))}(0,d.we)("Spotlight Nomination Requested",{nominatedSessionID:e,nominatedUserID:null==i?void 0:i.userID,...p(t)})}function b(e,t,r,n){r?r.cancelPresenterNomination(e):l.Abq.cancelPresenterNomination(e);let i=t.allUsers.find(t=>t.sessionID===e),s=(0,a.t)("collaboration.spotlight.visual_bell.stopped_nominating_user_to_spotlight");n(o.A.enqueue({message:s,type:"nominated_presenter"})),(0,d.we)("Spotlight Nomination Canceled",{cancelledNomineeSessionId:null==i?void 0:i.sessionID,cancelledNomineeUserId:null==i?void 0:i.userID,cancelledByNominee:e===t.sessionID,...p(t)})}function v(e,t){t?t.startPresenting():l.Abq.startPresenting();let r=e.sessionsNominatingCurrentUser[0],n=e.allUsers.find(e=>e.sessionID===r);(0,d.we)("Spotlight Nomination Accepted",{nominatorSessionId:null==n?void 0:n.sessionID,nominatorUserId:null==n?void 0:n.userID,...p(e)})}function I(e,t,r,n){let i=performance.now();e(),n&&(0,d.we)(r,{sessionId:t.sessionID,timeToActionSeconds:Math.trunc(i-n)/1e3,...p(t)})}function w(e,t){var r;t?null==(r=(0,u._u)())||r.setObservingSessionID(-1):l.Abq.observeUser(-1),(0,d.we)("Spotlight Stop Following",{...p(e)})}function T(e){return e.presenterSessionID===e.sessionID}function S(e){return -1!==e.observingSessionID}function C(e){return e.sessionsNominatingCurrentUser.length>0}},810756:(e,t,r)=>{"use strict";r.d(t,{CG:()=>y,IH:()=>g.IH,Iv:()=>f,M9:()=>v,OC:()=>g.OC,OE:()=>E,UF:()=>I});var n=r(307824),i=r(120304),a=r(682020),o=r(513052),l=r(843148),s=r(372152),c=r(849208),d=r(805220),u=r(132188),p=r(733960),m=r(234284),_=r(540140),h=r(365560),g=r(87844);function f(e,t,r=!1){return w(s.qM.get(_.a4),e,"getExperiment",t,r)}async function E(e,t,r,n=!1){let i=s.qM.get(_.a4);return(r||(0,l.Ub)().statsig_suspend)&&await i.initCompletedPromise,w(s.qM.get(_.a4),e,"getExperiment",t,n)}function y(e,t){return f(e,t,!0)}function b(e,t,r){let{userVersion:i}=(0,n.useContext)(o.StatsigContext),a=(0,p.i)(i),l=(0,s.m4)(_.a4),c=(0,n.useRef)(null);return{getConfig:(0,n.useCallback)(()=>((a!==i||null==c.current)&&(c.current=w(l,e,"useExperiment",t,r)),c.current),[e,t,a,l,i,r])}}let v=(0,l.Ub)().statsig_suspend?function(e,t,r){return(0,s.m4)(_.Pc),b(e,t,r)}:b;function I(e,t,r){let a=(0,n.useMemo)(()=>(0,d.y_)(e),[e]),{getConfig:o}=v(t,r,(0,s.m4)(a).data||!1),l=(0,i.OY)();return{getConfig:(0,n.useCallback)(()=>(l(c.s({[e]:!0})),o()),[l,e,o])}}function w(e,t,r,n=!1,i=!1){var a;if(!o.Statsig.initializeCalled()||(0,l.cp)().e2e_ci_test||e.status!==g.ym.COMPLETED)return T;let s=0,c=null,d=T;try{s=(0,u.Ss)("statsigGetExperimentValDuration",()=>{d=i?o.Statsig.getExperimentWithExposureLoggingDisabled(t,{keepDeviceValue:n}):o.Statsig.getExperiment(t,n)})}catch(r){let e=(null==(a=(0,l.cp)().user_data)?void 0:a.id)||"undefined";(0,h.cB)(`Errored while fetching experiment config for experiment ${t} and user ${e}: ${r}`),c=r instanceof Error?r:null}if(null===c&&(0,h.Yh)(t,s,r,d.getEvaluationDetails().reason,d.getRuleID(),o.Statsig.getCurrentUser()),(0,m.g9)()&&h.mk===t){let e=d.getValue();(0,h._m)(h.mk,s),(0,h._m)(`${h.mk}_value`,e)}return d}let T=new a.DynamicConfig("default",{},"default",{reason:a.EvaluationReason.Unrecognized,time:Date.now()})},936756:(e,t,r)=>{"use strict";r.d(t,{Gq:()=>u,IP:()=>l,Oc:()=>R,Oy:()=>y,P4:()=>A,QH:()=>_,Su:()=>O,Wi:()=>m,_k:()=>d,aW:()=>v,aw:()=>w,cp:()=>b,e:()=>c,e0:()=>T,g9:()=>C,k0:()=>i,kN:()=>a,lD:()=>s,m0:()=>f,o$:()=>o,oT:()=>h,op:()=>L,sn:()=>N,u:()=>I,u6:()=>p,uW:()=>S});var n=r(251368);function i(e){return e.charAt(0).toUpperCase()+e.slice(1)}function a(e){return e.toLowerCase().replace(/-(.)/g,function(e,t){return t.toUpperCase()})}function o(e){return e.replace(/([A-Z]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z])([A-Z])/g,"$1_$2").toLowerCase().replace(/[\W_]+/g,"_")}function l(e){return e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function s(e){return e.replace(/([A-Z])/g,"_$1").toLowerCase()}function c(e){return e.replace(/(_[a-zA-Z])/g,e=>e.substring(1).toUpperCase())}function d(e){return i(e.split("_").join(" ").toLocaleLowerCase())}function u(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function p(e){let t=unescape(encodeURIComponent(e)),r=new Uint8Array(t.length);for(var n=0;n<t.length;n++)r[n]=t.charCodeAt(n);return r}function m(e){let t="",r=e.length;for(var n=0;n<r;n+=1024)t+=String.fromCharCode.apply(String,e.subarray(n,n+1024));return"\0"===t.slice(-1)&&(t=t.slice(0,-1)),decodeURIComponent(escape(t))}function _(e,t){return e.length>t?e.slice(0,t-1).trimEnd()+"\u2026":e}function h(e){let t=[];for(let r=0;r<e.length;r++){let n=function(e,t){let r=e.charCodeAt(t);if(Number.isNaN(r))return"";if(r<55296||r>57343)return e.charAt(t);if(55296<=r&&r<=56319){if(e.length<=t+1)throw Error("High surrogate without following low surrogate");let r=e.charCodeAt(t+1);if(56320>r||r>57343)throw Error("High surrogate without following low surrogate");return e.charAt(t)+e.charAt(t+1)}throw Error("Not the start of a single- or multibyte-character")}(e,r);r+=n.length-1,t.push(n)}return t}let g={numeric:!0,sensitivity:"base"};function f(e,t,r=g){let i=(0,n.A5)().getPrimaryLocale(!1),a=new Intl.Collator(i,r);return e.sort((e,r)=>a.compare(t(e),t(r)))}let E={};function y(e,t="conjunction"){let r=(0,n.A5)().getPrimaryLocale(!1);return E[t]||(E[t]=new Intl.ListFormat(r,{type:t})),E[t].format(e)}function b(e){var t=[];return(e=e.replace(/_|-/g," ")).split(" ").forEach(function(e){t.push(e.charAt(0).toUpperCase()+e.slice(1).toLowerCase())}),t.join(" ")}function v(e,t,r){return r=r||`${t}s`,1===e?t:r}function I(e,t,r){return null==e&&(e=0),`${e} ${v(e,t,r)}`}function w(e){return e<1e3?e.toString():e<1e5?`${Math.floor(e/100)/10}k`:e<1e6?`${Math.floor(e/1e3)}k`:e<1e8?`${Math.floor(e/1e5)/10}m`:e<1e9?`${Math.floor(e/1e6)}m`:e<1e11?`${Math.floor(e/1e8)/10}b`:`${Math.floor(e/1e9)}b`}function T(e){return encodeURIComponent(e.replace(/ /g,"-"))}function S(e){var t=e.toLowerCase();return T(t=["thumbnail","icon","code","snapshot","duplicate","embed","canvas","remixes"].includes(t=(t=(t=(t=(t=(t=(t=(t=t.normalize("NFD")).replace(/[\u0300-\u036f]/g,"")).replace(/[ .\-_\/\\:;|,&+=*]/g,"-")).replace(/[^a-z0-9\-]/g,"")).replace(/\-+/g,"-")).replace(/^\-+/,"")).substring(0,100)).replace(/\-+$/,""))?"":t)}let C=e=>/[-a-zA-Z0-9@:%._\+~#=]{1,256}\.[a-zA-Z0-9()]{1,18}\b([-a-zA-Z0-9()@:%_\+.~#?&//=]*)/.test(e);function A(e){for(var t=0,r=e.length>>>2,n=new Uint8Array(3*r),i=0,a=[],o=0;o<127;o++)a[o]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(String.fromCharCode(o));for(;t<r<<2;){var l=a[e.charCodeAt(t++)],s=a[e.charCodeAt(t++)],c=a[e.charCodeAt(t++)],d=a[e.charCodeAt(t++)];n[i++]=l<<2|s>>>4,c>=0&&(n[i++]=s<<4|c>>>2),d>=0&&(n[i++]=c<<6|d)}return i===n.length?n:n.subarray(0,i)}function O(e){for(var t="",r=e.length,n=0;n<r;n+=1024)t+=String.fromCharCode.apply(String,e.subarray(n,n+1024));return btoa(t)}function N(e){return e.replace(/\s+/g,"")}function L(e,t){return N(e)===N(t)}function R(e){return/^\s*$/.test(e)}},489376:(e,t,r)=>{"use strict";r.d(t,{CM:()=>E,ML:()=>g,O2:()=>p,OA:()=>f,U5:()=>m,_8:()=>l,el:()=>h,i6:()=>o,kZ:()=>_,op:()=>u,qq:()=>s,yg:()=>d});var n=r(441748),i=r(546772),a=r(843148);function o(e){return!!e.student_validated_at}function l(e,t){if(!e)return 1/0;let r=Math.ceil((0,n.c)(e).diff((0,n.c)(),"days",!0));return r>12?1/0:r<=0?t?1:0:r}function s(e,t){return{hasGracePeriod:!!(e&&t in e),isInValidGracePeriod:u(e,t)>0}}let c=(e,t)=>Math.ceil((0,n.c)(e[t].createdAt).add(7,"days").diff((0,n.c)(),"days",!0));function d(e,t){var r,n,i;if(!e||!(null==(r=e[t])?void 0:r.createdAt))return new Date;let a=new Date;return a.setDate((null==(i=null==(n=e[t])?void 0:n.createdAt)?void 0:i.getDate())+7),a}function u(e,t){return e&&e[t]?c(e,t):0}function p(e){if(!e)return 0;let t=1/0;for(let r in e){let n=c(e,r);n>0&&n<t&&(t=n)}return t===1/0?0:t}function m(e,t){let r=function(e){let t=e&&Object.keys(e).length>0,r=!1;for(let t in e)0>=c(e,t)&&(r=!0);return{hasGracePeriod:!!t,isInValidGracePeriod:p(e)>0,isInExpiredGracePeriod:r}}(e);if(!(0,a.Ub)().edu_onboarding_grace_period||t||!r.hasGracePeriod)return{showReminder:!1,showAccessRestricted:!1};let n=!!r.isInExpiredGracePeriod;return{showReminder:r.isInValidGracePeriod&&!n,showAccessRestricted:n}}function _(e,t,r,n){let i=s(e,r);if(!(0,a.Ub)().edu_onboarding_grace_period||t||!n||!i.hasGracePeriod)return{showReminder:!1,showAccessRestricted:!1};let o=i.isInValidGracePeriod;return{showReminder:o,showAccessRestricted:!o}}function h(e,t,r){for(let n in t){let a=t[n][e];if((null==r?void 0:r.student_team)&&(null==a?void 0:a.level)===i.m.OWNER)return!0}return!1}function g(e,t,r){for(let n in t){let a=t[n][e];if((null==r?void 0:r.student_team)&&(null==a?void 0:a.level)>=i.m.EDITOR)return!0}return!1}function f(e,t,r){for(let n in t){let a=t[n][e],o=r[n];if((null==o?void 0:o.student_team)&&(null==a?void 0:a.level)>=i.m.EDITOR)return!0}return!1}function E(e,t,r){var n,a;return null!=r&&!!r.student_team&&(null==(a=null==(n=t[r.id])?void 0:n[e])?void 0:a.level)>=i.m.EDITOR}},234284:(e,t,r)=>{"use strict";r.d(t,{AZ:()=>l,Cm:()=>d,Cy:()=>c,MZ:()=>s,cz:()=>n.I9,g9:()=>o,yO:()=>i});var n=r(255536);let i=!1,a="/test/interactions"===window.location.pathname;function o(){return a}function l(){return a}function s(){return a||(0,n.I9)()}function c(){return null}function d(){try{return!1}catch{return!1}}},30764:(e,t,r)=>{"use strict";function n(e){return i(24*e)}function i(e){return 300*Math.round(Date.now()/3e5)-3600*e}function a(e){return{seconds:Math.floor(e%60),minutes:Math.floor(e/60)}}r.d(t,{S2:()=>a,kt:()=>i,s$:()=>n})},698580:(e,t,r)=>{"use strict";let n;r.r(t),r.d(t,{BRAND:()=>o.So,DIRTY:()=>o.gx,EMPTY_PATH:()=>o.eO,Favor:()=>g,INVALID:()=>o.IP,LIVESTORE_NORM:()=>c,LIVESTORE_PK:()=>s,NEVER:()=>o.Cs,OK:()=>o.OK,ParseStatus:()=>o.CS,Schema:()=>o.Et,ZodAny:()=>o._A,ZodArray:()=>o.UR,ZodBigInt:()=>o.u0,ZodBoolean:()=>o.wW,ZodBranded:()=>o.iO,ZodCatch:()=>o.s5,ZodDate:()=>o.eK,ZodDefault:()=>o.yW,ZodDiscriminatedUnion:()=>v,ZodEffects:()=>o.Ir,ZodEnum:()=>o.gp,ZodError:()=>o.AP,ZodFirstPartyTypeKind:()=>o.OW,ZodFunction:()=>o.oD,ZodIntersection:()=>o.eN,ZodIssueCode:()=>o.oN,ZodLazy:()=>o.k9,ZodLiteral:()=>o.es,ZodMap:()=>o.qm,ZodNaN:()=>o.O,ZodNativeEnum:()=>o.Ex,ZodNever:()=>o.SG,ZodNull:()=>o.Gg,ZodNullable:()=>o.Yz,ZodNumber:()=>o.qe,ZodObject:()=>o.W_,ZodOptional:()=>o.qK,ZodParsedType:()=>o.Id,ZodPipeline:()=>o.ok,ZodPromise:()=>o.m2,ZodReadonly:()=>o.sz,ZodRecord:()=>o.Om,ZodSchema:()=>o.kp,ZodSet:()=>o.Se,ZodString:()=>o.IL,ZodSymbol:()=>o.Oy,ZodTransformer:()=>o.oT,ZodTuple:()=>o.Oo,ZodType:()=>o.wr,ZodUndefined:()=>o.Ww,ZodUnion:()=>o.Kw,ZodUnknown:()=>o.am,ZodVoid:()=>o.w3,addIssueToContext:()=>o.i2,any:()=>o.uW,array:()=>o.M$,bigint:()=>o.kn,boolean:()=>o.cT,coerce:()=>_,custom:()=>o.m,date:()=>o.tV,defaultErrorMap:()=>o.Ez,discriminatedUnion:()=>w,effect:()=>o.o3,enum:()=>o.M5,filteredArray:()=>b,function:()=>o._k,getErrorMap:()=>o.uU,getParsedType:()=>o.AV,ignore:()=>m,instanceof:()=>o.ec,intersection:()=>o.WR,isAborted:()=>o.wv,isAsync:()=>o.u,isDirty:()=>o.UZ,isValid:()=>o.U3,late:()=>o.YH,lazy:()=>o.Wk,literal:()=>o.uA,makeIssue:()=>o.kX,map:()=>o.kH,nan:()=>o.yq,nativeEnum:()=>o.ID,never:()=>o.kj,normalize:()=>u,null:()=>o.M1,nullable:()=>o._m,number:()=>o.CQ,object:()=>o.kt,objectUtil:()=>o.M7,oboolean:()=>o.K6,onumber:()=>o.WE,optional:()=>o.Q3,ostring:()=>o.op,partial:()=>y,pipeline:()=>o.A5,preprocess:()=>o.W,primaryKey:()=>d,promise:()=>o.Yn,quotelessJson:()=>o.i8,record:()=>o.r$,set:()=>o.WO,setErrorMap:()=>o.sh,sinatra:()=>E,strictObject:()=>o.Yv,string:()=>o.Qb,symbol:()=>o.sF,transformer:()=>o.sI,tuple:()=>o.cR,undefined:()=>o.aU,union:()=>o.SQ,unknown:()=>o.OI,util:()=>o.eu,void:()=>o.ot,z:()=>o.z});var i=r(626076),a=r.n(i),o=r(558352),l=r(234284);let s="__LIVESTORE_PK__",c="__LIVESTORE_NORM__",d=()=>o.z.string().describe(s);function u(e,t){return t.describe(`${c}:${e}`)}let p=e=>{if(e instanceof o.z.ZodLazy)return p(e.schema);if(e instanceof o.z.ZodEffects)return p(e.innerType());if(e instanceof o.z.ZodLiteral)return[e.value];if(e instanceof o.z.ZodEnum)return e.options;if(e instanceof o.z.ZodNativeEnum)return Object.keys(e.enum);if(e instanceof o.z.ZodDefault)return p(e._def.innerType);if(e instanceof o.z.ZodUndefined)return[void 0];else if(e instanceof o.z.ZodNull)return[null];else return null};function m(e){return o.z.any().transform(e=>e)}let _={...o.z.coerce,null:e=>o.z.preprocess(e=>void 0===e?null:e,e),undefined:e=>o.z.preprocess(e=>{if(null!==e)return e},e)},h=new Set([o.OW.ZodNullable,o.OW.ZodOptional]);var g=((n=g||{})[n.SINATRA=0]="SINATRA",n[n.LIVEGRAPH=1]="LIVEGRAPH",n);function f(e){return o.z.preprocess(e=>{if(void 0===e)return null;if(e&&"string"==typeof e){if(""===e&&(0,l.Cm)())throw Error("You are passing an empty string for a sinatra date. Don't do that.");return new Date(e)}return e},e)}function E(e,t){return t?function(e,t){let r={},n=e.shape;Object.keys(n).map(e=>e).forEach(e=>{let i=a()(e),l=n[e]._def.typeName;if(l=h.has(l)?n[e]._def.innerType._def.typeName:l,i!==e&&(!t||t.shape[i])){if(l===o.OW.ZodDate){r[e]=f(n[e]);return}r[e]=o.z.preprocess(e=>void 0===e?null:e,n[e])}});let i=t.merge(o.z.object(r).passthrough());return o.z.preprocess(e=>{let t={...e};return Object.keys(n).map(e=>e).forEach(r=>{let n=a()(r);n!==r&&(t[r]=e[n])}),t},i.passthrough())}(e,t):function(e){let t={},r=e.shape;Object.keys(r).map(e=>e).forEach(e=>{let n=a()(e),i=r[e]._def.typeName;if(i=h.has(i)?r[e]._def.innerType._def.typeName:i,n===e||i===o.OW.ZodDate){t[e]=f(r[e]);return}});let n=o.z.object(e.shape);return o.z.preprocess(e=>{let t={...e};return Object.keys(r).map(e=>e).forEach(r=>{let n=a()(r);n!==r&&(t[r]=e[n])}),t},n)}(e)}function y(e,t=[]){let r={},n={...e.innerType().shape};t.forEach(t=>{r[t]=e.innerType().shape[t],delete n[t]});let i=o.z.object(n).partial(),a=o.z.object(r).merge(i);return o.z.effect(a,e._def.effect)}function b(e){return o.z.array(o.z.unknown()).transform(t=>t.filter(t=>e.safeParse(t).success))}Symbol("convertedSinatraModel"),(E||(E={})).discriminatedUnion=function(e,t,r){return o.z.preprocess(t=>({...t,[e]:t[a()(e)]}),I(e,t,r))};class v extends o.z.ZodType{_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==o.z.ZodParsedType.object)return o.z.addIssueToContext(t,{code:o.z.ZodIssueCode.invalid_type,expected:o.z.ZodParsedType.object,received:t.parsedType}),o.z.INVALID;let r=this.discriminator,n=t.data[r],i=this.optionsMap.get(n);return i?t.common.async?i._parseAsync({data:t.data,path:t.path,parent:t}):i._parseSync({data:t.data,path:t.path,parent:t}):(o.z.addIssueToContext(t,{code:o.z.ZodIssueCode.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),o.z.INVALID)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,t,r){let n=new Map;for(let r of t){let t=p(("shape"in r?r.shape:r.innerType().shape)[e]);if(!t)throw Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(let i of t){if(n.has(i))throw Error(`Discriminator property ${String(e)} has duplicate value ${String(i)}`);n.set(i,r)}}return new v({typeName:o.OW.ZodDiscriminatedUnion,discriminator:e,options:t,optionsMap:n,...function(e){if(!e)return{};let{errorMap:t,invalid_type_error:r,required_error:n,description:i}=e;if(t&&(r||n))throw Error('Can\'t use "invalid_type_error" or "required_error" in conjunction with custom error map.');return t?{errorMap:t,description:i}:{errorMap:(e,t)=>"invalid_type"!==e.code?{message:t.defaultError}:void 0===t.data?{message:n??t.defaultError}:{message:r??t.defaultError},description:i}}(r)})}}let I=v.create,w=I},322576:(e,t,r)=>{"use strict";r.d(t,{Gw:()=>n,SY:()=>i,kx:()=>a});let n={showNotificationSettings:!1,disableCommentsWhenHandToolEnabled:!1,repositionViewportOnCommentSelection:!1,clusterBy:"page",orphanedBy:"deleted_pages"},i={showNotificationSettings:!1,disableCommentsWhenHandToolEnabled:!1,repositionViewportOnCommentSelection:!1,clusterBy:"page",orphanedBy:"deleted_pages",filterBy:"hidden_sections"},a={showNotificationSettings:!1,disableCommentsWhenHandToolEnabled:!1,repositionViewportOnCommentSelection:!1,clusterBy:"page",orphanedBy:"deleted_pages"}},850023:(e,t,r)=>{"use strict";let n,i,a;r.d(t,{$N:()=>l,Oq:()=>s,SG:()=>o});var o=((n=o||{})[n.SAVED=0]="SAVED",n[n.SAVING=1]="SAVING",n[n.PAUSED=2]="PAUSED",n),l=((i=l||{})[i.REQUESTED=0]="REQUESTED",i[i.SAVED=1]="SAVED",i),s=((a=s||{})[a.PNG=0]="PNG",a[a.JPEG=1]="JPEG",a[a.PDF=2]="PDF",a)},742152:(e,t,r)=>{"use strict";let n,i,a,o,l,s,c,d,u,p,m,_,h,g,f,E;r.d(t,{AF:()=>S,Ef:()=>M,MZ:()=>O,Ml:()=>R,QP:()=>I,YT:()=>T,_A:()=>y,_K:()=>N,ao:()=>w,cT:()=>A,ch:()=>L,ol:()=>b,qI:()=>k,qu:()=>P,sD:()=>C,zY:()=>v});var y=((n=y||{})[n.V1=1]="V1",n[n.V2=2]="V2",n[n.V3=3]="V3",n[n.MIN=1]="MIN",n[n.MAX=3]="MAX",n),b=((i=b||{})[i.V1=1]="V1",i[i.V2=2]="V2",i[i.V3=3]="V3",i[i.V4=4]="V4",i[i.V5=5]="V5",i[i.MIN=1]="MIN",i[i.MAX=5]="MAX",i),v=((a=v||{})[a.action=0]="action",a[a.tool=1]="tool",a[a.drawingToolGroup=2]="drawingToolGroup",a[a.overflowingToolGroup=3]="overflowingToolGroup",a[a.stack=4]="stack",a[a.divider=5]="divider",a[a.paletteSelector=6]="paletteSelector",a[a.menu=7]="menu",a[a.imageSelector=8]="imageSelector",a[a.actionSelector=9]="actionSelector",a[a.itemGroupWithFallbacks=10]="itemGroupWithFallbacks",a),I=((o=I||{})[o.default=0]="default",o[o.last=1]="last",o),w=((l=w||{})[l.none=0]="none",l[l.leading=1]="leading",l[l.trailing=2]="trailing",l[l.both=3]="both",l),T=((s=T||{})[s.horizontal=0]="horizontal",s[s.vertical=1]="vertical",s),S=((c=S||{})[c.horizontal=0]="horizontal",c[c.vertical=1]="vertical",c),C=((d=C||{})[d.utility=0]="utility",d[d.drawing=1]="drawing",d),A=((u=A||{})[u.automatic=0]="automatic",u[u.persistent=1]="persistent",u),O=((p=O||{}).enterCropMode="enterCropMode",p.exitCropMode="exitCropMode",p),N=((m=N||{})[m.iconAction=0]="iconAction",m[m.divider=1]="divider",m[m.palette=2]="palette",m[m.textAction=3]="textAction",m[m.slider=4]="slider",m[m.itemGroupWithFallbacks=5]="itemGroupWithFallbacks",m[m.required=6]="required",m[m.actionSelector=7]="actionSelector",m),L=((_=L||{})[_.gradient=0]="gradient",_[_.base=1]="base",_),R=((h=R||{})[h.hoveringAboveBar=0]="hoveringAboveBar",h[h.sideEdge=1]="sideEdge",h[h.secondarySideEdge=2]="secondarySideEdge",h[h.pinnedToFloatingBar=3]="pinnedToFloatingBar",h),P=((g=P||{})[g.presetColor=0]="presetColor",g[g.presetImage=1]="presetImage",g[g.colorPicker=2]="colorPicker",g[g.imagePicker=3]="imagePicker",g),M=((f=M||{})[f.normal=0]="normal",f[f.destructive=1]="destructive",f),k=((E=k||{})[E.presetColor=0]="presetColor",E[E.customColor=1]="customColor",E[E.presetImage=2]="presetImage",E[E.customImage=3]="customImage",E)},919256:(e,t,r)=>{"use strict";let n,i,a,o;r.d(t,{Uz:()=>c,yy:()=>s});var l=((n=l||{})[n.FEATURE_DISABLED=0]="FEATURE_DISABLED",n),s=((i=s||{})[i.MOBILE_NATIVE_NAVBAR=0]="MOBILE_NATIVE_NAVBAR",i),c=((a=c||{})[a.BEGAN=0]="BEGAN",a[a.MOVED=1]="MOVED",a[a.ENDED=2]="ENDED",a[a.CANCELLED=3]="CANCELLED",a[a.MOVED_COALESCED=4]="MOVED_COALESCED",a),d=((o=d||{})[o.BEGAN=0]="BEGAN",o[o.MOVED=1]="MOVED",o[o.ENDED=2]="ENDED",o[o.CANCELLED=3]="CANCELLED",o)},418764:(e,t,r)=>{"use strict";r.d(t,{I:()=>m,Q:()=>u});var n=r(307824),i=r(120304),a=r(161400),o=r(282528),l=r(585508),s=r(312452),c=r(103840),d=r(919256);let u=[s.w3X.VECTOR_PENCIL,s.w3X.HIGHLIGHTER,s.w3X.WASHI_TAPE,s.w3X.ERASER],p=new Map([[s.w3X.VECTOR_PENCIL,"set-tool-pencil"],[s.w3X.HIGHLIGHTER,"set-tool-highlighter"],[s.w3X.WASHI_TAPE,"set-tool-washi-tape"]]);function m(){let e=(0,c.k1)(),t=(0,c._Y)(),r=(0,c.YH)(),m=(0,i.w1)(e=>e.mirror.appModel.currentTool);n.useEffect(()=>{(null==e?void 0:e.shouldAllowNativeGestures)&&t&&(t._allow_native_gestures_on_points=e=>e.every(e=>!(0,o.k8)(document.elementFromPoint(e.x,e.y))),t._allow_web_gestures=e=>{l.CA.allowWebGestures&&l.CA.allowWebGestures(e?1:0)})},[e,t]),n.useEffect(()=>{t&&(t._toggle_auto_draw_with_pencil=e=>{t._auto_draw_with_pencil=e})},[t]);let _=n.useRef(s.w3X.VECTOR_PENCIL);return n.useEffect(()=>{(null==t?void 0:t._auto_draw_with_pencil)&&m&&p.get(m)&&(_.current=m)},[m,t]),n.useEffect(()=>{if((null==e?void 0:e.suppliesPencilSamples)&&t){var r=!1;t._take_pencil_samples=(e,n)=>{if(l.CA.takePencilSample&&n.length>0){let c=(e,t)=>{var r,n;null==(n=(r=l.CA).takePencilSample)||n.call(r,e,t.x,t.y,t.modifierKeys??0)};switch(e){case d.Uz.BEGAN:let m=a.x.getState().mirror.appModel.currentTool,h=n[0];if(r=!(0,o.k8)(document.elementFromPoint(h.x,h.y)),t._auto_draw_with_pencil){let e=u.includes(m),{multiplayerEmoji:t}=a.x.getState(),n="REACTING_OR_CHATTING"===t.type&&!!t.imageUrl,i=m===s.w3X.MULTISELECT,o=p.get(_.current);!o||e||n||!r||i||(s.i46.triggerActionInUserEditScope(o,{source:"figma_mobile"}),m=s.w3X.VECTOR_PENCIL)}if(r&&(r=u.includes(m)),r){c(d.Uz.BEGAN,h);for(var i=1;i<n.length;i++)c(d.Uz.MOVED_COALESCED,n[i])}break;case d.Uz.MOVED:if(r){c(d.Uz.MOVED,n[0]);for(var i=1;i<n.length;i++)c(d.Uz.MOVED_COALESCED,n[i])}break;case d.Uz.ENDED:if(r){let e=n.length-1;for(var i=0;i<e;i++)c(d.Uz.MOVED_COALESCED,n[i]);c(d.Uz.ENDED,n[e])}r=!1;break;case d.Uz.CANCELLED:if(r){let e=n.length-1;for(var i=0;i<e;i++)c(d.Uz.MOVED_COALESCED,n[i]);c(d.Uz.CANCELLED,n[e])}r=!1}}}}},[e,t]),n.useEffect(()=>{r&&(r._take_indirect_pinch_gesture=(e,t,r,n)=>{l.CA.takeIndirectPinchGesture&&!(0,o.k8)(document.elementFromPoint(r.x,r.y))&&l.CA.takeIndirectPinchGesture(e,t,r.x,r.y,n)})},[r]),null}},181212:(e,t,r)=>{"use strict";r.d(t,{YB:()=>s,cR:()=>o,eo:()=>l});var n=r(843148),i=r(742152);let a=!1;function o(e){a=e}function l(){let e=window.FigmaMobile;return a||((null==e?void 0:e.shouldAllowSimulatedRightClick)??!0)}function s(e){switch(e){case i.ol.V1:return{includeSubmenuDividers:!1,includeImageControls:!1,includeDrawingControls:!1,includesAiQuickControls:!1};case i.ol.V2:return{includeSubmenuDividers:!0,includeImageControls:!1,includeDrawingControls:!1,includesAiQuickControls:!1};case i.ol.V3:case i.ol.V4:return{includeSubmenuDividers:!0,includeImageControls:!1,includeDrawingControls:!0,includesAiQuickControls:!1};case i.ol.V5:return{includeSubmenuDividers:!0,includeImageControls:(0,n.Ub)().nct_image_controls??!1,includeDrawingControls:!0,includesAiQuickControls:!(0,n.Ub)().figjam_synthesize_handbrake};default:return{includeSubmenuDividers:!1,includeImageControls:!1,includeDrawingControls:!1,includesAiQuickControls:!1}}}},357936:(e,t,r)=>{"use strict";r.d(t,{Oq:()=>e_,yH:()=>er,S6:()=>ee,UB:()=>et,qD:()=>en,Az:()=>ed,wP:()=>eu});var n=r(307824),i=r(120304),a=r(795188),o=r.n(a),l=r(404920),s=r(139776),c=r(916924),d=r(760780),u=r(733960),p=r(843148),m=r(372152),_=r(499776),h=r(326660),g=r(483576),f=r(936756),E=r(58908),y=r(327112),b=r(750908),v=r(26708),I=r(644092),w=r(762820),T=r(555168),S=r(59508),C=r(427584),A=r(312452),O=r(507076),N=r(397888),L=r(103840),R=r(421584),P=r(84656),M=r(570012),k=r(456076),D=r(784528),F=r(372204),x=r(742152),U=r(28804),B=r(842872),G=r(359100),V=r(925948),H=r(213132),W=r(477308),K=r(506240);let Y=window.devicePixelRatio;function q({color:e=K.Cie}){return n.createElement("svg",{width:88*Y,height:128*Y,viewBox:"-5 1 88 128",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("g",{clipPath:"url(#clip0_3625_33331)"},n.createElement("g",{filter:"url(#filter0_ddd_3625_33331)"},n.createElement("mask",{id:"mask0_3625_33331",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:"18",y:"29",width:"40",height:"100"},n.createElement("path",{d:"M31 29H46L57.5 129H18.5L31 29Z",fill:"#C4C4C4"})),n.createElement("g",{mask:"url(#mask0_3625_33331)"},n.createElement("g",{filter:"url(#filter1_f_3625_33331)"},n.createElement("rect",{x:"32.5",y:"31",width:"12",height:"102",fill:e}))),n.createElement("g",{filter:"url(#filter2_i_3625_33331)"},n.createElement("path",{d:"M34.4415 27C32.5094 27 30.8177 28.3242 30.3156 30.2296L16.7858 79.4873C15.9325 82.5938 15.5001 85.8008 15.5001 89.0223L15.5 130H62.5V89.039C62.5 85.8066 62.0647 82.589 61.2058 79.4729L47.6498 30.2922C47.1697 28.356 45.4636 27 43.5079 27H34.4415Z",fill:"white",fillOpacity:"0.66"}),n.createElement("path",{d:"M34.4415 27C32.5094 27 30.8177 28.3242 30.3156 30.2296L16.7858 79.4873C15.9325 82.5938 15.5001 85.8008 15.5001 89.0223L15.5 130H62.5V89.039C62.5 85.8066 62.0647 82.589 61.2058 79.4729L47.6498 30.2922C47.1697 28.356 45.4636 27 43.5079 27H34.4415Z",fill:"url(#paint0_linear_3625_33331)"})),n.createElement("g",{filter:"url(#filter3_i_3625_33331)"},n.createElement("path",{d:"M34.3445 27C32.3713 27 30.6436 28.3242 30.1308 30.2296L16.338 79.3986C15.4502 82.5634 15.0001 85.8349 15.0001 89.1218L15 130H63V89.1388C63 85.8408 62.5468 82.5585 61.6532 79.384L47.8339 30.2922C47.3435 28.356 45.6011 27 43.6038 27H34.3445Z",fill:"white",fillOpacity:"0.3"}),n.createElement("path",{d:"M34.3445 27C32.3713 27 30.6436 28.3242 30.1308 30.2296L16.338 79.3986C15.4502 82.5634 15.0001 85.8349 15.0001 89.1218L15 130H63V89.1388C63 85.8408 62.5468 82.5585 61.6532 79.384L47.8339 30.2922C47.3435 28.356 45.6011 27 43.6038 27H34.3445Z",fill:"url(#paint1_linear_3625_33331)"})),n.createElement("path",{d:"M30.3715 30.2972L30.3716 30.2972L30.3722 30.2946C30.8557 28.4983 32.4844 27.25 34.3445 27.25H43.6038C45.4867 27.25 47.1292 28.5284 47.5915 30.3536L47.5915 30.3536L47.5932 30.3599L61.4125 79.4517C62.3 82.6042 62.75 85.8638 62.75 89.1388V129.75H15.25L15.2501 89.1218C15.2501 85.8577 15.6971 82.6089 16.5787 79.4661L30.3715 30.2972Z",stroke:"#989898",strokeWidth:"0.5"}),n.createElement("path",{d:"M37.5019 11.1184C37.6985 10.4549 38.308 9.99976 39 9.99976V9.99976C39.692 9.99976 40.3015 10.4549 40.4981 11.1184L45.5 27.9998H32.5L37.5019 11.1184Z",fill:e}),n.createElement("path",{d:"M40.2584 11.1894L45.1652 27.7498H32.8348L37.7416 11.1894C37.9067 10.6321 38.4187 10.2498 39 10.2498C39.5813 10.2498 40.0933 10.6321 40.2584 11.1894Z",stroke:"#B8B8B8",strokeWidth:"0.5"}))),n.createElement("defs",null,n.createElement("filter",{id:"filter0_ddd_3625_33331",x:"-9",y:"-19.0002",width:"96",height:"168",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},n.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),n.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),n.createElement("feOffset",{dy:"-1"}),n.createElement("feGaussianBlur",{stdDeviation:"2"}),n.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.08 0"}),n.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_3625_33331"}),n.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),n.createElement("feOffset",{dy:"-2"}),n.createElement("feGaussianBlur",{stdDeviation:"5"}),n.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.04 0"}),n.createElement("feBlend",{mode:"normal",in2:"effect1_dropShadow_3625_33331",result:"effect2_dropShadow_3625_33331"}),n.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),n.createElement("feOffset",{dy:"-5"}),n.createElement("feGaussianBlur",{stdDeviation:"12"}),n.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.08 0"}),n.createElement("feBlend",{mode:"normal",in2:"effect2_dropShadow_3625_33331",result:"effect3_dropShadow_3625_33331"}),n.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect3_dropShadow_3625_33331",result:"shape"})),n.createElement("filter",{id:"filter1_f_3625_33331",x:"26.5",y:"25",width:"24",height:"114",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},n.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),n.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),n.createElement("feGaussianBlur",{stdDeviation:"3",result:"effect1_foregroundBlur_3625_33331"})),n.createElement("filter",{id:"filter2_i_3625_33331",x:"15.5",y:"27",width:"47",height:"104.091",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},n.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),n.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),n.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),n.createElement("feOffset",{dy:"3.27273"}),n.createElement("feGaussianBlur",{stdDeviation:"0.545455"}),n.createElement("feComposite",{in2:"hardAlpha",operator:"arithmetic",k2:"-1",k3:"1"}),n.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 1 0 0 0 0 1 0 0 0 0 1 0 0 0 0.54 0"}),n.createElement("feBlend",{mode:"normal",in2:"shape",result:"effect1_innerShadow_3625_33331"})),n.createElement("filter",{id:"filter3_i_3625_33331",x:"15",y:"27",width:"48",height:"105.182",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},n.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),n.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),n.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),n.createElement("feOffset",{dy:"4.36364"}),n.createElement("feGaussianBlur",{stdDeviation:"1.09091"}),n.createElement("feComposite",{in2:"hardAlpha",operator:"arithmetic",k2:"-1",k3:"1"}),n.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 1 0 0 0 0 1 0 0 0 0 1 0 0 0 0.67 0"}),n.createElement("feBlend",{mode:"normal",in2:"shape",result:"effect1_innerShadow_3625_33331"})),n.createElement("linearGradient",{id:"paint0_linear_3625_33331",x1:"15.5",y1:"145",x2:"62.4948",y2:"144.504",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopOpacity:"0.18"}),n.createElement("stop",{offset:"0.314097",stopColor:"white",stopOpacity:"0"}),n.createElement("stop",{offset:"0.705075",stopColor:"white",stopOpacity:"0"}),n.createElement("stop",{offset:"1",stopOpacity:"0.18"})),n.createElement("linearGradient",{id:"paint1_linear_3625_33331",x1:"15",y1:"144.857",x2:"63.0021",y2:"145.054",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopColor:"white",stopOpacity:"0"}),n.createElement("stop",{offset:"0.188089",stopColor:"white"}),n.createElement("stop",{offset:"0.410617",stopColor:"white",stopOpacity:"0.2"}),n.createElement("stop",{offset:"0.596847",stopColor:"white",stopOpacity:"0.2"}),n.createElement("stop",{offset:"0.814202",stopColor:"white"}),n.createElement("stop",{offset:"1",stopColor:"white",stopOpacity:"0"})),n.createElement("clipPath",{id:"clip0_3625_33331"},n.createElement("rect",{width:"78",height:"130",fill:"white",transform:"translate(0 -0.000244141)"}))))}function j({color:e=K.u62}){return n.createElement("svg",{width:88*Y,height:128*Y,viewBox:"-5 -4 88 128",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("g",{clipPath:"url(#clip0_3625_33342)"},n.createElement("g",{filter:"url(#filter0_dddd_3625_33342)"},n.createElement("mask",{id:"mask0_3625_33342",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:"13",y:"24",width:"52",height:"102"},n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M39 24.8572H32.21C30.3188 24.8572 28.7857 26.3903 28.7857 28.2815V34.8427C28.7857 46.9138 23.9794 58.4883 15.4286 67.0087C13.8739 68.5578 13 70.6623 13 72.857V78.6925V126H39L65 126V78.6927V72.8572C65 70.6625 64.1261 68.558 62.5714 67.0089C54.0206 58.4885 49.2143 46.914 49.2143 34.8429V28.2817C49.2143 26.3905 47.6812 24.8574 45.79 24.8574H39V24.8572Z",fill:"white"})),n.createElement("g",{mask:"url(#mask0_3625_33342)"},n.createElement("mask",{id:"path-2-inside-1_3625_33342",fill:"white"},n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M39 24.8572H32.21C30.3188 24.8572 28.7857 26.3903 28.7857 28.2815V34.8427C28.7857 46.9138 23.9794 58.4883 15.4286 67.0087C13.8739 68.5578 13 70.6623 13 72.857V78.6925V121.429H39V121.429H65V78.6927V72.8572C65 70.6625 64.1261 68.558 62.5714 67.0089C54.0206 58.4885 49.2143 46.914 49.2143 34.8429V28.2817C49.2143 26.3905 47.6812 24.8574 45.79 24.8574H39V24.8572Z"})),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M39 24.8572H32.21C30.3188 24.8572 28.7857 26.3903 28.7857 28.2815V34.8427C28.7857 46.9138 23.9794 58.4883 15.4286 67.0087C13.8739 68.5578 13 70.6623 13 72.857V78.6925V121.429H39V121.429H65V78.6927V72.8572C65 70.6625 64.1261 68.558 62.5714 67.0089C54.0206 58.4885 49.2143 46.914 49.2143 34.8429V28.2817C49.2143 26.3905 47.6812 24.8574 45.79 24.8574H39V24.8572Z",fill:"#FDFDFD"}),n.createElement("path",{d:"M39 24.8572H39.5V24.3572H39V24.8572ZM15.4286 67.0087L15.7815 67.3628H15.7815L15.4286 67.0087ZM13 121.429H12.5V121.929H13V121.429ZM39 121.429H39.5V120.929H39V121.429ZM39 121.429H38.5V121.929H39V121.429ZM65 121.429V121.929H65.5V121.429H65ZM62.5714 67.0089L62.9244 66.6547L62.5714 67.0089ZM39 24.8574H38.5V25.3574H39V24.8574ZM32.21 25.3572H39V24.3572H32.21V25.3572ZM29.2857 28.2815C29.2857 26.6664 30.595 25.3572 32.21 25.3572V24.3572C30.0427 24.3572 28.2857 26.1141 28.2857 28.2815H29.2857ZM29.2857 34.8427V28.2815H28.2857V34.8427H29.2857ZM15.7815 67.3628C24.4264 58.7486 29.2857 47.0468 29.2857 34.8427H28.2857C28.2857 46.7809 23.5323 58.2279 15.0756 66.6545L15.7815 67.3628ZM13.5 72.857C13.5 70.7952 14.321 68.8182 15.7815 67.3628L15.0756 66.6545C13.4268 68.2975 12.5 70.5294 12.5 72.857H13.5ZM13.5 78.6925V72.857H12.5V78.6925H13.5ZM13.5 121.429V78.6925H12.5V121.429H13.5ZM39 120.929H13V121.929H39V120.929ZM38.5 121.429V121.429H39.5V121.429H38.5ZM39 121.929H65V120.929H39V121.929ZM65.5 121.429V78.6927H64.5V121.429H65.5ZM65.5 78.6927V72.8572H64.5V78.6927H65.5ZM65.5 72.8572C65.5 70.5296 64.5732 68.2977 62.9244 66.6547L62.2185 67.363C63.679 68.8184 64.5 70.7954 64.5 72.8572H65.5ZM62.9244 66.6547C54.4677 58.2281 49.7143 46.7811 49.7143 34.8429H48.7143C48.7143 47.047 53.5736 58.7488 62.2185 67.363L62.9244 66.6547ZM49.7143 34.8429V28.2817H48.7143V34.8429H49.7143ZM49.7143 28.2817C49.7143 26.1143 47.9573 24.3574 45.79 24.3574V25.3574C47.405 25.3574 48.7143 26.6666 48.7143 28.2817H49.7143ZM45.79 24.3574H39V25.3574H45.79V24.3574ZM38.5 24.8572V24.8574H39.5V24.8572H38.5Z",fill:"#B2B2B2",mask:"url(#path-2-inside-1_3625_33342)"}),n.createElement("g",{filter:"url(#filter1_f_3625_33342)"},n.createElement("mask",{id:"path-4-inside-2_3625_33342",fill:"white"},n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M39 24.8572H32.21C30.3188 24.8572 28.7857 26.3903 28.7857 28.2815V34.8427C28.7857 46.9138 23.9794 58.4883 15.4286 67.0087C13.8739 68.5578 13 70.6623 13 72.857V78.6925V121.429H39V121.429H65V78.6927V72.8572C65 70.6625 64.1261 68.558 62.5714 67.0089C54.0206 58.4885 49.2143 46.914 49.2143 34.8429V28.2817C49.2143 26.3905 47.6812 24.8574 45.79 24.8574H39V24.8572Z"})),n.createElement("path",{d:"M39 24.8572H41.1429V22.7143H39V24.8572ZM15.4286 67.0087L16.9411 68.5266L16.9411 68.5266L15.4286 67.0087ZM13 121.429H10.8571V123.571H13V121.429ZM39 121.429H41.1429V119.286H39V121.429ZM39 121.429H36.8571V123.572H39V121.429ZM65 121.429V123.572H67.1429V121.429H65ZM62.5714 67.0089L64.084 65.4909L62.5714 67.0089ZM39 24.8574H36.8571V27.0002H39V24.8574ZM32.21 27H39V22.7143H32.21V27ZM30.9286 28.2815C30.9286 27.5738 31.5023 27 32.21 27V22.7143C29.1354 22.7143 26.6429 25.2068 26.6429 28.2815H30.9286ZM30.9286 34.8427V28.2815H26.6429V34.8427H30.9286ZM16.9411 68.5266C25.8954 59.6041 30.9286 47.4835 30.9286 34.8427H26.6429C26.6429 46.3442 22.0633 57.3724 13.916 65.4907L16.9411 68.5266ZM15.1429 72.857C15.1429 71.2319 15.7899 69.6737 16.9411 68.5266L13.916 65.4907C11.9578 67.442 10.8571 70.0926 10.8571 72.857H15.1429ZM15.1429 78.6925V72.857H10.8571V78.6925H15.1429ZM15.1429 121.429V78.6925H10.8571V121.429H15.1429ZM39 119.286H13V123.571H39V119.286ZM36.8571 121.429V121.429H41.1429V121.429H36.8571ZM39 123.572H65V119.286H39V123.572ZM67.1429 121.429V78.6927H62.8571V121.429H67.1429ZM67.1429 78.6927V72.8572H62.8571V78.6927H67.1429ZM67.1429 72.8572C67.1429 70.0928 66.0422 67.4422 64.084 65.4909L61.0589 68.5268C62.2101 69.6739 62.8571 71.2321 62.8571 72.8572H67.1429ZM64.084 65.4909C55.9367 57.3726 51.3571 46.3444 51.3571 34.8429H47.0714C47.0714 47.4837 52.1046 59.6043 61.0589 68.5268L64.084 65.4909ZM51.3571 34.8429V28.2817H47.0714V34.8429H51.3571ZM51.3571 28.2817C51.3571 25.207 48.8647 22.7145 45.79 22.7145V27.0002C46.4977 27.0002 47.0714 27.574 47.0714 28.2817H51.3571ZM45.79 22.7145H39V27.0002H45.79V22.7145ZM36.8571 24.8572V24.8574H41.1429V24.8572H36.8571Z",fill:"#BFBFBF",mask:"url(#path-4-inside-2_3625_33342)"})),n.createElement("g",{filter:"url(#filter2_f_3625_33342)"},n.createElement("mask",{id:"path-6-inside-3_3625_33342",fill:"white"},n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M39 24.8572H32.21C30.3188 24.8572 28.7857 26.3903 28.7857 28.2815V34.8427C28.7857 46.9138 23.9794 58.4883 15.4286 67.0087C13.8739 68.5578 13 70.6623 13 72.857V78.6925V121.429H39V121.429H65V78.6927V72.8572C65 70.6625 64.1261 68.558 62.5714 67.0089C54.0206 58.4885 49.2143 46.914 49.2143 34.8429V28.2817C49.2143 26.3905 47.6812 24.8574 45.79 24.8574H39V24.8572Z"})),n.createElement("path",{d:"M39 24.8572H39.71V24.1472H39V24.8572ZM15.4286 67.0087L15.9297 67.5116H15.9297L15.4286 67.0087ZM13 121.429H12.29V122.139H13V121.429ZM39 121.429H39.71V120.719H39V121.429ZM39 121.429H38.29V122.139H39V121.429ZM65 121.429V122.139H65.71V121.429H65ZM62.5714 67.0089L63.0726 66.5059L62.5714 67.0089ZM39 24.8574H38.29V25.5674H39V24.8574ZM32.21 25.5672H39V24.1472H32.21V25.5672ZM29.4957 28.2815C29.4957 26.7824 30.7109 25.5672 32.21 25.5672V24.1472C29.9267 24.1472 28.0757 25.9982 28.0757 28.2815H29.4957ZM29.4957 34.8427V28.2815H28.0757V34.8427H29.4957ZM15.9297 67.5116C24.6142 58.858 29.4957 47.1026 29.4957 34.8427H28.0757C28.0757 46.7251 23.3445 58.1185 14.9274 66.5057L15.9297 67.5116ZM13.71 72.857C13.71 70.851 14.5087 68.9275 15.9297 67.5116L14.9274 66.5057C13.239 68.1881 12.29 70.4735 12.29 72.857H13.71ZM13.71 78.6925V72.857H12.29V78.6925H13.71ZM13.71 121.429V78.6925H12.29V121.429H13.71ZM39 120.719H13V122.139H39V120.719ZM38.29 121.429V121.429H39.71V121.429H38.29ZM39 122.139H65V120.719H39V122.139ZM65.71 121.429V78.6927H64.29V121.429H65.71ZM65.71 78.6927V72.8572H64.29V78.6927H65.71ZM65.71 72.8572C65.71 70.4737 64.761 68.1883 63.0726 66.5059L62.0703 67.5118C63.4913 68.9277 64.29 70.8512 64.29 72.8572H65.71ZM63.0726 66.5059C54.6555 58.1187 49.9243 46.7253 49.9243 34.8429H48.5043C48.5043 47.1028 53.3858 58.8582 62.0703 67.5118L63.0726 66.5059ZM49.9243 34.8429V28.2817H48.5043V34.8429H49.9243ZM49.9243 28.2817C49.9243 25.9984 48.0733 24.1474 45.79 24.1474V25.5674C47.2891 25.5674 48.5043 26.7826 48.5043 28.2817H49.9243ZM45.79 24.1474H39V25.5674H45.79V24.1474ZM38.29 24.8572V24.8574H39.71V24.8572H38.29Z",fill:"#999999",mask:"url(#path-6-inside-3_3625_33342)"})),n.createElement("g",{filter:"url(#filter3_f_3625_33342)"},n.createElement("path",{d:"M38.7094 24.8574C36.8183 24.8574 34.3566 26.3905 34.3566 28.2817V34.8429C34.3566 46.9141 33.2645 58.4885 24.7137 67.0089C23.159 68.5581 22.2852 70.6625 22.2852 72.8573V121.429H55.7137V72.8573C55.7137 70.6625 54.8398 68.5581 53.2852 67.0089C44.7344 58.4885 43.6423 46.9141 43.6423 34.8429V28.2817C43.6423 26.3905 41.1806 24.8574 39.2894 24.8574H38.7094Z",fill:"white"})),n.createElement("path",{d:"M13 76.2996H65V126.143H13V76.2996Z",fill:e}),n.createElement("path",{d:"M13 76H65V125.7H13V76Z",fill:"url(#paint0_linear_3625_33342)"}),n.createElement("path",{d:"M13 76H65V125.7H13V76Z",fill:"url(#paint1_linear_3625_33342)"}),n.createElement("path",{d:"M13.25 76.25H64.75V125.45H13.25V76.25Z",stroke:"#9B9B9B",strokeWidth:"0.5"})),n.createElement("path",{d:"M31.5713 16.0664C31.5713 15.7687 31.756 15.5022 32.0348 15.3976L45.4633 10.3619C45.9303 10.1868 46.4284 10.532 46.4284 11.0307V25.6H31.5713V16.0664Z",fill:e}),n.createElement("path",{d:"M31.8213 16.0664C31.8213 15.8729 31.9413 15.6997 32.1226 15.6317L45.5511 10.596C45.8546 10.4822 46.1784 10.7065 46.1784 11.0307V25.35H31.8213V16.0664Z",stroke:"#989898",strokeWidth:"0.5"}))),n.createElement("defs",null,n.createElement("filter",{id:"filter0_dddd_3625_33342",x:"0.142858",y:"-8.25575",width:"77.7143",height:"141.399",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},n.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),n.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),n.createElement("feOffset",{dy:"-0.714286"}),n.createElement("feGaussianBlur",{stdDeviation:"0.371652"}),n.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.026 0"}),n.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_3625_33342"}),n.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),n.createElement("feOffset",null),n.createElement("feGaussianBlur",{stdDeviation:"1.04464"}),n.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.04 0"}),n.createElement("feBlend",{mode:"normal",in2:"effect1_dropShadow_3625_33342",result:"effect2_dropShadow_3625_33342"}),n.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),n.createElement("feOffset",{dy:"-0.714286"}),n.createElement("feGaussianBlur",{stdDeviation:"2.80246"}),n.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.054 0"}),n.createElement("feBlend",{mode:"normal",in2:"effect2_dropShadow_3625_33342",result:"effect3_dropShadow_3625_33342"}),n.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),n.createElement("feOffset",{dy:"-5.71429"}),n.createElement("feGaussianBlur",{stdDeviation:"6.42857"}),n.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.08 0"}),n.createElement("feBlend",{mode:"normal",in2:"effect3_dropShadow_3625_33342",result:"effect4_dropShadow_3625_33342"}),n.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect4_dropShadow_3625_33342",result:"shape"})),n.createElement("filter",{id:"filter1_f_3625_33342",x:"5.85714",y:"17.7143",width:"66.2857",height:"110.857",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},n.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),n.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),n.createElement("feGaussianBlur",{stdDeviation:"3.57143",result:"effect1_foregroundBlur_3625_33342"})),n.createElement("filter",{id:"filter2_f_3625_33342",x:"8.71429",y:"20.5715",width:"60.5714",height:"105.143",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},n.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),n.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),n.createElement("feGaussianBlur",{stdDeviation:"2.14286",result:"effect1_foregroundBlur_3625_33342"})),n.createElement("filter",{id:"filter3_f_3625_33342",x:"17.9994",y:"20.5717",width:"42.0001",height:"105.143",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},n.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),n.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),n.createElement("feGaussianBlur",{stdDeviation:"2.14286",result:"effect1_foregroundBlur_3625_33342"})),n.createElement("linearGradient",{id:"paint0_linear_3625_33342",x1:"65",y1:"101.844",x2:"13",y2:"101.844",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopOpacity:"0"}),n.createElement("stop",{offset:"0.166394",stopColor:"white",stopOpacity:"0.08"}),n.createElement("stop",{offset:"0.516647",stopColor:"white",stopOpacity:"0.16"}),n.createElement("stop",{offset:"0.824577",stopColor:"white",stopOpacity:"0.08"}),n.createElement("stop",{offset:"1",stopOpacity:"0"})),n.createElement("linearGradient",{id:"paint1_linear_3625_33342",x1:"13",y1:"98.9387",x2:"65",y2:"98.9387",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopOpacity:"0.12"}),n.createElement("stop",{offset:"0.173337",stopOpacity:"0"}),n.createElement("stop",{offset:"0.831435",stopOpacity:"0"}),n.createElement("stop",{offset:"1",stopOpacity:"0.12"})),n.createElement("clipPath",{id:"clip0_3625_33342"},n.createElement("rect",{width:"78",height:"126",fill:"white"}))))}function $(e){return n.createElement("svg",{width:88*Y,height:128*Y,viewBox:"-5 -3 88 128",fill:"none",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},n.createElement("g",{clipPath:"url(#clip0_3625_33376)"},n.createElement("g",{filter:"url(#filter0_ddd_3625_33376)"},n.createElement("path",{d:"M11 21.6311C11 18.3174 13.6863 15.6311 17 15.6311H61C64.3137 15.6311 67 18.3174 67 21.6311V65.1068V123C67 124.657 65.6569 126 64 126H14C12.3431 126 11 124.657 11 123V65.1068V21.6311Z",fill:"white"})),n.createElement("mask",{id:"mask0_3625_33376",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:"11",y:"15",width:"56",height:"111"},n.createElement("path",{d:"M11 20.6311C11 17.8697 13.2386 15.6311 16 15.6311H62C64.7614 15.6311 67 17.8697 67 20.6311V65.1068V126H11V65.1068V20.6311Z",fill:"#C4C4C4"})),n.createElement("g",{mask:"url(#mask0_3625_33376)"},n.createElement("g",{filter:"url(#filter1_i_3625_33376)"},n.createElement("path",{d:"M11 20.6311C11 17.8697 13.2386 15.6311 16 15.6311H62C64.7614 15.6311 67 17.8697 67 20.6311V65.1068V126H11V65.1068V20.6311Z",fill:"white"})),n.createElement("path",{d:"M11.25 20.6311C11.25 18.0078 13.3766 15.8811 16 15.8811H62C64.6233 15.8811 66.75 18.0078 66.75 20.6311V65.1068V125.75H11.25V65.1068V20.6311Z",stroke:"#989898",strokeWidth:"0.5"}),n.createElement("g",{filter:"url(#filter2_f_3625_33376)"},n.createElement("rect",{x:"7",y:"29.1458",width:"64",height:"18.0194",fill:"#E0E0E0"})),n.createElement("rect",{x:"17",y:"51.6699",width:"44",height:"66.4466",rx:"6",fill:"#666666"})),n.createElement("g",{filter:"url(#filter3_f_3625_33376)"},n.createElement("path",{d:"M61 83.2039C61 101.242 57.436 115.864 39 115.864C20.564 115.864 17 101.242 17 83.2039C17 65.1662 20.564 50.5437 39 50.5437C57.436 50.5437 61 65.1662 61 83.2039Z",fill:"#969696"})),n.createElement("mask",{id:"path-8-inside-1_3625_33376",fill:"white"},n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M19 10V15.6311V15.8494V111.739V111.864C19 114.073 20.7909 115.864 23 115.864H55C57.2091 115.864 59 114.073 59 111.864V111.739V15.8494V15.6311V10L54 15.6311L49 10L44 15.6311L39 10L34 15.6311L29 10L24 15.6311L19 10Z"})),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M19 10V15.6311V15.8494V111.739V111.864C19 114.073 20.7909 115.864 23 115.864H55C57.2091 115.864 59 114.073 59 111.864V111.739V15.8494V15.6311V10L54 15.6311L49 10L44 15.6311L39 10L34 15.6311L29 10L24 15.6311L19 10Z",fill:"url(#pattern0)"}),n.createElement("path",{d:"M19 10L19.3739 9.66802L18.5 8.68384V10H19ZM59 10H59.5V8.68384L58.6261 9.66802L59 10ZM54 15.6311L53.6261 15.963L54 16.3841L54.3739 15.963L54 15.6311ZM49 10L49.3739 9.66802L49 9.24695L48.6261 9.66802L49 10ZM44 15.6311L43.6261 15.963L44 16.3841L44.3739 15.963L44 15.6311ZM39 10L39.3739 9.66802L39 9.24695L38.6261 9.66802L39 10ZM34 15.6311L33.6261 15.963L34 16.3841L34.3739 15.963L34 15.6311ZM29 10L29.3739 9.66802L29 9.24695L28.6261 9.66802L29 10ZM24 15.6311L23.6261 15.963L24 16.3841L24.3739 15.963L24 15.6311ZM19.5 15.6311V10H18.5V15.6311H19.5ZM19.5 15.8494V15.6311H18.5V15.8494H19.5ZM19.5 111.739V15.8494H18.5V111.739H19.5ZM19.5 111.864V111.739H18.5V111.864H19.5ZM23 115.364C21.067 115.364 19.5 113.797 19.5 111.864H18.5C18.5 114.349 20.5147 116.364 23 116.364V115.364ZM55 115.364H23V116.364H55V115.364ZM58.5 111.864C58.5 113.797 56.933 115.364 55 115.364V116.364C57.4853 116.364 59.5 114.349 59.5 111.864H58.5ZM58.5 111.739V111.864H59.5V111.739H58.5ZM58.5 15.8494V111.739H59.5V15.8494H58.5ZM58.5 15.6311V15.8494H59.5V15.6311H58.5ZM58.5 10V15.6311H59.5V10H58.5ZM54.3739 15.963L59.3739 10.332L58.6261 9.66802L53.6261 15.2991L54.3739 15.963ZM48.6261 10.332L53.6261 15.963L54.3739 15.2991L49.3739 9.66802L48.6261 10.332ZM44.3739 15.963L49.3739 10.332L48.6261 9.66802L43.6261 15.2991L44.3739 15.963ZM38.6261 10.332L43.6261 15.963L44.3739 15.2991L39.3739 9.66802L38.6261 10.332ZM34.3739 15.963L39.3739 10.332L38.6261 9.66802L33.6261 15.2991L34.3739 15.963ZM28.6261 10.332L33.6261 15.963L34.3739 15.2991L29.3739 9.66802L28.6261 10.332ZM24.3739 15.963L29.3739 10.332L28.6261 9.66802L23.6261 15.2991L24.3739 15.963ZM18.6261 10.332L23.6261 15.963L24.3739 15.2991L19.3739 9.66802L18.6261 10.332Z",fill:"#B2B2B2",mask:"url(#path-8-inside-1_3625_33376)"}),n.createElement("path",{d:"M19 55.6699C19 53.4608 20.7909 51.6699 23 51.6699H55C57.2091 51.6699 59 53.4608 59 55.6699V113.864C59 114.969 58.1046 115.864 57 115.864H21C19.8954 115.864 19 114.969 19 113.864V55.6699Z",fill:"url(#paint0_linear_3625_33376)"})),n.createElement("defs",null,n.createElement("filter",{id:"filter0_ddd_3625_33376",x:"-6.1875",y:"-5.13713",width:"90.375",height:"144.744",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},n.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),n.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),n.createElement("feOffset",{dy:"-0.716146"}),n.createElement("feGaussianBlur",{stdDeviation:"1.43229"}),n.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.08 0"}),n.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_3625_33376"}),n.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),n.createElement("feOffset",{dy:"-1.43229"}),n.createElement("feGaussianBlur",{stdDeviation:"3.58073"}),n.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.04 0"}),n.createElement("feBlend",{mode:"normal",in2:"effect1_dropShadow_3625_33376",result:"effect2_dropShadow_3625_33376"}),n.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),n.createElement("feOffset",{dy:"-3.58073"}),n.createElement("feGaussianBlur",{stdDeviation:"8.59375"}),n.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.08 0"}),n.createElement("feBlend",{mode:"normal",in2:"effect2_dropShadow_3625_33376",result:"effect3_dropShadow_3625_33376"}),n.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect3_dropShadow_3625_33376",result:"shape"})),n.createElement("filter",{id:"filter1_i_3625_33376",x:"11",y:"15.6311",width:"56",height:"111.744",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},n.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),n.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),n.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),n.createElement("feOffset",{dy:"4.125"}),n.createElement("feGaussianBlur",{stdDeviation:"0.6875"}),n.createElement("feComposite",{in2:"hardAlpha",operator:"arithmetic",k2:"-1",k3:"1"}),n.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 1 0 0 0 0 1 0 0 0 0 1 0 0 0 0.4 0"}),n.createElement("feBlend",{mode:"normal",in2:"shape",result:"effect1_innerShadow_3625_33376"})),n.createElement("filter",{id:"filter2_f_3625_33376",x:"1",y:"23.1458",width:"76",height:"30.0195",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},n.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),n.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),n.createElement("feGaussianBlur",{stdDeviation:"3",result:"effect1_foregroundBlur_3625_33376"})),n.createElement("filter",{id:"filter3_f_3625_33376",x:"11",y:"44.5437",width:"56",height:"77.3203",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},n.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),n.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),n.createElement("feGaussianBlur",{stdDeviation:"3",result:"effect1_foregroundBlur_3625_33376"})),n.createElement("pattern",{id:"pattern0",x:"19",y:"19",width:e.imageWidth/e.imageHeight*40,height:40,patternUnits:"userSpaceOnUse",patternTransform:"rotate(-90) translate(40)"},n.createElement("image",{id:"image0_2799_15249",width:e.imageWidth/e.imageHeight*40,height:40,xlinkHref:e.imageURL})),n.createElement("linearGradient",{id:"paint0_linear_3625_33376",x1:"39",y1:"51.6699",x2:"39",y2:"115.864",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopColor:"white",stopOpacity:"0"}),n.createElement("stop",{offset:"0.350624",stopColor:"white",stopOpacity:"0.7"}),n.createElement("stop",{offset:"0.442982",stopColor:"white",stopOpacity:"0.8"}),n.createElement("stop",{offset:"0.543827",stopColor:"white",stopOpacity:"0.7"}),n.createElement("stop",{offset:"1",stopColor:"white",stopOpacity:"0"})),n.createElement("clipPath",{id:"clip0_3625_33376"},n.createElement("rect",{width:"78",height:"126",fill:"white"}))))}var Z=r(814720),z=r(190372),Q=r(560072);function X(){return{version:x._A.V1,fileType:"design",leadingBarItems:[],centerBarItems:[{itemType:x.zY.stack,itemStringType:"stack",identifier:"STACK_SELECT_HAND",items:[{itemType:x.zY.tool,itemStringType:"tool",identifier:"SELECT",iconImageURL:"https://static.figma.com/uploads/6c6e8ee7412f5dc67005c8bda2a9194066b71c9f",buttonType:x.sD.utility},{itemType:x.zY.tool,itemStringType:"tool",identifier:"HAND",iconImageURL:"https://static.figma.com/uploads/6e190d10839664611d56d9ea255759e19b981d55",buttonType:x.sD.utility}]},{itemType:x.zY.divider,itemStringType:"divider",identifier:"DIVIDER_1",padding:x.ao.both},{itemType:x.zY.drawingToolGroup,itemStringType:"drawingToolGroup",identifier:"DRAWING",tools:[{itemType:x.zY.tool,itemStringType:"tool",identifier:"PENCIL",iconImageURL:"https://static.figma.com/uploads/95407cf40a9b4e6961940a82ce9f58fd2da90e1f",submenu:{position:x.Ml.sideEdge,rowMaxSize:0,items:[{itemType:x._K.palette,itemStringType:"palette",identifier:"palettePencil",rowMaxSize:0,swatches:(0,Z.uk)((0,Z.ol)("PENCIL"),!0,"base")},{itemType:x._K.divider,itemStringType:"divider",identifier:"DIVIDER_PENCIL_1",padding:x.ao.none,axis:x.YT.vertical},{itemType:x._K.iconAction,itemStringType:"iconAction",identifier:"pencilThin",iconImageURL:"https://static.figma.com/uploads/0db399ca12fc8fb8892e1089ef99057f79767ffe",flashesOnPress:!1},{itemType:x._K.iconAction,itemStringType:"iconAction",identifier:"pencilThick",iconImageURL:"https://static.figma.com/uploads/c00afa5f8a9850b961592d291d35f0e24d61f528",flashesOnPress:!1},{itemType:x._K.divider,itemStringType:"divider",identifier:"DIVIDER_PENCIL_2",padding:x.ao.none,axis:x.YT.vertical},{itemType:x._K.iconAction,itemStringType:"iconAction",identifier:"straightLine",iconImageURL:"https://static.figma.com/uploads/15f58390d8f4345f1414b57ebd81d11cc95d114d",flashesOnPress:!1}]},buttonType:x.sD.drawing},{itemType:x.zY.tool,itemStringType:"tool",identifier:"HIGHLIGHTER",iconImageURL:"https://static.figma.com/uploads/3d3b3635536c8b5134ab706267f05276bd93c8f3",submenu:{position:x.Ml.sideEdge,rowMaxSize:0,items:[{itemType:x._K.palette,itemStringType:"palette",identifier:"paletteHighlighter",rowMaxSize:0,swatches:(0,Z.uk)((0,Z.ol)("HIGHLIGHTER"),!1,"highlight")},{itemType:x._K.divider,itemStringType:"divider",identifier:"DIVIDER_HIGHLIGHTER_1",padding:x.ao.none,axis:x.YT.vertical},{itemType:x._K.iconAction,itemStringType:"iconAction",identifier:"highlighterThin",iconImageURL:"https://static.figma.com/uploads/0db399ca12fc8fb8892e1089ef99057f79767ffe",flashesOnPress:!1},{itemType:x._K.iconAction,itemStringType:"iconAction",identifier:"highlighterThick",iconImageURL:"https://static.figma.com/uploads/c00afa5f8a9850b961592d291d35f0e24d61f528",flashesOnPress:!1},{itemType:x._K.divider,itemStringType:"divider",identifier:"DIVIDER_HIGHLIGHTER_2",padding:x.ao.none,axis:x.YT.vertical},{itemType:x._K.iconAction,itemStringType:"iconAction",identifier:"straightLine",iconImageURL:"https://static.figma.com/uploads/15f58390d8f4345f1414b57ebd81d11cc95d114d",flashesOnPress:!1}]},buttonType:x.sD.drawing},{itemType:x.zY.tool,itemStringType:"tool",identifier:"ERASER",iconImageURL:"https://static.figma.com/uploads/76cba36d23a5bc4ca181a3f9485e12e1fa9835f1",buttonType:x.sD.drawing}]},{itemType:x.zY.divider,itemStringType:"divider",identifier:"DIVIDER_2",padding:x.ao.both},{itemType:x.zY.overflowingToolGroup,itemStringType:"overflowingToolGroup",identifier:"PRIMARY_OVERFLOWING_TOOL_GROUP",iconImageURL:"https://static.figma.com/uploads/6deaa95dc38b36ee8f961dde17bf26e5b793eb18",tools:[{identifier:"FRAME",iconImageURL:"https://static.figma.com/uploads/0fc469764d468093174527130461cf6f8a06bb86",overflowTitle:(0,Q.t)("fullscreen_actions.set-tool-frame"),overflowIconImageURL:"https://static.figma.com/uploads/1783e78a46a102b7623934086a33536ecc04fa93",webWantsSourceRect:!1,flashesOnPress:!1},{identifier:"RECTANGLE",iconImageURL:"https://static.figma.com/uploads/620c43e6a8e0e873f37de44619d64782116ca223",overflowTitle:(0,Q.t)("fullscreen_actions.set-tool-rectangle"),overflowIconImageURL:"https://static.figma.com/uploads/637a804a738704ff4b860b5a790ca8851da65125",webWantsSourceRect:!1,flashesOnPress:!1},{identifier:"PEN",iconImageURL:"https://static.figma.com/uploads/665c5c92d29f356d7d09be210f71aee22869aaea",overflowTitle:(0,Q.t)("fullscreen_actions.set-tool-pen"),overflowIconImageURL:"https://static.figma.com/uploads/d5c62fcd58b76c5699a271f7dac490214a233a63",webWantsSourceRect:!1,flashesOnPress:!1},{identifier:"TEXT",iconImageURL:"https://static.figma.com/uploads/8a0b78df8273b72df6522ac88b9e79cb4a7581eb",overflowTitle:(0,Q.t)("fullscreen_actions.set-tool-type"),overflowIconImageURL:"https://static.figma.com/uploads/078efe01903423cb2fa4a3d77f5d8873f44917a3",webWantsSourceRect:!1,flashesOnPress:!1}]}],trailingBarItems:[]}}let J=()=>{let e=(0,L.op)();if(e&&e.nativeToolbarSupportedVersions){let t=e.nativeToolbarSupportedVersions.min,r=e.nativeToolbarSupportedVersions.max,n=x._A.MIN,i=x._A.MAX;if(n<=r&&t<=i)return Math.min(r,i)}};function ee(e){if(e===w.w3X.CONNECTOR_ELBOWED||e===w.w3X.CONNECTOR_STRAIGHT)return"CONNECTOR";if((0,G.MR)(e))return"SHAPE";if(e===w.w3X.VECTOR_PENCIL)return"PENCIL";if(e===w.w3X.WASHI_TAPE)return"TAPE";if(e===w.w3X.SHAPE_RECTANGLE)return"RECTANGLE";if(e===w.w3X.VECTOR_PEN)return"PEN";if(e===w.w3X.TYPE)return"TEXT";else if(e===w.w3X.HAND_SELECT)return"HANDSELECT";else if(e===w.w3X.MULTISELECT)return"MULTISELECT";else return w.w3X[e]}let et=new Map([["SELECT",(0,p.Ub)().ipad_combined_hand_select?"set-tool-old-select":"set-tool-default"],["HAND","set-tool-hand"],["HANDSELECT","set-tool-default"],["MULTISELECT","set-tool-multiselect"],["PENCIL","set-tool-pencil"],["HIGHLIGHTER","set-tool-highlighter"],["ERASER","set-tool-eraser"],["TAPE","set-tool-washi-tape"],["FRAME","set-tool-frame"],["RECTANGLE","set-tool-rectangle"],["PEN","set-tool-pen"],["TEXT","set-tool-type"]]);function er(e){return["PENCIL","HIGHLIGHTER","TAPE","ERASER"].includes(e)}function en(e){w.i46.triggerActionInUserEditScope(e,{source:"figma_mobile"})}let ei=T.wH.user("ios-native-toolbar",e=>{w.i46.nativeToolbarInsertItemOntoCanvas(e)});function ea(e,t){if(void 0!==e)switch(e){case x._A.V1:switch(t){case"design":return X();case"whiteboard":return{version:x._A.V1,fileType:"whiteboard",leadingBarItems:[],centerBarItems:[{itemType:x.zY.stack,itemStringType:"stack",identifier:"STACK_SELECT_HAND",items:[{itemType:x.zY.tool,itemStringType:"tool",identifier:"SELECT",iconImageURL:"https://static.figma.com/uploads/9cd5627bc7c9002caec32417933fb336962c7e00",buttonType:x.sD.utility},{itemType:x.zY.tool,itemStringType:"tool",identifier:"HAND",iconImageURL:"https://static.figma.com/uploads/b999f3725564d8196d79083d0d01437932f4f88a",buttonType:x.sD.utility}]},{itemType:x.zY.divider,itemStringType:"divider",identifier:"DIVIDER_1",padding:x.ao.trailing},{itemType:x.zY.drawingToolGroup,itemStringType:"drawingToolGroup",identifier:"DRAWING",tools:[{itemType:x.zY.tool,itemStringType:"tool",identifier:"PENCIL",iconImageURL:"https://static.figma.com/uploads/95407cf40a9b4e6961940a82ce9f58fd2da90e1f",submenu:{position:x.Ml.sideEdge,rowMaxSize:0,items:[{itemType:x._K.palette,itemStringType:"palette",identifier:"palettePencil",rowMaxSize:0,swatches:(0,Z.uk)((0,Z.ol)("PENCIL"),!0,"base")},{itemType:x._K.divider,itemStringType:"divider",identifier:"DIVIDER_PENCIL_1",padding:x.ao.none,axis:x.YT.vertical},{itemType:x._K.iconAction,itemStringType:"iconAction",identifier:"pencilThin",iconImageURL:"https://static.figma.com/uploads/0db399ca12fc8fb8892e1089ef99057f79767ffe",flashesOnPress:!1},{itemType:x._K.iconAction,itemStringType:"iconAction",identifier:"pencilThick",iconImageURL:"https://static.figma.com/uploads/c00afa5f8a9850b961592d291d35f0e24d61f528",flashesOnPress:!1},{itemType:x._K.divider,itemStringType:"divider",identifier:"DIVIDER_PENCIL_2",padding:x.ao.none,axis:x.YT.vertical},{itemType:x._K.iconAction,itemStringType:"iconAction",identifier:"straightLine",iconImageURL:"https://static.figma.com/uploads/15f58390d8f4345f1414b57ebd81d11cc95d114d",flashesOnPress:!1}]},buttonType:x.sD.drawing},{itemType:x.zY.tool,itemStringType:"tool",identifier:"HIGHLIGHTER",iconImageURL:"https://static.figma.com/uploads/3d3b3635536c8b5134ab706267f05276bd93c8f3",submenu:{position:x.Ml.sideEdge,rowMaxSize:0,items:[{itemType:x._K.palette,itemStringType:"palette",identifier:"paletteHighlighter",rowMaxSize:0,swatches:(0,Z.uk)((0,Z.ol)("HIGHLIGHTER"),!1,"highlight")},{itemType:x._K.divider,itemStringType:"divider",identifier:"DIVIDER_HIGHLIGHTER_1",padding:x.ao.none,axis:x.YT.vertical},{itemType:x._K.iconAction,itemStringType:"iconAction",identifier:"highlighterThin",iconImageURL:"https://static.figma.com/uploads/0db399ca12fc8fb8892e1089ef99057f79767ffe",flashesOnPress:!1},{itemType:x._K.iconAction,itemStringType:"iconAction",identifier:"highlighterThick",iconImageURL:"https://static.figma.com/uploads/c00afa5f8a9850b961592d291d35f0e24d61f528",flashesOnPress:!1},{itemType:x._K.divider,itemStringType:"divider",identifier:"DIVIDER_HIGHLIGHTER_2",padding:x.ao.none,axis:x.YT.vertical},{itemType:x._K.iconAction,itemStringType:"iconAction",identifier:"straightLine",iconImageURL:"https://static.figma.com/uploads/15f58390d8f4345f1414b57ebd81d11cc95d114d",flashesOnPress:!1}]},buttonType:x.sD.drawing},{itemType:x.zY.tool,itemStringType:"tool",identifier:"TAPE",iconImageURL:"https://static.figma.com/uploads/afcc32e60935f3760c53ac2165c6d9b60bb16b29",submenu:{position:x.Ml.sideEdge,rowMaxSize:0,items:[{itemType:x._K.palette,itemStringType:"palette",identifier:"paletteTape",rowMaxSize:0,swatches:(0,Z.ED)(Z.ot,!0)}]},buttonType:x.sD.drawing},{itemType:x.zY.tool,itemStringType:"tool",identifier:"ERASER",iconImageURL:"https://static.figma.com/uploads/76cba36d23a5bc4ca181a3f9485e12e1fa9835f1",buttonType:x.sD.drawing}]},{itemType:x.zY.divider,itemStringType:"divider",identifier:"DIVIDER_2",padding:x.ao.both},{itemType:x.zY.overflowingToolGroup,itemStringType:"overflowingToolGroup",identifier:"PRIMARY_OVERFLOWING_TOOL_GROUP",iconImageURL:"https://static.figma.com/uploads/6deaa95dc38b36ee8f961dde17bf26e5b793eb18",tools:[{identifier:"SHAPE",iconImageURL:"https://static.figma.com/uploads/a2733e2faaf29eb36c4295c338335913b175633c",submenu:{position:x.Ml.hoveringAboveBar,rowMaxSize:4,items:Z.aQ},overflowTitle:(0,Q.t)("mobile_toolbars.shape"),overflowIconImageURL:"https://static.figma.com/uploads/0be9510a23488137a678f01ac5cd896772a80296",webWantsSourceRect:!1,flashesOnPress:!1},{identifier:"STICKY",iconImageURL:"https://static.figma.com/uploads/b6b1bc0a50bc77eb596d759b04f361f562e728c7",overflowTitle:(0,Q.t)("fullscreen_actions.set-tool-sticky"),overflowIconImageURL:"https://static.figma.com/uploads/7a2d4171ef94d6eaea103c1c9bffdb06b8ec8287",webWantsSourceRect:!1,flashesOnPress:!1},{identifier:"TYPE",iconImageURL:"https://static.figma.com/uploads/51937510898a125b0ca175f5d7d02c605c48ed2d",renderIconInColor:!0,overflowTitle:(0,Q.t)("fullscreen_actions.set-tool-type"),overflowIconImageURL:"https://static.figma.com/uploads/c074b4868bc9231628c7b9e6a1614a754143175c",webWantsSourceRect:!1,flashesOnPress:!1},{identifier:"TABLE",iconImageURL:"https://static.figma.com/uploads/22b12dc561adb16ad97d99c02d49345f9def11ee",overflowTitle:(0,Q.t)("fullscreen_actions.set-tool-table"),overflowIconImageURL:"https://static.figma.com/uploads/eca2a1f86871da1c1d3cdb81c1a8b23c47aea144",webWantsSourceRect:!1,flashesOnPress:!1},{identifier:"SECTION",iconImageURL:"https://static.figma.com/uploads/24fff4c1aaa1d8b2a6770272e9125f6eb3a3beba",overflowTitle:(0,Q.t)("fullscreen_actions.set-tool-section"),overflowIconImageURL:"https://static.figma.com/uploads/a78ea67aa20314d68d6d39ac98cec99151cd7be1",webWantsSourceRect:!1,flashesOnPress:!1},{identifier:"STAMP",iconImageURL:"https://static.figma.com/uploads/3616f0c148716b9d60607811623d629f4305e662",overflowTitle:(0,Q.t)("fullscreen_actions.set-tool-stamp"),overflowIconImageURL:"https://static.figma.com/uploads/8529d36b4879c096a333662e64ea2ea1bab4613f",webWantsSourceRect:!0,flashesOnPress:!1},{identifier:"CONNECTOR",iconImageURL:"https://static.figma.com/uploads/cc0f6a01d9436a685b384d3a71382ebf5162131a",selectedIconImageURL:"https://static.figma.com/uploads/3a3405ca06b1ae40f4e7e35c950e602c8c19b016",renderIconInColor:!0,submenu:{position:x.Ml.hoveringAboveBar,rowMaxSize:0,items:[{itemType:x._K.iconAction,itemStringType:"iconAction",identifier:"ELBOWED",iconImageURL:"https://static.figma.com/uploads/b2ed461201ea92ddea96eec7dbd2581472b90982",flashesOnPress:!1},{itemType:x._K.iconAction,itemStringType:"iconAction",identifier:"STRAIGHT",iconImageURL:"https://static.figma.com/uploads/24fdae52d3a619a1f057011d4cc78d70b1d6134e",flashesOnPress:!1}]},overflowTitle:(0,Q.t)("mobile_toolbars.connector"),overflowIconImageURL:"https://static.figma.com/uploads/a85d1067323794696bcb38964add37587a0f3518",webWantsSourceRect:!1,flashesOnPress:!1},{identifier:"INSERT",iconImageURL:"https://static.figma.com/uploads/e2bdbb0b1823d382e51f72211ac291757a6b5c7d",highlightedIconImageURL:"https://static.figma.com/uploads/5b71e7229996334b6afb133d26f10b4f3bc3279e",selectedIconImageURL:"https://static.figma.com/uploads/ca5002d6c2b8fb319fa945819ebaf3a5eb703900",overflowTitle:(0,Q.t)("mobile_toolbars.universal_insert"),overflowIconImageURL:"https://static.figma.com/uploads/d8e8e439b0de3f0790a248cf1de5c58dd1e7eab0",webWantsSourceRect:!0,flashesOnPress:!1}]}],trailingBarItems:[]};default:return}case x._A.V2:switch(t){case"design":return X();case"whiteboard":return function(){let e=[{itemType:x.zY.divider,itemStringType:"divider",identifier:"DIVIDER_1",padding:x.ao.trailing},{itemType:x.zY.drawingToolGroup,itemStringType:"drawingToolGroup",identifier:"DRAWING",tools:[{itemType:x.zY.tool,itemStringType:"tool",identifier:"PENCIL",iconImageURL:"https://static.figma.com/uploads/95407cf40a9b4e6961940a82ce9f58fd2da90e1f",submenu:{position:x.Ml.sideEdge,rowMaxSize:0,items:[{itemType:x._K.palette,itemStringType:"palette",identifier:"palettePencil",rowMaxSize:0,swatches:(0,Z.uk)((0,Z.ol)("PENCIL"),!0,"base")},{itemType:x._K.divider,itemStringType:"divider",identifier:"DIVIDER_PENCIL_1",padding:x.ao.none,axis:x.YT.vertical},{itemType:x._K.iconAction,itemStringType:"iconAction",identifier:"markerDrawingOptions",iconImageURL:"https://static.figma.com/uploads/e138358eb8b3a07efda73c406e4c61cc3d9fe6d3",flashesOnPress:!1,submenu:{position:x.Ml.secondarySideEdge,rowMaxSize:0,items:Z.A$}},{itemType:x._K.iconAction,itemStringType:"iconAction",identifier:"straightLine",iconImageURL:"https://static.figma.com/uploads/15f58390d8f4345f1414b57ebd81d11cc95d114d",flashesOnPress:!1}]},buttonType:x.sD.drawing},{itemType:x.zY.tool,itemStringType:"tool",identifier:"HIGHLIGHTER",iconImageURL:"https://static.figma.com/uploads/3d3b3635536c8b5134ab706267f05276bd93c8f3",submenu:{position:x.Ml.sideEdge,rowMaxSize:0,items:[{itemType:x._K.palette,itemStringType:"palette",identifier:"paletteHighlighter",rowMaxSize:0,swatches:(0,Z.uk)((0,Z.ol)("HIGHLIGHTER"),!1,"highlight")},{itemType:x._K.divider,itemStringType:"divider",identifier:"DIVIDER_HIGHLIGHTER_1",padding:x.ao.none,axis:x.YT.vertical},{itemType:x._K.iconAction,itemStringType:"iconAction",identifier:"highlighterDrawingOptions",iconImageURL:"https://static.figma.com/uploads/c1837ca930ad93b0f6cc7e262e425757c34bca44",flashesOnPress:!1,submenu:{position:x.Ml.secondarySideEdge,rowMaxSize:0,items:Z.i_}},{itemType:x._K.iconAction,itemStringType:"iconAction",identifier:"straightLine",iconImageURL:"https://static.figma.com/uploads/15f58390d8f4345f1414b57ebd81d11cc95d114d",flashesOnPress:!1}]},buttonType:x.sD.drawing},{itemType:x.zY.tool,itemStringType:"tool",identifier:"TAPE",iconImageURL:"https://static.figma.com/uploads/afcc32e60935f3760c53ac2165c6d9b60bb16b29",submenu:{position:x.Ml.sideEdge,rowMaxSize:0,items:[{itemType:x._K.palette,itemStringType:"palette",identifier:"paletteTape",rowMaxSize:0,swatches:(0,Z.ED)(Z.ot,!0)}]},buttonType:x.sD.drawing},{itemType:x.zY.tool,itemStringType:"tool",identifier:"ERASER",iconImageURL:"https://static.figma.com/uploads/76cba36d23a5bc4ca181a3f9485e12e1fa9835f1",buttonType:x.sD.drawing}]},{itemType:x.zY.divider,itemStringType:"divider",identifier:"DIVIDER_2",padding:x.ao.both},{itemType:x.zY.overflowingToolGroup,itemStringType:"overflowingToolGroup",identifier:"PRIMARY_OVERFLOWING_TOOL_GROUP",iconImageURL:"https://static.figma.com/uploads/6deaa95dc38b36ee8f961dde17bf26e5b793eb18",tools:[{identifier:"SHAPE",iconImageURL:"https://static.figma.com/uploads/a2733e2faaf29eb36c4295c338335913b175633c",submenu:{position:x.Ml.hoveringAboveBar,rowMaxSize:4,items:Z.aQ},overflowTitle:(0,Q.t)("mobile_toolbars.shape"),overflowIconImageURL:"https://static.figma.com/uploads/0be9510a23488137a678f01ac5cd896772a80296",webWantsSourceRect:!1,flashesOnPress:!1},{identifier:"STICKY",iconImageURL:"https://static.figma.com/uploads/b6b1bc0a50bc77eb596d759b04f361f562e728c7",overflowTitle:(0,Q.t)("fullscreen_actions.set-tool-sticky"),overflowIconImageURL:"https://static.figma.com/uploads/7a2d4171ef94d6eaea103c1c9bffdb06b8ec8287",webWantsSourceRect:!1,flashesOnPress:!1},{identifier:"TYPE",iconImageURL:"https://static.figma.com/uploads/51937510898a125b0ca175f5d7d02c605c48ed2d",renderIconInColor:!0,overflowTitle:(0,Q.t)("fullscreen_actions.set-tool-type"),overflowIconImageURL:"https://static.figma.com/uploads/c074b4868bc9231628c7b9e6a1614a754143175c",webWantsSourceRect:!1,flashesOnPress:!1},{identifier:"TABLE",iconImageURL:"https://static.figma.com/uploads/22b12dc561adb16ad97d99c02d49345f9def11ee",overflowTitle:(0,Q.t)("fullscreen_actions.set-tool-table"),overflowIconImageURL:"https://static.figma.com/uploads/eca2a1f86871da1c1d3cdb81c1a8b23c47aea144",webWantsSourceRect:!1,flashesOnPress:!1},{identifier:"SECTION",iconImageURL:"https://static.figma.com/uploads/24fff4c1aaa1d8b2a6770272e9125f6eb3a3beba",overflowTitle:(0,Q.t)("fullscreen_actions.set-tool-section"),overflowIconImageURL:"https://static.figma.com/uploads/a78ea67aa20314d68d6d39ac98cec99151cd7be1",webWantsSourceRect:!1,flashesOnPress:!1},{identifier:"STAMP",iconImageURL:"https://static.figma.com/uploads/3616f0c148716b9d60607811623d629f4305e662",overflowTitle:(0,Q.t)("fullscreen_actions.set-tool-stamp"),overflowIconImageURL:"https://static.figma.com/uploads/8529d36b4879c096a333662e64ea2ea1bab4613f",webWantsSourceRect:!0,flashesOnPress:!1},{identifier:"CONNECTOR",iconImageURL:"https://static.figma.com/uploads/cc0f6a01d9436a685b384d3a71382ebf5162131a",selectedIconImageURL:"https://static.figma.com/uploads/3a3405ca06b1ae40f4e7e35c950e602c8c19b016",renderIconInColor:!0,submenu:{position:x.Ml.hoveringAboveBar,rowMaxSize:0,items:[{itemType:x._K.iconAction,itemStringType:"iconAction",identifier:"ELBOWED",iconImageURL:"https://static.figma.com/uploads/b2ed461201ea92ddea96eec7dbd2581472b90982",flashesOnPress:!1},{itemType:x._K.iconAction,itemStringType:"iconAction",identifier:"STRAIGHT",iconImageURL:"https://static.figma.com/uploads/24fdae52d3a619a1f057011d4cc78d70b1d6134e",flashesOnPress:!1}]},overflowTitle:(0,Q.t)("mobile_toolbars.connector"),overflowIconImageURL:"https://static.figma.com/uploads/a85d1067323794696bcb38964add37587a0f3518",webWantsSourceRect:!1,flashesOnPress:!1},{identifier:"INSERT",iconImageURL:"https://static.figma.com/uploads/e2bdbb0b1823d382e51f72211ac291757a6b5c7d",highlightedIconImageURL:"https://static.figma.com/uploads/5b71e7229996334b6afb133d26f10b4f3bc3279e",selectedIconImageURL:"https://static.figma.com/uploads/ca5002d6c2b8fb319fa945819ebaf3a5eb703900",overflowTitle:(0,Q.t)("mobile_toolbars.universal_insert"),overflowIconImageURL:"https://static.figma.com/uploads/d8e8e439b0de3f0790a248cf1de5c58dd1e7eab0",webWantsSourceRect:!0,flashesOnPress:!1}]}];if((0,p.Ub)().ipad_combined_hand_select){let t={itemType:x.zY.tool,itemStringType:"tool",identifier:"HANDSELECT",iconImageURL:"https://static.figma.com/uploads/4dafadfe17947e647b328747b416482febc48bfd",buttonType:x.sD.utility};e.unshift(t)}else{let t={itemType:x.zY.tool,itemStringType:"tool",identifier:"SELECT",iconImageURL:"https://static.figma.com/uploads/9cd5627bc7c9002caec32417933fb336962c7e00",buttonType:x.sD.utility},r={itemType:x.zY.tool,itemStringType:"tool",identifier:"HAND",iconImageURL:"https://static.figma.com/uploads/b999f3725564d8196d79083d0d01437932f4f88a",buttonType:x.sD.utility},n={itemType:x.zY.stack,itemStringType:"stack",identifier:"STACK_SELECT_HAND",items:[t,r]};e.unshift(n)}return{version:x._A.V2,fileType:"whiteboard",items:e}}();default:return}case x._A.V3:switch(t){case"design":return X();case"whiteboard":return function(){let e=[{itemType:x.zY.divider,itemStringType:"divider",identifier:"DIVIDER_1",padding:x.ao.trailing},{itemType:x.zY.drawingToolGroup,itemStringType:"drawingToolGroup",identifier:"DRAWING",tools:[{itemType:x.zY.tool,itemStringType:"tool",identifier:"PENCIL",iconImageURL:"https://static.figma.com/uploads/95407cf40a9b4e6961940a82ce9f58fd2da90e1f",submenu:{position:x.Ml.sideEdge,rowMaxSize:0,items:[{itemType:x._K.palette,itemStringType:"palette",identifier:"palettePencil",rowMaxSize:0,swatches:(0,Z.uk)((0,Z.ol)("PENCIL"),!0,"base")},{itemType:x._K.divider,itemStringType:"divider",identifier:"DIVIDER_PENCIL_1",padding:x.ao.none,axis:x.YT.vertical},{itemType:x._K.iconAction,itemStringType:"iconAction",identifier:"markerDrawingOptions",iconImageURL:"https://static.figma.com/uploads/e138358eb8b3a07efda73c406e4c61cc3d9fe6d3",flashesOnPress:!1,submenu:{position:x.Ml.secondarySideEdge,rowMaxSize:0,items:Z.A$}},{itemType:x._K.iconAction,itemStringType:"iconAction",identifier:"straightLine",iconImageURL:"https://static.figma.com/uploads/15f58390d8f4345f1414b57ebd81d11cc95d114d",flashesOnPress:!1}]},buttonType:x.sD.drawing},{itemType:x.zY.tool,itemStringType:"tool",identifier:"HIGHLIGHTER",iconImageURL:"https://static.figma.com/uploads/3d3b3635536c8b5134ab706267f05276bd93c8f3",submenu:{position:x.Ml.sideEdge,rowMaxSize:0,items:[{itemType:x._K.palette,itemStringType:"palette",identifier:"paletteHighlighter",rowMaxSize:0,swatches:(0,Z.uk)((0,Z.ol)("HIGHLIGHTER"),!1,"highlight")},{itemType:x._K.divider,itemStringType:"divider",identifier:"DIVIDER_HIGHLIGHTER_1",padding:x.ao.none,axis:x.YT.vertical},{itemType:x._K.iconAction,itemStringType:"iconAction",identifier:"highlighterDrawingOptions",iconImageURL:"https://static.figma.com/uploads/c1837ca930ad93b0f6cc7e262e425757c34bca44",flashesOnPress:!1,submenu:{position:x.Ml.secondarySideEdge,rowMaxSize:0,items:Z.i_}},{itemType:x._K.iconAction,itemStringType:"iconAction",identifier:"straightLine",iconImageURL:"https://static.figma.com/uploads/15f58390d8f4345f1414b57ebd81d11cc95d114d",flashesOnPress:!1}]},buttonType:x.sD.drawing},{itemType:x.zY.tool,itemStringType:"tool",identifier:"TAPE",iconImageURL:"https://static.figma.com/uploads/afcc32e60935f3760c53ac2165c6d9b60bb16b29",submenu:{position:x.Ml.sideEdge,rowMaxSize:0,items:[{itemType:x._K.palette,itemStringType:"palette",identifier:"paletteTape",rowMaxSize:0,swatches:(0,Z.ED)(Z.ot,!0)}]},buttonType:x.sD.drawing},{itemType:x.zY.tool,itemStringType:"tool",identifier:"ERASER",iconImageURL:"https://static.figma.com/uploads/76cba36d23a5bc4ca181a3f9485e12e1fa9835f1",buttonType:x.sD.drawing}]},{itemType:x.zY.divider,itemStringType:"divider",identifier:"DIVIDER_2",padding:x.ao.both},{itemType:x.zY.overflowingToolGroup,itemStringType:"overflowingToolGroup",identifier:"PRIMARY_OVERFLOWING_TOOL_GROUP",iconImageURL:"https://static.figma.com/uploads/6deaa95dc38b36ee8f961dde17bf26e5b793eb18",tools:[{identifier:"SHAPE",iconImageURL:"https://static.figma.com/uploads/a2733e2faaf29eb36c4295c338335913b175633c",submenu:{position:x.Ml.hoveringAboveBar,rowMaxSize:4,items:Z.aQ},overflowTitle:(0,Q.t)("mobile_toolbars.shape"),overflowIconImageURL:"https://static.figma.com/uploads/0be9510a23488137a678f01ac5cd896772a80296",webWantsSourceRect:!1,flashesOnPress:!1},{identifier:"STICKY",iconImageURL:"https://static.figma.com/uploads/b6b1bc0a50bc77eb596d759b04f361f562e728c7",overflowTitle:(0,Q.t)("fullscreen_actions.set-tool-sticky"),overflowIconImageURL:"https://static.figma.com/uploads/7a2d4171ef94d6eaea103c1c9bffdb06b8ec8287",webWantsSourceRect:!1,flashesOnPress:!1},{identifier:"TYPE",iconImageURL:"https://static.figma.com/uploads/51937510898a125b0ca175f5d7d02c605c48ed2d",renderIconInColor:!0,overflowTitle:(0,Q.t)("fullscreen_actions.set-tool-type"),overflowIconImageURL:"https://static.figma.com/uploads/c074b4868bc9231628c7b9e6a1614a754143175c",webWantsSourceRect:!1,flashesOnPress:!1},{identifier:"TABLE",iconImageURL:"https://static.figma.com/uploads/22b12dc561adb16ad97d99c02d49345f9def11ee",overflowTitle:(0,Q.t)("fullscreen_actions.set-tool-table"),overflowIconImageURL:"https://static.figma.com/uploads/eca2a1f86871da1c1d3cdb81c1a8b23c47aea144",webWantsSourceRect:!1,flashesOnPress:!1},{identifier:"SECTION",iconImageURL:"https://static.figma.com/uploads/24fff4c1aaa1d8b2a6770272e9125f6eb3a3beba",overflowTitle:(0,Q.t)("fullscreen_actions.set-tool-section"),overflowIconImageURL:"https://static.figma.com/uploads/a78ea67aa20314d68d6d39ac98cec99151cd7be1",webWantsSourceRect:!1,flashesOnPress:!1},{identifier:"STAMP",iconImageURL:"https://static.figma.com/uploads/3616f0c148716b9d60607811623d629f4305e662",overflowTitle:(0,Q.t)("fullscreen_actions.set-tool-stamp"),overflowIconImageURL:"https://static.figma.com/uploads/8529d36b4879c096a333662e64ea2ea1bab4613f",webWantsSourceRect:!0,flashesOnPress:!1},{identifier:"CONNECTOR",iconImageURL:"https://static.figma.com/uploads/cc0f6a01d9436a685b384d3a71382ebf5162131a",selectedIconImageURL:"https://static.figma.com/uploads/3a3405ca06b1ae40f4e7e35c950e602c8c19b016",renderIconInColor:!0,submenu:{position:x.Ml.hoveringAboveBar,rowMaxSize:0,items:[{itemType:x._K.iconAction,itemStringType:"iconAction",identifier:"ELBOWED",iconImageURL:"https://static.figma.com/uploads/b2ed461201ea92ddea96eec7dbd2581472b90982",flashesOnPress:!1},{itemType:x._K.iconAction,itemStringType:"iconAction",identifier:"STRAIGHT",iconImageURL:"https://static.figma.com/uploads/24fdae52d3a619a1f057011d4cc78d70b1d6134e",flashesOnPress:!1}]},overflowTitle:(0,Q.t)("mobile_toolbars.connector"),overflowIconImageURL:"https://static.figma.com/uploads/a85d1067323794696bcb38964add37587a0f3518",webWantsSourceRect:!1,flashesOnPress:!1},{identifier:"INSERT",iconImageURL:"https://static.figma.com/uploads/e2bdbb0b1823d382e51f72211ac291757a6b5c7d",highlightedIconImageURL:"https://static.figma.com/uploads/5b71e7229996334b6afb133d26f10b4f3bc3279e",selectedIconImageURL:"https://static.figma.com/uploads/ca5002d6c2b8fb319fa945819ebaf3a5eb703900",overflowTitle:(0,Q.t)("mobile_toolbars.universal_insert"),overflowIconImageURL:"https://static.figma.com/uploads/d8e8e439b0de3f0790a248cf1de5c58dd1e7eab0",webWantsSourceRect:!0,flashesOnPress:!1,menuPosition:x.QP.last}]}];if((0,p.Ub)().ipad_combined_hand_select){let t={itemType:x.zY.tool,itemStringType:"tool",identifier:"HANDSELECT",iconImageURL:"https://static.figma.com/uploads/4dafadfe17947e647b328747b416482febc48bfd",buttonType:x.sD.utility};e.unshift(t)}else{let t={itemType:x.zY.tool,itemStringType:"tool",identifier:"SELECT",iconImageURL:"https://static.figma.com/uploads/9cd5627bc7c9002caec32417933fb336962c7e00",buttonType:x.sD.utility},r={itemType:x.zY.tool,itemStringType:"tool",identifier:"HAND",iconImageURL:"https://static.figma.com/uploads/b999f3725564d8196d79083d0d01437932f4f88a",buttonType:x.sD.utility},n={itemType:x.zY.stack,itemStringType:"stack",identifier:"STACK_SELECT_HAND",items:[t,r]};e.unshift(n)}return{version:x._A.V3,fileType:"whiteboard",identifier:"PRIMARY",items:e}}();default:return}default:(0,c.gy)(e)}}function eo(e){switch(e.itemType){case x.zY.action:case x.zY.tool:case x.zY.divider:case x.zY.overflowingToolGroup:case x.zY.paletteSelector:case x.zY.menu:case x.zY.imageSelector:case x.zY.actionSelector:return[e];case x.zY.drawingToolGroup:return[e].concat(o()(e.tools,e=>eo(e)));case x.zY.stack:return[e].concat(o()(e.items,e=>eo(e)));case x.zY.itemGroupWithFallbacks:let t=o()(e.options,e=>e);return[e].concat(o()(t,e=>eo(e)))}}function el(e,t){let r=e=>{let r=[{type:"SOLID",color:t}];return e===y.gv?m.qM.set(y.gv,e=>({...e,paints:r})):m.qM.set(y.AD,e=>({...e,paints:r}))};switch(e){case"PENCIL":r(y.gv);break;case"HIGHLIGHTER":r(y.AD)}}function es(e,t,r){let n=e.find(([e,r])=>v.Q.format(t)===v.Q.format(e));return n?{settingsType:x.qI.presetColor,presetIdentifier:n[1],color:t,toolImageURL:r}:{settingsType:x.qI.customColor,color:t,toolImageURL:r}}let ec=()=>{var e,t;n.useEffect(()=>{(0,H.WK)(W._)},[]);let r=(0,i.w1)(e=>{var t;return null==(t=e.mirror)?void 0:t.appModel.isReadOnly}),{washiTapePaint:a}=(0,m.m4)(y.Ez),o=(null==(e=null==a?void 0:a.image)?void 0:e.hash)&&(0,g.Sm)(null==(t=null==a?void 0:a.image)?void 0:t.hash);n.useEffect(()=>{r||o||(0,H.m)((0,H.eC)(W._[0]))},[o,r])};function ed(){return void 0!==J()}function eu(e){let t=J(),r=(0,L.op)(),i=void 0!==t,a=(0,L.Mh)(),o=(0,L.SI)(),l=(0,O.ZR)("opacity"),[s,c]=n.useState(!1);n.useEffect(()=>{var n,i;let o=ea(t,e);if(o){if(a){let e=setTimeout(()=>{window.FigmaMobile.nativeToolbarSupportedVersions=void 0,a._native_toolbar_confirm_configuration=()=>{},(0,h.oP)(E._.MOBILE_EDITOR,Error(`Native toolbar did not confirm configuration before timeout, version ${t}`))},2e3);a._native_toolbar_confirm_configuration=()=>{var t;clearTimeout(e),c(!0),(0,p.Ub)().ipad_combined_hand_select&&(null==(t=w.KEP)||t.makeDefaultToolHandSelect())}}null==(n=null==r?void 0:r.nativeToolbarAcceptConfiguration)||n.call(r,o)}else null==(i=null==r?void 0:r.nativeToolbarRejected)||i.call(r)},[t,r,a,e]);let d=(0,F.M)();n.useEffect(()=>{i&&a&&(a._native_toolbar_perform_action=e=>{d(),en(e)})},[i,a,d]);let u=(0,V.g)();return n.useEffect(()=>{i&&a&&((0,z.g)(o),a._native_toolbar_set_tool_color=el,a._native_toolbar_set_tool_preset=(e,t)=>{switch(e){case"PENCIL":case"HIGHLIGHTER":let r=(0,Z.ol)(e).find(([e,r])=>r===t);r&&el(e,r[0]);break;case"TAPE":let n=Z.ot.find(e=>e.name===t);n&&(0,H.m)((0,H.eC)(n))}},a._native_toolbar_set_slider_value=(e,t)=>{switch(t){case"PRIMARY_PENCIL_OPACITY":m.qM.set(y.gv,t=>({...t,strokeOpacity:e}));break;case"CONTEXTUAL_PENCIL_OPACITY":l(e);break;case"imageCropSlider":if(!u)return;let{paint:r,onChange:n}=u,i=(0,U.SE)(r),a=(0,U.CI)(r,i,e);if(!a)return;n({...r,transform:a},M.MO.NO);break;default:console.error(`_native_toolbar_set_slider_value: tool ${t} not recognized`)}},a._native_toolbar_set_tool_image_data=(e,t,r)=>{if("TAPE"===e){let e=(0,f.P4)(r);w.i46.setCustomWashiTapeImageFromFile(e)}},a._native_toolbar_activate_submenu_item=e=>{var t=e;switch(Z._6.includes(e)?t="SHAPE_NAME":Z.kd.includes(e)?t="STROKE_WIDTH":Z.vr.includes(e)&&(t="HIGHLIGHTER_WIDTH"),t){case"pencilThin":m.qM.set(y.gv,e=>({...e,strokeWeight:B.mu}));break;case"pencilThick":m.qM.set(y.gv,e=>({...e,strokeWeight:B.YL}));break;case"highlighterThin":m.qM.set(y.AD,e=>({...e,strokeWeight:B.JQ}));break;case"highlighterThick":m.qM.set(y.AD,e=>({...e,strokeWeight:B.y6}));break;case"STROKE_WIDTH":let r=Z.mW.get(e);r&&m.qM.set(y.gv,e=>({...e,strokeWeight:r}));break;case"HIGHLIGHTER_WIDTH":let n=Z.cd.get(e);n&&m.qM.set(y.AD,e=>({...e,strokeWeight:n}));break;case"straightLine":en("toggle-straight-pencil");break;case"ELBOWED":ei(A.w3X.CONNECTOR_ELBOWED);break;case"STRAIGHT":ei(A.w3X.CONNECTOR_STRAIGHT);break;case"SHAPE_NAME":let i=G.uE.get(e);i&&ei(i)}})},[i,u,a,o,l]),[i,s]}let ep=(e,t=0)=>new Promise((r,n)=>{Promise.resolve().then(()=>{try{let i=(0,_.i)(e),a=`data:image/svg+xml,${encodeURIComponent(i)}`,o=new Image;o.decoding="sync",o.src=a,o.onload=()=>{setTimeout(()=>{let e=document.createElement("canvas");e.width=o.width,e.height=o.height;let t=e.getContext("2d");t?t.drawImage(o,0,0):r(void 0);let n=e.toDataURL();r(n)},t)},o.onerror=()=>n()}catch(e){console.error(e),n()}})}),em=async e=>{let t;let r=W._.find(t=>t.image===e);if(!(t=r?await (0,H.Q$)(r):w.a48.getCompressedImage(e)))return Promise.resolve(null);{let e="data:image/png;base64,"+(0,f.Su)(t),r=new Image;return r.src=e,await r.decode(),Promise.resolve({washiTapeImageURL:e,imageWidth:r.width,imageHeight:r.height})}};function e_(e){var t,r,a;let _=(0,L.op)(),{editorType:h}=e,f=(0,l.c)(e=>{var t;null==(t=null==_?void 0:_.nativeToolbarUpdateVisible)||t.call(_,e)},250),E=!(0,R.s$)();n.useEffect(()=>{f(E),E||f.flush()},[f,E]),n.useEffect(()=>()=>{f(!1),f.flush()},[f]),ec();let T=(0,N._o)();n.useEffect(()=>{var e;null==(e=null==_?void 0:_.nativeToolbarUpdateEnabled)||e.call(_,!T)},[T,_]);let O=J(),M=n.useMemo(()=>{let e=ea(O,h);return e?function(e){switch(e.version){case x._A.V1:{let t=e.leadingBarItems.concat(e.centerBarItems,e.trailingBarItems),r=o()(t,e=>eo(e));return o()(r,e=>e.itemType===x.zY.action?e.identifier:[])}case x._A.V2:case x._A.V3:{let t=o()(e.items,e=>eo(e));return o()(t,e=>e.itemType===x.zY.action?e.identifier:[])}default:(0,c.gy)(e)}}(e):[]},[O,h]),U=(0,i.w1)(e=>{let t=e.mirror.appModel;return M.filter(e=>(0,D.Ib)(t,e))}),G=(0,u.i)(U);n.useEffect(()=>{var e;!U||G&&(0,s.MF)(G,U)||null==(e=null==_?void 0:_.nativeToolbarUpdateEnabledActions)||e.call(_,U)},[_,U,G]);let V=ee((0,N.au)());(0,d.u)(()=>{var e;V&&(null==(e=null==_?void 0:_.nativeToolbarUpdateActiveTool)||e.call(_,V))});let H=n.useMemo(()=>(0,Z.ol)("PENCIL"),[]),W=(0,m.m4)(y.gv);n.useEffect(()=>{var e,t;let r=null==(t=null==(e=W.paints)?void 0:e[0])?void 0:t.color;r&&ep(n.createElement(q,{color:v.Q.format(r)})).then(e=>{var t,n;e&&(null==(t=null==_?void 0:_.nativeToolbarUpdateToolSettings)||t.call(_,"PENCIL",es(H,r,e)),null==(n=null==_?void 0:_.nativeToolbarUpdateToolSettings)||n.call(_,"PRIMARY_PENCIL_OPACITY",es(H,r,e)))}).catch(console.error)},[_,W,H]);let K=n.useMemo(()=>(0,Z.ol)("HIGHLIGHTER"),[]),Y=(0,m.m4)(y.AD);n.useEffect(()=>{var e,t;let r=null==(t=null==(e=Y.paints)?void 0:e[0])?void 0:t.color;r&&ep(n.createElement(j,{color:v.Q.format(r)})).then(e=>{var t;e&&(null==(t=null==_?void 0:_.nativeToolbarUpdateToolSettings)||t.call(_,"HIGHLIGHTER",es(K,r,e)))}).catch(console.error)},[_,Y,K]);let z=null==(t=(0,m.m4)(y.Ez).washiTapePaint)?void 0:t.image;n.useEffect(()=>{let e=null==z?void 0:z.hash;if(e){let t=(0,g.Sm)(e),r=Z.ot.find(e=>e.image===t);em(t).then(e=>{e&&ep(n.createElement($,{imageURL:e.washiTapeImageURL,imageWidth:e.imageWidth,imageHeight:e.imageHeight}),50).then(e=>{var n;if(e){let i;i=r?{settingsType:x.qI.presetImage,presetIdentifier:r.name,toolImageURL:e,color:{r:0,g:0,b:0,a:0}}:{settingsType:x.qI.customImage,imageIdentifier:t,toolImageURL:e,color:{r:0,g:0,b:0,a:0}},null==(n=null==_?void 0:_.nativeToolbarUpdateToolSettings)||n.call(_,"TAPE",i)}})})}},[_,z]);let Q=(0,P.U3)(null==(r=w.KEP)?void 0:r.editorState().pencilStraightLine,!1),X=(0,P.U3)(null==(a=w.KEP)?void 0:a.editorState().shiftStraightLine,!1),el=n.useMemo(()=>{let e=[];return W.strokeWeight===B.mu?e.push("pencilThin"):W.strokeWeight===B.YL&&e.push("pencilThick"),Y.strokeWeight===B.JQ?e.push("highlighterThin"):Y.strokeWeight===B.y6&&e.push("highlighterThick"),Z.mW.forEach((t,r)=>{t===W.strokeWeight&&e.push(r)}),Z.cd.forEach((t,r)=>{t===Y.strokeWeight&&e.push(r)}),(Q||X)&&e.push("straightLine"),e},[W.strokeWeight,Y.strokeWeight,Q,X]);function ed(e){return{viewportX:e.x+e.width/2,viewportY:e.y-(C.U+2+20)}}n.useEffect(()=>{var e;null==(e=null==_?void 0:_.nativeToolbarUpdateSelectedSubmenuItems)||e.call(_,el)},[_,el]);let eu=(0,R.Ut)(),e_=(0,i.w1)(e=>{let t=e.multiplayerEmoji;return"REACTING_OR_CHATTING"===t.type&&!!t.imageUrl}),eh=(0,n.useCallback)(e=>{if(eu)S.ae.closeWheel();else{let{viewportX:t,viewportY:r}=ed(e);S.ae.handleShortcutPressWithType({viewportX:t,viewportY:r,source:"figma_mobile",openedViaHover:!1,wheelType:"STAMP"}),S.ae.handleShortcutRelease(t,r)}},[eu]),eg=(0,n.useCallback)(e=>{if(eu){let{viewportX:t,viewportY:r}=ed(e);S.ae.updateEmojiWheelPosition(t,r)}},[eu]),ef=(0,R.y_)(),eE=(0,i.w1)(e=>e.universalInsertModal.pinned===k.a.NOT_PINNED),ey=(0,i.OY)(),eb=(0,n.useCallback)(e=>{ef?(eE&&en("set-tool-default"),ey(b.kv())):(e.y=e.y-30,en("clear-tool"),ey(b.KE({initialX:0,initialY:0,sourceRect:e})))},[ey,ef,eE]),ev=(0,i.w1)(e=>!!e.universalInsertModal.sourceRect),eI=(0,n.useCallback)(e=>{ev&&(e.y=e.y-30,ey(b.Gw({sourceRect:e})))},[ey,ev]);n.useEffect(()=>{var e;let t=[];(eu||e_)&&t.push("STAMP"),ef&&t.push("INSERT"),null==(e=null==_?void 0:_.nativeToolbarUpdateToolsShowingSubmenus)||e.call(_,t)},[_,eu,e_,ef]);let ew=(0,L.Mh)(),eT=(0,I.Y3)(),eS=(0,F.M)();return n.useEffect(()=>{ew&&(ew._native_toolbar_activate_tool=e=>{let t;eS(),(t=e===V&&er(V)?(0,p.Ub)().ipad_combined_hand_select?"set-tool-default":"set-tool-hand":et.get(e))&&en(t)},ew._native_toolbar_activate_default_tool=()=>{eS(),(0,p.Ub)().ipad_combined_hand_select?en("set-tool-default"):en("set-tool-hand")},ew._native_toolbar_activate_overflowing_tool=(e,t)=>{switch(t.y=t.y-eT,"INSERT"!==e&&eE&&ey(b.kv()),"STAMP"!==e&&eu&&S.ae.closeWheel(),e){case"SHAPE":case"CONNECTOR":break;case"STICKY":ei(A.w3X.STICKY);break;case"TYPE":ei(A.w3X.TYPE);break;case"SECTION":ei(A.w3X.SECTION);break;case"TABLE":ei(A.w3X.TABLE);break;case"STAMP":eh(t);break;case"INSERT":eb(t);break;case"FRAME":case"RECTANGLE":case"PEN":case"TEXT":let r;(r=e===V?"set-tool-hand":et.get(e))&&en(r)}},ew._native_toolbar_update_tool_source_rect=(e,t)=>{setTimeout(()=>{switch(t.y=t.y-eT,e){case"STAMP":eg(t);break;case"INSERT":eI(t)}},200)})},[ew,eT,eS,eh,eb,eg,eI,eu,V,eE,ey]),null}},814720:(e,t,r)=>{"use strict";r.d(t,{A$:()=>I,ED:()=>f,_6:()=>S,aQ:()=>E,cd:()=>m,i_:()=>T,kd:()=>C,mW:()=>p,ol:()=>h,ot:()=>_,uk:()=>g,vr:()=>A,wj:()=>w});var n=r(26708),i=r(762820),a=r(742152),o=r(489308),l=r(477308);let s=[i.iiI.BLACK,i.iiI.RED,i.iiI.ORANGE,i.iiI.YELLOW,i.iiI.GREEN,i.iiI.BLUE,i.iiI.VIOLET,i.iiI.WHITE],c=[{color:i.iiI.RED,palette:"base"},{color:i.iiI.ORANGE,palette:"base"},{color:i.iiI.YELLOW,palette:"base"},{color:i.iiI.GREEN,palette:"base"},{color:i.iiI.BLUE,palette:"base"},{color:i.iiI.VIOLET,palette:"base"},{color:i.iiI.RED_LIGHT,palette:"baseLight"},{color:i.iiI.ORANGE_LIGHT,palette:"baseLight"},{color:i.iiI.YELLOW_LIGHT,palette:"baseLight"},{color:i.iiI.GREEN_LIGHT,palette:"baseLight"},{color:i.iiI.BLUE_LIGHT,palette:"baseLight"},{color:i.iiI.VIOLET_LIGHT,palette:"baseLight"},{color:i.iiI.BLACK,palette:"base"},{color:i.iiI.GRAY_DARK,palette:"base"},{color:i.iiI.GRAY,palette:"baseLight"},{color:i.iiI.GRAY_LIGHT,palette:"baseLight"},{color:i.iiI.WHITE,palette:"base"}],d=[i.iiI.HIGHLIGHT_GRAY,i.iiI.HIGHLIGHT_RED,i.iiI.HIGHLIGHT_ORANGE,i.iiI.HIGHLIGHT_YELLOW,i.iiI.HIGHLIGHT_GREEN,i.iiI.HIGHLIGHT_BLUE,i.iiI.HIGHLIGHT_VIOLET],u=[i.iiI.STICKY_GRAY,i.iiI.STICKY_RED,i.iiI.STICKY_ORANGE,i.iiI.STICKY_YELLOW,i.iiI.STICKY_GREEN,i.iiI.STICKY_BLUE,i.iiI.STICKY_VIOLET,i.iiI.STICKY_PINK,i.iiI.STICKY_GRAY_LIGHT],p=new Map([["pencilStrokeWidth1",16],["pencilStrokeWidth2",12],["pencilStrokeWidth3",8],["pencilStrokeWidth4",6],["pencilStrokeWidth5",3]]),m=new Map([["highlighterStrokeWidth1",56],["highlighterStrokeWidth2",40],["highlighterStrokeWidth3",32],["highlighterStrokeWidth4",24],["highlighterStrokeWidth5",16]]),_=l._;function h(e){switch(e){case"PENCIL":return s.map(e=>[(0,o.yq)(e,"base"),o.ik.get(e)]);case"WHITEBOARD_COLOR":return c.map(({color:e,palette:t})=>[(0,o.yq)(e,t),o.ik.get(e)]);case"HIGHLIGHTER":return d.map(e=>[(0,o.yq)(e,"highlight"),o.ik.get(e)]);case"STICKY":return u.map(e=>[(0,o.yq)(e,"sticky"),o.ik.get(e)]);default:return[]}}function g(e,t,r){let i=e.map(e=>({type:a.qu.presetColor,color:function(e,t){let r=(0,o.cU)(e,t,"light");return n.Q.parse(r)}(e[0],r),presetIdentifier:e[1]}));return t&&i.push({type:a.qu.colorPicker}),i}function f(e,t){let r=e.map(e=>({type:a.qu.presetImage,presetIdentifier:e.name,imageIdentifier:e.image}));return t&&r.push({type:a.qu.imagePicker}),r}let E=[{itemType:a._K.iconAction,itemStringType:"iconAction",identifier:"SQUARE",iconImageURL:"https://static.figma.com/uploads/f79598e8524ca4f2fbc9a962a5d7215fca02e159",flashesOnPress:!1},{itemType:a._K.iconAction,itemStringType:"iconAction",identifier:"ELLIPSE",iconImageURL:"https://static.figma.com/uploads/23396f7f2f6eef50a1e368b2f0f1cd241d23d3af",flashesOnPress:!1},{itemType:a._K.iconAction,itemStringType:"iconAction",identifier:"DIAMOND",iconImageURL:"https://static.figma.com/uploads/6230a108b0c86154a1b0c1080d3e09b5cec4e613",flashesOnPress:!1},{itemType:a._K.iconAction,itemStringType:"iconAction",identifier:"TRIANGLE_UP",iconImageURL:"https://static.figma.com/uploads/c9cc7ce416ca0ec4f70dc3b225f09d31615da5b8",flashesOnPress:!1},{itemType:a._K.iconAction,itemStringType:"iconAction",identifier:"TRIANGLE_DOWN",iconImageURL:"https://static.figma.com/uploads/d4bda7bcec3cad2d69741a18cbdf63b8da82a99e",flashesOnPress:!1},{itemType:a._K.iconAction,itemStringType:"iconAction",identifier:"ROUNDED_RECTANGLE",iconImageURL:"https://static.figma.com/uploads/89d2895e6eb7b40fba803d4f672819c003cfb630",flashesOnPress:!1},{itemType:a._K.iconAction,itemStringType:"iconAction",identifier:"PARALLELOGRAM_RIGHT",iconImageURL:"https://static.figma.com/uploads/b55ccaf54dec26402c19d2d568c2a59256018d93",flashesOnPress:!1},{itemType:a._K.iconAction,itemStringType:"iconAction",identifier:"PARALLELOGRAM_LEFT",iconImageURL:"https://static.figma.com/uploads/42f42dcfa824b4e32e24969b933dffa9bf10084b",flashesOnPress:!1},{itemType:a._K.iconAction,itemStringType:"iconAction",identifier:"ENG_DATABASE",iconImageURL:"https://static.figma.com/uploads/9e251dc52c5cff0da404e87e08ccce028119432d",flashesOnPress:!1},{itemType:a._K.iconAction,itemStringType:"iconAction",identifier:"ENG_QUEUE",iconImageURL:"https://static.figma.com/uploads/af1de841856f01e74ad2920744377c0b2432fc97",flashesOnPress:!1},{itemType:a._K.iconAction,itemStringType:"iconAction",identifier:"ENG_FILE",iconImageURL:"https://static.figma.com/uploads/3aefd3083060dc3d1f8610d9ec5d9294d92395ec",flashesOnPress:!1},{itemType:a._K.iconAction,itemStringType:"iconAction",identifier:"ENG_FOLDER",iconImageURL:"https://static.figma.com/uploads/15a91df8c3e46310b0ecf10f8d9de1564fbc0e1b",flashesOnPress:!1}],y=[{itemType:a._K.iconAction,itemStringType:"iconAction",identifier:"pencilStrokeWidth1",iconImageURL:"https://static.figma.com/uploads/14c3a9f0a217ea9b2352087f4fa9941f7633e354",flashesOnPress:!1},{itemType:a._K.iconAction,itemStringType:"iconAction",identifier:"pencilStrokeWidth2",iconImageURL:"https://static.figma.com/uploads/78a20ca3c78da46c777767a5c2e48b8f08e34f6e",flashesOnPress:!1},{itemType:a._K.iconAction,itemStringType:"iconAction",identifier:"pencilStrokeWidth3",iconImageURL:"https://static.figma.com/uploads/e138358eb8b3a07efda73c406e4c61cc3d9fe6d3",flashesOnPress:!1},{itemType:a._K.iconAction,itemStringType:"iconAction",identifier:"pencilStrokeWidth4",iconImageURL:"https://static.figma.com/uploads/86d9302f61c6ae08fd157ee9f809410bbc9943a0",flashesOnPress:!1},{itemType:a._K.iconAction,itemStringType:"iconAction",identifier:"pencilStrokeWidth5",iconImageURL:"https://static.figma.com/uploads/5501e15bcfa02ecf2a362c7ce4bf7de6af44e268",flashesOnPress:!1}],b=[{itemType:a._K.divider,itemStringType:"divider",identifier:"VERTICAL_PENCIL_STROKE_DIVIDER",padding:a.ao.none,axis:a.YT.horizontal},{itemType:a._K.slider,itemStringType:"slider",identifier:"PRIMARY_PENCIL_OPACITY",start:.2,numIntervals:5,step:.2,axis:a.AF.vertical,sliderStyle:a.ch.gradient}],v=[{itemType:a._K.slider,itemStringType:"slider",identifier:"CONTEXTUAL_PENCIL_OPACITY",start:.2,numIntervals:5,step:.2,axis:a.AF.horizontal,sliderStyle:a.ch.gradient},{itemType:a._K.divider,itemStringType:"divider",identifier:"HORIZONTAL_PENCIL_STROKE_DIVIDER",padding:a.ao.none,axis:a.YT.vertical}],I=[...y,...b],w=[...v,...y.slice().reverse()],T=[{itemType:a._K.iconAction,itemStringType:"iconAction",identifier:"highlighterStrokeWidth1",iconImageURL:"https://static.figma.com/uploads/c147f32cfbda91123406824c6d820ddce58f165a",flashesOnPress:!1},{itemType:a._K.iconAction,itemStringType:"iconAction",identifier:"highlighterStrokeWidth2",iconImageURL:"https://static.figma.com/uploads/71078416a9e9151bf83f6db32d26955f77a66080",flashesOnPress:!1},{itemType:a._K.iconAction,itemStringType:"iconAction",identifier:"highlighterStrokeWidth3",iconImageURL:"https://static.figma.com/uploads/c1837ca930ad93b0f6cc7e262e425757c34bca44",flashesOnPress:!1},{itemType:a._K.iconAction,itemStringType:"iconAction",identifier:"highlighterStrokeWidth4",iconImageURL:"https://static.figma.com/uploads/67c151255ecd8c362abfe8fcfbb20e783c2bbab7",flashesOnPress:!1},{itemType:a._K.iconAction,itemStringType:"iconAction",identifier:"highlighterStrokeWidth5",iconImageURL:"https://static.figma.com/uploads/14e77850a70a88a5099d521df0e485d2662fdc03",flashesOnPress:!1}],S=E.map(e=>e.identifier),C=y.map(e=>e.identifier),A=T.map(e=>e.identifier)},190372:(e,t,r)=>{"use strict";r.d(t,{g:()=>l});var n=r(936756),i=r(762820),a=r(213132),o=r(477308);function l(e){e&&!e._native_toolbar_get_image_data&&(e._native_toolbar_get_image_data=async e=>{let t=o._.find(t=>t.image===e);if(t){let e=await (0,a.Q$)(t);return Promise.resolve((0,n.Su)(e))}{let t=i.a48.getCompressedImage(e);if(t)return Promise.resolve((0,n.Su)(t))}return Promise.resolve(null)})}},881467:(e,t,r)=>{"use strict";function n(e,t){return{id:e,...t}}r.d(t,{A$e:()=>s,A7w:()=>Z,AT$:()=>eu,ATC:()=>e7,ATb:()=>g,Ab_:()=>eF,Aj9:()=>tD,AlN:()=>et,CWd:()=>ek,C_B:()=>tr,Cfk:()=>ep,E5l:()=>eI,EDL:()=>ee,ESH:()=>es,ETB:()=>_,Eur:()=>U,G60:()=>R,GMn:()=>eG,GOF:()=>c,GQJ:()=>tM,GWm:()=>eS,GY7:()=>d,GaI:()=>el,GbB:()=>eY,GkQ:()=>tw,Gmh:()=>e$,GuW:()=>K,Gue:()=>e6,Gw2:()=>eD,I1:()=>tA,ItU:()=>C,KEc:()=>eP,KK5:()=>tF,KSS:()=>td,KWr:()=>tn,Lcf:()=>tl,M1T:()=>W,MZE:()=>$,O40:()=>tt,OOJ:()=>e_,OY0:()=>e5,Q$R:()=>en,QTG:()=>i,QXl:()=>tC,Qnb:()=>v,SC6:()=>H,SFx:()=>e2,SG6:()=>tR,SIG:()=>ed,SOE:()=>S,SWI:()=>to,SgF:()=>eU,Sq4:()=>tO,SyB:()=>eM,U3_:()=>eO,Udl:()=>e9,Uj6:()=>f,Ung:()=>tU,Uvi:()=>eb,WOq:()=>ev,WU$:()=>tI,Wu0:()=>o,WwD:()=>a,Wwg:()=>tP,Y1V:()=>tf,YdB:()=>tb,Yhy:()=>ei,Yvn:()=>X,_CV:()=>eh,_C_:()=>eW,_Qw:()=>ty,_qA:()=>T,_wO:()=>ea,a6N:()=>eZ,aMC:()=>eR,aOy:()=>ex,abD:()=>tT,aiX:()=>ta,ak5:()=>P,akT:()=>E,amh:()=>em,asI:()=>V,cR_:()=>ez,cls:()=>B,crj:()=>z,ctd:()=>tv,dXh:()=>h,e6M:()=>N,eUq:()=>eV,eWf:()=>ew,eY$:()=>eH,e_w:()=>D,eic:()=>tx,em4:()=>t_,eqj:()=>tS,g1n:()=>e0,g3m:()=>eQ,gNK:()=>tE,i2y:()=>eK,i83:()=>e3,iAr:()=>I,iae:()=>e1,icA:()=>eT,ier:()=>L,iiC:()=>Y,ijU:()=>y,iom:()=>eJ,k9g:()=>A,k9n:()=>M,kBA:()=>q,kTx:()=>ey,knl:()=>eo,kti:()=>eN,mEs:()=>e8,mYN:()=>ej,mcm:()=>x,mu:()=>tu,muL:()=>Q,myt:()=>ts,o39:()=>ef,o3w:()=>tm,o9x:()=>G,oDD:()=>te,oI$:()=>e4,oPK:()=>b,ohr:()=>F,olY:()=>eC,pE1:()=>th,q28:()=>J,qi_:()=>eE,qip:()=>tp,qmP:()=>k,qyr:()=>eq,s$k:()=>er,s37:()=>tN,sBZ:()=>tL,sJ0:()=>eA,uwp:()=>tg,w$H:()=>eB,wHu:()=>l,wJW:()=>eX,wRT:()=>ec,wlJ:()=>m,wu2:()=>O,xGw:()=>j,y09:()=>tc,y4c:()=>tk,y6E:()=>w,yHd:()=>eg,ySJ:()=>tB,yaU:()=>u,yiN:()=>ti,yp8:()=>eL,yuy:()=>p});let i=n("AccountProfileSwitcherPointer",{team:"explore"}),a=n("AdvancedPrototypingUpsellOverlay",{team:"monetization"}),o=n("AudioNux",{team:"feedback",queueOnBlock:!0}),l=n("AutogenPasswordOnboarding",{team:"scale",allowShowingIfModalPresent:!0}),s=n("BillingGroupAdminOnboarding",{team:"scale"}),c=n("BugReporterMachine",{team:"client_platform"}),d=n("CollectiveUpsellOverlay",{team:"monetization"}),u=n("CommunityCreatorMediaUpsellModal",{team:"community",queueOnBlock:!0}),p=n("CommunityDevModeFilterOnboarding",{team:"community",queueOnBlock:!0}),m=n("CommunityMonetizationMetricsTabOnboarding",{team:"community",queueOnBlock:!1}),_=n("CommunityProfileAdminDropdownOnboarding",{team:"community",queueOnBlock:!0}),h=n("CustomSectionsNudge",{team:"explore"}),g=n("CustomTemplatePublishNudge",{team:"figjam_engagement"}),f=n("DesignFileLinkExpiration",{team:"scale"}),E=n("DesignStartingPointsOverlay",{team:"activation"}),y=n("DesignSystemsLibrariesToolbarButton",{team:"design_systems_editor"}),b=n("DesktopTabBarHiddenMachine",{team:"desktop"}),v=n("DesktopDownloadModalPrompt",{team:"desktop"}),I=n("DevHandoffConfigWizard",{team:"developer_tools",queueOnBlock:!0}),w=n("DevHandoffMarketingOverlay",{team:"developer_tools"}),T=n("DevModeAnnotationIntroductionOverlay",{team:"developer_tools"}),S=n("DevModeLostPermissionPopup",{team:"developer_tools",queueOnBlock:!0}),C=n("DevModeDirectLinkPopup",{team:"developer_tools"}),A=n("DevModeApprovedAccessPopup",{team:"developer_tools"}),O=n("DevModeOptInEventOnlyOverlay",{team:"scale"}),N=n("EditorFigjamWhatsNew",{team:"figjam_engagement"}),L=n("EduPostVerification",{team:"activation"}),R=n("EduOffboarding",{team:"monetization"}),P=n("EnterpriseOrgAdminOnboarding",{team:"scale"}),M=n("ExpiringPublicLinksOnboarding",{team:"scale",allowShowingIfModalPresent:!0}),k=n("ExpiringLinksAndAutogenPwOnboarding",{team:"scale",allowShowingIfModalPresent:!0}),D=n("FigJamConnectGoogleDrive",{team:"figjam_meex"}),F=n("FigJamJamboardDelayedNuxQuestions",{team:"activation"}),x=n("FigJamJamboardImporterCallout",{team:"figjam_meex"}),U=n("FigJamPanZoomOnboardingDLTBannerOverlay",{team:"figjam_core",queueOnBlock:!0}),B=n("FigJamParticipantOnboardingOverlay",{team:"figjam_meex"}),G=n("FigJamTryConfirmSave",{team:"figjam_engagement",queueOnBlock:!0}),V=n("FigJamTryDeviceAlreadyClaimed",{team:"figjam_engagement",queueOnBlock:!0}),H=n("FigjamDisabledByOrgAcknowledgement",{team:"sharing_and_access",queueOnBlock:!0}),W=n("FigJamMindmapsOnboarding",{team:"figjam_core"}),K=n("FigmaBasicsTooltipOnboarding",{team:"activation",queueOnBlock:!0}),Y=n("FileBrowserFigjamWhatsNew",{team:"explore"}),q=n("Gen0WelcomeOverlay",{team:"activation"}),j=n("Gen1DesignOnboarding",{team:"activation",queueOnBlock:!0}),$=n("Gen1DesignOnboardingSync",{team:"activation",queueOnBlock:!0}),Z=n("Gen1WelcomeOverlay",{team:"activation",queueOnBlock:!0}),z=n("JapaneseLaunchAnnouncementMachine",{team:"growth_platform",queueOnBlock:!0}),Q=n("LibrariesWorkspaceOnboarding",{team:"scale",allowShowingIfModalPresent:!0}),X=n("LocalComponentDragDrop",{team:"monetization",queueOnBlock:!0}),J=n("MobileCommentDownloadModalPrompt",{team:"desktop"}),ee=n("MobileOnboardFileBrowser",{team:"activation",queueOnBlock:!0}),et=n("MobileProtoDownloadModalPrompt",{team:"desktop"}),er=n("MobileRedirect",{team:"activation",queueOnBlock:!0}),en=n("MoveDraftsNudge",{team:"monetization"}),ei=n("MoveDraftsNudgeV2",{team:"monetization"}),ea=n("MultiplayerObservationNux",{team:"feedback",queueOnBlock:!0}),eo=n("MultiplayerSpotlightNudgeNux",{team:"feedback"}),el=n("MultiplayerSpotlightNux",{team:"feedback",queueOnBlock:!0}),es=n("OnboardDesignEditor",{team:"activation",queueOnBlock:!0}),ec=n("OnboardFigJamEditor",{team:"figjam_engagement",queueOnBlock:!0}),ed=n("OnboardFigJamEditorBrowseTemplates",{team:"figjam_engagement",queueOnBlock:!0}),eu=n("OnboardFigJamEditorMakeSomething",{team:"figjam_engagement",queueOnBlock:!0}),ep=n("OnboardFigJamViewer",{team:"figjam_engagement",queueOnBlock:!0}),em=n("OnboardFigJamEditorUnified",{team:"figjam_engagement",queueOnBlock:!0}),e_=n("OnboardFigJamEditorUnifiedPanAndZoom",{team:"figjam_engagement",queueOnBlock:!0}),eh=n("OnboardFigJamEditorUnifiedProduct",{team:"figjam_engagement",queueOnBlock:!0}),eg=n("OnboardFileBrowser",{team:"activation",queueOnBlock:!0}),ef=n("OnboardOrgsWelcome",{team:"activation"}),eE=n("OpenPlaygroundFile",{team:"community"}),ey=n("OptimizedEditButton",{team:"monetization"}),eb=n("OrgAdminActivityOnboarding",{team:"scale"}),ev=n("OrgAdminLicenseGroupsOnboarding",{team:"scale"}),eI=n("OrgAdminMembersOnboarding",{team:"scale"}),ew=n("OrgAdminSelectionOnboarding",{team:"scale"}),eT=n("OrgAdminSurvey",{team:"scale"}),eS=n("OrgAdminTeamOnboarding",{team:"scale"}),eC=n("OrgAdminManageBillingGroup",{team:"scale"}),eA=n("OrgAdminWorkspacesOnboarding",{team:"scale"}),eO=n("OrgCartAbandonSurvey",{team:"monetization"}),eN=n("OrgSelectWorkspace",{team:"explore",queueOnBlock:!0}),eL=n("OrgTrialExpiredOverlay",{team:"monetization",queueOnBlock:!0}),eR=n("OrgTrialPendingOverlay",{team:"monetization",queueOnBlock:!0}),eP=n("OssSalesUpsell",{team:"monetization",queueOnBlock:!0}),eM=n("PanZoomAnnouncementOverlay",{team:"figjam_core",queueOnBlock:!0}),ek=n("PinnedCommentsCreatorEducationalOverlay",{team:"activation",queueOnBlock:!0}),eD=n("PinnedCommentsFeedbackGiverEducationalOverlay",{team:"activation",queueOnBlock:!0}),eF=n("PlanSpacesLaunchOverlay",{team:"monetization"}),ex=n("PlanSpacesNewStarterTeamOverlay",{team:"sharing_and_access"}),eU=n("PlanSpacesRecreatedStarterTeamOverlay",{team:"sharing_and_access"}),eB=n("PluginPublishInvitePublishersOnboardingNudgeModal",{team:"extensibility",allowShowingIfModalPresent:!0}),eG=n("PresetsBaselineNudge",{team:"activation"}),eV=n("ProCartAbandonSurvey",{team:"monetization"}),eH=n("ProfessionalBadgeOverlay",{team:"monetization",queueOnBlock:!0,allowShowingIfModalPresent:!0}),eW=n("ProOnboardingTeamMemberWelcomeOverlay",{team:"explore"}),eK=n("ProOnboardingPrivateProjectsOverlay",{team:"monetization"}),eY=n("ProOnboardingPrototypeOnlyLinksOverlay",{team:"monetization"}),eq=n("ProOnboardingUnlimitedProjectsOverlay",{team:"monetization"}),ej=n("ProOnboardingUnlimitedFilesOverlay",{team:"monetization"}),e$=n("ProOnboardingVariablesOverlay",{team:"monetization"}),eZ=n("ProOnboardingVotingOverlay",{team:"monetization"}),ez=n("ProTrialsV3AudioOverlay",{team:"monetization"}),eQ=n("ProTrialsV3ComponentPublishingOverlay",{team:"monetization"}),eX=n("ProTrialsV3EntryOverlay",{team:"monetization"}),eJ=n("ProTrialsV3ExpiryOverlay",{team:"monetization"}),e0=n("ProTrialsV3OpenSessionsOverlay",{team:"monetization"}),e1=n("ProTrialsV3PasswordProtectionOverlay",{team:"monetization"}),e2=n("ProTrialsV3TeamWelcomeOverlay",{team:"monetization"}),e4=n("ProTrialsV3UnlimitedPagesOverlay",{team:"monetization"}),e3=n("ProTrialsV3VideoOverlay",{team:"monetization"}),e6=n("PromoCodeCreateTeam",{team:"monetization"}),e8=n("PromoCodeSelectTeam",{team:"monetization"}),e5=n("SearchWorkspaceOnboarding",{team:"scale"}),e7=n("SharedFilesInRecentsPointer",{team:"explore"}),e9=n("SprigSurveysOverlay",{team:"community",queueOnBlock:!1}),te=n("TeamProjectLinkOverlay",{team:"monetization"}),tt=n("TextTruncationOnboarding",{team:"editor_usability"}),tr=n("UniversalUpgrade",{team:"monetization",queueOnBlock:!0}),tn=n("UpsellLibrariesConsecutivePaste",{team:"monetization",queueOnBlock:!0}),ti=n("ViewerToEditorOverlay",{team:"monetization"}),ta=n("WarningChromeVersion",{team:"scenegraph_and_sync"}),to=n("WorkflowInteropMachine",{team:"activation",queueOnBlock:!1}),tl=n("WorkshopPointer",{team:"figjam_core"}),ts=n("WorkspaceAdminOnboarding",{team:"scale"}),tc=n("WrappingMinMaxOnboarding",{team:"editor_usability"}),td=n("MultiEditLaunchAnnouncementMachine",{team:"editor_usability",queueOnBlock:!0}),tu=n("MultiEditTooltipFocusModeComponentSet",{team:"editor_usability",queueOnBlock:!0}),tp=n("MultiEditTooltipEnterTextEditMode",{team:"editor_usability",queueOnBlock:!0}),tm=n("MobileReplyUpsellAnnouncement",{team:"desktop"}),t_=n("MobileReplyUpsellHint",{team:"desktop"}),th=n("FigJamTemplatesWhatsNew",{team:"figjam_engagement"}),tg=n("ColorManagementDefaultToP3Modal",{team:"editor_usability",queueOnBlock:!0}),tf=n("OutlineModeShortcutPrefOverlay",{team:"text_and_vector"}),tE=n("FrameFormattingReactiveFollowUp",{team:"activation"}),ty=n("TextFormattingReactiveFollowUp",{team:"activation"}),tb=n("SetUserOnboardingProgressUserFlagsEventOnlyOverlay",{team:"activation"}),tv=n("FeedPostDetailZoomPanNudge",{team:"explore",allowShowingIfModalPresent:!0}),tI=n("TeamFeedFirstTimePost",{team:"explore"}),tw=n("TeamFeedWeeklyPrompt",{team:"explore"}),tT=n("TeamFeedAudienceSelection",{team:"explore",allowShowingIfModalPresent:!0}),tS=n("FigJamAiNewFileOverlay",{team:"figjam_engagement",queueOnBlock:!0}),tC=n("FigJamAiSummarizationNudgeOverlay",{team:"figjam_meex"}),tA=n("FigJamAISummarizationEntrpointPointerOverlay",{team:"figjam_meex"}),tO=n("FigJamAiToolbarOverlay",{team:"figjam_engagement"}),tN=n("FigJamSectionPresetsAnnouncementOverlay",{team:"figjam_engagement",queueOnBlock:!0}),tL=n("FigJamSectionPresetPickerCallout",{team:"figjam_engagement"}),tR=n("CursorBotV2Overlay",{team:"activation",queueOnBlock:!0}),tP=n("CursorBotFrameFormattingFollowUp",{team:"activation"}),tM=n("CursorBotTextFormattingFollowUp",{team:"activation"}),tk=n("TooltipsPlusPluginStep",{team:"activation"}),tD=n("SharingClarityAdminOnboardingOverlay",{team:"workflow"}),tF=n("SharingClarityProjectCreationPermissionOverlay",{team:"workflow",allowShowingIfModalPresent:!0}),tx=n("SharingClarityProjectCreationTeamAccessOverlay",{team:"workflow",allowShowingIfModalPresent:!0}),tU=n("SharingClarityProjectModalOverlay",{team:"workflow",allowShowingIfModalPresent:!0}),tB=n("SharingClarityTeamCreationOverlay",{team:"workflow",allowShowingIfModalPresent:!0})},535328:(e,t,r)=>{"use strict";let n;r.d(t,{yf:()=>eX.y,Ad:()=>eu,wd:()=>i.wd,OS:()=>e1.O,kp:()=>eH,pI:()=>i.pI,wX:()=>x,ms:()=>Z,_2:()=>K._,yG:()=>eJ.yG,Ws:()=>i.Ws,Kx:()=>i.Kx,im:()=>i.im,KP:()=>i.KP,$r:()=>i.$r,wj:()=>i.wj,gl:()=>i.gl,ch:()=>i.ch,Wd:()=>eQ,eW:()=>i.eW,oV:()=>eX.o,G4:()=>e0.G,Md:()=>ew.Md,uO:()=>ew.uO,Al:()=>ew.Al,y6:()=>k.y6});var i=r(767672),a=r(307824),o=r(120304),l=r(125504),s=r.n(l),c=r(372152),d=r(888932),u=r(698240),p=r(560072),m=r(403132),_=r(823252),h=r(417184),g=r(795236),f=r(142548),E=r(721500),y=r(760780);r(4580),r(843148),r(506616),r(148276);var b=r(771668);r(144459),r(441388),r(974636),r(12832);var v=r(778436);r(13088);var I=r(553432);r(362592),r(593940),r(878524),r(357652),r(881467),r(704772);var w=r(763456);let T=(0,E.qe)(w.ELe),S="file-retrieval-onboarding",C=v.s.isApple();var A=((n=A||{}).WORKSPACES="workspaces",n.TEAMS="teams",n.PROJECTS="projects",n.EMPTY="empty",n);function O({children:e}){return React.createElement("span",{className:classNames(keyboardShortcut,cx.borderBox.minW20.h20.p4.inlineFlex.itemsCenter.justifyCenter.colorBgSecondary.bRadius2.font12.fontNormal.colorIcon.$)},e)}function N({title:e,description:t,icon:r}){return React.createElement("div",{className:cx.flex.itemsCenter.gap16.$},React.createElement("div",{className:cx.hFitContent.colorBgSecondary.bRadius6.$},r),React.createElement("div",{className:cx.colorText.$},React.createElement(Tx,{id:"onboarding.file_retrieval.section_title_and_description",title:React.createElement("span",{className:cx.textBodyLargeStrong.$},e),description:React.createElement("span",{className:cx.textBodyLarge.$},t)})))}var L=r(475136),R=r(767876),P=r(219476);function M(){let e=(0,o.OY)(),t=(0,h.UP)(),r=(0,o.w1)(e=>(0,I.getPermissionsStateMemoized)(e));return a.useCallback(()=>{e(_.kh({searchScope:t?P.C4.COMMUNITY:r.currentUserOrgId?(0,I.canMemberOrg)(r.currentUserOrgId,r)?P.C4.ORG:P.C4.ORG_GUEST:P.C4.PERSONAL}))},[e,t,r])}var k=r(480312),D=r(693152),F=r(824928);function x(e){let t=e.isMobile??d.cp.mobile,r=(0,o.OY)(),n=(0,h.UP)(),i=(0,c.m4)(k.uk),l=(0,o.w1)(e=>"search"===e.selectedView.view),E=(0,o.w1)(e=>(0,g.Uh)(e)),[y,b,v]=function(){let[e,t]=a.useState(i||""),n=a.useCallback(()=>{t(""),r(_.V6({}))},[]);return[e,t,n]}(),I=(0,o.w1)(e=>e.search.parameters.searchScope),w=M(),T=(0,o.w1)(e=>e.selectedView),[C,A]=a.useState(T);a.useEffect(()=>{let e=(0,h.s7)(C)&&(0,h.QT)(T)||(0,h.QT)(C)&&(0,h.s7)(T),t=(0,h.QT)(C)&&(0,h.QT)(T);e||t||!(y.length>0)||"search"===T.view||v(),A(T),w()},[T]),a.useEffect(()=>{b(i)},[i,b]);let O=e=>{e.preventDefault(),i||w()},N=e=>{O(e)},P=t?e=>{l?history.go(-1):(r(m.Ej({view:"search",entryPoint:n?"community":"file_browser",previousView:T&&((0,L.MZ)(T)||(0,L.R4)(T))?T:void 0})),O(e))}:N,x=!t&&!e.inSidebar;return a.createElement("div",{className:u.cx.flexGrow1.relative.minW0.$,"data-tooltip-type":f.wL.TEXT,"data-tooltip":E?"Search temporarily disabled":void 0,"data-tooltip-show-below":!0,"data-tooltip-timeout-delay":50,"data-tooltip-max-width":300,"data-onboarding-key":S},t?a.createElement(R.k,{className:E?"search_button--disabledSearchActionMobile--EHTVy search_button--searchActionMobile--zxOlo search_button--searchAction--yuE1s":l?"search_button--searchActionActiveMobile--45U-P search_button--searchActionMobile--zxOlo search_button--searchAction--yuE1s":"search_button--searchActionMobile--zxOlo search_button--searchAction--yuE1s",svg:F.c,enabled:!0,onClick:P}):a.createElement("div",{className:s()({"search_button--disabledSearchAction--y0SbT search_button--searchAction--yuE1s":E,"search_button--searchAction--yuE1s":!e.inSidebar&&!E,"search_button--searchActionSidebar--C2cj5 search_button--searchAction--yuE1s":e.inSidebar&&!E})},a.createElement("div",{onClick:N,className:u.cx.wFull.$},a.createElement(D.C,{query:y,onQueryChanged:e=>b(e),searchScope:I,entryPoint:n?"community":"file_browser",placeholder:n?(0,p.t)("navbar.navbar.community_search_placeholder"):(0,p.t)("navbar.navbar.file_browser_search_placeholder"),useSidebarStyles:e.inSidebar,useBrowseIANavBarStyles:x,enableResultsPreview:!n}))))}var U=r(916924),B=r(886420),G=r(39676),V=r(978976),H=r(882980),W=r(418560),K=r(374496),Y=r(447296);class q extends a.Component{constructor(e){super(e),this.onScroll=e=>{this.updateIsTop(e.target)},this.updateIsTop=e=>{this.props.setScrollTop(window.pageYOffset)},this.shouldScroll=()=>0!==this.props.searchScrollTop,this.getLoadingKey=()=>_.kv.loadingKeyForPayload({parameters:this.props.parameters}),this.isLoading=()=>G.K0(this.props.loadingState,this.getLoadingKey()),this.didSucceed=()=>G.K_(this.props.loadingState,this.getLoadingKey()),this.didFail=()=>G.ay(this.props.loadingState,this.getLoadingKey()),this.getFailedReason=()=>G._m(this.props.loadingStateFailureReasons,this.getLoadingKey());let t=this.getFilteredResults(e.searchResults??[],e.sortFilterConfig);this.state={showContainer:!this.shouldScroll(),filteredFileResults:t}}componentDidMount(){window.addEventListener("scroll",this.onScroll,!0),this.shouldScroll()?setTimeout(()=>{window.scrollTo(0,this.props.searchScrollTop),this.setState({showContainer:!0})},0):this.updateIsTop({})}componentWillUnmount(){window.removeEventListener("scroll",this.onScroll,!0)}componentDidUpdate(e){if(this.props.searchModelType===P.gX.FILES){let t=e.searchResults??j,r=this.props.searchResults??j,n=t.length!==r.length;if(!n)for(let e=0;e<t.length;e++)(0,B.QZ)(t[e],r[e])||(n=!0);if(n){let e=this.getFilteredResults(r,this.props.sortFilterConfig);this.setState({...this.state,filteredFileResults:e})}}}getFilteredResults(e,t){return this.props.searchModelType===P.gX.FILES?e.filter(e=>{let r=e.model;switch(t.filters.fileType){case V.iq.ANY:return!0;case V.iq.DESIGN:return"design"===r.editor_type;case V.iq.FIGJAM:return"whiteboard"===r.editor_type;case V.iq.SLIDES:return"slides"===r.editor_type;case V.iq.PROTOTYPE:return!1;default:(0,U.gy)(t.filters.fileType)}}):e}render(){let e=this.props.searchResults??j,t=this.getFilteredResults(e,this.props.sortFilterConfig);return a.createElement(H.I,{key:"unified-search",toolbar:d.cp.mobile?a.createElement(W.O,null):void 0,viewbar:a.createElement(Y.C,{sortControlsDisabled:0===e.length}),viewBarSticky:!0,content:a.createElement(K.I,{searchResults:t,searchScope:this.props.parameters.searchScope,searchModelType:this.props.searchModelType,sortState:this.props.parameters.sortState,onChangeSortState:this.props.onChangeSortState,isLoading:this.isLoading(),didSucceed:this.didSucceed(),didFail:this.didFail(),failureMessage:this.getFailedReason(),query:this.props.completedQuery,planFilter:this.props.parameters.planFilter})})}}q.displayName="SearchPageView";let j=[],$=(0,o.Ul)((e,t)=>{let r=e.search.parameters,n=e.search.responses[t.searchModelType];return{parameters:r,completedQuery:e.search.completedQueries[t.searchModelType],searchResults:(null==n?void 0:n.results)||null,loadingState:e.loadingState,loadingStateFailureReasons:e.loadingStateFailureReasons,searchScrollTop:e.search.searchScrollTop,sortFilterConfig:e.tileSortFilterStateByView.search}},e=>({onChangeSortState:t=>{e(_.r2({sortState:t}))},setScrollTop:t=>{e(_._0({top:t}))}}))(q);function Z(){var e;let t=(0,o.w1)(e=>e.search.parameters),r=(null==(e=t.facetFilters)?void 0:e.searchModelType)?t.facetFilters.searchModelType:P.gX.FILES;return a.createElement($,{searchModelType:r})}var z=r(383456),Q=r(577824),X=r(672352),J=r(537096),ee=r(925388),et=r(375376),er=r(136736),en=r(685276),ei=r(333928),ea=r(37500),eo=r(562128),el=r(401360);let es="search_bar--selectedSearchResult--k9j9t",ec="search_bar--searchResultsSeparator--3qkZN";var ed=r(166996);function eu(e){let{searchBarRef:t,selectedSearchResultIndex:r,onFocusSearchBar:n}=e,i=(0,o.OY)(),l=(0,o.w1)(e=>e.desktopNewTab.isSearchBarFocused),s=(0,o.w1)(e=>e.desktopNewTab.searchQuery),c=(0,o.w1)(e=>e.search.completedQueries[P.gX.FILES]),d=(0,er.g)(),{isLoading:u,searchResults:p}=(0,er.U)(),m=(0,o.w1)(e=>(0,ee.yA)(e)),h=(0,a.useCallback)(e=>{""===s&&""!==e&&i(_.G_({entryPoint:"desktop_new_tab"})),i(ee.qq(e)),i(_.Zw({query:e,searchModelType:P.gX.FILES,searchScope:m,debounce:!0,searchTypeBehavior:P.iq.ONE_TYPE,precacheInactiveTypes:!1}))},[i,s,m]),g=(0,a.useCallback)(()=>{i(ee.qq("")),i(_.V6({}))},[i]),f=(0,a.useCallback)(e=>{n(),i(ee.MP(!0)),""===s||e||i(_.G_({entryPoint:"desktop_new_tab"}))},[i,n,s]),E=(0,a.useCallback)(()=>{i(ee.MP(!1)),i(_.gh())},[i]);return a.createElement("div",{className:"search_bar--root--q5m-I"},a.createElement(ep,{ref:t,query:s,onChange:h,onSubmitInput:e=>{e.preventDefault()},clearSearch:g,focusOnMount:!1,isFocused:l,onBlur:E,onFocus:f}),d&&a.createElement(em,{results:p,completedQuery:c,hasLoaded:!u,selectedIndex:r}))}let ep=a.forwardRef((e,t)=>{let{onFocus:r,clearSearch:n}=e,{searchInputRef:i,onMouseDown:o,onMouseUp:l,onClearSearchClick:s,onBlur:c,onSearchKeyDown:d,onSearchChange:u}=(0,X.yq)(e,t),m=(0,a.useCallback)(()=>{i.current&&(i.current.focus({preventScroll:!0}),r&&r(!0))},[i,r]);return(0,y.u)(m),(0,a.useEffect)(()=>{let e=()=>{"visible"===document.visibilityState&&(n(),m())};return document.addEventListener("visibilitychange",e),()=>document.removeEventListener("visibilitychange",e)},[n,m]),a.createElement("form",{onSubmit:e.onSubmitInput},a.createElement("div",{className:"search_bar--searchContainer--Nkv1c",onMouseDown:e=>{o(e),e.stopPropagation(),e.target.matches("input")||e.preventDefault()},onMouseUp:l,role:"presentation"},a.createElement(J.A,{className:"search_bar--searchIcon--9j3rS",svg:F.c}),a.createElement(Q.y,{ref:i,placeholder:(0,p.t)("desktop_new_tab.search.search_files_placeholder"),className:"search_bar--searchInput--2g9g5 text--fontPos13--xW8hS text--_fontBase--QdLsd",value:e.query,onBlur:c,onChange:u,onKeyDown:d,spellCheck:!1}),!!e.query&&a.createElement(J.A,{className:"search_bar--xIcon--8Zu2r",svg:ed.c,onClick:s})))});function em(e){let t=(0,o.OY)(),r=(0,o.w1)(e=>e.search),n=(0,o.w1)(e=>e.selectedView);return e.hasLoaded&&e.completedQuery&&r.queryId!==r.lastAckedQueryId&&(t(_.OI({lastAckedQueryId:r.queryId})),t(_.sX({sessionId:r.sessionId,query:r.parameters.query,queryId:r.queryId})),ea.c9.Session.trackClientResult(r,n)),a.createElement("div",{className:"search_bar--searchResults--lOjfN",onMouseDown:e=>{e.preventDefault(),e.stopPropagation()},role:"presentation"},e.hasLoaded&&e.completedQuery?0!==e.results.length?a.createElement(a.Fragment,null,e.results.map((t,r)=>a.createElement(e_,{key:t.model.key,result:t,isSelected:r===e.selectedIndex,index:r})),a.createElement("div",{className:ec}),a.createElement(eh,{isSelected:"see-all"===e.selectedIndex})):a.createElement("div",{className:"search_bar--emptySearchResults--QcQlN"},a.createElement("p",{className:"search_bar--emptySearchResultsMessage--V5jIc"},a.createElement(p.Tx,{id:"desktop_new_tab.search.no_file_results_matching",searchQuery:a.createElement("span",{className:"search_bar--searchResultsHighlightedQuery--KSBko"},e.completedQuery)}))):a.createElement("div",null,a.createElement(eg,null),a.createElement(eg,null),a.createElement(eg,null),a.createElement(eg,null),a.createElement(eg,null),a.createElement("div",{className:ec}),a.createElement(ef,null)))}function e_(e){var t;let r=(0,o.OY)(),n=(0,o.w1)(e=>e.folders),{result:i,index:l}=e,c=i.model,d=(0,a.useCallback)(e=>{e.preventDefault(),r(et.Aj({file:i.model})),r(ee.od({result:i,index:l,clickAction:ea.c9.Query.ClickAction.CLICK}))},[i,l,r]),u=(0,en.g)()(c),m=c.folder_id&&(null==(t=n[c.folder_id])?void 0:t.name),_=a.createElement(p.Tx,{id:"desktop_new_tab.edited_at_time_stamp",relativeTime:a.createElement(z.O,{date:c.touched_at})}),h=m?a.createElement(a.Fragment,null,m," \xb7 ",_):_;return a.createElement("a",{className:s()({"search_bar--searchResult--LMkun":!0,[es]:e.isSelected}),href:(0,ei.yi)(c),onClick:d},a.createElement(eo.wZ,{className:"search_bar--searchResultIcon--KAdHK",type:u}),a.createElement("div",{className:"search_bar--searchResultMetadata--xc09U ellipsis--ellipsis--Tjyfa"},a.createElement("div",{className:"search_bar--searchResultTitle--xIZR1 ellipsis--ellipsis--Tjyfa"},c.name),a.createElement("div",{className:"search_bar--searchResultSubtitle--6GiAE text--fontPos11--2LvXf text--_fontBase--QdLsd"},h)))}function eh(e){let t=(0,o.OY)(),r=(0,o.w1)(e=>e.desktopNewTab.searchQuery),n=(0,o.w1)(e=>e.currentUserOrgId),i=(0,el.Ap)(r,n,P.gX.FILES);return a.createElement("a",{className:s()({"search_bar--seeAllItem--pYyua":!0,[es]:e.isSelected}),href:i,onClick:()=>t(ee.Ip())},a.createElement("p",null,a.createElement(p.Tx,{id:"search.preview_item.see_all_search_results"})))}function eg(){return a.createElement("div",{className:"search_bar--searchResultLoadingItem--Oyq04"},a.createElement("div",{className:"search_bar--loadingIcon--2ojWE search_bar--loadingBox--xITSt"}),a.createElement("div",null,a.createElement("div",{className:"search_bar--loadingTitle--H79rQ search_bar--loadingBox--xITSt"}),a.createElement("div",{className:"search_bar--loadingSubtitle---xiB- search_bar--loadingBox--xITSt"})))}function ef(){return a.createElement("div",{className:"search_bar--seeAllLoadingItem--AOCy6"},a.createElement("div",{className:"search_bar--loadingSeeAll--swZiX search_bar--loadingBox--xITSt"}))}var eE=r(365224),ey=r(915880),eb=r(323576),ev=r(306440),eI=r(737248),ew=r(320236),eT=r(116572),eS=r(623800),eC=r(71556),eA=r(173292),eO=r(203736),eN=r(158196),eL=r(648984),eR=r(469772),eP=r(646242),eM=r(996304),ek=r(774700),eD=r(388148),eF=r(612028),ex=r(539812);let eU=(0,E.qe)(w.ya1),eB=(0,E.qe)(w.EBw),eG=(0,eO.U9)(function(){var e;let t=(0,o.OY)(),r=(0,o.w1)(e=>e.modalShown),n=(0,o.w1)(e=>e.search.sessionId),i=(0,c.m4)(k.uk),[l,s]=(0,c.lZ)(ew.AZ),d=(0,c.m4)(ew.QZ),u=(0,eD._)();a.useEffect(()=>()=>{n&&ea.c9.Session.searchModalExit(n)},[n]);let p=a.useCallback(()=>{t(eA.i.endSession()),l&&(s(null),u(P.aM.DROPDOWN,l))},[t,s,l,u]);if(!r)return null;let m=r.data.width?{width:`${r.data.width-2*eU}px`}:void 0;return a.createElement(eN.wJ,{dispatch:t,absolutePosition:{top:r.data.top,left:r.data.left},padding:`0 0 ${eU}px 0`,size:r.data.width??eB,tintedModalBackground:!1,useModalViewScroll:!1,maxHeight:"90vh",onHide:p,popStack:!0},a.createElement(ey.O8,null,a.createElement(eM.lI.Provider,{value:eM.Ug.PREVIEW},a.createElement("div",{className:ex.Ou,style:m},a.createElement(eS.c,{hideSearchPreview:null==(e=r.data)?void 0:e.hideSearchPreview})),a.createElement(eC.f,{className:ex.Ah},l&&a.createElement("div",{className:ex.gs},a.createElement(eL.o,{facetType:l,id:"facet-panel",path:[3]})),a.createElement(ek.S,{id:"suggestions",path:[4]}),r.data.hideSearchPreview?null:i||d.length>0?a.createElement(eP._,{id:"search-results",path:[5]}):a.createElement(eR.w,{id:"recents",path:[5]})))))},eF.M),eV=(0,E.qe)(w.ya1);function eH({hideSearchPreview:e,searchBarFullWidth:t}){let r=(0,o.OY)(),n=(0,o.w1)(e=>e.modalShown),i=(0,ev.c$)(),l=M(),[s,d]=(0,c.lZ)(k.y6),u=(0,c.m4)(ew.QZ),m=a.useRef(null),h=(0,eE.my)(ew.Md),g=a.useCallback(()=>{if(!m.current||(null==n?void 0:n.type)===eF.M)return;let i=m.current.getBoundingClientRect();r(eb.A5({type:eG,data:{top:i.top-eV,left:i.left-eV,hideSearchPreview:e,width:t?i.width+2*eV:void 0},showModalsBeneath:!0}))},[r,n,e,t]);(0,y.u)(()=>{l()}),a.useEffect(()=>{let e=e=>{e.metaKey&&"/"===e.key&&!n&&g()},t=e=>{"Tab"===e.key&&(null==n?void 0:n.type)===eF.M&&r(eb._g())};return document.addEventListener("keydown",e),document.addEventListener("keydown",t),()=>{document.removeEventListener("keydown",e),document.removeEventListener("keydown",t)}},[r,n,g]);let f=(0,c.m4)(eI.kV.isFragmentSearchAtom);return(a.useEffect(()=>{f||"search"===i.view||(r(_.V6({})),d(""),h())},[r,i,d,h,f]),"search"===i.view)?a.createElement("div",{className:"faceted_search_entrypoint--fullResultsSearchWrapper--MXIrX"},a.createElement(ey.O8,null,a.createElement(eS.c,null))):a.createElement("span",{"data-onboarding-key":S},a.createElement("div",{className:"faceted_search_entrypoint--inputWrapper--uu1FO search--searchContainerSidebarWithSelection--I54MO search--_expandingSearchBoxSidebarContainerBase--Mj7Ol search--searchContainerSidebar--JLCAb",onClick:g,onFocus:g,ref:m,role:"button",tabIndex:0},a.createElement(b.GW,{icon:"search-32"}),a.createElement("div",{className:"faceted_search_entrypoint--contentContainer--4YZBT"},a.createElement(eT.a,null),a.createElement(Q.y,{className:"faceted_search_entrypoint--input--YsWej faceted_search_bar--input--fyJRw",placeholder:0===u.length?(0,p.t)("search.search_bar.placeholder"):"",value:s})),!e&&a.createElement("div",{className:"faceted_search_entrypoint--leftFadeContainer--JwJoM faceted_search_bar--leftFadeContainer--qufK3 faceted_search_bar--_fadeContainer--4digk"})))}var eW=r(204792),eK=r(48504),eY=r(251596),eq=r(514916),ej=r(740718),e$=r(946544),eZ=r(231648),ez=r(906012);function eQ(e){var t,r,n,l,c,d,_,h,g;let f=(0,o.OY)(),E=a.useRef(null),y=(0,o.w1)(({dropdownShown:e})=>e),b=(0,o.w1)(e=>e.selectedView),v=(0,i.em)().valuesToDisplayText,I=(0,eY.sX)(),w=(0,o.w1)(e=>e.orgUsersByOrgId.orgUsers),T=a.useMemo(()=>null!==I&&Object.values(w).some(e=>{var t;return(null==(t=e[I])?void 0:t.permission)===eq.y6.ADMIN}),[I,w]),S=e.dropdownKey,C=S&&y&&y.type===e.dropdownKey&&y.data&&y.data.targetRect,A=!!S&&!!y&&(y.type===e.dropdownKey||y.type===(0,i.em)().dropdownId||y.type===i.ai||y.type===i.E9.dropdownId||y.type===i._s||y.type===i.AV),O=E.current,N=[a.createElement(eW.g.Option,{key:"tile-sort",children:a.createElement("div",{className:u.cx.flex.justifyBetween.itemsCenter.w150.pl16.$},v[e.sortFilterOptions.tileSortFilterConfig.sort.key],a.createElement(J.A,{svg:eZ.c})),onClick:e=>{f(eK.sX()),f(m.Qn({type:(0,i.em)().dropdownId,data:{targetRect:null==O?void 0:O.getBoundingClientRect()}})),e.stopPropagation()}}),a.createElement(eW.g.Separator,{key:""}),a.createElement(eW.g.CheckableOption,{key:"grid-view-toggle",checked:e.sortFilterOptions.tileSortFilterConfig.viewMode===V.MZ.GRID,onClick:()=>{e.onViewModeChange(V.MZ.GRID)},children:(0,p.t)("file_browser.view_mode_toggle.show_as_grid")}),a.createElement(eW.g.CheckableOption,{key:"list-view-toggle",checked:e.sortFilterOptions.tileSortFilterConfig.viewMode===V.MZ.LIST,onClick:()=>{e.onViewModeChange(V.MZ.LIST)},children:(0,p.t)("file_browser.view_mode_toggle.show_as_list")})];if((null==(t=e.filters)?void 0:t.orgDeletedDrafts)&&T&&N.unshift(a.createElement(eW.g.Option,{key:"tile-org-deleted-drafts-filter",children:a.createElement("div",{className:u.cx.flex.justifyBetween.itemsCenter.w150.pl16.$},e.filters.orgDeletedDrafts[e.sortFilterOptions.tileSortFilterConfig.filters.orgDeletedDrafts??""],a.createElement(J.A,{svg:eZ.c})),onClick:e=>{f(eK.sX()),f(m.Qn({type:i.ai,data:{targetRect:null==O?void 0:O.getBoundingClientRect()}})),e.stopPropagation()}})),(null==(r=e.filters)?void 0:r.fileType)||e.sortFilterOptions.tileSortFilterConfig.filters.fileType){let t=i.E9.valuesToDisplayText;N.unshift(a.createElement(eW.g.Option,{key:"tile-file-filter",children:a.createElement("div",{className:u.cx.flex.justifyBetween.itemsCenter.w150.pl16.$},t[e.sortFilterOptions.tileSortFilterConfig.filters.fileType],a.createElement(J.A,{svg:eZ.c})),onClick:e=>{f(eK.sX()),f(m.Qn({type:i.E9.dropdownId,data:{targetRect:null==O?void 0:O.getBoundingClientRect()}})),e.stopPropagation()}}))}return(null==(n=e.filters)?void 0:n.plan)&&N.unshift(a.createElement(eW.g.Option,{key:"tile-plan-filter",children:a.createElement("div",{className:u.cx.flex.justifyBetween.itemsCenter.w150.pl16.$},null==(c=e.filters.plan[(null==(l=e.sortFilterOptions.tileSortFilterConfig.filters.plan)?void 0:l.planId)??""])?void 0:c.label,a.createElement(J.A,{svg:eZ.c})),onClick:e=>{f(eK.sX()),f(m.Qn({type:i._s,data:{targetRect:null==O?void 0:O.getBoundingClientRect()}})),e.stopPropagation()}})),(null==(d=e.filters)?void 0:d.sharer)&&N.unshift(a.createElement(eW.g.Option,{key:"tile-sharer-filter",children:a.createElement("div",{className:u.cx.flex.justifyBetween.itemsCenter.w150.pl16.$},e.filters.sharer[e.sortFilterOptions.tileSortFilterConfig.filters.sharedBy??""],a.createElement(J.A,{svg:eZ.c})),onClick:e=>{f(eK.sX()),f(m.Qn({type:i.AV,data:{targetRect:null==O?void 0:O.getBoundingClientRect()}})),e.stopPropagation()}})),a.createElement("button",{ref:E,onClick:t=>{e.dropdownKey&&O&&f(m.Qn({type:e.dropdownKey,data:{targetRect:null==O?void 0:O.getBoundingClientRect()}}))},onMouseDown:e=>e.stopPropagation()},a.createElement("div",{className:s()(u.cx.flex.itemsCenter.bRadius4.pr6.colorIcon.$,{"tile_sort_filter_mobile_dropdown--dropdownSelected--uimRw":A})},a.createElement(J.A,{svg:ez.c}),a.createElement(J.A,{svg:e$.c})),C&&a.createElement(ej.Mx,{targetRect:y.data.targetRect,minWidth:172,maxWidth:172,propagateCloseClick:!0},N),a.createElement(i.gl,{options:e.sortFilterOptions,selectedView:b,dispatch:f,tab:e.tab,isMobile:!0}),a.createElement(i.Kx,{config:e.sortFilterOptions.tileSortFilterConfig,tab:e.tab,isMobile:!0}),(null==(_=e.filters)?void 0:_.orgDeletedDrafts)&&a.createElement(i.im,{config:e.sortFilterOptions.tileSortFilterConfig,filterOptions:e.filters.orgDeletedDrafts,tab:e.tab,isMobile:!0}),(null==(h=e.filters)?void 0:h.plan)&&a.createElement(i.KP,{config:e.sortFilterOptions.tileSortFilterConfig,filterOptions:e.filters.plan,tab:e.tab,isMobile:!0}),(null==(g=e.filters)?void 0:g.sharer)&&a.createElement(i.$r,{config:e.sortFilterOptions.tileSortFilterConfig,filterOptions:e.filters.sharer,tab:e.tab,isMobile:!0}))}var eX=r(598188),eJ=r(579552),e0=r(620688),e1=r(524312)},767672:(e,t,r)=>{"use strict";r.d(t,{wd:()=>V,ai:()=>ee,_s:()=>X,pI:()=>H,AV:()=>z,Ws:()=>j,Kx:()=>Z,im:()=>et,KP:()=>J,$r:()=>Q,wj:()=>W,gl:()=>en,ch:()=>k,Eb:()=>Y,eW:()=>G,em:()=>er,E9:()=>$,wR:()=>K});var n=r(307824),i=r(120304),a=r(250008),o=r(916924),l=r(204792),s=r(537096),c=r(698240),d=r(560072),u=r(948544),p=r(403132),m=r(823252),_=r(48504),h=r(90340),g=r(219604),f=r(251596),E=r(514916),y=r(114396),b=r(219476),v=r(978976),I=r(740718),w=r(583604);r(720516);var T=r(886916),S=r(892996),C=r(524312),A=r(818956),O=r(165952),N=r(326556);let L="tile_sort_filter--dropdownCollectionContainer--QGtvr",R="tile_sort_filter--sortFilterLabel--PJrQ2 text--fontPos11--2LvXf text--_fontBase--QdLsd";var P=r(597432);let M=l.g.Separator;class k extends n.PureComponent{render(){let e="deletedFiles"===this.props.selectedView.view,t=this.props.options.tileSortFilterConfig.viewMode===v.MZ.LIST;return n.createElement("div",{className:L},e&&n.createElement(j,{dispatch:this.props.dispatch,options:this.props.options,selectedView:this.props.selectedView,hideSortMenu:this.props.hideSortMenu}),n.createElement(Z,{config:this.props.options.tileSortFilterConfig}),!t&&!this.props.hideSortMenu&&n.createElement(en,{dispatch:this.props.dispatch,options:this.props.options,selectedView:this.props.selectedView,hideSortMenu:this.props.hideSortMenu}),t&&n.createElement(w.y,{query:"(max-width: 1120px)"},n.createElement(en,{dispatch:this.props.dispatch,options:this.props.options,selectedView:this.props.selectedView,hideSortMenu:this.props.hideSortMenu})))}}function D(){return n.createElement("div",{className:R},n.createElement(d.Tx,{id:"tile.sort_filter.sort_label"}))}function F(){return n.createElement("div",{className:R},n.createElement(d.Tx,{id:"tile.sort_filter.filter_label"}))}function x(){return n.createElement("div",{className:R},n.createElement(d.Tx,{id:"tile.sort_filter.from"}))}function U(){return n.createElement("div",{className:R},n.createElement(d.Tx,{id:"tile.sort_filter.plan"}))}function B(){return n.createElement("div",{className:R},n.createElement(d.Tx,{id:"tile.sort_filter.org_deleted_drafts"}))}function G(e){let t=(0,i.OY)();return n.createElement(n.Fragment,null,!e.hideSortMenu&&n.createElement("div",{className:c.cx.flex.$},n.createElement(D,null),n.createElement(en,{dispatch:t,options:e.options,selectedView:e.selectedView,hideSortMenu:e.hideSortMenu})))}function V(e){let t=(0,g.eA)(e.userId).user;return n.createElement("div",{className:c.cx.mr4.flex.itemsCenter.$},t&&n.createElement(u.iO,{user:t,size:14}))}function H(e){var t,r,a;let o=(0,i.w1)(e=>e.teams),l=(0,i.w1)(e=>e.orgById);if(!(null==(t=e.planOption)?void 0:t.plan_id))return null;let s="org"===e.planOption.plan_type&&e.planOption.plan_id?null==(r=l[e.planOption.plan_id])?void 0:r.img_url:null==(a=o[e.planOption.plan_id])?void 0:a.img_url;return n.createElement("div",{className:c.cx.flex.itemsCenter.$},n.createElement(S.I,{entityId:e.planOption.plan_id,entityName:e.planOption.label,imgUrl:s}))}function W(e){var t,r,a,o;let l="deletedFiles"===e.selectedView.view,s=(0,i.OY)(),c=(0,f.sX)(),d=(0,i.w1)(e=>e.orgUsersByOrgId.orgUsers),u=n.useMemo(()=>null!==c&&Object.values(d).some(e=>{var t;return(null==(t=e[c])?void 0:t.permission)===E.y6.ADMIN}),[c,d]),p="sharedWithYou"===e.selectedView.view&&null!=e.sharedWithYouFilters;return n.createElement("div",{className:L},p?n.createElement(n.Fragment,null,(null==(t=e.sharedWithYouFilters)?void 0:t.sharer)&&n.createElement(n.Fragment,null,n.createElement(x,null),n.createElement(Q,{config:e.options.tileSortFilterConfig,filterOptions:e.sharedWithYouFilters.sharer})),(null==(r=e.sharedWithYouFilters)?void 0:r.plan)&&n.createElement(n.Fragment,null,n.createElement(U,null),n.createElement(J,{config:e.options.tileSortFilterConfig,filterOptions:e.sharedWithYouFilters.plan})),(null==(a=e.sharedWithYouFilters)?void 0:a.fileType)&&n.createElement(n.Fragment,null,n.createElement(F,null),n.createElement(Z,{config:e.options.tileSortFilterConfig})),(null==(o=e.sharedWithYouFilters)?void 0:o.orgDeletedDrafts)&&u&&n.createElement(n.Fragment,null,n.createElement(B,null),n.createElement(et,{config:e.options.tileSortFilterConfig,filterOptions:e.sharedWithYouFilters.orgDeletedDrafts}))):n.createElement(n.Fragment,null,n.createElement(F,null),l&&n.createElement(j,{dispatch:s,options:e.options,selectedView:e.selectedView,hideSortMenu:e.hideSortMenu}),n.createElement(Z,{config:e.options.tileSortFilterConfig})))}k.displayName="TileSortFilter";let K={values:[v.sz.ASC,v.sz.DESC],valuesToDisplayText:(e,t)=>{switch(e){case v.sz.ASC:switch(t){case v.kT.TIME:return(0,d.t)("tile.sort_filter.sort_direction_oldest_first");case v.kT.ALPHABETICAL:return(0,d.t)("tile.sort_filter.sort_direction_a_to_z");default:return(0,d.t)("tile.sort_filter.sort_direction_ascending")}case v.sz.DESC:switch(t){case v.kT.TIME:return(0,d.t)("tile.sort_filter.sort_direction_newest_first");case v.kT.ALPHABETICAL:return(0,d.t)("tile.sort_filter.sort_direction_z_to_a");default:return(0,d.t)("tile.sort_filter.sort_direction_descending")}default:(0,o.gy)(e)}}};function Y(e){let t=(0,i.OY)(),r=(0,n.useRef)(null),o=(0,i.w1)(e=>e.dropdownShown),c=(null==o?void 0:o.type)===e.dropdownId,u=(0,i.w1)(e=>e.selectedView),m=e=>{e.stopPropagation()},h=n=>{t(_.sX()),c?t(p.yi()):r.current&&t(p.Qn({type:e.dropdownId,data:{targetRect:r.current.getBoundingClientRect()}})),m(n)},g=()=>{c&&t(p.yi())},f=t=>e.includeSortDirection,E=e.disabled?"tile_sort_filter--dropdownContainerDisabled--gWdUU tile_sort_filter--dropdownContainer--3JW6G text--fontPos11--2LvXf text--_fontBase--QdLsd":"tile_sort_filter--dropdownContainer--3JW6G text--fontPos11--2LvXf text--_fontBase--QdLsd",y=(t,r)=>{(0,a.we)("Sort Changed - Dropdown",{oldValueString:`${e.checkedValue}`,newValueString:`${t}`,model:`${e.searchModelType}`,dir:r===v.sz.ASC?"asc":r===v.sz.DESC?"desc":void 0}),e.onChange(t,r)},b=n.createElement(O.W,{dropdownId:e.dropdownId,dropdownChild:n.createElement(A.y,{checkedValue:e.checkedValue,currentDirection:e.includeSortDirection?e.currentDirection:null,tileSortValues:e.includeSortDirection?e.tileSortValues:[],dirValuesToDisplayText:K.valuesToDisplayText,values:e.values,valuesToDisplayText:e.valuesToDisplayText,onChange:e.onChange})}),w=c?n.createElement(I.Mx,{targetRect:o.data.targetRect,minWidth:162,showPoint:e.isMobile,lean:"right",leanPadding:0,maxHeight:e.maxHeight},!e.hideSortOptionLabel&&n.createElement(l.g.CheckableOption,{checked:!1,disabled:!0},n.createElement(d.Tx,{id:"tile.sort_filter.sort_by_label"})),e.values.map(t=>n.createElement(l.g.CheckableOptionTrackable,{key:t,checked:t===e.checkedValue,onClick:()=>{g(),y(t)},children:e.valuesToDisplayText[t]})),e.includeSortDirection&&n.createElement(n.Fragment,null,n.createElement(M,null),n.createElement(l.g.CheckableOption,{checked:!1,disabled:!0},n.createElement(d.Tx,{id:"tile.sort_filter.order_label"})),e.tileSortValues.map(t=>f(e.checkedValue)&&n.createElement(l.g.CheckableOptionTrackable,{key:K.valuesToDisplayText(t,(0,N.I)(e.checkedValue)),checked:e.currentDirection===t,onClick:()=>{g(),y(e.checkedValue,t)},children:K.valuesToDisplayText(t,(0,N.I)(e.checkedValue))})))):null;return e.isMobile?w:n.createElement("div",{className:`${E} ${e.className||""}`,onClick:e=>{m(e),h(e)}},n.createElement("span",{ref:r},e.textWhenClosedPrefix,e.hideValueWhenClosed||e.valuesToDisplayText[e.checkedValue]),n.createElement("div",{className:"tile_sort_filter--caretContainer--xvqYJ"},n.createElement(s.A,{svg:P.c,className:`tile_sort_filter--caret--4uvoG ${c?"tile_sort_filter--caretDown--EPNSS":""}`})),c?"search"===u.view?b:w:null)}let q={dropdownId:"tile-filter-creator-dropdown",values:[v._U.ANY,v._U.SELF,v._U.OTHER],textWhenClosedPrefix:"",valuesToDisplayText:{[v._U.ANY]:n.createElement(d.Tx,{id:"tile.sort_filter.created_by_anyone"}),[v._U.SELF]:n.createElement(d.Tx,{id:"tile.sort_filter.created_by_you"}),[v._U.OTHER]:n.createElement(d.Tx,{id:"tile.sort_filter.created_by_others"})}};class j extends n.PureComponent{constructor(){super(...arguments),this.onChange=e=>{let t=this.props.options.tileSortFilterConfig,r={...t,filters:{...t.filters,creator:e}};this.props.dispatch(p.Ij({selectedView:this.props.selectedView,config:r}))}}render(){return n.createElement(Y,{dropdownId:q.dropdownId,values:q.values,textWhenClosedPrefix:q.textWhenClosedPrefix,valuesToDisplayText:q.valuesToDisplayText,includeSortDirection:!1,checkedValue:this.props.options.tileSortFilterConfig.filters.creator,onChange:this.onChange,hideSortOptionLabel:!0})}}j.displayName="TileFilterCreatorDropdown";let $={dropdownId:"tile-filter-file-type-dropdown",values:[v.iq.ANY,v.iq.DESIGN,v.iq.FIGJAM],valuesToDisplayText:{[v.iq.ANY]:n.createElement(d.Tx,{id:"tile.sort_filter.filter_by_all_files"}),[v.iq.DESIGN]:n.createElement(d.Tx,{id:"tile.sort_filter.filter_by_design_files"}),[v.iq.FIGJAM]:n.createElement(d.Tx,{id:"tile.sort_filter.filter_by_figjam_files"}),[v.iq.PROTOTYPE]:n.createElement(d.Tx,{id:"tile.sort_filter.filter_by_prototype_files"}),[v.iq.SLIDES]:n.createElement(d.Tx,{id:"tile.sort_filter.filter_by_slides_files"})}};function Z(e){let t=(0,i.OY)(),r=(0,i.w1)(e=>e.selectedView),a="search"===r.view,o=(0,T.i)(),l="recentFiles"===r.view||"sharedWithYou"===r.view||"recentsAndSharing"===r.view,s=o?$.values.concat([v.iq.SLIDES]):$.values;return(s=l?s.concat([v.iq.PROTOTYPE]):s,"search"===r.view)?n.createElement(C.O,{dropdownId:"full-search-results-resource-facet-dropdown",facetType:b.NV.RESOURCE}):n.createElement(Y,{dropdownId:$.dropdownId,values:s,valuesToDisplayText:$.valuesToDisplayText,includeSortDirection:!1,checkedValue:e.config.filters.fileType,onChange:n=>{let i={...e.config,filters:{...e.config.filters,fileType:n}};a&&t(m.Gm({fileTypeFilter:n})),t(p.Ij({selectedView:r,config:i,tab:e.tab}))},hideSortOptionLabel:!0,disabled:e.filterControlsDisabled,isMobile:e.isMobile})}let z="tile-filter-sharer-dropdown";function Q(e){let t=(0,i.OY)(),r=(0,i.w1)(e=>e.selectedView);return n.createElement(Y,{dropdownId:z,values:Object.keys(e.filterOptions),valuesToDisplayText:e.filterOptions,includeSortDirection:!1,checkedValue:e.config.filters.sharedBy??"",onChange:n=>{let i={...e.config,filters:{...e.config.filters,sharedBy:n}},a="recentsAndSharing"===r.view?r.tab||y.e.RECENTLY_VIEWED:r.view;(0,h.Az)(n,a),t(p.Ij({selectedView:r,config:i,tab:e.tab}))},hideSortOptionLabel:!0,disabled:e.filterControlsDisabled,isMobile:e.isMobile,maxHeight:172})}let X="tile-filter-plan-dropdown";function J(e){var t,r,a;let o=(0,i.OY)(),l=(0,i.w1)(e=>e.selectedView),s=n.useMemo(()=>{let t={};return Object.entries(e.filterOptions).forEach(([e,r])=>{t[e]=r.label}),t},[e.filterOptions]);if((null==(t=e.config.filters.plan)?void 0:t.planId)&&!s[null==(r=e.config.filters.plan)?void 0:r.planId]){let t={...e.config,filters:{...e.config.filters,plan:{planId:void 0,planType:void 0}}};o(p.Ij({selectedView:l,config:t,tab:e.tab}))}return n.createElement(Y,{dropdownId:X,values:Object.keys(e.filterOptions),valuesToDisplayText:s,includeSortDirection:!1,checkedValue:(null==(a=e.config.filters.plan)?void 0:a.planId)??"",onChange:t=>{let{plan_id:r,plan_type:n}=e.filterOptions[t],i={...e.config,filters:{...e.config.filters,plan:{planId:r,planType:n}}},a="recentsAndSharing"===l.view?l.tab||y.e.RECENTLY_VIEWED:l.view;(0,h.SY)(r,a,n),o(p.Ij({selectedView:l,config:i,tab:e.tab}))},hideSortOptionLabel:!0,disabled:e.filterControlsDisabled,isMobile:e.isMobile,maxHeight:500})}let ee="tile-filter-org_deleted_drafts-dropdown";function et(e){let t=(0,i.OY)(),r=(0,i.w1)(e=>e.selectedView);return n.createElement(Y,{dropdownId:ee,values:Object.keys(e.filterOptions),valuesToDisplayText:e.filterOptions,includeSortDirection:!1,checkedValue:e.config.filters.orgDeletedDrafts??"",onChange:n=>{let i={...e.config,filters:{...e.config.filters,orgDeletedDrafts:n}};t(p.Ij({selectedView:r,config:i,tab:e.tab}))},hideSortOptionLabel:!0,disabled:e.filterControlsDisabled,isMobile:e.isMobile})}function er(e={}){return{dropdownId:"tile-sort-dropdown",textWhenClosedPrefix:"",valuesToDisplayText:{[v._2.CREATED_AT]:n.createElement(d.Tx,{id:"tile.sort_filter.sort_date_created"}),[v._2.TOUCHED_AT]:n.createElement(d.Tx,{id:"tile.sort_filter.sort_last_modified"}),[v._2.ACCESSED_AT]:n.createElement(d.Tx,{id:"tile.sort_filter.sort_last_viewed"}),[v._2.NAME]:n.createElement(d.Tx,{id:"tile.sort_filter.sort_alphabetical"}),[v._2.TRASHED_AT]:n.createElement(d.Tx,{id:"tile.sort_filter.sort_date_deleted"}),[v._2.SEARCH_RELEVANCE]:n.createElement(d.Tx,{id:"tile.sort_filter.sort_relevance"}),[v._2.SHARED_AT]:n.createElement(d.Tx,{id:"tile.sort_filter.date_shared"}),...e}}}class en extends n.PureComponent{constructor(){super(...arguments),this.getDefaultSortOrder=e=>({[v._2.NAME]:v.sz.ASC,[v._2.CREATED_AT]:v.sz.DESC,[v._2.TOUCHED_AT]:v.sz.DESC,[v._2.TRASHED_AT]:v.sz.DESC,[v._2.SEARCH_RELEVANCE]:v.sz.DESC,[v._2.PROJECT_NAME]:v.sz.ASC,[v._2.ACCESSED_AT]:v.sz.DESC,[v._2.SHARED_AT]:v.sz.DESC,[v._2.OWNER]:v.sz.DESC})[e]||v.sz.ASC,this.onChange=(e,t)=>{let r=this.props.options.tileSortFilterConfig,n=void 0===t?this.getDefaultSortOrder(e):t,i={...r,sort:{key:e,dir:n}};this.props.dispatch(p.Ij({selectedView:this.props.selectedView,config:i,tab:this.props.tab}))}}componentDidMount(){this.props.options.sortKeys.some(e=>e===this.props.options.tileSortFilterConfig.sort.key)||this.onChange(this.props.options.sortKeys[this.props.options.sortKeys.length-1],this.props.options.tileSortFilterConfig.sort.dir)}render(){return n.createElement(Y,{...er(),values:this.props.options.sortKeys,includeSortDirection:!0,tileSortValues:K.values,currentDirection:this.props.options.tileSortFilterConfig.sort.dir,checkedValue:this.props.options.tileSortFilterConfig.sort.key,onChange:this.onChange,isMobile:this.props.isMobile})}}en.displayName="TileSortDropdown"},598188:(e,t,r)=>{"use strict";r.d(t,{o:()=>d,y:()=>s});var n=r(307824),i=r(978976),a=r(767672),o=r(579552),l=r(374360);class s extends n.PureComponent{render(){return n.createElement("div",{className:`${l.uQ} ${this.props.className||""}`},n.createElement("div",{className:l.SW},this.props.leftSide),!!this.props.center&&n.createElement("div",{className:l.Uw},this.props.center),n.createElement("div",{className:l.i2},this.props.rightSide))}}s.displayName="BasicViewBar";let c=0;class d extends n.PureComponent{constructor(){super(...arguments),this.dropdownId=`view-bar-${c++}`,this.setViewMode=e=>{this.props.onChangeViewModeOption&&this.props.onChangeViewModeOption(e)},this.setSortKey=e=>{if(this.props.onChangeSortOptions){let r;let n=this.props.options;if(n.sortMode.sortKey===e)r=this.props.defaultSortKey&&n.viewMode===i.MZ.LIST&&n.sortMode.sortDesc?{sortKey:this.props.defaultSortKey,sortDesc:!1}:{...n.sortMode,sortDesc:!n.sortMode.sortDesc};else{var t=n.sortMode.sortDesc;this.props.initialSortOrders&&void 0!==this.props.initialSortOrders[e]&&(t=this.props.initialSortOrders[e]===i.sz.DESC),r={...n.sortMode,sortDesc:t,sortKey:e}}this.props.onChangeSortOptions(r)}}}render(){let e=this.props.options;return n.createElement(n.Fragment,null,n.createElement(s,{leftSide:n.createElement(a.Eb,{dropdownId:this.dropdownId,values:this.props.sortKeys,valuesToDisplayText:this.props.sortKeyDescriptions[e.viewMode],checkedValue:this.props.options.sortMode.sortKey,onChange:this.setSortKey,includeSortDirection:!0,tileSortValues:a.wR.values,currentDirection:e.sortMode.sortDesc?i.sz.DESC:i.sz.ASC}),rightSide:this.props.hideViewModeToggle?null:this.renderViewModeToggle()}))}renderViewModeToggle(){return n.createElement(o.yG,{initialViewMode:this.props.options.viewMode,onViewModeChange:this.setViewMode})}}},327112:(e,t,r)=>{"use strict";r.d(t,{AD:()=>g,Aj:()=>c,BX:()=>m,Ez:()=>b,I1:()=>p,MJ:()=>s,Om:()=>y,Q7:()=>E,Si:()=>u,YR:()=>f,c3:()=>d,cV:()=>_,gv:()=>h,um:()=>l});var n=r(762820),i=r(91640),a=r(836492),o=r(664964);let l=(0,i.W0)(null,{changeFileBehavior:i.Qr.RESET_VALUE_ON_FILE_CHANGE}),s=(0,i.W0)({total:0},{changeFileBehavior:i.Qr.RESET_VALUE_ON_FILE_CHANGE,equalityFn:Object.is}),c=(0,i.W0)(null,{changeFileBehavior:i.Qr.RESET_VALUE_ON_FILE_CHANGE}),d=(0,i.W0)(new Map,{changeFileBehavior:i.Qr.RESET_VALUE_ON_FILE_CHANGE}),u=(0,i.W0)(new Set,{changeFileBehavior:i.Qr.RESET_VALUE_ON_FILE_CHANGE}),p=(0,i.W0)(new Set,{changeFileBehavior:i.Qr.RESET_VALUE_ON_FILE_CHANGE}),m=(0,i.W0)({...a.sl},{changeFileBehavior:i.Qr.RESET_VALUE_ON_FILE_CHANGE}),_=(0,i.W0)({styles:[]},{changeFileBehavior:i.Qr.RESET_VALUE_ON_FILE_CHANGE}),h=(0,i.Ar)({paints:o.KO,strokeWeight:o.o7},e=>n.i46.updatePencilStyle(e),{changeFileBehavior:i.Qr.SHARE_SAME_VALUE_FOR_ALL_FILES}),g=(0,i.Ar)({paints:o.IZ,strokeWeight:24},e=>n.i46.updateHighlighterStyle(e),{changeFileBehavior:i.Qr.SHARE_SAME_VALUE_FOR_ALL_FILES}),f=(0,i.Ar)(o.AT,e=>n.i46.updateToolStyles({stickyColor:e}),{changeFileBehavior:i.Qr.SHARE_SAME_VALUE_FOR_ALL_FILES}),E=(0,i.Ar)(o.Gu,e=>n.i46.updateToolStyles({shapeColor:e}),{changeFileBehavior:i.Qr.SHARE_SAME_VALUE_FOR_ALL_FILES}),y=(0,i.Ar)(o.Gm,e=>n.i46.updateToolStyles({connectorToolColor:e}),{changeFileBehavior:i.Qr.SHARE_SAME_VALUE_FOR_ALL_FILES}),b=(0,i.Ar)({shapeWithTextType:"ELLIPSE",connectorToolLineStyle:"ELBOWED",connectorToolEndCap:"ARROW_LINES"},e=>n.i46.updateToolStyles(e),{changeFileBehavior:i.Qr.SHARE_SAME_VALUE_FOR_ALL_FILES})},578412:(e,t,r)=>{"use strict";let n,i,a,o,l,s,c;r.d(t,{C_:()=>_,Oo:()=>f,Qf:()=>m,cL:()=>u,o9:()=>d,oD:()=>E,qm:()=>g,wp:()=>h,yI:()=>p});var d=((n=d||{}).SIGN_IN="sign_in",n.CHECK_EMAIL_MAGIC_LINK_SIGN_IN_AFTER_PASSWORD="check_email_magic_link_sign_in_after_password",n.SAML_START="saml_start",n.SIGN_UP="sign_up",n.SIGN_UP_EXTRA_INFO="sign_up_extra_info",n.FORGOT_PASSWORD="forgot_password",n.SENT_PASSWORD_RESET="sent_password_reset",n.RESET_PASSWORD="reset_password",n.VALIDATE_EMAIL="validate_email",n.VALIDATE_CODE="validate_code",n.APP_AUTH_GRANT="app_auth_grant",n.APP_AUTH_REDEEM="app_auth_redeem",n.SSO_GATE="sso_gate",n.EMAIL_ONLY="email_only",n.ACCOUNT_PICKER="account_picker",n.JOIN_ORG="join_org",n.VERIFY_HUMAN="verify_human",n),u=((i=u||{})[i.UNAUTHORIZED=0]="UNAUTHORIZED",i[i.BAD_REQUEST=1]="BAD_REQUEST",i[i.NO_SAML=2]="NO_SAML",i[i.SAML_REQUIRED=3]="SAML_REQUIRED",i[i.MAGIC_LINK_LOGIN_NO_ACCOUNT=4]="MAGIC_LINK_LOGIN_NO_ACCOUNT",i),p=((a=p||{}).EMAIL="email",a.PASSWORD="password",a.VERIFICATION_CODE="verification_code",a.TOTP_KEY="totp_key",a.JOB_TITLE="job_title",a.USAGE_PURPOSE="usage_purpose",a),m=((o=m||{}).WORK="For work",o.PERSONAL="For personal use",o.EDU="For teaching or taking a class",o),_=((l=_||{}).GOOGLE="google",l.SAML="saml",l),h=((s=h||{}).DESKTOP="desktop",s.MIRROR="mirror",s.MOBILE="mobile",s.VSCODE="vscode",s.VSCODE_INSIDERS="vscode-insiders",s.VSCODE_CURSOR="vscode-cursor",s.FIGJAM_MOBILE="figjam_mobile",s),g=((c=g||{}).ACCESS_TOKEN="access_token",c.ID_TOKEN="id_token",c);let f="signed_up_from_open_sessions",E="auth_iframe_external_options"},971376:(e,t,r)=>{"use strict";r.d(t,{Gi:()=>d,Sm:()=>c,Uv:()=>l,gV:()=>o,wX:()=>s});var n=r(307824),i=r(441388),a=r(587096);function o(e){let{className:t,...r}=e;return n.createElement("button",{className:`${a.QH} ${t}`,type:"button",...r},e.children)}let l=(0,i.wB)(o);function s(e){let{className:t,...r}=e;return n.createElement("button",{className:`${a.Oi} ${t}`,type:"button",...r},e.children)}let c=(0,i.wB)(s);function d(e){let{className:t,...r}=e;return n.createElement("button",{className:`${a.Dj} ${t}`,type:"button",...r},e.children)}},756824:(e,t,r)=>{"use strict";r.d(t,{ED:()=>L,Gq:()=>P,IL:()=>k,Qh:()=>F,ek:()=>x});var n=r(307824),i=r(602216),a=r(280584),o=r(485876),l=r(173885),s=r(125504),c=r.n(s),d=r(633008),u=r(760780),p=r(623131),m=r(372152),_=r(87975),h=r(455200),g=r(594192),f=r(103839),E=r(703520),y=r(537096),b=r(560072),v=r(309812),I=r(116428),w=r(4388),T=r(639588),S=r(93564),C=r(702924),A=r(876180);let O=e=>(0,g.wl)(n.useContext(N),`Cannot use ${e} component outside of a ZoomPanContext!`),N=n.createContext(null),L=(0,p.Zf)(void 0);function R(e,t){let r=Number.MAX_VALUE;for(let n of e){let{containerDimensions:e,paddingPixels:i,imageWidth:a,imageHeight:o}=n,l=t?t.width:a,s=t?t.height:o;if(l<=0||s<=0)continue;let c=e.width-2*i,d=e.height-2*i;c<=0||d<=0||(r=Math.min(r,100*Math.min(c/l,d/s)))}return r}function P(e){let{zoomOnMousePointer:t}=e,r=n.useMemo(()=>e.zoomPercentageOptions.sort((e,t)=>e-t),[e.zoomPercentageOptions]),i=e.initialZoomPercentage??100,a={x:e.initialX??0,y:e.initialY??0},[o,l]=n.useState(!0),[s,c]=n.useState(!0),[d,p]=n.useState({zoomPercentage:i,position:a}),{zoomPercentage:_,position:g}=d,f=n.useCallback(e=>{p(t=>({...t,zoomPercentage:e}))},[]),E=n.useCallback(e=>{p(t=>({...t,position:e}))},[]),y=(0,m.m4)(L),[b,v]=n.useState(!1),[I,w]=n.useState(null),[S,C]=n.useState(new Set),[A,O]=n.useState(!1);n.useEffect(()=>{if(A&&(!o||0===S.size||y)){c(!1);return}let e=R(S);e<Number.MAX_VALUE&&(f(Math.min(e,100)),O(!0),c(!1))},[o,S,A,y,f]),n.useEffect(()=>{if(!y)return;let e=R(S,y);E({x:-(y.x+y.width/2),y:-(y.y+y.height/2)}),l(!1),f(Math.min(e,100))},[y,S,f,E]),n.useLayoutEffect(()=>{c(!0),y||(l(!0),f(i),E(a))},[e.resetStateOnChangeValue,f]);let P=n.useCallback(e=>{let r,n,i,a;for(let{containerDimensions:o,imageWidth:l,imageHeight:s}of(r=n=Number.MIN_SAFE_INTEGER,i=a=Number.MAX_SAFE_INTEGER,S)){if(l<=0&&s<=0)continue;let c=(o.width+l*e/100-10)/2,d=(o.height+s*e/100-10)/2;t?(r=Math.max(Number.MIN_SAFE_INTEGER,r!==Number.MIN_SAFE_INTEGER?Math.min(r,-c):-c),n=Math.max(Number.MIN_SAFE_INTEGER,n!==Number.MIN_SAFE_INTEGER?Math.min(n,-d):-d),i=Math.min(Number.MAX_SAFE_INTEGER,i!==Number.MAX_SAFE_INTEGER?Math.max(i,c):c),a=Math.min(Number.MAX_SAFE_INTEGER,a!==Number.MAX_SAFE_INTEGER?Math.max(a,d):d)):(r=Math.max(r,-c),n=Math.max(n,-d),i=Math.min(i,c),a=Math.min(a,d))}return{xmin:r,ymin:n,xmax:i,ymax:a}},[S,t]);n.useEffect(()=>{let{xmin:e,ymin:t,xmax:r,ymax:n}=P(_);p(i=>({...i,position:{x:(0,h.qk)(i.position.x,e,r),y:(0,h.qk)(i.position.y,t,n)}}))},[_,P]);let[M,k]=n.useState(!1),D=e=>{k(e.ctrlKey)};(0,u.u)(()=>(document.addEventListener("keydown",D),document.addEventListener("keyup",D),()=>{document.removeEventListener("keyup",D),document.removeEventListener("keydown",D)}));let F=e=>{e.preventDefault(),v(!1),w(null)},x=n.useCallback(e=>{if(e.stopPropagation(),e.preventDefault(),e.ctrlKey||e.metaKey){let n=e=>(0,h.qk)(e,r[0]||10,r[r.length-1]||400);return l(!1),p(({position:r,zoomPercentage:i})=>{let a=n(i/100*(0,T.O)(e,M)*100);if(t){let t=Array.from(S).find(t=>t.containerPosition.x<e.clientX&&t.containerPosition.y<e.clientY&&t.containerPosition.x+t.containerDimensions.width>e.clientX&&t.containerPosition.y+t.containerDimensions.height>e.clientY);if(t){let n=e.clientX-t.containerPosition.x-t.containerDimensions.width/2,o=e.clientY-t.containerPosition.y-t.containerDimensions.height/2,l=(n-r.x)*(1-a/i),s=(o-r.y)*(1-a/i),{xmin:c,ymin:d,xmax:u,ymax:p}=P(a);return{zoomPercentage:a,position:{x:(0,h.qk)(r.x+l,c,u),y:(0,h.qk)(r.y+s,d,p)}}}}return{zoomPercentage:a,position:r}}),!1}p(({position:t,zoomPercentage:r})=>{let{xmin:n,ymin:i,xmax:a,ymax:o}=P(r);return{zoomPercentage:r,position:{x:(0,h.qk)(t.x-e.deltaX,n,a),y:(0,h.qk)(t.y-e.deltaY,i,o)}}})},[S,r,P,M,t]);n.useEffect(()=>(document.addEventListener("mouseup",F),()=>{document.removeEventListener("mouseup",F)}));let U=n.useRef(null);return n.useEffect(()=>{let e=U.current;if(e)return e.addEventListener("wheel",x,{capture:!0,passive:!1}),()=>e.removeEventListener("wheel",x,{capture:!0})},[x]),n.createElement("div",{ref:U,onMouseUp:F,className:e.className},n.createElement(N.Provider,{value:{zoomPercentageOptions:r,zoomPercentage:_,position:g,containers:S,isFitZoom:o,isLoading:s,setZoomPercentage:f,setPosition:E,setContainers:C,setIsFitZoom:l,setIsLoading:c,initialZoomPercentage:i,handleMouseDown:e=>{e.preventDefault(),v(!0),w({x:e.clientX-g.x,y:e.clientY-g.y})},handleMouseUp:F,handleMouseMove:e=>{if(b&&null!==I){e.stopPropagation();let{xmin:t,ymin:r,xmax:n,ymax:i}=P(_);E({x:(0,h.qk)(e.clientX-I.x,t,n),y:(0,h.qk)(e.clientY-I.y,r,i)})}}}},e.children))}function M({canvasRef:e,containerRef:t,containerStyle:r,containerClassName:i,handleMouseMove:a,handleMouseDown:o,isDrawn:l,children:s}){return n.createElement("div",{className:c()(i,S._D),style:r,ref:t,onMouseDown:o,onMouseMove:a},!l&&n.createElement(E.M7,{className:S.OS}),n.createElement("canvas",{ref:e,className:S.S_}),s&&n.createElement("div",{style:{zIndex:1,width:"100%",height:"100%",overflow:"clip"}},s))}function k(e){let{Overlay:t}=e,{data:r,width:a,height:o,scale:l}=e.image,s=n.useRef(null),c=(0,d.m)(s)??d.V,u=n.useRef(null),p=24*l,{zoomPercentage:m,position:_,setContainers:h,handleMouseDown:g,handleMouseMove:E,isLoading:y}=O("ZoomPanCanvasContainer"),[b,v]=n.useState(!1);n.useEffect(()=>{var t;let r=(null==(t=s.current)?void 0:t.getBoundingClientRect())??{x:0,y:0},n={containerPosition:{x:r.x,y:r.y},containerDimensions:c,imageNode:i.findDOMNode(u.current),imageHeight:o/l,imageWidth:a/l,paddingPixels:e.paddingPixels??10};return h(e=>new Set([...e,n])),()=>{h(e=>(e.delete(n),e))}},[h,o,a,l,c,e.paddingPixels]);let T=n.useMemo(()=>r instanceof HTMLImageElement?(0,w.sx)(r):(0,w.ik)(r,new f.Cg(a,o)),[r,a,o]),S=Math.floor(a*m/100),C=Math.floor(o*m/100),A=n.useMemo(()=>{let e=Math.floor(a*m/100),t=Math.floor(o*m/100),r=document.createElement("canvas");r.width=e+2*p,r.height=t+2*p;let n=r.getContext("2d");return m<=25?n.imageSmoothingQuality="medium":m<=50&&(n.imageSmoothingQuality="low"),n.clearRect(0,0,r.width,r.height),n.drawImage(T,p,p,S,C),r},[T,m,p,a,o,S,C]),N=n.useCallback((e,t)=>[e/2-a/2*m/100,t/2-o/2*m/100],[a,o,m]),[L,R]=n.useState(void 0);return n.useEffect(()=>{if(!s.current||0===A.width||0===A.height||!c||y)return;let e=c.width,r=c.height,n=i.findDOMNode(u.current),d=n.getContext("2d"),m=window.devicePixelRatio||1,h=m*l,g=e*h,f=r*h;n.width!==g||n.height!==f?(n.width=g,n.height=f,n.style.width=e+"px",n.style.height=r+"px",d.scale(m,m)):d.clearRect(0,0,g,f);let[E,w]=N(e*l,r*l),T=Math.floor(E+_.x*l)-p,O=Math.floor(w+_.y*l)-p;if(d.drawImage(A,T,O),t){let e=S/a,t=C/o,r=I.A.identity();r.translate((T+p)/l,(O+p)/l),r.scale(e,t),R(r)}b||v(!0)},[_.x,_.y,A,N,s,p,l,y,c,b,m,S,C,a,o,t]),n.createElement(M,{canvasRef:u,containerRef:s,containerStyle:e.style,containerClassName:e.className,handleMouseDown:g,handleMouseMove:E,isDrawn:b},t&&L&&n.createElement(t,{transform:L}))}let D=(e,{sx:t,sy:r,sw:n,sh:i,dh:a,dw:o,dx:l,dy:s,scale:c,canvas:d})=>{e.drawImage(d,t*c,r*c,n*c,i*c,l,s,o,a)};function F(e){let{image:t,Overlay:r}=e,a=n.useRef(null),o=(0,d.m)(a)??d.V,l=n.useRef(null),s=window.devicePixelRatio||0,c=n.useMemo(()=>o!==d.V?function(e,t,r=1){let{width:n,height:i}=e.nodeBounds,a=Math.min(t.width/n,t.height/i)*r;return e.getImage({scale:a})}(t,o,s):void 0,[t,o,s]);n.useEffect(()=>{null===c&&t.showError()},[c,t]);let[u,p]=n.useState(null),{zoomPercentage:m,position:_,setContainers:h,handleMouseDown:g,handleMouseMove:E,isLoading:y}=O("ZoomPanCanvasContainer"),[b,v]=n.useState(!1);n.useEffect(()=>{var r;let n=(null==(r=a.current)?void 0:r.getBoundingClientRect())??{x:0,y:0},s={containerPosition:{x:n.x,y:n.y},containerDimensions:o,imageNode:i.findDOMNode(l.current),imageWidth:t.nodeBounds.width,imageHeight:t.nodeBounds.height,paddingPixels:e.paddingPixels??10};return h(e=>new Set([...e,s])),()=>{h(e=>(e.delete(s),e))}},[h,t,o,e.paddingPixels]);let T=n.useMemo(()=>c&&c.data.length>0?{canvasSpaceBounds:c.canvasSpaceBounds,scale:c.scale,canvas:(0,w.ik)(c.data,new f.Cg(c.width,c.height))}:null,[c]),S=n.useMemo(()=>u&&u.data.length>0?{canvasSpaceBounds:u.canvasSpaceBounds,scale:u.scale,canvas:(0,w.ik)(u.data,new f.Cg(u.width,u.height))}:null,[u]),C=n.useMemo(()=>{if(!a.current||y||!o)return null;let e=o.width,r=o.height,n=m/100,i=t.nodeBounds;return{canvasWidth:e,canvasHeight:r,zoomFactor:n,createImageSpec:({canvasSpaceBounds:t,canvas:a,scale:o},l)=>{let s=e/2-i.width*n/2+(t.x-i.x)*n,c=r/2-i.height*n/2+(t.y-i.y)*n,d=Math.floor(s+l.x),u=Math.floor(c+l.y),p=Math.max(-d/n,0),m=Math.max(-u/n,0),_=Math.min(t.width-p,e/n),h=Math.min(t.height-m,r/n);return{x:d,y:u,scale:o,sx:p,sy:m,sw:_,sh:h,dx:Math.max(0,d),dy:Math.max(0,u),dw:_*n,dh:h*n,canvas:a}}}},[y,o,m,t.nodeBounds]),A=n.useMemo(()=>C&&T&&C.createImageSpec(T,_),[C,T,_]),N=n.useMemo(()=>C&&S&&C.createImageSpec(S,_),[C,S,_]);n.useEffect(()=>{if(!A||!(null==C?void 0:C.canvasHeight)||!(null==C?void 0:C.canvasWidth))return;let{canvasHeight:e,canvasWidth:t}=C,r=requestAnimationFrame(()=>{let r=i.findDOMNode(l.current),n=r.getContext("2d");r.width!==t||r.height!==e?(r.width=t*s,r.height=e*s,r.style.width=t+"px",r.style.height=e+"px",n.scale(s,s)):n.clearRect(0,0,t,e),D(n,A),N&&D(n,N),b||v(!0)});return()=>cancelAnimationFrame(r)},[a,y,o,b,C,c,r,A,N,m,s]);let L=n.useMemo(()=>{if(!r||!(null==A?void 0:A.x)||!(null==A?void 0:A.y)||!(null==C?void 0:C.zoomFactor))return;let e=I.A.identity();return e.translate(A.x,A.y),e.scale(C.zoomFactor,C.zoomFactor),e},[null==A?void 0:A.x,null==A?void 0:A.y,null==C?void 0:C.zoomFactor,r]);return n.useEffect(()=>{if(!A||(null==C?void 0:C.zoomFactor)===void 0)return;let e={x:A.sx,y:A.sy,width:A.sw,height:A.sh},r=setTimeout(()=>{p(t.getImage({scale:C.zoomFactor*s,clipRect:e}))},200);return()=>clearTimeout(r)},[A,null==C?void 0:C.zoomFactor,t,s]),n.createElement(M,{canvasRef:l,containerRef:a,containerStyle:e.style,containerClassName:e.className,handleMouseDown:g,handleMouseMove:E,isDrawn:b},r&&L&&n.createElement(r,{transform:L}))}function x(e){let t=(0,v.Ci)(),{zoomPercentage:r,setZoomPercentage:i,isFitZoom:s,setIsFitZoom:c,setPosition:d,zoomPercentageOptions:u}=O("ZoomSelectorToolbar"),p=(0,m.lZ)(L)[1];n.useEffect(()=>{if(!e.keyboardShortcutsEnabled)return;let t=e=>{if(!e.metaKey&&!e.ctrlKey)return;let t=!0;switch(e.keyCode){case _.as.DASH:I();break;case _.as.EQUALS:E();break;default:t=!1}t&&(e.preventDefault(),e.stopPropagation())};return document.addEventListener("keydown",t),()=>document.removeEventListener("keydown",t)});let h=e=>{let t=0,n=u.length-1;for(;t<=n;){let e=Math.floor((t+n)/2);if(u[e]===r)return e;u[e]>r?n=e-1:t=e+1}return e?n:t},g=r>=u[u.length-1],f=r<=u[0],E=()=>{g||(c(!1),i(u[h(!0)+1]))},I=()=>{f||(c(!1),i(u[h(!1)-1]))},w=(e,t,r,i,s)=>s?n.createElement("div",{className:S.KU},n.createElement(a.w,{"aria-label":"ZOOM_IN"===t?(0,b.t)("collaboration.branching.zoom_in"):(0,b.t)("collaboration.branching.zoom_out"),disabled:i,onClick:r},"ZOOM_IN"===t?n.createElement(o.c,null):n.createElement(l.A,null))):n.createElement("button",{"aria-label":"ZOOM_IN"===t?(0,b.t)("collaboration.branching.zoom_in"):(0,b.t)("collaboration.branching.zoom_out"),className:i?S.M9:S.QD,onClick:r},n.createElement(y.A,{svg:e,useOriginalSrcFills_DEPRECATED:!0}));return n.createElement("div",{className:e.className},n.createElement("div",{className:S.El},w(C.c,"ZOOM_OUT",I,f,t),n.createElement("button",{onClick:()=>{p(void 0),s?i(100):d({x:0,y:0}),c(!s)},className:S.m},s?(0,b.t)("collaboration.branching.fit"):`${Math.round(r)}%`),w(A.c,"ZOOM_IN",E,g,t)))}},519756:(e,t,r)=>{"use strict";let n,i;r.d(t,{QJ:()=>a,WS:()=>l,ai:()=>c,q:()=>d,sJ:()=>p,y6:()=>o,yy:()=>s});var a=((n=a||{})[n.ROW=0]="ROW",n[n.TILE=1]="TILE",n[n.SEPARATOR=2]="SEPARATOR",n),o=((i=o||{}).LIBRARY="library",i.PAGE="page",i.NAME_GROUP="name group",i.LOCAL_COMPONENTS="local components",i.LOCAL_TEMPLATES="local templates",i.COMPONENTS="library components",i.TEMPLATES="library templates",i);function l(e){return 0===e.type&&"isSticky"in e&&e.isSticky}function s(e){return 0===e.type&&"isExpandable"in e&&e.isExpandable}function c(e){return 0===e.type&&"isButton"in e&&e.isButton}class d{constructor(e){this.allElements=[],this.isExpanded=e=>s(e)&&e.isExpanded,this.offsetTop=e}static getNextRenderedElementTop(e){if(!e||0===e.length)return 0;let t=e[e.length-1];return t.top+t.height}reset(){this.allElements=[]}getTotalHeight(){let e=0;for(let t of this.allElements)s(t)&&(e+=u(t));return d.getNextRenderedElementTop(this.allElements)+e}findExpandableElementWithKey(e){for(let t of function* e(t){for(let r of t)yield r,s(r)&&r.isExpanded&&(yield*e(r.children))}(this.allElements))if(s(t)&&t.key===e)return t;return null}getActualTop(e){let t=0;for(let r of this.allElements){if(r.key===e)return r.top+t;this.isExpanded(r)&&(t+=u(r))}return null}getRenderedElementsInView(e,t){let r=e-this.offsetTop,n=Math.ceil(t/2),i=Math.max(r-n,0),a=r+t+n,o=(e,t)=>!(e+t<i||e>a),c=(e,n)=>!(e+n<r||e>r+t),d=[],p={};for(let{element:e,actualTop:t}of function* e(t,r){for(let n of t){let t=r+n.top;if(yield{element:n,actualTop:t},s(n)&&n.isExpanded){let i=t+n.height;yield*e(n.children,i),r+=u(n)}}}(this.allElements,0))if(o(t,e.height)){p[e.key]=d.length;let r={...e,top:t};d.push(r)}let m=null,_=0;for(let e of d)if(r>0&&c(e.top,e.height)){0===e.type&&"isSticky"in e&&e.isSticky&&!(s(e)&&!e.isExpanded)?m=e:e.parent&&l(e.parent)&&(m={...e.parent,key:`${e.key}:parent`,isStaticRow:!0},d.push(m));break}return null!=m&&l(m)&&r>m.top&&(m.isFixed=!0,_=Math.max(r-m.top,0)),{elementsInView:d,stickyHeader:m&&m.isFixed?m:null,stickyHeaderOffset:_}}}let u=e=>{let t=0;if(e.isExpanded)for(let r of(t+=d.getNextRenderedElementTop(e.children),e.children))s(r)&&(t+=u(r));return t};function p(e){let t=e;for(;t&&!(s(t)&&["library","local components","local templates"].includes(t.rowType));)if(!(t=t.parent))return null;return t}},368608:(e,t,r)=>{"use strict";r.d(t,{U:()=>L,k:()=>A});var n=r(307824),i=r(120304),a=r(125504),o=r.n(a),l=r(250008),s=r(372152),c=r(87975),d=r(995076),u=r(323576),p=r(932735),m=r(490820),_=r(647812),h=r(392992),g=r(939540),f=r(176232),E=r(963768),y=r(968900),b=r(491296),v=r(171992),I=r(477352),w=r(425812),T=r(915880),S=r(50600),C=r(349024);function A({enableKeyboardNavigation:e,colIndex:t,rowIndex:r,isList:i,isTileSelected:a,renderedElement:o,shouldRefocusAfterKeyboardInsert:l}){return e?n.createElement(O,{colIndex:t,rowIndex:r,isList:i,isTileSelected:a,renderedElement:o,shouldRefocusAfterKeyboardInsert:l}):n.createElement(N,{enableKeyboardNavigation:e,isList:i,isTileSelected:a,renderedElement:o})}function O({colIndex:e,rowIndex:t,isList:r,isTileSelected:a,renderedElement:o,shouldRefocusAfterKeyboardInsert:l}){let s=n.useContext(f.y),c=(0,i.w1)(e=>e.modalShown),d=(0,i.w1)(h.AX),u=(0,b.y)(o.item,o.sectionPosition,o.sectionNameForTracking),m=(0,I.A)(o.item),g=(0,_.q)({canSwap:!0,openFileKey:d??"",sourceForTracking:"Asset Panel",insertAsChildOfCanvas:!0}),E=n.useCallback(()=>{(null==c?void 0:c.type)!==y.M||m||u()},[m,null==c?void 0:c.type,u]),v=n.useCallback(()=>{(null==c?void 0:c.type)!==y.M&&(null==s||s.onOpenFlyout(o.item,o.sectionPosition,o.sectionNameForTracking))},[s,null==c?void 0:c.type,o.item,o.sectionPosition,o.sectionNameForTracking]),{keyboardNavigationItem:w,setKeyboardNavigationElement:S}=(0,T._G)({path:[1,t],column:r?null:e,id:(0,p.M)(o.item),onFocus:E}),C=L({colIndex:e,rowIndex:t,isList:r,keyboardNavigationItem:w,onComponentInsertSwap:g,onOpenFlyout:v,...o,shouldRefocusAfterKeyboardInsert:l}),A=n.useCallback(e=>{(0!==e.detail||e.nativeEvent.pointerType)&&v()},[v]);return n.createElement(N,{enableKeyboardNavigation:!0,isList:r,isShownInFlyout:m,isTileSelected:a,onKeyDown:C,onClick:A,onSetKeyboardNavigationElement:S,renderedElement:o})}function N({enableKeyboardNavigation:e,isList:t,isShownInFlyout:r,isTileSelected:i,onKeyDown:a,onClick:l,onSetKeyboardNavigationElement:c,renderedElement:d}){let u=(0,s.m4)(E.g),p=(null==i?void 0:i(d))??!1;n.useEffect(()=>{t?d.element=n.cloneElement(d.element,{}):d.element=n.cloneElement(d.element,{selected:p})},[t,p,d]);let m={top:d.top,left:d.left,height:t?d.height:void 0},_=o()(t?C.CK:C.yS,{[S.ul]:!t,[C.sR]:t&&r,[C.nL]:t&&r&&u});return e||a||l?n.createElement("button",{key:d.key,style:m,className:_,onKeyDown:a,onClick:l,ref:c},d.element):n.createElement("div",{key:d.key,style:m,className:_},d.element)}function L({onComponentInsertSwap:e,onOpenFlyout:t,keyboardNavigationItem:r,item:a,sectionNameForTracking:o,sectionPosition:s,shouldRefocusAfterKeyboardInsert:p,rowIndex:_,colIndex:f,isList:E,sourceForTracking:b}){let I=(0,i.OY)(),T=(0,i.w1)(e=>e.modalShown),S=(0,i.w1)(h.AX),C=(0,w.w)(),A=(0,m.Ud)({assetKey:(0,m.OC)(a),assetFileKey:(0,d.j)(a),assetLibraryKey:a.library_key,assetType:a.type,isList:E,sectionNameforTracking:o,sectionPosition:s,sourceForTracking:b??v.wt,aiScore:a.ai_score??void 0,lexicalScore:a.lexical_score??void 0}),O=n.useCallback(e=>{l.qE.trackDefinedEvent("assets_panel.keyboard_insert",{...A,altKey:e.altKey,fileKey:S??void 0,assetsPanelVersion:C})},[A,S,C]);return n.useCallback(n=>{if((n.keyCode===c.as.ENTER||n.keyCode===c.as.SPACE)&&(0,g.Mx)(a)){if(n.metaKey){t();return}if(e(n,a),O(n),p&&!(0===_&&0===f)){let e=E?null==r?void 0:r.getItemAbove():null==r?void 0:r.getItemToTheLeft();null==e||e.focus()}else null==r||r.blur();(null==T?void 0:T.type)===y.M&&I(u._g())}},[f,I,O,E,a,r,null==T?void 0:T.type,e,t,_,p])}},148276:(e,t,r)=>{"use strict";r.d(t,{CE:()=>Q,CU:()=>k,E7:()=>et,ET:()=>eg,EZ:()=>K,G0:()=>$,GA:()=>X,Gy:()=>ed,K2:()=>ep,Km:()=>eo,OC:()=>M,QT:()=>er,Sm:()=>L,Uv:()=>C,Wi:()=>R,YB:()=>I,Yr:()=>W,_C:()=>em,_e:()=>e_,aI:()=>B,ak:()=>x,ao:()=>ea,cH:()=>es,cr:()=>z,cv:()=>O,ec:()=>w,g7:()=>ec,gV:()=>S,gf:()=>eu,iM:()=>el,kR:()=>A,ky:()=>H,mq:()=>j,oT:()=>ef,qK:()=>U,qM:()=>en,qe:()=>T,wH:()=>V,wX:()=>N,wv:()=>eh,y2:()=>D,yV:()=>ee,ym:()=>P});var n=r(307824),i=r(343104),a=r(125504),o=r.n(a),l=r(547240),s=r(87975),c=r(916956),d=r(570464),u=r(577824),p=r(537096),m=r(968240),_=r(142548),h=r(441388),g=r(90340),f=r(542660),E=r(587096),y=r(210424),b=r(356832);let v=null;function I(e){v=e}function w(e){return n.createElement("div",{className:o()(E.E$,e.reversed&&E.Go,e.className)},e.children)}class T extends d.Yl{constructor(){super(...arguments),this.onKeyDown=e=>{v&&v(e)||(this.props.onKeyDown&&this.props.onKeyDown(e),e.keyCode===s.as.ESCAPE&&e.target.blur())},this.onClick=d.yw(this,"click",e=>{this.props.onClick&&this.props.onClick(e)}),this.onPointerDown=d.OA(this,"pointerdown",e=>{this.props.onPointerDown&&this.props.onPointerDown(e)})}render(){let e={...this.props};e.className=`${this.props.defaultClass} ${this.props.className||""}`;let t=this.props.dataTestId;return delete e.defaultClass,delete e.recordingKey,delete e.dataTestId,this.props.onClick&&this.props.recordingKey&&(e.onClick=this.onClick),this.props.onPointerDown&&this.props.recordingKey&&(e.onPointerDown=this.onPointerDown),n.createElement("button",{onKeyDown:this.onKeyDown,...e,"data-testid":t},this.props.children)}}T.displayName="ButtonBase";class S extends n.Component{render(){let{fullWidth:e,...t}=this.props;return n.createElement(T,{defaultClass:o()(E.QH,e&&E.Mv),...t})}}S.displayName="ButtonPrimary";let C=(0,h.wB)(S);class A extends n.Component{render(){let{fullWidth:e,...t}=this.props;return n.createElement(T,{defaultClass:o()(E.kV,e&&E.Mv),...t})}}A.displayName="BigButtonPrimary";let O=(0,h.wB)(A);class N extends n.Component{render(){return n.createElement(T,{defaultClass:E.Oi,type:"button",...this.props})}}N.displayName="ButtonSecondary";let L=(0,h.wB)(N);class R extends n.Component{render(){let{fullWidth:e,...t}=this.props;return n.createElement(T,{defaultClass:o()(E.yS,e&&E.Mv),type:"button",...t})}}R.displayName="BigButtonSecondary";let P=(0,h.wB)(R);class M extends n.Component{render(){return n.createElement(T,{defaultClass:E.i7,type:"button",...this.props})}}M.displayName="ButtonSecondaryNegative",(0,h.wB)(M);class k extends n.Component{render(){return n.createElement(T,{defaultClass:E.oJ,type:"button",...this.props})}}k.displayName="ButtonNegative";let D=(0,h.wB)(k);class F extends n.Component{render(){return n.createElement(T,{defaultClass:E.a2,type:"button",...this.props})}}F.displayName="BigButtonNegative";class x extends n.Component{render(){return n.createElement(T,{defaultClass:E.AD,...this.props})}}x.displayName="ButtonWhite";let U=(0,h.wB)(x);class B extends n.Component{render(){return n.createElement(T,{defaultClass:E.sb,...this.props})}}B.displayName="ButtonInverse";class G extends n.Component{render(){let{fullWidth:e,...t}=this.props;return n.createElement(T,{defaultClass:o()(E.wP,e&&E.Mv),...t})}}G.displayName="BigButtonInverse";let V=(0,h.wB)(G);class H extends n.Component{render(){return n.createElement(T,{defaultClass:E.CY,...this.props})}}H.displayName="ButtonGreen";class W extends n.Component{render(){let{customClassName:e,...t}=this.props;return n.createElement(T,{defaultClass:E.YT,className:e,...t})}}W.displayName="ButtonGrey";let K=(0,h.wB)(H);class Y extends n.Component{render(){return n.createElement(T,{defaultClass:this.props.solidWhenDisabled?E.GK:E.oN,...this.props})}}Y.displayName="BigButtonGreen",(0,h.wB)(Y);class q extends n.Component{render(){return n.createElement(T,{defaultClass:E.kJ,...this.props})}}q.displayName="BigButtonBlack",(0,h.wB)(q);class j extends n.Component{render(){let e=`${E.QH} ${this.props.className||""}`,t={...this.props,className:e,rel:"noopener"};return n.createElement("a",{...t},this.props.children)}}j.displayName="ButtonLink";let $=(0,h.wB)(j);class Z extends n.Component{render(){let{fullWidth:e,...t}=this.props,r=o()(E.kV,this.props.fullWidth&&E.Mv),i=`${r} ${this.props.className||""}`;return t={...t,className:i,rel:"noopener"},n.createElement("a",{...t},this.props.children)}}Z.displayName="ButtonLink";let z=(0,h.wB)(Z);class Q extends n.Component{render(){let e=`${E.Oi} ${this.props.className||""}`,t={...this.props,className:e,rel:"noopener"};return n.createElement("a",{...t},this.props.children)}}Q.displayName="ButtonSecondaryLink";let X=(0,h.wB)(Q);class J extends n.Component{render(){let e=`${E.KG} ${this.props.className||""}`,t={...this.props,className:e,rel:"noopener"};return n.createElement("a",{...t},this.props.children)}}J.displayName="BigButtonSecondaryLink",(0,h.wB)(J);let ee=255,et=118,er=n.forwardRef(function({className:e,...t},r){return n.createElement(u.y,{className:o()(E.MT,e),...(0,c.Y)(t),ref:r})});(0,h._0)(er);class en extends n.Component{render(){let e=`${E.mW} ${this.props.className||""}`,t={...this.props,className:e};return n.createElement(u.y,{...t})}}en.displayName="BigTextInput";let ei=(0,h._0)(u.y);class ea extends n.Component{render(){return n.createElement("div",{className:this.props.className||(this.props.disabled?E.wf:E.on)},n.createElement("label",{htmlFor:this.props.htmlName,className:o()(E.Uz,{[E.sN]:this.props.value,[E.e5]:this.props.hasError})},this.props.label),this.props.trackingFieldName&&n.createElement(ei,{id:this.props.htmlName,name:this.props.htmlName,value:this.props.value,disabled:this.props.disabled,placeholder:this.props.placeholder||this.props.label,autoComplete:this.props.autoCompleteName,type:this.props.type||"text",maxLength:this.props.maxLength||50,onKeyPress:this.props.onKeyPress,onChange:this.props.onChange,onBlur:this.props.onBlur,onFocus:this.props.onFocus,trackingFieldName:this.props.trackingFieldName,trackingPopulationLevel:this.props.value?g._G.POPULATED_COMPLETE:g._G.NOT_POPULATED,dataTestId:this.props.dataTestId,required:this.props.required}),!this.props.trackingFieldName&&n.createElement(u.y,{id:this.props.htmlName,name:this.props.htmlName,value:this.props.value,disabled:this.props.disabled,placeholder:this.props.placeholder||this.props.label,autoComplete:this.props.autoCompleteName,type:this.props.type||"text",maxLength:this.props.maxLength||50,onKeyPress:this.props.onKeyPress,onChange:this.props.onChange,onFocus:this.props.onFocus,onBlur:this.props.onBlur,dataTestId:this.props.dataTestId,required:this.props.required}),this.props.tooltip&&n.createElement(p.A,{className:E.O,svg:b.c,"data-tooltip-type":_.wL.TEXT,"data-tooltip":this.props.tooltip,"data-tooltip-timeout-delay":300}))}}class eo extends n.PureComponent{constructor(e){super(e),this.documentKeyDown=e=>{e.keyCode===s.as.TAB&&this.setState({showFocus:!0})},this.documentMouseDown=e=>{this.setState({showFocus:!1})},this.onFocus=e=>{this.state.showFocus||e.target.blur()},this.classNameForInput=()=>{let e=`${E.Ep} ${this.props.className||""}`;return this.state.showFocus&&(e+=` ${E.cl}`),e},this.state={showFocus:!1}}componentDidMount(){document.addEventListener("keydown",this.documentKeyDown),document.addEventListener("mousedown",this.documentMouseDown)}componentWillUnmount(){document.removeEventListener("keydown",this.documentKeyDown),document.removeEventListener("mousedown",this.documentMouseDown)}render(){let{svgOverride:e,classOverride:t,checked:r,...a}=this.props;return n.createElement("div",{className:E.uM},n.createElement("input",{...a,type:"checkbox",onFocus:this.onFocus,className:t||this.classNameForInput(),checked:r}),r?n.createElement("div",{className:E.cf},n.createElement(m.e,{svg:e??y.c},n.createElement(i.q,null))):null)}}function el(e){let t=`${E.Sq} ${e.className||""}`;return n.createElement("label",{...e,className:t})}eo.displayName="Checkbox";let es=f.c,ec=(0,h.wB)(es);class ed extends n.Component{render(){let{trusted:e,className:t,...r}=this.props,i=`${E.eS} ${t||""}`,a={...r,className:i,rel:e?"noopener":"noopener nofollow noreferrer ugc",onClick:e=>{this.props.onClick&&this.props.onClick(e),this.props.href&&(0,l.u)(this.props.href,e)}};return n.createElement("a",{...a},this.props.children)}}ed.displayName="Link";let eu=(0,h.wB)(ed);class ep extends n.Component{render(){let e=`${E.c3} ${this.props.className||""}`,t={...this.props,className:e};return n.createElement("select",{...t})}}function em(e){return"x"===e.direction?n.createElement("div",{style:{width:8*e.multiple},"aria-hidden":"true"}):n.createElement("div",{style:{height:8*e.multiple},"aria-hidden":"true"})}ep.displayName="BigSelect",em.displayName="Spacing";let e_=(0,h.wB)(p.A),eh=(0,h.wB)(e=>n.createElement("a",{...e},e.children));function eg(e){return n.createElement(T,{defaultClass:o()(E.eq,e.className),...e})}let ef=(0,h.wB)(eg)},542660:(e,t,r)=>{"use strict";r.d(t,{c:()=>o});var n=r(307824),i=r(547240),a=r(587096);class o extends n.Component{render(){let e=`${a.AF} ${this.props.className||""}`,{canFocus:t,trusted:r,...o}=this.props,l={...o,className:e,rel:r?"noopener":"noopener nofollow noreferrer ugc",onClick:e=>{this.props.onClick&&this.props.onClick(e),this.props.href&&(0,i.u)(this.props.href,e)}};return t&&(l={href:"#",tabIndex:0,...l}),n.createElement("a",{...l},this.props.children)}}o.displayName="Link"},426488:(e,t,r)=>{"use strict";r.d(t,{Yh:()=>l,m_:()=>a,sh:()=>o});var n=r(721500),i=r(763456);let a=(0,n.qe)(i.wdL),o=(0,n.qe)(i.sLj),l=(0,n.qe)(i.ayq)},509250:(e,t,r)=>{"use strict";r.d(t,{C2:()=>o,CQ:()=>m,Q$:()=>u,a8:()=>p,mO:()=>d});var n=r(250008),i=r(867084);let a=(0,r(843148).m_)().zendesk_web_key_public,o={FREE:["account","billing","bugReport","community","events"],PAID:["account","billing","bugReport","community","events","productQuestion"]},l={productQuestion:{id:360001731233},bugReport:{id:360001744374},featureRequest:{id:360001746113},account:{id:360005944714},community:{id:7767730653079},billing:{id:9707134248215},events:{id:19669189307671},other:{id:360001758534}},s=function(){return{webWidget:{position:{horizontal:"right",vertical:"bottom"},offset:{horizontal:"0px",vertical:"40px"},contactForm:{selectTicketForm:{"*":"Please choose:"},ticketForms:Object.keys(l).map(e=>l[e])},helpCenter:{searchPlaceholder:{"*":"How can we help?"},messageButton:{"*":"Contact us"}}}}},c=null;function d(){return c||(c=(async()=>{if(window.figmaPerfTesting)throw Error("testing");if(window.zE)return window.zE;if(!a)throw Error("No zendesk_web_key_public api key");window.zESettings=s();try{return await (0,i.aU)("https://static.zdassets.com/ekr/snippet.js?key="+a,{id:"ze-snippet",cors:!1}),window.zE}catch(e){throw c=null,e}})())}function u(e,t){c&&window.zE&&(window.zESettings=s(),(null==t?void 0:t.ticketForms)&&(window.zESettings.webWidget.contactForm={ticketForms:t.ticketForms.map(e=>l[e]),fields:(t.fields||[]).map(e=>({id:e.id,prefill:{"*":e.value}}))}),(null==t?void 0:t.suppressAnswerBot)&&(window.zESettings.webWidget.helpCenter={suppress:!0},window.zESettings.webWidget.answerBot={suppress:!0}),(null==t?void 0:t.locale)&&window.zE("webWidget","setLocale",t.locale),window.zE("webWidget","updateSettings",window.zESettings),window.zE("webWidget","prefill",{name:{value:e.name,readOnly:!0},email:{value:e.email,readOnly:!0}}))}function p(){window.zE&&(window.zE("webWidget","show"),window.zE("webWidget","open"),window.zE("webWidget:on","close",()=>{window.zE("webWidget","hide")}),window.zE("webWidget:on","userEvent",e=>{var t,r,i;let a={action:e.action,relatedZendeskId:null==(t=e.properties)?void 0:t.id,relatedZendeskName:null==(r=e.properties)?void 0:r.name,searchTerm:null==(i=e.properties)?void 0:i.term};(0,n.we)("zendesk_help_widget",a)}))}function m(e,t,r){d().then(()=>u(e,t)).then(p).catch(()=>console.error("Our support center is not currently available. You can email us at support@figma.com."))}},833616:(e,t,r)=>{"use strict";let n;r.d(t,{E:()=>p,q:()=>u});var i=r(307824),a=r(125504),o=r.n(a),l=r(537096),s=r(765064),c=r(547392),d=r(218404),u=((n=u||{})[n.INFORMATION=0]="INFORMATION",n[n.ERROR=1]="ERROR",n[n.WARNING=2]="WARNING",n[n.FIGJAM=3]="FIGJAM",n[n.PLAIN=4]="PLAIN",n);function p({color:e,icon:t,rounded:r=!0,text:n,dataTestId:a}){return i.createElement("div",{"data-testid":a,style:s.sx.if(!r,{borderRadius:"0px"}).$,className:o()({[c.S2]:0===e,[c.e5]:1===e,[c.sZ]:2===e,[c.OC]:3===e,[c.An]:4===e})},i.createElement(l.A,{autosize:!0,className:c.O,width:"16px",height:"12px",svg:t??d.c}),i.createElement("p",null,n))}},805388:(e,t,r)=>{"use strict";r.d(t,{m:()=>a});var n=r(307824),i=r(251368);let a=n.memo(function(e){let t=e.locale||(0,i.A5)().getPrimaryLocale(!1),r=n.useMemo(()=>new Intl.ListFormat(t,{style:e.formatStyle||"long",type:e.formatType||"conjunction"}),[t,e.formatStyle,e.formatType]),a=n.Children.toArray(e.children),o=r.formatToParts(a.map((e,t)=>`${t}`)).map((e,t)=>"element"===e.type?a[Number(e.value)]:"literal"===e.type?n.createElement("span",{key:`${t}_literal`},e.value):null);return n.createElement("span",{className:e.className||""},o)})},915880:(e,t,r)=>{"use strict";r.d(t,{KB:()=>f,KE:()=>h,O8:()=>m,OF:()=>g,_G:()=>_,sr:()=>y,uc:()=>E});var n=r(307824),i=r(139776),a=r(819584),o=r(838836),l=r(594192),s=r(853688);let c={preventScroll:!1,block:"nearest"},d={supportHorizontalNavigation:!0};class u{constructor({id:e,path:t,column:r,element:n,defaultFocusOptions:i=c,setIsFauxFocused:a,fauxClick:o,keyboardItemNavigationOptions:l=d}){this.id=e,this.path=t,this.column=r,this.element=n,this.defaultFocusOptions=i,this.setIsFauxFocused=a,this.fauxClick=o,this.navigationOptions=l}addToTree(e,t){this.tree=e,function(e,t){let{path:r,column:n}=t;C(e,r,!0).items[n||0]=t}(e,this),t&&this.id&&t.set(this.id,this)}removeFromTree(e){this.tree&&(function(e,t){let{path:r,column:n}=t,a=C(e,r),o=a.items[n||0];if(o&&o===t&&(a.items[n||0]=void 0,a.items.every(l.qm))){S(e,r.slice(0,-1)).children[r[r.length-1]]=void 0;for(let t=r.length-1;t>=1;t--){let n=r.slice(0,t),[a,o]=(0,i.WS)(n),s=S(e,a);if(S(e,n).children.every(l.qm))s.children[o]=void 0;else break}e.children.every(l.qm)&&(e.children=[])}}(this.tree,this),this.tree=void 0),e&&this.id&&e.delete(this.id)}focus(e=this.defaultFocusOptions){this.element.focus({preventScroll:!0}),e.preventScroll||this.element.scrollIntoView(e)}blur(){this.element.blur()}fauxFocus(e=this.defaultFocusOptions){this.setIsFauxFocused(!0),e.preventScroll||this.element.scrollIntoView(e)}fauxBlur(){this.setIsFauxFocused(!1)}simulateClick(){this.fauxClick?this.fauxClick():this.element.dispatchEvent(new MouseEvent("click",{view:window,bubbles:!0,cancelable:!0}))}getItemAbove(){return this.tree&&T(this.tree,this,"up")}getItemBelow(){return this.tree&&T(this.tree,this,"down")}getItemToTheLeft(){return this.tree&&w(this.tree,this,"left")}getItemToTheRight(){return this.tree&&w(this.tree,this,"right")}}let p=n.createContext(null),m=n.forwardRef(function({onKeyDown:e,allowVim:t=!1,disabled:r,overrideDown:i,overrideUp:a,allowHorizontalNavigationWhileInputFocused:l=!1,...c},d){let u=n.useRef({type:"parent",children:[]}),m=n.useRef(new Map),_=n.useRef(null),h=n.useCallback(e=>{_.current===e&&(_.current=null)},[]),b=n.useCallback(e=>{_.current=e},[]),v=n.useRef(null),I=n.useRef(o.Kw),w=n.useCallback(e=>{e===v.current&&(v.current=null,I.current(),I.current=o.Kw)},[]),T=n.useCallback((e,t)=>{v.current&&w(v.current),v.current=e,I.current=t},[w]),S=n.useCallback(r=>{var n,o,s,c,d,p,m,h;let b=_.current,I=v.current,w=r.code??r.key,T=!(r.metaKey||r.ctrlKey||r.altKey||r.shiftKey)&&l;if(g(w,t)){if(I){r.preventDefault();let e=A(u.current,I,a);e?null==e||e.fauxFocus():null==(n=I.getItemAbove())||n.fauxFocus()}else if(b){r.preventDefault();let e=A(u.current,b,a);e?null==e||e.focus():null==(o=b.getItemAbove())||o.focus()}}else if(f(w,t)){if(I){r.preventDefault();let e=A(u.current,I,i);e?null==e||e.fauxFocus():null==(s=I.getItemBelow())||s.fauxFocus()}else if(b){r.preventDefault();let e=A(u.current,b,i);e?null==e||e.focus():null==(c=b.getItemBelow())||c.focus()}}else E(w,t,T)?I&&I.navigationOptions.supportHorizontalNavigation?(r.preventDefault(),null==(d=I.getItemToTheLeft())||d.fauxFocus()):b&&(r.preventDefault(),null==(p=b.getItemToTheLeft())||p.focus()):y(w,t,T)?I&&I.navigationOptions.supportHorizontalNavigation?(r.preventDefault(),null==(m=I.getItemToTheRight())||m.fauxFocus()):b&&(r.preventDefault(),null==(h=b.getItemToTheRight())||h.focus()):"Enter"===w?I&&(r.preventDefault(),I.simulateClick()):"Escape"===w&&(b||I)&&(r.preventDefault(),b&&b.blur(),I&&I.fauxBlur());null==e||e(r)},[t,l,e,a,i]),C=n.useMemo(()=>({tree:u.current,lookupMap:m.current,onFocusItem:b,onBlurItem:h,onFauxFocusItem:T,onFauxBlurItem:w}),[b,h,T,w]);return n.createElement(p.Provider,{value:C},n.createElement(s.g9,{onKeyDown:r?e:S,forwardedRef:d,...c}))});function _({path:e,column:t=null,id:r,defaultFocusOptions:i,onFocus:o,onBlur:s,onFauxFocus:c,onFauxBlur:d,fauxClick:m,disabled:_,navigationOptions:h}){let g=(0,a.ac)(e),f=(0,a.ac)(i),E=(0,a.ac)(h);if(0===g.length)throw Error("Path must be non-empty");if(g.some(e=>e<0))throw Error("All path indices must be non-negative");if(null!=t&&t<0)throw Error("Column must be non-negative");let[y,b]=n.useState(void 0),[v,I]=n.useState(!1),[w,T]=n.useState(!1),{tree:S,lookupMap:C,onFocusItem:A,onBlurItem:O,onFauxFocusItem:N,onFauxBlurItem:L}=(0,l.wl)(n.useContext(p),"Must use `useKeyboardNavigationItem` inside `<KeyboardNavigationProvider>");n.useEffect(()=>{if(y&&!_){let e=()=>I(!0),t=()=>I(!1);return y.addEventListener("focus",e),y.addEventListener("blur",t),y===document.activeElement&&e(),()=>{y.removeEventListener("focus",e),y.removeEventListener("blur",t),y===document.activeElement&&t()}}},[_,y]);let R=n.useMemo(()=>null==y||_?null:new u({id:r,path:g,column:t,element:y,defaultFocusOptions:f,setIsFauxFocused:T,fauxClick:m,keyboardItemNavigationOptions:E}),[y,_,r,g,t,f,m,E]);return n.useEffect(()=>{if(R)return R.addToTree(S,C),()=>{R.removeFromTree(C)}},[R,C,S]),n.useEffect(()=>{if(R&&v)return null==o||o(),A(R),()=>{null==s||s(),O(R)}},[R,v,o,s,A,O]),n.useEffect(()=>{if(R&&w)return null==c||c(),N(R,()=>{T(!1)}),()=>{null==d||d(),L(R)}},[R,w,c,d,N,L]),{setKeyboardNavigationElement:b,keyboardNavigationItem:R,isFocused:v,isFauxFocused:w}}function h(){let{lookupMap:e}=(0,l.wl)(n.useContext(p),"Must use `useKeyboardNavigationLookupMap` inside `<KeyboardNavigationProvider>");return n.useCallback(t=>e.get(t),[e])}function g(e,t){return"ArrowUp"===e||"KeyK"===e&&t&&b()}function f(e,t){return"ArrowDown"===e||"KeyJ"===e&&t&&b()}function E(e,t,r=!1){return"ArrowLeft"===e&&v(r)||"KeyH"===e&&t&&b()}function y(e,t,r=!1){return"ArrowRight"===e&&v(r)||"KeyL"===e&&t&&b()}function b(){return!I(document.activeElement)}function v(e){let t=document.activeElement;return!I(t)||!!e||(t instanceof HTMLDivElement?""===t.textContent:""===t.value)}function I(e){return!!e&&(e instanceof HTMLInputElement||e instanceof HTMLTextAreaElement)||e instanceof HTMLDivElement&&"true"===e.contentEditable}function w(e,{path:t,column:r},n){if(null==r)return;let a=C(e,t);return("left"===n?i.Ux:i.gd)(a.items,r)||T(e,{path:t,column:"left"===n?1/0:-1},"left"===n?"up":"down")}function T(e,{path:t,column:r},n){for(let a=t.length-1;a>=0;a--){let o=t.slice(0,a),l=t[a],s=S(e,o),c=("up"===n?i.Ux:i.gd)(s.children,l);if(c){let e=("up"===n?function e(t){if("leaf"===t.type)return t;let r=(0,i.Ux)(t.children,t.children.length);if(r)return e(r);throw Error("Expected a node but got nothing")}:function e(t){if("leaf"===t.type)return t;let r=(0,i.gd)(t.children,-1);if(r)return e(r);throw Error("Expected a node but got nothing")})(c);return(0,i.uW)(e.items,r||0)}}}function S(e,t,r=!1){for(let n of t){let t=e.children[n];if(t){if("leaf"===t.type)throw Error("Expected a parent but got a leaf");e=t}else if(r){let t={type:"parent",children:[]};e.children[n]=t,e=t}else throw Error("Expected a parent but got nothing")}return e}function C(e,t,r=!1){let[n,a]=(0,i.WS)(t),o=S(e,n,r),l=o.children[a];if(l){if("parent"!==l.type)return l;throw Error("Expected a parent but got a leaf")}if(r){let e={type:"leaf",items:[]};return o.children[a]=e,e}throw Error("Expected a leaf but got nothing")}function A(e,t,r){try{var n,i;let a=null==r?void 0:r(t);return a&&(n=a.path,i=a.column,C(e,n).items[i??0])}catch(e){}}},484532:(e,t,r)=>{"use strict";r.d(t,{y:()=>a});var n=r(307824),i=r(704772);class a extends n.PureComponent{render(){let e=["\u2318","\u2325","\u21E7","\u2303"];return n.createElement("span",{className:this.props.className},this.props.shortcut.split("").map((t,r)=>{let a=-1!=e.indexOf(t)?i.o:i.m;return n.createElement("span",{key:r,className:a},t)}))}}a.displayName="KeyboardShortcut"},82660:(e,t,r)=>{"use strict";r.d(t,{w:()=>d,v:()=>n.e});var n=r(627368),i=r(307824),a=r(721500),o=r(703520),l=r(644092),s=r(763456);function c({children:e}){let t=(0,l.aQ)();return i.createElement("div",{className:"blocked_ui_loading_indicator--base--XVkv0",style:{bottom:0===t?(0,a.qe)(s.ApP):(0,a.qe)(s.SYu)+t}},e)}function d({blockedUILoadingIndicator:e,dispatch:t}){i.useEffect(()=>{let r=null==e?void 0:e.callback;setTimeout(()=>{t(n.e.remove({})),null==r||r()},0)},[e,t]);let r=e?"blocked_ui_loading_indicator--shown--XJCOo":"",a=(null==e?void 0:e.showLoadingSpinner)?i.createElement("div",{className:"blocked_ui_loading_indicator--icon--wujoz"},i.createElement(o.M7,null)):i.createElement(i.Fragment,null);return i.createElement(c,null,i.createElement("div",{className:`blocked_ui_loading_indicator--messageContainer--Xdio4 _overlayBase--_overlayBase--Rkj8l text--fontNeg14--ARPWl text--_fontBase--QdLsd text--_negText--j9g-L ${r}`},e&&e.message&&i.createElement(i.Fragment,null,a,i.createElement("span",{className:"blocked_ui_loading_indicator--message--AM16c"},e.message))))}},627368:(e,t,r)=>{"use strict";r.d(t,{e:()=>n});var n,i=r(60452);(e=>{e.set=(0,i.A)("BLOCKED_UI_LOADING_INDICATOR_SET"),e.remove=(0,i.A)("BLOCKED_UI_LOADING_INDICATOR_REMOVE")})(n||(n={}))},30128:(e,t,r)=>{"use strict";r.d(t,{E:()=>s});var n=r(307824),i=r(643260),a=r(703520);function o(e){return e.isLoading?n.createElement("div",{className:e.className},n.createElement(a.M7,null)):e.children()}function l(e){switch(e.state.status){case i.D.FAILURE:if(e.failure)return n.createElement(e.failure,null);return n.createElement("div",{className:e.className},n.createElement(a.M7,null));case i.D.LOADING:return n.createElement("div",{className:e.className},n.createElement(a.M7,null));case i.D.SUCCESS:return e.children(e.state.value)}}function s(e){return"isLoading"in e?n.createElement(o,{...e}):n.createElement(l,{...e})}},453439:(e,t,r)=>{"use strict";r.d(t,{k:()=>o});var n=r(307824),i=r(570464),a=r(761724);function o(e){let t;let r=(0,i.S4)(e.recordingKey,"ondragstart",t=>{var r;null==(r=e.onDragStart)||r.call(e,t)}),o=(0,i.S4)(e.recordingKey,"ondragend",t=>{var r;null==(r=e.onDragEnd)||r.call(e,t)}),l=(0,i.S4)(e.recordingKey,"ondragover",t=>{var r;null==(r=e.onDragOver)||r.call(e,t)}),s=(0,i.S4)(e.recordingKey,"mousedown",t=>{var r;null==(r=e.onClick)||r.call(e,t)}),c=(0,i.S4)(e.recordingKey,"dblclick",t=>{var r;null==(r=e.onDoubleClick)||r.call(e,t)}),{selected:d,children:u,className:p,pillRef:m}=e;return(t=p||(d?a.Ky:a.yK),e.href)?n.createElement("a",{href:e.href,draggable:e.draggable,onDragStart:r,onDragEnd:o,onDragOver:l,onClick:e=>{e.preventDefault(),s(e)},onDoubleClick:c,className:t,ref:m||null,dir:"auto"},u):n.createElement("span",{draggable:e.draggable,onDragStart:r,onDragEnd:o,onDragOver:l,onClick:s,onDoubleClick:c,className:t,ref:m||null,dir:"auto"},u)}},934540:(e,t,r)=>{"use strict";r.d(t,{Cy:()=>f,Go:()=>h,Wk:()=>E,_E:()=>y,oh:()=>b,qG:()=>I});var n=r(307824),i=r(888932),a=r(570464),o=r(853688),l=r(537096),s=r(560072),c=r(574316),d=r(109496),u=r(123156),p=r(113600),m=r(170180),_=r(866268);function h(e){var t;let{dispatch:r,shouldShowUI:i}=e;return n.useEffect(()=>{r(c.mo({isFooterVisible:i}))},[r,i]),n.createElement("div",{className:i?d.kf:d.o7,role:"navigation","aria-label":(0,s.t)("viewer.footer.accessible_label")},n.createElement("div",{className:d._c},(null==(t=e.renderDebugTools)?void 0:t.call(e))||""),n.createElement("div",{className:d.Kp},n.createElement(b,{navigateForwardEnabled:e.navigateForwardEnabled,navigateBackwardEnabled:e.navigateBackwardEnabled,shouldShowFrameCounter:e.shouldShowFrameCounter,frameCount:e.frameCount,currentFrameIndex:e.currentFrameIndex,showPreviousFrame:e.showPreviousFrame,showNextFrame:e.showNextFrame,backIcon:u.c,nextIcon:m.c,recordingKey:e.recordingKey})),n.createElement("div",{className:d.yl},n.createElement(v,{onClick:e.restartPrototype,recordingKey:a.Mx(e,"replayButton")})))}let g=null;function f(){return g}function E(e){let t=(0,n.useRef)(null),r=(0,n.useRef)(null);n.useEffect(()=>{let e={duration:200};function n(e){return[{transform:"translate3D(0px, 0, 0)"},{transform:`translate3D(${e}px, 0, 0)`},{transform:"translate3D(0px, 0, 0)"}]}return g={animateBack:()=>{null!==t.current&&t.current.animate(n(-4),e)},animateNext:()=>{null!==r.current&&r.current.animate(n(4),e)}},()=>{g=null}},[r,t]);let o=e.navigateBackwardEnabled?d.uo:d.W6,c=e.navigateForwardEnabled?d.yW:d.c7,u=e.navigateForwardEnabled||e.navigateBackwardEnabled,p=!i.m_&&u,m=n.createElement(y,{forwardedRef:t,onClick:e.showPreviousFrame,recordingKey:a.Mx(e,"backButton"),label:(0,s.t)("viewer.footer.previous_frame"),disabled:!e.navigateBackwardEnabled,tabIndex:0,svg:n.createElement(l.A,{className:o,svg:e.backIcon})}),_=n.createElement(y,{forwardedRef:r,onClick:e.showNextFrame,recordingKey:a.Mx(e,"nextButton"),label:(0,s.t)("viewer.footer.next_frame"),disabled:!e.navigateForwardEnabled,tabIndex:0,svg:n.createElement(l.A,{className:c,svg:e.nextIcon})});return n.createElement("div",{className:e.containerClassName},p&&m,!!e.shouldShowFrameCounter&&n.createElement("div",{role:"status","aria-live":"polite","aria-label":(0,s.t)("viewer.footer.readable_frame_progress",{currentFrameIndex:e.currentFrameIndex+1,frameCount:e.frameCount}),className:e.frameCounterTextClassName},n.createElement(s.Tx,{id:"viewer.footer.frame_progress",currentFrameIndex:e.currentFrameIndex+1,frameCount:e.frameCount})),p&&_)}function y({onClick:e,recordingKey:t,label:r,svg:i,variant:a,tabIndex:l,forwardedRef:s,disabled:c=!1}){let u="padded-focus-halo"===a?d.Kk:d.uE;return n.createElement(o.iH,{className:u,disabled:c,onClick:e,"aria-label":r,recordingKey:t,tabIndex:l,forwardedRef:s,"data-fullscreen-intercept":!0},i)}function b(e){return n.createElement(E,{navigateBackwardEnabled:e.navigateBackwardEnabled,navigateForwardEnabled:e.navigateForwardEnabled,shouldShowFrameCounter:e.shouldShowFrameCounter,frameCount:e.frameCount,currentFrameIndex:e.currentFrameIndex,showPreviousFrame:e.showPreviousFrame,showNextFrame:e.showNextFrame,backIcon:e.backIcon,nextIcon:e.nextIcon,containerClassName:e.containerClassName||d.Ab,frameCounterTextClassName:d.u_,recordingKey:e.recordingKey})}function v(e){return n.createElement(o.iH,{className:d.q3,onClick:e.onClick,recordingKey:e.recordingKey},n.createElement(l.A,{svg:p.c}),n.createElement("div",null,n.createElement(s.Tx,{id:"viewer.footer.restart"})," ",n.createElement("span",{className:d.Cw},n.createElement(s.Tx,{id:"viewer.footer.r"}))))}function I(e){return n.createElement(o.g9,{className:e.className,onClick:e.onClick,recordingKey:e.recordingKey},n.createElement(l.A,{svg:_.c,className:d.cH}),n.createElement("div",null,n.createElement(s.Tx,{id:"viewer.footer.restart"})," ",n.createElement("span",{className:d.Cw}," ",n.createElement(s.Tx,{id:"viewer.footer.r"}))))}},672352:(e,t,r)=>{"use strict";r.d(t,{EB:()=>k,Ks:()=>G,Su:()=>H,Yd:()=>B,at:()=>F,bX:()=>x,i:()=>D,oD:()=>U,uY:()=>V,yq:()=>M});var n=r(307824),i=r(590659),a=r(125504),o=r.n(a),l=r(721500),s=r(760780),c=r(733960),d=r(87975),u=r(570464),p=r(853688),m=r(577824),_=r(537096),h=r(698240),g=r(560072),f=r(765064),E=r(771668),y=r(309812),b=r(713620),v=r(142548),I=r(927976),w=r(241645),T=r(583604),S=r(763456),C=r(383256),A=r(770144),O=r(393e3),N=r(263332),L=r(166996),R=r(623944),P=r(386672);function M(e,t){let r=n.useCallback(e=>{setTimeout(()=>{y.current&&(y.current.focus(),e&&y.current.select())},0)},[]),i=n.useCallback(()=>{y.current&&y.current.blur()},[]);n.useImperativeHandle(t,()=>({focus:r,blur:i,searchInput:y.current}));let[a,o]=n.useState(!1),[l,p]=n.useState(!1),[m,_]=n.useState(void 0),{onFocus:h,onClick:g}=e,f=n.useCallback(()=>{h&&h(),p(!0)},[h]),E=n.useRef(!1),y=n.useRef(null),v=n.useCallback(e=>{E.current=document.activeElement!==e.target},[]),I=n.useCallback(()=>{var e;E.current&&(null==(e=y.current)||e.select(),f())},[f]),w=n.useCallback(()=>{e.onBlur&&e.onBlur(),p(!1)},[e]),T=u.ic(e.recordingKey,"change",t=>{let r=t.target;e.onChange(r.value)}),S=n.useCallback(t=>{var r;if(!(e.isKeyDownHandled&&e.isKeyDownHandled(t))){if(" "===t.key&&t.stopPropagation(),t.keyCode===d.as.ESCAPE){null==(r=y.current)||r.blur();return}(0,b.eI)(t,b.fh.NO)}},[e]),C=n.useCallback((e=!1)=>{e&&o(!0),r(),g&&g()},[r,g]),A=u.S4(e.recordingKey,"click",t=>{t.stopPropagation(),e.clearSearch(),o(!1),r()}),O=u.ag(e.recordingKey,"keydown",t=>{t.stopPropagation(),e.clearSearch(),o(!1),r()}),N=(0,c.i)(e.isFocused);return n.useEffect(()=>{N||!0!==e.isFocused?!0===N&&!1===e.isFocused&&i():r()},[i,r,N,e.isFocused]),(0,s.u)(()=>{e.focusOnMount&&y.current&&(y.current.focus(),f()),e.selectTextOnMount&&y.current&&y.current.select()}),{loggedOutSearchBarActivated:a,inputFocused:l,placeholderWidth:m,setPlaceholderWidth:_,searchInputRef:y,onMouseDown:v,onMouseUp:I,onSearchClick:C,onClearSearchClick:A,onClearSearchKeyDown:O,onFocus:h,onBlur:w,onClick:g,onSearchKeyDown:S,onSearchChange:T}}let k=n.forwardRef((e,t)=>{let r=(0,y.Ci)(),{searchInputRef:a,onMouseDown:o,onMouseUp:l,onClearSearchClick:s,onFocus:c,onBlur:d,onClick:u,onSearchKeyDown:p,onSearchChange:h}=M(e,t),E=(0,I.AR)(),b=E?C.El:C.ML;return n.createElement("div",{"data-onboarding-key":e["data-onboarding-key"],className:`${b} ${e.className||""}`},e.withUI3Icon?n.createElement(i.u,{className:e.iconClassName}):n.createElement(_.A,{className:e.iconClassName??C.I6,svg:A.c}),n.createElement(m.y,{ref:a,placeholder:e.placeholder||(0,g.t)("general.search"),className:C.OS,value:e.query,onMouseDown:o,onMouseUp:l,onFocus:c,onBlur:d,onClick:u,onChange:h,onKeyDown:p,spellCheck:!1,style:f.sx.if(e.hasTransparentBackground,f.sx.add({background:"transparent"})).if(E||e.smallFont,f.sx.if(r,f.sx.textBodyMedium,f.sx.font11.$)).$,disabled:e.disabled,dataTestId:"search-bar-input",maxInputLength:e.maxInputLength}),!!e.query&&!e.hideXIcon&&n.createElement(_.A,{dataTestId:"search-x-icon",className:C.yi,svg:L.c,onClick:s}))});n.forwardRef((e,t)=>{let{inputFocused:r,placeholderWidth:i,setPlaceholderWidth:a,searchInputRef:o,onMouseDown:l,onMouseUp:s,onSearchClick:c,onClearSearchClick:d,onFocus:u,onBlur:p,onClick:h,onSearchKeyDown:f,onSearchChange:E}=M(e,t),y=e.placeholder||(0,g.t)("general.search"),b=`${e.className||""} ${r?C.__:C.Mv}`;return n.createElement("div",{"data-onboarding-key":e["data-onboarding-key"],className:b},n.createElement(_.A,{className:C._N,svg:A.c,onClick:()=>c()}),n.createElement(m.y,{ref:o,placeholder:y,className:C.OS,value:e.query,onMouseDown:l,onMouseUp:s,onFocus:u,onBlur:p,onClick:h,onChange:E,onKeyDown:f,style:{width:r?void 0:i},spellCheck:!1}),n.createElement("div",{className:C.SI,ref:e=>a(null==e?void 0:e.getBoundingClientRect().width)},y),!!e.query&&!e.hideXIcon&&n.createElement(_.A,{className:C.yi,svg:L.c,onClick:d}))});let D=n.forwardRef((e,t)=>{let r=n.createRef();return n.useImperativeHandle(t,()=>r.current),n.createElement("div",{className:C.Gq,onMouseDown:()=>{var e;return null==(e=r.current)?void 0:e.focus()},role:"presentation"},n.createElement(k,{...e,smallFont:!0,hasTransparentBackground:!0,className:o()(h.cx.wFull.$,e.className),ref:r}))}),F=n.forwardRef((e,t)=>{let{inputFocused:r,placeholderWidth:i,searchInputRef:a,onMouseDown:o,onMouseUp:l,onClearSearchClick:s,onFocus:c,onBlur:d,onClick:u,onSearchKeyDown:p,onSearchChange:h}=M(e,t),f=e.placeholder||(0,g.t)("general.search"),E=`${e.className||""} ${C.No}`,y=e.query.length>0?C.cf:C.k$;return n.createElement("div",{"data-onboarding-key":e["data-onboarding-key"],className:E,onMouseDown:e=>{o(e),e.target.matches("input")||e.preventDefault()},onMouseUp:l,role:"presentation"},n.createElement(_.A,{className:C.MZ,svg:A.c}),n.createElement(m.y,{ref:a,placeholder:f,className:y,value:e.query,onFocus:c,onBlur:d,onClick:u,onChange:h,onKeyDown:p,style:{width:r?void 0:i},spellCheck:!1}),!!e.query&&!e.hideXIcon&&n.createElement(_.A,{className:C.yi,svg:L.c,onClick:s}))}),x=n.forwardRef((e,t)=>{let{inputFocused:r,placeholderWidth:i,setPlaceholderWidth:a,searchInputRef:o,onMouseDown:l,onMouseUp:s,onClearSearchClick:c,onFocus:d,onBlur:u,onClick:p,onSearchKeyDown:h,onSearchChange:f}=M(e,t),y=e.placeholder||(0,g.t)("general.search"),b=`${e.className||""} ${C.Ub}`,v=e.query.length>0?C.mQ:C.U0;return n.createElement("div",{"data-onboarding-key":e["data-onboarding-key"],className:b,onMouseDown:e=>{l(e),e.target.matches("input")||e.preventDefault()},onMouseUp:s,role:"presentation"},n.createElement(E.GW,{icon:"search-32"}),n.createElement(m.y,{ref:o,placeholder:y,className:v,value:e.query,onFocus:d,onBlur:u,onClick:p,onChange:f,onKeyDown:h,style:{width:r?void 0:i},spellCheck:!1}),n.createElement("div",{className:C.a6,ref:e=>a(Math.max(50,null==e?void 0:e.getBoundingClientRect().width))},y),!!e.query&&!e.hideXIcon&&n.createElement(_.A,{className:C.yi,svg:L.c,onClick:c}))}),U=n.forwardRef((e,t)=>{let{searchInputRef:r,onMouseDown:i,onMouseUp:a,onFocus:o,onBlur:l,onClick:s,onSearchKeyDown:c,onSearchChange:d}=M(e,t);return n.createElement("div",{"data-onboarding-key":e["data-onboarding-key"],className:C.wZ},n.createElement(m.y,{ref:r,placeholder:e.placeholder||(0,g.t)("general.search"),className:C.eu,value:e.query,onMouseDown:i,onMouseUp:a,onFocus:o,onBlur:l,onChange:d,onClick:s,onKeyDown:c,spellCheck:!1}),n.createElement(_.A,{className:C.I$,svg:O.c,onClick:e.onSubmit}))}),B=n.forwardRef((e,t)=>{let{searchInputRef:r,onMouseDown:i,onMouseUp:a,onClearSearchClick:l,onFocus:s,onBlur:c,onClick:d,onSearchKeyDown:p,onSearchChange:h}=M(e,t);return n.createElement("div",{"data-onboarding-key":e["data-onboarding-key"],className:o()(e.className||C.wV,{[C.Ki]:!e.extraSpacing,[C.o$]:e.extraSpacing,[C.iq]:e.hideSearchIcon})},!e.hideSearchIcon&&n.createElement(_.A,{svg:N.c,className:C.eK}),n.createElement(m.y,{ref:r,placeholder:e.placeholder||(0,g.t)("design_systems.publishing_modal.search_placeholder"),className:e.query?C.Ul:C.c5,value:e.query,onMouseDown:i,onMouseUp:a,onFocus:s,onBlur:c,onClick:d,onChange:h,onKeyDown:p,spellCheck:!1}),!!e.query&&!e.hideXIcon&&n.createElement(w.Qn,{recordingKey:u.Mx(e,"closeX"),svg:L.c,onClick:l,"data-tooltip-type":v.wL.TEXT,"data-tooltip":(0,g.t)("search.search_bar.clear")}))}),G=n.forwardRef((e,t)=>{let{searchInputRef:r,onMouseDown:i,onMouseUp:a,onClearSearchClick:o,onFocus:l,onBlur:s,onClick:c,onSearchKeyDown:d,onSearchChange:h}=M(e,t);return n.createElement("div",{"data-onboarding-key":e["data-onboarding-key"],className:`${C.Sd} ${e.className||""}`},n.createElement(_.A,{svg:N.c,className:C._N}),n.createElement(m.y,{ref:r,placeholder:e.placeholder||(0,g.t)("general.search"),className:C.Ws,value:e.query,onMouseDown:i,onMouseUp:a,onFocus:l,onBlur:s,onClick:c,onChange:h,onKeyDown:d,spellCheck:!1,style:e.hasTransparentBackground?{background:"transparent"}:void 0}),n.createElement(p.g9,{className:C.E$,onClick:o,recordingKey:u.Mx(e,"clearSearch")},!!e.query&&n.createElement(g.Tx,{id:"collaboration.branching_to_source.clear"})),!e.hideXIcon&&n.createElement("div",{className:C.kn},n.createElement(_.A,{className:C.yi,svg:L.c,onClick:e.onClose})))}),V=n.forwardRef((e,t)=>{let{loggedOutSearchBarActivated:r,searchInputRef:i,onMouseDown:a,onMouseUp:o,onSearchClick:s,onClearSearchClick:c,onFocus:d,onBlur:u,onClick:p,onSearchKeyDown:h,onSearchChange:f}=M(e,t);return n.createElement("div",{"data-onboarding-key":e["data-onboarding-key"],className:`${C.ue} ${e.className||""}`},!r&&!e.query&&n.createElement("div",{className:C.w$,onClick:()=>s(!0)},n.createElement(_.A,{className:C.e_,svg:O.c})),(r||!!e.query)&&n.createElement("div",{className:C.qe},n.createElement(m.y,{ref:i,placeholder:e.placeholder||(0,g.t)("general.search"),className:C.A7,value:e.query,onMouseDown:a,onMouseUp:o,onFocus:d,onBlur:u,onClick:p,onChange:f,onKeyDown:h,autoFocus:!0,spellCheck:!1}),n.createElement(T.y,{query:`(min-width: ${(0,l.I)(S.Q92)}px)`},n.createElement(_.A,{className:C.yi,svg:R.c,onClick:c})),n.createElement(T.y,{query:`(max-width: ${(0,l.I)(S.Q92)-1}px)`},n.createElement(_.A,{className:C.yi,svg:P.c,onClick:c}))))}),H=n.forwardRef((e,t)=>{let r=n.createRef();return n.useImperativeHandle(t,()=>r.current),n.createElement("div",{className:C.aO,style:e.styleOverrides,onMouseDown:()=>{var e;return null==(e=r.current)?void 0:e.focus()},role:"presentation"},n.createElement(k,{...e,smallFont:!0,className:o()(h.cx.wFull.$,e.className),ref:r}))})},594080:(e,t,r)=>{"use strict";r.d(t,{O:()=>c,U:()=>d});var n=r(307824),i=r(120304),a=r(623131),o=r(372152),l=r(626416),s=r(508709);function c({items:e,getShowMoreLabel:t,pageSize:r=4,shouldResetOnSelectionChange:n,dataTestId:i}){let{visibleItems:a,button:o}=u({items:e,getShowMoreLabel:t,getShowLessLabel:null,pageSize:r,shouldResetOnSelectionChange:n,dataTestId:i});return{visibleItems:a,showMoreButton:o}}function d({items:e,getShowMoreLabel:t,getShowLessLabel:r,pageSize:n=4,shouldResetOnSelectionChange:i,stateStorageAtom:a,dataTestId:o}){let{visibleItems:l,button:s}=u({items:e,getShowMoreLabel:t,getShowLessLabel:r,pageSize:n,shouldResetOnSelectionChange:i,stateStorageAtom:a,dataTestId:o});return{visibleItems:l,showMoreOrLessButton:s}}function u({items:e,getShowMoreLabel:t,getShowLessLabel:r,pageSize:c=4,shouldResetOnSelectionChange:d,stateStorageAtom:u,dataTestId:p}){let m=(0,i.w1)(e=>e.mirror.sceneGraphSelection),_=n.useMemo(()=>(0,a.Zf)(!1),[]),[h,g]=(0,o.lZ)(u||_),f=Math.max(e.length,c),E=Math.min(c,e.length),[y,b]=n.useState(h?f:E),v=e.length,I=n.useMemo(()=>e.slice(0,Math.min(v,y)),[y,e,v]),w=n.useMemo(()=>h&&!0,[h,!0]);n.useEffect(()=>{d&&b(w?v:c)},[c,v,m,b,d,w,!0]);let T=n.useCallback(()=>{g(!0),b(v)},[b,v,g]),S=n.useCallback(()=>{g(!1),b(c)},[b,c,g]),C=v-I.length,A=I.length-c;return{visibleItems:I,button:n.useMemo(()=>{if(w){let e=n.createElement("div",{className:s.u},n.createElement(l.e,{label:r?r(A):"",onClick:S,dataTestId:p}));return A>0?e:null}{let e=n.createElement("div",{className:s.u},n.createElement(l.Y,{label:t(C),onClick:T,dataTestId:p}));return C>0?e:null}},[w,!0,t,r,A,C,S,T,p])}}},223224:(e,t,r)=>{"use strict";r.d(t,{e:()=>_,S:()=>p});var n=r(307824),i=r(341424);function a(e){return null==e?"":new URL(e).hostname}var o=r(560072),l=r(876760),s=r(862968),c=r(537096);let d="link_favicon--favicon--jk134";var u=r(944708);function p({url:e}){let[t]=(0,l.UL)(m(e)),[r,s]=n.useState(null);if(n.useEffect(()=>{"loaded"===t.status&&t.data&&s(URL.createObjectURL(new Blob([new Uint8Array(t.data)],{type:"image/png"})))},[t.data,t.status]),e&&"github"===(0,i.aM)(e))return _();let p=e&&(0,i.o$)(e);return(null==p?void 0:p.toLowerCase())==="jira.com"||(null==p?void 0:p.toLowerCase())==="atlassian.net"?n.createElement("img",{alt:(0,o.t)("design_systems.component_panel.favicon_alt",{hostName:a(e)}),className:d,src:"https://static.figma.com/uploads/aae0db2814117595e45cc509d52e79e7cc31333c"}):(null==p?void 0:p.toLowerCase())==="chromatic.com"?n.createElement("img",{alt:(0,o.t)("design_systems.component_panel.favicon_alt",{hostName:a(e)}),className:d,src:"https://static.figma.com/uploads/ae3807b6d650b52da20879078b85a0df23ee056a"}):"loading"===t.status?n.createElement("div",{className:"link_favicon--faviconLoadingPlaceholder--uJ-Kf"}):r?n.createElement("img",{alt:(0,o.t)("design_systems.component_panel.favicon_alt",{hostName:a(e)}),className:d,src:r}):n.createElement(c.A,{svg:u.c,className:"link_favicon--faviconPlaceholder--CFVEV"})}let m=l.qO.Query({fetch:async e=>e?(await s.g.getFaviconForUrlProxy({url:function(e){return null==e?"":new URL(e).origin}(e)})).data.meta??null:null});function _(){return n.createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.97616 0.163086C3.56555 0.163086 0 3.75492 0 8.19851C0 11.7505 2.28457 14.7572 5.45388 15.8214C5.85012 15.9014 5.99527 15.6485 5.99527 15.4357C5.99527 15.2495 5.9822 14.6109 5.9822 13.9456C3.76343 14.4246 3.30139 12.9877 3.30139 12.9877C2.94482 12.0565 2.41649 11.8171 2.41649 11.8171C1.69029 11.3249 2.46939 11.3249 2.46939 11.3249C3.27494 11.3781 3.69763 12.1497 3.69763 12.1497C4.41061 13.3735 5.55951 13.0277 6.02171 12.8148C6.08767 12.296 6.2991 11.9368 6.52359 11.7373C4.75396 11.551 2.89208 10.8592 2.89208 7.77272C2.89208 6.89468 3.20882 6.17631 3.71069 5.61762C3.63151 5.41811 3.35412 4.59313 3.79004 3.48896C3.79004 3.48896 4.46351 3.27607 5.98204 4.31378C6.63218 4.13789 7.30265 4.04841 7.97616 4.04766C8.64963 4.04766 9.33616 4.14088 9.97012 4.31378C11.4888 3.27607 12.1623 3.48896 12.1623 3.48896C12.5982 4.59313 12.3207 5.41811 12.2415 5.61762C12.7566 6.17631 13.0602 6.89468 13.0602 7.77272C13.0602 10.8592 11.1984 11.5376 9.41551 11.7373C9.70612 11.99 9.9569 12.4689 9.9569 13.2272C9.9569 14.3048 9.94384 15.1696 9.94384 15.4356C9.94384 15.6485 10.0891 15.9014 10.4852 15.8215C13.6545 14.757 15.9391 11.7505 15.9391 8.19851C15.9522 3.75492 12.3736 0.163086 7.97616 0.163086Z",fill:"#24292f",style:{fill:"var(--color-icon)"}}))}},405792:(e,t,r)=>{"use strict";r.d(t,{C:()=>l});var n=r(307824),i=r(441748),a=r(251368),o=r(142548);function l(e){let t=function(e,t=(0,a.A5)().getPrimaryLocale(!1)){return new Intl.DateTimeFormat(t,{month:"short",day:"numeric",year:"numeric",hour:"numeric",minute:"numeric"}).format(i.c.utc(e).toDate())}(e.date,e.locale);return n.createElement("span",{"data-tooltip-type":o.wL.TEXT,"data-tooltip":t},e.children)}},945032:(e,t,r)=>{"use strict";r.d(t,{OI:()=>T,ct:()=>I,wl:()=>w});var n=r(307824),i=r(125504),a=r.n(i),o=r(633008),l=r(843148),s=r(365224),c=r(372152),d=r(888932),u=r(148276),p=r(537096),m=r(560072),_=r(144459),h=r(441388),g=r(90340),f=r(372808),E=r(612564),y=r(146852),b=r(331924);function v(e){let[t,r]=n.useState(e.showBanner),{trackEvent:i}=(0,h.U1)(),l=n.useRef(null),c=(0,s.my)(f.ae),d=(0,o.m)(l)??o.V,E=t?d.height+(e.verticalPadding||0):0;n.useEffect(()=>{c(E)},[E,c]);let v=async()=>{r(!1),await (0,f.FC)({consentRegion:"explicit",cookiesEnabled:!1}),i(g.GU,{trackingDescriptor:_.O.COOKIE_BANNER_EXPLICIT_CONSENT_OPT_OUT})},I=async()=>{r(!1),await (0,f.FC)({consentRegion:"explicit",cookiesEnabled:!0}),i(g.GU,{trackingDescriptor:_.O.COOKIE_BANNER_EXPLICIT_CONSENT_OPT_IN})},w=async()=>{r(!1),await (0,f.FC)({consentRegion:"explicit",cookiesEnabled:!1}),i(g.GU,{trackingDescriptor:_.O.COOKIE_BANNER_EXPLICIT_CONSENT_DISMISS})};return t?n.createElement("div",{className:a()(b.uQ,e.variant===y.W.COMMUNITY&&[b.co,b._6],e.variant===y.W.FILE_VIEWER&&b.cp,e.variant===y.W.PROTOTYPE&&b.tR,e.variant===y.W.AUTH&&[b.co,b._8]),role:"region",ref:l,"aria-label":(0,m.t)("cookies.consent_manager"),"data-testid":"cookie-banner"},n.createElement("div",{className:b.SC},n.createElement(m.Tx,{id:"cookies.explicit_consent_body"})," ",n.createElement(u.wv,{href:T(),target:"_blank",rel:"noreferrer"},n.createElement(m.Tx,{id:"cookies.cookies_settings"}))),n.createElement("div",{className:b.ay},n.createElement(e.SecondaryButton,{onClick:v,"data-testid":"cookie-opt-out-button"},n.createElement(m.Tx,{id:"cookies.do_not_allow_cookies"})),n.createElement(e.PrimaryButton,{onClick:I,"data-testid":"cookie-opt-in-button"},n.createElement(m.Tx,{id:"cookies.allow_all_cookies"}))),n.createElement("div",{className:b.IH},n.createElement("button",{onClick:w,type:"button","data-testid":"cookie-dismiss-button"},n.createElement(p.A,{className:b.qu,svg:e.dismissIcon})))):e.persistentMessage&&n.createElement(h.kH,{name:"Cookie Banner Persistent Message"},e.persistentMessage)||null}function I(e){var t;let r=(0,c.m4)(f.OI),i=!1;return(r===f.kD.UNLOADED&&(i=!0),r!==f.kD.YES||e.persistentMessage||(i=!0),(0,E.i)()&&(i=!0),(null==(t=(0,l.cp)().user_data)?void 0:t.id)&&(i=!0),(0,l.cp)().is_embed&&(i=!0),d.cp.isMeetDevice&&(i=!0),n.useEffect(()=>{!i&&d.cp.isIpadNative&&(0,f.FC)({consentRegion:"explicit",cookiesEnabled:!1})},[i]),i||d.cp.isIpadNative)?null:n.createElement(h.kH,{name:"Cookie Banner",properties:{consentRegion:"explicit"}},n.createElement(v,{...e,showBanner:r===f.kD.NO}))}function w(){return(0,m.t)("cookies.manage_cookies_opt_out")}function T(){return(0,m.Yl)("/consent-preferences/")}},768711:(e,t,r)=>{"use strict";r.d(t,{MY:()=>w,oR:()=>I,yA:()=>v});var n=r(307824),i=r(125504),a=r.n(i),o=r(633008),l=r(843148),s=r(365224),c=r(372152),d=r(888932),u=r(148276),p=r(537096),m=r(144459),_=r(441388),h=r(90340),g=r(372808),f=r(612564),E=r(146852),y=r(331924);function b(e){let[t,r]=n.useState(e.showBanner),[i,l]=n.useState(!1),c=n.useRef(null),d=n.useRef(),f=(0,s.my)(g.ae),b=(0,o.m)(c)??o.V,v=t?b.height+(e.verticalPadding||0):0;n.useEffect(()=>{f(v)},[v,f]);let{trackEvent:I}=(0,_.U1)(),w=n.useRef(I);w.current=I,n.useEffect(()=>()=>{clearTimeout(d.current)},[]);let T=n.useCallback(e=>{var n;(null==(n=c.current)?void 0:n.contains(e.target))||(l(!0),window.removeEventListener("click",T),d.current=setTimeout(async()=>{if(!t)return null;r(!1),await (0,g.FC)({consentRegion:"implicit",cookiesEnabled:!0}),w.current(h.GU,{trackingDescriptor:m.O.COOKIE_BANNER_IMPLICIT_CONSENT_DISMISS})},1e4))},[t]),S=n.useCallback(async()=>{clearTimeout(d.current),i&&(await (0,g.FC)({consentRegion:"implicit",cookiesEnabled:!0}),w.current(h.GU,{trackingDescriptor:m.O.COOKIE_BANNER_IMPLICIT_CONSENT_DISMISS}))},[i]);n.useEffect(()=>{if(t)return window.addEventListener("click",T),window.addEventListener("beforeunload",S),()=>{window.removeEventListener("beforeunload",S),window.removeEventListener("click",T)}},[t,T,S]);let C=async()=>{r(!1),window.removeEventListener("click",T),await (0,g.FC)({consentRegion:"implicit",cookiesEnabled:!1}),w.current(h.GU,{trackingDescriptor:m.O.COOKIE_BANNER_IMPLICIT_CONSENT_OPT_OUT})},A=async()=>{r(!1),window.removeEventListener("click",T),await (0,g.FC)({consentRegion:"implicit",cookiesEnabled:!0}),w.current(h.GU,{trackingDescriptor:m.O.COOKIE_BANNER_IMPLICIT_CONSENT_DISMISS})};return t?n.createElement("div",{className:a()(y.uQ,e.variant===E.W.COMMUNITY&&[y.co,y._6],e.variant===E.W.FILE_VIEWER&&y.cp,e.variant===E.W.PROTOTYPE&&y.tR,e.variant===E.W.AUTH&&[y.co,y._8]),role:"region","aria-label":"Consent Manager",ref:c,"data-testid":"cookie-banner"},n.createElement("div",{className:y.SC},"This website uses cookies, pixel tags, and local storage for performance, personalization, and marketing purposes. Our use of some cookies may be considered a sale, sharing for behavioral advertising, or targeted advertising. For more, see our"," ",n.createElement(u.wv,{rel:"noopener",target:"_blank",href:"/privacy/"},"privacy policy"),". ",n.createElement("b",null,"California Residents")," can learn how personal information is"," ",n.createElement(u.wv,{href:"/privacy/#ca-notice",rel:"noopener",target:"_blank"},"collected"),", including how it is"," ",n.createElement(u.wv,{href:"/privacy/#purpose",rel:"noopener",target:"_blank"},"used"),", whether it is"," ",n.createElement(u.wv,{href:"/privacy/#ca-notice",rel:"noopener",target:"_blank"},"\u201Csold\u201D or \u201Cshared\u201D"),", and how long it is"," ",n.createElement(u.wv,{href:"/privacy/#retention",rel:"noopener",target:"_blank"},"retained"),"."),n.createElement("div",{className:y.ay},n.createElement(e.SecondaryButton,{onClick:C,"data-testid":"cookie-opt-out-button"},"Opt out")),n.createElement("div",{className:y.IH},n.createElement("button",{onClick:A,type:"button","data-testid":"cookie-dismiss-button"},n.createElement(p.A,{className:y.qu,svg:e.dismissIcon})))):e.persistentMessage&&n.createElement(_.kH,{name:"Cookie Banner Persistent Message"},e.persistentMessage)||null}function v(e){var t;let r=(0,c.m4)(g.OI),i=!1;return(r===g.kD.UNLOADED&&(i=!0),r!==g.kD.YES||e.persistentMessage||(i=!0),(0,f.i)()&&(i=!0),(null==(t=(0,l.cp)().user_data)?void 0:t.id)&&(i=!0),(0,l.cp)().is_embed&&(i=!0),d.cp.isMeetDevice&&(i=!0),n.useEffect(()=>{!i&&d.cp.isIpadNative&&(0,g.FC)({consentRegion:"explicit",cookiesEnabled:!1})},[i]),i||d.cp.isIpadNative)?null:n.createElement(_.kH,{name:"Cookie Banner",properties:{consentRegion:"implicit"}},n.createElement(b,{...e,showBanner:r===g.kD.NO}))}let I="Do not sell or share my personal info",w="/opt-out/"},4596:(e,t,r)=>{"use strict";r.d(t,{K0:()=>u,MR:()=>d,Q9:()=>i,U3:()=>s,WW:()=>n,mA:()=>a,o7:()=>o,s5:()=>l,yK:()=>c});let n={sessionID:-1,localID:-1},i="-1:-1",a="[-1:-1]",o=["-1:-1"],l="0:0";function s(e){return!!e&&(0|e.localID)>=0&&(0|e.sessionID)>=0}function c(e,t){return e&&t?e.sessionID===t.sessionID&&e.localID===t.localID:e===t}function d(e){return e?`${0|e.sessionID}:${0|e.localID}`:null}function u(e){if(!e)return null;let t=e.split(":");if(!t||2!==t.length)return null;let r=-1,n=-1;try{r=parseInt(t[0]),n=parseInt(t[1])}catch(e){return null}return isFinite(r)&&isFinite(n)?{sessionID:r,localID:n}:null}},806776:(e,t,r)=>{"use strict";r.d(t,{o:()=>a});var n=r(307824),i=r(585508);let a=n.createContext(new class{constructor(){this.singleTapTouchStartListeners={},this.singleTapTouchMoveListeners={},this.singleTapTouchEndListeners={},this.singleTapMouseDownListeners={},this.singleTapMouseUpListeners={},this.tapCallback=null,this.multiTapTouchStartListeners={},this.multiTapTouchEndListeners={},this.multiTapMouseDownListeners={},this.multiTapMouseUpListeners={},this.multiTapCallbacks={},this.multiTouchLongPressTouchStartListeners={},this.multiTouchLongPressTouchMoveListeners={},this.multiTouchLongPressTouchEndListeners={},this.multiTouchLongPressTouchCancelListeners={},this.multiTouchLongPressPointerDownListeners={},this.multiTouchLongPressPointerMoveListeners={},this.multiTouchLongPressPointerUpListeners={},this.multiTouchLongPressPointerCancelListeners={},this.multiTouchLongPressCallbacks=new Map}installTapGestureRecognizer(e,t){let r,n;this.tapCallback=t;let i=e=>{n=Date.now(),r=e},a=()=>{n=void 0,r=void 0},o=()=>{var e;r&&n&&Date.now()-n<500&&(null==(e=this.tapCallback)||e.call(this,r),a())};this.replaceEventListener(e,"touchstart",e=>{1===e.touches.length&&i({x:e.touches[0].screenX,y:e.touches[0].screenY})},this.singleTapTouchStartListeners,1),this.replaceEventListener(e,"touchmove",e=>{if(1===e.touches.length&&r){let t=e.touches[0];this.didMoveTooMuch([{identifier:0,screenX:t.screenX,screenY:t.screenY}],{0:{screenX:r.x,screenY:r.y}},10)&&a()}else a()},this.singleTapTouchMoveListeners,1),this.replaceEventListener(e,"touchend",o,this.singleTapTouchEndListeners,1),this.replaceEventListener(e,"mousedown",e=>{i({x:e.screenX,y:e.screenY})},this.singleTapMouseDownListeners,1),this.replaceEventListener(e,"mouseup",o,this.singleTapMouseUpListeners,1)}updateTapGestureRecognizer(e,t){this.tapCallback?this.tapCallback=t:this.installTapGestureRecognizer(e,t)}uninstallTapGestureRecognizer(e){this.tapCallback&&(this.tapCallback=null,e.removeEventListener("touchstart",this.singleTapTouchStartListeners[1],!0),e.removeEventListener("touchmove",this.singleTapTouchMoveListeners[1],!0),e.removeEventListener("touchend",this.singleTapTouchEndListeners[1],!0),e.removeEventListener("mousedown",this.singleTapMouseDownListeners[1],!0),e.removeEventListener("mouseup",this.singleTapMouseUpListeners[1],!0))}numTapsInRecencyThreshold(e,t){let r=Date.now(),n=0;for(let i=e.length-1;i>=0;i--)if(Math.abs(e[i]-r)<t)n++;else break;return n}installMultiTapGestureRecognizer(e,t,r){this.multiTapCallbacks[t.numTaps]=r;let n=[],i=!1,a=()=>{let e=Date.now();if(n.push(e),i=this.numTapsInRecencyThreshold(n,500)===t.numTaps)n=[];else for(;n.length>t.numTaps;)n.shift()},o=()=>{var e,r;i&&(null==(r=(e=this.multiTapCallbacks)[t.numTaps])||r.call(e),i=!1)};this.replaceEventListener(e,"touchstart",e=>{1===e.touches.length&&a()},this.multiTapTouchStartListeners,t.numTaps),this.replaceEventListener(e,"touchend",o,this.multiTapTouchEndListeners,t.numTaps),this.replaceEventListener(e,"mousedown",a,this.multiTapMouseDownListeners,t.numTaps),this.replaceEventListener(e,"mouseup",o,this.multiTapMouseUpListeners,t.numTaps)}updateMultiTapGestureRecognizer(e,t,r){this.multiTapCallbacks[t.numTaps]?this.multiTapCallbacks[t.numTaps]=r:this.installMultiTapGestureRecognizer(e,t,r)}installMultiTouchLongPressGestureRecognizer(e,t,r){this.multiTouchLongPressCallbacks.set(r,t);let n=null,a=null,o=e=>{if(null==a){for(let t of(a={},e))a[t.identifier]={screenX:t.screenX,screenY:t.screenY};n=setTimeout(()=>{var t;let n;1===e.length&&(n={x:e[0].screenX,y:e[0].screenY}),null==(t=this.multiTouchLongPressCallbacks.get(r))||t(n),i.CA&&i.CA.cancelPendingGestures&&i.CA.cancelPendingGestures()},500)}},l=()=>{null!=n&&(clearTimeout(n),n=null,a=null)},s=e=>{e.length===r&&a?this.didMoveTooMuch(e,a,10)&&l():l()};this.replaceEventListener(e,"touchstart",e=>{e.touches.length===r?o(e.touches):l()},this.multiTouchLongPressTouchStartListeners,r),this.replaceEventListener(e,"touchmove",e=>s(e.touches),this.multiTouchLongPressTouchMoveListeners,r),this.replaceEventListener(e,"touchend",l,this.multiTouchLongPressTouchEndListeners,r),this.replaceEventListener(e,"touchcancel",l,this.multiTouchLongPressTouchCancelListeners,r),this.replaceEventListener(e,"pointerdown",e=>{1===r&&"touch"!==e.pointerType?o([{identifier:e.pointerId,screenX:e.screenX,screenY:e.screenY}]):l()},this.multiTouchLongPressPointerDownListeners,r),this.replaceEventListener(e,"pointermove",e=>{"touch"!==e.pointerType&&s([{identifier:e.pointerId,screenX:e.screenX,screenY:e.screenY}])},this.multiTouchLongPressPointerMoveListeners,r),this.replaceEventListener(e,"pointerup",l,this.multiTouchLongPressPointerUpListeners,r),this.replaceEventListener(e,"pointercancel",l,this.multiTouchLongPressPointerCancelListeners,r)}updateMultiTouchLongPressGestureRecognizer(e,t,r){this.multiTouchLongPressCallbacks.has(r)?this.multiTouchLongPressCallbacks.set(r,t):this.installMultiTouchLongPressGestureRecognizer(e,t,r)}uninstallMultiTouchLongPressGestureRecognizer(e,t){this.multiTouchLongPressCallbacks.has(t)&&(this.multiTouchLongPressCallbacks.delete(t),e.removeEventListener("touchstart",this.multiTouchLongPressTouchStartListeners[t],!0),e.removeEventListener("touchmove",this.multiTouchLongPressTouchMoveListeners[t],!0),e.removeEventListener("touchend",this.multiTouchLongPressTouchEndListeners[t],!0),e.removeEventListener("touchcancel",this.multiTouchLongPressTouchCancelListeners[t],!0),e.removeEventListener("pointerdown",this.multiTouchLongPressPointerDownListeners[t],!0),e.removeEventListener("pointermove",this.multiTouchLongPressPointerMoveListeners[t],!0),e.removeEventListener("pointerup",this.multiTouchLongPressPointerUpListeners[t],!0),e.removeEventListener("pointercancel",this.multiTouchLongPressPointerCancelListeners[t],!0))}replaceEventListener(e,t,r,n,i){n[i]&&e.removeEventListener(t,n[i],!0),n[i]=r,e.addEventListener(t,n[i],!0)}didMoveTooMuch(e,t,r){for(let n of e){let e=t[n.identifier];if(void 0===e||Math.hypot(e.screenX-n.screenX,e.screenY-n.screenY)>r)return!0}return!1}})},326300:(e,t,r)=>{"use strict";let n,i,a,o;r.d(t,{SS:()=>c,cH:()=>d,e0:()=>s,mc:()=>l});var l=((n=l||{})[n.NONE=0]="NONE",n[n.SPINNER=1]="SPINNER",n[n.IMAGE_BACKED_SPINNER=2]="IMAGE_BACKED_SPINNER",n[n.CHECK=3]="CHECK",n[n.EXCLAMATION=4]="EXCLAMATION",n[n.RETURN_TO_INSTANCE=5]="RETURN_TO_INSTANCE",n[n.PROGRESS=6]="PROGRESS",n[n.UNDO=7]="UNDO",n[n.FROM_URL=8]="FROM_URL",n),s=((i=s||{})[i.SQUARE=0]="SQUARE",i[i.CIRCLE=1]="CIRCLE",i),c=((a=c||{}).UPSELL_LIBRARIES_COMPONENT_CREATION_NUDGE="visual-bell-upsell-library-component-creation-nudge",a.FILE_MOVE_TO_PROJECT_NUDGE="visual-bell-file-move-to-project-nudge",a.FILE_MOVE_TO_NON_DRAFT_PROJECT_WITH_PUBLISH_NUDGE="visual-bell-file-move-to-non-draft-project-with-publish-nudge",a),d=((o=d||{}).TIMEOUT="timeout",o.DISMISS="dismiss",o.ACTION_BUTTON_CLICKED="action_button_click",o)},805404:(e,t,r)=>{"use strict";r.d(t,{Ef:()=>i,sZ:()=>n,sj:()=>a});let n=function(){return!1},i=function(){return!1},a=function(){return 0}},560528:(e,t,r)=>{"use strict";r.d(t,{C:()=>n,U:()=>i});let n=function(){return!1},i=function(){return""}},138780:(e,t,r)=>{"use strict";r.d(t,{Ah:()=>w,IW:()=>I,MB:()=>N,O0:()=>T,Ok:()=>A,Oq:()=>O,cT:()=>y,hB:()=>C,my:()=>S,rg:()=>b});var n=r(946692),i=r(250008),a=r(916924),o=r(843148),l=r(47956),s=r(983044),c=r(557044),d=r(762820),u=r(669856),p=r(670384),m=r(165680),_=r(246120),h=r(504648),g=r(856372);let f="team_feed",E=(e,t,r)=>{let n;let i=new Image;if(i.crossOrigin="anonymous",e.type===_.y8.NODE?n=(0,g.Go)(e.image_url,i).then(async e=>{let n=new Image;if(n.crossOrigin="anonymous",!r)throw Error("Expected a oldNodeImageUrl value");let i=await (0,g.Go)(r,n).then(e=>e.naturalWidth),a=e.naturalWidth/i;return t.state.zoom/=a,(0,g.Gw)(e,t.state)}):e.type===_.y8.IMAGE&&t.url&&(n=Promise.resolve(t.url)),!n)throw Error("Expected a previewImagePromise");return n.then(e=>fetch(e)).then(e=>e.arrayBuffer()).then(e=>{let t=new Uint8Array(e),r=URL.createObjectURL(new Blob([t]));return(0,s.y)(f,t,"image/jpeg").then(({data:e})=>({data:e,localUrl:r}))}).then(({data:e,localUrl:r})=>({previewImageUrl:e.meta.url,localUrl:r,previewState:t.state}))};async function y(e,t,r,o){let s;if(t.find(e=>e.displayContentItem.type===_.y8.NODE||e.displayContentItem.type===_.y8.PROTOTYPE)){let t=new l.uE;t.start();let n=await (0,p.i)(r,o,"",e);t.stop(),(0,i.we)("Team Feed New Savepoint Created",{elapsedTimeMs:t.getElapsedTime()}),s=n.id}let c=t.map(e=>{switch(e.displayContentItem.type){case _.y8.NODE:return e.processedContentItem.then(t=>{let r;let a={...t,fileVersionId:s};return e.preview&&(r=new l.uE).start(),(e.preview?E(a,e.preview,e.displayContentItem.image_url):Promise.resolve(void 0)).then(e=>{r&&(r.stop(),(0,i.we)("Team Feed Preview Uploaded",{elapsedTimeMs:r.getElapsedTime()}));let t=void 0!==e?{...a,preview_image_url:e.previewImageUrl,backgroundColor:(0,n.colorToHex)(e.previewState.backgroundColor),initialX:e.previewState.x,initialY:e.previewState.y,initialZoom:e.previewState.zoom}:a;return(0,_.gP)(t)})});case _.y8.IMAGE:return e.processedContentItem.then(t=>{let r;return e.preview&&(r=new l.uE).start(),(e.preview?E(t,e.preview):Promise.resolve(void 0)).then(e=>{r&&(r.stop(),(0,i.we)("Team Feed Preview Uploaded",{elapsedTimeMs:r.getElapsedTime()}));let a=void 0!==e?{...t,preview_image_url:e.previewImageUrl,backgroundColor:(0,n.colorToHex)(e.previewState.backgroundColor),initialX:e.previewState.x,initialY:e.previewState.y,initialZoom:e.previewState.zoom}:t;return(0,_.gP)(a)})});case _.y8.VIDEO:return e.processedContentItem.then(e=>(0,_.gP)(e));case _.y8.PROTOTYPE:return e.processedContentItem.then(e=>(0,_.gP)({...e,fileVersionId:s}));default:(0,a.gy)(e.displayContentItem)}});return await Promise.all(c)}function b(e,t,r){return t.map(t=>{let r={type:_.y8.NODE,fileKey:e,fileVersionId:"",nodeId:t,image_url:"",isLoading:!0};return{displayContentItem:r,processedContentItem:Promise.resolve(r)}})}let v=(e,t,r)=>h.c.getGenerateImageToken({orgId:r,tokenVersion:"2",fileKey:e}).then(r=>{let n=r.data.meta,i=(0,o.cp)().api_cdn_url||(0,o.cp)().api_url;return c.cp.crossOriginGet(`${i}/v1/images/${e}`,{token:n,scale:g.UB.toString(),ids:t.join(",")})});function I(e){let[t,r]=d.ui7.generateThumbnailForNode(e,g.mM.width,g.mM.height,1,{});return r}async function w(e,t,r,n,a,o){let s;let c=v(e,t,r);if(a)s=t.map(t=>({type:_.y8.NODE,fileKey:e,fileVersionId:"",nodeId:t,image_url:a[t],backgroundColor:o&&o[t]}));else{let r=new l.uE;r.start();let n=t.map(t=>new Promise((r,n)=>{setTimeout(()=>{let n=new Blob([I(t)]),i=URL.createObjectURL(n);r({type:_.y8.NODE,fileKey:e,fileVersionId:"",nodeId:t,image_url:i})},0)}));s=await Promise.all(n),r.stop(),(0,i.we)("Team Feed Client Node Image Generation",{fileKey:e,nodeIds:t,elapsedTimeMs:r.getElapsedTime()})}return t.map((t,r)=>{let i=c.then(i=>{var a;let o=i.data.images;return{type:_.y8.NODE,fileKey:e,fileVersionId:"",nodeId:t,image_url:o[t],backgroundColor:(null==(a=s[r])?void 0:a.backgroundColor)??n}});return{nodeId:t,displayContentItem:s[r],processedContentItem:i}}).reduce((e,t)=>({...e,[t.nodeId]:t}),{})}function T(e,t){return{displayContentItem:{type:_.y8.IMAGE,...e},processedContentItem:(0,u.WK)(e,f).then(e=>({type:_.y8.IMAGE,...e})),fileIdentifier:t}}function S(e,t,r,n){return{displayContentItem:{type:_.y8.VIDEO,mediaType:e.mediaType,path:e.url,sha:"",videoFileUuid:"",coverImage:""},processedContentItem:(0,u.yE)(e,t,r,f).then(e=>({type:_.y8.VIDEO,...e})),fileIdentifier:n}}function C(e,t){let r={...e,type:_.y8.PROTOTYPE,imageUrl:"",prototypeId:0,fileVersionId:""},n=v(e.fileKey,[e.startingNodeId],t).then(t=>(r.imageUrl=t.data.images[e.startingNodeId],r));return{displayContentItem:r,processedContentItem:n}}function A(e){switch(e.displayContentItem.type){case _.y8.NODE:return;case _.y8.IMAGE:URL.revokeObjectURL(e.displayContentItem.url),e.displayContentItem.preview_image_url&&URL.revokeObjectURL(e.displayContentItem.preview_image_url);return;case _.y8.VIDEO:URL.revokeObjectURL(e.displayContentItem.path);return;case _.y8.PROTOTYPE:return;default:(0,a.gy)(e.displayContentItem)}}function O(e,t){let r=e.find(e=>e.type===_.y8.NODE),n=(null==r?void 0:r.mediumImageUrl)||(null==r?void 0:r.preview_image_url)||(null==r?void 0:r.image_url);if(n)return{thumbnail:n,padImage:!r.preview_image_url,thumbnailBackground:(0,m.KC)(r,t)};let i=e.find(e=>e.type===_.y8.PROTOTYPE),a=null==i?void 0:i.imageUrl;if(a)return{thumbnail:a,padImage:!1,thumbnailBackground:(0,m.KC)(i,t)};let o=e.find(e=>e.type===_.y8.IMAGE),l=(null==o?void 0:o.mediumImageUrl)||(null==o?void 0:o.preview_image_url)||(null==o?void 0:o.url);if(l)return{thumbnail:l,padImage:!(null==o?void 0:o.preview_image_url),thumbnailBackground:(0,m.KC)(o,t)};let s=e.find(e=>e.type===_.y8.VIDEO),c=null==s?void 0:s.coverImage;return c?{thumbnail:c,padImage:!1,thumbnailBackground:(0,m.KC)(s,t)}:{thumbnail:"",padImage:!1,thumbnailBackground:(0,m.KC)(null,t)}}function N(e){return!!((0,_.ay)(e)&&void 0!==e.initialX&&void 0!==e.initialY&&void 0!==e.initialZoom&&e.backgroundColor)}},914116:(e,t,r)=>{"use strict";let n,i;r.d(t,{Ah:()=>ep,ER:()=>el,Eb:()=>eo,GM:()=>ea,MN:()=>es,_9:()=>eu,q0:()=>e_});var a=r(307824),o=r(120304),l=r(125504),s=r.n(l),c=r(250008),d=r(916924),u=r(13796),p=r(733960),m=r(843148),_=r(623131),h=r(372152),g=r(87975),f=r(506616),E=r(838836),y=r(47956),b=r(418084),v=r(557044),I=r(102184),w=r(148276),T=r(703520),S=r(537096),C=r(698240),A=r(967540),O=r(560072),N=r(317704),L=r(948544),R=r(403132),P=r(46604),M=r(323576),k=r(740516),D=r(572748),F=r(251596),x=r(514916),U=r(472956),B=r(669856),G=r(291392),V=r(165680),H=r(963280),W=r(246120),K=r(138484),Y=r(203736),q=r(590036),j=r(158196),$=r(192588),Z=r(138780),z=r(388216),Q=r(893316),X=r(484920),J=r(733936),ee=r(921660),et=r(703660),er=r(457748),en=r(973476),ei=r(597432);let ea=(0,Y.U9)(function(e){let t=(0,o.OY)(),r=(0,D.Ce)(),n=ep(),i=a.useCallback(()=>{t(M.oN())},[t]),l=((null==r?void 0:r.name)&&a.createElement(O.Tx,{id:"fig_feed.post_to_org_feed",orgName:r.name}))??a.createElement(O.Tx,{id:"fig_feed.post_to_feed"});return a.createElement($.eW,{header:a.createElement("div",{className:er.je},l),onClose:()=>n(i),maxWidth:$.Ow,disableFixedTop:!0,closeOnEsc:!0},a.createElement(e_,{nodeInfo:e.nodeInfo,uploadInfo:e.uploadInfo,prototypeInfo:e.prototypeInfo,pageBackgroundColor:e.pageBackgroundColor,onSubmitSuccess:e.onSubmitSuccess,entryPoint:e.entryPoint,lockedFileKey:e.lockedFileKey}))},"CreateFeedPostModal"),eo=(0,Y.U9)(function(e){let t=(0,o.OY)(),r=a.useCallback(()=>{t(M.oN())},[t]),n=a.createElement(O.Tx,{id:"fig_feed.edit_post"}),i=(0,f.Qb)(U.M97,{publicUuid:e.feedPostUuid},{enabled:!e.preloadedFeedPost&&!!e.feedPostUuid}),l=a.useMemo(()=>e.preloadedFeedPost?e.preloadedFeedPost:"loaded"===i.status?i.data.feedPost:null,[e.preloadedFeedPost,i]);return a.createElement($.eW,{header:a.createElement("div",{className:er.je},n),onClose:r,maxWidth:$.Ow,disableFixedTop:!0,closeOnEsc:!0},l?a.createElement(eh,{onSubmitSuccess:e.onSubmitSuccess,entryPoint:e.entryPoint,lockedFileKey:e.lockedFileKey,feedPost:l}):a.createElement("div",{className:er.Wi},a.createElement(T.M7,{size:"large"})))},"EditFeedPostModal");var el=((n=el||{}).CONTEXT_MENU="content_menu",n.SHARE="share",n.FEED_HEADER="feed_header",n),es=((i=es||{}).FEED="feed",i.FILE="file",i);let ec=["content_menu","share"],ed=e=>{switch(e.type){case H.a.MAX_UPLOADS_EXCEEDED:return(0,O.t)("fig_feed.too_many_content_items",e.params);case H.a.MAX_VIDEO_SIZE_EXCEEDED:return(0,O.t)("fig_feed.video_file_size_limit_MB",e.params);case H.a.MAX_IMAGE_SIZE_EXCEEDED:return(0,O.t)("fig_feed.image_file_size_limit_MB",e.params);case H.a.INVALID_FILE_TYPE:return(0,O.t)("fig_feed.unsupported_file_types_were_not_uploaded",e.params);case H.a.DUPLICATE_FILE_UPLOAD:return(0,O.t)("fig_feed.already_uploaded_items",e.params);case H.a.FAILED_TO_UPLOAD:return(0,O.t)("fig_feed.error_on_feed_post_creation",e.params);default:(0,d.gy)(e)}},eu=(0,_.Zf)(!1);function ep(){let e=(0,h.m4)(eu),t=(0,o.OY)();return a.useCallback(r=>{if(!e){r();return}t((0,M.A5)({type:em,data:{onConfirm:r},showModalsBeneath:!0}))},[t,e])}let em=(0,Y.U9)(function(e){let t=(0,o.OY)();return a.createElement(j.Co,{destructive:!0,confirmationTitle:a.createElement(O.Tx,{id:"fig_feed.discard_draft"}),confirmText:a.createElement(O.Tx,{id:"fig_feed.discard_draft"}),onConfirm:e.onConfirm,dispatch:t,popStack:!0},a.createElement(O.Tx,{id:"fig_feed.youll_lose_your_post_draft"}))},"PostConfirmDiscardDraftModal");function e_(e){var t,r;let n=(0,o.OY)(),i=(0,D.Ce)(),l=(0,F.C2)(),[d,_]=(0,h.lZ)(eu),[f,k]=a.useState(!1),[U,Y]=a.useState(!0),[j,ea]=a.useState(!1),[eo,el]=a.useState(!1),[es,ep]=a.useState((0,O.t)("fig_feed.title_input_placeholder")),e_={id:(null==i?void 0:i.id)??"",type:x.kR.ORG,name:(null==i?void 0:i.name)??"",isPrivate:!1},[eh,eg]=a.useState(e_),[ef,eE]=a.useState(e_);a.useEffect(()=>{i&&K.Y.getDefaultContainer({orgId:null==i?void 0:i.id}).then(({data:e})=>{if(e.meta){let t={id:e.meta.container_id,type:(0,Q.Q9)(e.meta.container_type),name:e.meta.container_name,isPrivate:e.meta.is_private};eE(t),eg(t)}})},[i]);let[ey,eb]=a.useState(e.nodeInfo??null),ev=e.setMinimized,eI=a.useCallback(e=>{ev&&ev(e)},[ev]),ew=(0,o.w1)(e=>e.modalShown),[eT,eS]=a.useState((0,b.c)()),[eC,eA]=a.useState(0),eO=a.useCallback(()=>{eY(""),ej([]),eI(!0),ea(!1),eD([]),eS((0,b.c)()),eA(0),eb(null)},[eI]),eN=a.useCallback(()=>{n((0,M.A5)({type:em,data:{onConfirm:eO},showModalsBeneath:!0}))},[n,eO]),eL=()=>{ep(W.Et[Math.floor(Math.random()*W.Et.length)]())};a.useEffect(()=>{eL()},[]);let eR=e.pageBackgroundColor,eP=(null==ey?void 0:ey.fileKey)??(null==(t=e.prototypeInfo)?void 0:t.fileKey)??"";a.useEffect(()=>{let t={entryPoint:e.entryPoint};eP&&(t.fileKey=eP),(0,c.we)("Team Feed Create Post Modal Opened",t)},[e.entryPoint,eP]);let eM=a.useCallback((e,t)=>{if(t){n(M.oN());return}let r={text:(0,O.t)("fig_feed.view_post"),action:()=>{n(P.Eh({url:(0,V.Ki)(i.id,{uuid:e})}))}};n(N.A.enqueue({message:(0,O.t)("fig_feed.posted_to_org_feed",{orgName:i.name}),button:r})),n(M.oN())},[n,i]),[ek,eD]=a.useState([]),eF=a.useMemo(()=>new Set(ek.map(e=>e.displayContentItem.type===W.y8.NODE?e.displayContentItem.nodeId:null).filter(e=>null!==e)),[ek]);a.useEffect(()=>{(0,z.WU)(ey,eF,eD,null==i?void 0:i.id,eR)},[ey,eF,eD,null==i?void 0:i.id,eR]);let ex=a.useRef(null);a.useEffect(()=>{let t=e.prototypeInfo;if(!(null==i?void 0:i.id)||!t||ex.current)return;let r=(0,Z.hB)(t,i.id);ex.current=r.displayContentItem,eD(e=>[...e.filter(e=>e.displayContentItem.type!==W.y8.PROTOTYPE),r])},[null==i?void 0:i.id,e.prototypeInfo]);let eU=a.useCallback(e=>{let t=(0,J.cp)(ek[eC].displayContentItem);eA(e.findIndex(e=>(0,J.cp)(e)===t));let r=[];e.forEach(e=>{let t=(0,J.cp)(e),n=ek.find(e=>(0,J.cp)(e.displayContentItem)===t);n?r.push(n):console.error("Expected to have a matchedPendingItem")}),eD(r)},[ek,eC]),eB=a.useCallback(e=>{eA(ek.findIndex(t=>(0,J.cp)(t.displayContentItem)===e))},[ek]),{setContentPreview:eG,snapshotStates:eV}=(0,z.C0)(ek,eD),{onSubmitSuccess:eH}=e,eW=a.useCallback((t,r)=>{v.cp.post("/api/feed_posts",t).then(t=>{ec.includes(e.entryPoint)?eM(t.data.meta.public_uuid,r):(eO(),eL()),r&&n(N.A.enqueue({message:(0,O.t)("fig_feed.post_submission_pending")})),eH&&eH(r)}).catch(()=>{n(A.M.error((0,O.t)("fig_feed.error_on_feed_post_creation"))),Y(!1)})},[n,eM,eH,eO,e.entryPoint]),[eK,eY]=a.useState(""),[eq,ej]=a.useState([]),e$=a.useMemo(()=>({library:new G.wb(i.id)}),[i]);a.useEffect(()=>{Y(eK.trim().length>et.qs||(0,u.IF)(eq).length>et.Ur||0===ek.length)},[eK,eq,ek.length]),a.useEffect(()=>{let e=eK.trim().length>0||!(0,u.z6)(eq);k(e||ek.length>0),_(e)},[eq,_,eK,ek.length]);let eZ=e.lockedFileKey||(null==ey?void 0:ey.fileKey),ez=async t=>{let r=new y.uE;if(r.start(),(0,c.we)("team_feed_onsubmit",{currentOrgPresent:!!i,submitDisabled:U},{logFromProber:!0}),!i||U)return;null==t||t.preventDefault(),Y(!0);let a={description_meta:eq,org_id:i.id};a.background_color=eR;let o=(0,u.IF)(eq);a.content=await (0,Z.cT)(n,ek,eP,eK),(0,c.we)("team_feed_content_awaited",{payloadContent:JSON.stringify(a.content)},{logFromProber:!0});let l=a.content.some(e=>e.pending);a.uuid=eT,eK?a.title=eK:a.title=o.length>0?o.slice(0,40)+"\u2026":(0,O.t)("fig_feed.untitled_post"),eh.id&&eh.type&&(a.container_id=eh.id,a.container_type=(0,Q.k$)(eh.type)),eZ&&(a.attached_file_key=eZ),eW(a,l),r.stop(),(0,c.we)("team_feed_click_to_post_latency",{elapsedTimeMs:r.getElapsedTime()},{forwardToDatadog:!0}),(0,c.we)("Team Feed New Post Submitted",{fileKey:eP,entryPoint:e.entryPoint,text:o,numContentItems:a.content.length,contentItemTypes:a.content.map(e=>e.type),containerId:a.container_id,containerType:a.container_type,isCurrentDefaultContainer:a.container_id===ef.id&&a.container_type===ef.type},{forwardToDatadog:!0})},eQ=a.useCallback((e,t)=>{if(!i)return;let r=Array.from(e);if(0===r.length)return;let a=(0,B.cV)(r,ek.length,W.gp,W.I7,e=>{n(N.A.enqueue({message:ed(e)}))},ek.map(e=>e.fileIdentifier)).map(e=>{let t=(0,B.Ev)(e);if(H.cL.includes(e.type))return(0,Z.O0)(t,e);if(H.Sy.includes(e.type))return(0,Z.my)(t,eT,i.id,e);throw Error("unexpected file type")}),o=void 0!==t?t:ek.length;eD(e=>[...e.slice(0,o),...a,...e.slice(o)]),eA(o)},[n,i,eT,ek]),eX=a.useCallback((e,t)=>()=>{var r;let n=(null==(r=e.current)?void 0:r.files)||null;null!==n&&0!==n.length&&(eQ(n,t),eI(!1),e.current&&(e.current.value=""))},[eQ,eI]),eJ=(0,p.i)(e.uploadInfo);a.useEffect(()=>{e.uploadInfo&&e.uploadInfo!==eJ&&(eI(!1),eQ(e.uploadInfo))},[e.uploadInfo,eJ,eI,eQ]);let e0=a.useCallback(e=>{let t=Math.min(e,Math.max(0,ek.length-2)),r=ek[e];if((0,Z.Ok)(r),eD(t=>t.filter((t,r)=>r!==e)),r.displayContentItem.type===W.y8.NODE){let e=r.displayContentItem.nodeId;eb(t=>{if(t){let r=t.nodeIds.filter(t=>t!==e),n=t.nodeThumbnails,i=n&&r.reduce((e,t)=>(e[t]=n[t],e),{});return{...t,nodeIds:r,nodeThumbnails:i}}return null})}eA(t)},[ek]),e1=a.useCallback((e,t)=>{eQ(e.files,t),el(!1)},[eQ]),e2=a.useRef(null),e4=!!(null==(r=null==ey?void 0:ey.nodeIds)?void 0:r.length),{openPostFromFileModal:e3,attachedFileData:e6}=(0,z.G_)({setLinkedFileNodeInfo:eb,numUserContentItems:ek.length,hasNodeContent:e4,parentModalRef:e2,attachedFileKey:eZ,lockedFileKey:e.lockedFileKey,currentOrgId:null==i?void 0:i.id}),e8=a.useCallback(()=>{let e=ek.map(e=>e.displayContentItem);return a.createElement(I.g,{className:s()(er.sH,eo&&er.q4),isDragTarget:()=>!0,onTargetDragEnter:()=>el(!0),onTargetDragLeave:()=>el(!1),onTargetDrop:e=>e1(e)},a.createElement(J.Ir,{contentItems:e,staticContent:!0,scrollable:!1,deleteItemAtIdx:j?void 0:e0,pageBackgroundColor:eR,onReorderCallback:j?void 0:eU,shouldScrollToIndex:null,selectedIdx:eC,setSelectedIdx:eA,onFileInputChange:eX,setSelectedContent:eB,snapshotStates:eV,setContentPreview:eG,openPostFromFileModal:e3,attachedFile:e6,dragging:eo,mode:"create"}))},[eR,eo,eU,e0,j,ek,e1,eC,eX,eB,eV,eG,e3,e6]),e5=a.useCallback(e=>{e.keyCode===g.as.ESCAPE&&eI(!0)},[eI]),e7=a.useCallback(()=>{ew||(f&&(eY(e=>e.trim()),(0,u.z6)(eq)&&ej([])),eI(!0))},[eq,eI,ew,f]),e9=a.useCallback(()=>{e7(),n(M.oN())},[n,e7]),te=a.createElement("div",{className:s()(er.CG,d&&er.Iz),onKeyDown:e.disabled?E.Kw:e5,role:"textbox",tabIndex:0,onClick:()=>!e.disabled&&eI(!1)},l&&a.createElement("div",{className:er.S},a.createElement(ee.o,{user:l,size:L.Qt.LARGE})),a.createElement("div",{className:er.A9},a.createElement("div",{className:er.QJ},a.createElement("div",{className:er.ee},a.createElement("div",{className:er.Uz},eK||es," ",eK&&a.createElement("span",{className:er.A$},(0,O.t)("fig_feed.draft")))),a.createElement("div",{className:er.ae},a.createElement(w.gV,{disabled:!0,dataTestId:"feed-post-post"},a.createElement(O.Tx,{id:"fig_feed.post"})))))),tt=a.createElement("div",{className:er.gd,onKeyDown:e5,role:"textbox",tabIndex:0,onClick:()=>eI(!1),ref:e2},a.createElement("div",{className:er.q8},e8(),i&&l?a.createElement("div",{className:er.oH},a.createElement(et.If,{fallback:null,errorFallback:null,user:l,currentOrgId:i.id,autofocus:!0,mentionables:e$,onSubmit:U?void 0:ez,submitOnEnter:!1,hideSubmitButton:!0,description:eq,updateDescription:ej,title:eK,updateTitle:eY,displayDecoratorsDownwards:!0,minimized:e.minimized,readOnly:j,editableTypeaheadClass:en.wv,openPostFromFileModal:()=>e3({skipFrameSelection:!e4}),fileData:e6,lockFileAddition:ek.length>=W.gp,parentRef:e2,canUnlinkFile:!e4&&!e.lockedFileKey,unlinkFile:()=>eb(null)})):null),a.createElement("div",{className:er.mU},a.createElement("div",{className:er.C6},a.createElement("div",{className:C.cx.flex.itemsCenter.$},a.createElement(O.Tx,{id:"fig_feed.post_to"}),a.createElement(X.c2,{dropdownId:X.Om,orgId:i.id,defaultContainer:ef,selectedContainer:eh,onContainerSelect:e=>{eg(e),n(R.yi())},onSetDefaultContainer:eE,hideAllSpaces:!0,showMemberCount:!0,showUnusedContainers:!0},a.createElement("div",{className:C.cx.flex.justifyCenter.itemsCenter.ml8.pr4.pl8.h32.maxW300.borderBox.bRadius5.colorBorder.b1.bSolid.overflowHidden.selectNone.$,"data-onboarding-key":"feed-audience-container-selection-nux"},a.createElement(X.wv,{option:eh,defaultContainer:ef,showMemberCount:!1}),a.createElement("div",{className:er.SO},a.createElement(S.A,{svg:ei.c})))),a.createElement(q.W,null))),a.createElement("div",{className:er.ID},!ec.includes(e.entryPoint)&&(f?a.createElement(w.wX,{onClick:e=>{e.stopPropagation(),eN()}},a.createElement(O.Tx,{id:"fig_feed.discard_draft"})):a.createElement(w.wX,{onClick:e=>{e.stopPropagation(),eO()}},a.createElement(O.Tx,{id:"general.cancel"}))),a.createElement(w.gV,{onClick:e=>{if(!j)return ea(!0),ez(e).finally(()=>{ea(!1)})},disabled:U,dataTestId:"feed-post-post",className:j?er.if:er.yt},j&&a.createElement("div",{className:er.d0},a.createElement(T.M7,{shouldMatchTextColor:!0,size:"medium"})),j?a.createElement(O.Tx,{id:"fig_feed.posting"}):a.createElement(O.Tx,{id:"fig_feed.post"}))))),tr=((null==i?void 0:i.name)&&a.createElement(O.Tx,{id:"fig_feed.post_to_org_feed",orgName:i.name}))??a.createElement(O.Tx,{id:"fig_feed.post_to_feed"});return i&&l&&(0,m.Ub)().xr_debounce_threshold?"feed_header"===e.entryPoint?a.createElement(a.Fragment,null,te,!e.minimized&&a.createElement($.eW,{header:a.createElement("div",{className:er.je},tr),onClose:e9,maxWidth:$.Ow,disableFixedTop:!0},tt)):tt:null}function eh(e){var t;let r=(0,o.OY)(),n=(0,D.Ce)(),i=(0,F.C2)(),[l,d]=a.useState(!0),[p,_]=a.useState(!1),[h,f]=a.useState(!1),E=(0,Q.m0)(e.feedPost),y=e.feedPost.publicUuid,b=a.useMemo(()=>e.feedPost.content.map(e=>JSON.parse(e)),[e.feedPost]),[S,C]=a.useState(b.reduce((e,t)=>{if(t.type!==W.y8.NODE)return e;e.fileKey=t.fileKey;let r=t.nodeId;return e.nodeIds.push(r),e},{fileKey:e.feedPost.fileKey||"",nodeIds:[]})),L=a.useMemo(()=>{let e=b.find(e=>e.type===W.y8.PROTOTYPE);return e?{fileKey:e.fileKey,pageId:e.pageId,startingNodeId:e.startingNodeId}:null},[b]),[R,x]=a.useState(0),U=a.useCallback(()=>{r(M.oN())},[r]),K=a.useCallback(()=>{r((0,M.A5)({type:em,data:{onConfirm:U},showModalsBeneath:!0}))},[r,U]),Y=e.lockedFileKey||(null==S?void 0:S.fileKey)||(null==L?void 0:L.fileKey);a.useEffect(()=>{let t={entryPoint:e.entryPoint};Y&&(t.fileKey=Y),(0,c.we)("Team Feed Edit Post Modal Opened",t)},[e.entryPoint,Y]);let q=a.useCallback((e,t,i)=>{if(t){r(M.oN());return}let a={text:(0,O.t)("fig_feed.view_post"),action:()=>{r(P.Eh({url:(0,V.Ki)(n.id,{uuid:e})}))}};r(N.A.enqueue({message:(0,O.t)("fig_feed.post_edited"),button:i?a:void 0})),r(M.oN())},[r,n]),[j,$]=a.useState(b.map(e=>{let t=(0,Z.MB)(e),r=(0,W.ay)(e)&&!!e.hasPreviousEditPreview,n={...e,copiedToS3:e.type===W.y8.NODE||e.type===W.y8.PROTOTYPE,shouldBlockEditPreview:r&&!t};return{displayContentItem:n,processedContentItem:Promise.resolve(n)}})),X=a.useMemo(()=>new Set(j.map(e=>e.displayContentItem.type===W.y8.NODE?e.displayContentItem.nodeId:null).filter(e=>null!==e)),[j]);a.useEffect(()=>{(0,z.WU)(S,X,$,null==n?void 0:n.id)},[S,X,$,null==n?void 0:n.id]);let ee=a.useCallback(e=>{let t=(0,J.cp)(j[R].displayContentItem);x(e.findIndex(e=>(0,J.cp)(e)===t));let r=[];e.forEach(e=>{let t=(0,J.cp)(e),n=j.find(e=>(0,J.cp)(e.displayContentItem)===t);n?r.push(n):console.error("Expected to have a matchedPendingItem")}),$(r)},[j,R]),ei=a.useCallback(e=>{x(j.findIndex(t=>(0,J.cp)(t.displayContentItem)===e))},[j]),{setContentPreview:ea,snapshotStates:eo}=(0,z.C0)(j,$),{onSubmitSuccess:el}=e,es=a.useCallback((t,n)=>{v.cp.put(`/api/feed_posts/${y}`,t).then(t=>{q(t.data.meta.public_uuid,n,"file"===e.entryPoint),n&&r(N.A.enqueue({message:(0,O.t)("fig_feed.post_submission_pending")})),el&&el(n)}).catch(()=>{r(A.M.error((0,O.t)("fig_feed.error_on_feed_post_creation"))),d(!1)})},[r,q,el,y,e.entryPoint]),[ec,eu]=a.useState(e.feedPost.title||""),[ep,e_]=a.useState((0,k.MF)(e.feedPost.descriptionMeta)),eh=a.useMemo(()=>({library:new G.wb(n.id)}),[n]);a.useEffect(()=>{d(ec.trim().length>et.qs||(0,u.IF)(ep).length>et.Ur||0===j.length)},[ec,ep,j.length]);let eg=async t=>{if(!n||l)return;null==t||t.preventDefault(),d(!0);let i={description_meta:ep,org_id:n.id},a=(0,u.IF)(ep);i.content=await (0,Z.cT)(r,j,Y??"",ec),(0,c.we)("team_feed_content_awaited",{payloadContent:JSON.stringify(i.content)},{logFromProber:!0});let o=i.content.some(e=>e.pending);ec?i.title=ec:i.title=a.length>0?a.slice(0,40)+"\u2026":(0,O.t)("fig_feed.untitled_post"),Y&&(i.attached_file_key=Y),es(i,o),(0,c.we)("Team Feed Post Edited",{fileKey:Y,entryPoint:e.entryPoint,text:a,numContentItems:i.content.length,contentItemTypes:i.content.map(e=>e.type)},{forwardToDatadog:!0})},ef=a.useCallback((e,t)=>{if(!n)return;let i=Array.from(e);if(0===i.length)return;let a=(0,B.cV)(i,j.length,W.gp,W.I7,e=>{r(N.A.enqueue({message:ed(e)}))},j.map(e=>e.fileIdentifier)).map(e=>{let t=(0,B.Ev)(e);if(H.cL.includes(e.type))return(0,Z.O0)(t,e);if(H.Sy.includes(e.type))return(0,Z.my)(t,y,n.id,e);throw Error("unexpected file type")}),o=void 0!==t?t:j.length;$(e=>[...e.slice(0,o),...a,...e.slice(o)]),x(o)},[r,n,y,j]),eE=a.useCallback((e,t)=>()=>{var r;let n=(null==(r=e.current)?void 0:r.files)||null;null!==n&&0!==n.length&&(ef(n,t),e.current&&(e.current.value=""))},[ef]),ey=a.useCallback(e=>{let t=Math.min(e,Math.max(0,j.length-2)),r=j[e];if((0,Z.Ok)(r),$(t=>t.filter((t,r)=>r!==e)),r.displayContentItem.type===W.y8.NODE){let e=r.displayContentItem.nodeId;C(t=>{if(t){let r=t.nodeIds.filter(t=>t!==e),n=t.nodeThumbnails,i=n&&r.reduce((e,t)=>(e[t]=n[t],e),{});return{...t,nodeIds:r,nodeThumbnails:i}}return null})}x(t)},[j]),eb=a.useCallback((e,t)=>{ef(e.files,t),f(!1)},[ef]),ev=a.useRef(null),eI=!!(null==(t=null==S?void 0:S.nodeIds)?void 0:t.length),{openPostFromFileModal:ew,attachedFileData:eT}=(0,z.G_)({setLinkedFileNodeInfo:C,numUserContentItems:j.length,hasNodeContent:eI,parentModalRef:ev,attachedFileKey:Y,lockedFileKey:e.lockedFileKey,currentOrgId:null==n?void 0:n.id}),eS=a.useCallback(()=>{let t=j.map(e=>e.displayContentItem);return a.createElement(I.g,{className:s()(er.sH,h&&er.q4),isDragTarget:()=>!0,onTargetDragEnter:()=>f(!0),onTargetDragLeave:()=>f(!1),onTargetDrop:e=>eb(e)},a.createElement(J.Ir,{contentItems:t,staticContent:!0,scrollable:!1,deleteItemAtIdx:p?void 0:ey,pageBackgroundColor:e.feedPost.backgroundColor??void 0,onReorderCallback:p?void 0:ee,shouldScrollToIndex:null,selectedIdx:R,setSelectedIdx:x,onFileInputChange:eE,setSelectedContent:ei,snapshotStates:eo,setContentPreview:ea,openPostFromFileModal:ew,attachedFile:eT,dragging:h,mode:"edit"}))},[e.feedPost,h,ee,ey,p,j,eb,R,eE,ei,eo,ea,ew,eT]),eC=a.useCallback(e=>{e.keyCode===g.as.ESCAPE&&U()},[U]);return n&&i&&(0,m.Ub)().xr_debounce_threshold?a.createElement("div",{className:er.gd,onKeyDown:eC,role:"textbox",tabIndex:0,ref:ev},a.createElement("div",{className:er.q8},eS(),n&&i?a.createElement("div",{className:er.oH},a.createElement(et.If,{fallback:null,errorFallback:null,user:i,currentOrgId:n.id,autofocus:!0,mentionables:eh,onSubmit:l?void 0:eg,submitOnEnter:!1,hideSubmitButton:!0,description:ep,updateDescription:e_,title:ec,updateTitle:eu,displayDecoratorsDownwards:!0,minimized:!1,readOnly:p,editableTypeaheadClass:en.wv,openPostFromFileModal:()=>ew({skipFrameSelection:!eI}),fileData:eT,lockFileAddition:j.length>=W.gp,parentRef:ev,canUnlinkFile:!eI&&!e.lockedFileKey,unlinkFile:()=>C(null)})):null),a.createElement("div",{className:er.mU},a.createElement("div",{className:er.C6},a.createElement("div",{className:er.Uo},a.createElement("div",{className:er.Er},a.createElement(O.Tx,{id:"fig_feed.post_to"})),a.createElement("div",{className:er.Qr},a.createElement("div",{className:er.oE},a.createElement(Q.IL,{containerInfo:E,withoutTooltip:!0}),a.createElement("div",{className:er.EZ},E.name))))),a.createElement("div",{className:er.ID},a.createElement(w.wX,{onClick:e=>{e.stopPropagation(),K()}},a.createElement(O.Tx,{id:"fig_feed.discard_edit"})),a.createElement(w.gV,{onClick:e=>{if(!p)return _(!0),eg(e).finally(()=>{_(!1)})},disabled:l,dataTestId:"feed-post-post",className:p?er.if:er.yt},p&&a.createElement("div",{className:er.d0},a.createElement(T.M7,{shouldMatchTextColor:!0,size:"medium"})),p?a.createElement(O.Tx,{id:"fig_feed.saving"}):a.createElement(O.Tx,{id:"general.save"}))))):null}},741648:(e,t,r)=>{"use strict";let n;r.d(t,{Gu:()=>O,cb:()=>v,Ck:()=>b,cf:()=>E});var i=r(307824),a=r(120304),o=r(125504),l=r.n(o),s=r(560072),c=r(753432),d=r(833492),u=r(142548),p=r(235020),m=r(42576),_=r(808324),h=r(964900),g=r(935164),f=r(809664),E=((n=E||{}).ActualSize="Actual Size",n.Default="Default",n.Fit="Fit to Screen",n.FitWidth="Fit Width",n.FillScreen="Fill Screen",n);let y={"Actual Size":()=>(0,s.t)("fig_feed.zoom_pan_preset.actual_size"),Default:()=>(0,s.t)("fig_feed.zoom_pan_preset.default"),"Fit to Screen":()=>(0,s.t)("viewer.options_menu.fit_to_screen"),"Fill Screen":()=>(0,s.t)("viewer.options_menu.fill_screen"),"Fit Width":()=>(0,s.t)("viewer.options_menu.fit_width")},b=Object.keys(E),v="Default";class I extends p.M1{}class w extends p.cb{}let T={format:e=>e in E?y[E[e]]():(0,s.t)("fig_feed.zoom_pan_preset.custom")};function S({reportWidth:e,inputProps:t}){let r=i.useRef(null),n=t.property;return i.useLayoutEffect(()=>{let t=r.current;return t&&e(n,t.getBoundingClientRect().width),()=>e(n,void 0)},[r,n,e]),i.createElement("div",{className:f._2,"aria-hidden":!0},i.createElement(p._8,{...t,containerClassName:l()(t.containerClassName,f.C7),ref:r}))}function C({reportWidth:e,value:t,optionProps:r}){let n=i.useRef(null);return i.useLayoutEffect(()=>{var r;let i=null==(r=n.current)?void 0:r.getElement();return i&&e(t,i.getBoundingClientRect().width),()=>e(t,void 0)},[n,t,e]),i.createElement("div",{className:f._2,"aria-hidden":!0},i.createElement(w,{...r,additionalStylesClassName:l()(r.additionalStylesClassName,f.SO),ref:n}))}function A(e){let[t,r]=i.useState(void 0),[n,o]=i.useState(void 0),l=(0,a.OY)(),p=(0,d.g)(),m=i.useMemo(()=>({inputClassName:"edit_preview_toolbar--input--FPZy0 text--fontNeg11--StdFq text--_fontBase--QdLsd text--_negText--j9g-L",formatter:T}),[]),h=i.useMemo(()=>i.createElement(_.e,{setMaxWidth:r,render:({reportWidthOfValue:e})=>i.createElement(i.Fragment,null,b.map(t=>i.createElement(S,{key:t,reportWidth:e,inputProps:{...m,property:t}})))}),[m]),g=i.useMemo(()=>i.createElement(_.e,{setMaxWidth:o,render:({reportWidthOfValue:e})=>i.createElement(i.Fragment,null,b.map(t=>i.createElement(C,{key:t,value:t,reportWidth:e,optionProps:{height:32,value:t,formattedValue:T.format(t)}})))}),[]);return i.createElement("div",{className:"edit_preview_toolbar--zoomPanPresetSelectorContainer--45Nn2","data-tooltip-show-above":!0,"data-tooltip-type":u.wL.TEXT,"data-tooltip":(0,s.t)("fig_feed.zoom_pan_preset.tooltip")},g,h,i.createElement(I,{...m,inputWidth:t,property:e.value,onChange:t=>{e.setZoomPanPreset(t)},chevronClassName:"edit_preview_toolbar--chevron--zjsKc",dropdownClassName:c.cp,id:`feedZoomPanPresetControl:${e.id}`,blurOnChange:!0,dropdownAlignment:"right",recordingKey:"feedZoomPanPreset",dispatch:l,dropdownShown:p,targetDomNode:document.body,dropdownWidth:n,preventHiddenInput:"always",ariaLabel:(0,s.t)("fig_feed.zoom_pan_preset.tooltip"),role:"combobox"},b.map(e=>i.createElement(w,{key:e,value:e,fullWidth:!0}))))}function O({id:e,backgroundColor:t,setBackgroundColor:r,zoomPanPreset:n,setZoomPanPreset:a,onResetCallback:o,applyToAllCallback:c}){let d=!(n in E);return i.createElement("div",{className:"edit_preview_toolbar--editPreviewToolbar--Gvlyc"},i.createElement(m.kG,{value:t,onColorChange:r,recordingKey:"teamFeedEditablePreviewBackgroundColorControl",paletteType:"base",buttonCaretType:"down",buttonSize:"small",optionSize:"medium",positionX:()=>0,positionY:(e,t)=>(0,g.Wu)(e,t,4),dropperDisabled:!0,inlineButtonTooltip:(0,s.t)("fig_feed.background_color.tooltip"),onlyShowCustomColorPopover:!0}),i.createElement(h.UL,null),i.createElement(A,{id:e,value:n,setZoomPanPreset:a}),!!c&&i.createElement(i.Fragment,null,i.createElement(h.UL,null),i.createElement(h.q,{tooltip:(0,s.t)("fig_feed.apply_to_all.tooltip"),tooltipMaxWidth:200,caret:"none",onClick:async()=>{await c()},disabled:d,recordingKey:"teamFeedResetPreview"},i.createElement("span",{className:l()({"edit_preview_toolbar--buttonDisabled--hE0Am":d})},(0,s.t)("fig_feed.apply_to_all")))),o&&i.createElement(i.Fragment,null,i.createElement(h.UL,null),i.createElement(h.q,{tooltip:(0,s.t)("fig_feed.reset.tooltip"),tooltipMaxWidth:200,caret:"none",onClick:o,recordingKey:"teamFeedResetPreview"},i.createElement("span",null,(0,s.t)("fig_feed.reset")))))}},484920:(e,t,r)=>{"use strict";let n;r.d(t,{c2:()=>j,wv:()=>q,Om:()=>V,Wq:()=>Z});var i=r(307824),a=r(120304),o=r(125504),l=r.n(o),s=r(250008),c=r(972920),d=r(760780),u=r(838836),p=r(733500),m=r(103839),_=r(204792),h=r(577824),g=r(703520),f=r(71556),E=r(672352),y=r(537096);function b(e){let{tabs:t,selectedTabKey:r,onTabClick:n}=e;return i.createElement("div",{className:"tab_group--tabs--ChhR5"},t.map(e=>i.createElement("button",{key:e.key,className:e.key===r?"tab_group--selectedTab--dwZ1b tab_group--tab--j43X-":"tab_group--tab--j43X-",onClick:()=>n(e.key)},e.label)))}var v=r(698240),I=r(560072),w=r(317704),T=r(403132),S=r(736512);class C{constructor(e,t={list:S.s.getFeedPostCreators,search:S.s.searchFeedPostCreators}){this.api=t,this.orgId=e}async list(){try{let{data:{meta:e}}=await this.api.list({orgId:this.orgId});return e}catch(e){console.error("An error ocurred while trying to fetch feed post creator contacts.",e)}return[]}async search(e){try{let{data:{meta:t}}=await this.api.search({query:e,orgId:this.orgId});return t}catch(e){console.error("An error ocurred while searching for feed post creator contacts.",e)}return[]}maxResultsLength(){return 100}}var A=r(251596),O=r(246120),N=r(142548),L=r(138484),R=r(437068),P=r(740718),M=r(101040),k=r(893316),D=r(42464),F=r(597432),x=r(824928),U=r(684936),B=r(166996);let G="feed-user-filter-dropdown",V="feed-container-creation-dropdown";var H=((n=H||{})[n.DEFAULT=0]="DEFAULT",n[n.LIGHT=1]="LIGHT",n);function W(){return i.createElement("div",{className:D.yW})}function K(e){let{setSelectedOption:t}=e,r=i.useRef(null),n=i.useRef(""),[a,o]=i.useState(""),[l,s]=i.useState([]),[d,u]=i.useState(!1),{search:p}=e,b=i.useCallback(async e=>{try{u(!0);let t=await p(e);s(t)}catch(e){console.error(e)}finally{u(!1)}},[p]);i.useEffect(()=>{a&&n.current!==a&&b(a),n.current=a},[a,b]);let v=(0,c.C)(o,250),w=i.useCallback(()=>o(""),[]),T=i.useCallback(e=>{v(e)},[v]),{searchInputRef:S,onMouseDown:C,onMouseUp:A,onBlur:O,onSearchChange:N,onSearchKeyDown:L,onClearSearchClick:k,onClearSearchKeyDown:F}=(0,E.yq)({query:a,focusOnMount:!1,clearSearch:w,onChange:T},r),U=i.useCallback(e=>{"Enter"===e.key&&F(e),e.stopPropagation()},[F]),G=i.useCallback(e=>()=>{t(e)},[t]);return i.createElement(R.g,{dropdownId:e.dropdownId,renderDropdown:t=>{let r=i.createElement("div",{className:D.Ud,key:"search-bar"},i.createElement(y.A,{className:D.I6,svg:x.c}),i.createElement(h.y,{className:D.k$,ref:S,placeholder:e.searchPlaceholder,value:a,onChange:N,onKeyDown:L,onMouseDown:C,onMouseUp:A,onBlur:O,style:{width:"100%"},autoFocus:!0}),!!a&&i.createElement("button",{className:D.yy,onClick:k,onKeyDown:U},i.createElement(y.A,{svg:B.c}))),n=a?l:e.initialOptions,o=(t,r,n,a)=>{switch(t.optionType){case"no_matching_results":return i.createElement("div",{key:"no-matching-results",className:D.m6},i.createElement(I.Tx,{id:"fig_feed.no_matching_results"}));case"group":let l=`${r}-group`;return i.createElement(i.Fragment,{key:`${r}-frag`},t.label&&i.createElement("div",{className:D.qp},t.label),t.options.map((e,t)=>o(e,t,l)),!a&&i.createElement(W,null));case"option":return i.createElement(_.g.CheckableOption,{key:`${r}-${t.id}${n?`-${n}`:""}`,className:D.Os,onClick:G(t),checked:e.selectedOption===t.id},t.display)}},s=i.createElement(f.f,{maxHeight:e.maxContentHeight,hideScrollbar:!0},e.defaultDisplay&&i.createElement(i.Fragment,null,i.createElement(_.g.CheckableOption,{className:D.Os,onClick:G(null),checked:null===e.selectedOption},e.defaultDisplay),i.createElement(W,null)),d?i.createElement("div",{className:D.kH},i.createElement(g.M7,{size:"small"})):n.map((e,t)=>o(e,t,void 0,t===n.length-1))),c=i.createElement(i.Fragment,null,r,i.createElement(W,{key:"initial-separator"}),s);return 1===e.type?i.createElement(M.G0,{title:"",headerSize:"hidden",initialConstraints:{x:"left",y:"bottom"},initialPosition:new m.Cg(t.x,window.innerHeight-t.bottom),initialWidth:300,maxWidth:300,dragHeaderOnly:!1,containerClassName:D.E8,frameStyle:{borderRadius:"4px"},disableDragging:!0},i.createElement("div",{className:D.AH},c)):i.createElement(P.Mx,{showPoint:!0,targetRect:t,lean:"left",minWidth:300,maxWidth:300,disableDropdownScrollContainer:!0,propagateCloseClick:!0},i.createElement("div",{className:D.CW},c))},hideOverflow:!0},e.children)}let Y=(0,p._o)();function q(e){let t=e.defaultContainer&&e.option.id===e.defaultContainer.id&&e.option.type===e.defaultContainer.type,r=e.defaultContainer&&!t&&e.setDefaultContainer,n=e.showSecretTeamTooltip&&e.option.isPrivate?(0,I.t)("fig_feed.secret_team_tooltip",{containerName:e.option.name}):void 0;return i.createElement("div",{className:D.Ij},i.createElement("div",{className:D.ui,"data-tooltip-type":N.wL.TEXT,"data-tooltip":n},i.createElement(k.IL,{containerInfo:{type:e.option.type},withoutTooltip:!0}),i.createElement("div",{className:D.aS},i.createElement("div",{className:D.u},e.option.name),e.option.isPrivate&&i.createElement(y.A,{className:D.Yh,svg:U.c}),t&&i.createElement("div",{className:D.GM},i.createElement(I.Tx,{id:"fig_feed.default_in_parens"})))),e.showMemberCount&&null!=e.option.memberCount&&i.createElement("div",{className:l()(D.qe)},i.createElement("div",{className:l()(D.W0,{[D.qK]:r})},i.createElement(I.Tx,{id:"fig_feed.num_members",numMembers:e.option.memberCount??0})),r&&i.createElement("div",{className:D.g$,onMouseDown:t=>{var r;t.stopPropagation(),null==(r=e.setDefaultContainer)||r.call(e,e.option)},role:"button",tabIndex:0},i.createElement(I.Tx,{id:"fig_feed.set_as_default"}))))}function j(e){var t;let r=(0,a.OY)(),[n,o]=i.useState(e.selectedContainer?[{...e.selectedContainer,optionType:"option",display:e.selectedContainer.name??""}]:[]),{onContainerSelect:l,onSetDefaultContainer:c}=e,u=(0,A.C2)(),p=i.useCallback(t=>{var n,i;(t.id!==(null==(n=e.defaultContainer)?void 0:n.id)||t.type!==(null==(i=e.defaultContainer)?void 0:i.type))&&((0,s.we)("Team Feed Set Default Audience",{containerId:t.id,containerType:t.type,userId:null==u?void 0:u.id,orgId:e.orgId}),L.Y.setDefaultContainer({containerId:t.id,containerType:(0,k.k$)(t.type),orgId:e.orgId}).then(()=>{l(t),c(t),r(w.A.enqueue({message:(0,I.t)("fig_feed.new_default_container_has_been_set")}))}))},[r,e.orgId,l,c,null==u?void 0:u.id,e.defaultContainer]),m=i.useCallback(async t=>{let r=`/api/feed_posts/${e.orgId}/containers`,n=new URLSearchParams;t&&n.append("query",t),e.showMemberCount&&n.append("with_member_count","true"),e.showUnusedContainers&&n.append("with_unused_containers","true");let a=`${r}?${n.toString()}`;try{let r=await Y.validate(async({xr:e})=>await e.get(a)).then(e=>e.data.meta),n=t=>{let r=(0,k.Q9)(t.container_type),n={id:t.container_id,type:r,name:t.display_name,isPrivate:t.is_private,memberCount:t.member_count};return{optionType:"option",...n,display:i.createElement(q,{option:n,defaultContainer:e.defaultContainer,showMemberCount:e.showMemberCount,setDefaultContainer:p})}},o=(e,t)=>({optionType:"group",label:t,options:e.map(n)}),l=e.selectedContainer&&e.selectedContainer.id&&e.selectedContainer.type&&r.member_results.concat(r.results).some(t=>t.container_id===e.selectedContainer.id&&(0,k.Q9)(t.container_type)===e.selectedContainer.type),s=[];return!l&&e.selectedContainer&&s.push(o([{container_id:e.selectedContainer.id,container_type:(0,k.k$)(e.selectedContainer.type),display_name:e.selectedContainer.name,is_private:e.selectedContainer.isPrivate}],null)),0===r.member_results.length&&0===r.results.length?s.push({optionType:"no_matching_results"}):(r.member_results.length>0&&s.push(o(r.member_results,t?(0,I.t)("fig_feed.your_spaces"):(0,I.t)("fig_feed.your_recent_spaces"))),r.results.length>0&&s.push(o(r.results,t?(0,I.t)("fig_feed.other_spaces"):(0,I.t)("fig_feed.other_recent_spaces")))),s}catch(e){console.error(e)}return[]},[e.orgId,e.showMemberCount,e.showUnusedContainers,e.selectedContainer,e.defaultContainer,p]);(0,d.u)(()=>{m(null).then(e=>o(e))});let _=0;return e.dropdownId===V&&(_=1),i.createElement(K,{dropdownId:e.dropdownId,search:m,searchPlaceholder:(0,I.t)("fig_feed.placeholder.container_search"),defaultDisplay:e.hideAllSpaces?void 0:(0,I.t)("fig_feed.all_spaces"),initialOptions:n,selectedOption:(null==(t=e.selectedContainer)?void 0:t.id)??null,setSelectedOption:t=>{e.onContainerSelect(t)},type:_,maxContentHeight:344},e.children)}function $(e){var t;let[r,n]=i.useState([]),a=i.useMemo(()=>new C(e.orgId),[e.orgId]),o=e=>e.map(e=>({optionType:"option",id:e.id,display:i.createElement("div",{className:D.u},e.handle),handle:e.handle}));i.useEffect(()=>{a.list().then(e=>n(o(e.slice(0,a.maxResultsLength()))))},[a]);let l=async e=>{let t=await a.search(e);return 0===t.length?[{optionType:"no_matching_results"}]:o(t)};return i.createElement(K,{dropdownId:G,search:l,searchPlaceholder:(0,I.t)("fig_feed.placeholder.user_search"),defaultDisplay:(0,I.t)("fig_feed.all_users"),initialOptions:r,type:0,selectedOption:(null==(t=e.selectedUser)?void 0:t.id)??null,setSelectedOption:t=>e.onUserSelect(t),maxContentHeight:344},e.children)}function Z(e){let t=(0,a.OY)(),{setSelectedContainer:r,setSelectedUser:n}=e,o=i.useCallback(e=>{n(e)},[n]),l=e.selectedContainer?e.selectedContainer.name:(0,I.t)("fig_feed.all_spaces").toLocaleLowerCase(),s=e.selectedUser?e.selectedUser.handle:(0,I.t)("fig_feed.all_users").toLocaleLowerCase(),c=e=>i.createElement("div",{className:v.cx.flex.selectNone.overflowHidden.$},i.createElement("span",{className:v.cx.overflowHidden.ellipsis.noWrap.flexShrink1.$},e),i.createElement("div",{className:v.cx.flex.itemsCenter.justifyCenter.w16.colorIcon.$},i.createElement(y.A,{svg:F.c})));return i.createElement(i.Fragment,null,i.createElement("div",{className:v.cx.flex.itemsCenter.justifyBetween.mr8.h64.$},i.createElement("div",{className:v.cx.py12.pr8.$},i.createElement(b,{tabs:e.tabs,selectedTabKey:e.selectedTabKey,onTabClick:t=>{e.setSelectedTabKey(t)}})),e.selectedTabKey===O.cE.All&&i.createElement("div",{className:v.cx.flex.gap16.$},i.createElement("div",{className:v.cx.flex.itemsCenter.gap4.maxW150.overflowHidden.$},i.createElement("label",{id:"feed-space-dropdown-label"},i.createElement(I.Tx,{id:"fig_feed.label.in"})),i.createElement(j,{dropdownId:"feed-container-filter-dropdown",orgId:e.orgId,selectedContainer:e.selectedContainer,onContainerSelect:e=>{r(e),t(T.yi())},defaultContainer:null,onSetDefaultContainer:u.Kw,showMemberCount:!1},c(l))),i.createElement("div",{className:v.cx.flex.itemsCenter.gap4.maxW150.overflowHidden.$},i.createElement("label",{id:"feed-space-dropdown-label"},i.createElement(I.Tx,{id:"fig_feed.label.by"})),i.createElement($,{dropdownId:G,orgId:e.orgId,selectedUser:e.selectedUser,onUserSelect:o},c(s))))))}},209365:(e,t,r)=>{"use strict";let n,i;r.d(t,{KA:()=>w,SK:()=>g,UZ:()=>f,aC:()=>E,kx:()=>h});var a=r(307824),o=r(120304),l=r(125504),s=r.n(l),c=r(904920),d=r(833492),u=r(251596),p=r(454816),m=r(623136),_=r(410376),h=((n=h||{})[n.FULL=0]="FULL",n[n.ADD_ONLY=1]="ADD_ONLY",n),g=((i=g||{})[i.TILE_CONTENT=0]="TILE_CONTENT",i[i.TILE_POST=1]="TILE_POST",i[i.DETAIL_POST=2]="DETAIL_POST",i[i.DETAIL_COMMENT_NO_REACTION=3]="DETAIL_COMMENT_NO_REACTION",i[i.DETAIL_COMMENT_WITH_REACTION=4]="DETAIL_COMMENT_WITH_REACTION",i[i.FILE_POPOVER=5]="FILE_POPOVER",i);function f(e){let t=(0,o.OY)(),r=(0,u.C2)(),{existingReactionIdForCurrentUser:n}=v(e.feedReactions,r),i=a.useCallback(({emoji:r,addOnly:i})=>{let a=n(r);a?i||t(c.m6({feedPostUuid:e.postUuid,emoji:r,reactionId:a})):t(c.qI({feedPostUuid:e.postUuid,feedPostId:e.postId,emoji:r}))},[t,n,e.postUuid,e.postId]);return a.createElement(y,{type:e.type,source:e.source,hideAddReactionButton:e.hideAddReactionButton,prependToList:e.prependToList,toggleReaction:i,feedResource:{type:"post",id:e.postUuid},feedReactions:e.feedReactions})}function E(e){let t=(0,o.OY)(),r=(0,u.C2)(),{existingReactionIdForCurrentUser:n}=v(e.feedReactions,r),i=a.useCallback(({emoji:r,addOnly:i})=>{let a=n(r);a?i||t(c.S8({commentUuid:e.commentUuid,emoji:r,reactionId:a})):t(c.ac({commentUuid:e.commentUuid,commentId:e.commentId,emoji:r}))},[t,n,e.commentUuid,e.commentId]);return a.createElement(y,{type:e.type,source:e.source,hideAddReactionButton:e.hideAddReactionButton,prependToList:e.prependToList,toggleReaction:i,feedResource:{type:"comment",id:e.commentUuid},feedReactions:e.feedReactions})}function y(e){let t=(0,u.C2)(),{toggleReaction:r}=e,{reactionsWithSelected:n}=v(e.feedReactions,t),i=a.useCallback((e,t)=>{t.stopPropagation(),r({emoji:e.emoji,addOnly:!1})},[r]),o=a.useCallback(e=>{r({emoji:e,addOnly:!0})},[r]),l=a.createElement(b,{type:e.type,feedResource:e.feedResource,source:e.source,onAddReaction:o,hideAddReactionButton:e.hideAddReactionButton});return 1===e.type?l:a.createElement("div",{className:_.i_},a.createElement(m.GE,{reactions:n,collapseOverflow:!1,onClickExisting:i,prependToList:e.prependToList},l))}function b(e){let t=a.useRef(null),{isReactionPickerVisible:r,toggleReactionPicker:n,emojiPicker:i}=T(e.feedResource,e.source,t,e.onAddReaction);return e.hideAddReactionButton&&!r?a.createElement("div",{className:_.sq}):a.createElement(a.Fragment,null,a.createElement("div",{ref:t,className:s()(1===e.type?_.GA:_.Uj)},a.createElement(m.K2,{onClick:n,selected:r,styleClassName:_.sq,selectedStyleClassName:_.AN})),r&&i)}let v=(e,t)=>{let r=a.useMemo(()=>{let r={};if(!t)return r;for(let n of e)n.user.id===t.id&&(r[n.emoji]=n.id);return r},[e,t]),n=a.useCallback(e=>r[e],[r]);return{reactionsWithSelected:a.useMemo(()=>{let t={};for(let r of e){let{emoji:e,user:i,createdAt:a}=r;t[e]||(t[e]={emoji:e,users:[],selected:!!n(e),createdAt:a.getTime(),skinTonesToUsers:{}}),t[e].createdAt=Math.min(t[e].createdAt,a.getTime()),t[e].users.push({handle:i.handle,id:i.id,img_url:i.imgUrl})}return Object.values(t).sort((e,t)=>e.createdAt-t.createdAt||e.emoji.localeCompare(t.emoji))},[e,n]),existingReactionIdForCurrentUser:n}},I=(e,t)=>`FEED_TILE_EMOJI_PICKER-${e}${t?`-${t}`:null}`;function w(e,t){return(0,d.s)(I(t,null==e?void 0:e.id)).showing}let T=(e,t,r,n)=>{let i=(0,d.s)(I(t,null==e?void 0:e.id)),o=a.useCallback(e=>{n(e.shortcodes),i.hide()},[i,n]),l=r.current&&a.createElement(p.q,{onInsert:o,onCancel:i.hide,targetRect:r.current.getBoundingClientRect()});return{isReactionPickerVisible:i.showing,toggleReactionPicker:i.toggle,emojiPicker:l}}},200692:(e,t,r)=>{"use strict";let n;r.d(t,{WY:()=>E,kp:()=>v,wh:()=>b});var i=r(307824),a=r(120304),o=r(250008),l=r(557044),s=r(204792),c=r(560072),d=r(323576),u=r(904920),p=r(749949),m=r(251596),_=r(203736),h=r(158196),g=r(113432);let f=(0,_.U9)(function(e){let t=(0,a.OY)(),r=i.createElement(c.Tx,{id:"fig_feed.delete_confirmation"});return e.numComments&&e.numReactions?r=i.createElement(c.Tx,{id:"fig_feed.delete_confirmation_with_comments_and_reactions",numCommentsAndReactions:e.numComments+e.numReactions}):e.numComments?r=i.createElement(c.Tx,{id:"fig_feed.delete_confirmation_with_comments",numComments:e.numComments}):e.numReactions&&(r=i.createElement(c.Tx,{id:"fig_feed.delete_confirmation_with_reactions",numReactions:e.numReactions})),i.createElement(h.Co,{destructive:!0,confirmationTitle:i.createElement(c.Tx,{id:"fig_feed.delete_post"}),confirmText:i.createElement(c.Tx,{id:"fig_feed.delete"}),onConfirm:e.onConfirm,dispatch:t,popStack:!0},i.createElement("p",null,r))},"PostConfirmDeleteModal");var E=((n=E||{}).USER="user_post_context_menu",n.SYSTEM="system_post_context_menu",n);let y=e=>{let t=(0,m.C2)(),r=(0,p.CS)(),n=(t&&t.id===e.creator.id)??!1;return{canDelete:n,canAdminDelete:(null==r?void 0:r.isAdmin)??!1,canEdit:n}};function b(e){let t=(0,a.OY)(),r=i.useCallback(()=>t(u.e8()),[t]),{onEditClick:n,feedPost:p}=e,{canDelete:m,canAdminDelete:_,canEdit:h}=y(p),E=p.comments.length,b=p.reactions.length,I=i.useCallback(()=>{t((0,d._g)()),l.cp.del(`/api/feed_posts/post_uuid/${p.publicUuid}`).then(()=>{(0,o.we)("Team Feed Post Deleted",{postUuid:p.publicUuid}),r()})},[t,p.publicUuid,r]),w=i.useCallback(()=>{t((0,d.A5)({type:f,data:{onConfirm:I,numComments:E,numReactions:b},showModalsBeneath:!0}))},[t,I,E,b]);if(!m&&!_)return null;let T=m?i.createElement(c.Tx,{id:"fig_feed.delete_ellipsis"}):i.createElement(c.Tx,{id:"fig_feed.delete_admin_ellipsis"}),S=[!!h&&!!n&&i.createElement(s.g.Option,{key:"edit",onClick:n},i.createElement(c.Tx,{id:"fig_feed.edit"})),(!!m||!!_)&&i.createElement(s.g.Option,{key:"delete",onClick:w},T)];return i.createElement(g.m,{dropdownId:v("user_post_context_menu",e.feedPost.publicUuid,e.source),options:S,hideTarget:e.hideTarget,lean:"left",maxWidth:120})}let v=(e,t,r)=>e+t+r},457428:(e,t,r)=>{"use strict";let n;r.d(t,{EF:()=>V,Ed:()=>J,Nh:()=>U,Og:()=>M,SS:()=>Q,TS:()=>F,_:()=>j,_8:()=>G,c5:()=>q,eI:()=>O,iY:()=>$,kV:()=>L,mO:()=>Z,of:()=>er,q8:()=>ee,sd:()=>N,sf:()=>H,w7:()=>k,y2:()=>P,yQ:()=>z,yW:()=>X});var i=r(161400),a=r(843148),o=r(623131),l=r(326660),s=r(58908),c=r(849208),d=r(988800),u=r(927800),p=r(683780),m=r(805220),_=r(5868),h=r(762820),g=r(392992),f=r(963868),E=r(641196),y=r(962868),b=r(476108),v=r(853488),I=r(612340),w=r(316584),T=r(188764),S=r(488540),C=r(55108),A=r(515760),O=((n=O||{}).NONE="none",n.TOP_BAR="top-bar",n.NEW_FILE="new-file",n);let N="used_figjam_ai_generate",L="used_figjam_ai_generate_modal_v2",R=(0,o.Zf)(!1),P=(0,o.Zf)(null,(e,t)=>t(R,!0)),M=(0,o.Zf)(null,(e,t)=>{t(x),t(R,!1)}),k=(0,o.Zf)(!1),D=(0,o.Zf)(null,(e,t)=>{t(x),t(k,!0)}),F=(0,o.Zf)(e=>e(R)?"top-bar":(e(b.P)===v.sr.TRUE||e(K))&&!e(k)&&e(E.K2)===y.sx.NONE?"new-file":"none"),x=(0,o.Zf)(null,(e,t)=>{t(V),t(K,!1)}),U=(0,o.Zf)(null,(e,t)=>{let r=e(F);"top-bar"===r?t(M):"new-file"===r&&t(D)}),B=(0,o.Zf)(null,(e,t)=>{e(et).abort(),t(et,new AbortController),t(X,{status:T.s.NONE})}),G=(0,o.Zf)(null,(e,t)=>{t(x),t(k,!1),t(R,!1)}),V=(0,o.Zf)(null,(e,t)=>{t(B),t(Y,I.Y1.ENTRY),t(Z,void 0),t(z,(0,C.C9)()),t(Q,h.EPt.BASIC)}),H=(0,o.Zf)(null,(e,t)=>{t(Y,I.Y1.PROMPT_BUILDER)}),W=(0,o.Zf)(I.Y1.ENTRY),K=(0,o.Zf)(!1),Y=(0,o.Zf)(null,(e,t,r)=>{r===I.Y1.PROMPT_BUILDER&&t(K,!0),t(W,r)}),q=(0,o.Zf)(e=>e(W)),j=(0,o.Zf)(""),$=(0,o.Zf)(""),Z=(0,o.Zf)(void 0),z=(0,o.Zf)((0,C.C9)()),Q=(0,o.Zf)(h.EPt.BASIC),X=(0,o.Zf)({status:T.s.NONE}),J=(0,f.A)(()=>(0,o.Zf)(!1)),ee=(0,o.Zf)(null,(e,t,r)=>{t(J,r)}),et=(0,o.Zf)(new AbortController),er=(0,o.Zf)(null,async(e,t,{fileKey:r,prompt:n,stage:o,useCaseCategory:h,useCase:f,subtitle:E,entrypoint:y,jumpToNewLine:b,fromGenerateModalV2:v})=>{let O;if(!n)return{status:T.s.NONE};t(w.m8,e=>e+1),e((0,m.y_)(N)).data||i.x.dispatch(c.s({[N]:!0}));let R=e((0,m.y_)(L)).data;v&&!R&&i.x.dispatch(c.s({[L]:!0})),t(B);let P=e(et).signal,M={orgId:e(p.MJ),teamId:e(g.Ci)||null,fileKey:e(g.eg)||null,userId:e(_.kF)||null};t(X,{status:T.s.LOADING}),t(Z,h),t(Y,I.Y1.PROMPT_BUILDER);let k="board";try{globalThis.AI_DEBUG_XML&&(0,a.Ub)().figjam_text_to_template_debug?k="board":(k=await (0,I.s7)({prompt:n,signal:P,authInfo:M})||"board",(0,a.Ub)().figjam_text_to_visual_timeline||"timeline"!==k||(k="gantt"),(0,I.W)()||"mindmap"!==k||(k="board"))}catch(i){let e=(0,A.gd)(i,A.sp.GENERATE);return O={status:T.s.ERROR,type:k,errorMessage:e.message,trace:i.trace},(0,w.wf)(r,0,1,n,"inappropriate",o,y,h,f,E),(0,w.SI)(r,e.message),e.reportToSentry&&(0,l.oP)("board"===k?s._.FIGJAM_ENGAGEMENT:s._.FIGJAM_CORE,i),t(X,O),O}h&&(h===I.S4.FLOW_CHART?k="diagram":h===I.S4.GANTT_CHART?k="gantt":h===I.S4.ORG_CHART&&(k="orgchart"));let D=e($),F=D&&n.includes(D)?D:void 0;t($,""),(0,w.wf)(r,0,1,n,k,o,y,h,f,E,F);try{O=await (0,d._)(()=>e(w.sj)||"null",r,u.e.AI,async()=>{let t;if("board"===k){let i=b||null,a=e(p.MJ);t=await (0,S.a)({prompt:n,signal:P,fileKey:r,authInfo:M,shouldJumpToNewLine:i,orgId:a})}else{let t=e(Q),r=e(z),i=k;await (0,C.s9)({prompt:n,signal:P,visualType:i,authInfo:M,ganttColor:r,ganttType:t})}let i=e(w.sj);return(0,w.kV)(r,0,n,k,i),{status:T.s.SUCCESS,type:k,trace:t}})}catch(e){if((null==e?void 0:e.name)==="AbortError")O={status:T.s.NONE};else{let t=(0,A.gd)(e,A.sp.GENERATE);O={status:T.s.ERROR,type:k,errorMessage:t.message,trace:e.trace},t.reportToSentry&&(0,l.oP)("board"===k?s._.FIGJAM_ENGAGEMENT:s._.FIGJAM_CORE,e),(0,w.SI)(r,t.message)}}return t(X,O),O})},612340:(e,t,r)=>{"use strict";let n,i,a,o,l,s;r.d(t,{gH:()=>Y,A9:()=>q,Y1:()=>H,eI:()=>Q,w7:()=>X,OQ:()=>$,I5:()=>Z,Om:()=>j,eo:()=>z,S4:()=>K,W:()=>ev,W6:()=>eg,s7:()=>eb,Eh:()=>ep,iq:()=>em,AF:()=>ed,gr:()=>eu,ZJ:()=>en,Pj:()=>ei,Cg:()=>el,So:()=>ee,Cc:()=>et,Ij:()=>e_,Y$:()=>eh,kZ:()=>J,e4:()=>ey,AS:()=>eE,Qf:()=>ef});var c=r(307824),d=r(139776),u=r(843148),p=r(560072),m=r(166332);function _(){return c.createElement("svg",{width:48,height:48,viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg"},c.createElement("rect",{width:48,height:48,rx:3.83999,fill:"#E9FAFF"}),c.createElement("g",{filter:"url(#filter0_d_2612_73757)"},c.createElement("rect",{width:13.1624,height:6.07498,transform:"translate(28.8417 20.3584)",fill:"#5551FF"})),c.createElement("path",{d:"M26.7158 21.4743L25.4747 15.0205L30.9356 18.2474L28.2052 18.9921L26.7158 21.4743Z",fill:"#5551FF"}),c.createElement("g",{filter:"url(#filter1_d_2612_73757)"},c.createElement("rect",{width:12.3882,height:5.71762,transform:"matrix(-1 0 0 1 19.5897 28.5029)",fill:"#80C9FF"})),c.createElement("path",{d:"M21.5109 29.6175L22.6864 23.5049L17.5142 26.5612L20.1003 27.2665L21.5109 29.6175Z",fill:"#80C9FF"}),c.createElement("rect",{x:.5,y:.5,width:47,height:47,rx:3.33999,stroke:"black",strokeOpacity:.05}),c.createElement("defs",null,c.createElement("filter",{id:"filter0_d_2612_73757",x:27.4917,y:19.3459,width:15.8625,height:8.77494,filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},c.createElement("feFlood",{floodOpacity:0,result:"BackgroundImageFix"}),c.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),c.createElement("feOffset",{dy:.337499}),c.createElement("feGaussianBlur",{stdDeviation:.674997}),c.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.16 0"}),c.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_2612_73757"}),c.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_2612_73757",result:"shape"})),c.createElement("filter",{id:"filter1_d_2612_73757",x:5.93095,y:27.55,width:14.9294,height:8.2587,filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},c.createElement("feFlood",{floodOpacity:0,result:"BackgroundImageFix"}),c.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),c.createElement("feOffset",{dy:.317646}),c.createElement("feGaussianBlur",{stdDeviation:.635292}),c.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.16 0"}),c.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_2612_73757"}),c.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_2612_73757",result:"shape"}))))}function h(){return c.createElement("svg",{width:48,height:48,viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg"},c.createElement("rect",{width:48,height:48,rx:3.84,fill:"#FFF8DF"}),c.createElement("g",{filter:"url(#a)"},c.createElement("path",{fill:"#FFC700",d:"M6.604 14.347h13.737V28.15H6.604z"})),c.createElement("g",{filter:"url(#b)"},c.createElement("path",{fill:"#FFC470",d:"M27.662 16.175h13.737v13.803H27.662z"})),c.createElement("g",{filter:"url(#c)"},c.createElement("path",{fill:"#DA8167",d:"M15.764 19.849h13.737v13.803H15.764z"})),c.createElement("rect",{x:.5,y:.5,width:47,height:47,rx:3.34,stroke:"#000",strokeOpacity:.05}),c.createElement("defs",null,c.createElement("filter",{id:"a",x:6.032,y:14.232,width:14.881,height:15.089,filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},c.createElement("feFlood",{floodOpacity:0,result:"BackgroundImageFix"}),c.createElement("feColorMatrix",{in:"SourceAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),c.createElement("feOffset",{dy:.143}),c.createElement("feGaussianBlur",{stdDeviation:.057}),c.createElement("feColorMatrix",{values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.02 0"}),c.createElement("feBlend",{in2:"BackgroundImageFix",result:"effect1_dropShadow_2612_73754"}),c.createElement("feColorMatrix",{in:"SourceAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),c.createElement("feOffset",{dy:.172}),c.createElement("feGaussianBlur",{stdDeviation:.143}),c.createElement("feColorMatrix",{values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.04 0"}),c.createElement("feBlend",{in2:"effect1_dropShadow_2612_73754",result:"effect2_dropShadow_2612_73754"}),c.createElement("feColorMatrix",{in:"SourceAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),c.createElement("feOffset",{dy:.6}),c.createElement("feGaussianBlur",{stdDeviation:.286}),c.createElement("feColorMatrix",{values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.1 0"}),c.createElement("feBlend",{in2:"effect2_dropShadow_2612_73754",result:"effect3_dropShadow_2612_73754"}),c.createElement("feBlend",{in:"SourceGraphic",in2:"effect3_dropShadow_2612_73754",result:"shape"})),c.createElement("filter",{id:"b",x:27.089,y:16.06,width:14.881,height:15.089,filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},c.createElement("feFlood",{floodOpacity:0,result:"BackgroundImageFix"}),c.createElement("feColorMatrix",{in:"SourceAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),c.createElement("feOffset",{dy:.143}),c.createElement("feGaussianBlur",{stdDeviation:.057}),c.createElement("feColorMatrix",{values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.02 0"}),c.createElement("feBlend",{in2:"BackgroundImageFix",result:"effect1_dropShadow_2612_73754"}),c.createElement("feColorMatrix",{in:"SourceAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),c.createElement("feOffset",{dy:.172}),c.createElement("feGaussianBlur",{stdDeviation:.143}),c.createElement("feColorMatrix",{values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.04 0"}),c.createElement("feBlend",{in2:"effect1_dropShadow_2612_73754",result:"effect2_dropShadow_2612_73754"}),c.createElement("feColorMatrix",{in:"SourceAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),c.createElement("feOffset",{dy:.6}),c.createElement("feGaussianBlur",{stdDeviation:.286}),c.createElement("feColorMatrix",{values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.1 0"}),c.createElement("feBlend",{in2:"effect2_dropShadow_2612_73754",result:"effect3_dropShadow_2612_73754"}),c.createElement("feBlend",{in:"SourceGraphic",in2:"effect3_dropShadow_2612_73754",result:"shape"})),c.createElement("filter",{id:"c",x:15.191,y:19.734,width:14.881,height:15.089,filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},c.createElement("feFlood",{floodOpacity:0,result:"BackgroundImageFix"}),c.createElement("feColorMatrix",{in:"SourceAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),c.createElement("feOffset",{dy:.143}),c.createElement("feGaussianBlur",{stdDeviation:.057}),c.createElement("feColorMatrix",{values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.02 0"}),c.createElement("feBlend",{in2:"BackgroundImageFix",result:"effect1_dropShadow_2612_73754"}),c.createElement("feColorMatrix",{in:"SourceAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),c.createElement("feOffset",{dy:.172}),c.createElement("feGaussianBlur",{stdDeviation:.143}),c.createElement("feColorMatrix",{values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.04 0"}),c.createElement("feBlend",{in2:"effect1_dropShadow_2612_73754",result:"effect2_dropShadow_2612_73754"}),c.createElement("feColorMatrix",{in:"SourceAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),c.createElement("feOffset",{dy:.6}),c.createElement("feGaussianBlur",{stdDeviation:.286}),c.createElement("feColorMatrix",{values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.1 0"}),c.createElement("feBlend",{in2:"effect2_dropShadow_2612_73754",result:"effect3_dropShadow_2612_73754"}),c.createElement("feBlend",{in:"SourceGraphic",in2:"effect3_dropShadow_2612_73754",result:"shape"}))))}function g(){return c.createElement("svg",{width:48,height:48,viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg"},c.createElement("rect",{width:48,height:48,rx:3.84,fill:"#F1F9D8"}),c.createElement("rect",{x:28.2,y:17.391,width:13.2,height:13.2,rx:6.6,fill:"#BAD66D"}),c.createElement("path",{d:"M28.277 24.348a.5.5 0 0 0 0-.707l-3.182-3.182a.5.5 0 1 0-.707.707l2.828 2.828-2.828 2.829a.5.5 0 0 0 .707.707l3.182-3.182Zm-9.7.146h9.346v-1h-9.347v1Z",fill:"#000"}),c.createElement("rect",{x:6.598,y:17.994,width:12,height:12,rx:.45,fill:"#6D8E35"}),c.createElement("rect",{x:.5,y:.5,width:47,height:47,rx:3.34,stroke:"#000",strokeOpacity:.05}))}function f(){return c.createElement("svg",{width:48,height:48,viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg"},c.createElement("rect",{width:48,height:48,rx:3.84,fill:"#FFE3F9"}),c.createElement("path",{fill:"#F697F9",d:"M7.205 15.955h22.29v7.2H7.205z"}),c.createElement("path",{fill:"#FFBDF2",d:"M14.654 25.084h27.35v7.2h-27.35z"}),c.createElement("path",{fill:"#000",d:"M22.5 13.884h1V34.12h-1z"}),c.createElement("rect",{x:.5,y:.5,width:47,height:47,rx:3.34,stroke:"#000",strokeOpacity:.05}))}function E(){return c.createElement("svg",{width:48,height:48,viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg"},c.createElement("rect",{width:48,height:48,rx:3.84,fill:"#F0E3FF"}),c.createElement("path",{d:"M24.422 20.16v3.884h-9.545v4.127",stroke:"#000"}),c.createElement("path",{d:"M24.291 24.036h9.544v4.135",stroke:"#000"}),c.createElement("rect",{x:28.171,y:28.171,width:11.183,height:11.183,rx:.45,fill:"#DA9DFF"}),c.createElement("rect",{x:9,y:28.171,width:11.183,height:11.183,rx:.45,fill:"#DA9DFF"}),c.createElement("rect",{x:18.586,y:9,width:11.183,height:11.183,rx:.45,fill:"#A259FF"}),c.createElement("rect",{x:.5,y:.5,width:47,height:47,rx:3.34,stroke:"#000",strokeOpacity:.05}))}function y(){return c.createElement("svg",{width:48,height:48,viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg"},c.createElement("rect",{width:48,height:48,rx:3.84,fill:"#E5EAF1"}),c.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M24.84 15h-7.218v5h7.216v.006l4.392-2.513-4.39-2.49V15Z",fill:"#fff"}),c.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13.224 15h-7.22v5h7.216v.006l4.392-2.513-4.388-2.489V15Zm23.219 0h-7.219v5h7.184v.006L36.42 20h.023v-.013l4.357-2.493-4.357-2.471V15Z",fill:"#AFBCCF"}),c.createElement("path",{fill:"#AFBCCF",d:"M6 21.192h11.619v11.223H6z"}),c.createElement("path",{fill:"#fff",d:"M17.619 21.192h11.602v11.223H17.619z"}),c.createElement("path",{fill:"#AFBCCF",d:"M29.221 21.192h11.515v11.223H29.221z"}),c.createElement("rect",{x:.5,y:.5,width:47,height:47,rx:3.34,stroke:"#000",strokeOpacity:.05}))}function b(){return c.createElement("svg",{width:48,height:48,viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg"},c.createElement("rect",{width:48,height:48,rx:3.2,fill:"#F1E5FF"}),c.createElement("rect",{x:"0.5",y:"0.5",width:"47",height:"47",rx:"2.7",stroke:"black",strokeOpacity:"0.05"}),c.createElement("path",{d:"M20 24C23.6128 24 23.6128 18 28 18",stroke:"black",strokeWidth:"0.689655",strokeLinecap:"round"}),c.createElement("path",{d:"M20 24C23.6128 24 23.6128 30 28 30",stroke:"black",strokeWidth:"0.689655",strokeLinecap:"round"}),c.createElement("rect",{x:"6",y:"20",width:"14",height:"8",rx:"4",fill:"#9747FF"}),c.createElement("rect",{x:"28",y:"14",width:"14",height:"8",rx:"4",fill:"#D9B8FF"}),c.createElement("rect",{x:"28",y:"26",width:"14",height:"8",rx:"4",fill:"#D9B8FF"}),c.createElement("rect",{x:.5,y:.5,width:47,height:47,rx:3.34,stroke:"#000",strokeOpacity:.05}))}function v(){return c.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"48",height:"48",viewBox:"0 0 48 48",fill:"none"},c.createElement("rect",{width:"48",height:"48",rx:"3.2",fill:"#FAEDEB"}),c.createElement("rect",{x:"0.5",y:"0.5",width:"47",height:"47",rx:"2.7",stroke:"black",strokeOpacity:"0.05"}),c.createElement("path",{d:"M8 24L40 24",stroke:"#D4583B",strokeWidth:"0.5",strokeLinecap:"round"}),c.createElement("path",{d:"M16.6667 24C16.6667 24.7364 17.2636 25.3333 18 25.3333C18.7364 25.3333 19.3333 24.7364 19.3333 24C19.3333 23.2636 18.7364 22.6667 18 22.6667C17.2636 22.6667 16.6667 23.2636 16.6667 24ZM18.25 24V18H17.75V24H18.25Z",fill:"#A55440"}),c.createElement("path",{d:"M31.3333 24C31.3333 23.2636 30.7364 22.6667 30 22.6667C29.2636 22.6667 28.6667 23.2636 28.6667 24C28.6667 24.7364 29.2636 25.3333 30 25.3333C30.7364 25.3333 31.3333 24.7364 31.3333 24ZM29.75 24L29.75 30L30.25 30L30.25 24L29.75 24Z",fill:"#A55440"}),c.createElement("rect",{x:"10",y:"8",width:"16",height:"10",rx:"1",fill:"#D4583B"}),c.createElement("rect",{x:"22",y:"30",width:"16",height:"10",rx:"1",fill:"#D4583B"}))}function I(){return c.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",fill:"none"},c.createElement("rect",{width:"6.714",height:"6.714",x:"7.5",y:"7.5",fill:"#FFBDF2",stroke:"#F697F9",rx:".786"}),c.createElement("path",{fill:"#D5EB97",stroke:"#9CB74F",d:"M16.5 20.5a4 4 0 1 1 8 0 4 4 0 0 1-8 0Z"}),c.createElement("path",{stroke:"#AFBCCF",strokeLinecap:"round",strokeLinejoin:"round",d:"M18.572 10.857h5.142m0 0-2.571-2.571m2.571 2.571-2.571 2.572M10.857 23.714v-5.142m0 0 2.571 2.57m-2.571-2.57-2.572 2.57"}))}function w(){return c.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",fill:"none"},c.createElement("rect",{width:"14",height:"6.5",x:"7.75",y:"9",fill:"#FFBDF2",stroke:"#F697F9",rx:".75"}),c.createElement("rect",{width:"11.5",height:"6.5",x:"12.75",y:"16.5",fill:"#E9FAFF",stroke:"#80CAFF",rx:".75"}))}function T(){return c.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",fill:"none"},c.createElement("path",{fill:"#DA9DFF",stroke:"#A259FF",d:"m14.45 21.758.976 2.277a.625.625 0 0 0 1.148 0l.976-2.277A1.25 1.25 0 0 1 18.7 21h4.175c.69 0 1.25-.56 1.25-1.25V9.125c0-.69-.56-1.25-1.25-1.25H9.125c-.69 0-1.25.56-1.25 1.25V19.75c0 .69.56 1.25 1.25 1.25H13.3c.5 0 .952.298 1.15.758Z"}),c.createElement("path",{fill:"#A259FF",d:"M13.5 12.25a2.5 2.5 0 1 0 5 0 2.5 2.5 0 0 0-5 0Z"}),c.createElement("path",{stroke:"#000",strokeLinecap:"round",d:"M12.25 17.25h7.5"}))}function S(){return c.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",fill:"none"},c.createElement("rect",{width:"14",height:"9",x:"9",y:"7.75",fill:"#FFBDF2",stroke:"#F697F9",rx:"2"}),c.createElement("path",{stroke:"#F697F9",d:"M16 17.25v5"}),c.createElement("path",{stroke:"#AFBCCF",d:"M23.5 22.25h-15"}),c.createElement("circle",{cx:"16",cy:"22.25",r:"2.5",fill:"#F697F9"}))}function C(){return c.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",fill:"none"},c.createElement("path",{stroke:"#AFBCCF",strokeLinecap:"round",d:"M6 16h1.25c.69 0 1.25-.56 1.25-1.25v-2.5c0-.69.56-1.25 1.25-1.25H11M6 16h1.25c.69 0 1.25.56 1.25 1.25v2.5c0 .69.56 1.25 1.25 1.25H11"}),c.createElement("rect",{width:"12.75",height:"6.5",x:"11.5",y:"7.75",fill:"#FFF2DF",stroke:"#FFC470",rx:"2"}),c.createElement("rect",{width:"12.75",height:"6.5",x:"11.5",y:"17.75",fill:"#E9FAFF",stroke:"#80CAFF",rx:"2"}))}function A(){return c.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",fill:"none"},c.createElement("path",{fill:"#D5EB97",stroke:"#9CB74F",strokeLinecap:"round",strokeLinejoin:"round",d:"M17.875 8h-8.75C8.504 8 8 8.504 8 9.125v7.615c0 .607.641 1 1.182.723l2.295-1.171h6.398c.621 0 1.125-.504 1.125-1.125V9.125C19 8.504 18.496 8 17.875 8Z"}),c.createElement("path",{fill:"#fff",stroke:"#9CB74F",strokeLinecap:"round",strokeLinejoin:"round",d:"M14.126 14.27h8.809c.621 0 1.125.504 1.125 1.126v7.769a.813.813 0 0 1-1.186.722l-2.31-1.194h-6.438A1.125 1.125 0 0 1 13 21.569v-6.173c0-.62.503-1.124 1.125-1.124Z"}))}function O(){return c.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",fill:"none"},c.createElement("path",{fill:"#fff",stroke:"#AFBCCF",d:"M7.75 12.75h16.5v9.517a1.983 1.983 0 0 1-1.983 1.983H9.733a1.983 1.983 0 0 1-1.983-1.983V12.75Z"}),c.createElement("path",{fill:"#DA9DFF",stroke:"#A259FF",d:"M7.75 10.983C7.75 9.888 8.638 9 9.733 9h12.534c1.095 0 1.983.888 1.983 1.983v3.267H7.75v-3.267Z"}),c.createElement("rect",{width:"1",height:"3.75",x:"11",y:"7.539",fill:"#A259FF",rx:".5"}),c.createElement("rect",{width:"1",height:"3.75",x:"19.75",y:"7.539",fill:"#A259FF",rx:".5"}))}function N(){return c.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",fill:"none"},c.createElement("mask",{id:"a",fill:"#fff"},c.createElement("path",{fillRule:"evenodd",d:"M19.75 19.125c0-.393.19-.758.48-1.024a6.25 6.25 0 1 0-8.46 0c.29.266.48.63.48 1.024v3.125a2.5 2.5 0 0 0 2.5 2.5h2.5a2.5 2.5 0 0 0 2.5-2.5v-3.125Z",clipRule:"evenodd"})),c.createElement("path",{fill:"#FFF2DF",fillRule:"evenodd",d:"M19.75 19.125c0-.393.19-.758.48-1.024a6.25 6.25 0 1 0-8.46 0c.29.266.48.63.48 1.024v3.125a2.5 2.5 0 0 0 2.5 2.5h2.5a2.5 2.5 0 0 0 2.5-2.5v-3.125Z",clipRule:"evenodd"}),c.createElement("path",{fill:"#FFC470",d:"M21.139 13.5a5.123 5.123 0 0 1-1.661 3.783l1.504 1.636a7.344 7.344 0 0 0 2.38-5.419h-2.223ZM16 8.361c2.838 0 5.139 2.3 5.139 5.139h2.222A7.361 7.361 0 0 0 16 6.139V8.36ZM10.861 13.5c0-2.838 2.3-5.139 5.139-5.139V6.14A7.361 7.361 0 0 0 8.639 13.5h2.222Zm1.661 3.783a5.123 5.123 0 0 1-1.66-3.783H8.638c0 2.144.918 4.075 2.379 5.419l1.504-1.636Zm.84 4.967v-3.125h-2.223v3.125h2.222Zm1.388 1.389a1.389 1.389 0 0 1-1.389-1.389H11.14a3.611 3.611 0 0 0 3.611 3.611V23.64Zm2.5 0h-2.5v2.222h2.5V23.64Zm1.389-1.389c0 .767-.622 1.389-1.389 1.389v2.222a3.611 3.611 0 0 0 3.611-3.611H18.64Zm0-3.125v3.125h2.222v-3.125H18.64Zm-7.621-.206c.106.097.12.18.12.206h2.223c0-.76-.366-1.406-.839-1.842l-1.504 1.636Zm8.46-1.636c-.473.436-.84 1.082-.84 1.842h2.223c0-.026.015-.109.121-.206l-1.504-1.636Z",mask:"url(#a)"}),c.createElement("path",{stroke:"#000",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.111",d:"M16 20.375V17.25m0 0-2.5-2.5m2.5 2.5 2.5-2.5"}),c.createElement("path",{fill:"#fff",stroke:"#FFC470",strokeWidth:"1.111",d:"M12.806 20.306h6.388v1.944c0 1.074-.87 1.944-1.944 1.944h-2.5a1.944 1.944 0 0 1-1.944-1.944v-1.944Z"}))}function L(){return c.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",fill:"none"},c.createElement("circle",{cx:"21",cy:"21",r:"3.25",fill:"#fff",stroke:"#AFBCCF"}),c.createElement("path",{fill:"#DA9DFF",stroke:"#A259FF",d:"M21.833 13.781h-.5v1.777a.75.75 0 0 1-1.27.54l-2.258-2.177-.145-.14h-3.32l-.145.14-2.258 2.177a.75.75 0 0 1-1.27-.54v-1.777H8.5a.75.75 0 0 1-.75-.75V8.5a.75.75 0 0 1 .75-.75h15a.75.75 0 0 1 .75.75v4.531a.75.75 0 0 1-.75.75h-1.667Z"}),c.createElement("circle",{cx:"11",cy:"21",r:"3.25",fill:"#fff",stroke:"#AFBCCF"}))}function R(){return c.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",fill:"none"},c.createElement("path",{fill:"#D5EB97",d:"M24 16a8 8 0 1 1-16 0 8 8 0 0 1 16 0Z"}),c.createElement("path",{stroke:"#000",strokeLinecap:"round",strokeLinejoin:"round",d:"M16 12.25v3.906l2.5 2.344"}),c.createElement("path",{fill:"#9CB74F",fillRule:"evenodd",d:"M10.256 11.146A7.52 7.52 0 1 1 8.479 16a.5.5 0 0 0-1 0A8.52 8.52 0 1 0 9.5 10.49V8a.5.5 0 0 0-1 0v3.646a.5.5 0 0 0 .5.5h3.646a.5.5 0 1 0 0-1h-2.39Z",clipRule:"evenodd"}))}function P(){return c.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"none"},c.createElement("rect",{width:"5",height:"5",x:"1.5",y:"1.5",fill:"#FFBDF2",stroke:"#F697F9",rx:".5"}),c.createElement("path",{fill:"#D5EB97",stroke:"#9CB74F",d:"M8.5 11.5a3 3 0 1 1 6 0 3 3 0 0 1-6 0Z"}),c.createElement("path",{stroke:"#AFBCCF",strokeLinecap:"round",strokeLinejoin:"round",d:"M10 4h4m0 0-2-2m2 2-2 2M4 14v-4m0 0 2 2m-2-2-2 2"}))}function M(){return c.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"none"},c.createElement("rect",{width:"11",height:"5",x:"1.5",y:"2.5",fill:"#FFBDF2",stroke:"#F697F9",rx:".5"}),c.createElement("rect",{width:"9",height:"5",x:"5.5",y:"8.5",fill:"#E9FAFF",stroke:"#80CAFF",rx:".5"}))}function k(){return c.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"none"},c.createElement("path",{fill:"#DA9DFF",stroke:"#A259FF",d:"m6.76 12.606.78 1.822a.5.5 0 0 0 .92 0l.78-1.822a1 1 0 0 1 .92-.606h3.34a1 1 0 0 0 1-1V2.5a1 1 0 0 0-1-1h-11a1 1 0 0 0-1 1V11a1 1 0 0 0 1 1h3.34a1 1 0 0 1 .92.606Z"}),c.createElement("path",{fill:"#A259FF",d:"M6 5a2 2 0 1 0 4 0 2 2 0 0 0-4 0Z"}),c.createElement("path",{stroke:"#000",strokeLinecap:"round",d:"M5 9h6"}))}function D(){return c.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"none"},c.createElement("rect",{width:"11",height:"7",x:"2.5",y:"1.5",fill:"#FFBDF2",stroke:"#F697F9",rx:"1.5"}),c.createElement("path",{stroke:"#F697F9",d:"M8 9v4"}),c.createElement("path",{stroke:"#AFBCCF",d:"M14 13H2"}),c.createElement("circle",{cx:"8",cy:"13",r:"2",fill:"#F697F9"}))}function F(){return c.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"17",height:"16",fill:"none"},c.createElement("path",{stroke:"#AFBCCF",strokeLinecap:"round",d:"M1 8h1a1 1 0 0 0 1-1V5a1 1 0 0 1 1-1h1M1 8h1a1 1 0 0 1 1 1v2a1 1 0 0 0 1 1h1"}),c.createElement("rect",{width:"10",height:"5",x:"5.5",y:"1.5",fill:"#FFF2DF",stroke:"#FFC470",rx:"1.5"}),c.createElement("rect",{width:"10",height:"5",x:"5.5",y:"9.5",fill:"#E9FAFF",stroke:"#80CAFF",rx:"1.5"}))}function x(){return c.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"none"},c.createElement("path",{fill:"#D5EB97",stroke:"#9CB74F",strokeLinecap:"round",strokeLinejoin:"round",d:"M9.5 1.5h-7a1 1 0 0 0-1 1v6.092a.75.75 0 0 0 1.091.668l1.815-.927H9.5a1 1 0 0 0 1-1V2.5a1 1 0 0 0-1-1Z"}),c.createElement("path",{fill:"#fff",stroke:"#9CB74F",strokeLinecap:"round",strokeLinejoin:"round",d:"M6.5 6.517h7.048a1 1 0 0 1 1 1v6.215a.75.75 0 0 1-1.094.667l-1.827-.944H6.5a1 1 0 0 1-1-1V7.517a1 1 0 0 1 1-1Z"}))}function U(){return c.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"none"},c.createElement("path",{fill:"#fff",stroke:"#AFBCCF",d:"M1.5 5.5h13v7.513c0 .821-.666 1.487-1.487 1.487H2.987A1.487 1.487 0 0 1 1.5 13.013V5.5Z"}),c.createElement("path",{fill:"#DA9DFF",stroke:"#A259FF",d:"M1.5 3.987c0-.821.666-1.487 1.487-1.487h10.026c.821 0 1.487.666 1.487 1.487V6.5h-13V3.987Z"}),c.createElement("rect",{width:"1",height:"3",x:"4",y:"1",fill:"#A259FF",rx:".5"}),c.createElement("rect",{width:"1",height:"3",x:"11",y:"1",fill:"#A259FF",rx:".5"}))}function B(){return c.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"none"},c.createElement("mask",{id:"a",fill:"#fff"},c.createElement("path",{fillRule:"evenodd",d:"M11 10.5c0-.315.152-.606.384-.819a5 5 0 1 0-6.768 0c.232.213.384.504.384.819V13a2 2 0 0 0 2 2h2a2 2 0 0 0 2-2v-2.5Z",clipRule:"evenodd"})),c.createElement("path",{fill:"#FFF2DF",fillRule:"evenodd",d:"M11 10.5c0-.315.152-.606.384-.819a5 5 0 1 0-6.768 0c.232.213.384.504.384.819V13a2 2 0 0 0 2 2h2a2 2 0 0 0 2-2v-2.5Z",clipRule:"evenodd"}),c.createElement("path",{fill:"#FFC470",d:"m4.616 9.681-.677.736.677-.736Zm6.768 0-.677-.736.677.736ZM12 6a3.987 3.987 0 0 1-1.293 2.945l1.354 1.472A5.987 5.987 0 0 0 14 6h-2ZM8 2a4 4 0 0 1 4 4h2a6 6 0 0 0-6-6v2ZM4 6a4 4 0 0 1 4-4V0a6 6 0 0 0-6 6h2Zm1.293 2.945A3.987 3.987 0 0 1 4 6H2c0 1.748.748 3.322 1.94 4.417l1.353-1.472ZM6 13v-2.5H4V13h2Zm1 1a1 1 0 0 1-1-1H4a3 3 0 0 0 3 3v-2Zm2 0H7v2h2v-2Zm1-1a1 1 0 0 1-1 1v2a3 3 0 0 0 3-3h-2Zm0-2.5V13h2v-2.5h-2Zm-6.06-.083c.03.028.046.053.054.07.008.016.006.02.006.013h2c0-.645-.31-1.19-.707-1.555L3.94 10.417Zm6.767-1.472C10.31 9.31 10 9.855 10 10.5h2c0 .006-.002.003.006-.013a.247.247 0 0 1 .055-.07l-1.354-1.472Z",mask:"url(#a)"}),c.createElement("path",{stroke:"#000",strokeLinecap:"round",strokeLinejoin:"round",d:"M8 11.5V9m0 0L6 7m2 2 2-2"}),c.createElement("path",{fill:"#fff",stroke:"#FFC470",d:"M5.5 11.5h5V13A1.5 1.5 0 0 1 9 14.5H7A1.5 1.5 0 0 1 5.5 13v-1.5Z"}))}function G(){return c.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"none"},c.createElement("circle",{cx:"12",cy:"12",r:"2.5",fill:"#fff",stroke:"#AFBCCF"}),c.createElement("path",{fill:"#DA9DFF",stroke:"#A259FF",d:"M12.667 6.125h-.5v1.522a.5.5 0 0 1-.847.36L9.514 6.264l-.146-.14H6.632l-.146.14L4.68 8.006a.5.5 0 0 1-.847-.36V6.126H2a.5.5 0 0 1-.5-.5V2a.5.5 0 0 1 .5-.5h12a.5.5 0 0 1 .5.5v3.625a.5.5 0 0 1-.5.5h-1.333Z"}),c.createElement("circle",{cx:"4",cy:"12",r:"2.5",fill:"#fff",stroke:"#AFBCCF"}))}function V(){return c.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"none"},c.createElement("path",{fill:"#D5EB97",d:"M14 8A6 6 0 1 1 2 8a6 6 0 0 1 12 0Z"}),c.createElement("path",{stroke:"#000",strokeLinecap:"round",strokeLinejoin:"round",d:"M8 5v3.125L10 10"}),c.createElement("path",{fill:"#9CB74F",fillRule:"evenodd",d:"M3.266 4.45A5.917 5.917 0 1 1 2.083 8a.5.5 0 0 0-1 0 6.917 6.917 0 1 0 1.584-4.404V2.168a.5.5 0 0 0-1 0v2.917a.5.5 0 0 0 .5.5h2.916a.5.5 0 0 0 0-1H3.114a.498.498 0 0 0 .152-.135Z",clipRule:"evenodd"}))}var H=((n=H||{})[n.ENTRY=0]="ENTRY",n[n.PROMPT_BUILDER=1]="PROMPT_BUILDER",n),W=((i=W||{}).MEETING="meeting",i.GANTT_CHART="gantt_chart",i.BRAINSTORM="brainstorm",i.FLOW_CHART="flow_chart",i.ORG_CHART="org_chart",i.PLAN="plan",i.MIND_MAP="mind_map",i.TIMELINE="timeline",i),K=((a=K||{}).WEEKLY_SYNC="weekly_sync",a.PLAN="plan",a.BRAINSTORM="brainstorm",a.TEAM_RETRO="team_retro",a.ONEONONE="1:1",a.GANTT_CHART="gantt_chart",a.FLOW_CHART="flow_chart",a.ORG_CHART="org_chart",a.MIND_MAP="mind_map",a.TIMELINE="timeline",a),Y=((o=Y||{}).IN_EDITOR="in_editor",o.TEMPLATE_SHELF="template_shelf",o.COMMUNITY="community",o),q=((l=q||{}).GENERATE_MODE="generate_stage",l.REFINEMENT_MODE="refinement_stage",l);let j="figjam_ai_summarization",$="figjam_ai_clustering",Z="figjam_ai_diagram",z="figjam_ai_template",Q="https://help.figma.com/hc/articles/16822138920343";var X=((s=X||{}).TEMPLATE="template",s.VISUAL="visual",s);function J(e){return"categoryKey"in e}function ee(e){switch(e){case"weekly_sync":return[{icon:"\u{1F9CA}",title:(0,p.t)("whiteboard.ai_modal.suggestion.icebreaker"),prompt:(0,p.t)("whiteboard.ai_modal.suggestion.icebreaker.prompt")},{icon:"\u{1F4CB}",title:(0,p.t)("whiteboard.ai_modal.suggestion.agenda"),prompt:(0,p.t)("whiteboard.ai_modal.suggestion.agenda.prompt")},{icon:"\u{1F5E3}",title:(0,p.t)("whiteboard.ai_modal.suggestion.updates"),prompt:(0,p.t)("whiteboard.ai_modal.suggestion.updates.prompt")},{icon:"\u27A1\uFE0F",title:(0,p.t)("whiteboard.ai_modal.suggestion.next_steps"),prompt:(0,p.t)("whiteboard.ai_modal.suggestion.next_steps.prompt")}];case"plan":return[{icon:"\u{1F945}",title:(0,p.t)("whiteboard.ai_modal.suggestion.goals"),prompt:(0,p.t)("whiteboard.ai_modal.suggestion.goals.prompt")},{icon:"\u{1F4D1}",title:(0,p.t)("whiteboard.ai_modal.suggestion.project_list"),prompt:(0,p.t)("whiteboard.ai_modal.suggestion.plan_project_list.prompt")},{icon:"\u27A1\uFE0F",title:(0,p.t)("whiteboard.ai_modal.suggestion.next_steps"),prompt:(0,p.t)("whiteboard.ai_modal.suggestion.next_steps.prompt")}];case"brainstorm":return[{icon:"\u{1F9CA}",title:(0,p.t)("whiteboard.ai_modal.suggestion.icebreaker"),prompt:(0,p.t)("whiteboard.ai_modal.suggestion.icebreaker.prompt")},{icon:"\u{1F945}",title:(0,p.t)("whiteboard.ai_modal.suggestion.goals"),prompt:(0,p.t)("whiteboard.ai_modal.suggestion.goals.prompt")},{icon:"\u{1F4C8}",title:(0,p.t)("whiteboard.ai_modal.suggestion.research"),prompt:(0,p.t)("whiteboard.ai_modal.suggestion.research.prompt")},{icon:"\u27A1\uFE0F",title:(0,p.t)("whiteboard.ai_modal.suggestion.next_steps"),prompt:(0,p.t)("whiteboard.ai_modal.suggestion.next_steps.prompt")}];case"team_retro":return[{icon:"\u{1F4CB}",title:(0,p.t)("whiteboard.ai_modal.suggestion.agenda"),prompt:(0,p.t)("whiteboard.ai_modal.suggestion.agenda.prompt")},{icon:"\u{1F9CA}",title:(0,p.t)("whiteboard.ai_modal.suggestion.icebreaker"),prompt:(0,p.t)("whiteboard.ai_modal.suggestion.icebreaker.prompt")},{icon:"\u27A1\uFE0F",title:(0,p.t)("whiteboard.ai_modal.suggestion.next_steps"),prompt:(0,p.t)("whiteboard.ai_modal.suggestion.next_steps.prompt")}];case"1:1":return[{icon:"\u{1F4CB}",title:(0,p.t)("whiteboard.ai_modal.suggestion.agenda"),prompt:(0,p.t)("whiteboard.ai_modal.suggestion.agenda.prompt")},{icon:"\u{1F5E3}",title:(0,p.t)("whiteboard.ai_modal.suggestion.updates"),prompt:(0,p.t)("whiteboard.ai_modal.suggestion.updates.prompt")},{icon:"\u{1F4C6}",title:(0,p.t)("whiteboard.ai_modal.suggestion.calendar"),prompt:(0,p.t)("whiteboard.ai_modal.suggestion.calendar.prompt")}];case"gantt_chart":return[{icon:"\u{1F4C6}",title:(0,p.t)("whiteboard.ai_modal.suggestion.date_range"),prompt:(0,p.t)("whiteboard.ai_modal.suggestion.date_range.prompt")},{icon:"\u{1F4D1}",title:(0,p.t)("whiteboard.ai_modal.suggestion.project_list"),prompt:(0,p.t)("whiteboard.ai_modal.suggestion.project_list.prompt")},{icon:"\u{1F3C1}",title:(0,p.t)("whiteboard.ai_modal.suggestion.milestones"),prompt:(0,p.t)("whiteboard.ai_modal.suggestion.milestones.prompt")}];case"flow_chart":return[{icon:"\u{1F522}",title:(0,p.t)("whiteboard.ai_modal.suggestion.decision_tree"),prompt:(0,p.t)("whiteboard.ai_modal.suggestion.decision_tree.prompt")}];case"org_chart":return[{icon:"\u{1FA9C}",title:(0,p.t)("whiteboard.ai_modal.suggestion.levels"),prompt:(0,p.t)("whiteboard.ai_modal.suggestion.levels.prompt")},{icon:"\u{1F9D1}",title:(0,p.t)("whiteboard.ai_modal.suggestion.people"),prompt:(0,p.t)("whiteboard.ai_modal.suggestion.people.prompt")}];case"mind_map":return[{icon:"\u{1F50D}",title:(0,p.t)("whiteboard.ai_modal.suggestion.explore_topics"),prompt:(0,p.t)("whiteboard.ai_modal.suggestion.explore_topics.prompt")}];case"timeline":return[{icon:"\u{1F3C1}",title:(0,p.t)("whiteboard.ai_modal.suggestion.milestones"),prompt:(0,p.t)("whiteboard.ai_modal.suggestion.milestones.prompt")}];default:return[]}}function et(e){switch(e){case"weekly_sync":return[{title:(0,p.t)("whiteboard.ai_modal.suggestion.icebreaker"),prompt:(0,p.t)("whiteboard.ai_modal.suggestion.icebreaker.prompt")},{title:(0,p.t)("whiteboard.ai_modal.suggestion.agenda"),prompt:(0,p.t)("whiteboard.ai_modal.suggestion.agenda.prompt")},{title:(0,p.t)("whiteboard.ai_modal.suggestion.updates"),prompt:(0,p.t)("whiteboard.ai_modal.suggestion.updates.prompt")},{title:(0,p.t)("whiteboard.ai_modal.suggestion.next_steps"),prompt:(0,p.t)("whiteboard.ai_modal.suggestion.next_steps.prompt")}];case"plan":return[{title:(0,p.t)("whiteboard.ai_modal.suggestion.goals"),prompt:(0,p.t)("whiteboard.ai_modal.suggestion.goals.prompt")},{title:(0,p.t)("whiteboard.ai_modal.suggestion.project_list"),prompt:(0,p.t)("whiteboard.ai_modal.suggestion.plan_project_list.prompt")},{title:(0,p.t)("whiteboard.ai_modal.suggestion.next_steps"),prompt:(0,p.t)("whiteboard.ai_modal.suggestion.next_steps.prompt")}];case"brainstorm":return[{title:(0,p.t)("whiteboard.ai_modal.suggestion.icebreaker"),prompt:(0,p.t)("whiteboard.ai_modal.suggestion.icebreaker.prompt")},{title:(0,p.t)("whiteboard.ai_modal.suggestion.goals"),prompt:(0,p.t)("whiteboard.ai_modal.suggestion.goals.prompt")},{title:(0,p.t)("whiteboard.ai_modal.suggestion.research"),prompt:(0,p.t)("whiteboard.ai_modal.suggestion.research.prompt")},{title:(0,p.t)("whiteboard.ai_modal.suggestion.next_steps"),prompt:(0,p.t)("whiteboard.ai_modal.suggestion.next_steps.prompt")}];case"team_retro":return[{title:(0,p.t)("whiteboard.ai_modal.suggestion.agenda"),prompt:(0,p.t)("whiteboard.ai_modal.suggestion.agenda.prompt")},{title:(0,p.t)("whiteboard.ai_modal.suggestion.icebreaker"),prompt:(0,p.t)("whiteboard.ai_modal.suggestion.icebreaker.prompt")},{title:(0,p.t)("whiteboard.ai_modal.suggestion.next_steps"),prompt:(0,p.t)("whiteboard.ai_modal.suggestion.next_steps.prompt")}];case"1:1":return[{title:(0,p.t)("whiteboard.ai_modal.suggestion.agenda"),prompt:(0,p.t)("whiteboard.ai_modal.suggestion.agenda.prompt")},{title:(0,p.t)("whiteboard.ai_modal.suggestion.updates"),prompt:(0,p.t)("whiteboard.ai_modal.suggestion.updates.prompt")},{title:(0,p.t)("whiteboard.ai_modal.suggestion.calendar"),prompt:(0,p.t)("whiteboard.ai_modal.suggestion.calendar.prompt")}];case"gantt_chart":return[{title:(0,p.t)("whiteboard.ai_modal.suggestion.date_range"),prompt:(0,p.t)("whiteboard.ai_modal.suggestion.date_range.prompt")},{title:(0,p.t)("whiteboard.ai_modal.suggestion.project_list"),prompt:(0,p.t)("whiteboard.ai_modal.suggestion.project_list.prompt")},{title:(0,p.t)("whiteboard.ai_modal.suggestion.milestones"),prompt:(0,p.t)("whiteboard.ai_modal.suggestion.milestones.prompt")}];case"flow_chart":return[{title:(0,p.t)("whiteboard.ai_modal.suggestion.decision_tree"),prompt:(0,p.t)("whiteboard.ai_modal.suggestion.decision_tree.prompt")}];case"org_chart":return[{title:(0,p.t)("whiteboard.ai_modal.suggestion.levels"),prompt:(0,p.t)("whiteboard.ai_modal.suggestion.levels.prompt")},{title:(0,p.t)("whiteboard.ai_modal.suggestion.people"),prompt:(0,p.t)("whiteboard.ai_modal.suggestion.people.prompt")}];case"mind_map":return[{title:(0,p.t)("whiteboard.ai_modal.suggestion.explore_topics"),prompt:(0,p.t)("whiteboard.ai_modal.suggestion.explore_topics.prompt")}];case"timeline":return[{title:(0,p.t)("whiteboard.ai_modal.suggestion.milestones"),prompt:(0,p.t)("whiteboard.ai_modal.suggestion.milestones.prompt")}];default:return[]}}let er=(e,t)=>e?t:[];function en(e,t){if(t)return ee(t).filter(t=>!e.includes(t.prompt));let r=[{icon:"\u{1F324}",title:(0,p.t)("whiteboard.ai_modal.usecase.weekly_sync"),prompt:(0,p.t)("whiteboard.ai_modal.usecase.weekly_sync.prompt"),keywords:[(0,p.t)("whiteboard.ai_modal.pill.keyword.meeting"),(0,p.t)("whiteboard.ai_modal.pill.keyword.meetings"),(0,p.t)("whiteboard.ai_modal.pill.keyword.weekly"),(0,p.t)("whiteboard.ai_modal.pill.keyword.sync"),(0,p.t)("whiteboard.ai_modal.usecase.weekly_sync")],categoryKey:"weekly_sync"},{icon:"\u270D\uFE0F",title:(0,p.t)("whiteboard.ai_modal.usecase.plan"),prompt:(0,p.t)("whiteboard.ai_modal.usecase.plan.prompt"),keywords:[(0,p.t)("whiteboard.ai_modal.usecase.plan")],categoryKey:"plan"},{icon:"\u{1F9E0}",title:(0,p.t)("whiteboard.ai_modal.usecase.brainstorm"),prompt:(0,p.t)("whiteboard.ai_modal.usecase.brainstorm.prompt"),keywords:[(0,p.t)("whiteboard.ai_modal.usecase.brainstorm")],categoryKey:"brainstorm"},{icon:"\u{1F538}",title:(0,p.t)("whiteboard.ai_modal.usecase.flow_chart"),prompt:(0,p.t)("whiteboard.ai_modal.usecase.flow_chart.prompt"),keywords:[(0,p.t)("whiteboard.ai_modal.pill.keyword.diagram"),(0,p.t)("whiteboard.ai_modal.pill.keyword.diagrams"),(0,p.t)("whiteboard.ai_modal.pill.keyword.flow"),(0,p.t)("whiteboard.ai_modal.pill.keyword.chart"),(0,p.t)("whiteboard.ai_modal.pill.keyword.flowchart"),(0,p.t)("whiteboard.ai_modal.usecase.flow_chart")],categoryKey:"flow_chart"},{icon:"\u{1F4C6}",title:(0,p.t)("whiteboard.ai_modal.usecase.gantt_chart"),prompt:(0,p.t)("whiteboard.ai_modal.usecase.gantt_chart.prompt"),keywords:[(0,p.t)("whiteboard.ai_modal.pill.keyword.diagram"),(0,p.t)("whiteboard.ai_modal.pill.keyword.diagrams"),(0,p.t)("whiteboard.ai_modal.pill.keyword.gantt"),(0,p.t)("whiteboard.ai_modal.pill.keyword.chart"),(0,p.t)("whiteboard.ai_modal.usecase.gantt_chart")],categoryKey:"gantt_chart"},{icon:"\u{1F4BC}",title:(0,p.t)("whiteboard.ai_modal.usecase.org_chart"),prompt:(0,p.t)("whiteboard.ai_modal.usecase.org_chart.prompt"),keywords:[(0,p.t)("whiteboard.ai_modal.pill.keyword.diagram"),(0,p.t)("whiteboard.ai_modal.pill.keyword.diagrams"),(0,p.t)("whiteboard.ai_modal.pill.keyword.org"),(0,p.t)("whiteboard.ai_modal.pill.keyword.chart"),(0,p.t)("whiteboard.ai_modal.usecase.org_chart")],categoryKey:"org_chart"},{icon:"\u{1F331}",title:(0,p.t)("whiteboard.ai_modal.usecase.team_retro"),prompt:(0,p.t)("whiteboard.ai_modal.usecase.team_retro.prompt"),keywords:[(0,p.t)("whiteboard.ai_modal.pill.keyword.meeting"),(0,p.t)("whiteboard.ai_modal.pill.keyword.meetings"),(0,p.t)("whiteboard.ai_modal.pill.keyword.team"),(0,p.t)("whiteboard.ai_modal.pill.keyword.retro"),(0,p.t)("whiteboard.ai_modal.pill.keyword.retrospective"),(0,p.t)("whiteboard.ai_modal.pill.keyword.team_retro"),(0,p.t)("whiteboard.ai_modal.usecase.team_retro")],categoryKey:"team_retro"},{icon:"\u{1F5E3}",title:(0,p.t)("whiteboard.ai_modal.usecase.1:1"),prompt:(0,p.t)("whiteboard.ai_modal.usecase.1:1.prompt"),keywords:[(0,p.t)("whiteboard.ai_modal.pill.keyword.meeting"),(0,p.t)("whiteboard.ai_modal.pill.keyword.meetings"),(0,p.t)("whiteboard.ai_modal.pill.keyword.1:1s"),(0,p.t)("whiteboard.ai_modal.usecase.1:1")],categoryKey:"1:1"},...er(ev(),[{icon:"\u{1F4AD}",title:(0,p.t)("whiteboard.ai_modal.usecase.mind_map"),prompt:(0,p.t)("whiteboard.ai_modal.usecase.mind_map.prompt"),keywords:[(0,p.t)("whiteboard.ai_modal.usecase.mind_map")],categoryKey:"mind_map"}]),...er(!!(0,u.Ub)().figjam_text_to_visual_timeline,[{icon:"\u23F1\uFE0F",title:(0,p.t)("whiteboard.ai_modal.usecase.timeline"),prompt:(0,p.t)("whiteboard.ai_modal.usecase.timeline.prompt"),keywords:[(0,p.t)("whiteboard.ai_modal.usecase.timeline")],categoryKey:"timeline"}])];if(0===e.length)return r;let n=[],i=e.toLocaleLowerCase();return r.forEach(e=>{e.keywords.some(e=>e.toLocaleLowerCase().startsWith(i))&&n.push(e)}),n}function ei(e,t){if(t)return et(t).filter(t=>!e.includes(t.prompt));let r=[{title:(0,p.t)("whiteboard.ai_modal.usecase.flow_chart"),prompt:(0,p.t)("whiteboard.ai_modal.usecase.flow_chart.prompt"),keywords:[(0,p.t)("whiteboard.ai_modal.pill.keyword.diagram"),(0,p.t)("whiteboard.ai_modal.pill.keyword.diagrams"),(0,p.t)("whiteboard.ai_modal.pill.keyword.flow"),(0,p.t)("whiteboard.ai_modal.pill.keyword.chart"),(0,p.t)("whiteboard.ai_modal.pill.keyword.flowchart"),(0,p.t)("whiteboard.ai_modal.pill.keyword.userflow"),(0,p.t)("whiteboard.ai_modal.pill.keyword.userjourney"),(0,p.t)("whiteboard.ai_modal.pill.keyword.journey"),(0,p.t)("whiteboard.ai_modal.pill.keyword.process"),(0,p.t)("whiteboard.ai_modal.usecase.flow_chart")],categoryKey:"flow_chart"},{title:(0,p.t)("whiteboard.ai_modal.usecase.gantt_chart"),prompt:(0,p.t)("whiteboard.ai_modal.usecase.gantt_chart.prompt"),keywords:[(0,p.t)("whiteboard.ai_modal.pill.keyword.diagram"),(0,p.t)("whiteboard.ai_modal.pill.keyword.diagrams"),(0,p.t)("whiteboard.ai_modal.pill.keyword.gantt"),(0,p.t)("whiteboard.ai_modal.pill.keyword.chart"),(0,p.t)("whiteboard.ai_modal.pill.keyword.schedule"),(0,p.t)("whiteboard.ai_modal.usecase.gantt_chart")],categoryKey:"gantt_chart"},{title:(0,p.t)("whiteboard.ai_modal.usecase.org_chart"),prompt:(0,p.t)("whiteboard.ai_modal.usecase.org_chart.prompt"),keywords:[(0,p.t)("whiteboard.ai_modal.pill.keyword.diagram"),(0,p.t)("whiteboard.ai_modal.pill.keyword.diagrams"),(0,p.t)("whiteboard.ai_modal.pill.keyword.org"),(0,p.t)("whiteboard.ai_modal.pill.keyword.chart"),(0,p.t)("whiteboard.ai_modal.usecase.org_chart")],categoryKey:"org_chart"},...er(!!(0,u.Ub)().figjam_text_to_visual_timeline,[{title:(0,p.t)("whiteboard.ai_modal.usecase.timeline"),prompt:(0,p.t)("whiteboard.ai_modal.usecase.timeline.prompt"),keywords:[(0,p.t)("whiteboard.ai_modal.pill.keyword.schedule"),(0,p.t)("whiteboard.ai_modal.usecase.timeline")],categoryKey:"timeline"}]),...er(ev(),[{title:(0,p.t)("whiteboard.ai_modal.usecase.mind_map"),prompt:(0,p.t)("whiteboard.ai_modal.usecase.mind_map.prompt"),keywords:[(0,p.t)("whiteboard.ai_modal.pill.keyword.options"),(0,p.t)("whiteboard.ai_modal.pill.keyword.ideas"),(0,p.t)("whiteboard.ai_modal.usecase.mind_map"),(0,p.t)("whiteboard.ai_modal.usecase.brainstorm")],categoryKey:"mind_map"}]),{title:(0,p.t)("whiteboard.ai_modal.usecase.1:1"),prompt:(0,p.t)("whiteboard.ai_modal.usecase.1:1.prompt"),keywords:[(0,p.t)("whiteboard.ai_modal.pill.keyword.meeting"),(0,p.t)("whiteboard.ai_modal.pill.keyword.meetings"),(0,p.t)("whiteboard.ai_modal.pill.keyword.1:1s"),(0,p.t)("whiteboard.ai_modal.usecase.1:1")],categoryKey:"1:1"},{title:(0,p.t)("whiteboard.ai_modal.usecase.plan"),prompt:(0,p.t)("whiteboard.ai_modal.usecase.plan.prompt"),keywords:[(0,p.t)("whiteboard.ai_modal.usecase.plan")],categoryKey:"plan"},{title:(0,p.t)("whiteboard.ai_modal.usecase.brainstorm"),prompt:(0,p.t)("whiteboard.ai_modal.usecase.brainstorm.prompt"),keywords:[(0,p.t)("whiteboard.ai_modal.usecase.brainstorm")],categoryKey:"brainstorm"},{title:(0,p.t)("whiteboard.ai_modal.usecase.weekly_sync"),prompt:(0,p.t)("whiteboard.ai_modal.usecase.weekly_sync.prompt"),keywords:[(0,p.t)("whiteboard.ai_modal.pill.keyword.meeting"),(0,p.t)("whiteboard.ai_modal.pill.keyword.meetings"),(0,p.t)("whiteboard.ai_modal.pill.keyword.weekly"),(0,p.t)("whiteboard.ai_modal.pill.keyword.sync"),(0,p.t)("whiteboard.ai_modal.usecase.weekly_sync")],categoryKey:"weekly_sync"},{title:(0,p.t)("whiteboard.ai_modal.usecase.team_retro"),prompt:(0,p.t)("whiteboard.ai_modal.usecase.team_retro.prompt"),keywords:[(0,p.t)("whiteboard.ai_modal.pill.keyword.meeting"),(0,p.t)("whiteboard.ai_modal.pill.keyword.meetings"),(0,p.t)("whiteboard.ai_modal.pill.keyword.team"),(0,p.t)("whiteboard.ai_modal.pill.keyword.retro"),(0,p.t)("whiteboard.ai_modal.pill.keyword.retrospective"),(0,p.t)("whiteboard.ai_modal.pill.keyword.team_retro"),(0,p.t)("whiteboard.ai_modal.usecase.team_retro")],categoryKey:"team_retro"}];if(0===e.length)return r;let n=[],i=e.toLocaleLowerCase();return r.forEach(e=>{e.keywords.some(e=>e.toLocaleLowerCase().startsWith(i))&&n.push(e)}),n}function ea(e){let t=Object.keys(e),r=t[Math.floor(Math.random()*t.length)],n=e[r];return{chosenUseCaseKey:r,suggestion:n[Math.floor(Math.random()*n.length)]}}function eo(e){let t=Object.keys(e),r=(0,d.S_)(t),n=e[r];return{chosenUseCaseKey:r,suggestion:n[Math.floor(Math.random()*n.length)]}}function el(e){return eo("template"===e?es():ec()).suggestion}function es(){return{brainstorm:[{title:(0,p.t)("whiteboard.ai_modal.suggestion_v2.brainstorm"),subtitle:(0,p.t)("whiteboard.ai_modal.suggestion_v2.brainstorm.subtitle_1"),useCaseCategory:"brainstorm"},{title:(0,p.t)("whiteboard.ai_modal.suggestion_v2.brainstorm"),subtitle:(0,p.t)("whiteboard.ai_modal.suggestion_v2.brainstorm.subtitle_2"),useCaseCategory:"brainstorm"},{title:(0,p.t)("whiteboard.ai_modal.suggestion_v2.brainstorm"),subtitle:(0,p.t)("whiteboard.ai_modal.suggestion_v2.brainstorm.subtitle_3"),useCaseCategory:"brainstorm"}],weekly_sync:[{title:(0,p.t)("whiteboard.ai_modal.suggestion_v2.weekly_sync"),subtitle:(0,p.t)("whiteboard.ai_modal.suggestion_v2.weekly_sync.subtitle_1"),useCaseCategory:"weekly_sync"},{title:(0,p.t)("whiteboard.ai_modal.suggestion_v2.weekly_sync"),subtitle:(0,p.t)("whiteboard.ai_modal.suggestion_v2.weekly_sync.subtitle_2"),useCaseCategory:"weekly_sync"},{title:(0,p.t)("whiteboard.ai_modal.suggestion_v2.weekly_sync"),subtitle:(0,p.t)("whiteboard.ai_modal.suggestion_v2.weekly_sync.subtitle_3"),useCaseCategory:"weekly_sync"}],plan:[{title:(0,p.t)("whiteboard.ai_modal.suggestion_v2.plan"),subtitle:(0,p.t)("whiteboard.ai_modal.suggestion_v2.plan.subtitle_1"),useCaseCategory:"plan"},{title:(0,p.t)("whiteboard.ai_modal.suggestion_v2.plan"),subtitle:(0,p.t)("whiteboard.ai_modal.suggestion_v2.plan.subtitle_2"),useCaseCategory:"plan"},{title:(0,p.t)("whiteboard.ai_modal.suggestion_v2.plan"),subtitle:(0,p.t)("whiteboard.ai_modal.suggestion_v2.plan.subtitle_3"),useCaseCategory:"plan"}],one_on_one:[{title:(0,p.t)("whiteboard.ai_modal.suggestion_v2.1:1"),subtitle:(0,p.t)("whiteboard.ai_modal.suggestion_v2.1:1.subtitle_1"),useCaseCategory:"1:1"},{title:(0,p.t)("whiteboard.ai_modal.suggestion_v2.1:1"),subtitle:(0,p.t)("whiteboard.ai_modal.suggestion_v2.1:1.subtitle_2"),useCaseCategory:"1:1"},{title:(0,p.t)("whiteboard.ai_modal.suggestion_v2.1:1"),subtitle:(0,p.t)("whiteboard.ai_modal.suggestion_v2.1:1.subtitle_3"),useCaseCategory:"1:1"}],team_retro:[{title:(0,p.t)("whiteboard.ai_modal.suggestion_v2.team_retro"),subtitle:(0,p.t)("whiteboard.ai_modal.suggestion_v2.team_retro.subtitle_1"),useCaseCategory:"team_retro"},{title:(0,p.t)("whiteboard.ai_modal.suggestion_v2.team_retro"),subtitle:(0,p.t)("whiteboard.ai_modal.suggestion_v2.team_retro.subtitle_2"),useCaseCategory:"team_retro"},{title:(0,p.t)("whiteboard.ai_modal.suggestion_v2.team_retro"),subtitle:(0,p.t)("whiteboard.ai_modal.suggestion_v2.team_retro.subtitle_3"),useCaseCategory:"team_retro"}]}}function ec(){return{flowchart:[{title:(0,p.t)("whiteboard.ai_modal.suggestion_v2.flowchart"),subtitle:(0,p.t)("whiteboard.ai_modal.suggestion_v2.flowchart.subtitle_1"),useCaseCategory:"flow_chart"},{title:(0,p.t)("whiteboard.ai_modal.suggestion_v2.flowchart"),subtitle:(0,p.t)("whiteboard.ai_modal.suggestion_v2.flowchart.subtitle_2"),useCaseCategory:"flow_chart"}],gantt:[{title:(0,p.t)("whiteboard.ai_modal.suggestion_v2.gantt"),subtitle:(0,p.t)("whiteboard.ai_modal.suggestion_v2.gantt.subtitle_1"),useCaseCategory:"gantt_chart"},{title:(0,p.t)("whiteboard.ai_modal.suggestion_v2.gantt"),subtitle:(0,p.t)("whiteboard.ai_modal.suggestion_v2.gantt.subtitle_2"),useCaseCategory:"gantt_chart"}],orgchart:[{title:(0,p.t)("whiteboard.ai_modal.suggestion_v2.orgchart"),subtitle:(0,p.t)("whiteboard.ai_modal.suggestion_v2.orgchart.subtitle_2"),useCaseCategory:"org_chart"}],...er(ev(),{mindmap:[{title:(0,p.t)("whiteboard.ai_modal.suggestion_v2.mind_map"),subtitle:(0,p.t)("whiteboard.ai_modal.suggestion_v2.mind_map.subtitle_1"),useCaseCategory:"mind_map"},{title:(0,p.t)("whiteboard.ai_modal.suggestion_v2.mind_map"),subtitle:(0,p.t)("whiteboard.ai_modal.suggestion_v2.mind_map.subtitle_2"),useCaseCategory:"mind_map"},{title:(0,p.t)("whiteboard.ai_modal.suggestion_v2.mind_map"),subtitle:(0,p.t)("whiteboard.ai_modal.suggestion_v2.mind_map.subtitle_3"),useCaseCategory:"mind_map"}]}),...er(!!(0,u.Ub)().figjam_text_to_visual_timeline,{timeline:[{title:(0,p.t)("whiteboard.ai_modal.suggestion_v2.timeline"),subtitle:(0,p.t)("whiteboard.ai_modal.suggestion_v2.timeline.subtitle_1"),useCaseCategory:"timeline"},{title:(0,p.t)("whiteboard.ai_modal.suggestion_v2.timeline"),subtitle:(0,p.t)("whiteboard.ai_modal.suggestion_v2.timeline.subtitle_2"),useCaseCategory:"timeline"},{title:(0,p.t)("whiteboard.ai_modal.suggestion_v2.timeline"),subtitle:(0,p.t)("whiteboard.ai_modal.suggestion_v2.timeline.subtitle_3"),useCaseCategory:"timeline"}]})}}function ed(e){let t={meeting:[{type:"meeting",title:(0,p.t)("whiteboard.ai_modal.suggestion.weekly_sync"),subtitle:(0,p.t)("whiteboard.ai_modal.suggestion.weekly_sync.subtitle_1"),useCaseCategory:"weekly_sync"},{type:"meeting",title:(0,p.t)("whiteboard.ai_modal.suggestion.team_retro"),subtitle:(0,p.t)("whiteboard.ai_modal.suggestion.team_retro.subtitle_1"),useCaseCategory:"team_retro"},{type:"meeting",title:(0,p.t)("whiteboard.ai_modal.suggestion.1:1"),subtitle:(0,p.t)("whiteboard.ai_modal.suggestion.1:1.subtitle_1"),useCaseCategory:"1:1"}],brainstorm:[{type:"brainstorm",title:(0,p.t)("whiteboard.ai_modal.suggestion.brainstorm"),subtitle:(0,p.t)("whiteboard.ai_modal.suggestion.brainstorm.subtitle_1"),useCaseCategory:"brainstorm"}],plan:[{type:"plan",title:(0,p.t)("whiteboard.ai_modal.suggestion.plan"),subtitle:(0,p.t)("whiteboard.ai_modal.suggestion.plan.subtitle_1"),useCaseCategory:"plan"},{type:"plan",title:(0,p.t)("whiteboard.ai_modal.suggestion.plan"),subtitle:(0,p.t)("whiteboard.ai_modal.suggestion.plan.subtitle_2"),useCaseCategory:"plan"},{type:"plan",title:(0,p.t)("whiteboard.ai_modal.suggestion.plan"),subtitle:(0,p.t)("whiteboard.ai_modal.suggestion.plan.subtitle_3"),useCaseCategory:"plan"}]},r={gantt:[{type:"gantt_chart",title:(0,p.t)("whiteboard.ai_modal.suggestion.gantt"),subtitle:(0,p.t)("whiteboard.ai_modal.suggestion.gantt.subtitle_1"),useCaseCategory:"gantt_chart"},{type:"gantt_chart",title:(0,p.t)("whiteboard.ai_modal.suggestion.gantt"),subtitle:(0,p.t)("whiteboard.ai_modal.suggestion.gantt.subtitle_2"),useCaseCategory:"gantt_chart"}],flowchart:[{type:"flow_chart",title:(0,p.t)("whiteboard.ai_modal.suggestion.flowchart"),subtitle:(0,p.t)("whiteboard.ai_modal.suggestion.flowchart.subtitle_1"),useCaseCategory:"flow_chart"},{type:"flow_chart",title:(0,p.t)("whiteboard.ai_modal.suggestion.flowchart"),subtitle:(0,p.t)("whiteboard.ai_modal.suggestion.flowchart.subtitle_2"),useCaseCategory:"flow_chart"}],orgchart:[{type:"org_chart",title:(0,p.t)("whiteboard.ai_modal.suggestion.orgchart"),subtitle:(0,p.t)("whiteboard.ai_modal.suggestion.orgchart.subtitle_1"),useCaseCategory:"org_chart"},{type:"org_chart",title:(0,p.t)("whiteboard.ai_modal.suggestion.orgchart"),subtitle:(0,p.t)("whiteboard.ai_modal.suggestion.orgchart.subtitle_2"),useCaseCategory:"org_chart"}],...er(ev(),{mindmap:[{type:"mind_map",title:(0,p.t)("whiteboard.ai_modal.suggestion.mind_map"),subtitle:(0,p.t)("whiteboard.ai_modal.suggestion.mind_map.subtitle_1"),useCaseCategory:"mind_map"},{type:"mind_map",title:(0,p.t)("whiteboard.ai_modal.suggestion.mind_map"),subtitle:(0,p.t)("whiteboard.ai_modal.suggestion.mind_map.subtitle_2"),useCaseCategory:"mind_map"}]}),...er(!!(0,u.Ub)().figjam_text_to_visual_timeline,{timeline:[{type:"timeline",title:(0,p.t)("whiteboard.ai_modal.suggestion.timeline"),subtitle:(0,p.t)("whiteboard.ai_modal.suggestion.timeline.subtitle_1"),useCaseCategory:"timeline"}]})},n=[],i=ea(t);n.push(i.suggestion);let a=ea(r);n.push(a.suggestion);let o={...t,...r};delete o[a.chosenUseCaseKey],delete o[i.chosenUseCaseKey];for(let t=0;t<e;t++){let e=ea(o);n.push(e.suggestion),delete o[e.chosenUseCaseKey]}return(0,d.YP)(n)}function eu(e){let t=es(),r=ec(),n=[],i=eo(t);n.push(i.suggestion);let a=eo(r);n.push(a.suggestion);let o={...t,...r};delete o[a.chosenUseCaseKey],delete o[i.chosenUseCaseKey];for(let t=0;t<e;t++){let e=eo(o);n.push(e.suggestion),delete o[e.chosenUseCaseKey]}return(0,d.YP)(n)}function ep(e){switch(e){case"meeting":return c.createElement(_,null);case"gantt_chart":return c.createElement(f,null);case"brainstorm":return c.createElement(h,null);case"flow_chart":return c.createElement(g,null);case"org_chart":return c.createElement(E,null);case"plan":return c.createElement(y,null);case"mind_map":return c.createElement(b,null);case"timeline":return c.createElement(v,null)}}function em(e){switch(e){case"weekly_sync":return c.createElement(L,null);case"brainstorm":return c.createElement(N,null);case"flow_chart":return c.createElement(I,null);case"gantt_chart":return c.createElement(w,null);case"org_chart":return c.createElement(T,null);case"1:1":return c.createElement(A,null);case"plan":return c.createElement(O,null);case"team_retro":return c.createElement(R,null);case"mind_map":return c.createElement(C,null);case"timeline":return c.createElement(S,null)}}function e_(e){switch(e){case"weekly_sync":return c.createElement(G,null);case"brainstorm":return c.createElement(B,null);case"flow_chart":return c.createElement(P,null);case"gantt_chart":return c.createElement(M,null);case"org_chart":return c.createElement(k,null);case"1:1":return c.createElement(x,null);case"plan":return c.createElement(U,null);case"team_retro":return c.createElement(V,null);case"mind_map":return c.createElement(F,null);case"timeline":return c.createElement(D,null)}}function eh(e,t){return void 0!==t&&e===function(e){switch(e){case"weekly_sync":return(0,p.t)("whiteboard.ai_modal.usecase.weekly_sync.prompt");case"brainstorm":return(0,p.t)("whiteboard.ai_modal.usecase.brainstorm.prompt");case"flow_chart":return(0,p.t)("whiteboard.ai_modal.usecase.flow_chart.prompt");case"gantt_chart":return(0,p.t)("whiteboard.ai_modal.usecase.gantt_chart.prompt");case"org_chart":return(0,p.t)("whiteboard.ai_modal.usecase.org_chart.prompt");case"1:1":return(0,p.t)("whiteboard.ai_modal.usecase.1:1.prompt");case"plan":return(0,p.t)("whiteboard.ai_modal.usecase.plan.prompt");case"team_retro":return(0,p.t)("whiteboard.ai_modal.usecase.team_retro.prompt");case"mind_map":return(0,p.t)("whiteboard.ai_modal.usecase.mind_map.prompt");case"timeline":return(0,p.t)("whiteboard.ai_modal.usecase.timeline.prompt")}}(t)}function eg(e,t,r=!0){return r?`${e} ${t}${(0,p.t)("whiteboard.ai_modal.prompt_builder.period")}`:`${e} ${t}`}function ef(e){let t=e.trim(),r=(0,p.t)("whiteboard.ai_modal.prompt_builder.period"),n=[r,",","!","?"].some(e=>e===t.charAt(t.length-1));return`${t}${n?"":r} ${(0,p.t)("whiteboard.ai_modal.prompt_builder.add")}`}function eE(e,t){var r;return"mind_map"!==t&&(!!eh(e,t)||e.endsWith(`${(0,p.t)("whiteboard.ai_modal.prompt_builder.period")} `)&&(r=e.trim(),[eg((0,p.t)("whiteboard.ai_modal.suggestion_v2.brainstorm"),(0,p.t)("whiteboard.ai_modal.suggestion_v2.brainstorm.subtitle_1")),eg((0,p.t)("whiteboard.ai_modal.suggestion_v2.brainstorm"),(0,p.t)("whiteboard.ai_modal.suggestion_v2.brainstorm.subtitle_2")),eg((0,p.t)("whiteboard.ai_modal.suggestion_v2.brainstorm"),(0,p.t)("whiteboard.ai_modal.suggestion_v2.brainstorm.subtitle_3")),eg((0,p.t)("whiteboard.ai_modal.suggestion_v2.weekly_sync"),(0,p.t)("whiteboard.ai_modal.suggestion_v2.weekly_sync.subtitle_1")),eg((0,p.t)("whiteboard.ai_modal.suggestion_v2.weekly_sync"),(0,p.t)("whiteboard.ai_modal.suggestion_v2.weekly_sync.subtitle_2")),eg((0,p.t)("whiteboard.ai_modal.suggestion_v2.weekly_sync"),(0,p.t)("whiteboard.ai_modal.suggestion_v2.weekly_sync.subtitle_3")),eg((0,p.t)("whiteboard.ai_modal.suggestion_v2.plan"),(0,p.t)("whiteboard.ai_modal.suggestion_v2.plan.subtitle_1")),eg((0,p.t)("whiteboard.ai_modal.suggestion_v2.plan"),(0,p.t)("whiteboard.ai_modal.suggestion_v2.plan.subtitle_2")),eg((0,p.t)("whiteboard.ai_modal.suggestion_v2.plan"),(0,p.t)("whiteboard.ai_modal.suggestion_v2.plan.subtitle_3")),eg((0,p.t)("whiteboard.ai_modal.suggestion_v2.1:1"),(0,p.t)("whiteboard.ai_modal.suggestion_v2.1:1.subtitle_1")),eg((0,p.t)("whiteboard.ai_modal.suggestion_v2.1:1"),(0,p.t)("whiteboard.ai_modal.suggestion_v2.1:1.subtitle_2")),eg((0,p.t)("whiteboard.ai_modal.suggestion_v2.1:1"),(0,p.t)("whiteboard.ai_modal.suggestion_v2.1:1.subtitle_3")),eg((0,p.t)("whiteboard.ai_modal.suggestion_v2.team_retro"),(0,p.t)("whiteboard.ai_modal.suggestion_v2.team_retro.subtitle_1")),eg((0,p.t)("whiteboard.ai_modal.suggestion_v2.team_retro"),(0,p.t)("whiteboard.ai_modal.suggestion_v2.team_retro.subtitle_2")),eg((0,p.t)("whiteboard.ai_modal.suggestion_v2.team_retro"),(0,p.t)("whiteboard.ai_modal.suggestion_v2.team_retro.subtitle_3")),eg((0,p.t)("whiteboard.ai_modal.suggestion_v2.flowchart"),(0,p.t)("whiteboard.ai_modal.suggestion_v2.flowchart.subtitle_1")),eg((0,p.t)("whiteboard.ai_modal.suggestion_v2.flowchart"),(0,p.t)("whiteboard.ai_modal.suggestion_v2.flowchart.subtitle_2")),eg((0,p.t)("whiteboard.ai_modal.suggestion_v2.gantt"),(0,p.t)("whiteboard.ai_modal.suggestion_v2.gantt.subtitle_1")),eg((0,p.t)("whiteboard.ai_modal.suggestion_v2.gantt"),(0,p.t)("whiteboard.ai_modal.suggestion_v2.gantt.subtitle_2")),eg((0,p.t)("whiteboard.ai_modal.suggestion_v2.orgchart"),(0,p.t)("whiteboard.ai_modal.suggestion_v2.orgchart.subtitle_2")),...er(ev(),[eg((0,p.t)("whiteboard.ai_modal.suggestion_v2.mind_map"),(0,p.t)("whiteboard.ai_modal.suggestion_v2.mind_map.subtitle_1")),eg((0,p.t)("whiteboard.ai_modal.suggestion_v2.mind_map"),(0,p.t)("whiteboard.ai_modal.suggestion_v2.mind_map.subtitle_2")),eg((0,p.t)("whiteboard.ai_modal.suggestion_v2.mind_map"),(0,p.t)("whiteboard.ai_modal.suggestion_v2.mind_map.subtitle_3"))]),...er(!!(0,u.Ub)().figjam_text_to_visual_timeline,[eg((0,p.t)("whiteboard.ai_modal.suggestion_v2.timeline"),(0,p.t)("whiteboard.ai_modal.suggestion_v2.timeline.subtitle_1")),eg((0,p.t)("whiteboard.ai_modal.suggestion_v2.timeline"),(0,p.t)("whiteboard.ai_modal.suggestion_v2.timeline.subtitle_2")),eg((0,p.t)("whiteboard.ai_modal.suggestion_v2.timeline"),(0,p.t)("whiteboard.ai_modal.suggestion_v2.timeline.subtitle_3"))])].includes(r))&&!e.startsWith((0,p.t)("whiteboard.ai_modal.suggestion_v2.mind_map")))}function ey(){return!!(0,u.Ub)().figjam_text_to_visual}async function eb({prompt:e,signal:t,authInfo:r}){let n=await m.cp.figjam.classifyCreate({prompt:e},r);return t.aborted?null:n.type}function ev(){return!!(0,u.Ub)().figjam_text_to_visual_mindmap&&!!(0,u.Ub)().figjam_mindmaps_entry_enable}},590112:(e,t,r)=>{"use strict";r.d(t,{E7:()=>f,aY:()=>g,ay:()=>_,q6:()=>h,sj:()=>m});var n=r(120304),i=r(843148),a=r(888932),o=r(572748),l=r(402980),s=r(514916),c=r(717252),d=r(13468),u=r(644516),p=r(848688);let m=new Set([c.gJ,c.Ml]);function _(e,t,r){return(!!e||!!t)&&(!!(e?null==e?void 0:e.ai_features_disabled:null==t?void 0:t.ai_features_disabled)||r)}function h(){let e=(0,o.Ce)()||null,t=(0,u.dh)()||null,r=(0,p.cH)();return!!(0,n.w1)(e=>(0,d.Wm)(e.selectedView)||!e.user)||_(e,t,r)}function g(e){var t;let r=e.openFile,n=r?r.teamId:null;return{teamId:n,orgId:e.currentUserOrgId,fileKey:r?r.key:null,userId:(null==(t=e.user)?void 0:t.id)||null}}function f(){let e=(0,o.Ce)(),t=(0,l.eY)(null,s.aE.WHITEBOARD),r=h();return!((0,i.Ub)().figjam_generate_handbrake||(0,a.MX)())&&!r&&(null==e||!e.k12_google_org)&&t}},316584:(e,t,r)=>{"use strict";let n,i;r.d(t,{C6:()=>h,SI:()=>E,SW:()=>y,kV:()=>_,m8:()=>v,qI:()=>g,sj:()=>b,st:()=>f,wf:()=>p,wz:()=>m});var a=r(250008),o=r(372152),l=r(623131),s=r(93736),c=((n=c||{}).FREEFORM="freeform",n.SUGGESTION="suggestion",n.AUTOCOMPLETE="autocomplete",n),d=((i=d||{}).AI_PROMPT_EDITED="ai_prompt_edited",i.AI_PROMPT_BUILDER_OUTPUT_REQUESTED="ai_prompt_builder_output_requested",i.AI_PROMPT_BUILDER_OUTPUT_STREAMING="ai_prompt_builder_output_streaming",i.AI_PROMPT_BUILDER_OUTPUT_CREATED="ai_prompt_builder_output_created",i.AI_PROMPT_REQUEST_ERROR="ai_prompt_request_error",i.AI_PROMPT_SUGGESTIONS_VIEWED="ai_prompt_suggestions_viewed",i);let u=e=>"board"===e?"template":"visual";function p(e,t,r,n,i,l,c,d,p,m,_){let h="inappropriate"===i?i:u(i);(0,s.K8)(n).then(i=>{(0,a.we)("ai_prompt_builder_output_requested",{fileKey:e,variantIndex:t,numVariants:r,promptId:i,outputType:h,oneClickPromptUseCase:p,oneClickPromptUseCaseCategory:d,oneClickPromptUseCaseSubCategory:m,numCharactersInput:n.length,localOutputId:o.qM.get(v),stage:l,uiTriggeredFrom:c,autocompletePromptAddition:_},{forwardToDatadog:!0})})}function m(e,t,r,n,i){(0,s.K8)(r).then(r=>{(0,a.we)("ai_prompt_builder_output_streaming",{fileKey:e,variantIndex:t,promptId:r,outputType:u(n),cortexRequestId:i,localOutputId:o.qM.get(v)},{forwardToDatadog:!0})})}function _(e,t,r,n,i){(0,s.K8)(r).then(r=>{(0,a.we)("ai_prompt_builder_output_created",{fileKey:e,variantIndex:t,promptId:r,outputType:u(n),cortexRequestId:i,localOutputId:o.qM.get(v)},{forwardToDatadog:!0})})}function h(){(0,a.we)("ai_prompt_edited",{promptEditType:"freeform"},{forwardToDatadog:!0})}function g(e,t){(0,a.we)("ai_prompt_edited",{promptEditType:"suggestion",promptSuggestionIndex:e,promptSuggestionText:t},{forwardToDatadog:!0})}function f(e){(0,a.we)("ai_prompt_edited",{promptEditType:"autocomplete",autocompleteSuggestionText:e},{forwardToDatadog:!0})}function E(e,t){(0,a.we)("ai_prompt_request_error",{fileKey:e,errorMessage:t},{forwardToDatadog:!0})}function y(e){let t=e.map(e=>e.title);(0,a.we)("ai_prompt_suggestions_viewed",{prompt_suggestions:t},{forwardToDatadog:!0})}let b=(0,l.Zf)(null),v=(0,l.Zf)(0)},779532:(e,t,r)=>{"use strict";let n,i;r.d(t,{Cg:()=>d,Il:()=>c,M1:()=>s,oN:()=>u});var a=r(161400),o=r(90340),l=r(699084),s=((n=s||{}).REQUEST="ai_summary_requested",n.CREATE="ai_summary_created",n.DELETE="ai_summary_deleted",n.LINK_COPED="ai_summary_link_copied",n.TEXT_COPIED="ai_summary_text_copied",n.TIME_TAKEN_TO_COMPLETE="figjam.summarize.time_taken_to_complete",n),c=((i=c||{}).TIME_TAKEN_TO_COMPLETE="figjam.cluster.time_taken_to_complete",i);function d(e){return JSON.stringify(e).length}function u(e,t){var r;let n=a.x.getState(),i=(null==(r=(0,l.QZ)(n))?void 0:r.key)??"";(0,o.s5)(e,i,n,{...t})}},698260:(e,t,r)=>{"use strict";r.d(t,{$:()=>p,e:()=>m});var n=r(307824),i=r(120304),a=r(383456),o=r(560072),l=r(762820),s=r(503324),c=r(679804),d=r(142548);function u(e){return e.mirror.sceneGraph.get(e.mirror.appModel.hoveredNode)}let p=n.memo(function(){let e=(0,i.w1)(u),t=null==e?void 0:e.guid,[r,a]=n.useState(null);n.useEffect(()=>{var e;if(!t){a(null);return}let r=l.i46.getSummaryEditorAttributionFrameGuid(t);if(!r)return;let n=(0,s.S_)("summary-attribution-tooltip",[r],e=>{a((null==e?void 0:e.position)||null)});return a(n.currentNodePosition&&(null==(e=n.currentNodePosition[r])?void 0:e.position)||null),()=>{(0,s.O4)("summary-attribution-tooltip")}},[e,t]);let o=!!r,p=(0,c.OM)({subscribeToUpdates_expensive:o}),m=n.useMemo(()=>{if(!r)return{};let e=(0,c.C)(p,r),t=e.x+p.x,n=e.y+p.y;return{height:r.height,width:r.width,transformOrigin:"top left",position:"fixed",transform:`translate(${t}px, ${n}px) rotate(${r.angle}deg) scale(${p.zoomScale})`}},[p,r]);if(!o||!e)return null;let _=e.getWidgetSyncedState()["syncedState:edit-attribution"];return n.createElement("div",{"data-tooltip-type":d.wL.SPECIAL,"data-tooltip":d.oz.SUMMARY_ATTRIBUTION,"data-tooltip-attribution-state":JSON.stringify(_),"data-tooltip-max-width":400,"data-tooltip-show-immediately":!0,style:m})});function m({attributionState:e}){return e.lastEditTimestamp?n.createElement(n.Fragment,null,n.createElement(o.Tx,{id:"whiteboard.ai_summary.editedTooltipEditedBy",editorName:e.lastEditedBy}),", ",n.createElement(a.O,{date:new Date(e.lastEditTimestamp)})):null}},515760:(e,t,r)=>{"use strict";let n,i;r.d(t,{Ku:()=>g,_E:()=>h,gd:()=>E,o$:()=>f,sp:()=>_});var a=r(307824),o=r(120304),l=r(728107),s=r(762588),c=r(656716),d=r(843148),u=r(560072),p=r(317704),m=r(492084),_=((n=_||{}).SUMMARIZE="sticky-summarization-error",n.CLUSTER="sticky-cluster-error",n.GENERATE="generate-error",n);let h={"sticky-summarization-error":"Error summarizing sticky selection: ","sticky-cluster-error":"Error sorting sticky selection: ","generate-error":"Error generating: "};var g=((i=g||{}).Reload="reload",i.Trace="trace",i);function f(){let e=(0,o.OY)();return a.useCallback((t,r,n)=>{let i;if(n)switch(n.type){case"reload":i={text:(0,u.t)("whiteboard.ai.reload"),action:()=>c.default.reload("Resolving an error encountered in FigJam AI")};break;case"trace":(0,d.Ub)().cortex_execution_tracing&&(i={text:(0,u.t)("whiteboard.ai_modal.share_trace"),action(){(0,s.E)(JSON.stringify(n.trace,null,2),"trace.json")}})}e(p.A.enqueue({type:r,message:t,error:!!i,button:i}))},[e])}let E=(0,m.m)((e,t)=>{let r={"sticky-summarization-error":{content_length_limit_exceeded:(0,u.t)("whiteboard.ai_summary.content_length_limit_exceeded_error"),figjam_summarize_out_of_date:(0,u.t)("whiteboard.ai_summary.out_of_date_error"),rate_limit_exceeded:(0,u.t)("whiteboard.ai_summary.rate_limit_exceeded_error"),ai_opt_out_error:(0,u.t)("whiteboard.ai.ai_opt_out_error"),generic:(0,u.t)("whiteboard.ai_summary.generic_error"),service_issue:(0,u.t)("whiteboard.ai.service_issue_error"),unsafe_or_harmful_content:(0,u.t)("whiteboard.ai.inappropriate_input_error"),offline:(0,u.t)("whiteboard.ai.offline_error"),unauthorized:(0,u.t)("whiteboard.ai_summary.generic_error")},"sticky-cluster-error":{content_length_limit_exceeded:(0,u.t)("whiteboard.ai_cluster.content_length_limit_exceeded_error"),figjam_cluster_out_of_date:(0,u.t)("whiteboard.ai_cluster.out_of_date_error"),rate_limit_exceeded:(0,u.t)("whiteboard.ai_cluster.rate_limit_exceeded_error"),ai_opt_out_error:(0,u.t)("whiteboard.ai.ai_opt_out_error"),generic:(0,u.t)("whiteboard.ai_cluster.generic_error"),service_issue:(0,u.t)("whiteboard.ai.service_issue_error"),unsafe_or_harmful_content:(0,u.t)("whiteboard.ai.inappropriate_input_error"),offline:(0,u.t)("whiteboard.ai.offline_error"),unauthorized:(0,u.t)("whiteboard.ai_cluster.generic_error")},"generate-error":{content_length_limit_exceeded:(0,u.t)("whiteboard.ai_generate.content_length_limit_exceeded_error"),rate_limit_exceeded:(0,u.t)("whiteboard.ai_generate.rate_limit_error"),ai_opt_out_error:(0,u.t)("whiteboard.ai.ai_opt_out_error"),generic:(0,u.t)("whiteboard.ai_generate.unknown_error"),service_issue:(0,u.t)("whiteboard.ai.service_issue_error"),unsafe_or_harmful_content:(0,u.t)("whiteboard.ai.inappropriate_input_error"),figjam_templates_out_of_date:(0,u.t)("whiteboard.ai_generate.out_of_date_error"),offline:(0,u.t)("whiteboard.ai.offline_error"),unauthorized:(0,u.t)("whiteboard.ai_generate.unknown_error")}},n="generic",i=!0;if(e instanceof l.Uh)switch(e.type){case"content_length_limit_exceeded":n="content_length_limit_exceeded";break;case"figjam_summarize_out_of_date":n="figjam_summarize_out_of_date";break;case"figjam_cluster_out_of_date":n="figjam_cluster_out_of_date";break;case"figjam_templates_out_of_date":n="figjam_templates_out_of_date";break;case"rate_limit_exceeded":n="rate_limit_exceeded";break;case"service_issue":n="service_issue";break;case"offline":n="offline",i=!1;break;case"unsafe_or_harmful_content":n="unsafe_or_harmful_content",i=!1;break;case"unauthorized":n="unauthorized",i=!1;break;case"figjam_visual_parsing_error":case"figjam_create_template_parser":n="generic",i=!1;break;case"generic":if(429===e.data.status){n="rate_limit_exceeded";break}403===e.data.status&&(n="ai_opt_out_error")}let a=r[t],o=a[n]??a.generic;return{type:n,message:o,reportToSentry:i}})},664300:(e,t,r)=>{"use strict";r.d(t,{Ar:()=>F,EV:()=>N,IX:()=>A,cZ:()=>O,eM:()=>P,kf:()=>M,kj:()=>R,mW:()=>D,ug:()=>k});var n=r(307824),i=r(120304),a=r(51408),o=r(220156),l=r(733960),s=r(365224),c=r(61836),d=r(814508),u=r(327112),p=r(560072),m=r(317704),_=r(998e3),h=r(762820),g=r(392992),f=r(472956),E=r(115996),y=r(553432),b=r(644516),v=r(970176),I=r(785100),w=r(492084),T=r(664964),S=r(489308),C=r(977408);function A(){let e=(0,g.K0)(),t=(0,i.OY)(),r=(0,s.my)(C.Cw);return(n,i,a)=>{e&&(r(i),(0,c.w3)().optimisticallyUpdate({},I.Q.setUserColorPaletteOverrideForFile(e,n)).catch(e=>{console.error(e),a||t(m.A.enqueue({message:(0,p.t)("fullscreen.color_palette.apply_palette_failure")}))}).finally(()=>{r(0)}))}}function O(){var e,t;let r=(0,g.K0)()||"",[n]=(0,d.UL)((0,f.CsL)({fileKey:r}),{enabled:!!r}),i=null==(e=n.data)?void 0:e.file;if("loaded"===n.status&&i&&(null==(t=i.defaultColorPaletteData)?void 0:t.colorPalette))return i.defaultColorPaletteData.colorPalette}let N=(0,w.m)(()=>{let e=(0,g.K0)(),[t]=(0,d.UL)((0,f.CsL)({fileKey:e||""}),{enabled:!!e}),{loadedPaletteVariations:r,loadedColorPalette:i}=function(e){let t=(0,n.useRef)(),{uuid:r,palette:i}=function(e){var t,r;let n={uuid:v.KU,palette:void 0},i=null==(t=e.data)?void 0:t.file;if("loaded"!==e.status||!i)return n;if(i.userColorPaletteOverrideData){let e=i.userColorPaletteOverrideData.colorPaletteUuid;if(e===v.KU)return n;if(i.userColorPaletteOverrideData.colorPalette)return{uuid:e,palette:i.userColorPaletteOverrideData.colorPalette}}return(null==(r=i.defaultColorPaletteData)?void 0:r.colorPalette)?{uuid:i.defaultColorPaletteData.colorPaletteUuid,palette:i.defaultColorPaletteData.colorPalette}:n}(e);t.current=i;let a=(null==i?void 0:i.baseColors.join(":"))||"";return(0,n.useMemo)(()=>{let n,i;let l=t.current;return"loaded"===e.status&&l&&r!==v.KU&&(n=R(a.split(":")),i=(0,o.tW)(n)),{loadedPaletteVariations:i,loadedColorPalette:l}},[r,a,e.status])}(t),a=(0,s.my)(C.ED);return((0,n.useEffect)(()=>{a(r)},[r,a]),i&&r)?{type:v.i.CUSTOM,variations:r,uuid:i.uuid,name:i.name,isTeamDefault:i.isTeamDefault}:{type:v.i.DEFAULT,uuid:v.KU}});function L(e){return null!==e}function R(e){return e.map(e=>(0,a.Iy)(e)).filter(L)}function P(e,t){let r=N();return!!e&&(r.type===v.i.CUSTOM?0>r.variations[t].findIndex(t=>(0,a.kl)(e,t)):(0,S.wh)(e,t)===h.iiI.CUSTOM)}function M(){let e=(0,b.i0)(),t=(0,i.w1)(t=>(0,E.Q)(e,t)),r=(0,i.w1)(t=>e&&(0,y.canEditTeam)(e,t));return!!((null==t?void 0:t.org_id)&&r)}function k(){let e=(0,b.i0)(),t=(0,i.w1)(t=>(0,E.Q)(e,t)),r=(0,i.w1)(t=>e&&(0,y.canViewTeam)(e,t));return!!((null==t?void 0:t.org_id)&&r)}function D(){let e=N(),t=(0,l.i)(e.uuid),r=e.type===v.i.CUSTOM?(0,C.Wk)(e):null,i=(0,s.my)(u.gv),a=(0,s.my)(u.AD),o=(0,s.my)(u.Q7),c=(0,s.my)(u.YR);(0,n.useEffect)(()=>{e.uuid!==t&&(e.type===v.i.DEFAULT?void 0!==t&&(i({paints:T.KO}),a({paints:T.IZ}),o(T.Gu),c(function(){let e=Math.floor(Math.random()*S.Cq.length);return(0,S.yq)(S.Cq[e],"sticky")||T.AT}()),h.SSV.setSectionToolColor((0,_.M9)(function(){let e=Math.floor(Math.random()*S.qo.length);return(0,S.yq)(S.qo[e],"baseLight")||(0,S.yq)(h.iiI.BLUE_LIGHT,"baseLight")}()))):r&&(i({paints:[{type:"SOLID",color:r.pencilColor}]}),a({paints:[{type:"SOLID",color:r.highlighterColor}]}),o(r.shapeColor),c(r.stickyColor),h.SSV.setSectionToolColor((0,_.M9)(r.sectionColor))))},[e,t,r,i,a,o,c])}function F(e){let t=(0,s.my)(C._O);return{closeColorPalettePicker:(0,n.useCallback)((r=!1)=>{r?t(!0):e(!1)},[t,e]),openColorPalettePicker:(0,n.useCallback)(()=>{e(!0)},[e])}}},977408:(e,t,r)=>{"use strict";r.d(t,{CY:()=>y,Cw:()=>h,ED:()=>_,Ep:()=>I,GI:()=>w,Ub:()=>p,Wk:()=>v,_O:()=>m,gt:()=>u,iu:()=>f,kn:()=>g,qM:()=>b,uu:()=>E});var n=r(623131),i=r(372152),a=r(61836),o=r(560072),l=r(317704),s=r(762820),c=r(234980),d=r(785100);let u=(0,n.Zf)(-1),p=(0,n.Zf)([]),m=(0,n.Zf)(!1),_=(0,n.Zf)(void 0),h=(0,n.Zf)(0);function g(e,t){(0,a.w3)().optimisticallyDeleteWithUUID({ColorPalette:{[e]:null}},d.Q.deleteColorPalette(e)).then(()=>t(l.A.enqueue({message:(0,o.t)("fullscreen.color_palette.delete_success")}))).catch(()=>t(l.A.enqueue({message:(0,o.t)("fullscreen.color_palette.delete_failure")})))}function f(e,t,r){let{uuid:n}=e;(0,a.w3)().optimisticallyCreateWithUUID({ColorPalette:{[n]:e}},d.Q.createColorPalette(e)).then(()=>{t(l.A.enqueue({message:(0,o.t)("fullscreen.color_palette.saved_success")}))}).catch(()=>{t(l.A.enqueue({message:(0,o.t)("fullscreen.color_palette.saved_failure")})),r()})}function E(e,t,r){let{uuid:n}=e;(0,a.w3)().optimisticallyUpdateWithUUID({ColorPalette:{[n]:e}},d.Q.updateColorPalette(e)).then(()=>t(l.A.enqueue({message:(0,o.t)("fullscreen.color_palette.saved_success")}))).catch(()=>{t(l.A.enqueue({message:(0,o.t)("fullscreen.color_palette.saved_failure")})),r()})}function y(e,t,r){(0,a.w3)().optimisticallyUpdate({Team:{[e]:{defaultColorPaletteUuid:t}}},d.Q.setTeamDefaultPalette(e,t)).catch(()=>{r(l.A.enqueue({message:(0,o.t)("whiteboard.color_palettes.visual_bell.failed_to_set_team_default")}))})}function b(e,t){(0,a.w3)().optimisticallyUpdate({Team:{[e]:{defaultColorPaletteUuid:null}}},d.Q.clearTeamDefaultPalette(e)).catch(()=>{t(l.A.enqueue({message:(0,o.t)("whiteboard.color_palettes.visual_bell.failed_to_clear_team_default")}))})}function v(e){let{base:t,sticky:r,highlight:n}=e.variations;return 0===t.length||0===r.length||0===n.length?null:{pencilColor:t[0],highlighterColor:n[0],shapeColor:t.length>1?t[1]:t[0],stickyColor:r[Math.floor(Math.random()*r.length)],sectionColor:t[Math.floor(Math.random()*t.length)]}}function I(e){switch(e){case s.__k.STICKY:return["sticky"];case s.__k.HIGHLIGHT:return["highlight"];default:return["base","baseLight"]}}function w(){let e=i.qM.get(_);if(!e)return;let t=e.base;if(!t)return;let r=(0,c.Qx)().filter(e=>"STICKY"===e.type||"SHAPE_WITH_TEXT"===e.type||"SECTION"===e.type||"CONNECTOR"===e.type||"VECTOR"===e.type||"HIGHLIGHT"===e.type),n=new Map;r.forEach(e=>{let t=e.fills.length>0?e.fills[0].color:void 0,r=e.strokePaints.data.length>0?e.strokePaints.data[0].color:void 0,i=t||r;i&&(n.has(i)?n.set(i,n.get(i)+1):n.set(i,1))});let a=Array.from(n.entries()).sort((e,t)=>t[1]-e[1]),o=new Map,l=t.sort(()=>Math.random()-.5);a.forEach((e,t)=>{o.set(e[0],l[t%l.length])}),r.forEach(e=>{if(e.fills.length>0){let t=e.fills[0].color,r=t?o.get(t):void 0;r&&(e.fills=[{type:"SOLID",color:r}])}else if(e.strokePaints.data.length>0){let t=e.strokePaints.data[0].color,r=t?o.get(t):void 0;r&&(e.strokePaints={data:[{type:"SOLID",color:r}],blobs:[]})}})}},28804:(e,t,r)=>{"use strict";r.d(t,{a4:()=>x,G8:()=>R,KE:()=>N,W4:()=>P,uE:()=>U,m0:()=>B,SE:()=>M,CI:()=>D,MB:()=>V,So:()=>G,ec:()=>k,s3:()=>H,K8:()=>L});var n=r(307824),i=r(120304),a=r(250008),o=r(843148),l=r(570464),s=r(204792),c=r(537096),d=r(560072),u=r(585508),p=r(762820),m=r(116428),_=r(540696),h=r(312452),g=r(507076),f=r(570012),E=r(228560),y=r(925948),b=r(964900),v=r(894228),I=r(13824),w=r(806484),T=r(735396),S=r(168308),C=r(821872),A=r(936780);function O({paint:e,paintIndex:t}){return n.createElement(b.wP,{tooltip:(0,d.t)("whiteboard.inline_menu.replace_image"),svg:A.c,onClick:()=>{u.CA.updateAppModel({currentSelectedProperty:{type:p.cf6.FILL,indices:[t]}});let r=e.blendMode||"NORMAL",n=e.opacity||1;p.i46.uploadPaintImage(r,n)},recordingKey:"toolbarReplaceImage"})}function N(){let e=(0,y.g)(),t=(0,i.w1)(e=>e.mirror.appModel.activeCanvasEditModeType);if(!e)return null;let{paint:r,paintIndex:a,onChange:o}=e,l=n.createElement(F,{paint:r,onChange:o});return t!==h.a_v.RASTER&&(l=n.createElement(n.Fragment,null,n.createElement(O,{paint:r,paintIndex:a}),n.createElement(b.wP,{tooltip:(0,d.t)("whiteboard.inline_menu.crop_image"),svg:T.c,onClick:()=>{u.CA.triggerActionInUserEditScope("crop-image")},recordingKey:"toolbarCrop"}))),l}function L(){let[e,t]=(0,g.H4)("imageHasNoStroke");return()=>{t(!e),(0,a.we)("figjam_image_border_change",{border:(0,_.EH)(e)?e:"__mixed__"})}}function R(){let e=(0,g.A9)("imageHasNoStroke"),t=L();return n.createElement(b.wP,{tooltip:(0,d.t)("whiteboard.inline_menu.image_border"),svg:C.c,active:e?"NONE":"LOUD",onClick:t,recordingKey:"toolbarImageBorder"})}function P(e={}){let t=e.setIsEditorOpen,r=(0,g.A9)("accessibleLabel");return t?n.createElement(b.q,{tooltip:r?(0,d.t)("whiteboard.inline_menu.edit_image_description"):(0,d.t)("whiteboard.inline_menu.add_image_description"),onClick:()=>{t(!0)},recordingKey:"addImageDescription",buttonStyle:{width:"fit-content",borderLeft:"1px solid var(--light-bg-menu-secondary, #383838)"},buttonChildrenStyle:{width:"inherit",padding:"0 8px"},active:r?"LOUD":"NONE"},n.createElement("span",{className:"image_controls--label--VF4Hv text--fontNeg12--2PWcg text--_fontBase--QdLsd text--_negText--j9g-L"},n.createElement(d.Tx,{id:"whiteboard.inline_menu.alt_text"}))):n.createElement(n.Fragment,null)}function M(e){let t=e.transform;if(!t)return 0;let{m00:r,m01:n,m10:i,m11:a}=t,o=Math.min(Math.sqrt(r*r+n*n),Math.sqrt(i*i+a*a));return 0===o?0:1/o}function k(){let e=(0,y.g)();return e?M(e.paint):0}function D(e,t,r){if(0===r||0===t||!e.transform)return;let n=t/r,i=m.A.fromFigMatrix(e.transform);return i.translate((1-n)/2,(1-n)/2),i.scale(n,n),i.toFigMatrix()}function F({paint:e,onChange:t}){let[r,i]=(0,n.useState)(1),[a,o]=(0,n.useState)(3),l=M(e);return(0,n.useEffect)(()=>{l&&(l<r&&i(l),l>a&&o(l))},[r,a,l]),n.createElement(n.Fragment,null,n.createElement("div",{className:"image_menu--scaleSlider--W6PND"},n.createElement(E.u,{value:l,min:r,max:a,tabIndex:0,onChange:r=>{let n=D(e,l,r);n&&t({...e,transform:n},f.MO.NO)},onStopDragging:()=>t(e,f.MO.YES),showDefaultValue:!1,sliderType:E.m.LIGHT,long:!1})),n.createElement(b.wP,{svg:w.c,tooltip:(0,d.t)("whiteboard.inline_menu.rotate_image"),onClick:()=>u.CA.triggerActionInUserEditScope("rotate-image-90-clockwise"),recordingKey:"toolbarRotate"}),n.createElement(W,null),n.createElement(b.UL,null),n.createElement(b.wP,{svg:I.c,tooltip:(0,d.t)("whiteboard.inline_menu.finish_image_editing"),recordingKey:"toolbarStopCropping",onClick:()=>{u.CA.triggerActionInUserEditScope("leave-edit-mode")}}))}let x=new Map([["Original",void 0],["Custom",void 0],["Square",1],["Circle",1],["Landscape",4/3],["Portrait",3/4],["Wide",16/9]]);function U(e){switch(e){case"Square":case"Circle":return"1:1";case"Landscape":return"4:3";case"Portrait":return"3:4";case"Wide":return"16:9"}return""}function B(e){switch(e){case"Original":return(0,d.t)("whiteboard.crop_presets.original");case"Custom":return(0,d.t)("whiteboard.crop_presets.custom");case"Square":return(0,d.t)("whiteboard.crop_presets.square");case"Circle":return(0,d.t)("whiteboard.crop_presets.circle");case"Landscape":return(0,d.t)("whiteboard.crop_presets.landscape");case"Portrait":return(0,d.t)("whiteboard.crop_presets.portrait");case"Wide":return(0,d.t)("whiteboard.crop_presets.wide")}}function G(){let e=(0,g.A9)("imageOriginalAspectRatio"),t=(0,g.A9)("imageAspectRatio"),r=(0,g.A9)("cornerRadius"),n=(0,g.A9)("width"),i=(0,g.A9)("height");if(!(!n||!i||(0,_.Er)(e)||(0,_.Er)(t)||(0,_.Er)(n)||(0,_.Er)(i)))return function(e,t,r){if(t){if(t===r)return"Original";for(let[r,n]of x)if(n&&.001>Math.abs(t-n)){if(e&&"Square"===r)return"Circle";return r}return"Custom"}}(!!r&&!(0,_.Er)(r)&&n===i&&r>=n/2,t,e)}function V(){let e=(0,i.w1)(e=>e.mirror.selectionProperties.whiteboardNumSelectedByType);return!!(1===(0,i.w1)(e=>e.mirror.selectionProperties.whiteboardNumSelected)&&e&&(1===e.FRAME||1===e.RECTANGLE||1===e.ROUNDED_RECTANGLE))}function H(){let e=G(),t=(0,g.A9)("imageOriginalAspectRatio");return(0,_.Er)(t)?null:r=>{if(r!==e){let e=function(e,t){switch(e){case"Original":return t;case"Custom":return;default:return x.get(e)}}(r,t);e&&u.CA.updateSelectionProperties({imageAspectRatio:e,cornerRadius:"Circle"===r?65536:0},{shouldCommit:f.MO.YES})}}}function W(){let e=G(),t=V(),r=H();return e&&r?n.createElement(v._s,{value:e,onChange:r,renderButton:({onClick:e,ref:t,active:r})=>n.createElement(b.wP,{tooltip:(0,d.t)("whiteboard.inline_menu.aspect_ratio"),active:r?"NORMAL":"NONE",svg:S.c,onClick:(0,o.Ub)().figjam_inline_menu_on_pointer?void 0:e,onPointerDown:(0,o.Ub)().figjam_inline_menu_on_pointer?e:void 0,ref:t,recordingKey:"cropPresetsControl",caret:"down"}),options:Array.from(x.keys()),renderOption:({value:e,onClick:r,isSelected:i})=>n.createElement("div",{key:e},e&&n.createElement(K,{cropName:B(e),aspectRatio:U(e),recordingKey:(0,l.Mx)("cropPresetDropdown",e),disabled:"Circle"===e&&!t,selected:i,onClick:(0,o.Ub)().figjam_inline_menu_on_pointer?void 0:r,onPointerUp:(0,o.Ub)().figjam_inline_menu_on_pointer?r:void 0}),"Custom"===e&&n.createElement(s.g.Separator,null)),OptionWrapper:v.E3,PopoverWrapper:Y}):null}function K(e){return n.createElement(s.g.Option,{recordingKey:e.recordingKey,onClick:e.onClick,onPointerUp:e.onPointerUp,className:"image_controls--overflowItem--N9HXJ",disabled:e.disabled},n.createElement("div",{className:"image_controls--overflowInner--7-ktg"},n.createElement("div",{className:"image_controls--iconContainer--1VyEZ"},e.selected&&n.createElement(c.A,{svg:I.c})),e.cropName),n.createElement("div",{className:"image_controls--secondaryText--Lar5b"},e.aspectRatio))}function Y({children:e}){return n.createElement(b.iS,null,n.createElement("div",{className:"image_controls--popoverWrapper--cabPu"},e))}},779604:(e,t,r)=>{"use strict";r.d(t,{C:()=>i,w:()=>n});class n{constructor(){this.lastCursorLocations={},this.CANVAS_SPACE_SPEED_THRESHOLD=2,this.cursorHandsOnRight=new Set}getHandsOnRight(){return this.cursorHandsOnRight}updateSingleCursor(e,t,r){let n=this.lastCursorLocations[r];n&&(t.x>n.x+this.CANVAS_SPACE_SPEED_THRESHOLD&&this.cursorHandsOnRight.add(r),t.x<n.x-this.CANVAS_SPACE_SPEED_THRESHOLD&&this.cursorHandsOnRight.delete(r)),e[r]=t}updateCursors(e,t,r,n){let i={};for(let r of e)t.toString()!==r.sessionId&&this.updateSingleCursor(i,r.mouse.canvasSpacePosition,r.sessionId);for(let e of(r&&this.updateSingleCursor(i,{x:n.x,y:n.y},t.toString()),this.lastCursorLocations=i,this.cursorHandsOnRight.keys()))i[e]||this.cursorHandsOnRight.delete(e)}}function i(e,t){return e.has(t)}},629688:(e,t,r)=>{"use strict";let n;r.d(t,{A3:()=>A,A7:()=>q,A9:()=>g,C:()=>w,CU:()=>ef,Cx:()=>ed,EF:()=>ee,EN:()=>ea,EP:()=>eg,Ew:()=>R,G:()=>es,G8:()=>Z,GR:()=>ei,Gc:()=>et,Gi:()=>L,Gq:()=>p,I1:()=>C,IT:()=>j,KA:()=>u,Ks:()=>d,Ky:()=>eh,MX:()=>J,Md:()=>eo,P3:()=>en,Qh:()=>ep,W1:()=>F,WM:()=>er,WU:()=>T,Wg:()=>X,Ws:()=>eb,Wx:()=>Y,Y5:()=>Q,YS:()=>eE,YX:()=>e_,Yj:()=>S,_g:()=>U,_s:()=>K,aO:()=>M,aQ:()=>D,a_:()=>y,c$:()=>$,c1:()=>W,c5:()=>H,cl:()=>z,eY:()=>m,ek:()=>f,i:()=>ec,iM:()=>el,iW:()=>eu,k9:()=>G,kD:()=>B,kv:()=>P,mg:()=>V,mx:()=>x,qG:()=>v,qW:()=>_,qs:()=>N,sD:()=>em,sX:()=>h,sf:()=>I,sl:()=>E,wC:()=>k,wD:()=>ev,wF:()=>O,wp:()=>ey});var i=r(307824),a=r(125504),o=r.n(a),l=r(888932),s=r(698240),c=r(674976);function d(){return i.createElement("svg",{width:"44",height:"40",viewBox:"0 0 44 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16.2793 13.98L29.4852 21.9631L23.1384 23.6856L19.4364 29.2787L16.2793 13.98ZM17.7214 16.0203L19.9298 26.7215L22.5126 22.8193L26.9682 21.6101L17.7214 16.0203Z",fill:"rgba(0,0,0,0.8)"}))}function u(){return i.createElement("svg",{width:"44",height:"40",viewBox:"0 0 44 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20.3953 11C20.3953 9.89543 21.2907 9 22.3953 9C23.2677 9 24.0096 9.55857 24.283 10.3376C24.601 10.1244 24.9836 10 25.3953 10C26.4998 10 27.3953 10.8954 27.3953 12V13.2676C27.6894 13.0974 28.031 13 28.3953 13C29.4998 13 30.3953 13.8954 30.3953 15L30.3953 23C30.3953 26.3137 27.709 29 24.3953 29H23.3953C21.5653 29 19.9262 28.1797 18.8271 26.8902C18.7996 26.8662 18.7724 26.8416 18.7455 26.8164L13.7406 22.1104C12.839 21.2628 12.7481 19.8444 13.5367 18.8895C14.309 17.9542 15.6644 17.7838 16.6422 18.5062L17.3953 19.0626V13C17.3953 11.8954 18.2907 11 19.3953 11C19.7596 11 20.1011 11.0974 20.3953 11.2676V11ZM21.3953 11C21.3953 10.4477 21.843 10 22.3953 10C22.9476 10 23.3953 10.4477 23.3953 11V18H24.3953V12C24.3953 11.9993 24.3953 11.9987 24.3953 11.998C24.3963 11.4466 24.8436 11 25.3953 11C25.9475 11 26.3953 11.4477 26.3953 12V18H27.3953V15C27.3953 14.4477 27.843 14 28.3953 14C28.9475 14 29.3953 14.4477 29.3953 15L29.3953 23C29.3953 25.7614 27.1567 28 24.3953 28H23.3953C21.842 28 20.4541 27.2917 19.5371 26.1805C19.5009 26.1514 19.4653 26.1205 19.4305 26.0878L14.4256 21.3819C13.9076 20.8949 13.8555 20.0739 14.3077 19.5262C14.7432 18.9989 15.4993 18.9052 16.0479 19.3105L18.3953 21.0448V13C18.3953 12.4477 18.843 12 19.3953 12C19.9475 12 20.3953 12.4477 20.3953 13V18H21.3953V11Z",fill:"rgba(0,0,0,0.8)"}))}function p(){return i.createElement("svg",{width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.4464 18.1536C12.3526 18.0598 12.3 17.9326 12.3 17.8C12.3 17.6674 12.3526 17.5402 12.4464 17.4465L18.0464 11.8465L18.4 11.4929L19.1071 12.2L18.7535 12.5536L14.0071 17.3H21.2C24.7898 17.3 27.7 20.2102 27.7 23.8V27.4H26.7V23.8C26.7 20.7625 24.2375 18.3 21.2 18.3H14.0071L18.7535 23.0465L19.1071 23.4L18.4 24.1071L18.0464 23.7536L12.4464 18.1536ZM13.6 17.7071V17.8929L13.5071 17.8L13.6 17.7071Z",fill:"rgba(0,0,0,0.8)"}))}function m(){return i.createElement("svg",{width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M27.5536 18.085C27.6474 17.9912 27.7001 17.864 27.7001 17.7314C27.7001 17.5988 27.6474 17.4716 27.5536 17.3779L21.9536 11.7779L21.6001 11.4243L20.8929 12.1314L21.2465 12.485L25.9929 17.2314H18.8C15.2102 17.2314 12.3 20.1415 12.3 23.7314V27.3314H13.3V23.7314C13.3 20.6938 15.7625 18.2314 18.8 18.2314H25.993L21.2465 22.9779L20.8929 23.3314L21.6001 24.0385L21.9536 23.685L27.5536 18.085ZM26.4 17.6385V17.8243L26.4929 17.7314L26.4 17.6385Z",fill:"rgba(0,0,0,0.8)"}))}function _(){return i.createElement("svg",{width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M25.117 8.1464C25.3123 7.9512 25.6289 7.9512 25.8242 8.1464L31.481 13.8033C31.6763 13.9986 31.6763 14.3151 31.481 14.5104L14.5104 31.481C14.3152 31.6762 13.9986 31.6762 13.8033 31.481L8.14645 25.8241C7.95119 25.6289 7.95119 25.3123 8.14645 25.117L25.117 8.1464ZM25.4706 9.2071L9.2071 25.4706L14.1569 30.4203L30.4203 14.1569L25.4706 9.2071Z",fill:"rgba(0,0,0,0.8)"}),i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M25.1171 14.5103L27.9455 17.3387L27.2384 18.0459L24.41 15.2174L25.1171 14.5103Z",fill:"rgba(0,0,0,0.8)"}),i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18.7532 20.8743L21.5816 23.7027L20.8745 24.4098L18.0461 21.5814L18.7532 20.8743Z",fill:"rgba(0,0,0,0.8)"}),i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M22.9954 18.7529L25.1167 20.8743L24.4096 21.5814L22.2883 19.46L22.9954 18.7529Z",fill:"rgba(0,0,0,0.8)"}),i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16.6317 25.1169L18.7531 27.2382L18.0459 27.9453L15.9246 25.824L16.6317 25.1169Z",fill:"rgba(0,0,0,0.8)"}))}let h=i.forwardRef(({color:e,toolOrder:t=1,shouldAnimate:r=!0},n)=>i.createElement("div",{className:o()(c.Ku,{[c.SE]:2===t,[c.MR]:3===t})},i.createElement("div",{className:o()(c.pD,c.KA,{[c.Uh]:1===t,[c.ot]:2===t,[c.kJ]:3===t,[c.Cs]:r&&!l.cp.safari}),style:{backgroundColor:e},ref:n},i.createElement("svg",{width:"48",height:"41",viewBox:"0 0 48 41",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:c.Sw},i.createElement("path",{d:"M48 0C48 14.0001 9.5 8.00008 9.5 8.00008C9.5 8.00008 14 41.0001 0.000976562 41.0001H48V0Z",fill:"black",fillOpacity:"0.16"}))))),g=i.forwardRef(({color:e,toolbarIconScale:t=1,toolOrder:r=1,shouldAnimate:n=!0,isReversing:a=!1},s)=>{let d=1===r||2===r&&n&&!a;return i.createElement("div",{className:o()({[c.IX]:!0,[c.cP]:2===r,[c.CD]:3===r,[c.uk]:4===r}),style:{width:152*t,height:152*t}},i.createElement("div",{className:o()({[c.KA]:!0,[c.EX]:!0,[c.KC]:d,[c.AD]:1===r,[c._g]:2===r,[c.Ed]:3===r,[c.Ww]:4===r,[c.Cs]:n&&!l.cp.safari,[c.yy]:l.cp.safari,[c.uG]:a&&!l.cp.safari,[c.gH]:!a}),style:{backgroundColor:e,top:16*t,left:39*t,width:104*t,height:104*t},ref:s},d?i.createElement("div",{className:c.iG},i.createElement("svg",{width:"104",height:"104",viewBox:"0 0 104 104",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{position:"absolute"}},i.createElement("g",{filter:"url(#filter0_f_2512_16752)"},i.createElement("path",{d:"M40.5001 48.5C7.70012 42.1 4.83347 56.8333 7.50014 65L104 65L104 1L55.5 1C33.5 1.4 36.3334 32.8334 40.5001 48.5Z",fill:e,className:c.cj})),i.createElement("defs",null,i.createElement("filter",{id:"filter0_f_2512_16752",x:"-6.26074",y:"-12",width:"123.261",height:"90",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},i.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),i.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),i.createElement("feGaussianBlur",{stdDeviation:"6.5",result:"effect1_foregroundBlur_2512_16752"})))),i.createElement("svg",{width:"104",height:"104",viewBox:"0 0 104 104",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i.createElement("path",{d:"M104 104L104 0.000486374C104 0.000486374 75.9586 0.000485148 41.0006 0.00048362C27.0005 0.000483008 33.0005 38.5005 33.0005 38.5005C33.0005 38.5005 0.000489434 34.0005 0.000488822 47.9995C0.000487681 74.1074 0.000486374 104 0.000486374 104C0.000486374 104 22.0677 104 44.1349 104C66.2022 104 104 104 104 104Z",fill:e,className:c.cj}),i.createElement("path",{d:"M104 104L104 0.000486374C104 0.000486374 75.9586 0.000485148 41.0006 0.00048362C27.0005 0.000483008 33.0005 38.5005 33.0005 38.5005C33.0005 38.5005 0.000489434 34.0005 0.000488822 47.9995C0.000487681 74.1074 0.000486374 104 0.000486374 104C0.000486374 104 22.0677 104 44.1349 104C66.2022 104 104 104 104 104Z",fill:"url(#paint0_linear_2512_16751)"}),i.createElement("path",{d:"M104 104L104 0.000486374C104 0.000486374 75.9586 0.000485148 41.0006 0.00048362C27.0005 0.000483008 33.0005 38.5005 33.0005 38.5005C33.0005 38.5005 0.000489434 34.0005 0.000488822 47.9995C0.000487681 74.1074 0.000486374 104 0.000486374 104C0.000486374 104 22.0677 104 44.1349 104C66.2022 104 104 104 104 104Z",fill:"url(#paint1_linear_2512_16751)",fillOpacity:"0.16"}),i.createElement("defs",null,i.createElement("linearGradient",{id:"paint0_linear_2512_16751",x1:"0.000488251",y1:"52.0005",x2:"88.6172",y2:"52.0005",gradientUnits:"userSpaceOnUse"},i.createElement("stop",{stopColor:"white",stopOpacity:"0"}),i.createElement("stop",{offset:"1",stopColor:"white",stopOpacity:"0.18"})),i.createElement("linearGradient",{id:"paint1_linear_2512_16751",x1:"260",y1:"234.5",x2:"6",y2:"18.5",gradientUnits:"userSpaceOnUse"},i.createElement("stop",{offset:"0.718538",stopOpacity:"0"}),i.createElement("stop",{offset:"1"}))))):null))});var f=((n=f||{})[n.DEFAULT=1]="DEFAULT",n[n.INITIAL_DRAG_ON_DLT=2]="INITIAL_DRAG_ON_DLT",n[n.DRAG_ON_CANVAS=3]="DRAG_ON_CANVAS",n[n.DRAG_RETURN_TO_DLT=4]="DRAG_RETURN_TO_DLT",n);let E=84,y=i.forwardRef(({color:e,toolbarIconScale:t=1,toolOrder:r=1,shouldAnimate:n=!0,stickyAnimationState:a=1},l)=>{let s=4===r,d=4===a,u=16,p=25;t<1&&(s?(u=24,p=32):u=19);let m={[c.aE]:1===r,[c.WK]:2===r,[c.OC]:3===r,[c.Ck]:s};return i.createElement("div",{className:o()({[c.cP]:2===r,[c.CD]:3===r,[c.uk]:s}),style:{width:116*t,height:116*t}},i.createElement("div",{className:o()({...m,[c.Q1]:!0,[c.y4]:(!n||4===a)&&1===r||3===a&&2===r,[c.Ww]:s,[c.Cs]:3===a,[c.uG]:d,[c.oR]:!d&&!n&&2===r}),style:{top:u*t,left:p*t,width:104*t,height:104*t},ref:l},i.createElement("div",{className:o()({[c._O]:!0,[c.aS]:!0})},i.createElement("svg",{className:c.UL,width:104*t,height:104*t,viewBox:"-20 -20 104 104",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i.createElement("g",null,i.createElement("path",{className:o()(c.Ix,{[c.cj]:!0}),style:{clipPath:`url(#stickyMaskV3-${r})`},d:"M0.459717 0.680176L104.46 0.680243V104.68H0.459717V2.09514V0.680176Z",fill:e}),i.createElement("g",{className:c.OS},i.createElement("mask",{id:`stickyCurlMaskV3-${r}`,style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:"0",y:"0",width:E,height:E},i.createElement("path",{d:"M31.9819 3.8766C34.7398 1.38156 38.3262 7.51147e-07 42.0452 2.10768e-06L104 2.47061e-05V104H3.61353e-05L3.37915e-06 39.4677C1.22757e-06 35.2289 1.7934 31.188 4.9367 28.3443L31.9819 3.8766Z",fill:"white"})),i.createElement("g",{mask:`url(#stickyCurlMaskV3-${r})`},i.createElement("path",{d:"M104 6.74129e-05L54.8928 48.5492L0 104V0L104 6.74129e-05Z",fill:e,className:c.cj}),i.createElement("g",{filter:"url(#stickyCurlBlurFilter)"},i.createElement("rect",{x:"-26",y:"50.6831",width:"96.831",height:"16.7797",transform:"rotate(-41.9127 -26 50.6831)",fill:"black",fillOpacity:"0.3"})),i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M31.526 4.26953L3.2583 29.8513C10.3683 23.4168 26.3782 24.6229 26.3782 24.6229C26.3782 24.6229 25.0586 10.1224 31.526 4.26953Z",fill:e,className:c.cj}),i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M31.5262 4.26953L3.25854 29.8513C10.3686 23.4168 26.3784 24.6229 26.3784 24.6229C26.3784 24.6229 25.0588 10.1224 31.5262 4.26953Z",fill:"url(#paint0_linear_221_5067)"})))),i.createElement("defs",null,i.createElement("clipPath",{id:`stickyMaskV3-${r}`},i.createElement("path",{className:c.I7,d:"M50.9701 6.74129e-05L104.97 0V104H0.970459V46.9909L50.9701 6.74129e-05Z",fill:"#C20000"}),i.createElement("path",{className:c.ei,d:"M32.2236 3.8766C34.9815 1.38156 38.5679 7.51147e-07 42.2869 2.10768e-06L104.242 2.47061e-05V104H0.241735L0.241703 39.4677C0.2417 35.2289 2.0351 31.188 5.1784 28.3443L32.2236 3.8766Z",fill:"#2400FF"}),i.createElement("rect",{x:"250",y:"520",width:"1",height:"1"})),i.createElement("filter",{xmlns:"http://www.w3.org/2000/svg",id:`sticky_shadow-${r}`,x:"0",y:"0",width:"200%",height:"200%",colorInterpolationFilters:"sRGB"},i.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),i.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),i.createElement("feOffset",null),i.createElement("feGaussianBlur",{stdDeviation:"1.5"}),i.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.1 0"}),i.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_276_2240"}),i.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),i.createElement("feOffset",null),i.createElement("feGaussianBlur",{stdDeviation:"4"}),i.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.17 0"}),i.createElement("feBlend",{mode:"normal",in2:"effect1_dropShadow_276_2240",result:"effect2_dropShadow_276_2240"}),i.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect2_dropShadow_276_2240",result:"shape"})),i.createElement("filter",{id:"stickyCurlBlurFilter",x:"-58",y:"-45.9995",width:"147.267",height:"141.169",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},i.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),i.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),i.createElement("feGaussianBlur",{stdDeviation:"16",result:"effect1_foregroundBlur_221_5067"})),i.createElement("linearGradient",{id:"paint0_linear_221_5067",x1:"18.1477",y1:"15.5989",x2:"25.7005",y2:"25.3824",gradientUnits:"userSpaceOnUse"},i.createElement("stop",{stopColor:"white",stopOpacity:"0.5"}),i.createElement("stop",{offset:"0.319642",stopColor:"white",stopOpacity:"0.2"}),i.createElement("stop",{offset:"1",stopColor:"white",stopOpacity:"0.2"})))))))});function b({toolbarIconScale:e,children:t}){return i.createElement("svg",{fill:"none",height:144*e,width:144*e,viewBox:"0 0 144 144",xmlns:"http://www.w3.org/2000/svg",className:o()(c.aS,{[c.UR]:!0})},t)}let v=i.forwardRef(({color:e="#699BF7",toolbarIconScale:t=1},r)=>i.createElement(b,{toolbarIconScale:t},i.createElement("path",{ref:r,fill:e,className:c.cj,d:"M109.821 18.253A3 3 0 00106.916 16H11.87a3 3 0 00-2.906 3.747l25.215 98.001A3 3 0 0037.084 120h95.046a3 3 0 002.906-3.748l-25.215-98z"}))),I=i.forwardRef(({color:e="#699BF7",toolbarIconScale:t=1},r)=>i.createElement(b,{toolbarIconScale:t},i.createElement("path",{ref:r,fill:e,className:c.cj,d:"M34.179 18.253A3 3 0 0137.084 16h95.046a3 3 0 012.906 3.747l-25.215 98.001a3 3 0 01-2.905 2.252H11.87a3 3 0 01-2.906-3.748l25.215-98z"}))),w=i.forwardRef(({color:e="#699BF7",toolbarIconScale:t=1},r)=>i.createElement(b,{toolbarIconScale:t},i.createElement("path",{ref:r,fill:e,className:c.cj,d:"M68.787 118.279c1.324 2.295 5.102 2.295 6.426 0l56.403-97.77c1.195-2.072-.542-4.509-3.213-4.509H15.597c-2.67 0-4.408 2.437-3.213 4.508l56.403 97.771z"}))),T=i.forwardRef(({color:e="#699BF7",toolbarIconScale:t=1,shouldDrawStroke:r},n)=>i.createElement(b,{toolbarIconScale:t},i.createElement("path",{ref:n,fill:e,className:c.cj,d:"M68.787 17.721c1.324-2.295 5.102-2.295 6.426 0l56.403 97.771c1.195 2.071-.542 4.508-3.213 4.508H15.597c-2.67 0-4.408-2.437-3.213-4.508l56.403-97.77z"}),i.createElement("path",{d:"M130.75 115.992L130.75 115.992C131.134 116.658 131.057 117.364 130.645 117.942C130.223 118.534 129.432 119 128.403 119H15.5971C14.5693 119 13.7776 118.534 13.3555 117.942C12.9431 117.364 12.8659 116.658 13.2503 115.992L13.2503 115.992L69.6533 18.221C70.0992 17.4482 70.9999 17 72.0001 17C73.0004 17 73.9011 17.4482 74.347 18.221L130.75 115.992Z",stroke:"black",strokeOpacity:"0.13",strokeWidth:"2",className:s.cx.if(!r,s.cx.hidden).$}))),S=i.forwardRef(({color:e="#699BF7",toolbarIconScale:t=1,shouldDrawStroke:r},n)=>i.createElement(b,{toolbarIconScale:t},i.createElement("circle",{cx:"72",cy:"72",r:"64",fill:e,className:c.cj,ref:n}),i.createElement("circle",{cx:"72",cy:"72",r:"62",fill:"none",stroke:"#000000",strokeOpacity:"0.13",strokeWidth:"2",className:s.cx.if(!r,s.cx.hidden).$}))),C=i.forwardRef(({color:e="#699BF7",toolbarIconScale:t=1},r)=>i.createElement(b,{toolbarIconScale:t},i.createElement("rect",{x:"8",y:"20",width:"128",height:"104",rx:"40",fill:e,className:c.cj,ref:r}))),A=i.forwardRef(({color:e="#699BF7",toolbarIconScale:t=1},r)=>i.createElement(b,{toolbarIconScale:t},i.createElement("g",{clipPath:"url(#clip0)"},i.createElement("rect",{width:"79.374",height:"79.374",x:"15.874",y:"71.874",fill:e,className:c.cj,ref:r,rx:"3.175",transform:"rotate(-45 15.874 71.874)"})),i.createElement("defs",null,i.createElement("clipPath",{id:"clip0"},i.createElement("path",{fill:"#fff",d:"M0 0H112V112H0z",transform:"translate(16 16)"}))))),O=i.forwardRef(({color:e="#699BF7",toolbarIconScale:t=1,shouldDrawStroke:r},n)=>i.createElement(b,{toolbarIconScale:t},i.createElement("rect",{x:"16",y:"16",width:"112",height:"112",fill:e,className:c.cj,ref:n,rx:"3.23077"}),i.createElement("rect",{x:"16",y:"16",width:"110",height:"110",fill:"none",stroke:"#000000",strokeOpacity:"0.13",strokeWidth:"2",rx:"3.23077",className:s.cx.if(!r,s.cx.hidden).$}))),N=i.forwardRef(({color:e="#699BF7",toolbarIconScale:t=1},r)=>i.createElement(b,{toolbarIconScale:t},i.createElement("rect",{x:"16",y:"28",width:"112",height:"24",fill:"white",fillOpacity:"0.8"}),i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16 28.923V28.9231V30.1138C16.0601 30.1856 16.1242 30.2584 16.1926 30.3322C16.8824 31.076 17.9455 31.8465 19.3911 32.6163C22.2796 34.1545 26.5043 35.5903 31.753 36.8181C42.2352 39.2703 56.595 40.8462 72.0002 40.8462C87.4054 40.8462 101.765 39.2703 112.247 36.8181C117.496 35.5903 121.721 34.1545 124.609 32.6163C126.055 31.8465 127.118 31.076 127.808 30.3322C127.876 30.2586 127.94 30.1859 128 30.1141V28.9231C128 21.7859 102.928 16 72 16C41.0721 16 16.0001 21.7858 16 28.923ZM128 32.8361C127.295 33.376 126.471 33.8907 125.549 34.3816C122.441 36.0366 118.027 37.5202 112.703 38.7656C102.04 41.2599 87.523 42.8462 72.0002 42.8462C56.4774 42.8462 41.9602 41.2599 31.2975 38.7656C25.9738 37.5202 21.559 36.0366 18.4511 34.3816C17.5291 33.8907 16.7052 33.3758 16 32.8358V115.077C16 122.214 41.0721 128 72 128C102.928 128 128 122.214 128 115.077V32.8361Z",fill:e,className:c.cj,ref:r}))),L=i.forwardRef(({color:e="#699BF7",toolbarIconScale:t=1},r)=>i.createElement(b,{toolbarIconScale:t},i.createElement("rect",{x:"92",y:"16",width:"30",height:"98",fill:"white",fillOpacity:"0.8"}),i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M110.734 64.6922C110.734 78.1641 112.117 90.7123 114.261 99.8663C115.334 104.451 116.587 108.133 117.923 110.644C118.592 111.901 119.257 112.817 119.891 113.407C120.188 113.683 120.463 113.874 120.717 114H120.75H120.75C126.963 114 132 92.062 132 65C132 37.938 126.963 16 120.75 16H120.75H119.867C119.24 16.5906 118.584 17.4993 117.923 18.7405C116.587 21.252 115.334 24.9336 114.261 29.5182C112.117 38.6721 110.734 51.2203 110.734 64.6922ZM117.254 16C116.874 16.5381 116.508 17.142 116.158 17.8012C114.705 20.5314 113.405 24.4026 112.314 29.0621C110.128 38.3965 108.734 51.1021 108.734 64.6922C108.734 78.2822 110.128 90.9879 112.314 100.322C113.405 104.982 114.705 108.853 116.158 111.583C116.649 112.507 117.169 113.322 117.72 114H23.25H22.7811V113.958C16.7854 112.888 12 91.3779 12 65C12 38.6221 16.7854 17.1124 22.7811 16.0418V16H23.25H117.254Z",fill:e,className:c.cj,ref:r}))),R=i.forwardRef(({color:e="#699BF7",toolbarIconScale:t=1},r)=>i.createElement(b,{toolbarIconScale:t},i.createElement("path",{d:"M108 16H102V40V44H119.5H132V40H117.857L108 16Z",fill:"white",fillOpacity:"0.8"}),i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M106 16V37.5C106 39.9853 108.015 42 110.5 42L132 42V40H132V117C132 118.657 130.657 120 129 120H15C13.3432 120 12 118.657 12 117V40H12V19C12 17.3432 13.3431 16 15 16L106 16Z M132 40H111C109.343 40 108 38.6569 108 37V16L132 40Z",fill:e,className:c.cj,ref:r}))),P=i.forwardRef(({color:e="#699BF7",toolbarIconScale:t=1},r)=>i.createElement(b,{toolbarIconScale:t},i.createElement("path",{d:"M12.1764 37H78V39H12L12.1764 37Z",fill:"white",fillOpacity:"0.8"}),i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M19.2735 17.9549C19.7103 16.7797 20.8319 16 22.0856 16H67.9146C69.1683 16 70.2898 16.7797 70.7266 17.9549L77.805 37H78.0001H12.1953L19.2735 17.9549Z M12 39H129C130.657 39 132 40.3431 132 42V117C132 118.657 130.657 120 129 120H15C13.3431 120 12 118.657 12 117V39Z",fill:e,className:c.cj,ref:r}))),M=i.forwardRef(({color:e="#699BF7",toolbarIconScale:t=1},r)=>i.createElement(b,{toolbarIconScale:t},i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M132.825 31H11.1751C9.11354 31 7.59918 32.9715 8.0945 35.0106L27.3025 110.463C27.653 111.906 28.924 112.92 30.3831 112.92H113.617C115.076 112.92 116.347 111.906 116.698 110.463L135.906 35.0106C136.401 32.9715 134.886 31 132.825 31Z",fill:e,className:c.cj,ref:r}))),k=i.forwardRef(({color:e="#699BF7",toolbarIconScale:t=1},r)=>i.createElement(b,{toolbarIconScale:t},i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M93.2603 48.8289L74.8382 18.1385C73.7284 16.4493 71.2511 16.4493 70.1413 18.1385L51.7195 48.8289C51.3354 49.4134 50.7472 49.8337 50.0698 50.0076L14.5248 57.5829C12.5231 58.0968 11.7423 60.523 13.0688 62.1078L37.2107 88.5999C37.6704 89.1492 37.903 89.8531 37.8609 90.5682L34.3002 125.894C34.1806 127.929 36.2 129.41 38.1052 128.685L71.4895 114.399C72.1339 114.154 72.8457 114.154 73.49 114.399L106.874 128.685C108.779 129.41 110.799 127.929 110.679 125.894L107.118 90.5682C107.077 89.8531 107.309 89.1492 107.769 88.5999L131.911 62.1078C133.237 60.523 132.457 58.0968 130.455 57.5829L94.9096 50.0076C94.2325 49.8337 93.6443 49.4134 93.2603 48.8289Z",fill:e,className:c.cj,ref:r}))),D=i.forwardRef(({color:e="#699BF7",toolbarIconScale:t=1},r)=>i.createElement(b,{toolbarIconScale:t},i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M120.45 27H23.55C22.1417 27 21 28.1454 21 29.5583V86.4924C21 87.408 21.4877 88.2538 22.2789 88.7102L70.7289 116.66C71.5159 117.113 72.4841 117.114 73.2711 116.66L121.721 88.7102C122.512 88.2538 123 87.408 123 86.4924V29.5583C123 28.1454 121.858 27 120.45 27Z",fill:e,className:c.cj,ref:r}))),F=i.forwardRef(({color:e="#699BF7",toolbarIconScale:t=1},r)=>i.createElement(b,{toolbarIconScale:t},i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M122.802 26H21.1977C19.7551 26 18.4531 26.8662 17.8933 28.1982L0.280966 70.1061C-0.0936546 70.9975 -0.0936559 72.0025 0.280965 72.8939L17.8933 114.802C18.4531 116.134 19.7551 117 21.1977 117H122.802C124.245 117 125.547 116.134 126.107 114.802L143.719 72.8939C144.094 72.0025 144.094 70.9975 143.719 70.1061L126.107 28.1982C125.547 26.8662 124.245 26 122.802 26Z",fill:e,className:c.cj,ref:r}))),x=i.forwardRef(({color:e="#699BF7",toolbarIconScale:t=1},r)=>i.createElement(b,{toolbarIconScale:t},i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M129.24 59.4647L74.475 16.7477C73.1969 15.7508 71.4046 15.7508 70.1265 16.7477L15.3612 59.4647C14.1752 60.3897 13.7044 61.9638 14.1876 63.388L34.9562 124.601C35.4429 126.035 36.7893 127 38.304 127H106.298C107.812 127 109.159 126.035 109.645 124.601L130.414 63.388C130.897 61.9638 130.426 60.3897 129.24 59.4647Z",fill:e,className:c.cj,ref:r}))),U=i.forwardRef(({color:e="#699BF7",toolbarIconScale:t=1},r)=>i.createElement(b,{toolbarIconScale:t},i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M94.8699 16H49.1301C48.3125 16 47.5284 16.3248 46.9503 16.9029L16.9029 46.9503C16.3248 47.5284 16 48.3125 16 49.1301V94.8699C16 95.6875 16.3248 96.4716 16.9029 97.0497L46.9503 127.097C47.5284 127.675 48.3125 128 49.1301 128H94.8699C95.6875 128 96.4716 127.675 97.0497 127.097L127.097 97.0497C127.675 96.4716 128 95.6875 128 94.8699V49.1301C128 48.3125 127.675 47.5284 127.097 46.9503L97.0497 16.9029C96.4716 16.3248 95.6875 16 94.8699 16Z",fill:e,className:c.cj,ref:r}))),B=i.forwardRef(({color:e="#699BF7",toolbarIconScale:t=1},r)=>i.createElement(b,{toolbarIconScale:t},i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M47.1111 47.1099V18.8718C47.1111 17.2857 48.3969 16 49.9829 16H94.0171C95.6031 16 96.8889 17.2857 96.8889 18.8718V46.632C96.8889 46.6325 96.8896 46.6325 96.8901 46.6325H125.128C126.714 46.6325 128 47.9182 128 49.5043V94.0171C128 95.6031 126.714 96.8889 125.128 96.8889H96.8894C96.8889 96.8889 96.8889 96.8896 96.8889 96.8901V125.128C96.8889 126.714 95.6031 128 94.0171 128H49.9829C48.3969 128 47.1111 126.714 47.1111 125.128V96.8894C47.1111 96.8889 47.1104 96.8889 47.1099 96.8889H18.8718C17.2857 96.8889 16 95.6031 16 94.0171V49.9829C16 48.3969 17.2857 47.1111 18.8718 47.1111H47.1106C47.1111 47.1111 47.1111 47.1104 47.1111 47.1099Z",fill:e,className:c.cj,ref:r}))),G=i.forwardRef(({color:e="#699BF7",toolbarIconScale:t=1},r)=>i.createElement(b,{toolbarIconScale:t},i.createElement("rect",{x:"15.3628",y:"29.8053",width:"113.274",height:"84.3894",fill:"white",fillOpacity:"0.8"}),i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.84961 32.354C8.84961 30.9462 9.99052 29.8053 11.3983 29.8053H17.062V114.195H11.3983C9.99052 114.195 8.84961 113.054 8.84961 111.646V32.354Z M18.7611 114.195V29.8053H125.239V114.195H18.7611Z M126.938 114.195V29.8053H132.602C134.01 29.8053 135.15 30.9462 135.15 32.354V111.646C135.15 113.054 134.01 114.195 132.602 114.195H126.938Z",fill:e,className:c.cj,ref:r}))),V=i.forwardRef(({color:e="#699BF7",toolbarIconScale:t=1},r)=>i.createElement(b,{toolbarIconScale:t},i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3 31.9044C3 28.2578 6.22596 25.4544 9.83687 25.963L136.837 43.8517C139.798 44.2688 142 46.8027 142 49.793V112C142 115.314 139.314 118 136 118H9C5.68629 118 3 115.314 3 112V31.9044Z",fill:e,className:c.cj,ref:r}))),H=i.forwardRef(({color:e="#699BF7",toolbarIconScale:t=1},r)=>i.createElement(b,{toolbarIconScale:t},i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M27.8014 70.724L8.31687 37.526C7.36024 35.695 8.68491 33.5 10.7466 33.5H112.245C113.225 33.5 114.13 34.0241 114.62 34.8749L135.632 70.6249C136.122 71.4758 136.122 72.5242 135.632 73.3751L114.62 109.125C114.13 109.976 113.225 110.5 112.245 110.5H10.7466C8.68491 110.5 7.36024 108.305 8.31687 106.474L27.8014 73.276C28.219 72.4768 28.219 71.5232 27.8014 70.724Z",fill:e,className:c.cj,ref:r}))),W=i.forwardRef(({color:e="#699BF7",toolbarIconScale:t=1},r)=>i.createElement(b,{toolbarIconScale:t},i.createElement("path",{d:"M8 24.41C8 23.0789 9.07886 22 10.41 22H133.59C134.921 22 136 23.0789 136 24.4095V109.272C136 110.813 134.515 111.919 133.037 111.477L117.877 106.938C101.942 102.167 84.7341 104.324 70.4706 112.88C55.667 121.76 37.6577 123.527 21.4094 117.693L9.33252 113.356C8.53306 113.069 8 112.312 8 111.462V24.41Z",fill:e,className:c.cj,ref:r}))),K=i.forwardRef(({color:e="#699BF7",toolbarIconScale:t=1},r)=>i.createElement(b,{toolbarIconScale:t},i.createElement("path",{d:"M8 24.2588C8 23.0112 9.01116 22 10.2588 22H124.706C125.954 22 126.965 23.0112 126.965 24.2588V28.5255H18.2902C16.214 28.5255 14.5255 30.2092 14.5255 32.2897V106.223L9.51678 104.587L9.49722 104.581C8.60912 104.317 8 103.501 8 102.574V24.2588Z",fill:e,className:c.cj,ref:r}),i.createElement("path",{d:"M18.2902 30.0314H133.741C134.989 30.0314 136 31.0426 136 32.2897V111.827C136 113.272 134.608 114.309 133.223 113.894L119.014 109.64C104.079 105.168 87.9508 107.19 74.5823 115.209C60.7075 123.532 43.8282 125.188 28.5994 119.72L17.2803 115.655C16.531 115.386 16.0314 114.676 16.0314 113.88V32.2897C16.0314 31.0422 17.0444 30.0314 18.2902 30.0314Z",fill:e,className:c.cj}))),Y=i.forwardRef(({color:e="#699BF7",toolbarIconScale:t=1},r)=>i.createElement(b,{toolbarIconScale:t},i.createElement("path",{d:"M8.94141 70.0367L59.3021 28.0736C60.95 26.7503 63.3967 27.9234 63.3967 30.037V50.1764C63.3967 50.1765 63.3968 50.1767 63.3969 50.1769V50.1769C63.3971 50.177 63.3973 50.1771 63.3974 50.1771H133.482C134.873 50.1771 136 51.3044 136 52.6951V91.3049C136 92.6956 134.873 93.823 133.482 93.823H63.3974C63.3973 93.823 63.3971 93.8231 63.3969 93.8232V93.8232C63.3968 93.8233 63.3967 93.8235 63.3967 93.8237V113.963C63.3967 116.077 60.95 117.25 59.3021 115.926L8.9414 73.9634C7.6862 72.9554 7.6862 71.0446 8.94141 70.0367Z",fill:e,className:c.cj,ref:r}))),q=i.forwardRef(({color:e="#699BF7",toolbarIconScale:t=1},r)=>i.createElement(b,{toolbarIconScale:t},i.createElement("path",{d:"M135.059 73.9634L84.6979 115.926C83.05 117.25 80.6033 116.077 80.6033 113.963V93.8237C80.6033 93.8235 80.6032 93.8233 80.6031 93.8232V93.8232C80.6029 93.8231 80.6028 93.823 80.6026 93.823H10.518C9.12736 93.823 8 92.6956 8 91.3049V52.6951C8 51.3044 9.12736 50.1771 10.518 50.1771H80.6026C80.6027 50.1771 80.6029 50.177 80.6031 50.1769V50.1769C80.6032 50.1767 80.6033 50.1765 80.6033 50.1764V30.037C80.6033 27.9234 83.05 26.7503 84.6979 28.0736L135.059 70.0367C136.314 71.0446 136.314 72.9554 135.059 73.9634Z",fill:e,className:c.cj,ref:r}))),j=i.forwardRef(({color:e="#699BF7",toolbarIconScale:t=1},r)=>i.createElement(b,{toolbarIconScale:t},i.createElement("circle",{cx:"72",cy:"72",r:"48.5",fill:"white",fillOpacity:"0.8"}),i.createElement("path",{d:"M23.5 72C23.5 59.2726 28.4024 47.6903 36.422 39.0383L69.8739 72.4902L36.9016 105.472C28.5983 96.7676 23.5 84.9792 23.5 72Z M71.9949 70.3686L38.5281 36.9017C47.2323 28.5984 59.0207 23.5 72 23.5C84.9743 23.5 96.7586 28.5945 105.462 36.8921L71.9949 70.3686Z M74.1162 72.4899L107.569 39.0281C115.594 47.6811 120.5 59.2676 120.5 72C120.5 84.9793 115.402 96.7677 107.098 105.472L74.1162 72.4899Z M71.9952 74.6115L104.962 107.578C96.3097 115.598 84.7274 120.5 72 120.5C59.2725 120.5 47.6901 115.598 39.0381 107.578L71.9952 74.6115Z",fill:e,className:c.cj,ref:r}))),$=i.forwardRef(({color:e="#699BF7",toolbarIconScale:t=1},r)=>i.createElement(b,{toolbarIconScale:t},i.createElement("circle",{cx:"71.9978",cy:"71.9978",r:"48.475",fill:"white",fillOpacity:"0.8"}),i.createElement("path",{d:"M70.5 70.5H23.5228C24.3003 44.9064 44.9064 24.3003 70.5 23.5228V70.5Z M73.5 70.5V23.5228C99.0937 24.3003 119.7 44.9064 120.477 70.5H73.5Z M73.5 73.5H120.477C119.7 99.0937 99.0937 119.7 73.5 120.477V73.5Z M70.5 73.5V120.477C44.9064 119.7 24.3003 99.0937 23.5228 73.5H70.5Z",fill:e,className:c.cj,ref:r}))),Z=i.forwardRef(({color:e="#699BF7",toolbarIconScale:t=1},r)=>i.createElement(b,{toolbarIconScale:t},i.createElement("path",{d:"M8 43.5V84.2344C8 98.0415 19.1929 109.234 33 109.234H33.4992C33.4994 109.234 33.4996 109.235 33.4997 109.235V109.235C33.4999 109.235 33.5 109.235 33.5 109.235V121.505C33.5 124.734 37.147 126.624 39.7975 124.769L61.9993 109.235V109.235C62.0001 109.235 62.001 109.234 62.002 109.234H111C124.807 109.234 136 98.0415 136 84.2344V43.5C136 29.6929 124.807 18.5 111 18.5H33C19.1929 18.5 8 29.6929 8 43.5Z",fill:e,className:c.cj,ref:r}))),z=i.forwardRef(({color:e="#699BF7",toolbarIconScale:t=1},r)=>i.createElement(b,{toolbarIconScale:t},i.createElement("path",{d:"M8 31.8206C8 30.3939 9.15626 29.2377 10.583 29.2377H133.417C134.844 29.2377 136 30.3939 136 31.8206V112.179C136 113.606 134.844 114.762 133.417 114.762H10.583C9.15626 114.762 8 113.606 8 112.179V31.8206Z",fill:"white",fillOpacity:"0.8"}),i.createElement("path",{d:"M8 31.8206C8 30.3939 9.15626 29.2377 10.583 29.2377H15.4619V36.6996H8V31.8206Z M17.1839 36.6996V29.2377H133.417C134.844 29.2377 136 30.3939 136 31.8206V36.6996H17.1839Z M17.1839 38.4215H136V112.179C136 113.606 134.844 114.762 133.417 114.762H17.1839V38.4215Z M15.4619 38.4215V114.762H10.583C9.15626 114.762 8 113.606 8 112.179V38.4215H15.4619Z",fill:e,className:c.cj,ref:r}))),Q=i.forwardRef(({color:e="#B3B3B3",toolbarIconScale:t=1},r)=>i.createElement("svg",{width:31*t,height:34*t,viewBox:"0 0 32 34",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M22.7929 1.70711C22.4024 1.31658 22.4024 0.683417 22.7929 0.292893C23.1834 -0.0976311 23.8166 -0.0976311 24.2071 0.292893L30.2071 6.29289C30.5976 6.68342 30.5976 7.31658 30.2071 7.70711L24.2071 13.7071C23.8166 14.0976 23.1834 14.0976 22.7929 13.7071C22.4024 13.3166 22.4024 12.6834 22.7929 12.2929L27.0858 8H20.6834C17.922 8 15.6834 10.2386 15.6834 13V27C15.6834 30.866 12.5494 34 8.68341 34H1.5C0.947715 34 0.5 33.5523 0.5 33C0.5 32.4477 0.947715 32 1.5 32H8.68341C11.4448 32 13.6834 29.7614 13.6834 27V13C13.6834 9.13401 16.8174 6 20.6834 6H27.0858L22.7929 1.70711Z",fill:e,ref:r}))),X=i.forwardRef(({color:e="#B3B3B3",toolbarIconScale:t=1},r)=>i.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:28*t,height:30*t,viewBox:"0 0 28 30",fill:"none"},i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M17.8987 2.17466C17.3465 2.18604 16.8897 1.74765 16.8783 1.19548C16.8669 0.643314 17.3053 0.186467 17.8575 0.175085L26.341 0.000216699C26.8931 -0.011165 27.35 0.427228 27.3614 0.979396L27.5362 9.46288C27.5476 10.015 27.1092 10.4719 26.5571 10.4833C26.0049 10.4947 25.548 10.0563 25.5367 9.50409L25.4197 3.82765L1.73377 29.4084C1.35854 29.8137 0.725841 29.838 0.320597 29.4628C-0.0846483 29.0875 -0.108983 28.4548 0.266244 28.0496L24.3476 2.04173L17.8987 2.17466Z",fill:e,ref:r})));function J(){return i.createElement("svg",{width:"48",height:"40",viewBox:"0 0 48 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i.createElement("rect",{x:"4",width:"40",height:"40",rx:"8",fill:"white"}),i.createElement("rect",{x:"1",y:"17",width:"6",height:"6",fill:"black",fillOpacity:"0.9",stroke:"white",strokeWidth:"2"}),i.createElement("rect",{x:"41",y:"17",width:"6",height:"6",fill:"black",fillOpacity:"0.9",stroke:"white",strokeWidth:"2"}),i.createElement("path",{d:"M4.5 16V8.5C4.5 4.08172 7.49218 0.5 11.8 0.5H36.2C40.5078 0.5 43.5 4.08172 43.5 8.5V16",stroke:"black",strokeOpacity:"0.2"}),i.createElement("path",{d:"M4.5 24V31.5C4.5 35.9183 7.49218 39.5 11.8 39.5H36.2C40.5078 39.5 43.5 35.9183 43.5 31.5V24",stroke:"black",strokeOpacity:"0.2"}),i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M33 9H15V11H23V31H25V11H33V9Z",fill:"black",fillOpacity:"0.9"}))}function ee(){return i.createElement("svg",{width:"48",height:"40",viewBox:"0 0 48 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i.createElement("rect",{x:"4",width:"40",height:"40",rx:"8",fill:"white"}),i.createElement("rect",{x:"1",y:"17",width:"6",height:"6",fill:"black",fillOpacity:"0.9",stroke:"white",strokeWidth:"2"}),i.createElement("rect",{x:"41",y:"17",width:"6",height:"6",fill:"black",fillOpacity:"0.9",stroke:"white",strokeWidth:"2"}),i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M33 9H15V11H23V31H25V11H33V9Z",fill:"black",fillOpacity:"0.9"}))}function et(){return i.createElement("svg",{width:"48",height:"40",viewBox:"0 0 48 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4 8C4 3.58172 7.58172 0 12 0H36C40.4183 0 44 3.58172 44 8V16H40V24H44V32C44 36.4183 40.4183 40 36 40H12C7.58172 40 4 36.4183 4 32V24H8V16H4V8Z",fill:"#F5F5F5"}),i.createElement("rect",{x:"1",y:"17",width:"6",height:"6",fill:"black",fillOpacity:"0.9",stroke:"white",strokeWidth:"2"}),i.createElement("rect",{x:"41",y:"17",width:"6",height:"6",fill:"black",fillOpacity:"0.9",stroke:"white",strokeWidth:"2"}),i.createElement("path",{d:"M4.5 16V8.5C4.5 4.08172 7.49218 0.5 11.8 0.5H36.2C40.5078 0.5 43.5 4.08172 43.5 8.5V16",stroke:"black",strokeOpacity:"0.2"}),i.createElement("path",{d:"M4.5 24V31.5C4.5 35.9183 7.49218 39.5 11.8 39.5H36.2C40.5078 39.5 43.5 35.9183 43.5 31.5V24",stroke:"black",strokeOpacity:"0.2"}),i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M33 9H15V11H23V31H25V11H33V9Z",fill:"black",fillOpacity:"0.9"}))}function er(){return i.createElement("svg",{width:"48",height:"40",viewBox:"0 0 48 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i.createElement("rect",{x:"1",y:"17",width:"6",height:"6",fill:"#9747FF",stroke:"white",strokeWidth:"2"}),i.createElement("rect",{x:"41",y:"17",width:"6",height:"6",fill:"#9747FF",stroke:"white",strokeWidth:"2"}),i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4 8C4 3.58172 7.58172 0 12 0H36C40.4183 0 44 3.58172 44 8V16H40V24H44V32C44 36.4183 40.4183 40 36 40H12C7.58172 40 4 36.4183 4 32V24H8V16H4V8Z",fill:"#9747FF"}),i.createElement("mask",{id:"path-4-inside-1_1014310_50946",fill:"white"},i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M33 9H15V11H23V31H25V11H33V9Z"})),i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M33 9H15V11H23V31H25V11H33V9Z",fill:"white"}),i.createElement("path",{d:"M15 9V8H14V9H15ZM33 9H34V8H33V9ZM15 11H14V12H15V11ZM23 11H24V10H23V11ZM23 31H22V32H23V31ZM25 31V32H26V31H25ZM25 11V10H24V11H25ZM33 11V12H34V11H33ZM15 10H33V8H15V10ZM16 11V9H14V11H16ZM23 10H15V12H23V10ZM24 31V11H22V31H24ZM25 30H23V32H25V30ZM24 11V31H26V11H24ZM33 10H25V12H33V10ZM32 9V11H34V9H32Z",fill:"white",mask:"url(#path-4-inside-1_1014310_50946)"}))}function en(){return i.createElement("svg",{width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i.createElement("rect",{width:"40",height:"40",rx:"8",fill:"white"}),i.createElement("rect",{x:"0.5",y:"0.5",width:"39",height:"39",rx:"7.5",stroke:"black",strokeOpacity:"0.2"}),i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M24 12C24 13.8382 22.7125 15.3937 21.0234 15.862L21.0844 16.1232L22.2429 21.1436H17.7571L18.5638 17.6477L18.9817 15.862C17.2926 15.3937 16 13.8382 16 12C16 9.79086 17.7909 8 20 8C22.2091 8 24 9.79086 24 12ZM16.6622 16.9936C15.0544 15.9178 14 14.0828 14 12C14 8.68629 16.6863 6 20 6C23.3137 6 26 8.68629 26 12C26 14.0841 24.9465 15.92 23.3383 16.9955L24.3326 21.3042L28.2169 22.1674L29 22.3414V23.1436V28.1436V29.1436H28H12H11V28.1436V23.1436V22.3414L11.7831 22.1674L15.6674 21.3042L16.6622 16.9936ZM27 23.9457L23.3902 23.1436H16.6098L13 23.9457V27.1436H27V23.9457ZM12 34.1436V32.1436H28V34.1436H12Z",fill:"black",fillOpacity:"0.9"}))}function ei(){return i.createElement("svg",{width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i.createElement("rect",{width:"40",height:"40",rx:"8",fill:"white"}),i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M24 12C24 13.8382 22.7125 15.3937 21.0234 15.862L21.0844 16.1232L22.2429 21.1436H17.7571L18.5638 17.6477L18.9817 15.862C17.2926 15.3937 16 13.8382 16 12C16 9.79086 17.7909 8 20 8C22.2091 8 24 9.79086 24 12ZM16.6622 16.9936C15.0544 15.9178 14 14.0828 14 12C14 8.68629 16.6863 6 20 6C23.3137 6 26 8.68629 26 12C26 14.0841 24.9465 15.92 23.3383 16.9955L24.3326 21.3042L28.2169 22.1674L29 22.3414V23.1436V28.1436V29.1436H28H12H11V28.1436V23.1436V22.3414L11.7831 22.1674L15.6674 21.3042L16.6622 16.9936ZM27 23.9457L23.3902 23.1436H16.6098L13 23.9457V27.1436H27V23.9457ZM12 34.1436V32.1436H28V34.1436H12Z",fill:"black",fillOpacity:"0.9"}))}function ea(){return i.createElement("svg",{width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i.createElement("rect",{width:"40",height:"40",rx:"8",fill:"#F5F5F5"}),i.createElement("rect",{x:"0.5",y:"0.5",width:"39",height:"39",rx:"7.5",stroke:"black",strokeOpacity:"0.2"}),i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M24 12C24 13.8382 22.7125 15.3937 21.0234 15.862L21.0844 16.1232L22.2429 21.1436H17.7571L18.5638 17.6477L18.9817 15.862C17.2926 15.3937 16 13.8382 16 12C16 9.79086 17.7909 8 20 8C22.2091 8 24 9.79086 24 12ZM16.6622 16.9936C15.0544 15.9178 14 14.0828 14 12C14 8.68629 16.6863 6 20 6C23.3137 6 26 8.68629 26 12C26 14.0841 24.9465 15.92 23.3383 16.9955L24.3326 21.3042L28.2169 22.1674L29 22.3414V23.1436V28.1436V29.1436H28H12H11V28.1436V23.1436V22.3414L11.7831 22.1674L15.6674 21.3042L16.6622 16.9936ZM27 23.9457L23.3902 23.1436H16.6098L13 23.9457V27.1436H27V23.9457ZM12 34.1436V32.1436H28V34.1436H12Z",fill:"black",fillOpacity:"0.9"}))}function eo(){return i.createElement("svg",{width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i.createElement("rect",{width:"40",height:"40",rx:"8",fill:"#9747FF"}),i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M24 12C24 13.8382 22.7125 15.3937 21.0234 15.862L21.0844 16.1232L22.2429 21.1436H17.7571L18.5638 17.6477L18.9817 15.862C17.2926 15.3937 16 13.8382 16 12C16 9.79086 17.7909 8 20 8C22.2091 8 24 9.79086 24 12ZM16.6622 16.9936C15.0544 15.9178 14 14.0828 14 12C14 8.68629 16.6863 6 20 6C23.3137 6 26 8.68629 26 12C26 14.0841 24.9465 15.92 23.3383 16.9955L24.3326 21.3042L28.2169 22.1674L29 22.3414V23.1436V28.1436V29.1436H28H12H11V28.1436V23.1436V22.3414L11.7831 22.1674L15.6674 21.3042L16.6622 16.9936ZM27 23.9457L23.3902 23.1436H16.6098L13 23.9457V27.1436H27V23.9457ZM12 34.1436V32.1436H28V34.1436H12Z",fill:"white"}))}function el(){return i.createElement("svg",{width:"56",height:"56",viewBox:"0 0 56 56",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i.createElement("rect",{x:"8",y:"8",width:"40",height:"40",rx:"8",fill:"white"}),i.createElement("mask",{id:"path-3-inside-1_1019679_55716",fill:"white"},i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M33.3576 13.6424L32 11L30.6424 13.6424L28 15L30.6424 16.3576L32 19L33.3576 16.3576L36 15L33.3576 13.6424ZM39.1682 26H41H42V27V38C42 40.2091 40.2091 42 38 42H18C15.7909 42 14 40.2091 14 38V27V26H15H28.1837C28.2225 25.3193 28.3893 24.6345 28.6965 23.9794C29.9863 21.2293 33.2613 20.0454 36.0114 21.3352C37.9039 22.2227 39.0547 24.0503 39.1682 26ZM37.1625 26C37.0532 24.8026 36.3294 23.6933 35.1622 23.146C33.4121 22.3252 31.3281 23.0786 30.5073 24.8287C30.329 25.2088 30.225 25.6047 30.1893 26H37.1625ZM25.8981 19.4218L22.4218 15.828L18.828 19.3044L22.3044 22.8981L25.8981 19.4218ZM23.8593 14.4375L22.4688 13L21.0312 14.3905L17.4375 17.8669L16 19.2574L17.3905 20.6949L20.8669 24.2887L22.2574 25.7262L23.6949 24.3356L27.2887 20.8593L28.7262 19.4688L27.3356 18.0313L23.8593 14.4375ZM16 38V28H40V38C40 39.1046 39.1046 40 38 40H18C16.8954 40 16 39.1046 16 38Z"})),i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M33.3576 13.6424L32 11L30.6424 13.6424L28 15L30.6424 16.3576L32 19L33.3576 16.3576L36 15L33.3576 13.6424ZM39.1682 26H41H42V27V38C42 40.2091 40.2091 42 38 42H18C15.7909 42 14 40.2091 14 38V27V26H15H28.1837C28.2225 25.3193 28.3893 24.6345 28.6965 23.9794C29.9863 21.2293 33.2613 20.0454 36.0114 21.3352C37.9039 22.2227 39.0547 24.0503 39.1682 26ZM37.1625 26C37.0532 24.8026 36.3294 23.6933 35.1622 23.146C33.4121 22.3252 31.3281 23.0786 30.5073 24.8287C30.329 25.2088 30.225 25.6047 30.1893 26H37.1625ZM25.8981 19.4218L22.4218 15.828L18.828 19.3044L22.3044 22.8981L25.8981 19.4218ZM23.8593 14.4375L22.4688 13L21.0312 14.3905L17.4375 17.8669L16 19.2574L17.3905 20.6949L20.8669 24.2887L22.2574 25.7262L23.6949 24.3356L27.2887 20.8593L28.7262 19.4688L27.3356 18.0313L23.8593 14.4375ZM16 38V28H40V38C40 39.1046 39.1046 40 38 40H18C16.8954 40 16 39.1046 16 38Z",fill:"black",fillOpacity:"0.9"}),i.createElement("path",{d:"M32 11L33.7789 10.086L32 6.6237L30.2211 10.086L32 11ZM33.3576 13.6424L31.5787 14.5564L31.8723 15.1277L32.4436 15.4213L33.3576 13.6424ZM30.6424 13.6424L31.5564 15.4213L32.1277 15.1277L32.4213 14.5564L30.6424 13.6424ZM28 15L27.086 13.2211L23.6237 15L27.086 16.7789L28 15ZM30.6424 16.3576L32.4213 15.4436L32.1277 14.8723L31.5564 14.5787L30.6424 16.3576ZM32 19L30.2211 19.914L32 23.3763L33.7789 19.914L32 19ZM33.3576 16.3576L32.4436 14.5787L31.8723 14.8723L31.5787 15.4436L33.3576 16.3576ZM36 15L36.914 16.7789L40.3763 15L36.914 13.2211L36 15ZM39.1682 26L37.1715 26.1162L37.2812 28H39.1682V26ZM42 26H44V24H42V26ZM14 26V24H12V26H14ZM28.1837 26V28H30.0729L30.1804 26.1138L28.1837 26ZM28.6965 23.9794L26.8858 23.1302V23.1302L28.6965 23.9794ZM36.0114 21.3352L35.1622 23.146V23.146L36.0114 21.3352ZM37.1625 26V28H39.3533L39.1542 25.8183L37.1625 26ZM35.1622 23.146L34.313 24.9567V24.9567L35.1622 23.146ZM30.5073 24.8287L28.6965 23.9794L28.6965 23.9794L30.5073 24.8287ZM30.1893 26L28.1974 25.8203L28.0008 28H30.1893V26ZM22.4218 15.828L23.8593 14.4375L22.4688 13L21.0312 14.3905L22.4218 15.828ZM25.8981 19.4218L27.2887 20.8593L28.7262 19.4688L27.3356 18.0313L25.8981 19.4218ZM18.828 19.3044L17.4375 17.8669L16 19.2574L17.3905 20.6949L18.828 19.3044ZM22.3044 22.8981L20.8669 24.2887L22.2574 25.7262L23.6949 24.3356L22.3044 22.8981ZM22.4688 13L23.9063 11.6095L22.5157 10.172L21.0782 11.5625L22.4688 13ZM23.8593 14.4375L22.4218 15.828L22.4218 15.828L23.8593 14.4375ZM21.0312 14.3905L22.4218 15.828L22.4218 15.828L21.0312 14.3905ZM17.4375 17.8669L16.047 16.4294H16.047L17.4375 17.8669ZM16 19.2574L14.6095 17.8199L13.172 19.2104L14.5625 20.6479L16 19.2574ZM17.3905 20.6949L18.828 19.3044L18.828 19.3044L17.3905 20.6949ZM20.8669 24.2887L22.3044 22.8981H22.3044L20.8669 24.2887ZM22.2574 25.7262L20.8199 27.1167L22.2104 28.5542L23.6479 27.1637L22.2574 25.7262ZM23.6949 24.3356L22.3044 22.8981V22.8981L23.6949 24.3356ZM27.2887 20.8593L28.6792 22.2968V22.2968L27.2887 20.8593ZM28.7262 19.4688L30.1167 20.9063L31.5542 19.5157L30.1637 18.0782L28.7262 19.4688ZM27.3356 18.0313L28.7731 16.6407L28.7731 16.6407L27.3356 18.0313ZM16 28V26H14V28H16ZM40 28H42V26H40V28ZM30.2211 11.914L31.5787 14.5564L35.1366 12.7283L33.7789 10.086L30.2211 11.914ZM32.4213 14.5564L33.7789 11.914L30.2211 10.086L28.8634 12.7283L32.4213 14.5564ZM28.914 16.7789L31.5564 15.4213L29.7283 11.8634L27.086 13.2211L28.914 16.7789ZM31.5564 14.5787L28.914 13.2211L27.086 16.7789L29.7283 18.1366L31.5564 14.5787ZM33.7789 18.086L32.4213 15.4436L28.8634 17.2717L30.2211 19.914L33.7789 18.086ZM31.5787 15.4436L30.2211 18.086L33.7789 19.914L35.1366 17.2717L31.5787 15.4436ZM35.086 13.2211L32.4436 14.5787L34.2717 18.1366L36.914 16.7789L35.086 13.2211ZM32.4436 15.4213L35.086 16.7789L36.914 13.2211L34.2717 11.8634L32.4436 15.4213ZM39.1682 28H41V24H39.1682V28ZM41 28H42V24H41V28ZM40 26V27H44V26H40ZM40 27V38H44V27H40ZM40 38C40 39.1046 39.1046 40 38 40V44C41.3137 44 44 41.3137 44 38H40ZM38 40H18V44H38V40ZM18 40C16.8954 40 16 39.1046 16 38H12C12 41.3137 14.6863 44 18 44V40ZM16 38V27H12V38H16ZM16 27V26H12V27H16ZM14 28H15V24H14V28ZM15 28H28.1837V24H15V28ZM30.1804 26.1138C30.2049 25.6836 30.3102 25.2488 30.5073 24.8287L26.8858 23.1302C26.4684 24.0201 26.24 24.955 26.1869 25.8862L30.1804 26.1138ZM30.5073 24.8287C31.3281 23.0786 33.4121 22.3252 35.1622 23.146L36.8607 19.5244C33.1105 17.7657 28.6446 19.38 26.8858 23.1302L30.5073 24.8287ZM35.1622 23.146C36.3641 23.7096 37.099 24.8697 37.1715 26.1162L41.1648 25.8838C41.0104 23.2309 39.4437 20.7359 36.8607 19.5244L35.1622 23.146ZM39.1542 25.8183C38.9831 23.9427 37.8478 22.1964 36.0114 21.3352L34.313 24.9567C34.811 25.1903 35.1234 25.6625 35.1708 26.1817L39.1542 25.8183ZM36.0114 21.3352C33.2613 20.0454 29.9863 21.2293 28.6965 23.9794L32.318 25.6779C32.6698 24.9278 33.563 24.605 34.313 24.9567L36.0114 21.3352ZM28.6965 23.9794C28.4179 24.5735 28.2537 25.1964 28.1974 25.8203L32.1812 26.1797C32.1963 26.013 32.2401 25.8441 32.318 25.6779L28.6965 23.9794ZM30.1893 28H37.1625V24H30.1893V28ZM20.9843 17.2186L24.4606 20.8123L27.3356 18.0313L23.8593 14.4375L20.9843 17.2186ZM20.2186 20.7419L23.8123 17.2655L21.0312 14.3905L17.4375 17.8669L20.2186 20.7419ZM23.7419 21.5076L20.2655 17.9138L17.3905 20.6949L20.8669 24.2887L23.7419 21.5076ZM24.5076 17.9843L20.9138 21.4606L23.6949 24.3356L27.2887 20.8593L24.5076 17.9843ZM21.0312 14.3905L22.4218 15.828L25.2968 13.047L23.9063 11.6095L21.0312 14.3905ZM22.4218 15.828L23.8593 14.4375L21.0782 11.5625L19.6407 12.953L22.4218 15.828ZM18.828 19.3044L22.4218 15.828L19.6407 12.953L16.047 16.4294L18.828 19.3044ZM17.3905 20.6949L18.828 19.3044L16.047 16.4294L14.6095 17.8199L17.3905 20.6949ZM18.828 19.3044L17.4375 17.8669L14.5625 20.6479L15.953 22.0854L18.828 19.3044ZM22.3044 22.8981L18.828 19.3044L15.953 22.0854L19.4294 25.6792L22.3044 22.8981ZM23.6949 24.3356L22.3044 22.8981L19.4294 25.6792L20.8199 27.1167L23.6949 24.3356ZM22.3044 22.8981L20.8669 24.2887L23.6479 27.1637L25.0854 25.7731L22.3044 22.8981ZM25.8981 19.4218L22.3044 22.8981L25.0854 25.7731L28.6792 22.2968L25.8981 19.4218ZM27.3356 18.0313L25.8981 19.4218L28.6792 22.2968L30.1167 20.9063L27.3356 18.0313ZM25.8981 19.4218L27.2887 20.8593L30.1637 18.0782L28.7731 16.6407L25.8981 19.4218ZM22.4218 15.828L25.8981 19.4218L28.7731 16.6407L25.2968 13.047L22.4218 15.828ZM14 28V38H18V28H14ZM40 26H16V30H40V26ZM42 38V28H38V38H42ZM38 42C40.2091 42 42 40.2091 42 38H38V42ZM18 42H38V38H18V42ZM14 38C14 40.2091 15.7909 42 18 42V38H18H14Z",fill:"black",fillOpacity:"0.9",mask:"url(#path-3-inside-1_1019679_55716)"}),i.createElement("rect",{x:"8.5",y:"8.5",width:"39",height:"39",rx:"7.5",stroke:"black",strokeOpacity:"0.2"}))}function es(){return i.createElement("svg",{width:"56",height:"56",viewBox:"0 0 56 56",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i.createElement("rect",{x:"8",y:"8",width:"40",height:"40",rx:"8",fill:"white"}),i.createElement("rect",{x:"8.5",y:"8.5",width:"39",height:"39",rx:"7.5",stroke:"black",strokeOpacity:"0.2"}),i.createElement("path",{d:"M11.5269 4L22.3945 9.08856L17.306 19.9562L6.4383 14.8677L11.5269 4Z",fill:"#FF8577"}),i.createElement("path",{d:"M51.3739 20.2821C49.7324 23.7823 45.5642 25.2891 42.064 23.6475C38.5639 22.006 37.0571 17.8378 38.6986 14.3376C40.3402 10.8375 44.5084 9.33072 48.0085 10.9723C51.5087 12.6138 53.0155 16.782 51.3739 20.2821Z",fill:"#C7B9FF"}),i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M22.377 23.8507L25.8165 22.6624L27.3151 27.0003H28.4367L30.6793 20.0203L27.2397 21.2085L25.16 15.1885L22.377 23.8507Z",fill:"#FFC700"}),i.createElement("mask",{id:"path-6-inside-1_1019679_55739",fill:"white"},i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M38.0275 4.97265L36.5002 2L34.9728 4.97265L32.0002 6.5L34.9728 8.02735L36.5002 11L38.0275 8.02735L41.0002 6.5L38.0275 4.97265ZM33.3487 11.6515L32.5002 10L31.6517 11.6515L30.0002 12.5L31.6517 13.3485L32.5002 15L33.3487 13.3485L35.0002 12.5L33.3487 11.6515ZM19.7353 10.0517L12.4902 6.65937L9.09785 13.9045L16.343 17.2969L19.7353 10.0517ZM11.527 4L6.43848 14.8677L17.3062 19.9562L22.3947 9.08856L11.527 4ZM49.5634 19.4329C48.3908 21.9331 45.4136 23.0093 42.9134 21.8368C40.4133 20.6643 39.3371 17.687 40.5096 15.1869C41.6821 12.6867 44.6594 11.6105 47.1595 12.783C49.6596 13.9555 50.7359 16.9328 49.5634 19.4329ZM51.3741 20.2821C49.7326 23.7823 45.5644 25.2891 42.0642 23.6475C38.564 22.006 37.0573 17.8378 38.6988 14.3376C40.3404 10.8375 44.5085 9.33072 48.0087 10.9723C51.5089 12.6138 53.0156 16.782 51.3741 20.2821ZM25.1601 15.1882L22.377 23.8504L25.8166 22.6621L26.9697 26H28.758L30.6794 20.02L27.2398 21.2082L25.1601 15.1882ZM30.8587 26L32.5835 20.6318C32.8152 19.9105 32.6196 19.1203 32.0781 18.5905C31.5367 18.0607 30.7423 17.8823 30.0263 18.1296L28.4771 18.6648L27.0505 14.5352C26.7694 13.7215 25.9992 13.179 25.1384 13.1883C24.2776 13.1977 23.5193 13.7568 23.256 14.5764L20.4729 23.2386C20.2412 23.9598 20.4368 24.7501 20.9783 25.2799C21.5197 25.8097 22.3141 25.9881 23.0301 25.7408L24.5793 25.2056L24.8537 26H15H14V27V38C14 40.2091 15.7909 42 18 42H38C40.2091 42 42 40.2091 42 38V27V26H41H30.8587ZM16 38V28H40V38C40 39.1046 39.1046 40 38 40H18C16.8954 40 16 39.1046 16 38Z"})),i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M38.0275 4.97265L36.5002 2L34.9728 4.97265L32.0002 6.5L34.9728 8.02735L36.5002 11L38.0275 8.02735L41.0002 6.5L38.0275 4.97265ZM33.3487 11.6515L32.5002 10L31.6517 11.6515L30.0002 12.5L31.6517 13.3485L32.5002 15L33.3487 13.3485L35.0002 12.5L33.3487 11.6515ZM19.7353 10.0517L12.4902 6.65937L9.09785 13.9045L16.343 17.2969L19.7353 10.0517ZM11.527 4L6.43848 14.8677L17.3062 19.9562L22.3947 9.08856L11.527 4ZM49.5634 19.4329C48.3908 21.9331 45.4136 23.0093 42.9134 21.8368C40.4133 20.6643 39.3371 17.687 40.5096 15.1869C41.6821 12.6867 44.6594 11.6105 47.1595 12.783C49.6596 13.9555 50.7359 16.9328 49.5634 19.4329ZM51.3741 20.2821C49.7326 23.7823 45.5644 25.2891 42.0642 23.6475C38.564 22.006 37.0573 17.8378 38.6988 14.3376C40.3404 10.8375 44.5085 9.33072 48.0087 10.9723C51.5089 12.6138 53.0156 16.782 51.3741 20.2821ZM25.1601 15.1882L22.377 23.8504L25.8166 22.6621L26.9697 26H28.758L30.6794 20.02L27.2398 21.2082L25.1601 15.1882ZM30.8587 26L32.5835 20.6318C32.8152 19.9105 32.6196 19.1203 32.0781 18.5905C31.5367 18.0607 30.7423 17.8823 30.0263 18.1296L28.4771 18.6648L27.0505 14.5352C26.7694 13.7215 25.9992 13.179 25.1384 13.1883C24.2776 13.1977 23.5193 13.7568 23.256 14.5764L20.4729 23.2386C20.2412 23.9598 20.4368 24.7501 20.9783 25.2799C21.5197 25.8097 22.3141 25.9881 23.0301 25.7408L24.5793 25.2056L24.8537 26H15H14V27V38C14 40.2091 15.7909 42 18 42H38C40.2091 42 42 40.2091 42 38V27V26H41H30.8587ZM16 38V28H40V38C40 39.1046 39.1046 40 38 40H18C16.8954 40 16 39.1046 16 38Z",fill:"white"}),i.createElement("path",{d:"M36.5002 2L38.2791 1.08599L36.5002 -2.3763L34.7213 1.08599L36.5002 2ZM38.0275 4.97265L36.2486 5.88666L36.5422 6.45801L37.1135 6.75158L38.0275 4.97265ZM34.9728 4.97265L35.8868 6.75158L36.4582 6.45801L36.7518 5.88666L34.9728 4.97265ZM32.0002 6.5L31.0862 4.72107L27.6239 6.5L31.0862 8.27893L32.0002 6.5ZM34.9728 8.02735L36.7518 7.11334L36.4582 6.54199L35.8868 6.24842L34.9728 8.02735ZM36.5002 11L34.7213 11.914L36.5002 15.3763L38.2791 11.914L36.5002 11ZM38.0275 8.02735L37.1135 6.24842L36.5422 6.54199L36.2486 7.11334L38.0275 8.02735ZM41.0002 6.5L41.9142 8.27893L45.3765 6.5L41.9142 4.72107L41.0002 6.5ZM32.5002 10L34.2791 9.08599L32.5002 5.6237L30.7213 9.08599L32.5002 10ZM33.3487 11.6515L31.5698 12.5655L31.8633 13.1368L32.4347 13.4304L33.3487 11.6515ZM31.6517 11.6515L32.5657 13.4304L33.137 13.1368L33.4306 12.5655L31.6517 11.6515ZM30.0002 12.5L29.0862 10.7211L25.6239 12.5L29.0862 14.2789L30.0002 12.5ZM31.6517 13.3485L33.4306 12.4345L33.137 11.8632L32.5657 11.5696L31.6517 13.3485ZM32.5002 15L30.7213 15.914L32.5002 19.3763L34.2791 15.914L32.5002 15ZM33.3487 13.3485L32.4347 11.5696L31.8633 11.8632L31.5698 12.4345L33.3487 13.3485ZM35.0002 12.5L35.9142 14.2789L39.3765 12.5L35.9142 10.7211L35.0002 12.5ZM12.4902 6.65937L13.3383 4.84809L11.527 4L10.6789 5.81128L12.4902 6.65937ZM19.7353 10.0517L21.5466 10.8998L22.3947 9.08856L20.5834 8.24047L19.7353 10.0517ZM9.09785 13.9045L7.28657 13.0564L6.43848 14.8677L8.24976 15.7158L9.09785 13.9045ZM16.343 17.2969L15.4949 19.1082L17.3062 19.9562L18.1543 18.145L16.343 17.2969ZM6.43848 14.8677L4.6272 14.0196L3.7791 15.8309L5.59038 16.679L6.43848 14.8677ZM11.527 4L12.3751 2.18872L10.5638 1.34063L9.71575 3.15191L11.527 4ZM17.3062 19.9562L16.4581 21.7675L18.2693 22.6156L19.1174 20.8043L17.3062 19.9562ZM22.3947 9.08856L24.206 9.93665L25.0541 8.12537L23.2428 7.27728L22.3947 9.08856ZM42.9134 21.8368L43.7626 20.026L42.9134 21.8368ZM49.5634 19.4329L47.7526 18.5837L49.5634 19.4329ZM40.5096 15.1869L38.6988 14.3376V14.3376L40.5096 15.1869ZM47.1595 12.783L48.0087 10.9723L47.1595 12.783ZM42.0642 23.6475L41.215 25.4583H41.215L42.0642 23.6475ZM51.3741 20.2821L49.5634 19.4329L51.3741 20.2821ZM38.6988 14.3376L36.8881 13.4884V13.4884L38.6988 14.3376ZM48.0087 10.9723L47.1595 12.783L47.1595 12.783L48.0087 10.9723ZM22.377 23.8504L20.4729 23.2386L19.2493 27.0469L23.0301 25.7408L22.377 23.8504ZM25.1601 15.1882L27.0505 14.5352L25.0913 8.86403L23.256 14.5764L25.1601 15.1882ZM25.8166 22.6621L27.707 22.0091L27.0539 20.1187L25.1635 20.7718L25.8166 22.6621ZM26.9697 26L25.0793 26.6531L25.5446 28H26.9697V26ZM28.758 26V28H30.2161L30.6622 26.6118L28.758 26ZM30.6794 20.02L32.5835 20.6318L33.8071 16.8235L30.0263 18.1296L30.6794 20.02ZM27.2398 21.2082L25.3494 21.8613L26.0025 23.7517L27.8929 23.0986L27.2398 21.2082ZM30.8587 26L28.9546 25.3882L28.1155 28H30.8587V26ZM32.5835 20.6318L34.4876 21.2436V21.2436L32.5835 20.6318ZM30.0263 18.1296L30.6794 20.02H30.6794L30.0263 18.1296ZM28.4771 18.6648L26.5868 19.3179L27.2398 21.2082L29.1302 20.5552L28.4771 18.6648ZM27.0505 14.5352L28.9409 13.8821L27.0505 14.5352ZM25.1384 13.1883L25.1601 15.1882L25.1384 13.1883ZM23.256 14.5764L21.3519 13.9646L23.256 14.5764ZM20.4729 23.2386L22.377 23.8504H22.377L20.4729 23.2386ZM23.0301 25.7408L23.6831 27.6311L23.6831 27.6311L23.0301 25.7408ZM24.5793 25.2056L26.4696 24.5525L25.8166 22.6621L23.9262 23.3152L24.5793 25.2056ZM24.8537 26V28H27.6606L26.7441 25.3469L24.8537 26ZM14 26V24H12V26H14ZM42 26H44V24H42V26ZM16 28V26H14V28H16ZM40 28H42V26H40V28ZM34.7213 2.91401L36.2486 5.88666L39.8065 4.05864L38.2791 1.08599L34.7213 2.91401ZM36.7518 5.88666L38.2791 2.91401L34.7213 1.08599L33.1939 4.05863L36.7518 5.88666ZM32.9142 8.27893L35.8868 6.75158L34.0588 3.19372L31.0862 4.72107L32.9142 8.27893ZM35.8868 6.24842L32.9142 4.72107L31.0862 8.27893L34.0588 9.80628L35.8868 6.24842ZM38.2791 10.086L36.7518 7.11334L33.1939 8.94136L34.7213 11.914L38.2791 10.086ZM36.2486 7.11334L34.7213 10.086L38.2791 11.914L39.8065 8.94136L36.2486 7.11334ZM40.0862 4.72107L37.1135 6.24842L38.9415 9.80628L41.9142 8.27893L40.0862 4.72107ZM37.1135 6.75158L40.0862 8.27893L41.9142 4.72107L38.9415 3.19372L37.1135 6.75158ZM30.7213 10.914L31.5698 12.5655L35.1276 10.7375L34.2791 9.08599L30.7213 10.914ZM33.4306 12.5655L34.2791 10.914L30.7213 9.08599L29.8727 10.7375L33.4306 12.5655ZM30.9142 14.2789L32.5657 13.4304L30.7376 9.87255L29.0862 10.7211L30.9142 14.2789ZM32.5657 11.5696L30.9142 10.7211L29.0862 14.2789L30.7376 15.1275L32.5657 11.5696ZM34.2791 14.086L33.4306 12.4345L29.8727 14.2625L30.7213 15.914L34.2791 14.086ZM31.5698 12.4345L30.7213 14.086L34.2791 15.914L35.1276 14.2625L31.5698 12.4345ZM34.0862 10.7211L32.4347 11.5696L34.2627 15.1275L35.9142 14.2789L34.0862 10.7211ZM32.4347 13.4304L34.0862 14.2789L35.9142 10.7211L34.2627 9.87255L32.4347 13.4304ZM11.6421 8.47065L18.8873 11.863L20.5834 8.24047L13.3383 4.84809L11.6421 8.47065ZM10.9091 14.7526L14.3015 7.50747L10.6789 5.81128L7.28657 13.0564L10.9091 14.7526ZM17.1911 15.4856L9.94594 12.0932L8.24976 15.7158L15.4949 19.1082L17.1911 15.4856ZM17.9241 9.20365L14.5317 16.4488L18.1543 18.145L21.5466 10.8998L17.9241 9.20365ZM8.24976 15.7158L13.3383 4.84809L9.71575 3.15191L4.6272 14.0196L8.24976 15.7158ZM18.1543 18.145L7.28657 13.0564L5.59038 16.679L16.4581 21.7675L18.1543 18.145ZM20.5834 8.24047L15.4949 19.1081L19.1174 20.8043L24.206 9.93665L20.5834 8.24047ZM10.6789 5.81128L21.5466 10.8998L23.2428 7.27728L12.3751 2.18872L10.6789 5.81128ZM42.0642 23.6475C45.5644 25.2891 49.7326 23.7823 51.3741 20.2821L47.7526 18.5837C47.0491 20.0838 45.2627 20.7295 43.7626 20.026L42.0642 23.6475ZM38.6988 14.3376C37.0573 17.8378 38.564 22.006 42.0642 23.6475L43.7626 20.026C42.2626 19.3225 41.6168 17.5362 42.3203 16.0361L38.6988 14.3376ZM48.0087 10.9723C44.5085 9.33072 40.3404 10.8375 38.6988 14.3376L42.3203 16.0361C43.0238 14.536 44.8102 13.8902 46.3103 14.5938L48.0087 10.9723ZM51.3741 20.2821C53.0156 16.782 51.5089 12.6138 48.0087 10.9723L46.3103 14.5938C47.8104 15.2973 48.4561 17.0836 47.7526 18.5837L51.3741 20.2821ZM41.215 25.4583C45.7152 27.5688 51.0743 25.6316 53.1849 21.1314L49.5634 19.4329C48.3908 21.9331 45.4136 23.0093 42.9134 21.8368L41.215 25.4583ZM36.8881 13.4884C34.7775 17.9887 36.7148 23.3478 41.215 25.4583L42.9134 21.8368C40.4133 20.6643 39.3371 17.687 40.5096 15.1869L36.8881 13.4884ZM48.8579 9.1615C44.3577 7.05096 38.9986 8.98819 36.8881 13.4884L40.5096 15.1869C41.6821 12.6867 44.6594 11.6105 47.1595 12.783L48.8579 9.1615ZM53.1849 21.1314C55.2954 16.6311 53.3582 11.272 48.8579 9.1615L47.1595 12.783C49.6596 13.9555 50.7359 16.9328 49.5634 19.4329L53.1849 21.1314ZM24.2812 24.4622L27.0643 15.8L23.256 14.5764L20.4729 23.2386L24.2812 24.4622ZM25.1635 20.7718L21.724 21.96L23.0301 25.7408L26.4696 24.5525L25.1635 20.7718ZM28.8601 25.3469L27.707 22.0091L23.9262 23.3152L25.0793 26.6531L28.8601 25.3469ZM26.9697 28H28.758V24H26.9697V28ZM28.7752 19.4082L26.8539 25.3882L30.6622 26.6118L32.5835 20.6318L28.7752 19.4082ZM27.8929 23.0986L31.3324 21.9104L30.0263 18.1296L26.5868 19.3179L27.8929 23.0986ZM23.2698 15.8413L25.3494 21.8613L29.1302 20.5552L27.0505 14.5352L23.2698 15.8413ZM32.7629 26.6118L34.4876 21.2436L30.6794 20.02L28.9546 25.3882L32.7629 26.6118ZM34.4876 21.2436C34.9511 19.8011 34.5598 18.2206 33.4769 17.161L30.6794 20.02V20.02L34.4876 21.2436ZM33.4769 17.161C32.394 16.1014 30.8053 15.7445 29.3733 16.2392L30.6794 20.02L30.6794 20.02L33.4769 17.161ZM29.3733 16.2392L27.8241 16.7744L29.1302 20.5552L30.6794 20.02L29.3733 16.2392ZM30.3675 18.0117L28.9409 13.8821L25.1601 15.1882L26.5868 19.3179L30.3675 18.0117ZM28.9409 13.8821C28.3787 12.2548 26.8382 11.1697 25.1166 11.1884L25.1601 15.1882H25.1601L28.9409 13.8821ZM25.1166 11.1884C23.395 11.2072 21.8785 12.3254 21.3519 13.9646L25.1601 15.1882H25.1601L25.1166 11.1884ZM21.3519 13.9646L18.5688 22.6268L22.377 23.8504L25.1601 15.1882L21.3519 13.9646ZM18.5688 22.6268C18.1053 24.0693 18.4966 25.6498 19.5795 26.7094L22.377 23.8504L22.377 23.8504L18.5688 22.6268ZM19.5795 26.7094C20.6625 27.769 22.2511 28.1258 23.6831 27.6311L22.377 23.8504L22.377 23.8504L19.5795 26.7094ZM23.6831 27.6311L25.2323 27.096L23.9262 23.3152L22.377 23.8504L23.6831 27.6311ZM22.6889 25.8586L22.9633 26.6531L26.7441 25.3469L26.4696 24.5525L22.6889 25.8586ZM15 28H24.8537V24H15V28ZM14 28H15V24H14V28ZM16 27V26H12V27H16ZM16 38V27H12V38H16ZM18 40C16.8954 40 16 39.1046 16 38H12C12 41.3137 14.6863 44 18 44V40ZM38 40H18V44H38V40ZM40 38C40 39.1046 39.1046 40 38 40V44C41.3137 44 44 41.3137 44 38H40ZM40 27V38H44V27H40ZM40 26V27H44V26H40ZM41 28H42V24H41V28ZM30.8587 28H41V24H30.8587V28ZM14 28V38H18V28H14ZM40 26H16V30H40V26ZM42 38V28H38V38H42ZM38 42C40.2091 42 42 40.2091 42 38H38V42ZM18 42H38V38H18V42ZM14 38C14 40.2091 15.7909 42 18 42V38H18H14Z",fill:"black",fillOpacity:"0.9",mask:"url(#path-6-inside-1_1019679_55739)"}))}function ec(){return i.createElement("svg",{width:"56",height:"62",viewBox:"0 0 56 62",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i.createElement("rect",{x:"8",y:"11",width:"40",height:"40",rx:"8",fill:"#9747FF"}),i.createElement("path",{d:"M11.9511 6.09433L11.0454 5.67028L10.6214 6.57592L5.53284 17.4436L5.10879 18.3492L6.01443 18.7733L16.8821 23.8619L17.7878 24.2859L18.2118 23.3803L23.3004 12.5126L23.7244 11.6069L22.8188 11.1829L11.9511 6.09433Z",fill:"#9747FF",stroke:"#9747FF",strokeWidth:"2"}),i.createElement("path",{d:"M41.6394 27.5529C45.6396 29.4289 50.4033 27.7069 52.2793 23.7067C54.1553 19.7065 52.4334 14.9429 48.4331 13.0668C44.4329 11.1908 39.6693 12.9128 37.7933 16.913C35.9172 20.9132 37.6392 25.6769 41.6394 27.5529Z",fill:"#9747FF",stroke:"#9747FF",strokeWidth:"2"}),i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M22.3772 26.8504L25.8167 25.6621L27.3153 30H28.4369L30.6795 23.02L27.2399 24.2082L25.1602 18.1882L22.3772 26.8504Z",fill:"#9747FF"}),i.createElement("path",{d:"M15 30H41V41C41 42.6569 39.6569 44 38 44H18C16.3431 44 15 42.6569 15 41V30Z",stroke:"white",strokeWidth:"2"}),i.createElement("path",{d:"M37.3897 4.54299L36.5002 2.81185L35.6108 4.54299L34.2302 7.22997L31.5432 8.61054L29.8121 9.5L31.5432 10.3895L34.2302 11.77L35.6108 14.457L36.5002 16.1881L37.3897 14.457L38.7703 11.77L41.4573 10.3895L43.1884 9.5L41.4573 8.61054L38.7703 7.22997L37.3897 4.54299Z",fill:"white",stroke:"#9747FF",strokeWidth:"2"}),i.createElement("path",{d:"M32.5002 13L33.3488 14.6515L35.0002 15.5L33.3488 16.3485L32.5002 18L31.6517 16.3485L30.0002 15.5L31.6517 14.6515L32.5002 13Z",fill:"white"}),i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M19.7354 13.0517L12.4903 9.65937L9.09791 16.9045L16.343 20.2969L19.7354 13.0517ZM11.5271 7L6.43854 17.8677L17.3062 22.9562L22.3948 12.0886L11.5271 7Z",fill:"white"}),i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M42.9135 24.8368C45.4136 26.0093 48.3909 24.9331 49.5634 22.4329C50.7359 19.9328 49.6597 16.9555 47.1596 15.783C44.6594 14.6105 41.6822 15.6867 40.5096 18.1869C39.3371 20.687 40.4134 23.6643 42.9135 24.8368ZM42.0643 26.6475C45.5645 28.2891 49.7327 26.7823 51.3742 23.2821C53.0157 19.782 51.509 15.6138 48.0088 13.9723C44.5086 12.3307 40.3404 13.8375 38.6989 17.3376C37.0574 20.8378 38.5641 25.006 42.0643 26.6475Z",fill:"white"}),i.createElement("mask",{id:"path-10-inside-1_1_174",fill:"white"},i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M25.1598 18.1883L22.3767 26.8505L25.8163 25.6623L26.9693 29.0001H24.8534L24.5789 28.2057L23.0297 28.7409C22.3137 28.9883 21.5194 28.8098 20.9779 28.28C20.4365 27.7502 20.2408 26.96 20.4726 26.2387L23.2557 17.5766C23.519 16.757 24.2772 16.1978 25.138 16.1885C25.9988 16.1791 26.7691 16.7216 27.0502 17.5353L28.4768 21.6649L30.026 21.1297C30.742 20.8824 31.5363 21.0608 32.0778 21.5906C32.6192 22.1204 32.8149 22.9107 32.5832 23.6319L30.8584 29.0001H28.7577L30.679 23.0201L27.2395 24.2084L25.1598 18.1883Z"})),i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M25.1598 18.1883L22.3767 26.8505L25.8163 25.6623L26.9693 29.0001H24.8534L24.5789 28.2057L23.0297 28.7409C22.3137 28.9883 21.5194 28.8098 20.9779 28.28C20.4365 27.7502 20.2408 26.96 20.4726 26.2387L23.2557 17.5766C23.519 16.757 24.2772 16.1978 25.138 16.1885C25.9988 16.1791 26.7691 16.7216 27.0502 17.5353L28.4768 21.6649L30.026 21.1297C30.742 20.8824 31.5363 21.0608 32.0778 21.5906C32.6192 22.1204 32.8149 22.9107 32.5832 23.6319L30.8584 29.0001H28.7577L30.679 23.0201L27.2395 24.2084L25.1598 18.1883Z",fill:"white"}),i.createElement("path",{d:"M22.3767 26.8505L20.4726 26.2387L19.249 30.047L23.0297 28.7409L22.3767 26.8505ZM25.1598 18.1883L27.0502 17.5353L25.091 11.8642L23.2557 17.5766L25.1598 18.1883ZM25.8163 25.6623L27.7066 25.0092L27.0536 23.1189L25.1632 23.7719L25.8163 25.6623ZM26.9693 29.0001V31.0001H29.7763L28.8597 28.3471L26.9693 29.0001ZM24.8534 29.0001L22.963 29.6532L23.4283 31.0001H24.8534V29.0001ZM24.5789 28.2057L26.4693 27.5527L25.8163 25.6623L23.9259 26.3153L24.5789 28.2057ZM23.0297 28.7409L22.3767 26.8505L22.3767 26.8505L23.0297 28.7409ZM20.9779 28.28L22.3767 26.8505L22.3767 26.8505L20.9779 28.28ZM20.4726 26.2387L22.3767 26.8505L22.3767 26.8505L20.4726 26.2387ZM23.2557 17.5766L21.3515 16.9648L21.3515 16.9648L23.2557 17.5766ZM25.138 16.1885L25.1598 18.1883L25.138 16.1885ZM27.0502 17.5353L28.9405 16.8822L28.9405 16.8822L27.0502 17.5353ZM28.4768 21.6649L26.5864 22.318L27.2395 24.2084L29.1298 23.5553L28.4768 21.6649ZM30.026 21.1297L30.679 23.0201L30.679 23.0201L30.026 21.1297ZM32.0778 21.5906L30.679 23.0201L30.679 23.0201L32.0778 21.5906ZM32.5832 23.6319L34.4873 24.2437L34.4873 24.2437L32.5832 23.6319ZM30.8584 29.0001V31.0001H32.3165L32.7625 29.6119L30.8584 29.0001ZM28.7577 29.0001L26.8536 28.3883L26.0144 31.0001H28.7577V29.0001ZM30.679 23.0201L32.5832 23.6319L33.8067 19.8236L30.026 21.1297L30.679 23.0201ZM27.2395 24.2084L25.3491 24.8614L26.0021 26.7518L27.8925 26.0987L27.2395 24.2084ZM24.2808 27.4623L27.0639 18.8001L23.2557 17.5766L20.4726 26.2387L24.2808 27.4623ZM25.1632 23.7719L21.7236 24.9601L23.0297 28.7409L26.4693 27.5527L25.1632 23.7719ZM28.8597 28.3471L27.7066 25.0092L23.9259 26.3153L25.079 29.6532L28.8597 28.3471ZM24.8534 31.0001H26.9693V27.0001H24.8534V31.0001ZM26.7437 28.3471L26.4693 27.5527L22.6885 28.8588L22.963 29.6532L26.7437 28.3471ZM23.9259 26.3153L22.3767 26.8505L23.6828 30.6313L25.232 30.0961L23.9259 26.3153ZM22.3767 26.8505L22.3767 26.8505L19.5792 29.7095C20.6621 30.7692 22.2508 31.126 23.6828 30.6313L22.3767 26.8505ZM22.3767 26.8505L22.3767 26.8505L18.5684 25.6269C18.105 27.0694 18.4963 28.6499 19.5792 29.7095L22.3767 26.8505ZM22.3767 26.8505L25.1598 18.1883L21.3515 16.9648L18.5684 25.6269L22.3767 26.8505ZM25.1598 18.1883L25.1598 18.1883L25.1163 14.1886C23.3947 14.2073 21.8782 15.3256 21.3515 16.9648L25.1598 18.1883ZM25.1598 18.1883L25.1598 18.1883L28.9405 16.8822C28.3783 15.2549 26.8379 14.1699 25.1163 14.1886L25.1598 18.1883ZM25.1598 18.1883L26.5864 22.318L30.3672 21.0119L28.9405 16.8822L25.1598 18.1883ZM29.1298 23.5553L30.679 23.0201L29.3729 19.2394L27.8237 19.7746L29.1298 23.5553ZM30.679 23.0201L30.679 23.0201L33.4765 20.1611C32.3936 19.1015 30.805 18.7447 29.3729 19.2394L30.679 23.0201ZM30.679 23.0201L30.679 23.0201L34.4873 24.2437C34.9507 22.8012 34.5594 21.2207 33.4765 20.1611L30.679 23.0201ZM30.679 23.0201L28.9543 28.3883L32.7625 29.6119L34.4873 24.2437L30.679 23.0201ZM28.7577 31.0001H30.8584V27.0001H28.7577V31.0001ZM28.7749 22.4083L26.8536 28.3883L30.6618 29.6119L32.5832 23.6319L28.7749 22.4083ZM27.8925 26.0987L31.3321 24.9105L30.026 21.1297L26.5864 22.318L27.8925 26.0987ZM23.2694 18.8414L25.3491 24.8614L29.1298 23.5553L27.0502 17.5353L23.2694 18.8414Z",fill:"white",mask:"url(#path-10-inside-1_1_174)"}))}function ed(){return i.createElement("svg",{width:"56",height:"56",viewBox:"0 0 56 56",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i.createElement("rect",{x:"8",y:"8",width:"40",height:"40",rx:"8",fill:"white"}),i.createElement("mask",{id:"path-2-inside-1_1042350_178059",fill:"white"},i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M33.3576 13.6424L32 11L30.6424 13.6424L28 15L30.6424 16.3576L32 19L33.3576 16.3576L36 15L33.3576 13.6424ZM39.1682 26H41H42V27V38C42 40.2091 40.2091 42 38 42H18C15.7909 42 14 40.2091 14 38V27V26H15H28.1837C28.2225 25.3193 28.3893 24.6345 28.6965 23.9794C29.9863 21.2293 33.2613 20.0454 36.0114 21.3352C37.9039 22.2227 39.0547 24.0503 39.1682 26ZM37.1625 26C37.0532 24.8026 36.3294 23.6933 35.1622 23.146C33.4121 22.3252 31.3281 23.0786 30.5073 24.8287C30.329 25.2088 30.225 25.6047 30.1893 26H37.1625ZM25.8981 19.4218L22.4218 15.828L18.828 19.3044L22.3044 22.8981L25.8981 19.4218ZM23.8593 14.4375L22.4688 13L21.0312 14.3905L17.4375 17.8669L16 19.2574L17.3905 20.6949L20.8669 24.2887L22.2574 25.7262L23.6949 24.3356L27.2887 20.8593L28.7262 19.4688L27.3356 18.0313L23.8593 14.4375ZM16 38V28H40V38C40 39.1046 39.1046 40 38 40H18C16.8954 40 16 39.1046 16 38Z"})),i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M33.3576 13.6424L32 11L30.6424 13.6424L28 15L30.6424 16.3576L32 19L33.3576 16.3576L36 15L33.3576 13.6424ZM39.1682 26H41H42V27V38C42 40.2091 40.2091 42 38 42H18C15.7909 42 14 40.2091 14 38V27V26H15H28.1837C28.2225 25.3193 28.3893 24.6345 28.6965 23.9794C29.9863 21.2293 33.2613 20.0454 36.0114 21.3352C37.9039 22.2227 39.0547 24.0503 39.1682 26ZM37.1625 26C37.0532 24.8026 36.3294 23.6933 35.1622 23.146C33.4121 22.3252 31.3281 23.0786 30.5073 24.8287C30.329 25.2088 30.225 25.6047 30.1893 26H37.1625ZM25.8981 19.4218L22.4218 15.828L18.828 19.3044L22.3044 22.8981L25.8981 19.4218ZM23.8593 14.4375L22.4688 13L21.0312 14.3905L17.4375 17.8669L16 19.2574L17.3905 20.6949L20.8669 24.2887L22.2574 25.7262L23.6949 24.3356L27.2887 20.8593L28.7262 19.4688L27.3356 18.0313L23.8593 14.4375ZM16 38V28H40V38C40 39.1046 39.1046 40 38 40H18C16.8954 40 16 39.1046 16 38Z",fill:"black",fillOpacity:"0.9"}),i.createElement("path",{d:"M32 11L33.7789 10.086L32 6.6237L30.2211 10.086L32 11ZM33.3576 13.6424L31.5787 14.5564L31.8723 15.1277L32.4436 15.4213L33.3576 13.6424ZM30.6424 13.6424L31.5564 15.4213L32.1277 15.1277L32.4213 14.5564L30.6424 13.6424ZM28 15L27.086 13.2211L23.6237 15L27.086 16.7789L28 15ZM30.6424 16.3576L32.4213 15.4436L32.1277 14.8723L31.5564 14.5787L30.6424 16.3576ZM32 19L30.2211 19.914L32 23.3763L33.7789 19.914L32 19ZM33.3576 16.3576L32.4436 14.5787L31.8723 14.8723L31.5787 15.4436L33.3576 16.3576ZM36 15L36.914 16.7789L40.3763 15L36.914 13.2211L36 15ZM39.1682 26L37.1715 26.1162L37.2812 28H39.1682V26ZM42 26H44V24H42V26ZM14 26V24H12V26H14ZM28.1837 26V28H30.0729L30.1804 26.1138L28.1837 26ZM28.6965 23.9794L26.8858 23.1302L28.6965 23.9794ZM36.0114 21.3352L35.1622 23.146L36.0114 21.3352ZM37.1625 26V28H39.3533L39.1542 25.8183L37.1625 26ZM35.1622 23.146L34.313 24.9567V24.9567L35.1622 23.146ZM30.5073 24.8287L28.6965 23.9794L28.6965 23.9794L30.5073 24.8287ZM30.1893 26L28.1974 25.8203L28.0008 28H30.1893V26ZM22.4218 15.828L23.8593 14.4375L22.4688 13L21.0312 14.3905L22.4218 15.828ZM25.8981 19.4218L27.2887 20.8593L28.7262 19.4688L27.3356 18.0313L25.8981 19.4218ZM18.828 19.3044L17.4375 17.8669L16 19.2574L17.3905 20.6949L18.828 19.3044ZM22.3044 22.8981L20.8669 24.2887L22.2574 25.7262L23.6949 24.3356L22.3044 22.8981ZM22.4688 13L23.9063 11.6095L22.5157 10.172L21.0782 11.5625L22.4688 13ZM23.8593 14.4375L22.4218 15.828L22.4218 15.828L23.8593 14.4375ZM21.0312 14.3905L19.6407 12.953V12.953L21.0312 14.3905ZM17.4375 17.8669L16.047 16.4294L17.4375 17.8669ZM16 19.2574L14.6095 17.8199L13.172 19.2104L14.5625 20.6479L16 19.2574ZM17.3905 20.6949L18.828 19.3044V19.3044L17.3905 20.6949ZM20.8669 24.2887L22.3044 22.8981H22.3044L20.8669 24.2887ZM22.2574 25.7262L20.8199 27.1167L22.2104 28.5542L23.6479 27.1637L22.2574 25.7262ZM23.6949 24.3356L22.3044 22.8981V22.8981L23.6949 24.3356ZM27.2887 20.8593L28.6792 22.2968V22.2968L27.2887 20.8593ZM28.7262 19.4688L30.1167 20.9063L31.5542 19.5157L30.1637 18.0782L28.7262 19.4688ZM27.3356 18.0313L28.7731 16.6407L28.7731 16.6407L27.3356 18.0313ZM16 28V26H14V28H16ZM40 28H42V26H40V28ZM30.2211 11.914L31.5787 14.5564L35.1366 12.7283L33.7789 10.086L30.2211 11.914ZM32.4213 14.5564L33.7789 11.914L30.2211 10.086L28.8634 12.7283L32.4213 14.5564ZM28.914 16.7789L31.5564 15.4213L29.7283 11.8634L27.086 13.2211L28.914 16.7789ZM31.5564 14.5787L28.914 13.2211L27.086 16.7789L29.7283 18.1366L31.5564 14.5787ZM33.7789 18.086L32.4213 15.4436L28.8634 17.2717L30.2211 19.914L33.7789 18.086ZM31.5787 15.4436L30.2211 18.086L33.7789 19.914L35.1366 17.2717L31.5787 15.4436ZM35.086 13.2211L32.4436 14.5787L34.2717 18.1366L36.914 16.7789L35.086 13.2211ZM32.4436 15.4213L35.086 16.7789L36.914 13.2211L34.2717 11.8634L32.4436 15.4213ZM39.1682 28H41V24H39.1682V28ZM41 28H42V24H41V28ZM40 26V27H44V26H40ZM40 27V38H44V27H40ZM40 38C40 39.1046 39.1046 40 38 40V44C41.3137 44 44 41.3137 44 38H40ZM38 40H18V44H38V40ZM18 40C16.8954 40 16 39.1046 16 38H12C12 41.3137 14.6863 44 18 44V40ZM16 38V27H12V38H16ZM16 27V26H12V27H16ZM14 28H15V24H14V28ZM15 28H28.1837V24H15V28ZM30.1804 26.1138C30.2049 25.6836 30.3102 25.2488 30.5073 24.8287L26.8858 23.1302C26.4684 24.0201 26.24 24.955 26.1869 25.8862L30.1804 26.1138ZM30.5073 24.8287C31.3281 23.0786 33.4121 22.3252 35.1622 23.146L36.8607 19.5244C33.1105 17.7657 28.6446 19.38 26.8858 23.1302L30.5073 24.8287ZM35.1622 23.146C36.3641 23.7096 37.099 24.8697 37.1715 26.1162L41.1648 25.8838C41.0104 23.2309 39.4437 20.7359 36.8607 19.5244L35.1622 23.146ZM39.1542 25.8183C38.9831 23.9427 37.8478 22.1964 36.0114 21.3352L34.313 24.9567C34.811 25.1903 35.1234 25.6625 35.1708 26.1817L39.1542 25.8183ZM36.0114 21.3352C33.2613 20.0454 29.9863 21.2293 28.6965 23.9794L32.318 25.6779C32.6698 24.9278 33.563 24.605 34.313 24.9567L36.0114 21.3352ZM28.6965 23.9794C28.4179 24.5735 28.2537 25.1964 28.1974 25.8203L32.1812 26.1797C32.1963 26.013 32.2401 25.8441 32.318 25.6779L28.6965 23.9794ZM30.1893 28H37.1625V24H30.1893V28ZM20.9843 17.2186L24.4606 20.8123L27.3356 18.0313L23.8593 14.4375L20.9843 17.2186ZM20.2186 20.7419L23.8123 17.2655L21.0312 14.3905L17.4375 17.8669L20.2186 20.7419ZM23.7419 21.5076L20.2655 17.9138L17.3905 20.6949L20.8669 24.2887L23.7419 21.5076ZM24.5076 17.9843L20.9138 21.4606L23.6949 24.3356L27.2887 20.8593L24.5076 17.9843ZM21.0312 14.3905L22.4218 15.828L25.2968 13.047L23.9063 11.6095L21.0312 14.3905ZM22.4218 15.828L23.8593 14.4375L21.0782 11.5625L19.6407 12.953L22.4218 15.828ZM18.828 19.3044L22.4218 15.828L19.6407 12.953L16.047 16.4294L18.828 19.3044ZM17.3905 20.6949L18.828 19.3044L16.047 16.4294L14.6095 17.8199L17.3905 20.6949ZM18.828 19.3044L17.4375 17.8669L14.5625 20.6479L15.953 22.0854L18.828 19.3044ZM22.3044 22.8981L18.828 19.3044L15.953 22.0854L19.4294 25.6792L22.3044 22.8981ZM23.6949 24.3356L22.3044 22.8981L19.4294 25.6792L20.8199 27.1167L23.6949 24.3356ZM22.3044 22.8981L20.8669 24.2887L23.6479 27.1637L25.0854 25.7731L22.3044 22.8981ZM25.8981 19.4218L22.3044 22.8981L25.0854 25.7731L28.6792 22.2968L25.8981 19.4218ZM27.3356 18.0313L25.8981 19.4218L28.6792 22.2968L30.1167 20.9063L27.3356 18.0313ZM25.8981 19.4218L27.2887 20.8593L30.1637 18.0782L28.7731 16.6407L25.8981 19.4218ZM22.4218 15.828L25.8981 19.4218L28.7731 16.6407L25.2968 13.047L22.4218 15.828ZM14 28V38H18V28H14ZM40 26H16V30H40V26ZM42 38V28H38V38H42ZM38 42C40.2091 42 42 40.2091 42 38H38V42ZM18 42H38V38H18V42ZM14 38C14 40.2091 15.7909 42 18 42V38H18H14Z",fill:"black",fillOpacity:"0.9",mask:"url(#path-2-inside-1_1042350_178059)"}))}function eu(){return i.createElement("svg",{width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i.createElement("rect",{width:"40",height:"40",rx:"8",fill:"white"}),i.createElement("rect",{x:"0.5",y:"0.5",width:"39",height:"39",rx:"7.5",stroke:"black",strokeOpacity:"0.2"}),i.createElement("path",{d:"M7 18V30C7 31.6569 8.34315 33 10 33H30C31.6569 33 33 31.6569 33 30V10C33 8.34315 31.6569 7 30 7H26",stroke:"black",strokeOpacity:"0.9",strokeWidth:"2",strokeLinecap:"square"}),i.createElement("rect",{x:"7",y:"7",width:"14",height:"6",rx:"1",stroke:"black",strokeOpacity:"0.9",strokeWidth:"2"}))}function ep(){return i.createElement("svg",{width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i.createElement("rect",{width:"40",height:"40",rx:"8",fill:"#F5F5F5"}),i.createElement("rect",{x:"0.5",y:"0.5",width:"39",height:"39",rx:"7.5",stroke:"black",strokeOpacity:"0.2"}),i.createElement("path",{d:"M7 18V30C7 31.6569 8.34315 33 10 33H30C31.6569 33 33 31.6569 33 30V10C33 8.34315 31.6569 7 30 7H26",stroke:"black",strokeOpacity:"0.9",strokeWidth:"2",strokeLinecap:"square"}),i.createElement("rect",{x:"7",y:"7",width:"14",height:"6",rx:"1",stroke:"black",strokeOpacity:"0.9",strokeWidth:"2"}))}function em(){return i.createElement("svg",{width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i.createElement("rect",{width:"40",height:"40",rx:"8",fill:"#9747FF"}),i.createElement("path",{d:"M7 18V30C7 31.6569 8.34315 33 10 33H30C31.6569 33 33 31.6569 33 30V10C33 8.34315 31.6569 7 30 7H26",stroke:"white",strokeWidth:"2",strokeLinecap:"square"}),i.createElement("rect",{x:"7",y:"7",width:"14",height:"6",rx:"1",stroke:"white",strokeWidth:"2"}))}function e_(){return i.createElement("svg",{width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i.createElement("rect",{width:"40",height:"40",rx:"8",fill:"white"}),i.createElement("path",{d:"M7 18V30C7 31.6569 8.34315 33 10 33H30C31.6569 33 33 31.6569 33 30V10C33 8.34315 31.6569 7 30 7H26",stroke:"black",strokeOpacity:"0.9",strokeWidth:"2",strokeLinecap:"square"}),i.createElement("rect",{x:"7",y:"7",width:"14",height:"6",rx:"1",stroke:"black",strokeOpacity:"0.9",strokeWidth:"2"}))}function eh(){return i.createElement("svg",{width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i.createElement("rect",{width:"40",height:"40",rx:"8",fill:"white"}),i.createElement("rect",{x:"0.5",y:"0.5",width:"39",height:"39",rx:"7.5",stroke:"black",strokeOpacity:"0.2"}),i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10 6C7.79086 6 6 7.79086 6 10V30C6 32.2091 7.79086 34 10 34H30C32.2091 34 34 32.2091 34 30V10C34 7.79086 32.2091 6 30 6H10ZM8 10C8 8.89543 8.89543 8 10 8H14V15H8V10ZM14 17H8V23H14V17ZM16 23V17H32V23H16ZM14 25H8V30C8 31.1046 8.89543 32 10 32H14V25ZM16 32V25H32V30C32 31.1046 31.1046 32 30 32H16ZM16 15V8H30C31.1046 8 32 8.89543 32 10V15H16Z",fill:"black",fillOpacity:"0.9"}))}function eg(){return i.createElement("svg",{width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i.createElement("rect",{width:"40",height:"40",rx:"8",fill:"#F5F5F5"}),i.createElement("rect",{x:"0.5",y:"0.5",width:"39",height:"39",rx:"7.5",stroke:"black",strokeOpacity:"0.2"}),i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10 6C7.79086 6 6 7.79086 6 10V30C6 32.2091 7.79086 34 10 34H30C32.2091 34 34 32.2091 34 30V10C34 7.79086 32.2091 6 30 6H10ZM8 10C8 8.89543 8.89543 8 10 8H14V15H8V10ZM14 17H8V23H14V17ZM16 23V17H32V23H16ZM14 25H8V30C8 31.1046 8.89543 32 10 32H14V25ZM16 32V25H32V30C32 31.1046 31.1046 32 30 32H16ZM16 15V8H30C31.1046 8 32 8.89543 32 10V15H16Z",fill:"black",fillOpacity:"0.9"}))}function ef(){return i.createElement("svg",{width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i.createElement("rect",{width:"40",height:"40",rx:"8",fill:"#9747FF"}),i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10 6C7.79086 6 6 7.79086 6 10V30C6 32.2091 7.79086 34 10 34H30C32.2091 34 34 32.2091 34 30V10C34 7.79086 32.2091 6 30 6H10ZM8 10C8 8.89543 8.89543 8 10 8H14V15H8V10ZM14 17H8V23H14V17ZM16 23V17H32V23H16ZM14 25H8V30C8 31.1046 8.89543 32 10 32H14V25ZM16 32V25H32V30C32 31.1046 31.1046 32 30 32H16ZM16 15V8H30C31.1046 8 32 8.89543 32 10V15H16Z",fill:"white"}))}function eE({size:e=56,fill:t="black"}={}){return i.createElement("svg",{width:e,height:e,viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i.createElement("rect",{width:"40",height:"40",rx:"8",fill:"white"}),i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10 6C7.79086 6 6 7.79086 6 10V30C6 32.2091 7.79086 34 10 34H30C32.2091 34 34 32.2091 34 30V10C34 7.79086 32.2091 6 30 6H10ZM8 10C8 8.89543 8.89543 8 10 8H14V15H8V10ZM14 17H8V23H14V17ZM16 23V17H32V23H16ZM14 25H8V30C8 31.1046 8.89543 32 10 32H14V25ZM16 32V25H32V30C32 31.1046 31.1046 32 30 32H16ZM16 15V8H30C31.1046 8 32 8.89543 32 10V15H16Z",fill:t,fillOpacity:"0.9"}))}function ey(){return i.createElement("svg",{width:"56",height:"56",viewBox:"0 0 56 56",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i.createElement("rect",{x:"8",y:"8",width:"40",height:"40",rx:"8",fill:"white"}),i.createElement("rect",{x:"8.5",y:"8.5",width:"39",height:"39",rx:"7.5",stroke:"black",strokeOpacity:"0.2"}),i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M27 27V19H29V27H37V29H29V37H27V29H19V27H27Z",fill:"black",fillOpacity:"0.9"}))}function eb(){return i.createElement("svg",{width:"56",height:"56",viewBox:"0 0 56 56",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i.createElement("rect",{x:"8",y:"8",width:"40",height:"40",rx:"8",fill:"#F5F5F5"}),i.createElement("rect",{x:"8.5",y:"8.5",width:"39",height:"39",rx:"7.5",stroke:"black",strokeOpacity:"0.2"}),i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M27 27V19H29V27H37V29H29V37H27V29H19V27H27Z",fill:"black",fillOpacity:"0.9"}))}function ev(){return i.createElement("svg",{width:"56",height:"56",viewBox:"0 0 56 56",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i.createElement("rect",{x:"8",y:"8",width:"40",height:"40",rx:"8",fill:"#9747FF"}),i.createElement("rect",{width:"32",height:"32",transform:"translate(12 12)",fill:"#9747FF"}),i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M27 27V19H29V27H37V29H29V37H27V29H19V27H27Z",fill:"white"}))}},107768:(e,t,r)=>{"use strict";r.d(t,{Q$:()=>s,It:()=>d,IT:()=>c});var n=r(307824),i=r(125504),a=r.n(i),o=r(570464),l=r(537096);let s="dlt_banner_shortcut_button",c=(0,n.memo)((0,n.forwardRef)(function(e,t){let{shortcut:r,onClick:i,isActive:l,recordingKey:s,dataElementTarget:c,isPressed:d}=e,u=(0,o.S4)((0,o.Mx)("dltBannerShortcutButton",s),"click",i),p=a()("dlt_banner_inline_elements--shortcutButton--LOMMi",{"dlt_banner_inline_elements--active--zWunk":l,"dlt_banner_inline_elements--pressed--36odr":d});return n.createElement("button",{ref:t,className:p,onClick:u,"data-element-target":c},r)}));function d({icon:e}){return n.createElement("div",{className:"dlt_banner_inline_elements--iconInline--0YsSs"},n.createElement(l.A,{svg:e}))}},759920:(e,t,r)=>{"use strict";r.d(t,{Af:()=>u,S0:()=>d,_0:()=>p,_I:()=>c,gv:()=>m});var n=r(307824),i=r(120304),a=r(180976),o=r(762820),l=r(59508),s=r(107768);let c="dlt-banner-chat-shortcut",d="dlt-banner-emote-shortcut",u=(0,n.memo)(function(e){let t=(0,i.w1)(e=>e.mirror.appModel.currentTool===o.w3X.COMMENTS),r=(0,n.useCallback)(()=>{t?o.i46.triggerActionInUserEditScope("set-tool-default",{source:s.Q$}):o.i46.triggerActionInUserEditScope("set-tool-comments",{source:s.Q$})},[t]);return n.createElement(s.IT,{shortcut:"C",onClick:r,isActive:t,recordingKey:"comment",isPressed:e.isPressed})}),p=(0,n.memo)(function(e){let t=(0,a.Et)(),r=(0,i.w1)(e=>"REACTING_OR_CHATTING"===e.multiplayerEmoji.type&&e.multiplayerEmoji.isChatting),o=(0,n.useCallback)(e=>{if(r){l.ae.closeWheel();return}let n=e.clientY-t;l.ae.startChat(e.clientX,n,s.Q$)},[r,t]);return n.createElement(s.IT,{shortcut:"/",onClick:o,isActive:r,recordingKey:"cursorChat",dataElementTarget:c,isPressed:e.isPressed})}),m=(0,n.memo)(function(e){let t=(0,n.useRef)(null),r=(0,i.w1)(e=>{let t="WHEEL"===e.multiplayerEmoji.type,r="REACTING_OR_CHATTING"===e.multiplayerEmoji.type&&!!e.multiplayerEmoji.imageUrl;return t||r}),a=(0,n.useCallback)(()=>{var e;if(r){l.ae.closeWheel();return}let n=(null==(e=t.current)?void 0:e.getBoundingClientRect())??{x:0,y:0},i=n.x+100,a=n.y-200;l.ae.handleShortcutPressWithType({viewportX:i,viewportY:a,source:s.Q$,wheelType:"REACTION"}),l.ae.handleShortcutRelease(i,a)},[r]);return n.createElement(s.IT,{ref:t,shortcut:"E",onClick:a,isActive:r,recordingKey:"emote",dataElementTarget:d,isPressed:e.isPressed})})},842872:(e,t,r)=>{"use strict";r.d(t,{C_:()=>_,GW:()=>y,JQ:()=>w,Sg:()=>f,UX:()=>h,YL:()=>I,Yx:()=>E,_s:()=>u,c1:()=>C,gr:()=>g,iG:()=>A,kH:()=>b,kj:()=>O,m4:()=>m,mu:()=>v,oi:()=>p,sj:()=>S,y6:()=>T});var n=r(307824),i=r(120304),a=r(125504),o=r.n(a),l=r(570464),s=r(997108),c=r(540696),d=r(674976);let u=1500,p="delightful-toolbar",m="delightful_toolbar",_="delightful-toolbar-submenu",h="dlt-portal-target-centered",g="mindmaps_onboarding",f="shapes",E="connectors";function y(e){return l.Mx("delightfulToolbar",e)}function b(e){return"ELBOWED"===e?"set-tool-connector-elbowed":"set-tool-connector-straight"}let v=3,I=8,w=24,T=40;function S(e){return(0,c.Er)(e)?e:e===I||e===T?"THICK":"THIN"}function C({className:e}){return n.createElement("div",{className:o()(d.A$,e)})}function A({children:e}){return n.createElement("div",{className:d._r},e)}function O(){let e=(0,i.w1)(e=>e.isMakeSomethingV2Active),t=(0,s.ug)();return e&&!t}},664964:(e,t,r)=>{"use strict";r.d(t,{AT:()=>c,Gm:()=>u,Gu:()=>d,IZ:()=>s,KO:()=>o,o7:()=>l});var n=r(26708),i=r(762820),a=r(489308);let o=[{type:"SOLID",color:(0,a.yq)(i.iiI.BLACK,"base")}],l=3,s=[{type:"SOLID",color:(0,a.yq)(i.iiI.HIGHLIGHT_YELLOW,"highlight")}],c=(0,a.yq)(i.iiI.STICKY_GRAY_LIGHT,"sticky"),d=n.Q.parse((0,a.EN)(i.iiI.VIOLET_LIGHT)),u=(0,a.yq)(i.iiI.GRAY,"baseLight")},676844:(e,t,r)=>{"use strict";let n;r.d(t,{I5:()=>a,K6:()=>o,ML:()=>s,uU:()=>l});var i=r(307824),a=((n=a||{}).ClickOut="clickOut",n.KeyboardEsc="keyboardEsc",n.ToolSelected="toolSelected",n.ChevronClicked="chevronClicked",n.PropertyChanged="propertyChanged",n.CloseButton="closeButton",n.ClickDemotedDlt="clickDemotedDlt",n);function o(e,t){switch(t.type){case"start click":return{...e,shouldFinishClick:!0};case"start drag":return{...e,draggedTool:t.tool};case"end drag":return{...e,draggedTool:void 0};case"toggle drag cancellable":return{...e,draggedToolCanCancel:!e.draggedToolCanCancel};case"cancel drag":return{...e,draggedTool:void 0,shouldFinishClick:!1};case"open submenu":return{...e,submenu:{tool:t.submenu,shouldCloseOnClickOut:!!t.shouldCloseOnClickOut},shouldDemoteDlt:!1};case"close submenu":if(!e.submenu.tool||!e.submenu.shouldCloseOnClickOut&&"clickOut"===t.source)return e;return{...e,submenu:l.submenu,shouldDemoteDlt:!1};case"demote dlt":return{...e,shouldDemoteDlt:!0};case"end insert":return{...e,shouldFinishClick:!1};default:return e}}let l={draggedTool:void 0,submenu:{tool:void 0,shouldCloseOnClickOut:!0},draggedToolCanCancel:!0,shouldFinishClick:!0,shouldDemoteDlt:!1},s=i.createContext({state:l,dispatch:()=>null})},416044:(e,t,r)=>{"use strict";r.d(t,{Cd:()=>E,Gq:()=>w,Hv:()=>S,IX:()=>T,Oq:()=>g,QF:()=>h,cm:()=>v,iq:()=>f,wt:()=>y});var n=r(307824),i=r(120304),a=r(888932),o=r(191352),l=r(879748),s=r(423944),c=r(355589),d=r(397888),u=r(123240),p=r(848688),m=r(676844),_=r(100648);function h(){let e=(0,d._o)(),t=(0,o.yI)(),r=(0,p.cH)(),n=(0,i.w1)(e=>!!e.user);return!e&&t&&r&&!a.cp.isIpadNative&&n}function g(){let e=(0,d._o)(),t=(0,o.yI)(),r=(0,c.K)(),n=(0,i.w1)(e=>!!e.user);return!e&&t&&r&&!a.cp.isIpadNative&&n}function f(){let e=(0,i.w1)(e=>{var t;return null==(t=e.mirror)?void 0:t.appModel.showUi}),t=(0,o.yI)(),r=(0,i.w1)(e=>{var t;return null==(t=e.mirror)?void 0:t.appModel.isReadOnly}),n=h(),a=g();return t&&e&&(!r||n||a)}function E(){let e=f(),t=v(),r=t&&t.right?t.right:null;return n.useMemo(()=>e&&"number"==typeof r?window.innerWidth-r:0,[r,e])}function y(){let e=I();return{bottom:e&&e.top?window.innerHeight-e.top:null,right:e&&e.right?window.innerWidth-e.right:null}}function b(e){let t=f(),[r,i]=(0,n.useState)(null);return(0,n.useLayoutEffect)(()=>{if(!e)return;let t=new ResizeObserver(t=>{for(let r of t)e===r.target&&i(e.getBoundingClientRect())});return i(e.getBoundingClientRect()),t.observe(e),()=>t.disconnect()},[e,i]),(0,n.useLayoutEffect)(()=>{if(!e)return;let t=()=>{i(e.getBoundingClientRect())};return window.addEventListener("resize",t),()=>{window.removeEventListener("resize",t)}},[e]),t&&r}let v=()=>{var e;return b(null==(e=(0,u.O)())?void 0:e.dltNode)},I=()=>{var e;return b(null==(e=(0,u.O)())?void 0:e.dltContainerNode)};function w(e={}){let{isEnabledForViewers:t}=e,r=(0,d._o)(),n=(0,p.cH)(),i=(0,c.K)();return r||n&&!t||i&&!t}function T(){let e=(0,s.Qv)(),t=(0,l.gJ)(),r=(0,p.cH)();return!!e&&t&&r}function S(){let{state:e}=n.useContext(m.ML),t=e.submenu.tool,r=(0,_.u$)();return!!t||r}},284396:(e,t,r)=>{"use strict";r.d(t,{Ko:()=>p,Ow:()=>u,cy:()=>d});var n=r(307824),i=r(142548),a=r(629688),o=r(842872),l=r(481824),s=r(427560),c=r(674976);let d="action_open_universal_insert_modal",u="delightful-toolbar-universal-insert";function p({isSelected:e,onClick:t}){return n.createElement("div",{"data-element-target":"delightful-toolbar-universal-insert-button",className:c.C6},n.createElement(s.YD,{toolType:"universal-insert",recordingKey:(0,o.GW)("universal-insert"),isSelected:e,className:c.Y5,onClick:t,"data-tooltip-type":i.wL.LOOKUP,"data-tooltip":"browse-all-resources-dlt",hasOpenSubmenu:e,onboardingKey:u},t=>n.createElement(l.Ar,{toolType:"universal-insert",inactiveIcon:n.createElement(a.iM,null),hoveredIcon:n.createElement(a.G,null),activeIcon:n.createElement(a.i,null),isSelected:e,isHovered:t})))}},685332:(e,t,r)=>{"use strict";r.d(t,{Q5:()=>V,U9:()=>Y,wZ:()=>F});var n=r(307824),i=r(120304),a=r(125504),o=r.n(a),l=r(372152),s=r(550444),c=r(698240),d=r(778524),u=r(143152),p=r(110296),m=r(750908),_=r(90340),h=r(432380),g=r(762820),f=r(43716),E=r(572748),y=r(251596),b=r(39676),v=r(793944),I=r(142548),w=r(287164),T=r(72708),S=r(629688),C=r(842872),A=r(423368),O=r(284396),N=r(282268),L=r(614740),R=r(427560),P=r(136524),M=r(481824),k=r(674976),D=r(373240);let F="delightful-toolbar-universal-insert-button-icon",x=[{src:"https://static.figma.com/uploads/9cd2eb2ff31cb221dce81ca1e67aa51e12b24166",zIndex:0,width:50,height:50,translateStart:{x:42,y:36},rotateStart:-15,translateEnd:{x:42,y:36},rotateEnd:-15},{src:"https://static.figma.com/uploads/276fdbb8f6edbcb958f84235ebfc58b63eab0fc2",zIndex:1,width:50,height:50,translateStart:{x:95,y:36},rotateStart:15,translateEnd:{x:95,y:36},rotateEnd:15},{src:"https://static.figma.com/uploads/94db9cf93e2a26f927d5f1a7f066f8b045985011",zIndex:2,width:50,height:50,translateStart:{x:42,y:66},rotateStart:-10,translateEnd:{x:42,y:66},rotateEnd:-10},{src:"https://static.figma.com/uploads/004b50b1460d47029608e9aaa66c09c1c94c6741",zIndex:3,width:50,height:50,translateStart:{x:95,y:66},rotateStart:10,translateEnd:{x:95,y:66},rotateEnd:10}];function U({recentItems:e,toolbarIconScale:t,isModalOpen:r}){let i=(0,A.WU)(e);return n.createElement("div",{className:o()(k.AV,k.oD,D.GU),style:{width:112*t}},x.map((e,a)=>{var o,l;let s=i[a];return n.createElement(G,{key:(null==s?void 0:s.id)||e.src,zIndex:5+e.zIndex,width:e.width*t,height:e.height*t,isModalOpen:r,transform:(o={x:e.translateStart.x*t,y:e.translateStart.y*t},l=e.rotateStart,`translate(calc(-50% + ${o.x}px), calc(-50% + ${o.y}px)) rotate(${l}deg)`)},s?n.createElement(N.i,{item:s,width:e.width*t,height:e.height*t,disableTooltips:!0}):n.createElement("img",{src:e.src,alt:"",className:D.U7}))}))}function B({onClick:e,isSelected:t,isHovered:r}){return n.createElement("div",{className:c.cx.flex.itemsCenter.justifyCenter.mx20.h40.w40.$},n.createElement(R.YD,{toolType:"universal-insert-collage",recordingKey:(0,C.GW)("universal-insert-plus"),isSelected:t,hasOpenSubmenu:!1,onClick:e,"data-tooltip-type":I.wL.LOOKUP,"data-tooltip":"browse-all-resources-dlt","data-tooltip-offset-y":-2},n.createElement(M.Ar,{toolType:"universal-insert-collage",inactiveIcon:n.createElement(S.wp,null),hoveredIcon:n.createElement(S.Ws,null),activeIcon:n.createElement(S.wD,null),isSelected:t,isHovered:r})))}function G({zIndex:e,width:t,height:r,transform:i,isModalOpen:a,children:l}){return n.createElement("div",{className:o()(D.yW,{[D.k$]:a}),style:{zIndex:e,width:t,height:r,transform:i}},n.createElement("div",{className:D.K6},l))}function V(e,t){let[r,i]=(0,n.useState)(!1),a=(0,n.useRef)(!1),o=(0,n.useRef)([]);return o.current=t,(0,n.useEffect)(()=>{e||a.current||(a.current=!0,async function(){let e=[];for(let t of o.current)t&&e.push(new Promise(e=>{let r=new Image;r.src=t,r.addEventListener("load",()=>e()),r.addEventListener("error",()=>e())}));await Promise.all(e),i(!0)}())},[e]),r}function H(e,t){let r=(0,i.OY)();return(0,n.useCallback)(()=>{(0,d.Y9)({id:"figjam-saves"}),e?(r(m.kv()),g.i46.triggerActionInUserEditScope("set-tool-default",{source:C.m4})):(g.i46.triggerActionInUserEditScope("clear-tool",{source:C.m4}),r(p.WS()),r(m.KE({initialX:0,initialY:0,initialTab:(null==t?void 0:t.stage)!=="FULL"?T.i.MORE:T.i.ALL})),(0,_.a2)({source:C.m4},"action_open_universal_insert_collage_modal"))},[e,t,r])}function W({toolbarIconScale:e}){let t=(0,y.sX)(),[r,a]=(0,n.useState)(!1),o=(0,i.OY)(),s=(0,A.iM)(),c=(0,l.m4)(P.C),d=(0,f.wj)(),p=(0,E.Ce)(),m=(0,i.w1)(e=>e.universalInsertModal.showing),_=(0,h.ak)(),g=H(m,c);(0,n.useEffect)(()=>{o(w.Sy.fetchTemplatesMetadata({key:v.Sy.FigJam,orgId:null==p?void 0:p.id})),o(w.Sy.fetchWidgetsMetadata({key:v.Sy.FigJam})),a(!0)},[o,null==p?void 0:p.id]);let I=(0,b.y_)(u.mA),T=(0,b.y_)(w.Sy.fetchTemplatesMetadata.loadingKeyForPayload({key:v.Sy.FigJam})),S=(0,b.y_)(w.Sy.fetchWidgetsMetadata.loadingKeyForPayload({key:v.Sy.FigJam})),M=V(!r||I||T||S,s.map(e=>(0,N.y)(e,_,t??void 0)))?s.map(e=>e.id||"").sort((e,t)=>e.localeCompare(t)).join(""):"loading",x=d&&(null==c?void 0:c.stage)==="MINIMIZED_ZERO"||(null==c?void 0:c.stage)==="MINIMIZED"||(null==c?void 0:c.stage)==="CUT_OFF";return n.createElement(L._c,{alignment:"CENTER"},n.createElement(R.YD,{toolType:"universal-insert-collage",recordingKey:(0,C.GW)("universal-insert-collage"),isSelected:m,className:k.kv,onClick:g,ariaLabel:"browse-all-resources-dlt",onboardingKey:O.Ow,"data-does-not-dismiss-modal":!0,hasOpenSubmenu:m},t=>n.createElement(L.mg,{isSelected:t,noScaleAnimation:!0,isRightEdge:!0},n.createElement("div",{className:D.wt,"data-onboarding-key":"figjam-saves","data-element-target":F,"data-cancel-insertable-resource-drag-and-drop":!0},!x&&n.createElement(U,{key:M,recentItems:s,toolbarIconScale:e,isModalOpen:m}),n.createElement(B,{onClick:g,isSelected:m,isHovered:t})))))}function K(){let e=(0,i.w1)(e=>e.universalInsertModal.showing),t=H(e);return n.createElement(L._c,{alignment:"CENTER"},n.createElement("div",{"data-element-target":F,className:D.mI},n.createElement(O.Ko,{isSelected:e,onClick:t})))}let Y=(0,n.memo)(function({toolbarIconScale:e}){return n.createElement(s.Ou,{fallback:n.createElement(K,null),boundaryKey:"UniversalInsertCollage"},n.createElement(W,{toolbarIconScale:e}))})},923560:(e,t,r)=>{"use strict";r.d(t,{c:()=>p,u:()=>u});var n=r(307824),i=r(125504),a=r.n(i),o=r(105516),l=r(444988),s=r(830012),c=r(451328),d=r(303848);function u(e){let{shouldAnimate:t,parentRect:r,size:i,hidePointer:o,onClose:l}=e,s=r.left+r.width/2;return n.createElement("div",{className:a()(d.mw,{[d.Ux]:e.hideBubble}),style:{left:s}},n.createElement(p,{size:i,textContent:e.textContent,hidePointer:o,onClose:l,hideBubble:e.hideBubble,shouldAnimate:t}))}function p(e){let t=n.useRef(null),r=n.useRef(null),i=n.useRef(null),u=n.useRef(null),p=n.useRef(null),m=n.useRef(null),[_,h]=n.useState(!1),{playAnimations:g}=(0,c.Q)(e.size,{positionContainerRef:t,bubbleRef:r,bubbleShadowRef:i,textRef:u,checkmarkRef:p,closeButtonRef:m}),f=(0,l.ye)();return n.useEffect(()=>{e.shouldAnimate&&f&&!_&&(g(),h(!0))},[e.shouldAnimate,e.hideBubble,f,_,g]),n.createElement("div",{ref:t,className:a()({[d.Ux]:e.hideBubble})},n.createElement("div",{className:d.br,ref:i}),n.createElement("div",{className:a()(d.wX,{[d.ER]:!e.hidePointer}),ref:r},n.createElement("div",{className:d.qA},e.size===c.c.SMALL?n.createElement(s.U,{checkmarkRef:p}):n.createElement(s.Q,{checkmarkRef:p})),n.createElement("span",{className:d.sL,ref:u},e.textContent),n.createElement("div",{ref:m},n.createElement(o.CA,{className:a()(d.yy,{[d.WS]:_}),onClick:e.onClose}))))}},63724:(e,t,r)=>{"use strict";r.d(t,{eW:()=>f,kr:()=>E,wR:()=>b});var n=r(307824),i=r(120304),a=r(733960),o=r(365224),l=r(698240),s=r(560072),c=r(441388),d=r(90340),u=r(392992),p=r(444988),m=r(416044),_=r(923560),h=r(451328),g=r(593840);function f(){let e=(0,m.Hv)();return(0,p.ye)()&&!e}function E(e,t){let r=(0,p.Sw)(e),n=(0,p.Sw)(t),i=r||n,o=(0,a.i)(i);return!i&&o}let y="participant_onboarding_stamp_tooltip";function b(e){let t=(0,o.my)(p.gr),r=f(),m=function(e){let t=(0,p.Sw)(e),r=(0,a.i)(t);return!t&&r}(p.yG.STAMP),E=(0,i.w1)(u.AX);return n.createElement(c.kH,{name:y,enabled:r,properties:{file_key:E,product_type:"figjam"}},n.createElement(_.u,{size:h.c.SMALL,parentRect:e.parentRect,textContent:n.createElement("span",{className:g.q2},n.createElement(s.Tx,{id:"whiteboard.delightful_toolbar.participant_onboarding.react_with_stamps",boldText:n.createElement("span",{className:l.cx.fontBold.$},n.createElement(s.Tx,{id:"whiteboard.delightful_toolbar.participant_onboarding.stamps_bolded"}))})),onClose:()=>{t({type:"DISMISS_TOOLTIP",tooltip:p.yG.STAMP}),(0,d.a2)({context:y,text:"dismiss",file_key:E,product_type:"figjam"})},shouldAnimate:m,hideBubble:!r}))}},359100:(e,t,r)=>{"use strict";r.d(t,{IN:()=>K,MR:()=>Y,SW:()=>H,_Q:()=>V,_m:()=>G,aq:()=>q,gZ:()=>B,kL:()=>x.c,mi:()=>U,uE:()=>W});var n=r(762820),i=r(629688),a=r(796776),o=r(893144),l=r(189268),s=r(865256),c=r(773632),d=r(282792),u=r(594336),p=r(613336),m=r(642380),_=r(148192),h=r(706596),g=r(653077),f=r(543408),E=r(989544),y=r(735728),b=r(433564),v=r(182548),I=r(406316),w=r(669816),T=r(41684),S=r(600316),C=r(896524),A=r(24236),O=r(259808),N=r(415656),L=r(633752),R=r(552200),P=r(64516),M=r(139800),k=r(473108),D=r(12704),F=r(935360),x=r(601952);let U=["SQUARE","ELLIPSE","ROUNDED_RECTANGLE","DIAMOND","TRIANGLE_UP","TRIANGLE_DOWN","PARALLELOGRAM_RIGHT","PARALLELOGRAM_LEFT","ENG_DATABASE","ENG_QUEUE","ENG_FILE","ENG_FOLDER"];function B(e){switch(e){case"SQUARE":return A.c;case"ELLIPSE":return u.c;case"ROUNDED_RECTANGLE":return N.c;case"DIAMOND":return s.c;case"TRIANGLE_UP":return O.c;case"TRIANGLE_DOWN":return D.c;case"PARALLELOGRAM_RIGHT":return w.c;case"PARALLELOGRAM_LEFT":return I.c;case"ENG_DATABASE":return p.c;case"ENG_QUEUE":return h.c;case"ENG_FILE":return m.c;case"ENG_FOLDER":return _.c;case"TRAPEZOID":return k.c;case"STAR":return P.c;case"SHIELD":return L.c;case"HEXAGON":return g.c;case"PENTAGON":return T.c;case"OCTAGON":return b.c;case"PLUS":return S.c;case"PREDEFINED_PROCESS":return C.c;case"MANUAL_INPUT":return E.c;case"CHEVRON":return l.c;case"DOCUMENT_SINGLE":return d.c;case"DOCUMENT_MULTIPLE":return c.c;case"ARROW_LEFT":return a.c;case"ARROW_RIGHT":return o.c;case"SUMMING_JUNCTION":return M.c;case"OR":return v.c;case"SPEECH_BUBBLE":return R.c;case"INTERNAL_STORAGE":return f.c;case"MINDMAP_TREE_NUCLEUS":return y.c;default:return F.c}}let G=["SQUARE","ELLIPSE","DIAMOND","TRIANGLE_UP","TRIANGLE_DOWN","ROUNDED_RECTANGLE","PARALLELOGRAM_RIGHT","PARALLELOGRAM_LEFT"],V=["BASIC","DIAGRAMMING","MISC"],H=new Map([["BASIC",["SQUARE","ELLIPSE","DIAMOND","TRIANGLE_UP","TRIANGLE_DOWN","ROUNDED_RECTANGLE","CHEVRON"]],["DIAGRAMMING",["PREDEFINED_PROCESS","DOCUMENT_SINGLE","DOCUMENT_MULTIPLE","MANUAL_INPUT","HEXAGON","PARALLELOGRAM_RIGHT","PARALLELOGRAM_LEFT","ENG_DATABASE","ENG_QUEUE","INTERNAL_STORAGE","TRAPEZOID","SUMMING_JUNCTION","OR","SHIELD","ENG_FOLDER","ENG_FILE"]],["MISC",["PENTAGON","OCTAGON","PLUS","ARROW_LEFT","ARROW_RIGHT","STAR","SPEECH_BUBBLE"]]]);n.iiI.BLACK,n.iiI.GRAY_DARK,n.iiI.GRAY_LIGHT,n.iiI.RED,n.iiI.ORANGE,n.iiI.YELLOW,n.iiI.GREEN,n.iiI.BLUE,n.iiI.VIOLET,n.iiI.WHITE;let W=new Map([["SQUARE",n.w3X.SHAPE_WHITEBOARD_SQUARE],["ELLIPSE",n.w3X.SHAPE_WHITEBOARD_ELLIPSE],["ROUNDED_RECTANGLE",n.w3X.SHAPE_WHITEBOARD_ROUNDED_RECTANGLE],["DIAMOND",n.w3X.SHAPE_WHITEBOARD_DIAMOND],["TRIANGLE_UP",n.w3X.SHAPE_WHITEBOARD_TRIANGLE_UP],["TRIANGLE_DOWN",n.w3X.SHAPE_WHITEBOARD_TRIANGLE_DOWN],["PARALLELOGRAM_RIGHT",n.w3X.SHAPE_WHITEBOARD_PARALLELOGRAM_RIGHT],["PARALLELOGRAM_LEFT",n.w3X.SHAPE_WHITEBOARD_PARALLELOGRAM_LEFT],["ENG_DATABASE",n.w3X.SHAPE_WHITEBOARD_ENG_DATABASE],["ENG_QUEUE",n.w3X.SHAPE_WHITEBOARD_ENG_QUEUE],["ENG_FILE",n.w3X.SHAPE_WHITEBOARD_ENG_FILE],["ENG_FOLDER",n.w3X.SHAPE_WHITEBOARD_ENG_FOLDER],["TRAPEZOID",n.w3X.SHAPE_WHITEBOARD_TRAPEZOID],["STAR",n.w3X.SHAPE_WHITEBOARD_STAR],["SHIELD",n.w3X.SHAPE_WHITEBOARD_SHIELD],["HEXAGON",n.w3X.SHAPE_WHITEBOARD_HEXAGON],["PENTAGON",n.w3X.SHAPE_WHITEBOARD_PENTAGON],["OCTAGON",n.w3X.SHAPE_WHITEBOARD_OCTAGON],["PLUS",n.w3X.SHAPE_WHITEBOARD_PLUS],["PREDEFINED_PROCESS",n.w3X.SHAPE_WHITEBOARD_PREDEFINED_PROCESS],["MANUAL_INPUT",n.w3X.SHAPE_WHITEBOARD_MANUAL_INPUT],["CHEVRON",n.w3X.SHAPE_WHITEBOARD_CHEVRON],["DOCUMENT_SINGLE",n.w3X.SHAPE_WHITEBOARD_DOCUMENT_SINGLE],["DOCUMENT_MULTIPLE",n.w3X.SHAPE_WHITEBOARD_DOCUMENT_MULTIPLE],["ARROW_LEFT",n.w3X.SHAPE_WHITEBOARD_ARROW_LEFT],["ARROW_RIGHT",n.w3X.SHAPE_WHITEBOARD_ARROW_RIGHT],["SUMMING_JUNCTION",n.w3X.SHAPE_WHITEBOARD_SUMMING_JUNCTION],["OR",n.w3X.SHAPE_WHITEBOARD_OR],["SPEECH_BUBBLE",n.w3X.SHAPE_WHITEBOARD_SPEECH_BUBBLE],["INTERNAL_STORAGE",n.w3X.SHAPE_WHITEBOARD_INTERNAL_STORAGE],["MINDMAP_TREE_NUCLEUS",n.w3X.SHAPE_WHITEBOARD_MINDMAP_TREE_NUCLEUS]]),K=new Map(Array.from(W,([e,t])=>[t,e]));function Y(e){return K.has(e)}let q=new Map([[n.w3X.SHAPE_WHITEBOARD_SQUARE,{action:"set-tool-shape-whiteboard-square",Icon:i.wF,canvasToSvgScale:176/112}],[n.w3X.SHAPE_WHITEBOARD_ELLIPSE,{action:"set-tool-shape-whiteboard-ellipse",Icon:i.Yj,canvasToSvgScale:1.375}],[n.w3X.SHAPE_WHITEBOARD_ROUNDED_RECTANGLE,{action:"set-tool-shape-whiteboard-rounded-rectangle",Icon:i.I1,canvasToSvgScale:176/104}],[n.w3X.SHAPE_WHITEBOARD_DIAMOND,{action:"set-tool-shape-whiteboard-diamond",Icon:i.A3,canvasToSvgScale:176/112}],[n.w3X.SHAPE_WHITEBOARD_TRIANGLE_UP,{action:"set-tool-shape-whiteboard-triangle-up",Icon:i.WU,canvasToSvgScale:176/104}],[n.w3X.SHAPE_WHITEBOARD_TRIANGLE_DOWN,{action:"set-tool-shape-whiteboard-triangle-down",Icon:i.C,canvasToSvgScale:176/104}],[n.w3X.SHAPE_WHITEBOARD_PARALLELOGRAM_RIGHT,{action:"set-tool-shape-whiteboard-parallelogram-right",Icon:i.sf,canvasToSvgScale:176/104}],[n.w3X.SHAPE_WHITEBOARD_PARALLELOGRAM_LEFT,{action:"set-tool-shape-whiteboard-parallelogram-left",Icon:i.qG,canvasToSvgScale:176/104}],[n.w3X.SHAPE_WHITEBOARD_ENG_DATABASE,{action:"set-tool-shape-whiteboard-eng-database",Icon:i.qs,canvasToSvgScale:176/112}],[n.w3X.SHAPE_WHITEBOARD_ENG_QUEUE,{action:"set-tool-shape-whiteboard-eng-queue",Icon:i.Gi,canvasToSvgScale:176/98}],[n.w3X.SHAPE_WHITEBOARD_ENG_FILE,{action:"set-tool-shape-whiteboard-eng-file",Icon:i.Ew,canvasToSvgScale:176/104}],[n.w3X.SHAPE_WHITEBOARD_ENG_FOLDER,{action:"set-tool-shape-whiteboard-eng-folder",Icon:i.kv,canvasToSvgScale:176/104}],[n.w3X.SHAPE_WHITEBOARD_TRAPEZOID,{action:"set-tool-shape-whiteboard-trapezoid",Icon:i.aO,canvasToSvgScale:152/81.92}],[n.w3X.SHAPE_WHITEBOARD_STAR,{action:"set-tool-shape-whiteboard-star",Icon:i.wC,canvasToSvgScale:240/112}],[n.w3X.SHAPE_WHITEBOARD_SHIELD,{action:"set-tool-shape-whiteboard-shield",Icon:i.aQ,canvasToSvgScale:212/90}],[n.w3X.SHAPE_WHITEBOARD_HEXAGON,{action:"set-tool-shape-whiteboard-hexagon",Icon:i.W1,canvasToSvgScale:152/91}],[n.w3X.SHAPE_WHITEBOARD_PENTAGON,{action:"set-tool-shape-whiteboard-pentagon",Icon:i.mx,canvasToSvgScale:190/111}],[n.w3X.SHAPE_WHITEBOARD_OCTAGON,{action:"set-tool-shape-whiteboard-octagon",Icon:i._g,canvasToSvgScale:218/112}],[n.w3X.SHAPE_WHITEBOARD_PLUS,{action:"set-tool-shape-whiteboard-plus",Icon:i.kD,canvasToSvgScale:234/112}],[n.w3X.SHAPE_WHITEBOARD_PREDEFINED_PROCESS,{action:"set-tool-shape-whiteboard-predefined-process",Icon:i.k9,canvasToSvgScale:152/86.09}],[n.w3X.SHAPE_WHITEBOARD_MANUAL_INPUT,{action:"set-tool-shape-whiteboard-manual-input",Icon:i.mg,canvasToSvgScale:152/93}],[n.w3X.SHAPE_WHITEBOARD_CHEVRON,{action:"set-tool-shape-whiteboard-chevron",Icon:i.c5,canvasToSvgScale:168/77}],[n.w3X.SHAPE_WHITEBOARD_DOCUMENT_SINGLE,{action:"set-tool-shape-whiteboard-document-single",Icon:i.c1,canvasToSvgScale:188/99.08}],[n.w3X.SHAPE_WHITEBOARD_DOCUMENT_MULTIPLE,{action:"set-tool-shape-whiteboard-document-multiple",Icon:i._s,canvasToSvgScale:204/100.89}],[n.w3X.SHAPE_WHITEBOARD_ARROW_LEFT,{action:"set-tool-shape-whiteboard-arrow-left",Icon:i.Wx,canvasToSvgScale:212/88.97}],[n.w3X.SHAPE_WHITEBOARD_ARROW_RIGHT,{action:"set-tool-shape-whiteboard-arrow-right",Icon:i.A7,canvasToSvgScale:212/88.97}],[n.w3X.SHAPE_WHITEBOARD_SUMMING_JUNCTION,{action:"set-tool-shape-whiteboard-summing-junction",Icon:i.IT,canvasToSvgScale:100/97}],[n.w3X.SHAPE_WHITEBOARD_OR,{action:"set-tool-shape-whiteboard-or",Icon:i.c$,canvasToSvgScale:100/96.95}],[n.w3X.SHAPE_WHITEBOARD_SPEECH_BUBBLE,{action:"set-tool-shape-whiteboard-speech-bubble",Icon:i.G8,canvasToSvgScale:2}],[n.w3X.SHAPE_WHITEBOARD_INTERNAL_STORAGE,{action:"set-tool-shape-whiteboard-internal-storage",Icon:i.cl,canvasToSvgScale:152/85.52}],[n.w3X.SHAPE_WHITEBOARD_MINDMAP_TREE_NUCLEUS,{action:"set-tool-mindmap-tree-nucleus",Icon:i.wF,canvasToSvgScale:176/112}]])},162844:(e,t,r)=>{"use strict";r.d(t,{G4:()=>G,Kc:()=>V,YL:()=>F,gz:()=>L,wX:()=>H});var n=r(307824),i=r(120304),a=r(125504),o=r.n(a),l=r(721500),s=r(888932),c=r(537096),d=r(560072),u=r(264060),p=r(68348),m=r(511196),_=r(762820),h=r(59508),g=r(427584),f=r(43716),E=r(142548),y=r(629688),b=r(842872),v=r(63724),I=r(481824),w=r(427560),T=r(100648),S=r(966248),C=r(763456),A=r(674976),O=r(415008);let N="delightful-toolbar-stamp-button",L="stamp",R=(0,l.qe)(C.eWp),P={padBottom:30,height:512},M=100*P.padBottom/P.height,k=`calc(${M}% + -14px)`,D=`translateY(${k})`,F=(0,n.memo)(function({isSelected:e,onClick:t,dispatch:r}){let a=(0,f.wj)(),l=(0,S.oN)(),s=l>0,c=(0,i.w1)(e=>e.universalInsertModal.showing),d=(0,T.am)(),m=n.useRef(null),h=(0,n.useCallback)(()=>{a&&r(p.Tf({votingStage:_.A5$.NOT_JOINED})),r(u.MX())},[r,a]);return n.createElement("div",{"data-element-target":N,className:o()(A.C6,A.kL),ref:m},(null==m?void 0:m.current)&&n.createElement(v.wR,{parentRect:m.current.getBoundingClientRect()}),n.createElement(w.YD,{toolType:"stamp",recordingKey:(0,b.GW)("stamp"),isSelected:e,className:A.Ko,onClick:t,"data-tooltip-type":E.wL.LOOKUP,"data-tooltip":"set-tool-stamp",onboardingKey:L,tooltipLocation:a?"below":"above",tooltipOffset:a?{offsetX:0,offsetY:-14}:void 0,"data-tooltip-bottom-flip-margin":a?0:void 0,hasOpenSubmenu:!1},t=>n.createElement(I.Ar,{toolType:"stamp",inactiveIcon:n.createElement(y.P3,null),hoveredIcon:n.createElement(y.EN,null),activeIcon:n.createElement(y.Md,null),isSelected:e,isHovered:t})),a&&!c&&!d&&n.createElement(n.Fragment,null,n.createElement(x,{leaveVotingSessionAndCloseWheel:h,onClickToOpenWheel:t,numVotesRemaining:l,hasRemainingVotes:s}),n.createElement(B,{onClickToOpenWheel:t,isStampToolSelected:e,hasRemainingVotes:s})))});function x({onClickToOpenWheel:e,leaveVotingSessionAndCloseWheel:t,numVotesRemaining:r,hasRemainingVotes:i}){let[a,l]=(0,n.useState)(!1),u=i&&!s.cp.isIpad;U({shouldOpenWheelOnHover:u,isHovered:a});let p=i?A.OI:A.Yn;return n.createElement("button",{className:o()(A.If,p),onMouseEnter:()=>!s.cp.isIpad&&l(!0),onMouseLeave:()=>!s.cp.isIpad&&l(!1),onClick:()=>{u||(i?e():t())},tabIndex:-1},i?n.createElement("span",{className:A.E$},n.createElement(d.Tx,{id:"voting.delightful_toolbar.votes_remaining",numVotes:r})):n.createElement(n.Fragment,null,n.createElement(c.A,{className:A.mg,svg:O.c}),n.createElement("span",{className:A.E$},n.createElement(d.Tx,{id:"voting.delightful_toolbar.no_votes_remaining"}))))}function U({shouldOpenWheelOnHover:e,isHovered:t}){let r=e&&t;(0,n.useEffect)(()=>{if(!r)return;let e=setTimeout(()=>H({source:"peeking_vote_wheel_hover",openedViaHover:!0}),100);return()=>clearTimeout(e)},[r])}function B({onClickToOpenWheel:e,isStampToolSelected:t,hasRemainingVotes:r}){let[i,a]=(0,n.useState)(!1),l=n.useRef(null),c=G(),d=function({isHidden:e,wheelRef:t}){let[r,i]=n.useState(!1);return n.useEffect(()=>{if(e){i(!0);return}let r=t.current;if(!r){i(!1);return}let n=()=>{i(!1),r.removeEventListener("transitionend",n)};return r.addEventListener("transitionend",n),()=>{r.removeEventListener("transitionend",n)}},[e,t]),e||r}({isHidden:c,wheelRef:l}),u=r&&!s.cp.isIpad;U({shouldOpenWheelOnHover:u,isHovered:i}),(0,n.useEffect)(()=>{let e=l.current;if(!e)return;let t={transform:`${D} scale(1.05)`},r={transform:`${D} scale(1)`},n=new Animation(new KeyframeEffect(e,[{transform:"translateY(100%) scale(0.1)"},t],{duration:450,easing:"ease-out"})),i=new Animation(new KeyframeEffect(e,[t,r],{duration:200,easing:"ease-in-out"})),a=new Animation(new KeyframeEffect(e,[r,r],{duration:400})),o=new Animation(new KeyframeEffect(e,[r,{}],{duration:300,easing:"cubic-bezier(0.37, 0, 0.48, 1.33)"}));return n.play(),n.finished.then(()=>i.play()).catch(()=>{}),i.finished.then(()=>a.play()).catch(()=>{}),a.finished.then(()=>o.play()).catch(()=>{}),()=>{n.cancel(),a.cancel(),o.cancel()}},[l]);let p=!(t||r);return n.createElement("div",{className:A.ec},n.createElement("button",{ref:l,tabIndex:-1,className:o()(A.yq,{[A.g1]:p,[A.ew]:c,[A.cb]:d,[A.G]:!r}),onMouseEnter:()=>!s.cp.isIpad&&a(!0),onMouseLeave:()=>!s.cp.isIpad&&a(!1),onClick:()=>!u&&e()}))}function G(){return(0,i.w1)(e=>"WHEEL"===e.multiplayerEmoji.type&&["STAMP1","STAMP2"].includes(e.multiplayerEmoji.wheelType))}function V(){return(0,m.S2)(N)}function H({source:e,openedViaHover:t=!1}){let r=V(),n=(0,m.S2)(b.oi);if(r||n){let i=r?r.getBoundingClientRect():n.getBoundingClientRect(),a=i.x+i.width/2,o=i.y-(g.U+2)-14-R;h.ae.handleShortcutPressWithType({viewportX:a,viewportY:o,source:e,openedViaHover:t,wheelType:"STAMP"}),h.ae.handleShortcutRelease(a,o)}}},165016:(e,t,r)=>{"use strict";r.d(t,{M:()=>c,Y:()=>s});var n=r(307824),i=r(125504),a=r.n(i),o=r(888932),l=r(674976);function s({className:e,disabled:t,isDragging:r,children:i,"aria-hidden":s}){return n.createElement("div",{"aria-disabled":t,"aria-hidden":s,className:a()(l.CY,{[e||""]:!!e,[l.iu]:t,[l.Ub]:r,[l.Gi]:!o.cp.safari}),"data-fullscreen-intercept":!0},i)}function c({className:e,isHovering:t,isSelected:r,disabled:i,children:o,"aria-hidden":s}){return n.createElement("div",{"aria-disabled":i,"aria-hidden":s,className:a()({[e||""]:!!e,[l.sX]:!0,[l.Y3]:t,[l.Wo]:r,[l._o]:i}),"data-fullscreen-intercept":!0},o)}},614740:(e,t,r)=>{"use strict";r.d(t,{qq:()=>h,SW:()=>u,_c:()=>d,IT:()=>m,Oo:()=>p,mg:()=>_});var n=r(307824),i=r(125504),a=r.n(i);r(853688);var o=r(560072),l=r(664300);r(629688),r(416044);var s=r(964900),c=r(449748);function d({alignment:e,children:t,onMouseEnter:r,onMouseLeave:i,innerRef:o}){return n.createElement("div",{className:a()("dlt_submenu--submenuContainer--M4ufs delightful_toolbar--passthruLayout--gz5r2",{"dlt_submenu--submenuLeftAligned--ADsMj":"LEFT"===e,"dlt_submenu--submenuCenterAligned--ryltJ":"CENTER"===e,"dlt_submenu--submenuRightAligned--kUi5D":"RIGHT"===e}),onMouseEnter:r,onMouseLeave:i,ref:o},t)}function u({isOpen:e,children:t,fadedOut:r,id:i,testId:o,optimizeForCompactSize:l,overflowChildren:s}){let c=n.createElement("div",{className:"dlt_submenu--submenuItems--FJHkH"},t);return n.createElement("div",{className:a()("dlt_submenu--submenu--EmU1-",{"dlt_submenu--compactSize--yJCzh":!!l,"dlt_submenu--isOpen--sH4-4":e,"dlt_submenu--fadedOut--rHzEu":r}),"data-testid":o,"aria-hidden":!0,id:i},s?c:n.createElement("div",{className:"dlt_submenu--submenuCornerClipping--rhbch"},c))}function p({children:e,disabled:t,paddingLeft:r,paddingRight:i,height:o,shouldVerticallyCenter:l,shouldClipAndRoundTopRightCorner:s}){return n.createElement("div",{className:a()("dlt_submenu--submenuGroup--KSxIU",{"dlt_submenu--submenuGroupDisabled--BPix8":t,"dlt_submenu--submenuGroupVerticallyCentered---T24I":l,"dlt_submenu--submenuRightCornerClipping--ccFVw":s}),style:{paddingLeft:r,paddingRight:i,height:o}},e)}function m(){return n.createElement("div",{className:"dlt_submenu--submenuDivider--IwlsI"})}function _({isSelected:e,children:t,explicitWidth:r,shouldCenterContent:i,noScaleAnimation:o,isRightEdge:l}){return n.createElement("div",{style:{width:r},className:a()("dlt_submenu--toolBackground--St0Y2 delightful_toolbar--passthruLayout--gz5r2",{"dlt_submenu--toolBackgroundScalingHighlight--LTx6Y":!o,"dlt_submenu--toolBackgroundHighlighted--aUWM5":e,"dlt_submenu--toolBackgroundCenterContent--p466V":i,"dlt_submenu--toolBackgroundRightEdgeHighlight--hqdJJ":!!l})},t)}function h({currentColor:e,paletteType:t,showPopover:r,setShowPopover:i,alwaysUseCurrentColorInSwatch:a,recordingKey:d}){let u=(0,l.eM)(e,t),p=e&&(u||r||a);return n.createElement(s.q,{onClick:()=>{i(!r)},active:r?"LOUD":"NONE",recordingKey:d,buttonStyle:{"--menu-padding-right":"4px",marginLeft:"4px",padding:"4px 4px 4px 0px"},isNewSubmenu:!0,tabIndex:-1},p?n.createElement(c.uA,{key:"custom-color",size:"medium",value:e,selectionState:r?"unselected":"selected_custom",background:"light",paletteType:"base",tooltip:(0,o.t)("whiteboard.colors.custom")}):n.createElement(c.ox,{swatchStyle:{boxShadow:"0px 0px 0px 1px rgba(0, 0, 0, 0.2) inset"}}))}},427560:(e,t,r)=>{"use strict";r.d(t,{YD:()=>E,oZ:()=>f});var n=r(307824),i=r(125504),a=r.n(i),o=r(87975),l=r(570464),s=r(853688),c=r(883528),d=r(441388),u=r(676844),p=r(5480),m=r(416044),_=r(991244),h=r(165016),g=r(674976);let f=(0,n.forwardRef)(({toolType:e,isSelected:t,onClick:r,children:i,tooltipOffset:d={offsetX:0,offsetY:12},tooltipLocation:p="above",className:f,recordingKey:E,onboardingKey:y,ButtonLayout:b=h.Y,isDisabled:v=!1,clickOnMouseDown:I=!1,inTabOrder:w=!0,ariaLabel:T,isHovered:S,isEnabledForViewers:C=!1,onMouseEnter:A,onMouseMove:O,onMouseLeave:N,onTouchStart:L,onTouchEnd:R,hasOpenSubmenu:P,testId:M,...k},D)=>{let{state:F,dispatch:x}=(0,n.useContext)(u.ML),U=(0,m.Gq)({isEnabledForViewers:C})||v,B=F.draggedTool===e,G=T||k["data-tooltip"],V=e=>{e.preventDefault(),e.stopPropagation(),F.shouldFinishClick&&!I&&r(e)};return n.createElement(s.g9,{className:a()(g.C6,g.WO,{[g.e_]:U}),recordingKey:E,onMouseEnter:A,onMouseMove:O,onMouseLeave:N,onTouchStart:L,onTouchEnd:R,onPointerDown:U?void 0:e=>{if(e.preventDefault(),e.stopPropagation(),I?(r(e),x({type:"cancel drag"})):x({type:"start click"}),!_.z.RECORD_DETAILED_EVENTS)return l.Cy},onClick:U?void 0:V,"data-tooltip-type":B?null:k["data-tooltip-type"],"data-tooltip-submenu-open":P,"data-tooltip":k["data-tooltip"],"data-tooltip-offset-x":k["data-tooltip-offset-x"]??d.offsetX,"data-tooltip-offset-y":k["data-tooltip-offset-y"]??d.offsetY,"data-tooltip-show-above":"above"===p||void 0,"data-tooltip-show-below":"below"===p||void 0,"data-tooltip-show-left":"left"===p||void 0,"data-tooltip-bottom-flip-margin":k["data-tooltip-bottom-flip-margin"],"data-onboarding-key":y,"data-fullscreen-intercept":!0,"data-testid":M},n.createElement(b,{className:f,isHovering:S,isSelected:t,disabled:U,isDragging:B,"aria-hidden":!0},i),n.createElement(s.g9,{className:a()(g.So,g.M0,{[g.e_]:U,[g.XD]:t,[g.Ml]:"select"===e,[g.aM]:"hand"===e}),onClick:U?void 0:V,onKeyDown:U?void 0:e=>{e.keyCode===o.as.ENTER&&F.shouldFinishClick&&!I&&r(e)},forwardedRef:D,role:function(e,t){let r;return e.shouldDemoteDlt?r="presentation":t&&(r="button"),r}(F,w),tabIndex:w&&!U?0:-1,"aria-hidden":!w,"aria-label":G&&w?function(e){try{return(0,c.W)(e)||e}catch(t){return e}}(G):void 0,"aria-disabled":U,"data-fullscreen-intercept":!0}))}),E=(0,n.forwardRef)(({children:e,hasExtraLongHoverTime:t,...r},i)=>{let{isHovered:a,hoverTarget:o,onMouseEnter:l,onMouseMove:s,onMouseLeave:c,onTouchStart:d,onTouchEnd:u}=(0,p._)(r.onClick,t),m="function"==typeof e?e(a,o):e;return n.createElement(f,{...r,ref:i,isHovered:a,onMouseEnter:l,onMouseLeave:c,onMouseMove:s,onTouchStart:d,onTouchEnd:u},m)});(0,d.wB)(E)},971164:(e,t,r)=>{"use strict";r.d(t,{k:()=>a,w:()=>i});var n=r(307824);function i(e,t){let r=e;for(;null!==r;){if(r===t)return!0;r=r.parentElement}return!1}function a(e,t={}){let{closeOnEsc:r,ignore:a=[]}=t;(0,n.useEffect)(()=>{let t=t=>{if(e&&"allClicks"!==a){if(Array.isArray(a)){for(let e of a)if(e&&"current"in e&&(e=e.current),e&&i(t.target,e))return}else if(a(t.target))return;e()}},n=t=>{"Escape"===t.key&&e&&e()};return document.addEventListener("pointerdown",t),r&&document.addEventListener("keydown",n),()=>{document.removeEventListener("pointerdown",t),r&&document.removeEventListener("keydown",n)}},[e,r,a])}},100648:(e,t,r)=>{"use strict";r.d(t,{At:()=>h,ED:()=>p,Gq:()=>c,_O:()=>u,am:()=>l,kD:()=>m,kJ:()=>_,qi:()=>d,u$:()=>s});var n=r(120304),i=r(312452),a=r(334868),o=r(359100);function l(){return!!m()}function s(){return(0,n.w1)(e=>{var t,r;return(null==(r=null==(t=null==e?void 0:e.mirror)?void 0:t.appModel)?void 0:r.currentTool)===i.w3X.STICKY})}function c(){return(0,n.w1)(e=>{var t,r;let n=null==(r=null==(t=null==e?void 0:e.mirror)?void 0:t.appModel)?void 0:r.currentTool;return n===i.w3X.CONNECTOR_ELBOWED||n===i.w3X.CONNECTOR_STRAIGHT})}function d(){return(0,n.w1)(e=>{var t,r;return(null==(r=null==(t=null==e?void 0:e.mirror)?void 0:t.appModel)?void 0:r.currentTool)===i.w3X.CONNECTOR_ELBOWED})}function u(){return(0,n.w1)(e=>{var t,r;return(null==(r=null==(t=null==e?void 0:e.mirror)?void 0:t.appModel)?void 0:r.currentTool)===i.w3X.CONNECTOR_STRAIGHT})}function p(){return(0,n.w1)(e=>{var t,r;return(null==(r=null==(t=null==e?void 0:e.mirror)?void 0:t.appModel)?void 0:r.currentTool)===i.w3X.COMMENTS})}function m(){return(0,n.w1)(e=>{var t,r;let n=null==(r=null==(t=null==e?void 0:e.mirror)?void 0:t.appModel)?void 0:r.currentTool;return n&&(0,a.S)(n)?n:null})}function _(){return(0,n.w1)(e=>{var t,r;let n=null==(r=null==(t=null==e?void 0:e.mirror)?void 0:t.appModel)?void 0:r.currentTool;return n&&(0,o.MR)(n)?n:null})}function h(){return(0,n.w1)(e=>{var t,r;return(null==(r=null==(t=null==e?void 0:e.mirror)?void 0:t.appModel)?void 0:r.currentTool)===i.w3X.DROPPER_COLOR})}},925948:(e,t,r)=>{"use strict";r.d(t,{g:()=>a});var n=r(540696),i=r(507076);function a(){let[e,t]=(0,i.H4)("fillPaints");if(!e||(0,n.Er)(e))return null;let r=e.findIndex(e=>"IMAGE"===e.type);return r<0?null:{paint:e[r],paintIndex:r,onChange:(n,i)=>{t([...e.slice(0,r),n,...e.slice(r+1)],i)}}}},629404:(e,t,r)=>{"use strict";r.d(t,{AZ:()=>u,IF:()=>d,iO:()=>s,ib:()=>a,ms:()=>c,sJ:()=>o,v3:()=>l});var n=r(90340);let i=(e,t,r,i)=>{var a;(0,n.s5)(e,null==(a=t.openFile)?void 0:a.key,t,{...r,multiplayer_count:t.multiplayer.allUsers.length},i)},a=e=>i("opens_music_dropdown",e),o=(e,t,r)=>i("changes_song",e,{song_id:t,isPlaying:r}),l=(e,t)=>i("removes_song",e,{song_id:t}),s=(e,t)=>i("toggles_mute",e,{isMuted:t}),c=(e,t)=>i("changes_volume",e,{volume:t}),d=(e,t)=>i("plays_song",e,{song_id:t},{forwardToDatadog:!0}),u=(e,t)=>i("stops_song",e,{song_id:t})},509416:(e,t,r)=>{"use strict";r.d(t,{OW:()=>o,QB:()=>l,Uh:()=>i,VZ:()=>d,ai:()=>p,e_:()=>u,gh:()=>a,ky:()=>s,sb:()=>m});var n=r(321448);function i(e,t){let r=new Date().getTime()-e;return t>=2&&r>=5e3}function a(e,t){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(e[r].song_id!==t[r].song_id)return!1;return!0}let o=(e,t)=>!e&&!t||(null==e?void 0:e.song_id)===(null==t?void 0:t.song_id);function l(e){let t=[];return e.forEach(e=>{let r=Math.floor(Math.random()*e.cuesheet.tracks.length);e.start_at_ms=e.cuesheet.tracks[r].start_time,t.push(e)}),t}async function s({songID:e,onSuccess:t,onNotFound:r}){try{await n.l.getActive({songID:e}),t()}catch(t){if(404===t.status){r();return}throw console.warn(`Failed to fetch active song with id ${e}: ${t}`),r(),t}}let c=["play","pause","previoustrack","nexttrack","seekbackward","seekforward","seekto","stop"];function d(){return"mediaSession"in navigator&&!!navigator.mediaSession.metadata}function u(e,t){if(!e)return;let{title:r,album_art:n}=e;if("mediaSession"in navigator){for(let e of(navigator.mediaSession.metadata=new window.MediaMetadata({title:r,artist:"FigJam Music",artwork:[{src:n||""}]}),c))try{navigator.mediaSession.setActionHandler(e,()=>{})}catch(t){console.warn(`Attempting to stub out all action handlers for media session, but the media session action '${e}' is not supported`)}t&&navigator.mediaSession.setActionHandler("stop",()=>{t()})}}function p(){if("mediaSession"in navigator){for(let e of(navigator.mediaSession.metadata=null,c))try{navigator.mediaSession.setActionHandler(e,null)}catch(t){console.warn(`Attempting to null all custom action handlers for media session, but the media session action '${e}' is not supported`)}navigator.mediaSession.setActionHandler("play",()=>{})}}function m(){navigator.mediaSession.setActionHandler("play",null)}},493760:(e,t,r)=>{"use strict";r.d(t,{CC:()=>h,Ex:()=>p,Gf:()=>o,QF:()=>f,UZ:()=>l,W:()=>_,X2:()=>m,ai:()=>s,g$:()=>d,kr:()=>g,mi:()=>i,oZ:()=>c,sT:()=>a,yg:()=>u});var n=r(103840);let i="timer-start-onboarding",a=5999e3,o=1250,l=1;function s(e){return e?e.isPaused?e.timeRemainingMs:e.timeRemainingMs-performance.now()+e.timeOrigin:-1/0}function c(e){let t=s(e);return!e||0===e.totalTimeMs||t<=-o}function d(e){return 0>=s(e)&&(null==e?void 0:e.totalTimeMs)>0}function u(e){return!!(null==e?void 0:e.isPaused)&&e.totalTimeMs>0&&e.timeRemainingMs>0&&e.totalTimeMs!==e.timeRemainingMs}function p(e){return Math.floor(60*Number(e.minutes)+Number(e.seconds))}function m(e,t){let r=c(e),n=s(e),i=parseInt(t.minutes);return r?(i||0)+l<=99:n+6e4*l<=a}function _(e,t){let r=s(e),n=e.totalTimeMs-r;return t>=2&&n>=5e3}function h(e){return e<10?`0${e}`:`${e}`}function g(e,t){e.volume=t/100,e.currentTime=0,e.play().catch(e=>{if("NotAllowedError"!==e.name)throw Error(`Failed to play FigJam timer chimes: ${e}`)})}function f(){let e=(0,n.GO)();return!(null==e?void 0:e.shouldOptimizeForIpadApp)||null!=e&&!!e.shouldShowTimerOnTheLeft}},862912:(e,t,r)=>{"use strict";r.d(t,{W_:()=>u,s$:()=>d,wd:()=>m});var n=r(752648),i=r(623131),a=r(372152),o=r(901676),l=r(836780),s=r(493760);function c(){let e=(0,o.AP)().get("last-timer-set-time")||180;return{seconds:(0,s.CC)(e%60),minutes:(0,s.CC)(Math.floor(e/60)),lastUsedTime:e,isStopping:!1,lastAction:{type:"reset-state"}}}let d=(0,n.oR)(c(),(e,t)=>{let r={...e,lastAction:t};switch(t.type){case"set-seconds":return{...r,seconds:t.seconds};case"set-minutes":return{...r,minutes:t.minutes};case"set-time":return{...r,minutes:t.minutes,seconds:t.seconds};case"add-minutes":let n=Math.min(Math.max(0,parseInt(r.minutes)+t.minutes),99).toString(),i=1===n.length?"0"+n:n;return{...r,minutes:i};case"start-timer":let a=60*parseInt(r.minutes)+parseInt(r.seconds);if(1e3*a<=0)return r;return{...r,lastUsedTime:a};case"reset-state":return c();default:return r}}),u=(0,l.If)(e=>e.timer),p=(0,i.Zf)({}),m=(0,a.ie)((0,i.Zf)(e=>(e(p),Math.max(0,Math.ceil((0,s.ai)(e(u).time)/1e3))),(e,t,r)=>{t(p,{})}),({setSelf:e})=>{let t=setInterval(()=>{var t;let r=a.qM.get(u);r&&r.time&&(null==(t=null==r?void 0:r.time)||!t.isPaused)&&e("RECOMPUTE")},200);return()=>clearInterval(t)})},132032:(e,t,r)=>{"use strict";let n,i;r.r(t),r.d(t,{MAX_NUM_VOTERS_SHOWN_IN_VOTERS_LIST:()=>M,VOTER_LIST_ITEM_HEIGHT:()=>P,VOTE_PIN_EXPANDED_WIDTH:()=>R,VOTE_PIN_EXPANDED_WIDTH_WITH_PADDING:()=>k,VotePinsOverlay:()=>j});var a=r(307824),o=r(120304),l=r(898448),s=r(628164),c=r(111908),d=r(570464),u=r(105516),p=r(71556),m=r(560072),_=r(765064),h=r(68348),g=r(511196),f=r(762820),E=r(312452),y=r(219604),b=r(251596),v=r(287540),I=r(714644),w=r(53316),T=r(128720),S=r(32208),C=r(256996),A=r(966248),O=r(35804),N=r(763456),L=r(309824);let R=240,P=32,M=7.5,k=256;var D=((n=D||{}).DEFAULT="default",n.HOVERED="hovered",n.SELECTED="selected",n.DIMMED="dimmed",n),F=((i=F||{}).LARGE="large",i.MEDIUM="medium",i.SMALL="small",i.X_SMALL="xSmall",i);function x({clientHeight:e,scrollHeight:t,scrollTop:r}){return 1>Math.abs(t-e-r)}function U({nodeVoteInfo:e,isMostVoted:t,isSelected:r,isHoveredInModal:n,isOtherPinSelected:i,selectPin:o,deselectPin:l,nodePosition:s,currentUserId:c}){let[d,u]=(0,a.useState)(!1),[p,m]=(0,a.useState)(d),[_,h]=(0,a.useState)(!1);(0,a.useEffect)(()=>{if(!d){m(!1);return}let e=setTimeout(()=>m(!0),100);return()=>clearTimeout(e)},[d]);let g=(0,a.useCallback)(()=>o(e.guid),[o,e.guid]),E=(0,a.useCallback)(()=>l(e.guid),[l,e.guid]),y=r?"selected":p||n?"hovered":i?"dimmed":"default",b="selected"===y||"hovered"===y;return(0,a.useEffect)(()=>{b&&!_?(f.iEC.setVoteStampsHiddenOnVotedNode(e.guid,!0),h(!0)):!b&&_&&(f.iEC.setVoteStampsHiddenOnVotedNode(e.guid,!1),h(!1))},[b,_,e.guid]),a.createElement(O.O,{nodePosition:s,isExpanded:["selected","hovered"].includes(y)},({viewportZoom:r})=>a.createElement(B,{recordingKey:`votePin-nodeId${e.guid}`,nodeVoteInfo:e,isMostVoted:t,pinState:y,setIsHovered:u,selectPin:g,deselectPin:E,viewportSize:r>.75?"large":r>.5?"medium":r>.25?"small":"xSmall",currentUserId:c}))}let B=a.memo(function({nodeVoteInfo:e,isMostVoted:t,pinState:r,setIsHovered:n,selectPin:i,deselectPin:o,viewportSize:m,currentUserId:h,recordingKey:f}){let E=(0,a.useRef)(null),y=(0,a.useRef)(null),[b,v]=(0,a.useState)(0),[I,w]=(0,a.useState)(!1),[T,S]=(0,a.useState)(!0),[C,O]=(0,a.useState)(0),[k,D]=(0,a.useState)(!1),F=(0,A.oL)(e),U={large:{paddingTop:"2px",paddingBottom:"2px",paddingLeft:"10px",paddingRight:"10px"},medium:{paddingTop:"1px",paddingBottom:"1px",paddingLeft:"8px",paddingRight:"8px"},small:{paddingTop:"0px",paddingBottom:"0px",paddingLeft:"7px",paddingRight:"7px"},xSmall:{paddingTop:"0px",paddingBottom:"0px",paddingLeft:"6px",paddingRight:"6px"}}[m],B={large:1,medium:.9,small:.8,xSmall:.7}[m];(0,a.useEffect)(()=>{if("selected"!==r)return;let e=e=>{(0,g.KE)(e.target,E.current)||o()};return window.addEventListener("click",e),()=>window.removeEventListener("click",e)},[r,o,e.guid]);let W=t?_.sx.colorBgvotingtertiary.$.backgroundColor:_.sx.colorBg.$.backgroundColor,Y={default:{transform:`scale(${B})`,backgroundColor:W,borderColor:W,opacity:1,...U},dimmed:{transform:`scale(${B})`,backgroundColor:W,borderColor:W,opacity:.5,...U},hovered:{transform:"scale(1)",backgroundColor:W,borderColor:W,opacity:1,paddingTop:"8px",paddingBottom:"12px",paddingLeft:"16px",paddingRight:"0px"},selected:{transform:"scale(1)",backgroundColor:W,..._.sx.colorBorderSelectedStrong.$,opacity:1,paddingTop:"8px",paddingBottom:"12px",paddingLeft:"16px",paddingRight:"0px"}},q={default:{width:"0px",height:"0px",marginLeft:"0px",marginRight:"0px",opacity:0},dimmed:{width:"0px",height:"0px",marginLeft:"0px",marginRight:"0px",opacity:0},hovered:{width:N.rYw,height:N.rYw,marginLeft:"8px",marginRight:"12px",opacity:0},selected:{width:N.rYw,height:N.rYw,marginLeft:"8px",marginRight:"12px",opacity:1}},j=(0,a.useMemo)(()=>{let t=(0,A.EV)(h);return Object.entries(e.userIdToNodeVotes).sort((e,r)=>t(e[0],r[0]))},[e.userIdToNodeVotes,h]),$=j.length>3,Z=$?j.slice(0,2):j,z=$?j.slice(2):[],Q={hovered:{height:`${P}px`},selected:{height:"auto"}},X=(0,a.useCallback)(e=>{var t,r;let n=0!==e;n!==I&&w(n);let i=null==(t=y.current)?void 0:t.getScrollHeight(),a=null==(r=y.current)?void 0:r.getTrackHeight(),o=void 0===i||void 0===a||x({clientHeight:a,scrollHeight:i,scrollTop:e});o!==T&&S(o)},[I,T]),J=(0,a.useCallback)(e=>{if(!e||!y.current){w(!1),S(!0);return}let t=y.current.getScrollTop(),r=y.current.getScrollHeight(),n=y.current.getTrackHeight();w(0!==t),S(x({clientHeight:n,scrollHeight:r,scrollTop:t}))},[]);return a.createElement(l.Q,{transition:{duration:.1,ease:"easeInOut"}},a.createElement("div",{role:"button",tabIndex:0,className:L.IJ,onMouseEnter:()=>n(!0),onMouseLeave:()=>n(!1),onClick:d.S4(f,"click",i),ref:E,style:{transform:`translateX(${10-b}px)`}},a.createElement(s.q.div,{className:L.sT,initial:!1,animate:r,variants:Y},a.createElement("p",{className:L.kF},a.createElement(G,{numTotalVotes:F,isMostVoted:t}),a.createElement(s.q.span,{className:L.aq,initial:!1,animate:r,variants:q},"selected"===r&&a.createElement(u.CA,{className:t?L.ym:void 0,onClick:e=>{e.stopPropagation(),o(),n(!1)}}))),a.createElement(c.I,null,["selected","hovered"].includes(r)&&a.createElement(a.Fragment,null,a.createElement(s.q.div,{className:L.OS,animate:"selected"===r&&I&&!k?"scrolled":"notScrolled",initial:{marginTop:"0px",opacity:0},variants:{notScrolled:{marginTop:"4px",opacity:0},scrolled:{marginTop:"4px",opacity:1}},exit:{marginTop:"0px",opacity:0}}),a.createElement(s.q.div,{className:L.c9,initial:{width:"0px",height:"0px",opacity:0,transform:`scale(${1/B})`},animate:{width:`${R}px`,height:"auto",opacity:1,transform:"scale(1)"},exit:{width:"0px",height:"0px",opacity:0,transform:`scale(${1/B})`}},a.createElement(p.f,{ref:y,maxHeight:P*M,width:R,allowScrollAndZoomOver:!0,onScroll:X,onCanScrollChange:J,forceRerenderCount:C},a.createElement("ul",{className:L.M3},Z.map(([e,t])=>a.createElement(H,{key:e,userId:e,nodeVotes:t})),$&&a.createElement(s.q.div,{initial:!1,animate:r,variants:Q,onAnimationStart:()=>D(!0),onAnimationComplete:()=>{D(!1),O(e=>e+1)}},"hovered"===r&&a.createElement(K,{overflowCount:j.length-Z.length}),"selected"===r&&z.map(([e,t])=>a.createElement(H,{key:e,userId:e,nodeVotes:t})))))),a.createElement(s.q.div,{className:L.OS,animate:"selected"!==r||T||k?"hide":"show",initial:{opacity:0},variants:{show:{opacity:1},hide:{opacity:0}},exit:{opacity:0}}))))),a.createElement(V,{reportWidth:v,numTotalVotes:F,isMostVoted:t,scale:B,padding:U}))});function G({numTotalVotes:e,isMostVoted:t}){return a.createElement("span",{className:L.uM},a.createElement("span",null,a.createElement(m.Tx,{id:"voting.pin.votes",numVotes:e})),t&&a.createElement("img",{src:C.y6,className:L._I,alt:(0,m.t)("voting.pin.medal_img_alt")}))}function V({reportWidth:e,numTotalVotes:t,isMostVoted:r,scale:n,padding:i}){let o=a.useRef(null);return a.useLayoutEffect(()=>{let t=o.current;if(t){let{width:r}=t.getBoundingClientRect();window.myEl=t,e(r)}},[o,t,r,n,i.paddingLeft,i.paddingRight,i.paddingTop,i.paddingBottom,e]),a.createElement("div",{className:L._2,style:{transform:`scale(${n})`},"aria-hidden":!0},a.createElement("span",{style:i,ref:o},a.createElement(G,{numTotalVotes:t,isMostVoted:r})))}function H({userId:e,nodeVotes:t}){let r=t.length>3,n=r?t.slice(0,2):t,i=t.length-2;return a.createElement("li",{key:e,className:L.aw},a.createElement(W,{userId:e}),a.createElement("div",{className:L.CK},n.map(e=>a.createElement(Y,{key:e,stampId:e})),r&&a.createElement("span",{className:L.OA},i)))}function W({userId:e}){let{user:t,loading:r}=(0,y.eA)(e);return a.createElement(a.Fragment,null,a.createElement(S.K,{userId:e,user:t,loading:r,size:24,loadingClassName:L.Y9}),a.createElement(S.A,{userId:e,user:t,loading:r,defaultClassName:L.iM,loadingClassName:L.Km}))}function K({overflowCount:e}){return a.createElement("li",{className:L.m0},a.createElement("div",{className:L.Cg},a.createElement(C.c8,null)),a.createElement("span",{className:L.y0},a.createElement(m.Tx,{id:"voting.pin.voter_list_overflow",numOverflowingVoters:e})))}function Y({stampId:e}){let t=(0,I.q$)(),r=(0,v.eM)((e,t)=>{let r=e.get(t);return r?r.name:null},e),n=(()=>{let e=T.ug.find(e=>e.label===r);return e&&(0,w.iw)(e,t)||T.Cl})(),i=r?(0,m.t)("voting.pin.stamp_preview_alt_with_type",{stampType:r}):(0,m.t)("voting.pin.stamp_preview_alt_without_type");return a.createElement("img",{className:L.SM,src:n,alt:i})}function q({votedNodes:e,votingStage:t,selectedNodeId:r,currentUserId:n}){let i=(0,o.OY)(),l=(0,o.w1)(e=>e.voting.hoveredInModalVotePinId),s=(0,a.useMemo)(()=>(0,A.o7)(e),[e]),c=(0,a.useCallback)(e=>i(h.a8({votePinId:e})),[i]),d=(0,a.useCallback)(e=>i(h.cH({votePinId:e})),[i]),u=(0,O.e)({votedNodes:e});return a.createElement(a.Fragment,null,e.map(e=>{let i=u[e.guid];if(!i)return null;let o=1===s.size&&s.has(e.guid)&&t===E.A5$.ENDED;return a.createElement(U,{key:e.guid,nodeVoteInfo:e,isMostVoted:o,isSelected:r===e.guid,isHoveredInModal:l===e.guid,isOtherPinSelected:!!r&&r!==e.guid,selectPin:c,deselectPin:d,nodePosition:i,currentUserId:n})}))}let j=a.memo(function(){let e=(0,o.OY)(),t=(0,b.sX)(),r=(0,o.w1)(e=>e.mirror.appModel.votingSessionInfo),n=(0,o.w1)(e=>e.voting.selectedVotePinId),i=[E.A5$.ENDED,E.A5$.JOINED].includes(r.votingStage),l=(0,a.useMemo)(()=>{var e;return r.votingStage===E.A5$.JOINED?(e=r.votedNodes,t?e.filter(e=>{var r;return null==(r=e.userIdToNodeVotes[t])?void 0:r.length}).map(e=>({...e,userIdToNodeVotes:{[t]:e.userIdToNodeVotes[t]}})):[]):r.votedNodes},[r.votingStage,r.votedNodes,t]);return((0,a.useEffect)(()=>{n&&(i&&l.some(e=>e.guid===n)||e(h.cH({votePinId:n})))},[l,i,n,e]),i)?a.createElement(q,{votedNodes:l,votingStage:r.votingStage,selectedNodeId:n,currentUserId:t}):null})},256996:(e,t,r)=>{"use strict";r.d(t,{An:()=>k,Av:()=>M,CM:()=>v,GO:()=>T,Gi:()=>s,Gj:()=>O,ID:()=>F,Ic:()=>P,K2:()=>p,KM:()=>I,M3:()=>u,MD:()=>B,Mb:()=>c,Mt:()=>C,O:()=>N,SM:()=>A,Sj:()=>m,UJ:()=>R,_T:()=>h,c5:()=>i,c8:()=>o,c9:()=>G,es:()=>f,gF:()=>L,gx:()=>x,iq:()=>U,lc:()=>b,mc:()=>D,md:()=>d,oN:()=>y,or:()=>E,sX:()=>l,wR:()=>_,wZ:()=>w,y6:()=>a,yO:()=>g,yS:()=>S});var n=r(307824);let i="https://static.figma.com/uploads/054596349bf8a2ae155aa7818cf2a3cbf483a9f4",a="https://static.figma.com/uploads/295306027f272a9b0931ddec9321361f7cd8299b";function o(){return n.createElement("svg",{width:"20",height:"14",viewBox:"0 0 20 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.5 3.5C8.5 4.88071 7.38071 6 6 6C4.61929 6 3.5 4.88071 3.5 3.5C3.5 2.11929 4.61929 1 6 1C7.38071 1 8.5 2.11929 8.5 3.5ZM9.5 3.5C9.5 5.433 7.933 7 6 7C4.067 7 2.5 5.433 2.5 3.5C2.5 1.567 4.067 0 6 0C7.933 0 9.5 1.567 9.5 3.5ZM17 5C17 6.10457 16.1046 7 15 7C13.8954 7 13 6.10457 13 5C13 3.89543 13.8954 3 15 3C16.1046 3 17 3.89543 17 5ZM18 5C18 6.65685 16.6569 8 15 8C13.3431 8 12 6.65685 12 5C12 3.34315 13.3431 2 15 2C16.6569 2 18 3.34315 18 5ZM13.2108 10.4215C13.7492 10.1518 14.3569 10 15 10C17.2091 10 19 11.7909 19 14H20C20 11.2386 17.7614 9 15 9C14.1612 9 13.3706 9.20657 12.6763 9.57162C12.8743 9.83933 13.0532 10.1234 13.2108 10.4215ZM12 14H11C11 11.2386 8.76142 9 6 9C3.23858 9 1 11.2386 1 14H0C0 10.6863 2.68629 8 6 8C9.31371 8 12 10.6863 12 14Z"}))}function l({color:e="#699BF7"}){return n.createElement("svg",{width:"40",height:"72",viewBox:"0 0 40 72",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("g",{clipPath:"url(#clip0_4137_211384)"},n.createElement("g",{clipPath:"url(#clip1_4137_211384)"},n.createElement("rect",{width:"64",height:"64",transform:"translate(0 16.3726) rotate(-15)",fill:e}),n.createElement("rect",{x:"12.7651",y:"25.3755",width:"44",height:"6",transform:"rotate(-15 12.7651 25.3755)",fill:"black",fillOpacity:"0.15"}),n.createElement("rect",{x:"15.871",y:"36.9666",width:"32",height:"6",transform:"rotate(-15 15.871 36.9666)",fill:"black",fillOpacity:"0.15"}))),n.createElement("defs",null,n.createElement("clipPath",{id:"clip0_4137_211384"},n.createElement("rect",{width:"40",height:"72",fill:"white"})),n.createElement("clipPath",{id:"clip1_4137_211384"},n.createElement("rect",{width:"64",height:"64",fill:"white",transform:"translate(0 16.3726) rotate(-15)"}))))}function s(){return n.createElement("svg",{width:"40",height:"72",viewBox:"0 0 40 72",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("g",{clipPath:"url(#clip0_4119_210884)"},n.createElement("rect",{x:"1.93188",y:"17.8704",width:"40",height:"40",rx:"8",transform:"rotate(-15 1.93188 17.8704)",fill:"white"}),n.createElement("rect",{x:"4.65869",y:"35.7747",width:"4",height:"4",transform:"rotate(-15 4.65869 35.7747)",fill:"black",fillOpacity:"0.8"}),n.createElement("path",{d:"M6.55591 33.1958L4.61477 25.9514C3.47123 21.6836 5.43444 17.4495 9.59547 16.3346L33.1641 10.0194C37.3251 8.90444 41.1423 11.5897 42.2859 15.8574L44.227 23.1019",stroke:"black",strokeOpacity:"0.2"}),n.createElement("path",{d:"M8.62646 40.9232L10.5676 48.1676C11.7111 52.4354 15.5284 55.1206 19.6894 54.0057L43.258 47.6905C47.419 46.5755 49.3822 42.3414 48.2387 38.0737L46.2976 30.8293",stroke:"black",strokeOpacity:"0.2"}),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M32.2731 19.058L14.8865 23.7167L15.4041 25.6486L23.1315 23.578L28.3079 42.8965L30.2398 42.3789L25.0634 23.0604L32.7908 20.9898L32.2731 19.058Z",fill:"black",fillOpacity:"0.8"})),n.createElement("defs",null,n.createElement("clipPath",{id:"clip0_4119_210884"},n.createElement("rect",{width:"40",height:"72",fill:"white"}))))}function c(){return n.createElement("svg",{width:"40",height:"72",viewBox:"0 0 40 72",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("g",{clipPath:"url(#clip0_4119_210979)"},n.createElement("rect",{x:"0.87391",y:"13.0737",width:"10",height:"10",rx:"2",transform:"rotate(-15.0378 0.87391 13.0737)",fill:"white",stroke:"#0D99FF",strokeWidth:"2",strokeLinecap:"square"}),n.createElement("rect",{x:"17.4791",y:"74.8821",width:"10",height:"10",rx:"2",transform:"rotate(-15.0378 17.4791 74.8821)",fill:"white",stroke:"#0D99FF",strokeWidth:"2",strokeLinecap:"square"}),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M47.6782 27.9006L46.2859 22.7045L48.2177 22.1868L49.5833 27.2831L54.6798 25.9175L55.1974 27.8493L50.0013 29.2416L49.5104 27.4096L47.6782 27.9006ZM32.6806 33.8827L27.4845 35.275L26.9668 33.3431L32.0632 31.9775L30.6977 26.8814L32.6296 26.3637L34.0219 31.5598L34.1216 31.5331L47.5783 27.9274L49.5101 27.4097L50.0278 29.3416L53.6335 42.7982L54.1511 44.7301L52.2193 45.2477L38.7626 48.8534L36.8308 49.3711L36.8308 49.3711L38.6628 48.8802L40.0551 54.0763L38.1232 54.594L36.7577 49.4977L31.6615 50.8632L31.1438 48.9314L36.3399 47.5391L36.3131 47.4392L32.7074 33.9826L32.1898 32.0507L32.1897 32.0508L32.6806 33.8827ZM48.0959 29.8592L34.6393 33.4649L38.245 46.9216L51.7016 43.3159L48.0959 29.8592ZM54.278 44.8033L59.3744 43.4378L58.8568 41.5059L53.6607 42.8982L54.1515 44.73L52.3193 45.221L53.7116 50.4171L55.6435 49.8994L54.278 44.8033Z",fill:"#0D99FF"}),n.createElement("rect",{x:"7",y:"16.6052",width:"64",height:"64",transform:"rotate(-15.0378 7 16.6052)",stroke:"#0D99FF",strokeWidth:"2"})),n.createElement("defs",null,n.createElement("clipPath",{id:"clip0_4119_210979"},n.createElement("rect",{width:"40",height:"72",fill:"white"}))))}function d(){return n.createElement("svg",{width:"40",height:"72",viewBox:"0 0 40 72",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("g",{clipPath:"url(#clip0_4121_211214)"},n.createElement("rect",{x:"0.87391",y:"13.0737",width:"10",height:"10",rx:"2",transform:"rotate(-15.0378 0.87391 13.0737)",fill:"white",stroke:"#9747FF",strokeWidth:"2",strokeLinecap:"square"}),n.createElement("rect",{x:"17.4789",y:"74.8821",width:"10",height:"10",rx:"2",transform:"rotate(-15.0378 17.4789 74.8821)",fill:"white",stroke:"#9747FF",strokeWidth:"2",strokeLinecap:"square"}),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M35.8154 33.1697L40.4705 25.1453L48.5141 29.7671L43.859 37.7915L35.8154 33.1697ZM37.1696 49.4156L29.1452 44.7605L33.767 36.7169L41.7914 41.372L37.1696 49.4156ZM53.4151 48.061L48.76 56.0855L40.7164 51.4636L45.3715 43.4392L53.4151 48.061ZM60.0855 36.4702L52.0611 31.8151L47.4393 39.8587L55.4637 44.5138L60.0855 36.4702Z",fill:"#8638E5"}),n.createElement("rect",{x:"7",y:"16.6052",width:"64",height:"64",transform:"rotate(-15.0378 7 16.6052)",stroke:"#9747FF",strokeWidth:"2"})),n.createElement("defs",null,n.createElement("clipPath",{id:"clip0_4121_211214"},n.createElement("rect",{width:"40",height:"72",fill:"white"}))))}function u(){return n.createElement("svg",{width:"40",height:"72",viewBox:"0 0 40 72",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("g",{clipPath:"url(#clip0_4591_210267)"},n.createElement("rect",{x:"-2",y:"15.4233",width:"48",height:"48",rx:"9.6",transform:"rotate(-15 -2 15.4233)",fill:"white"}),n.createElement("rect",{x:"-1.26515",y:"15.8476",width:"46.8",height:"46.8",rx:"9",transform:"rotate(-15 -1.26515 15.8476)",stroke:"black",strokeOpacity:"0.2",strokeWidth:"1.2"}),n.createElement("circle",{cx:"31.4811",cy:"24.4658",r:"4.2",transform:"rotate(-15 31.4811 24.4658)",stroke:"black",strokeOpacity:"0.8",strokeWidth:"2.4"}),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.606 20.7418L36.1064 13.909C37.3868 13.566 38.7028 14.3258 39.0458 15.6061L45.8786 41.1065C46.2217 42.3868 45.4619 43.7028 44.1816 44.0459L42.4018 44.5228L21.5894 30.0419L20.6167 29.3651L19.9277 30.3293L13.2094 39.7307L8.90894 23.6812C8.56588 22.4009 9.32568 21.0849 10.606 20.7418ZM14.0138 42.7329L15.7418 49.1817C16.0848 50.462 17.4008 51.2218 18.6812 50.8787L39.368 45.3357L21.1914 32.6888L14.0138 42.7329ZM6.59072 24.3024C5.9046 21.7418 7.4242 19.1097 9.98483 18.4236L35.4853 11.5908C38.0459 10.9047 40.6779 12.4243 41.364 14.9849L48.1969 40.4854C48.883 43.046 47.3634 45.678 44.8028 46.3641L19.3023 53.197C16.7417 53.8831 14.1097 52.3635 13.4235 49.8028L6.59072 24.3024Z",fill:"black",fillOpacity:"0.8"})),n.createElement("defs",null,n.createElement("clipPath",{id:"clip0_4591_210267"},n.createElement("rect",{width:"40",height:"72",fill:"white"}))))}function p({color:e="#699BF7"}){return n.createElement("svg",{width:"40",height:"72",viewBox:"0 0 40 72",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("g",{clipPath:"url(#clip0_4121_211235)"},n.createElement("rect",{y:"16.5644",width:"64",height:"64",rx:"3",transform:"rotate(-15 0 16.5644)",fill:e})),n.createElement("defs",null,n.createElement("clipPath",{id:"clip0_4121_211235"},n.createElement("rect",{width:"40",height:"72",fill:"white"}))))}function m({color:e="#699BF7"}){return n.createElement("svg",{width:"40",height:"72",viewBox:"0 0 40 72",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("g",{clipPath:"url(#clip0_4171_210078)"},n.createElement("rect",{x:"-5.5",y:"14.4346",width:"88.7204",height:"72.0853",rx:"25.2992",transform:"rotate(-15 -5.5 14.4346)",fill:e})),n.createElement("defs",null,n.createElement("clipPath",{id:"clip0_4171_210078"},n.createElement("rect",{width:"40",height:"72",fill:"white"}))))}function _({color:e="#699BF7"}){return n.createElement("svg",{width:"40",height:"72",viewBox:"0 0 40 72",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("g",{clipPath:"url(#clip0_4171_210088)"},n.createElement("path",{d:"M16.5562 8.25247C16.8973 6.92671 18.0926 6 19.4615 6L89.4516 6C91.4118 6 92.8454 7.84915 92.357 9.74752L73.765 82.0085C73.4239 83.3342 72.2286 84.2609 70.8596 84.2609H0.869569C-1.09063 84.2609 -2.52423 82.4118 -2.0358 80.5134L16.5562 8.25247Z",fill:e})),n.createElement("defs",null,n.createElement("clipPath",{id:"clip0_4171_210088"},n.createElement("rect",{width:"40",height:"72",fill:"white"}))))}function h({color:e="#699BF7"}){return n.createElement("svg",{width:"40",height:"72",viewBox:"0 0 40 72",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("g",{clipPath:"url(#clip0_4173_210152)"},n.createElement("path",{d:"M75.9438 8.25247C75.6027 6.92671 74.4074 6 73.0385 6L3.04841 6C1.08821 6 -0.34539 7.84915 0.143036 9.74752L18.735 82.0085C19.0761 83.3342 20.2714 84.2609 21.6404 84.2609H91.6304C93.5906 84.2609 95.0242 82.4118 94.5358 80.5134L75.9438 8.25247Z",fill:e})),n.createElement("defs",null,n.createElement("clipPath",{id:"clip0_4173_210152"},n.createElement("rect",{width:"40",height:"72",fill:"white"}))))}function g({color:e="#699BF7"}){return n.createElement("svg",{width:"40",height:"72",viewBox:"0 0 40 72",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("g",{clipPath:"url(#clip0_4119_210848)"},n.createElement("circle",{cx:"40",cy:"46",r:"40",fill:e})),n.createElement("defs",null,n.createElement("clipPath",{id:"clip0_4119_210848"},n.createElement("rect",{width:"40",height:"72",fill:"white"}))))}function f({color:e="#699BF7"}){return n.createElement("svg",{width:"40",height:"72",viewBox:"0 0 40 72",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("g",{clipPath:"url(#clip0_4119_210856)"},n.createElement("g",{clipPath:"url(#clip1_4119_210856)"},n.createElement("path",{d:"M18.693 6.40686C19.2012 4.50766 21.9085 3.78226 23.2982 5.17292L82.5015 64.4167C83.7556 65.6717 82.9788 67.752 81.0647 68.2649L0.211739 89.9294C-1.70237 90.4423 -3.41521 89.029 -2.95662 87.3152L18.693 6.40686Z",fill:e}))),n.createElement("defs",null,n.createElement("clipPath",{id:"clip0_4119_210856"},n.createElement("rect",{width:"40",height:"72",fill:"white"})),n.createElement("clipPath",{id:"clip1_4119_210856"},n.createElement("rect",{width:"89.0428",height:"77.1705",fill:"white",transform:"translate(-22.3394 16.0794) rotate(-15)"}))))}function E({color:e="#699BF7"}){return n.createElement("svg",{width:"40",height:"72",viewBox:"0 0 40 72",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("g",{clipPath:"url(#clip0_4121_211255)"},n.createElement("path",{d:"M51.3523 84.6094C52.5437 86.3294 55.5163 86.0834 56.4088 84.191L94.4305 3.57293C95.2359 1.86524 93.7104 0.0603115 91.6086 0.234234L2.83059 7.58081C0.728861 7.75473 -0.479214 9.78588 0.59593 11.3379L51.3523 84.6094Z",fill:e})),n.createElement("defs",null,n.createElement("clipPath",{id:"clip0_4121_211255"},n.createElement("rect",{width:"40",height:"72",fill:"white"}))))}function y({color:e="#699BF7"}){return n.createElement("svg",{width:"40",height:"72",viewBox:"0 0 40 72",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("g",{clipPath:"url(#clip0_4119_210865)"},n.createElement("ellipse",{cx:"36.0212",cy:"10.0459",rx:"36.2221",ry:"8.35894",transform:"rotate(-15 36.0212 10.0459)",fill:e}),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M72.0853 4.68736C67.4361 9.37258 54.7615 15.1933 39.2535 19.3486C21.2873 24.2612 6.9678 24.914 1.84497 22.4498L15.4556 73.2452L15.4564 73.2483L15.4564 73.2483C16.6513 77.7075 33.2845 77.1251 52.6077 71.9474C71.9309 66.7698 86.6269 58.9575 85.4321 54.4984L72.0853 4.68736Z",fill:e})),n.createElement("defs",null,n.createElement("clipPath",{id:"clip0_4119_210865"},n.createElement("rect",{width:"40",height:"72",fill:"white"}))))}function b({color:e="#699BF7"}){return n.createElement("svg",{width:"40",height:"72",viewBox:"0 0 40 72",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("g",{clipPath:"url(#clip0_4171_210106)"},n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.30957 14.019C11.2258 17.2597 17.7809 30.6301 22.2705 47.3855C27.6619 67.5064 28.033 84.8893 23.0994 86.2112C22.8341 86.2823 22.5589 86.3055 22.2747 86.2826L22.3557 86.5848L94.06 67.3717L94.072 67.3685L94.0839 67.3652L94.4168 67.276L94.4086 67.2455C98.6089 65.2803 97.911 48.5964 92.7387 29.2931C87.5664 9.98975 79.8288 -4.80791 75.2087 -4.40965L75.2005 -4.44026L6.30957 14.019Z",fill:e}),n.createElement("ellipse",{rx:"37.1231",ry:"8.56687",transform:"matrix(-0.258819 -0.965926 -0.965926 0.258819 12.747 50.7267)",fill:e})),n.createElement("defs",null,n.createElement("clipPath",{id:"clip0_4171_210106"},n.createElement("rect",{width:"40",height:"72",fill:"white"}))))}function v({color:e="#699BF7"}){return n.createElement("svg",{width:"40",height:"72",viewBox:"0 0 40 72",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("g",{clipPath:"url(#clip0_4121_211283)"},n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M67.808 -0.216748L71.1184 12.1379L84.015 60.2684C84.2789 61.2533 83.6944 62.2656 82.7096 62.5295L14.95 80.6856C13.9636 80.9499 12.9501 80.3633 12.6879 79.3764L0.985107 35.3241L17.2244 30.9728C18.2736 30.6916 18.8962 29.6132 18.6151 28.564L14.2374 12.2262L65.5469 -1.52218C66.5318 -1.78607 67.5441 -1.20161 67.808 -0.216748ZM14.1879 12.2394L12.5651 12.6743L12.5663 12.6788L14.1879 12.2394Z",fill:e}),n.createElement("path",{d:"M0.453613 33.7343L15.3437 29.7445C16.2999 29.4883 16.8674 28.5054 16.6112 27.5492L12.6214 12.6591L0.453613 33.7343Z",fill:e})),n.createElement("defs",null,n.createElement("clipPath",{id:"clip0_4121_211283"},n.createElement("rect",{width:"40",height:"72",fill:"white"}))))}function I({color:e="#699BF7"}){return n.createElement("svg",{width:"40",height:"72",viewBox:"0 0 40 72",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("g",{clipPath:"url(#clip0_4121_211302)"},n.createElement("path",{d:"M1.59945 13.1347C1.69191 12.2997 2.28702 11.6068 3.09854 11.3894L33.2368 3.31384C34.0484 3.09639 34.9102 3.39889 35.4078 4.07583L43.442 15.006L0.106658 26.6177L1.59945 13.1347Z",fill:e}),n.createElement("path",{d:"M0.49585 28.071L77.3176 7.48667C78.4055 7.19517 79.5237 7.84077 79.8152 8.92866L93.0608 58.3616C93.3523 59.4495 92.7067 60.5677 91.6188 60.8592L16.7668 80.9157C15.6789 81.2072 14.5607 80.5616 14.2692 79.4737L0.49585 28.071Z",fill:e})),n.createElement("defs",null,n.createElement("clipPath",{id:"clip0_4121_211302"},n.createElement("rect",{width:"40",height:"72",fill:"white"}))))}function w({color:e="#699BF7"}){return n.createElement("svg",{width:"40",height:"72",viewBox:"0 0 40 72",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("g",{clipPath:"url(#clip0_1508_10125)"},n.createElement("path",{d:"M114.56 0.523225L5.97986 10.0227C2.09706 10.3624 -0.43629 14.2562 0.826349 17.9436L23.8419 80.1745C24.7355 82.7842 27.2933 84.4483 30.0413 84.2079L103.746 77.7596C106.494 77.5192 108.724 75.4361 109.151 72.7109L121.01 7.42886C121.613 3.57818 118.442 0.183524 114.56 0.523225Z",fill:e})),n.createElement("defs",null,n.createElement("clipPath",{id:"clip0_1508_10125"},n.createElement("rect",{width:"40",height:"72",fill:"white"}))))}function T({color:e="#699BF7"}){return n.createElement("svg",{width:"40",height:"72",viewBox:"0 0 40 72",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("g",{clipPath:"url(#clip0_1_2)"},n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.0018 18.1129C2.35849 15.712 3.7829 13.2449 6.18378 12.6015L8.11564 12.0839L28.0447 86.4602L26.1128 86.9778C23.712 87.6211 21.2448 86.1967 20.6015 83.7958L3.0018 18.1129ZM30.9425 85.6837L11.0134 11.3074L67.0371 -3.70406L86.9662 70.6722L30.9425 85.6837ZM89.864 69.8958L69.9349 -4.48052L71.8667 -4.99815C74.2676 -5.64147 76.7348 -4.21705 77.3781 -1.81617L94.9778 63.8668C95.6211 66.2677 94.1967 68.7348 91.7958 69.3781L89.864 69.8958Z",fill:e})),n.createElement("defs",null,n.createElement("clipPath",{id:"clip0_1_2"},n.createElement("rect",{width:"40",height:"72",fill:"white"}))))}function S({color:e="#699BF7"}){return n.createElement("svg",{width:"40",height:"72",viewBox:"0 0 40 72",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("g",{clipPath:"url(#clip0_1508_9936)"},n.createElement("path",{d:"M1.28373 39.4007L27.401 4.53364C29.0584 2.33788 31.9967 1.55056 34.5299 2.62346L74.5817 19.7606C76.9322 20.7561 78.3955 23.1298 78.2289 25.677L74.5428 65.0534C74.3751 67.6187 72.5917 69.7921 70.1085 70.4574L30.506 81.0689C28.0228 81.7343 25.3917 80.7438 23.9638 78.606L1.08334 46.3481C-0.334505 44.2255 -0.254107 41.4381 1.28373 39.4007Z",fill:e})),n.createElement("defs",null,n.createElement("clipPath",{id:"clip0_1508_9936"},n.createElement("rect",{width:"40",height:"72",fill:"white"}))))}function C({color:e="#699BF7"}){return n.createElement("svg",{width:"40",height:"72",viewBox:"0 0 40 72",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("g",{clipPath:"url(#clip0_1508_9948)"},n.createElement("path",{d:"M77.1821 12.7227L54.9038 -0.139714C53.5257 -0.935364 51.8879 -1.15098 50.3509 -0.739117L23.3659 6.49148C21.8288 6.90334 20.5183 7.90893 19.7227 9.28704L6.8603 31.5654C6.06465 32.9435 5.84904 34.5812 6.2609 36.1183L13.4915 63.1032C13.9034 64.6403 14.9089 65.9508 16.2871 66.7465L38.5654 79.6089C39.9435 80.4045 41.5812 80.6201 43.1183 80.2083L70.1032 72.9777C71.6403 72.5658 72.9508 71.5602 73.7465 70.1821L86.6089 47.9038C87.4045 46.5257 87.6201 44.888 87.2083 43.3509L79.9777 16.3659C79.5658 14.8288 78.5602 13.5183 77.1821 12.7227Z",fill:e})),n.createElement("defs",null,n.createElement("clipPath",{id:"clip0_1508_9948"},n.createElement("rect",{width:"40",height:"72",fill:"white"}))))}function A({color:e="#699BF7"}){return n.createElement("svg",{width:"40",height:"72",viewBox:"0 0 40 72",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("g",{clipPath:"url(#clip0_1508_9990)"},n.createElement("path",{d:"M4.38961 47.4437L8.7529 18.3221C9.07419 15.9214 10.8074 13.9494 13.147 13.3225L79.3093 -4.40567C81.6489 -5.03256 84.1359 -4.1913 85.6145 -2.2729L103.954 20.7655C104.931 22.033 105.361 23.6381 105.149 25.2242L100.785 54.3458C100.464 56.7465 98.7309 58.7186 96.3914 59.3454L30.229 77.0736C27.8895 77.7005 25.4024 76.8592 23.9238 74.9408L5.58431 51.9024C4.60744 50.635 4.17733 49.0298 4.38961 47.4437Z",fill:e})),n.createElement("defs",null,n.createElement("clipPath",{id:"clip0_1508_9990"},n.createElement("rect",{width:"40",height:"72",fill:"white"}))))}function O({color:e="#699BF7"}){return n.createElement("svg",{width:"40",height:"72",viewBox:"0 0 40 72",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("g",{clipPath:"url(#clip0_1508_10069)"},n.createElement("path",{d:"M78.3034 46.7945L75.2573 11.9772C74.9685 8.67607 72.0583 6.23413 68.7572 6.52293L5.97724 12.0155C2.67614 12.3043 0.234196 15.2145 0.523004 18.5156L3.56912 53.3329C3.75676 55.4776 5.07913 57.3574 7.03428 58.2588L40.0733 74.3612C42.003 75.2509 44.2594 75.0535 46.0054 73.8422L75.7463 52.2473C77.5152 51.0201 78.4911 48.9392 78.3034 46.7945Z",fill:e})),n.createElement("defs",null,n.createElement("clipPath",{id:"clip0_1508_10069"},n.createElement("rect",{width:"40",height:"72",fill:"white"}))))}function N({color:e="#699BF7"}){return n.createElement("svg",{width:"40",height:"72",viewBox:"0 0 40 72",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("g",{clipPath:"url(#clip0_1508_10082)"},n.createElement("path",{d:"M53.8362 -0.906348L28.8877 3.49274C25.6243 4.06816 23.4453 7.18012 24.0207 10.4435L25.9888 21.6046C26.5642 24.868 24.3852 27.98 21.1218 28.5554L9.96064 30.5234C6.69727 31.0988 4.51826 34.2108 5.09368 37.4741L9.49277 62.4226C10.0682 65.686 13.1801 67.865 16.4435 67.2896L27.6047 65.3216C30.868 64.7461 33.98 66.9252 34.5554 70.1885L36.5234 81.3496C37.0988 84.613 40.2108 86.792 43.4741 86.2166L68.4226 81.8175C71.686 81.2421 73.865 78.1301 73.2896 74.8668L71.3216 63.7056C70.7462 60.4423 72.9252 57.3303 76.1885 56.7549L87.3497 54.7869C90.613 54.2115 92.792 51.0995 92.2166 47.8362L87.8175 22.8877C87.2421 19.6243 84.1302 17.4453 80.8668 18.0207L69.7057 19.9887C66.4423 20.5641 63.3304 18.3851 62.7549 15.1218L60.7869 3.96061C60.2115 0.697243 57.0996 -1.48177 53.8362 -0.906348Z",fill:e})),n.createElement("defs",null,n.createElement("clipPath",{id:"clip0_1508_10082"},n.createElement("rect",{width:"40",height:"72",fill:"white"}))))}function L({color:e="#699BF7"}){return n.createElement("svg",{width:"40",height:"72",viewBox:"0 0 40 72",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("g",{clipPath:"url(#clip0_1508_10095)"},n.createElement("path",{d:"M53.9511 20.3098L42.1525 3.16336C39.1912 0.00572091 33.9624 0.927699 32.2597 4.90774L27.0372 25.0555C26.4488 26.4308 25.3678 27.5367 24.0063 28.1564L3.71302 33.8825C-0.294145 35.7063 -1.03771 41.0813 2.32381 43.9245L20.084 54.7429C21.247 55.7266 21.9924 57.1158 22.1689 58.6287L21.3874 79.2433C21.8923 83.5712 26.6965 85.9346 30.4331 83.6935L46.7061 70.2694C47.9748 69.5084 49.4799 69.243 50.9323 69.5242L70.8153 76.573C75.0931 77.401 78.7991 73.537 77.7934 69.2974L70.0084 50.1933C69.6568 48.7113 69.8821 47.1509 70.6385 45.8288L83.6275 29.5885C85.8139 25.767 83.2768 20.9705 78.8875 20.6272L57.8597 22.1872C56.3683 22.0705 54.9743 21.401 53.9511 20.3098Z",fill:e})),n.createElement("defs",null,n.createElement("clipPath",{id:"clip0_1508_10095"},n.createElement("rect",{width:"40",height:"72",fill:"white"}))))}function R({color:e="#699BF7"}){return n.createElement("svg",{width:"40",height:"72",viewBox:"0 0 40 72",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("g",{clipPath:"url(#clip0_1508_10138)"},n.createElement("path",{d:"M12.85 78.4563L1.39908 13.5151C0.701528 9.55913 4.01276 6.04841 8.00276 6.51361L106.493 17.9966C109.127 18.3037 111.247 20.3031 111.707 22.9144L118.224 59.876C118.8 63.1393 116.621 66.2513 113.357 66.8267L19.8007 83.3233C16.5373 83.8987 13.4254 81.7197 12.85 78.4563Z",fill:e})),n.createElement("defs",null,n.createElement("clipPath",{id:"clip0_1508_10138"},n.createElement("rect",{width:"40",height:"72",fill:"white"}))))}function P({color:e="#699BF7"}){return n.createElement("svg",{width:"40",height:"72",viewBox:"0 0 40 72",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("g",{clipPath:"url(#clip0_1508_10170)"},n.createElement("path",{d:"M3.52293 10.7657C3.23413 7.46464 5.67607 4.55445 8.97717 4.26564L88.0582 -2.65305C91.3593 -2.94186 94.2695 -0.499919 94.5583 2.80118L98.93 52.7701C99.3106 57.1197 95.0142 60.5495 90.7364 59.6753C85.6875 58.6434 79.1215 57.7867 72.6631 58.3517C59.3871 59.5132 46.8006 72.394 33.8579 73.5263C25.4977 74.2577 16.8948 72.2143 12.2232 70.8232C10.0275 70.1694 8.54803 68.2028 8.34835 65.9205L3.52293 10.7657Z",fill:e})),n.createElement("defs",null,n.createElement("clipPath",{id:"clip0_1508_10170"},n.createElement("rect",{width:"40",height:"72",fill:"white"}))))}function M({color:e="#699BF7"}){return n.createElement("svg",{width:"40",height:"72",viewBox:"0 0 40 72",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("g",{clipPath:"url(#clip0_1508_10181)"},n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.3176 14.6705C1.88439 9.71881 5.54731 5.35352 10.499 4.92031L74.9606 -0.719357C77.7924 -0.967105 80.3366 0.794636 81.185 3.38441L12.8314 9.36458C8.98009 9.70152 6.13115 13.0967 6.4681 16.948L10.3685 61.53L7.72221 60.9899C6.90554 60.8233 6.29563 60.1395 6.22298 59.3092L2.3176 14.6705ZM13.0928 12.3532L15.0852 12.1789L81.6029 6.35932L83.1972 6.21983C86.4983 5.93102 89.4085 8.37296 89.6973 11.6741L93.3699 53.6516C93.7502 57.9988 89.453 61.4325 85.1642 60.627C80.8923 59.8246 75.5894 59.2269 70.3662 59.6838C64.4909 60.1979 58.7686 63.3152 53.0827 66.4127C47.4685 69.4711 41.8899 72.5101 36.2345 73.0049C29.1375 73.6258 21.8422 71.9786 17.6488 70.7666C15.4459 70.1298 13.96 68.1595 13.7601 65.8752L13.4347 62.1558L9.63099 18.679L9.45668 16.6866C9.26414 14.4858 10.8921 12.5457 13.0928 12.3532Z",fill:e})),n.createElement("defs",null,n.createElement("clipPath",{id:"clip0_1508_10181"},n.createElement("rect",{width:"40",height:"72",fill:"white"}))))}function k({color:e="#699BF7"}){return n.createElement("svg",{width:"40",height:"72",viewBox:"0 0 40 72",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("g",{clipPath:"url(#clip0_1508_10194)"},n.createElement("path",{d:"M13.5958 79.9017C8.77167 80.3237 5.46072 75.1516 7.86364 70.9473L21.5019 47.0847C22.744 44.9115 22.5064 42.1954 20.9058 40.2709L3.33102 19.1391C0.234531 15.4159 2.59704 9.74744 7.42117 9.32538L90.1645 2.08628C92.2987 1.89955 94.3706 2.86499 95.6004 4.61925L115.109 32.4478C116.341 34.205 116.541 36.4863 115.633 38.4307L101.253 69.2241C100.346 71.1653 98.4734 72.4758 96.3391 72.6626L13.5958 79.9017Z",fill:e})),n.createElement("defs",null,n.createElement("clipPath",{id:"clip0_1508_10194"},n.createElement("rect",{width:"40",height:"72",fill:"white"}))))}function D({color:e="#699BF7"}){return n.createElement("svg",{width:"40",height:"72",viewBox:"0 0 40 72",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("g",{clipPath:"url(#clip0_2094_1753)"},n.createElement("path",{d:"M16.731 20.0212C13.2433 16.3882 7.10166 18.409 6.4527 23.4032L1.37881 62.4502C0.884517 66.2541 4.03759 69.5386 7.85853 69.1999L47.08 65.7235C52.0965 65.2788 54.3663 59.2248 50.8786 55.5917L46.4318 50.9596L85.863 13.1058C88.2534 10.811 88.331 7.01278 86.0361 4.62231L69.0925 -13.0273C66.7977 -15.4178 62.9995 -15.4953 60.609 -13.2005L21.1778 24.6533L16.731 20.0212Z",fill:e})),n.createElement("defs",null,n.createElement("clipPath",{id:"clip0_2094_1753"},n.createElement("rect",{width:"40",height:"72",fill:"white"}))))}function F({color:e="#699BF7"}){return n.createElement("svg",{width:"40",height:"72",viewBox:"0 0 40 72",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("g",{clipPath:"url(#clip0_2094_1725)"},n.createElement("path",{d:"M52.9651 15.8477L35.2998 41.0764L59.9709 58.3513C64.1126 51.7654 65.9172 43.6796 64.4598 35.4144C63.0477 27.4063 58.8158 20.6037 52.9651 15.8477ZM49.7126 13.5191L32.0232 38.7821L6.79163 21.1147C11.5638 14.9703 18.5448 10.5091 26.81 9.05173C35.0608 7.59689 43.133 9.39265 49.7126 13.5191ZM4.53573 24.4182L29.7289 42.0587L12.4783 66.6951C6.35043 61.9235 1.90212 54.9524 0.447277 46.7016C-0.962241 38.7078 0.67945 30.8817 4.53573 24.4182ZM15.779 68.955C22.2492 72.8262 30.089 74.4763 38.0971 73.0642C46.0909 71.6547 52.8835 67.4354 57.6382 61.601L33.0055 44.353L15.779 68.955Z",fill:e})),n.createElement("defs",null,n.createElement("clipPath",{id:"clip0_2094_1725"},n.createElement("rect",{width:"40",height:"72",fill:"white"}))))}function x({color:e="#699BF7"}){return n.createElement("svg",{width:"40",height:"72",viewBox:"0 0 40 72",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("g",{clipPath:"url(#clip0_2094_1739)"},n.createElement("path",{d:"M28.644 8.74898L34.0412 39.3575L64.2193 34.0363C62.5252 26.3602 58.0606 19.2724 51.1138 14.4082C44.3027 9.63898 36.299 7.84315 28.644 8.74898Z",fill:e}),n.createElement("path",{d:"M25.4365 9.29133L30.8376 39.9224L0.206747 45.3234C-0.826765 37.5308 0.944422 29.3435 5.80863 22.3967C10.6728 15.45 17.7605 10.9854 25.4365 9.29133Z",fill:e}),n.createElement("path",{d:"M0.79417 48.523L31.4025 43.126L36.7236 73.3038C28.9311 74.3373 20.7439 72.5661 13.7972 67.7019C6.98606 62.9327 2.56115 56.0261 0.79417 48.523Z",fill:e}),n.createElement("path",{d:"M39.9232 72.7164C47.4263 70.9495 54.3331 66.5246 59.1023 59.7134C63.8715 52.9023 65.6673 44.8987 64.7616 37.2438L34.606 42.5611L39.9232 72.7164Z",fill:e})),n.createElement("defs",null,n.createElement("clipPath",{id:"clip0_2094_1739"},n.createElement("rect",{width:"40",height:"72",fill:"white"}))))}function U({color:e="#699BF7"}){return n.createElement("svg",{width:"40",height:"72",viewBox:"0 0 40 72",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("g",{clipPath:"url(#clip0_2094_1770)"},n.createElement("path",{d:"M16.7681 5.48015C8.61136 6.30146 2.66482 13.5796 3.48613 21.7363L5.92497 45.9576C6.74628 54.1143 14.0244 60.0609 22.1811 59.2396L22.4765 59.2098L23.2086 66.48C23.4012 68.393 25.6685 69.2962 27.1238 68.0396L39.3133 57.5145L68.2606 54.5998C76.4174 53.7785 82.3639 46.5004 81.5426 38.3436L79.1038 14.1224C78.2825 5.96563 71.0043 0.01909 62.8476 0.840394L16.7681 5.48015Z",fill:e})),n.createElement("defs",null,n.createElement("clipPath",{id:"clip0_2094_1770"},n.createElement("rect",{width:"40",height:"72",fill:"white"}))))}function B({color:e="#699BF7"}){return n.createElement("svg",{width:"40",height:"72",viewBox:"0 0 40 72",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("g",{clipPath:"url(#clip0_2094_1787)"},n.createElement("path",{d:"M4.01281 14.3118C3.61202 11.0224 5.95368 8.03096 9.24306 7.63016L9.73939 7.56969L10.5256 14.022L4.07329 14.8081L4.01281 14.3118ZM4.43614 17.7861L12.7213 85.7832C13.122 89.0726 16.1135 91.4143 19.4029 91.0135L19.8992 90.953L10.8884 16.9999L4.43614 17.7861ZM13.8664 16.6371L22.8772 90.5902L106.757 80.3698C110.046 79.969 112.388 76.9776 111.987 73.6882L103.702 5.69107L13.8664 16.6371ZM103.339 2.71309L103.279 2.21676C102.878 -1.07262 99.8864 -3.41428 96.597 -3.01349L12.7174 7.20684L13.5035 13.6591L103.339 2.71309Z",fill:e})),n.createElement("defs",null,n.createElement("clipPath",{id:"clip0_2094_1787"},n.createElement("rect",{width:"40",height:"72",fill:"white"}))))}function G(){return n.createElement("svg",{width:"40",height:"72",viewBox:"0 0 40 72",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("g",{clipPath:"url(#clip0_5859_244544)"},n.createElement("g",{clipPath:"url(#clip1_5859_244544)"},n.createElement("rect",{x:"-0.191895",y:"16.3726",width:"64",height:"64.7102",rx:"4",transform:"rotate(-15 -0.191895 16.3726)",fill:"#2F2746"}),n.createElement("rect",{x:"12.5732",y:"25.3755",width:"44",height:"6",transform:"rotate(-15 12.5732 25.3755)",fill:"#514670"}),n.createElement("rect",{x:"23.4062",y:"34.8961",width:"32",height:"6",transform:"rotate(-15 23.4062 34.8961)",fill:"#514670"}),n.createElement("rect",{x:"26.5122",y:"46.4872",width:"32",height:"6",transform:"rotate(-15 26.5122 46.4872)",fill:"#514670"}),n.createElement("rect",{x:"21.8906",y:"60.1488",width:"6",height:"6",transform:"rotate(-15 21.8906 60.1488)",fill:"#514670"}))),n.createElement("defs",null,n.createElement("clipPath",{id:"clip0_5859_244544"},n.createElement("rect",{width:"40",height:"72",fill:"white"})),n.createElement("clipPath",{id:"clip1_5859_244544"},n.createElement("rect",{x:"-0.191895",y:"16.3726",width:"64",height:"64.7102",rx:"4",transform:"rotate(-15 -0.191895 16.3726)",fill:"white"}))))}},412508:(e,t,r)=>{"use strict";r.d(t,{k:()=>i});var n=r(120304);function i(){return(0,n.w1)(e=>{var t;let r=(null==(t=null==e?void 0:e.openFile)?void 0:t.votingSessions)||null;return null==r?void 0:r.find(e=>e.inProgress)})}},966248:(e,t,r)=>{"use strict";let n;r.d(t,{CY:()=>R,EV:()=>L,Kq:()=>M,Mr:()=>I,cb:()=>C,ew:()=>S,o7:()=>N,oL:()=>O,oN:()=>A,sp:()=>T,ys:()=>P});var i=r(307824),a=r(120304),o=r(365224),l=r(888932),s=r(560072),c=r(323576),d=r(34664),u=r(202613),p=r(585508),m=r(762820),_=r(514916),h=r(644516),g=r(841676),f=r(694752),E=r(611492),y=r(45884),b=r(883820),v=r(412508);function I(e){let t=(0,s.t)("voting.modal.voting_setup_responsive_placeholder_prompt",{numVotes:e.userVoteLimit});return e.title||t}let w=()=>!((0,l.KL)()||(0,l.Cw)());function T(){let e=C(),t=!!(0,v.k)(),r=w()&&("eligible"===e||"eligibleWithUpgrade"===e),[n,a]=i.useState(t&&r);return i.useEffect(()=>{if(!t){a(!1);return}r&&a(!0)},[t,r]),r||n}var S=((n=S||{}).FEATURE_DISABLED="featureDisabled",n.ELIGIBLE_WITH_MOVE_FILE_TO_PAID_TEAM="eligibleWithMoveFileToPaidTeam",n.ELIGIBLE_WITH_UPGRADE="eligibleWithUpgrade",n.ELIGIBLE="eligible",n);function C(){let e=(0,a.w1)(e=>e.openFile),t=(0,a.w1)(t=>e&&e.teamId?t.teams[e.teamId]:null),r=(0,a.w1)(e=>e.isFreeUser),n=(0,d.SK)((null==e?void 0:e.key)||"").enabled,i=null==e?void 0:e.isTryFile,o=!!e&&(e.canEdit||n);return i||!o?"featureDisabled":e.parentOrgId?"eligible":t?(0,h.uO)(t)?"eligible":"eligibleWithUpgrade":r?"eligibleWithUpgrade":"eligibleWithMoveFileToPaidTeam"}function A(){var e;let t=(0,a.w1)(e=>e.mirror.appModel.votingSessionInfo),r=p._k.getUserId(),n=r&&(null==(e=t.userIdToVoteStampIds[r])?void 0:e.length)||0;return t.userVoteLimit-n}function O(e){return Object.values(e.userIdToNodeVotes).reduce((e,t)=>e+t.length,0)}function N(e){return new Set(e.reduce((e,t)=>{let r=O(t),n=e.voteCount;return r<n?e:r>n?{voteCount:r,nodes:[t]}:{voteCount:n,nodes:[...e.nodes,t]}},{voteCount:0,nodes:[]}).nodes.map(e=>e.guid))}function L(e){return function(t,r){return t===e?-1:r===e?1:t.localeCompare(r)}}function R(){let e=(0,a.w1)(e=>e.mirror.appModel.votingSessionInfo.votingStage),t=(0,o.my)(E.V3);i.useEffect(()=>{(e===m.A5$.JOINED||e===m.A5$.NOT_JOINED)&&t({type:"SET_VIEW",payload:E.y6.DEFAULT})},[e,t])}function P(){let e=(0,a.w1)(e=>e.mirror.appModel.votingSessionInfo.votingStage),t=(0,o.my)(E.V3),r=(0,y.yW)(),n=(0,y.aW)();i.useEffect(()=>{e!==m.A5$.ENDED||r||(t({type:"VOTING_ENDED"}),(0,b.q)(n))},[e,t,r,n])}function M(e){let t=C(),r=(0,a.w1)(e=>{var t;return null==(t=e.selectedView)?void 0:t.editorType}),n=(0,a.w1)(e=>e.openFile),o=(0,a.w1)(e=>n&&n.teamId?e.teams[n.teamId]:null),l=(0,a.OY)();return i.useCallback(()=>{let n="whiteboard"===r?_.aE.WHITEBOARD:_.aE.DESIGN;if("eligibleWithUpgrade"===t)l(c.A5({type:f.EP,data:{team:o,resource:g.We.VOTING,editorType:n,currentPlan:u.O.Plan.STARTER,upsellPlan:u.O.Plan.PRO}}));else if("eligible"===t)return e(),!0;return!1},[l,r,t,o,e])}},45884:(e,t,r)=>{"use strict";let n,i;r.d(t,{GE:()=>I,aW:()=>w,a_:()=>T,em:()=>y,iu:()=>b,yW:()=>S});var a=r(307824),o=r(120304),l=r(937620),s=r(365224),c=r(372152),d=r(888932),u=r(68348),p=r(762820),m=r(43716),_=r(103840),h=r(862912),g=r(412508),f=r(611492),E=r(883820),y=((n=y||{}).OPEN="meetings_panel_open",n.CLOSE="meetings_panel_close",n),b=((i=b||{}).MEETINGS_TOOLBAR="meetings_toolbar",i.MEETINGS_MINIMIZED="meetings_minimized",i.MEETINGS_PANEL="meetings_panel",i.INSERTS_MENU="inserts_menu",i.TEMPLATES_SIDEBAR="templates_sidebar",i.QUICK_ACTIONS="quick_actions",i.IPAD_MENU="ipad_menu",i.MAKE_SOMETHING_V2_ONBOARDING="make_something_v2_onboarding",i);let v=()=>{let e=(0,l.e6)();return a.useCallback((t,r)=>{e(t,{source:r})},[e])};function I(){let e=(0,s.my)(f.V3),t=v(),r=w();return a.useCallback(n=>{n&&t("meetings_panel_open",n.source),(0,E.q)(()=>{r()}),e({type:"OPEN"})},[t,e,r])}function w(){let e=(0,s.my)(f.V3),t=v(),r=(0,o.OY)(),n=(0,o.w1)(e=>e.mirror.appModel.votingSessionInfo);return a.useCallback(i=>{i&&t("meetings_panel_close",i.source),e({type:"CLOSE"}),n.votingStage===p.A5$.ENDED&&r(u.Tf({votingStage:p.A5$.NO_SESSION}))},[t,e,r,n])}function T(){var e,t;let r=(0,c.m4)(h.W_),n=(0,o.w1)(e=>e.music),i=(0,g.k)(),a=(0,m.wj)(),l=null!=r.time&&0!==r.time.totalTimeMs,s=!!(null==(e=n.music)?void 0:e.selectedSongID)&&!(null==(t=n.music)?void 0:t.isPaused),d=[];return l&&d.push(f.w9.TIMER),a&&void 0!==i&&d.push(f.w9.VOTING),s&&d.push(f.w9.MUSIC),d}function S(){let e=(0,_.GO)();return(null==e?void 0:e.shouldOptimizeForIpadApp)||d.cp.isIpad}},489308:(e,t,r)=>{"use strict";r.d(t,{Cq:()=>f,DY:()=>u,E$:()=>w,EN:()=>O,cU:()=>L,ik:()=>m,k1:()=>N,m6:()=>v,mr:()=>A,qo:()=>h,qq:()=>C,uQ:()=>b,um:()=>y,w9:()=>I,wh:()=>T,yq:()=>S});var n=r(51408),i=r(560072),a=r(26708),o=r(762820),l=r(506240);function s(e,t,r){return{COLOR_TO_CSS:e,CSS_TO_COLOR:new Map(Array.from(e,([e,t])=>[t,e])),LIGHT_DISPLAY:t??e,DARK_DISPLAY:r??e}}let c=s(new Map([[o.iiI.BLACK,l.Cie],[o.iiI.GRAY_DARK,l.g$$],[o.iiI.RED,l.YxL],[o.iiI.ORANGE,l.U$i],[o.iiI.YELLOW,l.u62],[o.iiI.GREEN,l.igt],[o.iiI.BLUE,l.WmW],[o.iiI.VIOLET,l.IF6],[o.iiI.WHITE,l.SM8]]),void 0,new Map([[o.iiI.BLACK,l.wVF],[o.iiI.GRAY_DARK,l.wbo],[o.iiI.BLUE,l.s1q],[o.iiI.VIOLET,l.g9K],[o.iiI.WHITE,l.wBp],[o.iiI.RED,l.SUF],[o.iiI.ORANGE,l.Yrx],[o.iiI.YELLOW,l.ABg],[o.iiI.GREEN,l._uq]])),d=s(new Map([[o.iiI.GRAY,l.BjQ],[o.iiI.GRAY_LIGHT,l.kVp],[o.iiI.RED_LIGHT,l.IvU],[o.iiI.ORANGE_LIGHT,l.EZk],[o.iiI.YELLOW_LIGHT,l.K8h],[o.iiI.GREEN_LIGHT,l.AL0],[o.iiI.BLUE_LIGHT,l.gFA],[o.iiI.VIOLET_LIGHT,l.aMj]]),void 0,new Map([[o.iiI.GRAY,l.wbo],[o.iiI.GRAY_LIGHT,l.cD0],[o.iiI.BLUE_LIGHT,l.KiE],[o.iiI.VIOLET_LIGHT,l.Qhv],[o.iiI.RED_LIGHT,l.LPi],[o.iiI.ORANGE_LIGHT,l.yC3],[o.iiI.YELLOW_LIGHT,l.IjC],[o.iiI.GREEN_LIGHT,l.n2f]])),u=s(new Map([[o.iiI.STICKY_GRAY,l.SG3],[o.iiI.STICKY_RED,l.IFg],[o.iiI.STICKY_ORANGE,l.Oc8],[o.iiI.STICKY_YELLOW,l.EvI],[o.iiI.STICKY_GREEN,l.wpE],[o.iiI.STICKY_BLUE,l.mRt],[o.iiI.STICKY_VIOLET,l.qG6],[o.iiI.STICKY_PINK,l.qWU],[o.iiI.STICKY_GRAY_LIGHT,l.Wsn]]),new Map([[o.iiI.STICKY_GRAY_LIGHT,l.CK4],[o.iiI.STICKY_GRAY,l.szv],[o.iiI.STICKY_BLUE,l.kZN],[o.iiI.STICKY_VIOLET,l.yow],[o.iiI.STICKY_RED,l.wvy],[o.iiI.STICKY_PINK,l.k5E],[o.iiI.STICKY_ORANGE,l.sxz],[o.iiI.STICKY_YELLOW,l.QH2],[o.iiI.STICKY_GREEN,l.Ks8]]),new Map([[o.iiI.STICKY_GRAY_LIGHT,l.i0m],[o.iiI.STICKY_GRAY,l.yKt],[o.iiI.STICKY_BLUE,l.q07],[o.iiI.STICKY_VIOLET,l.SqB],[o.iiI.STICKY_RED,l.cJp],[o.iiI.STICKY_PINK,l.acK],[o.iiI.STICKY_ORANGE,l.aKv],[o.iiI.STICKY_YELLOW,l.sNg],[o.iiI.STICKY_GREEN,l.asO]])),p=s(new Map([[o.iiI.HIGHLIGHT_GRAY,l.jMz],[o.iiI.HIGHLIGHT_RED,l.odI],[o.iiI.HIGHLIGHT_ORANGE,l.ELR],[o.iiI.HIGHLIGHT_YELLOW,l.w5M],[o.iiI.HIGHLIGHT_GREEN,l.uoI],[o.iiI.HIGHLIGHT_BLUE,l.eeA],[o.iiI.HIGHLIGHT_VIOLET,l.ywn],[o.iiI.HIGHLIGHT_WHITE,l.UV6]]),new Map([[o.iiI.HIGHLIGHT_RED,l.uu5],[o.iiI.HIGHLIGHT_YELLOW,l.YfJ],[o.iiI.HIGHLIGHT_GREEN,l.Ccb],[o.iiI.HIGHLIGHT_BLUE,l.ElF],[o.iiI.HIGHLIGHT_VIOLET,l.eOs],[o.iiI.HIGHLIGHT_ORANGE,l.cxo],[o.iiI.HIGHLIGHT_GRAY,l.ctU],[o.iiI.HIGHLIGHT_WHITE,l.cnC]]),new Map([[o.iiI.HIGHLIGHT_RED,l.uu5],[o.iiI.HIGHLIGHT_YELLOW,l.YfJ],[o.iiI.HIGHLIGHT_GREEN,l.Ccb],[o.iiI.HIGHLIGHT_BLUE,l.ElF],[o.iiI.HIGHLIGHT_VIOLET,l.eOs],[o.iiI.HIGHLIGHT_ORANGE,l.cxo],[o.iiI.HIGHLIGHT_GRAY,l.ctU],[o.iiI.HIGHLIGHT_WHITE,l.cnC]])),m=new Map([[o.iiI.BLACK,"Black"],[o.iiI.WHITE,"White"],[o.iiI.GRAY_DARK,"Dark gray"],[o.iiI.GRAY,"Gray"],[o.iiI.GRAY_LIGHT,"Light gray"],[o.iiI.BLUE,"Blue"],[o.iiI.BLUE_LIGHT,"Light blue"],[o.iiI.VIOLET,"Violet"],[o.iiI.VIOLET_LIGHT,"Light violet"],[o.iiI.RED,"Red"],[o.iiI.RED_LIGHT,"Light red"],[o.iiI.ORANGE,"Orange"],[o.iiI.ORANGE_LIGHT,"Light orange"],[o.iiI.YELLOW,"Yellow"],[o.iiI.YELLOW_LIGHT,"Light yellow"],[o.iiI.GREEN,"Green"],[o.iiI.GREEN_LIGHT,"Light green"],[o.iiI.STICKY_GRAY_LIGHT,"Light gray"],[o.iiI.STICKY_GRAY,"Gray"],[o.iiI.STICKY_BLUE,"Blue"],[o.iiI.STICKY_VIOLET,"Violet"],[o.iiI.STICKY_RED,"Red"],[o.iiI.STICKY_PINK,"Pink"],[o.iiI.STICKY_ORANGE,"Orange"],[o.iiI.STICKY_YELLOW,"Yellow"],[o.iiI.STICKY_GREEN,"Green"],[o.iiI.HIGHLIGHT_RED,"Pink"],[o.iiI.HIGHLIGHT_YELLOW,"Yellow"],[o.iiI.HIGHLIGHT_GREEN,"Green"],[o.iiI.HIGHLIGHT_BLUE,"Blue"],[o.iiI.HIGHLIGHT_VIOLET,"Violet"],[o.iiI.HIGHLIGHT_ORANGE,"Orange"],[o.iiI.HIGHLIGHT_GRAY,"Gray"],[o.iiI.HIGHLIGHT_WHITE,"White"]]),_=[o.iiI.BLACK,o.iiI.GRAY_DARK,o.iiI.RED,o.iiI.ORANGE,o.iiI.YELLOW,o.iiI.GREEN,o.iiI.BLUE,o.iiI.VIOLET,o.iiI.WHITE],h=[o.iiI.GRAY,o.iiI.GRAY_LIGHT,o.iiI.RED_LIGHT,o.iiI.ORANGE_LIGHT,o.iiI.YELLOW_LIGHT,o.iiI.GREEN_LIGHT,o.iiI.BLUE_LIGHT,o.iiI.VIOLET_LIGHT],g=[o.iiI.BLACK,o.iiI.RED,o.iiI.ORANGE,o.iiI.YELLOW,o.iiI.GREEN,o.iiI.BLUE,o.iiI.VIOLET,o.iiI.WHITE],f=[o.iiI.STICKY_GRAY,o.iiI.STICKY_RED,o.iiI.STICKY_ORANGE,o.iiI.STICKY_YELLOW,o.iiI.STICKY_GREEN,o.iiI.STICKY_BLUE,o.iiI.STICKY_VIOLET,o.iiI.STICKY_PINK,o.iiI.STICKY_GRAY_LIGHT],E=[o.iiI.HIGHLIGHT_GRAY,o.iiI.HIGHLIGHT_RED,o.iiI.HIGHLIGHT_ORANGE,o.iiI.HIGHLIGHT_YELLOW,o.iiI.HIGHLIGHT_GREEN,o.iiI.HIGHLIGHT_BLUE,o.iiI.HIGHLIGHT_VIOLET,o.iiI.HIGHLIGHT_WHITE],y=[l.Cie,l.kVp,l.YxL,l.u62,l.igt].map(e=>a.Q.parse(e));function b(){let e=v("base"),t=S(o.iiI.GRAY_LIGHT,"baseLight")||n.G0;return[...e.slice(0,2),t,...e.slice(2)]}function v(e){switch(e){case"widget":case"base":return _.map(e=>S(e,"base"));case"baseLight":return h.map(e=>S(e,"baseLight"));case"sticky":return f.map(e=>S(e,"sticky"));case"highlight":return E.map(e=>S(e,"highlight"))}}function I(){return g.map(e=>S(e,"base"))}function w(e){return"base"===e}function T(e,t,r=o.iiI.CUSTOM){let n;let i=a.Q.format(e);switch(t){case"widget":case"base":n=c.CSS_TO_COLOR.get(i);break;case"baseLight":n=d.CSS_TO_COLOR.get(i);break;case"sticky":n=u.CSS_TO_COLOR.get(i);break;case"highlight":n=p.CSS_TO_COLOR.get(i)}return n??r}function S(e,t){let r;switch(t){case"widget":case"base":r=c.COLOR_TO_CSS.get(e);break;case"baseLight":r=d.COLOR_TO_CSS.get(e);break;case"sticky":r=u.COLOR_TO_CSS.get(e);break;case"highlight":r=p.COLOR_TO_CSS.get(e)}return r?a.Q.parse(r):void 0}function C(e,t="base",r=(0,i.t)("whiteboard.colors.custom")){let n=Array.isArray(e)?e[0]:e,a=T(n,t);return"base"===t&&a===o.iiI.CUSTOM&&(a=T(n,"baseLight")),function(e){switch(e){case o.iiI.BLACK:return(0,i.t)("whiteboard.colors.black");case o.iiI.WHITE:return(0,i.t)("whiteboard.colors.white");case o.iiI.GRAY_DARK:return(0,i.t)("whiteboard.colors.dark_gray");case o.iiI.GRAY:return(0,i.t)("whiteboard.colors.gray");case o.iiI.GRAY_LIGHT:return(0,i.t)("whiteboard.colors.light_gray");case o.iiI.BLUE:return(0,i.t)("whiteboard.colors.blue");case o.iiI.BLUE_LIGHT:return(0,i.t)("whiteboard.colors.light_blue");case o.iiI.VIOLET:return(0,i.t)("whiteboard.colors.violet");case o.iiI.VIOLET_LIGHT:return(0,i.t)("whiteboard.colors.light_violet");case o.iiI.RED:return(0,i.t)("whiteboard.colors.red");case o.iiI.RED_LIGHT:return(0,i.t)("whiteboard.colors.light_red");case o.iiI.ORANGE:return(0,i.t)("whiteboard.colors.orange");case o.iiI.ORANGE_LIGHT:return(0,i.t)("whiteboard.colors.light_orange");case o.iiI.YELLOW:return(0,i.t)("whiteboard.colors.yellow");case o.iiI.YELLOW_LIGHT:return(0,i.t)("whiteboard.colors.light_yellow");case o.iiI.GREEN:return(0,i.t)("whiteboard.colors.green");case o.iiI.GREEN_LIGHT:return(0,i.t)("whiteboard.colors.light_green");case o.iiI.STICKY_GRAY_LIGHT:return(0,i.t)("whiteboard.colors.light_gray");case o.iiI.STICKY_GRAY:return(0,i.t)("whiteboard.colors.gray");case o.iiI.STICKY_BLUE:return(0,i.t)("whiteboard.colors.blue");case o.iiI.STICKY_VIOLET:return(0,i.t)("whiteboard.colors.violet");case o.iiI.STICKY_RED:return(0,i.t)("whiteboard.colors.red");case o.iiI.STICKY_PINK:return(0,i.t)("whiteboard.colors.pink");case o.iiI.STICKY_ORANGE:return(0,i.t)("whiteboard.colors.orange");case o.iiI.STICKY_YELLOW:return(0,i.t)("whiteboard.colors.yellow");case o.iiI.STICKY_GREEN:return(0,i.t)("whiteboard.colors.green");case o.iiI.HIGHLIGHT_RED:return(0,i.t)("whiteboard.colors.pink");case o.iiI.HIGHLIGHT_YELLOW:return(0,i.t)("whiteboard.colors.yellow");case o.iiI.HIGHLIGHT_GREEN:return(0,i.t)("whiteboard.colors.green");case o.iiI.HIGHLIGHT_BLUE:return(0,i.t)("whiteboard.colors.blue");case o.iiI.HIGHLIGHT_VIOLET:return(0,i.t)("whiteboard.colors.violet");case o.iiI.HIGHLIGHT_ORANGE:return(0,i.t)("whiteboard.colors.orange");case o.iiI.HIGHLIGHT_GRAY:return(0,i.t)("whiteboard.colors.gray");case o.iiI.HIGHLIGHT_WHITE:return(0,i.t)("whiteboard.colors.white");default:return}}(a)??r}function A(e,t="base"){let r=e+1;switch(t){case"highlight":return(0,i.t)("whiteboard.colors.palette.highlight",{index:r});case"baseLight":return(0,i.t)("whiteboard.colors.palette.light",{index:r});default:return(0,i.t)("whiteboard.colors.palette.base",{index:r})}}function O(e,t="rgba(255, 255, 255, 1)"){return c.COLOR_TO_CSS.get(e)??t}function N(e,t="rgba(255, 255, 255, 1)"){return u.COLOR_TO_CSS.get(e)??t}function L(e,t,r){let n;let i={...e,a:1},l=T(i,t);if(l===o.iiI.NONE||l===o.iiI.CUSTOM)return a.Q.format(i);switch(t){case"baseLight":n=d;break;case"sticky":n=u;break;case"highlight":n=p;break;default:n=c}return("light"===r?n.LIGHT_DISPLAY.get(l):n.DARK_DISPLAY.get(l))??a.Q.format(i)}},42576:(e,t,r)=>{"use strict";r.d(t,{EH:()=>k,kG:()=>M});var n=r(307824),i=r(125504),a=r.n(i),o=r(51408),l=r(721500),s=r(4580),c=r(843148),d=r(570464),u=r(853688),p=r(418084),m=r(560072),_=r(26708),h=r(238152),g=r(46),f=r(970176),E=r(142548),y=r(664300),b=r(964900),v=r(894228),I=r(449748),w=r(583772),T=r(935164),S=r(489308),C=r(140944),A=r(763456),O=r(591752),N=r(954112);let L=(0,l.qe)(A.IDt);function R(e){return Array.isArray(e)?1===e.length?e[0]:void 0:e}let P={right:T.mq,center:void 0,left:T.Km};function M({value:e,onColorChange:t,onOpacityChange:r,recordingKey:i,paletteType:a,additionalContentsTop:o,buttonSize:l,buttonBackground:c,buttonClassName:d,buttonCaretType:u,dropperDisabled:p,optionSize:m,customOpacity:_,ariaLabel:h,alignment:g,inlineButtonTooltip:E,palettePickerPopoverWrapper:b,onlyShowCustomColorPopover:v,isColorPopoverOpen:I,shouldDisableDataTooltip:w,setIsColorPopoverOpen:T,positionX:C,positionY:A}){let O=(0,s.q)(e=>e.mirror.selectionProperties.whiteboardNumSelectedByType),N={name:"figjam_node_color_change",properties:{node_type:O&&1===Object.keys(O).length&&Object.keys(O).pop()||"MIXED",...O}},{variations:L,type:R}=(0,y.EV)(),P=(R===f.i.DEFAULT?(0,S.m6)(a):L[a].slice()).map((e,t)=>({option:e,tooltip:R===f.i.DEFAULT?(0,S.qq)(e,a):(0,S.mr)(t,a)})),M=P.length;if("base"===a){let e=(R===f.i.DEFAULT?(0,S.m6)("baseLight"):L.baseLight).map((e,t)=>({option:e,tooltip:R===f.i.DEFAULT?(0,S.qq)(e,"baseLight"):(0,S.mr)(t,"baseLight")}));P.push(...e)}return n.createElement(k,{options:P,value:{option:e},onColorChange:e=>t(e.option),onOpacityChange:r,recordingKey:i,paletteType:a,numColumns:M,analytics:N,additionalContentsTop:o,buttonSize:l,buttonBackground:c,buttonClassName:d,buttonCaretType:u,dropperDisabled:p,optionSize:m,customOpacity:_,alignment:g,ariaLabel:h,inlineButtonTooltip:E,palettePickerPopoverWrapper:b,onlyShowCustomColorPopover:v,isColorPopoverOpen:I,shouldDisableDataTooltip:w,setIsColorPopoverOpen:T,positionX:C,positionY:A})}function k({value:e,onColorChange:t,onOpacityChange:r,recordingKey:i,additionalContentsTop:a,additionalContentsBottom:l,options:s,inlineButtonTooltip:c,paletteType:u,numColumns:p,buttonSize:_,buttonBackground:h="dark",buttonClassName:g,buttonCaretType:f="down",dropperDisabled:E,optionSize:y,isDesignInlineMenu:v,analytics:T,customOpacity:C,ariaLabel:A,alignment:O,positionX:N,positionY:L,palettePickerPopoverWrapper:R,shouldDisableDataTooltip:P,isColorPopoverOpen:M,setIsColorPopoverOpen:k,shouldCustomColorPopoverCloseOnEscape:F,hasNonWhiteboardColors:x,onlyShowCustomColorPopover:U,isCustomColorSwatchShown:B,customOptions:G,customOptionsHeader:V}){let[H,W]=n.useState(!1),K={...(Array.isArray(e.option)?e.option[0]:e.option)??o.a8};return C&&(K.a=C),n.useEffect(()=>{k&&k(H)},[H,k]),U||H?n.createElement(w.i,{target:n.createElement(b.q,{onClick:()=>W(!H),caret:f,active:"light"===h?"LOUD":"NORMAL",recordingKey:(0,d.Mx)(i,"colorSelectorButton"),className:g,tooltip:c||(0,S.qq)(e.option,u,(0,m.t)("whiteboard.inline_menu.color")),role:"combobox",ariaLabel:(0,m.t)("whiteboard.inline_menu.color_selector_label",{currentColor:(0,S.qq)(e.option,u).toLocaleLowerCase()})},n.createElement(I.uA,{size:_,value:e.option,paletteType:u,background:h})),color:K,isOpen:H,onColorChange:e=>{t({option:e})},onOpacityChange:e=>{r&&r(e)},onClose:()=>{W(!1)},theme:"dark",analytics:T,recordingKey:(0,d.Mx)(i,"customColorPopover"),showOpacity:null!=C,alignment:O,positionX:N,positionY:L,dropperDisabled:E,shouldCloseOnEscape:F}):n.createElement(D,{value:e,options:s,onColorChange:t,onCustomColor:()=>W(!0),additionalContentsTop:a,additionalContentsBottom:l,inlineButtonTooltip:c,paletteType:u,buttonSize:_,buttonClassName:g,buttonCaretType:f,buttonBackground:h,optionSize:y,isDesignInlineMenu:v,numColumns:p,analytics:T,recordingKey:i,ariaLabel:A,alignment:O,palettePickerPopoverWrapper:R,shouldDisableDataTooltip:P,positionX:N,positionY:L,isColorPopoverOpen:M,setIsColorPopoverOpen:k,hasNonWhiteboardColors:x,isCustomColorSwatchShown:B,customOptions:G,customOptionsHeader:V})}function D({value:e,onColorChange:t,onCustomColor:r,recordingKey:i,additionalContentsTop:l,additionalContentsBottom:s,options:f,inlineButtonTooltip:w,paletteType:T,buttonSize:A,buttonClassName:M,buttonCaretType:k="down",buttonBackground:D="dark",optionSize:F,isDesignInlineMenu:x,numColumns:U,analytics:B,ariaLabel:G,alignment:V="center",palettePickerPopoverWrapper:H,shouldDisableDataTooltip:W,positionX:K,positionY:Y,isColorPopoverOpen:q,setIsColorPopoverOpen:j,hasNonWhiteboardColors:$,isCustomColorSwatchShown:Z,customOptions:z,customOptionsHeader:Q}){let X=n.useRef((0,p.c)()),J=n.useRef((0,p.c)()),ee=R(e.option),et=(0,y.eM)(ee,T),er=(0,y.eM)(ee,"baseLight")&&"base"===T,en=$?function(e,t){try{return!t.find(t=>{let r=R(t.option),n=R(e.option);return r&&n&&(0,o.kl)(r,n)})}catch(e){return console.error(e),!1}}(e,f):et&&er,ei=()=>{q&&r()},ea=t=>en?n.createElement(u.iH,{id:J.current,...W?{}:{"data-tooltip-type":E.wL.TEXT,"data-tooltip":(0,m.t)("whiteboard.colors.custom"),"data-tooltip-show-above":!0},className:a()(N.C,{[O.k]:t}),key:"custom-color",role:"option",tabIndex:-1,"aria-label":(0,m.t)("whiteboard.colors.custom"),recordingKey:(0,d.Mx)(i,"colorSelectorCustomOption"),onClick:(0,c.Ub)().figjam_inline_menu_on_pointer?void 0:r,onPointerUp:(0,c.Ub)().figjam_inline_menu_on_pointer?ei:void 0},n.createElement(I.uA,{swatchStyle:{border:"1px solid rgba(0, 0, 0, 0.2)",boxSizing:"border-box",boxShadow:"none"},value:e.option,selectionState:"selected_custom",paletteType:T,background:"dark",size:"medium"})):n.createElement(u.iH,{id:J.current,key:"custom-color",recordingKey:(0,d.Mx)(i,"colorSelectorCustomOption"),onClick:(0,c.Ub)().figjam_inline_menu_on_pointer?void 0:r,onPointerUp:(0,c.Ub)().figjam_inline_menu_on_pointer?ei:void 0,role:"option",tabIndex:-1,"aria-label":(0,m.t)("whiteboard.colors.custom"),className:a()(N.C,{[O.k]:t})},n.createElement(I.ox,{shouldDisableDataTooltip:W}));return n.createElement(v._s,{value:e,onChange:e=>{t(e),B&&g.yu.trackFromFullscreen("figjam_node_color_change",{source:"default",color:h.aQ.format(e.option),...B.properties})},options:f,renderOption:({value:e,onClick:t,id:r,isSelected:o,isFocused:l})=>n.createElement(u.iH,{id:r,...W?{}:{"data-tooltip-type":E.wL.TEXT,"data-tooltip":e.tooltip||(0,S.qq)(e.option,T),"data-tooltip-show-above":!0},className:a()(N.C,{[O.k]:l}),key:_.Q.format(e.option)+e.tooltip,"data-testid":"colorMenuOption",role:"option","aria-label":e.tooltip||(0,S.qq)(e.option,T),onClick:(0,c.Ub)().figjam_inline_menu_on_pointer?void 0:t,onPointerUp:(0,c.Ub)().figjam_inline_menu_on_pointer?e=>{q&&t(e)}:void 0,recordingKey:(0,d.Mx)(i,"colorSelectorOption",_.Q.format(e.option)),tabIndex:-1},n.createElement(I.uA,{value:e.option,selectionState:o?"selected":"unselected",paletteType:T,size:F,background:"dark"})),renderButton:({value:e,ref:t,onClick:r,onKeyDown:a,active:o,activeOptionId:l})=>n.createElement(b.q,{role:"combobox",ariaLabel:(0,m.t)("whiteboard.inline_menu.color_selector_label",{currentColor:(0,S.qq)(e.option,T).toLocaleLowerCase()}),onClick:(0,c.Ub)().figjam_inline_menu_on_pointer?void 0:r,onPointerDown:(0,c.Ub)().figjam_inline_menu_on_pointer?r:void 0,onKeyDown:a,ariaActiveDescendant:l,ariaControls:X.current,caret:k,active:o?"light"===D?"LOUD":"NORMAL":"NONE",recordingKey:(0,d.Mx)(i,"colorSelectorButton"),tooltip:w||(0,S.qq)(e.option,T,(0,m.t)("whiteboard.inline_menu.color")),isDesignInlineMenu:x,isNewSubmenu:"light"===D,className:M},n.createElement(I.uA,{size:A,value:e.option,paletteType:T,background:D,ref:t})),optionEquality:(e,t)=>!(Array.isArray(e.option)||Array.isArray(t.option))&&(0,o.kl)(e.option,t.option),OptionWrapper:U?(0,I.KY)(U,L+"px",G,X.current):(0,I.uy)(f.length,L+"px",G,X.current),PopoverWrapper:H||v.mo,additionalOptions:(e=!1)=>n.createElement(C.K,{customOption:ea(e),paletteType:T,isCustomColorSwatchShown:Z}),additionalOptionId:J.current,additionalOptionOnChange:r,additionalContentsTop:l,additionalContentsBottom:s,positionX:K??P[V],positionY:Y,onToggleMenuOpen:j,customOptions:z,customOptionsHeader:Q})}},808324:(e,t,r)=>{"use strict";r.d(t,{e:()=>i});var n=r(307824);function i({setMaxWidth:e,render:t}){let[r,i]=n.useState(new Map),a=n.useMemo(()=>r.size?Math.max(...r.values()):void 0,[r]);n.useLayoutEffect(()=>e(a),[a,e]);let o=n.useCallback((e,t)=>i(r=>{if(r.get(e)===t)return r;let n=new Map(r);return"number"==typeof t?n.set(e,t):n.delete(e),n}),[]);return n.createElement(n.Fragment,null,t({reportWidthOfValue:o}))}},964900:(e,t,r)=>{"use strict";r.d(t,{UL:()=>f,iS:()=>_,q:()=>g,wP:()=>h});var n=r(307824),i=r(125504),a=r.n(i),o=r(853688),l=r(537096),s=r(142548),c=r(828008),d=r(362452),u=r(803568),p=r(597432),m=r(714664);function _({marginBottom:e,size:t,children:r,padding:i,menuRef:o,ariaLabel:l,role:s,tabIndex:c,ariaHidden:d,onBlurCapture:p,onFocus:m,propagateInputToFullscreen:_,testID:h,focusableDivTestId:g,darkModePreferred:f}){return n.createElement("div",{"aria-label":l,"aria-hidden":d,className:u._4,role:s,tabIndex:c,ref:o,onBlurCapture:p,onFocus:m,"data-fullscreen-intercept":_,"data-testid":g,"data-preferred-theme":f?"dark":void 0},n.createElement("div",{className:a()(u.Sq,{[u.EN]:"small"===t}),style:{paddingRight:i,paddingLeft:i,marginBottom:e},"data-testid":h},r))}let h=n.forwardRef((e,t)=>{let{id:r,svg:i,onClick:o,blurOnClick:s,onKeyDown:c,onMouseEnter:d,onMouseLeave:p,onPointerUp:m,onPointerDown:_,svgWidth:h,svgHeight:f,caret:E="none",size:y,tooltip:b,tooltipShortcutActionKey:v,tooltipType:I,resourceId:w,recordingKey:T,active:S="NONE",focused:C,disabled:A,svgStyle:O,buttonStyle:N,buttonChildrenStyle:L,useOriginalSrcFills_DEPRECATED:R,isNewSubmenu:P,ariaLabel:M,role:k,tabIndex:D,onboardingKey:F,testId:x}=e,{ariaActiveDescendant:U,ariaControls:B}=e;return n.createElement(g,{id:r,onClick:o,onKeyDown:c,onMouseEnter:d,onMouseLeave:p,onPointerUp:m,onPointerDown:_,blurOnClick:s,caret:E,ref:t,size:y,recordingKey:T,active:S,focused:C,disabled:A,className:a()({[u.iQ]:A}),tooltip:b,tooltipShortcutActionKey:v,tooltipType:I,resourceId:w,buttonStyle:N,buttonChildrenStyle:L,isNewSubmenu:P,ariaLabel:M,ariaActiveDescendant:U,ariaControls:B,role:k,tabIndex:D,onboardingKey:F,testId:x},n.createElement(l.A,{svg:i,width:h,height:f,style:O,useOriginalSrcFills_DEPRECATED:R}))}),g=n.forwardRef((e,t)=>{let{id:r,children:i,onClick:_,onMouseEnter:h,onMouseLeave:g,onPointerUp:f,onPointerDown:E,onKeyDown:y,blurOnClick:b,disabled:v,caret:I="none",animateCaret:w=!1,size:T="large",buttonStyle:S,buttonChildrenStyle:C,isNewSubmenu:A,isDesignInlineMenu:O,recordingKey:N,active:L="NONE",focused:R,tooltip:P,tooltipShortcutActionKey:M,tooltipType:k,tooltipMaxWidth:D,resourceId:F,testId:x,className:U="",ariaLabel:B,role:G,tabIndex:V,onboardingKey:H}=e,{ariaControls:W,ariaActiveDescendant:K}=e,Y=(0,d.WG)(),q=n.Children.toArray(i),j=1===q.length&&"string"==typeof q[0].props.children,$=P&&Y?k||s.wL.TEXT:void 0,Z="combobox"===G&&"NONE"!==L;return n.createElement(o.iH,{id:r,"aria-label":B??(0,c.mS)({"data-tooltip-type":$??s.wL.TEXT,"data-tooltip":P??""}),"aria-controls":W,"aria-owns":Z?W:void 0,"aria-activedescendant":Z?K:void 0,"aria-pressed":"button"===G||null==G?"NONE"!==L:void 0,"aria-checked":"switch"===G?"NONE"!==L:void 0,"aria-expanded":"combobox"===G?"NONE"!==L:void 0,tabIndex:V??"option"===G?-1:0,role:G,onClick:v?void 0:_,onKeyDown:v?void 0:y,onMouseUp:!v&&b?e=>{e.currentTarget.blur()}:void 0,onMouseEnter:v?void 0:h,onMouseLeave:v?void 0:g,onPointerUp:v?void 0:f,onPointerDown:v?void 0:E,className:a()({[u.sq]:!0,[u.YX]:!0,[u.iM]:A,[u.CM]:O,[u.Ql]:"none"!==I&&!!i,[u.Mj]:"none"!==I&&!i,[u.EN]:"small"===T,[u.i0]:"SOFT"===L,[u.CS]:"NORMAL"===L,[u.Md]:"LOUD"===L,[u.sz]:j,[u.k5]:!v,[u.E7]:R,[U]:!!U}),style:S,forwardedRef:t,recordingKey:N,"data-resource-id":F||void 0,"data-tooltip-show-above":!0,"data-tooltip-type":$,"data-tooltip-max-width":D,"data-tooltip-shortcut-key":M,"data-tooltip":P,"data-fullscreen-intercept":null==y?"true":void 0,"data-onboarding-key":H,dataTestId:x},n.createElement("div",{className:a()({[u.We]:j,[u.GA]:!j,[u.CM]:O,[u.EN]:"small"===T}),style:C},i),"none"!==I&&n.createElement(l.A,{className:a()({[u.SO]:!0,[u.A$]:w,[u.wB]:w&&"LOUD"===L}),svg:"up"===I?m.c:p.c}))});function f({size:e="tall",margin:t}){return n.createElement("div",{className:u.O4,style:{height:"tall"===e?40:28,marginLeft:t,marginRight:t}})}},894228:(e,t,r)=>{"use strict";let n;r.d(t,{E3:()=>f,OI:()=>h,S_:()=>g,_s:()=>y,mo:()=>E});var i=r(307824),a=r(768184),o=r(843148),l=r(87975),s=r(234284),c=r(418084);r(204792);var d=r(585508),u=r(713620),p=r(964900),m=r(777804),_=r(510016),h=((n=h||{}).fontFamilyControl="fontFamilyControl",n);function g(e,t){return function({children:r}){return i.createElement("div",{id:t,role:"listbox","aria-label":e,tabIndex:-1,className:_.CA},r)}}function f({children:e}){return i.createElement(i.Fragment,null,e)}function E({children:e,padding:t}){return i.createElement(p.iS,{padding:t},i.createElement("div",{className:_.wB},e))}function y({value:e,onChange:t,options:r,renderOption:n,renderButton:p,optionEquality:_,OptionWrapper:h=g(),additionalOptions:f,additionalOptionId:y,additionalOptionOnChange:b,additionalContentsTop:v,additionalContentsBottom:I,PopoverWrapper:w=E,positionX:T,positionY:S,responsivePositionY:C,popoverClassName:A,onToggleMenuOpen:O,parentComponent:N,customOptions:L,customOptionsHeader:R,overrideMenuOpenState:P}){let M=(0,i.useRef)(null),[k,D]=(0,i.useState)(!1),F=P?P.isOpenOverride:k,x=P?P.setIsOpenOverride:D,[U,B]=(0,i.useState)(0),[G,V]=(0,i.useState)(!1),H=r.length+(L?L.length:0)+(null!=f?1:0),[W]=(0,i.useState)(()=>{let e=Array(H);for(let t=0;t<r.length;t++)e[t]=(0,c.c)();return null!=f&&(e[r.length]=y),e}),K=new a.E,[Y,q]=(0,i.useState)(!0);return i.useEffect(()=>{O&&O(F)},[F,O]),i.createElement(m._,{target:p({value:e,ref:M,onKeyDown:e=>{var n;switch(e.keyCode){case l.as.ESCAPE:F?x(!1):null==(n=e.currentTarget)||n.blur();break;case l.as.ENTER:F&&(U>=0&&U<r.length?t(r[U],e):U===r.length&&f&&(null==b||b(e)));break;case l.as.RIGHT_ARROW:case l.as.LEFT_ARROW:case l.as.UP_ARROW:case l.as.DOWN_ARROW:if(!(0,l.Sq)(e,0))break;if(V(!0),F&&H){let t=U;(t+=e.keyCode===l.as.UP_ARROW||e.keyCode===l.as.LEFT_ARROW?-1:1)>=H?t=0:t<0&&(t=H-1),B(t)}else F||x(!0);e.preventDefault(),e.stopPropagation();break;case l.as.TAB:V(!1);break;case l.as.C:case l.as.V:case l.as.X:(0,l.y2)(e)&&(d.CA.triggerAction(e.keyCode===l.as.C?"copy":e.keyCode===l.as.X?"cut":"paste"),e.stopPropagation(),e.preventDefault());break;default:(0,u.Mz)(e)}},onClick:()=>{V(!1),x(!F),N&&"fontFamilyControl"===N&&((0,s.g9)()?q(!0):(q(!1),K.reset(),K.scheduleOnce(()=>{q(!0)},250)))},active:F,activeOptionId:null!=U?W[U]:void 0}),onClose:()=>{(0,o.Ub)().figjam_inline_menu_on_pointer&&N&&"fontFamilyControl"===N&&K.reset(),x(!1)},renderPopoverContents:a=>{let l=(r,i)=>{let a=e=>t(r,e),l=e=>{a(e),x(!1)};return n({value:r,id:W[i],onClick:(0,o.Ub)().figjam_inline_menu_on_pointer?e=>{(!N||"fontFamilyControl"!==N||Y)&&l(e)}:l,isSelected:_?_(r,e):r===e,isFocused:G&&U===i})},s=r.map(l),c=null==L?void 0:L.map((e,t)=>l(e,t+s.length));return c?i.createElement(w,{side:a},v,i.createElement(h,null,s),R,i.createElement(h,null,c,null==f?void 0:f(G&&U===s.length+c.length)),I):i.createElement(w,{side:a},v,i.createElement(h,null,s,null==f?void 0:f(G&&U===s.length)),I)},isOpen:F,positionX:T,positionY:S,responsivePositionY:C,className:A})}},449748:(e,t,r)=>{"use strict";r.d(t,{CW:()=>I,Gy:()=>w,KY:()=>T,WS:()=>g.c,eG:()=>f.c,ox:()=>y,sN:()=>b,sj:()=>v,uA:()=>E,uy:()=>S});var n=r(307824),i=r(125504),a=r.n(i),o=r(570464),l=r(853688),s=r(103839),c=r(537096),d=r(588900),u=r(560072),p=r(4388),m=r(142548),_=r(489308),h=r(360852),g=r(876180),f=r(802956);let E=n.forwardRef(({value:e,paletteType:t,background:r="dark",size:i="medium",selectionState:o="unselected",swatchStyle:s,onClick:c,recordingKey:d,tooltip:u},p)=>{let g,f=null;return Array.isArray(e)&&2===e.length&&(f=n.createElement("div",{className:h.l5,style:{background:(0,_.cU)(e[1],t,r)},"data-testid":"colorCircle"})),g=Array.isArray(e)?e.length<=2&&e[0]?(0,_.cU)(e[0],t,r):"rgba(255, 255, 255, 1)":(0,_.cU)(e,t,r),n.createElement("div",{ref:p,className:a()({[h.mG]:!0,[h.Oo]:"selected"===o,[h.sf]:"selected_custom"===o&&"light"===r,[h.B]:"selected_custom"===o&&"dark"===r,[h._u]:"large"===i,[h.EN]:"small"===i,[h.k1]:"xsmall"===i})},n.createElement("div",{className:h.IT},n.createElement(l.g9,{className:a()(h.e_,{[h.sH]:"light"===r,[h.M6]:"dark"===r}),style:{background:g,...s},onClick:c,recordingKey:d,"data-tooltip-show-above":!0,"data-tooltip-type":u?m.wL.TEXT:void 0,"data-tooltip":u,"data-testid":"colorCircle"}),f))});function y({onClick:e,swatchStyle:t,recordingKey:r,shouldDisableDataTooltip:i}){return n.createElement(l.g9,{...i?{}:{"data-tooltip-type":m.wL.TEXT,"data-tooltip":(0,u.t)("whiteboard.colors.custom"),"data-tooltip-show-above":!0},className:h.mG,onClick:e,recordingKey:(0,o.Mx)(r,"colorSelectorCustomOption")},n.createElement("div",{className:h.IT},n.createElement(l.g9,{className:a()(h.mQ,h.M6),style:t})))}function b({value:e,onClick:t,onPointerUp:r,swatchStyle:i,tooltip:o,fallbackSvg:l,tooltipOffsetY:s,dataTestId:c,size:u}){return n.createElement("div",{className:a()(h.mG,["large"===u&&h._u])},n.createElement("div",{"data-tooltip-type":m.wL.TEXT,"data-tooltip":o,"data-tooltip-offset-y":s,"data-tooltip-show-above":!0,className:h.IT},n.createElement(d._,{svg:e,className:a()(h.e_,h.M6),style:{display:"flex",alignItems:"center",justifyContent:"center",...i},dataTestId:c,onClick:t,onPointerUp:r,fallbackSvg:l})))}let v=n.forwardRef(({value:e,size:t="medium",selectionState:r="unselected",swatchStyle:i,onClick:o,onPointerUp:s,recordingKey:c,tooltip:d},u)=>n.createElement("div",{ref:u,className:a()({[h.mG]:!0,[h.Oo]:"selected"===r,[h.EN]:"small"===t})},n.createElement("div",{className:h.IT},n.createElement(l.g9,{className:a()(h.e_,h.M6),style:{backgroundImage:`url(${e})`,backgroundSize:"auto 100%",...i},onClick:o,onPointerUp:s,recordingKey:c,"data-tooltip-show-above":!0,"data-tooltip-type":d?m.wL.TEXT:void 0,"data-tooltip":d})))),I=n.forwardRef(({imagePaint:e,background:t,size:r="medium",selectionState:i="unselected",hovered:o,onClick:l,onMouseEnter:d,onMouseLeave:_,onPointerUp:f},E)=>{let[y,b]=n.useState(""),I=n.useCallback(e=>{let t=p.Cg(e,new s.Cg((e.originalImageWidth||244)/(e.originalImageHeight||244)*244,244),{r:0,g:0,b:0,a:0});t&&t.pixels&&t.pixelSize&&b(p.me(t.pixels,t.pixelSize))},[]);return n.useEffect(()=>{e&&I(e)},[e,I]),n.createElement("div",{style:{position:"relative"},onMouseEnter:d,onMouseLeave:_,"data-tooltip-type":m.wL.TEXT,"data-tooltip":(0,u.t)("whiteboard.delightful_toolbar.custom_upload"),"data-tooltip-show-above":!0},n.createElement(v,{value:y,size:r,selectionState:i,onClick:l,onPointerUp:f,ref:E}),o&&n.createElement("div",{className:h.cL},n.createElement(c.A,{svg:g.c,style:{fill:"dark"===t?"white":void 0},className:a()({[h.C8]:!0,[h.ob]:"light"===t,[h.cV]:"dark"===t,[h.EN]:"small"===r})})))});function w({children:e,numColumns:t=4,columnWidth:r="1fr",gap:i=0,padding:a,ariaLabel:o,swatchGridRef:l,id:s}){let c=`repeat(${t}, ${r})`;return n.createElement("div",{className:h.mO,style:{gridTemplateColumns:c,gap:`${i}px`,padding:a},"aria-label":o,role:"listbox",tabIndex:-1,id:s,"data-fullscreen-intercept":!0,ref:l},e)}function T(e,t,r,i){return function({children:a}){return n.createElement(w,{numColumns:e,columnWidth:t,padding:8,ariaLabel:r,id:i},a)}}function S(e,t,r,i){let a;return a=e<6?e:6===e?3:e<=8?4:5,function({children:e}){return n.createElement(w,{numColumns:a,columnWidth:t,padding:8,ariaLabel:r,id:i},e)}}},935164:(e,t,r)=>{"use strict";r.d(t,{W0:()=>y,m_:()=>d,Wu:()=>g,g1:()=>f,qT:()=>u,jf:()=>E,WA:()=>_,Km:()=>p,O4:()=>h,mq:()=>m});var n=r(307824),i=r(125504),a=r.n(i),o=r(633008),l=r(667492),s=r(753432),c=r(971164);function d({targetRect:e,targetRef:t,children:r,onClose:i,onMeasure:o,onMouseEnter:l,onMouseLeave:c,pointerEvents:d="none",style:p,offset:m=4,positionX:_=u,positionY:h=g,onPosition:f,frozen:E,setSizeChanged:b}){return n.createElement("div",{className:a()("window_positioner--positionerRoot--nDb0j",s.cp,s.cn),style:{pointerEvents:d}},n.createElement(y,{targetRect:e,targetRef:t,onClose:i,onMeasure:o,onMouseEnter:l,onMouseLeave:c,style:p,offset:m,positionX:_,positionY:h,onPosition:f,frozen:E,setSizeChanged:b},r))}let u=(e,t)=>e.x+e.width/2-t.width/2,p=(e,t)=>e.x,m=(e,t)=>e.x+e.width-t.width,_=(e,t,r)=>e.x-t.width-r,h=(e,t)=>e.x+e.width+t,g=(e,t,r)=>e.y-t.height-r,f=(e,t,r)=>e.height+e.y+r,E=(e,t)=>e.y+e.height/2-t.height/2;function y({targetRect:e,targetRef:t,children:r,onClose:i,onMeasure:a,onMouseEnter:s,onMouseLeave:d,style:p,offset:m=4,positionX:_=u,positionY:h=g,childRef:f,onPosition:E,frozen:y,setSizeChanged:b}){let[v,I]=n.useState({x:0,y:0}),[w,T]=n.useState(!1),S=n.useRef(null),C=n.useCallback(e=>{let t=0!==e.width||0!==e.height;T(t),a&&a(e),t||I({x:0,y:0})},[a]),A=(0,o.m)(S,C)??o.V;(0,c.k)(i,{ignore:[null==t?void 0:t.current,S.current]});let O=(0,l.C)(w)&&w,N=(0,l.C)(A);n.useEffect(()=>b&&b(N),[b,N]);let{x:L,y:R}=v;(O||w&&!y)&&(L=_(e,A,m),R=h(e,A,m)),n.useEffect(()=>{I({x:L,y:R})},[L,R]);let{width:P,height:M}=A;return n.useEffect(()=>{w&&E&&E(L,R,{width:P,height:M},m)},[L,R,P,M,E,m,w]),n.createElement("div",{style:{position:"absolute",width:"fit-content",height:"fit-content",transform:`translate3d(${L}px, ${R}px, 0)`,...p,...w?{}:{opacity:0}},onMouseEnter:s,onMouseLeave:d,ref:e=>{S.current=e,f&&f(e)}},r)}},864008:(e,t,r)=>{"use strict";r.d(t,{W:()=>m,m:()=>u});var n=r(623131),i=r(752648),a=r(888932),o=r(191352),l=r(514916),s=r(778112),c=r(46496),d=r(848688);let u=(0,n.Zf)(e=>{let t=e(o.Uf)===l.aE.WHITEBOARD,r=e(d.C8);return t&&!r&&!a.CU}),p=(0,n.Zf)(async()=>await c.Q.getCommunityShelves({shelfType:s.CW.FIGJAM_SECTION_PRESET_PICKER}).then(e=>e.data.meta)),m=(0,i.mC)(p)},399672:(e,t,r)=>{"use strict";r.d(t,{ER:()=>d,UG:()=>u,uI:()=>c});var n=r(403132),i=r(753432),a=r(432380),o=r(585508),l=r(915668);let s=["#FFC470","#DA9DFF","#D5EB97","#DA8167","#E9FAFF"];function c(e){return s[e%s.length]}function d(e,t,r){let n=e.find(e=>e.id===t);if(!n)return null;let i=n.shelf_content.find(e=>e.id===r);if(!i)return null;let o={type:l.e.HubFile,template:i,category:n.id};return(0,a.CM)(o)}function u(e,t){if(!e||!e.isSection||!o.CA.isReady())return!1;let r=e.sectionPresetShelfId,a=e.sectionPresetTemplateId,l=e.name,s=e.hasSectionPresetWithEdits;return!!l&&(t(n.Qn({type:i.uk,data:{sectionId:e.guid,sectionName:l,initialShelfId:r,initialTemplateId:a,showAlertOnSelect:s}})),!0)}},853488:(e,t,r)=>{"use strict";let n;r.d(t,{__:()=>T,sr:()=>v,kp:()=>C,r:()=>w,KE:()=>N,mA:()=>I,aM:()=>O,Om:()=>A});var i=r(307824),a=r(120304),o=r(871756),l=r(148804),s=r(733960),c=r(373388),d=r(817076),u=r(90340),p=r(762820),m=r(967636);function _(){let[e,t]=(0,i.useState)(null);return(0,i.useEffect)(()=>{let e=e=>{if(-1===e[0]&&-1===e[1]){t(null);return}t(e)};return m.An.on("action",e),()=>{m.An.removeListener("action",e)}},[t]),e}var h=r(38768),g=r(679804),f=r(919364),E=r(13468),y=r(157220),b=r(829460),v=((n=v||{})[n.TRUE=0]="TRUE",n[n.FALSE=1]="FALSE",n[n.LOADING=2]="LOADING",n);function I(){let e=(0,h.s)(),t=(0,a.w1)(e=>e.mirror.appModel.showUi),r=(0,a.w1)(e=>e.mirror.appModel.topLevelMode===p.s9F.LAYOUT),n=(0,a.w1)(e=>(0,E.yI)(e.selectedView)),l=(0,i.useMemo)(()=>new Date,[]),{createdAt:s,key:c}=(0,a.w1)(e=>e.openFile||{createdAt:null,key:null}),u=(0,i.useMemo)(()=>s&&3e5>=Math.abs(s.getTime()-l.getTime()),[s,l]),m=(0,a.w1)(e=>{var t,r,n;let i=null==(r=null==(t=null==e?void 0:e.mirror)?void 0:t.appModel)?void 0:r.currentPage,a=null==(n=null==e?void 0:e.mirror)?void 0:n.sceneGraph,o=null==a?void 0:a.get(i);return o?!o.childrenNodes.length||o.childrenAreAllGhosts?0:1:2}),_=function(e){let t=(0,o.Q)((0,f.e)("figjam_editor_onboarded")),r=(0,i.useMemo)(()=>!!t.current,[e,t]),n=!!(0,f.e)("figjam_browse_templates_modal_onboarded"),a=(0,f.e)("figjam_browse_templates_modal_onboarding_item_selected");return r||n&&!a}(c),g=(0,d.Y)();if((0,b.m)())return 1;let v=(0,y.U)();return g||!_||v||n?1:e&&s?t&&r&&u?m:1:2}function w(e){return 0===(0,l.Q)(1===e)}let T={marginLeft:40,marginRight:24,width:216};function S(e,t){return e.x<t.x+t.width&&e.x+e.width>t.x&&e.y<t.y+t.height&&e.y+e.height>t.y}function C(e,t){let r=(0,g.OM)({subscribeToUpdates_expensive:e}),n=(0,g.oH)(r),i=_();return!!e&&!!t&&!!i&&(r.zoomScale>=2||S({x:n.x,y:n.y,width:280/r.zoomScale,height:n.height},{x:-.5*Math.min(i[0],2432),y:-.5*Math.min(i[1],1212),width:i[0],height:i[1]}))}function A(e,t){let r=_(),n=(0,g.OM)({subscribeToUpdates_expensive:e}),i=(0,g.oH)(n);return!!e&&!!t&&!!r&&!S(i,function(e,t){let r=e.x+e.width/2,n=e.y+e.height/2;return{x:1.5*e.x+-.5*r,y:1.5*e.y+(1-t)*n,width:t*e.width,height:t*e.height}}({x:-.5*Math.min(r[0],2432),y:-.5*Math.min(r[1],1212),width:r[0],height:r[1]},1.5))}function O(e){let{fileKey:t,didUserCancel:r,showStarterKit:n}=e;(0,i.useEffect)(()=>{r&&(0,u.a2)({fileKey:t,text:"Close starter kit",triggeredFrom:"starter_kit"})},[t,r]);let a=(0,s.i)(n);(0,i.useEffect)(()=>{0===a&&1===n&&(0,u.a2)({fileKey:t,text:"Close starter kit implicit",triggeredFrom:"starter_kit"})},[t,a,n])}function N(e,t,r){let[n,a]=(0,i.useState)(!1),o=(0,l.Q)(1===e);(0,i.useEffect)(()=>{(t||0!==o)&&!n&&(r(c.Kc()),a(!0))},[e,o,n,r,t])}},402468:(e,t,r)=>{"use strict";r.d(t,{Ez:()=>N,Ih:()=>g,Ki:()=>C,_W:()=>L,aE:()=>y,gN:()=>f,mg:()=>O,pR:()=>R,uM:()=>A,uw:()=>E,w9:()=>S,y2:()=>T});var n=r(623131),i=r(372152),a=r(425652),o=r(762820),l=r(555168),s=r(943596),c=r(394444);let d=(0,n.Zf)(null),u=(0,n.Zf)(null),p=(0,n.Zf)({x:0,y:0}),m=(0,n.Zf)(null),_=(0,n.Zf)(!1),h=(0,n.Zf)(!1),g=(0,n.Zf)(e=>e(u)),f=(0,n.Zf)(e=>e(_)),E=(0,n.Zf)(e=>e(h)),y=(0,n.Zf)(e=>e(p)),b=(0,n.Zf)(!1),v="new_preview",I=null;function w(){I&&I.abort(v),I=null}let T=(0,n.Zf)(null,async(e,t,r,n)=>{let i=!e(_)&&(0,c.e)(r.template,e(u));if(e(h)||i||e(b))return!1;t(A),t(_,!0),t(d,n.previewManager),t(u,r.template),w();let a=(I||(I=new TaskController({priority:"background"})),I);function l(t){return scheduler.postTask(()=>!!((0,c.e)(r.template,e(u))&&e(s.y))&&(t(),!0),{signal:a.signal}).catch(e=>{if(e===v)return!1;throw e})}a.setPriority(n.priority);let g=e(d),f=(async()=>{try{let i=await e(R(r)),a=(null==g?void 0:g.nodeType)===o.__k.SECTION?g.options:null;if(!await l(()=>o.eGU.prepareTemplatePreview(i,a))||!await l(()=>o.eGU.insertTemplatePreview(n.moveViewportAfterPreview)))return!1;let s=o.eGU.getTemplatePreviewSize();return t(p,s),t(_,!1),!0}catch(n){throw(0,c.e)(r.template,e(u))&&t(A),n}})();return t(m,f),await f}),S=(0,n.Zf)(null,async(e,t,r)=>{let n=e(m);if(!n||e(h))return!1;t(h,!0);try{if(!await n||!e(s.y))return!1;return await scheduler.postTask((0,l.wH)(r.editScopeType,"commit-figjam-template-preview",()=>o.eGU.commitTemplatePreview(r.selectTemplateAfterCommit,r.moveViewportAfterCommit)),{priority:r.priority}),t(u,null),t(b,!0),t(N),!0}finally{t(h,!1)}}),C=(0,n.Zf)(null,(e,t)=>{t(b,!1),e(_)&&(w(),t(A))}),A=(0,n.Zf)(null,(e,t)=>{t(u,null),t(m,null),t(_,!1),t(h,!1),e(s.y)&&o.eGU.clearTemplatePreview()}),O=(0,n.Zf)(null,(e,t)=>{t(C),t(A)}),N=(0,n.Zf)(null,(e,t)=>{t(d,null),o.eGU.clearSectionPreviewSupport()}),L={clearTemplatePreview(){i.qM.set(A)}},R=(0,i.KU)(e=>(0,n.Zf)(async()=>await (0,a.ID)(e)),(e,t)=>e.fileKey===t.fileKey&&e.fileVersion===t.fileVersion&&(0,c.e)(e.template,t.template))},213132:(e,t,r)=>{"use strict";r.d(t,{Q$:()=>m,WK:()=>p,eC:()=>u,m:()=>c,wZ:()=>d});var n=r(326660),i=r(58908),a=r(762820),o=r(555168),l=r(712296);let s=Object.create(null);async function c(e){var t;let r=await (0,l.q)(e,s);null==(t=a.i46)||t.setWashiTapePresetPattern(r)}async function d(e,t){let r=await (0,l.q)(e,s);(0,o.Pc)(t,"set-paint-from-washi-tape-preset",()=>{var e;return null==(e=a.i46)?void 0:e.setWashiTapePresetPatternAndUpdateSelectedNodes(r)})}function u(e){if(e.image)return`https://static.figma.com/uploads/${e.image}`;throw Error(`Invalid washi tape ${e} has no image`)}function p(e){for(let t of e){let e=u(t);e&&(0,l.q)(e,s).catch(e=>{(0,n.oP)(i._.FIGJAM_CORE,e)})}}function m(e){let t=u(e);return(0,l.q)(t,s)}},477308:(e,t,r)=>{"use strict";r.d(t,{_:()=>i,i:()=>a});var n=r(560072);let i=[{name:"w-purple-grid",image:"e8f28ec5039355c942bce9dd61f44dcd638451f9",label:"Graph-iti"},{name:"w-party",image:"089335580a69c785276a5ab39dd58fef8955279c",label:"Birthday party"},{name:"w-checkerboard",image:"65bcec2ad90b12e9dbe4ee53bc88de29e11109dc",label:"Gingham style"},{name:"w-star",image:"c2225d84b705c120a715d0bbd57d7632fd4b0b4b",label:"Starry night"},{name:"w-stripe",image:"71592dc10e91a87c21e4dd41ef0deb43a3ba5480",label:"Lemon lime"},{name:"w-frog",image:"277013045fb026a81e7bd812a35d37018945d308",label:"Lily pad-ding"},{name:"w-fruit",image:"227e1eec26d471e194f4feec632b2f791f0a2706",label:"Fruit salad"},{name:"w-sushi",image:"5e62eac33aa794bd0450c039a60ad0c42ee0881d",label:"On a roll"}];function a(e){switch(e.name){case"w-party":return(0,n.t)("whiteboard.washi_tapes.party");case"w-star":return(0,n.t)("whiteboard.washi_tapes.star");case"w-grid":return(0,n.t)("whiteboard.washi_tapes.grid");case"w-flower":return(0,n.t)("whiteboard.washi_tapes.flower");case"w-desert":return(0,n.t)("whiteboard.washi_tapes.desert");case"w-frog":return(0,n.t)("whiteboard.washi_tapes.frog");case"w-fruit":return(0,n.t)("whiteboard.washi_tapes.fruit");case"w-sushi":return(0,n.t)("whiteboard.washi_tapes.sushi");case"w-tree":return(0,n.t)("whiteboard.washi_tapes.tree");case"w-pride":return(0,n.t)("whiteboard.washi_tapes.pride");case"w-purple-grid":return(0,n.t)("whiteboard.washi_tapes.purple_grid");case"w-checkerboard":return(0,n.t)("whiteboard.washi_tapes.checkerboard");case"w-stripe":return(0,n.t)("whiteboard.washi_tapes.stripe");default:return(0,n.t)("whiteboard.washi_tapes.custom")}}},829460:(e,t,r)=>{"use strict";r.d(t,{m:()=>s,o:()=>l});var n=r(560072),i=r(919364),a=r(702400),o=r(738048);function l(e){let t=(0,n.t)("whiteboard.inserts.use_cases_brainstorm_together"),r=(0,n.t)("whiteboard.inserts.use_cases_diagram_anything"),i=(0,n.t)("whiteboard.inserts.use_cases_run_a_meeting"),o=(0,n.t)("whiteboard.inserts.use_cases_lead_a_workshop");switch(e){case"design":return{id:"Whats New design control",title:t,resourceType:a.C.ALL};case"software-development":return{id:"Whats New software-development control",title:r,resourceType:a.C.ALL};case"product-management":return{id:"Whats New product-management control",title:i,resourceType:a.C.ALL};case"marketing":return{id:"Whats New marketing control",title:o,resourceType:a.C.ALL};case"user-research":return{id:"Whats New user-research control",title:o,resourceType:a.C.ALL};default:return{id:"Whats New other control",title:r,resourceType:a.C.ALL}}}function s(){let e=(0,i.e)("interacted_figjam_whats_new_v2_cta");return(0,o.rR)(e)}},424520:(e,t,r)=>{"use strict";r.d(t,{IT:()=>a,m6:()=>o,yT:()=>h,w6:()=>u,WS:()=>g,QH:()=>p,mg:()=>m,gT:()=>d,AZ:()=>c,o1:()=>_,sJ:()=>l,mi:()=>s});var n=r(101492);let i=new(r(211204)).C({name:"whiteboard",enforce:!1,dependencies:[],exports:["whiteboard_components"],friendFiles:[],routeHints:["fullscreen","whiteboard"]}),a=i.createLazyComponent(()=>Promise.all([r.e(7493),r.e(8332),r.e(7900),r.e(9508),r.e(2240),r.e(6352),r.e(1708),r.e(8980),r.e(1884),r.e(6005),r.e(2809),r.e(1064),r.e(7080),r.e(4752),r.e(9866),r.e(1956),r.e(152)]).then(r.bind(r,91700)).then(e=>e.AiModal),{loading:n.Yd.NONE,error:n.Yd.NONE,componentName:"LazyAIModal"}),o=i.createLazyComponent(()=>Promise.all([r.e(7493),r.e(8332),r.e(7900),r.e(9508),r.e(2240),r.e(6352),r.e(1708),r.e(8980),r.e(1884),r.e(6005),r.e(2809),r.e(1064),r.e(7080),r.e(4752),r.e(9866),r.e(1956),r.e(152)]).then(r.bind(r,580880)).then(e=>e.AiStatusBell),{loading:n.Yd.NONE,error:n.Yd.NONE,componentName:"LazyAIStatusBell"}),l=i.createLazyComponent(()=>Promise.all([r.e(7493),r.e(8332),r.e(7900),r.e(9508),r.e(2240),r.e(6352),r.e(1708),r.e(8980),r.e(1884),r.e(6005),r.e(2809),r.e(1064),r.e(7080),r.e(4752),r.e(9866),r.e(1956),r.e(152)]).then(r.bind(r,1620)).then(e=>e.WhiteboardInlineMenu),{loading:n.Yd.NONE,error:n.Yd.NONE,componentName:"LazyWhiteboardInlineMenu"}),s=i.createLazyComponent(()=>Promise.all([r.e(7493),r.e(8332),r.e(7900),r.e(9508),r.e(2240),r.e(6352),r.e(1708),r.e(8980),r.e(1884),r.e(6005),r.e(2809),r.e(1064),r.e(7080),r.e(4752),r.e(9866),r.e(1956),r.e(152)]).then(r.bind(r,503412)).then(e=>e.WhiteboardInlineQuickAddMenu),{loading:n.Yd.NONE,error:n.Yd.NONE,componentName:"LazyWhiteboardQuickAddMenu"}),c=i.createLazyComponent(()=>Promise.all([r.e(7493),r.e(8332),r.e(7900),r.e(9508),r.e(2240),r.e(6352),r.e(1708),r.e(8980),r.e(1884),r.e(6005),r.e(2809),r.e(1064),r.e(7080),r.e(4752),r.e(9866),r.e(1956),r.e(152)]).then(r.bind(r,310068)).then(e=>e.PanZoomTooltip),{loading:n.Yd.NONE,error:n.Yd.NONE,componentName:"LazyPanZoomTooltip"}),d=i.createLazyComponent(()=>Promise.all([r.e(7493),r.e(8332),r.e(7900),r.e(9508),r.e(2240),r.e(6352),r.e(1708),r.e(8980),r.e(1884),r.e(6005),r.e(2809),r.e(1064),r.e(7080),r.e(4752),r.e(9866),r.e(1956),r.e(152)]).then(r.bind(r,287084)).then(e=>e.MindmapQuickAddButtons),{loading:n.Yd.NONE,error:n.Yd.NONE,componentName:"LazyMindMapQuickAddButtons"}),u=i.createLazyComponent(()=>Promise.all([r.e(7493),r.e(8332),r.e(7900),r.e(9508),r.e(2240),r.e(6352),r.e(1708),r.e(8980),r.e(1884),r.e(6005),r.e(2809),r.e(1064),r.e(7080),r.e(4752),r.e(9866),r.e(1956),r.e(152)]).then(r.bind(r,810400)).then(e=>e.FigJamEmptyFileHelper),{loading:n.Yd.NONE,error:n.Yd.NONE,componentName:"LazyFigJamEmptyFileHelper"}),p=i.createLazyComponent(()=>Promise.all([r.e(7493),r.e(8332),r.e(7900),r.e(9508),r.e(2240),r.e(6352),r.e(1708),r.e(8980),r.e(1884),r.e(6005),r.e(2809),r.e(1064),r.e(7080),r.e(4752),r.e(9866),r.e(1956),r.e(152)]).then(r.bind(r,440729)).then(e=>e.FigJamTemplatesSidebar),{loading:n.Yd.NONE,error:n.Yd.NONE,componentName:"LazyFigJamTemplatesSidebar"}),m=i.createLazyComponent(()=>Promise.all([r.e(7493),r.e(8332),r.e(7900),r.e(9508),r.e(2240),r.e(6352),r.e(1708),r.e(8980),r.e(1884),r.e(6005),r.e(2809),r.e(1064),r.e(7080),r.e(4752),r.e(9866),r.e(1956),r.e(152)]).then(r.bind(r,60396)).then(e=>e.JoinVotingOverlay),{loading:n.Yd.NONE,error:n.Yd.NONE,componentName:"LazyJoinVotingOverlay"}),_=i.createLazyComponent(()=>Promise.all([r.e(7493),r.e(8332),r.e(7900),r.e(9508),r.e(2240),r.e(6352),r.e(1708),r.e(8980),r.e(1884),r.e(6005),r.e(2809),r.e(1064),r.e(7080),r.e(4752),r.e(9866),r.e(1956),r.e(152)]).then(r.bind(r,132032)).then(e=>e.VotePinsOverlay),{loading:n.Yd.NONE,error:n.Yd.NONE,componentName:"LazyVotePinsOverlay"}),h=i.createLazyComponent(()=>Promise.all([r.e(7493),r.e(8332),r.e(7900),r.e(9508),r.e(2240),r.e(6352),r.e(1708),r.e(8980),r.e(1884),r.e(6005),r.e(2809),r.e(1064),r.e(7080),r.e(4752),r.e(9866),r.e(1956),r.e(152)]).then(r.bind(r,534968)).then(e=>e.DelightfulToolbarWithErrorBoundary),{loading:n.Yd.NONE,error:n.Yd.NONE,componentName:"LazyDelightfulToolbar"}),g=i.createLazyComponent(()=>Promise.all([r.e(7493),r.e(8332),r.e(7900),r.e(9508),r.e(2240),r.e(6352),r.e(1708),r.e(8980),r.e(1884),r.e(6005),r.e(2809),r.e(1064),r.e(7080),r.e(4752),r.e(9866),r.e(1956),r.e(152)]).then(r.bind(r,670880)).then(e=>e.FigJamMiniHome),{loading:n.Yd.NONE,error:n.Yd.NONE,componentName:"LazyFigJamMiniHome"})},541636:(e,t,r)=>{"use strict";r.d(t,{M:()=>f,o:()=>E});var n=r(307824),i=r(125504),a=r.n(i),o=r(888932),l=r(753432),s=r(191352),c=r(600680),d=r(762820),u=r(84656),p=r(142548),m=r(699156);let _=Math.log(10),h=Math.log(200);function g(e){return(Math.log(e)-_)/(h-_)*190+10}function f(){let[e,t]=n.useState(0),r=Math.round(100*(0,u.s5)((0,c.W)().activeCanvasCurrentZoom)),i=n.useRef(null),o=n.useRef(null),s=e=>{let t=Number(e.target.value);d.i46.setCanvasZoomScale(Math.exp((t-10)/190*(h-_)+_)/100)};return n.useEffect(()=>{o.current&&o.current.style.setProperty("--sliderThumbSize","14px")},[o]),n.useEffect(()=>{if(i.current&&o.current){let e=i.current.clientHeight,n=(200-Math.max(10,Math.min(g(r),200)))/190;t(e*n-(e/2+(14*n-7)))}},[i,o,r]),n.createElement("div",{className:"zoom_slider--sliderOuterContainer--NbVeP","data-onboarding-key":m.au,"data-tooltip":p.oz.ZOOM_SLIDER,"data-tooltip-zoom-percentage":r,"data-tooltip-type":p.wL.SPECIAL,"data-tooltip-offset-y":e,"data-tooltip-offset-x":6,"data-tooltip-show-left":!0,"data-tooltip-show-immediately":!0},n.createElement("div",{className:"zoom_slider--sliderContainer--VZPpJ",ref:i},n.createElement("input",{className:a()("zoom_slider--sliderInput--W3iDP",l.cp),type:"range",min:10,max:200,step:.1,value:g(r),onChange:s,onInput:s,ref:o})))}function E(){return(0,s.yI)()&&!o.cp.isIpad}},874908:(e,t,r)=>{"use strict";r.d(t,{M:()=>i});var n=r(307824);function i(e){return n.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},n.createElement("path",{stroke:"var(--color-icon)",strokeLinecap:"round",strokeLinejoin:"round",d:"m8.5 13.5-3-3m0 0 3-3m-3 3h10a3 3 0 0 1 3 3v0a3 3 0 0 1-3 3h-1"}))}},559716:(e,t,r)=>{"use strict";r.d(t,{e:()=>i});var n=r(307824);function i(e){return n.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},n.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M15.862 8.824a5 5 0 0 0-8.838 2.691.5.5 0 0 1-.996-.097A6 6 0 0 1 16.5 8.031v-1.53a.5.5 0 1 1 1 0v3a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1 0-1h2a5.176 5.176 0 0 0-.138-.177Zm1.66 3.212a.5.5 0 0 1 .45.546A6 6 0 0 1 7.5 15.97v1.53a.5.5 0 0 1-1 0v-3A.5.5 0 0 1 7 14h3a.5.5 0 1 1 0 1H8a5 5 0 0 0 8.976-2.515.5.5 0 0 1 .547-.449Z",clipRule:"evenodd"}))}},892628:(e,t,r)=>{"use strict";r.d(t,{O:()=>i});var n=r(307824);function i(e){return n.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},n.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M12 5a.5.5 0 0 1 .5.5V8H15a1.5 1.5 0 0 1 1.5 1.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 0 15 9H9a.5.5 0 0 0-.5.5v2a.5.5 0 0 1-1 0v-2A1.5 1.5 0 0 1 9 8h2.5V5.5A.5.5 0 0 1 12 5Zm-5.854 9.146a.5.5 0 0 1 .708 0L8 15.293l1.146-1.147a.5.5 0 0 1 .708.708L8.707 16l1.147 1.146a.5.5 0 0 1-.708.708L8 16.707l-1.146 1.147a.5.5 0 0 1-.708-.708L7.293 16l-1.147-1.146a.5.5 0 0 1 0-.708ZM17 16a1 1 0 1 1-2 0 1 1 0 0 1 2 0Zm1 0a2 2 0 1 1-4 0 2 2 0 0 1 4 0Z",clipRule:"evenodd"}))}},340764:(e,t,r)=>{"use strict";r.d(t,{U:()=>i});var n=r(307824);function i(e){return n.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},n.createElement("path",{stroke:"var(--color-icon)",strokeLinecap:"round",strokeLinejoin:"round",d:"m13 7.5 4.5 4.5m0 0L13 16.5m4.5-4.5h-11"}))}},634564:(e,t,r)=>{"use strict";r.d(t,{K:()=>i});var n=r(307824);function i(e){return n.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},n.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M8 7h8a1 1 0 0 1 1 1v8a1 1 0 0 1-1 1H8a1 1 0 0 1-1-1V8a1 1 0 0 1 1-1ZM6 8a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H8a2 2 0 0 1-2-2V8Zm8.121 2.586a.5.5 0 0 0-.707-.707L12 11.293l-1.414-1.414a.5.5 0 1 0-.707.707L11.293 12l-1.414 1.414a.5.5 0 0 0 .707.707L12 12.707l1.414 1.414a.5.5 0 1 0 .707-.707L12.707 12l1.414-1.414Z",clipRule:"evenodd"}))}},809232:(e,t,r)=>{"use strict";r.d(t,{_:()=>i});var n=r(307824);function i(e){return n.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},n.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M6 6.5a.5.5 0 0 1 .5-.5H9a2 2 0 0 1 2 2v1.5a.5.5 0 0 1-1 0V8a1 1 0 0 0-1-1H6.5a.5.5 0 0 1-.5-.5Zm4.5 7.5a.5.5 0 0 1 .5.5V16a2 2 0 0 1-2 2H6.5a.5.5 0 0 1 0-1H9a1 1 0 0 0 1-1v-1.5a.5.5 0 0 1 .5-.5ZM18 6.5a.5.5 0 0 0-.5-.5H15a2 2 0 0 0-2 2v1.5a.5.5 0 0 0 1 0V8a1 1 0 0 1 1-1h2.5a.5.5 0 0 0 .5-.5ZM13.5 14a.5.5 0 0 0-.5.5V16a2 2 0 0 0 2 2h2.5a.5.5 0 0 0 0-1H15a1 1 0 0 1-1-1v-1.5a.5.5 0 0 0-.5-.5Zm-5.146-3.146a.5.5 0 0 0-.708-.708l-1.5 1.5a.5.5 0 0 0 0 .708l1.5 1.5a.5.5 0 0 0 .708-.708l-.647-.646h8.586l-.647.646a.5.5 0 0 0 .708.708l1.5-1.5a.5.5 0 0 0 0-.708l-1.5-1.5a.5.5 0 0 0-.708.708l.647.646H7.707l.647-.646Z",clipRule:"evenodd"}))}},358600:(e,t,r)=>{"use strict";r.d(t,{e:()=>i});var n=r(307824);function i(e){return n.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},n.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M14 7a2 2 0 0 1-1.504 1.938c.003.02.004.041.004.062v1h1a.5.5 0 0 1 0 1h-1v5.975a5.003 5.003 0 0 0 3.955-2.703.5.5 0 1 1 .89.456A6.003 6.003 0 0 1 12.5 17.98v.52a.5.5 0 0 1-1 0v-.52a6.003 6.003 0 0 1-4.845-3.252.5.5 0 0 1 .89-.456 5.002 5.002 0 0 0 3.955 2.703V11h-1a.5.5 0 0 1 0-1h1V9c0-.021.001-.042.004-.062A2 2 0 1 1 14 7Zm-2 1a1 1 0 1 0 0-2 1 1 0 0 0 0 2Z",clipRule:"evenodd"}))}},452688:(e,t,r)=>{"use strict";r.d(t,{e:()=>i});var n=r(307824);function i(e){return n.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},n.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M12.5 7h-1v10h1V7Zm-1-1a1 1 0 0 0-1 1v10a1 1 0 0 0 1 1h1a1 1 0 0 0 1-1V7a1 1 0 0 0-1-1h-1ZM5 12a1 1 0 0 1 .4-.8l2-1.5a1 1 0 0 1 1.6.8v3a1 1 0 0 1-1.6.8l-2-1.5A1 1 0 0 1 5 12Zm1.833-.625L6 12l.833.625.167.125 1 .75v-3l-1 .75-.167.125ZM18.6 11.2a1 1 0 0 1 0 1.6l-2 1.5a1 1 0 0 1-1.6-.8v-3a1 1 0 0 1 1.6-.8l2 1.5Zm-.6.8-.833-.625L17 11.25l-1-.75v3l1-.75.167-.125L18 12Z",clipRule:"evenodd"}))}},230560:(e,t,r)=>{"use strict";r.d(t,{U:()=>i});var n=r(307824);function i(e){return n.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},n.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M14 7h1v10h-1V7Zm-1 1V7a1 1 0 0 1 1-1h1a1 1 0 0 1 1 1v1h2a1 1 0 0 1 1 1v6a1 1 0 0 1-1 1h-2v1a1 1 0 0 1-1 1h-1a1 1 0 0 1-1-1v-1H6a1 1 0 0 1-1-1V9a1 1 0 0 1 1-1h7Zm0 1H6v6h7V9Zm3 6h2V9h-2v6Z",clipRule:"evenodd"}))}},320572:(e,t,r)=>{"use strict";r.d(t,{y:()=>i});var n=r(307824);function i(e){return n.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},n.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M18 12a6 6 0 0 1-9.874 4.581l8.455-8.455A5.976 5.976 0 0 1 18 12ZM7.418 15.874l8.456-8.456a6 6 0 0 0-8.456 8.456ZM19 12a7 7 0 1 1-14 0 7 7 0 0 1 14 0Z",clipRule:"evenodd"}))}},801928:(e,t,r)=>{"use strict";r.d(t,{e:()=>i});var n=r(307824);function i(e){return n.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},n.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M18 12a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1 0-1h11a.5.5 0 0 1 .5.5Z",clipRule:"evenodd"}))}},780784:(e,t,r)=>{"use strict";r.d(t,{S:()=>i});var n=r(307824);function i(e){return n.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},n.createElement("path",{stroke:"var(--color-icon)",strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6.5v11M6.5 12h11"}))}},677884:(e,t,r)=>{"use strict";r.d(t,{U:()=>i});var n=r(307824);function i(e){return n.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},n.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"m10.514 7.475 3 1.8a1 1 0 0 1 .486.857v3.735a1 1 0 0 1-.486.858l-3 1.8a1 1 0 0 1-1.028 0l-3-1.8A1 1 0 0 1 6 13.867v-3.735a1 1 0 0 1 .486-.857l3-1.8a1 1 0 0 1 1.028 0Zm-1.543-.858a2 2 0 0 1 2.058 0l3 1.8a2 2 0 0 1 .97 1.715v3.735a2 2 0 0 1-.97 1.715l-3 1.8a2 2 0 0 1-2.058 0l-3-1.8A2 2 0 0 1 5 13.867v-3.735a2 2 0 0 1 .971-1.715l3-1.8Zm4 10.766a2 2 0 0 0 2.058 0l3-1.8a2 2 0 0 0 .97-1.716v-3.735a2 2 0 0 0-.97-1.715l-3-1.8a2 2 0 0 0-2.057 0l1.226.735a1 1 0 0 1 .316.123l3 1.8a1 1 0 0 1 .486.857v3.735a1 1 0 0 1-.486.858l-3 1.8a.999.999 0 0 1-.318.123l-1.225.735ZM9 12a1 1 0 1 1 2 0 1 1 0 0 1-2 0Z",clipRule:"evenodd"}))}},484876:(e,t,r)=>{"use strict";r.d(t,{W:()=>i});var n=r(307824);function i(e){return n.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},n.createElement("path",{stroke:"var(--color-icon)",d:"M11.244 6.02a1.5 1.5 0 0 1 1.512 0l4 2.333A1.5 1.5 0 0 1 17.5 9.65v4.702a1.5 1.5 0 0 1-.744 1.296l-4 2.333a1.5 1.5 0 0 1-1.512 0l-4-2.333A1.5 1.5 0 0 1 6.5 14.35v-4.7a1.5 1.5 0 0 1 .744-1.296l4-2.333Z"}),n.createElement("rect",{width:"2",height:"2",x:"11",y:"11",fill:"var(--color-icon)",rx:"1"}))}},515724:(e,t,r)=>{"use strict";r.d(t,{Mp:()=>l,QX:()=>s,qG:()=>o});var n=r(307824);let i=n.createContext(null),a={brand:"design",version:"ui2",updateMode:()=>{}};function o(){return n.useContext(i)||(console.debug("No theme provider exists currently, returning defaults, but switching modes is disabled"),a)}function l({children:e,color:t="light",brand:r="design",version:a="ui2"}){let[o,l]=n.useState({color:t,brand:r,version:a}),s=n.useCallback(e=>{l(t=>({...t,...e}))},[]),c=n.useMemo(()=>({updateMode:s,...o}),[s,o]);return n.useContext(i)&&console.error("Only one instance of theme provider should exist"),n.useEffect(()=>{l({color:t,brand:r,version:a})},[t,r,a]),n.useEffect(()=>{"ui2"===o.version?document.body.removeAttribute("data-fpl-version"):document.body.setAttribute("data-fpl-version",o.version)},[o.brand,o.version]),n.createElement(i.Provider,{value:c},e)}function s(e){return function(t){let r=o();return n.createElement(e,{...t,theme:r})}}}},e=>{e.O(0,[6060],()=>{[7493,8332,7900,9508,2240,6352,1708,8980,1884,6005,2809,1064,9866,5268,7528,2056,5672,4032,7220,668,8688,520,8060,5020,7060,7080,1e3,24,168,1956,6072,4752,152,6813,1792,5816,4360].map(e.E)},5);var t=t=>e(e.s=t);e.O(0,[1968,7493,8332,7900,9508,2240,6352,1708,8980,1884,6005,2809,1064,5736,1876,1792,9920,1288,5816,2056],()=>t(92176)),e.O()}]);

//# debugId=645e9f71-f07f-57fd-985a-89696b52aa98

//# sourceMappingURL=https://admin.figma.com/admin/webpack-artifacts/3b5aa8527bffaa250ad16d9351327d31c1b4198e/figma_app-36b53c618166a17e.min.js.map