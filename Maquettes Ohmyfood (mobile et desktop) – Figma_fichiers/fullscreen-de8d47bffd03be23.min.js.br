"use strict";
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="b8a77f80-a5a5-5265-bbf3-4d863e11f1fb")}catch(e){}}();
(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([[6072],{383824:(e,t,n)=>{n.d(t,{CO:()=>a,EH:()=>i,KU:()=>o,MT:()=>r,SU:()=>s,Yh:()=>l});let a="variable_create_modal--staticTitle--HS1IC",r="variable_create_modal--textInput--234SQ raw_components--textInput--t9D8g raw_components--base--T7G0z raw_components--input--JB4Ix raw_components--singleRowHeight--dKM4t raw_components--border--SKh2u",l="variable_create_modal--input--d-tVA",i="variable_create_modal--tabGroup--WI9w0",o="variable_create_modal--variableSetSelectChevron--larcU",s="variable_create_modal--variableSetSelectInput--YUE3H"},52292:(e,t,n)=>{n.d(t,{U:()=>r});var a=n(307824);function r(e,t,n){a.useEffect(()=>{let a=a=>{var r;let l=a.target;n&&!l.isConnected||(null==(r=e.current)?void 0:r.contains(l))||t()};return document.addEventListener("click",a),()=>{document.removeEventListener("click",a)}})}},29284:(e,t,n)=>{n.d(t,{gp:()=>k,mU:()=>T,wH:()=>b});var a=n(307824),r=n(120304),l=n(250008),i=n(796488),o=n(733960),s=n(843148),c=n(557044),d=n(967540),m=n(560072),u=n(316220),p=n(607986),_=n(983052),E=n(514916),g=n(559572),h=n(492084),f=n(403132),v=n(740364),y=n(251596),C=n(39676),w=n(815464);function b(){let e=(0,r.OY)(),t=(0,r.w1)(e=>e.payment);function n(n){e(p.ei({numWhiteboardEditors:t.numWhiteboardEditors+n}))}function a(n){e(p.qu({numDesignEditors:t.numDesignEditors+n}))}return{increment:function(e,t){(0,i.qe)(t)||("whiteboard"===e?n(1):a(1))},decrement:function(e,t){(0,i.qe)(t)||("whiteboard"===e?n(-1):a(-1))}}}let T=(0,h.m)(({teamId:e,jamboardPromoCodeId:t})=>{let n=(0,r.OY)(),u=(0,r.w1)(e=>e.loadingState),h=(0,r.w1)(t=>e?t.teamUserByTeamId[e]:null),b=(0,r.w1)(e=>e.selectedView),T=(0,y.C2)(),[N,S]=(0,a.useState)(!0),I=(0,o.i)(e),A=_.WC.loadingKeyForPayload({teamId:e}),O=(0,C.K_)(u,A),M=(0,s.KO)();(0,a.useEffect)(()=>{n(_.WC({teamId:e}))},[n,e]);let P=function(){let e=(0,r.OY)();return(0,a.useCallback)(t=>{(0,l.we)("Loaded Saved Cart State",{teamId:t.teamId,lastSavedAt:t.updatedAt}),e(p.Mn(t))},[e])}();return(0,a.useEffect)(()=>{async function a(t){var a;try{let a=await c.cp.post("/api/subscriptions/teams/calculate_estimate",{...t,team_id:e});n(p.At({taxes:a.data.meta.estimate}))}catch(t){let e=(0,m.ID)(t);e&&(null==(a=null==t?void 0:t.data)?void 0:a.reason)==="PROMOTION_CODE_ID_ERROR"?n(p.uk({error:e,errorCode:"PROMOTION_CODE_ID_ERROR"})):n(d.M.error((0,m.t)("payments.errors.estimate_calculation_error"))),n(f.Ej({...b,paymentStep:g.qW.PAYMENT_AND_ADDRESS}))}S(!1)}if(void 0===I||I===e||N||(k(n),S(!0)),(!e||O)&&N){let l=(0,w.o9)(h,T),o=Object.entries(l).map(([e,t])=>{if((0,i.qe)(t.email||""))return e}).filter(e=>!!e);n(p.mY({figmaEmailTeamUsers:o}));let s=(0,v.qG)({teamId:e,userId:null==T?void 0:T.id});if(s){s.editorStatusChanges=(0,v.Mr)(s.editorStatusChanges,l);let i=(0,w.lr)(l,s.editorStatusChanges,E.aE.DESIGN),c=(0,w.lr)(l,s.editorStatusChanges,E.aE.WHITEBOARD),d=i+s.numEmptyDesignSeats,m=c+s.numEmptyWhiteboardSeats;if(P({numDesignEditors:d,numWhiteboardEditors:m,editorStatusChanges:s.editorStatusChanges,teamId:e,updatedAt:s.updatedAt}),M){var r;let e=(r=M.billing_period,g.SK[g.SK[r]]);n(p._c({billingPeriod:e})),n(p.i6({vatGstId:M.vat_gst_id})),n(p.Av({legalName:M.company_name,displayName:M.display_name})),n(p.AB({regionalVatGstId:M.regional_vat_gst_id})),a({address:M.address,editor_status_changes:s.editorStatusChanges,figma_email_team_users:o,selected_currency:M.currency,annual_quantity:(0,w.qs)(e,d),monthly_quantity:(0,w.eG)(e,d),annual_whiteboard_quantity:(0,w.qs)(e,m),monthly_whiteboard_quantity:(0,w.eG)(e,m),vat_gst_id:M.vat_gst_id,regional_vat_gst_id:M.regional_vat_gst_id,promotion_code_id:t})}else S(!1)}else S(!1)}},[n,O,h,I,e,T,N,M,b,P,t]),(0,a.useEffect)(()=>()=>{e&&x(n,e)},[n,e]),N}),x=(0,h.m)((e,t)=>{let n=_.WC.loadingKeyForPayload({teamId:t});e(u.E5({key:n}))});function k(e){e(p.G_({editorStatusChanges:{upgrade:{whiteboard:[],design:[],slides:[]},downgrade:{whiteboard:[],design:[],slides:[]}}})),e(p.qu({numDesignEditors:0})),e(p.ei({numWhiteboardEditors:0}))}},456940:(e,t,n)=>{n.r(t),n.d(t,{EmbeddedFigmaScopeView:()=>M,EmbeddedPrototypingFigmaScopeViewEnabled:()=>D});var a=n(307824),r=n(120304),l=n(700512),i=n(9256),o=n(721500),s=n(498472),c=n(167568),d=n(843148),m=n(365224),u=n(455200),p=n(99391),_=n(448604),E=n(753432),g=n(191352),h=n(686736),f=n(266772),v=n(762820),y=n(979144),C=n(138884),w=n(392992),b=n(84656),T=n(647567),x=n(491776),k=n(306440),N=n(162860),S=n(85280),I=n(502176),A=n(454968),O=n(763456);let M=a.memo(function(){return(0,d.Ub)().internal_only_debug_tools?a.createElement(L,null):null});function P(e,t){a.useEffect(()=>{let n=n=>{70===n.keyCode&&n.ctrlKey&&n.altKey&&n.metaKey&&t(!e)};return document.addEventListener("keydown",n),()=>{document.removeEventListener("keydown",n)}},[e,t])}function L(){let e=(0,b.s5)((0,y.EB)().showFigmaScope),{setIsOpen:t,setClosed:n}=a.useMemo(()=>{let e=e=>(0,y.EB)().showFigmaScope.set(e);return{setIsOpen:e,setClosed:()=>e(!1)}},[]);return P(e,t),e?a.createElement(R,{onClose:n}):null}function D(){let[e,t]=a.useState(!1),n=a.useCallback(()=>{t(!1)},[t]);return P(e,t),e?a.createElement(F,{onClose:n,appSelection:void 0,setAppSelection:void 0}):null}function R({onClose:e}){let t=(0,r.OY)(),n=(0,r.w1)(U),l=a.useCallback(e=>{"canvas"===e.selectionType&&v.GqY.setSelectedNodeAndCanvas(e.guidStr,!1)&&(C.ei(e.guidStr),v.u2q.scrollAndZoomIntoView([e.guidStr])),"local_style"===e.selectionType&&(C.mo(),t(_.A5({type:e.styleType,styleIds:new Set([e.guidStr]),folderNames:new Set})))},[t]);return a.createElement(F,{onClose:e,appSelection:n,setAppSelection:l})}function F({onClose:e,appSelection:t,setAppSelection:n}){let d=(0,k.c$)(),p=(0,w.K0)(),_=(0,b.s5)(v.GyV.sceneGeneration()),[y]=(0,l.c)(_,500,{trailing:!0}),C=(0,m.my)(S.uO),T=(0,r.w1)(e=>{if("prototype"===d.view)return!0;try{return null!=e.mirror.sceneGraph.getCurrentPage()}catch(e){return!1}}),x=(0,r.w1)(e=>e.mirror.appModel.pagesList);a.useEffect(()=>{T&&C((0,i.Ix)(new N.w({resource:{type:"server_file",key:p??"unknown",backend:"fullscreen"},sensitiveTextPolicy:"show",inPrototypeViewer:"prototype"===d.view})))},[y,C,T,d.view,p]);let M=(0,f.gp)(),P=a.useRef(null);(0,h.C)("legacy"===M?"light":M,P.current,d);let L=(0,g.CM)(),{windowInnerHeight:D}=(0,c.U)(),[R,F]=a.useState(window.innerHeight/2),U=a.useMemo(()=>D-(0,u.qk)(R,(0,o.I)("design"===L?O.A3q:O.eWp),D-32),[R,L,D]),K=(0,m.my)(I.v);a.useEffect(()=>{K(U)},[K,U]);let G=a.useCallback(e=>{F(e.clientY)},[]),[H,V]=a.useState(null);return((0,s.u)(H,G),T)?a.createElement(B,null,a.createElement("div",{style:{zIndex:3,height:U,color:"#000",position:"relative"},ref:P,className:E.cp,tabIndex:-1},a.createElement("div",{ref:V,style:{cursor:"ns-resize",position:"absolute",left:0,right:0,top:"-3px",height:"5px"}}),a.createElement(A.Y,{embedded:!0,onClose:e,appSelection:t,setAppSelection:n,pagesList:x}))):null}class B extends a.PureComponent{constructor(){super(...arguments),this.state={hasError:!1}}static getDerivedStateFromError(){return{hasError:!0}}componentDidCatch(e){console.error(e)}render(){return this.state.hasError?null:this.props.children}}let U=(0,p.MJ)([x.SJ,T.Kw],(e,t)=>{let n=Object.keys(e);if(n.length>0)return{selectionType:"canvas",guidStr:n[0]};if(t){let e=Array.from(t.styleIds);if(e.length>0)return{selectionType:"local_style",guidStr:e[0],styleType:t.type}}})},441340:(e,t,n)=>{let a,r,l,i,o,s,c,d,m,u,p,_,E,g,h,f,v,y,C,w,b,T,x,k,N,S,I,A,O,M,P,L,D,R,F,B,U,K,G,H;n.r(t),n.d(t,{FullscreenPageView:()=>$I,navigateToFileBrowserOrReloadIfNecessary:()=>$N,onFullscreenViewRender:()=>$F}),n(479549);var V,W=n(307824),Y=n(120304),j=n(769608),X=n(515724),z=n(125504),q=n.n(z),Z=n(250008),Q=n(161400),J=n(656716),$=n(843148),ee=n(87975),et=n(888932);let en=new Set(["-","="]),ea=new Set(["-","=","f","o","p","r","s"]);function er(e){if(!ea.has(e.key))return;let t=et.cp.mac?ee.Cs.META:ee.Cs.CONTROL;(0,ee.MP)(e,t)?e.preventDefault():en.has(e.key)&&(t|=ee.Cs.SHIFT,(0,ee.MP)(e,t)&&e.preventDefault())}var el=n(4580),ei=n(365224),eo=n(372152),es=n(506616),ec=n(980068),ed=n(662100),em=n(523060),eu=n(916956),ep=n(810756),e_=n(901676),eE=n(234284),eg=n(228028),eh=n(762056),ef=n(76236),ev=n(991312),ey=n(338408);function eC(e){return(0,ef.a_)()?W.createElement(ew,{...e}):W.createElement(W.Fragment,null,e.children)}function ew({name:e,trackingEnabled:t,alsoTrack:n,children:a}){let r=(0,eg.i)(n),l=(0,ef.MJ)({name:e,trackingEnabled:t,alsoTrackRef:r,isNamespace:!0,autoTrackable:!1}),{trackablePath:i}=l,o=(0,ef._2)(()=>(0,ef.O_)(i)),s=(0,eh.S2)(eh.YP.trackableDebug);return a=(0,ey.Y)({children:a,isDebugMode:s,name:e,color:"purple",depth:i.length,getAlsoTrackedProperties:o}),W.createElement(ev.k.Provider,{value:l},a)}var eb=n(550444),eT=n(148276),ex=n(560072),ek=n(317704),eN=n(537096),eS=n(295752),eI=n(699572),eA=n(824960),eO=n(869220),eM=n(762820),eP=n(979144),eL=n(138884),eD=n(84656),eR=n(753432),eF=n(467412),eB=n(679804),eU=n(142088),eK=n(594336),eG=n(637664),eH=n(122112),eV=n(324871),eW=n(24236),eY=n(174980),ej=n(954484),eX=n(618745),ez=n(808100),eq=n(305564);let eZ=W.forwardRef(function(e,t){let{boundingBox:n,isFigmaPurple:a}=e.node,r=function(e,t,n){let a=(0,eB.OM)({subscribeToUpdates_expensive:!0});if(!a)return null;let r={},l=(0,eB.C)(a,{x:e.x,y:e.y,width:e.w,height:e.h});return r.left=l.x+a.x,r.top=l.y+a.y,t&&(r.left+=l.width/2),n&&(r.top=l.y+a.y+l.height),{containerStyle:r}}(n,e.centered,e.bottom);if(!r)return null;let{containerStyle:l}=r;return W.createElement("div",{ref:t,className:q()(eR.cp,"on_canvas_pill--pillContainer--jvRgr",{"on_canvas_pill--centered--iOUXI":e.centered,"on_canvas_pill--bottom--gwvqA":e.bottom}),style:{...l,marginLeft:e.offset??0},"data-testid":e.dataTestId},W.createElement("div",{className:q()("on_canvas_pill--pill--fSukI",a?"on_canvas_pill--symbol--3Kz9f":"on_canvas_pill--node--xgavI")},e.children))});function eQ({node:e}){let t=(0,ec.ei)((e,t)=>(0,eU.kj)(e,t)),n=e?t(e.guid,e.objectsPanelThumbnailId):"",a=n?(0,eN.o)(n):function(e){let t=null;switch(e.type){case"TEXT":t=ez.c;break;case"FRAME":t=e.isGroup?eG.c:e.isStateGroup?ej.c:(0,eU.G)({stackMode:e.stackMode,stackCounterAlignItems:e.stackCounterAlignItems});break;case"ROUNDED_RECTANGLE":t=eW.c;break;case"ELLIPSE":t=eK.c;break;case"STAR":t=eY.c;break;case"VECTOR":t=eq.c;break;case"GROUP":t=eG.c;break;case"INSTANCE":t=eH.c;break;case"SYMBOL":t=e.isState?eX.c:ej.c}return(0,eF.gt)(e.type)&&e.hasEnabledStaticImagePaint&&(t=eV.c),t}(e);return a?W.createElement(eN.A,{className:"on_canvas_pill--iconNodeType--0xm99",svg:a}):null}var eJ=n(219868);let e$="dev_handoff_canvas_pill--dimension--WEwpp",e0="dev_handoff_canvas_pill--size--9ZpSZ";var e1=n(479004);function e2(e){return e===eM.MXH.HUG_CONTENT?"Auto":e===eM.MXH.FILL_CONTAINER?"100%":"Fixed"}function e5(e){let t=(0,eA.cN)(e);if(!t)return null;let n="INSTANCE"===t.type||"SYMBOL"===t.type||t.isStateGroup||t.isInstanceSublayer||t.isSymbolSublayer,a=!0;return"TEXT"===t.type&&(t.autoRename||t.characters.substring(0,10)===t.name.substring(0,10))&&(a=!1),{guid:t.guid,name:t.name,showName:a,type:t.type,isFigmaPurple:n,boundingBox:t.absoluteBoundingBox,hasEnabledStaticImagePaint:t.hasEnabledStaticImagePaint,isState:t.isState,isStateGroup:t.isStateGroup,isUIElement:(0,eI.Mj)(t)&&!t.isStateGroup,stackCounterAlignItems:t.stackCounterAlignItems,stackMode:t.stackMode,isGroup:t.isGroup,horizontalSizeMode:e2(eM._8i.stackHorizontalSize(t.guid)),verticalSizeMode:e2(eM._8i.stackVerticalSize(t.guid)),size:t.size,objectsPanelThumbnailId:t.objectsPanelThumbnailId}}function e3(e){let t=e5(e.guid),n=(0,eD.s5)((0,eP.EB)().showGuids),a=W.useRef(null);return t&&"SECTION"!==t.type?W.createElement(eZ,{ref:a,node:t,key:e.guid,offset:-2,dataTestId:"devHandoffLayerNamePill"},W.createElement("div",{className:"dev_handoff_canvas_pill--layerName--eX5Zu"},W.createElement(eQ,{node:t}),t.showName&&W.createElement("span",{className:"dev_handoff_canvas_pill--pillText--7B3-h ellipsis--ellipsis--Tjyfa"},t.name,n&&` (${e.guid})`))):null}let e4=e=>e.toLocaleString("en",{maximumFractionDigits:5,useGrouping:!1});function e6(e,t=0){let n=(0,eS.oJ)(),a=(0,eO.iC)(n,t,e4),{variable:r,variableDisplayName:l,isSuggested:i}=(0,eJ.Yv)(e,t);return r?{value:l,isSuggested:i}:{value:a}}function e8(e){let t=e5(e.guid),{value:n,isSuggested:a}=e6("WIDTH",(null==t?void 0:t.size.x)??0),{value:r,isSuggested:l}=e6("HEIGHT",(null==t?void 0:t.size.y)??0);return t&&t.isUIElement?W.createElement(eZ,{node:t,key:e.guid,dataTestId:"devHandoffSizePill",centered:!0,bottom:!0},W.createElement("div",{className:"dev_handoff_canvas_pill--sizeInfo--pKiuc text--fontPos11--2LvXf text--_fontBase--QdLsd"},W.createElement("span",{className:e$},W.createElement(ex.Tx,{id:"fullscreen.properties_panel.transform_panel.w"})),W.createElement("span",null,t.horizontalSizeMode),W.createElement("span",{className:e0,"data-testid":"canvasPillWidth"},n),W.createElement("span",null,a&&W.createElement(eN.A,{svg:e1.c})),W.createElement("span",{className:e$},W.createElement(ex.Tx,{id:"fullscreen.properties_panel.transform_panel.h"})),W.createElement("span",null,t.verticalSizeMode),W.createElement("span",{className:e0,"data-testid":"canvasPillHeight"},r),W.createElement("span",null,l&&W.createElement(eN.A,{svg:e1.c})))):null}function e9(){let{hoveredNode:e,selection:t}=(0,el.q)(e=>{let t=Object.keys(e.mirror.sceneGraphSelection)[0],n=e.mirror.appModel.hoveredNode;return{hoveredNode:n===eL.WW?null:n,selection:t===eL.WW?null:t}}),[n,a]=W.useState(!1),r=W.useCallback(e=>{e.altKey!==n&&a(e.altKey)},[n]);return(W.useEffect(()=>(document.addEventListener("pointermove",r),document.addEventListener("keyup",r),document.addEventListener("keydown",r),()=>{document.removeEventListener("pointermove",r),document.removeEventListener("keyup",r),document.removeEventListener("keydown",r)})),n)?null:W.createElement(W.Fragment,null,t&&e===t&&W.createElement(e8,{guid:t}),e&&W.createElement(e3,{guid:e}))}var e7=n(288448),te=n(349484),tt=n(796116),tn=n(877308),ta=n(236952),tr=n(986208),tl=n(649228),ti=n(907236),to=n(219096),ts=n(323576),tc=n(584208),td=n(373388),tm=n(849208),tu=n(68348),tp=n(560900),t_=n(704656),tE=n(495416),tg=n(441388),th=n(34664),tf=n(894764),tv=n(987276),ty=n(309812),tC=n(404920),tw=n(191352),tb=n(90340),tT=n(467380),tx=n(417184),tk=n(523292),tN=n(81492),tS=n(506940),tI=n(566676),tA=n(585508),tO=n(326660),tM=n(52456),tP=n(436808),tL=n(519156);class tD{static getCanvasColorSpace(e={}){var t;let n=(0,tL.B2)("fullscreen"),a=null==(t=null==n?void 0:n.getContext("webgl"))?void 0:t.drawingBufferColorSpace;if("srgb"===a);else if("display-p3"===a)return e.returnString?eM.AXT[eM.AXT.DISPLAY_P3]:eM.AXT.DISPLAY_P3;return e.returnString?eM.AXT[eM.AXT.SRGB]:eM.AXT.SRGB}static setCanvasColorSpace(e){let t=(0,tL.B2)("fullscreen"),n=null==t?void 0:t.getContext("webgl");"drawingBufferColorSpace"in n&&(n.drawingBufferColorSpace=e)}static getDocumentColorProfile(e={}){if(void 0===eM.QdL)throw Error("ColorManagementStateJs is not defined");return e.returnString?eM.AP$[eM.QdL.documentColorProfile().getCopy()]:eM.QdL.documentColorProfile().getCopy()}static async debugImagesFromSelection(){async function e(e){for(let t of["image/png","image/jpeg","image/heic"])try{return await tP.sv.decodeAsync(e,t,0,0,!0)}catch(e){}return null}let t=(0,tM.E)();for(let n of t.currentPage.selection){for(let a=0;a<n.fills.length;a++){let r=n.fills[a];if("IMAGE"===r.type){let l=t.getImageByHash(r.imageHash);if(!l)continue;let i=await l.getBytesAsync(),o=await e(i);if(o){let e={id:n.id,type:"fill",index:a,imageHash:r.imageHash,colorProfile:eM.AXT[o.colorProfile],bytes:i};(0,tO.gN)("ColorManagementDebug","images",e,{logToConsole:eM.usI.ALWAYS})}}}for(let a=0;a<n.strokes.length;a++){let r=n.strokes[a];if("IMAGE"===r.type){let l=t.getImageByHash(r.imageHash);if(!l)continue;let i=await l.getBytesAsync(),o=await e(i);if(o){let e={id:n.id,type:"stroke",index:a,imageHash:r.imageHash,colorProfile:eM.AXT[o.colorProfile],bytes:i};(0,tO.gN)("ColorManagementDebug","images",e,{logToConsole:eM.usI.ALWAYS})}}}}}}function tR(){return W.useEffect(()=>((0,$.Ub)().ee_color_management_debug&&(window.colorManagementDebug=tD),()=>{"colorManagementDebug"in window&&delete window.colorManagementDebug}),[]),null}var tF=n(471332),tB=n(31160),tU=n(38768),tK=n(200740),tG=n(274572),tH=n(6552),tV=n(972920),tW=n(899116),tY=n(967616),tj=n(853460),tX=n(123576);let tz=(0,tV.C)((e,t)=>{tW.sZ.updateFullscreenMenuState({pluginMenuData:e,widgetMenuData:t})},250);var tq=n(312452),tZ=n(767433),tQ=n(560864),tJ=n(421584),t$=n(392992),t0=n(306440),t1=n(251596),t2=n(919364),t5=n(960764),t3=n(386304),t4=n(824856),t6=n(389908);let t8="keyboard-layout-preference",t9=(e,t,n)=>{t&&e(t3.O4({tab:t})),n||tA.CA.triggerAction("toggle-keyboard-shortcuts")},t7=(e,t,n,a)=>{e(tm.s({keyboard_manual_supported_bell:!0})),e(ek.A.enqueue({message:(0,ex.t)("keyboard_settings.new_keyboard_name_keyboard_shortcuts_are_available",{newKeyboardName:(0,t5.uC)(t)}),button:{text:(0,ex.t)("keyboard_settings.update_keyboard_shortcuts"),action:()=>t9(e,"layout",a)},type:t8,onDismiss:()=>{e(tm.s({keyboard_manual_supported_bell:!0}))},timeoutOverride:2e4})),(0,t5.kU)({layout:n,detectedLayout:t,eventName:"manual_supported_keyboard_detected"})},ne=(e,t,n)=>{e(tm.s({keyboard_generic_supported_first_bell:!0})),e(ek.A.enqueue({message:(0,ex.t)("keyboard_settings.new_keyboard_name_keyboard_shortcuts_are_now_available",{newKeyboardName:(0,t5.uC)(t)}),button:{text:(0,ex.t)("keyboard_settings.enable_and_show_new_shortcuts"),action:()=>{t9(e,"layout",n),(0,t5.gT)({layout:t})}},type:t8,onDismiss:()=>{}})),(0,t5.kU)({layout:eM.O05.UNKNOWN,detectedLayout:t,eventName:"first_generic_detected_supported_keyboard"})};async function nt(e,t){if(!tW.sZ)return null;let n=await tW.sZ.getKeyboardLayout();if(!n)return null;if(t===n)return n;let a=(0,t6.UV)(n),r=(0,t5.E7)();return a===r||e(a,r,n,null!=t),n}async function nn(e,t){if(!window.isSecureContext||window.top!==window.self)return null;let n=navigator.keyboard;if(!n||!n.getLayoutMap)return null;let a=await n.getLayoutMap();if(function(e,t){for(let[n,a]of e)if((null==t?void 0:t.get(n))!==a)return!1;return!0}(a,t))return t;let{layoutJSON:r,detectedLayoutsWeb:l}=(0,t4.Cy)(a),i=(0,t4.se)({layoutJSON:r,detectedLayouts:l,desktopLayout:null}),o=(0,t5.E7)();return i===o||e(i,o,JSON.stringify(r),null!=t),a}var na=n(668224),nr=n(846004),nl=n(699084),ni=n(814132),no=n(291724),ns=n(611996),nc=n(265532),nd=n(514916),nm=n(472956),nu=n(876760),np=n(39676),n_=n(213100),nE=n(73664),ng=n(144984),nh=n(685656),nf=n(784528),nv=n(187044),ny=n(206944),nC=n(572028),nw=n.n(nC),nb=((m=nb||{}).NOT_INITIALIZED="not_initialized",m.ACTIVE_FIRST_TIME="active_first_time",m.ACTIVE_AFTER_IDLE="active_after_idle",m.IDLE_DUE_TO_INACTIVITY="idle_due_to_inactivity",m.IDLE_DUE_TO_TAB_SWITCH="idle_due_to_tab_switch",m),nT=n(623131),nx=n(836780);let nk=(0,nT.Zf)(nb.NOT_INITIALIZED),nN=(0,nx.If)(e=>{var t;return{state:e,fileKey:null==(t=e.openFile)?void 0:t.key}}),nS=[nb.ACTIVE_AFTER_IDLE,nb.ACTIVE_FIRST_TIME],nI=(0,nT.Zf)(null,(e,t,n)=>{let{state:a,fileKey:r}=e(nN),l=e(nk);if((l&&nS.includes(l)?"start":"end")!=(n&&nS.includes(n)?"start":"end")){let e="";switch(n){case nb.ACTIVE_AFTER_IDLE:case nb.ACTIVE_FIRST_TIME:e="active";break;case nb.IDLE_DUE_TO_INACTIVITY:case nb.IDLE_DUE_TO_TAB_SWITCH:e="inactive";break;default:e="non-initialized"}(0,tb.s5)("active_time_spent_event",r,a,{currentState:e,activeState:n},{forwardToDatadog:!0,batchRequest:!1})}t(nk,n)}),nA=["mousemove","mousedown","keydown","touchstart","touchmove","wheel"];var nO=n(158196),nM=n(105676),nP=n(380344),nL=n(976816),nD=n(888632),nR=n(309328),nF=n(721500),nB=n(180976),nU=n(103839),nK=n(71556),nG=n(329120),nH=n(918944),nV=n(23604);let nW=0;class nY{constructor(){this.work=()=>{let e=this.jobs.shift();if(e)try{let t=e.callback();e.resolve(t)}catch(t){e.reject(t)}},this.jobs=[]}isDone(){return 0===this.numJobs()}numJobs(){return this.jobs.length}cancelJobs(e){this.jobs=this.jobs.filter(t=>-1===e.indexOf(t.jobId))}queueJob(e){let t,n;let a=new Promise((e,a)=>{t=e,n=a}),r=++nW;return this.jobs.push({jobId:r,resolve:t,reject:n,callback:e}),{promise:a,jobId:r}}}let nj={requestAnimationFrame:e=>requestAnimationFrame(e),computeElapsedTime:e=>{let t=Date.now();return e(),Date.now()-t}},nX=new class{constructor(e={}){this.tick=()=>{if(!this.isTickScheduled)throw Error("wat, how did tick() get called if we're not ticking?");let e=0,t=0;for(;t<this.msPerTick&&!this.queuedWorker.isDone();)t+=this.utils.computeElapsedTime(this.queuedWorker.work),e++;this.debug&&console.log(`did ${e} jobs in ${t} ms`),this.isTickScheduled=!1,this.queuedWorker.isDone()||this.requestTick()},this.requestTick=()=>{this.isTickScheduled||(this.isTickScheduled=!0,this.utils.requestAnimationFrame(this.tick))},this.numJobs=()=>this.queuedWorker.numJobs(),this.queueJob=e=>{let{promise:t,jobId:n}=this.queuedWorker.queueJob(e);return this.requestTick(),{promise:t,jobId:n}},this.queuedWorker=new nY,this.isTickScheduled=!1,this.msPerTick=e.msPerTick||6,this.utils=e.utils||nj,this.debug=!0===e.debug}cancelJobs(e){this.queuedWorker.cancelJobs(e)}}({debug:!1});var nz=n(954636),nq=n(985584),nZ=n(229372),nQ=n(540696),nJ=n(4388),n$=n(291336),n0=n(646740),n1=n(142548),n2=n(101040),n5=n(763456);let n3="export_picker--header--Wz6np",n4="export_picker--labelWithoutCheckbox--3zcNc export_picker--label--43URE",n6="export_picker--button--PiGDo";var n8=n(910256);let n9=(0,nF.I)(n5.sBy);function n7(){let e=(0,t$.AL)(),t=(0,Y.w1)(e=>e.exportableItems),n=(0,Y.w1)(e=>e.dropdownShown),a=!!e&&(0,n$.Uf)(e),r=(0,nB.Et)(),l=(0,Y.w1)(e=>e.saveAsState),i=(0,Y.w1)(e=>e.mirror.appModel.currentPage),o=(0,Y.OY)(),s=new nU.Cg(window.innerWidth-n9,r+12);return W.useEffect(()=>{o((0,nq.kB)())},[o]),W.createElement(n2.G0,{title:(0,ex.t)("fullscreen.properties_panel.export"),headerSize:"small",initialPosition:s,onClose:()=>{o(ti.U5())},dragHeaderOnly:!0,headerClassName:"export_picker--modalHeader--f3fKx"},W.createElement("div",{className:"export_picker--exportModalContainer---vmI7"},W.createElement(an,{exports:t,isCopyExportRestricted:a,width:n9,dispatch:o,dropdownShown:n,saveAsState:l,currentPage:i})))}let ae=new nV.G4;function at({nodeID:e,title:t,filename:n,exportSetting:a,colorProfile:r=eM.AXT.SRGB,...l}){let[i,o]=(0,W.useState)({size:"",warning:"",warningTooltip:""}),[s,c]=(0,W.useState)("");(0,W.useEffect)(()=>{let l={guid:e,title:t,filename:n,exportSetting:a},i=eM.i46.getExportWarningAndSize(l);if(i){let{size:e,warning:t,warningTooltip:n}=i;o({size:e,warning:t,warningTooltip:n})}else console.error("Failed to export",l);let s=!!a.contentsOnly,d=(0,nQ.Er)(a)?r:(0,nz.M)([a],r),{jobId:m}=nX.queueJob(()=>{let t=nJ.KW(new nU.Cg(32,32),e,s),n="";t&&t.pixels&&t.pixelSize&&t.displaySize&&(n=nJ.me(t.pixels,t.pixelSize,d)),c(n)});return()=>nX.cancelJobs([m])},[r,a,n,e,t]);let{onToggleChecked:d,isChecked:m,isDisabled:u}=l,{imageType:p}=a,_=l.warning??i.warning,E=l.warningTooltip??i.warningTooltip,g=(0,W.useId)(),h=`${g}-input`,f=`${g}-desc`;return W.createElement("div",{className:"export_picker--row--lVRtp"},W.createElement("label",{htmlFor:h,className:"export_picker--label--43URE"},W.createElement(nL.W,{id:h,checked:m,onChange:d,disabled:u,"aria-describedby":f}),W.createElement("div",{className:"export_picker--thumbContainer--xwXyl",onClick:t=>{t.preventDefault(),eM.i46.panToNode(e)},"aria-hidden":"true"},!!s&&W.createElement("img",{src:s,className:"export_picker--thumb--pKbcx","data-tooltip-type":n1.wL.TEXT,"data-tooltip":n,alt:""})),W.createElement("div",{className:"export_picker--nameInfo--03piR export_picker--twoRows--PAHTA"},W.createElement("div",{className:"export_picker--name--HuhHU ellipsis--ellipsis--Tjyfa"},t),_&&W.createElement("div",{className:"export_picker--warningRow--PMwtO"},W.createElement(eN.A,{className:"export_picker--warningIcon--fgSRz",svg:n8.c,"data-tooltip-type":n1.wL.TEXT,"data-tooltip":E}),W.createElement("span",{className:"export_picker--warning--qpraF ellipsis--ellipsis--Tjyfa"},_)))),W.createElement("div",{className:"export_picker--settingsInfo--H9DJ1 export_picker--twoRows--PAHTA",id:f},W.createElement("div",null,ae.format(a.constraint)," ",p),W.createElement("div",null,i.size)))}class an extends W.PureComponent{constructor(){super(...arguments),this.state={downloadStarted:!1,exportingStarted:!1,exportingProgress:0,exportingTotal:0,exportingJobIds:[]},this.onCancel=()=>{this.props.dispatch(ti.U5())},this.onExport=()=>{if(this.props.isCopyExportRestricted||((0,Z.we)("Export Picker Exported"),this.state.downloadStarted||this.state.exportingStarted||this.isExporting()))return;let e=this.props.exports.items.filter(e=>this.props.exports.checked[e.itemID]);if(0===e.length)return;let t=[this.props.currentPage];nZ.qj.includeOutsideContents(e.map(e=>e.exportSetting))||(t=e.map(e=>e.nodeID)),this.setState({downloadStarted:!0}),(0,n0.E1)(n0.Cm.Export,this.props.saveAsState,this.props.dispatch,()=>{this.setState({exportingStarted:!0,downloadStarted:!1}),this.exportItemsWithFullscreen(e)},t,"export-picker")},this.exportItemsWithFullscreen=e=>{let t=e.map(e=>({guid:e.nodeID,title:e.title,filename:e.filename,exportSetting:e.exportSetting})),n=0;eM.i46.clearExportedItems();let a=t.map(e=>nX.queueJob(()=>eM.i46.exportItem(e))),r=a.map(e=>e.promise);r.forEach(e=>e.then(()=>this.setState({exportingProgress:++n}))),this.setState({exportingProgress:0,exportingTotal:t.length,exportingJobIds:a.map(e=>e.jobId)}),Promise.all(r).then(()=>{this.setState({exportingJobIds:[]}),eM.i46.saveExportedItems(),this.props.dispatch(ti.U5()),this.props.dispatch(nG._I())})},this.setAllChecked=e=>{this.props.exports.items.forEach((t,n)=>{this.props.dispatch(nH.e({itemID:t.itemID,checked:e}))})},this.setChecked=(e,t)=>{this.props.dispatch(nH.e({itemID:e.itemID,checked:t}))},this.isChecked=e=>this.props.exports.checked[e.itemID]}isExporting(){return this.state.exportingJobIds&&this.state.exportingJobIds.length>0}componentWillUnmount(){this.isExporting()&&nX.cancelJobs(this.state.exportingJobIds)}renderHeader(){if(this.isExporting())return W.createElement("div",{className:n3},W.createElement("label",{className:n4},W.createElement(ex.Tx,{id:"fullscreen.export.preparing_exporting_progress_of_exporting_total",exportingProgress:this.state.exportingProgress,exportingTotal:this.state.exportingTotal})),W.createElement(eT.wX,{className:n6,onClick:this.onCancel},W.createElement(ex.Tx,{id:"fullscreen.export.cancel"})));if(this.state.exportingStarted||!this.props.saveAsState.startTime&&this.state.downloadStarted)return W.createElement("div",{className:n3},W.createElement("label",{className:n4},W.createElement(ex.Tx,{id:"fullscreen.export.exporting"})));if(this.state.downloadStarted){if(!(this.props.saveAsState.totalImagesToDownload>0))return W.createElement("div",{className:n3},W.createElement("label",{className:n4},W.createElement(ex.Tx,{id:"fullscreen.export.downloading"})));{let e=Math.min(this.props.saveAsState.totalImagesToDownload,this.props.saveAsState.totalImagesToDownload-this.props.saveAsState.remainingImagesToDownload);return W.createElement("div",{className:n3},W.createElement("label",{className:n4},W.createElement(ex.Tx,{id:"fullscreen.export.downloading_progress",downloadingProgress:e,downloadingTotal:this.props.saveAsState.totalImagesToDownload})),W.createElement(eT.wX,{className:n6,onClick:this.onCancel},W.createElement(ex.Tx,{id:"fullscreen.export.cancel"})))}}{let e=this.props.exports.items||[],t=e.filter(this.isChecked).length,n=e.length,a=n===t;return W.createElement("div",{className:n3},W.createElement(nD.y,{checked:a,mixed:!a&&t>0,onChange:()=>this.setAllChecked(!a),label:W.createElement(nR.i,null,W.createElement(ex.Tx,{id:"fullscreen.export.num_selected_of_total_selected",numSelected:t,total:n}))}),W.createElement(eT.wX,{className:q()(n6,"export_picker--flexRight--PFS7g"),disabled:!t,onClick:this.onExport,autoFocus:!0},W.createElement(ex.Tx,{id:"fullscreen.export.export"})))}}render(){let e=this.props.exports.items&&this.props.exports.items.length>0;return W.createElement("div",null,W.createElement("div",{className:"export_picker--modal--FoIpV"},this.renderHeader(),W.createElement(nK.f,{width:this.props.width,className:"export_picker--scrollContainer--F9sI6"},!e&&W.createElement("div",{className:"export_picker--emptyModal--x2aqt"},W.createElement(ex.Tx,{id:"fullscreen.export.no_selected_layers_with_export"})),W.createElement(tF.ME,null,({documentExportColorProfile:t})=>e&&this.props.exports.items.map((e,n)=>W.createElement(at,{key:n,colorProfile:t,isDisabled:this.isExporting(),isChecked:this.isChecked(e),onToggleChecked:()=>this.setChecked(e,!this.isChecked(e)),...e}))))))}}an.displayName="ExportPicker";var aa=n(33416),ar=n(461016),al=n(883528),ai=n(713620),ao=n(982868),as=n(879396),ac=n(173885),ad=n(311364),am=n(641820),au=n(841152),ap=n(698240),a_=n(765064),aE=n(597624),ag=n(250016),ah=n(784740),af=n(223972),av=n(241645),ay=n(614420),aC=n(838836),aw=n(341296),ab=n(854096),aT=n(858880),ax=n(236868),ak=n(724104),aN=n(197788);function aS(e){return W.createElement("div",null,(0,ab.CB)(e.token.content))}function aI(e){let t=(0,Y.w1)(e=>e.mirror.appModel.keyboardShortcuts);return W.createElement("div",{style:a_.sx.colorText.px14.$,className:e.isSelected?"action_autocomplete_input--rowSelected--62Uvp autocomplete_permissions--contactRowSelected--xYJKX autocomplete_permissions--contactRow--DRMiv":"action_autocomplete_input--row--HRsbZ autocomplete_permissions--contactRow--DRMiv"},W.createElement(aE.g,null,W.createElement(ah.a,null,(0,ay.E)(e.searchResult)),W.createElement(aE.O,null),W.createElement(ah.a,null,e.searchResult.shortcutText??(0,nf.O0)(t,(0,ab.CB)(e.searchResult)))))}function aA({onAutocompleteChange:e}){let t=(0,aT.gN)(),n=(0,aT.KO)(),a=(0,Y.w1)(e=>e.mirror.appModel),r=(0,Y.w1)(e=>e.selectedView),l=(0,Y.w1)(e=>{var t;return null==(t=e.user)?void 0:t.locale}),i=(0,aw.q)({appModel:a,extensionMenuProps:n,includeDisabled:!0}),o=new aN.G(a,r,[...t,...i],{includeDisabled:!0,acceptsUnicode:"ja"===l}),[s,c]=W.useState((0,ax._M)());return W.createElement(ak.S,{autoFocus:!0,autocompleteResultsClassName:ap.cx.maxW300.$,autocomplete:s,placeholder:(0,ex.t)("fullscreen_actions.search_menus_commands_and_plugins"),onChange:t=>{c(t),e(t)},validateToken:aC.Kw,searchResults:e=>o.searchIncludeKey(a,e.inputValue).filter(([e,t])=>!t.parametersRequired).map(([e,t])=>({id:`${(0,ab.CB)(t)}-${t.pluginId}-${(0,ay.E)(t)}`,searchKey:e,...t})),SearchResultComponent:aI,TokenComponent:aS})}var aO=n(688420),aM=n(594192),aP=n(778436),aL=n(419064),aD=((u=aD||{})[u.NOT_PRESSED=0]="NOT_PRESSED",u[u.PRESSED=1]="PRESSED",u[u.PRESSED_FIRST_TIME=2]="PRESSED_FIRST_TIME",u[u.HELD=3]="HELD",u[u.COMPLETED_TAB_ANIMATION=4]="COMPLETED_TAB_ANIMATION",u),aR=((p=aR||{})[p.FIGJAM=0]="FIGJAM",p[p.DESIGN=1]="DESIGN",p[p.DEV_MODE=2]="DEV_MODE",p);function aF(e,t){return e in t?t[e].map(e=>e.text).filter(e=>-1===e.toLowerCase().indexOf("num")).map(aK.splitStringIntoKeys):null}function aB(e,t){let n=e.map(e=>{let n=aF(e,t);return null==n||0===n.length?null:n[0]}).filter(aM.aI);if(0===n.length)return null;if(1===n.length)return aO.g.warn("combineShortcuts: Could not find bindings to combine. \nactions: %o",e),null;let a=n[0].slice(0,-1),r=n.map(e=>e.length-1===a.length&&e.slice(0,-1).filter((e,t)=>e===a[t]).length===a.length?e.slice(-1)[0]:null).filter(aM.aI);return r.length!==e.length?(aO.g.warn("combineShortcuts: Bindings length mismatch. \nactions: %o, shortcuts %s and %s",e,n[0].join(""),n[1].join("")),null):[[...a,r]]}let aU=class extends W.PureComponent{constructor(){super(...arguments),this.state={pressed:0,animationDelays:this.calculateAnimationDelays(this.props)},this.prettifyKeyLabel=e=>e.replace(/\u23B5/,(0,ex.t)("whiteboard.keyboard_shortcuts.key_label.space")).replace(/\u21E5/,`\u21E5 ${(0,ex.t)("whiteboard.keyboard_shortcuts.key_label.tab")}`).replace(/\u21DE/,`\u21DE ${(0,ex.t)("whiteboard.keyboard_shortcuts.key_label.pg_up")}`).replace(/\u21DF/,`\u21DF ${(0,ex.t)("whiteboard.keyboard_shortcuts.key_label.pg_dn")}`).replace(/\u2196/,`\u2196 ${(0,ex.t)("whiteboard.keyboard_shortcuts.key_label.home")}`).replace(/\u2198/,`\u2198 ${(0,ex.t)("whiteboard.keyboard_shortcuts.key_label.end")}`).replace(/\u238B/,`\u238B ${(0,ex.t)("whiteboard.keyboard_shortcuts.key_label.esc")}`).replace(/\u21A9/,`\u21A9 ${(0,ex.t)("whiteboard.keyboard_shortcuts.key_label.enter")}`),this.getTooltipText=e=>{switch(e){case"\u2318":return(0,ex.t)("whiteboard.keyboard_shortcuts.tooltip.command");case"\u21E7":return(0,ex.t)("whiteboard.keyboard_shortcuts.tooltip.shift");case"\u2325":return(0,ex.t)("whiteboard.keyboard_shortcuts.tooltip.option_alt");case"\u2303":return(0,ex.t)("whiteboard.keyboard_shortcuts.tooltip.control");case"\u232B":return(0,ex.t)("whiteboard.keyboard_shortcuts.tooltip.backspace");case"\u2190":return(0,ex.t)("whiteboard.keyboard_shortcuts.key_label.left");case"\u2192":return(0,ex.t)("whiteboard.keyboard_shortcuts.key_label.right");default:return null}},this.renderCharKeyBox=(e,t)=>{let n=this.prettifyKeyLabel(e),a=n.length>1?aL.w1:aL.wL,r=this.state.animationDelays[t]?{animationDelay:`${this.state.animationDelays[t]}ms`}:{};return W.createElement("span",{key:n+t,className:a,style:r,"data-tooltip-show-immediately":"true","data-tooltip-show-above":"true","data-tooltip-type":n1.wL.TEXT,"data-tooltip":this.getTooltipText(e)},n)},this.renderKeyBindings=e=>{let t=[],n=0;return e.forEach(e=>{if("string"==typeof e)t.push(this.renderCharKeyBox(e,n)),n++;else{let a=this.renderCharKeyBox(e[0],n),r=this.renderCharKeyBox(e[1],n+1);t.push(a),t.push(W.createElement("div",{key:`${e[0]}-${e[1]}`,className:aL.iG},W.createElement(ex.Tx,{id:"whiteboard.keyboard_shortcuts.and"}))),t.push(r),n+=2}}),W.createElement("span",{className:aL.mK},t)},this.triggerUnpressed=()=>{this.setState({pressed:0})},this.triggerPressed=()=>{4!=this.state.pressed&&2!=this.state.pressed&&(clearTimeout(this.pressedTimeout),this.pressedTimeout=setTimeout(()=>this.triggerUnpressed(),500),3!=this.state.pressed&&(1==this.state.pressed?this.setState({pressed:3}):this.setState({pressed:1})))},this.triggerPressedFirstTime=()=>{this.setState({pressed:2}),clearTimeout(this.pressedTimeout),setTimeout(()=>this.triggerUnpressed(),1200)},this.triggerCompletedTab=()=>{this.setState({pressed:4}),clearTimeout(this.pressedTimeout),setTimeout(()=>this.triggerUnpressed(),4e3)}}static shortcutUsedCount(e,t){if(null==t)return 0;switch(e){case"align-centers":return Math.min(t["align-horizontal-center"]||0,t["align-vertical-center"]||0);case"align-left-right":return Math.min(t["align-left"]||0,t["align-right"]||0);case"align-top-bottom":return Math.min(t["align-top"]||0,t["align-bottom"]||0);case"distribute-spacing":return Math.min(t["distribute-horizontal-spacing"]||0,t["distribute-vertical-spacing"]||0);case"text-font-size-adjust":return Math.min(t["text-font-size-increase"]||0,t["text-font-size-decrease"]||0);case"text-letter-spacing-adjust":return Math.min(t["text-letter-spacing-increase"]||0,t["text-letter-spacing-decrease"]||0);case"text-indent-and-dedent-list":return Math.min(t["text-indent-list"]||0,t["text-dedent-list"]||0);case"text-line-height-adjust":return Math.min(t["text-line-height-increase"]||0,t["text-line-height-decrease"]||0);case"bold-and-italic":return Math.min(t["toggle-bold"]||0,t["text-toggle-italic"]||0);case"text-bold-adjust":return Math.min(t["text-bold-increase"]||0,t["text-bold-decrease"]||0);case"bulleted-and-numbered-list":return Math.min(t["text-toggle-unordered-list"]||0,t["text-toggle-ordered-list"]||0);default:return t[e]||0}}calculateAnimationDelays(e){let t=[];for(var n=0;n<5;n++){let n=0;e.allTabsCompletedAnimation?n=-Math.floor(2e3*Math.random()):e.tabCompletedFirstTimeAnimation&&null!=e.tabCompletedAnimationKeyPosition&&(n=110*Math.abs(e.keyPosition-e.tabCompletedAnimationKeyPosition)+100),t.push(n)}return t}UNSAFE_componentWillReceiveProps(e){let t=aU.shortcutUsedCount(this.props.shortcutKey,this.props.usedKeyboardShortcuts),n=aU.shortcutUsedCount(e.shortcutKey,e.usedKeyboardShortcuts);if(this.props.allTabsCompletedAnimation!=e.allTabsCompletedAnimation||this.props.tabCompletedFirstTimeAnimation!=e.tabCompletedFirstTimeAnimation){let t=this.calculateAnimationDelays(e);this.setState({animationDelays:t})}e.tabCompletedFirstTimeAnimation&&!this.props.tabCompletedAnimation&&e.tabCompletedAnimation?this.triggerCompletedTab():t!=n&&this.props.shortcutKey==e.shortcutKey&&(1==n?this.triggerPressedFirstTime():this.triggerPressed())}render(){let e,t;try{e=this.props.customName?this.props.customName:this.props.displayName?(0,al.W)(this.props.displayName):(0,al.W)(this.props.shortcutKey)}catch(t){console.error(t),e=this.props.shortcutKey}let n=aU.shortcutUsedCount(this.props.shortcutKey,this.props.usedKeyboardShortcuts)>0,a=aU.keybindingsForShortcut(this.props.shortcutKey,this.props.useNumbersForOpacity,this.props.appModelKeyboardShortcuts),r=null;return a&&(r=this.renderKeyBindings(a[0])),t=this.props.allTabsCompletedAnimation?aL.Ir:4==this.state.pressed?aL.MJ:2==this.state.pressed?aL.yW:3==this.state.pressed?aL.OS:1==this.state.pressed?aL.I7:n?aL.Gi:aL.E$,a&&W.createElement("tr",{className:t,key:this.props.shortcutKey},this.props.icon&&("design"===this.props.editorType||"dev_handoff"===this.props.editorType)&&W.createElement("td",{className:aL.eM},W.createElement(eN.A,{svg:this.props.icon,className:aL.O4})),W.createElement("td",{className:aL.gG},e,this.props.usage&&W.createElement("div",{className:aL.cJ},this.props.usage)),W.createElement("td",{className:aL.KW},r))}},aK=aU;function aG(){let[e,t]=W.useState({step:"NOT_CURRENTLY_ADDING"}),n=(0,tw.CM)(),a=(0,eD.s5)(eM.KEP.editorState().useNumbersForOpacity),r=(0,Y.w1)(e=>e.usedKeyboardShortcuts),l=(0,Y.w1)(e=>e.mirror.appModel.keyboardShortcuts),i="ADDING_WAITING_FOR_KEY_REGISTRATION"===e.step&&e.menuItem,o=W.createRef(),s=W.useCallback(n=>{n.stopPropagation(),n.preventDefault();let a=function(e){let t=(0,t5.E7)(),n=[];if(e.metaKey&&n.push("Meta"),e.altKey&&n.push("Alt"),e.shiftKey&&n.push("Shift"),e.ctrlKey&&n.push("Control"),"MetaRight"===e.code||"MetaLeft"===e.code||"ShiftRight"===e.code||"ShiftLeft"===e.code||"ControlRight"===e.code||"ControlLeft"===e.code||"AltRight"===e.code||"AltLeft"===e.code);else if(t===eM.O05.UNKNOWN){let t=eM.i46.stringKeyFromWebEventKeycode(e.keyCode);n.push(t)}else{let a=eM.i46.stringKeyFromWebEventCode(e.code,t);n.push(a)}return af.Wg.getKeyboardShortcutFromText(n.join("+"),null)}(n),r=a&&"Escape"===a.key;if(a&&"ADDING_WAITING_FOR_KEY_REGISTRATION"===e.step&&i&&!r){let e,t;if("None"===a.key)return;i.action?(e=eM.At9.FULLSCREEN,t=i.action):(e=eM.At9.NON_FULLSCREEN,t=i.searchKey),(0,am.cl)(e,t,(0,af.qO)(a))}t({step:"NOT_CURRENTLY_ADDING"})},[i,e.step]);return W.useEffect(()=>{var t;"ADDING_WAITING_FOR_KEY_REGISTRATION"===e.step&&(null==(t=o.current)||t.focus())},[o,e.step]),W.createElement("div",{className:aL.sd},W.createElement("div",{className:aL.G4},W.createElement(aE.g,{direction:"vertical",height:"fill-parent",padding:{vertical:10}},W.createElement(ah.a,{i18nId:"keyboard_settings.custom_keyboard_shortcuts",color:"menu",fontSize:14}),W.createElement(ag.q,{variant:"primary",icon:"plus-32",onClick:()=>t({step:"ADDING_WAITING_FOR_ACTION_INPUT"})},W.createElement(ah.a,{i18nId:"keyboard_settings.custom_keyboard_shortcuts.add"})),W.createElement(aE.O,null),W.createElement(au.kt,{className:ap.cx.mt4.$,text:"Internal only - #feat-custom-keyboard-shortcuts",color:au.Eo.WARNING,onClick:()=>(0,ad.OO)("https://figma.slack.com/archives/C055MQJ2E5P","_blank")}))),W.createElement("div",{className:aL.G4,style:a_.sx.pt32.overflowYScroll.add({maxHeight:"162px"}).$},Object.values((0,am.QF)()).map(({action:e,type:t})=>W.createElement(aE.g,{key:`custom-shortcuts-${e}`,width:"fill-parent",height:"hug-contents"},W.createElement(aK,{customName:"FULLSCREEN"===t?void 0:e,shortcutKey:e,editorType:n,keyPosition:0,useNumbersForOpacity:a,usedKeyboardShortcuts:r,appModelKeyboardShortcuts:l}),W.createElement(av.wP,{className:"keyboard_shortcut_panel_custom_tab--deleteButton--xf9nN",onClick:()=>(0,am.WK)("FULLSCREEN"===t?eM.At9.FULLSCREEN:eM.At9.NON_FULLSCREEN,e),"data-tooltip-type":n1.wL.TEXT,"data-tooltip":(0,ex.t)("whiteboard.keyboard_shortcuts.delete.shortcut")},W.createElement(ac.A,null)))),"ADDING_WAITING_FOR_ACTION_INPUT"===e.step&&W.createElement("div",{className:ap.cx.relative.mt4.$},W.createElement(aA,{onAutocompleteChange:e=>{let n=e.tokens[0];n&&t({step:"ADDING_WAITING_FOR_KEY_REGISTRATION",menuItem:n.content})}})),"ADDING_WAITING_FOR_KEY_REGISTRATION"===e.step&&W.createElement(aE.g,{height:"hug-contents",verticalAlignItems:"center"},W.createElement(ah.a,{color:"menu"},(0,ay.E)(e.menuItem)),W.createElement(aE.O,null),W.createElement("div",{className:ap.cx.py4.$},W.createElement("div",{className:q()(aL.Gi,aL.mK)},W.createElement(ag.q,{ref:o,variant:"primary",onKeyDown:s},W.createElement(ah.a,{i18nId:"keyboard_settings.custom_keyboard_shortcuts.press_key"}))))),W.createElement("div",{style:a_.sx.h150.$})))}aK.displayName="Shortcut",aK.specialKeys=["Backspace","Delete","Down","End","Enter","Home","Left","Page Down","Page Up","Right","Tab","Up"],aK.getLocalizedSpecialKey=e=>{switch(e){case"Backspace":return(0,ex.t)("whiteboard.keyboard_shortcuts.key_label.backspace");case"Delete":return(0,ex.t)("whiteboard.keyboard_shortcuts.key_label.delete");case"Down":return(0,ex.t)("whiteboard.keyboard_shortcuts.key_label.down");case"End":return(0,ex.t)("whiteboard.keyboard_shortcuts.key_label.end");case"Enter":return(0,ex.t)("whiteboard.keyboard_shortcuts.key_label.enter");case"Home":return(0,ex.t)("whiteboard.keyboard_shortcuts.key_label.home");case"Left":return(0,ex.t)("whiteboard.keyboard_shortcuts.key_label.left");case"Page Down":return(0,ex.t)("whiteboard.keyboard_shortcuts.key_label.page_down");case"Page Up":return(0,ex.t)("whiteboard.keyboard_shortcuts.key_label.page_up");case"Right":return(0,ex.t)("whiteboard.keyboard_shortcuts.key_label.right");case"Tab":return(0,ex.t)("whiteboard.keyboard_shortcuts.key_label.tab");case"Up":return(0,ex.t)("whiteboard.keyboard_shortcuts.key_label.up")}},aK.splitStringIntoKeys=e=>{let t=[];for(;e.length>0;)if(e.startsWith("Ctrl+"))t.push((0,ex.t)("whiteboard.keyboard_shortcuts.key_label.ctrl")),e=e.slice(5);else if(e.startsWith("Shift+"))t.push((0,ex.t)("whiteboard.keyboard_shortcuts.key_label.shift")),e=e.slice(6);else if(e.startsWith("Alt+"))t.push((0,ex.t)("whiteboard.keyboard_shortcuts.key_label.alt")),e=e.slice(4);else if(e.startsWith("Win+"))t.push((0,ex.t)("whiteboard.keyboard_shortcuts.key_label.win")),e=e.slice(4);else{let n=!1;for(let a=0;a<aU.specialKeys.length;a++){let r=aU.specialKeys[a];if(e.startsWith(r)){t.push(aU.getLocalizedSpecialKey(r)),e=e.slice(r.length),n=!0;break}}n||(t.push(e[0]),e=e.slice(1))}return t},aK.keybindingsForShortcut=(e,t,n)=>{if(!n)return null;let a=function(e,t){let n=aP.s.isApple(),a=n?"\u2325":et.cp.chromeos?(0,ex.t)("whiteboard.keyboard_shortcuts.key_label.search"):(0,ex.t)("whiteboard.keyboard_shortcuts.key_label.alt"),r=n?"\u2318":(0,ex.t)("whiteboard.keyboard_shortcuts.key_label.ctrl"),l=n?"\u21A9":(0,ex.t)("whiteboard.keyboard_shortcuts.key_label.enter"),i=n?"\u238B":(0,ex.t)("whiteboard.keyboard_shortcuts.key_label.esc"),o=n?"\u21E7":(0,ex.t)("whiteboard.keyboard_shortcuts.key_label.shift"),s=(0,ex.t)("whiteboard.keyboard_shortcuts.key_label.drag"),c=(0,ex.t)("whiteboard.keyboard_shortcuts.key_label.click"),d=(0,ex.t)("whiteboard.keyboard_shortcuts.key_label.dbl_click"),m=Object.entries({"align-left-right":aB(["align-left","align-right"],e),"align-top-bottom":aB(["align-top","align-bottom"],e),"align-centers":aB(["align-horizontal-center","align-vertical-center"],e),copy:[[r,"C"]],"center-resize-drag":[[a]],"crop-image":[[a,d]],cut:[[r,"X"]],"deep-select":[[r,c]],"deep-select-rectangle":[[r,s]],"deselect-all":[[i]],duplicate:[[a]],"ignore-constraints":[[r]],"measure-to-selection":[[a]],"move-while-resizing":[["\u23B5"]],pan:[["\u23B5",s]],paste:[[r,"V"]],"request-edit-mode":[[l]],"resize-proportionally":[[o]],"swap-instance":[[a]],"text-letter-spacing-adjust":aB(["text-letter-spacing-decrease","text-letter-spacing-increase"],e),"text-line-height-adjust":aB(["text-line-height-decrease","text-line-height-increase"],e),"text-font-size-adjust":aB(["text-font-size-decrease","text-font-size-increase"],e),"text-bold-adjust":aB(["text-bold-decrease","text-bold-increase"],e),"bold-and-italic":aB(["toggle-bold","text-toggle-italic"],e),"stamp-or-reaction-wheel":[["E"]],"set-tool-section":[["F"]],"bulleted-and-numbered-list":aB(["text-toggle-ordered-list","text-toggle-unordered-list"],e),"distribute-spacing":aB(["distribute-horizontal-spacing","distribute-vertical-spacing"],e),"text-indent-and-dedent-list":aB(["text-indent-list","text-dedent-list"],e),"straight-connector":[[o,s]],"edit-text":[[l]],"set-opacity-00":t?[["0","0"]]:[[o,"0","0"]],[tS.uw]:n?[["\u2318","\u2303","\u2192"]]:[[(0,ex.t)("whiteboard.keyboard_shortcuts.key_label.ctrl"),"F6"]],[tS.Oc]:n?[["\u2318","\u2303","\u2190"]]:[[o,(0,ex.t)("whiteboard.keyboard_shortcuts.key_label.ctrl"),"F6"]],"quick-create-immutable-frame":aF("quick-create",e),"stamp-on-node":aF("quick-create",e),"outline-stroke-transition":aF("outline-stroke-with-migration-notice",e)||aF("outline-stroke",e),"toggle-outlines-transition":aF("toggle-outlines-with-migration-notice",e)||aF("toggle-outlines",e)}).reduce((e,[t,n])=>((0,aM.aI)(n)&&(e[t]=n),e),{});return n?{...m,"bend-tool":[["\u2318"]]}:m}(n,t);return e in n?aF(e,n):e in a?a[e]:null};let aH="keyboard_rows--row--8eEsv",aV="ISO_ENTER",aW="SPACER";function aY({createKey:e}){return W.createElement("div",{className:aH},e("Backquote"),e("Digit1"),e("Digit2"),e("Digit3"),e("Digit4"),e("Digit5"),e("Digit6"),e("Digit7"),e("Digit8"),e("Digit9"),e("Digit0"),e("Minus"),e("Equal"),e("IntlYen"),e("Backspace",113))}function aj({createKey:e,isBackslashRow2:t}){let n=null==t?e("Backslash"):t?e("Backslash"):e(aV,90);return W.createElement("div",{className:aH},e("Tab",90),e("KeyQ"),e("KeyW"),e("KeyE"),e("KeyR"),e("KeyT"),e("KeyY"),e("KeyU"),e("KeyI"),e("KeyO"),e("KeyP"),e("BracketLeft"),e("BracketRight"),n)}function aX({createKey:e,isBackslashRow2:t}){let n=null==t?e("Backslash"):t?null:e("Backslash"),a=null==t?e("Enter",60):t?e("Enter",60):e(aW,20);return W.createElement("div",{className:aH},e("CapsLock",120),e("KeyA"),e("KeyS"),e("KeyD"),e("KeyF"),e("KeyG"),e("KeyH"),e("KeyJ"),e("KeyK"),e("KeyL"),e("Semicolon"),e("Quote"),n,a)}function az({createKey:e}){return W.createElement("div",{className:aH},e("ShiftLeft",134),e("IntlBackslash"),e("KeyZ"),e("KeyX"),e("KeyC"),e("KeyV"),e("KeyB"),e("KeyN"),e("KeyM"),e("Comma"),e("Period"),e("Slash"),e("IntlRo"),e("ShiftRight",94))}function aq({createKey:e}){return et.cp.mac?W.createElement("div",{className:aH},e("Fn"),e("ControlLeft"),e("AltLeft"),e("MetaLeft"),e("Space",500),e("MetaRight"),e("AltRight")):W.createElement("div",{className:aH},e("Fn"),e("ControlLeft"),e("MetaLeft"),e("AltLeft"),e("Space",500),e("AltRight"),e("ControlRight"))}var aZ=n(235020);let aQ="keyboard_shortcut_panel_layout_tab--row--MilbG",aJ="keyboard_shortcut_panel_layout_tab--column--SzOhn keyboard_shortcut_panel--column--lHvov",a$="keyboard_shortcut_panel_layout_tab--wideColumn--tR6V-";var a0=n(718316);function a1(e){switch(e){case eM.O05.CHINESE:case eM.O05.KOREAN:case eM.O05.US_QWERTY:case eM.O05.UNKNOWN:case eM.O05.DVORAK:return!0;default:return!1}}function a2({label:e,width:t}){return W.createElement("div",{style:{flexGrow:t??1},className:"keyboard_shortcut_panel_layout_tab--key--zFiya keyboard_shortcut_panel--singleCharKeyBox--DD6s1 keyboard_shortcut_panel--shortcutBox--9Ltqp"},e)}function a5({layout:e}){let t=(0,W.useCallback)(t=>"Space"===t?" ":eM.i46.getKeyboardLayoutAsJSON(e)[t],[e]),n=(e,n)=>{if(e!==aV&&e!==aW){let a=t(e);return a?W.createElement(a2,{key:e,width:n,label:a}):null}return e===aV?W.createElement("div",{style:{flexGrow:n??1},className:"keyboard_shortcut_panel_layout_tab--enterISOKeyContainer--PK7LJ keyboard_shortcut_panel_layout_tab--key--zFiya keyboard_shortcut_panel--singleCharKeyBox--DD6s1 keyboard_shortcut_panel--shortcutBox--9Ltqp"},W.createElement(eN.A,{className:"keyboard_shortcut_panel_layout_tab--enterISOKey--AbX2h",svg:a0.c})):e===aW?W.createElement("div",{style:{flexGrow:n??1},className:"keyboard_shortcut_panel_layout_tab--spacerKey--g8rv4 keyboard_shortcut_panel_layout_tab--key--zFiya keyboard_shortcut_panel--singleCharKeyBox--DD6s1 keyboard_shortcut_panel--shortcutBox--9Ltqp"},t("Enter")):null};return W.createElement("div",{className:"keyboard_shortcut_panel_layout_tab--keyboardContainer--JLzz1"},W.createElement("div",{className:aQ},W.createElement(aY,{createKey:n})),W.createElement("div",{className:aQ},W.createElement(aj,{createKey:n,isBackslashRow2:a1(e)})),W.createElement("div",{className:aQ},W.createElement(aX,{createKey:n,isBackslashRow2:a1(e)})),W.createElement("div",{className:aQ},W.createElement(az,{createKey:n})),W.createElement("div",{className:q()(aQ,"keyboard_shortcut_panel_layout_tab--row5--TBfPa")},W.createElement(aq,{createKey:n})))}let a3=async()=>{if(!tW.sZ)return null;let e=await tW.sZ.getKeyboardLayout();return e?(0,t6.UV)(e):null};class a4 extends aZ.cb{}function a6({layout:e,setPreviewedLayout:t}){let n=(0,Y.OY)(),a=(0,Y.w1)(e=>e.dropdownShown),[r,l]=(0,W.useState)(e),[i,o]=(0,W.useState)();a3().then(e=>{i!==e&&o(e)});let s=(0,W.useMemo)(()=>{let e=i?W.createElement(a4,{key:i,value:i}):null,t=(0,t5.my)().map(e=>{if(isNaN(parseInt(e)))return null;let t=parseInt(e);return t===i?null:{name:(0,t5.uC)(t),layoutOption:t}}).filter(aM.aI).sort((e,t)=>e.layoutOption===eM.O05.UNKNOWN?1:t.layoutOption===eM.O05.UNKNOWN?-1:e.name.localeCompare(t.name)).map(({layoutOption:e})=>W.createElement(a4,{key:e,value:e}));return null!=e?[W.createElement(a4,{key:(0,ex.t)("keyboard_settings.detected"),formattedValue:(0,ex.t)("keyboard_settings.detected"),disabled:!0}),e,W.createElement(aZ.Wy,{key:"divider-1"}),W.createElement(a4,{key:(0,ex.t)("keyboard_settings.other_layouts"),formattedValue:(0,ex.t)("keyboard_settings.other_layouts"),disabled:!0}),...t]:t},[i]),c=W.createElement("div",{className:"keyboard_shortcut_panel_layout_tab--selectorWrapper--ecEHm"},W.createElement(aZ.M1,{id:"keyboard-layout-select",property:r,dispatch:n,autoFocus:!1,className:"keyboard_shortcut_panel_layout_tab--selectorContainer--BWtmR",dropdownClassName:eR.WW,inputClassName:"keyboard_shortcut_panel_layout_tab--selectorInputContainer--z1tfj",chevronClassName:"keyboard_shortcut_panel_layout_tab--selectorChevron--ZnCbX",formatter:{format:e=>(0,t5.uC)(e)},onMouseDown:e=>{e.stopPropagation()},onChange:e=>{l(e),(0,t5.gT)({layout:e})},onOptionFocus:t,dropdownShown:a,recordingKey:"keyboardLayoutSelector"},s));return W.createElement("div",{className:"keyboard_shortcut_panel_layout_tab--selectorRow--QPlYR"},W.createElement("span",{className:"keyboard_shortcut_panel_layout_tab--selectorLabelText--3jkuk"},(0,ex.t)("keyboard_settings.keyboard_layout_panel_selector")),W.createElement("div",{className:"keyboard_shortcut_panel_layout_tab--selectorDropdownContainer--0rd1S"},c))}function a8({layout:e,setPreviewedLayout:t}){let n=(0,ex.t)("keyboard_settings.figma_keyboard_shortcuts_won_t_automatically_change_if_you_change_your_system_keyboard_layout");return W.createElement("div",{className:"keyboard_shortcut_panel_layout_tab--leftColumnWrapper--8Jn1P"},W.createElement("div",{className:"keyboard_shortcut_panel_layout_tab--keyboardSelectorContainerSection--gTvK9"},W.createElement(a6,{layout:e,setPreviewedLayout:t})),W.createElement("div",{className:"keyboard_shortcut_panel_layout_tab--keyboardDescriptionSection--yD9L-"},e===eM.O05.UNKNOWN?null:n),W.createElement("div",{className:"keyboard_shortcut_panel_layout_tab--keyboardLearnMoreSection--PV6Hj"},W.createElement("a",{className:"keyboard_shortcut_panel_layout_tab--learnMoreLink--bOFxg",href:"https://help.figma.com/hc/articles/5665442977431",target:"_blank",rel:"noopener"},W.createElement(ex.Tx,{id:"keyboard_settings.request_a_new_layout_or_learn_more"}))))}function a9(){let e=(0,eD.s5)(eM.KEP.editorState().keyboardLayoutPreference),[t,n]=(0,W.useState)();return W.createElement("div",{className:"keyboard_shortcut_panel_layout_tab--contents--8vVa7 keyboard_shortcut_panel--contents--8ae0D"},W.createElement("div",{className:q()(aJ,a$)},W.createElement(a8,{layout:e,setPreviewedLayout:n})),W.createElement("div",{className:q()(aJ,a$,"keyboard_shortcut_panel_layout_tab--keyboardVisualColumn--5Hw4F")},W.createElement(a5,{layout:t??e})))}var a7=n(673776),re=n(696584),rt=n(942516),rn=n(220812),ra=n(166996);class rr extends W.PureComponent{render(){return W.createElement("div",{className:aL.G4},W.createElement("table",null,this.props.children))}}rr.displayName="Column";class rl extends W.PureComponent{render(){let e=W.Children.toArray(this.props.children).filter(e=>!!e);if(0===e.length)return null;let t=this.props.caption?(0,al.W)(this.props.caption):null;return W.createElement("tbody",null,t&&W.createElement("tr",null,W.createElement("th",{className:aL.eQ,colSpan:3},t)),e)}}function ri(e,t,n){if(void 0===t&&void 0===n)return!0;let a=e=>{let a=!0;return void 0!==n&&a&&(a=n!==e),void 0!==t&&a&&(a=t===e),a};return"design"===e?a(aR.DESIGN):"dev_handoff"===e?a(aR.DEV_MODE):"whiteboard"===e&&a(aR.FIGJAM)}function ro(e){return!e||e.every(e=>(0,$.Ub)()[e])}rl.displayName="Category";class rs extends W.Component{constructor(e){super(e),this.keyShortcutPositionsInTab={},this.shortcutList={[a7.GH.ESSENTIAL]:{displayName:W.createElement(ex.Tx,{id:"whiteboard.keyboard_shortcuts.tab.essential"}),includeInEditorType:aR.DESIGN,columns:[[{shortcuts:[{shortcutKey:"toggle-ui",usage:W.createElement(ex.Tx,{id:"fullscreen.keyboard_shortcuts_panel.toggle_ui_description"})}]}],[{shortcuts:[this.props.hasSubscribedLibraries?{shortcutKey:"component-insert",displayName:this.componentInsertDisplayName(),usage:W.createElement(ex.Tx,{id:"fullscreen.keyboard_shortcuts_panel.component_insert_description"})}:{shortcutKey:"toggle-dropper",usage:W.createElement(ex.Tx,{id:"fullscreen.keyboard_shortcuts_panel.toggle_dropper_description"})}]}],[{shortcuts:[{shortcutKey:"toggle-menu",usage:W.createElement(ex.Tx,{id:"fullscreen.keyboard_shortcuts_panel.toggle_menu_description"})}]}]]},[a7.GH.TOOLS]:{displayName:W.createElement(ex.Tx,{id:"whiteboard.keyboard_shortcuts.tab.tools"}),columns:[[{shortcuts:[{shortcutKey:"set-tool-default",displayName:"set-tool-default-desc-figma",icon:(0,ao.Wq)(tq.w3X.SELECT),includeInEditorType:aR.DESIGN},{shortcutKey:"set-tool-default-figjam",displayName:"set-tool-default-desc-figjam",icon:(0,ao.Wq)(tq.w3X.SELECT),includeInEditorType:aR.FIGJAM},{shortcutKey:"set-tool-frame",displayName:"set-tool-frame-desc",icon:(0,ao.Wq)(tq.w3X.FRAME),includeInEditorType:aR.DESIGN},{shortcutKey:"set-tool-pen",displayName:"set-tool-pen-desc",icon:(0,ao.Wq)(tq.w3X.VECTOR_PEN),includeInEditorType:aR.DESIGN},{shortcutKey:"set-tool-sticky",includeInEditorType:aR.FIGJAM},{shortcutKey:"set-tool-connector-straight",includeInEditorType:aR.FIGJAM},{shortcutKey:"set-tool-connector-elbowed",includeInEditorType:aR.FIGJAM},{shortcutKey:"set-tool-pencil",displayName:"set-tool-pencil-desc",icon:(0,ao.Wq)(tq.w3X.VECTOR_PENCIL),includeInEditorType:aR.DESIGN},{shortcutKey:"set-tool-pencil",displayName:"set-tool-marker",includeInEditorType:aR.FIGJAM}]}],[{shortcuts:[{shortcutKey:"set-tool-type",displayName:"set-tool-type-desc",icon:(0,ao.Wq)(tq.w3X.TYPE),hideInEditorType:aR.DEV_MODE},{shortcutKey:"set-tool-table",icon:(0,ao.Wq)(tq.w3X.TABLE)},{shortcutKey:"set-tool-section",includeInEditorType:aR.FIGJAM},{shortcutKey:"set-tool-rectangle",displayName:"set-tool-rectangle-desc",icon:(0,ao.Wq)(tq.w3X.SHAPE_RECTANGLE),hideInEditorType:aR.DEV_MODE},{shortcutKey:"set-tool-ellipse",displayName:"set-tool-ellipse-desc",icon:(0,ao.Wq)(tq.w3X.SHAPE_ELLIPSE),hideInEditorType:aR.DEV_MODE},{shortcutKey:"set-tool-line",displayName:"set-tool-line-desc",icon:(0,ao.Wq)(tq.w3X.SHAPE_LINE),includeInEditorType:aR.DESIGN},{shortcutKey:"toggle-publish",includeInEditorType:aR.FIGJAM},{shortcutKey:"place",includeInEditorType:aR.FIGJAM},{shortcutKey:"set-tool-arrow",displayName:"set-tool-arrow-desc",icon:(0,ao.Wq)(tq.w3X.SHAPE_ARROW),includeInEditorType:aR.DESIGN},{shortcutKey:"set-tool-comments",icon:(0,ao.Wq)(tq.w3X.COMMENTS),includeInEditorType:aR.DEV_MODE},{shortcutKey:"set-tool-annotate",icon:(0,ao.Wq)(tq.w3X.ANNOTATE),includeInEditorType:aR.DEV_MODE},{shortcutKey:"set-tool-measure",icon:(0,ao.Wq)(tq.w3X.MEASURE),includeInEditorType:aR.DEV_MODE}]}],[{shortcuts:[{shortcutKey:"start-chat",includeInEditorType:aR.FIGJAM},{shortcutKey:"stamp-or-reaction-wheel",includeInEditorType:aR.FIGJAM},{shortcutKey:"set-tool-code-block",includeInEditorType:aR.FIGJAM},{shortcutKey:"set-tool-comments",icon:(0,ao.Wq)(tq.w3X.COMMENTS),hideInEditorType:aR.DEV_MODE},{shortcutKey:"toggle-dropper",icon:rn.c,includeInEditorType:aR.DESIGN},{shortcutKey:"set-tool-slice",displayName:"set-tool-slice-desc",icon:(0,ao.Wq)(tq.w3X.SLICE),includeInEditorType:aR.DESIGN}]}]]},[a7.GH.VIEW]:{displayName:W.createElement(ex.Tx,{id:"whiteboard.keyboard_shortcuts.tab.view"}),columns:[[{shortcuts:[{shortcutKey:"toggle-ui"},{shortcutKey:"toggle-multiplayer-cursors"},{shortcutKey:"enter-design-mode"},{shortcutKey:"enter-inspect-mode"}]}],[{shortcuts:[{shortcutKey:"pan",includeInEditorType:aR.FIGJAM},{shortcutKey:"zoom-in",includeInEditorType:aR.FIGJAM},{shortcutKey:"zoom-out",includeInEditorType:aR.FIGJAM},{shortcutKey:"zoom-reset",includeInEditorType:aR.FIGJAM},{shortcutKey:"toggle-rulers",includeInEditorType:aR.DESIGN},{shortcutKey:"toggle-outlines-transition",includeInEditorType:aR.DESIGN},{shortcutKey:"toggle-pixel-preview",includeInEditorType:aR.DESIGN},{shortcutKey:"toggle-shown-layout-grids",includeInEditorType:aR.DESIGN},{shortcutKey:"toggle-grid",includeInEditorType:aR.DESIGN}]}],[{shortcuts:[{shortcutKey:"zoom-to-fit",includeInEditorType:aR.FIGJAM},{shortcutKey:"zoom-to-selection",includeInEditorType:aR.FIGJAM},{shortcutKey:"toggle-layers",includeInEditorType:aR.DESIGN},{shortcutKey:"toggle-publish",displayName:"toggle-publish-desc",includeInEditorType:aR.DESIGN},{shortcutKey:"toggle-library",includeInEditorType:aR.DESIGN},{shortcutKey:"show-design-panel",includeInEditorType:aR.DESIGN},{shortcutKey:(0,as.Wi)()?"toggle-prototyping-info":"show-prototype-panel",includeInEditorType:aR.DESIGN}]}]]},[a7.GH.ZOOM]:{displayName:W.createElement(ex.Tx,{id:"whiteboard.keyboard_shortcuts.tab.zoom"}),hideInEditorType:aR.FIGJAM,columns:[[{shortcuts:[{shortcutKey:"pan"},{shortcutKey:"zoom-in"},{shortcutKey:"zoom-out"},{shortcutKey:"zoom-reset"}]}],[{shortcuts:[{shortcutKey:"zoom-to-fit"},{shortcutKey:"zoom-to-selection"},{shortcutKey:"next-artboard"},{shortcutKey:"previous-artboard"}]}],[{shortcuts:[{shortcutKey:"page-previous"},{shortcutKey:"page-next"},{shortcutKey:"previous-artboard-same-zoom"},{shortcutKey:"next-artboard-same-zoom"}]}]]},[a7.GH.TEXT]:{displayName:W.createElement(ex.Tx,{id:"whiteboard.keyboard_shortcuts.tab.text"}),hideInEditorType:aR.DEV_MODE,columns:[[{shortcuts:[{shortcutKey:"bold-and-italic"},{shortcutKey:"text-toggle-underline"},{shortcutKey:"text-edit-hyperlink"},{shortcutKey:"text-toggle-strikethrough"},{shortcutKey:"bulleted-and-numbered-list"}]}],[{shortcuts:[{shortcutKey:"text-align-left",includeInEditorType:aR.DESIGN},{shortcutKey:"text-align-center",includeInEditorType:aR.DESIGN},{shortcutKey:"text-align-right",includeInEditorType:aR.DESIGN},{shortcutKey:"text-align-justified",includeInEditorType:aR.DESIGN},{shortcutKey:"text-style-normal",includeInEditorType:aR.FIGJAM},{shortcutKey:"text-style-h3",includeInEditorType:aR.FIGJAM},{shortcutKey:"text-style-h2",includeInEditorType:aR.FIGJAM},{shortcutKey:"text-style-h1",includeInEditorType:aR.FIGJAM},{shortcutKey:"text-style-title",includeInEditorType:aR.FIGJAM}]}],[{shortcuts:[{shortcutKey:"text-font-size-adjust",includeInEditorType:aR.DESIGN},{shortcutKey:"text-bold-adjust",includeInEditorType:aR.DESIGN},{shortcutKey:"text-letter-spacing-adjust",includeInEditorType:aR.DESIGN},{shortcutKey:"text-line-height-adjust",includeInEditorType:aR.DESIGN},{shortcutKey:"text-align-left",includeInEditorType:aR.FIGJAM},{shortcutKey:"text-align-center",includeInEditorType:aR.FIGJAM},{shortcutKey:"text-align-right",includeInEditorType:aR.FIGJAM},{shortcutKey:"text-indent-and-dedent-list",includeInEditorType:aR.FIGJAM}]}]]},[a7.GH.SHAPE]:{displayName:W.createElement(ex.Tx,{id:"whiteboard.keyboard_shortcuts.tab.shape"}),includeInEditorType:aR.DESIGN,columns:[[{shortcuts:[{shortcutKey:"set-tool-pen",icon:(0,ao.Wq)(tq.w3X.VECTOR_PEN)},{shortcutKey:"set-tool-pencil",icon:(0,ao.Wq)(tq.w3X.VECTOR_PENCIL)}]},{caption:"while-editing-shape",shortcuts:[{shortcutKey:"set-tool-paint-bucket",icon:(0,ao.Wq)(tq.w3X.VECTOR_PAINT_BUCKET)},{shortcutKey:"bend-tool",icon:(0,ao.Wq)(tq.w3X.VECTOR_BEND)}]}],[{shortcuts:[{shortcutKey:"remove-fill"},{shortcutKey:"remove-stroke"},{shortcutKey:"swap-fill-and-stroke"},{shortcutKey:"outline-stroke-transition"},{shortcutKey:"flatten-selection"}]}],[{caption:"after-selecting-points",shortcuts:[{shortcutKey:"join-selection"},{shortcutKey:"smooth-join-selection"},{shortcutKey:"delete-and-heal-selection"}]}]]},[a7.GH.SELECT]:{displayName:W.createElement(ex.Tx,{id:"whiteboard.keyboard_shortcuts.tab.selection"}),includeInEditorType:aR.DESIGN,columns:[[{shortcuts:[{shortcutKey:"select-all"},{shortcutKey:"select-inverse"},{shortcutKey:"deselect-all"},{shortcutKey:"deep-select"}]}],[{shortcuts:[{shortcutKey:"select-child"},{shortcutKey:"select-parent"},{shortcutKey:"select-next-sibling"},{shortcutKey:"select-previous-sibling"},{shortcutKey:"select-matching"}]}],[{shortcuts:[{shortcutKey:"group-selection"},{shortcutKey:"ungroup-selection"},{shortcutKey:"frame-selection"},{shortcutKey:"toggle-shown-for-selected-nodes"},{shortcutKey:"toggle-locked-for-selected-nodes"}]}]]},[a7.GH.CURSOR]:{displayName:W.createElement(ex.Tx,{id:"whiteboard.keyboard_shortcuts.tab.cursor"}),includeInEditorType:aR.DESIGN,columns:[[{caption:"while-pointing",shortcuts:[{shortcutKey:"measure-to-selection"}]},{caption:"while-moving",shortcuts:[{shortcutKey:"duplicate"}]}],[{caption:"while-clicking",shortcuts:[{shortcutKey:"deep-select"}]},{caption:"while-dragging-to-select",shortcuts:[{shortcutKey:"deep-select-rectangle"}]}],[{caption:"while-resizing",shortcuts:[{shortcutKey:"center-resize-drag"},{shortcutKey:"resize-proportionally"},{shortcutKey:"ignore-constraints",displayName:"ignore-constraints-desc"}]}]]},[a7.GH.COPY]:{displayName:W.createElement(ex.Tx,{id:"whiteboard.keyboard_shortcuts.tab.copy"}),includeInEditorType:aR.DEV_MODE,columns:[[],[{shortcuts:[{shortcutKey:"copy",includeInEditorType:aR.DEV_MODE},{shortcutKey:"copy-as-png",includeInEditorType:aR.DEV_MODE}]}],[]]},[a7.GH.EDIT]:{displayName:W.createElement(ex.Tx,{id:"whiteboard.keyboard_shortcuts.tab.edit"}),hideInEditorType:aR.DEV_MODE,columns:[[{shortcuts:[{shortcutKey:"copy"},{shortcutKey:"cut"},{shortcutKey:"paste"},{shortcutKey:"paste-to-replace",includeInEditorType:aR.DESIGN},{shortcutKey:"paste-over-selection"},{shortcutKey:"export-selection-or-current-page",displayName:"export-selection-or-current-page-desc",includeInEditorType:aR.FIGJAM}]}],[{shortcuts:[{shortcutKey:"bring-forward",includeInEditorType:aR.FIGJAM},{shortcutKey:"send-backward",includeInEditorType:aR.FIGJAM},{shortcutKey:"bring-to-front",includeInEditorType:aR.FIGJAM},{shortcutKey:"send-to-back",includeInEditorType:aR.FIGJAM},{shortcutKey:"group-selection",includeInEditorType:aR.FIGJAM},{shortcutKey:"duplicate-in-place",includeInEditorType:aR.DESIGN},{shortcutKey:"rename-selection",includeInEditorType:aR.DESIGN},{shortcutKey:"export-selected-exportables",displayName:"export-selected-exportables-desc",includeInEditorType:aR.DESIGN},{shortcutKey:"canvas-search",includeInEditorType:aR.DESIGN}]}],[{shortcuts:[{shortcutKey:"toggle-locked-for-selected-nodes",includeInEditorType:aR.FIGJAM},{shortcutKey:"canvas-search",includeInEditorType:aR.FIGJAM},{shortcutKey:"undo",includeInEditorType:aR.FIGJAM},{shortcutKey:"redo",includeInEditorType:aR.FIGJAM},{shortcutKey:"copy-as-png",includeInEditorType:aR.DESIGN},{shortcutKey:"copy-properties",includeInEditorType:aR.DESIGN},{shortcutKey:"paste-properties",includeInEditorType:aR.DESIGN}]}]]},[a7.GH.TRANSFORM]:{displayName:W.createElement(ex.Tx,{id:"whiteboard.keyboard_shortcuts.tab.transform"}),includeInEditorType:aR.DESIGN,columns:[[{shortcuts:[{shortcutKey:"flip-horizontal"},{shortcutKey:"flip-vertical"},{shortcutKey:"mask-selection"}]}],[{shortcuts:[{shortcutKey:"request-edit-mode",displayName:"edit-shape-or-image"},{shortcutKey:"place"}]}],[{shortcuts:[{shortcutKey:"set-opacity-00"},{shortcutKey:"set-opacity-1"},{shortcutKey:"set-opacity-5"},{shortcutKey:"set-opacity-0"}]}]]},[a7.GH.ARRANGE]:{displayName:W.createElement(ex.Tx,{id:"whiteboard.keyboard_shortcuts.tab.arrange"}),includeInEditorType:aR.DESIGN,columns:[[{shortcuts:[{shortcutKey:"bring-forward"},{shortcutKey:"send-backward"},{shortcutKey:"bring-to-front"},{shortcutKey:"send-to-back"}]}],[{shortcuts:[{shortcutKey:"align-left-right"},{shortcutKey:"align-top-bottom"},{shortcutKey:"align-centers"},{shortcutKey:"distribute-spacing"},{shortcutKey:"tidy-up"}]}],[{shortcuts:[{shortcutKey:"stack-selection"},{shortcutKey:"unstack-selection"}]}]]},[a7.GH.COMPONENTS]:{displayName:W.createElement(ex.Tx,{id:"whiteboard.keyboard_shortcuts.tab.components"}),includeInEditorType:aR.DESIGN,columns:[[{shortcuts:[{shortcutKey:"toggle-publish",displayName:"toggle-publish-desc"},{shortcutKey:"toggle-library"},{shortcutKey:"create-symbol"},{shortcutKey:"detach-instance"}]}],[{shortcuts:[{shortcutKey:"component-insert",displayName:this.componentInsertDisplayName()}]},{caption:"while-inserting-a-component",shortcuts:[{shortcutKey:"swap-instance"}]}]]},[a7.GH.ACCESSIBILITY]:{displayName:W.createElement(ex.Tx,{id:"whiteboard.keyboard_shortcuts.tab.accessibility"}),includeInEditorType:aR.FIGJAM,columns:[[{shortcuts:[{shortcutKey:"select-next-node"},{shortcutKey:"select-previous-node"},{shortcutKey:"select-parent"},{shortcutKey:"select-child"}]}],[{shortcuts:[{shortcutKey:tS.uw},{shortcutKey:tS.Oc}]}]]},[a7.GH.ADVANCED]:{displayName:W.createElement(ex.Tx,{id:"whiteboard.keyboard_shortcuts.tab.advanced"}),includeInEditorType:aR.FIGJAM,columns:[[{caption:"while-editing-shape-or-sticky",shortcuts:[{shortcutKey:"quick-create-immutable-frame"}]},{caption:"while-text-shape-or-sticky-selected",shortcuts:[{shortcutKey:"edit-text"}]}],[{caption:"while-stamping",shortcuts:[{shortcutKey:"stamp-on-node"}]}],[{shortcuts:[{shortcutKey:"align-left-right"},{shortcutKey:"align-top-bottom"},{shortcutKey:"align-centers"},{shortcutKey:"tidy-up"},{shortcutKey:"straight-connector"}]}]]}},this.state={activeTab:this.props.initActiveTab??this.getDefaultActiveTab(this.props.editorType),completedTabs:this.getCompletedTabs(this.props.usedKeyboardShortcuts),allTabsCompleted:this.allTabsCompleted(this.getCompletedTabs(this.props.usedKeyboardShortcuts)),tabCompletedAnimation:!1,tabCompletedFirstTimeAnimation:!1,allTabsCompletedAnimation:!1},this.onNavClick=e=>{this.setState({activeTab:e,completedTabs:this.state.completedTabs,allTabsCompleted:this.state.allTabsCompleted,tabCompletedFirstTimeAnimation:!1,tabCompletedAnimation:!1,allTabsCompletedAnimation:this.state.allTabsCompletedAnimation})},this.getTabs=()=>{let e=[],t="design"===this.props.editorType?aL.mD:"";for(let n in this.shortcutList)ri(this.props.editorType,this.shortcutList[n].includeInEditorType,this.shortcutList[n].hideInEditorType)&&ro(this.shortcutList[n].featureFlags)&&e.push({displayName:this.shortcutList[n].displayName,id:n,active:this.state.activeTab==n,className:q()(aL.aC,t)});if("design"===this.props.editorType){let n={id:"spacer",className:q()(aL.aC,t)};e.push(n)}return e.push({displayName:W.createElement(ex.Tx,{id:"whiteboard.keyboard_shortcuts.tab.layout"}),id:"layout",active:"layout"===this.state.activeTab,className:q()(aL.aC,t)}),this.props.isCKSLabEnabled&&e.push({displayName:W.createElement(ex.Tx,{id:"keyboard_settings.custom_tab"}),id:"custom",active:"custom"===this.state.activeTab,className:q()(aL.aC,t)}),e},this.replayAllTabsCompletedAnimation=()=>{this.state.allTabsCompletedAnimation?this.stopAllTabsCompletedAnimation():this.playAllTabsCompletedAnimation(this.state.completedTabs)},this.onClose=()=>{this.props.dispatch(t3.O4({tab:null})),tA.CA.triggerAction("toggle-keyboard-shortcuts")},this.onTablistKeyDown=e=>{var t,n,a,r;if("ArrowLeft"===e.key&&0===(0,ee.I1)(e)){let n=null==(t=this.tabRefs.current)?void 0:t.findIndex(e=>!!e&&e.id===this.state.activeTab);if(!this.tabRefs.current||null==n)return;let a=n-1;for(;!this.tabRefs.current[a]&&a>0;)a--;0===n&&(a=this.tabRefs.current.length-1),this.tabRefs.current[a].focus(),this.onNavClick(this.tabRefs.current[a].id),e.preventDefault()}else if("ArrowRight"===e.key&&0===(0,ee.I1)(e)){let t=null==(n=this.tabRefs.current)?void 0:n.findIndex(e=>!!e&&e.id===this.state.activeTab);if(!this.tabRefs.current||null==t)return;let a=t+1;for(;!this.tabRefs.current[a]&&a<this.tabRefs.current.length-1;)a++;t===this.tabRefs.current.length-1&&(a=0),this.tabRefs.current[a].focus(),this.onNavClick(this.tabRefs.current[a].id),e.preventDefault()}else if("Home"===e.key)this.tabRefs.current&&this.onNavClick(this.tabRefs.current[0].id),e.preventDefault();else if("End"===e.key)this.tabRefs.current&&this.onNavClick(this.tabRefs.current[this.tabRefs.current.length-1].id),e.preventDefault();else if("Tab"===e.key&&0===(0,ee.I1)(e))null==(a=this.tabPanelRef.current)||a.focus(),e.preventDefault();else if("Escape"===e.key){if(null==(r=this.tabListRef.current)||r.blur(),this.tabRefs.current){let e=this.tabRefs.current.findIndex(e=>!!e&&e.id===this.state.activeTab);this.tabRefs.current[e].blur()}e.preventDefault()}else"Enter"===e.key?e.preventDefault():(0,ai.Mz)(e)},this.tabRefs=W.createRef(),this.tabListRef=W.createRef(),this.tabPanelRef=W.createRef()}componentInsertDisplayName(){return this.props.isUI3?"component-insert-display-name-ui3":"component-insert-display-name"}componentDidMount(){var e;null==(e=this.tabListRef.current)||e.focus()}getDefaultActiveTab(e){return"design"===e?"essential":"dev_handoff"===e?"view":"tools"}getCompletedTabs(e,t){let n=t??this.props.editorType,a={};for(let t in this.shortcutList){let r=!0;for(let a of this.shortcutList[t].columns)for(let t of a)if(ri(n,t.includeInEditorType,t.hideInEditorType)){for(let a of t.shortcuts)if(ri(n,a.includeInEditorType,a.hideInEditorType)&&aK.keybindingsForShortcut(a.shortcutKey,this.props.useNumbersForOpacity,this.props.appModelKeyboardShortcuts)&&!(aK.shortcutUsedCount(a.shortcutKey,e)>0)){r=!1;break}}a[t]=r}return a}findChangedKey(e,t,n){for(let a of this.shortcutList[e].columns)for(let e of a)for(let a of e.shortcuts)if(aK.keybindingsForShortcut(a.shortcutKey,this.props.useNumbersForOpacity,this.props.appModelKeyboardShortcuts)){let e=aK.shortcutUsedCount(a.shortcutKey,t);if(aK.shortcutUsedCount(a.shortcutKey,n)>e)return a.shortcutKey}return null}allTabsCompleted(e){let t=!0;for(var n in e)if(!e[n]){t=!1;break}return t}playAllTabsCompletedAnimation(e){this.setState({completedTabs:e,allTabsCompleted:!0,tabCompletedFirstTimeAnimation:!1,tabCompletedAnimation:!1,allTabsCompletedAnimation:!0})}stopAllTabsCompletedAnimation(){this.setState({allTabsCompletedAnimation:!1})}playCompletedTabFirstTimeAnimation(e,t){setTimeout(()=>this.setState({completedTabs:t,tabCompletedFirstTimeAnimation:!0,tabCompletedAnimationKeyPosition:this.keyShortcutPositionsInTab[e],tabCompletedAnimation:!0}),1500),setTimeout(()=>this.setState({tabCompletedFirstTimeAnimation:!1,tabCompletedAnimation:!1}),6e3)}UNSAFE_componentWillReceiveProps(e){var t,n,a,r;let l=this.state.activeTab,i=l;l&&this.props.editorType!==e.editorType&&!ri(e.editorType,null==(n=null==(t=this.shortcutList)?void 0:t[l])?void 0:n.includeInEditorType,null==(r=null==(a=this.shortcutList)?void 0:a[l])?void 0:r.hideInEditorType)&&(i=this.getDefaultActiveTab(e.editorType));let o=this.getCompletedTabs(this.props.usedKeyboardShortcuts),s=this.getCompletedTabs(e.usedKeyboardShortcuts);if(this.allTabsCompleted(s)&&!this.allTabsCompleted(o))this.playAllTabsCompletedAnimation(s);else{let t=this.state.activeTab in a7.GH?this.findChangedKey(this.state.activeTab,this.props.usedKeyboardShortcuts,e.usedKeyboardShortcuts):null;t&&s[this.state.activeTab]&&!o[this.state.activeTab]&&this.playCompletedTabFirstTimeAnimation(t,s)}this.setState({completedTabs:s,allTabsCompleted:this.allTabsCompleted(s),activeTab:i})}renderTabContents(){let e;let t={usedKeyboardShortcuts:this.props.usedKeyboardShortcuts,appModelKeyboardShortcuts:this.props.appModelKeyboardShortcuts};this.keyShortcutPositionsInTab={};let n=0,a=e=>(n++,this.keyShortcutPositionsInTab[e.shortcutKey]=n,ri(this.props.editorType,e.includeInEditorType,e.hideInEditorType)&&ro(e.featureFlags))?W.createElement(aK,{shortcutKey:e.shortcutKey,key:`shortcut-${this.state.activeTab}-${n}`,icon:e.icon,displayName:e.displayName,editorType:this.props.editorType,usage:e.usage,keyPosition:n,tabCompletedFirstTimeAnimation:this.state.tabCompletedFirstTimeAnimation,tabCompletedAnimation:this.state.tabCompletedAnimation,tabCompletedAnimationKeyPosition:this.state.tabCompletedAnimationKeyPosition,allTabsCompletedAnimation:this.state.allTabsCompletedAnimation,useNumbersForOpacity:this.props.useNumbersForOpacity,...t}):null,r=this.shortcutList[this.state.activeTab]?this.shortcutList[this.state.activeTab].columns.map((e,n)=>W.createElement(rr,{...t,key:`column-${n}`},e.map((e,r)=>ri(this.props.editorType,e.includeInEditorType,e.hideInEditorType)?W.createElement(rl,{caption:e.caption,key:`category-${n}-${r}`,...t},e.shortcuts.map(a)):null))):[];e=this.state.tabCompletedFirstTimeAnimation?aL.EH:this.state.completedTabs[this.state.activeTab]?aL.If:aL.WM,"layout"===this.state.activeTab&&(e=aL.WM);let l="essential"===this.state.activeTab?W.createElement(W.Fragment,null,W.createElement("div",{className:aL._Q},W.createElement(ex.Tx,{id:"whiteboard.keyboard_shortcuts.essential_keyboard_shortcuts"})),W.createElement("div",{className:aL.Yb},r)):"layout"===this.state.activeTab?W.createElement("div",{className:aL.sd},W.createElement(a9,null)):"custom"===this.state.activeTab&&this.props.isCKSLabEnabled?W.createElement(aG,null):W.createElement("div",{className:aL.sd},r);return W.createElement("div",{role:"tabpanel",ref:this.tabPanelRef,id:a7.i6,"aria-labelledby":this.state.activeTab,className:e,tabIndex:0,"data-fullscreen-intercept":!0},l)}render(){let e=this.getTabs(),t="design"===this.props.editorType?aL.mD:"",n=aL.yC;for(let a=0;a<e.length;a++){let r=e[a];if((0,a7.gd)(r)&&r.active){e[a].className=this.state.tabCompletedFirstTimeAnimation?q()(aL.Wp,t):q()(aL.QP,t),a>0?e[a-1].className=q()(aL.Ev,t):n=aL.Cw,a<e.length-1?e[a+1].className=q()(aL.y,t):n=aL.Ko;break}}return W.createElement("div",{className:aL.wv,"data-fullscreen-intercept":!0},W.createElement("div",{role:"tablist",ref:this.tabListRef,"aria-label":(0,ex.t)("keyboard_settings.keyboard_shortcuts"),className:n,onKeyDown:this.onTablistKeyDown,tabIndex:0},W.createElement(a7.qy,{tabInfo:e,completedTabs:this.state.completedTabs,onNavClick:this.onNavClick,recordingKey:this.props.recordingKey,ref:this.tabRefs}),W.createElement("button",{className:aL.QZ,onClick:this.onClose,"aria-label":(0,ex.t)("general.close"),"data-fullscreen-intercept":!0},W.createElement(eN.A,{svg:ra.c})),this.state.allTabsCompleted&&W.createElement("div",{className:this.state.allTabsCompletedAnimation?aL.Ss:aL.gl,onClick:this.replayAllTabsCompletedAnimation},W.createElement(eN.A,{svg:this.state.allTabsCompletedAnimation?re.c:rt.c}))),this.renderTabContents())}}function rc(e){let t=(0,ty.Ci)(),n=(0,Y.w1)(e=>Object.keys(e.library.subscriptions.forCurrentOrg).length>0),a=(0,eh.S2)(eh.YP.customKeyboardShortcuts),r=(0,Y.w1)(e=>e.usedKeyboardShortcuts),l=(0,Y.w1)(e=>e.keyboardShortcutPanel.tab),i=(0,Y.w1)(e=>e.mirror.appModel.keyboardShortcuts),o=(0,Y.w1)(e=>"fullscreen"===e.selectedView.view?e.selectedView.editorType:"design"),s=(0,eD.s5)(tq.KEP.editorState().useNumbersForOpacity),c=(0,Y.OY)();return W.createElement(rs,{recordingKey:e.recordingKey,usedKeyboardShortcuts:r,initActiveTab:l,appModelKeyboardShortcuts:i,editorType:o,hasSubscribedLibraries:n,useNumbersForOpacity:s,dispatch:c,isCKSLabEnabled:a,isUI3:t})}rs.displayName="KeyboardShortcutPanel";var rd=n(778524),rm=n(59608),ru=n(589440),rp=n(833492),r_=n(97007),rE=n(768516),rg=n(185864),rh=n(532128);function rf(){return null}var rv=n(805404),ry=n(666332),rC=n(34560),rw=n(886420),rb=n(733960),rT=n(760780),rx=n(288136),rk=n(563040),rN=n(592164);function rS({doReport:e}){let t=(0,eo.m4)(rN.g),{commentsActive:n,isNodeSelected:a}=(0,el.q)(e=>({commentsActive:e.mirror.appModel.currentTool===rk.mq.tool,isNodeSelected:Object.keys(e.mirror.sceneGraphSelection).length>0})),r=(0,eA.QH)();(0,rT.u)(()=>{let t=rx.sr.tryStop("switch_to_inspect_mode.right_panel_tti");e&&t&&(0,Z.we)("switch_to_inspect_mode.right_panel_tti",{elapsedMs:t,isNodeSelected:a},{forwardToDatadog:!0}),rx.sr.tryStop("dev_handoff.select_node_tti")}),W.useEffect(()=>{r&&!n&&requestAnimationFrame(()=>{let n=rx.sr.tryStop("dev_handoff.select_node_tti");e&&n&&(0,Z.we)("dev_handoff.select_node_tti",{elapsedMs:n,isTopLevelFrame:r.isTopLevelFrame(),activeTab:t},{forwardToDatadog:!0})})},[r,t,n,e])}function rI(){let e=(0,eP.wq)(),t=(0,e7.U9)(),n=(0,ru.s)(),{currentPageId:a,pagesList:r,dropdownShown:l,fileVersion:i,teams:o,openFile:s,modalShown:c,loadingState:d,selectedView:m}=(0,el.q)(e=>({currentPageId:e.mirror.appModel.currentPage,pagesList:e.mirror.appModel.pagesList,dropdownShown:e.dropdownShown,fileVersion:e.fileVersion,teams:e.teams,openFile:e.openFile,modalShown:e.modalShown,loadingState:e.loadingState,selectedView:e.selectedView})),u=(0,rm.yO)(),p=(0,Y.w1)(e=>!!(0,$.Ub)().version_diffing&&e.mirror.appModel.activeCanvasEditModeType===tq.a_v.COMPARE_CHANGES),_=r.find(e=>e.nodeId===a);return _?W.createElement("div",null,W.createElement(rg.GK,{recordingKey:"pagesPanel",readonly:!0,currentPageGuid:a,currentPageName:_.name,width:e,pagesList:r,dropdownShown:l,fileInEditableState:!1,hasTeamLibraryUpdates:!1,activeTab:tq.W8r.LAYERS,showTabs:t,showPages:!0,fileVersion:i,openFile:s,teams:o,leftPanel:{activeTab:tq.W8r.LAYERS},loadingState:d,selectedView:m,modalShown:c,disableCollapsing:!t,isDevHandoff:!0,isDevHandoffOverview:u,isFullHeightSidebar:n,isComparingChanges:p})):null}var rA=n(853688),rO=n(440112),rM=n(531163);let rP="panel_upsell--panelUpsellContainer---xK91 common--well--J0WtH",rL="panel_upsell--panelUpsellContainerTight--c5-P9",rD="panel_upsell--panelUpsellTitle--0KlPt text--fontPos11--2LvXf text--_fontBase--QdLsd",rR="panel_upsell--panelUpsellContent--VuPf6 text--fontPos11--2LvXf text--_fontBase--QdLsd",rF="panel_upsell--panelUpsellContentLink--aX2Qz blue_link--blueLink--9rlnd",rB=(0,nF.qe)(rM.a6b),rU=(0,nF.qe)(rM.Woi);function rK({title:e,content:t,imgSrc:n,panelWidth:a,tight:r,dataTestId:l}){return W.createElement("div",{className:q()(rP,r&&rL),"data-testid":l},!!e&&W.createElement("div",{className:rD},e),W.createElement("div",{className:rR},t),W.createElement(rO.O,{src:n,alt:"",width:a-2*rU-2*rB}))}function rG({title:e,content:t,tight:n,dataTestId:a}){return W.createElement("div",{className:q()(rP,n&&rL),"data-testid":a},!!e&&W.createElement("div",{className:rD},e),W.createElement("div",{className:rR},t))}var rH=n(937620),rV=n(628164),rW=n(105516),rY=n(572748),rj=n(658784),rX=n(795236),rz=n(815464),rq=n(644516);function rZ(e){let t=(0,t$.w5)(e),n=(0,rj.s5)(e),a=(0,rq.qS)(e),r=e.teams[(0,rq.cL)(e)]||null,l=(0,rz.So)(r)&&!(null==r?void 0:r.org_id),i=(0,rY.q6)(e.currentUserOrgId,e.orgById);if(!t||null===t)return"unknown";if(t.parentOrgId){let e=(0,rX.oP)(i)?"ent":"org";return n&&n.org_id===t.parentOrgId?e:"non_member_"+e}return l?a&&a.team_id===t.teamId?"pro":"non_member_pro":"starter"}var rQ=n(816596),rJ=n(578412),r$=n(412416),r0=n(716520),r1=n(607986),r2=n(879748),r5=n(628),r3=n(553432),r4=n(81363),r6=n(546772),r8=n(518413),r9=n(116492),r7=n(426260);function le({dismissModal:e,labelOverride:t}={}){let n=function(){let e=(0,e7.U9)(),t=(0,t$.AL)(),n=(0,r2.YT)(),a=(0,Y.w1)(rq.qS),r=(0,rq.dh)(),l=(0,rz.So)(r)&&!(null==r?void 0:r.org_id),i=(0,rH.qM)(),o=(0,Y.OY)();return(0,W.useCallback)((s=r0.s.DevMode)=>{if(t&&!e)try{if(t.parentOrgId)n&&n.org_id===t.parentOrgId?o(ts.A5({type:r9.S,data:{orgId:t.parentOrgId,orgUser:n,entryPoint:s,licenseType:r5._2.DEV_MODE,fileKey:t.key},showModalsBeneath:!0})):(o(rQ.a.init({origin:"dev_mode",formState:rJ.o9.JOIN_ORG,redirectUrl:J.default.location.pathname})),o(ts.A5({type:r8.A,data:{}})));else if(l)a&&a.team_id===t.teamId?o(ts.A5({type:r7.YJ,data:{editorType:nd.aE.DESIGN,teamUser:a,entryPoint:s,fileKey:t.key},showModalsBeneath:!0})):o(ek.A.enqueue({message:"No team user"}));else{i("Dev Mode Paywall clicked",{type:"Starter Tier Upgrade",entryPoint:s},{forwardToDatadog:!0});let e=null==r?void 0:r.id;r0.Q.includes(s)&&e?o(r1.Ah({teamId:e,openInNewTab:!0})):o(ts.A5({type:r$.o,data:{teamId:e,upsellSource:r4.e.DEV_MODE_UPSELL,openCheckoutInNewTab:!0}}))}}catch(e){o(ek.A.enqueue({message:e.message||e.data.message}))}},[e,o,t,l,n,r,a,i])}(),a=la(),r=lt(),l=W.useCallback(t=>{null==e||e(),n(t)},[e,n]);return r?{hidden:!0}:a?{label:W.createElement(ex.Tx,{id:"dev_handoff.paywall.request_pending"}),disabled:!0,hidden:!1,onClick:aC.Kw}:{label:t??W.createElement(ex.Tx,{id:"dev_handoff.paywall.get_dev_mode"}),disabled:!1,hidden:!1,onClick:l}}function lt(){let e=ln(),t=(0,rq.dh)(),n=(0,Y.w1)(e=>!!t&&(0,r3.hasTeamAccess)(null==t?void 0:t.id,r6.m.EDITOR,e));return e&&!n}function ln(){let e=(0,rq.dh)(),t=(0,t$.AL)(),n=!!t&&!!t.teamId&&!t.parentOrgId,a=!!e&&(0,rz.So)(e)&&!(null==e?void 0:e.org_id);return n&&!a}function la(){let e=(0,Y.w1)(e=>{var t,n;return null==(n=null==(t=e.openFile)?void 0:t.currentPartialOrgUser)?void 0:n.designAccountTypeRequest}),t=(0,Y.w1)(e=>{var t,n;return null==(n=null==(t=e.openFile)?void 0:t.currentPartialOrgUser)?void 0:n.devModeAccountTypeRequest}),n=(0,Y.w1)(e=>{var t,n;return null==(n=null==(t=e.openFile)?void 0:t.currentTeamUser)?void 0:n.designAccountTypeRequest});return(null==e?void 0:e.status)==="pending"||(null==t?void 0:t.status)==="pending"||(null==n?void 0:n.status)==="pending"}var lr=n(144459),ll=n(422416),li=n(559572),lo=n(203736),ls=n(562128),lc=n(49284);function ld(){return{panelTabs:[{text:(0,ex.t)("dev_handoff.paywall.upsell_modal.advanced_inspection.tab_title"),id:"advanced_inspection"},{text:(0,ex.t)("dev_handoff.paywall.upsell_modal.quick_handoff.tab_title"),id:"quick_handoff"},{text:(0,ex.t)("dev_handoff.paywall.upsell_modal.track_changes.tab_title"),id:"track_changes"},{text:(0,ex.t)("dev_handoff.paywall.upsell_modal.plugins_extensions.tab_title"),id:"plugins_extensions"}],contents:{advanced_inspection:{headerText:(0,ex.t)("dev_handoff.paywall.upsell_modal.advanced_inspection.header"),description:W.createElement(ex.Tx,{id:"dev_handoff.paywall.upsell_modal.advanced_inspection.details"}),imgSrc:"https://static.figma.com/uploads/39aa1e9a18601b9c7b904f84b8c8dd6d441f1e08",closeButtonTheme:"light"},quick_handoff:{headerText:(0,ex.t)("dev_handoff.paywall.upsell_modal.quick_handoff.header"),description:W.createElement(ex.Tx,{id:"dev_handoff.paywall.upsell_modal.quick_handoff.details"}),imgSrc:"https://static.figma.com/uploads/ba04aa94fd2bbd4f86b96e8e024c0d70a7318c5b",closeButtonTheme:"dark"},track_changes:{headerText:(0,ex.t)("dev_handoff.paywall.upsell_modal.track_changes.header"),description:W.createElement(ex.Tx,{id:"dev_handoff.paywall.upsell_modal.track_changes.details"}),imgSrc:"https://static.figma.com/uploads/234cba06210af50cc549b9e85edb9f6b3e78c5c8",closeButtonTheme:"dark"},plugins_extensions:{headerText:(0,ex.t)("dev_handoff.paywall.upsell_modal.plugins_extensions.header"),description:W.createElement(ex.Tx,{id:"dev_handoff.paywall.upsell_modal.plugins_extensions.details"}),imgSrc:"https://static.figma.com/uploads/335b2bfa4f4f9ff3ea062ef679353fca0d2422a3",closeButtonTheme:"dark"}},panelTitle:(0,ex.t)("dev_handoff.paywall.upsell_modal.title")}}function lm({id:e,headerText:t,description:n,imgSrc:a}){return W.createElement(aE.g,{direction:"vertical",verticalAlignItems:"start",spacing:0,height:"fill-parent",dataTestId:"dev_mode_features_tab_"+e},W.createElement(rO.O,{alt:t,className:"dev_mode_features_upsell_modal--heroImage--T3C-o",src:a,width:457,height:255}),W.createElement("div",{className:ap.cx.p24.pb0.flex.flexColumn.gap2.bt1.bSolid.colorBorder.$},W.createElement(ah.a,{fontSize:14,fontWeight:"medium",color:"default"},t),W.createElement("div",{className:ap.cx.minH32.$},W.createElement(ah.a,{fontSize:13},n))))}function lu(){let e=(0,ll.wR)(),t=new ll.Ip(e);return W.createElement(aE.g,{padding:14,direction:"vertical",verticalAlignItems:"end",dataTestId:"dev_mode_pro_pricing"},W.createElement("div",{className:"dev_mode_features_upsell_modal--priceContainer--gmHBN"},W.createElement(ls.wZ,{type:ls.MB.DESIGN_AND_DEV_MODE,size:ls.mW.SMALL}),W.createElement("div",{className:"dev_mode_features_upsell_modal--priceProductName--sqfch"},W.createElement("div",null,W.createElement(ah.a,{i18nId:"general.figma_design_short",color:"design",fontSize:11})," + "),W.createElement(ah.a,{i18nId:"general.dev_mode",color:"brand",fontSize:11})),W.createElement("div",{className:"dev_mode_features_upsell_modal--priceContainerDivider--pwyC6"}),W.createElement("div",{className:"dev_mode_features_upsell_modal--priceItem--uGNa1"},W.createElement(ah.a,{fontWeight:"semi-bold",fontSize:18},t.formatMoney((0,lc.gJ)(li.SK.ANNUAL,e))))),W.createElement("div",{className:ap.cx.p4.pt0.$},W.createElement(ah.a,{i18nId:"help_widget.collective_upsells.fullscreen.price.disclaimer.seat_rename",color:"secondary",fontSize:11})))}let lp=(0,lo.U9)(function({initialFeatureTab:e}){let t=(0,rq.dh)(),n=(0,Y.w1)(rZ),a=ln(),r=lt(),l=a&&!r,i=(0,W.useMemo)(ld,[]),[o,s]=(0,W.useState)(e??i.panelTabs[0].id),c=(0,rH.qM)(),d=(0,Y.OY)(),m=(0,W.useCallback)(()=>{d(ts.oN())},[d]),u=le({dismissModal:m}),p=(0,W.useCallback)(()=>{u.hidden||u.onClick(function(e){switch(e){case"advanced_inspection":return r0.s.Inspection;case"track_changes":return r0.s.TrackChanges;case"quick_handoff":return r0.s.QuickHandoff;case"plugins_extensions":return r0.s.Plugin;default:return r0.s.SuperModal}}(o))},[o,u]),_=W.useCallback(t=>{c("Dev Mode Paywall clicked",{type:"Features Modal Tab Changed",entryPoint:e,currentTab:o},{forwardToDatadog:!0}),s(t)},[e,o,c]),E=W.useCallback(()=>{c("Dev Mode Paywall clicked",{type:"Features Modal Closed",entryPoint:e,currentTab:o},{forwardToDatadog:!0}),m()},[m,e,o,c]),g=i.panelTabs.map(e=>W.createElement(rA.ye,{role:"button",tabIndex:0,key:e.id,className:q()("dev_mode_features_upsell_modal--panelTab--64xK2",o===e.id&&"dev_mode_features_upsell_modal--panelTabActive--NiH9Q"),onClick:()=>{_(e.id)},onKeyDown:t=>{(" "===t.key||"Enter"===t.key)&&_(e.id)},trackingProperties:{tab:e.id,prevTab:o},recordingKey:"dev_mode_features_upsell_modal_tab_"+e.id},W.createElement(ah.a,{fontSize:13},e.text))),h={id:o,...i.contents[o]};return W.createElement(tg.kH,{name:"Dev Mode Features Modal",properties:{currentPlan:n,teamId:null==t?void 0:t.id}},W.createElement(nO.Y1,{size:696,showOverflow:!1,className:"dev_mode_features_upsell_modal--largeModal--HZ0cu",hide:E,enableEscapeToClose:!0,"data-testid":"dev_mode_features_upsell_modal"},W.createElement(rV.q.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5}},W.createElement(aE.g,{verticalAlignItems:"start",height:l?510:460,spacing:0},W.createElement(aE.g,{direction:"vertical",width:239,strokeWidth:{right:1},padding:0,spacing:0,strokeColor:"default",height:"fill-parent",verticalAlignItems:"start"},W.createElement(aE.O,{minSize:16}),W.createElement(aE.g,{direction:"vertical",height:"fill-parent",spacing:0},i.panelTitle&&W.createElement("div",{className:ap.cx.p16.pt14.pb36.$},W.createElement(ah.a,{fontSize:20,fontWeight:"semi-bold"},i.panelTitle)),g),l&&W.createElement(lu,null)),W.createElement(aE.g,{direction:"vertical",height:"fill-parent",spacing:0},W.createElement("div",{className:ap.cx.absolute.top0.right0.$,"data-preferred-theme":h.closeButtonTheme},W.createElement(rW.cT,{className:"dev_mode_features_upsell_modal--closeBtn--CY10d",dispatch:d,onClose:E,trackingProperties:{trackingDescriptor:lr.O.CLOSE},recordingKey:"dev_mode_features_upsell_modal_close_button"})),W.createElement("div",{className:ap.cx.wFull.hFull.overflowAuto.$},W.createElement(lm,{key:o+h.headerText,...h})),!u.hidden&&W.createElement(aE.g,{height:64,padding:16,horizontalAlignItems:"end",strokeColor:"default",strokeWidth:{top:1}},W.createElement(ag.E,{variant:"primary",disabled:u.disabled,onClick:p,onKeyDown:e=>{(" "===e.key||"Enter"===e.key)&&p()},recordingKey:"dev_mode_features_upsell_modal_upgrade_button",dataTestId:"dev_mode_features_upsell_modal_upgrade_button"},u.label)))))))},"DevModeFeaturesModal");function l_(e){let t=(0,Y.OY)(),n=(0,rH.qM)();return W.useCallback(()=>{n("Dev Mode Paywall clicked",{type:"Dev Mode Upsell",entryPoint:e},{forwardToDatadog:!0}),t(ts.A5({type:lp,data:{initialFeatureTab:e}}))},[t,e,n])}function lE(){let e=l_("quick_handoff"),t=(0,ex.t)("dev_handoff.paywall.ready_for_dev.title"),n=W.createElement(ex.Tx,{id:"dev_handoff.paywall.ready_for_dev.description",learnMoreLink:W.createElement(rA.s,{className:rF,onClick:e,recordingKey:"dev_mode_nodes_features_learn_more"},W.createElement(ex.Tx,{id:"dev_handoff.paywall.learn_more"}))});return W.createElement(rK,{imgSrc:"https://static.figma.com/uploads/a102b55802313a2c26048dd8b64355434ffecd45",panelWidth:240,title:t,content:n,dataTestId:"dev-mode-panel-upsell-nodes"})}let lg="dev_handoff_nodes_panel--nodesPanel--4Pea0",lh="dev_handoff_nodes_panel--item--FYINO",lf="dev_handoff_nodes_panel--itemSelectedReadySections--Wladq dev_handoff_nodes_panel--item--FYINO",lv="dev_handoff_nodes_panel--timestampContainer--dGH49",ly="dev_handoff_nodes_panel--timestamp--5sWkT text--fontPos11--2LvXf text--_fontBase--QdLsd ellipsis--ellipsis--Tjyfa",lC="dev_handoff_nodes_panel--readySectionsEmptyStateRow--3qQXK",lw="dev_handoff_nodes_panel--readySectionsIcon--gNtWg",lb="dev_handoff_nodes_panel--readySectionsContent--3ilof text--fontPos11--2LvXf text--_fontBase--QdLsd";function lT(){return W.createElement("div",{className:q()(eR.cp,lg),"data-testid":"devHandoffLimitedLeftPanel"},W.createElement(rI,null),W.createElement(lE,null))}var lx=n(102184),lk=n(678516),lN=n(340252);function lS(){let e=(0,Y.OY)(),t=W.useCallback(t=>{e(lk.cl(t))},[e]);return W.createElement("div",{className:"dev_handoff_comments_panel--devHandoffCommentsPanel--1Lqo9"},W.createElement(tp.mS.Consumer,null,()=>W.createElement(lN.k,{resolveComment:t,stackHeader:!1,hideResolve:!1})))}var lI=n(570464),lA=n(715436),lO=n(316640),lM=n(901092),lP=n(328904),lL=n(517164);function lD({plugin:e}){let[t,n]=(0,eo.lZ)(rN.g),a=(0,Y.OY)(),r=(0,eo.m4)(lM.s1);return W.createElement(rA.g9,{role:"button",recordingKey:lI.Mx("activePluginTab","tab"),onMouseDown:()=>{n(rN.u.PLUGIN),a(tm.s({[lA.S_]:!0}))},tabIndex:0},W.createElement(aE.g,{width:"fill-parent",horizontalAlignItems:"space-between",verticalAlignItems:"center",padding:{left:16,right:8,top:4,bottom:4}},W.createElement("div",{className:ap.cx.minW0.$},W.createElement(aE.g,{direction:"horizontal",verticalAlignItems:"center",spacing:8},W.createElement(lL.K,{plugin:e}),W.createElement(ah.a,{fontWeight:"bold",truncate:!0,showTooltipWhenTruncated:!0},e.name))),W.createElement(rW.CA,{className:ap.cx.flexShrink0.$,onClick:()=>{(function(e){switch(e){case"related-link-click":case"related-link-auth":case"codegen":case"related-link-preview":case"auto-run":return!0;default:return!1}})(r)&&n(rN.u.PRIMARY),(0,lO.qu)()}})))}function lR({text:e,isActive:t,onClick:n,recordingKey:a}){return W.createElement(rA.g9,{role:"button",recordingKey:lI.Mx(a,"tab"),onMouseDown:n,tabIndex:0,className:t?"dev_handoff_panel_tab_group--tabActive--Ex7NX pages_panel--tabActive--BitzC pages_panel--tab--Uge5B":"dev_handoff_panel_tab_group--tab--Y0iYX pages_panel--tab--Uge5B","data-label":e},e)}function lF(){let[e,t]=(0,eo.lZ)(rN.g),n=(0,Y.OY)();return W.createElement(lR,{text:(0,ex.t)("dev_handoff.tab.plugins"),isActive:"plugin"===e,recordingKey:"pluginsTab",onClick:()=>{t(rN.u.PLUGIN),n(tm.s({[lA.S_]:!0}))}})}function lB(){let[e,t]=(0,eo.lZ)(rN.g);return W.createElement(lR,{text:(0,ex.t)("dev_handoff.tab.inspect"),isActive:e===rN.u.PRIMARY,recordingKey:"inspectTab",onClick:()=>{t(rN.u.PRIMARY)}})}function lU(){let e="ui3"===(0,X.qG)().version;return W.createElement("div",{className:ap.cx.wFull.flex.flexRow.flexShrink0.itemsCenter.borderBox.bSolid.bb1.pr8.colorBorder.justifyBetween.colorBg.$},e?W.createElement("div",{className:ap.cx.flex.flexRow.itemsStart.hFull.$},W.createElement("div",{className:"dev_handoff_panel_tab_group--tabsHeader--Tv3Sg pages_panel--tabsHeader--ez-pH"},W.createElement(lB,null),W.createElement(lF,null))):W.createElement("div",{className:ap.cx.flex.flexRow.itemsStart.hFull.$},W.createElement(lB,null),W.createElement(lF,null)),W.createElement(lP.k7,null))}function lK(){let e=(0,eo.m4)(lM.Ed),[t,n]=(0,eo.lZ)(rN.g),{commentsActive:a,versionHistoryActive:r}=(0,el.q)(e=>({commentsActive:e.mirror.appModel.currentTool===rk.mq.tool,versionHistoryActive:e.mirror.appModel.activeCanvasEditModeType===eM.a_v.DEV_HANDOFF_HISTORY}));if(a||r)return null;let l=e&&t===rN.u.PLUGIN?W.createElement(lD,{plugin:e}):null;return W.createElement("div",null,W.createElement(lU,null),l)}var lG=n(949284),lH=n(750908),lV=n(204792),lW=n(915880),lY=n(672352),lj=n(173292),lX=n(894836);function lz(){let e=l_("plugins_extensions");return W.createElement(rG,{title:(0,ex.t)("dev_handoff.paywall.plugins.title"),content:W.createElement(ex.Tx,{id:"dev_handoff.paywall.plugins.description",learnMoreLink:W.createElement(rA.s,{className:rF,onClick:e,recordingKey:"dev-mode-plugins-upsell-learn-more"},W.createElement(ex.Tx,{id:"dev_handoff.paywall.learn_more"}))}),dataTestId:"dev-mode-panel-upsell-plugins"})}function lq({name:e}){let t=l_("plugins_extensions");return W.createElement(rG,{content:W.createElement(ex.Tx,{id:"dev_handoff.paywall.plugin.description",plugin:W.createElement("strong",null,e),learnMoreLink:W.createElement(rA.s,{className:rF,onClick:t},W.createElement(ex.Tx,{id:"dev_handoff.paywall.learn_more"}))}),tight:!0,dataTestId:"dev-mode-named-plugin-upsell"})}var lZ=n(403132),lQ=n(299988),lJ=n(147048),l$=n(342512),l0=n(778112),l1=n(927976),l2=n(740718),l5=n(23684),l3=n(61436),l4=n(876180);function l6(e){let t=(0,Y.OY)(),n=(0,rp.g)(),a=(null==n?void 0:n.type)===l3.gL,r=W.useCallback(e=>{var n;a?t(lZ.yi()):t(lZ.Qn({type:l3.gL,data:{targetRect:null==(n=e.currentTarget)?void 0:n.getBoundingClientRect()}}))},[t,a]);return W.createElement(W.Fragment,null,W.createElement(av.wP,{svg:l4.c,"data-tooltip-type":n1.wL.TEXT,"data-tooltip":e.resourceType===l0.K2.WIDGET?(0,ex.t)("community.plugins.create_new_widget"):(0,ex.t)("community.plugins.create_new_plugin"),onClick:r}),a&&W.createElement(l3.MN,{resourceType:e.resourceType}))}var l8=n(139776),l9=n(58908),l7=n(703520),ie=n(76952),it=n(149624),ia=n(891412),ir=n(826364),il=n(426856),ii=n(321296),io=n(825016),is=n(627768),ic=n(21960),id=n(103840),im=n(525804),iu=n(98660);let ip="fd_browse_resource_modal--slidingPane--TqmkG sliding_pane--slidingPane--6OmDU",i_="fd_browse_resource_modal--searchBarContainer--Q2kZ7",iE="fd_browse_resource_modal--devHandoffSearchBarContainer--zw9mg",ig="fd_browse_resource_modal--sectionHeaderWithIcon--Tr-vS fd_browse_resource_modal--_sectionHeaderBase--dsvXv text--fontPos12--YsUAh text--_fontBase--QdLsd",ih="fd_browse_resource_modal--horizontalDivider--H67hA",iv="fd_browse_resource_modal--horizontalDividerLong--cQZ0n fd_browse_resource_modal--horizontalDivider--H67hA",iy="fd_browse_resource_modal--mainViewHeader--AZpur",iC="fd_browse_resource_modal--mainViewHeaderHeight--7TbQi",iw="fd_browse_resource_modal--mainViewSelectorTitle--TnoUK text--fontPos12--YsUAh text--_fontBase--QdLsd",ib="fd_browse_resource_modal--close--G1pa0",iT="fd_browse_resource_modal--emptySection--ANbkm text--fontPos12--YsUAh text--_fontBase--QdLsd",ix="fd_browse_resource_modal--loadingSpinner--0IwJ9",ik="fd_browse_resource_modal--subtitle--Rvd0d text--fontPos11--2LvXf text--_fontBase--QdLsd";var iN=n(824628);function iS(){let{activeTab:e}=(0,im.YJ)(),t=(0,id.k1)(),n=(0,l1.AR)(),{href:a,onClick:r}=(0,ic.t)(`/community/${e===iu.o.PLUGIN?"plugins":"widgets/figma_design"}${n?"/devmode":""}`);return(null==t?void 0:t.shouldOptimizeForIpadApp)?null:W.createElement(eT.g7,{className:"fd_browse_resource_modal--communityLink--gI-Ei fd_browse_resource_modal--communityLinkBase---qAie text--fontPos12--YsUAh text--_fontBase--QdLsd",href:a,onClick:r,trackingEventName:"Inserts - Browse More From Community",target:"_blank",trusted:!0},W.createElement(eN.A,{svg:iN.c,className:"fd_browse_resource_modal--communityLinkIcon--gNQIW text--fontPos12--YsUAh text--_fontBase--QdLsd"}),W.createElement(ex.Tx,{id:"universal_insert.browse_more_in_community"}))}var iI=n(667568),iA=n(325252),iO=n(224100),iM=n(410188),iP=n(376588),iL=n(248548);function iD(e){let t=(0,rY.Ce)();return t?W.createElement(iR,{org:t,viewExpandedList:e.viewExpandedList}):W.createElement(l7.M7,{className:ix})}function iR(e){let{org:t}=e,{activeTab:n}=(0,im.YJ)(),a=n===iu.o.WIDGET,r=(0,tf.Yv)(),l=(0,is.WC)(r),i=(0,tf.mQ)(),o=a?i:l,s=o.length>0,c=a?t.widgets_whitelist_enforced:t.plugins_whitelist_enforced,d=a?iO.X2:iO.cl,m=(0,t$.K0)(),u=(0,np.IT)(d(t.id,m)),p=(0,tf.u_)(),_=(0,is.WC)(Object.values(p)).map(e=>e.plugin_id),E=(0,tf.iA)(),g=W.useMemo(()=>Object.keys(E),[E]),h=(0,tf.qK)(),f=(0,tf.oz)(h),v=f.orgWidgets,y=f.orgPlugins,C=(0,Y.w1)(e=>{var n;return(null==(n=e.orgUsersByOrgId.orgUsers[t.id][e.user.id])?void 0:n.permission)===nd.y6.GUEST}),w=(0,el.q)(e=>C?{}:(0,iA.Oq)((0,iA.IZ)(Object.values(e.publishedPlugins)),t.id)),b=W.useMemo(()=>{let e=Object.values(y).filter(e=>!w[e.plugin_id]);return t.plugins_whitelist_enforced&&(e=e.filter(e=>p[e.plugin_id])),e.sort(tf.jY)},[p,t.plugins_whitelist_enforced,w,y]),T=(0,is.u6)(b);T=(0,is.WC)(T);let x=W.useMemo(()=>T.map(e=>e.plugin_id),[T]),k=W.useMemo(()=>_.filter(e=>!y[e]),[_,y]),N=W.useMemo(()=>{let e=Object.values(v).filter(e=>!(0,iI.Aj)(e,t.id));return t.widgets_whitelist_enforced&&(e=e.filter(e=>E[e.plugin_id])),e.sort(tf.jY)},[v,t.widgets_whitelist_enforced,t.id,E]),S=(0,is.u6)(N),I=W.useMemo(()=>S.map(e=>e.plugin_id),[S]),A=W.useMemo(()=>g.filter(e=>!v[e]),[g,v]),O=a?A:k,M=a?I:x,P=s?W.createElement(W.Fragment,null,(c?o.slice(0,im.Dn):o).map((e,t)=>W.createElement(iM.wj,{key:e.plugin_id,resourceId:e.plugin_id,type:iM.kj.ORG_PRIVATE,keyboardNavigationPath:[im.C_,t]})),c&&o.length>im.Dn&&W.createElement(iF,{viewExpandedList:()=>{e.viewExpandedList(iu.s.ORG_PRIVATE_EXPANDED_LIST)},ctaText:a?(0,ex.t)("universal_insert.all_internal_widgets"):(0,ex.t)("universal_insert.all_internal_plugins")})):W.createElement("div",{className:iT},a?W.createElement(ex.Tx,{id:"universal_insert.no_internal_widgets"}):W.createElement(ex.Tx,{id:"universal_insert.no_internal_plugins"})),{href:L,onClick:D}=(0,ic.t)(`/community/${a?"widgets":"plugins"}`),R=c&&W.createElement(W.Fragment,null,W.createElement("div",{className:iv}),W.createElement("div",{className:ig},W.createElement(ex.Tx,{id:"universal_insert.approved_from_figma_community"}),W.createElement(av.wP,{svg:iL.c,href:L,onClick:D,target:"_blank","data-tooltip-type":n1.wL.TEXT,"data-tooltip":(0,ex.t)("universal_insert.go_to_community")})),u&&0===O.length?W.createElement("div",{className:iT},a?W.createElement(ex.Tx,{id:"universal_insert.organization_has_no_approved_community_widgets"}):W.createElement(ex.Tx,{id:"universal_insert.organization_has_no_approved_community_plugins"})):W.createElement(W.Fragment,null,(s?O.slice(0,5):O).map((e,t)=>W.createElement(iM.wj,{key:e,resourceId:e,type:iM.kj.COMMUNITY,keyboardNavigationPath:[im.C_+1,t]})),s&&O.length>5&&W.createElement(iF,{viewExpandedList:()=>{e.viewExpandedList(iu.s.ORG_ALLOWLIST_EXPANDED_LIST)},ctaText:a?(0,ex.t)("universal_insert.all_approved_widgets"):(0,ex.t)("universal_insert.all_approved_plugins")}))),F=M.length>0?W.createElement(W.Fragment,null,W.createElement("div",{className:ih}),W.createElement("div",{className:ig},W.createElement(ex.Tx,{id:"universal_insert.saved_from_community"}),W.createElement(av.wP,{svg:iL.c,href:L,onClick:D,target:"_blank","data-tooltip-type":n1.wL.TEXT,"data-tooltip":(0,ex.t)("universal_insert.go_to_community")})),M.map((e,t)=>W.createElement(iM.wj,{key:e,resourceId:e,type:iM.kj.SAVED,keyboardNavigationPath:[im.C_+2,t]}))):W.createElement(W.Fragment,null,W.createElement("div",{className:ih}),W.createElement("div",{className:ig},W.createElement(ex.Tx,{id:"universal_insert.saved_from_community"}),W.createElement(av.wP,{svg:iL.c,href:L,onClick:D,target:"_blank","data-tooltip-type":n1.wL.TEXT,"data-tooltip":(0,ex.t)("universal_insert.go_to_community")})),W.createElement("div",{className:iT},a?W.createElement(ex.Tx,{id:"universal_insert.no_saved_widgets"}):W.createElement(ex.Tx,{id:"universal_insert.no_saved_plugins"})));return W.createElement(tg.kH,{name:"Org"},P,F,R)}function iF(e){return W.createElement("button",{onClick:e.viewExpandedList,className:"fd_browse_resource_modal--viewExpandedCta--xrZpk text--fontPos12--YsUAh text--_fontBase--QdLsd"},W.createElement("span",null,e.ctaText),W.createElement(eN.A,{svg:iP.c}))}function iB({viewExpandedList:e,keyboardNavigationOffset:t,shortDivider:n}){let{activeTab:a}=(0,im.YJ)(),r=a===iu.o.WIDGET,l=(0,l1.AR)(),i=(0,eo.m4)(lX.qG)&&l,[o,s]=W.useState(!1),{allowListIsLoading:c,allowList:d,hasAllowList:m,hasPluginAllowList:u,hasWidgetAllowList:p,publicExtensionsDisallowed:_}=(0,tf.Su)(r),E=(0,is.WC)(Object.values(d)).map(e=>e.plugin_id),g=(0,eo.m4)(l5.wl),h=!r&&!l&&g,f=(0,tf.Un)(h),[v,y]=W.useState(null),[C,w]=W.useState(null),[b,T]=W.useState(!1),[x,k]=W.useState(!1),N=(0,Y.OY)();W.useEffect(()=>{h&&(f.loaded?(T(!1),y(f.result),s(!1)):T(!0))},[h,f.loaded,f.result]),W.useEffect(()=>{if(h)return;let e=o!==i;if(u||_||!e&&null!==v||b)return;T(!0);let t={sort_by:io.Oo.POPULAR};l?(t.editor_type=ir.w.Editors.DEV_MODE,i&&(t.capability_type=ia.y.CODEGEN)):t.editor_type=ir.w.Editors.FIGMA,(0,it.W)().filter(t).browse(il.o.BrowseResourceTypes.PLUGINS).then(e=>{let t=e.data.meta.resources;N(ii.eY({publishedPlugins:t,src:"Figma inserts modal recents view"})),y((0,l8.YP)(t)),T(!1),s(i)}).catch(e=>{(0,tO.oP)(l9._.COMMUNITY,e),T(!1),y([]),s(i)})},[N,v,b,l,m,u,_,i,o,h]),W.useEffect(()=>{p||null!==C||x||(k(!0),(0,it.W)().filter({sort_by:io.Oo.POPULAR,editor_type:ir.w.Editors.FIGMA}).browse(il.o.BrowseResourceTypes.WIDGETS).then(e=>{let t=e.data.meta.resources;N(ii.eY({publishedPlugins:t,src:"Figma inserts modal recents view"})),w((0,l8.YP)(t)),k(!1)}).catch(e=>{(0,tO.oP)(l9._.COMMUNITY,e),k(!1),w([])}))},[N,C,x,m,p]);let S=r?C:v,I=r?x:b,{href:A,onClick:O}=(0,ic.t)(`/community/${a===iu.o.PLUGIN?"plugins":"widgets"}`);return W.useMemo(()=>{if(m?c:I)return W.createElement(l7.M7,{className:ix});if(!(null!==S)&&!m)return null;let l=m?E:S.map(e=>e.id);return _||0===l.length?null:W.createElement(tg.kH,{name:m?"Approved plugins":"From Community"},W.createElement("div",{className:n?ih:iv}),W.createElement("div",{className:ig,"data-onboarding-key":"community_feed_header"},m?W.createElement(ex.Tx,{id:"universal_insert.approved_from_figma_community"}):W.createElement(ex.Tx,{id:"universal_insert.from_community"}),W.createElement(av.Qn,{svg:iL.c,href:A,onClick:O,target:"_blank","data-tooltip-type":n1.wL.TEXT,"data-tooltip":(0,ex.t)("universal_insert.go_to_community"),trackingEventName:"Inserts - Browse More From Community Icon Button"})),l.slice(0,m?5:10).map((e,n)=>W.createElement(iM.wj,{key:e,type:iM.kj.COMMUNITY,resourceId:e,keyboardNavigationPath:[t,n]})),m&&l.length>5?W.createElement(iF,{viewExpandedList:()=>{e(iu.s.ORG_ALLOWLIST_EXPANDED_LIST)},ctaText:r?(0,ex.t)("universal_insert.all_approved_widgets"):(0,ex.t)("universal_insert.all_approved_plugins")}):W.createElement(W.Fragment,null,W.createElement(iS,null),W.createElement(ie.w,{onIntersectionChange:e=>{e.isIntersecting&&(0,Z.we)("community_feed_bottom_reached",{location:"inserts",resourceType:a})}})))},[m,c,I,S,E,_,A,O,r,e,t,n,a])}function iU(e){return W.createElement(tg.kH,{name:"Community"},W.createElement(iB,{viewExpandedList:e.viewExpandedList,keyboardNavigationOffset:im.C_}))}var iK=n(303872),iG=n(448604),iH=n(939540),iV=n(62128),iW=n(97004),iY=n(243892),ij=n(312);function iX(e){let t=(0,Y.OY)(),n=(0,Y.o3)(),a=(0,Y.w1)(ij.G),r=(0,Y.w1)(e=>(0,iV.SA)(e)),l=W.useRef(null),i=(0,im.KS)(im.Mz+im.M7+im.MN);return W.useEffect(()=>{(async()=>{if(t(iG.Ul({})),r){await iH.Ae;let{fileVersion:e}=n.getState();r&&e&&!(0,iH.nk)(r)&&(0,to.Ah)(n,r)}})()},[t,r,n]),W.createElement("div",null,e.header,W.createElement("div",{"data-not-draggable":!0},W.createElement(iY.Yx,{selectedItems:a?[a]:[],scrollContainerHeight:i,recordingKey:"componentInsert",toggleGridViewButton:W.createElement(iY.Ks,{isSwapPicker:!1}),pickerType:iK.i6.RESOURCE_INSERT_MODAL,searchBarRef:l,query:e.query,setQuery:e.setQuery,drilldownPickerContextValue:{listItemHeight:48,listItemThumbnailStylesOverride:{height:40,width:40,borderRadius:2}}}),W.createElement(iW.a,null)))}var iz=n(277716),iq=n(653700),iZ=n(854784),iQ=n(21480),iJ=n(693400),i$=n(990732),i0=n(469884),i1=n(20656),i2=n(550072),i5=n(933812);function i3({resource:e}){let t=(0,Y.w1)(e=>e.authedActiveCommunityProfile),n=(0,t1.C2)(),a=(0,i$.m2)(e);return W.createElement("div",{className:i2.A$,"data-not-draggable":!0},W.createElement("div",{className:i2.WW},W.createElement(eN.A,{svg:i5.c})),W.createElement("div",{className:i2.AZ},W.createElement(ex.Tx,{id:"community.buyer.payment_for_this_resource_is_moving_over_to_figma"})),W.createElement("div",{className:i2.EJ},W.createElement("button",{onClick:()=>{(0,iQ.eA)(e,l0.qI.INSERTS,n.id,null==t?void 0:t.id),a()}},W.createElement(ex.Tx,{id:"community.buyer.update_payment"}))))}var i4=n(375676);n(427792);var i6=n(627300),i8=n(357652);n(202324);let i9="rating_stats_data--averageStar--YdqTY";function i7({isHovered:e}){return W.createElement("span",{className:i9,"aria-label":(0,ex.t)("community.detail_view.full_star")},W.createElement("svg",{width:"16",height:"15",viewBox:"0 0 16 15",fill:"var(--color-text-tertiary, $figmaFGBlack3)",xmlns:"http://www.w3.org/2000/svg"},W.createElement("path",{d:"M7.77304 0.492166C7.86239 0.298449 8.13771 0.298448 8.22707 0.492166L10.2571 4.89337L15.0703 5.46405C15.2821 5.48917 15.3672 5.75101 15.2106 5.89585L11.6521 9.18663L12.5967 13.9405C12.6383 14.1498 12.4155 14.3116 12.2294 14.2074L8.00005 11.84L3.77072 14.2074C3.58457 14.3116 3.36183 14.1498 3.4034 13.9405L4.348 9.18663L0.789528 5.89586C0.632903 5.75101 0.717982 5.48917 0.929831 5.46405L5.74296 4.89337L7.77304 0.492166Z",fill:e?"var(--color-text-tooltip-warning, $yellow_400_light)":"var(--color-multiplayeryellow, $multiplayerYellow)"})))}function oe(){return W.createElement("span",{className:i9,"aria-label":(0,ex.t)("community.detail_view.empty_star")},W.createElement("svg",{width:"16",height:"15",viewBox:"0 0 16 15",fill:"var(--color-text-tertiary, $figmaFGBlack3)",xmlns:"http://www.w3.org/2000/svg"},W.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.58344 5.82031L7.99995 2.38731L6.41646 5.82031L2.66216 6.26545L5.43781 8.83229L4.70102 12.5404L7.99995 10.6938L11.2989 12.5404L10.5621 8.83229L13.3377 6.26545L9.58344 5.82031ZM15.0702 5.46385C15.282 5.48897 15.3671 5.75081 15.2105 5.89566L11.652 9.18643L12.5966 13.9403C12.6382 14.1496 12.4154 14.3114 12.2293 14.2072L7.99995 11.8398L3.77062 14.2072C3.58447 14.3114 3.36173 14.1496 3.4033 13.9403L4.3479 9.18643L0.789429 5.89566C0.632804 5.75081 0.717883 5.48897 0.929731 5.46385L5.74286 4.89318L7.77294 0.491968C7.86229 0.29825 8.13762 0.29825 8.22697 0.491968L10.257 4.89318L15.0702 5.46385Z",fill:"var(--color-text-secondary,$figmaFGBlack5)"})))}let ot="rating_star_selector--ratingDescription--WBrg8 text--fontPos14--OL9Hp text--_fontBase--QdLsd";var on=n(474135),oa=n(865220);function or({onSelect:e,existingRating:t,showDescriptions:n=!1,useBigStars:a=!0,isOptional:r=!1,disabled:l=!1,disabledTooltip:i}){let[o,s]=(0,W.useState)(0),[c,d]=(0,W.useState)(0),[m,u]=(0,W.useState)(!1),p=[(0,ex.t)("community.star_ratings.i_really_dont_like_it"),(0,ex.t)("community.star_ratings.i_dont_like_it"),(0,ex.t)("community.star_ratings.its_okay"),(0,ex.t)("community.star_ratings.i_like_it"),(0,ex.t)("community.star_ratings.i_love_it")];(0,W.useEffect)(()=>{void 0===t||o||(s(t),d(t))},[t,o]);let _=a?W.createElement(eN.A,{svg:on.c,className:"rating_star_selector--emptyStar--P-7A1 rating_star_selector--star--ML342","aria-label":(0,ex.t)("community.detail_view.empty_star"),dataTestId:"empty-star-big"}):W.createElement(oe,null),E=a?W.createElement(eN.A,{svg:oa.c,className:m?"rating_star_selector--fullStarHover--JKgxp rating_star_selector--star--ML342":"rating_star_selector--fullStar--rCWKu rating_star_selector--star--ML342","aria-label":(0,ex.t)("community.detail_view.full_star"),dataTestId:"full-star-big"}):W.createElement(i7,{isHovered:m}),g=e=>{l||(s(e+1),u(!0))},h=t=>{l||(t+1===c&&r?(d(0),e(0)):(d(t+1),e(t+1)))};return W.createElement("div",{className:a?"rating_star_selector--starInfoContainer--aW-rA":"rating_star_selector--starInfoContainerBigStars--y3zus rating_star_selector--starInfoContainer--aW-rA"},W.createElement("div",{className:l?"rating_star_selector--starContainerDisabled--7bMU6 rating_star_selector--starContainer--1y2ZB":"rating_star_selector--starContainer--1y2ZB",onMouseLeave:()=>{l||c===o||s(c)},"data-tooltip-type":l?n1.wL.TEXT:void 0,"data-tooltip":l?i:void 0,"data-tooltip-show-immediately":!0,"data-testid":"rating-tooltip"},(()=>{let e=[];for(let t=0;t<5;t++)e.push(W.createElement("span",{className:ap.cx.flex.$,key:`rating-star-${t}}`,onMouseEnter:()=>g(t),onMouseLeave:()=>u(!1),onClick:()=>h(t),role:"button",tabIndex:0},t<o?E:_));return e})()),W.createElement("div",{className:"rating_star_selector--ratingDescriptionVisibility--XvJs2"},W.createElement(W.Fragment,null,n&&W.createElement("div",{className:a?"rating_star_selector--ratingDescriptionBigStars--WKSN3 rating_star_selector--ratingDescription--WBrg8 text--fontPos14--OL9Hp text--_fontBase--QdLsd":ot},p[o-1]),r&&0===o&&W.createElement("div",{className:ot},l?W.createElement(ex.Tx,{id:"community.rating_review.ratings_not_available"}):W.createElement(ex.Tx,{id:"community.rating_review.optional"})))))}function ol({userRating:e,isInsertsModal:t,disabled:n,disabledTooltip:a,openRatingModal:r}){return W.createElement("div",{className:t?"rating_stats_view--ratingSelectorContainerInsertsModal--yPaAm rating_stats_view--ratingSelectorContainer--9lgDS":"rating_stats_view--ratingSelectorContainer--9lgDS"},W.createElement("div",{className:t?"rating_stats_view--ratingCTAInsertsModal--lcpeW text--fontPos11--2LvXf text--_fontBase--QdLsd":"rating_stats_view--ratingCTA--Wa386 text--fontPos13--xW8hS text--_fontBase--QdLsd"},e?W.createElement("div",{onClick:()=>r(null==e?void 0:e.ratingValue),className:"rating_stats_view--editRating---V3U6",role:"button",tabIndex:0},W.createElement(ex.Tx,{id:"community.detail_view.edit_rating"})):W.createElement(ex.Tx,{id:"community.detail_view.leave_a_rating"})),W.createElement(or,{onSelect:r,existingRating:null==e?void 0:e.ratingValue,disabled:n,disabledTooltip:a}))}var oi=n(212980),oo=n(332320),os=n(21156),oc=n(201472),od=n(61964),om=n(440356),ou=n(91404),op=n(684591),o_=n(12244),oE=n(579515),og=n(372204),oh=n(468252),of=n(160748);function ov({onBack:e,text:t}){let n=(0,l1.AR)();return W.createElement("div",{className:"browse_resource_modal_tab_header--header--MQQB5 text--fontPos11--2LvXf text--_fontBase--QdLsd"},W.createElement("div",{className:"browse_resource_modal_tab_header--left--UnLHb"},W.createElement(eN.A,{"data-not-draggable":!0,svg:of.c,className:"browse_resource_modal_tab_header--backButton--xXsNC fd_browse_resource_modal--backButton--S7dMz",onClick:e}),t),!n&&W.createElement(im.us,{containerClassName:"browse_resource_modal_tab_header--close--9Fu6o"}))}var oy=n(78180),oC=n(710260),ow=n(848328),ob=((_=ob||{}).FigJamPluginTile="figjam_plugin_tile",_);function oT(e){var t;let n=(0,Y.OY)(),{version:a,isPlugin:r,variant:l}=e,i=(0,t$.AL)(),o=(0,rY.Ce)(),s=(0,oc.aC)(),c=(0,oC.M)(null==o?void 0:o.id,a.plugin_id,s.loaded?null==(t=s.data)?void 0:t.workspaceId:void 0);if(!i||!i.parentOrgId)return null;if(c){let e="figjam_plugin_tile"===l?W.createElement(ex.Tx,{id:"universal_insert.request"}):W.createElement(ex.Tx,{id:"universal_insert.approval_pending"});return W.createElement(eT.wX,{disabled:!0,className:ap.cx.wFull.$,dataTestId:"request-button-approval-pending"},e)}let d={extension:{pluginId:a.plugin_id,iconUrl:a.redirect_icon_url,name:a.name},isWidget:!r,orgId:i.parentOrgId,workspaceDetails:s.loaded?s.data:void 0,openedFrom:"editor",fullscreenEditorType:i.editorType},m="figjam_plugin_tile"===l?W.createElement(ex.Tx,{id:"universal_insert.request"}):W.createElement(ex.Tx,{id:"universal_insert.request_approval"});return W.createElement(eT.wX,{onClick:()=>{n((0,ts.A5)({type:ow.U,data:d}))},className:ap.cx.wFull.$,dataTestId:"request-button"},m)}let ox="detail_view--ratingSelectorContainer--zbvCM";var ok=n(242632),oN=n(5080),oS=n(592096);function oI(e){let t=(0,Y.OY)(),{activeTab:n}=(0,im.YJ)(),a=n===iu.o.PLUGIN,r=(0,tf.So)(),l=(0,tf.KM)(),i=(a?r:l)[e.resourceId];return(W.useEffect(()=>{i&&i.community_publishers||t(ii.S0({id:e.resourceId,resourceType:a?l0.K2.PLUGIN:l0.K2.WIDGET}))},[t,i,e.resourceId,a]),i)?W.createElement(oA,{resourceId:e.resourceId,resource:i}):W.createElement("div",{className:ap.cx.flex.wFull.borderBox.justifyCenter.pt32.$},W.createElement(l7.M7,{size:"medium"}))}function oA(e){var t,n;let{resource:a}=e,{activeTab:r}=(0,im.YJ)(),l=r===iu.o.PLUGIN,i=(0,Y.OY)(),o=(0,l1.AR)(),s=(0,e7.U9)(),c=(0,tf.Ce)(),d=(0,rp.g)(),m=(0,im.KS)((0,tZ.s)()?im.Mz+64:im.Mz),u=(0,Y.w1)(e=>e.authedUsers),p=(0,i$.iI)(a),_=(0,i$.ii)(a),E=(0,i$.OY)(a),g=(0,oi.OI)(_),h=(0,Y.w1)(e=>e.authedActiveCommunityProfile),f=(0,og.M)(),v=(0,rY.Ce)(),y=(0,tf.u_)(),C=(0,tf.iA)(),w=Object.values((0,tf.IX)()).find(t=>String(t.plugin_id)===e.resourceId),{dragState:b,onInsertableResourcePointerDown:T}=(0,om.e)({resource:(0,iA.Y9)(a),clickToInsert:!0,afterSuccessfulInsert:f,triggeredFrom:"universal-insert"}),{canRate:x=!1}={},k=W.useCallback(()=>{i(os.L2({url:l?(0,op.me)(e.resourceId):(0,op.iO)(e.resourceId)}))},[i,e.resourceId,l]),N=l&&(null==d?void 0:d.type)===oy.y6&&d.data.pluginId===e.resourceId&&d.data.targetRect,S=W.useCallback(t=>{t.stopPropagation(),l&&(N?i(lZ.yi()):i(lZ.Qn({type:oy.y6,data:{pluginId:e.resourceId,targetRect:t.currentTarget.getBoundingClientRect()}})))},[l,N,i,e.resourceId]),I=W.useCallback(()=>{i(lZ.yi())},[i]);if(!a)return null;a.community_resource_payment=_;let A=(0,iA.Y9)(a),O=(0,i$.O4)(h,u,a),M=(0,iA.CD)({canAssociatedUserPurchaseThisResource:O,resource:a}),P=!w&&(0,oc.Gm)({org:v,extension:a,allowlistedExtensions:l?y:C}),L=l?W.createElement(iM.EN,{pluginId:e.resourceId,usePrimaryButtonStyles:!0,dropdownShownType:"DROPDOWN_TYPE_RUN_PLUGIN_SUBMENU_DETAIL_VIEW"}):W.createElement(iM.wR,{widgetId:e.resourceId});return W.createElement(tg.kH,{name:"detail",properties:{resourceId:e.resourceId,resourceType:l?l0.K2.PLUGIN:l0.K2.WIDGET,isMonetized:(0,l0.OG)(a),editorType:"figma"}},W.createElement(oO,null),W.createElement(nK.f,{height:m,onScroll:I,onMouseDown:e=>e.stopPropagation(),onPointerDown:e=>e.stopPropagation()},W.createElement("div",{className:"detail_view--contentContainer--nSBG8"},W.createElement("div",{className:(0,tZ.s)()?"detail_view--contentContainerVsCode--QO3Ls":void 0},W.createElement("div",{className:(0,tZ.s)()?"detail_view--coverImageContainerVsCode--4UADZ detail_view--coverImageContainer--2AZZG detail_view--coverImageContainer--2AZZG":"detail_view--coverImageContainer--2AZZG"},W.createElement("img",{className:q()([(0,tZ.s)()?"detail_view--coverImageVsCode--ZtGDB":l?"detail_view--coverImageNotDraggable--5PzSB detail_view--coverImage---G-H1":"detail_view--coverImage---G-H1",ap.cx.if((0,tZ.s)(),ap.cx.bRadius5).$]),src:A.redirect_cover_image_url||"",alt:`${A.name}`,onPointerDown:e=>!l&&T(e),role:"presentation"}),W.createElement(od._,{dragState:b})),E&&W.createElement(oE.EY,null),M&&!E&&!g&&W.createElement(i3,{resource:a}),W.createElement("div",{className:(0,tZ.s)()?"detail_view--infoContainerVsCode--g6DeF detail_view--infoContainer--deaxz text--fontPos11--2LvXf text--_fontBase--QdLsd":"detail_view--infoContainer--deaxz text--fontPos11--2LvXf text--_fontBase--QdLsd"},W.createElement("div",{className:"detail_view--metadataContainer--GSTfB"},W.createElement("div",{className:"detail_view--name--oJZlL text--fontPos14--OL9Hp text--_fontBase--QdLsd"},W.createElement("div",{className:"detail_view--nameString--D7CH4 ellipsis--ellipsis--Tjyfa"},A.name),(0,iq.kv)({resource:a,height:"16",validBadges:[iq.iE.PURCHASED],authedActiveCommunityProfile:h})||W.createElement(iZ.u,{badges:a.badges,height:"16",hideTooltip:!0})),W.createElement("div",{className:"detail_view--publishers--EXOAA text--fontPos11--2LvXf text--_fontBase--QdLsd ellipsis--ellipsis--Tjyfa"},((null==(t=a.community_publishers)?void 0:t.accepted)||[]).length>0&&W.createElement(W.Fragment,null,W.createElement(ou.UP,{entity:null==(n=a.community_publishers)?void 0:n.accepted[0],size:16,className:"detail_view--avatar--trwkE"}),(0,im.WW)(a)))),(!o||c)&&W.createElement("div",{className:"detail_view--actionsRow--sAwdf"},W.createElement("div",{className:"detail_view--ctaContainer--Z5uKT"},p&&!(0,$.Ub)().community_hub_admin_reviewer?W.createElement(i4.F,{resource:a,context:l0.qI.INSERTS,payment:_}):P?W.createElement(oT,{version:A,isPlugin:l}):L),W.createElement("div",{className:ap.cx.ml8.flex.itemsCenter.$},W.createElement(oh.W$,{resourceId:e.resourceId,resourceType:l?l0.y4.PLUGIN:l0.y4.WIDGET,parentView:oh.UF.DETAIL})),o&&(0,iA.eQ)(A,v,y)?W.createElement(W.Fragment,null,W.createElement("div",{className:"detail_view--dotsContainer--JdwCt"},W.createElement(av.wP,{svg:ok.c,fallbackSvg:oN.c,"data-tooltip-type":n1.wL.TEXT,"data-tooltip":(0,ex.t)("universal_insert.more_options"),onClick:S,className:"detail_view--moreOptionsIcon--najos"})),N&&W.createElement(oy.eA,{resourceId:e.resourceId,plugin:A,resourceType:l?l0.y4.PLUGIN:l0.y4.WIDGET})):W.createElement(av.wP,{svg:oS.c,"data-tooltip-type":n1.wL.TEXT,"data-tooltip":(0,ex.t)("universal_insert.copy_link"),onClick:k,className:"detail_view--copyLinkIcon--PFKiL"})),o&&!s&&W.createElement(lq,{name:A.name}),W.createElement("div",{className:"detail_view--horizontalDivider--nZbBH"}),W.createElement("div",{className:"detail_view--resourceUsageDetails--dKwea"},W.createElement(o_.W,{resource:a})),W.createElement("div",{className:ox},x&&(0,oo.TL)(a)&&W.createElement("div",{className:ox},W.createElement(ol,{openRatingModal:e=>{},isInsertsModal:!0}))),W.createElement(iz.C,{fallback:null,errorFallback:null,value:A.description})))),W.createElement(oM,{resourceId:e.resourceId})))}function oO(){let{closeResource:e,activeTab:t}=(0,im.YJ)();return W.createElement(ov,{onBack:e,text:t===iu.o.PLUGIN?W.createElement(ex.Tx,{id:"universal_insert.plugin"}):W.createElement(ex.Tx,{id:"universal_insert.widget"})})}function oM(e){let{activeTab:t}=(0,im.YJ)(),n=t===iu.o.PLUGIN?"plugin":"widget",{href:a,onClick:r}=(0,ic.t)(`/community/${n}/${e.resourceId}`);return W.createElement(W.Fragment,null,W.createElement(eT.g7,{className:"detail_view--communityLink--e-ixL fd_browse_resource_modal--communityLinkBase---qAie text--fontPos11--2LvXf text--_fontBase--QdLsd",href:a,onClick:r,target:"_blank",trackingEventName:"Inserts Detail View - Browse More From Community",trusted:!0},W.createElement(eN.A,{svg:iN.c,className:"detail_view--communityLinkIcon--FPd8D fd_browse_resource_modal--communityLinkIcon--gNQIW text--fontPos12--YsUAh text--_fontBase--QdLsd"}),W.createElement(ex.Tx,{id:"universal_insert.see_more_details_in_community"})),W.createElement("div",{className:"detail_view--communityLinkSpacer--2-rRR"}))}var oP=n(594544),oL=n(771668),oD=n(905480);function oR({isDesktop:e}){return W.createElement(oP.gR,{direction:"vertical",verticalAlignItems:"center",horizontalAlignItems:"center"},W.createElement(eN.A,{svg:oD.c,className:ap.cx.colorIconSecondary.pb24.$,autosize:!0,height:(0,tZ.s)()?"64px":void 0}),W.createElement(oF,{isDesktop:e}))}function oF({isDesktop:e}){let t={learnMoreLink:W.createElement("a",{href:"https://www.figma.com/plugin-docs",target:"_blank",className:ap.cx.cursorPointer.font11.colorTextBrand.$},W.createElement(ex.Tx,{id:"dev_handoff.inspect_panel.learn_more_plugin_development"}))};return W.createElement(W.Fragment,null,e?W.createElement(W.Fragment,null,W.createElement("div",{className:ap.cx.alignCenter.$},W.createElement(ah.a,{i18nId:"dev_handoff.inspect_panel.create_first_here",color:"secondary"}),W.createElement("br",null),W.createElement(ah.a,{i18nId:"dev_handoff.inspect_panel.learn_more_link",i18nParams:t})),W.createElement(oB,null)):W.createElement("div",{className:ap.cx.alignCenter.$},W.createElement(ah.a,{i18nId:"dev_handoff.inspect_panel.inspect_plugins_go_here",color:"secondary"}),W.createElement("br",null),W.createElement(ah.a,{i18nId:"dev_handoff.inspect_panel.use_desktop_to_develop",color:"secondary"}),W.createElement("br",null),W.createElement(ah.a,{i18nId:"dev_handoff.inspect_panel.learn_more_link",i18nParams:t})))}function oB(){let e=(0,Y.OY)(),t=(0,rp.g)(),n=(null==t?void 0:t.type)===l3.gL,a=W.useCallback(t=>{var a;n?e(lZ.yi()):e(lZ.Qn({type:l3.gL,data:{targetRect:null==(a=t.currentTarget)?void 0:a.getBoundingClientRect()}}))},[e,n]);return W.createElement("div",{className:ap.cx.pt16.$},W.createElement(ag.q,{onClick:a},W.createElement(oP.gR,{direction:"horizontal",verticalAlignItems:"center"},W.createElement(oL.GW,{icon:"plus-32"}),W.createElement(ah.a,{i18nId:"dev_handoff.inspect_panel.new_plugin"}),W.createElement(oL.GW,{icon:"chevron-down-32"}))),n&&W.createElement("div",null,W.createElement(l3.MN,{resourceType:l0.K2.PLUGIN})))}function oU(){return W.createElement("svg",{width:"64",height:"64",viewBox:"0 0 64 64",fill:"none",xmlns:"http://www.w3.org/2000/svg"},W.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M25.5594 4.51951C27.2967 3.55473 29.3688 3 31.5833 3C33.7979 3 35.87 3.55473 37.6073 4.51951L36.6363 6.26799C35.2024 5.47169 33.4655 5 31.5833 5C29.7012 5 27.9643 5.47169 26.5304 6.26799L25.5594 4.51951ZM40.1279 6.44958C41.6462 8.03598 42.5833 10.0811 42.5833 12.3333C42.5833 13.1443 42.4615 13.9318 42.2328 14.6823L40.3197 14.0993C40.492 13.5337 40.5833 12.9425 40.5833 12.3333C40.5833 10.6589 39.8909 9.09446 38.683 7.83249L40.1279 6.44958ZM20.5833 12.3333C20.5833 10.0811 21.5204 8.03598 23.0388 6.44958L24.4837 7.83249C23.2758 9.09446 22.5833 10.6589 22.5833 12.3333C22.5833 12.9425 22.6746 13.5337 22.847 14.0993L20.9339 14.6823C20.7052 13.9318 20.5833 13.1443 20.5833 12.3333ZM40.5429 17.7548C41.0494 17.1527 41.4763 16.4937 41.8068 15.7886L39.9959 14.9398C39.7426 15.4802 39.4111 15.9939 39.0096 16.4706C38.5701 16.9926 38.4772 17.6483 38.5592 18.1861C39.3313 18.0684 40.5364 17.8847 40.5364 17.8847C40.5289 17.8355 40.5321 17.7961 40.5377 17.7719C40.5397 17.7629 40.5417 17.7575 40.5429 17.7548ZM22.6273 17.7589C22.1192 17.1557 21.6911 16.4953 21.3598 15.7886L23.1708 14.9398C23.4241 15.4802 23.7556 15.9939 24.1571 16.4706C24.5966 16.9926 24.6894 17.6483 24.6075 18.1861C23.8353 18.0684 23.4024 18.0024 22.6303 17.8847C22.6378 17.8355 22.6346 17.7961 22.629 17.7719C22.6238 17.7492 22.619 17.7491 22.6273 17.7589ZM12.7855 18.8279C13.5007 18.3073 14.3826 18 15.3333 18H18.2724V20H15.3333C14.8195 20 14.3471 20.1649 13.9624 20.4449C13.5028 19.8134 13.2451 19.4594 12.7855 18.8279ZM19.7419 18H22.6229H22.681C22.6637 18 22.6432 18.0029 22.6222 18.0095C22.616 18.0115 22.6103 18.0136 22.6051 18.0158C22.6051 18.0158 23.6596 18.6058 24.3353 18.9838C24.047 19.4991 23.4839 20 22.681 20H19.7419V18ZM40.5444 18.0095C40.5235 18.0029 40.5029 18 40.4856 18H40.5438H43.7581V20H40.4856C39.6827 20 39.1196 19.4991 38.8313 18.9838C39.507 18.6058 40.5615 18.0158 40.5615 18.0158C40.5564 18.0136 40.5506 18.0115 40.5444 18.0095ZM45.3943 18H48.6667C51.0599 18 53 19.9401 53 22.3333V26.7778H51V22.3333C51 21.0447 49.9553 20 48.6667 20H45.3943V18ZM11 22.3333C11 21.3826 11.3073 20.5007 11.8279 19.7855C12.4594 20.2451 12.8134 20.5028 13.4449 20.9624C13.1649 21.3471 13 21.8195 13 22.3333V25.4391H11V22.3333ZM11 30.0977V26.9919H13V30.0395V30.0977C13 30.0804 12.9971 30.0598 12.9905 30.0389C12.9885 30.0327 12.9864 30.027 12.9842 30.0218C12.9842 30.0218 12.3942 31.0763 12.0162 31.752C11.5009 31.4637 11 30.9006 11 30.0977ZM18.6667 30C18.0575 30 17.4663 30.0913 16.9007 30.2637L16.3177 28.3505C17.0682 28.1218 17.8557 28 18.6667 28C20.9189 28 22.964 28.9371 24.5504 30.4555L23.1675 31.9003C21.9055 30.6924 20.3411 30 18.6667 30ZM16.0602 30.5874C15.5198 30.8407 15.0061 31.1722 14.5294 31.5737C14.0074 32.0133 13.3517 32.1061 12.8139 32.0241C12.9316 31.252 12.9976 30.8191 13.1153 30.047C13.1645 30.0545 13.2039 30.0512 13.2281 30.0457C13.2371 30.0436 13.2425 30.0416 13.2452 30.0404C13.8473 29.5339 14.5063 29.107 15.2114 28.7765L16.0602 30.5874ZM53 29V37.8889H51V29H53ZM26 39C26 37.1179 25.5283 35.381 24.732 33.9471L26.4805 32.9761C27.4453 34.7134 28 36.7854 28 39C28 41.2146 27.4453 43.2866 26.4805 45.0239L24.732 44.0529C25.5283 42.619 26 40.8821 26 39ZM53 40.1111V49H51V40.1111H53ZM12.8139 45.9759C13.3517 45.8939 14.0074 45.9867 14.5293 46.4263C15.0061 46.8278 15.5198 47.1593 16.0602 47.4126L15.2114 49.2235C14.5063 48.893 13.8473 48.466 13.2452 47.9596C13.2425 47.9584 13.2371 47.9564 13.2281 47.9543C13.2039 47.9487 13.1645 47.9455 13.1153 47.953C13.1153 47.953 12.9316 46.748 12.8139 45.9759ZM18.6667 48C20.3411 48 21.9055 47.3076 23.1675 46.0997L24.5504 47.5445C22.964 49.0629 20.9189 50 18.6667 50C17.8557 50 17.0682 49.8782 16.3177 49.6495L16.9007 47.7363C17.4663 47.9087 18.0575 48 18.6667 48ZM11 47.9023C11 47.0994 11.5009 46.5363 12.0162 46.248C12.3942 46.9237 12.9842 47.9782 12.9842 47.9782C12.9864 47.973 12.9885 47.9673 12.9905 47.9611C12.9971 47.9402 13 47.9196 13 47.9023V47.9605V51.0081H11V47.9023ZM53 51.2222V55.6667C53 58.0599 51.0599 60 48.6667 60H44.2222V58H48.6667C49.9553 58 51 56.9553 51 55.6667V51.2222H53ZM11 55.6667V52.5609H13V55.6667C13 56.1805 13.1649 56.6529 13.4449 57.0376L11.8279 58.2145C11.3073 57.4993 11 56.6174 11 55.6667ZM15.3333 60C14.3826 60 13.5007 59.6927 12.7855 59.1721L13.9624 57.5551C14.3471 57.8351 14.8195 58 15.3333 58H19.7778V60H15.3333ZM30.8889 60H22V58H30.8889V60ZM42 60H33.1111V58H42V60Z",fill:"var(--color-icon-tertiary)"}),W.createElement("path",{d:"M13.9624 20.4449C13.5028 19.8134 13.2451 19.4594 12.7855 18.8279C12.3424 19.1503 12.1474 19.3465 11.8279 19.7855C12.4594 20.2451 12.8134 20.5028 13.4449 20.9624C13.6139 20.7303 13.7189 20.6222 13.9624 20.4449Z",fill:"var(--color-icon-tertiary)"}),W.createElement("path",{d:"M13 30.0395V30.0977C13 30.0804 12.9971 30.0598 12.9905 30.0389C12.9885 30.0327 12.9864 30.027 12.9842 30.0218L12.0162 31.752C12.2838 31.9017 12.5 31.9763 12.8139 32.0241C12.8139 32.0241 12.9976 30.8191 13.1153 30.047C13.0703 30.0441 13 30.0395 13 30.0395Z",fill:"var(--color-icon-tertiary)"}),W.createElement("path",{d:"M13.1153 47.953L12.8139 45.9759C12.6557 46 12.195 46.1479 12.0162 46.248L12.9842 47.9782C12.9864 47.973 12.9885 47.9673 12.9905 47.9611C12.9971 47.9402 13 47.9196 13 47.9023V47.9605L13.1153 47.953Z",fill:"var(--color-icon-tertiary)"}),W.createElement("path",{d:"M24.6075 18.1861C23.8353 18.0684 23.4024 18.0024 22.6303 17.8847C23.2962 18.3139 23.6695 18.5546 24.3353 18.9838C24.451 18.7772 24.5564 18.5211 24.6075 18.1861Z",fill:"var(--color-icon-tertiary)"}),W.createElement("path",{d:"M22.6229 18H22.681C22.6637 18 22.6432 18.0029 22.6222 18.0095C22.616 18.0115 22.6103 18.0136 22.6051 18.0158C22.6051 18.0158 23.6596 18.6058 24.3353 18.9838C23.6695 18.5546 23.2962 18.3139 22.6303 17.8847C22.6274 17.9297 22.6229 18 22.6229 18Z",fill:"var(--color-icon-tertiary)"}),W.createElement("path",{d:"M40.5364 17.8847C40.5364 17.8847 39.3313 18.0684 38.5592 18.1861C38.5768 18.3016 38.6904 18.7319 38.8313 18.9838C39.507 18.6058 40.5615 18.0158 40.5615 18.0158C40.5564 18.0136 40.5506 18.0115 40.5444 18.0095C40.5235 18.0029 40.5029 18 40.4856 18H40.5438L40.5364 17.8847Z",fill:"var(--color-icon-tertiary)"}))}function oK(){return W.createElement("svg",{width:"64",height:"64",viewBox:"0 0 64 64",fill:"none",xmlns:"http://www.w3.org/2000/svg"},W.createElement("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M35.4987 5.63364L31.9998 2.13477L28.501 5.63364L29.9152 7.04785L31.9998 4.96319L34.0845 7.04785L35.4987 5.63364ZM5.63785 28.4967L7.05206 29.911L4.96319 31.9998L7.05206 34.0887L5.63785 35.5029L2.13477 31.9998L5.63785 28.4967ZM28.5009 58.3659L29.9151 56.9517L31.9998 59.0365L34.0846 56.9517L35.4988 58.3659L31.9998 61.8649L28.5009 58.3659ZM58.3702 35.4946L61.8649 31.9998L58.3702 28.5051L56.9559 29.9193L59.0365 31.9998L56.9559 34.0804L58.3702 35.4946ZM37.2481 7.38307L35.8339 8.79729L39.9186 12.8819H45.6994V10.8819H40.747L37.2481 7.38307ZM48.1756 10.8819V12.8819H51.1281V15.8344H53.1281V10.8819H48.1756ZM53.1281 18.3106H51.1281V24.0914L55.2086 28.1719L56.6228 26.7577L53.1281 23.263V18.3106ZM56.6228 37.2419L55.2086 35.8277L51.1281 39.9082V45.689H53.1281V40.7367L56.6228 37.2419ZM53.1281 48.1652H51.1281V51.1175H48.1757V53.1175H53.1281V48.1652ZM45.6995 53.1175V51.1175H39.9188L35.834 55.2023L37.2483 56.6165L40.7472 53.1175H45.6995ZM26.7514 56.6165L28.1656 55.2023L24.0809 51.1175H18.3085V53.1175H23.2525L26.7514 56.6165ZM15.8365 53.1175V51.1175H12.8925V48.1735H10.8925V53.1175H15.8365ZM10.8925 45.7015H12.8925V39.9291L8.80361 35.8402L7.38939 37.2545L10.8925 40.7575V45.7015ZM7.38939 26.7452L8.80361 28.1594L12.8925 24.0705V18.298H10.8925V23.2421L7.38939 26.7452ZM10.8925 15.826H12.8925V12.8819H15.8365V10.8819H10.8925V15.826ZM18.3086 10.8819V12.8819H24.0811L28.1657 8.79729L26.7515 7.38307L23.2527 10.8819H18.3086Z",fill:"var(--color-icon-tertiary)"}),W.createElement("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M33.3956 19.5055L26.4844 29.1128H41.4723L28.9966 45.6671L27.3994 44.4634L37.4607 31.1128H22.582L31.7721 18.3375L33.3956 19.5055Z",fill:"var(--color-icon-tertiary)"}))}var oG=n(597432);function oH({isWidget:e}){let t=(0,Y.OY)(),n=(0,rp.g)(),a=(null==n?void 0:n.type)===l3.gL,r=W.useRef(null),l=W.useCallback(e=>{var n;a?t(lZ.yi()):t(lZ.Qn({type:l3.gL,data:{type:"pointing",targetRect:null==(n=e.currentTarget)?void 0:n.getBoundingClientRect()}}))},[t,a]),{href:i,onClick:o}=(0,ic.t)("https://www.figma.com/widget-docs/intro/"),{href:s,onClick:c}=(0,ic.t)("https://www.figma.com/plugin-docs");return W.createElement("div",{className:"empty_development_view--developmentPluginEmptyStateContainer--cTeAp"},W.createElement("span",{className:ap.cx.m16.$},e?W.createElement(oK,null):W.createElement(oU,null)),W.createElement("span",{className:ap.cx.font11.fontNormal.colorTextSecondary.mb4.$},e?W.createElement(ex.Tx,{id:"community.plugins.no_widgets_created_yet"}):W.createElement(ex.Tx,{id:"community.plugins.no_plugins_created_yet"})),e?W.createElement(eT.cH,{href:i,onClick:o,className:ap.cx.font11.fontNormal.noUnderline.inline.$,trusted:!0},W.createElement(ex.Tx,{id:"community.plugins.learn_more_about_widget_development"})):W.createElement(eT.cH,{href:s,onClick:c,className:ap.cx.font11.fontNormal.noUnderline.inline.$,trusted:!0},W.createElement(ex.Tx,{id:"community.plugins.learn_more_about_plugin_development"})),W.createElement(eT.qe,{defaultClass:"empty_development_view--buttonWithBorder--zk4QX new_file_dropdown--toolBarButtonWithBorder--tptX6 new_file_dropdown--toolBarButton--mZEgV desktop_tool_bar--toolBarButton--R7dxb text--fontPos11--2LvXf text--_fontBase--QdLsd",onClick:l},W.createElement("div",{className:"empty_development_view--buttonContent--kb5Nb new_file_dropdown--button--fmFcz"},W.createElement(eN.A,{className:"empty_development_view--plusIcon--h23yu",svg:l4.c}),W.createElement("div",{className:"empty_development_view--buttonContentDisplayText--bCttl new_file_dropdown--displayText--ZtKGK"},W.createElement(ex.Tx,{id:"community.plugins.new"})),W.createElement("div",{ref:r},W.createElement(eN.A,{className:"empty_development_view--caretIcon--jjHPA",svg:oG.c})))))}function oV(){let{activeTab:e}=(0,im.YJ)(),t=(0,l1.ie)((0,Y.w1)(e=>e.selectedView)),n=(0,tf.yG)({allowNonVsCodePluginsInVsCode:!0}),a=(0,tf.Wm)(),r=e===iu.o.WIDGET,l=r?a:n,i=(0,l$.A)(),o=(0,tf.qI)(r);return i&&(Object.keys(l).length>0||o.length>0)?W.createElement(tg.kH,{name:"Development"},Object.keys(l).map((e,t)=>W.createElement(iM.wj,{resourceId:e,key:e,type:iM.kj.DEVELOPMENT,keyboardNavigationPath:[im.C_,t]})),o.map((e,t)=>W.createElement(iM.wj,{resourceId:e.id,key:e.id,type:iM.kj.DEVELOPMENT_MISSING_LOCAL,keyboardNavigationPath:[im.C_,Object.keys(l).length+t]}))):t?W.createElement(aE.g,{horizontalAlignItems:"center",verticalAlignItems:(0,tZ.s)()?"start":"center"},W.createElement(oR,{isDesktop:!!i})):W.createElement(oH,{isWidget:r})}function oW({viewType:e,onBackPress:t}){let n=(0,im.KS)(im.Mz);return W.createElement(W.Fragment,null,W.createElement(oY,{viewType:e,onBackPress:t}),W.createElement(nK.f,{height:n,onMouseDown:e=>e.stopPropagation(),onPointerDown:e=>e.stopPropagation()},W.createElement(oj,{viewType:e}),W.createElement(iS,null)))}function oY({viewType:e,onBackPress:t}){let n;let{activeTab:a}=(0,im.YJ)(),r=a===iu.o.PLUGIN;return n=e===iu.s.ORG_PRIVATE_EXPANDED_LIST?r?W.createElement(ex.Tx,{id:"universal_insert.all_internal_plugins"}):W.createElement(ex.Tx,{id:"universal_insert.all_internal_widgets"}):r?W.createElement(ex.Tx,{id:"universal_insert.all_approved_plugins"}):W.createElement(ex.Tx,{id:"universal_insert.all_approved_widgets"}),W.createElement("div",{className:"fd_browse_resource_modal--expandedViewHeader--uLZl5"},W.createElement("div",{className:"fd_browse_resource_modal--left--si6Cj"},W.createElement(eN.A,{svg:of.c,className:"fd_browse_resource_modal--backButton--S7dMz",onClick:t,onMouseDown:e=>e.stopPropagation(),onPointerDown:e=>e.stopPropagation()}),W.createElement("div",{className:"fd_browse_resource_modal--expandedViewHeaderTitle--wG-j2 text--fontPos11--2LvXf text--_fontBase--QdLsd"},n)),W.createElement(im.us,{containerClassName:ib}))}function oj({viewType:e}){let t;let{activeTab:n}=(0,im.YJ)(),a=(0,tf.Yv)(),r=(0,tf.mQ)(),l=n===iu.o.WIDGET,i=(0,tf.u_)(),o=(0,is.WC)(Object.values(i)),s=(0,tf.iA)(),c=l?Object.keys(s):o.map(e=>e.plugin_id);return t=e===iu.s.ORG_PRIVATE_EXPANDED_LIST?W.createElement(W.Fragment,null,(l?r:a).map((e,t)=>W.createElement(iM.wj,{resourceId:e.plugin_id,type:iM.kj.ORG_PRIVATE,key:e.plugin_id,keyboardNavigationPath:[im.C_,t]}))):W.createElement(W.Fragment,null,c.map((e,t)=>W.createElement(iM.wj,{resourceId:e,type:iM.kj.COMMUNITY,key:e,keyboardNavigationPath:[im.C_,t]}))),W.createElement("div",{className:"fd_browse_resource_modal--expandedViewContainer--EvsBd"},t)}function oX(){return W.createElement("svg",{width:"60",height:"70",viewBox:"0 0 60 70",fill:"none",xmlns:"http://www.w3.org/2000/svg"},W.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M38.747 8.88206L29.9998 0.134888L21.2527 8.88206H8.89248V21.2422L0.134766 30L8.89248 38.7577V51.1176H21.2525L29.9998 59.865L38.7472 51.1176H51.1281V38.7368L59.8649 30L51.1281 21.2631V8.88206H38.747ZM49.1281 10.8821H37.9186L29.9998 2.96331L22.0811 10.8821H10.8925V22.0707L2.96319 30L10.8925 37.9292V49.1176H22.0809L29.9998 57.0366L37.9188 49.1176H49.1281V37.9084L57.0365 30L49.1281 22.0915V10.8821Z",fill:"var(--color-bg-disabled-secondary)"}),W.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M31.3956 17.5056L24.4844 27.1129H39.4723L26.9966 43.6672L25.3994 42.4635L35.4607 29.1129H20.582L29.7721 16.3377L31.3956 17.5056Z",fill:"var(--color-bg-disabled-secondary)"}),W.createElement("path",{d:"M40 41.5C40 40.6716 40.6716 40 41.5 40H58.5C59.3284 40 60 40.6716 60 41.5V68.4395C60 69.0684 59.2726 69.418 58.7815 69.0252L50 62L41.2185 69.0252C40.7274 69.418 40 69.0684 40 68.4395V41.5Z",fill:"var(--color-bg-disabled-secondary)"}))}function oz(){return W.createElement("svg",{width:"51",height:"69",viewBox:"0 0 51 69",fill:"none",xmlns:"http://www.w3.org/2000/svg"},W.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.58333 9.33333C9.58333 4.0157 14.6867 0 20.5833 0C26.48 0 31.5833 4.0157 31.5833 9.33333C31.5833 11.371 30.8158 13.2415 29.5429 14.7548C29.5409 14.7593 29.5365 14.7716 29.5338 14.7946C29.5285 14.8406 29.5344 14.9014 29.5552 14.9594C29.5611 14.9758 29.5672 14.9892 29.5728 15H37.6667C40.0599 15 42 16.9401 42 19.3333V52.6667C42 55.0599 40.0599 57 37.6667 57H4.33333C1.9401 57 0 55.0599 0 52.6667V44.9023C0 43.9176 0.731631 43.317 1.36447 43.0896C1.99657 42.8626 2.86764 42.869 3.52935 43.4263C4.72239 44.431 6.148 45 7.66667 45C11.5538 45 15 41.149 15 36C15 30.851 11.5538 27 7.66667 27C6.148 27 4.72239 27.569 3.52935 28.5737C2.86764 29.131 1.99657 29.1374 1.36447 28.9104C0.731631 28.683 0 28.0824 0 27.0977V19.3333C0 16.9401 1.9401 15 4.33333 15H11.5939C11.5995 14.9892 11.6056 14.9758 11.6115 14.9594C11.6323 14.9014 11.6382 14.8406 11.6328 14.7946C11.6302 14.7716 11.6257 14.7593 11.6237 14.7547C10.3509 13.2415 9.58333 11.371 9.58333 9.33333ZM29.544 14.7526C29.5443 14.7522 29.544 14.7526 29.544 14.7526ZM20.5833 2C15.4343 2 11.5833 5.44622 11.5833 9.33333C11.5833 10.852 12.1524 12.2776 13.1571 13.4706C13.7143 14.1324 13.7208 15.0034 13.4937 15.6355C13.2664 16.2684 12.6657 17 11.681 17H4.33333C3.04467 17 2 18.0447 2 19.3333V27.0106C2.01079 27.0162 2.02423 27.0222 2.04063 27.0281C2.09865 27.049 2.15938 27.0548 2.20535 27.0495C2.22841 27.0468 2.24068 27.0424 2.24526 27.0404C3.75846 25.7676 5.62904 25 7.66667 25C12.9843 25 17 30.1033 17 36C17 41.8967 12.9843 47 7.66667 47C5.62904 47 3.75845 46.2324 2.24526 44.9596C2.24068 44.9576 2.22842 44.9532 2.20535 44.9505C2.15938 44.9452 2.09865 44.951 2.04063 44.9719C2.02423 44.9778 2.01079 44.9838 2 44.9894V52.6667C2 53.9553 3.04467 55 4.33333 55H37.6667C38.9553 55 40 53.9553 40 52.6667V19.3333C40 18.0447 38.9553 17 37.6667 17H29.4856C28.5009 17 27.9003 16.2684 27.673 15.6355C27.4459 15.0034 27.4523 14.1324 28.0096 13.4706C29.0143 12.2776 29.5833 10.852 29.5833 9.33333C29.5833 5.44622 25.7324 2 20.5833 2ZM2.24739 27.0393C2.24784 27.0391 2.24739 27.0394 2.24739 27.0393Z",fill:"var(--color-bg-disabled-secondary)"}),W.createElement("path",{d:"M31 40.5C31 39.6716 31.6716 39 32.5 39H49.5C50.3284 39 51 39.6716 51 40.5V67.4395C51 68.0684 50.2726 68.418 49.7815 68.0252L41 61L32.2185 68.0252C31.7274 68.418 31 68.0684 31 67.4395V40.5Z",fill:"var(--color-bg-disabled-secondary)"}))}function oq(e){return W.createElement("div",{className:"saved_view_empty_state--emptyStateContainer--KrviB"},e.isWidget?W.createElement(oX,null):W.createElement(oz,null),W.createElement("div",{className:"saved_view_empty_state--emptyStateTextContainer--xRmL3"},W.createElement("div",{className:"saved_view_empty_state--emptyStateHeader--t4hjK text--fontPos11--2LvXf text--_fontBase--QdLsd"},W.createElement(ex.Tx,{id:"universal_insert.saved_empty_state"})),W.createElement("div",{className:"saved_view_empty_state--emptyStateSubheader--FndRk text--fontPos11--2LvXf text--_fontBase--QdLsd"},e.isWidget?W.createElement(ex.Tx,{id:"universal_insert.saved_for_quick_access_widgets"}):W.createElement(ex.Tx,{id:"universal_insert.saved_for_quick_access_plugins"}))))}function oZ(e){let t=(0,tf.qK)(),n=t.widgets,a=Object.values(t.plugins).sort(tf.jY).filter(e=>"user"===e.installed_by),r=(0,ec.ei)(()=>a),l=(0,is.u6)(r()),i=(l=(0,is.WC)(l)).map(e=>e.plugin_id),o=Object.values(n).sort(tf.jY).filter(e=>"user"===e.installed_by),s=(0,ec.ei)(()=>o),c=(0,is.u6)(s()).map(e=>e.plugin_id);return W.useMemo(()=>e?c:i,[i,c,e])}function oQ(e){let t=oZ(e.isWidget),[n,a]=W.useState(!1),r=W.useMemo(()=>n?t:t.slice(0,40),[t,n]);return 0===t.length?null:W.createElement(tg.kH,{name:"saved"},W.createElement("div",{className:ik},W.createElement(ex.Tx,{id:"universal_insert.saved"})),r.map((e,t)=>W.createElement(iM.wj,{key:e,resourceId:e,type:iM.kj.SAVED,keyboardNavigationPath:[im.C_+1,t]})),t.length>40&&!n&&W.createElement("button",{className:"fd_browse_resource_modal--showAllSavedExtensionsButton--LDbiv text--fontPos12--YsUAh text--_fontBase--QdLsd",onClick:()=>a(!0)},e.isWidget?W.createElement(ex.Tx,{id:"universal_insert.show_all_saved_widgets"}):W.createElement(ex.Tx,{id:"universal_insert.show_all_saved_plugins"})))}function oJ(e){let{activeTab:t}=(0,im.YJ)(),n=(0,tf.i4)(),a=(0,tf.eA)(),r=(0,tf.qK)(),l=t===iu.o.WIDGET,{filterByAllowlist:i,filterByPublicResourcesAllowed:o}=(0,tf.Su)(l),s=l?a:n;s=o(s=i(s)),s=(0,is.WC)(s);let c=(0,eo.m4)(l5.D4),d=t===iu.o.PLUGIN&&0===s.length&&c,m=W.useMemo(()=>s.length>0?W.createElement(tg.kH,{name:"recents"},W.createElement("div",{className:ik,"data-onboarding-key":"recents_plugin_header"},W.createElement(ex.Tx,{id:"universal_insert.recents"})),s.slice(0,im.Y3).map((e,t)=>W.createElement(iM.wj,{key:e.plugin_id,type:iM.kj.RECENT,resourceId:e.plugin_id,keyboardNavigationPath:[im.C_,t]}))):W.createElement(W.Fragment,null),[s]),u=oZ(l);if(!0===r.loaded&&s.length+u.length===0&&!d)return W.createElement(tg.kH,{name:"Recents and saved"},W.createElement(oq,{isWidget:t===iu.o.WIDGET}),W.createElement(iB,{viewExpandedList:e.viewExpandedList,keyboardNavigationOffset:im.C_+2}));let p=W.createElement(oQ,{isWidget:t===iu.o.WIDGET}),_=s.length>0,E=u.length>0;return W.createElement(tg.kH,{name:"Recents and saved"},m,E&&_&&W.createElement("div",{className:ih}),p,W.createElement(iB,{viewExpandedList:e.viewExpandedList,keyboardNavigationOffset:im.C_+2}))}var o$=n(819584);function o0(){let e=W.useRef({}),t=W.useCallback((t,n)=>{e.current[t]=n},[]),n=W.useCallback(t=>e.current[t]||[],[]),a=W.useCallback(t=>t in e.current,[]),r=W.useCallback(()=>{e.current={}},[]);return W.useMemo(()=>({setResultsForQuery:t,getResultsForQuery:n,hasQueryResultsCached:a,resetCache:r}),[t,n,a,r])}var o1=n(187007);let o2=new o1.ei([],{...tx.uW,keys:tx.wL}),o5=new o1.ei([],{...tx.uW,keys:[{name:"name",weight:1}]}),o3=new o1.ei([],{...tx.uW,keys:tx.wL});function o4(e){let t;let{activeTab:n}=(0,im.YJ)(),a=n===iu.o.WIDGET,r=(0,l1.AR)(),l=e.query.trim(),{pluginServerSideSearch:i,pluginSearchIsLoading:o,pluginSearchHasResolved:s}=(0,tf.Se)(ir.w.Editors.FIGMA),{widgetServerSideSearch:c,widgetSearchIsLoading:d,widgetSearchHasResolved:m}=(0,tf.A9)(ir.w.Editors.FIGMA),{getResultsForQuery:u,setResultsForQuery:p,resetCache:_}=o0(),E=u(l),{getResultsForQuery:g,setResultsForQuery:h,resetCache:f}=o0(),v=g(l),{getResultsForQuery:y,setResultsForQuery:C,hasQueryResultsCached:w,resetCache:b}=o0(),T=o6(y(l),[E]),{getResultsForQuery:x,setResultsForQuery:k,hasQueryResultsCached:N,resetCache:S}=o0(),I=o6(x(l),[E,T]),{getResultsForQuery:A,setResultsForQuery:O,resetCache:M}=o0(),P=o6(A(l),[E,T,I]),{getResultsForQuery:L,setResultsForQuery:D,hasQueryResultsCached:R,resetCache:F}=o0(),B=o6(L(l),[E,T,I,P]);W.useEffect(()=>{_(),f(),b(),S(),F(),M()},[a,M,F,b,f,S,_]);let U=(0,tf.At)(),K=(0,tf.eA)(),G=(0,tf.IX)(),H=(0,tf.Wm)(),V=(0,tf.u_)(),Y=(0,tf.iA)(),j=(0,tf.So)(),X=(0,tf.KM)(),z=(0,o$.yC)(()=>Object.keys(a?Y:V).map(e=>(0,iA.Y9)((a?X:j)[e])),[V,X,j,Y,a]);W.useEffect(()=>{o2.set(Object.values(a?K:U))},[U,K,a]),W.useEffect(()=>{o5.set(Object.values(a?H:G))},[G,H,a]),W.useEffect(()=>{o3.set(z)},[z]);let q=(0,rY.Ce)(),{serverSideSearch:Z,isLoading:Q,hasResolved:J}=n===iu.o.PLUGIN?{serverSideSearch:i,isLoading:o,hasResolved:s}:{serverSideSearch:c,isLoading:d,hasResolved:m};W.useEffect(()=>{""!==l&&(R(l)&&N(l)&&w(l)||Z(l,e=>D(l,e),e=>k(l,e),e=>C(l,e)),p(l,o2.search(l).map(e=>e.plugin_id)),h(l,o5.search(l).map(e=>e.localFileId.toString())),O(l,o3.search(l).map(e=>e.plugin_id)))},[l,R,w,N,Z,O,D,C,h,k,p]);let $=lQ.kr.getIsExtension()?im.Mz+im.MN:r?im.Mz+im.MN+im.y6+8:im.Mz+im.MN,ee=(0,im.KS)($),et=r?iE:i_,en=r?"fd_browse_resource_modal--devHandoffSearchBarContainerScrolled--KosxI fd_browse_resource_modal--devHandoffSearchBarContainer--zw9mg":"fd_browse_resource_modal--searchBarContainerScrolled--2-lJE fd_browse_resource_modal--searchBarContainer--Q2kZ7",ea=W.useCallback(t=>{let n=e.searchContainerRef.current;n&&(t>0?n.className=en:n.className=et)},[e.searchContainerRef,en,et]);W.useEffect(()=>()=>{e.searchContainerRef.current&&(e.searchContainerRef.current.className=et)},[]);let er=q&&(a?q.widgets_whitelist_enforced:q.plugins_whitelist_enforced),el=(!er||(0,oc.w7)({org:q,isWidget:a}))&&B&&B.length>0&&J,ei=er&&P.length>0,eo=q&&I&&I.length>0&&J,es=T.length>0&&J,ec=E.length>0,ed=v.length>0,em=J&&(el||eo||ec||es||ei);if(J&&!(ec||ed||em))t=W.createElement("div",{className:iT},a?er?W.createElement(ex.Tx,{id:"universal_insert.no_widgets_matching_query_for_allowlist",orgName:q.name,query:l}):W.createElement(ex.Tx,{id:"universal_insert.no_widgets_matching_query",query:l}):er?W.createElement(ex.Tx,{id:"universal_insert.no_plugins_matching_query_for_allowlist",orgName:q.name,query:l}):W.createElement(ex.Tx,{id:"universal_insert.no_plugins_matching_query",query:l}));else{t=[];let e=im.C_;ec&&(t.push(W.createElement(o9,{sectionHeader:W.createElement(ex.Tx,{id:"universal_insert.recents"}),ids:E,type:iM.kj.RECENT,sectionIdx:e,key:iM.kj.RECENT})),e+=1),ed&&(t.push(W.createElement(o9,{sectionHeader:W.createElement(ex.Tx,{id:"universal_insert.development"}),ids:v,type:iM.kj.DEVELOPMENT,key:iM.kj.DEVELOPMENT,sectionIdx:e})),e+=1),Q&&!em?t.push(W.createElement(l7.M7,{className:ix,key:"Loading spinner"})):(es&&(t.push(W.createElement(o9,{sectionHeader:W.createElement(ex.Tx,{id:"universal_insert.saved"}),ids:T,type:iM.kj.SAVED,key:iM.kj.SAVED,sectionIdx:e})),e+=1),eo&&(t.push(W.createElement(o9,{sectionHeader:q.name,ids:I,type:iM.kj.ORG_PRIVATE,key:iM.kj.ORG_PRIVATE,sectionIdx:e})),e+=1),ei&&(t.push(W.createElement(o9,{sectionHeader:W.createElement(ex.Tx,{id:"universal_insert.approved_from_figma_community"}),ids:P,type:iM.kj.COMMUNITY,key:`ALLOW_LIST_${iM.kj.COMMUNITY}`,sectionIdx:e})),e+=1),el&&t.push(W.createElement(o9,{sectionHeader:W.createElement(ex.Tx,{id:"universal_insert.from_community"}),ids:B,type:iM.kj.COMMUNITY,key:iM.kj.COMMUNITY,sectionIdx:e})))}return W.createElement(nK.f,{height:ee,onScroll:ea,onMouseDown:e=>e.stopPropagation(),onPointerDown:e=>e.stopPropagation()},W.createElement(tg.kH,{name:"search",properties:{searchQuery:l,resourceType:n}},t))}let o6=(e,t)=>{let n={};return t.forEach(e=>e.forEach(e=>n[e]=!0)),e.filter(e=>!n[e])};function o8(e){return W.createElement("div",{onClick:()=>(0,Z.we)("search result clicked"),role:"none","data-testid":`browse-resource-tile-${e.resourceId}`},W.createElement(iM.wj,{resourceId:e.resourceId,type:e.type,keyboardNavigationPath:e.keyboardNavigationPath,shouldFocusFirstItem:!0}))}function o9(e){return W.createElement(W.Fragment,null,e.sectionIdx>im.C_&&W.createElement("div",{className:ih}),W.createElement("div",{className:"fd_browse_resource_modal--sectionHeader--a-cdT fd_browse_resource_modal--_sectionHeaderBase--dsvXv text--fontPos12--YsUAh text--_fontBase--QdLsd"},e.sectionHeader),e.ids.map((t,n)=>W.createElement(o8,{key:t,resourceId:t,type:e.type,keyboardNavigationPath:[e.sectionIdx,n]})))}let o7=()=>({[iu.o.COMPONENT]:{label:(0,ex.t)("universal_insert.components"),tab:iu.o.COMPONENT,resourceTypeLabel:(0,ex.t)("universal_insert.components_resource_type")},[iu.o.PLUGIN]:{label:(0,ex.t)("community.view_bar.plugins"),tab:iu.o.PLUGIN,resourceTypeLabel:(0,ex.t)("community.plugins.plugin")},[iu.o.WIDGET]:{label:(0,ex.t)("community.view_bar.widgets"),tab:iu.o.WIDGET,resourceTypeLabel:(0,ex.t)("community.plugins.widget")}});function se(e){return W.createElement("div",{className:"fd_browse_resource_modal--tabHeader--edoDO"},W.createElement("div",{className:"fd_browse_resource_modal--tabsContainer--v6cIk"},Object.entries(o7()).map(([t,n])=>W.createElement("div",{className:"fd_browse_resource_modal--tabClickTarget--QDM1e",key:t,role:"tab",onClick:()=>e.onClick(n.tab),onMouseDown:e=>e.stopPropagation(),onPointerDown:e=>e.stopPropagation(),tabIndex:0},W.createElement("div",{key:t,"data-label":n.label,className:n.tab===e.selectedTab?"fd_browse_resource_modal--selectedTab--u91ec fd_browse_resource_modal--tab--Olia- text--fontPos11--2LvXf text--_fontBase--QdLsd":"fd_browse_resource_modal--tab--Olia- text--fontPos11--2LvXf text--_fontBase--QdLsd"},n.label)))),W.createElement(im.us,{containerClassName:ib}))}var st=n(204504),sn=n(484856);let sa="BROWSE_CODEGEN_FILTER_DROPDOWN",sr="recents_and_saved_plugin_header";function sl(){let e=W.useRef(null),{fdPreviewResource:t,initialFdView:n}=(0,Y.w1)(e=>e.universalInsertModal),r=null==t?void 0:t.id,{activeTab:l,currentView:i,setCurrentViewOrTab:o}=(0,im.YJ)(),s=(0,l1.AR)(),c=s?"fd_browse_resource_modal--slidingPaneContainerAdjustable--ge7kl sliding_pane--slidingPaneContainer--RQkXf":"fd_browse_resource_modal--slidingPaneContainer--sW-oK sliding_pane--slidingPaneContainer--RQkXf",[d,m]=W.useState(n?"":a||""),[u,p]=W.useState(iu.s.MAIN),_=W.useCallback(e=>{if(e.keyCode===ee.as.ENTER){let t=e.target,n=null==t?void 0:t.querySelector("button");null==n||n.click()}},[]);W.useEffect(()=>{a=d},[d]);let E=W.useMemo(()=>W.createElement(se,{onClick:t=>{var n,a;t!==iu.o.COMPONENT&&(null==(a=null==(n=e.current)?void 0:n.querySelector("input"))||a.focus()),o({newTab:t})},selectedTab:l}),[l,o]),g=W.useMemo(()=>{let t=s?iE:i_;return l===iu.o.COMPONENT?W.createElement(tg.kH,{name:l},W.createElement(iX,{header:E,query:d,setQuery:m})):W.createElement(tg.kH,{name:l},!s&&E,W.createElement("div",{onMouseDown:e=>e.stopPropagation(),onPointerDown:e=>e.stopPropagation(),role:"none"},W.createElement(lW.O8,{onKeyDown:_},W.createElement("div",{className:t,ref:e},W.createElement(si,{searchQuery:d,placeholder:l===iu.o.PLUGIN?(0,ex.t)("universal_insert.search_all_plugins"):l===iu.o.WIDGET?(0,ex.t)("universal_insert.search_all_widgets"):(0,ex.t)("universal_insert.search_all_extensions"),setSearchQuery:m})),0===d.length&&W.createElement(so,{viewExpandedList:p,currentView:i,setCurrentView:e=>o({newView:e})}),d.length>0&&W.createElement(o4,{query:d,searchContainerRef:e}))))},[l,_,d,s,E,i,o]),h=null;return r?h=W.createElement(oI,{resourceId:r}):(u===iu.s.ORG_PRIVATE_EXPANDED_LIST||u===iu.s.ORG_ALLOWLIST_EXPANDED_LIST)&&(h=W.createElement(lW.O8,{onKeyDown:_},W.createElement(oW,{viewType:u,onBackPress:()=>p(iu.s.MAIN)}))),W.createElement("div",{className:c},W.createElement("div",{className:h?"fd_browse_resource_modal--slidingPaneLeft--TOiZt sliding_pane--slidingPaneLeft--Wrfdy sliding_pane--slidingPane--6OmDU":ip},g),h&&W.createElement("div",{className:ip},h))}function si({searchQuery:e,setSearchQuery:t,placeholder:n}){let a=(0,Y.OY)(),{setKeyboardNavigationElement:r}=(0,lW._G)({id:"search",path:[im.cT,0]}),l=(0,rp.g)(),i=(null==l?void 0:l.type)===sa,o=W.useRef(null),[s,c]=(0,eo.lZ)(lX.qG),d=s&&!i,m=(0,lJ.wD)(),u=W.useCallback(n=>"Escape"===n.key&&(e?t(""):m(),!0),[m,e,t]),p=(0,tC.c)(e=>{e.length>0?a(lj.i.startSearch({entryPoint:"figma:inserts"})):a(lj.i.endSession()),t(e)},300);W.useEffect(()=>()=>{a(lj.i.endSession())},[a]);let _=W.useCallback(()=>{i?a(lZ.yi()):a(lZ.Qn({type:sa}))},[a,i]),E=[];E.push(W.createElement(lV.g.CheckableOption,{checked:s,onClick:()=>{c(!s),_()},role:"menuitemcheckbox"},(0,ex.t)("dev_handoff.inspect_panel.search_bar_filter_codegen_option")));let g=(0,l1.AR)(),h=W.createElement(lY.EB,{focusOnMount:!0,selectTextOnMount:!g,className:q()(g?"fd_browse_resource_modal--searchBarDevHandoff--uuPW-":"fd_browse_resource_modal--searchBar---bmO8",{"fd_browse_resource_modal--searchBarEmpty--8dNhE":""===e}),query:e,placeholder:n,clearSearch:()=>{a(lj.i.endSession()),t("")},onChange:p,isKeyDownHandled:u,hideXIcon:!e,ref:e=>r((null==e?void 0:e.searchInput)??null)});if(!g||e)return h;let f="dev-mode-codegen-filter-menu";return W.createElement("div",{className:"fd_browse_resource_modal--searchBarAndFilterContainer--F1Wg8"},h,W.createElement("div",{className:"fd_browse_resource_modal--searchBarFilterButton--hQeym"},W.createElement("div",{ref:o},W.createElement(av.KM,{svg:d?sn.c:st.c,selected:i,selectedClassName:"fd_browse_resource_modal--headerIconButtonSel--nV-KN",onClick:_,className:q()({"fd_browse_resource_modal--filterButtonActive--8krHg":d}),onMouseDown:e=>i&&e.stopPropagation(),"data-tooltip-type":n1.wL.TEXT,"data-tooltip":(0,ex.t)("dev_handoff.inspect_panel.search_bar_filter"),"aria-haspopup":"menu","aria-expanded":i,"aria-owns":f}))),i&&o.current&&W.createElement(l2.uq,{id:f,showPoint:!0,targetRect:o.current.getBoundingClientRect(),options:E,hideDropdown:_,autofocusPrevElementOnSelect:!0,autofocusPrevElementOnEsc:!0,autofocusPrevElementOnTab:!1,focusContainerOnMount:!0,propagateCloseClick:!0}))}function so(e){let t=W.useRef(null),n=(0,l1.AR)(),a=(0,e7.U9)(),r=lQ.kr.getIsExtension()?im.MN+im.Mz+48:n?im.Mz+im.M7+im.MN+im.y6:im.Mz+im.M7+im.MN,{activeTab:l,currentView:i}=(0,im.YJ)(),o=(0,eo.m4)(l5.D4),s=(0,eo.m4)(l5.wl),c=l===iu.o.PLUGIN&&s,d=(0,im.KS)(r),m=W.useRef(null),u=(0,Y.OY)(),p=W.useCallback(e=>{t.current&&(e>0?t.current.className=q()("fd_browse_resource_modal--mainViewHeaderScrolled--RPI7X fd_browse_resource_modal--mainViewHeader--AZpur",iC):t.current.className=q()(iy,iC),u(lZ.yi()))},[t,u]);if(W.useEffect(()=>{var e;null==(e=m.current)||e.scrollToTop()},[l,i]),n&&!a)return W.createElement("div",null,W.createElement(nK.f,{height:c?void 0:d,onScroll:p,innerClassName:n?ap.cx.hFull.$:"",ref:m},W.createElement(W.Fragment,null,W.createElement(lz,null),W.createElement(iU,{viewExpandedList:e.viewExpandedList}))));let _=W.createElement(W.Fragment,null,W.createElement(ss,{currentView:e.currentView}),"recents_and_saved"===e.currentView&&W.createElement(oJ,{viewExpandedList:e.viewExpandedList}),"development"===e.currentView&&W.createElement(oV,null),"org"===e.currentView&&W.createElement(iD,{viewExpandedList:e.viewExpandedList}));return W.createElement("div",null,!o&&W.createElement("div",{className:q()(iy,iC),ref:t,"data-onboarding-key":sr},W.createElement(sc,{currentView:e.currentView,onChange:e.setCurrentView}),"development"===e.currentView&&W.createElement("div",{className:"fd_browse_resource_modal--mainViewHeaderRightSide--hxfTP text--fontPos12--YsUAh text--_fontBase--QdLsd"},W.createElement(l6,{resourceType:l===iu.o.WIDGET?l0.K2.WIDGET:l0.K2.PLUGIN}))),W.createElement(nK.f,{height:c?void 0:d,onScroll:p,innerClassName:n?ap.cx.hFull.$:"",ref:m},_))}function ss({currentView:e}){var t;let{activeTab:n}=(0,im.YJ)(),a=null==(t=(0,rY.Ce)())?void 0:t.id,r=(0,tf.vT)(),l=(0,tf.qo)(),i=n===iu.o.WIDGET?l:r,o="org"===e?i.filter(e=>e.org_id&&e.org_id===a):i;return 0===o.length?null:W.createElement("div",null,o.map((e,t)=>W.createElement(iM.wj,{resourceId:e.id,key:e.id,type:iM.kj.INVITED,keyboardNavigationPath:[im.o7,t]})),W.createElement("div",{className:ih}))}function sc(e){let t=(0,Y.OY)(),n=(0,rp.g)(),a=(0,rY.Ce)(),r=(0,l$.A)(),l=W.useCallback(e=>(function(e,t){switch(e){case"recents_and_saved":return(0,ex.t)("universal_insert.recents_and_saved");case"development":return(0,ex.t)("universal_insert.development");case"org":return(null==t?void 0:t.name)||(0,ex.t)("universal_insert.from_your_org")}})(e,a),[a]),i=["recents_and_saved"];return(r&&i.push("development"),1!==i.length||a)?W.createElement(aZ.M1,{id:"fd-browse-modal-main-view-select",property:e.currentView,formatter:{format:l},onChange:e.onChange,dispatch:t,chevronClassName:"fd_browse_resource_modal--mainViewSelectorChevron--P-lJ8",inputClassName:iw,className:"fd_browse_resource_modal--mainViewSelector--chQy5",dropdownShown:n,dropdownWidth:173},i.map(e=>W.createElement(aZ.cb,{value:e,key:e},l(e))),a&&W.createElement(aZ.Wy,null),a&&W.createElement(aZ.cb,{value:"org"},l("org"))):W.createElement("div",{className:"fd_browse_resource_modal--mainViewSelectorTitleContainer--PITMQ"},W.createElement("div",{className:iw},l(i[0])))}function sd(){let{setCurrentView:e,currentPluginView:t}=function(){let e=(0,ei.my)(lX.Nt),[t,n]=(0,eo.lZ)(lX.eE),a=(0,lG.N5)(lX.eE),r=W.useCallback(()=>{e(t)},[t,e]),l=W.useCallback(({newView:e})=>{e&&t!==e&&(r(),n(e))},[t,n,r]);return W.useEffect(()=>{r()},[r]),W.useEffect(()=>()=>{a()},[a]),W.useMemo(()=>({currentPluginView:t,setCurrentView:l}),[t,l])}(),n=(0,Y.OY)(),a=W.useMemo(()=>({activeTab:iu.o.PLUGIN,viewResource:e=>{n(lH.kh({fdPreviewResource:e}))},closeResource:()=>{n(lH.kh({fdPreviewResource:void 0}))},setCurrentViewOrTab:e,currentView:t,closeModal:()=>{},pinModal:()=>{}}),[n,e,t]);return W.createElement(aE.g,{direction:"vertical",spacing:0,height:"fill-parent"},W.createElement(im.gp.Provider,{value:a},W.createElement(sl,null)))}var sm=n(308264);let su=(0,nF.qe)(rM.Q3T);function sp(){let e=l_("advanced_inspection"),t=(0,ex.t)("dev_handoff.paywall.inspection.title"),n=W.createElement(ex.Tx,{id:"dev_handoff.paywall.inspection.description",learnMoreLink:W.createElement(rA.s,{className:rF,onClick:e,recordingKey:"dev_mode_inspect_panel_learn_more"},W.createElement(ex.Tx,{id:"dev_handoff.paywall.learn_more"}))});return W.createElement(rK,{imgSrc:"https://static.figma.com/uploads/5d71630923f3b7231a12bd959018c1cc569985cc",panelWidth:su,title:t,content:n,dataTestId:"dev-mode-panel-upsell-inspect"})}var s_=n(452955),sE=n(441748),sg=n(588900),sh=n(788156),sf=n(619712),sv=n(190036);let sy=(0,nT.Zf)({});var sC=n(397888),sw=n(47956),sb=n(612952),sT=n(50451),sx=n(234076),sk=n(756824),sN=n(4596),sS=n(511308),sI=n(136140),sA=n(89080),sO=n(167044),sM=n(670812),sP=n(190095),sL=n(907152),sD=n(869588),sR=n(467372),sF=n(833616),sB=n(961800);function sU(e){return W.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},W.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M10 6h4v1h-4V6ZM9 6a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1 2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H9a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2Zm0 1a1 1 0 0 0-1 1v8a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V8a1 1 0 0 0-1-1 1 1 0 0 1-1 1h-4a1 1 0 0 1-1-1Zm1 3.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 0 1h-3a.5.5 0 0 1-.5-.5Zm.5 2.5a.5.5 0 0 0 0 1h3a.5.5 0 0 0 0-1h-3Z",clipRule:"evenodd"}))}var sK=n(633008);let sG={trackWidth:0,trackLeft:0,scrollWidth:0,scrollLeft:0,canScroll:!0,scrollbarLeft:0,scrollbarWidth:0,startDragX:void 0,startDragScrollLeft:void 0},sH=(e,t)=>{let n={...e};if(n.trackWidth=t.clientWidth,n.scrollWidth=t.scrollWidth,n.trackLeft=t.getBoundingClientRect().left,n.scrollLeft=t.scrollLeft,n.scrollbarWidth=Math.max(n.trackWidth*(n.trackWidth/n.scrollWidth),42),n.canScroll=n.scrollWidth>n.trackWidth,n.canScroll){let e=n.scrollWidth-n.trackWidth,t=n.trackWidth-n.scrollbarWidth;n.scrollbarLeft=n.scrollLeft/e*t}return(0,Y.G)(e,n)?e:n};var sV=((E=sV||{})[E.DOM_DELTA_PIXEL=0]="DOM_DELTA_PIXEL",E[E.DOM_DELTA_LINE=1]="DOM_DELTA_LINE",E[E.DOM_DELTA_PAGE=2]="DOM_DELTA_PAGE",E);let sW=e=>{let t=0;return 0===e.deltaMode?t=e.deltaX:1===e.deltaMode?t=10*e.deltaX:2===e.deltaMode&&(t=100*e.deltaX),t},sY=(e,t,n,a)=>{let{startDragX:r,startDragScrollLeft:l,scrollWidth:i,trackWidth:o,trackLeft:s}=n;if(void 0!==r&&void 0!==l){let n=e-r;(n>0&&e>=s||n<0&&e<=s+o)&&(t.scrollLeft=l+n/o*i,a())}},sj=({scrollContainerRef:e,clipContainerRef:t,onCanScrollChanged:n,childRef:a})=>{let[r,l]=W.useState(sG),i=W.useRef(),[o,s]=W.useState(null),c=void 0!==r.startDragX&&void 0!==r.startDragScrollLeft,d=W.useCallback(()=>{let t=e.current;t&&l(e=>sH(e,t))},[e,l]);W.useLayoutEffect(()=>{i.current!==r.canScroll&&(null==n||n(r.canScroll)),i.current=r.canScroll},[r.canScroll,n]);let m=W.useCallback(t=>{let n=t.clientX,a=e.current;a&&(et.cp.safari?null===o&&s(requestAnimationFrame(()=>{sY(n,a,r,d),s(null)})):sY(n,a,r,d),d())},[d,o,e,r]),u=W.useCallback(t=>{e.current&&(e.current.scrollLeft+=sW(t),d())},[e,d]),p=W.useCallback(t=>{if(!e.current)return;t.stopPropagation(),t.preventDefault();let{clientX:n}=t,{trackLeft:a,scrollbarWidth:i,trackWidth:o,scrollWidth:s,scrollbarLeft:c}=r,m=n-a;m>=c&&m<=c+i||(e.current.scrollLeft=Math.min(Math.max(0,m-i/2),o)/o*s,d()),l(e=>({...e,startDragX:n,startDragScrollLeft:e.scrollLeft}))},[e,r,l,d]),_=W.useCallback(()=>{l(e=>({...e,startDragScrollLeft:void 0,startDragX:void 0}))},[]);return(0,sK.m)(t,d),(0,sK.m)(a,d),W.useEffect(()=>{if(c)return document.addEventListener("mousemove",m),()=>document.removeEventListener("mousemove",m)},[m,c]),W.useEffect(()=>{if(c)return document.addEventListener("mouseup",_),()=>document.removeEventListener("mouseup",_)},[_,c]),W.useLayoutEffect(d,[d]),{reconcileStateWithDom:d,onTrackWheel:u,onTrackMouseDown:p,scrollState:r,isDragging:c}},sX=e=>{if(!e.canScroll)return"none";let t=e.scrollLeft,n=e.trackWidth-e.scrollbarWidth-e.scrollLeft+25,a=`rgba(0, 0, 0, ${1-Math.min(t/50,1)})`,r="rgba(0, 0, 0, 1)",l=`rgba(0, 0, 0, ${1-Math.min(n/50,1)})`,i=[`${a} 0%`,`${a} 5px`,`${r} 50px`,`${r} calc(100% - 50px)`,`${l} calc(100% - 5px)`,`${l} 100%`];return`linear-gradient(to right, ${i.join(", ")})`};function sz({className:e,scrollBarAlways:t,fadeEdges:n,children:a,onCanScrollChanged:r,childRef:l}){let i=W.useRef(null),o=W.useRef(null),{reconcileStateWithDom:s,onTrackWheel:c,onTrackMouseDown:d,scrollState:m,isDragging:u}=sj({scrollContainerRef:i,clipContainerRef:o,childRef:l,onCanScrollChanged:r}),p={transform:`translate3d(${m.scrollbarLeft}px, 0px, 0)`,width:m.scrollbarWidth};return W.createElement("div",{ref:o,className:q()("horizontal_scroll_container--clipContainer--5E1FP",e)},m.canScroll&&W.createElement("div",{className:u?"horizontal_scroll_container--trackDragging---EmpF horizontal_scroll_container--track--NB72q":"horizontal_scroll_container--track--NB72q",onMouseDown:d,onWheel:c},W.createElement("div",{className:t?"horizontal_scroll_container--scrollBarAlways---9ddQ horizontal_scroll_container--scrollBar--2cVcj":"horizontal_scroll_container--scrollBar--2cVcj",style:p})),W.createElement("div",{ref:i,className:"horizontal_scroll_container--scrollContainer--IkUqe",onScroll:()=>s(),style:{WebkitMaskImage:n?sX(m):void 0}},a))}var sq=n(626416),sZ=n(968240),sQ=n(604968),sJ=n(184252),s$=n(24588),s0=n(14700);function s1({hint:e,inCodeWell:t,hidden:n}){return W.createElement(s$.wP,{svg:e1.c,"data-tooltip-type":n1.wL.TEXT,"data-tooltip":e,"data-tooltip-show-immediately":!0,"data-tooltip-offset-x":t?-5:0,className:q()({"code_hints--hintButton--Zdf0R":!0,"code_hints--codeLineHintButton--8Gasg":t,"code_hints--hidden\xa0--OV345":n})})}var s2=n(53872),s5=n(107516);let s3=/Color\((0x[0-9a-fA-F]{8})\)/gi,s4=/(Color\(red: (\d*\.?\d*), green: (\d*\.?\d*), blue: (\d*\.?\d*)\)(\.opacity\((\d*\.?\d*)\))?)/gi,s6=/(#([0-9a-fA-F]{6}|[0-9a-fA-F]{3})|rgba?\(\d+,\s*\d+,\s*\d+,\s*\d+(?:\.\d+)?\)|color\(\s*(srgb|srgb-linear|display-p3|a98-rgb|prophoto-rgb|rec2020|xyz|xyz-d50|xyz-d65)\s+((\d+|\d*\.\d+|%|none)\s*){3}(\/\s*(\d+|\d*\.\d+|%|none)\s*)?\))/gi;var s8=n(98344);let s9="code_panel--codeWell--9P6tu",s7="code_panel--codeWellWithLeftGutter--Tp2Pe",ce="code_panel--connected--RdXFD",ct="code_panel--manual--h-0IX";var cn=n(370420);let ca=(0,nT.Zf)(!1),cr=e=>(0,l8.Ib)(e.map(e=>e.lines.length>0?(0,s0.UV)(e.lines,!0):null)).join("\n\n");function cl(e){return W.createElement(sB.K,{...e,className:q()("code_panel--buttonReset--dOY7G","code_panel--copyButton--u-358"),as:"button"})}function ci(e){var t;let{code:n,section:a,hasCodeDiff:r,collapseLongSections:l=!0,bottomPadding:i=!1,copyActionEnabled:o=!0,copyAllActionEnabled:s=!0,hideHints:c=!1,recordingKey:d,additionalHeaderActions:m=null,footerActions:u=null,type:p="default"}=e;a.collapseAfterIndex||(a={...a,collapseAfterIndex:15});let _=(0,Y.w1)(e=>Object.keys(e.mirror.sceneGraphSelection)[0]),E=(0,Y.OY)(),g=(t=a,W.useMemo(()=>(function(e,t){let n={},a=function(e){switch(e){case"kotlin":return s3;case"swift":return s4;default:return s6}}(t),r=function(e){switch(e){case"kotlin":return e=>e.replace(/0x([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})/,"#$2$3$4$1");case"swift":let t=e=>Math.round(255*e).toString(16).padStart(2,"0");return e=>e.replace(s4,(e,...n)=>{let[a,r,l,i,o,s=1]=n;return`#${t(r)}${t(l)}${t(i)}${t(s)}`});default:return e=>e}}(t),l=0,i=(0,s0.UV)(e).replace(a,(e,a)=>e?(n[`${l}`]={highlightedColor:(0,s2.w)(t,a),cssColor:r(a)},e.replace(a,`INTERNALCHITID${l++}_`)):""),o=(0,s2.w)(t,i);return(0,s5.u)(o).split("\n").map((t,a)=>{let r=t.replace(/INTERNALCHITID([0-9]*)_/g,(e,t)=>{let a=n[t];return a?`<span class="chit-container"><span class="token chit" style="background-color: ${a.cssColor}"></span>${a.highlightedColor}</span>`:""});return{...e[a],code:r}})})(t.lines,t.language),[t])),[h,f]=W.useState(l),[v,y]=W.useState(!1),[C,w]=(0,eo.lZ)(ca),b=s&&C;W.useEffect(()=>{f(l)},[_,l]);let T=W.useMemo(()=>h&&a.collapseAfterIndex?g.slice(0,a.collapseAfterIndex):g,[g,a.collapseAfterIndex,h]),x=a.collapseAfterIndex?g.length-a.collapseAfterIndex:0,k=e.codeToCopy||n,N=e.sectionToCopy||a,S=W.useCallback(()=>b?cr(k):(0,s0.UV)(N.lines,!0),[k,N,b]),I=W.useCallback(()=>{let e=S();e&&E(os.ye({stringToCopy:e,ignoreLineBreaks:!1}))},[E,S]),A=lI.S4(lI.Mx(d,"copy"),"click",I),O=W.useCallback(()=>{var e;E(os.ye({stringToCopy:(null==(e=window.getSelection())?void 0:e.toString())||S(),ignoreLineBreaks:!1}))},[E,S]),M=W.useCallback(e=>{e.stopPropagation(),e.preventDefault();let{clientX:t,clientY:n}=e;E(lZ.Qn({type:eR.es,data:{clientX:t,clientY:n,onCopyText:O}}))},[O,E]),P=W.useCallback(e=>{s&&w(e.shiftKey),y(!0)},[w,s]),L=lI.S4(lI.Mx(d,"copy"),"mouseenter",P),D=W.useCallback(e=>{w(!1),y(!1)},[w]),R=W.useCallback(e=>{w(v&&s&&e.shiftKey)},[v,w,s]);W.useEffect(()=>(document.addEventListener("keydown",R),document.addEventListener("keyup",R),()=>{document.removeEventListener("keydown",R),document.removeEventListener("keyup",R)}),[R]);let F=function(e){switch(e){case"Modifier":return(0,ex.t)("inspect_panel.code.modifier");case"Code":return(0,ex.t)("inspect_panel.code.code");case"Style":return(0,ex.t)("inspect_panel.code.style");case"Variables":return(0,ex.t)("inspect_panel.code.variables");case"Layout":return(0,ex.t)("inspect_panel.properties.layout");case"Position":return(0,ex.t)("inspect_panel.code.position");case"Other":return(0,ex.t)("inspect_panel.code.other");case"Typography":return(0,ex.t)("inspect_panel.typography.title");default:return e}}(a.name),B=v||b;return W.createElement(sJ.e_,{hideHeader:!0,padding:i?sJ.CK.DEFAULT:sJ.CK.NONE,noBorder:!0,recordingKey:`code:${a.name}`},W.createElement(cd,{type:p,header:W.createElement(cs,{type:p,muted:a.isTextSegment,actions:W.createElement(W.Fragment,null,m,o&&W.createElement(cl,{onMouseEnter:L,onMouseLeave:D,onClick:A,"data-tooltip-type":n1.wL.TEXT,"data-tooltip":s?(0,ex.t)("inspect_panel.code.copy_all_shift"):"","aria-label":(0,ex.t)("inspect_panel.copy")},W.createElement(sZ.e,{svg:cn.c},W.createElement(sU,null)))),title:F}),content:W.createElement(co,{code:a,lines:T,hideHints:c||B,hasCodeDiff:r,isCopyHighlightActive:B}),shouldShowMore:h&&x>0,showMoreLinesCount:x,onShowMore:()=>f(!1),copyHoverClassName:o&&B?"code_panel--codeWellSelected--tyhKE":void 0,leftGutter:r?function(e,t=!1){return W.createElement("div",{className:q()("code_panel--diffIndicatorColumn--I8lZt code_panel--diffIndicatorBase--F3GaS",{"code_panel--hidden--tLzAD":t})},e.map((e,t)=>W.createElement("div",{className:q()({"code_panel--diffIndicator--yVnUR code_panel--diffIndicatorBase--F3GaS":!0,"code_panel--diffIndicatorAdded--LZbgl code_panel--diffIndicator--yVnUR code_panel--diffIndicatorBase--F3GaS":e.diff===s0.Cw.ADDED,"code_panel--diffIndicatorRemoved--y5BTV code_panel--diffIndicator--yVnUR code_panel--diffIndicatorBase--F3GaS":e.diff===s0.Cw.REMOVED}),key:t},e.diff===s0.Cw.ADDED?"+":e.diff===s0.Cw.REMOVED?"-":null)))}(T,B):W.createElement("div",{className:"code_panel--lineNumbersColumn--MYlJR"},T.map((e,t)=>W.createElement("div",{className:"code_panel--lineNumber--qBF2J code_panels_shared--code--VPQ05",key:t},t+1))),onContextMenu:M,footer:u?W.createElement(cc,{type:p},u):void 0}))}function co({code:e,lines:t,hideHints:n,hasCodeDiff:a,isCopyHighlightActive:r=!1}){let l=({index:l})=>{var i;let o=t[l],s=8*(0,s0.ie)(o).length+16+8,c=W.createElement("span",{style:{display:"inline-block",paddingLeft:s,paddingRight:8,textIndent:-16,flexGrow:1},key:"code",dangerouslySetInnerHTML:{__html:o.code+"\n"},"data-testid":`${e.name}${l}`}),d=o.hint,m=void 0!==d&&d.type===sQ.uw.Tooltip?W.createElement(s1,{hint:function(e){switch(e.id){case sQ.Ut.NoStyleForColor:return(0,ex.t)("dev_handoff.code.hints.color_missing_style");case sQ.Ut.VariableNotResolved:return(0,ex.t)("dev_handoff.code.hints.variable_not_resolved");case sQ.Ut.VariableSuggested:return(0,ex.t)("dev_handoff.variables.inferred_value",{value:e.value});case sQ.Ut.MultipleVariables:return(0,ex.t)("dev_handoff.code.hints.multiple_variables",{value:e.value});case sQ.Ut.AbsolutePosition:return(0,ex.t)("dev_handoff.code.hints.absolute_position",{name:e.name});case sQ.Ut.BordersDontTakeUpSpace:return(0,ex.t)("dev_handoff.code.hints.borders_dont_take_up_space");case sQ.Ut.SinglePaint:return(0,ex.t)("dev_handoff.code.hints.single_paint");case sQ.Ut.UnsupportedPaint:return(0,ex.t)("dev_handoff.code.hints.unsupported_paint");case sQ.Ut.UnsupportedGradientPaint:return(0,ex.t)("dev_handoff.code.hints.unsupported_gradient_paint");case sQ.Ut.LeadingTrim:return(0,ex.t)("dev_handoff.code.hints.leading_trim");case sQ.Ut.BackgroundBlendModePlusLighterDarker:return(0,ex.t)("dev_handoff.code.hints.background_blend_mode_plus_lighter_darker",{value:e.value});case sQ.Ut.PlusDarker:return(0,ex.t)("dev_handoff.code.hints.plus_darker");case sQ.Ut.SwiftUISeparateBorderWidth:return(0,ex.t)("dev_handoff.code.hints.swift_ui_separate_border_width");case sQ.Ut.SwiftUIBlurNoSpread:return(0,ex.t)("dev_handoff.code.hints.swift_ui_blur_no_spread");case sQ.Ut.SwiftUIOnlySingleFillForShapes:return(0,ex.t)("dev_handoff.code.hints.swift_ui_only_single_fill_for_shapes");case sQ.Ut.SwiftUISeparateCornerRadius:return(0,ex.t)("dev_handoff.code.hints.swift_ui_separate_corner_radius");case sQ.Ut.SwiftUISpacersForSpaceBetween:return(0,ex.t)("dev_handoff.code.hints.swift_ui_spacers_for_space_between");case sQ.Ut.ComposeSeparateBorderWidth:return(0,ex.t)("dev_handoff.code.hints.compose_separate_border_width");case sQ.Ut.ComposeShadowIncompatibility:return(0,ex.t)("dev_handoff.code.hints.compose_shadow_incompatibility");case sQ.Ut.ComposeBlurTip:return(0,ex.t)("dev_handoff.code.hints.compose_blur_tip");case sQ.Ut.DisplayP3Fallback:return(0,ex.t)("dev_handoff.code.hints.display_p3_fallback")}}(d),inCodeWell:!0,hidden:n}):null,u=null==(i=e.lines[l])?void 0:i.diff;return W.createElement("div",{key:l,className:q()({"code_panel--line--bGKOg":!0,"code_panel--added--VL9y5":u===s0.Cw.ADDED&&!r,"code_panel--removed--MFSlT":u===s0.Cw.REMOVED&&!r,"code_panel--nonDiffLine--MnQtc":a&&u!==s0.Cw.ADDED&&u!==s0.Cw.REMOVED&&!r,"code_panel--disabled--uXTT4":a&&u===s0.Cw.REMOVED&&r})},c,m)};return W.createElement("code",{className:q()("code_panel--generatedCode--XGoAV code_panels_shared--code--VPQ05",s8.k),"data-lang":e.language,style:{minWidth:"100%",whiteSpace:"normal"}},t.map((e,t)=>l({index:t})))}function cs({title:e,muted:t,actions:n,type:a}){return W.createElement("div",{className:"code_panel--codePanelHeader--lCUOK"},W.createElement("div",{className:q()({"code_panel--codePanelHeaderWrapper--yzBFb":!0,[ce]:"connected"===a,[ct]:"manual"===a})},W.createElement(s$.w1,{className:t?"code_panel--mutedCodePanelTitle--F27k- text--fontPos11--2LvXf text--_fontBase--QdLsd":"code_panel--codePanelTitle--00tOe text--fontPos11--2LvXf text--_fontBase--QdLsd","data-testid":"devHandoffFocusPanelTitle"},e),W.createElement("div",{className:"code_panel--codePanelActions--aWYEs text--fontPos11--2LvXf text--_fontBase--QdLsd"},n)))}function cc({children:e,type:t}){return W.createElement("div",{className:"code_panel--codePanelFooter--NsRyh"},W.createElement("div",{className:q()({"code_panel--codePanelFooterWrapper--hHhIS":!0,[ce]:"connected"===t,[ct]:"manual"===t})},e))}function cd({header:e,content:t,leftGutter:n,footer:a,type:r,shouldShowMore:l,showMoreLinesCount:i,onShowMore:o,onContextMenu:s,copyHoverClassName:c}){let[d,m]=W.useState(null),u=d&&d.value?"code_panel--codeSectionWithScrollBar--TQtKZ code_panel--codeSection--Mb2CO":"code_panel--codeSection--Mb2CO",p=W.useCallback(e=>{m({value:e})},[]),_=!!n,E=!!a,g=W.useRef(null);return W.createElement("div",{className:q()("code_panel--codeSectionContainer--1FOYa")},e,W.createElement("div",{className:q()(s9,c,{[s7]:_,"code_panel--codeWellWithFooter--VMsGl":E,[ce]:"connected"===r,[ct]:"manual"===r})},_&&n,W.createElement("div",{className:"code_panel--codeWellContent--OYA-P"},W.createElement(sz,{onCanScrollChanged:p,className:q()(u),scrollBarAlways:!0,childRef:g},W.createElement("div",{onContextMenu:s,style:{width:"fit-content",minWidth:"100%"},ref:g},t)),l&&W.createElement("div",{className:"code_panel--showMoreContainer--CD0sl"},W.createElement(sq.Y,{label:(0,ex.t)("dev_handoff.code.show_more",{count:i}),onClick:o})))),E&&a)}var cm=n(557948),cu=n(402080),cp=n(399260);let c_="content_panel--textContentSelected--7ms8o",cE={format:()=>(0,ex.t)("inspect_panel.copy_as")};function cg(){let{content:e,numSelected:t,numSelectedByType:n}=(0,el.q)(e=>({content:e.mirror.selectionProperties.nodeText,numSelected:e.mirror.selectionProperties.numSelected,numSelectedByType:e.mirror.selectionProperties.numSelectedByType}));return 1===t&&(null==n?void 0:n.TEXT)===1&&e?W.createElement(cf,{content:e,contentToCopy:e}):null}function ch(e){let{basisContent:t="",changeContent:n=""}=e,a=W.useMemo(()=>(0,cm.uO)(t,n).map(e=>{let t=e.added?"content_panel--addedContent--uOvhd":e.removed?"content_panel--deletedContent--9h3wk":"";return W.createElement("span",{key:e.value,className:t},e.value)}),[t,n]);return W.createElement(cf,{content:W.createElement(W.Fragment,null,a),contentToCopy:n,showVariable:!1})}function cf({content:e,contentToCopy:t,showVariable:n=!0}){let{value:a,eventHandlers:r,isHovered:l}=(0,sJ.iu)(c_,c_),i=(0,Y.OY)(),{Dropdown:o,toggleDropdown:s,dropdownTargetRef:c,isDropdownShown:d}=(0,cu.s)("CONTENT_COPY_DROPDOWN"),m=(0,sJ.G8)("inspection_panel_copy_text_variable"),u=(0,eJ.$O)("TEXT_DATA",{type:eM.Tcd.STRING,resolvedType:eM.y6c.STRING,value:t}),p=u.variableDisplayName,_=!!p&&n,E=(e,t)=>{i(os.ye({stringToCopy:e,ignoreLineBreaks:!1})),m({value:e,valueType:t})},g=[{displayText:(0,ex.t)("inspect_panel.copy_variable_name"),callback:()=>{p&&E(p,"name")}},{displayText:(0,ex.t)("inspect_panel.copy_variable_content"),callback:()=>{E(t,"value")}}],h=_?W.createElement(W.Fragment,null,W.createElement(aZ._8,{ref:c,containerClassName:q()("content_panel--copyDropdown--yV1PF",d&&"content_panel--copyDropdownVisible--SijP0"),formatter:cE,property:null,onClick:s}),W.createElement(o,{items:g,showPoint:!0})):W.createElement("span",{...r,className:"content_panel--copyButton--fESrV blue_link--blueLink--9rlnd",onClick:()=>E(t,"value"),role:"button",tabIndex:0},W.createElement(ex.Tx,{id:"inspect_panel.copy"}));return W.createElement(sJ.e_,{title:(0,ex.t)("inspect_panel.property.content"),hideHeader:!0,padding:sJ.CK.NONE,recordingKey:"content"},W.createElement("div",{className:"content_panel--contentPanel--mOfKM"},W.createElement(sJ.I_,{title:(0,ex.t)("inspect_panel.property.content"),isHovered:l||d,recordingKey:"contentHeader",additionalHeaders:h}),W.createElement("div",{className:"content_panel--contentPanelContents--efLaM text--fontPos11--2LvXf text--_fontBase--QdLsd"},_&&W.createElement(cp.c,{text:p,isInferred:u.isSuggested,disableHover:!0,dataTestId:"textVariableName",tooltip:u.isSuggested?(0,ex.t)("dev_handoff.variables.inferred_text"):t}),W.createElement("div",{className:q()("content_panel--textContent--uGoXz common--well--J0WtH",a),dir:"auto","data-testid":"textContent"},e))))}var cv=n(602216),cy=n(821920),cC=n(108688),cw=n(637016),cb=n(290151);function cT(e){let t=(0,cw.o)();return W.createElement(cx,{dropdownPrefix:e.dropdownPrefix,inspectionModeLayout:e.inspectionModeLayout,preferencesApi:t})}function cx({dropdownPrefix:e,inspectionModeLayout:t="drop-down",preferencesApi:n}){let a=e?`${e}_DEV_HANDOFF_PREFERENCES_DROPDOWN`:"DEV_HANDOFF_PREFERENCES_DROPDOWN",r=e?`${e}_DEV_HANDOFF_LANGUAGE_DROPDOWN`:"DEV_HANDOFF_LANGUAGE_DROPDOWN",l=(0,Y.OY)(),{inspectionMode:i,setInspectionMode:o,supportsAlternativeUnits:s,preferenceOptions:c,preferences:d,codeLanguageApi:m,inspectionModes:u}=n,p=(0,rp.g)(),_=W.useRef(null),E=(null==p?void 0:p.type)===a,g=lQ.kr.getIsExtension(),h=u.includes("code"),f=(g||"code"===i)&&h,v=W.useMemo(()=>u.map(e=>W.createElement(aZ.cb,{key:e,value:e})),[u]),y="ui3"===(0,X.qG)().version;return W.createElement(W.Fragment,null,W.createElement(sJ.e_,{hideHeader:!0,padding:sJ.CK.NONE,noBorder:!0,recordingKey:"preferences"},W.createElement("div",{className:"preferences--preferencesRow--uJxcE"},!g&&("drop-down"===t?W.createElement(aZ.M1,{id:`${e}_dev_handoff_inspection_mode`,property:i,formatter:sI.iR,onChange:o,dispatch:l,dropdownShown:p,className:"preferences--preferencesTitle--Hnoyt",dropdownWidth:y?"120px":"auto"},v):W.createElement(ck,{onTabClick:o,selectedTabKey:i,tabs:u.map(e=>({key:e,label:sI.iR.format(e)})),recordingKey:"preferences-tabs"})),W.createElement("div",{className:"preferences--preferencesRight--UCEaD"},f&&W.createElement(cy.U1,{dropdownId:r,codeLanguageApi:m}),W.createElement("div",{ref:_},W.createElement(av.KM,{svg:cb.c,className:"preferences--preferencesDropdown--n0hD3",onClick:()=>{E?l(lZ.yi()):l(lZ.Qn({type:a}))},"data-tooltip-type":n1.wL.TEXT,"data-tooltip":(0,ex.t)("dev_handoff.inspect_settings"),"data-tooltip-show-above":!0,selected:E,disabled:!f||0===c.length,recordingKey:"preferencesDropdownButton"}))))),E&&_.current&&(0,cv.createPortal)(W.createElement(cC.I,{items:c,onSelectItem:e=>{e.callback&&e.callback("",null,l)},recordingKey:"preferencesDropdown",dispatch:l,parentRect:_.current.getBoundingClientRect(),showPoint:!1,alwaysShowCheckMarkOffset:!0,activatePathOnMount:s?d.unit===eM.Ocq.PIXEL?[c[1].displayText]:[c[2].displayText]:void 0}),document.getElementById("dev-handoff-inspect-panel")))}function ck({tabs:e,onTabClick:t,selectedTabKey:n,recordingKey:a}){return W.createElement("div",{className:q()(ap.cx.flex.flexRow.$,"preferences--preferencesInnerRow--o6o3N")},e.map(e=>W.createElement(lR,{key:e.key,text:e.label,isActive:n===e.key,onClick:()=>t(e.key),recordingKey:lI.Mx(a,e.key)||""})))}var cN=n(73376),cS=n(326020),cI=n(394056),cA=n(534408),cO=n(578272),cM=n(801020),cP=n(196988),cL=n(916924),cD=n(971032),cR=n(89936),cF=n(886684);let cB=class{async generateCode({plugin:e,nodeId:t,handoffLanguage:n,canRunCodegenArgs:a}){var r;let l=n.pluginLanguage;if((0,sS.Y7)(e,l?(0,cF.U)(e,l):null),!(0,n$.Om)(a))throw Error("Not allowed to run codegen");try{return await cR.m.instance.enqueue({runPluginArgs:{plugin:e,command:"generate",queryMode:!1,runMode:"codegen",triggeredFrom:"codegen",openFileKey:(null==(r=Q.x.getState().openFile)?void 0:r.key)||"",isWidget:!1},onStart:async()=>await (0,cD.UN)(t),mode:"run-forever"})??[]}catch(e){console.error(e)}return[]}async maybeTerminatePlugin(e){let t=(0,lO.g$)();if(t)switch(e.type){case"local-plugin":(0,iO.E7)(t)&&e.id===String(t.localFileId)&&((0,cD.gf)(),await (0,lO.qu)());return;case"published-plugin":e.id===t.plugin_id&&((0,cD.gf)(),await (0,lO.qu)());return;case"first-party":return;default:(0,cL.gy)(e)}}};function cU(e){return e.split("\n").map(e=>({code:e,indent:Math.floor(function(e){let t=0;for(let n of e)if(cK[n])t+=cK[n];else break;return t}(e)/2)}))}cB.instance=new cB;let cK={" ":1,"	":2};function cG(e,t){(0,Z.we)("dev_handoff.codegen",{elapsedMs:e,languageType:t.type},{forwardToDatadog:!0})}function cH({selectedNodeID:e,extensionLanguage:t,onFinish:n=aC.Kw,sceneGraph:a,selectedVersion:r,preferences:l,plugin:i}){let o=(0,cP.g)(),s=(0,Y.w1)(e=>e.versionHistory.activeId),c=(0,eo.m4)(cO.z4),d=(0,cS.Y1)(),[{code:m,error:u},p]=W.useState({code:[],error:void 0}),[_,E]=W.useState(!1),g=W.useRef(null),h=(0,cA.Y9)(a),f=(0,Y.w1)(cI.s,rw.QZ);return W.useEffect(()=>{h.rebuildNodeCache()},[h,s,r]),W.useEffect(()=>{let a=!1;return(async()=>{if(!e||e===sN.Q9)return;let r=rx.sr.start("dev_handoff.codegen");if("local-plugin"===t.type||"published-plugin"===t.type){if(i){let l=[],o=null,s=t,c=(0,cF.S)(i).map(({value:e})=>e);c.includes(s.pluginLanguage??"")||(s=d({...s,pluginLanguage:c[0]??""}));try{if(g.current&&(await g.current,a))return;E(!0),l=await cB.instance.generateCode({plugin:i,nodeId:e,handoffLanguage:s,canRunCodegenArgs:f})}catch(e){o=e}finally{a||E(!1)}if(a)return;let m={code:l.map(e=>({name:e.title,lines:cU(e.code),language:function(e){switch(e){case"TYPESCRIPT":return"tsx";case"CPP":return"cpp";case"RUBY":return"ruby";case"CSS":return"css";case"JAVASCRIPT":return"jsx";case"HTML":return"html";case"JSON":return"json";case"GRAPHQL":return"graphql";case"PYTHON":return"python";case"GO":return"go";case"SQL":return"sql";case"SWIFT":return"swift";case"KOTLIN":return"kotlin";case"RUST":return"rust";case"BASH":return"bash";case"PLAINTEXT":return"plaintext";case"DART":return"dart"}}(e.language)})),error:o};p(m),n(m.code),cG(r.stop(),s),cM.uH(l.map(e=>({code:e.code,language:e.language})))}return}let{code:o,error:s}=await h.runExtension({selectedNodeId:e,codegenPluginID:t.id,preferences:l,canRunCodegenArgs:f});a||(p({code:o,error:s}),n(o),cG(r.stop(),t))})(),()=>{a=!0}},[n,e,o,t,l,i,s,d,a,c,r,h,f]),W.useEffect(()=>()=>{g.current=cB.instance.maybeTerminatePlugin(t)},[t]),{code:m,error:u,isLoading:_&&"first-party"!==t.type}}var cV=n(195428),cW=n(840748);let cY="compare_changes_right_panel--sidePanel--wHvM4";function cj(e){let{header:t,changedKeys:n,oldValueMap:a,newValueMap:r}=e,l=(0,Y.OY)(),i=new cN.UL,o=e=>e&&"Variables"===t?i.format(e):e;return W.createElement("div",{className:"compare_changes_right_panel--propertiesTable--eA09s"},t&&W.createElement(sJ.Ky,{title:t}),n.map(e=>{var t,n,i,s;return W.createElement(sJ.sn,{key:e,name:o((null==(t=a[e])?void 0:t.displayName)||(null==(n=r[e])?void 0:n.displayName)),basis:{value:(null==(i=a[e])?void 0:i.displayValue)||(0,ex.t)("collaboration.branching_node_treatments.value.empty_dash"),onClick:()=>{var t;return(0,cW.KG)(null==(t=a[e])?void 0:t.displayValue,l)}},change:{value:(null==(s=r[e])?void 0:s.displayValue)||(0,ex.t)("collaboration.branching_node_treatments.value.empty_dash"),onClick:()=>{var t;return(0,cW.KG)(null==(t=r[e])?void 0:t.displayValue,l)}}})}))}function cX({layerChangeNodeId:e,layerBasisNodeId:t,layerChangeSceneGraph:n,layerBasisSceneGraph:a,selectedVersion:r,displayableChanges:l,preferencesApi:i}){let o=(0,sC.ct)(),s=(null==a?void 0:a.get(t??""))??o.get(t??""),c=(null==n?void 0:n.get(e??""))??o.get(e??""),d=(null==s?void 0:s.type)==="TEXT"||(null==c?void 0:c.type)==="TEXT",m=!t||t===sN.Q9,u=!e||e===sN.Q9,p=m?(0,ex.t)("dev_handoff.compare_changes.banner.added_layer"):(0,ex.t)("dev_handoff.compare_changes.banner.removed_layer"),_="code"===i.inspectionMode,{setInspectionMode:E}=i,g=(0,W.useCallback)(()=>{E("properties")},[E]);return W.createElement("div",{className:cY},(m||u)&&W.createElement("div",{className:"compare_changes_right_panel--banner--lsWBi"},W.createElement(sF.E,{dataTestId:"cc-code-panel-banner",color:m?sF.q.INFORMATION:sF.q.ERROR,text:p})),W.createElement(cx,{dropdownPrefix:"COMPARE_CHANGES",inspectionModeLayout:"tabs",preferencesApi:i}),W.createElement("div",{className:"compare_changes_right_panel--dividerBottom--FmR5V"}),W.createElement(nK.f,{key:`${e}-${t}`},_?W.createElement(cq,{layerChangeNodeId:e,layerBasisNodeId:t,layerChangeSceneGraph:n,layerBasisSceneGraph:a,selectedVersion:r,key:`${e||""}-${t||""}`,preferences:i.preferences,codeLanguage:i.codeLanguageApi.codeLanguage,plugin:i.codeLanguageApi.activeCodegenPlugin,onSwitchToPropertiesMode:g}):l&&!m&&!u&&W.createElement(cz,{displayableChanges:l,layerBasisNodeId:t,layerChangeNodeId:e}),d?W.createElement(ch,{basisContent:null==s?void 0:s.characters,changeContent:null==c?void 0:c.characters}):null))}function cz({displayableChanges:e,layerChangeNodeId:t,layerBasisNodeId:n}){var a;let r=(0,Y.OY)(),l=null==(a=(0,cV.Uh)(e,e=>(0,sN.MR)(e.basis.guid)===n||(0,sN.MR)(e.change.guid)===t))?void 0:a.changesToDisplay;if(!l)return null;let i=l.filter(e=>"textData"!==e.identifier),o=i.filter(e=>"lego-table"!==e.oldValue()),s=i.filter(e=>"lego-table"===e.oldValue());return i&&i.length>0?W.createElement(W.Fragment,null,o.length>0&&W.createElement("div",{className:"compare_changes_right_panel--propertiesTableCompareChanges--NnOU6"},o.map(e=>{let t=e.oldValue(),n=e.newValue();return W.createElement(sJ.sn,{name:e.name(),basis:{value:t,onClick:()=>(0,cW.KG)(t,r)},change:{value:n,onClick:()=>(0,cW.KG)(n,r)}})})),s.map(e=>e.newValue())):null}let cq=W.memo(({layerChangeNodeId:e,layerBasisNodeId:t,layerChangeSceneGraph:n,layerBasisSceneGraph:a,selectedVersion:r,codeLanguage:l,preferences:i,plugin:o,onSwitchToPropertiesMode:s})=>{let{code:c,codeToCopy:d,hasDiffs:m}=function({layerChangeNodeId:e,layerBasisNodeId:t,layerChangeSceneGraph:n,layerBasisSceneGraph:a,selectedVersion:r,codeLanguage:l,preferences:i,plugin:o}){let s=W.useMemo(()=>l.id===eS.Ml&&"first-party"===l.type?{id:cA.qm.CSS,type:"first-party"}:l,[l]);return function({codeForBasisNode:e,codeForChangeNode:t}){let n=performance.now(),a={};t.code.forEach(t=>{let n=e.code.find(e=>e.name===t.name);a[t.name]={changed:t,basis:n||{...t,lines:[]}}}),e.code.forEach(e=>{a[e.name]||(a[e.name]={changed:{...e,lines:[]},basis:e})});let r=Object.values(a).map(e=>(function(e,t){let n=e.lines.map(e=>e.code).join("\n"),a=t.lines.map(e=>e.code).join("\n"),r=(0,cm.gl)(a,n),l=0,i=0,o=[];return r.forEach(n=>{let a=n.count??0;for(let r=0;r<a;r++){let a;n.added?(a={...e.lines[l],diff:s0.Cw.ADDED},l++):(n.removed?a={...t.lines[i],diff:s0.Cw.REMOVED}:(a=e.lines[l],l++),i++),o.push(a)}}),{...e,lines:o}})(e.changed,e.basis)),l=r.some(e=>e.lines.some(e=>void 0!==e.diff)),i=performance.now();return(0,Z.we)("dev_mode.compare_changes.diffing",{type:"code",durationMs:Math.trunc(i-n)},{forwardToDatadog:!0}),{code:r,codeToCopy:t.code,hasDiffs:l}}({codeForBasisNode:cH({selectedNodeID:t??void 0,extensionLanguage:s,sceneGraph:a,selectedVersion:r,preferences:i,plugin:o}),codeForChangeNode:cH({selectedNodeID:e??void 0,extensionLanguage:s,sceneGraph:n,preferences:i,plugin:o})})}({selectedVersion:r,layerChangeNodeId:e,layerBasisNodeId:t,layerChangeSceneGraph:n,layerBasisSceneGraph:a,codeLanguage:l,plugin:o,preferences:i});return W.createElement("div",{className:ap.cx.pb8.$},!m&&W.createElement("div",{className:ap.cx.pt16.pl16.pr16.pb8.$},W.createElement(sF.E,{color:sF.q.PLAIN,text:W.createElement(W.Fragment,null,W.createElement("p",null,(0,ex.t)("dev_handoff.compare_changes.banner.no_changes")),W.createElement("div",{className:"compare_changes_right_panel--bannerLink--pPJYo",onClick:s,role:"button",tabIndex:0},(0,ex.t)("dev_handoff.compare_changes.banner.no_changes_link")))})),c.map(e=>{let t=d.find(t=>t.name===e.name);return e.lines.length>0?W.createElement("div",{className:"compare_changes_right_panel--codeWellWrapper--IIgCk",key:e.name},W.createElement(ci,{code:c,codeToCopy:d,section:e,sectionToCopy:t,collapseLongSections:!1,copyActionEnabled:!!t,hasCodeDiff:!0,hideHints:!0,recordingKey:lI.Mx("styles_code_panel",e.name)})):null}))});function cZ({text:e}){return W.createElement("div",{className:cY},W.createElement("div",{className:"compare_changes_right_panel--selectLayerText--bQQTr text--fontPos11--2LvXf text--_fontBase--QdLsd"},e))}var cQ=n(533060),cJ=n(540168),c$=n(750220),c0=n(16780),c1=n(283236),c2=n(366612),c5=n(241896);let c3="overlay_highlight--added--28SgH",c4="overlay_highlight--removed--9BsT-",c6="overlay_highlight--edited---lnVX",c8="overlay_highlight--interactive--f4-mM",c9="overlay_highlight--invisible--GGcha",c7=(0,nF.qe)("2px"),de=(0,nF.qe)("1px"),dt=(0,nF.qe)("8px"),dn=(0,nF.qe)("16px"),da=(0,W.createContext)(null);function dr({children:e,value:t}){return W.createElement(da.Provider,{value:t},e)}let dl=W.memo(function({node:e,rect:t,borderStyle:n,borderSize:a,renderTag:r,renderOverlay:l,tagValue:i,interactive:o,invisible:s,onBoxClicked:c,onBoxHovered:d,recordingKey:m}){let u=e.value,p=1===a?de:c7,_=!!i,E=_?dn:dt,g=_&&i>99,h=_&&(i>99?"99+":i),f=(0,W.useCallback)(t=>{t.stopPropagation(),null==c||c(e)},[c,e]),v=lI.S4(m,"click",f),y=(0,W.useCallback)(()=>{null==d||d(u)},[u,d]),C=(0,W.useCallback)(()=>{null==d||d(null)},[d]);return W.createElement(W.Fragment,null,W.createElement("div",{role:"button",tabIndex:0,className:q()("overlay_highlight--highlight--x-16k",{"overlay_highlight--thin--t8yeW":1===a,"overlay_highlight--dashed--Z34AW":0===n,"overlay_highlight--solid--XkPFI":1===n,"overlay_highlight--none--poZGj":2===n,[c3]:"added"===u.state,[c4]:"removed"===u.state,[c6]:"changed"===u.state,[c8]:o,[c9]:s}),style:{transform:`translate(${t.x-p}px, ${t.y-p}px)`,width:t.width,height:t.height},onMouseEnter:y,onMouseLeave:C,onClick:v},l&&W.createElement("div",{className:"overlay_highlight--highlightOverlay--QsoQT"})),r&&u.state&&W.createElement("div",null,W.createElement("span",{onClick:v,onMouseEnter:y,onMouseLeave:C,tabIndex:0,role:"button","data-preferred-theme":"added"!==u.state?"light":"dark",className:q()("overlay_highlight--actionTag--osNjG",{[c3]:"added"===u.state,[c4]:"removed"===u.state,[c6]:"changed"===u.state,"overlay_highlight--large--DPhJK":_,"overlay_highlight--wideText--lXSz9":g,[c8]:o,[c9]:s}),style:{transform:`translate(${t.x-E/2-de}px, ${t.y-E/2-de}px)`}},h)))});var di=((g=di||{})[g.DASHED=0]="DASHED",g[g.SOLID=1]="SOLID",g[g.NONE=2]="NONE",g),ds=((h=ds||{})[h.WIDE=0]="WIDE",h[h.THIN=1]="THIN",h);let dc=e=>e.beforeNodeId+":"+e.afterNodeId,dd=e=>!e.parent&&!e.value,dm=e=>{var t;return!e.parent||dd(e.parent)||!!(null==(t=e.parent.value)?void 0:t.isRootFrame)},du=e=>e.descendantsCount>0?e.descendantsCount:void 0,dp=e=>{var t,n;return e.value&&!e.value.isSelected&&!!(null==(n=null==(t=e.parent)?void 0:t.value)?void 0:n.directParentToSelection)},d_=(e,t,n)=>{if(!e.value)return!1;let a=e.value;return!t||a.isSelected||a.ancestorOfSelectedNode||n||dm(e)||dp(e)},dE=(e,t)=>{let n=e.transformRect(new c2.Y(new c5.C(t.x,t.y),new c5.C(t.width,t.height)));return{x:n.left(),y:n.top(),width:n.width(),height:n.height()}},dg=(e,t)=>{var n;return t&&t===(null==(n=e.value)?void 0:n.state)};function dh({node:e,onBoxClicked:t,onBoxHovered:n,selectedNodeId:a,expandedLayers:r,transform:l,ignoreState:i,interactive:o,hoveredNodeIdAtom:s,recordingKey:c}){var d,m;let u=dd(e),p=dg(e,i),_=!!(e.value&&e.value.isSelected),E=(0,W.useMemo)(()=>(0,nT.Zf)(t=>{let n=t(s);return!!(e.value&&dv(e.value,n))}),[e,s]),g=(0,eo.m4)(E),h=!p&&((null==(d=e.value)?void 0:d.ancestorOfSelectedNode)||_||!!(null==(m=e.value)?void 0:m.isRootFrame)||u),f=!!a&&a!==sN.Q9,v=(0,W.useMemo)(()=>{var t,n;if((0,cV.Q1)(e)&&e.value.rect){let a=e.value,r=e.value.rect,i=dm(e),s=dp(e),c=!!(null==(n=null==(t=e.parent)?void 0:t.value)?void 0:n.isSelected),d=_?1:g||s||c||a.ancestorOfSelectedNode||i&&!a.ancestorOfSelectedNode?0:2,m=_||g?0:1,u=!_&&!h&&(c||g||i&&!f),E=g&&!_&&!h,v=dE(l,r),y=o&&(g||_);if(!p)return{rect:v,renderTag:u,borderStyle:d,borderSize:m,renderOverlay:E,tagValue:du(a),invisible:y,node:e}}},[e,f,h,_,l,g,o,p]);return W.createElement(W.Fragment,null,v&&W.createElement(dl,{key:(dc(v.node.value),"inactive"),recordingKey:lI.Mx(c,dc(v.node.value)),isSelected:_,interactive:o,node:v.node,invisible:v.invisible,rect:v.rect,renderTag:v.renderTag,borderStyle:v.borderStyle,borderSize:v.borderSize,renderOverlay:v.renderOverlay,tagValue:v.tagValue,onBoxClicked:t,onBoxHovered:n}),h&&e.children&&e.children.map(d=>{var m;return d.value&&d_(d,f,!!(null==(m=e.value)?void 0:m.isSelected))&&W.createElement(dh,{onBoxClicked:t,onBoxHovered:n,key:dc(d.value),node:d,selectedNodeId:a,expandedLayers:r,transform:l,ignoreState:i,interactive:o,hoveredNodeIdAtom:s,recordingKey:c})}))}let df=({box:e,isSelected:t})=>({...e,ancestorOfSelectedNode:!1,directParentToSelection:!1,isSelected:t,descendantsCount:0}),dv=(e,t)=>!!t&&t!==sN.Q9&&!!e&&(t===e.afterNodeId||t===e.beforeNodeId),dy=(e,t)=>!!t&&t!==sN.Q9&&!!e&&(t===e.afterNodeId||t===e.beforeNodeId);function dC(e){let{rootBox:t,expandedLayers:n,selectedNodeId:a,transform:r,ignoreState:l,hoveredNodeIdAtom:i,recordingKey:o}=e,s=(0,eo.m4)(i),c=(0,W.useMemo)(()=>{if(!t||!s)return;let e=(0,cV.Uh)(t,e=>dv(e,s)&&!dy(e,a));return e&&{value:e,children:void 0}},[t,s,a]),d=(0,W.useMemo)(()=>{if(!t||!a)return;let e=(0,cV.Uh)(t,e=>dy(e,a));return e&&{value:e,children:void 0}},[t,a]);return W.createElement(W.Fragment,null,d&&W.createElement(dh,{node:d,selectedNodeId:a,expandedLayers:n,transform:r,ignoreState:l,interactive:!1,hoveredNodeIdAtom:i,recordingKey:o}),c&&W.createElement(dh,{node:c,selectedNodeId:a,expandedLayers:n,transform:r,ignoreState:l,interactive:!1,hoveredNodeIdAtom:i,recordingKey:o}))}let dw=W.memo(function(e){let{rootBox:t,expandedLayers:n,onBoxClicked:a,onBoxHovered:r,selectedNodeId:l,transform:i,ignoreState:o,interactive:s,hoveredNodeIdAtom:c,recordingKey:d}=e,m=(0,W.useMemo)(()=>t?function e(t,n,a,r){var l;let i=!!t.value&&(t.value.afterNodeId===n||t.value.beforeNodeId===n),o={parent:r,value:t.value?df({box:t.value,isSelected:i}):void 0};return o.children=t.children?null==(l=t.children)?void 0:l.map(t=>{var r,l;let i=e(t,n,a,o);return i.value&&(!a||i.value.state!==a)&&o.value&&(o.value.descendantsCount+=i.value.descendantsCount+1),(null==(r=i.value)?void 0:r.ancestorOfSelectedNode)&&o.value&&(o.value.ancestorOfSelectedNode=!0),(null==(l=i.value)?void 0:l.isSelected)&&o.value&&(o.value.directParentToSelection=!0,o.value.ancestorOfSelectedNode=!0),i}):void 0,o}(t,l,o):void 0,[t,l,o]),u=(0,W.useRef)(void 0),p=(0,W.useCallback)(e=>{u.current=e},[]),_=(0,W.useCallback)(()=>{void 0!==u.current&&(null==r||r(u.current),u.current=void 0)},[r]);return W.createElement("div",{className:"overlay_highlight--overlayContainer--XMr11",role:"group",onMouseMove:_},s&&m&&W.createElement(dh,{node:m,onBoxClicked:a,onBoxHovered:p,selectedNodeId:l,expandedLayers:n,transform:i,ignoreState:o,interactive:!0,hoveredNodeIdAtom:c,recordingKey:lI.Mx(d,"overlays","highlight")}),W.createElement(dC,{rootBox:m,expandedLayers:n,selectedNodeId:l,transform:i,ignoreState:o,hoveredNodeIdAtom:c,recordingKey:lI.Mx(d,"overlays","highlight","hovered-or-selected")}))});function db(e){let t=(0,W.useContext)(da);return t?W.createElement(dw,{...e,...t}):null}var dT=n(900904);let dx=[2,3,6,13,25,50,75,100,200,300,1e3];function dk(e,t,n){if(!n)return!1;let a=t.get((0,sN.MR)(e));if(!a)return!1;let r=a.absoluteBoundingBox;return!!r&&r.x<n.x+n.w&&r.x+r.w>n.x&&r.y<n.y+n.h&&r.y+r.h>n.y}function dN(e,t){return{x:e.x-t.x,y:e.y-t.y,width:e.w,height:e.h}}function dS(e,t,n=!1){if(!t)return null;let a=e.get(t);return a?n?a.absoluteRenderBounds:a.absoluteBoundingBox:null}function dI(e){var t,n;return null!=(t=null==e?void 0:e.basis)&&!!t.styleType||null!=(n=null==e?void 0:e.change)&&!!n.styleType}function dA(e,t,n){var a;let r=(null==(a=null==e?void 0:e.basis)?void 0:a.guid)?(0,sN.MR)(e.basis.guid):sN.Q9,l=dI(e)?null:dS(t.scene,r,!1),i=(null==e?void 0:e.change.guid)?(0,sN.MR)(e.change.guid):sN.Q9,o=(null==e?void 0:e.state)==="removed"||dI(e)?null:dS(n.scene,i,!1);return{before:{id:r,box:l&&t.baseBox?dN(l,t.baseBox):null},after:{id:i,box:o&&n.baseBox?dN(o,n.baseBox):null}}}function dO({frameId:e,historyFrameId:t,historySceneGraph:n,chunkChanges:a,discreteDiffing:r,setChunkChanges:l}){let i=(0,sC.ct)(),[o,s]=(0,eo.lZ)(sO.z),c=W.useMemo(()=>r?eM.GqY.getLayerGUIDMapping(t,n.scene,e,i.scene):void 0,[r,e,t,n.scene,i.scene]);return W.useEffect(()=>{if(a)return;let o=eM.cHn.getNodeTree(t,n.scene,!r),d=eM.cHn.getNodeTree(e,i.scene,!r);if(!o||!d){s(new Map),l({});return}rx.sr.reset("dev_mode.compare_changes.diffing",t),rx.sr.start("dev_mode.compare_changes.diffing",{key:t});let{deltaTree:m,deltaNodeMap:u}=function(e,t,n,a,r,l,i=!0){let o;let s=new Map,c=sT.O.decodeMessage(e.nodeChanges).nodeChanges,d=sT.O.decodeMessage(t.nodeChanges).nodeChanges;if(!c||!d)return{deltaTree:{},deltaNodeMap:s};let m=new Map,u=0;!function e(t){if(u>=c.length)return(0,tO.oP)(l9._.DEVELOPER_TOOLS,Error("History node index out of bounds")),null;for(let n of(m.set(t.id,{change:c[u],node:t}),u++,t.children))e(n)}(e.tree);let p=i?n.get((0,sN.MR)(d[0].guid)):null,_=c[0]&&i?a.get((0,sN.MR)(c[0].guid)):null,E=(null==p?void 0:p.absoluteBoundingBox)||null,g=(null==_?void 0:_.absoluteBoundingBox)||null;function h(e,t,n){s.set(e,t.value),(0,cV.OM)(n,t)}let f=0,v=function e(t,o={}){var c,u,p;let _,v;if(f>=d.length)return(0,tO.oP)(l9._.DEVELOPER_TOOLS,Error("Node index out of bounds")),{};let y=d[f],C=0===f;f++;let w=l?l.get(t.id)??sN.Q9:t.id,b=m.get(w),T={previousChange:null==b?void 0:b.change,currentChange:y,isRootNode:C};if(b){let e=function(e,t,n,a,r){var l,i,o,s;let c=new Map;for(let[d,m]of cJ.A3){let u=null,p=null;if((0,sR.yC)(d)&&(e[d]&&(u=(0,sN.MR)(e[d])),t[d]&&(p=(0,sN.MR)(t[d]))),(0,sR.Wm)(d)&&(e[d]&&e[d].guid&&(u=(0,sN.MR)(e[d].guid)),t[d]&&t[d].guid&&(p=(0,sN.MR)(t[d].guid))),u||p){let _=function(e,t){if(t){if("inheritFillStyleIDForStroke"===d){e.strokePaints=t.fillPaints;return}for(let n of m)e[n]=t[n]}},E=p?null==(l=eM.cHn.getNodeTree(p,a.scene,r))?void 0:l.nodeChanges:null,g=u?null==(i=eM.cHn.getNodeTree(u,n.scene,r))?void 0:i.nodeChanges:null,h=E?null==(o=sT.O.decodeMessage(E).nodeChanges)?void 0:o[0]:null,f=g?null==(s=sT.O.decodeMessage(g).nodeChanges)?void 0:s[0]:null;if(_(t,h),_(e,f),h&&!f)c.set(d,{state:"removed",previousChange:h,currentChange:{phase:"REMOVED"}});else if(!h&&f)c.set(d,{state:"added",previousChange:{phase:"REMOVED"},currentChange:f});else if(h&&f){for(let e of["name",...m])if(!(0,rw.aY)(h[e],f[e])){c.set(d,{state:"changed",previousChange:h,currentChange:f});break}}}}return c}(y,null==b?void 0:b.change,n,a,r);for(let e of cJ.Ks)if(!(0,rw.aY)(b.change[e],y[e])&&("textData"!==e||(null==(c=b.change[e])?void 0:c.characters)!==(null==(u=y[e])?void 0:u.characters))){if("transform"===e&&C||i&&!dk(b.change.guid,a,E)&&!dk(y.guid,n,E))continue;T.state="changed";break}e.size>0&&(T.changedStyles=e)}else(!i||dk(y.guid,n,E))&&(T.state="added");for(let n of(y.guid&&(T.state||T.changedStyles)&&(v={value:T}),_=v||o,v&&h((0,sN.MR)(y.guid),v,o),t.children.forEach(t=>e(t,_)),(null==(p=null==b?void 0:b.node)?void 0:p.children)||[]))m.has(n.id)&&function({checkOverlap:e,parent:t,nodeId:n}){var r;let l=m.get(n);if(e&&!dk(null==l?void 0:l.change.guid,a,g))return;let i={value:{state:"removed",previousChange:null==l?void 0:l.change,currentChange:{phase:"REMOVED"}}};s.has((0,sN.MR)(null==(r=m.get(n))?void 0:r.change.guid))&&(0,tO.oP)(l9._.DEVELOPER_TOOLS,Error("Error generating deleted nodes"));let o=(0,sN.MR)(null==l?void 0:l.change.guid);h(o,i,t),m.delete(o)}({checkOverlap:i,nodeId:n.id,parent:_});return m.delete(w),o}(t.tree);if(!v.value&&v.children&&1===v.children.length){let e=v.children[0];delete e.parent,o=e}else o=v;return{deltaTree:o,deltaNodeMap:s}}(o,d,i,n,!r,c,!0);s(u),l((0,cV.Sm)(m,function(e){let t=e.value,n=null,a=t.state;return("added"===t.state||"changed"===t.state)&&(n={isRootNode:!!t.isRootNode,basis:t.previousChange?t.previousChange:{phase:"REMOVED"},change:t.currentChange,state:a}),"removed"===t.state&&t.previousChange&&(n={isRootNode:!!t.isRootNode,basis:t.previousChange,change:{phase:"REMOVED"},state:a}),t.changedStyles&&(n||(n={isRootNode:!!t.isRootNode,basis:t.previousChange,change:t.currentChange,state:a}),n.changedStyles=t.changedStyles),{result:n}}));let p=rx.sr.tryStop("dev_mode.compare_changes.diffing",t);p&&(0,Z.we)("dev_mode.compare_changes.diffing",{type:"node_changes",durationMs:p},{forwardToDatadog:!0})},[e,s,a,l,t,n.scene,i.scene,c,n,i,r]),W.useEffect(()=>()=>{s(new Map)},[s]),null}function dM(e,t,n){let a=Q.x.getState().selectedView;t(lZ.Ej({...a,compareChangesVersionId:e,filterStatusVersions:n}))}function dP(e,t){var n;if(e.isState){let t=null==(n=e.parentNode)?void 0:n.name;return t?`${t}/${e.name}`:e.name}if(t.singleBackingSymbol&&t.singleBackingStateGroup){let n=t.singleBackingSymbol.name;return n?`${e.name}/${n}`:e.name}return e.name}function dL(e){return{node:(0,eA.cN)(e),backingSymbolData:(0,c0.Y)([e])}}function dD({nodeId:e,detachedComponentsScene:t,documentIndex:n,showError:a}){var r;let l=n===sL.o1?sL._w.HISTORY:t?sL._w.DETACHED:sL._w.CURRENT,i=(null==(r=new sL.TSSceneGraph(l).get(e))?void 0:r.absoluteRenderBounds)||{x:0,y:0,w:0,h:0},o=0,s=!0;return()=>({nodeBounds:{x:i.x,y:i.y,width:i.w,height:i.h},getImage:({scale:a,clipRect:r})=>{var i;let c;let d=Date.now();d-o>1e4&&(o=d,(c=new sw.QD("performance.dev_mode.compare_changes.get_image",{})).start());let m=(0,c1.w9)(e,n,t,a,r);if(c){let e=c.stop(),t=(null==(i=null==m?void 0:m.image)?void 0:i.length)??0;e&&t&&(0,Z.we)("performance.dev_mode.compare_changes.get_image",{elapsedMs:e,imageBytes:t,sceneType:l,isFirstImage:s},{forwardToDatadog:!0})}return s=!1,m&&{data:m.image,width:m.width,height:m.height,scale:m.width/m.canvasSpaceBounds.width,canvasSpaceBounds:m.canvasSpaceBounds}},showError:a})}function dR({version:e,isSection:t}){let n=new Date(e.touched_at?e.touched_at:e.created_at),a=e.label;e.frameCreated?a=t?W.createElement(ex.Tx,{id:"collaboration.feedback.compare_changes_modal.section_created"}):W.createElement(ex.Tx,{id:"collaboration.feedback.compare_changes_modal.frame_created"}):e.lastViewed&&(a=W.createElement(ex.Tx,{id:"collaboration.feedback.compare_changes_modal.last_viewed_by_you"}));let r=a?W.createElement(ar.Hj,{time:n}):null;return W.createElement("div",{className:dT._g},W.createElement("div",{className:dT.m4},a||W.createElement(ar.Hj,{time:n})),W.createElement("div",{className:dT.iS},r))}let dF=(0,nT.Zf)(null);function dB(e){var t,n;let{nodeId:a,onCloseModal:r,modalTitle:l,currentImage:i,historicImage:o,historicHeader:s,currentHeader:c,versions:d,selectedVersion:m,setSelectedVersion:u,renderLoadingBar:p,modalError:_,discreteDiffingInput:E,initialSelectedNodeId:g,origin:h}=e,f=(0,Y.OY)(),v=(0,t$.K0)(),y=null==(t=(0,t1.C2)())?void 0:t.id,[C,w]=W.useState(sx.Uv.SIDE_BY_SIDE),[b,T]=W.useState(cW.g9),[x,k]=W.useState(!0),[N,S]=W.useState(null),[I,A]=W.useState(null),[O,M]=W.useState(!0),[P,L]=W.useState(!0),D=null==(n=(0,sv.a_)())?void 0:n.isSection,[R,F]=W.useState(()=>g?{id:g,zoomToSelection:!0}:null),[B,U]=(0,eo.lZ)(dF),[K,G]=W.useState(void 0),H=(0,eo.lZ)(sk.ED)[1],V=(0,cW.QH)(m||null,a)||!!E,j=W.useMemo(()=>(null==E?void 0:E.sceneGraph)?E.sceneGraph:new sL.TSSceneGraph(sL._w.HISTORY),[null==E?void 0:E.sceneGraph]);W.useEffect(()=>{R&&R.id!==a&&(0,Z.we)("Diff Modal New Layer Selected",{userId:y,fileKey:v,frameId:a,versionId:null==m?void 0:m.id,layer_id:R.id})},[R]);let X=W.useRef(m);W.useEffect(()=>{X.current!==m&&(X.current=m,G(void 0),F(null))},[m,X]);let z=void 0!==i,Q=void 0!==o,J=W.useCallback(e=>{"Escape"===e.key&&(R?(F(null),e.stopPropagation(),e.preventDefault()):r())},[r,R]);W.useEffect(()=>(document.addEventListener("keydown",J),()=>{document.removeEventListener("keydown",J)}),[f,J]),W.useEffect(()=>{if("cc_versions"===h&&K&&!P){(0,cV.MJ)(K)?(0,Z.we)("Diff Modal No Changes Between Versions",{userId:y,fileKey:v,frameId:a,versionId:null==m?void 0:m.id,initialVersion:O,versionMetadata:!1},{forwardToDatadog:!0}):(0,Z.we)("dev_mode.compare_changes.version_has_changes",{userId:y,fileKey:v,frameId:a,versionId:null==m?void 0:m.id,initialVersion:O,versionMetadata:!1},{forwardToDatadog:!0});let e=rx.sr.tryStop("dev_mode.compare_changes.switch_versions",null==m?void 0:m.id);e&&(0,Z.we)("dev_mode.compare_changes.switch_versions",{elapsedMs:e},{forwardToDatadog:!0})}},[h,O,P,K,m,a,v,y]),W.useEffect(()=>{m&&null===o&&(0,Z.we)("dev_mode.compare_changes.no_image",{userId:y,fileKey:v,frameId:a,versionId:null==m?void 0:m.id},{forwardToDatadog:!0})},[o,m,a,v,y]);let ee=()=>W.createElement(sx.Ix,{isPreviewAvailable:z,showOptions:z,view:C,onSideBySideClick:()=>{w(sx.Uv.SIDE_BY_SIDE)},onOverlayClick:()=>{w(sx.Uv.OVERLAY)},additionalStyles:dT.ui}),[et,en]=W.useState(new Set),ea=W.useCallback((e,t)=>{t?en(t=>new Set([...t,...e])):en(t=>{let n=new Set(e);return new Set([...t].filter(e=>!n.has(e)))})},[en]),er=(0,W.useCallback)(e=>{let t=null==e?void 0:e.value;if(t){let n="removed"===t.state?t.beforeNodeId:t.afterNodeId;F({id:n,zoomToSelection:!1}),S(t.beforeNodeId),A(t.afterNodeId);let a=[n],r=null==e?void 0:e.parent;for(;r;){let e=r.value;if(e){let t="removed"===e.state?e.beforeNodeId:e.afterNodeId;a.push(t)}r=r.parent}ea(a,!0)}else F(null),S(null),A(null)},[ea]),el=(0,W.useCallback)(e=>{e?U("removed"===e.state?e.beforeNodeId:e.afterNodeId):U(sN.Q9)},[U]),ei=(0,W.useCallback)(e=>U(e),[U]),es=(0,W.useCallback)((e,t)=>{e===(null==R?void 0:R.id)?(F(null),S(null),A(null)):(F({id:e,zoomToSelection:!0}),U(e),S((0,sN.MR)(t.basis.guid)),A((0,sN.MR)(t.change.guid)))},[null==R?void 0:R.id,U]),ec=(0,W.useMemo)(()=>K&&(0,cQ.qu)(K,cJ.m2.LEGO,void 0,cj)||{},[K]),ed=!(0,cV.MJ)(ec),em=E?E.nodeId:a,{beforeBoxes:eu,afterBoxes:ep}=function(e){let{frameId:t,historyFrameId:n,view:a,displayableChanges:r,historySceneGraph:l}=e;return(0,W.useMemo)(()=>{if(!t||!n)return{};let e=function(e,t,n,a){let r=new sL.TSSceneGraph,l=dS(t,n,!0),i=dS(r,e,!0);return(0,cV.Sm)(a,e=>{let n=dA(e.value,{scene:t,baseBox:l},{scene:r,baseBox:i});return{result:{beforeBox:n.before.box,afterBox:n.after.box,afterBoxNodeId:n.after.id,beforeBoxNodeId:n.before.id}}})}(t,l,n,r);return{beforeBoxes:(0,cV.Sm)(e,e=>{let a=e.value,r=a.beforeBoxNodeId===n||a.afterBoxNodeId===t;return a.afterBox?a.beforeBox?{result:{rect:a.beforeBox,beforeNodeId:a.beforeBoxNodeId,afterNodeId:a.afterBoxNodeId,state:"changed",isRootFrame:r}}:{result:{rect:a.afterBox,beforeNodeId:a.beforeBoxNodeId,afterNodeId:a.afterBoxNodeId,state:"added",isRootFrame:r}}:{result:{rect:a.beforeBox,beforeNodeId:a.beforeBoxNodeId,afterNodeId:a.afterBoxNodeId,state:"removed",isRootFrame:r}}}),afterBoxes:(0,cV.Sm)(e,e=>{let a=e.value,r=a.beforeBoxNodeId===n||a.afterBoxNodeId===t;return a.afterBox?a.beforeBox?{result:{rect:a.afterBox,beforeNodeId:a.beforeBoxNodeId,afterNodeId:a.afterBoxNodeId,state:"changed",isRootFrame:r}}:{result:{rect:a.afterBox,beforeNodeId:a.beforeBoxNodeId,afterNodeId:a.afterBoxNodeId,state:"added",isRootFrame:r}}:{result:{rect:a.beforeBox,beforeNodeId:a.beforeBoxNodeId,afterNodeId:a.afterBoxNodeId,state:"removed",isRootFrame:r}}})}},[t,n,a,r])}({frameId:a,historyFrameId:em,historySceneGraph:j,view:C,displayableChanges:ec,activeNode:B,selectedNode:R});W.useEffect(()=>{if(!(null==R?void 0:R.id)||!(null==R?void 0:R.zoomToSelection)||!a||!em)return;let{baseBeforeBox:e,baseAfterBox:t,resultBoxes:n}=function(e,t,n,a,r){let l=new sL.TSSceneGraph,i=dS(t,n,!0),o=dS(l,e,!0),s=[];for(let e of a){let n=(0,cV.Uh)(r,t=>(0,sN.MR)(t.change.guid)===e||(0,sN.MR)(t.basis.guid)===e);if(n){let e=dA(n,{scene:t,baseBox:i},{scene:l,baseBox:o});s.push({beforeBox:e.before.box,afterBox:e.after.box,beforeBoxNodeId:e.before.id,afterBoxNodeId:e.after.id})}}return{baseBeforeBox:i,baseAfterBox:o,resultBoxes:s}}(a,j,em,[R.id],ec),{beforeBox:r,afterBox:l}=n[0]??{},i=1/0,o=1/0,s=-1/0,c=-1/0;r&&e&&(r.x-=e.w/2,r.y-=e.h/2,i=Math.min(i,r.x),o=Math.min(o,r.y),s=Math.max(s,r.x+r.width),c=Math.max(c,r.y+r.height)),l&&t&&(l.x-=t.w/2,l.y-=t.h/2,i=Math.min(i,l.x),o=Math.min(o,l.y),s=Math.max(s,l.x+l.width),c=Math.max(c,l.y+l.height)),i!==1/0&&H({x:i,y:o,width:s-i,height:c-o})},[R,H,a,ec]),W.useEffect(()=>()=>{H(void 0)},[H]);let e_=eu?{rootBox:eu,onBoxClicked:er,onBoxHovered:el,selectedNodeId:null==R?void 0:R.id,expandedLayers:et,ignoreState:"added",interactive:C===sx.Uv.SIDE_BY_SIDE,hoveredNodeIdAtom:dF,recordingKey:"before"}:null,eE=ep?{rootBox:ep,onBoxClicked:er,onBoxHovered:el,selectedNodeId:null==R?void 0:R.id,expandedLayers:et,ignoreState:"removed",interactive:C===sx.Uv.SIDE_BY_SIDE,hoveredNodeIdAtom:dF,recordingKey:"after"}:null,eg=!p&&!_;return W.createElement(cW.wJ,{title:l,onClose:r},W.createElement("div",{className:dT.kh},W.createElement("div",{className:dT.um},p&&!_&&W.createElement("div",{className:dT.ee},W.createElement(c$.O,{hasLoadedDiffs:!1})),eg&&W.createElement("div",{className:dT.QX},(d||ed)&&W.createElement("div",{className:q()(dT.IV,"devHandoffLeftPanel")},u&&W.createElement("div",{className:dT.OQ},W.createElement("div",{className:q()(dT.MX)},W.createElement(ex.Tx,{id:"collaboration.feedback.compare_changes_modal.history"}),(0,$.Ub)().dt_compare_changes_debug_helpers&&W.createElement(dK,{fileKey:v,setSelectedVersion:u})),W.createElement(ar.q,{versions:d||[],selectedVersion:m,setVersion:e=>{e.id!==(null==m?void 0:m.id)&&(0,Z.we)("Diff Modal Selected Version Changed",{userId:y,fileKey:v,frameId:a,versionId:e.id}),rx.sr.reset("dev_mode.compare_changes.switch_versions",e.id),rx.sr.start("dev_mode.compare_changes.switch_versions",{key:e.id}),L(!0),O&&M(!1),u(e)}})),W.createElement(cQ.ak,{changesToDisplay:ec,selectedNode:null==R?void 0:R.id,expandedLayers:et,setLayerExpanded:ea,onHover:ei,onClick:es})),W.createElement("div",{className:dT.wH},C===sx.Uv.SIDE_BY_SIDE&&W.createElement("div",{className:dT.yG},W.createElement("div",{className:dT.OK},s?W.createElement("div",{className:dT.eY},W.createElement("div",{className:dT.MB},s)):m&&W.createElement(dR,{version:m,isSection:D})),W.createElement("div",{className:dT.wh}),W.createElement("div",{className:dT.OK},c?W.createElement("div",{className:dT.eY},W.createElement("div",{className:dT.MB},c)):W.createElement("div",{className:dT.eY},W.createElement(ex.Tx,{id:"collaboration.feedback.compare_changes_modal.current_image_header"})))),C===sx.Uv.SIDE_BY_SIDE&&W.createElement("div",{className:dT.cl},W.createElement(sx.i2,{zoomPercentageOptions:dx,resetStateOnChangeValue:a,compareThumbnailSource:cJ.m2.LEGO,zoomOnMousePointer:!0},W.createElement("div",{className:dT.C8},Q?W.createElement(dr,{value:e_},W.createElement(cW.ik,{image:o,view:C,Overlay:db})):W.createElement(cW.wb,null),W.createElement("div",{className:dT.wt}),z?W.createElement(dr,{value:eE},W.createElement(cW.ik,{image:i,view:C,Overlay:db})):W.createElement(cW.wb,null)),z&&ee())),C===sx.Uv.OVERLAY&&W.createElement("div",{className:dT.cl},W.createElement(sx.g3,{zoomPercentageOptions:dx,resetStateOnChangeValue:a,zoomOnMousePointer:!0},W.createElement("div",{className:dT.sn},Q?W.createElement(dr,{value:e_},W.createElement(cW.ik,{image:o,view:C,hideNoImageText:!0,Overlay:db})):W.createElement(cW.wb,null),x&&(z?W.createElement(dr,{value:eE},W.createElement(cW.ik,{image:i,view:C,hideNoImageText:!0,opacity:b,Overlay:db})):W.createElement(cW.wb,null))),z&&W.createElement(sx.Wy,{opacity:b,isAfterImageShown:x,onToggleClick:()=>k(!x),onOpacityChange:e=>T(e.a)}),z&&ee())),V&&a&&em&&W.createElement(dO,{frameId:a,historyFrameId:em,historySceneGraph:j,chunkChanges:K,discreteDiffing:!!E,setChunkChanges:e=>{L(!1),G(e)}}))),_&&W.createElement("div",{className:dT.CS},W.createElement(ex.Tx,{id:"collaboration.feedback.compare_changes_modal.error"})),W.createElement("div",null)),eg&&(V?K&&(0,cV.MJ)(K)?W.createElement(cZ,{text:(0,ex.t)("collaboration.feedback.compare_changes_modal.no_changes")}):W.createElement(dU,{layerChangeNodeId:I,layerBasisNodeId:N,layerBasisSceneGraph:j,selectedVersion:m||void 0,displayableChanges:ec,showSelectLayerHint:!R}):W.createElement(cZ,{text:""}))))}function dU({layerChangeNodeId:e,layerBasisNodeId:t,layerBasisSceneGraph:n,selectedVersion:a,displayableChanges:r,showSelectLayerHint:l}){let i=function(){let[e]=(0,sI.sB)(),[t,n]=(0,W.useState)(e),a=(0,eS.oJ)(),[r,l]=(0,W.useState)({...a}),i=(0,eO.Wk)(r),o=(0,sS.qu)(r,i),s=(0,W.useCallback)(e=>{n(e),(0,Z.we)("dev_mode.compare_changes.change_inspection_mode",{mode:e})},[]);(0,W.useLayoutEffect)(()=>{"first-party"!==r.type&&(l(eS.oH[eS.Ml]),"properties"!==t&&n("properties"))},[r,t]);let c=(0,Y.w1)(e=>e.mirror.appModel.devHandoffPreferences),[d,m]=(0,W.useState)({...c}),u=(0,eO.mM)(r),p=(0,W.useMemo)(()=>{var e;return(null==(e=d.codeExtensionPreferences)?void 0:e[r.id])??{}},[d,r]),_=(0,W.useMemo)(()=>{let e=[];if(!o)return e;let t=(null==p?void 0:p.unit)||eM.Ocq.PIXEL;return e.push({displayText:(0,ex.t)("dev_handoff.alternative_units.dimension_unit"),header:!0},...sS.gT.map(e=>{let n=e===eM.Ocq.PIXEL?(0,ex.t)("dev_handoff.alternative_units.pixel_unit"):u;return{name:e.toString(),displayText:n,isChecked:t===e,callback:()=>{var t;m({...d,codeExtensionPreferences:{...d.codeExtensionPreferences,[r.id]:{...(null==(t=d.codeExtensionPreferences)?void 0:t[r.id])||{},unit:e}}})},recordingKey:e===eM.Ocq.PIXEL?"pixel":"scaled"}})),e},[o,d,p,u,r]),E=(0,eS.OC)(r),g=(0,eS.U4)(E),h=(0,sA.k)({codeLanguage:r,onChange:l,shouldHideLanguagesWithNoAltUnitSupport:!1,onlyShowFirstPartyLanguages:!0,formatter:g}),f={codeLanguage:r,codeLanguageOptions:h,activeCodegenPlugin:E,formatter:g,onCodeLanguageChange:aC.Kw},v=(0,sI.uu)();return{inspectionMode:v.find(e=>e===t)||v[0],setInspectionMode:s,supportsAlternativeUnits:o,preferenceOptions:_,preferences:p,codeLanguageApi:f,inspectionModes:v}}();return l?W.createElement(cZ,{text:(0,ex.t)("collaboration.feedback.compare_changes_modal.select_a_layer")}):W.createElement(cX,{layerChangeNodeId:e,layerBasisNodeId:t,layerBasisSceneGraph:n,selectedVersion:a,displayableChanges:r,preferencesApi:i})}function dK({fileKey:e,setSelectedVersion:t}){let n=(0,W.useRef)(null),[a,r]=(0,W.useState)("Upload local file");return W.createElement("label",{className:dT.W0},a,W.createElement("input",{style:{display:"none"},ref:n,type:"file",accept:".fig",onChange:async()=>{var a,l;let i=null==(l=null==(a=n.current)?void 0:a.files)?void 0:l[0];if(i&&sM.a){let n=await (0,sP.au)(Q.x,(0,$.Ub)(),sM.a,i),a=Q.x.getState().mirror.appModel.currentPage,l=`${e}-${a}-debug`;sD.sN.set(l,Promise.resolve({key:l,canvas:n.bytes})),r(i.name),t({id:"debug"})}}}))}let dG=(0,lo.U9)(function(e){var t;let{nodeId:n,layerName:a}=e,r=(0,Y.OY)(),l=(0,Y.w1)(e=>"fullscreen"===e.selectedView.view?e.selectedView.editorType:null),{Sprig:i}=(0,sb.c)(),o=(0,t$.K0)(),s=null==(t=(0,s_.eG)())?void 0:t.toISOString(),c=(0,eo.lZ)(sO.z)[1],{versions:d,versionsQueryLoaded:m}=(0,cW.SA)(n),u=(0,Y.w1)(e=>e.selectedView.compareChangesVersionId??null),p=(0,W.useMemo)(()=>u?d.find(e=>e.id===u)??null:null,[d,u]),_=W.useCallback(e=>{e||(w(void 0),dM(e,r,!1)),e!==u&&(w(void 0),function(e,t){let n=Q.x.getState().selectedView;t(lZ.Ej({...n,compareChangesVersionId:e}))}(e,r))},[r,u]),[E,g]=(0,eo.lZ)(sD.gr),[h,f]=W.useState(!0),[v,y]=W.useState(!1),[C,w]=W.useState(void 0),b=void 0!==C,[T,x]=W.useState(void 0),k=void 0!==T,N=(0,cW.QH)(p,n);W.useEffect(()=>{if(!h||!b||!k||!m)return;f(!1);let e=rx.sr.tryStop("dev_handoff.view_history",n);e&&(0,Z.we)("dev_handoff.view_history",{elapsedMs:e,origin:"cc_versions"},{forwardToDatadog:!0}),i("track","open_compare_changes",{origin:"cc_versions"})},[i,h,b,k,m,n]);let S=(0,Y.w1)(e=>{var t;return(null==(t=e.modalShown)?void 0:t.type)===dG.type});W.useEffect(()=>{var e;if(S&&m&&!p){if(0===d.length){w(null),_(void 0);return}if(s){for(let e of d)if(e.lastViewed){_(null==e?void 0:e.id);return}}_(null==(e=d[0])?void 0:e.id)}},[S,s,p,_,d,m]),W.useEffect(()=>{var e;if(N||!p)return;let t=performance.now();null==(e=(0,sD.Mp)(p,n))||e.then(({canvas:e,key:n})=>{let a=performance.now();if(n===E)return;if(!eM.i46.loadPartialHistoryScene(e))throw Error("Error loading history canvas");g(n);let r=performance.now();(0,Z.we)("version_diffing_performance_metrics",{name:"historic_nodes_load_time",fileKey:o,fetchBytesDurationMs:Math.trunc(a-t),loadNodesDurationMs:Math.trunc(r-a),canvasBytesLength:e.byteLength,fetchMode:"node",entrypoint:"lego_layer"})}).catch(e=>{(0,tO.oP)(l9._.DEVELOPER_TOOLS,Error(`Error fetching history canvas: ${e}`)),(0,sD._S)(p),y(!0)})},[N,p,E,g,l,o,n]),W.useEffect(()=>{let e=setTimeout(()=>{if(!N){w(void 0);return}w(dD({nodeId:n,documentIndex:sL.o1,showError:()=>{w(null)}}))},cW.OF);return()=>clearTimeout(e)},[n,p,N]),W.useEffect(()=>{let e=setTimeout(()=>{let e=()=>{x(void 0),(0,tO.oP)(l9._.DEVELOPER_TOOLS,Error("Current image loading error")),y(!0)},t=dD({nodeId:n,showError:e});if(!t){e();return}x(t)},cW.OF);return()=>clearTimeout(e)},[n]);let I=W.useCallback(()=>{c(new Map),_(void 0),r(ts.oN())},[c,_,r]);return W.createElement(dB,{nodeId:n,onCloseModal:I,modalTitle:a?W.createElement(ex.Tx,{id:"collaboration.feedback.compare_changes_modal.layer_name_header",layerName:a}):W.createElement(ex.Tx,{id:"collaboration.feedback.compare_changes_modal.header"}),currentImage:T,historicImage:C,versions:d,selectedVersion:p,setSelectedVersion:e=>{_(e.id)},renderLoadingBar:h,modalError:v,origin:"cc_versions"})},"LegoCompareChangesVersionsModal",lo.Ou.YES),dH=(0,lo.U9)(function(e){let{nodeId:t,detachedInfoStatus:n,origin:a}=e,r=(0,Y.OY)(),{Sprig:l}=(0,sb.c)(),[i,o]=W.useState(!0),[s,c]=W.useState(!1),[d,m]=W.useState(void 0),[u,p]=W.useState(void 0),_=void 0!==d,E=void 0!==u,g="loaded"===n.status,h=g?n.result:void 0;W.useEffect(()=>{if(!i||!_||!E||!g)return;o(!1);let e=rx.sr.tryStop("dev_handoff.view_history",t);e&&(0,Z.we)("dev_handoff.view_history",{elapsedMs:e,origin:a},{forwardToDatadog:!0}),l("track","open_compare_changes",{origin:"cc_detached_component"})},[l,i,_,E,t,g,a]),W.useEffect(()=>{let e=setTimeout(()=>{if(!g||!(null==h?void 0:h.dataComponentId)){m(void 0);return}m(dD({nodeId:null==h?void 0:h.dataComponentId,detachedComponentsScene:(null==h?void 0:h.dataLocation)==="temp-scene",showError:()=>{m(null)}}))},cW.OF);return()=>clearTimeout(e)},[g,h]),W.useEffect(()=>{let e=setTimeout(()=>{let e=()=>{p(void 0),c(!0)},n=dD({nodeId:t,showError:e});if(!n){e();return}p(n)},cW.OF);return()=>clearTimeout(e)},[t]);let f=W.useCallback(()=>{r(ts.oN())},[r]),v=W.createElement(ex.Tx,{id:"collaboration.feedback.compare_changes_modal.header"}),y=W.createElement(ex.Tx,{id:"inspect_panel.node_type.main_component"}),C={nodeId:(null==h?void 0:h.dataComponentId)??sN.Q9,sceneGraph:new sL.TSSceneGraph((null==h?void 0:h.dataLocation)==="temp-scene"?sL._w.DETACHED:sL._w.CURRENT)};return W.createElement(dB,{nodeId:t,onCloseModal:f,modalTitle:v,currentImage:u,historicImage:d,historicHeader:y,renderLoadingBar:i,modalError:s,discreteDiffingInput:C})},"LegoCompareChangesDetachedModal",lo.Ou.YES),dV=(0,lo.U9)(function(e){let{changeNodeId:t,basisNodeId:n,initialSelectedNodeId:a,isComparingOverrides:r=!1}=e,l=(0,Y.OY)(),{Sprig:i}=(0,sb.c)(),o=dL(t),s=dL(n),[c,d]=W.useState(!1),[m,u]=W.useState(void 0),[p,_]=W.useState(void 0),E=void 0!==m,g=void 0!==p;W.useEffect(()=>{if(!E||!g)return;let e=rx.sr.tryStop("dev_handoff.view_history",t),n=r?"cc_overrides":"cc_nodes";e&&(0,Z.we)("dev_handoff.view_history",{elapsedMs:e,origin:n},{forwardToDatadog:!0}),i("track","open_compare_changes",{origin:n})},[i,r,E,g,t]),W.useEffect(()=>{u(dD({nodeId:n,showError:()=>u(null)}))},[n]),W.useEffect(()=>{let e=()=>{_(void 0),d(!0)},n=dD({nodeId:t,showError:e});if(!n){e();return}_(n)},[t]);let h=W.useCallback(()=>{l(ts.oN())},[l]),f=W.createElement(ex.Tx,{id:"collaboration.feedback.compare_changes_modal.header"}),v={nodeId:n,sceneGraph:new sL.TSSceneGraph(sL._w.CURRENT)};return o.node&&s.node?W.createElement(dB,{nodeId:t,onCloseModal:h,modalTitle:f,currentImage:p,historicImage:m,currentHeader:dP(o.node,o.backingSymbolData),historicHeader:dP(s.node,s.backingSymbolData),renderLoadingBar:!1,modalError:c,discreteDiffingInput:v,initialSelectedNodeId:a}):null},"LegoCompareChangesForNodesModal",lo.Ou.YES);var dW=n(15416);function dY(e){let t=(0,sf.k3)(),n=(0,sv.a_)(),a=(0,Y.OY)(),r=(0,rH.qM)();return W.useCallback(()=>{n&&"loaded"===t.status&&(r("Diff Modal Compare Changes Clicked",{nodeId:n.id,origin:"cc_detached_component"}),rx.sr.reset("dev_handoff.view_history",n.id),rx.sr.start("dev_handoff.view_history",{key:n.id}),a(ts.A5({type:dH,data:{nodeId:n.id,detachedInfoStatus:t,origin:e}})))},[e,t,a,n,r])}function dj(e,t){var n;let a=null==(n=(0,t1.C2)())?void 0:n.id,r=(0,sv.I1)(),l=(0,sv.uE)(r),i=(0,t$.K0)(),o=(0,Y.OY)(),s=(0,eo.m4)(sy),c=(0,sC.ct)();return W.useCallback(()=>{if(rx.sr.reset("dev_handoff.view_history",e||void 0),rx.sr.start("dev_handoff.view_history",{key:e||void 0}),(0,Z.we)("Diff Modal Compare Changes Clicked",{userId:a,fileKey:i,frameId:e,entrypoint:"lego_layer",analyticsEventOrigin:t}),e){let t=(0,s_.m8)(c,e,!0);if(t){let n=t.lastEditedAt;s[e]=new Date(n),eo.qM.set(sy,{...s})}}o(ts.A5({type:dG,data:{nodeId:e,layerName:l}}))},[t,o,i,e,l,c,s,a])}var dX=n(46604),dz=n(241932);function dq(e=!1,t,n){let a=(0,eA.wB)(),{singleBackingSymbol:r,singleBackingStateGroup:l}=(0,c0.Y)([n??a??""]),{backingSymbol:i,backingStateGroup:o}=(0,sf.qG)(r,l),s=(0,sf.k3)(),c=(0,dz.u2)(),d=(0,Y.w1)(t$.AX),m=(0,Y.OY)(),u="loaded"===s.status?s.result:void 0,p=(0,iH.YH)(i),_=u&&u.isExternal?u.fileKey:p&&p!==d?p:d,E=null==c?void 0:c.guid,g=_!==d,h=e&&o?o:i,f=u?u.nodeId:g?null==h?void 0:h.publishID:null==h?void 0:h.guid,v=!!a&&E!==f;return f&&v&&_?()=>{if(t&&t(),g){let e=(0,iH.AD)(_,f);m(dX.Eh({url:e}))}else eM.i46.goToSymbolOrStateGroupById(f,!0)}:null}var dZ=n(507076);function dQ(e,t){let n;let a=new Set;if(e.forEach(e=>{let t=dJ(e);t&&a.add(t)}),0===a.size)return null;let r=Array.from(a).sort(d$).map(e=>{switch(e){case"color":return(0,ex.t)("dev_handoff.overrides.color");case"border":return(0,ex.t)("dev_handoff.overrides.border");case"text":return(0,ex.t)("dev_handoff.overrides.text");case"effect":return(0,ex.t)("dev_handoff.overrides.effect");case"layout":return(0,ex.t)("dev_handoff.overrides.layout");case"shape":return(0,ex.t)("dev_handoff.overrides.shape");case"style":return(0,ex.t)("dev_handoff.overrides.style")}});switch(r.length){case 1:n=r[0];break;case 2:n=W.createElement(ex.Tx,{id:"dev_handoff.overrides.properties2",prop1:r[0],prop2:r[1]});break;case 3:n=W.createElement(ex.Tx,{id:"dev_handoff.overrides.properties3",prop1:r[0],prop2:r[1],prop3:r[2]});break;default:n=W.createElement(ex.Tx,{id:"dev_handoff.overrides.properties_more",prop1:r[0],prop2:r[1],prop3:r[2],count:r.length-3})}return W.createElement(ex.Tx,{id:"dev_handoff.overrides.hint",layerType:t?W.createElement(ex.Tx,{id:"dev_handoff.overrides.instance"}):W.createElement(ex.Tx,{id:"dev_handoff.overrides.layer"}),properties:n})}let dJ=e=>e.includes("prototype")||e.includes("user")||e.includes("prop")?null:e.includes("stroke")||e.includes("border")||e.includes("corner")?"border":e.includes("fill")||e.includes("background")?"color":e.includes("text")||e.includes("font")||e.includes("paragraph")||e.includes("ot-features")||"letter-spacing"===e||"line-height"===e?"text":e.includes("effect")?"effect":e.includes("size")||e.includes("stack")?"layout":"count"===e||e.includes("vector")?"shape":"opacity"===e||"visible"===e||"blend-mode"===e?"style":null;function d$(e,t){return d0.indexOf(e)-d0.indexOf(t)}let d0=["color","border","text","effect","layout","shape","style"];function d1({marginTop:e}){let t=(0,dZ.A9)("overrides");return!t||(0,nQ.Er)(t)?null:W.createElement(d2,{overriddenProperties:t.overriddenProperties,instanceGuid:t.instanceGuid,isPrimary:t.isPrimary,marginTop:e})}function d2({overriddenProperties:e,instanceGuid:t,isPrimary:n,marginTop:a}){let r=dq(!1,aC.Kw,t),l=dQ(e,n);return l&&r?W.createElement("div",{className:q()({[ap.cx.mt8.$]:a}),style:{alignSelf:"stretch"}},W.createElement(sF.E,{color:sF.q.FIGJAM,text:l})):null}var d5=n(848688),d3=n(859264);let d4=(0,lo.U9)(function(){let e=(0,Y.OY)();return W.createElement(nO.Co,{destructive:!0,confirmationTitle:W.createElement(ex.Tx,{id:"inspect_panel.detached_component.remove_attachment"}),confirmText:W.createElement(ex.Tx,{id:"dev_handoff.detached_component.remove_attachment_confirm"}),onConfirm:()=>{d3.Qb.get("remove-detached-symbol-id","menu")()},dispatch:e},W.createElement("p",null,W.createElement(ex.Tx,{id:"dev_handoff.detached_component.remove_attachment_text_body"})))},"RemoveDetachmentStatusModal");var d6=n(154968);let d8="header--panelContainer---mpIY",d9="header--panelBodyContainer--XY807",d7="header--layerNameContainer--dvSc4",me="header--openInVsCode--zgmuY",mt="header--layerRowContainer--qqv5Y",mn="header--layerNameRow--tsuuh header--layerRowContainer--qqv5Y",ma="header--layerNameRowCentered--FK8Z6 header--layerNameRow--tsuuh header--layerRowContainer--qqv5Y",mr="header--layerRowSpacer--qrODv",ml="header--layerName--s4pA8 text--fontPos13--xW8hS text--_fontBase--QdLsd ellipsis--ellipsis--Tjyfa",mi="header--layerIcon--uDEQt header--icon--IGzM0",mo="header--layerIconSymbol--irpWG header--icon--IGzM0",ms="header--layerType--vaDds text--fontPos11--2LvXf text--_fontBase--QdLsd",mc="header--layerTypeSymbol--cMeH3 text--fontPos11--2LvXf text--_fontBase--QdLsd",md="header--layerCompareLinkNoTimestamp--FnSP9",mm="header--layerCompareLinkText--frP7M",mu="header--layerCompareLinkTextGreen--vrlX5",mp="header--timestamp--zWQD3 text--fontPos11--2LvXf text--_fontBase--QdLsd ellipsis--ellipsis--Tjyfa",m_="header--dropdownContainer--4czE1",mE="header--chevron--0Wf28",mg="header--chevronActive--sp6Xw";var mh=n(851540),mf=n(529204),mv=n(95760),my=n(603376),mC=n(687184),mw=n(557696),mb=n(884792);function mT(){let e=(0,Y.OY)(),t=(0,sf.k3)(),n=(0,d5.cH)(),{Dropdown:a,dropdownTargetRef:r,toggleDropdown:l,isDropdownShown:i}=(0,cu.s)("DEV_HANDOFF_DETACHED_COMPONENT_DROPDOWN"),o=[{displayText:(0,ex.t)("inspect_panel.detached_component.remove_attachment"),disabled:n,callback:()=>{e(ts.A5({type:d4}))}},{displayText:(0,ex.t)("inspect_panel.detached_component.compare_to_source"),disabled:"loaded"!==t.status,callback:dY("cc_detached_component")}];return W.createElement(W.Fragment,null,W.createElement(rA.g9,{className:m_,forwardedRef:r,onClick:l},W.createElement(ex.Tx,{id:"inspect_panel.node_type.detached_component"}),W.createElement(eN.A,{className:i?mg:mE,svg:mh.c})),W.createElement(a,{items:o,showPoint:!1}))}function mx({state:e,backgroundState:t}){return W.createElement("div",{className:"dev_handoff_nodes_panel--historyIconContainer--QkDx6"},W.createElement(sg._,{className:q()("dev_handoff_nodes_panel--historyIcon--dprKz"),svg:mv.c}),e===s_.Ws.RECENTLY_EDITED&&W.createElement("div",{className:q()("dev_handoff_nodes_panel--editedDot--8NIiF",{"dev_handoff_nodes_panel--editedDotSelected--95Nsq":"selected"===t,"dev_handoff_nodes_panel--editedDotHover--P8nA3":"hovered"===t})}))}function mk({frameId:e,label:t,disabled:n,compareVersions:a,compareDetachedComponent:r,compareOverrides:l}){let i=(0,e7.U9)(),o=!n&&i,s=dj(e,"cc_versions"),c=dY("cc_dropdown_detached_component"),d=(0,dZ.A9)("overrides"),m=function(e){let t=(0,dW.QH)(),n=(0,eA.cN)(e),{singleBackingSymbol:a}=(0,c0.Y)([e??""]),r=(0,Y.OY)();return W.useCallback(()=>{n&&a&&(rx.sr.reset("dev_handoff.view_history",n.guid),rx.sr.start("dev_handoff.view_history",{key:n.guid}),(0,Z.we)("Diff Modal Compare Changes Clicked",{nodeId:n.guid,mainComponentNodeId:a.guid,origin:"cc_overrides"}),r(ts.A5({type:dV,data:{changeNodeId:n.guid,basisNodeId:a.guid,initialSelectedNodeId:(null==t?void 0:t.guid)&&(null==t?void 0:t.guid)!==n.guid?t.guid:void 0,isComparingOverrides:!0}})))},[r,t,n,a])}(d&&!(0,nQ.Er)(d)?d.instanceGuid:null),{Dropdown:u,dropdownTargetRef:p,toggleDropdown:_,isDropdownShown:E}=(0,cu.s)("DEV_HANDOFF_COMPARE_CHANGES_DROPDOWN"),g=W.useMemo(()=>({displayText:(0,ex.t)("dev_handoff.compare_changes.entrypoint.compare_versions"),disabled:n||!i||!a,callback:i?s:aC.Kw,recordingKey:"compareChanges.entrypoint.dropdown.compareVersions"}),[a,n,i,s]),h=W.useMemo(()=>r?{displayText:(0,ex.t)("dev_handoff.compare_changes.entrypoint.compare_main_component"),disabled:n||!i,callback:i?c:aC.Kw,recordingKey:"compareChanges.entrypoint.dropdown.compareDetachedComponent"}:null,[r,n,i,c]),f=W.useMemo(()=>l?{displayText:(0,ex.t)("dev_handoff.compare_changes.entrypoint.compare_main_component"),disabled:n||!i,callback:i?m:aC.Kw,recordingKey:"compareChanges.entrypoint.dropdown.compareOverrides"}:null,[l,n,i,m]),v=W.useMemo(()=>[g,h,f,{separator:!0,displayText:""},{displayText:(0,ex.t)("dev_handoff.compare_changes.entrypoint.multiselect_comparison_hint"),icon:W.createElement(eN.A,{className:ap.cx.mt4.mr8.minW16.itemSelfStart.colorTextMenuSecondary.colorIconMenuSecondary.$,width:"16px",height:"16px",svg:mw.c}),displayTextClassname:"header--multilineText--iK4P2",disabled:!0}].filter(aM.aI),[g,h,f]);return o?W.createElement(W.Fragment,null,W.createElement(rA.g9,{className:m_,forwardedRef:p,onClick:_,recordingKey:"compareChanges.entrypoint"},W.createElement("div",{className:q()(mm,lv,mu),"data-testid":"compare-changes-entry-with-dropdown"},t),W.createElement(eN.A,{className:E?mg:mE,svg:mh.c})),W.createElement(u,{rootAndSubmenuMaxWidth:240,items:v,showPoint:!1,recordingKey:"compareChanges.entrypoint.dropdown"})):W.createElement("div",{className:q()(mm,lv,{"header--layerCompareLinkTextDisabled----eEQ":n}),"data-tooltip-type":n1.wL.TEXT,"data-tooltip":(0,ex.t)("dev_handoff.compare_changes.entrypoint.multiselect_comparison_hint"),"data-testid":"compare-changes-entry-without-dropdown"},t)}function mN({label:e}){var t;let n=(0,e7.U9)(),a=null==(t=(0,t1.C2)())?void 0:t.id,r=(0,dW._k)(),l=(0,t$.K0)(),i=(0,Y.OY)();if((null==r?void 0:r.length)!==2)return null;let o=r[1],s=r[0];return W.createElement(eT.qe,{defaultClass:md,onClick:()=>{n&&((0,Z.we)("Diff Modal Compare Changes Clicked",{userId:a,fileKey:l,nodeId:o,otherNodeId:s,entrypoint:"lego_layer",origin:"cc_nodes"}),rx.sr.reset("dev_handoff.view_history",o),rx.sr.start("dev_handoff.view_history",{key:o}),i(ts.A5({type:dV,data:{changeNodeId:o,basisNodeId:s}})))},disabled:!n,recordingKey:"compareChanges.entrypoint.nodes"},W.createElement("span",{className:q()(mm,lv,mu)},e))}function mS(e,t=""){let{backingSymbolName:n}=e,a=(null==t?void 0:t.trim())||(0,ex.t)("fullscreen.layer_panel.layer"),r=!(null==t?void 0:t.trim());return W.createElement("span",{className:q()({"header--fallbackLayerName--mPaXg":r})},n&&n!==t?W.createElement(ex.Tx,{id:"inspect_panel.components.name",instance:a,component:W.createElement("span",{className:"header--backingSymbolName--get70"},"(",n.trim(),")")}):a)}function mI(){let e=(0,e7.U9)(),t=(0,t$.AL)(),n=(0,t0.c$)(),{Dropdown:a,toggleDropdown:r,dropdownTargetRef:l,isDropdownShown:i}=(0,cu.s)("INSPECT_PANEL_HEADER_DROPDOWN");if(!e)return null;let o=[{displayText:(0,ex.t)("dev_handoff.inspect_panel.open_in_vs_code.link"),callback:function(){t&&"fullscreen"===n.view&&n.nodeId&&(window.location.href=`vscode://figma.figma-vscode-extension/open/${t.key}/${t.name}/${n.nodeId}`)},icon:W.createElement("div",{className:"header--optionsDropdownIcon--sWjMu"},W.createElement(d6.i,null))}];return W.createElement(W.Fragment,null,W.createElement("div",{ref:l},W.createElement(av.KM,{svg:ok.c,onMouseDown:e=>e.stopPropagation(),onClick:r,"data-tooltip-type":n1.wL.TEXT,"data-tooltip":(0,ex.t)("dev_handoff.code.options"),selected:i})),W.createElement(a,{items:o,showPoint:!0}))}function mA(){return(0,sh.n)()?W.createElement(eT.wX,{className:"header--buttonRow--xsQ9n",onClick:()=>tA.CA.triggerAction("add-selection-ready-status")},W.createElement(eN.A,{svg:mb.c,className:"header--readySectionsIcon--yANgI"}),W.createElement(ex.Tx,{id:"fullscreen_actions.ready-status-add"})):null}function mO(){let e=(0,eA.cC)();return e?W.createElement(sJ.e_,{hideHeader:!0,padding:sJ.CK.NONE,noBorder:!0,recordingKey:"layerName"},W.createElement("div",{className:d8},W.createElement("div",{className:d9},W.createElement("div",{className:d7},W.createElement("div",{className:mn},W.createElement("div",{className:ml},W.createElement(ex.Tx,{id:"inspect_panel.property.mixed"}))),W.createElement("div",{className:mt},W.createElement("span",{className:ms},W.createElement(ex.Tx,{id:"inspect_panel.property.selected",numberOfItems:e.length})),W.createElement("div",{className:mr}),W.createElement(mN,{label:(0,ex.t)("inspect_panel.history.compare_changes")})))))):null}function mM({lastViewTimestamp:e,isDetached:t}){let n=(0,sv.a_)(),a=(0,s_.Mp)(null==n?void 0:n.id),r=(0,eo.m4)(sy),l=(0,s_.kB)(null==n?void 0:n.id,e,r),i=(0,dZ.A9)("overrides"),o=W.useMemo(()=>!!(i&&!(0,nQ.Er)(i)&&null!==dQ(i.overriddenProperties,!0)),[i]),{versions:s,versionsQueryLoaded:c}=(0,cW.SA)(null==n?void 0:n.id),d=!c||0===s.length||!a,m=(0,sh.e)(n);if(!n||!m)return null;let u=!!(null==a?void 0:a.lastEditedAt)&&(!d||d&&!!(null==a?void 0:a.createdAt)),p=t||!d||o;return W.createElement("div",{className:lv},W.createElement(W.Fragment,null,W.createElement(mx,{state:l,backgroundState:null}),u?d?W.createElement("span",{className:mp},W.createElement(ex.Tx,{id:"dev_handoff.nodes_panel.created",at:(0,sE.c)(null==a?void 0:a.createdAt).fromNow()})):W.createElement("span",{className:mp},W.createElement(ex.Tx,{id:"dev_handoff.nodes_panel.edited",at:(0,sE.c)(null==a?void 0:a.lastEditedAt).fromNow()})):W.createElement("span",{className:mp},"-"),W.createElement("div",{className:mr})),W.createElement(mk,{disabled:!p,frameId:n.id,label:p?(0,ex.t)("inspect_panel.history.compare_changes"):(0,ex.t)("inspect_panel.history.no_changes"),compareVersions:!d,compareDetachedComponent:t,compareOverrides:o}))}function mP(e){let t=(0,sv.I1)(),n=(0,dz.u2)(),a=(0,sf.k3)(),r=(0,Y.OY)(),l=(0,el.q)(e=>e.mirror.appModel.activeCanvasEditModeType),i=(0,sv.uE)(t),o=(0,dW.UB)(i),{version:s}=(0,X.qG)();if(!t)return null;let c=t.isSymbol||t.isDetached,d=mS(t,i);return W.createElement(sJ.e_,{hideHeader:!0,padding:sJ.CK.NONE,noBorder:!0,recordingKey:"layerName"},W.createElement("div",{className:d8},W.createElement("div",{className:d9},W.createElement("div",{className:d7},W.createElement("div",{className:"ui3"===s?ma:mn},W.createElement(rA.g9,{dir:"auto",className:q()(ml,{"header--copyableLayerName--oMhyj":!!i}),onPointerDown:o},d),W.createElement("div",{className:me},W.createElement(mI,null))),W.createElement("div",{className:mt},t.isReadyForDev||t.isCompleted?W.createElement(W.Fragment,null,W.createElement(eN.A,{svg:mf.c,className:"header--codeIcon--c8n9I header--icon--IGzM0"}),W.createElement("span",{className:ms},t.isCompleted?W.createElement(ex.Tx,{id:"dev_handoff.status.completed"}):W.createElement(ex.Tx,{id:"dev_handoff.status.ready_for_dev"}))):W.createElement(W.Fragment,null,W.createElement(eU.ue,{className:c?mo:mi,guid:t.id,editModeType:l,detachedInfo:a}),W.createElement("span",{className:c?mc:ms,"data-tooltip-type":n1.wL.TEXT,"data-tooltip":t.typeTooltip},t.isDetached?W.createElement(mT,null):t.type))),t.link&&W.createElement("button",{className:"header--linkRow--QPcNR",onClick:()=>{r(os.L2({url:t.link}))}},W.createElement(eN.A,{svg:mC.c,className:"header--linkIcon--9v4Qb"}),W.createElement("span",{className:"header--link--qUrbC"},t.link)),t.libraryName?W.createElement("div",{className:"header--libraryNameRow--DjJXj text--fontPos11--2LvXf text--_fontBase--QdLsd ellipsis--ellipsis--Tjyfa"},W.createElement(eN.A,{svg:my.c}),W.createElement("span",{className:"header--libraryName---uTzg"},t.libraryName)):null,W.createElement(mM,{lastViewTimestamp:e.lastViewTimestamp,isDetached:t.isDetached}),(null==n?void 0:n.type)==="INSTANCE"&&W.createElement(d1,{marginTop:!0})))))}function mL(){let e=(0,sv.a_)(),t=(0,el.q)(e=>e.mirror.appModel.activeCanvasEditModeType),n=l_("track_changes"),a=null==e?void 0:e.isSymbol,r=e?mS(e):W.createElement(ex.Tx,{id:"dev_handoff.paywall.no_selection"});return W.createElement(sJ.e_,{hideHeader:!0,padding:sJ.CK.NONE,noBorder:!0,recordingKey:"layerName"},W.createElement("div",{className:d8},W.createElement("div",{className:d9},W.createElement("div",{className:d7},W.createElement("div",{className:mn},W.createElement(rA.g9,{dir:"auto",className:ml},r),W.createElement("div",{className:me})),W.createElement("div",{className:ma},W.createElement("span",{className:mt},e&&W.createElement(eU.ue,{className:a?mo:mi,guid:e.id,editModeType:t}),W.createElement("span",{className:a?mc:ms},(null==e?void 0:e.type)??"\u2014")),W.createElement(eT.qe,{defaultClass:q()("header--layerCompareLink--pHd1V",md),onClick:n,recordingKey:"dev-mode-compare-changes-upsell",dataTestId:"dev-mode-panel-upsell-compare-changes"},W.createElement("span",{className:q()(mm,mu)},W.createElement(ex.Tx,{id:"inspect_panel.history.compare_changes"}))))))))}let mD="inspect_panel--inspectPanelContainer--SZhfY";function mR(){return W.createElement("div",{className:mD},W.createElement(mL,null),W.createElement(sp,null))}let mF="dev_handoff_right_panel_container--panelContainer--XcbIk dev_handoff_right_panel_container--panelContainerBase--npHfL",mB="dev_handoff_right_panel_container--panelContainerResizing--sfFQd dev_handoff_right_panel_container--panelContainerResizingBase--OZRr- dev_handoff_right_panel_container--panelContainer--XcbIk dev_handoff_right_panel_container--panelContainerBase--npHfL",mU="dev_handoff_right_panel_container--panelContainerHidden--7-A2P dev_handoff_right_panel_container--panelContainer--XcbIk dev_handoff_right_panel_container--panelContainerBase--npHfL",mK="dev_handoff_right_panel_container--content--HcUHi";var mG=n(533852);function mH(){let e=(0,Y.w1)(e=>e.mirror.appModel.showUi),t=(0,Y.w1)(e=>e.mirror.appModel.currentTool===rk.mq.tool),n=(0,eo.m4)(rN.g),a=n===rN.u.PRIMARY&&!t,r=n===rN.u.PLUGIN,l=e?mF:mU;return W.createElement(sm.Sg,{name:"rightPanels",focusOnMount:!0,handleKeyDown:aC.Kw,className:mG._g},W.createElement("div",{"data-testid":"devHandoffLimitedInspectPanel",className:mG.Co},W.createElement("div",{className:`${l} ${mG.Qs} ${eR.cp}`,style:{width:320}},W.createElement(lK,null),W.createElement(lx.Y,{className:mK},t&&W.createElement(lS,null),a&&W.createElement(mR,null),r&&W.createElement(sd,null)))))}var mV=n(805220);let mW=(0,mV.Ww)("dev_handoff_has_seen_dev_mode"),mY=(0,mV.Ww)("dev_handoff_has_seen_dev_mode_ga");function mj(){return function(){let e=(0,Y.w1)(e=>e.currentUserOrgId),t=(0,Y.w1)(e=>e.currentTeamId),n=(0,Y.w1)(e=>{var t;return null==(t=e.openFile)?void 0:t.teamId})||null,a=(0,Y.OY)(),r=(0,eo.m4)(mW),l=(0,W.useRef)(!1);(0,W.useEffect)(()=>{l.current||"loaded"!==r.status||(l.current=!0,a(tm.s({dev_handoff_has_seen_dev_mode:!0,dev_handoff_has_seen_dev_mode_ga:!0})))},[r,a,e,t||n])}(),null}var mX=n(974636),mz=n(362592),mq=n(416052),mZ=n(881467);let mQ="dev_mode_seen_end_of_beta_modal",mJ=(0,mV.Ww)(mQ);function m$(){let e=(0,eo.m4)(mW),t=(0,eo.m4)(mY),n=(0,rq.dh)(),a=(0,t$.K0)()??"",r=(0,es.Qb)(nm.A7D,{key:a}),l=(0,eo.m4)(mJ),i=ln(),o=lt(),s=(0,Y.OY)(),{show:c,isShowing:d,complete:m}=(0,mX.W)({overlay:mZ.SOE,priority:mz.g.HIGH_PRIORITY_MODAL},[l,e,t,r]);(0,rT.u)(()=>{c({canShow:(e,t,n,a)=>{var r;return!e&&!!t&&!n&&!!(null==(r=null==a?void 0:a.file)?void 0:r.hasPermission)}})});let u=W.useCallback(()=>{m(),s(tm.s({[mQ]:!0}))},[s,m]),p=i?o?W.createElement(ex.Tx,{id:"dev_handoff.paywall.end_of_beta_modal.description.starter_viewer"}):W.createElement(ex.Tx,{id:"dev_handoff.paywall.end_of_beta_modal.description.starter"}):W.createElement(ex.Tx,{id:"dev_handoff.paywall.end_of_beta_modal.description.restricted"}),_=le({dismissModal:u,labelOverride:i?W.createElement(ex.Tx,{id:"dev_handoff.paywall.end_of_beta_modal.cta.starter"}):W.createElement(ex.Tx,{id:"dev_handoff.paywall.get_dev_mode"})}),E=W.useCallback(()=>{_.hidden||_.onClick(r0.s.BetaOver)},[_]);if(!d)return null;let g={teamId:null==n?void 0:n.id},h=_.hidden?{type:"button",label:W.createElement(ex.Tx,{id:"general.got_it"}),onClick:u,ctaTrackingDescriptor:lr.O.GOT_IT,trackingProperties:g,dataTestId:"dev-mode-end-of-beta-modal-cta"}:{type:"button",label:_.label,onClick:E,disabled:_.disabled,ctaTrackingDescriptor:lr.O.CONTINUE,trackingProperties:g,dataTestId:"dev-mode-end-of-beta-modal-cta"};return W.createElement(mq.cH,{isShowing:d,userFlagOnShow:mQ,title:W.createElement("span",{style:{fontSize:20}},W.createElement(ex.Tx,{id:"dev_handoff.paywall.end_of_beta_modal.title"})),description:p,media:W.createElement("img",{width:332,src:"https://static.figma.com/uploads/bcbebab786a453cd65a6b0e36b7546d5cc91e32f",alt:"An illustration explaining the end of the beta"}),closeButtonColor:"light",primaryCta:h,secondaryCta:{type:"link",label:W.createElement(ex.Tx,{id:"dev_handoff.paywall.learn_more"}),href:"https://help.figma.com/hc/en-us/articles/20652568757399",ctaTrackingDescriptor:lr.O.LEARN_MORE,trackingProperties:g},trackingContextName:"Dev Mode Beta Ended Modal",trackingProperties:{teamId:null==n?void 0:n.id},onClose:u})}var m0=n(593940),m1=n(493428),m2=n(971376);let m5="vscode_paywall--vscodePaywallBody--SlfC- text--fontPos13--xW8hS text--_fontBase--QdLsd",m3="vscode_paywall--upgradeButton--otPw3";var m4=n(919056);function m6({fileKey:e,teamId:t,folderId:n,parentOrgId:a,canAccessDevModeEntryPoint:r}){let l=la(),i=[(0,ex.t)("dev_handoff.paywall.vscode.list1"),(0,ex.t)("dev_handoff.paywall.vscode.list2"),(0,ex.t)("dev_handoff.paywall.vscode.list3"),(0,ex.t)("dev_handoff.paywall.vscode.list4")],o=W.useCallback(()=>{(0,Z.we)("Dev Mode Paywall clicked",{entryPoint:"vscode_paywall",type:"VS Code Upgrade CTAAAA",fileKey:e,fileTeamId:t,fileParentOrgId:a,containingFolderId:n},{forwardToDatadog:!0}),(0,cM.wR)(`/file/${e}?mode=dev&dev-mode-features-modal=plugins_extensions`)},[e,n,a,t]),s=W.useCallback(()=>{(0,Z.we)("Dev Mode Paywall clicked",{entryPoint:"vscode_paywall",type:"VS Code Open docs",fileKey:e,fileTeamId:t,fileParentOrgId:a,containingFolderId:n},{forwardToDatadog:!0}),(0,cM.wR)("https://help.figma.com/hc/en-us/articles/15023121296151-Figma-for-VS-Code")},[e,n,a,t]),c=W.useCallback(()=>{(0,Z.we)("Dev Mode Paywall clicked",{entryPoint:"vscode_paywall",type:"VS Code Play Video",fileKey:e,fileTeamId:t,fileParentOrgId:a,containingFolderId:n},{forwardToDatadog:!0})},[e,n,a,t]),d=W.useCallback(()=>{(0,Z.we)("Dev Mode Paywall clicked",{entryPoint:"vscode_paywall",type:"VS Code Finish Video",fileKey:e,fileTeamId:t,fileParentOrgId:a,containingFolderId:n},{forwardToDatadog:!0})},[e,n,a,t]);return W.createElement("div",{className:"vscode_paywall--wrapper--hZt-E"},W.createElement("div",{className:ap.cx.flex.maxWFull.wFull.hFull.$},W.createElement("div",{className:ap.cx.flex.flexGrow0.flexColumn.pl32.pt32.$},W.createElement(eN.A,{dataTestId:"logo",title:"logo",ariaLabel:"logo",svg:m4.c,useOriginalSrcFills_DEPRECATED:!0})),W.createElement("div",{className:ap.cx.flex.flexGrow1.flexColumn.justifyCenter.alignTop.pt32.pl20.pr32.pb32.$},W.createElement("div",{className:"vscode_paywall--vscodePaywallTitle--EHf7Y text--fontPos24--YppUD text--_fontBase--QdLsd"},W.createElement(ex.Tx,{id:"dev_handoff.paywall.vscode.title"})),W.createElement(eT._C,{direction:"y",multiple:1}),W.createElement("div",{className:m5},W.createElement(ex.Tx,{id:"dev_handoff.paywall.vscode.description"})),W.createElement(eT._C,{direction:"y",multiple:3}),W.createElement("ul",{className:"vscode_paywall--vscodePaywallList--cOYFz"},i.map((e,t)=>W.createElement("li",{key:t,className:"vscode_paywall--vscodePaywallListItem--GaTSA text--fontPos11--2LvXf text--_fontBase--QdLsd"},e))),W.createElement(eT._C,{direction:"y",multiple:3}),W.createElement("div",{className:m5},r?W.createElement(ex.Tx,{id:"dev_handoff.paywall.vscode.need_access",devMode:W.createElement("strong",null,W.createElement(ex.Tx,{id:"dev_handoff.paywall.vscode.need_access_dev_mode"}))}):W.createElement(ex.Tx,{id:"dev_handoff.paywall.vscode.no_access"})),W.createElement(eT._C,{direction:"y",multiple:3}),W.createElement("div",{className:"vscode_paywall--vscodePaywallButtons--7F6yh"},r&&l?W.createElement(m2.gV,{className:m3,disabled:!0},W.createElement(ex.Tx,{id:"dev_handoff.paywall.request_pending"})):W.createElement(m2.gV,{className:m3,onClick:o,disabled:!r},W.createElement(ex.Tx,{id:"dev_handoff.paywall.get_dev_mode"})),W.createElement(eT.wX,{className:"vscode_paywall--docsButton--vEf-q",onClick:s},W.createElement(ex.Tx,{id:"dev_handoff.paywall.vscode.view_button"}))),W.createElement(eT._C,{direction:"y",multiple:5}),W.createElement("div",{className:"vscode_paywall--vscodeVideoDescription--G16yH text--fontPos11--2LvXf text--_fontBase--QdLsd"},W.createElement(ex.Tx,{id:"dev_handoff.paywall.vscode.video"})),W.createElement(eT._C,{direction:"y",multiple:1}),W.createElement("div",{className:"vscode_paywall--vscodeVideoContainer--RVGWt"},W.createElement("video",{controls:!0,className:"vscode_paywall--vscodeVideo--Te60B",src:"https://static.figma.com/uploads/vscode_intro_1200.mp4",onPlay:c,onEnded:d})))))}function m8(){let e=(0,t$.AL)(),t=(0,e7.eI)();return W.createElement(m0.S,{isShowing:!0},W.createElement(m6,{fileKey:(null==e?void 0:e.key)||"",teamId:(null==e?void 0:e.teamId)||"",parentOrgId:(null==e?void 0:e.parentOrgId)||"",folderId:(null==e?void 0:e.folderId)||"",canAccessDevModeEntryPoint:t}))}function m9(){let e=(0,Y.OY)(),t=(0,t0.c$)(),n=(0,Y.w1)(e=>e.mirror.appModel.currentPage),a=W.useMemo(()=>lQ.kr.getIsExtension(),[]),r=(0,Y.w1)(e=>e.selectedView.devModeUpsellModalTab),l=l_(r);return(W.useEffect(()=>{if(r){l();let n={...t,devModeUpsellModalTab:void 0};e(lZ.Ej(n))}},[r,e,l,t]),W.useEffect(()=>{(0,eP.EB)().sidebarSplitPosition.set(240),(0,eP.EB)().devHandoffInspectSplitPosition.set(320)},[]),rS({doReport:!1}),a)?W.createElement(m8,null):W.createElement(W.Fragment,null,W.createElement(m$,null),W.createElement(m1.jz,{width:240,disableResizing:!0},W.createElement(lT,{key:n})),W.createElement(mH,null))}var m7=n(73460),ue=n(140744),ut=n(70228),un=n(793524),ua=n(740200),ur=n(600928),ul=n(122548),ui=n(283620),uo=n(816616),us=n(357532);let uc="dev_handoff_seen_annotation_introduction_overlay",ud="dev_handoff_seen_annotation_tools_overlay",um="dev_handoff_seen_annotation_upsell_overlay",uu=(0,mV.y_)(ud),up=(0,mV.y_)(uc);function u_(){let e=(0,Y.OY)(),t=(0,eo.m4)(ui.eE),n=(0,sC._o)(),a=(0,eo.m4)(up),r=(0,eo.m4)(uu),{uniqueId:l,show:i,complete:o,isShowing:s}=(0,mX.W)({overlay:mZ._qA,priority:mz.g.SECONDARY_MODAL+1},[a,r]);function c(){e(tm.s({[ud]:!0})),o()}W.useEffect(()=>{!n&&t&&i({canShow:(e,t)=>e&&!t})},[n,i,t]),W.useEffect(()=>{"loaded"===r.status&&r.data&&o()},[r,o]);let d=(0,ul.c)({numSteps:2,onComplete:c});return(0,ur.y)(l,"action_set_tool_annotate",()=>{s&&0===d.currentStep&&d.next()}),W.createElement(uo.y,{currentStep:d.currentStep,isShowing:s},W.createElement(us.Y5,{emphasized:!0,isShowing:s,trackingContextName:`${ud}_measurements`,onClose:c,targetKey:"tool-measurements-onboarding",title:W.createElement(ex.Tx,{id:"dev_handoff.annotations_tools_overlay.measurements.title"}),description:W.createElement(ex.Tx,{id:"dev_handoff.annotations_tools_overlay.measurements.description"}),primaryCta:{label:W.createElement(ex.Tx,{id:"rcs.rcs_shared.next"}),type:"button",onClick:d.next,ctaTrackingDescriptor:lr.O.NEXT},stepCounter:{stepNum:1,totalNumSteps:2}}),W.createElement(us.Y5,{emphasized:!0,isShowing:s,trackingContextName:`${ud}_annotations`,onClose:c,targetKey:"tool-annotations-onboarding",title:W.createElement(ex.Tx,{id:"dev_handoff.annotations_tools_overlay.annotations.title"}),description:W.createElement(ex.Tx,{id:"dev_handoff.annotations_tools_overlay.annotations.description"}),primaryCta:{label:W.createElement(ex.Tx,{id:"rcs.rcs_shared.done"}),type:"button",onClick:d.next,ctaTrackingDescriptor:lr.O.DONE},stepCounter:{stepNum:2,totalNumSteps:2}}))}var uE=n(128864),ug=n(223512),uh=n(112840),uf=n(226096),uv=n(7674),uy=n(477284),uC=n(553272);function uw(){var e,t;let n=(0,Y.OY)(),a=(0,rp.g)(),r=(null==a?void 0:a.type)===uE.WA;return(0,Y.w1)(e=>e.isRenaming)?null:W.createElement("div",null,W.createElement(uv.k,{isUI3:!0,dropdownKey:uE.WA,showingDropdown:r,tabIndex:0,ariaLabel:(0,ex.t)("fullscreen.filename_view.edit_file_menu"),dataTestId:"filename-menu-chevron",dataOnboardingKey:"filename-menu-chevron",dispatch:n,toggleOnClick:!0}),(0,uf.O8)()&&W.createElement(uC.E,{isUI3:!0,targetKey:"filename-menu-chevron"}),!!r&&W.createElement(uy.I,{dropdownTargetRect:null==(e=a.data)?void 0:e.targetRect,dispatch:n,dropdownVisible:r,activatePathOnMount:null==(t=null==a?void 0:a.data)?void 0:t.activatePathOnMount,trackEvent:Z.we}))}function ub(e){return W.createElement("svg",{width:"16",height:"16",fill:"none",viewBox:"0 0 16 16",...e},W.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M3 4.5a.5.5 0 0 1 .5-.5h1A2.5 2.5 0 0 1 7 6.5v2A1.5 1.5 0 0 0 8.5 10h2.793l-1.147-1.146a.5.5 0 0 1 .708-.708l2 2a.5.5 0 0 1 0 .708l-2 2a.5.5 0 0 1-.708-.708L11.293 11H8.5A2.5 2.5 0 0 1 6 8.5v-2A1.5 1.5 0 0 0 4.5 5h-1a.5.5 0 0 1-.5-.5Zm5.5 0A.5.5 0 0 1 9 4h3.5a.5.5 0 0 1 0 1H9a.5.5 0 0 1-.5-.5Z",clipRule:"evenodd"}))}var uT=n(439460);function ux(){let e=(0,t$.AL)(),t=!!(e&&(0,uT.Oe)(e)),n=(0,Y.w1)(e=>e.isRenaming);return W.createElement("div",{className:q()({[ap.cx.flexGrow1.$]:n},"left_panel_header--filenameView--TnYcK")},t&&W.createElement(ub,null),W.createElement(uE.Co,null))}var uk=n(435176),uN=n(955088),uS=n(76264);function uI(e){let t=(0,t1.C2)(),n=(0,Y.w1)(t=>{var n,a;return(0,uk.K)(t.progressBarState.mode)?e.file.canEdit:null==(a=null==(n=t.mirror)?void 0:n.appModel)?void 0:a.isReadOnly}),a=(0,uS.av)({file:e.file,viewOnly:!!t&&!!e.file&&!!n});return W.createElement("div",{className:"left_panel_header--requestPermissions--rinLt"},W.createElement(uN.SC,{file:e.file,viewPermission:a,recordingKey:"leftPanelFilePermission"}))}var uA=n(33656),uO=n(333816),uM=n(335432);function uP(){let e=(0,t$.AL)(),t=null==e?void 0:e.repo,n=!!(t&&(0,uT.UJ)(e,t)),a=!!(e&&(0,uT.Oe)(e)),r=(0,Y.OY)(),l=a&&t?W.createElement(uM.w,{repo:t,dispatch:r,trackingContextName:nv.i8.EDITOR_TOOLBAR_ACTION}):n&&e.fileRepoId?W.createElement(uL,{repoId:e.fileRepoId}):null;return l?W.createElement("div",{className:"left_panel_header--repoInfo--LjTPN"},l):null}function uL({repoId:e}){let t=(0,Y.OY)(),n=(0,uO.Uj)(e);if(!n||"loaded"!==n.status)return null;let a=n.data.activeBranches.length;return a<1?null:W.createElement("div",{onClick:()=>t(uA.aC({trackingContextName:nv.i8.EDITOR_TOOLBAR_ACTION})),role:"link",tabIndex:0},W.createElement(ex.Tx,{id:"fullscreen.filename_view.branch-count",BRANCHES:a}))}function uD(){let e=(0,t$.AL)(),t=(0,t1.C2)(),n=(0,ru.O)(),{isLeftPanelCollapsed:a}=(0,uh.uA)();return n?W.createElement("div",{className:"left_panel_header--leftPanelHeader--o6fb0"},W.createElement("div",{className:"left_panel_header--islandSpacer--WMbBa"}),!a&&W.createElement("div",{className:"left_panel_header--fileControls--0Q7aC"},W.createElement(ux,null),W.createElement(uw,null)),W.createElement(uP,null),W.createElement("div",{className:"left_panel_header--folderRow--GBzFM"},W.createElement(uE.sH,{openFile:e,user:t}),(null==e?void 0:e.team)&&W.createElement(ug.S,{openFile:e,team:e.team,fullHeightSidebarsEnabled:!0})),e&&!l1.ie&&W.createElement(uI,{file:e})):null}var uR=n(280584);function uF(){let e=(0,ty.Ci)(),t=(0,eh.S2)(eh.YP.ui3CollapsedSidebarPillBackground);return e&&t}var uB=n(740468),uU=n(433072);function uK(){return null}function uG(e){return W.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},W.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M18 7H6a1 1 0 0 0-1 1v8a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V8a1 1 0 0 0-1-1ZM6 6a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2H6Zm8.12 7.29v-.074c.002-.343.035-.616.097-.818a1.24 1.24 0 0 1 .273-.489 2.1 2.1 0 0 1 .429-.344c.115-.072.218-.15.31-.236.092-.087.165-.183.218-.29a.806.806 0 0 0 .08-.36.71.71 0 0 0-.105-.39.713.713 0 0 0-.285-.255.848.848 0 0 0-.394-.09.87.87 0 0 0-.384.087.744.744 0 0 0-.298.262.858.858 0 0 0-.13.44h-1.012c.01-.36.096-.661.261-.903.167-.243.386-.425.66-.546.274-.121.577-.182.908-.182.362 0 .68.064.955.19.276.128.491.308.645.543.155.233.233.51.233.83a1.428 1.428 0 0 1-.398 1.034c-.127.132-.277.25-.452.355a1.93 1.93 0 0 0-.378.295.982.982 0 0 0-.216.361 1.66 1.66 0 0 0-.07.506v.074h-.947Zm.495 1.773a.606.606 0 0 1-.44-.182.599.599 0 0 1-.185-.444.59.59 0 0 1 .184-.437.606.606 0 0 1 .44-.182c.17 0 .315.06.438.182a.587.587 0 0 1 .188.438c0 .115-.03.22-.088.315a.653.653 0 0 1-.228.227.597.597 0 0 1-.31.082ZM7.196 15h1.125l.481-1.435h2.188L11.472 15h1.125l-2.051-5.818H9.244L7.196 15Zm2.722-4.625.787 2.344H9.086l.786-2.344h.046Z",clipRule:"evenodd"}))}function uH(){var e;return(0,eD.s5)(null==(e=eM.KEP)?void 0:e.uiState().showMissingFontsButton)?W.createElement("button",{onClick:eM.i46.findMissingFontsAndShowPopover},W.createElement(uG,null)):null}function uV(){let e=(0,rv.sZ)(),t=(0,Y.w1)(e=>e.isRenaming),n=(0,ru.O)(),{isLeftPanelCollapsed:a,toggleLeftPanelCollapsed:r}=(0,uh.uA)(),l=uF(),i=(0,uh.U9)(),o=!(0,eh.S2)(eh.YP.ui3Motion),s=(0,sC._o)(),c=(0,eD.s5)((0,eP.EB)().renderRulers),d=W.useMemo(()=>(0,nF.sS)(getComputedStyle(document.body).getPropertyValue("--duration-md"))/1e3,[]);if(!n||s)return null;let m=W.createElement("div",{className:"left_panel_island--fileControls--SDe2O left_panel_header--fileControls--0Q7aC"},W.createElement(ux,null),W.createElement(uw,null));return W.createElement("div",{className:q()("left_panel_island--islandContainer--Sowsa left_panel--panelContainerFullHeight--TkS19 left_panel--panelContainerBase--hT1dd",{"left_panel_island--leftPanelHeaderCollapsed--k639K":a,"left_panel_island--insetForRulers--rck75 left_panel--insetForRulersFullHeight--ZxsMu":c,"left_panel_island--withShadow--oSo1W":l&&a}),style:{width:a?void 0:i}},W.createElement("div",{className:"left_panel_island--mainMenu--CZSc0"},W.createElement(uU.Sk,null),a&&m),W.createElement(rV.q.div,{layout:"position",transition:{duration:o?0:d>0?d:.2},className:"left_panel_island--rightSide--RgnYM"},W.createElement(uU.iA,null),!a&&W.createElement(W.Fragment,null,W.createElement(uK,null),W.createElement(uH,null)),e?W.createElement(W.Fragment,null,!t&&W.createElement(rf,null),W.createElement(rf,null)):W.createElement(uR.w,{"aria-label":a?(0,ex.t)("fullscreen_actions.show-sidebar"):(0,ex.t)("fullscreen_actions.hide-sidebar"),onClick:r,"data-tooltip-type":n1.wL.TEXT,"data-tooltip":a?(0,ex.t)("fullscreen_actions.show-sidebar"):(0,ex.t)("fullscreen_actions.hide-sidebar")},W.createElement(uB.w,null))))}n(275712),n(69040);var uW=n(643712),uY=n(830814),uj=n(505752),uX=n(26048),uz=n(668156),uq=n(749124),uZ=n(912560),uQ=n(985876),uJ=n(385228);let u$="configuration_wizard--step--9zx-B",u0="configuration_wizard--buttonRow--2GlLI",u1="configuration_wizard--spacer--LCRlq",u2="configuration_wizard--preferenceOptionsGroup--T5b2t",u5="configuration_wizard--unitOption--R7eMs configuration_wizard--preferenceOption--OkUN2",u3="configuration_wizard--selectedPreference--K6Psv",u4="configuration_wizard--integrationsCard--aup-J configuration_wizard--preferenceOptionCard--C3ZkW configuration_wizard--preferenceOption--OkUN2",u6="configuration_wizard--unitText--PiILT",u8="configuration_wizard--preferenceSubheader--orNpN text--fontPos11--2LvXf text--_fontBase--QdLsd",u9="configuration_wizard--preferenceTitle--lA1Na text--fontPos13Whyte--VhWqH text--_fontBaseWhyte--efAjI",u7="configuration_wizard--unitRadioOption--YokOy",pe="configuration_wizard--selectedRadioOption--i6PrC",pt="configuration_wizard--stepHeading--b5Yv4 text--fontPos18Whyte--M40th text--_fontBaseWhyte--efAjI",pn="configuration_wizard--stepDescription--uSn6A text--fontPos12Whyte---tkNx text--_fontBaseWhyte--efAjI",pa="configuration_wizard--option--I5GPA",pr="configuration_wizard--optionHeading--9e-1V text--fontPos12Whyte---tkNx text--_fontBaseWhyte--efAjI",pl="configuration_wizard--pluginListDivider--LeuxA",pi="configuration_wizard--pluginList---hNhu",po="configuration_wizard--dividerListContainer--r4GxV",ps="configuration_wizard--installButton--PPj7O",pc="configuration_wizard--pluginCta--WgsY- resource_tiles--cta--JU9XJ text--fontPos12--YsUAh text--_fontBase--QdLsd",pd="configuration_wizard--pluginTick--YbuJa",pm="configuration_wizard--spinnerContainer--2xXeT";var pu=n(13824),pp=n(288420),p_=n(684572),pE=n(85036),pg=n(109596);let ph="OTHER";function pf(){let e=(0,eS.oJ)(),{codegenPlugins:t=[],loading:n}=(0,uz.Q)(),a=(0,cS.ig)(),[r,l]=W.useState("first-party"===e.type?e.id:ph),[i,o]=W.useState(!1),s=!n&&(null==t?void 0:t.length)>0,[c,d]=W.useState(s?pk(t[0]):void 0);return W.useEffect(()=>{if(!c&&!n&&(null==t?void 0:t.length)>0){let e=pk(t[0]);d(e),a(e)}},[t,n,c,a]),W.createElement("div",{className:u$},W.createElement("h1",{className:pt},W.createElement(ex.Tx,{id:"dev_handoff.configuration_wizard.code_language_step.title"})),W.createElement("h2",{className:pn},W.createElement(ex.Tx,{id:"dev_handoff.configuration_wizard.code_language_step.description"})),W.createElement(pv,{selectedOption:r,onSelect:e=>{l(e),e===eS.nd?(0,eP.EB)().colorFormat.set(eM._sE.UIColor):(0,eP.EB)().colorFormat.set(eM._sE.HEX),e===eS.nd?a({type:"first-party",id:i?eS.I1:eS.nd}):e===eS.Lb?a({type:"first-party",id:i?eS.Ax:eS.Lb}):e!==ph?a({type:"first-party",id:e}):c&&a(c)}}),r===eS.nd||r===eS.Lb?W.createElement(py,{selectedLanguage:r,shouldUseLegacyMobileCodegen:i,onFrameworkSelect:e=>{o(e),r===eS.nd&&a({type:"first-party",id:e?eS.I1:eS.nd}),r===eS.Lb&&a({type:"first-party",id:e?eS.Ax:eS.Lb})}}):null,r!==ph?W.createElement(pw,null):W.createElement(px,{onSelect:d,loading:n,codegenPlugins:t}))}function pv({onSelect:e,selectedOption:t}){let n=[{key:eS.Ml,title:(0,ex.t)("dev_handoff.code.lang_css"),subheader:null,svgSrc:pg.c},{key:eS.nd,title:(0,ex.t)("dev_handoff.configuration_wizard.code_language_step.option_ios"),subheader:null,svgSrc:p_.c},{key:eS.Lb,title:(0,ex.t)("dev_handoff.configuration_wizard.code_language_step.option_android"),subheader:null,svgSrc:pp.c},{key:ph,title:(0,ex.t)("dev_handoff.configuration_wizard.code_language_step.option_other"),subheader:null,svgSrc:pE.c}];return W.createElement("div",{className:pa},W.createElement("div",{className:pr},W.createElement(ex.Tx,{id:"dev_handoff.configuration_wizard.code_language_step.what_platform"})),W.createElement(uW.e,{value:String(t),onChange:aC.Kw,className:u2},n.map(({key:n,title:a,subheader:r,svgSrc:l})=>{let i=n===t,o=()=>e(n);return W.createElement("div",{tabIndex:0,role:"radio","aria-checked":i,key:n,onPointerDown:o,onKeyDown:e=>{"Enter"===e.key&&o()},className:q()("configuration_wizard--preferenceOptionCard--C3ZkW configuration_wizard--preferenceOption--OkUN2",i&&u3)},W.createElement(eN.A,{svg:l,className:"configuration_wizard--platformIcon--F7N2s"}),W.createElement(uW.W,{value:String(n),_isChecked:i,_onChange:o,className:q()("configuration_wizard--radioOption--Yfm0j",i&&pe),tabIndex:-1}),W.createElement("div",{className:"configuration_wizard--preferenceText--ZqN2L"},W.createElement("div",{className:u9},a),r&&W.createElement("div",{className:u8},r)))})))}function py({selectedLanguage:e,shouldUseLegacyMobileCodegen:t,onFrameworkSelect:n}){let a=W.useMemo(()=>e===eS.nd?[{key:!1,title:(0,ex.t)("dev_handoff.code.lang_swiftui"),onSelect:()=>n(!1)},{key:!0,title:(0,ex.t)("dev_handoff.code.lang_uikit"),onSelect:()=>n(!0)}]:[{key:!1,title:(0,ex.t)("dev_handoff.code.lang_compose"),onSelect:()=>n(!1)},{key:!0,title:(0,ex.t)("dev_handoff.code.lang_android_xml"),onSelect:()=>n(!0)}],[e,n]);return W.createElement("div",{className:pa},W.createElement("div",{className:pr},W.createElement(ex.Tx,{id:"dev_handoff.configuration_wizard.code_language_step.what_framework"})),W.createElement(uW.e,{value:String(t),onChange:aC.Kw,className:u2},a.map(({key:e,title:n,onSelect:a})=>{let r=e===t;return W.createElement("div",{tabIndex:0,role:"radio","aria-checked":r,key:String(e),onPointerDown:a,onKeyDown:e=>{"Enter"===e.key&&a()},className:q()(u5,r&&u3)},W.createElement("div",{className:u6},W.createElement("div",{className:u9},n),W.createElement(uW.W,{value:String(e),_isChecked:r,_onChange:a,className:q()(u7,r&&pe),tabIndex:-1})))})))}let pC=new nV.YF({min:.1});function pw(){let e=(0,eS.oJ)(),t=(0,eO.wF)(),n=(0,eO.mW)(),a=(0,eO.IB)(),r=(0,eO.ee)(),l=W.useCallback(t=>r(e,null,{unit:t}),[e,r]),i=(0,eO.Ef)(e.id),o=W.useCallback(t=>{t&&r(e,null,{scaleFactor:t})},[e,r]),s=(null==i?void 0:i.scaleFactor)??1,c="first-party"===e.type&&(e.id===eS.Lb||e.id===eS.Ax||e.id===eS.nd||e.id===eS.I1),d=W.useMemo(()=>new uq.gB(a),[a]),m=W.useMemo(()=>sS.gT.map(e=>({key:e,title:d.format(e),onSelect:()=>l(e)})),[d,l]);return t?W.createElement("div",{className:pa},W.createElement("div",{className:pr},W.createElement(ex.Tx,{id:"dev_handoff.configuration_wizard.code_language_step.what_units"})),W.createElement(uW.e,{value:String(n),onChange:e=>l(e),className:u2},m.map(({key:e,title:t,onSelect:a})=>{let r=n===e;return W.createElement("div",{tabIndex:0,role:"radio","aria-checked":r,key:e,onPointerDown:a,onKeyDown:e=>{"Enter"===e.key&&a()},className:q()(u5,r&&u3)},W.createElement("div",{className:u6},W.createElement("div",{className:u9},t),W.createElement(uW.W,{value:String(e),_isChecked:r,_onChange:a,className:q()(u7,r&&pe),tabIndex:-1})))})),n===uQ.Oc.SCALED&&W.createElement(W.Fragment,null,W.createElement("div",{className:"configuration_wizard--optionHeadingWithPadding--MnGm9 configuration_wizard--optionHeading--9e-1V text--fontPos12Whyte---tkNx text--_fontBaseWhyte--efAjI"},W.createElement(ex.Tx,{id:"dev_handoff.alternative_units.inspection_scale_factor"})),c?W.createElement(uZ.wx,{scaleFactor:s,onChange:o,onDropdownHidden:aC.Kw,className:"configuration_wizard--scaleFactorDropdown--IVy1Q",inputClassName:"configuration_wizard--scaleFactorDropdownInput--h8Jr2 text--fontPos13Whyte--VhWqH text--_fontBaseWhyte--efAjI"}):W.createElement(uJ.WC,{className:"configuration_wizard--scaleFactorInput--ezaTA text--fontPos13Whyte--VhWqH text--_fontBaseWhyte--efAjI",property:s,formatter:pC,onChange:o,autoFocus:!0,allowEmpty:!1,noBorderOnFocus:!0}),W.createElement("div",{className:u8},W.createElement(uZ.QR,{codeLanguage:e})))):null}function pb(){return W.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},W.createElement("g",{id:"Frame 1321317093"},W.createElement("rect",{width:"24",height:"24",rx:"4.5",fill:"#2C2C2C"}),W.createElement("rect",{x:"4",y:"4",width:"10.5",height:"1.5",fill:"#D9D9D9"}),W.createElement("rect",{x:"7",y:"8",width:"12",height:"1.5",fill:"#E4A3D9"}),W.createElement("rect",{x:"9",y:"13",width:"12",height:"1.5",fill:"#97C1EF"}),W.createElement("rect",{x:"4",y:"17.5",width:"10.5",height:"1.5",fill:"#D9D9D9"})))}function pT(){return W.createElement("div",{className:"configuration_wizard--customCodegenPromo--Sg78f"},W.createElement("div",{className:"configuration_wizard--customCodegenPromoIcon--ND7NT"},W.createElement(pb,null)),W.createElement("div",{className:"configuration_wizard--customCodegenPromoWrapper--steEn"},W.createElement("div",{className:"configuration_wizard--customCodegenPromoTitle--31anH text--fontPos12--YsUAh text--_fontBase--QdLsd"},W.createElement(ex.Tx,{id:"dev_handoff.configuration_wizard.code_language_step.custom_codegen_promo_title"})),W.createElement("div",{className:"configuration_wizard--customCodegenPromoBody--EsEFB text--fontPos11--2LvXf text--_fontBase--QdLsd"},W.createElement(ex.Tx,{id:"dev_handoff.configuration_wizard.code_language_step.custom_codegen_promo_body"}))),W.createElement("a",{className:"configuration_wizard--customCodegenPromoLink--0l-Sa text--fontPos11--2LvXf text--_fontBase--QdLsd",href:"https://www.figma.com/plugin-docs/api/figma-codegen/",target:"_blank"},W.createElement(ex.Tx,{id:"dev_handoff.configuration_wizard.code_language_step.custom_codegen_promo_link"}),W.createElement(oL.GW,{icon:"new-window-16",fill:"brand"})))}function px({onSelect:e,loading:t,codegenPlugins:n}){let a=t?W.createElement("div",{className:pm},W.createElement(l7.M7,null)):W.createElement(lW.O8,null,n.map((t,n)=>W.createElement(pN,{key:`${t.id}_${n}`,plugin:t,onSelect:e})),W.createElement(pT,null));return W.createElement("div",{className:"configuration_wizard--otherLanguagesContainer--2J1b5"},W.createElement("h1",{className:"configuration_wizard--otherLanguagesListHeading--M2BwY text--fontPos12Whyte---tkNx text--_fontBaseWhyte--efAjI"},W.createElement(ex.Tx,{id:"dev_handoff.configuration_wizard.code_language_step.other_title"})),W.createElement("h2",{className:"configuration_wizard--otherLanguagesListDescription--jeS2m text--fontPos12Whyte---tkNx text--_fontBaseWhyte--efAjI"},W.createElement(ex.Tx,{id:"dev_handoff.configuration_wizard.code_language_step.other_description"})),W.createElement("div",{className:po},W.createElement("div",{className:pl}),W.createElement("div",{className:pi},a)))}function pk(e){return{type:"published-plugin",id:e.id,pluginLanguage:function(e){var t,n,a;let r=null==(t=null==e?void 0:e.versions)?void 0:t[(null==e?void 0:e.current_plugin_version_id)??""];return(null==(a=null==(n=(0,cF.S)(r))?void 0:n[0])?void 0:a.value)??""}(e)}}function pN({plugin:e,onSelect:t}){let n=(0,eS.oJ)(),a=(0,cS.ig)(),r="first-party"!==n.type&&n.id===e.id,l=W.useMemo(()=>pk(e),[e]),i=W.useCallback(()=>{a(l),t(l)},[l,a,t]),o=r?W.createElement("div",{className:pc},W.createElement(eN.A,{svg:pu.c,className:pd}),W.createElement(ex.Tx,{id:"community.plugins.selected"})):W.createElement("div",{className:pc},W.createElement(ex.Tx,{id:"community.plugins.select"}));return W.createElement(iM.G8,{resourceId:e.id,ctaButton:o,onClick:r?void 0:i})}function pS(){let{inspectPlugins:e=[],loading:t}=(0,uz.Q)(),n=t?W.createElement("div",{className:pm},W.createElement(l7.M7,null)):W.createElement(lW.O8,null,e.map((e,t)=>W.createElement(pI,{key:`${e.id}_${t}`,plugin:e})));return W.createElement("div",{className:u$},W.createElement("h1",{className:pt},W.createElement(ex.Tx,{id:"dev_handoff.configuration_wizard.inspect_plugins_step.title"})),W.createElement("h2",{className:pn},W.createElement(ex.Tx,{id:"dev_handoff.configuration_wizard.inspect_plugins_step.description"})),W.createElement("div",{className:po},W.createElement("div",{className:pl}),W.createElement("div",{className:pi},n)))}function pI({plugin:e}){let{pinnedPlugins:t,pinPlugin:n,unpinPlugin:a}=(0,uY.mC)(),r=e.id,l=W.useMemo(()=>!!t.find(e=>e.plugin_id===r),[t,r]),[i,o]=W.useState(l);W.useEffect(()=>{o(l)},[l]);let s=(0,tC.c)(()=>{o(!0),n(r)},200),c=(0,tC.c)(()=>{o(!1),a(r)},200),d=i?W.createElement("div",{className:pc},W.createElement(eN.A,{svg:pu.c,className:pd}),W.createElement(ex.Tx,{id:"community.plugins.pinned"})):W.createElement("div",{className:pc},W.createElement(ex.Tx,{id:"community.plugins.pin"}));return W.createElement(iM.G8,{resourceId:e.id,ctaButton:d,onClick:i?c:s})}var pA=n(202732),pO=n(946544);function pM(){let e=(0,Y.OY)(),t=(0,rH.e6)();return W.createElement("div",{className:u$},W.createElement("h1",{className:pt},W.createElement(ex.Tx,{id:"dev_handoff.configuration_wizard.install_extensions_step.title"})),W.createElement("h2",{className:pn},W.createElement(ex.Tx,{id:"dev_handoff.configuration_wizard.install_extensions_step.description"})),W.createElement("div",{className:u2},W.createElement("div",{className:u4},W.createElement("img",{srcSet:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAXEAAADQCAYAAADxsFFbAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAF/SSURBVHgB7Z0HnJTV1f8PsBVYYGFpC0vvHelNiqKIghW7MTExr8a8ib7RN+8bY9T05E3RxH+ixhg1GisqBgsCighSlCZVQHrvfWFh4X+/dz3Ls8PsMjO7y+7snp+fkdmZZ57nlnN/59xz7z2nioSgRYsWw06ePHmFe3s5f0oRSEhIkMTERDlx4oR/nTp1qsD3SUlJkpycLFWqVJHjx4/L0aNHz7jmXIByUhaenZ2dLQaDwRBnWMiratWqD69zCH5RRd848q7jyPtB9/bus92tWrVq0rRpU7ngggukS5cuMmnSJJkyZYrk5ubmX9OsWTO55ZZb/HWQ+JdffilPPPGEHDhwQM41jMQNBkMFwiOORx/e58AfCfwPAncEPM2RbfdI7jBmzBi56KKLPJlXr15d6tat64la0apVK7nrrrs8eX788cdy5MgRycjI8H8bDAaDoVi4u1atWsPcv8Mhcs+qWOCREjjAmn3//fdl9+7dct11153x/ZAhQ6RevXry61//WlauXMn9xWAwGAwlhh6OyB90HH5PgrPCWziSPasLJYjJkyf7f3GZhCNoXCyHDx+WGjVqyDXXXOMt8blz58rOnTvLxCduMBgMFRB3O/qekOBI+CGJEkVZ1rhVUlJS/ILmHXfc4QncaQzp16+fPProo7Jr1y4xGAwGQ/HBJpSq7t+I3SiRwK2e5hP5M888Iw888IA89dRT3mofNGiQ/95gMBgMJYLL8Yn3kBIEO1TYbnjs2DGZPXu2/3vFihV+V0pWVpZf3MzJyRGDwWAwFBstSsUsZucLvm/djYJljgXOZ8FdLAaDwWAoHmIicfzdbCPERcL+a3aitGnTRtLT0/33s2bN8oeAhg0b5om8b9++3i++fv16f+jHYDAYDCWDKo6Io94uglvk3nvvlZo1a/q94ix08nrzzTdl4sSJ/nN2pQwePDjvIc76XrBggfzzn/+U/fv3y7mGHfYxGAwVFTGROJY41ncocKOwGwWwsJmZmSlNmjSRbdu2yaZNm8qMQI3EDQZDRUVMJB5vMBI3GAwVFZXiHDyuHnbE2EEjg8FQ0VBpSNyO/hsMlQvsiGPNrqLDIlIZDIYKCTZUsEuuosNI3GAwVFhUhhm4kbjBYKiQ4LR4MMdBRYUFMjEYDIY4hpG4wRBnSE6qKul1Kr6v1xAZKj2Js/hRL72mpCQXHBSp7u+GGbWkoiIxoZrc+bUR0qdnS6msSKuRIlmZ9SSe0LJZdXnuD73l8gszxWAAMfnEIT6O1jdv3lwaNWrk82cSF4VFBL4bOnSoP7EZitWrV8uaNWvK1WJDclKC3Psfo+SDmctl8sdL8z8f0KeNfPP68+Wm7z4h5RVd2jeRvfuPyOZteyVaVEuoKr27t5BNW/dIPCExsZr07NxMVq3d7uteHFx3eT9/r3seelFyjp+Q8g4s8F/f11UmTd8uz7y2XgwGEJMl3q5dO59js1evXp7IybGp4EANQa6CLwhdg2XZgZuSw/VX9JMh/dpJZULN6sly752XOIu0vhQXE96bL3986v24IHBQv16yNG9aQz5dFF+K11C6iMkST01N9Rl6li1bJj16nBmOfM6cOfnv2XA/cOBAn1B58+bNcU3iLbIyZJCz0NNqVpet2/fJBzOWycHDR/13PZxFVystVRrWryV10qrLtNlfOEs5UzLqpsmkaYtlw+a8gcdMpV2rhjKwdxun1BJk+aqtMmveaqfsIl9FHzG4o6TXqi51ateQju0y5erRvfzny9y9lq/akn9dm5YNZHDvdlKzRrJs23VAZsxdKdt2FAxABileMqKbI4cM2b3noLzzwedy+MgxiQYJ1apK/16tpWObTKF3F6/YKPM/XyfHT5yecaW7sg7q01aaNakrBw5my7RZK9ws4PQMYnDfdrL/wGHJzT0l/Xq2lqTkBJk7/0tZtHyjm7md8u6ui4Z1lVo1k6Waex73aun6A3wwc4Wzyg/791WrVpEB57mytGvir1u7Yad8NOsLOZaTFz2zemqSXDiks3Mn5dkvh7OPyWpn1QfRvnUjyWyU7j/v7+5FH65et12muv6mLMG2oxwtmmXIEddm709fJtt3FmzfEYM6+vru2nvIy05tJxsLl26QTz5bLdEiKbGKa2sp0K4GQ0yW+OLFi30WewJbhSNlkkLoi832TZs2la1bt/rEEPGK9q0ayU/uudxZQ7VklyO7oQPay73fucQTNxjgSOzWcYM8iXRybo77//NSN8hTpLN7f9OVA/Lvc/nFPeX+748Rmu3wkRy55eoBjoR7SzRITEhw7ZogSe7falWr+Pe8grHacZU8cPdYqeK+37htj/Tq2lx+7J5bwxFPEBcM7iytnFULgV50fme55/aLvMsiUlRzSvrWawfLN284X/ZCwidy3fuhcmWgTjWd7/nHd49xs4a2ss2RHG34k/+6Qjq1O+3XRTH9520j5doxfeTQkaNeSd3vftPZkbECZaEx6hOqVcuvt8hpGbx13GBfnj37Dvt+uunK/vKdW0f4fgEYFU0ap0sTR9IojqsuObPt27m+vvmqAX7NIDExLw7+N64fIpddeDoJVlJSNVensTLckfTO3QelccN0+dm9V7h/6xS4F/W60fX//d8bI21aNJK6dWp6X3wsoOxVXR/n5BiJG04jJks8mr2XuFtwo5Ddpzxb4VeMOk8GOktJUadWjfz3yc4KvOPW4TLz01Xy9xen+88mTl4oj/3yZhnpiG/825/5z7DcXp4w11uTQ5yF9s/xn8jWHfscUeRZyq2a15cxI3vI4899mG+JYTn/8K7Rzh+/zFvCDFKs0FBAjmqBYdmDLh2ayJIVm+WlCXPOuL6+sx5fm/iZ/NuVE0x1VuJffnWrUzZtZErA9//xnC/k2ddm+vdTXBn+9LObPHFiLfq6oxyqFUzkccLNGk7k5pWlY7vGMrR/O/n5oxNl5ZpteXVavVXu+voF8tb7C+To0eO+bcHDf5ggR7Lzsjp9++ZhcuMV/eXB370puV+tkezcfUj+7/H3/EyAWcpvfjTO9UlbZ9lvkqPHjsvr73zmLPrqMnpEV/lo9gqZv7igX5j1jVPuv9/+5V1vOYMv1+2Q+5z7JSM9TXbsPiCH3Mzpr89+4L+73vnEsZTDIcGZvH95dmr+bIHnDx3QwdUprz2vGtXLPS9R7v/Na/l1+vH3x3ol9OhTkwvcK71OdbnvZ694pRIrUEJ9uqXL7v05snGrBXEznEapHvYhbgFWODHE9+6NfvHtXGLdpl3y5fqd+X+3adFAGmSk+fcZznpqWL+2PPHPafnfM6g/nrPSuRAan5GtiCn3ya8U1slANqNWzRp4gmaa37tHC/9ZzdRkf32TBrU9idesmSLfu+3CMyzm8Y7APlu0TiLFux8ulrrpNZzbpq0jvlRvsSY4qzI1peAunD1fuSEAFuWW7fulY9vMfBK//ZZh0iTEukSZTZyyyL9v4dwwu/Ycls0B18iCJevlZ4+85WZieeTcu1sLWeDup2QH5i5Y42cvDZz7CddUXlkO5btycnJOyA7nAqrz1UwnEhxzv3nu1Zm+TBcM7uRdJ7QB7Z2YFF0MDdwjuEEUkDkuI0Uf5/LZueeAm3Wdnk0cO5bjZzX0XdAlhRIqDoFnpCfJA9/rKB1ap8mv/rrCKXNbVzKcRqmSODHH2b2C7/zo0aNSnrFwyYYCu1OYBnfvlOXf415gKr8vQHjgwIFsqdEm2X8XCeo4FwHuh5HOJ5ube3pKvHzllnzLNvtojidgnf4rVq/dIdGgT4+W8q0bz5dVa7Y7Ys5Ll5cbgS81xyknyE/x0Scr3MJ0QeLfsm1f/vs8wjqaX34AmapVDqo7RXXgQMGdJEdcPZOcYklJLlkRvPrS3jK4Tzu/1oBSSC6h2BknT530syQFLpHqqYly6fCCecbpp2pVz5y5FAc07Vy3mNmsSXVp3ayGWwPYKQaDolRJvEWLFt6PxxbEeAaEw8Jjk8Z1nU/3tF+/QUYtOXSoIIEVhQOHst19Tsifnp4i+w8WnBKri4rnzHOLgsUBe8BZ7Jz3+Xp56l/T/ZZOFBELemdDbWe17913WllhRRYFLM70OjW8j1gXD3nfuEEd2bhlr3/2Pucrz6iXVuB3WNgorOyjJZeuDz/3mIt6ym8fe1uWOcXILIjFTxRySePA4WxZu36HPPnC9DO+O3GiZI9673UulBfe3OgWx7Pl9/d38++PZFf84+SGyBDTwiZuEnJmpqWleZJmtwp/B/eGs6BJ3k0WNA8dOiRljeopSXKbW5y64uLzov2pczMckM+Xb5LLHUGwSIdFxrR56MAOMmv+moh9/YuWbfRrcFc6H3k152eGuGunpcg4Zz0mJUavT/e5mUBr5/bBZw9J64IkVnxKcpL3ESfiSnCf9+ne0lvNoa6fbm62wefs1ji/f3tp4BYdlwV2uJwNnzmFk+ZcQPjakQXKMubCnvLwD67wdQTvTP3czwz0YA1tiJ+cNYSdu6JzM7AYTP0ynYvHPw830VczIT7HCk5zbcqzKdfoEd3PuAczA1/nr9qc99oGkeL9aUvc4nFL57qp50n7lFNWPTpnSc8uWaW29rN5+xFXR5FmmZG7mAwVHzFZ4pD3hRde6MmbV9u2bf0+8KVLl8qiRXm+0oYNG0qNGjX83+UhOTIDmkWsnc43+eak+VH9ljH5nFv8u++OUfKr/73GL45lZdb1Wwynz1oR8X3YfvaHJyc5N8dQ+b/7r5ODR7KlYUZtb+3GYr3Nnrdavn3TMPm1KxPuGbYYPvvKDO/OYLH1605p/ebH1/pFOsqM1czp1CBwC/ziv6+WE46EsjLT5c335svKL7dFXAbqhB/6pqsGyjCn1CBV3EaPu/UD3TY587NVfpcOO1Tw+2c4RbF9x3554vmP8hc1IwV7ul9/Z74/qDNsYEdP4K+/M0+muwVa/NZznVJlV8muyw5KrRqpfq0Dn3jNr9YY2E308/++ym9ZzCPyavLHh27w373wxiy/HTESfPjJcr/l9H//8zKv5FEodd2M5M9ulmUwnEvElJ5NM9yHWnWHDx/OT4Rcu3Ztvzd8z549bsEnun3HpYUObRrJIUdkm7acXoSjCo3coiXT+n0Bv22dWql+H/a6jbvyP0t11jyWF0SAn3mz8w3r6dN6dWtKkiPLrY6c+C0EwfdJjiQaOFfCpoAfuZazFJs1yXCzg0S/kLhl2978hdBowIygoVt8beos3ONOCVDWYB3Ys46yoW4bNu2W2q5cXLfduYT4bTNXl11uMbOuq2cjZ9lCRus374n6RC33ov7sAWdnzpqNO/16Qeg1TV1ZaGv21q9xi8jqfgH1XRsxcwjuHa/nSBEZY491gXs5a7t18waeNKnv+s27/S4YkOCsafa8ZzhlpX3Uomld2evKg5uI+zV39Q5xW3vs2nvYL2b6BdHa1Z3luz/fqg4nD9SpkVuQZuE3h/Z3bbw/xPdPu7jOld37DktxkV47Uf791CD50f8tlulzd4vBACpFjk2DoaLgR3e1l1ZZNeS+Xy12vvKyn+Eayh4WxdBgiCM88vRqN/M4IjeMzRKDAZglbjAYDHEMs8QNBoMhjmEkbjAYDHEMI/EI0KBBA78P3mAwGMobjMTPAg42/fznP/eJLgwGg6G8oVKQOFY01nSs4LfJycliMBgM5Q2lGjsFcLiiPISg1TjUJQliw0DuX3xx5ik/TrUS9Ks0Tqty2Kp79+5+lgA4TLVgwQKJB3AIjLJnZmb6tuFEL2n7OBjWrVu3/OuIPU/gNIPBUDRizrEJeTVu3Nif3Ny0aZNs3749n6w5gsx3xBKHaCCZtWvX+mxAFSk9G/WDlEJJHJK96qqr5LPPPvOhCEoaKCSNW8MsgZg18UDihGEgXAPlh7wp/5EjeSccaTPytoImTZr4079G4gbD2RETiRMnpXPnzlK/fn0/+DimvWPHjnyC5vtBgwb5zD4QN39jtU6dOlV27674x4Wp99y5c306utIAxPfBB3mJDfr37y+dOnWSeEB6erpX7q+88oqXlyD27dsnU6bkxR0ZMWJEgbytBoOhcMRE4gS3grg///xzT+ahMVQ6duzoLfXJkyf72CmtWrXyC4NYjfFM4kRmpC5YjERnDEVGRoa3zEFOTs4Z7RK8D8mmsUxpD2YpGq8kmM5OLf0NGzb4VHjRgudTXmZLWLa4LTSODZY8/cG9gy4f+o3no4CCMeCxmkmOTTkWLlwo0YD2QmZ4USaUP88niiPPidblhKWOOwaXC21HWwMs/HBJSIhpT7vyrGBcmDp16sjgwYNl+fLlcR8u2VB5EROJQ95Y3fgx27dvf8b3DEqfhMANUn2BaAMrlSdAAtdcc40nXoisS5cunvCC5MpsQ9sD4iQPaaibA+K87LLLfHjegwcPev8w/77xxhueYLk/ZAkxQUS4o3r37u3dDzNnzpRIAXGOHj3au1ogLyJNnn/++d4KRnFAyhdccIEv36effpr/u549e3oF8+qrrxa4H4vD3APyJcdqNCn6KAuzBX4LiROiGFmgjij5SEmcWR9WuioZ2nrAgAHy5ptvekueGRCWPgbDyy+/7JUQihXXFm23cePGAvdDqaDkKIuRuCFeEROJq4UGiYcDfmAGLoMJa4nBAtmFDqJ4ArMLfP+QA5YehDJ27NgC1+AD5wVuueWWsPfp0KGDJ63XXnvNkwdug4svvthbi+vXn84ZOW/ePE+WoEePHtKvXz/frpBVJIC8ILWXXnrJkyXK4Morr/QKYdKkSb4OWLGUB8uaMkHszKzw8WdnF4xCyHOpO66caAgc0Pf//ve/PWGiWHCrxRJjHvJv2bKlvPDCC16uUKL0Aa67t99+21+DGwt5g+xxOV166aV+BqJtGcSqVaviInWgwVAUSmWLISTPC+uNqTNWLNP5eLbEIVlIXEPtQow7d0afJgsyxNqGkIjFjiX6+uuvn+E/10VgXliJuAog5kiBQpgwYYJXprhlsrLyAiahfBTz58/3LgXWLAAWLn1V2IIifuyySvCBBa+KFPJGrpAv2on3KCCAgoG8qS9Ki/abPn16WNnjMxRMeQmVbDDEglLZYohlxMCCRLByWrdu7afyEBaumHglc9wexcWSJUu8hTxkyBDvXqBN5syZE3abogIrGfLk+kgBWY8ZM8b3A/51LGsIPUhYuFV4Ltb4mjVrpGvXrp78KVN5AySNawh3CcomCAwEZhoqV1jpuIkGDhzoFWR5z+9qMBQHJU7iDDYW4yAdJYMtW7Z4EsF1wPfxSuJY0MVBXvqyZFmxYoVfTINUcQ+w7Q4Lkml/OEBQuK4gq0gBIUN6Tz31VL7PGV976KEl3AxYrMwMWCzEv1xeQRsxS9CdOYWB2QU+eJQXfn9cSqHuIYOhoiAmd4ruE+fFe6b6EAZTcaavkIbm3eR7SJ1rcUHE6z5xCAErkG1yAEJm8TIa8BsIGyucdsCyxzLnX90jrdBdLoAFRYg8GveN7v5Q/zUKCJdQKFC0uCiGDx/uy4F7IhzoRxZzQ63gcwXqwWyBxeNg29AfuIsUtBN+d9wkuljMLFAPRgVBfzBTKa5yNhjKEjFZ4pAzW7Mgat2hghXHwtvKlSu9tXTeeef5BTt8yJAdU9rgVrp4A9YzuPrqqz3pQR4M/uB+5z59+vidHYDvWUTEIsQKZFqPG4UFS0iGWQmuJogV1wcEFQTtCzlBnljr+K91UZPnssMF5Un787rpppv8d7NmzfL3QjlA/tdff71/Dn2Akg21xCE5ZgU8Y9q0aYUqWeqDVcusavz48SXej5Rv1KhR/j0KjTbROrFVlXam7Wiv6667zteR+uP75nNdFMaFAjl/8skn3miYOHGivw8Ltsw6gvWjHbkX+9O1fw2GeENMJK4nMEOtG130g8yx8LDasNDxu65bt65c+lojBbOLt956y5M0Vi51wvca3KHD7ptwLg/IWwEJPv/8836RDhKhrbiX7nVWvP/++57McA2wsyO4s4dr9cRjKNSSxmpnmyBuEq5j1wzWbLjZA9/zu6J2D6EIIHn6MFYCp0wQZriFRNqtsFOnuphK+ekDFA5kTruynqC7S1BQkD1tSt8A/kWB6vbGIImjKKh7eUjkbTDEilLN7MMA0YFTlhY4MwcIEQKNFigqLE+Il22BpQ1IG+sQ4o6lvNGCdmGbHsSHYqhMYI8+M0bdOmkwxCNKNQBWPG8prAxg7zmWOu6ewhZVKzKYEcyYMcMI3BDXKPUohoboAKF+9NFH+a6p0gTkhQUOgUez86WiAD94YaERDIZ4gZF4BGCnQ6jPurSAdXiuFtnCnWKsbKhIUTUNlROVItt9cXzigAUw3TppMBgM5QlmiUeAc2WFGwwGQ7SwHJsGg8EQxzASNxgMhjhGpcmxWZLAx86hH45/c1SdHR7s7uBASfBIOIdUIg0dey7A4SLKHi6hhaH8ggNanI5WcGjKIi8aFMUiceJOkOSA3Ruc5AuSNce0OVnHYRmIjBOewZOL8QrqTIxq/OSEj+VwDuQIiXMKU1OlsZBKIoLylPuSoFgc5edwSxCcqiVEAlsNSyMnaEmDhWZi0KCM4iVBdHFAPHnCCzCWkDVOoBL6wWAAMZE4xA1ZQQgMKGJXcPRZSZzPiWHBYR+sUa4lFjYZZOKdyBlM1JMTlVjhzDR0rzHxTXTbHlmA4gXsuiEsbVnFCg+C+DMYAIQdKAwcv8cwKInQwPEAMkRB4MyiyFJkMAQRE4mToYXsKcRDgdRCD0xwlJk4FlgMHF7BAiQCHvkcSyt5cGkDa5WBBMEoeWMVYZHr1kMUVCRKit8yPSaAE9Pi4NSYIFUoRgKGBTPocD33jmabY/A54UKx6rMAFm1hu3C0npSH+9EO3C9YFkIs8B3/UvZw5eR5XIMSDL2GcvA9MxgNLgaos7aPXgMIEVCYS4F6cx/+pdyh8cQpA+XXSJw8o7BTmzyTQGIE3IolnC1l0AiftB/PCXUvBvspXHm1X7Tu4UAMH8qn9+Ze1E2fR3vSXjyHdqfO/CZYJu6vMsl39GW48iiYaXMvmxWULWIicaLeMYg0SH8QOuXDMtcgROzPJk4FkfuYAsfjcXxyOZIBR4mKGNwAASbdWKRgkJA0A586A4nBQxAn2hTQdkQ5JCgWMxyA0sR9gHWK4owEEEO3bt380XpVLqGDEeXaq1cv/55+mz17dtgkyEQvRHFRNkLBUn/SoHE9QA409yWDGmIgmiLpzxQofe5D+/E913EyVQmAmRszOCUznckQnZDAW4BImSNHjswvL2XVMijU1cK1PId2QFZRUsgd97/22mv9gSpIiL8hL9qbMocqMqIfkmaQWWQ0OU6Dv+/fv79vf8rCuPjwww/zT+SqPOCKgzyRB2SB50U6TugXolUihyofuPmw2l988UVP0sgU7YE1TxsR8AxlSV8SJZLfMUaRcWY59DNl47ek8wsNg0z7E0kTuSDQWmU88VteEBOJqwAyeEOhwa6Cwa/UUi8sJ2c8gNCmEAaxwKkHgk89o1m0pU0Y0JAywbQQfAYN5IZyY/DwgiBJ4ACBMUggSAY2M5lIwX2Jo00CBdK7QVb48oPWL+FqIVodkOGiIgIGPS4xlApERr3VCtYY6bQJhMHnzLo0bK1m3SHMLFESUViQSd++fX0McwgA5cJ9+Q4yZyEPdxUIzmxoDxI8cD/aJ1yMcP09scRxDxHtkLqxZsO6DOWlPswgISdIilDKtBXEvn379gL3Y50AkozldCuKhP7GHQJJ0geQKZ/xbIA8kfkKecDo4TfUDZKNNHmzWvvBGTHvqad+xnvanyiSBDzj/u+8845vG5Qv5YO0eT4KDXmnrbiW8hLSNyjryABKmL60hBtlixLfnULnorUZJFg6ED5WBtZOqKDFE5S0IEFeCG60Mwp2rpAKDZKGuCAh3Eu0EVN2zToPcWC5XnLJJZ4EWThW8gQMNq4PnV5zncY3x9LXsKyA53HfYAIFrE5Nonw2Nw3lDLV6AWsd9PV7773nCZd7QYZY+fQ/ioLvmdpD0mqxERpXk4uoa0Wn+dQzHDFoIg2eEc71w70I6AVp4uMHED+uEGYlwVkMpKwhbPkeFyDWayiJ8zyCZMUClBnPQFGq4kOp0i4AxQeB0q4aQpgyUh5mSJGSeKSgLrQ/yo33tDuKI6gMNZ6OgrIzm0DmgjJCX5Bq0VD2KJUthkxzIWysDJ3GIwCV/eSjJnBggDJ1DX4emtkHQoeQcFc9++yzBRQGA4pdMsGkxyC40Md2x5Lc3liYz5iyUw5cDqE+fN0WxxQeGQhOubkfllxJgjrTNqHZ6yFIlGc4yx3ojKqkDQztg2DfoWh5AW2j0Dj7/I2ypbzBNi0LUHYLEla+USokjiWOxYFlAxggTLmxACpzeFoGJPWHoNVSVITutFDfJb/BWgsGxYIQyeBeFNSldS5AGZl+h9ZB3W58DyGVdn5V5IwXRB4Ef2vbn0tovQuDKo/Qa/hb6xIpLJBX5UXMOTYRNB0sDE4dpPo3Vjc+Uab0+NlA6F7yygZIDWsUtwo+cH2h3IJWKu2KDxnfJNYq/loWhaMB92UraJDIQy33kgB9yiyL/g/WiWm6Wu9YwviVKY+CNrj88ssLHI4CyEesygerl2c2adKkwOe4c2JdUKcsmuA7WuCaoSzBlHi4udiTD2gjXURUMLbw4+O+irS8KAsUe3A2p1mLDBUfMVniDEjyR/Iv02l8fFjd+PDw5+HPxWWARc7nkDgLcxX9pCAWsxIV7iT+ZlDiUsJ/iJ8XC5pBzOfszKB98Mey0MXAhcCZtaAE8ZXyLy6VMWPGyCuvvBLxIhK+aBYjWZgi5ylTe1wKwTjl9AuEoTuKIDtAeflNJNslISIWPIcNG+bJClJiYRF3EYuTyABkhj+eBVpcbZB+z549veIKddMgI/ivaROUG0SksxA9QMZnkD9txXWQGNfgc8bvznNoX56NSwpy04XEaIE/mEVa/OL48aMBu2J4Pv1Je1Jmyqu7jig392Qhk35F2XE9fRLMIsXCJ7/Vba4oAuRMD9FRbxYtWYegbXUhurTBLh/amN02hrJDNSccD0mUYLAiRAgh/kcGI1YDQqgLJZATgw4iwKJkIams/HuUF8EuicMhuDm4T+gCGMCPCTFCGrQDbcJ7ns9gA7QXRAVhcj2Lkyx06lY7FCBty+KcWue0K4MYKzXUDVMYGMwMbO6HMkEZsEgFaepefciCXSwoYgiT/qG8kAU7YdQS5DMs7mBS6CDw8UIo7LrRk4W4V4JtRP1oB6xO6kd7oKRCF1S5D59xHYumejIW0AYs6OoJWa6jbLQh90fWaB/6h7bFCtbFRF0fgPj5DfdUeUApcE9mjqEHnpAb2ocE4LplNlJQPurJ+gVETP0ZBxg0OiOlXBAhbUdfYFEz+wr2M7+lzegX5EfrQNvQxtyLPkA2dWugbhXl+dqvyB115jpkimdTb+rF3/jnuWdwFxS/4/csEIfOolURq2wbygalFk9ct3LpvuGyRHHjiRsMhoJgfN9+++3eAKkMoQ/KM0otABZWXGEnvQwGQ3yDmTazAj2kZig7WGYfg8FgiGPY8rXBYDDEMYzEDQaDIY5hJG4wGAxxDCNxg8FgiGMYiRsMBkMcw0g8BnAakFOJHCjhQEo0x5s5iMHhFH1VxOBC1Cme60Z/llb5g+EqSgsc2uHUqx27rxyIWpo0ow3xJDRLi5740mPaOog5vahZZThZVhFybHJ6j2PUnITkdB+n6IgtHsxuwkAlLyInJkNPOXIknBN4gBN8HK+uaJlROFl53XXX+WP38bitEwVN+cePH1/ioSIGDx7sxw7xzksDEDcxy8/W7oxNDBDCzpbVYTyejyHEmGKccCq0LM6WMA4JbUGbwGe0HadWC4vzxHZlTsZy6jc0YmZZIGoSh5wJ6M9Rbo3AxsEe4kQQH4TPaBRiq3BEWoMjES+C+BHxHsWQo9EcgYagOOqMwgq1ePiMuiOQoSRO9hhOuKEIr7jiikKfw2EKrCmujyYlm6FygxjmyB8xWQoba5ybIHQwhgghMcqCxCFNElLo8X+CvEGexKU/l+WhrQgfQKwZjCmMTvK8EvYi3ElUjdfDi0xbcUnikDRBlNBCEBSkTgowKq6xOYifQbYU4kQQFIvvsUzpMI2lHK8gDgaxLpScaY9QoWPGgaUVLn46sSt4FZYfUoG2pw0JW1sUiaNAIg1bWlQoWKwhBLo4aba0LNFcG+76SELWRlPvs92nuM+KpCyRPqc4Rg5jkcBzpGkrSmYYi8wgi3qWJgAvLaMLZUN8GIwhxgs8QZA3uCNcCsLSCmOMIoPEJ0yY4JUIdcZIpR3hs9BYOpQPA62o8VvabReKqEkc4UBDBYUWtwHBlCAeSJxIbFQAEkdzMb2GJJg+acCeeAOKiA7EikGgNOs4ygxrGTA4qLuCdoo2O4um9GI2g7sKa0UTC+O2UeHhOwRN2xqBg/CDLitmDcyICKhEgg7cBCigt956q8Az6RsGEP1HAopo3V7EyCEHKW4iykmdQ/3JyADp2AiMRTRFrkXJkfZLIytSPowB2oD70H5YijoYsH6YwXBvfk85id3BNdEAsiM6IURCOxPci/swiIOySXuQ0o6BjsuQSIZBIwSFjlwwM2NcUI5QC5g+4BqiSBIoKhiWVkFdqDd1g9gIDKbPwf3CmKF/eQ5lJqAX9yFyJG2kBgVTfMi5KFcKM2jkGDcKchYE1ijjWFPWAcawjndm1JSH92SawnjRlIOUHeURKXFpwgyVNeqNPGj7EDyP3KNERYVkNYgcbaORPOlDAodhEeu4gGCRLyIrhhJwOCBL9Jta1NQNFxp1Cp1hU0c+nz9/fn5uWgUzZ2YTuIR4PrKDMsKiV2OOftb+0+BrlJ8ZN59FG2BNEdPKRzC3JAMCcqYzGAw0CgOWhqbwEBvX8l4JMB5BKFUEiAGjeTD5O5gMGIKEwHghhNQ3WiBMhFMltCpthsDwHP5VgUcxEr6UAUfnIygIAyFTg+2LIEEixCanzES2CxdxjgEAUTBTitZ64HkoCJ4PQaPQKFdo/lXKTFkoN+WiLMTdUIuR9iJsLnj33Xe9a45BgRJSMPCRJ9oFhcaAIayvEk6k4B4QA31InknkltjmKJEgUBr0O3kpkWHKrinxUHzjxo3zhIciot4MRpSZAt83bU+fEgoXUtH1EAVExBoL/c19ILOrr766QOx1DRHMvxAtZEpb4JIIhvLlb4yKwpQwypY1GVyf4dwAyCvhbOk76gyBo4AgHgBp4xKlvakrwIjge0IfRyM7RIUkyiQKm7akXpraESAvtBWEiBHCGOBZpCxU0DcYM8g9bUKb4SaCPCMhcABhM4aCIZ6RZT4PWtvwGooWg4O6hgK54HeUkbHKmERhYhzpmKRcKkcaTpnyYgTHSuCg2MvkaH86gkGH8GiCCCwpOokX1gmDMZ5zbGpoUDQ9HYH/LFRoGUAaNlUFP1ogTNyDdmLQYFWFxhBXv/ybb76ZL/Rci9WOsAdjhgOyxWu5woHfakb5aAH5IrxYPgwqgEBCKKGgTig9yDN0Nkb8cY23DjExiBjIkEjQukXRaK5P6oQBAfGoNQ65haa6AygpTTVGmbF0GVQoBA2hHAqUEgMMMKCZfUHMGmJXs8SjiFDukCwDV9OqQXTcFxLiGsqLxablw7pUAtTQsdyHZ0AYb7/9ti8nCgdwb02mzDjD9RUkGkihMDKg3oxBFBZEHKpMFJAffUBbUV7KSt+gZKiDZu1iFkA/kZgaBRatm5T+YixdeeWV/j5YuRBfMFUdbYh1r/JMX6EUIX1+o2GGIUoUM4ukyE0wR2i04B7IM775YNvS5nyHm7QwZQX/0XY6Jvk9ZUM5YkRpfVD+9C8zPNotliTcQRSLxBEqBAxB14bTbPcIKJYMgkDDnksfUUUHFqPugFEy1MzmDLpQEi/NHSIMPpRzcAEXYQ3nMuPzwlb9UUqQadCyRK6YUkN8OriD6w8aRztoiev0NAgGE1Yu9+Y3kBjWG64SZJP2wToNlc+gRcs91EAB3IuBiZKhfHynbheFuq+C/ungOgltxwBXRaF1okyQO/fk9ygmbWeUIEqc6TiGRfDejDklkFBAQlj9JBYpahzq+FUwfmnfYKJkXBzMtrAomXUG46NHCsqCFY3FT5uhVOg32iKUyBXIGH1CewezRmmiFeQe10qsPEP/IRfIQnDMoDRwBWJ8hCaWDiJ0fYyy0WaUV+PZo3gxmDC4mA2hqIubezgmEocsKBj+IRoTS0m3BmlFsAqoAFoGgkEIuNaIvPhAiLBaEerg4GF2EC45cmmuQZTmAqPes6jZG4M6+D0EzVQ9FEGrinZia6cm8YAAGFC4VgpLCB0K5Bv3D6TKoKccGDQQrkKzOhWFcPVm/OjiGKRBO2Dlcy8sf6xfZCA0MYn6qEPBtYxVvldfLuOX++Oy0oxc4aD3DLaxjnHuyxiPZUyj/FjD0RkUhEdfoDB0jSkUKg+hdQyWMdadLfQncsCsiP4MAuVCe+FVYIZJvVGYuIBQRIXFUy8sATeyyD20/YqLqB3UFIjGRmOhQVjsQbsEOxrtTeHR0AghGg6fEZaDJXSNDOES6CogahQj/m3cWLw0Y0ysu0u4n/p7owHWDwOHRT5FLC4zLEjuEawzliz3Ds4sgvfmPbIVVFwMChRc6EuJRmcwDD4IH0vw5Zdf9oO4MBdDODALpWzIP9ZjqA8VoBgY+Eo6odtRNbcqVm2wTrQDY0VnNChryox1CHGjKLgmVGFzr3CuJO6Jq4v6oqTUFQFom6KIhHpSTr2GezHboTz4+fked1a0QNaC7UX/oKSC/R/aXriZ+D5oqfPZyJEj/RZm6o9SinbdjdkQ90C5h24OACgYDFXagbbTMUb5i2o7+gLjNSi/KANmMJSX+2HhF5VMOxJEbYmjgdBMNB7aOziVxSqhgfmcXIi6l5xOpiJMfSsyiev0GNBO/I3mRkDVasIfy7RYr1OiQnCCU2EGFwLAgGHwIvSQAkLD3wgTOwUQOpQpipU2ZzoZ7e4S7s2CF8TGVqtoLCv6FWWCj08JAfmINikzCgh/J+SA/FAW3HH4YoP1Qe4gW9oKtwIkWZjlFg4MGH5HW0HADERcOchlNAqQ9qcfWciCcOlHfLy0ByRCn2JlMj5YnEP2uYZnq8uFfuMaxgf1oX+ZHXANi7sKFATlZUcIfcPzkKPQdIN8Hm6Rl/YLtS4pK+2I/ATJFLmlTurGwdrESFCyog7IHdYnfaZnQjDcILtIwWyJe1Nm5AY5RzEFrVraEbcLz0FGeQ7l0tkS4wO5ZWxBspQNHzTtjcKKBNwDIuVZ8BdrLAq8C7QxClDXewAyRNmZwQSfw734XN1LKBTKpv2EUmIGwn1Zb0GWmc1RR9o4CO7DGKLfzsaZMe0TRwjpNDowuGVKc/NhOSBwFA6hgtjpnOLsQS4vUL9qOCA8mqCWgYNgMvgQUk18y4BloNKhWFIsGqm1FUzmCxkwwOh0fS4LaQg97c97hFq3IPK9TusVDLxw7pVQUBb8flij0e7H5Vp207BDhbJoDk8GW3BqqxZ1YfeG5FgcpU60EWVi9wlEGwQDgDZmADBoWIsJt1ugMECcLKDhVkBpcA8+4x66P5k2pKzBtqTcOusAyDpExO4C2h8ZZ/AyM2BM0PaQL4ua1AkS4hoGdbBdGLwMVhYKqTO/C+ZcBcgGBK8WqObNDN2BgXKnXliAZ9udwXOoTzhZhuBxvyAT1FMXXZW8KIsme6bdIHvqGI0/Gn7ALaQ7NSgPRBzM78m9uDc7UqgTso/cK+AX2pXP+D0yhCyynsDsKJKcusi85gJGhoPAgGCnSSiUA0N92ZQX4wO5QsEHF7WBJpSnvJqTGDLHcEHWgxY711JnPUBZFGLK7BPqIwtWTjtRj97rtKmwxa5zgZLM7MOg18EW7rtwLgnd5x3pNUFQbvX18X1wkHAvhAYghHwfbGOeo2EPzgaIh36N5Npw4Fm6rZB7aL8H5YHvabeiZgr8jjpRX34fvFZPGb7++uv+Xqq8YpEr6spzdCdJ0OUC+C5Yfq6njULrpPfQ33MNgztI1JChKgteob5QvY9eEyoH+mztX81fG+46LFHkHAOgKKgcBmUG4oak//GPf3i543PqFayL9nHw2SpnwbaJBGo8UO5Q+cUqJ/TBc889578L1zY8l98GZxLaVvwmEn+zymU4FHUP+isoy5T32muvlRdffDF/Fk15g2ULNx61vKHjgtPctDuHoc6GmBY2I+ko3Rte3JXX8oaiCIjvzubKiOSaIIqyqLhPUdYGghHpwsnZTpCeDaHPCq2jEkK09wkH7h3pPuDCgAwXNTMMLSvXh36mSqSo34HQa8It4Ba1oBr67MLy1/I5Fi6xU5glhO5SCqIoOaQ8hclVuOdGI2ehzznb7Jw6FdY24Z4Zrp/OVoZYDJeiflPYd+HaKVx5IXrcOsxsIoGFOTPEDRjMRRGTIW8RDncMroFoF8wgk/IQCwRArpQlXoLmYTXj7iqJuC8QO7PN4NbTomCJkg1xA6aeOvU2FA09EBMNdB98eQi4hpsjuDe9vEPLC4mf623UpRvY2GAoQTA47JxBZIiWwEF5al8s8XiK3lmW5TV3isFgMMQxjMQNBoMhjmEkbjAYDHGMYpN4RcwRGQ4ay+JcPKewffgVCeeqPc8V2LcdPO1X3qBypa+ybvuSKoPmKajMiInEEViOuGpAGE48hYtXwHVsgudUVLyDk6dE1CttaA5P2rQigxOXHN4p7KBFPIFdCezNDsZAKW9ArogPwulHXhzsKW7MjljBcznVGC5ccbTgoAxH7wk7UVkRNYkjsByxJYwnZEPkL4SDI+YKyJu/+Y7rQkODxiM0illpg1NdHLmtCORWFIgrg4xEG2OlPILQCBritryCQ3ccS2ebLWOYqIhllaCF5xKfBRkoLthLTrgJ9sVX9DFTGGKKYgg4008MAIKyI8AExdEBCQkR/AVC0v2TBkNFBDMKYo0Qs6M8b39k+xtkRwwjYrpUJBAwjf3Z0WZ4qiiIml05aEFmlWAMaVwrBN7BWiVYD6fqCHxOECTSXlUkEJmRKHPUnYBJoZEZ8c8R4Aorg+BTCFjwiLhmliGCHPEXuIYIaYXt6+V6sidxWImIdxrGAKuDz4nAx0kx2p3pfDDlGf2i+RSxfHBt0TfBiHYEGOI7/iVgD5HZgkeu27Vr50/y6ekxFDKDhZOBBHNiOss1tAUzFcrDUWoiwgUTJKDQtQx8X9Rxa+Jy8wzie0eTtoo2pyy0QfB4OO1Cm3MUncFOWYjBQtswtacu1Du4z5drOnbs6INN8Vuu1byxwf7EYKH9o4ngFwsogwZF4lmUK3hcO1gnLF0sbk0HFg2CckUbIpvB0K8A14UenqO9kR3eB1MVRgLkn2Bn1A35pbzBfkO2GEu4XZADZJD6hcbvpt8oJ/3FbCie9peXBKK2xDXIVTBAu4ZV1QGnqa/KMuhVaQBSJPIadYasidoHoSsQOJQW1hnCiLuAID7BaSNKgDRfkBntSORDwlGGmwpC4AQkwl2lOUv1c2Y6GnWNQUU0OPycQfcEg5roeARF0sFC2RTU4ZprrvF1oK8gWcoSzA1KhLVQVxnuNPVBMtAIQ0sZNTojA5tnaln4jHIwW6PtUPbBXJTh2pl1FA3uFSkwMIgKiWUcBO2iIYEB7j1cfRA48kl9aL9g20GKuEmoF+WmrWi/oB+ZuqC4MFZK8xQp5I0cQaw8h+h9tG9QrvhM60C5cHVqBMxIQV+S35MogMgadUZWQ/3NyAttivxjjNAu0a57IRP0A+OA98gD7ayzdj7jb+SGPkIm8OWHRhpUYFAg2yXhook3FMvPoQkiICa0cLjgOBUJ1E/TfDGYGUgIvKYcwyIhNCchNSFFBOqGG27w5IaFwADr27evV3Lk8INUIEzyDGL9EPpSoQSOEBNbOph5hTZn8PA5ypJBCxFBuOGg4URDs+BAvljEpIjiO8pHWRj8mhw4UmhAfX4DYaLMIAEsNEgbYuWemnUHpcLzw4Hws9wr2uSxBPHSONXMPjQ0KOXRvJ70G/Vkpoj1DSgjBEH/aS5VBe1FjHWdOQTbj/tAHNFaoNECw4E+1FCvlJN+QrkyM0CGaEtC7CJDlJFwwJB6MJP72aBx4MkjiYwjV8gfC9Djx48vEMyOPqVdsI41d2m0COZbZWahgbuoK6SNMcA44Tvuz1gjGU040D+Mz2AqtMqCYpE42hc3CtPvcHF3KxoQFHV7QNIIHIMHouBzCFwTBTCwGBCaygnwGcIZjLsMUTEYQqM9MjXkPkSlC81QDzkiqJqclnsVJbjBOOPBnJwoA/pNv6MMEBtWXbRxK4JuJabfqhQA7gxmEkFFVFQgKwZjrAYBdUWZYR1CyLQjJKZJOeg3kkjwPaTFrg0NhxpukTU0Dn5QsdG39HdhkTrVegwFykz7DrdROGVGtiHan7JRVsqsMsN4g2i131BSKDCNQa6uPn4P0Wvs77MBC5v+VxnneRgfmqAgWE/kjRjY4dqF9g9NFE6ZkfPg9ciJ/k6TJzDbgMSRGWRAE3xrQKzCoFEZo529VQTEnGMTQmLKppnSo7WaKgI0NrROAbGmsVrUX4wQBi0UrmMwhPq/wxEw5MP9IfLQwPAaLzlSoiss9rlmTA8CsqVOxdm5ELrAB9FFG4I3VlAfSABFhEWPfx1FqNHl6A9mQxATViRET/kKsySLWqzU3xQ2Y2FMBBN9KIIKDCIM9TkDbSvkJVys+eC6BddQzmA/a7jaaEiNdggN8VuYPBQVrQ/rX8k3kuu1vJRfn4M7izaIdLFY3byV5dxKEDGROBY4e6bpXDJNl5fwlaWNUAFhWosFpBYKfj2sTcgDoUIQgxYJg4rrmYIHs8NjaSHkQUVIlhusNXzU+AaZKitZMIAZnLxiTeJAmRk0ofvR6dtg7sBwiV6jBUqLtoglsl4swMWAMoXMITh1mwDKgOuJabp+jl8WpRktlCgL29pGGxaWfV5xtlmHGgIYTcEonLgNeD4yg+KinpRD48Kj6JHPaFwL3IfZQxA8JyjjkUDzmkYDyJvFUv0dZaE+arCcDchX6GyhsiBqc4tGxWeKHxwBZfEM/yYvTdLKNfhAWbSjYREEyIwpUjxrSurBdA9orlHIOJhQgTZQa4IFKUhDgQWGhcLv9BoIncXF4IIj0B0PkDeLdUGSgdwZoEzFNYNStIcdGBhYgdxDM7RTdv5mpV8tIBQ003XNRsRCXrBOkQCLlwGJ9asnNZm1FAZkB39urPt+1a2AUsXFFZpFB6C8dPsrz4slSTT9DkmW5mE2SBzXCDMKnfGhdPCJ60lF3TKIGwPDinoxE9EEyZECHzVrLSqLPA93Kf1X3KQhoUD+GR+6UMyY4L26vehD+kTTHfJdUYmskUnNQ1vZELUlTsdqCioW7HgpmIrx0q1DKtyQH34/BApiitd40NSZxUxIAcsIKwhfpVrI+B7Z9YBvERLUBMjaDlyHhc2i3+233+5JnYEYzO8YCgYWioNkrhA7BI6gkpuPHSoMXBRlLG3KLIqy3Hzzzf6elIVyBNc3eM/OiG984xu+/lhI0VpZWN+43FiUory0Q1HlhYB0MTiYazJS0O4sbLIgGPTDAsqPn5vvIA5kGZmNxZ/Kc1DKKFBN81YaoO2Ykd12221eZiBxfP8qM/TH1KlT/cKg7hBCIbP2olY+8nrTTTcVyIl711135d+fhW/aDKPsxhtvzN/tQXtxn5LeZcb4wKj71re+5eUKQ4JFTp2hIjPMaJlRqdFT1BoNZWWGWtyMT/EISwoRIdhpov5sLFMGCgQTKlgII4MMUmCAQ+BcG9z1gEAy8CENyJPvdJBABvyez/TeWBgQLMIevA/35lqUCdNgLM+XXnop32XB/RHuUP9kEDyPgYslw4AN3fcOGPhY4JSHNuS5lIUBQ114NgNICYP66p50teD4DGVOefgtszisYZR6aBtyf16UO1ZipF60mVp2QVAWysHzqQPEodtClQSoF3XA0i7KCuUe48aN87s3Qne2lCSC/USbhXOTMHOBGCk77Rv0m/MZxkC4o/bIoMpMsG2oN/0d2geMBV5Bl2A04BmUE6OEfmZ8hquTnqlQ+aLunAD/85//XOA66sbnzBg0qXNlgpF4HAKhxU/O7hgGEoOXWBRYZPh6K9Le/PIOiAarHoKJdlumoXDQrqy7scaEuwgDip0+/PvKK68UuJYdOBgwzLoqoyVu5+HjELoSj2sHKwkXF1YMR7+NRM4taG/caBCMnhg0lAyYodGutDGGCzM7Qn0EwewOssf1UhkJHJglHsfAzcJUEzdIUVnvDaUPdXdYHteSBQaKuuAg8VAjhXGNayec26yywEjcYDAY4hiVwp3CgpUl2DUYDBURlYLEmYpVxkMABoOh4sNybBoMBkMco9LsTklJqSots2pKtSoiW3dky579x8U2chgMhnhHTCSuQZ/0GDBbgXgFY4yzc4Lv2e/Jd7gzynL7W2aDVPnNf3eWWmlJMmfhbvm/J1bKrr3mYjEYDPGNqHenQOAcg9XMNIA9yuyV1d0fmkhAA7Szf5Pj28HQlecahMxo2jhVrh3dRK4ZnSX3/uJzmTmv9E7YGQwGw7lA1D5xjTbGvkzid3DARMPSahAh9nVC7MQV4QXxc6pNA/aUBZgEbNySLdNm75KkhCpSv178J+g1GAyGmHJsEqgm6B6BxImyxukpYjaQgzO4rQ/iJ5AN35d2LsKz4UTuSW+WJ1SrfHGHDQZDxUPUJA5xBwMC4fNWt4oG0QnGjOZ7TQpQHrb5Hck+KUmJVSWzYap3sdjipsFgiGcUe3cKx76JLU5Ev3AB/3G9EFecCG9nC5B/LrD3wHHZtitbhvarL/vc+5VrD8rsBZUvBrHBYKgYKNY+cdwoJIiAvHGhhO4+wQLne6xxkhvEmoWmJLHvQI68+NZGqV0rUW65qpmMHt5YDAaDIV4RsyVOSEjCPxIPmEQHoRk1dDGToEAQeHnJQJ2RnizfuaW1zF24R37zxErZtz/yZMAGg8FQ3hATiRM7uX///n63CTtUNHO3gl0qJKMlkQAWOrkOywsy0pOkqpsZzPxsl6zfVPr5Hg0Gg6E0ETWJQ9DnnXee3ydOVmtcKKQjA/i8ca2Qig0/OJk2WNDUFG74xcs65i+LmidPnpIjR0snlZbBYDCcS8RE4qQgg6yzsrL8S0HORj7HQsf/TXorXgqscmJfl8XJTbYUptdOlJ6da8sJx9+77bSmwWCoAIiaxCFnyFqztQehu1PwkRf227I6et+kUar88r7O0rpZmmzaekTWbjRXisFgiH9UiqQQIDWlqgwfUN9Z4Mdk9fpst6CZI7knbZO4wWCIb1QaEjcYDIaKCIsnbjAYDHEMI3GDwWCIYxiJGwwGQxzDSNxgMBjiGEbiBoPBEMcwEjcYDIY4RrFInOiE4Q79RPq9wWAwGIqHqE9sEp2wbdu20qZNGx8rnBOYxExZuHCh7Nmzx1/TqVMnadeunQ9FC/bv3y8LFizwKd1OWRYGg8FgKDFEbSZD4hrwigBYa9eu9dEKybGp2e+JM06gq2XLlvnkyMRaGTJkiKSnp4vBYDAYSg5RW+LHjx/34WfJoZmbezoSYPfu3X1scSIVkoMTqNWNhQ6Jk2NTrXWDwWAwFB8x5dgMhpMN+r0heECCZD5PTk721jnZ7wlJG8zNaTAYDIbio9g5NrGucafs2LFDDh48ePrGjrxHjRrlE0jgG8e1gk/cYDAYDCWHYm0dwdLu2bOn/3fOnDkFFi15T0o20rZhgeNq0YVOg8FgMJQMqjlyfUhiAAucpGgj0/3MmTNly5YtBb7HpbJu3Tr58ssvvf+8a9eucuDAAe8zNxgMBkPJICZLHIu6R48e0rJlS791kByaQSscf7hCLXIWQWvUqFHgO4PBYDAUDzHtE2cnSpcuXWT16tV+DzgZ7QFkjeuEfeL4x3GlkM6NfJv4yPne9okbDAZDySFqEscKx4UCKbdo0SJ/zzj4+OOP/b5wSJsFTXarsHMlNTVVVq5c6RMnG4kbDAZDySHqzD64QzipiYUdCpIgY4lz2AcS51/cKFjgWOxsMzQYDAZDycHSsxkMBkMcw6JTGQwGQxzDSNxgMBjiGEbiBoPBEMcwEjcYDIY4hpG4wWAwxDGMxA0GgyGOYSRuMBgMcYxihaLVOCh2CrNkUL9umtSokezfnzieK5u3hw9TwCnYunVqyMFD2XIsJ/IDVDWqJ0mttOqyd99hOXrsuMSKqlWryPABGXLtpU2lVs0E+dtL6+SDT3aKwWA494g6iiHEzbH7Xr16+ciE5NIkpjgRCnNycs64nmuJdsjRe2KOl3e0aJoh37l1hDRrUlfWbNgpx4/nyrkA7XrhkE5y89UD5cLBnaRH52by4SfL5eTJM0m8cYPa8v1vjXQkfky2bNsrkarQ87o0l7u+PkJWr9shu/YclFhRs0aC/OnBHlKzeqI8/eo6mb90nxzJPjftZDAYCiJqdwrH7Ql+RdArjtJzzL5z584ydOjQMzLbc/T+vPPO8zFWMjIyJB5wweCO0rt7Sxl5fmdJq3Hu4p9jcU+btUIe+dskWb12u7PIkwq9Nuf4Cdm2Y78czj4m0cyBUlMSpbazxBOqFc+L1igj2ZUvQabO3C7vfLhddu7OEYPBUDaI2p1C/JP58+f7CIUEuMKCHDx4sA96ReIHPgd8jqUO6fObeAhBm+JIrnvnLGepbpfmTetKx3aZsm3nfv9dYmI1adeqkew/cETqpdeU2rWqy/pNu2Tjlr0+dnpKcqK0bl5f9rrvM+q472tXl3Ubd8mmrXsjdjftP5id9zqcHfb7xIRqboZQz5dz6szlsmHz7gL3zsqs61wmybJv/xFp2SxDMOJXrN7iynzm/eiPGqlJ0iIrQw64Z27YEnnu08SEKsJ/B7NPhJ0pGAyGc4eoSRzCCnWLaO5MJRQIgryabdu2lU8//VT69Okj8YA2LRo6X3NNeeaVmXLZhd2kQ+tG8vHsL+RE7klHeMly7x2j5PDhY44cT0mCm3WccG3xj5c/loVLNzoXRx353jdHyvETuZLrPk9MSPB+7cef/9AR6TbfbsVFamqiXDW6lzRplC51nBJ54oVpMnvel/ntPvqC7tKnewvZ43zeyU551qlTXZZ+sVkeeep95+oq6Dvn91+7eoC0aFZfXnhjdlQkXjc92Sm1KpJ7wgjcYChrFHt3CpEKybGJBY57BRCutm/fvj7bD+Fn4wVtWzb0C34rv9wqX3y5Tbp1aCppNVP9d0wksL6zj+bIU//6SP7wt/flkCP0K0f1kjppqVLVuSjS3L+HjhyTf7w0Q/745CTJcTOQ68f2k+opiVISOHQ4R54f/4n8y5FujlMQKYkJEpzfpCQ5d0mtVJkxd6X87ol35UNnrffo0sz7+fPhftAwo7Z847pB0rFtprw4YY7MX7w+oufjRunXM11GD2vkXDJV3IzlkBgMhrJFsXankFsTlwm+748++shbhFjhHTt2lHr16sm7774bdrGzPIJy9+7aXLY6X/NW50JZuWabnN+/vbN668je/Yf9NVjTC5dtlCVfbPF1nff5Whl7cU+p41wniumzVjrrd5OzyE/K3AVrZdTwrs4PnSq9e7R0BNg67LOXrNgkb09ddNYy8nzKl+TIO/dk+IXEo8dOyHsfLvF+82Urt7jnd5Faaan536ckJ8hVl/byrpS/PPuBzFu0LuJZwmUjGsn1lzdziiJJxk/aJItXHBCDwVC2iNkSZxGTDD4sWi5ZsiQ/xyaEzkInVjnp2LKysnw2IN43aNDgjMXPcw3IOu9V8PP69WpKpnNTVHfkNnpEN+979sTerWX+Nfh/Dx466kkPEmeLX1V3TXJynqXNZ4ePHPUEDnbuOiCJzkLHP57syDOtZnLYF1v/SgonHHlD4CDXl1MKLGQmOL86rpTEpGqS1aSu3y4YKabN3SVPvrjWKYf9cumwTOd3ry4Gg6FsEZMlTlYfthZiha9YsUKWLl2ab83hSmEhk0VOFjxBUlKSJ/CePXvKBx98UCL+4VgAQQ/q005SUxJkzfpdzqLe5D+HrHt0auYUUJJfmMRihuSzs3OkbauGfrFQr6vu/NL8C2GnpqZ4koQ0q1Sp6j9n0RFihPCx0PGb40f/YMZy519fFbZcocky+G1Vd79q7nVcSnbrHr7xZ5wfP6tJhowd2VO27zwgMz9dHVGfrF532L8OHTouP/1BF+nUtrbMX7JfDAZD2SFqEseSxl3CPnFSsZHNnj3g4MiRI94CnzRp0ukHOMK/6KKLfJb7WbNmlWl2n1rOv3395X3dwlwNeev9hfkkjouhY7smssMR2mP/mCr7HJFD4qOGdpVLRnSVxg1ry+49h9yMoqp06ZAlkz9a5twWOdKtY1PZ4aztI47sa1TP2444sFcbWbx8k/NfH5VebpGR/di79x3y+80j3XO+fccBSeuX6nzWjeUL59Y55vz0uSW0CyQnJ9e7ZD53Lpy2LRvItZf1lc1b9/o98ZFi/ZYj7j4nnUKzA78GQ1kjahKHsNl1gj88MzMzP0kymDFjhmzatEn27Dm90wESB0ePHvUHgsoj8BmzqMmCJtsC1SqF5C+9sLt0a99UPpq90lvfzZvWkwfvvVxO5p70pyafe+0T2bn7YB6JO55t0SxDfnjXpX4BMd25LZ584SNP8tHg00VrZcTgjnL37RfJnr2H5Y1358l0t1g5cmgXGT6wg9RISfLbHK+/sr+Mckpm+aot8urb84rYM37mN1jgz7wyQ/7r2xfLtWP7ymNPT/GLspHgwMETkuvrX3JuIIPBEBuiTs+GfxvXiFrfQWzfvt3n2SzwgK9OeGZnZ8uuXbukLJGclOAs6abOvZPgSGy/c6nkWZ+pjhQ7tGnsj6Ov27SrwPXdOmY5P/cxv1/8L7/+mrw1aYG32NMdgX/hSH+pW+TE99y6RUN5+N4r5OUJc7zfvH7dmrJ89TZZ5gg2FvdRs8y60tj56Ks518zaDbuc9bxPGtavJS2z6p/hx4bov9yww289rJee5hdcAQuqHdpk+kVaFmfrOuJv3ay+rFi9VQ66mQKg3iixlV9u8zOQSFA9tZo8/8c+kl47SWZ8uktenrhJlqy0RU6DoSxgOTYjRLrzb//1N7fKMy99LJM+Wuq39p0MHLRREn/iuQ8dsa3y7piKehCGunXvWFv69agrDTKSZOIH22XBkn1iMBjOPYq1xbAy4VTgX9wqZ9DzqZNySv/j+wqsGqnbwmX41Q+4mZlbxM01O8BgKCuYJR4hWNBt2jjd+fWPyL6DZx5jT0pybqZ6tfyC5r4D2WIwGAznAkbiBoPBEMeoFHvEsKJZkDUYDIaKhkpB4jVr1oybULgGg8EQDSrNaQ2zxA0GQ0WEHbkzGAyGOIbl2DxHqEJezAaZkupcOyD74AHZu3NbmcWRKQzMWAirQDKPs4ETuIRdiAXIDmsVubnFiw3DwTPaMNqDZDybtIK42oi0uXPnTi/HjRo18vU6dMjC7BriA1GTOIMP4Sc6IQOAvzmpSRwVMv2A+vXrS/PmzQtELNy3b5+sXLlSKisSk5Jl5LhvSodeAx2hV5NVn8+V1/7yCzl65LCUJxBO4YEHHpDMpllFpn5DfS9fukS+/e1vn/EdxEqANBKCtG/f3pMskS4BSmLQoEH+e55FHPq33nornzT1RPCQIUP8Z1OnTs1POhION998s//3D3/4g0QKZLZfv35yySWXeFmFwB977DH/nP/4j/+QmTNnypQpU8qdgjUYwiFqEsdCGzBggM/cwwAkNgqW24YNG2Ty5MnemmncuLH06NHDB8PSgFdEN6zMJH7CWXsz331VVjryHjr2RknPaCjVEsqnn56okzOya8n+44WHqc1KOSVpKWfmIIUgIcdhw4b5/r7ttttk8eLFnsQJ1XD99dfL2LFjZevWrV6x9+7d2xM1hJ2WliY33HCDD5gGwRPemHg8RZE4shbtegfGx7XXXuufQVRNMlURLgIZJUQEsm0wxAuiJnGmv8uXL5eDBw96wcfaHjhwoLe8GYQa5IrrPv7443wLq7jT5vKCak5pNcxqJXUcCZ90Cmr9qqWSfeh03JAGTVtKvYaZrr7HZcvaVXJof17O0ZMnc2Xj6mWydf1q6dZ/uKSl1zvj3j7UbVptyWzRXhKSEt3vV8qBPTsLpL1Lq1PPX7Nv13Zp1Ky11KhVWzZ9uSL/OvqDGO/8S1alogiwpMEOIAiyZcuWfmZGoDSSg0DGECOztwsuuEA+/PBDefXVV308HWRG87KSJapbt24+wYgGWQsF9WrWrJm/L4ogFPwGWWS2SN3Xrl2bL5O0X6tWrXw5+P3cuXNl0aJF/jpcKilfKSV/sMuROfUhmNu6desKPIPrUB7cb/Pmzee0jQ2GUMRE4gyMIBiEEEeoH1XdLRA5UQzjHbXrNZCLb7hDuvYb6sg80bXFCVm7fKGMf/zXcnDvLjlv2Gi59ObvSkr16j5uyo7N6+SFPz4gu7duPOu6Ae3U4byBcvGNd0hDpwgg/f27d8j7L/9NFs3Im+FUq5YgAy8ZJ537DJGD+/ZIi/ZdJDElVZZ9OkPGP/EbR+Q7PMH85Cc/8dc/+OCDfoZ0rvCd73zHEyjkh4Jv06aNjyt/zTXX+Pc6c8P65Rrcb5CgZn/Cr/3LX/7Sk/PDDz9cIEImYIaAlX/llVd66xuChWxRGIo77rjD53RlBkgbcM8XXnhBFi5c6OXz+9//vlcc6enp3qXSpUsXb4n/9a9/zS8H7p4RI0b4tqQer7zyikyfPj3fXYgiuPvuu727hfKeyzY2GEJR7NgpWD5YJVgjTI8VaqEzkIgzPn/+fG/RxOsiKPUZPHqc9Bl+qXz01guyYv4sqV6zlrTp2tt9V03qN2khY2+7R7auXS0zJr7kLW3+vuTGO+Xlxx6WnLMosZTqNWWUUxB16jeSN578rfeVX/7N/5LRTimsXDRXjhzY5yNPYXm36NBdvlgwW1567GdywhFLg6bNJfdEHsGgDCBIlG2VKpFn7SkJvP76696Ndumll3riw1UCiT///PN+5nbhhRf6cuFioYyUb82aNfLnP//Zky0ypBmiwgHCxg2Ce4bUfyQZgVCD4D5/+ctfvCwim/fdd59XIsuWLfPE/vjjj/uZAr70adOmeWuc56JgyD4FUB7PPfecD6vMdbiAcAex9gMgdyx57mdbVw1ljWKROAKMJcPUFUtFXSYMRP5WPyODGUKHzHUgxBtSa6bJgIsdGcybIR+Mf0aOfOVC+XzWVP9v1wHDJb1eQ3n1sV/I4jkf+s869Bok7Xv2l6SU6mcl8Zp16krjFm1lzpS35LMP3/aWeKPmrWXsN+6RtNp180j8Kxw+uE8mPv9nWbdsof972aen74M1+eyzz3qCPNfx2yHK/v37+wQguExGjhwpq1atkjlz5nh/OHKCBYwL45lnnvHW+Y033ihjxozxfxel4P1MpUMHb8m/88478vnnn3sFwPOCGD9+vL+OF6kCIWdImecie5QRi5p2gqRRCAolccrHwibyynNZ6O3evbu8//77/nvcVFj3kDh1NRjKEjGTOMLNzgPybOIjD2a1R7B1yxfXQfZDhw71gzheSbyqc2XUTK8r+3ZuyyfwIOo1bCrHc455l4Zi744tktC9r9ROry+H9u0p8v78Hmt//y78vHlkdnDvbm9h123QWLZvXJN/LZ/jvgkHCAqLGJyrdQiI9bzzzvOWMgobQOBY2yh0XBPs+MAah/jeeOMNT+6QKModHzdWc1EuN+SI7X+QL+4PwP0gWgUGA7tlWHhHgeFzh7z5NxqLGXeO+rkpP79FdhXI9oQJE/x728FiKGvEROKQDYtDDFzIG2smSBhBi8onD3YWOcLOYNf8lPGGU678x48ddX7ZZF//0MF79PAhn2czIfH0YlxKag23+Jkbso3wlJw8ddL71INnrY4eOShs3EupkZb/WbIjJVw1oUoDZZF7PHyaOwgHKxRgqUJgpQ2dkeGLhsjxc2Nd44PG7cB3uC6wiiFxJUhkhvcQ+NlIVt1ytL0uQPKbYF/wHIwFlASL6tz7u9/9rnf3RQMseGSV8vEsnh1cvMQ3zxoQwEVoC5uGskTUJzYhYXyKLP5gkTCtBQxE3ReO1cL0mWsR+CZNmvj3EEq8+sRzHIGv/2KJc5EMlqy2nf3hncSkFL9DJDE5RXZu3eCt9ZadukuS+7tm7XRp6q47uH+3I+HTyYRzHYllOwuyXsMmktGoqd8/zr32bN/irMxsd+8unsj5nPfHj+d4y7sAimhD+uFHP/qR/M///I/fA30ugHX88ssvez8420pxNSxYsMAfBPr9738vf//73z3RYnnT/8gPssKOFfaEM3NDNvISTaf4XSqQKNewCKluDqx3vmcHiyoOfq/A6kZxcB3GBSSMyyZacH+UD2VAKVC24GI+MwJ87ffee69/bzCUJaK2xLFSEHIGF1N3hFzBIhFW2MUXX+wHLVNaSIVpNSv4QZdLvCHnaLZMefUp+dp//1Zuf+BPsn7VErewmSap1dPk6V/+QDavWSEr5s2Uy279vnTuc77zg6dK01bt5aU/PSzHjp6e8kNiSz+bLgNHXS3f/PEfZeeWjfLvZx+VTauWyZzJb8qIq78hd/7sr15pNG/XTeZ/9I7s31PQdXIq8P9QQIQsJhZ3YbNXLWcl5xb++xRnOG8N1InZFoTGwRn6+qqrrvL7xHFHqOJmcRufNLtYzj//fO+rhrDZUoi8oPivu+46n4Sb/K0Q8v333y/btm3zh3lWrFjh78k1+Kj5PXXle8D3KARcKrhzKE9RFn44g4LPUC74wXH9de3aVT755BOvGPLr7hQJz83bMWQLm4ayRTUnjA9F8wN1h2CFswMAotYXg4mpJRYUBI8lwxSYgcdikW7hOtdAkTAjwIdaHOzduV3Wr3D1yD7i92qzzW/OlAmy0RH6MffZ2mULvFskwVno+3ftkKmvP+MWKd+Rk7knQu6zTbauX+XIeYf3sa9dvsjvJ9+waqns3rrJW/YnnC98zuQ3ZPLLf/NuHI8q+J8TZduG1e7aZfk7UoKgfyBwdlNgDeu2uEihR+HXLl8iqxZ9Wuhr+YJPZfbs2QUOcKGsITusVsiN74MLf/i8IXFkBPJG4bMQOW/evHxCZVsq/cQ6y9KlS73i537cl9998cUX/joIH6OBrYPMBrmGraz4s9Vtx+cTJ07096CcKn/UEeua+wd3VGnb4YpBniFrfPmvvfZaAdnB5963b1//TBY7K8L2WUP8otSSQjBQeDE4y/qgD4QBORS1fS0aUK8EpxTIeH/ieIhickSQmOC+O5XrXSfRwi8EO6LGxXLC+b4rYlwadbNhfet+7mhA+2Olo6BC1yZ0IZ1XcXzVhT2D+99zzz3+0NIjjzzid7FY7CBDWaJSZPYpaRI3VF5A4uxPZ70BAq8oJ5EN8QtLlGwwRAGsbnz7BkN5gcUTNxgMhjiGkbjBYDDEMYzEDQaDIY5hJG4wGAxxDCNxg8FgiGNA4uvEYDAYDHGHKlWqLOTEZkv3vn8UP/IxKlq3bu1jYBBciIMbGuRKwak5vuc6YqcQ/4K4GmVxMKKkTmwCYqLUrF3Xn9AsjbqkVK8h6Q0ay4njx2I6LBREh54D5NsP/z/ZumG1j80SD0C+atWrLzVqpUv24cL7q9fQS2TcXT+WLxfPCxtVsqKAsUOCDE6bhmYYigWcmfjpT3/q46QTZ51xoflPQ0H899tvv91/z/g2lEu8V9XhzWh+wSk2jhyTFYVIbgQYIp8i8S40VgcEzt98zvdkeyEGRUqYnIzxBCIKDrj4Kvn6//xWGjRpJqWBlh17yJ0/fVyate0qxUVKjZo+XVz1GrUkXlC1aoJcdsv35IbvPySJjmAKQ3JqdantyL5aYsU+6sCYgciJVVQS4IQsuXB5MU4h9cJAnCTiyIRm7DKUHzj+fjjBafdpzZo1e9T9/f1IfoS1TSwKgg0RWpTjzZrmipC0aGzC1JI8mWuIlaEhPeM5xkSqI8RadetL3QaZjjwaSt1GTSX3ZK5kHzoohw/sy7fKyeiTVqduXmTCbVudNXngq9+n5efG1Jgn3BOL88De3U4BnnK/re+UQ3Of3adeoyayf892Z5GfkH07t0Zs9Sen1pD6mVk+gFZeuNuCSHADMr1+ps8klH1wv+zeQYCqgkfXyVhEDtFqiW72smenD8Cl15z+fQ1ftz07tsrJwKlF4r7Ucm1AXBmIlkQZ2UcOya6tecHPCAxW1/2e6/g97UFoXcAMh5lOvUaZvq3rZzaX425GcvjAfjlycP9Xz0/y5E2u0tef/K2PQxOKmu75deo28GUmFs3R7DwrEiOjTkYDOebkkHrUSs+Qo05ed+/Y7EMN57ehm7kRiZM2J/ZLpKcyNfgYY4KxwVjhXnzG3xzhhzQZC8R54dQnzyA+enBsQJoQN9+FyzPKcyBX7gspE6grGGJAA3TxTGLM8BxmoQQnI5YRJ02ZTZPqLhz098SbIRaN5gYA1E3T71FOykGcGdopOBPnHjwXS59ykEovCMql5ed7O/kaEx51/L3OmzGOzR9yAjPUvXqc7Vc0OuSMgCmxIEQQNy4TOpdkEXQowYk09gRCFM8xJnoNGy1Dx97kSIZExbVk3J3/68PELpkzXSa9+IR3rzRp1V6uuP0HjnzyEhUTpOrNv/3WEdgmad6hm4z52vdk5ruv+Ow95MsccfVt0q57H3nt8V/5xBGjb7nLEXmGJCWnyqW3fNeRzyEfdOuZX99XIBlzYajbsImMuvFO6dRroBvU2XJgz+4CkQwJb3vR9d+W7oMudERd25HjXvl44ovyyXvj84k4q3UnufjG/5CsNh0lwV2/d8c2V7/HZfHsDz2Bnn/5TdJ/5BWuDep4JTDjnZflk3dfyyfiBk1ayHXf/YmsWTZfstp2kkZZrXxwrxcffVD2O8K+9Nbv+ZR2SUkpcsSR+BcL5sjbz/3Ju0T6X3SF9L1grCPxZu5ZCfKNH/3ek+v0f78kM95+yd+/mbvnuO8+4BZzqnh3y46Na2XnltM5Lpu3d+389e/5PKVg7YpF8uZTv/PuJIj7xnt+4X+HsmvSoq3PkvT2c3/29VP57Ny5s3c3ILekjgvm8CwKkNq4ceP8OHjiiSd8kC0ifpK96He/+50P+EV0RWayEBep5SBFsmD985//zI/kSA5RYrPQdwSVw2JW8BmJN3gOYXgZj5wg/de//pUfzIt48l/72tdk1qxZ+REhGX+/+MUvIgo9Qf0pM/VhPGO0aaRIlNudd97py48rlRfvSXsHLwDI+dZbb/Wzb0ic35K5SXkDUAfcOSgw2iqoKAxnh5ODRe71EO+9dDgy3+dcI8NdA/PhWS3ykyFWCyFBIWu0sbd2XEdjWZDRhQ7leixyosZFG1WvvGDFgtly1FmU5w0dLS3adZWP337Zk9JuRw4EwarbMFO+9ZNH5eDunTL11aedJZwto274ttz0Xz+XJx76rqxdukA2r10h477zY0ccByTFWalDLrtOprz2tGxZu0oO7d0j77/0pLR2BDfkshvk0w8nypY1K7wVe/zo2RM7YPmTj7Pn+RfJxGf+JCdyjspl37jntIvLEfCoG++Q4Vd+zRHiK7LOkdt5zq98+Td/4GYCu+TzTz7ws4VvPvCIJ+TJr/xdDjmSb+lIkbjnoNvAC2SMI+F5096RZZ/NkI69BskV7vfEO58//T1/DUkzIFpe0ye+5FPNZTTKckSUhLXgld0U1z77nYXfpGU7GXntNz2pTnz2UVk+7xNvmV9w9de9kpj88pN+XWDz2tNhYCHsD157Rjr1HiJd+g/1Ck/BDOL67z3oZjd15L0XHpcqCVXlmjvv9+nxnnR9QBuhaFPdLOSD15+RRTPed4r0674MtMeBr+K2Q8K4CpVUIwWKG1IjTo8SL24Q1obUosYChtwgWIh3+PDhnsxIZ0cIX8I48/dbb73loyRCpuqG1BR1BOAimuPTTz/t455zPZY4RIlFS/lREITixeomMTXZkyINTbx69Wr/fLIukTM12AbUC6VAOUi+QZhe8p5efvnlvkzUl2TVzMS5B9b/ZZdd5hNL//znP88PR0070Ma0i7lrosajEDi8zR/5Kv6rD+52DfuIE96H3EXdI7HM6QgEl3CiCBCCjHVBZ6LFsRKYGhL/mYXNYHD9eMIuRx57tm+Wxs3beety+byZsnXd6vzvm7ft7Mlu0Ywpznre4vM27Niy0fu4s1p3kFWLP5PJr/5dmrbpJGO/cbfP+rN2+UKZNel1717Zu2ubfxEFkVjjKxfOcVbqrPz7Q1Cd+p4ftmy4dLZvWuus5w6y+csVMm3CP6Wqu0+9xlmepABWeO/hl8nOzRtl9ZLP/DNXLf5U2rvFz859h3kS73n+KEnPaCQv/ulBmT35TZ98YsnsaVK1Wt5O1K79hst+p6Qm/esJnwRj2/ovpX2P/tK6Sy9ZPGdaIGRuFZn30TtOmTwScOu4mdvJUzLhH390ro76Xuntda4YiLNuw8aeYIjJvm3DGl8OCHTBx1OcQinogsNN8+kH//azoc79CrZHc6dcscAnPP17+WTSaxTEKaHu0rH3IMls0U52bM5Lcbfq80+98iQbUz1Xjv4XX+NnQEriWIXIM1ZuMFRtSYFxQh5USBvDB0Jk3QiCg+B5Lsml+Zd2+OEPf/hVs1bxcdghUkI74xrBWGJc8TvIFjeNXouFT8Jn7qOZiiIB9yPGO0qAcRsOhAYmRC8kTPkhZXzoGHRY8iQEUcJmJtO2bVtp165d/me4aQglTFsHU+wZCsU695rAGiYu8OAX/x/ZDDAi2pRD1wAAAABJRU5ErkJggg== 2x",alt:""}),W.createElement("div",{className:u9},W.createElement(ex.Tx,{id:"dev_handoff.configuration_wizard.install_extensions_step.figma_for_vscode"})),W.createElement("div",{className:u8},W.createElement(ex.Tx,{id:"dev_handoff.configuration_wizard.install_extensions_step.figma_for_vscode_description"})),W.createElement(m2.gV,{onClick:()=>{t("vscode.install_extension_clicked"),e((0,pA.gd)({rawInput:"https://marketplace.visualstudio.com/items?itemName=figma.figma-vscode-extension"}))},className:ps},W.createElement(ex.Tx,{id:"dev_handoff.configuration_wizard.install_extensions_step.figma_for_vscode_install"}))),W.createElement("div",{className:u4},W.createElement("img",{srcSet:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAXIAAADMCAYAAABukyi4AAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAACJKSURBVHgB7d0JlBT1nQfwX3fP2XP0DALDNcPgCsixigQDaqLgbox4R0HcNfoMSDa+NW/hbV7iywsmSvYlz10Xd02eZlHjS2IWEjTxCsbsg0g0GmMAFUGOyMBwX3PfPV1bv5qu6qrq7pnuOrrrX/397Gunp4+CDf/69r9/9T8ClEZjY2NNLBa7JxAIXCVJ0hx+iAAAIB92ylncJGfyi83Nzc+anwykekd9ff0t8pt+LN+tIQAA8JImuXP9kD7QQ+ZXNDQ0rJND/DH5bhkBAIDX1MgZfUskEqG2trY3+AFDkMsh/m35xwMEAABet1AO8xo5zH+rlVbkcso98XIKAAAIQi6zfEELcrk3fpBwQRMAQDStQf4v98YJIQ4AIKIaJci5cE4AACCkYPznZAIAACGpQT6HAABASEECAAChIcgBAASHIAcAEByCHABAcAhyAADBIcgBAASHIAcAEByCHABAcAhyAADBIcgBAASHIAcAEByCHABAcAhyAADBIcgBAASHIAcAEByCHABAcAhyAADBIcgBAASHIAcAEByCHABAcAhyAADBIcgBAASHIAcAEByCHABAcEUEYMPcqnKaVl5Cc6vLlJ+VoSBVFQ31DzqiMTrRH6Vj8m1fdz9t7+iVbz0EkCm0r8wE+D8NDQ0SAWSoSj6Z7qiL0LKx1dpJlanjfVHa3tlL64+20HH5BAQwQ/vKHoIcMsYn2L0TauWTrJqc8OrZTgQ6aNC+rEOQQ0a4h3Tv+Jqse0gj4R7UU8da6ZWzHQSFC+3LnhD/JxKJfIcA0lhdfx6tnFBDpcEAOY1P3Ktqw3JvLETvtKN+XojQvuxDjxzS4q+6j1xQJ19wKqNc2C9fsLpv73HqGIwR+B/al3Mw/BDSemL6+JydZGxquEQ5saEwoH05B0EOKfHXXW74ucYnNv/Z4G9oX85CkEOS68+rdGzkgBX8Z/PFL/AntC/nIcjBYHxJkXzhqZby7V754hfXUMFf0L7cgTMFDFZOrKXxpdYn/AYqKik0dpxys0MdUwz+Yrd9MbV9cVuzym/tC6NWQMO9pV9fVE9WlMyaQ5XL7lF+qqSuTup9903q3PgsDZ4+QVb8/Y5DGMXiE3baF4d2xQ1LqOL6JYYAHzx1gjp/8Sz1bH2NrPBL+yrIIK+urqZrrrmGZs6cSfX19cpPfoxvhaztB9+3dEJU3n6PEuJM6u6kWGencl/tlfPJdu7BVZbCfP2xVnrqWAuJBO0rNavtq6jxAqr9xne19qS2sWBlJQXCQ6HOx+XjZ0vE9pVKwSyaxSfRihUraMGCBcoNkvV/tJOyFRozTgvx7lc2UYfcO+KeuPKcfOLxCcgn4qiHH6PT991B2eILUyKcaGhfI7PavtQQjzYdoPZnfmA4TljupVd/6X4qX3St8nyX3AazIUr7Gonvg1w9wZYvX17wPaLh8MnBPedsqSHOPaL2H//A8Bwf76zcEx/75AblROSyS7YnM9cyecgYr2znRWhfmbHavkpmz1HaDn+b47akdhJU3HkIyr1yboflC6/NOsi93r4y5euLnatXr6a33nqLVq1ahZNsBP27su8tsbL5n1F+pvvKrNTJ//Smcl9fP8/GtHApeRHaV+astq9i+dscfwBw+zKHuIqvw7CiKReQFV5tX9nwZY980qRJtH79eqU2CZnhr6VW8FddZvViZia4x7ThZBt5BdpX9iy3L/6WZ/qmZxa0MXqFea19WeG7IF+6dCk9+OCD6CFlKWoxiDO5eKX2xK2G/bQ8zABMB+3LmqiLH/RcH2dWavDMS+3LKl8FOX/V5a+5kD0r9ctM8Emm1jitnmiVHpm4gfZlnVvti4ckqkGebX1c5ZX2ZYdvghwnmT3p6o92KCNabr9Huc89d6snsxdm4KF92eNU++LQVoOb6+c8ppyHI3KJry9eK8+WH2Z4+iLIecwuTjJv4RDnIYfcG+cLXTwpSFRoX97B7Spp0tmf37R8MdUvhA9yvvD06KOPEtij9Gwc6jXxsdSxv1xSafth9hM19PI58w7tyxlOtS8ObfVaC1/k5HHkPOyQbx3yRVEr5RU/zOwUPsg3btyIC08O4JNi0KEg5wkaPBSMTzhlRqfN+ihv15UvaF/OcKp9RQ8eUG4qDm51ZnGV3O4G5OeyvRaTz/blFKGLQ1y35B4T2Mf1RidULx+aZcd1SydCnOVr81y0L+c41b5S4bVW1PAu+/RnKFt+2JxZ2CDnEwx1S+dYnayjxz2j8PVLlBA/61CIs33d/ZRraF/OcqJ9DUftpVtZdTMf7ctpwpZWcJI5y+qsOJV+4azWx79v+Ppr1/aO3G+ai/blLKvtiy+YM75YPlzJRF0R0crStvloX04TskfOvSWemAHO4R6T1fWdeSyvGuK8Ap3VYWCpcP0y1+tgoH05z2r7UkepqEMOh3sNy3Z1xXy0LzcIGeRYXc4dHMjZKpVrknyRidlZFzqd7Z25P8nQvtxhpX11vTo0CoWDnC+ic2jrcYDrR0hle6EzH+3LDUKuR75582ZPr3PREZVow/F+2t4Wpf3dg8rvVUUBmhoO0Q1jS2hupIjGlwayPGYvvXRkB205+THt7ThOHQO9VFVcRtOrxtPNk+bQvFGNNKHc3o4nPDzs5N03ZPWeup+8knFPi2vm2S5le8sHzTm/GOX19iUqK+2LcYCHdR8CXLaLyddhONT1a5TzdZlsS3r5aF9uEK5Gzl97vXyScYA/1dyrhLce/769ParcxpcGaWV9GV0/tjijY26Vw3vNhy8o4W04pvz7e+cOKrcJ5TV039RFdNPES8gqdReWbMbiBmwuWDScV8925vwk83r7EpmV9sV44ayBpgPK7kBca9fX2znAe7a8pvTcs724no/25RbhgtzLX3vXN/cpIT6S430xevhANx3rK5MDffglNJ/cv5WeOLCVRnKsp5XWfPArOtrdqgS6VXzRsnuYJUPNTty2kNzAtcv1R3O/4L+fyyoHDw3Qnn398s9+ammJUW/fUGdj/LgQ1URCNGNaKc28sITKsvy2mI1s25eKS3Z84w8DdSgj98qtXlTPV/tyS4j/E4lEvkOCWLJkCc2dO5e85tVTA7SuKbur39w7/5RSZkl9qYJ74t/96GXKxnvnmqhaLrlcVGNxb8SSEgoWl1Dfzncpnx5rPpeX+qVX25cdHOAvvNxJW7Z1U/PRKHV2ShQdTDzPv585O6iE/Acf9SsBP2VyZt8Ws2W7fQ30K7VwvsVaz5FV+WpfbhHuYuesWbPIa7iHvb7ZWqN4eH9PUhlG9ciezWQF9+C5pm4V1yOtXJhyCq8N/crZDsoHL7YvO37zehc9/dM2Jcwz0do2qAT+fzzeQi1t7kxdL+T25RbhgtyLM+22y42fw9wKft+O9sGkx186ulMul1j76se1c74wagePRHF7Ekcq+7v7aV2z9Z6WXX6ayfnCyx30x3etjZHmQP/h+hY6ftKdGnKhti+3IMgd8MopezPDfn8uube05eQesoNLLHapGyfnCo/nvW/vcconvwQ598S3v99HdvT2SvTcLzpc65kXYvtyi6/37MyVE332Gvr+ruQe+bFuexdiPm6332D5wtLoR5/Kyddg/rrLJ5kfVqLLtx1ygFvtiZtxz/yFl9wpQ6B9OQdB7gGpauQdUXu9KSfx1+DI/Q8kTcZwQkc0Jn/VPevLr7v5wjVuJ3F93W7vfjhoX/b5cvNlcB7PrOOappOzN7mX9NSxVvTCHcS98Za2QXLa23IPf+7F2e0239U9SB/tbqeu+DfOMWNKaPbM1EsCo33ZgyB3wNSKEB3r839j4Vl03HPiscDK0qG7dma9oTL3kDacaqONJ9sR4C7Y/oE7Q+r4oif3zDMZlrhrdwdtfP4I7dqTXJIZO6aUrr5yNN24eByFwyHDc2hf1iHIHcAzNN84l9nwLj9QTzjGa1vwCccz73hmHZ946mQProHyhgJ8QatU7m3xjLz5191M4A6+OJnpMEMrOMxHCvINzx+VQ/xo2udPne5TXrNl2xlau2YGjR2dvIM92lf2EOQOuGpUsTKp53gB9MrN+OtwPoaRQTK3hgpqxz8xfMlmpBDX40Bfs3ZP2jBXoX1lBhc7HfLg1HICyCfukbupdZja+1A5JbMQV3GYP/7EJwT2IcgdMre6CGEOedWbx2+Ej//IWiDv2tOu3MAeBLmDrpevyv/6U1Vp104B8KODh7qV3rVVGzcdI7AHNXKHcYhzmPOCWG+cjSqTfToGJeqMSsO+B8CucXXuLHSlKitLvSpiqtEp2Th4qIvAHgS5S7jUwjeAXBlfFyKKtVFP78jjyAPBEJWWVCo/M8XL3KZipzfOeLw5H4OHJoI1SBoAHxk3LkgH/prB9Hw56wcH+ykcPo8Cgcy+EU5pTN3j7+ryx+YMIkOQAzhsz942ev7Fw3T6TC9xQY0LEpJ6T0o8wj+Vx3VVN4mfD8RLGBLFXx9/i+5Xw3t0v3NvvLsnqr126FABObR7Kdp3hIqKA1RXN5OKS8IkxQYpGu2h4uIKGsmM6SVUG0kd+E70pNEbtwdBDuCgbW+dpB89s58S+ZxIXMkUvgHtMckQxtpdXeYnBX7SnfiHgPn92nPFFCiaQt1du+ngJ3+gKed/VgnzwcGoHOQ0ouuuSb+lH0+7z3bood6UyWECewo+yHnBqt+cHqC/tEVpX5fza1SoKkMBmlAWVCYPZbpXZy7wLkRbT+6hP8eXva0qKqMJ4Rq6uu5CW/t/FqrXfncsEbyagDFk9Z1zfqXye6LfrgV4/L7+verxyPRY0mtS9fLlH8Ulk6ivZze1nDtIY8dltonG5fPL0/bG2ewZVVQRLpJr3dZKLDcsdn6xrEJT0EH+xrkorT3QnXaHHqftly/q8FT+9c1BZcx5Pi+G8nrlvMdnqs0r9nYcV8L9if1b6eszrqNFcqhDZpoO6/ailNQf8b65LqC14NVKJVJSL1wLef3hTF1tSVd6Ue4aAjzxM6AePzg0i7K3N7Ox2+Priui6z41celm2ZAI985PDlC0uqfAHAdhTsOPeeKPkr3/clbMQ1+Op/Pft6qJXTuVnfRbePWjFn54ZcQci3tB51fafK4EOmVMDVZ+rkj6wJdOTZArh+GukdM+TlNQDl2KUuvRCnPEBY909QxziK+6OZPTaG68dJwdyNWVr+V0NqI87oCCDnDdKfqo5/xuv8rcBHm+eS3vbj9OaD3+V1XuePLDVkR2HCkJyR1sXyBJJUtq3qK8gfWddf73T/Hop3ss2X/+UyPgmSRf8meY4l1M4xMtKA5SpB/51qlzvHrn3ruIQnz+vlsC+ggtyOxslu4E3X86lVds3kBVrPnjB1obOhUIfpokLmal72FrIS4nXJCWtVkqRtP/Tevta0idelui5J/fApQxSnFc3XHFXRCmnZBPirCIcov/83ixadtvEYV/HpZS135qhLGULzii4GrmdjZLdwH8X7pXnol7OdW+rGzpzmYVLMnc2XkaQnpa78d+Mv1PS72nr4AEy9u7NgRww/U7x65nxD4yAOrQx/l61P15ZUUrX3fIZOtcyQMHiChozupKqqsqVyUQzppdmHd6p3CEHOa85zjM+m5q66OChHrl8UqIE/afnjaLZM1ETd1rBBbndjZLdwLXyXAT5lpMfkx1cXkGQZ0JXxkgTxqnKLIaAVkerpAt0KU3Amy6w6kOcD1ZRUUZf/Ef3/w2VDSS49i0HOriv4IKcR454zf6u3Pyd9trckNmJDZ19TzL3ws2TfiQtsBsnVyq3lCWPVCGeOITh/sFDnfRJU4fhsaRDSgFDrRz8peCCPB+jVEaSq7+TlzZ09qvkXrjxoqP+hZfOPY9uv7WR7NqwqUkO8k4yfBMw/IUoUVtHkPtSwQV5VVHAc2HOf6fkx+wNyaoqLiPIA2PnW7sjUWCYMosDf2w8oAPaXyJg+OBQn+/q6qOf/fxNKi4pp0hNPQWDRVRUZL2tDAxEqau7h/r7rY++On9yWK6dY/SKHQUX5LxR8vY2by3yw38nswsj42lvR3Ybz+pNLHf+xLiwejzB8MwXIrXH1N6yS30IdV5ozPQpIhlmIRF1dvbKQf4uhSvOo4bGUioqLqeysszGiqczMCDR4cNnqLfP+jc+rqmv+97spA2ZITMFF+QLRxV7Lsj572TG0+NfPLKDrHJjNiZmeGbIVM7QPWR40bvvnaFTp3uNb4u/cNltjXK4JXrKu3a30pY3TpA2pEVKlGqa5Bq5ZBrqon14aK/TB7uziouLqKGhjvbtz35mp0rZlHnTEVp+92SC7BVckF83plgZR+6V8gpvKnHlqOR/hnmjGmmC3Ku2MlxwQnmN4+ukuHFMf0ozGsXw+9ADykVK+aYtnqUukCXfFl05zhDkHPhb3jhuvgaqHGtoqCFpF0j149HVCUYB3X03cJiXlZbIvXLro8K2bDuDILeo4CYEcT169RTv1I//fUb6mXBrL/oCWcHrozjNjWP6kXlMePKsTCnpteafpOtBG48tGUI86Zi6ENdPHgqQfny5e0Ihe3HS5cERZaIoyCn6vLfmyvr8h/mDF4Rpajj9PwH3ytdedCtl4ytTFzleAnHjmL4VSA5wSS1uaCFr7IETJcaAD1/6CCTKL/pZoPH3xWK6UoqUeIk2q5Rfg1ErvlSwqx/eW18qlzUCyuJZuZ7pyeWUTFc/vGniHJpeNY5Wbf/fYcssXPrg0Ofwd4obx/Q7SdeUDCscBnRDA809cH22avdTXjE1Br2krauo9bxjUvJIlZTDEsFXCnoZ2+vHlii3V0/107ZzUTomB3qni7XzuZEiZS3ybGdxTq8eR5sXrqaXju6krSf20NGeVm3dk0vlkF1UN4PmndeorCU+HA7mTGRzTEgtcaFT2xkieTVD0zt4yKB+nfKkV+jCPKCbaGTcfSjR61eD3lgfR5z7EXYIokSgex33zvlm1dPzv0TgLv3UeO33tBc/peTfJUp7QTKx9Lhplqak/kmSYblc/d9J0so2kqt1csgPBDmAgwK63YBMQ7h1gT70hJR81XKE/vLQszHJ9H79ErXx52KGlbTQD/c7BDmAg8zL1SbKHNp/tNcFAgHDBVDjG0zH1Z7Sl1fioa47tv6/8RcaSjLokfsTghzAQcOPITft3RlLit30vWfJuBY5S/S6yTi+PL7QeaLDrv8AIfAhBLms7+3d1P27v1Dv23so1t417GuLJo2huo3fomyPye8rmTWZwtfMo9IFM8iK6Nn3qO/EFho48x5J0Q5yQ6h8AgXDE6hk3NXybRGBdYaLi9qFT/1z2m/GAE9VJ9dfBDVdzBy6myK40zwG/lPQQc5he+7hn1H/7kNZvCtg6ZjRI2eo95091P70a9qHQdGkzNZqHmzfS127HqEBOcjdFus+RnRW/v+j+SUl0KsuXktFo+cRZCapjGIum5B59IoxWNOPWCFdLVw/uUdKOl5SD9x04RP8p2A3X+765TY6cce/ZRnizhwzeuQ0Hb3iX6jzl3+gkfTLgdr2xxU5CXEzDvW2t1dQz94nCDJkCOIAmXvhiV61qYYi6UI3TdZqIR1/iZbR8TuSaQy5WhMfmqSUvFsR+EdBBjn3ms987UfkJCvHbHn4J8OGfqznGHXsXEPSgDtllEx173uS+k9sJchEotctSZJu6J/++UA8iOOhrNW/dXt3pjgsPxpTZ2cqQR3TAtt4QZNI669rzxNhLXL/KsggP/O1/yGnWTlmrL2bWh76adrnuSfuFZ38gRLN7weKCIY6wYkxh8YRLMZAlfQXMCVTj9mUuRJRih43aSNZlNn5MUk3VV8f4KT7HWHuRwUX5F2btimlDa8ck+vmffLNjHvASr3aI/hbAdfNYWRagJofM5RZzL3xRO95pPVQ9OPUdZcztfupZnIavhCA7xRckHf/9i/kNLvH7P5tcv27/8QW8pr+4977O3mOpBZPhn7RLymrprtkWtxKDXFtlImU6pJkqhJKih5+/INADfGh52OJ9yPJfangRq043Rt34pi9KXrkXuqNq6LtewmGp/Z/Y9LQLM+h+xIZR7EketRkGk443HHNpRXDnynpj8kfFjHd+uZSfIan5O46tpA3BRfkI40Tz8cxuVZuNtjjvSDP90VXIUhqfzxRMkkKcVMnnUyhbCqGpPgjJMNP7TgkmZ7XHWbokwU1cp/ChKAsBavDlAvB4irK7eK6IwvIfycYnhbC+vq1OcAlXVRL+vp1Ylnan204QGPHlGvHPXGym9T9NyXtwyL+gaGFNOn+vMQfIBk+NcCPCi7IS2Y2KpNzrMp0Eo9dRdUXUrTNW6WMourpBCMz9Ih1SW1YnZDS9ayH7r//4TlDnVvdDi6gHSxeLw8kPhwSr0scL2a46srruyDM/ajgLnaWWZweryq/JjezHIs9OD2+tP5mguEZyxqSNrJE0ge6lDzu2/yYevEz/g6tzq4fN648EjPVxvUjWiTdOJkUHxrgHwUX5BVLr5TLIxVkBU+tr5Tfnwu8zkkoPIG8gv8uxedhqv6I4gGaGIGiPkaGcE45iUcy3SdTqJtLNKSre+uGM+prNkPvj5FEiXHlXlURDhFYU3BBzjXu2m9/kawYZfF9VlXMWUteUXr+F5W1V2B4+in0Wo2aEsGu9c7JHOaJ0ktiRmhMu2Cp79XrSymJ1yf+7Fj8ffpSTuIzxLtJPnZMKYE1BTmzs3LJlRRZfVtW76mRX5+rsoqKe8Dh6fdRvoWnf4XKp9xJMDJ9L9owPV7fI47p1kwx9biJUpRc4g/rA1sL81i8fBJLlFvUK58xST/23Ps98sbJuRlI4EcFO2qlZtWtVCxfuGxd98Kw48C5DDP60S/nPMRV5dO+QiH5ImP3R4/QYI7HlvMolXL5gwQhngVdUqp9cG03H/1oFe15MpRM1MeTL4rqZmpKpqPoSy2S6bjm5PZwks+eWU1gTUEPP6yQe+a8NjhPke/85Tbq3304vnb4aKUezuFdqdTU89tT4Ho533iKfF/zi8rEHLfGdHN48+iUotGXKgGOIYfZmT2rlj7YdS7+WyJ8JV2NQ4tSXejqQ1oyvFf3HnX4oVqqMYS9brCqPti15+P3A73klsFB6wNmuaxy9ZW5GRHmRwU/jpwDu2jJGCXUva60/iblBt51yw0NcpCfTRHCKXrg2kt0Ya4OKdT34A0ll1jiMX5dTH+coWOpW8gN3SfDiJZArEm+V0ZuGIhGySqEuD2YEATgoMvmj6U1D1xCv375kDKJR08NZ31v2RCypCuY6EavsN7eQTrX0qL7EAgM1cX1L4ofMKb/VX2NJPfE5RAPhnqIgzwYdPbU59641R4598ZvWFxHYB2CHMBhl8thzjcnnT7TTTd/4RtkRyAQpLLysXKYF1E4XEtO6u3rI6u++k/nU0UYUWQH/tcDEMCY0WGaOnUmNTcfJSuCwRCVlFZSSUmlHObV8u/FyuOhUAk5oT3FekGZuOO2ifJFTlyHsQtB7lHtf1wx7MJZgaIqZT2WUGQ6ldZdjX01C8A1n/ssvfrabnIKh3lxcTk5oaMj+4Xjlt/VQDcuHkdgH4LcozjER1rKdlC+8V6evZ88p0zWiVz+NAXLMWnHrxbM/xt67fX9ZBdfDK2qHk/lDpVXurp7aGAg8wuds2dU0fK7J9MUjBt3DILcJzj0W/5vMVXOWYuRLT71N+eX099ePJn27mshO7gXXh2ZqNTMnTD3ojIKSGE6eGj48goH+KKrxmCEigsQ5D7De2uG5F45Si3+dMsNF9B/P/lXsqq4uIwqKsaQU2oiIbrrjlr5NoZOne6Tw7xHvnXR6dNDFz/HjCmlutGl9OlLa3BB00X4X9aHOt5fQ7V/t5nAf6ZdUE2XXHy+HJYD5AVXX5koj/AwQr7Nn1dDkFsFudaK33GZhTdvBn+67aYqKivN/55tl1xcRnMvxkJXXoAg9ynseO9fNZGg3BO2thSzc3+HkKE3DvmFIPepaPvHBP51+fz89obvvL2aaiOID6/AvwSAoG69sYqmTC6mXOM/d3wdNoHwEgS5B6RaXTGIVQchA3curaYZ03LXM+cQR13ce4QL8vb2dvIa3tDZjlQbOvPmy3aEMDHIEi+2r+GUlQXkMkeV6/Vqron/88pahLhHIcgd4MaGznY3X/biRslHjhwhrxMtyFUc5LfJveXaiPMlDy7f3P/lGs+XU0RoX24RLsh373ZurQmnuLGhM2/zZnXzZa9ulNzc3Exe58X2lalL5N7yirsjjvXOOcBX3BVRbl4Y7jgSEdqXW4QLci/+Y3GNu2b1rWRFug2deWceq5svl0+7z5MbJYsQkqKHwdDQxDB97aujLPfQ9QGej4upVon8IWyXcDM7vfqPVbX8Whps76a2dc9n/J6RNnRWN1/u3vsEZYo3SvbqWit79uwhr/NLGHCgcw+db8dPDCozQfnW2jZILa2D1Ns3tPtEbU1QqX+PH1eklE5mTC8Vovedigjtyy3Kv1hDQ4N3d2Q1qa6upg8//JC8qmvTNsc3dObJPT37nhh282URNkq+4oorPF/H9Hr7gvREaF9uEa5Hzhej3nnnHVqwYAF5UboNnTm8S2Y2WNrQmXvY3DvnJWv1my+LtFEy93RFudjp5fYFqYnSvtwi5KJZb7/9tqdPNDc2dOaad2lY3M2Xn3nmGRKF19sXJBOpfblByAlB/I8m6jCxQsXhKAq0L/GI1L7cIGSQ80n29NNPE4hh06ZNQn3tRfsSi2jtyw3CXexU8UWpt956S/kJ3ibiRSi0L3EU8kVOlbBrraDXJIZ169YJeZKhfYlB1PblNGF75KrNmzfTzJkzCbyHTzDuLYkM7cu7/NC+nCL86ocrV67EhSkP4n+TZcuWkejQvrzJL+3LKcr83Ugk8h0SFP+Dnj59mj7/+c8TeMf9999PO3bsINGhfXmTX9qXU4QPcqZOq77ssssI8o/rls899xz5BdqXt/itfTnBF0HOeDYew8mWX3ySPfbYY+Q3aF/e4Nf2ZZdvgpzxyca9p4ULF1JpKRbAzyUuQXzzm9/09Qw7tK/8KYT2ZYfwo1ZSmTRpEm3cuFH5Ce7jcOOLgoUyDAztK7cKrX1Z4cs9O9VhSfw1DNzDvST+33jx4sUFdZKhfeVGobYvK3zZI9fjXtOqVato6dKlBM5QJ8tgTRK0LzegfWXP90Gu4hOOV7Rbvnw5zZo1iyB7vDAR14lxgiVD+7IP7cu6gglyPfWk4xl7fNJNnDiR6uvrCYbwSdTW1qbsuMJbn3GN8vXXX8fJlSG0r+GhfTmvIIMcAMBPfHmxEwCgkCDIAQAEhyAHABAcghwAQHAIcgAAwSHIAQAEhyAHABAcghwAQHAIcgAAwSHIAQAEhyAHABAcghwAQHAIcgAAwSHIAQAEhyAHABAcghwAQHAIcgAAwSHIAQAEhyAHABAcghwAQHAIcgAAwSHIAQAEhyAHABAcghwAQHAIcgAAwSHIAQAEhyAHABAcghwAQHAIcgAAwSHIAQAEhyAHABAcghwAQHAIcgAAwSHIAQAEhyAHABAcghwAQHBqkDcRAAAISQ3y9wkAAISkBHkwGPw9AQCAkNQe+bPyrZUAAEAogUCgSQnypqamVrlX/iUCAAChyEH+UEj9pbW19eNIJFIr311AAAAggocOHTr0WEj/SFtb22tymAfkuwsJAAC87L8OHz78AN8JmZ+Rw/z3tbW1h+S7c+RbDQEAgJdwKfwfuCeuPhAY7tWNjY33SJJ0M9+Vf84hAADIhya5Fr5Tvr0h33+Wr2vqn/x/ww4N78LUCQYAAAAASUVORK5CYII= 2x",alt:""}),W.createElement("div",{className:u9},W.createElement(ex.Tx,{id:"dev_handoff.configuration_wizard.install_extensions_step.figma_for_messaging"})),W.createElement("div",{className:u8},W.createElement(ex.Tx,{id:"dev_handoff.configuration_wizard.install_extensions_step.figma_for_messaging_description"})),W.createElement(pP,null))))}function pP({}){let e=(0,Y.OY)(),t="install-messaging-dropdown",n=(0,rp.g)(),a=W.useRef(null),r=(null==n?void 0:n.type)===t,l=[{displayText:(0,ex.t)("dev_handoff.configuration_wizard.install_extensions_step.figma_for_messaging_install.figma_for_slack"),callback:()=>{e((0,pA.gd)({rawInput:"https://figma.slack.com/apps/A01N2QYSA81-figma-and-figjam?tab=more_info"}))}},{displayText:(0,ex.t)("dev_handoff.configuration_wizard.install_extensions_step.figma_for_messaging_install.figma_for_teams"),callback:()=>{e((0,pA.gd)({rawInput:"https://appsource.microsoft.com/en-us/product/office/WA200004521?exp=ubp8"}))}}];return W.createElement(W.Fragment,null,W.createElement("div",{ref:a},W.createElement(m2.gV,{onClick:()=>{r?e(lZ.yi()):e(lZ.Qn({type:t}))},className:ps},W.createElement(ex.Tx,{id:"dev_handoff.configuration_wizard.install_extensions_step.figma_for_messaging_install"}),W.createElement(eN.A,{svg:pO.c,className:"configuration_wizard--chevronDown--P7ECL"}))),r&&a.current&&W.createElement(cC.I,{items:l,onSelectItem:t=>{t.callback&&t.callback("",null,e)},dispatch:e,parentRect:a.current.getBoundingClientRect(),showPoint:!1,lean:"right"}))}var pL=n(644792),pD=n(266772);function pR(){let e=(0,Y.OY)(),t=(0,pD.SN)(),n=[{theme:"system",title:(0,ex.t)("fullscreen_actions.theme.system_theme"),checked:"system"===t,onSelect:()=>{e(pL.EZ({theme:"system",userInitiated:!0}))},ModeSvg:pU},{theme:"light",title:(0,ex.t)("fullscreen_actions.theme.light"),checked:"light"===t,onSelect:()=>{e(pL.EZ({theme:"light",userInitiated:!0}))},ModeSvg:pF},{theme:"dark",title:(0,ex.t)("fullscreen_actions.theme.dark"),checked:"dark"===t,onSelect:()=>{e(pL.EZ({theme:"dark",userInitiated:!0}))},ModeSvg:pB}];return W.createElement("div",{className:u$},W.createElement("h1",{className:pt},W.createElement(ex.Tx,{id:"dev_handoff.configuration_wizard.theme_step.title"})),W.createElement("h2",{className:pn},W.createElement(ex.Tx,{id:"dev_handoff.configuration_wizard.theme_step.description"})),W.createElement(uW.e,{value:String(t),onChange:t=>e(pL.EZ({theme:t,userInitiated:!0})),className:u2},n.map(({theme:e,title:t,checked:n,onSelect:a,ModeSvg:r})=>W.createElement("div",{tabIndex:0,role:"radio","aria-checked":n,key:e,onPointerDown:a,onKeyDown:e=>{"Enter"===e.key&&a()},className:q()("configuration_wizard--modeOptionCard--0rFq6 configuration_wizard--preferenceOption--OkUN2",n&&u3)},W.createElement("div",{className:"configuration_wizard--modeImage--TZBtz"},W.createElement(r,null)),W.createElement("div",{className:u9},t)))))}function pF(){return W.createElement("svg",{width:"120",height:"80",viewBox:"0 0 120 80",fill:"none",xmlns:"http://www.w3.org/2000/svg"},W.createElement("g",{id:"Design"},W.createElement("rect",{width:"120",height:"80",fill:"#F5F5F5"}),W.createElement("rect",{id:"Rectangle 47",width:"120",height:"80",fill:"#E5E5E5"}),W.createElement("g",{id:"Group 14125"},W.createElement("g",{id:"Group 14124"},W.createElement("rect",{id:"Rectangle 52",x:"48.3502",y:"24.3512",width:"24.9782",height:"39.8305",fill:"white",stroke:"#0D99FF",strokeWidth:"0.67509"}),W.createElement("ellipse",{id:"Ellipse 278",cx:"53.7509",cy:"30.7661",rx:"3.37544",ry:"3.37547",fill:"black",fillOpacity:"0.3"}),W.createElement("rect",{id:"Rectangle 53",x:"59.489",y:"29.414",width:"11.4765",height:"2.70037",rx:"0.506318",fill:"#D9D9D9"}),W.createElement("rect",{id:"Rectangle 59",x:"50.7129",y:"56.7539",width:"20.2526",height:"4.72565",rx:"0.506318",fill:"#0D99FF"}),W.createElement("rect",{id:"Rectangle 55",x:"50.7129",y:"37.8555",width:"18.2274",height:"2.70037",rx:"0.506318",fill:"#D9D9D9"}),W.createElement("rect",{id:"Rectangle 57",x:"50.7131",y:"42.5762",width:"14.8519",height:"2.70037",rx:"0.506318",fill:"#D9D9D9"}),W.createElement("rect",{id:"Rectangle 60",x:"50.7129",y:"47.3047",width:"17.2147",height:"2.70037",rx:"0.506318",fill:"#D9D9D9"})),W.createElement("rect",{id:"Rectangle 2154",x:"47.3375",y:"23.3375",width:"2.02526",height:"2.02528",fill:"white",stroke:"#0D99FF",strokeWidth:"0.67509"}),W.createElement("rect",{id:"Rectangle 2155",x:"72.3158",y:"23.3378",width:"2.02526",height:"2.02528",fill:"white",stroke:"#0D99FF",strokeWidth:"0.67509"}),W.createElement("rect",{id:"Rectangle 2156",x:"47.3375",y:"63.1696",width:"2.02526",height:"2.02528",fill:"white",stroke:"#0D99FF",strokeWidth:"0.67509"}),W.createElement("rect",{id:"Rectangle 2157",x:"72.3158",y:"63.1696",width:"2.02526",height:"2.02528",fill:"white",stroke:"#0D99FF",strokeWidth:"0.67509"})),W.createElement("rect",{id:"Rectangle 50",width:"26.0423",height:"80",fill:"white"}),W.createElement("rect",{id:"Rectangle 11539",x:"3",y:"11",width:"18",height:"2",rx:"1",fill:"#EEEEEE"}),W.createElement("rect",{id:"Rectangle 11548",x:"3",y:"26",width:"18",height:"2",rx:"1",fill:"#EEEEEE"}),W.createElement("rect",{id:"Rectangle 11547",x:"3",y:"21",width:"14",height:"2",rx:"1",fill:"#EEEEEE"}),W.createElement("rect",{id:"Rectangle 11549",x:"3",y:"31",width:"15",height:"2",rx:"1",fill:"#EEEEEE"}),W.createElement("rect",{id:"Rectangle 11550",x:"3",y:"36",width:"14",height:"2",rx:"1",fill:"#EEEEEE"}),W.createElement("rect",{id:"Rectangle 11546",x:"3",y:"16",width:"19",height:"2",rx:"1",fill:"#EEEEEE"}),W.createElement("rect",{id:"Rectangle 51",x:"92",width:"28",height:"80",fill:"white"}),W.createElement("rect",{id:"Rectangle 11534",x:"96",y:"12",width:"6",height:"2",rx:"1",fill:"#CE7012"}),W.createElement("rect",{id:"Rectangle 11553",x:"96",y:"17",width:"14",height:"2",rx:"1",fill:"#8638E5"}),W.createElement("rect",{id:"Rectangle 11554",x:"104",y:"22",width:"10",height:"2",rx:"1",fill:"#EA10AC"}),W.createElement("rect",{id:"Rectangle 11536",x:"96",y:"22",width:"6",height:"2",rx:"1",fill:"#8638E5"}),W.createElement("rect",{id:"Rectangle 11537",x:"96",y:"27",width:"21",height:"2",rx:"1",fill:"#007BE5"}),W.createElement("rect",{id:"Rectangle 11552",x:"103",y:"32",width:"13",height:"2",rx:"1",fill:"#009951"}),W.createElement("rect",{id:"Rectangle 11538",x:"96",y:"32",width:"5",height:"2",rx:"1",fill:"#CE7012"}),W.createElement("rect",{id:"Rectangle 49",width:"120",height:"8",fill:"#1E1E1E"}),W.createElement("rect",{id:"Rectangle 48",x:"8",width:"8",height:"8",fill:"#14AE5C"})))}function pB(){return W.createElement("svg",{width:"120",height:"80",viewBox:"0 0 120 80",fill:"none",xmlns:"http://www.w3.org/2000/svg"},W.createElement("g",{id:"Design"},W.createElement("rect",{width:"120",height:"80",fill:"#383838"}),W.createElement("rect",{id:"Rectangle 47",width:"120",height:"80",fill:"black"}),W.createElement("g",{id:"Group 14125"},W.createElement("g",{id:"Group 14124"},W.createElement("rect",{id:"Rectangle 52",x:"48.35",y:"24.3512",width:"24.9782",height:"39.8305",fill:"#3E3E3E",stroke:"#0C8CE9",strokeWidth:"0.67509"}),W.createElement("ellipse",{id:"Ellipse 278",cx:"53.7507",cy:"30.7661",rx:"3.37544",ry:"3.37547",fill:"#B2B2B2"}),W.createElement("rect",{id:"Rectangle 53",x:"59.4888",y:"29.414",width:"11.4765",height:"2.70037",rx:"0.506318",fill:"#8B8B8B"}),W.createElement("rect",{id:"Rectangle 59",x:"50.7126",y:"56.7539",width:"20.2526",height:"4.72565",rx:"0.506318",fill:"#0C8CE9"}),W.createElement("rect",{id:"Rectangle 55",x:"50.7126",y:"37.8555",width:"18.2274",height:"2.70037",rx:"0.506318",fill:"#8B8B8B"}),W.createElement("rect",{id:"Rectangle 57",x:"50.7129",y:"42.5762",width:"14.8519",height:"2.70037",rx:"0.506318",fill:"#8B8B8B"}),W.createElement("rect",{id:"Rectangle 60",x:"50.7126",y:"47.3047",width:"17.2147",height:"2.70037",rx:"0.506318",fill:"#8B8B8B"})),W.createElement("rect",{id:"Rectangle 2154",x:"47.3375",y:"23.3375",width:"2.02526",height:"2.02528",fill:"white",stroke:"#0C8CE9",strokeWidth:"0.67509"}),W.createElement("rect",{id:"Rectangle 2155",x:"72.3158",y:"23.3378",width:"2.02526",height:"2.02528",fill:"white",stroke:"#0C8CE9",strokeWidth:"0.67509"}),W.createElement("rect",{id:"Rectangle 2156",x:"47.3375",y:"63.1696",width:"2.02526",height:"2.02528",fill:"white",stroke:"#0C8CE9",strokeWidth:"0.67509"}),W.createElement("rect",{id:"Rectangle 2157",x:"72.3158",y:"63.1696",width:"2.02526",height:"2.02528",fill:"white",stroke:"#0C8CE9",strokeWidth:"0.67509"})),W.createElement("rect",{id:"Rectangle 50",width:"26.0423",height:"80",fill:"#1E1E1E"}),W.createElement("rect",{id:"Rectangle 11539",x:"3",y:"11",width:"18",height:"2",rx:"1",fill:"#565656"}),W.createElement("rect",{id:"Rectangle 11548",x:"3",y:"26",width:"18",height:"2",rx:"1",fill:"#565656"}),W.createElement("rect",{id:"Rectangle 11547",x:"3",y:"21",width:"14",height:"2",rx:"1",fill:"#565656"}),W.createElement("rect",{id:"Rectangle 11549",x:"3",y:"31",width:"15",height:"2",rx:"1",fill:"#565656"}),W.createElement("rect",{id:"Rectangle 11550",x:"3",y:"36",width:"14",height:"2",rx:"1",fill:"#565656"}),W.createElement("rect",{id:"Rectangle 11546",x:"3",y:"16",width:"19",height:"2",rx:"1",fill:"#565656"}),W.createElement("rect",{id:"Rectangle 51",x:"92",width:"28",height:"80",fill:"#1E1E1E"}),W.createElement("rect",{id:"Rectangle 49",width:"120",height:"8",fill:"#1E1E1E"}),W.createElement("rect",{id:"Rectangle 48",x:"8",width:"8",height:"8",fill:"#198F51"}),W.createElement("rect",{id:"Rectangle 11534",x:"96",y:"12",width:"6",height:"2",rx:"1",fill:"#FCB34A"}),W.createElement("rect",{id:"Rectangle 11553",x:"96",y:"17",width:"14",height:"2",rx:"1",fill:"#D1A8FF"}),W.createElement("rect",{id:"Rectangle 11554",x:"104",y:"22",width:"10",height:"2",rx:"1",fill:"#FC9CE0"}),W.createElement("rect",{id:"Rectangle 11536",x:"96",y:"22",width:"6",height:"2",rx:"1",fill:"#D1A8FF"}),W.createElement("rect",{id:"Rectangle 11537",x:"96",y:"27",width:"21",height:"2",rx:"1",fill:"#7CC4F8"}),W.createElement("rect",{id:"Rectangle 11552",x:"103",y:"32",width:"13",height:"2",rx:"1",fill:"#79D297"}),W.createElement("rect",{id:"Rectangle 11538",x:"96",y:"32",width:"5",height:"2",rx:"1",fill:"#FCB34A"})))}function pU(){return W.createElement("svg",{width:"120",height:"80",viewBox:"0 0 120 80",fill:"none",xmlns:"http://www.w3.org/2000/svg"},W.createElement("rect",{width:"120",height:"80",fill:"black"}),W.createElement("rect",{width:"120",height:"80",fill:"black"}),W.createElement("rect",{x:"48.35",y:"24.3512",width:"24.9782",height:"39.8305",fill:"#3E3E3E",stroke:"#0C8CE9",strokeWidth:"0.67509"}),W.createElement("ellipse",{cx:"53.7507",cy:"30.7661",rx:"3.37544",ry:"3.37547",fill:"#B2B2B2"}),W.createElement("rect",{x:"59.4888",y:"29.414",width:"11.4765",height:"2.70037",rx:"0.506318",fill:"#8B8B8B"}),W.createElement("rect",{x:"50.7126",y:"56.7539",width:"20.2526",height:"4.72565",rx:"0.506318",fill:"#0C8CE9"}),W.createElement("rect",{x:"50.7126",y:"37.8555",width:"18.2274",height:"2.70037",rx:"0.506318",fill:"#8B8B8B"}),W.createElement("rect",{x:"50.7129",y:"42.5762",width:"14.8519",height:"2.70037",rx:"0.506318",fill:"#8B8B8B"}),W.createElement("rect",{x:"50.7126",y:"47.3047",width:"17.2147",height:"2.70037",rx:"0.506318",fill:"#8B8B8B"}),W.createElement("rect",{x:"47.3375",y:"23.3375",width:"2.02526",height:"2.02528",fill:"white",stroke:"#0C8CE9",strokeWidth:"0.67509"}),W.createElement("rect",{x:"72.3158",y:"23.3378",width:"2.02526",height:"2.02528",fill:"white",stroke:"#0C8CE9",strokeWidth:"0.67509"}),W.createElement("rect",{x:"47.3375",y:"63.1696",width:"2.02526",height:"2.02528",fill:"white",stroke:"#0C8CE9",strokeWidth:"0.67509"}),W.createElement("rect",{x:"72.3158",y:"63.1696",width:"2.02526",height:"2.02528",fill:"white",stroke:"#0C8CE9",strokeWidth:"0.67509"}),W.createElement("rect",{width:"26.0423",height:"80",fill:"#1E1E1E"}),W.createElement("rect",{x:"3",y:"11",width:"18",height:"2",rx:"1",fill:"#565656"}),W.createElement("rect",{x:"3",y:"26",width:"18",height:"2",rx:"1",fill:"#565656"}),W.createElement("rect",{x:"3",y:"21",width:"14",height:"2",rx:"1",fill:"#565656"}),W.createElement("rect",{x:"3",y:"31",width:"15",height:"2",rx:"1",fill:"#565656"}),W.createElement("rect",{x:"3",y:"36",width:"14",height:"2",rx:"1",fill:"#565656"}),W.createElement("rect",{x:"3",y:"16",width:"19",height:"2",rx:"1",fill:"#565656"}),W.createElement("rect",{x:"92",width:"28",height:"80",fill:"#1E1E1E"}),W.createElement("rect",{width:"120",height:"8",fill:"#1E1E1E"}),W.createElement("rect",{x:"8",width:"8",height:"8",fill:"#198F51"}),W.createElement("rect",{x:"96",y:"12",width:"6",height:"2",rx:"1",fill:"#FCB34A"}),W.createElement("rect",{x:"96",y:"42",width:"6",height:"2",rx:"1",fill:"#FCB34A"}),W.createElement("rect",{x:"96",y:"17",width:"14",height:"2",rx:"1",fill:"#D1A8FF"}),W.createElement("rect",{x:"104",y:"42",width:"13",height:"2",rx:"1",fill:"#009951"}),W.createElement("rect",{x:"104",y:"22",width:"10",height:"2",rx:"1",fill:"#FC9CE0"}),W.createElement("rect",{x:"96",y:"37",width:"16",height:"2",rx:"1",fill:"#FC9CE0"}),W.createElement("rect",{x:"96",y:"22",width:"6",height:"2",rx:"1",fill:"#D1A8FF"}),W.createElement("rect",{x:"96",y:"27",width:"21",height:"2",rx:"1",fill:"#7CC4F8"}),W.createElement("rect",{x:"103",y:"32",width:"13",height:"2",rx:"1",fill:"#79D297"}),W.createElement("rect",{x:"96",y:"32",width:"5",height:"2",rx:"1",fill:"#FCB34A"}),W.createElement("mask",{id:"mask0_3979_274036",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:"0",y:"8",width:"120",height:"72"},W.createElement("path",{d:"M120 8V80H0L120 8Z",fill:"#C4C4C4"})),W.createElement("g",{mask:"url(#mask0_3979_274036)"},W.createElement("rect",{width:"120",height:"80",fill:"#F5F5F5"}),W.createElement("rect",{width:"120",height:"80",fill:"#E5E5E5"}),W.createElement("rect",{x:"48.3502",y:"24.3512",width:"24.9782",height:"39.8305",fill:"white",stroke:"#0D99FF",strokeWidth:"0.67509"}),W.createElement("ellipse",{cx:"53.7509",cy:"30.7661",rx:"3.37544",ry:"3.37547",fill:"black",fillOpacity:"0.3"}),W.createElement("rect",{x:"59.489",y:"29.414",width:"11.4765",height:"2.70037",rx:"0.506318",fill:"#D9D9D9"}),W.createElement("rect",{x:"50.7129",y:"56.7539",width:"20.2526",height:"4.72565",rx:"0.506318",fill:"#0D99FF"}),W.createElement("rect",{x:"50.7129",y:"37.8555",width:"18.2274",height:"2.70037",rx:"0.506318",fill:"#D9D9D9"}),W.createElement("rect",{x:"50.7131",y:"42.5762",width:"14.8519",height:"2.70037",rx:"0.506318",fill:"#D9D9D9"}),W.createElement("rect",{x:"50.7129",y:"47.3047",width:"17.2147",height:"2.70037",rx:"0.506318",fill:"#D9D9D9"}),W.createElement("rect",{x:"47.3375",y:"23.3375",width:"2.02526",height:"2.02528",fill:"white",stroke:"#0D99FF",strokeWidth:"0.67509"}),W.createElement("rect",{x:"72.3158",y:"23.3378",width:"2.02526",height:"2.02528",fill:"white",stroke:"#0D99FF",strokeWidth:"0.67509"}),W.createElement("rect",{x:"47.3375",y:"63.1696",width:"2.02526",height:"2.02528",fill:"white",stroke:"#0D99FF",strokeWidth:"0.67509"}),W.createElement("rect",{x:"72.3158",y:"63.1696",width:"2.02526",height:"2.02528",fill:"white",stroke:"#0D99FF",strokeWidth:"0.67509"}),W.createElement("rect",{width:"26.0423",height:"80",fill:"white"}),W.createElement("rect",{x:"3",y:"11",width:"18",height:"2",rx:"1",fill:"#EEEEEE"}),W.createElement("rect",{x:"3",y:"26",width:"18",height:"2",rx:"1",fill:"#EEEEEE"}),W.createElement("rect",{x:"3",y:"21",width:"14",height:"2",rx:"1",fill:"#EEEEEE"}),W.createElement("rect",{x:"3",y:"31",width:"15",height:"2",rx:"1",fill:"#EEEEEE"}),W.createElement("rect",{x:"3",y:"36",width:"14",height:"2",rx:"1",fill:"#EEEEEE"}),W.createElement("rect",{x:"3",y:"16",width:"19",height:"2",rx:"1",fill:"#EEEEEE"}),W.createElement("rect",{x:"92",width:"28",height:"80",fill:"white"}),W.createElement("rect",{x:"96",y:"12",width:"6",height:"2",rx:"1",fill:"#CE7012"}),W.createElement("rect",{x:"96",y:"17",width:"14",height:"2",rx:"1",fill:"#8638E5"}),W.createElement("rect",{x:"104",y:"22",width:"10",height:"2",rx:"1",fill:"#EA10AC"}),W.createElement("rect",{x:"96",y:"22",width:"6",height:"2",rx:"1",fill:"#8638E5"}),W.createElement("rect",{x:"96",y:"27",width:"21",height:"2",rx:"1",fill:"#007BE5"}),W.createElement("rect",{x:"103",y:"32",width:"13",height:"2",rx:"1",fill:"#009951"}),W.createElement("rect",{x:"96",y:"32",width:"5",height:"2",rx:"1",fill:"#CE7012"})))}var pK=n(244808);function pG(){return W.createElement("div",{className:u$},W.createElement("h1",{className:pt},W.createElement(ex.Tx,{id:"dev_handoff.configuration_wizard.welcome_step.title"})),W.createElement("h2",{className:pn},W.createElement(ex.Tx,{id:"dev_handoff.configuration_wizard.welcome_step.description"})),W.createElement("div",{className:"configuration_wizard--welcomeVideo--PNKpG"},W.createElement(pK.sl,{src:"https://static.figma.com/uploads/ea250827f5a3454fccafb18ae2f37229cd406810",width:444,height:278})),W.createElement("div",{className:u1}))}var pH=((f=pH||{})[f.WELCOME=0]="WELCOME",f[f.CODE_LANGUAGE_N_UNIT=1]="CODE_LANGUAGE_N_UNIT",f[f.THEME=2]="THEME",f[f.INSPECT_PLUGINS=3]="INSPECT_PLUGINS",f[f.INSTALL_INTEGRATIONS=4]="INSTALL_INTEGRATIONS",f);let pV={0:"welcome_step",1:"code_language_step",2:"theme_step",3:"inspect_plugins_step",4:"install_extensions_step"},pW=[1,2,3,4],pY=(0,mV.Ww)(lA.ek),pj=W.createContext({overlay:null});function pX(){let e=(0,eo.m4)(pY),t=(0,Y.OY)(),n=(0,mX.W)({overlay:mZ.iAr,priority:mz.g.DEFAULT_MODAL},[e]);return(0,rT.u)(()=>{n.show({canShow:e=>!e})}),(0,ur.y)(n.uniqueId,"Reset Onboarding",()=>{t(tm.s({[lA.ek]:!1})),n.show()}),W.createElement(pj.Provider,{value:{overlay:n}},W.createElement(uj.m,{modalType:uX.GK.WELCOME,isShowing:n.isShowing,onClickPrimaryCta:aC.Kw,onClose:aC.Kw,onManualDismiss:aC.Kw,testId:"dev_handoff_config_wizard",trackingContextName:"Dev Mode Configuration Wizard",element:pq}))}let pz=()=>{let{pinnedPlugins:e}=(0,uY.mC)();return e.length>0};function pq(){let e=(0,rH.qM)(),[t,n]=(0,W.useState)(0),a=(0,Y.OY)(),r=pz(),{overlay:l}=W.useContext(pj),i=W.useRef(null),o=()=>{i.current&&i.current.focus()};W.useEffect(()=>{o()},[t]);let s=W.useCallback(()=>{null==l||l.complete(),a(tm.s({[lA.ek]:!0})),r&&a(tm.s({[lA.S_]:!0}))},[a,r,l]),c=W.useCallback(()=>{n(t+1)},[t]),d=W.useCallback(()=>{n(t-1)},[n,t]);return W.createElement("div",{className:q()("configuration_wizard--wizardContainer--gss4b",eR.cp),tabIndex:-1,ref:i},W.createElement(rW.CA,{className:"configuration_wizard--closeButton--pv-0K",onClick:function(){s(),e("dev_handoff.config_wizard.closed",{step:t,stepName:pV[t]})}}),W.createElement("div",{className:"configuration_wizard--sidebar--g-2b8"},W.createElement("h1",{className:"configuration_wizard--sidebarHeading--xnYnE text--fontPos32WhyteInktrap--BG9sC text--_fontBaseWhyteInktrap--YiiGP"},W.createElement(ex.Tx,{id:"dev_handoff.configuration_wizard.title"})),W.createElement("h2",{className:"configuration_wizard--sidebarSubheading--ta8gQ text--fontPos12Whyte---tkNx text--_fontBaseWhyte--efAjI"},W.createElement(ex.Tx,{id:"dev_handoff.configuration_wizard.subtitle"})),W.createElement("div",{className:u1}),W.createElement(pZ,{step:t,setStep:n,disabled:0===t})),W.createElement("div",{className:"configuration_wizard--content--hktpZ"},0===t&&W.createElement(pG,null),1===t&&W.createElement(pf,null),2===t&&W.createElement(pR,null),3===t&&W.createElement(pS,null),4===t&&W.createElement(pM,null),W.createElement("div",{className:"configuration_wizard--footer--YjGGh"},0===t?W.createElement(W.Fragment,null,W.createElement("div",{className:u0},W.createElement("div",{className:u1}),W.createElement(m2.gV,{onClick:c},W.createElement(ex.Tx,{id:`dev_handoff.configuration_wizard.${pV[t]}.next_text`})))):4===t?W.createElement("div",{className:u0},W.createElement("div",{className:u1}),W.createElement(m2.wX,{onClick:d},W.createElement(ex.Tx,{id:"general.back"})),W.createElement(m2.gV,{onClick:function(){s(),e("dev_handoff.config_wizard.done",{step:t,stepName:pV[t]})}},W.createElement(ex.Tx,{id:"general.done"}))):W.createElement("div",{className:u0},W.createElement("div",{className:u1}),W.createElement(m2.wX,{onClick:d},W.createElement(ex.Tx,{id:"general.back"})),W.createElement(m2.gV,{onClick:c},W.createElement(ex.Tx,{id:`dev_handoff.configuration_wizard.${pV[t]}.next_text`}))))))}function pZ({step:e,setStep:t,disabled:n}){return W.createElement(uW.e,{value:String(e),onChange:e=>{n||t(Number.parseInt(e,10))},className:q()("configuration_wizard--stepPicker--Ffab-",n&&"configuration_wizard--disabledStepPicker--Ib2IX")},pW.map(a=>{let r=a===e,l=()=>{n||t(a)};return W.createElement("div",{tabIndex:n?-1:0,role:"radio","aria-checked":r,key:a,onPointerDown:l,onKeyDown:e=>{"Enter"===e.key&&l()},className:q()("configuration_wizard--stepPickerOption--5Iqtt",r&&"configuration_wizard--selectedStepPickerOption--wndji",n&&"configuration_wizard--disabledStepPickerOption--9tTeN")},W.createElement("div",{className:"configuration_wizard--stepPickerOptionNumber--3GVYZ text--fontPos18Whyte--M40th text--_fontBaseWhyte--efAjI"},`0${a}`),W.createElement("div",{className:"configuration_wizard--stepPickerOptionText--KmSjp text--fontPos12Whyte---tkNx text--_fontBaseWhyte--efAjI"},W.createElement(ex.Tx,{id:`dev_handoff.configuration_wizard.${pV[a]}.picker_title`})))}))}var pQ=n(383456),pJ=n(24884),p$=n(219604);let p0="dev_handoff_activity_panel--activityEvent--QP8ZE",p1="dev_handoff_activity_panel--activityIcon--FbOPK",p2="dev_handoff_activity_panel--firstVerticalLine--qoPeg dev_handoff_activity_panel--verticalLine--1BcxF",p5="dev_handoff_activity_panel--activityHighlightedText--vLZOC";function p3(){return W.createElement("svg",{className:p1,xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 12 12",fill:"none"},W.createElement("rect",{width:"12",height:"12",rx:"6",fill:"#A3A3A3","fill-opacity":"0.5"}),W.createElement("rect",{x:"0.5",y:"0.5",width:"11",height:"11",rx:"5.5",stroke:"white","stroke-opacity":"0.2"}),W.createElement("circle",{cx:"5.93164",cy:"5.93164",r:"2",fill:"#F3C11B"}))}function p4(){return W.createElement("svg",{className:p1,xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 12 12",fill:"none"},W.createElement("rect",{width:"12",height:"12",rx:"6",fill:"#A3A3A3","fill-opacity":"0.5"}),W.createElement("rect",{x:"0.5",y:"0.5",width:"11",height:"11",rx:"5.5",stroke:"white","stroke-opacity":"0.2"}),W.createElement("circle",{cx:"5.93164",cy:"5.93164",r:"2",fill:"#D1A8FF"}))}function p6(){return W.createElement("svg",{className:p1,xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 12 12",fill:"none"},W.createElement("rect",{x:"0.5",y:"0.5",width:"11",height:"11",rx:"5.5",fill:"#5A8368"}),W.createElement("rect",{x:"0.5",y:"0.5",width:"11",height:"11",rx:"5.5",stroke:"#198F51"}),W.createElement("circle",{cx:"6",cy:"6",r:"2",fill:"white"}))}function p8(e){switch(e.event.status){case eM.s9M.NONE:return W.createElement("span",null,"removed status");case eM.s9M.BUILD:return W.createElement("span",null,"changed status to ",W.createElement("span",{className:p5},"ready"));case eM.s9M.COMPLETED:return W.createElement("span",null,"changed status to ",W.createElement("span",{className:p5},"completed"))}}function p9(e){var t;let n=(0,pQ.oX)(e.event.timestamp),a=e.event.userId?null==(t=e.users)?void 0:t[e.event.userId].name:void 0;return W.createElement("div",{className:"dev_handoff_activity_panel--eventRowWrapper--QTe2W"},W.createElement("div",{className:q()("dev_handoff_activity_panel--verticalLine--1BcxF",{[p2]:e.isFirst,"dev_handoff_activity_panel--lastVerticalLine--Bh--g dev_handoff_activity_panel--verticalLine--1BcxF":e.isLast})}),W.createElement("div",{className:p0},e.event.status===eM.s9M.BUILD&&W.createElement(p6,null),e.event.status===eM.s9M.NONE&&W.createElement(p3,null),e.event.status===eM.s9M.COMPLETED&&W.createElement(p4,null),W.createElement("div",{className:"dev_handoff_activity_panel--activityInfo--50Fdz"},W.createElement("div",null,W.createElement("span",{className:"dev_handoff_activity_panel--activityName--uU-CL"},W.createElement("span",{className:p5},a," "),W.createElement(p8,{event:e.event}))," ","\xb7 ",n),e.event.description&&W.createElement("div",null,e.event.description))))}function p7(){var e;let t=(0,rm.iK)(),n=(0,sC.ct)().get(t??""),a=(0,cW.Af)(t??""),r=a?a.map(e=>e.userId).filter(pJ.t):[],l=(0,p$.$b)(r);if(!a)return null;let i=a.sort((e,t)=>t.timestamp-e.timestamp),o=i[0],s=!!(null==(e=null==n?void 0:n.editInfo)?void 0:e.lastEditedAt)&&o.timestamp<1e3*n.editInfo.lastEditedAt;return W.createElement("div",{className:"dev_handoff_activity_panel--activityPanel--oJnbc"},W.createElement("div",{className:"dev_handoff_activity_panel--activityPanelTitle--1gSk-"},"Activity"),W.createElement("div",{className:"dev_handoff_activity_panel--activityEvents--9uFul"},s&&o.versionId&&W.createElement(_e,{latestReadyForDevVersionId:o.versionId}),i.map((e,t)=>W.createElement(p9,{key:t,event:e,users:l.usersById,isFirst:0===t&&!s,isLast:t===a.length-1}))))}function _e(e){let t=(0,Y.OY)();return W.createElement("div",{className:"dev_handoff_activity_panel--hasEdits--Wqg9p"},W.createElement("div",{className:p2}),W.createElement("div",{className:p0},W.createElement(p3,null),W.createElement("span",null,"New design changes")),W.createElement(rA.iH,{className:"dev_handoff_activity_panel--viewChangesButton--T-kbS",onClick:function(){dM(e.latestReadyForDevVersionId,t,!0)}},"See what changed"))}var _t=n(491440),_n=n(240060),_a=n(491100),_r=n(783248);let _l={top:"ns-resize",bottom:"ns-resize",left:"ew-resize",right:"ew-resize"};function _i(e){let{onSizeChanged:t,onStateChanged:n,edge:a}=e,r=W.useRef({isResizing:!1,lastX:0,lastY:0}),l=W.useCallback(e=>{null==n||n(!0),r.current.isResizing=!0,r.current.lastX=e.clientX,r.current.lastY=e.clientY,document.body.style.pointerEvents="none",document.documentElement.style.cursor=_l[a]},[n,a]),i=W.useCallback(e=>{r.current.isResizing&&(t({x:e.clientX-r.current.lastX,y:e.clientY-r.current.lastY}),r.current.lastX=e.clientX,r.current.lastY=e.clientY)},[t]),o=W.useCallback(e=>{r.current.isResizing&&(null==n||n(!1),r.current.isResizing=!1,document.body.style.pointerEvents="auto",document.documentElement.style.cursor="auto")},[n]);return W.useEffect(()=>(document.addEventListener("mousemove",i),document.addEventListener("mouseup",o),()=>{document.removeEventListener("mousemove",i),document.removeEventListener("mouseup",o)})),W.createElement("div",{className:q()("resizable--panelContainer--35Ay7",eR.cp),style:{width:e.size.width,height:e.size.height},ref:e.forwardedRef},W.createElement(lx.Y,{className:"resizable--content--gsGWd"},e.children),W.createElement("div",{className:q()({"resizable--edgeDisabled--K1j0X":e.disabled,"resizable--edgeTop--vG5Ad resizable--edge--H5-yq":"top"===e.edge,"resizable--edgeBottom--bN-R0":"bottom"===e.edge,"resizable--edgeLeft--nRRyA":"left"===e.edge,"resizable--edgeRight--ZGbad":"right"===e.edge}),onMouseDown:l,onDoubleClick:e.onReset}))}var _o=n(26708);let _s={};function _c({nodeId:e,width:t,height:n,version:a,shouldSkip:r}){let l=function({nodeId:e,width:t,height:n}){return`${e}-${t}x${n}`}({nodeId:e,width:t,height:n}),[i,o]=(0,W.useState)(_s[l]);return(0,W.useEffect)(()=>{if(r)return;let s=null;i&&i.version===a||(s&&(s.abort(),s=null),s=new TaskController({priority:"user-visible"}),scheduler.postTask(()=>{let r=(0,nJ.KW)(new nU.Cg(t,n),e,!0,eM.ibK.TRANSPARENT);if(r&&r.pixels&&r.pixelSize&&r.displaySize){let e={thumbnail:{src:(0,nJ.me)(r.pixels,r.pixelSize),displaySize:r.displaySize},version:a};_s[l]=e,o(e)}},{signal:s.signal}))},[e,t,n,l,i,a,r]),i?i.thumbnail:null}var _d=n(287540),_m=n(599628),_u=n(1196);let _p=(0,nF.qe)(n5.Yf4),__=(0,nF.qe)(n5.GMy);function _E(e,t,n){let a=[],r=[t];for(;r.length>0;){let l=r.pop(),i=e.get(l);if(i&&(l===t||n(i)))for(let e of(a.push(l),(null==i?void 0:i.childrenGuids)??[]))r.push(e)}return a}function _g(e){return"INSTANCE"!==e.type}function _h({inspectableRootNodeId:e,page:t,didSelectRow:n}){let a=(0,Y.OY)(),r=(0,sC.ct)(),l=(0,eA.wB)(),i=(0,eA.cC)(),o=e||t,s=eM.i46.pageHasReadySection(t),[c,d]=W.useState(!s),[m,u]=W.useState([]);W.useEffect(()=>{d(!eM.i46.pageHasReadySection(t))},[t]);let p=W.useCallback(()=>{u(()=>[t])},[t]),_=W.useCallback(e=>{u(t=>[...t,..._E(r,e,_g)])},[r,u]),E=W.useCallback((e,t)=>u(n=>n.includes(t)?n.filter(e=>e!==t):e.altKey?[...n,t,..._E(r,t,_g)]:[...n,t]),[r,u]),g=W.useCallback(e=>m.includes(e),[m]),h=function(e,t){let n=(0,sC.ct)();return W.useMemo(()=>{var a,r;let l=[];if(t){let i=null==(a=n.get(t))?void 0:a.parentGuid;for(;i&&i!==e;)l.push(i),i=null==(r=n.get(i))?void 0:r.parentGuid}return l.push(e),l},[n,e,t])}(o,l??"");W.useEffect(()=>{u(e=>[...e,...h])},[h,u]);let f=W.useCallback((e,t)=>{e.stopPropagation(),e.preventDefault();let{clientX:n,clientY:r}=e;a(lZ.Qn({type:eR.qK,data:{clientX:n,clientY:r,guid:t,expandElement:()=>_(t)}}))},[a,_]),v=(0,sC.Ig)(),y=W.useMemo(()=>c||e||i?["header",...function e(t,n,a,r,l,i,o){let s=n.get(t);if(!s)return[];let c=t in a,d={nodeId:t,indentation:l,isSelected:c,isAncestorSelected:i,isRoot:o};if(!r(t))return[d];let m="CANVAS"===s.type,u=s.childrenGuids.flatMap(t=>e(t,n,a,r,l+(m?0:1),i||c,!1));return m?u:[d,...u]}(o,r,v,g,0,!1,!0)]:["header"],[e,g,c,o,r,v,i]),C=W.useRef(null),w=(0,_a.CC)({count:y.length,getScrollElement:()=>C.current,estimateSize:e=>0===e?__:_p,overscan:10});return W.createElement("div",{ref:C,style:{height:"100%",overflow:"auto"},"data-testid":"devHandoffLayersPanel"},W.createElement("div",{style:{height:`${w.getTotalSize()}px`,width:"100%",position:"relative"}},w.getVirtualItems().map(t=>{let a=y[t.index];return W.createElement("div",{key:t.key,style:{position:"absolute",top:0,left:0,width:"100%",height:`${t.size}px`,transform:`translateY(${t.start}px)`}},"header"===a?W.createElement(_f,{forceExpanded:!!e||!!i,isExpanded:c,setIsExpanded:d,collapseAllLayers:p}):W.createElement(sO.KX,{key:a.nodeId,guid:a.nodeId,toggleExpanded:E,isExpanded:g,openContextMenu:f,didSelectRow:n,indentation:a.indentation,isSelected:a.isSelected,isAncestorSelected:a.isAncestorSelected,isRoot:a.isRoot}))})))}function _f({isExpanded:e,forceExpanded:t,setIsExpanded:n,collapseAllLayers:a}){let r=[{displayText:(0,ex.t)("dev_handoff.layers.collapse_all_layers"),callback:()=>a()}],l=(0,ty.Ci)(),i=`devHandoffNodesPanel.caret.${!l&&t?"forcedExpanded":e?"expanded":"collapsed"}`;return W.createElement("div",{className:q()("dev_handoff_layers_panel--layersListHeader--gQFn- text--fontPos11--2LvXf text--_fontBase--QdLsd",{"dev_handoff_layers_panel--bottomLine--v9zno":!(e||t)&&!l}),role:"button",tabIndex:0,"data-fullscreen-intercept":!0,onMouseDown:()=>!t&&n(!e)},l&&(e?W.createElement(_t.u,{"data-testid":i}):W.createElement(_n.O,{"data-testid":i})),!l&&W.createElement(eN.A,{className:q()("dev_handoff_layers_panel--expandCaret--2ZbrU",{"dev_handoff_layers_panel--hideCaret--JgPdQ":t}),svg:e?_m.c:_u.c,dataTestId:i}),W.createElement("div",{className:"dev_handoff_layers_panel--layersTitle--sU99L text--fontPos11--2LvXf text--_fontBase--QdLsd ellipsis--ellipsis--Tjyfa"},W.createElement(ex.Tx,{id:"dev_handoff.tag.layers"})),W.createElement(_v,{dropdownItems:r}))}function _v({dropdownItems:e}){let{Dropdown:t,toggleDropdown:n,dropdownTargetRef:a,isDropdownShown:r}=(0,cu.s)("LAYERS_PANEL_DROPDOWN");return W.createElement(W.Fragment,null,W.createElement("div",{ref:a},W.createElement(s$.KM,{svg:ok.c,onMouseDown:e=>e.stopPropagation(),onClick:n,"data-tooltip-type":n1.wL.TEXT,"data-tooltip":(0,ex.t)("dev_handoff.code.options"),selected:r})),W.createElement(t,{items:e,showPoint:!0}))}var _y=n(768764);let _C=(0,nF.qe)(n5.W2J),_w=(0,nF.qe)(n5.y8p),_b=(0,nF.qe)(n5.GMy),_T=(0,nT.Zf)([]);function _x(e){let{guid:t,hasChildren:n,isExpanded:a,toggleExpand:r,sceneGraph__DEPRECATED:l,isSelected:i,nameOverride:o,hideSectionIcon:s}=e,c=(0,eD.s5)((0,eP.EB)().showGuids),d=l.get(t),m=(0,_d.eM)((e,t)=>{let n=e.get(t);return n?{guid:n.guid,name:n.name,isStateGroup:n.isStateGroup}:null},t),u=(0,$.Ub)().scenegraph_hooks_dev_handoff?m:d,p=(null==d?void 0:d.name)??"",_=null==m?void 0:m.name,E=(0,$.Ub)().scenegraph_hooks_dev_handoff?_:p,g=o??E,h=(0,$.Ub)().scenegraph_hooks_dev_handoff?null==m?void 0:m.guid:null==d?void 0:d.guid,f=(0,$.Ub)().scenegraph_hooks_dev_handoff?null==m?void 0:m.isStateGroup:null==d?void 0:d.isStateGroup,v=(0,lI.S4)(`devHandoffNodesPanel-targetIcon-${E}`,"click",e=>{(0,m7.c)("sections_frames_list"),tq.aWh.selectAndFocusOnNode(t,!0)}),y=(0,lI.S4)(`devHandoffNodesPanel-${E}`,"click",e=>{e.stopPropagation(),null==r||r()}),C=(0,Y.OY)(),w=W.useCallback(e=>{e.stopPropagation(),e.preventDefault();let{clientX:t,clientY:n}=e;h&&C(lZ.Qn({type:eR.qK,data:{clientX:t,clientY:n,guid:h}}))},[C,h]);if(!u||!h)return null;let b=q()("dev_handoff_nodes_panel--expandCaret--EdbSv",{"dev_handoff_nodes_panel--expandCaretNoIcon--VTPwj":s});return W.createElement("div",{className:q()("dev_handoff_nodes_panel--sectionHeader--qDUGd",i?lf:lh),onMouseDown:v,onContextMenu:w,role:"button",tabIndex:0,"data-fullscreen-intercept":!0},n?W.createElement(eN.A,{className:b,svg:a?_m.c:_u.c,onMouseDown:y}):W.createElement("div",{className:b}),!s&&W.createElement(eU.ue,{className:q()("dev_handoff_nodes_panel--layerIcon--aZvoO",{"dev_handoff_nodes_panel--symbolLayerIcon--D0Mch dev_handoff_nodes_panel--layerIcon--aZvoO":f}),guid:h}),W.createElement("div",{className:q()("dev_handoff_nodes_panel--sectionName--qx-3z text--fontPos11--2LvXf text--_fontBase--QdLsd ellipsis--ellipsis--Tjyfa",{"dev_handoff_nodes_panel--symbolName--IoUUt dev_handoff_nodes_panel--sectionName--qx-3z text--fontPos11--2LvXf text--_fontBase--QdLsd ellipsis--ellipsis--Tjyfa":f})},c?`${g} (${t})`:g))}let _k=W.memo(function(e){let{guid:t,sceneGraph__DEPRECATED:n,isSelected:a,onClick:r}=e,l=(0,eD.s5)((0,eP.EB)().showGuids),[i,o]=W.useState(!1),s=function(e){(0,eA.wB)();let t=(0,el.q)(e=>!(0,eI.SA)(e));return n=>(0,eL.cX)(n&&t?e:"")}(t),c=(0,eo.m4)(sy),d=_N(n,t),m=(0,s_.eG)(),u=(0,s_.Mp)(t),p=(0,s_.kB)(t,m,c),_=W.useMemo(()=>u?(0,sE.c)(u.lastEditedAt).fromNow():"",[u]),E=(0,eD.s5)(tq.KEP.devHandoffState().focusAnimationIsRunning),{width:g=0,height:h=0}=d??{},f=g>2.5*h,v=h>2.5*g,y=g<1||h<1?{width:0,height:0}:f?{height:80,width:g/h*80}:v?{width:48,height:h/g*48}:{width:48,height:80},C=_c({nodeId:t,width:2*y.width,height:2*y.height,version:(null==u?void 0:u.lastEditedAt)??"-",shouldSkip:E}),w=(0,lI.S4)(`devHandoffNodesPanel-${(null==d?void 0:d.name)??""}`,"click",e=>{var n;(0,m7.c)("sections_frames_list"),tq.aWh.selectAndFocusOnNode(t,!0),null==(n=null==e?void 0:e.currentTarget)||n.blur(),r&&r(e)}),b=(0,Y.OY)(),T=W.useCallback(e=>{e.stopPropagation(),e.preventDefault();let{clientX:n,clientY:a}=e;b(lZ.Qn({type:eR.qK,data:{clientX:n,clientY:a,guid:t}}))},[b,t]);if(!d)return null;let x=e=>{o(e),s(e)},k=null==u?void 0:u.lastEditedAt,N=C?{backgroundColor:e.thumbnailBackgroundColor}:void 0;return W.createElement("div",{className:q()(a?lf:lh,"dev_handoff_nodes_panel--itemWithThumbnail--t0s4E"),onMouseDown:w,onContextMenu:T,role:"button",tabIndex:0,onMouseEnter:()=>{x(!0)},onMouseLeave:()=>x(!1),"data-fullscreen-intercept":!0},W.createElement("div",{className:"dev_handoff_nodes_panel--thumbnailContainer--y8uEp",style:N},C&&W.createElement("img",{src:C.src,className:q()("dev_handoff_nodes_panel--thumbnailImg--yRcCn",f&&"dev_handoff_nodes_panel--thumbnailImgLong--5eP8l",v&&"dev_handoff_nodes_panel--thumbnailImgTall--iJO4k"),alt:(0,ex.t)("dev_handoff.nodes_panel.thumbnail_alt_text")})),W.createElement("div",{className:"dev_handoff_nodes_panel--nodeNameAndTimestampContainer--egq48 text--fontPos11--2LvXf text--_fontBase--QdLsd"},W.createElement("div",{className:"dev_handoff_nodes_panel--nodeNameAndTimestamp--HcL87"},W.createElement("div",{className:"dev_handoff_nodes_panel--nodeName--5SQVr ellipsis--ellipsis--Tjyfa"},l?`${d.name} (${t})`:d.name),k?W.createElement("div",{className:"dev_handoff_nodes_panel--tlfPanelTimestampContainer---u-Ju"},W.createElement(mx,{state:p,backgroundState:a?"selected":i?"hovered":null}),W.createElement("div",{className:"dev_handoff_nodes_panel--editedTimestamp--nShNo"},(null==u?void 0:u.createdAt)&&(p===s_.Ws.RECENTLY_CREATED||u.createdAt===u.lastEditedAt)?W.createElement("span",{className:ly},W.createElement(ex.Tx,{id:"dev_handoff.nodes_panel.created",at:_})):W.createElement("span",{className:ly},W.createElement(ex.Tx,{id:"dev_handoff.nodes_panel.edited",at:_})))):d.isSymbol&&W.createElement("div",{className:lv},W.createElement(eU.ue,{className:mo,guid:t}),W.createElement("span",{className:"dev_handoff_nodes_panel--layerTypeSymbol--BuyoH text--fontPos11--2LvXf text--_fontBase--QdLsd ellipsis--ellipsis--Tjyfa"},d.type)))))}),_N=(e,t)=>{let n=(0,_d.eM)((e,t)=>{let n=(0,eA.mY)(e,t);if(!n)return null;let a=n.isState?n.parentNode:null,r=(null==a?void 0:a.name)||n.name;return{id:n.guid,name:r,width:n.size.x,height:n.size.y,type:(0,sv.ay)(n,a),isSymbol:n.isStateGroup||"SYMBOL"===n.type||"INSTANCE"===n.type}},t),a=(0,eA.mY)(e,t);if(!a)return null;let r=a.isState?a.parentNode:null,l=(null==r?void 0:r.name)||a.name,i={id:a.guid,name:l,width:a.size.x,height:a.size.y,type:(0,sv.ay)(a,r),isSymbol:a.isStateGroup||"SYMBOL"===a.type||"INSTANCE"===a.type};return(0,$.Ub)().scenegraph_hooks_dev_handoff?n:i};function _S({items:e,sceneGraph__DEPRECATED:t,selectedNodeId:n,inReadySectionTopLevelNodeId:a,onRowClick:r}){let l=W.useRef(null),[i,o]=(0,e_.JL)("ready-panel-height-storage-key",400),s=e.length>0,c=s?`calc(max(250px, min(80%, ${i}px)))`:"fit-content",[d,m]=(0,eo.lZ)(_T),u=function(){let{color__DEPRECATED:e}=(0,el.q)(e=>{var t;return{color__DEPRECATED:null==(t=e.mirror.sceneGraph.get(e.mirror.appModel.currentPage))?void 0:t.backgroundColor}}),{currentPage:t}=(0,el.q)(e=>({currentPage:e.mirror.appModel.currentPage})),n=(0,_d.eM)((e,t)=>{var n;return null==(n=e.get(t))?void 0:n.backgroundColor},t),a=(0,$.Ub)().scenegraph_hooks_dev_handoff?n:e;return a?_o.Q.format(a):"var(--color-bg)"}(),[p,_]=W.useState(!0),E=(0,ru.s)();W.useEffect(()=>{var t;if(!n)return;let a=null==(t=e.find(e=>e.childNodeIds.includes(n)))?void 0:t.guid;a&&m(e=>e.includes(a)?e.filter(e=>e!==a):e)},[e,n,m]);let g=W.useMemo(()=>{let t=!1;return[...E?[]:[{type:"header"}],...e.flatMap(e=>{if(e.isSection){let n=d.includes(e.guid);return n||(t=!0),[{type:"section",sectionId:e.guid,displayName:e.sectionNames.fill("...",1,-1).join(" / "),hasChildren:e.childNodeIds.length>0},...n?[]:e.childNodeIds.map(e=>({type:"node",nodeId:e}))]}return t?(t=!1,[{type:"divider"},{type:"node",nodeId:e.guid}]):{type:"node",nodeId:e.guid}})]},[d,E,e]),h=W.useMemo(()=>{let e=[];return g.forEach((t,n)=>{"section"===t.type&&e.push(n)}),e},[g]),f=W.useRef(),v=e=>f.current===e,y=W.useRef(null),C=(0,_a.CC)({count:g.length,estimateSize:e=>{let t=g[e].type;return"node"===t?_C:"header"===t?_b:"divider"===t?16:_w},getScrollElement:()=>y.current,overscan:10,rangeExtractor:W.useCallback(e=>(f.current=[...h].reverse().find(t=>e.startIndex>=t),f.current)?[...new Set([f.current,...(0,_r.kf)(e)])].sort((e,t)=>e-t):(0,_r.kf)(e),[h])}),w=W.createElement("div",{className:"dev_handoff_nodes_panel--panelTitle--wcEcM text--fontPos11--2LvXf text--_fontBase--QdLsd",style:{padding:E?0:void 0}},W.createElement(ex.Tx,{id:"dev_handoff.tag.ready_for_development"}));return W.useEffect(()=>{let e=g.findIndex(e=>"node"===e.type&&a===e.nodeId);-1!==e&&C.scrollToIndex(e)},[g,a,C]),W.createElement(W.Fragment,null,E&&W.createElement("div",{className:_y.cP},W.createElement(rA.g9,{className:q()(_y.Kp,_y.A5,_y.iy),onClick:()=>_(e=>!e)},p?W.createElement(_t.u,null):W.createElement(_n.O,null),w)),W.createElement(_i,{edge:"bottom",size:{height:E&&!p?0:c},onSizeChanged:e=>o(t=>t+e.y),onStateChanged:()=>o(l.current.clientHeight),onReset:()=>o(400),forwardedRef:l,disabled:!s},p&&W.createElement("div",{"data-testid":"devHandoffNodesPanel.readyList",style:{height:"100%",overflow:"auto"},ref:y},s?W.createElement("div",{style:{height:`${C.getTotalSize()}px`,width:"100%",position:"relative"}},C.getVirtualItems().map(e=>{let l;let i=g[e.index];return l="header"===i.type?w:"divider"===i.type?W.createElement("div",{className:"dev_handoff_nodes_panel--readyNodesDivider--QAmcF"}):"section"===i.type?W.createElement(_x,{guid:i.sectionId,hideSectionIcon:!0,hasChildren:i.hasChildren,isExpanded:!d.includes(i.sectionId),toggleExpand:()=>{m(e=>e.includes(i.sectionId)?e.filter(e=>e!==i.sectionId):[...e,i.sectionId])},sceneGraph__DEPRECATED:t,isSelected:n===i.sectionId,nameOverride:i.displayName}):W.createElement(_k,{guid:i.nodeId,thumbnailBackgroundColor:u,sceneGraph__DEPRECATED:t,isSelected:a===i.nodeId,onClick:r}),W.createElement("div",{key:e.key,style:{..."section"===i.type?{zIndex:1}:{},...v(e.index)?{position:"sticky"}:{position:"absolute",transform:`translateY(${e.start}px)`},top:0,left:0,width:"100%",height:`${e.size}px`}},l)})):W.createElement(W.Fragment,null,!E&&w,W.createElement(_I,null)))))}function _I(){let e=(0,sC.uc)("isSceneReadOnly"),t=(0,sh.n)();return e?W.createElement("div",{className:lC},W.createElement(eN.A,{svg:mb.c,className:lw}),W.createElement("div",{className:lb},W.createElement(ex.Tx,{id:"dev_handoff.tag.ready_for_development.content_view_only"}))):W.createElement("div",{className:lC},t?W.createElement(mA,null):W.createElement(W.Fragment,null,W.createElement(eN.A,{svg:mb.c,className:lw}),W.createElement("div",{className:lb},W.createElement(ex.Tx,{id:"dev_handoff.status.ready_for_development.content"}))))}function _A(e,t,n){let a=W.useRef(!1),r=W.useCallback(e=>{e!==t&&(a.current=!0)},[t]),{inspectableRootNodeId:l}=_O(e,t,n),i=W.useRef(null),o=W.useMemo(()=>t&&a.current?(a.current=!1,i.current):l,[t]);return i.current=o,{inspectableRootNodeId:o,didSelectRow:r}}function _O(e,t,n){let a=W.useMemo(()=>{let e=t?tq.aWh.getInReadySectionTopLevelNodeId(t):null;return e&&e!==sN.Q9?e:null},[t]),r=W.useMemo(()=>{let t=null;if(a?t=a:e===sN.Q9||tq.aWh.isNodePanelSection(e)||(t=e),t){let e=n.get(t);(!e||sO.sD.includes(e.type))&&(t=null)}return t},[e,a,n]),l=(0,_d.eM)((e,t,n)=>{let a=null;if(n?a=n:t===sN.Q9||tq.aWh.isNodePanelSection(t)||(a=t),a){let t=e.get(a);(!t||sO.sD.includes(t.type))&&(a=null)}return a},e,a);return{inspectableRootNodeId:(0,$.Ub)().scenegraph_hooks_dev_handoff?l:r,inReadySectionTopLevelNodeId:a}}function _M({onRowClick:e,inspectableRootNodeId:t,didSelectRow:n}){let a=(0,eD.s5)(tq.KEP.devHandoffState().currentNodeId),r=(0,eA.wB)(),l=(0,eD.s5)(tq.KEP.devHandoffState().readySectionItems),{sceneGraph__DEPRECATED:i,currentPage:o}=(0,el.q)(e=>({sceneGraph__DEPRECATED:e.mirror.sceneGraph,currentPage:e.mirror.appModel.currentPage})),{inReadySectionTopLevelNodeId:s}=_O(a,r,i);return W.createElement("div",{className:"dev_handoff_nodes_panel--nodesListPanels--ceR3Z","data-testid":"devHandoffNodesList"},!(0,$.Ub)().dt_dev_mode_workflows&&W.createElement(_S,{items:l||[],sceneGraph__DEPRECATED:i,selectedNodeId:r,inReadySectionTopLevelNodeId:s,onRowClick:e}),W.createElement(_h,{inspectableRootNodeId:t,didSelectRow:n,page:o}))}let _P=W.memo(()=>{let{sceneGraph:e}=(0,el.q)(e=>({sceneGraph:e.mirror.sceneGraph})),t=(0,eD.s5)(tq.KEP.devHandoffState().currentNodeId),n=(0,rm.yO)(),a=!!(0,rm.iK)()&&!n,{inspectableRootNodeId:r,didSelectRow:l}=_A(t,(0,eA.wB)(),e),i=(0,Y.w1)(e=>Object.keys(e.mirror.sceneGraphSelection).length>0);return(0,rT.u)(()=>{let e=rx.sr.tryStop("switch_to_inspect_mode.left_panel_tti");e&&(0,Z.we)("switch_to_inspect_mode.left_panel_tti",{elapsedMs:e,isNodeSelected:i},{forwardToDatadog:!0})}),W.createElement("div",{className:q()(eR.cp,lg)},!a&&W.createElement(rI,null),!n&&W.createElement(_M,{inspectableRootNodeId:r,didSelectRow:l}))});var _L=n(934540);let _D="dev_handoff_on_canvas_button--text--gcrgy";var _R=n(123156),_F=n(170180),_B=n(866268);function _U({floating:e=!0}){let t=_V(),n=(0,eD.s5)(eM.KEP.devHandoffState().focusMode),{version:a}=(0,X.qG)();return"ui3"===a?null:W.createElement(_H,{floating:e},t?W.createElement(_G,null):!n&&W.createElement(_K,null))}function _K(){let e=(0,eD.s5)(eM.KEP.devHandoffState().nodeIds),t=(0,eA.wB)(),n=t?e.indexOf(t):-1;return n<0?null:W.createElement(_L.oh,{navigateForwardEnabled:n<e.length-1,navigateBackwardEnabled:n>0,shouldShowFrameCounter:!0,frameCount:e.length,currentFrameIndex:n,showPreviousFrame:()=>{(0,m7.c)("stepper"),eM.i46.triggerActionInUserEditScope("dev-handoff-focus-previous",{})},showNextFrame:()=>{(0,m7.c)("stepper"),eM.i46.triggerActionInUserEditScope("dev-handoff-focus-next",{})},backIcon:_R.c,nextIcon:_F.c})}function _G(){let e=(0,el.q)(e=>e.mirror.appModel.keyboardShortcuts);return W.createElement(rA.iH,{onClick:()=>{eM.i46.triggerActionInUserEditScope("zoom-to-selection",void 0)},className:q()("dev_handoff_on_canvas_button--button--Kqr9E","dev_handoff_on_canvas_button--recenter--UbfZj"),recordingKey:(0,lI.Mx)("devHandoffNavBar","recenter"),dataTestId:"devHandoffRecenter"},W.createElement(eN.A,{className:"dev_handoff_on_canvas_button--icon--Lkbda",svg:_B.c}),W.createElement("span",{className:_D},W.createElement(ex.Tx,{id:"dev_handoff.recenter"})),W.createElement("span",{className:q()(_D,"dev_handoff_on_canvas_button--secondaryText--JwmTf")},(0,nf.O0)(e,"zoom-to-selection")))}function _H(e){let t=(0,eB.qE)();return W.createElement("div",{className:"dev_handoff_on_canvas_button--base--n2Gb3",style:e.floating?{position:"fixed",left:t.x,width:t.width,bottom:(0,nF.qe)(n5.q0v)}:void 0},W.createElement("div",{className:"dev_handoff_on_canvas_button--container--fpCTC text--fontPos11--2LvXf text--_fontBase--QdLsd"},e.children))}function _V(){var e,t;let n=(0,eD.s5)(null==(t=null==(e=eM.KEP)?void 0:e.devHandoffState())?void 0:t.focusAnimationIsRunning),a=(0,eA.wB)()??sN.Q9,r=(0,l1.K_)(),l=(0,e7.U9)(),i=(0,sC.ct)(),[o,s]=W.useState(!1);return(0,eB.o7)({subscribeToUpdates_expensive:!0},W.useCallback(e=>{if(!l||e.isPanning||e.isZooming||n)return;let t=i.get(a),o=null==t?void 0:t.absoluteBoundingBox;if(!o||!r){s(!1);return}let c=(0,eB.C)(e,{x:o.x,y:o.y,width:o.w,height:o.h});s(function(e,t){let n=0,a=0;if(t.width/e.width>t.height/e.height?(n=t.width,a=e.width):(n=t.height,a=e.height),e.zoomScale<.5&&n/a<.25)return!0;let r=Math.min(t.width,.25*e.width),l=Math.min(t.height,.25*e.height);return t.x+t.width<r||t.x>e.width-r||t.y+t.height<l||t.y>e.height-l}(e,c))},[l,n,i,a,r])),o}var _W=n(184172);function _Y(){return W.createElement("div",{className:ap.cx.flex.flexRow.m16.$},W.createElement("div",{className:ap.cx.font11.$},W.createElement(ex.Tx,{id:"fullscreen.properties_panel.this_file_s_editor_has_disabled_exporting_copying_and_sharing.seat_rename"})))}var _j=n(402980),_X=n(699884),_z=n(103960);let _q=W.memo(function(){let e=(0,Y.w1)(e=>e.mirror.appModel.currentTool===rk.mq.tool),t=(0,_j.AP)(),n=(0,eP.s8)(),a=(0,eo.m4)(lM.GE),r="LOADING"===a,l="RUNNING"===a,i=(0,eo.m4)(rN.g)===rN.u.PLUGIN&&!e,o=(0,Y.OY)();W.useEffect(()=>o(tl.Qb()),[o]),W.useEffect(()=>{let e=_z.S8.getInstance();l&&e&&(i?e.hideProgress():e.showProgress({isBackground:!0}))},[l,i]);let s=l&&i?{height:"100%"}:{display:"none"};return W.createElement("div",{className:ap.cx.hFull.wFull.if(i,ap.cx.block,ap.cx.hidden).$,"data-testid":"devHandoffPluginPanel"},t?W.createElement(_Y,null):W.createElement(W.Fragment,null,r&&W.createElement(_Z,null),W.createElement("div",{style:s,"data-testid":"pluginPanelContainer"},W.createElement(_X.qQ,{iframeId:_X.qi.INSPECT,width:n,fillParent:!0})),!r&&!l&&W.createElement(sd,null)))});function _Z(){let e=(0,eo.m4)(lM.Ed);return e?W.createElement(aE.g,{direction:"vertical",verticalAlignItems:"center",horizontalAlignItems:"center"},W.createElement(W.Fragment,null,W.createElement("span",{style:a_.sx.add({boxSizing:"content-box",margin:"-20px auto",opacity:"0.3"}).$},W.createElement(_W.c8,null)),W.createElement("div",{className:ap.cx.pt16.px32.alignCenter.$},W.createElement(ah.a,{i18nId:"dev_handoff.loading_plugin",i18nParams:{pluginName:null==e?void 0:e.name},fontSize:12,color:"secondary"})))):null}var _Q=n(120664);function _J(){let e="ui3"===(0,X.qG)().version,{isPropertiesPanelCollapsed:t,setPropertiesPanelCollapsed:n}=(0,_Q.I)(),a=(0,sC.a0)(),r=(0,sC.au)(),l=(0,eh.S2)(eh.YP.ui3ExpAutoHideRightPanel),i=(0,rv.sZ)(),o=l||i,s=(0,Y.w1)(e=>e.mirror.appModel.activeUserAction===eM.Sbl.DEFAULT);(0,W.useEffect)(()=>{e&&o&&t&&(a&&s||r===eM.w3X.FRAME||r===eM.w3X.COMMENTS||r===eM.w3X.VECTOR_PENCIL)&&n(!1)},[a,s,o,r,e,n,t])}var _$=n(300711),_0=n(958895),_1=n(860356),_2=n(682931);let _5=(0,nF.qe)(n5.w3W);function _3(e){let t=(0,Y.w1)(e=>e.mirror.appModel.showUi),n=(0,_2.AP)(),[a,r]=(0,eo.lZ)(_2.MX),l="ui3"===(0,X.qG)().version,i=(0,eD.s5)((0,eP.EB)().renderRulers),o=(0,ru.O)(),s=(0,Y.w1)(e=>e.multiplayer),c=(0,Y.w1)(e=>e.openFile),d=(0,Y.w1)(e=>e.user),m=(0,Y.w1)(e=>e.dropdownShown),u=(0,t0.c$)();_J();let{isPropertiesPanelCollapsed:p}=(0,_Q.I)();p=p&&o,(0,_2.gt)();let _=W.useCallback(()=>{r(!0)},[r]),E=W.useCallback(e=>{if(a){let t=(0,_2.ER)(window.innerWidth-e.clientX);t!==n&&(0,_2.Ef)(t)}},[a,n]),g=W.useCallback(()=>{a&&r(!1)},[a,r]);W.useEffect(()=>(document.addEventListener("mousemove",E),document.addEventListener("mouseup",g),()=>{document.removeEventListener("mousemove",E),document.removeEventListener("mouseup",g)}));let h=uF(),f=a?mB:t?mF:mU;return l?W.createElement(lx.Y,{className:q()(mG._g,{[mG.U1]:o&&!p,[mG.aA]:o,[mG.OO]:o&&!p,[mG.qu]:o&&p}),style:{width:n}},W.createElement(_0.C,{className:q()(mG.Co,eR.cp,{[mG.qc]:i,[mG.aA]:o}),size:n,onResize:_,side:"left"},o&&p&&W.createElement("div",{className:q()(mG.Qs,h?mG.Sw:mG.ag)},W.createElement(_1.w,{openFile:c,dropdownShown:m,multiplayer:s,user:d,isIntegration:(0,_$.AT)(),selectedView:u})),W.createElement("div",{className:q()(mG.Qs,{[mB]:a,[mF]:t,[mU]:!t||o&&p})},o&&!p&&W.createElement(_1.w,{openFile:c,dropdownShown:m,multiplayer:s,user:d,isIntegration:(0,_$.AT)(),selectedView:u}),W.createElement(lK,null),W.createElement("div",{className:mK},e.children)))):W.createElement("div",{className:`${f} ${eR.cp}`,style:{width:n-_5},ref:e.forwardedRef},W.createElement(lK,null),W.createElement(lx.Y,{className:mK},e.children),W.createElement("div",{className:"dev_handoff_right_panel_container--edge--K3aDb",style:{right:n},onMouseDown:_,onDoubleClick:_2.W6}))}var _4=n(240228),_6=n(63396);function _8({plugin:e}){return"first-party"!==(0,eS.oJ)().type?null:W.createElement(_7,{plugin:e,buttonText:(0,ex.t)("dev_handoff.inspect_panel.close_plugin")})}function _9({plugin:e}){return"first-party"===(0,eS.oJ)().type?null:W.createElement(_7,{plugin:e,buttonText:(0,ex.t)("dev_handoff.inspect_panel.generate_code")})}function _7({plugin:e,buttonText:t}){return e?W.createElement(sJ.e_,{padding:sJ.CK.NONE,recordingKey:"pluginProgressPanel"},W.createElement(aE.g,{direction:"vertical",horizontalAlignItems:"center",padding:{top:12,bottom:12,left:16,right:16},spacing:8,width:"fill-parent"},W.createElement(aE.g,{direction:"horizontal",verticalAlignItems:"start",horizontalAlignItems:"center",spacing:4},W.createElement("div",{style:a_.sx.add({marginTop:"-3px"}).$},W.createElement(lL.K,{plugin:e})),W.createElement(ah.a,{i18nId:"fullscreen.plugins.background",i18nParams:{plugin:W.createElement(ah.a,{fontWeight:"bold"},e.name)},fontFamily:"primary"})),W.createElement(ag.q,{variant:"secondary",onClick:()=>{(0,lO.qu)()},width:"fill-parent",recordingKey:"generateCodeButton"},W.createElement(ah.a,{fontFamily:"primary"},t)))):null}var Ee=n(656752);let Et="code_extension_section--sectionsBorder--iguOh";var En=n(356832);function Ea({localCodeLanguage:e,overrideNodeId:t,hideLayoutSection:n,sectionClassName:a}){let r=(0,eS.oJ)(),l=e??r,i=l.id===eS.Ml&&"first-party"===l.type?{id:cA.qm.CSS,type:"first-party"}:l,o=(0,eo.m4)(lM.i0),s=(0,eo.m4)(lM.s1);return o&&"codegen"!==s&&"first-party"!==i.type?W.createElement(_9,{plugin:o}):W.createElement(Er,{overrideNodeId:t,hideLayoutSection:n,codegenPluginLanguage:i,sectionClassName:a},(e,t)=>W.createElement(ci,{code:e,section:t}))}function Er({codegenPluginLanguage:e,children:t,overrideNodeId:n,hideLayoutSection:a,sectionClassName:r}){let l=(0,eO.Os)(),i=(0,eO.YQ)(),o=(0,Y.w1)(e=>Object.keys(e.mirror.sceneGraphSelection)[0]),s=(0,rH.qM)(),[c,d]=W.useState(!1),m=n??o,u=W.useCallback(t=>{s("Dev Mode Code Section Clicked",{codeSection:t,languageType:e.type,languageId:e.id,unit:l,scaleFactor:i})},[e.id,e.type,i,s,l]),{code:p,error:_,isLoading:E}=cH({selectedNodeID:m,extensionLanguage:e,preferences:(0,eO.Ef)(),plugin:(0,eS.ef)()}),g=!!n,h=W.useCallback(({id:e})=>{var t;e===m&&(null==(t=(0,cA.Y9)().nodeCache)||t.invalidate(e),d(!0))},[m]);W.useEffect(()=>((0,Ee.uR)(h),()=>{(0,Ee.gB)(h)}),[h]),W.useEffect(()=>{g||d(!1)},[g,m]);let f=W.useCallback(()=>{d(!1),(0,cA.Y9)().rebuildNodeCache(),(0,cP.E)()},[]),v=function(e,t){let[n,a]=W.useState(e);return W.useEffect(()=>{let t=null;return e?t=setTimeout(()=>{a(!0)},200):a(!1),()=>{null!=t&&clearTimeout(t)}},[e,200]),n}(E,200);return m?_?(console.error(_),null):v?W.createElement("div",{className:Et},W.createElement(aE.g,{verticalAlignItems:"center",horizontalAlignItems:"center",padding:{top:16,left:16,right:16,bottom:4},dataTestId:"codegen-spinner"},W.createElement(l7.M7,null))):0===p.length?null:W.createElement("div",{className:Et},c&&W.createElement(aE.g,{padding:{top:16,left:16,right:16,bottom:0}},W.createElement(_6.O,{dataTestId:"dev-handoff-code-update-prompt",iconSrc:En.c,title:(0,ex.t)("dev_handoff.code.update_prompt_title"),orientation:"vertical",variant:"brand",onClose:()=>d(!1),action:{label:(0,ex.t)("dev_handoff.code.update_prompt_action"),onClick:f}},W.createElement(ex.Tx,{id:"dev_handoff.code.update_prompt"}))),p.map((n,l)=>n.lines.length>0&&(!a||"Layout"!==n.name)?W.createElement(rA.g9,{className:q()("code_extension_section--sectionsContainer--vZzFZ",r),"data-testid":`code-panel-${n.name}`,key:`${e}-${n.name}-${l}`,tabIndex:-1,"data-fullscreen-intercept":!0,onClick:()=>u(n.name)},t(p,n,l)):null)):null}var El=n(967763),Ei=n(518208),Eo=n(893704),Es=n(230452),Ec=n(71340);function Ed(){return W.createElement(W.Fragment,null,W.createElement(Ei.uq,null),W.createElement(Ec.I,null),W.createElement(El.e0,null),W.createElement(Es.C,null),W.createElement(Eo.e,null))}var Em=n(749949),Eu=n(53905);function Ep(){let{selectionProperties:e}=(0,el.q)(e=>({selectionProperties:e.mirror.selectionProperties})),t=(0,tf.yG)(),n=(0,tf.So)(),a=(0,tf.qK)(),r=(0,Em.CS)(),l=(0,Y.OY)(),i=(0,t$.K0)();return W.createElement(Eu.e,{key:"plugin",pluginRelaunchData:e.pluginRelaunchData,localPlugins:t,publishedPlugins:n,allSavedPlugins:a.plugins,orgEntity:r,dispatch:l,openFileKey:i,editorType:"dev_handoff",numSelected:e.numSelected??0,recordingKey:"devHandoffPluginPanel",title:(0,ex.t)("dev_handoff.plugin_panel.title"),isDevHandoff:!0})}var E_=n(943596),EE=n(649496),Eg=n(917076),Eh=n(880728),Ef=n(532164),Ev=n(6264),Ey=n(600675),EC=n.n(Ey),Ew=n(552727);let Eb=/(#[0-9]+:[0-9]+)/g,ET={Swift:"swift",TypeScript:"jsx"};function Ex(e){return RegExp(`self\\.${e}`,"gm")}function Ek(e){return"True"===e||"Yes"===e||"False"!==e&&"No"!==e&&e}function EN(e){return e.replace(Eb,"").replace(/\s+/g," ").trim()}function ES(e,t,n,a){if(!a||!n)return{nestedInstance:null,nestedFigmaDoc:null};let r=t.get(e),l=ED(e,a,t),i=null;if(l){let{backingFileKey:e,backingNodeId:t}=l;(i=null==n?void 0:n[`key-${e},${t}`])&&!Array.isArray(i)&&(i=[i])}return{nestedInstance:r,nestedFigmaDoc:i}}function EI(e){return Object.entries(e.componentProperties()).reduce((e,[t,n])=>({...e,[EN(t)]:n}),{})}function EA(e){return Object.entries(e.componentPropertyDefinitions()).reduce((e,[t,n])=>({...e,[EN(t)]:{value:n.defaultValue,type:n.type}}),{})}function EO(e){if(!e.parentNode)return{};let t=Object.entries(e.variantProperties()).reduce((e,[t,n])=>({...e,[t]:{value:n,type:"VARIANT"}}),{});return Object.entries(e.parentNode.componentPropertyDefinitions()).reduce((e,[t,n])=>"VARIANT"===n.type?e:{...e,[EN(t)]:{value:n.defaultValue,type:n.type}},{...t})}function EM(e){return"INSTANCE"===e.type?EI(e):"SYMBOL"===e.type?e.isState?EO(e):EA(e):{}}function EP(e){return((null==e?void 0:e.publishID)&&(null==e?void 0:e.publishID)!==sL.kg?null==e?void 0:e.publishID:null==e?void 0:e.guid)??null}function EL(e,t){var n,a,r,l,i;let o,s;let c=t.get(e),d=(0,t$.K0)(),{backingFileKey:m,backingNodeId:u,mappingMode:p}=function(e,t){var n;let a=(0,t$.K0)(),r=t.get(e),{singleBackingSymbol:l,singleBackingStateGroup:i}=(0,c0.Y)([(null==r?void 0:r.guid)??""]);if(!r)return{backingFileKey:null,backingNodeId:null,mappingMode:null};if("INSTANCE"===r.type&&r.symbolId){let e=t.get(r.symbolId);if(null==e?void 0:e.isState){let e=(0,iH.YH)(i);return{backingFileKey:e&&e!==a?e:a,backingNodeId:EP(i),mappingMode:"instance"}}{let e=(0,iH.YH)(l);return{backingFileKey:e&&e!==a?e:a,backingNodeId:EP(l),mappingMode:"instance"}}}return"SYMBOL"===r.type?r.isState?{backingFileKey:a,backingNodeId:(null==(n=r.parentNode)?void 0:n.guid)??null,mappingMode:"variant"}:{backingFileKey:a,backingNodeId:r.guid??null,mappingMode:"component"}:"FRAME"===r.type&&r.isStateGroup?{backingFileKey:a,backingNodeId:r.guid??null,mappingMode:null}:{backingFileKey:null,backingNodeId:null,mappingMode:null}}(e,t);"instance"===p?o=EI:"variant"===p?o=EO:"component"===p&&(o=EA);let _={};if(c&&o)try{_=o(c)}catch{aO.g.error("Failed to map node properties")}let E=function(e,t,n){if(!n)return[];let a=[],r=t.get(e);if(!r)return[];for(let e of r.childrenNodes)if("INSTANCE"===e.type){let r=e.symbolId;if(!r)continue;let l=ED(r,n,t);if(!l)continue;let{backingFileKey:i,backingNodeId:o}=l;a.push(i+","+o)}return a}(e,t,d),g=(0,es.Qb)(nm._4S,{fileKey:m??"",nodeId:u??"",instances:E},{enabled:!!(0,$.Ub)().dt_figmadoc});if(!c||!(0,$.Ub)().dt_figmadoc)return{id:null,doc:null,loaded:!0};let h=null==(n=g.data)?void 0:n.file;if(!(h&&"loaded"===h.status&&(null==(a=h.data)?void 0:a.figmadocs_for_node)&&(null==(r=h.data)?void 0:r.figmadocs_for_node.length)>0))return{id:null,doc:null,loaded:"loading"!==g.status};let f=(s=(i=null==(l=h.data)?void 0:l.figmadocs_for_node).find(e=>"figmadoc"===e.type&&"React"===e.label))||(s=i.find(e=>"figmadoc"===e.type&&"Storybook"===e.label))||(s=i.find(e=>"figmadoc"===e.type&&"Swift"===e.label))||(s=i.find(e=>"snippet"===e.type))?s:i[0];if(!f)return{id:null,doc:null,loaded:!0};let v=JSON.parse(f.figmadoc),y=f.id;return(Array.isArray(v)||(v=[v]),"type"in v[0]&&"snippet"===v[0].type)?{id:y,doc:v[0],loaded:!0}:"template"in v[0]?{id:y,doc:_?function e(t,n,a,r,l,i){var o;let s=function(e,t){let n=0,a=e[0],r=EM(t);for(let t of e){let e=0;Object.entries(t.variant??{}).forEach(([t,n])=>{let a=EC()(t),l=Object.entries(r).reduce((e,[t,n])=>({...e,[EC()(t)]:{type:n.type,value:Ek(n.value)}}),{})[a];(null==l?void 0:l.value)===n&&e++}),(!a||e>n)&&(a=t,n=e)}return a}(t,n),{template:c,importStatements:d}=(0,$.Ub)().dt_code_connect_js_templates?{template:s.template,importStatements:[]}:s.templateData.props&&null!==s?function(t,n,a,r,l,i){if("SwiftUI"===t.label)return function(e,t,n,a,r){var l,i,o,s,c;let{template:d,templateData:m}=e,u=new Set(m.imports),p=d;if(!(null==m?void 0:m.props)||0===Object.keys(m.props).length)return{template:d,importStatements:u};for(let[e,_]of Object.entries(m.props)){let m=t[null==(l=_.args)?void 0:l.figmaPropName];if(m&&function(e,t){let n=RegExp(`self\\.${t}`,"gm");return null!==e.match(n)}(d,e)){if("instance"===_.kind){if("INSTANCE_SWAP"!==m.type)continue;{let t=m.value;if(t&&r){let{nestedInstance:l,nestedFigmaDoc:s}=ES(t,n,a,r);if(s&&(null==s?void 0:s.length)>0){if(!(null==(i=s[0].templateData)?void 0:i.nestable))continue;let t=s[0].component;for(let e of(null==(o=s[0].templateData)?void 0:o.imports)??[])u.add(e);p=p.replace(Ex(e),`${t}()`)}else{let t=`/* Instance: ${null==l?void 0:l.name} (not linked to code) */`;p=p.replace(Ex(e),t)}}}}else if("enum"===_.kind){let t=null==(c=null==(s=_.args)?void 0:s.valueMapping)?void 0:c[`${m.value}`];if(!t)continue;p=p.replace(Ex(e),`${t}`)}else if("boolean"===_.kind){let t=Ek(m.value);p=p.replace(Ex(e),`${t}`)}else if("string"===_.kind){let t=Ek(m.value);p=p.replace(Ex(e),`"${t}"`)}}}return{template:p,importStatements:u}}(t,n,a,l,i);let{template:o,templateData:s}=t,c=new Set(s.imports);if(!(null==s?void 0:s.props)||0===Object.keys(s.props).length)return{template:o,importStatements:c};let d=o;for(let[t,m]of Object.entries(s.props)){if(!function(e,t){let n=RegExp(`[a-zA-Z]*(\\.${t}|\\[["']${t}["']\\])`,"gm");return null!==e.match(n)}(o,t))continue;let s=function t(o){var s,d,m,u,p,_,E,g;if("children"===o.kind){let t=r.visibleChildren.map(e=>{let t=a.get(e);return t&&o.args.layers.includes(null==t?void 0:t.name)?t.symbolId:null}).filter(e=>null!==e);if(t.length>0&&i)return t.map(t=>{var n,r;let{nestedInstance:o,nestedFigmaDoc:s}=ES(t,a,l,i);if(!s||!o)return`/* Instance: ${null==o?void 0:o.name} (not linked to code) */`;{if(!(null==(n=s[0].templateData)?void 0:n.nestable))return;let t=e(s,o,a,EM(o),l,i);for(let e of(null==(r=t.templateData)?void 0:r.imports)??[])c.add(e);return t.template}}).filter(e=>void 0!==e).join("\n")}let h=n[null==(s=o.args)?void 0:s.figmaPropName];if(h){if("enum"===o.kind){let e=Ek(h.value),n=null==(m=null==(d=o.args)?void 0:d.valueMapping)?void 0:m[`${e}`];return n&&n.kind?t(n):"string"==typeof n?n.startsWith("<")?`${n}`:`"${n}"`:void 0!==n?n.toString():"undefined"}if("boolean"===o.kind){if(null==(u=o.args)?void 0:u.valueMapping){let e=Ek(h.value),n=null==(_=null==(p=o.args)?void 0:p.valueMapping)?void 0:_[`${e}`];return n&&n.kind?t(n):"string"==typeof n?n.startsWith("<")?`${n}`:`"${n}"`:void 0!==n?n.toString():"undefined"}{let e=Ek(h.value);return`${e}`}}if("string"===o.kind){let e=Ek(h.value);return`"${e}"`}if("instance"===o.kind){if("INSTANCE_SWAP"!==h.type)return;{let t=h.value;if(t&&i){let{nestedInstance:n,nestedFigmaDoc:r}=ES(t,a,l,i);if(!r||!n)return`/* Instance: ${null==n?void 0:n.name} (not linked to code) */`;{if(!(null==(E=r[0].templateData)?void 0:E.nestable))return;let t=e(r,n,a,EM(n),l,i);for(let e of(null==(g=t.templateData)?void 0:g.imports)??[])c.add(e);return t.template}}}}}}(m);s&&(d=function(e){let t;for(;t=/(>\s*undefined\s*<\/.*>)/gs.exec(e);){let[n,a]=t;e=e.replace(a,"/>")}return e}(d=function(e){let t;for(;t=/>\s*(\"([^\{\}\>\<]*)\")\s*</g.exec(e);){let[n,a,r]=t;e=e.replace(a,r)}return e}(d=function(e){let t;for(;t=/>\s*([{}])\s*</g.exec(e);){let[n,a]=t;e=e.replace(a,"")}return e}(d=function(e){let t;for(;t=/>\s*({([^\{\}]*)})\s*</g.exec(e);){let[n,a,r]=t;e=e.replace(a,r)}return e}(d=function(e){let t;for(;t=/([a-zA-Z]+)={["']((?:[^"'\\]|\\.)*)["']}/g.exec(e);){let[n,a,r]=t;e=e.replace(n,`${a}="${r}"`)}return e}(d=function(e){let t;for(;t=/([a-zA-Z]+={(?:false|undefined)}\s*)/g.exec(e);){let[n,a]=t;e=e.replace(a,"")}return e.replace("  />","/>")}(d=function(e){let t;for(;t=/([a-zA-Z]+)={true}/g.exec(e);){let[n,a]=t;e=e.replace(n,a)}return e}(d=d.replace(RegExp(`[a-zA-Z0-9]*(\\.${t}|\\[["']${t}["']\\])`,"gm"),`${s}`)))))))))}return{template:d,importStatements:c}}(s,r,a,n,l,i):{template:null==s?void 0:s.template,importStatements:new Set((null==(o=s.templateData)?void 0:o.imports)??[])};return{...s,template:c,templateData:{...s.templateData,imports:Array.from(d)}}}(v,c,t,_,f.instanceFigmadocs,d):v[0],loaded:!0}:{id:y,doc:null,loaded:!0}}function ED(e,t,n){let{backingSymbolGUID:a,backingStateGroupGUID:r}=(0,Ew.gh)(new Set([e]),n);if((0,nQ.Er)(a)||null===a)return null;let l=n.get(a),i=(0,nQ.Er)(r)||null===r?null:n.get(r);if(i){let e=(0,iH.YH)(i);return{backingFileKey:e&&e!==t?e:t,backingNodeId:EP(i)}}if(l){let e=(0,iH.YH)(l);return{backingFileKey:e&&e!==t?e:t,backingNodeId:EP(l)}}return null}var ER=n(216712),EF=n.n(ER),EB=n(594080),EU=n(709964),EK=n(289620),EG=n(555168),EH=n(478176),EV=n(570012),EW=n(884728),EY=n(459624);let Ej="asset_panel--exportMeta--C-dRt",EX="asset_panel--button--y-FhH";var Ez=n(317260),Eq=n(350264);let EZ=4*(0,nF.qe)(rM.khe),EQ=4*(0,nF.qe)(rM.OwV),EJ=e=>e.stopPropagation(),E$={format:e=>e},E0=W.memo(({assetInfo:e,openFileKey:t,disabled:n,media:a,showGuids:r,saveAsState:l,dropdownShown:i,isSelected:o})=>{var s,c;let{assetId:d,assetName:m,thumbnailVersion:u}=e,p=(null==(s=e.instancesGUIDs)?void 0:s[0])??(null==(c=e.duplicateGUIDs)?void 0:c[0])??d,_=(0,EU.O)({assetId:p,thumbnailVersion:u,width:EZ,height:EQ,scale:4}),E=function(e,t){var n;let{exportSettings:a}=(0,eA.cN)(e)??{exportSettings:null};return(null==(n=null==a?void 0:a[0])?void 0:n.imageType)??(t&EV.Af.ASSET_ICON?"SVG":"PNG")}(d,e.type),g=(0,EK.iu)(e),h=(0,Y.OY)(),f=W.useCallback(async e=>{e.stopPropagation(),(0,Z.we)("Asset Panel Export Clicked"),await (0,n0.E1)(n0.Cm.Export,l,h,"export-assets-handoff",[p],"export-assets-handoff",{[p]:E}),h(nG._I()),h(lZ.yi())},[p,h,E,l]),v=W.useCallback(e=>{a.length>0&&t?h(lZ.Qn({type:"save-media-select",data:{assetId:p}})):f(e),e.stopPropagation()},[h,f,a,p,t]),y=dq(!1,void 0,p),C=W.useCallback(e=>{null==y||y(),e.stopPropagation()},[y]),w=(null==e?void 0:e.instancesGUIDs)??(null==e?void 0:e.duplicateGUIDs)??[d],b=W.useCallback(e=>{EG.Pc.user("image-type-change",()=>{eM.i46.setDevHandoffAssetExport(d,e)})},[d]),T=!!(e.type&EV.Af.ASSET_COMPONENT),x=!!(e.type&EV.Af.ASSET_ICON),k=!!(e.type&EV.Af.ASSET_IMAGE),N=!!(e.type&EV.Af.ASSET_GIF),S=!!(e.type&EV.Af.ASSET_VIDEO),I=N||S,A=(x||k)&&!I,O=a.length>0&&null!==t?av.g$:av.wP,M=(0,$.Ub)().ds_publish_file_deprecation?e.isFromLibrary:e.libraryKey,P=W.useMemo(()=>[W.createElement(EY.Gy,{key:"png",value:"PNG"}),W.createElement(EY.Gy,{key:"jpeg",value:"JPEG"}),...x?[W.createElement(EY.Gy,{key:"svg",value:"SVG"})]:[],W.createElement(EY.Gy,{key:"pdf",value:"PDF"})],[x]);return W.createElement("div",{className:"asset_panel--assetContainer----LF9",onMouseEnter:()=>eM.KEP.canvasViewState().temporarilyHoveredNodes.set(w),onMouseLeave:()=>eM.KEP.canvasViewState().temporarilyHoveredNodes.set([]),onClick:()=>{var t;return eL.uc([(null==(t=null==e?void 0:e.instancesGUIDs)?void 0:t[0])??d])},role:"link",tabIndex:0},W.createElement("div",{className:q()("asset_panel--assetRow--0VUJr text--fontPos11--2LvXf text--_fontBase--QdLsd",(null==i?void 0:i.type)==="save-media-select"&&i.data.assetId===p?"asset_panel--forceHovered--GZMWo":void 0)},W.createElement("div",{className:"asset_panel--assetPreview--nTOgs",style:_.backgroundStyle},_&&W.createElement(rO.O,{className:"asset_panel--assetPreviewImage--kTyjo",src:_.url})),W.createElement("div",{className:"asset_panel--assetDetails--xfCbP"},W.createElement("div",{className:"asset_panel--assetName--exM4m ellipsis--ellipsis--Tjyfa"},r?`${m} (${d})`:m),T&&!o?W.createElement("div",{className:"asset_panel--componentAssetType--oeu0C asset_panel--assetType--hIg9Q ellipsis--ellipsis--Tjyfa text--fontPos11--2LvXf text--_fontBase--QdLsd"},W.createElement(eN.A,{svg:eH.c}),W.createElement("div",{className:"asset_panel--componentAssetTypeEllipsis--0gm6v ellipsis--ellipsis--Tjyfa"},W.createElement(ex.Tx,{id:"dev_handoff.assets.instance"}))):W.createElement("div",{className:"asset_panel--assetType--hIg9Q ellipsis--ellipsis--Tjyfa text--fontPos11--2LvXf text--_fontBase--QdLsd"},W.createElement(EK.YL,{assetInfo:e,media:A?a:[],dataTestId:"assetPanel",shouldShowTypeLabel:!0}))),W.createElement("div",{className:"asset_panel--buttons--QytN9"},A&&W.createElement(W.Fragment,null,W.createElement(EY.En,{id:`asset-image-type-${d}`,property:E,formatter:EY.oU,onChange:b,dispatch:h,dropdownShown:i,onMouseDown:EJ,dropdownWidth:150},P),W.createElement("div",{className:"asset_panel--exportIcon--aQQXS"},W.createElement(O,{svg:Ez.c,onClick:v,"data-tooltip-type":n1.wL.TEXT,"data-tooltip":n?(0,ex.t)("fullscreen.properties_panel.export_disabled"):(0,ex.t)("fullscreen.export.export"),disabled:n,className:EX}),(null==i?void 0:i.type)==="save-media-select"&&W.createElement(W.Fragment,null,W.createElement("div",{className:"asset_panel--inputBlocker--YgNiW"}),W.createElement(lV.g.Dropdown,{className:"asset_panel--exportDropdown--Vh-cX"},a.map(e=>W.createElement(lV.g.OptionTracked,{onClick:e=>{e.stopPropagation(),h(lZ.yi())},href:(0,EW.iO)(t,e.hash),target:"_blank",key:e.hash,className:"asset_panel--exportOption--oLQE6"},W.createElement("div",null,(0,ex.t)("fullscreen.export.source")),W.createElement("div",{className:Ej},W.createElement(EK.cJ,{pxWidth:e.width,pxHeight:e.height,dataTestId:"assetPanel"})," \xb7 ",e.name))),W.createElement(lV.g.OptionTracked,{key:"export",className:"asset_panel--layerExportOption--bl77J",onClick:f},W.createElement("div",null,(0,ex.t)("fullscreen.export.layer_export")),W.createElement("div",{className:Ej},W.createElement(EK.YL,{assetInfo:e,dataTestId:"assetPanel",hideDot:!0})," \xb7 ",EY.oU.format(E))))))),I&&W.createElement(W.Fragment,null,W.createElement(aZ._8,{property:N?"GIF":"MP4",formatter:E$,isDisabled:!0}),W.createElement(av.wP,{svg:Ez.c,href:g??"",target:"_blank","data-tooltip-type":n1.wL.TEXT,"data-tooltip":(0,ex.t)("fullscreen.export.export"),disabled:!g,className:EX})),T&&!o&&W.createElement(av.wP,{svg:M?Eq.c:ej.c,onClick:C,"data-tooltip-type":n1.wL.TEXT,"data-tooltip":M?(0,ex.t)("dev_handoff.library.view"):(0,ex.t)("design_systems.instance_panel.go_to_main_component"),className:EX}))))});function E1(){let e=(0,Y.w1)(e=>e.mirror.selectionProperties.assets),t=(0,Y.w1)(e=>(0,t$.AX)(e)),n=(0,t$.AL)(),a=!!n&&(0,n$.Uf)(n),r=(0,Y.w1)(e=>e.saveAsState),l=(0,Y.w1)(e=>e.dropdownShown),i=(0,eD.s5)((0,eP.EB)().showGuids),o=(0,Y.w1)(e=>e.mirror.sceneGraphSelection),s=Object.values((0,eo.m4)(EH.I)),c=W.useMemo(()=>{let e={};for(let t of s)if("video"!==t.type&&"gif"!==t.type&&t.guids)for(let n of t.guids)n in e||(e[n]=[]),e[n].push(t);return e},[s]),d=({type:e})=>e&EV.Af.ASSET_ICON?1:e&EV.Af.ASSET_COMPONENT?2:3,m=W.useMemo(()=>EF()(Object.values(e||{}),"hash").map(t=>({...t,duplicateGUIDs:Object.values(e||{}).filter(e=>e.hash===t.hash).map(({assetId:e})=>e)})).sort((e,t)=>{let n=d(e),a=d(t);return n===a?e.assetName.localeCompare(t.assetName):n-a}),[e]),{visibleItems:u,showMoreButton:p}=(0,EB.O)({items:m,getShowMoreLabel:e=>(0,ex.t)("dev_handoff.assets.show_more",{count:e}),pageSize:4,shouldResetOnSelectionChange:!0});if(0===u.length)return null;let _=Object.keys(o);return W.createElement(sJ.e_,{hideHeader:lQ.kr.getIsExtension(),title:(0,ex.t)("dev_handoff.assets"),recordingKey:"assets"},u.map(e=>{let n=e.instancesGUIDs||[],o=_.some(e=>n.includes(e)),s=c[e.duplicateGUIDs[0]]??[];return W.createElement(E0,{key:e.assetId,assetInfo:e,media:s,openFileKey:t,disabled:a,showGuids:i,saveAsState:r,dropdownShown:l,isSelected:o})}),p)}var E2=n(341424),E5=n(936756),E3=n(673768),E4=n(37864),E6=n(491776),E8=n(256896),E9=n(486111),E7=n(828524),ge=n(518132);function gt(){let e=(0,dz.O2)(),t=(0,Y.OY)(),n=(0,t$.K0)(),a=W.useMemo(()=>!!e&&eM.GqY.nodeIsSoftDeleted(e.guid),[e]),r=W.useCallback(()=>{if(!e)return;let a=(0,iH.YH)(e);if(a&&a!==n){if(!e.publishID)return;let n=(0,iH.AD)(a,e.publishID);t(dX.Eh({url:n}))}else t(ts._g()),eM.i46.goToSymbolOrStateGroupById(e.guid,!1)},[e,t,n]);return!e||a?null:W.createElement(av.wP,{svg:ge.c,onClick:r,"data-tooltip":e.isState?(0,ex.t)("design_systems.playground.open_variant_in_library"):(0,ex.t)("design_systems.playground.open_component_in_library"),"data-tooltip-type":n1.wL.TEXT})}var gn=n(977844),ga=n(746514),gr=n(19408),gl=n(944482),gi=n(873956),go=n(122516);let gs=W.memo(({guid:e})=>{let t=(0,Y.OY)(),n=(0,Y.w1)(E6.GW),a=(0,sf.k3)(),r="loaded"===a.status&&"temp-scene"===a.result.dataLocation?a.result:void 0,l=W.useRef(null),i=(0,E7.SX)(),o=W.useMemo(()=>new sL.TSSceneGraph(r?sL._w.DETACHED:sL._w.PLAYGROUND),[r]),s=W.useMemo(()=>{var e;if(!i)return"";if("loaded"===a.status)return a.result.isVariant?a.result.dataStateGroupId??a.result.dataComponentId:a.result.dataComponentId;let t=null==(e=i.nodeData)?void 0:e.playgroundGUID;return t?((0,E8.Ud)([t],o)||(0,E8.xy)([t],o))??"":""},[i,o,a]),c=W.useMemo(()=>{var e;return(null==(e=o.get(s))?void 0:e.name)??""},[s,o]),d=(0,E3.S8)(e??s),[m,u]=W.useState(d),p=(0,Y.w1)(e=>e.userFlags.dismissed_playground_banner),_=W.useCallback(()=>{t(tm.s({dismissed_playground_banner:!0}))},[t]),E=W.useCallback(()=>{t((0,E4.es)())},[t]),g=W.useCallback(()=>{null==i||i.refetchAndResetScene()},[i]),[h,f]=W.useState(void 0);if(W.useLayoutEffect(()=>{f(void 0),requestAnimationFrame(()=>{var e;f(null==(e=l.current)?void 0:e.offsetHeight)})},[]),!i||!n)return null;let{thumbnailData:v,nodeData:y}=i;if(!y)return null;let{playgroundGUID:C,componentProps:w,moduleProps:b,modeData:T}=y;if(!v)return null;let x=(0,$.Ub)().dt_component_bg_improvements?m:d;return W.createElement(nO.wJ,{dispatch:t,size:"fitContent",title:W.createElement(gc,null),titleClassName:"playground_modal--modalTitleContainer--M7mdu",className:"playground_modal--modal--3F6xP",useModalViewScroll:!1,onHide:()=>(0,Z.we)("Playground closed"),onModalClick:E,modalRef:l,height:h},W.createElement("div",{className:q()("playground_modal--container--oiCFH",h?"playground_modal--hasHeight--HGbkD":null)},W.createElement("div",{className:"playground_modal--thumbnailContainer--ZaF9V",style:(0,E3.gZ)(x)},W.createElement("img",{src:v.src,className:"playground_modal--thumbnail--JPv2M",width:v.width,height:v.height,alt:(0,ex.t)("design_systems.playground.thumbnail_alt")}),(0,$.Ub)().dt_component_bg_improvements&&W.createElement("div",{className:"playground_modal--themeButton---BLzd","data-preferred-theme":x},W.createElement(av.wP,{svg:"light"===m?gl.c:gr.c,"data-tooltip-type":n1.wL.TEXT,"data-tooltip":(0,ex.t)("design_systems.playground.change_background"),onClick:()=>u(e=>"light"===e?"dark":"light")}))),W.createElement("div",{className:"playground_modal--propsContainer--CAA9y"},W.createElement("div",{className:"playground_modal--propsContainerHeader--oGDtk"},W.createElement("div",{className:"playground_modal--propsContainerName--ZCWzH"},W.createElement(eN.A,{className:"playground_modal--propsContainerIcon--X-SA7",svg:"INSTANCE"===n.type?eH.c:ej.c}),W.createElement("div",{className:"playground_modal--productComponentName--NaHb9 ellipsis--ellipsis--Tjyfa"},c)),W.createElement("div",{className:"playground_modal--propsContainerHeaderButtons--MPFZ-"},"INSTANCE"===n.type&&W.createElement(gt,null),W.createElement(av.wP,{className:"playground_modal--resetButton--ZUesP",svg:go.c,onClick:g,"data-tooltip":(0,ex.t)("design_systems.playground.reset_properties"),"data-tooltip-type":n1.wL.TEXT,disabled:!i.hasChangesToReset,recordingKey:"resetPlaygroundProps"}))),!p&&W.createElement("div",{className:"playground_modal--bannerContainer--rQy3f playground_modal--_propsContainerElement--F1mOU"},W.createElement(_6.O,{orientation:"vertical",iconSrc:gi.c,variant:"dev",title:(0,ex.t)("design_systems.playground.banner_header"),onClose:_},W.createElement(ex.Tx,{id:"design_systems.playground.banner_content"}))),W.createElement(nK.f,null,W.createElement(sC.aC.Provider,{value:o},W.createElement("div",{className:"playground_modal--propsSectionContainer--3xF-J playground_modal--_propsContainerElement--F1mOU"},W.createElement(ga.E,{containerWidth:E8.mK.REGULAR,componentProps:w,moduleProps:b,moduleFrameData:void 0,playgroundGUID:C,productComponentGUID:s,sceneGraph:o,viewOnlyMode:n.isState?E9.U7.VARIANT_PROPS:void 0,recordingKey:"playgroundPicker"})),W.createElement("div",{className:"playground_modal--modesSectionContainer--NaZ-S"},W.createElement(gn.A,{modes:T||{}})))))))});function gc(){let e=(0,Y.OY)();return W.createElement("div",{className:"playground_modal--modalTitle--e4b41"},W.createElement("strong",null,W.createElement(ex.Tx,{id:"design_systems.playground.component_playground"})),W.createElement(rW.CA,{onClick:()=>e(ts.oN())}))}let gd=(0,lo.U9)(gs,"PlaygroundModal");var gm=n(784340),gu=n(918628),gp=n(170168),g_=n(823848),gE=n(611852),gg=n(922120),gh=n(807200);function gf({description:e,emptyStateText:t}){let n=W.useRef(null),a=W.useRef(void 0),[r,l]=W.useState(!0);W.useEffect(()=>{let t=a.current;a.current=e,e&&n.current&&t!==e&&l(n.current.scrollHeight>96)},[e]);let i=!!e&&r;return W.createElement("div",{className:"asset_documentation_panel--documentationSection--Uiw1f"},e?W.createElement("div",{className:q()("asset_documentation_panel--documentationRt--dqAKD")},W.createElement(iz.C,{fallback:null,errorFallback:null,value:e,quillClassName:q()("asset_documentation_panel--quill--ARHQQ",{"asset_documentation_panel--quillCollapsed--ezPrQ":r}),quillInnerRef:n}),r&&W.createElement("div",{className:"asset_documentation_panel--quillCollapsedOverlay--UlWJU"})):t?W.createElement("div",{className:"asset_documentation_panel--documentationDescriptionDefault--vxlbl asset_documentation_panel--documentationDescription--la2iI text--fontPos11--2LvXf text--_fontBase--QdLsd",dir:"auto",ref:n},t):null,i&&W.createElement("div",{className:"asset_documentation_panel--showMoreButtonContainer--ZkHWJ"},W.createElement(sq.Y,{label:(0,ex.t)("dev_handoff.docs.show_full"),onClick:()=>l(!1)})))}var gv=n(547240),gy=n(223224),gC=n(717252);n(183428);var gw=n(33828);let gb=(0,nT.Zf)({});var gT=n(687208),gx=n(704892);let gk=class{async generateLinkPreview({plugin:e,link:t}){var n;try{let a=await cR.m.instance.enqueue(this.createEnqueueArgs({command:"linkpreview",plugin:e,onStart:()=>(0,cD.op)({name:t.linkName,url:t.linkUrl,isInherited:t.isInherited,nodeId:t.nodeId})}));if((null==a?void 0:a.type)==="PLAIN_TEXT")(0,gx.vL)({link:t,linkPreviewJson:a});else if((null==a?void 0:a.type)==="AUTH_REQUIRED"){let a=eo.qM.get(gb),r=(null==(n=a[e.plugin_id])?void 0:n.links)??[];eo.qM.set(gb,n=>({...n,[e.plugin_id]:{plugin:e,links:[...r,t]}}))}return a??null}catch(e){console.error(e)}return null}async runAuth({plugin:e,links:t}){eo.qM.set(rN.g,rN.u.PLUGIN);try{return await cR.m.instance.enqueue(this.createEnqueueArgs({command:"auth",plugin:e,onStart:()=>(0,cD.Mh)(t)}))??null}catch(e){console.error(e)}return null}createEnqueueArgs({command:e,plugin:t,onStart:n}){var a;return{runPluginArgs:{plugin:t,command:"linkpreview",queryMode:!1,runMode:"linkpreview"===e?"linkpreview":"auth",triggeredFrom:"linkpreview"===e?"related-link-preview":"related-link-auth",openFileKey:(null==(a=Q.x.getState().openFile)?void 0:a.key)||"",isWidget:!1},onStart:n,mode:"run-and-terminate"}}};gk.instance=new gk;let gN=(0,gC.UF)();function gS(e,t){if((0,iO.E7)(t)&&!(0,$.Ub)().plugins_related_links_local||!gN.has(t.plugin_id))return!1;let n=t.manifest.relatedLinkDomains||t.manifest.devResourceDomains;if(!n)return!1;for(let t of n){let n=(0,iA.wF)(t);if(!n)continue;let a=e.split("?")[0];if(n.exec(a))return!0}if((0,gC.mE)(t.plugin_id)){if(gI(e)&&e.match(/selectedIssue=[A-Z]+-[0-9]+/))return!0;gI(e)&&e.match(/[A-Z]+-[0-9]+/)&&(0,Z.we)("Jira Issue Url Not Matched",{url:e})}return!1}function gI(e){return!!e.match(/https?:\/\/[a-zA-Z0-9-]+\.(atlassian\.net|jira\.com)/)}var gA=((v=gA||{}).OPEN="open",v.PREVIEW="preview",v);function gO(e){let t=function(e){let t=(0,tf.IX)(),n=(0,tf.So)(),a=(0,Y.w1)(e=>e.mirror.appModel.useLocalRelatedLinkPlugin),r=W.useMemo(()=>0===gN.size?null:Object.values(t).find(t=>!!gS(e,t)),[e,t]),l=W.useMemo(()=>0===gN.size?null:Object.values(n).map(e=>(0,iA.Y9)(e)).find(t=>!!gS(e,t)),[e,n]),i=W.useMemo(()=>Array.from(gN),[]),o=(0,tf.g7)(i,{enabled:!l}),s=W.useMemo(()=>o.find(t=>!!gS(e,t))??null,[e,o]);return a&&r?r:l||s||null}(e),n=(0,tf.WC)();return t&&n(t)?t:null}function gM(e){var t,n;let a=gO(e),r=(0,eo.m4)(gb);if(!a||!(null==(t=a.manifest.capabilities)?void 0:t.includes("linkpreview")))return null;if(null==(n=r[a.plugin_id])?void 0:n.links.some(t=>t.linkUrl===e))return;let l=async({link:e})=>{await gk.instance.generateLinkPreview({plugin:a,link:e})};return{plugin:a,genPreview:l}}var gP=n(306892),gL=n(478216);function gD({isEditable:e,link:t,onOpenDeleteModal:n,onOpenEditModal:a}){let r=(0,Y.OY)(),l=!(0,gP.a)(t.linkUrl),i=(0,sC.ct)(),o=(0,dz.oD)()??"",s=i.get(o),c=t.isInherited||t.isVariant,d=(0,rH.qM)(),m=dq(!t.isVariant),u=W.useCallback(()=>{r(os.ye({stringToCopy:t.linkUrl})),d("Dev Handoff Related Links Copy Hyperlink",{nodeId:o,nodeType:null==s?void 0:s.type,source:"web"})},[r,o,t.linkUrl,null==s?void 0:s.type,d]),p=l?t.linkUrl:new URL(t.linkUrl).host;p.startsWith("www.")&&(p=p.slice(4));let{Dropdown:_,toggleDropdown:E,dropdownTargetRef:g,isDropdownShown:h}=(0,cu.s)(t.id),f=function(e){let t=gO(e),n=(0,t$.K0)(),a=(0,eS.oJ)(),r=(0,ei.my)(rN.g);if(!t||!n||!(0,iA.yM)(t.manifest.capabilities))return null;let l=async({link:e})=>{var l;await cB.instance.maybeTerminatePlugin(a),await (0,gw.E1)();let i=(0,gT.K)(),o=(null==(l=t.manifest.editorType)?void 0:l.includes(iO.gr.DEV))?"open-dev-resource":"open-related-link",s={mode:"run-forever",runPluginArgs:{plugin:t,command:o,queryMode:!1,openFileKey:n,isWidget:!1,runMode:"default",triggeredFrom:"related-link-click"}},c={url:e.linkUrl,name:e.linkName,isInherited:e.isInherited,nodeId:e.nodeId},d=cR.m.instance.isCurrentlyRunning(s);return(r(rN.u.PLUGIN),d&&(0,cD.ae)())?cR.m.instance.enqueue({...s,onStart:async()=>await (0,cD.q0)({devResource:c})}):cR.m.instance.enqueue({...s,reuseExistingRunState:!1,onStart:async()=>((0,cD.cX)(5e3,{devResource:c}),(await i).triggerRunEvent({command:o,link:c}))})};return{plugin:t,callback:l}}(t.linkUrl),v=c?ej.c:gL.c,y=W.createElement("div",{ref:g},W.createElement(s$.wP,{onClick:E,onMouseDown:e=>e.stopPropagation(),"data-tooltip-type":n1.wL.TEXT,"data-tooltip":c?(0,ex.t)("dev_handoff.developer_related_links.main_component_tooltip"):(0,ex.t)("dev_handoff.developer_related_links.additional_options"),svg:v,className:c?"developer_related_link_row--iconButtonInherited--l69ho":void 0})),C=[{displayText:(0,ex.t)("dev_handoff.developer_related_links.copy_link"),callback:()=>u()}];f&&C.unshift({displayText:(0,ex.t)("dev_handoff.developer_related_links.open_in_new_tab"),callback:()=>{I()}}),c&&m&&C.unshift({displayText:(0,ex.t)("dev_handoff.developer_related_links.go_to_main_component"),callback:()=>{m()}}),t.isNested&&C.push({displayText:(0,ex.t)("dev_handoff.developer_related_links.select_layer"),callback:()=>{eM.aWh.selectAndFocusOnNode(t.nodeId,!0)}}),e&&C.push({displayText:(0,ex.t)("dev_handoff.developer_related_links.edit_link"),callback:()=>a(t)},{displayText:"",separator:!0},{displayText:(0,ex.t)("dev_handoff.developer_related_links.delete_link"),callback:()=>n(t.id,t.linkUrl)});let[w,b]=W.useState(!1),[T,x]=W.useState(!1),k=t.linkPreview,N=k&&"PLAIN_TEXT"===k.type&&k.text,S=N&&!t.isUserOverride&&f,I=()=>{(0,gv.u)(t.linkUrl)||r((0,pA.gd)({rawInput:t.linkUrl})),d("Dev Handoff Related Links Open Hyperlink",{nodeId:o,nodeType:null==s?void 0:s.type,source:"web"})},A=W.createElement(gR,{name:t.linkName,url:f?f.plugin.name:p,isHovering:w}),O=S&&f?W.createElement(gR,{name:N,url:f.plugin.name,isHovering:w}):null,M=(0,lI.Mx)("developerRelatedLinkRow",t.id);return W.createElement("div",{className:"developer_related_link_row--link--fvcCC"},W.createElement(rA.iH,{className:q()("developer_related_link_row--linkInfo--214Y7"),onClick:()=>{let e={action:gA.OPEN,link:t};if(f&&(0,gC.cF)(f.plugin.plugin_id,lQ.kr.getIsExtension())){t.isNested&&eM.aWh.selectAndFocusOnNode(t.nodeId,!0),f.callback(e),d("Dev Handoff Related Links Run Plugin From Hyperlink",{nodeId:o,nodeType:null==s?void 0:s.type,source:"web",pluginId:f.plugin.plugin_id}),r(tm.s({[lA.S_]:!0}));return}lQ.kr.getIsExtension()?(0,cM.o5)(t.linkUrl):(r((0,pA.gd)({rawInput:t.linkUrl})),d("Dev Handoff Related Links Open Hyperlink",{nodeId:o,nodeType:null==s?void 0:s.type,source:"web"}))},onMouseEnter:()=>b(!0),onMouseLeave:()=>b(!1),recordingKey:(0,lI.Mx)(M,"button")},W.createElement("div",{className:"developer_related_link_row--favicon--ZrNbB"},W.createElement(gy.S,{url:t.linkUrl})),O??A),W.createElement("div",{className:q()("developer_related_link_row--additionalButtons--tKT0M",w||T||c||h?ap.cx.opacity1.$:ap.cx.opacity0.$),onMouseEnter:()=>x(!0),onMouseLeave:()=>x(!1)},y,h&&W.createElement("div",{onMouseEnter:()=>x(!1)},W.createElement(_,{items:C,showPoint:!1}))))}function gR({name:e,url:t,isHovering:n}){return W.createElement(aE.g,{direction:"horizontal",spacing:4,padding:{right:32}},W.createElement("p",{className:"developer_related_link_row--linkName--p0e0K ellipsis--ellipsis--Tjyfa",style:n?a_.sx.add({maxWidth:"50%"}).$:void 0},e),n&&W.createElement(W.Fragment,null,W.createElement("p",{className:"developer_related_link_row--linkDivider--20WA5"},"\xb7"),W.createElement("p",{className:"developer_related_link_row--linkURL--eaX2b ellipsis--ellipsis--Tjyfa blue_link--blueLink--9rlnd"},t)))}var gF=n(232284),gB=n(61836),gU=n(418084),gK=n(557044);let gG=new class{createSnippet(e,t,n){var a;let r=gK.cp.post("/api/figmadocs/snippet",{node_id:e,file_key:t,snippet:n});null==(a=(0,gB.w3)())||a.optimisticallyCreate({Figmadoc:{[`optimistic-snippet-${(0,gU.c)()}`]:{figmadoc:JSON.stringify(n),instanceFigmadocs:null,fileKey:t,nodeId:e,createdAt:new Date,updatedAt:new Date,label:"",type:"snippet"}}},r)}updateSnippet(e,t,n,a){var r;let l=gK.cp.put("/api/figmadocs/snippet",{node_id:t,file_key:n,snippet:a});null==(r=(0,gB.w3)())||r.optimisticallyUpdate({Figmadoc:{[e]:{figmadoc:JSON.stringify(a),fileKey:n,nodeId:t}}},l)}};var gH=n(259596),gV=n.n(gH);class gW{constructor(e){let{selectionStart:t,selectionEnd:n}=e;this.elm=e,this.start=t,this.end=n,this.value=this.elm.value}position(e,t){let{selectionStart:n,selectionEnd:a}=this.elm;return this.start="number"!=typeof e||isNaN(e)?n:e,this.end="number"!=typeof t||isNaN(t)?a:t,this.elm.selectionStart=this.start,this.elm.selectionEnd=this.end,this}insertText(e){return this.elm.focus(),this.elm.setRangeText(e),this.value=this.elm.value,this.position(),this}getSelectedValue(e,t){let{selectionStart:n,selectionEnd:a}=this.elm;return this.value.slice("number"!=typeof e||isNaN(e)?n:e,"number"!=typeof t||isNaN(t)?a:e)}getLineStartNumber(){let e=this.start;for(;e>0;)if(e--,"\n"===this.value.charAt(e)){e++;break}return e}getIndentText(){let e=this.getLineStartNumber(),t=this.getSelectedValue(e),n="";return t.replace(/(^(\s)+)/,(e,t)=>n=t),n}lineStarInstert(e){if(e){let t=this.start,n=this.getLineStartNumber(),a=this.getSelectedValue(n);this.position(n,this.end).insertText(a.split("\n").map(t=>e+t).join("\n")).position(t+e.length,this.end)}return this}lineStarRemove(e){if(e){let t=this.start,n=this.getLineStartNumber(),a=this.getSelectedValue(n),r=RegExp(`^${e}`,"g"),l=t-e.length;r.test(a)||(l=t),this.position(n,this.end).insertText(a.split("\n").map(e=>e.replace(r,"")).join("\n")).position(l,this.end)}}notifyChange(){let e=new Event("input",{bubbles:!0,cancelable:!1});this.elm.dispatchEvent(e)}}function gY(e){e.stopPropagation(),e.preventDefault()}let gj={position:"relative",textAlign:"left",boxSizing:"border-box",padding:0,overflow:"hidden"},gX={position:"absolute",top:0,left:0,height:"100%",width:"100%",resize:"none",color:"inherit",opacity:.8,overflow:"hidden",MozOsxFontSmoothing:"grayscale",WebkitFontSmoothing:"antialiased",WebkitTextFillColor:"transparent"},gz={margin:0,border:0,background:"none",boxSizing:"inherit",display:"inherit",fontFamily:"inherit",fontSize:"inherit",fontStyle:"inherit",fontVariantLigatures:"inherit",fontWeight:"inherit",letterSpacing:"inherit",lineHeight:"inherit",tabSize:"inherit",textIndent:"inherit",textRendering:"inherit",textTransform:"inherit",whiteSpace:"pre-wrap",wordBreak:"keep-all",overflowWrap:"break-word",outline:0},gq=W.forwardRef((e,t)=>{let{prefixCls:n="w-tc-editor",value:a,padding:r=10,minHeight:l=16,placeholder:i,language:o,className:s,style:c,onChange:d,...m}=e,[u,p]=(0,W.useState)(e.value||"");(0,W.useEffect)(()=>p(e.value||""),[e.value]);let _=(0,W.useRef)(null);(0,W.useImperativeHandle)(t,()=>_.current);let E={paddingTop:r,paddingRight:r,paddingBottom:r,paddingLeft:r},g=(0,W.useMemo)(()=>`<pre aria-hidden=true><code>${gV().sanitize((0,s2.w)(o,String(u||"")))}</code><br /></pre>`,[u,o]),h=(0,W.useMemo)(()=>W.createElement("div",{style:{...gz,...E,minHeight:l},className:q()(s8.k,`${n}-preview`,{[`language-${o}`]:!!o}),dangerouslySetInnerHTML:{__html:g}}),[n,o,g]);return W.createElement("div",{style:{...gj,...c},className:q()("code_panels_shared--code--VPQ05",n,s)},W.createElement("textarea",{autoComplete:"off",autoCorrect:"off",spellCheck:!1,autoCapitalize:"off",...m,placeholder:i,onKeyDown:e=>{m.onKeyDown&&!1===m.onKeyDown(e)||function(e){let t=new gW(e.target),n=e.nativeEvent.code.toLocaleLowerCase();if("tab"===n)gY(e),t.start===t.end?t.insertText("  ").position(t.start+2,t.end+2):t.getSelectedValue().indexOf("\n")>-1&&e.shiftKey?t.lineStarRemove("  "):t.getSelectedValue().indexOf("\n")>-1?t.lineStarInstert("  "):t.insertText("  ").position(t.start+2,t.end),t.notifyChange();else if("enter"===n){gY(e);let n=`
${t.getIndentText()}`;t.insertText(n).position(t.start+n.length,t.start+n.length),t.notifyChange()}else if("escape"===n)t.elm.blur();else if(n&&/^(quote|backquote|bracketleft|digit9|comma)$/.test(n)&&t.getSelectedValue()){gY(e);let a=t.getSelectedValue(),r="";switch(n){case"quote":r=`'${a}'`,e.shiftKey&&(r=`"${a}"`);break;case"backquote":r=`\`${a}\``;break;case"bracketleft":r=`[${a}]`,e.shiftKey&&(r=`{${a}}`);break;case"digit9":r=`(${a})`;break;case"comma":r=`<${a}>`}t.insertText(r),t.notifyChange()}}(e)},style:{...gz,...gX,...E,minHeight:l,...i&&!u?{WebkitTextFillColor:"inherit"}:{}},ref:_,onChange:e=>{p(e.target.value),d&&d(e)},className:`${n}-text`,value:u}),h)});var gZ=n(812970);function gQ({doc:e,docId:t}){let n=(0,Y.OY)(),[a,r]=W.useState(e?e.snippet:"// Write your snippet here"),l=(0,t$.K0)(),i=(0,eA.wB)(),o=W.useCallback(()=>{if(!i||!l)return;let e={type:"snippet",snippet:a};t?gG.updateSnippet(t,i,l,e):gG.createSnippet(i,l,e),n(ts.oN())},[a,l,i,t,n]);return W.createElement(nO.wJ,{className:gZ.kl,tintedModalBackground:!0,dispatch:n},W.createElement("div",{className:gZ.e},W.createElement(ex.Tx,{id:"dev_handoff.figmadocs.edit_sample_code"})),W.createElement("div",{className:gZ.YX},W.createElement("div",{className:q()(s9,s7)},W.createElement(gq,{value:a,language:"jsx",onChange:e=>{r(e.target.value)},padding:1})," ")),W.createElement("div",{className:gZ.hy},W.createElement(m2.wX,{className:gZ.x8,onClick:aC.Kw},W.createElement(ex.Tx,{id:"general.cancel"})),W.createElement(m2.gV,{className:gZ.I8,onClick:o},W.createElement(ex.Tx,{id:"general.save"}))))}let gJ=(0,lo.U9)(function(){return W.createElement(gQ,null)},"AddManualSnippetModal"),g$=(0,lo.U9)(function({doc:e,docId:t}){return W.createElement(gQ,{doc:e,docId:t})},"EditManualSnippetModal"),g0="figmadocs--figmadocWrapper--4SMJB";function g1(){return W.createElement(au.kt,{color:au.Eo.DEFAULT,text:(0,ex.t)("dev_handoff.figmadocs.connected"),icon:W.createElement(gF.W,null),className:"figmadocs--connectedBadge--5NAUO",dataTooltipType:n1.wL.TEXT,dataTooltip:(0,ex.t)("dev_handoff.figmadocs.connected_code_snippet"),dataTooltipShowAbove:!0,dataTooltipMaxWidth:160,dataTooltipTimeout:50})}function g2(e){try{let{url:t}=e,n=new URL(t).pathname.split("/"),a=n.indexOf("blob");-1===a&&(a=n.indexOf("tree"));let r=n.slice(a+2).join("/"),l=r.length>0?r:n[n.length-1];return W.createElement("span",{className:"figmadocs--linkFilePath--DBTZW"},l)}catch(e){return null}}function g5(){let e=(0,Y.OY)(),t=W.useCallback(()=>{e(ts.A5({type:gJ}))},[e]);return W.createElement("div",{className:"figmadocs--connectToCodeCard--Kde90 common--well--J0WtH"},W.createElement("div",null,(0,ex.t)("dev_handoff.figmadoc.connect_to_code")),W.createElement("div",null,(0,ex.t)("dev_handoff.figmadoc.connect_to_code.body")),W.createElement("div",{className:"figmadocs--connectToCodeCardButtonWrapper--Z2ict"},W.createElement(m2.wX,null,(0,ex.t)("dev_handoff.figmadoc.connect_to_code")),W.createElement(m2.wX,{onClick:t},(0,ex.t)("dev_handoff.figmadoc.add_manual_snippet"))))}function g3({doc:e,docId:t}){let n={language:"jsx",name:"Usage example",lines:cU(`${e.snippet}`)},a=(0,Y.OY)(),r=W.useCallback(()=>{a(ts.A5({type:g$,data:{docId:t,doc:e}}))},[a,e,t]);return W.createElement(sJ.e_,{title:(0,ex.t)("inspect_panel.code.code"),recordingKey:"figmadoc",additionalHeaders:W.createElement("button",{onClick:r},"EDIT")},W.createElement("div",{className:g0},W.createElement(ci,{code:[n],section:n,key:n.name,copyAllActionEnabled:!1})))}function g4({doc:e}){let t=function(e){let t=(0,eA.QH)(),n=(0,W.useMemo)(()=>{if(t)return EM(t)},[t]);return function(e){let[t,n]=(0,W.useState)();return(0,W.useEffect)(()=>{var t,a;if(!(0,$.Ub)().dt_code_connect_js_iframe||!e){n(void 0);return}let r=document.createElement("iframe");function l(t){var a;if(t.origin!==window.location.origin){console.error(`Received message from unexpected origin ${t.origin}`);return}t.source===r.contentWindow&&("IFRAME_READY"===t.data.type?null==(a=r.contentWindow)||a.postMessage({type:"EVAL",data:e},"*"):"EVAL_RESPONSE"===t.data.type&&(n(t.data.data),document.body.removeChild(r),window.removeEventListener("message",l)))}return r.setAttribute("style","display: none"),r.setAttribute("sandbox","allow-scripts"),r.srcdoc=(t=(0,$.cp)().csp_nonce,a=window.location.origin,`<!DOCTYPE html>
<html>
  <head>
    <!-- CSP that prevents any HTTP requests or form actions -->
    <meta http-equiv="Content-Security-Policy" content="default-src 'none'; form-action 'none'; script-src 'unsafe-inline' 'unsafe-eval';">
    <script nonce="${t}">
      // Function to send a message to the parent window
      sendPostMessage = function(message) {
        parent.postMessage(message, '${a}');
      }

      window.addEventListener('message', function(event) {
        // Ignore the message if it's not from the expected origin
        if (event.origin !== '${a}') {
            console.error(\`ERROR: Received message from unexpected origin \${event.origin}\`);
            return;
        }

        if (event.data.type !== 'EVAL') {
          console.error(\`ERROR: Received message with unexpected type \${event.data.type}\`);
          return;
        }

        const result = new Function(event.data.data)();

        // Send a message back to the parent window
        sendPostMessage({ type: 'EVAL_RESPONSE', data: result });
      }, false);

      // Let the parent know that the iframe is ready to receive messages
      sendPostMessage({ type: 'IFRAME_READY' });
    </script>
  </head>
</html>`),document.body.appendChild(r),window.addEventListener("message",l,!1),()=>{try{document.body.removeChild(r),window.removeEventListener("message",l)}catch(e){}}},[e]),t}((0,W.useMemo)(()=>{if(n&&e)return`try {
  ${function(e){let t=JSON.stringify(e),n=(function(){}).toString();return n.slice(n.indexOf("{")+1,n.lastIndexOf("}")).replace("const __FIGMA_CODE_CONNECT_PROPS = {}",`const __FIGMA_CODE_CONNECT_PROPS = ${t}`)}(n)}

  const require = __FIGMA_CODE_CONNECT_REQUIRE

  const data = function() {
    ${e.replace("export default","return")}
  }();

  return {
    result: 'SUCCESS',
    data
  }
} catch (e) {
  return {
    result: 'ERROR',
    data: {
      message: e.message,
      error: e.errorObject,
    },
  }
}`},[e,n]))}((0,$.Ub)().dt_code_connect_js_templates?e.template:void 0);if((0,$.Ub)().dt_code_connect_js_templates){if((null==t?void 0:t.result)==="SUCCESS")return W.createElement("div",null,t.data.sections.map(e=>W.createElement("div",null,"CODE"===e.type?`${e.code}`:`INSTANCE: ${e.id}`)));{let e=null==t?void 0:t.data.error,n=(0,ex.t)("dev_handoff.figmadocs.error_unknown");return(null==e?void 0:e.type)==="PROPERTY_NOT_FOUND"&&(0,ex.t)("dev_handoff.figmadocs.error_property_not_found",{propertyName:e.propertyName}),(null==e?void 0:e.type)==="PROPERTY_TYPE_MISMATCH"&&(0,ex.t)("dev_handoff.figmadocs.error_property_type_mismatch",{propertyName:e.propertyName,propertyType:e.expectedType??"unknown"}),W.createElement("div",{className:"figmadocs--errorBannerWrapper--eemEO utilities--bodySmall--JyKR1"},W.createElement(sF.E,{color:sF.q.ERROR,text:n}))}}return W.createElement(g6,{doc:e})}function g6({doc:e}){let{sampleSections:t,source:n}=W.useMemo(()=>{var t;return e?{sampleSections:[{language:ET[e.language||"default"]||"jsx",name:"Usage example",lines:cU([...(null==(t=e.templateData)?void 0:t.imports)??[]].join("\n")+"\n\n"+e.template)}],source:e.source?`${e.source}#L${e.sourceLocation.line}`:void 0}:{}},[e]);return t?W.createElement(sJ.e_,{hideHeader:!0,noBorder:!0,recordingKey:"figmadoc",padding:sJ.CK.NONE},W.createElement("div",{className:g0},t.map(e=>W.createElement(ci,{code:[e],section:e,key:e.name,copyAllActionEnabled:!1,footerActions:W.createElement(W.Fragment,null,n?W.createElement("a",{href:n,target:"_blank",className:"figmadocs--fileLink--gVeAA utilities--bodySmall--JyKR1"},W.createElement(gy.S,{url:n}),W.createElement(g2,{url:n})):null,W.createElement(aE.O,null),W.createElement(g1,null)),type:"connected"})))):null}function g8(){let e=(0,sC.ct)(),{id:t,doc:n}=EL((0,Y.w1)(E6.qg)[0],e);if((0,$.Ub)().dt_figmadoc_manual_snippets){if(!n)return W.createElement(g5,null);if("type"in n&&"snippet"===n.type&&null!==t)return W.createElement(g3,{doc:n,docId:t})}else if(!n||"type"in n&&"snippet"===n.type)return null;return W.createElement(g4,{doc:n})}let g9="component_documentation_panel--propsList--qfFNq text--fontPos11--2LvXf text--_fontBase--QdLsd",g7="component_documentation_panel--heading--x-ri2",he="component_documentation_panel--spacer--JOA9K";function ht(){(0,dW.IN)();let e=(0,dz.O2)(),[t,n]=(0,sf.PU)(),a=(0,gg.uO)(t,n),r=(null==e?void 0:e.isState)?null==e?void 0:e.parentNode:null,{backingSymbolDescription:l,parentDescription:i}=(0,sf.mQ)(null==e?void 0:e.description,null==r?void 0:r.description),o=l&&i?i+"\n\n"+l:l||i;return W.useMemo(()=>({links:a,description:o}),[a,o])}function hn({propDef:e}){let{type:t,name:n}=e,a=e.kind===gu.c.TYPED?e.defaultValue:void 0,r=(0,eA.cN)(a),l=(0,eA.cN)(null==r?void 0:r.parentGuid);if(function(e){if(e.type===eM.iUn.BOOL)return!0;if(e.type!==eM.iUn.VARIANT)return!1;let t=e.values.map(e=>e.toLowerCase());if(2===t.length)for(let e of gh.gF){let n=t.indexOf(e[0]),a=t.indexOf(e[1]);if(-1!==n&&-1!==a)return!0}return!1}(e))return void 0===a?W.createElement(sJ.GA,{name:n,value:(0,ex.t)("dev_handoff.docs.prop_boolean")}):W.createElement(sJ.GA,{name:n,value:"true"===a?(0,ex.t)("dev_handoff.docs.prop_boolean_default_true"):(0,ex.t)("dev_handoff.docs.prop_boolean_default_false")});switch(t){case eM.iUn.VARIANT:return W.createElement(sJ.GA,{key:e.name,name:e.name,value:(0,ex.t)("dev_handoff.docs.prop_variant",{values:e.values.join(", ")})});case eM.iUn.TEXT:return W.createElement(sJ.GA,{name:n,value:(0,ex.t)("dev_handoff.docs.prop_string",{defaultValue:a})});case eM.iUn.INSTANCE_SWAP:let i=(null==r?void 0:r.isState)?null==l?void 0:l.name:null==r?void 0:r.name,o=i?` (${i})`:"";return W.createElement(sJ.GA,{name:n,value:`${(0,ex.t)("dev_handoff.docs.prop_instance")}${o}`})}return null}function ha({component:e}){let t=(0,Y.w1)(E6.qg),n=(0,sf.k3)(),a=(0,Y.w1)(g_.Et),r=W.useMemo(gE.eq,[]),l=(0,Y.w1)(e=>r(e,t)),i=(0,sC.ct)(),{detachedCompPropsDefs:o,detachedVariantProps:s}=(0,sf.AZ)(n,i),c=e.isState||"loaded"===n.status&&n.result.isVariant,d=[...a,...o],m=[...l,...s],u=((0,Y.w1)(gp.We)||[]).filter(e=>e.isBubbled),p=Object.entries((0,eJ.gp)()).filter(([e,t])=>t.modeOptions.length>1);if(!(d.length>0||p.length>0||u.length>0))return null;let _=c?d.filter(e=>e.kind!==gu.c.VARIANT):d;return W.createElement("div",{className:g9},W.createElement("div",{className:g7},W.createElement("strong",null,W.createElement(ex.Tx,{id:"dev_handoff.docs.props"}))),c&&m.map(([e,t])=>W.createElement(sJ.GA,{key:e,name:e,value:t})),_.map(e=>W.createElement(hn,{key:e.name,propDef:e})),!lQ.kr.getIsExtension()&&W.createElement(hr,null))}function hr(){let e=(0,Y.OY)(),t=(0,dz.u2)(),n=W.useCallback(()=>{e(ts.A5({type:gd,data:{guid:null==t?void 0:t.guid}})),(0,Z.we)("Playground opened")},[e,null==t?void 0:t.guid]);return W.createElement("div",{className:"component_documentation_panel--propsPlaygroundButtonContainer--q7Usj"},W.createElement(ag.q,{width:"fill-parent",onClick:n,recordingKey:"openInPlayground",dataTestId:"openInPlaygroundButton"},W.createElement(ex.Tx,{id:"dev_handoff.playground.open_in_playground"})))}function hl(e){let t=e.variables&&e.variables.value[e.name],n=t&&t.type===eM.Tcd.ALIAS?t.value:void 0,a=(0,gm.c1)(n);return W.createElement(sJ.GA,{name:e.name,value:e.value,variable:null==a?void 0:a.name})}function hi(){let e=(0,Y.w1)(E6.qg),t=W.useMemo(g_.yE,[]),{consumedVariable:n}=(0,eJ.DT)(["VARIANT_PROPERTIES"]),a=function(e){if(!e||(0,nQ.Er)(e)||e.type!==eM.Tcd.EXPRESSION||e.value.expressionFunction!==eM.O0M.RESOLVE_VARIANT)return null;let t=e.value.expressionArguments[0];return t.type!==eM.Tcd.MAP?null:t}(n),r=(0,Y.w1)(n=>t(n,e)),l=Object.entries((0,eJ.gp)()).filter(([e,t])=>t.modeOptions.length>1);return r.length>0||l.length>0?W.createElement("div",{className:g9},W.createElement("div",{className:g7},W.createElement(ex.Tx,{id:"dev_handoff.docs.props"})),r.map(([e,t])=>W.createElement(hl,{key:e,name:e,value:t,variables:a})),!lQ.kr.getIsExtension()&&W.createElement(hr,null)):null}function ho(){let{links:e=[]}=ht();return 0===e.length?null:W.createElement("div",{className:"component_documentation_panel--documentationLinks--UtNIi text--fontPos11--2LvXf text--_fontBase--QdLsd"},W.createElement("div",{className:g7},W.createElement("strong",null,W.createElement(ex.Tx,{id:"dev_handoff.docs.links_title"}))),W.createElement("div",null,e.map(e=>{let t=(0,E2.aM)(e.uri),n=t?(0,E5.k0)(t):(0,ex.t)("dev_handoff.docs.links_default"),a={id:e.uri,nodeId:"",fileKey:"",linkName:n,linkUrl:e.uri,linkPreviewJson:"",isUserOverride:!1,isInherited:!1,linkPreview:null};return W.createElement(gD,{key:e.uri,link:a,isEditable:!1,onOpenDeleteModal:aC.Kw,onOpenEditModal:aC.Kw})})))}function hs(){let e=(0,dz.u2)(),{description:t}=ht();return e?W.createElement(W.Fragment,null,W.createElement("div",{className:he}),!(0,$.Ub)().dt_figmadoc&&W.createElement(gf,{description:t,emptyStateText:(0,ex.t)("inspect_panel.components.no_component_description")}),e?"INSTANCE"===e.type?W.createElement(hi,null):W.createElement(ha,{component:e}):null,(0,$.Ub)().dt_figmadoc&&W.createElement(W.Fragment,null,W.createElement(g8,null),W.createElement("div",{className:he}),W.createElement(gf,{description:t})),W.createElement(ho,null)):null}let hc="component_preview_panel--componentPreviewContainer--aKLR0 common--well--J0WtH",hd="component_preview_panel--componentPreviewImage--AZj5d",hm=(0,nF.qe)(rM.ys6);function hu(){let e=(0,_2.Yl)(),t=(0,dz.So)(),n=e-64,a=function(e,t=hm){let n=(0,sf.k3)(),a=(0,dz.O2)(),r="loaded"===n.status&&n.result.dataComponentId?n.result.dataComponentId:null==a?void 0:a.guid,l=(0,E3.Id)(r),i="loaded"===n.status&&"temp-scene"===n.result.dataLocation,o=4*e,s=4*t;return W.useMemo(()=>{if(!r)return;let e=eM.i46.getDefaultStateForLocalStateGroup(r)||r;if(!(0,sN.U3)((0,sN.K0)(e)))return;let[t,n]=eM.ui7.generateThumbnailForNode(e,o,s,4,{forceContentsOnly:!0,inDetachedComponentsScene:i});if(!n||0===n.length||!t)return;let{width:a,height:c}=t;return{url:URL.createObjectURL(new Blob([n])),backgroundStyle:l,renderWidth:a/4,renderHeight:c/4}},[l,i,r,s,o])}(n);if(!t)return null;let r=(null==a?void 0:a.renderWidth)??n,l=(null==a?void 0:a.renderHeight)??hm;return W.createElement(rA.g9,{className:hc,style:null==a?void 0:a.backgroundStyle,role:"button",tabIndex:0},(null==a?void 0:a.url)&&W.createElement(rO.O,{className:hd,src:a.url,style:{maxWidth:r,maxHeight:l}}))}var hp=n(187440);function h_(){let e=(0,dz.O2)(),t=(0,sf.k3)(),n=(0,Y.w1)(t$.AX),a=(0,eA.wB)(),r=(0,rH.qM)(),l="loaded"===t.status?t.result:void 0,i=(0,iH.YH)(e),o=l&&l.isExternal?l.fileKey:i&&i!==n?i:n,s=o!==n,c=l?l.nodeId:s?null==e?void 0:e.publishID:null==e?void 0:e.guid,d=dq(!1,()=>{r("Dev Mode Navigated To Main Component",{selectedNodeId:a,external:s,detached:!!l})});if(!c||!d||!o)return null;let m=!1;return s?t&&(m="loading"===t.status||"errors"===t.status):m=eM.GqY.nodeIsSoftDeleted(c),W.createElement(av.wP,{svg:s?hp.c:ej.c,"data-tooltip-type":n1.wL.TEXT,"data-tooltip":(0,ex.t)("dev_handoff.instance_navigation.go_to_main_component"),onClick:d,disabled:m,recordingKey:"devHandoffNavigateInstanceButton"})}function hE(){let e=(0,eA.QH)(),t=(0,sf.k3)();if(!(null==e?void 0:e.isLooseComponent)&&!(null==e?void 0:e.isState)&&!(null==e?void 0:e.isStateGroup)&&(null==e?void 0:e.type)!=="INSTANCE"&&"disabled"===t.status)return null;let n=t&&"disabled"!==t.status?(0,ex.t)("dev_handoff.inspect_panel.main_component"):(0,ex.t)("dev_handoff.inspect_panel.component");return W.createElement(sJ.e_,{title:n,recordingKey:"componentPanel",additionalHeaders:W.createElement(h_,null)},W.createElement(hu,null),W.createElement(hs,null))}function hg(){let{openFile:e,sceneGraphSelection:t,currentPage:n,singleNodeName:a,currentSelectedProperty:r,saveAsState:l,dropdownShown:i,pickerShown:o,exportSettings:s}=(0,el.q)(e=>({openFile:e.openFile,sceneGraphSelection:e.mirror.sceneGraphSelection,currentSelectedProperty:e.mirror.appModel.currentSelectedProperty,currentPage:e.mirror.appModel.currentPage,singleNodeName:EY.GK.singleNodeNameFrom(e.mirror.selectionProperties),saveAsState:e.saveAsState,dropdownShown:e.dropdownShown,pickerShown:e.pickerShown,exportSettings:e.mirror.selectionProperties.exportSettings})),c=(0,eP.s8)(),d=(0,Y.OY)();return W.createElement(sJ.e_,{hideHeader:!0,padding:sJ.CK.NONE,recordingKey:"export",noBorder:!0},W.createElement(EY.GK,{exportSettings:s,openFile:e,sceneGraphSelection:t,currentPage:n,singleNodeName:a,currentSelectedProperty:r,saveAsState:l,panelWidth:c,dispatch:d,dropdownShown:i,pickerShown:o,numSelected:Object.keys(t).length}))}function hh(){let e=(0,eA.QH)();return null==e?void 0:e.isModule}var hf=n(703536),hv=n.n(hf),hy=n(656629);let hC="box_model--imageBox--XoIJh box_model--_border--PCElt box_model--_layoutFlex--pL0jp text--fontPos11--2LvXf text--_fontBase--QdLsd",hw="box_model--variableValueContainer--oxu-X box_model--_valueContainerBase--pMK2K",hb="box_model--valueNonValid--H7q6F",hT="box_model--value--1jh75 ellipsis--ellipsis--Tjyfa",hx="box_model--innerSizeBoxValue--l-qDX ellipsis--ellipsis--Tjyfa",hk="box_model--variable--GK5G3",hN="box_model--innerSizeBoxVariable--Lw6dO";function hS({fillContainer:e=!1}){let{distance:t,border:n,radius:a,padding:r,width:l,height:i}=(0,hy.oh)(),o=(0,EK.KK)();return W.createElement(sJ.e_,{hideHeader:!0,padding:sJ.CK.NONE,noBorder:!0,recordingKey:"boxModel"},W.createElement(hI,{topDistance:t.top,bottomDistance:t.bottom,fillContainer:e},W.createElement(hG,null),W.createElement(hF,{position:"vertical",value:t.top,dataTestIndex:0}),W.createElement(hG,null),W.createElement(hF,{position:"horizontal",value:t.left,dataTestIndex:0}),W.createElement(hA,{radius:a},W.createElement(hU,{value:a.topLeft,vertical:"top",horizontal:"left",variableConsumptionField:"RECTANGLE_TOP_LEFT_CORNER_RADIUS"}),W.createElement(hD,null,W.createElement(hR,null,W.createElement(ex.Tx,{id:"dev_handoff.box_model.border"})),W.createElement(hK,{value:n.top,dataTestId:"layoutBorderTop"})),W.createElement(hU,{value:a.topRight,vertical:"top",horizontal:"right",variableConsumptionField:"RECTANGLE_TOP_RIGHT_CORNER_RADIUS"}),W.createElement(hK,{value:n.left,isVertical:!0,dataTestId:"layoutBorderLeft"}),(0,EK.Go)(o)?W.createElement(hO,{width:l,height:i,assetType:o}):W.createElement(hP,null,W.createElement(hG,null),W.createElement("div",{className:"box_model--paddingTopMiddle--GiNbR"},W.createElement("div",{className:"box_model--paddingLabel--MsGiF"},W.createElement(hR,null,W.createElement(ex.Tx,{id:"dev_handoff.box_model.padding"}))),W.createElement(hK,{value:r.top,dataTestId:"layoutPaddingTop",variableConsumptionField:"STACK_PADDING_TOP"})),W.createElement(hG,null),W.createElement(hK,{value:r.left,isVertical:!0,dataTestId:"layoutPaddingLeft",variableConsumptionField:"STACK_PADDING_LEFT"}),W.createElement(hL,{width:l,height:i}),W.createElement(hK,{value:r.right,isVertical:!0,dataTestId:"layoutPaddingRight",variableConsumptionField:"STACK_PADDING_RIGHT"}),W.createElement(hG,null),W.createElement(hK,{value:r.bottom,dataTestId:"layoutPaddingBottom",variableConsumptionField:"STACK_PADDING_BOTTOM"}),W.createElement(hG,null)),W.createElement(hK,{value:n.right,dataTestId:"layoutBorderRight",isVertical:!0}),W.createElement(hU,{value:a.bottomLeft,vertical:"bottom",horizontal:"left",variableConsumptionField:"RECTANGLE_BOTTOM_LEFT_CORNER_RADIUS"}),W.createElement(hK,{value:n.bottom,dataTestId:"layoutBorderBottom"}),W.createElement(hU,{value:a.bottomRight,vertical:"bottom",horizontal:"right",variableConsumptionField:"RECTANGLE_BOTTOM_RIGHT_CORNER_RADIUS"})),W.createElement(hF,{position:"horizontal",value:t.right,dataTestIndex:1}),W.createElement(hG,null),W.createElement(hF,{position:"vertical",value:t.bottom,dataTestIndex:1}),W.createElement(hG,null),W.createElement(hH,null)))}function hI({topDistance:e,bottomDistance:t,children:n,fillContainer:a}){let r=(!e||!e.distance)&&(!t||!t.distance);return W.createElement("div",{className:q()("box_model--gapBox--6aFgq common--well--J0WtH",r&&"box_model--gapBoxNoVertical--WqZQf",a&&"box_model--fillContainer--TZUSv")},n)}function hA({radius:e,children:t}){return W.createElement("div",{className:"box_model--borderBox--Ta011 box_model--_border--PCElt",style:(0,hy.zv)(e)},t)}function hO({width:e,height:t,assetType:n}){let a=(0,hy.iy)();return a?W.createElement(hM,{image:a}):W.createElement("div",{className:hC},W.createElement(EK.Wo,{assetType:n,pxWidth:e,pxHeight:t,shouldShowTypeLabel:!0,dataTestId:"boxModelAssetDetails"}))}function hM({image:e}){let t=(0,t$.K0)(),[n,a]=W.useState(null),r=(0,_j.AP)();W.useEffect(()=>{r||(0,EW.Os)({paint:e,fileKey:t}).then(e=>{a(e)})},[e,t,r]);let l=W.createElement(W.Fragment,null,W.createElement("span",{className:"box_model--imageFileName--uK9h5 ellipsis--ellipsis--Tjyfa"},(0,EW.CI)(e),"."),W.createElement("span",{className:"box_model--imageFileType--SYUTK"},(0,EW.YD)(e)));return n?W.createElement("div",{className:hC},W.createElement("a",{className:"box_model--imageLink--4kUYb text--fontPos11--2LvXf text--_fontBase--QdLsd blue_link--blueLink--9rlnd",href:n,target:"_blank",rel:"noopener"},l)):W.createElement("div",{className:hC},l)}function hP({children:e}){return W.createElement("div",{className:"box_model--paddingBox--x3ddV box_model--_borderStrong--VLX4w"},e)}function hL({width:e,height:t}){let n=hV(e)??0,a=hV(t)??0,{variable:r,variableDisplayName:l}=(0,eJ.Yv)("WIDTH",e),{variable:i,variableDisplayName:o}=(0,eJ.Yv)("HEIGHT",0),s=(0,dW.UB)(n),c=(0,dW.UB)(a);return W.createElement("div",{className:"box_model--innerSizeBox--fFq-v box_model--_layoutFlex--pL0jp"},W.createElement("span",{"data-testid":"layoutWidth",className:q()(hx,{[hN]:!!r,[hk]:!!r||!!i}),onClick:s,role:"button",tabIndex:0},r?W.createElement(cp.c,{isNarrow:!0,text:n.toString(),tooltip:l}):n),W.createElement("span",{className:"box_model--innerSizeBoxX--pxeFw"},"\xd7"),W.createElement("span",{"data-testid":"layoutHeight",className:q()(hx,{[hN]:!!i,[hk]:!!r||!!i}),onClick:c,role:"button",tabIndex:0},i?W.createElement(cp.c,{isNarrow:!0,text:a.toString(),tooltip:o}):a))}function hD({children:e}){return W.createElement("div",{className:"box_model--labelAndValue--tkNzd"},e)}function hR({children:e}){return W.createElement("div",{className:"box_model--label--A5RBK text--fontPos11--2LvXf text--_fontBase--QdLsd ellipsis--ellipsis--Tjyfa"},e)}function hF({position:e,dataTestIndex:t,value:n}){let a=hV(null==n?void 0:n.distance),r=(null==n?void 0:n.type)??"distance",l=(0,dW.UB)(a);return(0,hy.e4)(a)?W.createElement("div",{className:q()({"box_model--gapVertical--t9aDg box_model--gap--YPdKC box_model--_layoutFlex--pL0jp":"vertical"===e,"box_model--gapHorizontal--gLY-T box_model--gap--YPdKC box_model--_layoutFlex--pL0jp":"horizontal"===e,"box_model--paddingGap--Ca1Vq":"padding"===r,"box_model--spacingGap--PWtB6":"spacing"===r,"box_model--distanceGap--ophi6":"distance"===r})},W.createElement("div",{className:"box_model--gapLine--BM-H0"}),W.createElement("div",{className:"box_model--gapValueContainer--GsVpn box_model--_layoutFlex--pL0jp","data-testid":`layoutGap${hv()(e)}${t}`,onClick:l,role:"button",tabIndex:0},W.createElement("span",{className:"box_model--gapValue--sE-2O"},a))):W.createElement(hG,null)}function hB({value:e,variableConsumptionField:t}){let n=hV(e),a=(0,hy.e4)(n),{variable:r,variableDisplayName:l,isSuggested:i}=(0,eJ.Yv)(t,e),o=(0,dW.UB)(n),s=n;return r&&n&&(a||!i)&&(s=W.createElement(cp.c,{isNarrow:!0,text:a?n:"0",tooltip:l})),{isValid:a,valueElement:s,displayValue:n,copyValue:o}}function hU({vertical:e,horizontal:t,value:n,variableConsumptionField:a}){let r;let l=(0,eS.oJ)(),i=(0,eO.ke)(l,n),{isValid:o,valueElement:s,displayValue:c}=hB({value:n,variableConsumptionField:a});"top"===e&&"left"===t&&(r="box_model--borderTopLeft--Yitgl"),"top"===e&&"right"===t&&(r="box_model--borderTopRight--Jtfzn"),"bottom"===e&&"left"===t&&(r="box_model--borderBottomLeft--aRpWV"),"bottom"===e&&"right"===t&&(r="box_model--borderBottomRight--Rkq3s");let d=l.id===eS.Ml||l.id===eS.Sc?n:i,m=c?(0,hy.kT)(e,t,d):{},u=(0,dW.UB)(d),p=hk?hw:"box_model--rawValueContainer---osq- box_model--_valueContainerBase--pMK2K",_=Math.min(n??0,hy.q6-4);return W.createElement("div",{style:{"--temp-border-radius":`${_}px`},className:q()(p,r),"data-testid":`layoutBorderRadius${hv()(e)}${hv()(t)}`,onClick:o?u:void 0,role:"button",tabIndex:0},W.createElement("span",{className:q()(o?hT:hb,o&&"box_model--borderRadiusValue--tDyKD ellipsis--ellipsis--Tjyfa")},s),W.createElement("div",{className:o?"box_model--borderRadiusHighlight--bd9Sc":"box_model--borderRadiusNonValid--qTtSU",style:m,"data-testid":`layoutBorderRadius${hv()(e)}${hv()(t)}Highlight`}))}function hK({value:e,dataTestId:t,variableConsumptionField:n,isVertical:a}){let{isValid:r,valueElement:l,copyValue:i}=hB({value:e,variableConsumptionField:n??"MISSING"}),o=hk?hw:a?"box_model--valueContainerVertical--AtQ8B box_model--rawValueContainer---osq- box_model--_valueContainerBase--pMK2K":"box_model--valueContainerHorizontal--BqOkd box_model--rawValueContainer---osq- box_model--_valueContainerBase--pMK2K";return W.createElement("div",{className:o,onClick:r?i:void 0,role:"button",tabIndex:0},W.createElement("span",{className:r?hT:hb,"data-testid":t},l))}function hG(){return W.createElement("div",null)}function hH(){let e=(0,dW.UB)("box-sizing: border-box");return(0,eS.oJ)().id!==eS.Ml?null:W.createElement("div",{className:"box_model--borderBoxMessage--2jJc- text--fontPos11--2LvXf text--_fontBase--QdLsd",onClick:e,role:"button",tabIndex:0,"data-tooltip":(0,ex.t)("dev_handoff.box_model.border-box-tooltip"),"data-tooltip-type":n1.wL.TEXT,"data-tooltip-show-above":!0},W.createElement(ex.Tx,{id:"dev_handoff.box_model.border-box"}))}function hV(e){let t=(0,eS.oJ)(),n=(0,eO.ke)(t,e,hy.CS);return void 0===e?"-":n}var hW=n(200251);let hY="typography_preview--measureContainer--D1G5R",hj="typography_preview--measure---sPO7",hX="typography_preview--value--v5BEy text--fontPos11--2LvXf text--_fontBase--QdLsd ellipsis--ellipsis--Tjyfa",hz=(0,nF.qe)(n5.iE$);function hq({fillContainer:e=!1}){let t=(0,eA.QH)(),n=(0,Y.w1)(e=>e.mirror.selectionProperties.selectedFonts);return t&&"TEXT"===t.type&&t.fontName&&n&&!((null==n?void 0:n.fonts.length)<1)?W.createElement(sJ.e_,{hideHeader:!0,padding:sJ.CK.NONE,noBorder:!0,recordingKey:"typographyPreview"},W.createElement(hZ,{node:t,containerClassName:e?"typography_preview--previewContainerFill--QUwgr":"typography_preview--previewContainerBoxed--yWT-0 typography_preview--previewContainer--zDKlk text--fontPos11--2LvXf text--_fontBase--QdLsd common--well--J0WtH",numberOfFonts:n.fonts.length})):null}function hZ({node:e,containerClassName:t="typography_preview--previewContainerFullWidth--61D4v typography_preview--previewContainer--zDKlk text--fontPos11--2LvXf text--_fontBase--QdLsd common--sectionWithBottomSeparator--N54QE",numberOfFonts:n=1,localCodeLanguage:a}){let r=function(e){let t=(0,pD.qG)(),n=(0,_2.Yl)()-32,[a,r]=W.useState({...h5,loading:!0}),{family:l,style:i}=e.fontName,o=W.useCallback(()=>{r(e=>({...e,imageLoading:!1}))},[]);return W.useEffect(()=>{let t=e=>{r(t=>{h2(null==t?void 0:t.url);let n=!!e.url&&(t.fontFamily!==e.fontFamily||t.fontStyle!==e.fontStyle);return{...t,...e,imageLoading:n,loading:!1,error:!e.url&&e.error}})},n=()=>{t({...h5,url:void 0,error:!0})};(async()=>{var a;if(eM.zfd.fontsAreLoading()){let e=0;await new Promise((t,n)=>{let a=setInterval(()=>{eM.zfd.fontsAreLoading()||(t(),clearInterval(a)),e>10&&n(),e++},100)})}if(!eM.zfd.fontIsLoaded(l,i)){n();return}let r=eM.aWh.getTypographyPreview(e.guid);if(r&&(null==(a=r.thumbnail)?void 0:a.byteLength)>0){let{thumbnail:e,...n}=r,a=URL.createObjectURL(new Blob([e]));t({...n,url:a})}else n()})().catch(()=>{n()})},[e.guid,n,l,i,t]),W.useEffect(()=>()=>h2(null==a?void 0:a.url),[null==a?void 0:a.url]),{...a,onImageLoaded:o}}(e);return W.createElement("div",{className:t},r.loading?W.createElement(h$,null):W.createElement(hQ,{data:r,font:null==e?void 0:e.fontName,styleId:null==e?void 0:e.inheritedTextStyle,numberOfFonts:n,localCodeLanguage:a}))}function hQ({data:e,font:t,styleId:n,numberOfFonts:a,localCodeLanguage:r}){let l=(0,eO.iC)(r,e.lineHeightInPx,h1,{isTextProperty:!0}),i=(0,eO.iC)(r,e.fontSizeInPx,h1,{isTextProperty:!0}),o=(0,eA.cN)(e.textStyleNodeId||(0,hW.C4)(n)),s=null==o?void 0:o.name,c=null==o?void 0:o.description,d=(0,dW.UB)(l),m=(0,dW.UB)(i),u=(0,dW.UB)(s),p=hz-16-((0,sN.U3)((0,sN.K0)(e.textStyleNodeId))||a>1?40:0),_=e.fullSize.y>p?e.fullSize.y/p:1,E=e.fullSize.y/_,g=e.fullSize.x/_,h=E+1,f=e.capPosition/_,v=e.baselinePosition/_,y=e.bottomPosition/_,C=`calc((100% - ${g}px) / 2)`,w=a>1?W.createElement("div",{className:"typography_preview--label--pJ-5L typography_preview--labelBase--mlEgn ellipsis--ellipsis--Tjyfa text--fontPos11--2LvXf text--_fontBase--QdLsd"},W.createElement(ex.Tx,{id:"dev_handoff.typography_preview_multiple_styles"})):s?W.createElement(rA.g9,{className:"typography_preview--styleName--tA801 typography_preview--labelBase--mlEgn ellipsis--ellipsis--Tjyfa text--fontPos11--2LvXf text--_fontBase--QdLsd",onClick:u,"data-tooltip-type":n1.wL.TEXT,"data-tooltip":c,"data-tooltip-show-above":!0},s):null;return W.createElement("div",{className:q()("typography_preview--previewHighlights--zrIw3",e.imageLoading?"typography_preview--hidden--pKo8l":"typography_preview--shown--6sBFE")},e.error?W.createElement(h0,{font:t}):W.createElement("div",{className:"typography_preview--centredRow--3-Ofp",style:{marginTop:(p+16-h)/2,height:h}},W.createElement("div",{className:hY,style:{marginTop:f,marginBottom:E-y}},W.createElement("div",{className:q()(hj,"typography_preview--left--wzNxs")},W.createElement(rA.g9,{className:hX,onClick:m,"data-tooltip-type":n1.wL.TEXT,"data-tooltip":(0,ex.t)("inspect_panel.code.font_size"),"data-tooltip-show-above":!0},i))),W.createElement("div",{className:"typography_preview--measurementLines--U03DM",style:{width:g,height:E,left:C,right:C}},W.createElement(hJ,{position:f}),W.createElement(hJ,{position:v}),W.createElement(hJ,{position:y})),W.createElement(rO.O,{className:"typography_preview--borderedPreview--wYbvY",style:{width:g,height:E},src:e.url,onLoad:e.onImageLoaded,"data-tooltip-type":n1.wL.TEXT,"data-tooltip":t?`${t.family} ${t.style}`:void 0,"data-tooltip-show-above":!0}),W.createElement("div",{className:hY},W.createElement("div",{className:q()(hj,"typography_preview--right--QhAIw")},W.createElement(rA.g9,{className:hX,onClick:d,"data-tooltip-type":n1.wL.TEXT,"data-tooltip":(0,ex.t)("inspect_panel.typography.line_height"),"data-tooltip-show-above":!0},l)))),w)}function hJ({position:e}){return W.createElement("div",{className:"typography_preview--measurementLine---lBL5",style:{top:e}})}function h$(){let[e,t]=W.useState(!1);return(W.useEffect(()=>{let e=setTimeout(()=>t(!0),250);return()=>clearTimeout(e)},[]),e)?W.createElement(l7.M7,null):null}function h0({font:e}){let t=null==e?void 0:e.family,n=(null==e?void 0:e.style)??"",a=t&&!eM.zfd.fontIsLoaded(t,n)&&t?(0,ex.t)("dev_handoff.typography_preview_missing_font",{fontFamily:t,fontStyle:n}):void 0;return W.createElement("div",{className:"typography_preview--previewError--Kwn7m"},W.createElement("span",{"data-tooltip-type":n1.wL.TEXT,"data-tooltip":a},W.createElement(ex.Tx,{id:"dev_handoff.typography_preview_not_available"})))}let h1=e=>e.toLocaleString("en",{maximumFractionDigits:3,useGrouping:!1}),h2=e=>{e&&URL.revokeObjectURL(e)},h5={url:void 0,fullSize:{x:0,y:0},capPosition:0,baselinePosition:0,bottomPosition:0,fontSizeInPx:0,lineHeightInPx:0,fontFamily:"",fontStyle:"",textStyleNodeId:""};function h3({fillContainer:e=!1}){let t=(0,eA.QH)();return(null==t?void 0:t.type)==="TEXT"?W.createElement(hq,{fillContainer:e}):W.createElement(hS,{fillContainer:e})}var h4=n(641636);function h6(){let e=hh(),t=(0,eA.QH)(),n=null==t?void 0:t.description;return e?W.createElement(W.Fragment,null,W.createElement("div",{className:"module_documentation_panel--spacer--fEdqY"}),W.createElement(gf,{description:n,emptyStateText:(0,ex.t)("inspect_panel.templates.no_templates_description")})):null}function h8({module:e}){let t=(0,_2.Yl)(),n=e.guid,a=t-64,r=(0,EU.O)({assetId:n,thumbnailVersion:1,width:4*a,height:4*hm,scale:4});return W.createElement(rA.g9,{className:hc,style:null==r?void 0:r.backgroundStyle,role:"button",tabIndex:0},(null==r?void 0:r.url)&&W.createElement(rO.O,{className:hd,src:r.url,style:{maxWidth:a,maxHeight:hm}}))}function h9(){let e=(0,eA.QH)();return(null==e?void 0:e.isModule)?W.createElement(sJ.e_,{title:(0,ex.t)("dev_handoff.inspect_panel.template"),recordingKey:"templatePanel"},W.createElement(h8,{module:e}),W.createElement(h6,null)):null}function h7(){return!!(0,Y.w1)(e=>e.mirror.appModel.activeCanvasEditModeType===eM.a_v.DEV_HANDOFF_HISTORY&&e.versionHistory.activeId&&"current_version"!==e.versionHistory.activeId)}var fe=n(824740),ft=n(577824);let fn="add_developer_related_link_row--inputRow--0rB-c";function fa({onCancel:e,onSuccess:t,existingUrls:n,onFocus:a,onUnfocus:r,addExtraPadding:l=!1}){let i=(0,Y.OY)(),[o,s]=W.useState(""),[c,d]=W.useState(!1),m=W.useCallback(e=>s(e.target.value),[]),u=(0,sC.ct)(),p=(0,dz.oD)()??"",_=u.get(p),E=(0,t$.K0)(),g=gM(o),{inputRef:h,inputProps:{onFocus:f,onMouseUp:v,onMouseLeave:y,onKeyUp:C,onChange:w}}=(0,fe.y)({onChange:m}),b=W.useCallback(async()=>{let e=o;if(!(0,gP.a)(e)||!(0,gP.l)(e)){if(e="http://"+e,!(0,E2.o$)(e)||!(0,gP.a)(e)){i(ek.A.enqueue({message:(0,ex.t)("dev_handoff.developer_related_links.invalid_link"),error:!0,timeoutOverride:2e3}));return}s(e)}if(n.includes(e)){i(ek.A.enqueue({message:(0,ex.t)("dev_handoff.developer_related_links.duplicate_link_error"),error:!0,timeoutOverride:2e3}));return}d(!0),r();let a=(0,gx.QZ)({fileKey:E,nodeId:p,url:e,onPost:t,nodeType:null==_?void 0:_.type,source:"web",pluginId:null==g?void 0:g.plugin.plugin_id});try{let e=await a;d(!1);let t=gx.wP.safeParse(e.data);if(!t.success||!g)return;let n=t.data.meta;g.genPreview({link:{id:n.id,linkUrl:n.link_url,linkName:n.link_name,linkPreview:null,linkPreviewJson:"",nodeId:n.node_id,fileKey:n.file_key,isUserOverride:n.is_user_override,isInherited:!1}})}catch(e){console.error(e),i(ek.A.enqueue({message:(0,ex.t)("dev_handoff.developer_related_links.link_error",{errorMessage:e.message}),error:!0,timeoutOverride:2e3}))}finally{d(!1)}},[o,n,r,E,p,t,i,null==_?void 0:_.type,g]),T=async t=>{"Enter"===t.key&&!t.shiftKey&&o?await b():"Escape"===t.key&&e()};if(W.useEffect(()=>{let t=t=>{h.current&&!h.current.contains(t.target)&&(o&&""!==o?b():e())};return document.addEventListener("mousedown",t),()=>document.removeEventListener("mousedown",t)},[e,h,b,o]),c){let e=new URL(o).host;return e.startsWith("www.")&&(e=e.slice(4)),W.createElement(s$.WA,{className:fn},W.createElement(l7.M7,{className:"add_developer_related_link_row--loadingSpinner--zWFF2"}),W.createElement(s$.yk,null,e))}return W.createElement(s$.WA,{className:q()(fn,l&&ap.cx.pb8.$)},W.createElement(eN.A,{svg:oS.c,className:ap.cx.colorIconSecondary.$}),W.createElement(ft.y,{ref:h,className:"add_developer_related_link_row--input--4Y-uG",onFocus:e=>{f(e),a()},onMouseUp:v,onMouseLeave:y,onChange:w,onKeyDown:T,onKeyUp:C,value:o,placeholder:(0,ex.t)("dev_handoff.developer_related_links.link_placeholder"),autoCorrect:"off",recordingKey:"devRelatedLinkUrlInput",autoFocus:!0}))}var fr=n(698580);let fl=fr.object({type:fr.literal("PLAIN_TEXT"),text:fr.string()}),fi=fr.union([fl,fr.null()]),fo=fr.object({type:fr.literal("AUTH_REQUIRED")}),fs=(fr.union([fo,fl,fr.null()]),fr.object({type:fr.literal("AUTH_SUCCESS")}));function fc(e){if(!e)return null;try{let t=JSON.parse(e),n=fi.safeParse(t);if(!n.success)return null;return n.data}catch(t){return(0,tO.oP)(l9._.DEVELOPER_TOOLS,t,{extra:{previewJson:e}}),null}}function fd(e,t){let n=(0,es.Qb)(nm.p9d,{fileKey:e,nodeId:t});return(0,o$.yC)(()=>{var e;return"loaded"===n.status&&(null==(e=n.data.file)?void 0:e.developerRelatedLinksForNode)?[n.data.file.developerRelatedLinksForNode.map(e=>({...e,linkPreview:fc(e.linkPreviewJson)})),"loaded"]:[[],n.status]},[n])}fr.union([fs,fr.null()]);let fm=(0,lo.U9)(function(e){let t=e.linkId,n=(0,dz.oD)()??"",a=(0,t$.K0)(),r=(0,sC.ct)().get(n),l=(0,Y.OY)(),i=async()=>{if(!a||!n)return;let e=(0,gx.kr)({fileKey:a,linkId:t,nodeId:n,nodeType:null==r?void 0:r.type,source:"web"});l(ts.oN());try{await e}catch(e){console.error(e),l(ek.A.enqueue({message:`Could not delete link: ${e.message}`,error:!0,timeoutOverride:2e3}))}};return W.createElement(nO.Co,{destructive:!0,confirmationTitle:W.createElement(ex.Tx,{id:"dev_handoff.developer_related_links.delete_link"}),confirmText:W.createElement(ex.Tx,{id:"dev_handoff.developer_related_links.delete_link"}),onConfirm:i,dispatch:l},W.createElement("p",null,W.createElement(ex.Tx,{id:"dev_handoff.developer_related_links.delete_link_text_body"})))},"DeveloperRelatedLinksDeleteModal");var fu=n(167568);let fp="developer_related_links_edit_modal--fieldContainer--Twtv-",f_="developer_related_links_edit_modal--label--cxfFD",fE=(0,lo.U9)(function({initialLink:e}){var t;let{id:n,linkName:a,linkUrl:r}=e,[l,i]=W.useState(r),o=null==(t=e.linkPreview)?void 0:t.text,[s,c]=W.useState(!e.isUserOverride&&o?"":a),[d,m]=W.useState(!1),u=(0,dz.oD)()??"",p=(0,t$.K0)(),_=(0,sC.ct)().get(u),E=(0,Y.OY)(),{windowInnerHeight:g,windowInnerWidth:h}=(0,fu.U)(),f=W.useMemo(()=>new nU.Cg(h/2-160,g/3),[g,h]),v=W.useCallback(e=>c(e.target.value),[]),y=W.useCallback(e=>i(e.target.value),[]),{inputRef:C,inputProps:{onFocus:w,onMouseUp:b,onMouseLeave:T,onKeyUp:x,onChange:k}}=(0,fe.y)({onChange:v}),N=gM(l),{inputRef:S,inputProps:{onFocus:I,onMouseUp:A,onMouseLeave:O,onKeyUp:M,onChange:P}}=(0,fe.y)({onChange:y}),L=async()=>{let t;if(!u||!p)return;let i=l;if((!(0,gP.a)(i)||!(0,gP.l)(i))&&(i="http://"+i,!(0,gP.a)(i))){E(ek.A.enqueue({message:(0,ex.t)("dev_handoff.developer_related_links.invalid_link"),error:!0,timeoutOverride:2e3}));return}m(!0);let o=s;s&&""!==s||(o=await (0,gx.cx)(i)),l!==r&&s!==a?t=!0:l!==r?N&&(t=!1):s!==a&&(t=!!s||!e.linkPreview);let c=(0,gx.G_)({fileKey:p,nodeId:u,linkId:n,name:o,url:i,isUserOverride:t,clearLinkPreview:l!==r,nodeType:null==_?void 0:_.type,source:"web",pluginId:null==N?void 0:N.plugin.plugin_id});N&&!t&&N.genPreview({link:{...e,linkUrl:l,linkName:s,isUserOverride:!1}}),E(ts.oN());try{await c}catch(e){console.error(e),E(ek.A.enqueue({message:`Could not edit link: ${e.message}`,error:!0,timeoutOverride:2e3}))}},D=d||!l||a===s&&r===l,R=e=>{e.keyCode===ee.as.ENTER&&!e.shiftKey&&s&&l?L():e.keyCode===ee.as.ESCAPE&&E(ts.oN())};return W.createElement(n2.i8,{initialWidth:320,onClose:()=>{E(ts.oN())},initialPosition:f,disableDragging:!0,clickOutsideToHide:!0},W.createElement(_4.a,null,W.createElement("div",{className:"developer_related_links_edit_modal--header--mb7eN"},W.createElement(ex.Tx,{id:"dev_handoff.developer_related_links.edit_link"}),W.createElement(rW.CA,{onClick:()=>E(ts.oN())})),W.createElement("div",{className:fp},W.createElement("p",{className:f_},W.createElement(ex.Tx,{id:"dev_handoff.developer_related_links.link"})),W.createElement(ft.y,{ref:S,className:"developer_related_links_edit_modal--input--mw5Qe",onFocus:I,onMouseUp:A,onMouseLeave:O,onChange:P,onKeyDown:R,onKeyUp:M,value:l,autoCorrect:"off",recordingKey:"devRelatedLinkUrlInput",disabled:d})),W.createElement("div",{className:fp},W.createElement("p",{className:f_},W.createElement(ex.Tx,{id:"dev_handoff.developer_related_links.name"})),W.createElement("div",{className:"developer_related_links_edit_modal--inputContainer--jplkF"},W.createElement("div",{className:"developer_related_links_edit_modal--favicon--aNxtZ"},W.createElement(gy.S,{url:r})),W.createElement(ft.y,{ref:C,className:"developer_related_links_edit_modal--inputName--oSwwG",onFocus:w,onMouseUp:b,onMouseLeave:T,onChange:k,onKeyDown:R,onKeyUp:x,value:s,autoCorrect:"off",autoFocus:!0,recordingKey:"devRelatedLinkNameInput",disabled:d,placeholder:o}))),W.createElement("div",{className:"developer_related_links_edit_modal--buttons--6eqGy"},W.createElement(m2.wX,{onClick:()=>E(ts.oN())},W.createElement(ex.Tx,{id:"dev_handoff.developer_related_links.cancel"})),W.createElement(m2.gV,{onClick:L,disabled:D,type:"submit"},W.createElement(ex.Tx,{id:"dev_handoff.developer_related_links.edit_link"})))))},"DeveloperRelatedLinksEditModal"),fg="developer_related_links_panel--addButton--0Fv7K draggable_list--addButton--D0q--",fh="developer_related_links_panel--hint--n8Jpr";var ff=n(565092);let fv="dev_handoff_dev_resources_plus_icon_clicked_once",fy=(0,nT.Zf)(!1);function fC({links:e,status:t,isVariant:n=!1}){return"loaded"!==t||"loaded"===t&&0===e.length?null:W.createElement(W.Fragment,null,e.map(e=>W.createElement(gD,{key:e.linkUrl,isEditable:!1,link:{...e,isInherited:!0,isVariant:n},onOpenDeleteModal:aC.Kw,onOpenEditModal:aC.Kw})))}function fw(){let e=(0,Y.OY)(),t=(0,dz.oD)()??"",n=(0,t$.g9)()??"",a=(0,sC.ct)(),r=(0,eA.wB)(),l=(0,Y.w1)(e=>e.mirror.appModel.currentPage),i=a.get(r??l),o=(null==i?void 0:i.type)==="SYMBOL"||(null==i?void 0:i.isStateGroup),s=(0,sf.k3)(),c=(0,rH.qM)(),d=(0,l1.K_)(),m=!!(0,t2.e)(fv),u=function(){let e=h7(),t=(0,t$.AL)(),n=null==t?void 0:t.repo,a=!!(t&&n&&(0,uT.UJ)(t,n))||!n;return!e&&a}(),p=h7(),[_,E]=function(e){let t=(0,es.Qb)(nm.CS1,{fileKey:e});return(0,o$.yC)(()=>{var e;return"loaded"===t.status&&(null==(e=t.data.file)?void 0:e.developerRelatedLinks)?[t.data.file.developerRelatedLinks.map(e=>({...e,linkPreview:fc(e.linkPreviewJson)})),"loaded"]:[[],t.status]},[t])}(n),g=W.useMemo(()=>_.filter(e=>e.nodeId===t)??[],[_,t]),[h,f]=W.useState(!1),{singleBackingSymbol:v,singleBackingStateGroup:y}=(0,c0.Y)([(null==i?void 0:i.guid)??""]),{backingSymbol:C,backingStateGroup:w}=(0,sf.qG)(v,y),b="loaded"===s.status,T=(null==i?void 0:i.type)==="INSTANCE"||b,x=(0,iH.YH)(C),[k,N]=fd(x??"",(null==C?void 0:C.publishID)??""),[S,I]=fd(x??"",(null==w?void 0:w.publishID)??""),A=!!x&&x!==n,O=null==C?void 0:C.guid;T&&O&&!A&&(k=_.filter(e=>e.nodeId===O)??[],N=E),T&&w&&!A&&(S=_.filter(e=>e.nodeId===w.guid)??[],I=E);let[M,P]=W.useState(!1),L=W.useCallback(()=>{(null==i?void 0:i.isAlive())&&(P(!0),m||e(tm.s({[fv]:!0})),c("Dev Handoff Related Links Click Plus Icon",{nodeId:t,nodeType:null==i?void 0:i.type,source:"web"}))},[m,c,t,i,e]),[D,R]=(0,eo.lZ)(fy);W.useEffect(()=>{D&&(L(),R(!1))},[D,L,R]);let F=u&&g.length<10,B=W.useMemo(()=>_&&function(e,t,n){let a=new Map,r=new Map;return e.forEach(e=>{var l,i;if(eM.i46.getPageIdFromNode(e.nodeId)!==n)return;let o=t.get(e.nodeId);for(;o;){let t=r.get(o.guid);if(t){null==(l=a.get(t))||l.push(e);return}let n=o.parentNode;if(!n||"SECTION"===o.type||"CANVAS"===o.type)return;if("FRAME"===o.type&&!o.isStateGroup&&!o.resizeToFit&&((null==n?void 0:n.type)==="SECTION"||(null==n?void 0:n.type)==="CANVAS")){a.get(o.guid)?null==(i=a.get(o.guid))||i.push(e):a.set(o.guid,[e]),r.set(e.nodeId,o.guid);return}o=n}}),a}(_,a,l),[_,t,l]);if(0===g.length&&p)return null;let U=lQ.kr.getIsExtension(),K=t=>{e((0,ts.A5)({type:fE,data:{initialLink:t}}))},G=(t,n)=>{e((0,ts.A5)({type:fm,data:{linkId:t,initialLinkUrl:n}}))},H=(null==i?void 0:i.type)==="SECTION"&&B&&function(e,t){let n=new Map;for(let a of t.childrenNodes){let t="FRAME"===a.type&&e.get(a.guid);t&&n.set(a.guid,t)}return n}(B,i),V=g.length>0||M||k.length>0||S.length>0||!d&&B&&B.size>0||H&&H.size>0,j="loaded"===E&&"loaded"===N&&"loaded"===I;return W.createElement(sJ.e_,{hideHeader:!0,padding:sJ.CK.CONSTRAINED_VERTICAL,recordingKey:"developerLinks"},!U&&W.createElement(s$.WA,{className:"developer_related_links_panel--panelTitleRow--HTyXD"},W.createElement(s$.w1,{className:"developer_related_links_panel--panelTitleText--QeRxz",extended:!0},W.createElement(ex.Tx,{id:"dev_handoff.developer_related_links.links"})),!j&&W.createElement(s$.WA,{className:"developer_related_links_panel--spinner--2ofDP draggable_list--addButton--D0q--"},W.createElement(l7.M7,{className:fg})),j&&F&&!h&&W.createElement(s$.wP,{className:fg,onMouseDown:e=>e.stopPropagation(),"data-tooltip-type":n1.wL.TEXT,"data-tooltip":(0,ex.t)("dev_handoff.developer_related_links.add_link_button"),svg:l4.c,onClick:L,recordingKey:"addDevRelatedLink"})),!V&&(!m||U)&&j&&W.createElement(s$.WA,{className:q()("developer_related_links_panel--spinnerContainer--d-B-K")},W.createElement(s$.yk,{className:q()(U?"developer_related_links_panel--hintExtension--KCW5n":fh)},W.createElement(ex.Tx,{id:"dev_handoff.developer_related_links.empty_info"}))),g.map(e=>W.createElement(gD,{key:e.linkUrl,isEditable:u&&"figmadoc"!==e.id,link:{...e,isInherited:!1},onOpenDeleteModal:G,onOpenEditModal:K})),M&&W.createElement(fa,{onCancel:()=>{P(!1),f(!1)},onSuccess:()=>{P(!1),f(!1)},onFocus:()=>f(!0),onUnfocus:()=>f(!1),existingUrls:g.map(e=>e.linkUrl),addExtraPadding:!(k.length>0||S.length>0||g.length>0)}),w&&T&&W.createElement(fC,{status:I,links:S}),k&&T&&W.createElement(fC,{status:N,links:k,isVariant:null!==w}),W.createElement(fx,{links:[...g,...k,...S]}),!d&&B&&W.createElement(fb,{frameToLinks:B}),(null==i?void 0:i.type)==="SECTION"&&H&&W.createElement(fb,{frameToLinks:H}),V&&!M&&o&&W.createElement(s$.yk,{className:q()(fh)},W.createElement(ex.Tx,{id:"dev_handoff.developer_related_links.component_inherited_links_desc"})))}function fb(e){let t=(0,sC.ct)();return W.createElement(W.Fragment,null,Array.from(e.frameToLinks.entries()).map(([n,a],r)=>W.createElement(fT,{key:r,guid:n,sceneGraph:t,links:a,isLast:r===e.frameToLinks.size-1})))}function fT(e){let{guid:t,sceneGraph:n}=e,[a,r]=W.useState(!1),l=n.get(t),[i,o]=W.useState(!1);if(!l)return null;let s=l.name;return i||(s=s+" ("+e.links.length+")"),W.createElement("div",{className:q()(i&&!e.isLast&&ap.cx.pb8.$),onMouseEnter:()=>r(!0),onMouseLeave:()=>r(!1)},W.createElement("div",{className:q()("developer_related_links_panel--sectionHeader--VHgzU","developer_related_links_panel--item--fwiWa"),onMouseDown:e=>{e.stopPropagation(),o(!i)},role:"button",tabIndex:0,"data-fullscreen-intercept":!0},W.createElement(eN.A,{className:"developer_related_links_panel--expandCaret--2h9sN",svg:i?_m.c:_u.c}),W.createElement(eU.ue,{className:"developer_related_links_panel--layerIcon--NG2rK",guid:l.guid}),W.createElement("div",{className:"developer_related_links_panel--sectionName--xeFyg text--fontPos11--2LvXf text--_fontBase--QdLsd ellipsis--ellipsis--Tjyfa"},s),a&&W.createElement(s$.wP,{onClick:()=>eM.aWh.selectAndFocusOnNode(l.guid,!0),className:"developer_related_links_panel--goToTargetButton--JZoyi",onMouseDown:e=>e.stopPropagation(),"data-tooltip-type":n1.wL.TEXT,"data-tooltip":(0,ex.t)("dev_handoff.developer_related_links.select_frame"),svg:ff.c})),i&&e.links.map((e,t)=>W.createElement(gD,{key:t,link:{...e,isInherited:!1,isNested:!0},isEditable:!1,onOpenDeleteModal:aC.Kw,onOpenEditModal:aC.Kw})))}function fx({links:e}){let[t,n]=(0,eo.lZ)(gb),a=W.useMemo(()=>{let n=new Set(e.map(e=>e.linkUrl));return Object.values(t).filter(e=>!!e&&e.links.some(e=>n.has(e.linkUrl)))},[e,t]);async function r({links:e,plugin:t}){if(await gk.instance.runAuth({plugin:t,links:e.map(e=>({url:e.linkUrl,name:e.linkName,isInherited:e.isInherited,nodeId:e.nodeId}))})){n(e=>{let n={...e};return delete n[t.plugin_id],n});try{await Promise.all(e.map(e=>gk.instance.generateLinkPreview({plugin:t,link:e})))}catch(e){console.error(e)}}}return a&&0!==a.length?W.createElement(aE.g,{spacing:4,direction:"vertical",width:"fill-parent",horizontalAlignItems:"start",padding:{top:4,left:16}},Array.from(a).map((e,t)=>W.createElement(ah.a,{key:t,i18nId:"dev_handoff.related_links.plugin.auth_required",i18nParams:{button:W.createElement("button",{className:ap.cx.colorTextBrand.bgTransparent.$,onClick:()=>r({links:e.links,plugin:e.plugin})},W.createElement(ah.a,{i18nId:"dev_handoff.related_links.plugin.connect_to",i18nParams:{pluginName:e.plugin.name}}))}}))):null}var fk=n(327112);n(487023);var fN=n(790184),fS=n(791372);let fI=(e,t)=>e.name.localeCompare(t.name);function fA(e){let{styles:t}=(0,eo.m4)(fk.cV),{library:n,sceneGraph:a}=(0,el.q)(e=>({library:e.library,sceneGraph:e.mirror.sceneGraph})),r=t.map(e=>{let t=(0,iH.ei)(e.key,e.guids,n);if(!t||t.kind===fN.uk.DANGLING)return null;let r=(0,eA.mY)(a,e.guids[0]);return r?{...e,...t.value,styleNode:r}:null}).filter(pJ.t).filter(t=>(null==t?void 0:t.style_type)===e).sort((e,t)=>e.styleName.localeCompare(t.styleName));return(0,EB.O)({items:r,getShowMoreLabel:e=>(0,ex.t)("dev_handoff.styles.show_more",{count:e})})}var fO=n(408156),fM=n(712220),fP=n(902848);function fL(){let{selectionVariables:e,selectionStyles:t,selectionValues:n}=function(){let{selectedColors:e,childrenColors:t,selectedStyles:n,childrenStyles:a,library:r,sceneGraph:l}=(0,el.q)(e=>({selectedColors:e.mirror.selectionPaints.paintsDirectlyOnSingleNode,childrenColors:e.mirror.selectionPaints.paints,selectedStyles:e.mirror.selectionPaints.stylesDirectlyOnSingleNode,childrenStyles:e.mirror.selectionPaints.styles,library:e.library,sceneGraph:e.mirror.sceneGraph})),i=(0,eA.cC)(),o=(0,eA.QH)(),s=(0,fS.G)(),c=W.useCallback((e,t)=>{let{styleKey:n,styleGUIDs:a}=e,i=(0,iH.ei)(n,a,r);if(!i||a.length<1)return null;let o=(0,eA.mY)(l,a[0]);if(!o)return null;let s=o.fills.map(e=>(0,fS.me)(e,t));return(0,fS.Cy)((0,iH.OK)(i,l),i,s,a)},[r,l]);return W.useMemo(()=>{let r=(null==o?void 0:o.childrenGuids)&&(null==o?void 0:o.childrenGuids.length)>0&&(null==o?void 0:o.visibleChildren)||[],l=i||r.length>0,d=l?t:e,m=d.filter(({paint:e})=>!!e.colorVar&&!!e.colorVar.value).map(({paint:e})=>(0,fS.me)(e,s)),u=d.filter(({paint:e})=>!e.colorVar||!e.colorVar.value).map(({paint:e})=>(0,fS.me)(e,s));return{selectionVariables:m,selectionStyles:(l?a:n).map(e=>c(e,s)).filter(pJ.t).sort(fI),selectionValues:u}},[null==o?void 0:o.childrenGuids,null==o?void 0:o.visibleChildren,i,t,e,a,n,s,c])}(),a=(0,Y.w1)(t$.AX),r=(0,Y.w1)(e=>e.mirror.selectionPaints.emptyDueToLimitExceeded),{visibleItems:l,showMoreButton:i}=(0,EB.O)({items:[...e,...t,...n],getShowMoreLabel:e=>(0,ex.t)("dev_handoff.styles.show_more_colors",{count:e})});return r||l.length?W.createElement(sJ.e_,{title:(0,ex.t)("dev_handoff.selection_colors"),recordingKey:"handoffColorStyles",additionalHeaders:W.createElement(El.Yb,{id:"handoffColorStyles"})},r&&W.createElement(s$.WA,{className:"selection_colors_panel--ignoreLimitButtonRow--loF8J"},W.createElement(m2.wX,{className:"selection_colors_panel--ignoreLimitButton--US3qr",onClick:()=>{(0,Z.we)("Show Selection Paints For Large Selection",{fileKey:a||""}),eM.uSk.ignoreLimitWhenCollectingPaints()}},W.createElement(ex.Tx,{id:"dev_handoff.selection_colors.show_colors"}))),l.map((e,t)=>e.type===fM.v.STYLE?W.createElement(fR,{key:t,colorStyle:e}):W.createElement(fF,{key:t,colorValue:e})),i):null}function fD(e,t,n,a=1){let{a:r=1}=e;return(0,El.Cu)({...e,a:r*a},t,n,{alphaInPercent:!0})}function fR({colorStyle:e}){let{name:t,dsStyle:n,styleGUIDs:a,paints:r}=e;(0,iH.ym)(n);let l=n.value;n.kind===fN.uk.DANGLING&&(l.style_type="FILL",l.node_id=n.value.node_id);let i=(0,eP.q4)();if(1===r.length&&"SOLID"===r[0].paint.type&&r[0].paint.color&&!r[0].paint.colorVar){let{value:e,copyValue:n}=fD(r[0].paint.color,i,r[0].valueFormatter,r[0].paint.opacity);return W.createElement(fB,{displayValueLeft:t,copyValueLeft:t,displayValueRight:e,copyValueRight:n,icon:W.createElement(fP.wv,{dsStyle:l,hideNameInTooltip:!0}),onMouseEnter:()=>eM.uSk.highlightOnlySameStyleInSublayers(a),onMouseLeave:()=>eM.uSk.highlightOnlySameStyleInSublayers([]),dataTestId:"selectionStyleRow"})}return W.createElement(El.qs,{color:e,format:i})}function fF({colorValue:e}){let{paint:t,encodedPaint:n,valueFormatter:a}=e,r=(0,eP.q4)(),{variable:l,variableDisplayName:i,isSuggested:o}=(0,eJ.co)(t);if(l&&i&&t.color){let e="LOCAL"===l.subscriptionStatus&&l.isSoftDeleted,{value:s,copyValue:c}=fD(t.color,r,a,t.opacity);return W.createElement(fB,{isVariable:!o,isSuggestedVariable:o,isDeletedVariable:e,displayValueLeft:i,copyValueLeft:i,displayValueRight:s,copyValueRight:c,icon:W.createElement(fO.o,{paint:t,tooltip:l.description}),onMouseEnter:()=>eM.uSk.highlightOnlySamePaintInSublayers(n),onMouseLeave:()=>eM.uSk.highlightOnlySamePaintInSublayers("")})}return W.createElement(El.iK,{formattableColor:e,format:r})}function fB(e){let{icon:t,isVariable:n,isSuggestedVariable:a,isDeletedVariable:r,onMouseEnter:l,onMouseLeave:i}=e,o=(0,dW.UB)(e.copyValueLeft),s=(0,dW.UB)(e.copyValueRight),[c,d]=W.useState(!1);return W.createElement("div",{onMouseEnter:l,onMouseLeave:i,className:"selection_colors_panel--styleRow--X7gbD","data-fullscreen-intercept":!0,"data-testid":e.dataTestId},W.createElement(rA.g9,{className:"selection_colors_panel--styleNameAndIcon--stVO4 text--fontPos11--2LvXf text--_fontBase--QdLsd",onClick:o,onMouseEnter:()=>d(!0),onMouseLeave:()=>d(!1),role:"button",tabIndex:0},t&&W.createElement("div",{className:"selection_colors_panel--styleIcon--eaifW"},t),n||a?W.createElement(cp.c,{text:e.displayValueLeft,isDeleted:r,containerClassName:"selection_colors_panel--variablePill--0dLco",disableHover:!0,isHovered:c,isInferred:a,tooltip:a?(0,ex.t)("dev_handoff.variables.inferred_color"):void 0}):W.createElement("div",{className:"selection_colors_panel--styleName--Nny-W text--fontPos11--2LvXf text--_fontBase--QdLsd ellipsis--ellipsis--Tjyfa"},e.displayValueLeft)),e.displayValueRight&&W.createElement(W.Fragment,null,W.createElement("div",{className:"selection_colors_panel--spacer---6Fvk"}),W.createElement(rA.g9,{className:"selection_colors_panel--styleValue--BvNuA text--fontPos11--2LvXf text--_fontBase--QdLsd",onClick:s,role:"button",tabIndex:0},e.displayValueRight)))}var fU=n(354532);function fK(){let[e,t]=(0,W.useState)((0,eo.m4)(sI.mw)),[n,a]=(0,W.useState)((0,eS.oJ)()),r=(0,eO.Wk)(n),l=(0,sS.qu)(n,r),i=(0,fU.u)(n),o=(0,eO.Ef)(n.id),s=(0,cy.yu)({codeLanguage:n,onChange:a}),c=(0,sI.uu)();return{inspectionMode:c.find(t=>t===e)||c[0],setInspectionMode:t,supportsAlternativeUnits:l,preferenceOptions:i,preferences:o,codeLanguageApi:s,inspectionModes:c}}var fG=n(530968);let fH="selection_styles_panel--styleDetailsContainer--K3XsP",fV=(0,nF.qe)(n5.Q3T),fW="dev_handoff_selection_style_modal";function fY(){let e=fA("EFFECT"),t=fA("TEXT"),n=(0,fG.e)(),a=(0,Y.OY)(),r=!!n&&n.id===fW;return W.useEffect(()=>()=>{r&&a(ti.U5())},[a,r]),W.createElement(W.Fragment,null,e.visibleItems.length>0&&W.createElement(sJ.e_,{title:(0,ex.t)("dev_handoff.selection_effect_styles"),recordingKey:"handoffEffectStyles"},e.visibleItems.map(e=>W.createElement(fj,{key:null==e?void 0:e.key,styleData:e})),e.showMoreButton),t.visibleItems.length>0&&W.createElement(sJ.e_,{title:(0,ex.t)("dev_handoff.selection_text_styles"),recordingKey:"handoffTextStyles"},t.visibleItems.map(e=>W.createElement(fj,{key:null==e?void 0:e.key,styleData:e})),t.showMoreButton),r&&W.createElement(fX,null))}function fj({styleData:e}){let t=W.useRef(null),n=(0,fG.e)(),a=(0,Y.OY)(),r=W.useCallback(()=>{t.current&&(n&&a(ti.U5()),a(ti.is({id:fW,initialX:t.current.getBoundingClientRect().left-fV,initialY:t.current.getBoundingClientRect().top,data:e})))},[a,n,e]);return W.createElement("div",{className:"selection_styles_panel--styleRow--t--sj",onClick:r,onMouseEnter:()=>eM.IHu.highlightOnlySameStyleInSublayers(e.guids),onMouseLeave:()=>eM.IHu.highlightOnlySameStyleInSublayers([]),ref:t},W.createElement("div",{className:"selection_styles_panel--icon--6ej2T"},W.createElement(fP.wv,{dsStyle:e,disableTooltip:!0})),W.createElement("div",{className:"selection_styles_panel--styleName--Xz37G text--fontPos11--2LvXf text--_fontBase--QdLsd ellipsis--ellipsis--Tjyfa"},e.styleName))}function fX(){let e=(0,fG.e)(),t=(0,Y.OY)(),n=W.useCallback(()=>{t(ti.U5())},[t]);if(!e||e.id!==fW)return null;let{style_type:a,name:r,styleNode:l}=e.data,i=new nU.Cg(e.initialX,e.initialY);return W.createElement(n2.G0,{title:r,headerSize:"small",initialWidth:fV,initialPosition:i,initialConstraints:{x:"left",y:"top"},maxHeight:420,onClose:n,dragHeaderOnly:!0,alwaysEnsureModalOnScreen:!0,alwaysEnsureHeaderModalOnScreen:!0,recordingKey:"handoffStyleDetailsModal"},W.createElement("EFFECT"===a?fz:fQ,{styleNode:l}))}function fz({styleNode:e}){let t=fK(),n=W.useMemo(()=>null==e?void 0:e.effects.reverse(),[e]);if(!n)return null;let a="properties"===t.inspectionMode?W.createElement("div",{className:"selection_styles_panel--effectStyleProperties--kGKRY"},n.map((t,n)=>W.createElement(Eo._,{key:`${e.guid}-${n}`,...t}))):W.createElement(Ea,{overrideNodeId:e.guid,hideLayoutSection:!0,sectionClassName:"selection_styles_panel--effectStyleCodeSection--7T-TK",localCodeLanguage:t.codeLanguageApi.codeLanguage});return W.createElement("div",{className:fH},W.createElement(fJ,{preferencesApi:t,dropdownPrefix:"effectStyle"}),a)}function fq({styleNode:e}){let{lineHeightOrMixed:t}=e;return W.createElement(sJ.e_,{hideHeader:!0,padding:sJ.CK.NONE,noBorder:!0,recordingKey:"textStyleDetails"},W.createElement(hZ,{node:e}),W.createElement("div",{className:"selection_styles_panel--textStyleProperties--DgbCN"},W.createElement(sJ.GA,{name:(0,ex.t)("inspect_panel.typography.font"),value:null==e?void 0:e.fontName.family}),W.createElement(sJ.GA,{name:(0,ex.t)("inspect_panel.typography.weight"),value:null==e?void 0:e.fontWeightOrMixed}),W.createElement(sJ.GA,{name:(0,ex.t)("inspect_panel.typography.style"),value:null==e?void 0:e.fontName.style}),W.createElement(sJ.I7,{name:(0,ex.t)("inspect_panel.typography.size"),value:null==e?void 0:e.fontSize}),W.createElement(sJ.ie,{name:(0,ex.t)("inspect_panel.typography.line_height"),value:"mixed"===t?void 0:t}),W.createElement(sJ.ie,{name:(0,ex.t)("inspect_panel.typography.letter"),value:null==e?void 0:e.letterSpacing})))}function fZ({styleNode:e,codeLanguage:t}){return W.createElement(W.Fragment,null,W.createElement(sJ.e_,{hideHeader:!0,padding:sJ.CK.NONE,noBorder:!0,recordingKey:"textStyleDetails"},W.createElement(hZ,{node:e})),W.createElement(Ea,{overrideNodeId:e.guid,hideLayoutSection:!0,sectionClassName:"selection_styles_panel--textStyleCodeSection---86O2",localCodeLanguage:t}))}function fQ({styleNode:e}){let t=fK(),n="properties"===t.inspectionMode?W.createElement(fq,{styleNode:e}):W.createElement(fZ,{styleNode:e,codeLanguage:t.codeLanguageApi.codeLanguage});return W.createElement("div",{className:fH},W.createElement(fJ,{preferencesApi:t,dropdownPrefix:"textStyle"}),n)}function fJ({preferencesApi:e,dropdownPrefix:t}){return W.createElement("div",{className:"selection_styles_panel--preferencesRow--7Wgoe"},W.createElement(cx,{preferencesApi:e,inspectionModeLayout:"tabs",dropdownPrefix:t}))}function f$(){return(0,Ev.SK)(EE.Km.FILL),(0,Ev.SK)(EE.Km.STROKE),(0,Ev.SK)(EE.Km.TEXT),(0,Ev.SK)(EE.Km.EFFECT),null}function f0(e){let t=(0,E_.e)(),n=(0,l1.K_)(),a=(0,dz.So)(),r=hh(),l=(0,eA.QH)(),i=(0,eA.cC)(),o=(0,sI.CW)(),s=(0,_j.vu)(),c=(0,_j.AP)(),d=(0,rp.g)(),m=W.useRef(null),u=(0,sC.ct)(),p=lQ.kr.getIsExtension(),_=!!(null==l?void 0:l.isStateGroup),E=(0,eI.Mj)(l),g=(0,eo.m4)(lM.Ed),[h,f]=W.useState(!1);W.useEffect(()=>{f(!1)},[null==l?void 0:l.guid]);let{doc:v}=EL((null==l?void 0:l.guid)??"",u),y=(0,$.Ub)().dt_figmadoc&&v&&a&&!h;return W.createElement("div",{className:mD},t&&W.createElement(Eg.Af,{panelName:Eg.oL.HANDOFF}),W.createElement(_8,{plugin:g??null}),n&&!p&&W.createElement(mP,{lastViewTimestamp:e.lastViewTimestamp}),i&&!p&&W.createElement(mO,null),W.createElement(f$,null),W.createElement("div",{style:{position:"relative",width:"100%",height:"100%"}},W.createElement(nK.f,{ref:m,className:"inspect_panel--scrollContainer--wwC0l properties_panel--scrollContainer--o2LxW",onContextMenu:aC.Kw,scrollingDisabled:!!d},W.createElement(tg.kH,{name:nv.i8.CODE_PANEL},W.createElement(_4.a,null,W.createElement("div",{className:p?"inspect_panel--inspectPanelContentsBottomAligned--MOK20":"inspect_panel--inspectPanelContents--iYf8P"},n?W.createElement(W.Fragment,null,a&&W.createElement(hE,null),(0,$.Ub)().dse_editor_templates_v1&&r&&W.createElement(h9,null),W.createElement(fw,null),y?W.createElement("div",{className:"inspect_panel--inspectLayerPropertiesButtonContainer--zgz1r"},W.createElement(ag.q,{onClick:()=>f(!0),width:"fill-parent"},W.createElement(ex.Tx,{id:"dev_handoff.inspect_panel.show_more_properties"}))):W.createElement(W.Fragment,null,W.createElement(Ep,null),_&&W.createElement(h4.M,null),E&&W.createElement(W.Fragment,null,W.createElement("div",{className:ap.cx.pt4.$},W.createElement(cT,null)),W.createElement("div",{className:q()("inspect_panel--layerPreview--hxLhR",lQ.kr.getIsExtension()&&"inspect_panel--isInExtension--kzn7u")},W.createElement(h3,null)),W.createElement(h4.M,{minimal:!0}),o&&s?W.createElement(Ea,null):W.createElement(Ed,null)),W.createElement(cg,null),W.createElement(Eh.i,null),E&&W.createElement(fL,null),(0,$.Ub)().dt_lego_selection_styles&&W.createElement(fY,null),W.createElement(E1,null)),W.createElement(hg,null)):i?W.createElement(W.Fragment,null,W.createElement(fL,null),(0,$.Ub)().dt_lego_selection_styles&&W.createElement(fY,null),W.createElement(E1,null),W.createElement(hg,null)):W.createElement(W.Fragment,null,c&&W.createElement(_Y,null),s&&W.createElement(uq.sT,null),W.createElement(Ef.c,null),W.createElement(fw,null)),W.createElement("div",null)))))))}var f1=n(623908),f2=n(295088),f5=n(91100),f3=n(584116);function f4({label:e,onClick:t,isAutosave:n,isOpenVersion:a}){let r=ap.cx.flex.pl12.pr16.pt8.pb4.gap20.h32.itemsCenter.if(a,ap.cx.colorBgSelected).if(!n,ap.cx.fontMedium);return W.createElement("div",{className:q()(r.$,"minimal_version_panel--versionRow--NaeEN"),onClick:t,role:"button",tabIndex:0,"data-testid":"dev-handoff-version-row"},W.createElement(f5.c,null),W.createElement("div",{className:ap.cx.ellipsis.noWrap.overflowHidden.$},e))}function f6(){let{activeId:e,versions:t}=(0,Y.w1)(e=>e.versionHistory),n=(0,Y.w1)(e=>{var t;return null==(t=e.openFile)?void 0:t.canEdit}),a=(0,Y.OY)(),r=()=>{tA.CA.triggerAction("deselect-all")},l=e===sD._2,i=l?t[0]:t.find(t=>t.id===e);if(!i)return null;let o=l?(0,ex.t)("collaboration.feedback.current_version"):i.label??(0,f2.U9)(i.touched_at,!0);return W.createElement("div",{className:ap.cx.flex.flexColumn.borderBox.bSolid.bb1.colorBorder.$},W.createElement(ar.ee,{onClose:()=>{a((0,sD.eu)())},addSavepoint:()=>{a((0,ts.A5)({type:f3.qK,data:{}})),r()},isViewOnly:!n}),!l&&W.createElement(W.Fragment,null,W.createElement(f4,{label:(0,ex.t)("collaboration.feedback.current_version"),onClick:()=>{a(f1.eu({id:sD._2})),r()}}),W.createElement("div",{className:"minimal_version_panel--verticalLine--yLBx4"})),W.createElement(f4,{label:o,isAutosave:!l&&!i.label,isOpenVersion:!0}),W.createElement(eT.cH,{className:ap.cx.flex.pt6.pb6.pl16.pr16.itemsCenter.$,onClick:r,trusted:!0},W.createElement(ex.Tx,{id:"dev_handoff.version_history.view_all_versions"})))}let f8=W.memo(function(){let{commentsActive:e,isNodeSelected:t,versionHistoryActive:n}=(0,el.q)(e=>({commentsActive:e.mirror.appModel.currentTool===rk.mq.tool,isNodeSelected:Object.keys(e.mirror.sceneGraphSelection).length>0,versionHistoryActive:e.mirror.appModel.activeCanvasEditModeType===eM.a_v.DEV_HANDOFF_HISTORY})),a=(0,eo.m4)(rN.g),r=(0,s_.eG)();(0,cW.gN)(),rS({doReport:!0});let l=n&&!t,i=a===rN.u.PRIMARY&&!e&&!l;return W.createElement(sm.Sg,{name:"rightPanels",focusOnMount:!0,handleKeyDown:aC.Kw},W.createElement("div",{id:"dev-handoff-inspect-panel"},W.createElement(_3,null,n&&(l?W.createElement(ar.sN,null):W.createElement(f6,null)),e&&W.createElement(lS,null),i&&W.createElement(f0,{lastViewTimestamp:r}),W.createElement(_q,null))))});var f9=n(600680),f7=n(563404);let ve="dev_handoff_index_view_zoom_control--button--1x9ib",vt="dev_handoff_index_view_zoom_control--zoomButton--l1ZDl";var vn=n(702924);function va(){let{Dropdown:e,toggleDropdown:t,dropdownTargetRef:n}=(0,cu.s)("DEV_HANDOFF_INDEX_VIEW_ZOOM_DROPDOWN"),a=(0,f7.mY)("zoom-out"),r=(0,f7.mY)("zoom-in"),l=Math.round(100*(0,eD.s5)((0,f9.W)().activeCanvasCurrentZoom)).toString(),i=[{displayText:(0,ex.t)("dev_handoff.vscode.zoom_control.zoom_options_actual_size"),callback:()=>eM.i46.setCanvasZoomScale(1)},{displayText:(0,ex.t)("dev_handoff.vscode.zoom_control.zoom_options_fit_to_screen"),callback:()=>eM.aWh.setFocusZoomLevel(eM.Oox.FIT_TO_SCREEN)},{displayText:(0,ex.t)("dev_handoff.vscode.zoom_control.zoom_options_fit_to_width"),callback:()=>eM.aWh.setFocusZoomLevel(eM.Oox.FIT_TO_WIDTH)},{displayText:(0,ex.t)("dev_handoff.vscode.zoom_control.zoom_options_fill_screen"),callback:()=>eM.aWh.setFocusZoomLevel(eM.Oox.FILL_SCREEN)}];return W.createElement("div",{className:"dev_handoff_index_view_zoom_control--container--oBEBg",ref:n},W.createElement("div",{className:ve},W.createElement(av.wP,{className:vt,svg:vn.c,onClick:()=>tA.CA.triggerAction("zoom-out",{source:"vscode-zoom-menu"}),disabled:!a,"data-tooltip-type":n1.wL.TEXT,"data-tooltip":(0,ex.t)("dev_handoff.vscode.zoom_control.zoom_out_button")})),W.createElement("button",{className:"dev_handoff_index_view_zoom_control--zoomLevel--uI6yg text--fontPos11--2LvXf text--_fontBase--QdLsd",style:{width:`${Math.max(l.length,4)}em`},onClick:t},l,"% ",W.createElement(eN.A,{svg:mh.c})),W.createElement("div",{className:ve},W.createElement(av.wP,{className:vt,svg:l4.c,onClick:()=>tA.CA.triggerAction("zoom-in",{source:"vscode-zoom-menu"}),disabled:!r,"data-tooltip-type":n1.wL.TEXT,"data-tooltip":(0,ex.t)("dev_handoff.vscode.zoom_control.zoom_in_button")})),W.createElement(e,{items:i,showPoint:!0,displayAboveTarget:!0}))}var vr=n(323135),vl=n(749176);let vi="dev-handoff-breadcrumbs-dropdown",vo="dev-handoff-collapsed-breadcrumb-dropdown";function vs(e){return!!e}function vc(){let e=W.useRef(null),[t,n]=W.useState(null),a=W.useCallback(()=>{var t;n((null==(t=null==e?void 0:e.current)?void 0:t.getBoundingClientRect())||null)},[e]);return W.useEffect(()=>(a(),vr.k.addListener(a),window.addEventListener("resize",a),()=>{vr.k.removeListener(a),window.removeEventListener("resize",a)}),[a]),[e,t,a]}function vd(e,t){if(t.guid===e)return[];let n=t.parentNode;return n?[...vd(e,n),n]:[]}function vm(e){if(e.length<=4)return e;let t=e[0];return[t,e.slice(1,-2),e[e.length-2],e[e.length-1]]}function vu({selectedNode:e,targetRect:t}){let n=(0,Y.OY)(),a=(e=>{let t=e.parentNode;return(null==t?void 0:t.childrenNodes)??[e]})(e).map(t=>{let n=t?function({children:e}){return e.map(e=>({displayText:e.name,onMouseEnter:()=>eL.cX(e.guid),onMouseExit:()=>eL.cX(""),icon:W.createElement(eU.ue,{guid:e.guid,isMenuIcon:!0}),callback:()=>eL.uc([e.guid])})).filter(vs)}({children:t.childrenNodes}):void 0;return t?{displayText:(null==t?void 0:t.name)??"",isChecked:t.guid===e.guid,onMouseEnter:()=>eL.cX(t.guid),onMouseExit:()=>eL.cX(""),icon:W.createElement(eU.ue,{guid:(null==t?void 0:t.guid)??"",isMenuIcon:!0}),callback:()=>eL.uc([t.guid]),children:n&&n.length>0?n:void 0,callbackOnClickWithChildren:!0}:null}).filter(vs);return W.createElement(cC.I,{showPoint:!1,items:a,onSelectItem:e=>{e.callback&&e.callback("",null,n)},parentRect:t,dispatch:n,displayAboveTarget:!0})}function vp({nodeID:e}){let t=(0,Y.OY)(),[n,a,r]=vc(),l=(0,rp.g)(),i=(0,sC.ct)().get(e);if(!i)return null;let o=(null==l?void 0:l.type)===vi,s="INSTANCE"===i.type||"SYMBOL"===i.type;return W.createElement(W.Fragment,null,o&&a&&W.createElement(vu,{selectedNode:i,targetRect:a}),W.createElement("button",{className:"dev_handoff_breadcrumbs--pathElementSelected--w9aeS dev_handoff_breadcrumbs--pathElement--AKgt0",onClick:function(){r(),o||t(lZ.Qn({type:vi,data:{hasOwnEscKeyHandler:!1}}))},ref:n,title:i.name},W.createElement(eU.ue,{guid:i.guid,className:s?"dev_handoff_breadcrumbs--layerIconPurple--Qit6B":"dev_handoff_breadcrumbs--layerIcon--jR8ti"}),i.name))}function v_({nodeID:e}){let t=(0,sC.ct)().get(e);return t?W.createElement("button",{title:t.name,className:"dev_handoff_breadcrumbs--pathElement--AKgt0",onClick:()=>eL.uc([t.guid]),onMouseEnter:()=>eL.cX(t.guid),onMouseLeave:()=>eL.cX("")},t.name):null}function vE({nodeIDs:e}){let t=(0,Y.OY)(),[n,a,r]=vc(),l=(0,rp.g)(),i=(null==l?void 0:l.type)===vo,o=(0,sC.ct)(),s=e.map(o.get).filter(aM.aI),c=s.map(e=>({displayText:e.name,onMouseEnter:()=>eL.cX(e.guid),onMouseExit:()=>eL.cX(""),icon:W.createElement(eU.ue,{guid:e.guid,isMenuIcon:!0}),callback:()=>eL.uc([e.guid])}));return W.createElement(W.Fragment,null,i&&a&&W.createElement(cC.I,{showPoint:!1,items:c,onSelectItem:e=>{e.callback&&e.callback("",null,t)},parentRect:a,dispatch:t,displayAboveTarget:!0}),W.createElement("button",{ref:n,className:"dev_handoff_breadcrumbs--pathElementCollapsed--uY2eU dev_handoff_breadcrumbs--pathElement--AKgt0",onClick:function(){r(),i||t(lZ.Qn({type:vo,data:{hasOwnEscKeyHandler:!1}}))},title:(0,ex.t)("dev_handoff.breadcrumbs.hidden_nodes",{count:s.length})},(0,ex.t)("dev_handoff.breadcrumbs.ellipsis")))}let vg=W.memo(()=>{let{selectedNodeID:e,sceneGraph:t}=(0,el.q)(e=>({selectedNodeID:Object.keys(e.mirror.sceneGraphSelection)[0],sceneGraph:e.mirror.sceneGraph})),n=(0,eD.s5)(eM.KEP.devHandoffState().currentNodeId),a=(0,_d.eM)((e,t,n)=>{let a=e.get(t);return a?vm([...vd(n,a),a]):[]},e,n),r=t.get(e);if(0===a.length||!r)return null;let l=vm([...vd(n,r),r]),i=(0,$.Ub)().scenegraph_hooks_dev_handoff?a:l;return W.createElement("div",{className:"dev_handoff_breadcrumbs--container--BoCAA"},i.map((e,t)=>{let n=t===i.length-1,a=W.createElement(eN.A,{svg:vl.c,className:n?"dev_handoff_breadcrumbs--chevronIconSelected--NrpAP dev_handoff_breadcrumbs--chevronIcon--MAw4y":"dev_handoff_breadcrumbs--chevronIcon--MAw4y",height:"3px",width:"6px"});return Array.isArray(e)?W.createElement(W.Fragment,{key:e.map(e=>e.guid).join("-")},a," ",W.createElement(vE,{nodeIDs:e.map(e=>e.guid)})):n?W.createElement(W.Fragment,{key:e.guid},a," ",W.createElement(vp,{nodeID:e.guid})):W.createElement(W.Fragment,{key:e.guid},a," ",W.createElement(v_,{nodeID:e.guid}))}))});var vh=n(419380),vf=n(52292),vv=n(881912);function vy({isToolbarOpen:e}){let[t,n]=W.useState(!1),a=W.useRef(null),r=W.useRef(null),l=W.useRef(null),[i,o]=W.useState(null),{sceneGraph__DEPRECATED:s}=(0,el.q)(e=>({sceneGraph__DEPRECATED:e.mirror.sceneGraph})),c=(0,eD.s5)(eM.KEP.devHandoffState().currentNodeId),d=(0,eA.wB)(),{inspectableRootNodeId:m,didSelectRow:u}=_A(c,d,s);W.useEffect(()=>n(!1),[d]),(0,vf.U)(r,()=>{t&&n(!1)},!0);let p=W.useCallback(()=>{n(!1)},[n]);return W.createElement("div",{ref:r,className:"frame_picker--container--tkwaQ"},W.createElement("button",{className:"frame_picker--trigger--ZPMqZ",ref:a,onClick:function(){var e;if(t)n(!1);else{let t=null==(e=a.current)?void 0:e.getBoundingClientRect();t&&(o(t),n(!0))}},"data-tooltip":(0,ex.t)("dev_handoff.tag.layers"),"data-tooltip-type":n1.wL.TEXT,"data-tooltip-show-above":!0},W.createElement(eN.A,{svg:vv.c})),i&&W.createElement(l2.Mx,{className:t?void 0:"frame_picker--closedDropdown--ynVzU",targetRect:i,displayAboveTarget:!0,type:l2.aA.MATCH_BACKGROUND,disableDropdownScrollContainer:!0,propagateCloseClick:!0},W.createElement("div",{ref:l,className:q()("frame_picker--frames--vobWI",e&&"frame_picker--isToolbarOpen--i2EBR")},W.createElement(_M,{onRowClick:p,didSelectRow:u,inspectableRootNodeId:m}))))}let vC="inspect_tabs--column--6BLEt",vw="inspect_tabs--settingImage--VEeXo",vb="inspect_tabs--codeContainer--G3I2n",vT="inspect_tabs--codeContent--HOypb",vx="inspect_tabs--codeBoxModelInline--o-8PU",vk="inspect_tabs--codeBoxModelSide--4N2rL";var vN=n(643089);let vS="DEV_HANDOFF_DEV_RESOURCE_DROPDOWN";function vI(e){return W.createElement("div",{className:"inspect_tabs--setting--OTZN3"},W.createElement("div",{className:"inspect_tabs--settingRow--qP9rB"},W.createElement("div",{className:"inspect_tabs--settingLabel--Fr85N"},e.label),W.createElement("button",{className:"inspect_tabs--settingLink--YT0SJ",onClick:e.onClick},W.createElement(ex.Tx,{id:"dev_handoff.inspect_panel.open_setting"}))),W.createElement("div",{className:"inspect_tabs--settingDescription--Fxbgh"},e.description))}function vA(){let e=(0,eA.QH)();return(0,_j.AP)()?W.createElement(_Y,null):e?W.createElement("div",{className:vb},W.createElement("div",{className:vx},W.createElement(h3,null)),W.createElement("div",{className:vT},W.createElement(h4.M,null),W.createElement(Ea,null),W.createElement(cg,null),W.createElement(Eh.i,null),W.createElement(fL,null),(0,$.Ub)().dt_lego_selection_styles&&W.createElement(fY,null)),W.createElement("div",{className:vk},W.createElement(h3,{fillContainer:!0}))):W.createElement(vO,null)}function vO(){return W.createElement("div",{className:"inspect_tabs--codeEmpty--B2DYX"},W.createElement("div",{className:vC},W.createElement("img",{alt:"",className:vw,src:"https://static.figma.com/uploads/90580516d4d39519d44b86a2e591f4e576475013",onDragStart:e=>e.preventDefault()}),W.createElement(vI,{label:(0,ex.t)("dev_handoff.inspect_panel.property_suggestions.title"),description:(0,ex.t)("dev_handoff.inspect_panel.property_suggestions.body"),onClick:cM.mI})),W.createElement("div",{className:vC},W.createElement("img",{alt:"",className:vw,src:"https://static.figma.com/uploads/4b9430b030179277555a6fe2114ceffc0f49ed61",onDragStart:e=>e.preventDefault()}),W.createElement(vI,{label:(0,ex.t)("dev_handoff.inspect_panel.block_suggestions.title"),description:(0,ex.t)("dev_handoff.inspect_panel.block_suggestions.body"),onClick:cM.y})))}function vM(){return W.createElement("div",{className:vb},W.createElement("div",{className:vx},W.createElement(h3,null)),W.createElement("div",{className:vT},W.createElement(h4.M,null),W.createElement(Ed,null),W.createElement(cg,null),W.createElement(Eh.i,null),W.createElement(fL,null),(0,$.Ub)().dt_lego_selection_styles&&W.createElement(fY,null)),W.createElement("div",{className:vk},W.createElement(h3,{fillContainer:!0})))}function vP(){return W.createElement("div",{className:"inspect_tabs--assetsContainer--ETjja"},W.createElement(E1,null),W.createElement(hg,null))}function vL(){return W.createElement("div",{className:"inspect_tabs--componentsContainer--ERYGT"},W.createElement("div",{className:"inspect_tabs--componentsContent--qXnwd"},W.createElement(hs,null)),W.createElement("div",{className:"inspect_tabs--componentsPreview--79zEW"},W.createElement(hu,null)))}function vD({setActiveTabId:e}){let t=(0,Y.OY)(),n=(0,rp.g)(),a=W.useRef(null),[r,l]=(0,eo.lZ)(fy),i=(0,rH.qM)(),o=(0,dz.oD)()??"",s=(0,sC.ct)().get(o),c=document.getElementById("dev-handoff-inspect-panel"),d=(null==n?void 0:n.type)===vS;return W.createElement(W.Fragment,null,W.createElement("div",{ref:a},W.createElement(av.KM,{svg:vN.c,onClick:function(){d?t(lZ.yi()):t(lZ.Qn({type:vS}))},selected:d,"data-tooltip":(0,ex.t)("dev_handoff.add_dev_resource"),"data-tooltip-type":n1.wL.TEXT})),d&&a.current&&c&&(0,cv.createPortal)(W.createElement(cC.I,{items:[{displayText:"Add link to code file...",action:"add_file_link"},{displayText:"Add link to dev resource... ",action:"add_link"}],onSelectItem:t=>{switch(t.action){case"add_file_link":e(rN.u.DEV_RESOURCES),i("Dev Handoff Related Links Click Code File Link",{nodeId:o,nodeType:null==s?void 0:s.type,source:"web"}),(0,cM.VD)();break;case"add_link":e(rN.u.DEV_RESOURCES),l(!0)}},dispatch:t,parentRect:a.current.getBoundingClientRect(),showPoint:!1}),c))}function vR(){let[e,t]=(0,eo.lZ)(rN.g),n=(0,l1.K_)(),a=(0,eA.cC)(),r=(0,dz.So)(),l=(0,eo.m4)(lM.Ed),i=a?[{id:rN.u.ASSETS,title:(0,ex.t)("dev_handoff.assets"),Component:vP,recordingKey:"extensionAssetsTab"}]:[{id:rN.u.PRIMARY,title:(0,ex.t)("inspect_panel.code.code"),Component:vA,recordingKey:"extensionCodeTab"}];return n&&(i.push({id:rN.u.PROPERTIES,title:(0,ex.t)("fullscreen.properties_panel.properties"),Component:vM,recordingKey:"extensionPropertiesTab"}),r&&i.push({id:rN.u.COMPONENT,title:(0,ex.t)("dev_handoff.inspect_panel.component"),Component:vL,recordingKey:"extensionComponentTab"}),i.push({id:rN.u.DEV_RESOURCES,title:(0,ex.t)("dev_handoff.developer_related_links.links"),Component:fw,recordingKey:"extensionRelatedLinksTab"}),i.push({id:rN.u.ASSETS,title:(0,ex.t)("dev_handoff.assets"),Component:vP,recordingKey:"extensionAssetsTab"})),i.push({id:rN.u.PLUGIN,title:(0,ex.t)("dev_handoff.tab.plugins"),Component:_q,recordingKey:"extensionPluginsTab"}),W.useEffect(()=>{i.find(t=>t.id===e)||t(rN.u.PRIMARY)},[e,t,n]),W.createElement(W.Fragment,null,W.createElement("div",{className:"inspect_tabs--tabsBar--nbu1a"},W.createElement(nK.f,{innerClassName:"inspect_tabs--tabs--w8XOI",minContentWidth:100},i.map(n=>W.createElement(lR,{key:n.title,text:n.title,isActive:e===n.id,recordingKey:n.recordingKey,onClick:()=>{t(n.id)}}))),W.createElement("div",{className:"inspect_tabs--rightButtons--HeXhW"},l&&W.createElement(rW.CA,{className:ap.cx.flexShrink0.$,onClick:()=>{(0,lO.qu)()}}),W.createElement(h_,null),W.createElement(vD,{setActiveTabId:t}))),i.map(t=>W.createElement("div",{key:t.title,className:"inspect_tabs--activeTabContainer--LBYjQ",style:{display:e===t.id?void 0:"none"}},W.createElement(t.Component,null))))}let vF="extension_bottom_panel--buttons--itG9x";var vB=n(319196),vU=n(595496);let vK=(0,nF.qe)(n5.e0y),vG=()=>.75*window.innerHeight,vH=(0,nF.qe)(n5.uY4);function vV(){let[e,t]=(0,e_.JL)("extension_bottom_panel_expanded",!0),[n,a]=(0,eo.lZ)(vh._),[r,l]=W.useState(!1),i=(0,eA.QH)(),o=(0,eD.s5)(eM.KEP.devHandoffState().focusMode),s=(0,eD.s5)((0,eP.EB)().devHandoffInspectSplitPosition);W.useEffect(()=>{let t;t=e?n:vK,(0,eP.EB)().devHandoffInspectSplitPosition.set(t)},[e]);let c=W.useCallback(()=>{l(!0)},[]),d=W.useCallback(e=>{if(r){var t;let n=(t=window.innerHeight-e.clientY,Math.max(vK,Math.min(vG(),t||0)));n!==s&&((0,eP.EB)().devHandoffInspectSplitPosition.set(n),a(n))}},[r,s,a]),m=W.useCallback(()=>{l(!1)},[]);return W.useEffect(()=>(document.addEventListener("mousemove",d),document.addEventListener("mouseup",m),()=>{document.removeEventListener("mousemove",d),document.removeEventListener("mouseup",m)})),W.createElement("div",{id:"dev-handoff-inspect-panel",className:q()("vscode","extension_bottom_panel--container--zaRdX",eR.cp,e&&"extension_bottom_panel--isOpen--m5UfA"),style:{height:`${s}px`}},o?W.createElement("div",{className:q()(vF,"extension_bottom_panel--buttonsNewUx--qjtmo")},W.createElement(va,null)):W.createElement("div",{className:q()(vF)},W.createElement(_U,{floating:!1})),W.createElement("div",{className:"extension_bottom_panel--header--ZmzTG"},e&&W.createElement("div",{className:"extension_bottom_panel--edge--cuoAZ",onMouseDown:c,onDoubleClick:()=>{(0,eP.EB)().devHandoffInspectSplitPosition.set(vH+vK),a(vH+vK)},role:"none"}),W.createElement(vy,{isToolbarOpen:e}),i&&W.createElement(W.Fragment,null,W.createElement(vg,null)),W.createElement("div",{className:q()("extension_bottom_panel--headerRightButtons--qVDj-",ap.cx.pt4.$)},W.createElement(cT,null),W.createElement("button",{onClick:function(){t(!e)},style:{width:"32px"}},W.createElement(eN.A,{"data-tooltip-type":n1.wL.TEXT,"data-tooltip-show-above":!0,"data-tooltip":e?(0,ex.t)("dev_handoff.vscode.inspect_panel.hide_inspect_tooltip"):(0,ex.t)("dev_handoff.vscode.inspect_panel.show_inspect_tooltip"),svg:e?vU.c:vB.c,autosize:!0})))),W.createElement("div",{className:"extension_bottom_panel--transitionContainer--5UlLL",style:{maxHeight:`${s-vK}px`}},W.createElement(vR,null)))}var vW=n(997332),vY=n(54688),vj=n(194664);function vX(e){return W.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},W.createElement("path",{stroke:"var(--color-icon)",strokeLinecap:"round",strokeLinejoin:"round",d:"M17 7 7 17M7 7l10 10"}))}var vz=n(13468),vq=n(122084);let vZ="DEV_HANDOFF_FOCUS_VIEW_CHANGE_STATUS_DROPDOWN";function vQ({focusNodeId:e}){let t=(0,Y.OY)(),n=(0,_d.eM)(t=>t.get(e)),a=W.useRef(null),r=(0,rp.g)(),l=(null==r?void 0:r.type)===vZ;return n?W.createElement(W.Fragment,null,W.createElement("button",{className:"focus_left_panel_header--statusButton--X924s text--fontPos11--2LvXf text--_fontBase--QdLsd",ref:a,onClick:function(){l||t(lZ.Qn({type:vZ,data:{hasOwnEscKeyHandler:!1}}))}},n.getStatusInfo().status===eM.s9M.BUILD?W.createElement(W.Fragment,null,W.createElement(eN.A,{className:"focus_left_panel_header--statusButtonRfdIcon--EA4ME",svg:mf.c}),W.createElement(ex.Tx,{id:"dev_handoff.tag.ready_for_development"})):n.getStatusInfo().status===eM.s9M.COMPLETED?W.createElement(W.Fragment,null,W.createElement(eN.A,{className:"focus_left_panel_header--statusButtonCompletedIcon--A-D91",svg:vq.c}),W.createElement(ex.Tx,{id:"dev_handoff.status.completed"})):"-",W.createElement(vY.o,{className:"focus_left_panel_header--statusButtonChevron--UWHMO"})),l&&a.current&&W.createElement(cC.I,{items:[{displayText:(0,ex.t)("dev_handoff.tag.ready_for_development"),isActive:n.getStatusInfo().status===eM.s9M.BUILD,args:{value:eM.s9M.BUILD}},...(0,$.Ub)().dt_write_completed_status?[{displayText:(0,ex.t)("dev_handoff.status.completed"),isActive:n.getStatusInfo().status===eM.s9M.COMPLETED,args:{value:eM.s9M.COMPLETED}}]:[]],onSelectItem:function(t){switch(t.args.value){case eM.s9M.BUILD:lQ.kr.setNodesReady(!0,[e],"focus-view-panel",null);break;case eM.s9M.COMPLETED:lQ.kr.setNodesCompleted([e],"focus-view-panel")}},showPoint:!1,dispatch:t,parentRect:a.current.getBoundingClientRect()})):null}function vJ(){let e=(0,Y.OY)(),t=(0,rm.iK)(),n=(0,_d.eM)((e,t)=>{var n;return null==(n=e.get(t))?void 0:n.name},t),a=(0,Y.w1)(e=>(0,l1.ie)(e.selectedView)?{...e.selectedView,devModeFocusId:void 0,showOverview:!0}:e.selectedView),r=(0,Y.w1)(e=>(0,vz.gv)(e,a)),l=(0,Y.w1)(e=>(0,l1.ie)(e.selectedView)?{...e.selectedView,devModeFocusId:void 0}:e.selectedView),i=(0,Y.w1)(e=>(0,vz.gv)(e,l));return W.createElement("div",{className:"focus_left_panel_header--panel--2iHbS"},W.createElement("div",{className:"focus_left_panel_header--navigation--nj-lW"},W.createElement("a",{className:"focus_left_panel_header--overviewLink--kq2jy",onClick:function(t){t.preventDefault(),e(lZ.Ej(a))},href:r},W.createElement(vj.y,null),W.createElement("span",null,"Overview")),W.createElement("a",{className:"focus_left_panel_header--canvasLink--hd2ig",onClick:function(t){t.preventDefault(),e(lZ.Ej(l))},href:i},W.createElement(vX,null))),n&&W.createElement("div",{className:"focus_left_panel_header--title--b-85- text--fontPos13--xW8hS text--_fontBase--QdLsd"},n),W.createElement(vQ,{focusNodeId:t}))}function v$(){let e=(0,e7.U9)(),t=(0,sC._o)(),n=(0,rq.dh)(),a=(0,Y.w1)(e=>e.mirror.appModel.showUi),r=(0,t1.C2)(),l=(0,Y.w1)(rZ);(0,ut.Wt)(),(0,m7.s)({topLevelMode:tq.s9F.DEV_HANDOFF,eventName:"Dev Handoff Selection Changed"});let i=(0,t$.K0)()??"";return((0,es.Qb)(nm.E3j,{key:i}),(0,es.Qb)(nm.A7D,{key:i}),(0,es.Qb)(nm.QHM,{key:i}),(0,W.useEffect)(()=>{let e=()=>(0,ue.MP)({userID:(null==r?void 0:r.id)??"",openFileKey:i});return e(),e},[e,i,null==r?void 0:r.id]),(0,W.useEffect)(()=>{un.x.enrollUserInStatusChangeXP({fileKey:i})},[i]),t||!a)?null:e?W.createElement(v1,null):W.createElement(tg.kH,{name:"Dev Mode Paywall",properties:{teamId:null==n?void 0:n.id,currentPlan:l}},W.createElement(m9,null))}function v0(){return!function(){let e=(0,rm.iK)(),t=(0,Y.OY)(),n=(0,sC._o)(),a=(0,Y.w1)(e=>e.selectedView.compareChangesVersionId),r=(0,sv.a_)(),l=(0,sv.IV)()??r,i=(0,s_.Mp)(null==l?void 0:l.id),o=(0,sh.e)(l),{versions:s,versionsQueryLoaded:c}=(0,cW.SA)(null==l?void 0:l.id),d=!c||0===s.length||!i,m=(0,Y.w1)(e=>{var t;return(null==(t=e.modalShown)?void 0:t.type)===dG.type}),u=dj((null==l?void 0:l.id)??null,"cc_version_id_url");W.useEffect(()=>{a&&!n&&c&&!m&&(o&&!d?u():dM(void 0,t,!1))},[a,t,n,m,d,o,u,c,e])}(),null}let v1=W.memo(function(){W.useEffect(()=>EU.i,[]);let e=W.useMemo(()=>lQ.kr.getIsExtension(),[]),t=(0,ru.s)(),n=(0,rm.yO)(),a=!!(0,rm.iK)()&&!n;W.useEffect(()=>{(0,cA.Y9)().prepareVmIfNeeded()},[]),(0,vW.c)(1700);let r=(0,vW.A)();return W.createElement(W.Fragment,null,e?W.createElement(vV,null):W.createElement(W.Fragment,null,r&&W.createElement(_U,null),W.createElement("div",{className:"devHandoffLeftPanel"},W.createElement(uV,null),W.createElement(m1.jz,null,t&&W.createElement(uD,null),n?W.createElement(v5,null):a?W.createElement(v3,null):W.createElement(v2,null))),!n&&W.createElement(W.Fragment,null,W.createElement(f8,null),W.createElement(ua.i,null,W.createElement(pX,null)),W.createElement(ua.i,null,W.createElement(u_,null))),W.createElement(v0,null)),W.createElement(mj,null))});function v2(){let e=(0,Y.w1)(e=>e.mirror.appModel.currentPage),t=(0,eD.s5)(tq.KEP.uiState().showCanvasSearch);return W.createElement(W.Fragment,null,t?W.createElement(ry.K8.Provider,{value:!1},W.createElement(rC.Q,{showFilter:!0})):W.createElement(_P,{key:e}))}function v5(){let e=(0,Y.w1)(e=>e.mirror.appModel.currentPage);return W.createElement(_P,{key:e})}function v3(){let e=(0,Y.w1)(e=>e.mirror.appModel.currentPage),t=(0,rm.iK)();return(0,rT.u)(()=>{tq.aWh.selectAndFocusOnNode(t,!1)}),W.createElement(W.Fragment,null,W.createElement(vJ,null),(0,$.Ub)().dt_workflows_activity_log&&W.createElement(p7,null),W.createElement(_P,{key:e}))}var v4=n(58352),v6=n(753268),v8=n(414148),v9=n(766280),v7=n(948544);let ye="overview--overviewBase--8lImP";function yt({nodeId:e}){let t=(0,s_.Mp)(e),n=(0,p$.eA)((null==t?void 0:t.userId)||null),a=W.useMemo(()=>(0,sE.c)(null==t?void 0:t.lastEditedAt).fromNow(),[null==t?void 0:t.lastEditedAt]);return t&&(null==n?void 0:n.user)?W.createElement("div",{className:"overview--editInfo--PHbLh"},W.createElement(v7.iO,{user:n.user,size:16}),W.createElement("span",{className:"overview--editInfoText--R-mMh text--fontPos11--2LvXf text--_fontBase--QdLsd"},n.user.name," edited \xb7 ",a)):null}let yn=(0,nF.qe)(n5.wh),ya=(0,nF.qe)(n5.kX1),yr=e=>1===e?"":"s";function yl(){let e=(0,eP.wq)(),t=(0,eD.s5)(eM.KEP.editorState().nodesWithStatusForFile),n="ui3"===(0,X.qG)().version,{numSections:a,numFrames:r,numPages:l}=W.useMemo(()=>({numSections:t.filter(e=>e.isSection).length,numFrames:t.filter(e=>!e.isSection).length,numPages:new Set(t.map(e=>e.pageId)).size}),[t]),i=(0,rm.$N)(),[o,s]=W.useState(!1),c=W.useCallback(()=>{s(!0)},[]);return((0,rT.u)(()=>{eL.mo()}),W.useEffect(()=>{let e=document.getElementById("fullscreen-root");if(e)return e.style.visibility="hidden",()=>{e.style.visibility="visible"}},[]),!i||o)?W.createElement("div",{className:q()(ye,"overview--overviewSpinner--zv-dq"),style:{left:e,top:n?0:void 0}},W.createElement(l7.M7,{size:"large"})):W.createElement("div",{className:ye,style:{left:e,top:n?0:void 0}},W.createElement("div",{className:"overview--overviewHeaderContainer--BAOL5"},W.createElement("div",{className:"overview--overviewHeader--BBr9p"},W.createElement("div",{className:"overview--overviewHeaderLeft--PJsQ-"},W.createElement("h1",{className:"overview--overviewTitle--gEd5D text--fontPos13--xW8hS text--_fontBase--QdLsd"},"Overview"),W.createElement("span",{className:"overview--overviewTitleInfo--3e2oX text--fontPos11--2LvXf text--_fontBase--QdLsd"},a," section",yr(a),", ",r," frame",yr(r)," across ",l," page",yr(l))),W.createElement("div",null))),W.createElement("div",{className:"overview--overviewNodesContainer--P3anz"},0===t.length&&W.createElement("span",null,"No Ready for Dev or Completed items"),W.createElement("div",{className:"overview--overviewNodesList--ipsOp"},t.map(e=>W.createElement(yi,{key:e.nodeId,overviewNode:e,onPreviewClick:c})))))}function yi({overviewNode:{nodeId:e,pageId:t,isSection:n,status:a,hasBeenEditedSinceLastStatusChange:r},onPreviewClick:l}){let i=(0,_d.eM)((e,t)=>{var n;return null==(n=e.get(t))?void 0:n.name},t),o=(0,_d.eM)(t=>{var n;return null==(n=t.get(e))?void 0:n.name})||"";return W.createElement("div",{className:"overview--overviewNodeCard--NsmYU"},W.createElement("div",{className:"overview--overviewNodeCardHeader--C-KTf"},W.createElement("div",{className:"overview--overviewNodeCardHeaderLeft--jYCXL"},W.createElement("div",{className:"overview--overviewNodeCardHeaderTitles--558Bs"},i&&W.createElement("span",{className:"overview--pageName--TURV8 text--fontPos13--xW8hS text--_fontBase--QdLsd"},i," /"),W.createElement("div",null,n?W.createElement(v8.C,null):W.createElement(v9.e,null)),W.createElement("span",{className:"overview--nodeName--20NeF text--fontPos13--xW8hS text--_fontBase--QdLsd"},o)),W.createElement(yt,{nodeId:e})),W.createElement("div",null,r?W.createElement("span",{className:"overview--edited--4vtQm"},W.createElement(ex.Tx,{id:"dev_handoff.status.edited"})):a===eM.s9M.BUILD?W.createElement("span",{className:"overview--ready--RD-Bu"},W.createElement(ex.Tx,{id:"dev_handoff.status.ready_for_dev"})):a===eM.s9M.COMPLETED?W.createElement("span",{className:"overview--completed--TrenS"},W.createElement(ex.Tx,{id:"dev_handoff.status.completed"})):null)),W.createElement(yo,{nodeId:e,pageId:t,onPreviewClick:l}))}function yo({nodeId:e,pageId:t,onPreviewClick:n}){let a=(0,Y.OY)(),r=(0,el.q)(t=>"fullscreen"===t.selectedView.view?{...t.selectedView,editorType:"dev_handoff",showOverview:!1,devModeFocusId:e}:t.selectedView),l=(0,Y.w1)(e=>(0,vz.gv)(e,r)),i=function(e){let t=(0,_d.eM)(t=>{var n;return null==(n=t.get(e))?void 0:n.backgroundColor});return t?_o.Q.format(t):"var(--color-bg)"}(t),o=(0,s_.Mp)(e),s=_c({nodeId:e,width:2*yn,height:2*ya,shouldSkip:!1,version:o?o.lastEditedAt:""});async function c(t){t.preventDefault(),n(),await sL.TSSceneGraph.instance.setCurrentPageFromNodeAsync(e),eM.aWh.selectAndFocusOnNode(e,!1),a(lZ.Ej(r))}return s?W.createElement("a",{onClick:c,href:l,style:{background:i}},W.createElement("div",{className:"overview--previewThumbnail--zofC5"},W.createElement("img",{src:s.src,alt:(0,ex.t)("dev_handoff.nodes_panel.thumbnail_alt_text")}))):null}var ys=n(72864),yc=n(322864),yd=n(57148);let ym=(0,nF.qe)(n5.Ifd),yu=(0,nF.qe)(n5.QDY);var yp=n(315500),y_=n(212076),yE=n(627652),yg=n(795368),yh=n(675695),yf=n(92072),yv=n(841988),yy=n(809712),yC=n(967228),yw=n(462144),yb=n(752640),yT=n(383824);function yx({initialPosition:e,initialVariableValue:t,initialView:n,inheritStyleKeyField:a,initialStyleCreationPaint:r,resolvedType:l,recordingKey:i,onCreateStyleSubmit:o,onCreateVariableSubmit:s,onClose:c}){let{currentViewState:d,setCurrentViewState:m}=function({initialView:e}){let[t,n]=(0,W.useState)(function({initialView:e}){let t=["create_variable","create_style"];return e&&t.includes(e)?e:t[0]}({initialView:e}));return{currentViewState:t,setCurrentViewState:n}}({initialView:n});return W.createElement(n2.G0,{title:W.createElement(yk,{currentViewState:d,onChange:m,recordingKey:lI.Mx(i,"viewTabs")}),initialPosition:e,initialWidth:yy.K0,onClose:c},function(){switch(d){case"create_variable":return W.createElement(yy.Ck,{resolvedType:l,initialValue:t,recordingKey:lI.Mx(i,"createVariableForm"),onSubmit:s});case"create_style":return W.createElement(yN,{inheritStyleKeyField:a,initialStyleCreationPaint:r,recordingKey:"createStyleModal",onSubmit:o})}}())}function yk({currentViewState:e,recordingKey:t,onChange:n}){return W.createElement(rA.g9,{className:yT.EH,recordingKey:t},W.createElement(yv.sO,{isOnlyTab:!1,label:(0,ex.t)("design_systems.create_style.style"),isActive:"create_style"===e,onClick:()=>n("create_style"),recordingKey:lI.Mx(t,"createStyle")}),W.createElement(yv.sO,{isOnlyTab:!1,label:(0,ex.t)("variables.create_modal.title"),isActive:"create_variable"===e,onClick:()=>n("create_variable"),recordingKey:lI.Mx(t,"createVariable")}))}function yN({inheritStyleKeyField:e,initialStyleCreationPaint:t,recordingKey:n,onSubmit:a}){let r=(0,Y.w1)(e=>e.mirror.selectedStyleProperties),l=(0,Y.w1)(e=>e.mirror.sceneGraphSelection),i=W.useRef(Object.keys(l).length>0),o=(0,EE.i6)(e),{styleRef:s,createStyle:c}=(0,yw.$)({inheritStyleKeyField:e,initialStyleCreationPaint:t,isCreatingFromSelection:i.current,trackingOptions:{styleType:o}}),d=lI.Un(n,"submit",()=>{c(),a(s)});return r.styleType?W.createElement(W.Fragment,null,W.createElement(yf.Oi.Provider,{value:yf.yS.CREATE_VARIABLE_STYLE},W.createElement(yb.C,{type:r.styleType,recordingKey:n,isInspectPanel:!1,selectedStyleProperties:r,showProperties:!0,onEnterPressed:d}),W.createElement(aE.g,{horizontalAlignItems:"end",verticalAlignItems:"center",padding:16},W.createElement(m2.gV,{style:{justifySelf:"right"},onClick:d,disabled:!s},W.createElement(ex.Tx,{id:"design_systems.create_style.create_style"}))))):null}var yS=n(418764);function yI(){let e=(0,id._Y)();return W.useEffect(()=>{e&&(e._keyboard_will_show_with_height=e=>{eM.i46.keyboardWillShowWithHeight(e)},window.FigmaAppObj?(window.FigmaAppObj.keyboardWillShow=()=>{eM.i46.keyboardWillShow()},window.FigmaAppObj.keyboardWillShowWithHeight=e=>{eM.i46.keyboardWillShowWithHeight(e)}):window.FigmaAppObj={keyboardWillShow:()=>{eM.i46.keyboardWillShow()},keyboardWillShowWithHeight:e=>{eM.i46.keyboardWillShowWithHeight(e)}})},[e]),null}var yA=n(395168),yO=n(988800),yM=n(912824),yP=n(4256),yL=n(94896),yD=n(241024),yR=n(955884),yF=n(125524);function yB(e){return W.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},W.createElement("mask",{id:"fpl-icon-24-settings-small-a",fill:"#fff"},W.createElement("path",{fillRule:"evenodd",d:"M11.254 5a1 1 0 0 0-.961.725L9.96 6.891a5.494 5.494 0 0 0-1.363.788L7.42 7.384a1 1 0 0 0-1.11.47l-.745 1.292a1 1 0 0 0 .147 1.195l.844.872a5.547 5.547 0 0 0 0 1.574l-.844.872a1 1 0 0 0-.147 1.195l.746 1.292a1 1 0 0 0 1.109.47l1.177-.295c.41.324.87.59 1.363.788l.333 1.166a1 1 0 0 0 .961.725h1.492a1 1 0 0 0 .961-.725l.333-1.166a5.495 5.495 0 0 0 1.363-.788l1.177.295a1 1 0 0 0 1.11-.47l.745-1.292a1 1 0 0 0-.147-1.195l-.844-.872a5.55 5.55 0 0 0 0-1.574l.844-.872a1 1 0 0 0 .147-1.195l-.746-1.292a1 1 0 0 0-1.108-.47l-1.178.295c-.41-.324-.87-.59-1.363-.788l-.333-1.166A1 1 0 0 0 12.746 5h-1.492Z",clipRule:"evenodd"})),W.createElement("path",{fill:"var(--color-icon)",d:"m10.293 5.725.961.275-.961-.275ZM9.96 6.891l.37.928a1 1 0 0 0 .591-.653L9.96 6.89Zm-1.363.788-.243.97a1 1 0 0 0 .862-.185l-.62-.785ZM7.42 7.384l-.243.97.243-.97Zm-1.11.47.867.5-.866-.5Zm-.745 1.292.866.5-.866-.5Zm.147 1.195.719-.695-.719.695Zm.844.872.99.142a1 1 0 0 0-.271-.837l-.72.695Zm0 1.574.719.695a1 1 0 0 0 .27-.837l-.99.142Zm-.844.872.719.695-.719-.695Zm-.147 1.195-.866.5.866-.5Zm.746 1.292-.866.5.866-.5Zm1.109.47-.243-.97.243.97Zm1.177-.295.62-.785a1 1 0 0 0-.863-.185l.243.97Zm1.363.788.961-.275a1 1 0 0 0-.59-.653l-.371.928Zm.333 1.166.961-.275-.961.275Zm3.414 0L12.746 18l.961.275Zm.333-1.166-.37-.928a1 1 0 0 0-.591.653l.961.275Zm1.363-.788.243-.97a1 1 0 0 0-.862.185l.619.785Zm1.177.295-.242.97.242-.97Zm1.11-.47.865.5-.866-.5Zm.745-1.292-.866-.5.866.5Zm-.147-1.195.718-.695-.718.695Zm-.844-.872-.99-.142a1 1 0 0 0 .271.837l.72-.695Zm0-1.574-.719-.695a1 1 0 0 0-.27.837l.99-.142Zm.844-.872-.719-.695.719.695Zm.147-1.195.866-.5-.866.5Zm-.746-1.292-.866.5.866-.5Zm-1.108-.47-.243-.97.242.97Zm-1.178.295-.62.785a1 1 0 0 0 .863.185l-.243-.97ZM14.04 6.89l-.961.275a1 1 0 0 0 .59.653l.371-.928Zm-.333-1.166L12.746 6l.961-.275ZM11.254 6V4a2 2 0 0 0-1.923 1.45l1.923.55Zm-.333 1.166L11.254 6l-1.923-.55-.333 1.166 1.923.55ZM9.216 8.464a4.494 4.494 0 0 1 1.115-.645l-.742-1.857a6.494 6.494 0 0 0-1.611.932l1.238 1.57Zm-2.04-.11 1.178.295.486-1.94-1.178-.295-.485 1.94Zm0 0 .486-1.94a2 2 0 0 0-2.217.94l1.732 1Zm-.745 1.292.746-1.292-1.732-1-.746 1.292 1.732 1Zm0 0-1.732-1a2 2 0 0 0 .295 2.39l1.437-1.39Zm.844.872-.844-.872-1.437 1.39.843.872 1.438-1.39ZM7.5 12c0-.22.016-.435.046-.645l-1.98-.284A6.548 6.548 0 0 0 5.5 12h2Zm.046.645A4.548 4.548 0 0 1 7.5 12h-2c0 .315.022.625.066.929l1.98-.284Zm-1.115 1.71.844-.873-1.438-1.39-.843.871 1.437 1.391Zm0 0-1.437-1.392a2 2 0 0 0-.295 2.391l1.732-1Zm.746 1.29-.746-1.29-1.732 1 .746 1.29 1.732-1Zm0 0-1.732 1a2 2 0 0 0 2.217.94l-.485-1.94Zm1.177-.294-1.177.295.485 1.94 1.178-.295-.486-1.94Zm1.977.83a4.497 4.497 0 0 1-1.115-.645l-1.238 1.57a6.494 6.494 0 0 0 1.61.932l.743-1.857ZM11.254 18l-.333-1.166-1.923.55.333 1.165L11.254 18Zm0 0-1.923.55A2 2 0 0 0 11.254 20v-2Zm1.492 0h-1.492v2h1.492v-2Zm0 0v2a2 2 0 0 0 1.923-1.45L12.746 18Zm.333-1.166L12.746 18l1.923.55.333-1.166-1.923-.55Zm1.705-1.298a4.493 4.493 0 0 1-1.115.645l.742 1.857a6.495 6.495 0 0 0 1.611-.932l-1.238-1.57Zm2.04.11-1.178-.295-.486 1.94 1.178.295.485-1.94Zm0 0-.486 1.94a2 2 0 0 0 2.217-.94l-1.732-1Zm.745-1.292-.746 1.292 1.732 1 .746-1.292-1.732-1Zm0 0 1.732 1a2 2 0 0 0-.295-2.39l-1.437 1.39Zm-.844-.872.844.872 1.437-1.39-.843-.872-1.438 1.39ZM16.5 12c0 .22-.016.435-.046.645l1.98.284c.043-.304.066-.614.066-.929h-2Zm-.046-.645c.03.21.046.425.046.645h2c0-.315-.023-.625-.066-.929l-1.98.284Zm1.115-1.71-.844.873 1.438 1.39.843-.871-1.437-1.391Zm0 0 1.437 1.392a2 2 0 0 0 .295-2.391l-1.732 1Zm-.746-1.29.746 1.29 1.732-1-.746-1.29-1.732 1Zm0 0 1.732-1a2 2 0 0 0-2.217-.94l.485 1.94Zm-1.177.294 1.177-.295-.485-1.94-1.178.295.486 1.94Zm-1.977-.83c.403.162.778.38 1.115.645l1.238-1.57a6.495 6.495 0 0 0-1.61-.932l-.743 1.857ZM12.746 6l.333 1.166 1.923-.55-.333-1.165L12.746 6Zm0 0 1.923-.55A2 2 0 0 0 12.746 4v2Zm-1.492 0h1.492V4h-1.492v2Z",mask:"url(#fpl-icon-24-settings-small-a)"}),W.createElement("path",{stroke:"var(--color-icon)",strokeLinejoin:"round",d:"M14.5 12a2.5 2.5 0 1 1-5 0 2.5 2.5 0 0 1 5 0Z"}))}var yU=n(93736),yK=n(538076),yG=n(530152),yH=n(861216),yV=n(290261);let yW="captions_dialog--showGradient--ZAHRk";var yY=n(570109),yj=n(751780);let yX="DROPDOWN_TYPE_CAPTIONS_DIALOG_TYPE_SIZE";function yz({caption:e,user:t}){let n=e.userId+"_"+e.timestamp;return W.createElement("div",{className:"captions_dialog--captionRow--pgS-N",key:n},W.createElement("div",null,W.createElement(ou.UP,{className:"captions_dialog--avatar--ISexR",entity:{...t,id:e.userId},size:24}),W.createElement("div",{className:"captions_dialog--name--SmWv6"},t?t.name:e.userId)),e.text.map((e,t)=>W.createElement("div",{className:"captions_dialog--paragraph--SjDQd",key:n+"_"+t},e.map((e,a)=>W.createElement("div",{className:"captions_dialog--sentence--SJkHn",key:n+"_"+t+"_"+a},`${e} `)))))}let yq=()=>({small:{style:"captions_dialog--smallText--aUeBx",label:(0,ex.t)("collaboration.voice.small")},medium:{style:"captions_dialog--mediumText--ODxEN",label:(0,ex.t)("collaboration.voice.medium")},large:{style:"captions_dialog--largeText---t1d2",label:(0,ex.t)("collaboration.voice.large")},x_large:{style:"captions_dialog--xlargeText--C60DA",label:(0,ex.t)("collaboration.voice.x_large")}}),yZ=Date.now();function yQ({call:e}){var t;let n=yq(),[a,r]=W.useState([]),[l,i]=W.useState(n.small.style),[o,s]=W.useState(!1),[c,d]=W.useState(!1),[m,u]=W.useState(!1),p=(0,Y.w1)(e=>{if(!e.openFile)throw Error("Open file required");return e.openFile}),_=(0,Y.w1)(e=>e.voice.activeCall[p.key]),E=(0,Y.OY)(),[g,h]=W.useState(null),f=(0,rp.g)(),v=W.useRef(null),y=!!(f&&f.type===yX),C=a.reduce((e,t)=>e.add(t.userId),new Set),w=(0,yG.yk)(C,p.key).reduce((e,t)=>(e[t.userID]=t,e),{});W.useEffect(()=>{let t=e=>{e&&r(e)};return e.audioCaptionStream.subscribe(t),()=>e.audioCaptionStream.unsubscribe(t)}),W.useEffect(()=>{g&&g.scrollHeight-g.scrollTop-g.clientHeight<150&&yZ<Date.now()-150&&g.scrollTo({top:g.scrollHeight-g.clientHeight,behavior:"smooth"})}),W.useEffect(()=>{g&&!m&&(g.scrollTop=g.scrollHeight-g.clientHeight)},[g,m]);let b=!m&&_;return W.createElement("div",{className:["captions_dialog--captionsDialog--gOIvh",l].join(" ")},W.createElement("div",{className:["captions_dialog--topDivider--BlM0x captions_dialog--_divider--m8Skg",o?yW:""].join(" ")}),b&&W.createElement("div",{className:"captions_dialog--scrollContainer--WuVOJ",ref:e=>h(e),onScroll:e=>{g&&(d(0!=g.scrollHeight-g.scrollTop-g.clientHeight),s(0!==g.scrollTop))},onWheel:e=>{e.deltaY<0&&(yZ=Date.now())}},W.createElement("div",{className:"captions_dialog--scrollContainerInner--db2cV"},a.map(e=>W.createElement(yz,{key:e.timestamp,caption:e,user:w[e.userId]})))),b&&W.createElement("div",{className:["captions_dialog--bottomDivider--WBbo5 captions_dialog--_divider--m8Skg",c?yW:""].join(" ")}),b&&W.createElement("button",{onClick:()=>g.scrollTo({top:g.scrollHeight-g.clientHeight,behavior:"smooth"}),className:`captions_dialog--scrollToBottomButton--SeU-4 ${c?"captions_dialog--show--LLYog":""}`},W.createElement(ex.Tx,{id:"collaboration.voice.new_transcripts"})),W.createElement("div",{className:"captions_dialog--header--SA3Wv",onClick:()=>u(!m)},W.createElement(eN.A,{className:b?"captions_dialog--closedCaptionsIconMaximized--N-lwT":"captions_dialog--closedCaptionsIconMinimized--Ou0WE",svg:yY.c}),W.createElement("span",{className:"captions_dialog--label---1DXk"},W.createElement(ex.Tx,{id:"collaboration.voice.closed_captions"})),W.createElement(au.kt,{text:(0,ex.t)("collaboration.voice.beta"),className:"captions_dialog--betaTag--qFyxq",color:au.Eo.BRAND}),W.createElement(av.wP,{svg:yj.c,ref:v,className:"captions_dialog--typeSizeIcon--Xhxj-",onClick:e=>{e.stopPropagation(),E(dX.iC({type:yX}))},"data-tooltip-type":n1.wL.TEXT,"data-tooltip":(0,ex.t)("collaboration.voice.text_size")}),v.current&&y&&W.createElement(cC.I,{displayOverTarget:!0,dispatch:E,items:Object.keys(n).map(e=>({name:e,displayText:n[e].label,className:[n[e].style,"captions_dialog--dropdownTextOptions--ma0Ue"].join(" "),isChecked:n[e].style===l})),showPoint:!0,parentRect:null==(t=v.current)?void 0:t.getBoundingClientRect(),onSelectItem:e=>{e.name&&i(n[e.name].style)},minWidth:96}),W.createElement("div",{style:{clear:"both"}})))}var yJ=n(605896),y$=n(329956);let y0="voice_widget--icon--wW-wb",y1="voice_widget--iconContainer--CuKNM",y2="voice_widget--muteButtonPosition--J282V";var y5=n(324847);let y3=[yR.YL.WARNING_RECV_AUDIO_DECODE_FAILED,yR.YL.WARNING_SEND_AUDIO_BITRATE_TOO_LOW,yR.YL.WARNING_AUDIO_OUTPUT_LEVEL_TOO_LOW,yR.YL.WARNING_AUDIO_INPUT_LEVEL_TOO_LOW];function y4(e){let t;if((0,y$.t7)(e.activeWarnings))return null;for(let n of y3)if(e.activeWarnings[n]){t=e.activeWarnings[n];break}return t?W.createElement("div",{className:e.className,"data-tooltip-type":n1.wL.TEXT,"data-tooltip":t,"data-tooltip-show-below":!0,"data-tooltip-timeout-delay":50},W.createElement(eN.A,{className:y0,svg:y5.c})):null}function y6(e){switch(e){case yR.YL.WARNING_AUDIO_INPUT_LEVEL_TOO_LOW:return"Mic volume low. Consider switching devices.";case yR.YL.WARNING_AUDIO_OUTPUT_LEVEL_TOO_LOW:return"Speaker or headphone volume low. Consider switching devices.";case yR.YL.WARNING_SEND_AUDIO_BITRATE_TOO_LOW:case yR.YL.WARNING_RECV_AUDIO_DECODE_FAILED:return"Connection is poor. Check your internet or leave and rejoin the conversation.";default:return null}}function y8(e){let{callEvent:t,onClick:n,notificationUserId:a}=e.notification,[r,l]=W.useState(null),[i,o]=W.useState(!1),s=W.useRef(),c=W.useRef(t),[d,m]=W.useState(),u=(0,Y.w1)(e=>e.multiplayer.allUsers),p=(0,Y.w1)(e=>e.voice.voiceUsersById),_=W.useMemo(()=>{if(a){if(a in p)return p[a].name;let e=u.find(e=>e.userID===a);if(e)return e.name}return"User"},[a,p,u]),E=null==d?void 0:d.href,g=W.useMemo(()=>E?"a":"div",[E]);if(W.useEffect(()=>()=>{(null==s?void 0:s.current)&&clearTimeout(s.current)},[]),W.useEffect(()=>{let e=()=>{o(!1),l(null)};d?(o(!0),l(null),d.persist||l(setTimeout(()=>{e()},2e3))):e()},[d]),W.useEffect(()=>()=>{r&&clearTimeout(r)},[r]),W.useEffect(()=>{switch(c.current=t,t){case yR.YL.CONNECTED:m({msg:(0,ex.t)("collaboration.voice.connected"),type:yR.D.SUCCESS});break;case yR.YL.CONNECTED_WITH_MIC_DISABLED:m({msg:(0,ex.t)("collaboration.voice.connected_check_your_microphone_permissions_to_start_chatting"),allowMultiLine:!0,type:yR.D.SUCCESS});break;case yR.YL.CONNECTING:m({msg:(0,ex.t)("collaboration.voice.connecting"),type:yR.D.PENDING,persist:!0});break;case yR.YL.ERROR:m({msg:(0,ex.t)("collaboration.voice.something_went_wrong_try_again"),type:yR.D.ERROR,persist:!0});break;case yR.YL.CALL_INACTIVE:m({msg:(0,ex.t)("collaboration.voice.things_got_quiet_for_awhile_so_we_ended_the_conversation"),type:yR.D.PENDING,persist:!1,allowMultiLine:!0});break;case yR.YL.TOKEN_WILL_EXPIRE:m({msg:(0,ex.t)("collaboration.voice.it_s_been_quiet_for_a_while_so_we_ll_end_the_conversation_in_20_seconds_n_click_to_stay_on"),type:yR.D.MESSAGE,persist:!0,onClick:n,allowMultiLine:!0});break;case yR.YL.TOKEN_EXPIRED:m({msg:(0,ex.t)("collaboration.voice.audio_has_timed_out_click_to_rejoin"),type:yR.D.ERROR,persist:!0,onClick:n});break;case yR.YL.USER_JOINED:m({truncatedPrefix:_,msg:(0,ex.t)("collaboration.voice.joined"),type:yR.D.MESSAGE});break;case yR.YL.USER_LEFT:m({truncatedPrefix:_,msg:(0,ex.t)("collaboration.voice.left"),type:yR.D.MESSAGE});break;case yR.YL.ERROR_MICROPHONE_PERMISSIONS_DENIED:let e=(0,ex.t)("collaboration.voice.enable_mic_access_in_your_browser_to_join");tW.sZ&&(e=(0,ex.t)("collaboration.voice.enable_mic_access_for_the_figma_app_to_join")),m({msg:e,type:yR.D.ERROR,href:yL.Ih.TROUBLESHOOT});break;case yR.YL.WARNING_MICROPHONE_LEVELS_HIGH_AND_MUTED:m({msg:(0,ex.t)("collaboration.voice.want_to_unmute_click_the_mic"),type:yR.D.PENDING});break;case yR.YL.ERROR_ON_LEAVE:m({msg:(0,ex.t)("collaboration.voice.couldn_t_leave_please_try_again"),type:yR.D.ERROR});break;case yR.YL.SYSTEM_INCOMPATIBLE:m({msg:(0,ex.t)("collaboration.voice.figma_audio_won_t_work_on_your_device_learn_why"),type:yR.D.ERROR,persist:!0,allowMultiLine:!0,href:yL.Ih.TROUBLESHOOT});break;case yR.YL.DISCONNECTING:case yR.YL.RECONNECTING:s.current=setTimeout(()=>{c.current===yR.YL.RECONNECTING&&(m({msg:(0,ex.t)("collaboration.voice.attempting_to_reconnect"),type:yR.D.PENDING,persist:!0}),s.current=void 0)},1500);break;case yR.YL.WARNING_AUDIO_INPUT_LEVEL_TOO_LOW:case yR.YL.WARNING_AUDIO_OUTPUT_LEVEL_TOO_LOW:case yR.YL.WARNING_SEND_AUDIO_BITRATE_TOO_LOW:case yR.YL.WARNING_RECV_AUDIO_DECODE_FAILED:let a=y6(t);if(!a)break;m({msg:a,type:yR.D.WARNING,allowMultiLine:!0})}},[t]),void 0===t)return W.createElement(W.Fragment,null);let h=["expanded"===e.widgetState?"voice_flash_notifications--flashExpandedList--NkNnw voice_flash_notifications--flash--8i3SH":"voice_flash_notifications--flash--8i3SH",i?function(){switch(null==d?void 0:d.type){case yR.D.ERROR:return"voice_flash_notifications--flashError--6fLPW";case yR.D.WARNING:return"voice_flash_notifications--flashWarning--tdCit";case yR.D.MESSAGE:return"voice_flash_notifications--flashMessage--lt-k-";case yR.D.SUCCESS:return"voice_flash_notifications--flashSuccess--hmpUM";case yR.D.PENDING:default:return"voice_flash_notifications--flashPending--Hzt7W"}}():"voice_flash_notifications--flashHidden--uYI96"];return W.createElement(s$.I7,{onClick:null==d?void 0:d.onClick,className:h.join(" ")},W.createElement(g,{className:(null==d?void 0:d.allowMultiLine)?"voice_flash_notifications--flashNotificationMessageWrap--eXghM voice_flash_notifications--flashNotificationMessageBase--wxFPN":"voice_flash_notifications--flashNotificationMessageEllipsis--eBEYX voice_flash_notifications--flashNotificationMessageBase--wxFPN ellipsis--ellipsis--Tjyfa",target:"_blank",rel:"noopener",href:null==d?void 0:d.href},(null==d?void 0:d.truncatedPrefix)&&W.createElement("span",{className:"voice_flash_notifications--truncatedPrefix---gMQI ellipsis--ellipsis--Tjyfa"},null==d?void 0:d.truncatedPrefix),null==d?void 0:d.msg))}var y9=n(582044),y7=n(363892),Ce=n(771756);let Ct="active_speakers_row--name--LtwVz ellipsis--ellipsis--Tjyfa",Cn="active_speakers_row--pos1--88uza active_speakers_row--pos--D59NJ",Ca="active_speakers_row--fadeOut--2tZhG",Cr="active_speakers_row--willFadeIn--fFCX6",Cl="active_speakers_row--activeSpeakerRowAvatar--zKOXb",Ci=(e,t)=>e.userID===t.userID,Co=(e,t)=>{let n=e.sort((e,t)=>e.userID>t.userID?-1:1).map(e=>e.userID),a=t.sort((e,t)=>e.userID>t.userID?-1:1).map(e=>e.userID);if(n.length!==a.length)return!0;for(let e=0;e<n.length;e++)if(n[e]!==a[e])return!0;return!1},Cs=(e,t)=>{let n=t.filter(t=>!e.find(e=>Ci(e,t))),a=e.filter(e=>!t.find(t=>Ci(e,t))),r=e.map(e=>a.indexOf(e)>-1?e:void 0),l=e.map(e=>-1===a.indexOf(e)?e:n.shift()).filter(e=>!!e);return n.length>0&&l.push(...n),t.length>1&&1===e.length&&(r[1]=e[0]),{fadeOut:r,active:l}},Cc=(0,Y.Ul)((e,t)=>({...t,observingSessionID:e.multiplayer.observingSessionID,presenterSessionID:e.multiplayer.presenterSessionID??null}))(function({user:e,classNames:t,observingSessionID:n,presenterSessionID:a,call:r}){let l;let i=(Array.isArray(t)?[...t,Cl]:[t,Cl]).join(" "),o=(0,yL.$O)(),s=W.createElement(ou.UP,{entity:{...e,id:e.userID},className:"active_speakers_row--activeSpeakerRowAvatarWithoutMultiplayer--W-S0A",size:24,key:e.userID}),c=e=>{e.stopPropagation()};return"sessionID"in e&&(l=`active-speaker-row-voice-avatar-session-${e.sessionID}`,s=W.createElement(y7.Ko,{sessionID:null==e?void 0:e.sessionID,observingSessionID:n,presenterSessionID:a??null,nominatedSessionID:null,user:e,showColorIndicators:!0,tooltipProxyId:l}),c=t=>{t.stopPropagation(),t.preventDefault(),o(e)}),W.createElement("div",{className:i},W.createElement("div",{className:"active_speakers_row--avatarObserveClickTarget--T1JH- voice_toolbar--avatarObserveClickTarget--QALFw",onClick:c,"data-tooltip-proxy-element-id":l}),s,W.createElement(Ce.E,{userId:e.userID,microphoneStyle:yR.G8.FULL,call:r,volumeIconMutedState:Ce.S.MINI,className:"active_speakers_row--voiceIndicatorPositioning--YqGFz"}))});function Cd({user:e,classNames:t}){return W.createElement("div",{className:Ct+" "+(Array.isArray(t)?t.join(" "):t)},e.name)}let Cm=["active_speakers_row--pos0--Dc1bB active_speakers_row--pos--D59NJ",Cn,"active_speakers_row--pos2--b5pkb active_speakers_row--pos--D59NJ","active_speakers_row--pos3--EAAkN active_speakers_row--pos--D59NJ","active_speakers_row--pos4--R5-5y active_speakers_row--pos--D59NJ","active_speakers_row--pos5--FYPvT active_speakers_row--pos--D59NJ","active_speakers_row--pos6--PTsn8 active_speakers_row--pos--D59NJ","active_speakers_row--pos7--DjtPj active_speakers_row--pos--D59NJ"];class Cu extends W.Component{constructor(e){super(e),this.displayString="ActiveSpeakersRow",this.node=null,this.state={active:[],fadeOut:[]}}componentWillMount(){this.setState(Cs(this.state.active,this.props.users))}shouldComponentUpdate(e,t){return e===this.props||(Co(this.props.users,e.users)&&this.setState(Cs(this.state.active,e.users)),!1)}render(){let e=(e,t)=>`${e.name}-${t}`,t=[],n=yD.e.getInstance();if(!n)return null;if(1===this.state.fadeOut.length&&this.state.fadeOut[0]){let a=this.state.fadeOut[0];t.push(W.createElement(Cc,{call:n,key:e(a,"avatar"),user:a,classNames:[Cm[0],Ca]}),W.createElement(Cd,{key:e(a,"name"),user:a,classNames:[Cn,Ca,Ct]}))}else if(2===this.state.fadeOut.length&&!this.state.fadeOut[0]&&this.state.fadeOut[1]){let n=this.state.fadeOut[1];t.push(W.createElement(Cd,{key:e(n,"name"),user:n,classNames:[Cn,Ca,Ct]}))}else t.push.apply(t,this.state.fadeOut.map((t,a)=>t&&W.createElement(Cc,{call:n,key:e(t,"avatar"),user:t,classNames:[Cm[a],Ca]})));if(1===this.state.active.length){let a=this.state.active[0];t.push(W.createElement(Cc,{call:n,key:e(a,"avatar"),user:a,classNames:[Cm[0],Cr]}),W.createElement(Cd,{key:e(a,"name"),user:a,classNames:[Cn,Cr,Ct]}))}else t.push.apply(t,this.state.active.map((t,a)=>W.createElement(Cc,{call:n,key:e(t,"avatar"),user:t,classNames:[Cm[a],Cr]})));return t.sort((e,t)=>null===e.key||null===t.key?0:e.key>t.key?-1:1),setTimeout(()=>{var e;null==(e=this.node)||e.querySelectorAll("."+Cr).forEach(e=>e.classList.remove(Cr))},10),W.createElement("div",{ref:e=>this.node=e,className:"active_speakers_row--activeSpeakerRow--l5ylB"},t)}}function Cp(e){let{call:t,usersInCall:n}=e,a=(0,t1.C2)(),r=(0,yH.uA)(t),l=W.useMemo(()=>{var e;return(null==(e=null==r?void 0:r.filter(e=>e!==(null==a?void 0:a.id)))?void 0:e.slice(0,6).reduce((e,t)=>{let a=n.find(({userID:e})=>e===t);return a?e.concat([a]):e},[]))||[]},[r,n,a]);return W.createElement(Cu,{users:l})}var C_=n(193288);function CE(e){let{children:t,headerText:n,collapsedContent:a,theme:r,onToggle:l,collapseStateOverride:i}=e,[o,s]=W.useState(!1),c=i||o;return W.createElement("span",{"data-editor-theme":r},W.createElement(s$.WA,{className:c?"voice_collapsible_dropdown--isCollapsed--SwBvz":""},W.createElement("span",{className:"voice_collapsible_dropdown--dropdownSectionTitle--lpt22",onClick:t=>{t.preventDefault(),t.stopPropagation(),l&&!0!==e.hideToggleOption&&l(!c),s(!c)}},c?a:n,!e.hideToggleOption&&W.createElement(eN.A,{svg:c?mh.c:C_.c,className:"voice_collapsible_dropdown--voiceDropdownChevronIcon--JgQxE"}))),!c&&t&&W.createElement(W.Fragment,null,t))}var Cg=n(627820);let Ch=(0,Y.Ul)(e=>({showWidgetParticipantList:e.voice.showWidgetParticipantList}))(function(e){let{showWidgetParticipantList:t}=e,n=(0,t1.C2)(),a=(0,Y.OY)(),{userIdsInCall:r}=(0,yG._q)(e.fileKey),l=(0,yG.yk)(r,e.fileKey),i=(0,yL.$O)(),{usersInCall:o,callMetadata:s}=W.useMemo(()=>({usersInCall:l.filter(e=>e.userID!==(null==n?void 0:n.id)),callMetadata:{microphoneStyle:yR.G8.FULL,call:e.call}}),[l,n,e.call]);return W.createElement(W.Fragment,null,W.createElement(y7.AZ,null),o.length>0&&W.createElement("div",{className:Cg.SY},W.createElement(CE,{headerText:`${e.currentUserInCall?"You and ":""}`+(0,E5.u)(o.length,"person","people")+" in conversation",collapseStateOverride:!t,collapsedContent:W.createElement(Cp,{usersInCall:o,call:e.call}),hideToggleOption:o.length<2,onToggle:e=>a(yP._g(!e))},W.createElement(nK.f,{className:Cg.Ib},o.map(e=>W.createElement(y9.c,{key:"sessionID"in e?e.sessionID:e.userID,callMetadata:s,user:e,isOverflow:!0,onUserClick:i}))))))});var Cf=n(974030),Cv=n(960040);let Cy="device_controls--containerWithPadding--IlJeH",CC="device_controls--deviceControlRow--kSC19",Cw="device_controls--controlLabel--Yp1lV",Cb="device_controls--iconContainer--TuXUt",CT="device_controls--dropdownContainer--DfMXW",Cx="device_controls--dropdownInput--w72f-",Ck="device_controls--dropdownChevron--UBe58",CN="device_controls--divider--Z8rM-";var CS=n(55244);let CI="MICROPHONE_CONTROL_DROPDOWN",CA="PLAYBACK_DEVICE_CONTROL_DROPDOWN";function CO(e,t,n,a,r,l,i){let o=(0,Y.OY)(),[s,c]=(0,W.useState)(null),[d,m]=(0,W.useState)([]),u=(0,Y.w1)(e=>{var t;return(null==(t=e.dropdownShown)?void 0:t.type)===a}),p=(0,o$.K0)(()=>d.map(e=>e.deviceId),[d]),_=(0,W.useCallback)(async()=>{try{let e=await t(),n=new Set(p);(p.length!==e.length||e.some(e=>!(e.deviceId in n)))&&m(e)}catch{i||o(ek.A.enqueue({message:(0,ex.t)("collaboration.voice.error_fetching_devices"),error:!0,type:"voice-device-error"}))}},[p,o,t,i]),E=(0,W.useCallback)(async()=>{try{if(l&&!et.cp.chrome)return;let t=await e();t.deviceId!==(null==s?void 0:s.deviceId)&&c(t)}catch{}},[l,e,s]),g=(0,W.useCallback)(async e=>{e.deviceId!==(null==s?void 0:s.deviceId)&&c(e);try{await n(e)}catch{o(ek.A.enqueue({message:(0,ex.t)("collaboration.voice.error_selecting_device"),error:!0,type:"voice-device-error"})),await E()}},[E,n,o,s]);return(0,W.useEffect)(()=>{(r||u)&&_()},[r,u,_]),(0,W.useEffect)(()=>{E(),_()},[]),[s,d,g]}function CM(e){var t;let[n,a,r]=CO(e.call.currentMicrophone,e.call.getMicrophones,e.call.setMicrophone,CI,e.isOpen,!1,e.microphonePermissionDenied),[l,i,o]=CO(e.call.currentPlaybackDevice,e.call.getPlaybackDevices,e.call.setPlaybackDevice,CI,e.isOpen,!0,e.microphonePermissionDenied),s=null==(t=e.targetRef.current)?void 0:t.getBoundingClientRect();return e.isOpen?W.createElement(CP,{targetRect:s,currentMicrophone:n,microphoneDevices:a,setMicrophone:r,currentPlaybackDevice:l,playbackDevices:i,setPlaybackDevice:o}):null}function CP(e){let{targetRect:t,currentMicrophone:n,microphoneDevices:a,setMicrophone:r,currentPlaybackDevice:l,playbackDevices:i,setPlaybackDevice:o}=e,s=(0,Y.OY)(),[c,d]=(0,W.useState)({type:""}),m=()=>{d({type:""})},u={format:e=>(null==e?void 0:e.label)||"",isEqual:(e,t)=>e.deviceId===t.deviceId};return W.createElement(l2.Mx,{showPoint:!!t,targetRect:t,className:"device_controls--pointingDropdown--hSJ1h",minWidth:280,propagateCloseClick:!0},W.createElement("div",{onClick:e=>e.stopPropagation()},W.createElement("div",{className:Cy},W.createElement(s$.WA,{className:CC},W.createElement("span",{className:Cb},W.createElement(Cv.c.Unmuted,{size:24})),W.createElement("span",{className:Cw},W.createElement(ex.Tx,{id:"collaboration.voice.microphone"}))),W.createElement(s$.WA,{className:CC},W.createElement(aZ.M1,{className:CT,inputClassName:Cx,chevronClassName:Ck,id:CI,property:n||{deviceId:"not_found",label:(0,ex.t)("collaboration.voice.microphone_not_found"),groupId:"not_found",kind:"audioinput",toJSON:()=>null},dispatch:s,dropdownShown:c,onChange:e=>{r(e)},formatter:u,neverConstrain:!0,onHideDropdownOverride:m,onShowDropdownOverride:()=>d({type:CI})},a.map(e=>W.createElement(aZ.cb,{key:e.deviceId,value:e},e.label))))),et.cp.chrome&&W.createElement(W.Fragment,null,W.createElement("div",{className:CN}),W.createElement("div",{className:Cy},W.createElement(s$.WA,{className:CC},W.createElement("span",{className:Cb},W.createElement(eN.A,{svg:CS.c})),W.createElement("span",{className:Cw},W.createElement(ex.Tx,{id:"collaboration.voice.speakers"}))),W.createElement(s$.WA,{className:CC},W.createElement(aZ.M1,{className:CT,inputClassName:Cx,chevronClassName:Ck,id:CA,property:l||{deviceId:"not_found",label:(0,ex.t)("collaboration.voice.playback_device_not_found"),groupId:"not_found",kind:"audiooutput",toJSON:()=>null},dispatch:s,dropdownShown:c,onChange:e=>{o(e)},formatter:u,neverConstrain:!0,onHideDropdownOverride:m,onShowDropdownOverride:()=>d({type:CA})},i.map(e=>W.createElement(aZ.cb,{key:e.deviceId,value:e},e.label)))))),(0,nE.Ql)()&&W.createElement(W.Fragment,null,W.createElement("div",{className:CN}),!(0,nE.Su)()&&W.createElement(CD,null),(0,nE.Su)()&&W.createElement(CL,null))))}function CL(){let e=(0,Y.w1)(e=>e.voice.captionsInstallProgress),t=(0,Y.w1)(e=>e.voice.showCaptions),n=(0,Y.OY)(),a=W.useId(),r=W.createElement(eN.A,{className:Cb,svg:yY.c}),l=W.createElement(ex.Tx,{id:"collaboration.voice.closed_captioning"}),i=W.createElement(au.kt,{text:(0,ex.t)("collaboration.voice.beta"),className:"device_controls--betaTag---VTFI",color:au.Eo.BRAND});return t&&(0,nE.Sg)(e)&&(l=W.createElement(ex.Tx,{id:"collaboration.voice.setting_up_closed_captions_install_progress",installProgress:e}),r=W.createElement(l7.M7,{className:"device_controls--captionsLoadingSpinner--ivdGQ"}),i=W.createElement(W.Fragment,null)),W.createElement(nR.i,{className:"device_controls--closedCaptionRow--OdIHt raw_components--singleRow--W5dYN raw_components--_singleRow--yTGIY raw_components--singleRowHeight--dKM4t raw_components--_row--rHucX raw_components--row--NThzm device_controls--deviceControlRowWithHover--KUbHL device_controls--deviceControlRow--kSC19",htmlFor:a,"data-preferred-theme":"dark"},r,W.createElement("span",{className:"device_controls--captionToggleLabel--MjCYn device_controls--controlLabelFullOpacity--1nEqI device_controls--controlLabel--Yp1lV"},l,i),W.createElement(Cf.Y,{id:a,checked:t,onChange:(e,{event:t})=>{t.stopPropagation(),(0,Z.we)("voice_captions_toggle",{value:e,source:"voice_widget"}),(0,nE.Ki)(n,e)}}))}function CD(){let e=yL.Ih.ACCESSIBILITY;return W.createElement(tg.e,{target:"_blank",rel:"noopener",href:e,trackingEventName:"Learn more about captioning"},W.createElement(s$.WA,{className:"device_controls--deviceControlRowWithHover--KUbHL device_controls--deviceControlRow--kSC19"},W.createElement(eN.A,{className:Cb,svg:yY.c}),W.createElement("span",{className:"device_controls--controlLabelFullOpacity--1nEqI device_controls--controlLabel--Yp1lV"},W.createElement(ex.Tx,{id:"collaboration.voice.learn_how_to_turn_on_closed_captioning"}))))}var CR=n(909468),CF=n(358260);let CB="DEVICE_CONTROL_DROPDOWN",CU=null,CK=null,CG=null;function CH(e){let{call:t,fileKey:n,user:a,callEvent:r,notificationUserId:l,callEventCallback:i}=e,o=(0,Y.o3)(),[s,c]=(0,W.useState)(null),[d,m]=(0,W.useState)(),[u,p]=(0,W.useState)(!1),[_,E]=(0,W.useState)(!1),[g,h]=(0,W.useState)(!1),[f,v]=(0,W.useState)(!1),y=(0,Y.w1)(e=>e.voice.snapWidget),[C,w]=(0,W.useState)(!1),[b,T]=(0,W.useState)(!1),[x,k]=(0,W.useState)({}),{userIdsInCall:N}=(0,yG._q)(n);(0,yK.C)();let S=(0,Y.w1)(e=>e.voice.showCaptions),I=(0,Y.w1)(e=>e.voice.captionsInstallProgress),A=(0,Y.w1)(e=>{var t;return(null==(t=e.dropdownShown)?void 0:t.type)===CB}),O=(0,Y.w1)(e=>e.voice.activeCall[n]||!1),M=(0,Y.w1)(e=>e.voice.showWidgetParticipantList),P=(0,W.useRef)(null),L=(0,ty.Ci)(),D=(0,Y.OY)(),R=(0,eD.s5)(eM.KEP.uiState().showCanvasSearch),F={in:()=>{h(!0)},out:()=>(h(!1),new Promise(e=>setTimeout(e,300)))};W.useEffect(()=>{let e=t.getSystemCompatibility();if(c(e),!e){i(yR.YL.SYSTEM_INCOMPATIBLE);return}return CU||CK||(CK=new Audio("https://static.figma.com/uploads/94721b53827c353075273e54a45ea41850ee0284"),(CU=new Audio("https://static.figma.com/uploads/d917bf9964749c47b46d367572a5dd28a559bd2f")).load(),CK.load(),[CK,CU].forEach(e=>e.volume=.5)),()=>{D(yP.kJ(!1))}},[]),W.useEffect(()=>{!O&&s&&K(),window.requestAnimationFrame(()=>F.in())},[s]),W.useEffect(()=>{let e;switch(r){case yR.YL.DISCONNECTED:b&&(null==CK||CK.play(),T(!1)),D(yP.ue({fileKey:n}));break;case yR.YL.TOKEN_WILL_EXPIRE_DETECT_MIC_INPUT:(function e(n){if(Date.now()>=n){i(yR.YL.TOKEN_WILL_EXPIRE);return}if(t.isLocalUserSpeaking()){H(!1);return}setTimeout(()=>{e(n)},500)})(Date.now()+1e4);break;case yR.YL.CONNECTED:case yR.YL.CONNECTED_WITH_MIC_DISABLED:C&&(setTimeout(()=>null==CU?void 0:CU.play(),400),w(!1)),D(yP.Y$({fileKey:n}));break;case yR.YL.CALL_INACTIVE:t.leave();break;case yR.YL.TOKEN_WILL_EXPIRE:e=()=>H(!0);break;case yR.YL.TOKEN_EXPIRED:e=K;break;case yR.YL.USER_JOINED:case yR.YL.USER_LEFT:if(CG)return;break;case yR.YL.WARNING_AUDIO_INPUT_LEVEL_TOO_LOW:case yR.YL.WARNING_AUDIO_OUTPUT_LEVEL_TOO_LOW:case yR.YL.WARNING_SEND_AUDIO_BITRATE_TOO_LOW:case yR.YL.WARNING_RECV_AUDIO_DECODE_FAILED:let a=y6(r);if(!a)break;k({...x,[r]:a});break;case yR.YL.WARNING_AUDIO_INPUT_LEVEL_TOO_LOW_RECOVER:case yR.YL.WARNING_AUDIO_OUTPUT_LEVEL_TOO_LOW_RECOVER:case yR.YL.WARNING_SEND_AUDIO_BITRATE_TOO_LOW_RECOVER:case yR.YL.WARNING_RECV_AUDIO_DECODE_FAILED_RECOVER:let o=function(e){switch(e){case yR.YL.WARNING_AUDIO_INPUT_LEVEL_TOO_LOW_RECOVER:return yR.YL.WARNING_AUDIO_INPUT_LEVEL_TOO_LOW;case yR.YL.WARNING_AUDIO_OUTPUT_LEVEL_TOO_LOW_RECOVER:return yR.YL.WARNING_AUDIO_OUTPUT_LEVEL_TOO_LOW;case yR.YL.WARNING_SEND_AUDIO_BITRATE_TOO_LOW_RECOVER:return yR.YL.WARNING_SEND_AUDIO_BITRATE_TOO_LOW;case yR.YL.WARNING_RECV_AUDIO_DECODE_FAILED_RECOVER:return yR.YL.WARNING_RECV_AUDIO_DECODE_FAILED;default:return null}}(r);if(!o)break;delete x[o],k(x)}void 0!==r&&m({callEvent:r,onClick:e,notificationUserId:l})},[r]),W.useEffect(()=>{v(!0)},[y]),W.useEffect(()=>{f&&v(!1)},[f]);let[B,U]=(0,W.useState)(!0),K=async()=>{if(U(!0),!t.getSystemCompatibility()){U(!1),i(yR.YL.SYSTEM_INCOMPATIBLE);return}p(!0),w(!0),CG=setTimeout(()=>{CG=null},5e3);try{let{data:e}=await gK.cp.post(`/api/voice/${n}/auth`),a=await (0,yU.NJ)(e.meta.user_encryption_key),r=await (0,yU.Kw)(a,e.meta.call_user_id);if(r!=r)throw Error(`User ID does not match local user ID.
local: ${r}
remote: ${r}`);await t.join({appId:e.meta.app_id,callId:e.meta.call_id,token:e.meta.auth_token,callUserId:e.meta.call_user_id,userId:r,encryptionKey:e.meta.call_encryption_key,userEncryptionKey:a,setParticipantIdsCallback:G,callEventCallback:i,store:o,fileKey:n})}catch(e){U(!1),i(yR.YL.ERROR)}p(!1),U(!1)};function G(e){D(yP.Ep(e))}let H=async e=>{let{data:a}=await gK.cp.post(`/api/voice/${n}/auth`,{call_user_id:t.uid});await t.renewToken(a.meta.auth_token),e?i(yR.YL.CONNECTED):i(yR.YL.TOKEN_SILENTLY_RENEWED)},V=async()=>{p(!0),T(!0);try{await Promise.all([F.out(),t.leave()]),D(yP.ue({fileKey:n})),null==CK||CK.play(),A&&D(lZ.yi()),D(yP.kJ(!1))}catch{F.in(),i(yR.YL.ERROR_ON_LEAVE)}p(!1)},j=async e=>{(0,tb.s5)("voice_user_mute_toggle",n,o.getState(),{source:"voice_widget",muted:!e}),e?await t.unmute():await t.mute()},X=d?d&&N.size>1&&M?"expanded":"collapsed":null;S&&(0,nE.SI)(I)&&((0,tb.s5)("voice_caption_download_error",n,o.getState(),{error_code:I,source:"voice_widget"}),(0,nE.Ki)(D,!1),D((0,ts.A5)({type:yV.Q,data:{dispatch:D,installProgress:I}})));let z=W.createElement("span",{onClick:()=>{(0,tb.s5)("voice_widget_minimized_toggle",n,o.getState(),{minimized:!1}),D(yP.kJ(!1))},className:["voice_widget--dismissButtonPosition--eEXoz",y1].join(" "),"data-tooltip-type":n1.wL.TEXT,"data-tooltip":(0,ex.t)("collaboration.voice.minimize")},W.createElement(sZ.e,{className:y0,svg:CR.c,fallbackSvg:CR.c},W.createElement(yF.C,null)));return W.createElement(W.Fragment,null,W.createElement("div",{className:q()("voice_widget--modal--xsQ2A",{"voice_widget--show--O6ORx voice_widget--modal--xsQ2A":g,"voice_widget--searchShowing--CNCMp":R})},W.createElement(s$.I7,{className:"voice_widget--voiceModalPanel--KD-J1"},W.createElement("div",{className:"voice_widget--topRow--O1wj-"},W.createElement("span",{className:O||_?"voice_widget--currentUser--L7Z6l":"voice_widget--inactiveCurrentUser--yVaZY voice_widget--currentUser--L7Z6l"},W.createElement(CV,{user:a,call:e.call})),W.createElement(y4,{className:"voice_widget--warningIcon--WJPdH",activeWarnings:x}),W.createElement(yJ.o,{userId:a.id,onMuteButtonClickCallback:j,disabled:t.microphonePermissionDenied,className:[y2,y1].join(" "),disabledClassName:[y2,"voice_widget--muteButtonDisabled--fJzUI"].join(" ")}),W.createElement("span",{className:["voice_widget--controlsButtonPosition--TTGIU",A?"voice_widget--controlsButtonActive--vE2c-":y1].join(" "),onMouseDown:()=>{A?D(lZ.yi()):((0,tb.s5)("voice_widget_open_settings",n,o.getState()),D(lZ.Qn({type:CB})))},onClick:e=>e.stopPropagation(),ref:P,"data-tooltip-type":n1.wL.TEXT,"data-tooltip":(0,ex.t)("collaboration.voice.settings")},W.createElement(sZ.e,{className:y0,svg:CF.c,fallbackSvg:CF.c},W.createElement(yB,null))),W.createElement("button",{className:O?"voice_widget--leaveButton--UUdxH basic_form--btn--FSrmp ellipsis--ellipsis--Tjyfa text--fontPos11--2LvXf text--_fontBase--QdLsd":"voice_widget--joinButton--WvZPr basic_form--btn--FSrmp ellipsis--ellipsis--Tjyfa text--fontPos11--2LvXf text--_fontBase--QdLsd",onClick:O?V:K,disabled:!s||u,onMouseEnter:()=>E(!0),onMouseLeave:()=>E(!1)},O||B?W.createElement(ex.Tx,{id:"collaboration.voice.leave"}):W.createElement(ex.Tx,{id:"collaboration.voice.join"})),!L&&z),O&&W.createElement(Ch,{fileKey:n,currentUserInCall:O,call:t}),(0,nE.Su)()&&S&&W.createElement(yQ,{call:t})),d&&W.createElement(y8,{notification:d,widgetState:X})),W.createElement(CM,{isOpen:A,call:t,targetRef:P,microphonePermissionDenied:t.microphonePermissionDenied}))}function CV({user:e,call:t}){return W.createElement(W.Fragment,null,W.createElement(CW,{user:e,call:t}),W.createElement(ou.UP,{entity:e,size:24,className:"voice_widget--undraggableImage--muN9g"}))}function CW({user:e,call:t}){let n=(0,yH.Ou)(e.id,t);return!n||n.isMuted?null:W.createElement(Ce.E,{userId:e.id,microphoneStyle:yR.G8.FULL,className:"voice_widget--avatarVoiceIndicator--zfWwx",volumeIconMutedState:Ce.S.NONE,call:t})}function CY(e){let{fileKey:t,showUi:n}=e,a=(0,t1.C2)(),r=(0,Y.w1)(e=>e.voice.showWidget),l=(0,yL.AX)(),i=(0,Y.OY)(),[o,s]=(0,W.useState)(),[c,d]=(0,W.useState)(),m=W.useCallback((e,t)=>{yR._k.has(e)&&i(yP.kJ(!0)),t&&d(t),s(e)},[i]),u=(0,Y.w1)(e=>e.voice.captionsInstallProgress),p=(0,Y.w1)(e=>e.voice.showCaptions);return(W.useEffect(()=>{l&&(l.captionsToggleEnabled=p,l.streamAudioForCaptions(p&&100===u))},[p,u,l]),W.useEffect(()=>{r||(d(void 0),s(void 0))},[r]),W.useEffect(()=>()=>{yD.e.leave(),e.fileKey&&i(yP.Ud({fileKey:e.fileKey}))},[i,e.fileKey]),n&&l&&t&&a&&r)?W.createElement(CH,{fileKey:t,user:a,call:l,notificationUserId:c,callEvent:o,callEventCallback:m}):W.createElement(W.Fragment,null)}function Cj(e){var t;let n=(null==(t=(0,t$.AL)())?void 0:t.editorType)==="design";return W.createElement("div",{style:e.style,className:q()(n?"whiteboard_sidebar_modal--WhiteboardPageSidebarModal--jD-wh":"whiteboard_sidebar_modal--WhiteboardSidebarModal--PALf6",e.className)},e.children)}var CX=n(100648),Cz=n(456076);let Cq=(0,nF.qe)(n5.qcs),CZ=(0,nF.qe)(n5.wlD),CQ=(0,nF.qe)(n5.GWm);var CJ=n(493760),C$=n(276628),C0=n(455200);let C1=500,C2="audioplayinvoked",C5="audioplaysuccess";class C3{constructor(e){this.play=({onSuccess:e,onNoInteractionFailure:t})=>{let n=()=>{window.removeEventListener(C2,this.audioPlayInvokedHandler),window.removeEventListener(C5,this.audioPlaySuccessHandler)};window.dispatchEvent(this.audioPlayInvokedEvent),this.audio.play().then(()=>{if(this.shouldBlockPlay){this.audio.pause(),this.isAttemptingToPlay=!1;return}this.lastPlayedTimestamp=Date.now(),window.dispatchEvent(this.audioPlaySuccessEvent),this.isFadingOut?this.fadeOut({}):(this.internalVolumeMultiplier=0,this.fadeIn({fadeInLength:1e3})),e&&e(),this.isAttemptingToPlay=!1,n()}).catch(e=>{if(this.isAttemptingToPlay=!1,"NotAllowedError"===e.name&&t){t();return}if(e.message.toLowerCase().includes("interrupted by a new load request")){(0,tO.oP)(l9._.FIGJAM_CORE,Error("Benign race condition in FigJam music: new track was requested while the promise to play the previous track was resolving (no user impact)"));return}throw Error(`Failed to play music in the FigJam timer: ${e}`)})},this.playLoadingAudio=()=>{this.loadingAudio.currentSrc&&this.loadingAudio.play().catch(e=>{if("NotAllowedError"!==e.name)throw Error(`Failed to play loading music in the FigJam timer: ${e}`)})},this.stopLoadingAudio=()=>{this.loadingAudio.currentSrc&&(this.loadingAudio.pause(),this.setTimestamp(0,this.loadingAudio))},this.isPaused=()=>this.audio.paused||this.shouldBlockPlay,this.isPlaying=()=>!this.isPaused(),this.setTimestamp=(e,t)=>{if(t){if(t.seeking||t.readyState<=0){console.warn("Already seeking or audio isn't ready, can't set timestamp.");return}t.fastSeek?t.fastSeek(e):t.currentTime=e}},this.playAtTimestamp=({src:e,timestamp:t,onSuccess:n,onFailure:a})=>{this.isAttemptingToPlay=!1;let r=()=>{this.setTimestamp(t/1e3%this.audio.duration,this.audio),this.play({onSuccess:n,onNoInteractionFailure:a})};window.addEventListener(C2,this.audioPlayInvokedHandler),window.addEventListener(C5,this.audioPlaySuccessHandler),this.playLoadingAudio(),this.setSource(""),this.shouldBlockPlay=!1,this.audio.oncanplaythrough=()=>{this.audio.oncanplaythrough=null,this.handleVolumeUpdate(),r()},this.setSource(e)},this.playPreview=({src:e,timestampMs:t=0,playLengthMs:n,fadeLengthMs:a=C1})=>{let r=this.hasSource();this.playAtTimestamp({src:e,timestamp:t,onSuccess:()=>{this.isPaused()||!r?this.internalVolumeMultiplier=0:this.clearFadeTimeouts(),this.fadeIn({}),this.internalFadeOutTimeoutId=window.setTimeout(()=>{this.internalFadeOutTimeoutId=0,this.fadeOut({fadeOutLength:a,shouldStopWhenFadedOut:!0,targetVolumeMultiplier:0})},n+2*a)}})},this.stopPreview=()=>{this.internalFadeOutTimeoutId&&clearTimeout(this.internalFadeOutTimeoutId),this.internalFadeOutTimeoutId=0,this.stop()},this.clearFadeTimeouts=()=>{this.internalFadeOutTimeoutId&&clearTimeout(this.internalFadeOutTimeoutId),this.internalFadeInTimeoutId&&clearTimeout(this.internalFadeInTimeoutId)},this.resetFades=()=>{this.clearFadeTimeouts(),this.internalVolumeMultiplier=1,this.isFadingOut=!1,this.isFadingIn=!1},this.pause=()=>{this.stopLoadingAudio(),this.audio.paused||this.shouldBlockPlay||this.isAttemptingToPlay||(this.audio.pause(),this.clearFadeTimeouts()),this.shouldBlockPlay=!0},this.stop=()=>{this.stopLoadingAudio(),this.resetFades(),this.shouldBlockPlay=!0,this.audio.pause(),this.audio.removeAttribute("src")},this.hasSource=()=>""!==this.audio.currentSrc,this.setSource=e=>{this.audio.src=e},this.setIsMuted=e=>{this.audio.muted=e,this.loadingAudio.muted=e,this.isMuted=e,this.handleVolumeUpdate()},this.getCurrentVolume=()=>this.isMuted?0:(0,C0.qk)(this.externalVolume*this.internalVolumeMultiplier,0,1),this.handleVolumeUpdate=()=>{this.audio.volume=this.getCurrentVolume()},this.setVolume=e=>{this.externalVolume=e,this.handleVolumeUpdate()},this.fadeOut=({fadeOutLength:e=5e3,shouldStopWhenFadedOut:t=!1,targetVolumeMultiplier:n=0,callbackWhenDoneFading:a,resumeFadingIfInterrupted:r=!0})=>{this.clearFadeTimeouts();let l=1/(e/50),i=()=>{!this.audio.paused&&(this.internalVolumeMultiplier>n?(this.internalVolumeMultiplier-=l,this.handleVolumeUpdate(),this.internalFadeOutTimeoutId=window.setTimeout(i,50)):(this.internalFadeOutTimeoutId=0,t&&this.stop(),this.handleVolumeUpdate(),this.isFadingOut=!1,a&&a()))};r&&(this.isFadingOut=!0),i()},this.fadeIn=({fadeInLength:e=1e3,callbackWhenDoneFading:t})=>{this.clearFadeTimeouts();let n=1/(e/50),a=()=>{!this.audio.paused&&(this.internalVolumeMultiplier<1?(this.internalVolumeMultiplier+=n,this.handleVolumeUpdate(),this.internalFadeInTimeoutId=window.setTimeout(a,50)):(this.internalFadeInTimeoutId=0,this.handleVolumeUpdate(),this.isFadingIn=!1,t&&t()))};this.isFadingIn=!0,a()},this.isAttemptingToPlay=!1,this.audio=new Audio,this.audio.src="",this.audio.loop=!0,this.loadingAudio=new Audio,e&&e.loadingPlaybackUrl&&(this.loadingAudio.src=e.loadingPlaybackUrl),this.loadingAudio.loop=!0,this.audioPlayInvokedEvent=new Event(C2),this.audioPlayInvokedHandler=()=>{this.isAttemptingToPlay=!0},this.audioPlaySuccessEvent=new Event(C5),this.audioPlaySuccessHandler=()=>{this.loadingAudio.currentSrc&&this.loadingAudio.pause(),this.isAttemptingToPlay=!1},this.externalVolume=.7,this.isMuted=!1,this.isFadingOut=!1,this.isFadingIn=!1,this.shouldBlockPlay=!1,this.internalVolumeMultiplier=1,this.internalFadeOutTimeoutId=0,this.internalFadeInTimeoutId=0,this.lastPlayedTimestamp=null}}var C4=n(509416);let C6=e=>(0,Y.w1)(t=>{let n=t.music.activeSongs.filter(t=>e===t.song_id);return n.length?n[0]:void 0},C4.OW);function C8(){let e=(0,Y.w1)(e=>e.music.music);return!(null==e?void 0:e.isPaused)&&!(null==e?void 0:e.isStopped)}let C9=()=>{let[e,t]=W.useState({}),n=(0,Y.w1)(e=>e.music.music);return W.useEffect(()=>{if(!n||(null==n?void 0:n.isPaused)||(null==n?void 0:n.isStopped))return;let e=setTimeout(()=>t({}),500);return()=>{clearTimeout(e)}},[e,n,null==n?void 0:n.isPaused]),e};var C7=n(45884),we=n(629404),wt=n(962414);let wn={song_id:"fake track for no selection",title:"",album_art:"",playback_url:"",start_at_ms:0,cuesheet:{tracks:[]}};function wa({selectedSong:e,activeSongs:t,isLoading:n,withRightMargin:a,withBorder:r,withHeavyFont:l}){let i=(0,Y.w1)(e=>{var t;return(null==(t=e.dropdownShown)?void 0:t.type)==="song-dropdown"?e.dropdownShown:null}),o=(0,eg.i)((0,Y.w1)(e=>e)),s=(0,Y.OY)(),c=(0,Y.w1)(e=>e.music.playerInstance),d=e||wn,m=(0,C7.yW)(),u=[W.createElement(aZ.cb,{fullWidth:!0,ignoreCheck:!0,key:"loading-music-options"},W.createElement("div",{className:"music_dropdown--loadingSpinner--0IUIG"},W.createElement(l7.M7,null)))];W.useEffect(()=>{let a=t.length&&!n,r=!e;a&&r&&s(C$.iI({selectedSongID:t[0].song_id}))},[n,e,s,t]),n||(u=t.map(e=>W.createElement(aZ.cb,{key:e.song_id,value:e,icon:W.createElement("img",{src:e.album_art,alt:`album art for ${e.title}`,className:"music_dropdown--inDropdownAlbumArt---OmqE"}),formattedValue:wr.format(e),height:48})));let p=async t=>{t.song_id===wn.song_id?e&&((0,we.v3)(o.current,e.song_id),s(C$.SM({selectedSongID:"",musicStartTimeMs:0}))):await (0,C4.ky)({songID:t.song_id,onSuccess:()=>{let e=null==c?void 0:c.isPlaying();(0,we.sJ)(o.current,t.song_id,e||!1);let n=t.song_id;s(C$.iI({selectedSongID:n,dontTransmitWhenPaused:!0}))},onNotFound:()=>{s(C$.sf()),s(ek.A.enqueue({message:(0,ex.t)("whiteboard.timer.song_not_available_error"),error:!0,type:C$.Y7}))}})},_=d===wn?(0,ex.t)("whiteboard.music.loading"):void 0;return W.createElement(aZ.M1,{id:"song-dropdown",ariaLabel:(0,ex.t)("whiteboard.music_player_select.aria_label"),"data-testid":"music-dropdown-button",className:"music_dropdown--songDropdownClosed--PEWeP",property:d,willShowDropdown:()=>new Promise(e=>{(0,we.ib)(o.current),e()}),onChange:p,dropdownWidth:224,formatter:wr,dispatch:s,dropdownShown:i,dropdownOverride:_,inputClassName:q()("music_dropdown--songDropdownInput--VQjWF",{"music_dropdown--songInputTextSongSelected--4mWzH":!!e,"music_dropdown--songInputTextNoSongSelected--AW4Zi":!e,"music_dropdown--songDropdownRightMargin--SiuxZ":a,"music_dropdown--songDropdownHeavyFont--fIlJd":l,"music_dropdown--border--8RslA":r,"music_dropdown--withHover--5STIo":r&&!m}),chevronClassName:"music_dropdown--songDropdownChevronStandalone--0F6eP music_dropdown--songDropdownChevronStandalone--0F6eP",icon:d===wn?W.createElement(sg._,{className:"music_dropdown--musicIcon--rYDUF",svg:wt.c}):void 0,neverConstrain:!0,hideDropdownWhenContainerMoves:!0,targetDomNode:document.body},u)}let wr={format:e=>(null==e?void 0:e.title)||(0,ex.t)("whiteboard.timer.none")};function wl(){return W.createElement("svg",{width:"96",height:"96",viewBox:"0 0 96 96",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{height:"100%",width:"100%",filter:"drop-shadow(0px 1.625px 4.062500476837158px rgba(0, 0, 0, 0.15)) drop-shadow(0px 8.125000953674316px 13px rgba(0, 0, 0, 0.12)) drop-shadow(0px 0px 0.40625px rgba(0, 0, 0, 0.12))"}},W.createElement("mask",{id:"mask0_134_226",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:"0",y:"0",width:"96",height:"96"},W.createElement("circle",{cx:"48",cy:"48",r:"48",fill:"black"}),W.createElement("circle",{cx:"48",cy:"48",r:"48",fill:"url(#paint0_radial_134_226)"}),W.createElement("circle",{cx:"48",cy:"48",r:"47.1875",stroke:"black",strokeOpacity:"0.8",strokeWidth:"1.625"})),W.createElement("g",{mask:"url(#mask0_134_226)"},W.createElement("circle",{cx:"48",cy:"48",r:"48",fill:"black"}),W.createElement("circle",{cx:"48",cy:"48",r:"48",fill:"url(#paint1_radial_134_226)"}),W.createElement("circle",{cx:"48",cy:"48",r:"47.1875",stroke:"black",strokeOpacity:"0.3",strokeWidth:"1.625"}),W.createElement("circle",{cx:"47.9999",cy:"48",r:"48.3438",stroke:"url(#paint2_linear_134_226)",strokeWidth:"0.8125"}),W.createElement("circle",{cx:"47.9999",cy:"48",r:"45.0938",stroke:"url(#paint3_linear_134_226)",strokeWidth:"0.8125"}),W.createElement("circle",{cx:"47.9999",cy:"48",r:"41.8438",stroke:"url(#paint4_linear_134_226)",strokeWidth:"0.8125"}),W.createElement("circle",{cx:"47.9999",cy:"48",r:"38.5938",stroke:"url(#paint5_linear_134_226)",strokeWidth:"0.8125"}),W.createElement("circle",{cx:"47.9999",cy:"48",r:"35.3438",stroke:"url(#paint6_linear_134_226)",strokeWidth:"0.8125"}),W.createElement("circle",{cx:"47.9999",cy:"48",r:"32.0938",stroke:"url(#paint7_linear_134_226)",strokeWidth:"0.8125"}),W.createElement("g",{filter:"url(#filter0_f_134_226)"},W.createElement("path",{d:"M47.6379 42.7921L50.2388 118.707L-34.6776 45.6123L47.6379 42.7921Z",fill:"url(#paint8_linear_134_226)"})),W.createElement("g",{filter:"url(#filter1_f_134_226)"},W.createElement("path",{d:"M56.3805 43.3806L56.3805 -32.5788L138.744 43.3806L56.3805 43.3806Z",fill:"url(#paint9_linear_134_226)"}))),W.createElement("defs",null,W.createElement("filter",{id:"filter0_f_134_226",x:"-42.8026",y:"34.6671",width:"101.166",height:"92.1648",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},W.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),W.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),W.createElement("feGaussianBlur",{stdDeviation:"4.0625",result:"effect1_foregroundBlur_134_226"})),W.createElement("filter",{id:"filter1_f_134_226",x:"48.2555",y:"-40.7038",width:"98.6138",height:"92.2094",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},W.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),W.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),W.createElement("feGaussianBlur",{stdDeviation:"4.0625",result:"effect1_foregroundBlur_134_226"})),W.createElement("radialGradient",{id:"paint0_radial_134_226",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(48 48) rotate(135) scale(65.7609 27.1741)"},W.createElement("stop",{stopColor:"white",stopOpacity:"0.63"}),W.createElement("stop",{offset:"0.66129",stopColor:"white",stopOpacity:"0.17"}),W.createElement("stop",{offset:"1",stopColor:"white",stopOpacity:"0"})),W.createElement("radialGradient",{id:"paint1_radial_134_226",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(48 48) rotate(135) scale(65.7609 27.1741)"},W.createElement("stop",{stopColor:"white",stopOpacity:"0.63"}),W.createElement("stop",{offset:"0.66129",stopColor:"white",stopOpacity:"0.17"}),W.createElement("stop",{offset:"1",stopColor:"white",stopOpacity:"0"})),W.createElement("linearGradient",{id:"paint2_linear_134_226",x1:"96.7498",y1:"96.75",x2:"-0.750201",y2:"-0.75003",gradientUnits:"userSpaceOnUse"},W.createElement("stop",{stopColor:"white",stopOpacity:"0.05"}),W.createElement("stop",{offset:"0.394591",stopColor:"white",stopOpacity:"0.12"}),W.createElement("stop",{offset:"0.498177",stopColor:"white",stopOpacity:"0.2"}),W.createElement("stop",{offset:"0.60488",stopColor:"white",stopOpacity:"0.12"}),W.createElement("stop",{offset:"1",stopColor:"white",stopOpacity:"0.05"})),W.createElement("linearGradient",{id:"paint3_linear_134_226",x1:"93.4998",y1:"93.5",x2:"2.49981",y2:"2.49997",gradientUnits:"userSpaceOnUse"},W.createElement("stop",{stopColor:"white",stopOpacity:"0.05"}),W.createElement("stop",{offset:"0.394591",stopColor:"white",stopOpacity:"0.12"}),W.createElement("stop",{offset:"0.498177",stopColor:"white",stopOpacity:"0.2"}),W.createElement("stop",{offset:"0.60488",stopColor:"white",stopOpacity:"0.12"}),W.createElement("stop",{offset:"1",stopColor:"white",stopOpacity:"0.05"})),W.createElement("linearGradient",{id:"paint4_linear_134_226",x1:"90.2498",y1:"90.25",x2:"5.74982",y2:"5.74997",gradientUnits:"userSpaceOnUse"},W.createElement("stop",{stopColor:"white",stopOpacity:"0.05"}),W.createElement("stop",{offset:"0.394591",stopColor:"white",stopOpacity:"0.12"}),W.createElement("stop",{offset:"0.498177",stopColor:"white",stopOpacity:"0.2"}),W.createElement("stop",{offset:"0.60488",stopColor:"white",stopOpacity:"0.12"}),W.createElement("stop",{offset:"1",stopColor:"white",stopOpacity:"0.05"})),W.createElement("linearGradient",{id:"paint5_linear_134_226",x1:"86.9998",y1:"87",x2:"8.99983",y2:"8.99997",gradientUnits:"userSpaceOnUse"},W.createElement("stop",{stopColor:"white",stopOpacity:"0.05"}),W.createElement("stop",{offset:"0.394591",stopColor:"white",stopOpacity:"0.12"}),W.createElement("stop",{offset:"0.498177",stopColor:"white",stopOpacity:"0.2"}),W.createElement("stop",{offset:"0.60488",stopColor:"white",stopOpacity:"0.12"}),W.createElement("stop",{offset:"1",stopColor:"white",stopOpacity:"0.05"})),W.createElement("linearGradient",{id:"paint6_linear_134_226",x1:"83.7498",y1:"83.75",x2:"12.2498",y2:"12.25",gradientUnits:"userSpaceOnUse"},W.createElement("stop",{stopColor:"white",stopOpacity:"0.05"}),W.createElement("stop",{offset:"0.394591",stopColor:"white",stopOpacity:"0.12"}),W.createElement("stop",{offset:"0.498177",stopColor:"white",stopOpacity:"0.2"}),W.createElement("stop",{offset:"0.60488",stopColor:"white",stopOpacity:"0.12"}),W.createElement("stop",{offset:"1",stopColor:"white",stopOpacity:"0.05"})),W.createElement("linearGradient",{id:"paint7_linear_134_226",x1:"80.4998",y1:"80.5",x2:"15.4998",y2:"15.5",gradientUnits:"userSpaceOnUse"},W.createElement("stop",{stopColor:"white",stopOpacity:"0.05"}),W.createElement("stop",{offset:"0.394591",stopColor:"white",stopOpacity:"0.12"}),W.createElement("stop",{offset:"0.498177",stopColor:"white",stopOpacity:"0.2"}),W.createElement("stop",{offset:"0.60488",stopColor:"white",stopOpacity:"0.12"}),W.createElement("stop",{offset:"1",stopColor:"white",stopOpacity:"0.05"})),W.createElement("linearGradient",{id:"paint8_linear_134_226",x1:"11.6492",y1:"45.2351",x2:"48.238",y2:"80.972",gradientUnits:"userSpaceOnUse"},W.createElement("stop",{stopColor:"white",stopOpacity:"0"}),W.createElement("stop",{offset:"0.452124",stopColor:"white",stopOpacity:"0.1"}),W.createElement("stop",{offset:"0.539969",stopColor:"white",stopOpacity:"0.48"}),W.createElement("stop",{offset:"0.635517",stopColor:"white",stopOpacity:"0.1"}),W.createElement("stop",{offset:"1",stopColor:"white",stopOpacity:"0"})),W.createElement("linearGradient",{id:"paint9_linear_134_226",x1:"92.4318",y1:"42.1712",x2:"57.088",y2:"5.20249",gradientUnits:"userSpaceOnUse"},W.createElement("stop",{stopColor:"white",stopOpacity:"0"}),W.createElement("stop",{offset:"0.452124",stopColor:"white",stopOpacity:"0.1"}),W.createElement("stop",{offset:"0.539969",stopColor:"white",stopOpacity:"0.48"}),W.createElement("stop",{offset:"0.635517",stopColor:"white",stopOpacity:"0.1"}),W.createElement("stop",{offset:"1",stopColor:"white",stopOpacity:"0"}))))}function wi(){return W.createElement("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},W.createElement("circle",{cx:"9.59963",cy:"5.33317",r:"1.06667",fill:"url(#paint0_linear_1808_68900)"}),W.createElement("circle",{cx:"13.8667",cy:"5.33336",r:"1.06667",fill:"url(#paint1_linear_1808_68900)"}),W.createElement("circle",{cx:"18.1333",cy:"5.33356",r:"1.06667",fill:"url(#paint2_linear_1808_68900)"}),W.createElement("circle",{cx:"22.3997",cy:"5.33317",r:"1.06667",fill:"url(#paint3_linear_1808_68900)"}),W.createElement("circle",{cx:"5.334",cy:"9.6002",r:"1.06667",fill:"url(#paint4_linear_1808_68900)"}),W.createElement("circle",{cx:"5.334",cy:"5.33336",r:"1.06667",fill:"url(#paint5_linear_1808_68900)"}),W.createElement("circle",{cx:"1.06667",cy:"9.6",r:"1.06667",fill:"url(#paint6_linear_1808_68900)"}),W.createElement("circle",{cx:"30.9334",cy:"9.6002",r:"1.06667",fill:"url(#paint7_linear_1808_68900)"}),W.createElement("circle",{cx:"9.59963",cy:"9.6002",r:"1.06667",fill:"url(#paint8_linear_1808_68900)"}),W.createElement("circle",{cx:"13.8667",cy:"9.6",r:"1.06667",fill:"url(#paint9_linear_1808_68900)"}),W.createElement("circle",{cx:"18.1333",cy:"9.6002",r:"1.06667",fill:"url(#paint10_linear_1808_68900)"}),W.createElement("circle",{cx:"22.3997",cy:"9.6002",r:"1.06667",fill:"url(#paint11_linear_1808_68900)"}),W.createElement("circle",{cx:"26.6668",cy:"9.6002",r:"1.06667",fill:"url(#paint12_linear_1808_68900)"}),W.createElement("circle",{cx:"26.6668",cy:"5.33317",r:"1.06667",fill:"url(#paint13_linear_1808_68900)"}),W.createElement("circle",{cx:"5.334",cy:"13.8666",r:"1.06667",fill:"url(#paint14_linear_1808_68900)"}),W.createElement("circle",{cx:"1.06667",cy:"13.8666",r:"1.06667",fill:"url(#paint15_linear_1808_68900)"}),W.createElement("circle",{cx:"30.9334",cy:"13.8666",r:"1.06667",fill:"url(#paint16_linear_1808_68900)"}),W.createElement("circle",{cx:"9.59963",cy:"13.8666",r:"1.06667",fill:"url(#paint17_linear_1808_68900)"}),W.createElement("circle",{cx:"13.8667",cy:"13.8666",r:"1.06667",fill:"url(#paint18_linear_1808_68900)"}),W.createElement("circle",{cx:"18.1333",cy:"13.8666",r:"1.06667",fill:"url(#paint19_linear_1808_68900)"}),W.createElement("circle",{cx:"22.3997",cy:"13.8666",r:"1.06667",fill:"url(#paint20_linear_1808_68900)"}),W.createElement("circle",{cx:"26.6668",cy:"13.8666",r:"1.06667",fill:"url(#paint21_linear_1808_68900)"}),W.createElement("circle",{cx:"5.334",cy:"18.1333",r:"1.06667",fill:"url(#paint22_linear_1808_68900)"}),W.createElement("circle",{cx:"1.06667",cy:"18.1333",r:"1.06667",fill:"url(#paint23_linear_1808_68900)"}),W.createElement("circle",{cx:"30.9334",cy:"18.1333",r:"1.06667",fill:"url(#paint24_linear_1808_68900)"}),W.createElement("circle",{cx:"9.59963",cy:"18.1333",r:"1.06667",fill:"url(#paint25_linear_1808_68900)"}),W.createElement("circle",{cx:"13.8667",cy:"18.1333",r:"1.06667",fill:"url(#paint26_linear_1808_68900)"}),W.createElement("circle",{cx:"18.1333",cy:"18.1333",r:"1.06667",fill:"url(#paint27_linear_1808_68900)"}),W.createElement("circle",{cx:"22.3997",cy:"18.1333",r:"1.06667",fill:"url(#paint28_linear_1808_68900)"}),W.createElement("circle",{cx:"26.6668",cy:"18.1333",r:"1.06667",fill:"url(#paint29_linear_1808_68900)"}),W.createElement("circle",{cx:"5.334",cy:"22.3999",r:"1.06667",fill:"url(#paint30_linear_1808_68900)"}),W.createElement("circle",{cx:"5.334",cy:"26.6668",r:"1.06667",fill:"url(#paint31_linear_1808_68900)"}),W.createElement("circle",{cx:"1.06667",cy:"22.3999",r:"1.06667",fill:"url(#paint32_linear_1808_68900)"}),W.createElement("circle",{cx:"30.9334",cy:"22.4001",r:"1.06667",fill:"url(#paint33_linear_1808_68900)"}),W.createElement("circle",{cx:"9.59963",cy:"22.4001",r:"1.06667",fill:"url(#paint34_linear_1808_68900)"}),W.createElement("circle",{cx:"13.8667",cy:"22.3999",r:"1.06667",fill:"url(#paint35_linear_1808_68900)"}),W.createElement("circle",{cx:"18.1333",cy:"22.3999",r:"1.06667",fill:"url(#paint36_linear_1808_68900)"}),W.createElement("circle",{cx:"22.3997",cy:"22.4001",r:"1.06667",fill:"url(#paint37_linear_1808_68900)"}),W.createElement("circle",{cx:"26.6668",cy:"22.4001",r:"1.06667",fill:"url(#paint38_linear_1808_68900)"}),W.createElement("circle",{cx:"26.6668",cy:"26.6668",r:"1.06667",fill:"url(#paint39_linear_1808_68900)"}),W.createElement("circle",{cx:"9.59963",cy:"26.6668",r:"1.06667",fill:"url(#paint40_linear_1808_68900)"}),W.createElement("circle",{cx:"13.8667",cy:"26.6668",r:"1.06667",fill:"url(#paint41_linear_1808_68900)"}),W.createElement("circle",{cx:"18.1333",cy:"26.6668",r:"1.06667",fill:"url(#paint42_linear_1808_68900)"}),W.createElement("circle",{cx:"22.3997",cy:"26.6668",r:"1.06667",fill:"url(#paint43_linear_1808_68900)"}),W.createElement("circle",{cx:"9.59963",cy:"30.9332",r:"1.06667",fill:"url(#paint44_linear_1808_68900)"}),W.createElement("circle",{cx:"13.8667",cy:"30.9334",r:"1.06667",fill:"url(#paint45_linear_1808_68900)"}),W.createElement("circle",{cx:"18.1333",cy:"30.9336",r:"1.06667",fill:"url(#paint46_linear_1808_68900)"}),W.createElement("circle",{cx:"22.3997",cy:"30.9332",r:"1.06667",fill:"url(#paint47_linear_1808_68900)"}),W.createElement("circle",{cx:"9.59963",cy:"1.06672",r:"1.06667",fill:"url(#paint48_linear_1808_68900)"}),W.createElement("circle",{cx:"13.8667",cy:"1.06672",r:"1.06667",fill:"url(#paint49_linear_1808_68900)"}),W.createElement("circle",{cx:"18.1333",cy:"1.06672",r:"1.06667",fill:"url(#paint50_linear_1808_68900)"}),W.createElement("circle",{cx:"22.3997",cy:"1.06672",r:"1.06667",fill:"url(#paint51_linear_1808_68900)"}),W.createElement("defs",null,W.createElement("linearGradient",{id:"paint0_linear_1808_68900",x1:"9.59963",y1:"4.2665",x2:"9.59963",y2:"6.39984",gradientUnits:"userSpaceOnUse"},W.createElement("stop",{stopColor:"#252525"}),W.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),W.createElement("linearGradient",{id:"paint1_linear_1808_68900",x1:"13.8667",y1:"4.26669",x2:"13.8667",y2:"6.40003",gradientUnits:"userSpaceOnUse"},W.createElement("stop",{stopColor:"#252525"}),W.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),W.createElement("linearGradient",{id:"paint2_linear_1808_68900",x1:"18.1333",y1:"4.26689",x2:"18.1333",y2:"6.40023",gradientUnits:"userSpaceOnUse"},W.createElement("stop",{stopColor:"#252525"}),W.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),W.createElement("linearGradient",{id:"paint3_linear_1808_68900",x1:"22.3997",y1:"4.2665",x2:"22.3997",y2:"6.39984",gradientUnits:"userSpaceOnUse"},W.createElement("stop",{stopColor:"#252525"}),W.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),W.createElement("linearGradient",{id:"paint4_linear_1808_68900",x1:"5.334",y1:"8.53353",x2:"5.334",y2:"10.6669",gradientUnits:"userSpaceOnUse"},W.createElement("stop",{stopColor:"#252525"}),W.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),W.createElement("linearGradient",{id:"paint5_linear_1808_68900",x1:"5.334",y1:"4.26669",x2:"5.334",y2:"6.40003",gradientUnits:"userSpaceOnUse"},W.createElement("stop",{stopColor:"#252525"}),W.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),W.createElement("linearGradient",{id:"paint6_linear_1808_68900",x1:"1.06667",y1:"8.53333",x2:"1.06667",y2:"10.6667",gradientUnits:"userSpaceOnUse"},W.createElement("stop",{stopColor:"#252525"}),W.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),W.createElement("linearGradient",{id:"paint7_linear_1808_68900",x1:"30.9334",y1:"8.53353",x2:"30.9334",y2:"10.6669",gradientUnits:"userSpaceOnUse"},W.createElement("stop",{stopColor:"#252525"}),W.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),W.createElement("linearGradient",{id:"paint8_linear_1808_68900",x1:"9.59963",y1:"8.53353",x2:"9.59963",y2:"10.6669",gradientUnits:"userSpaceOnUse"},W.createElement("stop",{stopColor:"#252525"}),W.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),W.createElement("linearGradient",{id:"paint9_linear_1808_68900",x1:"13.8667",y1:"8.53333",x2:"13.8667",y2:"10.6667",gradientUnits:"userSpaceOnUse"},W.createElement("stop",{stopColor:"#252525"}),W.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),W.createElement("linearGradient",{id:"paint10_linear_1808_68900",x1:"18.1333",y1:"8.53353",x2:"18.1333",y2:"10.6669",gradientUnits:"userSpaceOnUse"},W.createElement("stop",{stopColor:"#252525"}),W.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),W.createElement("linearGradient",{id:"paint11_linear_1808_68900",x1:"22.3997",y1:"8.53353",x2:"22.3997",y2:"10.6669",gradientUnits:"userSpaceOnUse"},W.createElement("stop",{stopColor:"#252525"}),W.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),W.createElement("linearGradient",{id:"paint12_linear_1808_68900",x1:"26.6668",y1:"8.53353",x2:"26.6668",y2:"10.6669",gradientUnits:"userSpaceOnUse"},W.createElement("stop",{stopColor:"#252525"}),W.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),W.createElement("linearGradient",{id:"paint13_linear_1808_68900",x1:"26.6668",y1:"4.2665",x2:"26.6668",y2:"6.39984",gradientUnits:"userSpaceOnUse"},W.createElement("stop",{stopColor:"#252525"}),W.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),W.createElement("linearGradient",{id:"paint14_linear_1808_68900",x1:"5.334",y1:"12.8",x2:"5.334",y2:"14.9333",gradientUnits:"userSpaceOnUse"},W.createElement("stop",{stopColor:"#252525"}),W.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),W.createElement("linearGradient",{id:"paint15_linear_1808_68900",x1:"1.06667",y1:"12.8",x2:"1.06667",y2:"14.9333",gradientUnits:"userSpaceOnUse"},W.createElement("stop",{stopColor:"#252525"}),W.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),W.createElement("linearGradient",{id:"paint16_linear_1808_68900",x1:"30.9334",y1:"12.8",x2:"30.9334",y2:"14.9333",gradientUnits:"userSpaceOnUse"},W.createElement("stop",{stopColor:"#252525"}),W.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),W.createElement("linearGradient",{id:"paint17_linear_1808_68900",x1:"9.59963",y1:"12.8",x2:"9.59963",y2:"14.9333",gradientUnits:"userSpaceOnUse"},W.createElement("stop",{stopColor:"#252525"}),W.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),W.createElement("linearGradient",{id:"paint18_linear_1808_68900",x1:"13.8667",y1:"12.8",x2:"13.8667",y2:"14.9333",gradientUnits:"userSpaceOnUse"},W.createElement("stop",{stopColor:"#252525"}),W.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),W.createElement("linearGradient",{id:"paint19_linear_1808_68900",x1:"18.1333",y1:"12.8",x2:"18.1333",y2:"14.9333",gradientUnits:"userSpaceOnUse"},W.createElement("stop",{stopColor:"#252525"}),W.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),W.createElement("linearGradient",{id:"paint20_linear_1808_68900",x1:"22.3997",y1:"12.8",x2:"22.3997",y2:"14.9333",gradientUnits:"userSpaceOnUse"},W.createElement("stop",{stopColor:"#252525"}),W.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),W.createElement("linearGradient",{id:"paint21_linear_1808_68900",x1:"26.6668",y1:"12.8",x2:"26.6668",y2:"14.9333",gradientUnits:"userSpaceOnUse"},W.createElement("stop",{stopColor:"#252525"}),W.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),W.createElement("linearGradient",{id:"paint22_linear_1808_68900",x1:"5.334",y1:"17.0666",x2:"5.334",y2:"19.1999",gradientUnits:"userSpaceOnUse"},W.createElement("stop",{stopColor:"#252525"}),W.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),W.createElement("linearGradient",{id:"paint23_linear_1808_68900",x1:"1.06667",y1:"17.0666",x2:"1.06667",y2:"19.1999",gradientUnits:"userSpaceOnUse"},W.createElement("stop",{stopColor:"#252525"}),W.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),W.createElement("linearGradient",{id:"paint24_linear_1808_68900",x1:"30.9334",y1:"17.0666",x2:"30.9334",y2:"19.1999",gradientUnits:"userSpaceOnUse"},W.createElement("stop",{stopColor:"#252525"}),W.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),W.createElement("linearGradient",{id:"paint25_linear_1808_68900",x1:"9.59963",y1:"17.0666",x2:"9.59963",y2:"19.1999",gradientUnits:"userSpaceOnUse"},W.createElement("stop",{stopColor:"#252525"}),W.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),W.createElement("linearGradient",{id:"paint26_linear_1808_68900",x1:"13.8667",y1:"17.0666",x2:"13.8667",y2:"19.1999",gradientUnits:"userSpaceOnUse"},W.createElement("stop",{stopColor:"#252525"}),W.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),W.createElement("linearGradient",{id:"paint27_linear_1808_68900",x1:"18.1333",y1:"17.0666",x2:"18.1333",y2:"19.1999",gradientUnits:"userSpaceOnUse"},W.createElement("stop",{stopColor:"#252525"}),W.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),W.createElement("linearGradient",{id:"paint28_linear_1808_68900",x1:"22.3997",y1:"17.0666",x2:"22.3997",y2:"19.1999",gradientUnits:"userSpaceOnUse"},W.createElement("stop",{stopColor:"#252525"}),W.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),W.createElement("linearGradient",{id:"paint29_linear_1808_68900",x1:"26.6668",y1:"17.0666",x2:"26.6668",y2:"19.1999",gradientUnits:"userSpaceOnUse"},W.createElement("stop",{stopColor:"#252525"}),W.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),W.createElement("linearGradient",{id:"paint30_linear_1808_68900",x1:"5.334",y1:"21.3333",x2:"5.334",y2:"23.4666",gradientUnits:"userSpaceOnUse"},W.createElement("stop",{stopColor:"#252525"}),W.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),W.createElement("linearGradient",{id:"paint31_linear_1808_68900",x1:"5.334",y1:"25.6001",x2:"5.334",y2:"27.7334",gradientUnits:"userSpaceOnUse"},W.createElement("stop",{stopColor:"#252525"}),W.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),W.createElement("linearGradient",{id:"paint32_linear_1808_68900",x1:"1.06667",y1:"21.3333",x2:"1.06667",y2:"23.4666",gradientUnits:"userSpaceOnUse"},W.createElement("stop",{stopColor:"#252525"}),W.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),W.createElement("linearGradient",{id:"paint33_linear_1808_68900",x1:"30.9334",y1:"21.3334",x2:"30.9334",y2:"23.4668",gradientUnits:"userSpaceOnUse"},W.createElement("stop",{stopColor:"#252525"}),W.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),W.createElement("linearGradient",{id:"paint34_linear_1808_68900",x1:"9.59963",y1:"21.3334",x2:"9.59963",y2:"23.4668",gradientUnits:"userSpaceOnUse"},W.createElement("stop",{stopColor:"#252525"}),W.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),W.createElement("linearGradient",{id:"paint35_linear_1808_68900",x1:"13.8667",y1:"21.3333",x2:"13.8667",y2:"23.4666",gradientUnits:"userSpaceOnUse"},W.createElement("stop",{stopColor:"#252525"}),W.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),W.createElement("linearGradient",{id:"paint36_linear_1808_68900",x1:"18.1333",y1:"21.3333",x2:"18.1333",y2:"23.4666",gradientUnits:"userSpaceOnUse"},W.createElement("stop",{stopColor:"#252525"}),W.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),W.createElement("linearGradient",{id:"paint37_linear_1808_68900",x1:"22.3997",y1:"21.3334",x2:"22.3997",y2:"23.4668",gradientUnits:"userSpaceOnUse"},W.createElement("stop",{stopColor:"#252525"}),W.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),W.createElement("linearGradient",{id:"paint38_linear_1808_68900",x1:"26.6668",y1:"21.3334",x2:"26.6668",y2:"23.4668",gradientUnits:"userSpaceOnUse"},W.createElement("stop",{stopColor:"#252525"}),W.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),W.createElement("linearGradient",{id:"paint39_linear_1808_68900",x1:"26.6668",y1:"25.6001",x2:"26.6668",y2:"27.7334",gradientUnits:"userSpaceOnUse"},W.createElement("stop",{stopColor:"#252525"}),W.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),W.createElement("linearGradient",{id:"paint40_linear_1808_68900",x1:"9.59963",y1:"25.6001",x2:"9.59963",y2:"27.7334",gradientUnits:"userSpaceOnUse"},W.createElement("stop",{stopColor:"#252525"}),W.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),W.createElement("linearGradient",{id:"paint41_linear_1808_68900",x1:"13.8667",y1:"25.6001",x2:"13.8667",y2:"27.7334",gradientUnits:"userSpaceOnUse"},W.createElement("stop",{stopColor:"#252525"}),W.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),W.createElement("linearGradient",{id:"paint42_linear_1808_68900",x1:"18.1333",y1:"25.6001",x2:"18.1333",y2:"27.7334",gradientUnits:"userSpaceOnUse"},W.createElement("stop",{stopColor:"#252525"}),W.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),W.createElement("linearGradient",{id:"paint43_linear_1808_68900",x1:"22.3997",y1:"25.6001",x2:"22.3997",y2:"27.7334",gradientUnits:"userSpaceOnUse"},W.createElement("stop",{stopColor:"#252525"}),W.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),W.createElement("linearGradient",{id:"paint44_linear_1808_68900",x1:"9.59963",y1:"29.8665",x2:"9.59963",y2:"31.9999",gradientUnits:"userSpaceOnUse"},W.createElement("stop",{stopColor:"#252525"}),W.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),W.createElement("linearGradient",{id:"paint45_linear_1808_68900",x1:"13.8667",y1:"29.8667",x2:"13.8667",y2:"32.0001",gradientUnits:"userSpaceOnUse"},W.createElement("stop",{stopColor:"#252525"}),W.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),W.createElement("linearGradient",{id:"paint46_linear_1808_68900",x1:"18.1333",y1:"29.8669",x2:"18.1333",y2:"32.0003",gradientUnits:"userSpaceOnUse"},W.createElement("stop",{stopColor:"#252525"}),W.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),W.createElement("linearGradient",{id:"paint47_linear_1808_68900",x1:"22.3997",y1:"29.8665",x2:"22.3997",y2:"31.9999",gradientUnits:"userSpaceOnUse"},W.createElement("stop",{stopColor:"#252525"}),W.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),W.createElement("linearGradient",{id:"paint48_linear_1808_68900",x1:"9.59963",y1:"5.34058e-05",x2:"9.59963",y2:"2.13339",gradientUnits:"userSpaceOnUse"},W.createElement("stop",{stopColor:"#252525"}),W.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),W.createElement("linearGradient",{id:"paint49_linear_1808_68900",x1:"13.8667",y1:"5.34058e-05",x2:"13.8667",y2:"2.13339",gradientUnits:"userSpaceOnUse"},W.createElement("stop",{stopColor:"#252525"}),W.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),W.createElement("linearGradient",{id:"paint50_linear_1808_68900",x1:"18.1333",y1:"5.34058e-05",x2:"18.1333",y2:"2.13339",gradientUnits:"userSpaceOnUse"},W.createElement("stop",{stopColor:"#252525"}),W.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),W.createElement("linearGradient",{id:"paint51_linear_1808_68900",x1:"22.3997",y1:"5.34058e-05",x2:"22.3997",y2:"2.13339",gradientUnits:"userSpaceOnUse"},W.createElement("stop",{stopColor:"#252525"}),W.createElement("stop",{offset:"1",stopColor:"#A4A4A4"}))))}function wo(){return W.createElement("svg",{width:"45",height:"46",viewBox:"0 0 45 46",fill:"none",xmlns:"http://www.w3.org/2000/svg"},W.createElement("circle",{cx:"13.5002",cy:"8",r:"1.5",fill:"url(#paint0_linear_1414_55682)"}),W.createElement("circle",{cx:"19.5001",cy:"8",r:"1.5",fill:"url(#paint1_linear_1414_55682)"}),W.createElement("circle",{cx:"25.4994",cy:"8",r:"1.5",fill:"url(#paint2_linear_1414_55682)"}),W.createElement("circle",{cx:"31.5001",cy:"8",r:"1.5",fill:"url(#paint3_linear_1414_55682)"}),W.createElement("circle",{cx:"7.50049",cy:"14",r:"1.5",fill:"url(#paint4_linear_1414_55682)"}),W.createElement("circle",{cx:"7.50049",cy:"8",r:"1.5",fill:"url(#paint5_linear_1414_55682)"}),W.createElement("circle",{cx:"1.5",cy:"14",r:"1.5",fill:"url(#paint6_linear_1414_55682)"}),W.createElement("circle",{cx:"43.4999",cy:"14",r:"1.5",fill:"url(#paint7_linear_1414_55682)"}),W.createElement("circle",{cx:"13.5002",cy:"14",r:"1.5",fill:"url(#paint8_linear_1414_55682)"}),W.createElement("circle",{cx:"19.5001",cy:"14",r:"1.5",fill:"url(#paint9_linear_1414_55682)"}),W.createElement("circle",{cx:"25.4994",cy:"14.0002",r:"1.5",fill:"url(#paint10_linear_1414_55682)"}),W.createElement("circle",{cx:"31.5001",cy:"14",r:"1.5",fill:"url(#paint11_linear_1414_55682)"}),W.createElement("circle",{cx:"37.5002",cy:"14",r:"1.5",fill:"url(#paint12_linear_1414_55682)"}),W.createElement("circle",{cx:"37.5002",cy:"8",r:"1.5",fill:"url(#paint13_linear_1414_55682)"}),W.createElement("circle",{cx:"7.50049",cy:"20",r:"1.5",fill:"url(#paint14_linear_1414_55682)"}),W.createElement("circle",{cx:"1.5",cy:"20",r:"1.5",fill:"url(#paint15_linear_1414_55682)"}),W.createElement("circle",{cx:"43.4999",cy:"20",r:"1.5",fill:"url(#paint16_linear_1414_55682)"}),W.createElement("circle",{cx:"13.5002",cy:"20",r:"1.5",fill:"url(#paint17_linear_1414_55682)"}),W.createElement("circle",{cx:"19.5001",cy:"20",r:"1.5",fill:"url(#paint18_linear_1414_55682)"}),W.createElement("circle",{cx:"25.4994",cy:"20",r:"1.5",fill:"url(#paint19_linear_1414_55682)"}),W.createElement("circle",{cx:"31.5001",cy:"20",r:"1.5",fill:"url(#paint20_linear_1414_55682)"}),W.createElement("circle",{cx:"37.5002",cy:"20",r:"1.5",fill:"url(#paint21_linear_1414_55682)"}),W.createElement("circle",{cx:"7.50049",cy:"26",r:"1.5",fill:"url(#paint22_linear_1414_55682)"}),W.createElement("circle",{cx:"1.5",cy:"26",r:"1.5",fill:"url(#paint23_linear_1414_55682)"}),W.createElement("circle",{cx:"43.4999",cy:"26",r:"1.5",fill:"url(#paint24_linear_1414_55682)"}),W.createElement("circle",{cx:"13.5002",cy:"26",r:"1.5",fill:"url(#paint25_linear_1414_55682)"}),W.createElement("circle",{cx:"19.5001",cy:"26",r:"1.5",fill:"url(#paint26_linear_1414_55682)"}),W.createElement("circle",{cx:"25.4994",cy:"25.9998",r:"1.5",fill:"url(#paint27_linear_1414_55682)"}),W.createElement("circle",{cx:"31.5001",cy:"26",r:"1.5",fill:"url(#paint28_linear_1414_55682)"}),W.createElement("circle",{cx:"37.5002",cy:"26",r:"1.5",fill:"url(#paint29_linear_1414_55682)"}),W.createElement("circle",{cx:"7.50049",cy:"32",r:"1.5",fill:"url(#paint30_linear_1414_55682)"}),W.createElement("circle",{cx:"7.50049",cy:"38",r:"1.5",fill:"url(#paint31_linear_1414_55682)"}),W.createElement("circle",{cx:"1.5",cy:"32",r:"1.5",fill:"url(#paint32_linear_1414_55682)"}),W.createElement("circle",{cx:"43.4999",cy:"32",r:"1.5",fill:"url(#paint33_linear_1414_55682)"}),W.createElement("circle",{cx:"13.5002",cy:"32",r:"1.5",fill:"url(#paint34_linear_1414_55682)"}),W.createElement("circle",{cx:"19.5001",cy:"32",r:"1.5",fill:"url(#paint35_linear_1414_55682)"}),W.createElement("circle",{cx:"25.4994",cy:"32",r:"1.5",fill:"url(#paint36_linear_1414_55682)"}),W.createElement("circle",{cx:"31.5001",cy:"32",r:"1.5",fill:"url(#paint37_linear_1414_55682)"}),W.createElement("circle",{cx:"37.5002",cy:"32",r:"1.5",fill:"url(#paint38_linear_1414_55682)"}),W.createElement("circle",{cx:"37.5002",cy:"38",r:"1.5",fill:"url(#paint39_linear_1414_55682)"}),W.createElement("circle",{cx:"13.5002",cy:"38",r:"1.5",fill:"url(#paint40_linear_1414_55682)"}),W.createElement("circle",{cx:"19.5001",cy:"38",r:"1.5",fill:"url(#paint41_linear_1414_55682)"}),W.createElement("circle",{cx:"25.4994",cy:"38",r:"1.5",fill:"url(#paint42_linear_1414_55682)"}),W.createElement("circle",{cx:"31.5001",cy:"38",r:"1.5",fill:"url(#paint43_linear_1414_55682)"}),W.createElement("circle",{cx:"13.5002",cy:"44",r:"1.5",fill:"url(#paint44_linear_1414_55682)"}),W.createElement("circle",{cx:"19.5001",cy:"44",r:"1.5",fill:"url(#paint45_linear_1414_55682)"}),W.createElement("circle",{cx:"25.4994",cy:"44",r:"1.5",fill:"url(#paint46_linear_1414_55682)"}),W.createElement("circle",{cx:"31.5001",cy:"44",r:"1.5",fill:"url(#paint47_linear_1414_55682)"}),W.createElement("circle",{cx:"13.5002",cy:"2",r:"1.5",fill:"url(#paint48_linear_1414_55682)"}),W.createElement("circle",{cx:"19.5001",cy:"2",r:"1.5",fill:"url(#paint49_linear_1414_55682)"}),W.createElement("circle",{cx:"25.4994",cy:"2",r:"1.5",fill:"url(#paint50_linear_1414_55682)"}),W.createElement("circle",{cx:"31.5001",cy:"2",r:"1.5",fill:"url(#paint51_linear_1414_55682)"}),W.createElement("defs",null,W.createElement("linearGradient",{id:"paint0_linear_1414_55682",x1:"13.5002",y1:"6.5",x2:"13.5002",y2:"9.5",gradientUnits:"userSpaceOnUse"},W.createElement("stop",{stopColor:"#252525"}),W.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),W.createElement("linearGradient",{id:"paint1_linear_1414_55682",x1:"19.5001",y1:"6.5",x2:"19.5001",y2:"9.5",gradientUnits:"userSpaceOnUse"},W.createElement("stop",{stopColor:"#252525"}),W.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),W.createElement("linearGradient",{id:"paint2_linear_1414_55682",x1:"25.4994",y1:"6.5",x2:"25.4994",y2:"9.5",gradientUnits:"userSpaceOnUse"},W.createElement("stop",{stopColor:"#252525"}),W.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),W.createElement("linearGradient",{id:"paint3_linear_1414_55682",x1:"31.5001",y1:"6.5",x2:"31.5001",y2:"9.5",gradientUnits:"userSpaceOnUse"},W.createElement("stop",{stopColor:"#252525"}),W.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),W.createElement("linearGradient",{id:"paint4_linear_1414_55682",x1:"7.50049",y1:"12.5",x2:"7.50049",y2:"15.5",gradientUnits:"userSpaceOnUse"},W.createElement("stop",{stopColor:"#252525"}),W.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),W.createElement("linearGradient",{id:"paint5_linear_1414_55682",x1:"7.50049",y1:"6.5",x2:"7.50049",y2:"9.5",gradientUnits:"userSpaceOnUse"},W.createElement("stop",{stopColor:"#252525"}),W.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),W.createElement("linearGradient",{id:"paint6_linear_1414_55682",x1:"1.5",y1:"12.5",x2:"1.5",y2:"15.5",gradientUnits:"userSpaceOnUse"},W.createElement("stop",{stopColor:"#252525"}),W.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),W.createElement("linearGradient",{id:"paint7_linear_1414_55682",x1:"43.4999",y1:"12.5",x2:"43.4999",y2:"15.5",gradientUnits:"userSpaceOnUse"},W.createElement("stop",{stopColor:"#252525"}),W.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),W.createElement("linearGradient",{id:"paint8_linear_1414_55682",x1:"13.5002",y1:"12.5",x2:"13.5002",y2:"15.5",gradientUnits:"userSpaceOnUse"},W.createElement("stop",{stopColor:"#252525"}),W.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),W.createElement("linearGradient",{id:"paint9_linear_1414_55682",x1:"19.5001",y1:"12.5",x2:"19.5001",y2:"15.5",gradientUnits:"userSpaceOnUse"},W.createElement("stop",{stopColor:"#252525"}),W.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),W.createElement("linearGradient",{id:"paint10_linear_1414_55682",x1:"25.4994",y1:"12.5002",x2:"25.4994",y2:"15.5002",gradientUnits:"userSpaceOnUse"},W.createElement("stop",{stopColor:"#252525"}),W.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),W.createElement("linearGradient",{id:"paint11_linear_1414_55682",x1:"31.5001",y1:"12.5",x2:"31.5001",y2:"15.5",gradientUnits:"userSpaceOnUse"},W.createElement("stop",{stopColor:"#252525"}),W.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),W.createElement("linearGradient",{id:"paint12_linear_1414_55682",x1:"37.5002",y1:"12.5",x2:"37.5002",y2:"15.5",gradientUnits:"userSpaceOnUse"},W.createElement("stop",{stopColor:"#252525"}),W.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),W.createElement("linearGradient",{id:"paint13_linear_1414_55682",x1:"37.5002",y1:"6.5",x2:"37.5002",y2:"9.5",gradientUnits:"userSpaceOnUse"},W.createElement("stop",{stopColor:"#252525"}),W.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),W.createElement("linearGradient",{id:"paint14_linear_1414_55682",x1:"7.50049",y1:"18.5",x2:"7.50049",y2:"21.5",gradientUnits:"userSpaceOnUse"},W.createElement("stop",{stopColor:"#252525"}),W.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),W.createElement("linearGradient",{id:"paint15_linear_1414_55682",x1:"1.5",y1:"18.5",x2:"1.5",y2:"21.5",gradientUnits:"userSpaceOnUse"},W.createElement("stop",{stopColor:"#252525"}),W.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),W.createElement("linearGradient",{id:"paint16_linear_1414_55682",x1:"43.4999",y1:"18.5",x2:"43.4999",y2:"21.5",gradientUnits:"userSpaceOnUse"},W.createElement("stop",{stopColor:"#252525"}),W.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),W.createElement("linearGradient",{id:"paint17_linear_1414_55682",x1:"13.5002",y1:"18.5",x2:"13.5002",y2:"21.5",gradientUnits:"userSpaceOnUse"},W.createElement("stop",{stopColor:"#252525"}),W.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),W.createElement("linearGradient",{id:"paint18_linear_1414_55682",x1:"19.5001",y1:"18.5",x2:"19.5001",y2:"21.5",gradientUnits:"userSpaceOnUse"},W.createElement("stop",{stopColor:"#252525"}),W.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),W.createElement("linearGradient",{id:"paint19_linear_1414_55682",x1:"25.4994",y1:"18.5",x2:"25.4994",y2:"21.5",gradientUnits:"userSpaceOnUse"},W.createElement("stop",{stopColor:"#252525"}),W.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),W.createElement("linearGradient",{id:"paint20_linear_1414_55682",x1:"31.5001",y1:"18.5",x2:"31.5001",y2:"21.5",gradientUnits:"userSpaceOnUse"},W.createElement("stop",{stopColor:"#252525"}),W.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),W.createElement("linearGradient",{id:"paint21_linear_1414_55682",x1:"37.5002",y1:"18.5",x2:"37.5002",y2:"21.5",gradientUnits:"userSpaceOnUse"},W.createElement("stop",{stopColor:"#252525"}),W.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),W.createElement("linearGradient",{id:"paint22_linear_1414_55682",x1:"7.50049",y1:"24.5",x2:"7.50049",y2:"27.5",gradientUnits:"userSpaceOnUse"},W.createElement("stop",{stopColor:"#252525"}),W.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),W.createElement("linearGradient",{id:"paint23_linear_1414_55682",x1:"1.5",y1:"24.5",x2:"1.5",y2:"27.5",gradientUnits:"userSpaceOnUse"},W.createElement("stop",{stopColor:"#252525"}),W.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),W.createElement("linearGradient",{id:"paint24_linear_1414_55682",x1:"43.4999",y1:"24.5",x2:"43.4999",y2:"27.5",gradientUnits:"userSpaceOnUse"},W.createElement("stop",{stopColor:"#252525"}),W.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),W.createElement("linearGradient",{id:"paint25_linear_1414_55682",x1:"13.5002",y1:"24.5",x2:"13.5002",y2:"27.5",gradientUnits:"userSpaceOnUse"},W.createElement("stop",{stopColor:"#252525"}),W.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),W.createElement("linearGradient",{id:"paint26_linear_1414_55682",x1:"19.5001",y1:"24.5",x2:"19.5001",y2:"27.5",gradientUnits:"userSpaceOnUse"},W.createElement("stop",{stopColor:"#252525"}),W.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),W.createElement("linearGradient",{id:"paint27_linear_1414_55682",x1:"25.4994",y1:"24.4998",x2:"25.4994",y2:"27.4998",gradientUnits:"userSpaceOnUse"},W.createElement("stop",{stopColor:"#252525"}),W.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),W.createElement("linearGradient",{id:"paint28_linear_1414_55682",x1:"31.5001",y1:"24.5",x2:"31.5001",y2:"27.5",gradientUnits:"userSpaceOnUse"},W.createElement("stop",{stopColor:"#252525"}),W.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),W.createElement("linearGradient",{id:"paint29_linear_1414_55682",x1:"37.5002",y1:"24.5",x2:"37.5002",y2:"27.5",gradientUnits:"userSpaceOnUse"},W.createElement("stop",{stopColor:"#252525"}),W.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),W.createElement("linearGradient",{id:"paint30_linear_1414_55682",x1:"7.50049",y1:"30.5",x2:"7.50049",y2:"33.5",gradientUnits:"userSpaceOnUse"},W.createElement("stop",{stopColor:"#252525"}),W.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),W.createElement("linearGradient",{id:"paint31_linear_1414_55682",x1:"7.50049",y1:"36.5",x2:"7.50049",y2:"39.5",gradientUnits:"userSpaceOnUse"},W.createElement("stop",{stopColor:"#252525"}),W.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),W.createElement("linearGradient",{id:"paint32_linear_1414_55682",x1:"1.5",y1:"30.5",x2:"1.5",y2:"33.5",gradientUnits:"userSpaceOnUse"},W.createElement("stop",{stopColor:"#252525"}),W.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),W.createElement("linearGradient",{id:"paint33_linear_1414_55682",x1:"43.4999",y1:"30.5",x2:"43.4999",y2:"33.5",gradientUnits:"userSpaceOnUse"},W.createElement("stop",{stopColor:"#252525"}),W.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),W.createElement("linearGradient",{id:"paint34_linear_1414_55682",x1:"13.5002",y1:"30.5",x2:"13.5002",y2:"33.5",gradientUnits:"userSpaceOnUse"},W.createElement("stop",{stopColor:"#252525"}),W.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),W.createElement("linearGradient",{id:"paint35_linear_1414_55682",x1:"19.5001",y1:"30.5",x2:"19.5001",y2:"33.5",gradientUnits:"userSpaceOnUse"},W.createElement("stop",{stopColor:"#252525"}),W.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),W.createElement("linearGradient",{id:"paint36_linear_1414_55682",x1:"25.4994",y1:"30.5",x2:"25.4994",y2:"33.5",gradientUnits:"userSpaceOnUse"},W.createElement("stop",{stopColor:"#252525"}),W.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),W.createElement("linearGradient",{id:"paint37_linear_1414_55682",x1:"31.5001",y1:"30.5",x2:"31.5001",y2:"33.5",gradientUnits:"userSpaceOnUse"},W.createElement("stop",{stopColor:"#252525"}),W.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),W.createElement("linearGradient",{id:"paint38_linear_1414_55682",x1:"37.5002",y1:"30.5",x2:"37.5002",y2:"33.5",gradientUnits:"userSpaceOnUse"},W.createElement("stop",{stopColor:"#252525"}),W.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),W.createElement("linearGradient",{id:"paint39_linear_1414_55682",x1:"37.5002",y1:"36.5",x2:"37.5002",y2:"39.5",gradientUnits:"userSpaceOnUse"},W.createElement("stop",{stopColor:"#252525"}),W.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),W.createElement("linearGradient",{id:"paint40_linear_1414_55682",x1:"13.5002",y1:"36.5",x2:"13.5002",y2:"39.5",gradientUnits:"userSpaceOnUse"},W.createElement("stop",{stopColor:"#252525"}),W.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),W.createElement("linearGradient",{id:"paint41_linear_1414_55682",x1:"19.5001",y1:"36.5",x2:"19.5001",y2:"39.5",gradientUnits:"userSpaceOnUse"},W.createElement("stop",{stopColor:"#252525"}),W.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),W.createElement("linearGradient",{id:"paint42_linear_1414_55682",x1:"25.4994",y1:"36.5",x2:"25.4994",y2:"39.5",gradientUnits:"userSpaceOnUse"},W.createElement("stop",{stopColor:"#252525"}),W.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),W.createElement("linearGradient",{id:"paint43_linear_1414_55682",x1:"31.5001",y1:"36.5",x2:"31.5001",y2:"39.5",gradientUnits:"userSpaceOnUse"},W.createElement("stop",{stopColor:"#252525"}),W.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),W.createElement("linearGradient",{id:"paint44_linear_1414_55682",x1:"13.5002",y1:"42.5",x2:"13.5002",y2:"45.5",gradientUnits:"userSpaceOnUse"},W.createElement("stop",{stopColor:"#252525"}),W.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),W.createElement("linearGradient",{id:"paint45_linear_1414_55682",x1:"19.5001",y1:"42.5",x2:"19.5001",y2:"45.5",gradientUnits:"userSpaceOnUse"},W.createElement("stop",{stopColor:"#252525"}),W.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),W.createElement("linearGradient",{id:"paint46_linear_1414_55682",x1:"25.4994",y1:"42.5",x2:"25.4994",y2:"45.5",gradientUnits:"userSpaceOnUse"},W.createElement("stop",{stopColor:"#252525"}),W.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),W.createElement("linearGradient",{id:"paint47_linear_1414_55682",x1:"31.5001",y1:"42.5",x2:"31.5001",y2:"45.5",gradientUnits:"userSpaceOnUse"},W.createElement("stop",{stopColor:"#252525"}),W.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),W.createElement("linearGradient",{id:"paint48_linear_1414_55682",x1:"13.5002",y1:"0.5",x2:"13.5002",y2:"3.5",gradientUnits:"userSpaceOnUse"},W.createElement("stop",{stopColor:"#252525"}),W.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),W.createElement("linearGradient",{id:"paint49_linear_1414_55682",x1:"19.5001",y1:"0.5",x2:"19.5001",y2:"3.5",gradientUnits:"userSpaceOnUse"},W.createElement("stop",{stopColor:"#252525"}),W.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),W.createElement("linearGradient",{id:"paint50_linear_1414_55682",x1:"25.4994",y1:"0.5",x2:"25.4994",y2:"3.5",gradientUnits:"userSpaceOnUse"},W.createElement("stop",{stopColor:"#252525"}),W.createElement("stop",{offset:"1",stopColor:"#A4A4A4"})),W.createElement("linearGradient",{id:"paint51_linear_1414_55682",x1:"31.5001",y1:"0.5",x2:"31.5001",y2:"3.5",gradientUnits:"userSpaceOnUse"},W.createElement("stop",{stopColor:"#252525"}),W.createElement("stop",{offset:"1",stopColor:"#A4A4A4"}))))}let ws="tonearm-svg--tonearmBottom--3JC--";function wc(e){let{onTonearmHeadMouseDown:t}=e;return W.createElement("svg",{width:"27",height:"80",viewBox:"0 0 27 80",fill:"none",xmlns:"http://www.w3.org/2000/svg"},W.createElement("path",{d:"M18.7042 8.19556C18.7042 8.19556 18.7042 34.7407 18.7042 47.6641C18.7042 60.5876 13.9589 64.9213 13.9589 64.9213",stroke:"black",strokeOpacity:"0.2",strokeWidth:"5.33844",strokeLinecap:"round"}),W.createElement("g",{filter:"url(#filter0_dii_242_919)"},W.createElement("path",{d:"M18.7042 8.19556C18.7042 8.19556 18.7042 34.7407 18.7042 47.6641C18.7042 60.5876 13.9589 64.9213 13.9589 64.9213",stroke:"white",strokeWidth:"4.15212",strokeLinecap:"round"})),W.createElement("g",{filter:"url(#filter1_d_242_919)"},W.createElement("rect",{x:"14",y:"2",width:"9.49057",height:"11.8632",fill:"url(#paint0_linear_242_919)"}),W.createElement("rect",{x:"14.2966",y:"2.29658",width:"8.89741",height:"11.27",stroke:"black",strokeOpacity:"0.2",strokeWidth:"0.59316"})),W.createElement("g",{filter:"url(#filter2_d_242_919)",onMouseDown:t,className:ws},W.createElement("g",{filter:"url(#filter3_iii_242_919)"},W.createElement("path",{d:"M9.30333 62.425C9.93167 61.6761 11.0481 61.5785 11.7969 62.2068L16.3554 66.0318C17.1042 66.6601 17.2019 67.7766 16.5735 68.5254L10.4596 75.8116C9.8313 76.5604 8.71489 76.6581 7.96606 76.0298L7.14087 75.3374L4.23279 72.8972L3.40761 72.2048C2.65878 71.5764 2.56111 70.46 3.18945 69.7112L9.30333 62.425Z",fill:"#E9E9E9"})),W.createElement("path",{d:"M16.546 65.8046L11.9876 61.9796C11.1132 61.246 9.80976 61.36 9.07614 62.2343L2.96225 69.5206C2.22863 70.3949 2.34267 71.6984 3.21697 72.432L4.04216 73.1244L6.95024 75.5646L7.77542 76.257C8.64972 76.9906 9.95321 76.8766 10.6868 76.0023L16.8007 68.716C17.5343 67.8417 17.4203 66.5382 16.546 65.8046Z",stroke:"black",strokeOpacity:"0.25",strokeWidth:"0.59316"})),W.createElement("defs",null,W.createElement("filter",{id:"filter0_dii_242_919",x:"9.51017",y:"3.74674",width:"13.6427",height:"65.6232",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},W.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),W.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),W.createElement("feOffset",null),W.createElement("feGaussianBlur",{stdDeviation:"1.18632"}),W.createElement("feComposite",{in2:"hardAlpha",operator:"out"}),W.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.2 0"}),W.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_242_919"}),W.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_242_919",result:"shape"}),W.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),W.createElement("feOffset",{dx:"1.18632"}),W.createElement("feGaussianBlur",{stdDeviation:"0.415212"}),W.createElement("feComposite",{in2:"hardAlpha",operator:"arithmetic",k2:"-1",k3:"1"}),W.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0.709804 0 0 0 0 0.709804 0 0 0 0 0.709804 0 0 0 0.5 0"}),W.createElement("feBlend",{mode:"normal",in2:"shape",result:"effect2_innerShadow_242_919"}),W.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),W.createElement("feOffset",{dx:"-1.18632"}),W.createElement("feGaussianBlur",{stdDeviation:"0.415212"}),W.createElement("feComposite",{in2:"hardAlpha",operator:"arithmetic",k2:"-1",k3:"1"}),W.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0.708333 0 0 0 0 0.708333 0 0 0 0 0.708333 0 0 0 0.5 0"}),W.createElement("feBlend",{mode:"normal",in2:"effect2_innerShadow_242_919",result:"effect3_innerShadow_242_919"})),W.createElement("filter",{id:"filter1_d_242_919",x:"11.3451",y:"0.672526",width:"14.8005",height:"17.1732",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},W.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),W.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),W.createElement("feOffset",{dy:"1.32747"}),W.createElement("feGaussianBlur",{stdDeviation:"1.32747"}),W.createElement("feComposite",{in2:"hardAlpha",operator:"out"}),W.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.2 0"}),W.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_242_919"}),W.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_242_919",result:"shape"})),W.createElement("filter",{id:"filter2_d_242_919",x:"0.412163",y:"60.3145",width:"18.9386",height:"19.3776",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},W.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),W.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),W.createElement("feOffset",{dy:"0.884983"}),W.createElement("feGaussianBlur",{stdDeviation:"0.884983"}),W.createElement("feComposite",{in2:"hardAlpha",operator:"out"}),W.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.2 0"}),W.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_242_919"}),W.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_242_919",result:"shape"})),W.createElement("filter",{id:"filter3_iii_242_919",x:"1.29715",y:"60.3145",width:"16.8768",height:"17.3158",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},W.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),W.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),W.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),W.createElement("feOffset",{dy:"2.37264"}),W.createElement("feGaussianBlur",{stdDeviation:"0.29658"}),W.createElement("feComposite",{in2:"hardAlpha",operator:"arithmetic",k2:"-1",k3:"1"}),W.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 1 0 0 0 0 1 0 0 0 0 1 0 0 0 0.86 0"}),W.createElement("feBlend",{mode:"normal",in2:"shape",result:"effect1_innerShadow_242_919"}),W.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),W.createElement("feOffset",{dx:"1.77948",dy:"1.77948"}),W.createElement("feGaussianBlur",{stdDeviation:"0.29658"}),W.createElement("feComposite",{in2:"hardAlpha",operator:"arithmetic",k2:"-1",k3:"1"}),W.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 1 0 0 0 0 1 0 0 0 0 1 0 0 0 0.8 0"}),W.createElement("feBlend",{mode:"normal",in2:"effect1_innerShadow_242_919",result:"effect2_innerShadow_242_919"}),W.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),W.createElement("feOffset",{dx:"-0.884983",dy:"-0.884983"}),W.createElement("feGaussianBlur",{stdDeviation:"0.884983"}),W.createElement("feComposite",{in2:"hardAlpha",operator:"arithmetic",k2:"-1",k3:"1"}),W.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.17 0"}),W.createElement("feBlend",{mode:"normal",in2:"effect2_innerShadow_242_919",result:"effect3_innerShadow_242_919"})),W.createElement("linearGradient",{id:"paint0_linear_242_919",x1:"14",y1:"7.9316",x2:"23.4906",y2:"7.9316",gradientUnits:"userSpaceOnUse"},W.createElement("stop",{stopColor:"#CACACA"}),W.createElement("stop",{offset:"0.253125",stopColor:"#E2E2E2"}),W.createElement("stop",{offset:"0.384375",stopColor:"#F3F3F3"}),W.createElement("stop",{offset:"0.500704",stopColor:"white"}),W.createElement("stop",{offset:"0.625",stopColor:"#F3F3F3"}),W.createElement("stop",{offset:"0.753125",stopColor:"#E2E2E2"}),W.createElement("stop",{offset:"1",stopColor:"#CACACA"}))))}function wd(e){let{onTonearmHeadMouseDown:t}=e;return W.createElement("svg",{width:"24",height:"72",viewBox:"0 0 24 72",fill:"none",xmlns:"http://www.w3.org/2000/svg"},W.createElement("path",{d:"M16.8776 7.53516C16.8776 7.53516 16.8776 31.2514 16.8776 42.7976C16.8776 54.3438 12.6379 58.2157 12.6379 58.2157",stroke:"black",strokeOpacity:"0.2",strokeWidth:"4.76953",strokeLinecap:"round"}),W.createElement("g",{filter:"url(#filter0_dii_254_922)"},W.createElement("path",{d:"M16.8776 7.53516C16.8776 7.53516 16.8776 31.2514 16.8776 42.7976C16.8776 54.3438 12.6379 58.2157 12.6379 58.2157",stroke:"white",strokeWidth:"3.70964",strokeLinecap:"round"})),W.createElement("g",{filter:"url(#filter1_d_254_922)"},W.createElement("rect",{x:"12.675",y:"2",width:"8.47917",height:"10.599",fill:"url(#paint0_linear_254_922)"}),W.createElement("rect",{x:"12.94",y:"2.26497",width:"7.94922",height:"10.069",stroke:"black",strokeOpacity:"0.2",strokeWidth:"0.529948"})),W.createElement("g",{filter:"url(#filter2_d_254_922)",onMouseDown:t,className:ws},W.createElement("g",{filter:"url(#filter3_iii_254_922)"},W.createElement("path",{d:"M8.4789 55.9858C9.04027 55.3168 10.0377 55.2295 10.7067 55.7909L14.7794 59.2082C15.4484 59.7696 15.5357 60.7671 14.9743 61.4361L9.51198 67.9459C8.9506 68.6149 7.95316 68.7021 7.28414 68.1408L6.54689 67.5221L3.94872 65.342L3.21147 64.7234C2.54245 64.162 2.45518 63.1646 3.01656 62.4955L8.4789 55.9858Z",fill:"#E9E9E9"})),W.createElement("path",{d:"M14.9497 59.0053L10.8771 55.5879C10.0959 54.9325 8.93136 55.0343 8.27591 55.8155L2.81358 62.3252C2.15814 63.1064 2.26002 64.2709 3.04115 64.9264L3.7784 65.545L6.37657 67.7251L7.11382 68.3437C7.89494 68.9992 9.05952 68.8973 9.71496 68.1162L15.1773 61.6064C15.8327 60.8253 15.7309 59.6607 14.9497 59.0053Z",stroke:"black",strokeOpacity:"0.25",strokeWidth:"0.529948"})),W.createElement("defs",null,W.createElement("filter",{id:"filter0_dii_254_922",x:"8.66341",y:"3.56051",width:"12.1888",height:"58.6298",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},W.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),W.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),W.createElement("feOffset",null),W.createElement("feGaussianBlur",{stdDeviation:"1.0599"}),W.createElement("feComposite",{in2:"hardAlpha",operator:"out"}),W.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.2 0"}),W.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_254_922"}),W.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_254_922",result:"shape"}),W.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),W.createElement("feOffset",{dx:"1.0599"}),W.createElement("feGaussianBlur",{stdDeviation:"0.370964"}),W.createElement("feComposite",{in2:"hardAlpha",operator:"arithmetic",k2:"-1",k3:"1"}),W.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0.709804 0 0 0 0 0.709804 0 0 0 0 0.709804 0 0 0 0.5 0"}),W.createElement("feBlend",{mode:"normal",in2:"shape",result:"effect2_innerShadow_254_922"}),W.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),W.createElement("feOffset",{dx:"-1.0599"}),W.createElement("feGaussianBlur",{stdDeviation:"0.370964"}),W.createElement("feComposite",{in2:"hardAlpha",operator:"arithmetic",k2:"-1",k3:"1"}),W.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0.708333 0 0 0 0 0.708333 0 0 0 0 0.708333 0 0 0 0.5 0"}),W.createElement("feBlend",{mode:"normal",in2:"effect2_innerShadow_254_922",result:"effect3_innerShadow_254_922"})),W.createElement("filter",{id:"filter1_d_254_922",x:"10.303",y:"0.813993",width:"13.2233",height:"15.343",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},W.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),W.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),W.createElement("feOffset",{dy:"1.18601"}),W.createElement("feGaussianBlur",{stdDeviation:"1.18601"}),W.createElement("feComposite",{in2:"hardAlpha",operator:"out"}),W.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.2 0"}),W.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_254_922"}),W.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_254_922",result:"shape"})),W.createElement("filter",{id:"filter2_d_254_922",x:"0.535357",y:"54.1002",width:"16.9203",height:"17.3126",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},W.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),W.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),W.createElement("feOffset",{dy:"0.790671"}),W.createElement("feGaussianBlur",{stdDeviation:"0.790671"}),W.createElement("feComposite",{in2:"hardAlpha",operator:"out"}),W.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.2 0"}),W.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_254_922"}),W.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_254_922",result:"shape"})),W.createElement("filter",{id:"filter3_iii_254_922",x:"1.32603",y:"54.1002",width:"15.0782",height:"15.4705",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},W.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),W.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),W.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),W.createElement("feOffset",{dy:"2.11979"}),W.createElement("feGaussianBlur",{stdDeviation:"0.264974"}),W.createElement("feComposite",{in2:"hardAlpha",operator:"arithmetic",k2:"-1",k3:"1"}),W.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 1 0 0 0 0 1 0 0 0 0 1 0 0 0 0.86 0"}),W.createElement("feBlend",{mode:"normal",in2:"shape",result:"effect1_innerShadow_254_922"}),W.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),W.createElement("feOffset",{dx:"1.58984",dy:"1.58984"}),W.createElement("feGaussianBlur",{stdDeviation:"0.264974"}),W.createElement("feComposite",{in2:"hardAlpha",operator:"arithmetic",k2:"-1",k3:"1"}),W.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 1 0 0 0 0 1 0 0 0 0 1 0 0 0 0.8 0"}),W.createElement("feBlend",{mode:"normal",in2:"effect1_innerShadow_254_922",result:"effect2_innerShadow_254_922"}),W.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),W.createElement("feOffset",{dx:"-0.790671",dy:"-0.790671"}),W.createElement("feGaussianBlur",{stdDeviation:"0.790671"}),W.createElement("feComposite",{in2:"hardAlpha",operator:"arithmetic",k2:"-1",k3:"1"}),W.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.17 0"}),W.createElement("feBlend",{mode:"normal",in2:"effect2_innerShadow_254_922",result:"effect3_innerShadow_254_922"})),W.createElement("linearGradient",{id:"paint0_linear_254_922",x1:"12.675",y1:"7.29948",x2:"21.1542",y2:"7.29948",gradientUnits:"userSpaceOnUse"},W.createElement("stop",{stopColor:"#CACACA"}),W.createElement("stop",{offset:"0.253125",stopColor:"#E2E2E2"}),W.createElement("stop",{offset:"0.384375",stopColor:"#F3F3F3"}),W.createElement("stop",{offset:"0.500704",stopColor:"white"}),W.createElement("stop",{offset:"0.625",stopColor:"#F3F3F3"}),W.createElement("stop",{offset:"0.753125",stopColor:"#E2E2E2"}),W.createElement("stop",{offset:"1",stopColor:"#CACACA"}))))}function wm(e){let{onPause:t,onResume:n}=e,[a,r]=W.useState(null),l=W.useRef(0),i=W.useRef(0),o=(0,Y.w1)(e=>{var t,n;return null==(n=null==(t=e.music)?void 0:t.music)?void 0:n.isPaused}),s=(0,id.GO)(),c=(null==s?void 0:s.shouldOptimizeForIpadApp)||et.cp.isIpad,d=W.useCallback(e=>{if(!1===o){let t=e.clientX;r(22-(0,C0.qk)(t-l.current,0,21)/21*22)}else{let t=e.clientX;r((0,C0.qk)(l.current-t,0,21)/21*22)}},[o,22,21]),m=W.useCallback(e=>{document.removeEventListener("mousemove",d),document.removeEventListener("mouseup",m);let a=!1===o;if(Date.now()-i.current<100)a?t():n();else if(a){let n=e.clientX;(0,C0.qk)(n-l.current,0,21)>10.5&&t()}else{let t=e.clientX;(0,C0.qk)(l.current-t,0,21)>10.5&&n()}l.current=0,r(null)},[d,o,t,n]),u=e=>{l.current=e.clientX,i.current=Date.now(),document.addEventListener("mousemove",d),document.addEventListener("mouseup",m)},p=null!=a?a:!1===o?22:0;return W.createElement("div",{className:q()({"tonearm--tonearmStandalone--UOmob":"timedjam"===e.tonearmType,"tonearm--tonearmPanel--KyeLs tonearm--tonearmStandalone--UOmob":"panel"===e.tonearmType}),style:{transform:`rotate(${p}deg)`,transition:null!=a?"transform 0.1s linear":"transform 0.3s ease-in-out"}},"panel"===e.tonearmType?W.createElement(wd,{onTonearmHeadMouseDown:c?void 0:u}):W.createElement(wc,{onTonearmHeadMouseDown:c?void 0:u}))}let wu="turntable--gray--OY0Du";var wp=n(940620);function w_(e){let{handlePause:t,handleTonearmResume:n,size:a="large",grayCoverArtWhenPaused:r,withoutBorder:l}=e;return W.createElement("div",{className:q()("turntable--recordPlayerBase--WG5CH",{"turntable--recordBaseSmall--ZpHXz":"small"===a,"turntable--withoutBorder--28x4E":l})},W.createElement(wE,{handlePause:t,handleTonearmResume:n,size:e.size,grayCoverArtWhenPaused:r}),W.createElement("div",{className:"turntable--speakerGrill--DXQjl"},"small"===e.size?W.createElement(wi,null):W.createElement(wo,null)))}function wE(e){let{handlePause:t,handleTonearmResume:n,size:a,grayCoverArtWhenPaused:r}=e;return W.createElement("div",{className:q()("turntable--recordPlayer--0aMTu",{"turntable--recordPlayerSmall--tE3FI":"small"===a})},W.createElement(wg,{size:a,grayCoverArtWhenPaused:r}),W.createElement(wm,{onPause:t,onResume:n,tonearmType:"small"===a?"panel":"timedjam"}))}function wg(e){let{size:t,maskAlbumArtWhenPaused:n,maskRef:a,useGrayMask:r,grayCoverArtWhenPaused:l}=e,i=function(){let e=(0,Y.w1)(e=>e.music.music),t=C6((null==e?void 0:e.selectedSongID)||""),n=C8(),a=t&&t.album_art;return!n||!a}()&&!!n;return W.createElement("div",{className:q()("turntable--record--96NxV",{"turntable--xsmall--eqtGp":"xsmall"===t,"turntable--small--b8Qni":"small"===t,"turntable--large--oXtu6":"large"===t})},W.createElement(wl,null),W.createElement(wh,{size:t,showMask:i,maskRef:a,useGrayMask:r,grayCoverArtWhenPaused:l}))}function wh(e){let t=(0,Y.w1)(e=>e.music.music),n=C6((null==t?void 0:t.selectedSongID)||""),a=C8(),r=n&&n.album_art;return(0,sC.uc)("showUi")?W.createElement("div",{className:q()("turntable--spinningAlbum--N7jwa",{"turntable--spinningAlbumXSmall--vzhVj":"xsmall"===e.size,"turntable--spinningAlbumSmall--d-AJf":"small"===e.size,"turntable--spinningAlbumLarge--SWUZ2":"large"===e.size})},r&&W.createElement("img",{className:q()("turntable--spinningAlbumImage--H-qwO",{"turntable--spinningAlbumPlaying--UDk-I":(null==t?void 0:t.isPaused)===!1,[wu]:e.grayCoverArtWhenPaused&&!a}),src:n.album_art,alt:"spinning album art"}),W.createElement("div",{ref:e.maskRef,className:q()("turntable--spinningAlbumImageMask--PZ7Cr turntable--spinningAlbumImage--H-qwO",{"turntable--noOpacity--ZKZnl":!e.showMask,[wu]:e.useGrayMask})},W.createElement(eN.A,{className:"turntable--maskIcon--mZo9b",svg:wp.c}))):null}var wf=n(817076);function wv(){let e=(0,th.S)(!0),t=!(0,wf.Y)()&&e.enabled,n=(0,Y.w1)(e=>e.userFlags.dismissed_figjam_music_volume_hint),a=(0,Y.w1)(e=>{var t,n;return(null==(t=e.music.music)?void 0:t.selectedSongID)&&(null==(n=e.music.music)?void 0:n.selectedSongID)!==""}),r=(0,Y.w1)(e=>{var t,n;return(null==(t=e.music.music)?void 0:t.isPaused)===!1&&(null==(n=e.music.music)?void 0:n.isStopped)===!1}),l=(0,Y.OY)();return t||n||!r||!a?null:W.createElement("div",{className:q()("volume_hint--hintContainer--A9gj2",eR.cp),"data-testid":"volume-hint"},W.createElement("div",null,W.createElement(ex.Tx,{id:"whiteboard.timer.music_volume_hint_prompt_cta_v2",promptQuestion:W.createElement("span",{className:"volume_hint--bold--vS77N"},(0,ex.t)("whiteboard.timer.music_volume_hint_prompt_question"))})),W.createElement(rW.CA,{className:"volume_hint--hintCloseButton--Rubtd",onClick:()=>{l(tm.s({dismissed_figjam_music_volume_hint:!0}))}}))}let wy="buttons--withHover--csWRq",wC="buttons--flexGrow--Qu8-s";function ww(e){let{flexGrow:t,...n}=e,a=(0,C7.yW)();return W.createElement(eT.wX,{className:q()("buttons--secondaryButton--Y7X0E",{[wC]:e.flexGrow,[wy]:!a}),...n},e.children)}function wb(e){let{flexGrow:t,...n}=e,a=(0,C7.yW)();return W.createElement(eT.gV,{className:q()("buttons--primaryButton--cOfBR",{[wC]:e.flexGrow,[wy]:!a}),...n},e.children)}function wT(e){let{titleText:t,bodyText:n,cancelButtonText:a,confirmButtonText:r,onCancel:l,onConfirm:i,onCancelDisabled:o,onConfirmDisabled:s,recordingKey:c}=e;return W.createElement("div",{className:ap.cx.p16.colorBg.$},W.createElement("div",{className:"meeting_tool_cancel_view--headerTitleV2--KRaEU text--fontPos14--OL9Hp text--_fontBase--QdLsd"},t),W.createElement("div",{className:"meeting_tool_cancel_view--descriptionSectionV2--fAYp- text--fontPos11--2LvXf text--_fontBase--QdLsd"},n),W.createElement("div",{className:ap.cx.flex.gap10.$},W.createElement(ww,{flexGrow:!0,onClick:l,disabled:o,recordingKey:lI.Mx(c,"cancel")},a),W.createElement(wb,{flexGrow:!0,onClick:i,disabled:s,recordingKey:lI.Mx(c,"confirm")},r)))}let wx="playback_control_button--mediaControlButton--Wp3H1",wk="playback_control_button--withHover--9DG-T";var wN=n(3816),wS=n(859584),wI=n(826052),wA=((y=wA||{}).PLAY="play",y.PAUSE="pause",y.STOP="stop",y);function wO(e){let t=(0,C7.yW)(),{buttonState:n,onClick:a,disabled:r,dataTooltip:l,dataOnboardingKey:i}=e;switch(n){case"play":return W.createElement("button",{className:q()("playback_control_button--playButton--a1I8c playback_control_button--mediaControlButton--Wp3H1",{[wk]:!t}),"data-tooltip-type":n1.wL.TEXT,"data-tooltip":l,"data-onboarding-key":i,disabled:r,onClick:a},W.createElement(eN.A,{svg:wS.c}));case"pause":return W.createElement("button",{className:q()(wx,{[wk]:!t}),"data-tooltip-type":n1.wL.TEXT,"data-tooltip":l,"data-onboarding-key":i,disabled:r,onClick:a},W.createElement(eN.A,{svg:wN.c}));case"stop":return W.createElement("button",{className:q()(wx,{[wk]:!t}),"data-tooltip-type":n1.wL.TEXT,"data-tooltip":l,disabled:r,onClick:a,"data-onboarding-key":i},W.createElement(eN.A,{svg:wI.c}))}}function wM(){let[e,t]=W.useState(!1),n=(0,Y.w1)(e=>e.music.music),a=(0,Y.w1)(e=>e.music.playerInstance),r=(null==n?void 0:n.selectedSongID)||"",l=C6(r),i=null==l?void 0:l.start_at_ms,o=(0,Y.w1)(e=>e.multiplayer.allUsers.length),[s,c]=W.useState(!1),d=(0,Y.w1)(e=>e.music.activeSongs,C4.gh),m=C8(),u=(0,Y.OY)();W.useEffect(()=>{d.length&&c(!1)},[d.length]);let p=(0,eg.i)((0,Y.w1)(e=>e)),_=W.useCallback(()=>{r&&(0,we.IF)(p.current,r),u(C$.EJ({musicStartTimeMs:i}))},[u,i,r,p]),E=W.useCallback(()=>{r&&(0,we.AZ)(p.current,r),u(C$.Ux())},[u,r,p]),g=W.useCallback(()=>{_()},[_]),h=W.useCallback(()=>{let e=(null==a?void 0:a.lastPlayedTimestamp)?a.lastPlayedTimestamp:0;(0,C4.Uh)(e,o)?t(!0):E()},[E,a,o]),f=W.useCallback(()=>_(),[_]);return e?W.createElement(wT,{titleText:(0,ex.t)("whiteboard.music.stop_music_confirmation_prompt"),bodyText:(0,ex.t)("whiteboard.music.stop_music_confirmation_subtext"),cancelButtonText:(0,ex.t)("whiteboard.music.stop_music_cancel_button"),confirmButtonText:(0,ex.t)("whiteboard.timer.stop_timer_confirmation_button"),onCancel:()=>t(!1),onConfirm:()=>{t(!1),E()}}):W.createElement(W.Fragment,null,W.createElement("div",{id:"musicModal",className:"music_view--musicView--XegVa","data-testid":"music-modal"},W.createElement(w_,{handlePause:E,handleTonearmResume:g,size:"large",grayCoverArtWhenPaused:!0,withoutBorder:!0}),W.createElement("div",{className:"music_view--controlContainer--GYIKD"},W.createElement("div",{className:"music_view--selectSongContainer--qoUiA"},W.createElement(wa,{selectedSong:l,activeSongs:d,isLoading:s,withBorder:!0,withHeavyFont:!0})),W.createElement(wO,{buttonState:m?wA.STOP:wA.PLAY,onClick:m?h:f,dataTooltip:m?(0,ex.t)("whiteboard.music.end_music_tooltip"):(0,ex.t)("whiteboard.music.play_music_tooltip")}))),W.createElement(wv,null))}var wP=n(30764),wL=n(862912),wD=n(882784),wR=n(718128);let wF=null,wB=null,wU=null,wK=()=>(0,Y.w1)(e=>e.music.playerInstance),wG=()=>1e3;function wH(){var e;let[t,n]=W.useState({}),a=(0,Y.w1)(e=>e.timer);W.useEffect(()=>{var e;if(!a||!a.time||(null==(e=null==a?void 0:a.time)?void 0:e.isPaused))return;let t=setTimeout(()=>n({}),wG());return()=>{clearTimeout(t)}},[t,a,null==(e=a.time)?void 0:e.isPaused])}function wV(){let e=(0,Y.w1)(e=>e.timer),t=(0,Y.w1)(e=>(0,nl.QZ)(e)),n=(0,Y.w1)(e=>t?(0,uT.D$)(t,e.repos):null),a=Math.ceil((0,CJ.ai)(e.time)/1e3);a>0?(0,C$.cx)(t,n,a):(0,C$.cx)(t,n)}let wW=()=>{wU&&wU.pause(),wF&&wF.pause(),wB&&wB.pause(),wF=new Audio(wz),wB=new Audio(wX),wU=new Audio(wj)},wY=(e,t,n,a,r,l)=>{var i,o;if(!n.current||!e)return;let s=(0,CJ.ai)(n.current.time);if("add-minutes"===e.lastAction.type){if(wF&&wF.pause(),null==(i=l.current)||i.resetFades(),null==(o=l.current)||o.fadeIn({}),!n.current.time||0===n.current.time.totalTimeMs)return;let a=6e4*e.lastAction.minutes;n.current.time&&s+a<CJ.sT&&t(C$.Gq({timer:n.current.time,deltaMs:a}))}"start-timer"===e.lastAction.type&&((0,e_.AP)().set("last-timer-set-time",e.lastUsedTime),t(C$.Cs({totalTimeMs:1e3*e.lastUsedTime,musicStartTimeMs:n.current.musicStartTimeMs})),wU&&a.current&&!r.current&&e.lastUsedTime>5&&(0,CJ.kr)(wU,a.current)),"pause-timer"===e.lastAction.type&&t(C$.G7(n.current.time)),"resume-timer"===e.lastAction.type&&t(C$.W(n.current.time)),"stop-timer"===e.lastAction.type&&(wW(),t(C$.Av()))},wj="https://static.figma.com/uploads/304a1a341a619feb4af7d377c75dd325534e1734",wX="https://static.figma.com/uploads/f45e11344ee4f618173695e2405a9a988affc910",wz="https://static.figma.com/uploads/54a944bea3fce3ca45c91429993683685bec5782",wq=()=>{W.useEffect(()=>{null===wU&&(wU=new Audio(wj)),null===wB&&(wB=new Audio(wX)),null===wF&&(wF=new Audio(wz))},[])},wZ=e=>{let t=(0,eg.i)(e),n=(0,Y.OY)(),a=(0,Y.w1)(e=>e.timer),r=(0,eg.i)(a),l=(0,eg.i)((0,Y.w1)(e=>e.timer.volume)),i=(0,eg.i)((0,Y.w1)(e=>e.timer.isMuted)),o=(0,eg.i)(wK());W.useEffect(()=>{wY(e,n,r,l,i,o)},[t,n,i,o,r,e,l])},wQ=()=>{let e=(0,Y.OY)(),t=(0,eg.i)((0,Y.w1)(e=>e.timer.volume)),n=(0,eg.i)((0,Y.w1)(e=>e.timer.setBy)),a=(0,eg.i)((0,t1.C2)()),r=(0,eg.i)((0,Y.w1)(e=>e.timer.isMuted)),l=(0,eg.i)(wK()),i=(0,Y.w1)(e=>e.music.music);return{callbackToRunAtFiveSecondsLeft:W.useCallback((n,a)=>{n.current&&(null==wF?void 0:wF.paused)&&!r.current&&(l.current&&l.current.fadeOut({fadeOutLength:5e3,shouldStopWhenFadedOut:!0,targetVolumeMultiplier:0}),(0,CJ.kr)(wF,t.current)),a.current||e(C$.o3({state:"open",userInitiated:!1}))},[e,r,l,t]),callbackToRunWhenTimerFinishes:W.useCallback((n,a)=>{wF&&wF.pause(),n.current&&wB&&!r.current&&(0,CJ.kr)(wB,t.current),cD.qW.timerChange("timerdone"),a.current||e(C$.o3({state:"open",userInitiated:!1}))},[e,r,t]),callbackToRunAfterAnimationFinishes:W.useCallback(t=>{var r,o;if(i&&e(C$.eY(i)),"visible"===document.visibilityState)e(C$.Av()),t({type:"reset-state"}),n.current!==(null==(r=a.current)?void 0:r.name)&&e(C$.o3({state:"closed",userInitiated:!1}));else{let t=()=>{e(C$.o3({state:"open",userInitiated:!1})),window.removeEventListener("focus",t)};window.addEventListener("focus",t)}wW(),null==(o=l.current)||o.resetFades()},[a,e,i,n,l])}},wJ=e=>{let t=(0,Y.OY)(),n=(0,Y.w1)(e=>e.timer.time),a=(0,eg.i)((0,Y.w1)(e=>e.timer.audioEnabled)),r=(0,eg.i)((0,Y.w1)(e=>e.timer&&"open"===e.timer.modalState)),l=(0,eg.i)((0,Y.w1)(e=>e.timer.volume)),i=(0,eg.i)(wK()),o=(0,Y.w1)(e=>e.timer.isMuted),s=!n||n.isPaused,c=(0,Y.w1)(e=>{var t;return null==(t=e.music.music)?void 0:t.isPaused}),{callbackToRunAtFiveSecondsLeft:d,callbackToRunWhenTimerFinishes:m,callbackToRunAfterAnimationFinishes:u}=wQ();W.useEffect(()=>{var t,p,_;if(s){wF&&wF.pause(),!1===c&&(null==(t=i.current)||t.fadeIn({fadeInLength:1e3}));return}let E=(0,CJ.ai)(n);E<5e3&&a.current&&(null==wF?void 0:wF.paused)&&!o&&(0,CJ.kr)(wF,l.current),wF&&(wF.muted=o),E>5e3&&wF&&(wF.pause(),null==(p=i.current)||p.resetFades(),null==(_=i.current)||_.fadeIn({}));let g=[];return E>5e3&&g.push(window.setTimeout(()=>d(a,r),E-5e3)),g.push(window.setTimeout(()=>m(a,r),E)),g.push(window.setTimeout(()=>u(e),E+CJ.Gf)),()=>{g.forEach(clearTimeout)}},[n,s,t,e,m,u,d,r,l,a,i,o,c])},w$=(e,t)=>{W.useEffect(()=>{e.length>0&&e.forEach(e=>{e&&(e.volume=t/100)})},[e,t])},w0=e=>{let t=(0,t$.AL)(),n=(0,Y.w1)(e=>e.multiplayer.allUsers.length),a=W.useRef(n);return a.current=n,W.useCallback(()=>{(0,$.Ub)().workspace_activity_write&&t&&t.team&&t.team.workspaceId&&wR.W.recordActivity({activityUnitType:wD.cv.FILE_COLLABORATION,fileKey:t.key,collaborationType:wD.kb.TIMER_STARTED,numPeopleInFile:a.current}),e({type:"start-timer"})},[e,t,a])};function w1(){let[e,t]=(0,eo.lZ)(wL.s$),n=(0,Y.w1)(e=>e.timer.volume),a=(0,eg.i)((0,Y.w1)(e=>e.timer.volume)),r=(0,eg.i)((0,Y.w1)(e=>e.timer.isMuted)),l=W.useRef(e.lastUsedTime),i=w0(t);return[e,W.useMemo(()=>({setMinutes:e=>t({type:"set-minutes",minutes:e}),setSeconds:e=>t({type:"set-seconds",seconds:e}),setTime:(e,n)=>t({type:"set-time",minutes:e,seconds:n}),addMinutes:e=>t({type:"add-minutes",minutes:e}),startTimer:i,stopTimer:()=>t({type:"stop-timer"}),pauseTimer:()=>t({type:"pause-timer"}),resumeTimer:()=>t({type:"resume-timer"}),playStartChime:()=>{wU&&a.current&&!r.current&&l.current>5&&(0,CJ.kr)(wU,n)}}),[a,r,n,t,i])]}let w2="time_display--xsmall--RksCd",w5="time_display--medium--bxQbL",w3="time_display--large--nQrfq",w4="time_display--xlarge--HRGrX",w6="time_display--clockStyleWrapper--TN05b",w8="time_display--timeDiv--Y0hTB";var w9=((C=w9||{}).XSMALL="xsmall",C.MEDIUM="medium",C.LARGE="large",C.XLARGE="xlarge",C),w7=((w=w7||{}).DEFAULT="DEFAULT",w.SECONDARY="SECONDARY",w.TERTIARY="TERTIARY",w);let be=({minutesRef:e,disabled:t})=>{W.useLayoutEffect(()=>{var n,a;t||(null==(n=e.current)||n.focus(),null==(a=e.current)||a.select())},[t,e])};function bt({timerActions:e,timerState:t,isStopped:n,withoutUnderline:a,withoutClockDisplay:r,isInUI3Toolbar:l,size:i="medium"}){let o=function(e,t){let{setMinutes:n,setSeconds:a,startTimer:r,setTime:l,addMinutes:i}=e,o=W.useRef(null),s=W.useRef(null),c=(0,Y.OY)(),d=W.useCallback(e=>{var t;if(!e.currentTarget.value.match(/^[0-9]?[0-9]?$/)){e.preventDefault();return}n(e.currentTarget.value),e.currentTarget.value.length>1&&(null==(t=s.current)||t.select())},[s,n]),m=W.useCallback(e=>{var t;if("ArrowUp"===e.key||"ArrowDown"===e.key){if(isNaN(parseInt(e.currentTarget.value)))return;i(("ArrowUp"===e.key?1:-1)*(e.shiftKey?5:1)),setTimeout(()=>{var e;return null==(e=o.current)?void 0:e.select()},0),e.preventDefault()}else if("ArrowRight"===e.key&&o.current){if(o.current.selectionStart===o.current.value.length&&s.current){s.current.select(),e.preventDefault();return}}else if("Enter"===e.key)r();else if("Escape"===e.key){c(C$.o3({state:"closed",userInitiated:!0,source:"keyboard"}));return}else if(":"===e.key){null==(t=s.current)||t.select(),e.preventDefault();return}else(0,ai.eI)(e)},[i,c,r]),u=W.useCallback(()=>{if(!o.current)return;let e=o.current.value;0===e.length?n("00"):e.length<2?n(`0${e}`):n(e)},[o,n]),p=W.useCallback(()=>{var e;null==(e=o.current)||e.select()},[o]),_=W.useCallback(e=>{if(!e.currentTarget.value.match(/^[0-9]?[0-9]?$/)){e.preventDefault();return}let n=parseInt(e.currentTarget.value);n>59&&"99"!==t.minutes?(n-=60,l((0,CJ.CC)(parseInt(t.minutes)+1),(0,CJ.CC)(n))):n>59?a((0,CJ.CC)(59)):(n<60||isNaN(n))&&a(e.currentTarget.value)},[a,l,t.minutes]);return{handleMinutesChange:d,handleMinutesKeyDown:m,handleMinutesBlur:u,handleMinutesFocus:p,handleSecondsChange:_,handleSecondsKeyDown:W.useCallback(e=>{var i,d;let m;if("ArrowLeft"===e.key&&s.current){if(0===s.current.selectionEnd&&o.current){o.current.select(),e.preventDefault();return}}else if("Enter"===e.key){""!==t.minutes&&""!==t.seconds&&parseInt(t.minutes)+parseInt(t.seconds)!==0&&r();return}else if("Escape"===e.key){c(C$.o3({state:"closed",userInitiated:!0,source:"keyboard"}));return}else if((null==(i=s.current)?void 0:i.value)===""&&"Backspace"===e.key&&(null==(d=o.current)?void 0:d.value)){n(o.current.value.substring(0,o.current.value.length-1)||"0"),o.current.focus(),e.preventDefault();return}if((0,ai.eI)(e)||"ArrowUp"!==e.key&&"ArrowDown"!==e.key)return;let u=parseInt(t.seconds);if(!isNaN(u)){if("ArrowUp"===e.key){if((u+=e.shiftKey?5:1)>59&&"99"===t.minutes)return;u>=60&&(u-=60,m=1)}else if("ArrowDown"===e.key&&(u-=e.shiftKey?5:1)<0){if(0===parseInt(t.minutes))return;m=-1,u+=60}setTimeout(()=>{var e;return null==(e=s.current)?void 0:e.select()},0),e.preventDefault(),m?l((0,CJ.CC)(parseInt(t.minutes)+m),(0,CJ.CC)(u)):a((0,CJ.CC)(u))}},[c,o,s,n,a,l,r,t.minutes,t.seconds]),handleSecondsBlur:W.useCallback(()=>{a((0,CJ.CC)(parseInt(t.seconds||"00")))},[a,t.seconds]),handleSecondsFocus:W.useCallback(()=>{var e;null==(e=s.current)||e.select()},[s]),secondsRef:s,minutesRef:o}}(e,t);return be({minutesRef:o.minutesRef,disabled:et.cp.isMeetDevice}),W.createElement(W.Fragment,null,n?W.createElement(br,{timerState:t,timerEventHandlers:o,withoutUnderline:a,withoutClockDisplay:r,size:i}):W.createElement(bn,{withoutUnderline:a,withoutClockDisplay:r,size:i,isInUI3Toolbar:l}))}function bn(e){let{withoutUnderline:t,withoutClockDisplay:n,withoutTimeShadow:a,withoutFlashOnPause:r,size:l,isSelected:i,prominence:o,timeDivRef:s,isInUI3Toolbar:c}=e,d=(0,eo.m4)(wL.W_),m=(0,eo.m4)(wL.wd);return W.createElement(ba,{timeInSeconds:m,withoutUnderline:t,withoutClockDisplay:n,withoutTimeShadow:a,flashing:(0,CJ.yg)(d.time)&&!r,size:l,isSelected:i,prominence:o,timeDivRef:s,isInUI3Toolbar:c})}function ba(e){let{timeInSeconds:t,withoutUnderline:n,withoutClockDisplay:a,withoutTimeShadow:r,flashing:l,size:i,isSelected:o,prominence:s,timeDivRef:c,isInUI3Toolbar:d}=e,{seconds:m,minutes:u}=(0,wP.S2)(t);return W.createElement("div",{className:q()({[w6]:!a})},W.createElement("div",{ref:c,className:q()(w8,{[w2]:"xsmall"===i,[w5]:"medium"===i,[w3]:"large"===i,[w4]:"xlarge"===i,"time_display--selected--Idl4y":o,"time_display--secondary--r44Yf":"SECONDARY"===s,"time_display--tertiary--oyx7n":"TERTIARY"===s,"time_display--inUI3Toolbar--SFjvm":d})},!a&&!r&&W.createElement(bl,{size:i,withoutUnderline:n}),W.createElement("div",{className:q()("time_display--timeDisplay--MuaRS",{"time_display--flashing--1Hw1m":l,[w2]:"xsmall"===i,[w5]:"medium"===i,[w3]:"large"===i,[w4]:"xlarge"===i})},W.createElement(bi,{isMinute:!0,size:i,value:(0,CJ.CC)(u),displayOnly:!0}),":",W.createElement(bi,{size:i,value:(0,CJ.CC)(m),displayOnly:!0}))))}function br({timerState:e,timerEventHandlers:t,withoutUnderline:n,withoutClockDisplay:a,size:r}){let{handleMinutesChange:l,handleMinutesKeyDown:i,handleMinutesBlur:o,handleMinutesFocus:s,handleSecondsChange:c,handleSecondsKeyDown:d,handleSecondsBlur:m,handleSecondsFocus:u,secondsRef:p,minutesRef:_}=t;return W.createElement(W.Fragment,null,W.createElement("div",{className:q()({[w6]:!a})},W.createElement("div",{className:q()(w8,{[w5]:"medium"===r,[w3]:"large"===r,[w4]:"xlarge"===r})},W.createElement(bl,{size:r,withoutUnderline:n}),W.createElement("div",null,W.createElement(bi,{ref:_,onFocus:s,onChange:l,onKeyDown:i,onBlur:o,value:e.minutes,size:r,isMinute:!0}),":",W.createElement(bi,{ref:p,onChange:c,onFocus:u,onKeyDown:d,onBlur:m,value:e.seconds,size:r})))))}function bl(e){return W.createElement("div",{className:q()("time_display--timeShadow--dyosl",{[w2]:"xsmall"===e.size,[w5]:"medium"===e.size,[w3]:"large"===e.size,[w4]:"xlarge"===e.size})},W.createElement(bi,{isMinute:!0,size:e.size,value:88,displayOnly:!0}),":",W.createElement(bi,{size:e.size,value:88,displayOnly:!0}),!e.withoutUnderline&&W.createElement("div",{className:"time_display--timeInputUnderline--4Gxkr"}))}let bi=W.forwardRef((e,t)=>{let{size:n,isMinute:a,onFocus:r,onChange:l,onKeyDown:i,onBlur:o,value:s,displayOnly:c}=e,d=q()("time_display--timeInput--4Evh3",{"time_display--minute--Q8e3H":a,[w2]:"xsmall"===n,[w5]:"medium"===n,[w3]:"large"===n,[w4]:"xlarge"===n});return c?W.createElement("span",{className:d,"data-testid":"stopped-time"},s):W.createElement("input",{maxLength:2,type:"text",inputMode:"numeric",ref:t,onFocus:r,onChange:l,onKeyDown:i,onBlur:o,className:d,value:s,"aria-label":a?(0,ex.t)("whiteboard.timer.minutes.aria_label"):(0,ex.t)("whiteboard.timer.seconds.aria_label")})});bi.displayName="TwoDigitTimeInput";var bo=n(462444);function bs(){wH(),wV();let[e,t]=w1(),{startTimer:n,stopTimer:a,addMinutes:r,pauseTimer:l,resumeTimer:i}=t,o=(0,eo.m4)(wL.W_),s=(0,Y.w1)(e=>e.multiplayer.allUsers.length),[c,d]=W.useState(!1),m=o.time,u=(0,CJ.Ex)(e),p=(0,CJ.oZ)(m),_=(0,CJ.yg)(m),E=(0,CJ.g$)(m),g=(0,CJ.X2)(m,e)&&!E;W.useEffect(()=>{E&&d(!1)},[E]);let h=W.useCallback(()=>{l()},[l]),f=W.useCallback(()=>{n()},[n]),v=W.useCallback(()=>{i()},[i]),y=W.useCallback(()=>{a()},[a]);if(c&&!E)return W.createElement(wT,{titleText:(0,ex.t)("whiteboard.timer.end_timer_confirmation_new"),bodyText:(0,ex.t)("whiteboard.timer.end_timer_confirmation_subtext_new"),cancelButtonText:(0,ex.t)("whiteboard.timer.end_timer_go_back_new"),confirmButtonText:(0,ex.t)("whiteboard.timer.end_timer_button_new"),onCancel:()=>d(!1),onConfirm:()=>{d(!1),y()}});let C=p?(0,ex.t)("whiteboard.timer.start_timer_tooltip"):(null==m?void 0:m.isPaused)?(0,ex.t)("whiteboard.timer.resume_timer_tooltip"):(0,ex.t)("whiteboard.timer.pause_timer_tooltip"),w=p&&u<=0,b=(null==m?void 0:m.isPaused)||p;return W.createElement("div",{className:"timer_view--timerContainer--kRcU1","data-testid":"timer-modal"},W.createElement("div",{className:ap.cx.flex.flexColumn.p16.gap12.$},W.createElement("div",{className:"timer_view--timerBackground--NUQ4g"},W.createElement(bt,{timerActions:t,timerState:e,isStopped:p,size:w9.XLARGE,withoutUnderline:!0,isInUI3Toolbar:!1})),W.createElement("div",{className:ap.cx.flex.justifyBetween.$},W.createElement(ww,{onClick:e=>{r(CJ.UZ),e.preventDefault()},disabled:!g},W.createElement("div",{className:ap.cx.flex.gap4.pr4.$},W.createElement(eN.A,{className:q()("timer_view--plusIcon--NOOSc",{"timer_view--disabled--iHZ7I":!g}),svg:bo.c}),W.createElement(ex.Tx,{id:"whiteboard.timer.min",timeIncrement:CJ.UZ}))),W.createElement("div",{className:ap.cx.flex.gap12.$},!p&&W.createElement(wO,{buttonState:wA.STOP,onClick:()=>{m&&((0,CJ.W)(m,s)?d(!0):y())},dataTooltip:(0,ex.t)("whiteboard.timer.end_timer_tooltip"),disabled:p||E}),W.createElement(wO,{buttonState:b?wA.PLAY:wA.PAUSE,onClick:b?()=>{_?v():f()}:h,dataTooltip:C,disabled:b?w:E,dataOnboardingKey:CJ.mi})))))}var bc=n(412508);function bd({onCancel:e}){let t=(0,bc.k)(),n=(0,Y.OY)(),a=(0,t$.K0)(),r=(0,np.y_)(tu.ED(a||"")),l=W.useCallback(()=>{n(tu.am({uiSurface:"MeetingsPanel"})),(0,Z.we)("confirm_end_voting_session",{source:"voting_modal",votingSessionId:null==t?void 0:t.id,fileKey:a})},[n,t,a]),i=W.useCallback(()=>{e(),(0,Z.we)("cancel_end_voting_session",{source:"voting_modal",votingSessionId:null==t?void 0:t.id,fileKey:a})},[e,t,a]);return W.createElement(wT,{titleText:(0,ex.t)("voting.modal.end_voting_session_modal_header"),bodyText:(0,ex.t)("voting.modal.end_voting_session_modal_description"),cancelButtonText:(0,ex.t)("meetings_panel.voting.go_back"),confirmButtonText:(0,ex.t)("voting.modal.end_voting_session_modal_confirm_button"),onCancel:i,onConfirm:l,onCancelDisabled:r||!t,onConfirmDisabled:r||!t,recordingKey:"endVotingModal"})}var bm=n(32208);let bu="face_pile--facePileAvatarPositioner--pWI9a",bp="face_pile--active--5AAUF";var b_=n(940712);function bE({userId:e,isActive:t}){let{user:n,loading:a}=(0,p$.eA)(e);return W.createElement(bm.K,{userId:e,size:24,user:n,loading:a,defaultClassName:q()("face_pile--facePileAvatar--pZDZe",t&&bp),loadingClassName:q()("face_pile--facePileAvatarLoading--uhhTa face_pile--facePileAvatar--pZDZe",t&&bp)})}function bg({overflowUserIds:e,isActive:t}){return W.createElement(W.Fragment,null,W.createElement("div",{className:bu},W.createElement("div",{className:q()({"face_pile--facePileOverflowIcon--qL11N":!0,[bp]:t})},W.createElement(eN.A,{className:"face_pile--overflowIcon--q-7wp",svg:b_.c}))))}function bh({userIds:e,maxHeadsBeforeOverflow:t,isActive:n}){let a=e.length>t,r=a?e.slice(0,t-1):e,l=a?e.slice(t-1):[];return W.createElement("div",{className:"face_pile--facePileContainer--DzqrO"},l.length?W.createElement(bg,{overflowUserIds:l,isActive:n}):null,[...r].reverse().map(e=>W.createElement("div",{className:bu,key:e},W.createElement(bE,{userId:e,isActive:n}))))}var bf=n(644092);function bv({userId:e}){let{user:t,loading:n}=(0,p$.eA)(e);return W.createElement(W.Fragment,null,W.createElement(bm.K,{userId:e,user:t,loading:n,size:24,loadingClassName:"voting_user_overflow_dropdown--loadingAvatar---1jYn"}),W.createElement(bm.A,{userId:e,user:t,loading:n,defaultClassName:"voting_user_overflow_dropdown--userName--huz8P text--fontNeg13--7Ebf5 text--_fontBase--QdLsd text--_negText--j9g-L ellipsis--ellipsis--Tjyfa",loadingClassName:"voting_user_overflow_dropdown--loadingUserName--pC-X-"}))}let by=e=>{let{windowInnerHeight:t}=(0,fu.U)(),n=(0,bf.aQ)();return t-(e.y+e.height)-n-22};function bC({userIds:e,targetRect:t}){let n=by(t),a=0===e.length;return W.createElement(l2.Mx,{className:"voting_user_overflow_dropdown--pointingDropdown--equm6",targetRect:t,lean:"center",disableDropdownScrollContainer:!0,propagateCloseClick:!0},W.createElement(nK.f,{maxHeight:n,width:240},W.createElement("ol",{className:"voting_user_overflow_dropdown--dropdownPadding---VKEq"},a?W.createElement("div",{className:"voting_user_overflow_dropdown--noVotesText--T2dVF text--fontNeg13--7Ebf5 text--_fontBase--QdLsd text--_negText--j9g-L"},W.createElement(ex.Tx,{id:"voting.modal.during_voting_no_votes_dropdown"})):e.map(e=>W.createElement("li",{key:e,className:"voting_user_overflow_dropdown--listItem--d7eTA"},W.createElement(bv,{userId:e}))))))}var bw=n(966248);let bb="users_voted--rootSelected--y6VPJ";function bT({votingSessionInfo:e}){return(0,W.useMemo)(()=>e.votedNodes.reduce((e,t)=>(Object.entries(t.userIdToNodeVotes).forEach(([t,n])=>{e[t]=(e[t]||0)+n.length}),e),{}),[e.votedNodes])}let bx=e=>{let t=(0,Y.OY)();return{isDropdownOpen:(0,Y.w1)(e=>{var t;return(null==(t=e.dropdownShown)?void 0:t.type)===bN}),handleTargetClick:()=>{t(dX.iC({type:bN}))}}};function bk({votingSessionInfo:e,userVoteLimit:t}){let[n,a]=(0,W.useState)(null),[r,l]=(0,W.useState)(!1),i=(0,t1.sX)(),o=bT({votingSessionInfo:e}),s=(0,W.useMemo)(()=>Object.entries(o).filter(([e,n])=>n&&n>=t).map(([e])=>e).sort((0,bw.EV)(i)),[o,t,i]),{isDropdownOpen:c,handleTargetClick:d}=bx(s);return W.createElement(W.Fragment,null,W.createElement("button",{className:q()({"users_voted--duringSessionRoot--XC-59 users_voted--rootBase--KRjQs text--fontPos12--YsUAh text--_fontBase--QdLsd":!0,[bb]:c}),onMouseDown:e=>e.stopPropagation(),onMouseEnter:()=>l(!0),onMouseLeave:()=>l(!1),onClick:d,ref:e=>a(e)},W.createElement("p",{className:"users_voted--duringSessionText--glncG"},s.length>0?W.createElement(ex.Tx,{id:"voting.modal.voted",numVotes:s.length}):W.createElement(ex.Tx,{id:"voting.modal.during_voting_no_ones_voted"})),W.createElement(bh,{userIds:s,maxHeadsBeforeOverflow:4,isActive:r||c}),W.createElement(eN.A,{className:q()({"users_voted--chevronDown--LWnXw":!0,"users_voted--chevronDownActive---IB9j":c}),svg:mh.c})),c&&n&&W.createElement(bC,{targetRect:n.getBoundingClientRect(),userIds:s}))}let bN="USERS_VOTED_DROPDOWN";function bS({votingSessionInfo:e}){let[t,n]=(0,W.useState)(null),a=(0,t1.sX)(),r=bT({votingSessionInfo:e}),l=(0,W.useMemo)(()=>Object.keys(r).sort((0,bw.EV)(a)),[r,a]),{isDropdownOpen:i,handleTargetClick:o}=bx(l);return W.createElement(W.Fragment,null,W.createElement("button",{className:q()({"users_voted--resultsDetailRoot--K2wEg users_voted--rootBase--KRjQs text--fontPos12--YsUAh text--_fontBase--QdLsd":!0,[bb]:i}),onMouseDown:e=>e.stopPropagation(),onClick:o,ref:e=>n(e)},W.createElement("p",null,l.length>0?W.createElement(ex.Tx,{id:"voting.modal.voted",numVotes:l.length}):W.createElement(ex.Tx,{id:"voting.modal.after_voting_no_one_voted"}))),i&&t&&W.createElement(bC,{targetRect:t.getBoundingClientRect(),userIds:l}))}function bI({title:e}){let[t,n]=(0,W.useState)(!1),a=(0,W.useRef)(null);return(0,W.useEffect)(()=>{let e=a.current;e?n(e.scrollHeight>e.clientHeight):n(!1)},[e,a]),W.createElement("div",{ref:a,className:"voting_components--votingSessionTitle--KDhQJ text--fontPos14--OL9Hp text--_fontBase--QdLsd ellipsis--ellipsisAfter3Lines--h405C ellipsis--_ellipsisAfterNLines--LzI7k","data-tooltip-type":n1.wL.TEXT,"data-tooltip":t?e:void 0},e)}function bA({votingSessionInfo:e,onEndClick:t,recordingKey:n}){let a=(0,bc.k)(),r=(0,Y.w1)(e=>!e.user),l=(0,t$.K0)();return a?W.createElement("div",{className:ap.cx.p16.$},W.createElement("div",{className:"joined_vote_view--votingSessionTitleContainer--Yj49f"},W.createElement(bI,{title:(0,bw.Mr)(a)})),W.createElement("div",{className:"joined_vote_view--usersVotedContainer--nEFTt"},W.createElement(bk,{votingSessionInfo:e,userVoteLimit:a.userVoteLimit})),W.createElement("div",{className:ap.cx.flex.$},W.createElement(ww,{flexGrow:!0,onClick:()=>{t(),(0,Z.we)("click_end_voting_session",{source:"voting_modal",votingSessionId:a.id,fileKey:l})},disabled:r,"data-tooltip-type":r?n1.wL.TEXT:void 0,"data-tooltip":r?(0,ex.t)("voting.modal.end_disabled_logged_out_tooltip"):void 0,recordingKey:lI.Mx(n,"endVotingSession")},W.createElement("span",null,W.createElement(ex.Tx,{id:"voting.modal.end_for_all"}))))):null}function bO({votingSessionInfo:e,recordingKey:t}){let[n,a]=W.useState(!1),r=W.useCallback(()=>{a(!1)},[a]),l=W.useCallback(()=>{a(!0)},[a]);return W.createElement(W.Fragment,null,n?W.createElement(bd,{onCancel:r}):W.createElement(bA,{votingSessionInfo:e,onEndClick:l,recordingKey:t}))}function bM(){return W.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"142",height:"115",viewBox:"0 0 142 115",fill:"none"},W.createElement("g",{filter:"url(#filter0_d_536_1194)"},W.createElement("mask",{id:"mask0_536_1194",style:{maskType:"luminance"},maskUnits:"userSpaceOnUse",x:"9",y:"7",width:"112",height:"121"},W.createElement("path",{d:"M30.3749 27.8343C32.0497 25.2359 34.6296 23.3518 37.6144 22.5472L95.2853 7.00006L120.973 102.285L25.6874 127.973L9.4772 67.8424C8.5589 64.4361 9.1256 60.8001 11.037 57.8348L30.3749 27.8343Z",fill:"white"})),W.createElement("g",{mask:"url(#mask0_536_1194)"},W.createElement("path",{d:"M95.2854 7.00012L120.973 102.285L25.6875 127.973L0 32.6875L95.2854 7.00012Z",fill:"#FFD966"}),W.createElement("g",{filter:"url(#filter1_f_536_1194)"},W.createElement("rect",{x:"-9.06198",y:"72.871",width:"80.2756",height:"13.9108",transform:"rotate(-57 -9.06198 72.871)",fill:"black",fillOpacity:"0.3"})),W.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M29.7476 28.8039L10.2326 59.1223C15.1411 51.4964 30.0572 48.6566 30.0572 48.6566C30.0572 48.6566 25.2827 35.7405 29.7476 28.8039Z",fill:"#FFD966"}),W.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M29.7476 28.8039L10.2326 59.1223C15.1411 51.4964 30.0572 48.6566 30.0572 48.6566C30.0572 48.6566 25.2827 35.7405 29.7476 28.8039Z",fill:"url(#paint0_linear_536_1194)"}))),W.createElement("defs",null,W.createElement("filter",{id:"filter0_d_536_1194",x:"-20.5598",y:"-13.5598",width:"162.092",height:"162.092",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},W.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),W.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),W.createElement("feOffset",null),W.createElement("feGaussianBlur",{stdDeviation:"10.2799"}),W.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.08 0"}),W.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_536_1194"}),W.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_536_1194",result:"shape"})),W.createElement("filter",{id:"filter1_f_536_1194",x:"-35.6799",y:"-21.0717",width:"108.624",height:"128.137",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},W.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),W.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),W.createElement("feGaussianBlur",{stdDeviation:"13.3089",result:"effect1_foregroundBlur_536_1194"})),W.createElement("linearGradient",{id:"paint0_linear_536_1194",x1:"20.32",y1:"42.4426",x2:"29.6252",y2:"49.517",gradientUnits:"userSpaceOnUse"},W.createElement("stop",{stopColor:"white",stopOpacity:"0.5"}),W.createElement("stop",{offset:"0.319642",stopColor:"white",stopOpacity:"0.2"}),W.createElement("stop",{offset:"1",stopColor:"white",stopOpacity:"0.2"}))))}function bP(){return W.createElement("svg",{width:"52",height:"52",viewBox:"0 0 52 52",fill:"none",xmlns:"http://www.w3.org/2000/svg"},W.createElement("g",{filter:"url(#filter0_d_1904_66844)"},W.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18.6975 43.3947V28.2216C17.2146 28.9246 15.5806 29.3745 13.8194 29.4818L9.75977 29.729L9.75977 13.542L13.3208 13.2938C16.2911 13.0869 18.6537 11.8389 19.8608 8.79489L20.819 6.37863H34.6307V43.3947H18.6975ZM18.6975 23.7911C20.2723 22.6622 21.5839 21.1021 22.5245 19.3196V39.5677H30.8037V10.2056H23.4183C21.5367 14.9506 17.6323 16.8297 13.5868 17.1116V25.6618C14.9507 25.5788 16.2382 25.1962 17.4138 24.5825C17.8583 24.3505 18.2869 24.0855 18.6975 23.7911Z",fill:"white"}),W.createElement("path",{d:"M22.5245 39.5677H30.8037V10.2057H23.4183C21.5367 14.9506 17.6323 16.8297 13.5868 17.1116V25.6618C17.4441 25.427 20.6899 22.7961 22.5245 19.3196V39.5677Z",fill:"#9747FF"}),W.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.64916 24.2332H9.86288L17 28L20.5 28.0597V39.5527H19.1422V43.3803H7.64916V39.5527L3.82166 39.5527L3.82166 28.0597L7.64916 28.0597V24.2332ZM11.4822 35.7197H7.65466V31.8927L11.4822 31.8927V28.0662H15.3092L15.3092 31.8867M15.3092 31.8927H19.1357ZM15.3092 35.7197H15.3152ZM19.1357 35.7197V31.8927ZM15.3092 35.7257V39.5473ZM11.4822 39.5473H15.3092ZM11.4822 35.7197V39.5473ZM15.3152 35.7197L19.1357 35.7197Z",fill:"white"}),W.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15.3092 28.0662H11.4822V31.8927L7.65466 31.8927V35.7197L11.4822 35.7197V39.5473H15.3092V35.7197L19.1357 35.7197V31.8927L15.3092 31.8927V28.0662Z",fill:"#9747FF"}),W.createElement("path",{d:"M38.9984 23.4121C39.1678 22.8781 39.9234 22.8781 40.0928 23.4121L41.5337 27.9551C41.584 28.1137 41.7006 28.2427 41.8533 28.3086L45.9788 30.0896C46.4408 30.289 46.4408 30.9442 45.9788 31.1437L41.8533 32.9246C41.7006 32.9906 41.584 33.1195 41.5337 33.2781L40.0928 37.8211C39.9234 38.3551 39.1678 38.3551 38.9984 37.8211L37.5575 33.2781C37.5072 33.1195 37.3906 32.9906 37.2378 32.9246L33.1124 31.1437C32.6503 30.9442 32.6503 30.289 33.1124 30.0896L37.2378 28.3086C37.3906 28.2427 37.5072 28.1137 37.5575 27.9551L38.9984 23.4121Z",fill:"#EFBA00"}),W.createElement("path",{d:"M38.9984 23.4121C39.1678 22.8781 39.9234 22.8781 40.0928 23.4121L41.5337 27.9551C41.584 28.1137 41.7006 28.2427 41.8533 28.3086L45.9788 30.0896C46.4408 30.289 46.4408 30.9442 45.9788 31.1437L41.8533 32.9246C41.7006 32.9906 41.584 33.1195 41.5337 33.2781L40.0928 37.8211C39.9234 38.3551 39.1678 38.3551 38.9984 37.8211L37.5575 33.2781C37.5072 33.1195 37.3906 32.9906 37.2378 32.9246L33.1124 31.1437C32.6503 30.9442 32.6503 30.289 33.1124 30.0896L37.2378 28.3086C37.3906 28.2427 37.5072 28.1137 37.5575 27.9551L38.9984 23.4121Z",fill:"url(#paint0_linear_1904_66844)"}),W.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M37.3739 28.313C37.4969 28.2595 37.5912 28.1537 37.6324 28.023L39.0624 23.4807C39.1998 23.0443 39.8002 23.0443 39.9376 23.4807L41.3676 28.023C41.4088 28.1537 41.5031 28.2595 41.6261 28.313L45.6529 30.0643C46.0273 30.2272 46.0273 30.7728 45.6529 30.9357L41.6261 32.687C41.5031 32.7405 41.4088 32.8463 41.3676 32.977L39.9376 37.5193C39.8002 37.9557 39.1998 37.9557 39.0624 37.5193L37.6324 32.977C37.5912 32.8463 37.4969 32.7405 37.3739 32.687L33.3471 30.9357C32.9727 30.7728 32.9727 30.2272 33.3471 30.0643L37.3739 28.313ZM42.8548 22.5094L43.9178 25.8859L46.8472 27.1599C49.7176 28.4083 49.7176 32.5917 46.8472 33.8401L43.9178 35.1141L42.8548 38.4906C41.8014 41.8365 37.1986 41.8364 36.1452 38.4906L35.0822 35.1141L32.1528 33.8401C32.1009 33.8175 32.05 33.794 32 33.7696L32 27.2304C32.05 27.206 32.1009 27.1825 32.1528 27.1599L35.0822 25.8859L36.1452 22.5094C37.1986 19.1635 41.8014 19.1636 42.8548 22.5094Z",fill:"white"}),W.createElement("path",{d:"M38.9985 23.4116C39.1678 22.8776 39.9235 22.8776 40.0929 23.4116L41.5338 27.9546C41.5841 28.1132 41.7007 28.2422 41.8534 28.3081L45.9789 30.0891C46.4409 30.2886 46.4409 30.9437 45.9789 31.1432L41.8534 32.9241C41.7007 32.9901 41.5841 33.1191 41.5338 33.2776L40.0929 37.8206C39.9235 38.3546 39.1678 38.3546 38.9985 37.8206L37.5576 33.2776C37.5073 33.1191 37.3906 32.9901 37.2379 32.9241L33.1125 31.1432C32.6504 30.9437 32.6504 30.2886 33.1125 30.0891L37.2379 28.3081C37.3906 28.2422 37.5073 28.1132 37.5576 27.9546L38.9985 23.4116Z",fill:"url(#paint1_linear_1904_66844)"}),W.createElement("path",{d:"M38.9985 23.4116C39.1678 22.8776 39.9235 22.8776 40.0929 23.4116L41.5338 27.9546C41.5841 28.1132 41.7007 28.2422 41.8534 28.3081L45.9789 30.0891C46.4409 30.2886 46.4409 30.9437 45.9789 31.1432L41.8534 32.9241C41.7007 32.9901 41.5841 33.1191 41.5338 33.2776L40.0929 37.8206C39.9235 38.3546 39.1678 38.3546 38.9985 37.8206L37.5576 33.2776C37.5073 33.1191 37.3906 32.9901 37.2379 32.9241L33.1125 31.1432C32.6504 30.9437 32.6504 30.2886 33.1125 30.0891L37.2379 28.3081C37.3906 28.2422 37.5073 28.1132 37.5576 27.9546L38.9985 23.4116Z",fill:"url(#paint2_linear_1904_66844)"})),W.createElement("defs",null,W.createElement("filter",{id:"filter0_d_1904_66844",x:"-1.91351",y:"-1.27567",width:"54.8539",height:"54.8539",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},W.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),W.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),W.createElement("feOffset",{dy:"0.637836"}),W.createElement("feGaussianBlur",{stdDeviation:"0.956754"}),W.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.35 0"}),W.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_1904_66844"}),W.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_1904_66844",result:"shape"})),W.createElement("linearGradient",{id:"paint0_linear_1904_66844",x1:"46.6528",y1:"37.3139",x2:"29.2026",y2:"24.1295",gradientUnits:"userSpaceOnUse"},W.createElement("stop",{stopColor:"white",stopOpacity:"0"}),W.createElement("stop",{offset:"0.33271",stopColor:"white",stopOpacity:"0.11"}),W.createElement("stop",{offset:"0.449925",stopColor:"white",stopOpacity:"0.5"}),W.createElement("stop",{offset:"0.562473",stopColor:"white",stopOpacity:"0.11"}),W.createElement("stop",{offset:"1",stopColor:"white",stopOpacity:"0"})),W.createElement("linearGradient",{id:"paint1_linear_1904_66844",x1:"31.8916",y1:"21.6864",x2:"47.5581",y2:"39.2257",gradientUnits:"userSpaceOnUse"},W.createElement("stop",{stopColor:"#F7C000"}),W.createElement("stop",{offset:"1",stopColor:"#E8B604"})),W.createElement("linearGradient",{id:"paint2_linear_1904_66844",x1:"47.1997",y1:"39.5458",x2:"31.5331",y2:"22.0066",gradientUnits:"userSpaceOnUse"},W.createElement("stop",{stopColor:"white",stopOpacity:"0"}),W.createElement("stop",{offset:"0.418743",stopColor:"white",stopOpacity:"0.15"}),W.createElement("stop",{offset:"0.504534",stopColor:"white",stopOpacity:"0.63"}),W.createElement("stop",{offset:"0.588015",stopColor:"white",stopOpacity:"0.15"}),W.createElement("stop",{offset:"1",stopColor:"white",stopOpacity:"0"}))))}function bL(){return W.createElement("svg",{width:"46",height:"45",viewBox:"0 0 46 45",fill:"none",xmlns:"http://www.w3.org/2000/svg"},W.createElement("g",{filter:"url(#filter0_d_1904_66832)"},W.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.6036 25.0556C1.12383 20.6128 1.12383 13.3775 5.6036 8.93478C7.76292 6.7933 10.6465 5.61081 13.6925 5.61081C16.5194 5.61081 19.209 6.62902 21.3102 8.49271C23.4103 6.62969 26.0996 5.60886 28.9298 5.60886C31.9764 5.60886 34.8598 6.79177 37.0207 8.93478C39.1809 11.0772 40.3839 13.9501 40.3839 16.9962C40.3839 20.038 39.1847 22.91 37.0234 25.0548C37.0232 25.055 37.0236 25.0547 37.0234 25.0548C37.0226 25.0556 37.0214 25.0568 37.0207 25.0575L35.3114 26.7566L21.3162 40.6361L5.6036 25.0556ZM21.3102 13.2071L19.4117 11.3243C17.8838 9.80902 15.8532 8.97612 13.6925 8.97612C11.5298 8.97612 9.49924 9.81097 7.97334 11.3243C4.821 14.4506 4.821 19.5398 7.97334 22.6661L21.3161 35.8966L32.9417 24.3671L34.6509 22.6681C36.1788 21.1528 37.0186 19.139 37.0186 16.9962C37.0186 14.8514 36.1768 12.8376 34.6509 11.3243C33.1231 9.80902 31.0925 8.97416 28.9298 8.97416C26.7671 8.97416 24.7365 9.80902 23.2087 11.3243L21.3102 13.2071Z",fill:"white"}),W.createElement("path",{d:"M7.97332 22.6661C4.82098 19.5398 4.82098 14.4506 7.97332 11.3243C9.49922 9.81098 11.5298 8.97612 13.6925 8.97612C15.8532 8.97612 17.8838 9.80902 19.4116 11.3243L21.3101 13.2071L23.2087 11.3243C24.7365 9.80902 26.7671 8.97417 28.9298 8.97417C31.0924 8.97417 33.123 9.80902 34.6509 11.3243C36.1768 12.8376 37.0186 14.8514 37.0186 16.9962C37.0186 19.139 36.1788 21.1528 34.6509 22.6681L32.9417 24.3671L21.3161 35.8966L7.97332 22.6661Z",fill:"#FF8577"}),W.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M31.0424 27.6444C30.9973 27.7838 30.8938 27.8968 30.7588 27.9538L26.3392 29.8229C25.9283 29.9966 25.9283 30.579 26.3392 30.7527L30.7588 32.6217C30.8938 32.6788 30.9973 32.7918 31.0424 32.9312L32.6119 37.7787C32.7627 38.2444 33.4216 38.2444 33.5724 37.7787L35.142 32.9312C35.1871 32.7918 35.2906 32.6788 35.4256 32.6217L39.8452 30.7527C40.2561 30.579 40.2561 29.9966 39.8452 29.8229L35.4256 27.9538C35.2906 27.8968 35.1871 27.7838 35.142 27.6444L33.5724 22.7969C33.4216 22.3312 32.7627 22.3312 32.6119 22.7969L31.0424 27.6444ZM37.9408 25.3637L36.7741 21.7603C35.618 18.1897 30.5664 18.1896 29.4103 21.7603L28.2436 25.3637L25.0284 26.7233C21.8781 28.0556 21.8781 32.52 25.0284 33.8523L28.2436 35.2119L29.4103 38.8153C30.5664 42.3859 35.618 42.386 36.7741 38.8153L37.9408 35.2119L41.156 33.8523C44.3062 32.52 44.3062 28.0556 41.156 26.7233L37.9408 25.3637Z",fill:"white"}),W.createElement("path",{d:"M32.6119 22.7969C32.7627 22.3312 33.4216 22.3312 33.5724 22.7969L35.142 27.6444C35.1871 27.7838 35.2906 27.8968 35.4256 27.9538L39.8452 29.8229C40.2561 29.9966 40.2561 30.5789 39.8452 30.7527L35.4256 32.6217C35.2906 32.6788 35.1871 32.7917 35.142 32.9312L33.5724 37.7787C33.4216 38.2444 32.7627 38.2444 32.6119 37.7787L31.0424 32.9312C30.9973 32.7917 30.8938 32.6788 30.7588 32.6217L26.3392 30.7527C25.9283 30.5789 25.9283 29.9966 26.3392 29.8229L30.7588 27.9538C30.8938 27.8968 30.9973 27.7838 31.0424 27.6444L32.6119 22.7969Z",fill:"url(#paint0_linear_1904_66832)"}),W.createElement("path",{d:"M32.6119 22.7969C32.7627 22.3312 33.4216 22.3312 33.5724 22.7969L35.142 27.6444C35.1871 27.7838 35.2906 27.8968 35.4256 27.9538L39.8452 29.8229C40.2561 29.9966 40.2561 30.5789 39.8452 30.7527L35.4256 32.6217C35.2906 32.6788 35.1871 32.7917 35.142 32.9312L33.5724 37.7787C33.4216 38.2444 32.7627 38.2444 32.6119 37.7787L31.0424 32.9312C30.9973 32.7917 30.8938 32.6788 30.7588 32.6217L26.3392 30.7527C25.9283 30.5789 25.9283 29.9966 26.3392 29.8229L30.7588 27.9538C30.8938 27.8968 30.9973 27.7838 31.0424 27.6444L32.6119 22.7969Z",fill:"url(#paint1_linear_1904_66832)"})),W.createElement("defs",null,W.createElement("filter",{id:"filter0_d_1904_66832",x:"-1.68265",y:"-1.12177",width:"48.2361",height:"48.2361",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},W.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),W.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),W.createElement("feOffset",{dy:"0.560885"}),W.createElement("feGaussianBlur",{stdDeviation:"0.841327"}),W.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.35 0"}),W.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_1904_66832"}),W.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_1904_66832",result:"shape"})),W.createElement("linearGradient",{id:"paint0_linear_1904_66832",x1:"25.2398",y1:"21.3136",x2:"40.9446",y2:"39.2619",gradientUnits:"userSpaceOnUse"},W.createElement("stop",{stopColor:"#F7C000"}),W.createElement("stop",{offset:"1",stopColor:"#E8B604"})),W.createElement("linearGradient",{id:"paint1_linear_1904_66832",x1:"40.9446",y1:"39.2619",x2:"25.2398",y2:"21.3136",gradientUnits:"userSpaceOnUse"},W.createElement("stop",{stopColor:"white",stopOpacity:"0"}),W.createElement("stop",{offset:"0.418743",stopColor:"white",stopOpacity:"0.15"}),W.createElement("stop",{offset:"0.504534",stopColor:"white",stopOpacity:"0.63"}),W.createElement("stop",{offset:"0.588015",stopColor:"white",stopOpacity:"0.15"}),W.createElement("stop",{offset:"1",stopColor:"white",stopOpacity:"0"}))))}function bD(){return W.createElement("svg",{width:"41",height:"40",viewBox:"0 0 41 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},W.createElement("g",{filter:"url(#filter0_d_1972_66634)"},W.createElement("path",{d:"M25.0742 24.5505V24.5597H25.7273C26.0169 24.5611 26.3027 24.6243 26.565 24.7451C26.8274 24.8659 27.0598 25.0414 27.2464 25.2593L27.2793 25.3009C27.5241 25.587 27.6808 25.9359 27.7307 26.3067C27.7807 26.6774 27.7219 27.0545 27.5612 27.3935C27.4006 27.7324 27.1448 28.0191 26.824 28.2198C26.5033 28.4204 26.1309 28.5267 25.7508 28.526H25.0068V28.5368C25.2967 28.5379 25.5827 28.6012 25.8451 28.7223C26.1075 28.8434 26.3398 29.0194 26.526 29.2379L26.5589 29.2764C26.8032 29.5625 26.9595 29.9114 27.0091 30.2818C27.0588 30.6523 26.9999 31.0291 26.8393 31.3678C26.6787 31.7064 26.4232 31.9929 26.1027 32.1935C25.7822 32.3941 25.4102 32.5004 25.0303 32.5H8.91728C8.46859 32.5002 8.02426 32.4134 7.60966 32.2446C7.19507 32.0758 6.81834 31.8283 6.50099 31.5162C6.18365 31.2041 5.93191 30.8336 5.76016 30.4257C5.5884 30.0179 5.5 29.5808 5.5 29.1393V19.8199H6.85C7.91966 19.8199 8.49287 19.6181 9.14907 18.1249C11.16 13.1555 14.6305 11.3018 14.6305 8.66534V7.82863C14.633 7.54171 14.7506 7.26738 14.9577 7.06536C15.1647 6.86334 15.4446 6.74999 15.7362 6.75H16.0682C16.5994 6.74951 17.1152 6.9252 17.5323 7.24869C17.9495 7.57218 18.2437 8.02458 18.3673 8.53282C18.5022 9.0959 18.5705 9.67242 18.5709 10.2509C18.5703 11.2371 18.3745 12.2137 17.9945 13.1262L17.058 15.379C17.0007 15.5145 16.9783 15.6619 16.9929 15.8079C17.0074 15.954 17.0584 16.0942 17.1413 16.2162C17.2242 16.3382 17.3365 16.4382 17.4682 16.5072C17.5998 16.5762 17.7467 16.6121 17.8959 16.6118H25.7508C26.0404 16.6131 26.3262 16.6764 26.5885 16.7971C26.8508 16.9179 27.0833 17.0934 27.2699 17.3113L27.3028 17.3545C27.5467 17.6406 27.7025 17.9893 27.7519 18.3595C27.8013 18.7298 27.7423 19.1062 27.5818 19.4446C27.4212 19.783 27.1659 20.0692 26.8457 20.2698C26.5255 20.4703 26.1538 20.5767 25.7742 20.5765H25.1478H26.479C26.7688 20.5775 27.0549 20.6408 27.3173 20.7619C27.5797 20.883 27.8121 21.059 27.9981 21.2776L28.0326 21.3177C28.2769 21.6037 28.4331 21.9524 28.4828 22.3227C28.5326 22.6931 28.4738 23.0697 28.3134 23.4083C28.153 23.7469 27.8976 24.0334 27.5774 24.2341C27.2572 24.4348 26.8853 24.5414 26.5056 24.5412L25.0742 24.5505Z",fill:"#0FA958"}),W.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M25.0742 24.5505V24.5597H25.7273C25.9951 24.561 26.2598 24.6152 26.5056 24.7189C26.506 24.719 26.5064 24.7192 26.5068 24.7194C26.5263 24.7276 26.5457 24.7362 26.565 24.7451C26.8274 24.8659 27.0598 25.0414 27.2464 25.2593L27.2793 25.3009C27.5241 25.587 27.6808 25.9359 27.7307 26.3067C27.7326 26.3206 27.7343 26.3346 27.7359 26.3485C27.7761 26.7057 27.7158 27.0672 27.5612 27.3935C27.5549 27.4069 27.5484 27.4202 27.5417 27.4334C27.3802 27.7549 27.1321 28.027 26.824 28.2198C26.5566 28.387 26.2533 28.4887 25.9396 28.5175C25.8794 28.5231 25.8187 28.5259 25.7579 28.526C25.7555 28.526 25.7531 28.526 25.7508 28.526H25.0069L25.0068 28.5368C25.2622 28.5378 25.5146 28.587 25.7505 28.6815C25.7504 28.6815 25.7506 28.6816 25.7505 28.6815C25.7822 28.6943 25.814 28.7079 25.8451 28.7223C26.1075 28.8434 26.3398 29.0194 26.526 29.2379L26.5589 29.2764C26.8032 29.5625 26.9595 29.9113 27.0091 30.2818C27.0588 30.6523 26.9999 31.0291 26.8393 31.3678C26.8322 31.3827 26.825 31.3975 26.8175 31.4123C26.6561 31.7315 26.409 32.0018 26.1027 32.1935C25.7822 32.3941 25.4102 32.5004 25.0303 32.5H8.91728C8.46859 32.5002 8.02426 32.4134 7.60966 32.2446C7.19507 32.0758 6.81834 31.8283 6.50099 31.5162C6.18365 31.2041 5.93191 30.8336 5.76016 30.4257C5.5884 30.0179 5.5 29.5808 5.5 29.1393V19.8199H6.85C7.91966 19.8199 8.49287 19.6181 9.14907 18.1249C10.1339 15.6911 11.4689 14.0047 12.5748 12.6076C13.727 11.152 14.6305 10.0106 14.6305 8.66534V7.82863C14.633 7.54171 14.7506 7.26738 14.9577 7.06536C15.1647 6.86333 15.4446 6.74999 15.7362 6.75H16.0682C16.5994 6.74951 17.1152 6.9252 17.5323 7.24869C17.9495 7.57218 18.2437 8.02458 18.3673 8.53282C18.5022 9.0959 18.5705 9.67242 18.5709 10.2509C18.5703 11.2371 18.3745 12.2137 17.9945 13.1262L17.058 15.379C17.0007 15.5145 16.9783 15.6619 16.9929 15.8079C17.0074 15.954 17.0584 16.0942 17.1413 16.2162C17.2242 16.3382 17.3365 16.4382 17.4682 16.5072C17.5998 16.5762 17.7467 16.6121 17.8959 16.6118H25.7508C26.0404 16.6131 26.3262 16.6764 26.5885 16.7971C26.8508 16.9179 27.0833 17.0934 27.2699 17.3113L27.3028 17.3545C27.3916 17.4587 27.4687 17.5711 27.5333 17.6899C27.646 17.8974 27.7205 18.1241 27.7519 18.3595C27.8013 18.7298 27.7423 19.1062 27.5818 19.4446C27.4212 19.783 27.1659 20.0692 26.8457 20.2698C26.7297 20.3424 26.6069 20.4027 26.4794 20.45C26.4793 20.4501 26.4796 20.45 26.4794 20.45C26.2558 20.5331 26.0174 20.5764 25.7761 20.5765H26.479C26.6908 20.5772 26.9005 20.6112 27.1005 20.6767C27.1742 20.7008 27.2466 20.7292 27.3173 20.7619C27.5797 20.883 27.8121 21.059 27.9981 21.2776L28.0326 21.3177C28.2769 21.6037 28.4331 21.9524 28.4828 22.3227C28.486 22.3465 28.4888 22.3703 28.4911 22.3941C28.5035 22.5228 28.5029 22.6519 28.4896 22.7795C28.4671 22.9963 28.4078 23.2089 28.3134 23.4083C28.153 23.7469 27.8976 24.0334 27.5774 24.2341C27.3012 24.4072 26.9866 24.5103 26.6617 24.5353C26.6099 24.5393 26.5578 24.5413 26.5056 24.5412L25.7273 24.5463L25.0742 24.5505ZM30.6292 19.7802C31.0668 20.4164 31.3522 21.1496 31.4561 21.9234C31.5833 22.8701 31.4325 23.8314 31.0246 24.6926C30.9059 24.9431 30.7671 25.1818 30.6102 25.4067C30.6498 25.5708 30.6811 25.7375 30.7039 25.9061C30.8315 26.8538 30.6807 27.8162 30.2721 28.6783C30.1597 28.9155 30.0293 29.142 29.8825 29.3563C29.9252 29.5293 29.9587 29.7051 29.9825 29.8831C30.1095 30.8302 29.9584 31.7918 29.55 32.6531C29.1418 33.514 28.4957 34.2349 27.6943 34.7365C26.8943 35.2372 25.9703 35.5004 25.0303 35.5C25.0299 35.5 25.0295 35.5 25.0291 35.5C25.0284 35.5 25.0277 35.5 25.027 35.5L8.91864 35.5C8.91819 35.5 8.91774 35.5 8.91728 35.5C8.08167 35.5002 7.25308 35.3386 6.4784 35.0231C5.70321 34.7075 4.99568 34.2435 4.39746 33.6552C3.79913 33.0667 3.32186 32.3655 2.99533 31.5901C2.66875 30.8146 2.5 29.9817 2.5 29.1393V16.8199H6.44186C7.5825 14.0786 9.10204 12.1602 10.1873 10.7901C10.2224 10.7458 10.2571 10.702 10.2913 10.6587C10.8805 9.91414 11.2289 9.45761 11.4543 9.0645C11.5547 8.8895 11.5982 8.78019 11.6169 8.72094C11.6258 8.69274 11.6288 8.67673 11.6298 8.67077L11.6305 8.66562L11.6305 7.81567L11.6306 7.80272C11.6401 6.70885 12.0887 5.67306 12.8628 4.91793C13.6352 4.1644 14.6688 3.74999 15.7362 3.75M30.6292 19.7802C30.773 19.1888 30.807 18.5728 30.7255 17.9626C30.6037 17.0498 30.2293 16.1933 29.6503 15.4855L29.6042 15.425L29.5489 15.3604C29.0789 14.8114 28.4963 14.3728 27.8434 14.0722C27.1906 13.7716 26.4815 13.6151 25.7646 13.6118L21.0159 13.6118C21.382 12.5311 21.5702 11.3969 21.5709 10.2528L21.5709 10.2489C21.5703 9.43548 21.4743 8.62505 21.2847 7.8339L21.2823 7.82375C20.9966 6.64915 20.3191 5.61336 19.3707 4.87796C18.424 4.14383 17.2605 3.74951 16.0682 3.75C16.0679 3.75 16.0685 3.75 16.0682 3.75H15.7362",fill:"white"}),W.createElement("path",{d:"M29.0719 19.3222C29.2063 18.9071 29.7937 18.9071 29.9281 19.3222L31.3273 23.6435C31.3675 23.7678 31.4598 23.8685 31.5801 23.9194L35.5199 25.5855C35.8862 25.7404 35.8862 26.2595 35.5199 26.4145L31.5801 28.0806C31.4598 28.1315 31.3675 28.2321 31.3273 28.3564L29.9281 32.6777C29.7937 33.0929 29.2063 33.0929 29.0719 32.6777L27.6727 28.3564C27.6325 28.2321 27.5402 28.1315 27.4199 28.0806L23.48 26.4145C23.1137 26.2595 23.1137 25.7404 23.48 25.5855L27.4199 23.9194C27.5402 23.8685 27.6325 23.7678 27.6727 23.6435L29.0719 19.3222Z",fill:"url(#paint0_linear_1972_66634)"}),W.createElement("path",{d:"M29.0719 19.3222C29.2063 18.9071 29.7937 18.9071 29.9281 19.3222L31.3273 23.6435C31.3675 23.7678 31.4598 23.8685 31.5801 23.9194L35.5199 25.5855C35.8862 25.7404 35.8862 26.2595 35.5199 26.4145L31.5801 28.0806C31.4598 28.1315 31.3675 28.2321 31.3273 28.3564L29.9281 32.6777C29.7937 33.0929 29.2063 33.0929 29.0719 32.6777L27.6727 28.3564C27.6325 28.2321 27.5402 28.1315 27.4199 28.0806L23.48 26.4145C23.1137 26.2595 23.1137 25.7404 23.48 25.5855L27.4199 23.9194C27.5402 23.8685 27.6325 23.7678 27.6727 23.6435L29.0719 19.3222Z",fill:"url(#paint1_linear_1972_66634)"}),W.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M27.6727 23.6435C27.6325 23.7678 27.5402 23.8685 27.4199 23.9194L23.48 25.5855C23.1137 25.7404 23.1137 26.2595 23.48 26.4145L27.4199 28.0806C27.5402 28.1315 27.6325 28.2321 27.6727 28.3564L29.0719 32.6777C29.2063 33.0929 29.7937 33.0929 29.9281 32.6777L31.3273 28.3564C31.3675 28.2321 31.4598 28.1315 31.5801 28.0806L35.5199 26.4145C35.8862 26.2595 35.8862 25.7404 35.5199 25.5855L31.5801 23.9194C31.4598 23.8685 31.3675 23.7678 31.3273 23.6435L29.9281 19.3222C29.7937 18.9071 29.2063 18.9071 29.0719 19.3222L27.6727 23.6435ZM33.8223 21.6104L32.7822 18.3981C31.7516 15.2151 27.2484 15.2151 26.2177 18.3981L25.1777 21.6104L22.3116 22.8224C19.5033 24.0101 19.5032 27.9899 22.3116 29.1775L25.1777 30.3896L26.2177 33.6018C27.2483 36.7849 31.7516 36.7849 32.7822 33.6018L33.8223 30.3896L36.6884 29.1775C39.4967 27.9899 39.4968 24.0101 36.6884 22.8225L33.8223 21.6104Z",fill:"white"})),W.createElement("defs",null,W.createElement("filter",{id:"filter0_d_1972_66634",x:"-1.5",y:"-1",width:"43",height:"43",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},W.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),W.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),W.createElement("feOffset",{dy:"0.5"}),W.createElement("feGaussianBlur",{stdDeviation:"0.75"}),W.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.35 0"}),W.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_1972_66634"}),W.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_1972_66634",result:"shape"})),W.createElement("linearGradient",{id:"paint0_linear_1972_66634",x1:"23.2053",y1:"19.0109",x2:"35.3845",y2:"33.3378",gradientUnits:"userSpaceOnUse"},W.createElement("stop",{stopColor:"#F7C000"}),W.createElement("stop",{offset:"1",stopColor:"#E8B604"})),W.createElement("linearGradient",{id:"paint1_linear_1972_66634",x1:"35.7947",y1:"32.9891",x2:"23.6155",y2:"18.6622",gradientUnits:"userSpaceOnUse"},W.createElement("stop",{stopColor:"white",stopOpacity:"0"}),W.createElement("stop",{offset:"0.418743",stopColor:"white",stopOpacity:"0.15"}),W.createElement("stop",{offset:"0.504534",stopColor:"white",stopOpacity:"0.63"}),W.createElement("stop",{offset:"0.588015",stopColor:"white",stopOpacity:"0.15"}),W.createElement("stop",{offset:"1",stopColor:"white",stopOpacity:"0"}))))}function bR(){return W.createElement("div",{className:"vote_graphic--stampContainer--Gg9nN"},W.createElement("div",{className:"vote_graphic--sticky--5vnwr"},W.createElement(bM,null)),W.createElement("div",{className:"vote_graphic--plusOneStamp--lqNsf vote_graphic--stamp---bJ3m"},W.createElement(bP,null)),W.createElement("div",{className:"vote_graphic--heartStamp--EhTYO vote_graphic--stamp---bJ3m"},W.createElement(bL,null)),W.createElement("div",{className:"vote_graphic--thumbsUpStamp--d1jHf vote_graphic--stamp---bJ3m"},W.createElement(bD,null)))}function bF({recordingKey:e}){let t=(0,Y.OY)(),n=(0,bw.Kq)(W.useCallback(()=>{t(tu.Tf({votingStage:tq.A5$.JOINED}))},[t]));return W.createElement("div",{className:ap.cx.flex.flexColumn.p16.$},W.createElement("div",{className:ap.cx.flex.gap8.itemsCenter.mb8.$},W.createElement(bR,null)),W.createElement("div",{className:ap.cx.flex.justifyCenter.$},W.createElement(wb,{onClick:n,recordingKey:lI.Mx(e,"joinVotingSession")},W.createElement(ex.Tx,{id:"meetings_panel.voting.join_vote"}))))}let bB="create_new_vote_view--voteToggle--lqCYr";var bU=n(830596),bK=n(138220);let bG=e=>{let t=null;try{t=parseInt(e,10)}catch(e){}return t};function bH(){let e=(0,Y.OY)(),t=(0,t$.K0)(),{title:n,userVoteLimit:a}=(0,Y.w1)(e=>e.voting.votingParams),r=(0,Y.w1)(e=>!e.user),l=(0,np.y_)(tu.oV(t||"")),[i,o]=W.useState(a.toString());(0,W.useEffect)(()=>{let t=bG(i);t&&e(tu.eY(t))},[i,e]);let s=r||l;return W.createElement("div",{className:ap.cx.flex.flexColumn.p16.gap12.$},W.createElement(bR,null),W.createElement(bV,{userVoteLimitInput:i,setUserVoteLimitInput:o,title:n,isTitleDisabled:s,isLimitDisabled:s,userVoteLimit:a,setTitle:W.useCallback(t=>e(tu.qO(t)),[e])}))}function bV(e){let t=W.useRef(null),n=(0,Y.OY)(),a=(0,t$.K0)(),r=(0,Y.w1)(e=>!e.user),l=(0,np.y_)(tu.oV(a||"")),i=(0,Y.w1)(e=>e.multiplayer.allUsers.length),{userVoteLimitInput:o,userVoteLimit:s,title:c,setTitle:d,isLimitDisabled:m,isTitleDisabled:u,setUserVoteLimitInput:p}=e,_=W.useCallback(e=>{let t=parseInt(o);(t+=e)<1||t>99||p(t.toString())},[p,o]),E=W.useCallback(e=>{var n;"ArrowUp"===e.key||"ArrowDown"===e.key?(_("ArrowUp"===e.key?1:-1),e.preventDefault()):("Enter"===e.key||"Escape"===e.key)&&(null==(n=t.current)||n.blur())},[_]),g=W.useCallback(()=>{var e;null==(e=t.current)||e.select()},[t]),h=W.useCallback(e=>{if(!e.currentTarget.value.match(/^(\s*|\d+)$/)){e.preventDefault();return}p(e.currentTarget.value)},[p]),f=W.useCallback(e=>{let n=t.current.value,a=bG(o);(""===n||!a||isNaN(a)||a<1)&&p("1")},[o,p]),v=(0,ex.t)("voting.modal.voting_setup_responsive_placeholder_prompt",{numVotes:s}),y=(0,bw.Kq)(W.useCallback(()=>{n(tu.Su({source:"voting_modal",usedCustomTitle:""!==c,requestBody:{title:c,in_progress:!0,user_vote_limit:s,num_people_in_file:i},uiSurface:"MeetingsPanel"}))},[n,c,s,i]));return W.createElement("div",{className:"create_new_vote_view--container--mzVZ7"},W.createElement(ft.y,{autoComplete:"off",autoCorrect:"off",autoFocus:!0,className:"create_new_vote_view--promptInput--Fd2W3 text--fontPos11--2LvXf text--_fontBase--QdLsd",spellCheck:!1,placeholder:v,value:c,onChange:e=>d(e.target.value),disabled:u,"aria-label":(0,ex.t)("voting.modal.voting_setup_prompt_input_field_aria_label")}),W.createElement("div",{className:"create_new_vote_view--voteLimitContainer--ga1AC"},W.createElement("div",{className:"create_new_vote_view--voteLimitControls--7D-Fi"},W.createElement(eN.A,{svg:bU.c,className:bB,onClick:()=>{m||_(-1)},role:"button","aria-label":(0,ex.t)("voting.modal.reduce_limit_tooltip_aria_label"),"aria-disabled":m}),W.createElement("input",{className:"create_new_vote_view--limitInput--1dzSR create_new_vote_view--promptInput--Fd2W3 text--fontPos11--2LvXf text--_fontBase--QdLsd",maxLength:2,type:"text",inputMode:"numeric",ref:t,value:o,onKeyDown:E,onFocus:g,onChange:h,onBlur:f,disabled:m,"aria-label":(0,ex.t)("voting.modal.voting_limit_input_field_aria_label")}),W.createElement(eN.A,{svg:bK.c,className:bB,onClick:()=>{m||_(1)},role:"button","aria-label":(0,ex.t)("voting.modal.increase_limit_tooltip_aria_label"),"aria-disabled":m})),W.createElement(wb,{flexGrow:!0,onClick:y,disabled:r||l,"data-tooltip-type":r?n1.wL.TEXT:void 0,"data-tooltip":r?(0,ex.t)("voting.modal.start_disabled_logged_out_tooltip"):void 0,recordingKey:"votingModalStartVotingSession"},W.createElement("span",null,W.createElement(ex.Tx,{id:"voting.modal.start_voting_session"})))))}var bW=n(611492);function bY(e){let{setOnPastVotesClick:t,setOnNewSessionClick:n,recordingKey:a}=e,r=(0,t$.K0)(),l=void 0!==t;return W.createElement("div",{className:ap.cx.flex.flexColumn.p16.$},W.createElement("div",{className:ap.cx.flex.gap8.itemsCenter.mb12.$},W.createElement(bR,null)),W.createElement("div",{className:ap.cx.flex.gap6.justifyCenter.$},l&&W.createElement(ww,{flexGrow:l,onClick:()=>{(0,Z.we)("view_past_voting_sessions",{source:"meetings_panel",fileKey:r}),t()},recordingKey:lI.Mx(a,"viewPastVotingSessions")},W.createElement(ex.Tx,{id:"meetings_panel.voting.view_past_results_prompt"})),W.createElement(wb,{flexGrow:l,onClick:()=>{(0,Z.we)("creating_new_vote_start",{source:"meetings_panel",fileKey:r}),n()},recordingKey:lI.Mx(a,"newVote")},W.createElement("div",{className:ap.cx.px4.$},W.createElement(ex.Tx,{id:"meetings_panel.voting.new_vote"})))))}function bj({recordingKey:e}){let[t,n]=W.useState(!1),a=(0,Y.w1)(e=>{var t;return(null==(t=e.openFile)?void 0:t.votingSessions)||null}),r=(null==a?void 0:a.length)&&(null==a?void 0:a.length)>0,l=(0,ei.my)(bW.V3),i=(0,bw.Kq)(W.useCallback(()=>{n(!0)},[])),o=(0,bw.Kq)(W.useCallback(()=>{l({type:"SET_VIEW",payload:bW.y6.PAST_VOTES})},[l]));return t?W.createElement(bH,null):W.createElement(bY,{setOnPastVotesClick:r?o:void 0,setOnNewSessionClick:i,recordingKey:e})}function bX(){let e=(0,Y.w1)(e=>e.mirror.appModel.votingSessionInfo),t=(0,Y.w1)(e=>e.mirror.appModel.votingSessionInfo),n="meetingsPanel";switch(t.votingStage){case eM.A5$.JOINED:return W.createElement(bO,{votingSessionInfo:e,recordingKey:n});case eM.A5$.NOT_JOINED:return W.createElement(bF,{recordingKey:n});case eM.A5$.NO_SESSION:case eM.A5$.ENDED:return W.createElement(bj,{recordingKey:n})}}let bz="meetings_panel",bq=(0,lo.U9)(function({votingSessionId:e}){let t=(0,Y.OY)(),n=(0,t$.K0)(),a=()=>{(0,Z.we)("cancel_delete_voting_session",{source:bz,votingSessionId:e,fileKey:n})};return W.createElement(nO.Co,{confirmationTitle:(0,ex.t)("voting.modal.delete_voting_session_modal_header"),content:(0,ex.t)("voting.modal.delete_voting_session_modal_description"),onConfirm:()=>{t(tu.Ck({votingSessionId:e})),t(tu.Tf({votingStage:eM.A5$.NO_SESSION})),(0,Z.we)("confirm_delete_voting_session",{source:bz,votingSessionId:e,fileKey:n})},dispatch:t,confirmText:(0,ex.t)("voting.modal.delete_voting_session_modal_confirm_button"),size:"small",destructive:!0,disableClickOutsideToHide:!0,hideOnConfirm:!0,cancelText:(0,ex.t)("voting.modal.delete_voting_session_modal_cancel_button"),onCancel:a,onCloseButtonClick:a,hideCancel:!1,popStack:!0,recordingKey:"deleteVotingSessionModal"})},"DeleteVotingSessionModal",lo.Ou.YES);function bZ({recordingKey:e}){let t=(0,Y.w1)(e=>{var t;return(null==(t=e.openFile)?void 0:t.votingSessions)||null}),[n,a]=(0,W.useState)(null);return W.createElement(W.Fragment,null,t&&t.length>0?W.createElement(nK.f,{className:"previous_votes_view--scrollContainer--Jb0sL"},W.createElement("ol",{className:"previous_votes_view--resultsList--IWpfo"},t.map((t,r,l)=>{var i;let o=null==(i=l[r+1])?void 0:i.id,s=t.id!==n&&(!o||o!==n)&&!!o;return W.createElement(bQ,{key:t.id,title:(0,bw.Mr)(t),id:t.id,userId:t.userId,createdAt:t.createdAt,shouldShowSeparator:s,setAsHovered:()=>a(t.id),setAsNotHovered:()=>a(e=>e===t.id?null:e),recordingKey:e})}))):W.createElement("div",{className:"previous_votes_view--nullResultsList--xAcum"},W.createElement("p",{className:"previous_votes_view--nullResultsListTextHeader--vWsPe previous_votes_view--nullResultsListText--qaiMF text--fontPos11--2LvXf text--_fontBase--QdLsd"},W.createElement(ex.Tx,{id:"voting.modal.previous_votes_null_text_title"})),W.createElement("p",{className:"previous_votes_view--nullResultsListTextDescription--CNedi previous_votes_view--nullResultsListText--qaiMF text--fontPos11--2LvXf text--_fontBase--QdLsd"},W.createElement(ex.Tx,{id:"voting.modal.after_you_vote_results_will_show_up_right_here"}))))}function bQ({title:e,id:t,userId:n,createdAt:a,shouldShowSeparator:r,setAsHovered:l,setAsNotHovered:i,recordingKey:o}){let s=(0,Y.OY)(),c=(0,t$.K0)();return W.createElement("li",null,W.createElement(rA.iH,{recordingKey:lI.Mx(o,"viewPastVotingSession"),className:q()("previous_votes_view--previousVotesListItem--77yUn",r&&"previous_votes_view--showSeparator--nHjDd"),onClick:()=>{(0,Z.we)("view_past_voting_session",{votingSessionId:t,source:"meetings_panel",fileKey:c}),s(tu.Tf({sessionId:t,votingStage:tq.A5$.ENDED}))},onMouseEnter:()=>l(),onMouseLeave:()=>i()},W.createElement("div",{className:"previous_votes_view--title--ndUJI text--fontPos13--xW8hS text--_fontBase--QdLsd ellipsis--ellipsisAfter2Lines--Qo-Xh ellipsis--_ellipsisAfterNLines--LzI7k"},e),W.createElement("div",{className:"previous_votes_view--previousVotesListItemMetadata--BDnIc"},W.createElement(bJ,{userId:n}),W.createElement("div",{className:"previous_votes_view--timestamp--A1VKx"},W.createElement(pQ.O,{date:a})))))}function bJ({userId:e}){let{user:t,loading:n}=(0,p$.eA)(e);return W.createElement(W.Fragment,null,W.createElement(bm.K,{userId:e,user:t,loading:n,size:24,loadingClassName:"previous_votes_view--loadingAvatar--JzmIH",defaultClassName:"previous_votes_view--userAvatarPadding---Zhpj"}),W.createElement(bm.A,{userId:e,user:t,loading:n,defaultClassName:"previous_votes_view--username--l6MHn text--fontPos11--2LvXf text--_fontBase--QdLsd ellipsis--ellipsis--Tjyfa",loadingClassName:"previous_votes_view--loadingUsername--VL2uA"}))}var b$=n(526768),b0=n(414228),b1=n(256996),b2=n(985260),b5=n(489308),b3=n(506240);let b4=new Map([["STICKY",b1.sX],["TEXT",b1.Gi],["FRAME",b1.Mb],["SYMBOL",b1.md],["ROUNDED_RECTANGLE",b1.M3],["CODE_BLOCK",b1.c9]]),b6=["ROUNDED_RECTANGLE","SYMBOL","FRAME"],b8=W.memo(({votingSessionInfo:e})=>{let t=(0,Y.w1)(t=>{var n,a;return null==(a=null==(n=t.openFile)?void 0:n.votingSessions)?void 0:a.find(t=>t.id===e.sessionId)}),n=(0,W.useMemo)(()=>[...e.votedNodes].sort((e,t)=>{let n=(0,bw.oL)(e),a=(0,bw.oL)(t);return n!==a?a-n:e.guid.localeCompare(t.guid)}),[e]),a=(0,W.useMemo)(()=>(0,bw.o7)(e.votedNodes),[e.votedNodes]);if(!t)return null;let r=!!n.length;return W.createElement("div",{className:ap.cx.flex.flexColumn.minH0.flexGrow1.$},W.createElement("div",{className:"voting_results_detail_view--titleContainer--gt1pA"},W.createElement(bI,{title:(0,bw.Mr)(t)})),W.createElement("div",{className:"voting_results_detail_view--byline--Fye6w"},W.createElement(bS,{votingSessionInfo:e}),W.createElement("p",{className:"voting_results_detail_view--bylineTimestamp--3Ugv4 text--fontPos12--YsUAh text--_fontBase--QdLsd"},W.createElement(pQ.O,{date:t.createdAt}))),r&&W.createElement(b2.U,null),r&&W.createElement(nK.f,null,W.createElement("ol",{className:"voting_results_detail_view--resultsList---owZd"},n.map((e,t)=>{var r;let l=1===a.size&&a.has(e.guid);return W.createElement(b9,{isMostVoted:l,nodeVoteInfo:e,nextNodeId:(null==(r=n[t+1])?void 0:r.guid)??null,key:e.guid})}))))});function b9({nodeVoteInfo:e,nextNodeId:t,isMostVoted:n}){let a=e.guid,r=(0,_d.$h)(a),l=(0,b$.i)("figjam_voting"),i=(0,Y.OY)(),o=(0,Y.w1)(e=>e.voting.selectedVotePinId===a),s=(0,Y.w1)(e=>!!t&&e.voting.selectedVotePinId===t),c=(0,Y.w1)(e=>e.voting.hoveredInModalVotePinId===a),d=(0,Y.w1)(e=>!!t&&e.voting.hoveredInModalVotePinId===t),m=W.useContext(yd.O2);(0,W.useEffect)(()=>{if(c)return()=>{i(tu.YR({votePinId:a}))}},[c,i,a]);let u=function(e){if(!e)return b3.kVp;let t=e.whiteboardColor,n=(0,b5.yq)(t,"STICKY"===e.type?"sticky":"base");return n?_o.Q.format(n):b3.kVp}(r),p=r?"SHAPE_WITH_TEXT"===r.type?function(e){switch(e){case"SQUARE":return b1.K2;case"ELLIPSE":return b1.yO;case"ROUNDED_RECTANGLE":return b1.Sj;case"TRIANGLE_UP":return b1.es;case"TRIANGLE_DOWN":return b1.or;case"PARALLELOGRAM_RIGHT":return b1.wR;case"PARALLELOGRAM_LEFT":return b1._T;case"ENG_DATABASE":return b1.oN;case"ENG_QUEUE":return b1.lc;case"ENG_FILE":return b1.CM;case"ENG_FOLDER":return b1.KM;case"TRAPEZOID":return b1.wZ;case"PREDEFINED_PROCESS":return b1.GO;case"SHIELD":return b1.Gj;case"PENTAGON":return b1.yS;case"OCTAGON":return b1.Mt;case"HEXAGON":return b1.SM;case"PLUS":return b1.O;case"STAR":return b1.gF;case"MANUAL_INPUT":return b1.UJ;case"DOCUMENT_SINGLE":return b1.Ic;case"DOCUMENT_MULTIPLE":return b1.Av;case"CHEVRON":return b1.An;case"ARROW_LEFT":case"ARROW_RIGHT":return b1.mc;case"SUMMING_JUNCTION":return b1.ID;case"OR":return b1.gx;case"SPEECH_BUBBLE":return b1.iq;case"INTERNAL_STORAGE":return b1.MD;default:return(0,tO.WI)("voting","error unhandled shape type for shapeTypeToSvg",{shapeType:e}),b1._T}}(r.shapeWithTextType):b4.get(r.type)||b1.sX:b1.sX,_=!!r&&b6.includes(r.type),E=(()=>{if(!r)return{width:0,height:0};let e=r.absoluteBoundingBox,t=e.w,n=e.h,a=Math.min(t/72,n/72);return{width:t/a,height:n/a}})(),g=function({nodeId:e,width:t,height:n,shouldSkip:a,updateOnSceneGraphChange:r=!1}){let[l,i]=(0,W.useState)(null);return(0,W.useEffect)(()=>{if(a){i(null);return}let l=null,o=()=>{l&&(l.abort(),l=null)},s=()=>{let a=(0,nJ.KW)(new nU.Cg(t,n),e,!0);a&&a.pixels&&a.pixelSize&&a.displaySize&&i({src:(0,nJ.me)(a.pixels,a.pixelSize),displaySize:a.displaySize})};i(null);let c=()=>{o(),l=new TaskController({priority:"user-visible"}),scheduler.postTask(s,{signal:l.signal})},d=nw()(c,200,{trailing:!0,leading:!1});return c(),r&&tA.CA.fromFullscreen.on("sceneGraphMirrorUpdate",d),()=>{o(),d.cancel(),r&&tA.CA.fromFullscreen.removeListener("sceneGraphMirrorUpdate",d)}},[e,t,n,a,r]),l}({nodeId:a,width:E.width,height:E.height,shouldSkip:!_}),h=(0,W.useMemo)(()=>{if(r){if(r.textSublayer)return r.textSublayer.textContent;if(r.textContent)return r.textContent;if(r.name)return r.name}return""},[r]),f=(0,bw.oL)(e);return W.createElement("li",null,W.createElement("button",{className:q()("voting_results_detail_view--resultsListItemButton--4llQi",{"voting_results_detail_view--resultsListItemButtonWinner--6bIhk":n,"voting_results_detail_view--resultsListItemButtonSelected--Z3vdm":o,"voting_results_detail_view--showSeparator--6aQOA":!o&&!s&&!c&&!d&&!!t}),onClick:function(){i(tu.a8({votePinId:e.guid})),r&&l((0,b0._)(r,m,"vote"))},onMouseEnter:function(){(0,et.wR)()&&i(tu.Cw({votePinId:a}))},onMouseLeave:function(){(0,et.wR)()&&i(tu.YR({votePinId:a}))}},W.createElement("div",{className:"voting_results_detail_view--resultsListItemCountContainer--1fD-h"},W.createElement("div",{className:"voting_results_detail_view--resultsListItemCountText--m6rWN text--fontPos11--2LvXf text--_fontBase--QdLsd"},W.createElement(ex.Tx,{id:"voting.modal.votes",numVotes:f,numVotesElem:W.createElement("p",{className:"voting_results_detail_view--resultsListItemCount--DLrXt text--fontPos13--xW8hS text--_fontBase--QdLsd"},f)}))),W.createElement("p",{className:"voting_results_detail_view--resultsListItemDetails--hz7gX text--fontPos11--2LvXf text--_fontBase--QdLsd ellipsis--ellipsisAfter3Lines--h405C ellipsis--_ellipsisAfterNLines--LzI7k"},h),W.createElement("div",{className:"voting_results_detail_view--resultsListItemThumbnail--Qjux6"},g&&_?W.createElement("img",{className:"voting_results_detail_view--nodePreviewImage--fugfT",src:g.src,width:g.displaySize.x,height:g.displaySize.y,alt:(0,ex.t)("voting.modal.voting_results_image_preview_alt")}):W.createElement(p,{color:u}),n&&W.createElement("img",{src:b1.c5,className:"voting_results_detail_view--medal--JzOBO",alt:(0,ex.t)("voting.modal.medal_img_alt")}))))}function b7(e){let{headerText:t,goBack:n,options:a,onMinimize:r,onOptionsMenuClick:l,recordingKey:i}=e;return W.createElement("div",{className:"meetings_panel_header--meetingsPanelPageContainer--TK5qd"},W.createElement(Te,{headerText:t,goBack:n,options:a,onMinimize:r,onOptionsMenuClick:l,recordingKey:i}),W.createElement(b2.U,null),e.children)}let Te=W.memo(e=>{let{headerText:t,goBack:n,options:a,onMinimize:r,onOptionsMenuClick:l,recordingKey:i}=e,{Dropdown:o,toggleDropdown:s,dropdownTargetRef:c,isDropdownShown:d}=(0,cu.s)("MEETINGS_PANEL_HEADER_OVERFLOW_MENU"),m=W.useCallback(e=>{null==l||l(),s()},[s,l]),u=W.useMemo(()=>a&&a.length>0?a.map(e=>({displayText:e.text,isChecked:!1,callback:e.callback,recordingKey:e.recordingKey})):null,[a]);return W.createElement(W.Fragment,null,W.createElement("div",{className:"meetings_panel_header--meetingsPanelHeader--6cBGV"},W.createElement(eN.A,{svg:of.c,className:"meetings_panel_header--panelHeaderBackButton--03dhC",onClick:et.cp.isIpad?void 0:n,onPointerDown:et.cp.isIpad?n:void 0,recordingKey:lI.Mx(i,"backButton")}),t&&W.createElement("span",{className:"meetings_panel_header--meetingsPanelHeaderText--KW2Jw text--fontPos11--2LvXf text--_fontBase--QdLsd"},t),W.createElement("div",{className:ap.cx.mlAuto.$,ref:c},u&&W.createElement(av.KM,{svg:b_.c,label:"dots",className:"meetings_panel_header--panelHeaderOverflowMenuIcon--zCGI4",onClick:m,"aria-label":(0,ex.t)("meetings_panel.header.overflow_menu_aria_label"),"data-tooltip-type":n1.wL.TEXT,"data-tooltip":(0,ex.t)("meetings_panel.header.overflow_menu_aria_label"),selected:d,recordingKey:lI.Mx(i,"expandMenuItems")})),W.createElement("div",null,u&&W.createElement(o,{items:u,showPoint:!0,minWidth:135,recordingKey:lI.Mx(i,"expandMenuItems")}),r&&W.createElement(rW.CA,{onClick:r}))))}),Tt="meetings_panel";function Tn(){let e=(0,Y.w1)(e=>e.mirror.appModel.votingSessionInfo),t=W.useMemo(()=>e&&e.sessionId.length>0,[e]),n=(0,Y.OY)(),a=(0,ei.my)(bW.V3),r=(0,C7.aW)(),l=(0,Y.o3)(),i=(0,rH.e6)(),o="pastVotingSessions",s=W.useCallback(()=>{t?n(tu.Tf({votingStage:eM.A5$.NO_SESSION})):a({type:"SET_VIEW",payload:bW.y6.DEFAULT})},[t,n,a]),c=W.useCallback(()=>{r({source:C7.iu.MEETINGS_PANEL})},[r]),d=W.useCallback(()=>{i("click_voting_results_more_options",{votingSessionId:e.sessionId,source:Tt})},[i,e]),m=W.useCallback(()=>{n(ts.us({type:bq.type,showModalsBeneath:!0,data:{votingSessionId:e.sessionId}})),i("click_delete_voting_session",{votingSessionId:e.sessionId,source:Tt})},[n,e,i]),u=W.useCallback(()=>{i("click_export_voting_session_as_csv",{votingSessionId:e.sessionId,source:Tt}),tu._r(l.getState(),e.sessionId)},[l,e,i]),p=W.useMemo(()=>{if(t){let e=[{text:(0,ex.t)("voting.modal.actions.delete_voting_session"),callback:m,recordingKey:"votingModalDeleteVotingSession"}];return et.cp.isIpadNative||e.unshift({text:(0,ex.t)("voting.modal.actions.export_as_csv"),callback:u,recordingKey:"votingModalExportAsCsv"}),e}},[t,u,m]);return W.createElement(b7,{headerText:(0,ex.t)("meetings_panel.voting.results"),goBack:s,onMinimize:c,onOptionsMenuClick:d,options:p,recordingKey:o},t?W.createElement(b8,{votingSessionInfo:e}):W.createElement(bZ,{recordingKey:o}))}var Ta=n(457956),Tr=n(421428);let Tl="volume_control_button--incognito--08zV2";var Ti=((b=Ti||{}).LEFT="LEFT",b.RIGHT="RIGHT",b.CENTER="CENTER",b.INLINE="INLINE",b),To=((T=To||{}).DEFAULT="DEFAULT",T.INCOGNITO="INCOGNITO",T);function Ts({muteButtonRef:e,volumeJustification:t,volumeStyle:n="DEFAULT",fullWidth:a,withShallowHoverDetector:r}){var l;let i=(0,Y.w1)(e=>e.music.isMuted),o=(0,Y.w1)(e=>i?0:e.music.volume),s=(0,Y.OY)(),c=e=>{e.preventDefault(),e.stopPropagation();let t=Number(e.target.value);s(C$.WO(t))},d=0,m=0;if("INLINE"!==t){let n=null==(l=e.current)?void 0:l.getClientRects()[0];if(!n)return W.createElement(W.Fragment,null," ");d=n.x,"CENTER"===t?d+=(n.width-144)/2:"RIGHT"===t&&(d=d+n.width-144),m=(n.y||0)+32+5}return W.createElement("div",{className:q()("volume_control_button--volumeContainer--wG3so",{"volume_control_button--volumeContainerRelative--HqRsy":"INLINE"===t,[Tl]:"INCOGNITO"===n,"volume_control_button--fullWidth--ujvGh":a}),style:{left:`${d||0}px`,top:`${m}px`}},W.createElement("input",{className:q()("volume_control_button--volumeSliderInput--hGpWE",{"volume_control_button--isMuted--vjeRI":i,[Tl]:"INCOGNITO"===n}),style:{background:`linear-gradient(to right,var(--active-slider-color) 0%,var(--active-slider-color) ${o}%,var(--inactive-slider-color) ${o}%,var(--inactive-slider-color) 100%)`},type:"range",min:0,max:100,step:1,value:o,onChange:c,onMouseUp:e=>{let t=Number(e.target.value);s(C$._u({isMuted:0===t,userInitiated:!0}))},onInput:c,onTouchEnd:e=>{e.preventDefault(),e.stopPropagation()}}),"INLINE"!==t&&W.createElement("div",{className:q()({"volume_control_button--additionalHoverDetection--5Mdp7":!r,"volume_control_button--shallowAdditionalHoverDetection--2LZaC":r})}))}var Tc=n(16708),Td=n(785480),Tm=n(382332),Tu=n(14932),Tp=((x=Tp||{}).DEFAULT="default",x.ON_FIGJAM="onFigjam",x.FIGJAM="figjam",x);let T_=(e,t)=>t||0===e?Tu.c:e<40?Td.c:e<80?Tm.c:Tc.c;function TE(e){let{isMinimized:t,withDarkHoverBg:n,muteButtonRef:a,muteOnTouch:r,iconColor:l,blockTooltip:i}=e,o=(0,Y.w1)(e=>e.music.volume),s=(0,Y.w1)(e=>e.music.isMuted),c=(0,Y.OY)(),d=W.useCallback(()=>{c(C$._u({isMuted:!s,userInitiated:!0}))},[c,s]),m=W.useCallback(e=>{e.preventDefault(),e.stopPropagation(),d()},[d]);return W.createElement("div",{onTouchEnd:r?m:aC.Kw},W.createElement(av.wP,{onClick:d,className:q()("volume_control_button--button--6JyR-",{"volume_control_button--minimized--esj8w":t,"volume_control_button--withDarkHoverBg--p-OS1":n,"volume_control_button--defaultSpeakerColor--ZF9o2":"default"===l,"volume_control_button--figjamSpeakerColor--0W5TO":"figjam"===l,"volume_control_button--onFigjamSpeakerColor--KEcX8":"onFigjam"===l}),svg:T_(o,s),"data-tooltip-type":n1.wL.TEXT,tooltipForScreenReadersOnly:i,"data-tooltip":s?(0,ex.t)("whiteboard.timer.timer_unmute_tooltip"):(0,ex.t)("whiteboard.timer.timer_mute_tooltip"),"data-tooltip-show-above":!0,ref:a}))}var Tg=((k=Tg||{})[k.DEFAULT=0]="DEFAULT",k[k.ALWAYS=1]="ALWAYS",k[k.NEVER=2]="NEVER",k);function Th({volumeJustification:e,sliderVisibilitySetting:t,sliderFullWidth:n,buttonGap:a,isMinimized:r,withDarkHoverBg:l,iconColor:i,blockButtonTooltip:o,muteOnTouch:s}){let c=W.useRef(-1),[d,m]=W.useState(!1),u=W.useCallback(()=>{c.current&&clearTimeout(c.current),c.current=window.setTimeout(()=>{m(!0)},100)},[m]),p=W.useCallback(()=>{c.current&&clearTimeout(c.current),m(!1)},[m]),_=W.useRef(null),E=W.useCallback(()=>{p()},[p]);(0,Tr.o)(_,"touchend",E);let g=W.useRef(null),h=(0,Y.w1)(e=>e.timer),f=(0,CJ.g$)(h.time);W.useEffect(()=>{f&&m(!1)},[f]),W.useEffect(()=>{m(!1)},[t]);let v=d;switch(t){case 1:v=!0;break;case 2:v=!1}return W.createElement("div",{ref:_,onTouchEnd:e=>{e.preventDefault(),e.stopPropagation(),d?p():u()},onMouseEnter:u,onMouseLeave:p,className:"volume_control_button--volumeButtonAndSliderContainer--HyG-F",style:{gap:a}},W.createElement(TE,{muteButtonRef:g,isMinimized:r,withDarkHoverBg:l,iconColor:i,blockTooltip:o,muteOnTouch:s}),v&&W.createElement(Ts,{muteButtonRef:g,volumeJustification:e,volumeStyle:r?To.DEFAULT:To.INCOGNITO,fullWidth:n,withShallowHoverDetector:r}))}function Tf(){let e=(0,C7.yW)();return W.createElement("div",{className:ap.cx.flex.flexColumn.pr16.pb8.pl8.$},W.createElement(Th,{volumeJustification:Ti.INLINE,sliderVisibilitySetting:e?Tg.NEVER:Tg.ALWAYS,sliderFullWidth:!0,buttonGap:5,iconColor:Tp.DEFAULT,withDarkHoverBg:!0,muteOnTouch:e}))}function Tv(){let[e,t]=w1(),n=(0,Y.w1)(e=>e.mirror.appModel.showUi);return(!function(e){let t=(0,Y.OY)(),n=(0,Y.w1)(e=>e.timer);W.useEffect(()=>{!1!==n.startChimePlayed||(0,CJ.g$)(n.time)||(0,CJ.yg)(n.time)||(0,CJ.oZ)(n.time)||(e(),t(C$.QZ(!0)))},[t,e,n.startChimePlayed,n.time])}(t.playStartChime),!function(){wq();let[e,t]=(0,eo.lZ)(wL.s$),n=(0,Y.w1)(e=>e.timer.volume);wJ(t),wZ(e),w$([wF,wU,wB],n)}(),!function(){var e;C9();let t=function(e){let[t]=W.useState(()=>(null==e?void 0:e.previousPlayerInstance)||new C3(e)),n=(0,Y.w1)(t=>"StandaloneMusic"===e.musicSource?t.music.volume:t.timer.volume),a=(0,Y.w1)(t=>"StandaloneMusic"===e.musicSource?t.music.isMuted:t.timer.isMuted);return W.useEffect(()=>{t.setVolume(n/100)},[n,t]),W.useEffect(()=>{t.setIsMuted(a)},[a,t]),t}({musicSource:"StandaloneMusic",loadingPlaybackUrl:"https://static.figma.com/uploads/f4e48159672101a168b296a94e39ef02f032e171",previousPlayerInstance:(0,Y.w1)(e=>e.music.playerInstance)||void 0}),n=(0,Y.w1)(e=>e.music.music),a=null==(e=C6((null==n?void 0:n.selectedSongID)||""))?void 0:e.playback_url,r=(0,Y.w1)(e=>e.music.volume),l=(0,Y.w1)(e=>e.music.isMuted),i=(0,Y.OY)();W.useEffect(()=>{i(C$.sf())},[i]),W.useEffect(()=>{i(C$.YZ(t))},[i,t]),W.useEffect(()=>()=>{t.stop()},[t]),W.useEffect(()=>{i(C$._u({isMuted:0===r,userInitiated:!1}))},[i,r]);let o=W.useCallback(()=>{i(C$._u({isMuted:!0,userInitiated:!1})),i(ek.A.enqueue({message:(0,ex.t)("whiteboard.timer.unmute_music_message"),button:{text:(0,ex.t)("whiteboard.timer.unmute_music_button"),action:()=>{i(C$._u({isMuted:!1,userInitiated:!0}))}},type:"unmute-timer-music",onDismiss:()=>{}}))},[i]);W.useEffect(()=>{if(a!==t.audio.currentSrc&&t.setSource(a||""),!a){t.stop();return}if(null==n?void 0:n.isPaused){t.pause();return}if(!(null==n?void 0:n.isPaused)){if(!t.isPaused()||!a)return;t.playAtTimestamp({src:a,timestamp:(0,C$.gt)(n),onFailure:o})}},[a,n,t,o,l])}(),(0,bw.ys)(),(0,bw.CY)(),wV(),wH(),(0,eo.m4)(bW.V3).isOpen&&n)?W.createElement(Ty,null):null}function Ty(){let e=(0,eo.m4)(bW.V3),t=(0,C7.yW)(),n=(0,C7.aW)(),a=(0,bw.sp)();return W.createElement("div",{className:"meetings_panel--meetingsPanelModal--2NL5Z"},e.view!==bW.y6.PAST_VOTES||t?W.createElement("div",{className:"meetings_panel--meetingsPanelContents--nnSLj"},W.createElement(Ta.m,{title:a?(0,ex.t)("meetings_panel.toolbar_tooltip"):(0,ex.t)("meetings_panel.toolbar_tooltip.no_voting"),onClose:()=>n({source:C7.iu.MEETINGS_PANEL})}),W.createElement(nK.f,{className:"meetings_panel--meetingToolsScrollWrapper--D5CUY"},W.createElement(TC,null))):W.createElement(Tn,null))}function TC(){let e=(0,bw.sp)();return W.createElement("div",{className:ap.cx.colorBg.$},W.createElement(Tf,null),W.createElement(b2.U,null),W.createElement(bs,null),W.createElement(b2.U,null),W.createElement(wM,null),e&&W.createElement(W.Fragment,null,W.createElement(b2.U,null),W.createElement(bX,null)))}var Tw=n(883820);let Tb=(0,nT.Zf)(!1),TT=(0,nT.Zf)(e=>e(Tb)),Tx=(0,nT.Zf)(null,(e,t)=>{(0,Tw.u)(()=>{t(Tk)}),t(Tb,!0)}),Tk=(0,nT.Zf)(null,(e,t)=>{t(Tb,!1)});var TN=n(251128);function TS(){let e=(0,Y.w1)(e=>!e.mirror.appModel.isReadOnly&&e.mirror.appModel.topLevelMode!==eM.s9F.HISTORY),t=(0,Y.w1)(e=>(0,nf.AD)(e.mirror.appModel)),n=(0,Y.w1)(e=>{let n=e.mirror.sceneGraph.get(t);return n?n.name:null}),a=(0,Y.w1)(e=>e.mirror.appModel.pagesList),r=(0,t$.AL)(),l=(0,t0.c$)(),i=(0,rm.yO)(),o=(0,el.q)(e=>({fileVersion:e.fileVersion,teams:e.teams,loadingState:e.loadingState,modalShown:e.modalShown,dropdownShown:e.dropdownShown,leftPanel:e.leftPanel})),s=(0,ei.my)(TN.Q);return(0,W.useEffect)(()=>{s(!0)},[s]),W.createElement(rg.GK,{recordingKey:"figjamPagesSidebar",width:240,readonly:!e,currentPageGuid:t,currentPageName:n,pagesList:a,fileInEditableState:e,activeTab:eM.W8r.LAYERS,showTabs:!1,showPages:!0,hasTeamLibraryUpdates:!1,fileVersion:o.fileVersion,openFile:r,teams:o.teams,leftPanel:o.leftPanel,loadingState:o.loadingState,selectedView:l,modalShown:o.modalShown,isDevHandoff:!1,isDevHandoffOverview:i,isFullHeightSidebar:!0,dropdownShown:o.dropdownShown,isComparingChanges:!1})}function TI(){let e=(0,Y.w1)(e=>e.mirror.appModel.showUi),t=(0,eo.m4)(TT),n=(0,ei.my)(Tk);return(0,W.useEffect)(()=>n,[n]),t&&e?W.createElement("div",{key:"figjam-pages-sidebar",className:q()("pages_sidebar_ui2--positioner--MStQb",eR.cp)},W.createElement("div",{className:"pages_sidebar_ui2--panel--ZLyMB"},W.createElement(TS,null))):null}var TA=n(929452),TO=n(453496),TM=n(447600);function TP(e){return W.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},W.createElement("path",{stroke:"var(--color-icon)",d:"M4.5 12a7.5 7.5 0 1 1 7.5 7.5H7.2c-.568 0-.964 0-1.273-.026-.302-.024-.476-.07-.608-.137a1.5 1.5 0 0 1-.656-.656c-.067-.132-.113-.306-.137-.608-.026-.308-.026-.705-.026-1.273V12Z"}))}let TL=(0,W.memo)((0,W.forwardRef)(function({tooltip:e,isActive:t,onClick:n,recordingKey:a,dataElementTarget:r,onboardingKey:l,disabled:i,dataTestId:o,children:s,showUnreadIndicator:c=!1},d){let m=q()("whiteboard_toolbar_item_ui3--button--vF5Eu",{"whiteboard_toolbar_item_ui3--active--EWNz5":t});return W.createElement(rA.iH,{forwardedRef:d,className:m,"data-tooltip-type":e.type,"data-testid":o,"data-tooltip":e.type===n1.wL.TEXT?e.text:e.key,"data-element-target":r,onKeyDown:e=>(0,tS.CI)({e,onClickHandler:n}),onClick:n,recordingKey:a,tabIndex:0,"aria-label":e.type===n1.wL.TEXT?e.text:e.ariaLabel,"aria-pressed":t,"data-fullscreen-intercept":!0,"data-onboarding-key":l,disabled:i},s,c&&W.createElement("div",{className:"whiteboard_toolbar_item_ui3--unreadDot--Q45Ns"}))})),TD=(0,tg.wB)(TL);function TR(){let e=(0,ty.Ci)(),t=lI.Mx("toolbarView",rk.mq.recordingKey);return e?W.createElement(TF,{recordingKey:t}):W.createElement(uU.Gy,{recordingKey:t})}function TF({recordingKey:e}){let t=(0,W.useRef)(null),n=(0,Y.w1)(e=>(0,nf.Ib)(e.mirror.appModel,rk.mq.action)&&!!e.openFile),a=(0,Y.w1)(e=>e.mirror.appModel.currentTool===rk.mq.tool),r=(0,tp.EB)(),l=lQ.kr.getIsExtension();return(0,W.useEffect)(()=>{!a&&t.current&&t.current===document.activeElement&&(0,tS.gd)()},[a,t]),(0,W.useEffect)(()=>{if(n&&a){let e=!0;return(0,Tw.u)(()=>{e&&tA.CA.triggerAction("set-tool-default")}),()=>{e=!1}}},[n,a]),W.createElement(TD,{tooltip:{type:n1.wL.LOOKUP,key:rk.mq.action,ariaLabel:(0,ex.t)("fullscreen.accessibility.view_comments")},isActive:a,onClick:function(e){var r;if(!n)return;let l=e.nativeEvent instanceof KeyboardEvent;a?(tA.CA.triggerAction("set-tool-default"),l&&(null==(r=t.current)||r.focus())):d3.Qb.get(rk.mq.action,"toolbar")(e)},recordingKey:e,onboardingKey:rk.mq.onboardingKey,disabled:!n,dataTestId:rk.mq.action,ref:t,showUnreadIndicator:!l&&r>0},W.createElement(TP,null))}var TB=n(802468);function TU(e){return W.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},W.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M6 6h12a1 1 0 0 1 1 1v3H5V7a1 1 0 0 1 1-1Zm-1 5v6a1 1 0 0 0 1 1h3v-7H5Zm5 7h8a1 1 0 0 0 1-1v-6h-9v7ZM4 7a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V7Z",clipRule:"evenodd"}))}var TK=n(967636),TG=n(61304),TH=n(896784);let TV=(0,W.memo)(function(e){let{tooltipText:t,isActive:n,onClick:a,recordingKey:r,addLeftMargin:l,dataElementTarget:i,onboardingKey:o,disabled:s,dataTestId:c}=e,d="text"in e&&!!e.text,m=q()((0,TH.i)(!s,n),{"whiteboard_toolbar_item--toolButtonWithText--rtLKk":d,"whiteboard_toolbar_item--toolButtonContainer--ZUXZ0":!0,"whiteboard_toolbar_item--toolButtonContainerWithMargin--QCajI":l});return W.createElement(rA.iH,{className:q()(m,"whiteboard_toolbar_item--iconButton--P72LO toolbar_view--iconButton--1MUm6"),"data-tooltip-type":n1.wL.TEXT,"data-testid":c,"data-tooltip":t,"data-element-target":i,onKeyDown:e=>(0,tS.CI)({e,onClickHandler:a}),onClick:a,recordingKey:r,tabIndex:0,"aria-label":t,"aria-pressed":n,"data-fullscreen-intercept":!0,"data-onboarding-key":o,disabled:s},"icon"in e&&W.createElement(eN.A,{svg:e.icon}),d&&W.createElement("div",null,e.text),"children"in e&&W.createElement(W.Fragment,null,e.children))}),TW=(0,tg.wB)(TV);var TY=n(612340),Tj=n(590112),TX=n(129388),Tz=n(748996);let Tq="templates_toolbar";function TZ(){let e=(0,ty.Ci)(),t=(0,Y.OY)(),n=(0,Y.w1)(e=>{var t;return(null==(t=e.modalShown)?void 0:t.type)===TX.Q3.type}),a=!(0,Tj.q6)()&&(0,TY.e4)(),r=(0,ex.t)("whiteboard.inserts.templates"),l={isActive:n,onClick:()=>{n?t(ts.oN()):(TK.GK.trigger("action",eM.I6V.CLEAR),(0,TX.YF)(t,{triggeredFrom:"toolbar",templateInsertionLocation:TG.AH.CURRENT_FILE}))},trackingProperties:{trackingDescriptor:lr.O.TEMPLATES_TOOLBAR_ITEM_CLICKED},onboardingKey:Tq};return e?W.createElement(TD,{tooltip:{type:n1.wL.TEXT,text:r},...l},W.createElement(TU,null)):W.createElement(TW,{icon:Tz.c,addLeftMargin:!a,tooltipText:r,...l})}var TQ=n(540),TJ=n(731784),T$=n(189896),T0=n(457428),T1=n(406824);function T2(){let e=(0,ty.Ci)(),t=(0,eo.m4)(T0.TS),n=(0,ei.my)(T0.y2),a=(0,ei.my)(T0.Og),r=(0,$.Ub)().figjam_generate_handbrake,l=r?(0,ex.t)("whiteboard.ai_modal.generate_handbrake"):(0,ex.t)("whiteboard.ai_modal.generate"),i=(0,Y.w1)(e=>e.mirror.appModel.topLevelMode===eM.s9F.LAYOUT);(0,W.useEffect)(()=>{i||a()},[i,a]);let o={isActive:t===T0.eI.TOP_BAR,onClick:()=>{t===T0.eI.TOP_BAR?a():((0,Tw.u)(a),n())},trackingProperties:{trackingDescriptor:lr.O.FIGJAM_AI_TOOLBAR_ITEM},onboardingKey:T$.cp,innerText:"AI Toolbar Entrypoint",disabled:r,dataTestId:"figjam-ai-toolbar-item"};return e?W.createElement(TD,{tooltip:{type:n1.wL.TEXT,text:l},...o},W.createElement(TJ.A,null)):W.createElement(TW,{icon:T1.c,addLeftMargin:!0,tooltipText:l,...o})}let T5=e=>e.multiplayer.allUsers.filter((e,t,n)=>t===n.findIndex(t=>t.userID===e.userID)).length,T3="seen_figjam_meetings_panel_gleam",T4={duration:1500,fill:"none"};function T6(){return W.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{width:"100%",height:"100%"}},W.createElement("g",{filter:"url(#filter0_d_3305_12330)"},W.createElement("path",{d:"M20.2469 10.6915L20.2471 10.6913C21.1037 9.81654 20.693 8.21534 19.3809 8.01578C19.3809 8.01577 19.3808 8.01576 19.3807 8.01575L14.8346 7.32381L12.7941 2.99403C12.2333 1.80375 10.5666 1.79999 10.0055 2.99476C10.0054 2.99498 10.0053 2.99521 10.0052 2.99543L7.96535 7.32381L3.41928 8.01575C3.41921 8.01576 3.41914 8.01577 3.41908 8.01578C2.107 8.21534 1.69633 9.81654 2.55291 10.6913L2.55308 10.6915L5.86693 14.0741L5.08327 18.8605C5.08326 18.8606 5.08325 18.8606 5.08324 18.8607C4.88746 20.0559 6.12574 21.1809 7.34457 20.5087L11.4 18.2756L15.4554 20.5087C15.4556 20.5088 15.4558 20.5088 15.456 20.5089C16.6746 21.1805 17.9125 20.0557 17.7168 18.8607C17.7167 18.8606 17.7167 18.8606 17.7167 18.8605L16.9331 14.0741L20.2469 10.6915Z",fill:"#FFC700",stroke:"white",strokeWidth:"1.8"}),W.createElement("path",{d:"M18.8131 12.5161C18.4636 11.4367 16.9364 11.4367 16.5869 12.5161L15.8361 14.8349L13.7375 15.7224C12.7851 16.1252 12.7851 17.4748 13.7375 17.8776L15.8361 18.7651L16.5869 21.0839C16.9364 22.1634 18.4636 22.1633 18.8131 21.0839L19.5639 18.7651L21.6625 17.8776C22.6149 17.4748 22.6149 16.1252 21.6625 15.7224L19.5639 14.8349L18.8131 12.5161Z",fill:"url(#paint0_linear_3305_12330)"}),W.createElement("path",{d:"M18.8131 12.5161C18.4636 11.4367 16.9364 11.4367 16.5869 12.5161L15.8361 14.8349L13.7375 15.7224C12.7851 16.1252 12.7851 17.4748 13.7375 17.8776L15.8361 18.7651L16.5869 21.0839C16.9364 22.1634 18.4636 22.1633 18.8131 21.0839L19.5639 18.7651L21.6625 17.8776C22.6149 17.4748 22.6149 16.1252 21.6625 15.7224L19.5639 14.8349L18.8131 12.5161Z",fill:"url(#paint1_linear_3305_12330)"}),W.createElement("path",{d:"M18.8131 12.5161C18.4636 11.4367 16.9364 11.4367 16.5869 12.5161L15.8361 14.8349L13.7375 15.7224C12.7851 16.1252 12.7851 17.4748 13.7375 17.8776L15.8361 18.7651L16.5869 21.0839C16.9364 22.1634 18.4636 22.1633 18.8131 21.0839L19.5639 18.7651L21.6625 17.8776C22.6149 17.4748 22.6149 16.1252 21.6625 15.7224L19.5639 14.8349L18.8131 12.5161Z",stroke:"white",strokeWidth:"1.8"})),W.createElement("defs",null,W.createElement("filter",{id:"filter0_d_3305_12330",x:"-1.5",y:"-1",width:"27",height:"27",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},W.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),W.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),W.createElement("feOffset",{dy:"0.5"}),W.createElement("feGaussianBlur",{stdDeviation:"0.75"}),W.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.35 0"}),W.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_3305_12330"}),W.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_3305_12330",result:"shape"})),W.createElement("linearGradient",{id:"paint0_linear_3305_12330",x1:"13.5",y1:"12",x2:"21.9",y2:"21.6",gradientUnits:"userSpaceOnUse"},W.createElement("stop",{stopColor:"#F7C000"}),W.createElement("stop",{offset:"1",stopColor:"#E8B604"})),W.createElement("linearGradient",{id:"paint1_linear_3305_12330",x1:"21.9",y1:"21.6",x2:"13.5",y2:"12",gradientUnits:"userSpaceOnUse"},W.createElement("stop",{stopColor:"white",stopOpacity:"0"}),W.createElement("stop",{offset:"0.418743",stopColor:"white",stopOpacity:"0.15"}),W.createElement("stop",{offset:"0.504534",stopColor:"white",stopOpacity:"0.63"}),W.createElement("stop",{offset:"0.588015",stopColor:"white",stopOpacity:"0.15"}),W.createElement("stop",{offset:"1",stopColor:"white",stopOpacity:"0"}))))}let T8="meeting_tools_toolbar--withHover--r7Sks",T9="meeting_tools_toolbar--selected--Lt0iR",T7="meeting_tools_toolbar--hide--t1ZI-";function xe(){let e=(0,ty.Ci)(),t=(0,eo.m4)(bW.V3),n=(0,C7.aW)(),a=(0,C7.GE)(),r=(0,C7.a_)(),[l]=w1(),{renderGleam:i}=function(e){let[t,n]=W.useState(!1),a=(0,Y.w1)(T5),r=(0,t2.e)(T3),l=(0,Y.OY)(),i=a>1&&!r;return W.useEffect(()=>{if(!i)return;let t=window.setTimeout(()=>{n(!0),l(tm.s({[T3]:!0}))},(null==e?void 0:e.delay_ms)||1e4);return()=>clearTimeout(t)},[i,null==e?void 0:e.delay_ms,l]),{renderGleam:t}}({delay_ms:2e3}),o=W.useCallback(()=>{t.isOpen?n({source:C7.iu.MEETINGS_TOOLBAR}):a({source:C7.iu.MEETINGS_TOOLBAR})},[t,n,a]),s=function(){let e=(0,C7.a_)();return e.length>0?1===e.length&&e.includes(bW.w9.VOTING)||2===e.length&&e.includes(bW.w9.VOTING)&&e.includes(bW.w9.TIMER)?"VOTE":"MUSIC":"ALL"}(),c=function(){let e=(0,C7.a_)();return 0===e.length?w7.TERTIARY:e.includes(bW.w9.TIMER)&&e.includes(bW.w9.VOTING)?w7.SECONDARY:w7.DEFAULT}(),d=r.includes(bW.w9.TIMER)||0===r.length,m=function(){let e=(0,C7.a_)(),t=(0,bc.k)(),n=(0,Y.w1)(e=>e.music.music),a=C6((null==n?void 0:n.selectedSongID)||"");return e.includes(bW.w9.VOTING)&&t?(0,bw.Mr)(t):e.includes(bW.w9.MUSIC)&&1===e.length?null==a?void 0:a.title:void 0}(),u=W.useRef(null),p=W.useRef(null),_=W.useRef(null),E=W.useRef(null),g=W.useRef(null);!function(e,t,n,a,r,l){let[i,o]=W.useState([]);W.useLayoutEffect(()=>{let l={transform:"scale(1)",boxShadow:"0px 0px 0px 0px var(--color-border)"},i={backgroundColor:"var(--color-bg-figjam)"},s=new KeyframeEffect(e.current,[{offset:0,...l},{offset:.2,...l},{offset:.4,transform:"scale(1.05)",boxShadow:"0px 2.5px 5px 0px var(--color-border)"},{offset:.5,...l},{offset:.6,transform:"scale(1.025)",boxShadow:"0px 1.25px 2.5px 0px var(--color-border)"},{offset:.8,...l},{offset:1,...l}],T4),c=new KeyframeEffect(r.current,[{offset:.4,...i},{offset:.62,...i},{offset:.77,backgroundColor:"var(--color-bg-secondary)"}],T4),d=new KeyframeEffect(t.current,[{offset:0,backgroundColor:"#959595"},{offset:.5,backgroundColor:"#959595"},{offset:1,backgroundColor:"var(--color-bg-figjam)"}],T4),m=new KeyframeEffect(a.current,[{offset:0,filter:"grayscale(80%)"},{offset:.5,filter:"grayscale(80%)"},{offset:1,filter:"grayscale(0%)"}],T4);o([s,d,new KeyframeEffect(n.current,[{offset:.4,color:"var(--color-text-onfigjam-tertiary)"},{offset:.62,color:"var(--color-text-onfigjam-tertiary)"},{offset:.77,color:"var(--color-text-tertiary)"}],T4),m,c].map(e=>new Animation(e,document.timeline)))},[e,t,n,a,r]),function(e,t,n){let a=(0,rb.i)(e),r=(0,eo.m4)(bW.V3),l=(0,C7.a_)(),i=r.isOpen||l.length>0;W.useEffect(()=>{i||(e&&!a&&t(),!e&&a&&n())},[e,t,n,a,l,i])}(l,W.useCallback(()=>{i.forEach(e=>{e.playbackRate=1,e.play()})},[i]),W.useCallback(()=>{i.forEach(e=>{e.playbackRate=-1,e.play()})},[i]))}(u,_,E,g,p,i);let h=function(e){let t=(0,eo.m4)(bW.V3),n=(0,C7.a_)();return!e&&!t.isOpen&&0===n.length}(i),f=(0,C7.yW)(),v=(0,bw.sp)();return W.createElement("div",{ref:u,className:q()("meeting_tools_toolbar--toolbarItemContainer--3HgdD",{"meeting_tools_toolbar--meetDeviceToolbarItemContainer--8R79s":(0,_$.S2)()})},W.createElement("button",{ref:p,className:q()("meeting_tools_toolbar--toolbarItemButton--VBNmh",{[T9]:t.isOpen,[T8]:!f}),onClick:lI.S4("meetingsPanelToolbar","click",o),"data-tooltip-type":n1.wL.TEXT,"data-tooltip":v?(0,ex.t)("meetings_panel.toolbar_tooltip"):(0,ex.t)("meetings_panel.toolbar_tooltip.no_voting"),"aria-label":v?(0,ex.t)("meetings_panel.toolbar.aria_label"):(0,ex.t)("meetings_panel.toolbar.aria_label.no_voting"),"data-onboarding-key":"meeting-panel-button"},W.createElement("div",{className:q()("meeting_tools_toolbar--iconContainer--n2hs5",{"meeting_tools_toolbar--single--h9cHX":"ALL"!==s})},W.createElement("div",{className:q()("meeting_tools_toolbar--recordIcon--D6vfx meeting_tools_toolbar--icon--EVBBt",{[T7]:"MUSIC"!==s&&"ALL"!==s})},W.createElement(wg,{size:"xsmall",maskAlbumArtWhenPaused:!0,maskRef:_,useGrayMask:h})),W.createElement("div",{className:q()("meeting_tools_toolbar--starIcon--37MdY meeting_tools_toolbar--icon--EVBBt",{"meeting_tools_toolbar--leftAlign--G1Vob":"VOTE"===s,[T7]:"VOTE"!==s&&"ALL"!==s})},W.createElement("div",{ref:g,className:q()("meeting_tools_toolbar--starContainer--4lbzy",{"meeting_tools_toolbar--grayedOut--deQf-":h})},W.createElement(T6,null)))),W.createElement("div",{className:q()("meeting_tools_toolbar--textWrapper--eikYA text--fontPos11--2LvXf text--_fontBase--QdLsd ellipsis--ellipsis--Tjyfa",{[T9]:t.isOpen})},m),W.createElement(xt,{width:m&&d?8:0}),W.createElement("div",{className:q()("meeting_tools_toolbar--minimizedTimerWrapper--adc47",{[T7]:!d})},r.includes(bW.w9.TIMER)?W.createElement(W.Fragment,null,W.createElement(bn,{isSelected:t.isOpen,prominence:c,size:w9.XSMALL,withoutTimeShadow:!0,withoutFlashOnPause:!0,withoutUnderline:!0,timeDivRef:E,isInUI3Toolbar:e})):W.createElement(W.Fragment,null,W.createElement(ba,{isSelected:t.isOpen,prominence:c,size:w9.XSMALL,withoutTimeShadow:!0,withoutUnderline:!0,timeDivRef:E,timeInSeconds:(0,CJ.Ex)(l),isInUI3Toolbar:e})))),r.includes(bW.w9.MUSIC)&&W.createElement("div",{className:q()("meeting_tools_toolbar--volumeControlContainer--gXf-m",{[T9]:t.isOpen,[T7]:!r.includes(bW.w9.MUSIC),[T8]:!f})},W.createElement(Th,{volumeJustification:Ti.CENTER,isMinimized:!0,iconColor:t.isOpen?e?Tp.FIGJAM:Tp.ON_FIGJAM:Tp.DEFAULT,blockButtonTooltip:!0,sliderVisibilitySetting:t.isOpen||f?Tg.NEVER:Tg.DEFAULT,muteOnTouch:f})))}function xt(e){return W.createElement("div",{style:{width:e.width||0}})}var xn=((N=xn||{}).ALL="ALL",N.MUSIC="MUSIC",N.VOTE="VOTE",N),xa=n(145732),xr=n(431844),xl=n(314520),xi=n(234276);function xo(){let e=(0,ty.Ci)(),t=(0,eo.m4)(xl.AT),n=(0,ei.my)(xl.s9),a=(0,ei.my)(xl.Mh),r=(0,xi.i)(),l=(0,W.useCallback)(()=>!!t&&(r({isUserTriggered:!0}),!0),[t,r]);(0,xr.yo)(l,xr.W6.MODAL);let i=(0,Y.w1)(e=>e.mirror.appModel.topLevelMode===eM.s9F.LAYOUT);(0,W.useEffect)(()=>{t&&!i&&a()},[t,i,a]);let o=!(0,Tj.q6)()&&(0,TY.e4)(),s=(0,ex.t)("whiteboard.inserts.templates"),c={isActive:t,onClick:()=>{t?r({isUserTriggered:!0}):(TK.GK.trigger("action",eM.I6V.CLEAR),n({source:"toolbar"}))},trackingProperties:{trackingDescriptor:lr.O.TEMPLATES_TOOLBAR_ITEM_CLICKED},onboardingKey:Tq,dataTestId:"templates_sidebar_toolbar_item"};return e?W.createElement(TD,{tooltip:{type:n1.wL.TEXT,text:s},...c},W.createElement(TU,null)):W.createElement(TW,{icon:Tz.c,addLeftMargin:!o,tooltipText:s,...c})}let xs=(0,nF.qe)(n5._gu);function xc(){let e=(0,Y.w1)(e=>e.mirror.appModel.showUi),t=(0,eD.s5)((0,eP.EB)().renderRulers),n=(0,Y.OY)(),a=(0,t$.AL)(),r=(0,rp.g)(),l=(0,Y.w1)(e=>e.multiplayer),i=(0,TO.an)(),o=(0,t1.C2)(),s=W.useMemo(()=>l.allUsers.find(e=>e.sessionID===l.sessionID)||null,[l.allUsers,l.sessionID]),c=(0,TA.wX)(),d=(0,sC._o)(),m=(0,Y.w1)(e=>e.mirror.appModel.topLevelMode===eM.s9F.HISTORY),u=(0,xa.A)(),p=!(0,Tj.q6)()&&(0,TY.e4)(),_=et.cp.isMeetDevice,E=(0,th.SK)((null==a?void 0:a.key)||"").enabled,g=uF(),h=W.useCallback(e=>{(0,TB.Id)(e,null==s?void 0:s.sessionID,n,!1,l,i,c)},[null==s?void 0:s.sessionID,n,l,i,c]);return W.createElement(lx.Y,{className:q()(mG._g,mG.aA,mG.qu,{[mG.gd]:!e}),style:{width:xs}},W.createElement(_0.C,{className:q()(mG.Co,eR.cp,mG.aA,{[mG.qc]:t}),size:xs,onResize:aC.Kw,side:"right","data-cancel-insertable-resource-drag-and-drop":!0},W.createElement("div",{className:q()(mG.Qs,g?mG.Sw:mG.ag)},W.createElement("div",{className:q()(mG.QT,mG.Cc)},W.createElement("div",{className:mG.I5},W.createElement("div",{className:mG.kR},W.createElement(y7.AZ,{fullHeightSidebarsEnabled:!0}),a&&!m&&W.createElement(TQ.c,{fileKey:a.key}),l&&a&&s&&W.createElement(TB.qU,{dropdownShown:r,multiplayer:l,currentUser:s,onUserClick:h,fullHeightSidebarsEnabled:!0})),!m&&W.createElement("div",{className:q()(mG.kB,ap.cx.gap8.$)},W.createElement(xe,null),p&&W.createElement(T2,null),u?W.createElement(xo,null):W.createElement(TZ,null),!d&&!_&&W.createElement(TR,null)),a&&W.createElement(TM.C,{user:o,editingFile:a,isFileInWorkshop:E,fullHeightSidebarsEnabled:!0}))))))}let xd="whiteboard_ui--uiHidden--Hsyad",xm=(0,nF.qe)(n5.Kv5),xu=(0,nF.qe)(n5._gu),xp=W.memo(function(){var e;let t=(0,CX.ED)(),n=(0,nE.sZ)(),a=(null==(e=(0,t$.AL)())?void 0:e.editorType)==="design",r=(0,Y.w1)(e=>e.mirror.appModel.topLevelMode===tq.s9F.HISTORY),l=(0,Y.w1)(e=>e.mirror.appModel.showUi),i=(0,ty.Ci)(),o=(0,Y.w1)(e=>{var t;return(null==(t=e.openFile)?void 0:t.key)||null}),s=function(){let e=(0,Y.w1)(e=>e.universalInsertModal.pinned===Cz.a.PINNED_AND_DOCKED_LEFT),t=W.useCallback(()=>{let t=e?CZ:Cq;return window.innerWidth<t?14+CQ+24:14},[e]),[n,a]=W.useState(t);return W.useEffect(()=>{a(t())},[t]),W.useLayoutEffect(()=>{let e=(0,tV.C)(()=>{a(t())});return window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e),e.cancel()}},[t]),n}(),c=a?0:s,d=(0,Y.OY)(),m=W.useCallback(e=>{d(lk.cl(e))},[d]),u=(0,id._T)(),p=(0,Y.w1)(e=>e.timer.modalState),_=(0,eo.m4)(bW.V3);W.useEffect(()=>{(null==u?void 0:u.updateTimerModalState)&&u.updateTimerModalState(_.isOpen?"open":"closed")},[u,p,_.isOpen]),(0,yO.o)();let E=(0,Y.w1)(e=>e.timer.time);W.useEffect(()=>{(null==u?void 0:u.updateTimerTime)&&E&&u.updateTimerTime(E)},[u,E]);let g=(0,ei.my)(bW.V3);W.useEffect(()=>()=>{g({type:"CLOSE"})},[g]);let h=!i&&(0,CJ.QF)(),f=!i&&(0,$.Ub)().figjam_pages_in_figjam,v=i?xm:16,y=W.createElement(lN.k,{resolveComment:m,hidePageName:!a,hideResolve:!1,onCloseButton:()=>eM.i46.triggerActionInUserEditScope("set-tool-default",null)});return r?r&&l?W.createElement(W.Fragment,null,W.createElement(Cj,{className:a?"whiteboard_ui--versionHistoryWhiteboardPageSidebar--ft-LF whiteboard_ui--rightSidebarWhiteboardPage--kdzOc whiteboard_ui--sidebarBase--2SwnS":"whiteboard_ui--versionHistoryRightSidebar--7wtYE whiteboard_ui--rightSidebar--CJHYf whiteboard_ui--figjamModalSidebar--TXgbQ whiteboard_ui--sidebarBase--2SwnS",style:{bottom:c}},W.createElement(ar.sN,null)),i&&W.createElement(xc,null)):null:W.createElement(W.Fragment,null,W.createElement("div",{className:q()("whiteboard_ui--leftSidebar--WE2SD whiteboard_ui--figjamModalSidebar--TXgbQ whiteboard_ui--sidebarBase--2SwnS",eR.cp,{[xd]:!l}),style:{bottom:c}},f&&W.createElement(TI,null),h&&W.createElement(Tv,null)),W.createElement("div",{className:q()(a?"whiteboard_ui--rightSidebarWhiteboardPage--kdzOc whiteboard_ui--sidebarBase--2SwnS":"whiteboard_ui--rightSidebar--CJHYf whiteboard_ui--figjamModalSidebar--TXgbQ whiteboard_ui--sidebarBase--2SwnS",{[xd]:!l}),style:{bottom:a?0:s,right:t?xu+v:v}},W.createElement("div",{className:q()("whiteboard_ui--stackedContainer--2mtV9",eR.cp)},n&&W.createElement(CY,{fileKey:o,showUi:l}),!h&&W.createElement(Tv,null))),l&&!(null==u?void 0:u.shouldOptimizeForIpadApp)&&t&&W.createElement("div",{className:"whiteboard_ui--commentsContainer--HLR1i"},i?W.createElement(Cj,{className:"whiteboard_ui--commentsRightSidebarUI3--WVXw7 whiteboard_ui--rightSidebar--CJHYf whiteboard_ui--figjamModalSidebar--TXgbQ whiteboard_ui--sidebarBase--2SwnS",style:{bottom:c}},y):W.createElement(yM.S,{showSidebar:t,scrollable:!1},y)),i&&W.createElement(xc,null))});var x_=n(751956),xE=n(408071),xg=n(721908),xh=n(878524);function xf(){return"staging"===(0,$.cp)().cluster_name?"1161392638589521122":"prod"===(0,$.cp)().cluster_name?"1159123024924461424":""}function xv({completeOverlay:e,overlayId:t}){let n=(0,Y.OY)(),a=(0,t$.K0)(),[r,l]=W.useState(!1),[i,o]=W.useState(!1),s=xf(),c=(0,xE.qO)(s,"nux_onboarding"),d=(0,xE.Oy)(s);(0,rT.u)(()=>{""!==s?n((0,tr.us)({id:s,resourceType:l0.y4.PLUGIN,source:tr.wL.DESIGN_ONBOARDING,hideSuccessVisualBell:!0,onSuccess:()=>{(0,Z.we)("HTML to Figma",{pluginId:s,eventSubtype:"save_extension_successful",fileKey:a},{forwardToDatadog:!0})},onFail:()=>{(0,Z.we)("HTML to Figma",{pluginId:s,eventSubtype:"save_extension_fail",fileKey:a},{forwardToDatadog:!0}),e()}})):(n(ek.A.enqueue({message:"Unable to run plugin",type:"HTML_TO_DESIGN_PLUGIN_RUN",error:!0})),(0,Z.we)("HTML to Figma",{pluginId:s,eventSubtype:"unsupported_env",fileKey:a,env:(0,$.cp)().cluster_name},{forwardToDatadog:!0}),e())});let m=()=>{l(!1)};return(0,ur.y)(t,"Hub Plugin Installed",()=>{setTimeout(()=>l(!0),1e3)}),!i&&d&&(c(),o(!0)),W.createElement(us.Y5,{isShowing:r,trackingContextName:"Import Your Website",onClose:m,targetKey:xg.O,arrowPosition:xh.Wp.LEFT_TITLE,onTargetLost:m,title:W.createElement(ex.Tx,{id:"design.starting_points.import_a_website_tooltip.import_your_website"}),description:W.createElement("div",{className:ap.cx.lh20.$},W.createElement(ex.Tx,{id:"design.starting_points.import_a_website_tooltip.description",pluginName:W.createElement("strong",null,W.createElement(ex.Tx,{id:"design.starting_points.import_a_website_tooltip.html_to_design"}))})),primaryCta:{label:W.createElement(ex.Tx,{id:"design.starting_points.import_a_website_tooltip.got_it"}),ctaTrackingDescriptor:lr.O.GOT_IT,type:"button",onClick:m},disableHighlight:!0})}function xy({onNext:e,overlayId:t}){let n=(0,Y.OY)(),[a,r]=W.useState(!1);return(W.useEffect(()=>{eM.i46.triggerAction("component-insert",null),n(lH.KE({initialX:0,initialY:0,initialFdResourceTab:iu.o.PLUGIN}))},[n]),(0,ur.y)(t,"Context Viewed",t=>{var n;let l=null==(n=t.properties)?void 0:n.name;"Editor > universal-insert > plugin > Recents and saved > recents"===l?setTimeout(()=>r(!0),500):"Editor > universal-insert > detail"===l&&a&&e()}),a)?W.createElement(us.Y5,{isShowing:!0,trackingContextName:"Your Recents",onClose:e,targetKey:sr,arrowPosition:xh.Wp.LEFT_TITLE,onTargetLost:()=>{r(!1),setTimeout(e,500)},title:W.createElement(ex.Tx,{id:"design.starting_points.recent_plugin_tooltip.your_recents"}),description:W.createElement("div",{className:ap.cx.lh20.$},W.createElement(ex.Tx,{id:"design.starting_points.recent_plugin_tooltip.description"})),primaryCta:{label:W.createElement(ex.Tx,{id:"design.starting_points.recent_plugin_tooltip.done"}),ctaTrackingDescriptor:lr.O.DONE,type:"button",onClick:e},disableHighlight:!0}):null}var xC=n(878164),xw=n(364759),xb=n(895760);function xT({title:e,subTitle:t,image:n,onClick:a,trackingProperties:r}){return W.createElement(tg.UV,{onClick:a,className:"starting_points_cards--cardContainer--42tm9",trackingProperties:r},W.createElement("div",{className:"starting_points_cards--cardImageSection--puDT3"},n),W.createElement("div",{className:"starting_points_cards--cardTitleSection--MYBnP"},W.createElement("div",{className:"starting_points_cards--cardTitle--SzUUV text--fontPos16Whyte--OfwSP text--_fontBaseWhyte--efAjI ellipsis--ellipsis--Tjyfa"},e),W.createElement("div",{className:"starting_points_cards--cardDescription--7RSlE text--fontPos12Whyte---tkNx text--_fontBaseWhyte--efAjI"},t)))}function xx({completeOverlay:e}){(0,xC.M1)(null);let t=(0,xw.i)();return W.createElement(xT,{title:W.createElement(ex.Tx,{id:"design.starting_points.learn_the_basics"}),subTitle:W.createElement(ex.Tx,{id:"design.starting_points.learn_the_basics_description"}),image:W.createElement("img",{src:"https://static.figma.com/uploads/f811bc7dc51bac1f1c27c14def2e80e78a7eedff",alt:"Figma Basics thumbnail"}),trackingProperties:{trackingDescriptor:lr.O.LEARN_THE_BASICS},onClick:n=>{t(n),e()}})}function xk({nextStep:e}){return W.createElement(xT,{title:W.createElement(ex.Tx,{id:"design.starting_points.import_a_website"}),subTitle:W.createElement(ex.Tx,{id:"design.starting_points.import_a_website_description"}),image:W.createElement("img",{src:"https://static.figma.com/uploads/45ff817619f4e53a82903ec860a6001b808fdbfc",alt:"Import Website thumbnail"}),trackingProperties:{trackingDescriptor:lr.O.IMPORT_A_WEBSITE},onClick:e})}function xN({completeOverlay:e}){return W.createElement(xT,{title:W.createElement(ex.Tx,{id:"design.starting_points.start_from_a_blank_file"}),subTitle:W.createElement(ex.Tx,{id:"design.starting_points.start_from_a_blank_file_description"}),image:W.createElement(eN.A,{svg:xb.c,className:"starting_points_cards--blankFileImage--i74Ph"}),trackingProperties:{trackingDescriptor:lr.O.START_FROM_A_BLANK_FILE},onClick:e})}function xS({completeOverlay:e,nextStep:t}){let n=!!(0,t2.e)("has_exp_lightweight_import_with_plugin");return W.createElement(nO.Y1,{className:"starting_points_welcome--welcomeModal--aIVaY",size:"fitContent",hide:e,disableClickOutsideToHide:!0,disableKeyboardEventPropagation:!0},W.createElement("div",{className:"starting_points_welcome--modalContent--7v-L2 text--fontPos16Whyte--OfwSP text--_fontBaseWhyte--efAjI"},W.createElement(rW.CA,{className:ap.cx.w32.h32.m8.absolute.top0.right0.colorIcon.$,onClick:e,trackingProperties:{trackingDescriptor:lr.O.CLOSE}}),W.createElement("h1",null,W.createElement(ex.Tx,{id:"design.starting_points.welcome_to_figma"})),W.createElement("p",null,W.createElement(ex.Tx,{id:"design.starting_points.how_would_you_like_to_get_started"})),W.createElement(eT._C,{multiple:4}),W.createElement("div",{className:"starting_points_welcome--cardRow--VAF-4"},W.createElement(xx,{completeOverlay:e}),n&&W.createElement(xk,{nextStep:t}),W.createElement(xN,{completeOverlay:e}))))}let xI="html_to_design_plugin_closed";function xA(){let e;let t=(0,Y.OY)(),n=(0,E_.e)(),{Sprig:a}=(0,sb.c)(),r=xf(),l=!!(0,t2.e)("has_exp_lightweight_import_control"),i=!!(0,t2.e)("has_exp_lightweight_import_no_plugin"),o=!!(0,t2.e)("has_exp_lightweight_import_with_plugin"),s=!!(0,t2.e)("has_seen_lightweight_import_welcome_modal");l?e=x_.yQ.CONTROL:i?e=x_.yQ.TREATMENT_WITHOUT_PLUGIN:o&&(e=x_.yQ.TREATMENT_WITH_PLUGIN);let{isShowing:c,complete:d,show:m,uniqueId:u}=(0,mX.W)({overlay:mZ.akT,priority:mz.g.HIGH_PRIORITY_MODAL}),{currentStep:p,next:_}=(0,ul.c)({numSteps:3,onComplete:d}),E=()=>{t(tm.s({has_seen_lightweight_import_welcome_modal:!0})),d()},g=W.useCallback(()=>{if(!i&&!o||s)return!1;n&&!c&&m()},[n,s,i,o,c,m]);return((0,rT.u)(()=>{g()}),(0,ur.y)(u,"Plugin End",t=>{var n;(null==(n=t.properties)?void 0:n.pluginID)===r&&(1===p&&_(),(l||i||o)&&a("track",xI,{treatment:e}))}),c)?W.createElement(uo.y,{currentStep:p,isShowing:c},W.createElement(tg.kH,{name:"Starting Points Welcome Overlay"},W.createElement(xS,{completeOverlay:E,nextStep:_})),W.createElement(xv,{completeOverlay:E,overlayId:u}),W.createElement(xy,{onNext:()=>{E(),a("track",xI,{treatment:e})},overlayId:u})):null}var xO=n(313373),xM=n(208532);function xP(){let e=!!(0,t2.e)("not_gen_0"),t=(0,eo.m4)(xO.W_),n=(0,eo.m4)(xO.I3),{isShowing:a,complete:r,show:l}=(0,mX.W)({overlay:mZ.kBA,priority:mz.g.HIGH_PRIORITY_MODAL},[t,n]);return(W.useEffect(()=>{l({canShow:(t,n)=>!(e||(0,xM.gP)({emailValidatedAt:n,jobTitle:t}))})},[l,e]),a)?W.createElement(xM.OC,{onClose:aC.Kw,onClickPrimaryCta:()=>{r()},isShowing:a,onManualDismiss:()=>{r()}}):null}var xL=n(815828),xD=n(911932),xR=n(273436),xF=n(333928),xB=n(117648),xU=n(948408),xK=n(97664),xG=n(174380),xH=n(883192),xV=n(411820);let xW="inline_preview_device_frames--previewDeviceImage--pSzed",xY="inline_preview_device_frames--deviceFrameHitTargetSvg--w7930",xj="inline_preview_device_frames--rotatedHorizontal--5yjwl",xX="hit-target-resize";function xz(e){var t;let n=null==(t=xR.sH[e.devicePresetIdentifier].inlinePreviewInfo)?void 0:t.hitTargetSvgUrl,[a,r]=W.useState(null);(0,W.useEffect)(()=>{fetch(n).then(e=>e.text()).then(e=>r(e)).catch(()=>console.warn("Failed to fetch hit target SVG. Falling back to rectangular resize boundary."))},[n]);let l=W.useMemo(()=>a?(0,eN.o)(a):null,[a]);return null!==l?W.createElement(xq,{...e,hitTargetSvg:l}):W.createElement(xV.Q,{...e})}function xq({resizeTo:e,getCurrentContainerBounds:t,lockAspectRatio:n,isResizing:a,setIsResizing:r,onResizeEnd:l,setResizeDirections:i,devicePresetIdentifier:o,isDeviceRotatedCCW:s,hitTargetSvg:c,hidden:d,recordingKey:m}){let u=W.useCallback(()=>{let e=t(),n=(16/((s?e.bottom-e.top:e.right-e.left)/xR.sH[o].imageSize.x)).toFixed(2);document.querySelectorAll(`[id^=${xX}]`).forEach(e=>e.setAttribute("stroke-width",`${n}`))},[o,s,t]);(0,W.useEffect)(()=>{u()},[u]);let p=W.useCallback(()=>{u(),null==l||l()},[l,u]),{startResizing:_}=(0,xV.U)({resizeTo:e,getCurrentContainerBounds:t,isResizing:a,setIsResizing:r,setResizeDirections:i,onResizeEnd:p,lockAspectRatio:n,hidden:d,recordingKey:m}),E=W.useRef(null),g=W.useRef(null),h=W.useMemo(()=>(0,xR.es)(o)===xR.KQ.WATCH,[o]),f=W.useCallback(e=>{let t=e.currentTarget.getBoundingClientRect(),n=e.clientX-t.left,a=e.clientY-t.top;return h?xQ({x:n,y:a},t):xZ({x:n,y:a},t)},[h]),v=lI.S4(m,"mousedown",W.useCallback(e=>{e.stopPropagation(),e.preventDefault(),_(f(e),{x:e.clientX,y:e.clientY})},[f,_]),{recordMetadata:e=>{let t=e.currentTarget;return{clientX:e.clientX,clientY:e.clientY,svgElementId:t.id}},playbackMetadata:e=>({currentTarget:document.querySelector(`#${e.svgElementId}`),clientX:e.clientX,clientY:e.clientY})}),y=lI.S4(lI.Mx(m,"deviceFrameResizeTarget"),"mousemove",W.useCallback(e=>{if(a)return lI.Cy;e.stopPropagation(),e.preventDefault();let t=f(e),n=e.currentTarget;g.current&&n.classList.remove(g.current);let r=(0,xG.ie)(t);r&&n.classList.add(r),g.current=r},[f,a]),{recordMetadata:e=>{let t=e.currentTarget;return{clientX:e.clientX,clientY:e.clientY,svgElementId:t.id}},playbackMetadata:e=>({currentTarget:document.querySelector(`#${e.svgElementId}`),clientX:e.clientX,clientY:e.clientY})}),C=W.useCallback(e=>{e.onmousemove=y,e.onmousedown=v},[v,y]);return((0,W.useEffect)(()=>{document.querySelectorAll(`[id^=${xX}]`).forEach(e=>C(e))},[o,C]),d)?null:s?(()=>{let e=xR.sH[o].imageSize,t=e.x/e.y;return W.createElement("div",null,W.createElement(eN.A,{svg:c,svgClassName:q()(xj,"inline_preview_device_frames--positionRotatedHorizontalDeviceFrameHitTarget--zmylC",xY),svgWidth:`${100*t}%`,ref:E,useOriginalSrcFills_DEPRECATED:!0}))})():W.createElement("div",null,W.createElement(eN.A,{svg:c,svgClassName:xY,ref:E,useOriginalSrcFills_DEPRECATED:!0}))}let xZ=(e,t)=>{let{x:n,y:a}=e,r=.1*Math.min(t.width,t.height),l=[];return a<r?l.push(xG.wN.TOP):a>t.height-r&&l.push(xG.wN.BOTTOM),n<r?l.push(xG.wN.LEFT):n>t.width-r&&l.push(xG.wN.RIGHT),l},xQ=(e,t)=>{let{x:n,y:a}=e,r=.1*t.width;if(a<r)return[xG.wN.TOP];if(a>t.height-r)return[xG.wN.BOTTOM];if(n<r)return[xG.wN.LEFT];if(n>t.width-r)return[xG.wN.RIGHT];let l=[];return a<t.height/2?l.push(xG.wN.TOP):l.push(xG.wN.BOTTOM),n<t.width/2?l.push(xG.wN.LEFT):l.push(xG.wN.RIGHT),l};var xJ=n(587962);let x$=["APPLE_IPHONE_14_PRO","APPLE_IPHONE_14_PLUS","APPLE_IPHONE_15","APPLE_WATCH_45MM"],x0=e=>x$.some(t=>e.startsWith(t)),x1="inline_preview_modal--iframeContainer--ylTh5";function x2({children:e,initialViewerSize:t,isDeviceFrameShown:n}){var a;let r="data:,",l="",i={},o=!1,s=1,c=!1;if(n){let e=null==(a=sL.TSSceneGraph.instance.getCurrentPage())?void 0:a.prototypeDevice;(0,cL.Up)(e,"prototypeDevice should be set when device frame is shown");let{presetIdentifier:n,rotation:d}=e,m=xR.sH[n],u=null==m?void 0:m.inlinePreviewInfo;(0,cL.Up)(u,"inlinePreviewDeviceData should exist since device is supported for inline preview"),r=m.url,o=x0(n),c=d===eM.ok9.CCW_90;let p=m.getI18nDeviceName(),_=m.getI18nStyleName();l=`${p} (${_})`;let{idealDeviceSize:E,framePresetSize:g,offset:h}=(0,xJ.C7)(n,d),f=(0,xJ.Um)(t,g,E);s=f.x/f.y;let v=(0,xJ.Um)(t,g,h),y={x:t.x/f.x*100,y:t.y/f.y*100},C={x:v.x/f.x*100,y:v.y/f.y*100};i={position:"absolute",width:`${y.x}%`,height:`${y.y}%`,left:`${C.x}%`,top:`${C.y}%`}}let d=n?"inline_preview_device_frames--previewDeviceContainer--fNvYG":x1,m=q()({[x1]:!0,"inline_preview_device_frames--fillGapsBetweenDeviceAndIframe--DuNNK":n,"inline_preview_device_frames--hideCornersForOverlyRoundedDevice--Rn1BM":o});return W.createElement("div",{className:d},n&&(c?(()=>{let e=1/s;return W.createElement("div",{style:{aspectRatio:s}},W.createElement("img",{src:r,className:q()(xj,"inline_preview_device_frames--positionRotatedHorizontalDeviceFrame--mPJzu",xW),style:{width:`${100*e}%`},alt:l,"data-testid":"inline-preview-device-image"}))})():W.createElement("img",{src:r,className:xW,alt:l,"data-testid":"inline-preview-device-image"})),W.createElement("div",{style:i,className:m},e))}var x5=n(249560),x3=n(562536),x4=n(718436),x6=n(113600),x8=n(189576),x9=n(336940),x7=n(161136);let ke="INLINE_PREVIEW_OVERFLOW_DROPDOWN",kt={x:600,y:600},kn="inlinePreviewModal",ka=e=>{let t=(0,eB.Oi)({subscribeToUpdates_expensive:!0}),n=(0,eB.Ce)({subscribeToUpdates_expensive:!0}),a=(0,uh.U9)(),{isLeftPanelCollapsed:r}=(0,uh.uA)(),l=r?0:a;return(0,W.useMemo)(()=>e?new nU.Cg(t+l+xL.YB,n+(0,nF.qe)(rM.A3q)):new nU.Cg(t+xL.YB,n+xL.YB),[e,t,n,l])},kr=W.memo(function({pageId:e}){let[{previewKeyForErrorBoundary:t},n]=(0,eo.lZ)(x5.u);return W.createElement(eb.Ou,{key:t,boundaryKey:"InlinePreviewModal",fallback:eb.Yd.NONE_I_KNOW_WHAT_IM_DOING,onError:()=>{if((0,Z.we)("inline_preview_crashed",{},{forwardToDatadog:!0}),n({type:"HANDLE_PREVIEW_CRASHED"}),(0,eE.Cm)()||(0,eE.g9)()||(0,$.K)())throw Error("Inline preview crashed")}},W.createElement(kl,{pageId:e}))}),kl=W.memo(function({pageId:e}){var t,n;let a=W.useRef(null),r=(0,ty.Ci)(),l=(0,Y.w1)(e=>{var t;return null==(t=e.openFile)?void 0:t.key}),i=(0,W.useRef)(!1),[{currentPresentedNode:o,navigateBackwardEnabled:s,navigateForwardEnabled:c,modalStatus:d,sizeInfo:m,showDeviceFrameEnabled:u,isResponsive:p},_]=(0,eo.lZ)(x5.u),E=(0,Y.OY)(),g=(0,sC.ct)(),h=(0,W.useMemo)(()=>d===x5.e.OPEN,[d]),f=(null==m?void 0:m.initialViewerSize)??kt,v=(0,rb.i)(f),y=ka(r),[C,w]=W.useState(y),[b,T]=W.useState(f.x),[x,k]=W.useState(f.y+xG.ov),N=(null==(t=sL.TSSceneGraph.instance.getCurrentPage())?void 0:t.prototypeDevice)||null,S=null==N?void 0:N.presetIdentifier,I=!!S&&(0,xR.kX)(S),A=h&&I&&u,{showing:O}=(0,rp.s)(ke),M=(0,b$.i)(),P=(0,eD.s5)(eM.KEP.singleSlideView().isInSingleSlideView),[L,D]=W.useState(!1),R=W.useCallback(()=>{D(!0),tA.CA.triggerAction("inline-preview-iframe-focus-state-changed",{isFocused:!0})},[D]),F=(0,rv.sZ)(),B=L||O?"inline_preview_modal--previewFocused--DQTOg":"inline_preview_modal--previewNotFocused--cr3Ii",U=W.useCallback(e=>{E((0,as.Y3)({name:"prototype.close_inline_viewer",params:{source:e}})),_({type:"CLOSE_INLINE_PREVIEW"})},[E,_]),K=W.useCallback(()=>((0,cL.Uc)(!!x),(0,cL.Uc)(!!b),{x:b,y:x-xG.ov}),[x,b]),G=W.useCallback(e=>{T(e.x),k(e.y+xG.ov)},[T,k]),H=W.useCallback(()=>{let e=K();if(!A)return e;(0,cL.Up)(S,"devicePresetIdentifier must be set");let t=N.rotation,{framePresetSize:n,idealDeviceSize:a}=(0,xJ.C7)(S,t);return(0,xJ.Zw)(e,n,a)},[S,K,A,null==N?void 0:N.rotation]);W.useEffect(()=>{i.current||w(y)},[y]),W.useEffect(()=>{_({type:"SET_CURRENT_VIEWER_SIZE_CALLBACK",payload:H})},[_,H]);let V=W.useMemo(()=>{var e;return(null==(e=null==m?void 0:m.breakpoint)?void 0:e.type)!==xL.uG.DEVICE},[m]),j=W.useCallback(e=>{if(!V)return;let t=H();(0,cL.Uc)(!!o,"currentPresentedNode must be set");let n=g.get(o);(0,cL.Uc)(!!n,"expected selectedNode to exist");let a=(0,xL.gN)(g,n),r=(0,xL._e)(t,n,a,g);(0,cL.Uc)(r.breakpoint.type!==xL.uG.DEVICE,"fit to aspect ratio not allowed for device"),G(r.initialViewerSize),E((0,as.Y3)({name:"prototype.resize_to_fit_aspect_ratio",params:{source:e}}))},[V,H,o,g,G,E]),X=()=>{if(!o)return!1;let e=!1;if(A){let{idealDeviceSize:t}=(0,xJ.C7)(S,N.rotation);e=t.x>=xL.cr&&t.y>=xL.y6}else{let t=g.get(o);if(!t)return!1;let n=(0,xL.gN)(g,t),a=(0,xL.mC)(n,t);e=a.x>=xL.cr&&a.y>=xL.y6}return e},z=W.useCallback(e=>{_({type:"SET_PREVIEW_IS_RESPONSIVE",payload:e})},[_]),Z=W.useCallback(()=>{_({type:"RESIZE_MODAL",payload:{sceneGraph:g}})},[_,g]),Q=W.useCallback(e=>{if(e){let t=(0,eB.Qn)({nodeId:e,alwaysPan:!0,maxScale:.6});F?d===x5.e.OPEN&&(M(t),P&&eM.KEP.singleSlideView().enterSingleSlideView(e,!0)):M(t)}},[M,F,P,d]);W.useEffect(()=>{_({type:"SET_SCROLL_CALLBACK",payload:Q})},[_,Q]);let J=W.useCallback(e=>{G({x:e.x,y:e.y+(0,nF.qe)(n5.KAc)})},[G]),$=W.useMemo(()=>{var e;if(A&&(null==(e=xR.sH[S].inlinePreviewInfo)?void 0:e.hitTargetSvgUrl))return function(e){let t=N.rotation===eM.ok9.CCW_90;return W.createElement(xz,{...e,devicePresetIdentifier:S,isDeviceRotatedCCW:t})}},[A,S,null==N?void 0:N.rotation]),ee=W.useCallback(e=>{(0,cL.Uc)((null==m?void 0:m.breakpoint.type)===xL.uG.DEVICE,"device must be set to toggle device frame"),(0,cL.Uc)(!!N,"prototypeDevice must be set to toggle device frame");let t=H();if(e){let e=N.presetIdentifier,{idealDeviceSize:n,framePresetSize:a}=(0,xJ.C7)(e,N.rotation);J((0,xJ.Um)(t,a,n))}else G(t)},[null==m?void 0:m.breakpoint.type,N,H,G,J]);(0,cL.Uc)(!h||null!==m,"sizeInfo should always be set when open"),W.useLayoutEffect(()=>{if(v!==f){if(A){let{idealDeviceSize:e,framePresetSize:t}=(0,xJ.C7)(S,N.rotation);J((0,xJ.Um)(f,t,e))}else G(f)}},[f,v,S,A,N,J,G]),W.useEffect(()=>{S&&(0,xR.kX)(S)&&(0,xR.Ce)(S)},[S]);let et=W.useCallback(()=>{let e=K(),{width:t,height:n}=tA.CA.getViewportInfo(),a=e.x/t,r=e.y/n;E((0,as.Y3)({name:"prototype.inline_preview_manually_resized",params:{isDeviceFrameShown:A,horizontalCoverage:a,verticalCoverage:r}}))},[E,K,A]),en=(0,W.useMemo)(()=>{let e={height:"100%"};return r&&!A?{...e,borderBottomLeftRadius:"var(--radius-small)",borderBottomRightRadius:"var(--radius-small)"}:e},[A,r]);if(d===x5.e.NOT_LOADED)return null;let ea=q()(F?"inline_preview_modal--previewModalSlides--0PFWB":"inline_preview_modal--previewModal--FO-5S",A?null:B),er=q()(A?[B,"inline_preview_device_frames--previewDeviceHeader--KHpCv"]:null,{"inline_preview_modal--previewModalHeader--parjV":F}),{x:el,y:ei}=(0,xL.Ip)(sL.TSSceneGraph.instance,!0),es=!h||!(null==m?void 0:m.initialViewerSize);return W.createElement(n2.y0,{position:C,setPosition:w,width:b,setWidth:T,height:x,setHeight:k,recordingKey:kn,ignoreCloseShortcut:!h,title:W.createElement(ks,{navigateBackwardEnabled:s,navigateForwardEnabled:c,width:b}),tabIndex:0,onFocus:()=>{x3.c.isIframeInitialized()?x3.c.focus():R()},onEdgeDoubleClick:()=>j("double_click"),onResize:Z,onResizeEnd:et,onClose:()=>{U("modal")},onDragStart:()=>i.current=!0,hidden:es,frameStyle:en,transparentContentBackground:A,containerClassName:ea,containerFillsPage:F,headerClassName:er,minHeight:ei,minWidth:el,preventKeyboardFocus:!0,allowResizeHeight:L&&!F,allowResizeWidth:L&&!F,disableDragging:F,alwaysEnsureHeaderModalOnScreen:!0,allowPartialHeaderOnScreen:!0,makeContentPixelPerfect:!0,dragHeaderOnly:!0,lockAspectRatio:(null==(n=null==m?void 0:m.breakpoint)?void 0:n.type)===xL.uG.DEVICE,customButton:W.createElement(ki,{allowSizeReset:V,allowActualSizeReset:X(),isPrototypeDeviceSet:!!N&&N.type!==eM.w7k.NONE,isPreviewFittedToAspectRatio:()=>{if(!o||!V)return!1;let e=g.get(o);if(!e)return!1;let t=H(),n=(0,xL.gN)(g,e),a=(0,xL._e)(t,e,n,g),r=t.x/t.y,l=a.initialViewerSize.x/a.initialViewerSize.y;return(0,xB.G)(r,l)},isDeviceSupportedForPreview:I,openFileKey:l,showOverflow:!F,showFullscreenButton:F,iframeRef:a,resizeToFitAspectRatio:()=>j("overflow_menu"),scrollToNode:Q,resizeToActualSize:()=>{if(!X())return;(0,cL.Uc)(!!o),(0,cL.Uc)(!!m);let e=g.get(o);(0,cL.Uc)(!!e),E((0,as.Y3)({name:"prototype.resize_to_actual_size"}));let t=A?(0,xJ.C7)(S,N.rotation).idealDeviceSize:(0,xL.mC)(m.breakpoint,e),n=(e,t)=>{G(e),w(new nU.Cg(t.x,t.y))},a=K();(0,xL.tL)(t,E,()=>n(a,C)),G(t)},isPreviewShownAtActualSize:()=>{if(!o||!a.current)return!1;let e=g.get(o);if(!e||!(null==m?void 0:m.breakpoint))return!1;let t=A?(0,xJ.C7)(S,N.rotation).framePresetSize:(0,xL.mC)(m.breakpoint,e),n=H();return(0,xB.G)(t.x,n.x,1e-4)&&(0,xB.G)(t.y,n.y,1e-4)},setPreviewIsResponsive:z,isPreviewResponsive:p,closeInlinePreview:U,onToggleShowDeviceFrame:ee,width:b}),ResizeTargetComponent:$},W.createElement(x2,{initialViewerSize:f,isDeviceFrameShown:A},W.createElement(ko,{ref:a,key:e,pageId:e,openFileKey:l,closeInlinePreview:U,isOpen:h,iframeFocused:L,setIframeFocused:D,dispatchInlinePreviewAction:_,onIframeFocus:R})))});function ki({allowSizeReset:e,allowActualSizeReset:t,isPrototypeDeviceSet:n,isDeviceSupportedForPreview:a,openFileKey:r,resizeToFitAspectRatio:l,scrollToNode:i,showOverflow:o,showFullscreenButton:s,iframeRef:c,resizeToActualSize:d,isPreviewShownAtActualSize:m,setPreviewIsResponsive:u,isPreviewResponsive:p,closeInlinePreview:_,onToggleShowDeviceFrame:E,width:g,isPreviewFittedToAspectRatio:h}){let f=(0,Y.OY)(),v=W.useRef(null),[{currentPresentedNode:y,targetFrameFollowingEnabled:C,showDeviceFrameEnabled:w},b]=(0,eo.lZ)(x5.u),{showing:T,toggle:x}=(0,rp.s)(ke),k=W.useCallback(()=>{if(!r)throw Error("Expected openFileKey to exist");if(!y)throw Error("openPrototypeInNewTab called without currentPresentedNode");f(xD.N({fileKey:r,nodeId:y,startingPointNodeId:eM.MXu.getActivePrototypeStartingPointNodeIdOnCurrentPage(),source:"inline_viewer"})),_("open_in_new_tab")},[r,y,f,_]),N=W.useCallback(()=>{let e=!C;f((0,as.Y3)({name:"prototype.toggle_follow_previewed_frame",params:{enabled:e}})),b({type:"TOGGLE_TARGET_FRAME_FOLLOWING"}),i(y)},[f,b,C,i,y]),S=W.useCallback(()=>{let e=!w;f((0,as.Y3)({name:"prototype.toggle_show_device_frame",params:{enabled:e,location:"preview"}})),b({type:"TOGGLE_SHOW_DEVICE_FRAME"}),E(e)},[f,w,E,b]),I=W.useCallback(()=>[{displayText:(0,ex.t)("inline_preview.overflow_menu.actual_size_100_percent"),name:"actual-size",recordingKey:"actualSizeButton",callback:d,disabled:!t,isChecked:m(),"data-onboarding-key":"resize-to-actual-size"},{displayText:(0,ex.t)("inline_preview.overflow_menu.resize_to_aspect_ratio"),name:"reset-size",recordingKey:"resetSizeButton",callback:l,isChecked:h(),disabled:!e,hidden:n},{displayText:(0,ex.t)("inline_preview.overflow_menu.responsive"),name:"responsive",recordingKey:"responsiveButton",callback:()=>{u(!p)},isChecked:p,hidden:!(0,$.Ub)().prototype_responsive_viewer},{separator:!0,displayText:""},{displayText:(0,ex.t)("inline_preview.overflow_menu.show_device_frame"),name:"show-device-frame",recordingKey:"showDeviceFrame",callback:S,isChecked:w&&a,disabled:!a,hidden:!n},{displayText:(0,ex.t)("inline_preview.overflow_menu.follow_active_frame"),name:"follow-active-frame",recordingKey:"followActiveFrame",callback:N,isChecked:C},{displayText:(0,ex.t)("inline_preview.new_tab"),recordingKey:"openInNewTabButton",name:"open-in-new-tab",callback:k,hidden:g>xL.OG}],[d,t,m,l,h,e,n,S,w,a,N,C,k,g,u,p]),A=W.useCallback(()=>{c.current&&c.current.requestFullscreen()},[c]);return W.createElement(W.Fragment,null,o&&W.createElement("div",{ref:v},W.createElement(s$.wP,{svg:gL.c,"data-tooltip-type":n1.wL.TEXT,"data-tooltip":(0,ex.t)("inline_preview.overflow_menu"),onMouseDown:e=>{e.stopPropagation(),x(e)},recordingKey:(0,lI.Mx)(kn,"overflowMenuButton")})),g>xL.OG&&W.createElement(s$.wP,{svg:x4.c,"data-tooltip-type":n1.wL.TEXT,"data-tooltip":(0,ex.t)("inline_preview.new_tab"),onClick:k,recordingKey:(0,lI.Mx)(kn,"openInNewTabButton"),dataTestId:"preview-open-in-presentation-view"}),s&&W.createElement(s$.wP,{svg:x7.c,onClick:A,"data-tooltip-type":n1.wL.TEXT,"data-tooltip":(0,ex.t)("inline_preview.open_fullscreen")}),T&&v.current&&W.createElement(cC.I,{dispatch:f,parentRect:v.current.getBoundingClientRect(),onFocus:e=>{e.stopPropagation()},onDismissMenu:()=>{x3.c.focus()},onDropdownHidden:()=>{x3.c.focus()},showPoint:!0,lean:"center",onSelectItem:e=>{e.callback&&e.callback()},recordingKey:(0,lI.Mx)(kn,"overflowMenu"),items:I()}))}let ko=W.forwardRef(function({pageId:e,openFileKey:t,closeInlinePreview:n,isOpen:a,dispatchInlinePreviewAction:r,iframeFocused:l,setIframeFocused:i,onIframeFocus:o},s){let[c,d]=W.useState(!1),{isResizing:m,isDragging:u}=W.useContext(xK.Q),p=W.useMemo(()=>m||u||!l,[m,u,l]),_=W.useMemo(()=>m||u,[m,u]);return(W.useEffect(()=>{x3.c.setDisableCloseWithShortcut(_)},[_]),W.useEffect(()=>{s.current&&(a?s.current.focus():(0,xU.Uj)())},[s,a]),W.useEffect(()=>{var e;let t=s.current;if(!t||c)return;let a=e=>{let t=e.shiftKey&&"Space"===e.code,a="Escape"===e.code;(t||a)&&!_&&n("keyboard")};return null==(e=t.contentWindow)||e.addEventListener("keydown",a),()=>{var e;t&&(null==(e=t.contentWindow)||e.removeEventListener("keydown",a))}},[s,c,_,n]),W.useEffect(()=>{if(!s.current)return;let e=x3.c.initialize(s.current,{closeInlinePreview:n,dispatch:r,onLoad:()=>{d(!0)}});return()=>{r({type:"RESET_INLINE_PREVIEW"}),e(),d(!1)}},[n,r,e,s]),W.useEffect(()=>{var e,t;let n=s.current;if(!n)return;let a=()=>{i(!1),tA.CA.triggerAction("inline-preview-iframe-focus-state-changed",{isFocused:!1})};return null==(e=n.contentWindow)||e.addEventListener("focus",o),null==(t=n.contentWindow)||t.addEventListener("blur",a),()=>{var e,t;n&&(null==(e=n.contentWindow)||e.removeEventListener("focus",o),null==(t=n.contentWindow)||t.removeEventListener("blur",a))}},[s,i,o]),t)?W.createElement("div",{className:x1},W.createElement("iframe",{ref:s,title:"Inline Preview",src:function(e,t){let n=(0,xF.yw)({base:"proto",file:{key:e},nodeId:t});if((0,eE.MZ)())return"/test/interactions?inlinePreview=1";let a=encodeURIComponent(n);return`${location.origin}/embed?embed_host=share&url=${a}&hide-ui=1&inline-viewer=1`}(t,e),className:q()("inline_preview_modal--previewIframe--RpUIN",p?"inline_preview_modal--disablePointerEvents--sc1Yf":null)}),!c&&W.createElement(xH.cH,{shouldNotOverflow:!0,isViewer:!0,editorType:nd.aE.DESIGN,progressBarMode:eM.Mty.HIDE_UI})):null});function ks({navigateForwardEnabled:e,navigateBackwardEnabled:t,width:n}){let a=(0,Y.OY)();return W.createElement("div",{className:"inline_preview_modal--prototypeModalTitle--Y5Zqk"},n<=xL.gD?null:W.createElement(W.Fragment,null,W.createElement(s$.wP,{svg:x9.c,tooltipForScreenReadersOnly:!0,"data-tooltip-type":n1.wL.TEXT,"data-tooltip":(0,ex.t)("viewer.footer.previous_frame"),onClick:()=>{x3.c.navigateBackward()},disabled:!t,recordingKey:(0,lI.Mx)(kn,"navigateBackwardButton"),dataTestId:"preview-navigate-backward"}),W.createElement(s$.wP,{svg:x8.c,tooltipForScreenReadersOnly:!0,"data-tooltip-type":n1.wL.TEXT,"data-tooltip":(0,ex.t)("viewer.footer.next_frame"),onClick:()=>{x3.c.navigateForward()},disabled:!e,recordingKey:(0,lI.Mx)(kn,"navigateForwardButton"),dataTestId:"preview-navigate-forward"})),n<=xL.OG?null:W.createElement(s$.wP,{svg:x6.c,"data-tooltip-type":n1.wL.TEXT,"data-tooltip":(0,ex.t)("inline_preview.restart"),onClick:()=>{a((0,as.Y3)({name:"prototype.replay_clicked",params:{source:"inline viewer"}})),x3.c.restartPrototype()},recordingKey:(0,lI.Mx)(kn,"restartButton"),dataTestId:"preview-restart-prototype"}))}var kc=n(378780);let kd=(0,mV.y_)(uc),km=(0,mV.y_)(um),ku=!1;function kp(){let e=(0,Y.OY)(),t=(0,eo.m4)(ui.eE),n=(0,sC._o)(),a=(0,eo.m4)(xO.uK),r=(0,e7.U9)(),l=(0,eo.m4)(km),i=(0,eo.m4)(kd),{uniqueId:o,show:s,complete:c,isShowing:d}=(0,mX.W)({overlay:mZ._qA,priority:mz.g.SECONDARY_MODAL},[i,l,a]),m=(0,v6.u)("modal");function u(){e(tm.s({[uc]:!0})),c()}return W.useEffect(()=>{var e;!n&&!ku&&t&&r&&(0!==((null==(e=sL.TSSceneGraph.instance.getCurrentPage())?void 0:e.childrenGuids.length)||0)&&s({canShow:(e,t,n)=>!e&&!t&&function(e){let t=Date.now();return e.getTime()<=t-12096e5}(n)}),ku=!0)},[n,s,t,r]),W.useEffect(()=>{"loaded"===i.status&&i.data&&c()},[i,c]),(0,ur.y)(o,"Enter Inspect Mode",()=>{d&&u()}),W.createElement(us.Y5,{isShowing:d,trackingContextName:uc,onClose:u,targetKey:"dev_handoff_marketing_overlay_anchor_key",title:W.createElement(ex.Tx,{id:"dev_handoff.annotations_introduction_overlay.title"}),media:W.createElement(kc.A,{src:"https://static.figma.com/uploads/5b9addc96424c11577a1ec91e1bbadcd786fe343",alt:(0,ex.t)("dev_handoff.annotations_introduction_overlay.image_alt"),aspectRatio:1280/720}),description:W.createElement(ex.Tx,{id:"dev_handoff.annotations_introduction_overlay.description"}),primaryCta:{label:W.createElement(ex.Tx,{id:"dev_handoff.annotations_introduction_overlay.primary_cta"}),type:"button",onClick:function(){m("handoff")},ctaTrackingDescriptor:lr.O.SHOW_ME}})}var k_=n(440772);let kE=(0,mV.y_)(um),kg=(0,mV.y_)(uc),kh=!1,kf=!1;function kv(){var e;let t=(0,Y.OY)(),n=(0,sC._o)(),a=(0,eo.m4)(xO.uK),r=(0,eo.m4)(k_._),l=(0,eD.s5)(eM.KEP.annotationObserver().annotationInfoByTlf),i=null==(e=(0,eo.m4)(t$.qK))?void 0:e.creatorId,o=(0,eo.m4)(kE),s=(0,eo.m4)(kg),{uniqueId:c,show:d,complete:m,isShowing:u}=(0,mX.W)({overlay:mZ._qA,priority:mz.g.SECONDARY_MODAL},[o,s,a,r]),p=(0,v6.u)("modal"),_=l.size>0;function E(){t(tm.s({[um]:!0})),m()}return W.useEffect(()=>{n&&(kf=!0),!n&&!kh&&kf&&_&&(d({canShow:(e,t,n,a)=>!e&&!t&&i!==a&&function(e){let t=Date.now();return e.getTime()<=t-12096e5}(n)}),kh=!0)},[_,n,i,d]),W.useEffect(()=>{"loaded"===o.status&&o.data&&m()},[o,m]),(0,ur.y)(c,"Enter Inspect Mode",()=>{u&&E()}),W.createElement(us.Y5,{isShowing:u,trackingContextName:um,onClose:E,targetKey:"dev_handoff_marketing_overlay_anchor_key",title:W.createElement(ex.Tx,{id:"dev_handoff.annotations_upsell_overlay.title"}),media:W.createElement(kc.A,{src:"https://static.figma.com/uploads/e84a2faeb510847abd7bfb9c15a74ef974bb4c13",alt:(0,ex.t)("dev_handoff.annotations_introduction_overlay.image_alt"),aspectRatio:1280/720}),description:W.createElement(ex.Tx,{id:"dev_handoff.annotations_upsell_overlay.description"}),primaryCta:{label:W.createElement(ex.Tx,{id:"dev_handoff.annotations_upsell_overlay.primary_cta"}),type:"button",onClick:function(){p("handoff")},ctaTrackingDescriptor:lr.O.OPEN_DEV_MODE},secondaryCta:{label:W.createElement(ex.Tx,{id:"dev_handoff.annotations_upsell_overlay.secondary_cta"}),type:"button",onClick:m,ctaTrackingDescriptor:lr.O.NOT_NOW}})}var ky=n(261844);function kC(){let e=(0,mX.W)({overlay:mZ.o3w,priority:mz.g.DEFAULT_MODAL});(0,ur.y)(e.uniqueId,"commentThreadMobileAnnouncementClicked",()=>{(0,Z.we)("sidebar_announcement_mobile_app_download_prompt_modal_shown"),e.show({})});let t=(0,W.useCallback)(async()=>{(0,Z.we)("sidebar_announcement_mobile_app_download_prompt_email_me_cta_clicked"),await gK.cp.post("/api/send_mobile_download_email"),e.complete()},[e]);return W.createElement(uj.m,{isShowing:e.isShowing,modalType:uX.GK.FEATURE_UPDATE,closeButtonStyle:uX.ak.ON_DARK,element:()=>W.createElement(kw,{onEmailClick:t}),trackingContextName:"mobile_comment_announcement",onClickPrimaryCta:e.complete,onClose:e.complete,onManualDismiss:e.complete})}function kw(e){return W.createElement("div",{className:"modal_comment_sidebar_announcement--container--5oh-p"},W.createElement("div",{className:"modal_comment_sidebar_announcement--imageContainer--Vuo-V"},W.createElement("img",{alt:"Background",src:"https://static.figma.com/uploads/e19f2f58bc09414847ad59ff9228e07032e8842c",className:"modal_comment_sidebar_announcement--image--lyA61"}),W.createElement("div",{className:"modal_comment_sidebar_announcement--spacer--m02YT"}),W.createElement(ky.E,null)),W.createElement("div",{className:"modal_comment_sidebar_announcement--textContainer--btaTy"},W.createElement("div",{className:"modal_comment_sidebar_announcement--title--eiyLq"},W.createElement(ah.a,{fontSize:24,fontWeight:"semi-bold"},(0,ex.t)("rcs.mobile_comment_announcement.title"))),W.createElement("div",{className:"modal_comment_sidebar_announcement--description--Y8AJE"},W.createElement(ah.a,{fontSize:14},(0,ex.t)("rcs.mobile_comment_announcement.description")))),W.createElement("div",{className:"modal_comment_sidebar_announcement--buttonsContainer--UTcgc"},W.createElement(ag.q,{variant:"secondary",icon:"envelope-32",onClick:e.onEmailClick},(0,ex.t)("rcs.mobile_comment_announcement.email_download_link")),W.createElement(ag.q,{variant:"primary",onClick:()=>{(0,Z.we)("sidebar_announcement_mobile_app_download_prompt_learn_more_cta_clicked"),J.default.unsafeRedirect("https://help.figma.com/hc/articles/1500007537281-Guide-to-the-Figma-mobile-app#download","_blank")},icon:"info-32"},(0,ex.t)("rcs.rcs_shared.learn_more"))))}var kb=n(184e3),kT=n(838432),kx=n(124664),kk=n(257200),kN=n(629968),kS=n(363636),kI=n(573432);function kA(e){return W.createElement(kS.ek,null,W.createElement(kS.sf,{dismissModal:e.onClose,title:W.createElement(ex.Tx,{id:"tooltips_plus_onboarding.outro.title"}),trackingContextName:"Tooltips+ Outro Step",onSecondaryCtaClick:e.onSecondaryCtaClick,onPrimaryCtaClick:e.onPrimaryCtaClick,secondaryCtaProps:{ctaText:W.createElement(ex.Tx,{id:"tooltips_plus_onboarding.outro.practice_more_btn"}),ctaTrackingDescriptor:lr.O.PRACTICE_MORE_HERE},primaryCtaProps:{ctaText:W.createElement(ex.Tx,{id:"tooltips_plus_onboarding.outro.start_new_file_btn"}),ctaTrackingDescriptor:lr.O.START_A_NEW_FILE}},W.createElement(ex.Tx,{id:"tooltips_plus_onboarding.outro.description"})))}var kO=n(836244),kM=n(628128);function kP(e){(0,rT.u)(()=>{let t=(0,kM.Qh)(sL.TSSceneGraph.instance,"FRAME");if(e.hasPresets&&null!=t){e.skip&&e.skip();return}});let t=(0,Y.w1)(e=>e.isFullscreenDocumentLoaded);W.useEffect(()=>{t&&eM.i46.triggerAction("set-tool-frame",null)},[t]);let n=e.fromCursorBot?kO.s:kS.S2;return W.createElement("div",{"data-testid":"tooltips-plus-frames-step"},W.createElement(n,{dismissModal:e.onClose,disableHighlight:!0,hideCloseButton:e.hideCloseButton,targetKey:"frame",title:e.hasPresets?W.createElement(ex.Tx,{id:"tooltips_plus_onboarding.presets_frame_step.title"}):W.createElement(ex.Tx,{id:"tooltips_plus_onboarding.no_nav_frames_get_started_with_a_frame"}),trackingContextName:e.fromCursorBot?"Cursor Bot Create Frame Step":"Tooltips+ Frame Step",lowerLeftText:W.createElement(kS.wd,{currentStepNum:e.currentStepNum,totalNumSteps:e.totalNumStep,useLoadingBar:e.useLoadingBar}),onPrimaryCtaClick:e.onPrimaryCtaClick,primaryCtaProps:e.primaryCtaProps,onSecondaryCtaClick:e.onSecondaryCtaClick?()=>{eM.i46.triggerAction("set-tool-default",null),e.onSecondaryCtaClick&&e.onSecondaryCtaClick()}:void 0,secondaryCtaProps:e.secondaryCtaProps,pointsTo:"toolbar"},e.bodyText||W.createElement(ex.Tx,{id:"tooltips_plus_onboarding.no_nav_frames_description"})))}var kL=n(594500);function kD(e){let t=(0,Y.OY)();return W.useEffect(()=>{(0,eL.mo)(),t(ti.wN({tab:eM.W8r.ASSETS}))},[t]),W.createElement(kS.S2,{dismissModal:e.onClose,disableHighlight:!0,targetKey:kL.Ig,title:W.createElement(ex.Tx,{id:"tooltips_plus_onboarding.presets_ending_step.title"}),trackingContextName:"Tooltips+ Presets Ending Step",lowerLeftText:W.createElement(kS.wd,{currentStepNum:e.currentStepNum,totalNumSteps:e.totalNumSteps,useLoadingBar:e.useLoadingBar}),onPrimaryCtaClick:e.onPrimaryCtaClick,onSecondaryCtaClick:()=>{t(ti.wN({tab:eM.W8r.LAYERS})),e.onSecondaryCtaClick()},primaryCtaProps:e.primaryCtaProps,arrowPosition:xh.Wp.LEFT_TITLE,pointsTo:"leftPanel"},W.createElement(ex.Tx,{id:"tooltips_plus_onboarding.presets_ending_step.description"}))}var kR=n(774860);function kF(e){return W.useEffect(()=>{eM.i46.triggerAction("set-tool-type",null)},[]),W.createElement(kS.S2,{dismissModal:e.onClose,disableHighlight:!0,targetKey:"tool-type-onboarding",title:W.createElement(ex.Tx,{id:"tooltips_plus_onboarding.text_step.title"}),trackingContextName:"Tooltips+ Text Step",lowerLeftText:W.createElement(kS.wd,{currentStepNum:e.currentStepNum,totalNumSteps:e.totalNumSteps,useLoadingBar:e.useLoadingBar}),onPrimaryCtaClick:()=>{eM.i46.triggerActionInUserEditScope("set-tool-default",null),e.onNext()},onSecondaryCtaClick:e.onPrevious,pointsTo:"toolbar"},W.createElement(ex.Tx,{id:"tooltips_plus_onboarding.text_step.description"}))}let kB={NAV:"figma_basics_tooltips_nav_step",FRAME:"figma_basics_tooltips_frame_step",TEXT:"figma_basics_tooltips_text_step",FORMAT_TEXT:"figma_basics_tooltips_format_text_step",DESIGN_PANEL:"figma_basics_tooltips_design_panel_step",PLUGIN:"figma_basics_tooltips_plugin_step",PRESETS_ENDING:"figma_basics_tooltips_presets_ending_step"};function kU({completeOverlay:e}){let t=(0,Y.OY)(),n=(0,Y.o3)(),a=(0,t2.e)("figma_basics_tooltips_onboarding"),r=(0,t2.e)(kB.FRAME),l=(0,t2.e)(kB.TEXT),i=(0,t2.e)(kB.FORMAT_TEXT),o=(0,t2.e)(kB.DESIGN_PANEL),s=(0,t2.e)(kB.PLUGIN),c=(0,t2.e)(kB.PRESETS_ENDING),d=!!(0,t2.e)("has_tooltips_plus_simplified_basics_file"),m=!!(0,t2.e)("started_figma_basics_onboarding"),u=(0,sC._o)(),[p,_]=(0,W.useState)(kM.sE.FORWARD),E=(0,Y.w1)(e=>e.mirror.sceneGraph),g=(0,x_.mG)(),h=(0,kN.a0)(),f=[h(),g].reduce((e,t)=>t?e+1:e,4),v=(e,n=kM.sE.FORWARD)=>{_(n),t(tm.s({[e]:!0}))},y=(e,n=kM.sE.BACKWARD)=>{_(n),t(tm.s({[e]:!1}))},C=()=>{e(),t(tm.s({figma_basics_tooltips_onboarding:!0}))};return(W.useEffect(()=>{a||u||m||t(tm.s({started_figma_basics_onboarding:!0}))},[u,a,t,m]),a||u)?null:r?l?i?o?!s&&g?W.createElement(l5.eG,{onNext:()=>v(kB.PLUGIN),onPrevious:()=>y(kB.DESIGN_PANEL),currentStepNum:5,onClose:C,totalNumSteps:f}):!c&&h()?W.createElement(kD,{onPrimaryCtaClick:()=>v(kB.PRESETS_ENDING),onSecondaryCtaClick:()=>y(kB.DESIGN_PANEL),onClose:C,currentStepNum:5,totalNumSteps:f,primaryCtaProps:{ctaText:W.createElement(ex.Tx,{id:"tooltips_plus_onboarding.done"}),ctaTrackingDescriptor:lr.O.DONE}}):W.createElement(kA,{onPrimaryCtaClick:()=>{let e=(0,nl.KM)(n.getState(),nh.mM.NEW_TAB,"drafts",{from:nh.Uz.DESIGN_TOOLTIPS_PLUS_OUTRO_MODAL,selectedView:n.getState().selectedView},nd.aE.DESIGN,void 0);t(kk.gn(e)),C()},onSecondaryCtaClick:C,onClose:C}):W.createElement(kI.g,{onNext:()=>v(kB.DESIGN_PANEL),onPrevious:()=>y(kB.FORMAT_TEXT),onClose:C,currentStepNum:4,totalNumSteps:f,getNodeToSelect:()=>(0,kM.mE)(E,d),flowDirection:p,getNodeForViewportFocus:d?()=>(0,kM.kr)(E,(0,kM.mE)(E,d)):void 0}):W.createElement(kR.q,{onPrimaryCtaClick:()=>v(kB.FORMAT_TEXT),onSecondaryCtaClick:()=>y(kB.TEXT),onClose:C,lowerLeftText:W.createElement(kS.wd,{currentStepNum:3,totalNumSteps:f}),skip:()=>{p===kM.sE.FORWARD?v(kB.FORMAT_TEXT):y(kB.TEXT)},getNodeToSelect:()=>(0,kM.Uh)(E,d),getNodeForViewportFocus:d?()=>(0,kM.kr)(E,(0,kM.Uh)(E,d)):void 0}):W.createElement(kF,{onNext:()=>v(kB.TEXT),onPrevious:()=>y(kB.FRAME),onClose:C,currentStepNum:2,totalNumSteps:f}):W.createElement(kP,{onPrimaryCtaClick:()=>v(kB.FRAME),onClose:C,currentStepNum:1,hideCloseButton:!0,totalNumStep:f})}function kK({onPrimaryCtaClick:e,onSecondaryCtaClick:t,primaryCtaProps:n,secondaryCtaProps:a,onClose:r,skip:l,currentStepNum:i,totalNumSteps:o,lowerLeftText:s,title:c,bodyText:d,frameNodeMatcher:m,fromCursorBot:u,isFollowUp:p}){let _=(0,Y.OY)(),E=(0,dW.QH)(),g=(null==m?void 0:m(sL.TSSceneGraph.instance))||(0,kM.Qh)(sL.TSSceneGraph.instance,"FRAME",E),h=(0,b$.i)(),[f,v]=W.useState(!1);if((0,rT.u)(()=>{queueMicrotask(async function(){if(null==g){l();return}((null==E?void 0:E.type)!=="FRAME"||u)&&await (0,kM.MJ)({navigate:h,guidToSelect:g.guid}),v(!0),_(tm.s({design_panel_step_shown:!0})),eM.i46.triggerAction("set-tool-default",null)})}),!f)return null;let y=u?kO.s:kS.S2,C=u?void 0:W.createElement(kS.wd,{currentStepNum:i||2,totalNumSteps:o||4,useLoadingBar:!0}),w={dismissModal:r,disableHighlight:!0,targetKey:kI.s,title:c||W.createElement(ex.Tx,{id:"tooltips_plus_onboarding.change_properties_in_the_design_panel"}),trackingContextName:"Tooltips+ Design Panel Step (No Figma Basics)",lowerLeftText:s||C,onSecondaryCtaClick:t,onPrimaryCtaClick:e,primaryCtaProps:n,secondaryCtaProps:a,arrowPosition:xh.Wp.RIGHT_BODY,shouldCenterArrow:xh.yi.FALLBACK,pointsTo:"designPanel"},b={...w,collapseToTopRight:u,trackingContextName:"Cursor Bot Design Panel Step"+(p?" (Reactive Follow Up)":"")};return W.createElement(y,{...u?b:w},d||W.createElement(ex.Tx,{id:"tooltips_plus_onboarding.next_take_some_time_to_adjust_your_frames_size"}))}var kG=n(492084);let kH=(0,kG.m)(()=>tA.CA.fromFullscreen);function kV(e,t){let n=(0,Y.OY)(),a=(0,t2.e)(e),r=(0,tU.s)();W.useEffect(()=>{null!=t&&t.current||a||!r||eM.i46.setUsedPanAction(!1)},[r,a,t]),W.useEffect(()=>{if(!a&&(null==t||!t.current))return kH().on("panActionMessageForOnboarding",r),()=>{kH().removeListener("panActionMessageForOnboarding",r)};function r(){n(tm.s({[e]:!0}))}},[a,n,e,t])}let kW=(0,kG.m)(()=>tA.CA.fromFullscreen);function kY(e,t){let n=(0,Y.OY)(),a=(0,t2.e)(e),r=(0,tU.s)();W.useEffect(()=>{null!=t&&t.current||a||!r||eM.i46.setUsedZoomAction(!1)},[r,a,t]),W.useEffect(()=>{if(!a&&(null==t||!t.current))return kW().on("zoomActionMessageForOnboarding",r),()=>{kW().removeListener("zoomActionMessageForOnboarding",r)};function r(){n(tm.s({[e]:!0}))}},[a,n,e,t])}let kj="no_figma_basics_panning_and_zooming_step--selectedHeaderTitle--8-xpb",kX="no_figma_basics_panning_and_zooming_step--unselectedHeaderTitle--y0NFC",kz="no_figma_basics_panning_and_zooming_step--instructionRow--BP4W4",kq="no_figma_basics_panning_and_zooming_step--icon--mtHJ3",kZ="no_figma_basics_panning_and_zooming_step--heavyFontWeight--Fma8P",kQ="no_figma_basics_panning_and_zooming_step--keyboardKeyHighlight--jN1Bq";function kJ({markComplete:e}){let t=(0,t2.e)("has_panned_in_design_file"),n=(0,t2.e)("has_zoomed_in_design_file"),a=(0,t2.e)("dismissed_no_figma_basics_panning_and_zooming_tooltip"),[r,l]=W.useState(()=>t||n),[i,o]=W.useState(!0);kY("no_figma_basics_panning_and_zooming_overlay"),kV("no_figma_basics_panning_and_zooming_overlay");let s=!!(0,t2.e)("no_figma_basics_panning_and_zooming_overlay");W.useEffect(()=>{s&&i&&setTimeout(()=>{e(),o(!1)},1300)},[s,e,o,i]);let c=(0,E_.e)(),d=(0,Y.w1)(e=>e.mirror.sceneGraph),m=c&&(0,kM.m2)(d),u=!!m&&m.childrenGuids.length>0;if(W.useEffect(()=>{c&&null!=d&&(u||(e(),o(!1)))},[u,c,e,d,o]),!u||!i)return null;let p={};return s&&(p={opacity:"0",transition:"opacity",transitionDelay:"1000ms",transitionDuration:"300ms"}),W.createElement("div",{style:p},!r&&!a&&W.createElement(k1,null),W.createElement(k$,null))}function k$(){let e=(0,eB.wd)({subscribeToUpdates_expensive:!0});return W.createElement(tg.kH,{name:"Panning and Zooming Glow Overlay"},W.createElement("div",{className:"no_figma_basics_panning_and_zooming_step--readyToDesignMoreContainer--nu9cG"},W.createElement("div",{className:"no_figma_basics_panning_and_zooming_step--readyToDesignMoreBoldText--H6Q1p"},W.createElement(ex.Tx,{id:"tooltips_plus_onboarding.ready_to_design_more"})),W.createElement(ex.Tx,{id:"tooltips_plus_onboarding.go_to_a_blank_spot_in_your_canvas"}),W.createElement(eT._C,{multiple:3}),W.createElement("div",{style:{width:e+"px",borderRadius:e+"px"},className:"no_figma_basics_panning_and_zooming_step--blueGlow--zcqFY"})))}var k0=((S=k0||{}).MOUSE="mouse",S.TRACKPAD="trackpad",S);function k1(){let e=(0,Y.OY)(),[t,n]=W.useState("mouse");return W.createElement(tg.kH,{name:"Panning and Zooming Instructions Modal"},W.createElement(pK.ke,null,W.createElement("div",{"data-testid":"panning-and-zooming-hint",className:"no_figma_basics_panning_and_zooming_step--container--8Vwa-"},W.createElement("div",{className:"no_figma_basics_panning_and_zooming_step--header--OrjJu"},W.createElement("div",{className:"no_figma_basics_panning_and_zooming_step--headerTabs--D9Er-"},W.createElement("button",{className:q()({[kj]:"mouse"===t,[kX]:"mouse"!==t}),onClick:()=>n("mouse")},W.createElement(ex.Tx,{id:"tooltips_plus_onboarding.mouse"})),W.createElement("button",{className:q()({[kj]:"trackpad"===t,[kX]:"trackpad"!==t}),onClick:()=>n("trackpad")},W.createElement(ex.Tx,{id:"tooltips_plus_onboarding.trackpad"}))),W.createElement(rW.CA,{className:"no_figma_basics_panning_and_zooming_step--closeButton--UAV5m",onClick:()=>{e(tm.s({dismissed_no_figma_basics_panning_and_zooming_tooltip:!0}))}})),W.createElement("div",{className:"no_figma_basics_panning_and_zooming_step--body--QKpb-"},W.createElement(eT._C,{multiple:1.5}),W.createElement(k8,{peripheral:t}),W.createElement(eT._C,{multiple:2}),W.createElement(k9,{peripheral:t})))))}let k2=e=>"dark"===e?"https://static.figma.com/uploads/d2eefebde737b9d5fba2b35193dcd51e26ed0164":"https://static.figma.com/uploads/99d648a7ac711ba9d19976515105d6395eeb2d4c",k5=e=>"dark"===e?"https://static.figma.com/uploads/e27a5d39945685c389cd50e9f08144678edefeab":"https://static.figma.com/uploads/2357b697bfe85711b1de702dc63611ef8bb75859",k3=e=>"dark"===e?"https://static.figma.com/uploads/f49911183f0d3a2b6ee5044b42e0a14fe549999a":"https://static.figma.com/uploads/2a0c8ae88f72d6155bd818a0c51c8ced71fcecfa",k4=e=>"dark"===e?"https://static.figma.com/uploads/045c7e1324e953b8ee9ec91ac4e944995662e11e":"https://static.figma.com/uploads/c764bcd0a726bf2d31f70f16808785efeae4de56",k6=e=>"dark"===e?"https://static.figma.com/uploads/7a24deb2e05c4542dbd8b6bd1f009e26ba761b48":"https://static.figma.com/uploads/32f4843d9b24a4b95129bacd47f6b81fe439228f";function k8({peripheral:e}){let t=(0,pD.qG)(),n="mouse"===e?k4(t):k2(t),a=`${e} icon`,r=(0,eD.s5)((0,eP.EB)().scrollWheelZoom);return W.createElement("div",{className:kz},W.createElement("img",{src:n,className:kq,alt:a}),W.createElement("div",null,W.createElement("span",{className:kZ},W.createElement(ex.Tx,{id:"tooltips_plus_onboarding.to_zoom"})),"\xa0","mouse"!==e?W.createElement(ex.Tx,{id:"tooltips_plus_onboarding.pinch_your_trackpad"}):(0,$.Ub)().figjam_navigation_mode&&(0,$.Ub)().navigation_mode_scroll_to_pref&&r?W.createElement(ex.Tx,{id:"tooltips_plus_onboarding.scroll_your_mouse"}):W.createElement(ex.Tx,{id:"tooltips_plus_onboarding.hold_key_and_scroll",keyboardKey:W.createElement("span",{className:kQ},W.createElement(ex.Tx,{id:aP.s.isMac()?"tooltips_plus_onboarding.command_key":"tooltips_plus_onboarding.control_key"}))})))}function k9({peripheral:e}){let t=(0,pD.qG)(),n=(0,eD.s5)((0,eP.EB)().rightClickPan),a=`${e} icon`;return W.createElement("div",{className:kz},W.createElement("img",{src:"mouse"!==e?k5(t):(0,$.Ub)().figjam_navigation_mode&&(0,$.Ub)().navigation_mode_scroll_to_pref&&n?k6(t):k3(t),className:kq,alt:a}),W.createElement("div",null,W.createElement("span",{className:kZ},W.createElement(ex.Tx,{id:"tooltips_plus_onboarding.to_move"})),"\xa0","mouse"!==e?W.createElement(ex.Tx,{id:"tooltips_plus_onboarding.swipe_your_trackpad_with_two_fingers"}):(0,$.Ub)().figjam_navigation_mode&&(0,$.Ub)().navigation_mode_scroll_to_pref&&n?W.createElement(ex.Tx,{id:"tooltips_plus_onboarding.hold_right_click_while_moving_mouse"}):W.createElement(ex.Tx,{id:"tooltips_plus_onboarding.hold_space_and_left_click_while_moving_your_mouse",spaceKey:W.createElement("span",{className:kQ},W.createElement(ex.Tx,{id:"tooltips_plus_onboarding.space_key"}))})))}function k7(e){let t=(0,Y.OY)();return W.useEffect(()=>{t(ti.wN({tab:eM.W8r.ASSETS}))},[t]),W.createElement(kS.S2,{dismissModal:e.onClose,disableHighlight:!0,targetKey:kL.Ig,title:W.createElement(ex.Tx,{id:"tooltips_plus_onboarding.presets_step.title"}),trackingContextName:"Tooltips+ Presets Step",lowerLeftText:W.createElement(kS.wd,{currentStepNum:e.currentStepNum,totalNumSteps:e.totalNumSteps,useLoadingBar:e.useLoadingBar}),onPrimaryCtaClick:()=>{t(ti.wN({tab:eM.W8r.LAYERS})),e.onNext()},arrowPosition:xh.Wp.LEFT_TITLE,pointsTo:"leftPanel"},W.createElement(ex.Tx,{id:"tooltips_plus_onboarding.presets_step.description"}))}let Ne={FRAME:"no_figma_basics_tooltips_frame_step",TEXT:"no_figma_basics_tooltips_text_step",FORMAT_TEXT:"no_figma_basics_tooltips_format_text_step",DESIGN_PANEL:"no_figma_basics_tooltips_design_panel_step",PRESETS:"no_figma_basics_tooltips_presets_step",PRESETS_ENDING:"no_figma_basics_tooltips_presets_ending_step",PANNING_AND_ZOOMING_GLOW_OVERLAY:"no_figma_basics_panning_and_zooming_overlay",PANNING_AND_ZOOMING_TOOLTIP:"dismissed_no_figma_basics_panning_and_zooming_tooltip",PLUGIN:"no_figma_basics_tooltips_plugin_step"};function Nt({completeOverlay:e}){let t=(0,Y.OY)(),n=(0,t2.e)("no_figma_basics_tooltips_onboarding"),a=(0,sC._o)(),[r,l]=W.useState(kM.sE.FORWARD),i=(0,t2.e)(Ne.FRAME),o=(0,t2.e)(Ne.TEXT),s=(0,t2.e)(Ne.FORMAT_TEXT),c=(0,t2.e)(Ne.DESIGN_PANEL),d=(0,t2.e)(Ne.PLUGIN),m=(0,t2.e)(Ne.PRESETS),u=(0,t2.e)(Ne.PRESETS_ENDING),p=(0,kN.a0)(),_=(0,x_.mG)(),E=[p(),_].reduce((e,t)=>t?e+1:e,4),g=(0,dW.QH)(),h=()=>(0,kM.Qh)(sL.TSSceneGraph.instance,"TEXT",g),f=(e,n=kM.sE.FORWARD)=>{l(n),t(tm.s({[e]:!0}))},v=(e,n=kM.sE.BACKWARD)=>{l(n),t(tm.s({[e]:!1}))},y=(e,t)=>{r===kM.sE.FORWARD?f(t):v(e)},C=W.useCallback(()=>{e(),t(tm.s({no_figma_basics_tooltips_onboarding:!0}))},[e,t]);return n||a?null:W.createElement("div",{"data-testid":"no-figma-basics-step"},(()=>{if(p()&&!m)return W.createElement(k7,{onNext:()=>f(Ne.PRESETS),onClose:C,currentStepNum:1,totalNumSteps:E,useLoadingBar:!0});if(i){if(!c)return W.createElement(kK,{onPrimaryCtaClick:()=>f(Ne.DESIGN_PANEL),onSecondaryCtaClick:()=>v(Ne.FRAME),onClose:C,skip:()=>y(Ne.FRAME,Ne.DESIGN_PANEL)});if(!o)return W.createElement(kF,{onNext:()=>f(Ne.TEXT),onPrevious:()=>v(Ne.DESIGN_PANEL),onClose:C,currentStepNum:3,totalNumSteps:E,useLoadingBar:!0});if(!s)return W.createElement(kR.q,{onPrimaryCtaClick:()=>f(Ne.FORMAT_TEXT),onSecondaryCtaClick:()=>v(Ne.TEXT),onClose:C,lowerLeftText:W.createElement(kS.wd,{currentStepNum:4,totalNumSteps:E,useLoadingBar:!0}),skip:()=>{r===kM.sE.FORWARD?f(Ne.FORMAT_TEXT):v(Ne.TEXT)},getNodeToSelect:h});else if(!d&&_)return W.createElement(l5.eG,{onNext:()=>f(Ne.PLUGIN),onPrevious:()=>v(Ne.FORMAT_TEXT),onClose:C,currentStepNum:5,totalNumSteps:E,useLoadingBar:!0});else if(p()&&!u)return W.createElement(kD,{onPrimaryCtaClick:()=>f(Ne.PRESETS_ENDING),onSecondaryCtaClick:()=>v(Ne.FORMAT_TEXT),onClose:C,currentStepNum:5,totalNumSteps:E,useLoadingBar:!0,primaryCtaProps:{ctaText:W.createElement(ex.Tx,{id:"tooltips_plus_onboarding.done"}),ctaTrackingDescriptor:lr.O.DONE}});else return W.createElement(kJ,{markComplete:C})}{let e=p()?()=>v(Ne.PRESETS):void 0;return W.createElement(kP,{currentStepNum:1,totalNumStep:E,onPrimaryCtaClick:()=>f(Ne.FRAME),onSecondaryCtaClick:e,onClose:C,skip:()=>{y(Ne.PRESETS,Ne.FRAME)},useLoadingBar:!0,hasPresets:p()})}})())}function Nn(){let e=(0,Y.OY)(),t=(0,t1.C2)(),n=(0,eo.m4)(ui.eE),{isShowing:a,complete:r,show:l,uniqueId:i}=(0,mX.W)({overlay:mZ.GuW,priority:mz.g.OVERRIDING_MODAL}),o=!!(0,t2.e)("editor_onboarded"),s=!!(0,t2.e)("figma_basics_tooltips_onboarding"),c=!!(0,t2.e)("no_figma_basics_tooltips_onboarding"),d=!!(0,t2.e)("has_tooltips_plus_onboarding_file_no_nav"),m=!!(0,t2.e)("has_tooltips_plus_onboarding_file_with_nav"),u=!!(0,t2.e)("has_tooltips_plus_no_basics_file"),p=!!(0,t2.e)("started_figma_basics_onboarding"),_=d||m||u,E=(0,t$.K_)({useSinatraType:!0}),g=(0,kx.YL)(null==t?void 0:t.id,E,[kM.Un]);(0,ur.y)(i,"Reset Onboarding",()=>{t&&E&&(g?e(tm.s({figma_basics_tooltips_onboarding:!1,[kB.NAV]:!1,[kB.FRAME]:!1,[kB.TEXT]:!1,[kB.FORMAT_TEXT]:!1,[kB.DESIGN_PANEL]:!1,[kB.PRESETS_ENDING]:!1})):e(tm.s({figma_basics_tooltips_onboarding:!1,[Ne.FRAME]:!1,[Ne.TEXT]:!1,[Ne.FORMAT_TEXT]:!1,[Ne.DESIGN_PANEL]:!1,[Ne.PRESETS]:!1,[Ne.PRESETS_ENDING]:!1,[Ne.PANNING_AND_ZOOMING_GLOW_OVERLAY]:!1,[Ne.PANNING_AND_ZOOMING_TOOLTIP]:!1,design_panel_step_shown:!1,format_text_step_shown:!1,started_figma_basics_onboarding:!1})))});let h=W.useCallback(()=>{t&&E&&n&&!s&&_&&(g||!p&&!c&&!o)&&(a||l())},[t,E,n,s,o,_,g,a,l,p,c]);return(W.useEffect(()=>{h()},[h]),a)?g?W.createElement("div",{"data-testid":"figma-basics-tooltips-onboarding"},W.createElement(kU,{completeOverlay:r})):W.createElement("div",{"data-testid":"no-basics-file-tooltips-onboarding"},W.createElement(Nt,{completeOverlay:r})):null}var Na=n(159624),Nr=n(865160);let Nl={VariableCreateModalRoot:yy.CW,VariableAndStyleCreateModalRoot:function({initialPosition:e,initialVariableValue:t,inheritStyleKeyField:n,initialStyleCreationPaint:a,initialView:r,resolvedType:l,onCreateVariable:i,onCreateStyle:o,onClose:s}){(0,yC.i_)({resolvedType:l});let{onCreateVariableSubmit:c,onCreateStyleSubmit:d}=function({onCreateVariable:e,onCreateStyle:t,onClose:n}){let{onCreateVariableSubmit:a}=(0,yy.xo)({onCreateVariable:e,onClose:n}),r=(0,Y.w1)(e=>{var t;return null==(t=e.openFile)?void 0:t.key}),l=(0,Y.w1)(e=>e.mirror.sceneGraph);return{onCreateVariableSubmit:a,onCreateStyleSubmit:function(e){let a=function(e){let t=eM.i46.getStyleNodeId(e.key,e.version),n=l.get(t);return n?{type:fN.Af.STYLE,name:n.name,file_key:r??"",library_key:fN.lt,key:n.styleKey,thumbnail_url:"",canvas_url:"",content_hash:n.styleVersionHash??void 0,userFacingVersion:(0,yh.SI)(n.userFacingVersion),node_id:n.guid,isLocal:!0,style_type:n.styleType}:null}(e);a&&(t(a),n())}}}({onCreateVariable:i,onCreateStyle:o,onClose:s});return W.createElement(yx,{initialPosition:e,initialVariableValue:t,inheritStyleKeyField:n,initialStyleCreationPaint:a,initialView:r,resolvedType:l,onCreateStyleSubmit:d,onCreateVariableSubmit:c,onClose:s,recordingKey:"createVariableAndStyleModal"})},VARIABLE_CREATE_MODAL_WIDTH_PX:yy.K0};function Ni(){var e;let t=(0,Y.w1)(e=>e.selectedView),n=(0,Y.w1)(e=>{var t;return null==(t=e.openFile)?void 0:t.key}),a=(0,Y.w1)(e=>e.progressBarState.mode),r=(0,Y.w1)(e=>{var t;return(0,tb.YN)({editorType:null==(t=(0,nl.QZ)(e))?void 0:t.editor_type})}),l=a!==tq.Mty.HIDE_UI&&a!==tq.Mty.ON_AND_LOCKED,i=(0,t$.AL)(),o=(0,id.k1)(),s=(0,eD.s5)(null==(e=eM.KEP)?void 0:e.slidesToolMode());(0,W.useEffect)(()=>(document.body.dataset.editorTheme=(0,yg.st)(t,null==i?void 0:i.editorType,s),()=>{delete document.body.dataset.editorTheme}),[t,null==i?void 0:i.editorType,s]),(0,ty.UR)(),(0,ys.o)(),(0,W.useEffect)(()=>{l&&n&&(tA.CA.onReady().then(()=>{eM.Abq.sendSignal("client-rendered","")}),window.requestAnimationFrame(()=>{var e;null==(e=tW.sZ)||e.addTabAnalyticsMetadata({reactFullscreenViewRenderTime:window.performance.now()}),y_.Ws.reactFullscreenViewIsRendered(),y_.Ws.report(n,r),function(){var e;let t=(0,tL.B2)("fullscreen");if(!t)return;let n=(0,$.Ub)().use_webgl2?t.getContext("webgl2"):t.getContext("webgl");if(!n||!window.expectedWebGLContextAttributes)return;let a=n.getContextAttributes();if(!a)return;let r=(null==(e=eM.I7U)?void 0:e.getDeviceInfo())??{vendor:"",renderer:"",version:""},l={};for(let e of Object.keys(a))l[`actual_${e}`]=a[e];let i={},o=!0;for(let e of Object.keys(window.expectedWebGLContextAttributes))a[e]!==window.expectedWebGLContextAttributes[e]&&(o=!1),i[`expected_${e}`]=window.expectedWebGLContextAttributes[e];let s={...l,...i,...r,are_context_attributes_correct:o};(0,Z.we)("fullscreen_load_gpu_parameters",s)}()}))},[l,n,r,!0]);let c=(0,Y.w1)(e=>e.isFullscreenDocumentLoaded);(0,W.useEffect)(()=>{(null==o?void 0:o.handleCompleteInitialLoad)&&c&&o.handleCompleteInitialLoad()},[o,c]);let[d,m]=(0,W.useState)(!1),u=(0,Y.w1)(e=>e.mirror.appModel.isReadOnly);(0,W.useEffect)(()=>{(null==o?void 0:o.updateReadOnly)&&c&&!d&&(m(!0),o.updateReadOnly(u))},[o,c,d,m,u]);let p=(0,rb.i)(i),_=(0,Y.w1)(e=>e.mirror.appModel.pagesList),E=(0,W.useMemo)(()=>_.map(e=>({id:e.nodeId,name:e.name})),[_]),g=(0,rb.i)(E),h=(0,Y.w1)(e=>e.mirror.appModel.currentPage),f=(0,rb.i)(h);(0,W.useEffect)(()=>{(null==o?void 0:o.updatePages)&&i&&(!p||i.key!==p.key||i.name!==p.name||i.editorType!==p.editorType||i.isTryFile!==p.isTryFile||!(0,rw.QZ)(E,g)||h!==f)&&o.updatePages({fileKey:i.key,fileName:i.name,editorType:i.editorType,isTryFile:i.isTryFile,pages:E.length>0?E:[{id:h,name:"Page 1"}],currentPageId:h})},[o,i,p,E,g,h,f]);let v=(0,tJ.s$)();(0,W.useEffect)(()=>{(null==o?void 0:o.updateWebOverlaysShown)&&o.updateWebOverlaysShown(v)},[o,v]);let y=(0,eh.S2)(eh.YP.customKeyboardShortcuts);(0,W.useEffect)(()=>{(0,$.Ub)().ce_custom_keyboard_shortcuts&&eM.i46.reloadKeyboardShortcuts()},[y]);let C=(0,Y.w1)(e=>e.multiplayer.allUsers),w=(0,Y.w1)(e=>e.multiplayer.observingSessionID),b=(0,Y.w1)(e=>e.multiplayer.presenterSessionID),T=(0,Y.w1)(e=>e.multiplayer.deviceNameFilter),x=(0,Y.w1)(e=>e.multiplayer.sessionID),k=(0,W.useMemo)(()=>{let{users:e}=(0,yE.w5)(C,null,!1,1048576,{sessionID:x,observingSessionID:w,presenterSessionID:b,deviceNameFilter:T});return{sessionID:x,observingSessionID:-1!==w?w:null,presenterSessionID:-1!==b&&b||null,users:e}},[C,T,w,b,x]),N=(0,rb.i)(k);return(0,W.useEffect)(()=>{(null==o?void 0:o.updateMultiplayerUserInfo)&&!(0,rw.QZ)(N,k)&&o.updateMultiplayerUserInfo(k)},[o,k,N]),(0,uY.Y5)(),!function(){let e=(0,e7.eI)(),t=(0,e7.U9)(),n=(0,l1.AR)(),a=(0,tw.yI)(),r=(0,v6.u)("permission",!0),l=n&&!t&&!e&&!(0,tZ.s)();(0,W.useEffect)(()=>{a||(eM.aWh.setCanAccessDevMode(t),eM.aWh.setCanEnterDevMode(e))},[t,e,a]),(0,W.useEffect)(()=>{l&&r("design")},[r,l])}(),null}function No(){let e=(0,tw.yI)(),t=(0,rv.sZ)(),n=(0,rh.wl)(),a=(0,id.k1)(),r=(0,Y.w1)(e=>e.selectedView);return e?W.createElement(W.Fragment,null,W.createElement(xp,null),!!(null==a?void 0:a.shouldOptimizeForIpadApp)&&W.createElement(yS.I,null),!!(null==a?void 0:a.shouldOptimizeForIpadApp)&&W.createElement(yI,null)):t?W.createElement(W.Fragment,null,W.createElement(rf,null),W.createElement(Nd,null)):n?W.createElement(yA.t1,null):(0,l1.ie)(r)?W.createElement(v$,null):W.createElement(W.Fragment,null,W.createElement(Nc,null),!!(null==a?void 0:a.shouldOptimizeForIpadApp)&&W.createElement(yS.I,null),!!(null==a?void 0:a.shouldOptimizeForIpadApp)&&W.createElement(yI,null))}function Ns(){let e=(0,Y.w1)(xL.qs),t=(0,Y.w1)(e=>e.mirror.appModel.currentPage),n=(0,rm.yO)();return W.createElement(W.Fragment,null,W.createElement(No,null),W.createElement(Ni,null),e&&W.createElement(kr,{pageId:t}),n&&W.createElement(yl,null))}let Nc=W.memo(function(){let e=(0,Y.w1)(e=>e.mirror.appModel),t=(0,sC.a0)(),{topLevelMode:n}=e,a=(0,sC.au)();return(0,m7.s)({topLevelMode:tq.s9F.PREVIEW,eventName:"Preview Mode Selection Changed",teamFilesOnly:!0}),W.useEffect(()=>{t&&n===tq.s9F.PREVIEW&&a!==eM.w3X.COMMENTS&&(0,eL.o7)(eM._AQ.INSPECT)},[t,n,a]),W.createElement(W.Fragment,null,W.createElement(Nd,null),W.createElement(Nm,null))}),Nd=W.memo(function(){var e;let t=(0,Y.OY)(),n=(0,Y.w1)(e=>(0,r3.getPermissionsState)(e)),a=(0,sC._o)(),r=(0,E_.e)(),l=(0,Y.w1)(e=>e.loadingState),i=(0,Y.w1)(e=>e.mirror.appModel),o=(0,eo.m4)(cO.z4),s=(0,Y.w1)(e=>e.mirror.sceneGraphSelection),c=(0,Y.w1)(e=>e.mirror.selectionPaints),d=(0,Y.w1)(e=>e.mirror.selectionProperties),m=(0,Y.w1)(e=>e.mirror.selectedStyleProperties),u=(0,Y.w1)(e=>e.currentUserOrgId),p=(0,Y.w1)(e=>e.dropdownShown),_=(0,Y.w1)(e=>e.fonts),E=(0,Y.w1)(e=>e.fileVersion),g=(0,Y.w1)(e=>e.installedPluginVersions),h=(0,Y.w1)(e=>e.library),f=(0,Y.w1)(e=>e.localPlugins),v=(0,Y.w1)(e=>e.modalShown),y=(0,Y.w1)(e=>e.multiplayer),C=(0,Y.w1)(e=>e.openFile),w=(0,Y.w1)(e=>e.pickerShown),b=(0,Y.w1)(e=>e.pickerInStyleCreationShown),T=(0,Y.w1)(e=>e.publishedPlugins),x=(0,Y.w1)(e=>e.saveAsState),k=(0,Y.w1)(e=>e.selectedView),N=(0,Y.w1)(e=>e.stylePickerListLayout),S=(0,Y.w1)(e=>e.stylePickerShown),I=(0,Y.w1)(e=>e.stylePreviewShown),A=(0,Y.w1)(e=>e.styleSets),O=(0,Y.w1)(e=>e.usedKeyboardShortcuts),M=(0,Y.w1)(e=>e.user),P=(0,Y.w1)(e=>e.userFlags),L=(0,Y.w1)(e=>e.userStateLoaded),D=(0,Y.w1)(e=>e.repos),R=(0,Y.w1)(e=>e.folders),F=(0,Y.w1)(e=>e.teams),B=(0,Y.w1)(e=>e.orgById),U=(0,Y.w1)(e=>e.orgDraftsOwners),K=(0,Y.w1)(e=>e.orgUsersByOrgId),G=(0,Y.w1)(e=>e.userEduGracePeriods),H=(0,Y.w1)(e=>e.licenseGroups),{topLevelMode:V}=i,j=(0,id.k1)(),z=(0,eD.s5)(eM.KEP.uiState().hideUiForMobileEditing),q=!!(null==j?void 0:j.shouldOptimizeForIpadApp)&&(a?yp.a.hideUiForMobileEditing:z),Z=a?yp.a.topLevelMode:V,Q=null==(e=eM.KEP.uiState().isRecovery)?void 0:e.getCopy(),J=Np(),$=(0,kb._O)(),ee=!q&&(Z===tq.s9F.LAYOUT||Z===tq.s9F.BRANCHING||Q||J||$&&Z===tq.s9F.HISTORY),et=(0,np.K0)(l,"edit_button_upgrading_to_edit"),en=a||et,ea=(0,eD.s5)((0,eL.a6)()),er=(0,eD.s5)(eM.KEP.propertiesPanelState().shownPropertiesPanels),el=(0,eD.s5)(eM.KEP.propertiesPanelState().shownTransformControls),ei=(0,eD.s5)(eM.KEP.propertiesPanelState().strokePanelMode),es=(0,eD.s5)(eM.KEP.propertiesPanelState().strokePanelTerminalPointCount),ec=(0,eD.s5)((0,eP.EB)().expandedFramePresetType),ed=(0,eP.q4)(),em=(0,eP.O8)(),{version:eu}=(0,X.qG)(),ep=(0,eD.s5)(eM.KEP.uiState().showPropertiesPanel);_J(),function(){let e="ui3"===(0,X.qG)().version,t=(0,eh.S2)(eh.YP.ui3ExpAutoHideRightPanel),n=(0,eh.S2)(eh.YP.ui3Motion),a=(0,sC.a0)(),r=(0,W.useContext)(yd.O2),l=(0,dZ.A9)("selectionBounds"),{isPropertiesPanelCollapsed:i}=(0,_Q.I)(),{isLeftPanelCollapsed:o}=(0,uh.uA)();(0,W.useLayoutEffect)(()=>{let s=(0,nQ.kB)(l);if(!e||!t||!a||i||!s||!n)return;let c=r.getViewportInfo(),{offsetX:d,offsetY:m,zoomScale:u}=c,p=(0,eP.EB)().propertiesPanelSplitPosition.getCopy()+ym,_=o?0:(0,eP.EB)().sidebarSplitPosition.getCopy()+yu,E=(0,eB.Qv)(c,{x:s.x,y:s.y}),g=(0,eB.Qv)(c,{x:s.x+s.width,y:s.y}),h=E.x<_,f=Math.min(g.x-(c.width-p),p);f>0&&!h&&r.navigateTo({x:d+(f+16)/u,y:m},u,{duration:250})},[i])}(),(0,_Q.U)();let e_=!(0,yc.m1)()&&$&&ep,eg=(0,eD.s5)((0,eP.EB)().renderRulers),ef=(0,ru.O)(),{isPropertiesPanelCollapsed:ev}=(0,_Q.I)(),ey=(0,kb.O2)(),eC=uF();return W.createElement(eb.Ou,{boundaryKey:"PropertiesPanel",fallback:eb.Yd.NONE_I_KNOW_WHAT_IM_DOING},ee&&r&&W.createElement(Nr.q.Provider,{value:Nl},W.createElement(kT.q,{recordingKey:"propertiesPanel",isCollapsed:ev,propertiesPanelTab:ea,shownTransformControls:el,strokePanelMode:ei,strokePanelTerminalPointCount:es,commentsPanel:Nu,dispatch:t,isLoading:en,shouldAnimateLoadingState:a,shouldShowBackgroundGradient:e_,shownPanels:er,rulersVisible:eg,expandedFramePresetType:ec,colorFormat:ed,propertiesPanelSplitPosition:em,permissionsState:n,hasUI3LayerHeaders:$,key:(0,eE.Cy)()??void 0,appModel:i,sceneGraph:o,sceneGraphSelection:s,selectionPaints:c,selectionProperties:d,selectedStyleProperties:m,currentUserOrgId:u,dropdownShown:p,fonts:_,fileVersion:E,allSavedPlugins:g,library:h,localPlugins:f,modalShown:v,multiplayer:y,openFile:C,pickerShown:w,pickerInStyleCreationShown:b,publishedPlugins:T,saveAsState:x,selectedView:k,stylePickerListLayout:N,stylePickerShown:S,stylePreviewShown:I,styleSets:A,usedKeyboardShortcuts:O,user:M,userFlags:P,userStateLoaded:L,repos:D,folders:R,teams:F,orgById:B,orgDraftsOwners:U,orgUsersByOrgId:K,userEduGracePeriods:G,licenseGroups:H,uiVersion:eu,isFullHeight:ef,hasMergedDimensionsAndAutolayout:$,hasUI3AppearancePanel:ey,inUI3CollapsedSidebarPillBackgroundLab:eC}),W.createElement(Na.MX,null)))}),Nm=W.memo(function(){var e,t;let n=null==(e=eM.KEP.uiState().isRecovery)?void 0:e.getCopy(),a=null==(t=(0,t$.AL)())?void 0:t.canEdit,r=!(0,_$.AT)()&&a&&(0,$.Ub)().dt_dev_mode_discovery_rcs&&!n;return W.createElement(W.Fragment,null,W.createElement(ua.i,{featureFlag:"nux_gen0_overlay_design_editor"},W.createElement(xP,null)),W.createElement(ua.i,null,W.createElement(Nn,null)),W.createElement(ua.i,{featureFlag:"is_html_to_design_exp_enabled"},W.createElement(xA,null)),W.createElement(ua.i,null,r&&W.createElement(v4.y,null)),W.createElement(ua.i,null,W.createElement(kp,null)),W.createElement(ua.i,null,W.createElement(kv,null)),W.createElement(ua.i,{featureFlag:"mobile_prompt_sidebar_modal"},W.createElement(kC,null)))}),Nu=W.memo(function(){let e=(0,eD.s5)((0,eL.a6)()),t=(0,Y.w1)(e=>e.mirror.appModel.topLevelMode),n=(0,Y.OY)(),a=t!==tq.s9F.PREVIEW&&e!==eM._AQ.COMMENT||t===tq.s9F.PREVIEW,r=W.useCallback(e=>{n(lk.cl(e))},[n]);return W.createElement(lN.k,{stackHeader:a,hideResolve:!1,resolveComment:r})});function Np(){let e=(0,sC._o)(),t=null!=(0,t1.C2)(),n=(0,Y.w1)(e=>e.mirror.appModel.topLevelMode),a=e?yp.a.topLevelMode:n;return t&&a===tq.s9F.PREVIEW}var N_=n(196556);let NE=W.memo(function(){let e=(0,uh.U9)(),t=(0,eo.m4)(rE.Ab),n=(0,Y.w1)(r_.OG),a=Np(),r=(0,t$.AL)(),l=(0,Y.w1)(e=>e.versionHistory),i=(0,t0.c$)(),o=(0,Y.w1)(e=>e.leftPanel),s=(0,Y.w1)(e=>e.fileVersion),c=(0,Y.w1)(e=>e.teams),d=(0,Y.w1)(e=>e.loadingState),m=(0,Y.w1)(e=>e.modalShown),u=(0,rp.g)(),p=(0,Y.w1)(e=>!e.mirror.appModel.isReadOnly&&e.mirror.appModel.topLevelMode!==tq.s9F.HISTORY),_=(0,Y.w1)(e=>(0,nf.AD)(e.mirror.appModel)),E=(0,Y.w1)(e=>{let t=e.mirror.sceneGraph.get(_);return t?t.name:null}),g=(0,Y.w1)(e=>!!(0,$.Ub)().version_diffing&&e.mirror.appModel.activeCanvasEditModeType===tq.a_v.COMPARE_CHANGES),h=(0,Y.w1)(e=>e.mirror.appModel.pagesList),f=(0,el.q)(e=>{let t={};if((0,$.Ub)().ce_page_separators){let n=e.mirror.sceneGraph;h.forEach(e=>{let a=n.get(e.nodeId);t[e.nodeId]=null==a?void 0:a.isPageDivider})}return t}),v=(null==r?void 0:r.editorType)==="whiteboard",y=(0,rh.yy)(i),C=(0,rv.sZ)(),w=(0,rm.yO)(),b=(0,eD.s5)(tq.KEP.uiState().showCanvasSearch)&&!v,T=(0,ru.O)();(0,uh.sT)();let x=W.useMemo(()=>(0,$.Ub)().ce_page_separators?h.map(e=>({...e,isDivider:f[e.nodeId]})):h,[h,f]),k=W.useMemo(()=>g?(0,cW.e2)(h):new Map,[g,h]),N=W.useMemo(()=>{let e=y?x.slice(1):x;return g?e.filter(e=>k.has(e.nodeId)):e},[y,g,x,k]),S=!b&&p&&!v,I=!!r&&n,A=l.compareId;return W.useEffect(()=>{I&&(0,rd.Y9)({id:"Found Updates To Publish"})},[I]),W.createElement(W.Fragment,null,W.createElement(uV,null),W.createElement(m1.jz,null,W.createElement(W.Fragment,null,T&&W.createElement(uD,null),C?W.createElement(rf,{recordingKey:"ssvCarousel"}):W.createElement(W.Fragment,null,g&&A&&W.createElement(f2.Y7,{compareId:A,versions:l.versions}),b?W.createElement(ry.K8.Provider,{value:!0},W.createElement(rC.Q,{showFilter:!0})):g&&!N.length?W.createElement("div",{className:N_.Ks},W.createElement(ex.Tx,{id:"collaboration.feedback.no_visible_changes"})):W.createElement(rg.GK,{recordingKey:"pagesPanel",readonly:a||!p,currentPageGuid:_,currentPageName:E,width:e,pagesList:N,dropdownShown:u,fileInEditableState:p,hasTeamLibraryUpdates:t||I,activeTab:o.activeTab,showTabs:S,showPages:!b,fileVersion:s,openFile:r,teams:c,leftPanel:o,loadingState:d,selectedView:i,modalShown:m,isDevHandoff:!1,isDevHandoffOverview:w,isComparingChanges:g,pageToNumChanges:k,isFullHeightSidebar:T})))))});var Ng=n(74892),Nh=n(589940),Nf=n(503324);function Nv(e){let t=e.mirror.sceneGraph,n=e.mirror.sceneGraphSelection;if(1!==Object.keys(n).length)return null;let a=t.get(Object.keys(n)[0]);return a&&"MEDIA"===a.type?a:null}var Ny=n(554252),NC=n(698228);function Nw(e,t){let n={};return n.useValue=function(a){if(t&&n[a]&&t(a,n[a])&&delete n[a],!n[a]){let t=(0,NC.Q)();e(a).then(e=>t.resolve(e)).catch(e=>t.reject(e)),n[a]={deferred:t,created:Date.now()}}let{deferred:r}=n[a];switch(r.status){case"pending":throw r.promise;case"rejected":throw r.error;case"resolved":return r.result}},n}let Nb=Nw(NT);async function NT(e){let t=await (0,Ny.Oe)(()=>Nx(e),10,1e3);return await new Promise((n,a)=>{let r=new Image;r.crossOrigin="anonymous",r.addEventListener("load",n),r.addEventListener("error",t=>{a(t.type+" loading the image with hash "+e)}),r.src=t}),t}async function Nx(e){let t=(await (0,nZ.iM)([e],await tA.CA.openFilePromise()))[e];if(!t)throw Error("Couldn't resolve image URL from server");return t}var Nk=n(130892),NN=n(650180);let NS=Nw(NI,(V=(e,t)=>Date.now()-t.created>6e4,(e,t)=>!t.deferred.result&&V(e,t)));async function NI(e){return await (0,Ny.Oe)(()=>NA(e),20,1e3)}async function NA(e){let t=await NO(e);if(!t)throw Error("Couldn't resolve video URL from server");return t}async function NO(e){let t=await tA.CA.openFilePromise();if("figFile"!==t.type)throw Error("Unsupported file");try{let n=await NN.i.getVideosDownload({fileKey:t.fileKey,hexHash:e});if(200!==n.status||n.data.error)throw Error("api error while resolving video");return n.data.meta.signed_url}catch(t){throw console.warn(`Couldn't download video with hash ${e}`),t}}let NM=1/15;var NP=n(716428);let NL="rich_media_overlay--loadingFallback---qUKd",ND="rich_media_overlay--videoControlButton--syGqZ",NR="rich_media_overlay--videoButtonMaximizedScale--8Hkj5",NF="rich_media_overlay--croppedClipPath--BeUH-";var NB=n(661316),NU=n(95324),NK=n(736400);let NG={BUTTON_SHAPE_FILL:"#FFFFFF",BUTTON_BG_FILL:"#000000",BUTTON_STROKE_OPACITY:.2,BUTTON_BG_FILL_OPACITY:.7,BUTTON_BG_FILL_HOVER_OPACITY:.9};function NH(e){if(null==e||Number.isNaN(e))return"";let{seconds:t,minutes:n}=(0,wP.S2)(e);return`${n}:${String(t).padStart(2,"0")}`}function NV(e,t){e&&(t?(e.play(),et.cp.safari&&(e.currentTime=.1)):NY(e)?e.pause():(et.cp.safari&&e.currentTime>.1&&(e.currentTime-=.1),e.play()))}let NW=(0,W.memo)(({mediaHash:e,isMaximized:t,setIsMaximized:n})=>{let a=NS.useValue(e),r=(0,rH.e6)(),l=(0,W.useRef)(null),[i,o,s,c]=function(){let[e,t]=W.useState(!1),n=W.useRef(null),a=()=>t(!0),r=()=>t(!1);return W.useEffect(()=>{let e=n.current;if(e)return e.addEventListener("mousemove",a),e.addEventListener("mouseleave",r),()=>{e.removeEventListener("mousemove",a),e.removeEventListener("mouseleave",r)}},[n.current]),[W.useCallback(e=>{if(null!==n.current){let e=n.current;e&&(e.removeEventListener("mousemove",a),e.removeEventListener("mouseleave",r))}if(n.current=e,null!==n.current){let e=n.current;e&&(e.addEventListener("mousemove",a),e.addEventListener("mouseleave",r))}},[]),n,e,t]}(),d=W.useRef(null),m=W.useRef(!1),u=(0,el.q)(e=>{var t;return null==(t=e.openFile)?void 0:t.key})||"",p=(0,eo.m4)(NP.G),[_,E]=(0,W.useState)(!1);return W.useEffect(()=>{p&&r("figjam_video_started_playing",{mediaHash:e})},[r,e,p]),W.useEffect(()=>{m.current||(m.current=!0,async function(){window.VIDEOJS_NO_DYNAMIC_STYLE=!0;let t=await (0,Nk.Kk)();if(d.current)return;let n=o.current;null!==n&&(n.style.height="100%",n.style.width="100%",n.style.display="flex",n.style.justifyContent="center",n.style.alignItems="center",d.current=t.videoJs(n,{muted:!1,controls:!1,controlBar:!1,bigPlayButton:!1,loadingSpinner:!1,errorDisplay:!1,textTrackSettings:!1,textTrackDisplay:!1,nativeTextTracks:!1},async()=>{try{let t=`/api/files/${u}/videos/${e}/manifest`;await (0,Nk.ek)(t,!0,d.current)}catch{d.current&&(aO.g.warn("Reverting to fallback video source"),d.current.src({type:"video/mp4",src:a}))}}))}())},[u,e,o,a]),(0,W.useEffect)(()=>{r("figjam_video_selected",{mediaHash:e})},[r,e]),W.createElement("div",{className:"rich_media_overlay--videoContainer--oC3oc",ref:l},W.createElement("div",{className:q()("rich_media_overlay--clippedVideo--JljnC",t?"rich_media_overlay--noClipPath--ZooJK":NF)},W.createElement("video",{ref:i,crossOrigin:"anonymous",autoPlay:p&&!et.cp.safari,className:q()("rich_media_overlay--video--O6uP2",t&&eR.WW,t&&"rich_media_overlay--maximizedVideoBg--FUhbn"),onMouseUp:function(){document.activeElement instanceof HTMLElement&&document.activeElement.blur()},controls:et.cp.isIpad&&t,onClick:function(){t&&NV(o.current,_)}})),W.createElement(Nj,{videoRef:o,videoContainerRef:l,isMaximized:t,setIsMaximized:n,isVideoHovered:s,setIsVideoHovered:c,didAutoplayOnSelection:p,mediaHash:e,hasEnded:_,setHasEnded:E}))});function NY(e){return!!e&&!e.ended&&!e.paused&&e.currentTime>0&&e.readyState>2}function Nj({videoRef:e,isMaximized:t,setIsMaximized:n,isVideoHovered:a,videoContainerRef:r,setIsVideoHovered:l,didAutoplayOnSelection:i,mediaHash:o,hasEnded:s,setHasEnded:c}){var d,m,u;let[p,_]=(0,W.useState)(0),E=(0,W.useRef)(!1),g=(0,W.useRef)(i),[h,f]=(0,W.useState)(null),[v,y]=(0,W.useState)(!1),[C,w]=(0,W.useState)(!1),b=(0,rH.e6)(),[T,x]=(0,i6.o)(),[k,N]=(0,i6.o)(),S=function(){let[e,t]=(0,W.useState)(!0),n=(0,el.q)(Nv),a=(0,eB.oH)((0,eB.OM)({subscribeToUpdates_expensive:!1}));return(0,W.useEffect)(()=>{let e=0,r=null==n?void 0:n.size;r&&(e=r.x*r.y),t(e/(a.height*a.width)<NM)},[null==n?void 0:n.size,a.height,a.width]),e}(),I=function(){let[e,t]=(0,W.useState)(!0),n=(0,el.q)(Nv),a=(0,eB.OM)({subscribeToUpdates_expensive:!1}),r=null==n?void 0:n.size;return(0,W.useEffect)(()=>{r&&t(r.x*a.zoomScale<96||r.y*a.zoomScale<96)},[r,a.zoomScale]),e}(),A=(0,W.useRef)(!1),[O,M]=(0,eo.lZ)(NP.i),{isVideoNodeHovered:P,pointerDownOnVideo:L}=O,D=(0,W.useRef)(!1),R=t&&(a||N),F=h||(null==(d=e.current)?void 0:d.currentTime),B=null==(m=e.current)?void 0:m.duration,U=NY(e.current),K=(0,W.useRef)(void 0),G=(0,W.useRef)(void 0);(0,W.useEffect)(()=>{let e=(et.cp.isIpad?L:P)||x||R||!U||s||A.current;w(e),clearTimeout(null==K?void 0:K.current),e&&(K.current=setTimeout(()=>{s||!U||x||A.current||(w(!1),l(!1),M({isVideoNodeHovered:!1,pointerDownOnVideo:!1}))},3e3))},[s,R,U,P,x,l,M,L]);let H=(0,W.useCallback)(()=>{_(e=>e+1)},[]);(0,W.useEffect)(()=>{if(!e.current||!r.current)return;function a(){H()}function l(){A.current=!1}function i(){A.current=!1,c(!1)}function o(){c(!1),H()}function s(){A.current=!0}function d(){n(!t)}function m(){v||c(!0),H()}let u=e.current,p=r.current;return u.addEventListener("playing",o),u.addEventListener("canplay",a),u.addEventListener("ended",m),u.addEventListener("timeupdate",a),u.addEventListener("seeking",s),u.addEventListener("seeked",i),u.addEventListener("stalled",l),p.addEventListener(ad.k5.fullscreenChangeEventName,d),()=>{null==u||u.removeEventListener("playing",o),null==u||u.removeEventListener("canplay",a),null==u||u.removeEventListener("ended",m),null==u||u.removeEventListener("timeupdate",a),null==u||u.removeEventListener("seeking",s),null==u||u.removeEventListener("seeked",i),null==u||u.removeEventListener("stalled",l),null==p||p.removeEventListener(ad.k5.fullscreenChangeEventName,d)}},[t,v,H,c,n,r,e]);let V=(0,W.useCallback)(()=>{e.current&&(!1===g.current&&(g.current=!0,b("figjam_video_started_playing",{mediaHash:o})),NV(e.current,s),H())},[s,o,H,b,e]),Y=(0,W.useCallback)(()=>{e.current&&(E.current=NY(e.current)||s,e.current.pause())},[s,e]),j=(0,W.useCallback)(()=>{e.current&&(E.current&&e.current.play(),G.current&&(e.current.currentTime=G.current),f(null),G.current=void 0)},[e]),X=(0,W.useCallback)(t=>{if(e.current){if(A.current){G.current=t;return}e.current.currentTime=t}},[e]),z=W.createElement(NZ,{togglePlay:V,hasEnded:s,isPlaying:U,shouldShowVideoControls:C,isMaximized:t});return e.current&&!(2>((null==(u=e.current)?void 0:u.readyState)||0))||D.current?(D.current=!0,et.cp.isIpad&&t)?null:S?C&&!I?z:null:W.createElement(W.Fragment,null,h?null:z,W.createElement("div",{className:q()(eR.cn,"rich_media_overlay--videoControls--Zyzyj",!C&&"rich_media_overlay--videoControlsHidden--BM1Cp"),ref:k},W.createElement("div",{className:"rich_media_overlay--videoTime--nsc6o"},NH(F)," / ",NH(B)),W.createElement(Nq,{currentTime:F||0,totalTime:B||0,onScrubStart:Y,onScrub:f,onScrubEnd:j,onVideoPositionUpdated:X,hasEnded:s,isScrubbing:v,setIsScrubbing:y}),W.createElement("div",{className:"rich_media_overlay--videoRightControls--N0YPD"},W.createElement(av.wP,{onClick:function(){if(t||document.fullscreenElement)ad.k5.exitFullscreenFunc();else if(et.cp.isIpad){let t=e.current;t&&t.webkitEnterFullscreen&&t.webkitEnterFullscreen()}else{let e=r.current;e&&ad.k5.requestFullscreenFunc.call(e)}},svg:t?NK.c:NU.c,className:ND,"data-tooltip-type":n1.wL.TEXT,"data-tooltip":t?(0,ex.t)("whiteboard.video.minimize_tooltip"):(0,ex.t)("whiteboard.video.fullscreen_tooltip")}),W.createElement(NX,{rerender:H,videoRef:e,volumeHoverRef:T})))):W.createElement("div",{className:q()(NL,NF,"rich_media_overlay--videoLoadingState--bxjOn")},W.createElement(l7.M7,{size:"large"}))}function NX({rerender:e,videoRef:t,volumeHoverRef:n}){var a;let[r,l]=(0,W.useState)(!1),i=(0,W.useRef)(1),[o,s]=(0,W.useState)((null==(a=t.current)?void 0:a.volume)||1),c=0===o,d=r&&!et.cp.isIpad,m=(0,W.useCallback)(()=>{t.current&&(t.current.muted?(t.current.muted=!1,t.current.volume=i.current,s(i.current)):(t.current.volume>0&&(i.current=t.current.volume),t.current.muted=!0,s(0)),e())},[e,t]);return W.createElement("div",{ref:n},W.createElement(av.wP,{onClick:m,onMouseEnter:()=>l(!0),onMouseLeave:()=>l(!1),onMouseOut:()=>l(!1),svg:c?Tu.c:NB.c,className:q()(ND,"rich_media_overlay--lastVideoControl--pU-xF",d&&"rich_media_overlay--selectedVolumeControlButton--IR-FO"),"data-tooltip-type":n1.wL.TEXT,"data-tooltip":c?(0,ex.t)("whiteboard.video.unmute_tooltip"):(0,ex.t)("whiteboard.video.mute_tooltip")}),d?W.createElement(Nz,{volume:o,handleChange:e=>{let n=e.target.valueAsNumber;t.current&&(t.current.volume=n,t.current.muted=0===n),s(n)},setIsHovered:l}):null)}function Nz({handleChange:e,setIsHovered:t,volume:n}){let a=100*n,r=(0,W.useRef)(null);return W.createElement("div",{onMouseEnter:()=>t(!0),onMouseLeave:()=>t(!1),className:"rich_media_overlay--volumeContainer--Wb1Hq"},W.createElement("div",{className:"rich_media_overlay--volumeBox--qpdbu"},W.createElement("input",{className:q()("rich_media_overlay--volumeSliderInput--W1-jD",eR.cp,eR.cn),style:{background:`linear-gradient(to right,var(--active-slider-color) 0%,var(--active-slider-color) ${a}%,var(--inactive-slider-color) ${a}%,var(--inactive-slider-color) 100%)`},type:"range",min:0,max:1,step:.02,value:n,onChange:e,onKeyDown:function(e){(null==e?void 0:e.key)==="Escape"&&t(!1)},onMouseUp:function(){r.current instanceof HTMLInputElement&&r.current.blur()},ref:r})))}function Nq({currentTime:e,totalTime:t,hasEnded:n,onVideoPositionUpdated:a,onScrubStart:r,onScrub:l,onScrubEnd:i,isScrubbing:o,setIsScrubbing:s}){let[c,d]=(0,W.useState)(!1),m=(0,W.useRef)(null),u=(0,W.useRef)(null);(0,W.useEffect)(()=>{if(o&&u.current)return document.addEventListener("pointermove",e),document.addEventListener("pointerup",n),()=>{document.removeEventListener("pointermove",e),document.removeEventListener("pointerup",n)};function e(e){if(!u.current)return;let n=e.clientX,{minX:r,maxX:i}=u.current,o=(0,C0.qk)(0,(n-r)/(i-r)*t,t);u.current.newTime=o,l(o),a(u.current.newTime)}function n(){u.current&&(a(u.current.newTime),s(!1),i(),u.current=null,document.activeElement instanceof HTMLElement&&document.activeElement.blur())}},[o,l,i,a,s,t]);let p=Math.min(e/t*100,100),_=p>0?8:0;return et.cp.safari&&n&&(p=100),W.createElement("div",{className:"rich_media_overlay--videoTimeScrubberContainer--PnJdg",onPointerEnter:()=>d(!0),onPointerLeave:()=>d(!1)},W.createElement("div",{role:"progressbar",tabIndex:0,className:"rich_media_overlay--videoTimeScrubber--9PES-",onPointerDown:e=>{if(!m.current)return;e.stopPropagation(),s(!0),r();let n=m.current.getBoundingClientRect(),l=n.x,i=n.x+n.width,o=e.clientX,c=(0,C0.qk)(0,(o-l)/(i-l)*t,t);a(c),u.current={minX:l,maxX:i,originX:e.clientX,newTime:c}}},W.createElement("div",{className:"rich_media_overlay--videoTimeScrubberBackground--6Aulh",ref:m}),W.createElement("div",{className:"rich_media_overlay--videoTimeScrubberProgress--73GkN",style:{width:`${p}%`}}),(c||o)&&W.createElement("div",{className:"rich_media_overlay--videoTimeScrubberNub--9iFdo",style:{left:`calc(${p}% - ${_}px)`},onPointerDown:t=>{if(!m.current)return;t.stopPropagation(),s(!0),r();let n=m.current.getBoundingClientRect();u.current={minX:n.x,maxX:n.x+n.width,originX:t.clientX,newTime:e}},role:"button",tabIndex:0})))}function NZ({shouldShowVideoControls:e,togglePlay:t,hasEnded:n,isPlaying:a,isMaximized:r}){let l=N$;return n?l=NJ:a&&(l=N0),W.createElement(NQ,{shouldShowVideoControls:e,ButtonIcon:l,togglePlay:t,isMaximized:r})}function NQ({ButtonIcon:e,shouldShowVideoControls:t,togglePlay:n,isMaximized:a}){let[r,l]=(0,i6.o)(),i=l?NG.BUTTON_BG_FILL_HOVER_OPACITY:NG.BUTTON_BG_FILL_OPACITY;return W.createElement("button",{ref:r,className:q()(eR.cn,"rich_media_overlay--videoButton--WB1tD",!t&&"rich_media_overlay--videoButtonHidden--7x6yl"),onPointerDown:function(){document.activeElement instanceof HTMLElement&&document.activeElement.blur(),n()}},W.createElement(e,{fillOpacityForBackground:i,isMaximized:a}))}function NJ({fillOpacityForBackground:e,isMaximized:t}){return W.createElement("svg",{className:q()(t&&NR),width:"48",height:"48",viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg"},W.createElement("path",{d:"M48 24C48 37.2548 37.2548 48 24 48C10.7452 48 0 37.2548 0 24C0 10.7452 10.7452 0 24 0C37.2548 0 48 10.7452 48 24Z",fill:NG.BUTTON_BG_FILL,fillOpacity:e}),W.createElement("path",{d:"M34 24C34 18.4772 29.7175 14 24.4348 14C20.5763 14 17.2515 16.3884 15.7391 19.8282V14H14V22.1818H21.8261V20.3636H17.4222C18.7028 17.6696 21.362 15.8182 24.4348 15.8182C28.757 15.8182 32.2609 19.4813 32.2609 24C32.2609 28.5187 28.757 32.1818 24.4348 32.1818C21.362 32.1818 18.7028 30.3304 17.4222 27.6364H15.5216C16.9131 31.3612 20.3792 34 24.4348 34C29.7175 34 34 29.5228 34 24Z",fill:NG.BUTTON_SHAPE_FILL}),W.createElement("rect",{x:"0.5",y:"0.5",width:"47",height:"47",rx:"23.5",stroke:NG.BUTTON_BG_FILL,strokeOpacity:NG.BUTTON_STROKE_OPACITY}))}function N$({fillOpacityForBackground:e,isMaximized:t}){return W.createElement("svg",{className:q()(t&&NR),width:"48",height:"48",viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg"},W.createElement("g",{clipPath:"url(#clip0_403_4259)"},W.createElement("rect",{width:"48",height:"48",rx:"24",fill:NG.BUTTON_BG_FILL,fillOpacity:e}),W.createElement("path",{d:"M19 34V14L35 24L19 34Z",fill:NG.BUTTON_SHAPE_FILL})),W.createElement("rect",{x:"0.5",y:"0.5",width:"47",height:"47",rx:"23.5",stroke:NG.BUTTON_BG_FILL,strokeOpacity:NG.BUTTON_STROKE_OPACITY}),W.createElement("defs",null,W.createElement("clipPath",{id:"clip0_403_4259"},W.createElement("rect",{width:"48",height:"48",rx:"24",fill:NG.BUTTON_BG_FILL}))))}function N0({fillOpacityForBackground:e,isMaximized:t}){return W.createElement("svg",{className:q()(t&&NR),width:"48",height:"48",viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg"},W.createElement("g",{clipPath:"url(#clip0_1_16)"},W.createElement("rect",{width:"48",height:"48",rx:"24",fill:NG.BUTTON_BG_FILL,fillOpacity:e}),W.createElement("path",{d:"M15 15H21V33H15V15Z",fill:NG.BUTTON_SHAPE_FILL}),W.createElement("path",{d:"M27 15H33V33H27V15Z",fill:NG.BUTTON_SHAPE_FILL})),W.createElement("rect",{x:"0.5",y:"0.5",width:"47",height:"47",rx:"23.5",stroke:NG.BUTTON_BG_FILL,strokeOpacity:NG.BUTTON_STROKE_OPACITY}),W.createElement("defs",null,W.createElement("clipPath",{id:"clip0_1_16"},W.createElement("rect",{width:"48",height:"48",rx:"24",fill:NG.BUTTON_BG_FILL}))))}let N1=W.memo(function(){let e=(0,Y.w1)(Nv);return e&&e.richMediaInfo&&W.createElement(N2,{key:e.richMediaInfo.mediaHash,nodeGuid:e.guid,mediaHash:e.richMediaInfo.mediaHash,mediaType:e.richMediaInfo.richMediaType})}),N2=W.memo(function(e){let{nodeGuid:t,mediaHash:n,mediaType:a}=e,r=W.useRef(null),l=W.useRef(null),i=(0,eB.OM)({subscribeToUpdates_expensive:!0}),[o,s]=W.useState(!1);return W.useEffect(()=>{var e;let n=(0,Nf.S_)("rich-media",[t],e=>{l.current=e.position,N6(r,i,l,o)});return l.current=(null==(e=n.currentNodePosition[t])?void 0:e.position)||null,N6(r,i,l,o),()=>{(0,Nf.O4)("rich-media")}},[t,i,o]),W.createElement(W.Fragment,null,W.createElement("div",{ref:r,className:q()("rich_media_overlay--richMediaOverlay--G9rnR",{"rich_media_overlay--maximizedMediaPositioner--vewL5":o})},W.createElement(eb.Ou,{fallback:W.createElement(N3,{mediaType:a,mediaHash:n}),boundaryKey:"Video"},W.createElement(W.Suspense,{fallback:W.createElement(N5,null)},"ANIMATED_IMAGE"===a&&W.createElement(N4,{mediaHash:n}),"VIDEO"===a&&W.createElement(NW,{mediaHash:n,setIsMaximized:s,isMaximized:o})))))});function N5(){return W.createElement("div",{className:q()(NL,NF)},W.createElement(l7.M7,{size:"large"}))}function N3({mediaHash:e,mediaType:t}){let n=W.createElement(ex.Tx,{id:"whiteboard.gif.failed_to_load"});return"VIDEO"===t&&(n=W.createElement(ex.Tx,{id:"whiteboard.video.failed_to_load"}),tq.mWV.isVideoBeingUploaded(e)&&(n=W.createElement(ex.Tx,{id:"whiteboard.video.still_uploading"}))),W.createElement("div",{className:q()(NL,NF)},W.createElement("div",{className:"rich_media_overlay--errorText--upGwm text--fontNeg16--JtecD text--_fontBase--QdLsd text--_negText--j9g-L"},n))}function N4({mediaHash:e}){let t=Nb.useValue(e),n=(0,rH.e6)();return W.useEffect(()=>{n("figjam_gif_started_playing")},[n]),W.createElement("img",{crossOrigin:"anonymous",style:{height:"100%",backgroundColor:"white",width:"100%"},src:t,alt:"",className:NF})}function N6(e,t,n,a){if(!e.current||!t||!n.current)return;let r=e.current;if(a)r.style.position="fixed",r.style.height="auto",r.style.width="auto",r.style.transform="none",r.style.pointerEvents="all";else{let e=n.current,a=(0,eB.C)(t,e);r.style.height=`${a.height}px`,r.style.width=`${a.width}px`,r.style.transform=`translate(${a.x+t.x}px, ${a.y+t.y}px) rotate(${e.angle}deg)`,r.style.transformOrigin="top left"}}var N8=n(546788),N9=n(935164);let N7=(0,nF.I)(n5.UV4),Se=(0,nF.I)(n5.KU9)+4;function St({stamp:e,renderChildren:t}){let n=(0,eB.OM)({subscribeToUpdates_expensive:!0}),[a,r]=(0,W.useState)(null),l=(0,bf.aQ)(),[i,o]=(0,W.useState)(n1.cL.ABOVE),[s,c]=(0,W.useState)(null),d=e.guid;(0,W.useEffect)(()=>{var e;let t=`stamp-tooltip-${d}`,n=(null==(e=(0,Nf.S_)(t,[d],e=>r(e.position)).currentNodePosition[d])?void 0:e.position)||null;return r(n),()=>{(0,Nf.O4)(t)}},[d]);let m=(0,W.useMemo)(()=>a?(0,eB.C)(n,a.absoluteBounds):null,[a,n]),u=(0,W.useMemo)(()=>m?{...m,x:m.x+n.x,y:m.y+n.y}:null,[m,n.x,n.y]),p=(0,W.useMemo)(()=>!!m&&(0,eB.GY)(m,n),[m,n]),_=(0,W.useCallback)((e,t,a)=>{let r;let i=n.y+10,o=n.y+n.height-10-l-t.height,s=n.x+10,c=n.x+n.width-10-t.width,d=n1.cL.ABOVE,m=(0,C0.qk)((0,N9.qT)(e,t),s,c);return m+N7+Se>e.x+e.width?(m=(0,C0.qk)(e.x+e.width+a,s,c),d=n1.cL.RIGHT):m+t.width-N7-Se<e.x&&(m=(0,C0.qk)(e.x-t.width-a,s,c),d=n1.cL.LEFT),d===n1.cL.LEFT||d===n1.cL.RIGHT?r=(0,N9.jf)(e,t):(r=(0,N9.Wu)(e,t,a))<i&&(r=(0,N9.g1)(e,t,a),d=n1.cL.BELOW),{pos:d,x:m,y:(0,C0.qk)(r,i,o)}},[l,n]),E=(0,W.useCallback)((e,t,n)=>_(e,t,n).x,[_]),g=(0,W.useCallback)((e,t,n)=>_(e,t,n).y,[_]),h=(0,W.useCallback)((e,t,n,a)=>{if(!u)return;let r=_(u,n,a).pos;o(r),c(a=>{let l=function({targetRect:e,tooltipRect:t,tooltipPosition:n}){let a=e.x-t.x+e.width/2,r=e.y-t.y+e.height/2,l=t.width-2*N7-Se,i=t.height-2*N7-Se;switch(n){case n1.cL.ABOVE:return{left:(0,C0.qk)(a-N7,Se,l),top:Math.floor(t.height)};case n1.cL.BELOW:return{left:(0,C0.qk)(a-N7,Se,l),top:-N7};case n1.cL.RIGHT:return{left:-N7,top:(0,C0.qk)(r-N7,Se,i)};case n1.cL.LEFT:return{left:Math.floor(t.width),top:(0,C0.qk)(r-N7,Se,i)}}}({targetRect:u,tooltipRect:{x:e,y:t,width:n.width,height:n.height},tooltipPosition:r});return a&&l.top===a.top&&l.left===a.left?a:l})},[_,u]);return u&&p?W.createElement(N9.m_,{style:{WebkitUserSelect:"none"},targetRect:u,offset:N7,positionX:E,positionY:g,onPosition:h},t({arrowPosition:s,tooltipPosition:i})):null}let Sn="stamp_overlay--userText--FdBYI ellipsis--ellipsis--Tjyfa",Sa="stamp_overlay--tRexAvatarForeground--6Qkya",Sr={[n1.cL.ABOVE]:"stamp_overlay--downArrow--VJLl5 stamp_overlay--arrow--F8-y5",[n1.cL.BELOW]:"stamp_overlay--upArrow--PCqYY stamp_overlay--arrowInset--8zLXg stamp_overlay--arrow--F8-y5",[n1.cL.RIGHT]:"stamp_overlay--leftArrow--u3dvc stamp_overlay--arrow--F8-y5",[n1.cL.LEFT]:"stamp_overlay--rightArrow--G7DIa stamp_overlay--arrow--F8-y5"},Sl={[n1.cL.ABOVE]:"stamp_overlay--animationUp--Pq4mv stamp_overlay--animationBase--a-FJI",[n1.cL.BELOW]:"stamp_overlay--animationDown--mBXfv stamp_overlay--animationBase--a-FJI",[n1.cL.RIGHT]:"stamp_overlay--animationRight--2KY5g stamp_overlay--animationBase--a-FJI",[n1.cL.LEFT]:"stamp_overlay--animationLeft--daYLK stamp_overlay--animationBase--a-FJI"};function Si(e){let t=e.mirror.sceneGraph,n=Object.keys(e.mirror.sceneGraphSelection);if(1!==n.length)return null;let a=t.get(n[0]);return a&&"STAMP"===a.type?a:null}function So(e){let t=e.mirror.sceneGraph.get(e.mirror.appModel.hoveredNode);return t&&"STAMP"===t.type?t.guid:null}function Ss({shouldShowAvatar:e,avatarEntity:t,text:n}){return W.createElement(W.Fragment,null,e&&W.createElement(ou.UP,{size:16,entity:t}),W.createElement("div",{className:Sn},n))}function Sc({size:e}){return W.createElement("svg",{width:e,height:e,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},W.createElement("g",{clipPath:"url(#clip0_1941_43995)"},W.createElement("rect",{className:"stamp_overlay--tRexAvatarBackground--tprTe",width:"16",height:"16"}),W.createElement("path",{className:Sa,d:"M3 9.90476V8H9V9.42857V10.8571V13C9 15.2091 7.20914 17 5 17H0L-0.71875 11.7143L3 9.90476Z"}),W.createElement("path",{className:Sa,fillRule:"evenodd",clipRule:"evenodd",d:"M4.81038 2.08926C3.50282 2.45482 3 3.93364 3 5.29134V8C3 8.55228 3.44771 9 4 9H13C13.5523 9 14 8.55228 14 8V6.16667C14 4.50981 12.6569 3.16667 11 3.16667H8.24357C7.98467 3.16667 7.73678 3.06531 7.53359 2.90486C7.09796 2.56089 6.25898 2 5.42 2C5.21483 2 5.00965 2.03354 4.81038 2.08926ZM5.75 5.5C6.16421 5.5 6.5 5.16421 6.5 4.75C6.5 4.33579 6.16421 4 5.75 4C5.33579 4 5 4.33579 5 4.75C5 5.16421 5.33579 5.5 5.75 5.5Z"}),W.createElement("path",{className:Sa,d:"M11.8504 13.8881C10.8861 14.05 10.9477 12.5057 9.64966 12.5057C8.35158 12.5057 7.14966 13.3116 7.14966 12.1587C7.14966 11.0057 8.35155 11 9.64962 11C11.5299 11 12.8147 13.7262 11.8504 13.8881Z"})),W.createElement("defs",null,W.createElement("clipPath",{id:"clip0_1941_43995"},W.createElement("circle",{r:"8",cx:"8",cy:"8",fill:"black"}))))}function Sd({stamp:e,shouldAnimate:t,testId:n}){var a,r;let l=(null==(a=e.stampData)?void 0:a.stampedByUserId)||null,i=(null==(r=e.stampData)?void 0:r.userId)||null,{user:o,loading:s}=(0,p$.eA)(l),{user:c,loading:d}=(0,p$.eA)(i),m=(0,Y.w1)(e=>{var t,n;return null==(n=null==(t=e.openFile)?void 0:t.org)?void 0:n.name}),u=(()=>{var t;let n=!e.isFaceStamp,a=!!(null==(t=e.stampData)?void 0:t.votingSessionId);if(l&&s||i&&d)return W.createElement(W.Fragment,null,n&&W.createElement("div",{className:"stamp_overlay--loadingAvatar--DkN-J stamp_overlay--loadingBase--2UAyM"}),W.createElement("div",{className:"stamp_overlay--loadingUserText--845yi stamp_overlay--loadingBase--2UAyM"}));if(o){let e=o.handle;return W.createElement(Ss,{shouldShowAvatar:n,avatarEntity:o,text:a?W.createElement(ex.Tx,{id:"voting.stamp_tooltip.vote",userName:e}):i&&l!==i?W.createElement("div",{className:"stamp_overlay--faceStampTooltipText--bMf1l"},null==c?void 0:c.handle," ",W.createElement("br",null),W.createElement("p",{className:"stamp_overlay--stampedByText--fK8AK"},W.createElement(ex.Tx,{id:"whiteboard.stamp.stamped_by_tooltip",userName:e}))):e})}if(c){let e=c.handle;return W.createElement(Ss,{shouldShowAvatar:n,avatarEntity:c,text:a?W.createElement(ex.Tx,{id:"voting.stamp_tooltip.vote",userName:e}):e})}if(i&&(0,p$.sz)(i)||l&&(0,p$.sz)(l)){let e=a?W.createElement(ex.Tx,{id:"voting.stamp_tooltip.visitor_vote"}):m?W.createElement(ex.Tx,{id:"voting.stamp_tooltip.visitor_with_org",orgName:m}):W.createElement(ex.Tx,{id:"voting.stamp_tooltip.visitor_without_org"});return W.createElement(Ss,{shouldShowAvatar:n,avatarEntity:{id:l||i||void 0},text:e})}return l||i?W.createElement(Ss,{shouldShowAvatar:n,avatarEntity:{},text:W.createElement(ex.Tx,{id:"voting.stamp_tooltip.unavailable"})}):W.createElement(W.Fragment,null,W.createElement(Sc,{size:16}),W.createElement("div",{className:Sn},W.createElement(ex.Tx,{id:"voting.stamp_tooltip.old_stamp"})))})();return W.createElement(St,{stamp:e,renderChildren:({tooltipPosition:e,arrowPosition:a})=>W.createElement("div",{className:t?Sl[e]:""},W.createElement("div",{className:"stamp_overlay--tooltip---xJx5 text--fontNeg11--StdFq text--_fontBase--QdLsd text--_negText--j9g-L","data-testid":n},u),a&&W.createElement("div",{className:Sr[e],style:a}))})}let Sm=W.memo(function(){let e=(0,Y.w1)(Si);return W.createElement(W.Fragment,null,e&&W.createElement(Sd,{stamp:e,shouldAnimate:!0,key:e.guid,testId:"selected-stamp-tooltip"}))}),Su=W.memo(function(){var e;let t=(0,Y.w1)(So),[n,a]=(0,W.useState)(null),[r,l]=(0,W.useState)(!0),i=(0,Y.w1)(e=>n?e.mirror.sceneGraph.get(n):null),o=(0,Y.w1)(Si),s=(0,N8.Ep)();return((0,W.useEffect)(()=>{let e=!!n;if(t!==n&&(t||n)){if(t&&e){l(!1),a(t);return}if(t&&!e){let e=setTimeout(()=>{a(t)},100);return()=>clearTimeout(e)}if(!t&&e){let e=setTimeout(()=>{a(null),l(!0)},300);return()=>clearTimeout(e)}}},[t,n]),(null==o?void 0:o.isFaceStamp)&&!(null==(e=null==o?void 0:o.stampData)?void 0:e.votingSessionId)&&s)?null:W.createElement(W.Fragment,null,i&&W.createElement(Sd,{stamp:i,key:i.guid,testId:"hovered-stamp-tooltip",shouldAnimate:r}))}),Sp=W.memo(function(){return(0,et.wR)()?W.createElement(Su,null):W.createElement(Sm,null)});var S_=n(814508),SE=n(478180),Sg=n(814104),Sh=n(143152),Sf=n(423944),Sv=n(425652),Sy=n(915668),SC=n(702400),Sw=n(793944),Sb=n(287164),ST=n(72708),Sx=n(75796);let Sk="browse_modal_empty_search_result--emptyStateText---rbwv ellipsis--ellipsis--Tjyfa text--fontPos13--xW8hS text--_fontBase--QdLsd",SN="browse_modal_empty_search_result--emptyStateStrongText--fyWIi",SS="browse_modal_empty_search_result--communityLink--5KNv4 text--fontPos13--xW8hS text--_fontBase--QdLsd";function SI(e){let{defaultDisplayStringResourceType:t,query:n,cta:a,orgNameIfAllowlistEnforced:r}=e;return W.createElement("div",{className:"browse_modal_empty_search_result--emptyState--XyC30 tiles_view--emptyState--lR8Xc text--fontPos11--2LvXf text--_fontBase--QdLsd"},e.illustration&&W.createElement(eN.A,{className:"browse_modal_empty_search_result--emptyStateIllustrations--M9hN-",svg:e.illustration,useOriginalSrcFills_DEPRECATED:!0}),W.createElement("div",{className:"browse_modal_empty_search_result--emptyStateTextWrapper--7z4U6"},r?W.createElement("span",{className:"browse_modal_empty_search_result--emptyStateText2Lines--xoqUp ellipsis--ellipsisAfter2Lines--Qo-Xh ellipsis--_ellipsisAfterNLines--LzI7k text--fontPos13--xW8hS text--_fontBase--QdLsd"},W.createElement(ex.Tx,{id:"whiteboard.inserts.couldn_t_find_resource_in_org_allowlist",orgName:r,searchQuery:W.createElement("span",{className:SN},n)})):W.createElement("span",{className:Sk},t?W.createElement(ex.Tx,{id:"whiteboard.inserts.couldn_t_find_default_display_string_resource_type_for",resourceType:t,searchQuery:W.createElement("span",{className:SN},n)}):W.createElement(ex.Tx,{id:"whiteboard.inserts.custom_display_string_search_result",searchQuery:W.createElement("span",{className:SN},n)}))),a&&W.createElement("div",null,a))}function SA(e){let t=(0,id.k1)();return(null==t?void 0:t.shouldOptimizeForIpadApp)||(0,$.Ub)().cmty_m10n_test_apple_os?null:W.createElement(W.Fragment,null,e.resourceType&&e.resourceType===l0.K2.HUB_FILE?W.createElement("span",{className:Sk},W.createElement(ex.Tx,{id:"whiteboard.inserts.if_you_re_still_looking_there_s_much_more_to_see_in_the",link:W.createElement("a",{className:SS,href:e.url,target:"_blank"},W.createElement(ex.Tx,{id:"whiteboard.inserts.if_you_re_still_looking_there_s_much_more_to_see_in_the_community"}))})):W.createElement("a",{className:SS,href:e.url,target:"_blank"},W.createElement(ex.Tx,{id:"whiteboard.inserts.see_more_from_community"})))}var SO=n(836124),SM=n(550464),SP=n(480232);let SL="browse_library_items_container--browseLibraryItemsContainer--Keunc";function SD(e){return W.createElement("div",{className:Object.keys(e.items).length>5?"browse_library_items_container--container--FpYi3":"browse_library_items_container--smallContainer--3V6cZ"},Object.keys(e.items).sort().map(t=>W.createElement(SR,{items:e.items[t],layoutOverride:e.layoutOverride,key:t,showContextMenu:e.showContextMenu})))}function SR(e){let{height:t,width:n,gridClassName:a}=SF(e.layoutOverride||(0,Sx.kr)(e.items)),r=(0,og.M)(),{currentTab:l}=(0,SP.ai)(),i=(0,Y.OY)();return W.createElement("div",{className:`${a} ${SL}`},e.items.map((a,o)=>W.createElement(SM.ug,{key:o,item:a,height:t,width:n,showName:!1,shouldHideDescription:!0,shouldShowShadowOnHover:!0,isFigJam:!0,noBackground:!0,isSearch:!1,itemPadding:8,draggable:{sourceForTracking:(0,SC.k)(l),afterSuccessfulInsert:r,clickToInsert:!0},onContextMenu:t=>{e.showContextMenu&&(t.preventDefault(),i(lZ.Qn({type:SK,data:{fileKey:a.file_key,position:{top:t.clientY,left:t.clientX}}})))}})),W.createElement(SG,null))}let SF=e=>{switch(e){case Sx.mS.SMALL:return{height:60,width:60,gridClassName:"browse_library_items_container--gridContainerSmall--bE7eB"};case Sx.mS.NORMAL:return{height:73,width:73,gridClassName:"browse_library_items_container--gridContainerNormal---Y3Kz"};case Sx.mS.WIDE:return{width:432,gridClassName:"browse_library_items_container--gridContainerWide--huzZQ"};default:(0,cL.gy)(e)}},SB=lV.g.Dropdown,SU=lV.g.Option,SK="FIGJAM_LIBRARY_ITEM_DROPDOWN_KEY";function SG(){var e,t,n;let a=(0,rp.g)(),r=null==(t=(0,SO.Ok)(null==(e=null==a?void 0:a.data)?void 0:e.fileKey))?void 0:t.data,l=(0,SP.ai)().setSelectedCategory,i=(0,Y.OY)();return(null==a?void 0:a.type)===SK&&r?W.createElement(SB,{style:a_.sx.add(null==(n=null==a?void 0:a.data)?void 0:n.position).add(a_.sx.fixed).$},W.createElement(SU,{onClick:()=>{i(lZ.yi()),l({id:a.data.fileKey,title:r.name,resourceType:SC.C.STICKERS_AND_COMPONENTS})}},W.createElement(ex.Tx,{id:"whiteboard.inserts.view_stickers_in_this_set"}))):null}var SH=n(664004),SV=n(23124);function SW(e){var t;let n=(null==(t=(0,SO.Ok)(e.fileKey).data)?void 0:t.name)||"",a=()=>e.onClick(n),r=(0,Sx.kr)(e.items),l=SY(r),{height:i,width:o}=l,s=r===Sx.mS.WIDE?2:8,c=(0,og.M)();return W.createElement("div",{className:"library_items_compact_view--librariesTwoColumnsItemPadding--Wl9Nv"},W.createElement("button",{onClick:a,className:l.gridClassName},e.items.slice(0,s).map((e,t)=>W.createElement(SM.ug,{key:t,item:e,height:i,width:o,showName:!1,shouldHideDescription:!0,shouldShowShadowOnHover:!0,isFigJam:!0,noBackground:!0,isSearch:!1,onItemClick:a,draggable:{sourceForTracking:"universal-insert-figjam-stickers-compact-view",afterSuccessfulInsert:c,clickToInsert:!1}}))),W.createElement("button",{onClick:a,className:"library_items_compact_view--libraryTitle--wIVmD ellipsis--ellipsis--Tjyfa text--fontPos13--xW8hS text--_fontBase--QdLsd"},n))}let SY=e=>{switch(e){case Sx.mS.SMALL:case Sx.mS.NORMAL:return{height:40,width:40,gridClassName:"library_items_compact_view--browseLibraryItemsContainer--pNmFL"};case Sx.mS.WIDE:return{width:184,height:40,gridClassName:"library_items_compact_view--wideGrid--XbpRp library_items_compact_view--browseLibraryItemsContainer--pNmFL"};default:(0,cL.gy)(e)}};var Sj=n(348580);let SX="loading_states--title--TC60j loading_states--greyBase--bbKGM",Sz="loading_states--firstTitle--QfkUE loading_states--title--TC60j loading_states--greyBase--bbKGM",Sq="loading_states--titleLighter--mwtNY loading_states--title--TC60j loading_states--greyBase--bbKGM",SZ="loading_states--titleLightest--BQ32t loading_states--title--TC60j loading_states--greyBase--bbKGM",SQ="loading_states--largeCard--XHghX",SJ="loading_states--container--YyIRL",S$="loading_states--largeCardAndTextContainer--J-GCt",S0="loading_states--titleAndDescriptionContainer--Lopl5",S1="loading_states--sticker--4XK0K loading_states--greyBase--bbKGM",S2="loading_states--pluginTile--ONKW2",S5="loading_states--pluginIcon--Tx1hy loading_states--greyBase--bbKGM";function S3(){return W.createElement(W.Fragment,null,W.createElement("div",{className:Sz}),W.createElement("div",{className:SJ},W.createElement(S7,{shouldFade:!1}),W.createElement(S7,{shouldFade:!1}),W.createElement(S7,{shouldFade:!0})))}function S4(){return W.createElement(W.Fragment,null,W.createElement("div",{className:Sz}),W.createElement("div",{className:"loading_states--pluginTileContainer--JRZGS"},W.createElement("div",{className:S2},W.createElement("div",{className:S5}),W.createElement(It,null)),W.createElement("div",{className:S2},W.createElement("div",{className:S5}),W.createElement(It,null)),W.createElement("div",{className:S2},W.createElement("div",{className:S5}),W.createElement(It,null)),W.createElement("div",{className:S2},W.createElement("div",{className:"loading_states--pluginIconLighter--k7tqf loading_states--pluginIcon--Tx1hy loading_states--greyBase--bbKGM"}),W.createElement(It,null)),W.createElement("div",{className:S2},W.createElement("div",{className:"loading_states--pluginIconLightest--axJAz loading_states--pluginIcon--Tx1hy loading_states--greyBase--bbKGM"}),W.createElement(In,null))))}function S6(){return W.createElement(W.Fragment,null,W.createElement("div",{className:Sz}),W.createElement(S9,null),W.createElement("div",{className:"loading_states--stickerTitle--YEosJ loading_states--firstTitle--QfkUE loading_states--title--TC60j loading_states--greyBase--bbKGM"}),W.createElement("div",{className:SJ},W.createElement(S7,{shouldFade:!0})))}function S8(){return W.createElement("div",{className:"loading_states--flexContainer--t0XH4"},W.createElement(Ie,null),W.createElement(S9,null),W.createElement("div",{className:"loading_states--divider--MY-EG"}),W.createElement(Ie,null),W.createElement("div",{className:SJ},W.createElement(S7,{shouldFade:!0})))}function S9(){return W.createElement("div",{className:"loading_states--stickerGrid--Wv-o1"},W.createElement("div",{className:S1}),W.createElement("div",{className:S1}),W.createElement("div",{className:S1}),W.createElement("div",{className:S1}),W.createElement("div",{className:S1}),W.createElement("div",{className:S1}),W.createElement("div",{className:S1}),W.createElement("div",{className:S1}),W.createElement("div",{className:S1}),W.createElement("div",{className:S1}))}function S7(e){return W.createElement("div",{className:"loading_states--rowContainer--oHoUG"},W.createElement("div",{className:S$},W.createElement("div",{className:e.shouldFade?"loading_states--largeCardLighter--67tCH loading_states--largeCard--XHghX":SQ}),W.createElement("div",{className:e.shouldFade?Sq:SX})),W.createElement("div",{className:S$},W.createElement("div",{className:e.shouldFade?"loading_states--largeCardLightest--P-6Nd loading_states--largeCard--XHghX":SQ}),W.createElement("div",{className:e.shouldFade?SZ:SX})))}function Ie(){return W.createElement("div",{className:"loading_states--titleAndDescriptionContainerWithMargin--sUBNg loading_states--titleAndDescriptionContainer--Lopl5"},W.createElement("div",{className:SX}),W.createElement("div",{className:"loading_states--description--dilCZ loading_states--title--TC60j loading_states--greyBase--bbKGM"}))}function It(){return W.createElement("div",{className:S0},W.createElement("div",{className:Sq}),W.createElement("div",{className:"loading_states--descriptionLighter--on5VU loading_states--description--dilCZ loading_states--title--TC60j loading_states--greyBase--bbKGM"}))}function In(){return W.createElement("div",{className:S0},W.createElement("div",{className:SZ}),W.createElement("div",{className:"loading_states--descriptionLightest--7XQdm loading_states--description--dilCZ loading_states--title--TC60j loading_states--greyBase--bbKGM"}))}let Ia="libraries_tab--sectionTitle--PDAa- ellipsis--ellipsis--Tjyfa text--fontPos13--xW8hS text--_fontBase--QdLsd",Ir="libraries_tab--libraryPadding--Dwvws";var Il=n(54180);function Ii({query:e}){let{openFile:t,fileVersion:n,loadingState:a,library:r}=(0,el.q)(e=>({openFile:e.openFile,fileVersion:e.fileVersion,loadingState:e.loadingState,library:e.library})),{assetsPanelSearch:l}=r,{productComponents:i}=(0,tQ._m)(Sw.Sy.FigJam),o=(0,SP.Ge)(i,"components",(e,t)=>!t.some(t=>t.id===e.id),10),s=(0,np.y_)(to._A),c=(0,SP.iu)(o,[!s,(0,np.IT)(Sh.mA)]),d=(0,SP.ai)().setSelectedCategory,m=!t||!n||!(0,np.kr)(a,(0,Ew.AL)(t.key)),u=(0,SP.YZ)(),{onToggleLibraryModal:p}=(0,SH.C)({entrypoint:SV.Yj.FIGJAM_BROWSE,modalType:"figjam"}),_=W.useMemo(()=>(0,ns.yY)(l.normalizedSearchResults),[l.normalizedSearchResults]);return l.query&&e?l.isLoading?W.createElement(S6,null):W.createElement(tg.kH,{name:"stickers",properties:{query:e,resourceType:ST.i.STICKERS_AND_COMPONENTS}},0===_.length?W.createElement(SI,{illustration:Il.c,defaultDisplayStringResourceType:"stickers or components",query:e}):W.createElement("div",{className:Ir},W.createElement(SD,{items:{"":_},showContextMenu:!0,layoutOverride:l.query?Sx.mS.NORMAL:void 0}))):W.createElement(tg.kH,{name:"stickers"},(m||s)&&W.createElement(S6,null),!m&&!l.query&&W.createElement(Sj.U,{dismissable:!0,buttonText:"Update",formatBannerText:e=>`${e} component ${(0,E5.aW)(e,"update")}`}),W.createElement("div",{className:Ia},W.createElement(ex.Tx,{id:"whiteboard.inserts.recents"})),W.createElement(SD,{items:{"":c},showContextMenu:!0,layoutOverride:Sx.mS.NORMAL}),W.createElement("div",{className:Ia},W.createElement(ex.Tx,{id:"whiteboard.inserts.libraries"})),W.createElement("div",{className:"libraries_tab--librariesTwoColumns--dSOU-"},(!l.query||!e)&&(0,$.cp)().user_data&&W.createElement("div",{className:"libraries_tab--librariesTwoColumnsItemPadding--YeBjB"},W.createElement("button",{className:"libraries_tab--toggleLibraryModalContainer--lup1l text--fontPos13--xW8hS text--_fontBase--QdLsd",onClick:p,"data-onboarding-key":mz.C},W.createElement(eN.A,{svg:l4.c}),W.createElement("span",null,W.createElement(ex.Tx,{id:"whiteboard.inserts.add_your_own"})))),Object.keys(u.fileKeyToSubscribedItems).map(e=>W.createElement(SW,{key:e,fileKey:e,items:function(e){let t=[],n=Ic(e);return Object.keys(n).sort().forEach(e=>{t.push(...n[e])}),t}(u.fileKeyToSubscribedItems[e]),onClick:t=>{d({id:e,title:t,resourceType:SC.C.STICKERS_AND_COMPONENTS})}}))))}function Io(e){let t=(0,SP.YZ)();return t.fileKeyToSubscribedItems[e.selectedLibrary.id]?W.createElement(tg.kH,{name:"detail",properties:{resourceId:e.selectedLibrary.id,resourceType:ST.i.STICKERS_AND_COMPONENTS}},W.createElement("div",{className:Ir},W.createElement(SD,{items:Ic(t.fileKeyToSubscribedItems[e.selectedLibrary.id]),showContextMenu:!1}))):null}function Is(){let e=(0,Y.OY)(),{openFile:t,fileVersion:n,loadingState:a}=(0,el.q)(e=>({openFile:e.openFile,fileVersion:e.fileVersion,loadingState:e.loadingState})),r=t&&n&&(0,np.ER)(a,(0,Ew.AL)(t.key));W.useEffect(()=>{r&&e(iG.Ul({}))},[e,r]);let{productComponents:l}=(0,tQ._m)(Sw.Sy.FigJam),i=(0,SP.Ge)(l,"components",(e,t)=>!t.some(t=>t.id===e.id),10),o=(0,SP.iu)(i,[(0,np.IT)(to._A),(0,np.IT)(Sh.mA)]);return W.createElement(SD,{items:{"":o},showContextMenu:!0,layoutOverride:Sx.mS.NORMAL})}function Ic(e){let t={};return(0,l8.E1)(e,"name",{useExpensiveNaturalComparison:e.length<l8.Wm}),e.forEach(e=>{var n;let a=(null==(n=e.containing_frame)?void 0:n.name)||"";t[a]||(t[a]=[]),t[a].push(e)}),t}var Id=n(422080),Im=n(434268),Iu=n(924464),Ip=n(535816);let I_="figjam_detail_in_editor_top_bar--backButton--Q5crN",IE="figjam_detail_in_editor_top_bar--ctaButton--hKCbt",Ig="figjam_detail_in_editor_top_bar--chevronContainerWhite--EZcGk",Ih="figjam_detail_in_editor_top_bar--topBar--x9sDw",If="figjam_detail_in_editor_top_bar--left--K0x8U",Iv="figjam_detail_in_editor_top_bar--right--jXKNf",Iy="figjam_detail_in_editor_top_bar--pluginMetadataContainer--I39tz",IC="figjam_detail_in_editor_top_bar--pluginTileNameContainer--11U-p",Iw="figjam_detail_in_editor_top_bar--pluginTileName--jini0 text--fontPos13--xW8hS text--_fontBase--QdLsd ellipsis--ellipsis--Tjyfa",Ib="figjam_detail_in_editor_top_bar--pluginTilePublishers--9MpEZ text--fontPos11--2LvXf text--_fontBase--QdLsd ellipsis--ellipsis--Tjyfa",IT="figjam_detail_in_editor_top_bar--searchCloseButton--Oz51w browse_modal_container--searchCloseButton--WHSfL";var Ix=n(284548);function Ik(e){let t=(0,Y.OY)(),n=W.useRef(null),a=(0,rp.g)(),r="whiteboard"===(0,tw.CM)(),l=(0,Ip.kR)(),i=(0,SP.ai)().currentTab,o=(0,SP.ai)().searchQuery,s=(0,SC.k)(i),c=(0,xE.qO)(e.pluginId,s),d=(0,xE.Ou)(e.pluginId,s),m=(0,xE.Oy)(e.pluginId),u=(0,xE.gb)(e.pluginId,c,d).length>0,p=u&&(null==a?void 0:a.type)===eR.uA,_=(0,og.M)(),{validatePublishedPluginInOrgAllowlist:E,isPluginBlockedByAllowlist:g}=(0,tf.Ir)(e.pluginId),h=W.useCallback(a=>{var i;if(a.stopPropagation(),E()){if(r&&(0,Ip.S4)({id:e.pluginId,type:ST.i.PLUGINS,source:s,options:{...l,query:o}}),u){p?t(lZ.yi()):t(lZ.Qn({type:eR.uA,data:{pluginId:e.pluginId,view:e.view,target:null==(i=n.current)?void 0:i.getBoundingClientRect(),triggeredFrom:s}}));return}m?c():d(),_()}},[E,r,u,_,e.pluginId,e.view,s,l,o,p,t,m,c,d]),{buttonCta:f,isNotInHeader:v}=e,y=(0,Y.w1)(e=>(0,vz.Wm)(e.selectedView)&&!e.user),[C,w]=W.useState(y);W.useEffect(()=>{w(y)},[y]);let b=v?eT.gV:eT.wX,T=y?void 0:h;return W.createElement("div",{ref:n,"data-not-draggable":!0,"data-testid":"run-cta-button"},W.createElement(b,{onClick:et.cp.isIpad?void 0:T,onPointerDown:et.cp.isIpad?T:void 0,className:y||g?"figjam_detail_in_editor_top_bar--disabledButton--F9yLz basic_form--primaryBtn--AU7Gy basic_form--btn--FSrmp ellipsis--ellipsis--Tjyfa text--fontPos11--2LvXf text--_fontBase--QdLsd figjam_detail_in_editor_top_bar--ctaButton--hKCbt":IE},f,u&&W.createElement(eN.A,{svg:Ix.c,className:v||y?Ig:"figjam_detail_in_editor_top_bar--chevronContainerBlack--YvD9R"})))}var IN=n(584048),IS=n(750600),II=n(279484);let IA="browse_plugins_universal_modal_tiles--savedPluginTile--pLNFr browse_plugins_universal_modal_tiles--browsePluginTile--99ESx",IO="browse_plugins_universal_modal_tiles--pluginTileIcon--C0pTJ",IM="browse_plugins_universal_modal_tiles--browsePluginTileRightSide--u74qu",IP="browse_plugins_universal_modal_tiles--savedPluginTileLeftSide--nqHJe browse_plugins_universal_modal_tiles--browsePluginTileRightSide--u74qu",IL="browse_plugins_universal_modal_tiles--pluginTileDescription--gno7V text--fontPos11--2LvXf text--_fontBase--QdLsd ellipsis--ellipsis--Tjyfa",ID="browse_plugins_universal_modal_tiles--showOnPluginTileHover--qnFcH";var IR=n(636184),IF=n(511356);let IB=(0,l$.A)(),IU=W.forwardRef((e,t)=>{let n=(0,Y.OY)(),{localFileId:a,view:r}=e,l=(0,SP.ai)().setPreviewResource,i=(0,tf.yG)(),o=a?i[a]:null,s=(0,tf.Sw)(),c=o?o.plugin_id:e.publishedPlugin.id,d=e.publishedPlugin??s.find(e=>e.id===c),m=null==d?void 0:d.versions[d.current_plugin_version_id],u=!!m,p=W.useRef(null),_=(0,rp.g)(),E=(null==_?void 0:_.type)===oy.MN&&_.data.localFileId===a&&_.data.pluginId===c&&_.data.view===r&&_.data.targetRect,{currentTab:g,searchQuery:h}=(0,SP.ai)(),{dragState:f,onInsertableResourcePointerDown:v}=(0,Iu.O)({clickToInsert:!1,afterSuccessfulInsert:(0,og.M)(),triggeredFrom:(0,SC.k)(g),resource:o??m,searchQuery:h});if(!o&&!d)return null;let y=()=>{a&&IB.openExtensionDirectory(a)};return W.createElement(W.Fragment,null,W.createElement("div",{className:IA,onPointerDown:v,role:"button",tabIndex:0,ref:t},W.createElement("div",{role:"button",tabIndex:0,className:IP,onClick:()=>u?l({id:m.plugin_id,type:SC.C.PLUGINS}):y()},W.createElement("div",{className:IO},u&&m?W.createElement(lL.W,{plugin:m,loading:"lazy",alt:""}):W.createElement(eN.A,{svg:IF.c})),W.createElement("div",{className:IM},W.createElement("div",{className:"browse_plugins_universal_modal_tiles--developmentPluginPrimaryText--25RR9"},W.createElement("span",{className:"browse_plugins_universal_modal_tiles--developmentPluginName--f75Vj browse_plugins_universal_modal_tiles--pluginTileName--z1OSk text--fontPos13--xW8hS text--_fontBase--QdLsd ellipsis--ellipsis--Tjyfa"},m?m.name:o.name),d&&l3.QT.PluginManagementTitleBadge(d)),W.createElement(IN.c,{localResource:o,publishedResource:d}))),W.createElement("div",{className:"browse_plugins_universal_modal_tiles--developmentTileRightSide----HW6"},W.createElement(av.wP,{svg:gL.c,ref:p,onClick:e=>{let t=e.currentTarget.getBoundingClientRect();n(lZ.Qn({type:oy.MN,data:{localFileId:a,pluginId:c,view:r,targetRect:t}}))},className:q()(ID,{"browse_plugins_universal_modal_tiles--iconButtonSelected--pR6Ki browse_plugins_universal_modal_tiles--iconButton--8Dk-i raw_components--iconButtonEnabled--WmVk5 raw_components--_iconButton---ybo6":E,"browse_plugins_universal_modal_tiles--iconButton--8Dk-i raw_components--iconButtonEnabled--WmVk5 raw_components--_iconButton---ybo6":!E}),"data-tooltip-type":n1.wL.TEXT,"data-tooltip":(0,ex.t)("whiteboard.inserts.plugin_development_options_tooltip")}),E&&W.createElement(oy.MR,{localResource:o??void 0,publishedResource:o?void 0:d,viewResource:()=>l({id:c,type:SC.C.PLUGINS})}),W.createElement(Ik,{pluginId:c,buttonCta:(0,ex.t)("whiteboard.inserts.plugin_run_cta"),isNotInHeader:!1,view:r}))),W.createElement(Im.A,{dragState:f}))});function IK(e){let t=(0,i$.CI)(e.pluginId),n=(0,tf.qK)().plugins[e.pluginId],a=W.useMemo(()=>n||e.pluginVersion||(0,iA.Yl)(t)||iA.MI,[n,t,e.pluginVersion]);return W.createElement(IG,{pluginId:e.pluginId,pluginVersion:a,view:e.view,showLockIcon:e.showLockIcon,plugin:t})}let IG=W.memo(function(e){let{plugin:t,pluginVersion:n}=e,{isSavedForUser:a}=(0,II.kd)(e.pluginId,l0.y4.PLUGIN),r=(0,SP.ai)().setPreviewResource,l=(0,og.M)(),{currentTab:i,searchQuery:o}=(0,SP.ai)(),s=(0,i$.iI)(t),c=(0,i$.OY)(t),d=(0,rY.Ce)(),m=(0,tf.u_)(),u=(0,oc.Gm)({org:d,extension:t,allowlistedExtensions:m}),{dragState:p,onInsertableResourcePointerDown:_}=(0,Iu.O)({clickToInsert:!1,afterSuccessfulInsert:l,triggeredFrom:(0,SC.k)(i),resource:n,searchQuery:o,showRequestFlow:u}),E=(0,tf.qW)(n.plugin_id)&&e.view===ST.i.PLUGINS,g=(0,id.k1)(),h=(0,iq.KC)({resource:t,height:"16",validBadges:[iq.iE.FREEMUM,iq.iE.OFF_PLATFORM,iq.iE.PURCHASED]});if(n===iA.MI||(0,l0.OG)(t)&&((null==g?void 0:g.shouldOptimizeForIpadApp)||(0,$.Ub)().cmty_m10n_test_apple_os))return null;let f=E?W.createElement(IS.u2,{resource:t}):s?W.createElement(IH,{plugin:t}):c?W.createElement(oE.Oi,null,W.createElement(ex.Tx,{id:"community.buyer.update"})):u?W.createElement("div",{style:a_.sx.add({width:"80px"}).$},W.createElement(oT,{version:n,isPlugin:!0,variant:ob.FigJamPluginTile})):W.createElement(Ik,{pluginId:e.pluginId,buttonCta:(0,ex.t)("whiteboard.inserts.plugin_run_cta"),isNotInHeader:!1,view:e.view}),v=(0,im.WW)(t)||(0,im.uy)(n),y=E?W.createElement(IS.oP,{resource:t}):W.createElement(W.Fragment,null,W.createElement("div",{className:"browse_plugins_universal_modal_tiles--pluginTileHeader--gYj6D"},W.createElement("div",{className:"browse_plugins_universal_modal_tiles--pluginTitle--aUkOj resource_tiles--pluginTitle--dP-tg"},W.createElement("span",{className:"browse_plugins_universal_modal_tiles--pluginTileName--z1OSk text--fontPos13--xW8hS text--_fontBase--QdLsd ellipsis--ellipsis--Tjyfa"},n.name),h&&W.createElement("div",{className:"browse_plugins_universal_modal_tiles--pluginTitleBadgeContainer--SQKss resource_tiles--pluginTitleBadgeContainer--Q-9cz"},h),c&&W.createElement("div",{className:"browse_plugins_universal_modal_tiles--browsePluginTilePaymentError--A0pCZ"},W.createElement(oE.SM,null)),e.showLockIcon&&W.createElement(eN.A,{svg:IR.c}))),W.createElement("div",{className:q()(IL,"browse_plugins_universal_modal_tiles--pluginTileDescriptionPadding--qGAaH")},(0,oo.AX)(n,Id.PV)),v&&W.createElement("div",{className:IL},v));return W.createElement(W.Fragment,null,W.createElement("div",{className:IA,onPointerDown:_,role:"button",tabIndex:0,"data-testid":`figjam-plugin-tile-${e.pluginId}`},W.createElement("div",{className:IP,onClick:()=>r({id:n.plugin_id,type:SC.C.PLUGINS}),role:"button",tabIndex:0},W.createElement("div",{className:"browse_plugins_universal_modal_tiles--relativeContainer--yRMHl"},E&&W.createElement("div",{className:"browse_plugins_universal_modal_tiles--redDot--rXNiG red_dot--baseRedDot--AZelu"}),W.createElement("div",{className:IO},W.createElement(lL.W,{plugin:n,loading:"lazy",alt:"",draggable:!1}))),W.createElement("div",{className:IM},y)),W.createElement("div",{className:q()([ap.cx.flex.itemsCenter.mr8.$,ap.cx.if(a,ap.cx.visible).$],{[ID]:!a})},W.createElement(oh.W$,{resourceId:e.pluginId,resourceType:l0.y4.PLUGIN,parentView:oh.UF.FIGJAM_PLUGIN_ROW})),W.createElement("div",null,f)),W.createElement(Im.A,{dragState:p}))});function IH(e){let t=(0,SP.ai)().setPreviewResource,n=(0,i$.ii)(e.plugin);return(0,l0.OG)(e.plugin)?W.createElement("div",{className:"browse_plugins_universal_modal_tiles--priceBadgeContainer--Sf172",onClick:()=>t({id:e.plugin.id,type:SC.C.PLUGINS}),role:"button",tabIndex:0,"data-not-draggable":!0},W.createElement("div",{className:"browse_plugins_universal_modal_tiles--priceBadge--L2Q5M ellipsis--ellipsis--Tjyfa"},(0,oi.SO)(e.plugin.monetized_resource_metadata)),(0,iQ.gX)({resource:e.plugin,payment:n})&&W.createElement(iQ.wt,{metadata:e.plugin.monetized_resource_metadata,condensed:!0})):null}var IV=n(432380),IW=n(243064),IY=n(743312),Ij=n(56958),IX=n(605936),Iz=n(621832),Iq=n(730400),IZ=n(512704),IQ=n(61108);function IJ(e){let{imageUrl:t,clientMeta:n,thumbnailIsSet:a,isWhiteboard:r,name:l,hubFileId:i,publishers:o,resizedThumbnailUrls:s}=(0,IV.ak)()(e.template),c=(0,og.M)(),{dragState:d,onInsertableResourcePointerDown:m}=(0,IY.K)({resource:e.template,clickToInsert:!0,afterSuccessfulInsert:c,triggeredFrom:e.triggeredFrom}),u=(0,Iq.Yv)(e.template);return W.createElement(W.Fragment,null,W.createElement(Ij.oL,{image:W.createElement("div",{role:"presentation",onPointerDown:m,className:d?IQ.K:void 0},W.createElement(Ij.gh,{backgroundColor:(0,nr.qi)(n)},W.createElement(Ij.Iz.Cover,null,W.createElement("div",{className:"browse_templates_tab--hoverOverlay--BpdyD"})),W.createElement(Ij.Iz.Center,null,W.createElement(IX.S,{insertTemplate:aC.Kw,isInsertingTemplate:e.isInsertingTemplate,shouldUseOpaqueBackground:!0},(0,TG.dt)(e.templateInsertionLocation))),W.createElement(IZ.IN,{image:t,isSet:a,isWhiteboard:r,hubFileId:i,alt:l,resizedThumbnailUrls:s}))),bottomRow:W.createElement(Ij.YH.FigJamMetadata,{name:l,onClick:e.onClickTitle,publishers:o,showUserAvatar:e.template.type===Sy.e.TeamTemplate}),onContextMenu:u}),W.createElement(IW.I,{dragState:d}),W.createElement(Iz.CA,{template:e.template}))}function I$(){return W.createElement(Ij.oL,{className:ap.cx.invisible.$,image:W.createElement("div",{role:"presentation"},W.createElement(Ij.gh,null,W.createElement(IZ.IN,{image:void 0,isSet:!1,isWhiteboard:!0,hubFileId:void 0,alt:""}))),bottomRow:W.createElement(Ij.YH.FigJamMetadata,{name:"\xa0",onClick:aC.Kw,publishers:[]})})}function I0(e){let{isInsertingTemplate:t}=(0,Sv.Y7)(),n=(0,SP.ai)().setPreviewResource,{currentTab:a}=(0,SP.ai)(),r=(0,SC.k)(a),l=(0,IV.ak)();return W.createElement("div",{className:"browse_templates_tab--resourcesGrid--Xwq6v"},e.templates.length?e.templates.map(a=>{let{primaryKey:i}=l(a);return W.createElement(IJ,{template:a,key:i,templateInsertionLocation:e.templateInsertionLocation,triggeredFrom:r,isInsertingTemplate:t(i),onClickTitle:a.type===Sy.e.HubFile?()=>{n({id:a.template.id,type:SC.C.TEMPLATES})}:void 0})}):W.createElement(I$,null))}IJ.displayName="TemplatesHubFileTile",I$.displayName="BrowseTemplatesFileTilePlaceholder",I0.displayName="BrowseTemplatesGrid";var I1=n(784732);let I2="browse_view_divider--browseViewDivider--bS7RU";function I5(){return W.createElement("div",{className:I2})}function I3(){return W.createElement("div",{className:q()([I2,"browse_view_divider--subSectionDivider--oHRN1"])})}let I4="browse_explore_list--seeAll--8L87Q text--fontPos13--xW8hS text--_fontBase--QdLsd",I6="browse_explore_list--sectionHeader--vkmM0 text--fontPos13--xW8hS text--_fontBase--QdLsd",I8="browse_explore_list--categorySectionHeaderContainer--WiX1N";function I9(e){let t;let{shelves:n,isLoading:a}=(0,I1.me)(e.shelfType),r=(0,id._T)(),l=(0,SP.ai)().setSelectedCategory,i=W.useMemo(()=>{let e={},t=new Set;return n.forEach(n=>{let a=[],r=n.shelf_content;for(let e=0;e<r.length;e++){let n=r[e];if(!t.has(n.id)&&(t.add(n.id),a.push(n),4===a.length))break}e[n.id]=a}),e},[n]);if(!n||0===n.length)return null;if(a)return W.createElement(l7.M7,{className:"browse_explore_list--loadingSpinner--te4He"});let o=`/community/${e.resourceType===l0.K2.HUB_FILE?"figjam":e.resourceType===l0.K2.PLUGIN?"plugins/figjam":"widgets"}`,s=SC.C.PLUGINS;e.resourceType===l0.K2.HUB_FILE?(t="browse_explore_list--resourcesGrid--BGQAu",s=SC.C.TEMPLATES):e.resourceType===l0.K2.WIDGET?(t="browse_explore_list--widgetTilesGridContainer--k7aKh browse_widgets_view--widgetTilesGridContainer--t5-lL",s=SC.C.WIDGETS):t=void 0;let c=(null==r?void 0:r.shouldOptimizeForIpadApp)||(0,$.Ub)().cmty_m10n_test_apple_os;return W.createElement(W.Fragment,null,n.map((n,a)=>{let r=i[n.id];return W.createElement(W.Fragment,{key:n.id},0===a?W.createElement(I5,null):W.createElement(I3,null),W.createElement("button",{className:q()(I8,e.resourceType===l0.K2.PLUGIN?"browse_explore_list--pluginCategorySectionHeaderPadding--hW6gC":void 0),onClick:()=>l({id:n.id,title:n.title,resourceType:s})},W.createElement("div",{className:I6},(0,ex.wj)(n.i18n_meta.title,n.title)),W.createElement("div",{className:I4},W.createElement(ex.Tx,{id:"whiteboard.inserts.see_all"}))),W.createElement("div",{className:t},r.map(t=>e.renderResource(t))))}),!c&&W.createElement("a",{className:"browse_explore_list--communityLink--iNdOV text--fontPos13--xW8hS text--_fontBase--QdLsd",href:o,target:"_blank"},W.createElement(eN.A,{svg:iN.c,className:"browse_explore_list--communityLinkIcon--4Ve4b text--fontPos11--2LvXf text--_fontBase--QdLsd"}),W.createElement(ex.Tx,{id:"whiteboard.inserts.browse_more_in_community"})))}function I7({currentOrg:e}){let t=(0,Sf.u8)(e),{setSelectedCategory:n}=(0,SP.ai)();return(null==t?void 0:t.length)||null!==t?(null==t?void 0:t.length)?W.createElement(W.Fragment,null,W.createElement("button",{className:I8,onClick:()=>{n({id:"",title:(0,ex.t)("whiteboard.inserts.org_name_templates",{orgName:e.name}),resourceType:SC.C.TEAM_TEMPLATES})}},W.createElement("div",{className:I6},W.createElement(ex.Tx,{id:"whiteboard.inserts.org_name_templates",orgName:e.name})),W.createElement("div",{className:I4},W.createElement(ex.Tx,{id:"whiteboard.inserts.see_all"}))),W.createElement(I0,{templates:t.map(e=>({type:Sy.e.TeamTemplate,template:e})),templateInsertionLocation:TG.AH.CURRENT_FILE})):null:W.createElement(S3,null)}function Ae(){let e=(0,Sv.kb)(Sw.Sy.FigJam).slice(0,4),t=(0,SP.iu)(e,[(0,np.IT)(Sb.Sy.fetchTemplatesMetadata.loadingKeyForPayload({key:Sw.Sy.FigJam}))]);return W.createElement(W.Fragment,null,t.length>0?W.createElement(W.Fragment,null,W.createElement("div",{className:I8},W.createElement("div",{className:I6},W.createElement(ex.Tx,{id:"whiteboard.inserts.recents"}))),W.createElement(I0,{templates:t,templateInsertionLocation:TG.AH.CURRENT_FILE})):W.createElement(W.Fragment,null))}let At="_search";function An(e){let{isInsertingTemplate:t}=(0,Sv.Y7)(),n=W.useRef(null),a=(0,rY.Ce)(),r=(0,r2.gJ)(),l=(0,np.y_)(Sg.UR.loadingKeyForPayload({shelfType:l0.CW.FIGJAM_TEMPLATES_PICKER})),i=(0,np.y_)(Sb.Sy.fetchTemplatesMetadata.loadingKeyForPayload({key:Sw.Sy.FigJam}));return l||i?W.createElement(S3,null):W.createElement("div",{ref:n},W.createElement(tg.kH,{name:"templates"},W.createElement(Ae,null),r&&a&&W.createElement(I7,{currentOrg:a}),W.createElement(I9,{resourceType:l0.K2.HUB_FILE,shelfType:l0.CW.FIGJAM_TEMPLATES_PICKER,renderResource:n=>W.createElement(IJ,{template:{template:n,type:Sy.e.HubFile},key:n.id,templateInsertionLocation:TG.AH.CURRENT_FILE,triggeredFrom:"universal-insert-figjam-templates",isInsertingTemplate:t(n.id),onClickTitle:()=>e.setPreviewHubFile({id:n.id,type:SC.C.TEMPLATES})})})))}An.displayName="BrowseTemplatesTab";var Aa=n(826876),Ar=n(356104),Al=n(207168),Ai=n(285776);let Ao="browse_widgets_universal_modal_tiles--widgetImageContainer--Jawtg",As="browse_widgets_universal_modal_tiles--widgetTileMeta--pIVCD",Ac="browse_widgets_universal_modal_tiles--widgetMetadataContainer--BLS2U",Ad="browse_widgets_universal_modal_tiles--developmentWidgetPrimaryText--4ORbR",Am="browse_widgets_universal_modal_tiles--iconButton--gcHjb raw_components--iconButtonEnabled--WmVk5 raw_components--_iconButton---ybo6",Au="browse_widgets_universal_modal_tiles--iconButtonSelected--pJ4m9 browse_widgets_universal_modal_tiles--iconButton--gcHjb raw_components--iconButtonEnabled--WmVk5 raw_components--_iconButton---ybo6",Ap="browse_widgets_universal_modal_tiles--widgetResourceActionContainer--tlXT0";function A_(e){let{publishedWidget:t}=e,n=(0,SP.ai)().setPreviewResource,a=(0,Y.OY)(),r=t.id,l=null==t?void 0:t.versions[t.current_plugin_version_id],i=W.useRef(null),o=(0,rp.g)(),s=o&&(null==o?void 0:o.type)===oy.MN&&o.data.localFileId===r&&o.data.view===e.tab,c=l?l.redirect_snapshot_url||"":Al.s;return W.createElement(W.Fragment,null,W.createElement(Ij.oL,{image:W.createElement(Aa.cm,{className:Ao},W.createElement(Ar.k,{src:c,context:nd.aE.WHITEBOARD})),bottomRow:W.createElement("div",{className:As},W.createElement(Ij.YH.MetadataContainer,{className:Ac,onClick:()=>n({id:r,type:SC.C.WIDGETS})},W.createElement(Ij.YH.TextMetadataLayout,{primaryText:W.createElement("div",{className:Ad},W.createElement("span",null,l.name),t&&l3.QT.PluginManagementTitleBadge(t)),secondaryText:W.createElement(IN.c,{publishedResource:t,localResource:void 0})})),W.createElement(Ij.YH.ResourceActionContainer,{className:Ap},W.createElement(av.wP,{svg:gL.c,ref:i,onClick:()=>{var t;let n=null==(t=cv.findDOMNode(i.current))?void 0:t.getBoundingClientRect();a(lZ.Qn({type:oy.MN,data:{localFileId:r,view:e.tab,targetRect:n}}))},className:s?Au:Am,"data-tooltip-type":n1.wL.TEXT,"data-tooltip":(0,ex.t)("whiteboard.inserts.widget_options")}),s&&W.createElement(oy.MR,{publishedResource:t,viewResource:()=>n({id:r,type:SC.C.WIDGETS})})))}))}let AE=(0,l$.A)(),Ag=W.forwardRef((e,t)=>{let n=(0,tf.Wm)(),{localFileId:a}=e,r=(0,Y.OY)(),l=n[a],i=(0,tf.Cg)(),o=(0,tf.An)(),s=W.useRef(null),c=(0,rp.g)(),d=(0,SP.ai)().setPreviewResource,{currentTab:m,searchQuery:u}=(0,SP.ai)();if(!l)return null;let p=i.find(e=>e.id===n[a].plugin_id),_=l.plugin_id,E=null==p?void 0:p.versions[p.current_plugin_version_id],g=!!E,h=c&&(null==c?void 0:c.type)===oy.MN&&c.data.localFileId===l.localFileId&&c.data.view===e.tab,f=()=>{AE.openExtensionDirectory(l.localFileId)},v=g&&E.redirect_snapshot_url||o[a]&&o[a].metadata.widgetSnapshotImageSrc||Al.s;return W.createElement(Ij.oL,{image:W.createElement(Aa.cm,{className:Ao},W.createElement(Ar.o,{src:v,widget:l,analytics:{triggeredFrom:(0,SC.k)(m),searchQuery:u},context:nd.aE.WHITEBOARD})),bottomRow:W.createElement("div",{ref:t,className:As},W.createElement(Ij.YH.MetadataContainer,{className:Ac,onClick:()=>g?d({id:_,type:SC.C.WIDGETS}):f()},W.createElement(Ij.YH.TextMetadataLayout,{primaryText:W.createElement("div",{className:Ad},W.createElement("span",null,(null==E?void 0:E.name)?null==E?void 0:E.name:l.name),p&&l3.QT.PluginManagementTitleBadge(p)),secondaryText:W.createElement(IN.c,{localResource:l,publishedResource:p})})),W.createElement(Ij.YH.ResourceActionContainer,{className:Ap},W.createElement(av.wP,{svg:gL.c,ref:s,onClick:()=>{var t;let n=null==(t=cv.findDOMNode(s.current))?void 0:t.getBoundingClientRect();r(lZ.Qn({type:oy.MN,data:{localFileId:l.localFileId,view:e.tab,targetRect:n}}))},className:h?Au:Am,"data-tooltip-type":n1.wL.TEXT,"data-tooltip":(0,ex.t)("whiteboard.inserts.widget_options")}),h&&W.createElement(oy.MR,{localResource:l,viewResource:()=>d({id:_,type:SC.C.WIDGETS})})))})}),Ah=W.memo(function(e){var t;let{currentTab:n}=(0,SP.ai)(),a=(0,SP.ai)().setPreviewResource,r=(0,Y.OY)(),l=e.widgetId,i=(0,i$.y2)(e.widgetId),o=W.useMemo(()=>e.widgetVersion||(0,iA.Y9)(i),[e.widgetVersion,i]),s=(0,i$.iI)(i),c=(0,i$.OY)(i),d=(0,rY.Ce)(),m=(0,tf.iA)(),u=(0,oc.Gm)({org:d,extension:i,allowlistedExtensions:m}),p=!!(s||u),{searchQuery:_}=(0,SP.ai)();W.useEffect(()=>{i||r(ii.S0({id:l,resourceType:l0.K2.WIDGET}))},[l,r,i]);let E=(0,id.k1)(),g=(0,Y.w1)(e=>e.authedActiveCommunityProfile),{isSavedForUser:h}=(0,II.kd)(e.widgetId,l0.y4.WIDGET);return(0,Tj.q6)()&&Tj.sj.has(l)||!o||(0,l0.OG)(i)&&((null==E?void 0:E.shouldOptimizeForIpadApp)||(0,$.Ub)().cmty_m10n_test_apple_os)?null:W.createElement(Ij.oL,{className:"browse_widgets_universal_modal_tiles--widgetCardContainer--yzVBr resource_tiles--_parentWithHoverAction--m180X",image:W.createElement(Aa.cm,{className:Ao},!c&&W.createElement("div",{className:"browse_widgets_universal_modal_tiles--widgetMonetizationBadge--C1Vye"},(0,iq.kv)({resource:i,authedActiveCommunityProfile:g})),p?W.createElement(Ar.k,{src:o.redirect_snapshot_url,context:nd.aE.WHITEBOARD}):W.createElement(Ar.o,{src:o.redirect_snapshot_url,widget:o,analytics:{triggeredFrom:(0,SC.k)(n),searchQuery:_},context:nd.aE.WHITEBOARD})),bottomRow:W.createElement(Ij.YH.FigJamMetadata,{name:o.name,onClick:()=>a({id:l,type:SC.C.WIDGETS}),publishers:null==(t=null==i?void 0:i.community_publishers)?void 0:t.accepted,showLockIcon:e.showLockIcon,showPaymentError:c,rightAlignedElement:W.createElement("div",{className:q()("browse_widgets_universal_modal_tiles--saveButtonInTile--KIOlI",{[Ai.oB]:!h})},W.createElement(oh.W$,{resourceId:e.widgetId,resourceType:l0.y4.WIDGET,parentView:oh.UF.TILE}))}),onClick:p||c?()=>a({id:l,type:SC.C.WIDGETS}):void 0,dataTestId:`figjam-widget-tile-${l}`})});var Af=n(700512),Av=n(750496),Ay=n(577028),AC=n(394224),Aw=n(512408);let Ab="face_stamps--contentRow--hiGYK",AT="face_stamps--sectionHeader--mWSOw text--fontPos13--xW8hS text--_fontBase--QdLsd";var Ax=n(589100);function Ak(e){return(0,N8.Ep)()?W.createElement(W.Fragment,null,W.createElement(Aw.C,{text:(0,ex.t)("whiteboard.inserts.faces_title"),description:(0,ex.t)("whiteboard.inserts.faces_description"),onPointerDown:aC.Kw,onClick:e.onClick,iconComponent:(0,Ay.ei)(),recordingKey:lI.Mx("inserts","more","facestamps"),rightCaret:!0})):null}function AN(e){let{onBack:t,queryFromAllSearch:n}=e,[a,r]=W.useState(!1),{faceStampServerSideSearch:l,faceStampSearchIsLoading:i,faceStampSearchHasResolved:o}=(0,tf.Av)({maxResults:20}),[s,c]=W.useState(""),[d]=(0,Af.c)(s,200);W.useEffect(()=>{n&&!a?(l(n),c(n),r(!0)):l(d)},[l,n,d,a]);let m=i||!o,u=W.useCallback(e=>"Escape"===e.key&&(d?c(""):t(),!0),[d,t]),p=(0,N8.Ml)(d),_=Math.min(p.length,AI),E=(0,N8.U1)(d);return W.createElement(W.Fragment,null,W.createElement(lY.EB,{focusOnMount:!1,selectTextOnMount:!0,className:"face_stamps--searchBar--vDblE",query:d,placeholder:(0,ex.t)("whiteboard.inserts.faces_search_placeholder"),clearSearch:()=>c(""),onChange:c,isKeyDownHandled:u,hideXIcon:!d}),W.createElement("div",{className:"face_stamps--contentContainer--0-n3a"},m?W.createElement(W.Fragment,null,W.createElement(AA,{rows:1,showHeader:!d}),!d&&W.createElement(AA,{rows:2,showHeader:!0})):d?E.length>0?W.createElement(AP,{maxRows:4,isLoading:m,users:E}):W.createElement(SI,{illustration:Ax.c,query:d}):W.createElement(W.Fragment,null,W.createElement(AP,{maxRows:1,title:(0,ex.t)("whiteboard.inserts.recents_header"),users:E.slice(0,_)}),W.createElement(AP,{maxRows:p.length>0?2:3,isLoading:m,title:(0,ex.t)("whiteboard.inserts.suggested_header"),users:E.slice(_)}))))}function AS({children:e}){return W.createElement("div",{className:AT},e)}let AI=5;function AA({rows:e=1,showHeader:t=!0}){let n=e*AI,a=[];for(let e=0;e<n;e++)a.push(W.createElement(AM,{key:e}));return W.createElement(W.Fragment,null,t&&W.createElement(AO,null),W.createElement("div",{className:q()(Ab,"face_stamps--skeletonRow--AqMaG")},...a))}function AO(){return W.createElement("div",{className:q()(AT,"face_stamps--skeletonHeader--dh0WB face_stamps--sectionHeader--mWSOw text--fontPos13--xW8hS text--_fontBase--QdLsd")})}function AM(){return W.createElement("div",{className:"face_stamps--skeletonFaceStampContainer--6nweY"},W.createElement("div",{className:"face_stamps--skeletonFaceStamp--J8vAD"}),W.createElement("div",{className:"face_stamps--skeletonFaceStampLabel---4KQM"}))}function AP({users:e,title:t,isLoading:n,maxRows:a}){let{currentTab:r,searchQuery:l}=(0,SP.ai)(),i=(0,SC.k)(r);return 0===e.length&&!0!==n?null:W.createElement(W.Fragment,null,t&&W.createElement(AS,null,t),W.createElement("div",{className:Ab},n?W.createElement(AC.W,null):e.slice(0,a*AI).map(e=>W.createElement(AC.y,{key:e.id,user:e,searchQuery:l,triggeredFrom:i}))))}function AL({onBack:e,setPinned:t,queryFromAllSearch:n}){let a=(0,Y.w1)(e=>e.universalInsertModal),r=(0,lJ.wD)(),{faceStampServerSideSearch:l}=(0,tf.Av)({maxResults:20}),i=()=>{""!==n&&l(n),e()};return W.createElement("div",{className:Ih},W.createElement("div",{className:If},W.createElement(eN.A,{svg:of.c,className:I_,onClick:et.cp.isIpad?void 0:i,onPointerDown:et.cp.isIpad?i:void 0,"data-not-draggable":!0,"data-does-not-dismiss-modal":!0}),W.createElement("div",{className:"face_stamps--titleContainer--0IWlF"},W.createElement("span",{className:"face_stamps--titlePrimary--J3DrZ text--fontPos13--xW8hS text--_fontBase--QdLsd"},W.createElement(ex.Tx,{id:"whiteboard.inserts.faces_title"})),W.createElement("span",{className:"face_stamps--titleSecondary--95nwF text--fontPos11--2LvXf text--_fontBase--QdLsd"},W.createElement(ex.Tx,{id:"whiteboard.inserts.faces_description"})))),W.createElement("div",{className:Iv},a.pinned===Cz.a.NOT_PINNED?W.createElement(Av.E,{setPinned:t}):W.createElement(rW.CA,{onClick:r,className:IT})))}let AD="browse_resources_all_search_view--sectionHeaderContainer--fg20n",AR="browse_resources_all_search_view--sectionHeader--0rdpg text--fontPos13--xW8hS text--_fontBase--QdLsd",AF="browse_resources_all_search_view--seeMore--t4uuM text--fontPos13--xW8hS text--_fontBase--QdLsd";function AB(e){let{assetsPanelSearch:t}=(0,Y.w1)(e=>e.library),n=(0,id.k1)(),a=(0,N8.Ep)();if(e.lastPluginSearchQuery!==e.debouncedSearchQuery||e.lastWidgetSearchQuery!==e.debouncedSearchQuery||a&&e.lastFaceStampSearchQuery!==e.debouncedSearchQuery)return W.createElement(S8,null);if(0===t.normalizedSearchResults.length&&0===e.searchTemplatesResult[At].length&&0===e.widgetSavedSearchResultIds.length&&0===e.widgetCommunitySearchResultIds.length&&0===e.widgetOrgSearchResultIds.length&&0===e.pluginSavedSearchResultIds.length&&0===e.pluginOrgSearchResultIds.length&&0===e.pluginCommunitySearchResultIds.length&&0===e.widgetDevelopmentSearchResultIds.length&&0===e.pluginDevelopmentSearchResultIds.length&&0===e.moreResult.length&&0===e.teamTemplatesFromSearch.length){let t=!((null==n?void 0:n.shouldOptimizeForIpadApp)||(0,$.Ub)().cmty_m10n_test_apple_os)&&W.createElement("a",{className:SS,href:"/community/figjam",target:"_blank"},W.createElement(ex.Tx,{id:"whiteboard.inserts.see_more_from_community"}));return W.createElement(SI,{illustration:Il.c,query:e.query,cta:t})}return W.createElement(tg.kH,{name:"all",properties:{resourceType:"all",query:e.query}},W.createElement(AW,{results:e.moreResult}),[()=>W.createElement(AH,{setCurrentTab:e.setCurrentTab,key:"librarySearchResults"}),()=>a&&W.createElement(AG,{faceStampSearchIsLoading:e.faceStampSearchIsLoading,query:e.query,key:"faceStampSearchResults"}),()=>W.createElement(AV,{setCurrentTab:e.setCurrentTab,templateSearchResults:e.searchTemplatesResult,teamTemplatesFromSearch:e.teamTemplatesFromSearch,totalNumTeamTemplatesFromSearch:e.totalNumTeamTemplatesFromSearch,key:"templateSearchResults"}),()=>W.createElement(AU,{setCurrentTab:e.setCurrentTab,savedSearchResultIds:e.widgetSavedSearchResultIds,communitySearchResultIds:e.widgetCommunitySearchResultIds,orgSearchResultIds:e.widgetOrgSearchResultIds,developmentSearchResultIds:e.widgetDevelopmentSearchResultIds,searchIsLoading:e.widgetSearchIsLoading,searchHasResolved:e.widgetSearchHasResolved,key:"widgetSearchResults"}),()=>W.createElement(AK,{setCurrentTab:e.setCurrentTab,savedSearchResultIds:e.pluginSavedSearchResultIds,communitySearchResultIds:e.pluginCommunitySearchResultIds,orgSearchResultIds:e.pluginOrgSearchResultIds,developmentSearchResultIds:e.pluginDevelopmentSearchResultIds,searchIsLoading:e.pluginSearchIsLoading,searchHasResolved:e.pluginSearchHasResolved,key:"pluginSearchResults"})].map(e=>e()))}function AU(e){let t=e.savedSearchResultIds.concat(e.communitySearchResultIds,e.orgSearchResultIds),n=Math.max(t.length+e.developmentSearchResultIds.length-4,0),a=t.slice(0,4),r=Math.min(e.developmentSearchResultIds.length,4-a.length);return 0===t.length?null:W.createElement(W.Fragment,null,W.createElement("div",{className:AD},W.createElement("div",null,W.createElement("div",{className:AR},W.createElement(ex.Tx,{id:"whiteboard.inserts.widgets"}))),n>0&&W.createElement("button",{className:AF,onClick:()=>{e.setCurrentTab(ST.i.WIDGETS)}},`See ${n} more ${(0,E5.aW)(n,"result")}`)),W.createElement("div",{className:"browse_resources_all_search_view--widgetTilesGridContainer--MDlpu browse_widgets_view--widgetTilesGridContainer--t5-lL"},W.createElement(W.Fragment,null,a.map(e=>W.createElement(Ah,{widgetId:e,key:e})),e.developmentSearchResultIds.slice(0,r).map(e=>W.createElement(Ag,{localFileId:e,tab:ST.i.DEVELOPMENT,key:e})))))}function AK(e){let t=e.savedSearchResultIds.concat(e.communitySearchResultIds,e.orgSearchResultIds),n=Math.max(t.length+e.developmentSearchResultIds.length-4,0),a=t.slice(0,4),r=Math.min(e.developmentSearchResultIds.length,4-a.length);return 0===t.length?null:W.createElement(W.Fragment,null,W.createElement("div",{className:q()(AD,"browse_resources_all_search_view--pluginCategorySectionHeaderPadding--RKhPp")},W.createElement("div",null,W.createElement("div",{className:AR},W.createElement(ex.Tx,{id:"whiteboard.inserts.plugins"}))),n>0&&W.createElement("button",{className:AF,onClick:()=>{e.setCurrentTab(ST.i.PLUGINS)}},`See ${n} more ${(0,E5.aW)(n,"result")}`)),W.createElement(W.Fragment,null,a.slice(0,4).map(e=>W.createElement(IK,{pluginId:e,view:ST.i.PLUGINS,key:e})),e.developmentSearchResultIds.slice(0,r).map(e=>W.createElement(IU,{localFileId:e,view:ST.i.DEVELOPMENT,key:e}))))}function AG(e){let t=(0,N8.U1)(e.query),{setPreviewResource:n}=(0,SP.ai)();return 0===t.length?null:W.createElement(W.Fragment,null,W.createElement("div",{className:AD},W.createElement("div",{className:AR},W.createElement(ex.Tx,{id:"whiteboard.inserts.faces_title"})),t.length>5&&!e.faceStampSearchIsLoading&&W.createElement("button",{className:AF,onClick:()=>{n({id:"FACE_STAMPS",type:SC.C.ORG_FACE_STAMPS})}},W.createElement(ex.Tx,{id:"whiteboard.inserts.see_more"}))),W.createElement("div",{className:SL},e.faceStampSearchIsLoading?W.createElement("div",{className:"browse_resources_all_search_view--skeletonContainer--W9B65"},W.createElement(AA,{rows:1,showHeader:!1})):W.createElement(AP,{maxRows:1,isLoading:!1,users:t})))}function AH(e){let{assetsPanelSearch:t}=(0,Y.w1)(e=>e.library),n=W.useMemo(()=>(0,ns.yY)(t.normalizedSearchResults),[t.normalizedSearchResults]),a=Math.max(n.length-12,0),r=(0,Y.OY)(),{openFile:l,fileVersion:i,loadingState:o}=(0,el.q)(e=>({openFile:e.openFile,fileVersion:e.fileVersion,loadingState:e.loadingState})),s=l&&i&&(0,np.ER)(o,(0,Ew.AL)(l.key));return(W.useEffect(()=>{s&&r(iG.Ul({}))},[r,s]),0===n.length)?null:W.createElement(W.Fragment,null,W.createElement("div",{className:AD},W.createElement("div",null,W.createElement("div",{className:AR},W.createElement(ex.Tx,{id:"whiteboard.inserts.stickers"}))),a>0&&W.createElement("button",{className:AF,onClick:()=>{e.setCurrentTab(ST.i.STICKERS_AND_COMPONENTS)}},W.createElement(ex.Tx,{id:"whiteboard.inserts.see_num_more_resources",numMoreResources:a}))),W.createElement(SD,{items:{"":n.slice(0,12)},showContextMenu:!0,layoutOverride:Sx.mS.SMALL}))}function AV(e){let t=(0,Y.w1)(e=>e.hubFiles),n=(e.templateSearchResults[At]||[]).map(e=>t[e]),a=[...e.teamTemplatesFromSearch.map(e=>({type:Sy.e.TeamTemplate,template:e})),...n.map(e=>({type:Sy.e.HubFile,template:e}))],r=Math.max(n.length+e.totalNumTeamTemplatesFromSearch-4,0);return 0===a.length?null:W.createElement(W.Fragment,null,W.createElement("div",{className:AD},W.createElement("div",{className:AR},W.createElement(ex.Tx,{id:"whiteboard.inserts.templates"})),r>0&&W.createElement("button",{className:AF,onClick:()=>{e.setCurrentTab(ST.i.TEMPLATES)}},W.createElement(ex.Tx,{id:"whiteboard.inserts.see_num_more_resources",numMoreResources:r}))),W.createElement(I0,{templates:a.slice(0,4),templateInsertionLocation:TG.AH.CURRENT_FILE}))}function AW(e){return W.createElement("div",{className:"browse_resources_all_search_view--moreTopPadding--NroRc"},e.results.map((e,t)=>W.createElement(e,{key:t})))}let AY="browse_resources_use_cases--sectionHeader--bfznu text--fontPos13--xW8hS text--_fontBase--QdLsd",Aj="browse_resources_use_cases--flexContainer--dANvZ",AX="browse_resources_use_cases--useCaseSectionHeader--e5Nxj browse_resources_use_cases--sectionHeader--bfznu text--fontPos13--xW8hS text--_fontBase--QdLsd",Az="browse_resources_use_cases--sectionHeaderSubtext--5e-e- text--fontPos11--2LvXf text--_fontBase--QdLsd",Aq="browse_resources_use_cases--resourceContainer--rxSfA browse_explore_category_view--resourceContainer--pdbQU",AZ="browse_resources_use_cases--caretRight--UGsAJ",AQ="browse_resources_use_cases--resourceMetadata--AdJJW text--fontPos11--2LvXf text--_fontBase--QdLsd",AJ="browse_resources_use_cases--stickerWidgetEllipsis--KpMzQ ellipsis--ellipsis--Tjyfa",A$="browse_resources_use_cases--templateEllipsis--8hbx5 ellipsis--ellipsis--Tjyfa";function A0({onClick:e,name:t,localizedName:n,localizedDescription:a,children:r}){return W.createElement("div",{className:"browse_resources_use_cases--useCaseSection--c00-9",key:t,onClick:e,role:"presentation"},W.createElement("div",{className:AY},n||t,W.createElement(eN.A,{svg:vl.c,className:AZ})),W.createElement("div",{className:Az},a),W.createElement("div",{className:"browse_resources_use_cases--sectionResources--WMI76"},r))}function A1(){let e=(0,Y.w1)(e=>e.figjamDefaultInserts.useCases),{setSelectedCategory:t}=(0,SP.ai)(),n=e=>"Brainstorm together"===e?(0,ex.t)("whiteboard.inserts.use_cases_brainstorm_together"):"Run a meeting"===e?(0,ex.t)("whiteboard.inserts.use_cases_run_a_meeting"):"Diagram anything"===e?(0,ex.t)("whiteboard.inserts.use_cases_diagram_anything"):"Lead a workshop"===e?(0,ex.t)("whiteboard.inserts.use_cases_lead_a_workshop"):"Break the ice"===e?(0,ex.t)("whiteboard.inserts.use_cases_break_the_ice"):void 0,a=e=>"Brainstorm together"===e?(0,ex.t)("whiteboard.inserts.use_cases_brainstorm_together_description"):"Run a meeting"===e?(0,ex.t)("whiteboard.inserts.use_cases_run_a_meeting_description"):"Diagram anything"===e?(0,ex.t)("whiteboard.inserts.use_cases_diagram_anything_description"):"Lead a workshop"===e?(0,ex.t)("whiteboard.inserts.use_cases_lead_a_workshop_description"):"Break the ice"===e?(0,ex.t)("whiteboard.inserts.use_cases_break_the_ice_description"):void 0,r=e.filter(e=>!e.name.includes("Whats New"));return 0===r.length?W.createElement(A6,null):W.createElement(W.Fragment,null,r.map(e=>"collage_items"===e.name?null:W.createElement(A0,{onClick:()=>{t({id:e.name,title:e.name,resourceType:SC.C.ALL})},name:e.name,localizedName:n(e.name),localizedDescription:a(e.name),key:e.name},e.resources.slice(0,3).map(t=>W.createElement(W.Fragment,{key:[e.name,t?t.id:""].join("_")},t&&"is_widget"in t&&!!t.is_widget&&W.createElement(A3,{widgetId:t.id}),t&&"type"in t&&t.type===fN.Af.COMPONENT&&W.createElement(A4,{resource:t}),t&&"viewer_mode"in t&&!!t.viewer_mode&&W.createElement(A5,{template:{type:Sy.e.HubFile,template:t}}))))))}function A2(e){let t=(0,Y.w1)(e=>e.figjamDefaultInserts.useCases).find(t=>t.name===e.useCaseName);if(!t)return null;let n=t.resources.filter(e=>"viewer_mode"in e&&!!e.viewer_mode),a=t.resources.filter(e=>"is_widget"in e&&!!e.is_widget),r=t.resources.filter(e=>"type"in e&&e.type===fN.Af.COMPONENT),l=t.resources.filter(e=>"is_widget"in e&&!e.is_widget);return W.createElement(tg.kH,{name:"use_case",properties:{useCase:t.name}},!!n.length&&W.createElement(W.Fragment,null,W.createElement("div",{className:AX},W.createElement(ex.Tx,{id:"whiteboard.inserts.templates"})),W.createElement(I0,{templates:n.map(e=>({type:Sy.e.HubFile,template:e})),templateInsertionLocation:TG.AH.CURRENT_FILE})),!!a.length&&W.createElement(W.Fragment,null,W.createElement("div",{className:AX},W.createElement(ex.Tx,{id:"whiteboard.inserts.widgets"})),W.createElement("div",{className:"browse_resources_use_cases--widgetTilesGridContainer--gv30z browse_widgets_view--widgetTilesGridContainer--t5-lL"},a.map(e=>W.createElement("button",{key:e.id,className:Aq},W.createElement(Ah,{widgetId:e.id,key:e.id}))))),!!r.length&&W.createElement(W.Fragment,null,W.createElement("div",{className:AX},W.createElement(ex.Tx,{id:"whiteboard.inserts.stickers_and_components"})),W.createElement(SR,{items:r,showContextMenu:!0})),!!l.length&&W.createElement(W.Fragment,null,W.createElement("div",{className:AX},W.createElement(ex.Tx,{id:"whiteboard.inserts.plugins"})),W.createElement("div",{className:"browse_resources_use_cases--pluginCategoryViewPadding--e1D-M"},l.map(e=>W.createElement("button",{key:e.id,className:Aq},W.createElement(IK,{pluginId:e.id,view:ST.i.ALL,key:e.id}))))))}function A5({template:e,showPublisherName:t=!1}){let{imageUrl:n,clientMeta:a,thumbnailIsSet:r,isWhiteboard:l,hubFileId:i,name:o,primaryKey:s,publishers:c,resizedThumbnailUrls:d}=(0,IV.ak)()(e),m=(0,SP.ai)().setPreviewResource,u=(0,og.M)(),{isInsertingTemplate:p}=(0,Sv.Y7)(),{dragState:_,onInsertableResourcePointerDown:E}=(0,IY.K)({resource:e,clickToInsert:!0,afterSuccessfulInsert:u,triggeredFrom:"universal-insert-figjam-all-use-case"});return W.createElement("div",{className:"browse_resources_use_cases--templatePreview--vlIll browse_resources_use_cases--resourcePreview--rTL2d",onClick:e=>e.stopPropagation(),role:"button",tabIndex:0},W.createElement(Aa.Cq,{image:W.createElement("div",{role:"presentation",onPointerDown:E,className:_?IQ.K:void 0},W.createElement(Aa.cm,{backgroundColor:(0,nr.qi)(a)},W.createElement(Aa.Oe.Cover,null,W.createElement("div",{className:"browse_resources_use_cases--hoverOverlay--84hkm browse_templates_tab--hoverOverlay--BpdyD"})),W.createElement(Aa.Oe.Center,null,W.createElement(IX.S,{insertTemplate:aC.Kw,isInsertingTemplate:p(s),shouldUseOpaqueBackground:!0},(0,TG.dt)(TG.AH.CURRENT_FILE))),W.createElement(IZ.IN,{image:n||void 0,isSet:r,isWhiteboard:l,hubFileId:i,alt:o,resizedThumbnailUrls:d}))),bottomRow:W.createElement("button",{className:q()(AQ,t&&c[0]&&"browse_resources_use_cases--resourceMetadataWithPublisher--V9KyE"),onClick:t=>{t.stopPropagation(),e.type===Sy.e.HubFile&&m({id:e.template.id,type:SC.C.TEMPLATES})},role:e.type===Sy.e.HubFile?void 0:"presentation"},W.createElement("div",{className:Aj},W.createElement("div",{className:A$},o),e.type===Sy.e.HubFile&&W.createElement(eN.A,{svg:vl.c,className:AZ})),t&&c.length>0&&W.createElement("div",{className:Aj},W.createElement("div",{className:q()(A$,"browse_resources_use_cases--publisher--2akDJ")},W.createElement(ex.Tx,{id:"whiteboard.inserts.by_publisher_name",publisherName:c[0].name}))))}),W.createElement(IW.I,{dragState:_}))}function A3(e){let t=e.widgetId,{setPreviewResource:n}=(0,SP.ai)(),a=(0,Y.w1)(e=>e.publishedWidgets[t]),r=(0,iA.Y9)(a),{dragState:l,onInsertableResourcePointerDown:i}=(0,om.e)({resource:r,clickToInsert:!0,afterSuccessfulInsert:(0,og.M)(),triggeredFrom:"universal-insert-figjam-all-use-case"});return a?W.createElement("div",{onClick:e=>e.stopPropagation(),role:"button",tabIndex:0},W.createElement(Ij.oL,{className:"browse_resources_use_cases--widgetPreview--egQ9B browse_resources_use_cases--resourcePreview--rTL2d",image:W.createElement(Ij.gh,{backgroundColor:"transparent",removeBorder:!0,className:"browse_resources_use_cases--widgetImageContainer--diYt5"},W.createElement("div",{onPointerDown:i,role:"button",tabIndex:0},W.createElement("img",{className:q()({"browse_resources_use_cases--widgetImage--Rciys":!0,[IQ.K]:!!l}),src:r.redirect_snapshot_url,alt:""}))),bottomRow:W.createElement("button",{className:AQ,onClick:e=>{e.stopPropagation(),n({id:a.id,type:SC.C.WIDGETS})}},W.createElement("div",{className:Aj},W.createElement("div",{className:AJ},r.name),W.createElement(eN.A,{svg:vl.c,className:AZ})))}),W.createElement(od._,{dragState:l})):null}function A4(e){let t=(0,og.M)();return W.createElement("div",{className:"browse_resources_use_cases--stickerPreview--ESlWj browse_resources_use_cases--resourcePreview--rTL2d",onClick:e=>e.stopPropagation(),role:"button",tabIndex:0},W.createElement(SM.ug,{item:e.resource,height:90,width:90,showName:!1,shouldHideDescription:!0,shouldShowShadowOnHover:!0,isFigJam:!0,noBackground:!0,isSearch:!1,draggable:{sourceForTracking:"universal-insert-figjam-all-use-case",afterSuccessfulInsert:t,clickToInsert:!0}}),W.createElement("button",{className:"browse_resources_use_cases--stickerResourceMetadata--vE2eG browse_resources_use_cases--resourceMetadata--AdJJW text--fontPos11--2LvXf text--_fontBase--QdLsd"},W.createElement("div",{className:AJ},e.resource.name)),W.createElement(SG,null))}function A6(){return W.createElement(W.Fragment,null,W.createElement(A8,{name:(0,ex.t)("whiteboard.inserts.use_cases_brainstorm_together"),description:(0,ex.t)("whiteboard.inserts.use_cases_brainstorm_together_description")}),W.createElement(A8,{name:(0,ex.t)("whiteboard.inserts.use_cases_run_a_meeting"),description:(0,ex.t)("whiteboard.inserts.use_cases_run_a_meeting_description")}),W.createElement(A8,{name:(0,ex.t)("whiteboard.inserts.use_cases_diagram_anything"),description:(0,ex.t)("whiteboard.inserts.use_cases_diagram_anything_description")}),W.createElement(A8,{name:(0,ex.t)("whiteboard.inserts.use_cases_lead_a_workshop"),description:(0,ex.t)("whiteboard.inserts.use_cases_lead_a_workshop_description")}),W.createElement(A8,{name:(0,ex.t)("whiteboard.inserts.use_cases_break_the_ice"),description:(0,ex.t)("whiteboard.inserts.use_cases_break_the_ice_description")}))}function A8({name:e,description:t,miniCardsOnly:n=!1}){return W.createElement("div",{className:q()("browse_resources_use_cases--useCaseSectionLoading--jAjoI browse_resources_use_cases--useCaseSection--c00-9",{"browse_resources_use_cases--mini_useCaseSectionLoading--Er0Hh":n}),key:e},W.createElement("div",{className:AY},e,W.createElement(eN.A,{svg:vl.c,className:AZ})),W.createElement("div",{className:Az},t))}function A9({currentOrg:e}){let t=(0,Sf.u8)(e),{setSelectedCategory:n}=(0,SP.ai)(),a=(null==t?void 0:t.length)===0,r=(0,ex.t)("whiteboard.inserts.start_from_a_template"),l=(0,ex.t)("whiteboard.inserts.try_handmade_templates_created_by_your_team");return null===t?W.createElement(A8,{name:r,description:l,miniCardsOnly:!0}):a?null:W.createElement(A0,{name:r,localizedName:r,localizedDescription:l,onClick:()=>n({resourceType:SC.C.TEAM_TEMPLATES,id:"",title:(0,ex.t)("whiteboard.inserts.org_name_templates",{orgName:e.name})})},W.createElement(aE.g,{spacing:32,horizontalAlignItems:"center"},t.map(e=>W.createElement(A5,{key:e.file_key,template:{type:Sy.e.TeamTemplate,template:e},showPublisherName:!0}))))}var A7=n(346680),Oe=n(136524),Ot=n(679175);function On(e){let{setPreviewResource:t}=(0,SP.ai)(),n=(0,N8.Ep)(),a=(0,eo.m4)(Oe.C),r=(0,Ot.If)(),l=(0,Ot.E3)((null==a?void 0:a.numPrimaryTools)??0),i=r.filter(e=>!l.includes(e));return W.createElement("div",{className:e.hasTopPadding?"browse_more_view--moreViewContainer--blJLd":void 0},i.map(e=>W.createElement(Oa,{key:e,toolKey:e})),(0,$.Ub)().figjam_mindmaps_entry_enable&&W.createElement(A7.tI,null),n&&W.createElement(Ak,{onClick:()=>t({id:"FACE_STAMPS",type:SC.C.ORG_FACE_STAMPS})}),W.createElement(A7.oJ,null),W.createElement(A7.ko,null),W.createElement(A7.EF,null),W.createElement(A7.OW,null))}function Oa({toolKey:e}){switch(e){case"text":return W.createElement(A7.Q9,null);case"section":return W.createElement(A7.ox,null);case"table":return W.createElement(A7.IP,null);case"stamp":return W.createElement(A7.S6,null);default:return null}}let Or=W.memo(function(e){let t=t=>(0,iO.E7)(t)?W.createElement(IU,{localFileId:t.localFileId,view:e.view,key:"development_plugin_"+t.localFileId}):W.createElement(IK,{pluginId:t.plugin_id,view:e.view,pluginVersion:t,key:"recent_plugin_"+t.plugin_id});return W.createElement(W.Fragment,null,e.items.map(e=>t(e)))});function Ol(){let e=(0,SP.Ah)(),t=(0,tf.At)().filter(e);return W.createElement(W.Fragment,null,W.createElement(Or,{items:t.slice(0,4),view:ST.i.RECENTS}))}function Oi(){let e=(0,Sv.kb)(Sw.Sy.FigJam),t=(0,SP.Ge)(e,"templates",(e,t)=>!t.some(t=>t.type===Sy.e.HubFile&&t.template.id===e.id),4),n=(0,SP.iu)(t,[(0,np.IT)(Sb.Sy.fetchTemplatesMetadata.loadingKeyForPayload({key:Sw.Sy.FigJam})),(0,np.IT)(Sh.mA)]);return W.createElement(I0,{templates:n,templateInsertionLocation:TG.AH.CURRENT_FILE})}let Oo="browse_widgets_view--sectionHeader--rxCOO text--fontPos13--xW8hS text--_fontBase--QdLsd",Os="browse_widgets_view--loadingSpinner--VdXEO browse_resources_modal--loadingSpinner--pMJQa",Oc="browse_widgets_view--widgetTilesGridContainer--t5-lL",Od=W.memo(function(e){let t=e=>(0,iO.E7)(e)?W.createElement(Ag,{localFileId:e.localFileId,tab:ST.i.RECENTS,key:e.localFileId}):W.createElement(Ah,{widgetId:e.plugin_id,widgetVersion:e,key:e.plugin_id,tab:ST.i.RECENTS});return W.createElement("div",{className:Oc},e.items.map(e=>t(e)))});function Om({}){let e=(0,SP.qM)(),t=(0,tf.eA)().filter(e);return W.createElement(Od,{items:t.slice(0,4)})}var Ou=n(14692);let Op="browse_resources_all_tab--divider--lN9-d",O_="browse_resources_all_tab--sectionBottomPadding--3jqXm";var OE=n(467188);function Og(){let e=(0,SP.gx)(),t=(0,r2.gJ)(),n=(0,rY.Ce)(),a=(0,np.y_)(Sh.mA),r=(0,np.y_)(Sb.Sy.fetchWidgetsMetadata.loadingKeyForPayload({key:Sw.Sy.FigJam})),l=(0,np.y_)(to._A),i=(0,np.y_)(Sb.Sy.fetchTemplatesMetadata.loadingKeyForPayload({key:Sw.Sy.FigJam})),o=(0,Y.w1)(e=>e.figjamDefaultInserts.useCases),s=!!e&&0===o.length;return a||e&&s||!e&&(r||l||i)?W.createElement(S8,null):W.createElement(tg.kH,{name:"all"},W.createElement("div",null,W.createElement(Ou.gl,{applyInsertStyling:!0}),t&&n&&W.createElement(A9,{currentOrg:n}),e?W.createElement(A1,null):W.createElement(W.Fragment,null,W.createElement(Ov,null),W.createElement("div",{className:Op}),W.createElement(Oy,null),W.createElement("div",{className:Op}),W.createElement(Oh,null),W.createElement("div",{className:Op}),W.createElement(Of,null),W.createElement("div",{className:Op}),W.createElement(OC,null))))}function Oh(){let e=(0,SP.ai)().setCurrentTab;return W.createElement("div",{className:O_},W.createElement(Ow,{title:(0,ex.t)("whiteboard.inserts.widgets"),subtitle:(0,ex.t)("whiteboard.inserts.widgets_subtitle"),onClick:()=>e(ST.i.WIDGETS),showCaret:!0,shorterSectionHeader:!1}),W.createElement(Om,null))}function Of(){let e=(0,SP.ai)().setCurrentTab;return W.createElement("div",{className:O_},W.createElement(Ow,{title:(0,ex.t)("whiteboard.inserts.plugins"),subtitle:(0,ex.t)("whiteboard.inserts.plugins_subtitle"),onClick:()=>e(ST.i.PLUGINS),showCaret:!0,shorterSectionHeader:!0}),W.createElement(Ol,null))}function Ov(){let e=(0,SP.ai)().setCurrentTab;return W.createElement("div",{className:O_},W.createElement(Ow,{title:(0,ex.t)("whiteboard.inserts.stickers"),subtitle:(0,ex.t)("whiteboard.inserts.stickers_subtitle"),onClick:()=>e(ST.i.STICKERS_AND_COMPONENTS),showCaret:!0,shorterSectionHeader:!1}),W.createElement(Is,null))}function Oy(){let e=(0,SP.ai)().setCurrentTab;return W.createElement("div",{className:O_},W.createElement(Ow,{title:(0,ex.t)("whiteboard.inserts.templates"),subtitle:(0,ex.t)("whiteboard.inserts.templates_subtitle"),onClick:()=>e(ST.i.TEMPLATES),showCaret:!0,shorterSectionHeader:!1}),W.createElement(Oi,null))}function OC(){let e=(0,SP.ai)().setCurrentTab;return W.createElement("div",{className:O_},W.createElement(Ow,{title:(0,ex.t)("whiteboard.inserts.more"),onClick:()=>e(ST.i.MORE),showCaret:!0,shorterSectionHeader:!0}),W.createElement(On,{hasTopPadding:!1}))}function Ow(e){return W.createElement("div",{className:q()(e.subtitle?"browse_resources_all_tab--sectionHeaderContainer--2ZoeS":"browse_resources_all_tab--sectionHeaderContainerNoSubtitle--qdp9l browse_resources_all_tab--sectionHeaderContainer--2ZoeS",e.shorterSectionHeader?"browse_resources_all_tab--sectionHeaderContainerShorter--jEE47":void 0),onClick:e.onClick,role:"button",tabIndex:0},W.createElement("div",{className:"browse_resources_all_tab--sectionTitleContainer--5Z1j0"},W.createElement("div",{className:"browse_resources_all_tab--sectionHeader--Xq6Ds text--fontPos16--oMC-G text--_fontBase--QdLsd"}," ",e.title," "),e.showCaret&&W.createElement(eN.A,{className:"browse_resources_all_tab--expandCaret--IfaSz",svg:OE.c,onClick:e.onClick})),e.subtitle&&W.createElement("div",{className:"browse_resources_all_tab--sectionHeaderSubtext--7a8Mb text--fontPos13--xW8hS text--_fontBase--QdLsd"},e.subtitle))}var Ob=n(251368);function OT(e){let{currentTab:t,tabs:n,onTabChanged:a,fadeEdges:r,recordingKey:l,tabGroupHorizontalPadding:i,tabVerticalPadding:o}=e,s=(e,t)=>{e.stopPropagation(),a(t)};return W.createElement(sz,{fadeEdges:r},W.createElement("div",{className:"whiteboard_tab_group--tabs--9lkXa",style:void 0!==i?{paddingLeft:i,paddingRight:i}:void 0},n.map(({key:e,title:n})=>W.createElement(rA.g9,{key:e,recordingKey:lI.Mx(l,e),className:"whiteboard_tab_group--figjamUniversalInsertTabClickTarget--Qvkv7",onClick:()=>a(e),onPointerDown:t=>s(t,e),role:"tab",tabIndex:0,"data-not-draggable":!0},W.createElement("div",{className:e===t?"whiteboard_tab_group--selectedTab--LPO1K whiteboard_tab_group--tab--I8DQr text--fontPos13--xW8hS text--_fontBase--QdLsd":"whiteboard_tab_group--unselectedTab--Cpfle whiteboard_tab_group--tab--I8DQr text--fontPos13--xW8hS text--_fontBase--QdLsd",style:void 0!==o?{paddingTop:o,paddingBottom:o}:void 0},n),W.createElement("div",{className:"whiteboard_tab_group--hiddenSelectedTabWidth--YBTTX whiteboard_tab_group--selectedTab--LPO1K whiteboard_tab_group--tab--I8DQr text--fontPos13--xW8hS text--_fontBase--QdLsd"},n)))))}let Ox=e=>e?ON():Ok(),Ok=()=>[{key:ST.i.WIDGETS,title:(0,ex.t)("whiteboard.inserts.widgets")},{key:ST.i.PLUGINS,title:(0,ex.t)("whiteboard.inserts.plugins")},{key:ST.i.MORE,title:(0,ex.t)("whiteboard.inserts.more")}],ON=()=>[{key:ST.i.ALL,title:(0,ex.t)("whiteboard.inserts.all")},{key:ST.i.STICKERS_AND_COMPONENTS,title:(0,ex.t)("whiteboard.inserts.stickers")},{key:ST.i.TEMPLATES,title:(0,ex.t)("whiteboard.inserts.templates")},{key:ST.i.WIDGETS,title:(0,ex.t)("whiteboard.inserts.widgets")},{key:ST.i.PLUGINS,title:(0,ex.t)("whiteboard.inserts.plugins")},{key:ST.i.MORE,title:(0,ex.t)("whiteboard.inserts.more")}];function OS(){let e=(0,t$.K0)(),{currentTab:t,setCurrentTab:n}=(0,SP.ai)();return W.createElement(OT,{fadeEdges:!0,tabs:Ox(e),onTabChanged:e=>n(e),currentTab:t,recordingKey:"browseResourcesModal"})}var OI=n(595580);let OA="browse_all_resources_modal_container--slidingPane--EMUEV sliding_pane--slidingPane--6OmDU",OO="browse_all_resources_modal_container--slidingPaneLeft--GQIYb sliding_pane--slidingPaneLeft--Wrfdy sliding_pane--slidingPane--6OmDU",OM={main:0,category:0,detail:0},OP=e=>{let t=W.useRef(OM[e]);return W.useEffect(()=>(setTimeout(()=>{OM[e]=0},0),()=>{OM[e]=t.current}),[e]),e=>t.current=e};function OL(e){var t;let[n,a]=W.useState(0),[r,l]=W.useState(!1),i=(0,id._T)(),o=!e.categoryViewContent&&!e.categoryViewHeader&&!e.resourceDetailViewContent&&!e.resourceDetailViewHeader,s=(0,rb.i)(o);W.useEffect(()=>{void 0!==s&&(s&&!o||!s&&o)&&l(!0)},[s,o]);let c=null==(t=(0,Ob.A5)())?void 0:t.getPrimaryLocale(!1),d=W.useRef((0,SP.e$)(c)),m=W.useRef(null),u=OP("main"),p=OP("category"),_=OP("detail"),E=W.useCallback(e=>{e&&a(lJ.WC-e.getBoundingClientRect().height-1)},[]),g=(0,Y.w1)(e=>e.universalInsertModal),h=(0,Y.OY)();(0,lJ.Sg)(g.pinned===Cz.a.NOT_PINNED,m,e.entryPointId?`[data-element-target=${e.entryPointId}]`:void 0);let f=(0,rp.g)(),v=(0,lJ.wD)(),y=()=>{var t;e.setSearchQuery(""),d.current=(0,SP.e$)(c),null==(t=C.current)||t.focus()},C=W.useRef(null),{currentTab:w}=(0,SP.ai)();if(W.useEffect(()=>{var e;(null==i?void 0:i.shouldOptimizeForIpadApp)||null==(e=C.current)||e.focus()},[w,null==i?void 0:i.shouldOptimizeForIpadApp]),!e.initialModalPosition)return null;let b=e.resourceDetailViewContent&&e.resourceDetailViewHeader;return W.createElement(W.Fragment,null,g.pinned===Cz.a.PINNED&&e.showLeftPinBound&&W.createElement("div",{className:OI._W,style:{width:lJ.Sw}}),W.createElement(n2.G0,{ref:m,initialPosition:e.modalPosition||e.initialModalPosition,canResetPosition:e.shouldSnapToPosition,initialWidth:lJ.Sw,bounds:e.bounds,onEnterBound:()=>e.setShowLeftPinBound(!0),onLeaveBound:()=>e.setShowLeftPinBound(!1),onClose:v,onDragStart:()=>{d3.Qb.get("set-tool-default","toolbar")(),h(lH.sD({pinned:Cz.a.PINNED}))},onDragEnd:()=>{var t;null==(t=C.current)||t.focus(),e.showLeftPinBound&&e.setPinned()},containerClassName:g.pinned===Cz.a.PINNED_AND_DOCKED_LEFT?"browse_all_resources_modal_container--modalContainerPinAnimation--b1eCL browse_all_resources_modal_container--modalContainer--uxh6u":"browse_all_resources_modal_container--modalContainer--uxh6u",contentContainerClassName:"browse_all_resources_modal_container--modalContentContainer---kbUK",isFigJam:!0,arrowPosition:e.shouldHideBottomArrow||g.pinned!==Cz.a.NOT_PINNED?void 0:n2.Wp.BOTTOM,arrowRelativeX:e.shouldHideBottomArrow||g.pinned!==Cz.a.NOT_PINNED?void 0:lJ.Sw/2},W.createElement(tg.kH,{name:"universal-insert"},W.createElement("div",{role:"presentation",className:"browse_all_resources_modal_container--slidingPaneContainer--5a35a sliding_pane--slidingPaneContainer--RQkXf",onClick:e=>{e.stopPropagation(),f&&h(lZ.yi())}},W.createElement("div",{className:o?OA:OO,onTransitionEnd:()=>{l(!1)}},W.createElement("div",{ref:E,key:`${e.hasSearchBar}`},e.hasSearchBar&&W.createElement("div",{className:"browse_all_resources_modal_container--topBarContainer--vkLt6"},W.createElement("div",{className:"browse_all_resources_modal_container--searchBarContainer--JMkz8","data-not-draggable":!0},W.createElement(lY.EB,{focusOnMount:!(null==i?void 0:i.shouldOptimizeForIpadApp),selectTextOnMount:!(null==i?void 0:i.shouldOptimizeForIpadApp),className:"browse_all_resources_modal_container--searchBar--SMTxQ",query:e.searchQuery,placeholder:d.current,clearSearch:y,onChange:e.setSearchQuery,isKeyDownHandled:t=>t.keyCode===ee.as.ESCAPE&&(e.searchQuery?e.setSearchQuery(""):v(),!0),hideXIcon:!0,ref:C,hasTransparentBackground:!0,onFocus:()=>h(lj.i.startSearch({entryPoint:"figjam:inserts"})),disabled:r,recordingKey:"browseAllResourcesModalSearchBar"}),e.searchQuery&&W.createElement(rA.g9,{role:"button","aria-label":(0,ex.t)("whiteboard.inserts.clear_search"),onClick:et.cp.isIpad?void 0:y,onPointerDown:et.cp.isIpad?y:void 0,className:"browse_all_resources_modal_container--searchClearButton--IyQB4 text--fontPos13--xW8hS text--_fontBase--QdLsd","data-not-draggable":!0,"data-does-not-dismiss-modal":!0},W.createElement(ex.Tx,{id:"whiteboard.inserts.clear"}))),g.pinned===Cz.a.NOT_PINNED?W.createElement(Av.E,{setPinned:e.setPinned}):W.createElement(rW.CA,{onClick:v,className:"browse_all_resources_modal_container--searchCloseButton--wpuxs"})),W.createElement(OS,null),W.createElement("div",{className:"browse_all_resources_modal_container--divider--U9jtu"})),W.createElement("div",{"data-not-draggable":!0},W.createElement(nK.f,{key:w,height:(0,SP.KQ)(g.pinned,n,SP.kn),width:lJ.Sw,initialScrollTop:OM.main,onScroll:u,scrollContainerRef:e.mainScrollContainerRef},W.createElement("div",{className:"browse_all_resources_modal_container--scrollContainerPadding--c9I-y"},e.children)))),e.categoryViewHeader&&e.categoryViewContent?W.createElement("div",{className:b?OO:OA},e.categoryViewHeader,W.createElement("div",{"data-not-draggable":!0},W.createElement(nK.f,{height:(0,SP.KQ)(g.pinned,lJ.WC-SP.WO,SP.WO),width:lJ.Sw,initialScrollTop:OM.category,onScroll:p,scrollContainerRef:e.categoryScrollContainerRef},e.categoryViewContent))):void 0,e.resourceDetailViewHeader&&e.resourceDetailViewContent?W.createElement("div",{className:OA},e.resourceDetailViewHeader,W.createElement("div",{"data-not-draggable":!0},W.createElement(nK.f,{height:(0,SP.KQ)(g.pinned,lJ.WC-SP.cX,SP.cX),width:lJ.Sw,initialScrollTop:OM.detail,onScroll:_},e.resourceDetailViewContent))):void 0))))}function OD(e){let{selectedCategory:t,goBack:n}=e,a=(0,Y.w1)(e=>e.universalInsertModal),r=(0,lJ.wD)();return W.createElement("div",{className:"browse_explore_category_top_bar--topBar--VdcGk"},W.createElement("div",{className:"browse_explore_category_top_bar--left--XjCF8"},W.createElement(eN.A,{svg:of.c,className:"browse_explore_category_top_bar--backButton--lqLK5",onClick:et.cp.isIpad?void 0:n,onPointerDown:et.cp.isIpad?n:void 0,"data-not-draggable":!0,"data-does-not-dismiss-modal":!0}),W.createElement("div",{className:"browse_explore_category_top_bar--categoryNameContainer--b--X4"},W.createElement("div",{className:"browse_explore_category_top_bar--categoryName--wVRFs text--fontPos13--xW8hS text--_fontBase--QdLsd ellipsis--ellipsis--Tjyfa"},t.title))),W.createElement("div",{className:"browse_explore_category_top_bar--right--0SLBG"},e.extraContent,a.pinned===Cz.a.NOT_PINNED?W.createElement(Av.E,{setPinned:e.setPinned}):W.createElement(rW.CA,{onClick:r,className:"browse_explore_category_top_bar--searchCloseButton--XQ3fr browse_modal_container--searchCloseButton--WHSfL"})))}var OR=n(340040),OF=n(617292);let OB="browse_explore_category_view--communityLink---iLAP",OU="browse_explore_category_view--loadingSpinner--soJ45",OK="browse_explore_category_view--resourceContainer--pdbQU";var OG=((I=OG||{})[I.CLICKED_SEE_MORE=0]="CLICKED_SEE_MORE",I[I.INFINITE_SCROLL=1]="INFINITE_SCROLL",I);function OH(e){let t=(0,Y.OY)(),[n,a]=W.useState({}),[r,l]=W.useState({}),i=e.selectedCategoryId,{shelves:o,isLoading:s}=(0,I1.me)(e.shelfType),{categories:c,isLoading:d}=(0,II.a0)(e.categoryType),[m,u]=W.useState(!1),p=o?o.find(e=>e.id===i):void 0,_=c?c.find(e=>e.title===(null==p?void 0:p.title)):void 0,E=(0,id._T)(),g=W.useCallback(e=>{t(ek.A.enqueue({message:(0,ex.t)("whiteboard.inserts.could_not_fetch_collections",{errorMessage:e}),error:!0}))},[t]),h=e.categoryType===SE.kR.BROWSE_PLUGINS_MODAL?"plugins":"widgets",f={editor_types:["whiteboard","design_and_whiteboard"].toString()},v=`/api/community_categories/${null==_?void 0:_.id}/${h}?${(0,OF.OW)(f)}`,y=W.useCallback(l=>{(async()=>{let o=n[i],s=r[i];if(p&&(0,OR.uE)(o)&&_&&!m&&(1!==l||s)){u(!0);try{let r;let l=await (0,OR.Oi)(v,OR.SC,o,OR.sh),s=e.categoryType===SE.kR.BROWSE_PLUGINS_MODAL?l.plugins:l.widgets;if(!Array.isArray(s)){u(!1);return}let c=[],d=[];s.forEach(t=>{e.categoryType===SE.kR.BROWSE_PLUGINS_MODAL?c.push(t):e.categoryType===SE.kR.BROWSE_WIDGETS_MODAL&&d.push(t)}),t(ii.k1(c)),t(ii.A3(d));let m=s.filter((r=new Set(p.shelf_content.map(e=>e.id)),e=>!r.has(e.id))),_=[...void 0===o?[]:e.categoryType===SE.kR.BROWSE_PLUGINS_MODAL?o.plugins:o.widgets,...m],E=e.categoryType===SE.kR.BROWSE_PLUGINS_MODAL?"plugins":"widgets";a({...n,[i]:{...l,[E]:_}}),u(!1)}catch(t){let e=(0,ex.ID)(t);e&&g(e)}}})()},[t,e.categoryType,_,i,p,n,m,r,v,g]);if(!o||0===o.length)return null;if(s||d)return W.createElement(l7.M7,{className:OU});let C=`/community/${e.resourceType===l0.K2.PLUGIN?"plugins/figjam":"widgets"}`,w=()=>{i&&(r[i]||l({...r,[i]:!0}),y(0))},b=()=>{let e=n[i];return(0,OR.uE)(e)},T=t=>W.createElement("button",{key:t.id,className:OK},e.renderResource(t));return p?W.createElement(tg.kH,{name:"explore",properties:{resourceType:e.resourceType,selectedCategory:i}},W.createElement("div",{className:e.resourceType===l0.K2.WIDGET?"browse_explore_category_view--widgetTilesGridContainer--U4Dl6 browse_widgets_view--widgetTilesGridContainer--t5-lL":"browse_explore_category_view--pluginCategoryViewPadding--tst89"},p.shelf_content.map(e=>T(e)),_&&r[i]&&(()=>{let t=e.resourceType===l0.K2.PLUGIN?"plugins":"widgets",a=n[i],r=a&&a[t];return r&&0!==r.length?r.map(e=>T(e)):null})()),(()=>{let e=r[i];return(!e||b())&&i?m||e&&b()?W.createElement(W.Fragment,null,W.createElement(ie.w,{onIntersectionChange:e=>{e.isIntersecting&&!m&&y(1)}}),W.createElement(l7.M7,{className:OU})):W.createElement("button",{className:OB,onClick:w},W.createElement(ex.Tx,{id:"whiteboard.inserts.see_more"})):(null==E?void 0:E.shouldOptimizeForIpadApp)||(0,$.Ub)().cmty_m10n_test_apple_os?null:W.createElement("a",{className:OB,href:C,target:"_blank"},W.createElement(eN.A,{svg:iN.c,className:"browse_explore_category_view--communityLinkIcon--1X73u text--fontPos11--2LvXf text--_fontBase--QdLsd"}),W.createElement(ex.Tx,{id:"whiteboard.inserts.browse_more_in_community"}))})()):null}function OV(e){let t=(0,N8.U1)(e.debouncedSearchQuery),n=(0,N8.Ep)();return 0===e.results.length&&0===t.length?W.createElement(tg.kH,{name:"more",properties:{query:e.debouncedSearchQuery}},W.createElement(SI,{illustration:Il.c,defaultDisplayStringResourceType:"items",query:e.query})):W.createElement(tg.kH,{name:"more",properties:{query:e.debouncedSearchQuery}},W.createElement("div",{className:"browse_more_search_view--searchTopPadding--iZQ6F"},n&&W.createElement(AG,{faceStampSearchIsLoading:e.faceStampSearchIsLoading,query:e.query}),e.results.map((e,t)=>W.createElement(e,{key:t}))))}let OW="browse_plugins_search_view--sectionHeader--OKPiP text--fontPos13--xW8hS text--_fontBase--QdLsd";function OY(e){let{query:t,debouncedSearchQuery:n,hasResolved:a,savedSearchResultIds:r,communitySearchResultIds:l,orgSearchResultIds:i,developmentSearchResultIds:o,lastPluginSearchQuery:s}=e,c=(0,Y.w1)(e=>e.currentUserOrgId&&e.orgById[e.currentUserOrgId]),d=r&&r.length>0,m=l&&l.length>0,u=o&&o.length>0,p=c&&i&&i.length>0;return s!==n?W.createElement(S4,null):!a||d||m||p||u?W.createElement(tg.kH,{name:"plugins",properties:{resourceType:"plugin",query:n}},d&&W.createElement(W.Fragment,null,W.createElement("div",{className:OW},W.createElement(ex.Tx,{id:"whiteboard.inserts.plugin_recents"})),r.map(e=>W.createElement(IK,{pluginId:e,view:ST.i.SAVED,key:`saved_plugin_${e}`}))),u&&W.createElement(W.Fragment,null,W.createElement("div",{className:OW},W.createElement(ex.Tx,{id:"whiteboard.inserts.development"})),o.map(e=>W.createElement(IU,{localFileId:e,view:ST.i.DEVELOPMENT,key:"development_plugin_"+e}))),p&&W.createElement(W.Fragment,null,W.createElement("div",{className:OW},W.createElement(ex.Tx,{id:"whiteboard.inserts.plugin_from_org",orgName:c.name})),i.map(e=>W.createElement(IK,{pluginId:e,view:ST.i.EXPLORE,key:`org_plugin_${e}`}))),m&&W.createElement(W.Fragment,null,W.createElement("div",{className:OW},W.createElement(ex.Tx,{id:"whiteboard.inserts.plugin_from_community"})),l.map(e=>W.createElement(IK,{pluginId:e,view:ST.i.EXPLORE,key:`community_plugin_${e}`})))):W.createElement(tg.kH,{name:"plugins",properties:{resourceType:"plugin",query:n}},W.createElement(SI,{illustration:Il.c,defaultDisplayStringResourceType:"plugins",query:t,cta:W.createElement(SA,{url:"/community/plugins"}),orgNameIfAllowlistEnforced:c&&c.plugins_whitelist_enforced?c.name:void 0}))}var Oj=n(519572);function OX(e){let t=e.extensionType===iO.y6.Plugin?Oj.AP:Oj.yG,n=(0,rY.Ce)(),a=!!n&&t.hasAllowlist(n);return n&&a?W.createElement(Oq,{org:n,dedupeOrgSaves:e.dedupeOrgSaves,extensionType:e.extensionType}):null}function Oz(e){let{extensionIds:t,extensionType:n}=e;return n===iO.y6.Plugin?W.createElement(W.Fragment,null,t.map(e=>W.createElement(IK,{pluginId:e,view:ST.i.EXPLORE,key:e}))):W.createElement("div",{className:Oc},t.map(e=>W.createElement(Ah,{widgetId:e,key:e})))}function Oq(e){let{org:t}=e,n=(e.extensionType===iO.y6.Plugin?tf.u_:tf.iA)(),a=W.useMemo(()=>Object.keys(n),[n]),r=(0,t$.K0)(),l=(e.extensionType===iO.y6.Plugin?iO.cl:iO.X2)(t.id,r),i=(0,np.IT)(l),o=(0,tf.qK)(),s=e.extensionType===iO.y6.Plugin?o.orgPlugins:o.orgWidgets,c=W.useMemo(()=>e.dedupeOrgSaves?a.filter(e=>!s[e]):a,[a,e.dedupeOrgSaves,s]);return i?0===c.length?null:W.createElement(W.Fragment,null,W.createElement("div",{className:Oo},W.createElement(ex.Tx,{id:"universal_insert.approved_from_figma_community"})),W.createElement(Oz,{extensionType:e.extensionType,extensionIds:c})):W.createElement(l7.M7,{className:Os})}var OZ=((A=OZ||{}).RECENT_AND_SAVED="recent_and_saved",A.DEVELOPMENT="development",A.ORG="org",A);let OQ="browse_main_view_selector--mainViewHeader--1tbfQ",OJ="browse_main_view_selector--mainViewSelectorTitle--WL5Qi text--fontPos13--xW8hS text--_fontBase--QdLsd";function O$(e){let t=(0,Y.OY)(),n=(0,rp.g)(),a=(0,rY.Ce)(),r=W.useCallback(e=>(function(e,t){switch(e){case OZ.RECENT_AND_SAVED:return(0,ex.t)("universal_insert.recents_and_saved");case OZ.DEVELOPMENT:return(0,ex.t)("universal_insert.development");case OZ.ORG:return t?(0,ex.t)("whiteboard.inserts.plugin_from_org",{orgName:t.name}):(0,ex.t)("universal_insert.from_your_org")}})(e,a),[a]),l=[OZ.RECENT_AND_SAVED],i=(0,Y.w1)(e=>e.universalInsertModal.scrollDevelopmentSectionIntoView),o=W.useRef(null);if(o.current&&i){t(lH.eK({}));let e=o.current;setTimeout(()=>e.scrollIntoView({behavior:"smooth"}),0)}return(tW.sZ&&l.push(OZ.DEVELOPMENT),1!==l.length||a)?W.createElement("div",{className:OQ,ref:o},W.createElement(aZ.M1,{id:"figjam-browse-modal-main-view-select",property:e.currentView,formatter:{format:r},onChange:e.setCurrentView,dispatch:t,inputClassName:OJ,className:"browse_main_view_selector--mainViewSelector--l7iuo",dropdownShown:n,dropdownWidth:173,role:"button"},l.map(e=>W.createElement(aZ.cb,{value:e,key:e},r(e))),a&&W.createElement(aZ.Wy,null),a&&W.createElement(aZ.cb,{value:OZ.ORG},r(OZ.ORG)))):W.createElement("div",{className:q()(OQ,ap.cx.ml8.mt2.mb2.$)},W.createElement("div",{className:OJ},r(l[0])))}let O0=(0,nT.Zf)(OZ.RECENT_AND_SAVED),O1=(0,nT.Zf)(OZ.RECENT_AND_SAVED);n(649244);function O2(){let e=(0,tf.yG)(),t=(0,tf.SU)(),n=(0,tf.Sw)().filter(e=>!t[e.id]);if(0===Object.keys(e).length&&0===n.length)return W.createElement(oH,{isWidget:!1});let a=Object.keys(e).reverse();return W.createElement(W.Fragment,null,a.map(e=>W.createElement(IU,{localFileId:Number(e),view:ST.i.DEVELOPMENT,key:"development_plugin_"+e})),n.map(e=>W.createElement(IU,{publishedPlugin:e,view:ST.i.DEVELOPMENT,key:"development_plugin_"+e.id})))}function O5(){let e=(0,tf.vT)();return 0===e.length?null:W.createElement(tg.kH,{name:"invited"},e.map(e=>W.createElement(IK,{pluginId:e.id,key:e.id,view:ST.i.PLUGINS,pluginVersion:(0,iA.Y9)(e)})),W.createElement(aE.g,{padding:{horizontal:24}},W.createElement("div",{className:ap.cx.wFull.h1.$,style:a_.sx.add({backgroundColor:"var(--color-border, $figmaFGBlack1)"}).$})))}var O3=n(155420);function O4(){return W.createElement("div",{className:ap.cx.flex.flexColumn.itemsCenter.alignCenter.pl16.pr16.$},W.createElement("div",null,W.createElement(eN.A,{svg:O3.c,useOriginalSrcFills_DEPRECATED:!0,svgWidth:"90px",autosize:!0})),W.createElement("div",{className:ap.cx.mb24.mt16.pl36.pr36.$},W.createElement(ex.Tx,{id:"whiteboard.inserts.plugin_community_disabled",private_plugins:W.createElement(eT.Gy,{href:"https://www.figma.com/plugin-docs",target:"_blank",className:"browse_resources_modal--emptyStateLink--N1T6a",trusted:!0},W.createElement(ex.Tx,{id:"whiteboard.inserts.plugin_community_disabled_private_plugins"}))})))}let O6="browse_plugins_recents_list--loadingSpinner--ydkCW";function O8(){let e=(0,Y.w1)(e=>e.currentUserOrgId?e.orgById[e.currentUserOrgId]:void 0);return e?W.createElement(O9,{org:e}):W.createElement(l7.M7,{className:O6})}function O9({org:e}){let t=(0,Y.w1)(t=>{var n;let{orgUsersByOrgId:a}=t;return(null==(n=a.orgUsers[e.id][t.user.id])?void 0:n.permission)===nd.y6.GUEST}),n=!!(e&&e.plugins_whitelist_enforced),a=(0,tf.u_)(),r=(0,el.q)(n=>e&&!t?(0,iA.Oq)((0,iA.IZ)((0,SP.AX)(Object.values(n.publishedPlugins))),e.id):{}),l=Object.keys(r),i=(0,t$.K0)(),o=(0,iO.cl)((null==e?void 0:e.id)??"",i),s=(0,np.IT)(o),c=ii.Q$.loadingKeyForPayload((null==e?void 0:e.id)??""),d=(0,np.IT)(c),m=(0,tf.qK)().orgPlugins,u=W.useMemo(()=>{let e=Object.values(m).filter(e=>!r[e.plugin_id]);return n&&(e=e.filter(e=>a[e.plugin_id])),e.sort(tf.jY)},[a,n,r,m]),p=(0,is.u6)(u),_=!e.public_plugins_allowed||e.plugins_whitelist_enforced&&s&&0===Object.keys(a).length,E=t||d&&0===Object.keys(r).length,g=(0,Y.OY)();return(W.useEffect(()=>{e&&!t&&g(tl._K())},[g,e,t]),(!n||s)&&d)?_&&E?W.createElement(O4,null):W.createElement(tg.kH,{name:"explore"},l.length>0&&W.createElement(W.Fragment,null,l.map(e=>W.createElement(IK,{pluginId:e,view:ST.i.EXPLORE,key:e,showLockIcon:!0}))),p.length>0&&W.createElement(W.Fragment,null,W.createElement("div",{className:"browse_plugins_recents_list--sectionHeader--az12L text--fontPos13--xW8hS text--_fontBase--QdLsd"},W.createElement(ex.Tx,{id:"universal_insert.saved_from_community"})),p.map(e=>{let t=e.plugin_id;return W.createElement(IK,{pluginId:t,view:ST.i.EXPLORE,key:t})})),W.createElement(OX,{extensionType:iO.y6.Plugin,dedupeOrgSaves:!0})):W.createElement(l7.M7,{className:O6})}function O7(){return W.createElement("div",{className:ap.cx.pl24.pr24.pt8.pb8.$},W.createElement("div",{className:ap.cx.wFull.h1.$,style:a_.sx.add({backgroundColor:"var(--color-border)"}).$}))}let Me="browse_recent_and_saved_view--subTitle--04tFz text--fontPos12--YsUAh text--_fontBase--QdLsd",Mt="browse_recent_and_saved_view--showAllSavedExtensionsButton--l1qOq text--fontPos12--YsUAh text--_fontBase--QdLsd";function Mn(){let{filterByAllowlist:e,filterByPublicResourcesAllowed:t}=(0,tf.Su)(!1),n=(0,SP.Ah)(),a=(0,tf.At)().filter(n);a=t(a=e(a));let r=(0,tf.qK)(),l=r.plugins,i=W.useMemo(()=>Object.values(l).sort(tf.jY).filter(e=>"user"===e.installed_by),[l]),o=(0,ec.ei)(()=>i),s=(0,is.u6)(o()),[c,d]=W.useState(!1),m=W.useMemo(()=>c?s:s.slice(0,40),[s,c]),u=(0,th.q6)();if(!r.loaded&&!u)return W.createElement(l7.M7,{className:"browse_recent_and_saved_view--loadingSpinner--kb6-g"});if(0===a.length&&0===s.length)return W.createElement(oq,{isWidget:!1});let p=a.slice(0,6),_=p.length>0,E=s.length>0;return W.createElement(W.Fragment,null,_&&W.createElement(W.Fragment,null,W.createElement("div",{className:Me},W.createElement(ex.Tx,{id:"universal_insert.recents"})),W.createElement(Or,{items:p,view:ST.i.RECENTS})),_&&E&&W.createElement(O7,null),E&&W.createElement(W.Fragment,null,W.createElement("div",{className:Me},W.createElement(ex.Tx,{id:"universal_insert.saved"})),W.createElement(Or,{items:m,view:ST.i.SAVED}),s.length>40&&!c&&W.createElement("button",{className:Mt,onClick:()=>d(!0)},W.createElement(ex.Tx,{id:"universal_insert.show_all_saved_plugins"}))))}function Ma(){return W.createElement(I9,{resourceType:l0.K2.PLUGIN,shelfType:l0.CW.BROWSE_PLUGINS_MODAL,renderResource:e=>W.createElement(IK,{pluginId:e.id,view:ST.i.EXPLORE,key:e.id})})}function Mr(){let[e,t]=(0,eo.lZ)(O1);return W.createElement(O$,{setCurrentView:t,currentView:e})}function Ml(){let e=(0,eo.m4)(O1),t=(0,rY.Ce)(),n=!!(t&&t.plugins_whitelist_enforced);return W.createElement("div",null,W.createElement(O5,null),W.createElement("div",{className:ap.cx.flex.justifyBetween.wFull.minW0.$},W.createElement(Mr,null),e===OZ.DEVELOPMENT&&W.createElement("div",{className:ap.cx.flex.itemsCenter.pr16.$},W.createElement(l6,{resourceType:l0.K2.PLUGIN}))),e===OZ.RECENT_AND_SAVED&&W.createElement(W.Fragment,null,W.createElement(Mn,null),n?W.createElement(OX,{extensionType:iO.y6.Plugin}):W.createElement(Ma,null)),e===OZ.DEVELOPMENT&&W.createElement(O2,null),e===OZ.ORG&&W.createElement(W.Fragment,null,W.createElement(O8,null),!n&&W.createElement(Ma,null)))}function Mi(){W.useEffect(()=>{function e(e){e.key===n_.cB&&Q.x.dispatch(tc.O0({storeInRecentsKey:Sw.Sy.FigJam}))}return Q.x.dispatch(tc.O0({storeInRecentsKey:Sw.Sy.FigJam})),window.addEventListener("storage",e,!1),()=>{window.removeEventListener("storage",e,!1)}},[]);let e=(0,Y.w1)(e=>e.currentUserOrgId?e.orgById[e.currentUserOrgId]:void 0),t=e?e.id:"",n=(0,np.y_)(Sg.UR.loadingKeyForPayload({shelfType:l0.CW.BROWSE_PLUGINS_MODAL})),a=(0,t$.K0)(),r=(0,np.y_)((0,iO.cl)(t,a)),l=(0,np.y_)(ii.Q$.loadingKeyForPayload(t));return n||r||l?W.createElement(S4,null):W.createElement(tg.kH,{name:"plugins"},W.createElement(Ml,null))}var Mo=n(351916),Ms=n(393052),Mc=n(492496),Md=n(980328);function Mm(e){let t=(0,Y.w1)(e=>e.universalInsertModal),n=(0,Y.OY)(),a=(0,tf.IX)(),r=(0,Y.w1)(t=>(0,iA.QT)(e.pluginId,t.publishedPlugins)),l=(0,i$.OY)(r),i=Object.values(a).find(e=>e.plugin_id===r.id),o=!!i,s=!!r.id,c=(0,tf.qK)().plugins[e.pluginId]||(0,iA.Y9)(r),{isSavedForOrg:d,isSavedForUser:m,onSaveClick:u}=(0,II.iO)(c),p=d||m,_=(0,SP.ai)().currentTab,E=(0,SC.k)(_),g=(0,og.M)(),h=(0,id._T)(),{orgEntity:f,org:v,appModel:y,selectedView:C,openFile:w,isReadOnly:b,userCanRunPlugins:T,pluginSubmenuDropdownTargetRect:x,activeTextReviewPlugin:k}=(0,el.q)(e=>{var t,n;return{orgEntity:(0,tx.or)(e),org:e.currentUserOrgId?e.orgById[e.currentUserOrgId]:null,appModel:e.mirror.appModel,selectedView:e.selectedView,openFile:e.openFile,isReadOnly:e.mirror.appModel.isReadOnly,userCanRunPlugins:(0,n$.gp)(e),pluginSubmenuDropdownTargetRect:null==(n=null==(t=e.dropdownShown)?void 0:t.data)?void 0:n.targetRect,activeTextReviewPlugin:e.mirror.appModel.activeTextReviewPlugin}});W.useEffect(()=>{s||n(ii.S0({id:e.pluginId,resourceType:l0.K2.PLUGIN}))},[n,e.pluginId,s]);let N={};N[c.plugin_id]=c;let S={openFile:w,allSavedPlugins:N,localExtensions:a,orgEntity:f,org:v,isReadOnly:b,userCanRunPlugins:T,editorType:"whiteboard",activeTextReviewPlugin:k,isDevHandoff:!1,publishedPlugins:{},publishedWidgets:{}},I={openFile:w,allSavedPlugins:{},localExtensions:a,orgEntity:f,org:v,isReadOnly:b,userCanRunPlugins:T,editorType:"whiteboard",activeTextReviewPlugin:k,publishedPlugins:{},publishedWidgets:{}},A=(0,rp.g)(),O=(null==A?void 0:A.type)===Mu&&A.data.pluginId===e.pluginId,M=(null==i?void 0:i.manifest.menu)&&i.manifest.menu.length>0?(0,tY._Y)(i.manifest.menu,{localFileId:null==i?void 0:i.localFileId}):[],P=c.manifest.menu&&c.manifest.menu.length>0?(0,tY._Y)(c.manifest.menu,{pluginId:c.plugin_id}):[],L=P.length>0||M.length>0,D=o||L,R=()=>{let t=()=>{let t={type:"run-installed-plugin",pluginId:e.pluginId,command:void 0,parameterOnly:c.manifest.parameters&&!1!==c.manifest.parameterOnly,parameterEntry:(0,tY.AH)(c.manifest.parameters,c.name)};(0,Mo.QX)(S,E,t)};p?t():u(t,!0),g()},F=()=>{if(!i)return;let e=()=>{let e={type:"run-local-plugin",localFileId:i.localFileId,command:void 0,parameterOnly:i.manifest.parameters&&!1!==i.manifest.parameterOnly,parameterEntry:(0,tY.AH)(i.manifest.parameters,i.name)};(0,Mo.QX)(I,E,e)};p?e():u(e,!0),g()};if(!s)return W.createElement(l7.M7,{className:Md.kH});let B=(null==h?void 0:h.shouldOptimizeForIpadApp)||(0,$.Ub)().cmty_m10n_test_apple_os;return W.createElement(tg.kH,{name:"detail",properties:{resourceId:r.id,isMonetized:(0,l0.OG)(r),resourceType:l0.K2.PLUGIN,editorType:"whiteboard"}},W.createElement(nK.f,{height:(0,SP.KQ)(t.pinned,500,SP.uk)},W.createElement("div",{className:Md.Ge},l&&W.createElement(oE.EY,null),W.createElement("img",{className:Md.YD,src:r.redirect_thumbnail_url||"",alt:`${c.name}`,width:lJ.Sw,height:lJ.Sw/2}),W.createElement("div",{className:Md.wP},W.createElement(o_.W,{resource:r})),W.createElement("div",{className:Md.kr},W.createElement(iz.C,{fallback:null,errorFallback:null,value:c.description})))),!B&&W.createElement(eT.cH,{className:Md.gT,href:`/community/plugin/${e.pluginId}`,target:"_blank",trusted:!0},W.createElement(eN.A,{svg:iN.c,className:Md.e7}),W.createElement(ex.Tx,{id:"whiteboard.inserts.see_more_details_in_community"})),O&&x&&W.createElement(cC.I,{lean:"left",minWidth:130,rootAndSubmenuMaxWidth:190,leanPadding:0,showPoint:!1,items:(()=>{if(!D)return[];if(!L&&i)return[{displayText:"In-development version",callback:()=>F()},{displayText:"Published version",callback:()=>R()}];let e=e=>()=>(0,Mo.QX)(S,E,e),t=[];P.forEach(n=>{t.push((0,Mo.Y7)(n,e))});let a=(0,Mc.MT)(t,{appModel:y,selectedView:C});if(!o)return a;let r=e=>()=>(0,Mo.QX)(I,E,e),l=[];M.forEach(e=>{l.push((0,Mo.Y7)(e,r))});let s=(0,Mc.MT)(l,{appModel:y,selectedView:C}),c=[];return i.error?c.push({displayText:"\u26A0 In-development version",callback:()=>{n((0,ts.A5)({type:Ms.s,data:{error:i.error,dispatch:n,resourceType:l0.K2.PLUGIN},showModalsBeneath:!0}))}}):s.length>0?c.push({displayText:"In-development version",children:s}):c.push({displayText:"In-development version",callback:()=>{F()}}),a.length>0?c.push({displayText:"Published version",children:a}):c.push({displayText:"Published version",callback:()=>{R()}}),c})(),onSelectItem:e=>{e.callback&&e.callback("",null,n)},parentRect:x,dispatch:n}))}let Mu="DROPDOWN_TYPE_PLUGIN_DETAIL_SUBMENU";function Mp(e){let t=e.selectedCategoryId,{shelves:n,isLoading:a}=(0,I1.me)(e.shelfType),r=n?n.find(e=>e.id===t):void 0;if(!n||0===n.length)return null;if(a)return W.createElement(l7.M7,{className:OU});let l=t=>W.createElement("div",{key:t.id,className:OK,role:"button",tabIndex:0},e.renderResource(t));return r?W.createElement(tg.kH,{name:"explore",properties:{selectedCategory:t}},W.createElement("div",{className:"browse_explore_category_view--resourcesGrid--Gvw3Y"},r.shelf_content.map(e=>l(e)))):null}var M_=n(542660),ME=n(180155),Mg=n(475136),Mh=n(266386);function Mf(e){let t=(0,Y.OY)(),n=(0,Y.w1)(e=>e.universalInsertModal),a=(0,Y.w1)(e=>e.hubFiles)[e.id],r=(0,TG.oF)(a),l=(0,id._T)(),i=(null==l?void 0:l.shouldOptimizeForIpadApp)||(0,$.Ub)().cmty_m10n_test_apple_os;return W.createElement(tg.kH,{name:"detail",properties:{resourceId:a.id,resourceType:l0.K2.HUB_FILE}},W.createElement(nK.f,{height:(0,SP.KQ)(n.pinned,504,SP.uk)},W.createElement("div",{className:"browse_templates_preview--embedContainer--8lgx5 hub_file_detail_view--embedContainer--QMuUr detail_view--embedContainer---TcbF"},W.createElement(Mh.i,{key:a.id,hubFile:a,profileIdToAdminResourceAs:null,fullscreenState:Mg.aS.DEFAULT,dispatch:t,containerClassName:"browse_templates_preview--embedContainerInner--0EnCv hub_file_detail_view--iframeContainer---uQYN",disableClickToExpand:!0,disableComments:!0,disableFullscreen:!0,fixedSize:!0})),W.createElement("div",{className:"browse_templates_preview--description--RScN2 text--fontPos13--xW8hS text--_fontBase--QdLsd"},W.createElement("div",{className:"browse_templates_preview--textDescription--4t3-n"},(0,Id.PV)(r.description).trim().length>0&&W.createElement(iz.C,{fallback:null,errorFallback:null,value:r.description})))),!i&&W.createElement(M_.c,{className:"browse_templates_preview--communityLinkBase--1NI6W",href:(0,iJ.yC)({path:ME.yi.FILE,id:a.id}),target:"_blank",trusted:!0},W.createElement(eN.A,{svg:iN.c,className:"browse_templates_preview--communityLinkIcon--DC-Q4 text--fontPos11--2LvXf text--_fontBase--QdLsd"}),W.createElement(ex.Tx,{id:"whiteboard.inserts.see_more_details_in_community"})))}var Mv=n(455324);function My(e){var t,n,a;let{resourceId:r,goBack:l,buttonCta:i}=e,o=(0,Y.w1)(e=>e.hubFiles)[r],s=(0,TG.oF)(o),{insertTemplate:c,isInsertingTemplate:d}=(0,Sv.Y7)(),m=(0,og.M)(),{currentTab:u,searchQuery:p}=(0,SP.ai)(),_=(0,SC.k)(u),E=(0,Y.w1)(e=>e.universalInsertModal),g=(0,lJ.wD)(),h="whiteboard"===(0,tw.CM)(),f=(0,Ip.kR)(),v=(null==(t=o.community_publishers)?void 0:t.accepted)||[];return W.createElement("div",{className:"browse_templates_preview_top_bar--topBar--6SkwK"},W.createElement("div",{className:"browse_templates_preview_top_bar--left--vErPQ"},W.createElement(eN.A,{svg:of.c,className:"browse_templates_preview_top_bar--backButton--d3Iws",onClick:et.cp.isIpad?void 0:l,onPointerDown:et.cp.isIpad?l:void 0,"data-not-draggable":!0,"data-does-not-dismiss-modal":!0}),W.createElement("div",{className:"browse_templates_preview_top_bar--pluginMetadataContainer--WC29F"},W.createElement("div",{className:"browse_templates_preview_top_bar--pluginTileName--iiS-m text--fontPos13--xW8hS text--_fontBase--QdLsd ellipsis--ellipsis--Tjyfa"},s.name),((null==(n=o.community_publishers)?void 0:n.accepted.length)||0)>0&&W.createElement("div",{className:"browse_templates_preview_top_bar--pluginTilePublishers--UFpkz text--fontPos11--2LvXf text--_fontBase--QdLsd ellipsis--ellipsis--Tjyfa"},W.createElement(ex.Tx,{id:"whiteboard.inserts.by_publisher",numPublishers:v.length,firstPublisherName:null==(a=v[0])?void 0:a.name,multiplePublisherSuffix:W.createElement("span",{"data-tooltip-type":n1.wL.TEXT,"data-tooltip":(0,Mv.Gg)(v.slice(1),v.length,e=>e.name)},W.createElement(ex.Tx,{id:"whiteboard.inserts.and_others"}))})))),W.createElement("div",{className:"browse_templates_preview_top_bar--right--jxcsE"},W.createElement(IX.S,{insertTemplate:()=>{c({template:{template:o,type:Sy.e.HubFile},templateInsertionDirection:eM.a4s.RIGHT,triggeredFrom:_,onSuccess:()=>{h&&(0,Ip.S4)({id:o.id,type:ST.i.TEMPLATES,source:_,options:{...f,query:p}}),m()}})},isInsertingTemplate:d(r)},i),E.pinned===Cz.a.NOT_PINNED?W.createElement(Av.E,{setPinned:e.setPinned}):W.createElement(rW.CA,{onClick:g,className:"browse_templates_preview_top_bar--searchCloseButton--itAHE browse_modal_container--searchCloseButton--WHSfL"})))}function MC(e){let t=(0,Y.w1)(e=>e.hubFiles),n=e.templates[At].map(e=>t[e]),a=(0,r2.gJ)(),[r,l]=W.useState(!a);W.useEffect(()=>{a&&l(!1)},[e.debouncedSearchQuery,a]);let i=[...e.teamTemplatesFromSearch.map(e=>({type:Sy.e.TeamTemplate,template:e})),...r?n.map(e=>({type:Sy.e.HubFile,template:e})):[]];return 0!==n.length||0!==e.totalNumTeamTemplatesFromSearch||e.teamTemplatesFromSearchIsLoading?W.createElement(tg.kH,{name:"templates",properties:{query:e.debouncedSearchQuery}},W.createElement("div",{className:"browse_templates_tab--templatesSearchTopPadding--h4HNe"},W.createElement(I0,{templates:i,templateInsertionLocation:TG.AH.CURRENT_FILE}),!e.teamTemplatesFromSearchIsLoading&&W.createElement("div",{className:ap.cx.relative.$},W.createElement(ie.w,{className:ap.cx.absolute.h300.$,style:{top:"-150px"},"data-testid":"load-more-search",onIntersectionChange:({isIntersecting:t})=>{t&&!e.requestLoadMoreTeamTemplatesFromSearch()&&l(!0)}})))):W.createElement(tg.kH,{name:"templates",properties:{query:e.debouncedSearchQuery}},W.createElement(SI,{illustration:Il.c,defaultDisplayStringResourceType:"templates",query:e.query,cta:W.createElement(SA,{url:"/community/figjam",resourceType:l0.K2.HUB_FILE})}))}var Mw=n(927800);let Mb=new o1.ei([],{keys:["name"]}),MT=new o1.ei([],{...tx.uW,keys:[{name:"name",weight:1},{name:"localFilePath",weight:.5}]}),Mx=new o1.ei([],{...tx.uW,keys:[{name:"name",weight:1},{name:"localFilePath",weight:.5}]}),Mk=new o1.ei([],{threshold:.1,matchAllTokens:!0,tokenize:!1,distance:300,keys:[{name:"name",weight:1},{name:"tags",weight:.5}]});Mk.set([{name:"Code block",tags:["snippet","syntax","highlight","program","`"],component:A7.oJ},{name:"Timer",tags:["countdown","stopwatch","pomodoro","start","hourglass","clock"],component:A7.ko},{name:"Images",tags:["upload","media","file","gif","jpeg","jpg","png","mov","mp4","movie","video","webm"],component:A7.EF},{name:"Links",tags:["media","across","web","url","site","embed"],component:A7.OW},{name:"Table",tags:["table","chart","spreadsheet","list","figure","diagram","grid","worksheet","database"],component:A7.IP},...(0,$.Ub)().figjam_mindmaps_entry_enable?[{name:"Mind map",tags:["mindmap","mind","map","diagram","brainstorm"],component:A7.tI}]:[]]);let MN="";function MS(){var e;let[t,n]=W.useState(MN),[a]=(0,Af.c)(t,200),i=(0,Y.w1)(e=>e.universalInsertModal),[o,s]=W.useState(i.previewResource),c=(0,Ip.kR)(),d=(0,Y.OY)(),{shelves:m,hubFiles:u,fileKey:p,initialTab:_}=(0,el.q)(e=>({shelves:e.communityHub.shelves[l0.CW.FIGJAM_TEMPLATES_PICKER],hubFiles:e.hubFiles,fileKey:e.openFile?e.openFile.key:null,initialTab:e.universalInsertModal.initialTab})),[E,g]=W.useState(_||r||(p?ST.i.ALL:ST.i.WIDGETS));W.useEffect(()=>{(null==l?void 0:l.type)===SC.C.ORG_FACE_STAMPS&&s({id:"FACE_STAMPS",type:SC.C.ORG_FACE_STAMPS})},[]),W.useEffect(()=>{MN=t,r=E,l=o},[E,o,t]);let h=W.useMemo(()=>(m||[]).reduce((e,t)=>({...e,[t.title]:t.shelf_content.map(e=>e.id)}),{}),[m]),f=null==(e=(0,$.cp)().user_data)?void 0:e.id,v=(0,tf.Wm)(),y=(0,tf.yG)(),{pluginServerSideSearch:C,pluginSearchIsLoading:w,pluginSearchHasResolved:b,setLastPluginSearchQuery:T,lastPluginSearchQuery:x}=(0,tf.Se)(ir.w.Editors.FIGJAM),{widgetServerSideSearch:k,widgetSearchIsLoading:N,widgetSearchHasResolved:S,setLastWidgetSearchQuery:I,lastWidgetSearchQuery:A}=(0,tf.A9)(ir.w.Editors.FIGJAM),O=(0,r2.gJ)(),{templates:M,total:P,requestLoadMore:L,isLoading:D}=(0,Sv.E1)(a,O),{faceStampServerSideSearch:R,faceStampSearchIsLoading:F,faceStampSearchHasResolved:B,lastFaceStampSearchQuery:U,setLastFaceStampSearchQuery:K}=(0,tf.Av)({maxResults:20}),[G,H]=W.useState({[At]:[]}),[V,j]=W.useState([]),[X,z]=W.useState([]),[q,Q]=W.useState([]),[J,ee]=W.useState([]),[et,en]=W.useState([]),[ea,er]=W.useState([]),[ei,eo]=W.useState([]),[es,ec]=W.useState([]),[ed,em]=W.useState([]);return W.useEffect(()=>{let e=Object.keys(h).reduce((e,t)=>[...e,...h[t]],[]).map(e=>(0,TG.oF)(u[e]));Mb.set(e)},[h,u]),W.useEffect(()=>{MT.set(Object.values(y))},[y,d]),W.useEffect(()=>{Mx.set(Object.values(v))},[v,d]),W.useEffect(()=>{(E===ST.i.TEMPLATES||E===ST.i.ALL)&&(""===a.trim()?H({[At]:[]}):H({[At]:[...new Set(Mb.search(a).map(e=>e.hub_file_id))]})),(E===ST.i.ALL||E===ST.i.MORE)&&(""===a.trim()?K(null):R(a)),(E===ST.i.PLUGINS||E===ST.i.ALL)&&(""===a.trim()?(z([]),en([]),Q([]),ee([]),T(null)):(en(MT.search(a).map(e=>e.localFileId)),C(a,Q,ee,z))),(E===ST.i.WIDGETS||E===ST.i.ALL)&&(""===a.trim()?(er([]),em([]),eo([]),ec([]),I(null)):(em(Mx.search(a).map(e=>e.localFileId)),k(a,eo,ec,er))),(E===ST.i.STICKERS_AND_COMPONENTS||E===ST.i.ALL)&&d(iG.YP({query:a})),(E===ST.i.MORE||E===ST.i.ALL)&&j(Mk.search(a).map(e=>e.component)),(0,Z.we)("search_query_result",{query:a,selectedTab:E,entry_point:"figjam",scope:"figjam inserts modal",context:"search",...c})},[a,f,p,E]),{searchQuery:t,setSearchQuery:n,currentTab:E,setCurrentTab:g,searchTemplatesResult:G,moreResult:V,pluginSavedSearchResultIds:X,pluginCommunitySearchResultIds:q,pluginOrgSearchResultIds:J,pluginDevelopmentSearchResultIds:et,pluginSearchIsLoading:w||t!==a,pluginSearchHasResolved:b,widgetSavedSearchResultIds:ea,widgetCommunitySearchResultIds:ei,widgetOrgSearchResultIds:es,widgetDevelopmentSearchResultIds:ed,widgetSearchIsLoading:N||t!==a,widgetSearchHasResolved:S,faceStampSearchIsLoading:F||t!==a,faceStampSearchHasResolved:B,debouncedSearchQuery:a,lastPluginSearchQuery:x,lastWidgetSearchQuery:A,lastFaceStampSearchQuery:U,teamTemplatesFromSearch:M,totalNumTeamTemplatesFromSearch:P,teamTemplatesFromSearchIsLoading:D,requestLoadMoreTeamTemplatesFromSearch:L,previewResource:o,setPreviewResourceAndTrack:e=>{if(s(e),e&&e.type===SC.C.TEMPLATES&&u[e.id]){let t=(0,TG.oF)(u[e.id]);(0,Mw.U)("resource_previewed",{fileKey:p,resourceType:"template",resourceName:t.name,resourceId:e.id,templateType:Sy.e.HubFile,triggeredFrom:(0,SC.k)(E)})}}}}let MI="browse_widgets_search_view--sectionHeader--IDC0e text--fontPos13--xW8hS text--_fontBase--QdLsd",MA="browse_widgets_search_view--widgetTilesGridContainer--b0tIx browse_widgets_view--widgetTilesGridContainer--t5-lL";var MO=n(977556);function MM(e){let{query:t,debouncedSearchQuery:n,hasResolved:a,savedSearchResultIds:r,communitySearchResultIds:l,orgSearchResultIds:i,developmentSearchResultIds:o,lastWidgetSearchQuery:s}=e,c=(0,Y.w1)(e=>e.currentUserOrgId&&e.orgById[e.currentUserOrgId]),d=(0,tf.oL)(),m=r&&r.length>0,u=l&&l.length>0,p=c&&i&&i.length>0,_=o&&o.length>0;return s!==n?W.createElement(S3,null):!a||m||u||p||_?W.createElement(tg.kH,{name:"widgets",properties:{resourceType:"widget",query:n}},m&&W.createElement(W.Fragment,null,W.createElement("div",{className:MI},W.createElement(ex.Tx,{id:"whiteboard.inserts.saved"})),W.createElement("div",{className:MA},r.map(e=>W.createElement(Ah,{widgetId:e,widgetVersion:d[e],key:`saved_plugin_${e}`})))),_&&W.createElement(W.Fragment,null,W.createElement("div",{className:MI},W.createElement(ex.Tx,{id:"whiteboard.inserts.development"})),W.createElement("div",{className:MA},o.map(e=>W.createElement(Ag,{tab:ST.i.DEVELOPMENT,localFileId:e,key:e})))),p&&W.createElement(W.Fragment,null,W.createElement("div",{className:MI},W.createElement(ex.Tx,{id:"whiteboard.inserts.widgets_from_org",orgName:c.name})),W.createElement("div",{className:MA},i.map(e=>W.createElement(Ah,{widgetId:e,key:e})))),u&&W.createElement(W.Fragment,null,W.createElement("div",{className:MI},W.createElement(ex.Tx,{id:"whiteboard.inserts.from_community"})),W.createElement("div",{className:MA},l.map(e=>W.createElement(Ah,{widgetId:e,key:e}))))):W.createElement(tg.kH,{name:"widgets",properties:{resourceType:"widget",query:n}},W.createElement(SI,{illustration:MO.c,defaultDisplayStringResourceType:"widgets",query:t,cta:W.createElement(SA,{url:"/community/widgets"}),orgNameIfAllowlistEnforced:c&&c.widgets_whitelist_enforced?c.name:void 0}))}function MP(){let{filterByAllowlist:e}=(0,tf.Su)(!0),t=(0,SP.qM)(),n=(0,tf.eA)().filter(t);n=e(n);let a=(0,tf.qK)().widgets,r=W.useMemo(()=>Object.values(a).sort(tf.jY).filter(e=>"user"===e.installed_by),[a]),l=(0,ec.ei)(()=>r),i=(0,is.u6)(l()),[o,s]=W.useState(!1),c=W.useMemo(()=>o?i:i.slice(0,40),[i,o]),d=W.useMemo(()=>n.slice(0,6),[n]);if(0===d.length&&0===i.length)return W.createElement(oq,{isWidget:!0});let m=d.length>0,u=i.length>0;return W.createElement(W.Fragment,null,m&&W.createElement(W.Fragment,null,W.createElement("div",{className:q()(Me,ap.cx.mb8.$)},W.createElement(ex.Tx,{id:"universal_insert.recents"})),W.createElement(Od,{items:d})),m&&u&&W.createElement(O7,null),u&&W.createElement(W.Fragment,null,W.createElement("div",{className:q()(Me,ap.cx.mb8.$)},W.createElement(ex.Tx,{id:"universal_insert.saved"})),W.createElement(Od,{items:c}),i.length>40&&!o&&W.createElement("button",{className:Mt,onClick:()=>s(!0)},W.createElement(ex.Tx,{id:"universal_insert.show_all_saved_widgets"}))))}function ML(){let e=(0,tf.Wm)(),t=(0,tf.Cg)().filter(t=>!Object.keys(e).find(n=>e[n].plugin_id===t.id));if(0===Object.keys(e).length&&0===t.length)return W.createElement(oH,{isWidget:!0});let n=Object.keys(e).reverse();return W.createElement("div",{className:Oc},n.map(e=>W.createElement(Ag,{localFileId:Number(e),tab:ST.i.DEVELOPMENT,key:e})),t.map(e=>W.createElement(A_,{tab:ST.i.DEVELOPMENT,publishedWidget:e,key:e.id})))}function MD(){let e=(0,tf.qo)();return 0===e.length?null:W.createElement(tg.kH,{name:"invited"},W.createElement("div",{className:ap.cx.mt16.$},W.createElement(aE.g,{width:"fill-parent",verticalAlignItems:"center",padding:{horizontal:24,vertical:16},horizontalAlignItems:"center",spacing:24,direction:"vertical"},e.map(e=>W.createElement(MR,{key:e.id,widget:e})),W.createElement("div",{className:ap.cx.wFull.h1.$,style:a_.sx.add({backgroundColor:"var(--color-border, $figmaFGBlack1)"}).$}))))}function MR({widget:e}){let t=(0,iA.Y9)(e),{currentTab:n}=MS();return W.createElement(aE.g,null,W.createElement("div",{className:ap.cx.relative.$},W.createElement("div",{className:ap.cx.absolute.w8.h8.bRadiusHalf.colorBgDanger.$,style:a_.sx.add({left:"-8px",top:"-8px"}).$}),W.createElement(Ij.oL,{image:W.createElement(Ij.gh,{removeBorder:!0},W.createElement(Ar.o,{src:t.redirect_snapshot_url,widget:t,analytics:{triggeredFrom:(0,SC.k)(n)},context:nd.aE.WHITEBOARD})),className:ap.cx.w200.$})),W.createElement(IS.Qh,{resource:e}))}var MF=n(447384);function MB(){return W.createElement("div",{className:ap.cx.flex.flexColumn.itemsCenter.$},W.createElement("div",null,W.createElement(eN.A,{svg:MF.c,useOriginalSrcFills_DEPRECATED:!0,svgWidth:"60px",autosize:!0})),W.createElement("div",{className:ap.cx.mt16.mb24.$},W.createElement(ex.Tx,{id:"whiteboard.inserts.disabled_org_widgets_empty_state_description"})))}function MU(){let e=(0,Y.w1)(e=>e.currentUserOrgId?e.orgById[e.currentUserOrgId]:void 0);return e?W.createElement(MK,{org:e}):W.createElement(l7.M7,{className:Os})}function MK({org:e}){let t=(0,Y.w1)(t=>{var n;let{orgUsersByOrgId:a}=t;return(null==(n=a.orgUsers[e.id][t.user.id])?void 0:n.permission)===nd.y6.GUEST}),n=e&&e.widgets_whitelist_enforced,a=(0,tf.iA)(),r=(0,tf.mQ)(),l=(0,t$.K0)(),i=(0,iO.X2)((null==e?void 0:e.id)??"",l),o=(0,np.IT)(i),s=ii.ct.loadingKeyForPayload(e.id??""),c=(0,np.IT)(s),d=!e.public_plugins_allowed||e.widgets_whitelist_enforced&&o&&0===Object.keys(a).length,m=t||c&&0===r.length,u=(0,tf.qK)().orgWidgets,p=W.useMemo(()=>{let t=Object.values(u).filter(t=>!(0,iI.Aj)(t,e.id));return n&&(t=t.filter(e=>a[e.plugin_id])),t.sort(tf.jY)},[a,n,e.id,u]),_=(0,is.u6)(p);return o&&c?d&&m?W.createElement(MB,null):W.createElement(tg.kH,{name:"explore"},r.length>0&&W.createElement(W.Fragment,null,W.createElement("div",{className:Oc},r.map(e=>{let t=e.plugin_id;return W.createElement(Ah,{widgetId:t,key:t,showLockIcon:!0})}))),_.length>0&&W.createElement(W.Fragment,null,W.createElement("div",{className:Oo},W.createElement(ex.Tx,{id:"universal_insert.saved_from_community"})),W.createElement("div",{className:Oc},_.map(e=>{let t=e.plugin_id;return W.createElement(Ah,{widgetId:t,key:t})}))),W.createElement(OX,{extensionType:iO.y6.Widget,dedupeOrgSaves:!0})):W.createElement(l7.M7,{className:Os})}function MG(){return W.createElement(I9,{resourceType:l0.K2.WIDGET,shelfType:l0.CW.BROWSE_WIDGETS_MODAL,renderResource:e=>W.createElement(Ah,{widgetId:e.id,key:e.id})})}function MH(){let[e,t]=(0,eo.lZ)(O0);return W.createElement(O$,{setCurrentView:t,currentView:e})}function MV(){let e=(0,eo.m4)(O0),t=(0,rY.Ce)(),n=!!(t&&t.widgets_whitelist_enforced);return W.createElement("div",null,W.createElement(MD,null),W.createElement("div",{className:ap.cx.flex.justifyBetween.wFull.minW0.$},W.createElement(MH,null),e===OZ.DEVELOPMENT&&W.createElement("div",{className:ap.cx.flex.itemsCenter.pr16.$},W.createElement(l6,{resourceType:l0.K2.WIDGET}))),e===OZ.RECENT_AND_SAVED&&W.createElement(W.Fragment,null,W.createElement(MP,null),n?W.createElement(OX,{extensionType:iO.y6.Widget}):W.createElement(MG,null)),e===OZ.DEVELOPMENT&&W.createElement(ML,null),e===OZ.ORG&&W.createElement(W.Fragment,null,W.createElement(MU,null),!n&&W.createElement(MG,null)))}function MW(){W.useEffect(()=>{function e(e){e.key===n_.yQ&&Q.x.dispatch(tc.kZ({storeInRecentsKey:Sw.Sy.FigJam}))}return Q.x.dispatch(tc.kZ({storeInRecentsKey:Sw.Sy.FigJam})),window.addEventListener("storage",e,!1),()=>{window.removeEventListener("storage",e,!1)}},[]);let e=(0,Y.w1)(e=>e.currentUserOrgId?e.orgById[e.currentUserOrgId]:void 0),t=e?e.id:"",n=(0,np.y_)(Sg.UR.loadingKeyForPayload({shelfType:l0.CW.BROWSE_WIDGETS_MODAL})),a=(0,t$.K0)(),r=(0,np.y_)((0,iO.X2)(t,a)),l=(0,np.y_)(ii.ct.loadingKeyForPayload(t)),i=(0,np.IT)(Sb.Sy.fetchWidgetsMetadata.loadingKeyForPayload({key:Sw.Sy.FigJam}));return n||r||l||!i?W.createElement(S3,null):W.createElement(tg.kH,{name:"widgets"},W.createElement(MV,null))}var MY=n(46592),Mj=n(357936),MX=n(685332),Mz=n(517004);function Mq(e){var t,n,a;let{resourceId:r,goBack:l}=e,i=(0,Y.w1)(e=>e.authedActiveCommunityProfile),o=(0,i$.CI)(r),s=!!o.id,c=(0,tf.qK)().plugins[r]||(0,iA.Y9)(o),d=(0,Y.w1)(e=>(0,vz.Wm)(e.selectedView)&&!e.user),m=(null==(t=o.community_publishers)?void 0:t.accepted)||[],u=(0,Y.OY)(),p=(0,Y.w1)(e=>e.universalInsertModal),_=(0,lJ.wD)();W.useEffect(()=>{s||u(ii.S0({id:r,resourceType:l0.K2.PLUGIN}))},[u,r,s]);let E=(0,i$.iI)(o),g=Object.values((0,tf.IX)()).find(t=>String(t.plugin_id)===e.resourceId),h=(0,rY.Ce)(),f=(0,tf.u_)(),v=!g&&(0,oc.Gm)({org:h,extension:o,allowlistedExtensions:f});return W.createElement("div",{className:Ih},W.createElement("div",{className:If},W.createElement(eN.A,{svg:of.c,className:I_,onClick:et.cp.isIpad?void 0:l,onPointerDown:et.cp.isIpad?l:void 0,"data-not-draggable":!0,"data-does-not-dismiss-modal":!0}),W.createElement("div",{className:Iy},W.createElement("div",{className:IC},W.createElement("div",{className:Iw},c.name),(0,iq.kv)({resource:o,height:"16",validBadges:[iq.iE.PURCHASED],authedActiveCommunityProfile:i})||W.createElement(iZ.u,{badges:o.badges,height:"16",hideTooltip:!0})),((null==(n=o.community_publishers)?void 0:n.accepted.length)||0)>0&&W.createElement("div",{className:Ib},W.createElement(ex.Tx,{id:"whiteboard.inserts.by_publisher",numPublishers:m.length,firstPublisherName:null==(a=m[0])?void 0:a.name,multiplePublisherSuffix:W.createElement("span",{"data-tooltip-type":n1.wL.TEXT,"data-tooltip":(0,Mv.Gg)(m.slice(1),m.length,e=>e.name)},W.createElement(ex.Tx,{id:"whiteboard.inserts.and_others"}))})))),W.createElement("div",{className:Iv},W.createElement("div",{className:ap.cx.mr8.$},E&&!(0,$.Ub)().community_hub_admin_reviewer?W.createElement(i4.F,{resource:o,context:l0.qI.INSERTS,payment:o.community_resource_payment}):W.createElement("div",{"data-tooltip-type":d?n1.wL.TEXT:void 0,"data-tooltip":d?(0,ex.t)("whiteboard.inserts.log_in_or_sign_up_to_use",{resourceType:l0.y4.PLUGIN}):void 0},v?W.createElement(oT,{version:c,isPlugin:!0}):W.createElement(Ik,{pluginId:o.id,buttonCta:(0,ex.t)("whiteboard.inserts.plugin_run_cta"),isNotInHeader:!0,view:ST.i.PLUGINS}))),W.createElement(oh.W$,{resourceId:o.id,resourceType:l0.y4.PLUGIN,parentView:oh.UF.DETAIL}),p.pinned===Cz.a.NOT_PINNED?W.createElement(Av.E,{setPinned:e.setPinned,noMargin:!0}):W.createElement(rW.CA,{onClick:_,className:IT})))}function MZ(e,t,n,a,r,l){let[i,o]=W.useState(e()),[s,c]=W.useState(!1),[d,m]=W.useState(!1);W.useLayoutEffect(()=>{let t=(0,tV.C)(()=>{n===Cz.a.PINNED_AND_DOCKED_LEFT&&m(!0),o(e())},100);return window.addEventListener("resize",t),()=>{window.removeEventListener("resize",t)}},[e,n]);let u=(0,Y.OY)(),p=W.useCallback(()=>{u(lH.sD({initialX:a.x,initialY:a.y,pinned:Cz.a.PINNED_AND_DOCKED_LEFT})),m(!0),t(a),d3.Qb.get("set-tool-default","toolbar")()},[u,a,t,m]);W.useEffect(()=>{n===Cz.a.NOT_PINNED&&r&&l&&(u(lH.sD({initialX:r.x,initialY:r.y,pinned:Cz.a.NOT_PINNED})),m(!0),t(r))},[u,t,n,r,l]);let _=(0,Y.w1)(e=>{var t;return null==(t=e.mirror)?void 0:t.appModel.showUi}),E=(0,rb.i)(_),g=(0,lJ.wD)();return W.useEffect(()=>{E&&!_?g():!E&&_&&n===Cz.a.PINNED_AND_DOCKED_LEFT&&p()},[g,n,E,p,_]),W.useEffect(()=>{d&&m(!1)},[d]),{bounds:i,showLeftPinBound:s,setShowLeftPinBound:c,shouldSnapToPosition:d,setPinned:p}}var MQ=n(818388);function MJ(e){var t,n;let{resourceId:a,goBack:r}=e,l=(0,i$.y2)(e.resourceId),i=(null==l?void 0:l.community_publishers.accepted)||[],o=(0,Y.OY)(),s=(0,Y.w1)(e=>e.universalInsertModal),c=(0,lJ.wD)(),d=Object.values((0,tf.Wm)()).find(e=>e.plugin_id===a),m=(0,Y.w1)(e=>e.authedActiveCommunityProfile),u=(0,tf.Cg)().find(e=>e.id===a),p=tW.sZ&&!!u&&!d,_=!!d||p,E=(0,rp.g)(),g=(null==E?void 0:E.type)===M$&&E.data.widgetId===a,h=(0,iA.Y9)(l),f=(0,SP.ai)().currentTab,v=(0,SP.ai)().searchQuery,y=(0,SC.k)(f),C="whiteboard"===(0,tw.CM)(),w=(0,Ip.kR)(),b=Object.values((0,tf.IX)()).find(t=>String(t.plugin_id)===e.resourceId),T=(0,rY.Ce)(),x=(0,tf.iA)(),k=!b&&(0,oc.Gm)({extension:l,org:T,allowlistedExtensions:x});W.useEffect(()=>{l||o(ii.S0({id:a,resourceType:l0.K2.WIDGET}))},[a,o,l]);let N=(0,og.M)(),S=EG.wH.user("insert-published-widget",()=>{(0,MQ.I)({pluginID:h.plugin_id,widgetName:h.name,pluginVersionID:h.id,triggeredFrom:y}),C&&(0,Ip.S4)({id:h.plugin_id,type:ST.i.WIDGETS,source:y,options:{...w,query:v}}),N()}),I=(0,i$.iI)(l);if(!l)return null;let A=_?e=>{if(_){if(e.preventDefault(),e.stopPropagation(),g)o(lZ.yi());else{let t=e.target.getBoundingClientRect();o(lZ.Qn({type:M$,data:{targetRect:t,widgetId:a}}))}}}:S;return W.createElement("div",{className:Ih},W.createElement("div",{className:If},W.createElement(eN.A,{svg:of.c,className:I_,onClick:et.cp.isIpad?void 0:r,onPointerDown:et.cp.isIpad?r:void 0,"data-not-draggable":!0,"data-does-not-dismiss-modal":!0}),W.createElement("div",{className:Iy},W.createElement("div",{className:IC},W.createElement("div",{className:Iw},h.name),(0,iq.kv)({resource:l,height:"16",validBadges:[iq.iE.PURCHASED],authedActiveCommunityProfile:m})||W.createElement(iZ.u,{badges:l.badges,height:"16",hideTooltip:!0})),((null==(t=l.community_publishers)?void 0:t.accepted.length)||0)>0&&W.createElement("div",{className:Ib},W.createElement(ex.Tx,{id:"whiteboard.inserts.by_publisher",numPublishers:i.length,firstPublisherName:null==(n=i[0])?void 0:n.name,multiplePublisherSuffix:W.createElement("span",{"data-tooltip-type":n1.wL.TEXT,"data-tooltip":(0,Mv.Gg)(i.slice(1),i.length,e=>e.name)},W.createElement(ex.Tx,{id:"whiteboard.inserts.and_others"}))})))),W.createElement("div",{className:Iv},W.createElement("div",{className:ap.cx.mr8.$},I&&!(0,$.Ub)().community_hub_admin_reviewer?W.createElement(i4.F,{resource:l,context:l0.qI.INSERTS}):k?W.createElement(oT,{version:h,isPlugin:!1}):W.createElement(eT.gV,{onClick:et.cp.isIpad?void 0:A,onPointerDown:et.cp.isIpad?A:void 0,className:_?IE:void 0,"data-not-draggable":!0,dataTestId:"add-widget-button"},(0,ex.t)("whiteboard.inserts.add_widget"),_&&W.createElement(eN.A,{svg:Ix.c,className:Ig}))),W.createElement("div",null,W.createElement(oh.W$,{resourceId:l.id,resourceType:l0.y4.WIDGET,parentView:oh.UF.DETAIL})),s.pinned===Cz.a.NOT_PINNED?W.createElement(Av.E,{setPinned:e.setPinned,noMargin:!0}):W.createElement(rW.CA,{onClick:c,className:IT})))}let M$="DROPDOWN_TYPE_WIDGET_DETAIL_SUBMENU";function M0(){let{openFile:e,fileVersion:t,loadingState:n,universalInsertModal:a}=(0,el.q)(e=>({openFile:e.openFile,fileVersion:e.fileVersion,loadingState:e.loadingState,universalInsertModal:e.universalInsertModal})),{searchQuery:r,setSearchQuery:l,currentTab:o,setCurrentTab:s,searchTemplatesResult:c,moreResult:d,pluginSavedSearchResultIds:m,pluginCommunitySearchResultIds:u,pluginOrgSearchResultIds:p,pluginDevelopmentSearchResultIds:_,pluginSearchIsLoading:E,pluginSearchHasResolved:g,widgetSavedSearchResultIds:h,widgetCommunitySearchResultIds:f,widgetOrgSearchResultIds:v,widgetSearchIsLoading:y,widgetSearchHasResolved:C,widgetDevelopmentSearchResultIds:w,faceStampSearchIsLoading:b,faceStampSearchHasResolved:T,debouncedSearchQuery:x,lastPluginSearchQuery:k,lastWidgetSearchQuery:N,lastFaceStampSearchQuery:S,teamTemplatesFromSearch:I,totalNumTeamTemplatesFromSearch:A,teamTemplatesFromSearchIsLoading:O,requestLoadMoreTeamTemplatesFromSearch:M,previewResource:P,setPreviewResourceAndTrack:L}=MS(),[D,R]=W.useState(a.initialSelectedCategory??i);W.useEffect(()=>{a.previewResource&&L(a.previewResource)},[L,a.previewResource]),W.useEffect(()=>{i=D},[D]),W.useEffect(()=>{a.initialSearch&&l(a.initialSearch)},[a.initialSearch,l]);let{isInsertingTemplate:F}=(0,Sv.Y7)(),B=(0,Y.OY)(),U=(0,Mj.Az)(),K=a.sourceRect,[G,H]=W.useMemo(()=>{if(U&&K)return[void 0,{kind:"sourceRect",sourceRect:K}];{let e=MX.wZ;return[e,{kind:"buttonTarget",buttonTarget:e}]}},[U,K]),{initialModalPosition:V,modalPosition:j,setModalPosition:X}=(0,lJ.iq)(H,lJ.SS,lJ.Sw),{bounds:z,showLeftPinBound:q,setShowLeftPinBound:Z,shouldSnapToPosition:Q,setPinned:J}=MZ(M2,X,a.pinned,SP.qK,V,a.showing);W.useEffect(()=>{B(Sb.Sy.fetchTemplatesMetadata({key:Sw.Sy.FigJam,orgId:null==e?void 0:e.parentOrgId})),B(Sb.Sy.fetchWidgetsMetadata({key:Sw.Sy.FigJam})),B(Sh.y_({}))},[B,null==e?void 0:e.parentOrgId]),W.useEffect(()=>{B(Sg.UR({shelfType:l0.CW.FIGJAM_TEMPLATES_PICKER}))},[B]);let $=Object.keys((0,tf.Wm)()).join(","),ee=(0,t1.C2)(),et=(0,rY.Ce)(),en=(0,rX.C_)(et),ea=(0,r2.gJ)(),er=W.useRef(null),ei=W.useRef(null);W.useEffect(()=>{ee&&(B(ta.Uf()),B(tl.Qb()))},[B,ee,$]),(0,S_.UL)((0,ii.wv)()),(0,S_.UL)((0,ii.I7)()),W.useEffect(()=>{B(iG.Ze({shouldSearchDefaultLibraries:!0}))},[B]);let eo=e&&t&&(0,np.ER)(n,(0,Ew.AL)(e.key));W.useEffect(()=>{eo&&B(iG.Ul({}))},[B,eo]),W.useEffect(()=>{var e;"function"==typeof(null==(e=ei.current)?void 0:e.scroll)&&ei.current.scroll({top:0,behavior:"smooth"})},[x]);let{filterOptions:es,selectedTeamOrWorkspaceOrLicenseGroupIds:ec,isMyTeamsOnly:ed,onFilterChange:em,requestLoadMore:eu,requestLoadMoreForTeam:ep,templatesByTeam:e_,userTeamOrWorkspaceOrLicenseGroupIds:eE,isLoadingTeamTemplates:eg}=(0,Sf.gz)(ea?et:null),eh=W.useCallback(()=>s(ST.i.MORE),[s]);return W.createElement(SP.OC.Provider,{value:{setPreviewResource:L,currentTab:o,setCurrentTab:s,setSelectedCategory:R,searchQuery:r}},W.createElement(OL,{hasSearchBar:!0,searchQuery:r,setSearchQuery:l,resourceDetailViewContent:P&&P.id&&P.type?P.type===SC.C.TEMPLATES?W.createElement(Mf,{id:P.id,selectedCategoryId:"",setPreviewHubFile:L}):P.type===SC.C.WIDGETS?W.createElement(MY.GA,{id:P.id}):P.type===SC.C.PLUGINS?W.createElement(Mm,{pluginId:P.id}):P.type===SC.C.ORG_FACE_STAMPS?W.createElement(AN,{onBack:eh,queryFromAllSearch:""!==x?x:null}):void 0:null,resourceDetailViewHeader:P&&P.id&&P.type?P.type===SC.C.TEMPLATES?W.createElement(My,{resourceId:P.id,goBack:()=>{L(void 0)},buttonCta:(0,ex.t)("whiteboard.inserts.add_template"),setPinned:J}):P.type===SC.C.WIDGETS?W.createElement(MJ,{resourceId:P.id,goBack:()=>L(void 0),setPinned:J}):P.type===SC.C.PLUGINS?W.createElement(Mq,{resourceId:P.id,goBack:()=>L(void 0),setPinned:J}):P.type===SC.C.ORG_FACE_STAMPS?W.createElement(AL,{onBack:()=>L(void 0),setPinned:J,queryFromAllSearch:x}):void 0:null,categoryViewContent:D?D.resourceType===SC.C.TEMPLATES?W.createElement(Mp,{selectedCategoryId:D.id,shelfType:l0.CW.FIGJAM_TEMPLATES_PICKER,setPreviewHubFile:L,renderResource:e=>W.createElement(IJ,{template:{type:Sy.e.HubFile,template:e},key:e.id,templateInsertionLocation:TG.AH.CURRENT_FILE,triggeredFrom:(0,SC.k)(o),isInsertingTemplate:F(e.id),onClickTitle:()=>L({id:e.id,type:SC.C.TEMPLATES})})}):D.resourceType===SC.C.STICKERS_AND_COMPONENTS?W.createElement(Io,{selectedLibrary:D,setSelectedLibrary:R}):D.resourceType===SC.C.WIDGETS?W.createElement(OH,{selectedCategoryId:D.id,goBack:()=>R(void 0),resourceType:l0.K2.WIDGET,shelfType:l0.CW.BROWSE_WIDGETS_MODAL,categoryType:SE.kR.BROWSE_WIDGETS_MODAL,renderResource:e=>W.createElement(Ah,{widgetId:e.id,key:e.id})}):D.resourceType===SC.C.PLUGINS?W.createElement(OH,{selectedCategoryId:D.id,goBack:()=>R(void 0),resourceType:l0.K2.PLUGIN,shelfType:l0.CW.BROWSE_PLUGINS_MODAL,categoryType:SE.kR.BROWSE_PLUGINS_MODAL,renderResource:e=>W.createElement(IK,{pluginId:e.id,view:ST.i.EXPLORE,key:e.id})}):D.resourceType===SC.C.ALL?W.createElement(A2,{useCaseName:D.id}):D.resourceType===SC.C.TEAM_TEMPLATES?e_.length||eg?W.createElement(tg.kH,{name:"custom_org_templates"},e_.map(({team_id:e,team_name:t,workspace_name:n,templates:a})=>W.createElement(W.Fragment,{key:e},W.createElement(Mz.qJ,{teamName:t,workspaceName:en?n:null,teamId:e,onRequestLoadMoreForTeam:ep,minimalSpacing:!0},W.createElement(I0,{templates:a.map(e=>({type:Sy.e.TeamTemplate,template:e}))})))),W.createElement(ie.w,{"data-testid":"load-more-teams",className:ap.cx.relative.$,style:{bottom:"250px"},onIntersectionChange:({isIntersecting:e})=>{e&&eu()}})):W.createElement(Ou.Ah,null):void 0:null,categoryViewHeader:function(){if(!D)return;let e=D.resourceType===SC.C.TEAM_TEMPLATES?W.createElement("div",{className:ap.cx.mr8.$},W.createElement(Mz.sn,{filterOptions:es,selectedIds:ec,isMyTeamsOnly:ed,onFilterChange:e=>{var t,n;"function"==typeof(null==(t=er.current)?void 0:t.scroll)&&(null==(n=er.current)||n.scroll({top:0,behavior:"smooth"})),em(e)},userTeamOrWorkspaceOrLicenseGroupIds:new Set(eE),showWorkspaces:en})):void 0;return W.createElement(OD,{selectedCategory:D,goBack:()=>{R(void 0)},setPinned:J,extraContent:e})}(),setPinned:J,initialModalPosition:V,modalPosition:j,shouldHideBottomArrow:!0,bounds:z,showLeftPinBound:q,setShowLeftPinBound:Z,shouldSnapToPosition:Q,entryPointId:G,categoryScrollContainerRef:er,mainScrollContainerRef:ei},W.createElement(M1,{setPinned:J,setPreviewResource:L,setPreviewHubFile:L,searchQuery:r,currentTab:o,setCurrentTab:s,searchTemplatesResult:c,moreResult:d,pluginSavedSearchResultIds:m,pluginCommunitySearchResultIds:u,pluginOrgSearchResultIds:p,pluginDevelopmentSearchResultIds:_,pluginSearchIsLoading:E,pluginSearchHasResolved:g,widgetSavedSearchResultIds:h,widgetCommunitySearchResultIds:f,widgetOrgSearchResultIds:v,widgetSearchIsLoading:y,widgetSearchHasResolved:C,faceStampSearchIsLoading:b,faceStampSearchHasResolved:T,widgetDevelopmentSearchResultIds:w,debouncedSearchQuery:x,lastPluginSearchQuery:k,lastWidgetSearchQuery:N,lastFaceStampSearchQuery:S,teamTemplatesFromSearch:I,totalNumTeamTemplatesFromSearch:A,teamTemplatesFromSearchIsLoading:O,requestLoadMoreTeamTemplatesFromSearch:M})))}function M1({setPreviewResource:e,searchQuery:t,currentTab:n,setCurrentTab:a,searchTemplatesResult:r,moreResult:l,pluginSavedSearchResultIds:i,pluginCommunitySearchResultIds:o,pluginOrgSearchResultIds:s,pluginDevelopmentSearchResultIds:c,pluginSearchIsLoading:d,pluginSearchHasResolved:m,widgetSavedSearchResultIds:u,widgetCommunitySearchResultIds:p,widgetOrgSearchResultIds:_,widgetSearchIsLoading:E,widgetSearchHasResolved:g,widgetDevelopmentSearchResultIds:h,faceStampSearchIsLoading:f,faceStampSearchHasResolved:v,debouncedSearchQuery:y,lastPluginSearchQuery:C,lastWidgetSearchQuery:w,lastFaceStampSearchQuery:b,teamTemplatesFromSearch:T,teamTemplatesFromSearchIsLoading:x,totalNumTeamTemplatesFromSearch:k,requestLoadMoreTeamTemplatesFromSearch:N}){let S=(0,N8.U1)(t),I=(0,rY.Ce)(),A=(0,tf.u_)(),O=(0,tf.iA)(),M=W.useMemo(()=>(0,oc.w7)({org:I,isWidget:!1})?o:I&&I.plugins_whitelist_enforced?o.filter(e=>A[e]):o,[I,A,o]),P=W.useMemo(()=>(0,oc.w7)({org:I,isWidget:!0})?p:I&&I.widgets_whitelist_enforced?p.filter(e=>O[e]):p,[I,O,p]);return n===ST.i.ALL?t?W.createElement(AB,{query:t,setCurrentTab:a,searchTemplatesResult:r,moreResult:l,pluginSavedSearchResultIds:i,pluginCommunitySearchResultIds:M,pluginOrgSearchResultIds:s,pluginDevelopmentSearchResultIds:c,pluginSearchIsLoading:d,pluginSearchHasResolved:m,widgetSavedSearchResultIds:u,widgetCommunitySearchResultIds:P,widgetOrgSearchResultIds:_,widgetDevelopmentSearchResultIds:h,widgetSearchIsLoading:E,widgetSearchHasResolved:g,faceStampSearchIsLoading:f,faceStampSearchHasResolved:v,faceStampSearchResults:S,debouncedSearchQuery:y,lastPluginSearchQuery:C,lastWidgetSearchQuery:w,lastFaceStampSearchQuery:b,teamTemplatesFromSearch:T,totalNumTeamTemplatesFromSearch:k}):W.createElement(Og,null):n===ST.i.WIDGETS?t?W.createElement(MM,{query:t,debouncedSearchQuery:y,hasResolved:g,savedSearchResultIds:u,communitySearchResultIds:P,orgSearchResultIds:_,developmentSearchResultIds:h,lastWidgetSearchQuery:w}):W.createElement(MW,null):n===ST.i.STICKERS_AND_COMPONENTS?W.createElement(Ii,{query:t}):n===ST.i.PLUGINS?t?W.createElement(OY,{query:t,debouncedSearchQuery:y,savedSearchResultIds:i,communitySearchResultIds:M,developmentSearchResultIds:c,orgSearchResultIds:s,hasResolved:m,lastPluginSearchQuery:C}):W.createElement(Mi,null):n===ST.i.TEMPLATES?t?W.createElement(MC,{templates:r,teamTemplatesFromSearch:T,totalNumTeamTemplatesFromSearch:k,teamTemplatesFromSearchIsLoading:x,requestLoadMoreTeamTemplatesFromSearch:N,query:t,debouncedSearchQuery:y}):W.createElement(An,{setPreviewHubFile:e}):n===ST.i.MORE?t?W.createElement(OV,{results:l,query:t,debouncedSearchQuery:y,faceStampSearchIsLoading:f}):W.createElement(tg.kH,{name:"more2"},W.createElement(On,{hasTopPadding:!0})):W.createElement(W.Fragment,null)}function M2(){return{x:-lJ.Sw,y:0,width:2*lJ.Sw+SP.YB,height:window.innerHeight}}let M5=(0,lo.U9)(function(e){return W.createElement(nO.Y1,{size:"small",className:gZ.kl,disableClickOutsideToHide:!0,hide:aC.Kw},W.createElement("div",{className:gZ.e},W.createElement(ex.Tx,{id:"file_migration.updating.title"})),W.createElement("div",{className:gZ.YX},W.createElement(ex.Tx,{id:"file_migration.updating.message"})))},"FileMigrationWarningModal");var M3=n(427074);let M4="fullscreen_view--fullscreenHtml--NMpxO",M6="fullscreen_view--fullscreenBody--w5jxN";var M8=n(130824);function M9(){let e=(0,Y.OY)();return W.useEffect(()=>{e(tm.s({completed_font_installer_modal:!0}))},[e]),W.createElement(nO.wJ,{className:gZ.kl,tintedModalBackground:!0,dispatch:e},W.createElement("div",{className:gZ.e},W.createElement(eN.A,{svg:M8.c,useOriginalSrcFills_DEPRECATED:!0,className:"fullscreen_view--fontsIcon--sGgPE"}),W.createElement(ex.Tx,{id:"fullscreen.font_settings.byof_bring_your_own_fonts"})),W.createElement("div",{className:gZ.YX},W.createElement("p",null,W.createElement(ex.Tx,{id:"fullscreen.font_settings.figma_comes_preloaded"})),W.createElement("br",null),W.createElement("p",null,W.createElement(ex.Tx,{id:"fullscreen.font_settings.you_can_always_download_the_font_installer_later_from_the_settings_page"}))),W.createElement("div",{className:gZ.hy},W.createElement(eT.wX,{className:gZ.x8,onClick:()=>{e(ts.oN())}},W.createElement(ex.Tx,{id:"fullscreen.font_settings.do_this_later_in_account_settings"})),W.createElement(eT.gV,{onClick:M3.CM,className:gZ.I8},W.createElement(ex.Tx,{id:"fullscreen.font_settings.enable_local_fonts"}))))}var M7=n(188796),Pe=n(1084),Pt=n(416044),Pn=n(850023),Pa=((O=Pa||{})[O.V1=1]="V1",O[O.MIN=1]="MIN",O[O.MAX=1]="MAX",O),Pr=n(454292);let Pl=new Map([["TRANSFORM_ITEM",eM.uQ8.TRANSFORM_ITEM],["STACK_ITEM",eM.uQ8.STACK_ITEM],["CONSTRAINTS_ITEM",eM.uQ8.CONSTRAINTS_ITEM],["LAYER_ITEM",eM.uQ8.LAYER_ITEM],["TYPE_ITEM",eM.uQ8.TYPE_ITEM],["FILL_ITEM",eM.uQ8.FILL_ITEM],["STROKE_ITEM",eM.uQ8.STROKE_ITEM],["SELECTION_COLORS",eM.uQ8.SELECTION_COLORS],["EFFECTS_ITEM",eM.uQ8.EFFECTS_ITEM]]),Pi=()=>{let e=(0,id.I7)();if(e&&e.nativePropertiesPanelSupportedVersions){let t=e.nativePropertiesPanelSupportedVersions.min,n=e.nativePropertiesPanelSupportedVersions.max,a=Pa.MIN,r=Pa.MAX;if(a<=n&&t<=r)return Math.min(n,r)}},Po=e=>{if(void 0!==e){if(e===Pa.V1)return{version:Pa.V1,items:[{identifier:"ALIGNMENT",label:"Alignment"},{identifier:"TRANSFORM_ITEM",label:"Transform"},{identifier:"STACK_ITEM",label:(0,ex.t)("fullscreen.properties_panel.stack_panel.auto_layout")},{identifier:"CONSTRAINTS_ITEM",label:(0,ex.t)("fullscreen.properties_panel.constraints_panel.constraints")},{identifier:"LAYER_ITEM",label:(0,ex.t)("fullscreen.layer_panel.layer")},{identifier:"TYPE_ITEM",label:(0,ex.t)("fullscreen.type_panel.text")},{identifier:"FILL_ITEM",label:(0,ex.t)("fullscreen.properties_panel.fill.fill")},{identifier:"STROKE_ITEM",label:(0,ex.t)("fullscreen.properties_panel.fill.stroke")},{identifier:"SELECTION_COLORS",label:(0,ex.t)("fullscreen.properties_panel.fill.selection_colors")},{identifier:"EFFECTS_ITEM",label:(0,ex.t)("properties_panel.effects.effects")}]};(0,es.gy)(e)}},Ps=e=>{let t=function(e){let t=(0,eD.s5)(eM.KEP.propertiesPanelState().shownPropertiesPanels),n=(0,Y.w1)(e=>e.mirror.selectionProperties),a=(0,Y.w1)(e=>e.mirror.selectedStyleProperties),r=(0,Y.w1)(e=>e.mirror.selectionPaints);if(!e)return[];let l=[];for(let i of e.items){let e=i.identifier,o=Pl.get(e);switch(e){case"ALIGNMENT":(0,Pr.Yh)(t)&&l.push(e);break;case"STACK_ITEM":(0,Pr.Uf)(t,!1,n,a.guid?a:void 0,!1)&&l.push(e);break;case"SELECTION_COLORS":(0,Pr.Ir)(t,!1,r)&&l.push(e);break;default:o&&t[o]&&l.push(e)}}return l}(Po(e));return e?{version:e,itemIdentifiers:t}:null};function Pc(){var e;let t=Pi(),n=(0,id.I7)(),a=Ps(t);return a&&(null==(e=null==n?void 0:n.nativePropertiesPanelUpdateDisplayState)||e.call(n,a)),W.createElement(W.Fragment,null)}var Pd=n(181212);let Pm=function(){return null};var Pu=n(886916);let Pp=void 0,P_=function(){return null};var PE=n(698260),Pg=n(424520),Ph=n(59404),Pf=n(481556),Pv=n(489376),Py=n(51696),PC=n(337384),Pw=n(665260);let Pb="banners--bannerLabel--3jj-4";function PT(){let e=le(),t=la(),n=W.useCallback(()=>{e.hidden||e.onClick(r0.s.TopBanner)},[e]);return e.hidden||t?null:W.createElement(eT.Sm,{className:"banners--bannerButton--G4mb8",onClick:n,disabled:e.disabled},e.label)}function Px(){let e=lt(),t=la();return e?W.createElement("div",{className:Pb},W.createElement(ex.Tx,{id:"dev_handoff.paywall.banner.description_starter_viewer",title:W.createElement("strong",null,W.createElement(ex.Tx,{id:"dev_handoff.paywall.banner.title"}))})):t?W.createElement("div",{className:Pb},W.createElement(ex.Tx,{id:"dev_handoff.paywall.banner.description_pending",title:W.createElement("strong",null,W.createElement(ex.Tx,{id:"dev_handoff.paywall.request_pending"}))})):W.createElement("div",{className:Pb},W.createElement(ex.Tx,{id:"dev_handoff.paywall.banner.description",title:W.createElement("strong",null,W.createElement(ex.Tx,{id:"dev_handoff.paywall.banner.title"}))}))}function Pk(){return W.createElement("div",{className:Pb},W.createElement(ex.Tx,{id:"dev_handoff.paywall.banner.description_in_trial",numDays:Pw.iAk,title:W.createElement("strong",null,W.createElement(ex.Tx,{id:"dev_handoff.paywall.request_pending"}))}))}var PN=n(578700),PS=n(718337),PI=n(596496),PA=n(44412),PO=n(188376),PM=n(269160),PP=n(55608),PL=n(699104);let PD=JSON.parse('{"safari":"16","firefox":"101","chrome":"88","edge":"121","deprecatedOn":"2024-03-18T08:00:00.000Z"}');var PR=n(375756),PF=n(328836),PB=n(5472),PU=n(484e3),PK=n(381100);let PG=({state:e})=>{let t=e.mirror.appModel.multiplayerSessionState!==eM.XcX.UNJOINED,n=!e.mirror.appModel.isReadOnly;if(e.showingUpgradeBanner)return{id:i1.Ok.MultiplayerSessionUpgrade,bannerType:i1.Qp.INFO,icon:PK.c,mainText:(0,ex.t)("banner.multiplayer_session_upgrade.page_out_of_date"),description:t?(0,ex.t)("banner.multiplayer_session_upgrade.out_of_date.connected"):(0,ex.t)("banner.multiplayer_session_upgrade.out_of_date.not_connected"),button:{buttonText:n?(0,ex.t)("banner.multiplayer_session_upgrade.save_and_reload"):(0,ex.t)("banner.multiplayer_session_upgrade.reload"),onClick:()=>{(0,Z.we)("Upgrade Banner Clicked"),eM.Abq.startUpgrade()}}}};function PH({hubFile:e}){return(0,PC.M)(e)?W.createElement(ex.Tx,{id:"banner.freemium_preview.this_is_just_a_preview"}):W.createElement(ex.Tx,{id:"banner.freemium_preview.get_the_full_file_on_community"})}function PV({hubFile:e}){return(0,PC.M)(e)?W.createElement(ex.Tx,{id:"banner.freemium_preview.you_purchased_this_file_already"}):W.createElement(ex.Tx,{id:"banner.freemium_preview.this_is_just_a_preview_of_the_file_you_can_buy_on_community"})}function PW({hubFile:e}){let t=(0,PC.M)(e),n=t?"":`?${io.uA}`;return W.createElement(Py.GQ,{to:`/community/file/${e.id}${n}`},W.createElement(eT.Sm,{trackingProperties:{trackingDescriptor:t?lr.O.OPEN_IN_COMMUNITY:lr.O.BUY_THE_RESOURCE}},t?W.createElement(ex.Tx,{id:"banner.freemium_preview.open_in_community"}):W.createElement(ex.Tx,{id:"banner.freemium_preview.buy_the_resource"})))}let PY=[({})=>{let{deprecatedOn:e,...t}=PD,n=new Date(e);if(n>new Date(new Date().getTime()+24192e5)||!et.cp.isUnsupportedBrowser(t))return;let a=n>new Date?(0,ex.t)("banner.browser_deprecation.description",{deprecationDate:n}):(0,ex.t)("banner.browser_deprecation.description_now");return{id:i1.Ok.BrowserDeprecationBanner,dismissible:!0,bannerType:i1.Qp.WARN,icon:PK.c,mainText:(0,ex.t)("banner.browser_deprecation.title"),description:a,button:{buttonText:(0,ex.t)("banner.browser_deprecation.learn_more"),onClick:()=>J.default.redirect("https://help.figma.com/hc/en-us/articles/360039827194-Figma-browser-requirements","_blank")}}},PG,({state:e,dispatch:t})=>{let n=e.openFile,a=null==n?void 0:n.teamId,r=a?e.teams[a]:null,l=a&&(0,r3.canAdminTeam)(a,e);if(r&&r.subscription===nd.KU.PAST_DUE)return{id:i1.Ok.ProTeamPastDue,bannerType:i1.Qp.WARN,icon:PK.c,mainText:(0,ex.t)("banner.pro_team_past_due.locked"),description:l?(0,ex.t)("banner.pro_team_past_due.update_payment_source.can_admin",{teamName:r.name}):(0,ex.t)("banner.pro_team_past_due.update_payment_source.no_admin",{teamName:r.name}),button:l?{buttonText:(0,ex.t)("banner.pro_team_past_due.update_payment"),onClick:()=>{null==t||t(lZ.Ej({view:"teamAdminConsole",teamId:a,teamAdminConsoleViewTab:PO.Q.SETTINGS}))}}:void 0}},({state:e,dispatch:t})=>{let n=e.openFile,a=null==n?void 0:n.teamId,r=a?e.teams[a]:null,l=a&&(0,r3.canAdminTeam)(a,e);if(r&&r.subscription===nd.KU.GRACE_PERIOD)return{id:i1.Ok.ProTeamChargeFailed,bannerType:i1.Qp.WARN,icon:PK.c,mainText:(0,ex.t)("banner.pro_team_charge_failed.payment_failed"),description:l?(0,ex.t)("banner.pro_team_charge_failed.unsuccessful_team_charge.can_admin",{teamName:r.name}):(0,ex.t)("banner.pro_team_charge_failed.unsuccessful_team_charge.no_admin",{teamName:r.name}),button:l?{buttonText:(0,ex.t)("banner.pro_team_charge_failed.update_payment"),onClick:()=>{null==t||t(lZ.Ej({view:"teamAdminConsole",teamId:a,teamAdminConsoleViewTab:PO.Q.SETTINGS}))}}:void 0,dismissible:!0}},({state:e,dispatch:t})=>{let n=e.openFile,a=null==n?void 0:n.teamId,r=a?e.teams[a]:null,l=a&&(0,r3.canAdminTeam)(a,e);if(r&&r.subscription===nd.KU.NO_MONTHLY_SUB_EDITOR_COUNT_EXCEEDED){let e=l?W.createElement("span",null,W.createElement(ex.Tx,{id:"banner.pro_team_no_monthly_sub.over_limit_as_admin.seat_rename",contactSupportLink:W.createElement("a",{href:"mailto:support@figma.com"},W.createElement(ex.Tx,{id:"banner.pro_team_no_monthly_sub.contact_support"}))})):W.createElement("span",null,W.createElement(ex.Tx,{id:"banner.pro_team_no_monthly_sub.over_team_limit_without_admin.seat_rename",teamName:r.name}));return{id:i1.Ok.ProTeamNoMonthlySubEditorCountExceeded,bannerType:i1.Qp.WARN,icon:PK.c,mainText:(0,ex.t)("banner.pro_team_no_monthly_sub.locked"),description:e,button:l?{buttonText:(0,ex.t)("banner.pro_team_no_monthly_sub.manage_plan"),onClick:()=>{null==t||t(lZ.Ej({view:"teamAdminConsole",teamId:a,teamAdminConsoleViewTab:PO.Q.SETTINGS}))}}:void 0}}},({state:e,dispatch:t})=>{var n;let a=e.openFile,r=null==a?void 0:a.teamId,l=r?e.teams[r]:null;if(!l||!a)return;let i=(0,r3.canEditTeam)(l.id,e),o=(0,rz.EX)(l.id,e),s=PA.WE.canSeeExpiredProTrialBanner(e.userTeamFlags,l,e),c=null==(n=e.userTeamFlags[l.id])?void 0:n[PA.Mg];if(s&&(o||i&&!c)){let n,r,s;return o?(s=i1.Qp.WARN_SOFT,n=i?W.createElement(ex.Tx,{id:"banner.pro_trial_expiry.locked_description",lowerUsageLink:W.createElement("button",{onClick:e=>{e.preventDefault(),null==t||t(ts.A5({type:PL.C,data:{teamId:l.id}}))}},W.createElement(ex.Tx,{id:"banner.pro_trial_expiry.lower_usage"})),upgradeLink:W.createElement(tg.Ix,{onClick:n=>{n.preventDefault(),t(r1.Ah({teamId:l.id,selectedView:e.selectedView}))}},W.createElement(ex.Tx,{id:"banner.pro_trial_expiry.upgrade"}))}):W.createElement(ex.Tx,{id:"banner.pro_trial_expiry.locked_description_for_viewer_on_team",teamName:l.name}),r={buttonText:(0,ex.t)("banner.pro_trial_expiry.move_this_file_cta"),onClick:()=>(0,PM.a)({key:a.key,name:a.name,folder_id:a.folderId,team_id:a.teamId,editor_type:a.editorType,parent_org_id:a.parentOrgId},null,t)}):(s=i1.Qp.INFO,n=W.createElement(ex.Tx,{id:"banner.pro_trial_expiry.expiry_description",teamName:l.name}),r={buttonText:(0,ex.t)("banner.pro_trial_upgrade_cta.upgrade_to_professional"),onClick:()=>t(r1.Ah({teamId:l.id,selectedView:e.selectedView}))}),{id:i1.Ok.ProTrialsExpiryBanner,bannerType:s,icon:PK.c,mainText:(0,ex.t)("banner.pro_trial_expiry.title"),dismissible:!o,onDismiss:o?void 0:()=>{t(PS.s$({all_team_flags:[{team_id:l.id,flags:{[PA.Mg]:!0}}]}))},description:n,button:i?r:void 0}}},({state:e,dispatch:t})=>{var n;let a=null==(n=e.openFile)?void 0:n.teamId,r=a?e.teams[a]:null,l=a&&(0,r3.canEditTeam)(a,e);if(r&&!(0,rz.xY)(r)&&!r.student_team&&(0,rz.EX)(r.id,e)){let n;return n=l?W.createElement("span",null,W.createElement("b",{style:a_.sx.fontSemiBold.$},W.createElement(ex.Tx,{id:"banner.free_limit_locked.team_locked_over_starter_limits",teamName:r.name})," "),W.createElement(ex.Tx,{id:"banner.free_limit_locked.upgrade_team_or_lower_usage",teamName:r.name,learnMoreLink:W.createElement(W.Fragment,null,W.createElement("a",{href:"#",onClick:e=>{e.preventDefault(),null==t||t(ts.A5({type:PL.C,data:{teamId:a}}))}},W.createElement(ex.Tx,{id:"banner.free_limit_locked.learn_more"})))})):W.createElement("span",null,W.createElement("b",{style:a_.sx.fontSemiBold.$},W.createElement(ex.Tx,{id:"banner.free_limit_locked.team_locked_over_starter_limits",teamName:r.name}))," ",W.createElement(ex.Tx,{id:"banner.free_limit_locked.ask_your_team_admin_for_details"})),{id:i1.Ok.StarterTeamOverFreeLimitAndLocked,bannerType:i1.Qp.WARN,icon:PK.c,mainText:(0,ex.t)("banner.free_limit_locked.locked"),description:n,button:l?{buttonText:(0,ex.t)("banner.free_limit_locked.upgrade_now"),onClick:()=>t(r1.Ah({teamId:a,selectedView:e.selectedView}))}:void 0}}},({state:e,dispatch:t})=>{var n;if((0,n$.MV)(e.user,e.currentUserOrgId)){let a=e.orgById[e.user.external_restricted_org_id].name,r=e.openFile,l=!!r&&(null==(n=e.fileByKey[r.key])?void 0:n.viewer_export_restricted);if(a)return{id:i1.Ok.ExternalContentControlBanner,bannerType:i1.Qp.WARN,icon:PK.c,mainText:W.createElement(ex.Tx,{id:"external_collaboration_restricted.banner.title"}),description:W.createElement(ex.Tx,{id:"external_collaboration_restricted.banner.restriction_description",organizationName:a}),button:l?void 0:{buttonText:(0,ex.t)("external_collaboration_restricted.banner.export_file"),onClick:()=>{(null==r?void 0:r.editorType)==="design"?t(ti.is({id:eR.Oe})):t(ti.sT({selectionArea:0,canvasArea:0,nodeCounts:{selectionNodeCount:0,canvasNodeCount:0,selectionStickyCount:0,canvasStickyCount:0,selectionTableCount:0,canvasTableCount:0}}))}},dismissible:!1}}},({state:e,dispatch:t})=>{let n=e.openFile;if(e.currentUserOrgId&&(null==n?void 0:n.project)&&(0,PI.El)(n.project))return{id:i1.Ok.OrphanedOrgDraftsFile,bannerType:i1.Qp.WARN,icon:PK.c,mainText:(0,ex.t)("banner.orphaned_projects.file_in_an_abandoned_project"),description:(0,ex.t)("banner.orphaned_projects.move_to_project"),button:{buttonText:(0,ex.t)("banner.orphaned_projects.back_to_files"),onClick:()=>null==t?void 0:t(lZ.Ej({view:"recentFiles"}))}}},({state:e,dispatch:t})=>{let n=e.openFile,a=null==n?void 0:n.teamId,r=a?e.teams[a]:null;if(!(e.currentUserOrgId&&(null==n?void 0:n.project)&&(0,PI.El)(n.project))&&!r&&n&&(0,rz.An)(n.folderId,n.teamId,e))return{id:i1.Ok.PersonalProjectDeprecatedFile,bannerType:i1.Qp.WARN,icon:PK.c,mainText:(0,ex.t)("banner.personal_projects.locked"),description:W.createElement(W.Fragment,null,W.createElement(ex.Tx,{id:"banner.personal_projects.deprecation_message",learnMoreLink:W.createElement("a",{href:"/pricing-faq#what-changes-for-me"},W.createElement(ex.Tx,{id:"banner.personal_projects.learn_more"}))})),button:{buttonText:(0,ex.t)("banner.personal_projects.back_to_files"),onClick:()=>null==t?void 0:t(lZ.Ej({view:"recentFiles"}))}}},({state:e,context:t})=>{var n,a;let r=e.openFile,l=null==(n=e.openFile)?void 0:n.teamId,i=l?e.teams[l]:null;if(l&&e.user&&i&&!(null==(a=t.workshopInfo)?void 0:a.enabled)&&(null==r?void 0:r.canEditIgnoreEduGracePeriod)&&e.teams[l]&&(0,Pv.kZ)(e.userEduGracePeriods,(0,Pv.i6)(e.user),l,!!e.teams[l].student_team).showAccessRestricted)return{id:i1.Ok.EduGracePeriodAccessRestricted,bannerType:i1.Qp.WARN,icon:PK.c,mainText:(0,ex.t)("banner.edu_grace_period.verification_required"),description:(0,ex.t)("banner.edu_grace_period.editing_restricted_on_file",{teamName:i.name}),button:{buttonText:(0,ex.t)("banner.edu_grace_period.verify_status_button"),onClick:()=>J.default.redirect("/education/apply","_blank")}}},({state:e,context:t})=>{var n,a;let r=e.openFile,l=null==(n=e.openFile)?void 0:n.teamId,i=l?e.teams[l]:null;if(l&&e.user){let n=i&&!(null==(a=t.workshopInfo)?void 0:a.enabled)&&(null==r?void 0:r.canEditIgnoreEduGracePeriod)&&e.teams[l]&&(0,Pv.kZ)(e.userEduGracePeriods,(0,Pv.i6)(e.user),l,!!e.teams[l].student_team).showReminder,o=(0,Pv.yg)(e.userEduGracePeriods,l);if(n)return{id:i1.Ok.EduGracePeriodShowReminder,bannerType:i1.Qp.INFO,icon:PB.c,mainText:(0,ex.t)("banner.edu_grace_period.verification_required"),description:(0,ex.t)("banner.edu_grace_period.grace_period_team_reminder",{teamName:i.name,endDate:o}),dismissible:!0,button:{buttonText:(0,ex.t)("banner.edu_grace_period.verify_status_button"),onClick:()=>J.default.redirect("/education/apply","_blank")}}}},({state:e,dispatch:t,context:n})=>{let a=e.openFile,r=n.workshopInfo,l=e.user;if(!(null==r?void 0:r.enabled)||!a||!l)return;let i=!a.isTryFile&&!a.parentOrgId&&a.folderId===l.drafts_folder_id,o=e.userFlags.dismissed_figjam_try_drafts_banner;if(i&&!o){let e=(0,sE.c)(),n=Math.ceil((0,sE.c)(r.until).diff(e,"hours",!0));return{id:i1.Ok.FigJamTryDraftsBanner,bannerType:i1.Qp.INFO,icon:PB.c,mainText:n>1?(0,ex.t)("figjam_try.drafts_banner_title_more_time",{num_hours:n}):(0,ex.t)("figjam_try.drafts_banner_title_1_hour_or_less"),description:(0,ex.t)("figjam_try.drafts_banner_description"),onDismiss:()=>null==t?void 0:t(tm.s({dismissed_figjam_try_drafts_banner:!0})),dismissible:!0,button:{buttonText:(0,ex.t)("figjam_try.move_file"),onClick:()=>(0,PM.a)({key:a.key,name:a.name,folder_id:a.folderId,team_id:a.teamId,editor_type:a.editorType,parent_org_id:a.parentOrgId},null,t)}}}},({state:e,dispatch:t,context:n})=>{let a=e.openFile,r=n.workshopInfo,l=e.user,i=null==a?void 0:a.key,o=!!(null==a?void 0:a.isTryFile),s=e.userFlags.dismissed_figjam_try_claim_banner;if(!o||et.cp.isMeetDevice||!l||!(null==r?void 0:r.enabled)||!i||s)return;let c=(0,sE.c)(),d=Math.ceil((0,sE.c)(r.until).diff(c,"hours",!0)),m=()=>{t(PN.K({file_key:i}))};return{id:i1.Ok.FigJamTryClaimBanner,bannerType:i1.Qp.INFO,icon:PB.c,mainText:d>1?(0,ex.t)("figjam_try_v2.timer_hours_left",{hoursLeft:d}):(0,ex.t)("figjam_try.claim_banner_title_1_hour_or_less"),description:(0,ex.t)("figjam_try_v2.logged_in.after_that_this_board_will_be_deleted"),onDismiss:()=>null==t?void 0:t(tm.s({dismissed_figjam_try_claim_banner:!0})),dismissible:!0,button:{buttonText:(0,ex.t)("figjam_try_v2.claim_file_logged_in"),onClick:()=>m()}}},({state:{openFile:e,figFileDuplicatedFromHubFile:t,hubFiles:n}})=>{if(!e)return;let a=t[e.key];if(!a||!a.isPreview)return;let r=n[a.hubFileId];if(r&&r.monetized_resource_metadata)return{id:i1.Ok.FreemiumPreviewBanner,bannerType:i1.Qp.INFO,icon:PB.c,dismissible:!1,mainText:W.createElement(PH,{hubFile:r}),description:W.createElement(PV,{hubFile:r}),button:{type:i1.cN.CUSTOM,element:W.createElement(PW,{hubFile:r})}}},({state:e,dispatch:t})=>{let n=e.userFlags.dismissed_desktop_download_banner_prompt;if("fullscreen"===e.selectedView.view&&!n&&!tW.sZ&&(0,$.Ub)().desktop_download_banner_prompt)return{id:i1.Ok.DesktopDownloadBanner,bannerType:i1.Qp.INFO,icon:PU.c,mainText:(0,ex.t)("banner.desktop_download_title"),description:(0,ex.t)("banner.desktop_download_description"),button:{buttonText:(0,ex.t)("banner.desktop_download_button"),onClick:()=>{J.default.redirect(`/download/desktop/${et.cp.mac?"mac":"win"}`,"_blank")}},dismissible:!0,onDismiss:()=>null==t?void 0:t(tm.s({dismissed_desktop_download_banner_prompt:!0}))}}],Pj=[PG,({state:e,context:t})=>{var n;let a=rZ(e),r=(0,rq.cL)(e);if((0,l1.ie)(e.selectedView)&&(null==(n=t.devModeInfo)||!n.canAccessDevMode))return{id:i1.Ok.DevModePaywallBanner,bannerType:i1.Qp.INFO,dismissible:!1,mainText:W.createElement(Px,null),icon:PF.c,button:{type:i1.cN.CUSTOM,element:W.createElement(PT,null)},dataTestId:"dev-mode-paywall-banner",additionalTrackingProperties:{currentPlan:a,teamId:r}}},({state:e,dispatch:t,context:n})=>{var a;if((0,l1.ie)(e.selectedView)&&(null==(a=n.devModeInfo)?void 0:a.isInTrial)&&!e.userFlags.dev_mode_has_dismissed_in_trial_banner)return{id:i1.Ok.DevModeInTrialBanner,bannerType:i1.Qp.INFO,dismissible:!0,onDismiss:()=>null==t?void 0:t(tm.s({dev_mode_has_dismissed_in_trial_banner:!0})),mainText:W.createElement(Pk,null),icon:PF.c,dataTestId:"dev-mode-trial-banner"}}],PX=[({state:e})=>{if(e.showingFileCreationFailureBanner)return{id:i1.Ok.FileCreationFailureBanner,bannerType:i1.Qp.WARN,dismissible:!1,mainText:W.createElement(ex.Tx,{id:"banner.file_creation_failure.title"}),description:W.createElement(ex.Tx,{id:"banner.file_creation_failure.description"})}}];(0,$.K)()&&PY.push(({state:e})=>{var t;if((null==(t=e.openFile)?void 0:t._name)==="_BANNERTEST PAYMENT")return{id:i1.Ok.TestWarningBanner,bannerType:i1.Qp.WARN,icon:PK.c,mainText:"Payment failed",description:"Our last attempted charge was unsuccessful. Please update your payment source as soon as possible. File editing will be locked after 3 more failed attempts.",button:{buttonText:"Update payment",onClick:()=>{}},dismissible:!0}},({state:e})=>{var t;if((null==(t=e.openFile)?void 0:t._name)==="_BANNERTEST OOM")return{id:i1.Ok.TestOOMBanner,bannerType:i1.Qp.WARN,icon:PK.c,mainText:"80% of memory used",customElem:W.createElement("div",{className:PR.SE},W.createElement(PP.aq,{memoryUsagePercent:80})),description:W.createElement(W.Fragment,null,W.createElement("b",{style:a_.sx.fontSemiBold.$},"This file is almost out of browser memory.")," Remove content to lower memory use to 50% or less. This will ensure you can continue to work in this file safely."),button:{buttonText:"Show memory-reduction tips",onClick:()=>{}}}},({state:e})=>{var t;if((null==(t=e.openFile)?void 0:t._name)==="_BANNERTEST EDU")return{id:i1.Ok.TestInfoBanner,bannerType:i1.Qp.INFO,icon:PB.c,mainText:"File in Education Team",description:"This file is in an Education team. To keep editing this file after 00/00, verify that you're a student or educator.",button:{buttonText:"Verify status",onClick:()=>J.default.redirect("/education/apply","_blank")}}});let Pz=nw()((e,t,n,a,r)=>{let l=function(e,t,n){let{openFile:a}=n;if(!a)return Pq({state:e,dispatch:t,context:n},PX);let r=a.teamId,l=r?e.teams[r]:null;if(!r||l)return Pq({state:e,dispatch:t,context:n},(0,l1.ie)(e.selectedView)?Pj:PY)}(e,t,n);((null==l?void 0:l.id)!==(null==a?void 0:a.id)||(null==l?void 0:l.mainText)!==(null==a?void 0:a.mainText))&&r(l)},1e3,{leading:!0,trailing:!0});function Pq(e,t){for(let n of t){let t=n(e);if(t)return t}}function PZ(e){let t=function(e){let[t,n]=(0,W.useState)(),a=(0,Y.OY)(),r=(0,th.S)(),l=(0,Pf.UR)(),i=function(){var e,t;let n=(0,t$.K0)()??"",a=(0,es.Qb)(nm.QHM,{key:n});return{canAccessDevMode:(0,e7.U9)(),isInTrial:!!(null==(t=null==(e=a.data)?void 0:e.file)?void 0:t.hasPermission)}}();return Pz((0,Y.w1)(e=>e),a,{...e,workshopInfo:r,memoryUsageInfo:l,devModeInfo:i},t,n),W.useEffect(()=>()=>{Pz.cancel()},[]),t}(e.context),n=(0,Y.w1)(e=>e.mirror.appModel.showUi),[a,r]=(0,W.useState)(n&&!!t),l=(null==t?void 0:t.additionalTrackingProperties)||{},i=null==t?void 0:t.id;W.useEffect(()=>{r(n&&!!i)},[n,i]);let o=(0,tw.CM)(),s=(0,l1.AR)();if(!a||!t)return W.createElement(W.Fragment,null);let c={bannerId:i1.Ok[t.id],bannerType:t.bannerType,bannerLocation:e.context.location,...l};return W.createElement(tg.kH,{name:"TopBanner",properties:c},W.createElement(i0.i,{key:t.id,content:t,onDismiss:()=>r(!1),editorType:s?"dev_handoff":o,dataTestId:t.dataTestId}))}var PQ=n(206608),PJ=n(252416),P$=n(227448),P0=n(993140),P1=n(161652),P2=n(718820);function P5(){return(0,Y.w1)(e=>e.mirror.selectionProperties.whiteboardSelectionCanShowAiSummaryNudge)}var P3=n(59764),P4=n(588416);let P6=(e,t)=>e.filter(e=>t.get(e));function P8({onClose:e,onSummarize:t,onAutoDismiss:n}){let a=P5(),r=(0,PJ.SQ)(),[l,i]=(0,W.useState)(0),o=(0,Y.w1)(e=>e.mirror.sceneGraphSelection),s=W.useMemo(()=>Object.entries(o).filter(([e,t])=>t).map(([e,t])=>e),[o]),[c,d]=(0,W.useState)([]),m=W.useCallback(()=>!P6(c,new sL.TSSceneGraph).length,[c]);(0,W.useEffect)(()=>{eo.qM.set(P3.ae,e=>e+1),eo.qM.set(P3.Mr,()=>new Date().toISOString())},[]),(0,W.useEffect)(()=>{switch((0,P3.mM)({currentAutoDismissTimeoutId:l,stickySummarizationEnabledForSelection:r,hasLastEligibleSelectionBeenDeleted:m})){case P3.QB.DismissImmediately:window.clearTimeout(l),i(0),n();break;case P3.QB.NoAutoDismiss:d(s),window.clearTimeout(l),i(0);break;case P3.QB.StartAutoDismissTimer:i(window.setTimeout(()=>{n()},1e4));case P3.QB.noop:}},[l,r,m,a,n,s]);let u=(0,nB.Et)(),{summarizeCanvasSelection:p}=(0,P$.W8)(eM.e2e.ABOVE,!1),_=(0,P2.kj)(),E=(0,ei.my)(P0.Av);return W.createElement(rV.q.div,{initial:{top:-250},animate:{top:u},transition:{duration:.6},className:"ai_summary_nudge--container--Xt3Ld"},W.createElement("div",{className:"ai_summary_nudge--topContent--EYXY0"},W.createElement("div",{className:"ai_summary_nudge--topBar--3FRaK"},W.createElement(ah.a,{fontSize:14,fontWeight:"medium"},W.createElement(ex.Tx,{id:"whiteboard.ai_summary.nudge.title"})),W.createElement("div",{className:"ai_summary_nudge--closeButton--2Lr8q"},W.createElement(rW.CA,{"data-testid":"close-button",onClick:e}))),W.createElement("div",null,W.createElement(ah.a,{fontSize:14,color:"secondary"},W.createElement(ex.Tx,{id:"whiteboard.ai_summary.nudge.subtitle"}))),W.createElement("div",{className:"ai_summary_nudge--numberContainer--JqUxZ"},W.createElement(P7,{num:1}),W.createElement(P7,{num:2})),W.createElement(P9,{onClick:()=>{eL.mo(),eL.aN(c),p(),t(),_&&E(!0)},trackingProperties:{text:"summarize"}})),W.createElement("div",{className:"ai_summary_nudge--middlePerforation--z5eDN"}),W.createElement("div",{className:"ai_summary_nudge--bottomContent--EiPHE"},W.createElement("div",null,W.createElement("span",{className:ap.cx.colorTextTertiary.$},W.createElement(ex.Tx,{id:"whiteboard.ai_summary.nudge.disclaimer"})),W.createElement(M_.c,{className:ap.cx.inline.$,href:P1.mS,target:"_blank",trusted:!0},W.createElement("span",null," "),W.createElement(ex.Tx,{id:"whiteboard.inline_menu.ai_quick_actions_dropdown_disclaimer_cta"})))),W.createElement("div",{className:"ai_summary_nudge--bottomPerforation---VeRC"}))}let P9=(0,tg.wB)(function({onClick:e}){return W.createElement(m2.gV,{style:{maxWidth:"initial"},className:"ai_summary_nudge--button--DlY6r",onClick:e,"data-testid":"summarize-button"},W.createElement("div",{className:"ai_summary_nudge--buttonContents--oUSGP"},W.createElement(eN.A,{svg:P4.c,className:"ai_summary_nudge--svgIcon---Lky-"}),W.createElement(ex.Tx,{id:"whiteboard.ai_summary.nudge.cta"}),W.createElement("div",{className:"ai_summary_nudge--badgeWrapper--QRaRq"},W.createElement(PQ.q,{location:"SUMMARIZE_NUDGE",overrideText:(0,ex.t)("whiteboard.inline_menu.ai_quick_actions_beta_badge_text")}))))});function P7({num:e}){let t=184/e;return W.createElement("div",{className:"ai_summary_nudge--numberGraphic--CnM2r"},W.createElement(ah.a,{fontSize:14,color:"secondary"},e),W.createElement("div",{className:"ai_summary_nudge--textPlaceholder--tx2Yp",style:{width:`${t}px`}}))}var Le=n(221196);function Lt(){let e=(0,Y.OY)(),t=(0,eo.m4)(P3.Mr),n=(0,eo.m4)(P3.ae),a=function(){let e=(0,eo.m4)(Le.qQ),t=(0,eo.m4)(P3.AN),n=(0,eo.m4)(P3.Kc),a=(0,eo.m4)(P3.Mr),r=(0,eo.m4)(P3.ae);return W.useMemo(()=>{if("loaded"!==t.status||"loaded"!==n.status||"loaded"!==e.status||e.data)return(0,es.uU)({isEligibleToShowUser:!1});let l=new Date(a).getTime()>Date.now()-864e5;return r>=3||t.data||n.data||l?(0,es.uU)({isEligibleToShowUser:!1}):(0,es.uU)({isEligibleToShowUser:!0})},[e,t,n,r,a])}(),r=function(){let e=P5();return function(e=2e3){let t=(0,Y.w1)(e=>e.mirror.selectionProperties.whiteboardNumSelected),[n,a]=W.useState({hasDebounceSettled:!1,numNodesSelected:void 0}),r=(0,tC.c)(e=>{a({hasDebounceSettled:!0,numNodesSelected:e})},e);W.useEffect(()=>{a({hasDebounceSettled:!1,numNodesSelected:t}),r(t??0)},[r,t]);let l=n.numNodesSelected!==t;return n.hasDebounceSettled&&!l}()&&e}(),l=(0,Y.w1)(e=>e.mirror.selectionProperties.numSelectedByType),{show:i,isShowing:o,complete:s}=(0,mX.W)({overlay:mZ.QXl,priority:mz.g.SECONDARY_MODAL},[a]);return W.useEffect(()=>{i({canShow:e=>e.isEligibleToShowUser&&!!r})},[l,i,n,t,r]),W.createElement(m0.S,{isShowing:o},o&&W.createElement(tg.kH,{name:nv.i8.AI_TOPBAR_TOOLTIP},W.createElement(P8,{onClose:()=>{e(tm.s({[P3._S]:!0})),s()},onSummarize:()=>{e(tm.s({[P3.em]:!0})),e(tm.s({[P3._S]:!0})),s()},onAutoDismiss:()=>{s()}})))}var Ln=n(27371),La=n(567988),Lr=n(909316),Ll=n(414320);let Li=(0,mV.y_)(La.CK);function Lo(){let e=(0,ei.m4)(xO.uK),t=(0,ei.m4)(xO.of),n=(0,ei.m4)(Li),a=(0,ei.m4)(t$.qK),r=(0,Y.OY)(),{uniqueId:l,isShowing:i,show:o,complete:s}=(0,mX.W)({overlay:mZ.WwD,priority:mz.g.SECONDARY_MODAL},[e,t,n]);return(0,ur.y)(l,"properties-panel-select-tab",e=>{var t;(null==(t=e.properties)?void 0:t.tab)==="prototype"&&o({canShow:(e,t,n)=>(function(e){let t=Date.now();return e.getTime()<=t-2592e6})(e)&&t&&(0,x_.E5)()&&!n})}),W.createElement(Lr.S,{isShowing:i,title:W.createElement(ex.Tx,{id:"upsell.advanced_prototyping.title"}),description:W.createElement(ex.Tx,{id:"upsell.advanced_prototyping.description"}),media:W.createElement(kc.m,{src:"https://static.figma.com/uploads/30507591ad5cd385aaf75d4a16ef140b74ec821b",aspectRatio:1.75}),primaryCta:{label:W.createElement(ex.Tx,{id:"upsell.advanced_prototyping.see_plans"}),type:"button",onClick:()=>{var e;r(ts.A5({type:r$.o,data:{upsellSource:r4.e.ADVANCED_PROTOTYPING_UPSELL,teamId:null==(e=null==a?void 0:a.team)?void 0:e.id,openCheckoutInNewTab:!0,featureList:(0,Ln.sn)(Ln.An.filter(e=>e!==Ln.EJ.AUDIO_CONVERSATIONS),Ln.EJ.ADVANCED_PROTOTYPING)}})),s()},ctaTrackingDescriptor:lr.O.SEE_PLANS},secondaryCta:{label:W.createElement(ex.Tx,{id:"general.learn_more"}),type:"link",href:"https://help.figma.com/hc/en-us/articles/14506587589399-Use-variables-in-prototypes",ctaTrackingDescriptor:lr.O.LEARN_MORE},trackingContextName:"Advanced Prototype Upsell Popup",userFlagOnShow:La.CK,position:Ll.C.BOTTOM_RIGHT,onClose:s})}var Ls=n(434064);let Lc="seen_audio_nux",Ld=(0,mV.y_)(Lc);function Lm(){let e=(0,eo.m4)(Ld),t=(0,mX.W)({overlay:mZ.Wu0,priority:mz.g.SECONDARY_MODAL},[e]);return(0,ur.y)(t.uniqueId,"Context Viewed",e=>{var n;let a=null==(n=e.properties)?void 0:n.name;"join-call-with-others"===a?t.show({canShow:e=>!e}):"should-close-open-audio-nux"===a&&t.isShowing&&t.complete()}),(0,ur.y)(t.uniqueId,"Lost DOM Target",()=>{t.isShowing&&t.complete()}),W.createElement(us.Y5,{isShowing:t.isShowing,userFlagOnShow:Lc,emphasized:!0,title:W.createElement(ex.Tx,{id:"collaboration.voice.join_the_conversation"}),description:W.createElement(Ls.q0,null),targetKey:"audio-nux-key",onClose:t.complete,trackingContextName:"audio_nux_pointer"})}var Lu=n(661324),Lp=n(78728),L_=n(43304),LE=n(518256),Lg=n(235528),Lh=n(68235),Lf=n(401968),Lv=((M=Lv||{})[M.DONT_SHOW=0]="DONT_SHOW",M[M.DEFAULT_TO_SRGB=1]="DEFAULT_TO_SRGB",M[M.DEFAULT_TO_DISPLAY_P3=2]="DEFAULT_TO_DISPLAY_P3",M);let Ly={"Export PNG with Color Profile":"867977941678289774"};function LC(){let{plugins:e}=(0,tf.wp)(),t=Object.fromEntries(Object.entries(Ly).filter(([t,n])=>Object.values(e).some(e=>e.manifest.id===n)));return Object.keys(t).length>0?t:null}function Lw(){let e=(0,Lf.qC)();return(0,Lf.O2)(e)}let Lb=(0,nT.Zf)(null),LT="color_management_default_to_p3_modal--onboardingFooter--VSeAU",Lx="color_management_default_to_p3_modal--content--FzYUr",Lk="seen_color_management_default_to_p3_modal",LN=LE.Ir,LS=uE.El,LI="color_management_default_to_p3_modal";function LA(){let e=(0,mX.W)({overlay:mZ.uwp,priority:mz.g.SURVEY}),{currentStep:t,next:n,back:a}=(0,ul.c)({numSteps:2,onComplete:e.complete}),r=(0,t2.e)(Lk),[l]=(0,Lg.g$)(),i=Lw(),o=LC(),[s,c]=(0,eo.lZ)(Lb),d=(0,Lu.A9)(),[m,u]=(0,W.useState)(!1),[p]=(0,eo.lZ)(L_.ay),_=(0,Lu.S4)();return W.useEffect(()=>{r||null!=s||d.colorProfilePreference!==Lp.S.DEFAULT||(c(Lp.S.DISPLAY_P3),_(Lp.S.DISPLAY_P3,{canSeeP3:i,desktopSetting:l,p3Plugins:o}),e.show())},[i,s,l,r,e,o,c,_,d.colorProfilePreference]),(0,ur.y)(e.uniqueId,uU.EL,()=>{e.isShowing&&0===t&&e.complete()}),(0,ur.y)(e.uniqueId,uE.CK,()=>{e.isShowing&&1===t&&e.complete()}),(0,ur.y)(e.uniqueId,uU.m8,()=>{m||e.isShowing||0!==t||p||(n(),e.show())}),(0,ur.y)(e.uniqueId,L_.WI,()=>{m||e.isShowing||0!==t||(n(),e.show())}),W.createElement(uo.y,{currentStep:t,isShowing:e.isShowing},W.createElement(uj.m,{modalType:uX.GK.ANNOUNCEMENT_POINTER,title:W.createElement(W.Fragment,null,W.createElement(ex.Tx,{id:"fullscreen.color_management.curator.default_to_p3.user_color_profile.title"})),ctaText:W.createElement(ex.Tx,{id:"general.next"}),onClickPrimaryCta:n,stepCounter:W.createElement("span",{className:LT},W.createElement(ex.Tx,{id:"fullscreen.color_management.curator.step_1of2"})),element:LO,onboardingKey:LN,trackingContextName:LI,userFlagOnShow:Lk,isShowing:e.isShowing,onClose:e.complete,onManualDismiss:()=>{e.complete(),u(!0)},width:300}),W.createElement(uj.m,{modalType:uX.GK.ANNOUNCEMENT_POINTER,title:W.createElement(W.Fragment,null,W.createElement(ex.Tx,{id:"fullscreen.color_management.curator.change_document_color_profile.title"})),ctaText:W.createElement(ex.Tx,{id:"general.got_it"}),onClickPrimaryCta:()=>{e.complete(),u(!0)},secondaryCtaText:W.createElement("div",{onClick:a},W.createElement(ex.Tx,{id:"general.previous"})),preventDismissOnClickSecondaryCta:!0,stepCounter:W.createElement("span",{className:LT},W.createElement(ex.Tx,{id:"fullscreen.color_management.curator.step_2of2"})),element:LM,onboardingKey:LS,userFlagOnShow:Lk,trackingContextName:LI,isShowing:e.isShowing,onClose:e.complete,onManualDismiss:()=>{e.complete(),u(!0)},width:300}))}function LO(){return W.createElement("p",{className:Lx},W.createElement(ex.Tx,{id:"fullscreen.color_management.curator.default_to_p3.user_color_profile.content",colorProfileSetting:W.createElement("strong",null,W.createElement(ex.Tx,{id:"fullscreen.color_management.curator.color_profile_setting"}))})," ",W.createElement("a",{href:Lh.y,target:"_blank"},W.createElement(ex.Tx,{id:"rcs.rcs_shared.learn_more"})))}function LM(){return W.createElement("p",{className:Lx},W.createElement(ex.Tx,{id:"fullscreen.color_management.curator.change_document_color_profile.content",fileColorProfile:W.createElement("strong",null,W.createElement(ex.Tx,{id:"fullscreen.color_management.curator.file_color_profile"}))})," ",W.createElement("a",{href:Lh.y,target:"_blank"},W.createElement(ex.Tx,{id:"rcs.rcs_shared.learn_more"})))}function LP(){let[e]=(0,Lg.g$)(),t=Lw(),n=LC(),[a,r]=(0,eo.lZ)(Lb),l=(0,Lu.A9)(),i=(0,Lu.S4)();return W.useEffect(()=>{null==a&&l.colorProfilePreference===Lp.S.DEFAULT&&(r(Lp.S.SRGB),i(Lp.S.SRGB,{canSeeP3:t,desktopSetting:e,p3Plugins:n}))},[t,a,e,n,r,i,l.colorProfilePreference]),null}function LL(){let e=function(){let e=(0,Lu.A9)().colorProfilePreference!==Lp.S.DEFAULT,t=function(){let[e]=(0,Lg.g$)(),t=Lw(),n=LC();return t&&n&&["unmanaged","default",null].includes(e)?Lp.S.DISPLAY_P3:Lp.S.SRGB}(),[n]=(0,eo.lZ)(Lb);return e&&null===n?0:t===Lp.S.SRGB?1:t===Lp.S.DISPLAY_P3?2:0}();if(!function(e){let t=(0,sC._o)(),[n,a]=function(e){let[t,n]=W.useState(!1),[a,r]=W.useState(!1);return W.useEffect(()=>{let e;return a&&(e=setTimeout(()=>{n(!t),r(!1)},2e3)),()=>clearTimeout(e)},[a,t,2e3]),[t,W.useCallback(()=>r(!0),[])]}(2e3);return W.useEffect(()=>{t||a()},[t,a]),n}(0))return null;switch(e){case Lv.DONT_SHOW:return null;case Lv.DEFAULT_TO_SRGB:return W.createElement(LP,null);case Lv.DEFAULT_TO_DISPLAY_P3:return W.createElement(LA,null)}}var LD=n(444636),LR=n(571911),LF=n(514684);function LB(){var e,t,n;let a=(0,mX.W)({overlay:mZ.ATb,priority:mz.g.DEFAULT_MODAL}),r=(0,Y.OY)(),l=(0,Y.o3)(),i=(0,_d.eM)((e,t)=>(0,LD.o)(e,t),l.getState().mirror.appModel.currentPage),o=(0,Sf.I9)((0,Sf.W0)()),s=!!(null==(e=(0,t$.AL)())?void 0:e.template),c=(0,sC._o)(),d=!!(0,t2.e)("seen_custom_template_publish_nudge"),m=null==(n=null==(t=(0,t2.e)("figjam_editor_onboarded"))?void 0:t.updatedAt)?void 0:n.getTime(),u=!!m&&m<Date.now()-12096e5,p=!c&&!d&&o&&!i&&!s&&u;return((0,W.useEffect)(()=>{p&&setTimeout(()=>{a.show(),r(tm.s({seen_custom_template_publish_nudge:!0}))},1e3)},[r,a,p]),a.isShowing)?W.createElement(LR.O,{step:{modalType:uX.GK.DRAGGABLE,element:LF.GM,trackingContextName:"custom_template_publish_nudge",onboardingKey:LE.oN,title:W.createElement("div",{className:ap.cx.font13.fontMedium.pl8.pt16.pb16.$},W.createElement(ex.Tx,{id:"whiteboard.inserts.custom_templates_header"})),width:300,disableFooter:!0,hideStepCounter:!0,disableHighlight:!0},onClickPrimaryCta:a.complete,onClose:a.complete,dismissModal:a.complete,dispatch:r}):null}let LU=(0,mV.y_)("seen_desktop_download_modal_prompt"),LK=(0,mV.y_)("seen_desktop_download_modal_prompt_v2"),LG=(0,xO.G_)("used_desktop_app");function LH(){let e=(0,eo.m4)(LU),t=(0,eo.m4)(LK),n=(0,eo.m4)(xO.uK),a=(0,eo.m4)(LG),{getConfig:r}=(0,ep.M9)("exp_desktop_download_prompts_v2"),l=()=>r().get("should_show_desktop_modal_prompt_v2",!1),{isShowing:i,show:o,complete:s}=(0,mX.W)({overlay:mZ.Qnb,priority:mz.g.DEFAULT_MODAL,experiment:{check:()=>l(),predicate:e=>e,postCheck:e=>!e}},[t,e,n]);if((0,rT.u)(()=>{tW.sZ||a||o({canShow:(e,t,n)=>(function(e){let t=Date.now();return e.getTime()<=t-12096e5})(n)&&!t})}),!i)return null;let c=()=>{s()};return W.createElement(Lr.S,{isShowing:i,title:W.createElement(ex.Tx,{id:"desktop_download_modal_prompt.download_the_figma_desktop_app"}),description:W.createElement(ex.Tx,{id:"desktop_download_modal_prompt.level_up_your_workflow_with_tabs"}),media:W.createElement(kc.A,{aspectRatio:1.75,alt:"A graphic showing the desktop app with tabs",src:"https://static.figma.com/uploads/cedfb41ea4da3cb80d5d062e5b648aa1d6a5cf1b"}),primaryCta:{label:W.createElement(ex.Tx,{id:"desktop_download_modal_prompt.get_the_desktop_app"}),type:"button",onClick:()=>{(0,Z.we)("desktop_modal_download_prompt_cta_clicked_v2"),c(),J.default.redirect(`/download/desktop/${et.cp.mac?"mac":"win"}`,"_blank")},ctaTrackingDescriptor:lr.O.DESKTOP_APP_DOWNLOAD},trackingContextName:"Desktop Download Modal Prompt",onClose:c,userFlagOnShow:"seen_desktop_download_modal_prompt_v2",position:Ll.C.BOTTOM_RIGHT,secondaryCta:{label:W.createElement(ex.Tx,{id:"desktop_download_modal_prompt.learn_more"}),type:"link",href:"https://help.figma.com/hc/articles/5601429983767-Guide-to-the-Figma-desktop-app",ctaTrackingDescriptor:lr.O.LEARN_MORE}})}var LV=n(668988);let LW="desktop_fullscreen_tabs_hidden_onboarded",LY=(0,mV.y_)(LW);function Lj(){let e=(0,eo.m4)(LY),t=(0,eo.m4)(xO.uK),n=(0,mX.W)({overlay:mZ.oPK,priority:mz.g.DEFAULT_MODAL},[e,t]);return(0,ur.y)(n.uniqueId,"Desktop Entered Full Screen",()=>{n.show({canShow:(e,t)=>!e&&t.getTime()<new Date("2021-08-01").getTime()})}),W.createElement(uj.m,{isShowing:n.isShowing,modalType:uX.GK.SELF_CONTAINED,trackingContextName:"Desktop Tab Bar Hidden In Full Screen Pointer",element:LX,userFlagOnShow:LW,onClickPrimaryCta:n.complete,onClose:n.complete,onManualDismiss:n.complete})}function LX(e){let t=(0,Y.w1)(LV.K);return W.createElement(i8.UX,{shouldCenterModal:!0,dismissModal:e.dismissModal,targetKey:"desktop-tab-bar",width:320,ctaText:(0,ex.t)("rcs.desktop_tab_bar_hidden_in_full_screen_pointer.cancel_button"),onClickPrimaryCta:e.dismissModal,topOffset:55,title:(0,ex.t)("rcs.desktop_tab_bar_hidden_in_full_screen_pointer.title"),backgroundColor:t?"#9747FF":""},W.createElement("p",null,et.cp.mac?W.createElement(ex.Tx,{id:"rcs.desktop_tab_bar_hidden_in_full_screen_pointer.modal_text_for_mac"}):W.createElement(ex.Tx,{id:"rcs.desktop_tab_bar_hidden_in_full_screen_pointer.modal_text_for_non_mac"})))}var Lz=n(515044),Lq=n(519588),LZ=n(165680),LQ=n(782120),LJ=n(360188);function L$(){let e=(0,Y.OY)(),t=(0,rY.kV)(),n=(0,eo.m4)((0,nm.yfh)({currentOrgId:t})),a=(0,mX.W)({overlay:mZ.WU$,priority:mz.g.DEFAULT_MODAL},[n]),r=(0,LZ.kF)(),l=(0,Y.w1)(e=>(0,Lq.Un)(e.mirror)),i=(0,sC._o)(),o=(0,Y.w1)(e=>e.openFile),s=!!(0,t2.e)("has_seen_feed_first_time_post_overlay"),c=!!(0,t2.e)("has_visited_feed"),d=W.useMemo(()=>!i&&!(l.length<LJ.e)&&!s&&!!c&&!!r&&!!o&&"whiteboard"!==o.editorType,[l,s,i,c,r,o]);W.useEffect(()=>{d&&setTimeout(()=>{a.show({canShow:e=>{let{currentUser:{feedPosts:t}}=e;return!t||0===t.length}})},LJ.S)},[a,d]);let m=W.useCallback(()=>{o&&l&&(e((0,ts.A5)({type:LQ.OL,data:{fileKey:o.key,initialTab:Mg.wp.POST_TO_FEED,source:Lz.Ce.teamFeedNux}})),a.complete())},[a,e,l,o]);return W.createElement(us.Y5,{isShowing:a.isShowing,targetKey:LE.oN,trackingContextName:"Team feed first time post",title:W.createElement(ex.Tx,{id:"rcs.feed_onboarding.first_time_post.title"}),description:W.createElement("p",{"data-testid":"team-feed-first-time-post"},W.createElement(ex.Tx,{id:"rcs.feed_onboarding.first_time_post.content"})),primaryCta:{label:W.createElement(ex.Tx,{id:"rcs.feed_onboarding.first_time_post.cta"}),type:"button",onClick:m,ctaTrackingDescriptor:lr.O.DONE},onClose:a.complete,userFlagOnShow:"has_seen_feed_first_time_post_overlay",emphasized:!0})}function L0(){let e=(0,Y.OY)(),t=(0,rY.kV)(),n=(0,eo.m4)((0,nm.yfh)({currentOrgId:t})),a=(0,mX.W)({overlay:mZ.GkQ,priority:mz.g.DEFAULT_MODAL},[n]),r=(0,LZ.kF)(),l=(0,Y.w1)(e=>(0,Lq.Un)(e.mirror)),i=(0,sC._o)(),o=(0,Y.w1)(e=>e.openFile),s=!!(0,t2.e)("has_seen_feed_weekly_prompt_overlay"),c=!!(0,t2.e)("has_visited_feed"),d=W.useMemo(()=>!i&&!(l.length<LJ.e)&&!s&&!!c&&!!r&&!!o&&"whiteboard"!==o.editorType,[l,s,i,c,r,o]);W.useEffect(()=>{d&&setTimeout(()=>{a.show({canShow:e=>{let{currentUser:{feedPosts:t}}=e,n=new Date(Date.now()-6048e5);return!!(t&&t.length>0&&t[0].createdAt<n)}})},LJ.S)},[a,d]);let m=W.useCallback(()=>{o&&l&&(e((0,ts.A5)({type:LQ.OL,data:{fileKey:o.key,initialTab:Mg.wp.POST_TO_FEED,source:Lz.Ce.teamFeedNux}})),a.complete())},[a,e,l,o]);return W.createElement(us.Y5,{isShowing:a.isShowing,targetKey:LE.oN,trackingContextName:"Team feed weekly prompt",title:W.createElement(ex.Tx,{id:"rcs.feed_onboarding.weekly_prompt.title"}),description:W.createElement("p",null,W.createElement(ex.Tx,{id:"rcs.feed_onboarding.weekly_prompt.content"})),primaryCta:{label:W.createElement(ex.Tx,{id:"rcs.feed_onboarding.weekly_prompt.cta"}),type:"button",onClick:m,ctaTrackingDescriptor:lr.O.DONE},onClose:a.complete,userFlagOnShow:"has_seen_feed_weekly_prompt_overlay",emphasized:!0})}var L1=n(122136);function L2(){let e=(0,eo.m4)(ui.M7),t=(0,mX.W)({overlay:mZ.SC6,priority:mz.g.SECONDARY_MODAL},[e]);return(0,rT.u)(()=>{t.show({canShow:e=>e})}),W.createElement(uj.m,{isShowing:t.isShowing,modalType:uX.GK.SELF_CONTAINED,trackingContextName:"FigJam disabled by org",element:L1.OG,onClickPrimaryCta:t.complete,onClose:t.complete,onManualDismiss:t.complete})}var L5=n(829460),L3=n(414200),L4=n(738048);function L6(e){let{jobTitle:t,viewedSidebar:n,setViewedSidebar:a}=e,r=(0,Y.OY)(),l=(0,L5.o)(t);return W.useMemo(()=>{n||(a(!0),r(lH.KE({initialX:0,initialY:0,pinned:Cz.a.PINNED_AND_DOCKED_LEFT,initialSelectedCategory:l})))},[r,l,n,a]),W.createElement(W.Fragment,null)}function L8(){let e=(0,t1.sX)(),t=(0,Y.w1)(e=>e.openFile),n=(0,Y.w1)(e=>e.mirror.appModel.currentPage),a=(0,_d.eM)((e,t)=>(0,LD.o)(e,t),n),r=(0,Y.w1)(e=>!(0,L4.WE)(e.mirror.appModel.currentTool)),l=(0,L4.QX)(t,e||""),i=(0,mV.Ww)("interacted_figjam_whats_new_v2_cta"),o=(0,eo.m4)(i),s=(0,eo.m4)(xO.W_),c=(0,L3.G)(s,["education"]),d=(0,eo.m4)(ui.eE),[m,u]=W.useState(!1),p=(0,mX.W)({overlay:mZ.pE1,priority:mz.g.HIGH_PRIORITY_MODAL},[o,s]);(0,rT.u)(()=>{p.show({canShow:e=>(0,L4.rR)(e)&&d&&(0,L4.qG)(t)&&a&&!r&&l})});let _=(0,lJ.wD)(),E=()=>{_(),p.complete()};return W.createElement(uj.m,{isShowing:p.isShowing,modalType:uX.GK.SELF_CONTAINED,trackingContextName:"FigJam Templates",element:()=>W.createElement(L6,{jobTitle:c,viewedSidebar:m,setViewedSidebar:u}),testId:"figjam_templates_whats_new_overlay",onClickPrimaryCta:p.complete,onClose:E,onManualDismiss:E})}var L9=n(724604),L7=n(355064),De=n(643260),Dt=n(994880),Dn=n(30128),Da=n(967540),Dr=n(600239);let Dl=(0,lo.U9)(function(){let e=(0,Y.OY)();return W.createElement(tg.kH,{name:"google_device_try_file_claim_success_modal"},W.createElement(nO.wJ,{dispatch:e,disableKeyboardEventPropagation:!0,className:Dr.MH},W.createElement("div",{className:Dr.Co},W.createElement("img",{className:Dr.c$,src:"https://static.figma.com/uploads/e94b4d90f07d46f80c5d4d47a16ee2cd8df688bf",alt:""})),W.createElement(Dt.ay,{multiple:2}),W.createElement("div",{className:Dr.yp},W.createElement("h1",{className:Dr.iw},W.createElement(ex.Tx,{id:"google_device_try_file_modal.claim_success.header"})," ")),W.createElement(Dt.ay,{multiple:1}),W.createElement("div",{className:Dr.yp},W.createElement("div",{className:Dr.AX},W.createElement(ex.Tx,{id:"google_device_try_file_modal.claim_success.description"}))),W.createElement(Dt.ay,{multiple:3}),W.createElement(eT.cv,{type:"close",fullWidth:!0,onClick:t=>{t.preventDefault(),t.stopPropagation(),e(ts.oN())}},W.createElement(ex.Tx,{id:"google_device_try_file_modal.claim_success.button"}))))},"GOOGLE_DEVICE_TRY_FILE_CLAIM_SUCCESS_MODAL");var Di=n(886872),Do=n(268984);let Ds=(0,Do.M0)((e,{fileKey:t,emailAddress:n,isResentEmail:a,onSuccess:r},{loadingKey:l})=>{let i=ny.H.setClaimEmail({fileKey:t,emailAddress:n});(0,Di.o)(i,e,l),i.then(()=>{if(a){e.dispatch(ek.A.enqueue({message:(0,ex.t)("google_device_try_file_modal.resent_email.visual_bell")}));return}null==r||r(n)}).catch(t=>{var n;if((null==(n=t.data)?void 0:n.message)==="Hit Claim Email Job timeout lock"){e.dispatch(ek.A.enqueue({message:(0,ex.t)("google_device_try_file_modal.resent_email.email_resent")}));return}e.dispatch(Da.M.error((0,ex.t)("google_device_try_file_modal.enter_email.failed_to_send")))})}),Dc=(0,Do.M0)((e,{fileKey:t},{loadingKey:n})=>{let a=ny.H.claimDeviceFile({fileKey:t});(0,Di.o)(a,e,n),a.then(()=>{e.dispatch(ts.A5({type:Dl,data:{}}))}).catch(t=>{e.dispatch(Da.M.error((0,ex.t)("google_device_try_file.save_board.generic_error")))})}),Dd="figjam_try_confirm_save_steps--descriptionBold--ou7xj";function Dm({dismissModal:e}){let t=(0,Y.OY)(),n=(0,t$.K0)(),a=(0,Y.w1)(e=>{var t;return null==(t=e.user)?void 0:t.email_validated_at}),r=(0,Y.w1)(e=>n?e.loadingState[PN.K.loadingKeyForPayload({file_key:n})]:null),l=(0,Y.w1)(e=>n?e.loadingState[Dc.loadingKeyForPayload({fileKey:n})]:null),i=(0,L9.s)(),o=(0,id._T)(),s=r===De.D.LOADING||"loading"===i.status||l===De.D.LOADING,c=r===De.D.SUCCESS||l===De.D.SUCCESS;(0,W.useEffect)(()=>{c&&(e(),(null==o?void 0:o.updateFigJamTrySaveStatus)&&o.updateFigJamTrySaveStatus(Pn.$N.SAVED))},[c,e,o]);let d=(0,id.QP)();if((0,W.useEffect)(()=>{d&&(d._claim_fig_jam_try_file=e=>{t(PN.K({file_key:e}))})},[d,t]),(0,W.useEffect)(()=>{(null==o?void 0:o.updateFigJamTrySaveStatus)&&n&&a&&o.updateFigJamTrySaveStatus(Pn.$N.REQUESTED)},[o,n,a]),!n||!a)return null;let m=(0,sE.c)(a).isAfter((0,sE.c)().subtract(5,"minutes"));return W.createElement("div",{className:"figjam_try_confirm_save_steps--modalContent--DezcS"},W.createElement("div",{className:"figjam_try_confirm_save_steps--textContent--9da6-"},W.createElement("h1",{className:"figjam_try_confirm_save_steps--headline--RRPzl text--fontPos20--Bcz97 text--_fontBase--QdLsd"},W.createElement(ex.Tx,{id:"figjam_try.save_modal.headline"})),W.createElement(Dt.ay,{multiple:1}),W.createElement("p",{className:"figjam_try_confirm_save_steps--description--bpGw9 text--fontPos13--xW8hS text--_fontBase--QdLsd"},m?W.createElement(ex.Tx,{id:"figjam_try.save_modal.new_team"}):W.createElement(ex.Tx,{id:"figjam_try.save_modal.save_one_team",share:W.createElement("p",{className:Dd},W.createElement(ex.Tx,{id:"figjam_try.save_modal.share"})),file_duplicate:W.createElement("p",{className:Dd},W.createElement(ex.Tx,{id:"figjam_try.save_modal.file_duplicates"}))})),W.createElement(Dt.ay,{multiple:3}),W.createElement(eT.cv,{onClick:()=>{var e;"loaded"===i.status&&void 0!==(0,es.Fc)(null==(e=i.data)?void 0:e.deviceTryFile)?t(Dc({fileKey:n})):t(PN.K({file_key:n}))},disabled:s,fullWidth:!0,trackingProperties:{buttonContext:"Let\u2019s jam"}},W.createElement(Dn.E,{isLoading:s},()=>W.createElement(ex.Tx,{id:"figjam_try.save_modal.cta"})))))}function Du(){let e=(0,mX.W)({overlay:mZ.o9x,priority:mz.g.HIGH_PRIORITY_MODAL}),t=(0,eo.m4)(t$.qK),n=null==t?void 0:t.isTryFile,a=(0,id._T)(),r=(0,L9.s)(),[l,i]=W.useState(!1);return(0,W.useEffect)(()=>{e.isShowing&&!n&&(e.complete(),(null==a?void 0:a.updateFigJamTrySaveStatus)&&a.updateFigJamTrySaveStatus(Pn.$N.SAVED))},[n,e,a]),(0,W.useEffect)(()=>{var t;let o=(0,L7.iE)(LE._I.key)===LE._I.value;if("loaded"!==r.status)return;let s=void 0!==(0,es.Fc)(null==(t=r.data)?void 0:t.deviceTryFile);o&&s&&!l?(e.show(),i(!0)):o&&n&&!s?(e.show(),(null==a?void 0:a.updateFigJamTrySaveStatus)&&a.updateFigJamTrySaveStatus(Pn.$N.REQUESTED)):o&&!n&&(null==a?void 0:a.updateFigJamTrySaveStatus)&&a.updateFigJamTrySaveStatus(Pn.$N.SAVED)},[e,n,r,l,a]),W.createElement(uj.m,{isShowing:e.isShowing,trackingContextName:"Figjam Try Confirm Save Modal",modalType:uX.GK.WELCOME,element:({dismissModal:e})=>W.createElement(Dm,{dismissModal:e}),onClickPrimaryCta:e.complete,onClose:e.complete,onManualDismiss:e.complete})}uX.GK.WELCOME,({dismissModal:e})=>W.createElement(Dm,{dismissModal:e});let Dp="figjam_try_confirm_save--textContainer--9YaF4";function D_(){let[e,t]=W.useState(!1),{show:n,isShowing:a,complete:r}=(0,mX.W)({overlay:mZ.asI,priority:mz.g.HIGH_PRIORITY_MODAL}),l=(0,eo.m4)(t$.qK),i=null==l?void 0:l.isTryFile,o=(0,L9.s)(),s=(0,L7.iE)(LE._I.key)===LE._I.value,c=(0,eo.m4)(k_._);return(0,W.useEffect)(()=>{var t,a,r,l;!e&&s&&!i&&"loaded"===o.status&&(null==(a=(0,es.Fc)(null==(t=o.data)?void 0:t.deviceTryFile))?void 0:a.claimedAt)&&(null==(l=(0,es.Fc)(null==(r=o.data)?void 0:r.deviceTryFile))?void 0:l.claimedByUserId)!==c.data&&n()},[e,i,s,o,n,c]),W.createElement(m0.S,{isShowing:a},W.createElement(DE,{onClose:()=>{r(),t(!0)}}))}function DE(e){let t=(0,Y.OY)();return W.createElement(tg.kH,{name:"figjam_try_device_already_claimed_overlay"},W.createElement(nO.wJ,{dispatch:t,onHide:e.onClose,disableKeyboardEventPropagation:!0,className:"figjam_try_confirm_save--googleTryDeviceAlreadyClaimedModal--T7bRi"},W.createElement("div",{className:Dp},W.createElement("h1",{className:"figjam_try_confirm_save--googleTryDeviceAlreadyClaimedHeader--vNLRA text--fontPos20--Bcz97 text--_fontBase--QdLsd"},W.createElement(ex.Tx,{id:"figjam_try.already_claimed_modal.header"}))),W.createElement(Dt.ay,{multiple:1}),W.createElement("div",{className:Dp},W.createElement("div",{className:"figjam_try_confirm_save--googleTryDeviceAlreadyClaimedDescription--WXdx- text--fontPos13--xW8hS text--_fontBase--QdLsd"},W.createElement(ex.Tx,{id:"figjam_try.already_claimed_modal.description",file_duplicate:W.createElement("p",{className:"figjam_try_confirm_save--googleTryDeviceAlreadyClaimedDescriptionBold--CZgl4"},W.createElement(ex.Tx,{id:"figjam_try.already_claimed_modal.file_duplicate"}))}))),W.createElement(Dt.ay,{multiple:3}),W.createElement(eT.cv,{type:"close",fullWidth:!0,onClick:e.onClose},W.createElement(ex.Tx,{id:"figjam_try.already_claimed_modal.continue"}))))}var Dg=n(300700),Dh=n(440728);let Df=(0,mV.y_)(Dg.USER_FLAG_V2),Dv=(0,xO.G_)("last_figjam_at"),Dy=(0,mV.y_)("dont_show_figjam_updates_in_figma_design");function DC(){let e=(0,eo.m4)(Dy),t=(0,eo.m4)(ui.eE),n=(0,eo.m4)(xO.uK),a=(0,eo.m4)(Dv),r=(0,eo.m4)(Df),l=(0,eo.m4)(xO.W_),i=(0,eo.m4)(xO.ey),o=(0,kx.sD)(),s=(0,mX.W)({overlay:mZ.e6M,priority:mz.g.DEFAULT_MODAL},[e,n,r,i,l]);return(0,rT.u)(()=>{s.show({canShow:(e,n,r,l)=>{if(e||l)return!1;let i=(0,L3.i)({userCreatedAt:n,lastUsedFigjamDate:a,hasSeenOverlayV2:r});return(!t||o)&&i}})}),W.createElement(Dh.c,{context:"editor",jobTitle:(0,L3.G)(l,["education"]),isShowing:s.isShowing,onClickPrimaryCta:s.complete,onClose:s.complete,onManualDismiss:s.complete})}var Dw=n(249028);let Db=(0,nx.If)(e=>e.userAnalyticsData);var DT=n(5868);let Dx=(0,nT.Zf)(!1),Dk="gen1_design_onboarding--navigationModal--7yIMU",DN="gen1_design_onboarding--topbar--zFow3",DS="gen1_design_onboarding--modalContents--1tk2v",DI="gen1_design_onboarding--selectedOption--R73uD",DA="gen1_design_onboarding--unselectedOption--eNh-q",DO="gen1_design_onboarding--closeButton--ieOv1";function DM(e){let{currStepNum:t,totalNumSteps:n,primaryCtaText:a,onClickPrimaryCta:r}=e,l=`${t} of ${n}`;return W.createElement("div",{className:"gen1_design_onboarding--bottomRow--x6Q0-"},W.createElement("div",{className:ap.cx.colorTextSecondary.fontMedium.$},l),W.createElement("div",{className:ap.cx.flex.gap8.$},e.secondaryCtaText&&W.createElement(eT.Sm,{onClick:e.onSecondaryCtaClick},e.secondaryCtaText),W.createElement(eT.Uv,{onClick:r},a)))}function DP(e){let[t,n]=(0,W.useState)(k0.MOUSE),a=(0,Y.OY)();return W.createElement(pK.ke,null,W.createElement("div",{className:Dk},W.createElement("div",{className:DN},W.createElement(rW.CA,{onClick:()=>{e.dismissModal(),a(tm.s({dismissed_gen1_design_onboarding_navigation:!0}))},className:DO}),W.createElement("button",{className:q()(ap.cx.pt12.pb12.pl16.pr16.$,{[DI]:t===k0.MOUSE,[DA]:t!==k0.MOUSE}),onClick:()=>n(k0.MOUSE)},W.createElement(ex.Tx,{id:"tooltips_plus_onboarding.mouse"})),W.createElement("button",{className:q()(ap.cx.pt12.pb12.pl16.pr16.$,{[DI]:t===k0.TRACKPAD,[DA]:t!==k0.TRACKPAD}),onClick:()=>n(k0.TRACKPAD)},W.createElement(ex.Tx,{id:"tooltips_plus_onboarding.trackpad"}))),W.createElement("div",{className:DS},W.createElement("h1",{className:ap.cx.fontMedium.font13.$},W.createElement(ex.Tx,{id:"gen1_design_onboarding.take_a_look_at_your_first_figma_file"})),W.createElement(eT._C,{multiple:1.5,direction:"y"}),W.createElement(k8,{peripheral:t}),W.createElement(eT._C,{multiple:2,direction:"y"}),W.createElement(k9,{peripheral:t}),W.createElement(eT._C,{multiple:3,direction:"y"}),W.createElement(DM,{currStepNum:e.currStepNum,totalNumSteps:e.totalNumSteps,onClickPrimaryCta:()=>{e.onClickPrimaryCta(),a(tm.s({dismissed_gen1_design_onboarding_navigation:!0}))},primaryCtaText:(0,ex.t)("general.next")}))))}let DL=[function({isShowing:e,onClickPrimaryCta:t,onClose:n,currStepNum:a,totalNumSteps:r}){return W.createElement(m0.S,{isShowing:e,userFlagOnShow:"seen_gen1_design_onboarding_navigation"},W.createElement(tg.kH,{name:"Gen 1 Design Onboarding - Navigation"},W.createElement(DP,{currStepNum:a,totalNumSteps:r,onClickPrimaryCta:t,dismissModal:n})))},function({isShowing:e,onClickPrimaryCta:t,onClickSecondaryCta:n,onClose:a,totalNumSteps:r,currStepNum:l}){let i=(0,sC.au)();return(0,rT.u)(()=>{i!==eM.w3X.COMMENTS&&tA.CA.triggerAction("set-tool-comments")}),W.createElement(us.Y5,{isShowing:e,title:W.createElement(ex.Tx,{id:"gen1_design_onboarding.so_what_do_you_think"}),description:W.createElement(ex.Tx,{id:"gen1_design_onboarding.leave_a_comment_anywhere_in_the_canvas_to_give_feedback_ask_questions_or_mention_someone"}),targetKey:"comment",trackingContextName:"Gen 1 Design Onboarding - Comments",userFlagOnShow:"seen_gen1_design_onboarding_comments",onClose:a,primaryCta:{label:W.createElement(ex.Tx,{id:"general.next"}),type:"button",onClick:t,ctaTrackingDescriptor:lr.O.NEXT},secondaryCta:{label:W.createElement(ex.Tx,{id:"general.back"}),type:"button",onClick:()=>{tA.CA.triggerAction("set-tool-default"),n()},ctaTrackingDescriptor:lr.O.BACK},stepCounter:{stepNum:l,totalNumSteps:r},disableHighlight:!0})},function({isShowing:e,onClickPrimaryCta:t,onClickSecondaryCta:n,onClose:a,totalNumSteps:r,currStepNum:l}){let i={isShowing:e,title:W.createElement(ex.Tx,{id:"gen1_design_onboarding.see_what_else_your_team_is_up_to"}),description:W.createElement(ex.Tx,{id:"gen1_design_onboarding.head_to_the_top_corner_and_select_back_to_files_to_browse_your_team_s_other_projects"}),trackingContextName:"Gen 1 Design Onboarding - File Browser",primaryCta:{label:W.createElement(ex.Tx,{id:"general.got_it"}),type:"button",onClick:t,ctaTrackingDescriptor:lr.O.GOT_IT},secondaryCta:{label:W.createElement(ex.Tx,{id:"general.back"}),type:"button",onClick:n,ctaTrackingDescriptor:lr.O.BACK},onClose:a,stepCounter:{stepNum:l,totalNumSteps:r}};if(tW.sZ){let e=et.cp.mac?{top:10,left:75}:{top:10,left:21};return W.createElement(us.Y5,{...i,fixedPosition:!0,location:{...e,pointerOffset:16,pointerPosition:xh.Wp.TOP}})}return W.createElement(us.Y5,{...i,targetKey:LE.Ir,disableHighlight:!0})}];function DD(){let{getConfig:e}=(0,ep.M9)("exp_gen1_design_onboarding_async"),t=(0,mX.W)({overlay:mZ.xGw,priority:mz.g.HIGH_PRIORITY_MODAL-1,experiment:{check:()=>e().get("show_onboarding",!1),predicate:e=>e,postCheck:()=>!0}}),n=(0,W.useCallback)(()=>{t.complete()},[t]),a=(0,ul.c)({numSteps:DL.length,onComplete:n});(0,ur.y)(t.uniqueId,"Context Viewed",e=>{var t;(null==(t=e.properties)?void 0:t.name)==="Editor > Toolbar > Editor Menu"&&a.currentStep===DL.length-1&&n()}),(0,rT.u)(()=>{t.isShowing||t.show()});let r=(0,W.useMemo)(()=>DL.map((e,t)=>W.createElement(e,{onClickPrimaryCta:a.next,onClickSecondaryCta:a.back,onClose:n,isShowing:!0,currStepNum:t+1,totalNumSteps:DL.length})),[n,a]);return t.isShowing?W.createElement(uo.y,{currentStep:a.currentStep,isShowing:t.isShowing,children:r}):null}function DR({onClose:e,advanceStep:t,isShowing:n}){let a=(0,sC.au)();return(0,W.useEffect)(()=>{a===eM.w3X.COMMENTS&&t()},[t,a]),W.createElement(us.Y5,{onClose:e,description:W.createElement("div",{className:ap.cx.font13.fontMedium.lh18.$},W.createElement(ex.Tx,{id:"gen1_design_onboarding_sync.leave_comments_and_mention_others"})),trackingContextName:"Gen 1 Design Onboarding Sync \u2014 Comment",targetKey:"comment",isShowing:n,emphasized:!0,shouldCenterArrow:n2.yi.FALLBACK,clickOutsideToHide:!1,width:320,highlightBlue:!0})}function DF({overlay:e,onClose:t,advanceStep:n,isShowing:a}){let r=(0,Y.OY)(),l=(0,W.useCallback)(()=>{r(tm.s({dismissed_gen1_design_onboarding_sync_follow:!0})),n()},[n,r]),i=(0,eo.m4)(Dw.cX),o=i?i.length:0;return(0,ur.y)(e.uniqueId,"start_following",()=>{l()}),(0,W.useEffect)(()=>{0===o&&l()},[l,o]),W.createElement(us.Y5,{onClose:e=>{r(tm.s({dismissed_gen1_design_onboarding_sync_follow:!0})),t(e)},description:W.createElement("div",{className:ap.cx.font13.fontMedium.lh18.$},W.createElement(ex.Tx,{id:"gen1_design_onboarding_sync.follow_teammates_in_this_file"})),trackingContextName:"Gen 1 Design Onboarding Sync \u2014 Follow",targetKey:o>1?"multiplayer-avatars":"multiplayer-observation-nux-key",isShowing:a,emphasized:!0,shouldCenterArrow:n2.yi.FALLBACK,userFlagOnShow:"seen_gen1_design_onboarding_sync_follow",clickOutsideToHide:!1,width:249,...o>1?{disableHighlight:!0}:{highlightBlue:!0}})}function DB({onClose:e}){let[t,n]=(0,W.useState)(k0.MOUSE);return W.createElement(pK.ke,null,W.createElement("div",{className:Dk},W.createElement("div",{className:DN},W.createElement(rW.CA,{onClick:e,className:DO}),W.createElement("button",{className:q()(ap.cx.pt12.pb12.pl16.pr16.$,{[DI]:t===k0.MOUSE,[DA]:t!==k0.MOUSE}),onClick:()=>n(k0.MOUSE)},W.createElement(ex.Tx,{id:"tooltips_plus_onboarding.mouse"})),W.createElement("button",{className:q()(ap.cx.pt12.pb12.pl16.pr16.$,{[DI]:t===k0.TRACKPAD,[DA]:t!==k0.TRACKPAD}),onClick:()=>n(k0.TRACKPAD)},W.createElement(ex.Tx,{id:"tooltips_plus_onboarding.trackpad"}))),W.createElement("div",{className:DS},W.createElement(k8,{peripheral:t}),W.createElement(eT._C,{multiple:2,direction:"y"}),W.createElement(k9,{peripheral:t}))))}function DU({onClose:e,advanceStep:t,isShowing:n}){return W.createElement(m0.S,{isShowing:n},W.createElement(tg.kH,{name:"Gen 1 Design Onboarding Sync \u2014 Navigation"},W.createElement(DB,{onClose:e})))}function DK({setOnboardingToAsync:e}){let{getConfig:t}=(0,ep.M9)("exp_gen1_design_onboarding_sync"),n=(0,mX.W)({overlay:mZ.MZE,priority:mz.g.HIGH_PRIORITY_MODAL-1,experiment:{check:()=>t().get("show_onboarding",!1),predicate:t=>(t||e(),t),postCheck:()=>!0}}),a=(0,W.useCallback)(()=>{n.complete()},[n]),r=!!(0,t2.e)("has_panned_in_design_file"),l=!!(0,t2.e)("has_zoomed_in_design_file"),i=(0,ul.c)({numSteps:r&&l?2:3,onComplete:a});return((0,rT.u)(()=>{n.isShowing||n.show()}),n.isShowing)?0===i.currentStep?W.createElement(DF,{overlay:n,isShowing:n.isShowing,advanceStep:i.next,onClose:a}):1===i.currentStep?W.createElement(DR,{isShowing:n.isShowing,advanceStep:i.next,onClose:a}):W.createElement(DU,{isShowing:n.isShowing,advanceStep:i.next,onClose:a}):null}var DG=((P=DG||{}).SYNC="sync",P.ASYNC="async",P);function DH(){let[e,t]=(0,W.useState)(null),n=(0,eo.m4)(t$.qK),a=(0,eo.m4)(DT.kF),r=(null==n?void 0:n.creatorId)===a,l=!!(0,t2.e)("not_gen_0"),i=!!(0,t2.e)("dismissed_gen1_design_onboarding_navigation"),o=!!(0,t2.e)("dismissed_gen1_design_onboarding_sync_follow"),s=!!(0,t2.e)("seen_gen1_design_onboarding_navigation"),c=!!(0,t2.e)("seen_gen1_design_onboarding_sync_follow"),d=(0,t1.wb)(),m=(0,sE.c)().subtract(7,"day").isBefore((0,sE.c)(d)),u=(0,eo.m4)(Db),p=(0,eo.m4)(Dx)&&(null==u?void 0:u.first_design_at)==null,_=l&&!r&&m&&!(i||o)&&(p||s||c),E=(0,eo.m4)(Dw.cX);if((0,W.useEffect)(()=>{_&&null===e&&void 0!==E&&(E.length>0&&!s?t("sync"):c||t("async"))},[e,_,E,s,c]),null!==e)switch(e){case"sync":return W.createElement(DK,{setOnboardingToAsync:()=>{t("async")}});case"async":return W.createElement(DD,null)}return null}var DV=n(456408),DW=n(316780),DY=n(997108),Dj=n(858324),DX=n(521692),Dz=n(664928);function Dq({dismissModal:e}){let t=(0,Y.OY)(),n=(0,Y.w1)(e=>{var t;return(null==(t=e.openFile)?void 0:t.teamId)==null}),[a,r]=(0,W.useState)(!0);return(0,rT.u)(()=>{t(ti.wN({tab:eM.W8r.ASSETS})),(0,Dj.EZ)("root:localComponents:stickySection",!0),setTimeout(()=>r(!1),1e3)}),a?null:W.createElement(W.Fragment,null,W.createElement(DX.k,{target:LE.Y7}),W.createElement(i8.k3,{dismissModal:e,width:244,targetKey:LE.Y7,shouldNotWrapInParagraphTag:!0,arrowPosition:n2.Wp.LEFT_TITLE},W.createElement("p",null,n?W.createElement(ex.Tx,{id:"design_systems.assets_panel.drag_drop_component_draft"}):W.createElement(ex.Tx,{id:"design_systems.assets_panel.drag_drop_component"})),W.createElement(eT._C,{multiple:2}),W.createElement("div",{className:Dz.ER},W.createElement(eT.Uv,{onClick:e,className:Dz.I5},W.createElement(ex.Tx,{id:"design_systems.assets_panel.got_it"})))))}let DZ="dismissed_local_component_asset_panel_pointer",DQ=(0,mV.y_)(DZ);function DJ(){let e=(0,Y.OY)(),t=(0,t1.sX)(),n=(0,eo.m4)(ui.eE),a=(0,eo.m4)(DQ),r=(0,eo.m4)(ui.kD),l=(0,eo.m4)(ui.DW),i=(0,eo.m4)(xO.of),o=(0,eo.m4)(ui.y8),{isShowing:s,show:c,complete:d,uniqueId:m}=(0,mX.W)({overlay:mZ.Yvn,priority:mz.g.SECONDARY_MODAL,experiment:{check:()=>(0,DY.oH)(t??void 0),predicate:e=>e,postCheck:e=>!e}},[a,i,l,o]),u=(0,W.useCallback)(()=>{n&&c({canShow:(e,t,n,a)=>a&&t&&(n||r)})},[n,r,c]),p=(0,W.useCallback)(()=>{s&&(d(),e(tm.s({[DZ]:!0})))},[e,d,s]),_=(0,W.useCallback)(({dismissModal:e})=>W.createElement(Dq,{dismissModal:e}),[]);return(0,ur.y)(m,"action_create_symbol",u),(0,ur.y)(m,"component_instance_inserted",p),W.createElement(uj.m,{element:_,isShowing:s,modalType:uX.GK.SELF_CONTAINED,onClickPrimaryCta:aC.Kw,onClose:aC.Kw,onManualDismiss:p,trackingContextName:"Local Component Asset Panel Pointer"})}var D$=n(589008);let D0=(0,mV.y_)("seen_mobile_comment_download_modal_prompt");function D1(){let e=(0,Y.OY)(),t=(0,eo.m4)(D0),n=(0,Y.w1)(e=>{var t;return null==(t=e.userAnalyticsData)?void 0:t.is_active_mobile_user}),a=(0,Y.w1)(e=>{var t;return null==(t=e.user)?void 0:t.created_at}),r=(0,sE.c)(a).add(14,"day").isSameOrAfter((0,sE.c)()),{isShowing:l,show:i,complete:o,uniqueId:s}=(0,mX.W)({overlay:mZ.q28,priority:mz.g.DEFAULT_MODAL},[t]);if((0,ur.y)(s,D$.U,(0,W.useCallback)(()=>{i({canShow:e=>!!(0,$.Ub)().mobile_download_modal_prompts&&!e&&!r&&!n})},[i,n,r])),!l)return null;let c=()=>{gK.cp.post("/api/send_mobile_download_email",{type:"comment"}),(0,Z.we)("post_comment_mobile_app_download_prompt_email_me_cta_clicked"),o(),e(ek.A.enqueue({message:(0,ex.t)("rcs.mobile_comment_reply_upsell.email_sent")}))};return W.createElement(Lr.S,{isShowing:l,title:W.createElement(ex.Tx,{id:"mobile_download_prompts.never_miss_a_comment"}),description:W.createElement(ex.Tx,{id:"mobile_download_prompts.scan_the_qr_code"}),media:W.createElement(kc.A,{aspectRatio:1.75,alt:"A graphic show mobile comments with a qr code",src:"https://static.figma.com/uploads/6c270bb31fb5af03393425b7f0a6462ec59d04ab"}),primaryCta:{label:W.createElement(ex.Tx,{id:"mobile_download_prompts.email_me"}),type:"button",onClick:()=>c(),ctaTrackingDescriptor:lr.O.MOBILE_APP_DOWNLOAD_COMMENT_PROMPT_CLICKED},trackingContextName:"Mobile Comment Download Modal Prompt",onClose:()=>{o()},userFlagOnShow:"seen_mobile_comment_download_modal_prompt",position:Ll.C.BOTTOM_RIGHT,secondaryCta:{label:W.createElement(ex.Tx,{id:"mobile_download_prompts.learn_more"}),type:"link",href:"https://help.figma.com/hc/en-us/articles/1500007537281-Guide-to-the-Figma-mobile-app",ctaTrackingDescriptor:lr.O.LEARN_MORE}})}var D2=n(663196),D5=n(982060);let D3="seen_multi_edit_announcement",D4=(0,mV.y_)(D3),D6=()=>Date.now()-12096e5;function D8(){let e=(0,t1.sX)(),t=(0,eo.m4)(xO.uK),n=(0,eo.m4)(D4),{show:a,isShowing:r,complete:l}=(0,mX.W)({overlay:mZ.KSS,priority:mz.g.DEFAULT_MODAL},[t,n]);return(0,rT.u)(()=>{a({canShow:(e,t)=>!t&&null!=e&&e.getTime()<D6()})}),W.createElement(mq.cH,{isShowing:r,orientation:"landscape",title:W.createElement(ex.Tx,{id:"rcs.multi_edit_launch_modal.title"}),description:W.createElement(ex.Tx,{id:"rcs.multi_edit_launch_modal.body_v3"}),media:W.createElement("img",{width:700,height:256,src:"https://static.figma.com/uploads/5983f9d15873de282bdc28cc06eacde6442606c4",alt:""}),primaryCta:{type:"link",label:W.createElement(ex.Tx,{id:"rcs.multi_edit_launch_modal.primary_button"}),href:"/community/file/1343991048099728924",ctaTrackingDescriptor:lr.O.MULTI_EDIT_PLAYGROUND,trackingProperties:{userId:e}},secondaryCta:{type:"link",label:W.createElement(ex.Tx,{id:"rcs.rcs_shared.learn_more"}),href:"https://help.figma.com/hc/en-us/articles/21635177948567",ctaTrackingDescriptor:lr.O.LEARN_MORE,trackingProperties:{userId:e}},trackingContextName:"Multi Edit Launch Announcement Modal",userFlagOnShow:D3,onClose:l,closeButtonColor:"dark"})}let D9="seen_multi_edit_tooltip_enter_text_edit_mode",D7=(0,mV.y_)(D9),Re=(0,mV.y_)("has_multi_edit_entered_text_mode");function Rt(){let e=(0,t1.sX)(),t=(0,eo.m4)(xO.uK),n=(0,eo.m4)(D7),a=(0,eo.m4)(Re),{uniqueId:r,show:l,isShowing:i,complete:o}=(0,mX.W)({overlay:mZ.qip,priority:mz.g.SECONDARY_MODAL},[t,n,a]);return(0,W.useEffect)(()=>{a.data&&o()},[o,a]),(0,ur.y)(r,"Show multi edit text tooltip",()=>{l({canShow:(e,t,n)=>!t&&!n&&null!=e&&e.getTime()<D6()})}),W.createElement(us.Y5,{isShowing:i,targetKey:"multi-edit-text",trackingContextName:"Multi Edit Enter Text Edit Mode",title:W.createElement(ex.Tx,{id:"rcs.multi_edit_inproduct_tooltip.enter_text_edit_mode.title"}),description:W.createElement(ex.Tx,{id:"rcs.multi_edit_inproduct_tooltip.enter_text_edit_mode.description"}),userFlagOnShow:D9,onClose:o,onTargetLost:o,primaryCta:{type:"button",label:W.createElement(ex.Tx,{id:"onboarding_pointers.got_it"}),ctaTrackingDescriptor:lr.O.GOT_IT,trackingProperties:{userId:e},onClick:o},secondaryCta:{type:"link",label:W.createElement(ex.Tx,{id:"rcs.rcs_shared.learn_more"}),href:"https://help.figma.com/hc/en-us/articles/21635177948567-Edit-objects-on-the-canvas-in-bulk#multi-edit-text",ctaTrackingDescriptor:lr.O.LEARN_MORE,trackingProperties:{userId:e}}})}let Rn="seen_multi_edit_tooltip_focus_mode_component_set",Ra=(0,mV.y_)(Rn),Rr=(0,mV.y_)("has_focus_mode_component_set");function Rl(){let e=(0,t1.sX)(),t=(0,eo.m4)(xO.uK),n=(0,eo.m4)(Ra),a=(0,eo.m4)(Rr),{uniqueId:r,show:l,isShowing:i,complete:o}=(0,mX.W)({overlay:mZ.mu,priority:mz.g.SECONDARY_MODAL},[t,n,a]);return(0,W.useEffect)(()=>{a.data&&o()},[o,a]),(0,ur.y)(r,"Show focus mode component set tooltip",()=>{l({canShow:(e,t,n)=>!t&&!n&&null!=e&&e.getTime()<D6()})}),W.createElement(us.Y5,{isShowing:i,targetKey:"focus-mode-component-set-toggle",trackingContextName:"Multi Edit Focus Mode Component Set",title:W.createElement(ex.Tx,{id:"rcs.multi_edit_inproduct_tooltip.focus_mode_component_set.title"}),description:W.createElement(ex.Tx,{id:"rcs.multi_edit_inproduct_tooltip.focus_mode_component_set.description"}),userFlagOnShow:Rn,onClose:o,onTargetLost:o,primaryCta:{type:"button",label:W.createElement(ex.Tx,{id:"onboarding_pointers.got_it"}),ctaTrackingDescriptor:lr.O.GOT_IT,trackingProperties:{userId:e},onClick:o},secondaryCta:{type:"link",label:W.createElement(ex.Tx,{id:"rcs.rcs_shared.learn_more"}),href:"https://help.figma.com/hc/en-us/articles/21635177948567-Edit-objects-on-the-canvas-in-bulk#multi-edit-variants",ctaTrackingDescriptor:lr.O.LEARN_MORE,trackingProperties:{userId:e}}})}var Ri=n(536168),Ro=n(423644),Rs=n(699156),Rc=n(688238);function Rd(e){W.useEffect(()=>(tA.CA.triggerAction("set-tool-hand",null),()=>tA.CA.triggerAction("set-tool-default",null)),[]);let t=(0,DY.ug)();return W.createElement(Rs.yO,null,W.createElement(i8.ey,{targetType:"dom",targetKey:"tool-hand",topPadding:-6,hasShadow:e.hasShadow},W.createElement(Rs.oF,{bodyText:W.createElement("span",null,W.createElement(ex.Tx,{id:"rcs.figjam_onboarding.use_the_hand_tool_and_drag_to_move_around_hold_space_to_activate_it_anytime",spaceKey:W.createElement("b",null,W.createElement(ex.Tx,{id:"rcs.figjam_onboarding.space"}))})),onNext:e.onClickPrimaryCta,steps:{current:2,total:t?2:3},onDismiss:e.dismissModal,imgSrc:"https://static.figma.com/uploads/07ff49c75c8933ea70ff2e4776503291c31a35ef"})))}var Rm=n(347e3);class Ru extends W.PureComponent{render(){return W.createElement("div",{className:Rm.W8},W.createElement("div",{className:Rm.a2},W.createElement("span",{className:Rm.Ks,"aria-hidden":"true"}),W.createElement("img",{className:Rm.c$,src:this.props.imgSrc,alt:""})),W.createElement("div",{className:q()({[Rm.oM]:!0,[Rm.i4]:!this.props.isBold,[Rm.WI]:!!this.props.isBold})},this.props.titleText&&W.createElement("div",{className:Rm.e},this.props.titleText),W.createElement("div",{className:Rm.q2},this.props.bodyText),W.createElement("div",{className:Rm.QD},W.createElement("div",{className:q()({[Rm.eg]:!0,[Rm.i4]:!this.props.isBold,[Rm.WI]:!!this.props.isBold})},this.props.steps?W.createElement(ex.Tx,{id:"rcs.rcs_shared.step_counter",currentStepNum:this.props.steps.current,totalNumSteps:this.props.steps.total}):W.createElement(W.Fragment,null)),W.createElement(eT.Uv,{className:q()({[Rm.uk]:!0,[Rm.WI]:!!this.props.isBold}),onClick:this.props.onNext},this.props.buttonText,!this.props.buttonText&&this.props.steps&&this.props.steps.current===this.props.steps.total&&W.createElement(ex.Tx,{id:"rcs.rcs_shared.done"}),!this.props.buttonText&&this.props.steps&&this.props.steps.current<this.props.steps.total&&W.createElement(ex.Tx,{id:"rcs.figjam_onboarding.next"})))),W.createElement(rW.CA,{className:q()({[Rm.yy]:!0,[Rm.i4]:!this.props.isBold,[Rm.WI]:!!this.props.isBold}),onClick:this.props.onDismiss,innerText:"close",svg:ra.c}))}}Ru.displayName="FigJamOnboardingModal";var Rp=n(541636);function R_(e){let t=et.cp.mac?(0,ex.t)("rcs.figjam_onboarding.cmd"):(0,ex.t)("rcs.figjam_onboarding.ctrl"),n=(0,Rp.o)()?28:-3,a=(0,DY.ug)();return W.createElement(Rs.yO,null,W.createElement(i8.ey,{targetType:"dom",topPadding:n,targetKey:Rs.au,hasShadow:e.hasShadow},W.createElement(Rs.oF,{bodyText:W.createElement("span",null,W.createElement(ex.Tx,{id:"rcs.figjam_onboarding.pinch_to_zoom_on_a_trackpad_hold_command_while_scrolling_or_use",commandKey:W.createElement("b",null,t),plusOrMinusKeys:W.createElement("b",null,W.createElement(ex.Tx,{id:"rcs.figjam_onboarding.plus_or_minus"}))})),onNext:e.onClickPrimaryCta,steps:{current:1,total:a?2:3},onDismiss:e.dismissModal,imgSrc:"https://static.figma.com/uploads/4e36d3bbbf8633fef1b86238f66bb1bf54f54d2a"})))}function RE(e){return W.createElement(uj.m,{testId:e.testId?e.testId:"ZoomConnectorOverlay",modalType:uX.GK.SELF_CONTAINED,trackingContextName:"FigJam Editor Onboarding - Zoom",element:R_,isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss})}function Rg(e){let t=(0,DY.ug)();return W.createElement(uj.m,{testId:e.testId?e.testId:"HandToolConnectorOverlay",modalType:uX.GK.SELF_CONTAINED,trackingContextName:"FigJam Editor Onboarding - Hand Tool",userFlagOnShow:t?"figjam_editor_onboarded":void 0,element:Rd,isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss})}let Rh=[RE,Rg,function(e){return W.createElement(uj.m,{testId:e.testId?e.testId:"ShareConnectorOverlay",modalType:uX.GK.SELF_CONTAINED,trackingContextName:"FigJam Editor Onboarding - Share",userFlagOnShow:"figjam_editor_onboarded",element:e=>W.createElement(Rs.yO,null,W.createElement(i8.ey,{targetType:"dom",targetKey:LE.oN,topPadding:-6},W.createElement(Ru,{bodyText:W.createElement("span",null,W.createElement(ex.Tx,{id:"rcs.figjam_onboarding.invite_others_or_share_this_file_with_a_link_to_jam_with_your_team"})),onNext:e.onClickPrimaryCta,steps:{current:3,total:3},onDismiss:e.dismissModal,imgSrc:"https://static.figma.com/uploads/8f3066fc3906f11f2601a390725f2b7af58e01a1"}))),isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss})}];function Rf(){let e=(0,Y.w1)(e=>{var t;return null==(t=e.userFlags)?void 0:t.figjam_editor_onboarded}),t=(0,tw.yI)(),n=!(0,d5.cH)(),a=(0,t$.AL)(),r=null==a?void 0:a.creatorId,l=(0,t1.sX)();return t&&!(null===a||r===l)&&n&&!e}function Rv(e){let t=(0,Y.OY)();return()=>{t(tm.s({figjam_editor_onboarded:!0})),e()}}function Ry({overlayUniqueId:e,afterReset:t}){let n=(0,Y.OY)();(0,ur.y)(e,"Reset Onboarding",()=>{n(tm.s({figjam_editor_onboarded:!1,figjam_browse_templates_modal_onboarded:!1,figjam_browse_templates_modal_onboarding_item_selected:!1,figjam_participant_onboarded:!1})),t&&t()})}function RC({steps:e,onComplete:t,isShowing:n,overlayUniqueId:a}){let{currentStep:r,next:l,reset:i}=(0,ul.c)({numSteps:e.length,onComplete:t});return Ry({overlayUniqueId:a,afterReset:i}),W.createElement(uo.y,{currentStep:r,isShowing:n,children:W.useMemo(()=>e.map(e=>W.createElement(e,{onClickPrimaryCta:l,onClose:aC.Kw,onManualDismiss:t,isShowing:n})),[l,t,n,e])})}var Rw=n(641196),Rb=n(326300),RT=n(192252),Rx=n(862560),Rk=(n(426488),n(842872)),RN=n(330152),RS=n(162844);function RI({onClick:e,autoFocus:t,children:n,trackingEventName:a,large:r}){return W.createElement(eT.Uv,{className:q()({"connector_modal_cta_button--button--JX5oC text--fontPos12Whyte---tkNx text--_fontBaseWhyte--efAjI":!0,"connector_modal_cta_button--buttonLarge--fMgZi text--fontPos14Whyte--pEiDq text--_fontBaseWhyte--efAjI":r}),onClick:e,autoFocus:t,trackingEventName:a},n)}var RA=n(521168),RO=(n(919736),n(891476)),RM=n(517108),RP=n(624764),RL=n(330300);let RD="FigJam Editor Onboarding",RR={intro:`${RD} - Brainstorm - Intro`,stickyPrompt:`${RD} - Brainstorm - Sticky Prompt`,stickyReaction:`${RD} - Brainstorm - Sticky Reaction`,stampPrompt:`${RD} - Brainstorm - Stamp Prompt`,stampReaction:`${RD} - Brainstorm - Stamp Reaction`,timer:`${RD} - Brainstorm - Timer`,share:`${RD} - Brainstorm - Share`},RF={intro:`${RD} - Team Updates - Intro`,section:`${RD} - Team Updates - Section`,photoBooth:`${RD} - Team Updates - Photo Booth`,updates:`${RD} - Team Updates - Updates`,importantDates:`${RD} - Team Updates - Important Dates`,sticky:`${RD} - Team Updates - Sticky`,share:`${RD} - Team Updates - Share`},RB={intro:`${RD} - Planning Ahead - Intro`,section:`${RD} - Planning Ahead - Section`,person:`${RD} - Planning Ahead - Person`,projectName:`${RD} - Planning Ahead - Project Name`,projectBlock:`${RD} - Planning Ahead - Project Block`,shape:`${RD} - Planning Ahead - Shape`,share:`${RD} - Planning Ahead - Share`},RU={intro:`${RD} - Team Chart - Intro`,name:`${RD} - Team Chart - Name`,image:`${RD} - Team Chart - Image`,quickCreate:`${RD} - Team Chart - Quick Create`,shape:`${RD} - Team Chart - Shape`,connector:`${RD} - Team Chart - Connector`,share:`${RD} - Team Chart - Share`};function RK(e){return W.createElement("div",{className:"figjam_onboarding_make_something--contentContainer--0CAxr"},e.svg&&W.createElement("div",{className:"figjam_onboarding_make_something--imageContainer--WbfPL"},W.createElement(eN.A,{svg:e.svg,useOriginalSrcFills_DEPRECATED:!0})),W.createElement("div",{className:"figjam_onboarding_make_something--bodyContainer--5x9xc text--fontPos12Whyte---tkNx text--_fontBaseWhyte--efAjI"},e.titleText?e.titleText:"",e.bodyText),e.buttonText&&e.onButtonClick&&W.createElement("div",{className:"figjam_onboarding_make_something--buttonContainer--YrgHN"},W.createElement(RI,{onClick:e.onButtonClick,autoFocus:!0},e.buttonText)))}RR.intro,uX.GK.SELF_CONTAINED,RR.stickyPrompt,uX.GK.SELF_CONTAINED,RR.stickyReaction,uX.GK.SELF_CONTAINED,RR.stampPrompt,uX.GK.SELF_CONTAINED,RR.stampReaction,uX.GK.SELF_CONTAINED,RR.timer,uX.GK.SELF_CONTAINED,RR.share,uX.GK.SELF_CONTAINED,RF.intro,uX.GK.SELF_CONTAINED,RF.section,uX.GK.SELF_CONTAINED,RF.photoBooth,uX.GK.SELF_CONTAINED,RF.updates,uX.GK.SELF_CONTAINED,RF.importantDates,uX.GK.SELF_CONTAINED,RF.sticky,uX.GK.SELF_CONTAINED,RF.share,uX.GK.SELF_CONTAINED,RB.intro,uX.GK.SELF_CONTAINED,RB.section,uX.GK.SELF_CONTAINED,RB.person,uX.GK.SELF_CONTAINED,RB.projectName,uX.GK.SELF_CONTAINED,RB.projectBlock,uX.GK.SELF_CONTAINED,RB.shape,uX.GK.SELF_CONTAINED,RB.share,uX.GK.SELF_CONTAINED,RU.intro,uX.GK.SELF_CONTAINED,RU.name,uX.GK.SELF_CONTAINED,RU.image,uX.GK.SELF_CONTAINED,RU.quickCreate,uX.GK.SELF_CONTAINED,RU.shape,uX.GK.SELF_CONTAINED,RU.connector,uX.GK.SELF_CONTAINED,RU.share,uX.GK.SELF_CONTAINED;var RG=n(123240);function RH({onClickPrimaryCta:e}){let t=(0,t$.AL)(),n=(0,Y.OY)();return{onNext:(0,W.useCallback)(()=>{t&&(n((0,ts.A5)({type:LQ.OL,data:{fileKey:t.key,source:Lz.Ce.expFigJamOnboardingShareVariant}})),(0,rd.Y9)({id:"open share modal"})),e()},[t,n,e])}}let RV="make_something_assets--svg--hgXqn",RW="make_something_assets--svgHovered--3XZdi",RY="make_something_assets--transformable--Ku46s",Rj="make_something_assets--transformLeftBrainstorm--To6dH",RX="make_something_assets--transformRightBrainstorm--DH4Yj",Rz="make_something_assets--transformLeftUpdates--HVSJ5",Rq="make_something_assets--transformRightUpdates--jOJJ-",RZ="make_something_assets--transformLeftPlanning--6tBWf",RQ="make_something_assets--transformRightPlanning--H2U0C",RJ="make_something_assets--transformRightDiagramming--2ff-F";function R$(e){return W.createElement("svg",{width:"136",viewBox:"0 0 196 136",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:q()(RV,{[RW]:e.hovered})},W.createElement("rect",{x:"27.1868",y:"27.8497",width:"141.626",height:"142.374",fill:"#E5F4FF",stroke:"black",strokeWidth:"0.373684"}),W.createElement("rect",{x:"27.1868",y:"3.18684",width:"141.626",height:"19.8053",fill:"#0D99FF",stroke:"black",strokeWidth:"0.373684"}),W.createElement("g",{filter:"url(#filter0_d_351_43460)"},W.createElement("rect",{x:"37.4653",y:"38.1284",width:"34.3789",height:"34.3789",fill:"#FFD45B"}),W.createElement("rect",{x:"37.6522",y:"38.3153",width:"34.0053",height:"34.0053",stroke:"black",strokeWidth:"0.373684"})),W.createElement("g",{filter:"url(#filter1_d_351_43460)"},W.createElement("rect",{x:"124.157",y:"81",width:"34.3789",height:"34.3789",fill:"#FFD45B"}),W.createElement("rect",{x:"124.344",y:"81.1868",width:"34.0053",height:"34.0053",stroke:"black",strokeWidth:"0.373684"})),W.createElement("g",{filter:"url(#filter2_d_351_43460)"},W.createElement("rect",{x:"81",y:"38",width:"34.3789",height:"34.3789",fill:"#80CAFF"}),W.createElement("rect",{x:"81.1868",y:"38.1868",width:"34.0053",height:"34.0053",stroke:"black",strokeWidth:"0.373684"})),W.createElement("g",{filter:"url(#filter3_d_351_43460)"},W.createElement("rect",{x:"80.8096",y:"123.326",width:"34.3789",height:"34.3789",fill:"#80CAFF"}),W.createElement("rect",{x:"80.9964",y:"123.513",width:"34.0053",height:"34.0053",stroke:"black",strokeWidth:"0.373684"})),W.createElement("rect",{x:"84.9214",y:"128.181",width:"24.2895",height:"4.48421",fill:"black",fillOpacity:"0.2"}),W.createElement("rect",{x:"40.8262",y:"42.2361",width:"24.2895",height:"4.48421",fill:"black",fillOpacity:"0.2"}),W.createElement("rect",{x:"129.021",y:"85.1079",width:"24.2895",height:"4.48421",fill:"black",fillOpacity:"0.2"}),W.createElement("rect",{x:"129.021",y:"100.057",width:"24.2895",height:"4.48421",fill:"black",fillOpacity:"0.2"}),W.createElement("rect",{x:"40.8262",y:"49.7126",width:"18.3105",height:"4.48421",fill:"black",fillOpacity:"0.2"}),W.createElement("rect",{x:"129.021",y:"92.584",width:"20.9263",height:"4.48421",fill:"black",fillOpacity:"0.2"}),W.createElement("path",{d:"M87.4033 45.8193C88.2079 46.4289 88.9008 47.0959 89.6122 47.8073",stroke:"black",strokeWidth:"1.49474",strokeLinecap:"round"}),W.createElement("path",{d:"M97.5591 43.8335V48.0303",stroke:"black",strokeWidth:"1.49474",strokeLinecap:"round"}),W.createElement("path",{d:"M103.975 49.5765C106.065 48.776 108.231 47.9817 110.38 47.3677",stroke:"black",strokeWidth:"1.49474",strokeLinecap:"round"}),W.createElement("path",{d:"M103.748 57.5273H109.491",stroke:"black",strokeWidth:"1.49474",strokeLinecap:"round"}),W.createElement("path",{d:"M98.8926 62.6094V67.4688",stroke:"black",strokeWidth:"1.49474",strokeLinecap:"round"}),W.createElement("path",{d:"M90.1268 58.5264C89.2081 59.2528 88.1169 59.8811 87.2876 60.7104",stroke:"black",strokeWidth:"1.49474",strokeLinecap:"round"}),W.createElement("g",{filter:"url(#filter4_d_351_43460)"},W.createElement("rect",{x:"81",y:"80.7251",width:"34.3789",height:"34.3789",fill:"#FFD45B"}),W.createElement("rect",{x:"81.1868",y:"80.9119",width:"34.0053",height:"34.0053",stroke:"black",strokeWidth:"0.373684"})),W.createElement("path",{d:"M108.795 102.748L108.954 102.837L109.047 102.681L109.454 101.997C109.755 101.492 110.248 101.121 110.825 100.966C111.402 100.812 112.014 100.886 112.527 101.173C113.039 101.459 113.41 101.933 113.559 102.489C113.708 103.046 113.625 103.642 113.324 104.146L113.324 104.146L112.957 104.763L112.957 104.763L110.552 108.797L105.825 106.155C105.313 105.869 104.942 105.395 104.793 104.839C104.644 104.282 104.728 103.687 105.028 103.183C105.329 102.678 105.821 102.308 106.398 102.153C106.975 101.998 107.587 102.073 108.1 102.36L108.795 102.748Z",fill:"#F24E1E",stroke:"black",strokeWidth:"0.373684"}),W.createElement("path",{d:"M116.865 94.0866L116.958 94.2427L117.116 94.154L117.811 93.7653C118.324 93.4788 118.936 93.4037 119.513 93.5582C120.09 93.7127 120.583 94.0836 120.884 94.5878C121.185 95.0918 121.269 95.6876 121.12 96.2442C120.971 96.8009 120.6 97.2749 120.088 97.5613L120.088 97.5614L119.461 97.9124L119.461 97.9125L115.362 100.203L112.589 95.5518C112.288 95.0478 112.204 94.4522 112.353 93.8958C112.502 93.3393 112.873 92.8655 113.385 92.5793C113.897 92.293 114.51 92.2181 115.087 92.3727C115.664 92.5273 116.156 92.8982 116.457 93.4024L116.865 94.0866Z",fill:"#F24E1E",stroke:"black",strokeWidth:"0.373684"}),W.createElement("g",{filter:"url(#filter5_d_351_43460)",className:q()(RY,RX)},W.createElement("rect",{x:"124",y:"37.761",width:"34.3789",height:"34.3789",fill:"#FFD45B"}),W.createElement("rect",{x:"124.187",y:"37.9478",width:"34.0053",height:"34.0053",stroke:"black",strokeWidth:"0.373684"})),W.createElement("path",{d:"M131.262 57.6483C132.364 58.2951 133.535 59.063 134.814 59.2976C138.578 59.9876 139.728 56.6784 139.99 53.525C140.181 51.2338 140.49 47.2706 137.707 46.3822C135.469 45.668 135.63 48.5222 135.525 50.0614C135.198 54.8126 139.249 59.0839 144.177 57.7244C145.893 57.251 147.804 55.2775 148.694 53.7787C149.217 52.8971 149.432 51.8588 149.988 51.0257",stroke:"black",strokeWidth:"1.49474",strokeLinecap:"round",className:q()(RY,RX)}),W.createElement("circle",{cx:"150.532",cy:"37.7597",r:"3.92368",fill:"#A259FF",stroke:"black",strokeWidth:"0.373684",className:q()(RY,RX)}),W.createElement("g",{filter:"url(#filter6_d_351_43460)",className:q()(RY,Rj)},W.createElement("rect",{x:"37",y:"81.208",width:"34.3789",height:"34.3789",fill:"#80CAFF"}),W.createElement("rect",{x:"37.1868",y:"81.3948",width:"34.0053",height:"34.0053",stroke:"black",strokeWidth:"0.373684"})),W.createElement("rect",{className:q()(RY,Rj),x:"41.8633",y:"87.5618",width:"24.2895",height:"4.48421",fill:"black",fillOpacity:"0.2"}),W.createElement("circle",{className:q()(RY,Rj),cx:"70.6325",cy:"98.0258",r:"3.92368",fill:"#A259FF",stroke:"black",strokeWidth:"0.373684"}),W.createElement("circle",{className:q()(RY,Rj),cx:"61.2902",cy:"106.617",r:"3.92368",fill:"#A259FF",stroke:"black",strokeWidth:"0.373684"}),W.createElement("defs",null,W.createElement("filter",{id:"filter0_d_351_43460",x:"37.4653",y:"38.1284",width:"35.1263",height:"35.1263",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},W.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),W.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),W.createElement("feOffset",{dx:"0.747368",dy:"0.747368"}),W.createElement("feComposite",{in2:"hardAlpha",operator:"out"}),W.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"}),W.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_351_43460"}),W.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_351_43460",result:"shape"})),W.createElement("filter",{id:"filter1_d_351_43460",x:"124.157",y:"81",width:"35.1263",height:"35.1263",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},W.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),W.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),W.createElement("feOffset",{dx:"0.747368",dy:"0.747368"}),W.createElement("feComposite",{in2:"hardAlpha",operator:"out"}),W.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"}),W.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_351_43460"}),W.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_351_43460",result:"shape"})),W.createElement("filter",{id:"filter2_d_351_43460",x:"81",y:"38",width:"35.1263",height:"35.1263",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},W.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),W.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),W.createElement("feOffset",{dx:"0.747368",dy:"0.747368"}),W.createElement("feComposite",{in2:"hardAlpha",operator:"out"}),W.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"}),W.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_351_43460"}),W.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_351_43460",result:"shape"})),W.createElement("filter",{id:"filter3_d_351_43460",x:"80.8096",y:"123.326",width:"35.1263",height:"35.1263",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},W.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),W.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),W.createElement("feOffset",{dx:"0.747368",dy:"0.747368"}),W.createElement("feComposite",{in2:"hardAlpha",operator:"out"}),W.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"}),W.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_351_43460"}),W.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_351_43460",result:"shape"})),W.createElement("filter",{id:"filter4_d_351_43460",x:"81",y:"80.7251",width:"35.1263",height:"35.1263",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},W.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),W.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),W.createElement("feOffset",{dx:"0.747368",dy:"0.747368"}),W.createElement("feComposite",{in2:"hardAlpha",operator:"out"}),W.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"}),W.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_351_43460"}),W.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_351_43460",result:"shape"})),W.createElement("filter",{id:"filter5_d_351_43460",x:"124",y:"37.761",width:"35.1263",height:"35.1263",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},W.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),W.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),W.createElement("feOffset",{dx:"0.747368",dy:"0.747368"}),W.createElement("feComposite",{in2:"hardAlpha",operator:"out"}),W.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"}),W.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_351_43460"}),W.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_351_43460",result:"shape"})),W.createElement("filter",{id:"filter6_d_351_43460",x:"37",y:"81.208",width:"35.1263",height:"35.1263",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},W.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),W.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),W.createElement("feOffset",{dx:"0.747368",dy:"0.747368"}),W.createElement("feComposite",{in2:"hardAlpha",operator:"out"}),W.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"}),W.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_351_43460"}),W.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_351_43460",result:"shape"}))))}function R0(e){return W.createElement("svg",{width:"136",viewBox:"0 0 196 136",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:q()(RV,{[RW]:e.hovered})},W.createElement("rect",{width:"196",height:"121.761",fill:"white"}),W.createElement("rect",{x:"27.183",y:"49.6627",width:"43.186",height:"23.7889",rx:"2.01291",fill:"#FFE8A3",stroke:"black",strokeWidth:"0.365983"}),W.createElement("rect",{x:"31.7598",y:"59.3601",width:"17.9332",height:"4.3918",fill:"black",fillOpacity:"0.2"}),W.createElement("circle",{cx:"58.6556",cy:"61.7423",r:"5.48975",fill:"white",stroke:"black",strokeWidth:"0.365983"}),W.createElement("rect",{x:"76.5885",y:"49.6627",width:"42.82",height:"23.7889",rx:"2.01291",fill:"#FFE8A3",stroke:"black",strokeWidth:"0.365983"}),W.createElement("rect",{x:"80.7957",y:"59.3601",width:"17.9332",height:"4.3918",fill:"black",fillOpacity:"0.2"}),W.createElement("circle",{cx:"109.161",cy:"61.7423",r:"5.48975",fill:"white",stroke:"black",strokeWidth:"0.365983"}),W.createElement("rect",{x:"76.5888",y:"3.18299",width:"42.82",height:"23.7889",rx:"2.01291",fill:"#FFCD29",stroke:"black",strokeWidth:"0.365983"}),W.createElement("rect",{x:"80.7959",y:"12.8804",width:"17.9332",height:"4.3918",fill:"black",fillOpacity:"0.2"}),W.createElement("circle",{cx:"110.261",cy:"15.2623",r:"5.48975",fill:"white",stroke:"black",strokeWidth:"0.365983"}),W.createElement("rect",{x:"125.631",y:"130.178",width:"43.0186",height:"23.7889",rx:"2.01291",fill:"#FFE8A3",stroke:"black",strokeWidth:"0.365983"}),W.createElement("rect",{x:"27.183",y:"89.9188",width:"43.186",height:"23.7889",rx:"2.01291",fill:"#FFE8A3",stroke:"black",strokeWidth:"0.365983"}),W.createElement("rect",{x:"33.5896",y:"99.6157",width:"17.9332",height:"4.3918",fill:"black",fillOpacity:"0.2"}),W.createElement("circle",{cx:"60.4899",cy:"101.998",r:"5.48975",fill:"white",stroke:"black",strokeWidth:"0.365983"}),W.createElement("g",{clipPath:"url(#clip0_351_43276)"},W.createElement("path",{d:"M61.0894 105.123C60.3396 105.1 59.722 104.946 59.1311 104.674C58.9431 104.588 58.7461 104.522 58.5542 104.448C58.3001 104.35 58.0777 104.2 57.9633 103.952C57.7015 103.384 57.427 102.818 57.2237 102.227C57.0344 101.676 57.1513 101.125 57.4918 100.655C57.7562 100.29 57.9163 99.8986 58.0319 99.4665C58.1742 98.9366 58.5669 98.643 59.1006 98.5287C59.3459 98.4766 59.5785 98.4931 59.8123 98.5833C60.0296 98.6672 60.2545 98.6812 60.482 98.6189C60.9039 98.5032 61.2889 98.6227 61.6663 98.8044C61.843 98.8883 62.0234 98.9772 62.2128 99.0192C62.8367 99.1564 63.157 99.5669 63.2421 100.164C63.284 100.46 63.2599 100.769 63.2383 101.07C63.2192 101.333 63.2472 101.582 63.331 101.83C63.5483 102.473 63.5153 103.102 63.2179 103.716C63.0362 104.092 62.7389 104.346 62.378 104.541C62.1251 104.677 61.8735 104.816 61.6282 104.966C61.43 105.087 61.2177 105.129 61.0894 105.123ZM61.083 104.886C61.2787 104.889 61.4274 104.827 61.6269 104.673C61.7616 104.57 61.9218 104.499 62.0704 104.415C62.2458 104.317 62.4517 104.251 62.594 104.118C63.1989 103.548 63.3361 102.819 63.1328 102.055C63.0019 101.562 62.9625 101.089 63.0197 100.591C63.0934 99.9405 62.7376 99.4512 62.1136 99.2784C61.8976 99.2187 61.6905 99.117 61.4872 99.0192C61.2266 98.8946 60.9585 98.7866 60.6713 98.8553C60.2977 98.9442 59.9419 98.9163 59.5835 98.7955C59.4666 98.7561 59.3345 98.7206 59.215 98.7345C58.7347 98.7904 58.3979 99.0738 58.2772 99.5237C58.1463 100.013 57.9264 100.439 57.6545 100.859C57.3724 101.296 57.2974 101.795 57.4982 102.297C57.6964 102.793 57.9125 103.284 58.126 103.774C58.2314 104.018 58.417 104.181 58.6673 104.274C58.9037 104.362 59.1426 104.444 59.3726 104.547C59.8796 104.772 60.4172 104.848 61.083 104.886Z",fill:"black"}),W.createElement("path",{d:"M60.5404 103.175C60.0016 103.198 59.5072 103.112 59.1222 102.711C59.0561 102.642 58.9938 102.566 58.9544 102.481C58.9354 102.441 58.9189 102.367 58.9926 102.326C59.0383 102.3 59.0968 102.327 59.1336 102.355C59.2264 102.424 59.3039 102.514 59.3979 102.583C59.8402 102.909 60.3294 103.011 60.8593 102.856C61.1275 102.778 61.3143 102.581 61.4795 102.365C61.5405 102.286 61.6078 102.167 61.7184 102.25C61.8289 102.333 61.7298 102.435 61.6726 102.511C61.3842 102.895 61.036 103.177 60.5404 103.175Z",fill:"black"}),W.createElement("path",{d:"M62.2294 101.088C62.2281 101.243 62.1099 101.367 61.9701 101.365C61.8253 101.362 61.7045 101.234 61.7083 101.088C61.7122 100.928 61.824 100.801 61.96 100.803C62.1124 100.805 62.2319 100.93 62.2294 101.088Z",fill:"black"}),W.createElement("path",{d:"M58.9061 101.294C58.9048 101.449 58.7867 101.573 58.6469 101.571C58.502 101.568 58.3813 101.44 58.3851 101.294C58.3889 101.134 58.5007 101.007 58.6367 101.009C58.7879 101.01 58.9074 101.136 58.9061 101.294Z",fill:"black"})),W.createElement("path",{d:"M96.5399 30.8149C96.5399 30.6128 96.7037 30.449 96.9058 30.449C97.108 30.449 97.2718 30.6128 97.2718 30.8149H96.5399ZM147.121 45.7131C146.978 45.856 146.747 45.856 146.604 45.7131L144.275 43.384C144.132 43.241 144.132 43.0093 144.275 42.8664C144.418 42.7234 144.649 42.7234 144.792 42.8664L146.863 44.9367L148.933 42.8664C149.076 42.7234 149.308 42.7234 149.45 42.8664C149.593 43.0093 149.593 43.241 149.45 43.384L147.121 45.7131ZM97.2718 30.8149V33.1938H96.5399V30.8149H97.2718ZM101.298 37.2196H142.471V37.9516H101.298V37.2196ZM147.229 41.9774V45.4543H146.497V41.9774H147.229ZM142.471 37.2196C145.098 37.2196 147.229 39.3498 147.229 41.9774H146.497C146.497 39.754 144.694 37.9516 142.471 37.9516V37.2196ZM97.2718 33.1938C97.2718 35.4172 99.0742 37.2196 101.298 37.2196V37.9516C98.67 37.9516 96.5399 35.8215 96.5399 33.1938H97.2718Z",fill:"black"}),W.createElement("path",{d:"M97.2684 30.8149C97.2684 30.6128 97.1045 30.449 96.9024 30.449C96.7002 30.449 96.5364 30.6128 96.5364 30.8149H97.2684ZM46.5039 45.7131C46.6468 45.856 46.8786 45.856 47.0215 45.7131L49.3506 43.384C49.4935 43.241 49.4935 43.0093 49.3506 42.8664C49.2077 42.7234 48.9759 42.7234 48.833 42.8664L46.7627 44.9367L44.6924 42.8664C44.5495 42.7234 44.3177 42.7234 44.1748 42.8664C44.0319 43.0093 44.0319 43.241 44.1748 43.384L46.5039 45.7131ZM96.5364 30.8149V33.1938H97.2684V30.8149H96.5364ZM92.5106 37.2196H51.1545V37.9516H92.5106V37.2196ZM46.3967 41.9774V45.4543H47.1287V41.9774H46.3967ZM51.1545 37.2196C48.5268 37.2196 46.3967 39.3498 46.3967 41.9774H47.1287C47.1287 39.754 48.9311 37.9516 51.1545 37.9516V37.2196ZM96.5364 33.1938C96.5364 35.4172 94.734 37.2196 92.5106 37.2196V37.9516C95.1382 37.9516 97.2684 35.8215 97.2684 33.1938H96.5364Z",fill:"black"}),W.createElement("path",{d:"M97.2686 30.6304C97.2686 30.4282 97.1047 30.2644 96.9026 30.2644C96.7005 30.2644 96.5366 30.4282 96.5366 30.6304H97.2686ZM96.6438 46.0775C96.7867 46.2204 97.0185 46.2204 97.1614 46.0775L99.4905 43.7484C99.6334 43.6054 99.6334 43.3737 99.4905 43.2308C99.3476 43.0879 99.1158 43.0879 98.9729 43.2308L96.9026 45.3011L94.8323 43.2308C94.6894 43.0879 94.4576 43.0879 94.3147 43.2308C94.1718 43.3737 94.1718 43.6054 94.3147 43.7484L96.6438 46.0775ZM96.5366 30.6304V45.8187H97.2686V30.6304H96.5366Z",fill:"black"}),W.createElement("g",{clipPath:"url(#clip1_351_43276)"},W.createElement("path",{d:"M58.8788 58.1369C59.7645 58.1496 60.4813 58.5105 61.1522 59.0925C62.5348 60.2921 62.6352 63.1971 60.4584 64.5085C58.9563 65.4133 56.9612 64.9838 55.998 63.3356C54.9331 61.5146 55.7781 59.0887 57.7364 58.3465C58.1036 58.2068 58.4836 58.133 58.8788 58.1369ZM61.8321 61.2731C61.8524 60.625 61.5258 59.874 60.9565 59.2831C60.2271 58.527 59.2867 58.2677 58.2511 58.5079C56.3449 58.9476 55.3105 61.1016 56.1263 62.9023C56.7032 64.1756 58.0592 64.8885 59.3554 64.6C60.8155 64.2747 61.8384 62.9874 61.8321 61.2731Z",fill:"black"}),W.createElement("path",{d:"M61.0418 62.2874C60.6491 63.2747 59.9489 63.8517 58.8903 63.8644C57.983 63.8746 57.3159 63.426 56.9105 62.5885C56.8851 62.6 56.8546 62.6152 56.8253 62.6254C56.7834 62.6406 56.7593 62.6508 56.7211 62.6025C56.7033 62.5796 56.6754 62.539 56.7275 62.497C56.8558 62.3916 56.9943 62.3001 57.1341 62.2124C57.1557 62.1984 57.2066 62.1971 57.2358 62.2416C57.2676 62.2912 57.2472 62.3229 57.2282 62.3484C57.1926 62.3954 57.1418 62.431 57.0909 62.4754C57.5764 63.2188 58.2232 63.6661 59.1483 63.5734C59.9641 63.492 60.5716 62.8872 60.794 62.1743C60.8041 62.1425 60.7685 62.1196 60.7342 62.0777C60.6771 62.0103 60.6377 61.9989 60.7025 61.8909C60.7495 61.8235 60.8219 61.8629 60.8639 61.8845C60.9973 61.9544 61.1294 62.0319 61.2464 62.126C61.2921 62.1628 61.376 62.2175 61.3213 62.3153C61.2705 62.4144 61.2006 62.3496 61.118 62.3255C61.0951 62.3153 61.0723 62.3013 61.0418 62.2874Z",fill:"black"}),W.createElement("path",{d:"M57.3933 60.2757C57.4657 60.1588 57.5445 60.066 57.6881 60.0953C57.8254 60.1232 57.8813 60.2427 57.8825 60.3532C57.8864 60.5718 57.8825 60.7967 57.8343 61.009C57.7847 61.2275 57.683 61.4359 57.5928 61.6431C57.5293 61.7892 57.4289 61.8184 57.3196 61.7117C56.9689 61.3661 56.7566 60.9518 56.7795 60.446C56.7859 60.3024 56.8634 60.1842 57.007 60.1359C57.162 60.0838 57.2815 60.155 57.3933 60.2757ZM57.6754 60.2999C57.6754 60.2999 57.6475 60.2592 57.6004 60.2732C57.5649 60.2706 57.5255 60.4219 57.5026 60.5019C57.481 60.5769 57.4848 60.6315 57.4314 60.6404C57.3463 60.6481 57.3526 60.5756 57.3171 60.54C57.3005 60.5223 57.2205 60.2961 57.1061 60.338C57.0324 60.3647 57.0286 60.4727 57.0324 60.5375C57.0502 60.8666 57.2001 61.1487 57.378 61.4512C57.5407 61.0611 57.7834 60.5375 57.6754 60.2999Z",fill:"black"}),W.createElement("path",{d:"M60.2957 60.1701C60.3885 60.118 60.4761 60.0736 60.5626 60.0914C60.6909 60.118 60.7163 60.2527 60.7278 60.3697C60.7646 60.742 60.6032 61.0571 60.4291 61.3672C60.3897 61.4371 60.3338 61.4981 60.297 61.5705C60.1915 61.7764 60.0098 61.7383 59.9094 61.5616C59.6997 61.1893 59.5802 60.7801 59.6184 60.3442C59.6323 60.1778 59.6946 60.0189 59.8789 59.9757C60.0644 59.93 60.2258 60.0469 60.2957 60.1701ZM60.067 61.3837C60.086 61.474 60.1051 61.4041 60.1229 61.3863C60.2499 61.1957 60.3783 61.005 60.4533 60.7954C60.5117 60.6314 60.6655 60.2159 60.5041 60.2578C60.4647 60.2604 60.424 60.3811 60.3897 60.4421C60.3618 60.4904 60.3046 60.5679 60.2804 60.5717C60.1877 60.5742 60.1991 60.4904 60.1813 60.4421C60.1394 60.3328 60.1432 60.1612 59.9869 60.1816C59.8319 60.2019 59.8497 60.3735 59.87 60.4853C59.9234 60.7865 59.9996 61.0851 60.067 61.3837Z",fill:"black"})),W.createElement("g",{clipPath:"url(#clip2_351_43276)"},W.createElement("path",{d:"M106.15 61.4002C106.19 60.3696 106.623 59.3517 107.641 58.6439C107.894 58.4685 108.194 58.3541 108.485 58.2436C110.078 57.6387 112.02 58.7328 112.438 60.7102C112.736 62.1156 112.387 63.3546 111.281 64.3014C109.773 65.5912 107.534 65.1172 106.591 63.3432C106.3 62.7917 106.153 62.2046 106.15 61.4002ZM109.218 64.6076C109.862 64.6089 110.388 64.4424 110.809 64.1489C112.465 62.9912 112.596 60.3836 111.064 59.062C110.367 58.4596 109.556 58.302 108.681 58.4965C108.409 58.5575 108.146 58.715 107.913 58.879C106.537 59.8511 106.176 61.8602 107.116 63.3127C107.638 64.1209 108.377 64.5784 109.218 64.6076Z",fill:"black"}),W.createElement("path",{d:"M108.781 63.6393C108.761 63.6736 108.735 63.708 108.716 63.7384C108.668 63.816 108.644 63.8439 108.552 63.8122C108.484 63.7728 108.498 63.6863 108.515 63.6393C108.564 63.5072 108.627 63.3801 108.701 63.2594C108.73 63.2111 108.787 63.1247 108.847 63.1526C108.893 63.1806 108.927 63.1971 108.888 63.3305C108.88 63.3559 108.871 63.3864 108.858 63.4271C109.174 63.586 109.496 63.6037 109.829 63.5237C110.313 63.4068 110.757 63.0421 111.012 62.5935C111.119 62.4054 111.164 62.225 111.222 61.9975C111.235 61.9505 111.269 61.8717 111.247 61.8577C111.218 61.8399 111.183 61.817 111.141 61.7992C111.059 61.7662 111.067 61.7052 111.084 61.6658C111.111 61.5972 111.165 61.5896 111.198 61.5985C111.387 61.6468 111.574 61.7078 111.758 61.7713C111.784 61.7802 111.818 61.8081 111.805 61.8691C111.791 61.9327 111.749 61.9441 111.713 61.9505C111.655 61.9606 111.593 61.9454 111.517 61.939C111.493 62.042 111.471 62.15 111.441 62.2542C111.208 63.0649 110.709 63.6139 109.876 63.8274C109.542 63.9125 109.203 63.8477 108.781 63.6393Z",fill:"black"}),W.createElement("path",{d:"M110.475 60.4918C110.475 60.3914 110.46 60.2859 110.481 60.1906C110.495 60.1296 110.527 60.0368 110.611 60.0381C110.692 60.0394 110.753 60.0991 110.772 60.1525C110.894 60.4994 110.944 60.859 110.894 61.2237C110.89 61.3216 110.795 61.38 110.752 61.38C110.674 61.38 110.597 61.3279 110.575 61.2377C110.517 60.9937 110.464 60.493 110.475 60.4918Z",fill:"black"}),W.createElement("path",{d:"M107.785 60.4853C107.791 60.4243 107.829 60.3175 107.921 60.2997C108.017 60.2743 108.052 60.39 108.063 60.4408C108.118 60.6848 108.104 60.639 108.132 60.9809C108.134 61.005 108.143 61.4129 108.133 61.5235C108.123 61.6404 108.059 61.6989 108.002 61.7014C107.894 61.7078 107.86 61.6353 107.836 61.5502C107.761 61.2909 107.725 61.0279 107.785 60.4853Z",fill:"black"})),W.createElement("g",{clipPath:"url(#clip3_351_43276)"},W.createElement("path",{d:"M111.595 18.3869C110.845 18.364 110.227 18.2102 109.637 17.9383C109.448 17.8519 109.251 17.7858 109.06 17.7121C108.805 17.6142 108.583 17.4643 108.469 17.2165C108.207 16.6485 107.932 16.0817 107.729 15.4908C107.54 14.9405 107.657 14.389 107.997 13.9188C108.262 13.5541 108.422 13.1627 108.537 12.7307C108.68 12.2007 109.072 11.9072 109.606 11.7928C109.851 11.7407 110.084 11.7572 110.318 11.8475C110.535 11.9313 110.76 11.9453 110.987 11.883C111.409 11.7674 111.794 11.8869 112.172 12.0686C112.348 12.1525 112.529 12.2414 112.718 12.2833C113.342 12.4206 113.662 12.831 113.747 13.4283C113.789 13.7244 113.765 14.0332 113.744 14.3344C113.725 14.5974 113.753 14.8465 113.836 15.0943C114.054 15.7373 114.021 16.3663 113.723 16.9801C113.542 17.3563 113.244 17.6104 112.883 17.8049C112.63 17.9408 112.379 18.0806 112.134 18.2306C111.935 18.3513 111.723 18.3932 111.595 18.3869ZM111.588 18.1505C111.784 18.1531 111.933 18.0908 112.132 17.937C112.267 17.8341 112.427 17.7629 112.576 17.6791C112.751 17.5812 112.957 17.5151 113.099 17.3817C113.704 16.8124 113.842 16.083 113.638 15.3192C113.507 14.8262 113.468 14.3534 113.525 13.8553C113.599 13.2047 113.243 12.7154 112.619 12.5426C112.403 12.4829 112.196 12.3812 111.993 12.2833C111.732 12.1588 111.464 12.0508 111.177 12.1194C110.803 12.2084 110.447 12.1804 110.089 12.0597C109.972 12.0203 109.84 11.9847 109.72 11.9987C109.24 12.0546 108.903 12.338 108.783 12.7878C108.652 13.2771 108.432 13.7028 108.16 14.1234C107.878 14.5606 107.803 15.0587 108.004 15.5607C108.202 16.0575 108.418 16.5481 108.631 17.0386C108.737 17.2826 108.922 17.4452 109.173 17.538C109.409 17.6257 109.648 17.7083 109.878 17.8112C110.385 18.0361 110.923 18.1124 111.588 18.1505Z",fill:"black"}),W.createElement("path",{d:"M111.046 16.4389C110.507 16.4618 110.013 16.3766 109.628 15.975C109.561 15.9064 109.499 15.8302 109.46 15.745C109.441 15.7056 109.424 15.6307 109.498 15.59C109.544 15.5646 109.602 15.5913 109.639 15.6192C109.732 15.6878 109.809 15.7781 109.903 15.8467C110.346 16.1733 110.835 16.2749 111.365 16.1199C111.633 16.0424 111.82 15.8454 111.985 15.6294C112.046 15.5506 112.113 15.4312 112.224 15.5138C112.334 15.5976 112.235 15.6993 112.178 15.7755C111.89 16.1593 111.541 16.4414 111.046 16.4389Z",fill:"black"}),W.createElement("path",{d:"M112.735 14.3521C112.733 14.5071 112.615 14.6316 112.475 14.6291C112.331 14.6266 112.21 14.4982 112.214 14.3521C112.218 14.192 112.329 14.0649 112.465 14.0674C112.618 14.0687 112.737 14.1945 112.735 14.3521Z",fill:"black"}),W.createElement("path",{d:"M109.411 14.5579C109.41 14.7129 109.292 14.8375 109.152 14.8349C109.007 14.8324 108.887 14.704 108.89 14.5579C108.894 14.3978 109.006 14.2707 109.142 14.2732C109.293 14.2745 109.413 14.4003 109.411 14.5579Z",fill:"black"})),W.createElement("path",{d:"M48.5913 77.6602C48.5913 77.458 48.4275 77.2942 48.2253 77.2942C48.0232 77.2942 47.8594 77.458 47.8594 77.6602H48.5913ZM47.9666 85.6046C48.1095 85.7475 48.3412 85.7475 48.4841 85.6046L50.8132 83.2755C50.9562 83.1326 50.9562 82.9008 50.8132 82.7579C50.6703 82.615 50.4386 82.615 50.2957 82.7579L48.2253 84.8282L46.155 82.7579C46.0121 82.615 45.7804 82.615 45.6375 82.7579C45.4945 82.9008 45.4945 83.1326 45.6375 83.2755L47.9666 85.6046ZM47.8594 77.6602V85.3458H48.5913V77.6602H47.8594Z",fill:"black"}),W.createElement("rect",{x:"125.264",y:"50.1747",width:"43.186",height:"23.7889",rx:"2.01291",fill:"#FFE8A3",stroke:"black",strokeWidth:"0.365983",className:q()(RY,RJ)}),W.createElement("rect",{x:"131.664",y:"59.8726",width:"17.9332",height:"4.3918",fill:"black",fillOpacity:"0.2",className:q()(RY,RJ)}),W.createElement("circle",{cx:"158.567",cy:"62.2545",r:"5.48975",fill:"white",stroke:"black",strokeWidth:"0.365983",className:q()(RY,RJ)}),W.createElement("g",{clipPath:"url(#clip4_351_43276)",className:q()(RY,RJ)},W.createElement("path",{d:"M156.152 60.7639C156.525 60.325 156.935 59.9056 157.388 59.5486C157.703 59.3 157.811 59.2875 157.985 59.2403C158.032 59.2278 158.074 59.1986 158.114 59.1695C159.805 57.9764 161.959 58.8222 162.375 60.9278C162.652 62.325 161.939 63.7125 160.714 64.2792C160.695 64.2889 160.666 64.2917 160.656 64.307C160.413 64.6875 159.918 64.8347 159.617 64.9097C159.556 64.932 159.509 64.9958 159.453 65.0375C159.41 65.0695 159.367 65.1042 159.318 65.1264C157.725 65.8653 156.013 64.8764 155.638 63.2403C155.585 63.0097 155.353 61.6181 156.152 60.7639ZM159.47 64.1903C160.038 64.1875 160.409 64.0945 160.741 63.9125C162.338 63.0361 162.577 60.6556 161.171 59.4931C160.366 58.8278 159.335 58.7153 158.43 59.3528C157.353 60.1097 156.963 61.6611 157.566 62.8333C157.999 63.6764 158.686 64.1417 159.47 64.1903ZM160.013 64.55C160.082 64.525 160.092 64.507 160.081 64.4986C160.081 64.4986 160.052 64.4986 160.003 64.5C158.753 64.5945 157.813 64.0972 157.256 62.9764C156.711 61.882 156.843 60.807 157.486 59.7778C157.435 59.8028 157.393 59.8333 157.356 59.8681C156.489 60.6528 156.234 61.982 156.734 63.1181C157.195 64.1667 158.163 64.7889 159.252 64.7111C159.507 64.6931 159.759 64.6056 160.013 64.55ZM156.342 60.9472C156.343 60.907 156.306 60.957 156.3 60.9639C156.281 60.9903 156.261 61.0181 156.245 61.0458C156.016 61.432 155.873 61.85 155.853 62.2986C155.807 63.3208 156.166 64.1681 157.031 64.7458C157.606 65.1306 158.245 65.2097 158.913 65.0014C157.936 64.9028 157.175 64.45 156.661 63.6139C156.148 62.7806 156.066 61.8861 156.342 60.9472Z",fill:"black"}),W.createElement("path",{d:"M160.525 61.8376C160.717 61.8445 160.78 61.9445 160.717 62.1251C160.561 62.5695 160.124 62.7862 159.678 62.6307C159.414 62.5376 159.207 62.3682 159.064 62.1265C158.955 61.9404 159.003 61.8334 159.218 61.8195C159.443 61.8043 160.316 61.8293 160.525 61.8376ZM160.482 62.0543C160.099 62.0543 159.725 62.0543 159.348 62.0543C159.731 62.5001 160.298 62.5084 160.482 62.0543Z",fill:"black"}),W.createElement("path",{d:"M158.963 61.0499C158.964 61.2666 158.756 61.4638 158.528 61.4624C158.33 61.461 158.191 61.2819 158.189 61.0916C158.186 60.9013 158.381 60.7138 158.595 60.7082C158.8 60.7013 158.963 60.8513 158.963 61.0499ZM158.546 60.9124C158.443 60.9291 158.411 61.0263 158.42 61.0999C158.431 61.2069 158.511 61.2332 158.561 61.2346C158.609 61.236 158.702 61.1888 158.721 61.0971C158.746 61.0041 158.693 60.8777 158.546 60.9124Z",fill:"black"}),W.createElement("path",{d:"M161.617 61.1082C161.614 61.318 161.466 61.4721 161.267 61.4707C161.053 61.4694 160.899 61.2957 160.906 61.0638C160.912 60.8624 161.062 60.7069 161.248 60.711C161.441 60.7166 161.62 60.9082 161.617 61.1082ZM161.425 61.1027C161.425 60.9957 161.368 60.9235 161.28 60.9235C161.225 60.9235 161.134 60.9652 161.134 61.0791C161.134 61.2777 161.28 61.2666 161.28 61.2666C161.357 61.2638 161.425 61.2319 161.425 61.1027Z",fill:"black"})),W.createElement("rect",{x:"125.259",y:"90.4347",width:"43.186",height:"23.7889",rx:"2.01291",fill:"#FFE8A3",stroke:"black",strokeWidth:"0.365983"}),W.createElement("rect",{x:"131.662",y:"100.132",width:"17.9332",height:"4.3918",fill:"black",fillOpacity:"0.2"}),W.createElement("circle",{cx:"158.562",cy:"102.514",r:"5.48975",fill:"white",stroke:"black",strokeWidth:"0.365983"}),W.createElement("g",{clipPath:"url(#clip5_351_43276)"},W.createElement("path",{d:"M155.773 101.196C156.115 100.794 156.49 100.41 156.904 100.084C157.192 99.8563 157.291 99.8449 157.45 99.8017C157.493 99.7903 157.532 99.7636 157.568 99.7369C159.115 98.6453 161.086 99.4192 161.467 101.346C161.72 102.624 161.068 103.894 159.947 104.412C159.93 104.421 159.903 104.424 159.894 104.437C159.672 104.786 159.219 104.92 158.943 104.989C158.887 105.009 158.844 105.068 158.793 105.106C158.754 105.135 158.715 105.167 158.67 105.187C157.213 105.863 155.646 104.958 155.303 103.462C155.254 103.251 155.042 101.977 155.773 101.196ZM158.809 104.331C159.328 104.328 159.668 104.243 159.971 104.077C161.433 103.275 161.651 101.097 160.365 100.033C159.628 99.4243 158.685 99.3213 157.857 99.9046C156.872 100.597 156.515 102.017 157.066 103.089C157.463 103.861 158.092 104.286 158.809 104.331ZM159.306 104.66C159.369 104.637 159.378 104.62 159.368 104.613C159.368 104.613 159.341 104.613 159.297 104.614C158.153 104.701 157.293 104.246 156.783 103.22C156.285 102.219 156.406 101.235 156.994 100.293C156.947 100.316 156.909 100.344 156.875 100.376C156.082 101.094 155.848 102.31 156.305 103.35C156.727 104.309 157.613 104.878 158.609 104.807C158.843 104.791 159.073 104.711 159.306 104.66ZM155.947 101.363C155.948 101.327 155.914 101.372 155.909 101.379C155.891 101.403 155.873 101.428 155.858 101.454C155.648 101.807 155.517 102.189 155.5 102.6C155.458 103.535 155.786 104.31 156.577 104.839C157.103 105.191 157.688 105.263 158.299 105.073C157.406 104.983 156.709 104.568 156.239 103.803C155.769 103.041 155.694 102.223 155.947 101.363Z",fill:"black"}),W.createElement("path",{d:"M159.774 102.178C159.95 102.185 160.007 102.276 159.95 102.441C159.808 102.848 159.407 103.046 158.999 102.904C158.758 102.819 158.568 102.664 158.438 102.442C158.337 102.272 158.382 102.174 158.579 102.162C158.785 102.148 159.583 102.171 159.774 102.178ZM159.735 102.376C159.384 102.376 159.042 102.376 158.697 102.376C159.048 102.784 159.566 102.792 159.735 102.376Z",fill:"black"}),W.createElement("path",{d:"M158.345 101.458C158.346 101.656 158.155 101.836 157.947 101.835C157.765 101.834 157.638 101.67 157.637 101.496C157.634 101.322 157.812 101.15 158.008 101.145C158.196 101.139 158.345 101.276 158.345 101.458ZM157.964 101.332C157.87 101.347 157.84 101.436 157.848 101.503C157.858 101.601 157.932 101.625 157.978 101.627C158.021 101.628 158.106 101.585 158.124 101.501C158.147 101.416 158.098 101.3 157.964 101.332Z",fill:"black"}),W.createElement("path",{d:"M160.773 101.511C160.771 101.703 160.635 101.844 160.453 101.843C160.257 101.841 160.116 101.683 160.123 101.47C160.128 101.286 160.265 101.144 160.435 101.148C160.612 101.153 160.776 101.328 160.773 101.511ZM160.598 101.506C160.598 101.408 160.546 101.342 160.465 101.342C160.415 101.342 160.331 101.38 160.331 101.484C160.331 101.666 160.465 101.656 160.465 101.656C160.536 101.653 160.598 101.624 160.598 101.506Z",fill:"black"})),W.createElement("path",{className:q()(RY,RJ),d:"M147.77 78.1765C147.77 77.9744 147.606 77.8105 147.404 77.8105C147.202 77.8105 147.038 77.9744 147.038 78.1765H147.77ZM147.145 86.1209C147.288 86.2639 147.52 86.2639 147.663 86.1209L149.992 83.7918C150.135 83.6489 150.135 83.4172 149.992 83.2743C149.849 83.1313 149.617 83.1313 149.474 83.2743L147.404 85.3446L145.333 83.2743C145.191 83.1313 144.959 83.1313 144.816 83.2743C144.673 83.4172 144.673 83.6489 144.816 83.7918L147.145 86.1209ZM147.038 78.1765V85.8622H147.77V78.1765H147.038Z",fill:"black"}),W.createElement("path",{d:"M147.77 118.432C147.77 118.23 147.606 118.066 147.404 118.066C147.202 118.066 147.038 118.23 147.038 118.432H147.77ZM147.145 126.376C147.288 126.519 147.52 126.519 147.663 126.376L149.992 124.047C150.135 123.904 150.135 123.673 149.992 123.53C149.849 123.387 149.617 123.387 149.474 123.53L147.404 125.6L145.333 123.53C145.191 123.387 144.959 123.387 144.816 123.53C144.673 123.673 144.673 123.904 144.816 124.047L147.145 126.376ZM147.038 118.432V126.118H147.77V118.432H147.038Z",fill:"black"}),W.createElement("defs",null,W.createElement("clipPath",{id:"clip0_351_43276"},W.createElement("rect",{width:"7.31966",height:"7.31966",fill:"white",transform:"translate(56.6428 98.1511)"})),W.createElement("clipPath",{id:"clip1_351_43276"},W.createElement("rect",{width:"7.31966",height:"7.31966",fill:"white",transform:"translate(55.1821 57.8955)"})),W.createElement("clipPath",{id:"clip2_351_43276"},W.createElement("rect",{width:"7.31966",height:"7.31966",fill:"white",transform:"translate(105.685 57.8955)"})),W.createElement("clipPath",{id:"clip3_351_43276"},W.createElement("rect",{width:"7.31966",height:"7.31966",fill:"white",transform:"translate(107.148 11.4153)"})),W.createElement("clipPath",{id:"clip4_351_43276"},W.createElement("rect",{width:"8",height:"8",fill:"white",transform:"translate(155 58)"})),W.createElement("clipPath",{id:"clip5_351_43276"},W.createElement("rect",{width:"7.31966",height:"7.31966",fill:"white",transform:"translate(154.719 98.6667)"}))))}function R1(e){return W.createElement("svg",{width:"136",viewBox:"0 0 196 122",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:q()(RV,{[RW]:e.hovered})},W.createElement("rect",{x:"27.1929",y:"3.19293",width:"69.0706",height:"15.0489",fill:"black",stroke:"black",strokeWidth:"0.38587"}),W.createElement("rect",{x:"99.7337",y:"3.19293",width:"69.0706",height:"15.0489",fill:"black",stroke:"black",strokeWidth:"0.38587"}),W.createElement("rect",{x:"99.7337",y:"23.2581",width:"69.0706",height:"15.0489",rx:"2.12228",fill:"#BDE3FF",stroke:"black",strokeWidth:"0.38587"}),W.createElement("rect",{x:"27.1929",y:"43.3228",width:"99.1685",height:"15.0489",rx:"2.12228",fill:"#E4CCFF",stroke:"black",strokeWidth:"0.38587"}),W.createElement("rect",{x:"27.1929",y:"103.518",width:"99.1685",height:"15.0489",rx:"2.12228",fill:"#FFE8A3",stroke:"black",strokeWidth:"0.38587"}),W.createElement("rect",{x:"76.5833",y:"63.3882",width:"92.2228",height:"15.0489",rx:"2.12228",fill:"#BDE3FF",stroke:"black",strokeWidth:"0.38587"}),W.createElement("rect",{x:"83.3374",y:"68.5977",width:"25.8533",height:"4.63043",fill:"black",fillOpacity:"0.2"}),W.createElement("rect",{x:"32.7886",y:"108.728",width:"32.0272",height:"4.63043",fill:"black",fillOpacity:"0.2"}),W.createElement("rect",{x:"33.561",y:"48.5325",width:"31.2554",height:"4.63043",fill:"black",fillOpacity:"0.2"}),W.createElement("rect",{x:"104.947",y:"28.4675",width:"21.6087",height:"4.63043",fill:"black",fillOpacity:"0.2"}),W.createElement("path",{d:"M161.035 74.752C160.165 74.7255 159.449 74.5471 158.764 74.2317C158.546 74.1315 158.317 74.0549 158.095 73.9694C157.8 73.8559 157.542 73.682 157.409 73.3946C157.106 72.7358 156.787 72.0785 156.552 71.3932C156.332 70.755 156.468 70.1154 156.863 69.5701C157.169 69.1471 157.355 68.6932 157.489 68.1921C157.654 67.5775 158.109 67.237 158.728 67.1044C159.013 67.044 159.283 67.0631 159.554 67.1678C159.806 67.2651 160.067 67.2813 160.33 67.209C160.82 67.0749 161.266 67.2135 161.704 67.4242C161.909 67.5215 162.118 67.6247 162.338 67.6733C163.061 67.8325 163.433 68.3085 163.532 69.0012C163.58 69.3446 163.552 69.7027 163.527 70.052C163.505 70.3571 163.537 70.646 163.635 70.9334C163.887 71.6791 163.848 72.4086 163.504 73.1205C163.293 73.5567 162.948 73.8515 162.529 74.077C162.236 74.2347 161.944 74.3968 161.66 74.5707C161.43 74.7107 161.184 74.7594 161.035 74.752ZM161.028 74.4779C161.255 74.4808 161.427 74.4086 161.658 74.2303C161.815 74.1109 162 74.0284 162.173 73.9311C162.376 73.8176 162.615 73.741 162.78 73.5862C163.481 72.9259 163.641 72.08 163.405 71.1942C163.253 70.6224 163.207 70.0741 163.274 69.4964C163.359 68.7418 162.946 68.1744 162.223 67.974C161.972 67.9047 161.732 67.7868 161.496 67.6733C161.194 67.5289 160.883 67.4036 160.55 67.4832C160.117 67.5863 159.704 67.5539 159.288 67.4139C159.153 67.3682 159 67.327 158.861 67.3432C158.304 67.408 157.913 67.7367 157.773 68.2584C157.622 68.8258 157.367 69.3195 157.051 69.8074C156.724 70.3144 156.637 70.8921 156.87 71.4742C157.1 72.0505 157.35 72.6194 157.598 73.1883C157.72 73.4713 157.936 73.6599 158.226 73.7675C158.5 73.8692 158.777 73.965 159.044 74.0844C159.632 74.3452 160.255 74.4337 161.028 74.4779Z",fill:"black"}),W.createElement("path",{d:"M160.398 72.4923C159.773 72.5188 159.2 72.4201 158.753 71.9543C158.677 71.8747 158.605 71.7863 158.559 71.6876C158.537 71.6419 158.518 71.5549 158.603 71.5078C158.656 71.4783 158.724 71.5092 158.767 71.5417C158.874 71.6212 158.964 71.7259 159.073 71.8055C159.586 72.1842 160.154 72.3021 160.768 72.1223C161.079 72.0324 161.296 71.804 161.487 71.5535C161.558 71.4621 161.636 71.3235 161.764 71.4193C161.893 71.5166 161.778 71.6345 161.711 71.7229C161.377 72.168 160.973 72.4952 160.398 72.4923Z",fill:"black"}),W.createElement("path",{d:"M162.357 70.0724C162.355 70.2522 162.218 70.3966 162.056 70.3937C161.888 70.3907 161.748 70.2419 161.753 70.0724C161.757 69.8867 161.887 69.7393 162.044 69.7422C162.221 69.7437 162.36 69.8896 162.357 70.0724Z",fill:"black"}),W.createElement("path",{d:"M158.503 70.3111C158.501 70.4909 158.364 70.6354 158.202 70.6324C158.034 70.6295 157.894 70.4806 157.899 70.3111C157.903 70.1254 158.033 69.9781 158.19 69.981C158.366 69.9825 158.504 70.1284 158.503 70.3111Z",fill:"black"}),W.createElement("g",{clipPath:"url(#clip0_351_42930)"},W.createElement("path",{d:"M160.653 34.6219C159.783 34.5953 159.067 34.417 158.381 34.1016C158.163 34.0014 157.935 33.9248 157.712 33.8393C157.418 33.7258 157.16 33.5519 157.027 33.2645C156.723 32.6057 156.405 31.9484 156.169 31.2631C155.95 30.6249 156.085 29.9853 156.48 29.44C156.787 29.017 156.973 28.563 157.107 28.0619C157.272 27.4474 157.727 27.1069 158.346 26.9743C158.631 26.9139 158.9 26.933 159.171 27.0377C159.423 27.1349 159.684 27.1511 159.948 27.0789C160.437 26.9448 160.884 27.0833 161.322 27.2941C161.527 27.3914 161.736 27.4945 161.955 27.5432C162.679 27.7023 163.051 28.1784 163.149 28.8711C163.198 29.2145 163.17 29.5726 163.145 29.9219C163.123 30.227 163.155 30.5158 163.252 30.8032C163.504 31.549 163.466 32.2785 163.121 32.9904C162.91 33.4266 162.566 33.7214 162.147 33.9469C161.854 34.1046 161.562 34.2667 161.278 34.4406C161.048 34.5806 160.801 34.6292 160.653 34.6219ZM160.645 34.3477C160.872 34.3507 161.045 34.2785 161.276 34.1001C161.432 33.9808 161.618 33.8982 161.79 33.801C161.994 33.6875 162.233 33.6108 162.398 33.4561C163.099 32.7958 163.258 31.9499 163.023 31.0641C162.871 30.4923 162.825 29.944 162.891 29.3663C162.977 28.6117 162.564 28.0443 161.841 27.8438C161.59 27.7746 161.35 27.6567 161.114 27.5432C160.812 27.3987 160.501 27.2735 160.168 27.353C159.734 27.4562 159.322 27.4238 158.906 27.2838C158.771 27.2381 158.617 27.1968 158.479 27.213C157.922 27.2779 157.531 27.6065 157.391 28.1283C157.239 28.6957 156.984 29.1894 156.669 29.6772C156.342 30.1842 156.255 30.762 156.488 31.3441C156.718 31.9204 156.968 32.4893 157.216 33.0582C157.338 33.3411 157.553 33.5298 157.844 33.6374C158.118 33.7391 158.395 33.8349 158.662 33.9542C159.25 34.2151 159.873 34.3035 160.645 34.3477Z",fill:"black"}),W.createElement("path",{d:"M160.016 32.3624C159.391 32.3889 158.818 32.2902 158.371 31.8244C158.294 31.7449 158.222 31.6564 158.177 31.5577C158.154 31.512 158.135 31.425 158.221 31.3779C158.274 31.3484 158.342 31.3794 158.384 31.4118C158.492 31.4914 158.582 31.596 158.691 31.6756C159.204 32.0544 159.771 32.1723 160.386 31.9925C160.697 31.9026 160.913 31.6741 161.105 31.4236C161.176 31.3322 161.254 31.1937 161.382 31.2895C161.51 31.3867 161.395 31.5046 161.329 31.5931C160.994 32.0381 160.591 32.3653 160.016 32.3624Z",fill:"black"}),W.createElement("path",{d:"M161.974 29.9422C161.973 30.122 161.836 30.2665 161.674 30.2635C161.506 30.2606 161.366 30.1117 161.37 29.9422C161.375 29.7565 161.504 29.6092 161.662 29.6121C161.839 29.6136 161.977 29.7595 161.974 29.9422Z",fill:"black"}),W.createElement("path",{d:"M158.12 30.181C158.119 30.3608 157.982 30.5052 157.82 30.5023C157.652 30.4993 157.512 30.3505 157.516 30.181C157.521 29.9953 157.65 29.8479 157.808 29.8509C157.983 29.8523 158.122 29.9983 158.12 30.181Z",fill:"black"})),W.createElement("g",{clipPath:"url(#clip1_351_42930)"},W.createElement("path",{d:"M114.675 114.329C114.278 114.328 114.256 114.309 114.215 113.917C114.185 113.631 114.162 113.343 114.154 113.056C114.112 111.501 114.087 109.946 114.039 108.393C114.025 107.893 114.025 107.893 114.462 107.849C114.934 107.802 115.45 107.815 115.924 107.803C117.613 107.764 119.304 107.73 120.993 107.694C121.058 107.693 121.127 107.697 121.183 107.703C121.305 107.716 121.319 107.809 121.321 107.868C121.332 108.088 121.311 108.309 121.311 108.53C121.308 110.144 121.308 111.758 121.307 113.371C121.307 113.565 121.302 113.759 121.301 113.952C121.298 114.281 121.192 114.39 120.854 114.388C120.221 114.387 119.587 114.381 118.953 114.378C118.542 114.377 115.69 114.332 114.675 114.329ZM120.946 108.032L114.356 108.123C114.336 108.123 114.319 108.141 114.321 108.16C114.384 110.116 114.446 112.049 114.51 114.007C114.51 114.026 114.526 114.042 114.545 114.042H120.952C120.977 114.042 120.996 114.021 120.996 113.998V108.082C120.996 108.054 120.974 108.032 120.946 108.032Z",fill:"black"}),W.createElement("path",{d:"M117.683 112.39C117.071 112.373 116.501 112.219 116.016 111.83C115.935 111.765 115.826 111.613 115.852 111.563C115.929 111.42 116.057 111.56 116.151 111.608C117.205 112.155 118.252 112.161 119.295 111.585C119.361 111.548 119.432 111.519 119.504 111.499C119.535 111.492 119.577 111.488 119.607 111.536C119.628 111.567 119.616 111.617 119.599 111.645C119.568 111.692 119.522 111.734 119.476 111.769C118.953 112.188 118.358 112.403 117.683 112.39Z",fill:"black"}),W.createElement("path",{d:"M117.349 109.66C117.133 110.082 116.915 110.502 116.696 110.922C116.68 110.953 116.576 111.096 116.462 111.038C116.421 111.018 116.384 110.978 116.384 110.884C116.384 110.836 116.405 110.78 116.427 110.735C116.627 110.338 116.829 109.942 117.034 109.548C117.063 109.492 117.102 109.433 117.152 109.398C117.193 109.369 117.267 109.354 117.311 109.37C117.469 109.426 117.373 109.615 117.349 109.66Z",fill:"black"}),W.createElement("path",{d:"M119.47 109.498C119.606 109.477 119.652 109.594 119.618 109.695C119.59 109.784 119.551 109.871 119.507 109.952C119.342 110.248 119.174 110.543 119.003 110.835C118.953 110.922 118.885 111.016 118.766 110.959C118.632 110.894 118.682 110.776 118.73 110.686C118.915 110.341 119.103 109.998 119.299 109.659C119.339 109.589 119.401 109.498 119.47 109.498Z",fill:"black"})),W.createElement("path",{d:"M66.4764 69.1441C66.5074 69.1087 66.5118 69.0557 66.4853 69.0159C66.2111 68.6622 65.9414 68.3306 65.6894 67.9857C65.4064 67.5966 65.4816 67.2959 65.9459 67.2031C67.2679 66.9334 68.5899 66.646 69.9296 66.4912C70.8138 66.394 70.9819 66.4205 70.8802 67.464C70.7608 68.6975 70.6105 69.6924 70.4336 70.9171C70.1727 72.7033 70.1064 72.92 69.7704 72.7431C69.6908 72.6989 69.4653 72.5795 69.3017 72.4381C69.1072 72.27 68.8728 72.1064 68.7623 71.9871C68.0902 72.973 67.5597 73.5478 66.7771 74.2729C65.4241 75.8028 62.873 76.0327 60.9187 74.3393C60.2953 73.7999 59.694 73.2383 59.0838 72.6857C58.1067 71.8014 56.9704 71.6289 55.7987 72.1418C54.9675 72.5044 54.2026 73.0261 53.4332 73.5125C52.0626 74.3791 50.6168 74.8787 48.9809 74.5161C48.6271 74.4365 48.2823 74.2818 47.9507 74.1226C47.4466 73.8794 47.2123 73.4727 47.2079 72.8935C47.2034 71.6289 47.1239 70.36 47.146 69.0955C47.1636 68.1449 47.3847 67.9945 48.3265 68.1625C50.1967 68.4897 51.9565 68.136 53.6631 67.3623C54.8039 66.845 55.9844 66.478 57.2445 66.3365C59.0175 66.2039 61.1486 66.8715 62.5856 68.4499C63.178 69.0999 63.9651 69.5553 64.8361 69.6879C65.4595 69.7719 65.8972 69.7321 66.4764 69.1441ZM66.4013 67.8265C66.64 68.1714 66.9009 68.4853 67.0777 68.839C67.1706 69.0291 67.3209 69.206 67.1131 69.5155C66.5737 70.3114 65.3888 70.8552 64.4381 70.5545C63.912 70.3909 63.4035 70.1124 62.9525 69.794C62.1876 69.2635 61.5112 68.6003 60.7286 68.1095C60.1626 67.7513 59.5038 67.4816 58.8495 67.3446C57.4832 67.0572 56.148 67.3578 54.879 67.8751C52.6993 68.7683 50.5283 69.6437 47.986 68.9142C47.986 70.1124 47.9949 71.2399 47.9816 72.3629C47.9728 73.3666 47.8357 73.2472 48.8349 73.5611C48.9853 73.6097 49.14 73.6495 49.2948 73.6716C50.6831 73.8794 51.8813 73.4019 53.022 72.6635C53.756 72.186 54.4899 71.682 55.2814 71.315C56.9969 70.5192 58.5134 70.8685 59.8443 72.2037C60.4146 72.7741 61.0292 73.3091 61.6836 73.7822C62.8022 74.5913 64.0225 75.1617 65.5037 74.3304C66.7284 73.5169 67.6304 72.6812 68.2317 71.3504C68.4837 70.7933 68.5368 70.8198 68.9613 71.2708C69.0983 71.4167 69.0983 71.4167 69.3592 71.6643C69.5537 71.9031 69.5626 71.6687 69.5758 71.483C69.7925 70.0151 69.9517 68.6489 70.1772 67.1235C68.8773 67.3623 67.6702 67.5878 66.4013 67.8265Z",fill:"black"}),W.createElement("rect",{x:"27.1929",y:"23.2581",width:"69.0706",height:"15.0489",rx:"2.12228",fill:"#E4CCFF",stroke:"black",strokeWidth:"0.38587",className:q()(RY,RZ)}),W.createElement("rect",{x:"33.561",y:"29.2361",width:"21.6087",height:"4.63043",fill:"black",fillOpacity:"0.2",className:q()(RY,RZ)}),W.createElement("g",{clipPath:"url(#clip2_351_42930)",className:q()(RY,RZ)},W.createElement("path",{d:"M83.8767 30.6015C83.9224 29.4063 84.425 28.2258 85.6055 27.4048C85.8988 27.2015 86.2466 27.0688 86.5841 26.9406C88.4322 26.2391 90.6842 27.508 91.1691 29.8013C91.514 31.4313 91.1102 32.8682 89.8265 33.9662C88.0785 35.4621 85.4817 34.9124 84.3881 32.855C84.0506 32.2153 83.8797 31.5344 83.8767 30.6015ZM87.4345 34.3214C88.1817 34.3229 88.7919 34.1298 89.2797 33.7894C91.2001 32.4467 91.3519 29.4225 89.5759 27.8897C88.7668 27.1911 87.8265 27.0084 86.8111 27.2339C86.4957 27.3046 86.1906 27.4874 85.9209 27.6775C84.3247 28.805 83.9062 31.135 84.9968 32.8196C85.6025 33.7569 86.4588 34.2875 87.4345 34.3214Z",fill:"black"}),W.createElement("path",{d:"M86.9275 33.1983C86.9039 33.2381 86.8744 33.2779 86.8523 33.3133C86.7963 33.4032 86.7683 33.4356 86.6622 33.3987C86.5826 33.3531 86.5988 33.2528 86.6194 33.1983C86.6754 33.045 86.7491 32.8976 86.8346 32.7576C86.8685 32.7016 86.9348 32.6014 87.0041 32.6338C87.0572 32.6663 87.097 32.6854 87.0513 32.8402C87.0424 32.8696 87.0321 32.905 87.0174 32.9522C87.3829 33.1364 87.7572 33.157 88.1434 33.0642C88.7049 32.9286 89.2192 32.5056 89.5155 31.9854C89.6393 31.7672 89.6909 31.558 89.7586 31.2941C89.7734 31.2396 89.8132 31.1482 89.7881 31.132C89.7542 31.1114 89.713 31.0849 89.6643 31.0642C89.57 31.0259 89.5788 30.9552 89.598 30.9095C89.6304 30.8299 89.6923 30.8211 89.7306 30.8314C89.9502 30.8874 90.1669 30.9581 90.3806 31.0318C90.4101 31.0421 90.4499 31.0745 90.4351 31.1453C90.4189 31.219 90.3703 31.2322 90.3275 31.2396C90.2612 31.2514 90.189 31.2337 90.1006 31.2263C90.0726 31.3457 90.0475 31.471 90.0121 31.5919C89.7424 32.5321 89.1632 33.1688 88.1979 33.4164C87.8103 33.5152 87.4168 33.44 86.9275 33.1983Z",fill:"black"}),W.createElement("path",{d:"M88.892 29.5476C88.892 29.4312 88.8744 29.3089 88.8994 29.1984C88.9156 29.1276 88.9525 29.02 89.0497 29.0215C89.1441 29.023 89.2148 29.0922 89.2369 29.1541C89.3784 29.5565 89.4359 29.9736 89.3784 30.3966C89.374 30.51 89.2634 30.5778 89.2133 30.5778C89.1234 30.5778 89.0335 30.5174 89.0085 30.4128C88.9407 30.1298 88.8788 29.5491 88.892 29.5476Z",fill:"black"}),W.createElement("path",{d:"M85.772 29.5404C85.7793 29.4697 85.8235 29.3459 85.9296 29.3252C86.0417 29.2957 86.0815 29.4299 86.0947 29.4888C86.1581 29.7718 86.1419 29.7187 86.1743 30.1152C86.1772 30.1432 86.1876 30.6163 86.1758 30.7445C86.164 30.8801 86.0903 30.9479 86.024 30.9508C85.8987 30.9582 85.8589 30.8742 85.8309 30.7754C85.7439 30.4748 85.7027 30.1697 85.772 29.5404Z",fill:"black"})),W.createElement("rect",{x:"106.08",y:"83.0787",width:"62.5109",height:"15.0489",rx:"2.12228",fill:"#AFF4C6",stroke:"black",strokeWidth:"0.38587",className:q()(RY,RQ)}),W.createElement("rect",{x:"112.062",y:"88.2883",width:"22.7663",height:"4.63043",fill:"black",fillOpacity:"0.2",className:q()(RY,RQ)}),W.createElement("defs",null,W.createElement("clipPath",{id:"clip0_351_42930"},W.createElement("rect",{width:"8.48913",height:"8.48913",fill:"white",transform:"translate(155.496 26.5366)"})),W.createElement("clipPath",{id:"clip1_351_42930"},W.createElement("rect",{width:"8.48913",height:"8.48913",fill:"white",transform:"translate(113.435 106.797)"})),W.createElement("clipPath",{id:"clip2_351_42930"},W.createElement("rect",{width:"8.48913",height:"8.48913",fill:"white",transform:"translate(83.3374 26.5366)"}))))}function R2(e){return W.createElement("svg",{width:"136",viewBox:"0 0 196 136",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:q()(RV,{[RW]:e.hovered})},W.createElement("rect",{x:"27.172",y:"7.98674",width:"141.765",height:"41.2909",fill:"#E4CCFF"}),W.createElement("g",{filter:"url(#filter0_d_351_120552)"},W.createElement("rect",{x:"63.4768",y:"13.321",width:"30.6241",height:"30.6241",fill:"#FFD45B"}),W.createElement("rect",{x:"63.6489",y:"13.4931",width:"30.28",height:"30.28",stroke:"black",strokeWidth:"0.344091"})),W.createElement("rect",{x:"67.6057",y:"17.4517",width:"22.0218",height:"4.12909",fill:"black",fillOpacity:"0.2"}),W.createElement("rect",{x:"67.6057",y:"23.3",width:"19.2691",height:"4.12909",fill:"black",fillOpacity:"0.2"}),W.createElement("g",{filter:"url(#filter1_d_351_120552)"},W.createElement("rect",{x:"98.2268",y:"13.321",width:"30.6241",height:"30.6241",fill:"#FFD45B"}),W.createElement("rect",{x:"98.3989",y:"13.4931",width:"30.28",height:"30.28",stroke:"black",strokeWidth:"0.344091"})),W.createElement("rect",{x:"102.355",y:"17.4517",width:"22.0218",height:"4.12909",fill:"black",fillOpacity:"0.2"}),W.createElement("rect",{x:"102.355",y:"23.3",width:"19.2691",height:"4.12909",fill:"black",fillOpacity:"0.2"}),W.createElement("g",{filter:"url(#filter2_d_351_120552)"},W.createElement("rect",{x:"132.977",y:"13.321",width:"30.6241",height:"30.6241",fill:"#FFD45B"}),W.createElement("rect",{x:"133.149",y:"13.4931",width:"30.28",height:"30.28",stroke:"black",strokeWidth:"0.344091"})),W.createElement("rect",{x:"137.109",y:"17.4517",width:"22.0218",height:"4.12909",fill:"black",fillOpacity:"0.2"}),W.createElement("rect",{x:"137.109",y:"23.3",width:"19.2691",height:"4.12909",fill:"black",fillOpacity:"0.2"}),W.createElement("rect",{x:"27.172",y:"7.98674",width:"141.765",height:"41.2909",stroke:"black",strokeWidth:"0.344091"}),W.createElement("rect",{x:"27.172",y:"55.1305",width:"141.765",height:"41.2909",fill:"#BDE3FF"}),W.createElement("g",{filter:"url(#filter3_d_351_120552)"},W.createElement("rect",{x:"32.5081",y:"60.4646",width:"26.8391",height:"30.6241",fill:"white"}),W.createElement("rect",{x:"32.6801",y:"60.6366",width:"26.495",height:"30.28",stroke:"black",strokeWidth:"0.344091"})),W.createElement("rect",{x:"35.4333",y:"63.0461",width:"20.9895",height:"18.5809",fill:"#F5F5F5",stroke:"black",strokeWidth:"0.344091"}),W.createElement("g",{filter:"url(#filter4_d_351_120552)"},W.createElement("rect",{x:"63.4768",y:"60.4646",width:"30.6241",height:"30.6241",fill:"#FFD45B"}),W.createElement("rect",{x:"63.6489",y:"60.6366",width:"30.28",height:"30.28",stroke:"black",strokeWidth:"0.344091"})),W.createElement("rect",{x:"67.6057",y:"64.5955",width:"22.0218",height:"4.12909",fill:"black",fillOpacity:"0.2"}),W.createElement("rect",{x:"67.6057",y:"70.4438",width:"19.2691",height:"4.12909",fill:"black",fillOpacity:"0.2"}),W.createElement("g",{filter:"url(#filter5_d_351_120552)"},W.createElement("rect",{x:"98.2268",y:"60.4646",width:"30.6241",height:"30.6241",fill:"#FFD45B"}),W.createElement("rect",{x:"98.3989",y:"60.6366",width:"30.28",height:"30.28",stroke:"black",strokeWidth:"0.344091"})),W.createElement("rect",{x:"102.355",y:"64.5955",width:"22.0218",height:"4.12909",fill:"black",fillOpacity:"0.2"}),W.createElement("rect",{x:"102.355",y:"70.4438",width:"19.2691",height:"4.12909",fill:"black",fillOpacity:"0.2"}),W.createElement("g",{clipPath:"url(#clip0_351_120552)"},W.createElement("path",{d:"M52.4628 72.139C52.4653 75.5713 50.0667 78.5645 46.8075 79.1817C46.4186 79.2545 45.9344 79.3649 45.4652 79.3423C43.9397 79.2746 42.7856 78.9007 41.6465 77.9398C40.0834 76.6175 39.3433 74.8813 39.3884 72.8616C39.4461 70.2497 40.5727 68.1497 42.8057 66.7597C44.8831 65.4651 47.0785 65.3396 49.2663 66.5113C51.2635 67.5801 52.4603 69.7429 52.4628 72.139ZM51.8631 72.2494C51.8631 72.1992 51.8606 72.149 51.8556 72.0988C51.8105 71.7074 51.7804 71.3135 51.7101 70.9297C51.1732 67.9741 48.4785 65.9945 45.558 66.3959C41.215 66.993 38.6809 72.1214 40.816 75.9527C41.9451 77.9774 44.5018 79.0864 46.4563 78.705C49.5423 78.1029 51.7879 75.3906 51.8631 72.2494Z",fill:"black"}),W.createElement("path",{d:"M42.6576 74.7006C44.424 75.9777 47.5 76.2537 49.0179 74.3719C49.038 74.3468 49.0581 74.3268 49.0506 74.3217C48.9778 74.1812 48.7495 74.0081 48.9276 73.8551C49.1108 73.697 49.2563 73.8952 49.3767 74.0156C49.5524 74.1913 49.7305 74.3694 49.876 74.5701C49.9362 74.6554 50.0767 74.7934 49.9362 74.9139C49.8158 75.0318 49.7054 74.9716 49.5624 74.8637C49.5047 74.821 49.442 74.7658 49.4018 74.7332C49.2061 74.9139 49.033 75.0895 48.8448 75.2501C47.7384 76.196 46.4387 76.4067 45.0512 76.1884C44.0827 76.0354 43.1895 75.6741 42.4092 75.0594C42.3867 75.0418 42.3089 74.959 42.2738 74.9565C42.2035 74.9515 42.1859 74.9992 42.0931 75.0318C42.0279 75.0544 41.9902 75.1221 41.8598 74.9841C41.7519 74.8737 41.8272 74.7583 41.8773 74.7182C42.1408 74.5074 42.4193 74.3142 42.7053 74.1336C42.758 74.101 42.8784 74.0734 42.9386 74.1787C43.0039 74.2916 42.9437 74.3518 42.9035 74.4146C42.8433 74.5074 42.7505 74.5827 42.6551 74.6755C42.6526 74.6855 42.6526 74.6956 42.6576 74.7006Z",fill:"black"}),W.createElement("path",{d:"M49.5523 72.5779C49.5824 72.5804 49.6151 72.5729 49.6427 72.5603C49.8384 72.4575 49.8308 72.1639 49.8308 71.9858C49.8283 71.6094 49.7832 71.2958 49.7807 70.9345C49.7807 70.7865 49.7731 70.6284 49.8133 70.4904C49.8384 70.4051 49.9488 70.2972 50.0265 70.2922C50.1043 70.2872 50.2247 70.3223 50.2624 70.4603C50.4054 71.0549 50.4104 71.8403 50.3025 72.3496C50.2122 72.7786 49.8308 72.9894 49.5047 72.9919C49.1509 72.9944 48.762 72.7385 48.6566 72.3044C48.5437 71.8377 48.5362 71.3435 48.486 70.8617C48.4835 70.8341 48.4835 70.7438 48.486 70.7162C48.5061 70.5481 48.5663 70.4528 48.7821 70.4653C48.9401 70.4703 48.9853 70.6962 49.0154 70.8266C49.0681 71.0574 49.0505 71.3033 49.0907 71.5392C49.1534 71.898 49.191 72.5528 49.5523 72.5779Z",fill:"black"}),W.createElement("path",{d:"M42.7832 70.9848C42.7983 70.8819 42.7807 70.7339 42.989 70.7013C43.1721 70.6737 43.2549 70.8593 43.2625 70.9471C43.3051 71.4414 43.3528 71.9407 43.3126 72.4325C43.275 72.8891 42.866 73.273 42.4972 73.3181C42.0732 73.3708 41.604 73.1124 41.4635 72.6257C41.333 72.1765 41.2778 71.6396 41.2804 71.2206C41.2804 71.1504 41.3029 71.0174 41.4309 70.9973C41.594 70.9622 41.6316 71.1077 41.6542 71.1855C41.7495 71.4991 41.7972 71.8253 41.8951 72.1389C41.9528 72.3246 42.0456 72.5128 42.1685 72.6583C42.3693 72.8941 42.6327 72.849 42.713 72.5529C42.7908 72.2619 42.7506 71.198 42.7832 70.9848Z",fill:"black"})),W.createElement("path",{d:"M97.2147 88.2858L97.2147 88.2858L95.4155 90.1223L95.8404 92.7175C95.8404 92.7175 95.8404 92.7175 95.8404 92.7175C95.9069 93.1235 95.4922 93.4743 95.107 93.2618L92.891 92.0416L90.675 93.2618L90.6749 93.2619L97.2147 88.2858ZM97.2147 88.2858C97.5016 87.9928 97.3551 87.4674 96.9341 87.4033L97.2147 88.2858ZM90.3664 90.1223L89.9415 92.7175L92.4384 84.6696L92.4383 84.6698C92.4383 84.6698 92.4383 84.6698 92.4382 84.6699L91.3279 87.0259L88.8479 87.4033C88.8479 87.4033 88.8479 87.4033 88.8479 87.4033C88.4269 87.4674 88.2803 87.9928 88.5673 88.2858L88.5673 88.2858L90.3664 90.1223Z",fill:"#FFC700",stroke:"black",strokeWidth:"0.344091"}),W.createElement("rect",{x:"27.172",y:"55.1305",width:"141.765",height:"41.2909",stroke:"black",strokeWidth:"0.344091"}),W.createElement("rect",{x:"27.172",y:"103.172",width:"141.765",height:"41.2909",fill:"#93E396"}),W.createElement("g",{filter:"url(#filter6_d_351_120552)"},W.createElement("rect",{x:"32.5081",y:"108.506",width:"26.8391",height:"30.6241",fill:"white"}),W.createElement("rect",{x:"32.6801",y:"108.678",width:"26.495",height:"30.28",stroke:"black",strokeWidth:"0.344091"})),W.createElement("rect",{x:"35.4333",y:"111.088",width:"20.9895",height:"18.5809",fill:"#F5F5F5",stroke:"black",strokeWidth:"0.344091"}),W.createElement("g",{clipPath:"url(#clip1_351_120552)"},W.createElement("path",{d:"M45.5755 113.495C47.3906 113.521 48.8594 114.261 50.2344 115.453C53.0677 117.912 53.2735 123.865 48.8125 126.552C45.7344 128.406 41.6458 127.526 39.6719 124.149C37.4896 120.417 39.2214 115.445 43.2344 113.925C43.987 113.638 44.7656 113.487 45.5755 113.495ZM51.6276 119.922C51.6693 118.594 51 117.055 49.8333 115.844C48.3386 114.294 46.4115 113.763 44.2891 114.255C40.3828 115.156 38.263 119.57 39.9349 123.261C41.1172 125.87 43.8958 127.331 46.5521 126.74C49.5443 126.073 51.6406 123.435 51.6276 119.922Z",fill:"black"}),W.createElement("path",{d:"M50.0078 122C49.2031 124.023 47.7682 125.206 45.5989 125.232C43.7396 125.253 42.3724 124.333 41.5417 122.617C41.4896 122.641 41.4271 122.672 41.3672 122.693C41.2812 122.724 41.2318 122.745 41.1536 122.646C41.1172 122.599 41.0599 122.516 41.1667 122.43C41.4297 122.213 41.7135 122.026 42 121.846C42.0443 121.818 42.1484 121.815 42.2083 121.906C42.2734 122.008 42.2318 122.073 42.1927 122.125C42.1198 122.221 42.0156 122.294 41.9114 122.385C42.9062 123.909 44.2318 124.825 46.1276 124.635C47.7995 124.469 49.0443 123.229 49.5 121.768C49.5208 121.703 49.4479 121.656 49.3776 121.57C49.2604 121.432 49.1797 121.409 49.3125 121.187C49.4088 121.049 49.5573 121.13 49.6432 121.174C49.9167 121.318 50.1875 121.476 50.4271 121.669C50.5208 121.745 50.6927 121.857 50.5807 122.057C50.4766 122.26 50.3333 122.128 50.1641 122.078C50.1172 122.057 50.0703 122.029 50.0078 122Z",fill:"black"}),W.createElement("path",{d:"M42.5313 117.878C42.6797 117.638 42.8412 117.448 43.1354 117.508C43.4167 117.565 43.5313 117.81 43.5339 118.036C43.5417 118.484 43.5339 118.945 43.4349 119.38C43.3334 119.828 43.125 120.255 42.9401 120.68C42.8099 120.979 42.6042 121.039 42.3802 120.82C41.6615 120.112 41.2266 119.263 41.2735 118.226C41.2865 117.932 41.4453 117.69 41.7396 117.591C42.0573 117.484 42.3021 117.63 42.5313 117.878ZM43.1094 117.927C43.1094 117.927 43.0521 117.844 42.9558 117.872C42.8828 117.867 42.8021 118.177 42.7552 118.341C42.711 118.495 42.7188 118.607 42.6094 118.625C42.4349 118.641 42.4479 118.492 42.375 118.419C42.3412 118.383 42.1771 117.919 41.9427 118.005C41.7917 118.06 41.7839 118.281 41.7917 118.414C41.8282 119.088 42.1354 119.667 42.5 120.286C42.8334 119.487 43.3308 118.414 43.1094 117.927Z",fill:"black"}),W.createElement("path",{d:"M48.4791 117.661C48.6692 117.555 48.8489 117.463 49.026 117.5C49.289 117.555 49.3411 117.831 49.3645 118.07C49.44 118.833 49.1093 119.479 48.7525 120.115C48.6718 120.258 48.5572 120.383 48.4817 120.531C48.2656 120.953 47.8932 120.875 47.6874 120.513C47.2578 119.75 47.013 118.911 47.0911 118.018C47.1197 117.677 47.2473 117.352 47.6249 117.263C48.0052 117.169 48.3359 117.409 48.4791 117.661ZM48.0104 120.148C48.0494 120.333 48.0885 120.19 48.1249 120.154C48.3854 119.763 48.6484 119.372 48.802 118.943C48.9218 118.607 49.2369 117.755 48.9062 117.841C48.8255 117.846 48.7421 118.094 48.6718 118.219C48.6145 118.318 48.4973 118.476 48.4479 118.484C48.2578 118.49 48.2812 118.318 48.2447 118.219C48.1588 117.995 48.1666 117.643 47.8463 117.685C47.5286 117.726 47.565 118.078 47.6067 118.307C47.7161 118.924 47.8723 119.536 48.0104 120.148Z",fill:"black"})),W.createElement("g",{filter:"url(#filter7_d_351_120552)"},W.createElement("rect",{x:"63.4768",y:"108.506",width:"30.6241",height:"30.6241",fill:"#FFD45B"}),W.createElement("rect",{x:"63.6489",y:"108.678",width:"30.28",height:"30.28",stroke:"black",strokeWidth:"0.344091"})),W.createElement("rect",{x:"67.6057",y:"112.637",width:"22.0218",height:"4.12909",fill:"black",fillOpacity:"0.2"}),W.createElement("rect",{x:"67.6057",y:"118.485",width:"19.2691",height:"4.12909",fill:"black",fillOpacity:"0.2"}),W.createElement("g",{filter:"url(#filter8_d_351_120552)"},W.createElement("rect",{x:"98.2268",y:"108.506",width:"30.6241",height:"30.6241",fill:"#FFD45B"}),W.createElement("rect",{x:"98.3989",y:"108.678",width:"30.28",height:"30.28",stroke:"black",strokeWidth:"0.344091"})),W.createElement("rect",{x:"102.355",y:"112.637",width:"22.0218",height:"4.12909",fill:"black",fillOpacity:"0.2"}),W.createElement("rect",{x:"102.355",y:"118.485",width:"19.2691",height:"4.12909",fill:"black",fillOpacity:"0.2"}),W.createElement("g",{filter:"url(#filter9_d_351_120552)"},W.createElement("rect",{x:"134",y:"108.506",width:"30.6241",height:"30.6241",fill:"#FFD45B"}),W.createElement("rect",{x:"134.172",y:"108.678",width:"30.28",height:"30.28",stroke:"black",strokeWidth:"0.344091"})),W.createElement("rect",{x:"138.129",y:"112.637",width:"22.0218",height:"4.12909",fill:"black",fillOpacity:"0.2"}),W.createElement("rect",{x:"138.129",y:"118.485",width:"19.2691",height:"4.12909",fill:"black",fillOpacity:"0.2"}),W.createElement("rect",{x:"27.172",y:"103.172",width:"141.765",height:"41.2909",stroke:"black",strokeWidth:"0.344091"}),W.createElement("path",{d:"M163.058 5.32444L163.144 5.46819L163.29 5.38648L163.93 5.02854C164.401 4.76472 164.965 4.6956 165.497 4.83787C166.028 4.98013 166.482 5.32166 166.759 5.78594C167.036 6.25002 167.113 6.7986 166.976 7.31116C166.839 7.82371 166.498 8.26021 166.026 8.52392L166.026 8.52399L165.449 8.84723L165.449 8.84732L161.674 10.9565L159.121 6.67356C158.844 6.20954 158.767 5.66108 158.904 5.1487C159.041 4.63631 159.382 4.20002 159.854 3.93649C160.326 3.67286 160.889 3.60389 161.421 3.74625C161.952 3.8886 162.406 4.23014 162.682 4.69436L163.058 5.32444Z",fill:"#F24E1E",stroke:"black",strokeWidth:"0.344091"}),W.createElement("g",{clipPath:"url(#clip2_351_120552)"},W.createElement("path",{d:"M50.4871 107.641C48.8069 109.488 47.7973 109.61 46.2305 108.164C44.1148 111.157 42.1849 111.774 39.8514 110.153C39.3857 111.079 38.7655 112.239 37.5921 112.305C36.4645 112.372 35.5675 111.561 35.5655 111.477C35.4727 112.106 34.6737 113.559 33.4639 113.686C32.2099 113.819 31.2714 113.252 30.5935 112.255C29.723 110.962 29.5512 109.451 29.3703 107.956C29.191 106.467 29.0468 104.962 28.982 103.463C28.9502 102.678 29.0635 101.875 29.1937 101.087C29.2925 100.431 29.6597 99.9338 30.3896 99.8121C31.1194 99.6905 31.6381 100.065 31.9285 100.641C32.3488 101.47 32.6502 102.369 32.9353 103.077C33.2923 102.692 33.636 101.824 34.3226 101.609C35.0214 101.392 35.4604 101.455 36.3429 102.413C36.466 102.004 36.5602 101.635 36.6897 101.277C36.8358 100.882 36.9849 100.473 37.1984 100.113C37.8619 99.0194 38.6917 99.0087 39.483 100.068C41.3417 97.8755 42.7542 97.6508 45.017 99.1989C45.1976 98.6844 45.3353 98.1548 45.5664 97.6599C45.9532 96.8325 46.466 96.1419 47.5332 96.2202C48.4276 96.284 49.1693 96.9204 49.4516 97.9734C49.6358 98.6678 49.71 99.3903 49.8425 100.137C50.3717 99.6633 50.906 99.2599 51.6015 99.843C51.9154 98.8326 52.1853 97.879 52.518 96.9418C52.6775 96.4977 52.9121 96.067 53.1866 95.691C53.8238 94.8256 54.8328 94.8797 55.2722 95.86C55.5988 96.6025 55.8035 97.4282 55.8874 98.2393C56.1186 100.567 56.1084 102.892 55.4407 105.164C55.1061 106.296 54.4433 107.24 53.5059 107.974C52.1712 109.011 51.4815 108.934 50.4871 107.641ZM39.1546 101.785C39.0891 101.528 38.9628 100.247 38.431 100.253C38.0747 100.207 37.9209 100.878 37.8281 101.226C37.5065 102.512 37.3242 103.834 36.9597 105.104C36.8457 105.497 36.6329 105.708 36.3764 105.748C36.1323 105.836 36.0697 105.286 36.0118 105.034C35.8691 104.375 35.8318 103.695 35.6418 103.054C35.5686 102.793 35.455 102.425 34.9767 102.437C34.7887 102.44 34.5019 102.539 34.3083 102.901C34.0965 103.293 33.9031 103.707 33.7862 104.14C33.5734 104.91 33.4662 105.712 33.2259 106.475C33.1403 106.751 33.0228 107.08 32.747 107.222C32.492 107.268 32.2728 107.149 32.1872 106.305C32.1341 105.818 32.0887 105.335 32.0157 104.847C31.8459 103.7 31.6608 102.544 31.3612 101.424C31.2831 101.119 31.078 100.495 30.4631 100.684C29.8482 100.874 29.9096 101.47 29.9595 101.945C29.9644 101.989 29.9784 102.044 29.9848 102.095C30.134 103.39 30.2893 104.683 30.4324 105.98C30.6126 107.625 30.698 109.282 30.9957 110.903C31.2384 112.233 32.1254 112.904 33.1276 112.829C34.0977 112.757 34.5588 112.118 34.7112 110.629C34.7807 109.935 34.8013 109.227 34.9106 108.536C34.9416 108.326 35.0266 107.947 35.3415 107.957C35.6613 108.012 35.7028 108.352 35.753 108.574C35.8707 109.136 35.8113 109.743 36.0098 110.264C36.1478 110.626 36.541 110.993 36.9117 111.146C37.3912 111.342 37.9451 111.194 38.2282 110.698C38.5189 110.182 38.8062 109.627 38.9192 109.052C39.3781 106.599 39.4945 104.13 39.1546 101.785ZM50.8522 100.321C50.6149 100.258 50.3557 100.923 50.2715 101.178C50.0578 101.792 49.9284 102.43 49.7147 103.044C49.647 103.237 49.5064 103.527 49.2543 103.533C48.9942 103.482 48.9645 103.366 48.8893 103.021C48.8485 102.837 48.8275 102.628 48.8218 102.427C48.7926 101.55 48.8153 100.673 48.7357 99.8021C48.6756 99.1606 48.5757 98.4902 48.3279 97.9031C48.1793 97.5509 47.7245 97.1208 47.3882 97.1028C47.0656 97.0877 46.6017 97.4861 46.4018 97.8234C46.0823 98.38 45.9086 99.0228 45.7102 99.6459C45.6547 99.8358 45.6715 100.105 45.7672 100.275C46.8416 102.238 46.9952 104.339 46.6722 106.483C46.563 107.2 46.9941 107.487 47.413 107.803C47.8581 108.144 48.4053 108.147 48.8005 107.76C49.2155 107.348 49.5459 106.834 49.8595 106.331C50.0246 106.061 50.0502 105.703 50.206 105.423C50.2847 105.273 50.5023 105.107 50.6476 105.115C50.7592 105.119 50.9256 105.362 50.9616 105.529C51.0227 105.793 50.986 106.082 51.0211 106.346C51.1198 107.062 51.2231 107.517 51.6431 107.735C51.8624 107.881 52.5903 107.395 52.9417 107.091C54.0901 106.088 54.7064 104.76 54.7639 103.255C54.8461 101.237 54.8412 99.2094 54.7797 97.1893C54.7667 96.7568 54.7833 95.881 54.1461 95.9074C53.7619 95.8041 53.4068 96.5518 53.3005 96.9498C52.8868 98.4345 52.594 99.9599 52.2232 101.46C52.1499 101.758 52.0432 102.358 51.7501 102.433C51.4493 102.477 51.3007 102.405 51.1703 101.488C51.1212 101.169 51.1439 100.292 50.8522 100.321ZM45.4285 102.079C45.2305 101.635 45.0085 100.996 44.6721 100.419C43.5398 98.484 41.2245 98.5104 40.1057 100.468C39.9544 100.741 39.8878 101.142 39.9537 101.45C40.4517 103.651 40.4271 105.869 40.2406 108.089C40.1474 109.225 40.646 109.852 41.8126 109.938C43.2636 110.041 44.5426 109.168 45.2218 107.602C45.9719 105.856 45.931 103.407 45.4285 102.079Z",fill:"black"}),W.createElement("path",{d:"M59.6396 92.9477C59.6565 93.5223 59.7124 95.0885 59.7076 96.163C59.6942 97.6363 59.661 99.1083 59.5957 100.582C59.5728 101.154 59.472 101.726 59.3543 102.283C59.2411 102.806 58.8621 103.105 58.3303 103.111C57.7603 103.12 57.3065 102.872 57.0987 102.313C57.001 102.059 56.917 101.781 56.9124 101.509C56.9306 98.9612 57.0382 96.5596 57.0869 94.004C57.0898 93.6845 57.1071 93.2183 57.1818 92.9C57.328 92.2512 57.6344 91.8216 58.4066 91.8907C59.0794 91.9528 59.6227 92.3732 59.6396 92.9477ZM58.2221 102.332C58.2955 102.339 58.3705 102.352 58.4373 102.283C58.5789 102.175 58.5611 102.004 58.5634 101.861C58.6363 98.9672 58.7107 96.0798 58.7514 93.1879C58.7564 92.9785 58.7327 92.5553 58.3965 92.5632C57.9562 92.5458 58.0021 93.3861 57.9966 93.7713C57.9589 96.3956 57.9427 99.0275 57.9433 101.649C57.9446 101.882 57.9833 102.263 58.2221 102.332Z",fill:"black"}),W.createElement("path",{d:"M59.9054 105.251C60.1529 106.345 59.539 107.276 58.6658 107.474C57.8782 107.649 57.0496 107.055 56.8431 106.171C56.6145 105.176 57.0259 104.394 57.9922 104.179C58.8348 103.99 59.7065 104.372 59.9054 105.251ZM57.6513 105.847C57.8325 106.555 58.3501 106.468 58.4661 106.438C58.8092 106.305 59.0463 106.062 58.7828 105.388C58.71 105.205 58.5347 105.003 58.249 105.031C57.696 105.081 57.5609 105.519 57.6513 105.847Z",fill:"black"}),W.createElement("path",{d:"M42.9659 102.547C42.9771 102.921 43.0739 105.537 43.0732 107.085C43.0759 107.299 42.9866 107.738 42.5969 107.74C42.2333 107.768 42.0919 107.343 42.0754 107.126C41.9862 105.607 41.9396 104.078 41.9404 102.555C41.9392 102.322 42.0882 101.913 42.4165 101.848C42.8885 101.812 42.9547 102.172 42.9659 102.547Z",fill:"black"})),W.createElement("g",{filter:"url(#filter10_d_351_120552)",className:q()(RY,Rq)},W.createElement("rect",{x:"132.649",y:"60.1077",width:"30.6241",height:"30.6241",fill:"#FFD45B"}),W.createElement("rect",{x:"132.821",y:"60.2797",width:"30.28",height:"30.28",stroke:"black",strokeWidth:"0.344091"})),W.createElement("rect",{x:"136.782",y:"64.2385",width:"22.0218",height:"4.12909",fill:"black",fillOpacity:"0.2",className:q()(RY,Rq)}),W.createElement("rect",{x:"136.782",y:"70.0869",width:"19.2691",height:"4.12909",fill:"black",fillOpacity:"0.2",className:q()(RY,Rq)}),W.createElement("g",{filter:"url(#filter11_d_351_120552)",className:q()(RY,Rz)},W.createElement("rect",{x:"32.7107",y:"12.5178",width:"26.8391",height:"30.6241",fill:"white"}),W.createElement("rect",{x:"32.8827",y:"12.6899",width:"26.495",height:"30.28",stroke:"black",strokeWidth:"0.344091"})),W.createElement("rect",{x:"35.6359",y:"15.0993",width:"20.9895",height:"18.5809",fill:"#F5F5F5",stroke:"black",strokeWidth:"0.344091",className:q()(RY,Rz)}),W.createElement("path",{className:q()(RY,Rz),d:"M40.2485 22.3512C41.0198 21.4451 41.8657 20.5791 42.8005 19.8422C43.4514 19.3289 43.6751 19.3031 44.0335 19.2056C44.131 19.1798 44.217 19.1196 44.3002 19.0594C47.7898 16.5963 52.2372 18.3425 53.0974 22.6896C53.668 25.5742 52.1971 28.4387 49.668 29.6086C49.6278 29.6287 49.5676 29.6345 49.5476 29.666C49.0458 30.4517 48.025 30.7556 47.4027 30.9105C47.2766 30.9563 47.1791 31.0882 47.0644 31.1743C46.9755 31.2402 46.8866 31.3119 46.7862 31.3578C43.4973 32.8832 39.9618 30.8416 39.1876 27.4638C39.0786 26.9878 38.5997 24.1147 40.2485 22.3512ZM47.0988 29.4251C48.2716 29.4194 49.0372 29.2273 49.7225 28.8516C53.02 27.0423 53.5132 22.1275 50.6114 19.7275C48.9483 18.354 46.8206 18.1217 44.9511 19.4379C42.7288 21.0006 41.9231 24.2036 43.1675 26.6237C44.0622 28.3642 45.4816 29.3248 47.0988 29.4251ZM48.2199 30.1678C48.3633 30.1162 48.3834 30.0789 48.3604 30.0617C48.3604 30.0617 48.3002 30.0617 48.1999 30.0646C45.6192 30.2596 43.6779 29.233 42.5281 26.919C41.4041 24.6595 41.6765 22.4401 43.0041 20.3153C42.898 20.3669 42.812 20.43 42.7346 20.5017C40.9453 22.1218 40.4177 24.8659 41.45 27.2115C42.4019 29.3764 44.4005 30.661 46.6486 30.5004C47.1762 30.4631 47.6952 30.2825 48.2199 30.1678ZM40.6413 22.7297C40.6442 22.6465 40.5668 22.7498 40.5553 22.7641C40.5152 22.8186 40.475 22.8759 40.4406 22.9333C39.9675 23.7304 39.6722 24.5935 39.632 25.5197C39.5374 27.6301 40.2772 29.3793 42.0636 30.5721C43.2507 31.3664 44.5697 31.5298 45.9489 31.0997C43.9331 30.8961 42.3618 29.9613 41.3009 28.2352C40.2399 26.5147 40.0707 24.6681 40.6413 22.7297Z",fill:"black"}),W.createElement("path",{className:q()(RY,Rz),d:"M49.2781 24.5675C49.6738 24.5819 49.8028 24.7883 49.6738 25.1611C49.3526 26.0787 48.4494 26.526 47.529 26.2048C46.9841 26.0127 46.5569 25.6629 46.2616 25.164C46.035 24.7797 46.1354 24.5589 46.5798 24.5303C47.0444 24.4987 48.8451 24.5503 49.2781 24.5675ZM49.1892 25.0149C48.3978 25.0149 47.6265 25.0149 46.8465 25.0149C47.6379 25.9353 48.8078 25.9525 49.1892 25.0149Z",fill:"black"}),W.createElement("path",{className:q()(RY,Rz),d:"M46.0523 22.9417C46.0552 23.389 45.625 23.7962 45.1548 23.7933C44.7447 23.7905 44.458 23.4206 44.4551 23.0277C44.4494 22.6349 44.8508 22.2478 45.2924 22.2363C45.7168 22.222 46.0523 22.5317 46.0523 22.9417ZM45.1921 22.6578C44.9799 22.6922 44.9139 22.893 44.9311 23.0449C44.9541 23.2657 45.1204 23.3202 45.2236 23.3231C45.3211 23.3259 45.5132 23.2284 45.5534 23.0392C45.605 22.8471 45.496 22.5861 45.1921 22.6578Z",fill:"black"}),W.createElement("path",{className:q()(RY,Rz),d:"M51.5318 23.0622C51.5261 23.4952 51.2193 23.8135 50.8092 23.8106C50.3676 23.8077 50.0494 23.4493 50.0637 22.9704C50.0752 22.5547 50.3848 22.2335 50.7691 22.2421C51.1677 22.2536 51.5376 22.6493 51.5318 23.0622ZM51.1361 23.0507C51.1361 22.8299 51.0185 22.6808 50.835 22.6808C50.7232 22.6808 50.534 22.7669 50.534 23.002C50.534 23.412 50.835 23.3891 50.835 23.3891C50.9956 23.3833 51.1361 23.3174 51.1361 23.0507Z",fill:"black"}),W.createElement("defs",null,W.createElement("filter",{id:"filter0_d_351_120552",x:"63.4768",y:"13.321",width:"31.3122",height:"31.3122",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},W.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),W.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),W.createElement("feOffset",{dx:"0.688182",dy:"0.688182"}),W.createElement("feComposite",{in2:"hardAlpha",operator:"out"}),W.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"}),W.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_351_120552"}),W.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_351_120552",result:"shape"})),W.createElement("filter",{id:"filter1_d_351_120552",x:"98.2268",y:"13.321",width:"31.3122",height:"31.3122",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},W.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),W.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),W.createElement("feOffset",{dx:"0.688182",dy:"0.688182"}),W.createElement("feComposite",{in2:"hardAlpha",operator:"out"}),W.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"}),W.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_351_120552"}),W.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_351_120552",result:"shape"})),W.createElement("filter",{id:"filter2_d_351_120552",x:"132.977",y:"13.321",width:"31.3122",height:"31.3122",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},W.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),W.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),W.createElement("feOffset",{dx:"0.688182",dy:"0.688182"}),W.createElement("feComposite",{in2:"hardAlpha",operator:"out"}),W.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"}),W.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_351_120552"}),W.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_351_120552",result:"shape"})),W.createElement("filter",{id:"filter3_d_351_120552",x:"32.5081",y:"60.4646",width:"27.5273",height:"31.3122",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},W.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),W.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),W.createElement("feOffset",{dx:"0.688182",dy:"0.688182"}),W.createElement("feComposite",{in2:"hardAlpha",operator:"out"}),W.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"}),W.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_351_120552"}),W.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_351_120552",result:"shape"})),W.createElement("filter",{id:"filter4_d_351_120552",x:"63.4768",y:"60.4646",width:"31.3122",height:"31.3122",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},W.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),W.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),W.createElement("feOffset",{dx:"0.688182",dy:"0.688182"}),W.createElement("feComposite",{in2:"hardAlpha",operator:"out"}),W.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"}),W.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_351_120552"}),W.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_351_120552",result:"shape"})),W.createElement("filter",{id:"filter5_d_351_120552",x:"98.2268",y:"60.4646",width:"31.3122",height:"31.3122",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},W.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),W.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),W.createElement("feOffset",{dx:"0.688182",dy:"0.688182"}),W.createElement("feComposite",{in2:"hardAlpha",operator:"out"}),W.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"}),W.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_351_120552"}),W.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_351_120552",result:"shape"})),W.createElement("filter",{id:"filter6_d_351_120552",x:"32.5081",y:"108.506",width:"27.5273",height:"31.3122",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},W.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),W.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),W.createElement("feOffset",{dx:"0.688182",dy:"0.688182"}),W.createElement("feComposite",{in2:"hardAlpha",operator:"out"}),W.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"}),W.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_351_120552"}),W.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_351_120552",result:"shape"})),W.createElement("filter",{id:"filter7_d_351_120552",x:"63.4768",y:"108.506",width:"31.3122",height:"31.3122",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},W.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),W.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),W.createElement("feOffset",{dx:"0.688182",dy:"0.688182"}),W.createElement("feComposite",{in2:"hardAlpha",operator:"out"}),W.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"}),W.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_351_120552"}),W.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_351_120552",result:"shape"})),W.createElement("filter",{id:"filter8_d_351_120552",x:"98.2268",y:"108.506",width:"31.3122",height:"31.3122",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},W.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),W.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),W.createElement("feOffset",{dx:"0.688182",dy:"0.688182"}),W.createElement("feComposite",{in2:"hardAlpha",operator:"out"}),W.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"}),W.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_351_120552"}),W.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_351_120552",result:"shape"})),W.createElement("filter",{id:"filter9_d_351_120552",x:"134",y:"108.506",width:"31.3122",height:"31.3122",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},W.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),W.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),W.createElement("feOffset",{dx:"0.688182",dy:"0.688182"}),W.createElement("feComposite",{in2:"hardAlpha",operator:"out"}),W.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"}),W.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_351_120552"}),W.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_351_120552",result:"shape"})),W.createElement("filter",{id:"filter10_d_351_120552",x:"132.649",y:"60.1077",width:"31.3122",height:"31.3122",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},W.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),W.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),W.createElement("feOffset",{dx:"0.688182",dy:"0.688182"}),W.createElement("feComposite",{in2:"hardAlpha",operator:"out"}),W.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"}),W.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_351_120552"}),W.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_351_120552",result:"shape"})),W.createElement("filter",{id:"filter11_d_351_120552",x:"32.7107",y:"12.5178",width:"27.5273",height:"31.3122",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},W.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),W.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),W.createElement("feOffset",{dx:"0.688182",dy:"0.688182"}),W.createElement("feComposite",{in2:"hardAlpha",operator:"out"}),W.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"}),W.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_351_120552"}),W.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_351_120552",result:"shape"})),W.createElement("clipPath",{id:"clip0_351_120552"},W.createElement("rect",{width:"14.4518",height:"14.4518",fill:"white",transform:"translate(38.6985 65.2793)"})),W.createElement("clipPath",{id:"clip1_351_120552"},W.createElement("rect",{width:"15",height:"15",fill:"white",transform:"translate(38 113)"})),W.createElement("clipPath",{id:"clip2_351_120552"},W.createElement("rect",{width:"36.296",height:"36.296",fill:"white",transform:"translate(23 89.9951) rotate(-14.3491)"}))))}var R5=n(962868);let R3="browse_templates_make_something_onboarding--faded--UuXrP",R4="loadingMakeSomethingTemplate",R6=e=>{let t=(0,ei.my)(Rw.kv),{name:n}=(0,tg.U1)(),a=(0,Y.OY)(),[r,l]=(0,W.useState)(R5.sx.NONE),i=(0,W.useCallback)(e=>{a(RT.v0({isActive:e}))},[a]);(0,W.useEffect)(()=>(i(!0),()=>{i(!1)}),[i]);let o=(0,tU.s)();(0,W.useEffect)(()=>{var e;return o&&(null==(e=eM.k5C)||e.setFigjamStarterKitEnabled(!0)),()=>{var e;null==(e=eM.k5C)||e.setFigjamStarterKitEnabled(!1)}},[o]);let s=(0,ei.my)(bW.V3);(0,W.useEffect)(()=>{s({type:"CLOSE"})},[s]);let c=e.onHideModal,d=(0,W.useCallback)(()=>{c(),(0,rd.Y9)({id:R5.mW}),a(tm.s({figjam_browse_templates_modal_onboarding_item_selected:!0})),a(ts.oN()),t(Rw._q.COMPLETED)},[c,a,t]),m=t=>{(!e.shouldAcceptClickUseCaseTile||e.shouldAcceptClickUseCaseTile())&&((0,tb.a2)({trackingContext:n,text:`${t} tile clicked`},"CTA Clicked"),e.onClickUseCaseTile(t))};function u(t,a){var r;(0,tb.a2)({trackingContext:n,text:`${t} tile hovered`},"CTA Hovered"),l(t),null==(r=e.onUseCasePreview)||r.call(e,t,a)}let p=[{headerText:(0,ex.t)("figjam_onboarding_make_something.templates_modal.button_title.brainstorm"),headerIcon:RO.c,previewSvg:e=>W.createElement(R$,{hovered:e}),useCase:R5.sx.BRAINSTORM,previewType:eM.WYk.MAKE_SOMETHING_BRAINSTORM},{headerText:(0,ex.t)("figjam_onboarding_make_something.templates_modal.button_title.team_updates"),headerIcon:RL.c,previewSvg:e=>W.createElement(R2,{hovered:e}),useCase:R5.sx.UPDATES,previewType:eM.WYk.MAKE_SOMETHING_TEAM_UPDATES},{headerText:(0,ex.t)("figjam_onboarding_make_something.templates_modal.button_title.planning_ahead"),headerIcon:RM.c,previewSvg:e=>W.createElement(R1,{hovered:e}),useCase:R5.sx.PLAN,previewType:eM.WYk.MAKE_SOMETHING_PLANNING},{headerText:(0,ex.t)("figjam_onboarding_make_something.templates_modal.button_title.team_chart"),headerIcon:RP.c,previewSvg:e=>W.createElement(R0,{hovered:e}),useCase:R5.sx.TEAM,previewType:eM.WYk.MAKE_SOMETHING_TEAM_CHART}];function _(e,t){let n=p.findIndex(t=>t.useCase===e)+t;return n>p.length-1?n=0:n<0&&(n=p.length-1),n}return{hoveredUseCase:r,setHoveredUseCase:l,onClickCloseButton:()=>{e.onHideModal(),(0,rd.Y9)({id:R5.mW}),t(Rw._q.COMPLETED)},onClickMoreTemplatesButton:()=>{(0,TX.YF)(a,{templateInsertionLocation:e.templateInsertionLocation,triggeredFrom:"makeSomething",onTemplateInsertedCurrentFile:d,onTemplateInsertedNewFile:d,hideModal:()=>{a(ts.oN()),t(Rw._q.COMPLETED)}})},onClickUseCaseTile:m,onUseCasePreview:u,useCaseTiles:p,onListBoxKeydown:function(e){let t;if("Enter"===e.key){r!==R5.sx.NONE&&p.find(({useCase:e})=>e===r)&&m(r);return}if("Home"===e.key)t=0;else if("End"===e.key)t=p.length-1;else if(["ArrowUp","ArrowLeft"].includes(e.key))t=_(r,-1);else{if(!["ArrowDown","ArrowRight"].includes(e.key))return;t=_(r,1)}let n=p[t];l(n.useCase),u(n.useCase,n.previewType)}}},R8={[R5.sx.BRAINSTORM]:R5.CE.BRAINSTORM_TEMPLATE_BUTTON_INTERACTED,[R5.sx.PLAN]:R5.CE.PLANNING_AHEAD_TEMPLATE_BUTTON_INTERACTED,[R5.sx.UPDATES]:R5.CE.TEAM_UPDATES_TEMPLATE_BUTTON_INTERACTED,[R5.sx.TEAM]:R5.CE.TEAM_CHART_TEMPLATE_BUTTON_INTERACTED},R9=({onSuccess:e}={})=>{let t=(0,ei.my)(Rw.kv),n=(0,Y.OY)(),a=(0,sC._o)(),r=(0,tU.s)(),{hubFiles:l,isLoading:i}=(0,Iq.Qb)({templatesShelfType:l0.CW.FIGJAM_SIMPLE_TEMPLATES_PICKER,source:"make-something-v2"}),{insertTemplate:o}=(0,Sv.Y7)(),s=(0,W.useMemo)(()=>{let e={};return Object.keys(l).reduce((e,t)=>{let n=l[t];return e[(0,TG.oF)(n).name.toUpperCase()]=n,e},e),e},[l]),c=r&&!i&&!a;return{insert:(0,W.useCallback)(a=>{if(!c)return;if(a===R5.sx.NONE){null==e||e();return}let r=s[a],l=R8[a];o({template:{template:r,type:Sy.e.HubFile},onSuccess:()=>{null==e||e(),n(ek.A.dequeue({matchType:R4})),(0,rd.Y9)({id:l}),n(tm.s({figjam_browse_templates_modal_onboarding_item_selected:!0})),t(Rw._q.USE_CASE_STEPS),a===R5.sx.PLAN?eM.i46.setCanvasZoomScale(.8):a===R5.sx.TEAM&&eM.i46.setCanvasZoomScale(1.2)},triggeredFrom:"browse-templates-make-something",selectTemplateAfterInsertion:!1}),n(ek.A.enqueue({message:(0,ex.t)("figjam_onboarding_make_something.visual_bell.loading_template"),icon:Rb.mc.SPINNER,type:R4}))},[n,e,o,t,s,c]),canInsert:c}};function R7(e){let t=(0,Y.w1)(e=>{var t,n,a;let r=null==(n=null==(t=null==e?void 0:e.mirror)?void 0:t.appModel)?void 0:n.currentPage,l=null==(a=null==e?void 0:e.mirror)?void 0:a.sceneGraph,i=null==l?void 0:l.get(r);return!i||!i.childrenNodes.length||i.childrenAreAllGhosts}),n=(0,DY.ug)(),a=()=>{var t;null==(t=e.hideModal)||t.call(e)};return!n||t?W.createElement(Fe,{onHideModal:a}):W.createElement(Ft,{onHideModal:a})}function Fe({onHideModal:e}){let[t,n]=(0,W.useState)(!1),a=(0,W.useRef)(!1),{insert:r,canInsert:l}=R9({onSuccess:()=>{a.current=!1}}),{hoveredUseCase:i,setHoveredUseCase:o,onClickCloseButton:s,onClickMoreTemplatesButton:c,onClickUseCaseTile:d,onUseCasePreview:m,useCaseTiles:u,onListBoxKeydown:p}=R6({templateInsertionLocation:TG.AH.CURRENT_FILE,onHideModal:e,onClickUseCaseTile(t){a.current=!0,r(t),e()},onUseCasePreview(e,t){eM.k5C.clearFigjamStarterKitPreview(),eM.k5C.rotateFigjamStarterKitStrings(),eM.k5C.showFigjamStarterKitPreview(t)},shouldAcceptClickUseCaseTile:()=>!a.current});function _(){n(!1),eM.k5C.clearFigjamStarterKitPreview(),o(R5.sx.NONE)}let E=(0,DY.ug)();return l?W.createElement(nO.Y1,{size:"fitContent",className:"browse_templates_make_something_onboarding--modalContainer--tYRC4",backgroundClassName:E?"browse_templates_make_something_onboarding--modalBackgroundWithPassthroughClicks--Lrf3O browse_templates_make_something_onboarding--modalBackground--Cyb7O":"browse_templates_make_something_onboarding--modalBackground--Cyb7O",hide:e,tintedModalBackground:!1,disableClickOutsideToHide:!0,enableEscapeToClose:!0},W.createElement(_4.a,null,W.createElement("div",{className:q()("browse_templates_make_something_onboarding--closeHeader--tGUaS",{[R3]:t})},W.createElement(rW.CA,{onClick:s,trackingEventName:"modal closed"})),W.createElement("div",{className:"browse_templates_make_something_onboarding--makeSomethingContainer--rxr6G"},W.createElement("div",{className:q()("browse_templates_make_something_onboarding--titleContainer--41-OQ",{[R3]:t})},W.createElement("div",{className:"browse_templates_make_something_onboarding--title--OqmHP text--fontPos20Whyte--o3mBO text--_fontBaseWhyte--efAjI"},W.createElement(ex.Tx,{id:"figjam_onboarding_make_something.templates_modal.main_title"})),W.createElement("div",{className:"browse_templates_make_something_onboarding--subtitle--T-kBc text--fontPos14Whyte--pEiDq text--_fontBaseWhyte--efAjI"},W.createElement(ex.Tx,{id:"figjam_onboarding_make_something.templates_modal.main_subtitle"})),W.createElement("div",{className:q()("browse_templates_make_something_onboarding--templateButtonContainer--ey3hb",{[R3]:t})},W.createElement(eT.Uv,{className:q()({"browse_templates_make_something_onboarding--templateButtonParent--4zUAI text--fontPos12Whyte---tkNx text--_fontBaseWhyte--efAjI":!0}),trackingEventName:"more templates click",onClick:c,onFocus:_,autoFocus:!1,tabIndex:0},W.createElement("div",{className:"browse_templates_make_something_onboarding--templateButton--gmFOn"},W.createElement("div",{className:"browse_templates_make_something_onboarding--templateButtonContent--Sl5TE text--fontPos11Whyte--wZDnv text--_fontBaseWhyte--efAjI"},W.createElement(eN.A,{svg:Tz.c,className:"browse_templates_make_something_onboarding--templatesButtonIcon--m4jW4",useOriginalSrcFills_DEPRECATED:!0}),W.createElement("div",{className:"browse_templates_make_something_onboarding--templatesButtonText--CzC6F"},W.createElement(ex.Tx,{id:"figjam_onboarding_make_something.templates_modal.button_title.templates_button"}))))))),W.createElement("div",{"aria-activedescendant":i,"aria-label":(0,ex.t)("figjam_onboarding_make_something.use_case_listbox.aria_label"),"aria-orientation":"horizontal",className:"browse_templates_make_something_onboarding--listItems--57vh3",onKeyDown:p,onMouseEnter:()=>n(!0),onMouseLeave:_,role:"listbox",tabIndex:0},u.map(({headerIcon:e,headerText:t,useCase:n,previewSvg:a,previewType:r})=>W.createElement("div",{tabIndex:-1,role:"option",className:q()("browse_templates_make_something_onboarding--useCaseContainer--nnBm-",{[R3]:![R5.sx.NONE,n].includes(i)}),onFocus:()=>m(n,r),onMouseEnter:()=>m(n,r),onClick:()=>d(n),key:n,"aria-label":t,"aria-selected":i===n,id:`make-something-onboarding-${n}`},W.createElement("div",{className:"browse_templates_make_something_onboarding--useCaseHeader--0ad0i text--fontPos11Whyte--wZDnv text--_fontBaseWhyte--efAjI"},W.createElement(eN.A,{svg:e,height:"28px",width:"28px",autosize:!0,className:"browse_templates_make_something_onboarding--useCaseIcon--0Dqvb",useOriginalSrcFills_DEPRECATED:!0}),t),W.createElement("div",{className:"browse_templates_make_something_onboarding--previewContainer--lohmG"},a(i===n)))))))):null}function Ft({onHideModal:e}){let{shiftPopupUp:t,popupRef:n}=function(){var e;let t=null==(e=(0,RG.O)())?void 0:e.dltContainerNode,n=(0,W.useRef)(null),[a,r]=(0,W.useState)(!1);return(0,W.useLayoutEffect)(()=>{let e=(0,tV.C)(()=>{var e;let a=null==(e=n.current)?void 0:e.getBoundingClientRect(),l=null==t?void 0:t.getBoundingClientRect();a&&l&&r(l.left-a.right<24)},100);return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[t]),{popupRef:n,shiftPopupUp:a}}(),a=(0,Y.OY)(),r=(0,Rx._g)(),{hoveredUseCase:l,setHoveredUseCase:i,onClickCloseButton:o,onClickMoreTemplatesButton:s,onClickUseCaseTile:c,onUseCasePreview:d,useCaseTiles:m,onListBoxKeydown:u}=R6({templateInsertionLocation:TG.AH.NEW_FILE,onHideModal:e,onClickUseCaseTile(e){a(kk.Ah({state:r,from:nh.Uz.FIGJAM_MAKE_SOMETHING_POPUP,editorType:nd.aE.WHITEBOARD,team:void 0,openNewFileIn:nh.mM.NEW_TAB,figjamMakeSomethingUseCase:e}))}});return W.createElement(nO.Y1,{modalRef:n,className:"browse_templates_make_something_onboarding--popupModal--y2117",backgroundClassName:q()("browse_templates_make_something_onboarding--popupBackground--qUE9z",{"browse_templates_make_something_onboarding--popupBackgroundAboveDlt--3VTFo":t}),size:"fitContent",hide:e,tintedModalBackground:!1,disableClickOutsideToHide:!0,enableEscapeToClose:!0},W.createElement(_4.a,null,W.createElement("div",{className:"browse_templates_make_something_onboarding--popupHeader--gqTTZ"},W.createElement("div",{className:"browse_templates_make_something_onboarding--popupTitle--qSiMo text--fontPos14Whyte--pEiDq text--_fontBaseWhyte--efAjI"},W.createElement(ex.Tx,{id:"figjam_onboarding_make_something.popup.title"})),W.createElement(rW.CA,{onClick:o,trackingEventName:"modal closed"})),W.createElement("div",{"aria-activedescendant":l,"aria-label":(0,ex.t)("figjam_onboarding_make_something.use_case_listbox.aria_label"),"aria-orientation":"horizontal",onKeyDown:u,role:"listbox",tabIndex:0},m.map(({headerIcon:e,headerText:t,useCase:n})=>W.createElement("button",{className:q()("browse_templates_make_something_onboarding--popupButton--r5tGZ text--fontPos12Whyte---tkNx text--_fontBaseWhyte--efAjI",{"browse_templates_make_something_onboarding--popupButtonActive--EbHMe":l===n}),tabIndex:-1,role:"option",onFocus:()=>d(n),onBlur:()=>i(R5.sx.NONE),onMouseEnter:()=>d(n),onMouseLeave:()=>i(R5.sx.NONE),onClick:()=>c(n),key:n,"aria-label":t,"aria-selected":l===n,id:`make-something-onboarding-${n}`},W.createElement(eN.A,{className:q()({"browse_templates_make_something_onboarding--brainstormIcon--O0mh5":n===R5.sx.BRAINSTORM}),svg:e,height:n===R5.sx.BRAINSTORM?"16px":"20px",width:n===R5.sx.BRAINSTORM?"16px":"20px",autosize:!0,useOriginalSrcFills_DEPRECATED:!0}),t)),W.createElement(tg.OC,{className:"browse_templates_make_something_onboarding--popupTemplates--aTTD4 text--fontPos12Whyte---tkNx text--_fontBaseWhyte--efAjI",trackingEventName:"more templates click",onFocus:()=>i(R5.sx.NONE),onMouseEnter:()=>i(R5.sx.NONE),onClick:s,tabIndex:0},W.createElement(ex.Tx,{id:"figjam_onboarding_make_something.templates_modal.button_title.templates_button"})))))}function Fn(){let{insert:e,canInsert:t}=R9(),[n,a]=(0,eo.lZ)(Rw.K2),r=(0,W.useRef)(!1);return(0,W.useEffect)(()=>{t&&n!==R5.sx.NONE&&!r.current&&(e(n),r.current=!0)},[n,e,t]),(0,W.useEffect)(()=>()=>a(R5.sx.NONE),[a]),null}R5.S0,uX.GK.SELF_CONTAINED,e=>W.createElement(R7,{hideModal:e.dismissModal});let Fa=`${R5.S0} Templates Toolbar Connector Tooltip`,Fr=`${R5.S0} Templates Toolbar Onboarding Finished Connector Tooltip`;function Fl(e){return W.createElement(i8.ey,{targetType:"dom",targetKey:Tq,topPadding:-6,autoWidth:!0,isBold:!0,arrowPosition:n2.Wp.BOTTOM},W.createElement(RK,{bodyText:W.createElement("span",{className:q()("figjam_onboarding_make_something--tooltipBodyXSmall--qczE6")},W.createElement(ex.Tx,{id:"figjam_onboarding_make_something.templates_toolbar_connector.body_text",boldText:W.createElement("b",null,W.createElement(ex.Tx,{id:"figjam_onboarding_make_something.templates_toolbar_connector.body_text_bold"}))})),buttonText:W.createElement(ex.Tx,{id:"figjam_onboarding_make_something.templates_toolbar_connector.done_button"}),onButtonClick:e.onClickPrimaryCta}))}function Fi(e){return W.createElement(i8.ey,{targetType:"dom",targetKey:Tq,topPadding:-6,autoWidth:!0,isBold:!0,arrowPosition:n2.Wp.BOTTOM},W.createElement(RK,{titleText:W.createElement("span",{className:"browse_templates_make_something_onboarding--tooltipTitle--EmYZQ"},W.createElement(ex.Tx,{id:"figjam_onboarding_make_something.templates_toolbar_onboarding_finished_connector.title_want_to_try_something_else"})),bodyText:W.createElement("span",{className:"figjam_onboarding_make_something--tooltipBodyLarge--GbpDE"},W.createElement(ex.Tx,{id:"figjam_onboarding_make_something.templates_toolbar_onboarding_finished_connector.body_text",boldText:W.createElement("b",null,W.createElement(ex.Tx,{id:"figjam_onboarding_make_something.templates_toolbar_onboarding_finished_connector.body_text_bold"}))})),buttonText:W.createElement(ex.Tx,{id:"figjam_onboarding_make_something.templates_toolbar_connector.done_button"}),onButtonClick:e.onClickPrimaryCta}))}function Fo(e){let t=(0,ei.my)(Rw.kv);return(0,rT.u)(()=>{t(Rw._q.MODAL_SHOWING)}),W.createElement(uj.m,{testId:e.testId?e.testId:"MakeSomethingOnboardingOverlay",modalType:uX.GK.SELF_CONTAINED,trackingContextName:"Make Something Modal Onboarding",element:W.useCallback(e=>W.createElement(R7,{hideModal:e.dismissModal}),[]),isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss})}uX.GK.SELF_CONTAINED,uX.GK.SELF_CONTAINED;let Fs="figjam_unified_onboarding_product",Fc="figjam_unified_onboarding_pz";function Fd(e){(0,rd.Y9)({id:e===DY.cR.PRODUCT_THEN_PZ?Fs:Fc})}let Fm=[RE,Rg];function Fu(){let e=(0,eo.m4)(DY.E$),{show:t,uniqueId:n,isShowing:a,complete:r}=(0,mX.W)({overlay:mZ.OOJ,priority:mz.g.OVERRIDING_MODAL}),l=Rv((0,W.useCallback)(()=>{r(),e===DY.cR.PZ_THEN_PRODUCT&&(0,rd.Y9)({id:Fs})},[r,e]));return(0,ur.y)(n,Fc,()=>{t()}),W.createElement(RC,{steps:Fm,onComplete:l,isShowing:a,overlayUniqueId:n})}function Fp(){let e=(0,eo.m4)(DY.E$),t=(0,eo.m4)(Rw.kv),{show:n,uniqueId:a,isShowing:r,complete:l}=(0,mX.W)({overlay:mZ._CV,priority:mz.g.OVERRIDING_MODAL}),i=Rv(l);return(0,ur.y)(a,Fs,()=>{n()}),(0,W.useEffect)(()=>{t===Rw._q.COMPLETED&&e===DY.cR.PRODUCT_THEN_PZ&&(0,rd.Y9)({id:Fc})},[t,e]),W.createElement(Fo,{onClickPrimaryCta:i,onClose:aC.Kw,onManualDismiss:i,isShowing:r})}var F_=n(35880),FE=n(752648),Fg=n(444988);let Fh="figjam_participant_onboarded";var Ff=((L=Ff||{}).CREATE_STICKY="create_sticky",L.CREATE_STAMP="create_stamp",L.CANVAS_ZOOM="first_user_zoom_with_device",L.CANVAS_PAN="first_user_pan_with_device",L);function Fv(e,t,n){let a=(0,ei.my)(Fg.gr),r=(0,Fg.Sw)(e);(0,ur.y)(n.uniqueId,t,()=>{r&&a({type:"DISMISS_TOOLTIP",tooltip:e})})}let Fy=(0,mV.y_)(Fh);function FC(){let e=Rf(),t=(0,eo.m4)(Fy),n=(0,eo.m4)(Fg.UD),a=(0,eo.m4)((0,FE.mC)(ui._q)),r="hasData"===a.state&&a.data||void 0,l=(0,t1.sX)(),{resetFullscreenEvents:i}=function(){let e=(0,E_.e)(),t=(0,Fg.ye)(),n=W.useCallback(()=>{(0,Z.we)(Ff.CANVAS_ZOOM)},[]),a=W.useCallback(()=>{(0,Z.we)(Ff.CANVAS_PAN)},[]);return W.useEffect(()=>{if(e&&t)return eM.i46.setUsedZoomAction(!1),eM.i46.setUsedPanAction(!1),tA.CA.fromFullscreen.on("zoomActionMessageForOnboarding",n),tA.CA.fromFullscreen.on("panActionMessageForOnboarding",a),()=>{tA.CA.fromFullscreen.removeListener("zoomActionMessageForOnboarding",n),tA.CA.fromFullscreen.removeListener("panActionMessageForOnboarding",a)}},[e,t,a,n]),{resetFullscreenEvents:()=>{eM.i46.setUsedZoomAction(!1),eM.i46.setUsedPanAction(!1)}}}(),o=(0,ei.my)(Fg.gr),s=(0,Y.OY)(),c=(0,mX.W)({overlay:mZ.cls,priority:mz.g.OVERRIDING_MODAL+1},[t,a]);return Ry({overlayUniqueId:c.uniqueId,afterReset:W.useCallback(()=>{s(tm.s({[Fh]:!1})),e&&!1===r&&(i(),o({type:"INITIALIZE_ONBOARDING"}),s(tm.s({[Fh]:!0})))},[e,r,o,s,i])}),Fv(Fg.yG.STICKY,Ff.CREATE_STICKY,c),Fv(Fg.yG.STAMP,Ff.CREATE_STAMP,c),Fv(Fg.yG.ZOOM,Ff.CANVAS_ZOOM,c),Fv(Fg.yG.PAN,Ff.CANVAS_PAN,c),(0,W.useEffect)(()=>{c.isShowing&&n&&c.complete()},[n,c]),(0,W.useEffect)(()=>{e&&!n&&c.show({onShow:()=>{i(),o({type:"INITIALIZE_ONBOARDING"}),s(tm.s({[Fh]:!0}))},canShow:(e,t)=>!e&&!t})},[n,e,c,l,o,s,i]),W.createElement("div",{"data-testid":"FigJamParticipantOnboardingOverlay"})}var Fw=n(198416);async function Fb(e){let t=(await e).data;if(!t)return!1;let n=(0,F_.G)(t),a=(0,F_.QP)(n,"figjam_editor_onboarded");return!a&&!a&&!(()=>{let e=(0,e_.AP)();try{return!!e.get(td.Mt)}catch(e){}return!1})()}function FT({openFile:e}){var t;return!!(e&&(null==(t=e.trackTags)?void 0:t.isTemplate)&&e.editorType===nd.aE.WHITEBOARD)}function Fx(e){return W.createElement(uj.m,{testId:e.testId?e.testId:"OpenFigJamTutorialOverlay",modalType:uX.GK.SELF_CONTAINED,trackingContextName:"FigJam Editor Onboarding - Open Tutorial",userFlagOnShow:"figjam_editor_onboarded",element:Fw.O,isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss})}function Fk(){let e=(0,Y.OY)(),t=(0,mX.W)({overlay:mZ.Cfk,priority:mz.g.OVERRIDING_MODAL}),n=function(e,t){let n=(0,W.useRef)(),a=(0,W.useRef)(),r=(0,W.useRef)();return((0,W.useEffect)(()=>()=>{var e;null==(e=n.current)||e.call(n)},[]),a.current)?a.current:null==n.current||null==r.current?(a.current=new Promise(l=>{var i;null==(i=n.current)||i.call(n),n.current=(0,gB.w3)().subscribe(e,t,e=>{("loaded"===e.status||e.errors)&&(r.current=e,l(r.current),a.current=void 0)})}),a.current):Promise.resolve(r.current)}(nm.s34,{}),a=(0,eo.m4)(t$.qK),r=(0,d5.cH)(),l=!FT({openFile:a});(0,ur.y)(t.uniqueId,"Context Viewed",e=>{var a,r,l;let i=null==(a=e.properties)?void 0:a.name,o=null==(r=e.properties)?void 0:r.productType,s=null==(l=e.properties)?void 0:l.canEdit;i!==nv.i8.EDITOR||"figjam"!==o||s||Fb(n).then(e=>{e&&t.show()})});let{currentStep:i,next:o,reset:s}=(0,ul.c)({numSteps:l?4:3,onComplete:t.complete});(0,ur.y)(t.uniqueId,"Reset Onboarding",()=>{e(tm.s({figjam_editor_onboarded:!1})),r&&(s(),t.show())});let c=Rv(t.complete),d=W.useMemo(()=>{let e=Rh.map(e=>W.createElement(e,{key:e.name,isShowing:t.isShowing,onClickPrimaryCta:o,onClose:aC.Kw,onManualDismiss:c}));return l&&e.push(W.createElement(Fx,{key:"OpenFigJamTutorialOverlay",isShowing:t.isShowing,onClickPrimaryCta:o,onClose:aC.Kw,onManualDismiss:c,testId:"open_figjam_tutorial_overlay"})),e},[o,c,t.isShowing,l]);return W.createElement(uo.y,{currentStep:i,isShowing:t.isShowing,children:d})}let FN="Browse Templates Modal";function FS(e){return W.createElement(uj.m,{testId:e.testId,modalType:uX.GK.WELCOME,trackingContextName:FN,element:W.useCallback(e=>W.createElement(TX.iu,{editorType:nd.aE.WHITEBOARD,templateInsertionLocation:TG.AH.CURRENT_FILE,triggeredFrom:"newFile",hideModal:e.dismissModal,hideTintedModalBackground:!0}),[]),isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss})}function FI(e){return W.createElement(uj.m,{testId:e.testId,modalType:uX.GK.WELCOME,trackingContextName:FN,element:W.useCallback(e=>W.createElement(TX.iu,{editorType:nd.aE.WHITEBOARD,templateInsertionLocation:TG.AH.CURRENT_FILE,triggeredFrom:"newFile",hideModal:e.onClickPrimaryCta,hideTintedModalBackground:!0}),[]),isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss})}var FA=n(69640);let FO=(0,kG.m)(()=>{let e=(0,e_.AP)();try{return!!e.get(td.Mt)}catch(e){}return!1});function FM({userFlags:e,emailValidatedAt:t,userSpace:n,isTemplateFile:a,isTryFile:r,canvasEmpty:l,onboardedToFigJam:i,jobTitle:o,cameFromWhatsNew:s}){let c=(0,F_.QP)(e,"not_gen_0"),d=n===nv._O.ORG,m=(0,xM.gP)({emailValidatedAt:t,jobTitle:o});if((i||FO())&&(d||c||m)||(0,FA.s)())return[];if(!m&&(0,F_.ol)(e)&&!d&&!s)return r?[xM.OC,r?FI:FS]:[xM.OC,Fo];let u=(0,Rc.G)()?[]:Rh;if(a)return u;let p=[...u,Fx];return s||r||!l?p:[Fo]}function FP({openFile:e}){let t=(0,eo.m4)(Rw.K2),n=(0,eo.m4)(ui.Yh),a=(0,eo.m4)(DY.E$);return t!==R5.sx.NONE?null:("loaded"!==n.status||n.data)&&!a?W.createElement(FF,{openFile:e}):W.createElement(FR,{openFile:e})}let FL=(0,nT.Zf)(!1),FD=(e,t)=>{let[n,a]=(0,eo.lZ)(FL),r=(0,ei.my)(DY.E$),l=(0,ei.my)(Rw.kv),i=(0,eo.m4)(ui.Yh),o=(0,sC._o)();(0,ur.y)(e,"Context Viewed",e=>{var t,n,r;let l=null==(t=e.properties)?void 0:t.name,i=null==(n=e.properties)?void 0:n.productType,o=null==(r=e.properties)?void 0:r.canEdit;l===nv.i8.EDITOR&&"figjam"===i&&o&&a(!0)}),Ry({overlayUniqueId:e,afterReset:()=>{r(null),l(Rw._q.NOT_STARTED),a(!0)}}),(0,W.useEffect)(()=>{n&&"loaded"===i.status&&!o&&(a(!1),t())},[n,a,t,i.status,o])};function FR({openFile:e}){let t=(0,eo.m4)(xO.I3),n=(0,eo.m4)(mV.wB),a=(0,eo.m4)(xO.m2),r=(0,eo.m4)(xO.W_),l=(0,Y.w1)(e=>e.mirror.appModel.currentPage),i=(0,_d.eM)((e,t)=>(0,LD.o)(e,t),l),o=(0,eo.m4)(ui.Yh),s=(0,mV.Ww)("interacted_figjam_whats_new_v2_cta"),c=(0,eo.m4)(s),d=(0,ei.my)(DY.E$),{getConfig:m}=(0,ep.UF)("exposed_exp_figjam_unified_onboarding","figjam_unified_onboarding"),u=(0,W.useCallback)(()=>{let e=m().get("sequence",DY.cR.DEFAULT);return d(e),e},[m,d]),[p,_]=(0,W.useState)(!1),[E,g]=(0,W.useState)(!1),[h,f]=(0,W.useState)([]),{show:v,uniqueId:y,isShowing:C,complete:w,experimentResult:b}=(0,mX.W)({overlay:mZ.amh,priority:mz.g.OVERRIDING_MODAL,experiment:{check:u,predicate:e=>e!==DY.cR.DEFAULT,postCheck:(e,t,n,a,r)=>{let l=n===nv._O.ORG,i=!(0,xM.gP)({emailValidatedAt:t,jobTitle:r})&&(0,F_.ol)(e)&&!l;return g(i),a||FO()||_(!0),i}}},[n,t,a,o,r,c]),{show:T,isShowing:x,complete:k}=(0,mX.W)({overlay:mZ.wRT,priority:mz.g.OVERRIDING_MODAL,experiment:{check:u,predicate:e=>e===DY.cR.DEFAULT,postCheck:(t,n,a,r,l,o)=>{let s=FM({userFlags:t,emailValidatedAt:n,userSpace:a,isTemplateFile:FT({openFile:e}),isTryFile:e.isTryFile,canvasEmpty:i,onboardedToFigJam:r,jobTitle:l,cameFromWhatsNew:(0,L4.rR)(o)}),c=s.length>0;return c&&f(s),c}}},[n,t,a,o,r,c]),N=b||DY.cR.DEFAULT,S=N===DY.cR.DEFAULT?x:C,I=N===DY.cR.DEFAULT?k:w,A=(0,W.useMemo)(()=>N===DY.cR.DEFAULT?h:E?[xM.OC]:[],[N,E,h]);FD(y,(0,W.useCallback)(()=>{v(),T()},[v,T]));let O=Rv(I),M=(0,W.useCallback)(()=>{N===DY.cR.DEFAULT?O():p&&(I(),Fd(N))},[O,I,p,N]);return((0,W.useEffect)(()=>{0===A.length&&p&&N!==DY.cR.DEFAULT&&Fd(N)},[p,A,N]),b&&S&&0!==A.length)?W.createElement(RC,{steps:A,onComplete:M,isShowing:S,overlayUniqueId:y}):null}function FF({openFile:e}){let t=(0,eo.m4)(xO.I3),n=(0,eo.m4)(mV.wB),a=(0,eo.m4)(xO.m2),r=(0,eo.m4)(xO.W_),l=(0,Y.w1)(e=>e.mirror.appModel.currentPage),i=(0,_d.eM)((e,t)=>(0,LD.o)(e,t),l),o=(0,eo.m4)(ui.Yh),s=(0,mV.Ww)("interacted_figjam_whats_new_v2_cta"),c=(0,eo.m4)(s),{show:d,uniqueId:m,isShowing:u,complete:p}=(0,mX.W)({overlay:mZ.wRT,priority:mz.g.OVERRIDING_MODAL},[n,t,a,o,r,c]),[_,E]=(0,W.useState)([]);FD(m,(0,W.useCallback)(()=>{d({canShow:(t,n,a,r,l,o)=>{let s=FM({userFlags:t,emailValidatedAt:n,userSpace:a,isTemplateFile:FT({openFile:e}),isTryFile:e.isTryFile,canvasEmpty:i,onboardedToFigJam:r,jobTitle:l,cameFromWhatsNew:(0,L4.rR)(o)}),c=s.length>0;return c&&E(s),c}})},[d,E,i,e]));let g=Rv(p);return u&&0!==_.length?W.createElement(RC,{steps:_,onComplete:g,isShowing:u,overlayUniqueId:m}):null}function FB({openFile:e}){return"figjam_participant_onboarding"===function(){let e=Rf(),t=(0,t1.sX)();return e&&(0,DY.qU)(t)?"figjam_participant_onboarding":"figjam_editor_onboarding"}()?W.createElement(FC,null):W.createElement(FP,{openFile:e})}let FU=(0,nT.Zf)(async()=>{if(document.fonts&&FontFace){let e=new FontFace("Whyte","url(https://static.figma.com/webfont/1/Whyte-Regular.woff)");document.fonts.add(e)}await document.fonts.ready}),FK=(0,FE.mC)(FU);function FG(e){return W.createElement(uj.m,{testId:e.testId,modalType:uX.GK.SELF_CONTAINED,trackingContextName:Fa,userFlagOnShow:"figjam_browse_templates_modal_onboarded",element:Fl,isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss})}function FH(e){return W.createElement(uj.m,{testId:e.testId,modalType:uX.GK.SELF_CONTAINED,trackingContextName:Fr,userFlagOnShow:"figjam_browse_templates_modal_onboarded",element:Fi,isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss})}function FV(){let e=(0,mV.y_)("figjam_browse_templates_modal_onboarded"),t=(0,eo.m4)(e),n=(0,eo.m4)(FK),[a,r]=(0,W.useState)(!1),l=(0,DY.ug)(),{show:i,isShowing:o,uniqueId:s,complete:c}=(0,mX.W)({overlay:mZ.SIG,priority:mz.g.OVERRIDING_MODAL},[t,n]);return(0,ur.y)(s,R5.mW,()=>{r(!0),i({canShow:e=>!e&&!l})}),(0,ur.y)(s,LE.CA,()=>{i({canShow:e=>!e&&!l})}),a?W.createElement(FG,{isShowing:o,onClickPrimaryCta:c,onClose:c,onManualDismiss:c}):W.createElement(FH,{isShowing:o,onClickPrimaryCta:c,onClose:c,onManualDismiss:c})}var FW=n(108296),FY=n(20179);function Fj(e){return W.createElement(FW.OW,{onSkipClick:e.dismissModal},W.createElement(FW.M7,{bodyText:W.createElement("span",{className:FY._e},W.createElement(ex.Tx,{id:"figjam_onboarding_make_something.brainstorm.fig_jam_s_great_for_brainstorming",boldText:W.createElement("b",null,W.createElement(ex.Tx,{id:"figjam_onboarding_make_something.brainstorm.fig_jam_s_great_for_brainstorming_prefix"}))})),buttonText:W.createElement(ex.Tx,{id:"figjam_onboarding_make_something.brainstorm.go_on"}),onButtonClick:e.onClickPrimaryCta,svg:RO.c}))}function FX(e){let{onClickPrimaryCta:t,dismissModal:n}=e;return W.useEffect(()=>{function e(){t()}return tA.CA.fromFullscreen.on("createdSticky",e),()=>{tA.CA.fromFullscreen.removeListener("createdSticky",e)}},[t]),W.createElement(FW.OW,{onSkipClick:n},W.createElement(i8.ey,{targetType:"dom",targetKey:RN.u,topPadding:-22,autoWidth:!0,isBold:!0},W.createElement(FW.q1,{bodyText:W.createElement("span",null,W.createElement(ex.Tx,{id:"figjam_onboarding_make_something.brainstorm.sticky_notes_let_you_share_ideas_go_ahead_drag_one_into_the_blue_box_above",boldText:W.createElement("b",null,W.createElement(ex.Tx,{id:"figjam_onboarding_make_something.brainstorm.sticky_notes_let_you_share_ideas_go_ahead_drag_one_into_the_blue_box_above_bold_text"}))}))})))}function Fz(e){let[t]=W.useState(()=>eM.i46.getPointerModalNodeId("createdSticky")||""),{handleTargetLost:n}=(0,i8.UV)({shouldSkipConnectorModalAtom:RA.k,skipConnectorModal:e.onClickPrimaryCta});return W.createElement(FW.OW,{onSkipClick:e.dismissModal},W.createElement(i8.ey,{targetType:"canvas",targetKey:t,topPadding:-4,isBold:!0,autoWidth:!0,arrowPosition:n2.Wp.LEFT_TITLE,onTargetLost:n},W.createElement(FW.q1,{bodyText:W.createElement("span",null,W.createElement(ex.Tx,{id:"figjam_onboarding_make_something.brainstorm.just_like_that_keep_it_to_one_idea_per_sticky_next_let_s_check_out_stamps",boldText:W.createElement("b",null,W.createElement(ex.Tx,{id:"figjam_onboarding_make_something.brainstorm.just_like_that_keep_it_to_one_idea_per_sticky_next_let_s_check_out_stamps_bold_text"}))})),buttonText:W.createElement(ex.Tx,{id:"figjam_onboarding_make_something.brainstorm.next"}),onButtonClick:e.onClickPrimaryCta})))}function Fq(e){let{onClickPrimaryCta:t,dismissModal:n}=e,{handleTargetLost:a}=(0,i8.UV)({shouldSkipConnectorModalAtom:RA.k,skipConnectorModal:e.onClickPrimaryCta});return W.useEffect(()=>{function e(){t()}return tA.CA.fromFullscreen.on("createdStamp",e),()=>{tA.CA.fromFullscreen.removeListener("createdStamp",e)}},[t]),W.createElement(FW.OW,{onSkipClick:n},W.createElement(i8.ey,{targetType:"dom",targetKey:RS.gz,topPadding:-27,isBold:!0,autoWidth:!0,onTargetLost:a},W.createElement(FW.q1,{bodyText:W.createElement("span",null,W.createElement(ex.Tx,{id:"figjam_onboarding_make_something.brainstorm.stamps_are_here_or_press_e_they_re_good_for_voting_go_ahead_stamp_something",boldText:W.createElement("b",null,W.createElement(ex.Tx,{id:"figjam_onboarding_make_something.brainstorm.stamps_are_here_or_press_e_they_re_good_for_voting_go_ahead_stamp_something_bold_text"}))}))})))}function FZ(e){let[t]=W.useState(()=>eM.i46.getPointerModalNodeId("createdStamp")||""),{handleTargetLost:n}=(0,i8.UV)({shouldSkipConnectorModalAtom:RA.k,skipConnectorModal:e.onClickPrimaryCta});return W.createElement(FW.OW,{onSkipClick:e.dismissModal},W.createElement(i8.ey,{targetType:"canvas",targetKey:t,topPadding:-4,isBold:!0,autoWidth:!0,arrowPosition:n2.Wp.TOP,onTargetLost:n},W.createElement(FW.q1,{bodyText:W.createElement("span",null,W.createElement(ex.Tx,{id:"figjam_onboarding_make_something.brainstorm.lovely_just_one_more_thing",boldText:W.createElement("b",null,W.createElement(ex.Tx,{id:"figjam_onboarding_make_something.brainstorm.lovely_just_one_more_thing_bold_text"}))})),buttonText:W.createElement(ex.Tx,{id:"figjam_onboarding_make_something.brainstorm.next"}),onButtonClick:e.onClickPrimaryCta})))}function FQ(e){let t=(0,Y.OY)(),n=(0,C7.GE)(),a=(0,C7.aW)(),[r,l]=W.useState("invalid"),{handleTargetLost:i}=(0,i8.UV)({shouldSkipConnectorModalAtom:RA.k,skipConnectorModal:e.onClickPrimaryCta});return W.useEffect(()=>(n({source:C7.iu.MAKE_SOMETHING_V2_ONBOARDING}),t(C$.o3({state:"open",userInitiated:!1})),l(CJ.mi),()=>{a({source:C7.iu.MAKE_SOMETHING_V2_ONBOARDING}),t(C$.o3({state:"closed",userInitiated:!1}))}),[a,t,n]),W.createElement(FW.OW,{onSkipClick:e.dismissModal},W.createElement(i8.ey,{targetType:"dom",targetKey:r,topPadding:-4,isBold:!0,autoWidth:!0,onTargetLost:i},W.createElement(FW.q1,{bodyText:W.createElement("span",null,W.createElement(ex.Tx,{id:"figjam_onboarding_make_something.brainstorm.use_the_timer_to_keep_things_moving",boldText:W.createElement("b",null,W.createElement(ex.Tx,{id:"figjam_onboarding_make_something.brainstorm.use_the_timer_to_keep_things_moving_bold_text"}))})),buttonText:W.createElement(ex.Tx,{id:"figjam_onboarding_make_something.brainstorm.next"}),onButtonClick:e.onClickPrimaryCta})))}function FJ(e){let{onNext:t}=RH(e);return W.createElement(i8.ey,{targetType:"dom",targetKey:LE.oN,topPadding:-4,isBold:!0,hasShadow:!0},W.createElement(Ru,{titleText:W.createElement(ex.Tx,{id:"figjam_onboarding_make_something.brainstorm.when_you_re_ready"}),bodyText:W.createElement(ex.Tx,{id:"figjam_onboarding_make_something.brainstorm.start_a_brainstorm_by_inviting_a_few_people_here_that_s_it"}),buttonText:W.createElement(ex.Tx,{id:"figjam_onboarding_make_something.brainstorm.share_board"}),onNext:t,onDismiss:e.dismissModal,imgSrc:FW.Gm,isBold:!0}))}function F$(e){return W.createElement(uj.m,{testId:e.testId,modalType:uX.GK.SELF_CONTAINED,trackingContextName:`${FW.SI} - Brainstorm - Intro`,userFlagOnShow:"figjam_editor_onboarded",element:Fj,isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss})}function F0(e){return W.createElement(uj.m,{testId:e.testId,modalType:uX.GK.SELF_CONTAINED,trackingContextName:`${FW.SI} - Brainstorm - Sticky Prompt`,userFlagOnShow:"figjam_editor_onboarded",element:FX,isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss})}function F1(e){return W.createElement(uj.m,{testId:e.testId,modalType:uX.GK.SELF_CONTAINED,trackingContextName:`${FW.SI} - Brainstorm - Sticky Reaction`,userFlagOnShow:"figjam_editor_onboarded",element:Fz,isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss})}function F2(e){return W.createElement(uj.m,{testId:e.testId,modalType:uX.GK.SELF_CONTAINED,trackingContextName:`${FW.SI} - Brainstorm - Stamp Prompt`,userFlagOnShow:"figjam_editor_onboarded",element:Fq,isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss})}function F5(e){return W.createElement(uj.m,{testId:e.testId,modalType:uX.GK.SELF_CONTAINED,trackingContextName:`${FW.SI} - Brainstorm - Stamp Reaction`,userFlagOnShow:"figjam_editor_onboarded",element:FZ,isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss})}function F3(e){return W.createElement(uj.m,{testId:e.testId,modalType:uX.GK.SELF_CONTAINED,trackingContextName:`${FW.SI} - Brainstorm - Timer`,userFlagOnShow:"figjam_editor_onboarded",element:FQ,isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss})}function F4(e){return W.createElement(uj.m,{testId:e.testId,modalType:uX.GK.SELF_CONTAINED,trackingContextName:`${FW.SI} - Brainstorm - Share`,userFlagOnShow:"figjam_editor_onboarded",element:FJ,isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss})}function F6(e){return W.useEffect(()=>{eM.i46.populatePointerModalNodeTrackerForPlanningAhead()},[]),W.createElement(FW.OW,{onSkipClick:e.dismissModal},W.createElement(FW.M7,{bodyText:W.createElement("span",{className:FY._e},W.createElement(ex.Tx,{id:"figjam_onboarding_make_something.planning_ahead.fig_jam_s_great_for_planning_ahead_here_s_how_it_s_done",boldText:W.createElement("b",null,W.createElement(ex.Tx,{id:"figjam_onboarding_make_something.planning_ahead.fig_jam_s_great_for_planning_ahead_here_s_how_it_s_done_bold_text"}))})),buttonText:W.createElement(ex.Tx,{id:"figjam_onboarding_make_something.brainstorm.go_on"}),onButtonClick:e.onClickPrimaryCta,svg:RM.c}))}function F8(e){let[t]=W.useState(()=>eM.i46.getPointerModalNodeId("planningAheadInitialNode")||""),{handleTargetLost:n}=(0,i8.UV)({shouldSkipConnectorModalAtom:RA.k,skipConnectorModal:e.onClickPrimaryCta});return W.createElement(FW.OW,{onSkipClick:e.dismissModal},W.createElement(i8.ey,{targetType:"canvas",targetKey:t,topPadding:-7,isBold:!0,autoWidth:!0,arrowPosition:n2.Wp.BOTTOM,onTargetLost:n},W.createElement(FW.q1,{bodyText:W.createElement("span",null,W.createElement(ex.Tx,{id:"figjam_onboarding_make_something.planning_ahead.start_with_a_simple_timeline_with_a_row_for_each_member_of_your_team"})),buttonText:W.createElement(ex.Tx,{id:"figjam_onboarding_make_something.brainstorm.next"}),onButtonClick:e.onClickPrimaryCta})))}function F9(e){let{onClickPrimaryCta:t,dismissModal:n}=e,[a]=W.useState(()=>eM.i46.getPointerModalNodeId("planningAheadPerson")||""),{handleTargetLost:r}=(0,i8.UV)({shouldSkipConnectorModalAtom:RA.k,skipConnectorModal:e.onClickPrimaryCta});return W.useEffect(()=>{function e(){t()}return tA.CA.fromFullscreen.on("finishedEditingText",e),()=>{tA.CA.fromFullscreen.removeListener("finishedEditingText",e)}},[t]),W.createElement(FW.OW,{onSkipClick:n},W.createElement(i8.ey,{targetType:"canvas",targetKey:a,topPadding:2,isBold:!0,autoWidth:!0,arrowPosition:n2.Wp.LEFT_TITLE,onTargetLost:r},W.createElement(FW.q1,{bodyText:W.createElement("span",null,W.createElement(ex.Tx,{id:"figjam_onboarding_make_something.planning_ahead.type_your_name_here_right_at_the_top",boldText:W.createElement("b",null,W.createElement(ex.Tx,{id:"figjam_onboarding_make_something.planning_ahead.type_your_name_here_right_at_the_top_bold_text"}))}))})))}function F7(e){let{onClickPrimaryCta:t,dismissModal:n}=e,[a]=W.useState(()=>eM.i46.getPointerModalNodeId("planningAheadProject")||""),{handleTargetLost:r}=(0,i8.UV)({shouldSkipConnectorModalAtom:RA.k,skipConnectorModal:e.onClickPrimaryCta});return W.useEffect(()=>{function e(){t()}return tA.CA.fromFullscreen.on("finishedEditingShapeWithText",e),()=>{tA.CA.fromFullscreen.removeListener("finishedEditingShapeWithText",e)}},[t]),W.createElement(FW.OW,{onSkipClick:n},W.createElement(i8.ey,{targetType:"canvas",targetKey:a,topPadding:-6,isBold:!0,autoWidth:!0,arrowPosition:n2.Wp.BOTTOM,onTargetLost:r},W.createElement(FW.q1,{bodyText:W.createElement("span",null,W.createElement(ex.Tx,{id:"figjam_onboarding_make_something.planning_ahead.what_are_you_working_on_this_month_rename_this_block_to_your_current_project",boldText:W.createElement("b",null,W.createElement(ex.Tx,{id:"figjam_onboarding_make_something.planning_ahead.what_are_you_working_on_this_month_rename_this_block_to_your_current_project_bold_text"}))}))})))}function Be(e){let[t]=W.useState(()=>eM.i46.getPointerModalNodeId("planningAheadProject")||""),{handleTargetLost:n}=(0,i8.UV)({shouldSkipConnectorModalAtom:RA.k,skipConnectorModal:e.onClickPrimaryCta});return W.createElement(FW.OW,{onSkipClick:e.dismissModal},W.createElement(i8.ey,{targetType:"canvas",targetKey:t,topPadding:-4,isBold:!0,autoWidth:!0,arrowPosition:n2.Wp.LEFT_TITLE,onTargetLost:n},W.createElement(FW.q1,{bodyText:W.createElement(ex.Tx,{id:"figjam_onboarding_make_something.planning_ahead.you_can_resize_blocks_by_dragging_their_ends"}),buttonText:W.createElement(ex.Tx,{id:"figjam_onboarding_make_something.brainstorm.next"}),onButtonClick:e.onClickPrimaryCta})))}function Bt(e){let{handleTargetLost:t}=(0,i8.UV)({shouldSkipConnectorModalAtom:RA.k,skipConnectorModal:e.onClickPrimaryCta});return W.createElement(FW.OW,{onSkipClick:e.dismissModal},W.createElement(i8.ey,{targetType:"dom",targetKey:Rk.Sg,topPadding:-23,isBold:!0,autoWidth:!0,onTargetLost:t},W.createElement(FW.q1,{bodyText:W.createElement(ex.Tx,{id:"figjam_onboarding_make_something.planning_ahead.and_grab_more_shapes_as_needed_from_your_toolbar"}),buttonText:W.createElement(ex.Tx,{id:"figjam_onboarding_make_something.brainstorm.next"}),onButtonClick:e.onClickPrimaryCta})))}function Bn(e){let{onNext:t}=RH(e);return W.createElement(i8.ey,{targetType:"dom",targetKey:LE.oN,topPadding:-4,isBold:!0,autoWidth:!0,hasShadow:!0},W.createElement(Ru,{titleText:W.createElement(ex.Tx,{id:"figjam_onboarding_make_something.planning_ahead.try_it_with_your_team"}),bodyText:W.createElement(ex.Tx,{id:"figjam_onboarding_make_something.planning_ahead.share_this_board_and_your_whole_team_can_contribute"}),buttonText:W.createElement(ex.Tx,{id:"figjam_onboarding_make_something.brainstorm.share_board"}),onNext:t,onDismiss:e.dismissModal,imgSrc:FW.Gm,isBold:!0}))}function Ba(e){return W.createElement(uj.m,{testId:e.testId,modalType:uX.GK.SELF_CONTAINED,trackingContextName:`${FW.SI} - Planning Ahead - Intro`,userFlagOnShow:"figjam_editor_onboarded",element:F6,isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss})}function Br(e){return W.createElement(uj.m,{testId:e.testId,modalType:uX.GK.SELF_CONTAINED,trackingContextName:`${FW.SI} - Planning Ahead - Section`,userFlagOnShow:"figjam_editor_onboarded",element:F8,isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss})}function Bl(e){return W.createElement(uj.m,{testId:e.testId,modalType:uX.GK.SELF_CONTAINED,trackingContextName:`${FW.SI} - Planning Ahead - Person`,userFlagOnShow:"figjam_editor_onboarded",element:F9,isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss})}function Bi(e){return W.createElement(uj.m,{testId:e.testId,modalType:uX.GK.SELF_CONTAINED,trackingContextName:`${FW.SI} - Planning Ahead - Project Name`,userFlagOnShow:"figjam_editor_onboarded",element:F7,isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss})}function Bo(e){return W.createElement(uj.m,{testId:e.testId,modalType:uX.GK.SELF_CONTAINED,trackingContextName:`${FW.SI} - Planning Ahead - Project Block`,userFlagOnShow:"figjam_editor_onboarded",element:Be,isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss})}function Bs(e){return W.createElement(uj.m,{testId:e.testId,modalType:uX.GK.SELF_CONTAINED,trackingContextName:`${FW.SI} - Planning Ahead - Shape`,userFlagOnShow:"figjam_editor_onboarded",element:Bt,isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss})}function Bc(e){return W.createElement(uj.m,{testId:e.testId,modalType:uX.GK.SELF_CONTAINED,trackingContextName:`${FW.SI} - Planning Ahead - Share`,userFlagOnShow:"figjam_editor_onboarded",element:Bn,isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss})}function Bd(e){return W.useEffect(()=>{eM.i46.populatePointerModalNodeTrackerForTeamChart()},[]),W.createElement(FW.OW,{onSkipClick:e.dismissModal},W.createElement(FW.M7,{bodyText:W.createElement("span",{className:FY._e},W.createElement(ex.Tx,{id:"figjam_onboarding_make_something.team_chart.in_fig_jam_you_can_diagram_all_sorts_of_things_here_s_an_example",boldText:W.createElement("b",null,W.createElement(ex.Tx,{id:"figjam_onboarding_make_something.team_chart.in_fig_jam_you_can_diagram_all_sorts_of_things_here_s_an_example_bold_text"}))})),buttonText:W.createElement(ex.Tx,{id:"figjam_onboarding_make_something.brainstorm.go_on"}),onButtonClick:e.onClickPrimaryCta,svg:RP.c}))}function Bm(e){let{onClickPrimaryCta:t,dismissModal:n}=e,[a]=W.useState(()=>eM.i46.getPointerModalNodeId("teamChartName")||""),{handleTargetLost:r}=(0,i8.UV)({shouldSkipConnectorModalAtom:RA.k,skipConnectorModal:e.onClickPrimaryCta});return W.useEffect(()=>{function e(){t()}return tA.CA.fromFullscreen.on("finishedEditingShapeWithText",e),()=>{tA.CA.fromFullscreen.removeListener("finishedEditingShapeWithText",e)}},[t]),W.createElement(FW.OW,{onSkipClick:n},W.createElement(i8.ey,{targetType:"canvas",targetKey:a,topPadding:-6,isBold:!0,autoWidth:!0,arrowPosition:n2.Wp.BOTTOM,onTargetLost:r},W.createElement(FW.q1,{bodyText:W.createElement("span",null,W.createElement(ex.Tx,{id:"figjam_onboarding_make_something.team_chart.double_click_this_text_to_type_in_the_manager_s_name_go_ahead_try_it",boldText:W.createElement("b",null,W.createElement(ex.Tx,{id:"figjam_onboarding_make_something.team_chart.double_click_this_text_to_type_in_the_manager_s_name_go_ahead_try_it_bold_text"}))}))})))}function Bu(e){let[t]=W.useState(()=>eM.i46.getPointerModalNodeId("teamChartImage")||""),{handleTargetLost:n}=(0,i8.UV)({shouldSkipConnectorModalAtom:RA.k,skipConnectorModal:e.onClickPrimaryCta});return W.createElement(FW.OW,{onSkipClick:e.dismissModal},W.createElement(i8.ey,{targetType:"canvas",targetKey:t,topPadding:-4,isBold:!0,autoWidth:!0,arrowPosition:n2.Wp.LEFT_TITLE,onTargetLost:n},W.createElement(FW.q1,{bodyText:W.createElement("span",null,W.createElement(ex.Tx,{id:"figjam_onboarding_make_something.team_chart.you_can_add_images_by_simply_dragging_them_into_fig_jam"})),buttonText:W.createElement(ex.Tx,{id:"figjam_onboarding_make_something.brainstorm.next"}),onButtonClick:e.onClickPrimaryCta})))}function Bp(e){let{onClickPrimaryCta:t,dismissModal:n}=e,[a]=W.useState(()=>eM.i46.getPointerModalNodeId("teamChartQuickCreate")||""),{handleTargetLost:r}=(0,i8.UV)({shouldSkipConnectorModalAtom:RA.k,skipConnectorModal:e.onClickPrimaryCta});return W.useEffect(()=>{function e(){t()}return tA.CA.fromFullscreen.on("quickCreate",e),()=>{tA.CA.fromFullscreen.removeListener("quickCreate",e)}},[t]),W.createElement(FW.OW,{onSkipClick:n},W.createElement(i8.ey,{targetType:"canvas",targetKey:a,topPadding:-4,isBold:!0,autoWidth:!0,arrowPosition:n2.Wp.RIGHT_TITLE,onTargetLost:r},W.createElement(FW.q1,{bodyText:W.createElement("span",null,W.createElement(ex.Tx,{id:"figjam_onboarding_make_something.team_chart.adding_to_a_diagram_is_simple_hover_over_a_shape_and_click_this_button_try_it",boldText:W.createElement("b",null,W.createElement(ex.Tx,{id:"figjam_onboarding_make_something.team_chart.adding_to_a_diagram_is_simple_hover_over_a_shape_and_click_this_button_try_it_bold_text"}))}))})))}function B_(e){let{handleTargetLost:t}=(0,i8.UV)({shouldSkipConnectorModalAtom:RA.k,skipConnectorModal:e.onClickPrimaryCta});return W.createElement(FW.OW,{onSkipClick:e.dismissModal},W.createElement(i8.ey,{targetType:"dom",targetKey:Rk.Sg,topPadding:-23,isBold:!0,autoWidth:!0,onTargetLost:t},W.createElement(FW.q1,{bodyText:W.createElement("span",null,W.createElement(ex.Tx,{id:"figjam_onboarding_make_something.team_chart.you_can_also_grab_more_shapes_from_here"})),buttonText:W.createElement(ex.Tx,{id:"figjam_onboarding_make_something.brainstorm.next"}),onButtonClick:e.onClickPrimaryCta})))}function BE(e){let{handleTargetLost:t}=(0,i8.UV)({shouldSkipConnectorModalAtom:RA.k,skipConnectorModal:e.onClickPrimaryCta});return W.createElement(FW.OW,{onSkipClick:e.dismissModal},W.createElement(i8.ey,{targetType:"dom",targetKey:Rk.Yx,isBold:!0,autoWidth:!0,onTargetLost:t},W.createElement(FW.q1,{bodyText:W.createElement("span",null,W.createElement(ex.Tx,{id:"figjam_onboarding_make_something.team_chart.and_use_the_connector_tool_to_connect_any_two_things_together"})),buttonText:W.createElement(ex.Tx,{id:"figjam_onboarding_make_something.brainstorm.next"}),onButtonClick:e.onClickPrimaryCta})))}function Bg(e){let{onNext:t}=RH(e);return W.createElement(i8.ey,{targetType:"dom",targetKey:LE.oN,topPadding:-4,isBold:!0,autoWidth:!0,hasShadow:!0},W.createElement(Ru,{titleText:W.createElement(ex.Tx,{id:"figjam_onboarding_make_something.team_chart.diagram_together"}),bodyText:W.createElement("span",null,W.createElement(ex.Tx,{id:"figjam_onboarding_make_something.team_chart.share_this_board_and_your_whole_team_can_pitch_in"})),buttonText:W.createElement(ex.Tx,{id:"figjam_onboarding_make_something.brainstorm.share_board"}),onNext:t,onDismiss:e.dismissModal,imgSrc:FW.Gm,isBold:!0}))}function Bh(e){return W.createElement(uj.m,{testId:e.testId,modalType:uX.GK.SELF_CONTAINED,trackingContextName:`${FW.SI} - Team Chart - Intro`,userFlagOnShow:"figjam_editor_onboarded",element:Bd,isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss})}function Bf(e){return W.createElement(uj.m,{testId:e.testId,modalType:uX.GK.SELF_CONTAINED,trackingContextName:`${FW.SI} - Team Chart - Name`,userFlagOnShow:"figjam_editor_onboarded",element:Bm,isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss})}function Bv(e){return W.createElement(uj.m,{testId:e.testId,modalType:uX.GK.SELF_CONTAINED,trackingContextName:`${FW.SI} - Team Chart - Image`,userFlagOnShow:"figjam_editor_onboarded",element:Bu,isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss})}function By(e){return W.createElement(uj.m,{testId:e.testId,modalType:uX.GK.SELF_CONTAINED,trackingContextName:`${FW.SI} - Team Chart - Quick Create`,userFlagOnShow:"figjam_editor_onboarded",element:Bp,isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss})}function BC(e){return W.createElement(uj.m,{testId:e.testId,modalType:uX.GK.SELF_CONTAINED,trackingContextName:`${FW.SI} - Team Chart - Shape`,userFlagOnShow:"figjam_editor_onboarded",element:B_,isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss})}function Bw(e){return W.createElement(uj.m,{testId:e.testId,modalType:uX.GK.SELF_CONTAINED,trackingContextName:`${FW.SI} - Team Chart - Connector`,userFlagOnShow:"figjam_editor_onboarded",element:BE,isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss})}function Bb(e){return W.createElement(uj.m,{testId:e.testId,modalType:uX.GK.SELF_CONTAINED,trackingContextName:`${FW.SI} - Team Chart - Share`,userFlagOnShow:"figjam_editor_onboarded",element:Bg,isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss})}function BT(e){return W.useEffect(()=>{eM.i46.populatePointerModalNodeTrackerForTeamUpdates()},[]),W.createElement(FW.OW,{onSkipClick:e.dismissModal},W.createElement(FW.M7,{bodyText:W.createElement("span",{className:FY._e},W.createElement(ex.Tx,{id:"figjam_onboarding_make_something.team_updates.fig_jam_s_great_for_team_syncs_here_s_how_it_works",boldText:W.createElement("b",null,W.createElement(ex.Tx,{id:"figjam_onboarding_make_something.team_updates.fig_jam_s_great_for_team_syncs_here_s_how_it_works_bold_text"}))})),buttonText:W.createElement(ex.Tx,{id:"figjam_onboarding_make_something.brainstorm.go_on"}),onButtonClick:e.onClickPrimaryCta,svg:RL.c}))}function Bx(e){let[t]=W.useState(()=>eM.i46.getPointerModalNodeId("teamUpdatesSection")||""),{handleTargetLost:n}=(0,i8.UV)({shouldSkipConnectorModalAtom:RA.k,skipConnectorModal:e.onClickPrimaryCta});return W.createElement(FW.OW,{onSkipClick:e.dismissModal},W.createElement(i8.ey,{targetType:"canvas",targetKey:t,topPadding:-6,isBold:!0,autoWidth:!0,arrowPosition:n2.Wp.BOTTOM,onTargetLost:n},W.createElement(FW.q1,{bodyText:W.createElement("span",null,W.createElement(ex.Tx,{id:"figjam_onboarding_make_something.team_updates.each_person_gets_a_row_of_their_own_for_sharing_updates_and_priorities"})),buttonText:W.createElement(ex.Tx,{id:"figjam_onboarding_make_something.brainstorm.next"}),onButtonClick:e.onClickPrimaryCta})))}function Bk(e){let[t]=W.useState(()=>eM.i46.getPointerModalNodeId("teamUpdatesPhotoBooth")||""),{handleTargetLost:n}=(0,i8.UV)({shouldSkipConnectorModalAtom:RA.k,skipConnectorModal:e.onClickPrimaryCta});return W.createElement(FW.OW,{onSkipClick:e.dismissModal},W.createElement(i8.ey,{targetType:"canvas",targetKey:t,topPadding:-6,isBold:!0,autoWidth:!0,arrowPosition:n2.Wp.BOTTOM,onTargetLost:n},W.createElement(FW.q1,{bodyText:W.createElement("span",null,W.createElement(ex.Tx,{id:"figjam_onboarding_make_something.team_updates.take_a_selfie_then_drag_it_into_whichever_row_you_d_like_try_and_click_the_red_dot",boldText:W.createElement("b",null,W.createElement(ex.Tx,{id:"figjam_onboarding_make_something.team_updates.take_a_selfie_then_drag_it_into_whichever_row_you_d_like_try_and_click_the_red_dot_bold_text"}))})),buttonText:W.createElement(ex.Tx,{id:"figjam_onboarding_make_something.brainstorm.next"}),onButtonClick:e.onClickPrimaryCta})))}function BN(e){let[t]=W.useState(()=>eM.i46.getPointerModalNodeId("teamUpdatesUpdates")||""),{handleTargetLost:n}=(0,i8.UV)({shouldSkipConnectorModalAtom:RA.k,skipConnectorModal:e.onClickPrimaryCta});return W.createElement(FW.OW,{onSkipClick:e.dismissModal},W.createElement(i8.ey,{targetType:"canvas",targetKey:t,topPadding:-5,isBold:!0,autoWidth:!0,arrowPosition:n2.Wp.BOTTOM,onTargetLost:n},W.createElement(FW.q1,{bodyText:W.createElement("span",null,W.createElement(ex.Tx,{id:"figjam_onboarding_make_something.team_updates.your_whole_team_can_share_updates_here"})),buttonText:W.createElement(ex.Tx,{id:"figjam_onboarding_make_something.brainstorm.next"}),onButtonClick:e.onClickPrimaryCta})))}function BS(e){let[t]=W.useState(()=>eM.i46.getPointerModalNodeId("teamUpdatesImportantDates")||""),{handleTargetLost:n}=(0,i8.UV)({shouldSkipConnectorModalAtom:RA.k,skipConnectorModal:e.onClickPrimaryCta});return W.createElement(FW.OW,{onSkipClick:e.dismissModal},W.createElement(i8.ey,{targetType:"canvas",targetKey:t,topPadding:-5,isBold:!0,autoWidth:!0,arrowPosition:n2.Wp.BOTTOM,onTargetLost:n},W.createElement(FW.q1,{bodyText:W.createElement("span",null,W.createElement(ex.Tx,{id:"figjam_onboarding_make_something.team_updates.and_can_add_important_dates_to_the_calendar_over_here"})),buttonText:W.createElement(ex.Tx,{id:"figjam_onboarding_make_something.brainstorm.next"}),onButtonClick:e.onClickPrimaryCta})))}function BI(e){let{onClickPrimaryCta:t,dismissModal:n}=e,[a]=W.useState(()=>eM.i46.getPointerModalNodeId("teamUpdatesSticky")||""),{handleTargetLost:r}=(0,i8.UV)({shouldSkipConnectorModalAtom:RA.k,skipConnectorModal:e.onClickPrimaryCta});return W.useEffect(()=>{function e(){t()}return tA.CA.fromFullscreen.on("finishedEditingSticky",e),()=>{tA.CA.fromFullscreen.removeListener("finishedEditingSticky",e)}},[t]),W.createElement(FW.OW,{onSkipClick:n},W.createElement(i8.ey,{targetType:"canvas",targetKey:a,topPadding:-16,isBold:!0,autoWidth:!0,arrowPosition:n2.Wp.TOP,onTargetLost:r},W.createElement(FW.q1,{bodyText:W.createElement("span",null,W.createElement(ex.Tx,{id:"figjam_onboarding_make_something.team_updates.give_it_a_go_try_typing_your_priorities_in_this_sticky_note",boldText:W.createElement("b",null,W.createElement(ex.Tx,{id:"figjam_onboarding_make_something.team_updates.give_it_a_go_try_typing_your_priorities_in_this_sticky_note_bold_text"}))}))})))}function BA(e){let{onNext:t}=RH(e);return W.createElement(i8.ey,{targetType:"dom",targetKey:LE.oN,topPadding:-4,isBold:!0,autoWidth:!0,hasShadow:!0},W.createElement(Ru,{titleText:W.createElement(ex.Tx,{id:"figjam_onboarding_make_something.brainstorm.when_you_re_ready"}),bodyText:W.createElement(ex.Tx,{id:"figjam_onboarding_make_something.team_updates.invite_your_teammates_and_run_a_quick_team_check_in"}),buttonText:W.createElement(ex.Tx,{id:"figjam_onboarding_make_something.brainstorm.share_board"}),onNext:t,onDismiss:e.dismissModal,imgSrc:FW.Gm,isBold:!0}))}function BO(e){return W.createElement(uj.m,{testId:e.testId,modalType:uX.GK.SELF_CONTAINED,trackingContextName:`${FW.SI} - Team Updates - Intro`,userFlagOnShow:"figjam_editor_onboarded",element:BT,isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss})}function BM(e){return W.createElement(uj.m,{testId:e.testId,modalType:uX.GK.SELF_CONTAINED,trackingContextName:`${FW.SI} - Team Updates - Section`,userFlagOnShow:"figjam_editor_onboarded",element:Bx,isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss})}function BP(e){return W.createElement(uj.m,{testId:e.testId,modalType:uX.GK.SELF_CONTAINED,trackingContextName:`${FW.SI} - Team Updates - Photo Booth`,userFlagOnShow:"figjam_editor_onboarded",element:Bk,isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss})}function BL(e){return W.createElement(uj.m,{testId:e.testId,modalType:uX.GK.SELF_CONTAINED,trackingContextName:`${FW.SI} - Team Updates - Updates`,userFlagOnShow:"figjam_editor_onboarded",element:BN,isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss})}function BD(e){return W.createElement(uj.m,{testId:e.testId,modalType:uX.GK.SELF_CONTAINED,trackingContextName:`${FW.SI} - Team Updates - Important Dates`,userFlagOnShow:"figjam_editor_onboarded",element:BS,isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss})}function BR(e){return W.createElement(uj.m,{testId:e.testId,modalType:uX.GK.SELF_CONTAINED,trackingContextName:`${FW.SI} - Team Updates - Sticky`,userFlagOnShow:"figjam_editor_onboarded",element:BI,isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss})}function BF(e){return W.createElement(uj.m,{testId:e.testId,modalType:uX.GK.SELF_CONTAINED,trackingContextName:`${FW.SI} - Team Updates - Share`,userFlagOnShow:"figjam_editor_onboarded",element:BA,isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss})}function BB(e){switch(e){case R5.CE.BRAINSTORM_TEMPLATE_BUTTON_INTERACTED:return[F$,F0,F1,F2,F5,F3,F4,BU];case R5.CE.TEAM_UPDATES_TEMPLATE_BUTTON_INTERACTED:return[BO,BM,BP,BL,BD,BR,BF,BU];case R5.CE.PLANNING_AHEAD_TEMPLATE_BUTTON_INTERACTED:return[Ba,Br,Bl,Bi,Bo,Bs,Bc,BU];case R5.CE.TEAM_CHART_TEMPLATE_BUTTON_INTERACTED:return[Bh,Bf,Bv,By,BC,Bw,Bb,BU];default:return[]}}function BU({onClickPrimaryCta:e}){let t=(0,Y.w1)(e=>e.modalShown),n=(0,W.useRef)(t);return(0,W.useEffect)(()=>{!t&&n.current&&(e(),(0,rd.Y9)({id:LE.CA}))},[e,t]),W.createElement(W.Fragment,null)}function BK(){let[e,t]=W.useState([]),n=(0,ei.my)(Rw.kv),{complete:a,uniqueId:r,show:l,isShowing:i}=(0,mX.W)({overlay:mZ.AT$,priority:mz.g.OVERRIDING_MODAL}),o=W.useCallback(()=>{a(),n(Rw._q.COMPLETED)},[a,n]);return((0,ur.y)(r,R5.CE.BRAINSTORM_TEMPLATE_BUTTON_INTERACTED,()=>{t(BB(R5.CE.BRAINSTORM_TEMPLATE_BUTTON_INTERACTED)),n(Rw._q.USE_CASE_STEPS),l()}),(0,ur.y)(r,R5.CE.TEAM_UPDATES_TEMPLATE_BUTTON_INTERACTED,()=>{t(BB(R5.CE.TEAM_UPDATES_TEMPLATE_BUTTON_INTERACTED)),n(Rw._q.USE_CASE_STEPS),l()}),(0,ur.y)(r,R5.CE.PLANNING_AHEAD_TEMPLATE_BUTTON_INTERACTED,()=>{t(BB(R5.CE.PLANNING_AHEAD_TEMPLATE_BUTTON_INTERACTED)),n(Rw._q.USE_CASE_STEPS),l()}),(0,ur.y)(r,R5.CE.TEAM_CHART_TEMPLATE_BUTTON_INTERACTED,()=>{t(BB(R5.CE.TEAM_CHART_TEMPLATE_BUTTON_INTERACTED)),n(Rw._q.USE_CASE_STEPS),l()}),Ry({overlayUniqueId:r,afterReset:a}),0===e.length)?null:W.createElement(RC,{steps:e,onComplete:o,isShowing:i,overlayUniqueId:r})}var BG=n(983556),BH=n(748836),BV=n(802928);let BW="edit_action_experiment_dont_show_again";function BY({dismissModal:e}){let t=(0,BV.c)(),n=(0,Y.OY)(),a=(0,t$.AL)();return W.createElement(W.Fragment,null,W.createElement("div",{className:"edit_action_experiment_steps--header--kBYL2 onboarding--editorOnboardingHeader--Kk5Cb"},W.createElement(ex.Tx,{id:"pro_edit_action.heading"})),W.createElement("div",{className:"edit_action_experiment_steps--content---HMhp"},W.createElement(ex.Tx,{id:"pro_edit_action.body_text"})),W.createElement("div",{className:"edit_action_experiment_steps--cta--3U128"},W.createElement(eT.Sm,{onClick:()=>{n(tm.s({[BW]:!0})),e()},trackingProperties:{text:"Not now"}},W.createElement(ex.Tx,{id:"pro_edit_action.dismiss_button_text"})),W.createElement(eT.Uv,{className:"edit_action_experiment_steps--primaryButton--R2FKA",onClick:()=>{e(),a&&t(a,uS.ii)},trackingProperties:{text:"Start editing"}},W.createElement(ex.Tx,{id:"pro_edit_action.primary_button_text"}))))}var Bj=n(627284),BX=n(636292);let Bz=(0,Bj.U9)({initial:"await_button_or_fullscreen",states:[{id:"await_button_or_fullscreen",transitions:[(0,Bj.gP)("Context Viewed","check_in_drafts",{condition:({event:e})=>"Editor > Toolbar > File Edit Button"===e.properties.name}),(0,Bj.gP)(BX.m,"check_show_button",{condition:({event:e})=>0!==e.properties.numSelected&&null!=e.properties.numSelected}),(0,Bj.gP)(t3.Ou,"check_show_button")]},{id:"check_in_drafts",transitions:[(0,Bj.SU)("static_checks_in_drafts","await_button_or_fullscreen",{condition:({event:e})=>!e.succeeded}),(0,Bj.SU)("static_checks_in_drafts","show_overlay",{condition:({event:e})=>e.succeeded})]},{id:"check_show_button",transitions:[(0,Bj.SU)("static_checks_show_button","await_button_or_fullscreen",{condition:({event:e})=>!e.succeeded}),(0,Bj.SU)("static_checks_show_button","show_overlay",{condition:({event:e})=>e.succeeded})]},{id:"show_overlay",terminal:!0}]}),Bq="edit_action_experiment_shown_once",BZ="edit_action_experiment_shown_twice",BQ=(0,mV.y_)("edit_action_experiment_dont_show_again"),BJ=(0,mV.y_)(Bq),B$=(0,mV.y_)(BZ);function B0(){let e=(0,Y.OY)(),t=(0,BH.cH)(Bz),n=(0,eo.m4)(BQ),a=(0,eo.m4)(ui.cH),r=(0,eo.m4)(BJ),l=(0,eo.m4)(B$),i=(0,eo.m4)(ui.iq),o=(0,mX.W)({overlay:mZ.kTx,priority:mz.g.HIGH_PRIORITY_MODAL},[n,r,l]),s=(0,W.useCallback)(()=>{o.show({canShow:e=>!e})},[o]),c=(0,W.useCallback)(()=>{"loaded"!==r.status||r.data||e(tm.s({[Bq]:!0})),"loaded"===r.status&&r.data&&e(tm.s({[BZ]:!0})),o.complete()},[e,o,r]);(0,BH.qJ)(t,(0,W.useCallback)(({to:e})=>{"check_in_drafts"===e&&t.transition({id:"static_checks_in_drafts",succeeded:!a}),"check_show_button"===e&&t.transition({id:"static_checks_show_button",succeeded:i}),"show_overlay"===e&&(s(),t.reset())},[a,t,i,s]));let d=(0,W.useCallback)(({dismissModal:e})=>W.createElement(BY,{dismissModal:e}),[]);return W.createElement(uj.m,{className:"edit_action_experiment_steps--modal--3KhyN pointer_modal--walkThroughModal--6eTVS pointer_modal--pointerModal--wrpFz",element:d,disableHighlight:!0,isShowing:o.isShowing,modalType:uX.GK.WALK_THROUGH,onboardingKey:uS.cn,onClickPrimaryCta:c,onClose:c,onManualDismiss:c,shouldCenterArrow:n2.yi.FALLBACK,shouldDismissWhenLostDOMTarget:!0,trackingContextName:"Edit Action Experiment Modal (no checkbox)",width:300-2*i8.g5,additionalOnExplicitDismiss:()=>{e(tm.s({[BW]:!0}))}})}var B1=n(369592),B2=n(24952),B5=n(613072);function B3(){return W.createElement("svg",{width:"146",height:"191",viewBox:"0 0 146 191",fill:"none",xmlns:"http://www.w3.org/2000/svg"},W.createElement("path",{d:"M35 153H3C1.34315 153 0 154.343 0 156V188C0 189.657 1.34315 191 3 191H35C36.6569 191 38 189.657 38 188V156C38 154.343 36.6569 153 35 153Z",fill:"#007BE5"}),W.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M23.875 166.25C22.4943 166.25 21.375 167.369 21.375 168.75C21.375 170.131 22.4943 171.25 23.875 171.25C25.2557 171.25 26.375 170.131 26.375 168.75C26.375 167.369 25.2557 166.25 23.875 166.25ZM19.875 168.75C19.875 166.541 21.6659 164.75 23.875 164.75C26.0841 164.75 27.875 166.541 27.875 168.75C27.875 170.3 26.9937 171.644 25.7049 172.308C28.337 173.03 30.3125 175.271 30.3125 178.012V179.312V180.062H29.5625H20.5625H19.8125H18.1875H8.4375H7.6875V179.312V178.012C7.6875 175.271 9.663 173.03 12.2951 172.308C11.0063 171.644 10.125 170.3 10.125 168.75C10.125 166.541 11.9159 164.75 14.125 164.75C16.3341 164.75 18.125 166.541 18.125 168.75C18.125 170.3 17.2437 171.644 15.9549 172.308C17.1449 172.634 18.2008 173.271 19.0005 174.125C19.7985 173.271 20.8514 172.633 22.0433 172.307C20.7555 171.642 19.875 170.299 19.875 168.75ZM9.1875 178.012C9.1875 175.617 11.3334 173.562 14.125 173.562C16.9166 173.562 19.0625 175.617 19.0625 178.012V178.562H18.1875H9.1875V178.012ZM20.5625 178.562H28.8125V178.012C28.8125 175.617 26.6666 173.562 23.875 173.562C22.2296 173.562 20.7911 174.286 19.8997 175.374C20.323 176.164 20.5625 177.058 20.5625 178.012V178.562ZM11.625 168.75C11.625 167.369 12.7443 166.25 14.125 166.25C15.5057 166.25 16.625 167.369 16.625 168.75C16.625 170.131 15.5057 171.25 14.125 171.25C12.7443 171.25 11.625 170.131 11.625 168.75Z",fill:"white"}),W.createElement("path",{d:"M89 153H57C55.3431 153 54 154.343 54 156V188C54 189.657 55.3431 191 57 191H89C90.6569 191 92 189.657 92 188V156C92 154.343 90.6569 153 89 153Z",fill:"#9747FF"}),W.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M77.875 166.25C76.4943 166.25 75.375 167.369 75.375 168.75C75.375 170.131 76.4943 171.25 77.875 171.25C79.2557 171.25 80.375 170.131 80.375 168.75C80.375 167.369 79.2557 166.25 77.875 166.25ZM73.875 168.75C73.875 166.541 75.6659 164.75 77.875 164.75C80.0841 164.75 81.875 166.541 81.875 168.75C81.875 170.3 80.9937 171.644 79.7049 172.308C82.337 173.03 84.3125 175.271 84.3125 178.012V179.312V180.062H83.5625H74.5625H73.8125H72.1875H62.4375H61.6875V179.312V178.012C61.6875 175.271 63.663 173.03 66.2951 172.308C65.0063 171.644 64.125 170.3 64.125 168.75C64.125 166.541 65.9159 164.75 68.125 164.75C70.3341 164.75 72.125 166.541 72.125 168.75C72.125 170.3 71.2437 171.644 69.9549 172.308C71.1449 172.634 72.2008 173.271 73.0005 174.125C73.7985 173.271 74.8514 172.633 76.0433 172.307C74.7555 171.642 73.875 170.299 73.875 168.75ZM63.1875 178.012C63.1875 175.617 65.3334 173.562 68.125 173.562C70.9166 173.562 73.0625 175.617 73.0625 178.012V178.562H72.1875H63.1875V178.012ZM74.5625 178.562H82.8125V178.012C82.8125 175.617 80.6666 173.562 77.875 173.562C76.2296 173.562 74.7911 174.286 73.8997 175.374C74.323 176.164 74.5625 177.058 74.5625 178.012V178.562ZM65.625 168.75C65.625 167.369 66.7443 166.25 68.125 166.25C69.5057 166.25 70.625 167.369 70.625 168.75C70.625 170.131 69.5057 171.25 68.125 171.25C66.7443 171.25 65.625 170.131 65.625 168.75Z",fill:"white"}),W.createElement("path",{d:"M143 153H111C109.343 153 108 154.343 108 156V188C108 189.657 109.343 191 111 191H143C144.657 191 146 189.657 146 188V156C146 154.343 144.657 153 143 153Z",fill:"#FFCD29"}),W.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M131.875 166.25C130.494 166.25 129.375 167.369 129.375 168.75C129.375 170.131 130.494 171.25 131.875 171.25C133.256 171.25 134.375 170.131 134.375 168.75C134.375 167.369 133.256 166.25 131.875 166.25ZM127.875 168.75C127.875 166.541 129.666 164.75 131.875 164.75C134.084 164.75 135.875 166.541 135.875 168.75C135.875 170.3 134.994 171.644 133.705 172.308C136.337 173.03 138.312 175.271 138.312 178.012V179.312V180.062H137.562H128.562H127.812H126.188H116.438H115.688V179.312V178.012C115.688 175.271 117.663 173.03 120.295 172.308C119.006 171.644 118.125 170.3 118.125 168.75C118.125 166.541 119.916 164.75 122.125 164.75C124.334 164.75 126.125 166.541 126.125 168.75C126.125 170.3 125.244 171.644 123.955 172.308C125.145 172.634 126.201 173.271 127 174.125C127.799 173.271 128.851 172.633 130.043 172.307C128.755 171.642 127.875 170.299 127.875 168.75ZM117.188 178.012C117.188 175.617 119.333 173.562 122.125 173.562C124.917 173.562 127.062 175.617 127.062 178.012V178.562H126.188H117.188V178.012ZM128.562 178.562H136.812V178.012C136.812 175.617 134.667 173.562 131.875 173.562C130.23 173.562 128.791 174.286 127.9 175.374C128.323 176.164 128.562 177.058 128.562 178.012V178.562ZM119.625 168.75C119.625 167.369 120.744 166.25 122.125 166.25C123.506 166.25 124.625 167.369 124.625 168.75C124.625 170.131 123.506 171.25 122.125 171.25C120.744 171.25 119.625 170.131 119.625 168.75Z",fill:"white"}),W.createElement("path",{d:"M112.581 1L125 13.7668V113H20V1H112.581Z",fill:"white"}),W.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M19.5 0.5H112.792L125.5 13.5637V113.5H19.5V0.5ZM20.5 1.5V112.5H124.5V14.2668H112.081V1.5H20.5ZM113.081 2.23108L123.816 13.2668H113.081V2.23108Z",fill:"black",fillOpacity:"0.8"}),W.createElement("path",{d:"M38 71C41.866 71 45 67.866 45 64C45 60.134 41.866 57 38 57C34.134 57 31 60.134 31 64C31 67.866 34.134 71 38 71Z",fill:"#56CCF2",fillOpacity:"0.8"}),W.createElement("path",{d:"M60 71C63.866 71 67 67.866 67 64C67 60.134 63.866 57 60 57C56.134 57 53 60.134 53 64C53 67.866 56.134 71 60 71Z",fill:"#EB5757"}),W.createElement("path",{d:"M82 71C85.866 71 89 67.866 89 64C89 60.134 85.866 57 82 57C78.134 57 75 60.134 75 64C75 67.866 78.134 71 82 71Z",fill:"#F2994A"}),W.createElement("path",{d:"M104 71C107.866 71 111 67.866 111 64C111 60.134 107.866 57 104 57C100.134 57 97 60.134 97 64C97 67.866 100.134 71 104 71Z",fill:"#F2C94C"}),W.createElement("path",{d:"M38 49C41.866 49 45 45.866 45 42C45 38.134 41.866 35 38 35C34.134 35 31 38.134 31 42C31 45.866 34.134 49 38 49Z",fill:"#333333"}),W.createElement("path",{d:"M60 49C63.866 49 67 45.866 67 42C67 38.134 63.866 35 60 35C56.134 35 53 38.134 53 42C53 45.866 56.134 49 60 49Z",fill:"#4F4F4F"}),W.createElement("path",{d:"M82 49C85.866 49 89 45.866 89 42C89 38.134 85.866 35 82 35C78.134 35 75 38.134 75 42C75 45.866 78.134 49 82 49Z",fill:"#828282"}),W.createElement("path",{d:"M104 49C107.866 49 111 45.866 111 42C111 38.134 107.866 35 104 35C100.134 35 97 38.134 97 42C97 45.866 100.134 49 104 49Z",fill:"#E0E0E0"}),W.createElement("path",{d:"M36.66 20L36.1 18.36H33.26L32.68 20H31.05L33.72 13H35.69L38.34 20H36.66ZM33.7 17.1H35.67L35.15 15.58C34.99 15.11 34.97 14.59 34.96 13.85H34.42C34.41 14.59 34.4 15.11 34.23 15.59L33.7 17.1ZM39.9023 21.95C38.9523 21.95 38.6523 21.49 38.6523 21.01C38.6523 20.61 38.9823 20.32 39.3423 20.21V19.75C39.0223 19.66 38.7723 19.44 38.7723 19.08C38.7723 18.54 39.1623 18.28 39.5923 18.14V17.69C39.2423 17.44 39.0223 17.16 39.0223 16.65C39.0223 15.6 39.9323 14.85 41.1023 14.85C41.9223 14.85 42.6723 15.17 42.9323 15.9H43.3623C43.4423 15.17 43.6723 15 44.1523 15H44.4123V16.08H43.8623C43.5523 16.08 43.4723 16.15 43.4123 16.66L43.4023 16.75C43.2823 17.83 42.4123 18.49 41.2423 18.49C40.8723 18.49 40.5023 18.45 40.2023 18.32C39.9223 18.4 39.8223 18.51 39.8223 18.67C39.8223 18.89 40.0323 18.89 40.3223 18.89H42.4723C43.5423 18.89 44.2123 19.59 44.2123 20.4C44.2123 21.41 43.4523 21.95 42.4723 21.95H39.9023ZM41.2323 17.56C41.7623 17.56 42.1123 17.22 42.1123 16.71C42.1123 16.19 41.7623 15.81 41.2323 15.81C40.7023 15.81 40.3523 16.19 40.3523 16.71C40.3523 17.22 40.7023 17.56 41.2323 17.56ZM40.2423 20.92H42.1923C42.6623 20.92 42.8123 20.73 42.8123 20.45C42.8123 20.22 42.6623 20 42.1923 20H40.0023C39.8823 20.07 39.7423 20.25 39.7423 20.45C39.7423 20.77 39.9723 20.92 40.2423 20.92Z",fill:"black",fillOpacity:"0.8"}),W.createElement("path",{d:"M54.62 20L53.97 18.15H50.89L50.23 20H49.15L51.78 13H53.16L55.74 20H54.62ZM51.22 17.23H53.64L52.97 15.33C52.77 14.75 52.66 14.35 52.65 13.7H52.23C52.21 14.35 52.11 14.76 51.9 15.33L51.22 17.23ZM57.4441 21.95C56.5441 21.95 56.2441 21.45 56.2441 21.05C56.2441 20.6 56.5041 20.27 56.9341 20.08V19.72C56.6641 19.63 56.4441 19.41 56.4441 19.11C56.4441 18.73 56.7041 18.43 57.1841 18.23V17.87C56.8741 17.62 56.6441 17.28 56.6441 16.64C56.6441 15.7 57.4141 14.9 58.5441 14.9C59.5941 14.9 60.0441 15.46 60.2141 15.87H60.5641C60.6041 15.4 60.8441 15.04 61.3241 15.04H61.6641V15.82H61.2541C60.8341 15.82 60.6741 15.92 60.6341 16.49L60.6141 16.73C60.5241 17.85 59.7541 18.57 58.6441 18.57C58.3041 18.57 57.9841 18.53 57.7041 18.38C57.4341 18.49 57.2641 18.67 57.2641 18.85C57.2641 19.02 57.3641 19.17 57.7041 19.17H59.8541C60.8241 19.17 61.4541 19.73 61.4541 20.56C61.4541 21.49 60.7341 21.95 59.8741 21.95H57.4441ZM58.6441 17.83C59.2941 17.83 59.7141 17.4 59.7141 16.74C59.7141 16.09 59.2941 15.64 58.6441 15.64C57.9941 15.64 57.5741 16.09 57.5741 16.74C57.5741 17.4 57.9941 17.83 58.6441 17.83ZM57.8241 21.15H59.7541C60.1541 21.15 60.5041 21.04 60.5041 20.57C60.5041 20.1 60.1541 20 59.7541 20H57.4341C57.2741 20.1 57.0741 20.32 57.0741 20.63C57.0741 21.03 57.3441 21.15 57.8241 21.15Z",fill:"black",fillOpacity:"0.8"}),W.createElement("path",{d:"M67.4862 20H66.2205L68.5249 13.4545H69.9886L72.2962 20H71.0305L69.2823 14.7969H69.2312L67.4862 20ZM67.5277 17.4336H70.9794V18.386H67.5277V17.4336ZM75.1377 21.9432C74.7222 21.9432 74.3653 21.8867 74.067 21.7738C73.7687 21.663 73.529 21.5138 73.3479 21.3263C73.1668 21.1388 73.0411 20.9311 72.9708 20.7031L74.0127 20.4506C74.0596 20.5465 74.1277 20.6413 74.2172 20.7351C74.3067 20.831 74.4271 20.9098 74.5784 20.9716C74.7318 21.0355 74.9246 21.0675 75.1569 21.0675C75.485 21.0675 75.7566 20.9876 75.9718 20.8278C76.187 20.6701 76.2946 20.4102 76.2946 20.0479V19.1179H76.2371C76.1775 19.2372 76.0901 19.3597 75.975 19.4854C75.8621 19.6112 75.7119 19.7166 75.5244 19.8018C75.339 19.8871 75.1057 19.9297 74.8245 19.9297C74.4473 19.9297 74.1054 19.8413 73.7986 19.6644C73.4939 19.4854 73.251 19.2191 73.0699 18.8654C72.8909 18.5096 72.8014 18.0643 72.8014 17.5295C72.8014 16.9904 72.8909 16.5355 73.0699 16.1648C73.251 15.7919 73.4949 15.5096 73.8017 15.3178C74.1086 15.1239 74.4505 15.027 74.8277 15.027C75.1153 15.027 75.3518 15.076 75.5372 15.174C75.7247 15.2699 75.8738 15.386 75.9846 15.5224C76.0954 15.6566 76.1796 15.7834 76.2371 15.9027H76.301V15.0909H77.442V20.0799C77.442 20.4996 77.3419 20.8469 77.1416 21.1218C76.9413 21.3967 76.6675 21.6023 76.3202 21.7386C75.9729 21.875 75.5787 21.9432 75.1377 21.9432ZM75.1473 19.022C75.3923 19.022 75.6011 18.9624 75.7737 18.843C75.9463 18.7237 76.0773 18.5522 76.1668 18.3285C76.2563 18.1048 76.301 17.8363 76.301 17.5231C76.301 17.2141 76.2563 16.9435 76.1668 16.7113C76.0794 16.479 75.9495 16.299 75.7769 16.1712C75.6064 16.0412 75.3966 15.9762 75.1473 15.9762C74.8895 15.9762 74.6743 16.0433 74.5017 16.1776C74.3291 16.3118 74.1991 16.4961 74.1118 16.7305C74.0244 16.9627 73.9807 17.2269 73.9807 17.5231C73.9807 17.8235 74.0244 18.0866 74.1118 18.3125C74.2013 18.5362 74.3323 18.7109 74.5049 18.8366C74.6796 18.9602 74.8937 19.022 75.1473 19.022Z",fill:"black",fillOpacity:"0.8"}),W.createElement("path",{d:"M84.0611 20H83.2301L85.6335 13.4545H86.4517L88.8551 20H88.0241L86.0682 14.4901H86.017L84.0611 20ZM84.3679 17.4432H87.7173V18.1463H84.3679V17.4432ZM91.7989 21.9432C91.4346 21.9432 91.1213 21.8963 90.8593 21.8026C90.5972 21.7109 90.3788 21.5895 90.2041 21.4382C90.0315 21.2891 89.8941 21.1293 89.7918 20.9588L90.3927 20.5369C90.4608 20.6264 90.5471 20.7287 90.6515 20.8438C90.7559 20.9609 90.8987 21.0621 91.0798 21.1474C91.263 21.2347 91.5027 21.2784 91.7989 21.2784C92.1952 21.2784 92.5223 21.1825 92.7801 20.9908C93.0379 20.799 93.1668 20.4986 93.1668 20.0895V19.0923H93.1029C93.0475 19.1818 92.9687 19.2926 92.8664 19.4247C92.7662 19.5547 92.6213 19.6708 92.4317 19.7731C92.2442 19.8732 91.9907 19.9233 91.6711 19.9233C91.2748 19.9233 90.9189 19.8295 90.6036 19.642C90.2904 19.4545 90.0422 19.1818 89.8589 18.8239C89.6778 18.4659 89.5873 18.0312 89.5873 17.5199C89.5873 17.017 89.6757 16.5792 89.8525 16.2063C90.0294 15.8313 90.2755 15.5415 90.5908 15.337C90.9062 15.1303 91.2705 15.027 91.6838 15.027C92.0035 15.027 92.257 15.0803 92.4445 15.1868C92.6341 15.2912 92.779 15.4105 92.8792 15.5447C92.9814 15.6768 93.0603 15.7855 93.1157 15.8707H93.1924V15.0909H93.9211V20.1406C93.9211 20.5625 93.8252 20.9055 93.6334 21.1697C93.4438 21.4361 93.1881 21.631 92.8664 21.7546C92.5468 21.8803 92.191 21.9432 91.7989 21.9432ZM91.7733 19.2457C92.0759 19.2457 92.3316 19.1765 92.5404 19.038C92.7492 18.8995 92.9079 18.7003 93.0166 18.4403C93.1253 18.1804 93.1796 17.8693 93.1796 17.5071C93.1796 17.1534 93.1263 16.8413 93.0198 16.5707C92.9133 16.3001 92.7556 16.0881 92.5468 15.9347C92.338 15.7812 92.0802 15.7045 91.7733 15.7045C91.4537 15.7045 91.1874 15.7855 90.9743 15.9474C90.7634 16.1094 90.6047 16.3267 90.4981 16.5994C90.3937 16.8722 90.3415 17.1747 90.3415 17.5071C90.3415 17.848 90.3948 18.1495 90.5013 18.4116C90.61 18.6715 90.7698 18.8761 90.9807 19.0252C91.1938 19.1722 91.458 19.2457 91.7733 19.2457Z",fill:"black",fillOpacity:"0.8"}),W.createElement("path",{d:"M75.8419 93V88.6364H77.4399C77.7496 88.6364 78.006 88.6875 78.2091 88.7898C78.4122 88.8906 78.5642 89.0277 78.6651 89.201C78.7659 89.3729 78.8163 89.5668 78.8163 89.7827C78.8163 89.9645 78.783 90.1179 78.7162 90.2429C78.6494 90.3665 78.5599 90.4659 78.4477 90.5412C78.3369 90.6151 78.2148 90.669 78.0813 90.7031V90.7457C78.2261 90.7528 78.3675 90.7997 78.5053 90.8864C78.6445 90.9716 78.7595 91.093 78.8504 91.2507C78.9413 91.4084 78.9868 91.6001 78.9868 91.826C78.9868 92.049 78.9342 92.2493 78.8291 92.4268C78.7254 92.603 78.5649 92.7429 78.3476 92.8466C78.1303 92.9489 77.8526 93 77.5145 93H75.8419ZM76.5003 92.4354H77.4506C77.7659 92.4354 77.9918 92.3743 78.1281 92.2521C78.2645 92.13 78.3327 91.9773 78.3327 91.794C78.3327 91.6562 78.2979 91.5298 78.2283 91.4148C78.1587 91.2997 78.0592 91.2081 77.93 91.1399C77.8021 91.0717 77.6501 91.0376 77.474 91.0376H76.5003V92.4354ZM76.5003 90.5241H77.3824C77.5301 90.5241 77.6629 90.4957 77.7808 90.4389C77.9001 90.3821 77.9946 90.3026 78.0642 90.2003C78.1352 90.0966 78.1707 89.9744 78.1707 89.8338C78.1707 89.6534 78.1075 89.5021 77.9811 89.38C77.8547 89.2578 77.6608 89.1967 77.3994 89.1967H76.5003V90.5241ZM81.8197 91.6428V89.7273H82.4589V93H81.8325V92.4332H81.7984C81.7231 92.608 81.6024 92.7536 81.4362 92.87C81.2714 92.9851 81.0662 93.0426 80.8204 93.0426C80.6102 93.0426 80.4241 92.9964 80.2622 92.9041C80.1017 92.8104 79.9752 92.6719 79.8829 92.4886C79.792 92.3054 79.7465 92.0788 79.7465 91.8089V89.7273H80.3836V91.7322C80.3836 91.9553 80.4454 92.1328 80.569 92.2649C80.6926 92.397 80.8531 92.4631 81.0505 92.4631C81.1698 92.4631 81.2885 92.4332 81.4063 92.3736C81.5257 92.3139 81.6244 92.2237 81.7025 92.103C81.7821 91.9822 81.8211 91.8288 81.8197 91.6428ZM84.8726 89.7273V90.2386H83.085V89.7273H84.8726ZM83.5644 88.9432H84.2014V92.0391C84.2014 92.1626 84.2199 92.2557 84.2568 92.3182C84.2938 92.3793 84.3414 92.4212 84.3996 92.4439C84.4593 92.4652 84.5239 92.4759 84.5935 92.4759C84.6446 92.4759 84.6894 92.4723 84.7277 92.4652C84.7661 92.4581 84.7959 92.4524 84.8172 92.4482L84.9323 92.9744C84.8953 92.9886 84.8428 93.0028 84.7746 93.017C84.7064 93.0327 84.6212 93.0412 84.5189 93.0426C84.3513 93.0455 84.195 93.0156 84.0502 92.9531C83.9053 92.8906 83.7881 92.794 83.6986 92.6634C83.6091 92.5327 83.5644 92.3686 83.5644 92.1712V88.9432ZM87.135 89.7273V90.2386H85.3474V89.7273H87.135ZM85.8268 88.9432H86.4639V92.0391C86.4639 92.1626 86.4823 92.2557 86.5193 92.3182C86.5562 92.3793 86.6038 92.4212 86.662 92.4439C86.7217 92.4652 86.7863 92.4759 86.8559 92.4759C86.907 92.4759 86.9518 92.4723 86.9901 92.4652C87.0285 92.4581 87.0583 92.4524 87.0796 92.4482L87.1947 92.9744C87.1578 92.9886 87.1052 93.0028 87.037 93.017C86.9688 93.0327 86.8836 93.0412 86.7813 93.0426C86.6137 93.0455 86.4575 93.0156 86.3126 92.9531C86.1677 92.8906 86.0505 92.794 85.961 92.6634C85.8715 92.5327 85.8268 92.3686 85.8268 92.1712V88.9432ZM89.2131 93.0661C88.9063 93.0661 88.6386 92.9957 88.4099 92.8551C88.1812 92.7145 88.0036 92.5178 87.8772 92.2649C87.7508 92.0121 87.6876 91.7166 87.6876 91.3786C87.6876 91.0391 87.7508 90.7422 87.8772 90.4879C88.0036 90.2337 88.1812 90.0362 88.4099 89.8956C88.6386 89.755 88.9063 89.6847 89.2131 89.6847C89.52 89.6847 89.7877 89.755 90.0164 89.8956C90.2451 90.0362 90.4227 90.2337 90.5491 90.4879C90.6755 90.7422 90.7387 91.0391 90.7387 91.3786C90.7387 91.7166 90.6755 92.0121 90.5491 92.2649C90.4227 92.5178 90.2451 92.7145 90.0164 92.8551C89.7877 92.9957 89.52 93.0661 89.2131 93.0661ZM89.2153 92.5312C89.4141 92.5312 89.5789 92.4787 89.7096 92.3736C89.8403 92.2685 89.9369 92.1286 89.9994 91.9538C90.0633 91.7791 90.0952 91.5866 90.0952 91.3764C90.0952 91.1676 90.0633 90.9759 89.9994 90.8011C89.9369 90.625 89.8403 90.4837 89.7096 90.3771C89.5789 90.2706 89.4141 90.2173 89.2153 90.2173C89.015 90.2173 88.8488 90.2706 88.7167 90.3771C88.586 90.4837 88.4887 90.625 88.4248 90.8011C88.3623 90.9759 88.331 91.1676 88.331 91.3764C88.331 91.5866 88.3623 91.7791 88.4248 91.9538C88.4887 92.1286 88.586 92.2685 88.7167 92.3736C88.8488 92.4787 89.015 92.5312 89.2153 92.5312ZM92.1169 91.0568V93H91.4798V89.7273H92.0913V90.2599H92.1318C92.2071 90.0866 92.325 89.9474 92.4855 89.8423C92.6474 89.7372 92.8513 89.6847 93.097 89.6847C93.32 89.6847 93.5153 89.7315 93.683 89.8253C93.8506 89.9176 93.9805 90.0554 94.0729 90.2386C94.1652 90.4219 94.2114 90.6484 94.2114 90.9183V93H93.5743V90.995C93.5743 90.7578 93.5125 90.5724 93.3889 90.4389C93.2653 90.304 93.0956 90.2365 92.8797 90.2365C92.732 90.2365 92.6006 90.2685 92.4855 90.3324C92.3719 90.3963 92.2817 90.4901 92.2149 90.6136C92.1496 90.7358 92.1169 90.8835 92.1169 91.0568Z",fill:"black",fillOpacity:"0.8"}),W.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M73 83C71.8954 83 71 83.8954 71 85V97C71 98.1046 71.8954 99 73 99H97C98.1046 99 99 98.1046 99 97V85C99 83.8954 98.1046 83 97 83H73ZM70 85C70 83.3431 71.3431 82 73 82H97C98.6569 82 100 83.3431 100 85V97C100 98.6569 98.6569 100 97 100H73C71.3431 100 70 98.6569 70 97V85Z",fill:"black",fillOpacity:"0.8"}),W.createElement("path",{d:"M58 82H34C32.3431 82 31 83.3431 31 85V97C31 98.6569 32.3431 100 34 100H58C59.6569 100 61 98.6569 61 97V85C61 83.3431 59.6569 82 58 82Z",fill:"#56CCF2",fillOpacity:"0.8"}),W.createElement("path",{d:"M36.7669 93V88.6364H38.3649C38.6746 88.6364 38.931 88.6875 39.1341 88.7898C39.3372 88.8906 39.4892 89.0277 39.5901 89.201C39.6909 89.3729 39.7413 89.5668 39.7413 89.7827C39.7413 89.9645 39.708 90.1179 39.6412 90.2429C39.5744 90.3665 39.4849 90.4659 39.3727 90.5412C39.2619 90.6151 39.1398 90.669 39.0063 90.7031V90.7457C39.1511 90.7528 39.2925 90.7997 39.4303 90.8864C39.5695 90.9716 39.6845 91.093 39.7754 91.2507C39.8663 91.4084 39.9118 91.6001 39.9118 91.826C39.9118 92.049 39.8592 92.2493 39.7541 92.4268C39.6504 92.603 39.4899 92.7429 39.2726 92.8466C39.0553 92.9489 38.7776 93 38.4395 93H36.7669ZM37.4253 92.4354H38.3756C38.6909 92.4354 38.9168 92.3743 39.0531 92.2521C39.1895 92.13 39.2577 91.9773 39.2577 91.794C39.2577 91.6562 39.2229 91.5298 39.1533 91.4148C39.0837 91.2997 38.9842 91.2081 38.855 91.1399C38.7271 91.0717 38.5751 91.0376 38.399 91.0376H37.4253V92.4354ZM37.4253 90.5241H38.3074C38.4551 90.5241 38.5879 90.4957 38.7058 90.4389C38.8251 90.3821 38.9196 90.3026 38.9892 90.2003C39.0602 90.0966 39.0957 89.9744 39.0957 89.8338C39.0957 89.6534 39.0325 89.5021 38.9061 89.38C38.7797 89.2578 38.5858 89.1967 38.3244 89.1967H37.4253V90.5241ZM42.7747 91.6428V89.7273H43.4139V93H42.7875V92.4332H42.7534C42.6781 92.608 42.5574 92.7536 42.3912 92.87C42.2264 92.9851 42.0212 93.0426 41.7754 93.0426C41.5652 93.0426 41.3791 92.9964 41.2172 92.9041C41.0567 92.8104 40.9302 92.6719 40.8379 92.4886C40.747 92.3054 40.7015 92.0788 40.7015 91.8089V89.7273H41.3386V91.7322C41.3386 91.9553 41.4004 92.1328 41.524 92.2649C41.6476 92.397 41.8081 92.4631 42.0055 92.4631C42.1248 92.4631 42.2435 92.4332 42.3613 92.3736C42.4807 92.3139 42.5794 92.2237 42.6575 92.103C42.7371 91.9822 42.7761 91.8288 42.7747 91.6428ZM45.8576 89.7273V90.2386H44.07V89.7273H45.8576ZM44.5494 88.9432H45.1864V92.0391C45.1864 92.1626 45.2049 92.2557 45.2418 92.3182C45.2788 92.3793 45.3264 92.4212 45.3846 92.4439C45.4443 92.4652 45.5089 92.4759 45.5785 92.4759C45.6296 92.4759 45.6744 92.4723 45.7127 92.4652C45.7511 92.4581 45.7809 92.4524 45.8022 92.4482L45.9173 92.9744C45.8803 92.9886 45.8278 93.0028 45.7596 93.017C45.6914 93.0327 45.6062 93.0412 45.5039 93.0426C45.3363 93.0455 45.18 93.0156 45.0352 92.9531C44.8903 92.8906 44.7731 92.794 44.6836 92.6634C44.5941 92.5327 44.5494 92.3686 44.5494 92.1712V88.9432ZM48.15 89.7273V90.2386H46.3624V89.7273H48.15ZM46.8418 88.9432H47.4789V92.0391C47.4789 92.1626 47.4973 92.2557 47.5343 92.3182C47.5712 92.3793 47.6188 92.4212 47.677 92.4439C47.7367 92.4652 47.8013 92.4759 47.8709 92.4759C47.922 92.4759 47.9668 92.4723 48.0051 92.4652C48.0435 92.4581 48.0733 92.4524 48.0946 92.4482L48.2097 92.9744C48.1728 92.9886 48.1202 93.0028 48.052 93.017C47.9838 93.0327 47.8986 93.0412 47.7963 93.0426C47.6287 93.0455 47.4725 93.0156 47.3276 92.9531C47.1827 92.8906 47.0655 92.794 46.976 92.6634C46.8865 92.5327 46.8418 92.3686 46.8418 92.1712V88.9432ZM50.2581 93.0661C49.9513 93.0661 49.6836 92.9957 49.4549 92.8551C49.2262 92.7145 49.0486 92.5178 48.9222 92.2649C48.7958 92.0121 48.7326 91.7166 48.7326 91.3786C48.7326 91.0391 48.7958 90.7422 48.9222 90.4879C49.0486 90.2337 49.2262 90.0362 49.4549 89.8956C49.6836 89.755 49.9513 89.6847 50.2581 89.6847C50.565 89.6847 50.8327 89.755 51.0614 89.8956C51.2901 90.0362 51.4677 90.2337 51.5941 90.4879C51.7205 90.7422 51.7837 91.0391 51.7837 91.3786C51.7837 91.7166 51.7205 92.0121 51.5941 92.2649C51.4677 92.5178 51.2901 92.7145 51.0614 92.8551C50.8327 92.9957 50.565 93.0661 50.2581 93.0661ZM50.2603 92.5312C50.4591 92.5312 50.6239 92.4787 50.7546 92.3736C50.8853 92.2685 50.9819 92.1286 51.0444 91.9538C51.1083 91.7791 51.1402 91.5866 51.1402 91.3764C51.1402 91.1676 51.1083 90.9759 51.0444 90.8011C50.9819 90.625 50.8853 90.4837 50.7546 90.3771C50.6239 90.2706 50.4591 90.2173 50.2603 90.2173C50.06 90.2173 49.8938 90.2706 49.7617 90.3771C49.631 90.4837 49.5337 90.625 49.4698 90.8011C49.4073 90.9759 49.376 91.1676 49.376 91.3764C49.376 91.5866 49.4073 91.7791 49.4698 91.9538C49.5337 92.1286 49.631 92.2685 49.7617 92.3736C49.8938 92.4787 50.06 92.5312 50.2603 92.5312ZM53.1919 91.0568V93H52.5548V89.7273H53.1663V90.2599H53.2068C53.2821 90.0866 53.4 89.9474 53.5605 89.8423C53.7224 89.7372 53.9263 89.6847 54.172 89.6847C54.395 89.6847 54.5903 89.7315 54.758 89.8253C54.9256 89.9176 55.0555 90.0554 55.1479 90.2386C55.2402 90.4219 55.2864 90.6484 55.2864 90.9183V93H54.6493V90.995C54.6493 90.7578 54.5875 90.5724 54.4639 90.4389C54.3403 90.304 54.1706 90.2365 53.9547 90.2365C53.807 90.2365 53.6756 90.2685 53.5605 90.3324C53.4469 90.3963 53.3567 90.4901 53.2899 90.6136C53.2246 90.7358 53.1919 90.8835 53.1919 91.0568Z",fill:"white"}),W.createElement("mask",{id:"mask0_1_30",style:{maskType:"luminance"},maskUnits:"userSpaceOnUse",x:"20",y:"121",width:"107",height:"22"},W.createElement("path",{d:"M126.001 121H20.5566V143H126.001V121Z",fill:"white"})),W.createElement("g",{mask:"url(#mask0_1_30)",className:"oss_sales_upsell_modal--graphicLine--6Z-mU"},W.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M73 143V121H74V143H73Z"}),W.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M40.5566 121.477L20.5566 143L19.8759 142.267L39.8759 120.745L40.5566 121.477Z"}),W.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M126 142.523L106 121L106.681 120.267L126.681 141.79L126 142.523Z"})))}let B4=[{key:1,elem:W.createElement(ex.Tx,{id:"oss_sales_upsell_overlay.feature1"})},{key:2,elem:W.createElement(ex.Tx,{id:"oss_sales_upsell_overlay.feature2"})},{key:3,elem:W.createElement(ex.Tx,{id:"oss_sales_upsell_overlay.feature3"})}],B6=(0,lo.U9)(function({onDismiss:e}){let t=(0,eo.m4)(t$.qK),n=(0,Y.OY)();return W.createElement(nO.Co,{isLoading:!(null==t?void 0:t.teamId),confirmationTitle:W.createElement(ex.Tx,{id:"oss_sales_upsell_overlay.title"}),titleClass:"oss_sales_upsell_modal--title--wpaS5",confirmText:W.createElement(ex.Tx,{id:"oss_sales_upsell_overlay.primary_cta"}),cancelText:W.createElement(ex.Tx,{id:"oss_sales_upsell_overlay.secondary_cta"}),onConfirm:()=>{if(!(null==t?void 0:t.teamId))return;let e=r4.e.LIBRARY_DUPLICATE_OSS_SALES_UPSELL;n((0,ts.A5)({type:r$.o,data:{upsellSource:e,teamId:t.teamId,isProCurrent:!0,overrideHighlightedPlan:"none",openCheckoutInNewTab:!0}}))},onCancel:()=>{n((0,ts.A5)({type:B5.MF,data:{source:B5.io.LIBRARY_DUPLICATE_OSS_SALES_UPSELL,overridePlaceholderText:(0,ex.t)("oss_sales_upsell_overlay.contact_sales_form.text_placeholder")}}))},onCloseButtonClick:e,dispatch:n,className:"oss_sales_upsell_modal--modal--fdI6U",overrideOnHide:e,hideOnConfirm:!1,hideOnCancel:!1,autoFocusCta:!1},W.createElement("div",{className:ap.cx.lh24.font13.pt24.pr0.pb32.pl0.$},W.createElement(aE.g,{spacing:"40px"},W.createElement(aE.g,{direction:"vertical",spacing:"12px"},W.createElement("p",null,W.createElement(ex.Tx,{id:"oss_sales_upsell_overlay.body1"})),W.createElement(aE.g,{direction:"vertical",spacing:8},W.createElement("p",{className:ap.cx.fontSemiBold.$},W.createElement(ex.Tx,{id:"oss_sales_upsell_overlay.body2"})),W.createElement(aE.g,{direction:"vertical",spacing:8},B4.map(e=>W.createElement(aE.g,{key:e.key,spacing:8,horizontalAlignItems:"start"},W.createElement("p",null,"\u2713"),W.createElement("p",null,e.elem))))),W.createElement("p",{className:ap.cx.pt4.$},W.createElement(ex.Tx,{id:"oss_sales_upsell_overlay.body3"}))),W.createElement("div",{className:ap.cx.mr16.$},W.createElement(B3,null)))),W.createElement("div",{className:ap.cx.bt1.colorBorder.bSolid.$}))},"OssSalesUpsellModal");function B8(){let e=(0,eo.m4)(t$.Ci),t=(0,eo.m4)(t$.eg);return e&&t?W.createElement(B9,{teamId:e,fileKey:t}):null}function B9({teamId:e,fileKey:t}){let n=(0,Y.OY)(),a=(0,eo.m4)(xO.MF),r=(0,es.Qb)(nm.szR,{id:e}),l=(0,mX.W)({overlay:mZ.KEc,priority:mz.g.DEFAULT_MODAL},[a,r]),i=(0,B1.wx)({undefinedIfKnownDomain:!0});return(0,rT.u)(()=>{l.show({canShow:(e,n)=>{var a;return!!(i&&(0,B2.eA)(t))&&!e&&null!=(a=n.team)&&!!a.hasPermission}})}),(0,W.useEffect)(()=>{l.isShowing&&(0,B2.k3)()},[i,l.isShowing]),W.createElement(uj.m,{isShowing:l.isShowing,modalType:uX.GK.FEATURE_UPDATE,element:function(e){return(0,rT.u)(()=>{n((0,ts.A5)({type:B6,data:{onDismiss:e.dismissModal}}))}),W.createElement("div",null)},trackingContextName:"oss_sales_upsell_overlay",onClickPrimaryCta:aC.Kw,onClose:l.complete,onManualDismiss:l.complete,testId:"oss_sales_upsell_overlay_test_id"})}var B7=n(484532);let Ue="seen_outline_mode_shortcut_pref_overlay",Ut=(0,mV.y_)(Ue),Un=new Date("2024-03-15T18:00:00.000Z").getTime();function Ua(e){let t=(0,ei.m4)(xO.uK),n=(0,ei.m4)(Ut),a=(0,eP.Co)(),{show:r,isShowing:l,complete:i,uniqueId:o}=(0,mX.W)({overlay:mZ.Y1V,priority:mz.g.DEFAULT_MODAL},[n,t]),s=aP.s.isApple(),c=aP.s.isChromeOS(),d=W.useMemo(()=>W.createElement(B7.y,{shortcut:s?"\u21E7\u2318O":"Ctrl+Shift+O"}),[s]),m=W.useMemo(()=>W.createElement(B7.y,{shortcut:s?"\u2325\u2318O":"Ctrl+Alt+O"}),[s]),u=W.useMemo(()=>W.createElement(B7.y,{shortcut:c?"Alt+Shift+3":s?"\u23253":"Alt+3"}),[s,c]),[p,_]=W.useState(!1);return W.useEffect(()=>{l&&a&&i()},[l,a,i]),(0,ur.y)(o,["show_outline_shortcuts_overlay"],e=>{var t;l||_((null==(t=e.properties)?void 0:t.entrypoint)==="alt+meta+O"),r({canShow:(e,t)=>!!(0,$.Ub)().ce_outlines_shortcut_onboarding&&!a&&!e&&null!=t&&t.getTime()<=Un})}),W.createElement(Lr.S,{width:350,isShowing:l,title:W.createElement(ex.Tx,{id:"fullscreen.outline_shortcuts_onboarding.title"}),description:W.createElement("div",null,p?W.createElement(ex.Tx,{id:"fullscreen.outline_shortcuts_onboarding.changed_shortcuts"}):W.createElement(ex.Tx,{id:"fullscreen.outline_shortcuts_onboarding.changed_outline_shortcuts"}),W.createElement("ul",{className:"outline_mode_shortcut_pref_overlay--shortcutList--DJ5Vg"},W.createElement("li",null,W.createElement(ex.Tx,{id:"fullscreen.outline_shortcuts_onboarding.show_outlines_updated",showOutlines:W.createElement("strong",null,W.createElement(ex.Tx,{id:"fullscreen.outline_shortcuts_onboarding.show_outlines"})),showOutlinesKeyCommand:d})),W.createElement("li",null,W.createElement(ex.Tx,{id:"fullscreen.outline_shortcuts_onboarding.outline_stroke_updated",outlineStroke:W.createElement("strong",null,W.createElement(ex.Tx,{id:"fullscreen.outline_shortcuts_onboarding.outline_stroke"})),outlineStrokeKeyCommand:m})),p?W.createElement("li",null,W.createElement(ex.Tx,{id:"fullscreen.outline_shortcuts_onboarding.team_library_updated",teamLibrary:W.createElement("strong",null,W.createElement(ex.Tx,{id:"fullscreen.outline_shortcuts_onboarding.team_library"})),teamLibraryKeyCommand:u})):null),W.createElement(ex.Tx,{id:"fullscreen.outline_shortcuts_onboarding.opt_out_options"})),primaryCta:{label:W.createElement(ex.Tx,{id:"fullscreen.outline_shortcuts_onboarding.got_it"}),type:"button",onClick:i,ctaTrackingDescriptor:lr.O.GOT_IT},secondaryCta:{label:W.createElement(ex.Tx,{id:"fullscreen.outline_shortcuts_onboarding.keep_old_shortcuts"}),type:"button",onClick:()=>{tA.CA.triggerAction("toggle-use-old-outline-shortcuts"),i()},ctaTrackingDescriptor:lr.O.KEEP_OLD_SHORTCUTS,tooltipProperties:{"data-tooltip-type":n1.wL.SPECIAL,"data-tooltip":n1.oz.OLD_OUTLINE_SHORTCUTS,"data-tooltip-show-above":!0,"data-tooltip-show-immediately":!0,"data-tooltip-hide-immediately":!0}},trackingContextName:"Outline Shortcuts Preference Onboarding Modal",userFlagOnShow:Ue,position:Ll.C.BOTTOM_RIGHT,onClose:i})}function Ur(){let{show:e,isShowing:t,complete:n,uniqueId:a}=(0,mX.W)({overlay:mZ.CWd,priority:mz.g.DEFAULT_MODAL}),r=!!(0,t2.e)("seen_pinned_comments_education_callout"),l=!!(0,t2.e)("has_toggled_comment_pin"),i=(0,t$.AL)(),o=(0,t1.sX)(),s=W.useContext(yd.O2),c=(0,b$.i)();return((0,ur.y)(a,"Context Viewed",t=>{var n;(null==(n=t.properties)?void 0:n.name)==="Editor > Pin comment icon"&&e({canShow:()=>!r&&(null==i?void 0:i.creatorId)===o&&!l,onShow:()=>{let{offsetX:e,offsetY:t,zoomScale:n}=s.getViewportInfo();c({centerX:e,centerY:t-72/n,scale:n})}})}),t)?W.createElement("div",{onClick:()=>{n()},role:"button",tabIndex:0},W.createElement(us.Y5,{userFlagOnShow:"seen_pinned_comments_education_callout",description:W.createElement("div",{className:ap.cx.alignCenter.$},W.createElement(ex.Tx,{id:"comments.pinning.pinned_comments_always_show_up_first_great_for_a_project_intro_or_important_info"})),onClose:()=>n(),trackingContextName:"Pinned Comments Creator Education Callout",targetKey:"pin-comment-icon",isShowing:t,arrowPosition:xh.Wp.BOTTOM,width:320,disableHighlight:!0,emphasized:!0,hideCloseButton:!0,pointerOffsetOverride:196,zIndex:Ll.q.UNSET,onTargetLost:()=>n()})):null}function Ul(){let{show:e,isShowing:t,complete:n,uniqueId:a}=(0,mX.W)({overlay:mZ.Gw2,priority:mz.g.DEFAULT_MODAL}),r=(0,Y.OY)(),l=!!(0,t2.e)("seen_pinned_comments_navigation_callout"),i=(0,t$.AL)(),o=(0,t1.sX)(),s=t&&!l;W.useEffect(()=>{s&&r(tm.s({seen_pinned_comments_navigation_callout:!0}))},[r,s]);let c=W.useContext(yd.O2),d=(0,b$.i)();return((0,ur.y)(a,"Context Viewed",a=>{var r,s;(null==(r=a.properties)?void 0:r.name)==="Editor > Pin comment icon"&&(t&&l&&(null==(s=a.properties)?void 0:s.isPinned)&&n(),e({canShow:()=>{var e;return!l&&(null==i?void 0:i.creatorId)!==o&&!!(null==(e=a.properties)?void 0:e.isPinned)},onShow:()=>{let{offsetX:e,offsetY:t,zoomScale:n}=c.getViewportInfo();d({centerX:e,centerY:t-72/n,scale:n})}}))}),t)?W.createElement("div",{onClick:()=>{n()},role:"button",tabIndex:0},W.createElement(us.Y5,{userFlagOnShow:"seen_pinned_comments_education_callout",description:W.createElement("div",{className:ap.cx.justifyCenter.alignCenter.$},W.createElement(ex.Tx,{id:"comments.pinning.feedback_giver_callout"})),onClose:()=>n(),trackingContextName:"Pinned Comments Feedback Giver Education Callout",targetKey:"thread-header-left-section",isShowing:t,arrowPosition:xh.Wp.BOTTOM,width:320,disableHighlight:!0,emphasized:!0,hideCloseButton:!0,pointToLeftEdge:!0,pointerOffsetOverride:20,zIndex:Ll.q.UNSET,onTargetLost:()=>n()})):null}var Ui=n(108052),Uo=n(476108),Us=n(853488),Uc=n(133020),Ud=n(622623),Um=n(409548),Uu=n(529704),Up=n(622987);let U_=Um.gX.AUDIO,UE=Um.iU.getOnboardingStepTriggerEventId(U_),Ug=Um.iU.getOnboardingStepUserFlag(U_),Uh=(0,mV.y_)(Ug);function Uf(e){let t=(0,eo.m4)(Uh),{show:n,isShowing:a,complete:r,uniqueId:l}=(0,mX.W)({overlay:mZ.cR_,priority:mz.g.OVERRIDING_MODAL,experiment:e.experimentCheck?{check:e.experimentCheck,predicate:e=>e,postCheck:()=>!0}:void 0},[t]),i=(0,Y.OY)(),o=(0,Y.w1)(e=>!!e.modalShown),s=(0,Y.w1)(e=>{var t;return(null==(t=e.openFile)?void 0:t.key)&&!!e.voice.activeCall[e.openFile.key]}),c=(0,Y.w1)(e=>{let{allUsers:t,deviceNameFilter:n}=e.multiplayer;return new Set(t.filter(e=>e.deviceName===n).map(e=>e.userID)).size}),d=(0,W.useCallback)(()=>i(tm.s({[Ug]:!0})),[i]);return(0,ur.y)(l,[Uu.y0],(0,W.useCallback)(()=>{o||c<2||s||n({canShow:e=>!e,onShow:d})},[n,d,o,s,c])),(0,ur.y)(l,[UE],(0,W.useCallback)(()=>{n({onBlocked:e=>Um.iU.trackActivelyTriggeredOnboardingStepBlocked(e,U_)})},[n])),W.createElement(m0.S,{isShowing:a},W.createElement(tg.kH,{name:Uc.C.getTooltipTrackingContext(U_),properties:Uc.C.getTrackingProperties()},W.createElement(Up.UV,{dismissModal:r})))}let Uv=Um.gX.COMPONENT_PUBLISHING,Uy=Um.iU.getOnboardingStepTriggerEventId(Uv),UC=Um.iU.getOnboardingStepUserFlag(Uv),Uw=(0,mV.y_)(UC);function Ub(e){let t=(0,eo.m4)(Uw),{show:n,isShowing:a,complete:r,uniqueId:l}=(0,mX.W)({overlay:mZ.g3m,priority:mz.g.OVERRIDING_MODAL,experiment:e.experimentCheck?{check:e.experimentCheck,predicate:e=>e,postCheck:()=>!0}:void 0},[t]),i=(0,Y.OY)(),o=(0,W.useCallback)(()=>i(tm.s({[UC]:!0})),[i]);return(0,ur.y)(l,["action_create_symbol"],(0,W.useCallback)(()=>{n({onShow:o,canShow:e=>!e})},[n,o])),(0,ur.y)(l,[Uy],(0,W.useCallback)(()=>{n({onBlocked:e=>Um.iU.trackActivelyTriggeredOnboardingStepBlocked(e,Uv)})},[n])),W.createElement(m0.S,{isShowing:a},W.createElement(tg.kH,{name:Uc.C.getTooltipTrackingContext(Uv),properties:Uc.C.getTrackingProperties()},W.createElement(Up.Uh,{dismissModal:r})))}let UT=Um.gX.OPEN_SESSIONS,Ux=Um.iU.getOnboardingStepTriggerEventId(UT),Uk=Um.iU.getOnboardingStepUserFlag(UT),UN=(0,mV.y_)(Uk);function US(e){let t=(0,eo.m4)(UN),{show:n,isShowing:a,complete:r,uniqueId:l}=(0,mX.W)({overlay:mZ.g1n,priority:mz.g.OVERRIDING_MODAL,experiment:e.experimentCheck?{check:e.experimentCheck,predicate:e=>e,postCheck:()=>!0}:void 0},[t]),i=(0,Y.OY)(),o=(0,Y.w1)(e=>(0,vz.Wm)(e.selectedView)),s=(0,Y.w1)(e=>{var t;return(null==(t=e.modalShown)?void 0:t.type)===LQ.OL.type}),c=(0,rb.i)(s),d=(0,W.useCallback)(()=>i(tm.s({[Uk]:!0})),[i]);return(0,ur.y)(l,["multiplayer_toolbar_share_button"],(0,W.useCallback)(()=>{o||n({onShow:d,canShow:e=>!e})},[n,d,o])),(0,ur.y)(l,[Ux],(0,W.useCallback)(()=>{n({onShow:()=>i((0,ts.A5)({type:LQ.OL,data:{source:Lz.Ce.expProTrialsV3CardStackWidget}})),onBlocked:e=>Um.iU.trackActivelyTriggeredOnboardingStepBlocked(e,UT)})},[n,i])),W.useEffect(()=>{!s&&c&&r()},[r,s,c]),W.createElement(m0.S,{isShowing:a},W.createElement(tg.kH,{name:Uc.C.getTooltipTrackingContext(UT),properties:Uc.C.getTrackingProperties()},W.createElement(Up.yK,{dismissModal:r})))}let UI=Um.gX.PASSWORD_PROTECTION,UA=Um.iU.getOnboardingStepTriggerEventId(UI),UO=Um.iU.getOnboardingStepUserFlag(UI),UM=Um.iU.getOnboardingStepUserFlag(Um.gX.OPEN_SESSIONS),UP=(0,mV.y_)(UO),UL=(0,mV.y_)(UM);function UD(e){let t=(0,eo.m4)(UP),n=(0,eo.m4)(UL),{show:a,isShowing:r,complete:l,uniqueId:i}=(0,mX.W)({overlay:mZ.iae,priority:mz.g.OVERRIDING_MODAL,experiment:e.experimentCheck?{check:e.experimentCheck,predicate:e=>e,postCheck:()=>!0}:void 0},[t,n]),o=(0,Y.OY)(),s=(0,Y.w1)(e=>"whiteboard"===(0,tw.me)(e.selectedView)),c=(0,Y.w1)(e=>(0,vz.Wm)(e.selectedView)),d=(0,Y.w1)(e=>{var t;return(null==(t=e.modalShown)?void 0:t.type)===LQ.OL.type}),m=(0,rb.i)(d),u=(0,W.useCallback)(()=>o(tm.s({[UO]:!0})),[o]);return(0,ur.y)(i,["multiplayer_toolbar_share_button"],(0,W.useCallback)(()=>{c||a({onShow:u,canShow:(e,t)=>!e&&(!s||!!t)})},[a,u,s,c])),(0,ur.y)(i,[UA],(0,W.useCallback)(()=>{a({onShow:()=>o((0,ts.A5)({type:LQ.OL,data:{source:Lz.Ce.expProTrialsV3CardStackWidget}})),onBlocked:e=>Um.iU.trackActivelyTriggeredOnboardingStepBlocked(e,UI)})},[a,o])),W.useEffect(()=>{!d&&m&&l()},[l,d,m]),W.createElement(m0.S,{isShowing:r},W.createElement(tg.kH,{name:Uc.C.getTooltipTrackingContext(UI),properties:Uc.C.getTrackingProperties()},W.createElement(Up.Y5,{dismissModal:l})))}let UR=Um.gX.UNLIMITED_PAGES,UF=Um.iU.getOnboardingStepTriggerEventId(UR),UB=Um.iU.getOnboardingStepUserFlag(UR),UU=(0,mV.y_)(UB);function UK(e){let t=(0,eo.m4)(UU),{show:n,isShowing:a,complete:r,uniqueId:l}=(0,mX.W)({overlay:mZ.oI$,priority:mz.g.OVERRIDING_MODAL,experiment:e.experimentCheck?{check:e.experimentCheck,predicate:e=>e,postCheck:()=>!0}:void 0},[t]),i=(0,Y.OY)(),o=(0,W.useCallback)(()=>i(tm.s({[UB]:!0})),[i]);return(0,rT.u)(()=>{n({onShow:o,canShow:e=>!e})}),(0,ur.y)(l,[UF],(0,W.useCallback)(()=>{n({onBlocked:e=>Um.iU.trackActivelyTriggeredOnboardingStepBlocked(e,UR)})},[n])),W.createElement(m0.S,{isShowing:a},W.createElement(tg.kH,{name:Uc.C.getTooltipTrackingContext(UR),properties:Uc.C.getTrackingProperties()},W.createElement(Up.Iz,{dismissModal:r})))}var UG=n(629600);let UH=Um.gX.VIDEO,UV=Um.iU.getOnboardingStepTriggerEventId(UH),UW=Um.iU.getOnboardingStepUserFlag(UH),UY=(0,mV.y_)(UW);function Uj(e){let t=(0,eo.m4)(UY),{show:n,isShowing:a,complete:r,uniqueId:l}=(0,mX.W)({overlay:mZ.i83,priority:mz.g.OVERRIDING_MODAL,experiment:e.experimentCheck?{check:e.experimentCheck,predicate:e=>e,postCheck:()=>!0}:void 0},[t]),i=(0,Y.OY)(),o=(0,Y.w1)(e=>{var t;return(null==(t=e.dropdownShown)?void 0:t.type)==="flyout-dropdown-shape-flyout"}),s=(0,rb.i)(o),c=(0,W.useCallback)(()=>i(tm.s({[UW]:!0})),[i]);return(0,W.useEffect)(()=>{o&&n({onShow:c,canShow:e=>!e})},[n,c,o]),(0,ur.y)(l,[UV],(0,W.useCallback)(()=>{let e=(0,UG.wr)("shape-flyout");e&&n({onShow:()=>i(lZ.Qn({type:"flyout-dropdown-shape-flyout",data:{items:rk.SS.children,targetRect:e.getBoundingClientRect()}})),onBlocked:e=>Um.iU.trackActivelyTriggeredOnboardingStepBlocked(e,UH)})},[n,i])),W.useEffect(()=>{s&&!o&&a&&r()},[s,o,r,a]),W.createElement(m0.S,{isShowing:a},W.createElement(tg.kH,{name:Uc.C.getTooltipTrackingContext(UH),properties:Uc.C.getTrackingProperties()},W.createElement(Up.oF,{dismissModal:r})))}let UX="seen_pro_onboarding_variables_overlay",Uz=(0,mV.y_)(UX);function Uq(){let e=(0,eo.m4)(Uz),{show:t,isShowing:n,complete:a}=(0,mX.W)({overlay:mZ.Gmh,priority:mz.g.DEFAULT_MODAL,experiment:{check:x_.sD,predicate:e=>e,postCheck:e=>!e}},[e]);return(0,rT.u)(()=>{t()}),W.createElement(m0.S,{isShowing:n,userFlagOnShow:UX},W.createElement(tg.kH,{name:Uc.C.getTooltipTrackingContext("Variables"),properties:Uc.C.getTrackingProperties()},W.createElement(Up.am,{dismissModal:a})))}let UZ="seen_pro_onboarding_voting_overlay",UQ=(0,mV.y_)(UZ);function UJ(){let e=(0,eo.m4)(UQ),{show:t,isShowing:n,complete:a,uniqueId:r}=(0,mX.W)({overlay:mZ.a6N,priority:mz.g.DEFAULT_MODAL,experiment:{check:x_.sD,predicate:e=>e,postCheck:e=>!e}},[e]),l=(0,Y.w1)(e=>!!e.modalShown),i=(0,Y.w1)(e=>{let{allUsers:t,deviceNameFilter:n}=e.multiplayer;return new Set(t.filter(e=>e.deviceName===n).map(e=>e.userID)).size});return(0,ur.y)(r,[Uu.y0],(0,W.useCallback)(()=>{l||i<2||t()},[t,l,i])),W.createElement(m0.S,{isShowing:n,userFlagOnShow:UZ},W.createElement(tg.kH,{name:Uc.C.getTooltipTrackingContext("Voting"),properties:Uc.C.getTrackingProperties()},W.createElement(Up.WC,{dismissModal:a})))}function U$(e){let{teamId:t,isDesignEditor:n,isFigJamEditor:a}=e,r=function(){let e=(0,eo.m4)(Uo.P),t=(0,l1.AR)(),n=(0,sC.uc)("showUi"),a=(0,sC._o)(),r=(0,Y.w1)(e=>e.openFile),l=(0,Y.w1)(e=>e.selectedView),i=(0,Y.w1)(e=>e.userFlags),o=(0,Y.w1)(e=>e.notifications.length>0);return!!r&&!!r.editorType&&!!r.canEdit&&Uc.C.canSeeOnboardingInFile({editorType:r.editorType,selectedView:l,showStarterKit:e!==Us.sr.FALSE,userFlags:i,hasNotifications:o,isDevHandoffView:t,isAppUiShown:n,isLoading:a})}(),l=(0,t$.AL)(),i=(0,Y.w1)(e=>e.teams[t])||null,o=(0,Em.QP)()||null,s=(null==l?void 0:l.editorType)||null,c=(0,Y.w1)(e=>(0,r3.canEditTeam)(t,e)),d=(0,nE.sZ)(),m=(0,Ud.eG)({team:i,org:o,editorType:s});return r&&i&&i.pro_team&&c?W.createElement("div",{"data-testid":"proOnboardingOverlayWrapper"},W.createElement(UD,{experimentCheck:x_.sD}),d&&W.createElement(Uf,{experimentCheck:x_.sD}),n&&W.createElement(Ub,{experimentCheck:x_.sD}),n&&W.createElement(UK,{experimentCheck:x_.sD}),n&&W.createElement(Uj,{experimentCheck:x_.sD}),a&&m&&W.createElement(US,{experimentCheck:x_.sD}),a&&W.createElement(UJ,null),n&&W.createElement(Uq,null)):null}var U0=n(440076);function U1(e){let{teamId:t,isDesignEditor:n,isFigJamEditor:a}=e,r=(0,U0.A)(t),l=(0,t$.AL)(),i=(0,Y.w1)(e=>e.teams[t])||null,o=(0,Em.QP)()||null,s=(null==l?void 0:l.editorType)||null,c=(0,nE.sZ)(),d=(0,Ud.eG)({team:i,org:o,editorType:s});return r?W.createElement("div",{"data-testid":"proTrialsV3EditorOverlayWrapper"},W.createElement(UD,null),c&&W.createElement(Uf,null),n&&W.createElement(Ub,null),n&&W.createElement(UK,null),n&&W.createElement(Uj,null),a&&d&&W.createElement(US,null)):null}var U2=n(107792),U5=n(864008),U3=n(617312);let U4="seen_figjam_section_preset_picker_callout",U6=(0,mV.Ww)(U4),U8=e=>(0,Y.w1)(t=>{if(!e)return!1;let n=Object.keys(t.mirror.sceneGraphSelection);return 1===n.length&&n[0]===e});function U9({sectionNodeId:e,isShowing:t,complete:n}){let a=(0,eB.OM)({subscribeToUpdates_expensive:!0}),r=sL.TSSceneGraph.instance.get(e);if(!r)return null;let l=r.sectionPresetPickerCalloutPosition;if(isNaN(l.x)||isNaN(l.y))return null;let i=(0,eB.Qv)(a,l,!0),o=parseFloat(Dz.gZ),s={top:i.y+a.y+o+2,left:i.x+a.x-150,pointerOffset:150-o,pointerPosition:xh.Wp.TOP};return W.createElement(us.Y5,{isShowing:t,userFlagOnShow:U4,fixedPosition:!0,location:s,onClose:n,clickOutsideToHide:!0,trackingContextName:"section_preset_picker_callout",title:W.createElement(ex.Tx,{id:"whiteboard.section_presets_onboarding.picker_callout.title"}),description:W.createElement(ex.Tx,{id:"whiteboard.section_presets_onboarding.picker_callout.description"}),primaryCta:{label:W.createElement(ex.Tx,{id:"rcs.got_it"}),type:"button",onClick:n,ctaTrackingDescriptor:lr.O.GOT_IT},width:300})}function U7(){let e=(0,E_.e)(),t=(0,eo.m4)(U5.m),n=(0,eo.m4)(U3.UI),a=(0,eo.m4)(U6),r=(0,W.useRef)({numShown:0,hasLoggedToSentry:!1}),[l,i]=(0,W.useState)(null),o=U8(l),{show:s,isShowing:c,complete:d}=(0,mX.W)({overlay:mZ.sBZ,priority:mz.g.DEFAULT_MODAL},[n,a]);return((0,W.useEffect)(()=>{t&&l&&o&&e&&s({canShow:(e,t)=>!!e&&!t})},[s,e,t,l,o]),(0,W.useEffect)(()=>{if("loaded"===a.status&&!a.data&&"loaded"===n.status&&n.data)return(0,U2.u)(function(e){i(e)})},[a,n]),(0,W.useEffect)(()=>{c&&r.current.numShown++,r.current.numShown>1&&!r.current.hasLoggedToSentry&&(r.current.hasLoggedToSentry=!0,(0,tO.WI)("SectionPresetPickerCallout","Callout shown more than once, this should not happen. Please investigate.",void 0,{reportAsSentryError:!0}))},[c]),c&&l)?W.createElement(U9,{sectionNodeId:l,isShowing:c,complete:d}):null}var Ke=n(964100),Kt=n(568),Kn=((D=Kn||{}).AwaitIsShowing="AwaitIsShowing",D.AwaitPastedElementsSelected="AwaitPastedElementsSelected",D.AwaitOtherElementsSelected="AwaitOtherElementsSelected",D.Completed="Completed",D),Ka=((R=Ka||{}).OnShow="OnShowUpsellLibariesConsecutivePaste",R[R.SelectionChanged=BX.m]="SelectionChanged",R);let Kr=(0,Bj.U9)({initial:"AwaitIsShowing",states:[{id:"AwaitIsShowing",transitions:[(0,Bj.gP)("OnShowUpsellLibariesConsecutivePaste","AwaitPastedElementsSelected")]},{id:"AwaitPastedElementsSelected",transitions:[(0,Bj.gP)(Ka.SelectionChanged,"AwaitOtherElementsSelected",{condition:({event:e})=>!!e.properties.didSelectedNodeIdsChange})]},{id:"AwaitOtherElementsSelected",transitions:[(0,Bj.gP)(Ka.SelectionChanged,"Completed",{condition:({event:e})=>!!e.properties.didSelectedNodeIdsChange})]},{id:"Completed",terminal:!0}]}),Kl=(0,Kt.KI)("paste_deselected_machine",Kr),Ki=(0,mV.y_)("explicitly_dismissed_create_component_pointer"),Ko=(0,xO.G_)("first_component_created_date");function Ks(){let e=(0,Y.OY)(),t=(0,eo.m4)(xO.of),n=(0,eo.m4)(ui.kD),a=(0,eo.m4)(ui.DW),r=(0,kx.sD)(),l=(0,eo.m4)(Ko),i=(0,eo.m4)(Ki),o=(0,BH.U$)(Kl),s=(0,mX.W)({overlay:mZ.KWr,priority:mz.g.SECONDARY_MODAL},[t,a,i]);return(0,ur.y)(s.uniqueId,Ke.cn,()=>{null===l&&s.show({canShow:(e,t,a)=>e&&(t||n)&&r&&!a,onShow:()=>{(0,rd.Y9)({id:Ka.OnShow})}})}),(0,ur.y)(s.uniqueId,"action_create_symbol",()=>{s.isShowing&&(e(tm.s({explicitly_dismissed_create_component_pointer:!0})),s.complete())}),(0,BH.qJ)(o,({to:e})=>{e===Kn.Completed&&(s.complete(),o.reset())}),W.createElement(Kc,{isShowing:s.isShowing,onAbort:s.complete},W.createElement(uj.m,{isShowing:s.isShowing,modalType:uX.GK.SELF_CONTAINED,trackingContextName:"Consecutive Paste Create Component Pointer",element:L1.ug,onClickPrimaryCta:s.complete,onClose:s.complete,onManualDismiss:s.complete,testId:"upsell_libraries_consecutive_paste_overlay"}))}function Kc(e){var t;let[n,a]=W.useState(!1),r=null==(t=(0,$.cp)().user_data)?void 0:t.id,{isShowing:l,onAbort:i}=e;return W.useEffect(()=>{!n&&l&&((0,DY.oH)(r)?a(!0):i())},[a,n,l,i,r]),n?e.children:null}var Kd=n(809080);let Km="seen_chrome_version_warning",Ku=["Chrome/77.0.3865.75","Chrome/77.0.3865.90","Chrome/77.0.3865.105"];function Kp(e){let t=navigator&&navigator.userAgent&&navigator.userAgent.match(/CrOS/),n=W.createElement(ex.Tx,{id:"rcs.chrome_version.please_update_your_browser_to_avoid_losing_work"}),a=W.createElement("p",null,W.createElement(ex.Tx,{id:"rcs.chrome_version.the_version_of_chrome_you_are_using_has_a_networking_issue_which_may_prevent_you_from_saving_your_work_please_upgrade_your_browser_to_version_77_0_3865_120_or_greater_to_avoid_any_issues",upgradeYourBrowser:W.createElement(eT.gf,{target:"_blank",href:"https://help.figma.com/hc/articles/360040035734",trusted:!0},W.createElement(ex.Tx,{id:"rcs.chrome_version.upgrade_your_browser"}))}));return t&&(n=W.createElement(ex.Tx,{id:"rcs.chrome_version.please_update_chrome_os_to_avoid_losing_work"}),a=W.createElement("p",null,W.createElement(ex.Tx,{id:"rcs.chrome_version.the_version_of_chrome_os_you_are_using_has_a_networking_issue_which_may_prevent_you_from_saving_your_work_a_patch_has_been_released_with_version_77_0_3865_120_starting_november_4_2019_make_sure_to_allow_chrome_os_to_update_automatically",updateAutomatically:W.createElement(eT.gf,{target:"_blank",href:"https://support.google.com/chromebook/answer/177889",trusted:!0},W.createElement(ex.Tx,{id:"rcs.chrome_version.update_automatically"}))}))),W.createElement(pK.mM,null,W.createElement("h1",null,n),W.createElement("br",null),a,W.createElement("br",null),W.createElement(function(){return W.createElement("p",null,W.createElement(ex.Tx,{id:"rcs.chrome_version.if_you_have_any_questions_please_email_us_at",figmaSupportEmail:W.createElement(eT.gf,{href:"mailto:support@figma.com",trusted:!0},"support@figma.com")}))},null),W.createElement(rW.CA,{className:Kd.yy,onMouseDown:e=>e.stopPropagation(),onClick:e.dismissModal,innerText:"close"}))}let K_=(0,mV.y_)(Km);function KE(){let e=(0,t$.AL)(),t=null==e?void 0:e.canEdit,n=(0,eo.m4)(K_),a=(0,mX.W)({overlay:mZ.aiX,priority:mz.g.URGENT_ALERT},[n]);return(0,rT.u)(()=>{let e=(0,ad.c1)()||"";t&&Ku.includes(e)&&a.show({canShow:e=>!e})}),W.createElement(uj.m,{modalType:uX.GK.DRAGGABLE,trackingContextName:"Chrome Version Warning Redalert 10-16-19",disableFooter:!0,userFlagOnShow:Km,element:Kp,onClickPrimaryCta:a.complete,onClose:a.complete,onManualDismiss:a.complete,isShowing:a.isShowing,currentStepIndex:0,totalNumSteps:1})}var Kg=n(375376),Kh=n(698404),Kf=n(284396);let Kv="seen_workflow_interop_diagram_onboarding",Ky=(0,mV.y_)(Kv),KC="FigJam Diagram Onboarding (Workflow Interop Experiment)",Kw={connectors:`${KC} - Connectors`,shapes:`${KC} - Shapes`,templates:`${KC} - Templates`};function Kb(){!function(){let e=(0,sC.uc)("pagesList");(0,W.useMemo)(()=>{let t=(0,L7.iE)("preservePageIndex");if(t&&e.length>0){(0,L7.mS)("preservePageIndex");let n=parseInt(t);if(isNaN(n)||n<0||n>=e.length)return;e.forEach((e,t)=>{t!==n&&tA.CA.triggerAction("page-delete",{args:{nodeId:e.nodeId,skipVisualBell:!0}})})}},[e])}(),function(){let{insertTemplate:e}=(0,Sv.Y7)(),t=(0,Y.OY)();(0,rT.u)(()=>{let n=(0,L7.iE)("templateId");null!=n&&((0,L7.mS)("templateId"),t(tt.Hl({hubFileId:n,callback:t=>{e({template:{template:t,type:Sy.e.HubFile},userTriggered:!1,templateInsertionDirection:eM.a4s.ABOVE,triggeredFrom:"workflow-interop"})}})))})}();let e=(0,eo.m4)(Ky),t=(0,mX.W)({overlay:mZ.SWI,priority:mz.g.OVERRIDING_MODAL},[e]),n=function(e){let t=(0,Y.OY)();return W.useMemo(()=>[{title:W.createElement(ex.Tx,{id:"rcs.figjam_diagram_onboarding.connectors_title"}),trackingContextName:Kw.connectors,arrowPosition:xh.Wp.BOTTOM,media:W.createElement(kc.A,{src:"https://static.figma.com/uploads/2655e9f0e4247dff3d5a46cf59f788473bffe0c6",aspectRatio:900/508,alt:(0,ex.t)("rcs.figjam_diagram_onboarding.connectors_title")}),description:W.createElement(ex.Tx,{id:"rcs.figjam_diagram_onboarding.connectors"}),targetKey:Rk.Sg,onClose:aC.Kw},{title:W.createElement(ex.Tx,{id:"rcs.figjam_diagram_onboarding.shapes_title"}),trackingContextName:Kw.shapes,arrowPosition:xh.Wp.BOTTOM,media:W.createElement(kc.A,{aspectRatio:900/507,src:"https://static.figma.com/uploads/0c9201d8164c2390cdcf3fb8d316b6bacdddb438",alt:(0,ex.t)("rcs.figjam_diagram_onboarding.shapes_title")}),description:W.createElement(ex.Tx,{id:"rcs.figjam_diagram_onboarding.shapes"}),targetKey:Rk.Sg,onClose:aC.Kw},{title:W.createElement(ex.Tx,{id:"rcs.figjam_diagram_onboarding.templates_title"}),trackingContextName:Kw.templates,arrowPosition:xh.Wp.BOTTOM,media:W.createElement(kc.A,{aspectRatio:900/505,src:"https://static.figma.com/uploads/b8b42ba263794abd20364c3da0f3f4993fd4ed86",alt:(0,ex.t)("rcs.figjam_diagram_onboarding.templates_title")}),description:W.createElement(ex.Tx,{id:"rcs.figjam_diagram_onboarding.templates"}),targetKey:Kf.Ow,secondaryCta:{type:"button",label:W.createElement(ex.Tx,{id:"rcs.figjam_diagram_onboarding.see_templates"}),onClick:()=>{t(lH.KE({initialX:0,initialY:0,initialTab:ST.i.TEMPLATES})),e.complete()}},onClose:aC.Kw}],[t,e])}(t);return(0,rT.u)(()=>{(0,L7.iE)(Kg.YT.key)===Kg.YT.value&&t.show({canShow:e=>!e})}),W.createElement(Kh.SG,{testId:"workflow-interop-machine-overlay",userFlagOnShow:Kv,isShowing:t.isShowing,onComplete:t.complete,steps:n})}let KT="seen_figjam_workshop_onboarding",Kx=(0,mV.y_)(KT);function Kk(e){let t=(0,eo.m4)(ui.u),n=(0,eo.m4)(Kx),a=(0,eo.m4)(ui.Yh),r=(0,eo.m4)(ui.Oo),l=(0,mX.W)({overlay:mZ.Lcf,priority:mz.g.SECONDARY_MODAL},[t,n,a,r]);return(0,rT.u)(()=>{l.show({canShow:(e,t,n,a)=>e&&!t&&n&&!a})}),W.createElement(uj.m,{onboardingKey:LE.oN,modalType:uX.GK.DRAGGABLE,trackingContextName:"Fig Jam Workshop Onboarding",title:()=>(0,ex.t)("rcs.figjam_workshop.invite_the_world_to_your_workshop"),disableFooter:!0,width:301,element:KN,isShowing:l.isShowing,onClickPrimaryCta:l.complete,onClose:l.complete,onManualDismiss:l.complete,currentStepIndex:0,totalNumSteps:1,userFlagOnShow:KT})}function KN(e){return W.createElement(W.Fragment,null,W.createElement(pK._0,{width:301,src:"https://static.figma.com/uploads/a97e76df2b43ae8b408127c1c63ea0b8485ba8ac"}),W.createElement(pK.gx,null,W.createElement(ex.Tx,{id:"rcs.figjam_workshop.open_sessions_let_you_jam_with_anyone_even_people_who_don_t_have_a_figma_account"})))}var KS=n(705595),KI=n(741800),KA=n(302844),KO=n(423420),KM=n(547328);function KP(){let e=(0,Y.OY)(),t=(0,KO.E)();return W.useEffect(()=>{if(t)return;let n=(0,uU.aC)(),a=document.querySelector(`[data-tooltip=${n}]`);return a&&e(lZ.Qn({type:nf.EX,data:{targetRect:a.getBoundingClientRect()}})),()=>{e(lZ.yi())}},[t,e]),W.createElement(W.Fragment,null,W.createElement(pK._0,{width:350,src:"https://static.figma.com/uploads/30b3da35c8e26b773e6fc4b88528ff8077543ad8"}),W.createElement(pK.gx,null,W.createElement(ex.Tx,{id:"rcs.back_to_file_browser.the_file_browser_allows_you_to"}),W.createElement("br",null),W.createElement("br",null),W.createElement(ex.Tx,{id:"rcs.back_to_file_browser.you_can_head_there_by_clicking_on_option_in_the_main_menu",optionName:W.createElement("span",{className:Kd.WI},W.createElement(ex.Tx,{id:"rcs.back_to_file_browser.back_to_files"}))})))}function KL(e){return W.createElement(uj.m,{testId:"BackToFileBrowserOverlay",modalType:uX.GK.DRAGGABLE,trackingContextName:"Back to File Browser Modal",element:KP,isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss,headerClassName:Kd.Yv,footerClassName:KM.sn,title:W.createElement(ex.Tx,{id:"rcs.back_to_file_browser.file_browser"}),onboardingKey:"back-to-files",pointDirection:uX.uA.LEFT_TITLE,currentStepIndex:e.currentStepIndex,totalNumSteps:e.totalNumSteps,userFlagOnShow:"back_to_file_browser_onboarded",UNSAFE_disableFocus:!0})}function KD(){return W.createElement("div",null,W.createElement(pK._0,{src:"https://static.figma.com/app/onboarding/page-3.gif"}),W.createElement(pK.gx,null,W.createElement(ex.Tx,{id:"rcs.comments.leave_notes_right_in_your_design_files"}),W.createElement("br",null),W.createElement("br",null),W.createElement(ex.Tx,{id:"rcs.comments.get_feedback_requests_and_copy_updates_where_you_ll_use_them_not_in_your_inbox"})))}function KR(e){return W.createElement(tg.kH,{name:"Community Hub Duplicate Onboarding Modal"},W.createElement(m0.S,{userFlagOnShow:"editor_community_duplicate_onboarded",isShowing:e.isShowing},W.createElement(nO.Y1,{className:Kd.qO,hide:e.onManualDismiss,size:uX.kH,disableClickOutsideToHide:!0},W.createElement("div",{className:Kd.W8},W.createElement("h1",null,W.createElement(ex.Tx,{id:"rcs.community_hub_file_duplicate.welcome_to_figma"})),W.createElement(eT._C,{multiple:4}),W.createElement("p",null,W.createElement(ex.Tx,{id:"rcs.community_hub_file_duplicate.you_just_duplicated_this_file_from_the_community_to_get_started_let_us_show_you_some_of_the_things_that_make_figma_special_and_different_from_other_design_tools"})),W.createElement(eT._C,{multiple:4}),W.createElement(Dt.Wo,{fullWidth:!1,onClick:e.onClickPrimaryCta},W.createElement(ex.Tx,{id:"rcs.community_hub_file_duplicate.show_me_around"})),W.createElement(eT._C,{multiple:3}),W.createElement(eT.g7,{className:Kd.IH,onClick:e.onManualDismiss,trusted:!0},W.createElement(ex.Tx,{id:"rcs.community_hub_file_duplicate.no_thanks"}))))))}function KF(){return W.createElement("div",null,W.createElement(pK._0,{src:"https://static.figma.com/app/onboarding/export.png",width:350}),W.createElement(pK.gx,null,W.createElement(ex.Tx,{id:"rcs.export.export_your_designs_for_use_in_production_or_to_share_with_your_team"}),W.createElement("br",null),W.createElement("br",null),W.createElement(ex.Tx,{id:"rcs.export.figma_can_export_to_png_jpeg_svg_and_pdf"})))}function KB(){return W.createElement("div",null,W.createElement(pK._0,{src:"https://static.figma.com/app/onboarding/livepreview.gif"}),W.createElement(pK.gx,null,W.createElement(ex.Tx,{id:"rcs.live_device_preview.to_view_your_frames_live_on_your_device_just_download_figma_mirror",linkToIOS:W.createElement(pK.AR,{href:"https://itunes.apple.com/app/figma-mirror/id1152747299"},W.createElement(ex.Tx,{id:"rcs.live_device_preview.i_os"})),linkToAndroid:W.createElement(pK.AR,{href:"https://play.google.com/store/apps/details?id=com.figma.mirror&hl=en"},W.createElement(ex.Tx,{id:"rcs.live_device_preview.android"}))}),W.createElement("br",null),W.createElement("br",null),W.createElement(ex.Tx,{id:"rcs.live_device_preview.they_ll_update_instantly_no_matter_what_network_you_re_on_and_with_no_need_to_connect_via_usb"})))}function KU(){return W.createElement("div",null,W.createElement(pK._0,{src:"https://static.figma.com/app/onboarding/multiplayer.gif"}),W.createElement(pK.gx,null,W.createElement(ex.Tx,{id:"rcs.multiplayer.collaborate_in_real_time_with_your_team_and_never_worry_about_your_files"}),W.createElement("br",null),W.createElement("br",null),W.createElement(ex.Tx,{id:"rcs.multiplayer.no_syncing_no_waiting_no_merge_conflicts"})))}function KK(){return W.createElement("div",null,W.createElement(pK._0,{src:"https://static.figma.com/app/onboarding/sharing.gif"}),W.createElement(pK.gx,null,W.createElement(ex.Tx,{id:"rcs.sharing.share_your_projects_with_teammates_clients_and_stakeholders"}),W.createElement("br",null),W.createElement("br",null),W.createElement(ex.Tx,{id:"rcs.sharing.control_their_access_with_granular_permissions_and_manage_their_access_in_one_simple_place"})))}function KG(){let e=(0,Y.OY)(),t=(0,Y.o3)();return W.useEffect(()=>{let n=t.getState().leftPanel.activeTab;return e(ti.wN({tab:eM.W8r.ASSETS})),()=>{e(ti.wN({tab:n}))}},[e,t]),W.createElement("div",null,W.createElement(pK._0,{src:"https://static.figma.com/app/onboarding/library.gif"}),W.createElement(pK.gx,null,W.createElement(ex.Tx,{id:"rcs.team_library.share_components_and_styles_across_your_team_by_publishing_them"}),W.createElement("br",null),W.createElement("br",null),W.createElement(ex.Tx,{id:"rcs.team_library.enable_quick_access_to_other_libraries_in_this_file"})))}function KH(){return W.createElement("div",null,W.createElement(pK._0,{src:"https://static.figma.com/uploads/238ff8ea8ab49de9355932f62342f3f859ad8f4a"}),W.createElement(pK.gx,null,W.createElement(ex.Tx,{id:"rcs.universal_inserts.insert_components_from_your_libraries"})))}let KV=["editor_community_duplicate_onboarded","editor_onboarded","shared_component_library_onboarded","shared_component_publish_onboarded","library_modal_onboarded","styles_onboarded","pdf_onboarded","coco_onboarded","line_height_update_onboarded","gifs_onboarded","opentype_onboarded","seen_community_hub_landing_editor_onboarding","variants_onboarded","multiple_starting_points_onboarded"],KW=[function(e){return W.createElement(Lr.S,{emphasized:!0,testId:"LaunchNuxModalViewOverlay",trackingContextName:"LaunchNux",isShowing:e.isShowing,position:Ll.C.BOTTOM_RIGHT,title:W.createElement(ex.Tx,{id:"rcs.launch_nux_modal.take_a_quick_tour_of_figma"}),description:W.createElement(ex.Tx,{id:"rcs.launch_nux_modal.walk_through_figma_s_unique_editor_and_collaboration_features"}),primaryCta:{type:"button",label:W.createElement(ex.Tx,{id:"rcs.launch_nux_modal.show_me_around"}),onClick:e.onClickPrimaryCta,ctaTrackingDescriptor:lr.O.SHOW_ME_AROUND},secondaryCta:{type:"button",label:W.createElement(ex.Tx,{id:"rcs.launch_nux_modal.no_thanks"}),onClick:e.onManualDismiss,ctaTrackingDescriptor:lr.O.NO_THANKS},onClose:e.onManualDismiss})},function(e){return W.createElement(us.Y5,{testId:"ConstraintsOverlay",trackingContextName:"Constraints Onboarding Modal",title:W.createElement(ex.Tx,{id:"rcs.constraints.constraints"}),media:W.createElement(kc.A,{src:"https://static.figma.com/app/onboarding/page-2.gif",alt:"An animation showing how constraints works in Figma.",aspectRatio:1280/720}),description:W.createElement(W.Fragment,null,W.createElement(ex.Tx,{id:"rcs.constraints.setting_precise_constraints_lets_you_build_fluid_layouts_to_support_multiple_device_sizes_and_breakpoints_within_the_same_group"}),W.createElement("br",null),W.createElement("br",null),W.createElement(ex.Tx,{id:"rcs.constraints.all_of_your_layers_adjust_the_way_you_expect_no_magic_you_get_full_control"})),isShowing:e.isShowing,primaryCta:{type:"button",label:W.createElement(ex.Tx,{id:"rcs.rcs_shared.next"}),onClick:e.onClickPrimaryCta,ctaTrackingDescriptor:lr.O.NEXT},onClose:e.onManualDismiss,targetKey:"frame",secondaryCta:{type:"link",label:W.createElement(ex.Tx,{id:"rcs.rcs_shared.learn_more"}),href:"https://help.figma.com/hc/articles/360039957734",ctaTrackingDescriptor:lr.O.LEARN_MORE},stepCounter:{stepNum:e.currentStepIndex+1,totalNumSteps:e.totalNumSteps}})},function(e){return W.createElement(us.Y5,{testId:"VectorNetworksOverlay",trackingContextName:"Vector Networks Onboarding Modal",title:W.createElement(ex.Tx,{id:"rcs.vector_networks.vector_networks"}),media:W.createElement(kc.A,{src:"https://static.figma.com/app/onboarding/page-1.gif",alt:"An animation showing how to use the pen tool",aspectRatio:1280/720}),description:W.createElement(W.Fragment,null,W.createElement(ex.Tx,{id:"rcs.vector_networks.pen_tools_have_always_been_scary_to_use"}),W.createElement("br",null),W.createElement("br",null),W.createElement(ex.Tx,{id:"rcs.vector_networks.now_they_re_both_simpler_and_more_powerful_paths_finally_work_the_way_they_should"})),isShowing:e.isShowing,primaryCta:{type:"button",label:W.createElement(ex.Tx,{id:"rcs.rcs_shared.next"}),onClick:e.onClickPrimaryCta,ctaTrackingDescriptor:lr.O.NEXT},onClose:e.onManualDismiss,targetKey:"pen",secondaryCta:{type:"link",label:W.createElement(ex.Tx,{id:"rcs.rcs_shared.learn_more"}),href:"https://help.figma.com/hc/articles/360040450213",ctaTrackingDescriptor:lr.O.LEARN_MORE},stepCounter:{stepNum:e.currentStepIndex+1,totalNumSteps:e.totalNumSteps}})},function(e){return W.createElement(uj.m,{testId:"UniversalInsertsOverlay",modalType:uX.GK.DRAGGABLE,trackingContextName:"Universal Inserts Onboarding Modal",element:KH,isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss,headerClassName:Kd.Yv,footerClassName:KM.sn,title:W.createElement(ex.Tx,{id:"rcs.universal_inserts.find_components_plugins_and_widgets"}),onboardingKey:"insert",additionalButton:{onClickBehavior:"link",label:W.createElement(ex.Tx,{id:"rcs.rcs_shared.learn_more"}),href:"https://help.figma.com/hc/articles/360038510693-Guide-to-Figma-Community"},currentStepIndex:e.currentStepIndex,totalNumSteps:e.totalNumSteps,UNSAFE_disableFocus:!0})},function(e){return W.createElement(uj.m,{testId:"CommentsOverlayOverlay",modalType:uX.GK.DRAGGABLE,trackingContextName:"Comments Onboarding Modal",element:KD,isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss,headerClassName:Kd.Yv,footerClassName:KM.sn,title:W.createElement(ex.Tx,{id:"rcs.comments.comments"}),onboardingKey:"comment",additionalButton:{onClickBehavior:"link",label:W.createElement(ex.Tx,{id:"rcs.rcs_shared.learn_more"}),href:"https://help.figma.com/hc/articles/360039825314"},currentStepIndex:e.currentStepIndex,totalNumSteps:e.totalNumSteps,UNSAFE_disableFocus:!0})},function(e){return W.createElement(uj.m,{testId:"SharingOverlay",modalType:uX.GK.DRAGGABLE,trackingContextName:"Sharing Onboarding Modal",element:KK,isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss,headerClassName:Kd.Yv,footerClassName:KM.sn,title:W.createElement(ex.Tx,{id:"rcs.sharing.sharing_and_permissions"}),onboardingKey:LE.oN,additionalButton:{onClickBehavior:"link",label:W.createElement(ex.Tx,{id:"rcs.rcs_shared.learn_more"}),href:"https://help.figma.com/hc/articles/360039485514"},currentStepIndex:e.currentStepIndex,totalNumSteps:e.totalNumSteps,UNSAFE_disableFocus:!0})},function(e){return W.createElement(uj.m,{testId:"MultiplayerOverlay",modalType:uX.GK.DRAGGABLE,trackingContextName:"Multiplayer Onboarding Modal",element:KU,isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss,headerClassName:Kd.Yv,footerClassName:KM.sn,title:W.createElement(ex.Tx,{id:"rcs.multiplayer.multiplayer"}),onboardingKey:LE.oN,additionalButton:{onClickBehavior:"link",label:W.createElement(ex.Tx,{id:"rcs.rcs_shared.learn_more"}),href:"https://blog.figma.com/multiplayer-editing-in-figma-8f8076c6c3a6"},currentStepIndex:e.currentStepIndex,totalNumSteps:e.totalNumSteps,UNSAFE_disableFocus:!0})},function(e){return W.createElement(uj.m,{testId:"TeamLibraryOverlay",modalType:uX.GK.DRAGGABLE,trackingContextName:"Team Library Onboarding Modal",element:KG,isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss,headerClassName:Kd.Yv,footerClassName:KM.sn,title:W.createElement(ex.Tx,{id:"rcs.team_library.team_library"}),onboardingKey:"library",additionalButton:{onClickBehavior:"link",label:W.createElement(ex.Tx,{id:"rcs.rcs_shared.learn_more"}),href:"https://help.figma.com/hc/articles/360041051154"},currentStepIndex:e.currentStepIndex,totalNumSteps:e.totalNumSteps,userFlagOnShow:"library_modal_onboarded",UNSAFE_disableFocus:!0})},function(e){return W.createElement(uj.m,{testId:"ExportOverlay",modalType:uX.GK.DRAGGABLE,trackingContextName:"Export Onboarding Modal",element:KF,isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss,headerClassName:Kd.Yv,footerClassName:KM.sn,title:W.createElement(ex.Tx,{id:"rcs.export.export"}),additionalButton:{onClickBehavior:"link",label:W.createElement(ex.Tx,{id:"rcs.rcs_shared.learn_more"}),href:"https://help.figma.com/hc/articles/360040028114"},currentStepIndex:e.currentStepIndex,totalNumSteps:e.totalNumSteps,UNSAFE_disableFocus:!0})},function(e){return W.createElement(uj.m,{testId:"LiveDevicePreviewOverlay",modalType:uX.GK.DRAGGABLE,trackingContextName:"Live Device Preview Onboarding Modal",element:KB,isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss,headerClassName:Kd.Yv,footerClassName:KM.sn,title:W.createElement(ex.Tx,{id:"rcs.live_device_preview.live_device_preview"}),currentStepIndex:e.currentStepIndex,totalNumSteps:e.totalNumSteps,UNSAFE_disableFocus:!0})}];function KY(){return tW.sZ?KW:[...KW,KL]}function Kj(){let e=(0,Y.OY)(),t=(0,eo.m4)(mV.wB),n=(0,eo.m4)(xO.m2),a=(0,eo.m4)(xO.I3),r=(0,eo.m4)(xO.W_),l=(0,t$.AL)(),i=(0,aM.aI)(l)&&(0,tb.YN)({editorType:l.editorType})===nd.aE.DESIGN,o=(0,aM.aI)(l)&&l.canEdit,s=(0,mX.W)({overlay:mZ.ESH,priority:mz.g.OVERRIDING_MODAL},[t,a,n,r]),[c,d]=W.useState([]),m=W.useCallback(e=>{s.show({canShow:(t,n,a,r)=>{let l=(function({userFlags:e,emailValidatedAt:t,userSpace:n,isReset:a,jobTitle:r}){let l=(0,kx.Cm)(e),i=(0,F_.QP)(e,"editor_community_duplicate_onboarded"),o=(0,xM.gP)({emailValidatedAt:t,jobTitle:r}),s=(0,F_.QP)(e,"claimed_invite_with_pending_user_mention"),c=(0,F_.QP)(e,"has_closed_comment"),d=!!J.default.location.hash,m="community"===(0,F_.KY)(e),u=n===nv._O.ORG,p=(0,DY.KM)(e),_=(0,L7.iE)(TG.s3.KEY)===TG.s3.VALUE;if(l&&!a||s&&!c&&d)return[];if(!_&&!p)return KY();if(i||o)return[];if(m){if(!u)return p?[(0,$.Ub)().nux_gen0_overlay_design_editor?null:xM.OC]:[(0,$.Ub)().nux_gen0_overlay_design_editor?null:xM.OC,KR,...KY()];if(!p)return[KR,...KY()]}else if(!p&&(!l||a))return[KR,...KY()];return[]})({userFlags:t,emailValidatedAt:n,userSpace:a,isReset:e,jobTitle:r}).filter(e=>!!e);return l.length>0&&(d(l),!0)}})},[s]);W.useEffect(()=>{o&&i&&m(!1)},[m,o,i]),(0,ur.y)(s.uniqueId,"Reset Onboarding",()=>m(!0));let u=W.useCallback(()=>{let t={};for(let e of KV)t[e]=!0;e(tm.s(t)),s.complete()},[e,s]);return s.isShowing&&0!==c.length?W.createElement(KX,{steps:c,onComplete:u}):null}function KX(e){let{steps:t,onComplete:n}=e,a=(0,ul.c)({numSteps:t.length,onComplete:n});return W.createElement(uo.y,{currentStep:a.currentStep,isShowing:!0,children:t.map((e,r)=>W.createElement(e,{onClickPrimaryCta:a.next,onClose:aC.Kw,onManualDismiss:n,isShowing:!0,currentStepIndex:r,totalNumSteps:t.length}))})}var Kz=n(682076),Kq=n(849524),KZ=n(540636);let KQ=[Kz.AV.CREATE_FRAME,Kz.AV.FORMAT_FRAME,Kz.AV.CREATE_TEXT,Kz.AV.FORMAT_TEXT];var KJ=n(51408),K$=n(311408),K0=n(131748);let K1=(0,eE.Cm)()?0:300;class K2{constructor(e,t,n,a,r,l,i,o,s,c,d,m,u,p,_,E,g,h,f,v,y){this.setCursorBotX=e,this.setCursorBotY=t,this.setCursorBotChat=n,this.setCursorBotAnimationDuration=a,this.setCursorBotTutorialPhase=r,this.setCursorType=l,this.setCursorDirection=i,this.setToolbarActionWithSimulatedHover=o,this.setCursorBotAnimationLayerPosition=s,this.setCursorBotOverlayType=c,this.setCursorBotTutorialDuration=d,this.hasWaved=m,this.cursorBotX=u,this.cursorBotY=p,this.getViewportInfo=_,this.navigate=E,this.sceneGraph=g,this.infoForSentry=h,this.dispatch=f,this.insertTemplate=v,this.appModel=y,this.waitForDuration=(e,t)=>new Promise(n=>{this.setTimeoutWrapper({callback:n,delay:(0,eE.Cm)()&&!t?0:e,isBlockingTutorialExecution:!0})}),this.unblockUserEventsTimeout=null,this.blockUserEvents=()=>{eM.KEP.editorState().shouldBlockUserEvents.set(!0),K0.qM.setIsCursorBotEditing(!0),(0,eE.Cm)()||(this.unblockUserEventsTimeout=setTimeout(()=>{this.unblockUserEvents()},6e4))},this.unblockUserEvents=()=>{this.setCursorBotTutorialPhase(Kz.cj.AWAITING_PLAYBACK),eM.KEP.editorState().shouldBlockUserEvents.set(!1),this.unblockUserEventsTimeout&&clearTimeout(this.unblockUserEventsTimeout),this.unblockUserEventsTimeout=null,K0.qM.setIsCursorBotEditing(!1)},this.animateChat=(e,t)=>{if(e>t.length||this.shouldStop)return;let n=t.slice(0,e);this.setCursorBotChat(n),this.setTimeoutWrapper({callback:()=>{this.animateChat(e+1,t)},delay:(0,eE.Cm)()?0:25,isBlockingTutorialExecution:!1})},this.startingStateHubFiles={},this.shouldStop=!1,this.timeoutIds=[],this.pendingCallbacksToRun=[]}runTutorial(e,t){let n=async()=>{for(let t of(await this.setupStateAndCanvas(e),e.steps)){if(this.shouldStop)return;try{await this.transition(t)}catch(e){this.logErrorAndStopTutorial("Could not execute step",{step:t,err:e});return}}this.resetStateAndMarkTutorialComplete(e.tutorialPlayedUserFlag,t)};(0,K$.MQ)(KI.Lx);let a=window.performance.now();return this.currentTutorialRunningPromise=n(),this.currentTutorialRunningPromise.finally(()=>{(0,K$.K2)(KI.Lx);let t=window.performance.now()-a;(0,tO.Ij)(KI.Lx,"Tutorial completed or stopped",{elapsedDuration:t,tutorialName:e.name})}),this.currentTutorialRunningPromise}insertStartingStateFromHubFile({hubFileId:e,nodeWidth:t,nodeHeight:n}){if(!e)throw Error("Hub file ID is not provided");let a=async e=>{let a=eM.Y57.findBoundsToCenterNewTopLevelNode(t+88,n),r=a.origin.x+88,l=a.origin.y;await this.centerViewportAroundCanvasRect({x:r,y:l,width:t,height:n}),await this.waitForDuration(this.moveCursorBot({x:r+t/2,y:l+n/2,coordinateType:"canvas",animationDuration:600})),await this.transition({type:Kz.Ap.SET_CHAT,message:"Let\u2019s go to this example..."}),await this.insertTemplate({template:{type:Sy.e.HubFile,template:e},userTriggered:!1,editScopeType:eM.IBo.ONBOARDING,triggeredFrom:"cursor-bot",templateInsertionDirection:eM.a4s.CUSTOM_POSITION,templateCustomPosition:{x:r,y:l},selectTemplateAfterInsertion:!0}),await this.waitForDuration(500)};return this.startingStateHubFiles[e]?a(this.startingStateHubFiles[e]):new Promise((t,n)=>{this.dispatch(tt.Hl({hubFileId:e,callback:async e=>{try{this.startingStateHubFiles[e.id]=e,await a(e),t()}catch(e){n(e)}}}))})}logSentryError(e,t){(0,tO.WI)(KI.Lx,e,t,{reportAsSentryError:!0})}logErrorAndStopTutorial(e,t){this.logSentryError(e,t),this.dispatch(Da.M.error("Could not run tutorial. Please try again later.")),this.stopCurrentTutorial()}async stopCurrentTutorial(e){this.shouldStop=!0,this.timeoutIds.forEach(e=>clearTimeout(e)),this.pendingCallbacksToRun.forEach(e=>e()),await this.currentTutorialRunningPromise,this.resetCursorBotStateToDefaults(),this.unblockUserEvents(),e&&(0,Z.we)("Cursor Bot Tutorial Stopped",{...e})}updatePositionState(e,t){this.cursorBotX=e,this.cursorBotY=t}updateSceneGraphReference(e){this.sceneGraph=e}updateInfoForSentry(e){this.infoForSentry=e}updateAppModel(e){this.appModel=e}updateHasWaved(e){this.hasWaved=e}setTimeoutWrapper({callback:e,delay:t,isBlockingTutorialExecution:n}){this.timeoutIds.push(setTimeout(e,t)),n&&this.pendingCallbacksToRun.push(e)}resetCursorBotStateToDefaults(){this.tutorialParentNode=void 0,this.setCursorBotX(KS.WQ),this.setCursorBotY(KS.KM),this.setCursorBotChat(""),this.setCursorBotAnimationDuration(0),this.setCursorType(eM.m2t.DEFAULT),this.setToolbarActionWithSimulatedHover(void 0),this.setCursorDirection(Kz.Ss.DEFAULT),this.setCursorBotOverlayType(Kz.my.CANVAS),eM.i46.triggerAction("set-tool-default",null),this.timeoutIds=[],this.pendingCallbacksToRun=[]}async navigateToPageNodesOrDefaultViewport(){var e;let t=null==(e=this.sceneGraph.getCurrentPage())?void 0:e.childrenGuids;t&&t.length>0?eM.u2q.scrollAndZoomIntoView(t):await this.navigate({centerX:0,centerY:0,scale:3})}getSelectedNodeIfMatches(e){if(""!==eM.i46.getFirstSelectedNodeIdForCurrentPage()){let t=eM.i46.getFirstSelectedNodeIdForCurrentPage(),n=this.sceneGraph.get(t);if(n&&e(n,this.sceneGraph))return n}}computeAndSetTutorialDuration(e){let t=e.duration;if(e.startingState){let{centerNodeMatcher:n,resetStartingState:a}=e.startingState;!(0,eF.u8)(n,this.sceneGraph)&&a&&(t+=3e3)}this.hasWaved||(t+=KI.c5+KI.GS),this.setCursorBotTutorialDuration(t),(0,tO.Ij)(KI.Lx,"Estimated tutorial duration",{tutorialDuration:t,tutorialName:e.name})}async setupStateAndCanvas(e){if(this.blockUserEvents(),this.shouldStop=!1,this.timeoutIds=[],this.computeAndSetTutorialDuration(e),e.startingViewportFrameType&&this.setCursorBotOverlayType(e.startingViewportFrameType),this.setCursorBotTutorialPhase(Kz.cj.PLAYING),this.hasWaved||(this.setTimeoutWrapper({callback:()=>{this.hasWaved=!0,this.dispatch(tm.s({cursor_bot_v2_has_greeted_with_wave:!0}))},delay:KI.Kx,isBlockingTutorialExecution:!1}),await this.transition({type:Kz.Ap.SET_CHAT,message:"Certainly! Here\u2019s how...",additionalDelay:KI.GS,preDelay:KI.c5})),void 0!==e.startingState){let t;let{centerNodeMatcher:n,prioritizeSelectedNode:a,resetStartingState:r}=e.startingState;if(a&&(t=this.getSelectedNodeIfMatches(n)),t||(t=(0,eF.OC)(n,this.sceneGraph)),!t&&r)try{await this.insertStartingStateFromHubFile(r),t=(0,eF.u8)(n,this.sceneGraph)}catch(t){this.logErrorAndStopTutorial("Could not insert starting state from hub file for tutorial",{err:t,tutorialName:e.name});return}if(t){this.tutorialParentNode=(0,eF.Wg)(this.sceneGraph,t.guid)??void 0;let e={centerX:t.absoluteBoundingBox.x+t.absoluteBoundingBox.w/2,centerY:t.absoluteBoundingBox.y+t.absoluteBoundingBox.h/2,scale:.2},n=eM.u2q.getViewportBounds(),a=(0,KI.o$)(t,{width:n.width,height:n.height,zoom:this.getViewportInfo().zoomScale});null==a||isNaN(a)||(e.scale=a),await this.navigate(e)}else await this.navigateToPageNodesOrDefaultViewport()}else await this.navigateToPageNodesOrDefaultViewport()}resetStateAndMarkTutorialComplete(e,t){setTimeout(()=>{this.dispatch(tm.s({[e]:!0})),null==t||t(),this.resetCursorBotStateToDefaults(),this.unblockUserEvents()},K1)}async centerViewportAroundCanvasRect(e,t=!1){let{x:n,y:a,width:r,height:l}=e,i=this.getViewportInfo();if(t&&(0,eB.Uf)(e,i))return;let o=i.zoomScale;(r*o>i.width||l*o>i.height)&&(o=Math.min(i.width/r,i.height/l)/1.1),await this.navigate({centerX:n+r/2,centerY:a+l/2,scale:o})}moveCursorBot({x:e,y:t,coordinateType:n,animationDuration:a}){if("canvas"===n){let n=this.getViewportInfo(),a=(0,eB.Qv)(n,{x:e,y:t});e=a.x+n.x,t=a.y+n.y}return a=a||function(e,t,n,a){let r=Math.abs(e-t),l=Math.abs(n-a);return Math.min(Math.round(5*Math.sqrt(r*r+l*l)),3e3)}(this.cursorBotX,e,this.cursorBotY,t),this.setCursorBotAnimationDuration(a),this.setCursorBotX(e),this.setCursorBotY(t),a}repositionNode(e,t,n){EG.Pc.onboarding("reposition-node",()=>e.relativeTransform={...e.relativeTransform,m02:t,m12:n})}async insertNode(e,t,n,a,r){let l;if("RECTANGLE"===e.nodeType){let t=await (0,KI.m4)({imgSrc:e.imgSrc,desiredWidth:e.width,desiredHeight:e.height});l=t?this.sceneGraph.get(t):null}else l=EG.Pc.onboarding("create-node",()=>this.sceneGraph.createNode(e.nodeType));if(!l)return null;if(EG.Pc.onboarding("size",()=>{l&&eM.GqY.setSelectedNodeAndCanvas(l.guid,!1)}),r){let e=(0,eF.u8)(r,this.sceneGraph,this.tutorialParentNode);EG.Pc.onboarding("append-child",()=>l&&(null==e?void 0:e.appendChild(l)))}if(this.repositionNode(l,n,a),EG.Pc.onboarding("rename-node",()=>{l&&(l.name=t)}),"FRAME"===e.nodeType)EG.Pc.onboarding("resize-frame",()=>null==l?void 0:l.resizeWithoutConstraints(e.width||100,e.height||100));else if("TEXT"===e.nodeType){let t=l.parentNode;if(null!==t){let e="CANVAS"===t.type?t.backgroundColor:t.fills[0].color;EG.Pc.onboarding("set-text-color",()=>{l&&(l.fills=[{...l.fills[0],color:(0,KJ.q0)(e||KJ.a8)?KJ.a8:KJ.G0}])})}let n=e.text.length,a=e.typingDurationPerCharMs||50,{x:r,y:i}=l.absoluteBoundingBox,o=this.moveCursorBot({coordinateType:"canvas",x:r+6.2*n,y:i,animationDuration:a*n}),s=0;for(let t=0;t<n;t++)this.setTimeoutWrapper({callback:()=>{EG.Pc.onboarding("set-text",()=>{var n,a,r,i;null==l||l.spliceCharacters((null==(a=null==(n=l.textData)?void 0:n.characters)?void 0:a.length)??t,(null==(i=null==(r=l.textData)?void 0:r.characters)?void 0:i.length)??t,e.text[t],"BEFORE")})},delay:s,isBlockingTutorialExecution:!1}),s+=Math.max(a-t,40);e.shouldCenterAlign&&this.setTimeoutWrapper({callback:()=>{EG.Pc.onboarding("set-text-horizontal-alignment",()=>{l&&(l.textAlignHorizontal="CENTER")})},delay:s,isBlockingTutorialExecution:!1}),await this.waitForDuration(o)}return l}getCursorBotNodeInsertionLocation(e){var t,n;if(e.locationType===Kz.K.INSIDE_SCENE_NODE){let{parentMatcher:a,useDefaultLocationIfParentNotFound:r}=e.location,l=(0,eF.u8)(a,this.sceneGraph,this.tutorialParentNode);if(!l)return r?this.getCursorBotNodeInsertionLocation({...e,locationType:Kz.K.DEFAULT}):void 0;let i=(null==(t=e.location)?void 0:t.offsetX)??0,o=(null==(n=e.location)?void 0:n.offsetY)??0,{absoluteBoundingBox:{x:s,y:c,w:d,h:m}}=l;e.location.shouldPositionRelativeToCenterOfParent&&(i+=d/2,o+=m/2);let u=s+i,p=c+o;return e.cursorPosition===Kz.mW.BOTTOM_RIGHT&&null==e.nodeDrawingAnimationDuration&&(u+=e.payload.width??100,p+=e.payload.height??100),{cursorBotX:u,cursorBotY:p,parentNodeWidth:d,parentNodeHeight:m,insertionX:i,insertionY:o}}if(e.locationType===Kz.K.CANVAS_COORDINATE){let t=e.location.x,n=e.location.y;return e.cursorPosition===Kz.mW.BOTTOM_RIGHT&&null==e.nodeDrawingAnimationDuration&&(t+=e.payload.width??100,n+=e.payload.height??100),{cursorBotX:t,cursorBotY:n,insertionX:e.location.x,insertionY:e.location.y}}{let{x:t,y:n}=eM.Y57.findBoundsToCenterNewTopLevelNode(e.payload.width??100,e.payload.height??100).origin;return{cursorBotX:t,cursorBotY:n}}}async transition(e){var t;if(this.shouldStop)return;let n=async()=>{switch(e.type){case Kz.Ap.SET_CHAT:{e.preDelay&&await this.waitForDuration(e.preDelay);let{message:t}=e;e.hasBackupMessage&&e.shouldShowBackupMessage(this.sceneGraph)&&(t=e.backupMessage),this.animateChat(1,t);return}case Kz.Ap.CLEAR_CHAT:this.setCursorBotChat("");return;case Kz.Ap.TARGET_DOM_NODE:{let t=(0,UG.wr)(e.dataOnboardingKey);if(!t){let t={name:e.dataOnboardingKey,...this.infoForSentry};e.continueIfNotFound?this.logSentryError("Failed to find DOM node to target",t):this.logErrorAndStopTutorial("Failed to find DOM node to target",t);return}let{targetX:n,targetY:a}=(0,KI.AJ)(t,e.position,e.offset);await this.waitForDuration(this.moveCursorBot({x:n,y:a,coordinateType:"dom",animationDuration:e.cursorBotMovementAnimationDuration})),e.triggerHoverOfItemWithName&&this.setToolbarActionWithSimulatedHover(e.triggerHoverOfItemWithName);return}case Kz.Ap.TARGET_SCENE_NODE:{let t=(0,eF.u8)(e.meetsConditions,this.sceneGraph,this.tutorialParentNode);if(e.prioritizeSelectedNode&&(t=this.getSelectedNodeIfMatches(e.meetsConditions)??t),!t){e.continueIfNotFound||this.logErrorAndStopTutorial("Failed to find scene node to target",{name:e.nodeNameForLogging});return}await this.centerViewportAroundCanvasRect({x:t.absoluteBoundingBox.x,y:t.absoluteBoundingBox.y,width:t.absoluteBoundingBox.w,height:t.absoluteBoundingBox.h},!0);let n=e.position||{x:Kz.eh.RIGHT,y:Kz.lA.BOTTOM},{targetX:a,targetY:r}=(0,KI.AJ)(t,n,e.offset);await this.waitForDuration(this.moveCursorBot({x:a,y:r,coordinateType:"canvas",animationDuration:e.cursorBotMovementAnimationDuration})),e.shouldSelect&&eM.GqY.setSelectedNodeAndCanvas(t.guid,!1);return}case Kz.Ap.SELECT_SCENE_NODE:{let t;if(e.prioritizeSelectedNode&&(t=this.getSelectedNodeIfMatches(e.meetsConditions)),t||(t=(0,eF.u8)(e.meetsConditions,this.sceneGraph,this.tutorialParentNode)),!t){this.logErrorAndStopTutorial("Failed to find scene node to select",{name:e.nodeNameForLogging});return}eM.GqY.setSelectedNodeAndCanvas(t.guid,!1);return}case Kz.Ap.INSERT_NODE:{let t=this.getCursorBotNodeInsertionLocation(e);if(void 0===t){this.logErrorAndStopTutorial("Could not find parent scene node to insert node",{name:e.nodeNameForLogging});return}let n=e.payload.height??100,a=e.payload.width??100;await this.centerViewportAroundCanvasRect({x:t.cursorBotX,y:t.cursorBotY,width:a,height:n},!0),await this.waitForDuration(this.moveCursorBot({x:t.cursorBotX,y:t.cursorBotY,coordinateType:"canvas",animationDuration:e.cursorMovementAnimationDuration||600})),e.nodeDrawingAnimationDuration&&"FRAME"===e.payload.nodeType&&(this.setCursorBotAnimationLayerPosition({x:t.cursorBotX,y:t.cursorBotY,width:a,height:n,duration:e.nodeDrawingAnimationDuration}),await this.waitForDuration(this.moveCursorBot({x:t.cursorBotX+a,y:t.cursorBotY+n,coordinateType:"canvas",animationDuration:e.nodeDrawingAnimationDuration})));let r=t.insertionX??t.cursorBotX,l=t.insertionY??t.cursorBotY;await this.insertNode(e.payload,e.nodeName,r,l,e.locationType===Kz.K.INSIDE_SCENE_NODE?e.location.parentMatcher:void 0),this.setCursorBotAnimationLayerPosition(null);return}case Kz.Ap.MOVE_CURSOR_TO_CENTER_SCREEN:return this.waitForDuration(this.moveCursorBot({x:this.getViewportInfo().offsetX,y:this.getViewportInfo().offsetY,coordinateType:"canvas",animationDuration:e.cursorBotMovementAnimationDuration}));case Kz.Ap.CHANGE_TOOL:[eM.w3X.FRAME,eM.w3X.TYPE].includes(e.toolType)?(e.toolType===eM.w3X.TYPE?eM.i46.triggerAction("set-tool-type",null):e.toolType===eM.w3X.FRAME&&eM.i46.triggerAction("set-tool-frame",null),this.setCursorType(eM.m2t.CROSSHAIR)):e.toolType===eM.w3X.HAND?(eM.i46.triggerAction("set-tool-hand",null),this.setCursorType(eM.m2t.HAND)):e.toolType===eM.w3X.NONE&&(eM.i46.triggerAction("set-tool-default",null),this.setCursorType(eM.m2t.DEFAULT));return;case Kz.Ap.MOVE_VIEWPORT:if("displace"===e.movementType)return this.navigate({centerX:this.getViewportInfo().offsetX+e.xDisplacement,centerY:this.getViewportInfo().offsetY+e.yDisplacement,scale:this.getViewportInfo().zoomScale});return this.navigate({centerX:e.centerX,centerY:e.centerY,scale:e.scale||this.getViewportInfo().zoomScale});case Kz.Ap.ADJUST_ZOOM_LEVEL:return this.navigate({centerX:this.getViewportInfo().offsetX,centerY:this.getViewportInfo().offsetY,scale:e.scale});case Kz.Ap.SET_CURSOR_DIRECTION:this.setCursorDirection(e.direction);return;case Kz.Ap.SET_PROPERTIES_PANEL_TAB:(0,eL.o7)(e.tab);return;case Kz.Ap.UPDATE_SELECTED_NODE_PROPERTIES:{let t=eM.i46.getFirstSelectedNodeIdForCurrentPage(),n=this.sceneGraph.get(t);if(!n){(0,tO.WI)(KI.Lx,"Failed to find selected node to update",void 0,{reportAsSentryError:!0});return}this.appModel.activeCanvasEditModeType===eM.a_v.TEXT&&((0,eL.mo)(),eM.GqY.setSelectedNodeAndCanvas(t,!1)),tA.CA.updateSelectionProperties({..."function"==typeof e.properties?e.properties(n):e.properties},{shouldCommit:EV.MO.YES,editScopeType:eM.IBo.ONBOARDING});return}case Kz.Ap.SCROLL_PROPERTIES_PANEL:(0,KI.Ge)(e.value);return;case Kz.Ap.FOCUS_INPUT:{let t=document.querySelector(e.selector);t?t.focus():(0,tO.WI)(KI.Lx,"Failed to find input to focus",{selector:e.selector},{reportAsSentryError:!0});return}case Kz.Ap.SET_VIEWPORT_FRAME_TYPE:this.setCursorBotOverlayType(e.viewportFrameType);return}};await n();let a=e.additionalDelay||0;e.type===Kz.Ap.SET_CHAT&&(a+=25*e.message.length),a>0&&await this.waitForDuration(a,e.type===Kz.Ap.SET_CHAT),await (null==(t=e.callback)?void 0:t.call(e,this.dispatch))}}function K5(){let[e,t]=(0,eo.lZ)(KS.sx),[n,a]=(0,eo.lZ)(KS.aE),r=(0,ei.my)(KS.sp),l=(0,ei.my)(KS.Os),i=(0,ei.my)(KS.qM),o=(0,ei.my)(KS.dl),s=(0,ei.my)(KS.K6),c=(0,ei.my)(KS.qA),d=(0,ei.my)(KS.eI),m=(0,ei.my)(KS.S_),u=(0,ei.my)(KS.kJ),p=!!(0,t2.e)("cursor_bot_v2_has_greeted_with_wave"),_=W.useContext(yd.O2),E=(0,b$.i)(),g=(0,Y.w1)(e=>e.mirror.sceneGraph),h=(0,Y.OY)(),{insertTemplate:f}=(0,Sv.Y7)(),v=(0,eA.QH)(),y=(0,eD.s5)((0,eL.a6)()),C=(0,Y.w1)(e=>e.mirror.appModel.showUi),w=(0,Y.w1)(e=>e.mirror.appModel),b=W.useRef();return b.current||(b.current=new K2(t,a,l,i,s,c,r,d,o,m,u,p,e,n,()=>_.getViewportInfo(),E,g,{selectedNodeType:null==v?void 0:v.type,isUiShown:C,propertiesPanelTab:y},h,f,w)),W.useEffect(()=>{var t;null==(t=b.current)||t.updatePositionState(e,n)},[e,n]),W.useEffect(()=>{var e;null==(e=b.current)||e.updateSceneGraphReference(g)},[g]),W.useEffect(()=>{var e;null==(e=b.current)||e.updateInfoForSentry({selectedNodeType:null==v?void 0:v.type,isUiShown:C,propertiesPanelTab:y})},[v,y,C]),W.useEffect(()=>{var e;null==(e=b.current)||e.updateAppModel(w)},[w]),W.useEffect(()=>{var e;null==(e=b.current)||e.updateHasWaved(p)},[p]),b.current}var K3=n(855712),K4=n(998e3);let K6="Watermelon",K8="Cherries",K9={r:1,g:1,b:1,a:1},K7={r:237/255,g:239/255,b:228/255,a:1},Ge={r:225/255,g:228/255,b:217/255,a:1},Gt={family:"Inter",style:"Regular"},Gn="Rainier cherries",Ga="$3.99 / lb",Gr="Grown in Linden, CA",Gl="Semi Bold",Gi="Italic",Go="Roboto Serif",Gs={r:71/255,g:103/255,b:48/255,a:1},Gc={r:116/255,g:121/255,b:109/255,a:1},Gd={value:130/1.21,units:"PERCENT"},Gm={value:150/1.21,units:"PERCENT"};function Gu(e,t){return!(!GE(e)||!(0,eF.u8)(e=>e.name===K6,t,e)||(0,eF.u8)(e=>e.name===K8,t,e))}function Gp(e,t){return!!function(e){let t=e.parentNode;return"FRAME"===e.type&&e.name===K8&&395===e.absoluteBoundingBox.w&&416===e.absoluteBoundingBox.h&&!!t&&GE(t)}(e)&&(void 0===t||e.childrenGuids.length===t)}function G_(e,t){var n,a,r,l;return!!(Gp(e,t)&&0===e.cornerRadius&&(null==(a=null==(n=e.strokePaints)?void 0:n.data)?void 0:a.length)===0&&(0,K4.ik)(null==(l=null==(r=e.fillPaints)?void 0:r.data[0])?void 0:l.color,K9))}function GE(e){return!!e&&"FRAME"===e.type&&"Products"===e.name&&1440===e.absoluteBoundingBox.w&&900===e.absoluteBoundingBox.h}function Gg(e){return[{type:"SOLID",color:e,blendMode:"NORMAL",opacity:1,visible:!0}]}function Gh(e){return"FRAME"===e.type&&e.absoluteBoundingBox.w>=90&&!!e.parentNode&&0===e.childrenGuids.length}let Gf="Hello";function Gv(e,t){if(void 0!==t&&e.name.toLowerCase()!==t.toLowerCase()||"TEXT"!==e.type||12!==e.fontSize||e.fontName.family!==Gt.family||e.fontName.style!==Gt.style)return!1;let n=e.parentNode;return!!n&&G_(n,4)}function Gy(e,t){var n,a;let r=Kz.AV.CREATE_FRAME,{tutorialPlayedUserFlag:l,stepCompletedUserFlag:i}=(0,KI.K)(r,t);return{name:r,tutorialPlayedUserFlag:l,stepCompletedUserFlag:i,duration:t?8e3:4e3,startingState:t?{centerNodeMatcher:Gu,resetStartingState:{hubFileId:null==(a=null==(n=(0,$.cp)())?void 0:n.cursor_bot)?void 0:a.product_page_hub_file_id,nodeWidth:1440,nodeHeight:900}}:void 0,steps:function(e,t){let n=[{type:Kz.Ap.SET_CHAT,message:"Just click and drag, like this.",additionalDelay:1e3},{type:Kz.Ap.CHANGE_TOOL,toolType:eM.w3X.FRAME}];return t?n.push({type:Kz.Ap.INSERT_NODE,payload:{nodeType:"FRAME",width:395,height:416},nodeName:K8,locationType:Kz.K.INSIDE_SCENE_NODE,location:{parentMatcher:Gu,offsetX:523,offsetY:285},nodeNameForLogging:Kz.cN.PRODUCT_FRAME_CHERRIES_FRAME,additionalDelay:1200,cursorMovementAnimationDuration:600,nodeDrawingAnimationDuration:1e3},{type:Kz.Ap.SET_CHAT,message:"Then add elements into frames, like images.",additionalDelay:700},{type:Kz.Ap.INSERT_NODE,locationType:Kz.K.INSIDE_SCENE_NODE,location:{parentMatcher:e=>G_(e,0)},payload:{nodeType:"RECTANGLE",fillType:"image",imgSrc:"https://static.figma.com/uploads/eccc694a7069c9cafd11d1b91b27e0a5c5e7a394",width:395,height:310},nodeName:"Image",nodeNameForLogging:Kz.cN.CHERRIES_FRAME_CHERRIES_IMAGE,additionalDelay:1e3,cursorMovementAnimationDuration:600,cursorPosition:Kz.mW.BOTTOM_RIGHT},{type:Kz.Ap.SELECT_SCENE_NODE,meetsConditions:e=>G_(e,1),nodeNameForLogging:Kz.cN.PRODUCT_FRAME_CHERRIES_FRAME}):n.push({type:Kz.Ap.INSERT_NODE,payload:{nodeType:"FRAME",width:117,height:48},locationType:Kz.K.DEFAULT,nodeName:"Frame 1",nodeNameForLogging:Kz.cN.NO_BASICS_FILE_FRAME,additionalDelay:500,cursorMovementAnimationDuration:500,nodeDrawingAnimationDuration:1e3}),n.push({type:Kz.Ap.CLEAR_CHAT}),n}(0,t),TooltipElement:t=>W.createElement(kP,{onPrimaryCtaClick:t.onClickNext,onSecondaryCtaClick:t.onClickShowMe,secondaryCtaProps:{ctaText:e?(0,ex.t)("cursor_bot.show_me_again"):(0,ex.t)("cursor_bot.show_me"),ctaTrackingDescriptor:e?lr.O.SHOW_ME_AGAIN:lr.O.SHOW_ME},onClose:t.onClickClose,bodyText:(0,ex.t)("cursor_bot.a_frame_will_hold_the_rest_of_your_design"),fromCursorBot:!0})}}function GC(e){let t=(0,Y.w1)(e=>e.isFullscreenDocumentLoaded);return W.useEffect(()=>{t&&eM.i46.triggerAction("set-tool-type",null)},[t]),W.createElement(kO.s,{dismissModal:e.onClose,disableHighlight:!0,targetKey:"tool-type-onboarding",title:W.createElement(ex.Tx,{id:"cursor_bot.add_words_where_needed"}),trackingContextName:"Cursor Bot Create Text Step",lowerLeftText:W.createElement(tg.Ix,{onClick:e.onBackCtaClick,className:ap.cx.textInherit__DEPRECATED.bgTransparent.$,trackingProperties:{ctaTrackingDescriptor:lr.O.BACK}},W.createElement(ex.Tx,{id:"general.back"})),onPrimaryCtaClick:()=>{eM.i46.triggerActionInUserEditScope("set-tool-default",null),e.onPrimaryCtaClick()},onSecondaryCtaClick:e.onSecondaryCtaClick,secondaryCtaProps:e.secondaryCtaText,pointsTo:"toolbar"},W.createElement(ex.Tx,{id:"cursor_bot.all_designs_need_words_so_create_a_text_layer_anywhere_and_start_typing_simple_as_that"}))}function Gw(e,t,n){var a,r;let l=Kz.AV.CREATE_TEXT,{tutorialPlayedUserFlag:i,stepCompletedUserFlag:o}=(0,KI.K)(l,t);return{name:l,tutorialPlayedUserFlag:i,stepCompletedUserFlag:o,duration:t?9200:5900,startingState:t?{centerNodeMatcher:e=>G_(e,1),resetStartingState:{hubFileId:null==(r=null==(a=(0,$.cp)())?void 0:a.cursor_bot)?void 0:r.ginger_no_text_hub_file_id,nodeWidth:1440,nodeHeight:900}}:{centerNodeMatcher:Gh},steps:function({shouldSkipYup:e,isInBasicsFile:t}){let n=[{type:Kz.Ap.MOVE_CURSOR_TO_CENTER_SCREEN,cursorBotMovementAnimationDuration:200}];return t?n.push({type:Kz.Ap.SET_CHAT,message:(e?"":"Yup: ")+"Just click into your frame and type.",additionalDelay:200},{type:Kz.Ap.TARGET_SCENE_NODE,meetsConditions:e=>G_(e,1),nodeNameForLogging:Kz.cN.PRODUCT_FRAME_CHERRIES_FRAME,shouldSelect:!0,cursorBotMovementAnimationDuration:200,position:{x:Kz.eh.CENTER,y:Kz.lA.CENTER},offset:{x:0,y:0}}):n.push({type:Kz.Ap.SET_CHAT,message:(e?"":"Yup: ")+"Just click into your frame and type.",additionalDelay:200,hasBackupMessage:!0,shouldShowBackupMessage:e=>void 0===(0,eF.u8)(Gh,e),backupMessage:(e?"":"Yup: ")+"Just click to add a text node and type."},{type:Kz.Ap.TARGET_SCENE_NODE,meetsConditions:Gh,continueIfNotFound:!0,nodeNameForLogging:Kz.cN.NO_BASICS_FILE_FRAME,shouldSelect:!0,cursorBotMovementAnimationDuration:200,position:{x:Kz.eh.CENTER,y:Kz.lA.CENTER},offset:{x:0,y:0}}),n.push({type:Kz.Ap.CHANGE_TOOL,toolType:eM.w3X.TYPE,additionalDelay:1200}),t?n.push({type:Kz.Ap.INSERT_NODE,nodeName:Gn,payload:{nodeType:"TEXT",text:Gn},locationType:Kz.K.INSIDE_SCENE_NODE,location:{parentMatcher:e=>G_(e,1),offsetX:24,offsetY:334},nodeNameForLogging:Kz.cN.CHERRIES_FRAME_CHERRIES_TEXT,cursorMovementAnimationDuration:600,additionalDelay:400},{type:Kz.Ap.INSERT_NODE,nodeName:Ga,payload:{nodeType:"TEXT",text:Ga},locationType:Kz.K.INSIDE_SCENE_NODE,location:{parentMatcher:e=>G_(e,2),offsetX:316,offsetY:334},nodeNameForLogging:Kz.cN.CHERRIES_FRAME_PRICE_TEXT,additionalDelay:400},{type:Kz.Ap.INSERT_NODE,nodeName:Gr,payload:{nodeType:"TEXT",text:Gr},locationType:Kz.K.INSIDE_SCENE_NODE,location:{parentMatcher:e=>G_(e,3),offsetX:24,offsetY:368},nodeNameForLogging:Kz.cN.CHERRIES_FRAME_GROWN_TEXT,additionalDelay:1e3}):n.push({type:Kz.Ap.INSERT_NODE,nodeName:Gf,payload:{nodeType:"TEXT",text:Gf,height:15,shouldCenterAlign:!0,typingDurationPerCharMs:200},locationType:Kz.K.INSIDE_SCENE_NODE,location:{parentMatcher:Gh,offsetX:-14.5,offsetY:-7.5,shouldPositionRelativeToCenterOfParent:!0,useDefaultLocationIfParentNotFound:!0},nodeNameForLogging:Kz.cN.NO_BASICS_FILE_TEXT,cursorMovementAnimationDuration:600,additionalDelay:1e3}),n}({shouldSkipYup:e||!n,isInBasicsFile:t}),TooltipElement:t=>W.createElement(GC,{onPrimaryCtaClick:t.onClickNext,onSecondaryCtaClick:t.onClickShowMe,secondaryCtaText:{ctaText:e?(0,ex.t)("cursor_bot.show_me_again"):(0,ex.t)("cursor_bot.show_me"),ctaTrackingDescriptor:e?lr.O.SHOW_ME_AGAIN:lr.O.SHOW_ME},onClose:t.onClickClose,onBackCtaClick:t.onClickBack})}}function Gb(e,t){var n,a;let r=Kz.AV.FORMAT_FRAME,{tutorialPlayedUserFlag:l,stepCompletedUserFlag:i}=(0,KI.K)(r,t);return{name:r,tutorialPlayedUserFlag:l,stepCompletedUserFlag:i,duration:t?16e3:9500,steps:function(e){let t=[];return t.push({type:Kz.Ap.SET_PROPERTIES_PANEL_TAB,tab:eM._AQ.DESIGN}),e?t.push({type:Kz.Ap.SELECT_SCENE_NODE,meetsConditions:e=>G_(e,4),nodeNameForLogging:Kz.cN.PRODUCT_FRAME_CHERRIES_FRAME,additionalDelay:400}):t.push({type:Kz.Ap.SELECT_SCENE_NODE,meetsConditions:e=>"FRAME"===e.type,nodeNameForLogging:Kz.cN.NO_BASICS_FILE_FRAME,additionalDelay:400,prioritizeSelectedNode:!0}),t.push({type:Kz.Ap.SET_CURSOR_DIRECTION,direction:Kz.Ss.RIGHT},{type:Kz.Ap.SET_CHAT,message:"Change how your frames look here.",additionalDelay:500},{type:Kz.Ap.TARGET_DOM_NODE,dataOnboardingKey:kI.s,offset:{x:-28,y:132},position:{x:Kz.eh.LEFT,y:Kz.lA.TOP},cursorBotMovementAnimationDuration:600},{type:Kz.Ap.SET_VIEWPORT_FRAME_TYPE,viewportFrameType:Kz.my.PROPERTIES_PANEL,additionalDelay:1500},{type:Kz.Ap.SET_CHAT,message:e?"For example: Add color...":"For example: Their color!",additionalDelay:1e3},{type:Kz.Ap.TARGET_DOM_NODE,dataOnboardingKey:(0,kx.k7)(kx.O2.PROPERTIES_PANEL_TITLE,"fill"),position:{x:Kz.eh.LEFT,y:Kz.lA.CENTER},additionalDelay:500,cursorBotMovementAnimationDuration:1e3},{type:Kz.Ap.UPDATE_SELECTED_NODE_PROPERTIES,properties:()=>({fillPaints:Gg(e?K7:function(){let e=["r","g","b"].map(e=>({c:e,sort:Math.random()})).sort((e,t)=>e.sort-t.sort).map(({c:e})=>e);return{r:0,g:86/255,b:65/255,[e[0]]:0,[e[1]]:86/255,[e[2]]:Math.floor(86*Math.random())/255,a:1}}())}),additionalDelay:1e3},{type:Kz.Ap.FOCUS_INPUT,selector:`[data-onboarding-key="${(0,kx.k7)(kx.O2.PAINT_PANEL_ROW,"paint-1-0")}"] input`,additionalDelay:1500},{type:Kz.Ap.CLEAR_CHAT}),e&&t.push({type:Kz.Ap.TARGET_DOM_NODE,dataOnboardingKey:(0,kx.k7)(kx.O2.PROPERTIES_PANEL_TITLE,"stroke"),position:{x:Kz.eh.LEFT,y:Kz.lA.CENTER},cursorBotMovementAnimationDuration:300,additionalDelay:300},{type:Kz.Ap.SET_CHAT,message:"A border..."},{type:Kz.Ap.UPDATE_SELECTED_NODE_PROPERTIES,properties:{strokePaints:Gg(Ge),strokeWeight:2},additionalDelay:10},{type:Kz.Ap.FOCUS_INPUT,selector:`[data-onboarding-key="${(0,kx.k7)(kx.O2.PAINT_PANEL_ROW,"paint-2-0")}"] input`,additionalDelay:1500},{type:Kz.Ap.SCROLL_PROPERTIES_PANEL,value:0,additionalDelay:500},{type:Kz.Ap.CLEAR_CHAT},{type:Kz.Ap.TARGET_DOM_NODE,dataOnboardingKey:(0,kx.k7)(kx.O2.SCRUBBABLE_CONTROL,"corner-radius"),offset:{x:-25,y:5},cursorBotMovementAnimationDuration:300,additionalDelay:300},{type:Kz.Ap.SET_CHAT,message:"Or rounded corners!"},{type:Kz.Ap.UPDATE_SELECTED_NODE_PROPERTIES,properties:{cornerRadius:24},additionalDelay:10},{type:Kz.Ap.FOCUS_INPUT,selector:`[data-onboarding-key="${(0,kx.k7)(kx.O2.SCRUBBABLE_CONTROL,"corner-radius")}"] input`,additionalDelay:2500},{type:Kz.Ap.CLEAR_CHAT}),t}(t),startingState:t?{centerNodeMatcher:e=>G_(e,4),resetStartingState:{hubFileId:null==(a=null==(n=(0,$.cp)())?void 0:n.cursor_bot)?void 0:a.ginger_formatted_text_hub_file_id,nodeHeight:900,nodeWidth:1440}}:{centerNodeMatcher:e=>"FRAME"===e.type},TooltipElement:n=>W.createElement(kK,{onPrimaryCtaClick:n.onClickNext,primaryCtaProps:n.isFollowUp?{ctaText:(0,ex.t)("cursor_bot.got_it"),ctaTrackingDescriptor:lr.O.GOT_IT}:void 0,secondaryCtaProps:{ctaText:e?(0,ex.t)("cursor_bot.show_me_again"):(0,ex.t)("cursor_bot.show_me"),ctaTrackingDescriptor:e?lr.O.SHOW_ME_AGAIN:lr.O.SHOW_ME},onSecondaryCtaClick:n.onClickShowMe,lowerLeftText:n.onClickBack?W.createElement(tg.Ix,{onClick:n.onClickBack,className:ap.cx.textInherit__DEPRECATED.bgTransparent.$,trackingProperties:{ctaTrackingDescriptor:lr.O.BACK}},W.createElement(ex.Tx,{id:"cursor_bot.back"})):void 0,onClose:n.onClickClose,skip:n.skip,frameNodeMatcher:t?e=>(0,eF.OC)(e=>Gp(e,4),e)||(0,eF.u8)((e,t)=>(function(e,t){let n=e.parentNode;return"FRAME"===e.type&&e.name===K6&&!!n&&Gu(n,t)})(e,t),e):void 0,title:(0,ex.t)("cursor_bot.make_it_look_just_right"),bodyText:t?(0,ex.t)("cursor_bot.design_panel_can_change_objects"):(0,ex.t)("cursor_bot.design_panel_is_key"),fromCursorBot:!0,isFollowUp:n.isFollowUp})}}function GT(e,t){var n,a;let r=Kz.AV.FORMAT_TEXT,{tutorialPlayedUserFlag:l,stepCompletedUserFlag:i}=(0,KI.K)(r,t);return{name:r,tutorialPlayedUserFlag:l,stepCompletedUserFlag:i,duration:t?9240:7e3,steps:function(e){let t=[];return t.push({type:Kz.Ap.SET_PROPERTIES_PANEL_TAB,tab:eM._AQ.DESIGN}),e&&t.push({type:Kz.Ap.SELECT_SCENE_NODE,meetsConditions:e=>Gv(e,Gr),prioritizeSelectedNode:!0,nodeNameForLogging:Kz.cN.CHERRIES_FRAME_GROWN_TEXT,additionalDelay:1e3},{type:Kz.Ap.TARGET_DOM_NODE,dataOnboardingKey:kR.C,offset:{x:-150,y:-50},cursorBotMovementAnimationDuration:800},{type:Kz.Ap.SET_CHAT,message:"Change how your text looks here.",additionalDelay:1500}),t.push({type:Kz.Ap.SET_CURSOR_DIRECTION,direction:Kz.Ss.RIGHT},{type:Kz.Ap.SET_CHAT,message:"Pick your style, size, alignment, and more.",additionalDelay:1200}),e?t.push({type:Kz.Ap.SELECT_SCENE_NODE,meetsConditions:e=>Gv(e,Gn),nodeNameForLogging:Kz.cN.CHERRIES_FRAME_CHERRIES_TEXT,prioritizeSelectedNode:!0},{type:Kz.Ap.TARGET_DOM_NODE,dataOnboardingKey:(0,kx.k7)(kx.O2.TEXT_PANEL,"font-style-button"),position:{x:Kz.eh.LEFT,y:Kz.lA.CENTER},cursorBotMovementAnimationDuration:600,additionalDelay:1e3},{type:Kz.Ap.UPDATE_SELECTED_NODE_PROPERTIES,properties:{fontSize:20,fontStyle:Gl,lineHeight:Gd}},{type:Kz.Ap.SELECT_SCENE_NODE,meetsConditions:e=>Gv(e,Ga),nodeNameForLogging:Kz.cN.CHERRIES_FRAME_PRICE_TEXT},{type:Kz.Ap.UPDATE_SELECTED_NODE_PROPERTIES,properties:{fillPaints:Gg(Gs),fontSize:20,fontStyle:Gl,lineHeight:Gd,textAlignHorizontal:"RIGHT"}},{type:Kz.Ap.SELECT_SCENE_NODE,meetsConditions:e=>Gv(e,Gr),nodeNameForLogging:Kz.cN.CHERRIES_FRAME_GROWN_TEXT},{type:Kz.Ap.UPDATE_SELECTED_NODE_PROPERTIES,properties:{fillPaints:Gg(Gc),fontSize:16,lineHeight:Gm},additionalDelay:1e3}):t.push({type:Kz.Ap.TARGET_DOM_NODE,dataOnboardingKey:(0,kx.k7)(kx.O2.TEXT_PANEL,"font-picker-button"),position:{x:Kz.eh.LEFT,y:Kz.lA.CENTER},cursorBotMovementAnimationDuration:600,additionalDelay:500},{type:Kz.Ap.UPDATE_SELECTED_NODE_PROPERTIES,properties:e=>({fontFamily:e.fontName.family===Go?Gt.family:Go}),additionalDelay:300},{type:Kz.Ap.TARGET_DOM_NODE,dataOnboardingKey:(0,kx.k7)(kx.O2.TEXT_PANEL,"font-style-button"),position:{x:Kz.eh.LEFT,y:Kz.lA.CENTER},cursorBotMovementAnimationDuration:600,additionalDelay:500},{type:Kz.Ap.UPDATE_SELECTED_NODE_PROPERTIES,properties:e=>({fontStyle:e.fontName.style===Gi?Gt.style:Gi}),additionalDelay:300},{type:Kz.Ap.TARGET_DOM_NODE,dataOnboardingKey:(0,kx.k7)(kx.O2.SCRUBBABLE_CONTROL,"font-size"),position:{x:Kz.eh.LEFT,y:Kz.lA.CENTER},cursorBotMovementAnimationDuration:600},{type:Kz.Ap.FOCUS_INPUT,selector:`[data-onboarding-key="${(0,kx.k7)(kx.O2.SCRUBBABLE_CONTROL,"font-size")}"] input`,additionalDelay:500},{type:Kz.Ap.UPDATE_SELECTED_NODE_PROPERTIES,properties:e=>({fontSize:16===e.fontSize?12:16}),additionalDelay:500}),t.push({type:Kz.Ap.CLEAR_CHAT}),t}(t),startingViewportFrameType:t?Kz.my.TEXT_PANEL:Kz.my.PROPERTIES_PANEL,startingState:t?{centerNodeMatcher:e=>(function(e,t){if(!G_(e,4))return!1;for(let t of e.childrenNodes)if("TEXT"===t.type&&!Gv(t))return!1;return!0})(e,0),resetStartingState:{hubFileId:null==(a=null==(n=(0,$.cp)())?void 0:n.cursor_bot)?void 0:a.ginger_hub_file_id,nodeHeight:900,nodeWidth:1440}}:{centerNodeMatcher:e=>"TEXT"===e.type},TooltipElement:n=>{let a=(0,eA.QH)();return W.createElement(kR.q,{onPrimaryCtaClick:n.onClickNext,primaryCtaProps:n.isFollowUp?{ctaText:(0,ex.t)("cursor_bot.got_it"),ctaTrackingDescriptor:lr.O.GOT_IT}:void 0,secondaryCtaProps:{ctaText:e?(0,ex.t)("cursor_bot.show_me_again"):(0,ex.t)("cursor_bot.show_me"),ctaTrackingDescriptor:e?lr.O.SHOW_ME_AGAIN:lr.O.SHOW_ME},onSecondaryCtaClick:n.onClickShowMe,lowerLeftText:n.onClickBack?W.createElement(tg.Ix,{onClick:n.onClickBack,className:ap.cx.textInherit__DEPRECATED.bgTransparent.$,trackingProperties:{ctaTrackingDescriptor:lr.O.BACK}},W.createElement(ex.Tx,{id:"cursor_bot.back"})):void 0,onClose:n.onClickClose,getNodeToSelect:t?()=>(0,eF.OC)(e=>"TEXT"===e.type&&(e.name===Gr||"Grown in Tracy, CA"===e.name),sL.TSSceneGraph.instance):()=>(null==a?void 0:a.type)==="TEXT"?a:(0,eF.OC)(e=>"TEXT"===e.type,sL.TSSceneGraph.instance),skip:n.skip,title:t?(0,ex.t)("cursor_bot.pick_the_perfect_font"):(0,ex.t)("cursor_bot.and_pick_the_perfect_font"),bodyText:(0,ex.t)("cursor_bot.use_the_design_panel_to_turn_basic_text_into_titles"),fromCursorBot:!0,isFollowUp:n.isFollowUp})}}}let Gx=(0,K3.M3)([e=>e.userFlags,(e,t)=>t],(e,t)=>t.reduce((t,n)=>({...t,[n.name]:!!e[n.stepCompletedUserFlag]}),{}));var Gk=((F=Gk||{}).PanAndZoom="pan_and_zoom",F.YoureAllSet="youre_all_set",F),GN=n(725040),GS=n(897139),GI=n(777264);let GA=W.memo(({currentTutorial:e,stateManager:t})=>{let n;let a=(0,eo.m4)(KS.K6),r=(0,eo.m4)(KS.kJ),l=W.useCallback(()=>{let e=s.current;return e?Math.min(Math.round(e/r*100),100):0},[r]);W.useEffect(()=>{let n=n=>{n&&27===n.keyCode&&(0,KI.kZ)(a)&&((0,Z.we)("Cursor Bot Tutorial Canceled via Escape",{tutorialName:e.name}),t.stopCurrentTutorial({timeElapsed:s.current,tutorialPercentageComplete:l(),tutorialName:e.name,stopTrigger:Kz.cv.ESC_KEY}))};return window.addEventListener("keydown",n),()=>window.removeEventListener("keydown",n)},[a,t,l,e.name]);let[i,o]=(0,eo.lZ)(KS._2),s=W.useRef(0),c=W.useRef();if(W.useEffect(()=>{if(!(0,KI.kZ)(a)){s.current=0,clearInterval(c.current),c.current=void 0;return}let e=setInterval(()=>s.current+=17,17);return c.current=e,()=>clearInterval(e)},[a]),(0,KI.kZ)(a)){let e=l(),t=(0,GN.keyframes)({from:{backgroundPosition:`${100-e}% center`},to:{backgroundPosition:"left"}}),a=r-s.current;n={animation:`${t} ${a}ms linear`}}let d=(0,eB.qE)(),m=W.useMemo(()=>({top:d.y+Kq.iA+4}),[d.y]);return W.createElement("div",{className:GI._x,style:m},W.createElement("div",{className:q()({[GS.I]:i}),onAnimationEnd:()=>{o(!1)}},W.createElement("div",{className:GI.Ib,style:n},W.createElement(eT._C,{multiple:1,direction:"x"}),W.createElement("div",null,e.name),W.createElement(eT._C,{multiple:1,direction:"x"}),W.createElement(tg.Ix,{className:GI.Mg,onClick:()=>{t.stopCurrentTutorial({timeElapsed:s.current,tutorialPercentageComplete:l(),tutorialName:e.name,stopTrigger:Kz.cv.STOP_BTN})},"data-tooltip-type":n1.wL.TEXT,"data-tooltip":(0,ex.t)("cursor_bot.stop_tutorial"),trackingProperties:{trackingDescriptor:lr.O.STOP_TUTORIAL,tutorialName:e.name},"aria-label":(0,ex.t)("cursor_bot.stop_tutorial")},W.createElement(ex.Tx,{id:"collaboration.spotlight.bell.presenter.stop"})))))}),GO="create_frame_animation--frameCornerSquare--TEcO4";function GM(){let e=(0,eB.OM)({subscribeToUpdates_expensive:!1}),t=(0,eo.m4)(KS.dl);if(null==t)return null;let{x:n,y:a,width:r,height:l,duration:i}=t,o=(0,eB.C)(e,{x:n,y:a,width:r,height:l}),s=e.x+o.x,c=e.y+o.y;return W.createElement("div",{style:{top:c,left:s,width:`${o.width}px`,height:`${o.height}px`,position:"absolute"}},W.createElement("div",{style:{border:"1px solid #4497F7",animationDuration:`${i}ms`},className:"create_frame_animation--animationFrame--4fuzR"},W.createElement("div",{style:{top:-3,left:-3,background:"#ffffff"},className:GO}),W.createElement("div",{style:{top:-3,left:"calc(100% - 3px)",background:"#ffffff"},className:q()(GO)}),W.createElement("div",{style:{top:"calc(100% - 3px)",left:"calc(100% - 3px)",background:"#ffffff"},className:GO}),W.createElement("div",{style:{top:"calc(100% - 3px)",left:-3,background:"#ffffff"},className:GO})))}function GP(){let{isShowing:e,show:t,complete:n,uniqueId:a}=(0,mX.W)({overlay:mZ.SG6,priority:mz.g.OVERRIDING_MODAL}),r=(0,Y.OY)(),l=(0,Y.o3)(),i=(0,Y.w1)(e=>e.isFullscreenDocumentLoaded),o=K5(),s=(0,eo.m4)(KS.K6),c=(0,t2.e)("has_cursor_bot_onboarding_v2");!function(e,t,n){let a=(0,t1.C2)(),r=(0,Y.OY)(),l=(0,t2.e)("has_cursor_bot_onboarding_v2"),i=(0,t$.K_)({useSinatraType:!0}),o=(0,kx.YL)(null==a?void 0:a.id,i,["exp_cursor_bot_onboarding"]),s=e=>{let a={...function(e){let t={format_text_step_shown:!1,design_panel_step_shown:!1};for(let n of(e?t.cursor_bot_v2__basics_onboarded=!1:(t.cursor_bot_v2__basics_onboarded=!1,t.cursor_bot_v2__no_basics_onboarded=!1),KQ)){let{tutorialPlayedUserFlag:a,stepCompletedUserFlag:r}=(0,KI.K)(n,e);t[a]=!1,t[r]=!1}return t}(o),cursor_bot_v2__basics_file__started_flow:!1,cursor_bot_v2_has_greeted_with_wave:!1};e&&(a.has_cursor_bot_onboarding_v2=!0),r(tm.s(a)),t||n()};(0,ur.y)(e,KZ.kX,()=>{(null==i?void 0:i.editor_type)===nd.aE.DESIGN?s(!0):r(Da.M.error("Cursor Bot can only be run in Figma design."))}),(0,ur.y)(e,"Reset Onboarding",()=>{l&&(null==i?void 0:i.editor_type)===nd.aE.DESIGN&&s()})}(a,e,t);let[d,m]=W.useState(kM.sE.FORWARD),u=function(){let e=(0,t2.e)("has_cursor_bot_onboarding_v2"),t=(0,t2.e)("cursor_bot_v2__basics_file__started_flow"),n=(0,kx.KU)(["exp_cursor_bot_onboarding"]),a=(0,kx.od)(n),r=function(e){let t=!!(0,t2.e)("cursor_bot_v2_has_greeted_with_wave"),n=!!(0,t2.e)((0,KI.K)(Kz.AV.CREATE_FRAME,e).tutorialPlayedUserFlag),a=!!(0,t2.e)((0,KI.K)(Kz.AV.FORMAT_FRAME,e).tutorialPlayedUserFlag),r=!!(0,t2.e)((0,KI.K)(Kz.AV.CREATE_TEXT,e).tutorialPlayedUserFlag),l=!!(0,t2.e)((0,KI.K)(Kz.AV.FORMAT_TEXT,e).tutorialPlayedUserFlag);return(0,W.useMemo)(()=>e?[Gy(n,e),Gw(r,e,t),GT(l,e),Gb(a,e)]:[Gy(n,e),Gb(a,e),Gw(r,e,t),GT(l,e)],[e,t,n,r,l,a])}(n),l=(0,Y.w1)(e=>Gx(e,r));if(!e||a||!n&&t)return null;let i=0;if(r.forEach(e=>{l[e.name]&&(i+=1)}),i>=r.length)return n?"youre_all_set":"pan_and_zoom";let o={...r[i]};return i>0&&(o.previousTutorialCompleteUserFlag=r[i-1].stepCompletedUserFlag),o}(),p=(0,kx.KU)(["exp_cursor_bot_onboarding"]),_=(0,kx.Ah)(),E=(0,kx.od)(p),g=_||E;W.useEffect(()=>{!g&&!e&&c&&u&&i&&t()},[g,e,t,c,u,i]),W.useEffect(()=>{e&&E&&n()},[e,n,E]);let h=(0,t2.e)("cursor_bot_v2__basics_file__started_flow");if(W.useEffect(()=>{e&&p&&!h&&r(tm.s({cursor_bot_v2__basics_file__started_flow:!0}))},[r,p,e,h]),!e||!u)return null;let f=()=>{p?r(tm.s({cursor_bot_v2__basics_onboarded:!0})):r(tm.s({cursor_bot_v2__no_basics_onboarded:!0})),n()};if(u===Gk.YoureAllSet)return W.createElement(kA,{onPrimaryCtaClick:()=>{let e=(0,nl.KM)(l.getState(),nh.mM.NEW_TAB,"drafts",{from:nh.Uz.CURSOR_BOT_END_MODAL,selectedView:l.getState().selectedView},nd.aE.DESIGN,void 0);r(kk.gn(e)),f()},onSecondaryCtaClick:f,onClose:f});if(u===Gk.PanAndZoom)return W.createElement(kJ,{markComplete:f});if(s===Kz.cj.PLAYING)return W.createElement(GL,{cursorBotStateManager:o,currentTutorial:u});let v=()=>{u.previousTutorialCompleteUserFlag&&(m(kM.sE.BACKWARD),r(tm.s({[u.previousTutorialCompleteUserFlag]:!1})))},y=()=>{m(kM.sE.FORWARD),r(tm.s({[u.stepCompletedUserFlag]:!0}))};return W.createElement(u.TooltipElement,{onClickShowMe:()=>o.runTutorial(u),onClickNext:y,onClickClose:f,onClickBack:v,skip:d===kM.sE.BACKWARD?v:y})}function GL({cursorBotStateManager:e,currentTutorial:t}){return W.createElement(W.Fragment,null,W.createElement(KZ.MX,null),W.createElement(GA,{currentTutorial:t,stateManager:e}),W.createElement(GM,null),W.createElement(Kq.sH,null))}function GD(){let{uniqueId:e,show:t,isShowing:n,complete:a}=(0,mX.W)({overlay:mZ.Wwg,priority:mz.g.OVERRIDING_MODAL}),r=(0,Y.OY)(),l=(0,t2.e)("cursor_bot_v2__no_basics_file__played_frame_formatting"),i=(0,t2.e)("design_panel_step_shown"),o=(0,t2.e)("cursor_bot_v2__basics_file__started_flow"),s=(0,kx.KU)(["exp_cursor_bot_onboarding"]),c=K5();(0,ur.y)(e,"create_frame",W.useCallback(()=>{!l||i||o||s||n||t()},[i,o,n,l,t,s]));let d=(0,eo.m4)(KS.K6),m=W.useMemo(()=>Gb(!1,!1),[]);if(!n)return null;if(d===Kz.cj.PLAYING)return W.createElement(GL,{cursorBotStateManager:c,currentTutorial:m});let u=()=>{r(tm.s({design_panel_step_shown:!0})),a()};return W.createElement(m.TooltipElement,{onClickNext:u,onClickShowMe:()=>{c.runTutorial(m)},onClickClose:u,skip:u,isFollowUp:!0})}function GR(){let{uniqueId:e,show:t,isShowing:n,complete:a}=(0,mX.W)({overlay:mZ.GQJ,priority:mz.g.OVERRIDING_MODAL}),r=(0,Y.OY)(),l=(0,t2.e)("cursor_bot_v2__no_basics_file__played_text_formatting"),i=(0,t2.e)("format_text_step_shown"),o=(0,t2.e)("cursor_bot_v2__basics_file__started_flow"),s=K5(),c=(0,kx.KU)(["exp_cursor_bot_onboarding"]),[d,m]=W.useState(!1),u=(0,eA.QH)(),p=(0,Y.w1)(e=>e.mirror.appModel.activeCanvasEditModeType);(0,ur.y)(e,"create_text",()=>{m(!0)}),W.useEffect(()=>{!l||i||o||c||n||!d||(null==u?void 0:u.type)!=="TEXT"||p!==eM.a_v.DESIGN_LAYOUT||n||t()},[u,d,n,t,p,l,i,o,c]);let _=W.useMemo(()=>GT(!1,!1),[]),E=(0,eo.m4)(KS.K6);if(!n)return null;if(E===Kz.cj.PLAYING)return W.createElement(GL,{cursorBotStateManager:s,currentTutorial:_});let g=()=>{r(tm.s({format_text_step_shown:!0})),a()};return W.createElement(_.TooltipElement,{onClickNext:g,onClickShowMe:()=>{s.runTutorial(_)},onClickClose:g,skip:g,isFollowUp:!0})}function GF(){let e=(0,mX.W)({overlay:mZ.gNK,priority:mz.g.OVERRIDING_MODAL}),t=(0,t2.e)("no_figma_basics_tooltips_design_panel_step"),n=(0,t2.e)("design_panel_step_shown"),a=(0,t2.e)("started_figma_basics_onboarding"),r=(0,Y.OY)(),l=t&&!n&&!a;if((0,ur.y)(e.uniqueId,"create_frame",W.useCallback(()=>{l&&!e.isShowing&&e.show()},[e,l])),!e.isShowing)return null;let i=()=>{e.complete(),r(tm.s({design_panel_step_shown:!0}))};return W.createElement(us.Y5,{onClose:i,title:W.createElement(ex.Tx,{id:"tooltips_plus_onboarding.change_properties_in_the_design_panel"}),description:W.createElement(ex.Tx,{id:"tooltips_plus_onboarding.design_panel.description"}),trackingContextName:"Tooltips+ > Reactive Follow Ups > Frame Formatting",isShowing:e.isShowing,targetKey:kI.s,arrowPosition:xh.Wp.RIGHT_BODY,onTargetLost:i,emphasized:!0,disableHighlight:!0})}function GB(){let e=(0,mX.W)({overlay:mZ._Qw,priority:mz.g.OVERRIDING_MODAL}),t=(0,t2.e)("no_figma_basics_tooltips_format_text_step"),n=(0,t2.e)("format_text_step_shown"),a=(0,t2.e)("started_figma_basics_onboarding"),r=(0,Y.OY)(),l=!n&&t&&!a;if((0,ur.y)(e.uniqueId,"create_text",W.useCallback(()=>{l&&!e.isShowing&&e.show()},[e,l])),!e.isShowing)return null;let i=()=>{e.complete(),r(tm.s({format_text_step_shown:!0}))};return W.createElement(us.Y5,{onClose:i,title:W.createElement(ex.Tx,{id:"tooltips_plus_onboarding.text_formatting.title"}),description:W.createElement(ex.Tx,{id:"tooltips_plus_onboarding.text_formatting.description"}),trackingContextName:"Tooltips+ > Reactive Follow Ups > Text Formatting",isShowing:e.isShowing,targetKey:kR.C,arrowPosition:xh.Wp.RIGHT_BODY,onTargetLost:i,emphasized:!0,disableHighlight:!0})}var GU=n(306640),GK=n(562416),GG=n.n(GK),GH=n(168404),GV=n(194572),GW=n(6888);function GY(e){let t;let{file:n,org:a,overlay:r}=e,l=(0,GH.C)(n,a.id),i=(0,W.useRef)(void 0),o=r.complete;if((0,W.useEffect)(()=>{var e;l&&i.current&&!GG()(l.filePermissionsData,null==(e=i.current)?void 0:e.filePermissionsData)&&o(),i.current=l},[l,o]),!l)return null;let s=l.isBranch,c=l.branchMatchesRepo,d=l.linkExpiresAt,m=(0,Lz.C4)(l.filePermissionsData,e.org),u=(0,GW.y2)((0,sE.c)(d)),p=!c&&s?W.createElement(ex.Tx,{id:"link_expired_overlay.different_branch_permissions_header"}):W.createElement(ex.Tx,{id:"link_expired_overlay.header"});return t=c?W.createElement(ex.Tx,{id:"link_expired_overlay.same_branch_permissions_body",formattedTimestamp:u,audience:m}):s?W.createElement(ex.Tx,{id:"link_expired_overlay.different_branch_permissions_body",formattedTimestamp:u,audience:m}):W.createElement(ex.Tx,{id:"link_expired_overlay.body",formattedTimestamp:u,audience:m}),W.createElement(us.Y5,{isShowing:r.isShowing,trackingContextName:"Link Expired Overlay",title:W.createElement("div",{className:"link_expired_overlay--linkExpiredOverlayTitle--m1dgQ link_expired_overlay--linkExpiredOverlay--zyRYF"},p),description:W.createElement("div",{className:"link_expired_overlay--linkExpiredOverlayBody--gOa3f"},t),targetKey:LE.oN,onClose:r.complete})}let Gj=(0,nx.If)(e=>e.modalShown);function GX(e){var t;let n=(0,W.useRef)(null),a=(0,mX.W)({overlay:mZ.Uj6,priority:mz.g.SECONDARY_MODAL}),r=(0,rY.Ce)(),l=(0,eo.m4)(t$.qK),i=(null==(t=(0,eo.m4)(Gj))?void 0:t.type)===LQ.QD;return((0,ur.y)(a.uniqueId,[GV.c7],()=>{r&&l&&!a.isShowing&&!i&&a.show()}),(0,W.useEffect)(()=>(a.isShowing?n.current=setTimeout(()=>{n.current=null,a.complete()},45e3):n.current&&clearTimeout(n.current),()=>{n.current&&clearTimeout(n.current)}),[a]),r&&l)?W.createElement(GY,{overlay:a,org:r,file:l}):null}function Gz(e){return W.createElement("svg",{width:"64",height:"63",viewBox:"0 0 64 63",fill:"none",xmlns:"http://www.w3.org/2000/svg"},W.createElement("rect",{x:"16.75",y:"9.75",width:"29.6538",height:"43.5",rx:"14.8269",stroke:"var(--color-icon)",strokeWidth:"1.5"}),W.createElement("rect",{x:"27.1348",y:"18.4043",width:"8.88461",height:"15.8077",rx:"4.44231",fill:"var(--color-icon-brand)",fillOpacity:"whiteboard"===e.editorType?"0.7":"1",stroke:"var(--color-icon)",strokeWidth:"1.5"}),W.createElement("circle",{cx:"52.7863",cy:"7.78613",r:"6.21283",transform:"rotate(-45 52.7863 7.78613)",stroke:"var(--color-icon)",strokeWidth:"1.5"}),W.createElement("path",{d:"M57.1794 12.1797L62.3048 17.305",stroke:"var(--color-icon)",strokeWidth:"1.5"}),W.createElement("path",{d:"M52.7864 4.67871L52.7864 10.8915",stroke:"var(--color-icon)",strokeWidth:"1.5"}),W.createElement("path",{d:"M55.8928 7.78613L49.68 7.78613",stroke:"var(--color-icon)",strokeWidth:"1.5"}))}function Gq(e){return W.createElement("svg",{width:"70",height:"63",viewBox:"0 0 70 63",fill:"none",xmlns:"http://www.w3.org/2000/svg"},W.createElement("g",{clipPath:"url(#clip0_2769_43640)"},W.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M59.6328 10.3728V13.8403L57.4197 13.8392L60.4724 16.6418L63.523 13.8403H61.3729V10.3728H64.8466L64.8455 12.5395L67.6274 9.48573L64.8466 6.43085V8.63279H61.387V5.13676L63.5393 5.13785L60.4866 2.3418L57.4317 5.13676H59.6328V8.63279H56.1354V6.43085L53.3394 9.48573L56.1365 12.5395L56.1354 10.3728H59.6328Z",fill:"var(--color-icon)"}),W.createElement("rect",{x:"32.7745",y:"5.02452",width:"29.6538",height:"43.5",rx:"14.8269",transform:"rotate(30 32.7745 5.02452)",stroke:"var(--color-icon)",strokeWidth:"1.5"}),W.createElement("path",{d:"M47.1082 13.7744L50.1631 17.2744L52.6631 21.2744L52.9009 29.6727L47.6631 38.2744L38.9208 32.1445L43.6631 24.2744L43.6985 21.9253L42.5477 20.6685L47.1082 13.7744Z",fill:"var(--color-icon-brand)",fillOpacity:"whiteboard"===e.editorType?"0.7":"1"}),W.createElement("rect",{x:"32.7745",y:"5.02452",width:"29.6538",height:"43.5",rx:"14.8269",transform:"rotate(30 32.7745 5.02452)",stroke:"var(--color-icon)",strokeWidth:"1.5"}),W.createElement("rect",{x:"37.4408",y:"17.712",width:"8.88461",height:"15.8077",rx:"4.44231",transform:"rotate(30 37.4408 17.712)",stroke:"var(--color-icon)",strokeWidth:"1.5"})),W.createElement("defs",null,W.createElement("clipPath",{id:"clip0_2769_43640"},W.createElement("rect",{width:"70",height:"64",fill:"var(--color-icon)"}))))}let GZ="existing_user_pan_zoom--instruction--Q3Ost",GQ="existing_user_pan_zoom--instructionText--xoJ8M";function GJ({dismissModal:e,onClickPrimaryCta:t}){let n=(0,tw.CM)();return W.createElement("div",null,W.createElement("div",{className:"existing_user_pan_zoom--announcementContent--EUu9P text--fontPos11--2LvXf text--_fontBase--QdLsd"},W.createElement("p",null,W.createElement(ex.Tx,{id:"mouse_navigation_preferences_modal.existing_user.body",filePref:W.createElement("span",{className:ap.cx.font11.fontMedium.lh16.$},W.createElement(ex.Tx,{id:"mouse_navigation_preferences.existing_user.body.file_preferences"}))})),W.createElement("div",{className:"existing_user_pan_zoom--zoomPanInstructions--tHKvv"},W.createElement("div",{className:GZ},W.createElement(Gz,{editorType:n}),W.createElement("p",{className:GQ},W.createElement(ex.Tx,{id:"mouse_navigation_preferences_modal.existing_user.scroll_to_zoom"}))),W.createElement("div",{className:GZ},W.createElement(Gq,{editorType:n}),W.createElement("p",{className:GQ},W.createElement(ex.Tx,{id:"mouse_navigation_preferences_modal.existing_user.right-click_to_pan"})))),W.createElement("div",{className:"existing_user_pan_zoom--ctasRow--gB2IA"},W.createElement("div",{className:"existing_user_pan_zoom--ctas--OA-Ac"},W.createElement(m2.wX,{onClick:e},(0,ex.t)("mouse_navigation_preferences_modal.existing_user.dismiss_button")),W.createElement(ag.q,{variant:"primary",onClick:t},(0,ex.t)("mouse_navigation_preferences_modal.existing_user.try_it"))))))}function G$(e){let t=(0,Y.OY)(),n=(0,W.useCallback)(()=>{tA.CA.triggerAction("set-right-click-pan-enabled"),(0,em.cl)({navigationPreference:em.g$.MouseScrollToZoom,enabled:!0}),tA.CA.triggerAction("set-scroll-wheel-zoom-enabled"),(0,em.cl)({navigationPreference:em.g$.RightClickDragToPan,enabled:!0})},[]);return W.createElement(LR.O,{step:{trackingContextName:"Pan Zoom Existing Onboarding: announcement modal",element:GJ,modalType:uX.GK.DRAGGABLE,onboardingKey:LE.Ir,title:W.createElement("div",{className:ap.cx.font13.fontMedium.pl8.pt16.pb16.$},W.createElement(ex.Tx,{id:"mouse_navigation_preferences_modal.existing_user.header"})),headerClassName:"existing_user_pan_zoom--announcementModalHeader--si-tX",width:300,disableFooter:!0,hideStepCounter:!0,disableHighlight:!0},onClickPrimaryCta:()=>{e.onClickPrimaryCta(),n()},onClose:aC.Kw,dismissModal:e.onManualDismiss,dispatch:t})}function G0(e){return W.createElement(us.Y5,{isShowing:e.isShowing,trackingContextName:"pan_zoom_pref_tooltip",onClose:e.onManualDismiss,targetKey:LE.Ir,emphasized:!0,title:W.createElement(ex.Tx,{id:"mouse_navigation_preferences_tooltip.existing_user.header"}),description:W.createElement(ex.Tx,{id:"mouse_navigation_preferences_tooltip.existing_user.body",filePref:W.createElement("span",{className:ap.cx.fontMedium.$},W.createElement(ex.Tx,{id:"mouse_navigation_preferences.existing_user.body.file_preferences"}))}),arrowPosition:n2.Wp.BOTTOM,shouldCenterArrow:void 0})}let G1=(0,mV.y_)("welcome_onboarded"),G2=(0,mV.y_)("orgs_onboarded"),G5=(0,mV.y_)("pan_zoom_existing_user_announcement");function G3(){let e=(0,sC._o)(),t=(0,Y.OY)(),n=(0,eo.m4)(G5),a=(0,eo.m4)(G1),r=(0,eo.m4)(G2),l=(0,eo.m4)(ui.y8),i=(0,eo.m4)(xO.oP),{complete:o,isShowing:s,show:c}=(0,mX.W)({overlay:mZ.SyB,priority:mz.g.DEFAULT_MODAL},[n,a,r,l,i]),d=(0,W.useCallback)(()=>{t(tm.s({pan_zoom_existing_user_announcement:!0})),o()},[o,t]),m=(0,ul.c)({numSteps:2,onComplete:d}),u=(0,W.useCallback)(()=>{s||(m.reset(),c({canShow:(e,t,n,a,r)=>{let l=!!((0,$.Ub)().navigation_mode_scroll_to_pref&&(0,$.Ub)().figjam_navigation_mode),i=!et.CU&&!et.mA,o=(0,sE.c)("2024-03-31"),s=(0,sE.c)().startOf("day").isBefore(o);return!e&&(t||n)&&a&&r&&l&&i&&s}}))},[s,c,m]);return(0,W.useEffect)(()=>{if(!e){let e=setTimeout(()=>u(),1e3);return()=>clearTimeout(e)}},[u,e]),W.createElement(uo.y,{currentStep:m.currentStep,isShowing:s},W.createElement(G$,{isShowing:s,onManualDismiss:d,onClickPrimaryCta:m.next}),W.createElement(G0,{isShowing:s,onManualDismiss:m.next}))}let G4=W.memo(function({isFigjamEditor:e,isDesignEditor:t,openFile:n}){let a=W.useRef(!t);return(W.useEffect(()=>{a.current=!t},[t]),!function(e){let t=(0,eo.m4)(KS.K6),n=(0,Y.w1)(e=>{var t;return null==(t=e.user)?void 0:t.created_at}),a=!!n&&(0,sE.c)("2023-05-01").isBefore(n);W.useEffect(()=>{if(!a){e.current=!0;return}e.current=e.current||(0,KI.kZ)(t)},[e,t,a]);let r=(0,Y.OY)();(0,KA.QP)("x",e),(0,KA.QP)("y",e),(0,KA.QP)("width",e),(0,KA.QP)("height",e),(0,KA.QP)("angle",e),(0,KA.QP)("cornerRadius",e),(0,KA.QP)("strokePaints",e),(0,KA.QP)("fillPaints",e),(0,KA.QP)("effects",e),(0,KA.QP)("fontSize",e),(0,KA.QP)("fontFamily",e),(0,KA.QP)("fontStyle",e),kY("has_zoomed_in_design_file",e),kV("has_panned_in_design_file",e);let l=(0,t2.e)("has_created_text"),i=(0,t2.e)("has_created_frame"),o=(0,t2.e)("has_selected_frame_tool"),s=(0,mX.W)({overlay:mZ.YdB,priority:0});(0,ur.y)(s.uniqueId,"action_set_tool_frame",W.useCallback(()=>{e&&e.current||o||r(tm.s({has_selected_frame_tool:!0}))},[e,r,o])),(0,ur.y)(s.uniqueId,"create_frame",W.useCallback(()=>{e&&e.current||i||r(tm.s({has_created_frame:!0}))},[e,r,i])),(0,ur.y)(s.uniqueId,"create_text",W.useCallback(()=>{e&&e.current||l||r(tm.s({has_created_text:!0}))},[e,r,l])),e.current}(a),!function(e){let t=(0,Y.OY)(),n=(0,eo.m4)(DT.uK),a=null!=n&&(0,sE.c)("2023-10-31").isBefore(n),r=!!(0,t2.e)("has_opened_design_editor"),[l,i]=(0,eo.lZ)(Dx);(0,W.useEffect)(()=>{a&&!r&&e&&(i(!0),t(tm.s({has_opened_design_editor:!0})))},[t,r,e,i,a]),(0,W.useEffect)(()=>{l&&!e&&i(!1)},[l,e,i])}(t),lQ.kr.getIsExtension()||!n)?null:W.createElement(W.Fragment,null,W.createElement(G6,{isFigjamEditor:e,isDesignEditor:t,openFile:n}),!et.cp.isIpadNative&&W.createElement(G8,{isFigjamEditor:e,isDesignEditor:t,openFile:n}))});function G6({isFigjamEditor:e}){return W.createElement(W.Fragment,null,e&&W.createElement(ua.i,null,W.createElement(Du,null),W.createElement(D_,null)))}function G8({isFigjamEditor:e,isDesignEditor:t,openFile:n}){let a=(0,Tj.E7)(),r=(0,Tj.q6)();return W.createElement(W.Fragment,null,t&&!(0,eE.g9)()&&W.createElement(ua.i,null,W.createElement(LL,null)),e&&!t&&W.createElement(GU.i,null,W.createElement(ua.i,null,W.createElement(LB,null))),W.createElement(ua.i,null,W.createElement(DW.U,null)),(null==n?void 0:n.teamId)&&W.createElement(GU.i,null,W.createElement(ua.i,{featureFlag:"pro_trials_v3_ux"},W.createElement(U1,{teamId:n.teamId,isDesignEditor:t,isFigJamEditor:e}))),(null==n?void 0:n.teamId)&&W.createElement(GU.i,null,W.createElement(ua.i,null,W.createElement(U$,{teamId:n.teamId,isDesignEditor:t,isFigJamEditor:e}))),t&&W.createElement(ua.i,null,W.createElement(DJ,null)),W.createElement(ua.i,null,W.createElement(D2.c,null)),W.createElement(ua.i,null,W.createElement(D5.O,null)),W.createElement(ua.i,null,W.createElement(Ri.e,null)),!et.CU&&W.createElement(ua.i,null,W.createElement(DV.r8,null)),(null==n?void 0:n.canEditCanvas)&&e&&!t&&W.createElement(ua.i,null,W.createElement(FB,{openFile:n}),W.createElement(BK,null),W.createElement(Fn,null),W.createElement(FV,null),W.createElement(Fu,null),W.createElement(Fp,null)),e&&!t&&W.createElement(ua.i,null,W.createElement(Fk,null)),W.createElement(ua.i,null,W.createElement(BG.u6,null)),e&&W.createElement(ua.i,null,W.createElement(Kk,null)),W.createElement(ua.i,null,W.createElement(B0,null)),W.createElement(ua.i,{featureFlag:"xr_debounce_threshold"},W.createElement(L$,null),W.createElement(L0,null)),W.createElement(ua.i,null,W.createElement(Ui.sT,null)),t&&W.createElement(ua.i,null,W.createElement(KE,null)),t&&W.createElement(ua.i,null,W.createElement(Kj,null)),t&&W.createElement(ua.i,{featureFlag:"exp_gen1_design_onboard_async_ff"},W.createElement(DH,null)),e&&W.createElement(ua.i,null,W.createElement(Kb,null)),W.createElement(ua.i,null,W.createElement(GX,null)),W.createElement(ua.i,null,W.createElement(Lm,null)),e&&W.createElement(W.Fragment,null,W.createElement(ua.i,null,W.createElement(L8,null))),t&&(null==n?void 0:n.canEdit)&&W.createElement(ua.i,null,W.createElement(Ks,null)),t&&W.createElement(ua.i,null,W.createElement(DC,null)),e&&W.createElement(ua.i,null,W.createElement(L2,null)),W.createElement(ua.i,null,W.createElement(Lj,null)),W.createElement(ua.i,null,W.createElement(LH,null)),!et.CU&&W.createElement(ua.i,null,W.createElement(D1,null)),W.createElement(ua.i,null,W.createElement(Ro.M,null)),t&&W.createElement(ua.i,null,W.createElement(B8,null)),t&&W.createElement(ua.i,null,W.createElement(GF,null),W.createElement(GB,null)),t&&W.createElement(ua.i,{featureFlag:"cursor_bot"},W.createElement(GD,null),W.createElement(GR,null)),e&&!r&&(0,$.Ub)().figjam_summarization&&!(0,$.Ub)().figjam_synthesize_handbrake&&W.createElement(ua.i,{featureFlag:"figjam_summarization_nudge"},e&&W.createElement(Lt,null)),e&&!r&&(0,$.Ub)().figjam_summarization&&!(0,$.Ub)().figjam_synthesize_handbrake&&W.createElement(ua.i,{featureFlag:"figjam_summarization_nudge"},e&&W.createElement(P0.Wg,null)),a&&W.createElement(ua.i,{featureFlag:"figjam_ai_onboarding"},e&&W.createElement(T$.Un,null)),t&&W.createElement(ua.i,null,W.createElement(Lo,null)),e&&W.createElement(ua.i,null,W.createElement(U3.ec,null),W.createElement(U7,null)),t&&W.createElement(ua.i,{featureFlag:"rollout_pinned_comments_ff"},W.createElement(Ur,null),W.createElement(Ul,null)),t&&W.createElement(ua.i,{featureFlag:"ce_outline_mode_shortcut_pref"},W.createElement(Ua,null)),t&&(0,$.Ub)().ce_multi_edit&&W.createElement(ua.i,{featureFlag:"ce_multi_edit_modal"},W.createElement(D8,null)),t&&(0,$.Ub)().ce_multi_edit&&W.createElement(ua.i,{featureFlag:"ce_multi_edit_inproduct_tooltips"},W.createElement(Rl,null)),t&&(0,$.Ub)().ce_multi_edit&&W.createElement(ua.i,{featureFlag:"ce_multi_edit_inproduct_tooltips"},W.createElement(Rt,null)),(0,$.Ub)().navigation_mode_scroll_to_pref&&(0,$.Ub)().figjam_navigation_mode&&(0,$.Ub)().nav_pref_existing_user_overlay&&W.createElement(ua.i,null,W.createElement(G3,null)))}var G9=n(456940);function G7(){let e=(0,Y.w1)(e=>e.universalInsertModal),t=(0,Y.w1)(e=>e.mirror.appModel.showUi),{fdPreviewResource:n,initialFdView:a,initialFdResourceTab:r}=e,l=null==n?void 0:n.type,{activeTab:i,setCurrentViewOrTab:m,currentView:u}=function(){let{initialFdResourceTab:e,initialFdView:t}=(0,Y.w1)(e=>e.universalInsertModal),[n,a]=W.useState(e||s||iu.o.COMPONENT),[r,l]=W.useState(e===iu.o.PLUGIN&&t||c||"recents_and_saved"),[i,o]=W.useState(e===iu.o.WIDGET&&t||d||"recents_and_saved"),m=W.useCallback(e=>{e===iu.o.PLUGIN?c=r:e===iu.o.WIDGET&&(d=i)},[r,i]),u=n===iu.o.PLUGIN?r:i,p=W.useCallback(({newView:e,newTab:t})=>{let c=t===iu.o.PLUGIN?r:t===iu.o.WIDGET?i:void 0;e&&c!==e&&(m(n),(t||n)===iu.o.PLUGIN?l(e):(t||n)===iu.o.WIDGET&&o(e)),t&&n!==t&&(m(n),s=n,a(t))},[n,r,i,m]);return W.useEffect(()=>{p({newView:t,newTab:e})},[e,t]),W.useEffect(()=>{s=n,m(n)},[n,m]),W.useMemo(()=>({activeTab:n,currentView:u,setCurrentViewOrTab:p}),[n,u,p])}(),p="ui3"===(0,X.qG)().version,_=(0,Y.OY)(),E=W.useRef(null),[g]=W.useState(a?"":o||"");W.useEffect(()=>{(0,rd.Y9)({id:"figma-inserts-opened"}),(0,rd.Y9)({id:BG.Cu})},[]),W.useEffect(()=>{o=g},[g]),W.useEffect(()=>_(tl.Qb()),[_]),(0,S_.UL)((0,ii.wv)()),(0,S_.UL)((0,ii.I7)()),W.useEffect(()=>{m({newTab:l||r})},[r,l]);let h=(0,tw.KG)(),[f,v]=W.useState(),y=p?im.Ui:im.uM;(0,lJ.Sg)(e.pinned===Cz.a.NOT_PINNED,E,y);let C=(0,im.Sk)(),w=(0,im.U7)(),{bounds:b,showLeftPinBound:T,setShowLeftPinBound:x,shouldSnapToPosition:k,setPinned:N}=MZ(He,v,e.pinned,C,w,e.showing),S=(0,lJ.wD)(),I=(0,rp.g)(),A=W.useCallback(e=>{e.stopPropagation(),I&&_(lZ.yi())},[_,I]),O=W.useMemo(()=>({activeTab:i,viewResource:e=>{_(lH.kh({fdPreviewResource:e}))},closeResource:()=>{_(lH.kh({fdPreviewResource:void 0}))},closeModal:S,pinModal:N,setCurrentViewOrTab:m,currentView:u}),[i,S,N,_,m,u]),M=W.useCallback(e=>{d3.Qb.get("set-tool-default","toolbar")(),_(lH.sD({pinned:Cz.a.PINNED})),A(e)},[_,A]),P=W.useCallback(()=>{T&&N()},[T,N]);if(!e.showing)return null;let L={height:"auto",overflow:"hidden"};return(e.pinned!==Cz.a.NOT_PINNED||p||(L.borderTopLeftRadius="0px"),"dev_handoff"===h)?null:W.createElement(tg.kH,{name:"universal-insert"},e.pinned===Cz.a.PINNED&&T&&W.createElement("div",{className:OI.Ko,style:{left:C.x,top:C.y,width:im.UD}}),W.createElement(im.gp.Provider,{value:O},W.createElement(n2.G0,{initialPosition:f||new nU.Cg(e.initialX,e.initialY),initialWidth:im.UD,bounds:b,onEnterBound:()=>x(!0),onLeaveBound:()=>x(!1),canResetPosition:k,onClose:S,onDragStart:M,onDragEnd:P,minTopMargin:t?void 0:0,onClick:A,ref:E,containerClassName:e.pinned===Cz.a.PINNED_AND_DOCKED_LEFT?"fd_browse_resource_modal--modalContainerPinAnimation--dBKwy fd_browse_resource_modal--modalContainer--I03bg draggable_modal--positionedContainer--HdvZU":"fd_browse_resource_modal--modalContainer--I03bg draggable_modal--positionedContainer--HdvZU",frameStyle:L},W.createElement(sl,null))))}function He(){return{x:-im.UD,y:0,width:2*im.UD+im.YB,height:window.innerHeight}}function Ht(e){let{onDismiss:t,canUpgrade:n}=e;return W.createElement(tg.kH,{name:"Workshop Expired File Banner"},W.createElement("div",{className:`workshop_expiry_footer--banner--ELf7G ${gZ.kl}`},W.createElement("div",{className:"workshop_expiry_footer--bannerContent--w2Lw1"},W.createElement(ls.wZ,{className:"workshop_expiry_footer--icon--mM-A8",type:ls.MB.WHITEBOARD}),W.createElement("div",{className:"workshop_expiry_footer--textContent--TN7cv"},W.createElement("span",{className:"workshop_expiry_footer--title--cmlOu text--fontPos13Whyte--VhWqH text--_fontBaseWhyte--efAjI"},W.createElement(ex.Tx,{id:"whiteboard.open_sessions.expiry_banner_title"})),n&&W.createElement("span",{className:"workshop_expiry_footer--subtitle--jmRvc text--fontPos13Whyte--VhWqH text--_fontBaseWhyte--efAjI"},W.createElement(ex.Tx,{id:"whiteboard.open_sessions.expiry_banner_prompt"})))),W.createElement(rW.CA,{onClick:t,className:"workshop_expiry_footer--closeButton--L8lrO"})))}var Hn=n(179940),Ha=n(506508);function Hr(e){let{onWorkshopExpired:t}=e;!function(){let e=(0,Y.OY)(),t=(0,t1.C2)(),n=!t,a=(0,th.S)(),r=a.enabled,l=a.enabled?a.id:null,i=(0,Y.w1)(e=>e.progressBarState.mode),o=(0,Y.w1)(e=>{var t;return null==(t=e.openFile)?void 0:t.isTryFile}),s=(0,W.useMemo)(()=>{if(!t||null==l)return!1;if(o)return!0;let e=(0,e_.AP)();try{return e.get((0,Ha.J_)(l)).includes(t.email)}catch(e){return!1}},[t,l,o]),c=null==t?void 0:t.email;(0,W.useEffect)(()=>{c&&l&&o&&(0,Ha.cz)(l,c)},[c,l,o]);let d=(0,Y.w1)(e=>{var t;return null==(t=e.openFile)?void 0:t.canEdit}),m=(0,Y.w1)(e=>{var t;return null==(t=e.openFile)?void 0:t.key}),u=(0,Y.w1)(e=>{var t;return null==(t=e.openFile)?void 0:t.name});(0,W.useEffect)(()=>{if(r&&!(0,uk.K)(i)){let t=localStorage.getItem((0,Ud.ae)(l));n?t?(0,td.es)(t):e(ts.us({type:Hn.c})):d||s||e(ts.us({type:Hn.c}))}},[e,n,r,l,i,d,s]),(0,W.useEffect)(()=>{if(r&&!(0,uk.K)(i)&&n&&o&&m&&u===(0,ex.t)("fullscreen.fullscreen_view_selector.untitled")){let t=localStorage.getItem((0,Ud.ae)(l));t&&e(PN.w({userName:t,file_key:m}))}},[r,i,l,n,o,m,u,e])}();let{showEditFileFooter:n,userCanSeeEditButton:a,dismissEditFileFooter:r}=function(e){let[t,n]=(0,W.useState)(!1),a=(0,Y.OY)(),r=(0,t1.C2)(),l=(0,Y.w1)(e=>{var t;return null==(t=e.openFile)?void 0:t.name}),i=!r,o=(0,Y.w1)(e=>e.openFile),{userCanEditFile:s,userCanSeeEditButton:c}=(0,W.useMemo)(()=>i?{userCanEditFile:!1,userCanSeeEditButton:!1}:o?{userCanEditFile:o.canEdit,userCanSeeEditButton:o.showEditButton}:{userCanEditFile:!1,userCanSeeEditButton:!1},[i,o]),d=(0,id._T)(),m=(0,th.S)(),u=m.enabled,p=(0,rb.i)(u),_=m.enabled?m.until.valueOf():null,E=(0,W.useRef)(null),g=(0,W.useCallback)(()=>{var t;if(!i){null==(t=eM.Abq)||t.reconnect(!1),s||n(!0);return}a(rQ.a.init({origin:"logged_out_footer",formState:rJ.o9.SIGN_UP,redirectUrl:J.default.location.pathname})),(null==d?void 0:d.updateFigJamTryExpiration)?m.enabled&&m.until?d.updateFigJamTryExpiration(m.until):d.updateFigJamTryExpiration(new Date):a(ts.A5({type:r8.A,data:{headerText:(0,ex.t)("whiteboard.open_sessions.expiry_modal_title",{file_name:l||""}),subtitle:(0,ex.t)("whiteboard.open_sessions.expiry_modal_subtext"),disableHiding:!0}})),e()},[a,e,i,s,l,d,m]);return(0,W.useEffect)(()=>{if(u&&_){let e=Math.max(_-Date.now(),0);E.current=setTimeout(()=>{E.current=null,g()},e)}return()=>{E.current&&clearTimeout(E.current)}},[a,u,_,g]),(0,W.useEffect)(()=>{var e;null!=p&&u!==p&&(u?null==(e=eM.Abq)||e.reconnect(!1):(E.current&&clearTimeout(E.current),g()))},[a,u,p,g]),{showEditFileFooter:t,dismissEditFileFooter:(0,W.useCallback)(()=>{n(!1)},[]),userCanSeeEditButton:c}}(t);return n?W.createElement(Ht,{onDismiss:r,canUpgrade:a}):null}var Hl=n(130340),Hi=n(233159),Ho=n(587040),Hs=n(84936),Hc=n(403204);function Hd({children:e}){let[t,n]=(0,W.useState)(null),a=(0,tC.c)(()=>n(!0),500),r=t?aC.Kw:a;return(0,W.useEffect)(r),t&&W.createElement("div",{className:Hc.E,role:"status"},e)}function Hm(){let e=(0,Y.w1)(e=>e.mirror.appModel.keyboardShortcuts),t=(0,nf.O0)(e,"present-as-prototype");return W.createElement(Hd,null,W.createElement(ex.Tx,{id:"fullscreen.toolbar.screenreader_notice",shortcut:t}))}function Hu(){let e=(0,Y.w1)(e=>e.mirror.appModel.keyboardShortcuts);if((0,Y.w1)(e=>e.screenreader.enabled))return null;let t=(0,nf.O0)(e,"open-shortcuts").replace("?",(0,ex.t)("general.question_mark")),n=(0,nf.O0)(e,"toggle-menu");return W.createElement(Hd,null,W.createElement(ex.Tx,{id:"fullscreen.toolbar.screenreader_notice_figjam",shortcut:t,quickActionsShortcut:n}))}var Hp=n(43828),H_=n(230924),HE=n(717888);class Hg{constructor(e){this.store=e}get graph(){return this.store.getState().mirror.sceneGraph}children(e){return(0,Hp.IS)(this.graph,e)?[]:eM.i46.getSortedChildGuids(e.guid).map(e=>this.graph.get(e)).filter(aM.aI)}id(e){return e.guid}isRoot(e){let t=this.parent(e);return!t||"DOCUMENT"===t.type}parent(e){let t=e.parentNode;return t&&"DOCUMENT"!==t.type?t:void 0}interpret(e){if(!e||"SECTION_OVERLAY"===e.type)return{inclusion:HE.s.OMIT};if("CANVAS"===e.type)return{inclusion:HE.s.INCLUDE};if(e.resizeToFit)return{inclusion:HE.s.CHILDREN};let t=(0,Hp.Gq)(eM.GqY.getNodeTransformProperties(e.guid)),n=(0,Hp.IT)(e),a=(0,Hp.ob)({type:e.type,name:e.name}),r=(0,Hp.O0)(e),l=(0,Hp.O0)(e.textSublayer),i=eM.GqY.getStickableFrequencies(e.guid)||{},o=e.accessibleLabel,s="TABLE"===e.type?(0,Hp.U7)(this.graph,e):null,c="SECTION"===e.type&&e.sectionContentsHidden;return{guid:e.guid,inclusion:HE.s.INCLUDE,type:e.type,author:e.authorVisible&&e.authorName?e.authorName:null,directTextContent:r,innerTextContent:l,tableCells:s,transformProperties:t,ariaRole:n,name:e.name,headerLabel:a,shapeType:"SHAPE_WITH_TEXT"===e.type?e.shapeWithTextType:null,stampFrequencies:i,accessibleLabel:o,contentsHidden:c}}comparePayloads({transformProperties:e,directTextContent:t,innerTextContent:n,stampFrequencies:a,accessibleLabel:r,...l},{transformProperties:i,directTextContent:o,innerTextContent:s,stampFrequencies:c,accessibleLabel:d,...m}){return(0,Y.G)(l,m)&&(0,Y.G)(e,i)&&(0,Y.G)(a,c)&&(0,Y.G)(r,d)&&(0,rw.QZ)(t,o)&&(0,rw.QZ)(n,s)}}let Hh=W.createContext({getLastEventWasTab:()=>!1});function Hf({children:e}){let t=(0,W.useRef)(!1),n=(0,W.useCallback)(()=>{t.current=!1},[]),a=(0,W.useCallback)(e=>{"Tab"===e.key?t.current=!0:t.current=!1},[]);(0,W.useEffect)(()=>(document.addEventListener("pointerdown",n),document.addEventListener("pointermove",n),document.addEventListener("keydown",a),()=>{document.removeEventListener("mousedown",n),document.removeEventListener("mousemove",n),document.removeEventListener("keydown",a)}),[a,n]);let r=(0,W.useCallback)(()=>t.current,[]),l=(0,W.useMemo)(()=>({getLastEventWasTab:r}),[r]);return W.createElement(Hh.Provider,{value:l},e)}var Hv=n(626436);let Hy="textInputRegistered";var HC=n(451171);let{viewportContainerToCss:Hw}=(0,Hp.Om)(),Hb=(0,W.memo)(function({currentPage:e,editorType:t}){return W.createElement(Hf,null,W.createElement(HT,{editorType:t,currentPage:e}))});function HT({currentPage:e,editorType:t}){!function(e){var t;let n=(0,b$.i)(e.loggerEvent),{getLastEventWasTab:a}=(0,W.useContext)(Hh),r=(0,Y.w1)(e=>1===Object.keys(e.mirror.sceneGraphSelection).length?Object.keys(e.mirror.sceneGraphSelection)[0]:null),l=eM.cJA&&eM.cJA.exists(eM.OSv.REDUX)?null==(t=eM.cJA.getSelectedTextRange(eM.OSv.REDUX))?void 0:t.textNodeId:null,i=r||l;W.useEffect(()=>{i&&a()&&n((0,eB.Qn)({nodeId:i,...H_.ie}),H_.kR)},[n,a,i])}({loggerEvent:"whiteboard"===t?"figjam_navigate":"design_navigate"});let n=(0,Hi.oV)();(0,xU._e)(t);let a=(0,Y.OY)(),r=(0,Y.w1)(e=>!!e.modalShown);return(0,W.useEffect)(()=>{n&&et.CU&&(r||a(ek.A.enqueue({message:(0,ex.t)("fullscreen.accessibility.platform_error"),role:"alert",type:"accessibility-dom-react-error"})),a((0,Hl.uy)({errorType:"platform_error"})))},[a,r,n]),et.CU?null:n&&"whiteboard"===t?W.createElement(eb.Ou,{onError:()=>{r||a(ek.A.enqueue({message:(0,ex.t)("fullscreen.accessibility.dom_error"),role:"alert",type:"accessibility-dom-react-error"})),a((0,Hl.uy)({errorType:"render_error"}))},fallback:W.createElement("div",null),boundaryKey:"FigjamAccessibilityTreeInnerWithViewport"},W.createElement(Hx,{currentPage:e})):W.createElement(Hu,null)}function Hx({currentPage:e}){let t=(0,eB.OM)({subscribeToUpdates_expensive:!0});!function(){let e=(0,W.useRef)(),t=(0,W.useRef)(!1),n=(0,W.useRef)({value:null}),a=tA.CA&&tA.CA.isReady()&&eM.K2t.getFocusElementsRegistered(),r=(0,Y.w1)(e=>e.mirror.appModel.activeCanvasEditModeType),l=(0,Y.w1)(e=>e.mirror.sceneGraphSelection),i=(0,Y.w1)(e=>e.mirror.sceneGraph),{textValue:o,selectionRange:s}=(0,el.q)(e=>{let t=e.mirror.appModel.activeCanvasEditModeType,n=e.mirror.sceneGraph,a=e.mirror.sceneGraphSelection;if(t!==eM.a_v.TEXT)return{textValue:null,selectionRange:null};let r=Object.keys(a);if(0===r.length)return{textValue:null,selectionRange:null};let l=n.get(r[r.length-1]);if(null==l)return{textValue:null,selectionRange:null};let i=null!=l.containingCanvas?n.get(l.containingCanvas):null,o=null==i?void 0:i.getSelectedTextRange();return{textValue:null==l?void 0:l.textContent,selectionRange:o}});n.current.value=o,n.current.selectionStart=null==s?void 0:s.start,n.current.selectionEnd=null==s?void 0:s.end;let c=(0,W.useCallback)((n,a,r)=>{t.current||null==e.current||null==n||(e.current.value=n),t.current||null==e.current||null==a||null==r||e.current.setSelectionRange(a,r)},[]);(0,W.useEffect)(()=>{c(o,null==s?void 0:s.start,null==s?void 0:s.end)},[o,null==s?void 0:s.end,null==s?void 0:s.start,null==s?void 0:s.textNodeId,c]);let d=()=>{t.current=!1},m=()=>{t.current=!0},u=(0,W.useCallback)(()=>{c(n.current.value,n.current.selectionStart,n.current.selectionEnd),t.current=!1},[c]);(0,W.useEffect)(()=>{var t,n,r,l,i,o;if(a){if(e.current=function(){var e;let t=null==(e=document.getElementById("fullscreen-root"))?void 0:e.getElementsByClassName("focus-target"),n=null==t?null:Array.from(t).filter(e=>"textarea"===e.tagName.toLowerCase()&&!e.hasAttribute("readonly")).map(e=>e);return(null==n?void 0:n.length)===1?n[0]:null}(),null==(t=e.current)?void 0:t.hasAttribute(Hy)){aO.g.error("Input mirror hook registered multiple times");return}return null==(n=e.current)||n.setAttribute(Hy,"true"),null==(r=e.current)||r.addEventListener("compositionend",d),null==(l=e.current)||l.addEventListener("compositionstart",m),null==(i=e.current)||i.addEventListener("focus",u),null==(o=e.current)||o.addEventListener("input",d),()=>{var t,n,a,r,l;null==(t=e.current)||t.removeAttribute(Hy),null==(n=e.current)||n.removeEventListener("compositionend",d),null==(a=e.current)||a.removeEventListener("compositionstart",m),null==(r=e.current)||r.removeEventListener("focus",u),null==(l=e.current)||l.removeEventListener("input",d)}}},[a,u]);let p=r===eM.a_v.TEXT?function(e,t){let n=Object.keys(t),a=n.length>0?e.get(n[0]):null,{guid:r,type:l,shapeWithTextType:i}=a??{guid:void 0,type:void 0,shapeWithTextType:void 0};if(null==r)return"";if("SHAPE_WITH_TEXT"===l)return(0,Hp.m8)(i);if("TABLE"===l){let t=e.get(n[n.length-1]);if(null==t)return(0,Hv.u)(l);{let{tableCellRowIndex:e,tableCellColumnIndex:n}=t;return(0,ex.t)("fullscreen.accessibility_dom.node_name_table_cell",{r:e,c:n})}}return(null==a?void 0:a.isSymbolSublayer)||(null==a?void 0:a.isInstanceSublayer)?(0,ex.t)("fullscreen.accessibility_dom.node_name_instance"):(0,Hv.u)(l)}(i,l):"";(0,W.useEffect)(()=>{e.current&&(e.current.ariaLabel=p)},[p])}();let[n]=(0,Af.c)(t,500,{trailing:!0}),a=(0,eD.s5)((0,eP.EB)().accessibilityDomDebug),r=(0,d5.cH)();(0,Ho.Gu)();let l=(0,Y.OY)();(0,W.useEffect)(()=>{l((0,Hl.uy)({errorType:null}))},[l]);let i=(0,Hi.Kc)();(0,W.useEffect)(()=>{i(Hi.sc.FIGJAM_INITIAL_TREE_LOAD)},[i]);let o=W.useRef(null),s=Hw(n),c=q()(HC.uQ,{[HC.E2]:!a});return W.createElement("div",{className:c,ref:e=>{(0,tS.yj)("canvas",e),o.current=e},id:xU.Qn,"aria-label":r?(0,E5.Oy)([(0,ex.t)("fullscreen.accessibility.main_region"),(0,ex.t)("fullscreen.filename_view.view-only")],"unit"):(0,ex.t)("fullscreen.accessibility.main_region"),role:"main",tabIndex:0,"data-fullscreen-intercept-dangerously-include-tab":!0,onFocusCapture:()=>{var e;null==(e=o.current)||e.setAttribute("aria-hidden","false")}},W.createElement("div",{style:s},W.createElement(Hk,{currentPage:e})))}let Hk=W.memo(function({currentPage:e}){let t=(0,tU.s)(),n=(0,Y.o3)(),a=W.useMemo(()=>new Hg(n),[n]),r=(0,Hs.E)(a,Hi.sc.FIGJAM_UPDATE_NODE),l=(0,b$.i)("figjam_navigate"),i=(0,eD.s5)((0,eP.EB)().accessibilityDomDebug),o=(0,Y.w1)(E6.qs);(0,Y.w1)(E6.SJ);let s=(0,tC.c)(()=>{if(!t)return;let e=eM.ugv.getActiveDocument(),n=eM.SWE.flushChangedNodes(e);if(n.length){let e=n.map(e=>o.get(e)).filter(aM.aI);r.updateDirtyNodes(e)}},500,{leading:!0,trailing:!0,maxWait:1e3});(0,W.useEffect)(s);let c=t?eM.ugv.getActiveDocument():void 0;return(0,W.useEffect)(()=>{if(void 0!==c)return eM.SWE.setMapping(c,eM.S0Y.FIGJAM),()=>{eM.SWE.flushChangedNodes(c),eM.SWE.setMapping(c,eM.S0Y.NONE)}},[c]),(0,W.useEffect)(()=>{if(!t)return;let a=n.getState().mirror.sceneGraph.get(e);a&&r.updateDirtyNodes([a])},[e,t,n,r]),W.createElement(H_.Uh,{nodeId:e,isDebugMode:i,navigate:l,accessibilityScope:r})});var HN=n(78432),HS=n(607956),HI=n(809896),HA=n(282528);let HO="annotation--annotationContainer--k4xiM",HM="annotation--wrapperEditing--C2Zlx",HP="annotation--createAnnotation--tWKSM annotation--_annotationBase--MPByC",HL="annotation--contentContainer--vSuqs",HD="annotation--properties--1p6UF",HR="annotation--noValue--HHQOU",HF="annotation--propertyOptionIconSvg--LypST",HB="annotation--icon--w1enR",HU="annotation--chit--3je6E",HK="annotation--solidPaint--ClR6h",HG="annotation--solidPaintValue--9PQMf annotation--_ellipsis--8F1VE",HH="annotation--variablePill--VNxoI";function HV({valueProps:e,isHovered:t,variableContainerClassName:n}){if("mixed"===e.format){let a=e.value.some(e=>!!e.variable);return W.createElement("div",{className:q()("annotation--multipleVariableWrapper--OW3M1",a&&"annotation--vertical--zmpVv")},e.value.map((r,l)=>W.createElement("div",{key:l,className:"annotation--multipleVariableValue--5-5xk"},W.createElement(HV,{valueProps:r,isHovered:t,variableContainerClassName:n}),l<e.value.length-1&&!a&&W.createElement("span",null,", "))))}let a=`${(0,sJ.U5)(e)}`;return e.variable?W.createElement(cp.c,{dataTestId:"styledValueVariable",containerClassName:q()(HH,n),text:e.variable,disableHover:!0,isHovered:t,isInferred:e.isSuggestedVariable,tooltip:e.isSuggestedVariable?(0,ex.t)("dev_handoff.variables.inferred_value",{value:a}):a}):W.createElement(W.Fragment,null,a)}var HW=n(902784);function HY({svg:e}){return W.createElement(eN.A,{svg:e,className:q()(HB,HF)})}var Hj=n(511940),HX=n(781924),Hz=n(628604);function Hq({node:e,variable:t,isPreview:n=!1}){return t?n?W.createElement(W.Fragment,null,t.name):W.createElement(cp.c,{containerClassName:HH,text:t.name,disableHover:!0}):(0,HW.Qt)(e.stackPrimaryAlignItems)?W.createElement(ex.Tx,{id:"dev_handoff.annotations.auto"}):W.createElement(W.Fragment,null,(0,sJ.Ar)(e.stackSpacing,"px"))}function HZ({node:e,isPreview:t=!1}){var n,a;let r=(0,gm.c1)(null==(a=null==(n=e.boundVariables)?void 0:n.itemSpacing)?void 0:a.id);return W.createElement("div",{className:r?void 0:"annotation--spacingProperty--RCjSM annotation--coloredProperty--OTQ6l"},W.createElement("span",null,W.createElement(Hq,{node:e,variable:r,isPreview:t})))}function HQ({rawValues:e,variables:t,isPreview:n=!1}){var a;if(e.length!==t.length)throw Error("<ManySidedProperty /> must have the same number of rawValues and variables");let r=t.map((t,n)=>({value:e[n],format:"pixels",variable:null==t?void 0:t.name})),l=null==(a=r[0])?void 0:a.variable;for(let e of r)if(e.variable!==l){if(n)return W.createElement(ex.Tx,{id:"fullscreen.mixed"});return W.createElement(HV,{variableContainerClassName:HH,valueProps:{format:"mixed",value:r}})}return l?n?W.createElement(W.Fragment,null,l):W.createElement(HV,{variableContainerClassName:HH,valueProps:r[0]}):e.some(t=>t!==e[0])?n?W.createElement(ex.Tx,{id:"fullscreen.mixed"}):W.createElement(HV,{variableContainerClassName:HH,valueProps:{format:"pixels",value:e}}):W.createElement(HV,{variableContainerClassName:HH,valueProps:{format:"pixels",value:e[0]}})}function HJ({node:e,isPreview:t=!1}){var n,a,r,l,i,o,s,c;let{stackTopPadding:d,stackRightPadding:m,stackBottomPadding:u,stackLeftPadding:p}=e,_=(0,gm.c1)(null==(a=null==(n=e.boundVariables)?void 0:n.paddingTop)?void 0:a.id),E=(0,gm.c1)(null==(l=null==(r=e.boundVariables)?void 0:r.paddingRight)?void 0:l.id),g=(0,gm.c1)(null==(o=null==(i=e.boundVariables)?void 0:i.paddingBottom)?void 0:o.id),h=(0,gm.c1)(null==(c=null==(s=e.boundVariables)?void 0:s.paddingLeft)?void 0:c.id),f=[_,E,g,h].some(e=>!!e);return W.createElement("div",{className:q()(f?void 0:"annotation--paddingProperty--ckvG6 annotation--coloredProperty--OTQ6l")},W.createElement("span",null,W.createElement(HQ,{rawValues:[d,m,u,p],variables:[_,E,g,h],isPreview:t})))}function H$({node:e}){if("WRAP"===e.stackWrap)return W.createElement(HY,{svg:Hz.c});switch(e.stackMode){case"HORIZONTAL":return W.createElement(HY,{svg:Hj.c});case"VERTICAL":return W.createElement(HY,{svg:HX.c});default:return null}}function H0({node:e}){if("WRAP"===e.stackWrap)return W.createElement(ex.Tx,{id:"fullscreen.properties_panel.stack_panel.wrap"});switch(e.stackMode){case"HORIZONTAL":return W.createElement(ex.Tx,{id:"dev_handoff.annotations.autolayout_horizontal"});case"VERTICAL":return W.createElement(ex.Tx,{id:"dev_handoff.annotations.autolayout_vertical"});default:return null}}function H1({node:e}){if("NONE"===e.stackMode)return null;if("HORIZONTAL"===e.stackMode)switch(e.stackPrimaryAlignItems){case"MIN":switch(e.stackCounterAlignItems){case"MIN":return W.createElement(ex.Tx,{id:"dev_handoff.annotations.alignment.top_left"});case"CENTER":return W.createElement(ex.Tx,{id:"dev_handoff.annotations.alignment.left"});case"MAX":return W.createElement(ex.Tx,{id:"dev_handoff.annotations.alignment.bottom_left"});case"BASELINE":return W.createElement(ex.Tx,{id:"dev_handoff.annotations.alignment.baseline_left"})}case"CENTER":case"SPACE_BETWEEN":case"SPACE_EVENLY":switch(e.stackCounterAlignItems){case"MIN":return W.createElement(ex.Tx,{id:"dev_handoff.annotations.alignment.top_center"});case"CENTER":return W.createElement(ex.Tx,{id:"dev_handoff.annotations.alignment.center"});case"MAX":return W.createElement(ex.Tx,{id:"dev_handoff.annotations.alignment.bottom_center"});case"BASELINE":return W.createElement(ex.Tx,{id:"dev_handoff.annotations.alignment.baseline_center"})}case"MAX":switch(e.stackCounterAlignItems){case"MIN":return W.createElement(ex.Tx,{id:"dev_handoff.annotations.alignment.top_right"});case"CENTER":return W.createElement(ex.Tx,{id:"dev_handoff.annotations.alignment.right"});case"MAX":return W.createElement(ex.Tx,{id:"dev_handoff.annotations.alignment.bottom_right"});case"BASELINE":return W.createElement(ex.Tx,{id:"dev_handoff.annotations.alignment.baseline_right"})}}switch(e.stackPrimaryAlignItems){case"MIN":switch(e.stackCounterAlignItems){case"MIN":return W.createElement(ex.Tx,{id:"dev_handoff.annotations.alignment.top_left"});case"CENTER":return W.createElement(ex.Tx,{id:"dev_handoff.annotations.alignment.top_center"});case"MAX":return W.createElement(ex.Tx,{id:"dev_handoff.annotations.alignment.top_right"});case"BASELINE":return null}case"CENTER":case"SPACE_BETWEEN":case"SPACE_EVENLY":switch(e.stackCounterAlignItems){case"MIN":return W.createElement(ex.Tx,{id:"dev_handoff.annotations.alignment.left"});case"CENTER":return W.createElement(ex.Tx,{id:"dev_handoff.annotations.alignment.center"});case"MAX":return W.createElement(ex.Tx,{id:"dev_handoff.annotations.alignment.right"});case"BASELINE":return null}case"MAX":switch(e.stackCounterAlignItems){case"MIN":return W.createElement(ex.Tx,{id:"dev_handoff.annotations.alignment.bottom_left"});case"CENTER":return W.createElement(ex.Tx,{id:"dev_handoff.annotations.alignment.bottom_center"});case"MAX":return W.createElement(ex.Tx,{id:"dev_handoff.annotations.alignment.bottom_right"});case"BASELINE":return null}}}function H2(e,t){let n=(0,Y.w1)(e=>e.library),a=(0,hW.C4)(e),r=(0,eA.cN)(a);if(!e||!a||!r)return null;let l=(0,iH.ei)(e.key,[a],n);if(!l)return null;let i=l.value;return"DANGLING"===l.kind&&(i.style_type=t),i.description=r.description,i.name=r.name,i.isLocal="LOCAL"===l.kind,i}function H5(e,t){if(1===t)return e;let n=(100*t).toLocaleString("en",{maximumFractionDigits:2})+"%";return`${e} \xb7 ${n}`}function H3(e,t,n){let{opacity:a=1}=e;switch(e.type){case"SOLID":{if(!e.color)return null;let{color:r}=e,{a:l=1}=r,i=n({...r,a:l*a},{alphaInPercent:!0});return t?t.name:i}case"GRADIENT_LINEAR":return H5((0,ex.t)("dev_handoff.selection_colors.gradient_linear"),a);case"GRADIENT_ANGULAR":return H5((0,ex.t)("dev_handoff.selection_colors.gradient_angular"),a);case"GRADIENT_DIAMOND":return H5((0,ex.t)("dev_handoff.selection_colors.gradient_diamond"),a);case"GRADIENT_RADIAL":return H5((0,ex.t)("dev_handoff.selection_colors.gradient_radial"),a);case"IMAGE":return H5((0,ex.t)("dev_handoff.annotations.image"),a);case"VIDEO":return H5((0,ex.t)("dev_handoff.annotations.video"),a);default:return null}}function H4({paints:e,styleRef:t,variables:n}){let a=null==n?void 0:n[0],r=(0,fS.G)(),l=(0,gm.c1)(null==a?void 0:a.id),i=H2(t,"FILL");return 0===e.length?null:i?W.createElement(W.Fragment,null,i.name):e.length>1?W.createElement(ex.Tx,{id:"dev_handoff.annotations.multiple"}):W.createElement(W.Fragment,null,H3(e[0],l,r))}function H6({paints:e}){let t=e[0];return W.createElement(fO.o,{className:HU,tabIndex:-1,paint:t,allowMouseDownPropagation:!0})}function H8({paint:e,variableAlias:t}){let n=(0,fS.G)(),a=(0,gm.c1)(null==t?void 0:t.id),r=H3(e,a,n);return r?W.createElement("div",{className:HK},W.createElement(fO.o,{className:HU,paint:e,tabIndex:-1,allowMouseDownPropagation:!0}),W.createElement("span",{className:HG,title:r},a?W.createElement(cp.c,{containerClassName:HH,text:r,disableHover:!0}):r)):null}function H9({styleRef:e,styleType:t,hideIcon:n=!1}){let a=H2(e,t);return(!function(e){let t=(0,Y.w1)(e=>e.library),n=(0,hW.C4)(e),a=n?(0,iH.ei)(e.key,[n],t):void 0;(0,iH.ym)(a)}(e),a)?W.createElement("div",{className:HK},!n&&W.createElement("div",{className:q()("annotation--styleChit--yCQ3O annotation--chit--3je6E",HB)},W.createElement(fP.wv,{dsStyle:a})),W.createElement("span",{className:HG,title:a.name},a.name)):null}function H7({paints:e,styleRef:t,variables:n}){let{data:a}=e;return t?W.createElement(H9,{styleRef:t,styleType:"FILL"}):0===a.length?null:W.createElement("div",{className:"annotation--mixedValues--Z0qIk"},a.map((e,t)=>W.createElement(H8,{key:t,paint:e,variableAlias:null==n?void 0:n[t]})))}var Ve=n(513668);function Vt({effects:e}){if(0===e.length)return null;if(e.length>1)return W.createElement(ex.Tx,{id:"fullscreen.mixed"});switch(e[0].type){case"DROP_SHADOW":return W.createElement(ex.Tx,{id:"dev_handoff.annotations.shadow"});case"BACKGROUND_BLUR":return W.createElement(ex.Tx,{id:"fullscreen.properties_panel.effects.background_blur"});case"FOREGROUND_BLUR":return W.createElement(ex.Tx,{id:"fullscreen.properties_panel.effects.layer_blur"});case"INNER_SHADOW":return W.createElement(ex.Tx,{id:"fullscreen.properties_panel.effects.inner_shadow"});case void 0:return null}}function Vn({effects:e,styleRef:t}){return W.createElement(W.Fragment,null,e.map((e,n)=>W.createElement(Vr,{effect:e,styleRef:t,key:n})))}let Va=new cN.sP;function Vr({effect:e,styleRef:t}){var n,a;let r=(0,fS.G)(),l=t&&W.createElement(Vl,{styleRef:t});switch(e.type){case"DROP_SHADOW":case"INNER_SHADOW":{let{color:t}=e,i=t?r(t,{alphaInPercent:!0}):null,o=[null==(n=e.offset)?void 0:n.x,null==(a=e.offset)?void 0:a.y,e.radius,e.spread].filter(e=>void 0!==e).join(", ");return W.createElement("div",null,l,W.createElement("span",null,W.createElement(Vt,{effects:[e]})),t&&W.createElement(W.Fragment,null,W.createElement("span",null),W.createElement("div",{className:HK},W.createElement(fO.o,{className:q()(HU,"annotation--chitInline--vG6cM"),color:t,allowMouseDownPropagation:!0}),W.createElement("span",{className:HG,title:i||void 0},i))),W.createElement("span",null),W.createElement("span",null,o),e.blendMode&&"NORMAL"!==e.blendMode&&W.createElement(W.Fragment,null,W.createElement("span",null),W.createElement("span",null,Va.format(e.blendMode))))}case"BACKGROUND_BLUR":case"FOREGROUND_BLUR":return W.createElement("div",null,l,W.createElement("span",null,W.createElement(Vt,{effects:[e]})),void 0!==e.radius&&W.createElement("span",null,` ${(0,sJ.Ar)(e.radius,"px")}`));case void 0:return null}}function Vl({styleRef:e}){let t=(0,hW.C4)(e),n=(0,eA.cN)(t);return t&&n?W.createElement("div",null,n.name):null}let Vi=e=>{switch(e){case"RIGHT":return(0,ex.t)("inspect_panel.typography.align_right");case"CENTER":return(0,ex.t)("inspect_panel.typography.align_center");case"JUSTIFIED":return(0,ex.t)("inspect_panel.typography.align_justified");case"LEFT":return(0,ex.t)("dev_handoff.annotations.align_left")}};function Vo(){return W.createElement(eN.A,{svg:ez.c,className:q()(HB,HF)})}function Vs({textAlignHorizontal:e}){return W.createElement(W.Fragment,null,Vi(e))}function Vc({lineHeightOrMixed:e,variableAlias:t,isPreview:n}){let a=(0,gm.c1)(null==t?void 0:t.id);if("mixed"===e)return W.createElement(ex.Tx,{id:"fullscreen.mixed"});if(a&&n)return W.createElement(W.Fragment,null,a.name);if("PERCENT"===e.units&&100===e.value)return W.createElement(ex.Tx,{id:"dev_handoff.annotations.auto"});let r="RAW"===e.units?{value:100*e.value,units:"PERCENT"}:e;return W.createElement(sJ.Ej,{variableContainerClassName:HH,valueProps:{format:"fig_number",value:r,variable:null==a?void 0:a.name}})}function Vd({fontNameOrMixed:e,variableAlias:t,isPreview:n}){let a=(0,gm.c1)(null==t?void 0:t.id);return"mixed"===e?W.createElement(ex.Tx,{id:"fullscreen.mixed"}):a&&n?W.createElement(W.Fragment,null,a.name):W.createElement(sJ.Ej,{variableContainerClassName:HH,valueProps:{value:e.family,variable:null==a?void 0:a.name}})}function Vm({fontWeightOrMixed:e,variableAlias:t,isPreview:n}){let a=(0,gm.c1)(null==t?void 0:t.id);return"mixed"===e?W.createElement(ex.Tx,{id:"fullscreen.mixed"}):(a&&a.resolvedType!==eM.y6c.FLOAT&&(a=null),a&&n)?W.createElement(W.Fragment,null,a.name):W.createElement(sJ.Ej,{variableContainerClassName:HH,valueProps:{value:e,variable:null==a?void 0:a.name}})}var Vu=n(72604),Vp=n(149760),V_=n(202885),VE=n(719732),Vg=n(668560),Vh=n(856212),Vf=n(601416),Vv=n(101180);function Vy({node:e}){var t;let{symbolId:n}=e;if(!n)return W.createElement(W.Fragment,null);let a=sL.TSSceneGraph.instance.get(n);if(!a)return W.createElement(W.Fragment,null);if(a.isState){let e=null==(t=a.parentNode)?void 0:t.name;return W.createElement(W.Fragment,null,`${e} (${a.name})`)}return W.createElement(W.Fragment,null,a.name)}let VC=new Map([[eM.wpU.HEIGHT,{label:W.createElement(ex.Tx,{id:"fullscreen.properties_panel.transform_panel.height"}),category:"dimension",Icon:()=>W.createElement(HY,{svg:VE.c}),PreviewValue:({node:e})=>W.createElement(Vk,{value:e.size.y,variableAlias:e.boundVariables.height,isPreview:!0}),DisplayValue:({node:e})=>W.createElement(Vk,{value:e.size.y,variableAlias:e.boundVariables.height}),index:0}],[eM.wpU.MIN_HEIGHT,{label:W.createElement(ex.Tx,{id:"fullscreen.properties_panel.stack_panel.minmax.min_height_tt"}),category:"dimension",Icon:()=>W.createElement(HY,{svg:VE.c}),PreviewValue:({node:e})=>W.createElement(Vk,{value:e.minHeight,variableAlias:e.boundVariables.minHeight,isPreview:!0}),DisplayValue:({node:e})=>W.createElement(Vk,{value:e.minHeight,variableAlias:e.boundVariables.minHeight}),index:0}],[eM.wpU.MAX_HEIGHT,{label:W.createElement(ex.Tx,{id:"fullscreen.properties_panel.stack_panel.minmax.max_height_tt"}),category:"dimension",Icon:()=>W.createElement(HY,{svg:VE.c}),PreviewValue:({node:e})=>W.createElement(Vk,{value:e.maxHeight,variableAlias:e.boundVariables.maxHeight,isPreview:!0}),DisplayValue:({node:e})=>W.createElement(Vk,{value:e.maxHeight,variableAlias:e.boundVariables.maxHeight}),index:0}],[eM.wpU.WIDTH,{label:W.createElement(ex.Tx,{id:"fullscreen.properties_panel.transform_panel.width"}),category:"dimension",Icon:()=>W.createElement(HY,{svg:Vh.c}),PreviewValue:({node:e})=>W.createElement(Vk,{value:e.size.x,variableAlias:e.boundVariables.width,isPreview:!0}),DisplayValue:({node:e})=>W.createElement(Vk,{value:e.size.x,variableAlias:e.boundVariables.width}),index:0}],[eM.wpU.MIN_WIDTH,{label:W.createElement(ex.Tx,{id:"fullscreen.properties_panel.stack_panel.minmax.min_width_tt"}),category:"dimension",Icon:()=>W.createElement(HY,{svg:Vh.c}),PreviewValue:({node:e})=>W.createElement(Vk,{value:e.minWidth,variableAlias:e.boundVariables.minWidth,isPreview:!0}),DisplayValue:({node:e})=>W.createElement(Vk,{value:e.minWidth,variableAlias:e.boundVariables.minWidth}),index:0}],[eM.wpU.MAX_WIDTH,{label:W.createElement(ex.Tx,{id:"fullscreen.properties_panel.stack_panel.minmax.max_width_tt"}),category:"dimension",Icon:()=>W.createElement(HY,{svg:Vh.c}),PreviewValue:({node:e})=>W.createElement(Vk,{value:e.maxWidth,variableAlias:e.boundVariables.maxWidth,isPreview:!0}),DisplayValue:({node:e})=>W.createElement(Vk,{value:e.maxWidth,variableAlias:e.boundVariables.maxWidth}),index:0}],[eM.wpU.CORNER_RADIUS,{label:W.createElement(ex.Tx,{id:"fullscreen.properties_panel.transform_panel.corner_radius"}),category:"dimension",Icon:()=>W.createElement(HY,{svg:Vu.c}),PreviewValue:({node:e})=>W.createElement(VT,{node:e,isPreview:!0}),DisplayValue:({node:e})=>W.createElement(VT,{node:e}),index:0}],[eM.wpU.STACK_MODE,{label:W.createElement(ex.Tx,{id:"dev_handoff.annotations.autolayout_mode"}),category:"stack",Icon:({node:e})=>W.createElement(H$,{node:e}),PreviewValue:({node:e})=>W.createElement(H0,{node:e}),DisplayValue:({node:e})=>W.createElement(H0,{node:e}),index:0}],[eM.wpU.STACK_ALIGNMENT,{label:W.createElement(ex.Tx,{id:"dev_handoff.annotations.alignment"}),category:"stack",Icon:({node:e})=>W.createElement(HY,{svg:(0,eU.G)(e)}),PreviewValue:({node:e})=>W.createElement(H1,{node:e}),DisplayValue:({node:e})=>W.createElement(H1,{node:e}),index:0}],[eM.wpU.STACK_SPACING,{label:W.createElement(ex.Tx,{id:"inspect_panel.properties.gap"}),category:"stack",Icon:({node:e})=>W.createElement(HY,{svg:"HORIZONTAL"===e.stackMode?Vp.c:V_.c}),PreviewValue:({node:e})=>W.createElement(HZ,{node:e,isPreview:!0}),DisplayValue:({node:e})=>W.createElement(HZ,{node:e}),index:0}],[eM.wpU.STACK_PADDING,{label:W.createElement(ex.Tx,{id:"inspect_panel.properties.padding"}),category:"stack",Icon:()=>W.createElement(HY,{svg:Vg.c}),PreviewValue:({node:e})=>W.createElement(HJ,{node:e,isPreview:!0}),DisplayValue:({node:e})=>W.createElement(HJ,{node:e}),index:0}],[eM.wpU.TEXT_STYLE,{label:W.createElement(ex.Tx,{id:"dev_handoff.annotations.text_style"}),category:"text",Icon:Vo,PreviewValue:({node:e})=>W.createElement(VS,{styleRef:e.inheritedTextStyle}),DisplayValue:({node:e})=>W.createElement(H9,{styleRef:e.inheritedTextStyle,styleType:"TEXT",hideIcon:!0}),index:0}],[eM.wpU.FONT_FAMILY,{label:W.createElement(ex.Tx,{id:"inspect_panel.typography.font"}),category:"text",Icon:Vo,PreviewValue:({node:e})=>{var t;return W.createElement(Vd,{fontNameOrMixed:e.fontNameOrMixed,variableAlias:(0,$.Ub)().variables_typography_dev_mode?null==(t=e.boundVariables.fontFamily)?void 0:t[0]:void 0,isPreview:!0})},DisplayValue:({node:e})=>{var t;return W.createElement(Vd,{fontNameOrMixed:e.fontNameOrMixed,variableAlias:(0,$.Ub)().variables_typography_dev_mode?null==(t=e.boundVariables.fontFamily)?void 0:t[0]:void 0})},index:0}],[eM.wpU.FONT_STYLE,{label:W.createElement(ex.Tx,{id:"inspect_panel.code.font_style"}),category:"text",Icon:Vo,PreviewValue:({node:e})=>W.createElement(W.Fragment,null,e.fontName.style),DisplayValue:({node:e})=>W.createElement(W.Fragment,null,e.fontName.style),index:0}],[eM.wpU.FONT_SIZE,{label:W.createElement(ex.Tx,{id:"dev_handoff.annotations.font_size"}),category:"text",Icon:Vo,PreviewValue:({node:e})=>{var t;return W.createElement(Vk,{value:e.fontSizeOrMixed,variableAlias:(0,$.Ub)().variables_typography_dev_mode?null==(t=e.boundVariables.fontSize)?void 0:t[0]:void 0,isPreview:!0})},DisplayValue:({node:e})=>{var t;return W.createElement(Vk,{value:e.fontSizeOrMixed,variableAlias:(0,$.Ub)().variables_typography_dev_mode?null==(t=e.boundVariables.fontSize)?void 0:t[0]:void 0})},index:0}],[eM.wpU.LINE_HEIGHT,{label:W.createElement(ex.Tx,{id:"fullscreen.type_panel.line_height"}),category:"text",Icon:Vo,PreviewValue:({node:e})=>{var t;return W.createElement(Vc,{lineHeightOrMixed:e.lineHeightOrMixed,variableAlias:(0,$.Ub)().variables_typography_dev_mode?null==(t=e.boundVariables.lineHeight)?void 0:t[0]:void 0,isPreview:!0})},DisplayValue:({node:e})=>{var t;return W.createElement(Vc,{lineHeightOrMixed:e.lineHeightOrMixed,variableAlias:(0,$.Ub)().variables_typography_dev_mode?null==(t=e.boundVariables.lineHeight)?void 0:t[0]:void 0})},index:0}],[eM.wpU.LETTER_SPACING,{label:W.createElement(ex.Tx,{id:"fullscreen.type_panel.letter_spacing"}),category:"text",Icon:Vo,PreviewValue:({node:e})=>{var t;return W.createElement(VN,{value:e.letterSpacingOrMixed,variableAlias:(0,$.Ub)().variables_typography_dev_mode?null==(t=e.boundVariables.letterSpacing)?void 0:t[0]:void 0,isPreview:!0})},DisplayValue:({node:e})=>{var t;return W.createElement(VN,{value:e.letterSpacingOrMixed,variableAlias:(0,$.Ub)().variables_typography_dev_mode?null==(t=e.boundVariables.letterSpacing)?void 0:t[0]:void 0})},index:0}],[eM.wpU.TEXT_ALIGN_HORIZONTAL,{label:W.createElement(ex.Tx,{id:"dev_handoff.annotations.text_align"}),category:"text",Icon:Vo,PreviewValue:({node:e})=>W.createElement(Vs,{textAlignHorizontal:e.textAlignHorizontal}),DisplayValue:({node:e})=>W.createElement(Vs,{textAlignHorizontal:e.textAlignHorizontal}),index:0}],[eM.wpU.FONT_WEIGHT,{label:W.createElement(ex.Tx,{id:"inspect_panel.typography.weight"}),category:"text",Icon:Vo,PreviewValue:({node:e})=>{var t;return W.createElement(Vm,{fontWeightOrMixed:e.fontWeightOrMixed,variableAlias:(0,$.Ub)().variables_typography_dev_mode?null==(t=e.boundVariables.fontStyle)?void 0:t[0]:void 0,isPreview:!0})},DisplayValue:({node:e})=>{var t;return W.createElement(Vm,{fontWeightOrMixed:e.fontWeightOrMixed,variableAlias:(0,$.Ub)().variables_typography_dev_mode?null==(t=e.boundVariables.fontStyle)?void 0:t[0]:void 0})},index:0}],[eM.wpU.FILL,{label:W.createElement(ex.Tx,{id:"fullscreen.properties_panel.fill.fill"}),category:"paint",Icon:({node:e})=>W.createElement(H6,{paints:e.fillPaints.data}),PreviewValue:({node:e})=>W.createElement(H4,{paints:e.fillPaints.data,variables:e.boundVariables.fills,styleRef:e.inheritedFillStyle}),DisplayValue:({node:e})=>W.createElement(H7,{paints:e.fillPaints,styleRef:e.inheritedFillStyle,variables:e.boundVariables.fills}),index:0}],[eM.wpU.STROKE,{label:W.createElement(ex.Tx,{id:"fullscreen.properties_panel.fill.stroke"}),category:"paint",Icon:({node:e})=>W.createElement(H6,{paints:e.strokePaints.data}),PreviewValue:({node:e})=>W.createElement(H4,{paints:e.strokePaints.data,variables:e.boundVariables.strokes,styleRef:e.inheritedFillStyle}),DisplayValue:({node:e})=>W.createElement(H7,{paints:e.strokePaints,styleRef:e.inheritedFillStyleForStroke,variables:e.boundVariables.strokes}),index:0}],[eM.wpU.STROKE_WIDTH,{label:W.createElement(ex.Tx,{id:"fullscreen.properties_panel.borders.stroke_width"}),category:"paint",Icon:()=>W.createElement(HY,{svg:Vf.c}),PreviewValue:({node:e})=>W.createElement(Vx,{node:e,isPreview:!0}),DisplayValue:({node:e})=>W.createElement(Vx,{node:e}),index:0}],[eM.wpU.EFFECT,{label:W.createElement(ex.Tx,{id:"inspect_panel.code.effect"}),category:"paint",Icon:function(){return W.createElement(HY,{svg:Ve.c})},PreviewValue:({node:e})=>W.createElement(Vt,{effects:e.effects.filter(e=>e.visible)}),DisplayValue:({node:e})=>W.createElement(Vn,{effects:e.effects.filter(e=>e.visible),styleRef:e.inheritedEffectStyle}),index:0}],[eM.wpU.OPACITY,{label:W.createElement(ex.Tx,{id:"fullscreen.scrubbable.opacity"}),category:"paint",Icon:()=>W.createElement(HY,{svg:Vv.c}),PreviewValue:({node:e})=>W.createElement(Vb,{node:e,isPreview:!0}),DisplayValue:({node:e})=>W.createElement(Vb,{node:e}),index:0}],[eM.wpU.COMPONENT,{label:W.createElement(ex.Tx,{id:"dev_handoff.annotations.component"}),category:"component",Icon:()=>W.createElement(HY,{svg:ej.c}),PreviewValue:Vy,DisplayValue:Vy,index:0}]]),Vw=0;function Vb({node:e,isPreview:t=!1}){var n;let a=null==(n=e.boundVariables)?void 0:n.opacity,r=(0,gm.c1)((null==a?void 0:a.id)??void 0);return r&&t?W.createElement(W.Fragment,null,r.name):W.createElement(HV,{variableContainerClassName:HH,valueProps:{format:"percent",value:e.opacity,variable:null==r?void 0:r.name}})}function VT({node:e,isPreview:t=!1}){var n,a,r,l,i,o,s,c;let{rectangleTopLeftCornerRadius:d,rectangleTopRightCornerRadius:m,rectangleBottomRightCornerRadius:u,rectangleBottomLeftCornerRadius:p}=e,_=(0,gm.c1)(null==(a=null==(n=e.boundVariables)?void 0:n.topLeftRadius)?void 0:a.id),E=(0,gm.c1)(null==(l=null==(r=e.boundVariables)?void 0:r.topRightRadius)?void 0:l.id),g=(0,gm.c1)(null==(o=null==(i=e.boundVariables)?void 0:i.bottomRightRadius)?void 0:o.id),h=(0,gm.c1)(null==(c=null==(s=e.boundVariables)?void 0:s.bottomLeftRadius)?void 0:c.id);return W.createElement(HQ,{rawValues:[d,m,u,p],variables:[_,E,g,h],isPreview:t})}function Vx({node:e,isPreview:t=!1}){var n,a,r,l,i,o,s,c;let{borderTopWeight:d,borderRightWeight:m,borderBottomWeight:u,borderLeftWeight:p}=e,_=(0,gm.c1)(null==(a=null==(n=e.boundVariables)?void 0:n.strokeTopWeight)?void 0:a.id),E=(0,gm.c1)(null==(l=null==(r=e.boundVariables)?void 0:r.strokeRightWeight)?void 0:l.id),g=(0,gm.c1)(null==(o=null==(i=e.boundVariables)?void 0:i.strokeBottomWeight)?void 0:o.id),h=(0,gm.c1)(null==(c=null==(s=e.boundVariables)?void 0:s.strokeLeftWeight)?void 0:c.id);return W.createElement(HQ,{rawValues:[d,m,u,p],variables:[_,E,g,h],isPreview:t})}function Vk({value:e,variableAlias:t,isPreview:n}){let a=(0,gm.c1)(null==t?void 0:t.id);return null===e?null:"mixed"===e?W.createElement(ex.Tx,{id:"fullscreen.mixed"}):a&&n?W.createElement(W.Fragment,null,a.name):W.createElement(HV,{variableContainerClassName:HH,valueProps:{value:(0,sJ.Ar)(e,"px"),variable:null==a?void 0:a.name}})}function VN({value:e,variableAlias:t,isPreview:n}){let a=(0,gm.c1)(null==t?void 0:t.id);return"mixed"===e?W.createElement(ex.Tx,{id:"fullscreen.mixed"}):a&&n?W.createElement(W.Fragment,null,a.name):W.createElement(HV,{variableContainerClassName:HH,valueProps:{format:"fig_number",value:e,variable:null==a?void 0:a.name}})}function VS({styleRef:e}){let t=(0,hW.C4)(e),n=(0,eA.cN)(t);return n?W.createElement(W.Fragment,null,n.name):null}function VI(){let e=(0,rH.eg)(),t=(0,ei.my)(HS.P);return W.useCallback(n=>{EG.Pc.user("clear-annotations",()=>{n.setAnnotation(null);let a=(0,eF.QD)(sL.TSSceneGraph.instance,n.guid);e("delete_annotation",{nodeId:n.guid,nodeType:n.type,tlfId:null==a?void 0:a.guid}),t(!1),(0,f9.W)().lockMouseMoves.set(!1),tA.CA.triggerAction("commit")})},[t,e])}VC.forEach(e=>{e.index=Vw++});var VA=n(617344);let VO=(0,nF.qe)("220px");var VM=((B=VM||{})[B.ALIGNED=0]="ALIGNED",B[B.ABOVE=1]="ABOVE",B[B.BELOW=2]="BELOW",B);function VP(e,t,n){let{x:a,y:r,w:l,h:i}=e.absoluteBoundingBox,{x:o,w:s}=t.absoluteBoundingBox,{offsetX:c,offsetY:d,zoomScale:m}=n,u=a-o,p=o+s-(a+l),_=u<p,E=Math.min(Math.max(20*m,5),20);return _?{lineWidth:u*m+E,offsetX:(o-c)*m-E,offsetY:(r+i/2-d)*m,isLeftAligned:_}:{lineWidth:p*m+E,offsetX:(o+s-c)*m+E,offsetY:(r+i/2-d)*m,isLeftAligned:_}}function VL(e,t,n){let a=[];for(let t of e){let e=(n||t.height)+8;for(a.push({basis:t.offsetY-e/2,length:1,height:e});a.length>1&&function(e,t){let n=e.basis+e.height-t.basis;return!(n<=0)&&(e.height+=t.height,e.length+=t.length,e.basis-=n*t.height/e.height,!0)}(a[a.length-2],a[a.length-1]);)a.pop()}let r=0;for(let l of a){let{basis:a}=l;for(let i=0;i<l.length;i++){let l=e[r],i=(n||l.height)+8;t[l.node.guid]=a+i/2,a+=i,r++}}}function VD(e,t,n){let a=[],r=[],l={};for(let e of t)e.isLeftAligned?a.push(e):r.push(e);return VL(a,l,n?6:void 0),VL(r,l,n?6:void 0),t.map(t=>{let{y:n,h:a,w:r}=t.node.absoluteBoundingBox,i=l[t.node.guid],o=(n-e.offsetY)*e.zoomScale,s=t.lineWidth,c=0,d=0,m=t.lineWidth;return i<o?(c=1,d=o-i,m+=r/2*e.zoomScale):i>(n+a-e.offsetY)*e.zoomScale&&(c=2,d=i-(n+a-e.offsetY)*e.zoomScale,m+=r/2*e.zoomScale),{...t,offsetY:i,lineAlignment:c,lineHeight:d,lineWidth:m,originalLineWidth:s}})}function VR({node:e,setDimensions:t,offsetX:n,offsetY:a,lineWidth:r,originalLineWidth:l,lineHeight:i,lineAlignment:o,isLeftAligned:s,viewportInfo:c,shouldMinimize:d,canOverlapNode:m=!1,children:u}){let p=(0,rH.eg)(),_=(0,W.useRef)(null),E=(0,sK.m)(d?void 0:_),g=(0,Y.w1)(e=>e.mirror.appModel.hoveredNode),[h,f]=(0,W.useState)(!1),v=(0,e7.U9)(),y=l_("quick_handoff"),C=(0,sC.au)(),w="ui3"===(0,X.qG)().version,b=e.guid===g||h,T=(0,eA.wB)(),x=(0,eo.m4)(HS.P),k=x&&T===e.guid,N=d&&!k,S=C===tq.w3X.ANNOTATE&&!b&&null!==T&&T!==e.guid,I=k||c.zoomScale>=.05&&(e.guid===T||e.annotations.length>0),A=(0,yc.Qr)(),O=W.useCallback(e=>{(0,f9.W)().lockMouseMoves.set(e)},[]);(0,W.useLayoutEffect)(()=>{E&&t(e.guid,E)},[e.guid,E,t]);let M={top:`${c.y+c.height/2}px`,left:`${c.x+c.width/2}px`,transform:`translate(${n}px, calc(${a}px - 50%))`};return W.createElement("div",{ref:_,className:q()("annotation--annotationWrapper--pKMw2",{"annotation--wrapperMinimized--UOExu":N&&!b,[HM]:k}),style:M,"data-testid":"annotationWrapper"},I&&W.createElement(W.Fragment,null,W.createElement("div",{className:q()("annotation--annotationLine--jr4Mc",{"annotation--annotationLineLeftAligned--W-1DZ":s,"annotation--annotationLineAboveNode--WwqWD":o===VM.ABOVE,"annotation--annotationLineBelowNode--JeafT":o===VM.BELOW}),style:{width:r,height:i}},W.createElement("div",{className:q()("annotation--annotationLineStartDot--x6RNc",{"annotation--annotationLineStartDotHovered--Chqa7":!v&&b})}),W.createElement("div",{className:"annotation--annotationLineEndDot--Lsq0a"})),W.createElement("div",{onClick:v?void 0:y,onMouseOut:()=>{O(!1),f(!1)},onMouseOver:()=>{x||(O(!0),eL.cX(e.guid),N&&!h&&p("hover_minimized_annotation",{nodeId:e.guid,nodeType:e.type}),f(!0))},className:q()({"annotation--annotationLeftAligned--FHQRp":s,"annotation--annotationRightAligned--VrH8e":!s,"annotation--annotationHovered--QUHJv":!k&&b}),style:{transform:function(e,t,n,a,r,l,i,o){let s=eM.KEP.isFullscreenYScrollbarNeeded()&&!o;if(n){let n=`calc(${-a}px - ${e.width/2}px + ${i.left}px + 4px)`,o=l?`calc(${r+t*e.zoomScale}px - 100% - 8px)`:`calc(${r}px - 100% - 8px)`;return`translate(min(${o}, max(-100%, ${n})), 0)`}{let n=l?`calc(-${r+t*e.zoomScale}px + 8px)`:`calc(-${r}px + 8px)`,o=`calc(${e.width/2}px - ${a}px - 100% - ${i.right}px - ${s?16:4}px)`;return`translate(max(${n}, min(0px, ${o})), 0)`}}(c,e.absoluteBoundingBox.w,s,n,l,m,A,w)}},W.createElement("div",{className:q()("annotation--annotationHoverTarget--4y3Xc",{"annotation--annotationHoverTargetLeftAligned--G1twU":s})}),v&&(!N||b)&&u(S))))}var VF=n(291476),VB=n(971268);function VU({viewportInfo:e,nodeInfo:t,setDimensions:n}){let a=function(){let e=(0,rH.eg)(),{Sprig:t}=(0,sb.c)();return W.useCallback((n,a,r)=>{EG.Pc.user(r?"edit-annotation":"create-annotation",()=>{n.setAnnotation(a);let l=(0,eF.QD)(sL.TSSceneGraph.instance,n.guid),i={nodeType:n.type,nodeId:n.guid,tlfId:(null==l?void 0:l.guid)??n.guid,hasText:!!a.label,numProperties:a.properties.length};r?e("edit_annotation",i):(e("create_annotation",i),t("track","create_annotation")),tA.CA.triggerAction("commit")})},[t,e])}(),r=VI(),l=(0,ei.my)(HS.P),{node:i}=t,o=i.annotations[0],[s,c]=W.useState((null==o?void 0:o.label)??""),[d,m]=W.useState((null==o?void 0:o.properties)??[]),u=W.useCallback(()=>{let e=o&&(""!==o.label||o.properties.length>0),t=0===(0,HI.u)(s).length;t&&0===d.length?o&&r(i):a(i,{label:t?"":s,properties:d},e),l(!1),(0,f9.W)().lockMouseMoves.set(!1)},[o,s,d,r,i,a,l]);return W.createElement(W.Fragment,null,W.createElement(VW,{viewportInfo:e,onPointerDown:u}),W.createElement(VR,{key:t.node.guid,node:t.node,viewportInfo:e,shouldMinimize:!1,offsetX:t.offsetX,offsetY:t.offsetY,lineWidth:t.lineWidth,originalLineWidth:t.originalLineWidth,lineHeight:t.lineHeight,lineAlignment:t.lineAlignment,isLeftAligned:t.isLeftAligned,setDimensions:n,canOverlapNode:!0},()=>W.createElement(VK,{node:t.node,saveAnnotation:u,inputText:s,setInputText:c,inputProperties:d,setInputProperties:m})))}function VK({node:e,saveAnnotation:t,inputText:n,setInputText:a,inputProperties:r,setInputProperties:l}){let i=(0,rH.eg)(),o=VI(),[s,c]=W.useState(-1),[d,m]=W.useState(!1),[u,p]=W.useState(!1),_=W.useRef(null),E=W.useRef(null),g=W.useRef(null),{availableProperties:h,selectedProperties:f}=W.useMemo(()=>{let t=[],n=[];for(let a of VG)r.some(e=>e.type===a.type)?n.push(a):(0,VA.q)(e,a.type,!0)&&t.push(a);return{availableProperties:t,selectedProperties:n}},[e,r]);W.useEffect(()=>{i("show_annotation_dialog",{nodeId:e.guid,nodeType:e.type})},[i,e.guid,e.type]);let v=W.useCallback(()=>{var e;null==(e=_.current)||e.focus()},[]),y=W.useCallback(e=>{c(-1),m(!1),l([...r,{type:e}])},[l,r]);function C(e){l(r.filter(t=>t.type!==e)),v()}let w=W.useCallback(()=>{(0,f9.W)().lockMouseMoves.set(!1)},[]),b=W.useCallback((e,t)=>{if(c(e),p(t),t&&E.current){for(let t of E.current.children)if(t.getAttribute("data-property-type")===`property-${h[e]}`){t.focus();break}}},[c,p,h]),T=W.useCallback(()=>{var e;d?(m(!1),c(-1),null==(e=g.current)||e.focus()):t()},[d,t]),x=W.useCallback(()=>{d&&(-1===s?b(h.length-1,!0):s>0&&b(s-1,!0))},[h.length,s,b,d]),k=W.useCallback((e,t)=>{if(d){-1===s?b(0,!0):s<h.length-1&&b(s+1,!0);return}e&&!t&&(m(!0),b(0,!0))},[h.length,d,s,b]),N=(0,lI.ag)("createAnnotation","keydown",(0,W.useCallback)(e=>{var t;"Escape"===e.key?T():"ArrowUp"===e.key?(x(),e.stopPropagation()):"ArrowDown"===e.key?(k(e.ctrlKey||e.metaKey,e.shiftKey),e.stopPropagation()):("Enter"===e.key||" "===e.key)&&s>=0&&s<h.length&&(y(h[s].type),e.preventDefault(),null==(t=g.current)||t.focus())},[h,k,x,T,s,y]));W.useEffect(()=>(document.addEventListener("keydown",N),()=>{document.removeEventListener("keydown",N)}),[N]);let S=lI.AJ("annotationLabelInput","submit",a),I=lI.AJ("annotationLabelInput","enter",t),A=e=>{m(!d),e?b(0,!0):c(-1)},O=0===n.length&&0===f.length;return W.createElement(sm.Sg,{name:"create-annotation",focusOnMount:!0,handleKeyDown:e=>{let{event:n}=e;"Escape"===n.key&&(e.accept(),t())}},W.createElement("div",{onPointerDown:HA.Ii},W.createElement("div",{className:q()(HP,eR.cp)},W.createElement("div",{className:q()(HL,{"annotation--contentContainerNoProperties--pc2WE":0===f.length})},W.createElement("div",{dir:"auto"},W.createElement(iz.w,{fallback:null,errorFallback:null,mountBehavior:"focus",placeholder:(0,ex.t)("dev_handoff.annotations.add_annotation"),defaultValue:n,onInputChange:S,onBlur:aC.Kw,hideToolbar:!0,onEnterKeyPressed:I})),f.length>0&&W.createElement("div",{className:HD},f.map(t=>W.createElement(VV,{key:`selected-${t.type}`,onRemoveProp:C,node:e,property:t})))),W.createElement("div",{className:"annotation--authoringRow--cIo3-"},W.createElement(rA.iH,{className:q()("annotation--addPropertyButton--67vPO",{"annotation--active--Q00x6":d}),forwardedRef:g,onMouseDown:e=>A((0,ry.EJ)(e)),onKeyDown:e=>{d||"Enter"!==e.code&&"Space"!==e.code||(A(!0),e.preventDefault(),e.stopPropagation())},tabIndex:0,"data-tooltip-type":n1.wL.TEXT,"data-tooltip":(0,ex.t)("dev_handoff.annotations.pin_properties_tooltip"),recordingKey:"createAnnotationPinPropertyButton"},W.createElement(eN.A,{className:"annotation--plusIcon--Ove-l",svg:l4.c,width:"16",height:"16"}),W.createElement(ex.Tx,{id:"dev_handoff.annotations.pin_properties_label"})),W.createElement(av.wP,{key:"trash",svg:VF.c,className:q()("annotation--iconButton--w7kfn",HB),onMouseDown:()=>{o(e),w()},tabIndex:0,disabled:O,"data-tooltip-type":n1.wL.TEXT,"data-tooltip":(0,ex.t)("dev_handoff.annotations.delete"),recordingKey:"createAnnotationTrashIcon"}))),d&&W.createElement("div",{onMouseLeave:()=>b(-1,!1),ref:E,onBlur:e=>{var t;(null==(t=e.relatedTarget)?void 0:t.getAttribute("data-property-type"))||m(!1)},className:q()(HP,"annotation--dropdown--WLrjl")},0===h.length&&W.createElement("div",{className:"annotation--allPropertiesAdded--KzT8m"},W.createElement(ex.Tx,{id:"dev_handoff.annotations.all_properties_added"})),h.map((t,n)=>W.createElement(W.Fragment,{key:`option-${t.type}`},n>0&&t.config.category!==h[n-1].config.category&&W.createElement("div",{className:"annotation--propertyDivider--Q3tgS"}),W.createElement(VH,{node:e,property:t,isHovered:s===n,autoFocus:s===n&&u,onMouseOver:()=>b(n,!1),onMouseDown:e=>{y(t.type),e.preventDefault()}}))))))}let VG=Array.from(VC.entries()).map(([e,t])=>({type:e,config:t}));function VH({node:e,property:t,isHovered:n,autoFocus:a,onMouseDown:r,onMouseOver:l}){let i=t.config.PreviewValue,o=t.config.Icon;return W.createElement(rA.iH,{className:q()("annotation--propertyOption--GJWeu text--fontPos12--YsUAh text--_fontBase--QdLsd",{"annotation--hoveredProperty--ZOJgv":n}),onMouseDown:r,onMouseOver:l,role:"menuitem",autoFocus:a,"data-property-type":`property-${t.type}`,tabIndex:-1,recordingKey:`createAnnotationOptionButton-${t.type}`},W.createElement("div",{className:"annotation--propertyOptionIconLabel--vFND-"},W.createElement("div",{className:"annotation--propertyOptionIcon---NJse"},W.createElement(o,{node:e})),t.config.label),W.createElement("div",{className:q()("annotation--preview--SrnLk","annotation--propertyValue--yhAB- annotation--_ellipsis--8F1VE")},W.createElement(i,{node:e})))}function VV({node:e,onRemoveProp:t,property:n}){let a=n.config.DisplayValue,r=(0,VA.q)(e,n.type,!1);return W.createElement(W.Fragment,null,W.createElement("span",{className:"annotation--selectedPropertyDisplayLabel--AtFEJ"},n.config.label),W.createElement("div",{className:"annotation--selectedPropertyValueWrapper--OyM0X"},W.createElement("span",{className:q()("annotation--selectedPropertyValue--wwu2U",{[HR]:!r})},r?W.createElement(a,{node:e}):W.createElement(ex.Tx,{id:"dev_handoff.annotations.no_value"})),W.createElement("span",{className:"annotation--selectedPropertyDelete--DMdrA"},W.createElement(av.wP,{svg:VB.c,className:"annotation--selectedPropertyDeleteButton--rko2T",recordingKey:`removeAnnotation${n.type}`,"data-tooltip-type":n1.wL.TEXT,"data-tooltip":(0,ex.t)("dev_handoff.annotations.remove_property"),onClick:EG.wH.user("remove-annotation",()=>{t(n.type)}),onKeyDown:EG.wH.user("remove-annotation",e=>{t(n.type),e.preventDefault()})}))))}function VW({viewportInfo:e,onPointerDown:t}){return W.createElement(rA.g9,{className:`${HM} ${eR.cp} ${eR.cn}`,recordingKey:"annotationDialogBackground",style:{position:"absolute",left:e.x,top:e.y,width:e.width,height:e.height},onPointerDown:t})}var VY=n(111920);function Vj({viewportInfo:e,nodeInfo:t,setDimensions:n}){return W.createElement(VR,{key:t.node.guid,node:t.node,viewportInfo:e,shouldMinimize:t.shouldMinimize,offsetX:t.offsetX,offsetY:t.offsetY,lineWidth:t.lineWidth,originalLineWidth:t.originalLineWidth,lineHeight:t.lineHeight,lineAlignment:t.lineAlignment,isLeftAligned:t.isLeftAligned,setDimensions:n},e=>W.createElement(VX,{node:t.node,isFadedOut:e}))}function VX({node:e,isFadedOut:t}){let n=(0,rH.eg)(),a=(0,eA.wB)(),r=(0,sC.au)(),l=a===e.guid,i=(0,ei.my)(HS.P),o=VI(),s=(0,W.useMemo)(()=>eM.aWh.isReadOnly(eM.M7G.ANNOTATIONS),[]),c=(0,eD.s5)(eM.KEP.devHandoffState().selectedMeasurementId),d=e=>{e&&(eL.mo(),(0,m7.c)("annotations"),eL.aN([e]))},m=W.useCallback(t=>{var n,a;!s&&l&&c===sN.Q9&&((null==(n=document.activeElement)?void 0:n.classList.contains("focus-target"))||(0,VY.I)(document.activeElement)||(null==(a=document.activeElement)?void 0:a.classList.contains(HO)))&&("Backspace"===t.key||"Delete"===t.key)&&o(e)},[s,l,c,o,e]);if(W.useEffect(()=>(document.addEventListener("keydown",m),()=>document.removeEventListener("keydown",m)),[m]),0===e.annotations.length)return null;let u=e.annotations[0],{label:p,properties:_}=u,E=[..._].sort((e,t)=>VC.get(e.type).index-VC.get(t.type).index);return W.createElement(rA.g9,{className:q()("annotation--viewAnnotation--cA-c1 annotation--_annotationBase--MPByC",HL,{"annotation--viewAnnotationSelected--UApdn":l,"annotation--canSelect--zG4JI":!l,"annotation--viewAnnotationFadedOut--7LQPE":t}),role:"button",tabIndex:0,onMouseDown:()=>{l||(d(e.guid),n("click_annotation_content",{nodeId:e.guid,nodeType:e.type,hasText:!!u.label,numProperties:u.properties.length,currentTool:r}))},"data-testid":"annotationDisplay",recordingKey:`viewAnnotationContainer-${e.name}`,onDoubleClick:()=>{s||(l||d(e.guid),i(!0))}},p&&W.createElement(iz.C,{value:p,fallback:null,errorFallback:null,quillClassName:"annotation--label--Tf5gK"}),E&&E.length>0&&W.createElement("div",{className:HD},E.map((t,n)=>W.createElement(Vz,{key:n,node:e,property:t}))))}function Vz({node:e,property:t}){let n=VC.get(t.type),a=n.DisplayValue,r=(0,VA.q)(e,t.type,!1);return W.createElement(W.Fragment,null,W.createElement("span",{className:"annotation--propertyDisplayLabel--PQ2vF"},n.label),W.createElement("span",{className:q()("annotation--propertyDisplayValue--bxdp7",{[HR]:!r}),"data-testid":`annotationPropertyValue-${t.type.toString()}`},r?W.createElement(a,{node:e}):W.createElement(ex.Tx,{id:"dev_handoff.annotations.no_value"})))}var Vq=n(405976),VZ=n(606950),VQ=n(597416),VJ=n(918352),V$=n(97916);function V0(e){let{children:t}=e,n=(0,W.useRef)(null),[a,r]=(0,W.useState)(null);return(0,W.useEffect)(()=>{if(n.current){let e=n.current.attachShadow({mode:"open"}),t=document.createElement("style");t.innerHTML=[Vq.yo,VQ.yo,VZ.yo,V$.yo,"/** @postcss-export-raw */\n\n/**\n * ellipsis.css\n *\n * Add an ellipsis if text is too long.\n *\n * The element that composes this mixin MUST have a defined width or max-width in pixels.\n * - Only works on a single line of text. See below for multi-line ellipses\n */\n\n.ellipsis--ellipsis--Tjyfa {\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n\n/**\n * Add an ellipsis after n lines of text.\n * https://developer.mozilla.org/en-US/docs/Web/CSS/-webkit-line-clamp\n *\n * The element that composes this mixin MUST:\n * - Have a defined width or max-width in pixels.\n * - Have a defined fallback height or max-height set to `line-height * n`,\n *     in case browsers do not support -webkit-line-clamp or box-orient\n *     at least the container size will be correct (with no ellipses)\n *\n * TODO(golf): start using `line-clamp` instead of -webkit-line-clamp once browsers start supporting it\n */\n\n.ellipsis--_ellipsisAfterNLines--LzI7k {\n  display: -webkit-inline-box;\n  overflow: hidden;\n\n  /* https://github.com/postcss/autoprefixer/issues/776#issuecomment-297734206 */\n  /* autoprefixer: off */\n  -webkit-box-orient: vertical;\n  /* autoprefixer: on */\n}\n\n.ellipsis--ellipsisAfter2Lines--Qo-Xh {\n  -webkit-line-clamp: 2;\n}\n\n.ellipsis--ellipsisAfter3Lines--h405C {\n  -webkit-line-clamp: 3;\n}\n\n.ellipsis--ellipsisAfter6Lines--2UA7M {\n  -webkit-line-clamp: 6;\n}\n\n.ellipsis--ellipsisAfter8Lines--WZFi8 {\n  -webkit-line-clamp: 8;\n}\n","/** @postcss-export-raw */\n.annotation--annotationContainer--k4xiM {\n  position: relative;\n  /* Make all z indexes in this file relative to the parent.\n     We want all annotations to render underneath comments */\n  z-index: 0;\n}\n.annotation--_ellipsis--8F1VE {\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n.annotation--annotationWrapper--pKMw2 {\n  position: absolute;\n  pointer-events: none;\n  width: max-content;\n}\n.annotation--annotationWrapper--pKMw2,\n.annotation--wrapperMinimized--UOExu:hover {\n  z-index: 1;\n}\n.annotation--wrapperEditing--C2Zlx {\n  z-index: 2;\n}\n.annotation--wrapperMinimized--UOExu {\n  z-index: 0;\n}\n.annotation--annotationLine--jr4Mc {\n  position: absolute;\n  top: 50%;\n  border-top: 1px dashed var(--color-icon-handoff);\n  /* Push to left of annotation box */\n  transform: translate(-100%, -50%);\n}\n.annotation--annotationLineStartDot--x6RNc {\n  position: absolute;\n  top: -6.5px;\n  left: 100%;\n\n  width: 12px;\n  height: 12px;\n\n  background: color-mix(in srgb, var(--color-icon-handoff) 45%, transparent);\n  border: 1px solid var(--color-icon-success);\n  border-radius: 100%;\n  box-sizing: border-box;\n}\n.annotation--annotationLineStartDot--x6RNc:before {\n  content: '';\n\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n\n  width: 2px;\n  height: 2px;\n\n  background: var(--color-text-onbrand);\n  border-radius: 100%;\n  box-sizing: border-box;\n}\n.annotation--annotationLineStartDotHovered--Chqa7 {\n  background: var(--color-icon-handoff);\n}\n.annotation--annotationLineEndDot--Lsq0a {\n  position: absolute;\n  top: -3.5px;\n  left: -3px;\n\n  width: 6px;\n  height: 6px;\n\n  background: var(--color-icon-handoff);\n  border-radius: 100%;\n  box-sizing: border-box;\n}\n.annotation--annotationLineLeftAligned--W-1DZ {\n  transform: translate(0, -50%);\n}\n.annotation--annotationLineLeftAligned--W-1DZ .annotation--annotationLineStartDot--x6RNc {\n  left: auto;\n  right: 100%;\n}\n.annotation--annotationLineLeftAligned--W-1DZ .annotation--annotationLineEndDot--Lsq0a {\n  left: auto;\n  right: -3px;\n}\n.annotation--annotationLineAboveNode--WwqWD:not(.annotation--annotationLineLeftAligned--W-1DZ) {\n  border-left: 1px dashed var(--color-icon-handoff);\n  transform: translate(-100%, -0.5px);\n}\n.annotation--annotationLineBelowNode--JeafT .annotation--annotationLineStartDot--x6RNc {\n  top: auto;\n  bottom: -6.5px;\n}\n.annotation--annotationLineAboveNode--WwqWD .annotation--annotationLineEndDot--Lsq0a {\n  top: auto;\n  bottom: -3.5px;\n}\n.annotation--annotationLineBelowNode--JeafT:not(.annotation--annotationLineLeftAligned--W-1DZ) {\n  border-left: 1px dashed var(--color-icon-handoff);\n  border-bottom: 1px dashed var(--color-icon-handoff);\n  border-top: 0 none;\n\n  transform: translate(-100%, calc(-100% + 0.5px));\n}\n.annotation--annotationLineLeftAligned--W-1DZ.annotation--annotationLineAboveNode--WwqWD {\n  border-right: 1px dashed var(--color-icon-handoff);\n  transform: translate(0, -0.5px);\n}\n.annotation--annotationLineBelowNode--JeafT.annotation--annotationLineLeftAligned--W-1DZ {\n  border-right: 1px dashed var(--color-icon-handoff);\n  border-bottom: 1px dashed var(--color-icon-handoff);\n  border-top: 0 none;\n\n  transform: translate(0, calc(-100% + 0.5px));\n}\n.annotation--_annotationBase--MPByC {\n  background: var(--color-bg);\n  color: var(--color-text);\n\n  pointer-events: auto;\n\n  border-radius: 6px;\n  box-shadow: var(--elevation-200-canvas);\n  position: relative;\n  display: inline-block;\n  box-sizing: border-box;\n\n  font-family: Inter;\n  font-size: 11px;\n  font-weight: 400;\n}\n.annotation--viewAnnotation--cA-c1 {\n\n  /* This avoids a size shift when adding a border */\n  border: 1px solid transparent;\n}\n/* This is when the node is hovered (not annotation).\n   Clicking an already selected node does nothing so has no hover state. */\n.annotation--annotationHovered--QUHJv .annotation--viewAnnotation--cA-c1:not(.annotation--viewAnnotationSelected--UApdn),\n\n.annotation--viewAnnotation--cA-c1.annotation--canSelect--zG4JI:hover {\n  background: var(--color-bg-hover);\n}\n.annotation--viewAnnotationSelected--UApdn {\n  border: 1px solid var(--color-border-selected-strong);\n}\n.annotation--viewAnnotationFadedOut--7LQPE > * {\n  opacity: 0.5;\n}\n.annotation--createAnnotation--tWKSM .text-editor {\n    border: none;\n  }\n.annotation--createAnnotation--tWKSM .ql-editor.ql-blank::after {\n    margin-top: -1.85em;\n  }\n.annotation--createAnnotation--tWKSM .text-editor:focus-within {\n    margin: 0;\n  }\n.annotation--createAnnotation--tWKSM .ql-editor {\n    font-size: 13px;\n    line-height: 24px;\n    min-height: 38px;\n  }\n.annotation--createAnnotation--tWKSM .ql-editor ul,\n  .annotation--viewAnnotation--cA-c1 .ql-editor ul,\n  .annotation--createAnnotation--tWKSM .ql-editor ol,\n  .annotation--viewAnnotation--cA-c1 .ql-editor ol {\n    padding-left: 1.5em;\n  }\n.annotation--annotationHoverTarget--4y3Xc {\n  width: 24px;\n  height: 24px;\n  position: absolute;\n  pointer-events: auto;\n  top: calc(50% - 12px);\n  /* This is relative to the left edge of the line end dot,\n     but we want to center it around the dot */\n  left: -9px;\n}\n.annotation--annotationHoverTargetLeftAligned--G1twU {\n  /* This is relative to the right edge of the line end dot,\n     but we want to center it around the dot.\n     Shift by parent width (100%) to account for when the\n     annotation is not hidden. */\n  left: calc(100% - 15px);\n}\n.annotation--annotationLeftAligned--FHQRp {\n  transform: translate(-100%, 0);\n  left: 8px;\n}\n.annotation--annotationRightAligned--VrH8e {\n  left: -8px;\n}\n.annotation--label--Tf5gK.quill-readonly .ql-editor {\n    font-size: 11px;\n  }\n.annotation--label--Tf5gK.quill-readonly .ql-editor h1,\n    .annotation--label--Tf5gK.quill-readonly .ql-editor h2 {\n      font-size: 14px;\n    }\n.annotation--label--Tf5gK.quill-readonly .ql-editor pre.ql-syntax {\n      white-space: pre-wrap;\n    }\n.annotation--label--Tf5gK.quill-readonly .ql-editor > * {\n      cursor: default;\n    }\n.annotation--label--Tf5gK .ql-container {\n    background-color: transparent;\n  }\n.annotation--contentContainer--vSuqs {\n  display: flex;\n  flex-direction: column;\n  padding: 6px 10px 8px 10px;\n  max-width: 220px;\n  box-sizing: border-box;\n}\n.annotation--contentContainer--vSuqs.annotation--viewAnnotation--cA-c1 {\n  gap: 4px;\n}\n.annotation--contentContainerNoProperties--pc2WE {\n  padding: 6px 10px 0 10px;\n}\n.annotation--contentContainer--vSuqs.annotation--viewAnnotation--cA-c1 {\n  padding: 8px;\n}\n.annotation--createAnnotation--tWKSM .annotation--contentContainer--vSuqs {\n  /* Fixed width when authoring */\n  width: 220px;\n}\n.annotation--properties--1p6UF {\n  display: grid;\n  grid-template-columns: min-content auto;\n}\n.annotation--createAnnotation--tWKSM .annotation--properties--1p6UF {\n  padding: 0 6px;\n}\n.annotation--propertyDisplayLabel--PQ2vF,\n.annotation--selectedPropertyDisplayLabel--AtFEJ {\n  color: var(--color-text-secondary);\n  white-space: nowrap;\n\n  padding-right: 12px;\n}\n.annotation--selectedPropertyDisplayLabel--AtFEJ {\n  border-top-left-radius: 2px;\n  border-bottom-left-radius: 2px;\n\n  margin-left: -8px;\n  padding-left: 8px;\n}\n.annotation--selectedPropertyValueWrapper--OyM0X {\n  display: flex;\n\n  width: calc(100% + 4px);\n\n  overflow: hidden;\n}\n.annotation--selectedPropertyDisplayLabel--AtFEJ,\n.annotation--selectedPropertyValue--wwu2U {\n  padding-top: 2px;\n  padding-bottom: 2px;\n}\n.annotation--propertyDisplayLabel--PQ2vF,\n.annotation--propertyDisplayValue--bxdp7,\n.annotation--selectedPropertyDisplayLabel--AtFEJ,\n.annotation--selectedPropertyValueWrapper--OyM0X {\n  margin-top: 4px;\n}\n/* Don't add margin top to first \"row\" of grid */\n.annotation--propertyDisplayLabel--PQ2vF:first-child,\n.annotation--propertyDisplayLabel--PQ2vF:first-child + .annotation--propertyDisplayValue--bxdp7,\n.annotation--selectedPropertyDisplayLabel--AtFEJ:first-child,\n.annotation--selectedPropertyDisplayLabel--AtFEJ:first-child + .annotation--selectedPropertyValueWrapper--OyM0X {\n  margin-top: 0;\n}\n.annotation--propertyDisplayValue--bxdp7 {\n  overflow: hidden;\n}\n.annotation--noValue--HHQOU {\n  color: var(--color-text-secondary);\n}\n.annotation--selectedPropertyValue--wwu2U {\n  overflow: hidden;\n\n  flex: 1 1 100%;\n}\n.annotation--selectedPropertyDelete--DMdrA {\n  display: flex;\n  align-items: center;\n\n  padding: 0 4px 0 12px;\n\n  border-top-right-radius: 2px;\n  border-bottom-right-radius: 2px;\n}\n.annotation--selectedPropertyDeleteButton--rko2T {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex: 0 0 16px;\n\n  width: 16px;\n  height: 16px;\n\n  cursor: pointer;\n\n  font-size: 0;\n\n  background: transparent;\n  border: 0 none;\n  border-top-right-radius: 2px;\n  border-bottom-right-radius: 2px;\n  box-sizing: content-box;\n\n  padding: 0;\n}\n.annotation--selectedPropertyDeleteButton--rko2T:hover {\n    background: var(--color-bg-tertiary);\n  }\n.annotation--propertyOption--GJWeu {\n\n  background: transparent;\n  color: var(--color-text);\n  border: none;\n  align-self: stretch;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  height: 32px;\n  padding: 0px 16px;\n  gap: 8px;\n\n  font-family: Inter;\n  font-size: 13px;\n  font-weight: 400;\n}\n.annotation--propertyOption--GJWeu:focus {\n    outline: none;\n  }\n.annotation--propertyDivider--Q3tgS {\n  height: 1px;\n  background: var(--color-border);\n  margin: 8px 0;\n}\n.annotation--propertyOptionIcon---NJse {\n  width: 16px;\n}\n.annotation--propertyOptionIconSvg--LypST {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n.annotation--propertyOptionIconLabel--vFND- {\n  display: flex;\n  align-items: center;\n  white-space: nowrap;\n  gap: 8px;\n}\n.annotation--allPropertiesAdded--KzT8m {\n  padding: 0 12px;\n  height: 32px;\n  font-size: 11px;\n  display: flex;\n  align-items: center;\n}\n.annotation--hoveredProperty--ZOJgv {\n  background: var(--color-bg-hover);\n}\n.annotation--preview--SrnLk {\n  color: var(--color-text-secondary);\n}\n.annotation--propertyValue--yhAB- {\n}\n.annotation--icon--w1enR svg {\n  fill: var(--color-icon);\n}\n.annotation--icon--w1enR[aria-disabled='true'] svg {\n  fill: var(--color-icon-disabled);\n}\n.annotation--fillProperty--hEEJR {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  gap: 12px;\n}\n.annotation--chit--3je6E {\n  width: 12px;\n  height: 12px;\n  border-radius: 2px;\n  display: flex;\n  overflow: hidden;\n  margin: 1px 2px 1px 0;\n  flex-shrink: 0;\n  border: 1px solid var(--color-border);\n}\n.annotation--chit--3je6E svg {\n    width: 12px;\n    height: 12px;\n  }\n.annotation--styleChit--yCQ3O {\n  border: none;\n}\n.annotation--chitInline--vG6cM {\n  margin: 0;\n}\n.annotation--solidPaint--ClR6h {\n  display: flex;\n  align-items: center;\n  gap: 4px;\n}\n.annotation--solidPaintValue--9PQMf {\n}\n.annotation--authoringRow--cIo3- {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  height: 32px;\n  padding: 0 4px 4px 8px;\n}\n.annotation--addPropertyButton--67vPO {\n  display: flex;\n  flex-direction: row;\n  justify-content: flex-start;\n  align-items: center;\n  gap: 8px;\n  background-color: transparent;\n  color: var(--color-text);\n  border: 1px solid var(--color-border);\n  border-radius: 4px;\n  padding: 0 8px;\n  font-family: Inter;\n  font-size: 11px;\n  font-weight: 500;\n  height: 24px;\n}\n.annotation--addPropertyButton--67vPO.annotation--active--Q00x6 {\n    background-color: var(--color-bg-pressed);\n  }\n.annotation--addPropertyButton--67vPO:focus-visible {\n    border-color: var(--color-border-selected);\n  }\n.annotation--plusIcon--Ove-l {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  height: 16px;\n  width: 16px;\n  flex: 0 0 16px;\n  line-height: 16px;\n  fill: var(--color-icon);\n}\n.annotation--iconButton--w7kfn {\n  border-radius: 2px;\n  width: 32px;\n  height: 32px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  background-color: transparent;\n  border: none;\n}\n.annotation--dropdown--WLrjl {\n  display: flex;\n  flex-direction: column;\n  position: absolute;\n  padding: 8px 0;\n  top: calc(100% + 8px);\n  left: 0;\n  width: 220px;\n}\n.annotation--coloredProperty--OTQ6l {\n  display: flex;\n  align-items: center;\n  justify-content: left;\n}\n.annotation--coloredProperty--OTQ6l > span {\n    padding-left: 2px;\n    padding-right: 2px;\n    border-radius: 2px;\n  }\n.annotation--paddingProperty--ckvG6 > span {\n    background: var(--color-bginspectpadding);\n    color: var(--color-textoninspectpadding);\n  }\n.annotation--spacingProperty--RCjSM > span {\n    background: var(--color-bginspectspacing);\n    color: var(--color-textoninspectspacing);\n  }\n.annotation--mixedValues--Z0qIk {\n  display: flex;\n  flex-direction: column;\n  gap: 4px;\n}\n.annotation--variablePill--VNxoI {\n  height: 16px;\n  padding: 0 4px;\n}\n.annotation--multipleVariableWrapper--OW3M1 {\n  display: flex;\n  flex-wrap: wrap;\n  gap: 4px;\n  flex-direction: row;\n  align-items: center;\n}\n.annotation--multipleVariableWrapper--OW3M1.annotation--vertical--zmpVv {\n  flex-direction: column;\n  flex-wrap: nowrap;\n}\n.annotation--multipleVariableValue--5-5xk {\n  overflow: hidden;\n  align-self: stretch;\n}\n",VJ.y].join("\n"),e.append(t),r(e)}},[]),W.createElement("div",{ref:n,"data-testid":"annotation-renderer-shadow-dom-container",className:HO},a&&(0,cv.createPortal)(t,a))}function V1(){let e=(0,Y.OY)(),t=(0,eA.wB)(),n=(0,Y.w1)(e=>e.isFullscreenDocumentLoaded),a=(0,eD.s5)(eM.KEP.uiState().showAnnotations),r=(0,sC.au)(),l=(0,eB.OM)({subscribeToUpdates_expensive:!0}),i=(0,eD.s5)((0,f9.W)().lockMouseMoves);W.useEffect(()=>{i&&l.zoomScale<.05&&(0,f9.W)().lockMouseMoves.set(!1)},[i,l]);let[o,s]=(0,eo.lZ)(HS.P);(0,W.useEffect)(()=>{a||s(!1)},[a,s]),(0,W.useEffect)(()=>{o&&e((0,lk.UF)())},[e,o]);let[c,d]=(0,W.useState)({}),{nodesWithAnnotationInfo:m,annotationsBeingViewed:u,newAnnotationNodeInfo:p}=function(e,t){let n=(0,Y.w1)(e=>e.mirror.appModel.currentPage),a=(0,eD.s5)(eM.KEP.annotationObserver().annotationInfoByTlf),r=(0,sC.ct)(),l=(0,sC.au)(),i=(0,eA.wB)(),o=(0,eo.m4)(HS.P),s=(0,eD.s5)(eM.KEP.devHandoffState().focusMode),c=(0,eD.s5)(eM.KEP.devHandoffState().focusNodeId),d=(0,_d.eM)((e,t)=>e.get(t)?(0,eF.mY)(e,t):[],n),{tlfsWithNodes:m,newAnnotationNode:u}=(0,W.useMemo)(()=>{var e;let t=[];for(let l of a.keys())(null==(e=r.get(l))?void 0:e.containingCanvas)===n&&t.push(l);if(i&&l===eM.w3X.ANNOTATE){let e=(0,eF.QD)(r,i)||r.get(i);(null==e?void 0:e.guid)&&!a.has(e.guid)&&t.push(e.guid)}let m=null;if(lQ.kr.getIsExtension()&&s&&c){let e=(0,eF.QD)(r,c)||r.get(c);(null==e?void 0:e.guid)&&(t=[null==e?void 0:e.guid])}let u=t.map(e=>{let t=r.get(e),{nodes:n,tlfContainsSelectedNode:a,newAnnotationNode:l}=function e(t,n,a=[],r){let l=!1,i=null;if(t){if(t.guid===n&&(l=!0),"SECTION"===t.type)return{nodes:[],tlfContainsSelectedNode:l,newAnnotationNode:i};t.childrenNodes.forEach(t=>{let{nodes:o,tlfContainsSelectedNode:s,newAnnotationNode:c}=e(t,n,a,r);return l=l||s,i=i||c,o}),t.annotations.length>0&&t.visible?a.push(t):r&&t.guid===n&&(i=t)}return{nodes:a,newAnnotationNode:i,tlfContainsSelectedNode:l}}(t,i,[],o);return l&&t&&(m={node:l,tlf:e}),{nodes:n,tlfContainsSelectedNode:a,topLevelFrameNode:t}});return d.forEach(e=>{a.has(e.guid)||u.push({nodes:[],tlfContainsSelectedNode:!1,topLevelFrameNode:e})}),{tlfsWithNodes:u,newAnnotationNode:m}},[n,l,o,s,c,a,r,i,d]),{annotationsBeingViewed:p,nodesWithAnnotationInfo:_}=(0,W.useMemo)(()=>{let n={x:e.offsetX,y:e.offsetY},a=m.map(({nodes:a,tlfContainsSelectedNode:r,topLevelFrameNode:l})=>{if(!l||!l.isAlive())return null;let i={x:l.absoluteBoundingBox.x,y:l.absoluteBoundingBox.y,width:l.absoluteBoundingBox.w,height:l.absoluteBoundingBox.h};if(0===a.length)return V2(i,(0,eB.oH)(e))?{topLevelFrameNode:l,nodes:a,nodesWithFinalPositionData:[],shouldMinimize:!1,originalShouldMinimize:!1,tlfContainsSelectedNode:r,distanceFromCenter:V5({x:e.offsetX,y:e.offsetY},i),dimensionsWithAnnotations:i}:null;let o=.4>Math.max((i.width||0)*e.zoomScale/e.width,(i.height||0)*e.zoomScale/e.height)&&!r,s=0,c=0,d=a.map(n=>{var a;let r=t[n.guid]||{width:0,height:0},i=VP(n,l,e);return i.isLeftAligned?s=Math.max(s,24+r.width/e.zoomScale):c=Math.max(c,24+r.width/e.zoomScale),{...i,height:(null==(a=t[n.guid])?void 0:a.height)||0,node:n,tlfGuid:l.guid,shouldMinimize:o}}).sort((e,t)=>e.offsetY-t.offsetY),m=VD(e,d,o),u=1/0,p=-1/0;m.forEach(t=>{let n=t.height/e.zoomScale,a=t.offsetY/e.zoomScale+e.offsetY-n/2;u=Math.min(u,a),p=Math.max(p,a+n)});let _=Math.min(i.y,u),E=Math.max(i.y+i.height,p),g={x:i.x-s,y:_,width:i.width+s+c,height:E-_};return V2(g,(0,eB.oH)(e))?(r&&(n={x:g.x+g.width/2,y:g.y+g.height/2}),{topLevelFrameNode:l,nodes:a,nodesWithFinalPositionData:m,shouldMinimize:o,originalShouldMinimize:o,tlfContainsSelectedNode:r,distanceFromCenter:V5({x:e.offsetX,y:e.offsetY},g),dimensionsWithAnnotations:g}):null}).filter(aM.aI).sort((e,t)=>V5(n,e.dimensionsWithAnnotations)-V5(n,t.dimensionsWithAnnotations)),r=a.filter(e=>!e.shouldMinimize);for(let e=0;e<r.length-1;e++){let t=r[e];for(let n=e+1;n<r.length;n++){let e=r[n];V2(t.dimensionsWithAnnotations,e.dimensionsWithAnnotations)&&(t.tlfContainsSelectedNode?e.shouldMinimize=!0:e.tlfContainsSelectedNode?t.shouldMinimize=!0:t.distanceFromCenter<e.distanceFromCenter?e.shouldMinimize=!0:t.shouldMinimize=!0)}}let l=[],i=a.flatMap(({nodes:n,nodesWithFinalPositionData:a,shouldMinimize:r,originalShouldMinimize:i,topLevelFrameNode:o})=>{if(n.length>0&&!r&&l.push({tlf:o.guid,numNodes:n.length}),r===i)return a;let s=n.map(n=>{var a;return{...VP(n,o,e),height:(null==(a=t[n.guid])?void 0:a.height)||0,node:n,tlfGuid:o.guid,shouldMinimize:r}}).sort((e,t)=>e.offsetY-t.offsetY);return VD(e,s,r)});return{annotationsBeingViewed:l,nodesWithAnnotationInfo:i}},[t,m,e]);return{nodesWithAnnotationInfo:_,annotationsBeingViewed:p,newAnnotationNodeInfo:(0,W.useMemo)(()=>{var n;if(!u)return null;let a=function(e,t){let{x:n,y:a,w:r,h:l}=e.absoluteBoundingBox,{offsetX:i,offsetY:o,zoomScale:s,width:c}=t,d=eM.KEP.isFullscreenYScrollbarNeeded(),m=Math.min(20*s,20),u=n+r,p=(n-i)*s+c/2>VO+8&&!((i-u)*s+c/2>VO+(d?16:4));return p?{lineWidth:m,offsetX:(n-i)*s-m,offsetY:(a+l/2-o)*s,isLeftAligned:p}:{lineWidth:m,offsetX:(u-i)*s+m,offsetY:(a+l/2-o)*s,isLeftAligned:p}}(u.node,e);return{...a,height:(null==(n=t[u.node.guid])?void 0:n.height)||0,newAnnotationNode:u,tlfGuid:u.tlf,shouldMinimize:!1,node:u.node,lineAlignment:VM.ALIGNED,lineHeight:0,originalLineWidth:a.lineWidth}},[t,u,e])}}(l,c),_=(0,rH.eg)(),E=u.length,g=u.reduce((e,t)=>e+t.numNodes,0);(0,W.useEffect)(()=>{E&&r===eM.w3X.SELECT&&_("showing_annotations_for_tlfs",{topLevelFrameCount:E,nodesWithAnnotationsCount:g})},[E,g,r,_]);let h=(0,lI.ag)("annotationsKeyDown","keydown",(0,W.useCallback)(e=>{r===eM.w3X.ANNOTATE&&!o&&t&&"Enter"===e.key&&(e.ctrlKey||e.metaKey)&&(s(!0),e.stopPropagation())},[r,o,t,s]));if(W.useEffect(()=>(document.addEventListener("keydown",h),()=>document.removeEventListener("keydown",h)),[h]),W.useEffect(()=>{var e;null==(e=Ho.gZ)||e.setIsShowingAnnotations(0!==u.length)},[u]),!n||!a&&r!==eM.w3X.ANNOTATE)return null;function f(e,t){var n,a;((null==(n=c[e])?void 0:n.height)!==t.height||(null==(a=c[e])?void 0:a.width)!==t.width)&&d(n=>({...n,[e]:t}))}let v=null,y=m.map(e=>o&&e.node.guid===t?(v=W.createElement(VU,{nodeInfo:e,viewportInfo:l,setDimensions:f}),null):W.createElement(Vj,{key:e.node.guid,nodeInfo:e,viewportInfo:l,setDimensions:f})),C=o&&p&&W.createElement(VU,{nodeInfo:p,viewportInfo:l,setDimensions:f});return W.createElement(W.Fragment,null,W.createElement(V0,null,y),v,C)}function V2(e,t){let n=e.x,a=e.x+e.width,r=e.y,l=e.y+e.height,i=t.x,o=t.x+t.width,s=t.y,c=t.y+t.height;return n<o&&a>i&&r<c&&l>s}function V5(e,t){let n={x:t.x+t.width/2,y:t.y+t.height/2};return Math.hypot(n.x-e.x,n.y-e.y)}function V3(){return W.createElement(HN.s,null,W.createElement(V1,null))}var V4=n(119328),V6=n(581680),V8=n(348212);let V9=(0,W.memo)(function(){var e;let t=(0,Y.OY)(),n=(0,sC._o)(),a=(0,Sf.Qv)(),r=(0,Sv.K_)(),l=(0,t$.AL)(),i=(0,r2.gJ)(),o=(0,Sf.Mv)(),s=(0,d5.cH)(),c=(0,t1.C2)(),d=(null==c?void 0:c.id)&&a&&a.publishedByUserId===c.id,m=(0,Sf.W0)();if(!i||n||!a||s||null===o)return null;let u=o&&m===Sf.c3.CAN_PUBLISH,p={type:i1.cN.STRUCTURED,onClick:()=>{a&&l&&r({templateIdentifier:{type:Sw.y4.TeamTemplate,file_key:a.fileKey},templateName:a.name})},trackingDescriptor:lr.O.USE_IN_NEW_FILE,buttonText:(0,ex.t)("whiteboard.delightful_toolbar.custom_template_banner.new_file_button")};if(u){if(!d)return W.createElement(i0.i,{onDismiss:aC.Kw,editorType:nd.aE.WHITEBOARD,content:{id:i1.Ok.FileIsTeamTemplate,bannerType:i1.Qp.INFO,icon:V8.c,mainText:(0,ex.t)("templates.banner.republish.primary_text"),description:(0,ex.t)("templates.banner.republish.secondary_text_not_owner"),button:p}});let e={type:i1.cN.STRUCTURED,onClick:()=>{t(ts.A5({type:V4.yG,data:{fileKey:a.fileKey,source:"editor-republish-banner"}}))},trackingDescriptor:lr.O.PUBLISH_CHANGES,buttonText:(0,ex.t)("templates.banner.republish.republish_action")};return W.createElement(i0.i,{onDismiss:aC.Kw,editorType:nd.aE.WHITEBOARD,content:{id:i1.Ok.FileIsTeamTemplate,bannerType:i1.Qp.INFO,icon:V8.c,mainText:(0,ex.t)("templates.banner.republish.primary_text"),description:(0,ex.t)("templates.banner.republish.secondary_text"),button:e}})}let _=(null==(e=a.publishedByUser)?void 0:e.handle)?W.createElement(ex.Tx,{id:"templates.banner.republish.you_re_viewing_a_template_made_by_publisher_name",madeByPublisherName:W.createElement("span",{className:ap.cx.fontNormal.$},d?W.createElement(ex.Tx,{id:"templates.banner.made_by_you"}):W.createElement(ex.Tx,{id:"templates.banner.republish.made_by_publisher_name",publisherName:a.publishedByUser.handle}))}):(0,ex.t)("templates.banner.republish.you_re_viewing_a_template");return W.createElement(i0.i,{onDismiss:aC.Kw,editorType:nd.aE.WHITEBOARD,content:{id:i1.Ok.FileIsTeamTemplate,bannerType:i1.Qp.INFO,icon:V6.c,mainText:_,button:p}})});var V7=n(219476),We=n(321512),Wt=n(739360),Wn=n(836492),Wa=n(647460),Wr=n(191140),Wl=n(131128);let Wi="figjam_search";function Wo(){return(0,eD.s5)(eM.KEP.uiState().showCanvasSearch)?W.createElement(Ws,null):null}function Ws(){let{query:e,next:t,exit:n,setNavigateNearestOnce:a,search:r,isLoading:l,showSearch:i,mode:o}=(0,ry.kv)(),{focusedByButtons:s,hidden:c,setHidden:d,inputRef:m,navDisabled:u,showUi:p}=(0,ry.KA)(),_=(0,id.k1)(),E=(0,Y.w1)(e=>e.mirror.appModel.topLevelMode===eM.s9F.HISTORY);(0,rT.u)(()=>{d(!1)}),(0,ry.IJ)(m,t,s);let[g,h]=(0,W.useState)(""),f=(0,W.useCallback)(e=>{var t,n;e.keyCode===ee.as.ESCAPE?(null==(n=null==(t=e.target)?void 0:t.blur)||n.call(t),d(!0)):"INPUT"!==e.target.tagName&&"TEXTAREA"!==e.target.tagName&&(0,ai.eI)(e,ai.fh.YES,ai.wB.NO)&&e.stopPropagation()},[d]),v=(0,W.useCallback)(e=>{switch(e.keyCode){case ee.as.P:case ee.as.UP_ARROW:(e.keyCode!==ee.as.P||et.cp.mac&&(0,ee.MP)(e,ee.Cs.CONTROL))&&(t(Wn.wN.PREV,"keyboard"),e.stopPropagation(),e.preventDefault());break;case ee.as.N:case ee.as.DOWN_ARROW:(e.keyCode!==ee.as.N||et.cp.mac&&(0,ee.MP)(e,ee.Cs.CONTROL))&&(t(Wn.wN.NEXT,"keyboard"),e.stopPropagation(),e.preventDefault());break;case ee.as.ENTER:if((0,ee.Mr)(e)){eM.mMU.exitSearchMode(eM.OQ8.SELECT_ACTIVE);break}t(e.shiftKey?Wn.wN.PREV:Wn.wN.NEXT,"keyboard"),e.stopPropagation(),e.preventDefault()}},[t]);if(!i)return null;let y=!(null==_?void 0:_.shouldOptimizeForIpadApp);return W.createElement(_4.a,null,W.createElement("div",{role:"none",className:q()(eR.cp,Wa.Im,{[Wa.y3]:!p,[Wa.e3]:E,[Wa.EV]:c}),onTransitionEnd:e=>{e.target.classList.contains(Wa.EV)&&n()},onBlurCapture:e=>{e.relatedTarget&&!e.currentTarget.contains(e.relatedTarget)&&(eM.mMU.setOverlayVisible(!1),a())},onKeyDown:f},W.createElement("div",{className:Wa.us},W.createElement(ry.Yh,{className:Wa.Ud,onChange:e=>r(e),query:e,focusedByButtons:s,innerRef:m,onKeyDown:v,editorType:V7.aE.FIGJAM}),l?W.createElement("div",{className:Wa._Q},W.createElement(l7.M7,{testId:"canvas-search-loading-spinner"})):W.createElement(W.Fragment,null,!!e&&W.createElement(Wc,null),!u&&W.createElement(W.Fragment,null,W.createElement(av.wP,{svg:Wl.c,disabled:u,onClick:e=>{t(Wn.wN.PREV,"button"),!(0,ry.EJ)(e)&&y&&(s.current=!0,m.current.focus())},"data-tooltip-type":n1.wL.TEXT,"data-tooltip":(0,ex.t)("canvas_search.previous"),"data-tooltip-shortcut-key":"canvas-search-prev",recordingKey:"canvas_search.previous"}),W.createElement(av.wP,{svg:Wr.c,disabled:u,onClick:e=>{t(Wn.wN.NEXT,"button"),!(0,ry.EJ)(e)&&y&&(s.current=!0,m.current.focus())},"data-tooltip-type":n1.wL.TEXT,"data-tooltip":(0,ex.t)("canvas_search.next"),"data-tooltip-shortcut-key":"canvas-search-next",recordingKey:"canvas_search.next"}))),W.createElement(Wt.w,{lean:"left",minWidth:160,recordingKey:Wi}),W.createElement(av.wP,{svg:ra.c,onClick:()=>{d(!0)},"data-tooltip-type":n1.wL.TEXT,"data-tooltip":(0,ex.t)("canvas_search.close"),tooltipForScreenReadersOnly:!0,recordingKey:"canvas_search.close"})),o===eM.W_0.REPLACE&&W.createElement(We.m,{query:e,value:g,onChange:h,recordingKey:Wi,onFocus:(t,n)=>{var a;!e&&n&&(null==(a=m.current)||a.focus())},hasMultipleSelections:!1})))}function Wc(){let{total:e}=(0,eo.m4)(fk.MJ),t=(0,eo.m4)(fk.Aj),n=(null==t?void 0:t.index)==null?"?":`${t.index+1}`,a=0===e?(0,ex.t)("canvas_search.no_results"):(0,ex.t)("canvas_search.results_index_count",{index:n,total:e});return W.createElement("span",{className:Wa._P,"data-testid":"canvas-search-info"},a)}var Wd=n(322576),Wm=n(514340),Wu=n(769360),Wp=n(827540);function W_({children:e}){let t=(0,Y.w1)(e=>{var t;return(null==(t=e.universalInsertModal)?void 0:t.pinned)===Cz.a.PINNED_AND_DOCKED_LEFT}),n="ui3"===(0,X.qG)().version,a=(0,Y.w1)(e=>{var t;return null==(t=e.mirror)?void 0:t.appModel.showUi}),r=n&&a,l=(0,eP.wq)(),i=(0,nF.qe)(n5.MP$),o=(0,eP.EP)(),s=(0,ru.O)(),c=(0,eP.O8)(),d=W.useMemo(()=>[Wp.gd.RESOLVED,Wp.gd.YOURS,Wp.gd.CURRENT_PAGE],[]),m=W.useMemo(()=>[Wp.Gk.CREATION_DATE,Wp.Gk.UNREAD],[]),u=W.useMemo(()=>{let e=(0,nF.I)(n5.uOl),n=0,a=0;return t&&(n+=im.UD+e),r&&(n+=l,a+=i),s&&o&&(n+=(0,nF.qe)(n5.gVP)),{xDelta:n,yDelta:a}},[i,s,t,o,r,l]),p=W.useMemo(()=>{let e=(0,nF.qe)(n5.A3q),t=0,n=0;return r&&(t+=e,n+=c),{maxHeightDelta:0,minBottomMarginDelta:t,minRightMarginDelta:n}},[c,r]),_=W.useMemo(()=>{if(r)return{paddingRight:c}},[c,r]),E=W.useMemo(()=>({...Wu.S,sidebarFilters:d,sidebarSorts:m,dockPositionAdjustment:u,draggableModalBoundsAdjustment:p,commentThreadInfoPaddingAdjustment:_}),[d,m,_,u,p]);return W.createElement(Wm.M.Provider,{value:E},e)}let WE={isDevHandoff:!0};function Wg({children:e}){let t="ui3"===(0,X.qG)().version,n=(0,Y.w1)(e=>{var t;return null==(t=e.mirror)?void 0:t.appModel.showUi}),a=t&&n,r=(0,eP.wq)(),l=(0,nF.qe)(n5.MP$),i=(0,eP.s8)(),o=(0,nF.qe)(n5.iCb),s=W.useMemo(()=>[Wp.gd.RESOLVED,Wp.gd.YOURS,Wp.gd.CURRENT_PAGE],[]),c=W.useMemo(()=>[Wp.Gk.CREATION_DATE,Wp.Gk.UNREAD],[]),d=W.useMemo(()=>{let e=0,t=0;return a&&(e+=r,t+=l),{xDelta:e,yDelta:t}},[l,a,r]),m=W.useMemo(()=>{let e=0,t=0;return a&&(e+=o,t+=i),{maxHeightDelta:0,minBottomMarginDelta:e,minRightMarginDelta:t}},[o,i,a]),u=W.useMemo(()=>{if(a)return{paddingRight:i}},[i,a]),p=W.useMemo(()=>({...Wu.S,sidebarFilters:s,sidebarSorts:c,dockPositionAdjustment:d,draggableModalBoundsAdjustment:m,commentThreadInfoPaddingAdjustment:u,linkGenerationParams:WE}),[s,c,d,m,u]);return W.createElement(Wm.M.Provider,{value:p},e)}var Wh=n(378556);let Wf={isFigJam:!0};function Wv({children:e}){let t=(0,Y.w1)(e=>e.mirror.appModel.currentTool)===eM.w3X.COMMENTS,n=(0,Y.w1)(e=>{var t;return(null==(t=e.universalInsertModal)?void 0:t.pinned)===Cz.a.PINNED_AND_DOCKED_LEFT}),a=W.useMemo(()=>[Wp.gd.RESOLVED,Wp.gd.YOURS],[]),r=W.useMemo(()=>[Wp.Gk.CREATION_DATE,Wp.Gk.UNREAD],[]),l=W.useMemo(()=>{let e=(0,nF.I)(n5.uOl),t=0;return n&&(t+=lJ.Sw+e),{xDelta:t,yDelta:0}},[n]),i=W.useMemo(()=>208,[]),o=W.useMemo(()=>{let e=new Map;return e.set(Wh.a.DOCK_STYLE,OI.yq),e.set(Wh.a.ATTACHMENT_MODAL_BACKGROUND_COLOR,(0,KJ.OA)("light")),e},[]),s=W.useMemo(()=>{let e;let n=(0,nF.I)(n5.AP2),a=(0,nF.I)(n5.shA),r=0,l=0;return e=0-n,r+=n,t&&(l+=a),{maxHeightDelta:e,minBottomMarginDelta:r,minRightMarginDelta:l}},[t]),c=W.useCallback(()=>{(0,Tw.u)(()=>{})},[]),d=W.useMemo(()=>({showNotificationSettings:!0,disableCommentsWhenHandToolEnabled:!0,repositionViewportOnCommentSelection:!0,clusterBy:"page",orphanedBy:"deleted_pages",filterBy:"hidden_sections",sidebarFilters:a,sidebarSorts:r,dockPositionAdjustment:l,draggableModalBoundsAdjustment:s,onDockSideEffect:c,sidebarBottomPaddingAdjustment:i,styleOverrideMap:o,linkGenerationParams:Wf}),[l,s,c,i,a,r,o]);return W.createElement(Wm.M.Provider,{value:d},e)}function Wy({children:e}){var t,n,a;let r=(0,rv.sj)(),l=(0,eD.U3)(null==(t=eM.KEP)?void 0:t.singleSlideView().isInSingleSlideView,!1),i=(0,eD.U3)(null==(n=eM.KEP)?void 0:n.singleSlideView().isInSingleSlideView,!1),o=W.useMemo(()=>{let e=0;return(0,Pu.i)()&&l&&(e+=r),{xDelta:e,yDelta:0}},[r,l]),s=W.useMemo(()=>{let e=[Wp.gd.RESOLVED,Wp.gd.YOURS];return(0,Pu.i)()&&i&&e.push(Wp.gd.CURRENT_SLIDE),e},[i]),c=W.useMemo(()=>[Wp.Gk.CREATION_DATE,Wp.Gk.UNREAD],[]),d=(0,Y.w1)(e=>e.mirror.appModel.currentPage),m=W.useContext(yd.O2),u=(0,eD.U3)(null==(a=eM.KEP)?void 0:a.singleSlideView().focusedSlideId,""),p=W.useCallback(e=>{var t;if(!(0,Pu.i)())return!1;let n=e&&d?null==(t=m.getCommentDestinationForCanvasPosition(e,d))?void 0:t.nodeId:void 0;if(!n)return!1;let a=sL.TSSceneGraph.instance.get(n),r=a?a.findContainingSlideOrSelf():sL.kg;return u&&(0,sL.U3)(u)?r!==u:!(0,sL.U3)(r)},[d,u,m]),_=(e,t)=>{let n;if(!(0,Pu.i)())return null;let a=t?sL.TSSceneGraph.instance.get(t):void 0,r=a?a.findContainingSlideOrSelf():sL.kg;return(n=r&&(0,sL.U3)(r)?r:eM.i46.getSlideAtPosition(e.x,e.y))?eM.GqY.getBoundsForNode(n):null},E=W.useMemo(()=>({showNotificationSettings:!0,disableCommentsWhenHandToolEnabled:!0,repositionViewportOnCommentSelection:!0,clusterBy:(0,Pu.i)()&&(0,$.Ub)().comments_corner_cluster?"slide":"page",orphanedBy:(0,Pu.i)()?"non_slide_anchors":"deleted_pages",filterBy:(0,Pu.i)()?"non_slide_anchors":void 0,sidebarFilters:s,sidebarSorts:c,dockPositionAdjustment:o,isCommentingDisabledAtPosition:p,commentDisabledPositionBellMessage:(0,ex.t)("comments.comments_can_only_be_placed_on_slides"),calculateSelectionCommentContainerBounds:_}),[o,p,s,c]);return W.createElement(Wm.M.Provider,{value:E},e)}function WC({children:e}){let t=(0,Y.w1)(e=>e.selectedView.editorType),n=W.useMemo(()=>{if(window.FigmaMobile)return"whiteboard"===t?function({children:e}){return W.createElement(Wm.M.Provider,{value:Wd.SY},e)}:function({children:e}){return W.createElement(Wm.M.Provider,{value:Wd.kx},e)};switch(t){case"design":return W_;case"whiteboard":return Wv;case"slides":return Wy;case"dev_handoff":return Wg;default:return function({children:e}){return W.createElement(Wm.M.Provider,{value:Wu.S},e)}}},[t]);return W.createElement(n,null,e)}var Ww=n(268720);function Wb(e){return W.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},W.createElement("path",{stroke:"var(--color-icon)",strokeLinejoin:"round",d:"M20.147 11.37a.5.5 0 0 0 .036-.942l-15-5.893a.5.5 0 0 0-.648.648l5.893 15a.5.5 0 0 0 .943-.036l2.065-6.711 6.711-2.065Z"}))}function WT(e){return W.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},W.createElement("path",{stroke:"var(--color-icon)",strokeLinejoin:"round",d:"M18.158 11.874a.5.5 0 0 0 .028-.938l-11-4.4a.5.5 0 0 0-.65.65l4.4 11a.5.5 0 0 0 .938-.028l1.571-4.713 4.713-1.57Z"}))}function Wx(e){return W.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},W.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M12.997 8.62H13V10a.5.5 0 0 0 1 0V5.923A1 1 0 0 1 15.997 6v2.62H16V10a.5.5 0 0 0 1 0V8a1 1 0 1 1 2 0v.62h.01v4.743a.954.954 0 0 1-.01.143.97.97 0 0 0-.007.07 6.773 6.773 0 0 1-6.756 6.287c-.162 0-.319-.004-.47-.01-1.535-.07-2.885-.786-4.107-1.92-1.23-1.141-2.28-2.66-3.188-4.219-.289-.495-.486-.88-.555-1.193a.614.614 0 0 1-.016-.263c.007-.029.022-.071.087-.135a.574.574 0 0 1 .517-.173c.224.03.518.165.807.434l.001.002 1 .945A1 1 0 0 0 8 12.604V6a1 1 0 0 1 2 0v4a.5.5 0 0 0 1 0V5a1 1 0 1 1 2 0v.89a2.08 2.08 0 0 0-.003.11v2.62ZM7 8.5V6a2 2 0 0 1 3.112-1.662 2 2 0 0 1 3.775-.002A2 2 0 0 1 16.997 6v.27A2 2 0 0 1 20 8v.5h.01v4.863c0 .096-.007.191-.02.284a7.773 7.773 0 0 1-7.753 7.216c-.177 0-.349-.004-.516-.012-3.682-.167-6.256-3.449-8.113-6.633-.565-.969-1.11-2.043-.316-2.813.793-.769 1.898-.504 2.705.25L6 11.66l1 .945V8.5Z",clipRule:"evenodd"}))}function Wk(e){return W.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},W.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M12 6.5v4a.5.5 0 0 0 1 0v-3a.5.5 0 0 1 1 0v3a.5.5 0 0 0 1 0v-2a.5.5 0 0 1 1 0v4.272l.002.097.002.03-.002.016c-.095 1.35-.514 2.358-1.147 3.021-.619.648-1.536 1.064-2.847 1.064a9.69 9.69 0 0 1-.493-.012c-2-.097-3.577-1.723-4.963-3.836a5.93 5.93 0 0 1-.153-.242c-.217-.374-.345-.632-.388-.823a.478.478 0 0 1-.01-.07.21.21 0 0 1 .08-.053.213.213 0 0 1 .094-.004c.106.014.28.085.469.262.026.024.053.046.08.068l.673.508A1 1 0 0 0 9 12V7.5a.5.5 0 0 1 1 0v3a.5.5 0 0 0 1 0v-4a.5.5 0 0 1 1 0Zm5 2v4.272l.002.072c.002.048.005.095-.002.141C16.786 16.01 15.087 18 12.008 18c-.188 0-.368-.005-.541-.013-2.536-.123-4.36-2.164-5.752-4.287a6.812 6.812 0 0 1-.18-.286c-.423-.727-.831-1.533-.236-2.11.493-.478 1.147-.424 1.701-.068.114.073.224.16.327.256L8 12V7.5a1.5 1.5 0 0 1 2.053-1.395 1.5 1.5 0 0 1 2.894 0 1.5 1.5 0 0 1 2 1A1.5 1.5 0 0 1 17 8.5Z",clipRule:"evenodd"}))}function WN(e){return W.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},W.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M5 6.5A1.5 1.5 0 0 1 6.5 5h11A1.5 1.5 0 0 1 19 6.5v11a1.5 1.5 0 0 1-1.5 1.5h-2a.5.5 0 0 0 0 1h2a2.5 2.5 0 0 0 2.5-2.5v-11A2.5 2.5 0 0 0 17.5 4h-11A2.5 2.5 0 0 0 4 6.5v2a.5.5 0 0 0 1 0v-2ZM11.5 8a.5.5 0 0 1 .5-.5h4a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-1 0V9.207l-6.146 6.147a.5.5 0 0 1-.708-.708L14.793 8.5H12a.5.5 0 0 1-.5-.5ZM4 11.5A1.5 1.5 0 0 1 5.5 10h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 0-.5.5v7a.5.5 0 0 0 .5.5h7a.5.5 0 0 0 .5-.5v-5a.5.5 0 0 1 1 0v5a1.5 1.5 0 0 1-1.5 1.5h-7A1.5 1.5 0 0 1 4 18.5v-7Z",clipRule:"evenodd"}))}var WS=n(738056);function WI(e){return W.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},W.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M17 18a1 1 0 0 1-1 1H8a1 1 0 0 1-1-1V6a1 1 0 0 1 1-1h4v3.5a1.5 1.5 0 0 0 1.5 1.5H17v8Zm-.414-9L13 5.414V8.5a.5.5 0 0 0 .5.5h3.086ZM8 20h8a2 2 0 0 0 2-2V9.414a1 1 0 0 0-.293-.707l-4.414-4.414A1 1 0 0 0 12.586 4H8a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2Z",clipRule:"evenodd"}))}function WA(e){return W.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},W.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M13 5h5a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H6a1 1 0 0 1-1-1v-8h7a1 1 0 0 0 1-1V5Zm-1 0H6a1 1 0 0 0-1 1v3h7V5Zm0-1h6a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h6Z",clipRule:"evenodd"}))}var WO=n(111744);function WM(e){return W.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},W.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M7.5 4a.5.5 0 0 0-.5.5V7H4.5a.5.5 0 0 0 0 1H7v8H4.5a.5.5 0 0 0 0 1H7v2.5a.5.5 0 0 0 1 0V17h8v2.5a.5.5 0 0 0 1 0V17h2.5a.5.5 0 0 0 0-1H17V8h2.5a.5.5 0 0 0 0-1H17V4.5a.5.5 0 0 0-1 0V7H8V4.5a.5.5 0 0 0-.5-.5ZM16 8H8v8h8V8Z",clipRule:"evenodd"}))}function WP(e){return W.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},W.createElement("rect",{width:"1",height:"12",x:"8",y:"6",fill:"var(--color-icon)",rx:".5"}),W.createElement("rect",{width:"12",height:"1",x:"6",y:"8",fill:"var(--color-icon)",rx:".5"}),W.createElement("rect",{width:"12",height:"1",x:"6",y:"15",fill:"var(--color-icon)",rx:".5"}),W.createElement("rect",{width:"1",height:"12",x:"15",y:"6",fill:"var(--color-icon)",rx:".5"}))}function WL(e){return W.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},W.createElement("path",{stroke:"var(--color-icon)",strokeLinecap:"round",strokeLinejoin:"round",d:"M11.5 11.25 3 19.5h5.5a3 3 0 0 0 3-3v0m0-5.25 5.742-5.742a1.78 1.78 0 0 1 2.516 0v0a1.78 1.78 0 0 1 .016 2.5L11.5 16.5m0-5.25v5.25"}))}function WD(e){return W.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},W.createElement("path",{stroke:"var(--color-icon)",strokeLinecap:"round",strokeLinejoin:"round",d:"M11.5 11.344 5.344 17.5h4.125a2.03 2.03 0 0 0 2.03-2.031v0m0-4.125 3.938-3.937a1.458 1.458 0 0 1 2.093.031v0c.54.574.527 1.474-.03 2.03l-6 6m0-4.124v4.125"}))}function WR(e){return W.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},W.createElement("rect",{width:"15",height:"15",x:"4.5",y:"4.5",stroke:"var(--color-icon)",rx:"1.5"}))}function WF(e){return W.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},W.createElement("rect",{width:"11",height:"11",x:"6.5",y:"6.5",stroke:"var(--color-icon)",rx:"1"}))}function WB(e){return W.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},W.createElement("path",{stroke:"var(--color-icon)",strokeLinecap:"round",d:"m4.5 19.5 15-15"}))}function WU(e){return W.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},W.createElement("path",{stroke:"var(--color-icon)",strokeLinecap:"round",d:"m6.375 17.625 11.25-11.25"}))}function WK(e){return W.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},W.createElement("path",{stroke:"var(--color-icon)",strokeLinecap:"round",strokeLinejoin:"round",d:"m4.5 19.5 15-15m0 0H13m6.5 0V11"}))}function WG(e){return W.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},W.createElement("path",{stroke:"var(--color-icon)",strokeLinecap:"round",strokeLinejoin:"round",d:"m6.5 17.5 11-11m0 0h-5m5 0v5"}))}function WH(e){return W.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},W.createElement("circle",{cx:"12",cy:"12",r:"8.5",stroke:"var(--color-icon)"}))}function WV(e){return W.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},W.createElement("circle",{cx:"12",cy:"12",r:"6.5",stroke:"var(--color-icon)"}))}function WW(e){return W.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},W.createElement("path",{stroke:"var(--color-icon)",d:"M11.784 3.875a.25.25 0 0 1 .432 0l8.228 14.25a.25.25 0 0 1-.217.375H3.773a.25.25 0 0 1-.217-.375l8.227-14.25Z"}))}function WY(e){return W.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},W.createElement("path",{stroke:"var(--color-icon)",d:"M11.946 6.093a.062.062 0 0 1 .108 0l6.525 11.294a.057.057 0 0 1 0 .062.066.066 0 0 1-.022.024.058.058 0 0 1-.032.007H5.475a.058.058 0 0 1-.032-.007.065.065 0 0 1-.022-.024.066.066 0 0 1-.01-.031c0-.008.002-.018.01-.031l6.525-11.294Z"}))}function Wj(e){return W.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},W.createElement("path",{stroke:"var(--color-icon)",d:"m14.106 9.1.113.346h5.64a.5.5 0 0 1 .294.905l-4.27 3.102-.293.213.112.346 1.631 5.02a.5.5 0 0 1-.77.558l-4.27-3.102-.293-.213-.294.213-4.27 3.102a.5.5 0 0 1-.769-.559l1.63-5.02.113-.345-.294-.213-4.27-3.102a.5.5 0 0 1 .295-.905H9.78l.113-.345 1.63-5.02a.5.5 0 0 1 .952 0l1.63 5.02Z"}))}function WX(e){return W.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},W.createElement("path",{stroke:"var(--color-icon)",d:"m13.635 9.575.113.343h4.393a.4.4 0 0 1 .233.725l-3.252 2.336-.298.214.115.348 1.248 3.797a.4.4 0 0 1-.614.45l-3.281-2.357-.292-.21-.292.21-3.281 2.357a.4.4 0 0 1-.614-.45l1.248-3.797.115-.348-.298-.214-3.252-2.336a.4.4 0 0 1 .233-.725h4.393l.113-.343 1.255-3.818a.4.4 0 0 1 .76 0l1.255 3.818Z"}))}var Wz=n(845840);function Wq(e){return W.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},W.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M16 7H8a1 1 0 0 0-1 1v5.668l2.521-2.522a.5.5 0 0 1 .708 0l5.85 5.85A1 1 0 0 0 17 16V8a1 1 0 0 0-1-1ZM6 14.875V16a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v6.875ZM8 17h6.668l-4.793-4.793L7 15.082V16a1 1 0 0 0 1 1Zm7-7a1 1 0 1 1-2 0 1 1 0 0 1 2 0Zm1 0a2 2 0 1 1-4 0 2 2 0 0 1 4 0Z",clipRule:"evenodd"}))}function WZ(e){return W.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},W.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"m18.125 15.296.182-.578a5.5 5.5 0 0 0-1.357-5.546c-.287-.286-.966-.697-2.01-1.178-1.003-.463-2.223-.939-3.478-1.388A112.765 112.765 0 0 0 5.348 4.64l5.636 5.637a2.001 2.001 0 1 1-.707.707L4.61 5.316a77.302 77.302 0 0 0 1.767 5.93c.427 1.227.898 2.436 1.389 3.463.502 1.049.984 1.82 1.406 2.241a5.5 5.5 0 0 0 5.546 1.357l.579-.182.428.429 1.225 1.224 2.828-2.828-1.224-1.225-.43-.429Zm1.136-.278 1.224 1.224a1 1 0 0 1 0 1.415l-2.828 2.828a1 1 0 0 1-1.414 0l-1.225-1.224a6.5 6.5 0 0 1-6.553-1.604c-2.186-2.186-4.29-9.994-4.83-12.12a.975.975 0 0 1 .26-.933l.692-.69a.98.98 0 0 1 .97-.254c2.218.644 10.396 3.1 12.1 4.805a6.5 6.5 0 0 1 1.604 6.553Zm-6.554-2.311a1 1 0 1 0-1.414-1.414 1 1 0 0 0 1.414 1.414Z",clipRule:"evenodd"}))}function WQ(e){return W.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},W.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"m16.423 14.301.149-.557a3.998 3.998 0 0 0-1.036-3.866c-.199-.199-.693-.505-1.487-.873a32.28 32.28 0 0 0-2.61-1.044 77.363 77.363 0 0 0-4.09-1.32l4.005 4.006a1.5 1.5 0 1 1-.707.707L6.609 7.316a52.58 52.58 0 0 0 1.18 3.962c.316.91.667 1.815 1.038 2.586.38.792.743 1.361 1.053 1.671a3.998 3.998 0 0 0 3.864 1.036l.558-.149.407.408.827.827 2.122-2.121-.827-.827-.408-.408Zm1.115-.299a4.998 4.998 0 0 0-1.294-4.83c-1.349-1.349-7.575-3.193-8.967-3.593a.489.489 0 0 0-.483.127L5.697 6.803a.487.487 0 0 0-.132.464c.331 1.33 1.878 7.246 3.607 8.975a4.998 4.998 0 0 0 4.83 1.295l.827.827a1 1 0 0 0 1.414 0l2.122-2.121a1 1 0 0 0 0-1.414l-.827-.827Zm-5.184-1.648a.5.5 0 1 0-.707-.707.5.5 0 0 0 .707.707Z",clipRule:"evenodd"}))}function WJ(e){return W.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},W.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M3.008 4.124a1 1 0 0 1 1.116-1.116l4 .5a1 1 0 0 1 .583.285L20.5 15.586a2 2 0 0 1 0 2.828L18.414 20.5a2 2 0 0 1-2.828 0L3.793 8.707a1 1 0 0 1-.285-.583l-.5-4ZM4 4l.128 1.024L4.5 8l9.146 9.146 3.5-3.5L8 4.5l-2.976-.372L4 4Zm13.854 10.354-3.5 3.5 1.939 1.939a1 1 0 0 0 1.414 0l2.086-2.086a1 1 0 0 0 0-1.414l-1.94-1.94Z",clipRule:"evenodd"}))}function W$(e){return W.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},W.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M5.014 6.164a1 1 0 0 1 1.15-1.15l3 .5a1 1 0 0 1 .543.279l8.646 8.646a1.5 1.5 0 0 1 0 2.122l-1.792 1.793a1.5 1.5 0 0 1-2.122 0L5.793 9.707a1 1 0 0 1-.28-.543l-.5-3ZM6 6l.174 1.043L6.5 9l6.396 6.396 2.5-2.5L9 6.5l-1.957-.326L6 6Zm10.104 7.604-2.5 2.5 1.542 1.543a.5.5 0 0 0 .707 0l1.793-1.793a.5.5 0 0 0 0-.707l-1.543-1.543Z",clipRule:"evenodd"}))}var W0=n(811364),W1=n(117080);function W2(e){return W.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},W.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M8.293 15.707a1 1 0 0 1-.274-.903l.5-2.5a1 1 0 0 1 .274-.511l8.146-8.147a1.5 1.5 0 0 1 2.122 0l-.707.708a.5.5 0 0 0-.708 0l-1.042 1.042 2 2 1.042-1.042a.5.5 0 0 0 0-.707l-1.293-1.293.708-.708 1.293 1.294a1.5 1.5 0 0 1 0 2.12l-8.147 8.147a1 1 0 0 1-.511.274l-2.5.5a1 1 0 0 1-.903-.274ZM9.5 12.5l6.397-6.397 2 2L11.5 14.5l-1.438.287L9 15l.212-1.062L9.5 12.5Zm8.5-.05V18a1 1 0 0 1-1 1H6a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h5.55a.5.5 0 0 0 0-1H6a2 2 0 0 0-2 2v11a2 2 0 0 0 2 2h11a2 2 0 0 0 2-2v-5.55a.5.5 0 0 0-1 0Z",clipRule:"evenodd"}))}function W5(e){return W.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},W.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"m20.854 7.854-3 3a.5.5 0 0 1-.708-.708L19.293 8H15.5a2.5 2.5 0 0 0-2.5 2.5v4A3.5 3.5 0 0 1 9.5 18H8c-.017 0-.033 0-.05-.003a2.5 2.5 0 1 1 0-.995A.507.507 0 0 1 8 17h1.5a2.5 2.5 0 0 0 2.5-2.5v-4A3.5 3.5 0 0 1 15.5 7h3.793l-2.147-2.146a.5.5 0 0 1 .708-.708l3 3a.5.5 0 0 1 0 .708ZM7 17.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0Z",clipRule:"evenodd"}))}function W3(e){return W.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},W.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M20 5.5a2.5 2.5 0 1 1-5 0 2.5 2.5 0 0 1 5 0ZM17.5 7a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Zm0 9a.5.5 0 0 1 .5.5V18h1.5a.5.5 0 1 1 0 1H18v1.5a.5.5 0 1 1-1 0V19h-1.5a.5.5 0 0 1 0-1H17v-1.5a.5.5 0 0 1 .5-.5ZM8.808 5.783l-1.006 3.52-3.52 1.005c-1.701.486-1.701 2.898 0 3.384l3.52 1.006 1.006 3.52c.486 1.701 2.898 1.701 3.384 0l1.006-3.52 3.519-1.006c1.702-.486 1.702-2.898 0-3.384l-3.52-1.006-1.005-3.52c-.486-1.701-2.898-1.701-3.384 0Zm.961.275L8.611 10.11l-4.053 1.16c-.735.21-.735 1.252 0 1.462l4.053 1.158 1.158 4.053c.21.735 1.252.735 1.462 0l1.158-4.053 4.053-1.158c.735-.21.735-1.252 0-1.462l-4.053-1.158-1.158-4.053c-.21-.735-1.252-.735-1.462 0Z",clipRule:"evenodd"}))}var W4=n(485876);let W6="toolbelt_button--selectedButton--AAVAi",W8="toolbelt_button--iconButtonInner--1q8L7",W9=(0,W.forwardRef)(function({tooltipText:e,tooltipShortcut:t,onMouseDown:n,isActive:a=!1,disabled:r=!1,simulateHover:l=!1,isToolGroup:i=!1,isToolbeltAction:o=!1,children:s,onboardingKey:c,recordingKey:d="toolbelt-button",elementId:m},u){let p=(0,W.useRef)(null);(0,W.useImperativeHandle)(u,()=>({getBoundingClientRect:()=>p.current.getBoundingClientRect()}));let _=q()("toolbelt_button--topLevelButton--IxD8f",r?"toolbelt_button--disabledButton--0ohMF":{[W8]:!i,"toolbelt_button--toolbeltActionIconButton--ATFbb":o,[W6]:!i&&a,"toolbelt_button--hovered--ugy3A":l}),E=(0,lI.S4)(d,"mousedown",n);return W.createElement("div",{ref:p,className:_,id:m,onMouseDown:E,"data-tooltip-type":n1.wL.TEXT,"data-tooltip":e,"data-tooltip-shortcut":t,"data-tooltip-show-above":!0,role:"presentation","aria-label":e,"data-fullscreen-intercept":!0,"data-onboarding-key":c},s)}),W7=W.memo(function({toolId:e,tooltipText:t,tooltipShortcut:n,badgeCount:a,disabled:r=!1,icon:l,activeToolId:i,onActivateTool:o,onboardingKey:s,recordingKey:c=`tool-${e}`}){let d=(0,W.useCallback)(()=>o(e),[o,e]),m=e===i;return W.createElement(W9,{onMouseDown:d,tooltipText:t,tooltipShortcut:n,onboardingKey:s,disabled:r,isActive:m,recordingKey:c},l,void 0!==a&&a>0&&W.createElement("div",{className:m?"tool--unreadDotActive--ewxgI":"tool--unreadDot--yqZaW"}))});var Ye=n(343104),Yt=((U=Yt||{}).Button="Button",U.Tool="Tool",U.Divider="Divider",U);function Yn(e){switch(e.type){case"Divider":return!0;case"Tool":return!e.hidden;default:(0,cL.gy)(e)}}function Ya(e){switch(e.type){case"Divider":return!1;case"Tool":return!0;default:(0,cL.gy)(e)}}function Yr(e){let{items:t}=e,n=t.filter(Yn);return n.some(e=>Ya(e)&&!e.disabled)?W.createElement(Yi,{...e,items:n}):null}function Yl(e,t){return e.find(e=>Ya(e)&&t===e.toolId)}function Yi(e){let{activeToolId:t,items:n,tooltipText:a,overlayId:r,onActivateTool:l,onboardingKey:i,recordingKey:o=`tool-group-${r}`,dropdownShown:s,onOpen:c,onClose:d}=e,m=null!=t&&Yl(n,t)?t:void 0,u=()=>{if(null!=m)return m;let e=n.find(e=>Ya(e)&&!e.disabled);if(!e)throw Error("Expected to have an enabled tool");return e.toolId},[p,_]=(0,W.useState)(u()),E=Yl(n,p),g=()=>_(u());(0,rT.u)(()=>(lI.In(g),()=>lI._F(g))),(0,W.useEffect)(()=>{null!=m&&_(m)},[m]);let h=!!s&&s.type===r,f=(0,W.useRef)(null),v=(0,lI.S4)(o+".chevron","mousedown",e=>{var t;if(e.stopPropagation(),h)d();else{let e=null==(t=f.current)?void 0:t.getBoundingClientRect();e&&c({overlayId:r,anchorClientRect:e})}}),y=p===t;return W.createElement(W9,{tooltipText:E.text,tooltipShortcut:E.shortcutText,onboardingKey:i,onMouseDown:()=>l(p),isActive:y,simulateHover:h,ref:f,recordingKey:o,isToolGroup:!0},W.createElement("div",{className:q()(W8,{[W6]:y})},E.icon||E.text),W.createElement("div",{className:q()("tool_group--chevronContainer--yrORi",h?"tool_group--flyoutChevronSelected--3Ruzg":""),"data-tooltip-type":n1.wL.TEXT,"data-tooltip":a,"data-tooltip-show-above":!0,onMouseDown:v,onClick:e=>e.stopPropagation(),"data-testid":`${r}-chevron`,"data-onboarding-key":i},W.createElement("div",{className:q()("tool_group--flyoutSvgChevron--U6s3C","tool_group--flyoutChevron--0uKcR")},W.createElement(vY.o,null))),h&&W.createElement(Yo,{...e,selectedToolId:p}))}function Yo(e){let{onActivateTool:t,recordingKey:n,selectedToolId:a,showItemIcons:r,simulatedHoverToolIdAtom:l,dropdownShown:i,items:o}=e;if(!i)return(0,tO.WI)("FlyoutDropdown","Expected flyout info"),null;let s={...i.data.targetRect,top:i.data.targetRect.top-8,height:i.data.targetRect.height+16};return W.createElement(l2.Mx,{targetRect:s,className:"tool_group--pointingDropdown--K3J5U",showPoint:!1,displayAboveTarget:!0,propagateCloseClick:!0},W.createElement("div",{className:"tool_group--flyoutDropdownContainer--v5PVq"},o.map((e,i)=>W.createElement(Yc,{key:function(e,t){switch(e.type){case"Divider":return`divider-${t}`;case"Tool":return`tool-${e.toolId}`;default:(0,cL.gy)(e)}}(e,i),item:e,showItemIcon:r,hideCheck:!1,onActivateTool:t,recordingKey:n,isSelected:Ya(e)&&a===e.toolId,simulatedHoverToolIdAtom:l}))))}let Ys=(0,nT.Zf)(void 0);function Yc({item:e,showItemIcon:t=!0,hideCheck:n,isSelected:a,onActivateTool:r,recordingKey:l,simulatedHoverToolIdAtom:i=Ys}){let o=(0,eo.m4)(i);return"Divider"===e.type?W.createElement(lV.g.Separator,null):W.createElement(Yd,{text:e.text,shortcut:e.shortcutText,disabled:e.disabled,isChecked:a,onPointerUp:()=>r(e.toolId),icon:t?e.smallIcon||e.icon:void 0,hideCheck:n,recordingKey:lI.Mx(l,"flyout",e.recordingKey),onboardingKey:e.onboardingKey,simulateHover:e.toolId===o})}function Yd({text:e,shortcut:t,icon:n,disabled:a,onClick:r,onPointerUp:l,recordingKey:i,onboardingKey:o,simulateHover:s,hideCheck:c,isChecked:d}){return W.createElement(lV.g.Option,{disabled:a,onClick:r,onPointerUp:l,recordingKey:i,simulateHover:s,onboardingKey:o},!c&&W.createElement("div",{className:"tool_group--flyoutOptionCheckMarkContainer--xW1vs tool_group--flyoutOptionIconContainerBase--5xPWU"},d&&W.createElement(Ye.q,null)),n&&W.createElement("div",{className:"tool_group--flyoutOptionIconContainer--zxGU0 tool_group--flyoutOptionIconContainerBase--5xPWU"},n),W.createElement("div",{className:"tool_group--flyoutOptionText--Xyo1C"},e),null!=t&&W.createElement(B7.y,{shortcut:t,className:"tool_group--flyoutOptionShortcut--yOMoL"}))}function Ym({children:e}){return W.createElement("div",{role:"toolbar",className:q()("toolbelt--root--cwDZk",eR.cp)},e)}function Yu({onAction:e,isActive:t=!1,tooltipText:n,tooltipShortcut:a,disabled:r=!1,icon:l,onboardingKey:i,recordingKey:o="toolbelt-action",elementId:s}){return W.createElement(W9,{onMouseDown:e,tooltipText:n,tooltipShortcut:a,onboardingKey:i,recordingKey:o,disabled:r,elementId:s,isToolbeltAction:!0},W.createElement("div",{className:q()("toolbelt_button--iconCircle--MtXrF",{"toolbelt_button--active--GOgiG":t})},l))}var Yp=n(385480),Y_=n(550212);function YE(e){return W.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},W.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M10.354 5.646a.5.5 0 0 1 0 .708L7.707 9H11.5c3.576 0 6.5 2.924 6.5 6.5v2a.5.5 0 0 1-1 0v-2c0-3.024-2.476-5.5-5.5-5.5H7.707l2.647 2.646a.5.5 0 0 1-.708.708l-3.5-3.5a.5.5 0 0 1 0-.708l3.5-3.5a.5.5 0 0 1 .708 0Z",clipRule:"evenodd"}))}var Yg=n(425948);function Yh(){return W.createElement("div",{className:"toolbelt_divider--divider--9OB-d"})}function Yf({children:e}){return W.createElement("div",{className:"toolbelt_label--toolbeltLabel--OWyZ2"},e)}function Yv({children:e}){return W.createElement("div",{role:"toolbar",className:"secondary_toolbelt--root--YkdV7","data-secondary-toolbelt":!0},W.createElement("div",{className:"secondary_toolbelt--secondaryToolbeltContainer--BkpOx"},e))}function Yy({handleAction:e}){var t,n;let a=(0,eD.s5)(null==(n=null==(t=eM.KEP)?void 0:t.devHandoffState())?void 0:n.nodeIds),r=(0,dW.wB)(),l=r?a.indexOf(r):-1,i=_V(),o=(0,Y.w1)(e=>e.mirror.appModel.keyboardShortcuts);return i||-1!==l?W.createElement(Yv,null,i&&W.createElement(W.Fragment,null,W.createElement(W9,{onMouseDown:()=>{e("zoom-to-selection")},tooltipText:(0,ex.t)("dev_handoff.recenter")},W.createElement(YE,null)),W.createElement(Yh,null),W.createElement(Yf,null,W.createElement("span",{className:"secondary_toolbelt--secondaryToolbeltLabel--seOut"},W.createElement(ex.Tx,{id:"dev_handoff.recenter"})),W.createElement("span",{style:{marginLeft:"var(--spacer-1)",color:"var(--color-text-secondary)"}},(0,nf.O0)(o,"zoom-to-selection")))),!i&&-1!==l&&W.createElement(W.Fragment,null,W.createElement(W9,{onMouseDown:()=>{e("dev-handoff-focus-previous")},tooltipText:(0,ex.t)("viewer.footer.previous_frame")},W.createElement(vj.y,null)),W.createElement(Yh,null),W.createElement(Yf,null,W.createElement(ex.Tx,{id:"viewer.footer.frame_progress",currentFrameIndex:l+1,frameCount:a.length})),W.createElement(Yh,null),W.createElement(W9,{onMouseDown:()=>{e("dev-handoff-focus-next")},tooltipText:(0,ex.t)("viewer.footer.next_frame")},W.createElement(Yg.W,null)))):null}function YC(e){return W.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},W.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M17.5 8a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Zm0 1a2.5 2.5 0 1 0-2.45-3H14a8 8 0 0 0-8 8v1.05a2.5 2.5 0 1 0 1 0V14a7 7 0 0 1 7-7h1.05a2.5 2.5 0 0 0 2.45 2Zm-11 10a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Z",clipRule:"evenodd"}))}function Yw(e){return W.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},W.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M13.207 3.293a1 1 0 0 0-1.414 0L9.396 5.689 7.354 3.646a.5.5 0 1 0-.708.708L8.69 6.396 4.207 10.88a3 3 0 0 0 0 4.242l4.672 4.672a3 3 0 0 0 4.242 0l7.586-7.586a1 1 0 0 0 0-1.414l-7.5-7.5Zm-3.81 3.81-4.483 4.483a2 2 0 0 0 0 2.828l4.672 4.672a2 2 0 0 0 2.828 0l6.879-6.879L20 11.5l-.707-.707-6.086-6.086L12.5 4l-.707.707-1.69 1.69 2.75 2.75a1.5 1.5 0 1 1-.707.707l-2.75-2.75ZM19 20a1 1 0 0 0 1-1c0-.27-.15-.694-.47-1.22a8.14 8.14 0 0 0-.53-.758 8.14 8.14 0 0 0-.53.758c-.32.526-.47.95-.47 1.22a1 1 0 0 0 1 1Zm0 1a2 2 0 0 0 2-2c0-1.108-1.09-2.488-1.661-3.134a.448.448 0 0 0-.678 0C18.09 16.512 17 17.892 17 19a2 2 0 0 0 2 2Zm-5-10.5a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0Z",clipRule:"evenodd"}))}function Yb({activeToolId:e,activateTool:t,getShortcutTextForTool:n,closeSecondaryToolbelt:a}){return W.createElement(Yv,null,W.createElement(W7,{toolId:eM.w3X.VECTOR_BEND,icon:W.createElement(YC,null),onActivateTool:t,activeToolId:e,tooltipText:(0,ex.t)("fullscreen_actions.set-tool-bend"),tooltipShortcut:n(eM.w3X.VECTOR_BEND)}),W.createElement(W7,{toolId:eM.w3X.VECTOR_PAINT_BUCKET,icon:W.createElement(Yw,null),onActivateTool:t,activeToolId:e,tooltipText:(0,ex.t)("fullscreen_actions.set-tool-paint-bucket"),tooltipShortcut:n(eM.w3X.VECTOR_PAINT_BUCKET)}),W.createElement(Yh,null),W.createElement(W9,{onMouseDown:a,tooltipText:(0,ex.t)("fullscreen.toolbar.secondary_toolbar.close")},W.createElement(yF.C,null)))}var YT=((K=YT||{}).SelectTools="SelectTools",K.FrameTools="FrameTools",K.PenTools="PenTools",K.ShapeTools="ShapeTools",K.ToolkitMode="ToolkitMode",K.SitesLayoutMode="SitesLayoutMode",K),Yx=((G=Yx||{}).None="None",G.PenTool="PenTool",G.ImageOrVideoTool="ImageOrVideoTool",G.DevModeInspectTool="DevModeInspectTool",G);let Yk=[eM.a_v.PREVIEW,eM.a_v.BRANCHING,eM.a_v.COMPARE_CHANGES,eM.a_v.HISTORY],YN="PROTOTYPE",YS="QUICK_ACTIONS";function YI(e,t){switch(e){case eM.w3X.SCALE:return"set-tool-scale";case eM.w3X.HAND:return"set-tool-hand";case eM.w3X.SELECT:return t?"set-tool-default-dev-handoff":"set-tool-default";case eM.w3X.SLICE:return"set-tool-slice";case eM.w3X.SECTION:return"set-tool-section";case eM.w3X.FRAME:return"set-tool-frame";case eM.w3X.IMAGE_OR_VIDEO:return"place";case eM.w3X.SHAPE_STAR:return"set-tool-star";case eM.w3X.SHAPE_REGULAR_POLYGON:return"set-tool-regular-polygon";case eM.w3X.SHAPE_ELLIPSE:return"set-tool-ellipse";case eM.w3X.SHAPE_ARROW:return"set-tool-arrow";case eM.w3X.SHAPE_LINE:return"set-tool-line";case eM.w3X.SHAPE_RECTANGLE:return"set-tool-rectangle";case eM.w3X.SITES_LAYOUT_SET:return"set-tool-sites-layout-set";case eM.w3X.VECTOR_PENCIL:return"set-tool-pencil";case eM.w3X.VECTOR_PEN:return"set-tool-pen";case eM.w3X.TYPE:return"set-tool-type";case eM.w3X.COMMENTS:return"set-tool-comments";case eM.w3X.ANNOTATE:return"set-tool-annotate";case eM.w3X.MEASURE:return"set-tool-measure";case eM.w3X.VECTOR_BEND:return"set-tool-bend";case eM.w3X.VECTOR_PAINT_BUCKET:return"set-tool-paint-bucket";case eM.w3X.MULTISELECT:return"set-tool-multiselect";case eM.w3X.WAND:return"set-tool-wand";case eM.w3X.NONE:case eM.w3X.DROPPER_COLOR:case eM.w3X.STACK:case eM.w3X.STICKY:case eM.w3X.STAMP:case eM.w3X.SHAPE_WHITEBOARD_SQUARE:case eM.w3X.SHAPE_WHITEBOARD_ELLIPSE:case eM.w3X.SHAPE_WHITEBOARD_DIAMOND:case eM.w3X.SHAPE_WHITEBOARD_TRIANGLE_UP:case eM.w3X.SHAPE_WHITEBOARD_TRIANGLE_DOWN:case eM.w3X.SHAPE_WHITEBOARD_ROUNDED_RECTANGLE:case eM.w3X.SHAPE_WHITEBOARD_PARALLELOGRAM_RIGHT:case eM.w3X.SHAPE_WHITEBOARD_PARALLELOGRAM_LEFT:case eM.w3X.CONNECTOR_ELBOWED:case eM.w3X.CONNECTOR_STRAIGHT:case eM.w3X.CODE_BLOCK:case eM.w3X.SHAPE_WHITEBOARD_ENG_DATABASE:case eM.w3X.SHAPE_WHITEBOARD_ENG_QUEUE:case eM.w3X.SHAPE_WHITEBOARD_ENG_FILE:case eM.w3X.SHAPE_WHITEBOARD_ENG_FOLDER:case eM.w3X.ERASER:case eM.w3X.HIGHLIGHTER:case eM.w3X.WASHI_TAPE:case eM.w3X.TABLE:case eM.w3X.SHAPE_WHITEBOARD_TRAPEZOID:case eM.w3X.SHAPE_WHITEBOARD_STAR:case eM.w3X.SHAPE_WHITEBOARD_SHIELD:case eM.w3X.SHAPE_WHITEBOARD_HEXAGON:case eM.w3X.SHAPE_WHITEBOARD_PENTAGON:case eM.w3X.SHAPE_WHITEBOARD_OCTAGON:case eM.w3X.SHAPE_WHITEBOARD_PLUS:case eM.w3X.SHAPE_WHITEBOARD_PREDEFINED_PROCESS:case eM.w3X.SHAPE_WHITEBOARD_MANUAL_INPUT:case eM.w3X.SHAPE_WHITEBOARD_CHEVRON:case eM.w3X.SHAPE_WHITEBOARD_DOCUMENT_SINGLE:case eM.w3X.SHAPE_WHITEBOARD_DOCUMENT_MULTIPLE:case eM.w3X.SHAPE_WHITEBOARD_ARROW_LEFT:case eM.w3X.SHAPE_WHITEBOARD_ARROW_RIGHT:case eM.w3X.SHAPE_WHITEBOARD_SUMMING_JUNCTION:case eM.w3X.SHAPE_WHITEBOARD_OR:case eM.w3X.SHAPE_WHITEBOARD_SPEECH_BUBBLE:case eM.w3X.SHAPE_WHITEBOARD_INTERNAL_STORAGE:case eM.w3X.SHAPE_WHITEBOARD_MINDMAP_TREE_NUCLEUS:case eM.w3X.SLIDES_POLL:case eM.w3X.SLIDES_EMBED:case eM.w3X.HAND_SELECT:case eM.w3X.LASSO:throw Error("Tool not supported yet");default:(0,cL.gy)(e)}}let YA=(0,nx.If)(e=>e.dropdownShown),YO=(0,nx.If)(e=>e.mirror.appModel.currentTool),YM=(0,nx.If)(e=>e.mirror.appModel.topLevelMode),YP=(0,nx.If)(e=>e.mirror.appModel.activeCanvasEditModeType),YL=(0,nx.If)(lJ.ay),YD={readOnlyOverlayInfoAtom:YA,activeToolIdAtom:(0,nT.Zf)(e=>e(YO),(e,t,n)=>{let a=YI(n,e(YM)===eM.s9F.DEV_HANDOFF);d3.Qb.get(a,"toolbar")()}),readOnlyTopLevelModeAtom:YM,readOnlyEditModeTypeAtom:YP};function YR(){let e=(0,tp.EB)(),t=(0,ao.Wq)(eM.w3X.ANNOTATE);(0,cL.kz)(null!==t,"No icon for tool or action");let n=(0,Y.OY)(),a=W.useCallback(e=>{if(!(null==e?void 0:e.overlayId)){n(lZ.yi());return}let t=e.anchorClientRect;n(lZ.Qn({type:String(e.overlayId),data:{targetRect:{top:t.top,left:t.left+74,width:t.width}}}))},[n]),r=(0,Y.w1)(e=>e.mirror.appModel.keyboardShortcuts),{activeToolId:l,activateTool:i,dropdownShown:o,openOverlay:s,closeOpenOverlay:c,topLevelMode:d,editModeType:m}=function({activeToolIdAtom:e,readOnlyOverlayInfoAtom:t,readOnlyTopLevelModeAtom:n,readOnlyEditModeTypeAtom:a},r){let l=(0,eo.m4)(t),[i,o]=(0,eo.lZ)(e),s=(0,eo.m4)(n),c=(0,eo.m4)(a),d=(null==l?void 0:l.type)!==null,m=(0,W.useCallback)(()=>{r(null)},[r]);return(0,W.useEffect)(()=>{d||m()},[d,m]),{activeToolId:i,dropdownShown:l,openOverlay:e=>{r(e)},closeOpenOverlay:m,activateTool:e=>{o(e),m()},topLevelMode:s,editModeType:c}}(YD,a),u=(0,sC._o)(),p=d===eM.s9F.LAYOUT,_=d===eM.s9F.DEV_HANDOFF,E=(0,rh.wl)(),g=p&&!E,h=d===eM.s9F.HISTORY,f=Yk.includes(m),v=(0,e7.U9)(),[y,C]=(0,W.useState)("None"),w=(0,eo.m4)(YL),b=(0,rm.yO)(),T=(0,Y.w1)(e=>{var t;return(null==(t=e.modalShown)?void 0:t.type)===Yp.w}),x=(0,eD.U3)((0,eL.a6)(),null),k="ui3"===(0,X.qG)().version,N=(0,eh.S2)(eh.YP.ui3PrototypeAsATool),S=k&&N&&p,I=(0,sC.uc)("prototypeCanvasUiVisible"),A=!!S&&((0,as.Wi)()?I:x===eM._AQ.PROTOTYPE),O=W.useRef(null);!function(e){let t=(0,ei.my)(Y_.Uj);W.useEffect(()=>((0,$.Ub)().qa_v2&&t(e),()=>{(0,$.Ub)().qa_v2&&t(null)}),[e,t])}(O);let M=e=>{S?((0,as.Wi)()?e===YN!==A&&d3.Qb.get("toggle-prototyping-info","panel")():e===YN?(0,eL.o7)(eM._AQ.PROTOTYPE):(0,eL.o7)(eM._AQ.DESIGN),i(e===YN?eM.w3X.SELECT:e)):((0,cL.kz)(e!==YN,"activateTool() should not be called with DUMMY_PROTOTYPE_TOOL_ID"),i(e))},P=e=>(0,nf.O0)(r,e),L=e=>P(YI(e,_)),D=e=>{d3.Qb.get(e,"toolbar")()};return((0,W.useEffect)(()=>{l!==eM.w3X.VECTOR_BEND&&l!==eM.w3X.VECTOR_PAINT_BUCKET&&(p&&m===eM.a_v.VECTOR?C("PenTool"):l===eM.w3X.IMAGE_OR_VIDEO?C("ImageOrVideoTool"):_&&l===eM.w3X.SELECT?C("DevModeInspectTool"):C("None"))},[l,p,_,m]),u||b)?W.createElement(W.Fragment,null):W.createElement("div",{className:"design_toolbelt--toolbeltWrapper--tM2Eq",ref:O},W.createElement(Ym,null,p&&W.createElement(Yr,{overlayId:"SelectTools",tooltipText:(0,ex.t)("fullscreen.flyout.move_tools"),items:[{type:Yt.Tool,toolId:eM.w3X.SELECT,text:(0,ex.t)("fullscreen_actions.set-tool-default"),shortcutText:L(eM.w3X.SELECT),icon:W.createElement(Wb,null),smallIcon:W.createElement(WT,null),recordingKey:"move-tool"},{type:Yt.Tool,toolId:eM.w3X.HAND,text:(0,ex.t)("fullscreen_actions.set-tool-hand"),shortcutText:L(eM.w3X.HAND),icon:W.createElement(Wx,null),smallIcon:W.createElement(Wk,null),recordingKey:"hand-tool"},{type:Yt.Tool,toolId:eM.w3X.SCALE,text:(0,ex.t)("fullscreen_actions.set-tool-scale"),shortcutText:L(eM.w3X.SCALE),icon:W.createElement(WN,null),smallIcon:W.createElement(WS.Y,null),recordingKey:"scale-tool"}],dropdownShown:o,onOpen:s,onClose:c,activeToolId:A?void 0:l,onActivateTool:M}),E&&W.createElement(Yr,{overlayId:"SitesLayoutMode",tooltipText:(0,ex.t)("fullscreen.flyout.sites_layout_tools"),items:[{type:Yt.Tool,toolId:eM.w3X.SITES_LAYOUT_SET,text:(0,ex.t)("fullscreen_actions.set-tool-sites-layout-set"),shortcutText:"TBD",icon:W.createElement(WI,null),recordingKey:"sites-layout-set-tool"},{type:Yt.Tool,toolId:eM.w3X.SECTION,text:(0,ex.t)("fullscreen_actions.set-tool-section"),shortcutText:L(eM.w3X.SECTION),icon:W.createElement(WA,null),smallIcon:W.createElement(WO.I,null),recordingKey:"section-tool"}],dropdownShown:o,onOpen:s,onClose:c,activeToolId:l,onActivateTool:M}),_&&W.createElement(W7,{toolId:eM.w3X.SELECT,icon:W.createElement(Wb,null),onActivateTool:M,activeToolId:l,tooltipText:(0,ex.t)("fullscreen_actions.set-tool-default-dev-handoff"),tooltipShortcut:L(eM.w3X.SELECT)}),f&&W.createElement(W.Fragment,null,W.createElement(W7,{toolId:eM.w3X.SELECT,icon:W.createElement(Wb,null),onActivateTool:M,activeToolId:l,tooltipText:(0,ex.t)("fullscreen_actions.set-tool-default"),tooltipShortcut:L(eM.w3X.SELECT)}),W.createElement(W7,{toolId:eM.w3X.HAND,icon:W.createElement(Wx,null),onActivateTool:M,activeToolId:l,tooltipText:(0,ex.t)("fullscreen_actions.set-tool-hand"),tooltipShortcut:L(eM.w3X.HAND)})),p&&W.createElement(Yr,{overlayId:"FrameTools",tooltipText:(0,ex.t)("fullscreen.flyout.region_tools"),items:E?[{type:Yt.Tool,toolId:eM.w3X.FRAME,text:(0,ex.t)("fullscreen_actions.set-tool-frame"),shortcutText:L(eM.w3X.FRAME),icon:W.createElement(WM,null),smallIcon:W.createElement(WP,null),recordingKey:"frame-tool"}]:[{type:Yt.Tool,toolId:eM.w3X.FRAME,text:(0,ex.t)("fullscreen_actions.set-tool-frame"),shortcutText:L(eM.w3X.FRAME),icon:W.createElement(WM,null),smallIcon:W.createElement(WP,null),recordingKey:"frame-tool"},{type:Yt.Tool,toolId:eM.w3X.SECTION,text:(0,ex.t)("fullscreen_actions.set-tool-section"),shortcutText:L(eM.w3X.SECTION),icon:W.createElement(WA,null),smallIcon:W.createElement(WO.I,null),recordingKey:"section-tool"},{type:Yt.Tool,toolId:eM.w3X.SLICE,text:(0,ex.t)("fullscreen_actions.set-tool-slice"),shortcutText:L(eM.w3X.SLICE),icon:W.createElement(WL,null),smallIcon:W.createElement(WD,null),recordingKey:"slice-tool"}],dropdownShown:o,onOpen:s,onClose:c,activeToolId:l,onActivateTool:M}),g&&W.createElement(Yr,{overlayId:"ShapeTools",tooltipText:(0,ex.t)("fullscreen.flyout.shape_tools"),items:[{type:Yt.Tool,toolId:eM.w3X.SHAPE_RECTANGLE,text:(0,ex.t)("fullscreen_actions.set-tool-rectangle"),shortcutText:L(eM.w3X.SHAPE_RECTANGLE),icon:W.createElement(WR,null),smallIcon:W.createElement(WF,null),recordingKey:"rectangle-tool"},{type:Yt.Tool,toolId:eM.w3X.SHAPE_LINE,text:(0,ex.t)("fullscreen_actions.set-tool-line"),shortcutText:L(eM.w3X.SHAPE_LINE),icon:W.createElement(WB,null),smallIcon:W.createElement(WU,null),recordingKey:"line-tool"},{type:Yt.Tool,toolId:eM.w3X.SHAPE_ARROW,text:(0,ex.t)("fullscreen_actions.set-tool-arrow"),shortcutText:L(eM.w3X.SHAPE_ARROW),icon:W.createElement(WK,null),smallIcon:W.createElement(WG,null),recordingKey:"arrow-tool"},{type:Yt.Tool,toolId:eM.w3X.SHAPE_ELLIPSE,text:(0,ex.t)("fullscreen_actions.set-tool-ellipse"),shortcutText:L(eM.w3X.SHAPE_ELLIPSE),icon:W.createElement(WH,null),smallIcon:W.createElement(WV,null),recordingKey:"ellipse-tool"},{type:Yt.Tool,toolId:eM.w3X.SHAPE_REGULAR_POLYGON,text:(0,ex.t)("fullscreen_actions.set-tool-regular-polygon"),icon:W.createElement(WW,null),smallIcon:W.createElement(WY,null),recordingKey:"regular-polygon-tool"},{type:Yt.Tool,toolId:eM.w3X.SHAPE_STAR,text:(0,ex.t)("fullscreen_actions.set-tool-star"),icon:W.createElement(Wj,null),smallIcon:W.createElement(WX,null),recordingKey:"star-tool"},{type:Yt.Tool,toolId:eM.w3X.IMAGE_OR_VIDEO,text:(0,ex.t)("fullscreen_actions.place_image_or_video"),icon:W.createElement(Wz.w,null),smallIcon:W.createElement(Wq,null),shortcutText:L(eM.w3X.IMAGE_OR_VIDEO),recordingKey:"image-tool"}],dropdownShown:o,onOpen:s,onClose:c,activeToolId:l,onActivateTool:M}),g&&W.createElement(Yr,{overlayId:"PenTools",tooltipText:(0,ex.t)("fullscreen.flyout.drawing_tools"),items:[{type:Yt.Tool,toolId:eM.w3X.VECTOR_PEN,text:(0,ex.t)("fullscreen_actions.set-tool-pen"),shortcutText:L(eM.w3X.VECTOR_PEN),icon:W.createElement(WZ,null),smallIcon:W.createElement(WQ,null),recordingKey:"pen-tool"},{type:Yt.Tool,toolId:eM.w3X.VECTOR_PENCIL,text:(0,ex.t)("fullscreen_actions.set-tool-pencil"),shortcutText:L(eM.w3X.VECTOR_PENCIL),icon:W.createElement(WJ,null),smallIcon:W.createElement(W$,null),recordingKey:"pencil-tool"}],dropdownShown:o,onOpen:s,onClose:c,activeToolId:l,onActivateTool:M}),p&&W.createElement(W7,{toolId:eM.w3X.TYPE,icon:W.createElement(W0.c,null),onActivateTool:M,activeToolId:l,tooltipText:(0,ex.t)("fullscreen_actions.set-tool-type"),tooltipShortcut:L(eM.w3X.TYPE)}),_&&v&&W.createElement(W7,{toolId:eM.w3X.MEASURE,icon:W.createElement(W1._,null),onActivateTool:M,activeToolId:l,tooltipText:(0,ex.t)("fullscreen_actions.set-tool-measure"),tooltipShortcut:L(eM.w3X.MEASURE),recordingKey:"toolbarView.toolMeasure"}),_&&v&&W.createElement(W7,{toolId:eM.w3X.ANNOTATE,icon:W.createElement(W2,null),onActivateTool:M,activeToolId:l,tooltipText:(0,ex.t)("fullscreen_actions.set-tool-annotate"),tooltipShortcut:L(eM.w3X.ANNOTATE)}),!h&&W.createElement(W7,{toolId:eM.w3X.COMMENTS,icon:W.createElement(TP,null),badgeCount:e,onActivateTool:M,activeToolId:l,tooltipText:(0,ex.t)("fullscreen_actions.comment"),tooltipShortcut:L(eM.w3X.COMMENTS)}),S&&W.createElement(W7,{toolId:YN,icon:W.createElement(W5,null),onActivateTool:M,activeToolId:l===eM.w3X.SELECT&&A?YN:void 0,tooltipText:(0,ex.t)("fullscreen_actions.prototype")}),(0,$.Ub)().qa_v2&&p&&W.createElement(W7,{toolId:YS,icon:W.createElement(W3,null),onActivateTool:()=>D("toggle-menu"),activeToolId:T?YS:l,tooltipText:(0,ex.t)("fullscreen_actions.toggle-menu"),tooltipShortcut:P("toggle-menu")}),p&&W.createElement(Yu,{icon:W.createElement(W4.c,null),onAction:()=>{p&&d3.Qb.get("component-insert","toolbar")()},tooltipText:"Insert",elementId:"toolbelt-action-component-insert",isActive:w}),m===eM.a_v.SLIDE_LAYOUT&&W.createElement(rf,null)),"PenTool"===y&&m===eM.a_v.VECTOR&&W.createElement(Yb,{activeToolId:l,activateTool:M,getShortcutTextForTool:L,closeSecondaryToolbelt:()=>{C("None"),D("leave-edit-mode")}}),"DevModeInspectTool"===y&&W.createElement(Yy,{handleAction:D}))}function YF(){let e=(0,bf.cH)();return W.createElement("div",{className:"positioned_design_toolbelt--root--INYO4",style:{marginBottom:e}},W.createElement(YR,null))}var YB=n(697463),YU=n(510104),YK=n(372708),YG=n(619092),YH=n(573596),YV=n(913636);let YW=YV.MB;function YY(){let[e,t]=(0,eo.lZ)(YH.mC),n=(0,eo.m4)(YH.kZ),a=(0,eo.m4)(YH.ch),r=(0,eB.OM)({subscribeToUpdates_expensive:!0}),[l,i]=(0,W.useState)(null),o="whiteboard"===(0,tw.CM)(),s=W.useCallback(()=>{if(e){let{emojis:t,index:n}=e;if(t&&n>=0&&n<t.length){let e=(0,YU.mY)(t[n]);e&&EG.Pc.user("insert-emoji",()=>{(0,Z.we)("inserted_editor_emoji",{emoji:e}),eM.IXO.replaceCurrentShortcodeWithEmoji(e)})}}},[e]),c=W.useCallback(()=>{t(null)},[t]);if(!a||!e||null===n)return null;let d=(0,eB.C)(r,a);if(!(0,eB.GY)(d,r))return null;let m={top:d.y+r.y-8,bottom:d.y+r.y+d.height+8,left:d.x+r.x,right:d.x+r.x+d.width,height:d.height,width:d.width},u=l&&m.height>0&&m.bottom>r.height-l&&m.top>r.height-m.bottom?{positionFromBottom:{left:m.left,bottom:r.height+r.y-m.top},direction:YG.MR.UPWARDS}:{targetRect:m,direction:YG.MR.DOWNWARDS};return W.createElement("div",null,W.createElement(YK.m,{dispatchTypeahead:t,typeahead:e,onInsert:s,onClear:c,width:168,...u,setMaxTypeaheadHeight:i,zIndex:YW,isFigJam:o,recordingKey:"emojiTypeaheadView",emojiImageSet:n}))}var Yj=n(733724),YX=n(919264);let Yz=YV.We;function Yq(e){let{dispatch:t,targetRect:n,user:a,typeahead:r,onInsert:l,onClear:i,setTypeahead:o}=e,[s,c]=W.useState(null),d=(0,eB.OM)({subscribeToUpdates_expensive:!0}),m=(0,eB.C)(d,n);if(!(0,eB.GY)(m,d))return null;let u={top:m.y+d.y+m.height+8,right:m.x+d.x,bottom:m.y+d.y+m.height+8,left:m.x+d.x,height:0,width:0},p=s&&u.top+s>d.height?YG.MR.UPWARDS:YG.MR.DOWNWARDS,_={left:u.left,bottom:d.height-m.y+8},E=(0,YG.S4)({...e,targetRect:u,direction:p,positionFromBottom:_});return W.createElement(YX.g,{dispatch:t,setTypeahead:o,typeahead:r,onInsert:l,onClear:i,entity:a,width:300,recordingKey:"canvasMentionsTypeahead",setMaxTypeaheadHeight:c,...E,zIndex:Yz,getAdditionalMetadata:e=>"has_permission"in e&&!e.has_permission?(0,ex.t)("whiteboard.editor_mentions_typeahead.not_in_file"):null})}var YZ=n(291392),YQ=n(215980),YJ=n(736512),Y$=n(765844),Y0=n(389668);async function Y1(e,t,n,a,r,l){let{trackEventForFile:i,searchSessionId:o,mentionedByUserId:s,nodeId:c,store:d}=l;try{let l=(await Y$.w.getCanvasMentionsFileNeedsInvite({fileKey:e,mentionedUserId:a.id})).data.meta.needs_invite;r(tm.s({has_used_canvas_mentions:!0}));let m=(0,Y0.a)(c,d);i("canvas_mention_created",{...m,search_session_id:o,mention_id:t,mentioned_user_id:a.id,mentioned_by_user_id:s,mentioned_user_can_view_file:!l},{forwardToDatadog:!0}),l&&r(ek.A.enqueue({message:(0,ex.t)("whiteboard.visual_bell.canvas_at_mentions_mentioned_user_will_be_invited_to_file",{handle:a.handle}),button:{text:(0,ex.t)("whiteboard.visual_bell.canvas_at_mentions_mentioned_undo_invite"),action:()=>{i("canvas_mention_undo_invite",{...m,search_session_id:o,mention_id:t,mentioned_user_id:a.id,mentioned_by_user_id:s,mentioned_user_can_view_file:!l},{forwardToDatadog:!0}),EG.Pc.user("undo-at-mention",()=>eM.EvL.removeMention(n,t))}}}))}catch(e){(0,tO.oP)(l9._.FIGJAM_MEEX,e)}}function Y2(){let e=(0,Y.OY)(),t=(0,t1.C2)(),[n,a]=(0,eo.lZ)(Yj.kB),r=(0,eo.m4)(Yj.wV),{onInsert:l,onClear:i}=function(e){let t=(0,Y.OY)(),[n,a]=(0,eo.lZ)(Yj.kB),[r,l]=(0,eo.lZ)(Yj.iY),[i,o]=(0,eo.lZ)(Yj.iI),s=(0,YQ.sZ)({checkPermissions:YJ.e.VIEW_OR_PENDING}),c=(0,t$.K0)(),d=(0,rH.qM)(),m=!!(null==n?void 0:n.mentions),u=""===i,p=(0,Y.o3)(),_=(0,Y.w1)(e=>(function(e){let t=Object.keys(e);return 0===t.length?null:t[0]})(e.mirror.sceneGraphSelection));return W.useEffect(()=>{let e=!1;if(null===r){a(null);return}let t=setTimeout(async()=>{let t=await (0,YZ.UN)(r,s,!1),n=!!(null==t?void 0:t.mentions);e||(m&&!n&&(d("canvas_mention_search_no_results",{...(0,Y0.a)(_,p)}),t={mentions:[],index:0,maxMentions:0,type:"mentions",search:r}),n&&u&&o((0,lj.c)()),a(t))},100);return function(){clearTimeout(t),e=!0}},[t,s,r,u,o,a,m,d,_,p]),{onInsert:W.useCallback(()=>{if(n&&n.mentions&&n.mentions[n.index]&&(null==e?void 0:e.id)){let a=n.mentions[n.index],r=EG.Pc.user("insert-at-mention",()=>eM.EvL.replaceCurrentMentionsQueryWithMention({mentionedUserId:a.id,mentionedByUserId:e.id,handle:a.handle}));c&&r.mentionId&&Y1(c,r.mentionId,r.stablePath,a,t,{trackEventForFile:d,searchSessionId:i,mentionedByUserId:e.id,nodeId:_??"",store:p})}},[n,null==e?void 0:e.id,i,c,p,t,d,_]),onClear:W.useCallback(()=>{d("canvas_mention_search_cancelled",{...(0,Y0.a)(_,p)}),l(null)},[l,d,_,p])}}(t);return!r||!n||!t||0===n.mentions.length&&!n.search||(0,p$.sz)(t.id)||t.sharing_restricted?null:W.createElement(Yq,{dispatch:e,targetRect:r,user:t,typeahead:n,onInsert:l,onClear:i,setTypeahead:a})}var Y5=n(185048),Y3=n(264060),Y4=n(378740),Y6=n(733324),Y8=n(964900),Y9=n(574288);function Y7(){let e=(0,ei.my)(Y4.M),t=W.useCallback(()=>{e({type:"MINIMIZE"})},[e]);return W.createElement(Y8.wP,{svg:Y9.c,active:"NONE",tooltip:(0,ex.t)("whiteboard.embeds.inline_menu.minimize"),onClick:t,recordingKey:"embedMinimizeControl"})}var je=n(788112);function jt(e){let t=e.mirror.sceneGraph,n=e.mirror.sceneGraphSelection;if(1!==Object.keys(n).length)return null;let a=t.get(Object.keys(n)[0]);return a&&"WIDGET"===a.type?a:null}function jn(e){return e.mirror.sceneGraph.get(e.mirror.appModel.hoveredNode)}let ja=W.memo(function(){let e=(0,Y.w1)(jn),t=null==e?void 0:e.guid,[n,a]=W.useState(null),r=W.useMemo(()=>t&&"-1:-1"!==t?eM.i46.getEmbedTypeOfTooltipIcon(t):null,[t]);W.useEffect(()=>{var e;if(!r||!t){a(null);return}let n=(0,Nf.S_)("embed-tooltip",[t],e=>{a((null==e?void 0:e.position)||null)});return a(n.currentNodePosition&&(null==(e=n.currentNodePosition[t])?void 0:e.position)||null),()=>{(0,Nf.O4)("embed-tooltip")}},[t,r]);let l=!!r&&!!n,i=(0,eB.OM)({subscribeToUpdates_expensive:l}),o=W.useMemo(()=>{if(!n)return{};let e=(0,eB.C)(i,n),t=e.x+i.x,a=e.y+i.y;return{height:n.height,width:n.width,transformOrigin:"top left",position:"fixed",transform:`translate(${t}px, ${a}px) rotate(${n.angle}deg) scale(${i.zoomScale})`}},[i,n]);return l?W.createElement("div",{"data-tooltip-type":n1.wL.TEXT,"data-tooltip":"video"===r||"autoplayable_video"===r?(0,ex.t)("whiteboard.embeds.tooltip_help_text.video"):"audio"===r||"autoplayable_audio"===r?(0,ex.t)("whiteboard.embeds.tooltip_help_text.audio"):"file"===r||"figma"===r?(0,ex.t)("whiteboard.embeds.tooltip_help_text.file"):(0,ex.t)("whiteboard.embeds.tooltip_help_text.generic"),"data-tooltip-show-above":!0,"data-tooltip-max-width":160,"data-tooltip-timeout-delay":50,"data-tooltip-show-immediately":!0,style:o}):null}),jr=W.memo(function(){let e=(0,eD.s5)(eM.KEP.embedUiState().activeEmbedData),t=(0,Y.w1)(e=>e.mirror.appModel.currentPage?e.mirror.appModel.currentPage:void 0),n=(0,Y.w1)(jt),a=(0,eo.m4)(Y4.M),r=!!e&&(null==n?void 0:n.guid)===e.embedNodeId;return e&&e.embedNodeId&&e.embedThumbnailNodeId&&e.srcUrl&&e.containingCanvasId&&e.containingCanvasId===t?(0,$.Ub)().figjam_embeds_allowlist&&!(0,Y5.S0)(e.srcUrl)?(console.error("Could not play embed; domain not on allow-list:",e.srcUrl),null):W.createElement(jl,{isEmbedMaximized:a,nodeSelected:r,embedThumbnailNodeId:e.embedThumbnailNodeId,srcUrl:e.srcUrl}):null}),jl=W.memo(function(e){let{embedThumbnailNodeId:t,nodeSelected:n,srcUrl:a,isEmbedMaximized:r}=e,l=W.useRef(null),i=W.useRef(null),o=W.useRef(null),s=W.useRef(null),c=(0,eB.OM)({subscribeToUpdates_expensive:!0}),d=function(e,t){let[n,a]=W.useState(!1),[r,l]=W.useState(!1);return W.useEffect(()=>{!e&&r&&l(!1)},[e,r]),W.useEffect(()=>{function e(e){if(t.current){let n=t.current.getBoundingClientRect();e.clientX>n.left&&e.clientX<n.right&&e.clientY>n.top&&e.clientY<n.bottom&&a(!0)}}function r(e){if(t.current&&n){a(!1);let n=t.current.getBoundingClientRect();e.clientX>n.left&&e.clientX<n.right&&e.clientY>n.top&&e.clientY<n.bottom&&l(!0)}}return document.addEventListener("pointerdown",e),document.addEventListener("pointerup",r),()=>{document.removeEventListener("pointerdown",e),document.removeEventListener("pointerup",r)}},[n,t]),r||!n&&e}(n,i);return W.useEffect(()=>{var e;let n=null==(e=(0,Nf.S_)("active-embed",[t],e=>{if(!e.position){eM.i46.setActiveEmbed("");return}s.current=e.position,js(i,c,s,o,r,d)}).currentNodePosition[t])?void 0:e.position;return n?(s.current=n,js(i,c,s,o,r,d)):eM.i46.setActiveEmbed(""),()=>{(0,Nf.O4)("active-embed")}},[t,r,d,c]),W.createElement(W.Fragment,null,W.createElement("div",{className:r?"embed_overlay--maximizedIframePositioner--BvF7x":void 0,ref:i},W.createElement(jo,{ref:l,key:t+a,srcUrl:a,autofocus:d})),r&&W.createElement(ji,{modalTargetRef:o}))});function ji(e){let t=(0,ei.my)(Y4.M),{modalTargetRef:n}=e,a=()=>{t({type:"MINIMIZE"})};return W.createElement(nO.Y1,{className:"embed_overlay--embedModal--NmRO5",hide:a,disableClickOutsideToHide:!1,disableKeyboardEventPropagation:!0},W.createElement("div",{className:"embed_overlay--embedModalMenuBackground--xwJaH",onMouseDown:a},W.createElement("div",{className:"embed_overlay--embedModalMenuContainer--03E8r",onMouseDown:e=>e.stopPropagation()},W.createElement(Y8.iS,{testID:"embedMenu"},W.createElement(je.c,{inModal:!0}),W.createElement(Y7,null),W.createElement(Y8.UL,null),W.createElement(Y6.s,{inModal:!0})))),W.createElement("div",{className:"embed_overlay--embedModalContentContainer--jP-31"},W.createElement("div",{ref:n,className:"embed_overlay--embedModalTarget--hxGi-"})))}let jo=W.forwardRef(function(e,t){let n=(0,Y.OY)(),[a,r]=W.useState(!1),l=W.useRef(null),{srcUrl:i,autofocus:o}=e;return W.createElement("div",{className:"embed_overlay--loadingIFrameContainer--FIfGE"},!a&&W.createElement("div",{className:"embed_overlay--iframeLoadingPlaceholder--uAVFk"}),W.createElement("iframe",{key:i,ref:t||l,"data-embed-iframe":!0,className:`embed_overlay--iframe--FcmB0${a?"":" embed_overlay--iframeHidden--xwbj9"}`,src:i,onLoad:()=>{let e=t&&t.current||l.current;e&&o&&e.focus(),r(!0)},onMouseOver:()=>{var e;null==(e=eM.Abq)||e.sendChatMessage("",""),n(Y3.MX())},frameBorder:"0",allowFullScreen:!1,title:(0,ex.t)("whiteboard.embeds.embed_overlay_iframe_title")}))});function js(e,t,n,a,r,l){if(!e.current||!t||!n.current)return;let i=e.current,o=n.current;if(r){if(!a.current)return;let e=a.current.getBoundingClientRect();i.style.position="fixed",i.style.height=`${e.height}px`,i.style.width=`${e.width}px`,i.style.transform=`translate(${e.x}px, ${e.y}px)`,i.style.pointerEvents="all"}else{let e=(0,eB.C)(t,o);i.style.position="fixed",i.style.height=`${o.height}px`,i.style.width=`${o.width}px`,i.style.transform=`translate(${e.x+t.x}px, ${e.y+t.y}px) rotate(${o.angle}deg) scale(${t.zoomScale})`,i.style.transformOrigin="top left",l?i.style.pointerEvents="all":i.style.pointerEvents="none"}}(0,nF.I)(n5.eWp);var jc=n(477660),jd=n(364848);let jm=W.memo(function(e){let{nodeId:t}=e,n=W.useRef(null),a=W.useRef(null),r=(0,eB.OM)({subscribeToUpdates_expensive:!0});return W.useEffect(()=>{var e;let l=null==(e=(0,Nf.S_)(`loading-embed-${t}`,[t],e=>{if(!e.position){eM.i46.removeLoadingEmbed(t);return}a.current=e.position,jp(n,r,a)}).currentNodePosition[t])?void 0:e.position;return l?(a.current=l,jp(n,r,a)):eM.i46.removeLoadingEmbed(t),()=>{(0,Nf.O4)(`loading-embed-${t}`)}},[t,r]),W.createElement("div",{ref:n},W.createElement(ju,null))});function ju(){return W.createElement("span",{className:"loading_embed_overlay--root--UKqJ8"},W.createElement(eN.A,{svg:jd.c,className:"loading_embed_overlay--spinner--bw3Cv",autosize:!0}))}function jp(e,t,n){if(!e.current||!t||!n.current)return;let a=e.current,r=n.current,l=(0,eB.C)(t,r),i=28*t.zoomScale;a.style.transform=`translate(${l.x+(l.width-i)/2+t.x}px, ${l.y+(l.height*jc.E3/jc.M9-i)/2+t.y}px) rotate(${r.angle}deg) scale(${t.zoomScale})`,a.style.transformOrigin="top left",a.style.position="absolute"}var j_=n(714644),jE=n(905412);let jg="eyedropper_view--label--PsjGr";function jh(){let e=(0,Y.w1)(e=>e.eyedropper),t=(0,Y.w1)(e=>e.library.local.styles),n=(0,Y.w1)(e=>e.library.used__LIVEGRAPH.styles),a=(0,sC.ct)(),r=(0,sC.uc)("showUi"),l=(0,_2.AP)(),i=(0,l1.AR)(),o=(0,tw.yI)(),s=document.createElement("canvas"),c=s.getContext("2d"),d=W.useRef(null),m={};if(W.useLayoutEffect(()=>{d.current&&u(d.current)}),!e)return null;let u=t=>{let n=t.getContext("2d");if(!n)return;let a=devicePixelRatio;if(t.width=170*a,t.height=170*a,n.scale(a,a),n.save(),""===e.styleID){{n.arc(85,85,83,0,2*Math.PI,!1),n.clip();let{width:t,height:a,rgba:r,grid:l}=e;if(c){let e=c.createImageData(t,a);e.data.set(r),s.width=t,s.height=a,c.putImageData(e,0,0),n.imageSmoothingEnabled=!1,n.drawImage(s,0,0,170,170)}if(l){n.beginPath();for(let e=1;e<17;e++){let t=10*e+.5;n.moveTo(t,0),n.lineTo(t,170),n.moveTo(0,t),n.lineTo(170,t)}n.strokeStyle="rgba(51, 51, 51, 0.2)",n.stroke()}}n.restore(),n.strokeStyle="white",n.strokeRect(79.5,79.5,12,12),n.strokeStyle="black",n.strokeRect(80.5,80.5,10,10)}else n.arc(85,85,83,0,2*Math.PI,!1),n.fillStyle="white",n.fill();n.beginPath(),n.arc(85,85,84,0,2*Math.PI,!1),n.strokeStyle="white",n.stroke(),n.beginPath(),n.arc(85,85,83,0,2*Math.PI,!1),n.strokeStyle="black",n.stroke()},p=(0,$.Ub)().ds_style_eye_dropper&&(()=>{let r=e.styleID;if(""===r)return null;if(r in m)return m[r];let l=jE.sV.toGuidStrIfLocal(r);if(l&&l in t){let e=t[l];return m[r]=e,e}let i=a.get(r);if(i&&i.styleKey){let e=(0,iH.u4)(i.styleKey,n,{});return e&&(m[r]=e),e}return null})(),_=r&&!o?i?l:(0,nF.qe)(n5._gu):0;return W.createElement("div",{className:q()({"eyedropper_view--container--Qpjgx":!0,"eyedropper_view--topToolbarShown--Aoby4":r,"eyedropper_view--topToolbarHidden--Auk7e":!r}),style:{width:170,height:170,right:(0,nF.qe)(n5.C2Q)+_}},p&&W.createElement(fP.wv,{dsStyle:p,size:fP.SE.Eyedropper,disableTooltip:!0,disableOutline:!1}),W.createElement("canvas",{ref:d}),(0,$.Ub)().ds_style_eye_dropper?W.createElement("div",{className:jg,style:{left:30,right:30,top:180,lineHeight:"15px",borderRadius:5,padding:"5px"}},p?p.name:e.color):W.createElement("div",{className:jg,style:{left:30,right:30,top:125,lineHeight:"20px",borderRadius:10}},e.color))}var jf=n(82660),jv=n(803644),jy=n(23024);let jC="figjam_export_pickers--selectRow--aTA0S figjam_export_pickers--row--iT7Hm",jw="figjam_export_pickers--label--a71ES",jb="figjam_export_pickers--dropdownPlaceholderText--JNOu2 ellipsis--ellipsis--Tjyfa",jT="figjam_export_pickers--backgroundTypeIcon--s-7IZ",jx="figjam_export_pickers--option--WG1Jy";var jk=n(187992);class jN extends aZ.M1{}class jS extends aZ.cb{}class jI extends aZ.M1{}class jA extends aZ.cb{}class jO extends aZ.M1{}class jM extends aZ.cb{}let jP={PNG:eM.kDc.PNG,JPG:eM.kDc.JPEG,CSV:eM.kDc.CSV,PDF:eM.kDc.PDF},jL=e=>{switch(e){case eM.kDc.PNG:return"PNG";case eM.kDc.JPEG:return"JPG";case eM.kDc.CSV:return"CSV";case eM.kDc.PDF:return"PDF"}},jD=e=>{switch(e){case eM.Og1.SOLID:return(0,ex.t)("whiteboard.figjam_export.solid");case eM.Og1.TRANSPARENT:return(0,ex.t)("whiteboard.figjam_export.transparent");case eM.Og1.GRID:return(0,ex.t)("whiteboard.figjam_export.grid")}},jR=e=>{switch(e){case eM.o3y.TABLE:return(0,ex.t)("whiteboard.figjam_export.table");case eM.o3y.STICKY:return(0,ex.t)("whiteboard.figjam_export.sticky")}},jF={format:e=>jD(e)},jB={format:e=>jR(e)},jU=e=>{switch(e){case"selection":return(0,ex.t)("whiteboard.figjam_export.selection_only");case"file":return(0,ex.t)("whiteboard.figjam_export.entire_file")}},jK={format:e=>jU(e)},jG=e=>{switch(e){case eM.kDc.CSV:return[];case eM.kDc.JPEG:return[eM.Og1.SOLID,eM.Og1.GRID];case eM.kDc.PNG:return[eM.Og1.TRANSPARENT,eM.Og1.SOLID,eM.Og1.GRID];case eM.kDc.PDF:return[eM.Og1.SOLID]}};function jH(e,t){return jG(t).includes(e)}function jV(e){switch(e.background){case eM.Og1.TRANSPARENT:return W.createElement("div",{className:jT,style:{background:`url(${(0,jv.c)()})`,backgroundSize:"5px 5px"}});case eM.Og1.GRID:return W.createElement("div",{className:`figjam_export_pickers--gridIcon--mPS09 thumbnail--lightModeDotGrid--hj-r5 thumbnail--thumbnailContainer--HDTxZ ${jT}`});case eM.Og1.SOLID:return W.createElement("div",{className:`${jT} figjam_export_pickers--solidIcon--Gt-95`})}}let jW=W.memo(function(){let e=(0,Y.OY)(),t=()=>{e(ti._I())};return W.createElement(jy.Cc,{title:(0,ex.t)("whiteboard.figjam_export.export"),headerClassName:"figjam_export_pickers--modalHeader--E6NRM",headerSize:"small",closeOnEsc:!0,onClose:t,minWidth:364,maxWidth:364},W.createElement(jY,{onCancel:t,recordingKey:"exportSettingsPicker",dispatch:e}))});function jY(e){let t=(0,rp.g)(),n=(0,eD.s5)(eM.KEP.editorPreferences().exportSelectionSettings),a=(0,Y.w1)(e=>e.exportSettingsPickerShown.pickerInfo??{selectionArea:0,canvasArea:0,nodeCounts:{selectionNodeCount:0,canvasNodeCount:0,selectionStickyCount:0,canvasStickyCount:0,selectionTableCount:0,canvasTableCount:0}}),[r,l]=W.useState(n.fileType),[i,o]=W.useState(n.contentType),[s,c]=W.useState(n.backgroundType),d=(0,Y.w1)(e=>!!e.mirror.selectionProperties.numSelected),[m,u]=W.useState(d?"selection":"file"),[p,_]=W.useState(!1),E=e=>{l(e),jH(s,e)||c(eM.Og1.SOLID)},g=jG(r).length>1,h=jD(jG(r)[0])||(0,ex.t)("whiteboard.figjam_export.no_background"),f=jL(r),v=a.nodeCounts.selectionStickyCount>0||a.nodeCounts.canvasStickyCount>0,y=a.nodeCounts.selectionTableCount>0||a.nodeCounts.canvasTableCount>0,C=v||y;return W.createElement("div",{className:"figjam_export_pickers--modalContainer--ecxGT"},W.createElement("div",{className:"figjam_export_pickers--row--iT7Hm"},W.createElement(s$.iM,{className:jw},W.createElement(ex.Tx,{id:"whiteboard.figjam_export.file_type"})),W.createElement(uW.e,{className:"figjam_export_pickers--radioGroup--UXiC-",value:f,onChange:e=>E(jP[e]),recordingKey:lI.Mx(e,"exportFileTypeRadioGroup")},(et.cp.isIpadNative?[eM.kDc.PNG,eM.kDc.JPEG,eM.kDc.PDF]:[eM.kDc.PNG,eM.kDc.JPEG,eM.kDc.PDF,eM.kDc.CSV]).map(t=>{let n=t===eM.kDc.CSV&&!C;return W.createElement(uW.W,{value:jL(t),key:t,labelClassName:"figjam_export_pickers--radioLabel--zw-U-",recordingKey:lI.Mx(e,`exportFileTypeRadioGroup.${jL(t)}`),disabled:n,"data-tooltip-type":n&&n1.wL.TEXT,"data-tooltip":n&&(0,ex.t)("whiteboard.figjam_export.csv_disabled")},jL(t))}))),r===eM.kDc.CSV&&W.createElement("div",{className:jC},W.createElement(s$.iM,{className:jw},W.createElement(ex.Tx,{id:"whiteboard.figjam_export.content_type"})),W.createElement(jI,{id:"exportSettingsPickerContentTypeControl",className:"figjam_export_pickers--contentTypeSelect--Ioh5g",inputClassName:"figjam_export_pickers--contentTypeInput--3duA- figjam_export_pickers--input--YZm9H",dispatch:e.dispatch,property:i,onChange:o,formatter:jB,recordingKey:lI.Mx(e,"contentTypeSelect"),dropdownShown:t,blurOnChange:!0},[eM.o3y.TABLE,eM.o3y.STICKY].map(t=>{let n=t===eM.o3y.STICKY&&!v||t===eM.o3y.TABLE&&!y;return W.createElement(jA,{value:t,key:t,disabled:n,additionalStylesClassName:jx,recordingKey:lI.Mx(e,`contentTypeSelect.${jR(t)}`)},jR(t))}))),W.createElement("div",{className:jC},W.createElement(s$.iM,{className:jw},W.createElement(ex.Tx,{id:"whiteboard.figjam_export.background"})),!g&&W.createElement(s$.iM,{className:jb},h),g&&W.createElement(jN,{id:"exportSettingsPickerBackgroundTypeControl",className:"figjam_export_pickers--backgroundTypeSelect--eexDx",inputClassName:"figjam_export_pickers--input--YZm9H",dispatch:e.dispatch,property:s,onChange:c,formatter:jF,recordingKey:lI.Mx(e,"backgroundTypeSelect"),dropdownShown:t,dropdownAlignment:"right",blurOnChange:!0,icon:W.createElement(jV,{background:s,disabled:!1}),svgClassName:"figjam_export_pickers--svgStyles--G9Vof"},[eM.Og1.GRID,eM.Og1.TRANSPARENT,eM.Og1.SOLID].map(t=>{let n=!jH(t,r);return W.createElement(jS,{value:t,key:t,disabled:n,additionalStylesClassName:jx,recordingKey:lI.Mx(e,`backgroundTypeSelect.${jD(t)}`),height:32},W.createElement("div",{className:"figjam_export_pickers--backgroundOptionWrapper--DkFx1"},W.createElement(jV,{background:t,disabled:n}),W.createElement("span",{className:"figjam_export_pickers--backgroundTypeLabel--b--Px ellipsis--ellipsis--Tjyfa"},jD(t))))}))),W.createElement("div",{className:d?jC:"figjam_export_pickers--exportAreaPlaceholderRow--G7H-m figjam_export_pickers--selectRow--aTA0S figjam_export_pickers--row--iT7Hm"},W.createElement(s$.iM,{className:jw},W.createElement(ex.Tx,{id:"whiteboard.figjam_export.export_area"})),!d&&W.createElement(s$.iM,{className:jb},jU("file")),d&&W.createElement(jO,{id:"exportSettingsPickerExportAreaTypeControl",className:"figjam_export_pickers--exportAreaSelect--GP6S-",inputClassName:"figjam_export_pickers--exportAreaInput--AbQMJ figjam_export_pickers--input--YZm9H",dispatch:e.dispatch,property:m,onChange:u,formatter:jK,recordingKey:lI.Mx(e,"exportAreaTypeSelect"),dropdownShown:t,blurOnChange:!0},["selection","file"].map(t=>W.createElement(jM,{key:t,value:t,additionalStylesClassName:jx,recordingKey:lI.Mx(e,`exportAreaTypeOption.${jU(t)}`)},jU(t))))),W.createElement("div",{className:"figjam_export_pickers--buttonContainer---c6mP"},(()=>{if(!a)return!1;switch(r){case eM.kDc.PNG:case eM.kDc.JPEG:return("selection"===m?a.selectionArea:a.canvasArea)>=15e7;case eM.kDc.PDF:return("selection"===m?a.nodeCounts.selectionNodeCount:a.nodeCounts.canvasNodeCount)>=300;case eM.kDc.CSV:return!1}})()&&W.createElement("div",{className:"figjam_export_pickers--exportWarning--KzT0q text--fontPos11--2LvXf text--_fontBase--QdLsd"},W.createElement(eN.A,{className:"figjam_export_pickers--infoIcon--H0pOt",svg:jk.c}),W.createElement(ex.Tx,{id:"whiteboard.figjam_export.exporting_may_take_a_minute_or_two"})),W.createElement(eT.gV,{onClick:()=>{_(!0),e.dispatch(jf.v.set({message:(0,ex.t)("whiteboard.figjam_export.exporting"),showLoadingSpinner:!0,callback:()=>{eM.KEP.editorPreferences().exportSelectionSettings.set({contentType:i,fileType:r,backgroundType:s}),"selection"===m?eM.i46.exportSelectionOrCurrentPage(!0,a.selectionArea,a.nodeCounts.selectionNodeCount):eM.i46.exportSelectionOrCurrentPage(!1,a.canvasArea,a.nodeCounts.canvasNodeCount),e.dispatch(nG._I()),e.dispatch(ti._I())}}))},recordingKey:lI.Mx(e,"exportButton"),disabled:p,className:"figjam_export_pickers--exportButtonStyles--KYDuq"},W.createElement(ex.Tx,{id:"whiteboard.figjam_export.export"}))))}var jj=n(370320),jX=n(385472);function jz({children:e,onClick:t}){return W.createElement("div",{className:"context_menus_upsells--upsellItem--DuX5N",onClick:t,tabIndex:0,role:"button"},W.createElement(eN.A,{svg:jX.c}),W.createElement("span",null,e))}function jq(){let e=(0,rH.qM)(),t=(0,v6.u)("upsell"),n=(0,Y.OY)(),a=(0,W.useCallback)(()=>{e("Dev Mode Paywall clicked",{type:"Design Mode Upsell",entryPoint:"design_section_status"},{forwardToDatadog:!0}),t("handoff"),n(ts.A5({type:lp,data:{initialFeatureTab:"quick_handoff"}}))},[n,t,e]);return W.createElement(jz,{onClick:a},W.createElement(ex.Tx,{id:"dev_handoff.paywall.ready_for_dev.upsell"}))}function jZ(){let e=(0,rH.qM)(),t=(0,v6.u)("upsell"),n=(0,Y.OY)(),a=(0,W.useCallback)(()=>{e("Dev Mode Paywall clicked",{type:"Design Mode Upsell",entryPoint:"design_copy_as_code"},{forwardToDatadog:!0}),t("handoff"),n(ts.A5({type:lp,data:{initialFeatureTab:"advanced_inspection"}}))},[n,t,e]);return W.createElement(jz,{onClick:a},W.createElement(ex.Tx,{id:"dev_handoff.paywall.codegen.upsell"}))}function jQ(){let e=(0,rH.qM)(),t=(0,v6.u)("upsell"),n=(0,Y.OY)(),a=(0,W.useCallback)(()=>{e("Dev Mode Paywall clicked",{type:"Design Mode Upsell",entryPoint:"design_annotations"},{forwardToDatadog:!0}),t("handoff"),n(ts.A5({type:lp,data:{initialFeatureTab:"quick_handoff"}}))},[n,t,e]);return W.createElement(jz,{onClick:a},W.createElement(ex.Tx,{id:"dev_handoff.paywall.annotations.upsell"}))}var jJ=n(860700);async function j$({paint:e,fileKey:t,dispatch:n}){var a;if(!t||"VIDEO"!==e.type||!e.video||!(null==(a=e.video)?void 0:a.hash))return j1("Incorrect asset type"),null;n(jf.v.set({message:(0,ex.t)("whiteboard.figjam_export.exporting"),showLoadingSpinner:!0,callback:()=>{}}));let r=await (0,EW.Os)({paint:e,fileKey:t});if(null===r)return j1("Error getting download url for asset"),null;j0(r)}let j0=e=>{let t=document.createElement("a");t.setAttribute("href",e),t.setAttribute("target","_blank"),document.body.appendChild(t),t.click(),document.body.removeChild(t)},j1=e=>{(0,tO.oP)(l9._.FIGJAM_ENGAGEMENT,Error(`Error exporting video: ${e}`))};var j2=n(612056),j5=n(202613),j3=n(867084),j4=n(272520),j6=n(542276);function j8(e){return new URL(e).hostname.split(".").slice(-2).join(".")}var j9=n(941892),j7=n(164664),Xe=n(679992),Xt=n(43716),Xn=n(268644),Xa=n(904340),Xr=n(678280),Xl=n(301660),Xi=n(841676),Xo=n(112044),Xs=n(606700);function Xc({onResult:e}){let[t,n]=W.useState(),a=(0,W.useCallback)(e=>{n(e.target.value)},[]),r=(0,W.useCallback)(()=>{e(t)},[t,e]);return W.createElement("div",{className:"ready_status_menu_item--menuItemContainer--Uy01z","data-preferred-theme":"dark"},W.createElement("div",{className:"ready_status_menu_item--title--M9kbm"},W.createElement(ex.Tx,{id:"dev_handoff.status.menu_note_title"})),W.createElement(eT.QT,{placeholder:(0,ex.t)("dev_handoff.status.menu_note_placeholder"),type:"textarea",value:t,onChange:a,maxLength:1e3,className:"ready_status_menu_item--textInput--iqTJf",onKeyDown:e=>{e.stopPropagation()}}),W.createElement(eT.Uv,{autoFocus:!0,onClick:r,className:"ready_status_menu_item--comfirmButton--BsFi9"},W.createElement(ex.Tx,{id:"dev_handoff.status.menu_note_button"})))}var Xd=n(581948),Xm=n(91184),Xu=n(694752),Xp=n(102864),X_=n(410300);let XE=(0,nF.I)(n5.eWp);class Xg extends W.PureComponent{items(){var e;let t=this.props.isPrototypeCanvasEditUiVisible&&!this.props.hasSelection?[{separator:!0},{action:"remove-interactions-on-page",flags:["edit"]}]:[],n=window.FigmaMobile,a=XI(this.props.appModel.showComments,this.props.selectedView,this.props.viewportInfo,this.props.clientX,this.props.clientY,this.props.dispatch,null==n?void 0:n.requestToAddDraftCommentPin),r="whiteboard"===this.props.selectedView.editorType,l="slides"===this.props.selectedView.editorType,i=(0,l1.ie)(this.props.selectedView),o=et.cp.windows?"Ctrl+":"\u2318",s={action:"paste-here",flags:["edit"],displayText:r?(0,ex.t)("fullscreen_actions.paste"):void 0,shortcutText:r?`${o}V`:void 0},c={action:"paste-as-live-object",flags:["edit"],featureFlags:["live_paste"],displayText:(0,ex.t)("fullscreen_actions.paste-as-live-object")},d=!et.cp.safari||(null==n?void 0:n.readClipboardData)?[s,c,r?{separator:!0}:null]:[],m={name:"start-chat",disabled:this.props.isJoinedToActiveVotingSession||this.props.isCursorChatDisabled,callback:(e,t,n,a)=>{eM.i46.triggerAction("set-tool-default",null),this.props.dispatch(Y3.It({position:{x:a.clientX||this.props.clientX,y:(a.clientY||this.props.clientY)-XE},source:"canvas_context_menu"}))}},u=r&&this.props.canPublishOrgTemplate&&this.props.openFile?(0,X_.s)({dispatch:this.props.dispatch,fileKey:this.props.openFile.key,isPublished:(0,Sf.Ck)(null==(e=this.props.openFile)?void 0:e.template,this.props.org),source:"fullscreen-context-menu"}):null,p=[{action:"toggle-ui"},{action:"toggle-show-comments",displayText:(0,ex.t)("fullscreen.context_menu.show_hide_comments"),flags:["!slides"]},...r?[]:[{separator:!0},m],r?null:{action:"toggle-menu"},!this.props.userCanRunPlugins||l?null:(0,tY.WG)({...this.props,isReadOnly:this.props.appModel.isReadOnly},"contextmenu"),this.props.appModel.isReadOnly||i||l?null:(0,tj.cF)(this.props,"contextmenu"),u,...t];return[...a,...d,{action:"unlock-all",flags:["edit","whiteboard"]},{separator:!0},...r?[m,{separator:!0}]:[],...p]}render(){let e=this.props.clientX,t=this.props.clientY;return W.createElement("div",{className:`${eR.cp}`},W.createElement(aa.E,{appModel:this.props.appModel,menuItems:(0,l8.Ib)(this.items()),selectedView:this.props.selectedView,dispatch:this.props.dispatch,showPoint:!1,targetRect:{width:10,height:10,left:e+100,top:t,right:e+110,bottom:t-10},removeDisabledItems:!0,recordingKey:"canvasMenu",allowCodegenOptions:"design"===this.props.selectedView.editorType,isLimitedDevMode:this.props.isLimitedDevMode,"aria-labelledby":this.props.ariaLabelledBy}))}}Xg.displayName="CanvasContextMenu";let Xh=(0,Y.Ul)((e,t)=>({...t,appModel:e.mirror.appModel,openFile:e.openFile,editorType:e.selectedView.editorType,orgEntity:(0,tx.or)(e),org:e.currentUserOrgId?e.orgById[e.currentUserOrgId]:null,isJoinedToActiveVotingSession:(0,Xt.On)(e),hasSelection:Object.keys(e.mirror.sceneGraphSelection).length>0,isDevHandoff:(0,l1.ie)(e.selectedView)}))(Xg);function Xf(e){let t=(0,tf.i4)(),n=(0,tf.IX)(),a=(0,tf.So)(),r=(0,tf.qK)(),l=r.orgPlugins,i=r.orgWidgets,o=(0,tf.Yv)(),s=(0,tf.mQ)(),c=(0,tf.oL)(),d=(0,tf.eA)(),m=(0,tf.KM)(),u=(0,Xp.Q)(),p=(0,rH.e6)();W.useEffect(()=>{p("Canvas Right Click")},[p]);let _=(0,eB.OM)({subscribeToUpdates_expensive:!0}),E=(0,Sf.W0)()===Sf.c3.CAN_PUBLISH,g=(0,Y.w1)(e=>e.mirror.appModel.activeTextReviewPlugin),h=XO(),f=(0,tf.u_)();return W.createElement(Xh,{...e,isPrototypeCanvasEditUiVisible:h,allSavedPlugins:r.plugins,recentlyUsedPlugins:t,localExtensions:n,publishedPlugins:a,viewportInfo:_,activeTextReviewPlugin:g,canPublishOrgTemplate:E,savedWidgetVersions:c,recentlyUsedWidgets:d,publishedWidgets:m,orgSavedPlugins:l,orgSavedWidgets:i,orgPrivatePlugins:o,orgPrivateWidgets:s,isCursorChatDisabled:u,pluginAllowlist:f})}class Xv extends W.PureComponent{constructor(){super(...arguments),this.getPageDuplicateMenuItem=(e,t)=>{var n;let a=this.props.appModel.pagesList.length>=rz.We;return((0,$.Ub)().ps_benchmark&&a&&(a=!(0,PI.Kc)(null==(n=this.props.openFile)?void 0:n.project)),a&&this.props.team&&!(0,rz.G8)(this.props.team))?{name:"page-duplicate",callback:()=>{let e=this.props.openFile;if(!e)return null;this.props.dispatch((0,ts.A5)({type:Xu.EP,data:{team:this.props.team,resource:Xi.kJ.PAGE,action:Xo.qW.DUPLICATE_PAGE,editorType:e.editorType,currentPlan:j5.O.Plan.STARTER,upsellPlan:j5.O.Plan.PRO}}))},displayText:t}:{action:"page-duplicate",args:{nodeId:e},loadingIndicatorString:"Duplicating",displayText:t}},this.getPageMoveMenuItem=e=>{if(!(0,$.Ub)().move_page_to_new_file)return null;let t=this.props.sceneGraph.get(e),n=this.props.openFile;return t&&n?((0,tO.gN)("getPageMoveMenuItem","Parameters",{pageId:e,folderId:"1",fileKey:this.props.currentFileKey}),{name:"page-move-to-new-file",callback:()=>{!function(e,t,n,a,r,l={},i=!0){let o;e&&(o={...l,type:Xd.g.FILE,fileKey:e.key,file:e,afterFileMove:void 0,isMovePageToNewFile:i,page_id:a},n(ts.A5({type:Xm.K,data:o})))}({key:n.key,name:n.name,folder_id:n.folderId,team_id:n.teamId,editor_type:n.editorType},0,this.props.dispatch,e)}}):null}}contextMenu(e){let t=this.props.sceneGraph.get(e),n=null==t?void 0:t.isPageDivider,a=this.props.appModel.pagesList.filter(e=>{var t;return!(null==(t=this.props.sceneGraph.get(e.nodeId))?void 0:t.isPageDivider)}).length;return[{action:"page-copy-link",args:{nodeId:e},disabled:n},{separator:!0},{action:"page-rename",args:{nodeId:e},displayText:n?(0,ex.t)("fullscreen_actions.divider-rename"):(0,ex.t)("fullscreen_actions.page-rename")},this.getPageDuplicateMenuItem(e,n?(0,ex.t)("fullscreen_actions.divider-duplicate"):(0,ex.t)("fullscreen_actions.page-duplicate")),this.getPageMoveMenuItem(e),{separator:!0},{action:"page-delete",args:{nodeId:e},loadingIndicatorString:"Deleting",disabled:!n&&1===a,displayText:n?(0,ex.t)("fullscreen_actions.divider-delete"):(0,ex.t)("fullscreen_actions.page-delete")}]}contextMenuHandoff(e){return[{action:"page-copy-link",args:{nodeId:e}}]}render(){let e=this.props.clientX,t=this.props.clientY,n=this.props.isDevHandoff?this.contextMenuHandoff(this.props.nodeId):this.contextMenu(this.props.nodeId);return W.createElement("div",{className:`${eR.cp}`},W.createElement(aa.E,{appModel:this.props.appModel,menuItems:(0,l8.Ib)(n),dispatch:this.props.dispatch,selectedView:this.props.selectedView,showPoint:!1,targetRect:{width:10,height:10,left:e+100,top:t,right:e+110,bottom:t-10},removeDisabledItems:!1,isLimitedDevMode:this.props.isLimitedDevMode,recordingKey:"pageMenu"}))}}Xv.displayName="PageContextMenu";let Xy=(0,Y.Ul)((e,t)=>{var n;return{...t,appModel:e.mirror.appModel,sceneGraph:e.mirror.sceneGraph,currentFileKey:null==(n=e.openFile)?void 0:n.key,isDevHandoff:(0,l1.ie)(e.selectedView)}})(Xv);class XC extends W.PureComponent{constructor(){super(...arguments),this.savepointMenuItems=(e,t)=>{let n=this.props.version,a=(0,Xs.I)(n),r={name:this.props.editName||"savepoint-edit",args:{version:n,checkpointKey:e},callback:t},l={name:"savepoint-restore",args:{version:n,checkpointKey:e},callback:t},i={name:"savepoint-duplicate",args:{version:n,checkpointKey:e},callback:t},o={name:"savepoint-clear",args:{version:n,checkpointKey:e},callback:t,disabled:!this.props.enableClear},s={name:"savepoint-link",args:{version:n,checkpointKey:e},callback:t},c=[];if(this.props.userCanEditFile?a?"branch_child_merge"===n.view?c.push(r,l,i,s):c.push(l,i,s):c.push(r,l,i,o,s):c.push(i,s),(0,$.Ub)().version_diffing&&"whiteboard"!==this.props.selectedView.editorType&&!(0,l1.ie)(this.props.selectedView)&&c.push({name:"savepoint-compare",args:{version:n,checkpointKey:e},callback:t}),(0,l1.ie)(this.props.selectedView)){let e=["savepoint-restore","savepoint-clear"];return c.filter(t=>!e.includes(t.name))}return c}}render(){let e=this.props.clientX,t=this.props.clientY,n=this.savepointMenuItems(this.props.checkpointKey,this.props.callback);return W.createElement("div",{className:`${eR.cp}`},W.createElement(aa.E,{appModel:this.props.appModel,menuItems:n,dispatch:this.props.dispatch,selectedView:this.props.selectedView,showPoint:!0,targetRect:{width:10,height:10,left:e-5,top:t+7,right:e+5,bottom:t+17},removeDisabledItems:!1,recordingKey:"savepointMenu"}))}}XC.displayName="SavepointContextMenu";let Xw=(0,Y.Ul)((e,t)=>({...t,appModel:e.mirror.appModel}))(XC),Xb=(e,t)=>eM.i46.getObjectsListUnderCursor(e,t),XT=class extends W.PureComponent{constructor(e){super(e),this.objectsListMouseEnter=e=>{eL.cX(e)},this.objectsListMouseExit=()=>{eL.cX("")},this.getSelectionGuid=()=>Object.keys(this.props.sceneGraphSelection)[0],this.getObjectsListMenu=(e,t)=>{let n=Xb(e,t);if(null==n)return[];let a=[];for(let e of n){let t=e.nodeId;a.push({nodeId:t,args:{nodeId:t,name:e.name},action:"select-node",displayText:(0,ex.t)("fullscreen_actions.select-node",{name:e.name??""}),onMouseEnter:()=>this.objectsListMouseEnter(t),onMouseExit:this.objectsListMouseExit})}return a},this.getNodeType=()=>{let e=this.getSelectionGuid();return eM.i46.getNodeType(e)},this.getPageListForMoveToMenu=()=>{var e;let t=this.props.appModel.pagesList;if(!this.props.userCanEditFile||null==t||t.length<2)return[];let n=[];for(let a of t)a.nodeId!==this.props.appModel.currentPage&&((null==(e=this.props.sceneGraph.get(a.nodeId))?void 0:e.isPageDivider)?n.push({separator:!0}):n.push({name:a.name,args:{nodeId:a.nodeId,name:a.name},action:"page-move-to",displayText:(0,ex.t)("fullscreen_actions.page-move-to",{name:a.name??""})}));return n},this.state={pageItems:this.getPageListForMoveToMenu(),relatedComponentMenu:this.getRelatedComponentMenu(eM.MJr.NONE),relatedStateMenu:this.getRelatedComponentMenu(eM.MJr.STATE_INSTANCE),objectItems:this.getObjectsListMenu(this.props.clientX,this.props.clientY),nodeType:this.isFigjam()?this.getNodeType():null,hyperlink:this.isFigjam()?this.getHyperlinkUnderCursor():null}}getRelatedComponentMenu(e){var t;let n;if(e!==eM.MJr.NONE&&e!==eM.MJr.STATE_INSTANCE)return null;let a=(0,Xl.K0)(this.props.masterSymbolGUID,this.props.dispatch,(null==(t=this.props.openFile)?void 0:t.key)||"",fN.lt,this.props.fileByKey,this.props.library,this.props.sceneGraph,this.props.sceneGraphSelection,this.props.fileVersion,e,this.props.stateGroupSelectionInfo);if(0===a.length)return null;n=e===eM.MJr.STATE_INSTANCE?"relatedComponentMenuSwapVariants":"relatedComponentMenu";let r=this.props.clientX,l=this.props.clientY;return{items:a,showPoint:!1,parentRect:{width:10,height:10,left:r+100,top:l,right:r+110,bottom:l-10},recordingKey:n,dispatch:this.props.dispatch,depth:0,onSelectItem:()=>{}}}getHyperlinkUnderCursor(){return eM.i46.getHyperlinkUnderCursor(this.props.clientX,this.props.clientY)}selectLayerMenu(){return!this.props.isObjectsPanelMenu&&this.state.objectItems.length>1?this.state.objectItems:[]}textEditModeMenu(){let e=this.getCopyPasteMenu(),t=this.getCopyExportMenu(),n=this.props.spellCheckPreference,a=this.props.appModel.spellCheckSuggestions,r=a||!n?[{name:"spell-check-menu",flags:["design","whiteboard","slides"],children:[(0,Xe.F)(),{separator:!0},...(0,Xe.m)()]},...this.props.userCanRunPlugins?(0,tY.aY)(this.props,"contextmenu"):[]]:[];return[...n||this.props.appModel.activeTextReviewPlugin?XA(a,this.props.editorType):[],...r,{separator:!0},...this.getTableCellMenu(),{separator:!0},...e,{separator:!0},...this.isFigjam()?t:[]]}getThumbnailMenu(e){return{name:tA.CA.getFileThumbnailMenuItemName(),args:{label:e?(0,ex.t)("fullscreen_actions.restore_default_thumbnail"):(0,ex.t)("fullscreen_actions.set_as_thumbnail")},flags:["edit","!slides"],callback:()=>{this.props.openFile&&this.props.dispatch(Kg.a0({file_key:this.props.openFile.key,thumbnail_guid:e?null:this.getSelectionGuid()}))}}}selectedEmbedOrLinkPreviewHasValidUrl(){var e,t;return(null==(e=this.props.widgetSelectionInfo)?void 0:e.pluginID)===j9._.EMBED_WIDGET&&this.props.embedData&&(this.props.embedData.url||this.props.embedData.srcUrl)||(null==(t=this.props.widgetSelectionInfo)?void 0:t.pluginID)===j9._.LINK_PREVIEW_WIDGET&&this.props.linkPreviewData&&this.props.linkPreviewData.url}isFigjam(){return"fullscreen"===this.props.selectedView.view&&"whiteboard"===this.props.selectedView.editorType}getCopyLinkMenu(){let e=this.selectedEmbedOrLinkPreviewHasValidUrl()?"FigJam":"";return{name:"copy-link",args:{label:(0,ex.t)("fullscreen.context_menu.copy_link",{editorSpecifierString:e})},displayText:this.isFigjam()&&this.state.nodeType?function(e){switch(e){case eM.__k.STICKY:return(0,ex.t)("fullscreen_actions.copy-link-to-sticky");case eM.__k.CONNECTOR:return(0,ex.t)("fullscreen_actions.copy-link-to-connector");case eM.__k.WIDGET:return(0,ex.t)("fullscreen_actions.copy-link-to-widget");case eM.__k.STAMP:return(0,ex.t)("fullscreen_actions.copy-link-to-stamp");case eM.__k.SECTION:return(0,ex.t)("fullscreen_actions.copy-link-to-section");case eM.__k.TEXT:return(0,ex.t)("fullscreen_actions.copy-link-to-text");case eM.__k.TABLE:return(0,ex.t)("fullscreen_actions.copy-link-to-table");case eM.__k.WASHI_TAPE:return(0,ex.t)("fullscreen_actions.copy-link-to-washi-tape");case eM.__k.SHAPE_WITH_TEXT:return(0,ex.t)("fullscreen_actions.copy-link-to-shape");case eM.__k.INSTANCE:return(0,ex.t)("fullscreen_actions.copy-link-to-instance");default:return(0,ex.t)("fullscreen_actions.copy-link-to-this")}}(this.state.nodeType):void 0,callback:()=>{let e;if(!this.props.openFile)return;let t=!(0,l1.ie)(this.props.selectedView)&&this.props.attributionContextKey,n=(0,xF.ie)({file:this.props.openFile,nodeId:this.getSelectionGuid(),isDevHandoff:(0,l1.ie)(this.props.selectedView),isReadOnly:this.props.appModel.isReadOnly,isFigJam:this.isFigjam(),attributionContext:t?(0,Xn.Q)(this.props.attributionContextKey,Xn.O.FULLSCREEN_CONTEXT_MENU):null});if((0,$.Ub)().ce_copy_labelled_links){let t=sL.TSSceneGraph.instance.get(this.getSelectionGuid());e=t?t.name:this.props.openFile.name}this.props.dispatch(Kg.L2({fileKey:this.props.openFile.key,url:n,label:e,source:Xn.O.FULLSCREEN_CONTEXT_MENU,visualBellMessageOverride:this.isFigjam()&&this.state.nodeType?function(e){switch(e){case eM.__k.STICKY:return(0,ex.t)("visual_bell.copy_link_to_sticky");case eM.__k.CONNECTOR:return(0,ex.t)("visual_bell.copy_link_to_connector");case eM.__k.WIDGET:return(0,ex.t)("visual_bell.copy_link_to_widget");case eM.__k.STAMP:return(0,ex.t)("visual_bell.copy_link_to_stamp");case eM.__k.SECTION:return(0,ex.t)("visual_bell.copy_link_to_section");case eM.__k.TEXT:return(0,ex.t)("visual_bell.copy_link_to_text");case eM.__k.TABLE:return(0,ex.t)("visual_bell.copy_link_to_table");case eM.__k.WASHI_TAPE:return(0,ex.t)("visual_bell.copy_link_to_washi_tape");case eM.__k.SHAPE_WITH_TEXT:return(0,ex.t)("visual_bell.copy_link_to_shape");case eM.__k.INSTANCE:return(0,ex.t)("visual_bell.copy_link_to_instance");default:return(0,ex.t)("visual_bell.copy_link")}}(this.state.nodeType):void 0}))}}}getCopyHyperlinkMenu(){let e=(()=>{let e=this.state.hyperlink;if(!e||""===e)return null;if(e.startsWith("mailto:")){let t=e.substring(7);if(t)return{displayText:(0,ex.t)("fullscreen_actions.copy-email",{email:t}),linkToCopy:t,visualBellText:(0,ex.t)("visual_bell.copy_email",{email:t})}}else if(e.startsWith("tel:")){let t=e.substring(4);if(t)return{displayText:(0,ex.t)("fullscreen_actions.copy-phone",{number:t}),linkToCopy:t,visualBellText:(0,ex.t)("visual_bell.copy_phone",{number:t})}}else{let t=j8(e);if(t)return{displayText:(0,ex.t)("fullscreen_actions.copy-hyperlink",{hyperlink:t}),linkToCopy:e,visualBellText:(0,ex.t)("visual_bell.copy_hyperlink",{hyperlink:t})}}})();return e?{name:"copy-hyperlink",displayText:e.displayText,callback:()=>(0,Xa.cn)(this.props.dispatch,e.linkToCopy,"ContextMenu",e.visualBellText)}:null}getImageToProfilePicture(){if(!this.props.user||!this.props.fillPaints||(0,nQ.Er)(this.props.fillPaints))return null;let e=this.props.fillPaints.findIndex(e=>"IMAGE"===e.type);if(e<0)return null;let t=this.props.fillPaints[e];return{name:"set-image-as-profile-picture",args:{label:"Set image as profile picture"},flags:["view_restricted","whiteboard"],featureFlags:["figjam_canvas_image_to_avatar"],callback:()=>{(0,jJ.oG)(t,this.props.user,this.props.dispatch)}}}getMaybeEmbedOrLinkPreviewWidgetMenu(){var e,t,n;if(!this.selectedEmbedOrLinkPreviewHasValidUrl())return null;let a=(null==(e=this.props.embedData)?void 0:e.url)||(null==(t=this.props.embedData)?void 0:t.srcUrl)||(null==(n=this.props.linkPreviewData)?void 0:n.url),r=j8(decodeURIComponent(a));return{name:"labeled-menu-item",args:{label:(0,ex.t)("fullscreen_actions.copy-hyperlink",{hyperlink:r})},callback:()=>{!function(e,t){let n=decodeURIComponent(t);(0,j3.CU)(n),(0,j6.Yz)(j4.PN.COPY_LINK,n),e(ek.A.enqueue({type:"copy-preview",message:(0,ex.t)("visual_bell.copy_hyperlink",{hyperlink:j8(n)}),error:!1}))}(this.props.dispatch,a)}}}getMaybeEmbedDeactivateMenu(){var e;return(null==(e=this.props.widgetSelectionInfo)?void 0:e.pluginID)!==j9._.EMBED_WIDGET||this.props.widgetSelectionInfo.widgetID!==eM.KEP.embedUiState().activeEmbedData.getCopy().embedNodeId?null:{name:"labeled-menu-item",args:{label:"Deactivate preview"},callback:()=>{eM.i46.deactivateEmbed()}}}getExportVideo(){var e;if(!this.props.fillPaints||(0,nQ.Er)(this.props.fillPaints))return null;let t=this.props.fillPaints.find(e=>"VIDEO"===e.type);if(!t)return null;let n=null==(e=this.props.openFile)?void 0:e.key;return{action:"export-selected-video",flags:["view_restricted","whiteboard"],platforms:["!ipad"],displayText:(0,ex.t)("fullscreen.context_menu.export_selected_video"),callback:(e,a,r)=>{j$({paint:t,fileKey:n,dispatch:r})}}}selectedDefaultLibraryComponents(){var e;let t=Object.keys(this.props.sceneGraphSelection);if(0===t.length)return!1;let n=null==(e=this.props.sceneGraph.get(t[0]))?void 0:e.symbolId;if(!n)return!1;let a=(0,iH.YH)(this.props.sceneGraph.get(n));return!!a&&(0,iH.Gk)(this.props.library,a)}getMoveToMenu(){return this.state.pageItems.length>=1?{action:"page-move-to-menu",flags:["edit"],children:this.state.pageItems,name:"page-move-to-menu"}:null}getFigJamRemovePluginActionsMenu(){if("design"===this.props.selectedView.editorType)return null;let e=e=>this.props.dispatch(ii.S0({id:e,resourceType:l0.K2.PLUGIN})),t=(0,iA.A9)(this.props.pluginRelaunchData,this.props.publishedPlugins,this.props.localExtensions,this.props.orgEntity,this.props.numSelected||0,(t,n)=>XT.refreshCache.debounceRefresh(t,()=>e(t),n),iO.gr.FIGJAM),n=[],a=new Set;for(let e of t)a.has(e.pluginTypeAndID)||(n.push({name:e.plugin.name,plugin_id:e.plugin.plugin_id}),a.add(e.pluginTypeAndID));return 0===n.length?null:{name:"remove-plugin-actions",children:[...n.map(({name:e,plugin_id:t})=>({name:"plugins-menu-item",callback:()=>eM.u2q.removeRelaunchDataFromSelection(t),args:{plugin_name:e}})),{separator:!0},{name:"remove-all-plugin-actions",callback:()=>n.map(({plugin_id:e})=>eM.u2q.removeRelaunchDataFromSelection(e))}]}}getMainComponentActionsMenu(){if(this.props.isLimitedDevMode)return null;let e=(0,nf.Ib)(this.props.appModel,"find-symbol")&&!this.selectedDefaultLibraryComponents(),t=(0,nf.Ib)(this.props.appModel,"push-changes-to-main"),n=(0,nf.Ib)(this.props.appModel,"restore-symbol-or-state-group"),a=(0,nf.Ib)(this.props.appModel,"add-variant"),r=(0,nf.Ib)(this.props.appModel,"publish-selection"),l=[e,t,n,a,r].filter(Boolean).length;if(0===l)return null;if(1===l){if(e)return{action:"find-symbol"};if(a)return{action:"add-variant",flags:["edit"]};if(r)return{action:"publish-selection",flags:["edit"]}}return{action:"main-component",children:[{action:"find-symbol"},{action:"push-changes-to-main",flags:["edit"]},{action:"restore-symbol-or-state-group",flags:["edit"]},{action:"publish-selection",flags:["edit"]},{action:"add-variant",flags:["edit"]}]}}getTableCellMenu(){let e=(0,nf.Ib)(this.props.appModel,"delete-table-contents"),t=(0,nf.Ib)(this.props.appModel,"delete-current-table-row")||(0,nf.Ib)(this.props.appModel,"delete-current-table-column");return[{action:"move-table-row-up",flags:["edit"]},{action:"move-table-row-down",flags:["edit"]},{action:"move-table-column-left",flags:["edit"]},{action:"move-table-column-right",flags:["edit"]},{separator:!0},{action:"add-table-column-before",flags:["edit"]},{action:"add-table-column-after",flags:["edit"]},{separator:!0},{action:"add-table-row-above",flags:["edit"]},{action:"add-table-row-below",flags:["edit"]},{separator:!0},{action:"delete-table-contents",flags:["edit"],shortcutText:e&&!t?"\u232B":void 0},{action:"delete-current-table-column",flags:["edit"],shortcutText:!e&&t?"\u232B":void 0},{action:"delete-current-table-row",flags:["edit"],shortcutText:!e&&t?"\u232B":void 0}]}getCopyPasteMenu(){let e;let t=window.FigmaMobile,n=!et.cp.safari||!!(null==t?void 0:t.readClipboardData),a=!this.props.isObjectsPanelMenu&&!this.props.isSingleSlideViewCarousel&&n,r=this.props.isTextEditModeMenu,l=[{action:"copy-text"},{action:"copy-as-code",children:[{action:"copy-as-css"},{action:"copy-as-css-recursive"},{action:"copy-as-ios"},{action:"copy-as-android"},...!this.props.canAccessDevMode&&this.props.canAccessDevModeEntryPoint?[{separator:!0},{render:()=>W.createElement(jZ,null),optionHeight:40}]:[]]},{action:"copy-as-svg"},{action:"copy-as-png"},...this.props.canCopyLink?[this.getCopyLinkMenu()]:[],{separator:!0},{action:"copy-properties",flags:["view_restricted"]},{action:"paste-properties",flags:["edit"]}],i=et.cp.windows?"Ctrl+":"\u2318";switch(this.props.selectedView.editorType){case"design":case"slides":e=[navigator.clipboard&&navigator.clipboard.write?{action:"copy",shortcutText:`${i}C`}:null,a?{action:"paste-here",flags:["edit"],displayText:(0,ex.t)("fullscreen_actions.paste-here"),shortcutText:r?`${i}V`:void 0}:null,n?{action:"paste-as-live-object",flags:["edit"],featureFlags:["live_paste"],displayText:r?(0,ex.t)("fullscreen_actions.paste-as-live-object"):void 0}:null,n?{action:"paste-to-replace",flags:["edit"],displayText:r?(0,ex.t)("fullscreen_actions.paste-and-match-style"):void 0,shortcutText:r?`${i}\u21E7V`:void 0}:null,{action:"copy-paste-menu",flags:["edit"],children:l},{action:"copy-as-menu",flags:["!edit"],children:l},{action:"duplicate-in-place",flags:["edit","slides"],displayText:(0,ex.t)("fullscreen_actions.duplicate-in-place"),shortcutText:`${i}D`}];break;case"dev_handoff":e=[navigator.clipboard&&navigator.clipboard.write?{action:"copy",shortcutText:`${i}C`}:null,this.props.isLimitedDevMode?null:{action:"copy-text"},this.props.isLimitedDevMode?null:{action:"copy-as-svg"},this.props.isLimitedDevMode?null:{action:"copy-as-png"},this.props.isLimitedDevMode?null:{action:"copy-layer-name"},this.props.canCopyLink?this.getCopyLinkMenu():null];break;default:e=[navigator.clipboard&&navigator.clipboard.write?{action:"copy",shortcutText:`${i}C`}:null,a?{action:"paste",flags:["edit"],displayText:(0,ex.t)("fullscreen_actions.paste"),shortcutText:`${i}V`}:null,a?{action:"paste-as-live-object",flags:["edit"],featureFlags:["live_paste"],displayText:r?(0,ex.t)("fullscreen_actions.paste-as-live-object"):void 0}:null,n?{action:"paste-to-replace",flags:["edit"],displayText:(0,ex.t)("fullscreen_actions.paste-to-replace")}:null]}return e}getCopyExportMenu(){return[...this.props.canCopyLink?[this.getCopyLinkMenu(),this.getCopyHyperlinkMenu()]:[],this.getMaybeEmbedOrLinkPreviewWidgetMenu(),this.getMaybeEmbedDeactivateMenu(),{action:"copy-as-png"},{action:"export-selection-or-current-page",flags:["view_restricted","whiteboard"],displayText:(0,ex.t)("fullscreen.context_menu.export_selection")},this.getExportVideo()]}rulerGuideMenu(e,t){let n="toggle-rulers",a=[e===eM.kfI.Y?{action:"remove-vertical-guides"}:{action:"remove-horizontal-guides"},{separator:!0},{action:n,displayText:(0,ex.t)("fullscreen.ruler_guide_context_menu.hide_rulers"),shortcutText:(0,nf.O0)(this.props.appModel.keyboardShortcuts,n)}],r=[{action:"remove-guide"}];switch(t){case eM.OWx.RULER:return a;case eM.OWx.GUIDE:return r;case eM.OWx.BOTH:return r.concat(...a);default:return[]}}singleSlideViewCarouselMenu(){return[...this.getCopyPasteMenu(),{separator:!0},{action:"create-slide",flags:["slides"]},{action:"select-all-slides",flags:["slides"]}]}contextMenu(){var e;let{objectItems:t,relatedComponentMenu:n,relatedStateMenu:a}=this.state,r=this.props.appModel,l="design"===this.props.selectedView.editorType,i="slides"===this.props.selectedView.editorType,o=(0,rh.yy)(this.props.selectedView),s=(l||o)&&(0,nf.Ib)(this.props.appModel,"select-node-menu")&&!this.props.isObjectsPanelMenu&&t.length>1,c=this.props.isObjectsPanelMenu,d=window.FigmaMobile,m=XI(r.showComments,this.props.selectedView,this.props.viewportInfo,this.props.clientX,this.props.clientY,this.props.dispatch,null==d?void 0:d.requestToAddDraftCommentPin),u=(0,nf.Ib)(this.props.appModel,"swap-to-related-symbol"),p=(0,nf.Ib)(this.props.appModel,"swap-to-related-state"),_=this.props.isPrototypeCanvasEditUiVisible?[{separator:!0},{action:"remove-interactions-on-selection",flags:["edit"]},{action:"add-prototype-starting-point",flags:["edit"]},{action:"delete-prototype-starting-point",flags:["edit"]}]:[],E=this.getCopyPasteMenu(),g=this.getCopyExportMenu(),h=[s?{action:"select-node-menu",children:t,name:"select-node-menu"}:null,this.getMoveToMenu(),{action:"move-to-file",flags:["edit"]}],f=!l,v=i?[]:[f?{separator:!0}:null,this.props.userCanRunPlugins?(0,tY.WG)(this.props,"contextmenu"):null,this.props.appModel.isReadOnly?null:(0,tj.cF)(this.props,"contextmenu")],y=(0,$.Ub)().internal_only_debug_tools,C=y&&1===this.props.numSelected,w=(0,$.Ub)().convert_to_thumbnail_frame,b=this.props.spellCheckPreference,T=this.props.appModel.spellCheckSuggestions;return[...b||this.props.appModel.activeTextReviewPlugin?XA(T,this.props.editorType):[],{separator:!0},...this.getTableCellMenu(),{separator:!0},...m,...E,{separator:!0},...(0,j2.M)({isOrgMember:this.props.isOrgMember}),{separator:!0},{action:"delete-selection",flags:["whiteboard","slides"]},{separator:!0},...this.isFigjam()?g:[],{separator:!0},...h,{action:"bring-to-front",flags:["edit"]},{action:"send-to-back",flags:["edit"]},{separator:!0},{action:"replace-selected-frame-with-section",flags:["edit","!slides"]},{action:"replace-selected-section-with-frame",flags:["edit","!slides"]},{action:"group-selection",flags:["edit"]},{action:"frame-selection",flags:["edit"]},{action:"create-section-from-selection",flags:["edit","!slides"]},{action:"ungroup-selection",flags:["edit"],displayText:(0,ex.t)("fullscreen.context_menu.ungroup")},c?{action:"rename-selection",flags:["edit"],displayText:(0,ex.t)("fullscreen.context_menu.rename")}:null,{action:"flatten-selection",flags:["edit","!slides"],displayText:(0,ex.t)("fullscreen.context_menu.flatten")},{action:"outline-stroke",flags:["edit","!slides"],shortcutText:(0,nf.O0)(this.props.appModel.keyboardShortcuts,"outline-stroke-with-migration-notice")||(0,nf.O0)(this.props.appModel.keyboardShortcuts,"outline-stroke")},{action:"mask-selection",flags:["edit","!slides"],get displayText(){switch(eM.KEP.editorState().selectionIsMask.getCopy()){case eM.Ky0.OFF:case eM.Ky0.MIXED:return(0,ex.t)("fullscreen_actions.mask-selection");case eM.Ky0.ON:return(0,ex.t)("fullscreen.menu.remove_mask")}}},this.props.canSetAsFileThumbnail&&!this.props.appModel.isReadOnly?this.getThumbnailMenu(this.getSelectionGuid()===(null==(e=this.props.openFile)?void 0:e.thumbnailGuid)):null,{separator:!0},{action:this.props.propertiesPanelShouldShowRemoveAutoLayout?"unstack-selection":"stack-selection",flags:["edit","!slides"]},{action:"create-symbol",flags:["edit"]},{action:"create-template",flags:["edit"],featureFlags:["dse_templates_proto"]},{action:"create-module",flags:["edit"],featureFlags:["dse_editor_templates_v1"]},u&&n?{name:"swap-to-related-symbol",flags:["edit"],childDropdown:n}:null,p&&a?{name:"swap-to-related-state",flags:["edit"],childDropdown:a}:null,{action:"reset-symbol",flags:["edit"]},{action:"detach-instance",flags:["edit"]},this.getMainComponentActionsMenu(),(0,$.Ub)().asset_suggestions?{action:"find-inspiration",flags:["edit","!slides"]}:null,(0,$.Ub)().asset_suggestions_api_overrides?{action:"inspect-fragment",flags:["!slides"]}:null,...f?[]:v,this.getFigJamRemovePluginActionsMenu(),{separator:!0},{action:"toggle-shown-for-selected-nodes",flags:["edit"],displayText:(0,ex.t)("fullscreen.context_menu.show_hide")},{action:"toggle-locked-for-selected-nodes",flags:["edit"],displayText:(0,ex.t)("fullscreen.context_menu.lock_unlock")},{action:"unlock-all",flags:["edit","whiteboard"]},{separator:!0},{action:"flip-horizontal",flags:["edit"]},{action:"flip-vertical",flags:["edit"]},{separator:!0},{action:"remove-annotations",flags:["dev_handoff"]},{separator:!0},...f?v:[],{separator:!0},this.getImageToProfilePicture(),..._,C?{separator:!0}:null,C?{action:"debug-inspect-layer-figma-scope"}:null,w?{action:"convert-to-thumbnail-frame"}:null,y?{action:"debug-print-as-test-code"}:null]}render(){let e=this.props.clientX,t=this.props.clientY,n=(0,l8.Ib)(this.props.isTextEditModeMenu?this.textEditModeMenu():this.props.isSelectLayerMenu?this.selectLayerMenu():this.props.isRulerGuideMenu?this.rulerGuideMenu(this.props.axis,this.props.rulerGuideContextMenuType):this.props.isSingleSlideViewCarousel?this.singleSlideViewCarouselMenu():this.contextMenu());return W.createElement("div",{className:`${eR.cp}`},W.createElement(aa.E,{appModel:this.props.appModel,sceneGraph:this.props.sceneGraph,selectedView:this.props.selectedView,sceneGraphSelection:this.props.sceneGraphSelection,menuItems:n,dispatch:this.props.dispatch,showPoint:!1,targetRect:{width:10,height:10,left:e+100,top:t,right:e+110,bottom:t-10},removeDisabledItems:!0,isLimitedDevMode:this.props.isLimitedDevMode,recordingKey:"layerMenu"}))}};function Xx(e){let t=(0,Y.w1)(t$.w5),n=(0,tf.At)(),a=(0,eB.OM)({subscribeToUpdates_expensive:!0}),r=(0,nr.wp)(),l=(0,e7.U9)(),i=(0,e7.eI)(),o=(0,Y.w1)(e=>e.mirror.appModel.activeTextReviewPlugin),s=XO(),c=(0,Y.OY)(),d=(0,tf.u_)(),m=(0,tf.qK)(),u=m.orgPlugins,p=(0,tf.Yv)(),_=(0,eD.s5)((0,eP.EB)().spellCheckPreference),E=(0,el.q)(e=>{let t=Object.keys(e.mirror.sceneGraphSelection),n=1===t.length?sL.TSSceneGraph.instance.get(t[0]):null,a=null!=n&&("FRAME"===n.type&&!n.resizeToFit||"SYMBOL"===n.type||"SECTION"===n.type),r=e.selectedView.editorType;return{appModel:e.mirror.appModel,publishedPlugins:e.publishedPlugins,publishedWidgets:e.publishedWidgets,localExtensions:e.localPlugins,userCanRunPlugins:(0,n$.gp)(e),sceneGraph:e.mirror.sceneGraph,sceneGraphSelection:e.mirror.sceneGraphSelection,library:e.library,masterSymbolGUID:e.mirror.selectionProperties.masterSymbolGUID,propertiesPanelShouldShowRemoveAutoLayout:e.mirror.selectionProperties.propertiesPanelShouldShowRemoveAutoLayout,orgEntity:(0,tx.or)(e),org:e.currentUserOrgId?e.orgById[e.currentUserOrgId]:null,user:e.user,fillPaints:e.mirror.selectionProperties.fillPaints,canSetAsFileThumbnail:a&&!(null==n?void 0:n.isInstanceSublayer),canCopyLink:e.mirror.selectionProperties.canCopyLinkToSelection,fileVersion:e.fileVersion,stateGroupSelectionInfo:e.mirror.selectionProperties.stateGroupSelectionInfo,widgetSelectionInfo:e.mirror.selectionProperties.selectedWidgetInfo,publishedCanvasWidgetVersions:e.publishedCanvasWidgetVersions,installedWidgetVersions:e.installedWidgetVersions,embedData:e.mirror.selectionProperties.embedData,linkPreviewData:e.mirror.selectionProperties.linkPreviewData,pluginRelaunchData:e.mirror.selectionProperties.pluginRelaunchData,numSelected:e.mirror.selectionProperties.numSelected,attributionContextKey:e.sharingAttributionContextKey,editorType:r,isOrgMember:(0,r3.canMemberOrg)(e.currentUserOrgId,e),isDevHandoff:"dev_handoff"===r,isLimitedDevMode:(0,l1.ie)(e.selectedView)&&!(0,e7.y2)(e)}});return W.createElement(XT,{...e,...E,dispatch:c,spellCheckPreference:_,isPrototypeCanvasEditUiVisible:s,openFile:t,fileByKey:r,allSavedPlugins:m.plugins,recentlyUsedPlugins:n,viewportInfo:a,activeTextReviewPlugin:o,editorType:E.editorType,pluginAllowlist:d,orgSavedPlugins:u,orgPrivatePlugins:p,canAccessDevMode:l,canAccessDevModeEntryPoint:i})}function Xk(e){let t=(0,Y.w1)(t$.w5),n=(0,tf.At)(),a=(0,eB.OM)({subscribeToUpdates_expensive:!0}),r=(0,nr.wp)(),l=(0,e7.U9)(),i=(0,e7.eI)(),o=(0,Y.w1)(e=>e.mirror.appModel.activeTextReviewPlugin),s=XO(),c=(0,Y.OY)(),d=(0,tf.u_)(),m=(0,tf.qK)(),u=m.orgPlugins,p=(0,tf.Yv)(),_=(0,eD.s5)((0,eP.EB)().spellCheckPreference),E=(0,el.q)(e=>{let t=Object.keys(e.mirror.sceneGraphSelection),n=1===t.length?sL.TSSceneGraph.instance.get(t[0]):null,a=null!=n&&("FRAME"===n.type&&!n.resizeToFit||"SYMBOL"===n.type||"SECTION"===n.type),r=e.selectedView.editorType;return{appModel:e.mirror.appModel,publishedPlugins:e.publishedPlugins,publishedWidgets:e.publishedWidgets,localExtensions:e.localPlugins,userCanRunPlugins:(0,n$.gp)(e),sceneGraph:e.mirror.sceneGraph,sceneGraphSelection:e.mirror.sceneGraphSelection,library:e.library,masterSymbolGUID:e.mirror.selectionProperties.masterSymbolGUID,propertiesPanelShouldShowRemoveAutoLayout:e.mirror.selectionProperties.propertiesPanelShouldShowRemoveAutoLayout,orgEntity:(0,tx.or)(e),org:e.currentUserOrgId?e.orgById[e.currentUserOrgId]:null,user:e.user,fillPaints:e.mirror.selectionProperties.fillPaints,canSetAsFileThumbnail:a&&!(null==n?void 0:n.isInstanceSublayer),canCopyLink:e.mirror.selectionProperties.canCopyLinkToSelection,fileVersion:e.fileVersion,stateGroupSelectionInfo:e.mirror.selectionProperties.stateGroupSelectionInfo,widgetSelectionInfo:e.mirror.selectionProperties.selectedWidgetInfo,publishedCanvasWidgetVersions:e.publishedCanvasWidgetVersions,installedWidgetVersions:e.installedWidgetVersions,embedData:e.mirror.selectionProperties.embedData,linkPreviewData:e.mirror.selectionProperties.linkPreviewData,pluginRelaunchData:e.mirror.selectionProperties.pluginRelaunchData,numSelected:e.mirror.selectionProperties.numSelected,attributionContextKey:e.sharingAttributionContextKey,editorType:r,isOrgMember:(0,r3.canMemberOrg)(e.currentUserOrgId,e),isDevHandoff:"dev_handoff"===r,isLimitedDevMode:(0,l1.ie)(e.selectedView)&&!(0,e7.y2)(e)}});return W.createElement(XT,{...e,...E,dispatch:c,spellCheckPreference:_,isPrototypeCanvasEditUiVisible:s,openFile:t,fileByKey:r,allSavedPlugins:m.plugins,recentlyUsedPlugins:n,viewportInfo:a,activeTextReviewPlugin:o,editorType:E.editorType,pluginAllowlist:d,orgSavedPlugins:u,orgPrivatePlugins:p,canAccessDevMode:l,canAccessDevModeEntryPoint:i,isSingleSlideViewCarousel:!0})}function XN({expandElement:e,guid:t,...n}){let a=(0,Y.w1)(e=>e.mirror.sceneGraphSelection),r=(0,Y.w1)(e=>e.mirror.appModel),l=(0,Y.w1)(e=>e.mirror.sceneGraph),i=(0,Y.w1)(e=>e.openFile),o=(0,Y.w1)(e=>e.mirror.selectionProperties.canCopyLinkToSelection),s=(0,_d.eM)((e,t)=>{let n=e.get(t);return n?n.canHaveAnnotation:null},t),c=(0,_d.eM)((e,t)=>{let n=e.get(t);return!!n&&n.annotations.length>0},t),d=(0,Y.OY)(),m=et.cp.windows?"Ctrl+":"\u2318",u=[e?{name:"expand-element",callback:e}:null,{separator:!0},s?{name:c?"edit-annotation":"add-annotation",callback:()=>{eo.qM.set(HS.P,!0)}}:null,{separator:!0},navigator.clipboard&&navigator.clipboard.write?{action:"copy",shortcutText:`${m}C`}:null,{action:"copy-text"},{action:"copy-as-svg"},{action:"copy-as-png"},{action:"copy-layer-name"},o?{name:"copy-link",args:{label:(0,ex.t)("fullscreen.context_menu.copy_link",{editorSpecifierString:""})},callback:()=>{if(!i)return;let e=(0,xF.ie)({file:i,nodeId:t,isDevHandoff:!0,isReadOnly:!0,isFigJam:!1,attributionContext:null});d(Kg.L2({fileKey:i.key,url:e,source:Xn.O.FULLSCREEN_CONTEXT_MENU,visualBellMessageOverride:void 0}))}}:null],p=n.clientX,_=n.clientY;return W.createElement("div",{className:`${eR.cp}`},W.createElement(aa.E,{appModel:r,sceneGraph:l,selectedView:n.selectedView,sceneGraphSelection:a,menuItems:u.filter(pJ.t),dispatch:d,showPoint:!1,targetRect:{width:10,height:10,left:p+100,top:_,right:p+110,bottom:_-10},removeDisabledItems:!0,recordingKey:"codeMenu"}))}function XS({...e}){let t=(0,Y.w1)(e=>e.mirror.sceneGraphSelection),n=(0,Y.w1)(e=>e.mirror.appModel),a=(0,Y.w1)(e=>e.mirror.sceneGraph),r=(0,Y.OY)(),l=et.cp.windows?"Ctrl+":"\u2318",i=[];navigator.clipboard&&navigator.clipboard.write&&i.push({name:"copy",shortcutText:`${l}C`,callback:()=>{e.onCopyText()}});let o=e.clientX,s=e.clientY;return W.createElement("div",{className:`${eR.cp}`},W.createElement(aa.E,{appModel:n,sceneGraph:a,selectedView:e.selectedView,sceneGraphSelection:t,menuItems:i,dispatch:r,showPoint:!1,targetRect:{width:10,height:10,left:o+100,top:s,right:o+110,bottom:s-10},removeDisabledItems:!0,recordingKey:"codeMenu"}))}function XI(e,t,n,a,r,l,i){return e&&n&&t.commentsEnabled&&et.cp.isIpadNative?[{name:"add-comment",callback:()=>{!function(e,t,n,a,r){if(!e)return;let l={x:t,y:n-XE};if(r)r({x:l.x,y:l.y,width:36.8,height:36.8});else{let t=(0,eB.GO)(e,l);a(lk.a8({anchorPosition:t})),a(lk.Yb())}}(n,a,r,l,i)}},{separator:!0}]:[]}function XA(e,t){var n,a,r;if(!e)return[];let l=!!(null==e?void 0:e.figma);return[...function(e,t){var n,a;let{figma:r,textReviewPlugin:l}=e,i=e=>{if(!e)return[];let n=[],a=(null==e?void 0:e.suggestions)||[],r=(null==e?void 0:e.rangeStart)||0,l=(null==e?void 0:e.rangeEnd)||0;for(let e of a.slice(0,3))n.push({action:"replace-selected-text",flags:["design","whiteboard","slides"],displayText:e,recordingKey:`replace-selected-text-${n.length}`,args:{replacementText:e,rangeStart:r,rangeEnd:l},callback(){let e=(0,tb.YN)({editorType:(0,ng.sZ)(t)});(0,Z.we)("Spell Check Suggestion Clicked",{productType:e})}});return n},o=i(r),s=i(l);return o.length||s.length?!o.length&&s.length?[{header:!0,name:(null==(n=(0,tX.wi)())?void 0:n.plugin.name)||"Plugin"},...s]:o.length&&!s.length?o:[...o,{name:"replace-selected-text",displayText:(null==(a=(0,tX.wi)())?void 0:a.plugin.name)||"Plugin",children:s}]:[{header:!0,flags:["design","whiteboard"],name:(0,ex.t)("spell_check.no_suggestions_found")}]}(e,t),{separator:!0},...l&&(null==(n=null==e?void 0:e.figma)?void 0:n.rangeText)?[(r=null==(a=null==e?void 0:e.figma)?void 0:a.rangeText,{name:"spell-check-menu-add-word",flags:["design","whiteboard","slides"],callback:async(e,t,n)=>{try{let e=await gK.cp.post("/api/spell-check-words",{word:r});if(200===e.status){let e=await (0,j7.Yr)();await e.addWords([r]),tA.CA.triggerAction("redo-spell-checking")}else(0,tO.WI)("spell_check_add_word_error","spell check add word failed http request",{responseStatus:e.status,responseData:e.data},{reportAsSentryError:!0})}catch(e){e.message.includes("The word provided already exists in your dictionary")||(aO.g.error(e),(0,tO.WI)("spell_check_add_word_error","spell check add word error",{err:e},{reportAsSentryError:!0}))}}})]:[]]}function XO(){let e=(0,eD.s5)((0,eL.a6)()),t=(0,Y.w1)(e=>e.mirror.appModel.prototypeCanvasUiVisible&&!e.mirror.appModel.isReadOnly);return(0,as.Wi)()?t:e===eM._AQ.PROTOTYPE}function XM({targetInViewport:e,nodeId:t,selectedView:n}){let a=(0,Y.OY)(),r=(0,Y.w1)(e=>e.mirror.appModel),l=(0,Y.w1)(e=>e.mirror.sceneGraph),i=(0,eA.cN)(t),o=null==i?void 0:i.hasCompletedStatus,s=(null==i?void 0:i.hasReadyStatus)||o,c=null==i?void 0:i.hasBeenEditedSinceLastStatusChange,d=(0,t$.AL)(),m=(0,v6.u)("status_label_menu"),u=(0,eB.qE)(),p=(0,e7.U9)(),_=(0,e7.eI)(),E=(0,nf.Ib)(r,"remove-selection-ready-status"),g=(0,$.Ub)().dt_dev_mode_workflows&&(0,nf.Ib)(r,"set-selection-completed-status"),h=(0,$.Ub)().dt_dev_mode_workflows&&o&&(0,nf.Ib)(r,"add-selection-ready-status"),f=(0,W.useMemo)(()=>eM.aWh.isReadOnly(eM.M7G.NODE_STATUS),[]),v=(0,$.Ub)().dt_dev_mode_workflows&&(0,$.Ub)().dt_status_change_description&&c,y=_&&f&&!p,C=(0,W.useMemo)(()=>s&&d?[!f&&v?{render:()=>W.createElement(Xc,{onResult:e=>{lQ.kr.setNodesReady(!0,[t],"canvas",e??null),a(lZ.yi())}}),preventDismissOnSelected:!0,flags:["design","dev_handoff"]}:null,!f&&v?{separator:!0,flags:["design","dev_handoff"]}:null,{name:"ready-status-open-in-dev-mode",callback:()=>{m("handoff")},flags:["design"]},{name:"ready-status-copy-dev-link",callback:()=>{let e=(0,xF.ie)({file:d,nodeId:t,isDevHandoff:!0});a(Kg.L2({fileKey:d.key,url:e,source:Xn.O.STATUS_DROPDOWN_MENU}))},flags:["dev_handoff","design"]},y?{separator:!0,flags:["design"]}:null,y?{render:()=>W.createElement(jq,null),optionHeight:32,flags:["design"]}:null,!f&&E?{name:"ready-status-mark-as-not-ready",callback:()=>{lQ.kr.setNodesReady(!1,[t],"canvas",null)},flags:["dev_handoff","design"]}:null,!f&&g?{name:"completed-status-mark-as-completed",callback:()=>{lQ.kr.setNodesCompleted([t],"canvas")},flags:["dev_handoff","design"]}:null,!f&&h?{name:"completed-status-remark-as-ready",callback:()=>{lQ.kr.setNodesReady(!0,[t],"canvas",null)},flags:["dev_handoff","design"]}:null].filter(e=>null!==e):[],[s,d,f,v,y,E,g,h,t,a,m]),w=e.origin.x+u.x,b=e.origin.y+u.y,T={left:w,top:b,right:w+e.size.x,bottom:b+e.size.y,width:e.size.x,height:e.size.y};return W.createElement("div",{className:`${eR.cp}`},W.createElement(aa.E,{appModel:r,sceneGraph:l,selectedView:n,menuItems:C,dispatch:a,showPoint:!0,targetRect:T,removeDisabledItems:!0,recordingKey:"readyStatusMenu",minWidth:50}))}function XP(){let e=(0,rp.g)(),t=(0,Y.OY)(),n=(0,xE.qO)(null==e?void 0:e.data.pluginId,null==e?void 0:e.data.triggeredFrom),a=(0,xE.Ou)(null==e?void 0:e.data.pluginId,null==e?void 0:e.data.triggeredFrom),r=(0,xE.gb)(null==e?void 0:e.data.pluginId,n,a);if(!e)return null;let l=e.data.target.height+e.data.target.width>0;return W.createElement(cC.I,{showPoint:l,items:r,onSelectItem:e=>{e.callback&&e.callback("",null,t)},parentRect:e.data.target,dispatch:t,lean:l?"left":"right"})}XT.displayName="SelectionContextMenu",XT.refreshCache=new Xr.W(sE.c.duration(1,"day"));var XL=n(402468);let XD=(0,lo.U9)(function({sectionId:e,initialTemplateId:t,initialShelfId:n,onConfirm:a,onCancel:r}){let l=(0,Y.OY)(),i=(0,t$.K0)();return W.createElement(tg.kH,{name:"section_preset_picker_confirmation_modal_shown",properties:{fileKey:i,sectionId:e,initialTemplateCategory:n,initialTemplateId:t,templateType:Sy.e.HubFile}},W.createElement(nO.Co,{confirmationTitle:W.createElement("div",null,W.createElement("p",{className:q()(ap.cx.fontSemiBold.font15.$,"section_preset_picker--alertHeader--oa08R")},W.createElement(ex.Tx,{id:"whiteboard.section_preset_picker.confirmation_modal.header"})),W.createElement(ex.Tx,{id:"whiteboard.section_preset_picker.confirmation_modal.description"})),confirmText:(0,ex.t)("whiteboard.section_preset_picker.confirmation_modal.confirm_text"),cancelText:(0,ex.t)("whiteboard.section_preset_picker.confirmation_modal.cancel_text"),onConfirm:a,onCancel:r,dispatch:l}))},"SectionPresetPickerConfirmationModal");function XR({name:e,leadingIcon:t,onIconClick:n}){return W.createElement("div",{className:"section_preset_picker--headerItemContainer--0R5QO dropdown--_optionBase--z-REc text--fontNeg12--2PWcg text--_fontBase--QdLsd text--_negText--j9g-L"},W.createElement("button",{className:q()("section_preset_picker--headerIconButton--tDLql section_preset_picker--iconBase--HKG97",{"section_preset_picker--hover--GYcQi":n}),onClick:n},W.createElement(eN.A,{svg:t})),W.createElement("div",{className:"section_preset_picker--headerText--XZRQV section_preset_picker--textContainer--dyEMF text--fontNeg11--StdFq text--_fontBase--QdLsd text--_negText--j9g-L text--fontNeg12--2PWcg text--_fontBase--QdLsd text--_negText--j9g-L"},e))}var XF=n(991316),XB=n(179080);function XU(){return W.createElement("div",{className:"section_preset_picker--loadingSpinnerContainer--OM30n"},W.createElement(l7.M7,null))}function XK({name:e,description:t,iconUrl:n}){return W.createElement(XH,{name:e,description:t,iconUrl:n,trailingIcon:W.createElement(eN.A,{className:"section_preset_picker--chevronRight--hORsb",svg:XB.c}),itemType:"shelf"})}function XG({name:e,description:t,iconUrl:n,isSelected:a,iconBackgroundColor:r}){return W.createElement(XH,{name:e,description:t,iconUrl:n,trailingIcon:a?W.createElement(eN.A,{svg:XF.c}):void 0,iconBackgroundColor:r,itemType:"template"})}function XH({name:e,description:t,itemType:n,iconUrl:a,trailingIcon:r,iconBackgroundColor:l}){return W.createElement("div",{className:q()({"section_preset_picker--shelfItemContainer--KochN section_preset_picker--bodyItemContainer--Ani9M dropdown--option--JMVCh dropdown--_optionBase--z-REc text--fontNeg12--2PWcg text--_fontBase--QdLsd text--_negText--j9g-L":"shelf"===n,"section_preset_picker--templateItemContainer--tCRxk section_preset_picker--bodyItemContainer--Ani9M dropdown--option--JMVCh dropdown--_optionBase--z-REc text--fontNeg12--2PWcg text--_fontBase--QdLsd text--_negText--j9g-L":"template"===n})},W.createElement("div",{className:q()({"section_preset_picker--shelfItemIcon--MASDu section_preset_picker--iconBase--HKG97":"shelf"===n,"section_preset_picker--templateItemIcon--eWzYK section_preset_picker--iconBase--HKG97":"template"===n}),style:{backgroundColor:l}},a&&W.createElement("img",{src:a,alt:(0,ex.t)("whiteboard.section_preset_picker.shelf.thumbnail")})),W.createElement("div",{className:"section_preset_picker--textContainer--dyEMF text--fontNeg11--StdFq text--_fontBase--QdLsd text--_negText--j9g-L"},W.createElement("div",{className:"section_preset_picker--nameText--LS4BG"},e),W.createElement("div",{className:"section_preset_picker--descriptionText--OCJkN"},t)),r&&W.createElement("div",{className:"section_preset_picker--trailingIcon--X-run section_preset_picker--iconBase--HKG97"},r))}var XV=n(399672),XW=n(576272),XY=n(970404);let Xj="section_preset_item",XX=/^Section(\s\d+)?$/,Xz=(0,nF.qe)(n5.AP2);function Xq({sectionId:e,sectionName:t,initialShelfId:n,initialTemplateId:a,showAlertOnSelect:r}){let l,i;let o=(0,Y.OY)(),s=(0,t$.K0)(),c=(0,eo.m4)(U5.W),d="hasData"===c.state?c.data:[],m=0!==d.length,[u,p]=(0,W.useState)(n),[_,E]=(0,W.useState)(!1),[g,h]=(0,W.useState)(!1),f=(0,IV.ak)(),v=(0,xi._)(),y=(0,ei.my)(XL.mg),C=(0,ei.my)(XL.Ez),w=(0,ei.my)(XL.w9),b=(0,eo.m4)(XL.Ih),T=(0,eo.m4)(XL.aE),x=(0,E_.e)(),k=(0,eo.m4)(XL.uw),N=function(e,t){let n=(0,eB.OM)({subscribeToUpdates_expensive:!0}),a=n.zoomScale,r=(0,W.useMemo)(()=>{let t=sL.TSSceneGraph.instance.get(e);if(!t)return null;let n=t.absoluteBoundingBox;return{canvasSpaceSectionTopLeft:t.canvasSpaceSectionTopLeft,canvasSpaceSectionOrigin:{x:n.x,y:n.y}}},[a,e]);if(!r)return null;let{canvasSpaceSectionTopLeft:l,canvasSpaceSectionOrigin:i}=r,o=(0,eB.Qv)(n,{x:l.x,y:l.y},!0),s={x:o.x-8,y:o.y},c=(0,eB.Qv)(n,i,!0),d=Math.max(s.y+n.y,n.y+8),m={top:d,bottom:d+200,height:200,left:0,right:s.x,width:285},u={x:(0,eB.UT)(t.x,0,a,0),y:(0,eB.UT)(t.y,0,a,0)};return{contextMenuRect:m,mouseBoundaryRect:{x:s.x,y:c.y+n.y,width:u.x+8,height:u.y}}}(e,T),S=W.useRef(!1),I=W.useCallback(()=>{y(),C(),E(!1)},[y,C]);(0,W.useEffect)(()=>{let e=setTimeout(()=>{h(!0)},500);return()=>clearTimeout(e)},[]),(0,W.useEffect)(()=>()=>{S.current||(y(),C())},[y,C]);let A=null==N?void 0:N.mouseBoundaryRect;if((0,W.useEffect)(()=>{if(!_||!A)return;let e=(0,tV.C)(function(e){var t;let n=(null==(t=document.activeElement)?void 0:t.id)??"";(!A||e.clientX>A.x+A.width||e.clientX<A.x||e.clientY>A.y+A.height||e.clientY<A.y)&&!n.includes(Xj)&&I()},16);return window.addEventListener("mousemove",e),()=>{window.removeEventListener("mousemove",e)}},[I,_,A]),!N)return null;let{contextMenuRect:O}=N,M=(n,r,l)=>{if(x&&s&&!k&&(E(!1),(null==b?void 0:b.template.id)!==n.template.id)){if(y(),n.template.id===a){C();return}n.type===Sy.e.HubFile&&(0,Sv.sF)({insert:()=>v(n,{moveViewportAfterPreview:!1,priority:"user-visible",previewManager:{nodeType:eM.__k.SECTION,options:{nodeId:e,newName:XX.test(t)||r&&t===r?l:null,shelfId:n.category??"",templateId:n.template.id,templateName:(0,IV.CM)(n)}}}),template:n,fileKey:s,dispatch:o,triggeredFrom:"section-preset",userTriggered:!1,isPreview:!0})}},P=e=>{(0,Sv.sF)({insert:()=>w({selectTemplateAfterCommit:!1,moveViewportAfterCommit:!1,priority:"user-visible",editScopeType:EG.IB.USER}),template:e,fileKey:s,dispatch:o,triggeredFrom:"section-preset",userTriggered:!0})},L=t=>{x&&s&&!k&&t.template.id!==a&&(S.current=!0,r?o((0,ts.A5)({type:XD,data:{sectionId:e,initialTemplateId:a,initialShelfId:n,onConfirm:()=>P(t),onCancel:()=>I()}})):P(t))},D=u?d.find(e=>e.id===u):void 0;if(D){l={displayText:D.title,render:()=>W.createElement(XR,{name:D.title,leadingIcon:XW.c,onIconClick:()=>{p(null),y()}}),preventDismissOnSelected:!0};let e=n&&a?(0,XV.ER)(d,n,a):null;i=D.shelf_content.map((t,n)=>{var r;let l={type:Sy.e.HubFile,template:t,category:u},{name:i,description:o}=f(l),s=(0,Id.PV)(o).trim(),c=(null==(r=(l.template.client_meta?JSON.parse(l.template.client_meta):{}).preset_picker)?void 0:r.thumbnail_url_dark_bg)??"";return{displayText:i,render:()=>W.createElement(XG,{name:i,description:s,iconUrl:c,isSelected:a===l.template.id,iconBackgroundColor:(0,XV.uI)(n)}),onMouseEnter:()=>{M(l,e,i)},callback:()=>L(l)}})}else l={displayText:"Edit section name",render:()=>W.createElement(XR,{name:(0,ex.t)("whiteboard.section_preset_picker.shelf.title"),leadingIcon:XY.c}),preventDismissOnSelected:!0},i=d.map(t=>({displayText:t.title,render:()=>{var e;return W.createElement(XK,{name:t.title,description:t.description,iconUrl:null==(e=t.shelf_meta.preset_picker)?void 0:e.thumbnail_url})},preventDismissOnSelected:!0,callback:()=>{(0,Z.we)("section_preset_picker_category_clicked",{fileKey:s,sectionId:e,selectedCategory:t.id,initialTemplateCategory:n,initialTemplateId:a}),p(t.id),y()}}));if(!m){if(!g)return null;i.push({displayText:"Loading",render:()=>W.createElement(XU,null),disabled:!0})}return W.createElement(tg.kH,{name:"section_preset_picker_shown",enabled:m,properties:{fileKey:s,sectionId:e,initialTemplateCategory:n,initialTemplateId:a,templateType:Sy.e.HubFile}},W.createElement(cC.I,{items:[l,...i],recordingKey:Xj,showPoint:!1,parentRect:O,depth:0,onSelectItem:e=>{e.callback&&e.callback("",null,o)},onMouseLeaveMenu:e=>{if(e.clientX>=O.right){E(!0);return}I()},dispatch:o,minBottomMargin:Xz,lean:"left",leanPadding:0,type:l2.aA.PRESET_PICKER,minWidth:285,disableDropdownScrollContainer:!0,displayOverTarget:!0,preventZoom:!0}))}function XZ(e){return{attachmentId:e.id,attachmentUploadedAt:e.uploadedAt.toString(),imageUrlPrefix:function(e){if(-1!==e.search("blob"))return"blob";let t=e.search("/images/");if(-1!==t)return e.substring(0,t)}(e.imageUrl)}}function XQ(e){let t=(0,Y.OY)(),n=(0,Y.w1)(e=>e.mirror.appModel),a=e.clientX,r=e.clientY,l=async t=>{let n=await fetch(e.attachment.imageUrl,{mode:"cors"}),a=await n.blob();if(!t)return a;if("image/jpeg"===a.type||"image/gif"===a.type){let e=await createImageBitmap(a),t=document.createElement("canvas");t.width=e.width,t.height=e.height;let n=t.getContext("2d");return null==n||n.drawImage(e,0,0),new Promise(e=>{t.toBlob(t=>{e(t)},"image/png")})}return a},i=[{name:"download-attachment",callback:async()=>{try{await l(!1).then(n=>{let a=URL.createObjectURL(n),r=document.createElement("a");r.href=a,r.download=(0,ex.t)("comments.attachment_default_name",{fileExtension:n.type.split("/")[1]}),r.click(),URL.revokeObjectURL(a),(0,Z.we)("Comment Attachment Download Success",XZ(e.attachment)),t(ek.A.enqueue({message:(0,ex.t)("comments.download_attachment_success"),type:"attachment-download"}))})}catch(n){(0,Z.we)("Comment Attachment Download Failure",XZ(e.attachment)),(0,tO.oP)(l9._.FEEDBACK,n),t(ek.A.enqueue({message:(0,ex.t)("comments.download_attachment_error"),type:"attachment-download",error:!0}))}}},{name:"copy-attachment",callback:async()=>{t(ek.A.enqueue({message:(0,ex.t)("comments.copying_attachment"),type:"copy-attachment",icon:Rb.mc.SPINNER}));try{await l(!0).then(async n=>{let a=new ClipboardItem({[n.type]:n});await navigator.clipboard.write([a]).then(()=>{(0,Z.we)("Comment Attachment Copy Success",XZ(e.attachment)),t(ek.A.enqueue({message:(0,ex.t)("comments.copy_attachment_success"),type:"copy-attachment"}))})})}catch(n){(0,Z.we)("Comment Attachment Copy Failure",XZ(e.attachment)),(0,tO.oP)(l9._.FEEDBACK,n),t(ek.A.enqueue({message:(0,ex.t)("comments.copy_attachment_error"),type:"copy-attachment",error:!0}))}}}];return W.createElement(aa.E,{appModel:n,menuItems:i,targetRect:{width:10,height:10,left:a+100,top:r,right:a+110,bottom:r-10},showPoint:!1,selectedView:e.selectedView,recordingKey:"comment-context-menu",dispatch:t})}var XJ=n(998904);function X$({targetInViewport:e,annotationsCount:t,selectedView:n}){var a;let r=(0,Y.OY)(),l=(0,Y.w1)(e=>e.mirror.appModel),i=(0,Y.w1)(e=>e.mirror.sceneGraph),o=(0,v6.u)("annotations_button"),s=(0,eB.qE)(),c=(0,e7.U9)(),d=(0,e7.eI)(),m=(a=()=>o("handoff"),c?[{name:"view-annotations",callback:a,flags:["design"]}]:d?[{header:!0,name:(0,ex.t)("dev_handoff.annotation.number_annotations",{count:t})},{separator:!0},{render:()=>W.createElement(jQ,null),optionHeight:32,flags:["design"]}]:[{header:!0,name:(0,ex.t)("dev_handoff.annotation.number_annotations",{count:t})}]),u=e.origin.x+s.x,p=e.origin.y+s.y,_={left:u,top:p,right:u+e.size.x,bottom:p+e.size.y,width:e.size.x,height:e.size.y};return W.createElement("div",{className:eR.cp},W.createElement(aa.E,{appModel:l,sceneGraph:i,selectedView:n,menuItems:m,dispatch:r,showPoint:!0,targetRect:_,removeDisabledItems:d,recordingKey:"annotationsButtonMenu",minWidth:50,allowDisabledOnly:!d}))}function X0(e){let t=(0,Y.OY)(),n=(0,tp.wv)(),a=(0,Y.w1)(e=>e.mirror.appModel);if(!(0,Y.w1)(e=>(0,vz.CA)(e.selectedView)))return null;let{thread:r}=e,l=!!r.comments.find(e=>e.isUnread),i=!!r.isPendingFromSinatra,o=null,s=n.commentReceipts;s&&(o=l?{name:"mark-as-read",callback:()=>{t(lk.as({receiptsAPI:s,thread:r}))}}:{name:"mark-as-unread",callback:()=>{t(lk.Mb({receiptsAPI:s,comment:r.comments[0]}))}});let c=[];i||"feed-post"===r.sidebarItemType?i||"feed-post"!==r.sidebarItemType||c.push(...[{name:"copy-link",callback:()=>{e.copyLink(r.comments[0])}},{separator:!0}]):c.push(...[{name:"resolve",callback:()=>{t(lk.cl({thread:r,resolved:!0}))},disabled:null!=r.commentPin},o,{name:"copy-link",callback:()=>{e.copyLink(r.comments[0])}},{separator:!0}]),c.push({action:"toggle-show-comments",displayText:(0,ex.t)("fullscreen.context_menu.hide_comments")});let d=c.filter(e=>e).map(e=>e),m={width:224,height:129,left:e.pinClientRect.x,top:e.pinClientRect.y,right:e.pinClientRect.x+e.pinClientRect.width,bottom:e.pinClientRect.y+e.pinClientRect.height};return W.createElement(aa.E,{appModel:a,menuItems:d,targetRect:m,showPoint:!1,selectedView:e.selectedView,recordingKey:"comment-context-menu",dispatch:t})}function X1(e){let t=(0,Y.w1)(e=>!e.mirror.appModel.isReadOnly),n=(0,Y.w1)(e=>e.openFile),a=(0,t1.C2)(),r=(0,Y.w1)(e=>(null==n?void 0:n.team)||null),l=(0,tf.Ce)(),i=(0,Y.w1)(e=>{var t;return!!(null==(t=e.openFile)?void 0:t.canEdit)}),o=(0,Y.OY)(),s=e.dropdownShown.type,c=(0,XJ.c)();if(s===eR.y4){let{clientX:n,clientY:a}=e.dropdownShown.data;return W.createElement(Xx,{clientX:n,clientY:a,selectedView:e.selectedView,userCanEditFile:t,userCanRunPlugins:l,isObjectsPanelMenu:!1})}if(s===eR.Ke){let{clientX:n,clientY:a}=e.dropdownShown.data;return W.createElement(Xx,{clientX:n,clientY:a,selectedView:e.selectedView,userCanEditFile:t,userCanRunPlugins:l,isSelectLayerMenu:!0,isObjectsPanelMenu:!1})}if(s===eR.wt){let{clientX:n,clientY:a}=e.dropdownShown.data;return W.createElement(Xx,{clientX:n,clientY:a,selectedView:e.selectedView,userCanEditFile:t,userCanRunPlugins:l,isObjectsPanelMenu:!1,isTextEditModeMenu:!0})}if(s===eR.e6){let{clientX:n,clientY:a,axis:r,rulerGuideContextMenuType:i}=e.dropdownShown.data;return W.createElement(Xx,{clientX:n,clientY:a,selectedView:e.selectedView,userCanEditFile:t,userCanRunPlugins:l,isObjectsPanelMenu:!1,isTextEditModeMenu:!1,isRulerGuideMenu:!0,axis:r,rulerGuideContextMenuType:i})}if(s===eR.Cs){let{clientX:n,clientY:a}=e.dropdownShown.data;return W.createElement(Xx,{clientX:n,clientY:a,selectedView:e.selectedView,userCanEditFile:t,userCanRunPlugins:l,isObjectsPanelMenu:!0})}if(s===eR.mY){let{clientX:n,clientY:a}=e.dropdownShown.data;return W.createElement(Xf,{clientX:n,clientY:a,selectedView:e.selectedView,userCanEditFile:t,userCanRunPlugins:l,isObjectsPanelMenu:!0,ariaLabelledBy:e.ariaLabelledBy})}if(s===eR.uA)return W.createElement(XP,null);else if(s===eR.eS){let{clientX:a,clientY:i,nodeId:o}=e.dropdownShown.data;return W.createElement(Xy,{nodeId:o,clientX:a,clientY:i,selectedView:e.selectedView,userCanEditFile:t,userCanRunPlugins:l,isObjectsPanelMenu:!0,team:r,openFile:n})}else if(s===eR.eC){let{clientX:t,clientY:n,version:a,checkpointKey:r,callback:o,editName:s,enableClear:c}=e.dropdownShown.data;return W.createElement(Xw,{version:a,checkpointKey:r,clientX:t,clientY:n,selectedView:e.selectedView,userCanEditFile:i,userCanRunPlugins:l,isObjectsPanelMenu:!1,editName:s,enableClear:c,callback:o})}else if(s===eR.Ou){let{comment:t,parentRect:n,thread:r,isUnread:l}=e.dropdownShown.data;return W.createElement(jj.I,{dispatch:o,comment:t,parentRect:n,currentUser:a,isUnread:l,thread:r,copyLink:c})}else if(s===eR.U3){let{thread:t,pinClientRect:n}=e.dropdownShown.data;return W.createElement(X0,{selectedView:e.selectedView,thread:t,pinClientRect:n,copyLink:c})}else if(s===eR.op){let{attachment:t,clientX:n,clientY:a}=e.dropdownShown.data;return W.createElement(XQ,{attachment:t,selectedView:e.selectedView,clientX:n,clientY:a})}else if(s===eR.qK){let{clientX:n,clientY:a,stringToCopy:r,expandElement:i,guid:o}=e.dropdownShown.data;return W.createElement(XN,{clientX:n,clientY:a,selectedView:e.selectedView,userCanEditFile:t,userCanRunPlugins:l,isObjectsPanelMenu:!0,stringToCopy:r,expandElement:i,guid:o})}else if(s===eR.es){let{clientX:n,clientY:a,onCopyText:r}=e.dropdownShown.data;return W.createElement(XS,{clientX:n,clientY:a,selectedView:e.selectedView,userCanEditFile:t,userCanRunPlugins:l,isObjectsPanelMenu:!0,onCopyText:r})}else if(s===eR.ak){let{targetInViewport:n,nodeId:a}=e.dropdownShown.data;return W.createElement(XM,{targetInViewport:n,selectedView:e.selectedView,userCanEditFile:t,userCanRunPlugins:l,isObjectsPanelMenu:!0,nodeId:a})}else if(s===eR.UT){let{targetInViewport:n,annotationsCount:a}=e.dropdownShown.data;return W.createElement(X$,{targetInViewport:n,annotationsCount:a,selectedView:e.selectedView,userCanEditFile:t,userCanRunPlugins:l,isObjectsPanelMenu:!0})}else if(s===eR.uk){let{sectionId:n,initialShelfId:a,initialTemplateId:r,sectionName:i,showAlertOnSelect:o}=e.dropdownShown.data;return W.createElement(Xq,{sectionId:n,sectionName:i,initialShelfId:a,initialTemplateId:r,showAlertOnSelect:o,selectedView:e.selectedView,userCanEditFile:t,userCanRunPlugins:l,isObjectsPanelMenu:!0})}else if(s===eR.OC){let{clientX:n,clientY:a}=e.dropdownShown.data;return W.createElement(Xk,{clientX:n,clientY:a,selectedView:e.selectedView,userCanEditFile:t,userCanRunPlugins:l,isObjectsPanelMenu:!1})}else if(s===eR.ox){let{clientX:n,clientY:a}=e.dropdownShown.data;return W.createElement(yA.m0,{clientX:n,clientY:a,selectedView:e.selectedView,userCanEditFile:t,userCanRunPlugins:l,isObjectsPanelMenu:!1,isTextEditModeMenu:!0})}return null}var X2=n(32832),X5=n(592428),X3=n(486264),X4=n(446616),X6=n(769228),X8=n(362452),X9=n(819688),X7=n(768832),ze=n(736144),zt=n(848844),zn=n(937308),za=n(703072),zr=n(879908),zl=n(241626),zi=n(893628);let zo="Loading suggestions...";var zs=((H=zs||{}).FREEFORM="freeform",H.SKIP="skip",H.TRY_AGAIN="tryAgain",H.KEEP="keep",H.FEEDBACK="feedback",H);function zc(e){(0,cL.Uc)(null!==e,"We should never be in the middle state if there are no optional parameters")}class zd extends lI.UR{constructor(e){let t;if(super(e),this.searchInputRef=W.createRef(),this.scrollContainerRef=W.createRef(),this.searchBarRef=W.createRef(),this.primaryPlaceholderTextRef=W.createRef(),this.ranWithParameters=!1,this.runArgs=null,this.loadingTimerID=null,this.pendingLoadingMessage=null,this.firstOptionalIndex=null,this.eventID=0,this.onSuggestions=e=>{switch(e.type){case"SUGGESTIONS":{let t=this.getDropdownItems(e.suggestions,this.state.searchQuery,this.state.activeParameterIndex),n=t.findIndex(e=>(function(e){return"freeform"!==e&&"skip"!==e})(e)),a=n>=0?n:this.state.activeItemIndex,r=t.length||!this.state.searchQuery?null:(0,ex.t)("fullscreen_actions.no_matches");this.clearLoadingMessage(),this.setState({activeItemIndex:a,items:t,errorMessage:r});break}case"ERROR":this.clearLoadingMessage(),this.setState({items:this.getDropdownItems([],this.state.searchQuery,this.state.activeParameterIndex),errorMessage:e.message||(0,ex.t)("fullscreen_actions.no_matches")});break;case"LOADING":this.setLoadingMessage(e.message)}},this.onBackspace=()=>{var e;let t=this.state.activeParameterIndex,n=null;if("middle"===t){if(zc(this.firstOptionalIndex),0===this.firstOptionalIndex){this.props.onExitParameterEntry();return}n=this.firstOptionalIndex-1}else if("final"===t)n=this.state.parameters.length-1;else{if(0===t){this.props.onExitParameterEntry();return}n=t-1}let a={...this.state.parameterValues},r=null==(e=this.getParameterForIndex(n))?void 0:e.key;r&&delete a[r],this.setParameterIndex(n,a)},this.onTextChange=e=>{let t;let n=this.state.activeParameterIndex;if("middle"===n)zc(this.firstOptionalIndex),t=this.firstOptionalIndex;else{if("final"===n)return;t=n}let a=this.state.parameters[t];this.triggerInputEvent({parameterValues:this.state.parameterValues,currentParameter:a,currentSearchQuery:e}),this.setLoadingMessage(zo),this.setState({searchQuery:e,items:this.getDropdownItems([],e,t),activeItemIndex:0,activeParameterIndex:t,mouseMoved:!1,errorMessage:""})},this.onSelectItem=(e,t)=>{let n;let a=this.state.activeParameterIndex;if("final"===a){if("enter"===t){let t=this.state.items[e];if(this.tryRunWithIterateParameters(t))return;this.runWithParameters(this.state.parameterValues)}return}let r={...this.state.parameterValues};if("middle"!==a){if(0===this.state.items.length)return;let n=this.state.parameters[a];if(e<0||e>=this.state.items.length){(0,tO.Ij)("PluginParameterEntry","invalid index",{index:e,items:this.state.items.length,currentIndex:a,parameter:n.name,keyPress:t}),(0,tO.oP)(l9._.EXTENSIBILITY,Error("Trying to select suggestion at invalid index"));return}let l=this.state.items[e];if("skip"===l||"keep"===l||"feedback"===l||"tryAgain"===l){if(this.tryRunWithIterateParameters(l))return}else"freeform"===l?r[n.key]={name:this.state.searchQuery}:((0,cL.kz)(!this.state.loadingMessage,"Selected item while loading"),r[n.key]=l)}let l=this.firstOptionalIndex;if("middle"===a){if(zc(this.firstOptionalIndex),"enter"===t){this.runWithParameters(r);return}n=this.firstOptionalIndex}else if(a===this.state.parameters.length-1){if("enter"===t){this.runWithParameters(r);return}n="final"}else n=null!==l&&a===l-1?"tab"===t?l:"middle":a+1;this.setParameterIndex(n,r),this.searchInputRef.current.focus()},this.onFinish=()=>{if(this.props.supportsFollowupActions){this.setState({loadingMessage:null,errorMessage:null,activeParameterIndex:0,parameters:[{key:"iterate",name:"Iterate"}],items:["keep","feedback","tryAgain"]});return}this.props.dispatch(lZ.yi())},this.onKeyDown=lI.Yh(this,"keydown",e=>{var t,n;let a=e=>{let t=this.state.activeItemIndex+e;return t<0?this.state.items.length-1:t%this.state.items.length},r=et.cp.mac?(0,ee.MP)(e,ee.Cs.META):(0,ee.MP)(e,ee.Cs.CONTROL);switch(e.keyCode){case ee.as.ENTER:e.preventDefault(),this.onSelectItem(this.state.activeItemIndex,"enter");break;case ee.as.TAB:e.preventDefault(),this.onSelectItem(this.state.activeItemIndex,"tab");break;case ee.as.DOWN_ARROW:if(e.preventDefault(),this.state.items.length>0){let e=a(1);this.setState({activeItemIndex:e}),null==(t=this.scrollContainerRef.current)||t.scrollElementAtIndexIntoView(e)}break;case ee.as.UP_ARROW:if(e.preventDefault(),this.state.items.length>0){let e=a(-1);this.setState({activeItemIndex:e}),null==(n=this.scrollContainerRef.current)||n.scrollElementAtIndexIntoView(e)}break;case ee.as.BACKSPACE:0===this.state.searchQuery.length?(e.preventDefault(),this.onBackspace(),e.stopPropagation()):("final"===this.state.activeParameterIndex||"middle"===this.state.activeParameterIndex)&&e.preventDefault();break;case ee.as.ESCAPE:e.preventDefault(),this.props.dispatch(lZ.yi());break;case ee.as.P:case ee.as.FORWARD_SLASH:r&&(e.preventDefault(),this.props.dispatch(lZ.yi()));break;case ee.as.EQUALS:case ee.as.DASH:r&&(e.preventDefault(),"-"===e.key?tA.CA.triggerAction("zoom-out"):tA.CA.triggerAction("zoom-in"));break;case ee.as.R:case ee.as.S:case ee.as.D:case ee.as.E:case ee.as.F:case ee.as.O:if(r){e.preventDefault();let t=this.state.searchQuery+e.key;this.onTextChange(t)}}}),this.onSearchChange=lI.cJ(this,"change",e=>{let t=e.currentTarget.value;this.onTextChange(t)}),this.renderResult=(e,t,n)=>{let a,r="",l="";return"skip"===t?(r=`Skip "${e.name}"`,l="skip"):"freeform"===t?(r=this.state.searchQuery,l="skip"):"tryAgain"===t?(r="Try again",a=W.createElement(eN.A,{svg:x6.c,style:a_.sx.colorIcon.$})):"keep"===t?(r="Keep",a=W.createElement(eN.A,{svg:zr.c,style:a_.sx.colorIcon.$})):"feedback"===t?(r="Feedback",a=W.createElement(eN.A,{svg:zi.c,style:a_.sx.colorIcon.$})):(r=t.name,l=t.name,a=z_(t,za.Wk)),W.createElement(zp,{recordingKey:lI.Mx(this.props,"suggestion",l),active:n===this.state.activeItemIndex,key:n,suggestion:r,onClick:e=>this.onSelectItem(n,"enter"),onMouseMove:()=>{this.state.mouseMoved||this.setState({mouseMoved:!0,activeItemIndex:n})},icon:a,onMouseEnter:()=>{this.state.mouseMoved&&this.setState({activeItemIndex:n})}})},0===e.parameters.length)this.runWithParameters({}),t="final";else{let n=e.parameters.findIndex(e=>e.optional);this.firstOptionalIndex=n<0?null:n,t=e.initialParameterValues?"final":e.parameters[0].optional?"middle":0;let a=this.getParameterForIndex(t,e.parameters);a&&this.triggerInputEvent({parameterValues:{},currentParameter:a,currentSearchQuery:""})}this.setLoadingMessage(this.props.defaultLoadingMessage),this.state={searchQuery:"",items:[],errorMessage:null,loadingMessage:null,activeItemIndex:0,parameterValues:e.initialParameterValues||{},activeParameterIndex:t,mouseMoved:!1,hidePluginName:!1,parameters:e.parameters}}getParameterForIndex(e,t){return"middle"===e||"final"===e?null:t?t[e]:this.state?this.state.parameters[e]:this.props.parameters[e]}getCurrentParameter(){return this.getParameterForIndex(this.state.activeParameterIndex)}async triggerInputEvent(e){this.eventID++;let t=this.eventID,n=await this.props.handler;this.eventID===t&&n.triggerParameterInputEvent({...e,onSuggestions:e=>{this.eventID===t&&this.onSuggestions(e)}})}updateLayout(){let e=0===this.state.activeParameterIndex&&!this.state.parameters[0].optional;if(void 0===this.state.placeholderWidth&&!e){if(this.primaryPlaceholderTextRef.current){let e=this.primaryPlaceholderTextRef.current.offsetWidth;this.setState({placeholderWidth:Math.min(250,Math.max(e,120))})}else this.setState({placeholderWidth:0})}let t=this.searchBarRef.current,n=t.offsetWidth<t.scrollWidth;e||!n||this.state.hidePluginName||this.setState({hidePluginName:!0}),t.scrollLeft=t.scrollWidth}componentDidMount(){super.componentDidMount(),(0,Z.we)("Parameter Entry Started",this.props.onAnalyticsEvent()),this.searchInputRef.current.focus(),this.updateLayout()}componentDidUpdate(e,t){super.componentDidUpdate(e,t),this.updateLayout()}componentWillUnmount(){var e,t;if(super.componentWillUnmount(),!this.ranWithParameters||this.ranWithParameters&&this.props.supportsFollowupActions){this.props.terminate();return}let n=(e=this.state.parameters,t=this.state.parameterValues,e.reduce((e,n)=>(function(e,t,n){var a;let r=!!n[t.key],l=!!t.optional,i=!l;return a={requiredCount:i?1:0,optionalCount:l?1:0,requiredEntered:r&&i?1:0,optionalEntered:r&&l?1:0,entered:r?1:0},{requiredCount:e.requiredCount+a.requiredCount,optionalCount:e.optionalCount+a.optionalCount,requiredEntered:e.requiredEntered+a.requiredEntered,optionalEntered:e.optionalEntered+a.optionalEntered,entered:e.entered+a.entered}})(e,n,t),{requiredCount:0,optionalCount:0,requiredEntered:0,optionalEntered:0,entered:0}));this.ranWithParameters&&n.requiredEntered!==n.requiredCount&&((0,tO.Ij)("PluginParameterEntry","Parameter entry mismatch",{requiredParameters:this.state.parameters,parameterValues:this.state.parameterValues}),(0,tO.oP)(l9._.EXTENSIBILITY,Error("Plugin ran successfully with parameters, but not all parameters were recorded")));let a=this.props.onAnalyticsEvent();(0,Z.we)("Parameter Entry Finished",{...a,success:this.ranWithParameters,parametersEntered:n.entered,requiredParametersEntered:n.requiredEntered,optionalParametersEntered:n.optionalEntered})}getDropdownItems(e,t,n){if("middle"===n||"final"===n)return[];let a=e.slice(),r=this.state.parameters[n];t.length>0&&r.allowFreeform&&a.unshift("freeform");let l=this.state.parameters[n];return 0===t.length&&l.optional&&a.unshift("skip"),a}setLoadingMessage(e){if(this.loadingTimerID){this.pendingLoadingMessage=e;return}this.pendingLoadingMessage=e,this.loadingTimerID=setTimeout(()=>{this.setState({loadingMessage:this.pendingLoadingMessage}),this.loadingTimerID=null,this.pendingLoadingMessage=null},300)}clearLoadingMessage(){this.loadingTimerID&&(clearTimeout(this.loadingTimerID),this.loadingTimerID=null),this.setState({loadingMessage:null})}setParameterIndex(e,t){let n=this.getParameterForIndex(e);n&&((0,tO.Ij)("PluginParameterEntry","setParameterIndex",{nextParameter:n.name}),this.triggerInputEvent({parameterValues:t,currentParameter:n,currentSearchQuery:""}));let a=!(0===e&&!this.state.parameters[0].optional)&&this.state.hidePluginName;this.searchInputRef.current.focus(),this.setLoadingMessage(zo),this.setState({searchQuery:"",items:this.getDropdownItems([],"",e),activeItemIndex:0,activeParameterIndex:e,parameterValues:t,mouseMoved:!1,errorMessage:null,placeholderWidth:void 0,hidePluginName:a})}tryRunWithIterateParameters(e){return"keep"===e?(this.props.terminate(),this.props.dispatch(lZ.yi()),!0):"feedback"===e?(J.default.unsafeRedirect("https://forms.gle/FZSNDD5Ne6z9j3cb7","_blank"),this.props.terminate(),this.props.dispatch(lZ.yi()),!0):void 0}runWithParameters(e){if(this.setState({parameterValues:e}),this.props.handler.then(async t=>{await (0,ze.I)(this.runArgs),t.triggerRunEvent({command:"parameters",parameters:e})}),this.runArgs){let t=this.runArgs;if(this.runArgs=null,t.queryMode=!1,t.deferRunEvent=!1,t.parameterValues=e,this.props.recentlyUsedCommandName){let e=this.props.recentlyUsedCommandName;this.props.dispatch(ti.a2({currentDisplayName:e,newCommand:{displayName:e,runPluginArgs:t}}))}(0,tX.ar)(t)}this.ranWithParameters=!0,this.setState({loadingMessage:"Running...",items:[]}),this.props.supportsFollowupActions||this.onFinish()}renderResults(){if("middle"===this.state.activeParameterIndex)return W.createElement("div",{className:zn.M5},W.createElement("div",{className:zn.kv},W.createElement("div",{className:zn.MX},W.createElement(ex.Tx,{id:"fullscreen_actions.plugin_parameters.tab"})),W.createElement("div",{className:zn.Sq},W.createElement(ex.Tx,{id:"fullscreen_actions.plugin_parameters.to_enter_optional_parameters"}))),W.createElement("div",{className:zn.kv},W.createElement("div",{className:zn.MX},W.createElement(ex.Tx,{id:"fullscreen_actions.plugin_parameters.enter"})),W.createElement("div",{className:zn.Sq},W.createElement(ex.Tx,{id:"fullscreen_actions.plugin_parameters.to_run_plugin"}))));if("final"===this.state.activeParameterIndex)return null;let e=this.state.parameters[this.state.activeParameterIndex],t=null;if(this.state.errorMessage?t=W.createElement("div",{className:za.WK},this.state.errorMessage):this.state.loadingMessage&&(t=W.createElement("div",{className:za.WK},W.createElement(l7.M7,{shouldMatchTextColor:!0,className:ap.cx.mr8.$}),this.state.loadingMessage)),0===this.state.items.length)return t;let n=t?this.state.items.length+1:this.state.items.length;return W.createElement(zt.y,{ref:this.scrollContainerRef,resultCount:n,compact:this.props.compact},this.state.items.map((t,n)=>this.renderResult(e,t,n)),t)}renderCurrentParameters(){var e,t,n;let a=null==(e=this.getCurrentParameter())?void 0:e.key,r=(t=this.state.parameters,n=this.state.parameterValues,t.filter(e=>n[e.key]&&e.key!==a).map(e=>n[e.key]&&W.createElement(zu,{icon:z_(n[e.key],zn.mA),key:e.key,value:n[e.key].name})));return W.createElement(W.Fragment,null,W.createElement(zu,{key:"plugin-name",value:this.state.hidePluginName?void 0:this.props.displayName,icon:this.props.actionIcon}),r)}placeholderElement(){let e=this.state.activeParameterIndex,t=this.state.searchQuery.length>0;if("final"===e)return W.createElement(W.Fragment,null);if("middle"===e){let e=(0,l8.Ib)(this.state.parameters.map(e=>e.optional?e.name:null)).join(", ");return W.createElement("span",{ref:this.primaryPlaceholderTextRef},W.createElement(ex.Tx,{id:"fullscreen_actions.plugin_parameters.optional_optional_names",optionalNames:e}))}{let n=this.state.parameters[e],a=this.state.parameters.slice(e);if(n.optional){let e=a.map(e=>e.name);return t&&(e[0]=""),W.createElement("span",{ref:this.primaryPlaceholderTextRef},e.join(", "))}{let e=(0,l8.Ib)(a.map(e=>e.optional?null:e.name)),n=(0,l8.Ib)(a.map(e=>e.optional?e.name:null));return t&&(e[0]=""),W.createElement("span",null,W.createElement("span",{ref:this.primaryPlaceholderTextRef},e.join(", ")),n.length>0&&W.createElement(W.Fragment,null,W.createElement("span",{className:zn.YO,key:"divider"},"|"),W.createElement("span",{key:"optionalParams"},W.createElement(ex.Tx,{id:"fullscreen_actions.plugin_parameters.optional_optional_names",optionalNames:n.join(", ")}))))}}}render(){let e=this.getCurrentParameter(),t=null==e?void 0:e.description,n=this.placeholderElement(),a="final"===this.state.activeParameterIndex?zn.o3:zn.Y4,r={minWidth:this.state.placeholderWidth?`${this.state.placeholderWidth}px`:void 0},l=this.renderResults();return W.createElement(zt.W,{recordingKey:this.props.recordingKey||"",onKeyDown:this.onKeyDown,compact:this.props.compact},W.createElement("div",{className:za.kv},W.createElement(eN.A,{svg:zl.c,className:za.I6}),W.createElement("div",{className:zn.Ud,ref:this.searchBarRef},this.renderCurrentParameters(),W.createElement("div",{className:a},W.createElement("input",{ref:this.searchInputRef,className:zn.mm,onChange:this.onSearchChange,value:this.state.searchQuery,maxLength:150,spellCheck:!1,style:r}),W.createElement("div",{className:zn.QY},W.createElement("div",{className:zn._I},W.createElement("span",{className:zn.ye},this.state.searchQuery),n))))),!!t&&W.createElement("div",{className:q()({[zn.qq]:!0,[zn.ic]:!l})},t),l)}}zd.displayName="PluginParameterEntry";let zm=(0,Y.Ul)(function(e){let t=e.selectedView.editorType;return{openFile:e.openFile,publishedPlugins:e.publishedPlugins,publishedWidgets:e.publishedWidgets,allSavedPlugins:e.installedPluginVersions.plugins,localExtensions:e.localPlugins,orgEntity:(0,tx.or)(e),org:e.currentUserOrgId?e.orgById[e.currentUserOrgId]:null,editorType:t,userCanRunPlugins:(0,n$.gp)(e),activeTextReviewPlugin:e.mirror.appModel.activeTextReviewPlugin}},function(e){return{dispatch:e}})(zd);function zu(e){return W.createElement("div",{className:zn.Oq},e.icon&&W.createElement("span",null,e.icon),e.value&&W.createElement("span",null,e.value))}class zp extends lI.UR{constructor(){super(...arguments),this.onClick=lI.yw(this,"click",e=>{if(!this.props.onClick)return lI.Cy;this.props.onClick(e)})}render(){let e=`${this.props.active?za.Qb:za.aG}`;return W.createElement("div",{className:e,onClick:this.onClick,onMouseMove:this.props.onMouseMove,onMouseEnter:this.props.onMouseEnter},W.createElement("div",{className:za.i4},this.props.icon),W.createElement("div",{className:zn.GW},W.createElement("div",{className:za.aS},this.props.suggestion)))}}function z_(e,t){let n="";if(e.iconUrl)n=e.iconUrl;else if(e.icon&&"string"==typeof e.icon)n="data:image/svg+xml;base64,"+X7.H9(e.icon);else{if(!e.icon||"string"==typeof e.icon)return;n="data:application/octet-stream;base64,"+X7.OW(e.icon)}return W.createElement(zE,{className:t,src:n})}zp.displayName="ParameterSuggestion";class zE extends lI.UR{render(){let e=new URL(this.props.src);return e.hostname===window.location.hostname?((0,tO.oP)(l9._.EXTENSIBILITY,Error("same-origin URL blocked in UntrustedImage")),W.createElement(W.Fragment,null)):["https:","http:","data:","blob:"].includes(e.protocol)?W.createElement("img",{src:this.props.src,className:this.props.className,crossOrigin:"anonymous",alt:""}):((0,tO.oP)(l9._.EXTENSIBILITY,Error("Unexpected protocol blocked in UntrustedImage")),W.createElement(W.Fragment,null))}}zE.displayName="UntrustedImage";var zg=n(935680);class zh extends lI.UR{constructor(e){super(e),this.runArgs=null,(0,tO.Ij)("PluginParameterEntry","Starting parameter entry for plugin",{parameters:e.parameters,displayName:e.displayName,parameterOnly:e.parameterOnly,pluginId:e.pluginId,pluginLocalFileId:e.pluginLocalFileId,command:e.command}),this.handler=this.runPlugin()}runPlugin(){var e;let t=null;if(this.props.pluginId?this.props.allSavedPlugins[this.props.pluginId]?t=this.props.allSavedPlugins[this.props.pluginId]:this.props.publishedPlugins[this.props.pluginId]&&(t=(0,iA.Y9)(this.props.publishedPlugins[this.props.pluginId])):this.props.pluginLocalFileId&&(t=this.props.localExtensions[this.props.pluginLocalFileId]),!t||!(0,iA.UN)({plugin:t,publishedPlugins:this.props.publishedPlugins,orgEntity:this.props.orgEntity,editorType:this.props.editorType}))throw Error("Plugin not runnable");this.runArgs={plugin:t,command:this.props.command||"",queryMode:!0,runMode:"default",triggeredFrom:"parameter-entry",openFileKey:(null==(e=this.props.openFile)?void 0:e.key)||"",deferRunEvent:!0,isWidget:!1};let n=(0,gT.K)();return cR.m.instance.enqueue({mode:"run-forever",runPluginArgs:this.runArgs}),n}render(){return W.createElement(zm,{displayName:this.props.displayName,parameterOnly:this.props.parameterOnly,triggeredFrom:this.props.triggeredFrom,onExitParameterEntry:this.props.onExitParameterEntry,parameters:this.props.parameters,actionIcon:function(e,t,n){if(!n)return W.createElement(eN.A,{className:zn.mA,svg:zg.c,ariaLabel:"plugin icon"});{let a=e[n];return a||(a=t[n]&&(0,iA.Y9)(t[n])),W.createElement(lL.W,{className:zn.mA,plugin:a,alt:"plugin icon"})}}(this.props.allSavedPlugins,this.props.publishedPlugins,this.props.pluginId),onAnalyticsEvent:()=>{var e;let t,n,a,r;return e=this.props,t=0,n=0,a=0,r=0,e.parameters.forEach(e=>{let l=!!e.optional,i=!l,o=!!e.allowFreeform;t+=i?1:0,a+=l?1:0,n+=i&&o?1:0,r+=l&&o?1:0}),{pluginId:e.pluginId,pluginLocalFileId:e.pluginLocalFileId,command:e.command,source:e.pluginId?"imported":"development",displayName:e.displayName,paramCount:t+a,freeformParamCount:n+r,requiredParamCount:t,requiredFreeformParamCount:n,optionalParamCount:a,optionalFreeformParamCount:r,parameterOnly:e.parameterOnly,pluginRunID:(0,lO._s)(),triggeredFrom:e.triggeredFrom}},terminate:lO.qu,handler:this.handler,defaultLoadingMessage:"Loading plugin...",supportsFollowupActions:!1,compact:this.props.compact})}}zh.displayName="PluginParameterEntry";let zf=(0,Y.Ul)(function(e){let t=e.selectedView.editorType;return{openFile:e.openFile,publishedPlugins:e.publishedPlugins,publishedWidgets:e.publishedWidgets,allSavedPlugins:e.installedPluginVersions.plugins,localExtensions:e.localPlugins,orgEntity:(0,tx.or)(e),org:e.currentUserOrgId?e.orgById[e.currentUserOrgId]:null,editorType:t,userCanRunPlugins:(0,n$.gp)(e),activeTextReviewPlugin:e.mirror.appModel.activeTextReviewPlugin}},function(e){return{dispatch:e}})(zh);var zv=n(754752);function zy(e){var t;let[n,a]=W.useState(),[r,l]=W.useState(!0),i=(0,Y.w1)(e=>e.dropdownShown),o=(0,Y.OY)();if(W.useEffect(()=>{r&&(l(!1),e.parameterEntryArgs&&a({args:e.parameterEntryArgs}))},[e.parameterEntryArgs,r]),(0,nf.IJ)(i))return W.createElement(X9.oB,null);if(!n)return W.createElement(zv.EZ,{recordingKey:"quickActions",onStartParameterEntry:(e,t,n)=>{let r;switch(n){case"tab":r="quick-actions-tab";break;case"enter":r="quick-actions-enter";break;case"click":r="quick-actions-click";break;default:(0,cL.gy)(n)}a({args:{...e,triggeredFrom:r},item:t})},onEnterComponentSearch:()=>{o(lZ.Qn({type:nf._s,data:{entryPoint:X9.Mv.MENU_OPTION}}))},compact:!!e.compact,withWand:!0});{let{args:r,item:l}=n,i=l?(0,ay.E)(l):void 0;return W.createElement(zf,{recordingKey:"parameterEntry",parameters:r.parameters,displayName:r.displayName,pluginId:r.pluginId,pluginLocalFileId:r.pluginLocalFileId,command:r.command,triggeredFrom:r.triggeredFrom,parameterOnly:r.parameterOnly,onExitParameterEntry:()=>{a(void 0)},initialParameterValues:null==(t=null==l?void 0:l.runPluginArgs)?void 0:t.parameterValues,recentlyUsedCommandName:i,compact:!!e.compact})}}var zC=n(220180),zw=n(443304),zb=n(135456),zT=n(390696);let zx="stack_controls--input--gK1jo text--fontNeg12--2PWcg text--_fontBase--QdLsd text--_negText--j9g-L",zk="stack_controls--scrubbableControl--b1ChI",zN="stack_controls--inputSvg--wFizL",zS="stack_controls--stackSpacingRow--Uus3H";function zI(){let e=(0,eD.s5)(eM.KEP.canvasViewState().focusedStackRegion);if(!e)return null;let{region:t,focus:n}=e;return t===eM.ODV.SPACING?W.createElement(zO,{focusOnMount:n}):t===eM.ODV.COUNTER_SPACING?W.createElement(zM,{focusOnMount:n}):W.createElement(zP,{stackRegion:t,focusOnMount:n})}let zA=e=>{if(e.keyCode===ee.as.TAB){e.preventDefault(),e.currentTarget.blur();let t=e.shiftKey;eM._8i.tabActiveStackRegion(t)}};function zO({focusOnMount:e}){return W.createElement(s$.WA,{className:zS},W.createElement(zT.q,{focusOnMount:e,outerClassName:zk,inputClassName:zx,svgClassName:zN,onBlur:eM._8i.clearActiveStackRegion,onKeyDown:zA,onPaste:zL,noBorderOnFocus:!0,recordingKey:"stackSpacingControl",inputTestId:"stackSpacingControl",source:"canvas",onCanvasUI:!0}))}function zM({focusOnMount:e}){return W.createElement(s$.WA,{className:zS},W.createElement(zw.m,{focusOnMount:e,outerClassName:zk,inputClassName:zx,svgClassName:zN,onBlur:eM._8i.clearActiveStackRegion,onKeyDown:zA,onPaste:zL,noBorderOnFocus:!0,recordingKey:"stackCounterSpacingControl",inputTestId:"stackCounterSpacingControl",source:"canvas",onCanvasUI:!0}))}function zP({stackRegion:e,focusOnMount:t}){let[n]=(0,HW.Q5)(e),a=Array.isArray(n)?n.length:0;return e===eM.ODV.SPACING?null:W.createElement(s$.WA,{className:q()("stack_controls--stackPaddingRow--40WUa",{"stack_controls--large--bJFUN":a>3})},W.createElement(zb.S,{paddingSelection:e,focusOnMount:t,outerClassName:zk,inputClassName:zx,onBlur:eM._8i.clearActiveStackRegion,onKeyDown:zA,onPaste:zL,noBorderOnFocus:!0,svgClassName:zN,recordingKey:"stackPaddingControl",inputTestId:"stackPaddingControl",source:"canvas",disableVariablesEntryPoint:!0}))}function zL(e){(0,zC.qy)(e)&&(e.preventDefault(),e.currentTarget.blur(),EG.Pc.user("paste-in-stack",()=>{eM.i46.triggerAction("paste",{})}))}let zD=W.memo(function(){return(0,Y.w1)(e=>e.mirror.appModel.isReadOnly)?null:W.createElement(zR,null)});function zR(){return W.createElement(X3.uX,{isShown:!0},W.createElement(X8.Eg,null,W.createElement(zF,{testID:"DesignInlineMenu"})))}function zF({testID:e}){let t=(0,Y.w1)(e=>{let t=e.mirror.selectionProperties.stackMode;return 1===e.mirror.selectionProperties.numSelected&&("HORIZONTAL"===t||"VERTICAL"===t)}),n=(0,Y.w1)(e=>{let t=e.mirror.selectionProperties.selectedWidgetInfo;return!!(1===e.mirror.selectionProperties.numSelected&&(null==t?void 0:t.propertyMenu.length))}),a=(0,Y.w1)(e=>{var t;return(null==(t=e.dropdownShown)?void 0:t.type)===eR.mL});return n?W.createElement(Y8.iS,{size:"small",testID:e},W.createElement(X4.cn,null),W.createElement(X6.y,null)):t?W.createElement(Y8.iS,{testID:e,darkModePreferred:!0},W.createElement(zI,{key:"stackControls"})):a?W.createElement(zy,{key:"quick-actions-with-wand",compact:!0}):null}let zB="multi_edit_offscreen_indicators--indicatorGraphicBlue--rtnWM",zU="multi_edit_offscreen_indicators--indicatorGraphicPurple--1O1nb",zK=(0,nF.qe)(n5.QDY),zG=(0,nF.qe)(n5.Ifd),zH=(0,nF.qe)(n5.Kv5),zV=(0,nF.qe)(n5.gVP);function zW(){let e=(0,dZ.A9)("selectionRegions"),t=(0,nQ.kB)(e),n=(0,Y.w1)(e=>"fullscreen"===e.selectedView.view&&"design"===e.selectedView.editorType),a=n&&!!t&&t.length>=1,r=(0,eB.OM)({subscribeToUpdates_expensive:a});return n&&r&&t?W.createElement(zY,{viewportInfo:r,selectionRegions:t}):null}function zY({viewportInfo:e,selectionRegions:t}){let n=(0,W.useContext)(yd.O2),a=(0,W.useMemo)(()=>n.getCommentsWrapperOffset(e),[n,e]),r=a.x,l=a.y,i={transform:`translate(${r}px, ${l}px)`},o="ui3"===(0,X.qG)().version,s=(0,ru.O)(),c=(0,Y.w1)(e=>{var t;return null==(t=e.mirror)?void 0:t.appModel.showUi}),d=(0,eP.wq)()+(s?zH:zK),m=(0,eP.O8)()+d+(s?zH:zG),{isLeftPanelCollapsed:u}=(0,uh.uA)(),p=(o&&c&&!u?d:0)-3.5,_=(o&&c?m:0)-7,E=(0,eD.s5)((0,eP.EB)().renderRulers)&&c?zV:0,g={x:p+E,y:-3.5+E,width:e.width-_-E,height:e.height- -7-E},h={x:p+E,y:-3.5+E,width:e.width-_-E,height:e.height- -7-E};return W.createElement(W.Fragment,null,W.createElement(HN.s,null,W.createElement("div",{"aria-hidden":!0,"data-forward-events-to-fullscreen":!0,className:"multi_edit_offscreen_indicators--overlay--NcZeV",style:i},!!(null==t?void 0:t.length)&&W.createElement("div",null,t.map((t,n)=>{let a=(0,eB.Qv)(e,{x:t.bounds.x,y:t.bounds.y}),r=(0,eB.Qv)(e,{x:t.bounds.x+t.bounds.width,y:t.bounds.y+t.bounds.height}),l={x:a.x,y:a.y,width:r.x-a.x,height:r.y-a.y};return l.x<g.x+g.width&&l.x+l.width>g.x&&l.y+l.height>g.y&&l.y<g.y+g.height?null:W.createElement(zj,{key:n,viewportBounds:h,viewportInfo:e,indicatorViewportBounds:l,selectionBoundsScaledWidth:function(e,t){let n=Math.max(e.x,t.x);return Math.max(Math.min(e.x+e.width,t.x+t.width)-n,10)}(l,h),selectionBoundsScaledHeight:function(e,t){let n=Math.max(e.y,t.y);return Math.max(Math.min(e.y+e.height,t.y+t.height)-n,10)}(l,h),selectionRegionType:t.regionType})})))))}function zj({viewportBounds:e,viewportInfo:t,indicatorViewportBounds:n,selectionBoundsScaledWidth:a,selectionBoundsScaledHeight:r,selectionRegionType:l}){let i=function(e,t){let n=0-t.x,a=0+e.width-t.x,r=0-t.y,l=0+e.height-t.y,i=Math.abs(n)<a?n:a,o=Math.abs(r)<l?r:l,s=n<0!=a<0,c=r<0!=l<0;return s&&c?Math.abs(i)<Math.abs(o)?{x:t.x+i,y:t.y}:{x:t.x,y:t.y+o}:!s&&c?{x:t.x+i,y:t.y}:s&&!c?{x:t.x,y:t.y+o}:{x:t.x+i,y:t.y+o}}(t,{x:n.x+n.width/2,y:n.y+n.height/2});i.x-=a/2,i.y-=r/2;let o=(0,Y.w1)(e=>{var t;return null==(t=e.mirror)?void 0:t.appModel.showUi}),s=(0,eD.s5)((0,eP.EB)().renderRulers)&&o?zV:0,c="ui3"===(0,X.qG)().version,d=(0,ru.O)(),m=(0,eP.wq)()+(d?zH:zK),u=(0,eP.O8)()+(d?zH:zG),{isLeftPanelCollapsed:p}=(0,uh.uA)(),_=1+(o&&c&&!p?m+1:0)+s,E=Math.max(_,t.width-1-a-(o&&c?u+1:0)),g=1+s,h=Math.max(g,t.height-1-r-1),f=nU.Cg.bound(i,{min:{x:_,y:g},max:{x:E,y:h}}),v=n.y+n.height<e.y,y=n.y>e.y+e.height,C=n.x+n.width<e.x,w=n.x>e.x+e.width;f.x+=t.x,f.y+=t.y;let b=Math.min(t.width-2-(o&&c?u+m:0),a),T=Math.min(t.height-2,r);return W.createElement("div",{className:"multi_edit_offscreen_indicators--indicator--taq8e",style:{transform:`translate3D(${f.x}px, ${f.y}px, 0)`}},(v||y)&&W.createElement("div",{style:{position:"absolute",height:1.5,width:b,marginTop:y?T-1.5:0},className:q()({[zB]:l===EV.IL.MIXED_OR_NO_SYMBOLS,[zU]:l===EV.IL.SYMBOLS_ONLY})}),(C||w)&&W.createElement("div",{style:{position:"absolute",left:0,height:T,width:1.5,marginLeft:w?b-1.5:0},className:q()({[zB]:l===EV.IL.MIXED_OR_NO_SYMBOLS,[zU]:l===EV.IL.SYMBOLS_ONLY})}))}function zX(){let e=(0,ei.my)(KS._2),t=(0,KI.kZ)((0,eo.m4)(KS.K6));return(0,$.Ub)().cursor_bot&&t?W.createElement("div",{className:GI.cL,"data-testid":"cursor-bot-fullscreen-event-blocker",onClick:()=>{e(!0)}}):null}var zz=n(888684);function zq(e){let t;let n=(0,_2.AP)(),a=(0,eP.EB)().propertiesPanelSplitPosition.getCopy(),r=(0,tw.KG)(),{isPropertiesPanelCollapsed:l}=(0,_Q.I)(),i=(0,ru.O)(),o=(0,eP.EB)().renderRulers.getCopy();return"dev_handoff"===r?t={right:n}:i&&(t={right:`calc(${a}px + ${(0,nF.qe)(n5.Kv5)}px)`,top:`${(0,nF.qe)(n5.Kv5)}px`},l&&(t={...t,right:`calc(260px + ${(0,nF.qe)(n5.Kv5)}px)`}),o&&(t={...t,top:`calc(${(0,nF.qe)(n5.Kv5)}px + ${(0,nF.qe)(n5.gVP)}px)`})),W.createElement("div",{style:t,className:q()("nav_container--flexContainer--3Us-2 nav_container--baseContainer--QideS overflow--overflowYAuto--nfK38 overflow--momentumScroll--qtsu7",eR.cp,e.className)},e.children)}function zZ(e,t,n,a){let r;let{padding:l,margin:i,...o}=(0,Y.w1)(e=>e.mirror.appModel.onCanvasNameEditorInfo),s=(0,eB.OM)({subscribeToUpdates_expensive:!0}),c=(null==s?void 0:s.zoomScale)||1,[d,m]=W.useState(e),[u,p]=W.useState(!0),_=W.useRef(null),E=W.useRef(null),[g,h]=W.useState(0),[f,v]=W.useState(!1),y=W.useCallback(e=>{switch(o.mode){case eM.UBf.FRAME_NAME:h(Math.min(e,a*c)+7);break;case eM.UBf.SECTION_NAME:let t=a*c;e<t?h(e):h(t-2*i.x);break;case eM.UBf.FLOW_STARTING_POINT_NAME:h(Math.min(e,a)+4)}},[o.mode,a,c,i.x]);W.useLayoutEffect(()=>{E.current&&y(E.current.scrollWidth)},[d,y]),W.useEffect(()=>{e&&(p(!0),m(e))},[e]),W.useEffect(()=>{let e=e=>{let t=!(_.current&&_.current.contains(e.target)),n=document.querySelector('[data-resource-id="rename-selection"]'),a=e.target&&n&&n.contains(e.target);t&&!a&&eM.i46.hideOnCanvasNameEditor()};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[]);let C=lI.ic("onCanvasRename","change",e=>{m(e.target.value)}),w=lI.ag("onCanvasRename","keydown",e=>{if(!f)switch(e.key){case"Escape":case"Enter":case"Tab":e.preventDefault(),p(!1),n(t,d),tA.CA.commit(),eM.i46.hideOnCanvasNameEditor();break;case"=":case"-":(0,ee.Mr)(e)&&(0,ai.Mz)(e,!0)}});if(!t||!s)return null;let b={},T=(0,eB.Qv)(s,{x:o.x,y:o.y},!1),x={x:T.x+s.x,y:T.y+s.y};switch(o.mode===eM.UBf.FLOW_STARTING_POINT_NAME&&(x.x-=32+g,x.y=Math.round(x.y)),b.transform=`translate(${x.x}px, ${x.y}px) rotate(${o.angle}deg)`,o.mode){case eM.UBf.FRAME_NAME:r="on_canvas_name_editor--frameNameInput--VpLPf sf_pro--uiFontWithSFProFallback--m-p9V";break;case eM.UBf.FLOW_STARTING_POINT_NAME:r="on_canvas_name_editor--flowStartingPointNameInput--lLEZF"}return{containerRef:_,measurerRef:E,containerStyle:b,inputClassname:r,editingName:d,onFocus:e=>{e.target.select(),E.current&&y(E.current.scrollWidth)},onChange:C,onKeyDown:w,onBlur:e=>{u&&(n(t,e.target.value),tA.CA.commit(),e.relatedTarget&&"focus-target"===e.relatedTarget.className&&eM.i46.hideOnCanvasNameEditor())},width:g,setIsComposing:v}}function zQ(e){let t=(0,dW.wB)(),n=zZ(e.name,t,e.setName,e.maxWidth);if(!n)return null;let{containerRef:a,measurerRef:r,containerStyle:l,editingName:i,onFocus:o,onChange:s,onKeyDown:c,onBlur:d,width:m,setIsComposing:u,inputClassname:p}=n;return W.createElement("div",{ref:a,className:q()(e.containerClassname,eR.cp,"on_canvas_name_editor--containerOnLight--6zUKs"),style:l},W.createElement("span",{ref:r,className:"on_canvas_name_editor--measurer--KTnSp"},i),W.createElement("input",{autoFocus:!0,dir:"auto",className:p,style:{width:`${m}px`},value:i,onFocus:o,onChange:s,onKeyDown:c,onBlur:d,autoComplete:"off",autoCorrect:"off",autoCapitalize:"off",spellCheck:!1,onCompositionEnd:()=>u(!1),onCompositionStart:()=>u(!0)}))}function zJ(){let e=(0,Y.w1)(e=>e.mirror.selectionProperties.name),t=(0,Y.w1)(e=>e.mirror.selectionProperties.width);return e&&t?W.createElement(zQ,{name:e,setName:(t,n)=>{e&&(K0.qM.reportEditActionIf(e!==n,"rename-frame"),EG.Pc.user("rename-frame",()=>eL.gc(t,n)))},maxWidth:t}):null}function z$(){var e;let[t,n]=(0,dZ.H4)("prototypeStartingPoint"),a=(null==(e=(0,nQ.kB)(t))?void 0:e.name)||"";return a?W.createElement(zQ,{name:a,setName:(e,a)=>{var r,l;a&&n({name:a,description:(null==(r=(0,nQ.kB)(t))?void 0:r.description)||"",position:(null==(l=(0,nQ.kB)(t))?void 0:l.position)||""})},maxWidth:93,containerClassname:"on_canvas_name_editor--flowStartingPointNameContainer--JdVwd"}):null}function z0(){let e=(0,Y.w1)(e=>e.mirror.selectionProperties.name),t=(0,Y.w1)(e=>e.mirror.selectionProperties.width);return null!=e&&t?W.createElement(z1,{name:e,setName:(t,n)=>{K0.qM.reportEditActionIf(e!==n,"rename-section"),EG.Pc.user("rename-section",()=>eL.gc(t,n?n.trim():""))},maxWidth:t}):null}function z1(e){let{name:t,setName:n,maxWidth:a}=e,r=(0,dW.wB)(),l=zZ(t,r,n,a),i=(0,Y.w1)(e=>e.mirror.appModel.activeCanvasEditModeType===eM.a_v.DESIGN_LAYOUT),{fontSize:o,top:s,left:c,height:d,horizontalPadding:m,verticalPadding:u,borderRadius:p}=function(e,t,n){let{fontSize:a,padding:r,margin:l,cornerRadius:i}=(0,Y.w1)(e=>e.mirror.appModel.onCanvasNameEditorInfo),o=eM.Y57.editorTypeConfig().showBigSectionNamePills(),s=r.x,c=r.y,d=o?24:2*r.y+a,m=0,u=-l.y-d,p=eM.Y57.editorTypeConfig().sectionNestedZoomLevel();return(!e||t<=p)&&(m=l.x,u=l.y),{fontSize:a,height:d,top:u,left:m,horizontalPadding:s,verticalPadding:c,borderRadius:i}}((0,Y.w1)(e=>{if(null===r)return!1;let t=e.mirror.sceneGraph.get(r),n=e.mirror.appModel.currentPage,a=!!(null==t?void 0:t.isResponsiveSet);return t&&("SECTION"===t.type||a)&&t.parentGuid===n}),Math.round(100*(0,eB.OM)({subscribeToUpdates_expensive:!0}).zoomScale),0);if(!l)return null;let{containerRef:_,measurerRef:E,containerStyle:g,editingName:h,onFocus:f,onChange:v,onKeyDown:y,onBlur:C,width:w,setIsComposing:b}=l,T=i?"normal":500;return W.createElement("div",{ref:_,className:`on_canvas_name_editor--sectionNameContainer--D8aez ${eR.cp}`,style:g},W.createElement("span",{ref:E,className:"on_canvas_name_editor--sectionMeasurer--kfBij",style:{fontSize:o,fontWeight:T,paddingLeft:m,paddingRight:m,paddingTop:u,paddingBottom:u}},h),W.createElement("input",{autoFocus:!0,dir:"auto",className:"on_canvas_name_editor--sectionNameInput--MgIUi",style:{width:`${w}px`,fontSize:o,fontWeight:T,left:c,top:s,height:d,borderRadius:p,paddingLeft:m,paddingRight:m,paddingTop:u,paddingBottom:u},value:h,onFocus:f,onChange:v,onKeyDown:y,onBlur:C,autoComplete:"off",autoCorrect:"off",autoCapitalize:"off",spellCheck:!1,onCompositionEnd:()=>b(!1),onCompositionStart:()=>b(!0)}))}function z2(){var e;let t=null==(e=function(){let e=(0,Y.w1)(e=>e.mirror.appModel.onCanvasPillInfo);return(0,_d.eM)((e,t)=>t&&0!==t.length?t.map(t=>{let n=e.get(t.guid);if(!n||"-1:-1"===n.guid)return null;let a={guid:n.guid,name:n.name,type:n.type,boundingBox:n.absoluteBoundingBox,isFigmaPurple:t.isFigmaPurple,hasEnabledStaticImagePaint:n.hasEnabledStaticImagePaint,isState:n.isState,isStateGroup:n.isStateGroup,stackCounterAlignItems:n.stackCounterAlignItems,stackMode:n.stackMode,isGroup:n.isGroup,objectsPanelThumbnailId:n.objectsPanelThumbnailId};if(a.isState&&t.symbolId){let n=e.get(t.symbolId);a.symbolName=null==n?void 0:n.name}return a}):null,e)}())?void 0:e[0];return t?W.createElement(eZ,{node:t,offset:-3},W.createElement("div",{className:"on_canvas_pill--row--I6QoB"},W.createElement(eQ,{node:t}),W.createElement("span",{className:"on_canvas_pill--pillText--ts0Xi ellipsis--ellipsis--Tjyfa"},t.symbolName?t.symbolName:t.name))):null}var z5=n(809260),z3=n(148380),z4=n(78168);function z6({background:e}){let t=W.useContext(yd.O2),n={background:e};return t&&(n={...n,width:`${t.getViewportInfo().width}px`,height:`${t.getViewportInfo().height}px`,top:`${t.getViewportInfo().y}px`,left:`${t.getViewportInfo().x}px`}),W.createElement("div",{className:"loading_overlay--pageSyncing--9AqbU"},W.createElement("div",{className:q()("loading_overlay--blurredOverlay--79bya",eR.cp),style:n}),W.createElement(l7.Y1,{className:"loading_overlay--pageSyncingSpinner--rjAvP"}))}function z8(){var e;let t=(0,rH.qM)(),n=(0,Y.w1)(e=>e.selectedView),a=null==(e=(0,Y.w1)(e=>e.versionHistory))?void 0:e.isLoadingPage,r=(0,pD.qG)(),{isLoading:l}=(0,z4.Ar)({selectedView:n,isLoadingVersionHistory:a,theme:r}),i=(0,Y.w1)(e=>e.mirror.appModel.multiplayerSessionState),o=(0,z3.Q7)(),s=(0,Y.OY)(),[c,d]=W.useState(null),m=(0,rb.i)(l);return W.useEffect(()=>{if((0,$.Ub)().long_page_change_notif){if(eM.Abq.isIncrementalSession()&&l)l!==m&&o&&i!==eM.XcX.JOINED&&(d(Date.now()),s(ek.A.enqueue({message:"Page change may take longer during staging deploy",error:!1,delay:3e3,type:"long-page-change",timeoutOverride:1/0})));else{let e=c?Date.now()-c:0;e<3e3||e>9e3?(s(ek.A.dequeue({matchType:"long-page-change"})),d(null)):setTimeout(()=>{s(ek.A.dequeue({matchType:"long-page-change"})),d(null)},Math.max(0,9e3-e))}}},[l,i,o,s,c,m]),W.createElement(z9,{onPageLoadingFinish:e=>{t("page_loading_overlay",{timeElapsedMs:e})},selectedView:n,isLoadingVersionHistory:a,theme:r})}function z9({onPageLoadingFinish:e,selectedView:t,isLoadingVersionHistory:n,theme:a}){let{isLoading:r,background:l}=(0,z4.Ar)({selectedView:t,isLoadingVersionHistory:n,theme:a});return((0,W.useEffect)(()=>{if(!r){let t=rx.sr.tryStop("page_loading_overlay");t&&e&&e(t)}},[r,e]),r)?(rx.sr.get("page_loading_overlay")||rx.sr.start("page_loading_overlay"),W.createElement(z6,{background:l})):null}var z7=n(79276),qe=n(499752),qt=n(953068),qn=n(996572),qa=n(308628),qr=n(403660);let ql=new cN.Q9,qi=new cN.Ir;class qo extends aZ.cb{}class qs extends aZ.M1{}function qc({action:e}){return W.createElement("div",{className:"prototype_action_dropdown--prototypeActionIcon--qChhY"},W.createElement(sZ.e,{svg:(0,qa.QP)(e)},(0,qa.Ml)(e)))}function qd(e){let t=`prototype-action-select-${e.recordingKey}`,n=e.dropdownShown&&e.dropdownShown.type===t,a=(0,nQ.kB)(e.action),r=(0,qa.QP)(a),l=(0,qa.Ml)(a),i=!(0,Y.w1)(e=>e.mirror.selectionProperties.isValidPrototypingSourceSelected??!0),{hasValidVariableSets:o}=(0,qr.M)(),s=W.useCallback(e=>e-24,[]),c=W.useCallback(e=>e+24,[]);return W.createElement(qs,{disabled:i,id:t,dataTestId:"action-select",className:e.className+" prototype_action_dropdown--select--b3Ssx",chevronClassName:"prototype_action_dropdown--prototypeActionChevron--ZL1Q4",inputClassName:"prototype_action_dropdown--prototypeActionInputWithSvg--Atfua",property:e.action,formatter:n?ql:qi,onChange:e.onChange,dispatch:e.dispatch,dropdownShown:e.dropdownShown,svg:r,svgClassName:"prototype_action_dropdown--selectActionSvg--XfhUx",ui3Icon:l,recordingKey:lI.Mx(e,"select"),hideDropdownWhenContainerMoves:!(0,eE.g9)(),dropdownAlignment:s,dropdownWidth:c},W.createElement(qo,{key:"NONE",value:"NONE",icon:W.createElement(qc,{action:"NONE"}),recordingKey:lI.Mx(e,"clear-option"),disabled:!1}),W.createElement(aZ.Wy,null),W.createElement(qo,{key:"NAVIGATE_TO",value:"NAVIGATE_TO",icon:W.createElement(qc,{action:"NAVIGATE_TO"}),recordingKey:lI.Mx(e,"navigate-to-option"),disabled:!1}),W.createElement(qo,{key:"SWAP_STATE_TO",value:"SWAP_STATE_TO",icon:W.createElement(qc,{action:"SWAP_STATE_TO"}),recordingKey:lI.Mx(e,"swap-state-to-option"),disabled:!eM.i46.isSelectionContainedInStateOrStateInstance()}),W.createElement(qo,{key:"GO_BACK",value:"GO_BACK",icon:W.createElement(qc,{action:"GO_BACK"}),recordingKey:lI.Mx(e,"back-option"),disabled:!1}),W.createElement(aZ.Wy,null),W.createElement(qo,{key:"SET_VARIABLE",value:"SET_VARIABLE",icon:W.createElement(qc,{action:"SET_VARIABLE"}),recordingKey:lI.Mx(e,"set-variable"),disabled:!1}),o&&(0,$.Ub)().prototype_set_mode_action&&W.createElement(qo,{key:"SET_VARIABLE_MODE",value:"SET_VARIABLE_MODE",icon:W.createElement(qc,{action:"SET_VARIABLE_MODE"}),recordingKey:lI.Mx(e,"set-variable-mode"),disabled:!1}),!e.isNestedInConditional&&W.createElement(qo,{key:"CONDITIONAL",value:"CONDITIONAL",icon:W.createElement(qc,{action:"CONDITIONAL"}),recordingKey:lI.Mx(e,"conditional"),disabled:!1}),W.createElement(qo,{key:"SCROLL_TO",value:"SCROLL_TO",icon:W.createElement(qc,{action:"SCROLL_TO"}),recordingKey:lI.Mx(e,"scroll-to-option"),disabled:!1}),W.createElement(qo,{key:"OPEN_URL",value:"OPEN_URL",icon:W.createElement(qc,{action:"OPEN_URL"}),recordingKey:lI.Mx(e,"url-option"),disabled:!1}),W.createElement(aZ.Wy,null),W.createElement(qo,{key:"OPEN_OVERLAY",value:"OPEN_OVERLAY",icon:W.createElement(qc,{action:"OPEN_OVERLAY"}),recordingKey:lI.Mx(e,"open-overlay-option"),disabled:!1}),W.createElement(qo,{key:"SWAP_WITH",value:"SWAP_WITH",icon:W.createElement(qc,{action:"SWAP_WITH"}),recordingKey:lI.Mx(e,"swap-with-option"),disabled:!1}),W.createElement(qo,{key:"CLOSE_OVERLAY",value:"CLOSE_OVERLAY",icon:W.createElement(qc,{action:"CLOSE_OVERLAY"}),recordingKey:lI.Mx(e,"close-option"),disabled:!1}),e.showVideoActions&&W.createElement(aZ.Wy,null),e.showVideoActions&&W.createElement(qo,{key:"UPDATE_MEDIA_PLAY_PAUSE_OPTIONS",value:"UPDATE_MEDIA_PLAY_PAUSE_OPTIONS",icon:W.createElement(qc,{action:"UPDATE_MEDIA_PLAY_PAUSE_OPTIONS"}),recordingKey:lI.Mx(e,"update-media-play-pause-options"),disabled:!1}),e.showVideoActions&&W.createElement(qo,{key:"UPDATE_MEDIA_MUTE_UNMUTE_OPTIONS",value:"UPDATE_MEDIA_MUTE_UNMUTE_OPTIONS",icon:W.createElement(qc,{action:"UPDATE_MEDIA_MUTE_UNMUTE_OPTIONS"}),recordingKey:lI.Mx(e,"update-media-mute-unmute-options"),disabled:!1}),e.showVideoActions&&W.createElement(qo,{key:"UPDATE_MEDIA_SKIP_TO",value:"UPDATE_MEDIA_SKIP_TO",icon:W.createElement(qc,{action:"UPDATE_MEDIA_SKIP_TO"}),recordingKey:lI.Mx(e,"update-media-skip_to"),disabled:!1}),e.showVideoActions&&W.createElement(qo,{key:"UPDATE_MEDIA_SKIP_BY_OPTIONS",value:"UPDATE_MEDIA_SKIP_BY_OPTIONS",icon:W.createElement(qc,{action:"UPDATE_MEDIA_SKIP_BY_OPTIONS"}),recordingKey:lI.Mx(e,"update-media-skip-by-options"),disabled:!1}))}var qm=n(162280);let qu="prototype_interaction_panel--input--73Bse raw_components--flushLeft--YH-5P",qp="prototype_interaction_panel--titleAndIconRow--FG93L",q_="prototype_interaction_panel--conditionalActionRow--YQRe3",qE="prototype_action_verbose_title--actionNameInsertion--aF4kI",qg="prototype_action_verbose_title--actionName--qWJL3",qh="prototype_action_verbose_title--actionDestination--JZ-gU",qf=()=>{let e=(0,Y.w1)(e=>e.mirror.sceneGraph);return W.useMemo(()=>new cN.id(e),[e])};function qv({action:e,isNestedInConditional:t,isNarrowPanel:n}){var a;let r=t||n,l=(0,gm.c1)((0,nQ.EH)(e.targetVariable)?null==(a=e.targetVariable)?void 0:a.id:void 0),i=null==l?void 0:l.name,o=qf(),s=new cN.Ir,c=(0,cN.oy)(e),d=(0,nQ.kB)(c),m=(0,qa.QP)(d),u=e=>{if(!e.connectionType||(0,nQ.Er)(e.connectionType))return null;switch(e.connectionType){case"NONE":case"SET_VARIABLE_MODE":return null;case"INTERNAL_NODE":case"BACK":case"CLOSE":case"UPDATE_MEDIA_RUNTIME":{let t=e.transitionNodeID;if((0,nQ.Er)(t))return W.createElement("div",{className:qg},(0,ex.t)("proto.variant_actions.mixed"));if(void 0===t)return null;let n=sN.MR(t),a=o.format(n);return W.createElement("div",{className:qh},a)}case"URL":{let t=e.connectionURL;if(!t)return null;if((0,nQ.Er)(t))return W.createElement("div",{className:qg},(0,ex.t)("proto.variant_actions.mixed"));return W.createElement("div",{className:qh},t)}case"SET_VARIABLE":if(!e.targetVariableData||(0,nQ.Er)(e.targetVariableData))return null;return W.createElement("div",{className:"prototype_action_verbose_title--setVariablePreviewContainer--6omxy"},W.createElement(qe._C,{targetVariableData:e.targetVariableData,onClick:aC.Kw,showVariableThumbnails:!1,isNarrowPanel:r,isInConditional:!0}));case"CONDITIONAL":{if((0,nQ.Er)(e)||(0,nQ.Er)(e.conditionalActions)||!e.conditionalActions)return null;let t=e.conditionalActions.length>0?e.conditionalActions[0].condition:void 0;return W.createElement(qe._C,{targetVariableData:t,onClick:aC.Kw,isInConditional:!0,showVariableThumbnails:!1})}default:(0,cL.gy)(e.connectionType)}};return W.createElement("div",{className:r?"prototype_interaction_panel--actionVerboseTitleNarrow--KFbW0 prototype_interaction_panel--actionVerboseTitle--HKv2H":"prototype_interaction_panel--actionVerboseTitle--HKv2H"},W.createElement(oP.gR,{horizontalAlignItems:"space-between",width:"fill-parent"},W.createElement("div",{className:"prototype_action_verbose_title--iconContainer--jqarD"},W.createElement(eN.A,{svg:m})),(e=>{let t=d?s.format(d):"Undefined";if((0,nQ.Er)(e.connectionType)&&(t=(0,ex.t)("fullscreen.mixed")),!e.connectionType||(0,nQ.Er)(e.connectionType)||"NONE"===e.connectionType||"BACK"===e.connectionType||"CLOSE"===e.connectionType)return W.createElement(W.Fragment,null,W.createElement("div",{className:qg},t));var n=u(e);switch(e.connectionType){case"INTERNAL_NODE":if("SWAP_STATE"===e.navigationType&&(n=null),n){if("OVERLAY"===e.navigationType)return W.createElement(W.Fragment,null,W.createElement("div",{className:qE},W.createElement(ex.Tx,{id:"proto.action_overlay_title",overlayFrameName:W.createElement("span",null,n)})));if("SWAP"===e.navigationType)return W.createElement(W.Fragment,null,W.createElement("div",{className:qg},(0,ex.t)("proto.action_swap_overlay_title")),n)}return W.createElement(W.Fragment,null,W.createElement("div",{className:qg},t),n);case"UPDATE_MEDIA_RUNTIME":return W.createElement(W.Fragment,null,W.createElement("div",{className:qg},t),n);case"URL":return W.createElement(W.Fragment,null,W.createElement("div",{className:qg},n?(0,ex.t)("proto.action_url_title"):(0,ex.t)("proto.action_open_link")),n);case"SET_VARIABLE":{let a=e.targetVariableData&&(0,nQ.EH)(e.targetVariableData)&&e.targetVariableData.resolvedType===eM.y6c.COLOR;if(i&&n)return W.createElement(W.Fragment,null,W.createElement("div",{className:a?"prototype_action_verbose_title--actionNameInsertionColor--isir- prototype_action_verbose_title--actionNameInsertion--aF4kI":qE},W.createElement(ex.Tx,{id:"proto.action_set_variable_title",variableName:W.createElement("span",{className:"prototype_action_verbose_title--variableNameContainer--XeJX2"},W.createElement(cp.c,{text:i,isDeleted:!!l&&(0,qm._q)(l)})),variableValue:W.createElement("span",{className:"prototype_action_verbose_title--variableDestinationContainer--RXbKo prototype_action_verbose_title--variableNameContainer--XeJX2"},n)})));return W.createElement(W.Fragment,null,W.createElement("div",{className:qg},t))}case"SET_VARIABLE_MODE":return W.createElement(W.Fragment,null,W.createElement("div",{className:qg},(0,ex.t)("proto.action_set_variable_mode")));case"CONDITIONAL":return W.createElement(W.Fragment,null,W.createElement("div",{className:qg},(0,ex.t)("proto.action_conditional_title")),n);default:(0,cL.gy)(e.connectionType)}})(e)))}var qy=n(195260),qC=n(238152),qw=n(199612),qb=n(525064),qT=n(513568),qx=n(472936),qk=n(987904),qN=n(943344),qS=n(471052);let qI="overlay_panel--checkbox--yLINf",qA="overlay_panel--fplCheckboxRow--EYTAZ checkbox--_checkboxRow--oEhow",qO="overlay_panel--checkboxRow--m-Jlz checkbox--_checkboxRow--oEhow",qM="overlay_panel--label--ccwrm checkbox--_checkboxLabelMultiline--kcM-C";var qP=n(878588),qL=n(380848),qD=n(765336);let qR=qC.W0;function qF({interactionType:e,recordingKey:t,actionIndexPath:n,nodeId:a}){let[r,l]=W.useState(!1),[i,o]=W.useState(new nU.Cg),s=(0,qw.e)("fpl_checkbox_input"),c=(0,Y.OY)(),d=(0,ty.Ci)(),m="{ "+n.join(", ")+" }",{destinationOverlayBackgroundColor:u,destinationOverlayBackgroundType:p,destinationOverlayPositionType:_,destinationOverlayBackgroundInteraction:E}=(0,el.q)(e=>{var t,n,a,r,l,i,o,s;return{destinationOverlayBackgroundColor:null==(n=null==(t=e.mirror.selectionProperties.actionIndexPathToOverlaySettings)?void 0:t[m])?void 0:n.destinationOverlayBackgroundColor,destinationOverlayBackgroundType:null==(r=null==(a=e.mirror.selectionProperties.actionIndexPathToOverlaySettings)?void 0:a[m])?void 0:r.destinationOverlayBackgroundType,destinationOverlayPositionType:null==(i=null==(l=e.mirror.selectionProperties.actionIndexPathToOverlaySettings)?void 0:l[m])?void 0:i.destinationOverlayPositionType,destinationOverlayBackgroundInteraction:null==(s=null==(o=e.mirror.selectionProperties.actionIndexPathToOverlaySettings)?void 0:o[m])?void 0:s.destinationOverlayBackgroundInteraction}}),g=W.useRef(),h=W.useRef(),f=W.useCallback(()=>{l(!1)},[l]),v=W.useCallback(()=>{if(r)f();else{l(!0);let e=d?cv.findDOMNode(h.current):cv.findDOMNode(g.current);o((0,qb.cT)(e))}},[r,f,d]),y=W.useCallback(e=>{let t=e?"SOLID_COLOR":"NONE";EG.Pc.user("overlay-background-type-edit-scope",()=>{eM.MXu.setOverlayBackgroundType(sN.MR(a),t)}),c((0,as.UV)({name:"Overlay background visible changed",params:{backgroundType:t}}))},[c,a]),C=W.useCallback(e=>{let t=e?"CLOSE_ON_CLICK_OUTSIDE":"NONE";EG.Pc.user("overlay-background-interaction-edit-scope",()=>{eM.MXu.setOverlayBackgroundInteraction(sN.MR(a),t)}),c((0,as.UV)({name:"Overlay background interaction changed",params:{backgroundInteraction:t}}))},[c,a]),w=W.useCallback(()=>(0,nQ.uc)(u,{r:0,g:0,b:0,a:.25}),[u]),b=W.useCallback((e,t)=>{t!==EV.MO.NO&&EG.Pc.user("overlay-background-color-edit-scope",()=>{eM.MXu.setOverlayBackgroundColor(sN.MR(a),e)})},[a]),T=W.useCallback((e,t)=>{b(e,EV.MO.YES)},[b]),x=W.useCallback((e,t)=>{let n=w();b({r:n.r,g:n.g,b:n.b,a:e},t)},[w,b]),k=W.useCallback(e=>{EG.Pc.user("overlay-position-type-edit-scope",()=>{eM.MXu.setOverlayPositionType(sN.MR(a),e)}),c((0,as.UV)({name:"Overlay position changed",params:{position:e}}))},[c,a]),N=w(),S=w().a,I=(0,nQ.kB)(_),A="CLOSE_ON_CLICK_OUTSIDE"===(0,nQ.kB)(E),O="SOLID_COLOR"===(0,nQ.kB)(p),M=s?W.createElement(s$.WA,{className:qA},W.createElement(nD.y,{label:W.createElement(nR.i,null,W.createElement(ex.Tx,{id:"proto.close_when_clicking_outside"})),recordingKey:lI.Mx(t,"closeOnClickOutside"),onChange:C,checked:A})):W.createElement(s$.WA,{className:qO},W.createElement(qx.K,{id:"close-on-click-outside",property:A,onChange:C,recordingKey:lI.Mx(t,"closeOnClickOutside"),className:qI}),W.createElement(eT.iM,{className:qM,htmlFor:"close-on-click-outside"},W.createElement(ex.Tx,{id:"proto.close_when_clicking_outside"}))),P=W.createElement(qS.e,null,W.createElement(nD.y,{label:W.createElement(nR.i,null,W.createElement(ex.Tx,{id:"proto.close_when_clicking_outside"})),recordingKey:lI.Mx(t,"closeOnClickOutside"),onChange:C,checked:A})),L=s?W.createElement(s$.WA,{className:qA},W.createElement(nD.y,{label:W.createElement(nR.i,null,W.createElement(ex.Tx,{id:"proto.add_background"})),recordingKey:lI.Mx(t,"addBackgroundBehindOverlay"),onChange:y,checked:O})):W.createElement(s$.WA,{className:qO},W.createElement(qx.K,{id:"add-background-behind-overlay",property:O,onChange:y,recordingKey:lI.Mx(t,"addBackgroundBehindOverlay"),className:qI}),W.createElement(eT.iM,{className:qM,htmlFor:"add-background-behind-overlay"},W.createElement(ex.Tx,{id:"proto.add_background"}))),D=W.createElement(qS.e,null,W.createElement(nD.y,{label:W.createElement(nR.i,null,W.createElement(ex.Tx,{id:"proto.add_background"})),recordingKey:lI.Mx(t,"addBackgroundBehindOverlay"),onChange:y,checked:O})),R=W.createElement("div",{className:"overlay_panel--colorValueContainer--gJtb9 paint_panels--colorValueContainer--DGeSP raw_components--borderFocusWithin--BaipZ paint_panels--_baseColorValueContainer--t-UIV raw_components--base--T7G0z raw_components--singleRowHeight--dKM4t"},W.createElement(fO.o,{onClick:O?v:()=>{},color:N,opacity:S,recordingKey:lI.Mx(t,"chit"),className:"overlay_panel--chit--Zn66r paint_panels--chit--twQEy"}),W.createElement(uJ.qS,{className:"overlay_panel--colorInput--6yyym paint_panels--colorInput--nSz13",noLeftBorder:!0,formatter:qR,property:N,disabled:!O,onChange:T,recordingKey:lI.Mx(t,"colorInput"),noBorderOnFocus:!0}),W.createElement(qT._2,{className:"overlay_panel--opacity--vrrjV paint_panels--opacityInputContainer--oqlsk",value:S,onValueChange:x,dispatch:c,disabled:!O,noBorderOnFocus:!0,recordingKey:lI.Mx(t,"opacity")}));return W.createElement(s$.sF,{className:"overlay_panel--overlayPanel--l-Hts"},W.createElement(s$.WA,null,W.createElement(s$.w1,{faded:!0,className:"overlay_panel--overlayPanelTitle--e9pjs"},W.createElement(ex.Tx,{id:"proto.overlay_settings"}))),W.createElement(qW,{overlayPositionType:I,onOverlayPositionTypeChange:k,recordingKey:t}),!("ON_HOVER"===e||"ON_PRESS"===e)&&(d?P:M),d?D:L,O&&(d?W.createElement(qS.e,{ref:h},R):W.createElement(s$.WA,{ref:g}," ",R," ")),r&&W.createElement(qk.eM,{disabledVariableIds:new Set,title:(0,ex.t)("proto.background"),initialPosition:i,color:N,boundVariable:null,onChange:b,onClose:f,recordingKey:lI.Mx(t,"colorPicker")}))}class qB extends aZ.M1{}class qU extends aZ.cb{}class qK extends W.PureComponent{constructor(){super(...arguments),this.titleFormatter=new cN.Sw,this.renderOverlayPositionOption=(e,t)=>W.createElement(qU,{key:t,value:e,recordingKey:lI.Mx(this.props,e)})}render(){let e=["CENTER","TOP_LEFT","TOP_CENTER","TOP_RIGHT","BOTTOM_LEFT","BOTTOM_CENTER","BOTTOM_RIGHT"].map(this.renderOverlayPositionOption);return W.createElement(qB,{id:this.props.recordingKey??"overlay-position_select",className:this.props.className,chevronClassName:"overlay_panel--chevron--7RTA-",inputClassName:"overlay_panel--input--tGHHB",dropdownWidth:n5.G_1,property:this.props.property,formatter:this.titleFormatter,onChange:this.props.onChange,dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown,recordingKey:lI.Mx(this.props,"select")},e,W.createElement(aZ.Wy,null),this.renderOverlayPositionOption("MANUAL",10))}}qK.displayName="OverlayPositionDropdown";class qG extends qN.G{}class qH extends qN.n{}class qV extends W.PureComponent{render(){return W.createElement(qG,{className:this.props.className,property:this.props.property,onChange:this.props.onChange,recordingKey:this.props.recordingKey},W.createElement(qH,{value:"CENTER",tooltip:(0,ex.t)("proto.tooltip_overlay_position_center"),svg:qL.c,recordingKey:lI.Mx(this.props,"center")}),W.createElement(qH,{value:"TOP_LEFT",tooltip:(0,ex.t)("proto.tooltip_overlay_position_top_left"),svg:qD.c,recordingKey:lI.Mx(this.props,"top-left")}),W.createElement(qH,{value:"BOTTOM_CENTER",tooltip:(0,ex.t)("proto.tooltip_overlay_position_bottom_center"),svg:qP.c,recordingKey:lI.Mx(this.props,"bottom-center")}))}}function qW({overlayPositionType:e,onOverlayPositionTypeChange:t,recordingKey:n}){let a=(0,ty.Ci)(),r=(0,Y.OY)(),l=(0,rp.g)(),i=W.createElement(qK,{className:"overlay_panel--overlayPositionDropdown--ZxxSI",property:e,dispatch:r,dropdownShown:l,onChange:t,recordingKey:lI.Mx(n,"overlayPositionDropdown")}),o=W.createElement(qV,{property:e,onChange:t,recordingKey:lI.Mx(n,"overlayPositionControl"),className:"overlay_panel--overlayPositionControl--SWngJ"});return a?W.createElement(qS.a,{left:i,right:o}):W.createElement(s$.WA,null,i,o)}var qY=n(414112),qj=n(323500);function qX(e){let t=`interaction-panel-create-action-${e.recordingKey}`;var{showing:n,toggle:a,hide:r}=(0,rp.s)(t);let l=(0,W.useRef)(null),i=e.recordingKey,{shouldShowAdvancedPrototypingPaywall:o,showAdvancedPrototypinglMultipleActionsModal:s}=(0,qt.MX)(),c=(0,W.useCallback)(()=>{!e.skipPaywall&&o?s():a()},[e.skipPaywall,o,s,a]),d=lI.S4(lI.Mx(i,"createActionDropdown"),"click",c),m=(0,qt.wt)(),u=(0,qt.Ep)(m,e.isNestedInConditional);return W.createElement(W.Fragment,null,W.createElement("button",{ref:l,className:e.renderButton?"prototype_interaction_panel--createActionButton--6BFXc raw_components--iconButtonEnabled--WmVk5 raw_components--_iconButton---ybo6":"prototype_interaction_panel--createActionRow--zskZs",onClick:d,"aria-label":(0,ex.t)("proto.prototype_panel.create_action_button"),"data-tooltip-type":n1.wL.TEXT,"data-tooltip":e.isNestedInConditional?(0,ex.t)("proto.prototype_panel.add_nested_action"):(0,ex.t)("proto.prototype_panel.add")},e.renderButton?W.createElement(sZ.e,{svg:l4.c},W.createElement(W4.c,null)):W.createElement(ex.Tx,{id:"fullscreen.properties_panel.click_plus_to_add_new_action"})),n&&l.current&&W.createElement(l2.Mx,{arrowOffsetFromRectLeft:17,leanPadding:0,minWidth:130,lean:"right",targetRect:l.current.getBoundingClientRect(),hidePointWhenContentOffScreen:!0},u.map((t,n)=>(0,qt.mt)(t)?W.createElement(lV.g.Separator,{key:`type_${n}`}):W.createElement(qz,{onClose:r,addButtonPressed:e.addButtonPressed,key:t,recordingKey:i,actionType:t}))))}function qz({actionType:e,onClose:t,addButtonPressed:n,recordingKey:a}){let r=W.useCallback(()=>{n((0,qt.KI)(e)),t()},[t,e,n]),l=lI.S4(lI.Mx(a,"createActionOption",e),"click",r),i=(0,qa.QP)(e),o=(0,qa.Ml)(e),s=new cN.Ir,c=e?s.format(e):"Undefined";return W.createElement(lV.g.Option,{className:"prototype_interaction_panel--createActionDropdownOption--qX5xI",onClick:l},W.createElement(sZ.e,{className:"prototype_interaction_panel--createActionDropdownOptionIcon--Eivoa",svg:i},o),W.createElement("div",{"aria-label":c},c))}let qq="prototype_conditional_controls--conditionIcon--Npk57";var qZ=n(588020),qQ=n(928224),qJ=n(940020);function q$({onDeleteAction:e,updateMultipleDestinationNodes:t,updateSelectionProperties:n,updateCondition:a,updateActions:r,onAddAction:l,autoOpenVariablePicker:i,...o}){let s=o.conditionalActions,c=(null==s?void 0:s.actions)?null==s?void 0:s.actions:[],d=(null==s?void 0:s.condition)?null==s?void 0:s.condition:void 0;return W.createElement("div",null,o.ifStatement&&W.createElement("div",{className:"prototype_conditional_controls--conditionalRowIf--25FqB prototype_conditional_controls--conditionalRow--u0PaS"},W.createElement(aE.g,{direction:"horizontal",spacing:4},W.createElement("span",{className:"prototype_conditional_controls--conditionalRowCondition--kn-f7"},W.createElement(aE.g,{direction:"horizontal",spacing:0},W.createElement(eN.A,{className:qq,svg:qQ.c}),W.createElement(aE.g,{direction:"horizontal",spacing:0},(0,nQ.EH)(d)&&W.createElement(qe.yq,{resolvedType:eM.y6c.BOOLEAN,targetVariableData:d,updateSelectionProperties:n,recordingKey:o.recordingKey,updateConditionInConditionalAction:a,showVariableThumbnails:!0,isNarrowPanel:!0})),W.createElement(eN.A,{className:q()("prototype_conditional_controls--icon--JV1i0"),svg:qJ.default}))),c.length>0&&W.createElement("div",{className:"prototype_conditional_controls--addButton--vlYLn"},W.createElement(qX,{addButtonPressed:l,recordingKey:lI.Mx(o.recordingKey,"addActionToIfButton"),renderButton:!0,isNestedInConditional:!0})))),!o.ifStatement&&W.createElement(s$.WA,{className:"prototype_conditional_controls--conditionalRow--u0PaS"},W.createElement(eN.A,{className:qq,svg:qZ.c}),c.length>0&&W.createElement("div",{className:"prototype_conditional_controls--addButtonForElse--ogBWu prototype_conditional_controls--addButton--vlYLn"},W.createElement(qX,{addButtonPressed:l,recordingKey:lI.Mx(o.recordingKey,"addActionToElseButton"),renderButton:!0,isNestedInConditional:!0}))),c&&c.map((a,r)=>W.createElement(ZO,{key:r,updateMultipleDestinationNodes:t.appendActionIndex(r),action:a,recordingKey:lI.Mx(o.recordingKey,"conditional-action-row",r),updateSelectionProperties:n.appendActionIndex(r),onDeleteAction:()=>e(r),interactionType:o.interactionType,actionIndexPath:[o.actionIndexPath[0],o.actionIndexPath[1],r],numActions:c.length,isNestedInConditional:!0,stateManagementVersion:o.stateManagementVersion,selectedInteractions:o.selectedInteractions,onDrop:o.onDrop,onSelect:o.onSelect,onExpand:o.onExpand,onAddAction:l,selectedActionIndex:o.selectedActionIndex,expandedRows:o.expandedRows,autoOpenVariablePicker:i})),0===c.length&&W.createElement(ZO,{key:0,updateMultipleDestinationNodes:t.appendActionIndex(0),action:o.emptyAction,recordingKey:lI.Mx(o.recordingKey,"conditional-action-row",0),updateSelectionProperties:n.appendActionIndex(0),onDeleteAction:()=>e(0),interactionType:o.interactionType,actionIndexPath:[o.actionIndexPath[0],o.actionIndexPath[1],0],numActions:c.length,isNestedInConditional:!0,stateManagementVersion:o.stateManagementVersion,selectedInteractions:o.selectedInteractions,onDrop:o.onDrop,onSelect:o.onSelect,onExpand:o.onExpand,onAddAction:l,selectedActionIndex:o.selectedActionIndex,expandedRows:o.expandedRows,autoOpenVariablePicker:i}))}function q0({onDrop:e,onSelect:t,onExpand:n,action:a,updateMultipleDestinationNodes:r,updateSelectionProperties:l,interactionType:i,recordingKey:o,stateManagementVersion:s,selectedInteractions:c,actionIndexPath:d,selectedActionIndex:m,expandedRows:u,onNewActionAdded:p}){let _=(0,Y.OY)(),E=(0,sC.uc)("currentPage"),{shouldShowAdvancedPrototypingPaywall:g,showAdvancedPrototypingConditionalActionsModal:h}=(0,qt.MX)(),f=(0,nQ.EH)(a.conditionalActions)&&a.conditionalActions?a.conditionalActions:[],v=e=>function(t){var n=[...f];n.length>e?n[e].condition=t:n.push({condition:0===e?t:void 0,actions:[]},{condition:1===e?t:void 0,actions:[]}),l({conditionalActions:n})},y=e=>function(t){var n=[...f];n.length>e?n[e].actions=[...t]:n.push({actions:t}),l({conditionalActions:n})},C=W.useRef(!1),w=e=>function(t){var n=[...f],a=0;if(n.length>e){var r=n[e].actions;r?r.push(t):r=[t],a=r.length}else n.push({actions:0===e?[t]:[]},{actions:1===e?[t]:[]}),a=1;"SET_VARIABLE"===t.connectionType&&(C.current=!0),l({conditionalActions:n}),p&&p(new qj.qw([d[0],e,a-1])),_((0,as.UV)({name:"Prototype add action",params:{action:t.connectionType?t.connectionType:"NONE",source:"panel",page_id:E,actionInConditionalAction:!0}}))},b=e=>function(t){if(g)h();else{var n=[...f];let a=f[e],r=[];if(a&&a.actions)for(let e=0;e<a.actions.length;e++){let n=a.actions[e];e!==t?r.push(n):_((0,as.UV)({name:"Prototype delete action",params:{action:n.connectionType?n.connectionType:"NONE",source:"panel",page_id:E,actionInConditionalAction:!0}}))}n[e].actions=r,l({conditionalActions:n})}},T=f.length>0?f[0]:void 0,x=f.length>1?f[1]:void 0;return W.createElement("div",null,(0,nQ.Er)(a.conditionalActions)&&W.createElement(oP.gR,null,W.createElement("div",{className:"prototype_conditional_controls--mixedConditionalText--6O32b",onClick:()=>{var e=[];e.push({},{}),l({conditionalActions:e})},role:"button",tabIndex:0},(0,ex.t)("fullscreen.properties_panel.click_to_replace_mixed_content"))),(0,nQ.EH)(a.conditionalActions)&&W.createElement(W.Fragment,null,W.createElement(q$,{key:0,conditionalActions:T,recordingKey:lI.Mx(o,"conditional-block",0),updateCondition:v(0),updateActions:y(0),onAddAction:w(0),updateMultipleDestinationNodes:r.appendActionIndex(0),onDeleteAction:b(0),interactionType:i,updateSelectionProperties:l.appendActionIndex(0),ifStatement:!0,stateManagementVersion:s,selectedInteractions:c,actionIndexPath:[d[0],0],onDrop:e,onSelect:t,onExpand:n,selectedActionIndex:m,autoOpenVariablePicker:C,expandedRows:u,emptyAction:{ifStatement:!0,action:a}}),W.createElement(q$,{key:1,conditionalActions:x,recordingKey:lI.Mx(o,"conditional-block",1),updateCondition:v(1),updateActions:y(1),onAddAction:w(1),updateMultipleDestinationNodes:r.appendActionIndex(1),onDeleteAction:b(1),interactionType:i,updateSelectionProperties:l.appendActionIndex(1),ifStatement:!1,stateManagementVersion:s,selectedInteractions:c,actionIndexPath:[d[0],1],onDrop:e,onSelect:t,onExpand:n,selectedActionIndex:m,autoOpenVariablePicker:C,expandedRows:u,emptyAction:{ifStatement:!1,action:a}})))}var q1=n(484564),q2=n.n(q1),q5=n(959872),q3=n(292520);class q4 extends aZ.cb{}class q6 extends aZ.M1{}class q8 extends W.PureComponent{constructor(e){super(e),this.loadDestinationsFromFullscreen=()=>{let e=eM._oU.ALL;"SCROLL_TO"===this.props.action?e=eM._oU.SCROLL_TO:"SWAP_STATE_TO"===this.props.action&&(e=eM._oU.STATES);let{viableIds:t,disabledIds:n}=eM.MXu.getTransitionDestinationsOnActiveCanvas(e);return new Promise((e,a)=>{this.setState({viableIds:t,disabledIds:n},e)})},this.onOptionFocus=e=>{eL.cX(e??"")},this.renderGroupedScrollableNodes=(e,t)=>{let n=q2()(e.filter(e=>this.nodeNameFormatter.hasNameForNode(e)),e=>{var n,a;return e===t&&(0,nQ.EH)(t)?null==(n=(0,eF.Q5)(this.props.scene,e))?void 0:n.guid:null==(a=this.props.scene.get(e))?void 0:a.parentGuid}),a=Object.keys(n);(0,eF._m)(a,this.nodeNameFormatter.format.bind(this.nodeNameFormatter));let{tlfId:r,index:l}=(0,eF._o)(this.props.scene,a);return r&&l&&(a.splice(l,1),a=[r,...a]),a.reduce((e,t,a)=>(0!==a&&e.push(W.createElement(aZ.Wy,{key:a})),e.push(W.createElement(q4,{key:`disabled-${t}`,value:t+" ",recordingKey:lI.Mx(this.props,`disabled-option-${t}`),disabled:!0})),n[t].forEach((t,n)=>{e.push(W.createElement(q4,{key:`enabled-${t+n}`,value:t,recordingKey:lI.Mx(this.props,`viable-option-${n}`),disabled:!1}))}),e),[])},this.state={viableIds:[],disabledIds:[]},this.nodeNameFormatter=new cN.id(e.scene)}render(){let e=this.props.nodeId===nQ.ee?nQ.ee:sN.MR(this.props.nodeId),t=this.state.viableIds;(0,nQ.EH)(e)&&e!==sN.Q9&&-1===t.indexOf(e)&&(t=t.concat([e]));let n=this.state.disabledIds,a=`prototype-destination-select-${this.props.recordingKey}`,r="SCROLL_TO"!==this.props.action?t.filter(e=>this.nodeNameFormatter.hasNameForNode(e)).map((e,t)=>W.createElement(q4,{key:`enabled-${e}`,value:e,recordingKey:lI.Mx(this.props,`viable-option-${t}`),disabled:!1})):this.renderGroupedScrollableNodes(t,e),l=n.filter(e=>this.nodeNameFormatter.hasNameForNode(e)).map((e,t)=>W.createElement(q4,{key:`disabled-${e}`,value:e,recordingKey:lI.Mx(this.props,`disabled-option-${t}`),disabled:!0})),i=this.props.useUI3?qS.e:s$.WA;return W.createElement(i,null,W.createElement(q6,{id:a,dataTestId:"destination-select",className:this.props.className,chevronClassName:"prototype_destination_dropdown--chevron--pmWtI",inputClassName:"prototype_destination_dropdown--input--rzglN",dropdownWidth:n5.G_1,property:e,formatter:this.nodeNameFormatter,onChange:this.props.onChange,dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown,recordingKey:lI.Mx(this.props,"select"),willShowDropdown:this.loadDestinationsFromFullscreen,onOptionFocus:this.onOptionFocus,hideDropdownWhenContainerMoves:!(0,eE.g9)()},r,0!==n.length&&0!==t.length&&W.createElement(aZ.Wy,null),l))}}let q9=W.memo(function(e){let t=(0,Y.w1)(t$.AX),n=(0,eo.m4)(t$.Ab),a=(0,Y.w1)(q7),r=(0,Y.w1)(E6.qg),l=(0,Y.w1)(E6.qs),i=(0,q5.s)(r,l),o=(0,Y.w1)(Ze),s=W.useMemo(()=>(0,gh.MJ)(o,t,n,e.actionIndexPath),[o,t,n,e.actionIndexPath]),c=W.useMemo(()=>(0,gh.MJ)(a,t,n),[a,t,n]),d=s||c;if(!d||d.mode!==tq.MJr.STATE_OR_STATE_INSTANCE_SUBLAYER)return null;let{allStates:m,stateGroupModel:u,selectedStates:p,selectedStatesPropertyValues:_}=d,E=u.propertySortOrder||[],g=u.propertyValues;return g?W.createElement(q3.OQ,{sortedProperties:E,stateGroupPropertyValues:g,selectedStatesPropertyValues:_,selectedStates:p,allStates:m,onSelectProperty:t=>{let n={};for(let e of Object.keys(t)){let a=t[e].symbol.node_id;for(let t of(n[e]=a,i[e]||[]))n[t]=a;for(let e of r)n[e]||(n[e]=a)}e.onChange(n)},recordingKey:e.recordingKey,hideErrorsPanel:!0,shouldIndent:!0,extended:!0}):null});function q7(e){return e.mirror.selectionProperties.stateGroupSelectionInfo}function Ze(e){return e.mirror.selectionProperties.prototypeDestinationStateGroupSelectionInfo}var Zt=n(466872),Zn=n(853996),Za=n(409712),Zr=n(510816);let Zl="prototype_set_variable_controls--dropdownAndIconContainer--6m3Tw",Zi="prototype_set_variable_controls--icon---HzDt";function Zo({targetVariableData:e,targetVariable:t,updateSelectionProperties:n,autoOpenVariablePicker:a,...r}){let l=W.useRef(null),i=(0,Y.OY)(),o=(0,Y.w1)(e=>e.variablePickerShown),s=(0,gm.__)((0,nQ.EH)(t)?t.id:void 0),c=(0,gm.c1)((0,nQ.EH)(t)?t.id:void 0),[d,m]=W.useState("");(0,rT.u)(()=>{a&&!0===a.current&&(p(),a.current=!1)});let u=(0,gm.cz)((0,nQ.EH)(t)?null==t?void 0:t.id:void 0);W.useEffect(()=>{void 0!==e&&u&&"MIXED"!==u&&(0,nQ.EH)(e)&&e.resolvedType!==u.resolvedType&&n({targetVariableData:void 0})},[u,n,e]);let p=()=>{let e=l.current.getBoundingClientRect();i((0,Zt.i)({type:"variable-picker-set-variable-action",isShown:!0,resolvedType:eM.y6c.STRING,initialPosition:new nU.Cg(e.left-20,e.top),key:r.recordingKey,onVariableSelected:h}))},_=W.useCallback(()=>{i((0,Zt.w)())},[i]),[E,g]=W.useState(!1),h=W.useCallback(t=>{if(void 0!==t&&t.node_id){let a={targetVariable:{id:t.node_id}},r=eM.sAy.getVariableResolvedValue(t.node_id,sN.Q9);!e&&t.resolvedType===eM.y6c.COLOR&&r&&(a.targetVariableData=r??void 0),n(a),i((0,as.Y3)({name:"prototype.variable_selected",params:{collectionId:t.variableSetId,variableId:t.node_id,variableType:t.resolvedType}})),g(!0)}},[i,e,n]),f=W.useMemo(()=>({type:"LOCAL_VARIABLES",layout:"list"}),[]);W.useEffect(()=>{let e=eM.KEP.prototypingEditorState().colorPickerEyedropperVarData;return(0,eD.WS)(e,{onChangeImmediate(){let t=e.getCopy();t&&n({targetVariableData:t})}})},[n]);let v=null;if((0,nQ.Er)(t))v=null;else if((null==u?void 0:u.resolvedType)===eM.y6c.COLOR)v=(0,nQ.Er)(e)?W.createElement("div",{className:"prototype_set_variable_controls--targetVariableDataMixedContainer--H6uGu"},(0,ex.t)("fullscreen.mixed")):W.createElement(W.Fragment,null,W.createElement(Za.i,{variableValue:e??u,onChange:e=>{n({targetVariableData:e})},recordingKey:lI.Mx(r.recordingKey,"variableValueInput"),setVariableAction:!0,innerContainerClassName:"prototype_set_variable_controls--variableColorInputContainer--NaOmp"}));else{let t=r.isNestedInConditional?"prototype_set_variable_controls--absoluteIconInConditional--BbEmW":"prototype_set_variable_controls--absoluteIcon--1XpBF";v=W.createElement("div",{className:ap.cx.ml12.$},W.createElement("div",{className:Zl},W.createElement(qe.yq,{resolvedType:(null==c?void 0:c.resolvedType)??eM.y6c.BOOLEAN,targetVariableData:e,autoOpenExpressionBuilder:E,setAutoOpenExpressionBuilder:g,updateSelectionProperties:n,recordingKey:r.recordingKey,isNarrowPanel:r.isNarrowPanel,showVariableThumbnails:!0}),W.createElement(eN.A,{className:q()(Zi,t),svg:qJ.default})))}return W.createElement("div",{className:ap.cx.relative.$},W.createElement(rA.g9,{recordingKey:lI.Mx(r.recordingKey,"selectTargetVariable"),onClick:p},W.createElement("div",{className:(0,nQ.EH)(t)?"prototype_set_variable_controls--targetVariableLabel--AFCqK":"prototype_set_variable_controls--targetVariableLabelInactive--zHWCC prototype_set_variable_controls--targetVariableLabel--AFCqK",ref:l},W.createElement(aE.g,null,W.createElement("div",{className:r.isNarrowPanel?"prototype_set_variable_controls--targetVariableDropdownNarrow--WWi-t prototype_set_variable_controls--targetVariableDropdown--IZwoF":"prototype_set_variable_controls--targetVariableDropdown--IZwoF"},W.createElement("div",{className:Zl},(0,nQ.Er)(t)?W.createElement("div",{className:q()(ap.cx.pt2.$,ap.cx.pb2.$)},(0,ex.t)("fullscreen.mixed")):s?W.createElement(cp.c,{text:s,thumbnailValue:u,isDeleted:!!c&&(0,qm._q)(c)}):W.createElement("div",{className:q()(ap.cx.pt2.$,ap.cx.pb2.$)},(0,ex.t)("proto.select_variable")),W.createElement(eN.A,{className:Zi,svg:qJ.default})))))),o.isShown&&"variable-picker-set-variable-action"===o.type&&o.key===r.recordingKey?W.createElement(W.Fragment,null,W.createElement(n2.G0,{title:"",headerSize:"hidden",initialPosition:o.initialPosition,onClose:_,dragHeaderOnly:!1,initialWidth:216,canRenderBelowViewport:!0},W.createElement(Zn.Mp,{selectedItem:c,disabledVariableIds:new Set,currentView:f,toggleLayout:aC.Kw,pickerType:"fields",setControlRightButtons:W.createElement(Zr.C,{resolvedTypes:[eM.y6c.BOOLEAN,eM.y6c.STRING,eM.y6c.FLOAT,eM.y6c.COLOR]}),onVariableSelected:h,onClose:_,recordingKey:lI.Mx(r.recordingKey,"variablePickerForSelection"),searchQuery:d,onSearchInputChange:m})),W.createElement(Zn.KU,{onClose:_})):null,W.createElement("div",{className:r.isNarrowPanel?"prototype_set_variable_controls--setVariableToContainerNarrow--HHbHQ prototype_set_variable_controls--setVariableToContainer--kxsCZ":"prototype_set_variable_controls--setVariableToContainer--kxsCZ","data-testid":"set-variable-container"},v))}var Zs=n(130176),Zc=n(905084);let Zd="prototype_state_management_panel--checkboxRow--2u02e checkbox--_checkboxRow--oEhow",Zm="prototype_state_management_panel--checkbox--OTL3O",Zu="prototype_state_management_panel--label--RDsDq checkbox--_checkboxLabelMultiline--kcM-C";function Zp({transition:e,navigationType:t,recordingKey:n,showPreserveScrollPosition:a,showResetVideoState:r,showResetInteractiveComponentState:l,updateSelectionProperties:i,stateManagementVersion:o,selectedInteractions:s}){let c=(0,Y.OY)(),d=(0,qt.OE)(o),m=W.createElement(s$.WA,{className:Zd},W.createElement(qx.K,{id:"reset-video-position",property:e.resetVideoPosition,onChange:t=>{c((0,as.UV)({name:"Reset Video Position Changed",params:{newValue:t}})),i({...function(e){if((0,nQ.EH)(e.resetVideoPosition))return{transitionResetVideoPosition:e.resetVideoPosition}}({...e,resetVideoPosition:t})})},recordingKey:lI.Mx(n,"reset-video-position-check"),className:Zm}),W.createElement(eT.iM,{htmlFor:"reset-video-position",className:Zu},(0,qt.OE)(o)?W.createElement(ex.Tx,{id:"proto.state_management.reset_video_state"}):W.createElement(ex.Tx,{id:"proto.animation_panel.reset_video_state"})));return W.createElement(Zs.u,{name:"prototype_state_management_panel"},W.createElement(s$.sF,{className:`prototype_state_management_panel--stateManagementPanel--sYaaj ${(0,qt.wn)(o)&&"prototype_state_management_panel--stateManagementPanelWithVersion--AovOP"}`},W.createElement(s$.WA,null,W.createElement(s$.w1,{className:"prototype_state_management_panel--panelTitle--Nr4Eh",faded:!0},W.createElement(ex.Tx,{id:"proto.state_management"})),!(0,qt.wn)(o)&&W.createElement("div",{"data-tooltip-type":n1.wL.SPECIAL,"data-tooltip":n1.oz.PROTOTYPE_STATE_MANAGEMENT_INFO,"data-tooltip-interactive":!0,"data-tooltip-show-immediately":!0,"data-tooltip-max-width":240},W.createElement(oL.GW,{icon:"info-16"}))),(0,qt.wP)(o)&&a&&W.createElement(s$.WA,{className:Zd},W.createElement(qx.K,{id:"preserve-scroll-transition",property:e.preserveScroll,onChange:t=>{c((0,as.UV)({name:"Preserve Scroll Changed",params:{newValue:t}})),i({...function(e){if((0,nQ.EH)(e.preserveScroll))return{transitionPreserveScroll:e.preserveScroll}}({...e,preserveScroll:t})})},recordingKey:lI.Mx(n,"preserve-scroll-check"),className:Zm}),W.createElement(eT.iM,{htmlFor:"preserve-scroll-transition",className:Zu},W.createElement(ex.Tx,{id:"proto.animation_panel.preserve_scroll_position"}))),r&&(0,qt.wP)(o)&&m,d&&W.createElement(s$.WA,{className:Zd},W.createElement(qx.K,{id:"reset-scroll-position",property:e.resetScrollPosition,onChange:t=>{c((0,as.UV)({name:"Reset Scroll Position Changed",params:{newValue:t,noodleUpgradedThisSession:Zc.Ib.haveAnyInteractionsBeenUpgraded(s)}})),i({...function(e){if((0,nQ.EH)(e.resetScrollPosition))return{transitionResetScrollPosition:e.resetScrollPosition}}({...e,resetScrollPosition:t})})},recordingKey:lI.Mx(n,"reset-scroll-position-check"),className:Zm}),W.createElement(eT.iM,{htmlFor:"reset-scroll-position",className:Zu},W.createElement(ex.Tx,{id:"proto.animation_panel.reset_scroll_position"}))),d&&l&&W.createElement(s$.WA,{className:Zd},W.createElement(qx.K,{id:"reset-component-state",property:e.resetInteractiveComponents,onChange:t=>{c((0,as.UV)({name:"Reset Component State Changed",params:{newValue:t,noodleUpgradedThisSession:Zc.Ib.haveAnyInteractionsBeenUpgraded(s)}})),i({...function(e){if((0,nQ.EH)(e.resetInteractiveComponents))return{transitionResetInteractiveComponents:e.resetInteractiveComponents}}({...e,resetInteractiveComponents:t})})},recordingKey:lI.Mx(n,"reset-component-state-check"),className:Zm}),W.createElement(eT.iM,{htmlFor:"reset-component-state",className:Zu},W.createElement(ex.Tx,{id:"proto.animation_panel.reset_component_state"}))),d&&r&&m,o===nQ.ee&&W.createElement(aE.g,{direction:"horizontal",padding:{horizontal:12,vertical:12}},W.createElement(s$.yk,null,W.createElement(ex.Tx,{id:"proto.state_management.mixed_state_update"})))))}class Z_ extends aZ.cb{}class ZE extends aZ.M1{}let Zg=sN.Q9;class Zh extends cN.id{format(e){return e===Zg||null===e?(0,ex.t)("proto.target_video_node_name_formatter.this_video"):super.format(e)}}function Zf(e){let{viableSameFrameVideoIds:t,disabledSameFrameVideoIds:n,scene:a,dropdownShown:r,targetVideoNodeID:l,isVideoSelected:i,onChange:o}=e,s=(0,Y.OY)(),[c,d]=W.useState(()=>i?new Zh(a):new cN.id(a));t.sort((e,t)=>{let n=c.format(e),a=c.format(t);return n.localeCompare(a)}),i&&t.unshift(Zg);let m=t.length>0&&n.length>0,u=`prototype-target-video-select-${e.recordingKey}`,p=(0,ty.Ci)(),_=W.createElement(ZE,{id:u,dataTestId:"target-video-select",className:"prototype_target_video_dropdown--targetVideoDropdown--6hKF-",chevronClassName:"prototype_target_video_dropdown--chevron--jgz53",inputClassName:"prototype_target_video_dropdown--input--infAK",property:(0,nQ.Er)(l)?l:sN.MR(l),formatter:c,onChange:o,dispatch:s,dropdownShown:r,recordingKey:lI.Mx(e,"select"),onOptionFocus:e=>{eL.cX(e??"")},dropdownAlignment:"left"},t.filter(e=>c.hasNameForNode(e)).map((t,n)=>W.createElement(Z_,{key:`enabled-${n}`,value:t,recordingKey:lI.Mx(e,`viable-option-${n}`),disabled:!1})),m&&W.createElement(aZ.Wy,null),n.filter(e=>c.hasNameForNode(e)).map((t,n)=>W.createElement(Z_,{key:`disabled-${n}`,value:t,recordingKey:lI.Mx(e,`viable-option-${n}`),disabled:!0})));return p?W.createElement(qS.e,null,_):_}function Zv({action:e,recordingKey:t,onURLChange:n,onOpenInNewTabChange:a}){let r=(0,ty.Ci)(),l=W.createElement(eT.QT,{className:"prototype_interaction_panel--urlInput--aRuXj",dataTestId:"url-input",placeholder:(0,ex.t)("proto.interaction.example_com"),value:(0,nQ.Er)(e.connectionURL)?(0,ex.t)("fullscreen.mixed"):(0,nQ.uc)(e.connectionURL,""),onChange:n,recordingKey:lI.Mx(t,"urlTextInput"),autoFocus:!1});return W.createElement(W.Fragment,null,r?W.createElement(qS.e,null,l):l,W.createElement(s$.WA,{className:"prototype_open_url_action_options--checkboxRow--mu17T checkbox--_checkboxRow--oEhow"},W.createElement(qx.K,{id:"open-url-in-new-tab",property:void 0===e.openUrlInNewTab||e.openUrlInNewTab,onChange:a,recordingKey:lI.Mx(t,"open-url-in-new-tab-check"),className:"prototype_open_url_action_options--checkbox--M4Q7m"}),W.createElement(eT.iM,{htmlFor:"open-url-in-new-tab",className:"prototype_interaction_panel--label--qV8-Y checkbox--_checkboxLabel--shM0N"},W.createElement(ex.Tx,{id:"proto.action_open_url_in_new_tab"}))))}var Zy=n(506628);function ZC({updateSelectionProperties:e,action:t,extraScrollOffset:n,showScrollToOptions:a,recordingKey:r}){let{smallNudgeAmount:l,bigNudgeAmount:i}=(0,eP.i_)(),o=(0,Y.OY)(),s=(0,ty.Ci)(),c=(t,n)=>(a,r)=>{t&&e({extraScrollOffset:{...t,[n]:a}},{shouldCommit:r})},d=(0,nQ.uc)(n,{x:0,y:0});if(!a||"SCROLL_TO"!==t)return null;let m=W.createElement(qT.Qh,{className:"prototype_interaction_panel--scrubbableInputLeftCol--wC8-D raw_components--borderFocusWithin--BaipZ",inputClassName:qu,value:d.y,wheelMultiplier:l,scrubMultiplier:l,smallNudgeAmount:l,bigNudgeAmount:i,onValueChange:c(d,"y"),dispatch:o,"data-tooltip-type":n1.wL.TEXT,"data-tooltip":(0,ex.t)("proto.trigger.y_offset"),tooltipForScreenReadersOnly:!1,recordingKey:lI.Mx(r,"extraScrollOffsetY")},W.createElement(eN.A,{className:"prototype_interaction_panel--inactiveLabel--6uytx transform_panel--inactiveLabel--fPCxr raw_components--iconInsideBorderFocusWithin--2g7fO",svg:Zy.c})),u=W.createElement(qT.Qh,{className:"prototype_interaction_panel--scrubbableInput--VJ6m6 prototype_interaction_panel--scrubbableInputLeftCol--wC8-D raw_components--borderFocusWithin--BaipZ",inputClassName:qu,value:d.x,wheelMultiplier:l,scrubMultiplier:l,smallNudgeAmount:l,bigNudgeAmount:i,onValueChange:c(d,"x"),dispatch:o,"data-tooltip-type":n1.wL.TEXT,"data-tooltip":(0,ex.t)("proto.trigger.x_offset"),tooltipForScreenReadersOnly:!1,recordingKey:lI.Mx(r,"extraScrollOffsetX")},W.createElement(eN.A,{className:"prototype_interaction_panel--inactiveLabelRotated90--ArAQX prototype_interaction_panel--inactiveLabel--6uytx transform_panel--inactiveLabel--fPCxr raw_components--iconInsideBorderFocusWithin--2g7fO",svg:Zy.c}));return s?W.createElement(qS.a,{left:m,right:u}):W.createElement(s$.WA,null,m,u)}let Zw="prototype_video_action_options--chevron--mkNyv",Zb="prototype_video_action_options--input--3-cEi",ZT=new cN.Q9,Zx=new cN.Ir;function Zk({action:e,onChange:t,updateSelectionProperties:n,dropdownShown:a,recordingKey:r}){let l=(0,ty.Ci)(),i=(0,cN.Yn)(e),o=(0,nQ.kB)(e.mediaAction),s="UPDATE_MEDIA_RUNTIME"===(0,nQ.kB)(e.connectionType),c="SKIP_TO"===o,d="SKIP_FORWARD"===o||"SKIP_BACKWARD"===o,m="PLAY"===o||"PAUSE"===o||"TOGGLE_PLAY_PAUSE"===o,u="MUTE"===o||"UNMUTE"===o||"TOGGLE_MUTE_UNMUTE"===o,p=(0,Y.OY)(),_=(0,eP.Sk)(),E=W.useCallback(e=>{n({mediaSkipToTime:e}),p((0,as.UV)({name:"Media skip to time changed",params:{value:e}}))},[p,n]),g=e=>{n({mediaSkipByAmount:e}),p((0,as.UV)({name:"Media skip by amount changed",params:{value:e}}))},h=`prototype-media-action-select-${r}`,f="prototype_video_action_options--shortDropdown--NOXXv",v=a&&a.type===h?ZT:Zx,y=()=>W.createElement(qs,{id:h,dataTestId:"media-play-pause-select",className:f,chevronClassName:Zw,inputClassName:Zb,property:i,formatter:v,onChange:t,dispatch:p,dropdownShown:a,recordingKey:lI.Mx(r,"select")},W.createElement(qo,{key:"UPDATE_MEDIA_TOGGLE_PLAY_PAUSE",value:"UPDATE_MEDIA_TOGGLE_PLAY_PAUSE",recordingKey:lI.Mx(r,"toggle-play-pause-option"),disabled:!1}),W.createElement(qo,{key:"UPDATE_MEDIA_PLAY",value:"UPDATE_MEDIA_PLAY",recordingKey:lI.Mx(r,"play-option"),disabled:!1}),W.createElement(qo,{key:"UPDATE_MEDIA_PAUSE",value:"UPDATE_MEDIA_PAUSE",recordingKey:lI.Mx(r,"pause-option"),disabled:!1})),C=()=>W.createElement(qs,{id:h,dataTestId:"media-mute-unmute-select",className:f,chevronClassName:Zw,inputClassName:Zb,property:i,formatter:v,onChange:t,dispatch:p,dropdownShown:a,recordingKey:lI.Mx(r,"select")},W.createElement(qo,{key:"UPDATE_MEDIA_TOGGLE_MUTE_UNMUTE",value:"UPDATE_MEDIA_TOGGLE_MUTE_UNMUTE",recordingKey:lI.Mx(r,"toggle-mute-unmute-option"),disabled:!1}),W.createElement(qo,{key:"UPDATE_MEDIA_MUTE",value:"UPDATE_MEDIA_MUTE",recordingKey:lI.Mx(r,"mute-option"),disabled:!1}),W.createElement(qo,{key:"UPDATE_MEDIA_UNMUTE",value:"UPDATE_MEDIA_UNMUTE",recordingKey:lI.Mx(r,"unmute-option"),disabled:!1})),w=()=>W.createElement(qs,{id:h,dataTestId:"media-skip-by-select",className:f,chevronClassName:Zw,inputClassName:Zb,property:i,formatter:v,onChange:t,dispatch:p,dropdownShown:a,recordingKey:lI.Mx(r,"select"),dropdownWidth:160},W.createElement(qo,{key:"UPDATE_MEDIA_SKIP_FORWARD",value:"UPDATE_MEDIA_SKIP_FORWARD",recordingKey:lI.Mx(r,"skip-forward-option"),disabled:!1}),W.createElement(qo,{key:"UPDATE_MEDIA_SKIP_BACKWARD",value:"UPDATE_MEDIA_SKIP_BACKWARD",recordingKey:lI.Mx(r,"skip-backward-option"),disabled:!1})),b=()=>W.createElement(qT.G_,{className:"prototype_video_action_options--timestampContainer---DdaI",dataTestId:"mediaSkipToTime-input",dispatch:p,value:e.mediaSkipToTime||0,onValueChange:E,wheelMultiplier:_/1e3,scrubMultiplier:_/1e3,max:3600,displayFractions:!0,"data-tooltip-type":n1.wL.TEXT,"data-tooltip":(0,ex.t)("proto.trigger.timestamp_to_set_to"),tooltipForScreenReadersOnly:!0,recordingKey:lI.Mx(r,"mediaSkipToTimeInput")}),T="SKIP_BACKWARD"===o?(0,ex.t)("proto.trigger.duration_to_jump_backward"):(0,ex.t)("proto.trigger.duration_to_jump_forward"),x=()=>W.createElement(qT.sv,{className:"prototype_video_action_options--timeAmountContainer--5kpHn",dataTestId:"mediaSkipByAmount-input",dispatch:p,value:e.mediaSkipByAmount||5,onValueChange:g,wheelMultiplier:_/1e3,scrubMultiplier:_/1e3,max:3600,"data-tooltip-type":n1.wL.TEXT,"data-tooltip":T,tooltipForScreenReadersOnly:!0,recordingKey:lI.Mx(r,"mediaSkipByAmountInput")});if(!s)return null;if(l){if(m)return W.createElement(qS.e,null,y());if(u)return W.createElement(qS.e,null,C());if(d)return W.createElement(qS.a,{left:w(),right:x()});if(c)return W.createElement(qS.e,null,b())}return W.createElement(s$.WA,null,m&&y(),u&&C(),d&&w(),d&&x(),c&&b())}function ZN({action:e,recordingKey:t,interactionType:n,onActionChange:a,updateMultipleDestinationNodes:r,updateSelectionProperties:l,stateManagementVersion:i,autoOpenVariablePicker:o,...s}){let c=(0,Y.OY)(),d=(0,rp.g)(),{scene:m,selectionProperties:u}=(0,el.q)(e=>({scene:e.mirror.sceneGraph,selectionProperties:e.mirror.selectionProperties})),p="SET_VARIABLE"===(0,nQ.kB)(e.connectionType),_="SET_VARIABLE_MODE"===(0,nQ.kB)(e.connectionType),E="CONDITIONAL"===(0,nQ.kB)(e.connectionType),g="INTERNAL_NODE"===(0,nQ.kB)(e.connectionType),h="INTERNAL_NODE"===(0,nQ.kB)(e.connectionType)&&"SWAP_STATE"===(0,nQ.kB)(e.navigationType),f="URL"===(0,nQ.kB)(e.connectionType),v=g||"BACK"===(0,nQ.kB)(e.connectionType)||"CLOSE"===(0,nQ.kB)(e.connectionType),y="UPDATE_MEDIA_RUNTIME"===(0,nQ.kB)(e.connectionType),C=(0,qa.kz)(u),w=(0,dW.wB)(),b=[],T=[];if(w){let{viableIds:e,disabledIds:t}=eM.MXu.getVideoNodesOnSameTlfAsNode(w);b=e,T=t}let x=sN.MR((0,nQ.kB)(e.transitionNodeID)),k=null!=x&&x!==sN.Q9,N=g&&(!(0,nQ.EH)(e.transitionNodeID)||k),S=(0,nQ.kB)(e.navigationType),I=g&&"OVERLAY"===(0,nQ.kB)(S),A=(0,qt.o1)(e.transitionType,e.easingType,e.easingFunction,e.transitionDuration,e.transitionShouldSmartAnimate,e.transitionPreserveScroll,e.transitionResetVideoPosition,e.openUrlInNewTab,e.transitionResetScrollPosition,e.transitionResetInteractiveComponents),O=v&&!I&&("INSTANT"===A.behavior||"DISSOLVE"===A.behavior),M=g&&"OVERLAY"===(0,nQ.kB)(e.navigationType)&&k,P=!y&&(0,qt.wf)(e),L=(0,qt.aU)(e),D=(0,qt.wP)(i)?O||P:(0,qt.eK)(i,e.connectionType,e.navigationType),R=W.useCallback(e=>{let t=sN.K0(e);t&&l({transitionNodeID:t}),c((0,as.UV)({name:"Prototype navigation destination changed",params:{source:"panel"}}))},[c,l]),F=W.useCallback(e=>{r(e),c((0,as.UV)({name:"Variant based prototyping UI changed",params:{source:"panel"}})),c((0,as.UV)({name:"Prototype navigation destination changed",params:{source:"panel"}}))},[r,c]),B=W.useCallback(e=>{l({connectionURL:e.target.value})},[l]),U=(0,cN.Yn)(e),K=q()({"prototype_interaction_panel--actionDetailsInner--7ywFI":!0,[q_]:s.isNestedInConditional}),G=(0,ty.Ci)();return W.createElement("div",{className:K},g&&!h&&W.createElement(q8,{className:"prototype_interaction_panel--destinationDropdown--ZIcBV",dispatch:c,dropdownShown:d,onChange:R,nodeId:e.transitionNodeID||sN.WW,scene:m,recordingKey:lI.Mx(t,"destinationDropdown"),action:U,useUI3:G}),f&&W.createElement(Zv,{action:e,recordingKey:t,onOpenInNewTabChange:e=>{l({openUrlInNewTab:e}),c((0,as.UV)({name:"Open Url In New Tab Changed",params:{value:e}}))},onURLChange:B}),y&&W.createElement(Zf,{dropdownShown:d,scene:m,targetVideoNodeID:e.transitionNodeID||sN.WW,recordingKey:lI.Mx(t,"targetVideoDropdown"),viableSameFrameVideoIds:b,disabledSameFrameVideoIds:T,isVideoSelected:C,onChange:R}),W.createElement(Zk,{dropdownShown:d,action:e,onChange:a,updateSelectionProperties:l,recordingKey:t}),W.createElement(ZC,{action:U,showScrollToOptions:"SCROLL_TO"===U,extraScrollOffset:e.extraScrollOffset,updateSelectionProperties:l}),p&&W.createElement("div",{className:ap.cx.ml4.$},W.createElement(Zo,{className:"prototype_interaction_panel--variableSelectorDropdown--UOYMn",dispatch:c,onChange:R,nodeId:e.transitionNodeID||sN.WW,targetVariable:e.targetVariable||{id:""},targetVariableData:e.targetVariableData,updateSelectionProperties:l,recordingKey:lI.Mx(t,"setVariableControls"),action:U,isNestedInConditional:s.isNestedInConditional,isNarrowPanel:s.isNestedInConditional||s.isNarrowPanel,autoOpenVariablePicker:o})),_&&W.createElement("div",{className:ap.cx.ml4.$},W.createElement(qr.K,{dispatch:c,targetVariableSetID:e.targetVariableSetID,targetVariableModeID:e.targetVariableModeID,updateSelectionProperties:l,recordingKey:lI.Mx(t,"setVariableControls")})),E&&W.createElement(q0,{updateSelectionProperties:l,recordingKey:lI.Mx(t,"conditionalActionSection"),action:e,updateMultipleDestinationNodes:r,interactionType:n,stateManagementVersion:i,selectedInteractions:s.selectedInteractions,actionIndexPath:s.actionIndexPath,onDrop:s.onDrop,onSelect:s.onSelect,onExpand:s.onExpand,onNewActionAdded:s.onNewActionAdded,selectedActionIndex:s.selectedActionIndex,expandedRows:s.expandedRows}),h&&W.createElement("div",{className:ap.cx.ml0.$},W.createElement(q9,{onChange:F,nodeId:e.transitionNodeID||sN.WW,recordingKey:lI.Mx(t,"consumption"),actionIndexPath:s.actionIndexPath})),N&&W.createElement(qY.Un,{transition:A,interactionType:n,navigationType:e.navigationType,recordingKey:lI.Mx(t,"animationPanel"),updateSelectionProperties:l,isNarrowPanel:s.isNestedInConditional||s.isNarrowPanel,stateManagementVersion:i}),M&&W.createElement(qF,{interactionType:n,updateSelectionProperties:l,recordingKey:lI.Mx(t,"overlaySettings"),actionIndexPath:s.actionIndexPath,nodeId:e.transitionNodeID||sN.WW}),D&&W.createElement(Zp,{connectionType:e.connectionType,transition:A,navigationType:e.navigationType,recordingKey:lI.Mx(t,"stateManagementPanel"),updateSelectionProperties:l,showPreserveScrollPosition:O,showResetVideoState:!!P,showResetInteractiveComponentState:!!L,stateManagementVersion:i,selectedInteractions:s.selectedInteractions}))}var ZS=n(137036),ZI=n(375047);let ZA=Symbol("ACTION_ROW");function ZO({updateMultipleDestinationNodes:e,updateSelectionProperties:t,onDeleteAction:n,stateManagementVersion:a,selectedInteractions:r,autoOpenVariablePicker:l,...i}){let o=(0,Y.OY)(),{shouldShowAdvancedPrototypingPaywall:s,showAdvancedPrototypingVariablesModal:c,showAdvancedPrototypingConditionalActionsModal:d}=(0,qt.MX)(),m=(0,rp.g)(),u=(0,qt.wt)(),{firstVariableSetMode:p,firstVariableSetID:_}=(0,qr.M)(),E=i.action,g=i.isNestedInConditional&&(0,qj._c)(i.action),h=!!E.connectionType&&"CONDITIONAL"===E.connectionType,f=(0,ty.Ci)(),v=!((0,nQ.Er)(i.action)||["CLOSE","NONE"].includes(E.connectionType));var y=i.selectedActionIndex.equals(i.actionIndexPath),C=void 0===i.expandedRows||void 0!==i.expandedRows.find(e=>e.equals(i.actionIndexPath));let w=W.useCallback(()=>{v&&i.onExpand(i.actionIndexPath)},[v,i]),[b,T]=W.useState(!1);W.useEffect(()=>{if(h){let e=setTimeout(()=>{T(!0)},0);return()=>clearTimeout(e)}T(!0)},[h]);let x=h&&!C,k=h&&C,N=W.useRef(null),{position:S,dragItem:I}=(0,qn.k3)(()=>({type:ZA,element:N,item:i.action,dropPositionThreshold:k?.2:x?1/3:.5,getDeepestTargetOnly:!0,canDrag:!C,onDrop(e){i.onDrop(e)}})),A=W.useMemo(()=>{let e=N.current;if(!e||!S||I&&"CONDITIONAL"===I.connectionType&&i.isNestedInConditional)return;let t=g?qn.Ab.BEFORE:S;var n=void 0;return t===qn.Ab.BEFORE?n=e.offsetTop:t===qn.Ab.AFTER&&(n=e.offsetTop+e.offsetHeight),n},[I,S,i.isNestedInConditional,g]),O=S&&h&&!C&&S===qn.Ab.INSIDE&&"CONDITIONAL"!==I.connectionType,M=lI.S4(i.recordingKey,"mousedown",e=>{C||(y=!0,i.onSelect(i.actionIndexPath,!0))}),P=lI.S4(i.recordingKey,"mousedown",e=>{y=!1,i.onSelect(i.actionIndexPath,!1)}),L=e=>{var n=!0;switch(e){case"NONE":t({connectionType:"NONE"});break;case"NAVIGATE_TO":t({connectionType:"INTERNAL_NODE",navigationType:"NAVIGATE"});break;case"OPEN_OVERLAY":t({connectionType:"INTERNAL_NODE",navigationType:"OVERLAY"});break;case"SCROLL_TO":t({connectionType:"INTERNAL_NODE",navigationType:"SCROLL_TO"});break;case"SWAP_WITH":t({connectionType:"INTERNAL_NODE",navigationType:"SWAP"});break;case"SWAP_STATE_TO":t({connectionType:"INTERNAL_NODE",navigationType:"SWAP_STATE"});break;case"GO_BACK":t({connectionType:"BACK"});break;case"CLOSE_OVERLAY":t({connectionType:"CLOSE"});break;case"OPEN_URL":t({connectionType:"URL"});break;case"SET_VARIABLE":s?(n=!1,c()):(t({connectionType:"SET_VARIABLE"}),l.current=!0);break;case"SET_VARIABLE_MODE":t({connectionType:"SET_VARIABLE_MODE",targetVariableSetID:_,targetVariableModeID:p});break;case"UPDATE_MEDIA_PLAY":t({connectionType:"UPDATE_MEDIA_RUNTIME",mediaAction:"PLAY"});break;case"UPDATE_MEDIA_PAUSE":t({connectionType:"UPDATE_MEDIA_RUNTIME",mediaAction:"PAUSE"});break;case"UPDATE_MEDIA_PLAY_PAUSE_OPTIONS":case"UPDATE_MEDIA_TOGGLE_PLAY_PAUSE":t({connectionType:"UPDATE_MEDIA_RUNTIME",mediaAction:"TOGGLE_PLAY_PAUSE"});break;case"UPDATE_MEDIA_MUTE":t({connectionType:"UPDATE_MEDIA_RUNTIME",mediaAction:"MUTE"});break;case"UPDATE_MEDIA_UNMUTE":t({connectionType:"UPDATE_MEDIA_RUNTIME",mediaAction:"UNMUTE"});break;case"UPDATE_MEDIA_MUTE_UNMUTE_OPTIONS":case"UPDATE_MEDIA_TOGGLE_MUTE_UNMUTE":t({connectionType:"UPDATE_MEDIA_RUNTIME",mediaAction:"TOGGLE_MUTE_UNMUTE"});break;case"UPDATE_MEDIA_SKIP_BY_OPTIONS":case"UPDATE_MEDIA_SKIP_FORWARD":t({connectionType:"UPDATE_MEDIA_RUNTIME",mediaAction:"SKIP_FORWARD"});break;case"UPDATE_MEDIA_SKIP_BACKWARD":t({connectionType:"UPDATE_MEDIA_RUNTIME",mediaAction:"SKIP_BACKWARD"});break;case"UPDATE_MEDIA_SKIP_TO":t({connectionType:"UPDATE_MEDIA_RUNTIME",mediaAction:"SKIP_TO"});break;case"CONDITIONAL":s?(n=!1,d()):t({connectionType:"CONDITIONAL"})}C||w(),n&&o((0,as.UV)({name:"Prototype action changed",params:{action:e,source:"panel"}}))},D=i.isNestedInConditional?"prototype_interaction_panel--conditionalActionRowDivider--9pjgS prototype_interaction_panel--actionRowDivider--bqH58":"prototype_interaction_panel--topLevelActionRowDivider--TriUY prototype_interaction_panel--actionRowDivider--bqH58";if(g&&i.onAddAction)return W.createElement(W.Fragment,null,A&&W.createElement("hr",{className:D,style:{transform:`translateY(${A}px)`}}),W.createElement("div",{className:"prototype_interaction_panel--addActionRow--PByUm",ref:N},W.createElement(qX,{addButtonPressed:i.onAddAction,recordingKey:lI.Mx(i.recordingKey,"addAction"),isNestedInConditional:!0})));let R=(0,cN.oy)(E),F="NONE"!==R,B=C||!F,U=i.numActions>1,K=i.numActions>1||i.isNestedInConditional,G=q()({"prototype_interaction_panel--actionRow--WzbzF":!0,"prototype_interaction_panel--actionRowSelected--dcGvB":y,"prototype_interaction_panel--conditionalActionRowBorder--p80fK":O,"prototype_interaction_panel--removeLeftMargin--2WMkr":i.isNestedInConditional}),H=q()({"prototype_interaction_panel--actionTitleRow--DxGK3":!0,[q_]:i.isNestedInConditional}),V=W.createElement(eN.A,{key:"expand-caret",className:"prototype_interaction_panel--expandCaret--xX9Pv",svg:C?_m.c:_u.c,recordingKey:lI.Mx(i.recordingKey,"expandCaret"),onClick:w}),j=W.createElement(qv,{action:E,isNestedInConditional:i.isNestedInConditional,isNarrowPanel:i.isNarrowPanel&&U}),X=W.createElement(qd,{className:"NONE"!==R?ZS.ML:void 0,dispatch:o,dropdownShown:m,onChange:L,action:R,recordingKey:lI.Mx(i.recordingKey,"actionDropdown"),showVideoActions:u,isNestedInConditional:i.isNestedInConditional}),z=W.createElement(s$.wP,{className:f?"prototype_interaction_panel--minusButtonUI3--kzsLc":"prototype_interaction_panel--minusButton--cZso-",onClick:n,"data-tooltip-type":n1.wL.TEXT,"data-tooltip":(0,ex.t)("proto.prototype_panel.delete"),"aria-label":(0,ex.t)("proto.prototype_panel.delete"),recordingKey:lI.Mx(i.recordingKey,"actionDeleteButton")},W.createElement(sZ.e,{svg:ZI.c},W.createElement(ac.A,null))),Z=W.createElement(s$.WA,{className:H,onDoubleClick:w},v&&V,B?W.createElement("span",{className:"prototype_interaction_panel--dropdownContainer--udrAG"},X):j,K&&z),Q=B?X:j,J=W.createElement(rA.g9,{className:H,onDoubleClick:w},v&&V,K?W.createElement(qy.gn,{appendedClassName:qp,label:null,input:Q,icon:z}):W.createElement(qy._8,{appendedClassName:qp,label:null,input:Q}));return W.createElement("div",{className:G,ref:N,role:"button",tabIndex:0,onMouseDown:M,onMouseUp:P},A&&W.createElement("hr",{className:D,style:{transform:`translateY(${A}px)`}}),f?J:Z,C&&b&&W.createElement(ZN,{updateMultipleDestinationNodes:e,action:E,onActionChange:L,recordingKey:i.recordingKey,updateSelectionProperties:t,interactionType:i.interactionType,stateManagementVersion:a,selectedInteractions:r,isNestedInConditional:i.isNestedInConditional,isNarrowPanel:i.isNarrowPanel,actionIndexPath:i.actionIndexPath,onDrop:i.onDrop,onSelect:i.onSelect,onExpand:i.onExpand,onNewActionAdded:i.onNewActionAdded,selectedActionIndex:i.selectedActionIndex,expandedRows:i.expandedRows,autoOpenVariablePicker:l}))}var ZM=n(648704);function ZP(e){let{selectedInteractions:t,makeUpdateSelectionPropertiesForActionIndex:n,makeUpdateMultipleDestinationNodesForActionIndex:a,differentLengthActions:r,mergedActions:l}=(0,ZM.cp)(e.category),i=(0,Y.OY)(),o=(0,sC.uc)("currentPage"),{shouldShowAdvancedPrototypingPaywall:s,showAdvancedPrototypinglMultipleActionsModal:c}=(0,qt.MX)(),d="NONE"!==(0,nQ.kB)(e.interactionType),m=void 0!==l.find(e=>"CONDITIONAL"===e.connectionType),[u,p]=W.useState(new qj.qw([]));var _=[];l.length<4&&l.forEach((e,t)=>{_.push(new qj.qw([t]))});let[E,g]=W.useState(_);W.useEffect(()=>{var t;!e.newActionIndexPath||(null==(t=e.newActionIndexPath)?void 0:t.equals([]))||(g([...E,e.newActionIndexPath]),p(new qj.qw([])),e.resetNewActionIndexPath())},[E,e]);let h=W.useCallback(n=>{let a=e.interactionsOnSelectedNodes;if(a&&t){if(s)c();else{for(let e=0;e<(null==t?void 0:t.length);e++){let a=t[e],s=[];if(a&&a.actions){var r=0,l=[];for(let e=0;e<a.actions.length;e++){let t=a.actions[e];if(e!==n)void 0!==E.find(t=>t.equals([e]))&&l.push(new qj.qw([r])),s.push(t),r++;else{let e=a.id?a.id:sN.WW;i((0,as.UV)({name:"Prototype delete action",params:{action:t.connectionType?t.connectionType:"NONE",source:"panel",connector_id:(0,sN.MR)(e),page_id:o}}))}g(l)}t[e].actions=s}}let e=a.map(e=>t.find(t=>t.id===e.id)??e);tA.CA.updateSelectionProperties({prototypeInteractions:e})}}},[e.interactionsOnSelectedNodes,t,s,c,E,i,o]),f=W.useCallback((e,t)=>{t?p(new qj.qw(e)):p(new qj.qw([]))},[]),v=W.useCallback(e=>{E.find(t=>t.equals(e))?g(E.filter(t=>!t.equals(e))):g([...E,new qj.qw(e)])},[E]),y=W.useCallback(n=>{var a=n.dropItem;if((0,nQ.Er)(a))return;let r=e.interactionsOnSelectedNodes;if(!r||!t)return;for(var l=0;l<(null==t?void 0:t.length);l++){let e=t[l];if(e&&e.actions){let r=e.actions,i=(0,qj.Sg)(r,u,E,a,n.position);i.newActions&&(t[l].actions=i.newActions,p(new qj.qw([]))),i.newExpandedRows&&g(i.newExpandedRows)}}let i=r.map(e=>t.find(t=>t.id===e.id)??e);tA.CA.updateSelectionProperties({prototypeInteractions:i})},[E,e.interactionsOnSelectedNodes,u,t]);return W.createElement(qn.qd,null,W.createElement(s$.sF,{style:(0,ty.Ci)()?{borderBottom:"none"}:void 0},e.shouldHideTitle?null:W.createElement(s$.WA,null,W.createElement(s$.ol,{title:(0,ex.t)("proto.interaction.interaction"),dataTooltipContentKey:n1.oz.PROTOTYPE_ACTION_INFO,dataTooltipTimeoutDelay:50})),W.createElement("div",null,d&&W.createElement(W.Fragment,null,r&&W.createElement(aE.g,{direction:"horizontal",padding:{horizontal:16,vertical:12}},W.createElement(s$.yk,null,W.createElement(ex.Tx,{id:"fullscreen.properties_panel.click_plus_to_replace_mixed_content"}))),!r&&(null==l?void 0:l.map((r,i)=>W.createElement(ZO,{key:i,updateMultipleDestinationNodes:a(i),action:r,recordingKey:lI.Mx(e.recordingKey,"action-row",i),updateSelectionProperties:n(i),onDeleteAction:()=>h(i),interactionType:e.interactionType,actionIndexPath:[i],numActions:l.length,isNestedInConditional:!1,isNarrowPanel:!m,stateManagementVersion:e.stateManagementVersion,selectedInteractions:t,onDrop:y,onSelect:f,onExpand:v,selectedActionIndex:u,autoOpenVariablePicker:e.autoOpenVariablePicker,expandedRows:E,onNewActionAdded:e.onNewActionAdded})))))))}var ZL=n(764644),ZD=n(931296);function ZR({onChange:e,value:t,shouldFocusKeyCaptureField:n,setShouldFocusKeyCaptureField:a}){let r;let l=(0,ZD._4)(null==t?void 0:t.keyCodes),i=t=>e({keyCodes:t,triggerDevice:"KEYBOARD"}),[o,s]=W.useState(!1),c=W.useRef(null);W.useEffect(()=>{(!t||!t.keyCodes||0===t.keyCodes.length)&&n&&c.current&&(a(!1),c.current.focus(),s(!0))},[a,n,t]),W.useEffect(()=>{if(!o)return()=>{};let t=new ZL.Q,n=t.onPress(t=>{e({keyCodes:[t.buttons[0]],triggerDevice:t.controllerType}),requestAnimationFrame(()=>{document.activeElement instanceof HTMLElement&&document.activeElement.blur()})});return t.start(),()=>{n.release(),t.end()}},[e,o]);let d=null,m=(0,ZD.O0)(t);return o?r=W.createElement(ZF,null,W.createElement(ex.Tx,{id:"proto.keyCapture.press_key"})):(null==t?void 0:t.triggerDevice)==="KEYBOARD"&&l?d=(0,ZD.YD)(l):m?d=m:r=W.createElement(ZF,null,W.createElement(ex.Tx,{id:"proto.keyCapture.click_to_select"})),W.createElement(s$.CQ,{ref:c,className:"prototype_key_capture_field--root--bD21s","data-tooltip-type":n1.wL.TEXT,"data-tooltip":d&&d.length>10?d:null,onFocus:()=>s(!0),onBlur:()=>s(!1),onKeyDown:e=>{e.preventDefault(),e.stopPropagation();let t=e.which||e.keyCode;!ZD.S8.has(t)&&ZD.Ud[t]&&(t===(null==l?void 0:l.keyCode)&&e.repeat?i((0,ZD.a2)({keyCode:t,metaKey:e.metaKey||l.metaKey,shiftKey:e.shiftKey||l.shiftKey,ctrlKey:e.ctrlKey||l.ctrlKey,altKey:e.altKey||l.altKey})):i((0,ZD.a2)({...e,keyCode:t})),document.activeElement instanceof HTMLElement&&document.activeElement.blur())},recordingKey:"keycapture"},d??r)}function ZF({children:e}){return W.createElement("span",{className:"prototype_key_capture_field--placeholder--gWUKF"},e)}var ZB=n(677808);class ZU extends aZ.M1{}class ZK extends aZ.cb{}let ZG=new cN.Kg,ZH=new cN.Y9,ZV=new cN.RZ,ZW=new cN.U$;function ZY(e){let t=(0,Y.OY)(),n=(0,rp.g)(),{showVideoV2Triggers:a}=(0,el.q)(e=>{var t;return{allStatesInSelection:(null==(t=e.mirror.selectionProperties.stateGroupSelectionInfo)?void 0:t.mode)===eM.MJr.STATE,allTopLevelFramesInSelection:!!e.mirror.selectionProperties.allTopLevelFramesInSelection,showVideoV2Triggers:(0,qa.kz)(e.mirror.selectionProperties)}}),r=(0,eo.m4)(ZB.gX),l=(t,n)=>W.createElement(ZK,{key:n,value:t,recordingKey:lI.Mx(e,t),disabled:!function(t){var n;if("NONE"===t)return!0;let r=!!e.interactionsOnSelectedNodes&&e.interactionsOnSelectedNodes.every(t=>e.interactionsOnSelectedNodes&&sN.yK(t.sourceNodeID,e.interactionsOnSelectedNodes[0].sourceNodeID))&&!(0,nQ.EH)(e.property),l=(null==(n=function(){if(e.interactionsOnSelectedNodes)return new Set(e.interactionsOnSelectedNodes.map(e=>{var t;return null==(t=null==e?void 0:e.event)?void 0:t.interactionType}).filter(e=>void 0!==e))}())?void 0:n.has(t))&&(0,nQ.EH)(e.property)&&e.property!==t;return(!r&&!l||!!["ON_KEY_DOWN","DRAG","ON_VOICE","ON_MEDIA_HIT"].includes(t))&&("AFTER_TIMEOUT"===t?!e.interactionContainsOpenLinkAction:"ON_MEDIA_HIT"===t||"ON_MEDIA_END"===t?a:(!e.interactionContainsOpenLinkAction||"ON_CLICK"===t||"MOUSE_UP"===t)&&(!e.interactionContainsUpdateMediaRuntime||"ON_HOVER"!==t&&"ON_PRESS"!==t&&"DRAG"!==t)&&(!e.interactionOnlyContainsBack||"ON_HOVER"!==t&&"ON_PRESS"!==t))}(t)}),i=["NONE"].map(l),o=["ON_CLICK","DRAG","ON_HOVER","ON_PRESS","ON_KEY_DOWN"].map(l),s=["MOUSE_ENTER","MOUSE_LEAVE","MOUSE_DOWN","MOUSE_UP"].map(l),c=["ON_MEDIA_HIT","ON_MEDIA_END"].map(l),d=["AFTER_TIMEOUT"].map(l),m=r?"ON_MEDIA_HIT"!==e.property?ZH:ZW:"ON_MEDIA_HIT"!==e.property?ZG:ZV,u=W.useCallback(e=>e-24,[]);return W.createElement(ZU,{id:"interaction-type-select",className:e.className,chevronClassName:"transition_interaction_dropdown--chevron--pyzhq",inputClassName:"transition_interaction_dropdown--input--y0pgd",dataTestId:"interaction-select",property:e.property,formatter:m,onChange:e.onChange,dispatch:t,dropdownShown:n,recordingKey:lI.Mx(e,"select"),hideDropdownWhenContainerMoves:!(0,eE.g9)(),dropdownAlignment:u,dropdownWidth:160},i,W.createElement(aZ.Wy,null),o,W.createElement(aZ.Wy,null),s,W.createElement(aZ.Wy,null),d,a&&[W.createElement(aZ.Wy,{key:""}),...c])}let Zj={keyCodes:[],triggerDevice:"KEYBOARD"};function ZX(e){let{detailPropsMultipleActions:t,interactionsOnSelectedNodesAndComponents:n,updateSelectionProperties:a}=(0,ZM.cp)(e.category),{interactionType:r="NONE",transitionTimeout:l=.8,mediaHitTime:i=0,interactionMaintained:o=!1,interactionDuration:s=.3,keyTrigger:c=Zj}=t.interactionEvent,d=(e,t)=>{if(e.connectionType===t)return e;if("CONDITIONAL"===e.connectionType)for(let n of(0,nQ.EH)(e.conditionalActions)&&e.conditionalActions?e.conditionalActions:[]){let e=n.actions?n.actions.find(e=>e.connectionType===t):void 0;if(void 0!==e)return e}return null},m=void 0!==t.interactionActions.find(e=>d(e,"URL")),u=void 0!==t.interactionActions.find(e=>d(e,"UPDATE_MEDIA_RUNTIME")),p=1===t.interactionActions.length&&"BACK"===t.interactionActions[0].connectionType,_=void 0!==t.interactionActions.find(e=>d(e,"CONDITIONAL"));return function(e){let t=(0,Y.OY)(),n=e.updateSelectionProperties,a=(0,eP.Sk)(),[r,l]=W.useState(!1),i=!0===(0,nQ.kB)(e.maintained),o=(0,nQ.kB)(e.keyTrigger),s="ON_KEY_DOWN"===(0,nQ.kB)(e.interactionType),c="AFTER_TIMEOUT"===(0,nQ.kB)(e.interactionType),d="ON_MEDIA_HIT"===(0,nQ.kB)(e.interactionType),m=["MOUSE_IN","MOUSE_OUT","MOUSE_ENTER","MOUSE_LEAVE","MOUSE_DOWN","MOUSE_UP"].indexOf((0,nQ.kB)(e.interactionType)||"")>-1;return W.createElement("div",{className:"prototype_interaction_panel--interactionRowContainer--8IWen"},W.createElement(s$.WA,{className:q()("prototype_interaction_panel--interactionRowHeader--FRsvU","prototype_interaction_panel--selectionContainer--FAj3B")},W.createElement(ZY,{className:"prototype_interaction_panel--interactionSelectDropdown--HG9ew",property:e.interactionType,onChange:a=>{rx.sr.start("interaction_details_changed"),n({interactionType:a}),t((0,as.UV)({name:"Prototype Interaction Type Changed",params:{newType:a,oldType:(0,nQ.uc)(e.interactionType,"MIXED")}})),"ON_KEY_DOWN"===a&&l(!0)},interactionContainsOpenLinkAction:e.interactionContainsOpenLinkAction,interactionContainsUpdateMediaRuntime:e.interactionContainsUpdateMediaRuntime,interactionOnlyContainsBack:e.interactionOnlyContainsBack,recordingKey:lI.Mx(e,"interactionDropdown"),interactionsOnSelectedNodes:e.interactionsOnSelectedNodes}),W.createElement("div",{className:"prototype_interaction_panel--headerButtonContainer--P2F08"},e.headerButtons)),W.createElement(W.Fragment,null,c&&W.createElement(s$.WA,null,W.createElement(qT.OK,{className:"prototype_interaction_panel--timeoutContainer--Zn1xk",inputClassName:"prototype_interaction_panel--timeout--mSbqx",dataTestId:"timeout-input",dispatch:t,value:e.timeout,onValueChange:e=>{n({transitionTimeout:e})},wheelMultiplier:a/1e3,scrubMultiplier:a/1e3,max:20,"data-tooltip-type":n1.wL.TEXT,"data-tooltip":(0,ex.t)("proto.trigger.after_delay_timeout"),tooltipForScreenReadersOnly:!0,recordingKey:lI.Mx(e,"timeoutInput")})),s&&W.createElement(s$.WA,null,W.createElement(ZR,{onChange:e=>{n({keyTrigger:e})},value:o,shouldFocusKeyCaptureField:r,setShouldFocusKeyCaptureField:l})),d&&W.createElement(s$.WA,null,W.createElement(qT.G_,{displayFractions:!0,className:"prototype_interaction_panel--timestampContainer--P9Uid",inputClassName:"prototype_interaction_panel--timestamp--Ay3G7",dataTestId:"mediaHitTime-input",dispatch:t,value:e.mediaHitTime,onValueChange:e=>{n({mediaHitTime:e})},wheelMultiplier:a/1e3,scrubMultiplier:a/1e3,max:3600,"data-tooltip-type":n1.wL.TEXT,"data-tooltip":(0,ex.t)("proto.trigger.video_hit_time"),tooltipForScreenReadersOnly:!0,recordingKey:lI.Mx(e,"mediaHitTimeInput")}))),m&&W.createElement(s$.WA,null,W.createElement(qT.OK,{className:"prototype_interaction_panel--durationContainer--GYp82",inputClassName:"prototype_interaction_panel--duration--JdsIp",dataTestId:"duration-input",dispatch:t,value:i?e.interactionDuration:void 0,onValueChange:e=>{n(e&&e>0?{interactionMaintained:!0,interactionDuration:e}:{interactionMaintained:!1})},min:0,allowEmpty:!0,placeholder:(0,ex.t)("proto.trigger.add_delay_placeholder"),wheelMultiplier:a/1e3,scrubMultiplier:a/1e3,"data-tooltip-type":n1.wL.TEXT,"data-tooltip":(0,ex.t)("proto.trigger.after_delay_timeout"),tooltipForScreenReadersOnly:!0,recordingKey:lI.Mx(e,"delayInput")})))}({...e,updateSelectionProperties:a,interactionType:r,interactionContainsOpenLinkAction:m,interactionContainsUpdateMediaRuntime:u,interactionOnlyContainsBack:p,interactionContainsConditionalAction:_,timeout:l,maintained:o,interactionDuration:s,mediaHitTime:i,keyTrigger:c,interactionsOnSelectedNodes:n,recordingKey:lI.Mx(e.recordingKey,"interactionPanel")})}function Zz({transition:e,recordingKey:t,updateSelectionProperties:n,stateManagementVersion:a,selectedInteractions:r}){let l=(0,Y.OY)(),i=1===a?W.createElement(eT.ET,{className:"prototype_state_management_version_panel--revertButton--Svmg9",recordingKey:lI.Mx(t,"revert-state-management-version"),onClick:()=>{Z.qE.trackDefinedEvent("prototype.state_management_noodle_reverted",{num_interactions:r.length}),n({stateManagementVersion:0})},"data-testid":"revert-state-management-button"},W.createElement(ex.Tx,{id:"proto.state_management.revert_controls"})):W.createElement(eT.wX,{recordingKey:lI.Mx(t,"update-state-management-version"),onClick:()=>{for(let t of(Z.qE.trackDefinedEvent("prototype.state_management_noodle_upgraded",{num_interactions:r.length,preserve_scroll_position_value:!!e.preserveScroll}),r))(0,qt.wP)(t.stateManagementVersion)&&t.id&&t.sourceNodeID&&Zc.Ib.recordInteractionUpgraded(t.id,t.sourceNodeID);n({...(0,nQ.EH)(e.preserveScroll)&&(0,nQ.EH)(a)?{transitionResetScrollPosition:!e.preserveScroll}:{},stateManagementVersion:1}),l(ek.A.enqueue({type:"state-management-updated",message:(0,ex.t)("proto.state_management.visual_bell_updated_message"),button:{text:(0,ex.t)("proto.state_management.visual_bell_update_all"),action:()=>{tA.CA.triggerActionInUserEditScope("update-interactions-state-management-on-page"),l(ek.A.enqueue({type:"state-management-updated-all",message:(0,ex.t)("proto.state_management.visual_bell_update_all_message")}))}}}))}},W.createElement(ex.Tx,{id:"proto.state_management.update_controls"}));return W.createElement(Zs.u,{name:"prototype_state_management_version_panel"},W.createElement(s$.sF,null,W.createElement("div",{className:"prototype_state_management_version_panel--versionControls--siAOf"},W.createElement(s$.iM,{className:"prototype_state_management_version_panel--label--vvYMX"},1===a?W.createElement(ex.Tx,{id:"proto.state_management.new_controls"}):W.createElement(ex.Tx,{id:"proto.state_management.old_controls"}),W.createElement("a",{target:"_blank",rel:"noopener",href:"https://help.figma.com/hc/articles/14397859494295",className:"prototype_state_management_version_panel--link--i5iDD blue_link--blueLink--9rlnd"},W.createElement(ex.Tx,{id:"proto.state_management.controls_help_link"}))),W.createElement("div",{className:"prototype_state_management_version_panel--buttonContainer--rJZ-y"},i))))}let Zq="created_noodle";function ZZ(e){let{shouldHideTitle:t=!1,category:n,newActionIndexPath:a}=e,{detailProps:r,detailPropsMultipleActions:l,interactionsOnSelectedNodesAndComponents:i,updateSelectionProperties:o,selectedInteractions:s}=(0,ZM.cp)(e.category);(0,rT.u)(()=>{if(void 0!==rx.sr.get(Zq)){let e=rx.sr.stop(Zq);(0,Z.we)(Zq,{elapsedMs:e,numConnectors:s.length},{forwardToDatadog:!0})}});let{navigationType:c="NAVIGATE",connectionType:d="NONE",transitionType:m,easingType:u,easingFunction:p,transitionDuration:_,transitionShouldSmartAnimate:E,transitionPreserveScroll:g,transitionResetVideoPosition:h,openUrlInNewTab:f,transitionResetScrollPosition:v,transitionResetInteractiveComponents:y}=r,{interactionType:C="NONE",interactionMaintained:w=!1,interactionDuration:b=.3,keyTrigger:T=Zj,transitionTimeout:x=.8,mediaHitTime:k=0}=l.interactionEvent,N=(0,qt.o1)(m,u,p,_,E,g,h,f,v,y),S=(0,qt.Wf)(s),I=(0,qt.OE)(S)&&Zc.Ib.haveInteractionsBeenUpgraded(s),A=W.createElement(ZP,{interactionType:C,timeout:x,mediaHitTime:k,maintained:w,interactionDuration:b,keyTrigger:T,recordingKey:lI.Mx(e,"interactionPanel"),shouldHideTitle:t,interactionsOnSelectedNodes:i,category:n,stateManagementVersion:S,autoOpenVariablePicker:e.autoOpenVariablePicker,newActionIndexPath:a,resetNewActionIndexPath:e.resetNewActionIndexPath,onNewActionAdded:e.onNewActionAdded});return W.createElement("div",null,A,(l.interactionActions.length>1||(0,qt.eK)(S,d,c))&&((0,qt.wn)(S)||I)&&W.createElement(Zz,{transition:N,recordingKey:lI.Mx(e,"stateManagementVersionPanel"),updateSelectionProperties:o,stateManagementVersion:S,selectedInteractions:s}))}var ZQ=n(791024),ZJ=n(948860);let Z$="prototype_interaction_edit_modal--contentContainer--bo2b4";var Z0=n(232216);let Z1=()=>{eM.i46.setSelectedInteractions([]),tA.CA.deselectProperty()},Z2="prototypeInteractionEditModal",Z5=W.memo(function(){let e=(0,Y.w1)(Z6),t=(0,ZM.If)(),{selectedInteractions:n}=(0,ZM.cp)(t),a=n.length>0,[r,l]=W.useState(!1),i=lI.ag(Z2,"keydown",t=>"Shift"!==t.key?lI.Cy:(l(!0),e&&a)?void 0:lI.Cy),o=lI.ag(Z2,"keyup",t=>"Shift"!==t.key?lI.Cy:(l(!1),e&&a)?void 0:lI.Cy);if(W.useEffect(()=>(document.addEventListener("keydown",i),document.addEventListener("keyup",o),()=>{document.removeEventListener("keydown",i),document.removeEventListener("keyup",o)}),[i,o]),!e||!a)return null;let s=n.some(e=>{var t;return null==(t=e.actions)?void 0:t.some(e=>"CONDITIONAL"===e.connectionType)});return W.createElement(Z3,{category:t,containsConditional:s,pressingShiftKey:r,initialX:e.initialX,initialY:e.initialY,shouldPin:e.shouldPin,setPressingShiftKey:l})}),Z3=W.memo(function({category:e,containsConditional:t,pressingShiftKey:n,initialX:a,initialY:r,shouldPin:l,setPressingShiftKey:i}){let o=(0,Y.OY)(),[s,c]=W.useState(!1),[,d]=(0,eo.lZ)(ZJ.E),m=(0,W.useRef)(null),[u,p]=W.useState(!1),_=l||s,E=n&&!_&&!u,g=t?(0,nF.qe)(rM.iCw):(0,nF.qe)(rM.WQp),h=g/2,[f,v]=W.useState(l),y=(0,eB.OM)({subscribeToUpdates_expensive:!l}),C=W.useCallback(()=>{s||(o((0,as.UV)({name:"prototype_interaction_details_modal_dragged"})),c(!0))},[o,s,c]),w=W.useMemo(()=>{let e=new nU.Cg(a,r);if(l)return t?new nU.Cg(e.x-32,e.y):e;{let t=(0,eB.Zc)(y,e);return new nU.Cg(t.x-g/2,t.y+g/8)}},[g,a,r,t,l,y]);W.useEffect(()=>{if(!n)return;let e=e=>{!e.shiftKey&&n&&i(!1)};return document.addEventListener("mousemove",e),()=>{document.removeEventListener("mousemove",e)}},[n,i]),W.useEffect(()=>{d(E)},[d,E]),W.useEffect(()=>{v(l)},[l]),W.useEffect(()=>()=>{o((0,as.UV)({name:"prototype_interaction_details_modal_closed"}))},[o]);let b=W.useRef(null),[T,x]=W.useState(!1);W.useEffect(()=>{var e;T&&(x(!1),null==(e=b.current)||e.scrollToBottom())},[T,x,b]);let[k,N]=W.useState(new qj.qw([])),{selectedInteractions:S}=(0,ZM.cp)(e),I=(0,t$.AL)(),A=W.useCallback((e,t)=>{let n=e.event.clipboardData||window.clipboardData;switch(t){case nh.Mi.COPY:case nh.Mi.CUT:{let a=JSON.parse(JSON.stringify(S)),r=(0,ZQ.G)(a),l=zC.uC((null==I?void 0:I.key)||null,{prototypeInteractions:r});if(zC.UF(n,l,""),t===nh.Mi.CUT){let e=[];for(let t of S){let{sourceNodeID:n,id:a}=t;n&&a&&e.push(z7.M({nodeID:n,interactionID:a}))}EG.Pc.user("delete-prototype-interactions",()=>eM.i46.deleteInteractions(e)),tA.CA.deselectProperty()}e.accept()}}},[null==I?void 0:I.key,S]),O=W.useRef(!1);return W.createElement(qe.IF.Provider,{value:W.useMemo(()=>({autoCloseOnScroll:!_}),[_])},W.createElement(sm.Sg,{name:"Prototype Draggable modal",style:{height:"100%",width:"100%"},handleClipboard:A},W.createElement(n2.G0,{ref:m,dataTestId:"in-context-prototype-interaction-edit-modal",title:t=>W.createElement("div",{className:"prototype_interaction_edit_modal--onboardingRow--UlvE0"},W.createElement(Z4,{category:e,recordingKey:Z2,closeButton:t,setScrollToBottom:x,autoOpenVariablePicker:O,setNewActionIndexPath:N})),containerClassName:q()({[Z$]:!0,"prototype_interaction_edit_modal--abovePropertiesPanel--hFejC":f,"prototype_interaction_edit_modal--belowPropertiesPanel--f1Jfl":!f,"prototype_interaction_edit_modal--modalExpandedWidth--IDl6k":t,"prototype_interaction_edit_modal--modalWidth--cCH7B":!t,"prototype_interaction_edit_modal--hideModal--RSp-R":E}),headerClassName:"prototype_interaction_edit_modal--multilineInteractionDetailsHeader--OE8Wr",allowWheelPassthrough:!0,initialPosition:w,headerSize:"small",onClose:Z1,recordingKey:"interactionDetailsModal",arrowPosition:l?void 0:n2.Wp.TOP,arrowRelativeX:l?void 0:h,onDragStart:()=>{v(!0),C()},canRenderBelowViewport:!0,allowAutoExpanding:!0,dragHeaderOnly:!0,onFocus:()=>p(!0)},W.createElement(nK.f,{className:Z$,useBottomPinning:!0,ref:b,allowScrollAndZoomOver:!0,"data-not-draggable":!0},W.createElement(ZZ,{shouldHideTitle:!0,recordingKey:Z2,category:e,autoOpenVariablePicker:O,newActionIndexPath:k,resetNewActionIndexPath:()=>{N(new qj.qw([]))},onNewActionAdded:e=>{N(e)}})))))});function Z4({category:e,recordingKey:t,closeButton:n,setScrollToBottom:a,autoOpenVariablePicker:r,setNewActionIndexPath:l}){let i=(0,Y.OY)(),{selectedInteractions:o,differentLengthActions:s,interactionsOnSelectedNodesAndComponents:c}=(0,ZM.cp)(e),d=(()=>{if(1!==o.length)return 0;let e=o[0],t={nodeID:e.sourceNodeID,interactionID:e.id};return eM.MXu.getMatchingInteractions(z7.M(t)).length})(),m=(0,$.Ub)().prototype_hide_matching_noodles&&1===o.length&&d>1;var u=sN.WW;let p=(0,sC.uc)("currentPage"),{shouldShowAdvancedPrototypingPaywall:_,showAdvancedPrototypinglMultipleActionsModal:E}=(0,qt.MX)(),g=m&&W.createElement(uR.w,{as:"button",actionOnPointerDown:!0,tabIndex:-1,onClick:()=>{if(1!==o.length)return;let e=o[0],t={nodeID:e.sourceNodeID,interactionID:e.id},n=eM.MXu.getMatchingInteractions(z7.M(t));eM.i46.selectInteractionsAndSourceNodes(n);let a=(0,ex.t)("proto.interaction_details.visual_bell.selected_n_matching_interactions",{total_num_interactions:n.length});tA.CA.showVisualBellWithUndo("selected-matching-noodles",a,!1),i((0,as.UV)({name:"prototype_select_matching_interactions",params:{num_connectors:n.length}}))},onMouseEnter:()=>{if(1!==o.length)return;let e=o[0],t={nodeID:e.sourceNodeID,interactionID:e.id},n=eM.MXu.getMatchingInteractions(z7.M(t));eM.i46.hoverInteractions(n)},onMouseLeave:()=>eM.i46.hoverInteractions([]),"data-tooltip-type":n1.wL.TEXT,"data-tooltip":(0,ex.t)("proto.interaction_details.select_n_matching_interactions",{total_num_interactions:d}),"aria-label":(0,ex.t)("proto.interaction_details.select_n_matching_interactions",{total_num_interactions:d})},W.createElement(sZ.e,{fix_me_removeThisPropAndProvideUI3Icon:!0,svg:Z0.c})),h=1===o.length,f=o[0],v=f.actions&&f.actions.length<2,y=f.actions&&1===f.actions.length&&f.actions[0],C=!y||"NONE"===y.connectionType;return W.createElement(ZX,{category:e,recordingKey:t,headerButtons:W.createElement(W.Fragment,null,g,W.createElement(qX,{skipPaywall:h&&v&&C,addButtonPressed:e=>{if(!o)return;if(("CONDITIONAL"===e.connectionType||"SET_VARIABLE"===e.connectionType||"SET_VARIABLE_MODE"===e.connectionType)&&_){E();return}"SET_VARIABLE"===e.connectionType&&(r.current=!0);var t,n,d,m=null;let g=1===o.length&&(null==(t=o[0].actions)?void 0:t.length)===1&&"NONE"===o[0].actions[0].connectionType;if(s||g)for(var h=0;h<o.length;h++){let t=o[h];t.actions=[e];let n=t.id,a=t.sourceNodeID;(0,qt.wP)(t.stateManagementVersion)&&n&&a&&Zc.Ib.recordInteractionUpgraded(n,a),t.stateManagementVersion=1}else for(var h=0;h<o.length;h++){let t=o[h];t.actions?((0,qt.wP)(t.stateManagementVersion)&&(t.id&&t.sourceNodeID&&Zc.Ib.recordInteractionUpgraded(t.id,t.sourceNodeID),null==(n=t.actions)||n.forEach(e=>{e.transitionResetScrollPosition=!e.transitionPreserveScroll})),null==(d=t.actions)||d.push(e)):t.actions=[e],u=t.id?t.id:sN.WW,t.stateManagementVersion=1,m=new qj.qw([t.actions.length-1])}let f=c.map(e=>o.find(t=>t.id===e.id)??e);tA.CA.updateSelectionProperties({prototypeInteractions:f}),a(!0),l(m),i((0,as.UV)({name:"Prototype add action",params:{action:e.connectionType?e.connectionType:"NONE",source:"panel",connector_id:(0,sN.MR)(u),page_id:p}}))},renderButton:!0,recordingKey:t}),n)})}let Z6=e=>{var t;return(null==(t=e.pickerShown)?void 0:t.id)===eR.EP?e.pickerShown:null};function Z8(){let e=(0,sC.au)()===eM.w3X.WAND,t=(0,eD.s5)(eM.KEP.canvasViewState().wandHoverHighlight),n=(0,rp.g)(),a=(0,eD.s5)(eM.KEP.canvasViewState().inlineMenuTarget);if(!e)return null;let r=(null==n?void 0:n.type)===eR.mL&&a&&a.boundingBox.width>0;return W.createElement(W.Fragment,null,null!==t&&W.createElement(Z9,null),r&&W.createElement(Z7,null))}function Z9(){let e=(0,eB.OM)({subscribeToUpdates_expensive:!0}),t=(0,eD.s5)(eM.KEP.canvasViewState().wandHoverHighlight),n=null!==t,a=n?(0,eB.C)(e,t):{x:0,y:0,width:0,height:0};return W.createElement("div",{style:{display:n?"block":"none",position:"fixed",top:a.y,left:a.x,width:a.width,height:a.height,background:"rgba(13, 153, 255, 0.1)",pointerEvents:"none",transition:"all",transitionDuration:"0",transitionTimingFunction:"ease-in-out"}})}function Z7(){let e=(0,eB.OM)({subscribeToUpdates_expensive:!0}),t=(0,eD.s5)(eM.KEP.canvasViewState().inlineMenuTarget);if(!t)return null;let n=(0,eB.C)(e,t.boundingBox);return W.createElement("div",{style:{display:"block",position:"fixed",top:n.y,left:n.x,width:n.width,height:n.height,background:"rgba(13, 153, 255, 0.4)",border:"2px solid rgba(13, 153, 255, 0.8)",boxSizing:"border-box",pointerEvents:"none"}})}var Qe=n(782960),Qt=n(755696),Qn=n(712136),Qa=n(140204),Qr=n(634368),Ql=n(921204),Qi=n(818516),Qo=n(126552),Qs=n(652644),Qc=n(520028),Qd=n(793400),Qm=n(901460);let Qu=e=>(0,ab.wt)(e)&&!e.hideCheckForQuickCommand;class Qp extends lI.UR{constructor(e){super(e),this.searchInputRef=W.createRef(),this.scrollContainerRef=W.createRef(),this.listboxId=(0,gU.c)(),this.resultPrefix=(0,gU.c)(),this.delayedCloseTimerID=0,this.updateQueryAndResults=e=>{let t;if(e){let n=this.searchIndex.search(this.props.appModel,e.trim());t=this.sortedByEnabledSearchResults(n)}else t=this.recentlyUsedItemsMenu();this.setState({searchQuery:e,searchResults:t,activeItemIndex:0,mouseMoved:!1})},this.cancelDelayedClose=()=>{0!==this.delayedCloseTimerID&&(clearTimeout(this.delayedCloseTimerID),this.delayedCloseTimerID=0)},this.onClick=lI.yw(this,"click",e=>{(null==e?void 0:e.button)!==0||this.state.searchResults.length>0||this.setState({searchResults:this.searchIndex.list(this.props.appModel)})}),this.onKeyDown=lI.Yh(this,"keydown",e=>{let{createMetrics:t}=this.props.interactionMetrics,n=e=>{if(this.state.searchResults.length>0){let t=this.state.activeItemIndex+e,n=t<0?this.state.searchResults.length-1:t%this.state.searchResults.length,a=1!==this.state.searchResults.length||!this.state.displayAriaActiveDescendant;this.setState({activeItemIndex:n,displayAriaActiveDescendant:a}),this.scrollContainerRef.current.scrollElementAtIndexIntoView(n)}},a=(0,ee.MP)(e,ee.Cs.CONTROL),r=et.cp.mac?(0,ee.MP)(e,ee.Cs.META):a,l=et.cp.mac&&a;switch(e.keyCode){case ee.as.ENTER:{e.preventDefault();let t=this.state.searchResults[this.state.activeItemIndex];t&&EG.Pc.user(`quick-actions-select-${t.name??t.action??"unknown"}`,()=>{this.onSelectItem(t)});break}case ee.as.ESCAPE:e.preventDefault(),this.cancelDelayedClose(),this.props.dispatch(lZ.yi());break;case ee.as.N:case ee.as.DOWN_ARROW:if(e.keyCode===ee.as.N&&!l){(0,ai.eI)(e,ai.fh.NO);break}e.preventDefault(),this.cancelDelayedClose(),n(1);break;case ee.as.P:case ee.as.UP_ARROW:if(e.keyCode===ee.as.P&&!l){(0,ai.eI)(e,ai.fh.NO);break}e.preventDefault(),this.cancelDelayedClose(),n(-1);break;case ee.as.TAB:{e.preventDefault();let n=this.state.searchResults[this.state.activeItemIndex];n&&n.args&&n.args.itemParameterArgs&&(this.onStartParameterMode(n.args.itemParameterArgs,n,"tab"),(0,Qr.O)(n,this.state.searchQuery,t()));break}case ee.as.R:case ee.as.S:case ee.as.D:case ee.as.E:case ee.as.F:case ee.as.O:if(r){e.preventDefault();let t=this.state.searchQuery+e.key;this.updateQueryAndResults(t)}break;default:"Meta"!==e.key&&"Ctrl"!==e.key&&this.cancelDelayedClose(),(0,ai.eI)(e,ai.fh.NO)}}),this.onSearchChange=lI.cJ(this,"change",e=>{let t=e.currentTarget.value;this.updateQueryAndResults(t)}),this.onSearchKeyDown=e=>{e.currentTarget.value.trim().toLowerCase()===X9.oT&&e.keyCode===ee.as.TAB&&this.props.dispatch(lZ.Qn({type:nf._s,data:{entryPoint:X9.Mv.INSERT_TAB}}))},this.onSelectItem=(e,t)=>{var n;if(e.disabled)this.cancelDelayedClose();else{let a=!1;if(null==(n=e.args)?void 0:n.itemParameterArgs){if(e.runPluginArgs&&!this.state.searchQuery)cR.m.instance.enqueue({mode:"run-forever",runPluginArgs:e.runPluginArgs}),a=!0;else if(e.parametersRequired){this.onStartParameterMode(e.args.itemParameterArgs,e,(null==t?void 0:t.type)==="click"?"click":"enter"),(0,Qr.O)(e,this.state.searchQuery,this.props.interactionMetrics.createMetrics());return}}if(e.callback&&!a&&(e.callback((0,ab.CB)(e),e.args,this.props.dispatch),a=!0),e.action&&(d3.Qb.get(e.action,"quick-actions",e.args)(t),a=!0),a&&this.addToRecentlyUsedCommands(e,e.runPluginArgs),(0,Qr.O)(e,this.state.searchQuery,this.props.interactionMetrics.createMetrics()),"toggle-publish"===e.action&&(0,rd.Y9)({id:"insert-component-onboarding-event"}),"component-search"===e.name){this.onEnterComponentSearch(e);return}if(Qu(e)&&!(0,eE.MZ)()){this.cancelDelayedClose(),this.delayedCloseTimerID=setTimeout(()=>{this.props.dispatch(lZ.yi())},300);return}this.props.dispatch(lZ.yi())}},this.renderResult=(e,t)=>{let n=t===this.state.activeItemIndex;return W.createElement(Qg,{role:"option",id:this.getResultId(t),key:e.action||t,recordingKey:lI.Mx(this.props,e.action||"searchResult"),active:n,disabled:!!e.disabled,appModel:this.props.appModel,item:e,isLastItem:t===this.state.searchResults.length-1,actionIcon:this.getActionIcon(e),onClick:t=>this.onSelectItem(e,t),onMouseMove:()=>{this.state.mouseMoved||this.setState({mouseMoved:!0,activeItemIndex:t})},onMouseEnter:()=>{this.state.mouseMoved&&this.setState({activeItemIndex:t})},allSavedPlugins:this.props.pluginAndWidgetMenuArgs.allSavedPlugins,publishedPlugins:this.props.pluginAndWidgetMenuArgs.publishedPlugins,searchQuery:this.state.searchQuery})},this.searchIndex=this.createSearchIndex(),this.state={searchQuery:"",searchResults:this.recentlyUsedItemsMenu(),activeItemIndex:0,displayAriaActiveDescendant:!0,mouseMoved:!1}}componentDidUpdate(e,t){super.componentDidUpdate(e,t),(0,rw.QZ)(this.props.pluginAndWidgetMenuArgs,e.pluginAndWidgetMenuArgs)||(this.searchIndex=this.createSearchIndex())}createSearchIndex(){let e=(0,aw.q)({extensionMenuProps:this.props.pluginAndWidgetMenuArgs,appModel:this.props.appModel,includeDisabled:!0});return new aN.G(this.props.appModel,this.props.selectedView,[...this.props.fullscreenMenuItems,...e],{includeDisabled:!0,acceptsUnicode:"ja"===this.props.locale})}componentDidMount(){super.componentDidMount(),this.searchInputRef.current.focus()}recentlyUsedItemsMenu(){return(0,l8.Ib)(this.props.recentlyUsedQuickCommands.map(e=>{let t=this.searchIndex.getItem(this.props.appModel,e.displayName);return t&&e.runPluginArgs&&(t.runPluginArgs=e.runPluginArgs),t}))}sortedByEnabledSearchResults(e){let t=e.filter(e=>!e.disabled),n=e.filter(e=>e.disabled);return t.concat(n)}addToRecentlyUsedCommands(e,t){let n=(0,ay.E)(e),a=this.props.recentlyUsedQuickCommands.filter(e=>e.displayName!==n&&!!this.searchIndex.getItem(this.props.appModel,e.displayName));a.length>=3&&a.pop(),a.unshift({displayName:n,runPluginArgs:t}),this.props.dispatch(ti.QV(a)),this.props.updateFrecencyHistory(e,this.state.searchQuery)}getActionIcon(e){var t;if(e.runPluginArgs&&!this.state.searchQuery)return W.createElement(eN.A,{svg:Qm.c});if("plugins-menu-item"===e.name){let n;return(e.pluginId&&(n=this.props.pluginAndWidgetMenuArgs.allSavedPlugins[e.pluginId]||(null==(t=this.props.pluginAndWidgetMenuArgs.recentlyUsedPlugins)?void 0:t.find(t=>t.plugin_id===e.pluginId))),n)?W.createElement(lL.W,{className:za.Wk,plugin:n,role:"presentation"}):W.createElement(eN.A,{className:za.Sy,svg:Qd.c,ariaLabel:`${e.name} icon`})}let n=(0,ay.E)(e);return e.iconType&&"external_link"===e.iconType?W.createElement(eN.A,{svg:Qc.c}):this.props.recentlyUsedQuickCommands.filter(e=>e.displayName===n).length>0?W.createElement(eN.A,{svg:Qm.c}):void 0}onEnterComponentSearch(e){this.props.onEnterComponentSearch&&(this.addToRecentlyUsedCommands(e),this.props.onEnterComponentSearch())}onStartParameterMode(e,t,n){this.addToRecentlyUsedCommands(t),this.props.onStartParameterEntry(e,t,n)}getResultId(e){return this.resultPrefix+"-"+e}renderResults(){let e=this.state.searchResults;if(this.state.searchQuery){if(0===this.state.searchResults.length)return W.createElement("div",{className:za.WK},W.createElement(ex.Tx,{id:"fullscreen_actions.no_matches"}))}else if(0===this.state.searchResults.length)return null;return W.createElement(Ql.y,{id:this.listboxId,ref:this.scrollContainerRef,resultCount:e.length,role:"listbox"},e.map(this.renderResult))}render(){let e=this.state.searchQuery||this.state.searchResults.length;return W.createElement(Ql.W,{recordingKey:this.props.recordingKey||"",onKeyDown:this.onKeyDown,"data-testid":"quick-actions"},W.createElement("div",{className:za.kv},W.createElement(eN.A,{svg:zl.c,className:za.I6}),W.createElement("input",{ref:this.searchInputRef,className:za.k$,placeholder:(0,al.W)("quick-actions-modal-placeholder"),onChange:this.onSearchChange,onKeyDown:this.onSearchKeyDown,onClick:this.onClick,value:this.state.searchQuery,maxLength:150,spellCheck:!1,dir:"auto",role:"combobox","aria-autocomplete":"list","aria-owns":this.listboxId,"aria-controls":this.listboxId,"aria-expanded":e?"true":"false","aria-activedescendant":e&&(this.state.displayAriaActiveDescendant||this.state.searchResults.length>1)?this.getResultId(this.state.activeItemIndex):void 0})),this.renderResults())}}Qp.displayName="QuickActions";let Q_=(0,Y.Ul)(function(e,t){var n;return{pluginAndWidgetMenuArgs:t.pluginAndWidgetMenuArgs,fullscreenMenuItems:t.fullscreenMenuItems,interactionMetrics:t.interactionMetrics,updateFrecencyHistory:t.updateFrecencyHistory,appModel:e.mirror.appModel,selectedView:e.selectedView,recentlyUsedQuickCommands:e.recentlyUsedQuickCommands,onStartParameterEntry:t.onStartParameterEntry,onEnterComponentSearch:t.onEnterComponentSearch,locale:null==(n=e.user)?void 0:n.locale}},function(e){return{dispatch:e}})(Qp);function QE(e){let t=(0,aT.KO)(),n=(0,aT.gN)(),a=(0,Qr.H)("legacy"),{addFrecencyUsage:r}=(0,Qn.Q3)();return W.createElement(Q_,{...e,pluginAndWidgetMenuArgs:t,fullscreenMenuItems:n,interactionMetrics:a,updateFrecencyHistory:r})}function Qg(e){let t=(0,eD.s5)((0,eP.EB)().showQuickCommandRankDebug);return W.createElement(Qh,{...e,showQuickCommandRankDebug:t})}class Qh extends lI.UR{constructor(e){super(e),this.onClick=lI.yw(this,"click",e=>{if(!this.props.onClick)return lI.Cy;this.props.onClick(e)}),this.getDisplayText=()=>{let e=this.props.item,t=e.args;if(t&&t.itemParameterArgs&&e.runPluginArgs&&!this.props.searchQuery)return W.createElement(Qa.G,{runPluginArgs:e.runPluginArgs,itemParameterArgs:t.itemParameterArgs,pluginId:this.props.item.pluginId,allSavedPlugins:this.props.allSavedPlugins,publishedPlugins:this.props.publishedPlugins});if(t&&t.itemPath){let e=t.itemPath;return W.createElement(Qa.U,{itemPath:e})}let n=(this.props.showQuickCommandRankDebug&&void 0!==e.stringMatchScore&&void 0!==e.popularityScore?`M${e.stringMatchScore} P${e.popularityScore}: `:"")+(0,ay.E)(e);return W.createElement("div",{className:za.aS},n)},Qu(this.props.item)?this.state={itemIsChecked:(0,ab.EH)(this.props.appModel,this.props.item)}:this.state={}}componentDidUpdate(e,t){super.componentDidUpdate(e,t),null!=this.state.itemIsChecked&&this.setState({itemIsChecked:(0,ab.EH)(this.props.appModel,this.props.item)})}render(){let e=this.props.item,t=this.getDisplayText(),n=(0,ab.CB)(e),a=e.shortcutText||(0,nf.O0)(this.props.appModel.keyboardShortcuts,n),r=void 0!==this.props.item.runPluginArgs,l=e.args&&e.menuActionType&&"run-local-plugin"===e.menuActionType&&(!e.runPluginArgs||this.props.searchQuery),i="plugins-menu-item"===e.name&&!!e.args.itemParameterArgs&&e.args.itemParameterArgs.parameters.length>0,o=null;void 0!==this.state.itemIsChecked?o=W.createElement(Qf,{checked:this.state.itemIsChecked,disabled:this.props.disabled}):this.props.actionIcon&&(o=this.props.actionIcon);let s=`${this.props.active?za.Qb:za.aG} ${this.props.disabled?za.Qn:""}`;return W.createElement("div",{className:s,onMouseMove:this.props.onMouseMove,onMouseEnter:this.props.onMouseEnter,onClick:this.onClick,id:this.props.id,role:this.props.role,"aria-disabled":this.props.disabled||void 0,"aria-checked":this.props.item.checked},W.createElement("div",{className:za.i4},o),W.createElement("div",{className:za.gd},t,l&&W.createElement("div",{className:za.Co},W.createElement(ex.Tx,{id:"fullscreen_actions.development"}))),a&&!i&&W.createElement("div",{className:za.em},a),!a&&i&&W.createElement("div",{className:za.em},W.createElement("div",{className:za.Su},W.createElement(ex.Tx,{id:"fullscreen_actions.tab"})),r&&W.createElement("div",{className:za.Sq},W.createElement(ex.Tx,{id:"fullscreen_actions.to_edit"})),W.createElement(eN.A,{svg:OE.c})),!a&&e.isRepairCommand&&(0,$.Ub)().internal_only_debug_tools&&W.createElement("div",{style:a_.sx.colorBgTertiary.p8.bRadius8.borderBox.flex.itemsCenter.justifyCenter.mr8.h16.add({fontSize:"8px"}).$},"REPAIR"))}}function Qf(e){return"ui3"===(0,X.qG)().version?W.createElement("div",{className:za.Ep},W.createElement(Qt.y,{checked:e.checked,disabled:e.disabled})):e.checked?e.disabled?W.createElement(eN.A,{className:za.C6,svg:Qs.c}):W.createElement(eN.A,{className:za.WU,svg:Qo.c}):W.createElement(eN.A,{svg:Qi.c})}function Qv(e){var t;let[n,a]=W.useState(),[r,l]=W.useState(!0),i=(0,Y.w1)(e=>e.dropdownShown),o=(0,Y.OY)();if(W.useEffect(()=>{r&&(l(!1),e.parameterEntryArgs&&a({args:e.parameterEntryArgs}))},[e.parameterEntryArgs,r]),(0,nf.IJ)(i))return W.createElement(X9.oB,null);if(!n)return W.createElement(QE,{recordingKey:"quickActions",onStartParameterEntry:(e,t,n)=>{let r;switch(n){case"tab":r="quick-actions-tab";break;case"enter":r="quick-actions-enter";break;case"click":r="quick-actions-click";break;default:(0,cL.gy)(n)}a({args:{...e,triggeredFrom:r},item:t})},onEnterComponentSearch:()=>{o(lZ.Qn({type:nf._s,data:{entryPoint:X9.Mv.MENU_OPTION}}))}});{let{args:e,item:r}=n,l=r?(0,ay.E)(r):void 0;return W.createElement(Qe.AB,{recordingKey:"parameterEntry",parameters:e.parameters,displayName:e.displayName,pluginId:e.pluginId,pluginLocalFileId:e.pluginLocalFileId,command:e.command,triggeredFrom:e.triggeredFrom,parameterOnly:e.parameterOnly,onExitParameterEntry:()=>{a(void 0)},initialParameterValues:null==(t=null==r?void 0:r.runPluginArgs)?void 0:t.parameterValues,recentlyUsedCommandName:l})}}Qh.displayName="QuickActionsResult";var Qy=n(872172),QC=n(147860);function Qw(){let[e,t]=(0,W.useState)(null),[n,a]=(0,W.useState)(!1),r=(0,W.useRef)(null),l=(0,W.useCallback)(()=>{r.current&&clearTimeout(r.current),a(!1)},[]),i=(0,W.useCallback)(e=>{"reactive_guidance_tooltip--fadeout--qFmOg"===e.animationName&&t(null)},[]),o=(0,W.useCallback)((e,n)=>{r.current&&(clearTimeout(r.current),t(null)),requestAnimationFrame(()=>{r.current=setTimeout(l,5e3),t({x:e,y:n}),a(!0)})},[l]);(0,W.useEffect)(()=>(0,Qy.m)(o),[o]);let s=(0,eB.OM)({subscribeToUpdates_expensive:!!e});if(!e)return null;let c={top:s.y,left:s.x,height:s.height,width:s.width},d=(0,eB.Qv)(s,{x:e.x+50/s.zoomScale,y:e.y}),m={transform:`translate3D(${d.x}px, ${d.y}px, 0) translate(0, -50%)`};return W.createElement(tg.kH,{name:"Reactive Guidance Tooltip"},W.createElement("div",{className:"reactive_guidance_tooltip--overflowContainer--RQWcR",style:c},W.createElement("div",{className:q()("reactive_guidance_tooltip--tooltip--YkN90",n?"reactive_guidance_tooltip--fadeIn--Sipdd":"reactive_guidance_tooltip--fadeOut--XaVTK"),style:m,onAnimationEnd:i},W.createElement("div",{className:"reactive_guidance_tooltip--icon--NgSHS"},W.createElement(eN.A,{svg:QC.c})),W.createElement("div",{className:"reactive_guidance_tooltip--text--Si0XF"},W.createElement(ex.Tx,{id:"whiteboard.reactive_guidance.view_only",permission:W.createElement("b",null,W.createElement(ex.Tx,{id:"whiteboard.reactive_guidance.view_only_permission"}))})),W.createElement(uS.gF,{viewOnly:!0,variant:"link-onbrand",recordingKey:"reactiveGuidanceViewPermission",hideViewOnlyText:!0}),W.createElement(rW.CA,{className:"reactive_guidance_tooltip--closeButton--J4H60",onClick:l,trackingEventName:"reactive_guidance_tooltip_closed",recordingKey:"reactiveGuidanceTooltip"}))))}var Qb=n(128820);function QT(e){let t=(0,Y.OY)(),n=(0,t1.C2)();return W.createElement(tg.kH,{name:"Starter team edit confirmation modal",properties:{userId:null==n?void 0:n.id,userEmail:null==n?void 0:n.email}},W.createElement(nO.Co,{confirmationTitle:(0,ex.t)("fullscreen.starter_team_edit_modal.open_this_link"),confirmText:"Continue",onConfirm:()=>{(0,Z.we)("Starter File Edit Modal Confirm Clicked",{fileKey:e.fileKey}),Y$.w.createStarterTeamFileRole({key:e.fileKey})},disableClickOutsideToHide:!0,dispatch:t,hideOnConfirm:!1,size:"small",hideCancel:!1,hideClose:!0,onCancel:()=>{(0,Z.we)("Starter File Edit Modal Cancel Clicked",{fileKey:e.fileKey}),J.default.redirect("/files/recents-and-sharing")}},W.createElement("div",{className:gZ.YX},W.createElement(ex.Tx,{id:"fullscreen.starter_team_edit_modal.when_you_open_this_link_your_email_may_be_visible",email:null==n?void 0:n.email}))))}var Qx=n(264916),Qk=n(443736),QN=n(19496),QS=n(476420);let QI=(0,kG.m)(e=>{let t=(0,b$.i)("figjam_summary_attribution");return W.useCallback(()=>t((0,eB.Qn)({nodeId:e,alwaysPan:!1})),[t,e])});function QA(){let[e]=(0,eo.lZ)(QS.W);return 0===Object.keys(e).length?null:W.createElement(W.Fragment,null,Object.entries(e).map(([e,t])=>W.createElement(QO,{key:e,guid:e,data:t})))}function QO({guid:e,data:t}){let[n,a]=(0,W.useState)(null),r=(0,ei.my)(QS.W);(0,W.useEffect)(()=>{var t;let n=`summary-overlay-${e}`,l=(null==(t=(0,Nf.S_)(n,[e],t=>{null===t.position&&r({type:"STOP_SHOWING_ATTRIBUTION",summaryGuid:e}),a(t.position)}).currentNodePosition[e])?void 0:t.position)||null;return a(l),()=>{(0,Nf.O4)(n)}},[e,r]);let l=(0,eB.OM)({subscribeToUpdates_expensive:!0}),i=(0,bf.Y3)(),o=(0,W.useCallback)(()=>{r({type:"STOP_SHOWING_ATTRIBUTION",summaryGuid:e})},[e,r]),s=W.useMemo(()=>{if(!n)return{};let e=(0,eB.C)(l,n),t=e.x+l.x,a=e.y+i;return{height:n.height,width:n.width,transformOrigin:"top left",position:"fixed",transform:`translate(${t}px, ${a}px) rotate(${n.angle}deg) scale(${l.zoomScale})`}},[l,n,i]);return W.createElement("div",{style:s},W.createElement(QM,{data:t,onClose:o}))}function QM({data:e,onClose:t}){let n=`summary-content-attribution-source-dropdown-${e.guid}`,a=(0,Y.OY)(),r=(0,ei.my)(QS.W),l=(0,Y.w1)(e=>{var t;return(null==(t=e.dropdownShown)?void 0:t.type)===n?e.dropdownShown:null}),i=(0,W.useCallback)(t=>{r({type:"SET_CURRENT_THEME",summaryGuid:e.guid,theme:t})},[e.guid,r]),o=e.content_attribution.map(e=>e.themeAttachedTo),s=e.current_theme,c=e.content_attribution.find(e=>e.themeAttachedTo===s),[d,m]=(0,W.useState)(0),u=c?c.nodeIds:[];return W.createElement("div",{className:"summary_attribution_overlay--overlayFrame--72w72"},W.createElement(QU,{onClick:t}),W.createElement("h1",{className:ap.cx.font18.fontSemiBold.lh24.mb4.$},W.createElement(ex.Tx,{id:"whiteboard.ai_summary.summary_source_header"})),W.createElement("p",{className:ap.cx.colorTextSecondary.pb16.$},W.createElement(ex.Tx,{id:"whiteboard.ai_summary.summary_explanation"})," ",W.createElement(ex.Tx,{id:"whiteboard.ai_summary.summary_explanation_edited_last_by",userName:"placeholder - WIP",dateStr:"Feb 27th"})),W.createElement(aZ.M1,{id:n,ariaLabel:(0,ex.t)("whiteboard.ai_summary_dropdown.aria_label"),"data-testid":"summary-content-attribution-source-dropdown",className:ap.cx.wFull.colorText.$,property:s,onChange:i,dropdownWidth:224,formatter:QP,dispatch:a,dropdownShown:l,inputClassName:q()(ap.cx.fontNormal.h16.p8.bRadius6.colorBgSecondary.fontMedium.$,"summary_attribution_overlay--dropdown--lZcAj"),neverConstrain:!0,hideDropdownWhenContainerMoves:!0,targetDomNode:document.body},o.map((e,t)=>W.createElement(aZ.cb,{value:e,key:t,formattedValue:QP.format(e)}))),W.createElement("div",{className:ap.cx.flexGrow1.$},W.createElement(QL,{activePage:d,nodeGuids:u})),W.createElement(QF,{activePage:d,onPageChange:m,pageCount:12}))}let QP={format:e=>e};function QL({nodeGuids:e,activePage:t}){let n=8*t,a=8*(t+1)-1;return W.createElement("div",{className:ap.cx.overflowAuto.$},W.createElement("div",{className:"summary_attribution_overlay--attributionContentContainer--qdB1N"},e.filter((e,t)=>t>=n&&t<=a).map((e,n)=>W.createElement(QD,{key:n,guid:e,activePage:t}))))}function QD({guid:e,activePage:t}){var n;let a=(0,_d.ch)(e=>e,e).get(e),r=W.useRef(null),[l,i]=W.useState(!1),o=QI(e);if(W.useEffect(()=>{r.current&&i(r.current.isTruncated)},[i,null==(n=r.current)?void 0:n.isTruncated,t]),!a)return null;let s=a.name,c=a.authorName;return W.createElement("div",{className:ap.cx.flex.$},W.createElement(QR,{node:a}),W.createElement("div",{"data-testid":"summary-attribution-node-text-preview",className:ap.cx.flex.flexColumn.itemsStart.overflowWrapAnywhere.$},W.createElement(ah.a,{truncate:"line-clamp",lineClamp:3,ref:r},s),l&&W.createElement(eT.Gy,{trusted:!0,onClick:o},W.createElement(ex.Tx,{id:"whiteboard.ai_summary.show_more"})),W.createElement("p",{className:ap.cx.colorTextSecondary.mt8.$},c)))}function QR({node:e}){let t=QI(e.guid);return"TEXT"===e.type?W.createElement("div",{className:ap.cx.mr4.mt2.$},W.createElement("div",{"data-testid":"summary-attribution-node-text-preview-icon-button",role:"button",tabIndex:0,className:ap.cx.bRadius2.cursorPointer.colorBgSecondary.$,onClick:t},W.createElement(Qx.m,null))):"STICKY"===e.type?W.createElement("div",{className:ap.cx.mr8.mt2.$},W.createElement("div",{"data-testid":"summary-attribution-node-text-preview-icon-button",role:"button",tabIndex:0,className:ap.cx.w12.h12.bRadius2.cursorPointer.$,style:{backgroundColor:b5.DY.COLOR_TO_CSS.get(e.whiteboardColor)},onClick:t})):"SHAPE_WITH_TEXT"===e.type?W.createElement("div",{className:ap.cx.mr4.mt2.$},W.createElement("div",{"data-testid":"summary-attribution-node-text-preview-icon-button",role:"button",tabIndex:0,className:ap.cx.bRadius2.cursorPointer.colorBgSecondary.$,onClick:t},W.createElement(Qk.w,null))):W.createElement("div",{className:ap.cx.mr4.mt2.$},W.createElement("div",{"data-testid":"summary-attribution-node-text-preview-icon-button",role:"button",tabIndex:0,className:ap.cx.bRadius2.cursorPointer.colorBgSecondary.$,onClick:t},W.createElement(QN.i,null)))}function QF({activePage:e,onPageChange:t,pageCount:n}){let a=function(e,t){let n=Array.from({length:t},(e,t)=>t);return t<=4?n:(n.forEach((a,r)=>{0!==r&&r!==t-1&&r!==e&&(r<e-1||r>e+1)&&(n[r]="...")}),n.filter((e,t)=>"..."!==e||"..."!==n[t-1]))}(e,n);return W.createElement("div",{className:ap.cx.flex.flexRow.justifyCenter.contentCenter.$},a.map((n,a)=>"..."===n?W.createElement("span",{key:a,className:ap.cx.px6.py2.justifyCenter.cursorDefault.w2.flex.$},"..."):W.createElement(QB,{key:a,page:n,activePage:e,onPageChange:()=>t(n)})))}function QB({page:e,activePage:t,onPageChange:n}){let a=(0,W.useCallback)(()=>n(e),[e,n]);return W.createElement("button",{className:ap.cx.if(t===e,ap.cx.colorBgFigjam.colorTextOnbrand).cursorPointer.flex.w20.px6.py2.contentCenter.justifyCenter.bRadius3.fontSemiBold.$,onClick:a},e+1)}function QU({onClick:e}){return W.createElement("div",{className:ap.cx.mx8.mb20.$},W.createElement("button",{className:ap.cx.itemsCenter.flex.colorText.cursorPointer.$,onClick:e},W.createElement(oL.GW,{icon:"chevron-left-32"}),W.createElement(ex.Tx,{id:"whiteboard.ai_summary.back_to_summary"})))}var QK=n(338776),QG=n(375948),QH=n(347688);function QV(){let e=(0,eo.m4)(DT.yI),t=(0,eo.m4)(xO.uY),n=1e3*parseFloat(QH.C)+300,[a,r]=(0,W.useState)(!1);return((0,W.useEffect)(()=>{let e=setTimeout(()=>{r(!0)},n);return()=>clearTimeout(e)},[n]),e&&"loaded"===t.status&&!1===t.data&&a)?W.createElement(QW,null):null}function QW(){let{getConfig:e}=(0,ep.M9)("exp_fj_paywall_exposure"),t=(0,Y.w1)(e=>e.userFlags),n=(0,Y.w1)(e=>{var t;return null==(t=e.openFile)?void 0:t.teamId}),a=(0,Y.w1)(e=>e.multiplayer.sessionID),r=(0,Y.w1)(e=>{var t;return null==(t=e.openFile)?void 0:t.key}),l=(0,Y.w1)(e=>{var t;return null==(t=e.userAnalyticsData)?void 0:t.first_figjam_at}),i=(0,eo.m4)(QK._S);if(!e().getValue("showModal",!1)||!(0,F_.QP)(t,"figjam_editor_onboarded"))return null;if(n)return W.createElement(QY,{teamId:n,userFlags:t,currentFileKey:r,currentSessionId:a});{let e=(0,F_.QP)(t,"seen_fj_upsell_draft_modal_1")?(0,F_.QP)(t,"seen_fj_upsell_draft_modal_2")?(0,F_.QP)(t,"seen_fj_upsell_draft_modal_3")?null:i.seen_fj_upsell_draft_modal_2.fileKey!==r||i.seen_fj_upsell_draft_modal_2.sessionId!==a?"seen_fj_upsell_draft_modal_3":null:i.seen_fj_upsell_draft_modal_1.fileKey!==r||i.seen_fj_upsell_draft_modal_1.sessionId!==a?"seen_fj_upsell_draft_modal_2":null:"seen_fj_upsell_draft_modal_1";return!e||(0,sE.c)(l).add(7,"day").isSameOrAfter((0,sE.c)())?null:W.createElement(Qj,{mainText:QX(e),userFlag:e,secondaryText:Qz(e),upsellSource:r4.e.FIGJAM_UPSELL_MODAL,gif:Qq(e),teamId:"",currentSessionId:a,currentFileKey:r})}}function QY(e){var t,n,a,r;let{teamId:l,userFlags:i,currentSessionId:o,currentFileKey:s}=e,c=(0,es.Qb)(nm.Oo2,{teamId:l});if("loaded"!==c.status)return null;let d=1!==(r=(null==(a=null==(n=null==(t=c.data)?void 0:t.team)?void 0:n.teamFileCounts)?void 0:a.whiteboardFileCount)??0)||(0,F_.QP)(i,"seen_fj_upsell_team_modal_1")?2!==r||(0,F_.QP)(i,"seen_fj_upsell_team_modal_2")?3!==r||(0,F_.QP)(i,"seen_fj_upsell_team_modal_3")?null:"seen_fj_upsell_team_modal_3":"seen_fj_upsell_team_modal_2":"seen_fj_upsell_team_modal_1";return d?W.createElement(Qj,{mainText:QX(d),userFlag:d,secondaryText:Qz(d),upsellSource:r4.e.FIGJAM_UPSELL_MODAL,gif:Qq(d),teamId:l,currentFileKey:s,currentSessionId:o}):null}function Qj(e){let{mainText:t,secondaryText:n,userFlag:a,upsellSource:r,gif:l,teamId:i}=e,o=(0,ei.my)(QK.es),s=(0,Y.OY)(),c=(0,eo.m4)(QK._S);W.useEffect(()=>{o({showing:!0,userFlag:a})},[o,a]);let d=()=>{s(ts.Kw()),s(tm.s({[a]:!0})),c[a]={fileKey:e.currentFileKey,sessionId:e.currentSessionId},o({showing:!1})},m=(0,$.w1)()[0],u="ja"===m?323-2*i8.g5:303-2*i8.g5;return W.createElement(tg.kH,{name:"FigJamUpsellModal",properties:{}},W.createElement(i8.Y3,{targetKey:QG.C$,dismissModal:d,width:u,topPadding:12,shouldCenterArrow:xh.yi.FALLBACK,disableClickOutsideToHide:!0,additionalOnExplicitDismiss:d,className:"figjam_upsell_modal--modal--04mt-",closeButtonClassName:"figjam_upsell_modal--closeButton--MTKjp",shouldDismissWhenLostDOMTarget:!0},W.createElement("div",{className:"figjam_upsell_modal--genericTopHalf--iECQZ"},W.createElement("span",{className:"figjam_upsell_modal--mainText--pe9Vj text--fontNeg14--ARPWl text--_fontBase--QdLsd text--_negText--j9g-L",style:{width:"ja"===m?154:150}},t),W.createElement("div",{className:"figjam_upsell_modal--gif--1VlR7"},l)),W.createElement("div",{className:"figjam_upsell_modal--genericBottomHalf--ZGBjw"},W.createElement("span",null,n),W.createElement(m2.Uv,{className:"figjam_upsell_modal--upgradeButton--4w7Fb",onClick:()=>{d(),s(ts.A5({type:r$.o,data:{upsellSource:r,teamId:i,openCheckoutInNewTab:!0}}))}},W.createElement(ex.Tx,{id:"upsell.history.upgrade_now"})))))}function QX(e){switch(e){case"seen_fj_upsell_draft_modal_1":return W.createElement(ex.Tx,{id:"whiteboard.paywall_upsell.draft.first.main",purpleSection:QZ(W.createElement(ex.Tx,{id:"whiteboard.paywall_upsell.draft.first.main.purpleSection"}))});case"seen_fj_upsell_draft_modal_2":return W.createElement(ex.Tx,{id:"whiteboard.paywall_upsell.draft.second.main",purpleSection:QZ(W.createElement(ex.Tx,{id:"whiteboard.paywall_upsell.draft.second.main.purpleSection"}))});case"seen_fj_upsell_draft_modal_3":return W.createElement(ex.Tx,{id:"whiteboard.paywall_upsell.draft.third.main",purpleSection:QZ(W.createElement(ex.Tx,{id:"whiteboard.paywall_upsell.draft.third.main.purpleSection"}))});case"seen_fj_upsell_team_modal_1":return W.createElement(ex.Tx,{id:"whiteboard.paywall_upsell.team.main",fileCount:QZ(W.createElement(ex.Tx,{id:"whiteboard.paywall_upsell.team.main.first"}))});case"seen_fj_upsell_team_modal_2":return W.createElement(ex.Tx,{id:"whiteboard.paywall_upsell.team.main",fileCount:QZ(W.createElement(ex.Tx,{id:"whiteboard.paywall_upsell.team.main.second"}))});case"seen_fj_upsell_team_modal_3":return W.createElement(ex.Tx,{id:"whiteboard.paywall_upsell.team.last.main",purpleSection:QZ(W.createElement(ex.Tx,{id:"whiteboard.paywall_upsell.team.last.main.purpleSection"}))});default:return W.createElement(W.Fragment,null)}}function Qz(e){switch(e){case"seen_fj_upsell_draft_modal_1":return W.createElement(ex.Tx,{id:"whiteboard.paywall_upsell.draft.first.secondary"});case"seen_fj_upsell_draft_modal_2":return W.createElement(ex.Tx,{id:"whiteboard.paywall_upsell.draft.second.secondary"});case"seen_fj_upsell_draft_modal_3":return W.createElement(ex.Tx,{id:"whiteboard.paywall_upsell.draft.third.secondary"});case"seen_fj_upsell_team_modal_1":case"seen_fj_upsell_team_modal_2":case"seen_fj_upsell_team_modal_3":return W.createElement(ex.Tx,{id:"whiteboard.paywall_upsell.team.secondary"});default:return W.createElement(W.Fragment,null)}}function Qq(e){switch(e){case"seen_fj_upsell_draft_modal_1":return W.createElement("img",{src:"https://static.figma.com/uploads/2e5f8efd83d4a5faea78203c9c6d306d0d0b862b",alt:"stamping a sticky animation"});case"seen_fj_upsell_draft_modal_2":return W.createElement("img",{src:"https://static.figma.com/uploads/7909d41489939d9259567eeb734d887eb67b95fc",alt:"voting wheel animation"});case"seen_fj_upsell_draft_modal_3":return W.createElement("img",{src:"https://static.figma.com/uploads/c490e715dcc620fce0cff9c6cd11936b30dbe1bd",alt:"audio call animation"});case"seen_fj_upsell_team_modal_1":return W.createElement("img",{src:"https://static.figma.com/uploads/fecccf2b6ed6c72a5269dea45f2f713bdef5b0cb",alt:"one file used animation"});case"seen_fj_upsell_team_modal_2":return W.createElement("img",{src:"https://static.figma.com/uploads/1623cd399db275cf37f3360fbf774696660cd7e6",alt:"two files used animation"});case"seen_fj_upsell_team_modal_3":return W.createElement("img",{src:"https://static.figma.com/uploads/cb781eb3d9a927a0bce7e246f2f8614e47d5ee1c",alt:"third file used animation"})}}function QZ(e){return W.createElement("span",{className:"figjam_upsell_modal--purpleText--gZ21M"},e)}var QQ=n(590720),QJ=n(724080),Q$=n(932060),Q0=n(233720);let Q1=W.memo(function(){let{aprilFunCursor:e,aprilFunCursorEnabled:t}=(0,Q$.E9)(),n=(0,Y.OY)(),a="whiteboard"===(0,tw.KG)(),r=a?"https://static.figma.com/uploads/1e79572c8516ce86d41a12a646a8c358069f543a":"https://static.figma.com/uploads/b0855fc8f9f2e767e7c59d885336e683d59a708c";if(t){if(e&&e.id!==Q$.o0.id){let t=(0,QQ.Ux)(parseInt(e.id));t&&(r=t.svgUrl)}}else r=a?"https://static.figma.com/uploads/a31c23c95c20ad77517785b4ae44a4345e632532":"https://static.figma.com/uploads/0f086d565a5eeefce7acb28fd9b393c076d37c5e";return W.createElement(tg.kH,{name:"april-fun-toolbar-item"},W.createElement(rA.iH,{className:a?Q0.yq:Q0.sx,onClick:()=>{n(ts.mC({type:QJ.A}))},"data-tooltip-type":n1.wL.TEXT,"data-tooltip":(0,ex.t)("fullscreen_actions.show-april-fun-modal")},W.createElement("img",{className:ap.cx.eventsNone.$,src:r,alt:"April Fun Entrypoint"})))});var Q2=n(772124),Q5=n(993608),Q3=n(608072),Q4=n(576448),Q6=n(919256),Q8=n(834640),Q9=n(2076),Q7=n(593648);let Je=W.createElement("svg",{width:"18",height:"16",viewBox:"0 0 18 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},W.createElement("g",{id:"ICON-templates"},W.createElement("line",{id:"Line 2",x1:"5.5",y1:"1",x2:"5.5",y2:"15",stroke:"black",strokeOpacity:"0.9"}),W.createElement("rect",{id:"Rectangle 2083",x:"0.5",y:"0.5",width:"17",height:"15",stroke:"black",strokeOpacity:"0.9"}),W.createElement("rect",{id:"Rectangle 7984",x:"1",y:"1",width:"4",height:"14",fill:"black",fillOpacity:"0.3"}))),Jt=W.createElement("svg",{width:"18",height:"16",viewBox:"0 0 18 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},W.createElement("line",{x1:"5.5",y1:"1",x2:"5.5",y2:"15",stroke:"black",strokeOpacity:"0.9"}),W.createElement("rect",{x:"0.5",y:"0.5",width:"17",height:"15",stroke:"black",strokeOpacity:"0.9"}));function Jn(){let e=(0,DY.MN)(),t="CLOSED"!==(0,eo.m4)(Q9.WA).type,n=(0,ei.my)(Q9.s9),a=(0,ei.my)(Q9.Mh),r=(0,ei.my)(xl.Mh),l=(0,C7.aW)();if(!e)return null;let i=()=>{t?a():(l(),r(),n())};return W.createElement("div",null,W.createElement(rA.iH,{className:Q7.eS,"data-tooltip-type":n1.wL.TEXT,"data-tooltip":(0,ex.t)("whiteboard.mini_home.toggle_button"),onKeyDown:e=>(0,tS.CI)({e,onClickHandler:i}),onClick:i,tabIndex:0,"aria-label":(0,ex.t)("whiteboard.mini_home.toggle_button"),"data-onboarding-key":"in_editor_sidebar_toolbar"},t?Je:Jt))}var Ja=n(718968);function Jr(){let e=(0,t$.AL)();return W.createElement("div",{className:"extension_toolbar_left_items--leftToolbar--npGkc",tabIndex:0,onClick:()=>(0,cM.nU)(),role:"button"},W.createElement(av.wP,{svg:Ja.c,"data-tooltip-type":n1.wL.TEXT,"data-tooltip":(0,ex.t)("dev_handoff.vscode.toolbar.back_button"),className:"extension_toolbar_left_items--back--JwiF5",disabled:!0}),W.createElement("div",{className:"extension_toolbar_left_items--fileNameText---u61D"},null==e?void 0:e.name))}var Jl=n(668196),Ji=n(565496);function Jo({focusModeEnabled:e,onClick:t}){return W.createElement("button",{"data-editor-theme":"dev-handoff",onClick:t,"data-tooltip":(0,ex.t)(e?"dev_handoff.vscode.exit_focus_mode":"dev_handoff.vscode.enter_focus_mode"),"data-tooltip-type":n1.wL.TEXT},W.createElement(eN.A,{svg:e?Ji.c:Jl.c,className:"dev_handoff_toolbar_focus_button--focusModeIcon--LMEyU"}))}var Js=n(7328),Jc=n(865300);function Jd(){let e=(0,Y.OY)(),t=(0,eD.s5)(eM.KEP.devHandoffState().focusMode);return W.createElement("div",{className:"extension_toolbar_right_items--buttons--3pMn8"},t&&W.createElement(uU.Gy,null),W.createElement(Jo,{focusModeEnabled:t,onClick:()=>eM.aWh.setFocusModeEnabled(!t)}),W.createElement("button",{"data-editor-theme":"dev-handoff",onClick:()=>e(os.ye({stringToCopy:window.location.toString()})),"data-tooltip":(0,ex.t)("dev_handoff.copy_link"),"data-tooltip-type":n1.wL.TEXT},W.createElement(eN.A,{svg:Js.c})),W.createElement("button",{"data-editor-theme":"dev-handoff",onClick:()=>cM.wR(window.location.toString()),"data-tooltip":(0,ex.t)("dev_handoff.open_in_figma"),"data-tooltip-type":n1.wL.TEXT},W.createElement(eN.A,{svg:Jc.c})))}var Jm=n(530304),Ju=n(836912);function Jp(){let e=(0,eo.m4)(TT),t=(0,ei.my)(Tx),n=(0,ei.my)(Tk);return W.createElement(TW,{tooltipText:(0,ex.t)("fullscreen.pages_panel.pages"),isActive:e,onClick:()=>{e?n():t()},addLeftMargin:!1},W.createElement("div",{className:ap.cx.mxAuto.$},e?W.createElement(Jm.I,{style:{"--color-icon":"var(--color-icon-toolbar-onselected)"}}):W.createElement(Ju.I,null)))}function J_(){let e=(0,sC._o)(),t=(0,Y.w1)(e=>e.mirror.appModel.topLevelMode===eM.s9F.HISTORY),n=(0,xa.A)(),a=!(0,Tj.q6)()&&(0,TY.e4)(),r=(0,$.Ub)().figjam_pages_in_figjam,l=et.cp.isMeetDevice;return t?null:W.createElement(W.Fragment,null,r&&W.createElement(Jp,null),W.createElement(xe,null),a&&W.createElement(T2,null),n?W.createElement(xo,null):W.createElement(TZ,null),!e&&!l&&W.createElement(TR,null))}var JE=n(796488),Jg=n(395384),Jh=n(431324);let Jf=(0,lo.U9)(function(e){let t=(0,Y.OY)(),[n,a]=W.useState(""),[r,l]=W.useState(!1),i=(0,t$.K0)(),o=(0,Y.w1)(e=>i?e.loadingState[Ds.loadingKeyForPayload({fileKey:i,emailAddress:n})]===De.D.LOADING:null);return W.createElement(tg.kH,{name:"google_device_try_file_claim_modal"},W.createElement(nO.wJ,{dispatch:t,disableKeyboardEventPropagation:!0,className:Dr.MH,onHide:()=>(0,Z.we)("google_meet_claim_email_modal_closed",{fileKey:i})},W.createElement("div",{className:Dr.yp},W.createElement("h1",{className:Dr.iw},W.createElement(ex.Tx,{id:"google_device_try_file_modal.enter_email"}))),W.createElement(Dt.ay,{multiple:1}),W.createElement("div",{className:Dr.yp},W.createElement("div",{className:Dr.AX},W.createElement(ex.Tx,{id:"google_device_try_file_modal.enter_email.description"}))),W.createElement(Dt.ay,{multiple:3}),W.createElement(eT.qM,{autoFocus:!0,type:"email",className:q()(Dr.wf,r&&Dr.y8),placeholder:(0,ex.t)("google_device_try_file_modal.enter_email.placeholder_email"),onChange:e=>{a(e.target.value)},value:n}),r&&W.createElement("div",{className:Dr.OA},W.createElement(ex.Tx,{id:"google_device_try_file_modal.enter_email.error_message"})),W.createElement(Dt.ay,{multiple:2}),W.createElement(eT.cv,{type:"submit",fullWidth:!0,onClick:a=>{if(a.preventDefault(),a.stopPropagation(),null==n||!1===(0,JE.kB)(n)||!i){l(!0);return}if(!i){t(Da.M.error((0,ex.t)("google_device_try_file_modal.error_saving_board")));return}e.onSubmitEmail({fileKey:i,emailAddress:n})}},W.createElement(Dn.E,{isLoading:!!o,className:ap.cx.flex.justifyCenter.$},()=>W.createElement(ex.Tx,{id:"google_device_try_file_modal.enter_email.button"}))),W.createElement(Dt.ay,{multiple:3}),W.createElement("div",{className:Dr.yK},W.createElement(ex.Tx,{id:"google_device_try_file_modal.disclaimer",tos:W.createElement(Jh.y,{url:Jg.mu,title:(0,ex.t)("google_device_try_file_modal.onboarding_disclaimer_tos")}),privacy_policy:W.createElement(Jh.y,{url:Jg.y_,title:(0,ex.t)("google_device_try_file_modal.onboarding_disclaimer_privacy_policy")})})),W.createElement(Dt.ay,{multiple:1})))},"GOOGLE_DEVICE_TRY_FILE_CLAIM_MODAL"),Jv=(0,lo.U9)(function(e){let{email:t,onChangeEmail:n}=e,a=(0,Y.OY)(),r=(0,t$.K0)();return W.createElement(tg.kH,{name:"google_device_try_file_received_email_modal"},W.createElement(nO.wJ,{dispatch:a,disableClickOutsideToHide:!0,disableKeyboardEventPropagation:!0,className:Dr.uo},W.createElement("img",{src:"https://static.figma.com/uploads/b0feff5e4abc5e66f99064463f2ad5d0a7f6c072.png",alt:"",className:Dr.S_}),W.createElement(Dt.ay,{multiple:2}),W.createElement("div",{className:Dr.yp},W.createElement("h1",{className:Dr.iw},W.createElement(ex.Tx,{id:"google_device_try_file_modal.got_mail"}))),W.createElement(Dt.ay,{multiple:1}),W.createElement("div",{className:Dr.yp},W.createElement("div",{className:Dr.AX},W.createElement(ex.Tx,{id:"google_device_try_file_modal.got_mail.description",email:W.createElement("p",{className:Dr.em},t)}))),W.createElement(Dt.ay,{multiple:3}),W.createElement(eT.cv,{type:"close",fullWidth:!0,onClick:e=>{e.preventDefault(),e.stopPropagation(),a(ts.oN())}},W.createElement(ex.Tx,{id:"google_device_try_file_modal.got_mail.close"})),W.createElement(Dt.ay,{multiple:3}),W.createElement("div",{className:Dr.yK},W.createElement(ex.Tx,{id:"google_device_try_file_modal.got_mail.email_not_received",send_again_link:W.createElement(eT.gf,{className:Dr.cn,onClick:n=>{if(n.preventDefault(),n.stopPropagation(),!r){a(Da.M.error((0,ex.t)("google_device_try_file_modal.error_saving_board")));return}e.onResendEmail({fileKey:r,emailAddress:t,isResentEmail:!0})},target:"_blank",trusted:!0},W.createElement(ex.Tx,{id:"google_device_try_file_modal.got_mail.email_not_received.send_again"}))})),W.createElement(Dt.ay,{multiple:2}),W.createElement("div",{className:Dr.yK},W.createElement(ex.Tx,{id:"google_device_try_file_modal.got_mail.wrong_address",use_different_email_link:W.createElement(eT.gf,{className:Dr.cn,onClick:e=>{e.preventDefault(),e.stopPropagation(),n()},target:"_blank",trusted:!0},W.createElement(ex.Tx,{id:"google_device_try_file_modal.got_mail.wrong_address.use_different_email"}))}))))},"GOOGLE_DEVICE_TRY_FILE_RECEIVED_EMAIL_MODAL");var Jy=n(733668);function JC(e){let t=(0,sE.c)(),n=Math.ceil((0,sE.c)(e).diff(t,"minutes",!0));return n>30?(0,ex.t)("figjam_try.timer_hours_left",{hoursLeft:Math.ceil(n/60)}):n>=10?(0,ex.t)("figjam_try.timer_minutes_left",{minutesLeft:10*Math.ceil(n/10)}):(0,ex.t)("figjam_try.timer_less_than_ten_minutes_left")}function Jw({until:e,ctaText:t,onCtaClick:n,isFigjam:a,tooltipText:r,showAndHideTooltipImmediately:l,isLoading:i,onExpire:o,onboardingKey:s}){let[c,d]=(0,W.useState)(JC(e));return(0,W.useEffect)(()=>{let t=setInterval(()=>{d(JC(e)),(0,sE.c)().isAfter((0,sE.c)(e))&&o&&o()},6e4);return()=>{clearInterval(t)}},[e,o]),W.createElement("div",{className:a?"countdown--figjamContainer--hlbVE countdown--container--WCLxZ":"countdown--designContainer--PVZIP countdown--container--WCLxZ","data-onboarding-key":s},W.createElement("div",{className:"countdown--timerContainer--L3IFQ","data-tooltip-type":n1.wL.TEXT,"data-tooltip":r,"data-tooltip-show-immediately":l,"data-tooltip-hide-immediately":l},W.createElement(eN.A,{className:"countdown--icon--PREBw",svg:Jy.c}),W.createElement("span",{className:"countdown--text--kN4nf ellipsis--ellipsis--Tjyfa","data-testid":"countdown-time"},c)),W.createElement(Dn.E,{isLoading:!!i,className:"countdown--loading--DaaWQ"},()=>W.createElement(tg.Ix,{className:"countdown--cta--JhE8T ellipsis--ellipsis--Tjyfa",onClick:()=>n(),trackingProperties:{buttonContext:t}},t)))}function Jb(e){let t=(0,sE.c)(),n=Math.ceil((0,sE.c)(e).diff(t,"minutes",!0));return n>30?(0,ex.t)("figjam_try.meet_hardware.timer_hours_left",{hoursLeft:Math.ceil(n/60)}):n>=10?(0,ex.t)("figjam_try.meet_hardware.timer_minutes_left",{minutesLeft:10*Math.ceil(n/10)}):(0,ex.t)("figjam_try.meet_hardware.timer_less_than_ten_minutes_left")}function JT({until:e,ctaText:t,onCtaClick:n,tooltipText:a,showAndHideTooltipImmediately:r,isLoading:l,onExpire:i,onboardingKey:o}){let[s,c]=(0,W.useState)(Jb(e));return(0,W.useEffect)(()=>{let t=setInterval(()=>{c(Jb(e)),(0,sE.c)().isAfter((0,sE.c)(e))&&i&&i()},6e4);return()=>{clearInterval(t)}},[e,i]),W.createElement("div",{className:"countdown_meet_hardware--figjamContainer--libjf countdown_meet_hardware--container--gM5Hl","data-onboarding-key":o},W.createElement("div",{className:"countdown_meet_hardware--timerContainer--JsqME","data-tooltip-type":n1.wL.TEXT,"data-tooltip":a,"data-tooltip-show-immediately":r,"data-tooltip-hide-immediately":r},W.createElement("img",{src:"https://static.figma.com/uploads/d2458a35e4543003186712a5c44448bc0949f82b",alt:"Wave hand icon",className:"countdown_meet_hardware--waveIcon--Lc-LT"}),W.createElement("span",{className:"countdown_meet_hardware--countdownText--Igbr2 ellipsis--ellipsis--Tjyfa","data-testid":"countdown-time"},s),W.createElement("span",{className:"countdown_meet_hardware--text--Ahn7z ellipsis--ellipsis--Tjyfa","data-testid":"countdown-time-text"},(0,ex.t)("figjam_try.meet_hardware.board_deletion_disclaimer"))),W.createElement(Dn.E,{isLoading:!!l,className:"countdown_meet_hardware--loading--s6qrq"},()=>W.createElement(tg.Ix,{className:"countdown_meet_hardware--cta--H8MOo ellipsis--ellipsis--Tjyfa",onClick:()=>n(),trackingProperties:{buttonContext:t}},t)))}let Jx="figjam-try-countdown",Jk="figjam-try-timed-tooltip-shown",JN=(0,lo.U9)(function(){let e=(0,Y.OY)(),t=(0,wf.c)(),n=()=>{e(ts.ek({type:JN.type}))};return W.createElement(tg.kH,{name:"FigJam Try - Timed Tooltip"},W.createElement(i8.UX,{targetKey:Jx,shouldCenterArrow:n2.yi.FALLBACK,title:(0,ex.t)("figjam_try.timed_tooltip_headline"),topPadding:8,dismissModal:n,width:300-2*i8.g5,ctaText:(0,ex.t)("figjam_try.timed_tooltip_cta"),onClickPrimaryCta:()=>{n(),t({origin:"figjam_try_timed_tooltip",formState:rJ.o9.SIGN_UP})},buttonContext:"Create account"},W.createElement("p",null,W.createElement(ex.Tx,{id:"figjam_try.timed_tooltip_body"}))))},"FigjamTryTimedTooltip");function JS(){let e=(0,th.S)(),t=(0,Y.OY)(),n=(0,Y.w1)(e=>!e.user),a=(0,Y.w1)(e=>{var t;return null==(t=e.openFile)?void 0:t.key}),r=et.cp.isMeetDevice,l=(0,Y.w1)(e=>!!a&&e.loadingState[PN.K.loadingKeyForPayload({file_key:a})]===De.D.LOADING),i=(0,wf.c)(),o=(0,Y.w1)(e=>!!e.modalShown),s=(0,W.useRef)((0,sE.c)().add(5,"minutes")),c=(0,id._T)(),[d,m]=(0,W.useState)(!!(0,e_.AP)().get(Jk));(0,W.useEffect)(()=>{if(!d&&n&&!o&&!(null==c?void 0:c.shouldOptimizeForIpadApp)&&!r){let e=setInterval(()=>{(0,sE.c)().isSameOrAfter(s.current)&&(m(!0),(0,e_.AP)().set(Jk,1),t(ts.A5({type:JN})))},6e4);return()=>{clearInterval(e)}}},[d,n,o,t,null==c?void 0:c.shouldOptimizeForIpadApp,r]);let u=(0,id.QP)();if((0,W.useEffect)(()=>{u&&(u._claim_fig_jam_try_file=e=>{t(PN.K({file_key:e}))})},[u,t]),(0,W.useEffect)(()=>{(null==c?void 0:c.updateFigJamTryExpiration)&&e.enabled&&e.until&&c.updateFigJamTryExpiration(e.until)},[c,e]),!e.enabled||!a)return null;let p=()=>{t(ts.A5({type:Jf,data:{onSubmitEmail:({fileKey:e,emailAddress:n})=>{t(Ds({fileKey:e,emailAddress:n,onSuccess:E}))}}}))},_=({fileKey:e,emailAddress:n,isResentEmail:a})=>{t(Ds({fileKey:e,emailAddress:n,isResentEmail:a}))},E=e=>{t(ts.A5({type:Jv,data:{email:e,onChangeEmail:p,onResendEmail:_}}))};return W.createElement(tg.kH,{name:"FigJam Try Countdown Timer"},r?W.createElement(JT,{until:e.until,ctaText:(0,ex.t)("figjam_try.save_board"),onCtaClick:()=>{t(ts.A5({type:Jf,data:{onSubmitEmail:({fileKey:e,emailAddress:n})=>{t(Ds({fileKey:e,emailAddress:n,onSuccess:E}))}}}))},tooltipText:n?(0,ex.t)("figjam_try.timer_tooltip_anonymous"):(0,ex.t)("figjam_try.timer_tooltip_logged_in"),showAndHideTooltipImmediately:!0,isLoading:l,onboardingKey:Jx}):W.createElement(Jw,{until:e.until,ctaText:(0,ex.t)("figjam_try.save_board"),onCtaClick:()=>{n?i({origin:"figjam_try_countdown_timer",formState:rJ.o9.SIGN_UP}):t(PN.K({file_key:a}))},isFigjam:!0,tooltipText:n?(0,ex.t)("figjam_try.timer_tooltip_anonymous"):(0,ex.t)("figjam_try.timer_tooltip_logged_in"),showAndHideTooltipImmediately:!0,isLoading:l,onboardingKey:Jx}))}function JI({variant:e}){switch(e){case"design":return W.createElement("div",{className:ap.cx.px8.$},W.createElement("div",{className:ap.cx.h16.px4.bRadius3.$,style:a_.sx.add({border:"1px solid var(--color-bg-design)",color:"var(--color-bg-design)"}).$},W.createElement(ah.a,{i18nId:"fullscreen.toolbar.integ_zoom.beta",fontSize:9})));case"figjam":return W.createElement("div",{className:ap.cx.px8.$},W.createElement(au.kt,{text:(0,ex.t)("fullscreen.toolbar.integ_zoom.beta"),color:au.Eo.FIGJAM,subtle:!0}))}}let JA="libraries-toolbar-button-key",JO="seen_libraries_toolbar_nudge",JM=(0,mV.y_)(JO);function JP(){let e=(0,eo.m4)(JM),t=(0,eo.m4)(rE.Ab),{show:n,isShowing:a,complete:r}=(0,mX.W)({overlay:mZ.ijU,priority:mz.g.SECONDARY_MODAL},[e]);return W.useEffect(()=>n({canShow:e=>!e&&t}),[t,n]),W.createElement(us.Y5,{isShowing:a,emphasized:!0,targetKey:JA,trackingContextName:"updates_toast_deprecation_callout",title:W.createElement(ex.Tx,{id:"fullscreen.toolbar.libraries_button.nudge.title"}),description:W.createElement(ex.Tx,{id:"fullscreen.toolbar.libraries_button.nudge.description"}),userFlagOnShow:JO,onClose:r})}var JL=n(531008),JD=n(918300),JR=n(46),JF=n(596392),JB=n(648160);function JU(){var e,t;let n=(0,Y.w1)(r_.OG),a=(0,eo.m4)(rE.Ab),r=(0,Y.w1)(JR.K4),l=(0,eo.m4)(t$.qK),i=(0,eo.m4)(DT.AX),o=r.file_key,s=null==(e=null==l?void 0:l.parentOrgId)?void 0:e.toString(),c=null==(t=r.file_team_id)?void 0:t.toString(),d=null==i?void 0:i.id,{isLibraryModalShown:m,onToggleLibraryModal:u}=(0,SH.C)({entrypoint:SV.Yj.TOOLBAR_BUTTON,modalType:"editor",hasUpdatesToAccept:a}),p=W.useRef(!1),_=a?(0,ex.t)("fullscreen.libraries_button.tooltip.updates_to_pull"):n?(0,ex.t)("fullscreen.libraries_button.tooltip.updates_to_push"):(0,ex.t)("fullscreen.libraries_button.tooltip.no_updates"),E=a||n,g=(0,rb.i)(E),h=W.useCallback(e=>{Z.qE.trackDefinedEvent("design_systems_analytics.update_notification_displayed",{userId:d,fileKey:o,fileParentOrgId:s,fileTeamId:c,onFileOpen:e,hasChangesToPull:a})},[d,o,s,c,a]),{start:f}=(0,JD.w)(()=>{E&&h(!0),p.current=!0});return(0,rT.u)(()=>{f(1e3)}),W.useEffect(()=>{E!==g&&E&&p.current&&h(!1)},[h,E,g,p]),W.createElement("span",{className:q()(JF.Ux,(0,TH.i)(!0,m))},W.createElement(sg._,{svg:Eq.c,fallbackSvg:JB.c,recordingKey:"actionLibraryButton",className:q()(JF.eS),onMouseDown:u,"data-tooltip-type":n1.wL.TEXT,"data-tooltip":_,"data-tooltip-submenu-open":m,"data-onboarding-key":JA}),E&&W.createElement("span",{className:q()(TH.W.updatesBadge)}))}var JK=n(41352),JG=n(42960);function JH(){let[e,t]=W.useState(!1),n=W.useRef(null),a=W.useRef(null),[r,l]=W.useState(null),i=(0,Y.w1)(e=>e.mirror.appModel.pagesList),o=(0,Y.w1)(e=>e.mirror.appModel.currentPage),s=i.find(e=>e.nodeId===o),c=(0,eB.IB)({subscribeToUpdates_expensive:!1})-(0,nF.I)(n5.e0y)-((null==r?void 0:r.top)??0);if((0,vf.U)(n,()=>{e&&t(!1)}),!i)return null;async function d(e){await sL.TSSceneGraph.instance.setCurrentPageFromNodeAsync(e),t(!1)}return W.createElement("div",{className:"toolbar_page_picker--pagePicker--GVgi5",ref:n},W.createElement("button",{className:"toolbar_page_picker--pagePickerButton--5Hmqt",ref:a,onClick:function(){var n;if(e)t(!1);else{let e=null==(n=a.current)?void 0:n.getBoundingClientRect();e&&(l(e),t(!0))}},"data-tooltip":(0,ex.t)("dev_handoff.pages_list"),"data-tooltip-type":n1.wL.TEXT},W.createElement(JK.a,{pageGuid:o,margin:"marginRight",fallback:W.createElement(eN.A,{svg:JG.c,className:"toolbar_page_picker--pagePickerIcon--BvSvj"})}),W.createElement("span",{className:"toolbar_page_picker--pagePickerButtonContent--Sr4lK"},(null==s?void 0:s.name)||""),W.createElement(eN.A,{svg:Ix.c,className:"toolbar_page_picker--pagePickerButtonChevron--MiHhI"})),e&&r&&W.createElement(l2.Mx,{targetRect:r,maxHeight:c,propagateCloseClick:!0},i.map(e=>W.createElement(lV.g.CheckableOption,{key:e.nodeId,checked:o===e.nodeId,onClick:()=>d(e.nodeId)},W.createElement(JK.a,{pageGuid:e.nodeId,margin:"marginRight"}),W.createElement("span",{className:"toolbar_page_picker--dropdownOptionContent--7gcmF"},e.name)))))}let JV="toolbar_vscode_frame_stepper--stepperButton--eRoSc",JW="toolbar_vscode_frame_stepper--stepperButtonDisabled--XSjQQ";var JY=n(933152);function Jj(){let e=(0,eD.s5)(eM.KEP.devHandoffState().focusNodeId),t=(0,eD.s5)(eM.KEP.devHandoffState().nodeIds),n=(0,sC.ct)(),a=e?t.indexOf(e):-1,r=null==n?void 0:n.get(e);if(!r||-1===a)return null;let l=0===a,i=a===t.length-1;return W.createElement("div",{className:"toolbar_vscode_frame_stepper--stepperContainer--ux6kR"},W.createElement(av.wP,{svg:Ja.c,"data-tooltip-type":n1.wL.TEXT,"data-tooltip":(0,ex.t)("dev_handoff.vscode.toolbar.previous_frame"),onClick:()=>eM.i46.triggerActionInUserEditScope("dev-handoff-focus-previous",{}),className:l?JW:JV,disabled:l}),W.createElement("span",{className:"toolbar_vscode_frame_stepper--stepperContent--hVi69"},(null==r?void 0:r.name)||""),W.createElement(av.wP,{svg:JY.c,"data-tooltip-type":n1.wL.TEXT,"data-tooltip":(0,ex.t)("dev_handoff.vscode.toolbar.next_frame"),onClick:()=>eM.i46.triggerActionInUserEditScope("dev-handoff-focus-next",{}),className:i?JW:JV,disabled:i}))}var JX=n(186776);let Jz=(0,tB.AT)(),Jq=W.memo(function({item:e}){let t=(0,Y.w1)(t=>(0,al.W)(e.label));return W.createElement("div",{key:`label-${e.label}`,className:JF.Sq},t)}),JZ=W.memo(function({item:e,recordingKey:t}){let n=(0,Y.w1)(t=>(0,nf.Ib)(t.mirror.appModel,e.action)),a=(0,Y.w1)(t=>(0,al.W)(e.action));return W.createElement(uU.c,{key:`text-button-${e.action}`,action:e.action,isEnabled:n,text:a,recordingKey:t})}),JQ=W.memo(function({item:e,disabled:t,recordingKey:n}){let a=e.children.filter(e=>!(0,rk.iw)(e)||!e.featureFlags||e.featureFlags.every(e=>(0,$.Ub)()[e])),r=(0,el.q)(e=>a.filter(t=>(0,rk.iw)(t)&&(0,nf.Ib)(e.mirror.appModel,t.action))),l=(0,Y.w1)(e=>r.length>0&&JJ(r[0],e));if(0===r.length)return null;if(e.flyoutHideOptionsIfSingleEnabledAction&&1===r.length){var i;return W.createElement(uU.K1,{key:`action-button-${r[0].action}`,item:(i=r[0],{type:rk.FP.ACTION,...i}),isEnabled:!0,isActive:l,recordingKey:n})}return 1===r.length&&"flatten-selection"===r[0].action?null:W.createElement(Q4.po,{key:`flyout-${e.name}`,item:{...e,children:a},disabled:t,recordingKey:n,styleActiveItem:!e.flyoutDoNotStyleActiveItem})});function JJ(e,t){return"isActive"in e&&e.isActive?e.isActive(t):"propertyValue"in e&&void 0!==e.propertyValue&&t.mirror.appModel[e.property]===e.propertyValue}let J$=W.memo(function({item:e,recordingKey:t}){let{featureFlags:n=[]}=e,a=(0,Y.w1)(t=>JJ(e,t)),r=(0,Y.w1)(t=>(0,nf.Ib)(t.mirror.appModel,e.action)&&n.every(e=>(0,$.Ub)()[e])&&(!e.isAvailable||e.isAvailable(t)));return W.createElement(uU.K1,{key:`action-button-${e.action}`,item:e,isEnabled:r,isActive:a,recordingKey:t})}),J0=W.memo(function({item:e,numUnreadComments:t,recordingKey:n,canEdit:a}){let r=(0,Y.w1)(t=>(0,nf.Ib)(t.mirror.appModel,e.action)),l=(0,rp.g)(),i=(0,Y.w1)(t=>e.tool!==tq.w3X.NONE&&e.tool===t.mirror.appModel.currentTool&&!(0,nf.SY)(l)),o=(0,Y.w1)(e=>e.mirror.appModel.topLevelMode);return e.featureFlags&&!e.featureFlags.every(e=>(0,$.Ub)()[e])?null:W.createElement(uU.or,{key:`tool-button-${e.tool}`,dropdownShown:l,isEnabled:r,isActive:i,item:e,numUnreadComments:t,recordingKey:n,topLevelMode:o,isWide:e.isWideForEditors&&a})}),J1=W.memo(function({item:e,numUnreadComments:t,recordingKey:n}){let a=(0,Y.w1)(e=>e.mirror.appModel.activeCanvasEditModeType),r=(0,Y.w1)(e=>e.mirror.appModel.currentTool),l=(0,Y.w1)(e=>e.openFile),i=(0,Y.w1)(e=>e.progressBarState.mode),o=(0,uk.K)(i),s=(0,Y.w1)(e=>o?!(null==l?void 0:l.canEdit):e.mirror.appModel.isReadOnly),c=(0,Y.w1)(e=>e.mirror.appModel.isSceneReadOnly),d=(0,Y.w1)(e=>!!e.user);if(!e||c&&!e.nonEditorsAllowed||e.onlyShowInReadOnly&&!(s&&i!==tq.Mty.HIDE_UI)||e.hideInExtension&&lQ.kr.getIsExtension()||!l&&e.newFileDisabled||!d&&!e.loggedOutAllowed||e.editModes&&-1===e.editModes.indexOf(a)||e.showForTools&&-1===e.showForTools.indexOf(r))return null;let m=e.dontChainRecordingKeys?e.recordingKey:lI.Mx(n,e.recordingKey);switch(e.type){case rk.FP.LABEL:return W.createElement(Jq,{item:e});case rk.FP.TEXT_BUTTON:return W.createElement(JZ,{item:e,recordingKey:m});case rk.FP.FLYOUT:return W.createElement(JQ,{item:e,disabled:o,recordingKey:m});case rk.FP.ACTION:return W.createElement(J$,{item:e,recordingKey:m});case rk.FP.TOOL:return W.createElement(J0,{item:e,numUnreadComments:t,recordingKey:m,canEdit:(null==l?void 0:l.canEdit)||!1});default:(0,cL.gy)(e)}}),J2=()=>{let e=(0,Y.OY)(),t=(0,sC.uc)("activeCanvasEditModeType"),n=(0,Y.w1)(e=>{var t;return null==(t=e.openFile)?void 0:t.canEdit});return()=>{if((0,ar.En)(t)){e((0,sD.eu)());return}if(!n){e(f1.eu({id:sD._2})),tA.CA.triggerAction("enter-preview-mode");return}e(f1.eu({id:sD._2})),tA.CA.triggerAction("enter-layout-mode")}};function J5(e){let{recordingKey:t}=e,n=(0,Y.w1)(e=>e.userStateLoaded),a=(0,sC.uc)("topLevelMode"),r=(0,Y.w1)(e=>e.mirror.appModel.activeCanvasEditModeType),l=(0,Y.w1)(e=>e.selectedView),i=(0,Y.w1)(e=>{var t;return null==(t=e.openFile)?void 0:t.canEdit}),o=J2();return n&&(!(0,$.Ub)().version_diffing||r!==tq.a_v.COMPARE_CHANGES)&&((0,ar.En)(r)||a===tq.s9F.BRANCHING)&&("design"===l.editorType||"dev_handoff"===l.editorType)?W.createElement("div",{className:JF._t},W.createElement(eT.gV,{key:i?"back-to-editing-btn":"back-to-viewing-btn",className:JF.Oy,recordingKey:lI.Mx(t,"backToEditing"),onClick:o},W.createElement(ex.Tx,{id:"fullscreen.toolbar.done"}))):null}function J3(e){let t=W.useRef(null),n=W.useCallback(()=>{requestAnimationFrame(()=>{let e=t.current;e&&e.clientWidth!==innerWidth&&(e.style.width="99.999%",requestAnimationFrame(()=>{e.style.width=""}))})},[]),{multiplayer:a,dispatch:r}=e,l=W.useCallback(e=>{eM.Abq.observeUser(e),a&&a.observingSessionID!==e&&a.sessionID!==e&&r(tm.s({aware_of_observation_mode:!0}))},[a,r]);return(W.useEffect(()=>{addEventListener("resize",n),(0,tS.yj)("main_toolbar",null==t?void 0:t.current);let a=window.FigmaMobile;a&&(a._open_timer=()=>{eo.qM.set(bW.V3,{type:"OPEN"}),(0,Z.we)(C7.em.OPEN,{source:C7.iu.IPAD_MENU})},a._close_timer=()=>{eo.qM.set(bW.V3,{type:"CLOSE"})});let r=window.FigmaMobile;return r&&(r._set_allow_draw_with_touch=e=>{eM.i46.setAllowDrawWithTouch(e)},r._set_tool_lasso=()=>{tA.CA.triggerAction("set-tool-lasso")},r._unlock_all_objects=()=>{tA.CA.triggerActionInUserEditScope("unlock-all")},r._zoom_reset=()=>{tA.CA.triggerActionInUserEditScope("zoom-reset")},r._zoom_to_fit=()=>{tA.CA.triggerActionInUserEditScope("zoom-to-fit")},r._present=()=>{eM.Abq.startPresenting()},r._observe_user=e=>{l(e)},r._find_in_file=()=>{tA.CA.triggerActionInUserEditScope("canvas-search")},r._copy=()=>{tA.CA.triggerActionInUserEditScope("copy")},r._cut=()=>{tA.CA.triggerActionInUserEditScope("cut")},r._paste=()=>{tA.CA.triggerActionInUserEditScope("paste")},r._add_media=e=>{let t=e.map(e=>{let{encoded_data:t,mime_type:n}=e;return new Blob([(0,E5.P4)(t)],{type:n})}),n=tA.CA.fileArrayToString(t);eM.i46.handleOpenFromJsonString(n,Q6.yy.MOBILE_NATIVE_NAVBAR)},r._get_zoom_scale=()=>eM.i46.getViewportZoomScale(),r._get_prototype_status=()=>{let t=eM.MXu.currentPagePrototypeStatus(),n="";if(t!==eM.gRI.VALID)switch(t){case eM.gRI.NO_FRAMES:n="slides"===e.selectedView.editorType?(0,ex.t)("proto.status_messages.a_presentation_needs_to_have_at_least_one_slide"):(0,ex.t)("proto.status_messages.a_prototype_needs_to_have_at_least_one_frame");break;case eM.gRI.INVALID_START_NODE:n=(0,ex.t)("proto.status_messages.a_prototype_with_connections_needs_a_valid_top_level_frame_as_the_origin");break;default:(0,cL.gy)(t)}return{status:t,message:n}},r._toggle_ui_for_mobile_editing=()=>{eM.KEP.uiState().hideUiForMobileEditing.set(!e.hideUiForMobileEditing)}),()=>{(0,tS.yj)("main_toolbar",null),removeEventListener("resize",n)}},[l,e.hideUiForMobileEditing,e.selectedView.editorType,n]),"fullscreen"===e.selectedView.view&&"whiteboard"===e.selectedView.editorType)?W.createElement(J7,{dropdownShown:e.dropdownShown,hideUiForMobileEditing:e.hideUiForMobileEditing,isInitialized:e.isInitialized,multiplayer:e.multiplayer,numUnreadComments:e.numUnreadComments,openFile:e.openFile,progressBarMode:e.progressBarMode,recordingKey:e.recordingKey,showUi:e.showUi,user:e.user,ref:t}):W.createElement($e,{devHandoffFocusMode:e.devHandoffFocusMode,dropdownShown:e.dropdownShown,hideUiForMobileEditing:e.hideUiForMobileEditing,isFreeUser:e.isFreeUser,isInitialized:e.isInitialized,multiplayer:e.multiplayer,numUnreadComments:e.numUnreadComments,openFile:e.openFile,progressBarMode:e.progressBarMode,recordingKey:e.recordingKey,selectedView:e.selectedView,showMissingFontsButton:e.showMissingFontsButton,showUi:e.showUi,user:e.user,ref:t})}function J4(e){return{openFile:e.openFile,dropdownShown:e.dropdownShown,modalShown:e.modalShown,loadingState:e.loadingState,user:e.user,userFlags:e.userFlags,multiplayer:e.multiplayer,userStateLoaded:e.userStateLoaded,topLevelMode:e.mirror.appModel.topLevelMode,isInitialized:e.mirror.appModel.isInitialized,progressBarMode:e.progressBarState.mode,activeVoiceCallExists:!!e.openFile&&e.openFile.key in e.voice.activeCall,showUi:e.mirror.appModel.showUi,isFreeUser:e.isFreeUser}}function J6(e){let t=(0,el.q)(J4),n=(0,Y.w1)(e=>e.openFile),a=(0,Y.w1)(e=>e.orgById),r=(0,Y.w1)(e=>e.teams),l=(0,nE.mY)({openFile:n,teams:r,orgById:a}),i=(0,th.q6)(),o=(0,eD.s5)(eM.KEP.uiState().showMissingFontsButton),s=(0,eD.s5)(eM.KEP.uiState().hideUiForMobileEditing),c=(0,eD.s5)(eM.KEP.devHandoffState().focusMode),d=(0,sC.uc)("showUi"),m=(0,Y.OY)();return W.createElement(J3,{...(0,eu.Y)(t),...e,dispatch:m,voiceEligibility:l,isWorkshopFile:i,showMissingFontsButton:o,hideUiForMobileEditing:s,devHandoffFocusMode:c,showUi:d})}function J8({numUnreadComments:e,recordingKey:t}){let n=(0,tw.KG)(),a=(0,Pt.QF)(),r=(0,Pt.Oq)(),l=(0,e7.U9)(),i=(0,rm.yO)(),o=(()=>{switch(n){case"whiteboard":return rk.wT.filter(e=>"whiteboard"!==n||!a&&!r||e.type!==rk.FP.TOOL||e.tool!==tq.w3X.SELECT&&e.tool!==tq.w3X.HAND);case"dev_handoff":if(i)return[];return rk.c9.filter(e=>e.type!==rk.FP.TOOL||e.tool!==tq.w3X.ANNOTATE&&e.tool!==tq.w3X.MEASURE||l);default:return rk.MR}})();return W.createElement(W.Fragment,null,o.map((n,a)=>W.createElement(J1,{key:a,item:n,numUnreadComments:e,recordingKey:t})))}function J9({renderDesignMiddleItems:e,renderFileName:t,renderFigjamTryCountdown:n}){let a=(0,eD.s5)(eM.KEP.editorState().selectionEmpty),r=(0,sh.n)(!1),{topLevelMode:l,editMode:i}=(0,el.q)(e=>({topLevelMode:e.mirror.appModel.topLevelMode,editMode:e.mirror.appModel.activeCanvasEditModeType})),o=(0,Y.w1)(e=>{let t=e.modalShown;return(null==t?void 0:t.type)===Hn.c}),s=(0,t$.AL)(),c=(0,sC._o)(),d=(0,tB.AT)(),m=i===tq.a_v.COMMENTS||i===tq.a_v.PREVIEW||i===tq.a_v.BRANCHING||l===tq.s9F.HISTORY||l===tq.s9F.PREVIEW||l===tq.s9F.DEV_HANDOFF||l===tq.s9F.BRANCHING,u=(0,tw.yI)(),p=!!(null==s?void 0:s.isTryFile)&&!o&&!c&&d,_=l===tq.s9F.DEV_HANDOFF&&r,E=!o&&(u||a||m||c)&&!_,g=c||u?void 0:W.createElement(Hm,null);return W.createElement("div",{key:"center-group","data-onboarding-key":LE.mk,className:`${JF.E$} ${JF.Ah}`},g,t(E&&!p),n(p),e(!E&&!u&&!p))}let J7=W.forwardRef(function(e,t){var n,a,r;let{loadingClassName:l,hideToolsClassName:i}=$n(e.progressBarMode,e.openFile,e.isInitialized),o=(0,DY.Ep)((null==(n=e.user)?void 0:n.id)??null),s=!e.user&&!et.cp.isMeetDevice,c=$a(e.recordingKey),d=(a=e.numUnreadComments,r=e.recordingKey,W.useMemo(()=>new Q3.s(()=>{let e=[];return rk.In.forEach((t,n)=>{let l=W.createElement(J1,{key:n,item:t,numUnreadComments:a,recordingKey:r});l&&e.push(l)}),e}),[a,r]));return W.createElement(tg.kH,{name:nv.i8.EDITOR_TOOLBAR,trackingTargets:Q5.I.RCS},W.createElement("div",{onFocus:tS.gd,tabIndex:0}),W.createElement(lx.Y,null,W.createElement("div",{className:q()(JF.Ep,eR.cp,l,JF.Q1,{[JF.gd]:$t(e.hideUiForMobileEditing,e.showUi)}),ref:t,role:"region","aria-label":(0,ex.t)("fullscreen.accessibility_dom.primary_toolbar_label")},W.createElement("div",{key:"left-group",className:`${JF.E$} ${JF.SW} ${i}`},o&&W.createElement(Jn,null),W.createElement(uU.Sk,{hideToolsClassName:i,recordingKey:e.recordingKey}),W.createElement(J8,{numUnreadComments:e.numUnreadComments,recordingKey:e.recordingKey}),!o&&W.createElement(Q8.m,null),W.createElement(J_,null),W.createElement(J5,{recordingKey:e.recordingKey})),W.createElement(J9,{renderFileName:e=>c.render(e,JF.gH),renderFigjamTryCountdown:e=>e&&W.createElement(JS,null),renderDesignMiddleItems:e=>d.render(e)}),W.createElement("div",{key:"right-group",className:`${JF.E$} ${JF.kX} ${i}`},(0,$.Ub)().internal_only_debug_tools&&W.createElement(uU.c9,null),W.createElement(uU.iA,null),(0,Q2._)()&&W.createElement("div",{className:ap.cx.zIndex1.$},W.createElement(Q1,null)),e.multiplayer&&e.openFile&&W.createElement(W.Fragment,null,W.createElement(TB.yu,{dropdownShown:e.dropdownShown,multiplayer:e.multiplayer,user:e.user}),e.user&&W.createElement(uU.yS,{user:e.user,editingFile:e.openFile})),s&&W.createElement(uU.mE,null),(0,uf.O8)()&&W.createElement(JI,{variant:"figjam"})))))}),$e=W.forwardRef(function(e,t){let n=(0,$.Ub)().ds_updates_toast_deprecation??!1,a=(0,l1.ie)(e.selectedView),r=(0,rm.yO)(),l=a&&lQ.kr.getIsExtension(),i=!Jz&&!e.selectedView.isRecoveryMode&&!r,{devHandoffFocusMode:o,openFile:s,user:c,isFreeUser:d}=e,{loadingClassName:m,hideToolsClassName:u}=$n(e.progressBarMode,e.openFile,e.isInitialized),p=((null==s?void 0:s.canEdit)??!1)&&!!c&&!d&&n,_=$a(e.recordingKey),E=W.useMemo(()=>new Q3.s(()=>{let t=[];return rk.In.forEach((n,a)=>{let r=W.createElement(J1,{key:a,item:n,numUnreadComments:e.numUnreadComments,recordingKey:e.recordingKey});r&&t.push(r)}),t}),[e.numUnreadComments,e.recordingKey]);return W.createElement(tg.kH,{name:nv.i8.EDITOR_TOOLBAR,trackingTargets:Q5.I.RCS},W.createElement("div",{onFocus:tS.gd,tabIndex:0}),W.createElement(lx.Y,null,W.createElement("div",{className:q()(JF.Ep,eR.cp,m,{[JF.gd]:$t(e.hideUiForMobileEditing,e.showUi)}),ref:t,role:"region","aria-label":(0,ex.t)("fullscreen.accessibility_dom.primary_toolbar_label")},W.createElement("div",{key:"left-group",className:`${JF.E$} ${JF.SW} ${u}`},!l&&W.createElement(uU.Sk,{hideToolsClassName:u,recordingKey:e.recordingKey}),l&&o?W.createElement(Jr,null):W.createElement(W.Fragment,null,W.createElement(J8,{numUnreadComments:e.numUnreadComments,recordingKey:e.recordingKey}),W.createElement(J5,{recordingKey:e.recordingKey}))),l?o?W.createElement(Jj,null):W.createElement(JH,null):W.createElement(J9,{renderFileName:e=>{var t,n;return e&&(0,$.Ub)().ce_multi_edit&&(null==(n=(t=rk.qv).isActive)?void 0:n.call(t,{}))?W.createElement(J1,{item:rk.qv,numUnreadComments:0}):_.render(e,JF.gH)},renderFigjamTryCountdown:e=>e&&W.createElement(JS,null),renderDesignMiddleItems:e=>E.render(e)}),W.createElement("div",{key:"right-group",className:`${JF.E$} ${JF.kX} ${u}`},l?W.createElement(Jd,null):W.createElement(W.Fragment,null,W.createElement(uU.iA,null),(0,Q2._)()&&W.createElement("div",{className:ap.cx.zIndex1.$},W.createElement(Q1,null)),e.multiplayer&&e.openFile&&W.createElement(W.Fragment,null,W.createElement(TB.yu,{dropdownShown:e.dropdownShown,multiplayer:e.multiplayer,user:e.user}),e.user&&W.createElement(uU.yS,{user:e.user,editingFile:e.openFile})),!e.user&&W.createElement(uU.mE,null),i&&W.createElement(JL.M,{recordingKey:e.recordingKey,extraPadding:p}),p&&W.createElement(W.Fragment,null,W.createElement(ua.i,{featureFlag:"ds_libraries_toolbar_btn_nudge"},W.createElement(JP,null)),W.createElement(JU,null)),!Jz&&W.createElement(J1,{item:rk.zN,recordingKey:e.recordingKey,numUnreadComments:0}),e.showMissingFontsButton&&W.createElement(uU._O,{recordingKey:e.recordingKey}),W.createElement(JX.Qr,{recordingKey:lI.Mx(e,"zoomMenu")}),(0,uf.O8)()&&W.createElement(JI,{variant:"design"}))))))});function $t(e,t){let n=window.FigmaMobile;return e&&!!(null==n?void 0:n.shouldOptimizeForIpadApp)||!t}function $n(e,t,n){let a=(0,uk.K)(e);return{loadingClassName:a?JF.OS:"",hideToolsClassName:!a||(null==t?void 0:t.canEdit)&&n?"":JF.MX}}function $a(e){return W.useMemo(()=>new Q3.s(()=>W.createElement(uE.ey,{recordingKey:lI.Mx(e,"filenameView")})),[e])}var $r=n(767876),$l=n(560528);let $i={type:rk.FP.ACTION,action:"show-april-fun-modal",recordingKey:"showAprilFunModal",isAvailable:Q2._,isActive:e=>{var t;return(null==(t=e.modalShown)?void 0:t.type)===QJ.A.type}};var $o=n(679156);function $s(){return W.createElement("div",{className:"ui3_confidentiality_banner--bannerButtonGroup--hJvTv"},W.createElement(M_.c,{href:"https://www.notion.so/figma/UI3-Editor-Hub-76ca762f1cd54870b806251767808b06",trusted:!0},W.createElement(ag.q,null,W.createElement(ex.Tx,{id:"fullscreen.toolbar.ui3_confidentiality_banner.learn_more_button"}))),W.createElement(M_.c,{href:"https://figma.enterprise.slack.com/archives/C03JGT1NZ26",trusted:!0},W.createElement(ag.q,null,W.createElement(ex.Tx,{id:"fullscreen.toolbar.ui3_confidentiality_banner.share_feedback_button"}))))}function $c(){let e="ui3"===(0,X.qG)().version,t=(0,sC._o)(),n=(0,Y.OY)(),a=(0,t$.Ks)(),r=!!(0,t2.e)("dismissed_ui3_confidentiality_banner"),l=W.useCallback(()=>{r||n(tm.s({dismissed_ui3_confidentiality_banner:!0}))},[r,n]);return r||t||!e||a?W.createElement(W.Fragment,null):W.createElement(i0.i,{content:{id:i1.Ok.UI3ConfidentialityBanner,bannerType:i1.Qp.CONFIDENTIALITY,mainText:(0,ex.t)("fullscreen.toolbar.ui3_confidentiality_banner.banner_header"),description:(0,ex.t)("fullscreen.toolbar.ui3_confidentiality_banner.banner_description"),button:{type:i1.cN.CUSTOM,element:W.createElement($s,null)},dismissible:!0},onDismiss:l,editorType:nd.aE.DESIGN})}let $d=(0,tB.AT)(),$m=()=>{let e=(0,Y.OY)(),t=(0,sC.uc)("activeCanvasEditModeType"),n=(0,Y.w1)(e=>{var t;return null==(t=e.openFile)?void 0:t.canEdit});return()=>{if((0,ar.En)(t)){e((0,sD.eu)());return}if(!n){e(f1.eu({id:sD._2})),tA.CA.triggerAction("enter-preview-mode");return}e(f1.eu({id:sD._2})),tA.CA.triggerAction("enter-layout-mode")}};function $u(e){let{recordingKey:t}=e,n=(0,Y.w1)(e=>e.userStateLoaded),a=(0,sC.uc)("topLevelMode"),r=(0,Y.w1)(e=>e.mirror.appModel.activeCanvasEditModeType),l=(0,Y.w1)(e=>e.selectedView),i=(0,Y.w1)(e=>{var t;return null==(t=e.openFile)?void 0:t.canEdit}),o=$m();return n&&(!(0,$.Ub)().version_diffing||r!==tq.a_v.COMPARE_CHANGES)&&((0,ar.En)(r)||a===tq.s9F.BRANCHING)&&("design"===l.editorType||"dev_handoff"===l.editorType)?W.createElement("div",{className:JF._t},W.createElement(eT.gV,{key:i?"back-to-editing-btn":"back-to-viewing-btn",className:JF.Oy,recordingKey:lI.Mx(t,"backToEditing"),onClick:o},W.createElement(ex.Tx,{id:"fullscreen.toolbar.done"}))):null}function $p(e){let t=W.useRef(null),n=W.useCallback(()=>{requestAnimationFrame(()=>{let e=t.current;e&&e.clientWidth!==innerWidth&&(e.style.width="99.999%",requestAnimationFrame(()=>{e.style.width=""}))})},[]),{dispatch:a,multiplayer:r}=e,l=W.useCallback(e=>{eM.Abq.observeUser(e),r&&r.observingSessionID!==e&&r.sessionID!==e&&a(tm.s({aware_of_observation_mode:!0}))},[a,r]);return(W.useEffect(()=>{addEventListener("resize",n),(0,tS.yj)("main_toolbar",null==t?void 0:t.current);let a=window.FigmaMobile;a&&(a._open_timer=()=>{eo.qM.set(bW.V3,{type:"OPEN"}),(0,Z.we)(C7.em.OPEN,{source:C7.iu.IPAD_MENU})},a._close_timer=()=>{eo.qM.set(bW.V3,{type:"CLOSE"})});let r=window.FigmaMobile;return r&&(r._set_allow_draw_with_touch=e=>{eM.i46.setAllowDrawWithTouch(e)},r._set_tool_lasso=()=>{tA.CA.triggerAction("set-tool-lasso")},r._unlock_all_objects=()=>{tA.CA.triggerActionInUserEditScope("unlock-all")},r._zoom_reset=()=>{tA.CA.triggerActionInUserEditScope("zoom-reset")},r._zoom_to_fit=()=>{tA.CA.triggerActionInUserEditScope("zoom-to-fit")},r._present=()=>{eM.Abq.startPresenting()},r._observe_user=e=>{l(e)},r._find_in_file=()=>{tA.CA.triggerActionInUserEditScope("canvas-search")},r._copy=()=>{tA.CA.triggerActionInUserEditScope("copy")},r._cut=()=>{tA.CA.triggerActionInUserEditScope("cut")},r._paste=()=>{tA.CA.triggerActionInUserEditScope("paste")},r._add_media=e=>{let t=e.map(e=>{let{encoded_data:t,mime_type:n}=e;return new Blob([(0,E5.P4)(t)],{type:n})}),n=tA.CA.fileArrayToString(t);eM.i46.handleOpenFromJsonString(n,Q6.yy.MOBILE_NATIVE_NAVBAR)},r._get_zoom_scale=()=>eM.i46.getViewportZoomScale(),r._get_prototype_status=()=>{let t=eM.MXu.currentPagePrototypeStatus(),n="";if(t!==eM.gRI.VALID)switch(t){case eM.gRI.NO_FRAMES:n="slides"===e.selectedView.editorType?(0,ex.t)("proto.status_messages.a_presentation_needs_to_have_at_least_one_slide"):(0,ex.t)("proto.status_messages.a_prototype_needs_to_have_at_least_one_frame");break;case eM.gRI.INVALID_START_NODE:n=(0,ex.t)("proto.status_messages.a_prototype_with_connections_needs_a_valid_top_level_frame_as_the_origin");break;default:(0,cL.gy)(t)}return{status:t,message:n}},r._toggle_ui_for_mobile_editing=()=>{eM.KEP.uiState().hideUiForMobileEditing.set(!e.hideUiForMobileEditing)}),()=>{(0,tS.yj)("main_toolbar",null),removeEventListener("resize",n)}},[l,e.hideUiForMobileEditing,e.selectedView.editorType,n]),"fullscreen"===e.selectedView.view&&"whiteboard"===e.selectedView.editorType)?W.createElement($f,{progressBarMode:e.progressBarMode,openFile:e.openFile,isInitialized:e.isInitialized,user:e.user,recordingKey:e.recordingKey,hideUiForMobileEditing:e.hideUiForMobileEditing,showUi:e.showUi,numUnreadComments:e.numUnreadComments,multiplayer:e.multiplayer,dropdownShown:e.dropdownShown,ref:t}):(0,rh.yy)(e.selectedView)?W.createElement($y,{dropdownShown:e.dropdownShown,hideUiForMobileEditing:e.hideUiForMobileEditing,isInitialized:e.isInitialized,isTransparent:e.isTransparent,multiplayer:e.multiplayer,numUnreadComments:e.numUnreadComments,openFile:e.openFile,progressBarMode:e.progressBarMode,recordingKey:e.recordingKey,rulersVisible:e.rulersVisible,selectedView:e.selectedView,showMissingFontsButton:e.showMissingFontsButton,showUi:e.showUi,user:e.user,ref:t}):(0,$l.C)(e.selectedView)?null:W.createElement($v,{dropdownShown:e.dropdownShown,hideUiForMobileEditing:e.hideUiForMobileEditing,isInitialized:e.isInitialized,isTransparent:e.isTransparent,multiplayer:e.multiplayer,numUnreadComments:e.numUnreadComments,openFile:e.openFile,progressBarMode:e.progressBarMode,recordingKey:e.recordingKey,rulersVisible:e.rulersVisible,selectedView:e.selectedView,showMissingFontsButton:e.showMissingFontsButton,showUi:e.showUi,user:e.user,ref:t})}function $_(e){return{openFile:e.openFile,dropdownShown:e.dropdownShown,modalShown:e.modalShown,loadingState:e.loadingState,user:e.user,userFlags:e.userFlags,multiplayer:e.multiplayer,userStateLoaded:e.userStateLoaded,topLevelMode:e.mirror.appModel.topLevelMode,isInitialized:e.mirror.appModel.isInitialized,progressBarMode:e.progressBarState.mode,activeVoiceCallExists:!!e.openFile&&e.openFile.key in e.voice.activeCall,showUi:e.mirror.appModel.showUi}}function $E(e){let t=(0,el.q)($_),n=(0,Y.w1)(e=>e.openFile),a=(0,Y.w1)(e=>e.orgById),r=(0,Y.w1)(e=>e.teams),l=(0,nE.mY)({openFile:n,teams:r,orgById:a}),i=(0,th.q6)(),o=(0,eD.s5)(eM.KEP.uiState().showMissingFontsButton),s=(0,eD.s5)(eM.KEP.uiState().hideUiForMobileEditing),c=!(0,eE.g9)(),d=(0,eD.s5)((0,eP.EB)().renderRulers),m=(0,Y.OY)();return(0,ru.O)()?null:W.createElement($p,{...(0,eu.Y)(t),...e,dispatch:m,voiceEligibility:l,isWorkshopFile:i,showMissingFontsButton:o,hideUiForMobileEditing:s,isTransparent:c,rulersVisible:d})}function $g({numUnreadComments:e,recordingKey:t}){let n=(0,tw.KG)(),a=(0,Pt.QF)(),r=(0,Pt.Oq)(),{isLeftPanelCollapsed:l,toggleLeftPanelCollapsed:i}=(0,uh.uA)(),o=(0,Y.w1)(e=>(0,TA.Qj)(e.multiplayer)),s="whiteboard"===n?rk.wT.filter(e=>"whiteboard"!==n||!a&&!r||e.type!==rk.FP.TOOL||e.tool!==tq.w3X.SELECT&&e.tool!==tq.w3X.HAND):[];return W.createElement(W.Fragment,null,l&&!o&&"whiteboard"!==n&&W.createElement($r.k,{ariaLabel:(0,ex.t)("fullscreen_actions.show-sidebar"),onClick:i,"data-tooltip-type":n1.wL.TEXT,"data-tooltip":(0,ex.t)("fullscreen_actions.show-sidebar"),"data-tooltip-shortcut-key":"toggle-sidebar",className:JF._Q},W.createElement(uB.w,null)),s.map((n,a)=>W.createElement($o.OW,{key:a,item:n,numUnreadComments:e,recordingKey:t})))}function $h({renderDesignMiddleItems:e,renderFileName:t,renderFigjamTryCountdown:n}){let a=(0,eD.s5)(eM.KEP.editorState().selectionEmpty),r=(0,sh.n)(!1),{topLevelMode:l,editMode:i}=(0,el.q)(e=>({topLevelMode:e.mirror.appModel.topLevelMode,editMode:e.mirror.appModel.activeCanvasEditModeType})),o=(0,Y.w1)(e=>{let t=e.modalShown;return(null==t?void 0:t.type)===Hn.c}),s=(0,t$.AL)(),c=(0,sC._o)(),d=(0,tB.AT)(),m=i===tq.a_v.COMMENTS||i===tq.a_v.PREVIEW||i===tq.a_v.BRANCHING||l===tq.s9F.HISTORY||l===tq.s9F.PREVIEW||l===tq.s9F.DEV_HANDOFF||l===tq.s9F.BRANCHING,u=(0,tw.yI)(),p=!!(null==s?void 0:s.isTryFile)&&!o&&!c&&d,_=l===tq.s9F.DEV_HANDOFF&&r,E=!o&&(u||a||m||c)&&!_,g=c||u?void 0:W.createElement(Hm,null);return W.createElement("div",{key:"center-group","data-onboarding-key":LE.mk,className:`${JF.E$} ${JF.Ah}`},g,t(E&&!p),n(p),e(!E&&!u&&!p))}let $f=W.forwardRef(function(e,t){let{loadingClassName:n,hideToolsClassName:a}=$C(e.progressBarMode,e.openFile,e.isInitialized),r=!e.user&&!et.cp.isMeetDevice,l=$b(e.recordingKey);return W.createElement(tg.kH,{name:nv.i8.EDITOR_TOOLBAR,trackingTargets:Q5.I.RCS},W.createElement("div",{onFocus:tS.gd,tabIndex:0}),W.createElement(lx.Y,null,W.createElement("div",{className:q()(JF.Ep,eR.cp,n,JF.Q1,{[JF.gd]:$w(e.hideUiForMobileEditing,e.showUi)}),ref:t,role:"region","aria-label":(0,ex.t)("fullscreen.accessibility_dom.primary_toolbar_label")},W.createElement("div",{key:"left-group",className:q()(JF.E$,JF.SW,a)},W.createElement(uU.Sk,{hideToolsClassName:a,recordingKey:e.recordingKey}),W.createElement($g,{numUnreadComments:e.numUnreadComments,recordingKey:e.recordingKey}),W.createElement(J_,null),W.createElement($u,{recordingKey:e.recordingKey})),W.createElement($h,{renderFileName:e=>l.render(e,JF.gH),renderFigjamTryCountdown:e=>e&&W.createElement(JS,null),renderDesignMiddleItems:()=>void 0}),W.createElement("div",{key:"right-group",className:q()(JF.E$,JF.kX,a)},(0,$.Ub)().internal_only_debug_tools&&W.createElement(uU.c9,null),W.createElement(uU.iA,null),e.multiplayer&&e.openFile&&W.createElement(W.Fragment,null,W.createElement(TB.yu,{dropdownShown:e.dropdownShown,multiplayer:e.multiplayer,user:e.user}),e.user&&W.createElement(uU.yS,{user:e.user,editingFile:e.openFile})),r&&W.createElement(uU.mE,null)))))}),$v=W.forwardRef(function(e,t){let n=(0,l1.ie)(e.selectedView),a=(0,rm.yO)(),r=n&&lQ.kr.getIsExtension(),l=!$d&&!e.selectedView.isRecoveryMode&&!a,{loadingClassName:i,hideToolsClassName:o}=$C(e.progressBarMode,e.openFile,e.isInitialized),s=$b(e.recordingKey);return W.createElement(tg.kH,{name:nv.i8.EDITOR_TOOLBAR,trackingTargets:Q5.I.RCS},W.createElement($c,null),W.createElement("div",{onFocus:tS.gd,tabIndex:0}),W.createElement(lx.Y,null,W.createElement("div",{className:q()(JF.Ep,i,{[JF.gd]:$w(e.hideUiForMobileEditing,e.showUi),[JF.OM]:e.isTransparent,[JF.qc]:e.rulersVisible}),ref:t,role:"region","aria-label":(0,ex.t)("fullscreen.accessibility_dom.primary_toolbar_label")},W.createElement("div",{key:"left-group",className:q()(JF.E$,JF.SW,o,eR.cp,{[JF.Qf]:e.isTransparent})},r?W.createElement(JH,null):W.createElement(W.Fragment,null,W.createElement(uU.Sk,{hideToolsClassName:o,recordingKey:e.recordingKey}),W.createElement($g,{numUnreadComments:e.numUnreadComments,recordingKey:e.recordingKey})),s.render(!0,JF.gH),W.createElement($h,{renderFileName:()=>W.createElement(W.Fragment,null),renderFigjamTryCountdown:e=>e&&W.createElement(JS,null),renderDesignMiddleItems:()=>null}),W.createElement($u,{recordingKey:e.recordingKey})),W.createElement("div",{key:"right-group",className:q()(JF.E$,JF.kX,o,eR.cp,{[JF.Qf]:e.isTransparent})},r?W.createElement(Jd,null):W.createElement(W.Fragment,null,W.createElement($o.OW,{item:$i,recordingKey:e.recordingKey,numUnreadComments:0}),W.createElement(uU.iA,null),e.multiplayer&&e.openFile&&W.createElement(W.Fragment,null,W.createElement(TB.yu,{dropdownShown:e.dropdownShown,multiplayer:e.multiplayer,user:e.user}),e.user&&W.createElement(uU.yS,{user:e.user,editingFile:e.openFile})),!e.user&&W.createElement(uU.mE,null),l&&W.createElement(JL.M,{recordingKey:e.recordingKey,extraPadding:!1}),!$d&&W.createElement($o.OW,{item:rk.zN,recordingKey:e.recordingKey,numUnreadComments:0}),e.showMissingFontsButton&&W.createElement(uU._O,{recordingKey:e.recordingKey}),W.createElement(JX.Qr,{recordingKey:lI.Mx(e,"zoomMenu")}))))))}),$y=W.forwardRef(function(e,t){let n=(0,l1.ie)(e.selectedView)&&lQ.kr.getIsExtension(),{loadingClassName:a,hideToolsClassName:r}=$C(e.progressBarMode,e.openFile,e.isInitialized),l=$b(e.recordingKey),i=W.useMemo(()=>new Q3.s(()=>{let t=[];return rk.In.forEach((n,a)=>{let r=W.createElement($o.OW,{key:a,item:n,numUnreadComments:e.numUnreadComments,recordingKey:e.recordingKey});r&&t.push(r)}),t}),[e.numUnreadComments,e.recordingKey]);return W.createElement(tg.kH,{name:nv.i8.EDITOR_TOOLBAR,trackingTargets:Q5.I.RCS},W.createElement($c,null),W.createElement("div",{onFocus:tS.gd,tabIndex:0}),W.createElement(lx.Y,null,W.createElement("div",{className:q()(JF.Ep,a,{[JF.gd]:$w(e.hideUiForMobileEditing,e.showUi),[JF.OM]:e.isTransparent,[JF.qc]:e.rulersVisible}),ref:t,role:"region","aria-label":(0,ex.t)("fullscreen.accessibility_dom.primary_toolbar_label")},W.createElement("div",{key:"left-group",className:q()(JF.E$,JF.SW,r,eR.cp,{[JF.Qf]:e.isTransparent})},n?W.createElement(JH,null):W.createElement(W.Fragment,null,W.createElement(uU.Sk,{hideToolsClassName:r,recordingKey:e.recordingKey}),W.createElement($g,{numUnreadComments:e.numUnreadComments,recordingKey:e.recordingKey})),l.render(!0,JF.gH),W.createElement($h,{renderFileName:()=>W.createElement(W.Fragment,null),renderFigjamTryCountdown:e=>e&&W.createElement(JS,null),renderDesignMiddleItems:e=>i.render(e)}),W.createElement($u,{recordingKey:e.recordingKey})),W.createElement("div",{key:"right-group",className:q()(JF.E$,JF.kX,r,eR.cp,{[JF.Qf]:e.isTransparent})},n?W.createElement(Jd,null):W.createElement(W.Fragment,null,W.createElement(uU.iA,null),e.multiplayer&&e.openFile&&W.createElement(W.Fragment,null,W.createElement(TB.yu,{dropdownShown:e.dropdownShown,multiplayer:e.multiplayer,user:e.user}),e.user&&W.createElement(uU.yS,{user:e.user,editingFile:e.openFile})),!e.user&&W.createElement(uU.mE,null),!$d&&W.createElement($o.OW,{item:rk.Kk,recordingKey:e.recordingKey,numUnreadComments:0}),e.showMissingFontsButton&&W.createElement(uU._O,{recordingKey:e.recordingKey}),W.createElement(JX.Qr,{recordingKey:lI.Mx(e,"zoomMenu")}),W.createElement(yA.KM,null))))))});function $C(e,t,n){let a=(0,uk.K)(e);return{loadingClassName:a?JF.OS:"",hideToolsClassName:!a||(null==t?void 0:t.canEdit)&&n?"":JF.MX}}function $w(e,t){let n=window.FigmaMobile;return e&&!!(null==n?void 0:n.shouldOptimizeForIpadApp)||!t}function $b(e){return W.useMemo(()=>new Q3.s(()=>W.createElement(uE.ey,{recordingKey:lI.Mx(e,"filenameView")})),[e])}function $T(e){let t="ui3"===(0,X.qG)().version?$E:J6;return W.createElement(t,{...e})}let $x=()=>{let e=(0,Y.o3)();return W.useCallback(t=>{let n=e.getState().mirror.sceneGraph;return(0,eF.Gc)(n,t)},[e])},$k=()=>{var e;null==(e=eM.Abq)||e.detach();let t=document.getElementById("fullscreen-root");null==t||t.remove()};function $N(e,t){let{openFile:n,wasInWorkshop:a,previousCanEdit:r,previousCanView:l,wasInUnclaimedTryFile:i,previousFileKey:o}=e;if(null==n){a||($k(),(0,tB.k1)((0,ex.t)("404.file_no_access.title"),t));return}let s=i&&!n.isTryFile;if((null!==r&&n.canEdit!==r||null!==l&&n.canView!==l)&&!s&&n.key===o){let e=new URLSearchParams(J.default.location.search);e.set("perms-refresh","1"),J.default.replace(`${J.default.location.pathname}?${e.toString()}`,J.default.location.state),J.default.reload("file access changed")}}let $S=()=>{var e;"hidden"===document.visibilityState&&(null==(e=e_.Ez)||e.clear(),ny.H.cleanupSession())};function $I(){let e=(0,$.Ub)().ds_updates_toast_deprecation,t=(0,Y.OY)(),n=(0,Y.w1)(e=>e.openFile);nu.qO.Folder.useValue(null==n?void 0:n.folderId);let a=(0,Y.w1)(e=>e.selectedView.editorType),r=(0,rv.Ef)(),l=(0,Pt.iq)(),[i,o]=(0,W.useState)(!1),s=(0,X.qG)(),c="ui3"===s.version,d=(0,rv.sZ)(),m=(0,W.useCallback)(()=>{$k(),o(!0)},[]),u=(0,Y.w1)(e=>e.mergingStatus);(0,W.useEffect)(()=>{if((0,$.Ub)().ce_suppress_browser_keys)return document.addEventListener("keydown",er,!0),()=>void document.removeEventListener("keydown",er,!0)},[]),(0,tS.ee)(),function(){let e=(0,W.useRef)(),t=(0,W.useRef)(),n=(0,Y.OY)(),a=(0,Y.w1)(e=>e.userFlags),r=(0,Y.w1)(e=>!!e.user),l=function(e,t){let n=(0,Y.w1)(e=>e.mirror.appModel.showKeyboardShortcuts),a=(0,Y.w1)(e=>{var t;return null==(t=e.user)?void 0:t.created_at}),r=(0,W.useMemo)(()=>{let e=new Date("2022-11-14").getTime();return null!=a&&new Date(a).getTime()>=e},[a]);return(0,W.useCallback)((a,l,i,o)=>{t.keyboard_user_first_detection||o||!r?a!==eM.O05.US_QWERTY||o||l!==eM.O05.UNKNOWN?a&&l!==eM.O05.UNKNOWN?t.keyboard_manual_supported_bell||t7(e,a,l,n):a&&l===eM.O05.UNKNOWN?t.keyboard_generic_supported_first_bell||ne(e,a,n):(0,t5.kU)({layout:l,detectedLayoutStr:i??void 0,eventName:"keyboard_change_no_bell"}):(0,t5.kU)({layout:a,eventName:"ignore_us_qwerty"}):(e(tm.s({keyboard_user_first_detection:!0})),a&&((0,t5.gT)({layout:a}),(0,t5.kU)({layout:a,eventName:"auto_set_new_user_layout"})))},[e,t,n,r])}(n,a),i=(0,W.useCallback)(async()=>{if(r){if(tW.sZ){let t=await nt(l,e.current??null);e.current=t}else{let e=await nn(l,t.current??null);t.current=e}}},[l,r]);(0,W.useEffect)(()=>{tA.CA.isReady()?i():tA.CA.onReady().then(()=>setTimeout(i,500))},[])}(),(0,tQ.uG)(),function(){let e=(0,Y.o3)(),t=(0,Y.w1)(nl.QZ),n=(0,Y.w1)(ni.iQ),a=(0,Y.w1)(ni.oJ),r=(0,Y.w1)(e=>e.library.published),l=(0,Y.w1)(e=>e.openFile),i=(0,Y.w1)(e=>e.fileVersion),o=(0,Y.w1)(e=>e.loadingState),s=(0,Y.w1)(e=>e.library.local),c=(0,Y.w1)(e=>e.library.assetsPanelSearch.shouldSearchDefaultLibraries),d=(0,nr.wp)(),m=(0,Y.w1)(e=>e.folders),u=(0,no.u0)(),p=(0,Y.w1)(e=>e.library.assetsPanelSearch.query),_=(0,Y.w1)(e=>e.library.assetsPanelSearch.searchOptions);(0,W.useEffect)(()=>{t&&ns.s1.sourcesDidChange()},[t,n,a,r,s,c,d,m]),(0,W.useEffect)(()=>{(0,ns.Ki)(e.getState())&&ns.s1.queryDidChange(e)},[e,p]),(0,W.useEffect)(()=>{(0,ns.Ki)(e.getState())&&ns.s1.searchOptionsDidChange(e)},[e,_]),(0,W.useEffect)(()=>{(0,ns.Ki)(e.getState())&&ns.s1.subscriptionsDidChange(e,u)},[e,u,l,i,o])}(),(0,tX.EN)(),tW.sZ&&function(){let e=(0,tf.Ce)(),t=(0,Y.w1)(e=>e.mirror.appModel.isReadOnly),n=(0,tx.CS)(),a=(0,Y.w1)(e=>e.openFile),r=(0,Y.w1)(e=>e.localPlugins),l=(0,tw.KG)(),i=(0,tf.i4)(),o=(0,Y.w1)(e=>e.installedPluginVersions.plugins),s=(0,Y.w1)(e=>{var t;return null==(t=e.mirror.selectedStyleProperties)?void 0:t.selectedWidgetInfo}),c=(0,Y.w1)(e=>e.mirror.appModel.activeTextReviewPlugin),d=(0,Y.w1)(e=>e.publishedPlugins),m=(0,Y.w1)(e=>e.currentUserOrgId?e.orgById[e.currentUserOrgId]:null),u=(0,tf.qK)(),p=u.orgPlugins,_=u.orgWidgets,E=(0,tf.Yv)(),g=(0,tf.mQ)(),h=(0,tf.oL)(),f=(0,tf.eA)(),v=(0,tf.KM)(),y=null!=(0,tX.wi)(),C=(0,tf.u_)();W.useEffect(()=>{let u={isReadOnly:t,userCanRunPlugins:e,openFile:a,publishedPlugins:d,localExtensions:r,orgEntity:n,allSavedPlugins:o,recentlyUsedPlugins:i,org:m,editorType:l,widgetSelectionInfo:s,hideRecentsHeader:!0,activeTextReviewPlugin:c,orgSavedPlugins:p,orgSavedWidgets:_,orgPrivatePlugins:E,orgPrivateWidgets:g,savedWidgetVersions:h,recentlyUsedWidgets:f,publishedWidgets:v,pluginAllowlist:C};tz(tY.sj(u),tj.u2(u))},[t,e,a,d,o,i,r,n,m,l,s,c,u,p,_,E,g,h,f,v,C,y])}(),function(){let e=(0,tw.KG)(),t=(0,W.useCallback)(()=>{(0,Z.we)("display_redline",{source:"keyboard_shortcut",mode:e})},[e]),n=(0,tC.c)(t,1e3,{leading:!0,trailing:!1}),a=(0,Y.w1)(e=>e.usedKeyboardShortcuts["measure-to-selection"]||0),r=(0,W.useRef)(a);(0,W.useEffect)(()=>{r.current!==a&&(r.current=a,n())},[a,n])}(),(0,ep.M9)("exp_aa_test_fullscreen_view").getConfig(),function(){let e=(0,Y.OY)(),t=(0,Pt.iq)(),n=(0,tJ.QD)(),a=(0,id.k1)(),[r,l]=(0,W.useState)(!1),i=(0,Y.w1)(e=>e.mirror.appModel.multiplayerSessionState===eM.XcX.JOINED);W.useEffect(()=>{(t||n)&&!r&&(null==a?void 0:a.shouldOptimizeForIpadApp)&&i&&!(0,$.Ub)().ipad_combined_hand_select&&(l(!0),tA.CA.triggerAction("set-tool-hand",null))},[t,n,a,r,l,i]);let o=(0,Y.w1)(({mirror:{appModel:e}})=>e.showUi);W.useEffect(()=>{(null==a?void 0:a.updateUIVisible)&&a.updateUIVisible(o)},[a,o]);let s=(0,id._Y)();W.useEffect(()=>{s&&(s._try_to_flush_autosave=async()=>{let e=(0,Pe.gp)();if(e){let t=e.session();t&&await t.tryToFlushAutosave()}})},[s]);let c=(0,uU.aE)();W.useEffect(()=>{(null==a?void 0:a.updateSaveStatus)&&(c?i?a.updateSaveStatus(Pn.SG.SAVING):a.updateSaveStatus(Pn.SG.PAUSED):a.updateSaveStatus(Pn.SG.SAVED))},[a,c,i]);let d=(0,Y.w1)(e=>(0,nf.Ib)(e.mirror.appModel,"undo")),m=(0,Y.w1)(e=>(0,nf.Ib)(e.mirror.appModel,"redo"));W.useEffect(()=>{if((null==a?void 0:a.updateUndoEnabled)&&a.updateUndoEnabled(d),(null==a?void 0:a.updateRedoEnabled)&&a.updateRedoEnabled(m),s){let t=t=>{e(ek.A.dequeue({matchType:"undo_redo_gesture"})),e(ek.A.enqueue({message:t,type:"undo_redo_gesture",timeoutOverride:750}))};s._trigger_undo=()=>{d&&(tA.CA.triggerActionInUserEditScope("undo"),t((0,ex.t)("fullscreen_actions.undo")))},s._trigger_redo=()=>{m&&(tA.CA.triggerActionInUserEditScope("redo"),t((0,ex.t)("fullscreen_actions.redo")))}}},[a,e,d,m,s]);let u=(0,id.QP)();W.useEffect(()=>{u&&(u._set_ui_visibility=e=>{e!==o&&tA.CA.triggerAction("toggle-ui")})},[u,o]);let p=(0,bf.aQ)();W.useEffect(()=>{(null==a?void 0:a.updateDLTHeight)&&a.updateDLTHeight(p)},[p,a]);let _=(0,sC.au)(),E=(0,Mj.S6)(_),g=(0,id.op)();W.useEffect(()=>{var e;E&&(null==(e=null==g?void 0:g.nativeToolbarUpdateActiveTool)||e.call(g,E))},[g,E]);let[h,f]=W.useState("ERASER"),[v,y]=W.useState("PENCIL");W.useEffect(()=>{E&&(0,Mj.yH)(E)&&E!==h&&(y(h),f(E))},[E,h,f,y]),W.useEffect(()=>{u&&(u._switch_to_eraser=function(){if("ERASER"!==h)return(0,Mj.qD)("set-tool-eraser"),{success:!0,error:null,currentTool:"ERASER"};{let e=Mj.UB.get(v);return e&&(0,Mj.qD)(e),{success:!0,error:null,currentTool:v}}},u._switch_to_previous_drawing_tool=function(){let e=Mj.UB.get(v);return e&&(0,Mj.qD)(e),{success:!0,error:null,currentTool:v}})},[E,v,h,u]),s&&(s._update_context_menu_visibility=e=>{eM.i46.updateNativeContextMenuVisibility(e)})}(),(0,tk.Ar)();let p=(0,ep.M9)("exp_test_exposure_data_loss",!1,!0).getConfig(),_=!!(0,t2.e)("exp_test_exposure_data_loss_has_checked");W.useEffect(()=>{let e=p.getValue("should_expose_once",null);null===e||e&&_||((0,ep.OE)("exp_test_exposure_data_loss"),e&&t(tm.s({exp_test_exposure_data_loss_has_checked:!0})))},[p,_,t]),W.useEffect(()=>("whiteboard"===a&&et.cp.isMeetDevice&&"undefined"!=typeof document&&document.addEventListener("visibilitychange",$S),()=>{document.removeEventListener("visibilitychange",$S)}),[a]);let E=(0,tv.i)();W.useEffect(()=>{if(E)return t(tc.O0({storeInRecentsKey:E})),"whiteboard"===a&&(t(tc.OM({storeInRecentsKey:E})),t(tc.bN({storeInRecentsKey:E}))),"dev_handoff"!==a&&t(tc.kZ({storeInRecentsKey:E})),window.addEventListener("storage",e,!1),()=>{window.removeEventListener("storage",e,!1)};function e(e){switch(e.key){case n_.qC:case n_.cB:t(tc.O0({storeInRecentsKey:E}));break;case n_.io:case n_.yQ:t(tc.kZ({storeInRecentsKey:E}));break;case n_.c5:t(tc.OM({storeInRecentsKey:E}));break;case n_._o:t(tc.bN({storeInRecentsKey:E}))}}},[t,a,E]);let g=(0,t1.sX)();W.useEffect(()=>{g&&t(te.jH())},[t,g]),function(){let e=(0,ei.my)(nI);(0,W.useEffect)(()=>{let t;let n=()=>{clearTimeout(t),t=setTimeout(()=>{e(nb.IDLE_DUE_TO_INACTIVITY)},6e4)},a=()=>{n(),e(nb.ACTIVE_AFTER_IDLE)},r=nw()(a,500,{trailing:!1,leading:!0}),l=()=>{"visible"===document.visibilityState?a():e(nb.IDLE_DUE_TO_TAB_SWITCH)};return e(nb.ACTIVE_FIRST_TIME),nA.forEach(e=>{document.addEventListener(e,r)}),document.addEventListener("visibilitychange",l),n(),()=>{nA.forEach(e=>{document.removeEventListener(e,r)}),document.removeEventListener("visibilitychange",l),clearTimeout(t)}},[e,6e4])}(),W.useEffect(()=>{let e=e=>{if(u===j.Y.MERGING)return e.returnValue="A merge operation is in progress. Closing the window could result in data loss or corruption; please wait until the operation completes.",e.preventDefault(),t(ti.we({name:"Unload During Merge Warning Shown"})),!1},n=()=>{u===j.Y.MERGING&&t(ti.we({name:"Page Closed During Merge"}))};return window.addEventListener("beforeunload",e),window.addEventListener("unload",n),()=>{window.removeEventListener("beforeunload",e),window.removeEventListener("unload",n)}},[u,t]);let h=(0,tJ.QD)(),f=(0,Y.w1)(({mirror:{appModel:e}})=>e.showUi),[v,y]=(0,Mj.wP)(a),C=function(){var e,t;let n=Pi(),a=void 0!==n,r=(0,id.I7)(),l=Po(n);return l?null==(e=null==r?void 0:r.nativePropertiesPanelAcceptConfiguration)||e.call(r,l):null==(t=null==r?void 0:r.nativePropertiesPanelRejected)||t.call(r),a}(),w="whiteboard"===a&&(0,xa.A)(),b=W.createElement(W.Fragment,null,W.createElement($A,{file:n,onCanvasExpired:m}),!!w&&W.createElement(Pg.QH,null),h&&v&&y&&C&&W.createElement(X2.o,null,W.createElement(Mj.Oq,{editorType:a}),W.createElement(Pc,null)),c&&!l&&f&&!r&&W.createElement(YF,null),r&&W.createElement(rf,null),l&&W.createElement(X2.o,null,v?y&&W.createElement(Mj.Oq,{editorType:a}):W.createElement(Pg.yT,null)));return W.createElement(eC,{name:"editor",alsoTrack:()=>({editorType:a,productType:(0,tb.EB)(a),uiVersion:s.version,fileKey:(null==n?void 0:n.key)||"",slideView:d?Pp():void 0})},W.createElement(tF.Oh,null,W.createElement(W.Fragment,null,!i&&b,!i&&W.createElement(Hr,{onWorkshopExpired:m}),!e&&W.createElement(nc.k,null),W.createElement(YB.i,null))))}function $A({file:e,onCanvasExpired:t}){var n;let a=(0,Y.w1)(e=>e.userStateLoaded),r=(0,Y.w1)(e=>e.mirror.appModel.isInitialized),l=(0,el.q)(e=>e.comments),{anchorPositions:i,boundingBoxPositions:o,DEPRECATED_updateWatchedNodeIds:s,updateWatchedStablePaths:c}=(0,tT.oD)(),d=$x(),m=(0,t1.sX)();(0,GV.oj)({file:e,onCanvasExpired:t});let u=(0,tg.ol)(W.createElement(t_.ms,{userId:m,file:e,orgId:(null==e?void 0:e.parentOrgId)??null,activeId:(null==(n=l.activeThread)?void 0:n.id)||null,anchorPositions:i,boundingBoxPositions:o,DEPRECATED_updateWatchedNodeIds:s,updateWatchedStablePaths:c,getPageIdsForNodes:d},W.createElement($K,null)),nv.i8.EDITOR,null!=e?(0,tb.Gw)(e):{},null!=e&&a&&r);return W.createElement(W.Fragment,null,u)}function $O(){return(0,na.G)(),W.createElement(W.Fragment,null)}function $M(){return(0,tK.qo)(),null}function $P(e){var t;let n=(0,Y.OY)(),a=(0,Y.w1)(e=>e.showEditButton),r=(0,Y.w1)(e=>e.fileByKey),l=(0,Y.w1)(e=>e.userAnalyticsData),i=(0,Y.w1)(e=>e.user),o=(0,Y.w1)(e=>{var t;return null==(t=e.openFile)?void 0:t.canEdit}),s=(0,Y.w1)(e=>null!=e.openFile),{fileKey:c,orgId:d}=e,m=null!=c&&!!(null==(t=r[c])?void 0:t.is_favorited),u=(0,es.Qb)(nm.CS1,{fileKey:c||""});W.useEffect(()=>{var e;if("loaded"===u.status){let t=null==(e=u.data.file)?void 0:e.developerRelatedLinks,n=null==t?void 0:t.reduce((e,t)=>{let n=e.get(t.nodeId)??[];return n.push(t),e.set(t.nodeId,n),e},new Map);if(!n)return;try{eM.i46.setDeveloperRelatedLinks(n)}catch{}}},[u]);let p=W.useRef(!1),_=(0,ei.my)(th.Y9),E=(0,es.Qb)(nm.El,{fileKey:c||""},{enabled:!!c});W.useLayoutEffect(()=>{if("loaded"!==E.status)return;let e=E.data.figFileWorkshopMode;_(e?e.expiresAt:null),e&&e.expiresAt>new Date&&(p.current=!0),n(td.yO(e?{id:e.id,until:e.expiresAt,loaded:!0}:{loaded:!0}))},[E,n,_]);let g=W.useRef(null),h=W.useRef(!1),f=W.useRef(null),v=W.useRef(null),y=(0,es.Qb)(nm.Cuu,{fileKey:c||""},{enabled:!!c});W.useLayoutEffect(()=>{var e,t;if("loaded"!==y.status)return;let r=y.data.file;if(null===g.current){let t=(0,$.cp)().editing_file;null!==r&&t&&r.key===t.key&&!!t.can_edit!==r.canEdit&&((0,Z.we)("open_file_inconsistent_permission",{file_key:r.key,lg_can_edit:r.canEdit,sinatra_can_edit:t.can_edit,user:null==(e=Q.x.getState().user)?void 0:e.id},{batchRequest:!0}),(0,ed._k)("open_file.inconsistent_permissions",{lg_can_edit:r.canEdit,sinatra_can_edit:t.can_edit}))}if($N({openFile:r,wasInWorkshop:p.current,previousCanEdit:g.current,wasInUnclaimedTryFile:h.current,previousCanView:v.current,previousFileKey:(null==(t=f.current)?void 0:t.key)||null},n),null==r)return;v.current=r.canView,g.current=r.canEdit,p.current&&r.isTryFile&&(h.current=!0);let l=Q.x.getState().selectedView;"fullscreen"===l.view&&l.fileKey===(null==r?void 0:r.key)&&f.current!==r&&(n(ti.yC({openFile:{...r,showEditButton:a,isFavorited:m}})),f.current=r)},[y,n,a,m,s]);let C=(0,tf.qK)();return W.useLayoutEffect(()=>{let e=Q.x.getState().selectedView;if(!C.loaded||"fullscreen"!==e.view)return;let{publishedPlugins:t,currentUserOrgId:a,orgById:r,user:l,orgUsersByOrgId:i}=Q.x.getState(),{plugins:o,widgets:s,orgPlugins:c,orgWidgets:d}=(0,tf._m)(C,{publishedPlugins:t,editorType:e.editorType,orgEntity:(0,tx.Uz)(a,r,l,i)}),m={...o,...c},u={...s,...d};n(tr.IL(m)),n(tr.cD(u))},[n,d,C]),(0,tN.C)(),o&&(0,na.M)(l,null==i?void 0:i.email)?W.createElement($O,null):W.createElement(W.Fragment,null)}function $L({fileKey:e}){let t=(0,Y.OY)(),n=(0,Y.o3)(),a=(0,Y.w1)(e=>e.isFullscreenDocumentLoaded),r=(0,Y.w1)(e=>{var t;return null==(t=e.openFile)?void 0:t.votingSessions}),l=(0,bw.cb)()===bw.ew.ELIGIBLE;return W.useLayoutEffect(()=>{if(!a||!l)return;let i=n.getState(),o=null==r?void 0:r.find(e=>e.inProgress),s=i.mirror.appModel.votingSessionInfo;if(o){if(o.id!==s.sessionId){t(tu.AX({}));let n=(0,np.K0)(i.loadingState,tu.oV(e))||i.voting.lastInitiatedVotingSessionId===o.id;t(tu.Tf({votingStage:n?eM.A5$.JOINED:eM.A5$.NOT_JOINED}))}}else!s.sessionId||(null==r?void 0:r.some(e=>e.id===s.sessionId))?!o&&s.sessionId&&s.votingStage!==eM.A5$.ENDED&&(t(tu.Tf({sessionId:s.sessionId,votingStage:eM.A5$.ENDED})),t(tu.qO(""))):t(tu.Tf({votingStage:eM.A5$.NO_SESSION}))},[e,t,r,a,l,n]),null}function $D(){let e=(0,Y.w1)(e=>e.isFullscreenDocumentLoaded),t=W.useRef(!1);return W.useEffect(()=>{e&&!t.current&&((0,em._c)(),t.current=!0)},[e,t]),null}let $R=(0,ec.ei)((e,t,n)=>{e(tl.ox()),e(tn._S({}))}),$F=(0,kG.w)(()=>{}),$B=class extends W.Component{constructor(){super(...arguments),this.pointerDownLogged=!1,this.state={migratingFile:!1,commentsDetailContainer:null},this._migrationTimer=null,this.focusOutEventListener=()=>{window.scrollTo({left:document.body.scrollLeft,top:document.body.scrollTop,behavior:"smooth"})},this.fetchHubFileMetadata=()=>{var e;(null==(e=this.props.openFile)?void 0:e.canEdit)&&this.props.dispatch(tt.KG({fileKey:this.props.openFile.key}))},this.handleMultiplayerConnect=()=>{this.clearMigrationTimer(),this._migrationTimer=setTimeout(()=>{this.setState({migratingFile:!0}),this.props.needsUpgrade&&this.props.progressBarState.mode!==tq.Mty.OFF&&this.props.dispatch((0,ts.A5)({type:M5}))},2e4)},this.clearMigrationTimer=()=>{this._migrationTimer&&(clearTimeout(this._migrationTimer),this._migrationTimer=null)},this.handleMultiplayerGotSchema=()=>{this.state.migratingFile&&this.hide(),this.setState({migratingFile:!1}),this.clearMigrationTimer()},this.fullscreenContainerRef=e=>{tA.CA.reparentRootElement(e),e&&e.addEventListener("drop",this.handleDrop)},this.commentsDetailContainerRef=e=>{this.setState({commentsDetailContainer:e})},this.handleDrop=e=>{this.props.dispatch(to.on({dataTransfer:e.dataTransfer,clientX:e.clientX,clientY:e.clientY}))},this.hide=()=>{this.props.dispatch(ts.oN())},this.onPointerDown=e=>{!this.pointerDownLogged&&("whiteboard"!==this.props.selectedView.editorType?this.pointerDownLogged=!0:function(e,t){if(t===tq.w3X.VECTOR_PENCIL||t===tq.w3X.ERASER||t===tq.w3X.HIGHLIGHTER){var n;return n="figjam",(0,tb.E3)("Pointer Input",Q.x.getState(),{inputSource:e.pointerType,tool:function(e){switch(e){case tq.w3X.VECTOR_PENCIL:return"VECTOR_PENCIL";case tq.w3X.ERASER:return"ERASER";case tq.w3X.HIGHLIGHTER:return"HIGHLIGHTER"}}(t),productType:n}),!0}return!1}(e,this.props.store.getState().mirror.appModel.currentTool)&&(this.pointerDownLogged=!0))},this.restoreComponent=e=>{let t=e.data.nodeId;tA.CA.restoreComponent(t),this.hide()}}componentDidMount(){var e;window.scrollTo(0,0),et.ch&&document.addEventListener("focusout",this.focusOutEventListener),document.documentElement.classList.add(M4),document.body.classList.add(M6),this.props.dispatch(ta.Uf()),$R(this.props.dispatch,null==(e=this.props.openFile)?void 0:e.key,this.props.currentUserOrgId),this.props.openFile&&(this.props.dispatch(to.Iv({})),this.props.dispatch(to.iQ())),tA.CA.fromFullscreen.on("multiplayerConnect",this.handleMultiplayerConnect),tA.CA.fromFullscreen.on("multiplayerDisconnect",this.clearMigrationTimer),tA.CA.fromFullscreen.on("multiplayerGotSchema",this.handleMultiplayerGotSchema),this.props.openFile&&!this.props.isReadOnly?this.fetchHubFileMetadata():(0,$.Ub)().ce_new_missing_fonts_logging&&(0,tH.gV)();let t=window.FigmaMobile;t&&(t._get_memory_stats=()=>{var e,t,n,a,r,l;let i=(null==(e=eM.mUF)?void 0:e.getImageMemory())||{};return{metadata:JSON.parse(JSON.stringify({coreJsBufferMemory:(null==(t=eM.Ehi)?void 0:t.getJsBufferMemory())||0,coreLocalMaxUsedHeapMemory:(null==(n=eM.Ehi)?void 0:n.getLocalMaxUsedHeapMemory())||0,coreMaxUsedHeapMemory:(null==(a=eM.Ehi)?void 0:a.getMaxUsedHeapMemory())||0,coreTotalUsedHeapMemory:(null==(r=eM.Ehi)?void 0:r.getTotalUsedHeapMemory())||0,fullscreenCompressedImages:i.compressedImages||0,fullscreenUncompressedImagesArrayBuffers:i.uncompressedArrayBuffer||0,fullscreenUncompressedImagesImageBitmap:i.uncompressedImageBitmap||0})),reservedWasmMemory:(0,tG.or)()||0,rendererGpuMemory:(null==(l=eM.mUF)?void 0:l.getRendererGpuMemory())||0}})}componentDidUpdate(e,t){var n;(e.openFile&&this.props.openFile&&e.openFile.key!==this.props.openFile.key||e.selectedView.editorType&&this.props.selectedView.editorType&&e.selectedView.editorType!==this.props.selectedView.editorType)&&(this.props.dispatch(to.iQ()),$R(this.props.dispatch,null==(n=this.props.openFile)?void 0:n.key,this.props.currentUserOrgId)),!e.openFile&&this.props.openFile&&(this.props.dispatch(to.Iv({})),this.props.dispatch(to.iQ()))}componentWillUnmount(){et.ch&&document.removeEventListener("focusout",this.focusOutEventListener),tA.CA.fromFullscreen.removeListener("multiplayerConnect",this.handleMultiplayerConnect),tA.CA.fromFullscreen.removeListener("multiplayerDisconnect",this.clearMigrationTimer),tA.CA.fromFullscreen.removeListener("multiplayerGotSchema",this.handleMultiplayerGotSchema),this.clearMigrationTimer(),document.body.classList.remove(M6),document.documentElement.classList.remove(M4)}renderOnCanvasNameEditor(){switch(this.props.onCanvasNameEditorInfo.mode){case eM.UBf.FRAME_NAME:return W.createElement(zJ,null);case eM.UBf.FLOW_STARTING_POINT_NAME:return W.createElement(z$,null);case eM.UBf.SECTION_NAME:return W.createElement(z0,null);default:return null}}renderOpenDesktopAppModal(){if(this.props.progressBarState.mode===tq.Mty.OFF)switch(this.props.showingOpenDesktopAppModal){case nh.Yp.FOR_OPEN:return W.createElement(Nh.Q,{dispatch:this.props.dispatch});case nh.Yp.FOR_MENU:return W.createElement(z5.Y,{dispatch:this.props.dispatch})}}renderEditConfirmationModal(){if(this.props.showStartModal&&this.props.user&&this.props.openFile&&this.props.openFile.key)return W.createElement(QT,{fileKey:this.props.openFile.key})}renderModal(){let e=this.props.modalShown;if(e)switch(e.type){case tE.Co:return W.createElement(M9,null);case tE.Ux:return W.createElement(nO.wJ,{className:gZ.kl,tintedModalBackground:!0,dispatch:this.props.dispatch},W.createElement("div",{className:gZ.e},W.createElement(ex.Tx,{id:"fullscreen.fullscreen_view.attempted_sketch_import.import_from_sketch"})),W.createElement("div",{className:gZ.YX},W.createElement("p",null,W.createElement(ex.Tx,{id:"fullscreen.fullscreen_view.attempted_sketch_import.to_import_your_sketch_files_please_drag_them_into_your_file_space"}))),W.createElement("div",{className:gZ.hy},W.createElement(eT.wX,{className:gZ.x8,onClick:this.hide},W.createElement(ex.Tx,{id:"fullscreen.fullscreen_view.attempted_sketch_import.do_it_later"})),W.createElement(eT.mq,{href:"/files",target:"_blank",className:gZ.I8},W.createElement(ex.Tx,{id:"fullscreen.fullscreen_view.attempted_sketch_import.go_to_file_space"}))));case tE.cz:return W.createElement(nO.wJ,{className:gZ.kl,size:"small",tintedModalBackground:!0,disableClickOutsideToHide:!0,dispatch:this.props.dispatch},W.createElement("div",{className:gZ.e},W.createElement(ex.Tx,{id:"fullscreen.fullscreen_view.restore_component_modal.restore_component"})),W.createElement("div",{className:gZ.YX},e.data.movedToFile?W.createElement("p",null,W.createElement(ex.Tx,{id:"fullscreen.fullscreen_view.restore_component_modal.this_component_was_moved",otherFile:"another file"===e.data.movedToFile?(0,ex.t)("fullscreen.fullscreen_view.restore_component_modal.another_file"):W.createElement("span",{className:gZ.II},`${e.data.movedToFile}`)}),W.createElement("br",null),W.createElement(ex.Tx,{id:"fullscreen.fullscreen_view.restore_component_modal.accept_component_updates"}),W.createElement("br",null),W.createElement("br",null),W.createElement(ex.Tx,{id:"fullscreen.fullscreen_view.restore_component_modal.restoring_will_allow"})):W.createElement("p",null,W.createElement(ex.Tx,{id:"fullscreen.fullscreen_view.restore_component_modal.restore_the_main_component_to_continue_making_edits_to_it"}))),W.createElement("div",{className:gZ.hy},W.createElement(eT.wX,{className:gZ.x8,onClick:this.hide},W.createElement(ex.Tx,{id:"fullscreen.fullscreen_view.restore_component_modal.cancel"})),W.createElement(eT.wX,{onClick:()=>this.restoreComponent(e),className:gZ.I8},W.createElement(ex.Tx,{id:"fullscreen.fullscreen_view.restore_component_modal.restore"}))))}}render(){var e,t,n,a,r,l,i,o,s,c;let d=this.props.isCommentsToolSelected,m=this.props.topLevelMode===tq.s9F.HISTORY,u="whiteboard"===this.props.selectedView.editorType,p="design"===this.props.selectedView.editorType||this.props.selectedView.editorType===ng.OY,_="slides"===this.props.selectedView.editorType,E=!this.props.isReadOnly,g="dev_handoff"===this.props.selectedView.editorType,h=(null==(e=this.props.openFile)?void 0:e.editorType)==="design",f=this.props.aiEnabled,v=(0,tZ.s)(),y=!this.props.showUi&&(0,nf.SY)(this.props.dropdownShown),C=(null==(t=this.props.dropdownShown)?void 0:t.type)===nf.ET,w=(0,nf.IJ)(this.props.dropdownShown),b=C?null==(a=null==(n=this.props.dropdownShown)?void 0:n.data)?void 0:a.parameterEntryArgs:void 0,T=this.props.selectedView.editorType;T!==$B.previousEditorType&&(this.props.dispatch(ti.QV([])),$B.previousEditorType=T);let x=this.props.user&&this.props.openFile&&!m,k=this.props.currentPage,N=(null==(r=this.props.comments.activeThread)?void 0:r.id)||null,S=this.props.comments.showOnlyParticipating,I=this.props.comments.showResolved,A=!this.props.fileIsLoading&&u&&(0,Qb.s)(this.props),O=!(0,Pd.eo)();return W.createElement(X2.o,null,W.createElement("div",{"aria-hidden":!!this.props.modalShown,className:q()("fullscreen_view--flexContainer--RlX3H",v&&this.props.devHandoffFocusMode&&"fullscreen_view--containerExtensionOverride--JB0U9"),onPointerDown:this.onPointerDown},W.createElement($P,{fileKey:(null==(l=this.props.openFile)?void 0:l.key)||null,orgId:this.props.currentUserOrgId}),(p||g)&&W.createElement(tF.Kk,null),(0,$.Ub)().ee_color_management_debug?W.createElement(tR,null):null,this.props.openFile&&W.createElement($L,{fileKey:this.props.openFile.key}),!(et.cp.isIpad||et.cp.isIpadNative||et.cp.isMobileBrowser||et.cp.isMeetDevice)&&W.createElement($D,null),W.createElement("div",{className:"fullscreen_view--page--uZukb","data-forward-events-to-fullscreen":!0},W.createElement(WC,null,(0,$.Ub)().cursor_bot&&h&&this.props.hasCursorBot&&W.createElement(zX,null),W.createElement("div",{key:"fullscreen-container",ref:this.fullscreenContainerRef}),W.createElement(z8,null),!_&&W.createElement($c,null),this.props.showToolbar&&W.createElement($T,{numUnreadComments:this.props.unreadCommentCount,selectedView:this.props.selectedView,recordingKey:"toolbarView"}),!this.props.fileIsLoading&&W.createElement(PZ,{context:{location:"editor",openFile:this.props.openFile}}),(null==(i=this.props.openFile)?void 0:i.template)&&W.createElement(V9,null),y&&W.createElement(aa.w,{key:"fullscreen-menu",dropdown:this.props.dropdownShown,recordingKey:"mainMenu"}),W.createElement(Z8,null),(C||w)&&W.createElement(eb.Ou,{boundaryKey:"QuickActionsOuter",onError:()=>{this.props.dispatch(ek.A.enqueue({message:"Unable to open quick actions",type:"react-error"}))},fallback:eb.Yd.NONE_I_KNOW_WHAT_IM_DOING},W.createElement(Qv,{key:"quick-actions",parameterEntryArgs:b})),!(et.cp.isIpad||et.cp.isIpadNative)&&!this.props.isReadOnly&&u&&(!h||(0,eE.g9)())&&W.createElement(Pg.w6,null),(u||_)&&W.createElement(Wo,null),this.props.progressBarState.mode!==tq.Mty.OFF&&W.createElement("div",{className:"fullscreen_view--filebar--IUEDt"}),W.createElement(Ww.cD,{initialFilterState:{currentPage:(0,l1.ie)(this.props.selectedView)}},this.props.loadingEmbeds.map(e=>W.createElement(jm,{key:`loading-embed-${e}`,nodeId:e})),this.renderOnCanvasNameEditor(),W.createElement(Pm,null),g?this.props.canAccessDevMode&&W.createElement(e9,null):this.props.showCanvasSearch&&W.createElement(z2,null),p&&(0,$.Ub)().ce_al_drag_experiments&&W.createElement(z2,null),W.createElement(jr,null),W.createElement(ja,null),W.createElement(N1,null),u&&(0,$.Ub)().figjam_summary_content_attrib&&W.createElement(QA,null),u&&(0,$.Ub)().figjam_ai_summary_edited_by&&W.createElement(PE.$,null),u&&W.createElement(Pg.o1,null),g&&W.createElement(V3,null),(0,Pu.i)()&&_?W.createElement(P_,null):null,x&&W.createElement(nP.c7,{showOnlyParticipatingComments:S,showResolvedComments:I,pageId:k,activeId:N,renderDetailContainerInPortal:!0,detailContainerPortal:this.state.commentsDetailContainer}),W.createElement(zz.C_,null),(0,$.Ub)().ce_multi_edit&&W.createElement(zW,null),(0,$.Ub)().cursor_bot&&h&&this.props.hasCursorBot&&W.createElement(GP,null),u&&W.createElement(Sp,null),u&&W.createElement(j_.u,{multiplayerEmoji:this.props.multiplayerEmoji}),!(0,$.Ub)().figjam_generate_handbrake&&f&&u&&!m&&W.createElement(Pg.IT,null),f&&u&&W.createElement(Pg.m6,null),u&&(0,$.Ub)().figjam_mindmaps_behavior_enable&&W.createElement(Pg.gT,null),u&&!d&&!m&&W.createElement(Pg.sJ,null),u&&!d&&!m&&W.createElement(Pg.mi,null),!u&&!g&&W.createElement(zD,null),(u||p||_)&&W.createElement(YY,null),u&&W.createElement(Y2,null),W.createElement(Kq.Yl,null),u&&W.createElement(Pg.mg,null),u&&this.props.showUi&&W.createElement(QV,null),W.createElement("div",{ref:this.commentsDetailContainerRef}),W.createElement($G,null),h&&p&&E&&W.createElement(Z5,null),W.createElement(Ns,null)),W.createElement(G4,{isFigjamEditor:u,isDesignEditor:p,openFile:this.props.openFile}),this.props.showUi&&!u&&m&&!this.props.isUI3&&W.createElement("div",{className:"fullscreen_view--rightNav--YJm34"},W.createElement(ar.sN,{recordingKey:"versionHistoryView"})),this.props.hyperlinkLocation&&W.createElement(X5.e,{hyperlink:this.props.hyperlinkLocation,editorType:(0,ng.sZ)(this.props.selectedView.editorType),dispatch:this.props.dispatch,recordingKey:"hyperlinkEditor"}),W.createElement(nM.gt,null),this.props.progressBarState.mode!==tq.Mty.OFF&&W.createElement(xH.cH,{editorType:(0,ng.sZ)(this.props.selectedView.editorType),progressBarMode:this.props.progressBarState.mode,progressBarType:this.props.progressBarState.type,left:0}),this.props.showingReconnectingModal&&W.createElement(M7.k,{clientType:"fullscreen"}),this.renderOpenDesktopAppModal(),this.renderEditConfirmationModal(),this.renderModal(),W.createElement(yA.g5,null),this.props.universalInsertModal.showing&&W.createElement(eb.Ou,{boundaryKey:u?"FigJamBrowseAllResourcesModal":"FdBrowseResourceModal ",onError:()=>{this.props.dispatch(ek.A.enqueue({message:"Unable to open inserts menu",type:"react-error"}))},fallback:eb.Yd.NONE_I_KNOW_WHAT_IM_DOING},u?W.createElement(M0,null):W.createElement(G7,null)),this.props.dropdownShown&&!O&&!et.cp.isMeetDevice&&W.createElement(eb.Ou,{boundaryKey:"FullscreenContextMenu",onError:()=>{this.props.dispatch(ek.A.enqueue({message:"Unable to open context menu",type:"react-error"}))},fallback:eb.Yd.NONE_I_KNOW_WHAT_IM_DOING},W.createElement(X1,{dropdownShown:this.props.dropdownShown,selectedView:this.props.selectedView,ariaLabelledBy:(0,ex.t)("fullscreen.fullscreen_view.context_menu.aria_label")})),(null==(o=this.props.pickerShown)?void 0:o.id)===eR.Oe&&W.createElement(n7,null),this.props.exportSettingsPickerShown.isShown&&W.createElement(jW,null),(null==(s=this.props.pickerShown)?void 0:s.id)===Ng.A&&W.createElement(Ng.c,{recordingKey:"nudgeAmountPicker"}),this.props.eyedropper&&W.createElement(jh,null),A&&W.createElement(Qw,null))),W.createElement(G9.EmbeddedFigmaScopeView,null),!1,this.props.showKeyboardShortcuts&&W.createElement(rc,{recordingKey:"keyboardShortcutPanel"}),this.props.voiceEnabled&&("design"===T||"dev_handoff"===T)&&W.createElement(zq,{className:"fullscreen_view--additionalRightNav--0sr7T"},W.createElement(CY,{fileKey:(null==(c=this.props.openFile)?void 0:c.key)||null,showUi:this.props.showUi})),u&&W.createElement(Pg.AZ,null),u&&W.createElement(Pg.WS,null),W.createElement(Hb,{editorType:T,currentPage:this.props.currentPage}),W.createElement(Ph.i,null),W.createElement($M,null)))}};function $U(e){return{selectedView:e.selectedView,user:e.user,currentUserOrgId:e.currentUserOrgId,comments:e.comments,dropdownShown:e.dropdownShown,modalShown:e.modalShown,pickerShown:e.pickerShown,multiplayerEmoji:e.multiplayerEmoji,eyedropper:e.eyedropper,needsUpgrade:e.needsUpgrade,progressBarState:e.progressBarState,showingReconnectingModal:e.showingReconnectingModal,showingOpenDesktopAppModal:e.showingOpenDesktopAppModal,openFile:e.openFile,exportSettingsPickerShown:e.exportSettingsPickerShown,pagesList:e.mirror.appModel.pagesList,timerModalState:e.timer.modalState,timerTime:e.timer.time,universalInsertModal:e.universalInsertModal,isCommentsToolSelected:e.mirror.appModel.currentTool===tq.w3X.COMMENTS,loadingBackgroundColor:e.desktopNewTab.loadingBackgroundColor,isReadOnly:e.mirror.appModel.isReadOnly,currentPage:e.mirror.appModel.currentPage,hyperlinkLocation:e.mirror.appModel.hyperlinkLocation,onCanvasNameEditorInfo:e.mirror.appModel.onCanvasNameEditorInfo,topLevelMode:e.mirror.appModel.topLevelMode,showUi:e.mirror.appModel.showUi,showToolbar:!0,showKeyboardShortcuts:e.mirror.appModel.showKeyboardShortcuts,loadingEmbeds:e.mirror.appModel.loadingEmbeds,fileIsLoading:e.progressBarState.mode===tq.Mty.HIDE_UI||e.progressBarState.mode===tq.Mty.ON_AND_LOCKED,hasCursorBot:!!(0,$.Ub)().internal_only_debug_tools||!!e.userFlags.has_cursor_bot_onboarding_v2}}$B.displayName="FullscreenViewInner",$B.previousEditorType="design";let $K=W.memo(function(){var e,t,n,a,r,l;let i=(0,el.q)($U),o=(0,tp.EB)(),s=(0,nE.sZ)(),c=(0,eD.U3)(null==(e=eM.KEP)?void 0:e.uiState().showCanvasSearch,!1),d=!(0,Tj.q6)()&&(0,TY.e4)(),m=(0,Y.OY)(),u=(0,t1.sX)(),p=i.openFile?i.openFile.key:"",_=(0,eD.s5)(null==(t=eM.KEP)?void 0:t.devHandoffState().focusMode),E=!!(0,e7.U9)(),g=(0,es.Qb)(nm.uMc,{key:p}),h=!1;if(g&&"loaded"===g.status&&i.openFile){let e=g.data.file;if(e&&u){let t=e.linkAccess,o=null==(n=e.team)?void 0:n.isStarterTeam,s=(null==(r=null==(a=e.team)?void 0:a.isStudentTeam)?void 0:r.status)==="loaded"&&(0,es.Fc)(null==(l=e.team)?void 0:l.isStudentTeam),c=!!e.roles.find(e=>e.userId===u);i.openFile.canEdit&&t===nd.O6.EDIT&&(o||s)&&!c&&(h=!0)}}let f=(0,Y.o3)();to.cT(),to.IX(p),(0,tU.K)();let v=(0,kb._O)();return"ok"!==(0,eo.m4)(tI.u)?null:W.createElement($B,{...(0,eu.Y)(i),store:f,dispatch:m,unreadCommentCount:o,voiceEnabled:s,showCanvasSearch:c,aiEnabled:d,showStartModal:h,devHandoffFocusMode:_,canAccessDevMode:E,isUI3:v})});function $G(){var e;let t=(0,t0.c$)(),n="design"===t.editorType||t.editorType===ng.OY,a="whiteboard"===t.editorType,r="slides"===t.editorType,l=(null==(e=(0,t$.AL)())?void 0:e.editorType)==="design",i=(0,ty.Ci)();return n||r||a&&i||l&&a&&!(0,eE.g9)()?W.createElement(NE,null):null}},510816:(e,t,n)=>{n.d(t,{C:()=>E});var a=n(307824),r=n(570464),l=n(103839),i=n(204792),o=n(537096),s=n(833492),c=n(740718),d=n(809712),m=n(761748),u=n(194600),p=n(844792),_=n(876180);function E({resolvedTypes:e,recordingKey:t}){let{showing:n,toggle:i,hide:m}=(0,s.s)("expression-builder-create-variable"),u=a.useRef(null),E=r.S4(r.Mx(t,"createVariableDropdown"),"click",a.useCallback(()=>{1===e.length?y(e[0]):i()},[e,i])),[h,f]=a.useState(!1),v=a.useRef(null),y=e=>{var t;let n=null==(t=u.current)?void 0:t.getBoundingClientRect();n&&(v.current={initialPosition:new l.Cg(n.left,n.top),resolvedType:e},f(!0))},C=()=>{f(!1)};return a.createElement(a.Fragment,null,a.createElement("button",{ref:u,className:p.i4,onClick:E},a.createElement(o.A,{svg:_.c})),h&&(h&&v.current?a.createElement(d.CW,{initialPosition:v.current.initialPosition,resolvedType:v.current.resolvedType,onCreateVariable:C,onClose:C}):null),n&&u.current&&a.createElement(c.Mx,{arrowOffsetFromRectLeft:14,leanPadding:0,lean:"right",targetRect:u.current.getBoundingClientRect()},e.map(e=>a.createElement(g,{key:e,resolvedType:e,onClose:m,showCreationModal:y,recordingKey:t}))))}function g({resolvedType:e,onClose:t,showCreationModal:n,recordingKey:l}){let o=(0,u.m)(e),s=r.S4(r.Mx(l,"createVariableOption",o.name),"click",a.useCallback(()=>{n(e),t()},[t,e,n]));return a.createElement(i.g.Option,{className:p.wo,onClick:s},a.createElement(m.m,{type:e,showTooltip:!1}),o.name)}},809712:(e,t,n)=>{n.d(t,{CW:()=>F,Ck:()=>K,K0:()=>R,xo:()=>B});var a=n(307824),r=n(120304),l=n(445069),i=n.n(l),o=n(916924),s=n(721500),c=n(594192),d=n(570464),m=n(326660),u=n(148276),p=n(577824),_=n(560072),E=n(597624),g=n(219096),h=n(762820),f=n(555168),v=n(784340),y=n(833492),C=n(790184),w=n(142548),b=n(24588),T=n(235020),x=n(967228),k=n(101040),N=n(987640),S=n(159624),I=n(219868),A=n(965876),O=n(409712),M=n(763456),P=n(383824),L=n(541384);let D=2*(0,s.qe)(M.ycA),R=304;function F({initialPosition:e,initialValue:t,resolvedType:n,onCreateVariable:r,onClose:l}){(0,x.i_)({resolvedType:n});let{onCreateVariableSubmit:i}=B({onCreateVariable:r,onClose:l});return a.createElement(U,{initialPosition:e,initialValue:t,resolvedType:n,onCreateVariableSubmit:i,onClose:l,recordingKey:"createVariableModal"})}function B({onCreateVariable:e,onClose:t}){return{onCreateVariableSubmit:function({varSetID:n,varName:a,varValue:r}){if(!h.sAy.isValidVariableName(a,n)){(0,m.WI)("variables","Attempted to submit variable name that is invalid",{varName:a,_varSetID:n});return}f.Pc.user("create-variable",()=>{let t=n??h.sAy.createVariableSet((0,_.t)("variables.variable_collection"),h.q09.AUTOMATIC_FIRST_COLLECTION),l=h.sAy.createVariable(a,t,r,h.omj.VARIABLE_PICKER),i=h.sAy.getLocalVariableInfo(l);(0,o.Up)(i,`variable with id ${l} not found`),e((0,C.Sy)(i))}),t()}}}function U({initialPosition:e,initialValue:t,resolvedType:n,recordingKey:r,onCreateVariableSubmit:l,onClose:i}){return a.createElement(k.G0,{title:a.createElement("div",{className:P.CO},a.createElement(_.Tx,{id:"variables.create_modal.title"})),initialPosition:e,initialWidth:R,onClose:i},a.createElement(K,{resolvedType:n,initialValue:t,recordingKey:d.Mx(r,"createVariableForm"),onSubmit:l}))}function K({resolvedType:e,initialValue:t,recordingKey:n,onSubmit:l}){let i=(0,r.OY)(),o=(0,v.SU)(),m=(0,a.useRef)(null),[f,y]=(0,a.useState)(o.length>0?o[0].node_id:null),[C,T]=(0,a.useState)(""),[x,k]=(0,a.useState)(()=>t??(0,A.gb)(e)),R=function(e){let t=(0,v.cz)(e.type===h.Tcd.ALIAS?e.value:void 0);return(0,c.aI)(t)&&"MIXED"!==t?t:null}(x),F=(0,a.useMemo)(()=>h.sAy.isValidVariableName(C,f),[C,f]);async function B(t){if(t){let n=await i((0,g.sN)(t));k((0,I.R8)(e,n))}else x.type===h.Tcd.ALIAS&&k((0,A.gb)(e))}(0,a.useEffect)(()=>{let e=m.current;if(!e)return;let t=e=>e.preventDefault();return e.addEventListener("contextmenu",t),()=>{e.removeEventListener("contextmenu",t)}},[m]);let U=d.Un(n,"submit",()=>{l({varName:C,varValue:x,varSetID:f})});function K({label:e,input:t}){return a.createElement(E.g,{spacing:0,horizontalAlignItems:"space-between",height:"hug-contents",padding:{horizontal:D}},a.createElement(b.iM,null,e),t)}return a.createElement("form",{onSubmit:U},a.createElement(E.g,{direction:"vertical",spacing:0,height:"hug-contents",ref:m},a.createElement(E.g,{direction:"vertical",spacing:`${(0,s.qe)(M.ycA)}px`,padding:{top:D},height:"hug-contents"},o.length>0&&!!f&&K({label:a.createElement(_.Tx,{id:"variables.create_modal.collection_label"}),input:a.createElement("div",{className:P.Yh},a.createElement(G,{selectedVariableSetID:f,variableSets:o,onChange:y}))}),K({label:a.createElement(_.Tx,{id:"variables.create_modal.name_label"}),input:a.createElement(p.y,{className:P.MT,name:"variableName",value:C,onChange:e=>{T(e.target.value)},recordingKey:d.Mx(n,"variableNameInput"),delay:50,autoFocus:!0})}),K({label:a.createElement(_.Tx,{id:"variables.create_modal.value_label"}),input:a.createElement("div",{className:P.Yh},a.createElement(S.gp,{resolvedType:e,variableValue:x,onVariableValueChange:e=>k(e),onVariableSelected:B},a.createElement(O.i,{variableValue:x,contextType:N.o.FORM,onChange:e=>k(e),recordingKey:d.Mx(n,"variableValueInput")}),R&&a.createElement(b.wP,{svg:L.c,type:"button","data-tooltip-type":w.wL.TEXT,"data-tooltip":(0,_.t)("variables.authoring_modal.table.detach_alias"),onClick:()=>k(R),recordingKey:d.Mx(n,"detachVariableButton")})))}))),a.createElement(E.g,{horizontalAlignItems:"end",verticalAlignItems:"center",padding:16},a.createElement(u.gV,{style:{justifySelf:"right"},tabIndex:0,type:"submit",disabled:!F,recordingKey:d.Mx(n,"createButton"),"data-tooltip-type":F?void 0:w.wL.TEXT,"data-tooltip":(0,_.t)("variables.create_modal.invalid_variable_name")},a.createElement("span",null,a.createElement(_.Tx,{id:"variables.create_modal.create_button"})))))}function G({selectedVariableSetID:e,variableSets:t,onChange:n}){let l=(0,r.OY)(),o=(0,y.g)(),s=(0,a.useMemo)(()=>i()(t,e=>e.node_id),[t]);return a.createElement(T.M1,{id:"variable-create-modal-variable-set-select",property:s[e],formatter:{format:e=>(null==e?void 0:e.name)??""},dispatch:l,chevronClassName:P.KU,inputClassName:P.SU,dropdownShown:o,onChange:e=>n(e.node_id)},t.map(function(e){return a.createElement(T.cb,{key:e.node_id,value:e})}))}},731784:(e,t,n)=>{n.d(t,{A:()=>r});var a=n(307824);function r(e){return a.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},a.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"m4.7 4.7.315-1.26c.126-.505.844-.505.97 0L6.3 4.7l1.26.315c.505.126.505.844 0 .97L6.3 6.3l-.315 1.26c-.126.505-.844.505-.97 0L4.7 6.3l-1.26-.315c-.505-.126-.505-.844 0-.97L4.7 4.7Zm4.49 4.491 1.117-3.908c.486-1.702 2.898-1.702 3.384 0L14.81 9.19l3.908 1.117c1.702.486 1.702 2.898 0 3.384L14.81 14.81l-1.117 3.908c-.486 1.702-2.898 1.702-3.384 0L9.19 14.81l-3.908-1.117c-1.702-.486-1.702-2.898 0-3.384L9.19 9.19ZM10 10l1.27-4.442c.21-.735 1.25-.735 1.46 0L14 10l4.442 1.27c.735.21.735 1.25 0 1.46L14 14l-1.27 4.442c-.21.735-1.25.735-1.46 0L10 14l-4.442-1.27c-.735-.21-.735-1.25 0-1.46L10 10Zm8.015 6.44L17.7 17.7l-1.26.315c-.505.126-.505.844 0 .97l1.26.315.315 1.26c.126.505.844.505.97 0l.315-1.26 1.26-.315c.505-.126.505-.844 0-.97L19.3 17.7l-.315-1.26c-.126-.505-.844-.505-.97 0Z",clipRule:"evenodd"}))}}}]);

//# debugId=b8a77f80-a5a5-5265-bbf3-4d863e11f1fb

//# sourceMappingURL=https://admin.figma.com/admin/webpack-artifacts/b84ade5d909058fab589d8d18c95f051fae27d70/fullscreen-de8d47bffd03be23.min.js.map