"use strict";
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="450063d5-297d-5ebf-9c02-8c9a5a8841f8")}catch(e){}}();
(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([[1956],{20179:(e,t,n)=>{n.d(t,{ID:()=>r,M$:()=>c,Qr:()=>s,W8:()=>a,Wu:()=>d,_e:()=>l,a2:()=>i,uQ:()=>o});let a="figjam_onboarding_make_something--contentContainer--gVph-",i="figjam_onboarding_make_something--imageContainer--RoSk9",o="figjam_onboarding_make_something--bodyContainer--GVc2Q text--fontPos12Whyte---tkNx text--_fontBaseWhyte--efAjI",l="figjam_onboarding_make_something--tooltipBodySmall--7yA9-",r="figjam_onboarding_make_something--buttonContainer--78iSl",c="figjam_onboarding_make_something--skipButton--pKB7N connector_modal_cta_button--button--mhvSu text--fontPos12Whyte---tkNx text--_fontBaseWhyte--efAjI",s="figjam_onboarding_make_something--shiftSkipButtonAboveDlt---sQ7k",d="figjam_onboarding_make_something--standaloneModal--Ksh8z"},347688:(e,t,n)=>{n.d(t,{C:()=>a});let a="0.5s"},593648:(e,t,n)=>{n.d(t,{A5:()=>u,Gc:()=>f,I2:()=>i,OA:()=>s,Q9:()=>g,Qp:()=>o,SE:()=>p,SU:()=>c,Sy:()=>E,UJ:()=>d,Wm:()=>l,_U:()=>r,cj:()=>h,eS:()=>a,iB:()=>_,wH:()=>m});let a="mini_home--iconButton--ZvEwQ toolbar_view--iconButton--1MUm6",i="mini_home--contextRowContainer--lbaDy",o="mini_home--contextRowThumbnailBackground--3WQmn",l="mini_home--contextRowThumbnailPlusSign--9w5Au",r="mini_home--contextRowContainerSelected--bpqz9",c="mini_home--contextRowMetaContainer--ASL1J",s="mini_home--contextRowTitle--49E7k text--fontPos11--2LvXf text--_fontBase--QdLsd",d="mini_home--contextRowTimestamp--cvj3G text--fontPos11--2LvXf text--_fontBase--QdLsd",u="mini_home--contextRowTitleSelected--gg6TS",m="mini_home--contextRowThumbnail--PcdIb",p="mini_home--hoverThumbnailContainer--SSEq0 _overlayBase--_overlayBase--Rkj8l",_="mini_home--fileScrollContainer--HpT9X",g="mini_home--fileScrollContainerWithFooter--5y2tX",f="mini_home--hoverThumbnail--N1ju8",h="mini_home--hoverThumbnailMetaContainer--f-A7q",E="mini_home--hoverThumbnailMetaTitle--DJIM- text--fontPos13--xW8hS text--_fontBase--QdLsd"},460440:(e,t,n)=>{n.d(t,{KY:()=>i,Ml:()=>l,Yh:()=>o,uQ:()=>a});let a="whiteboard_menu_selector--container--ye4aw",i="whiteboard_menu_selector--chevron--kjs2p",o="whiteboard_menu_selector--input--GTjdY",l="whiteboard_menu_selector--select--nLTil text--fontNeg12--2PWcg text--_fontBase--QdLsd text--_negText--j9g-L"},175948:(e,t,n)=>{n.d(t,{I5:()=>a,w3:()=>i});let a="BrowsePluginsModal",i="BrowseWidgetsModal"},59764:(e,t,n)=>{let a;n.d(t,{AN:()=>c,Kc:()=>s,Mr:()=>d,QB:()=>m,_S:()=>r,ae:()=>u,em:()=>l,mM:()=>p});var i=n(372152),o=n(805220);let l="user_has_generated_ai_summary",r="has_dismissed_summarization_nudge",c=(0,o.y_)(l),s=(0,o.y_)(r),d=(0,i.Ce)("last_saw_summarization_nudge","0"),u=(0,i.Ce)("seen_summarization_nudge_count",0);var m=((a=m||{}).DismissImmediately="dismiss-immediately",a.NoAutoDismiss="no-auto-dismiss",a.StartAutoDismissTimer="start-auto-dismiss-timer",a.noop="no-op",a);function p({currentAutoDismissTimeoutId:e,stickySummarizationEnabledForSelection:t,hasLastEligibleSelectionBeenDeleted:n}){return t?"no-auto-dismiss":n()?"dismiss-immediately":e?"no-op":"start-auto-dismiss-timer"}},360188:(e,t,n)=>{n.d(t,{S:()=>i,e:()=>a});let a=2,i=1e3},189896:(e,t,n)=>{n.d(t,{SY:()=>T,Un:()=>N,ay:()=>w,cp:()=>C,uy:()=>O});var a=n(307824),i=n(760780),o=n(372152),l=n(752648),r=n(365224),c=n(560072),s=n(144459),d=n(974636),u=n(283620),m=n(805220),p=n(362592),_=n(187044),g=n(378780),f=n(357532),h=n(878524),E=n(881467),b=n(457428),y=n(360188);let C="ai_generate_onboarding_key",w="ai_new_file_modal_onboarding_key",T="ai_new_file_modal_v2_onboarding_key",k="has_seen_figjam_ai_modal_overlay",v="has_seen_figjam_ai_toolbar_tooltip",S=(0,m.y_)(b.sd),x=(0,m.y_)(k),I=(0,m.y_)(v),L=(0,m.y_)("figjam_editor_onboarded");function N(){let e=(0,o.m4)(I),t=(0,o.m4)(b.w7),n=(0,o.m4)(b.Ed),i=(0,d.W)({overlay:E.Sq4,priority:p.g.HIGH_PRIORITY_MODAL},[e]);return(0,a.useEffect)(()=>{let e=setTimeout(()=>{i.show({canShow:e=>!e&&n&&t})},y.S);return()=>clearTimeout(e)},[t,n,i]),a.createElement(f.Y5,{isShowing:i.isShowing,userFlagOnShow:v,targetKey:C,onClose:i.complete,trackingContextName:_.i8.AI_TOPBAR_TOOLTIP,title:a.createElement(c.Tx,{id:"whiteboard.ai_onboarding.ai_templates_toolbar.title"}),description:a.createElement(c.Tx,{id:"whiteboard.ai_onboarding.ai_templates_toolbar.description"}),emphasized:!0})}function O({targetKey:e}){let t=(0,o.m4)((0,l.mC)(u._q)),n=(0,o.m4)(S),m=(0,o.m4)(x),y=(0,o.m4)(L),C=(0,r.my)(b.q8),w=(0,d.W)({overlay:E.eqj,priority:p.g.HIGH_PRIORITY_MODAL},[n,m,t,y]);(0,i.u)(()=>{w.show({canShow:(e,t,n,a)=>!e&&!t&&!n&&a})});let T=()=>{w.complete(),C(!0)};return(0,i.u)(()=>()=>{T()}),a.createElement(f.Y5,{isShowing:w.isShowing,userFlagOnShow:k,targetKey:e,onClose:T,onTargetLost:T,trackingContextName:_.i8.AI_MODAL_ONBOARDING_TOOLTIP,arrowPosition:h.Wp.LEFT_TITLE,title:a.createElement(c.Tx,{id:"whiteboard.ai_onboarding.new_file_modal.title"}),media:a.createElement(g.A,{src:"https://static.figma.com/uploads/b306123ab827a626d46db70bcc5a74e9e76feacf",alt:"",aspectRatio:301/154}),description:a.createElement(c.Tx,{id:"whiteboard.ai_onboarding.new_file_modal.footer"}),primaryCta:{label:a.createElement(c.Tx,{id:"rcs.got_it"}),type:"button",onClick:T,ctaTrackingDescriptor:s.O.GOT_IT}})}},108296:(e,t,n)=>{n.d(t,{SI:()=>f,q1:()=>h,M7:()=>y,Gm:()=>E,OW:()=>b});var a=n(307824),i=n(125504),o=n.n(i),l=n(148276),r=n(426488),c=n(537096),s=n(778524),d=n(560072),u=n(518256),m=n(416044);function p({onClick:e,autoFocus:t,children:n,trackingEventName:i,large:r}){return a.createElement(l.Uv,{className:o()({"connector_modal_cta_button--button--mhvSu text--fontPos12Whyte---tkNx text--_fontBaseWhyte--efAjI":!0,"connector_modal_cta_button--buttonLarge--4RXeh text--fontPos14Whyte--pEiDq text--_fontBaseWhyte--efAjI":r}),onClick:e,autoFocus:t,trackingEventName:i},n)}var _=n(20179),g=n(919736);let f="FigJam Editor Onboarding";function h(e){return a.createElement("div",{className:_.W8},e.svg&&a.createElement("div",{className:_.a2},a.createElement(c.A,{svg:e.svg,useOriginalSrcFills_DEPRECATED:!0})),a.createElement("div",{className:_.uQ},e.titleText?e.titleText:"",e.bodyText),e.buttonText&&e.onButtonClick&&a.createElement("div",{className:_.ID},a.createElement(p,{onClick:e.onButtonClick,autoFocus:!0},e.buttonText)))}let E="https://static.figma.com/uploads/8f3066fc3906f11f2601a390725f2b7af58e01a1";function b(e){let t=(0,m.Cd)()<r.Yh+110;return a.createElement(a.Fragment,null,e.children,a.createElement(l.Uv,{className:o()(_.M$,{[_.Qr]:t}),onClick:()=>{e.onSkipClick(),(0,s.Y9)({id:u.CA})},autoFocus:!0,trackingProperties:{text:"Skip intro"}},a.createElement(d.Tx,{id:"figjam_onboarding_make_something.all.skip_intro"}),a.createElement(c.A,{svg:g.c})))}function y(e){return a.createElement("div",{className:o()({[_.Wu]:!0})},a.createElement(h,{bodyText:e.bodyText,buttonText:e.buttonText,onButtonClick:e.onButtonClick,svg:e.svg}))}},617312:(e,t,n)=>{n.d(t,{UI:()=>O,ec:()=>A,wz:()=>L});var a=n(307824),i=n(120304),o=n(372152),l=n(752648),r=n(560072),c=n(144459),s=n(974636),d=n(283620),u=n(313373),m=n(805220),p=n(762820),_=n(943596),g=n(444636),f=n(287540),h=n(362592),E=n(378780),b=n(357532),y=n(878524),C=n(881467),w=n(457428),T=n(188764),k=n(416044),v=n(864008),S=n(476108),x=n(853488),I=n(347688);let L="section_presets_announcement_key",N="seen_figjam_section_presets_announcement",O=(0,m.Ww)(N);function A(){let e=(0,o.m4)(S.P)===x.sr.TRUE,t=(0,i.w1)(e=>e.mirror.appModel.currentPage),n=(0,f.eM)((t,n)=>(0,g.o)(t,n)||e&&(0,g.b)(t,n),t),m=(0,_.e)(),A=(0,o.m4)((0,l.mC)(d._q)),M=(0,o.m4)(O),R=(0,o.m4)(v.m),P=(0,k.iq)(),U=function(){let[e,t]=(0,a.useState)(!1),n=(0,i.w1)(e=>e.isMakeSomethingV2Active),l=(0,o.m4)(w.Ed);return(0,a.useEffect)(()=>{(n||l)&&t(!0)},[l,n]),e}(),B=(0,o.m4)(w.yW),D=(0,o.m4)(u.uK),F=B.status!==T.s.NONE,[Z,W]=(0,a.useState)(!1),{show:z,isShowing:q,complete:V}=(0,s.W)({overlay:C.s37,priority:h.g.SECONDARY_MODAL},[M,A,D]),H=1e3*parseFloat(I.C)+1e3;return(0,a.useEffect)(()=>{let e=setTimeout(()=>{W(!0)},H);return()=>{clearTimeout(e)}},[H]),(0,a.useEffect)(()=>{R&&!U&&!F&&n&&m&&P&&Z&&z({canShow:(e,t,n)=>{let a=function(e){let t=Date.now();return e.getTime()<=t-12096e5}(n);return!e&&!t&&a}})},[z,n,m,R,P,Z,F,U]),a.createElement(b.Y5,{isShowing:q,userFlagOnShow:N,targetKey:L,onClose:V,trackingContextName:"section_preset_picker_dlt_announcement",title:a.createElement(r.Tx,{id:"whiteboard.section_presets_onboarding.feature_announcement.title"}),description:a.createElement(r.Tx,{id:"whiteboard.section_presets_onboarding.feature_announcement.description"}),media:a.createElement(E.m,{src:"https://static.figma.com/uploads/0ccb9b0b677f719939bd9bacd937201dfea4e8c9",aspectRatio:4/3}),primaryCta:{label:a.createElement(r.Tx,{id:"rcs.got_it"}),type:"button",onClick:V,ctaTrackingDescriptor:c.O.GOT_IT},secondaryCta:{label:a.createElement(r.Tx,{id:"whiteboard.section_presets_onboarding.feature_announcement.secondary"}),type:"button",onClick:()=>{e&&p.k5C.setFigjamStarterKitEnabled(!1),p.uSN.createSectionForOnboarding(),V()},ctaTrackingDescriptor:c.O.SECTION_PRESET_PICKER_SHOW_ME},arrowPosition:y.Wp.BOTTOM})}},378740:(e,t,n)=>{n.d(t,{M:()=>o});var a=n(752648),i=n(762820);let o=(0,a.oR)(!1,(e,t)=>{switch(t.type){case"ACTIVATE_AND_MAXIMIZE":return i.i46.setActiveEmbed(t.payload.embedNodeID),!0;case"MINIMIZE":return!1;default:return e}})},486264:(e,t,n)=>{n.d(t,{uX:()=>k,QN:()=>w,iY:()=>T});var a=n(307824),i=n(120304),o=n(916924),l=n(721500),r=n(372152),c=n(455200),s=n(888932),d=n(426488),u=n(322864),m=n(191352),p=n(644092),_=n(762820),g=n(312452),f=n(507076),h=n(679804),E=n(84656),b=n(734572),y=n(935164),C=n(763456);let w=(0,l.I)(C.eWp);function T(){var e;let t=(0,i.w1)(({mirror:{selectionProperties:e,sceneGraphSelection:t,appModel:n}})=>1===Object.keys(t).length&&e.whiteboardNumSelectedByType&&1===e.whiteboardNumSelectedByType.SECTION&&(e.name||n.onCanvasNameEditorInfo.mode===_.UBf.SECTION_NAME)),n=(0,i.w1)(({mirror:{selectionProperties:e,sceneGraphSelection:t}})=>1===Object.keys(t).length&&e.whiteboardNumSelectedByType&&1===e.whiteboardNumSelectedByType.STAMP),a=(0,i.w1)(({mirror:{selectionProperties:e}})=>e.nodeSelectedValidForQuickAdd);return"whiteboard"===(0,m.CM)()?t?40:n&&s.ch?40:a?20+w/2:(null==(e=_.Y57)?void 0:e.shouldRenderTableUiForSelection())!==_.IR3.HIDE?20+w/2:16:8}function k({children:e,isShown:t,centerInFrame:n,anchorToRect:l,showInReadOnly:s}){let C;let[w,k]=a.useState(!1),[S,x]=a.useState(!1),[I,L]=(0,r.lZ)(b.K),N=I.positionRelativeToSelection,O=a.useRef(null),A=a.useRef(null),{markPositionChanged:M,markSelectionChanged:R}=function(e){let t=a.useRef({frameHandle:null,didMenuMidpointChange:!1,didSelectionChange:!1,lastMidpoint:{x:0,y:0},lastSelection:{}}),n=a.useCallback(()=>{var n;let{current:a}=t;a.didMenuMidpointChange&&a.didSelectionChange&&(null==(n=e.current)||n.animate()),a.frameHandle||(a.frameHandle=setTimeout(()=>{a.didMenuMidpointChange=!1,a.didSelectionChange=!1,a.frameHandle=null},0))},[e]);return{markSelectionChanged:a.useCallback(e=>{Object.keys(t.current.lastSelection).length&&(t.current.didSelectionChange=!0,n()),t.current.lastSelection=e},[n]),markPositionChanged:a.useCallback(e=>{let{current:a}=t;(e.x!==a.lastMidpoint.x||e.y!==a.lastMidpoint.y)&&(a.didMenuMidpointChange=!0,n()),a.lastMidpoint=e},[n])}}(A),P=(0,i.w1)(({mirror:{appModel:e}})=>[g.Sbl.DEFAULT,g.Sbl.SELECTING_TEXT,g.Sbl.CLICKING_TO_CHANGE_SELECTION].includes(e.activeUserAction)),U=(0,i.w1)(({mirror:{appModel:e}})=>e.isReadOnly),B=(0,h.OM)({subscribeToUpdates_expensive:t}),D=(0,E.s5)(_.KEP.canvasViewState().selectionBoundingRect),F=(0,E.s5)(_.KEP.canvasViewState().inlineMenuTarget),Z=l||(null==F?void 0:F.boundingBox)||D,W=(0,m.CM)(),z=T(),q=(0,i.w1)(e=>e.mirror.appModel.hyperlinkLocation),V=(0,i.w1)(e=>e.mirror.sceneGraphSelection),H=(0,f.A9)("isTableSublayerSelected"),j=(C=_.e2e.ABOVE,(null==F?void 0:F.preferredPosition)?C=F.preferredPosition:H&&(C=_.e2e.BELOW),C),G=(0,p.aQ)(),K=!!q||!B||!Z||!P||U&&!s||!t;a.useEffect(()=>{(K||S)&&w&&k(!1)},[K,w,S]);let Y=(null==B?void 0:B.offsetX)||0,Q=(null==B?void 0:B.offsetY)||0;a.useEffect(()=>{k(!1)},[V,Y,Q]),a.useEffect(()=>{R(V)},[V,R]);let X=(0,h.C)(B,Z),$=a.useMemo(()=>({...X,x:X.x+B.x,y:X.y+B.y}),[X,B]),J=a.useCallback((e,t,n)=>{switch(j){case _.e2e.ABOVE:return n<e.y?_.e2e.ABOVE:_.e2e.BELOW;case _.e2e.BELOW:return n>e.y?_.e2e.BELOW:_.e2e.ABOVE;case _.e2e.LEFT:return t<e.x?_.e2e.LEFT:_.e2e.RIGHT;case _.e2e.RIGHT:return t>e.x?_.e2e.RIGHT:_.e2e.LEFT;default:(0,o.gy)(j)}},[j]),ee=a.useCallback((e,t,n,a)=>{if(B){let i=e-B.x,o=t-B.y,l=(0,h.GO)(B,{x:i,y:o-a/window.devicePixelRatio});_.i46.figjamInlineMenuPositionUpdate(l.x,l.y,n.height)}M({x:e+n.width/2,y:t+n.height/2});let i=J($,e,t);N!==i&&L({type:"SET_POS_RELATIVE_TO_SELECTION",payload:i})},[B,M,J,$,N,L]),et=(0,u.Qr)(),en=a.useCallback((e,t,n)=>{let a=B.y+24,i=B.y+B.height-24-G-t.height,l=(0,y.Wu)(e,t,n),r=(0,y.g1)(e,t,n),s=e.y,d=e.y,u=j,m=(e=>{switch(e){case _.e2e.ABOVE:return l;case _.e2e.BELOW:return r;case _.e2e.LEFT:return s;case _.e2e.RIGHT:return d;default:(0,o.gy)(e)}})(u);return u===_.e2e.ABOVE&&l<a?(u=_.e2e.BELOW,m=r):u===_.e2e.BELOW&&r>i&&(u=_.e2e.ABOVE,m=l),(0,c.qk)(m,a,i)},[G,j,B.height,B.y]),ea=a.useCallback((e,t)=>{let n=(0,y.qT)(e,t),a=(0,y.WA)(e,t,20),i=(0,y.O4)(e,20),l=(e=>{switch(e){case _.e2e.ABOVE:case _.e2e.BELOW:return n;case _.e2e.LEFT:return a;case _.e2e.RIGHT:return i;default:(0,o.gy)(e)}})(j),r="whiteboard"===W?d.m_:0,s=B.x+20+et.left,u=B.x+B.width-20-t.width-et.right-r;return j===_.e2e.LEFT&&l<s?l=i:j===_.e2e.RIGHT&&l>u&&(l=a),(0,c.qk)(l,s,u)},[B.width,B.x,et,j,W]),ei=a.useCallback((e,t)=>(0,c.qk)((0,y.jf)(e,t),B.y+20,B.y+B.height-20-t.height),[B.height,B.y]);if(K||!(0,h.GY)(X,B))return a.createElement(v,{ref:A},null);let eo="whiteboard"===W&&w?{transition:"transform 0.1s"}:{};return eo.WebkitUserSelect="none",a.createElement(y.m_,{style:eo,targetRect:$,onMouseEnter:()=>{k(!0),O.current&&clearTimeout(O.current),O.current=null},onMouseLeave:()=>{O.current=setTimeout(()=>k(!1),100)},offset:n?0:z,positionX:ea,positionY:n?ei:en,onPosition:ee,frozen:w,setSizeChanged:x},a.createElement(v,{ref:A},e))}let v=a.forwardRef(function({children:e},t){let n=a.useRef(null);return a.useImperativeHandle(t,()=>({animate:()=>{n.current&&(n.current.style.animation="none",n.current.offsetTop,n.current.style.animation="")}})),a.createElement("div",{ref:n,className:"inline_editor_layer--animationRoot--pX-db"},e)})},848296:(e,t,n)=>{n.d(t,{Kw:()=>p,MF:()=>_,Uv:()=>g,mA:()=>r});var a=n(4596),i=n(762820),o=n(492084);let l=[i.__k.STICKY,i.__k.TEXT,i.__k.SHAPE_WITH_TEXT];function r(e){return e?e.textSublayer?e.textSublayer.textContent:e.textContent?e.textContent:null:null}let c=(e,t)=>e?r(e)||(e.name?e.name:null):null,s=e=>!!["STICKY","TEXT","SHAPE_WITH_TEXT"].includes(e.type),d=(e,t,n)=>{if(!s(e))return null;let a=n[e.guid],i=c(e,t);if(!i)return null;let o={t:i,bounds:e.absoluteRenderBounds,id:e.guid,type:e.type};return a&&(o.stamps=a),o},u=e=>{let t=i.SSV.getStampsOnNodes(e),n=Object.fromEntries(t),a={};for(let[e,i]of t)a[e]=Object.fromEntries(n[e]);return a},m=e=>{let t=i.i46.searchForNodesInSelection(l),n=[];for(let a of t){let t=e.get(a);t&&n.push(t)}return n.filter(e=>s(e))},p=(0,o.m)(e=>{let t=m(e),n=u(t.map(e=>e.guid)),a=[];for(let i of t){let t=d(i,e,n);t&&a.push(t)}return{v:1,data:a}});function _(e){let t=function(e){let t=i.i46.getStickyThreadsFromSelection(),n=[];for(let a of t){let t=!1,i={id:"",text:""};for(let n of a){let a=e.get(n);if(a&&"STICKY"===a.type){let e=a.textSublayer&&a.textSublayer.textContent||"";if(t)i.id=i.id?`${i.id}|${n}`:n,e&&(i.text=i.text?`${i.text}|${e}`:e);else{if(t=!0,!e)continue;i.id=a.guid,i.text=e;continue}}}i.text&&n.push(i)}return n}(e),n=JSON.stringify(t).length;return{v:1,data:t,characterCount:n}}function g(e,t){let n=e.get(t);if(!n||!n.isDiagramNode)return null;let i=r(n);if(!i)return null;let o=[],l=n.diagramParentId;for(;l&&l!==a.Q9;){let t=e.get(l);if(!t)break;let n=r(t);n&&o.push(n),l=t.diagramParentId}o.reverse();let c=[];for(let t of n.diagramChildIds){let n=r(e.get(t));n&&c.push(n)}return{selectedNode:i,parentHierarchy:o,children:[],excludedSuggestions:c}}},117372:(e,t,n)=>{n.d(t,{s:()=>I});var a=n(307824),i=n(120304),o=n(937620),l=n(843148),r=n(372152),c=n(47956),s=n(612952),d=n(560072),u=n(166332),m=n(683780),p=n(5868),_=n(762820),g=n(555168),f=n(526768),h=n(138884),E=n(907152),b=n(679804),y=n(392992),C=n(882784),w=n(718128),T=n(612340),k=n(515760),v=n(779532),S=n(848296);let x=e=>({...e,width:e.w,height:e.h});function I(){let e=a.useRef((0,d.t)("whiteboard.ai_cluster.loading_section_base")),t=a.useMemo(()=>new E.TSSceneGraph,[]),{Sprig:n}=(0,s.c)(),[I,L]=a.useState(!1),N=(0,o.e6)(),O=a.useRef(),A=(0,f.i)("figjam_summary_navigate"),M=(0,k.o$)(),R=(0,r.m4)(m.MJ),P=(0,r.m4)(y.Ci),U=(0,r.m4)(p.kF),B=(0,r.m4)(y.mi),D=(0,r.m4)(y.eg),F=(0,i.w1)(e=>e.multiplayer.allUsers.length),Z={orgId:R,teamId:P||null,fileKey:D,userId:U||null},W=a.useCallback(e=>{let n=t.get(e);(null==n?void 0:n.isAlive())&&g.Pc.system("remove-cluster-placeholder",()=>_.gVz.removePlaceholder(e)),O.current&&(clearInterval(O.current),O.current=void 0)},[O,t]);return{clusterCanvasSelection:()=>{let a=new c.QD(v.Il.TIME_TAKEN_TO_COMPLETE,{});a.start(),L(e=>!e);let i=_.i46.getSelectionBounds(),{v:o,data:r,characterCount:s}=(0,S.MF)(t),d=e.current+".",m=g.Pc.system("create-cluster-placeholder",()=>{let e=_.gVz.createPlaceholder(i);return h.gc(e,d),e});A((0,b.Qn)({nodeId:m,alwaysPan:!1})),O.current=setInterval(()=>{d.length===e.current.length+3?d=e.current+".":d+=".",g.Pc.system("update-cluster-placeholder-text",()=>h.gc(m,d))},1e3),u.cp.figjam.cluster({v:o,data:r,tokenCount:s/4},Z).then(e=>{let o=t.get(m),c=null==o?void 0:o.absoluteRenderBounds,d=c?x(c):i;W(m);let[u,p]=g.Pc.user("create-and-place-clusters",()=>_.gVz.createAndPlaceClusters(e.clusters,d));n("track",T.OQ),L(!1);let f=a.stop();f&&N(v.Il.TIME_TAKEN_TO_COMPLETE,{elapsed_ms:f},{forwardToDatadog:!0}),N("ai_sticky_clusters_created",{request_id:e.requestUuid,nodes_clustered:r.map(e=>e.id.split("|")).flat(),num_characters_input:s,success:!0,output_section_node_ids:p,output_sticky_node_ids:u,failure_reason:""}),(0,l.Ub)().workspace_activity_write&&D&&B&&w.W.recordActivity({activityUnitType:C.cv.FILE_COLLABORATION,fileKey:D,collaborationType:C.kb.AI_CLUSTER,numPeopleInFile:F})}).catch(e=>{let t;W(m);let n=(0,k.gd)(e,k.sp.CLUSTER);N("ai_sticky_clusters_created",{nodes_clustered:r.map(e=>e.id.split("|")).flat(),num_characters_input:s,success:!1,failure_reason:n.message}),"figjam_cluster_out_of_date"===n.type&&(t={type:k.Ku.Reload}),M(n.message,k.sp.CLUSTER,t)})},requestIsPending:I}}},252416:(e,t,n)=>{n.d(t,{EL:()=>l,SQ:()=>s,UL:()=>c,es:()=>u,mE:()=>r,ug:()=>d});var a=n(120304),i=n(843148),o=n(590112);function l(){let e=r();return!(0,i.Ub)().figjam_inline_menu_organize&&e}function r(){let e=(0,a.w1)(e=>e.mirror.selectionProperties.whiteboardStickyAIControlsShown);return!!(((0,i.Ub)().figjam_summarization||(0,i.Ub)().figjam_sticky_clustering)&&e)}function c(){let e=(0,a.w1)(e=>e.mirror.selectionProperties.whiteboardMindmapAIControlsShown);return!!((0,i.Ub)().figjam_mindmaps_gen_from_node&&e)}function s(){let e=(0,a.w1)(e=>e.mirror.selectionProperties.whiteboardSelectionCanSummarize);return!!((0,i.Ub)().figjam_summarization&&e)}function d(){let e=(0,a.w1)(e=>e.mirror.selectionProperties.whiteboardSelectionCanCluster);return!!((0,i.Ub)().figjam_sticky_clustering&&e)}function u(){let e=(0,a.w1)(e=>e.mirror.selectionProperties.whiteboardSelectionCanShowAiOnboardingBadge),t=(0,o.E7)();return!!((0,i.Ub)().figjam_ai_onboarding&&e&&t)}},227448:(e,t,n)=>{n.d(t,{W8:()=>q});var a=n(307824),i=n(120304),o=n(250008),l=n(937620),r=n(843148),c=n(372152),s=n(47956),d=n(612952),u=n(418084),m=n(849208),p=n(166332),_=n(683780),g=n(5868),f=n(762820),h=n(555168),E=n(41488),b=n(155212),y=n(880356),C=n(317588),w=n(764788),T=n(356904),k=n(52456);async function v({scene:e}){let t=(0,k.E)(),{AutoLayout:n,Frame:a,Text:i}=t.widget,o=(0,u.c)(),l=await t.createNodeFromJSXAsync(t.widget.h(n,{fill:{r:0,g:0,b:0,a:0},direction:"vertical",spacing:0,effect:T.I9,width:T.W},t.widget.h(n,{cornerRadius:{topLeft:8,topRight:8,bottomLeft:0,bottomRight:0},fill:"#FFFFFF",width:T.W},(0,b.O)(t),(0,C.y)(t,T.uO),t.widget.h(n,{direction:"vertical",width:T.aq,padding:{top:32,bottom:24}},t.widget.h(a,{height:24,width:"fill-parent"},(0,w.I)(t,`${new Date().getTime()}`)),(0,E.H1)(t,"Summary Title",{hasV2Styling:!1}),t.widget.h(i,{...T.Ow,hidden:!0},o)),(0,C.y)(t,T.uO),(0,b.O)(t)),(0,y.m)(t))),r=e.get(l.id+"asdf");if(!r)throw Error("could not find node to attach summary to");let c=null;if(!(c=function e(t){if("TEXT"===t.type&&t.textContent===o)return t;if(t.childrenNodes)for(let n of t.childrenNodes){let t=e(n);if(t)return t}return null}(r)))throw Error("could not find text node inside of summary");return h.Pc.system("set-ai-summary-visible",()=>{c.visible=!0}),r}var S=n(59764),x=n(526768),I=n(907152),L=n(679804),N=n(392992),O=n(882784),A=n(718128),M=n(492084),R=n(612340),P=n(515760),U=n(779532),B=n(848296),D=n(473748);class F{constructor(){this.attributionState=[],this.summaryNode=null}setTargetSummaryNode(e){this.summaryNode=e}processMessage(e){if(e.type!==D.o.SET_CONTENT_ATTRIBUTION)return!1;let t={uuid:e.uuid,themeAttachedTo:e.attach_to,nodeIds:e.node_ids},n=this.attributionState.find(t=>t.uuid===e.uuid);return n?(n.themeAttachedTo=e.attach_to,n.nodeIds=e.node_ids):this.attributionState.push(t),this.flushAttributionDataToNode(),!0}processMessages(e){for(let t of e)this.processMessage(t)}flushAttributionDataToNode(){h.Pc.system("stream-ai-summary",()=>{this.summaryNode&&(0,T.F3)(this.summaryNode,this.attributionState,!1)})}}class Z{static generateLocalRequestId(){return(0,u.c)()}}let W=(0,M.m)((e,t,n)=>{let a=h.Pc.user("insert-ai-summary-node",()=>f.i46.insertAISummaryInCanvas(t,n)),i=e.get(a);return i&&(h.Pc.user("set-ai-summary-timestamp",()=>{(0,T.uB)(i,new Date)}),f.i46.triggerAction("commit",{})),i});async function z({v:e,canvasData:t,nodePosition:n,loadingNodeGuid:a,showErrorBell:i,trackSummaryRequested:l,trackSummaryCreated:s,scene:d,operationTimer:u}){let E,b,y;let C={orgId:c.qM.get(_.MJ),teamId:c.qM.get(N.Ci)||null,fileKey:c.qM.get(N.eg)||null,userId:c.qM.get(g.kF)||null},w=e=>{let t;throw"figjam_summarize_out_of_date"===e.type&&(t={type:P.Ku.Reload}),i(e.message,P.sp.SUMMARIZE,t),Error(P._E[P.sp.SUMMARIZE]+e.message)},k=t.map(e=>e.id),x=Z.generateLocalRequestId();l(k,t,x);let I=null,L=!1,O=new F;try{E=await p.cp.figjam.streamSummarize({v:e,data:t},C),b=(0,r.Ub)().figjam_summary_content_attrib?E.pipeThrough((0,p.m2)(e=>{O.processMessages(e)})):E.pipeThrough((0,p.sP)())}catch(e){w((0,P.gd)(e,P.sp.SUMMARIZE));return}let A=()=>{if(!L){let e=d.get(a);e&&e.isAlive()&&h.Pc.system("remove-ai-summary-loading-state",()=>{f.i46.deleteNode(a),L=!0})}},M=async()=>{let e=null;return(e=(0,r.Ub)().figjam_summarization_hybrid_node?await v({scene:d,nodePosition:n,loadingNodeGuid:a}):W(d,n,a))&&setTimeout(()=>{A()},200),e},R=0;try{for await(let e of new p.c5(b)){y=e;let t=R%5==0;I||(I=await M(),O.setTargetSummaryNode(I)),t&&!(0,r.Ub)().figjam_summarization_hybrid_node&&h.Pc.system("stream-ai-summary",()=>{I&&(0,T.Er)(I,y)}),R++}}catch(e){w((0,P.gd)(e,P.sp.SUMMARIZE));return}if(h.Pc.system("stream-ai-summary",()=>{y&&I&&!(0,r.Ub)().figjam_summarization_hybrid_node&&(0,T.Er)(I,y)}),(0,r.Ub)().figjam_summary_content_attrib&&O.flushAttributionDataToNode(),y){let e=u.stop();e&&(0,o.we)(U.M1.TIME_TAKEN_TO_COMPLETE,{elapsed_ms:e},{forwardToDatadog:!0}),I&&(m.s({[S.em]:!0}),s(I.guid,y,x))}y&&I&&f.i46.triggerAction("commit",{})}function q(e,t=!0){let[n]=a.useState(new I.TSSceneGraph),[o,c]=a.useState(!1),u=(0,x.i)("figjam_summary_navigate"),m=(0,P.o$)(),{Sprig:p}=(0,d.c)(),_=function(){let e=(0,l.e6)();return a.useCallback((t,n,a)=>{let i=(0,U.Cg)(n);e(U.M1.REQUEST,{local_summary_id:a,num_characters_input:i,nodes_summarized:t})},[e])}(),g=function(){let e=(0,l.e6)(),t=(0,N.AL)(),n=(0,i.w1)(e=>e.multiplayer.allUsers.length),o=a.useRef(n);return o.current=n,a.useCallback((n,a,i)=>{var l;let c={local_summary_id:i,summary_node_id:n,num_characters_output:a.map(e=>"content"in e?e.content.length:0).reduce((e,t)=>e+t,0),num_themes_output:a.filter(e=>"h2"===e.type).length,num_supporting_points_output:a.filter(e=>"li"===e.type).length};e(U.M1.CREATE,c),(0,r.Ub)().workspace_activity_write&&(null==(l=null==t?void 0:t.team)?void 0:l.workspaceId)&&A.W.recordActivity({activityUnitType:O.cv.FILE_COLLABORATION,fileKey:t.key,collaborationType:O.kb.AI_SUMMARY,numPeopleInFile:o.current})},[e,t,o])}();return{summarizeCanvasSelection:async()=>{let a=new s.QD(U.M1.TIME_TAKEN_TO_COMPLETE,{});a.start();let{v:i,data:o}=(0,B.Kw)(new I.TSSceneGraph),l=h.Pc.user("insert-ai-summary-loading-node",()=>f.i46.insertLoadingSummaryInCanvas(e===f.e2e.BELOW,t)),r=n.get(l);if(!r)return;h.Pc.user("insert-ai-summary-loading-node",()=>{r.setWidgetSyncedState("syncedState:loading","true")}),u((0,L.Qn)({nodeId:l,alwaysPan:!1}));let d={x:r.absoluteBoundingBox.x,y:r.absoluteBoundingBox.y};if(o){c(!0);try{await z({v:i,canvasData:o,nodePosition:d,loadingNodeGuid:l,showErrorBell:m,trackSummaryRequested:_,trackSummaryCreated:g,scene:n,operationTimer:a})}catch(e){n.get(l)&&f.i46.deleteNode(l)}finally{p("track",R.Om),c(!1)}}},requestIsPending:o}}},993140:(e,t,n)=>{n.d(t,{Av:()=>b,Wg:()=>w,wO:()=>y});var a=n(307824),i=n(623131),o=n(372152),l=n(838836),r=n(560072),c=n(441388),s=n(974636),d=n(679804),u=n(362592),m=n(187044),p=n(593940),_=n(108296),g=n(878524),f=n(357652),h=n(881467),E=n(718820);let b=(0,i.Zf)(!1),y="organize";function C({onClose:e}){let t=(0,E.kj)(),n=(0,d.eo)({subscribeToUpdates_expensive:t});return a.useEffect(()=>{t||e()},[t,e]),a.createElement("div",{style:{opacity:n?0:1,transition:"ease-in-out 0.1s all"}},a.createElement(f.ey,{targetType:"dom",targetKey:y,topPadding:-6,isBold:!0,fixedWidth:316,arrowPosition:g.Wp.BOTTOM,onTargetLost:l.Kw},a.createElement(_.q1,{bodyText:a.createElement("span",{style:{maxWidth:184}},a.createElement(r.Tx,{id:"whiteboard.organize_menu.onboarding_text_base",boldText:a.createElement("b",null,a.createElement(r.Tx,{id:"whiteboard.organize_menu.onboarding_text_bold_text"}))})),buttonText:a.createElement(r.Tx,{id:"whiteboard.organize_menu.onboarding_dismiss_button_text"}),onButtonClick:()=>{e()}})))}function w(){let[e,t]=(0,o.lZ)(b),{show:n,isShowing:i,complete:l}=(0,s.W)({overlay:h.I1,priority:u.g.SECONDARY_MODAL});return a.useEffect(()=>{n({canShow:()=>e})},[e,n]),a.createElement(p.S,{isShowing:i,testId:"FigJamAISummarizationEntrpointPointerOverlay"},a.createElement(c.kH,{name:m.i8.AI_INLINE_MENU_ORGANIZE_SUMMARY_TOOLTIP},a.createElement(C,{onClose:()=>{t(!1),l()}})))}},480520:(e,t,n)=>{n.d(t,{k:()=>F});var a=n(307824),i=n(120304),o=n(125504),l=n.n(o),r=n(814508),c=n(570464),s=n(560072),d=n(110296),u=n(472956),m=n(553432),p=n(644516),_=n(142548),g=n(964900),f=n(777804),h=n(664300),E=n(372152),b=n(71556),y=n(323576),C=n(441388),w=n(26708),T=n(238152),k=n(115996),v=n(970176),S=n(187044),x=n(241645),I=n(489308),L=n(449748),N=n(977408),O=n(237988),A=n(909128);let M="color_palette_picker--header__iconButton--rFfgT";var R=n(683965),P=n(138220);function U({customColorPalettes:e,closeColorPalettePicker:t,defaultColorPaletteLength:n}){let o=(0,p.i0)(),r=(0,i.w1)(e=>(0,k.Q)(o,e)),[c,d]=(0,E.lZ)(N._O),[u,m]=a.useState(!1),_=(0,h.EV)(),g=a.useRef(null),f={uuid:v.KU,name:(0,s.t)("whiteboard.color_palettes.figjam_colors"),baseColors:(0,I.m6)("base").map(e=>T.aQ.format(e))};if(!e)return a.createElement("div",null);let y=[f].concat(e).map((e,i)=>a.createElement(B,{index:i,key:e.uuid,palette:e,isSelected:_.uuid===e.uuid,containerRef:g,defaultColorPaletteLength:n,closeColorPalettePicker:t}));return a.createElement(C.kH,{name:S.i8.COLOR_PALETTE_PICKER},a.createElement("div",{className:l()({"color_palette_picker--wrapper--DVGTu":!0,"color_palette_picker--wrapper_onClose--zERit":c})},a.createElement("div",{ref:g,className:l()({"color_palette_picker--container--2HK33 modal--modalShadowFigJam--lkEJ2":!0,"color_palette_picker--container_onClose--NlCEf":c}),onAnimationEnd:()=>{c&&(d(!1),t())}},a.createElement(D,{teamName:(null==r?void 0:r.name)||"",showBottomBorder:u}),a.createElement("div",{className:"color_palette_picker--paletteList--jdLIl"},a.createElement(b.f,{maxHeight:290,innerClassName:"color_palette_picker--scrollContainer__inner--GF0-Z",onScroll:e=>{e>0?m(!0):m(!1)}},y)))))}function B({palette:e,isSelected:t,index:n,containerRef:i,defaultColorPaletteLength:o,closeColorPalettePicker:r}){var c;let s=(0,h.kj)(e.baseColors),d=(0,h.IX)(),u=a.useRef(0===n?0:2*Math.random()*(n%2?1:-1)),m=(null==(c=null==i?void 0:i.current)?void 0:c.offsetHeight)||0,p={"--rowRotation":`rotate(${t?0:u.current}deg)`,"--translatePaletteRow":`${Math.max(m-80-32*n,0)}px`};return a.createElement("button",{className:l()({"color_palette_picker--paletteRow--9Pdbd":!0,"color_palette_picker--paletteRow_selected--um2Cd":t}),style:p,onClick:()=>{if(!t){let t=e.uuid===v.KU?o:e.baseColors.length;d(e.uuid,t)}r(!0)},type:"button","data-tooltip-type":_.wL.TEXT,"data-tooltip":e.name,"data-tooltip-max-width":200,"data-tooltip-show-above":!0,"data-testid":`color-palette-row-${e.uuid}`},s.map((t,n)=>a.createElement(L.uA,{key:e.uuid+w.Q.format(t)+"-"+n,size:"medium",value:t,paletteType:"base",background:"light"})))}function D(e){let t=(0,i.OY)(),n=(0,h.kf)();return a.createElement("div",{className:l()({"color_palette_picker--header--m9FBq":!0,"color_palette_picker--header_bottomBorder--PRGsS":e.showBottomBorder})},e.teamName?a.createElement(s.Tx,{id:"whiteboard.color_palettes.color_palette_picker.team_palettes",teamName:e.teamName}):(0,s.t)("whiteboard.color_palettes.color_palette_picker.team_palettes_no_name"),n&&a.createElement("div",{className:"color_palette_picker--header__rightHand--z-7ux"},a.createElement(x.wP,{className:M,onClick:()=>{t(y.us({type:O.eL.type}))},svg:P.c,"data-tooltip-type":_.wL.TEXT,"data-tooltip":(0,s.t)("whiteboard.color_palettes.dropdown.new_palette"),"data-tooltip-show-above":!0,dataTestId:"create-color-palette-button"}),a.createElement(x.wP,{className:M,onClick:()=>{t(y.us({type:A.e.type,data:{entryPoint:"whiteboard"}}))},svg:R.c,"data-tooltip-type":_.wL.TEXT,"data-tooltip":(0,s.t)("whiteboard.color_palettes.dropdown.manage_palettes"),"data-tooltip-show-above":!0,dataTestId:"manage-color-palettes-button"})))}function F(e){var t;let n=(0,p.i0)(),o=(0,i.w1)(e=>!!e.user),l=(0,h.ug)(),c=(0,h.cZ)(),[s]=(0,r.UL)((0,u.gZ5)({teamId:n}),{enabled:!!n}),d=l?(null==(t=s.data)?void 0:t.colorPalettesForTeam)||[]:c?[c]:[],_=(0,i.w1)(e=>!!(e.openFile&&!n&&(0,m.canManageFile)(e.openFile.key,e)&&e.currentUserOrgId)),g=o&&(_||l||n&&!!c),E=e.isInDltSubmenu?2:16,{closeColorPalettePicker:b,isColorPalettePickerOpen:y}=e.colorPalettePickerState;return g?a.createElement(f._,{isOpen:y,onClose:b,positionY:(e,t)=>e.y-E-t.height,target:a.createElement(Z,{shouldShowMoveToTeamTooltip:_,colorPalettePickerState:e.colorPalettePickerState,disabled:e.disabled,recordingKey:e.recordingKey,isInDltSubmenu:e.isInDltSubmenu}),renderPopoverContents:()=>a.createElement(U,{customColorPalettes:d,closeColorPalettePicker:b,defaultColorPaletteLength:e.defaultColorPaletteLength})}):null}function Z({recordingKey:e,colorPalettePickerState:t,shouldShowMoveToTeamTooltip:n,disabled:o,isInDltSubmenu:r}){let u=(0,i.OY)();return a.createElement("div",{key:"caret",className:l()("color_palettes_submenu_picker--submenuPickerContainer--GTTBT",{"color_palettes_submenu_picker--submenuPickerContainerNested--wuRz-":!r,"color_palettes_submenu_picker--disabled--scEBs":o})},a.createElement(g.q,{buttonStyle:{height:"100%",backgroundColor:"inherit"},caret:"up",animateCaret:r,isNewSubmenu:r,tabIndex:-1,active:"NONE",onClick:n?e=>{let t=e.target.closest("button");t&&u(d.IF({target:{kind:_.Yd.TEXT,text:(0,s.t)("whiteboard.color_palettes.tooltip.move_to_team")},targetRect:t.getBoundingClientRect(),position:_.cL.ABOVE}))}:()=>{if(!t)return;let{openColorPalettePicker:e,closeColorPalettePicker:n,isColorPalettePickerOpen:a}=t;a?n(!0):e()},testId:"color-palettes-picker-caret",recordingKey:(0,c.Mx)(e,"colorPalettesPickerCaret"),tooltip:n?(0,s.t)("whiteboard.color_palettes.tooltip.move_to_team"):void 0}))}},221196:(e,t,n)=>{let a,i;n.d(t,{OC:()=>ea,mS:()=>$,EB:()=>J,qQ:()=>et,q:()=>en});var o=n(307824),l=n(120304),r=n(125504),c=n.n(r),s=n(656716),d=n(843148),u=n(372152),m=n(838836),p=n(418084),_=n(226096),g=n(841152),f=n(204792),h=n(542660),E=n(537096),b=n(560072),y=n(849208),C=n(441388),w=n(805220),T=n(555168),k=n(142548),v=n(235020),S=n(206608),x=n(117372),I=n(252416),L=n(937620),N=n(47956),O=n(317704),A=n(326300),M=n(166332),R=n(683780),P=n(5868),U=n(762820),B=n(907152),D=n(392992),F=n(515760),Z=n(848296);let W="ai_expand_mindmap";var z=((a=z||{}).LOADING="ai-expand-mindmap-loading",a.SUCCESS="ai-expand-mindmap-success",a),q=n(227448),V=n(734572),H=n(964900),j=n(894228),G=n(935164),K=n(841608),Y=n(754004),Q=n(976628),X=n(588416);let $="https://help.figma.com/hc/articles/16822138920343-Use-AI-tools-in-Figma";var J=((i=J||{}).SUMMARIZE="summarize",i.CLUSTER="cluster",i.GENERATE_IDEAS="generate_ideas",i);let ee="used_figjam_ai_quick_actions",et=(0,w.y_)(ee);function en(){let e=(0,u.m4)(V.K).positionRelativeToSelection,{summarizeCanvasSelection:t}=(0,q.W8)(e),{clusterCanvasSelection:n}=(0,x.s)(),{expandSelectedMindmapNode:a}=function(){let e=(0,u.m4)(R.MJ),t=(0,u.m4)(D.Ci),n=(0,u.m4)(D.eg),a=(0,u.m4)(P.kF),i=(0,F.o$)(),r=(0,L.e6)(),c=(0,l.OY)(),s={orgId:e,teamId:t||null,fileKey:n,userId:a||null},d=o.useCallback(()=>c(O.A.enqueue({message:(0,b.t)("whiteboard.ai_expand_mindmap.generic_error")})),[c]),m=e=>{for(let t of e)T.Pc.user("expand-figjam-ai-mindmap",()=>{U.i46.deleteNode(t)})},p=(e,t,n)=>{let a=(0,Z.Uv)(new B.TSSceneGraph,e);if(!a){d(),r(W,{success:!1,failure_reason:"Failed to get input data"});return}c(O.A.dequeue({matchType:"ai-expand-mindmap-success"})),c(O.A.enqueue({message:(0,b.t)("whiteboard.ai_modal.streaming"),icon:A.mc.SPINNER,type:"ai-expand-mindmap-loading",timeoutOverride:1/0})),M.cp.figjam.updateVisual({inputData:a,updateType:{visualType:"mindmap",updateMode:"generate_ideas"}},s).then(a=>{n&&m(n);let i=T.Pc.user("expand-figjam-ai-mindmap",()=>U._Ko.expandWithFigjamAiMindmapNodes(a,e)),o=t.stop();i.length?(c(O.A.enqueue({message:(0,b.t)("whiteboard.ai_expand_mindmap.generation_success"),type:"ai-expand-mindmap-success",button:{text:(0,b.t)("whiteboard.ai_expand_mindmap.retry"),action:()=>{let t=new N.QD(W,{});return t.start(),p(e,t,i),!1}}})),r(W,{request_id:a.requestId,success:!0,failure_reason:"",num_nodes_generated:i.length,elapsed_ms:o})):(d(),r(W,{request_id:a.requestId,success:!1,failure_reason:"No nodes generated",elapsed_ms:o}))}).catch(e=>{let n=t.stop(),a=(0,F.gd)(e,F.sp.GENERATE);i(a.message,F.sp.GENERATE),r(W,{success:!1,failure_reason:a.message,elapsed_ms:n})}).finally(()=>{c(O.A.dequeue({matchType:"ai-expand-mindmap-loading"}))})};return{expandSelectedMindmapNode:()=>{let e=new N.QD(W,{});e.start();let t=U.Ws3.getSingleSelectedDiagramNodeId(),n=function(e,t){let n=e.get(t);if(n){if((0,Z.mA)(n))return t;{if(!n.diagramParentId)return;let t=e.get(n.diagramParentId);return(0,Z.mA)(t)?n.diagramParentId:void 0}}}(new B.TSSceneGraph,t);if(!n){d(),r(W,{success:!1,failure_reason:"Failed to get selected node"});return}p(n,e)}}}();return e=>{let i=m.Kw,o="";if(e){switch(e.type){case"summarize":i=t,o="ai-quick-action-summarize";break;case"cluster":i=n,o="ai-quick-action-cluster";break;case"generate_ideas":i=a,o="ai-quick-action-generate-ideas"}T.Pc.user(o,i)}}}function ea(){var e;let t=(0,p.c)(),n=en(),a=(0,d.Ub)().figjam_synthesize_handbrake,[i,l]=o.useState(!1),r=[...function(){let e=[],t=(0,I.EL)(),n=(0,I.SQ)(),a=(0,I.ug)();return(0,d.Ub)().figjam_inline_menu_organize?[]:(t&&((0,d.Ub)().figjam_sticky_clustering&&e.push({type:"cluster",enabled:a}),(0,d.Ub)().figjam_summarization&&e.push({type:"summarize",enabled:n})),e)}(),...function(){let e=(0,I.UL)(),t=[];return e&&t.push({type:"generate_ideas",enabled:e}),t}()];return o.createElement(j._s,{value:void 0,overrideMenuOpenState:{isOpenOverride:i,setIsOpenOverride:l},onChange:n,renderButton:({onClick:e,onKeyDown:n,ref:i})=>o.createElement(ei,{onClick:e,onKeyDown:n,buttonRef:i,ariaWrapperId:t,disabled:!!a,trackingProperties:{text:"figjam ai"}}),options:r,renderOption:el,OptionWrapper:(e=(0,b.t)("whiteboard.inline_menu.ai_quick_actions_dropdown_options_aria_label"),function({children:n}){return o.createElement("div",{className:"ai_quick_actions_control--flexColumn--kgAdX","aria-label":e,id:t,role:"listbox",tabIndex:-1,"data-fullscreen-intercept":!0},n)}),responsivePositionY:{aboveTargetPositionY:(e,t,n)=>(0,G.Wu)(e,t,n+-48),belowTargetPositionY:(e,t,n)=>(0,G.g1)(e,t,n+-48)},positionX:e=>e.x,popoverClassName:"ai_quick_actions_control--popover--BNsqs",additionalContentsTop:function({closeMenu:e}){return o.createElement("div",{className:"ai_quick_actions_control--dropdownHeaderContainer--ifOPr",onClick:e,role:"button",tabIndex:0},o.createElement("div",{className:"ai_quick_actions_control--dropdownHeaderTitle--Cqg8n"},o.createElement(b.Tx,{id:"whiteboard.inline_menu.ai_quick_actions_header_text"})),o.createElement("div",{className:"ai_quick_actions_control--badgeContainer--kBpYM"},o.createElement(S.q,{location:"INLINE_TOOLBAR",overrideText:(0,b.t)("whiteboard.inline_menu.ai_quick_actions_beta_badge_text")})))}({closeMenu:()=>l(!1)}),additionalOptions:eo,additionalOptionOnChange:()=>{(0,_.w7)($)||s.default.unsafeRedirect($,"_blank")}})}let ei=(0,C.wB)(function({onClick:e,onKeyDown:t,buttonRef:n,ariaWrapperId:a,disabled:i}){let r=(0,l.OY)(),s=(0,u.m4)(et).data,d=(0,I.es)(),p=!s&&d,[_,f]=o.useState(0);return o.createElement(H.q,{tooltip:k.oz.AI_FEATURES_DISABLED,tooltipType:k.wL.SPECIAL,onClick:i?m.Kw:()=>{e(),r(y.s({[ee]:!0}))},disabled:i,onKeyDown:t,ariaControls:a,ref:n,recordingKey:"toolbarAIQuickActionsDropdownButton",testId:"toolbarAIQuickActionsDropdownButton",caret:"down",role:"combobox",ariaLabel:(0,b.t)("whiteboard.inline_menu.ai_quick_actions_button_aria_label"),buttonStyle:{width:p?48+_+8:48},buttonChildrenStyle:{justifyContent:"initial",width:"initial"}},o.createElement("div",{className:c()({"ai_quick_actions_control--withBadge--z88DK":p})},o.createElement("div",{className:"ai_quick_actions_control--buttonIconContainer--pBGdR"},o.createElement(E.A,{svg:K.c,className:c()("ai_quick_actions_control--svgIcon--XDs5m",{"ai_quick_actions_control--svgIconDisabled--u4WwB":i})})),p&&o.createElement(C.kH,{name:"ai_quick_actions_onboarding_badge"},o.createElement("div",{ref:e=>{f((null==e?void 0:e.offsetWidth)||_)}},o.createElement(g.kt,{text:(0,b.t)("whiteboard.inline_menu.ai_quick_actions_onboarding_badge"),color:g.Eo.FIGJAM,size:g.mk.SMALL,className:"ai_quick_actions_control--onboardingBadge---sKJz"})))))});function eo(e){return o.createElement(o.Fragment,null,o.createElement(f.g.Separator,{key:"menu-separator-token"}),o.createElement("div",{className:"ai_quick_actions_control--dropdownFooterContainer--1d8mD"},o.createElement("span",null,o.createElement("span",{className:"ai_quick_actions_control--dropdownFooterDisclaimer--UVXvJ"},`${(0,b.t)("whiteboard.inline_menu.ai_quick_actions_dropdown_disclaimer")} `),o.createElement(h.c,{className:c()("ai_quick_actions_control--dropdownFooterCta--hi6Ik",{"ai_quick_actions_control--dropdownFooterCtaIsFocused--2OdM8":e}),href:$,target:"_blank",trusted:!0},o.createElement(b.Tx,{id:"whiteboard.inline_menu.ai_quick_actions_dropdown_disclaimer_cta"})))))}let el=e=>{let{value:t,onClick:n,id:a,isFocused:i}=e;if(!t)return null;let{type:l,enabled:r}=t,{displayText:c,svgSrc:s,disabledTooltipText:d}=function(e){switch(e){case"summarize":return{displayText:(0,b.t)("whiteboard.inline_menu.ai_quick_actions_summarize_button"),svgSrc:X.c,disabledTooltipText:(0,b.t)("whiteboard.inline_menu.ai_quick_actions_summarize_disabled_tooltip",{minSelectedStickies:2})};case"cluster":return{displayText:(0,b.t)("whiteboard.inline_menu.ai_quick_actions_sort_stickies_button"),svgSrc:Q.c,disabledTooltipText:(0,b.t)("whiteboard.inline_menu.ai_quick_actions_sort_stickies_disabled_tooltip",{minSelectedStickies:2})};case"generate_ideas":return{displayText:(0,b.t)("whiteboard.inline_menu.ai_quick_actions_generate_ideas_button"),svgSrc:Y.c,disabledTooltipText:(0,b.t)("whiteboard.inline_menu.ai_quick_actions_generate_ideas_disabled_tooltip")}}}(l),u=function(e){switch(e){case"summarize":return"summarize";case"cluster":return"sort stickies";default:return"other ai action"}}(l);return o.createElement(er,{key:`${l}-menu-option`,id:a,type:l,displayText:c,svgSrc:s,disabledTooltipText:d,disabled:!r,onClick:n,isFocused:i,trackingProperties:{text:u}})},er=(0,C.wB)(function({id:e,type:t,displayText:n,svgSrc:a,disabledTooltipText:i,disabled:l,onClick:r,isFocused:s}){return o.createElement("div",{id:e,className:c()("ai_quick_actions_control--optionContainer--pbhnv",{"ai_quick_actions_control--optionContainerDisabled--Sxua-":l,"ai_quick_actions_control--optionContainerIsFocused--AD1hq":s}),"aria-label":n,"aria-selected":"false",role:"option",tabIndex:-1,"data-tooltip-type":k.wL.TEXT,"data-tooltip":l?i:"","data-tooltip-tip-align-left":!0,"data-tooltip-show-right":!0,"data-tooltip-offset-x":6},o.createElement(v.cb,{disabled:l,recordingKey:`aiQuickActionsOption-${t}`,"data-testid":`aiQuickActionsOption-${t}`,dataTestId:`aiQuickActionsOption-${t}`,key:`option-${t}`,value:t,height:32,fullWidth:!0,svg:a,formattedValue:n,additionalStylesClassName:void 0,selected:!1,onMouseUp:l?m.Kw:r,style:{marginLeft:8},ignoreCheck:!0}))})},733324:(e,t,n)=>{n.d(t,{W:()=>f,s:()=>h});var a=n(307824),i=n(365224),o=n(372152),l=n(560072),r=n(272520),c=n(762820),s=n(555168),d=n(540696),u=n(507076),m=n(378740),p=n(15416),_=n(964900),g=n(903269);function f(e){var t;let n=(0,p.wB)()||"",o=(0,u.A9)("embedData"),l=decodeURIComponent((null==(t=(0,d.kB)(o))?void 0:t.originalText)||""),_=(0,r.ej)(o),g=(0,i.my)(m.M);return a.useCallback(()=>{l&&(_(r.PN.CONVERT_TO_TEXT),g({type:"MINIMIZE"}),(0,s.Pc)(e,"convert-embed-to-text",()=>c.i46.replaceNodeWithText(n,l)))},[l,_,g,n,e])}function h(e){var t;let n=(0,o.m4)(m.M),i=(0,p.wB)()||"",r=(0,u.A9)("embedData"),s=decodeURIComponent((null==(t=(0,d.kB)(r))?void 0:t.originalText)||""),h=f(c.IBo.USER);return r&&i&&s&&(!n||e.inModal)?a.createElement(_.wP,{svg:g.c,active:"NONE",tooltip:(0,l.t)("whiteboard.embeds.inline_menu.change_back_to_text"),onClick:h,recordingKey:"embedConvertToTextControl"}):null}},788112:(e,t,n)=>{n.d(t,{I:()=>g,c:()=>f});var a=n(307824),i=n(120304),o=n(372152),l=n(560072),r=n(202732),c=n(272520),s=n(540696),d=n(507076),u=n(378740),m=n(964900),p=n(211524);let _=()=>{var e,t;let n=(0,d.A9)("embedData");return decodeURIComponent((null==(e=(0,s.kB)(n))?void 0:e.url)||(null==(t=(0,s.kB)(n))?void 0:t.srcUrl)||"")};function g(){let e=(0,i.OY)(),t=_(),n=(0,d.A9)("embedData"),o=(0,c.ej)(n);return a.useCallback(()=>{t&&(o(c.PN.OPEN_PREVIEW),e((0,r.gd)({rawInput:t})))},[t,e,o])}function f(e){let t=(0,o.m4)(u.M),n=_(),i=g();return n&&(e.inModal||!t)?a.createElement(m.wP,{svg:p.c,active:"NONE",tooltip:(0,l.t)("whiteboard.embeds.inline_menu.open_link"),onClick:i,recordingKey:"embedOpenExternalControl"}):null}},161652:(e,t,n)=>{n.d(t,{mS:()=>W,oT:()=>V});var a=n(307824),i=n(120304),o=n(125504),l=n.n(o),r=n(656716),c=n(843148),s=n(372152),d=n(838836),u=n(418084),m=n(226096),p=n(841152),_=n(204792),g=n(542660),f=n(537096),h=n(698240),E=n(560072),b=n(784740),y=n(849208),C=n(441388),w=n(805220),T=n(585508),k=n(555168),v=n(142548),S=n(235020),x=n(206608),I=n(117372),L=n(252416),N=n(227448),O=n(993140),A=n(734572),M=n(718820),R=n(964900),P=n(894228),U=n(976628),B=n(588416),D=n(114600),F=n(898352),Z=n(30151);let W="https://help.figma.com/hc/articles/16822138920343-Use-AI-tools-in-Figma",z="used_figjam_ai_quick_actions",q=(0,w.y_)(z);function V(){var e;let t=(0,M._4)(),n=(0,u.c)(),i=function(){let e=(0,s.m4)(A.K).positionRelativeToSelection,{summarizeCanvasSelection:t}=(0,N.W8)(e),{clusterCanvasSelection:n}=(0,I.s)();return e=>{let a=d.Kw,i="";if(e){switch(e.type){case M.GZ.SUMMARIZE:a=t,i="inline-menu-organize-summarize";break;case M.GZ.CLUSTER:a=n,i="inline-menu-organize-cluster";break;case M.GZ.TIDY_UP:a=()=>T.CA.triggerActionInUserEditScope("tidy-up"),i="inline-menu-organize-tidy-up";break;case M.GZ.WRAP_IN_SECTION:a=()=>T.CA.triggerActionInUserEditScope("create-section-from-selection"),i="inline-menu-organize-wrap-in-section"}k.Pc.user(i,a)}}}(),o=(0,c.Ub)().figjam_synthesize_handbrake,[l,p]=a.useState(!1);return a.createElement(C.kH,{name:"organize_menu_dropdown"},a.createElement(P._s,{value:void 0,overrideMenuOpenState:{isOpenOverride:l,setIsOpenOverride:p},onChange:i,renderButton:({onClick:e,onKeyDown:t,ref:i})=>a.createElement(H,{onClick:e,onKeyDown:t,buttonRef:i,ariaWrapperId:n,disabled:!!o,trackingProperties:{text:"organize dropdown button"}}),options:t,renderOption:G,OptionWrapper:(e=(0,E.t)("whiteboard.inline_menu.ai_quick_actions_dropdown_options_aria_label"),function({children:t}){return a.createElement("div",{className:"organize_actions_control--flexColumn--p-Sra","aria-label":e,id:n,role:"listbox",tabIndex:-1,"data-fullscreen-intercept":!0},t)}),positionX:e=>e.x,popoverClassName:"organize_actions_control--popover--l143N",additionalContentsTop:a.createElement("div",{className:h.cx.mt4.$}),additionalOptions:j,additionalOptionOnChange:()=>{(0,m.w7)(W)||r.default.unsafeRedirect(W,"_blank")}}))}let H=(0,C.wB)(function({onClick:e,onKeyDown:t,buttonRef:n,ariaWrapperId:o,disabled:r}){let u=(0,i.OY)(),m=(0,s.m4)(q).data,_=(0,L.es)(),g=!m&&_,[h,b]=a.useState(0),w=(0,c.Ub)().figjam_synthesize_handbrake;return a.createElement(R.q,{tooltip:w?v.oz.AI_FEATURES_DISABLED:void 0,tooltipType:w?v.wL.SPECIAL:void 0,onClick:r?d.Kw:()=>{e(),u(y.s({[z]:!0}))},disabled:r||w,onKeyDown:t,ariaControls:o,ref:n,recordingKey:"inline_menu_organize_dropdown_button",testId:"inline_menu_organize_dropdown_button",caret:"down",role:"combobox",onboardingKey:O.wO,ariaLabel:(0,E.t)("whiteboard.inline_menu.ai_quick_actions_button_aria_label"),buttonStyle:{width:"auto",paddingRight:g?h+8:20},buttonChildrenStyle:{justifyContent:"initial",width:"initial"}},a.createElement("div",{className:l()("organize_actions_control--withBadge--2qE6m")},a.createElement("div",{className:"organize_actions_control--buttonIconContainer--7BE5y"},a.createElement(f.A,{svg:F.c,className:l()("organize_actions_control--svgIcon--Y27OU",{"organize_actions_control--svgIconDisabled--siNy6":r})})),a.createElement(E.Tx,{id:"whiteboard.inline_menu.organize_button_text"}),g&&a.createElement(C.kH,{name:"ai_quick_actions_onboarding_badge"},a.createElement("div",{ref:e=>{b((null==e?void 0:e.offsetWidth)||h)}},a.createElement(p.kt,{text:(0,E.t)("whiteboard.inline_menu.ai_quick_actions_onboarding_badge"),color:p.Eo.FIGJAM,size:p.mk.SMALL,className:"organize_actions_control--onboardingBadge--NG7o-"})))))});function j(e){return a.createElement(a.Fragment,null,a.createElement(_.g.Separator,{key:"menu-separator-token"}),a.createElement("div",{className:"organize_actions_control--dropdownFooterContainer--XB0Mw"},a.createElement("span",null,a.createElement("span",{className:"organize_actions_control--dropdownFooterDisclaimer--Z7B2y"},`${(0,E.t)("whiteboard.inline_menu.ai_quick_actions_dropdown_disclaimer")} `),a.createElement(g.c,{className:l()("organize_actions_control--dropdownFooterCta--vLKEN",{"organize_actions_control--dropdownFooterCtaIsFocused--Jspdm":e}),href:W,target:"_blank",trusted:!0},a.createElement(E.Tx,{id:"whiteboard.inline_menu.ai_quick_actions_dropdown_disclaimer_cta"})))))}let G=e=>{let{value:t,onClick:n,id:i,isFocused:o}=e;if(!t)return null;let{type:l,enabled:r}=t,{displayText:c,svgSrc:s,disabledTooltipText:d}=function(e){switch(e){case M.GZ.SUMMARIZE:return{displayText:(0,E.t)("whiteboard.inline_menu.ai_quick_actions_summarize_button"),svgSrc:B.c,disabledTooltipText:(0,E.t)("whiteboard.inline_menu.ai_quick_actions_summarize_disabled_tooltip",{minSelectedStickies:2})};case M.GZ.CLUSTER:return{displayText:(0,E.t)("whiteboard.inline_menu.ai_quick_actions_sort_stickies_button"),svgSrc:U.c,disabledTooltipText:(0,E.t)("whiteboard.inline_menu.ai_quick_actions_sort_stickies_disabled_tooltip",{minSelectedStickies:2})};case M.GZ.WRAP_IN_SECTION:return{displayText:"Wrap in section",svgSrc:D.c};case M.GZ.TIDY_UP:return{displayText:"Tidy up",svgSrc:Z.c}}}(l),u=function(e){switch(e){case M.GZ.SUMMARIZE:return"summarize";case M.GZ.CLUSTER:return"sort stickies";default:return"other ai action"}}(l);return a.createElement(Y,{key:`${l}-menu-option`,id:i,type:l,displayText:c,svgSrc:s,disabledTooltipText:d,disabled:!r,onClick:n,isFocused:o,trackingProperties:{text:u}})};function K(e){return`inline_menu_organize_option-${e}`}let Y=(0,C.wB)(function({id:e,type:t,displayText:n,svgSrc:i,disabledTooltipText:o,disabled:r,onClick:c,isFocused:s}){let u=[M.GZ.SUMMARIZE,M.GZ.CLUSTER].includes(t);return a.createElement("div",{id:e,className:l()("organize_actions_control--optionContainer--RtoCw",{"organize_actions_control--optionContainerDisabled--mB76I":r,"organize_actions_control--optionContainerIsFocused--8x27n":s}),"aria-label":n,"aria-selected":"false",role:"option",tabIndex:-1,"data-tooltip-type":v.wL.TEXT,"data-tooltip":r&&o?o:"","data-tooltip-tip-align-left":!0,"data-tooltip-text-left":!0,"data-tooltip-show-right":!0,"data-tooltip-offset-x":6},a.createElement(S.cb,{disabled:r,recordingKey:K(t),"data-testid":K(t),dataTestId:K(t),key:`option-${t}`,value:t,height:32,fullWidth:!0,svg:i,children:a.createElement("div",{className:h.cx.flex.justifyBetween.itemsCenter.pr16.$},a.createElement(b.a,{truncate:!0},n),u&&a.createElement(x.q,{location:"INLINE_TOOLBAR",overrideText:(0,E.t)("whiteboard.inline_menu.organize_quick_actions_button_beta_badge_text")})),additionalStylesClassName:void 0,selected:!1,onMouseUp:r?d.Kw:c,style:{marginLeft:8},ignoreCheck:!0}))})},446616:(e,t,n)=>{n.d(t,{cn:()=>W});var a=n(307824),i=n(120304),o=n(125504),l=n.n(o),r=n(946692),c=n(404920),s=n(688420),d=n(4580),u=n(980068),m=n(838836),p=n(570464),_=n(542660),g=n(698240),f=n(753432),h=n(238152),E=n(191352),b=n(555168),y=n(590160),C=n(427012),w=n(833492),T=n(142548),k=n(235020),v=n(42576),S=n(964900),x=n(460440);let I="widget_controls--label--YWqiO text--fontNeg12--2PWcg text--_fontBase--QdLsd text--_negText--j9g-L",L="widget_controls--img--bNdQj",N=(0,u.U7)(e=>e.includes("xmlns")?"data:image/svg+xml;utf8,"+encodeURIComponent(e.trim()):(s.g.warn("Your widget must include the xmlns property on any SVGs used in the property menu. See https://developer.mozilla.org/en-US/docs/Web/SVG/Element/svg for more info"),null),1e3);function O(e){let t=(0,E.KG)(),n=e.icon?N(e.icon):null;return n?a.createElement(A,{label:e.label,propertyName:e.propertyName,href:e.href,size:t&&"design"===t?"small":"large",tooltip:e.tooltip,icon:n,onClick:e.onClick,active:e.active?e.active:"NONE"}):a.createElement(M,{label:e.label,propertyName:e.propertyName,href:e.href,tooltip:e.tooltip,onClick:e.onClick,active:e.active?e.active:"NONE"})}function A(e){let t=e.href?a.createElement(_.c,{href:e.href,className:g.cx.cursorDefault.wFull.hFull.$,target:"_blank",trusted:!1},a.createElement("img",{src:e.icon,className:L,alt:`${e.propertyName}`})):a.createElement("img",{src:e.icon,className:L,alt:`${e.propertyName}`});return a.createElement(S.q,{buttonStyle:{overflow:"hidden",flexShrink:0},size:e.size,tooltip:e.tooltip,onClick:e.onClick,active:e.active?e.active:"NONE",recordingKey:(0,p.Mx)("widgetControl",e.propertyName)},t)}function M(e){let t=e.href?a.createElement(_.c,{href:e.href,className:l()([I,g.cx.cursorDefault.wFull.hFull.$]),target:"_blank",trusted:!1},e.label):a.createElement("span",{className:I},e.label);return a.createElement(S.q,{className:g.cx.flexShrink0.$,tooltip:e.tooltip===e.label?void 0:e.tooltip,onClick:e.onClick,active:e.active?e.active:"NONE",recordingKey:(0,p.Mx)("widgetControl",e.propertyName)},t)}function R({widgetInfo:e,item:t}){let n=(0,E.KG)(),i=b.wH.user("widget-select-color",n=>{let a=(0,r.colorToHex)(n.option);y.a.runPropertyMenuCallback(e.pluginID,e.widgetID,t.propertyName,_[a]??a)}),o=(0,c.c)(i,100),[l,d]=a.useState(!1),u=[t.selectedOption,...t.options.map(e=>e.option)],m={},_={};for(let e of u)try{let t=h.aQ.parse(e);m[e]=t,_[(0,r.colorToHex)(t)]=e}catch(t){return s.g.warn(`Cannot render widget color selector. ${e} is an invalid color.`),a.createElement("div",{"data-testid":"emptyColorSelector"})}let g="design"===n;return a.createElement(v.EH,{value:{option:m[t.selectedOption]},options:t.options.map(e=>({option:m[e.option],tooltip:e.tooltip})),onColorChange:e=>{o(e)},paletteType:"widget",buttonSize:g?"xsmall":"small",optionSize:"medium",isDesignInlineMenu:g,inlineButtonTooltip:t.tooltip,recordingKey:(0,p.Mx)("widgetControl",t.propertyName),isColorPopoverOpen:l,setIsColorPopoverOpen:d})}function P({widgetInfo:e,item:t}){return a.createElement(O,{tooltip:t.tooltip,label:t.tooltip,propertyName:t.propertyName,icon:t.icon,onClick:b.wH.user("widget-action",()=>{y.a.runPropertyMenuCallback(e.pluginID,e.widgetID,t.propertyName,null)})})}class U extends k.M1{}class B extends k.cb{}function D({item:e,widgetInfo:t}){let n=(0,E.KG)(),o=(0,i.OY)(),l=(0,w.g)(),r=e.options.find(t=>t.option===e.selectedOption),c=(0,p.Mx)("widgetControl",e.propertyName),s=n&&"design"===n;return a.createElement("div",{className:s?void 0:x.uQ,"data-tooltip-show-above":!0,"data-tooltip-type":T.wL.TEXT,"data-tooltip":e.tooltip},a.createElement(U,{property:{option:e.selectedOption,tooltip:r?r.tooltip:e.selectedOption},className:s?"widget_controls--select---Nqnq text--fontNeg11--StdFq text--_fontBase--QdLsd text--_negText--j9g-L":x.Ml,chevronClassName:s?"widget_controls--chevron--a3ua2":x.KY,inputClassName:s?"widget_controls--input--Z6nHO":x.Yh,dropdownClassName:f.cp,id:`widgetControl.${e.propertyName}`,formatter:{format:e=>e.tooltip,isEqual:(e,t)=>e.option===t.option},onChange:n=>{y.a.runPropertyMenuCallback(t.pluginID,t.widgetID,e.propertyName,n.option)},blurOnChange:!0,recordingKey:c,dispatch:o,dropdownShown:l,targetDomNode:document.body,dropdownWidth:144,dropdownAlignment:"left"},e.options.map((t,n)=>a.createElement(B,{key:n,value:t,formattedValue:t.tooltip,recordingKey:(0,p.Mx)(c,t.option),selected:e.selectedOption===t.option,truncateInMiddle:!0}))))}function F({widgetInfo:e,item:t}){return a.createElement(O,{tooltip:t.tooltip,label:t.tooltip,propertyName:t.propertyName,icon:t.icon,active:t.isToggled?"LOUD":"NONE",onClick:b.wH.user("widget-toggle",()=>{y.a.runPropertyMenuCallback(e.pluginID,e.widgetID,t.propertyName,null)})})}function Z({widgetInfo:e,item:t}){let n;let i="https://www.figma.com/exit?url="+t.href;return null!==t.icon&&(n=t.icon?t.icon:'<svg width="40" height="40" viewBox="0 0 40 40" fill="none" xmlns="http://www.w3.org/2000/svg"> <path fill-rule="evenodd" clip-rule="evenodd" d="M12 12H16V13H13V27H27V24H28V27V28H13H12V27V13V12ZM27.0001 13H26.9913L27.0001 13.0088V13ZM20.0001 13H26.2999L17.0251 22.2747L17.7323 22.9818L27.0001 13.714V20H28.0001V12.5V12H27.5001H20.0001V13Z" fill="white" fill-opacity="0.8"/></svg>'),a.createElement(O,{tooltip:t.tooltip,label:t.tooltip,propertyName:t.propertyName,icon:n,onClick:m.Kw,href:i})}function W(){let e=function(){let e=(0,d.q)(e=>e.mirror.selectionProperties.selectedWidgetInfo);return a.useMemo(()=>{if(!e)return e;let{pluginID:t}=e;if(!(0,C.eY)(t))return e;let n=e.propertyMenu.map(e=>"separator"===e.itemType?e:{...e,tooltip:(0,C.IF)(t,e.propertyName)||e.tooltip});return{...e,propertyMenu:n}},[e])}();return e&&e.propertyMenu.length?a.createElement(a.Fragment,null,e.propertyMenu.map((t,n)=>{switch(t.itemType){case"action":return a.createElement(P,{key:n,item:t,widgetInfo:e});case"separator":return a.createElement(S.UL,{key:n});case"color-selector":return a.createElement(R,{key:n,item:t,widgetInfo:e});case"dropdown":return a.createElement(D,{key:n,item:t,widgetInfo:e});case"toggle":return a.createElement(F,{key:n,item:t,widgetInfo:e});case"link":return a.createElement(Z,{key:n,item:t,widgetInfo:e})}})):null}},769228:(e,t,n)=>{n.d(t,{y:()=>x});var a=n(307824),i=n(120304),o=n(484564),l=n.n(o),r=n(441748),c=n(4580),s=n(570464),d=n(853688),u=n(321296),m=n(417184),p=n(325252),_=n(678280),g=n(89936),f=n(778112),h=n(224100),E=n(142548),b=n(517164),y=n(362452),C=n(964900),w=n(894228),T=n(793400);function k(e){let{tooltipName:t,tooltipDescription:n,plugin:i,onClick:o,caret:l,recordingKey:r}=e,c=(0,y.WG)(),s=null;return s=(0,h.E7)(i)?a.createElement(C.wP,{caret:l,svg:T.c,onClick:o,recordingKey:r}):a.createElement(C.q,{caret:l,onClick:o,recordingKey:r},a.createElement(b.W,{className:"plugin_relaunch_content--pluginIcon--dxgZD plugin--pluginIconBase--yAG5F",plugin:i,alt:`${t}: ${String(n)}`})),a.createElement("div",{"data-tooltip":E.oz.FIGJAM_PLUGIN_RELAUNCH_BUTTON_INFO,"data-tooltip-type":c&&t?E.wL.SPECIAL:void 0,"data-tooltip-show-above":!0,"data-tooltip-name":t,"data-tooltip-description":n},s)}function v({children:e}){return a.createElement("div",{className:"plugin_relaunch_content--flexColumn--3aDVl"},e)}function S(e){let{relaunchData:t}=e,n=e=>parseInt(e||"0");return a.createElement(w._s,{onChange:a=>{let i=t[n(a)];e.onSelect(i)},value:null,renderOption:({value:e,onClick:i})=>{let o=n(e),l=t[o],r=l.relaunchButton.name.length>34||"string"==typeof l.relaunchButton.description&&l.relaunchButton.description.length>34;return a.createElement("div",{key:`${l.pluginTypeAndID}-${e}`,"data-tooltip":E.oz.FIGJAM_PLUGIN_RELAUNCH_BUTTON_INFO,"data-tooltip-type":l.relaunchButton.name&&r?E.wL.SPECIAL:void 0,"data-tooltip-show-right":!0,"data-tooltip-name":l.relaunchButton.name,"data-tooltip-description":l.relaunchButton.description},a.createElement(d.g9,{className:"plugin_relaunch_content--menuItem--fZT86",onClick:i,role:"button",recordingKey:(0,s.Mx)("relaunchMenuSelectorOption",l.pluginTypeAndID,l.relaunchButton.command)},a.createElement("div",{className:"plugin_relaunch_content--name--VYXnN text--fontNeg11--StdFq text--_fontBase--QdLsd text--_negText--j9g-L ellipsis--ellipsis--Tjyfa"},l.relaunchButton.name),l.relaunchButton.description&&a.createElement("div",{className:"plugin_relaunch_content--description--aAoGx text--fontNeg11--StdFq text--_fontBase--QdLsd text--_negText--j9g-L ellipsis--ellipsisAfter2Lines--Qo-Xh ellipsis--_ellipsisAfterNLines--LzI7k"},String(l.relaunchButton.description))),o!==t.length-1?a.createElement(C.UL,null):null)},renderButton:({onClick:e,value:i})=>{let o=t[n(i)];return a.createElement(k,{caret:"down",onClick:e,plugin:o.plugin,recordingKey:(0,s.Mx)("relaunchMenuSelectorIconButton",o.pluginTypeAndID)})},options:t.map((e,t)=>`${t}`),OptionWrapper:v})}function x(){let e=(0,c.q)(e=>e.mirror.selectionProperties.pluginRelaunchData),t=(0,i.w1)(e=>e.mirror.selectionProperties.numSelected),n=(0,c.q)(e=>e.publishedPlugins),o=(0,c.q)(e=>e.installedPluginVersions.plugins),d=(0,c.q)(e=>e.localPlugins),E=(0,m.or)((0,c.q)(e=>e)),b=(0,i.w1)(e=>{var t;return null==(t=e.openFile)?void 0:t.key}),y=(0,a.useRef)(new _.W(r.c.duration(1,"day"))),w=(0,i.OY)(),T=e=>{var t;return w(u.S0({id:e,resourceType:(null==(t=n[e])?void 0:t.is_widget)?f.K2.WIDGET:f.K2.PLUGIN}))},v=(0,p.A9)(e,n,d,E,t||0,(e,t)=>y.current.debounceRefresh(e,()=>T(e),t),h.gr.FIGJAM),x=l()(v,e=>e.pluginTypeAndID),I=e=>{b&&(0,p.UN)({plugin:e.plugin,publishedPlugins:n,orgEntity:E,installedPluginVersions:o,editorType:"whiteboard"})&&g.m.instance.enqueue({mode:"run-forever",runPluginArgs:{plugin:e.plugin,openFileKey:b||"",command:e.relaunchButton.command,queryMode:!1,runMode:"default",triggeredFrom:"relaunch",ignoreForRunLastPlugin:!0,isWidget:!1}})};return 0===Object.values(x).length?null:a.createElement(a.Fragment,null,a.createElement(C.UL,null),Object.values(x).map(e=>{if(0===e.length)return;let t=e[0],n=`relaunch-button-${t.pluginTypeAndID}-${e.length}`;return 1===e.length?a.createElement(k,{key:n,caret:"none",tooltipName:t.relaunchButton.name,tooltipDescription:t.relaunchButton.description,plugin:t.plugin,onClick:()=>I(t),recordingKey:(0,s.Mx)("relaunchIconButton",t.pluginTypeAndID,t.relaunchButton.command)}):a.createElement(S,{key:n,relaunchData:e,onSelect:I})}))}},452640:(e,t,n)=>{n.d(t,{o:()=>s});var a=n(307824),i=n(125504),o=n.n(i),l=n(105516),r=n(537096),c=n(441388);let s=(0,a.memo)(function(e){let{leftContent:t,content:n,rightContent:i,trackingContext:o="DLT Banner",onClose:r}=e;return a.createElement(c.kH,{name:o},a.createElement("div",{className:"dlt_banner--banner--nGI-J"},a.createElement(d,{leftContent:t}),a.createElement(u,{content:n}),i,r?a.createElement(l.CA,{className:"dlt_banner--closeButton--aDZdN",onClick:r,trackingEventName:"dlt_banner_closed",recordingKey:"dltBanner"}):null))}),d=(0,a.memo)(function(e){let{icon:t,text:n}=e.leftContent??{},i=t&&a.createElement("div",{className:"dlt_banner--icon--gtxyL"},a.createElement(r.A,{svg:t})),l=n&&a.createElement("b",null,n);return a.createElement("div",{className:o()("dlt_banner--leftContent--5Yk4A text--fontPos12--YsUAh text--_fontBase--QdLsd",n&&t?"dlt_banner--leftContentIconAndText--QjRmB":n?"dlt_banner--leftContentOnlyText--4VC-I":t?"dlt_banner--leftContentOnlyIcon--Nb45Y":"dlt_banner--leftContentEmpty--dXeoN")},i,l)}),u=(0,a.memo)(function(e){let{content:t}=e;return a.createElement("div",{className:"dlt_banner--mainContent--eTkSu text--fontPos12--YsUAh text--_fontBase--QdLsd"},t)})},688238:(e,t,n)=>{n.d(t,{E:()=>Q,G:()=>en});var a=n(307824),i=n(120304),o=n(125504),l=n.n(o),r=n(760780),c=n(843148),s=n(372152),d=n(838836),u=n(888932),m=n(560072),p=n(849208),_=n(974636),g=n(122548),f=n(313373),h=n(805220),E=n(585508),b=n(762820),y=n(979144),C=n(397888),w=n(362592),T=n(816616),k=n(641196),v=n(208532),S=n(848688),x=n(4580),I=n(403132);n(600928);var L=n(943596),N=n(312452),O=n(833492),A=n(784528),M=n(357532),R=n(101040),P=n(881467),U=n(518256);function B({dismissModal:e,targetKey:t=U.QX.ZOOM}){let n=(0,i.OY)(),o=(0,x.q)(({mirror:{appModel:e}})=>e.showUi),l=(0,O.g)(),r=(0,a.useRef)(!1),c=(0,L.e)(),s=(0,a.useCallback)(()=>{e(),n(I.yi())},[e,n]);return(0,a.useEffect)(()=>{r.current&&!(0,A.SY)(l)&&e()},[e,l]),(0,a.useEffect)(()=>{if(c&&!r.current){if((0,A.SY)(l))n(I.Mh({type:A.EX,data:{selectionToUpdate:N.fF.PREFERENCES}}));else{let e=o?42:0;n(I.Qn({type:A.EX,data:{targetRect:{top:0,right:e,bottom:e,left:0,width:e,height:e},togglePreferences:!0},hasOwnEscKeyHandler:!0}))}r.current=!0}},[n,l,c,o]),a.createElement(M.Y5,{isShowing:!0,trackingContextName:"new_user_pan_zoom_pref_tooltip",onClose:s,targetKey:t,emphasized:!0,title:a.createElement(m.Tx,{id:"mouse_controls_modal.new_user.title"}),description:a.createElement(m.Tx,{id:"mouse_controls_modal.new_user.description"}),arrowPosition:R.Wp.LEFT_TITLE})}n(26048),n(571911);var D=n(452640);function F(){return a.createElement("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.80079 15.0786V10.2857H5.80079V15.0786L6.94724 13.9322L7.65434 14.6393L5.30079 16.9928L2.94724 14.6393L3.65434 13.9322L4.80079 15.0786Z",fill:"#8638E5"}),a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.80077 20.2071V25H4.80077V20.2071L3.65433 21.3536L2.94722 20.6464L5.30077 18.2929L7.65433 20.6464L6.94722 21.3536L5.80077 20.2071Z",fill:"#8638E5"}),a.createElement("path",{d:"M8.22183 11.7644C7.44078 10.9834 7.44078 9.71705 8.22183 8.93601C9.00288 8.15496 10.2692 8.15496 11.0503 8.93601L18.8284 16.7142L16 19.5426L8.22183 11.7644Z",fill:"white"}),a.createElement("path",{d:"M8.57538 11.4109C7.9896 10.8251 7.9896 9.87535 8.57538 9.28956C9.16117 8.70377 10.1109 8.70377 10.6967 9.28956L18.1213 16.7142L16 18.8355L8.57538 11.4109Z",stroke:"black",strokeOpacity:"0.9"}),a.createElement("path",{d:"M13.171 12.4716C12.39 11.6905 12.39 10.4242 13.171 9.64316C13.9521 8.86211 15.2184 8.86211 15.9995 9.64316L20.9492 14.5929L18.1208 17.4213L13.171 12.4716Z",fill:"white"}),a.createElement("path",{d:"M13.5246 12.118C12.9388 11.5322 12.9388 10.5825 13.5246 9.99671C14.1104 9.41093 15.0601 9.41093 15.6459 9.99671L20.2421 14.5929L18.1208 16.7142L13.5246 12.118Z",stroke:"black",strokeOpacity:"0.9"}),a.createElement("path",{d:"M15.9992 11.0574C15.2181 10.2764 15.2181 9.01002 15.9992 8.22897C16.7802 7.44793 18.0466 7.44793 18.8276 8.22897L23.0702 12.4716L20.2418 15.3L15.9992 11.0574Z",fill:"white"}),a.createElement("path",{d:"M16.3527 10.7038C15.7669 10.1181 15.7669 9.16831 16.3527 8.58253C16.9385 7.99674 17.8883 7.99674 18.474 8.58253L22.3631 12.4716L20.2418 14.5929L16.3527 10.7038Z",stroke:"black",strokeOpacity:"0.9"}),a.createElement("path",{d:"M19.5353 10.3502C18.7543 9.5692 18.7543 8.30287 19.5353 7.52182C20.3164 6.74077 21.5827 6.74077 22.3637 7.52182L25.1922 10.3502L22.3637 13.1787L19.5353 10.3502Z",fill:"white"}),a.createElement("path",{d:"M19.8889 9.9967C19.3031 9.41091 19.3031 8.46116 19.8889 7.87538C20.4746 7.28959 21.4244 7.28959 22.0102 7.87538L24.4851 10.3502L22.3637 12.4716L19.8889 9.9967Z",stroke:"black",strokeOpacity:"0.9"}),a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.9665 21.544C9.78861 21.9888 10.0272 22.4908 10.4843 22.6337L16.5493 24.5303C19.3396 25.4028 22.3727 25.0002 24.8389 23.43L25.2536 23.0152L25.256 23.0144L25.8992 22.3711C29.0234 19.2469 29.0234 14.1816 25.8992 11.0574L25.1921 10.3502L16 19.5423L16.3172 19.8596C16.4619 20.0043 16.3217 20.2472 16.124 20.1942L13.8709 19.5897C12.2623 19.1581 10.585 19.9977 9.9665 21.544Z",fill:"white"}),a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.9665 21.544C9.78861 21.9888 10.0272 22.4908 10.4843 22.6337L16.5493 24.5303C19.3396 25.4028 22.3727 25.0002 24.8389 23.43L25.2536 23.0152L25.256 23.0143L28.0205 20.2498C29.9732 18.2972 29.9732 15.1313 28.0205 13.1787L25.1921 10.3502L16 19.5423L16.3172 19.8596C16.4619 20.0043 16.3217 20.2472 16.124 20.1942L13.8709 19.5897C12.2623 19.1581 10.585 19.9977 9.9665 21.544Z",fill:"white"}),a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13.8709 19.5897C12.2623 19.1581 10.585 19.9977 9.9665 21.544C9.78861 21.9888 10.0272 22.4908 10.4843 22.6337L16.5493 24.5303C19.3396 25.4028 22.3727 25.0002 24.8389 23.43L25.2536 23.0152L25.256 23.0143L28.0205 20.2498C29.9732 18.2972 29.9732 15.1313 28.0205 13.1787L25.1921 10.3502L16 19.5423L16.3172 19.8596C16.462 20.0043 16.3217 20.2472 16.124 20.1942L13.8709 19.5897ZM17.3246 19.6318L25.1921 11.7644L27.3134 13.8858C28.8755 15.4479 28.8755 17.9806 27.3134 19.5427L24.7125 22.1436L24.7101 22.1445L24.2113 22.6433C22.0103 24.008 19.3228 24.3498 16.8477 23.5758L10.9742 21.7391C11.4561 20.7767 12.5552 20.2721 13.6117 20.5555L15.8649 21.16C16.8504 21.4244 17.5982 20.4627 17.3246 19.6318Z",fill:"black",fillOpacity:"0.9"}),a.createElement("rect",{x:"15.292",y:"17.4214",width:"2",height:"4",transform:"rotate(-45 15.292 17.4214)",fill:"white"}),a.createElement("path",{d:"M16.2617 18.3853C16.7382 18.8834 17.3334 19.5012 17.3555 19.7388L17.7643 19.562L16.2617 18.3853Z",fill:"white"}),a.createElement("rect",{x:"17.4141",y:"15.3",width:"2",height:"4",transform:"rotate(-45 17.4141 15.3)",fill:"white"}),a.createElement("rect",{x:"19.5352",y:"13.1787",width:"2",height:"4",transform:"rotate(-45 19.5352 13.1787)",fill:"white"}),a.createElement("rect",{x:"23.0703",y:"13.8859",width:"2",height:"4",transform:"rotate(-45 23.0703 13.8859)",fill:"white"}),a.createElement("rect",{x:"21.6562",y:"11.0574",width:"2",height:"4",transform:"rotate(-45 21.6562 11.0574)",fill:"white"}),a.createElement("path",{d:"M20.9492 20.2498L28.0203 13.1787V13.1787C29.9729 15.1313 29.9729 18.2971 28.0203 20.2498L25 23.27L24.5 23.5L20.9492 20.2498Z",fill:"white"}),a.createElement("path",{d:"M27.3137 13.8858C27.509 14.0811 27.8256 14.0811 28.0208 13.8858C28.2161 13.6906 28.2161 13.374 28.0208 13.1787L27.3137 13.8858ZM24.4853 11.0574L27.3137 13.8858L28.0208 13.1787L25.1924 10.3503L24.4853 11.0574Z",fill:"black",fillOpacity:"0.9"}),a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M24.8514 23.4906L24.0517 23.882L23.6121 22.9839L24.4118 22.5924L24.8514 23.4906Z",fill:"white"}),a.createElement("path",{d:"M24.8516 23.4907C25.0996 23.3693 25.2022 23.0698 25.0808 22.8218C24.9594 22.5738 24.6599 22.4711 24.4119 22.5926L24.8516 23.4907ZM24.0519 23.8822L24.8516 23.4907L24.4119 22.5926L23.6122 22.984L24.0519 23.8822Z",fill:"black",fillOpacity:"0.9"}))}function Z(){return a.createElement("svg",{width:"17",height:"24",viewBox:"0 0 17 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.createElement("rect",{width:"16.8",height:"24",rx:"8.4",fill:"white"}),a.createElement("rect",{x:"0.5",y:"0.5",width:"15.8",height:"23",rx:"7.9",stroke:"black",strokeOpacity:"0.9"}),a.createElement("rect",{x:"6",y:"4.80005",width:"4.8",height:"8.4",rx:"2.4",fill:"#9747FF"}),a.createElement("rect",{x:"6.5",y:"5.30005",width:"3.8",height:"7.4",rx:"1.9",stroke:"black",strokeOpacity:"0.9"}))}function W(){return a.createElement("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.createElement("rect",{width:"16.8007",height:"24",rx:"8.40036",transform:"matrix(-0.965926 -0.258819 -0.258795 0.965932 25.2197 6.58252)",fill:"white"}),a.createElement("rect",{x:"-0.61236",y:"0.353557",width:"15.8007",height:"23",rx:"7.90036",transform:"matrix(-0.965926 -0.258819 -0.258795 0.965932 24.1074 6.43607)",stroke:"black",strokeOpacity:"0.9"}),a.createElement("path",{d:"M14.0391 15.7617L21.5291 17.7686L23.2014 14.0238L22.377 9.61005L19.7149 6.10149L16.8341 5.32959L14.0391 15.7617Z",fill:"#9747FF"}),a.createElement("rect",{x:"-0.61236",y:"0.353557",width:"15.8007",height:"23",rx:"7.90036",transform:"matrix(-0.965926 -0.258819 -0.258795 0.965932 24.1074 6.43607)",stroke:"black",strokeOpacity:"0.9"}),a.createElement("rect",{width:"4.8002",height:"8.4",rx:"2.4001",transform:"matrix(-0.965926 -0.258819 -0.258795 0.965932 18.1826 9.66602)",fill:"white"}),a.createElement("rect",{x:"-0.61236",y:"0.353557",width:"3.8002",height:"7.4",rx:"1.9001",transform:"matrix(-0.965926 -0.258819 -0.258795 0.965932 17.0703 9.51957)",stroke:"black",strokeOpacity:"0.9"}))}function z(){return a.createElement("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21.3535 6.50001H19V7.50001H21.3535L20.2071 8.64645L20.9142 9.35356L23.2677 7.00001L20.9142 4.64645L20.2071 5.35356L21.3535 6.50001Z",fill:"#8638E5"}),a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.64649 6.50001H10V7.50001H7.64649L8.79293 8.64645L8.08583 9.35356L5.73227 7.00001L8.08583 4.64645L8.79293 5.35356L7.64649 6.50001Z",fill:"#8638E5"}),a.createElement("path",{d:"M11 8C11 6.89543 11.8954 6 13 6V6C14.1046 6 15 6.89543 15 8V19H11V8Z",fill:"white"}),a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14 18V8C14 7.44772 13.5523 7 13 7C12.4477 7 12 7.44772 12 8V18H14ZM13 6C11.8954 6 11 6.89543 11 8V19H15V8C15 6.89543 14.1046 6 13 6Z",fill:"black",fillOpacity:"0.9"}),a.createElement("path",{d:"M8 13.8C8 13.3582 8.35817 13 8.8 13C10.5673 13 12 14.4327 12 16.2V27H10L8.71523 23.7881C8.24275 22.6069 8 21.3464 8 20.0742V13.8Z",fill:"white"}),a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11 26V16.2C11 15.0524 10.1213 14.11 9 14.009V20.0742C9 21.2192 9.21848 22.3536 9.64371 23.4167L10.677 26H11ZM10 27L8.71523 23.7881C8.24275 22.6069 8 21.3464 8 20.0742V13.8C8 13.3582 8.35817 13 8.8 13C10.5673 13 12 14.4327 12 16.2V27H10Z",fill:"black",fillOpacity:"0.9"}),a.createElement("path",{d:"M14 6C14 4.89543 14.8954 4 16 4V4C17.1046 4 18 4.89543 18 6V19H14V6Z",fill:"white"}),a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M17 18V6C17 5.44772 16.5523 5 16 5C15.4477 5 15 5.44772 15 6V18H17ZM16 4C14.8954 4 14 4.89543 14 6V19H18V6C18 4.89543 17.1046 4 16 4Z",fill:"black",fillOpacity:"0.9"}),a.createElement("path",{d:"M17 13C17 11.8954 17.8954 11 19 11V11C20.1046 11 21 11.8954 21 13V19H17V13Z",fill:"white"}),a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20 18V13C20 12.4477 19.5523 12 19 12C18.4477 12 18 12.4477 18 13V18H20ZM19 11C17.8954 11 17 11.8954 17 13V19H21V13C21 11.8954 20.1046 11 19 11Z",fill:"black",fillOpacity:"0.9"}),a.createElement("path",{d:"M20 15C20 13.8954 20.8954 13 22 13V13C23.1046 13 24 13.8954 24 15V19H20V15Z",fill:"white"}),a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M23 18V15C23 14.4477 22.5523 14 22 14C21.4477 14 21 14.4477 21 15V18H23ZM22 13C20.8954 13 20 13.8954 20 15V19H24V15C24 13.8954 23.1046 13 22 13Z",fill:"black",fillOpacity:"0.9"}),a.createElement("path",{d:"M11 19H24V21.7689C24 22.5866 23.8997 23.4011 23.7014 24.1943L23 27H11V19Z",fill:"white"}),a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M23 20H12V26H22.2192L22.7313 23.9518C22.9098 23.2379 23 22.5048 23 21.7689V20ZM23 27H11V19H24V21.7689C24 22.5866 23.8997 23.4011 23.7014 24.1943L23 27Z",fill:"black",fillOpacity:"0.9"}),a.createElement("path",{d:"M11 19H22V27H11V19Z",fill:"white"}),a.createElement("path",{d:"M15 17C15 17.2761 14.7761 17.5 14.5 17.5C14.2239 17.5 14 17.2761 14 17C14 16.7239 14.2239 16.5 14.5 16.5C14.7761 16.5 15 16.7239 15 17Z",fill:"white"}),a.createElement("path",{d:"M12 19C12 19.2761 11.7761 19.5 11.5 19.5C11.2239 19.5 11 19.2761 11 19C11 18.7239 11.2239 18.5 11.5 18.5C11.7761 18.5 12 18.7239 12 19Z",fill:"white"}),a.createElement("path",{d:"M18 17C18 17.2761 17.7761 17.5 17.5 17.5C17.2239 17.5 17 17.2761 17 17C17 16.7239 17.2239 16.5 17.5 16.5C17.7761 16.5 18 16.7239 18 17Z",fill:"white"}),a.createElement("path",{d:"M21 18C21 18.2761 20.7761 18.5 20.5 18.5C20.2239 18.5 20 18.2761 20 18C20 17.7239 20.2239 17.5 20.5 17.5C20.7761 17.5 21 17.7239 21 18Z",fill:"white"}),a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14.5 17.5C14.7761 17.5 15 17.2761 15 17C15 16.7239 14.7761 16.5 14.5 16.5C14.2239 16.5 14 16.7239 14 17C14 17.2761 14.2239 17.5 14.5 17.5Z",fill:"black",fillOpacity:"0.9"}),a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11.5 19.5C11.7761 19.5 12 19.2761 12 19C12 18.7239 11.7761 18.5 11.5 18.5C11.2239 18.5 11 18.7239 11 19C11 19.2761 11.2239 19.5 11.5 19.5Z",fill:"black",fillOpacity:"0.9"}),a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M17.5 17.5C17.7761 17.5 18 17.2761 18 17C18 16.7239 17.7761 16.5 17.5 16.5C17.2239 16.5 17 16.7239 17 17C17 17.2761 17.2239 17.5 17.5 17.5Z",fill:"black",fillOpacity:"0.9"}),a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20.5 18.5C20.7761 18.5 21 18.2761 21 18C21 17.7239 20.7761 17.5 20.5 17.5C20.2239 17.5 20 17.7239 20 18C20 18.2761 20.2239 18.5 20.5 18.5Z",fill:"black",fillOpacity:"0.9"}),a.createElement("path",{d:"M10 26H23V26.6C23 26.8209 22.8209 27 22.6 27H10.4C10.1791 27 10 26.8209 10 26.6V26Z",fill:"white"}),a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.6941 24.8912C9.95025 24.788 10.2415 24.9121 10.3447 25.1682L10.84 26.3984C10.9431 26.6545 10.8191 26.9458 10.5629 27.049C10.3068 27.1521 10.0155 27.0281 9.91238 26.7719L9.41704 25.5417C9.3139 25.2856 9.43794 24.9943 9.6941 24.8912Z",fill:"white"}),a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M23.0231 24.8459C22.7554 24.7781 22.4835 24.9402 22.4157 25.2079L22.0949 26.4752C22.0271 26.7429 22.1892 27.0148 22.4569 27.0826C22.7246 27.1503 22.9965 26.9883 23.0643 26.7206L23.3851 25.4533C23.4529 25.1856 23.2908 24.9136 23.0231 24.8459Z",fill:"white"}),a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.6941 24.8912C9.95025 24.788 10.2415 24.9121 10.3447 25.1682L10.84 26.3984C10.9431 26.6545 10.8191 26.9458 10.5629 27.049C10.3068 27.1521 10.0155 27.0281 9.91238 26.7719L9.41704 25.5417C9.3139 25.2856 9.43794 24.9943 9.6941 24.8912Z",fill:"black",fillOpacity:"0.9"}),a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M23.0231 24.8459C22.7554 24.7781 22.4835 24.9402 22.4157 25.2079L22.0949 26.4752C22.0271 26.7429 22.1892 27.0148 22.4569 27.0826C22.7246 27.1503 22.9965 26.9883 23.0643 26.7206L23.3851 25.4533C23.4529 25.1856 23.2908 24.9136 23.0231 24.8459Z",fill:"black",fillOpacity:"0.9"}),a.createElement("path",{d:"M20 18H23V21H20V18Z",fill:"white"}),a.createElement("path",{d:"M12 17H15V21H12V17Z",fill:"white"}),a.createElement("path",{d:"M16 17H19V21H16V17Z",fill:"white"}),a.createElement("path",{d:"M21 16H23V21H21V16Z",fill:"white"}),a.createElement("path",{d:"M18 16H20V26H18V16Z",fill:"white"}),a.createElement("path",{d:"M15 16H17V26H15V16Z",fill:"white"}),a.createElement("path",{d:"M12 16H14V26H12V16Z",fill:"white"}))}let q="figjam_pan_zoom_onboarding--icon--TaGJG",V="figjam_pan_zoom_onboarding--bannerContainer--CsV0q",H={NEW_USER_PAN:"figjam_seen_new_user_dlt_pan",NEW_USER_ZOOM:"figjam_seen_new_user_dlt_zoom"};function j({children:e}){return a.createElement("span",{className:"figjam_pan_zoom_onboarding--boldedBannerText--Zx-EN"},e)}function G(e){let{onNext:t,onManualDismiss:n}=e,o=(0,i.OY)(),r=(0,a.useCallback)(()=>{o(p.s({[H.NEW_USER_ZOOM]:!0}))},[o]),c=(0,a.useCallback)(()=>{r(),n()},[r,n]),s=(0,a.useCallback)(()=>{r(),t()},[r,t]);return(0,a.useEffect)(()=>(b.i46.setUsedZoomAction(!1),E.CA.fromFullscreen.on("zoomActionMessageForOnboarding",s),()=>{E.CA.fromFullscreen.removeListener("zoomActionMessageForOnboarding",s)}),[o,s]),a.createElement(D.o,{trackingContext:"FigJam New User Zoom Banner",content:a.createElement("div",{className:V},a.createElement(m.Tx,{id:"rcs.figjam_zoom.to_zoom_pinch_your_trackpad_or_hold_and_scroll",boldTextPinch:a.createElement(a.Fragment,null,a.createElement("span",{className:l()("figjam_pan_zoom_onboarding--zoomIcon--efDh8",q)},a.createElement(F,null)),a.createElement(j,null,a.createElement(m.Tx,{id:"rcs.figjam_zoom.to_zoom_pinch_your_trackpad_or_hold_and_scroll_bold_text_pinch"}))),boldTextScroll:a.createElement(a.Fragment,null,a.createElement("span",{className:q},a.createElement(Z,null)),a.createElement(j,null,a.createElement(m.Tx,{id:"rcs.figjam_zoom.to_zoom_pinch_your_trackpad_or_hold_and_scroll_bold_text_scroll"})))})),rightContent:a.createElement(Y,{onChangePreferences:e.onChangePreferences}),onClose:c})}function K(e){let{onManualDismiss:t}=e,[n,o]=(0,a.useState)(!1),l=(0,i.OY)();(0,r.u)(()=>{setTimeout(()=>{o(!0)},1e3)});let c=(0,a.useCallback)(()=>{l(p.s({[H.NEW_USER_PAN]:!0}))},[l]),s=(0,a.useCallback)(()=>{c(),t()},[c,t]);return((0,a.useEffect)(()=>{if(n)return b.i46.setUsedPanAction(!1),E.CA.fromFullscreen.on("panActionMessageForOnboarding",s),()=>{E.CA.fromFullscreen.removeListener("panActionMessageForOnboarding",s)}},[l,n,s]),n)?a.createElement(D.o,{trackingContext:"FigJam New User Pan Banner",content:a.createElement("div",{className:V},a.createElement(m.Tx,{id:"rcs.figjam_pan.move_instructions",boldTextSwipe:a.createElement(a.Fragment,null,a.createElement("span",{className:q},a.createElement(z,null)),a.createElement(j,null,a.createElement(m.Tx,{id:"rcs.figjam_pan.move_instructions_bold_text_swipe"}))),boldTextRightClick:a.createElement(a.Fragment,null,a.createElement("span",{className:q},a.createElement(W,null)),a.createElement(j,null,a.createElement(m.Tx,{id:"rcs.figjam_pan.hold_right_click"})))})),rightContent:a.createElement(Y,{onChangePreferences:e.onChangePreferences}),onClose:s}):null}function Y({onChangePreferences:e}){return a.createElement("button",{onClick:e,className:"figjam_pan_zoom_onboarding--changePreferencesButton--0z5Xs text--fontPos11--2LvXf text--_fontBase--QdLsd"},a.createElement(m.Tx,{id:"rcs.figjam_pan_zoom_change_prefs"}))}function Q(){let e=(0,C._o)(),t=(0,S.cH)(),n=(0,c.Ub)().navigation_mode_scroll_to_pref&&(0,c.Ub)().figjam_navigation_mode,o=(0,i.w1)(e=>e.isMakeSomethingV2Active);return t||!n||e||o?null:a.createElement(et,null)}let X=(0,h.y_)(H.NEW_USER_PAN),$=(0,h.y_)(H.NEW_USER_ZOOM),J=(0,h.Ww)("figjam_editor_onboarded"),ee=[function(e){let{isOverlayShowing:t,next:n,complete:i,onChangePreferences:o}=e;return t?a.createElement(G,{onNext:n,onManualDismiss:i,onChangePreferences:o}):null},function(e){let{isOverlayShowing:t,complete:n,onChangePreferences:i}=e;return t?a.createElement(K,{onNext:n,onManualDismiss:n,onChangePreferences:i}):null}];function et(){let e=(0,s.m4)(X),t=(0,s.m4)($),n=(0,s.m4)(J),i=(0,s.m4)(f.oP),o=(0,s.m4)(f.I3),l=(0,s.m4)(f.W_),r=(0,s.m4)(k.kv),[m,p]=(0,a.useState)(!1),h=(0,g.c)({numSteps:ee.length,onComplete:d.Kw}),{show:E,complete:b,isShowing:y}=(0,_.W)({overlay:P.Eur,priority:w.g.DEFAULT_MODAL},[e,t,n,i,o,l]);(0,a.useEffect)(()=>{let e=[k._q.NOT_STARTED,k._q.COMPLETED].includes(r),t=h.currentStep===ee.length-1;y||!e||t||E({canShow:(e,t,n,a,i,o)=>{let l=!u.CU&&!u.mA,s=!!((0,c.Ub)().navigation_mode_scroll_to_pref&&(0,c.Ub)().figjam_navigation_mode),d=(0,v.gP)({emailValidatedAt:i,jobTitle:o});return![k._q.USE_CASE_STEPS,k._q.MODAL_SHOWING].includes(r)&&(!!n||d)&&!a&&!e&&!t&&l&&s}})},[y,r,E,h.currentStep]);let C=(0,a.useCallback)(()=>{p(!0)},[p]),S=(0,a.useCallback)(()=>{p(!1)},[p]);return y?a.createElement(a.Fragment,null,a.createElement(T.y,{currentStep:h.currentStep,children:ee.map((e,t)=>a.createElement(e,{isOverlayShowing:h.currentStep===t,next:h.next,complete:b,onChangePreferences:C})),isShowing:!0}),m?a.createElement(B,{dismissModal:S,targetKey:1===h.currentStep?U.QX.PAN:U.QX.ZOOM}):null):null}function en(){return(0,c.Ub)().figjam_nav_new_user_onboarding&&(0,y.EB)().scrollWheelZoom.getCopy()&&(0,y.EB)().rightClickPan.getCopy()}},391920:(e,t,n)=>{n.d(t,{_:()=>k});var a=n(307824),i=n(120304),o=n(125504),l=n.n(o),r=n(920720),c=n(111908),s=n(628164),d=n(916924),u=n(570464),m=n(853688),p=n(110296),_=n(26708),g=n(585508),f=n(998e3),h=n(762820),E=n(967636),b=n(679804),y=n(842872),C=n(676844),w=n(991244),T=n(674976);let k=a.memo(function({toolType:e,color:t,isSelected:n,onTap:o,onDragEnd:k,onDragStart:v,Icon:S,IconNoRef:x,toolbarIconScale:I,canvasToSvgScale:L,isDrawingSubmenuTool:N,isDragReversing:O,stickyAnimationState:A,isHovered:M,hoverOffsetAmount:R="DEFAULT"}){let{state:P,dispatch:U}=a.useContext(C.ML),B=(0,i.OY)(),D=P.draggedTool===e,F=P.draggedToolCanCancel,[Z,W]=a.useState(!1),[z,q]=a.useState(!1),[V,H]=a.useState(0);a.useEffect(()=>{let e=e=>{"Escape"===e.key&&D&&(U({type:"end drag"}),W(!1),H(V+1))};return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}},[V,D,e,U]),a.useEffect(()=>{let e=()=>{W(!1)};return document.addEventListener("pointerup",e),()=>{document.removeEventListener("pointerup",e)}},[W]),a.useEffect(()=>(D?document.body.classList.add(T.Ar):document.body.classList.remove(T.Ar),()=>{document.body.classList.remove(T.Ar)}),[D]);let j=a.useRef(null),G=(0,b.Md)({subscribeToUpdates_expensive:D}),K=function(e){switch(e){case"NONE":return 0;case"STICKY":return -20;case"DRAWING":return -22;case"DRAWING_SUBMENU":case"DEFAULT":return -24}}(R),Y=a.useRef(null),Q=(0,r.Y)(.5),X=(0,r.Y)(.5),[$,J]=a.useState(),ee=D?F?"whileDragShouldCancel":"whileDrag":"pencil"===e&&n?"hiddenPencil":Z?"whileTap":N&&n?"selectedSubmenuTool":M?"whileHovering":"initial";if("connector"===e&&!D){let e=(0,f._2)(_.Q.parse(t));e.l>.9&&(t=_.Q.formatHSLA({h:e.h,s:e.s,l:.9,a:e.a}))}return a.createElement(m.g9,{recordingKey:(0,y.GW)(`${e}.animatedIcon`),className:l()(T.Eh,{[T.qs]:n,[T.ID]:M}),onPointerDown:()=>{if(W(!0),!w.z.RECORD_DETAILED_EVENTS)return u.Cy},onPointerUp:()=>{if(W(!1),!w.z.RECORD_DETAILED_EVENTS)return u.Cy},onTouchStart:e=>{e.preventDefault()},onTouchEnd:e=>{e.preventDefault(),!z&&P.shouldFinishClick&&o(),q(!1)},onContextMenu:e=>{e.preventDefault()}},a.createElement(c.I,{key:String(V)},a.createElement(s.q.div,{"data-testid":w.z.getMotionDivId(e),"data-test-animate-state":ee,style:{originX:Q,originY:X},variants:{initial:{scale:1,y:0},selectedSubmenuTool:{y:K},whileTap:{y:K,scale:.93},whileDragShouldCancel:{y:K,scale:.93},whileDrag:{y:K,scale:G*(L||1)},whileHovering:{y:K},hiddenPencil:{y:72}},className:l()({[T._G]:!F}),animate:ee,transition:{duration:.1,ease:[.12,.23,.5,1]},transformTemplate:(e,t)=>"translate3d(0px, 0px, 0) scale(1, 1)"===t?"none":t,drag:!!k,dragConstraints:{top:0,bottom:0,right:0,left:0},ref:Y,onDragStart:(t,n)=>{U({type:"start drag",tool:e}),h.i46.triggerActionInUserEditScope("set-tool-default",{source:y.m4}),E.GK.trigger("action",h.I6V.CLEAR),B(p.WS());let a=Y.current;if(a){let e=a.getBoundingClientRect();Q.set((n.point.x-e.x)/e.width),X.set((n.point.y-e.y)/e.height)}let i=j.current;if(i){let e=i.closest("."+T.sT);(0,d.kz)(e,"Delightful tool can't find containing toolbar!"),J(e.getBoundingClientRect()),v&&v()}},onDrag:(e,t)=>{var n;$&&((n=t.point).x>=$.x&&n.x<=$.x+$.width&&n.y>=$.y||n.y>$.y+$.height)!==F&&U({type:"toggle drag cancellable"})},onDragEnd:(e,t)=>{if(q(!0),Q.set(.5),X.set(.5),F){U({type:"cancel drag"}),W(!1);return}let n=j.current;if(n){let t=n.getBoundingClientRect(),a=g.CA.getViewportInfo(),i={x:t.left-a.x,y:t.top-a.y},o=(0,b.GO)(a,i),l=(0,b.GO)(a,{x:e.x-a.x,y:e.y-a.y});k&&k(o,l),U({type:"end drag"}),W(!1),H(V+1)}else(0,d.kz)(!1,"Delightful tool is missing the toolref!")},dragElastic:1},S?a.createElement(S,{color:t,toolbarIconScale:I,ref:j,shouldAnimate:D,isReversing:O,stickyAnimationState:A,shouldDrawStroke:!D}):x)))})},330152:(e,t,n)=>{n.d(t,{u:()=>R,C:()=>P});var a=n(307824),i=n(125504),o=n.n(i),l=n(843148),r=n(372152),c=n(327112),s=n(26708),d=n(762820),u=n(555168),m=n(312452),p=n(397888),_=n(142548),g=n(629688),f=n(842872),h=n(676844),E=n(5480),b=n(391920),y=n(614740),C=n(427560),w=n(100648),T=n(489308),k=n(570464),v=n(970176),S=n(664300),x=n(977408),I=n(480520),L=n(449748),N=n(371860),O=n(674976);function A({recordingKey:e,isOpen:t}){let[n,i]=(0,r.lZ)(c.YR),[o,l]=a.useState(!1),{openColorPalettePicker:u,closeColorPalettePicker:m}=(0,S.Ar)(l),p=s.Q.format(n);a.useEffect(()=>{m()},[t,m]);let _=e=>{i(e),d.i46.triggerActionInUserEditScope("set-tool-sticky",{source:f.m4})},g=e=>{_(e),M()},h=(0,S.EV)(),E=h.type===v.i.CUSTOM,b=(0,T.m6)("sticky"),C=E?h.variations.sticky:b,w=(0,r.m4)(x.Cw),O=!!w;return a.createElement(a.Fragment,null,a.createElement(y.Oo,{paddingRight:8,paddingLeft:8},a.createElement(N.g,{loadingPaletteCircleCount:w}),!O&&C.map((t,n)=>{let i=s.Q.format(t),o=E?(0,T.mr)(n,"sticky"):(0,T.qq)(t,"sticky");return a.createElement(L.uA,{key:s.Q.format(t)+"-"+n,size:"medium",value:t,selectionState:i===p?"selected":"unselected",paletteType:"sticky",background:"light",onClick:()=>g(t),tooltip:o,recordingKey:k.Mx(e,o)})}),a.createElement(I.k,{colorPalettePickerState:{openColorPalettePicker:u,closeColorPalettePicker:m,isColorPalettePickerOpen:o},defaultColorPaletteLength:b.length,recordingKey:k.Mx(e||"color-palettes","sticky")||"sticky",disabled:O,isInDltSubmenu:!0})))}let M=()=>{let e={duration:800,easing:"ease-out"},t={transform:"rotate(0) translate(0, 0)"},n=[t,{transform:"translate(32px, 32px) rotate(5deg) translate(0, -8px) translate(-32px, -32px)",offset:.1},{transform:"translate(32px, 32px) rotate(5deg) translate(0, -10px) translate(-32px, -32px)",offset:.35},t,{transform:"translate(-32px, 32px) rotate(-3deg) translate(32px, -32px) "},t,{transform:"translate(32px, 32px) rotate(1deg) translate(-32px, -32px) "},t];[O.OC,O.WK,O.aE].forEach((t,a)=>{var i;null==(i=document.getElementsByClassName(t)[0].parentElement)||i.animate(n,{...e,delay:70*a})})},R="sticky";function P({toolbarIconScale:e}){let t;let n=(0,w.am)(),i=(0,w.u$)(),k=(0,r.m4)(c.YR),v=(0,p._o)(),S=(0,l.Ub)().figjam_differentiate_stickies,x=(0,l.Ub)().figjam_differentiate_stickies_v3,I=S||x,[L,N]=(0,a.useState)(!1),[M,P]=(0,a.useState)(!1),[U,B]=(0,a.useState)(!1),[D,F]=(0,a.useState)(g.ek.DEFAULT);(0,a.useEffect)(()=>{if(!I&&L){let e=setTimeout(()=>N(!1),300);return()=>clearTimeout(e)}},[L]);let Z=240/g.sl,W=(0,T.wh)(k,"sticky"),z=s.Q.format(k),q=v||!W?(0,T.k1)(d.iiI.STICKY_GRAY_LIGHT):(0,T.k1)(W,z),{state:V,dispatch:H}=(0,a.useContext)(h.ML),j="sticky"===V.submenu.tool,G=(0,a.useCallback)(()=>{i?d.i46.triggerActionInUserEditScope("set-tool-default",{source:f.m4}):(d.i46.triggerActionInUserEditScope("set-tool-sticky",{source:f.m4}),H({type:"open submenu",submenu:"sticky"}))},[i,H]),K=j||n||"shape"===V.submenu.tool,{isHovered:Y,onMouseEnter:Q,onMouseMove:X,onMouseLeave:$,onTouchStart:J,onTouchEnd:ee}=(0,E._)(G,K,!1),et=(0,a.useCallback)((e,t)=>{u.Pc.user("drop-sticky-on-canvas",()=>d.i46.delightfulToolbarDropItemOntoCanvas(m.w3X.STICKY,Math.round(e.x),Math.round(e.y),Math.round(t.x),Math.round(t.y))),I?(P(!1),B(!1),F(g.ek.DEFAULT)):N(!0)},[]),en=(0,a.useCallback)(()=>{I&&P(!0),x&&D===g.ek.DEFAULT&&F(g.ek.INITIAL_DRAG_ON_DLT)},[]);(0,a.useEffect)(()=>{S&&"sticky"===V.draggedTool&&B(e=>{let t=V.draggedToolCanCancel;return!e&&t&&M})},[V,M]),(0,a.useEffect)(()=>{if(x){if("sticky"===V.draggedTool){let e=!V.draggedToolCanCancel;D===g.ek.INITIAL_DRAG_ON_DLT?e&&F(g.ek.DRAG_ON_CANVAS):D===g.ek.DRAG_ON_CANVAS?e||F(g.ek.DRAG_RETURN_TO_DLT):D===g.ek.DRAG_RETURN_TO_DLT&&e&&F(g.ek.DRAG_ON_CANVAS)}else V.draggedTool||F(g.ek.DEFAULT)}},[V,M,x,F,D]),t=x?g.a_:S?g.A9:g.sX;let ea=I?M:L,ei=(0,a.useRef)(null);return a.createElement(y._c,{alignment:"CENTER",innerRef:ei},a.createElement(y.mg,{isSelected:Y||i||j,noScaleAnimation:!0},a.createElement(C.oZ,{toolType:"sticky",recordingKey:(0,f.GW)("sticky"),isSelected:i,className:O.IP,onClick:G,"data-tooltip-type":_.wL.LOOKUP,"data-tooltip":"set-tool-sticky",tooltipOffset:{offsetY:-26,offsetX:10},onboardingKey:R,isHovered:Y,onMouseEnter:Q,onMouseMove:X,onMouseLeave:$,onTouchStart:J,onTouchEnd:ee,hasOpenSubmenu:j},a.createElement("div",{className:o()(O.AV,O.oD)},a.createElement(b._,{toolType:"sticky",color:q,isSelected:i,onTap:G,onDragStart:en,onDragEnd:et,Icon:t,toolbarIconScale:e,canvasToSvgScale:Z,isDragReversing:U,isHovered:Y,stickyAnimationState:D,hoverOffsetAmount:"STICKY"}),a.createElement(t,{toolOrder:2,color:q,toolbarIconScale:e,shouldAnimate:ea,isReversing:U,stickyAnimationState:D}),a.createElement(t,{toolOrder:3,color:q,toolbarIconScale:e,shouldAnimate:ea,isReversing:U,stickyAnimationState:D}),I?a.createElement(t,{toolOrder:4,color:q,toolbarIconScale:e,shouldAnimate:ea,isReversing:U,stickyAnimationState:D}):null))),a.createElement(y.SW,{isOpen:i,fadedOut:Y},a.createElement(A,{isOpen:i,recordingKey:(0,f.GW)("stickySubmenu")})))}},371860:(e,t,n)=>{n.d(t,{g:()=>r});var a=n(307824),i=n(125504),o=n.n(i),l=n(733960);let r=a.memo(function({loadingPaletteCircleCount:e}){let t=(0,l.i)(e),n=t&&!e,i=n?t:e;return a.createElement("div",{className:o()("dlt_submenu_palette_skeleton--skeletonCircleContainer--zJP5v",{"dlt_submenu_palette_skeleton--isFadingOut--X7mcE":n})},[...Array(i)].map((e,t)=>a.createElement("div",{className:"dlt_submenu_palette_skeleton--skeletonCircleWrapper--jqySu",key:"skeleton-palette-"+t},a.createElement("div",{className:o()("dlt_submenu_palette_skeleton--skeletonCircle--S16JP",{"dlt_submenu_palette_skeleton--loading--NXGYD":!n}),style:{animationDelay:`${.1*t}s`}}))))})},679175:(e,t,n)=>{n.d(t,{W2:()=>R,If:()=>M,KW:()=>P,E3:()=>U});var a=n(750908),i=n(175948),o=n(90340),l=n(762820),r=n(59508),c=n(312452),s=n(629688),d=n(842872),u=n(284396),m=n(307824),p=n(142548),_=n(617312),g=n(481824),f=n(427560),h=n(674976);let E=(0,m.memo)(function({isSelected:e,onClick:t}){return m.createElement(f.YD,{toolType:"section",recordingKey:(0,d.GW)("section"),isSelected:e,className:h.O2,onClick:t,"data-tooltip-type":p.wL.LOOKUP,"data-tooltip":"set-tool-section",hasOpenSubmenu:!1,onboardingKey:_.wz},t=>m.createElement(g.Ar,{toolType:"section",inactiveIcon:m.createElement(s.iW,null),hoveredIcon:m.createElement(s.Qh,null),activeIcon:m.createElement(s.sD,null),isSelected:e,isHovered:t}))});var b=n(162844);let y=(0,m.memo)(function({isSelected:e,onClick:t}){return m.createElement(f.YD,{toolType:"text",recordingKey:(0,d.GW)("text"),isSelected:e,className:h._E,onClick:t,"data-tooltip-type":p.wL.LOOKUP,"data-tooltip":"set-tool-type",hasOpenSubmenu:!1},t=>m.createElement(g.Ar,{toolType:"text",inactiveIcon:m.createElement(s.MX,null),hoveredIcon:m.createElement(s.Gc,null),activeIcon:m.createElement(s.WM,null),isSelected:e,isHovered:t}))}),C=(0,m.memo)(function({isSelected:e,onClick:t}){return m.createElement(f.YD,{toolType:"table",recordingKey:(0,d.GW)("table"),isSelected:e,className:h.cl,onClick:t,"data-tooltip-type":p.wL.LOOKUP,"data-tooltip":"set-tool-table",hasOpenSubmenu:!1},t=>m.createElement(g.Ar,{toolType:"table",inactiveIcon:m.createElement(s.Ky,null),hoveredIcon:m.createElement(s.EP,null),activeIcon:m.createElement(s.CU,null),isSelected:e,isHovered:t}))}),w=s.MX(),T=s.iW(),k=s.Ky(),v=s.P3(),S=s.iM(),x=s.EF(),I=s.YX(),L=s.YS(),N=s.GR(),O=s.Cx(),A=new Map([["text",{toolType:"text",Component:y,action:"set-tool-type",iconComponent:w,noBorderIconComponent:x,isSelectedWithContext:({tool:e})=>e===c.w3X.TYPE,onClickWithContext:({currentlySelectedTool:e})=>{l.i46.triggerActionInUserEditScope("text"===e?"set-tool-default":"set-tool-type",{source:d.m4})}}],["stamp",{toolType:"stamp",Component:b.YL,action:"set-tool-stamp",iconComponent:v,noBorderIconComponent:N,isSelectedWithContext:({tool:e,stampWheelOpen:t})=>e===c.w3X.STAMP||t,onClickWithContext:({stampWheelOpen:e})=>{e?r.ae.closeWheel():(0,b.wX)({source:d.m4})}}],["section",{toolType:"section",Component:E,action:"set-tool-section",iconComponent:T,noBorderIconComponent:I,isSelectedWithContext:({tool:e})=>e===c.w3X.SECTION,onClickWithContext:({currentlySelectedTool:e})=>{l.i46.triggerActionInUserEditScope("section"===e?"set-tool-default":"set-tool-section",{source:d.m4})}}],["table",{toolType:"table",Component:C,action:"set-tool-table",iconComponent:k,noBorderIconComponent:L,isSelectedWithContext:({tool:e})=>e===c.w3X.TABLE,onClickWithContext:({currentlySelectedTool:e})=>{l.i46.triggerActionInUserEditScope("table"===e?"set-tool-default":"set-tool-table",{source:d.m4})}}],["universal-insert",{toolType:"universal-insert",Component:u.Ko,action:"browse-all-resources-dlt-overflow",iconComponent:S,noBorderIconComponent:O,isSelectedWithContext:({browseAllResourcesModalShowing:e,tool:t})=>e&&t===c.w3X.NONE,onClickWithContext:({currentlySelectedTool:e,dispatch:t})=>{"universal-insert"===e?(t(a.kv()),l.i46.triggerActionInUserEditScope("set-tool-default",{source:d.m4})):(l.i46.triggerActionInUserEditScope("clear-tool",{source:d.m4}),t(a.KE({initialX:0,initialY:0})),(0,o.a2)({source:d.m4},u.cy))}}]]);function M(){return["text","section","table","stamp"]}function R(e){return[{stage:"FULL",thresholdWidth:774,numPrimaryTools:4},{stage:"MINIMIZED_THREE",thresholdWidth:718,numPrimaryTools:e?2:3},{stage:"MINIMIZED_TWO",thresholdWidth:662,numPrimaryTools:e?1:2},{stage:"MINIMIZED_ONE",thresholdWidth:606,numPrimaryTools:e?0:1},{stage:"MINIMIZED_ZERO",thresholdWidth:533,numPrimaryTools:0},{stage:"MINIMIZED",thresholdWidth:422,numPrimaryTools:0},{stage:"CUT_OFF",thresholdWidth:0,numPrimaryTools:0}]}function P(){let e=[];for(let t of M()){let n=(function(){let e=new Map;for(let t of new Set(["text","stamp","section","table"]))A.has(t)&&e.set(t,A.get(t));return e})().get(t);n&&(e=e.concat(n))}return e}function U(e){return P().slice(0,e).map(e=>e.toolType)}i.I5,i.w3},834640:(e,t,n)=>{n.d(t,{Q:()=>I,m:()=>x});var a=n(307824),i=n(120304),o=n(125504),l=n.n(o),r=n(937620),c=n(537096),s=n(560072),d=n(257200),u=n(441388),m=n(817076),p=n(34664),_=n(300711),g=n(251596),f=n(514916),h=n(685656),E=n(862560),b=n(402080),y=n(730400),C=n(852712),w=n(45884);let T=["meeting","brainstorm","diagram","plan"],k={meeting:{displayName:a.createElement(s.Tx,{id:"whiteboard.editor_file_create_button.template.meeting"}),templateId:"1131656387097659439"},brainstorm:{displayName:a.createElement(s.Tx,{id:"whiteboard.editor_file_create_button.template.brainstorm"}),templateId:"1131655445295798316"},diagram:{displayName:a.createElement(s.Tx,{id:"whiteboard.editor_file_create_button.template.diagram"}),templateId:"1131655783221981229"},plan:{displayName:a.createElement(s.Tx,{id:"whiteboard.editor_file_create_button.template.plan"}),templateId:"1131656074685986862"}};var v=n(69202),S=n(617504);function x(){let e=(0,p.S)(!0),t=!(0,m.Y)()&&e.enabled,n=null===(0,g.C2)();return(0,_.S2)()||t&&n?null:a.createElement(I,null)}function I(){let e=(0,w.yW)(),{Dropdown:t,toggleDropdown:n,dropdownTargetRef:o,isDropdownShown:m}=(0,b.s)("figjam-editor-create-button-dropdown"),p=(0,i.OY)(),_=(0,E._g)(),g=(0,r.qM)(),x={brainstorm:(0,y.E$)({templateId:k.brainstorm.templateId,source:h.Uz.FIGJAM_EDITOR_FILE_CREATE_BUTTON,forceOpenNewTab:!0,additionalCtaLoggingProps:{action:"editor_file_create_button_create_template",selected_template_type:"brainstorm"}}),meeting:(0,y.E$)({templateId:k.meeting.templateId,source:h.Uz.FIGJAM_EDITOR_FILE_CREATE_BUTTON,forceOpenNewTab:!0,additionalCtaLoggingProps:{action:"editor_file_create_button_create_template",selected_template_type:"meeting"}}),diagram:(0,y.E$)({templateId:k.diagram.templateId,source:h.Uz.FIGJAM_EDITOR_FILE_CREATE_BUTTON,forceOpenNewTab:!0,additionalCtaLoggingProps:{action:"editor_file_create_button_create_template",selected_template_type:"diagram"}}),plan:(0,y.E$)({templateId:k.plan.templateId,source:h.Uz.FIGJAM_EDITOR_FILE_CREATE_BUTTON,forceOpenNewTab:!0,additionalCtaLoggingProps:{action:"editor_file_create_button_create_template",selected_template_type:"plan"}})},I=a.useCallback(()=>{m||g("CTA Clicked",{action:"editor_file_create_button_toggle_dropdown_shown"}),n()},[m,n,g]),L=a.useCallback(()=>{g("CTA Clicked",{action:"editor_file_create_button_create_blank"}),p(d.Ah({state:_,from:h.Uz.FIGJAM_EDITOR_FILE_CREATE_BUTTON,editorType:f.aE.WHITEBOARD,team:void 0,openNewFileIn:h.mM.NEW_TAB}))},[p,g,_]),N=T.map(e=>({displayText:function(e){switch(e){case"meeting":return(0,s.t)("whiteboard.editor_file_create_button.template.meeting");case"brainstorm":return(0,s.t)("whiteboard.editor_file_create_button.template.brainstorm");case"diagram":return(0,s.t)("whiteboard.editor_file_create_button.template.diagram");case"plan":return(0,s.t)("whiteboard.editor_file_create_button.template.plan")}}(e),icon:function(e){switch(e){case"meeting":return a.createElement(C.qA,null);case"brainstorm":return a.createElement(C.Wo,null);case"diagram":return a.createElement(C.eK,null);case"plan":return a.createElement(C.SA,null)}}(e),className:v.ym,optionHeight:26,callback:()=>{x[e]()}})),O=[{displayText:"Blank whiteboard",callback:L,className:v.ym,icon:a.createElement(C.K2,null),optionHeight:26},{separator:!0,displayText:""},{displayText:"Start from template",disabled:!0,className:v.ym,optionHeight:24},...N];return a.createElement(u.kH,{name:"Editor File Create Button"},a.createElement("div",{className:v.U7},a.createElement("div",{className:l()(v.ID,{[v.Oo]:m})},a.createElement("button",{className:l()(v.sq,{[v.oF]:!e,[v.Oo]:m}),onClick:I,"aria-label":(0,s.t)("whiteboard.editor_file_create_button.create_button_aria_label")},a.createElement("div",{className:v.Qz},a.createElement(s.Tx,{id:"sidebar.new_file"})),a.createElement("div",{className:v.MB,ref:o},a.createElement(c.A,{className:l()(v.KY,{[v.ue]:m}),svg:S.c}))),a.createElement(t,{items:O,showPoint:!0,lean:"center",minLeftMargin:-4,minWidth:164}))))}},718820:(e,t,n)=>{let a;n.d(t,{GZ:()=>r,_4:()=>c,kj:()=>s});var i=n(843148),o=n(590112),l=n(252416),r=((a=r||{}).SUMMARIZE="summarize",a.CLUSTER="cluster",a.TIDY_UP="tidy_up",a.WRAP_IN_SECTION="wrap_in_section",a);function c(){let e=[],t=(0,l.mE)(),n=(0,l.SQ)(),a=(0,l.ug)();return(0,i.Ub)().figjam_inline_menu_organize?(t&&((0,i.Ub)().figjam_sticky_clustering&&e.push({type:"cluster",enabled:a}),(0,i.Ub)().figjam_summarization&&e.push({type:"summarize",enabled:n})),e):[]}function s(){let e=c(),t=!(0,o.q6)();return!!((0,i.Ub)().figjam_inline_menu_organize&&t&&(!(e.length<=1)||e.find(e=>e&&("summarize"===e.type||"cluster"===e.type))))}},2076:(e,t,n)=>{n.d(t,{Mh:()=>c,WA:()=>r,s9:()=>s});var a=n(623131),i=n(883820);let o=(0,a.Zf)({type:"CLOSED"}),l=(0,a.Zf)(e=>e(o),(e,t,n)=>{t(o,n)}),r=(0,a.Zf)(e=>e(l));(0,a.Zf)(null,(e,t,n)=>{if(!n||!n.trim()){t(l,{type:"ALL"});return}t(l,{type:"SEARCH",searchQuery:n})}),(0,a.Zf)(null,(e,t)=>{t(l,{type:"ALL"})});let c=(0,a.Zf)(null,(e,t)=>{t(l,{type:"CLOSED"})}),s=(0,a.Zf)(null,(e,t)=>{(0,i.u)(()=>{t(c)}),t(l,{type:"ALL"})})},457956:(e,t,n)=>{n.d(t,{m:()=>c});var a=n(307824),i=n(125504),o=n.n(i),l=n(105516),r=n(698240);function c({title:e,onClose:t,badge:n,backButton:i,inputField:c,closeButtonInnerText:s}){return a.createElement(a.Fragment,null,a.createElement("div",{className:o()(r.cx.flex.itemsCenter.justifyBetween.py8.pr8.$,{[r.cx.pl8.$]:i,[r.cx.pl16.$]:!i})},a.createElement("div",{className:r.cx.flex.itemsCenter.gap4.$},i,a.createElement("div",{className:r.cx.font13.fontSemiBold.$},e)),a.createElement("div",{className:r.cx.flex.itemsCenter.gap4.$},n,a.createElement(l.CA,{onClick:t,innerText:s||"close"}))),c&&a.createElement("div",{className:r.cx.px16.pb20.$},c))}},985260:(e,t,n)=>{n.d(t,{U:()=>r});var a=n(307824),i=n(125504),o=n.n(i),l=n(698240);function r(){return a.createElement("div",{className:o()(l.cx.colorBorder.bSolid.bt1.$)})}},314520:(e,t,n)=>{n.d(t,{AT:()=>p,CC:()=>h,Gk:()=>b,Mh:()=>g,WA:()=>d,WE:()=>f,Yn:()=>m,eS:()=>y,nM:()=>E,s9:()=>_});var a=n(623131),i=n(762820),o=n(943596),l=n(883820),r=n(402468);let c=(0,a.Zf)({type:"CLOSED"}),s=(0,a.Zf)(e=>e(c),(e,t,n)=>{t(c,n),t(r.uM)}),d=(0,a.Zf)(e=>e(s)),u=(0,a.Zf)(null),m=(0,a.Zf)(e=>e(u)),p=(0,a.Zf)(e=>"CLOSED"!==e(d).type),_=(0,a.Zf)(null,(e,t,n)=>{(0,l.u)(()=>{t(g)}),t(s,{type:"ALL"}),t(u,n.source)}),g=(0,a.Zf)(null,(e,t)=>{e(o.y)&&i.eGU.closeTemplatePreview(),t(s,{type:"CLOSED"}),t(u,null)}),f=(0,a.Zf)(null,(e,t,n)=>{if(!n||!n.trim()){t(s,{type:"ALL"});return}t(s,{type:"SEARCH",searchQuery:n})}),h=(0,a.Zf)(null,(e,t)=>{t(s,{type:"ALL"})}),E=(0,a.Zf)(null,(e,t,{categoryId:n,fromAll:a=!1})=>{t(s,{type:"CATEGORY",categoryId:n,fromAll:a})}),b=(0,a.Zf)(null,(e,t)=>{t(s,{type:"CUSTOM_TEMPLATES"})}),y=(0,a.Zf)(null,(e,t)=>{t(s,{type:"ALL"})})},145732:(e,t,n)=>{n.d(t,{A:()=>o});var a=n(843148),i=n(888932);let o=()=>!i.CU&&(0,a.Ub)().figjam_templates_sidebar},234276:(e,t,n)=>{n.d(t,{_:()=>p,i:()=>_});var a=n(307824),i=n(120304),o=n(365224),l=n(372152),r=n(144459),c=n(90340),s=n(392992),d=n(251596),u=n(402468),m=n(314520);function p(){let e=(0,s.K0)(),t=(0,i.w1)(e=>e.fileVersion),n=(0,o.my)(u.y2);return(0,a.useCallback)((a,i)=>n({fileKey:e,fileVersion:t,template:a},i),[e,t,n])}function _(){let e=(0,l.m4)(m.Yn),t=(0,o.my)(m.Mh),n=(0,d.sX)(),s=(0,i.w1)(e=>{var t;return null==(t=e.openFile)?void 0:t.key});return(0,a.useCallback)(({isUserTriggered:a})=>{"newFile"===e&&(0,c.a2)({text:a?"Close auto-opened templates sidebar":"Close auto-opened templates sidebar implicit",trackingDescriptor:a?r.O.TEMPLATES_SIDEBAR_DISMISS:r.O.TEMPLATES_SIDEBAR_DISMISS_IMPLICIT,userId:n,fileKey:s}),t()},[t,e,n,s])}}}]);

//# debugId=450063d5-297d-5ebf-9c02-8c9a5a8841f8

//# sourceMappingURL=https://admin.figma.com/admin/webpack-artifacts/b84ade5d909058fab589d8d18c95f051fae27d70/1956-612345f10a2e1389.min.js.map