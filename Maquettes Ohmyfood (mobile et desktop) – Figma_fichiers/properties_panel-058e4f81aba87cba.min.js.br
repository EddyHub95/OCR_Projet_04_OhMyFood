
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="e98d21e3-5bf7-5f91-ad4a-a91682f39c07")}catch(e){}}();
(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([[6813],{56148:(e,t,n)=>{"use strict";n.d(t,{kX:()=>H,a0:()=>F,am:()=>D});var l=n(307824),r=n(120304),a=n(280584),i=n(43116),o=n(250008),s=n(570464),c=n(130176),p=n(557044),d=n(204792),u=n(703520),m=n(537096),h=n(968240),g=n(560072),E=n(317704),_=n(202732),y=n(282528),v=n(585508),f=n(762820),w=n(555168),S=n(833492),T=n(397888),b=n(142548),C=n(784528),k=n(644092),I=n(366612),P=n(526768),M=n(138884),N=n(679804),A=n(740718),O=n(24588),x=n(719112),R=n(824312),L=n(963300);function F(e){return l.createElement(c.u,{name:"live_object_panel"},l.createElement(O.sF,null,l.createElement(O.WA,{className:x.g5},l.createElement(O.w1,null,l.createElement("div",{className:"live_object_panel--title--9VTOA"},l.createElement(m.A,{svg:L.c}),l.createElement(g.Tx,{id:"fullscreen.live_object_panel.live_object"}))),l.createElement(B,{pasteSources:e.pasteSources,recordingKey:e.recordingKey}))))}async function K(e,t){for(let n=0;n<t;n++)try{let t=await p.cp.post(e,void 0,{responseType:"arraybuffer"});return new Uint8Array(t.data)}catch(e){console.error(e)}throw Error(`Failed to download bytes from ${e}`)}async function D(e,t,n){try{let e=[];for(let l of t)(0,o.we)("update_live_object",{...l}),l.srcFile?(e.push(K(`/api/file_proxy/file/${l.srcFile}/canvas?nodes_to_extract=${l.srcNode}&fv=${n}`,2).then(e=>{w.Pc.user("update-live-object-remote",()=>f.i46.updateLiveObject(e,l.nodeId,l.srcNode,l.srcFile))})),await Promise.all(e)):w.Pc.user("update-live-object-local",()=>f.i46.updateLiveObject(new Uint8Array,l.nodeId,l.srcNode,""))}catch(t){e(E.A.enqueue({message:(0,g.t)("fullscreen.live_object_panel.live_update_error"),error:!0}))}v.CA.triggerAction("commit"),e(E.A.enqueue({message:(0,g.t)("fullscreen.live_object_panel.live_update_success")}))}function H(e){let t=(0,r.OY)(),n=(0,T.ct)(),a=function(){let e=(0,P.i)("outline_navigate"),t=(0,k.aQ)();return l.useCallback(n=>{M.mo(),M.aN([n]);let l=v.CA.getViewportInfo();e((0,N.Qn)({nodeId:n,alwaysPan:!0,viewportRect:I.Y.fromOriginAndSize(l.x,l.y,l.width,l.height-l.y-t)}))},[t,e])}(),{pasteSources:i,liveUpdate:o,isLiveUpdating:c}=e,p=(0,r.w1)(e=>e.mirror.selectionProperties.resettableInstanceOverrides),u=(0,r.w1)(e=>e.mirror.appModel.keyboardShortcuts),m=!1;if(p){if(p.bubbledInstanceOverrides)m=!0;else for(let e of Object.values(p.selectionOverrides))if(e){m=!0;break}}return l.createElement(l.Fragment,null,l.createElement(d.g.Option,{onClick:()=>{if(1!==i.length)return;let e=i[0];e.srcFile?t((0,_.gd)({rawInput:`${window.location.origin}/file/${e.srcFile}?node-id=${e.srcNode}`})):a(e.srcNode)},disabled:1!==i.length,recordingKey:s.Mx(e,"goToOriginal"),key:"goToOriginal"},l.createElement(g.Tx,{id:"fullscreen.live_object_panel.go_to_original"})),l.createElement(d.g.Option,{disabled:!m,onClick:()=>{let e=i.map(e=>e.nodeId);w.Pc.user("reset-instance-overrides",()=>f.i46.resetSymbolOverridesForNodes(e,f.EdD.OVERRIDES_FOR_LAYER_AND_SUBLAYERS)),v.CA.commit()},recordingKey:s.Mx(e,"resetAllChanges"),key:"resetAllChanges"},l.createElement(g.Tx,{id:"fullscreen.live_object_panel.reset_all_changes"})),l.createElement(d.g.Option,{onClick:()=>o(i),disabled:c,recordingKey:s.Mx(e,"updateLiveObject-menu"),key:"updateLiveObject"},l.createElement(g.Tx,{id:"fullscreen.live_object_panel.update_live_object"})),l.createElement(d.g.Separator,{key:"divider"}),l.createElement(d.g.Option,{className:"live_object_panel--menuOption--MSmCN",onClick:()=>{let e=[];for(let t of i){let l=n.get(t.nodeId);l&&(e.push(t.nodeId),l.clearPasteSource())}w.Pc.user("detach-instances",()=>f.i46.detachInstances(e)),v.CA.commit()},recordingKey:s.Mx(e,"detachFromLive"),key:"detachFromLive"},l.createElement(g.Tx,{id:"fullscreen.live_object_panel.detach_from_live"}),l.createElement("span",{className:"live_object_panel--shortcut--hBzZv"},(0,C.O0)(u,"detach-instance"))))}function B(e){let{pasteSources:t}=e,n=(0,r.OY)(),{showing:o,toggle:c}=(0,S.s)("live-object-dropdown"),p=(0,r.w1)(e=>e.fileVersion),[d,m]=l.useState(!1),E=l.useRef(null),_=s.Mx(e,"updateLiveObject"),v=s.Mx(e,"liveObjectMenu"),f=l.useCallback(async e=>{m(!0),await D(n,e,p),m(!1)},[p,n]);return l.createElement(l.Fragment,null,d?l.createElement(u.M7,{className:"live_object_panel--spinner--iQ62Q",altIcon:R.c}):l.createElement(a.w,{as:"button",onClick:()=>f(t),onMouseDown:y.Ii,"data-tooltip-type":b.wL.TEXT,"data-tooltip":(0,g.t)("fullscreen.live_object_panel.update_live_object"),"aria-label":(0,g.t)("fullscreen.live_object_panel.update_live_object"),recordingKey:_},l.createElement(h.e,{fix_me_removeThisPropAndProvideUI3Icon:!0,svg:R.c})),l.createElement("div",{ref:E},l.createElement(O.KM,{selected:o,onClick:c,onMouseDown:y.Ii,className:"live_object_panel--iconButton--vrVs2","data-tooltip-type":b.wL.TEXT,"data-tooltip":(0,g.t)("fullscreen.live_object_panel.live_object_options"),recordingKey:v},l.createElement(i.g,null))),o&&(E.current?l.createElement(A.Mx,{targetRect:E.current.getBoundingClientRect(),propagateCloseClick:!0},l.createElement(H,{pasteSources:t,liveUpdate:f,isLiveUpdating:d,recordingKey:v})):null))}},996784:(e,t,n)=>{"use strict";let l,r,a,i,o;n.r(t),n.d(t,{PropertiesPanel:()=>uP});var s=n(307824),c=n(125504),p=n.n(c),d=n(250008),u=n(721500),m=n(843148),h=n(87975),g=n(455200),E=n(329956),_=n(570464),y=n(326660),v=n(58908),f=n(234284),w=n(130176),S=n(228028),T=n(762056),b=n(76236),C=n(991312),k=n(338408);function I(e){return(0,b.a_)()?s.createElement(P,{...e}):s.createElement(s.Fragment,null,e.children)}function P({name:e,trackingEnabled:t,alsoTrack:n,children:l}){let r=(0,S.i)(n),a=(0,b.MJ)({name:e,trackingEnabled:t,alsoTrackRef:r,isNamespace:!1,autoTrackable:!1}),{trackablePath:i}=a,o=(0,b._2)(()=>(0,b.O_)(i));(0,b.WG)(i,o);let c=(0,T.S2)(T.YP.trackableDebug);return l=(0,k.Y)({children:l,isDebugMode:c,name:e,color:"green",depth:i.length,getAlsoTrackedProperties:o}),s.createElement(C.k.Provider,{value:a},s.createElement("div",{style:{display:"contents"},"data-trackable-name":e},l))}var M=n(103839),N=n(675695),A=n(102184),O=n(71556),x=n(537096),R=n(240228),L=n(4596),F=n(560072),K=n(907236),D=n(37864),H=n(340628),B=n(560900),G=n(753432),V=n(441388),W=n(282528),U=n(417184),Y=n(585508),z=n(762820),Z=n(979144),X=n(300711),Q=n(138884),q=n(540696),j=n(655068),$=n(312452),J=n(939540),ee=n(291336),et=n(879396),en=n(608072),el=n(784528),er=n(187044),ea=n(602216),ei=n(120304),eo=n(880448);function es(e){return s.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},s.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M15 18.5a.5.5 0 0 0 1 0v-6.55a2.5 2.5 0 0 0 0-4.9V5.5a.5.5 0 0 0-1 0v1.55a2.5 2.5 0 0 0 0 4.9v6.55Zm-1-9a1.5 1.5 0 1 0 3 0 1.5 1.5 0 0 0-3 0Zm-6-4a.5.5 0 0 1 1 0v6.55a2.5 2.5 0 0 1 0 4.9v1.55a.5.5 0 0 1-1 0v-1.55a2.5 2.5 0 0 1 0-4.9V5.5Zm-1 9a1.5 1.5 0 1 1 3 0 1.5 1.5 0 0 1-3 0Z",clipRule:"evenodd"}))}var ec=n(515724),ep=n(204792),ed=n(968240),eu=n(403132),em=n(323576),eh=n(142548),eg=n(525064),eE=n(308568),e_=n(740718),ey=n(809896),ev=n(633008);function ef({ref:e,onTextChange:t,text:n}){let[l,r]=(0,s.useState)(!1),a=(0,ev.m)(e);return(0,s.useLayoutEffect)(()=>void(null==t||t()),[t,n]),(0,s.useLayoutEffect)(()=>{var t;r(!!(t=e.current)&&t.clientWidth<t.scrollWidth)},[e,a,n]),l}function ew(e){let{containerClassName:t,isHTMLString:n,onExpandCallback:l,text:r}=e,a=s.useMemo(()=>n?(0,ey.u)(r):r,[n,r]),[i,o]=s.useState(!1),c=s.useRef(null),p=ef({ref:c,onTextChange:s.useCallback(()=>o(!1),[]),text:a}),d=s.useCallback(()=>{l?l(!i):o(!i)},[i,l]),u=i?"Show less":"Show more";return s.createElement("div",{className:`${t} expandable_text_container--container--fauZM`},s.createElement("div",{ref:c,className:i?"":"expandable_text_container--truncatedText--Zh19Y ellipsis--ellipsis--Tjyfa"},a),p&&s.createElement("div",{className:"expandable_text_container--toggleToExpandPrompt--y9zk9",onClick:d},u))}var eS=n(51976),eT=n(922120),eb=n(886420),eC=n(594192),ek=n(131748),eI=n(555168),eP=n(491776),eM=n(757056),eN=n(63236),eA=n(277716),eO=n(24588);let ex="rich_text_asset_description_input--quillInput--w9zzt";function eR({description:e,isViewOnly:t,placeholder:n,onBlur:l,onSubmit:r}){let a=s.useCallback(e=>{e.stopPropagation()},[]);return t&&""===e?null:s.createElement(eO.WA,{className:"rich_text_asset_description_input--textRow--JlCKa component_controls_picker--inputRow--piRyG sf_pro--uiFontWithSFProFallback--m-p9V",onMouseDown:a,onPointerDown:a},s.createElement("div",{className:t?"rich_text_asset_description_input--labelViewOnly--EBSZ9 rich_text_asset_description_input--label--U3bKd":"rich_text_asset_description_input--label--U3bKd"},s.createElement(F.Tx,{id:"design_systems.component_panel.description"})),s.createElement("div",{className:t?"rich_text_asset_description_input--quillInputViewOnly--Q329g":ex},t?s.createElement(eA.C,{fallback:null,errorFallback:null,quillClassName:"rich_text_asset_description_input--readOnlyEditor--wT16t",value:e}):s.createElement(eN.c,{fallback:null,errorFallback:null,bounds:`.${ex}`,debounceMs:1e3,flushOnBlur:!0,onBlur:l,mountBehavior:"focus",onInputChange:r,placeholder:n,defaultValue:e})))}function eL(e){let{description:t,isViewOnly:n,onSubmitDescription:l}=e,r=(0,q.Er)(t),a=eF(t),i=_.AJ("componentDescriptionText","submit",e=>{e!==eF(t)&&(0===(0,ey.u)(e).trim().length?l(""):l(e))}),o=s.useCallback(()=>{Y.CA.commit()},[]);return s.createElement(eR,{description:a,isViewOnly:n,placeholder:r?(0,F.t)("design_systems.component_panel.description_mixed"):(0,F.t)("design_systems.component_panel.description_placeholder"),onBlur:o,onSubmit:i})}function eF(e){return(0,q.Er)(e)?(0,F.t)("design_systems.component_panel.description_mixed"):e}var eK=n(824740),eD=n(577824);let eH=/^\w+:/;function eB(e){let{links:t,onSubmitLinks:n}=e,[l,r]=s.useState(null),a=s.useCallback(e=>e.keyCode===h.as.ENTER&&!e.shiftKey&&(e.currentTarget.blur(),!0),[]),i=s.useCallback(e=>{r(e.target.value)},[r]),{inputRef:o,inputProps:{onChange:c,onFocus:p,onMouseUp:d,onMouseLeave:u,onKeyUp:m}}=(0,eK.y)({onChange:i}),g=null==t?void 0:t.find(e=>e),E=s.useCallback(()=>{if(null!==l){if(l.length<1){n([]),Y.CA.commit();return}n([{uri:l.match(eH)?l:`https://${l}`}]),Y.CA.commit(),r(null)}},[n,l,r]),y=_.vL(e),v=null===l?null==g?void 0:g.uri:l;return s.createElement(s.Fragment,null,s.createElement("div",{className:"documentation_link_input--label--ATBu1"},s.createElement(F.Tx,{id:"design_systems.component_panel.link"})),s.createElement(eO.WA,{className:"documentation_link_input--row--Ph7Ip component_controls_picker--inputRow--piRyG sf_pro--uiFontWithSFProFallback--m-p9V"},s.createElement(eD.y,{ref:o,key:"symbol-link",className:"documentation_link_input--documentationLink--3NlJC raw_components--textAreaInput--mi1Ag raw_components--base--T7G0z raw_components--input--JB4Ix raw_components--singleRowHeight--dKM4t raw_components--border--SKh2u ellipsis--ellipsis--Tjyfa",value:v||"",placeholder:(0,F.t)("design_systems.component_panel.link_to_documentation"),onFocus:p,onBlur:E,onChange:c,onKeyDown:a,onMouseUp:d,onMouseLeave:u,onKeyUp:m,recordingKey:y("componentSymbolLinks")})))}var eG=n(542660),eV=n(223224),eW=n(306892);let eU="component_link_display--linkWrapper--sxTXs";function eY({links:e}){let t=null==e?void 0:e[0];if(null==t)return null;let n=s.createElement(s.Fragment,null,s.createElement("div",{className:"component_link_display--favicon--BwLu-"},s.createElement(eV.S,{url:t.uri})),s.createElement("span",{className:"component_link_display--link--l6rH8"},t.uri));return s.createElement("div",{className:"component_link_display--wrapper--CLPXG"},s.createElement("div",{className:"component_link_display--header--fts8b"},s.createElement(F.Tx,{id:"design_systems.component_panel.link"})),(0,eW.a)(t.uri??"")?s.createElement(eG.c,{className:eU,trusted:!1,href:t.uri,target:"_blank"},n):s.createElement("div",{className:eU},n))}let ez="component-controls-picker",eZ="instance-controls-picker";function eX(e){return(null==e?void 0:e.id)===ez||(null==e?void 0:e.id)===eZ}var eQ=n(888632),eq=n(309328),ej=n(148276),e$=n(698240);function eJ(){let e=(0,ei.w1)(e=>{var t;let n=(0,eM.Er)(e)??"";return(null==(t=e.mirror.sceneGraph.get(n))?void 0:t.simplifyInstancePanels)??!1});return s.createElement("div",{className:e$.cx.bSolid.bt1.colorBorder.pt16.pb28.pl12.pr12.$},s.createElement(eQ.y,{checked:e,label:s.createElement(eq.i,null,(0,F.t)("design_systems.component_panel.simplify_instances")),onChange:()=>eI.Pc.user("simplify-instance-panels",()=>z.i46.setSimplifyInstancePanels(!e)),recordingKey:"simplifyInstancePanelsCheckbox","data-testid":"simplify-instance-panels-checkbox"},s.createElement(F.Tx,{id:"design_systems.component_panel.simplify_instances_help_text"}),s.createElement(s.Fragment,null,"\xa0",s.createElement(ej.Gy,{href:"https://help.figma.com/hc/articles/5579474826519-Explore-component-properties#simplified",target:"_blank",trusted:!0},s.createElement(F.Tx,{id:"general.learn_more"})))))}function e0(e){let{descriptionElement:t,menuType:n,description:l,links:r,pickerShown:a}=e,i=(0,ei.w1)(eS.wB),o=a.id===eZ,c=(0,ei.w1)(e=>"state-group"===n?[(0,eM.iu)(e)].filter(e=>null!=e):(0,eP.WQ)(e)),p=s.useCallback(e=>{eI.Pc.user("set-description",()=>{for(let t of c)t.setDescriptionRich(e)});let{componentKeys:t,updatedNodeIds:n}=e5(c);(0,d.we)("component description updated",{updatedNodeIds:n,componentKeys:t,isRichText:!0,length:e.length})},[c]),u=s.useCallback(e=>{for(let t of c)(0,eb.QZ)(t.symbolLinks,e)||(ek.qM.reportAnyPropertyChange(["symbolLinks"]),t.symbolLinks=e);let{componentKeys:t,updatedNodeIds:n}=e5(c);(0,d.we)("component links updated",{updatedNodeIds:n,componentKeys:t})},[c]),m=(null==a?void 0:a.id)===ez&&i!==z.MJr.STATE;return s.createElement(s.Fragment,null,s.createElement("div",{className:o?"component_controls_menu--descriptionContainerViewOnly--VAeo9 component_controls_menu--descriptionContainer--me8J2":"component_controls_menu--descriptionContainer--me8J2"},t,s.createElement(eL,{key:n,description:l,isViewOnly:o,onSubmitDescription:p,recordingKey:_.Mx(e,"componentDescriptionText")}),a.id===ez?s.createElement(eB,{links:r,onSubmitLinks:u}):s.createElement(eY,{links:r})),m&&s.createElement(eJ,null))}function e5(e){let t=e.map(e=>e.guid),n=t.map(e=>z.GqY.getAssetKeyForPublish(e)).filter(eC.aI).map(e=>e.toString());return{updatedNodeIds:t,componentKeys:n}}var e1=n(760780),e7=n(256896),e2=n(101040),e4=n(15416);function e8({children:e}){let t=(0,ei.OY)(),n=(0,ei.w1)(e=>e.pickerShown),l=(0,ei.w1)(e=>e.mirror.sceneGraph),r=(0,e4._k)(),a=(0,eT.Gu)(),i=null==a?void 0:a.find(e=>e),o=new M.Cg(null==n?void 0:n.initialX,null==n?void 0:n.initialY);(0,e1.u)(()=>{let e=(null==n?void 0:n.id)===eZ,t=(0,e7.gN)(null==i?void 0:i.uri),a=null==r?void 0:r.map(e=>(null==n?void 0:n.id)===ez?z.GqY.getAssetKeyForPublish(e):(null==n?void 0:n.id)===eZ?z.GqY.getAssetKeyForPublish((0,e7.xy)([e],l)??""):"").filter(eC.aI).map(e=>e.toString());(0,d.we)("Component documentation modal opened",{hostname:t,selectedNodeIds:r,componentKeys:a,isInstance:e})});let c=(null==n?void 0:n.id)===eZ?(0,F.t)("design_systems.component_panel.component_documentation"):(0,F.t)("design_systems.component_panel.component_controls");return s.createElement(e2.G0,{autoflowHeight:!0,headerSize:"small",initialPosition:o,initialWidth:320,onClose:()=>{t(K.U5())},scrollOverflow:!1,title:c},e)}var e6=n(954484),e3=n(618745);let e9=["component_set","selected_variant"],te={component_set:{displayName:()=>(0,F.t)("design_systems.component_panel.component_set"),icon:e6.c},selected_variant:{displayName:()=>(0,F.t)("design_systems.component_panel.selected_variant"),icon:e3.c}};function tt(e){var t;let{description:n,links:l,containingStateGroupDescription:r,containingStateGroupLinks:a,isViewOnly:i,recordingKey:o}=e,[c,p]=s.useState((t=l??[],!i||(0,q.Er)(n)||n.length>0||t.length>0?"selected_variant":"component_set")),d=!i||(n||(null==l?void 0:l.length))&&(r||(null==a?void 0:a.length)),u=_.AJ(o??"variantDocumentationMenu","changeTab",e=>p(e)),m=(0,ei.w1)(e=>e.pickerShown);return eX(m)?s.createElement(s.Fragment,null,!!d&&s.createElement("div",{className:"variant_documentation_menu--tabContainer--TDuq4",role:"tablist"},e9.map(e=>s.createElement(tn,{key:e,onSetSelectedTab:u,selectedTab:c,tabType:e}))),s.createElement("div",null,s.createElement(e0,{pickerShown:m,menuType:"selected_variant"===c?"selection":"state-group",description:"selected_variant"===c?n:r??"",links:"selected_variant"===c?l:a,recordingKey:_.Mx(e,"componentControlsMenu")}))):null}function tn({selectedTab:e,onSetSelectedTab:t,tabType:n}){let{displayName:l,icon:r}=te[n],a=s.useCallback(()=>t(n),[t,n]),i=s.useCallback(e=>{e.keyCode===h.as.ENTER&&t(n)},[t,n]);return s.createElement("span",{className:e===n?"variant_documentation_menu--tabActive--3IOzf variant_documentation_menu--_tabBase--cM6W3 text--fontPos11--2LvXf text--_fontBase--QdLsd":"variant_documentation_menu--tab--r9UJ6 variant_documentation_menu--_tabBase--cM6W3 text--fontPos11--2LvXf text--_fontBase--QdLsd",onClick:a,onKeyDown:i,key:n,role:"tab",tabIndex:0},s.createElement(x.A,{className:"variant_documentation_menu--tabIcon--f91ai",svg:r}),l())}function tl(e){let{description:t,containingStateGroupDescription:n,containingStateGroupLinks:l}=e,r=(0,ei.w1)(eS.wB),a=(0,ei.w1)(e=>e.pickerShown),i=(0,eT.Gu)();return eX(a)?s.createElement(e8,null,r===z.MJr.STATE||r===z.MJr.STATE_INSTANCE?s.createElement(tt,{description:t,links:i,containingStateGroupDescription:n,containingStateGroupLinks:l,isViewOnly:a.id===eZ,recordingKey:_.Mx(e,"variantDocumentationMenu")}):s.createElement(e0,{description:t,links:i,descriptionElement:n?s.createElement(s.Fragment,null,s.createElement(ew,{isHTMLString:!0,containerClassName:"component_controls_picker--stateGroupDescriptionContainer--ggLn7",text:n}),s.createElement("p",{className:"component_controls_picker--header--ELquL"},s.createElement(F.Tx,{id:"design_systems.component_panel.current_variant"}))):void 0,menuType:"selection",pickerShown:a,recordingKey:_.Mx(e,"componentControlsMenu")})):null}var tr=n(4580),ta=n(389160),ti=n(97007),to=n(840460),ts=n(486111),tc=n(170168);let tp="instance-property-preview-picker";function td(e){let t=(0,ei.OY)(),n=(0,ei.w1)(e=>e.pickerShown),l=(0,ei.w1)(tc.s1),r=(0,ei.w1)(eP.qs);if((null==n?void 0:n.id)!==tp)return null;let a=t=>{let n={};for(let e of t){let t=(0,e7.Ud)([e],r)||(0,e7.xy)([e],r);t&&(n[t]?n[t].push(e):n[t]=[e])}return Object.values(n).map(t=>s.createElement(ts.Al,{key:`bubbledInstancePreview.${t[0]}`,guids:t,instanceAndSublayerGUIDs:t,instanceNameDisplayOverride:to.mm.NAME_ONLY,containerWidth:e7.mK.WIDE,shouldHideInstanceTitleButtons:!0,propDimension:e7.C4.ASSIGNMENT,viewOnlyMode:ts.U7.ALL_PROPS,hideErrors:!0,recordingKey:e.recordingKey}))};return s.createElement(e2.G0,{title:(0,F.t)("design_systems.component_properties.instance_property_preview"),initialPosition:new M.Cg(n.initialX,n.initialY),initialWidth:304,headerSize:"small",onClose:()=>{t(K.U5())}},s.createElement("div",{className:"instance_property_preview_picker--container--pG-JM"},l.map((e,t)=>a(e))))}var tu=n(241645),tm=n(790184),th=n(725380),tg=n(474232),tE=n(494220);function t_(){let e=(0,ei.w1)(e=>e.library.local),t=(0,ei.w1)(eP.qg),n=s.useMemo(()=>{let n=new Set;for(let l of t){let t=(0,J.Ck)(l,e);t&&(t.type===tm.Af.COMPONENT||t.type===tm.Af.STATE_GROUP)&&!(0,J.Kw)(t)?n.add(t.node_id):t&&t.type===tm.Af.MODULE&&n.add(t.node_id)}return n},[e,t]),l=(0,ei.OY)(),r=s.useCallback(()=>{l(em.A5({type:tE.Ih,data:{initiallyCheckedItemIDs:n,entrypoint:th.yQ.PROPERTIES_PANEL}}))},[l,n]);return n.size?s.createElement(tg.W,{onClick:r},(0,F.t)("design_systems.component_panel.publish_new_changes")):null}var ty=n(184e3),tv=n(195260);function tf({description:e}){let t=s.useMemo(()=>(0,q.Er)(e)?"":(0,ey.u)(e),[e]),n=(0,ty._O)(ty.OA.READY);return""===t?null:n?s.createElement(tv._8,{label:null,input:s.createElement("div",{className:"asset_description_preview--ui3Description--s4mHd ellipsis--ellipsisAfter2Lines--Qo-Xh ellipsis--_ellipsisAfterNLines--LzI7k"},t)}):s.createElement(eO.WA,null,s.createElement("div",{className:"asset_description_preview--description--1Twh6 ellipsis--ellipsis--Tjyfa"},t))}var tw=n(473728);function tS({guid:e,value:t,canEdit:n,icon:l,editAction:r,interiorSvg:a,focusedInputOverridesClassName:i,unfocusedInputOverridesClassName:o}){let[c,d]=s.useState(t),{inputRef:u,inputProps:{onChange:m,onFocus:g,onMouseUp:E,onMouseLeave:_,onKeyUp:y}}=(0,eK.y)({onChange:function(e){d(e.target.value)}}),v=s.useRef(!1);return s.useEffect(()=>{d(t)},[t]),s.createElement(a?tb:tT,{inputRef:u,canEdit:n},n&&s.createElement(s.Fragment,null,l,s.createElement(eD.y,{dir:"auto",ref:u,className:p()(tw.Yh,i),onBlur:function(){v.current?v.current=!1:c!==t&&(ek.qM.reportEditAction(r),eI.Pc.user(r,()=>{Q.gc(e,c)}),Y.CA.commit())},onChange:m,onFocus:g,onKeyDown:function(e){var n,l;switch(e.keyCode){case h.as.ESCAPE:d(t),v.current=!0,null==(n=u.current)||n.blur();break;case h.as.ENTER:null==(l=u.current)||l.blur(),e.preventDefault()}},onMouseLeave:_,onMouseUp:E,onKeyUp:y,value:c})),s.createElement("div",{"aria-hidden":"true",className:p()(n?tw.Wp:tw.oi,o)},s.createElement("span",{className:tw.u8,dir:"auto"},t)))}function tT({children:e}){return s.createElement("div",{className:tw.uQ},e)}function tb({children:e,inputRef:t,canEdit:n}){return n?s.createElement("div",{className:tw.Sy,onClick:()=>{var e;return null==(e=t.current)?void 0:e.focus()},role:"textbox",tabIndex:0},e):s.createElement("div",{className:e$.cx.hFull.wFull.relative.$},e)}function tC(e){return 1>=(0,ei.w1)(e=>(0,eS.Yn)(e))?null:s.createElement(w.u,{name:"create_state_group_panel"},s.createElement(eO.sF,null,s.createElement(eO.WA,null,s.createElement(eO.w1,null,s.createElement(F.Tx,{id:"design_systems.states_panel.components"}))),s.createElement(tk,{...e})))}function tk(e){let t=(0,ei.w1)(e=>(0,eS.Yn)(e)),n=e=>{(0,d.we)("Creating Variant Component",{type:"Merge",numVariants:e}),Y.CA.triggerActionInUserEditScope("create-state-group")};return s.createElement(tg.W,{key:"merge-button",recordingKey:_.Mx(e,"mergeButton"),onClick:()=>n(t)},s.createElement(F.Tx,{id:"design_systems.states_panel.combine_as_variants"}))}var tI=n(719112);let tP="component_panel--titleButtons--R-kU7",tM="component_panel--componentControlsButton--O969g";var tN=n(122112),tA=n(290151);function tO(){return(0,tr.q)(e=>{let t=(0,eS.wB)(e),n=(0,eM.iu)(e);return{dropdownShown:e.dropdownShown,pickerShown:e.pickerShown,stateGroupSelectionMode:t,containingProductComponent:n,containingStateGroupDescription:t===z.MJr.STATE?null==n?void 0:n.description:void 0,containingStateGroupLinks:t===z.MJr.STATE?null==n?void 0:n.symbolLinks:void 0,componentDescription:(0,eM.gI)(e)}})}function tx(e){let t=(0,ei.OY)(),{dropdownShown:n,pickerShown:l}=tO(),r=s.useMemo(()=>(null==n?void 0:n.type)===e7.Yz,[n]),a=(null==l?void 0:l.id)===ez,i=tR(e);return s.useCallback(e=>{r&&t(eu.yi()),a?t(K.U5()):i(e,ez,320)},[a,r,t,i])}function tR(e){let t=(0,ei.OY)();return s.useCallback((n,l,r=eg.Yv)=>{if(!e)return;let a=ea.findDOMNode(e.current),i=(0,eg.cT)(a,r);t(K.is({id:l,initialX:i.x,initialY:i.y})),t(H.eO()),t(K.CI())},[t,e])}let tL=s.memo(function(e){let{pickerShown:t,stateGroupSelectionMode:n,containingProductComponent:l,containingStateGroupDescription:r,containingStateGroupLinks:a,componentDescription:i}=tO(),o=(0,ty._O)(ty.OA.READY),c=!!(0,ei.w1)(tc.s1).length,p=(0,ei.OY)(),d=s.useRef(null),u=e=>e.stopPropagation(),m=(null==t?void 0:t.id)===tp,h=tR(d),g=tx(d),E=s.useCallback(e=>{m?p(K.U5()):h(e,tp,304)},[p,m,h]),y=(0,ei.w1)(ti.sZ),v=(0,ei.w1)(ti.UF);return o&&n!==z.MJr.STATE?null:l||n!==z.MJr.NON_STATE_COMPONENTS?l&&l.isAlive()?s.createElement(eO.sF,{ref:d},s.createElement(eO.WA,{className:tI.g5},s.createElement(tF,null),s.createElement("span",{className:tP},n===z.MJr.STATE&&c&&s.createElement(tu.KM,{selected:(null==t?void 0:t.id)===tp,onClick:E,onMouseDown:u,"data-tooltip-type":eh.wL.TEXT,"data-tooltip":(0,F.t)("design_systems.component_properties.instance_property_preview"),svg:tN.c,recordingKey:"instancePropertyPreviewButton"}),s.createElement(tu.KM,{className:tM,selected:(null==t?void 0:t.id)===ez,onClick:g,onMouseDown:u,"data-tooltip-type":eh.wL.TEXT,"data-tooltip":(0,F.t)("design_systems.component_panel.component_controls"),svg:tA.c,recordingKey:"componentControls"}))),s.createElement(tf,{description:i}),s.createElement(tl,{containingStateGroupDescription:r,containingStateGroupLinks:a,description:i,recordingKey:_.Mx(e,"componentControlsPicker")}),s.createElement(td,null),n===z.MJr.STATE&&s.createElement(ts.UV,{containerWidth:e7.mK.REGULAR,propDimension:e7.C4.DEFINITION,guids:[l.guid],recordingKey:e.recordingKey}),y&&v&&s.createElement(t_,null)):null:s.createElement(tC,{recordingKey:"createStateGroup"})});function tF({interiorSvg:e,alwaysShowParentComponent:t,svgOverride:n,focusedInputOverridesClassName:l,unfocusedInputOverridesClassName:r}){let{stateGroupSelectionMode:a,containingProductComponent:i}=tO();if(!i)return null;let o=a===z.MJr.STATE&&!t;return s.createElement(ta.g,{name:"component_title_control"},s.createElement(tS,{interiorSvg:e,guid:i.guid,value:o?(0,F.t)("design_systems.component_panel.current_variant"):i.name,canEdit:!o,icon:n??s.createElement(x.A,{svg:e6.c,className:tw.Kk}),editAction:"rename-component",focusedInputOverridesClassName:l,unfocusedInputOverridesClassName:r}))}var tK=n(165272),tD=n(853688),tH=n(755696),tB=((l=tB||{})[l.VERTICAL=0]="VERTICAL",l[l.MIDDLE_CHILD=1]="MIDDLE_CHILD",l[l.LAST_CHILD=2]="LAST_CHILD",l);function tG(e){let{lineConfiguration:t,hideLine:n,wideContainer:l}=e;return s.createElement("div",{className:l?"bubbled_props_line_styles--containerWide--csTgg bubbled_props_line_styles--container--XumJm":"bubbled_props_line_styles--container--XumJm"},!n&&s.createElement("div",{className:"bubbled_props_line_styles--lineContainer--pEgTS"},(()=>{switch(t){case 0:return s.createElement("div",{className:"bubbled_props_line_styles--vertical--pialf bubbled_props_line_styles--_line--Vhv8-"});case 1:return s.createElement(s.Fragment,null,s.createElement("div",{className:"bubbled_props_line_styles--middleChildVertical--PxRp- bubbled_props_line_styles--_childVertical--Y-Ypj bubbled_props_line_styles--_line--Vhv8-"}),s.createElement("div",{className:"bubbled_props_line_styles--middleChildHorizontal--ucsHZ bubbled_props_line_styles--_childHorizontal--3bRi7 bubbled_props_line_styles--_line--Vhv8-"}));case 2:return s.createElement(s.Fragment,null,s.createElement("div",{className:"bubbled_props_line_styles--lastChildVertical--83Los bubbled_props_line_styles--_childVertical--Y-Ypj bubbled_props_line_styles--_line--Vhv8-"}),s.createElement("div",{className:"bubbled_props_line_styles--lastChildHorizontal--kGsHC bubbled_props_line_styles--_childHorizontal--3bRi7 bubbled_props_line_styles--_line--Vhv8-"}))}})()),e.children)}let tV="bubbled_instances_list--instanceName--09LuV",tW="bubbled_instances_list--instanceNameWide---L338 bubbled_instances_list--instanceName--09LuV";var tU=n(830596);function tY(e){let{showUnbubbledPrimaryInstances:t,showNumHidden:n,wideContainer:l,scrollableContainer:r}=e,a=(0,ei.w1)(tc.We),i=e=>{eI.Pc.user("toggle-props-bubbled",()=>z.i46.togglePropsAreBubbled(e)),z.KEP.canvasViewState().temporarilyHoveredNodes.set([])},o=e=>{z.KEP.canvasViewState().temporarilyHoveredNodes.set(e)},c=()=>{z.KEP.canvasViewState().temporarilyHoveredNodes.set([])};return s.createElement("div",{className:p()({"bubbled_instances_list--scrollableContainer--ob0LQ":r})},null==a?void 0:a.map((r,a)=>{if(!t&&!r.isBubbled)return;let p=r.connectedGUIDs.slice(0).sort();return s.createElement(tD.g9,{className:"bubbled_instances_list--instanceSection--tLYN0",key:a,onMouseEnter:()=>o(r.connectedGUIDs),onMouseLeave:c,recordingKey:_.Mx(e,p[0])},s.createElement(tG,{lineConfiguration:tB.VERTICAL,hideLine:0===r.bubbledNestedInstances.length,wideContainer:l},t?s.createElement("div",{className:l?"bubbled_instances_list--checkboxContainerWide--Kdd3u bubbled_instances_list--checkboxContainer--qm3X7":"bubbled_instances_list--checkboxContainer--qm3X7"},s.createElement(tH.y,{label:r.name,checked:r.isBubbled,onChange:()=>{i(r.connectedGUIDs[0])},truncateLabel:{truncate:"line-clamp",lineClamp:2},recordingKey:_.Mx(e,"checkbox",p[0])}),n&&!!r.numHidden&&s.createElement("div",{className:"bubbled_instances_list--numHidden--fW-Sr"},s.createElement(F.Tx,{id:"design_systems.component_properties.num_hidden",num:r.numHidden}))):s.createElement(s.Fragment,null,s.createElement(x.A,{className:"bubbled_instances_list--instanceIcon--aRlGl",svg:tN.c}),s.createElement("p",{className:l?tW:tV},r.name),s.createElement(tu.wP,{className:"bubbled_instances_list--minusIcon--dY8i-",svg:tU.c,"data-tooltip-type":eh.wL.TEXT,"data-tooltip":(0,F.t)("design_systems.component_properties.unbubble_instance"),onClick:()=>{i(r.connectedGUIDs[0])},recordingKey:_.Mx(e,"unbubble",p[0])}))),r.bubbledNestedInstances.map((e,t)=>s.createElement("div",{key:t},s.createElement(tG,{lineConfiguration:t===r.bubbledNestedInstances.length-1?tB.LAST_CHILD:tB.MIDDLE_CHILD,wideContainer:l},s.createElement("div",{className:l?tW:tV},e.name)))))}))}function tz(){let e="bubbledPropsPicker",t=(0,ei.w1)(e=>e.pickerShown),n=(0,ei.OY)(),l=new M.Cg(null==t?void 0:t.initialX,null==t?void 0:t.initialY);return(null==t?void 0:t.id)!==e7.mG?null:s.createElement(e2.G0,{title:(0,F.t)("design_systems.component_properties.expose_nested_instances"),initialPosition:l,initialWidth:e7.iW,headerSize:"small",onClose:()=>{n(K.U5())},recordingKey:e},s.createElement("div",{className:"bubbled_props_picker--container--I6VX-"},s.createElement(tY,{showUnbubbledPrimaryInstances:!0,showNumHidden:!0,wideContainer:!0,scrollableContainer:!0,recordingKey:e})))}var tZ=n(877584),tX=n(823848);let tQ="props_panel--addButtonContainer--a58gi",tq="props_panel--addButton--jAtAX draggable_list--addButton--D0q--",tj="props_panel--dropdownRowWithIcon--03FtD",t$="props_panel--dropdownRowWithoutIcon--F8Ra-",tJ="props_panel--bubbledInstancesHeading--C26v2";var t0=n(446212),t5=n(186284),t1=n(876180);function t7({recordingKey:e}){let t=(0,ei.OY)(),{version:n}=(0,ec.qG)(),l="ui3"===n,r=(0,ei.w1)(eS.wB),a=(0,ei.w1)(eM.iu),i=!(0,ei.w1)(tX.M3),o=(0,ei.w1)(e=>!!e.dropdownShown&&e.dropdownShown.type===e7.Yz),c=(0,ei.w1)(e=>!!e.modalShown&&e.modalShown.type===tZ.u.type),{componentDescription:p}=tO(),d=(0,ty._O)(ty.OA.READY),u=(0,ei.w1)(e=>e.pickerShown),m=o||c||(null==u?void 0:u.id)===e7.mG,h=!!(0,ei.w1)(tc.s1).length,g=(0,ei.w1)(tc.We),E=!!(null==g?void 0:g.length),y=s.useRef(null),v=s.useRef(null),f=s.useCallback(e=>{u&&t(K.U5()),o?t(eu.yi()):t(eu.Qn({type:e7.Yz}))},[t,u,o]),w=s.useCallback(e=>{(0,e7.Mj)(a,!1,e,e7.AZ.ICON),t(em.A5({type:tZ.u,data:{propType:e}}))},[t,a]),S=s.useCallback(()=>{a&&(a.isLooseComponent?Y.CA.triggerActionInUserEditScope("create-state-group"):w(z.iUn.VARIANT))},[w,a]),T=s.useCallback(()=>{let e=ea.findDOMNode(v.current),n=e?(0,eg.cT)(e,e7.iW):{};t(K.is({id:e7.mG,initialX:null==n?void 0:n.x,initialY:null==n?void 0:n.y}))},[t]),b=[z.iUn.BOOL,z.iUn.INSTANCE_SWAP,z.iUn.TEXT];return a?s.createElement(eO.sF,{ref:v},s.createElement(l?t4:t2,{isPanelEmpty:i,isAddPropButtonSelected:m,hasBubbledInstances:h,stateGroupSelectionMode:r,selectAddPropOptionRef:y,toggleAddPropDropdown:f}),o&&y.current&&s.createElement(e_.Mx,{targetRect:y.current.getBoundingClientRect(),propagateCloseClick:!0},s.createElement(ep.g.Option,{disabled:!0,className:t$},s.createElement(F.Tx,{id:"design_systems.component_properties.create_new_property"})),s.createElement(ep.g.Option,{className:tj,onClick:S,recordingKey:_.Mx("openCreatePropModal",(0,e7.Mx)(z.iUn.VARIANT))},s.createElement(eE.C,null,s.createElement(ed.e,{svg:t5.c},s.createElement(eo.k,null))),s.createElement(F.Tx,{id:"design_systems.component_properties.across_variants"})),b.map(e=>s.createElement(ep.g.Option,{key:e,className:tj,onClick:()=>w(e),recordingKey:_.Mx("openCreatePropModal",(0,e7.Mx)(e))},s.createElement(eE.C,null,s.createElement(ed.e,{svg:(0,e7.st)(e)},(0,e7.o3)(e))),(0,e7.Mx)(e))),E&&s.createElement(s.Fragment,null,s.createElement(ep.g.Separator,null),s.createElement(ep.g.Option,{disabled:!0,className:t$},s.createElement(F.Tx,{id:"design_systems.component_properties.expose_nested_instances"})),s.createElement(ep.g.Option,{className:tj,onClick:T,recordingKey:"openBubbledPropPicker"},s.createElement(eE.C,null,s.createElement(ed.e,{fix_me_removeThisPropAndProvideUI3Icon:!0,svg:t0.c})),(0,F.t)("design_systems.component_properties.choose_instances")))),(null==u?void 0:u.id)===e7.mG&&s.createElement(tz,null),d&&!i?s.createElement(tf,{description:p}):null,s.createElement(ts.UV,{containerWidth:l?e7.mK.RESIZABLE_SIDEBAR:e7.mK.REGULAR,propDimension:e7.C4.DEFINITION,guids:[a.guid],recordingKey:e}),h&&s.createElement(s.Fragment,null,s.createElement("p",{className:tJ},(0,F.t)("design_systems.component_properties.bubbled_instances")),s.createElement(tY,{recordingKey:e}))):null}function t2({isPanelEmpty:e,isAddPropButtonSelected:t,hasBubbledInstances:n,stateGroupSelectionMode:l,selectAddPropOptionRef:r,toggleAddPropDropdown:a}){return s.createElement(eO.WA,{className:!e||t||n?void 0:"props_panel--panelHeaderRowFaded--r4klF draggable_list--panelHeaderRowFaded--kETRR"},s.createElement(eO.w1,{className:"props_panel--panelTitleText--i7WqG draggable_list--panelTitleText--SwKez"},s.createElement(F.Tx,{id:"design_systems.component_properties.properties"})),l!==z.MJr.STATE&&s.createElement("div",{ref:r,className:tQ},s.createElement(eO.KM,{className:tq,onClick:a,selected:t,onMouseDown:e=>e.stopPropagation(),"data-tooltip-type":eh.wL.TEXT,"data-tooltip":(0,F.t)("design_systems.component_panel.create_component_property"),svg:t1.c,recordingKey:"openCreatePropModalDropdown"})))}function t4({isPanelEmpty:e,isAddPropButtonSelected:t,hasBubbledInstances:n,stateGroupSelectionMode:l,selectAddPropOptionRef:r,toggleAddPropDropdown:a}){let{pickerShown:i,containingStateGroupDescription:o,containingStateGroupLinks:c,componentDescription:p}=tO(),d=s.useRef(null),u=tx(d),m=(0,ty._O)(ty.OA.READY),h=m?s.createElement(eO.KM,{selected:(null==i?void 0:i.id)===ez,onClick:u,onMouseDown:W.Ii,"data-tooltip-type":eh.wL.TEXT,"data-tooltip":(0,F.t)("design_systems.component_panel.component_controls"),recordingKey:"componentControls"},s.createElement(es,null)):void 0;return s.createElement(s.Fragment,null,s.createElement(tK.sJ,{ref:d,faded:e&&!t&&!n,titleTx:s.createElement(F.Tx,{id:"design_systems.component_properties.properties"}),leftIcon:h,rightIcon:l!==z.MJr.STATE?s.createElement("div",{ref:r,className:tQ},s.createElement(eO.KM,{className:tq,onClick:a,selected:t,onMouseDown:e=>e.stopPropagation(),"data-tooltip-type":eh.wL.TEXT,"data-tooltip":(0,F.t)("design_systems.component_panel.create_component_property"),svg:t1.c,recordingKey:"openCreatePropModalDropdown"})):void 0}),m&&s.createElement(tl,{containingStateGroupDescription:o,containingStateGroupLinks:c,description:p,recordingKey:"componentControlsPicker"}))}var t8=n(372077),t6=n(462144),t3=n(752640),t9=n(92072),ne=n(926920),nt=n(533852);function nn({initialPosition:e,styleNameInputPrefix:t,styleType:n,inheritStyleKeyField:l,recordingKey:r}){let a=(0,ei.OY)(),i=(0,ei.w1)(e=>e.mirror.selectedStyleProperties),o=(0,ei.w1)(e=>e.mirror.sceneGraphSelection),c=s.useRef(Object.keys(o).length>0),[p,d]=s.useState(!c.current&&void 0),u="ui3"===(0,ec.qG)().version,{styleRef:m,createStyle:h}=(0,t6.$)({inheritStyleKeyField:l,isCreatingFromSelection:c.current,trackingOptions:{styleType:n}}),g=_.Un(r,"submit",()=>{h(),a(K.U5()),a(K.CI()),a(H.eO())}),E=(0,ei.w1)(e=>{let t=e.mirror.selectedStyleProperties;switch(n){case"FILL":return t.fillPaints&&"length"in t.fillPaints&&t.fillPaints.length>0;case"GRID":return t.layoutGrids&&t.layoutGrids.length>0;case"EFFECT":return t.effects&&t.effects.length>0;default:return!0}});return i.styleType?s.createElement(t9.Oi.Provider,{value:t9.yS.CREATE_STYLE},s.createElement(e2.G0,{title:(e=>{switch(e){case"FILL":return(0,F.t)("design_systems.create_style.color");case"TEXT":return(0,F.t)("design_systems.create_style.text");case"EFFECT":return(0,F.t)("design_systems.create_style.effect");case"EXPORT":return(0,F.t)("design_systems.create_style.export");case"GRID":return(0,F.t)("design_systems.create_style.grid");default:return(0,F.t)("design_systems.create_style.create_new_style_generic")}})(i.styleType),headerSize:"small",initialWidth:ne.C,initialPosition:e,onClose:()=>a(H.eO()),recordingKey:_.Mx("createStyleModal"),dragHeaderOnly:!0},s.createElement("div",{className:nt.aq},s.createElement(t3.C,{type:i.styleType,recordingKey:"createStyleModal",styleNameInputPrefix:t,isInspectPanel:!1,selectedStyleProperties:i,showProperties:p,onEnterPressed:g}),!m&&s.createElement("div",{className:"create_style_modal--errorMessage--8ZpFE"},s.createElement(F.Tx,{id:"design_systems.create_style.an_error_occurred_while_creating_the_style"})),s.createElement(t8.AutoLayout,{horizontalAlignItems:c.current?void 0:"end",verticalAlignItems:"center",spacing:c.current?"auto":void 0,padding:u?8:16},c.current&&s.createElement(eO.iM,{className:p?"create_style_modal--fadedShowMorePropertiesLabel--g8ydZ":"create_style_modal--showMorePropertiesLabel--mJpGe",onClick:()=>d(!p)},p?s.createElement(F.Tx,{id:"design_systems.create_style.hide_options"}):s.createElement(F.Tx,{id:"design_systems.create_style.show_more_options"})),s.createElement(ej.gV,{style:{justifySelf:"right"},onClick:g,disabled:!E||!m,tabIndex:0},s.createElement(F.Tx,{id:"design_systems.create_style.create_style"})))))):null}var nl=n(927976),nr=n(287540);function na(e){let t=(0,ei.OY)(),n=(0,L.MR)(e.selectedStyleProperties.guid),l="",r="",[a,i]=(0,nr.eM)((e,t)=>{let n=e.get(t);return[(null==n?void 0:n.name)||"",(null==n?void 0:n.styleDescription)||""]},n);return e.externalStyle?(l=e.externalStyle.name||"",r=e.externalStyle.description_rt?(0,ey.u)(e.externalStyle.description_rt):e.externalStyle.description||""):(0,L.MR)(e.selectedStyleProperties.guid)&&(l=a,r=(0,ey.u)(i)),s.createElement(t9.Oi.Provider,{value:t9.yS.EDIT_STYLE},s.createElement(t3.C,{type:e.selectedStyleProperties.styleType,recordingKey:e.recordingKey,onEnterPressed:()=>t(H.eO()),styleName:l,styleDescription:r,hideNameDescription:e.hideNameDescription,...e}))}var ni=n(877804),no=n(532164);function ns({recordingKey:e}){let t=(0,ei.OY)(),{version:n}=(0,ec.qG)(),l=(0,ei.w1)(eM.zz),r=!(0,ei.w1)(tX.M3),a=(0,ei.w1)(e=>!!e.dropdownShown&&e.dropdownShown.type===e7.Yz),i=(0,ei.w1)(e=>!!e.modalShown&&e.modalShown.type===tZ.u.type),o=(0,ei.w1)(e=>e.pickerShown),c=a||i||(null==o?void 0:o.id)===e7.mG,p=!!(0,ei.w1)(tc.s1).length,d=(0,ei.w1)(tc.We),u=!!(null==d?void 0:d.length),m=s.useRef(null),h=s.useRef(null),g=s.useCallback(()=>{o&&t(K.U5()),a?t(eu.yi()):t(eu.Qn({type:e7.Yz}))},[t,o,a]),E=s.useCallback(()=>{let e=ea.findDOMNode(h.current),n=e?(0,eg.cT)(e,e7.iW):{};t(K.is({id:e7.mG,initialX:null==n?void 0:n.x,initialY:null==n?void 0:n.y}))},[t]);return l&&u?s.createElement(eO.sF,{ref:h},s.createElement("ui3"===n?t4:t2,{isPanelEmpty:r,isAddPropButtonSelected:c,hasBubbledInstances:p,selectAddPropOptionRef:m,toggleAddPropDropdown:g,stateGroupSelectionMode:void 0}),a&&m.current&&s.createElement(e_.Mx,{targetRect:m.current.getBoundingClientRect(),propagateCloseClick:!0},s.createElement(ep.g.Option,{disabled:!0,className:t$},s.createElement(F.Tx,{id:"design_systems.component_properties.expose_nested_instances"})),s.createElement(ep.g.Option,{className:tj,onClick:E,recordingKey:"openBubbledPropPicker"},s.createElement(eE.C,null,s.createElement(ed.e,{fix_me_removeThisPropAndProvideUI3Icon:!0,svg:t0.c})),(0,F.t)("design_systems.component_properties.choose_instances"))),(null==o?void 0:o.id)===e7.mG&&s.createElement(tz,null),p&&s.createElement(s.Fragment,null,s.createElement("p",{className:tJ},(0,F.t)("design_systems.component_properties.bubbled_instances")),s.createElement(tY,{recordingKey:e}))):null}var nc=n(395168),np=n(532128);function nd(){return null}var nu=n(560528),nm=n(461016),nh=n(308264),ng=n(916924),nE=n(972920),n_=n(733960),ny=n(980068),nv=n(710956),nf=n(448604),nw=n(659436),nS=n(397888),nT=n(392992),nb=n(783932),nC=n(647567),nk=n(685656),nI=n(266724),nP=n(901676),nM=n(649496),nN=n(21036),nA=n(309812),nO=n(763456);let nx="styles--contextMenu--C-hVT",nR="styles--showOnRowHover--OUqRT",nL="styles--showOnSelectedRowHover--Lcf7e styles--showOnRowHover--OUqRT";function nF({childLeft:e,childRight:t,deleteSelectedItems:n,forceShowHoverBorder:l,hideStylePreview:r,index:a,inspectStyleSelected:i,isDragging:o,isEditable:c,isRenaming:p,level:d,name:u,nameRef:m,onChildLeftClick:g,onContextMenu:E,onCreateFolder:y,onDoubleClick:v,onHoverChange:f,onMouseDown:w,onMouseMove:S,recordingKey:T,rowRef:b,secondaryName:C,selected:k,selectedSecondary:I,stopRenamingItem:P,tooltipData:M}){let N=s.useRef(null),[A,O]=s.useState(u),[x,R]=s.useState(!1),L=(0,nA.Ci)(),F=s.useCallback(e=>{if(e){let t=ea.findDOMNode(e);t&&t.select()}},[]);s.useEffect(()=>{O(u)},[u]);let K=s.useCallback(e=>{""===e.trim()?(P(a,u),O(u)):P(a,e)},[a,u,P]),D=(0,_.ic)((0,_.Mx)(T,"text-input"),"change",s.useCallback(e=>{O(e.currentTarget.value)},[O])),H=(0,_.ag)((0,_.Mx)(T,"text-input"),"keydown",e=>{e.keyCode===h.as.ESCAPE?(P(a,u),O(u)):e.keyCode===h.as.ENTER&&K(e.currentTarget.value)},{recordMetadata:e=>({inputValue:e.currentTarget.value}),playbackMetadata:e=>({currentTarget:{value:e.inputValue}})}),B=(0,_.ag)(T,"keydown",e=>{c&&!p&&(e.keyCode===h.as.BACKSPACE||e.keyCode===h.as.DELETE)?n():c&&!p&&e.keyCode===h.as.G&&(0,h.Mr)(e)?(y(),e.preventDefault()):!p&&e.nativeEvent&&Y.CA.forwardKeyboardEvent(e.nativeEvent)}),G=s.useCallback(()=>{K(A)},[K,A]),V=(0,_.S4)(T,"contextmenu",e=>{E(e)}),U=(0,_.S4)(T,"mousemove",e=>{S(e)},{recordMetadata:e=>({bounds:e.currentTarget.getBoundingClientRect(),pageX:e.pageX,pageY:e.pageY}),playbackMetadata:e=>({currentTarget:{getBoundingClientRect:()=>e.bounds},pageX:e.pageX,pageY:e.pageY})}),z=(0,_.S4)(T,"mousedown",e=>{w(e),r()}),Z=(0,_.S4)(T,"mouseenter",s.useCallback(()=>{R(!0),null==f||f(!0)},[R,f])),X=s.useCallback(()=>{R(!1),null==f||f(!1)},[R,f]),Q=(0,_.S4)(T,"dblclick",s.useCallback(e=>{v(e)},[v])),q=Math.min((d-1)*3,18),j=nO.TvB-4-q,$=l||x&&!o;return s.createElement(nI.e,{className:I?"styles--rowSelectedSecondaryLightBlue--S-zy- draggable_list--rowSelectedSecondary--yOI1g raw_components--rowSelectedSecondary---U7Us raw_components--rowSelected--M2Eip styles--rowWithBorder--bphZ- styles--row--qsY-0":k?"styles--rowSelectedPrimary--Qpsa1 styles--rowWithBorder--bphZ- styles--row--qsY-0":$?"styles--rowWithHoveredBorder--0vgNj styles--rowWithBorder--bphZ- styles--row--qsY-0":"styles--rowWithBorder--bphZ- styles--row--qsY-0",dragging:o,hideGrabber:!0,onContextMenu:V,onKeyDown:B,onMouseDown:z,onMouseEnter:Z,onMouseLeave:X,onMouseMove:U,onDoubleClick:Q,ref:(0,nN.c)(N,b),selected:k,selectedSecondary:!1,tabIndex:0},q>0&&s.createElement("span",{style:{gridColumnEnd:`span ${q}`}}),s.createElement("div",{className:"styles--childLeftContainer--Hu61K",onMouseDown:g&&W.Ii,onClick:g},e),s.createElement("div",{className:p?"styles--rowContentsRenaming--oDTtO styles--rowContents--37JBy":"styles--rowContents--37JBy",key:u,style:{gridColumnEnd:`span ${x&&!p||i?j-(L?7:5):j}`}},p?s.createElement(eO.gf,{autoCapitalize:"off",autoCorrect:"off",autoFocus:!0,className:"styles--input--LbjR0",onBlur:G,onChange:D,onKeyDown:H,ref:F,spellCheck:!1,value:A}):s.createElement(s.Fragment,null,s.createElement("div",{className:"styles--name--KWZ8d ellipsis--ellipsis--Tjyfa",ref:m,...M},u),C&&s.createElement("div",{className:"styles--textStyle--DiUv4"},C))),t)}var nK=n(599628),nD=n(1196),nH=n(802956);function nB({deleteSelectedItems:e,folder:t,folderNameToNestUnder:n,hideStylePreview:l,index:r,isCollapsed:a,isDragging:i,isEditable:o,isRenaming:c,isTemporarilyExpanded:p,level:d,onContextMenu:u,onCreateFolder:m,onMouseDown:h,onMouseMove:g,onRenameItem:E,recordingKey:y,selected:v,selectedSecondary:f,stopRenamingItem:w,temporarilyExpandFolder:S,toggleFolder:T}){let b=(0,ei.OY)(),[C,k]=s.useState(!1),I=s.useRef(null),P=C&&!c&&o;s.useEffect(()=>{if(C&&i&&a){let e=setTimeout(()=>{S(t.name)},1e3);return()=>clearTimeout(e)}},[C,i,a,S,t]);let M=s.useCallback(()=>{var e;let n=(0,nM.Sg)(t.styleTypeSection),l=null==(e=I.current)?void 0:e.getBoundingClientRect();n&&l&&b(H.Mb({rowLeft:l.left,rowTop:l.top,styleType:t.styleTypeSection,styleNameInputPrefix:`${t.name}/`,inheritStyleKeyField:n}))},[I,t.name,t.styleTypeSection,b]);return s.createElement(nF,{deleteSelectedItems:e,forceShowHoverBorder:n===t.name,hideStylePreview:l,index:r,isDragging:i,isEditable:o,isRenaming:c,level:d,name:(0,nb.G4)(t.name),onChildLeftClick:function(){T(!a)},onContextMenu:u,onCreateFolder:m,onDoubleClick:function(){t.styleTypeSection&&E(t.name,!1,t.styleTypeSection)},onHoverChange:k,onMouseDown:h,onMouseMove:g,onRenameItem:E,recordingKey:y,selected:v,selectedSecondary:f,stopRenamingItem:w,rowRef:e=>{e&&(I.current=ea.findDOMNode(e))},childLeft:s.createElement(x.A,{svg:a&&!p?nD.c:nK.c,className:"styles--caret--DZmzh"}),childRight:P&&s.createElement(eO.qR,null,s.createElement(eO.wP,{className:v?nL:nR,recordingKey:_.Mx(y,"addButton"),"data-tooltip-type":eh.wL.TEXT,"data-tooltip":(0,F.t)("design_systems.styles.tooltips.create"),svg:t1.c,fallbackSvg:nH.c,onClick:M}))})}var nG=n(148812),nV=n(902848),nW=n(683965);function nU({deleteSelectedItems:e,hideStylePreview:t,index:n,isDragging:l,isEditable:r,isRenaming:a,level:i,onContextMenu:o,onCreateFolder:c,onInspectStyle:p,onMouseDown:d,onMouseMove:m,onRenameItem:h,recordingKey:g,selected:E,selectedSecondary:y,stopRenamingItem:v,dsStyle:f,stylePreviewShown:w,updateContextMenuStyleRef:S,updateSelection:T,updateFocusRowRef:b}){var C;let[k,I]=s.useState(!1),P=(0,ei.OY)(),M=s.useRef(null),N=s.useRef(null),A=s.useCallback(()=>{r&&h(f.node_id,!0,f.style_type)},[h,f.node_id,f.style_type,r]),O=w.isShown&&!w.isCreating&&w.style.node_id===f.node_id&&w.style.file_key===f.file_key,x=k&&!a||O,R=s.useCallback(function(){let e=N.current;if(e){let t=e.getBoundingClientRect();O?P(H.eO()):(P(H.G2({style:f,rowTop:t.top,rowLeft:t.left})),p(f),T({type:f.style_type,folderNames:new Set,styleIds:new Set(f.node_id)}))}P(K.U5())},[P,p,T,f,O]),L=s.useCallback(e=>{(2===e.button||e.ctrlKey)&&S(N.current),d(e),O&&R()},[R,d,O,S]),D=M.current,B=!!D&&D.offsetWidth<D.scrollWidth,G=s.useMemo(()=>!l&&f.description&&B?{"data-tooltip-type":eh.wL.SPECIAL,"data-tooltip":eh.oz.STYLE_INFO,"data-tooltip-style-name":(0,nb.G4)(f.name),"data-tooltip-style-description":f.description,"data-tooltip-max-width":nO.TvB*(0,u.I)(nO.ycA)}:null,[B,l,f.name,f.description]),V="TEXT"===f.style_type&&(null==(C=f.meta)?void 0:C.style_thumbnail)?f.meta.style_thumbnail:null;return s.createElement(nF,{deleteSelectedItems:e,hideStylePreview:t,index:n,inspectStyleSelected:O,isDragging:l,isEditable:r,isRenaming:a,level:i,name:(0,nb.G4)(f.name),nameRef:M,onContextMenu:o,onCreateFolder:c,onDoubleClick:A,onHoverChange:I,onMouseDown:L,onMouseMove:m,onRenameItem:h,recordingKey:g,rowRef:e=>{if(e){let t=ea.findDOMNode(e);b&&b(t),N.current=t}},secondaryName:V&&(0,nG.YP)(V,!0),selected:E,selectedSecondary:y,stopRenamingItem:v,tooltipData:G,childLeft:s.createElement(s.Fragment,null,s.createElement(nV.wv,{dsStyle:f,disableTooltip:!0}),E&&"FILL"===f.style_type&&s.createElement("div",{className:"styles--selectedRing--UniEc"})),childRight:x&&s.createElement(eO.qR,null,s.createElement("div",{style:{gridColumnEnd:"span 1"}}),s.createElement(tu.KM,{className:E?nL:nR,recordingKey:_.Mx(g,"customButton"),"data-tooltip-type":eh.wL.TEXT,"data-tooltip":r?(0,F.t)("design_systems.styles.edit_style"):(0,F.t)("design_systems.styles.view_style"),svg:nW.c,selected:O,onMouseDown:W.Ii,onClick:R}))})}function nY({styleType:e,children:t}){let n=!(0,nS.uc)("isReadOnly");return s.createElement("div",{className:"styles--styleTypeSection--jPjTq component_tiles--section--qMua7"},n?s.createElement(nz,{styleType:e,recordingKey:`style-section-header-${e}`}):s.createElement("div",{className:"styles--styleTypeSectionHeader--224lA component_tiles--sectionHeader--eEC6d raw_components--panelTitle--VAQQA"},(0,J.Yp)(e)),t)}function nz({styleType:e,recordingKey:t}){let[n,l]=s.useState(!1),r=(0,ei.OY)(),a=s.useRef(null),i=s.useCallback(()=>{var t;let n=(0,nM.Sg)(e),l=null==(t=a.current)?void 0:t.getBoundingClientRect();n&&l&&r(H.Mb({rowLeft:l.left,rowTop:l.top,styleType:e,inheritStyleKeyField:n}))},[a,e,r]);return s.createElement(tD.g9,{className:"styles--styleTypeSectionRow--wVTIO",onMouseEnter:()=>l(!0),onMouseLeave:()=>l(!1),recordingKey:t,forwardedRef:a},s.createElement(eO.iM,{className:"styles--styleTypeSectionRowLabel--PrKm-"},(0,J.Yp)(e)),n&&s.createElement(tu.wP,{className:"styles--styleTypeSectionRowButton--V4Co2 styles--showOnRowHover--OUqRT",recordingKey:_.Mx(t,"addButton"),"data-tooltip-type":eh.wL.TEXT,"data-tooltip":(0,F.t)("design_systems.styles.tooltips.create_style_from_section",{kind:(0,J.am)(e).toLowerCase()}),svg:t1.c,fallbackSvg:nH.c,onClick:i}))}nY.displayName="StyleTypeSection";var nZ=n(833492),nX=n(102628);let nQ=ep.g.Dropdown,nq=ep.g.Option,nj=ep.g.Separator,n$="styles-by-type-context-menu",nJ=.75*(0,u.I)(nO._gu);function n0({styleRowRef:e,onEditStyle:t,onRenameItem:n,onCreateFolder:l,onDeleteItems:r,onCutItems:a,onPasteItems:i,styleType:o}){let c=(0,nZ.g)(),p=(0,ei.w1)(e=>e.library.localStyleSelection),d=s.useMemo(()=>p&&p.type===o&&(null==c?void 0:c.type)===n$?(0,nX.ii)(p,c.data.uiList):[],[p,c,o]),u=s.useMemo(()=>(0,nX.sd)(d).map(e=>e.node_id),[d]),m=u.length;return c&&u.length?s.createElement(n5,{styleRowRef:e,selectedItems:d,numStyles:m,dropdownShown:c,onEditStyle:t,onRenameItem:n,onCreateFolder:l,onDeleteItems:r,onCutItems:a,onPasteItems:i}):s.createElement("div",null)}function n5({styleRowRef:e,selectedItems:t,numStyles:n,dropdownShown:l,onEditStyle:r,onRenameItem:a,onCreateFolder:i,onDeleteItems:o,onCutItems:c,onPasteItems:p}){var d;let u=(0,ei.OY)();s.useEffect(()=>(z.i46.computePastableStyleCount(),()=>{z.i46.clearPastableStyleCount()}),[]);let m=(0,ei.w1)(e=>e.mirror.appModel.pastableStyleCount),h=!!(null==(d=(0,nT.AL)())?void 0:d.canEdit),g=s.useCallback(()=>{if(!t.length||t[0].type!==tm.Af.STYLE)return;let n=t[0];if(e){let t=e.getBoundingClientRect();u(H.G2({style:n,rowTop:t.top,rowLeft:t.left})),u(K.U5())}r(n)},[u,t,r,e]),E=s.useCallback(()=>{if(!t.length||t[0].type===tm.Af.STYLE)return;let e=t[0];a(e.name,!1,e.styleTypeSection)},[a,t]);if(-1===m)return s.createElement("div",null);if(!h)return n>1?s.createElement("div",null):s.createElement(nQ,{style:l.data.position,className:nx},s.createElement(nq,{recordingKey:"edit-style-option",onClick:g},s.createElement(F.Tx,{id:"design_systems.styles.view_style"})));let _=1===n&&(t[0].type===tm.Af.STYLE?s.createElement(nq,{recordingKey:"edit-style-option",onClick:g},s.createElement(F.Tx,{id:"design_systems.styles.edit_style"})):s.createElement(nq,{recordingKey:"rename-folder-option",onClick:E},s.createElement(F.Tx,{id:"design_systems.styles.rename_folder"})));return s.createElement(nQ,{style:l.data.position,className:nx},s.createElement(nq,{recordingKey:"create-folder-option",onClick:i},s.createElement(F.Tx,{id:"design_systems.styles.add_new_folder"})),_,s.createElement(nq,{recordingKey:"delete-style-option",onClick:o},s.createElement(F.Tx,{id:"design_systems.styles.delete_styles",numStyles:n})),s.createElement(nj,null),s.createElement(nq,{recordingKey:"cut-style-option",onClick:c},s.createElement(F.Tx,{id:"design_systems.styles.cut_styles",numStyles:n})),!!m&&s.createElement(nq,{recordingKey:"paste-style-option",onClick:p},s.createElement(F.Tx,{id:"design_systems.styles.paste_styles",numStyles:m})))}var n1=n(272580);function n7(e){return s.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},s.createElement("path",{fill:"var(--color-icon)",d:"m6 16-.354-.354a.5.5 0 0 0-.146.355L6 16Zm.004 1.996h-.5a.5.5 0 0 0 .5.5v-.5Zm1.996 0v.5a.5.5 0 0 0 .353-.147L8 17.996Zm5.5-5.496.354-.354-.354.354Zm-2-2 .354-.354-.354.354ZM13 8l-.354.354.354.353.354-.353L13 8Zm3 3-.354-.353-.353.353.354.354L16 11Zm-3.01-3.01.353-.354-.353.354Zm1.02 5.02.354-.353-.354.353ZM5.5 16.001l.004 1.996 1-.003L6.5 16h-1Zm.504 2.495H8v-1H6.004v1Zm2.35-.147 5.5-5.495-.707-.708-5.5 5.496.706.707Zm5.5-6.203-2-2-.708.708 2 2 .708-.708Zm-2.708-2-5.5 5.5.708.708 5.5-5.5-.708-.708Zm-.51.197.51.51.707-.707-.51-.51-.707.708Zm3.728 2.314-.51-.51-.708.707.51.51.708-.707Zm1.98.707.02-.02-.708-.707-.02.02.708.707Zm-5.688-5.728-.02.02.707.708.02-.02-.707-.708Zm2.697.01-.01-.01-.707.707.01.01.707-.707Zm0 .708 2-2-.707-.708-2 2 .708.708Zm3.01 2.303-.01-.01-.707.707.01.01.708-.707Zm1.284-2.01-2 2 .707.707 2-2-.707-.708Zm0-2.293a1.62 1.62 0 0 1 0 2.292l.707.708a2.621 2.621 0 0 0 0-3.708l-.707.708Zm-6.283 1.99a.9.9 0 0 1 1.272 0l.707-.708a1.9 1.9 0 0 0-2.687 0l.707.707Zm5 5a1.9 1.9 0 0 0 0-2.687l-.708.707a.9.9 0 0 1 0 1.272l.708.708Zm-2.708.02a1.9 1.9 0 0 0 2.688 0l-.708-.707a.9.9 0 0 1-1.272 0l-.708.707Zm1.697-7.01a1.621 1.621 0 0 1 2.293 0l.708-.708a2.621 2.621 0 0 0-3.708 0l.707.708Zm-4.01 3.282a.9.9 0 0 1 0-1.272l-.707-.708a1.9 1.9 0 0 0 0 2.688l.707-.708Z"}))}var n2=n(543832),n4=n(305624),n8=n(855776),n6=n(80208),n3=n(89008),n9=n(654212);let le="local-style-creation-dropdown";function lt(){var e;let t=(0,ei.OY)(),n=(0,s.useContext)(t9.IP),l=!(0,nS.uc)("isReadOnly"),r=s.useRef(null),a=s.useRef(null),i=r.current,o=(0,nZ.g)(),c=(null==o?void 0:o.type)===le,p=null==(e=null==o?void 0:o.data)?void 0:e.targetRect,u="localStyleHeader",m=0===(0,ne.MV)().length,h=(0,ei.w1)(e=>e.stylePreviewShown.isShown&&e.stylePreviewShown.isCreating),g=s.useMemo(()=>p||(c&&i?i.getBoundingClientRect():null),[p,i,c]),E=()=>{t(eu.yi())},y=()=>{t(eu.Qn({type:le}))},v=e=>{e.stopPropagation(),t(H.wx());let n=r.current;c?E():n&&((0,d.we)("editor-local-styles-dropdown-show"),y())},f=e=>{var t;E();let l=(0,nM.Sg)(e),r=null==(t=a.current)?void 0:t.getBoundingClientRect();l&&r&&n({styleType:e,inheritStyleKeyField:l,rowLeft:r.left,rowTop:r.top})},w=m&&!c&&!h;return s.createElement(eO.WA,{className:w?"styles--panelHeaderRowFaded--pfgKz styles--panelHeaderRow--Kxqgo styles--styleTypeSectionRow--wVTIO draggable_list--panelHeaderRowFaded--kETRR":"styles--panelHeaderRow--Kxqgo styles--styleTypeSectionRow--wVTIO",forwardedRef:a},s.createElement(eO.w1,{className:"styles--panelTitleText--v7gXm draggable_list--panelTitleText--SwKez",onMouseDown:e=>w&&v(e),onClick:e=>e.stopPropagation()},s.createElement(F.Tx,{id:"design_systems.styles.local_styles"})),l&&s.createElement(s.Fragment,null,s.createElement(eO.wP,{svg:t1.c,fallbackSvg:nH.c,ref:r,onMouseDown:v,onClick:e=>e.stopPropagation(),className:c?"styles--stylesHeaderButtonHighlight--WTeWy raw_components--iconButtonSelected--bJibL raw_components--_iconButton---ybo6":"styles--stylesHeaderButton--jhpA5 draggable_list--addButton--D0q--","data-tooltip-type":eh.wL.TEXT,"data-tooltip":(0,F.t)("design_systems.create_style.create_style"),recordingKey:_.Mx(u,"addButton")}),c&&g&&s.createElement(e_.Mx,{targetRect:g,minWidth:128,disableDropdownScrollContainer:!0,propagateCloseClick:!0},J.Ky.map(e=>{let{icon:t,label:n}=function(e){switch(e){case"TEXT":return{icon:s.createElement(ed.e,{svg:n9.c},s.createElement(n1.A,null)),label:(0,F.t)("design_systems.styles.dropdown.text")};case"FILL":return{icon:s.createElement(ed.e,{svg:n6.c},s.createElement(n7,null)),label:(0,F.t)("design_systems.styles.dropdown.fill")};case"GRID":return{icon:s.createElement(ed.e,{svg:n3.c},s.createElement(n2.W,null)),label:(0,F.t)("design_systems.styles.dropdown.grid")};case"EFFECT":return{icon:s.createElement(ed.e,{svg:n8.c},s.createElement(n4.e,null)),label:(0,F.t)("design_systems.styles.dropdown.effect")};default:throw(0,ng.GE)(e),Error(`Invalid style type: ${e}`)}}(e),l=t=>{t.stopPropagation(),f(e)};return s.createElement(ep.g.Option,{key:e,className:"styles--createStyleDropdownRow--7iCXQ",onClick:l,onPointerUp:l,recordingKey:_.Mx(u,`dropdown-option-${e}`)},s.createElement(eE.C,null,t),n)}))))}let ln="collapsed-style-folders";function ll({scrollContainer:e,recordingKey:t}){let n=(0,ne.MV)(),l=(0,nS.uc)("isReadOnly");return 0===n.length&&l?null:s.createElement(w.u,{name:"local_styles_panel"},s.createElement(eO.sF,null,s.createElement(lr,{scrollContainer:e,recordingKey:t})))}function lr({scrollContainer:e,recordingKey:t}){let n=(0,ei.OY)(),l=(0,ei.w1)(e=>e.stylePreviewShown),r=(0,ei.w1)(e=>e.mirror.appModel.activeCanvasEditModeType),a=(0,ei.w1)(e=>e.mirror.appModel.currentTool),i=s.useRef(null),o=(0,ne.MV)(),c=(0,ei.w1)(e=>e.library.localStyleSelection),[p,u]=s.useState(null),[m,h]=s.useState(null),g=s.useRef(null),[E,y]=s.useState(!1),v=r===z.a_v.GRADIENT||r===z.a_v.RASTER||a===z.w3X.DROPPER_COLOR;s.useEffect(()=>{let e=()=>{!v&&(n(nf.A5(null)),l.isShown&&(n(H.eO()),z.i46.selectStyle(N.YT.INVALID,N.SI.INVALID)))},t=(0,W.Ce)();return t?window.addEventListener("pointerdown",e):window.addEventListener("mousedown",e),()=>{t?window.removeEventListener("pointerdown",e):window.removeEventListener("mousedown",e)}},[n,l.isShown,v]);let{stylesByType:f,foldersAndStylesByType:w}=s.useMemo(()=>{let e=(0,J.qS)(o),t=new Map;return J.Ky.map(n=>{let l=e.get(n);if(l){(0,J.QY)(l);let e=(0,nX.mY)(l,n),r=(0,nX.Q1)(e);t.set(n,r)}}),{stylesByType:e,foldersAndStylesByType:t}},[o]),S=s.useCallback(e=>{(0,ng.kz)(null!=e.content_hash,"style does not have a hash"),z.i46.selectStyleByGuid(e.node_id),n(nf.st({isRenaming:!1})),(0,d.we)("Style Inspected",{styleType:e.style_type,from:"styleListClick"})},[n]),T=s.useCallback((e,t,n)=>{u(t?e:null),h(t?null:{name:e,styleTypeSection:n})},[]),b=s.useCallback(e=>{if(!e){n(nf.A5(null));return}let t=new Set;e.styleIds.forEach(n=>{let l=o.find(e=>e.type===tm.Af.STYLE&&e.node_id===n);if(!l)return;let r=(0,nb.Mv)(l.name);e.folderNames.has(r)||t.add(n)});let l={type:e.type,folderNames:e.folderNames,styleIds:t};n(nf.A5(l))},[n,o]),C=s.useCallback((e,t,n)=>{if(!c)return;let l=e[t],r=(e,t)=>{let l=(0,nb.QZ)(e.name),r=null!=t?t:l.length-1;l[r]=n;let a=(0,nX.qw)(l.join("/"));eI.Pc.user("rename-style",()=>z.i46.renameNode(e.node_id,a))};if(l.name!==n){if(l.type===tm.Af.STYLE)r(l);else{(0,nX.C_)(t,e).forEach(t=>{let n=e[t];n.type===tm.Af.STYLE&&r(n,l.level-1)});let a=new Set(c.folderNames);a.delete(l.name);let i=(0,nb.Mv)(l.name)+"/"+n;a.add(i),b({type:c.type,folderNames:a,styleIds:c.styleIds})}}Y.CA.triggerAction("commit"),u(null),h(null)},[c,b]),k=s.useCallback((e,t)=>{t.preventDefault(),t.stopPropagation(),n(eu.Qn({type:n$,data:{uiList:e,position:{top:t.clientY,left:Math.min(t.clientX,window.innerWidth-nJ)}}}))},[n]),I=s.useCallback(e=>{g.current=e},[]),P=s.useCallback(()=>{y(!0)},[]),M=s.useCallback(()=>{y(!1)},[]);return s.createElement("div",{className:"styles--localStylesPanel--T4Gqs",ref:i},s.createElement(lt,null),J.Ky.map(n=>{let l=f.get(n);if(!l)return;let r=w.get(n);if(r)return s.createElement(la,{key:n,recordingKey:_.Mx(t,`style-section-${n}`),styleType:n,storedStyleList:l,styleList:r,updateSelection:b,isDragging:E,onDragStart:P,onDragEnd:M,onInspectStyle:S,onContextMenu:k,updateContextMenuStyleRef:I,renamingStyleID:p,renamingFolder:m,onRenameItem:T,stopRenamingItem:C,styleRowRef:g.current,onEditStyle:S,scrollContainer:e})}))}function la({styleType:e,storedStyleList:t,styleList:n,renamingStyleID:l,renamingFolder:r,onRenameItem:a,stopRenamingItem:i,onDragStart:o,onDragEnd:c,onInspectStyle:p,onContextMenu:d,updateContextMenuStyleRef:u,updateSelection:m,styleRowRef:h,scrollContainer:E,recordingKey:y}){let v=(0,nT.AL)(),f=!(0,nS.uc)("isReadOnly"),w=(0,ei.OY)(),S=(0,ei.w1)(e=>e.stylePreviewShown),T=(0,ei.w1)(t=>(0,nC.ob)(t,e)),b=(0,ei.w1)(t=>(0,nC.wF)(t,e,n)),[C,k]=s.useState(()=>{if(nP.Ez&&v){let t=JSON.parse(nP.Ez.getItem(ln)||"{}");if(v.key in t){let n=t[v.key];if(e in n)return new Set(n[e])}else t[v.key]={},nP.Ez.setItem(ln,JSON.stringify(t))}return new Set(n.filter(e=>"STYLE_FOLDER"===e.type).map(e=>e.name))}),[I,P]=s.useState([]),[M,A]=s.useState(null),[O,x]=s.useState(null),R=s.useMemo(()=>(0,nE.C)(()=>{w(nw.Mn({styleType:e}))},200),[w,e]);s.useEffect(()=>{R()},[R,n]);let L=(0,n_.i)(C);s.useEffect(()=>{if(!L||!nP.Ez||!v||(0,nv.Gk)(L,C))return;let t=JSON.parse(nP.Ez.getItem(ln)||"{}"),n=t[v.key];n&&(n[e]=[...C],nP.Ez.setItem(ln,JSON.stringify(t)))},[C,v,L,e]);let D=s.useCallback(e=>!!e&&"STYLE_FOLDER"===e.type,[]),B=s.useCallback((e,t)=>{let l=new Set(e),r=[];n.forEach((e,t)=>{if(l.has(e)&&(r.push(t),"STYLE_FOLDER"===e.type)){let e=(0,nX.C_)(t,n);r.push(...e)}});let a=new Set(r),i=t?n.indexOf(t):n.length,o=[...(0,g.ik)(i).filter(e=>!a.has(e)),...r,...(0,g.ik)(i,n.length).filter(e=>!a.has(e))],s=new Map;return o.forEach((e,t)=>{e!==t&&s.set(e,t)}),s},[n]),G=s.useCallback(()=>{S.isShown&&(w(H.eO()),w(K.U5()),z.i46.selectStyle(N.YT.INVALID,N.SI.INVALID))},[w,S.isShown]),V=s.useMemo(()=>{if(!M)return null;if("in"===M.type){let e=n[M.index];return e?{folderNameToNestUnder:e.name,dividerStyles:{display:"none"}}:null}if(null==M.index||null==O||!T)return null;let e=(0,nX.ii)(T,n),t=e[0],l=null,r=null;if(0===M.index?r=n[M.index]:M.index===n.length?l=n[M.index-1]:(l=n[M.index-1],r=n[M.index]),(null==l?void 0:l.type)==="STYLE_FOLDER"&&C.has(l.name)&&-1===I.indexOf(l.name))return{folderNameToNestUnder:l.name,dividerStyles:{display:"none"}};if((null==l?void 0:l.type)===tm.Af.STYLE){let e=(0,nb.Mv)(l.name).split("/");for(let n=0;n<e.length;n++){let l=e.slice(0,n+1).join("/");if(C.has(l)&&-1===I.indexOf(l)){if("STYLE_FOLDER"!==t.type)return{folderNameToNestUnder:l,dividerStyles:{display:"none"}};return{folderNameToNestUnder:(0,nb.Mv)(l),dividerStyles:{marginLeft:24*Math.min((0,nb.QZ)(l).length,8)-8}}}}}let a=0,i=null,o=l?(0,nX.aA)(l):0,s=r?(0,nX.aA)(r):0;if(o<=s)a=s,i=l?l.type===tm.Af.STYLE?(0,nb.Mv)(l.name):l.name:"";else if((0,ng.kz)(null!=l,"Dragging after an item that doesn't exist"),t.type===tm.Af.STYLE||O>=.5)a=o,i=(0,nb.Mv)(l.name);else{let e=Math.floor(O/.5*(0,nX.aA)(l));e=Math.max(s-1,e),i=(0,nb.QZ)((0,nb.Mv)(l.name)).slice(0,e).join("/"),a=e+1}let c={marginLeft:24*Math.min(a,8)-8};return l&&e.includes(l)||!(0,nX.aK)(l,t,r)?{folderNameToNestUnder:null,dividerStyles:c}:{folderNameToNestUnder:i,dividerStyles:c}},[C,O,T,M,n,I]),W=s.useCallback((l,r,a,i)=>{if(!t||!r&&!a||!V)return;let o=V.folderNameToNestUnder;if(null===o)return;let s=[],c=[];l.forEach(e=>{(0,nX.aK)(r,e,a,o)&&("STYLE_FOLDER"===e.type?c.push(e):s.push(e))});let p=s.concat(c);if(!p.length)return;let d=eI.Pc.user("reorder-styles",()=>(0,nX.YN)(p,r,a,o,n,t,i||!1)),u=new Set,h=new Set;p.forEach(e=>{let t=(0,nX.w5)(e),n=null==d?void 0:d.get(t);n&&("STYLE_FOLDER"===e.type?u.add(n):h.add(t))}),m({type:e,folderNames:u,styleIds:h});let g=new Set;return C.forEach(e=>{if(o.startsWith(e))return;let t=null==d?void 0:d.get(e);t?g.add(t):g.add(e)}),k(g),G(),i||Y.CA.triggerAction("commit"),B(p,a)},[m,C,V,B,G,t,n,e]),U=s.useCallback((e,t)=>{if("STYLE_FOLDER"!==t.type)return;let l=n.indexOf(t),r=(0,nX.GS)(t).filter(e=>(0,nb.Mv)(e.name)===t.name);if(!r.length)return W(e,t,n[l+1]);{let t=r[r.length-1],l=n.indexOf(t);return W(e,t,n[l+1])}},[W,n]),Z=(0,ny.ei)((e,t)=>{let l=new Map,r=t.map(e=>e.type===tm.Af.STYLE?e.node_id:e.name);return e.forEach(e=>{let a=r.indexOf(e);-1!==a&&(0,nX.C_)(a,n).forEach(e=>{let n=t[e],r="STYLE_FOLDER"===n.type?n.name:n.node_id,a=l.get(r);a||(a=0),l.set(r,a+1)})}),l}),X=s.useCallback(()=>{if(!T)return;let t=(0,nX.ii)(T,n);if(0===t.length)return;let l=t[0],r=n.indexOf(l),i=r,o=r+1;if(l.type===tm.Af.STYLE&&n[o]&&n[o].type===tm.Af.STYLE){let e=(0,nX.aA)(l);for(let t=r+1;t<n.length;t++){let l=n[t];if("STYLE_FOLDER"===l.type&&l.level===e||(0,nX.aA)(l)<e){i=t-1,o=t;break}t===n.length-1&&(i=t,o=t+1)}}W(t,n[i],n[o],!0);let s=(0,nb.Mv)(l.name),c=(0,F.t)("design_systems.create_style.untitled_folder");s&&(c=`${s}/${c}`);let p=(e,t)=>{if(e.type===tm.Af.STYLE){let n=c+"/"+t+(0,nb.G4)(e.name);eI.Pc.user("rename-style",()=>{z.i46.renameNode(e.node_id,n)})}else{let n=t+(0,nb.G4)(e.name)+"/";e.styles.forEach(e=>{p(e,n)}),e.subfolders.forEach(e=>{p(e,n)})}};t.forEach(e=>{p(e,"")}),m({type:e,folderNames:new Set([c]),styleIds:new Set}),a(c,!1,e)},[m,W,T,a,n,e]),Q=s.useCallback((e,t)=>{let l=n[e];"STYLE_FOLDER"===l.type&&k(e=>{let n=new Set(e);return t?n.add(l.name):n.delete(l.name),n})},[n]),q=s.useCallback((e,t)=>{k(l=>{let r=new Set(l),a=n[e];if("STYLE_FOLDER"===a.type){let e=(0,nb.Mv)(a.name),n=""===e?t:e+"/"+t;C.has(a.name)&&(C.delete(a.name),C.add(n)),(0,nX.U3)(a).forEach(e=>{if(C.has(e.name)){let t=e.name.replace(a.name,"");C.add(n+t),C.delete(e.name)}})}return r}),i(n,e,t)},[i,C,n]),j=s.useCallback(e=>{d(n,e)},[d,n]),$=s.useCallback((e,t,n)=>{A({index:e,type:n?"in":"before"}),x(t>.5?1:Math.round(1e3*t)/1e3)},[]),J=s.useCallback(()=>{k(e=>eI.Pc.user("delete-styles",()=>{let t=new Set(e);return(T?(0,nX.ii)(T,n):[]).forEach(e=>{"STYLE_FOLDER"===e.type?((0,nX.a)(e,(null==v?void 0:v.key)||null),C.delete(e.name),(0,nX.U3)(e).forEach(e=>C.delete(e.name))):(0,nX.mq)(e,(null==v?void 0:v.key)||null)}),t})),Y.CA.triggerAction("commit"),S.isShown&&(w(H.eO()),w(K.U5()),z.i46.selectStyle(N.YT.INVALID,N.SI.INVALID)),m(null)},[S.isShown,m,T,n,null==v?void 0:v.key,C,w]),ee=s.useMemo(()=>{let e=T?(0,nX.ii)(T,n):[];return(0,nX.sd)(e).map(e=>e.node_id)},[T,n]),et=s.useCallback(()=>{z.i46.cutStyles(ee)},[ee]),en=s.useCallback((e,t)=>{t===nk.Mi.PASTE?z.i46.pasteStyles():e.shouldPropagate=!0},[]);s.useEffect(()=>{if(!T)return;let e=e=>{e.target&&("INPUT"===e.target.tagName||"TEXTAREA"===e.target.tagName)||et()};return document.addEventListener("cut",e),()=>{document.removeEventListener("cut",e)}},[et,T]);let el=s.useCallback(()=>{z.i46.pasteStyles()},[]),er=s.useCallback(e=>{P(t=>[...t,e])},[]),ea=s.useCallback(()=>{o()},[o]),eo=_.S4(y,"ondragend",s.useCallback(()=>{A(null),x(null),P([]),c()},[c])),es=(0,n_.i)(T);s.useEffect(()=>{es!==T&&T&&k(e=>{let n=new Set(e);for(let e of T.styleIds.values()){let l=t.find(t=>t.node_id===e);if(!l)continue;let r=(0,nb.QZ)(l.name);for(let e=0;e<r.length;e++){let t=r.slice(0,e).join("/");n.delete(t)}}return n})},[T,es,t]);let ec=s.useRef(null),ep=s.useCallback(e=>{ec.current=e},[ec]),ed=s.useCallback((e,t,i,o,c,d)=>{let h="STYLE_FOLDER"===e.type?e.name:e.node_id,g=!1,E=!1;for(let t of I)if("STYLE_FOLDER"===e.type){if(e.name===t){E=!0;break}e.name.startsWith(t)&&(g=!0)}else if((0,nb.Mv)(e.name)===t){g=!0;break}if(!E&&!g&&Z(C,n).has(h))return null;if(e.type===tm.Af.STYLE){let n=(0,nX.aA)(e),r=null!=l&&l===e.node_id;return s.createElement(nU,{hideStylePreview:G,recordingKey:`style-row-${t}`,index:t,key:e.node_id,isDragging:o,dsStyle:e,selected:i,selectedSecondary:(null==b?void 0:b.styleIds.has(e.node_id))||!1,level:n,stylePreviewShown:S,onContextMenu:j,updateContextMenuStyleRef:u,updateFocusRowRef:i?ep:null,onMouseDown:c,onMouseMove:d,onInspectStyle:p,updateSelection:m,isEditable:f,deleteSelectedItems:J,isRenaming:r,onRenameItem:a,stopRenamingItem:q,onCreateFolder:X})}{let n=null!=r&&r.name===e.name&&r.styleTypeSection===e.styleTypeSection,l=(null==V?void 0:V.folderNameToNestUnder)||null;return s.createElement(nB,{recordingKey:`folder-section-${e.styleTypeSection}-row-${t}`,key:t,index:t,isDragging:o,folder:e,selected:i,selectedSecondary:(null==b?void 0:b.folderNames.has(e.name))||!1,isCollapsed:C.has(e.name),temporarilyExpandFolder:er,isTemporarilyExpanded:E,isRenaming:n,folderNameToNestUnder:l,onRenameItem:a,stopRenamingItem:q,level:e.level,toggleFolder:e=>Q(t,e),onContextMenu:j,onCreateFolder:X,onMouseDown:c,onMouseMove:d,isEditable:f,deleteSelectedItems:J,hideStylePreview:G})}},[m,C,J,null==V?void 0:V.folderNameToNestUnder,Z,G,j,X,p,a,r,l,null==b?void 0:b.folderNames,null==b?void 0:b.styleIds,q,n,S,er,I,Q,u,f,ep]),eu=s.useCallback(t=>{let l=new Set,r=new Set;t.forEach(e=>{let t=n[e];"STYLE_FOLDER"===t.type?l.add(t.name):r.add(t.node_id)}),m({type:e,folderNames:l,styleIds:r})},[m,n,e]),em=s.useMemo(()=>T?(0,nX.y4)(T,n):[],[T,n]),eh=s.useRef(),eg=s.useRef();return s.useEffect(()=>{eh.current&&em.length?(eh.current(),ec.current&&!ec.current.contains(document.activeElement)&&ec.current.focus()):eg.current&&!em.length&&(eg.current(),ec.current=null)},[eh,em,ec]),s.createElement(nh.Sg,{name:"StyleDraggableList",handleClipboard:en,focusFunctionRef:eh,blurFunctionRef:eg},s.createElement(nY,{styleType:e},s.createElement(li,{recordingKey:"style-draggable-list",listItems:n,onInsertItemsIn:U,canInsertItemsIn:D,onInsertItemsBetweenValues:W,onDrag:$,onDragStart:ea,onDragEnd:eo,insertDividerStyle:null==V?void 0:V.dividerStyles,selectedIndices:em,updateSelection:eu,renderListItem:ed,scrollContainer:E,isDragDisabled:!f}),s.createElement(n0,{styleRowRef:h,onDeleteItems:J,onCutItems:et,onPasteItems:el,onRenameItem:a,onEditStyle:p,onCreateFolder:X,styleType:e})))}class li extends nI.u{}var lo=n(192988),ls=n(784340),lc=n(478228);function lp(e){var t,n,l;return(null==(t=e.modalShown)?void 0:t.type)===lc.Y.type||(null==(l=null==(n=e.modalShown)?void 0:n.prevModal)?void 0:l.type)===lc.Y.type}function ld(){let e=(0,lc.s)(),t=(0,s.useCallback)(()=>{e()},[e]),n=(0,ei.w1)(lp),l=0===(0,ls.ML)().length&&!n;return s.createElement(w.u,{name:"local_variables_panel"},s.createElement(eO.sF,null,s.createElement(eO.WA,{className:l?"local_variables_panel--localVariablesPanelRowFaded--atToe local_variables_panel--localVariablesPanelRow--zR8nJ draggable_list--panelHeaderRowFaded--kETRR":"local_variables_panel--localVariablesPanelRow--zR8nJ"},s.createElement(eO.w1,{className:"local_variables_panel--titleText--7rdD7 draggable_list--panelTitleText--SwKez",onClick:t,"data-onboarding-key":"local-variables-panel-title"},s.createElement(F.Tx,{id:"variables.local_variables_panel.local_variables_title"})),s.createElement(ta.g,{name:"variables_modal_button"},s.createElement(tu.KM,{className:"local_variables_panel--openAuthoringModalButton--FiNXt draggable_list--addButton--D0q--",selected:n,recordingKey:(0,_.Mx)("localVariablesPanel","variablesModalButton"),"data-tooltip-type":eh.wL.TEXT,"data-tooltip":(0,F.t)("variables.local_variables_panel.open_variables_button_tooltip"),svg:nW.c,onClick:t})))))}var lu=n(280584),lm=n(43116),lh=n(883528),lg=n(563404),lE=n(507076),l_=n(530968),ly=n(552500),lv=n(657292),lf=n(960715),lw=n(966832),lS=n(14156),lT=n(29797),lb=n(704009),lC=n(515592),lk=n(899980),lI=n(954948),lP=n(378436),lM=n(258792),lN=n(47812),lA=n(971652),lO=n(962240),lx=n(473844),lR=n(136972),lL=n(825743),lF=n(966092),lK=n(353048),lD=n(98204),lH=n(410084),lB=n(488528),lG=n(183020),lV=n(230796),lW=n(824316),lU=n(503308),lY=n(914592),lz=n(207764),lZ=n(262852),lX=n(30596),lQ=n(208703),lq=n(559220),lj=n(429012);let l$={"align-top":lV.c,"align-vertical-center":lU.c,"align-bottom":lS.c,"align-left":lD.c,"align-horizontal-center":lF.c,"align-right":lB.c,"distribute-horizontal-spacing":ly.c,"distribute-vertical-spacing":lf.c,"arrange-as-list-Y":lq.c,"arrange-as-list-X":lX.c,"arrange-as-grid":lz.c,"align-top-as-group":lO.c,"align-vertical-center-as-group":lR.c,"align-bottom-as-group":lb.c,"align-left-as-group":lP.c,"align-horizontal-center-as-group":lk.c,"align-right-as-group":lN.c},lJ={"align-top":lW.c,"align-vertical-center":lY.c,"align-bottom":lT.c,"align-left":lH.c,"align-horizontal-center":lK.c,"align-right":lG.c,"distribute-horizontal-spacing":lv.c,"distribute-vertical-spacing":lw.c,"arrange-as-list-Y":lj.c,"arrange-as-list-X":lQ.c,"arrange-as-grid":lZ.c,"align-top-as-group":lx.c,"align-vertical-center-as-group":lL.c,"align-bottom-as-group":lC.c,"align-left-as-group":lM.c,"align-horizontal-center-as-group":lI.c,"align-right-as-group":lA.c},l0={"align-top":function(e){return s.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},s.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M10 17.25a.75.75 0 0 1-.75.75h-.5a.75.75 0 0 1-.75-.75v-8.5A.75.75 0 0 1 8.75 8h.5a.75.75 0 0 1 .75.75v8.5Zm5-4a.75.75 0 0 1-.75.75h-.5a.75.75 0 0 1-.75-.75v-4.5a.75.75 0 0 1 .75-.75h.5a.75.75 0 0 1 .75.75v4.5Z",clipRule:"evenodd"}),s.createElement("path",{fill:"var(--color-icon-tertiary)",d:"M17.5 6a.5.5 0 0 0 0-1h-12a.5.5 0 0 0 0 1h12Z"}))},"align-vertical-center":function(e){return s.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},s.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M10 6.75A.75.75 0 0 0 9.25 6h-.5a.75.75 0 0 0-.75.75v9.5c0 .414.336.75.75.75h.5a.75.75 0 0 0 .75-.75v-9.5Zm5 2a.75.75 0 0 0-.75-.75h-.5a.75.75 0 0 0-.75.75v5.5c0 .414.336.75.75.75h.5a.75.75 0 0 0 .75-.75v-5.5Z",clipRule:"evenodd"}),s.createElement("path",{fill:"var(--color-icon-tertiary)",fillRule:"evenodd",d:"M17.5 11a.5.5 0 0 1 0 1H15v-1h2.5ZM13 11h-3v1h3v-1Zm-7.5 0H8v1H5.5a.5.5 0 0 1 0-1Z",clipRule:"evenodd"}))},"align-bottom":function(e){return s.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},s.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M10 6.75A.75.75 0 0 0 9.25 6h-.5a.75.75 0 0 0-.75.75v8.5c0 .414.336.75.75.75h.5a.75.75 0 0 0 .75-.75v-8.5Zm5 4a.75.75 0 0 0-.75-.75h-.5a.75.75 0 0 0-.75.75v4.5c0 .414.336.75.75.75h.5a.75.75 0 0 0 .75-.75v-4.5Z",clipRule:"evenodd"}),s.createElement("path",{fill:"var(--color-icon-tertiary)",d:"M17.5 18a.5.5 0 0 1 0 1h-12a.5.5 0 0 1 0-1h12Z"}))},"align-left":function(e){return s.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},s.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M17.25 10a.75.75 0 0 0 .75-.75v-.5a.75.75 0 0 0-.75-.75h-8.5a.75.75 0 0 0-.75.75v.5c0 .414.336.75.75.75h8.5Zm-4 5a.75.75 0 0 0 .75-.75v-.5a.75.75 0 0 0-.75-.75h-4.5a.75.75 0 0 0-.75.75v.5c0 .414.336.75.75.75h4.5Z",clipRule:"evenodd"}),s.createElement("path",{fill:"var(--color-icon-tertiary)",d:"M6 17.5a.5.5 0 0 1-1 0v-12a.5.5 0 0 1 1 0v12Z"}))},"align-horizontal-center":function(e){return s.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},s.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M17.25 10a.75.75 0 0 0 .75-.75v-.5a.75.75 0 0 0-.75-.75h-9.5a.75.75 0 0 0-.75.75v.5c0 .414.336.75.75.75h9.5Zm-2 5a.75.75 0 0 0 .75-.75v-.5a.75.75 0 0 0-.75-.75h-5.5a.75.75 0 0 0-.75.75v.5c0 .414.336.75.75.75h5.5Z",clipRule:"evenodd"}),s.createElement("path",{fill:"var(--color-icon-tertiary)",fillRule:"evenodd",d:"M13 17.5a.5.5 0 0 1-1 0V15h1v2.5Zm0-4.5v-3h-1v3h1Zm-1-7.5V8h1V5.5a.5.5 0 0 0-1 0Z",clipRule:"evenodd"}))},"align-right":function(e){return s.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},s.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M6.75 10A.75.75 0 0 1 6 9.25v-.5A.75.75 0 0 1 6.75 8h8.5a.75.75 0 0 1 .75.75v.5a.75.75 0 0 1-.75.75h-8.5Zm4 5a.75.75 0 0 1-.75-.75v-.5a.75.75 0 0 1 .75-.75h4.5a.75.75 0 0 1 .75.75v.5a.75.75 0 0 1-.75.75h-4.5Z",clipRule:"evenodd"}),s.createElement("path",{fill:"var(--color-icon-tertiary)",d:"M18 17.5a.5.5 0 0 0 1 0v-12a.5.5 0 0 0-1 0v12Z"}))},"distribute-horizontal-spacing":function(e){return s.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},s.createElement("path",{fill:"var(--color-icon-tertiary)",d:"M6 5.5a.5.5 0 0 1 1 0v12a.5.5 0 0 1-1 0v-12Z"}),s.createElement("path",{fill:"var(--color-icon)",d:"M12.25 15a.75.75 0 0 0 .75-.75v-5.5a.75.75 0 0 0-.75-.75h-.5a.75.75 0 0 0-.75.75v5.5c0 .414.336.75.75.75h.5Z"}),s.createElement("path",{fill:"var(--color-icon-tertiary)",d:"M17 5.5a.5.5 0 0 1 1 0v12a.5.5 0 0 1-1 0v-12Z"}))},"distribute-vertical-spacing":function(e){return s.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},s.createElement("path",{fill:"var(--color-icon-tertiary)",d:"M18.5 6a.5.5 0 0 1 0 1h-12a.5.5 0 0 1 0-1h12Z"}),s.createElement("path",{fill:"var(--color-icon)",d:"M9 12.25c0 .414.336.75.75.75h5.5a.75.75 0 0 0 .75-.75v-.5a.75.75 0 0 0-.75-.75h-5.5a.75.75 0 0 0-.75.75v.5Z"}),s.createElement("path",{fill:"var(--color-icon-tertiary)",d:"M18.5 17a.5.5 0 0 1 0 1h-12a.5.5 0 0 1 0-1h12Z"}))},"arrange-as-list-Y":function(e){return s.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},s.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M5 6.75A.75.75 0 0 1 5.75 6h11.5a.75.75 0 0 1 .75.75v.5a.75.75 0 0 1-.75.75H5.75A.75.75 0 0 1 5 7.25v-.5Zm0 5a.75.75 0 0 1 .75-.75h11.5a.75.75 0 0 1 .75.75v.5a.75.75 0 0 1-.75.75H5.75a.75.75 0 0 1-.75-.75v-.5ZM5.75 16a.75.75 0 0 0-.75.75v.5c0 .414.336.75.75.75h11.5a.75.75 0 0 0 .75-.75v-.5a.75.75 0 0 0-.75-.75H5.75Z",clipRule:"evenodd"}))},"arrange-as-list-X":function(e){return s.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},s.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M6.75 18a.75.75 0 0 1-.75-.75V5.75A.75.75 0 0 1 6.75 5h.5a.75.75 0 0 1 .75.75v11.5a.75.75 0 0 1-.75.75h-.5Zm5 0a.75.75 0 0 1-.75-.75V5.75a.75.75 0 0 1 .75-.75h.5a.75.75 0 0 1 .75.75v11.5a.75.75 0 0 1-.75.75h-.5Zm4.25-.75c0 .414.336.75.75.75h.5a.75.75 0 0 0 .75-.75V5.75a.75.75 0 0 0-.75-.75h-.5a.75.75 0 0 0-.75.75v11.5Z",clipRule:"evenodd"}))},"arrange-as-grid":function(e){return s.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},s.createElement("path",{fill:"var(--color-icon)",d:"M5 5h3v3H5zm10 0h3v3h-3zm-5 0h3v3h-3zm-5 5h3v3H5zm10 0h3v3h-3zm-5 0h3v3h-3zm-5 5h3v3H5zm10 0h3v3h-3zm-5 0h3v3h-3z"}))},"align-top-as-group":function(e){return s.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},s.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M10 15.25a.75.75 0 0 1-.75.75h-.5a.75.75 0 0 1-.75-.75v-6.5A.75.75 0 0 1 8.75 8h.5a.75.75 0 0 1 .75.75v6.5Zm5-4a.75.75 0 0 1-.75.75h-.5a.75.75 0 0 1-.75-.75v-2.5a.75.75 0 0 1 .75-.75h.5a.75.75 0 0 1 .75.75v2.5Z",clipRule:"evenodd"}),s.createElement("path",{fill:"var(--color-icon)",d:"M17.5 6a.5.5 0 0 0 0-1h-12a.5.5 0 0 0 0 1h12Z"}),s.createElement("path",{stroke:"var(--color-icon-tertiary)",strokeLinecap:"round",d:"M5.5 8.5v8.25c0 .414.336.75.75.75h10.5a.75.75 0 0 0 .75-.75V8.5"}))},"align-vertical-center-as-group":function(e){return s.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},s.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M18 11.5a.5.5 0 0 0-.5-.5H15V9.75a.75.75 0 0 0-.75-.75h-.5a.75.75 0 0 0-.75.75V11h-3V7.75A.75.75 0 0 0 9.25 7h-.5a.75.75 0 0 0-.75.75V11H5.5a.5.5 0 0 0 0 1H8v3.25c0 .414.336.75.75.75h.5a.75.75 0 0 0 .75-.75V12h3v1.25c0 .414.336.75.75.75h.5a.75.75 0 0 0 .75-.75V12h2.5a.5.5 0 0 0 .5-.5Z",clipRule:"evenodd"}),s.createElement("path",{stroke:"var(--color-icon-tertiary)",strokeLinecap:"round",d:"M5.5 14.5v2.25c0 .414.336.75.75.75h10.5a.75.75 0 0 0 .75-.75V14.5m0-6V6.25a.75.75 0 0 0-.75-.75H6.25a.75.75 0 0 0-.75.75V8.5"}))},"align-bottom-as-group":function(e){return s.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},s.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M10 7.75A.75.75 0 0 0 9.25 7h-.5a.75.75 0 0 0-.75.75v6.5c0 .414.336.75.75.75h.5a.75.75 0 0 0 .75-.75v-6.5Zm5 4a.75.75 0 0 0-.75-.75h-.5a.75.75 0 0 0-.75.75v2.5c0 .414.336.75.75.75h.5a.75.75 0 0 0 .75-.75v-2.5Z",clipRule:"evenodd"}),s.createElement("path",{fill:"var(--color-icon)",d:"M17.5 17a.5.5 0 0 1 0 1h-12a.5.5 0 0 1 0-1h12Z"}),s.createElement("path",{stroke:"var(--color-icon-tertiary)",strokeLinecap:"round",d:"M17.5 14.5V6.25a.75.75 0 0 0-.75-.75H6.25a.75.75 0 0 0-.75.75v8.25"}))},"align-left-as-group":function(e){return s.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},s.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M17.25 10a.75.75 0 0 0 .75-.75v-.5a.75.75 0 0 0-.75-.75h-8.5a.75.75 0 0 0-.75.75v.5c0 .414.336.75.75.75h8.5Zm-4 5a.75.75 0 0 0 .75-.75v-.5a.75.75 0 0 0-.75-.75h-4.5a.75.75 0 0 0-.75.75v.5c0 .414.336.75.75.75h4.5Z",clipRule:"evenodd"}),s.createElement("path",{fill:"var(--color-icon)",d:"M6 17.5a.5.5 0 0 1-1 0v-12a.5.5 0 0 1 1 0v12Z"}),s.createElement("path",{stroke:"var(--color-icon-tertiary)",strokeLinecap:"round",d:"M8.5 5.5h10.25a.75.75 0 0 1 .75.75v10.5a.75.75 0 0 1-.75.75H8.5"}))},"align-horizontal-center-as-group":function(e){return s.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},s.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M12.5 18a.5.5 0 0 0 .5-.5V15h2.25a.75.75 0 0 0 .75-.75v-.5a.75.75 0 0 0-.75-.75H13v-3h4.25a.75.75 0 0 0 .75-.75v-.5a.75.75 0 0 0-.75-.75H13V5.5a.5.5 0 0 0-1 0V8H7.75a.75.75 0 0 0-.75.75v.5c0 .414.336.75.75.75H12v3H9.75a.75.75 0 0 0-.75.75v.5c0 .414.336.75.75.75H12v2.5a.5.5 0 0 0 .5.5Z",clipRule:"evenodd"}),s.createElement("path",{stroke:"var(--color-icon-tertiary)",strokeLinecap:"round",d:"M15.5 5.5h3.25a.75.75 0 0 1 .75.75v10.5a.75.75 0 0 1-.75.75H15.5m-6 0H6.25a.75.75 0 0 1-.75-.75V6.25a.75.75 0 0 1 .75-.75H9.5"}))},"align-right-as-group":function(e){return s.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},s.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M6.75 10A.75.75 0 0 1 6 9.25v-.5A.75.75 0 0 1 6.75 8h8.5a.75.75 0 0 1 .75.75v.5a.75.75 0 0 1-.75.75h-8.5Zm4 5a.75.75 0 0 1-.75-.75v-.5a.75.75 0 0 1 .75-.75h4.5a.75.75 0 0 1 .75.75v.5a.75.75 0 0 1-.75.75h-4.5Z",clipRule:"evenodd"}),s.createElement("path",{fill:"var(--color-icon)",d:"M18 17.5a.5.5 0 0 0 1 0v-12a.5.5 0 0 0-1 0v12Z"}),s.createElement("path",{stroke:"var(--color-icon-tertiary)",strokeLinecap:"round",d:"M15.5 17.5H5.25a.75.75 0 0 1-.75-.75V6.25a.75.75 0 0 1 .75-.75H15.5"}))}};var l5=n(284548);let l1=parseInt("6px"),l7=["align-left","align-horizontal-center","align-right","align-top","align-vertical-center","align-bottom"],l2=["align-left-as-group","align-horizontal-center-as-group","align-right-as-group","align-top-as-group","align-vertical-center-as-group","align-bottom-as-group"],l4=["tidy-up","distribute-vertical-spacing","distribute-horizontal-spacing"],l8=s.memo(function(e){let t=(0,s.useRef)(null),[n,l]=(0,s.useState)(!1),[r,a]=function(){let[e,t]=(0,s.useState)(!1);return[e,{onMouseEnter:()=>t(!0),onMouseLeave:()=>t(!1)}]}(),i=(0,s.useCallback)(e=>{l(e.altKey||e.shiftKey)},[]);(0,s.useEffect)(()=>{function e(){l(!1)}return document.addEventListener("keydown",i),document.addEventListener("keyup",i),window.addEventListener("blur",e),()=>{document.removeEventListener("keydown",i),document.removeEventListener("keyup",i),window.removeEventListener("blur",e)}},[i]);let o=(0,lg.Al)(l2),c=function(e){let[t,n]=(0,s.useState)(0);return(0,s.useLayoutEffect)(()=>{n(rr(e.current))},[e]),(0,ev.m)(e,(0,s.useCallback)(()=>{n(rr(e.current))},[e])),t}(t),p=Math.floor(c/(24+l1));p*(24+l1)+24<=c&&++p;let[d,u]=function({visibleActionCount:e,renderGroupAlignButtons:t}){let{version:n}=(0,ec.qG)(),l=t?l2:l7,r=[],a=[];if("ui2"===n)r=l,a=l4;else{let t=[...l,...l4];t.length>e?(r=t.slice(0,e-1),a=t.slice(e-1)):r=t}return[r,a]}({visibleActionCount:p,renderGroupAlignButtons:n&&r&&o});return s.createElement(w.u,{name:"align_panel"},s.createElement(eO.sF,{className:(0,et.Wi)()?void 0:"align_panel--panel--hOaKr",onMouseMove:e=>i(e.nativeEvent),...a},s.createElement(l6,{ref:t},d.map(t=>s.createElement(rn,{key:t,action:t,recordingKey:e.recordingKey})),u.length>0&&s.createElement(l3,{actions:u,recordingKey:e.recordingKey}))))}),l6=s.forwardRef(function(e,t){let{version:n}=(0,ec.qG)();return"ui3"===n?s.createElement("div",{ref:t,className:"align_panel--flexibleRow--5gjUF"},e.children):s.createElement(eO.WA,{forwardedRef:t},e.children)});function l3(e){let t=(0,nZ.s)("FULLSCREEN_DISTRIBUTE_DROPDOWN"),n=(0,s.useRef)(null),{version:l}=(0,ec.qG)(),r=(0,ty._O)(),a=(0,lg.Oo)(e.actions),i=r?(0,F.t)("fullscreen.properties_panel.tooltip_moreActions"):(0,F.t)("fullscreen.properties_panel.align_panel.more_options");return s.createElement(s.Fragment,null,s.createElement(ta.g,{name:"toggle_align_options_button"},s.createElement(lu.w,{actionOnPointerDown:t.showing,ref:n,"aria-label":i,onClick:()=>{t.toggle({data:{targetRect:n.current.getBoundingClientRect()}})},disabled:"ui2"===l&&!a,recordingKey:_.Mx(e,"distributeDropdown"),"data-tooltip-type":eh.wL.TEXT,"data-tooltip":i},"ui2"===l?s.createElement("span",{className:"align_panel--dropdownIconHack--7hoNm"},s.createElement(rl,null),s.createElement(x.A,{svg:l5.c,className:"align_panel--ui3IconColorCompat--51gei"})):s.createElement(rl,null))),t.showing&&s.createElement(ta.g,{name:"dropdown"},s.createElement(e_.Mx,{targetRect:t.data.targetRect,propagateCloseClick:!0},e.actions.map(t=>s.createElement(l9,{key:t,action:t,recordingKey:e.recordingKey})))))}function l9(e){let{action:t}=e,n=(0,lg.mY)(t),l=(0,ei.w1)(e=>e.mirror.appModel.keyboardShortcuts);return s.createElement(eE.w,{text:(0,lh.W)(t),isEnabled:n,hideCheck:!0,isChecked:!1,onClick:()=>{Y.CA.triggerActionInUserEditScope(t,"tidy-up"===t?{source:"panel"}:null)},key:t,shortcut:(0,el.O0)(l,t),recordingKey:_.Mx(e,"distributeDropdown",t)},s.createElement(re,{action:t}))}function re({action:e}){if("tidy-up"===e)return s.createElement(rt,null);let t=l0[e];return s.createElement(ed.e,{svg:l$[e],fallbackSvg:lJ[e]},t&&s.createElement(t,null))}function rt(){let e=(0,lE.A9)("detectableListAxis"),t=(0,lg.mY)("arrange-as-grid")?"arrange-as-grid":`arrange-as-list-${(0,q.uc)(e,"Y")}`,n=l0[t];return s.createElement(ed.e,{svg:l$[t],fallbackSvg:lJ[t]},n&&s.createElement(n,null))}function rn(e){let t=(0,lg.mY)(e.action),n=(0,l_.e)();return s.createElement(ta.g,{name:"align_button",alsoTrack:()=>({alignButtonAction:e.action})},s.createElement(lu.w,{as:"button",disabled:!t,onClick:()=>{Y.CA.triggerActionInUserEditScope(e.action)},onMouseDown:e=>{(null==n?void 0:n.id.startsWith("paint"))&&e.stopPropagation()},"data-tooltip-type":eh.wL.LOOKUP,"data-tooltip":e.action,"data-tooltip-max-width":"200",recordingKey:_.Mx(e,"alignButton",e.action),key:e.action,"aria-label":e.action},s.createElement(re,{action:e.action})))}function rl(){let{version:e}=(0,ec.qG)(),t=(0,lg.mY)("tidy-up");return"ui3"===e?s.createElement(lm.g,null):s.createElement(re,{action:t?"tidy-up":"distribute-vertical-spacing"})}function rr(e){let t=getComputedStyle(e);return parseInt(t.width)-parseInt(t.paddingLeft)-parseInt(t.paddingRight)}var ra=n(917076),ri=n(238152),ro=n(513568),rs=n(219868),rc=n(969060),rp=n(240908);function rd({showLibrarySets:e,recordingKey:t}){let n=(0,ei.OY)(),l=(0,nZ.g)(),r=s.useRef(null),a=s.useCallback(()=>{r.current&&n(eu.Qn({type:rc.Iv,data:{targetRect:r.current.getBoundingClientRect()}}))},[n]),i=l&&l.type===rc.Iv;return(0,rs.v9)(e)?s.createElement(s.Fragment,null,s.createElement("div",{ref:r},s.createElement(tu.KM,{recordingKey:_.Mx(t,"applyMode"),selected:!!i,svg:rp.c,dataTestId:"applyModeButton","data-tooltip-type":eh.wL.TEXT,"data-tooltip":(0,F.t)("variables.layer_panel.header.button.tooltip"),onMouseDown:e=>e.stopPropagation(),onClick:a})),s.createElement(rc.oT,{showLibrarySets:e,recordingKey:_.Mx(t,"applyModeDropdown")})):null}var ru=n(372152),rm=n(768516),rh=n(23124),rg=n(293580),rE=n(513252),r_=n(824312);function ry({recordingKey:e}){let t=(0,ru.m4)(rm.En);return(0,rs.kd)()&&!(0,m.Ub)().ds_variables_relax_modes&&t?s.createElement(rf,{recordingKey:e}):null}let rv="VARIABLES_INCOMPATIBLE_MODES_UPDATE_DROPDOWN";function rf({recordingKey:e}){let t=(0,ei.OY)(),n=(0,nZ.g)(),l=s.useRef(null),r=n&&n.type===rv,a=s.useCallback(()=>{l.current&&t(eu.Qn({type:rv,data:{targetRect:l.current.getBoundingClientRect()}}))},[t]),i=s.useCallback(()=>{t(em.A5({type:rg._A,data:{initialTab:tm.Er.UPDATES,entrypoint:rh.Yj.VARIABLE_MODES_ACCEPT_UPDATES_DROPDOWN_OPTION}}))},[t]);return s.createElement(s.Fragment,null,s.createElement("div",{ref:l},s.createElement(tu.KM,{recordingKey:_.Mx(e,"updateIcon"),selected:!!r,svg:r_.c,className:rE.aG,dataTestId:"updatesModesButton","data-tooltip-type":eh.wL.TEXT,"data-tooltip":(0,F.t)("variables.layer_panel.header.update_button_direct.tooltip"),onMouseDown:e=>e.stopPropagation(),onClick:a})),r&&(l.current?s.createElement(e_.Mx,{targetRect:l.current.getBoundingClientRect(),maxWidth:226,disableDropdownScrollContainer:!0,propagateCloseClick:!0},s.createElement(s.Fragment,null,s.createElement(ep.g.Option,{className:rE.YX,recordingKey:_.Mx(e,"description"),key:"description",disabled:!0},(0,F.t)("variables.layer_panel.header.update_button.dropdown.description")),s.createElement(ep.g.Separator,null),s.createElement(ep.g.Option,{onClick:i,recordingKey:_.Mx(e,"review-update"),key:"review_update"},(0,F.t)("variables.layer_panel.header.update_button_direct.dropdown.option")))):null))}var rw=n(472936),rS=n(408156),rT=n(987904),rb=n(385228),rC=n(480856),rk=n(9636);class rI extends s.PureComponent{constructor(e){super(e),this.chitRowRef=s.createRef(),this.colorFormatter=ri.W0,this.onColorChange=(e,t)=>{let n=e.a;e.a=1,Y.CA.updateSelectionProperties({backgroundColor:e,backgroundOpacity:n,backgroundEnabled:!0},{shouldCommit:t})},this.onColorChangeWithoutAlpha=(e,t)=>{Y.CA.updateSelectionProperties({backgroundColor:e,backgroundEnabled:!0},{shouldCommit:t})},this.onOpacityChange=(e,t)=>{Y.CA.updateSelectionProperties({backgroundOpacity:e,backgroundEnabled:0!==e},{shouldCommit:t})},this.onBackgroundEnabledChange=e=>Y.CA.updateSelectionProperties({backgroundEnabled:e}),this.onExportBackgroundDisabledChange=e=>{Y.CA.updateSelectionProperties({exportBackgroundDisabled:!e})},this.toggleColorPicker=()=>{if(this.props.pickerShown&&this.props.pickerShown.id===G.k7)this.props.dispatch(K.U5());else{(0,m.Ub)().ce_properties_panel_tracking&&(0,d.we)("editor-background-panel-color-picker-show");let e=this.chitRowRef.current?(0,eg.cT)(this.chitRowRef.current):{x:0,y:0};this.props.dispatch(K.is({id:G.k7,initialX:e.x,initialY:e.y})),this.props.dispatch(H.eO())}},this.mergeColorAndOpacity=(0,ny.ei)(e=>{let t=(0,q.kB)(e.backgroundColor),n=(0,q.kB)(e.backgroundOpacity);return null!=t&&null!=n?{...t,a:n}:e.backgroundColor||q.ee})}get opacity(){return(0,q.EH)(this.props.backgroundOpacity)&&"number"==typeof this.props.backgroundOpacity&&isNaN(this.props.backgroundOpacity)?0:this.props.backgroundOpacity}renderInputWithChit(){return s.createElement("div",{className:"background_panel--colorValueContainer---lsls paint_panels--colorValueContainer--DGeSP raw_components--borderFocusWithin--BaipZ paint_panels--_baseColorValueContainer--t-UIV raw_components--base--T7G0z raw_components--singleRowHeight--dKM4t"},s.createElement(rS.o,{color:this.mergeColorAndOpacity(this.props),opacity:this.opacity,onMouseDown:this.toggleColorPicker,recordingKey:_.Mx(this.props,"colorChit"),className:"background_panel--chit--EQGLT paint_panels--chit--twQEy"}),s.createElement(rb.qS,{className:this.props.backgroundEnabled?"background_panel--color--sBAtd paint_panels--colorInput--nSz13":"background_panel--colorHidden--CEpXN paint_panels--colorInputHidden--ZojfD paint_panels--colorInput--nSz13",formatter:this.colorFormatter,property:this.props.backgroundColor,onChange:this.onColorChangeWithoutAlpha,recordingKey:_.Mx(this.props,"color"),noBorderOnFocus:!0}),s.createElement(ro._2,{className:"background_panel--opacity--nwSdu paint_panels--opacityInputContainer--oqlsk",inputClassName:this.props.backgroundEnabled?void 0:"background_panel--opacityInputHidden--2-b0t paint_panels--opacityInputHidden--I2GEk",value:this.opacity,onValueChange:this.onOpacityChange,dispatch:this.props.dispatch,noBorderOnFocus:!0,recordingKey:_.Mx(this.props,"opacity")}))}renderVisibilityToggleButton(){return s.createElement("span",{className:"background_panel--visible--2-4Ns"},s.createElement(rk.k,{visible:this.props.backgroundEnabled,onChange:this.onBackgroundEnabledChange,recordingKey:_.Mx(this.props,"visibleToggle")}))}renderSimpleBackground(){return s.createElement("div",null,s.createElement(eO.WA,{className:"background_panel--panelTitleRow--uNINf"},s.createElement(eO.w1,null,s.createElement(F.Tx,{id:"fullscreen.properties_panel.page"})),s.createElement(ry,{recordingKey:"pageLevel"}),s.createElement(rd,{showLibrarySets:!0,recordingKey:"pageLevel"})),"ui2"===this.props.theme.version?this.renderUI2ColorInput():this.renderUI3ColorInput())}renderUI3ColorInput(){return s.createElement(tv.gn,{ref:this.chitRowRef,label:null,input:this.renderInputWithChit(),icon:this.renderVisibilityToggleButton()})}renderUI2ColorInput(){return s.createElement(s.Fragment,null,s.createElement(eO.WA,{forwardedRef:this.chitRowRef},this.renderInputWithChit(),this.renderVisibilityToggleButton()))}render(){var e;return s.createElement(w.u,{name:"background_panel"},s.createElement(eO.sF,null,this.renderSimpleBackground(),this.props.hasExports&&s.createElement(eO.WA,null,s.createElement(rw.K,{className:"background_panel--checkbox--6U3j-",id:"export-background-disabled",property:this.props.exportBackgroundDisabled===q.ee?q.ee:!this.props.exportBackgroundDisabled,onChange:this.onExportBackgroundDisabledChange,recordingKey:_.Mx(this.props,"exportDisableCheckbox")}),s.createElement(eO.iM,{className:"background_panel--checkboxLabel--ITthj",htmlFor:"export-background-disabled","data-tooltip-type":eh.wL.TEXT,"data-tooltip":(0,F.t)("fullscreen.properties_panel.include_the_canvas_or_group_background_in_exports")},s.createElement(F.Tx,{id:"fullscreen.properties_panel.show_in_exports"}))),(null==(e=this.props.pickerShown)?void 0:e.id)===G.k7&&s.createElement(rT.eM,{disabledVariableIds:new Set,title:(0,F.t)("fullscreen.properties_panel.background"),initialPosition:new M.Cg(this.props.pickerShown.initialX,this.props.pickerShown.initialY),color:(0,q.EH)(this.mergeColorAndOpacity(this.props))?(0,q.kB)(this.mergeColorAndOpacity(this.props)):{r:1,g:1,b:1,a:1},boundVariable:null,onChange:this.onColorChange,recordingKey:_.Mx(this.props,"colorPicker")}),s.createElement(rC.Ap,{showExplicitOnly:!0,recordingKey:"backgroundPanel-variableModeEntries"})))}}rI.displayName="BackgroundPanel";let rP=(0,ec.QX)(rI);var rM=n(293368);function rN(e){return s.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},s.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M16.5 8.5a.5.5 0 0 1 .5.5v5a.5.5 0 1 1-1 0v-2H7v2a.5.5 0 0 1-1 0V9a.5.5 0 0 1 1 0v2h9V9a.5.5 0 0 1 .5-.5Z",clipRule:"evenodd"}))}function rA(e){return s.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},s.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M8.5 6.5A.5.5 0 0 1 9 6h5a.5.5 0 0 1 0 1h-2v9h2a.5.5 0 0 1 0 1H9a.5.5 0 0 1 0-1h2V7H9a.5.5 0 0 1-.5-.5Z",clipRule:"evenodd"}))}var rO=n(838836),rx=n(235020),rR=n(719732),rL=n(856212);function rF(e){return"HORIZONTAL"===e?rL.c:rR.c}class rK{constructor(e){this.isHorizontal="HORIZONTAL"===e}format(e){switch(e){case"MIN":return this.isHorizontal?(0,F.t)("fullscreen.properties_panel.constraints_panel.select.left"):(0,F.t)("fullscreen.properties_panel.constraints_panel.select.top");case"MAX":return this.isHorizontal?(0,F.t)("fullscreen.properties_panel.constraints_panel.select.right"):(0,F.t)("fullscreen.properties_panel.constraints_panel.select.bottom");case"STRETCH":return this.isHorizontal?(0,F.t)("fullscreen.properties_panel.constraints_panel.select.left_and_right"):(0,F.t)("fullscreen.properties_panel.constraints_panel.select.top_and_bottom");case"CENTER":return(0,F.t)("fullscreen.properties_panel.constraints_panel.select.center");case"SCALE":return(0,F.t)("fullscreen.properties_panel.constraints_panel.select.scale");default:return""}}}var rD=n(137036);let rH="constraint_select--chevron--vKwBF",rB="constraint_select--input--daUMm",rG=new class{format(e){if("AUTO"===e)return(0,F.t)("fullscreen.auto")}};function rV(e){return"HORIZONTAL"===e?s.createElement(rN,null):s.createElement(rA,null)}function rW(e){let{version:t}=(0,ec.qG)(),n=rX();if(e.readOnly&&(0,q.EH)(e.constraint)){let t=new rK(e.axis).format(e.constraint);return s.createElement("div",{className:p()(e.className,"constraint_select--flexContainer--a9ZPi")},s.createElement(x.A,{svg:rF(e.axis),className:rD.Y7}),s.createElement("span",{className:"constraint_select--readOnlyText--uBzWh ellipsis--ellipsis--Tjyfa text--fontPos11--2LvXf text--_fontBase--QdLsd"},t))}let l=new rK(e.axis);return"ui3"===t&&n?s.createElement(rx.M1,{id:e.id,chevronClassName:rH,inputClassName:rB,className:e.className,dispatch:e.dispatch,dropdownShown:e.dropdownShown,property:"AUTO",formatter:rG,ui3Icon:rV(e.axis),svg:rF(e.axis),onChange:rO.Kw,disabled:n,recordingKey:_.Mx(e,"select")},s.createElement(rx.cb,{key:"AUTO",value:"AUTO",disabled:!0})):s.createElement(rx.M1,{id:e.id,chevronClassName:rH,inputClassName:rB,className:e.className,dispatch:e.dispatch,dropdownShown:e.dropdownShown,property:e.constraint,formatter:l,ui3Icon:rV(e.axis),svg:rF(e.axis),onChange:t=>{let n="HORIZONTAL"===e.axis?"horizontalConstraint":"verticalConstraint";e.updateConstraints({[n]:t},!0)},disabled:n,recordingKey:_.Mx(e,"select")},["MIN","MAX","STRETCH","CENTER","SCALE"].map(t=>{let l=e.disableStretchScaleConstraints&&["STRETCH","SCALE"].includes(t);return s.createElement(rx.cb,{key:t,value:t,recordingKey:_.Mx(e,"select",t),disabled:n||l})}))}let rU="constraint_selector--outerRow--vEwHH",rY="constraint_selector--hover--QinHp";function rz(e){let[t,n]=(0,s.useState)(null),[l,r]=(0,s.useState)(null),{version:a}=(0,ec.qG)(),i=rX(),o="ui3"===a&&i?void 0:e.horizontalConstraint,c="ui3"===a&&i?void 0:e.verticalConstraint,d=e=>["top","bottom"].includes(e)?"VERTICAL":"HORIZONTAL",u=e=>"HORIZONTAL"===e?o:c,m=e=>e.shiftKey||e.metaKey,h=(t,n)=>l=>{if(e.readOnly)return;let r=n;if(m(l)){let l="MIN"===n?"MAX":"MIN",a=u(t),i="VERTICAL"===t?!e.disableVerticalStretchScaleConstraints:!e.disableHorizontalStretchScaleConstraints;a===n&&i?r="SCALE":a===l&&i?r="STRETCH":"STRETCH"===a&&(r=l)}"VERTICAL"===t?e.updateConstraints({verticalConstraint:r}):e.updateConstraints({horizontalConstraint:r})},g=t=>()=>{e.readOnly||n(t)},E=()=>{n(null)},y=e=>{let t=e.target.parentElement;if(!t)return console.error(`constraint selector inner target element is ${t}`),null;let{top:n,left:l,width:r,height:a}=t.getBoundingClientRect(),i=Math.abs(e.clientX-l-r/2),o=Math.abs(e.clientY-n-a/2);return i<3&&o<3?"HORIZONTAL":i<o?"VERTICAL":"HORIZONTAL"},v=t=>{if(!e.readOnly){if("CENTER"!==c||m(t)){if("CENTER"!==o||m(t)){if("VERTICAL"===y(t)){let n=m(t)&&"CENTER"===c?"SCALE":"CENTER";e.updateConstraints({verticalConstraint:n})}else{let n=m(t)&&"CENTER"===o?"SCALE":"CENTER";e.updateConstraints({horizontalConstraint:n})}}else e.updateConstraints({verticalConstraint:"CENTER"})}else e.updateConstraints({horizontalConstraint:"CENTER"})}},f=t=>{e.readOnly||("CENTER"===c?r("HORIZONTAL"):"CENTER"===o?r("VERTICAL"):r(y(t)))},w=()=>{r(null)},S=e=>p()({"constraint_selector--selected--Eb73C":e,"constraint_selector--disabled--hLCxk":i}),T=(e,n)=>{let l=d(e);return p()("HORIZONTAL"===l?"constraint_selector--outerHorizontalHandle--5Riwa constraint_selector--_handle--LH-q2":"constraint_selector--outerVerticalHandle--SrFsJ constraint_selector--_handle--LH-q2",S(n),{[rY]:t===e&&!i})},b=(e,t)=>p()("HORIZONTAL"===e?"constraint_selector--innerHorizontalHandle--Zfxr0 constraint_selector--_innerHandle--UA2jx constraint_selector--_handle--LH-q2":"constraint_selector--innerVerticalHandle--slyp1 constraint_selector--_innerHandle--UA2jx constraint_selector--_handle--LH-q2",S(t),{[rY]:l===e&&!i}),C=t=>{let n=d(t),l=u(n),r=["top","left"].includes(t)?"MIN":"MAX",a=[r,"STRETCH"].includes(l),i="HORIZONTAL"===n?"constraint_selector--outerHorizontalTarget--2Tsd3":"constraint_selector--outerVerticalTarget--m0eT7",o=T(t,a);return s.createElement(tD.g9,{className:i,recordingKey:_.Mx(e,"constraint",t),onMouseDown:h(n,r),onMouseEnter:g(t),onMouseLeave:E},s.createElement("div",{className:o}))},k=t=>{let n="centerX"===t?"HORIZONTAL":"VERTICAL",l=u(n);return s.createElement(tD.g9,{className:b(n,"CENTER"===l),recordingKey:_.Mx(e,"constraint",t)})};return s.createElement("div",{className:"constraint_selector--selectorContainer--stEPY"},s.createElement("div",{className:rU},C("top")),s.createElement("div",{className:"constraint_selector--innerRow--Sq9bp"},C("left"),(()=>{let e=k("centerX"),t=k("centerY");return s.createElement("div",{className:"constraint_selector--innerTarget--8C-rg",onMouseDown:v,onMouseMove:f,onMouseLeave:w},"CENTER"===o?s.createElement(s.Fragment,null,t,e):s.createElement(s.Fragment,null,e,t))})(),C("right")),s.createElement("div",{className:rU},C("bottom")))}function rZ(){return(0,tr.q)(e=>{var t;let n=e.mirror.selectionProperties;return{openFileKey:null==(t=e.openFile)?void 0:t.key,stackMode:n.stackMode,stackLayoutSizeOptions:n.stackLayoutSizeOptions,stackHorizontalSize:n.stackHorizontalSize,stackVerticalSize:n.stackVerticalSize,stackPositioning:n.stackPositioning,someConstraintItemsSelected:n.someNodesAreConstraintItems,nodesAreAllInsideStacks:n.nodesAreAllInsideStacks,horizontalConstraint:n.horizontalConstraint,verticalConstraint:n.verticalConstraint,scrollBehavior:n.scrollBehavior,allHaveScrollableFrameAsParent:n.allHaveScrollableFrameAsParent,hasHorizontallyScrollingParent:n.hasHorizontallyScrollingParent,hasVerticallyScrollingParent:n.hasVerticallyScrollingParent,isInstanceSublayerSelected:!!n.isInstanceSublayerSelected,hasMinOrMaxWidth:null!=n.minWidth||null!=n.maxWidth,hasMinOrMaxHeight:null!=n.minHeight||null!=n.maxHeight}})}function rX(){let e=rZ(),{version:t}=(0,ec.qG)();return e.isInstanceSublayerSelected||"ui3"===t&&e.nodesAreAllInsideStacks&&"AUTO"===e.stackPositioning||!1}function rQ(e){let t=(0,ei.OY)(),{version:n}=(0,ec.qG)(),l=rZ(),r=e=>{if(("HORIZONTAL"===e?l.stackHorizontalSize:l.stackVerticalSize)===$.MXH.FILL_CONTAINER||"NONE"!==l.stackMode&&("HORIZONTAL"===e?l.hasMinOrMaxWidth:l.hasMinOrMaxHeight))return!0;if(l.scrollBehavior!==q.ee&&"FIXED_WHEN_CHILD_OF_SCROLLING_FRAME"!==l.scrollBehavior)return!1;let t="HORIZONTAL"===e?l.hasHorizontallyScrollingParent:l.hasVerticallyScrollingParent;return!!(0,q.kB)(t)},a=(t,n=!1)=>{l.isInstanceSublayerSelected||((0,d.we)("Constraint Changed",{fileKey:e.openFileKey,source:n?"dropdown":"panel",...t}),Y.CA.updateSelectionProperties(t))},i=r("HORIZONTAL"),o=r("VERTICAL"),c=s.createElement(ta.g,{name:"constraint_selector"},s.createElement(rz,{horizontalConstraint:l.horizontalConstraint,verticalConstraint:l.verticalConstraint,someConstraintItemsSelected:l.someConstraintItemsSelected,updateConstraints:a,disableHorizontalStretchScaleConstraints:i,disableVerticalStretchScaleConstraints:o,dispatch:t,recordingKey:_.Mx(e,"constraintSelector"),readOnly:e.readOnly})),p=s.createElement(ta.g,{name:"width_select"},s.createElement(rW,{id:"width-select",className:"constraints_panel--stackWidthDropdown--mbkWx constraints_panel--_sizeDropdown--1d1H2",axis:"HORIZONTAL",constraint:l.horizontalConstraint,updateConstraints:a,someConstraintItemsSelected:l.someConstraintItemsSelected,disableStretchScaleConstraints:i,dispatch:t,dropdownShown:e.dropdownShown,recordingKey:_.Mx(e,"width"),readOnly:e.readOnly})),u=s.createElement(ta.g,{name:"height_select"},s.createElement(rW,{id:"height-select",className:"constraints_panel--stackHeightDropdown--Aj-c5 constraints_panel--_sizeDropdown--1d1H2",axis:"VERTICAL",constraint:l.verticalConstraint,updateConstraints:a,someConstraintItemsSelected:l.someConstraintItemsSelected,disableStretchScaleConstraints:o,dispatch:t,dropdownShown:e.dropdownShown,recordingKey:_.Mx(e,"height"),readOnly:e.readOnly}));return"ui3"===n?s.createElement("div",{className:"constraints_panel--ui3Container--xPomZ"},c,s.createElement("div",{className:"constraints_panel--ui3Selects--ira8c"},p,u)):s.createElement(eO.WA,{heightMultiplier:2,className:"constraints_panel--container--bilN5"},c,p,u)}function rq(e){let t=rZ();return e.readOnly?s.createElement(rQ,{...e}):t.nodesAreAllInsideStacks&&"AUTO"===t.stackPositioning?null:s.createElement(eO.sF,null,s.createElement(eO.WA,null,s.createElement(eO.w1,{extended:!0},s.createElement(F.Tx,{id:"fullscreen.properties_panel.constraints_panel.constraints"}))),s.createElement(rQ,{...e}))}function rj(e){return s.createElement(w.u,{name:"constraints_panel"},s.createElement(rq,{...e}))}var r$=n(703032),rJ=n(203400);function r0(e){let t=(0,ty._O)(ty.OA.READY),{productComponent:n}=e;return t||("SYMBOL"!==n.type||n.isState)&&!n.isStateGroup?null:s.createElement(w.u,{name:"containing_assets_panel"},s.createElement(eO.sF,null,s.createElement(eO.WA,null,s.createElement(eO.w1,{className:r$.PI},s.createElement(F.Tx,{id:"design_systems.component_panel.parent_component"}))),s.createElement(ta.g,{name:"select_component_button"},s.createElement(eO.WA,{className:r$.Eb,onClick:()=>{Q.uc([n.guid])},recordingKey:"containingComponentPanel.jumpTo"},s.createElement(x.A,{svg:e6.c,className:r$.Sc}),s.createElement("div",{className:r$.Wu},n.name),s.createElement("div",{className:r$.ID},s.createElement(x.A,{"data-tooltip-type":eh.wL.TEXT,"data-tooltip":(0,F.t)("design_systems.component_panel.select_component"),svg:rJ.c,className:r$.Kb}))))))}function r5(){let e=(0,tr.q)(eM.Er);return(0,nr.$h)(e)}function r1(e){let t=Object.keys(e);return(0,nr.eM)((e,t)=>t.every(t=>{let n=e.get(t);return n&&"SYMBOL"===n.type&&n.isState}),t)}function r7(){let e=r5();return e?s.createElement(r0,{productComponent:e}):null}function r2(e){let t=r1(e.selection),n=!e.scaleShouldHideOtherPanels&&(!e.shownPanels[z.uQ8.COMPONENT_ITEM]||t),l=(0,s.useRef)(new en.s(()=>s.createElement(r7,{key:"containingAssets"})));return s.createElement(s.Fragment,null,l.current.render(n))}var r4=n(459624),r8=n(311364),r6=n(476168),r3=n(333928),r9=n(708168),ae=n(836124),at=n(553432);function an(e){let t=(0,nT.AL)(),n=(0,at.usePermissionsState)(),l=(0,J.U9)(e.stylePreviewShown),r=(0,ae.Ok)(null==l?void 0:l.file_key).data;if(!l||!r)return null;let a=(0,r3.El)(r);return a=(0,r8.oX)(a,{"node-id":encodeURIComponent((0,r9.W)(l.node_id))}),s.createElement(w.u,{name:"external_style_options"},s.createElement(eO.sF,{key:"external-style-options"},(0,r6.y)({openFile:t,permissionsState:n,user:e.user,sourceLibraryFile:r})&&s.createElement(eO.WA,null,s.createElement(ej.cH,{className:nt.xf,href:a,target:"_blank",trusted:!0},s.createElement(F.Tx,{id:"fullscreen.properties_panel.go_to_style_definition_to_edit"})))))}var al=n(150648),ar=n(760700),aa=n(456420);let ai="frame_presets--presetHeader--TKb-G";var ao=n(633616);class as extends _.UR{constructor(){super(...arguments),this.toggleSection=e=>{this.props.expandedFramePresetType===e&&(e=z.WS8.NONE),(0,Z.EB)().expandedFramePresetType.set(e)},this.onSelectPreset=e=>{eI.Pc.user("select-frame-preset",()=>{let t=`${e.name} -`;z.i46.createFrame(t,e.width,e.height),this.props.dispatch(K.we({name:"Frame Size Preset Chosen",params:{method:"Frame Tool Preset List",deviceName:e.name}})),z.MXu.updateCurrentPagePrototypeDeviceIfNecessary()})}}render(){return s.createElement(w.u,{name:"frame_presets"},s.createElement("div",null,s.createElement(eO.WA,null,s.createElement(eO.w1,null,s.createElement(F.Tx,{id:"proto.frame_preset_panel.frame"}))),s.createElement(ac,{name:(0,F.t)("proto.frame_preset_panel.phone"),expanded:this.props.expandedFramePresetType===z.WS8.PHONE,onMouseDown:this.toggleSection.bind(this,z.WS8.PHONE),recordingKey:_.Mx(this.props,"phoneToggle")}),this.props.expandedFramePresetType===z.WS8.PHONE&&s.createElement(ap,{framePresets:aa.Ij.phonePresets,onSelectPreset:this.onSelectPreset,recordingKey:_.Mx(this.props,"phoneRows")}),s.createElement(ac,{name:(0,F.t)("proto.frame_preset_panel.tablet"),expanded:this.props.expandedFramePresetType===z.WS8.TABLET,onMouseDown:this.toggleSection.bind(this,z.WS8.TABLET),recordingKey:_.Mx(this.props,"framePresetPanel","tabletToggle")}),this.props.expandedFramePresetType===z.WS8.TABLET&&s.createElement(ap,{framePresets:aa.Ij.tabletPresets,onSelectPreset:this.onSelectPreset,recordingKey:_.Mx(this.props,"tabletRows")}),s.createElement(ac,{name:(0,F.t)("proto.frame_preset_panel.desktop"),expanded:this.props.expandedFramePresetType===z.WS8.DESKTOP,onMouseDown:this.toggleSection.bind(this,z.WS8.DESKTOP),recordingKey:_.Mx(this.props,"desktopToggle")}),this.props.expandedFramePresetType===z.WS8.DESKTOP&&s.createElement(ap,{framePresets:aa.Ij.desktopPresets,onSelectPreset:this.onSelectPreset,recordingKey:_.Mx(this.props,"desktopRows")}),s.createElement(ac,{name:(0,F.t)("proto.frame_preset_panel.presentation"),expanded:this.props.expandedFramePresetType===z.WS8.PRESENTATION,onMouseDown:this.toggleSection.bind(this,z.WS8.PRESENTATION),recordingKey:_.Mx(this.props,"presentationToggle")}),this.props.expandedFramePresetType===z.WS8.PRESENTATION&&s.createElement(ap,{framePresets:aa.Ij.presentationPresets,onSelectPreset:this.onSelectPreset,recordingKey:_.Mx(this.props,"presentationRows")}),s.createElement(ac,{name:(0,F.t)("proto.frame_preset_panel.watch"),expanded:this.props.expandedFramePresetType===z.WS8.WATCH,onMouseDown:this.toggleSection.bind(this,z.WS8.WATCH),recordingKey:_.Mx(this.props,"watchToggle")}),this.props.expandedFramePresetType===z.WS8.WATCH&&s.createElement(ap,{framePresets:aa.Ij.watchPresets,onSelectPreset:this.onSelectPreset,recordingKey:_.Mx(this.props,"watchRows")}),s.createElement(ac,{name:(0,F.t)("proto.frame_preset_panel.paper"),expanded:this.props.expandedFramePresetType===z.WS8.PAPER,onMouseDown:this.toggleSection.bind(this,z.WS8.PAPER),recordingKey:_.Mx(this.props,"paperToggle")}),this.props.expandedFramePresetType===z.WS8.PAPER&&s.createElement(ap,{framePresets:aa.Ij.paperPresets,onSelectPreset:this.onSelectPreset,recordingKey:_.Mx(this.props,"paperRows")}),s.createElement(ac,{name:(0,F.t)("proto.frame_preset_panel.social_media"),expanded:this.props.expandedFramePresetType===z.WS8.SOCIALMEDIA,onMouseDown:this.toggleSection.bind(this,z.WS8.SOCIALMEDIA),recordingKey:_.Mx(this.props,"socialMediaToggle")}),this.props.expandedFramePresetType===z.WS8.SOCIALMEDIA&&s.createElement(ap,{framePresets:aa.Ij.socialMediaPresets,onSelectPreset:this.onSelectPreset,recordingKey:_.Mx(this.props,"socialMediaRows")}),s.createElement(ac,{name:(0,F.t)("proto.frame_preset_panel.figma_community"),expanded:this.props.expandedFramePresetType===z.WS8.FIGMA,onMouseDown:this.toggleSection.bind(this,z.WS8.FIGMA),recordingKey:_.Mx(this.props,"figmaToggle")}),this.props.expandedFramePresetType===z.WS8.FIGMA&&s.createElement(ap,{framePresets:aa.Ij.figmaPresets,onSelectPreset:this.onSelectPreset,recordingKey:_.Mx(this.props,"figmaRows")}),s.createElement(ac,{name:(0,F.t)("proto.frame_preset_panel.archive"),expanded:this.props.expandedFramePresetType===z.WS8.ARCHIVE,onMouseDown:this.toggleSection.bind(this,z.WS8.ARCHIVE),recordingKey:_.Mx(this.props,"archiveToggle")}),this.props.expandedFramePresetType===z.WS8.ARCHIVE&&s.createElement(ap,{framePresets:aa.Ij.archivedPresets,onSelectPreset:this.onSelectPreset,recordingKey:_.Mx(this.props,"archiveRows")})))}}as.displayName="FramePresetPanel";class ac extends _.UR{render(){return s.createElement(w.u,{name:"frame_preset_header_panel"},s.createElement(eO.sF,{onMouseDown:this.props.onMouseDown,recordingKey:this.props.recordingKey,className:this.props.expanded?"frame_presets--presetHeaderExpanded--Qjd4B frame_presets--presetHeader--TKb-G":ai},s.createElement(eO.WA,{className:ai},s.createElement("div",{className:"frame_presets--caretAndName---NO1X"},s.createElement(x.A,{className:this.props.expanded?"frame_presets--caretDown--fFNWX frame_presets--caret--UJlom":"frame_presets--caret--UJlom",svg:this.props.expanded?nK.c:nD.c}),s.createElement("div",{className:"frame_presets--name--54TF2"},this.props.name)))))}}ac.displayName="FramePresetHeader";class ap extends _.UR{constructor(){super(...arguments),this.onSelectPreset=e=>this.props.onSelectPreset(e)}render(){return s.createElement(w.u,{name:"frame_presets_list_panel"},s.createElement(eO.sF,{className:"frame_presets--presetList--ayuEn"},this.props.framePresets.map(e=>s.createElement(eO.WA,{className:"frame_presets--presetRow--xaZa5",key:e.name,onMouseDown:this.onSelectPreset.bind(this,e),recordingKey:_.Mx(this.props,e.name)},s.createElement("div",{className:"frame_presets--presetName--q2eD4"},e.i18nName()),s.createElement("div",{className:"frame_presets--presetDimensions--ebk8Q"},e.width,"\u200A\xd7\u200A",e.height," ")))))}}ap.displayName="FramePresetList";class ad extends _.UR{constructor(){super(...arguments),this.state={focusedPreset:void 0},this.formatter={format:e=>e===z.ucN.FRAME?(0,F.t)("viewer.options_menu.frame"):e===z.ucN.GROUP?(0,F.t)("viewer.options_menu.group"):e===z.ucN.SECTION?(0,F.t)("viewer.options_menu.section"):e,isEqual:(e,t)=>e===t},this.onChange=e=>{if("number"==typeof e)e===z.ucN.SECTION&&this.changeSelectionToSection(),e===z.ucN.FRAME&&this.getFrameOrGroupOrSectionOrMixed()===z.ucN.SECTION&&this.changeSelectionSectionToFrame(),this.changeSelectionToFrameOrGroup(e);else{let t=aa.GS[e];this.setPreset(t)}},this.changeSelectionToSection=()=>{Y.CA.triggerActionInUserEditScope("replace-selected-frame-with-section")},this.changeSelectionSectionToFrame=()=>{Y.CA.triggerActionInUserEditScope("replace-selected-section-with-frame")},this.changeSelectionToFrameOrGroup=e=>{eI.Pc.user("change-selection-to-frame-or-group",()=>{z.i46.changeSelectionToFrameOrGroup(e),z.MXu.updateCurrentPagePrototypeDeviceIfNecessary()})},this.setPreset=e=>{this.props.dispatch(K.we({name:"Frame Size Preset Chosen",params:{method:"Transform Panel",deviceName:e.name}})),eI.Pc.user("set-frame-preset",()=>{z.i46.makeSelectedFramesManuallySized(),Y.CA.updateSelectionProperties({width:e.width,height:e.height}),z.MXu.updateCurrentPagePrototypeDeviceIfNecessary()})},this.getFrameOrGroupOrSectionOrMixed=()=>(0,q.EH)(this.props.resizeToFit)?this.props.resizeToFit?z.ucN.GROUP:this.props.isSection?z.ucN.SECTION:z.ucN.FRAME:q.ee,this.onFocus=e=>{this.setState({focusedPreset:e})},this.renderPresetOption=(e,t)=>{var n,l;return s.createElement(rx.cb,{value:e.name,key:t,recordingKey:_.Mx(this.props,e.name),focused:!((null==(n=this.state.focusedPreset)?void 0:n.name)!==e.name)},s.createElement(am,{framePreset:e,focused:!((null==(l=this.state.focusedPreset)?void 0:l.name)!==e.name)}))}}render(){let e=[],t=this.getFrameOrGroupOrSectionOrMixed(),n=(0,q.EH)(this.props.width)&&(0,q.EH)(this.props.height)?(0,aa.uE)({width:this.props.width,height:this.props.height}):null;(0,q.EH)(t)&&e.push(t),n&&e.push(n.name),0===e.length&&e.push(q.ee);let l=e[0],r=this.props.isWidget,a=!this.props.isSection,i=!0===(0,m.Ub)().section_improvements,o=!this.props.isOrInInstance;return s.createElement(ta.g,{name:"frame_preset_select"},s.createElement(rx.M1,{icon:this.props.leftIcon,className:this.props.selectClassName,inputClassName:this.props.inputClassName,chevronClassName:"frame_presets--framePresetDropdownChevron--0rJxs",id:this.props.id,property:l,multipleSelections:e,formatter:this.formatter,onChange:this.onChange,dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown,dropdownClassName:"frame_presets--presetDropdown----7Sd",recordingKey:_.Mx(this.props,"select"),onOptionFocus:this.onFocus,disabled:r},i&&s.createElement(rx.cb,{value:z.ucN.SECTION,recordingKey:_.Mx(this.props,"SECTION"),disabled:!this.props.canBecomeSection}),s.createElement(rx.cb,{value:z.ucN.FRAME,recordingKey:_.Mx(this.props,"FRAME"),disabled:!o||!this.props.canBecomeFrame}),s.createElement(rx.cb,{value:z.ucN.GROUP,recordingKey:_.Mx(this.props,"GROUP"),disabled:!this.props.canBecomeGroup}),!i&&s.createElement(rx.cb,{value:z.ucN.SECTION,recordingKey:_.Mx(this.props,"SECTION"),disabled:!this.props.canBecomeSection}),a&&s.createElement(rx.Wy,null),a&&aa.Ij.phonePresets.map(this.renderPresetOption),a&&s.createElement(rx.Wy,null),a&&aa.Ij.tabletPresets.map(this.renderPresetOption),a&&s.createElement(rx.Wy,null),a&&aa.Ij.desktopPresets.map(this.renderPresetOption),a&&s.createElement(rx.Wy,null),a&&aa.Ij.presentationPresets.map(this.renderPresetOption),a&&s.createElement(rx.Wy,null),a&&aa.Ij.watchPresets.map(this.renderPresetOption),a&&s.createElement(rx.Wy,null),a&&aa.Ij.paperPresets.map(this.renderPresetOption),a&&s.createElement(rx.Wy,null),a&&aa.Ij.socialMediaPresets.map(this.renderPresetOption),a&&s.createElement(rx.Wy,null),a&&aa.Ij.figmaPresets.map(this.renderPresetOption),a&&s.createElement(rx.Wy,null),a&&aa.Ij.archivedPresets.map(this.renderPresetOption)))}}function au(e){return s.createElement("span",{className:e.className},s.createElement(tu.wP,{onClick:()=>{Y.CA.triggerActionInUserEditScope("resize-to-fit")},recordingKey:e.recordingKey,dataTestId:"resize-to-fit-button","data-tooltip-type":eh.wL.LOOKUP,"data-tooltip":"resize-to-fit"},s.createElement(ed.e,{svg:ao.c},s.createElement(al.q,null))))}function am({focused:e,framePreset:t}){let[n,l]=s.useState(!1);return s.createElement("div",{className:e?"frame_presets--presetOptionFocused--xoc2A":"frame_presets--presetOption--FUHPW"},s.createElement(ar.s$,{text:t.i18nName(),className:"frame_presets--frameName--LztZn",onTruncationChange:e=>{n!==e&&l(e)}}),s.createElement("span",{className:n?"frame_presets--frameDimensions--EoK8C":""},t.width,"\u200A\xd7\u200A",t.height))}ad.displayName="FramePresetDropdown";var ah=n(301660),ag=n(339644),aE=n(707576),a_=n(16780),ay=n(644);let av=s.forwardRef(function({instanceDescription:e,containingStateGroupLinks:t,containingStateGroupDescription:n,isDescriptionPaneOpen:l,onOpenDescriptionPane:r},a){let i=(0,eT.Gu)(),o=s.useMemo(()=>{var l,r,a;return e?(0,ey.u)(e):(null==(l=null==i?void 0:i[0])?void 0:l.uri)?null==(r=null==i?void 0:i[0])?void 0:r.uri:n?(0,ey.u)(n):(null==(a=null==t?void 0:t[0])?void 0:a.uri)??void 0},[e,i,t,n]),c=s.useRef(null),p=ef({ref:c,text:o}),d=s.useCallback(()=>r(!0),[r]),u=s.useMemo(()=>{let r=!!((null==i?void 0:i.length)||(null==t?void 0:t.length)),a=!!(e&&n);return!l&&(p||a||r)},[n,null==t?void 0:t.length,e,l,null==i?void 0:i.length,p]);return null==o?null:s.createElement("div",{className:"instance_description_preview--wrapper--YGSF3 text--fontPos11--2LvXf text--_fontBase--QdLsd",ref:a},s.createElement("div",{className:"instance_description_preview--description--726Xi ellipsis--ellipsis--Tjyfa",ref:c},o),u&&s.createElement("div",{className:"instance_description_preview--showMore--7-DPO",onClick:d,role:"button",tabIndex:0},s.createElement(F.Tx,{id:"design_systems.instance_panel.show_more"})))});var af=n(538524);function aw(e){let t=(0,ei.w1)(eM.Er),{nestedInstances:n}=(0,ay._)(e);return t&&!n.length?void 0:to.mm.INSTANCE_SWAP_PICKER}let aS=s.memo(function(e){let{resettableInstanceOverridesMap:t}=e,n=(0,ei.w1)(e=>e.pickerShown),l=(0,ei.w1)(eM.gI),r=(0,ei.w1)(eP.qg),a=(0,ei.w1)(eP.gT),i=(0,ei.w1)(tc.s1),o=(0,ei.OY)(),{backingSymbolGUID:c,singleBackingStateGroup:p}=(0,a_.Y)(a),{version:d}=(0,ec.qG)(),u="ui3"===d,{onlyInstances:m,onlyInstanceSublayers:h}=(0,ay._)(a),g=s.useRef(null),E=s.useMemo(()=>(null==p?void 0:p.symbolLinks)??[],[p]),y=s.useCallback(e=>{if(e){let e=ea.findDOMNode(g.current),t=(0,eg.cT)(e,320);o(K.is({id:eZ,initialX:t.x,initialY:t.y})),o(H.eO()),o(K.CI())}else o(K.U5())},[o]),v=aw(a),f=(0,ty._O)(ty.OA.READY),{variantPropDefs:w,typedPropDefsExcludingHidden:S}=(0,ag.G)(a,e7.C4.ASSIGNMENT);return(0!==w.length||0!==S.length||!f)&&(m||h)?s.createElement(eO.sF,null,!f&&s.createElement(to.cF,{resettableInstanceOverrides:null==t?void 0:t.selectionOverrides,instanceAndSublayerGUIDs:a,instanceNameDisplayOverride:v,recordingKey:e.recordingKey}),(()=>{let e=(null==n?void 0:n.id)===eZ,t=(0,q.uc)(l,""),r=c&&(0,q.EH)(c)?(null==p?void 0:p.description)??"":void 0;return s.createElement(s.Fragment,null,e?s.createElement(tl,{containingStateGroupLinks:E,containingStateGroupDescription:r,description:t}):null,s.createElement(av,{instanceDescription:t,containingStateGroupDescription:r,containingStateGroupLinks:E,onOpenDescriptionPane:y,isDescriptionPaneOpen:e,ref:g}))})(),s.createElement(aT,{recordingKey:_.Mx(e,"restore")}),m&&s.createElement("div",{className:af.kX},s.createElement(ts.UV,{containerWidth:u?e7.mK.RESIZABLE_SIDEBAR:e7.mK.REGULAR,propDimension:e7.C4.ASSIGNMENT,guids:r,recordingKey:e.recordingKey,errorBoxFlushWithContainer:!0})),i.map(n=>s.createElement("div",{key:`bubbledInstance.${n[0]}`,className:af.CI},s.createElement(ts.Al,{containerWidth:u?e7.mK.RESIZABLE_SIDEBAR:e7.mK.REGULAR,propDimension:e7.C4.ASSIGNMENT,guids:n,hideErrors:!0,resettableInstanceOverrides:t&&t.bubbledInstanceOverrides?t.bubbledInstanceOverrides[n[0]]:void 0,instanceAndSublayerGUIDs:n,instanceNameDisplayOverride:to.mm.NAME_ONLY,shouldHideInstanceTitleButtons:!0,recordingKey:e.recordingKey,forBubbledProps:!0,highlightNodesOnHover:!0,errorBoxFlushWithContainer:!0})))):null});function aT({recordingKey:e}){let{sceneGraphSelection:t,library:n}=(0,tr.q)(e=>({sceneGraphSelection:e.mirror.sceneGraphSelection,library:e.library})),l=(0,ei.w1)(eP.gT),{affiliatedStateGroup:r,singleBackingSymbol:a,restoreType:i,stateResetType:o}=(0,a_.Y)(l),c=(0,ei.w1)(rm.iI),p=(0,ei.w1)(nT.AX),d=(0,ei.OY)();return"STATE_GROUP"===i||"SYMBOL_AS_NON_STATE"===i?s.createElement(eO.WA,{className:af.Kc},s.createElement(ej.wX,{className:af.UY,onClick:function(){Y.CA.triggerActionInUserEditScope("restore-symbol-or-state-group")},recordingKey:_.Mx(e,"restoreComponentButton")},s.createElement(F.Tx,{id:"design_systems.instance_panel.restore_component"}))):"DELETED_LOCAL_STATE"===o||"DELETED_SUBSCRIBED_STATE"===o?s.createElement(aE.gJ,{title:"Missing variant"},s.createElement("div",{className:af.CY},s.createElement(F.Tx,{id:"design_systems.instance_panel.the_selected_variant_is_missing_in_the_component"})),s.createElement("div",{className:af.w7},s.createElement(ej.wX,{className:af.gt,onClick:function(){let e;if(p){if("DELETED_SUBSCRIBED_STATE"===o){let t=null==a?void 0:a.componentKey;if(!t)return;e=c.get(t)}else if("DELETED_LOCAL_STATE"===o){let t=null==r?void 0:r.guid;if(!t)return;e=n.local.stateGroups[t]}eI.Pc.user("reset-variant",()=>{e&&(0,ah.eo)(e,d,p,t,"Reset Variant Button",!1)})}},recordingKey:_.Mx(e,"resetVariantButton")},s.createElement(F.Tx,{id:"design_systems.instance_panel.reset_to_default"})))):null}var ab=n(332648);function aC(e){return s.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},s.createElement("path",{stroke:"var(--color-icon)",strokeLinecap:"round",strokeLinejoin:"round",d:"M9.5 6.5h-.6c-.84 0-1.26 0-1.58.163a1.5 1.5 0 0 0-.656.656c-.164.32-.164.74-.164 1.581v.6m8-3h.6c.84 0 1.26 0 1.581.163a1.5 1.5 0 0 1 .655.656c.164.32.164.74.164 1.581v.6m-3 8h.6c.84 0 1.26 0 1.581-.163a1.5 1.5 0 0 0 .655-.656c.164-.32.164-.74.164-1.581v-.6m-8 3h-.6c-.84 0-1.26 0-1.581-.163a1.5 1.5 0 0 1-.656-.656c-.163-.32-.163-.74-.163-1.581v-.6"}))}var ak=n(918628),aI=n(729902),aP=n(760236),aM=n(171664),aN=n(816744),aA=n(23604),aO=n(266772),ax=n(570012),aR=n(198324),aL=n(407380),aF=n(506240);let aK="corner_smoothing--cornerSmoothingInput--diqdz";function aD({initialPosition:e,recordingKey:t,onClose:n}){return s.createElement(e2.G0,{title:(0,F.t)("fullscreen.properties_panel.transform_panel.corner_smoothing"),initialPosition:e,headerSize:"small",onClose:n,recordingKey:_.Mx(t,"modal")},s.createElement(eO.I7,null,s.createElement("div",{className:"corner_smoothing--modalControl--AXovi"},s.createElement(aH,{recordingKey:t}))))}function aH(e){let{version:t}=(0,ec.qG)();return s.createElement("ui3"===t?aG:aB,{...e})}function aB(e){let t=(0,aO.qG)(),n=(0,aR.Qp)(),l=(0,lE.A9)("cornerSmoothing"),r=(0,aO.ak)(),a=s.useCallback((e,t)=>{aV(e.x,t)},[]),i=s.useCallback(e=>{let t=(0,aL.E)(e);aV((0,g.qk)((0,q.uc)(l,0)+t/100,0,1),!0)},[l]),o=s.useCallback(e=>{let t=e.getContext("2d");t.fillStyle=(null==r?void 0:r.colorBgSecondary)||aF.cxG,t.fillRect(0,0,c+n,n)},[null==r?void 0:r.colorBgSecondary,n]),c=138,p=new M.Cg((0,q.uc)(l,0),0),d=new aA.OI;return s.createElement("div",{className:"corner_smoothing--root--tqWdN"},s.createElement(aR.Ud,{hitBoxMargin:8,width:c,height:0,handlePadding:!0,value:p,mouseCallback:a,wheelCallback:rO.Kw,keyDownCallback:i,renderCanvas:o,containerClass:"corner_smoothing--sliderContainer--0-rJy",canvasWrapperStyles:"dark"===t?{border:"1px solid var(--color-conditionalborder)"}:{}},s.createElement("div",{className:"corner_smoothing--sliderAnnotationStroke--n6UqC",style:{position:"absolute",width:0,height:18,left:.6*c+.5*n,top:0,borderLeftWidth:1}},s.createElement(eO.yk,{style:{position:"relative",left:-8,top:20},onClick:()=>{aV(.6,!0)}},s.createElement(F.Tx,{id:"fullscreen.properties_panel.transform_panel.i_os"})))),s.createElement(rb.WC,{recordingKey:_.Mx(e,"modal"),className:aK,formatter:d,property:p.x,onChange:e=>{aV(e,!0)}}))}function aG({recordingKey:e}){let t=(0,s.useMemo)(()=>new aA.OI,[]),n=(0,q.uc)((0,lE.A9)("cornerSmoothing"),0);return s.createElement("div",{className:"corner_smoothing--rootUi3--4yJI2"},s.createElement("div",{className:"corner_smoothing--sliderWrapperUi3--k4Z-O"},s.createElement(aN.u,{"aria-label":(0,F.t)("fullscreen.properties_panel.transform_panel.corner_smoothing"),value:n,onChange:(e,{commit:t})=>aV(e,t),min:0,max:1,step:.01,bigStep:.1,defaultValue:0,rangeAnchor:0,hints:[.6],recordingKey:_.Mx(e,"slider")})),s.createElement(rb.WC,{recordingKey:_.Mx(e,"modal"),className:aK,formatter:t,property:n,onChange:e=>void aV(e,!0)}),s.createElement("div",{className:"corner_smoothing--labelWrapperUi3--Kt9lC"},s.createElement(eO.yk,{className:"corner_smoothing--labelUi3--fPeZB",onClick:()=>{aV(.6,!0)}},s.createElement(F.Tx,{id:"fullscreen.properties_panel.transform_panel.i_os"}))))}function aV(e,t){e=Math.round(100*e)/100,Y.CA.updateSelectionProperties({cornerSmoothing:e},{shouldCommit:t?ax.MO.YES:ax.MO.NO})}var aW=n(353612),aU=n(82648),aY=n(706623),az=n(543381),aZ=((r=aZ||{})[r.TOP_LEFT=0]="TOP_LEFT",r[r.BOTTOM_LEFT=1]="BOTTOM_LEFT",r[r.TOP_RIGHT=2]="TOP_RIGHT",r[r.BOTTOM_RIGHT=3]="BOTTOM_RIGHT",r);let aX={0:{svg:aY.c,variableField:"RECTANGLE_TOP_LEFT_CORNER_RADIUS",getTooltip:()=>(0,F.t)("fullscreen.properties_panel.transform_panel.top_left_corner_radius")},2:{svg:az.c,variableField:"RECTANGLE_TOP_RIGHT_CORNER_RADIUS",getTooltip:()=>(0,F.t)("fullscreen.properties_panel.transform_panel.top_right_corner_radius")},1:{svg:aW.c,variableField:"RECTANGLE_BOTTOM_LEFT_CORNER_RADIUS",getTooltip:()=>(0,F.t)("fullscreen.properties_panel.transform_panel.bottom_left_corner_radius")},3:{svg:aU.c,variableField:"RECTANGLE_BOTTOM_RIGHT_CORNER_RADIUS",getTooltip:()=>(0,F.t)("fullscreen.properties_panel.transform_panel.bottom_right_corner_radius")}};function aQ(e){return aX[e].variableField}var aq=n(219096),aj=n(381748),a$=n(159624),aJ=n(369528),a0=n(162280),a5=n(310448),a1=n(853996),a7=n(110296),a2=n(904556),a4=n(782220),a8=n(84656),a6=n(302844);class a3{constructor(e){this._controls=0|e}get framePresetsItem(){return this.getValue(z.IR4.FRAME_PRESETS_ITEM)}get cornerRadius(){return this.getValue(z.IR4.CORNER_RADIUS)}get frameOptions(){return this.getValue(z.IR4.FRAME_OPTIONS)}get count(){return this.getValue(z.IR4.COUNT)}get starInnerScale(){return this.getValue(z.IR4.STAR_INNER_SCALE)}get rectangleCornerRadii(){return this.getValue(z.IR4.RECTANGLE_CORNER_RADII)}get fixedFrameOptions(){return this.getValue(z.IR4.FIXED_FRAME_OPTIONS)}get arcData(){return this.getValue(z.IR4.ARC_DATA)}get transform(){return this.getValue(z.IR4.TRANSFORM)}get size(){return this.getValue(z.IR4.SIZE)}get angle(){return this.getValue(z.IR4.ANGLE)}get sectionItem(){return this.getValue(z.IR4.SECTION_ITEM)}getValue(e){return!!(this._controls&1<<e)}}function a9(e){var t;let n=(0,ei.OY)(),l=(0,Z.i_)(),{bigNudgeAmount:r,smallNudgeAmount:a}=l,i=(0,s.useCallback)((e,t,l)=>{l.stopPropagation();let i=e===h.as.UP_ARROW?"+":"-",o=`${i}${t?r:a}`;n(a7.IF({target:{kind:eh.Yd.TEXT,text:o},targetRect:l.currentTarget.closest("label").getBoundingClientRect(),position:eh.cL.BELOW,hideAfterDelay:200}))},[n,r,a]),o=(t=e.key,(0,s.useMemo)(()=>{class e extends a4.m{getValueForNode(e){return z.GqY.getNodeTransformProperties(e.guid)[t]}setValueForNode(e,n){eI.Pc.user(`transform-change-${t}`,()=>{try{z.GqY.setNodeTransformProperties(e.guid,{[t]:n})}catch{}})}}return new e},[t])),c=function({key:e,setValue:t}){let n=(0,ei.w1)(e=>e.mirror.appModel.onCanvasNameEditorInfo.mode);return(0,s.useCallback)((l,r)=>{ir(e),n!==z.UBf.NONE&&z.i46.hideOnCanvasNameEditor(),t(l,r)},[e,n,t])}(e);return{...l,dispatch:n,onValueChange:c,mixedMathHandler:o,onMixedMathNudge:i,onKeyUp:W.Ii}}function ie(){let{smallNudgeAmount:e,bigNudgeAmount:t}=(0,Z.i_)();return{smallNudgeAmount:e,bigNudgeAmount:t,wheelMultiplier:e,scrubMultiplier:e}}function it(){let e=(0,lE.A9)("stackHorizontalSize"),t=(0,lE.A9)("stackVerticalSize"),n=(0,lE.A9)("textAutoResize"),l=il(),r=(0,ei.w1)(e=>{let t=e.mirror.selectionProperties.numSelectedByType;return(0,a2.aY)(t,"TEXT")}),a=a=>{let i=("VERTICAL"===a?t:e)!==z.MXH.FIXED,o=r&&((0,q.Er)(n)||"WIDTH_AND_HEIGHT"===n||"VERTICAL"===a&&"HEIGHT"===n);return i||"VERTICAL"===a&&l||o};return{widthIsAuto:a("HORIZONTAL"),heightIsAuto:a("VERTICAL")}}function il(){return(0,ei.w1)(e=>{let t=e.mirror.selectionProperties.numSelectedByType;return(0,a2.m2)(t,["LINE","WASHI_TAPE"])})}function ir(e){(0,m.Ub)().ce_properties_panel_tracking&&(0,d.we)("editor-transform-panel-change",{key:e}),(0,a6._)(e)}function ia(){let e=(0,a8.s5)(z.KEP.propertiesPanelState().shownTransformControls);return(0,s.useMemo)(()=>new a3(e),[e])}function ii(){let e=(0,a8.s5)(z.KEP.propertiesPanelState().enabledTransformControls);return(0,s.useMemo)(()=>new a3(e),[e])}let io="independent_corner_radius_view--inputRow--WrZ2t";function is({topLeftValue:e,topRightValue:t,bottomLeftValue:n,bottomRightValue:l,recordingKey:r,onTopLeftChange:a,onTopRightChange:i,onBottomLeftChange:o,onBottomRightChange:c}){let p=s.useMemo(()=>[aQ(aZ.TOP_LEFT)],[]),d=s.useMemo(()=>[aQ(aZ.TOP_RIGHT)],[]),u=s.useMemo(()=>[aQ(aZ.BOTTOM_LEFT)],[]),m=s.useMemo(()=>[aQ(aZ.BOTTOM_RIGHT)],[]),h=(0,ls.OG)(p).data??[],g=(0,ls.OG)(d).data??[],E=(0,ls.OG)(u).data??[],y=(0,ls.OG)(m).data??[],v=s.useRef(null),f=s.useRef(null),w=s.useRef(null),S=s.useRef(null),[T,b]=s.useState(null),C=s.useCallback((e,t)=>{t&&b({corner:e,initialPosition:(0,eg.KA)(t,a5.uw)})},[]),k=s.useCallback(()=>{b(null)},[]);function I(r){switch(r){case aZ.TOP_LEFT:return{value:e,variableFields:p,variablesForField:h,inputRef:v,onChange:a};case aZ.TOP_RIGHT:return{value:t,variableFields:d,variablesForField:g,inputRef:f,onChange:i};case aZ.BOTTOM_LEFT:return{value:n,variableFields:u,variablesForField:E,inputRef:w,onChange:o};case aZ.BOTTOM_RIGHT:return{value:l,variableFields:m,variablesForField:y,inputRef:S,onChange:c}}}function P({corner:e,recordingKey:t}){return s.createElement(ip,{variableFields:I(e).variableFields,isPickerOpen:(null==T?void 0:T.corner)===e,onPickerOpen:()=>C(e,I(e).inputRef.current)},s.createElement(ic,{ref:I(e).inputRef,value:I(e).value,variableFields:I(e).variableFields,svg:aX[e].svg,tooltip:aX[e].getTooltip(),disableEntryPoint:0===I(e).variablesForField.length,recordingKey:t,onChange:I(e).onChange}))}return s.createElement("div",null,s.createElement(s.Fragment,null,s.createElement("div",{className:io},P({corner:aZ.TOP_LEFT,recordingKey:_.Mx(r,"rectangleTopLeftCornerRadiusInput")}),P({corner:aZ.TOP_RIGHT,recordingKey:_.Mx(r,"rectangleTopRightCornerRadiusInput")})),s.createElement("div",{className:io},P({corner:aZ.BOTTOM_LEFT,recordingKey:_.Mx(r,"rectangleBottomLeftCornerRadiusInput")}),P({corner:aZ.BOTTOM_RIGHT,recordingKey:_.Mx(r,"rectangleBottomRightCornerRadiusInput")}))),function(){if(!T)return null;let{corner:e,initialPosition:t}=T,n=(0,q.uc)(I(e).value,0);return s.createElement(id,{corner:e,initialPosition:t,currentFieldValue:n,variableFields:I(e).variableFields,onClose:k})}())}let ic=s.forwardRef(({variableFields:e,value:t,svg:n,tooltip:l,recordingKey:r,disableEntryPoint:a,onChange:i},o)=>{let c=(0,ei.OY)(),{smallNudgeAmount:p,bigNudgeAmount:d,wheelMultiplier:u,scrubMultiplier:m}=ie(),{consumedVariable:h}=(0,rs.DT)(e),g=s.useId();return s.createElement(aj.ai,{ref:o,currentFieldValue:(0,q.uc)(t,0),disableEntryPoint:a},s.createElement(ro.oN,{dispatch:c,value:(0,q.Er)(t)?t:t??0,inputClassName:"independent_corner_radius_view--input--c5KCB raw_components--flushLeft--YH-5P",smallNudgeAmount:p,bigNudgeAmount:d,wheelMultiplier:u,scrubMultiplier:.1*m,noBorderOnHover:!0,isTokenizable:!0,"data-tooltip-type":eh.wL.TEXT,"data-tooltip":l,"data-tooltip-proxy-element-id":h?g:void 0,recordingKey:r,onValueChange:i},s.createElement(x.A,{className:"independent_corner_radius_view--inputIcon--9Djlr transform_panel--inactiveLabel--fPCxr raw_components--iconInsideBorderFocusWithin--2g7fO raw_components--iconInsideBorderFocusWithin--2g7fO",svg:n,"data-tooltip-type":h?eh.wL.TEXT:void 0,"data-tooltip":h?l:void 0,id:g})))});function ip({variableFields:e,isPickerOpen:t,onPickerOpen:n,children:l}){let{consumedVariable:r}=(0,rs.DT)(e),a=(0,a$.c1)(r),i=(0,ls.c1)(a??void 0),o=!!i&&(0,a0._q)(i),[c,p,d]=(0,a$.S0)(e,z.y6c.FLOAT);return s.createElement(aJ.m.Provider,{value:{boundVariableId:a,isBoundVariableDeleted:o,isShowingBindingUI:t,showBindingUI:n,onVariableSelected:d}},l)}function id({corner:e,initialPosition:t,currentFieldValue:n,variableFields:l,onClose:r}){let a=(0,ei.OY)(),{updateVariableConsumption:i}=(0,rs.DT)(l),o=s.useCallback(e=>{a((0,aq.Ge)({item:e,callback:e=>{i((0,rs.R8)(z.y6c.FLOAT,e))}}))},[a,i]);return s.createElement(s.Fragment,null,s.createElement(a$.uI,{fields:[aQ(e)],resolvedType:z.y6c.FLOAT,initialPosition:t,currentFieldValue:n,onVariableSelected:o,onClose:r}),s.createElement(a1.KU,{onClose:r}))}let iu="240px";function im(e){let t=function(){let e=(0,tr.q)(e=>{let t=e.mirror.selectionProperties;return{angle:t.angle,hasReflection:t.hasReflection,topLeft:t.rectangleTopLeftCornerRadius,topRight:t.rectangleTopRightCornerRadius,bottomRight:t.rectangleBottomRightCornerRadius,bottomLeft:t.rectangleBottomLeftCornerRadius}});return(0,s.useCallback)(t=>{let n=[{corner:0,value:e.topLeft,key:"rectangleTopLeftCornerRadius"},{corner:1,value:e.bottomLeft,key:"rectangleBottomLeftCornerRadius"},{corner:3,value:e.bottomRight,key:"rectangleBottomRightCornerRadius"},{corner:2,value:e.topRight,key:"rectangleTopRightCornerRadius"}],l=n.findIndex(({corner:e})=>e===t);e.hasReflection&&(l+=2),null!=e.angle&&(0,q.EH)(e.angle)&&(Math.abs(e.angle)>=135?l+=2:e.angle>=45?l+=3:e.angle<=-45&&(l+=1));let r=n[l%4];return{value:r.value,setter:(e,t=ax.MO.YES)=>{Y.CA.updateSelectionProperties({[r.key]:e},{shouldCommit:t})}}},[e])}();return s.createElement(I,{name:"independent_corner_radius_modal"},s.createElement(e2.G0,{title:(0,F.t)("fullscreen.properties_panel.transform_panel.corner_radius"),initialPosition:e.initialPosition,headerSize:"small",onClose:e.onClose,recordingKey:_.Mx(e,"modal")},s.createElement("div",{className:"independent_corner_radius_modal--cornerRadiusContent--DPDSk"},s.createElement("div",{className:"independent_corner_radius_modal--cornerRadiusModalContent--sopW9"},s.createElement(is,{topLeftValue:t(aZ.TOP_LEFT).value,topRightValue:t(aZ.TOP_RIGHT).value,bottomLeftValue:t(aZ.BOTTOM_LEFT).value,bottomRightValue:t(aZ.BOTTOM_RIGHT).value,recordingKey:_.Mx(e,"independentCornerRadius"),onTopLeftChange:t(aZ.TOP_LEFT).setter,onTopRightChange:t(aZ.TOP_RIGHT).setter,onBottomLeftChange:t(aZ.BOTTOM_LEFT).setter,onBottomRightChange:t(aZ.BOTTOM_RIGHT).setter})),s.createElement(eO.sF,{className:"independent_corner_radius_modal--cornerSmoothingPanel--fUaKb independent_corner_radius_modal--cornerRadiusModalContent--sopW9"},s.createElement(eO.w1,{className:"independent_corner_radius_modal--cornerSmoothingTitle--WTrG6"},(0,F.t)("fullscreen.properties_panel.transform_panel.corner_smoothing")),s.createElement("div",{className:"independent_corner_radius_modal--cornerSmoothingContainer--DTnrk"},s.createElement(aH,{recordingKey:_.Mx(e,"advanced")}))))))}var ih=n(662968),ig=n(72604);let iE=["CORNER_RADIUS"],i_=["RECTANGLE_TOP_LEFT_CORNER_RADIUS","RECTANGLE_TOP_RIGHT_CORNER_RADIUS","RECTANGLE_BOTTOM_LEFT_CORNER_RADIUS","RECTANGLE_BOTTOM_RIGHT_CORNER_RADIUS"];function iy(e){var t;let n=(0,s.useId)(),l=s.useRef(null),{smallNudgeAmount:r,bigNudgeAmount:a,wheelMultiplier:i}=ie(),o=(0,ei.OY)(),[c,p]=(0,lE.H4)("cornerRadius"),{consumedVariable:d,clearVariableConsumption:u}=(0,rs.DT)(iE),{consumedVariable:m,clearVariableConsumption:h}=(0,rs.DT)(i_),g=(0,a$.c1)(d)??(0,a$.c1)(m),E=(0,ls.c1)(g??void 0),y=!!E&&(0,a0._q)(E),[v,f,w]=(0,a$.S0)(iE,z.y6c.FLOAT),S=(0,eC.aI)(c)&&(0,q.EH)(c)?c:void 0,T=0===((null==(t=(0,ls.OG)(iE))?void 0:t.data)??[]).length,b=s.useCallback(()=>{u(),h()},[u,h]),C=s.useCallback(e=>{e?w(e):b()},[w,b]),k=s.useCallback(()=>{l.current&&f(l.current,{currentFieldValue:S})},[f,S]),I=s.useMemo(()=>({isShowingBindingUI:v,showBindingUI:k,boundVariableId:g,isBoundVariableDeleted:y,onVariableSelected:C}),[v,k,g,y,C]),P=(0,F.t)("fullscreen.properties_panel.transform_panel.corner_radius");return s.createElement(ta.g,{name:"corner_radius_input"},s.createElement(aJ.m.Provider,{value:I},s.createElement(aj.ai,{ref:l,inputClassName:e.inputClassName,currentFieldValue:S,disabled:e.disabled,disableEntryPoint:T,recordingKey:_.Mx(e,"cornerRadiusInputVariableWrapper")},s.createElement(ro.oN,{noBorderOnHover:!0,isTokenizable:!0,inputClassName:ih.Yh,value:c,smallNudgeAmount:r,bigNudgeAmount:a,wheelMultiplier:i,onValueChange:e=>{ir("cornerRadius"),p(e)},dispatch:o,"data-tooltip-type":eh.wL.TEXT,"data-tooltip":P,"data-tooltip-proxy-element-id":E?n:void 0,recordingKey:_.Mx(e,"cornerRadiusInput"),disabled:e.disabled,scrubMultiplier:.1*r,dataTestId:"transform-corner-radius"},s.createElement(x.A,{className:ih.CA,svg:ig.c,"data-tooltip-type":E?eh.wL.TEXT:void 0,"data-tooltip":E?P:void 0,id:n})))))}var iv=n(428135);function iw(e){let[t,n]=(0,lE.H4)("angle"),{smallNudgeAmount:l,bigNudgeAmount:r,...a}=a9({key:"angle",setValue:n});return s.createElement(ta.g,{name:"rotation_input"},s.createElement(ro.OW,{className:ih.Ir,inputClassName:ih.Yh,value:t,disabled:e.disabled,...a,"data-tooltip-type":eh.wL.TEXT,"data-tooltip":(0,F.t)("fullscreen.properties_panel.transform_panel.rotation"),recordingKey:_.Mx(e,"angleInput")},s.createElement(x.A,{className:ih.CA,svg:iv.c})))}var iS=n(242632),iT=n(5080),ib=n(262228);function iC(e){let{version:t}=(0,ec.qG)(),[n]=(0,lE.H4)("rectangleCornerRadiiIndependent"),l=(0,s.useRef)(null),r=(0,l_.c)("corner-smoothing"),a=(0,s.useCallback)(()=>{r.hide(),Y.CA.deselectProperty()},[r]),i=e.cornerRadiusDisabled||e.rectangleCornersDisabled,[o,c]=s.useState(null),p=e.rectangleCornersShown&&!!o,u=s.useCallback(()=>{(0,m.Ub)().ce_properties_panel_tracking&&(0,d.we)("editor-transform-panel-change",{key:"rectangleCornerRadiiIndependent",value:!(0,q.uc)(n,!1)}),!p&&l.current?c((0,eg.cT)(l.current,parseInt(iu,10))):c(null)},[n,p]);return"ui2"===t?s.createElement(s.Fragment,null,s.createElement(eO.WA,{forwardedRef:l},s.createElement(iw,{disabled:e.angleDisabled,recordingKey:e.recordingKey}),e.cornerRadiusShown&&s.createElement(iy,{recordingKey:e.recordingKey,inputClassName:e.angleShown?ih.iw:ih.Ir,disabled:p||e.cornerRadiusDisabled}),e.cornerRadiusShown&&e.rectangleCornersShown&&s.createElement(aM.G,{toggled:p,svg:ib.c,className:ih.eS,onMouseDown:u,"data-tooltip-type":eh.wL.TEXT,"data-tooltip":(0,F.t)("fullscreen.properties_panel.transform_panel.independent_corners"),recordingKey:_.Mx(e,"rectangleCornerToolIndependentToggle"),disabled:i}),e.cornerRadiusShown&&!e.rectangleCornersShown&&s.createElement(eO.KM,{svg:iS.c,fallbackSvg:iT.c,className:ih.eS,onMouseDown:e=>ik(r,l,e),recordingKey:_.Mx(e,"cornerSmoothingToggle"),"data-tooltip-type":eh.wL.TEXT,"data-tooltip":(0,F.t)("fullscreen.properties_panel.transform_panel.corner_smoothing"),selected:r.showing,disabled:e.cornerRadiusDisabled})),p&&o&&s.createElement(im,{initialPosition:o,onClose:u,recordingKey:e.recordingKey}),r.showing&&s.createElement(aD,{initialPosition:r.initialPosition,onClose:a,recordingKey:_.Mx(e,"advanced")})):s.createElement(s.Fragment,null,s.createElement(tv.np,{ref:l,leftLabel:s.createElement(F.Tx,{id:"properties.label.rotation"}),leftInput:s.createElement(iw,{disabled:e.angleDisabled,recordingKey:e.recordingKey}),rightInput:e.cornerRadiusShown&&s.createElement(s.Fragment,null,s.createElement(iy,{recordingKey:e.recordingKey,inputClassName:e.angleShown?ih.iw:ih.Ir,disabled:p||e.cornerRadiusDisabled})),rightLabel:e.cornerRadiusShown?s.createElement(F.Tx,{id:"fullscreen.properties_panel.transform_panel.corner_radius"}):null,icon:e.cornerRadiusShown?e.rectangleCornersShown?s.createElement(ta.g,{name:"independent_corner_radius_toggle"},s.createElement(aM.G,{toggled:p,svg:ib.c,className:ih.eS,onMouseDown:u,"data-tooltip-type":eh.wL.TEXT,"data-tooltip":(0,F.t)("fullscreen.properties_panel.transform_panel.independent_corners"),recordingKey:_.Mx(e,"rectangleCornerToolIndependentToggle"),disabled:i})):s.createElement(eO.KM,{svg:iS.c,fallbackSvg:iT.c,className:ih.eS,onMouseDown:e=>ik(r,l,e),recordingKey:_.Mx(e,"cornerSmoothingToggle"),"data-tooltip-type":eh.wL.TEXT,"data-tooltip":(0,F.t)("fullscreen.properties_panel.transform_panel.corner_smoothing"),selected:r.showing,disabled:e.cornerRadiusDisabled}):null}),p&&o&&s.createElement(im,{initialPosition:o,onClose:u,recordingKey:_.Mx(e,"advanced")}),r.showing&&s.createElement(aD,{initialPosition:r.initialPosition,onClose:a,recordingKey:_.Mx(e,"advanced")}))}function ik(e,t,n){n.stopPropagation(),(0,m.Ub)().ce_properties_panel_tracking&&(0,d.we)("editor-transform-panel-change",{key:"cornerSmoothing",value:e.showing}),e.toggle(()=>(0,eg.cT)(t.current))}var iI=n(484876),iP=n(780784),iM=n(108688);function iN(){let e=(0,rs.v9)(!1),t=(0,nZ.s)("add_appearance_property_dropodwn"),n=(0,ei.OY)(),l=(0,rs.v9)(!1),r=(0,s.useRef)(null),a=(0,rc.AP)(!1,void 0);if(!l)return null;let i=[e?{displayText:(0,F.t)("properties.dropdown.apply_variable_mode"),icon:s.createElement(iI.W,null),children:a}:null].filter(eC.aI);return s.createElement(s.Fragment,null,s.createElement(tu.KM,{disabled:0===i.length,selected:t.showing,ref:r,"aria-label":(0,F.t)("fullscreen.properties_panel.align_panel.more_options"),onClick:e=>t.toggle({data:{target:e.currentTarget.getBoundingClientRect()}}),"data-tooltip-type":eh.wL.TEXT,"data-tooltip":(0,F.t)("fullscreen.properties_panel.align_panel.more_options")},s.createElement(iP.S,null)),t.showing&&s.createElement(iM.I,{parentRect:t.data.target,showPoint:!1,items:i,onSelectItem:e=>{var t;null==(t=e.callback)||t.call(e,"",null,n)},dispatch:n}),s.createElement(rc.oT,{showLibrarySets:!1}))}function iA(e){return s.createElement("svg",{width:"16",height:"16",fill:"none",viewBox:"0 0 16 16",...e},s.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M3.035 8.07A.931.931 0 0 1 3.01 8a.931.931 0 0 1 .026-.07c.044-.102.12-.242.235-.412a5.635 5.635 0 0 1 1.053-1.121C5.257 5.627 6.54 5 8 5s2.743.628 3.677 1.397c.465.383.821.783 1.053 1.121.116.17.191.31.235.413L12.99 8a.957.957 0 0 1-.026.07c-.044.102-.12.242-.235.412a5.637 5.637 0 0 1-1.053 1.121C10.743 10.373 9.46 11 8 11s-2.743-.628-3.677-1.397A5.635 5.635 0 0 1 3.27 8.482a2.449 2.449 0 0 1-.235-.413ZM2 8c0-1 2.5-4 6-4s6 3 6 4-2.5 4-6 4-6-3-6-4Zm6 1a1 1 0 1 0 0-2 1 1 0 0 0 0 2Z",clipRule:"evenodd"}))}var iO=n(266880),ix=n(597624),iR=n(46),iL=n(985288),iF=n(648892),iK=n(956924),iD=n(580340),iH=n(73376),iB=n(608140);let iG=new iH.sP;class iV extends rx.cb{}class iW extends rx.M1{}class iU extends s.PureComponent{render(){let e=this.props.includePassThrough?iB.mO:iB.cZ;return s.createElement(iW,{id:iY(this.props.id),className:this.props.className,inputClassName:this.props.inputClassName,chevronClassName:this.props.chevronClassName,property:this.props.property,formatter:iG,onChange:this.props.onChange,onMouseDown:this.props.onMouseDown,willShowDropdown:this.props.willShowDropdown,dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown,recordingKey:this.props.recordingKey,dropdownWidth:this.props.isUI3?120:"auto",svg:this.props.isUI3?void 0:(0,iB.on)((0,q.kB)(this.props.property)),enablePreview:!0},e.map((e,t)=>"SELECT_DIVIDER"===e?s.createElement(rx.Wy,{key:t}):s.createElement(iV,{key:t,value:e,recordingKey:_.Mx(this.props,e)})))}}function iY(e){return`blend-mode-select-${e}`}iU.displayName="BlendMode";var iz=n(36040),iZ=n(499752),iX=n(807200),iQ=n(471111),iq=n(912480),ij=n(541384),i$=n(101180);function iJ(e){let{blendMode:t,opacity:n,visible:l}=e,r="ui3"===(0,ec.qG)().version,a=s.useRef(null),i=s.useMemo(aP.EF,[]),o=s.useMemo(aP.wy,[]),{dropdownShown:c,isDefReferencedBySelection:u,selectedGUIDs:h,visibilityIsBoundToComponentProp:g}=(0,tr.q)(e=>({dropdownShown:e.dropdownShown,isDefReferencedBySelection:!!i(e,ak.M.VISIBLE),selectedGUIDs:(0,eP.qg)(e),visibilityIsBoundToComponentProp:o(e,(0,eP.qg)(e),ak.M.VISIBLE)})),E=(0,q.Er)(l),y=(0,ei.OY)(),v=s.useCallback((e,t=ax.MO.YES)=>{ek.qM.shouldReportForShouldCommit(t)&&iR.yu.trackFromFullscreen("editor-blend-mode-change",{blendMode:e}),Y.CA.updateSelectionProperties({blendMode:e,visible:!0},{shouldCommit:t})},[]),f=s.useCallback((e,t)=>{Y.CA.updateSelectionProperties({opacity:e},{shouldCommit:t}),e>0&&!u&&Y.CA.updateSelectionProperties({visible:!0},{shouldCommit:t})},[u]),S=s.useRef(null),[,T]=i0(),{consumedVariable:b,clearVariableConsumption:C}=(0,rs.DT)(["VISIBLE"]),{variableConsumptionMap:k}=(0,rs.Ef)(),I=i5(),P=(0,ls.c1)(I),M=null==P?void 0:P.name,N=!!b&&!!P;return s.createElement(w.u,{name:"layer_panel"},s.createElement(eO.sF,null,s.createElement(eO.WA,{className:tI.g5},s.createElement(iz.ED,{isPanelBodyCollapsedAtom:null},s.createElement(eO.w1,{isPanelBodyCollapsedAtom:null},s.createElement(F.Tx,{id:"fullscreen.layer_panel.layer"})),s.createElement(ry,{recordingKey:"frameLevel"}),!N&&s.createElement(iF.k,{nodeField:ak.M.VISIBLE,defaultValue:l,guids:h}),s.createElement(rd,{showLibrarySets:!1,recordingKey:"frameLevel"}))),s.createElement(iz.O_,{isPanelBodyCollapsedAtom:null},s.createElement(eO.WA,null,s.createElement(iU,{id:"layer-blend-mode",className:iq.cn,inputClassName:iq.aG,chevronClassName:iq.KY,property:t,dispatch:y,dropdownShown:c,onChange:v,willShowDropdown:()=>((0,d.we)("editor-blend-mode-dropdown-show"),Promise.resolve()),includePassThrough:!0,recordingKey:_.Mx(e,"blendMode"),isUI3:r}),s.createElement(iK.Q,{condition:!!(0,m.Ub)().ds_variables_strokes,wrapper:t=>s.createElement(aj.eY,{recordingKey:_.Mx(e,"layerOpacityInputWrapper"),fields:["OPACITY"],disabled:!1,resolvedType:z.y6c.FLOAT,currentFieldValue:(0,q.EH)(n)?n:void 0,inputClassName:p()({[iq.o9]:!0,[iq.k1]:(0,m.Ub)().ds_variables_strokes}),hideIcon:!0,inputRef:a,hasBindingContextMenu:!0},t)},s.createElement(ro._2,{className:(0,m.Ub)().ds_variables_strokes?void 0:iq.o9,isTokenizable:!!(0,m.Ub)().ds_variables_strokes,value:n,onValueChange:f,mixedMathHandler:i7,dispatch:y,recordingKey:_.Mx(e,"opacity"),forwardedRef:a,noBorderOnHover:(0,m.Ub)().ds_variables_strokes})),s.createElement(i4,{recordingKey:e.recordingKey})),E&&!u&&s.createElement(eO.WA,{dataTestId:"mixed-visibility-label"},s.createElement(eO.yk,{className:iQ.Sq},s.createElement(F.Tx,{id:"fullscreen.layer_panel.replace_mixed_visibility",svg:s.createElement("div",{className:iq.iu},s.createElement(ed.e,{svg:i$.c},s.createElement(iA,null)))}))),s.createElement("div",{className:iq.U7},s.createElement(aI.q,{nodeField:ak.M.VISIBLE,currentValue:e.visible})),(0,m.Ub)().prototype_expressions_nodefields?k.VISIBLE&&s.createElement(ix.g,{direction:"horizontal",spacing:"auto",verticalAlignItems:"center",horizontalAlignItems:"space-between",padding:{top:0,left:16,bottom:0,right:8}},s.createElement(iZ._C,{targetVariableData:k.VISIBLE.isMixed?void 0:k.VISIBLE,onClick:()=>{T(S.current)},isNarrowPanel:!0,isInCell:!1,showVariableThumbnails:!0,isInConditional:!1,isMixed:k.VISIBLE.isMixed}),s.createElement(lu.w,{onClick:()=>C(),"aria-label":(0,F.t)("variables.binding_ui.detach_variable_tooltip"),"data-tooltip":(0,F.t)("variables.binding_ui.detach_variable_tooltip"),"data-tooltip-type":eh.wL.TEXT,recordingKey:"detachVisibilityVariable"},s.createElement(ed.e,{svg:ij.c},s.createElement(iO.w,null)))):N&&!g&&s.createElement(ix.g,{direction:"horizontal",spacing:"auto",verticalAlignItems:"center",horizontalAlignItems:"space-between",padding:{top:0,left:16,bottom:0,right:8}},s.createElement(iD.Y,{value:M||(0,F.t)("fullscreen.mixed"),isStandalone:!0,styleOverride:{width:"auto"},isDeleted:!!P&&(0,a0._q)(P)}),s.createElement(lu.w,{onClick:()=>C(),"aria-label":(0,F.t)("variables.binding_ui.detach_variable_tooltip"),"data-tooltip":(0,F.t)("variables.binding_ui.detach_variable_tooltip"),"data-tooltip-type":eh.wL.TEXT,recordingKey:"detachVisibilityVariable"},s.createElement(ed.e,{svg:ij.c},s.createElement(iO.w,null)))),s.createElement(rC.Ap,{showExplicitOnly:!0,recordingKey:"layerPanel-variableModeEntries"}))))}let i0=()=>(0,a$.S0)(["VISIBLE"],z.y6c.BOOLEAN,void 0,(0,m.Ub)().prototype_bind_visiblity_to_strs?{requestedTypes:[z.y6c.BOOLEAN,z.y6c.FLOAT,z.y6c.STRING],variableFilters:{[iL.E.MUST_INCLUDE_ONE_OF]:{[z.y6c.STRING]:iX.CW}},mapVariableIdToTypedValue:a$.C2}:void 0);function i5(){let e;let{consumedVariable:t}=(0,rs.DT)(["VISIBLE"]);if(t){if((0,q.EH)(t)&&t.type===z.Tcd.ALIAS)e=t.value;else if((0,q.EH)(t)&&t.type===z.Tcd.EXPRESSION){for(let n of(0,a0.__)(t))if(n.type===z.Tcd.ALIAS){e=n.value;break}}}return e}class i1 extends a4.m{getValueForNode(e){return e.opacity}setValueForNode(e,t){eI.Pc.user("set-opacity",()=>{ek.qM.reportAnyPropertyChange(["opacity"]),e.opacity=t})}}let i7=new i1,i2=(0,aP.wy)();function i4(e){let t=s.useCallback(e=>{Y.CA.updateSelectionProperties({visible:e})},[]),n=s.useMemo(aP.EF,[]),{isDefReferencedBySelection:l,visibilityIsBoundToComponentProp:r}=(0,tr.q)(e=>({isDefReferencedBySelection:!!n(e,ak.M.VISIBLE),visibilityIsBoundToComponentProp:i2(e,(0,eP.qg)(e),ak.M.VISIBLE)})),a=(0,ls.OG)(["VISIBLE"]).data??[],[i]=(0,lE.H4)("visible"),{consumedVariable:o}=(0,rs.DT)(["VISIBLE"]),c=s.useRef(null),[p,d]=i0(),u=i5(),m=(0,ls.c1)(u),h=!!o&&!!m;return s.createElement("div",{className:iq.Ow},s.createElement(aj.SG,{ref:c,currentFieldValue:!!(0,q.Er)(i)||i,isActive:p,disabled:h||r||0===a.length,recordingKey:_.Mx(e,"visibilityVariableControl"),onPickerOpen:()=>d(c.current),dataTestId:"visibility-variable-control"},s.createElement("span",{className:iq.Ow},s.createElement(rk.k,{disabled:l||h||r,visible:i,onChange:t,recordingKey:_.Mx(e,"visibleToggle")}))))}var i8=n(801928);let i6="layer-blend-mode";function i3(e){let[t]=(0,lE.H4)("blendMode"),n=(0,ei.OY)(),l=s.useCallback((e,t=ax.MO.YES)=>{ek.qM.shouldReportForShouldCommit(t)&&iR.yu.trackFromFullscreen("editor-blend-mode-change",{blendMode:e}),Y.CA.updateSelectionProperties({blendMode:e,visible:!0},{shouldCommit:t})},[]),r=(0,tr.q)(e=>e.dropdownShown);return(null==r?void 0:r.type)!==iY(i6)&&"PASS_THROUGH"===t?null:s.createElement(tK._G,{labelTx:s.createElement(F.Tx,{id:"fullscreen.properties_panel.section_appearance.label_blendMode"}),input:s.createElement(iU,{id:i6,className:iq.cn,inputClassName:iq.aG,chevronClassName:iq.KY,property:t,dispatch:n,dropdownShown:r,onChange:l,willShowDropdown:()=>((0,d.we)("editor-blend-mode-dropdown-show"),Promise.resolve()),includePassThrough:!0,recordingKey:_.Mx(e,"blendMode"),isUI3:!0}),icon:s.createElement(lu.w,{"data-tooltip":(0,F.t)("general.remove"),"data-tooltip-type":eh.wL.TEXT,"aria-label":(0,F.t)("general.remove"),onClick:()=>l("PASS_THROUGH"),actionOnPointerDown:!0},s.createElement(i8.e,null))})}function i9(e){return s.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},s.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M9 7.5A1.5 1.5 0 0 1 10.5 6h6A1.5 1.5 0 0 1 18 7.5v6a1.5 1.5 0 0 1-1.5 1.5h-6A1.5 1.5 0 0 1 9 13.5v-6Zm1.5-.5a.5.5 0 0 0-.5.5V9a5.14 5.14 0 0 1 .898.08M10 10v3.5a.5.5 0 0 0 .5.5H14a4.001 4.001 0 0 0-4-4Zm.9-.92a4.966 4.966 0 0 1 1.117.343c.29.128.566.283.824.462l.003.002a5.062 5.062 0 0 1 1.27 1.271 4.984 4.984 0 0 1 .549 1.034c.113.29.199.594.256.907v.003c.053.291.081.591.081.898h1.5a.5.5 0 0 0 .5-.5v-6a.5.5 0 0 0-.5-.5h-6m.12 10.952c.253-.04.51.083.608.32.115.276-.035.594-.33.648a5.034 5.034 0 0 1-1.796 0c-.295-.054-.445-.372-.33-.649a.556.556 0 0 1 .607-.319 4.034 4.034 0 0 0 1.242 0Zm1.532-.064a.556.556 0 0 1 .203-.655c.336-.245.633-.541.878-.878a.556.556 0 0 1 .655-.203c.277.114.396.445.225.692a5.028 5.028 0 0 1-1.27 1.27c-.246.17-.576.051-.691-.226ZM14.584 16l-.007.016.007-.016Zm-6.736-5.888a.556.556 0 0 1-.203.655 4.023 4.023 0 0 0-.878.878.556.556 0 0 1-.655.203c-.277-.115-.396-.445-.225-.692a5.028 5.028 0 0 1 1.27-1.27c.246-.17.577-.051.691.226Zm-2.12 2.66a.557.557 0 0 1 .32.607 4.029 4.029 0 0 0 0 1.242.556.556 0 0 1-.32.607c-.276.115-.594-.035-.648-.33a5.03 5.03 0 0 1 0-1.796c.054-.295.372-.445.649-.33Zm.384 3.38a.556.556 0 0 1 .655.203c.245.337.541.633.878.878.206.15.3.42.203.655-.114.277-.445.396-.692.225a5.028 5.028 0 0 1-1.27-1.27c-.17-.246-.051-.577.226-.691Zm1.87 2.424c.07.031.14.06.212.088l-.212-.088Zm-2.646-2.771.088.213a5.006 5.006 0 0 1-.088-.213Zm.088-3.823-.088.213c.028-.072.057-.143.088-.213ZM8.19 9.338l-.203.084c.067-.03.135-.058.203-.084Zm3.613 9.327.217-.09a4.944 4.944 0 0 1-.217.09Z",clipRule:"evenodd"}))}function oe(){let[e,t]=(0,lE.H4)("frameMaskDisabled"),n=!(0,q.Er)(e)&&!e;return s.createElement(tu.KM,{"aria-label":(0,F.t)("fullscreen.properties_panel.transform_panel.clip_content"),"data-tooltip":(0,F.t)("fullscreen.properties_panel.transform_panel.clip_content"),"data-tooltip-type":eh.wL.TEXT,selected:!n,onClick:()=>{let e=!n;(0,m.Ub)().ce_properties_panel_tracking&&(0,d.we)("editor-transform-panel-change",{key:"clipContent",value:e}),t(!e)}},s.createElement(i9,null))}function ot(){let{consumedVariable:e,clearVariableConsumption:t}=(0,rs.DT)(["VISIBLE"]),n=i5(),l=(0,ls.c1)(n),r=null==l?void 0:l.name,a=!!e&&!!l,i=s.useMemo(aP.wy,[]),o=(0,tr.q)(e=>i(e,(0,eP.qg)(e),ak.M.VISIBLE));return!a||o?null:s.createElement(tv.gn,{input:s.createElement(iD.Y,{value:r||(0,F.t)("fullscreen.mixed"),isStandalone:!0,classNameOverride:"component_bound_vibisility_row--pillCover--q5iKl",styleOverride:{width:"auto"},isDeleted:!!l&&(0,a0._q)(l)}),icon:s.createElement(lu.w,{onClick:()=>t(),"aria-label":(0,F.t)("variables.binding_ui.detach_variable_tooltip"),"data-tooltip-type":eh.wL.TEXT,recordingKey:"detachVisibilityVariable"},s.createElement(iO.w,null)),label:null})}function on(e){let t=ia(),n=ii(),l=(0,l_.c)("corner-smoothing"),[r]=(0,lE.H4)("rectangleCornerRadiiIndependent"),a=(0,lE.A9)("visible"),i=!n.rectangleCornerRadii,o=t.cornerRadius,[c,p]=s.useState(null),[u]=(0,lE.H4)("opacity"),h=t.rectangleCornerRadii,g=t.rectangleCornerRadii&&!!c,E=!n.cornerRadius,y=E||i,v=(0,s.useRef)(null),f=s.useMemo(aP.wy,[]),w=s.useRef(null),S=s.useMemo(aP.EF,[]),{isDefReferencedBySelection:T}=(0,tr.q)(e=>({dropdownShown:e.dropdownShown,isDefReferencedBySelection:!!S(e,ak.M.VISIBLE),selectedGUIDs:(0,eP.qg)(e),visibilityIsBoundToComponentProp:f(e,(0,eP.qg)(e),ak.M.VISIBLE)})),b=s.useCallback((e,t)=>{Y.CA.updateSelectionProperties({opacity:e},{shouldCommit:t}),e>0&&!T&&Y.CA.updateSelectionProperties({visible:!0},{shouldCommit:t})},[T]),C=(0,s.useCallback)(()=>{l.hide(),Y.CA.deselectProperty()},[l]),k=(0,ei.OY)(),I=s.useCallback(()=>{(0,m.Ub)().ce_properties_panel_tracking&&(0,d.we)("editor-transform-panel-change",{key:"rectangleCornerRadiiIndependent",value:!(0,q.uc)(r,!1)}),!g&&v.current?p((0,eg.cT)(v.current,parseInt(iu,10))):p(null)},[r,g]);return s.createElement(eO.sF,null,s.createElement(tK.UT,{titleTx:s.createElement(F.Tx,{id:"fullscreen.appearance_panel.appearance"})},t.fixedFrameOptions?s.createElement(oe,null):null,s.createElement(i4,null),s.createElement(iN,null)),s.createElement(tv.np,{ref:v,leftInput:s.createElement(ro._2,{inputClassName:"appearance_panel--input--h3br5 raw_components--flushLeft--YH-5P",ui3RightJustifyPercentSign:!1,isTokenizable:!!(0,m.Ub)().ds_variables_strokes,value:u,onValueChange:b,mixedMathHandler:ol,dispatch:k,recordingKey:_.Mx(e,"opacity"),forwardedRef:w},s.createElement(ab.w,{className:"appearance_panel--inputIcon--GE30W"})),rightInput:o?s.createElement(iy,{disabled:g||E}):null,icon:o?h?s.createElement(ta.g,{name:"independent_corner_radius_toggle"},s.createElement(eO.KM,{selected:g,onMouseDown:I,"data-tooltip-type":eh.wL.TEXT,"data-tooltip":(0,F.t)("fullscreen.properties_panel.transform_panel.independent_corners"),recordingKey:_.Mx(e,"rectangleCornerToolIndependentToggle"),disabled:y},s.createElement(aC,null))):s.createElement(eO.KM,{onMouseDown:e=>ik(l,v,e),recordingKey:_.Mx(e,"cornerSmoothingToggle"),"data-tooltip-type":eh.wL.TEXT,"data-tooltip":(0,F.t)("fullscreen.properties_panel.transform_panel.corner_smoothing"),selected:l.showing,disabled:E},s.createElement(lm.g,null)):null,leftLabel:s.createElement(F.Tx,{id:"fullscreen.properties_panel.section_appearance.label_opacity"}),rightLabel:o?s.createElement(F.Tx,{id:"fullscreen.properties_panel.transform_panel.corner_radius"}):null}),s.createElement(i3,null),s.createElement(aI.q,{nodeField:ak.M.VISIBLE,currentValue:a}),s.createElement(rC.Ap,{showExplicitOnly:!0,recordingKey:"layerPanel-variableModeEntries"}),s.createElement(ot,null),g&&c&&s.createElement(im,{initialPosition:c,onClose:I,recordingKey:_.Mx(e,"advanced")}),l.showing&&s.createElement(aD,{initialPosition:l.initialPosition,onClose:C,recordingKey:_.Mx(e,"advanced")}))}let ol=new i1;var or=n(56148);let oa="mask_panel--maskTypeDropdown--3Etsx";class oi extends rx.M1{}class oo extends rx.cb{}class os extends s.PureComponent{constructor(){super(...arguments),this.onMaskTypeChange=(e,t=ax.MO.YES)=>{Y.CA.updateSelectionProperties({maskType:e},{shouldCommit:t})},this.maskTypeFormatter={format:e=>{switch(e){case"ALPHA":return(0,F.t)("fullscreen.mask_panel.alpha");case"OUTLINE":return(0,F.t)("fullscreen.mask_panel.vector");case"LUMINANCE":return(0,F.t)("fullscreen.mask_panel.luminance")}},formatExtended:e=>{switch(e){case"ALPHA":return{text:(0,F.t)("fullscreen.mask_panel.alpha_extended")};case"OUTLINE":return{text:(0,F.t)("fullscreen.mask_panel.vector_extended")};case"LUMINANCE":return{text:(0,F.t)("fullscreen.mask_panel.luminance_extended")}}}},this.stopPropagation=e=>e.stopPropagation()}render(){let e=s.createElement(eO.WA,null,s.createElement(oi,{id:"mask-type-dropdown",className:oa,property:this.props.maskType,formatter:this.maskTypeFormatter,onChange:this.onMaskTypeChange,dispatch:this.props.dispatch,dropdownClassName:oa,dropdownShown:this.props.dropdownShown,onMouseDown:this.stopPropagation,recordingKey:_.Mx(this.props,"maskType"),enablePreview:!0},s.createElement(oo,{value:"ALPHA",recordingKey:_.Mx(this.props,"maskType","alpha")}),s.createElement(oo,{value:"OUTLINE",recordingKey:_.Mx(this.props,"maskType","outline")}),s.createElement(oo,{value:"LUMINANCE",recordingKey:_.Mx(this.props,"maskType","luminance")})));return s.createElement(w.u,{name:"mask_panel"},s.createElement(eO.sF,null,s.createElement(eO.WA,null,s.createElement(eO.w1,null,s.createElement(F.Tx,{id:"fullscreen.mask_panel.mask"}))),e))}}os.displayName="MaskPanel";var oc=n(792592),op=n(485876),od=n(173885),ou=n(702924),om=n(84244);function oh({addProperty:e,children:t,contentsVisibleOrMixed:n,minusDisabled:l,plusDisabled:r,recordingKey:a,removeProperty:i,showButton:o,title:c,dataTestId:p,shouldHideButton:d}){let{version:u}=(0,ec.qG)(),m=(0,s.useCallback)(()=>{!1!==n||r||e()},[e,n,r]),h=n===q.ee,g=!h&&!n;null==o&&(o=!0===n?"-":"+");let E="+"===o?s.createElement(lu.w,{as:"button",recordingKey:_.Mx(a,"addButton"),onClick:e,onMouseDown:W.Ii,disabled:r,"aria-label":(0,F.t)("fullscreen.properties_panel.add"),"data-testid":p??""},s.createElement(ed.e,{svg:t1.c,fallbackSvg:nH.c},s.createElement(op.c,null))):s.createElement(lu.w,{as:"button",recordingKey:_.Mx(a,"removeButton"),onClick:i,onMouseDown:W.Ii,disabled:l,"aria-label":(0,F.t)("fullscreen.properties_panel.remove"),"data-testid":p??""},s.createElement(ed.e,{svg:ou.c,fallbackSvg:om.c},s.createElement(od.A,null)));return"ui3"===u?s.createElement(s.Fragment,null,c&&s.createElement(tK.wL,{onMouseDown:m,faded:g,titleTx:s.createElement("span",null,c),icon:d?void 0:E}),h&&s.createElement(eO.WA,null,s.createElement(eO.yk,{className:iQ.Sq},s.createElement(F.Tx,{id:"fullscreen.properties_panel.click_plus_to_replace_mixed_content"}))),!h&&!g&&t):s.createElement(s.Fragment,null,c&&s.createElement(eO.WA,{onMouseDown:m,className:g?iQ.UN:void 0,recordingKey:_.Mx(a,"panelTitle")},s.createElement(eO.w1,{faded:g,extended:!0},s.createElement("div",{className:iQ.sD},c)),s.createElement(eO.qR,null,d?null:E)),h&&s.createElement(eO.WA,null,s.createElement(eO.yk,{className:iQ.Sq},s.createElement(F.Tx,{id:"fullscreen.properties_panel.click_plus_to_replace_mixed_content"}))),!h&&!g&&t)}class og extends _.Yl{constructor(){super(...arguments),this.noop=()=>{}}render(){return s.createElement(w.u,{name:"remove_group_fill_and_stroke_panel"},s.createElement(eO.sF,null,s.createElement(oh,{title:"Background",addProperty:this.noop,removeProperty:z.i46.clearFillAndStrokePaintsOnSelectedGroups,contentsVisibleOrMixed:!0},s.createElement(eO.WA,{className:"remove_group_fill_and_stroke_panel--labelContainer--ngqjq"},s.createElement(eO.yk,{className:"remove_group_fill_and_stroke_panel--label--orOpK"},s.createElement(F.Tx,{id:"fullscreen.remove_group_fill_and_stroke.background_color_group_unsupported"}))))))}}var oE=n(327112),o_=n(664964),oy=n(119224),ov=n(222720),of=n(750976),ow=n(17888);function oS(e){var t;let n="stroke-settings",[l,r]=(0,ru.lZ)(oE.gv),a=l.paints||[],i=(0,ei.OY)(),o=s.useContext(t9.Oi),c=()=>null!=o,p=s.useRef(null),d=e=>{r({paints:e}),j.EB.clearCache()},u=e=>{let{strokeWeight:t,dashPattern:n}=e,l=(0,q.kB)(t);l&&r({strokeWeight:l});let a=(0,q.kB)(n);a&&r({dashPattern:a})},m=e=>{let t=a.filter((t,n)=>!e.has(n));0===t.length&&(t=[a[0]]),d(t)},h=(e,{fromSearch:t}={})=>{i(aq.Ce({style:e,inheritStyleKeyField:"inheritFillStyleKeyForStroke",fromSearch:t}))},{version:g}=(0,ec.qG)(),E=!!l.styleId||a.length>0,y=(null==(t=e.pickerShown)?void 0:t.id)===n,v=!e.userFlags.dismissed_shift_to_draw_straight_lines_hint,f=s.createElement(ov.oZ,{strokeWeight:l.strokeWeight||o_.o7,onChange:u,recordingKey:_.Mx(e,"weight")}),w=s.createElement(of.E3,{className:"ui3"===g?void 0:"pencil_tool_panel--dashCap--OD1E2",dashCap:(0,of.gB)(l.strokeCap||"ROUND")||"ROUND",onChange:e=>{r({strokeCap:e})},recordingKey:_.Mx(e,"dashCap")}),S=s.createElement(eO.KM,{svg:iS.c,fallbackSvg:iT.c,className:"pencil_tool_panel--advancedStroke--1497y",onClick:()=>{var t;if((null==(t=e.pickerShown)?void 0:t.id)===n)i(K.U5());else{if(!p)return;let e=ea.findDOMNode(p.current),t=(0,eg.cT)(e);i(K.is({id:n,initialX:t.x,initialY:t.y}))}},onMouseDown:e=>e.stopPropagation(),selected:y,"data-tooltip-type":eh.wL.TEXT,"data-tooltip":(0,F.t)("fullscreen.pencil_tool.advanced_stroke_settings"),recordingKey:_.Mx(e,"more")});return s.createElement("div",{className:"pencil_tool_panel--pencilPanelContainer--O-fFF"},s.createElement(eO.sF,null,s.createElement(oc.Dk,{title:(0,F.t)("fullscreen.pencil_tool.stroke"),propertyList:a,onChange:d,currentSelectedProperty:e.currentSelectedProperty,selectedPropertyType:z.cf6.STROKE_PRESET,styleType:"FILL",addProperty:()=>{Y.CA.triggerAction("add-stroke-to-selection")},onDeleteProperty:e=>m(e),onReorder:()=>{j.EB.clearCache()},renderProperty:(t,n,l,r,o,p,d,u,E)=>{var y;let v=c()?"preview-paint":"paint",f=j.EB.getId(n,z.cf6.STROKE_PRESET,v),w=a.slice(0,n).some(e=>e.visible);return s.createElement(oc.Cm,{key:`paint-${n}`,id:f,index:n,inheritStyleKeyField:"inheritFillStyleKeyForStroke",singletonRow:1===a.length,selectedPropertyType:z.cf6.STROKE_PRESET,paint:t,selected:e.stylePickerShown.isShown?(null==(y=e.pickerShown)?void 0:y.id)===f:l,isDragging:r,hasFocus:o,pickerInStyleCreationShown:e.pickerInStyleCreationShown,stylePickerShown:e.stylePickerShown,onChange:p,onApplyStyle:h,onMouseDown:d,onMouseMove:u,onMouseUp:E,onRemovePaint:a.length>1?()=>m(new Set([n])):void 0,hideVisibilityToggle:1===a.length,currentSelectedGradientStop:e.currentSelectedGradientStop,currentTool:z.w3X.VECTOR_PENCIL,colorFormat:e.colorFormat,dispatch:i,dropdownShown:e.dropdownShown,pickerShown:e.pickerShown,editModeType:e.editModeType,defaultColor:j.aw,library:e.library,openFile:e.openFile,recordingKey:_.Mx(e,n),variableScopes:new Set([z.EDU.STROKE]),isUI3:"ui3"===g,hasVisiblePaintBelow:w})},recordingKey:e.recordingKey,sceneGraphSelection:e.sceneGraphSelection,library:e.library,modalShown:e.modalShown,openFile:e.openFile,inheritStyleKeyField:"inheritFillStyleKeyForStroke",inheritStyleKey:l.styleId||null,inheritStyleID:null,selectedStyleProperties:e.selectedStyleProperties,stylePickerListLayout:e.stylePickerListLayout,stylePickerShown:e.stylePickerShown,onToggleListLayout:()=>{i(K.Mj({isListLayout:!e.stylePickerListLayout}))},removeAllProperties:null,onApplyStyle:h,defaultColor:j.w1}),E&&("ui3"===g?s.createElement(tv.np,{ref:p,leftLabel:s.createElement(F.Tx,{id:"fullscreen.properties_panel.section_stroke.label_weight"}),leftInput:f,rightLabel:s.createElement(F.Tx,{id:"fullscreen.properties_panel.section_stroke.label_end_cap"}),rightInput:w,icon:S}):s.createElement(eO.WA,{ref:p},f,w,S))),v&&s.createElement("div",{className:"pencil_tool_panel--hintPanel--917wK"},s.createElement(oy.K,{title:(0,F.t)("fullscreen.pencil_tool.hold_shift_to_draw_straight_lines"),icon_DEPRECATED:ow.c,userFlag:"dismissed_shift_to_draw_straight_lines_hint",hintText:(0,F.t)("fullscreen.pencil_tool.now_vertical_horizontal_and_diagonal_lines_are_a_breeze")})),y&&e.pickerShown&&s.createElement(of.IN,{onChange:u,strokePanelMode:z.ekv.PENCIL,strokePanelTerminalPointCount:2,strokeCap:l.strokeCap||"ROUND",strokeJoin:"ROUND",maxStrokeWeight:l.strokeWeight||o_.o7,dashPattern:l.dashPattern,dropdownShown:e.dropdownShown,pickerShown:e.pickerShown,recordingKey:_.Mx(e,"advanced")}))}function oT(e){let t=(0,Z.q4)(),n=(0,tr.q)(e=>{var t;return{currentSelectedGradientStop:e.mirror.appModel.currentSelectedGradientStop,library:e.library,dropdownShown:e.dropdownShown,modalShown:e.modalShown,pickerShown:e.pickerShown,pickerInStyleCreationShown:e.pickerInStyleCreationShown,stylePickerShown:e.stylePickerShown,colorPicker:e.colorPicker,styleSets:e.styleSets,openFileKey:(null==(t=e.openFile)?void 0:t.key)||null,reposById:e.repos,teams:e.teams,editModeType:e.mirror.appModel.activeCanvasEditModeType,currentTool:e.mirror.appModel.currentTool,sceneGraphSelection:e.mirror.sceneGraphSelection,currentSelectedProperty:e.mirror.appModel.currentSelectedProperty,inheritStyleKey:e.mirror.selectionProperties.inheritFillStyleKeyForStroke||null,selectedStyleProperties:e.mirror.selectedStyleProperties,stylePickerListLayout:e.stylePickerListLayout,userFlags:e.userFlags}});return s.createElement(oS,{...n,...e,colorFormat:t})}var ob=n(53905),oC=n(454292),ok=n(961716),oI=n(893984),oP=n(958895),oM=n(860356),oN=n(125524),oA=n(918764),oO=n(117648);let ox={[z.ikQ.TOP_LEFT]:"anchor_point_selector--apTopLeft--jsueH",[z.ikQ.TOP_CENTER]:"anchor_point_selector--apTopMiddle--Wp-kD",[z.ikQ.TOP_RIGHT]:"anchor_point_selector--apTopRight--mbC5X",[z.ikQ.MIDDLE_LEFT]:"anchor_point_selector--apMiddleLeft--G-YlO",[z.ikQ.MIDDLE_CENTER]:"anchor_point_selector--apMiddleMiddle--gut-r",[z.ikQ.MIDDLE_RIGHT]:"anchor_point_selector--apMiddleRight--VZnhH",[z.ikQ.BOTTOM_LEFT]:"anchor_point_selector--apBottomLeft--30X3n",[z.ikQ.BOTTOM_CENTER]:"anchor_point_selector--apBottomMiddle--ySpzF",[z.ikQ.BOTTOM_RIGHT]:"anchor_point_selector--apBottomRight--rXs-P"},oR={[z.ikQ.TOP_LEFT]:"top_left",[z.ikQ.TOP_CENTER]:"top_center",[z.ikQ.TOP_RIGHT]:"top_right",[z.ikQ.MIDDLE_LEFT]:"middle_left",[z.ikQ.MIDDLE_CENTER]:"middle_center",[z.ikQ.MIDDLE_RIGHT]:"middle_right",[z.ikQ.BOTTOM_LEFT]:"bottom_left",[z.ikQ.BOTTOM_CENTER]:"bottom_center",[z.ikQ.BOTTOM_RIGHT]:"bottom_right"};function oL(e){let{value:t,anchorPoint:n,onAnchorPointChange:l,disabled:r,dataTestId:a}=e,i=s.useCallback(()=>{l(t)},[l,t]),o=t===n;return s.createElement("button",{className:`anchor_point_selector--anchorPointButton--JCPGp ${ox[t]}`,onClick:i,disabled:r,"data-testid":a},s.createElement("div",{className:p()("anchor_point_selector--anchorPointButtonInner--LSo9Y",{"anchor_point_selector--apButtonActive--eNX6V":o,"anchor_point_selector--disabled--YCcFc":r}),"data-testid":o?`${a}.active`:void 0}))}let oF=e=>"INPUT"===e.tagName;function oK(e){let{anchorPoint:t,onAnchorPointChange:n,disabled:l,restoreFocusElements:r}=e,[a,i]=s.useState(document.activeElement),o=e=>{n(e),a&&oF(a)&&(null==r?void 0:r.includes(a))&&a.focus()};return s.createElement("div",{className:p()("anchor_point_selector--anchorPointSelector--ZC9rv",{"anchor_point_selector--anchorPointSelectorDisabled--JScxh":l}),onMouseDown:()=>{i(document.activeElement)}},s.createElement(s.Fragment,null,s.createElement(oL,{disabled:l,value:z.ikQ.TOP_LEFT,anchorPoint:t,onAnchorPointChange:o,dataTestId:`scale_panel.anchor.${oR[z.ikQ.TOP_LEFT]}`}),s.createElement(oL,{disabled:l,value:z.ikQ.TOP_CENTER,anchorPoint:t,onAnchorPointChange:o,dataTestId:`scale_panel.anchor.${oR[z.ikQ.TOP_CENTER]}`}),s.createElement(oL,{disabled:l,value:z.ikQ.TOP_RIGHT,anchorPoint:t,onAnchorPointChange:o,dataTestId:`scale_panel.anchor.${oR[z.ikQ.TOP_RIGHT]}`})),s.createElement(s.Fragment,null,s.createElement(oL,{disabled:l,value:z.ikQ.MIDDLE_LEFT,anchorPoint:t,onAnchorPointChange:o,dataTestId:`scale_panel.anchor.${oR[z.ikQ.MIDDLE_LEFT]}`}),s.createElement(oL,{disabled:l,value:z.ikQ.MIDDLE_CENTER,anchorPoint:t,onAnchorPointChange:o,dataTestId:`scale_panel.anchor.${oR[z.ikQ.MIDDLE_CENTER]}`}),s.createElement(oL,{disabled:l,value:z.ikQ.MIDDLE_RIGHT,anchorPoint:t,onAnchorPointChange:o,dataTestId:`scale_panel.anchor.${oR[z.ikQ.MIDDLE_RIGHT]}`})),s.createElement(s.Fragment,null,s.createElement(oL,{disabled:l,value:z.ikQ.BOTTOM_LEFT,anchorPoint:t,onAnchorPointChange:o,dataTestId:`scale_panel.anchor.${oR[z.ikQ.BOTTOM_LEFT]}`}),s.createElement(oL,{disabled:l,value:z.ikQ.BOTTOM_CENTER,anchorPoint:t,onAnchorPointChange:o,dataTestId:`scale_panel.anchor.${oR[z.ikQ.BOTTOM_CENTER]}`}),s.createElement(oL,{disabled:l,value:z.ikQ.BOTTOM_RIGHT,anchorPoint:t,onAnchorPointChange:o,dataTestId:`scale_panel.anchor.${oR[z.ikQ.BOTTOM_RIGHT]}`})))}let oD=z.ikQ.MIDDLE_CENTER;var oH=((a=oH||{}).TextInput="text-input",a.Selector="selector",a),oB=((i=oB||{}).Select="select",i.Input="input",i.Scrub="scrub",i.Width="width",i.Height="height",i),oG=n(738056),oV=n(564152);let oW=["t","u","b","d"],oU=["r","l"],oY=/([rltubdc])([rltubdc]?)\s*$/i;var oz=((o=oz||{})[o.Vertical=0]="Vertical",o[o.Horizontal=1]="Horizontal",o[o.Center=2]="Center",o);let oZ=e=>oW.includes(e),oX=e=>oU.includes(e),oQ=e=>"c"===e,oq=e=>oZ(e)?0:oX(e)?1:oQ(e)?2:null,oj=(e,t,n)=>{switch(e){case"b":case"d":switch(t){case"l":return z.ikQ.BOTTOM_LEFT;case"r":return z.ikQ.BOTTOM_RIGHT;case null:return z.ikQ.BOTTOM_CENTER}case"t":case"u":switch(t){case"l":return z.ikQ.TOP_LEFT;case"r":return z.ikQ.TOP_RIGHT;case null:return z.ikQ.TOP_CENTER}case null:switch(t){case"l":return z.ikQ.MIDDLE_LEFT;case"r":return z.ikQ.MIDDLE_RIGHT;case null:if(n)return z.ikQ.MIDDLE_CENTER}}return null};function o$(e){let t=e.match(oY),n=null,l=null,r=null;if((null==t?void 0:t.length)===2){let e=t[1].toLowerCase(),a=oq(e);0===a?n=e:1===a?l=e:2===a&&(r=e)}else if((null==t?void 0:t.length)===3){let e=t[1].toLowerCase(),a=oq(e);0===a?n=e:1===a?l=e:2===a&&(r=e);let i=t[2].toLowerCase(),o=oq(i);if(0===o){if(n)throw new aA.ot("vertical anchor point already specified",null);n=i}else if(1===o){if(l)throw new aA.ot("horizontal anchor point already specified",null);l=i}else if(2===o){if(r)throw new aA.ot("center anchor point already specified",null);r=i}}return oj(n,l,r)}let oJ=e=>e.replace(oY,"");var o0=n(971152),o5=n(37952);let o1=[.25,.5,.75,1,2,3,4,5,10];class o7 extends o0.Q1{}class o2 extends rx.cb{}let o4=new class{constructor(){this.MAX_SCALE=100,this.MIN_SCALE=.01}parse(e){let t=oJ(e),n=(0,oV.Z_)(t,1);if(null!==n.value&&isFinite(n.value)){let t=o$(e);return{value:n.value,anchorPoint:null===t?void 0:t}}throw new aA.ot("Could not parse input",n.error)}format(e){if(null==e)return"";let t=parseFloat(e.value.toFixed(2));return`${t}x`}getNudgeAmount(e){return e?1:.5}incrementBy(e,t){return{value:e.value+t,anchorPoint:e.anchorPoint}}snap(e,t){return{value:(0,g.kb)(e.value,t),anchorPoint:e.anchorPoint}}clamp(e){return{value:(0,g.qk)(e.value,this.MIN_SCALE,this.MAX_SCALE),anchorPoint:e.anchorPoint}}isEqual(e,t){return e.value===t.value&&e.anchorPoint===t.anchorPoint}},o8=s.forwardRef((e,t)=>{let{disabled:n,scale:l,onScaleChange:r,recordingKey:a,onInputKeyDown:i}=e,o=(0,ei.OY)(),c=(0,ei.w1)(e=>e.dropdownShown),p=_.vL(a),d=o1.map((e,t)=>s.createElement(o2,{key:t,value:{value:e},recordingKey:p("scaleInput",e)})),u={smallNudgeAmount:1,bigNudgeAmount:10,scrubMultiplier:1,wheelMultiplier:1,postScrubMultiplier:.01,postBigNudgeAmount:1,postWheelMultiplier:.1,resolution:.01,"data-tooltip":"","data-tooltip-type":eh.wL.TEXT,dispatch:o,value:{value:l},onValueChange:(e,t)=>{r(e.value,oB.Scrub,t),t&&Y.CA.commit()},scrubbingDisabled:n,formatter:o4};return s.createElement(eO.WA,null,s.createElement(o7,{scrubbableControlProps:u,id:"scale-input-fullscreen.scale_panel.scale",forwardedRef:t,className:"scale_row--scaleCombobox--jimxi",property:{value:l},onKeyDown:i,onChange:(e,t,n)=>{r(e.value,n===o0.oD.Input?oB.Input:oB.Select,t??ax.MO.NO,e.anchorPoint),t&&Y.CA.commit()},formatter:o4,dispatch:o,dropdownShown:c,onMouseDown:e=>{e.stopPropagation()},recordingKey:p("scaleInput"),disabled:n,svg:o5.c,svgClassName:ih.CA,ui3Icon:s.createElement(oG.Y,null),dropdownWidth:104,dataTestId:"scale_panel.scale"},d))});var o6=n(209720),o3=n.n(o6),o9=n(937620);function se(){let e=(0,o9.e6)(),t=(0,s.useCallback)(t=>{e("scale_tool_panel_set_value",{key:"height",...t})},[e]),n=(0,s.useMemo)(()=>o3()(t,3e3),[t]),l=(0,s.useCallback)((e,l)=>l?n(e):t(e),[n,t]),r=(0,s.useCallback)(t=>e("scale_tool_panel_set_value",{key:"width",...t}),[e]),a=(0,s.useMemo)(()=>o3()(r,3e3),[r]),i=(0,s.useCallback)((e,t)=>t?a(e):r(e),[a,r]),o=(0,s.useCallback)(t=>e("scale_tool_panel_set_value",{key:"scale",...t}),[e]),c=(0,s.useMemo)(()=>o3()(o,3e3),[o]),p=(0,s.useCallback)((e,t)=>t?c(e):o(e),[c,o]),d=(0,s.useCallback)(t=>e("scale_tool_panel_dismissed",{...t}),[e]);return{trackScaleChangeEvent:p,trackWidthChangeEvent:i,trackHeightChangeEvent:l,trackAnchorPointChange:(0,s.useCallback)(t=>e("scale_tool_set_anchor_point",{...t}),[e]),trackScaleToolDismissed:d}}let st="scale_panel--scalePanelRow--Cbovd";var sn=n(166996);let sl=(e,t)=>{let n=t/e;return!Number.isFinite(n)||Number.isNaN(n)?1:n<.01?.01:n},sr=()=>{Y.CA.triggerAction("set-tool-default")};function sa(e){let t=(0,ei.w1)(e=>e.mirror.sceneGraphSelection),n=(0,lE.A9)("selectionBounds"),l=(0,q.kB)(n),r=(0,n_.i)(l),a=s.useRef(0),[i,o]=(0,s.useState)(void 0),c=(0,n_.i)(i),p=s.useRef(((null==i?void 0:i.width)||1)/((null==i?void 0:i.height)||1)),d=(0,lE.A9)("selectionResizable"),u=!(0,q.uc)(d,!1),h=(0,nS.uc)("activeUserAction"),E=(0,n_.i)(h),y=(0,a8.s5)(z.KEP.propertiesPanelState().shownPropertiesPanels),v=(0,n_.i)(y),[f,S]=(0,s.useState)(!1),T=s.useRef(null),b=s.useRef(null),C=s.useRef(null),k=(0,nS.uc)("currentTool"),I=(0,n_.i)(k),[P,M]=(0,s.useState)(oD),N=(0,a8.s5)(z.KEP.canvasViewState().scaleToolLastCanvasAnchorPoint),A=_.AJ(e.recordingKey??"","anchorPointChange",M),[O,x]=(0,s.useState)(void 0),R=(0,s.useCallback)(e=>{void 0===O?x(e):O!==e&&x(null)},[O]),{trackHeightChangeEvent:L,trackScaleChangeEvent:K,trackWidthChangeEvent:D,trackScaleToolDismissed:H,trackAnchorPointChange:B}=se();(0,s.useEffect)(()=>{h===z.Sbl.RESIZING&&P!==N&&(R(N),A(N))},[h,P,A,R,N]);let[G,V]=(0,s.useState)(1),[W,U]=(0,s.useState)(!1),[Z,X]=(0,s.useState)(!1),[Q,j]=(0,s.useState)(!0),$=(0,s.useCallback)((e,t)=>{i&&(z.i46.setScale(e,t,[{origin:{x:i.x,y:i.y},size:{x:i.width,y:i.height}}],null!==O),X(!0),R(t))},[i,O,R]);(0,s.useEffect)(()=>{U(!0)},[t]),(0,s.useEffect)(()=>{!(null==v?void 0:v[z.uQ8.SCALE_ITEM])&&(null==y?void 0:y[z.uQ8.SCALE_ITEM])&&U(!0)},[y,v]);let J=(0,s.useCallback)(()=>Z?(X(!1),!0):h===z.Sbl.RESIZING||h===z.Sbl.DEFAULT&&E===z.Sbl.RESIZING,[h,Z,E]);(0,s.useLayoutEffect)(()=>{if(r&&l){let{x:e,y:t,width:n,height:a}=l,{x:i,y:o,width:s,height:c}=r;s!==n||c!==a?J()||W||U((0,g.IR)(s,n)!==(0,g.IR)(c,a)):(i!==e||o!==t)&&R(null)}},[r,l,J,R,W]),(0,s.useLayoutEffect)(()=>{let e=!1;if((0,m.Ub)().ce_scale_tool_skew){let t=l?l.width/l.height:p.current,n=z.i46.getSelectionAngleSum();e=!(0,oO.G)(t,p.current,1e-4)||!(0,oO.G)(n,a.current,1e-4),p.current=t,a.current=n}(e||W)&&(V(1),A(oD),z.KEP.canvasViewState().scaleToolLastCanvasAnchorPoint.set(oD),x(void 0),l&&o(l),S(!1),U(!1))},[W,l,A,N]),(0,s.useLayoutEffect)(()=>{l&&i&&(l!==r||(0,m.Ub)().ce_scale_tool_skew&&i!==c)&&(Q?V(sl(i.width,l.width)):j(!0))},[c,l,i,r,Q]),(0,s.useEffect)(()=>{let e=k===z.w3X.SCALE&&I!==z.w3X.SCALE;e&&Object.keys(t).length>0&&e&&[z.Sbl.DEFAULT,z.Sbl.SELECTING_TEXT].includes(h)&&T.current&&(T.current.focus(),T.current.select())},[h,k,I,t]),(0,s.useEffect)(()=>{let e=()=>{T.current&&(S(!1),T.current.focus(),T.current.select())};return oA.g.subscribeScaleToolActivated(e),()=>{oA.g.unsubscribeScaleToolActivated(e)}},[]),(0,s.useEffect)(()=>{let e=e=>{e.target!==T.current&&e.target!==b.current&&e.target!==C.current&&S(!0)};return document.addEventListener("focusin",e),()=>{document.removeEventListener("focusin",e)}},[]);let ee=(0,s.useCallback)(e=>{let t="Escape"===e.key,n="Enter"===e.key;!f&&(n||t)&&sr()},[f]);return s.createElement(w.u,{name:"scale_panel"},s.createElement(eO.sF,null,s.createElement(eO.WA,{className:st},s.createElement(eO.w1,null,s.createElement(F.Tx,{id:"fullscreen.scale_panel.scale"})),s.createElement(eO.qR,null,s.createElement(lu.w,{onClick:()=>{sr(),H({selectionCount:Object.keys(t).length})},"aria-label":(0,F.t)("fullscreen.scale_panel.close")},s.createElement(ed.e,{svg:sn.c,fallbackSvg:sn.c},s.createElement(oN.C,null)))),s.createElement(oK,{restoreFocusElements:[T.current,b.current,C.current].filter(Boolean),anchorPoint:P,onAnchorPointChange:eI.wH.user("change-anchor-point",e=>{e!==P&&(1!==G&&($(1,P),$(G,e)),A(e)),B({anchorPoint:e})}),disabled:u})),s.createElement(o8,{scale:G,onInputKeyDown:ee,onScaleChange:eI.wH.user("change-scale",(e,t,n,l)=>{V(e),j(!1),void 0!==l&&(0,m.Ub)().ee_scale_tool_ap_input?(K({value:e,source:t,anchorPoint:l,anchorPointSource:oH.TextInput}),$(e,l),A(l)):(t===oB.Select?K({value:e,source:t,anchorPoint:P,anchorPointSource:oH.Selector}):K({value:e,source:t,anchorPoint:P,anchorPointSource:oH.Selector},!0),(0,ea.flushSync)(()=>{$(e,P)}))}),disabled:u,recordingKey:e.recordingKey,ref:T}),s.createElement(eO.WA,{className:"scale_panel--condensedWidthHeightRow--IMUIV"},s.createElement(si,{name:"width",disabled:u,inputRef:b,onBlur:()=>Y.CA.commit(),onKeyDown:ee,onChange:eI.wH.user("width-change",e=>{i&&0!==i.width&&$(sl(i.width,e),P),D({anchorPoint:P,anchorPointSource:oH.Selector},!0)}),recordingKey:e.recordingKey}),s.createElement(si,{name:"height",disabled:u,inputRef:C,onBlur:()=>Y.CA.commit(),onKeyDown:ee,onChange:eI.wH.user("height-change",e=>{i&&0!==i.height&&$(sl(i.height,e),P),L({anchorPoint:P,anchorPointSource:oH.Selector},!0)}),recordingKey:e.recordingKey}))))}function si(e){let t=(0,ei.OY)(),n=(0,lE.A9)(e.name),l=ie(),r=(0,lE.A9)("selectionBounds"),a=(0,q.kB)(r),i=a?a[e.name]:n;return s.createElement(ro.oN,{dispatch:t,forwardedRef:e.inputRef,className:"scale_panel--condensedScrubbableInput--D7VNR",inputClassName:ih.Yh,value:i??0,disabled:e.disabled,floatingPointFormat:{maxNumDigits:4},...l,min:1,onValueChange:e.onChange,onBlur:e.onBlur,onKeyDown:e.onKeyDown,"data-tooltip-type":eh.wL.TEXT,"data-tooltip":"width"===e.name?(0,F.t)("fullscreen.properties_panel.transform_panel.width"):(0,F.t)("fullscreen.properties_panel.transform_panel.height"),tooltipForScreenReadersOnly:!0,recordingKey:_.Mx(e,"width"===e.name?"widthInput":"heightInput")},s.createElement("span",{className:`${ih.CA} svg`},"width"===e.name?s.createElement(F.Tx,{id:"fullscreen.properties_panel.transform_panel.w"}):s.createElement(F.Tx,{id:"fullscreen.properties_panel.transform_panel.h"})))}function so(e,t){return(0,g.IR)(e,0)?((0,y.WI)("clampScaleValue","scale is 0",{originalValue:e,newValue:t}),1):(0,g.qk)(t/e,.01,100)}let ss={smallNudgeAmount:.01,bigNudgeAmount:.1,scrubMultiplier:1,wheelMultiplier:1,postScrubMultiplier:.01,postBigNudgeAmount:1,postWheelMultiplier:.1,resolution:.01};function sc(e){let{disabled:t,scale:n,property:l,selectionRegionsBounds:r,selectionRegionsOriginalBounds:a,onScaleChange:i,recordingKey:o,forwardedRef:c,onKeyDown:p}=e,d="width"===l?oB.Width:oB.Height,u=(0,ei.OY)(),m=_.vL(o),h=function(){if(r&&r.length){let e=r[0][l];return r.every(t=>(0,g.IR)(t[l],e,.005))?e:q.ee}return q.ee}(),E=ie(),y=(0,q.Er)(h)?ss:{};return s.createElement(ro.oN,{noBorderOnHover:!0,dispatch:u,forwardedRef:c,className:"scale_width_height_row--condensedScrubbableInput--XxHxl",inputClassName:ih.Yh,disabled:t,floatingPointFormat:{maxNumDigits:4},onKeyDown:p,dataTestId:`scale_panel.${l}`,"data-tooltip-type":eh.wL.TEXT,"data-tooltip":"width"===l?(0,F.t)("fullscreen.properties_panel.transform_panel.width"):(0,F.t)("fullscreen.properties_panel.transform_panel.height"),tooltipForScreenReadersOnly:!0,recordingKey:m(`${l}Input.input`),min:(0,q.Er)(h)?.01:1,value:h??0,mixedMathHandler:{getValue:()=>n,onChange:(e,t,n)=>{let l=t(e);Number.isNaN(l)||i((0,g.qk)(l,.01,100),d,n)}},onValueChange:(e,t)=>{!Number.isNaN(e)&&h&&h!==q.ee&&a&&a.length&&i(so(a[0][l],e),d,t)},...E,...y},s.createElement("span",{className:`${ih.CA} svg`},"width"===l?s.createElement(F.Tx,{id:"fullscreen.properties_panel.transform_panel.w"}):s.createElement(F.Tx,{id:"fullscreen.properties_panel.transform_panel.h"})))}function sp(e){let{widthRef:t,heightRef:n,onWidthInputKeyDown:l,onHeightInputKeyDown:r,...a}=e;return s.createElement(eO.WA,{className:"scale_width_height_row--condensedWidthHeightRow--VOTEM"},s.createElement(sc,{...a,property:"width",forwardedRef:t,onKeyDown:l}),s.createElement(sc,{...a,property:"height",forwardedRef:n,onKeyDown:r}))}let sd=()=>{Y.CA.triggerAction("set-tool-default")};function su(e){let t=(0,ei.w1)(e=>e.mirror.sceneGraphSelection),n=(0,lE.A9)("selectionRegions"),l=(0,q.kB)(n),r=(0,n_.i)(l),a=s.useRef(0),[i,o]=(0,s.useState)(void 0),c=(0,n_.i)(i),p=s.useRef(null),d=(0,lE.A9)("selectionResizable"),u=(0,q.uc)(d,!1),h=(0,nS.uc)("activeUserAction"),E=(0,n_.i)(h),y=(0,a8.s5)(z.KEP.propertiesPanelState().shownPropertiesPanels),v=(0,n_.i)(y),[f,w]=(0,s.useState)(!1),S=s.useRef(null),T=s.useRef(null),b=s.useRef(null),C=(0,nS.uc)("currentTool"),k=(0,n_.i)(C),I=C!==z.w3X.SCALE,P=!u||I,[M,N]=(0,s.useState)(oD),A=(0,a8.s5)(z.KEP.canvasViewState().scaleToolLastCanvasAnchorPoint),O=_.AJ(e.recordingKey??"","anchorPointChange",N),[x,R]=(0,s.useState)(void 0),L=(0,s.useCallback)(e=>{void 0===x?R(e):x!==e&&R(null)},[x]),{trackScaleChangeEvent:K,trackScaleToolDismissed:D,trackAnchorPointChange:H}=se();(0,s.useEffect)(()=>{h===z.Sbl.RESIZING&&M!==A&&(L(A),O(A))},[h,M,O,L,A]);let[B,G]=(0,s.useState)(1),[V,W]=(0,s.useState)(!1),[U,Z]=(0,s.useState)(!1),[X,Q]=(0,s.useState)(!0),j=(0,s.useCallback)((e,t)=>{i&&i.length&&(z.i46.setScale(e,t,i.map(e=>({origin:{x:e.x,y:e.y},size:{x:e.width,y:e.height}})),null!==x),Z(!0),L(t))},[i,x,L]);(0,s.useEffect)(()=>{W(!0)},[t]),(0,s.useEffect)(()=>{!(null==v?void 0:v[z.uQ8.SCALE_ITEM])&&(null==y?void 0:y[z.uQ8.SCALE_ITEM])&&W(!0)},[y,v]);let $=(0,s.useCallback)(()=>U?(Z(!1),!0):h===z.Sbl.RESIZING||h===z.Sbl.DEFAULT&&E===z.Sbl.RESIZING,[h,U,E]);(0,s.useLayoutEffect)(()=>{if(r&&r.length&&l&&l.length&&r.length===l.length)for(let e=0;e<l.length;e++){let{x:t,y:n,width:a,height:i}=l[e].bounds,{x:o,y:s,width:c,height:p}=r[e].bounds;if(c!==a||p!==i){if(!$()&&!V){W((0,g.IR)(c,a)!==(0,g.IR)(p,i));break}}else if(o!==t||s!==n){L(null);break}}},[r,l,$,L,V]),(0,s.useLayoutEffect)(()=>{let e=!1;if((0,m.Ub)().ce_scale_tool_skew&&l){let t=p.current??l.map(e=>(e.bounds.width||1)/(e.bounds.height||1)),n=z.i46.getSelectionAngleSum();if(l.length===t.length){p.current=[];for(let r=0;r<l.length;++r){let i=(l[r].bounds.width||1)/(l[r].bounds.height||1);(e||(0,oO.G)(i,t[r],1e-4))&&(0,oO.G)(n,a.current,1e-4)||(e=!0),p.current.push(i),a.current=n}}}(e||V)&&(G(1),O(oD),z.KEP.canvasViewState().scaleToolLastCanvasAnchorPoint.set(oD),R(void 0),o(z.i46.getSelectionRegionsBounds().map(({origin:e,size:t})=>({x:e.x,y:e.y,width:t.x,height:t.y}))),w(!1),W(!1))},[V,l,O,A]),(0,s.useLayoutEffect)(()=>{l&&l.length&&i&&i.length&&(l!==r||(0,m.Ub)().ce_scale_tool_skew&&i!==c)&&(X?G(so(i[0].width,l[0].bounds.width)):Q(!0))},[c,l,i,r,X]),(0,s.useEffect)(()=>{let e=C===z.w3X.SCALE&&k!==z.w3X.SCALE;e&&Object.keys(t).length>0&&e&&[z.Sbl.DEFAULT,z.Sbl.SELECTING_TEXT].includes(h)&&S.current&&(S.current.focus(),S.current.select())},[h,C,k,t]),(0,s.useEffect)(()=>{let e=()=>{S.current&&(w(!1),S.current.focus(),S.current.select())};return oA.g.subscribeScaleToolActivated(e),()=>{oA.g.unsubscribeScaleToolActivated(e)}},[]),(0,s.useEffect)(()=>{let e=e=>{e.target!==S.current&&e.target!==T.current&&e.target!==b.current&&w(!0)};return document.addEventListener("focusin",e),()=>{document.removeEventListener("focusin",e)}},[]);let J=(0,s.useCallback)(e=>{let t="Escape"===e.key,n="Enter"===e.key;!f&&(n||t)&&sd()},[f]);return s.createElement(eO.sF,{"data-testid":`scale_panel.state.${I?"hidden":P?"disabled":"enabled"}`},s.createElement(eO.WA,{className:st},s.createElement(eO.w1,null,s.createElement(F.Tx,{id:"fullscreen.scale_panel.scale"})),s.createElement(eO.qR,null,s.createElement(lu.w,{onClick:()=>{sd(),D({selectionCount:Object.keys(t).length})},"aria-label":(0,F.t)("fullscreen.scale_panel.close")},s.createElement(ed.e,{svg:sn.c,fallbackSvg:sn.c},s.createElement(oN.C,null)))),s.createElement(oK,{restoreFocusElements:[S.current,T.current,b.current].filter(Boolean),anchorPoint:M,onAnchorPointChange:eI.wH.user("change-anchor-point",e=>{e!==M&&(1!==B&&(j(1,M),j(B,e)),O(e)),H({anchorPoint:e})}),disabled:P})),s.createElement(o8,{scale:B,onInputKeyDown:J,onScaleChange:eI.wH.user("change-scale",(e,t,n,r)=>{G(e),Q(!1),void 0!==r&&(0,m.Ub)().ee_scale_tool_ap_input?(K({value:e,source:t,anchorPoint:r,anchorPointSource:oH.TextInput}),j(e,r),O(r)):(t===oB.Select?K({value:e,source:t,anchorPoint:M,anchorPointSource:oH.Selector}):K({value:e,source:t,anchorPoint:M,anchorPointSource:oH.Selector},!0),(0,ea.flushSync)(()=>{j(e,M),n&&l&&l.length>1&&z.i46.logMultiEditActionForSelection("scale_panel_finish",null)}))}),disabled:P,recordingKey:e.recordingKey,ref:S}),s.createElement(sp,{scale:B,selectionRegionsBounds:l.map(e=>e.bounds),selectionRegionsOriginalBounds:i,onScaleChange:eI.wH.user("change-scale",(e,t,n)=>{K({value:e,source:t,anchorPoint:M,anchorPointSource:oH.Selector},!0),G(e),Q(!1),j(e,M),n&&(l&&l.length>1&&z.i46.logMultiEditActionForSelection("scale_panel_finish",null),Y.CA.commit())}),widthRef:T,heightRef:b,onHeightInputKeyDown:J,onWidthInputKeyDown:J,disabled:P,recordingKey:e.recordingKey}))}var sm=n(943344);function sh(e){return s.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},s.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"m14.146 11.854 2 2a.5.5 0 0 0 .708-.708L15.707 12H19.5a.5.5 0 0 0 0-1h-3.793l1.147-1.146a.5.5 0 0 0-.708-.708l-2 2a.5.5 0 0 0 0 .708Zm-3.292 0-2 2a.5.5 0 0 1-.708-.708L9.293 12H5.5a.5.5 0 0 1 0-1h3.793L8.146 9.854a.5.5 0 1 1 .708-.708l2 2a.5.5 0 0 1 0 .708ZM13 5.5a.5.5 0 0 0-1 0v12a.5.5 0 0 0 1 0v-12Z",clipRule:"evenodd"}))}function sg(e){return s.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},s.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M19 6.5a.5.5 0 0 0-1 0v10a.5.5 0 0 0 1 0v-10Zm-13 0a.5.5 0 0 0-1 0v10a.5.5 0 0 0 1 0v-10Zm10.854 4.646a.5.5 0 0 1 0 .708l-2.5 2.5a.5.5 0 0 1-.708-.708L15.293 12H8.707l1.647 1.646a.5.5 0 0 1-.708.708l-2.5-2.5a.5.5 0 0 1 0-.708l2.5-2.5a.5.5 0 0 1 .708.708L8.707 11h6.586l-1.647-1.646a.5.5 0 0 1 .708-.708l2.5 2.5Z",clipRule:"evenodd"}))}function sE(e){return s.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},s.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"m11.854 10.854 2-2a.5.5 0 0 0-.708-.708L12 9.293V5.5a.5.5 0 0 0-1 0v3.793L9.854 8.146a.5.5 0 1 0-.708.708l2 2a.5.5 0 0 0 .708 0Zm0 3.292 2 2a.5.5 0 0 1-.708.708L12 15.707V19.5a.5.5 0 0 1-1 0v-3.793l-1.146 1.147a.5.5 0 0 1-.708-.708l2-2a.5.5 0 0 1 .708 0ZM5.5 12a.5.5 0 0 0 0 1h12a.5.5 0 0 0 0-1h-12Z",clipRule:"evenodd"}))}function s_(e){return s.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},s.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M6.5 5a.5.5 0 0 0 0 1h10a.5.5 0 0 0 0-1h-10Zm0 13a.5.5 0 0 0 0 1h10a.5.5 0 0 0 0-1h-10Zm4.646-10.854a.5.5 0 0 1 .708 0l2.5 2.5a.5.5 0 0 1-.708.708L12 8.707v6.586l1.646-1.647a.5.5 0 0 1 .708.708l-2.5 2.5a.5.5 0 0 1-.708 0l-2.5-2.5a.5.5 0 0 1 .708-.708L11 15.293V8.707l-1.646 1.647a.5.5 0 0 1-.708-.708l2.5-2.5Z",clipRule:"evenodd"}))}var sy=n(365224),sv=n(234980),sf=n(167640),sw=n(902784);function sS(e){let t=(0,sw.aq)(),n=(0,ru.m4)(sw.a0),l=(0,ru.m4)(sw.qu),r=(0,sw.Gs)(),a=(0,s.useRef)(null),i=!e.visible||!(0,sw.ue)(n),o="ui3"===(0,ec.qG)().version;if((0,sw.yW)(!i,()=>r("minmax",null,sw.m4.YES),a,e.widthHeightRowRef),i)return null;let c=0,p=0,d=[];function u(e){let t=null!=l&&l.widthOrHeight===e.widthOrHeight&&l.minOrMax===e.minOrMax;return s.createElement(sb,{key:`${e.widthOrHeight}-${e.minOrMax}`,minMaxApi:e,shouldFocus:t,recordingKey:`minMaxDropdown.${e.minOrMax}${e.widthOrHeight}`})}function m(e){switch(e.minOrMaxWidthOrHeight){case"minWidth":return s.createElement(F.Tx,{id:"properties.label.min_width"});case"maxWidth":return s.createElement(F.Tx,{id:"properties.label.max_width"});case"minHeight":return s.createElement(F.Tx,{id:"properties.label.min_height"});case"maxHeight":return s.createElement(F.Tx,{id:"properties.label.max_height"})}}n.width.min&&(c++,d.push(t.width.min)),n.width.max&&(c++,d.push(t.width.max)),n.height.min&&(p++,d.push(t.height.min)),n.height.max&&(p++,d.push(t.height.max));let h=d.map(u),g=d.map(m);return c+p===1?o?s.createElement(tv.np,{ref:a,leftLabel:g[0],leftInput:h[0],rightLabel:null,rightInput:null,icon:null}):s.createElement(eO.WA,{forwardedRef:a},h[0]):1===c&&1===p?o?s.createElement(tv.np,{ref:a,leftLabel:g[0],leftInput:h[0],rightLabel:g[1],rightInput:h[1],icon:null}):s.createElement(eO.WA,{forwardedRef:a},h):c+p===2?o?s.createElement("div",{ref:a},s.createElement(tv.np,{ref:a,leftLabel:g[0],leftInput:h[0],rightLabel:null,rightInput:null,icon:null}),s.createElement(tv.np,{ref:a,leftLabel:g[1],leftInput:h[1],rightLabel:null,rightInput:null,icon:null})):s.createElement("div",{ref:a},s.createElement(eO.WA,null,h[0]),s.createElement(eO.WA,null,h[1])):o?s.createElement("div",{ref:a},s.createElement(tv.np,{leftLabel:m(t.width.min),leftInput:u(t.width.min),rightLabel:m(t.height.min),rightInput:u(t.height.min),icon:null}),s.createElement(tv.np,{leftLabel:m(t.width.max),leftInput:u(t.width.max),rightLabel:m(t.height.max),rightInput:u(t.height.max),icon:null})):s.createElement("div",{ref:a},s.createElement(eO.WA,null,u(t.width.min),u(t.height.min)),s.createElement(eO.WA,null,u(t.width.max),u(t.height.max)))}function sT(e){switch(e.widthOrHeight){case"width":return"min"===e.minOrMax?(0,F.t)("fullscreen.properties_panel.stack_panel.minmax.min_width_tt"):(0,F.t)("fullscreen.properties_panel.stack_panel.minmax.max_width_tt");case"height":return"min"===e.minOrMax?(0,F.t)("fullscreen.properties_panel.stack_panel.minmax.min_height_tt"):(0,F.t)("fullscreen.properties_panel.stack_panel.minmax.max_height_tt")}}function sb(e){let{minMaxApi:t,shouldFocus:n}=e,l=(0,lE.A9)("isInstanceSublayerSelected"),r=(0,lE.A9)(t.widthOrHeight),a=(0,lE.A9)(t.minOrMaxWidthOrHeight),i=(0,sw.Gs)(),o=(0,s.useRef)(0),c=(0,s.useRef)(new Map),p=(0,sy.my)(sw.qu),[d,u]=(0,ru.lZ)(sw.a0),m=(0,ty._O)(),h=[];r!==t.value&&h.push(sw.aO),h.push(sw.Ys);let g=h.map(t=>{let n=(0,q.Er)(r);return s.createElement(rx.cb,{recordingKey:_.Mx(e.recordingKey,"select",t),key:t,value:t,disabled:!!l||t===sw.aO&&n})}),[E,y]=(0,sw.GM)(t),v=s.useRef(null),f=function(e){switch(e.widthOrHeight){case"width":return"min"===e.minOrMax?"MIN_WIDTH":"MAX_WIDTH";case"height":return"min"===e.minOrMax?"MIN_HEIGHT":"MAX_HEIGHT"}}(t);var w=void 0;switch(t.widthOrHeight){case"width":w="min"===t.minOrMax?s.createElement(sh,null):s.createElement(sg,null);break;case"height":w="min"===t.minOrMax?s.createElement(sE,null):s.createElement(s_,null)}let S="width"===t.widthOrHeight?z.kfI.X:z.kfI.Y;s.useEffect(()=>{var e,t;n&&(null==(e=v.current)||e.focus(),null==(t=v.current)||t.select())},[n]);let T=(0,sw.Mh)(t),{clearVariableConsumption:b}=(0,sf.M)(f,z.y6c.FLOAT);class C extends a4.m{getValueForNode(e){return z.GqY.getNodeTransformProperties(e.guid)[t.minOrMaxWidthOrHeight]}setValueForNode(e,n,l){let r={[t.minOrMaxWidthOrHeight]:n};if(l&&c.current.has(e.guid)){let l=c.current.get(e.guid);r[t.widthOrHeight]=l;let a=(0,sw.em)(e,l,n,t.widthOrHeight);a!==l&&(r[t.widthOrHeight]=a),r.sizeChangeIsAutomatic=!0}z.GqY.setNodeTransformProperties(e.guid,r)}}return s.createElement(sf.u,{id:`minMaxDropdown.${e.minMaxApi.minOrMax}${e.minMaxApi.widthOrHeight}`,options:g,inputRef:v,outerClassName:"width"===t.widthOrHeight?ih.CS:ih.yI,value:t.value,formatter:T,mixedMathHandler:new C,variableField:f,onScrubBegin:()=>{(0,q.Er)(a)?(0,sv.Qx)().forEach(e=>{c.current.set(e.guid,e.size[S===z.kfI.X?"x":"y"])}):"number"==typeof r?o.current=r:o.current=0},onScrubEnd:()=>{c.current.clear(),o.current=0},onChange:(e,n=ax.MO.YES)=>{if(b(ax.MO.NO),e===sw.aO)"number"==typeof r&&t.set(r||null,ax.MO.NO);else if(e===sw.Ys){t.set(null,ax.MO.NO);let e={[t.widthOrHeight]:{...d[t.widthOrHeight],[t.minOrMax]:!1}};u({...d,...e}),p(null)}else("number"==typeof e||null==e)&&t.set(e,ax.MO.NO,o.current);n===ax.MO.YES&&Y.CA.triggerAction("commit")},dropdownWidth:162,dropdownAlignment:"width"===t.widthOrHeight?"left":"right",noBorderOnFocus:!0,iconId:`icon-${e.minMaxApi.widthOrHeight}-${e.minMaxApi.minOrMax}`,icon:E,ui3Icon:w,fallbackIcon:y,tooltipText:sT(t),showTooltipOnTargetOnly:m,"data-tooltip-max-width":200,onFocus:()=>i("minmax",{axis:S,renderLabels:!0},sw.m4.YES),onBlur:()=>{i("minmax",{axis:S,renderLabels:!0},sw.m4.YES_ONLY_MIN_MAX),p(null)},onMouseEnter:()=>i("minmax",{axis:S,renderLabels:!0}),onMouseLeave:()=>i("minmax",null),inputTestId:`transform-${e.minMaxApi.widthOrHeight}-${e.minMaxApi.minOrMax}`,source:"panel",allowEmpty:!0,placeholder:function(e){switch(e.widthOrHeight){case"width":return"min"===e.minOrMax?(0,F.t)("fullscreen.properties_panel.stack_panel.minmax.min_width_short"):(0,F.t)("fullscreen.properties_panel.stack_panel.minmax.max_width_short");case"height":return"min"===e.minOrMax?(0,F.t)("fullscreen.properties_panel.stack_panel.minmax.min_height_short"):(0,F.t)("fullscreen.properties_panel.stack_panel.minmax.max_height_short")}}(t),omitValueFromDropdown:!0,shouldFocus:n,"aria-label":sT(t),recordingKey:e.recordingKey,openBelowTarget:!0,shiftVariableOptionToAlign:!0})}var sC=n(573432);function sk(e){var t,n;let l=(0,ei.OY)(),r=new M.Cg(null==(t=e.pickerShown)?void 0:t.initialX,null==(n=e.pickerShown)?void 0:n.initialY),a=(0,ei.w1)(e=>e.dropdownShown);return s.createElement(e2.G0,{title:(0,F.t)("fullscreen.properties_panel.constraints_panel.constraints"),initialPosition:r,headerSize:"small",onClose:()=>{l(K.U5())}},s.createElement(eO.I7,null,s.createElement(rQ,{...e,dropdownShown:a})))}var sI=n(928384),sP=n(951432);class sM extends sm.G{}class sN extends sm.n{}class sA extends s.PureComponent{constructor(){super(...arguments),this.getProperty=()=>(0,q.EH)(this.props.width)&&(0,q.EH)(this.props.height)?this.props.width>this.props.height?"LANDSCAPE":"PORTRAIT":q.ee,this.onChange=e=>{this.getProperty()!==e&&eI.Pc.user("toggle-frame-orientation",()=>{Y.CA.triggerAction("toggle-frame-orientation"),z.MXu.updateCurrentPagePrototypeDeviceIfNecessary()})}}render(){let e=this.getProperty(),t=!(0,q.EH)(this.props.resizeToFit)||this.props.resizeToFit;return s.createElement(sM,{className:"orientation_control--orientationControl--JG3io",disabled:t,property:e,onChange:this.onChange,recordingKey:this.props.recordingKey},s.createElement(sN,{value:"PORTRAIT",svg:sP.c,tooltip:(0,F.t)("fullscreen.properties_panel.orientation.portrait")}),s.createElement(sN,{value:"LANDSCAPE",svg:sI.c,tooltip:(0,F.t)("fullscreen.properties_panel.orientation.landscape")}))}}function sO(e){return s.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},s.createElement("path",{stroke:"var(--color-icon)",strokeLinecap:"round",strokeLinejoin:"round",d:"m16.5 8.5-3 3 3 3m-9-6 3 3-3 3"}))}function sx(e){return s.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},s.createElement("path",{stroke:"var(--color-icon)",strokeLinecap:"round",strokeLinejoin:"round",d:"m14.5 16.5-3-3-3 3m6-9-3 3-3-3"}))}function sR(e){return s.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},s.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M9.354 8.146a.5.5 0 0 1 0 .708L7.207 11h9.586l-2.146-2.146a.5.5 0 0 1 .707-.708l3 3a.5.5 0 0 1 0 .707l-3 3a.5.5 0 0 1-.708-.707L16.793 12H7.207l2.147 2.146a.5.5 0 0 1-.708.708l-3-3a.5.5 0 0 1 0-.708l3-3a.5.5 0 0 1 .708 0Z",clipRule:"evenodd"}))}function sL(e){return s.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},s.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M14.854 14.146a.5.5 0 0 1 0 .707l-3 3a.5.5 0 0 1-.708 0l-3-3a.5.5 0 1 1 .708-.707L11 16.293V7.707L8.854 9.854a.5.5 0 0 1-.708-.708l3-3a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1-.708.708L12 7.707v8.586l2.146-2.147a.5.5 0 0 1 .708 0Z",clipRule:"evenodd"}))}sA.displayName="OrientationControl";var sF=n(588900),sK=n(251368),sD=n(941364),sH=n(907152),sB=n(838932),sG=n(558564),sV=n(129424),sW=n(244802),sU=n(678504),sY=n(593268),sz=n(3288),sZ=n(702192);function sX(e){let t=(0,ei.OY)(),n=(0,nZ.g)(),l=(0,ei.w1)(e=>e.mirror.selectionProperties.stackLayoutSizeOptions),r=(0,e4._k)(),a=!1;e.axis===z.kfI.Y&&r&&function(e){let t=new Set([]);for(let n of e){let l=sH.TSSceneGraph.instance.get(n);if(l&&l.parentGuid&&!t.has(l.parentGuid)&&(t.add(l.parentGuid),function(e,t){let n=e.parentNode,l=!1,r=!0;if(e&&n&&"WRAP"===n.stackWrap)for(let a of n.childrenGuids){t.find(e=>e===a)||(r=!1);let n=sH.TSSceneGraph.instance.get(a);a!==e.guid&&n&&"AUTO"===n.stackChildAlignSelf&&(l=!0)}return l&&!r}(l,e)))return!0}return!1}(r)&&(a=!0);let i=(0,ei.w1)(e=>!!e.mirror.selectionProperties.isInstanceSublayerSelected),o=(0,o9.e6)(),c=(0,s.useMemo)(()=>new sq(e.axis),[e.axis]);if(null==l)return null;let[d,u]=sQ(e.axis,e.size),m=function(e,t){let n=e===z.kfI.X;switch(t){case z.MXH.HUG_CONTENT:return n?s.createElement(sO,null):s.createElement(sx,null);case z.MXH.FILL_CONTAINER:return n?s.createElement(sR,null):s.createElement(sL,null);default:return n?s.createElement(rN,null):s.createElement(rA,null)}}(e.axis,e.size);if(e.readOnly&&(0,q.EH)(e.size)){let t=sj(e.size);return s.createElement("div",{className:p()(e.className,"stack_sizing_select_v5--flexContainer--nrpIK")},s.createElement(sF._,{svg:d,fallbackSvg:u,className:rD.Y7}),s.createElement("span",{className:"stack_sizing_select_v5--readOnlyText--Ik-gS ellipsis--ellipsis--Tjyfa text--fontPos11--2LvXf text--_fontBase--QdLsd"},t))}var h,g=i;for(let e of l)if(e.size===z.MXH.HUG_CONTENT||e.size===z.MXH.FILL_CONTAINER){g=!1;break}let E=l.map(t=>{let n=z.MXH[t.size],l=t.size===z.MXH.FILL_CONTAINER&&a,r=t.disabled||l,i="no-fill-component"===t.disabledReason?(0,F.t)("fullscreen.properties_panel.stack_panel.sizing_disabled.no_fill_component"):l?(0,F.t)("fullscreen.properties_panel.stack_panel.sizing_disabled.select_all_fill"):void 0;return s.createElement(rx.cb,{key:t.size,value:t.size,recordingKey:_.Mx(e.recordingKey,"select",n),disabled:r,tooltip:i,tooltipType:eh.wL.TEXT,dataTestId:`${n}-${z.kfI[e.axis]}`})}),y=(null==(h=(0,sK.A5)())?void 0:h.getPrimaryLocale(!0))===sD.Qb?150:210;return s.createElement(rx.M1,{id:e.id,className:e.className,inputClassName:p()("stack_sizing_select_v5--tightText--xHUXj","stack_sizing_select_v5--stackLayoutSizeInput--aB6Pd"),chevronClassName:"stack_sizing_select_v5--stackLayoutSizeChevron--xh9BG",dropdownShown:n,dispatch:t,property:e.size,formatter:c,svg:d,fallbackSvg:u,ui3Icon:m,onChange:t=>{null!=t&&(eI.Pc.user("set-stack-size",()=>z._8i.setStackSizeOnSelection(t,e.axis)),o("Autolayout sizing changed",{axis:e.axis,size:t,source:"dropdown"}))},disabled:g,recordingKey:_.Mx(e,"select"),dropdownWidth:y,dropdownAlignment:e.dropdownAlignment,truncation:"none",onOptionFocus:(t,n)=>e.onHover(t??null,n),onMouseEnter:()=>e.onHover((0,q.EH)(e.size)?e.size:null,"input"),onMouseLeave:()=>e.onHover(null,"input"),tooltip:e.axis===z.kfI.X?(0,F.t)("fullscreen.properties_panel.constraints_resizing_panel.horizontal_resizing"):(0,F.t)("fullscreen.properties_panel.constraints_resizing_panel.vertical_resizing")},E)}function sQ(e,t){let n=e===z.kfI.X;switch(t){case q.ee:return n?[sz.c]:[sV.c];case z.MXH.HUG_CONTENT:return n?[sZ.c]:[sW.c];case z.MXH.FILL_CONTAINER:return n?[sU.c]:[sB.c];default:return n?[rL.c,sY.c]:[rR.c,sG.c]}}class sq{constructor(e){this.axis=e}format(e){return null==e?"":sj(e)}formatExtended(e){if(null==e)return{text:""};let[t,n]=sQ(this.axis,e);return{text:function(e,t){switch(t){case z.MXH.FIXED:return e===z.kfI.X?(0,F.t)("fullscreen.properties_panel.constraints_resizing_panel.fixed_width"):(0,F.t)("fullscreen.properties_panel.constraints_resizing_panel.fixed_height");case z.MXH.HUG_CONTENT:return(0,F.t)("fullscreen.properties_panel.constraints_resizing_panel.hug_contents");case z.MXH.FILL_CONTAINER:return(0,F.t)("fullscreen.properties_panel.constraints_resizing_panel.fill_container")}}(this.axis,e)||"",svg:t,fallbackSvg:n}}}function sj(e){switch(e){case z.MXH.FIXED:return(0,F.t)("fullscreen.properties_panel.constraints_resizing_panel.fixed");case z.MXH.HUG_CONTENT:return(0,F.t)("fullscreen.properties_panel.constraints_resizing_panel.hug");case z.MXH.FILL_CONTAINER:return(0,F.t)("fullscreen.properties_panel.constraints_resizing_panel.fill")}}function s$(e){let t=(0,lE.A9)("stackHorizontalSize"),n=(0,lE.A9)("stackVerticalSize"),l=(0,sw.Gg)(),{version:r}=(0,ec.qG)();return null==t||null==n?null:"ui2"===r?s.createElement(eO.WA,{"data-testid":"stack-sizing-row"},s.createElement(sX,{id:"stack-sizing-width",className:ih.QR,axis:$.kfI.X,size:t,recordingKey:_.Mx(e.recordingKey,"stack-width-sizing"),dropdownAlignment:"left",onHover:e=>l(e,$.kfI.X)}),s.createElement(sX,{id:"stack-sizing-height",className:ih.gP,axis:$.kfI.Y,size:n,recordingKey:_.Mx(e.recordingKey,"stack-height-sizing"),dropdownAlignment:"right",onHover:e=>l(e,$.kfI.Y)})):s.createElement(tv.np,{"data-testid":"stack-sizing-row",leftLabel:s.createElement(F.Tx,{id:"properties.label.resizing"}),leftInput:s.createElement(sX,{id:"stack-sizing-width",className:ih.QR,axis:$.kfI.X,size:t,recordingKey:_.Mx(e.recordingKey,"stack-width-sizing"),dropdownAlignment:"left",onHover:e=>l(e,$.kfI.X)}),rightInput:s.createElement(sX,{id:"stack-sizing-height",className:ih.gP,axis:$.kfI.Y,size:n,recordingKey:_.Mx(e.recordingKey,"stack-height-sizing"),dropdownAlignment:"right",onHover:e=>l(e,$.kfI.Y)}),rightLabel:null,icon:null})}function sJ(){return s.createElement("div",{className:"constraints_preview_icon--container--n518S"},s.createElement(s0,{axis:"HORIZONTAL"}),s.createElement("div",{className:s8(90)},s.createElement(s0,{axis:"VERTICAL"})))}function s0(e){let t=rZ(),n="HORIZONTAL"===e.axis?t.horizontalConstraint:t.verticalConstraint;if(t.nodesAreAllInsideStacks&&"AUTO"===t.stackPositioning)return s.createElement(s5,null);switch(n){case"MIN":return s.createElement(s.Fragment,null,s.createElement(s7,{selected:!0}),s.createElement(s7,{rotation:180}));case"MAX":return s.createElement(s.Fragment,null,s.createElement(s7,null),s.createElement(s7,{rotation:180,selected:!0}));case"STRETCH":return s.createElement(s.Fragment,null,s.createElement(s7,{selected:!0}),s.createElement(s7,{rotation:180,selected:!0}));case"CENTER":return s.createElement(s.Fragment,null,s.createElement(s7,null),s.createElement(s1,{selected:!0}),s.createElement(s7,{rotation:180}));case"SCALE":return s.createElement(s.Fragment,null,s.createElement(s2,{selected:!0}),s.createElement(s2,{rotation:180,selected:!0}));default:return s.createElement(s5,null)}}function s5(){return s.createElement(s.Fragment,null,s.createElement(s2,null),s.createElement(s2,{rotation:180}))}function s1(e){return s.createElement("svg",{viewBox:"0 0 24 24"},s.createElement(s4,{d:"M 10,12  L 14,12",...e}))}function s7(e){return s.createElement("svg",{viewBox:"0 0 24 24"},s.createElement(s4,{d:"M 5.5,10 L 5.5,14 M 5.5,12  L 8,12",rotation:e.rotation,selected:e.selected}))}function s2(e){return s.createElement("svg",{viewBox:"0 0 24 24"},s.createElement(s4,{d:"M 7.5,10  L 5.5,12 L 7.5,14",...e}))}function s4(e){return s.createElement("path",{d:e.d,fill:"none",className:p()("constraints_preview_icon--line--z6ghs",s8(e.rotation||0),{"constraints_preview_icon--selected--GXU2-":e.selected})})}let s8=e=>{switch(e){case 0:return;case 90:return"constraints_preview_icon--rotate90--uayVi constraints_preview_icon--_rotate--2AAty";case 180:return"constraints_preview_icon--rotate180--lqQgR constraints_preview_icon--_rotate--2AAty"}};var s6=n(134084),s3=n(498970);function s9(e){let[t,n]=(0,lE.H4)("frameMaskDisabled"),{version:l}=(0,ec.qG)(),r=(0,s.useId)();return"ui2"===l?s.createElement(eO.WA,null,s.createElement(rw.K,{className:ih.Ep,id:r,property:(0,q.Er)(t)?q.ee:!t,onChange:e=>{(0,m.Ub)().ce_properties_panel_tracking&&(0,d.we)("editor-transform-panel-change",{key:"clipContent",value:e}),n(!e)},recordingKey:_.Mx(e,"clipContentCheckbox")}),s.createElement(eO.iM,{className:ih.KS,htmlFor:r},s.createElement(F.Tx,{id:"fullscreen.properties_panel.transform_panel.clip_content"}))):s.createElement("div",{className:s3.Ib,"data-non-interactive":!0},s.createElement(s6.W,{mixed:(0,q.Er)(t),checked:!t,onChange:e=>{(0,m.Ub)().ce_properties_panel_tracking&&(0,d.we)("editor-transform-panel-change",{key:"clipContent",value:e}),n(!e)},label:s.createElement(eq.i,null,s.createElement(F.Tx,{id:"fullscreen.properties_panel.transform_panel.clip_content"})),recordingKey:_.Mx(e,"clipContent")}))}var ce=n(149760),ct=n(202885);function cn(e){let t=(0,ei.OY)(),n=ie(),l=(0,lE.A9)("detectedList"),r=(0,lE.A9)("detectableListAxis"),a=(0,q.kB)(l),i=(0,lg.mY)("arrange-as-grid"),{version:o}=(0,ec.qG)(),c=(0,s.useRef)(null);if(!a&&null==c.current&&(!(0,m.Ub)().ce_mixed_list_spacing||!i&&null==r))return null;let p=(null==a?void 0:a.canvasSpacingBetweenItemsX)!=null||"X"===r||i||c.current===z.kfI.X,d=(null==a?void 0:a.canvasSpacingBetweenItemsY)!=null||"Y"===r||i||c.current===z.kfI.Y,u=s.createElement(ro.Qh,{dispatch:t,value:null==a?q.ee:a.canvasSpacingBetweenItemsX,min:cl(a,"X"),onValueChange:cr(a,"X"),onScrubBegin:()=>{c.current=z.kfI.X},onScrubEnd:()=>{c.current=null},mixedMathHandler:new ca(z.kfI.X),...n,className:ih.Ir,inputClassName:ih.Yh,"data-tooltip-type":eh.wL.TEXT,"data-tooltip":(0,F.t)("fullscreen.properties_panel.transform_panel.list_spacing_x"),dataTestId:"list-spacing-x",tooltipForScreenReadersOnly:!0,recordingKey:_.Mx(e,"listSpacingX")},s.createElement(x.A,{className:ih.CA,svg:ce.c})),h=s.createElement(ro.Qh,{dispatch:t,value:null==a?q.ee:a.canvasSpacingBetweenItemsY,min:cl(a,"Y"),onValueChange:cr(a,"Y"),onScrubBegin:()=>{c.current=z.kfI.Y},onScrubEnd:()=>{c.current=null},mixedMathHandler:new ca(z.kfI.Y),...n,className:p?ih.iw:ih.Ir,inputClassName:ih.Yh,"data-tooltip-type":eh.wL.TEXT,"data-tooltip":(0,F.t)("fullscreen.properties_panel.transform_panel.list_spacing_y"),dataTestId:"list-spacing-y",tooltipForScreenReadersOnly:!0,recordingKey:_.Mx(e,"listSpacingY")},s.createElement(x.A,{className:ih.CA,svg:ct.c}));return"ui2"===o?s.createElement(eO.WA,null,p&&u,d&&h):s.createElement(tv.np,{leftLabel:s.createElement(F.Tx,{id:"properties.label.gap"}),leftInput:p?u:h,rightInput:d&&p?h:null,icon:null,rightLabel:null})}function cl(e,t){return e?e.minItemSize?-e.minItemSize["X"===t?0:1]+1:0:-1/0}let cr=(e,t)=>(n,l)=>{let r="X"===t?"canvasSpacingBetweenItemsX":"canvasSpacingBetweenItemsY";Y.CA.updateSelectionProperties({detectedList:{[r]:Math.max(n,cl(e,t))}},{shouldCommit:l});let a="number"==typeof(null==e?void 0:e.canvasSpacingBetweenItemsX)&&"number"==typeof(null==e?void 0:e.canvasSpacingBetweenItemsY);l&&iR.yu.trackFromFullscreen("magic_collections_list_spacing_changed",{source:"panel",spacing_did_change:!e||n!==e[r],was_mixed:!e,type:a?"grid":"list"})};class ca{constructor(e){this.axis=e}getValue(){return z.i46.getCurrentListSpacing(this.axis)}onChange(e,t,n){let l=e.spacings.map(t);eI.Pc.user("update-list-spacing",()=>{z.i46.setCurrentListSpacing({...e,spacings:l},this.axis),n!==ax.MO.NO&&z.i46.triggerAction("commit",{})})}}let ci=()=>!1;function co(e){return(0,q.EH)(e)&&null!=e&&e!==z.MXH.FIXED}function cs(){let e=(0,lE.A9)("stackHorizontalSize"),t=(0,lE.A9)("stackVerticalSize");return co(e)||co(t)}function cc(e){return s.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},s.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M18 5.5a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1 0-1h11a.5.5 0 0 1 .5.5Zm0 13a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1 0-1h11a.5.5 0 0 1 .5.5ZM8.845 8v8h1.09v-3.531h4.129V16h1.086V8h-1.086v3.52H9.935V8h-1.09Z",clipRule:"evenodd"}))}function cp(e){return s.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},s.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M5.5 18a.5.5 0 0 1-.5-.5v-11a.5.5 0 0 1 1 0v11a.5.5 0 0 1-.5.5Zm13 0a.5.5 0 0 1-.5-.5v-11a.5.5 0 0 1 1 0v11a.5.5 0 0 1-.5.5ZM7.604 8l1.882 8h1.03L12 10.062 13.485 16h1.029l1.882-8h-1.027l-1.384 5.88L12.515 8h-1.03l-1.47 5.88L8.63 8H7.604Z",clipRule:"evenodd"}))}function cd(e,t){return(n,l)=>{if(!(0,m.Ub)().ce_relative_xywh||n.type!==oV.cL.SYNTAX_UNRECOGNIZED)return;let r=o$(l);null!=r&&(l=oJ(l),eI.Pc.user(e,()=>{t(l,r)!==ax.MO.NO&&z.i46.triggerAction("commit",{})}))}}var cu=n(11432),cm=n(53306);function ch(e,t){return cd(e,(e,n)=>z.i46.setNodeSelectionSizeWithAnchor(e,t,n)?ax.MO.YES:ax.MO.NO)}let cg=ch("relative-h",z.kfI.Y),cE=ch("relative-w",z.kfI.X),c_=(0,s.createContext)(null);function cy({children:e}){let[t,n]=(0,lE.H4)("height"),[l,r]=(0,lE.H4)("minHeight"),[a,i]=(0,lE.H4)("maxHeight"),o={key:"height",axis:z.kfI.Y,dropdownAlignment:"right",limitIcon:cu.c,autolayoutMinMaxIcon:s.createElement(cc,null),removeLimitIcons:sw.eC.removeHeightLimit,relativeInputHandler:cg,value:t,minValue:l,maxValue:a,setValue:n,setMinValue:r,setMaxValue:i,stackSize:(0,lE.A9)("stackVerticalSize"),isAuto:it().heightIsAuto,variableField:"HEIGHT",minMaxOptions:[sw.EV,sw.s5],strings:{dimAbbrev:(0,F.t)("fullscreen.properties_panel.transform_panel.h"),dim:{fixed:(0,F.t)("fullscreen.properties_panel.transform_panel.height"),resizing:(0,F.t)("fullscreen.properties_panel.section_autoLayout.tooltip_verticalResizing")},dimWithMinMax:{fixed:(0,F.t)("fullscreen.properties_panel.transform_panel.height_min_max"),resizing:(0,F.t)("fullscreen.properties_panel.section_autoLayout.tooltip_verticalResizingMinMaxH")},dimWithMin:{fixed:(0,F.t)("fullscreen.properties_panel.transform_panel.height_min"),resizing:(0,F.t)("fullscreen.properties_panel.section_autoLayout.tooltip_verticalResizingMinH")},dimWithMax:{fixed:(0,F.t)("fullscreen.properties_panel.transform_panel.height_max"),resizing:(0,F.t)("fullscreen.properties_panel.section_autoLayout.tooltip_verticalResizingMaxH")}},scrubbableInputClass:ih.iw};return s.createElement(c_.Provider,{value:o},e)}function cv({children:e}){let[t,n]=(0,lE.H4)("width"),[l,r]=(0,lE.H4)("minWidth"),[a,i]=(0,lE.H4)("maxWidth"),o={key:"width",axis:z.kfI.X,dropdownAlignment:"left",limitIcon:cm.c,autolayoutMinMaxIcon:s.createElement(cp,null),removeLimitIcons:sw.eC.removeWidthLimit,relativeInputHandler:cE,value:t,minValue:l,maxValue:a,setValue:n,setMinValue:r,setMaxValue:i,stackSize:(0,lE.A9)("stackHorizontalSize"),isAuto:it().widthIsAuto,variableField:"WIDTH",minMaxOptions:[sw.QP,sw.Qj],strings:{dimAbbrev:(0,F.t)("fullscreen.properties_panel.transform_panel.w"),dim:{fixed:(0,F.t)("fullscreen.properties_panel.transform_panel.width"),resizing:(0,F.t)("fullscreen.properties_panel.section_autoLayout.tooltip_horizontalResizing")},dimWithMinMax:{fixed:(0,F.t)("fullscreen.properties_panel.transform_panel.width_min_max"),resizing:(0,F.t)("fullscreen.properties_panel.section_autoLayout.tooltip_horizontalResizingMinMaxW")},dimWithMin:{fixed:(0,F.t)("fullscreen.properties_panel.transform_panel.width_min"),resizing:(0,F.t)("fullscreen.properties_panel.section_autoLayout.tooltip_horizontalResizingMinW")},dimWithMax:{fixed:(0,F.t)("fullscreen.properties_panel.transform_panel.width_max"),resizing:(0,F.t)("fullscreen.properties_panel.section_autoLayout.tooltip_horizontalResizingMaxW")}},scrubbableInputClass:ih.Ir};return s.createElement(c_.Provider,{value:o},e)}function cf(){let e=(0,s.useContext)(c_);if(!e)throw Error("DimensionInputConfigContext not initialized!");return e}function cw(){return{next:{},numMatches:0,validWord:void 0}}function cS(){return{[(0,F.t)("fullscreen.properties_panel.constraints_resizing_panel.hug")]:z.MXH.HUG_CONTENT,[(0,F.t)("fullscreen.properties_panel.constraints_resizing_panel.hug_contents")]:z.MXH.HUG_CONTENT,[(0,F.t)("fullscreen.properties_panel.constraints_resizing_panel.fill_container")]:z.MXH.FILL_CONTAINER,[(0,F.t)("fullscreen.properties_panel.constraints_resizing_panel.fill")]:z.MXH.FILL_CONTAINER}}let cT="dimension_input--dropdownIcon--IaH6E",cb={width:{[z.MXH.FILL_CONTAINER]:sR,[z.MXH.FIXED]:rN,[z.MXH.HUG_CONTENT]:sO},height:{[z.MXH.FILL_CONTAINER]:sL,[z.MXH.FIXED]:rA,[z.MXH.HUG_CONTENT]:sx}};function cC(e){switch(e){case"FILL_CONTAINER":return z.MXH.FILL_CONTAINER;case"HUG_CONTENT":return z.MXH.HUG_CONTENT;case"FIXED":return z.MXH.FIXED;default:return null}}function ck({providedClassName:e,OriginalComponent:t}){return s.createElement("div",{className:"dimension_input--chevronContainer--CJdqK"},s.createElement(t,{providedClassName:e}))}function cI({checkSvg:e,selected:t,iconToReplaceCheck:n,icon:l,OriginalComponent:r}){return s.createElement(r,{ignoreCheck:!1,icon:s.createElement("div",{className:cT},l??n),iconToReplaceCheck:null,rightCheck:!1,selected:t,checkSvg:e})}function cP({OriginalComponent:e,property:t,onChange:n,...l}){let{stackSize:r,axis:a}=cf(),i=(0,sw.Gg)(),o=function(e){let t=(0,s.useMemo)(cS,[]),n=(0,s.useMemo)(()=>(function(e){let t=cw();for(let n of e){let e=t;for(let t=0;t<n.length;t++){let l=n[t].toUpperCase();e.next[l]=e.next[l]??cw(),e.numMatches++,e=e.next[l]}e.validWord=n}return t})(Object.keys(t)),[t]);return(0,s.useCallback)(l=>{if(!l.length)return null;let r=new Set,a=function(e,t){let n=e;for(let e=0;e<t.length;e++){let l=t[e].toUpperCase();if(!(n=n.next[l]))return null}return n}(n,l);return a?(!function e(t,n){if(t.validWord&&!n(t.validWord))return!1;for(let l of Object.values(t.next))if(!e(l,n))return!1;return!0}(a,n=>{let l=t[n];return!e.has(l)||(r.add(l),!(r.size>1))}),1===r.size?z.MXH[Array.from(r)[0]]:null):null},[n,e,t])}(function(){let e=(0,ei.w1)(e=>e.mirror.selectionProperties.stackLayoutSizeOptions);return(0,s.useMemo)(()=>new Set((e??cO).map(e=>e.size)),[e])}()),c=(0,s.useMemo)(()=>null==r||(0,q.Er)(r)||r===z.MXH.FIXED?t:z.MXH[r],[r,t]),p=(0,s.useMemo)(()=>(function(e,t){var n;let l={...e};Object.setPrototypeOf(l,sw.YD.prototype);let r=l.format.bind(l);l.format=e=>e===z.MXH[z.MXH.FILL_CONTAINER]?(0,F.t)("fullscreen.properties_panel.constraints_resizing_panel.fill"):e===z.MXH[z.MXH.HUG_CONTENT]?(0,F.t)("fullscreen.properties_panel.constraints_resizing_panel.hug"):r(e);let a=l.parse.bind(l);l.parse=e=>{let n=t(e);return null!=n?n:a(e)};let i=null==(n=l.clamp)?void 0:n.bind(l);return i&&(l.clamp=e=>e===z.MXH[z.MXH.FILL_CONTAINER]||e===z.MXH[z.MXH.HUG_CONTENT]?e:i(e)),l})(l.formatter,o),[l.formatter,o]);return s.createElement(e,{...l,outerClassName:"dimension_input--comboBoxInput--J0jWQ",formatter:p,property:c,pillsContainerClassName:"dimension_input--comboBoxPillsContainer--Uv3fj",onChange:e=>{let t="string"==typeof e?cC(e):null;if(t){i(t,a),cx(t,a);return}i(null,a),n(e)}})}function cM(){let e=(0,lE.A9)("nodesAreAllStacksOrInStacks"),{minValue:t,maxValue:n}=cf();return(!(0,eC.qm)(t)||!(0,eC.qm)(n))&&e}function cN(e){let{strings:t,value:n,setValue:l,key:r,variableField:a,relativeInputHandler:i,scrubbableInputClass:o}=cf(),c=(0,ty._O)(),p=(0,ty.OO)(),d=cs(),u=p&&d,h=a9({key:r,setValue:l}),g=(0,sw.CO)(),E=ci();return g?s.createElement(cR,{onSizeConstraintClick:e.onSizeConstraintClick,onEvaluateExpressionError:i,disabled:E,recordingKey:_.Mx(e,`${r}Input`),showResizingTooltips:u}):s.createElement(ta.g,{name:`${r}_input`},s.createElement(iK.Q,{condition:!g,wrapper:t=>s.createElement(aj.eY,{recordingKey:_.Mx(e,`${r}InputWrapper`),fields:[a],disabled:e.disabled,resolvedType:z.y6c.FLOAT,currentFieldValue:(0,q.EH)(n)?n:void 0,inputClassName:o},t)},s.createElement(ro.oN,{isTokenizable:!0,inputClassName:ih.Yh,value:n??0,disabled:e.disabled,...h,onEvaluateExpressionError:i,noBorderOnHover:!0,"data-tooltip-type":eh.wL.TEXT,"data-tooltip":u?t.dim.resizing:t.dim.fixed,"data-tooltip-show-on-target-only":c||void 0,tooltipForScreenReadersOnly:!c,dataTestId:`transform-${r}`,recordingKey:_.Mx(e,`${r}Input`),min:(0,m.Ub)().editor_zero_width_input?1e-4:void 0},s.createElement("span",{className:`${ih.CA} svg`},t.dimAbbrev))))}function cA({OriginalComponent:e,...t}){let{stackSize:n,axis:l}=cf(),r=(0,sw.Gg)(),a=(0,s.useMemo)(()=>(0,q.EH)(n)&&null!=n?n:null,[n]);return s.createElement(e,{...t,property:null!=a?z.MXH[a]:t.property,openBelowTarget:!1,onOptionFocus:(e,n)=>{var a;null==(a=t.onOptionFocus)||a.call(t,e,n),r(cC(e),l)},inputClassName:"dimension_input--selectInput--yZiCE"})}let cO=[];function cx(e,t){eI.Pc.user("change-stack-layout-size",()=>{z._8i.setStackSizeOnSelection(e,t)})}function cR(e){let{minValue:t,maxValue:n,setValue:l,setMinValue:r,setMaxValue:a,key:i,axis:o,variableField:c,minMaxOptions:d,strings:u,autolayoutMinMaxIcon:m,limitIcon:h,dropdownAlignment:g,stackSize:E}=cf(),y=(0,ty.OO)(),v=cM(),f=function(e){let t=(0,ty.OO)(),n=(0,ei.w1)(e=>e.mirror.selectionProperties.stackLayoutSizeOptions)??cO,{minMaxOptions:l,removeLimitIcons:r,key:a}=cf(),i=(0,lE.A9)("isInstanceSublayerSelected"),o=cM();return(0,s.useMemo)(()=>{let c=[];if(t&&(n.forEach(e=>{let t=cb[a][e.size];c.push(s.createElement(rx.cb,{disabled:e.disabled,additionalStylesClassName:ih.qK,key:z.MXH[e.size],value:z.MXH[e.size],iconToReplaceCheck:s.createElement(t,null)}))}),c.push(s.createElement(rx.Wy,{key:"ui3-divider"}))),l.forEach(n=>{let[l,r]=sw.eC[n];c.push(s.createElement(rx.cb,{additionalStylesClassName:ih.qK,iconToReplaceCheck:s.createElement(sF._,{className:t?cT:ih._N,svg:l,fallbackSvg:r}),key:n,value:n,disabled:!!i,recordingKey:_.Mx(e,"select",n)}))}),o&&!i){let[n,l]=r;c.push(s.createElement(rx.Wy,{key:"first-divider"})),c.push(s.createElement(rx.cb,{additionalStylesClassName:ih.qK,key:sw.qi,value:sw.qi,iconToReplaceCheck:s.createElement(sF._,{className:t?cT:ih._N,svg:n,fallbackSvg:l}),recordingKey:_.Mx(e,"select",sw.qi)}))}return c},[o,i,l,e,r,t,n,a])}(e),w=a9({key:i,setValue:l}),S=(0,sw.yq)(i,e.onEvaluateExpressionError),[T,b]=(0,ru.lZ)(sw.a0),[C,k]=(0,ru.lZ)(sw.qu),I=T[i].min||T[i].max,P=(0,sw.iI)(i),M=(0,sw.Gs)(),N=(0,ty._O)(),A=v?s.createElement("div",{className:ih.CA},s.createElement(ed.e,{svg:h,role:"img"},m)):s.createElement("span",{className:`${ih.CA} svg`},u.dimAbbrev),O=u.dim;null!=t&&null!=n?O=u.dimWithMinMax:null!=t?O=u.dimWithMin:null!=n&&(O=u.dimWithMax);let x=e.showResizingTooltips&&N?O.resizing:O.fixed,R=(0,sw.Gg)();return s.createElement(o0.Cg,{value:{select:y?cA:void 0,inputComponent:y?cP:void 0}},s.createElement(rx.AW,{value:{chevron:y?ck:void 0,leftCheckIcon:y?cI:void 0}},s.createElement(ta.g,{name:`${i}_input_min_max_combobox`},s.createElement(sf.u,{id:`${i}Transform`,options:f,outerClassName:p()(ih.CS,{"dimension_input--ui3ComboBoxContainer--BbSLS":y}),...function(e){let t=(0,ty.OO)(),{value:n,isAuto:l,key:r}=cf(),a=l&&(0,q.EH)(n)&&!t,i=(0,sw.yq)(r,void 0);return{value:a?void 0:n??0,placeholder:a?i.format(n):void 0}}(),formatter:S,variableField:c,onChange:(t,n)=>{if("number"==typeof t)w.onValueChange(t,n);else if(t===d[0])e.onSizeConstraintClick("min");else if(t===d[1])e.onSizeConstraintClick("max");else if(t===sw.qi)r(null,ax.MO.NO),a(null,ax.MO.NO),Y.CA.triggerAction("commit"),b({...T,[i]:{min:!1,max:!1}}),k(null);else if("string"==typeof t){let e=cC(t);null!=e&&cx(e,o)}},dropdownWidth:y||v?173:147,tooltipText:x,showTooltipOnTargetOnly:N,iconId:`${i}-label`,dropdownAlignment:g,label:A,"data-tooltip-max-width":200,disabled:e.disabled,onFocus:()=>M("minmax",{axis:o,renderLabels:!1},sw.m4.YES),onBlur:()=>{M("minmax",{axis:o,renderLabels:!1},sw.m4.YES_ONLY_MIN_MAX)},onMouseEnterNonPropagating:()=>{y&&R((0,q.EH)(E)&&null!=E?E:null,o)},onMouseEnter:()=>{M("minmax",{axis:o,renderLabels:!0})},onMouseLeave:()=>{M("minmax",null),y&&R(null,o)},onScrubBegin:y?()=>{R(null,o)}:void 0,onScrubClick:v||I?P:void 0,onKeyUp:w.onKeyUp,mixedMathHandler:w.mixedMathHandler,onMixedMathNudge:w.onMixedMathNudge,source:"panel",noBorderOnFocus:!0,omitValueFromDropdown:!0,openBelowTarget:!0,shiftVariableOptionToAlign:!0,inputTestId:`transform-${i}`,onboardingKey:`transform-${i}`,recordingKey:e.recordingKey}))))}function cL(e){return s.createElement(cy,null,s.createElement(cN,{...e}))}var cF=n(386760);function cK(e){return s.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},s.createElement("mask",{id:"fpl-icon-24-lock-open-small-a",fill:"#fff"},s.createElement("path",{fillRule:"evenodd",d:"M10 8a2 2 0 1 1 4 0v.5a.5.5 0 0 0 1 0V8a3 3 0 1 0-6 0v3h-.5A1.5 1.5 0 0 0 7 12.5v4A1.5 1.5 0 0 0 8.5 18h7a1.5 1.5 0 0 0 1.5-1.5v-4a1.5 1.5 0 0 0-1.5-1.5H10V8Z",clipRule:"evenodd"})),s.createElement("path",{fill:"var(--color-icon)",d:"M9 11v1h1v-1H9Zm1 0H9v1h1v-1Zm2-6a3 3 0 0 0-3 3h2a1 1 0 0 1 1-1V5Zm3 3a3 3 0 0 0-3-3v2a1 1 0 0 1 1 1h2Zm0 .5V8h-2v.5h2Zm-.5-.5a.5.5 0 0 1 .5.5h-2a1.5 1.5 0 0 0 1.5 1.5V8Zm-.5.5a.5.5 0 0 1 .5-.5v2A1.5 1.5 0 0 0 16 8.5h-2Zm0-.5v.5h2V8h-2Zm-2-2a2 2 0 0 1 2 2h2a4 4 0 0 0-4-4v2Zm-2 2a2 2 0 0 1 2-2V4a4 4 0 0 0-4 4h2Zm0 3V8H8v3h2Zm-1.5 1H9v-2h-.5v2Zm-.5.5a.5.5 0 0 1 .5-.5v-2A2.5 2.5 0 0 0 6 12.5h2Zm0 4v-4H6v4h2Zm.5.5a.5.5 0 0 1-.5-.5H6A2.5 2.5 0 0 0 8.5 19v-2Zm7 0h-7v2h7v-2Zm.5-.5a.5.5 0 0 1-.5.5v2a2.5 2.5 0 0 0 2.5-2.5h-2Zm0-4v4h2v-4h-2Zm-.5-.5a.5.5 0 0 1 .5.5h2a2.5 2.5 0 0 0-2.5-2.5v2ZM10 12h5.5v-2H10v2ZM9 8v3h2V8H9Z",mask:"url(#fpl-icon-24-lock-open-small-a)"}))}var cD=n(366800),cH=n(424012),cB=n(134036),cG=n(16900);function cV(e){let[t,n]=(0,lE.H4)("proportionsConstrained"),l=(0,ty._O)(),r=()=>{(0,m.Ub)().ce_properties_panel_tracking&&(0,d.we)("editor-transform-panel-change",{key:"proportionsConstrained",value:!(0,q.uc)(t,!1)}),n(!(0,q.uc)(t,!1))},a=(0,F.t)("fullscreen.properties_panel.transform_panel.constrain_proportions");return l?s.createElement(ta.g,{name:"dimensions_constrained_toggle"},s.createElement(lu.w,{disabled:e.disabled,onClick:r,actionOnPointerDown:!0,recordingKey:_.Mx(e,"constrainProportionsToggle"),"data-tooltip-type":eh.wL.TEXT,"data-tooltip":a,"aria-label":a},t?s.createElement(cF.m,null):s.createElement(cK,null))):s.createElement(ta.g,{name:"dimensions_constrained_toggle"},s.createElement(aM.G,{disabled:e.disabled,toggled:(0,q.uc)(t,!1),svg:t?cD.c:cH.c,fallbackSvg:t?cG.c:cB.c,className:ih.eS,onMouseDown:r,recordingKey:_.Mx(e,"constrainProportionsToggle"),"data-tooltip-type":eh.wL.TEXT,"data-tooltip":a}))}var cW=n(900344),cU=n(970380);function cY(e){let[t,n]=(0,lE.H4)("stackPositioning"),l=(0,o9.e6)();return s.createElement(aM.G,{svg:cW.c,fallbackSvg:cU.c,"data-tooltip-type":eh.wL.TEXT,"data-tooltip":(0,F.t)("fullscreen.properties_panel.transform_panel.absolute_position"),onMouseDown:()=>{eI.Pc.user("set-stack-position",()=>{"ABSOLUTE"===t?(n("AUTO"),l("Remove Absolute Position")):(n("ABSOLUTE",ax.MO.NO),z.i46.bringSelectionToFrontVisually(),z.i46.triggerAction("commit",{}),l("Add Absolute Position"))})},recordingKey:_.Mx(e,"absolutePosition"),toggled:"ABSOLUTE"===t,disabled:e.disabled,className:ih.eS,dataTestId:"stack-positioning-toggle"})}function cz(){let e=(0,lE.A9)("nodesAreAllInsideStacks"),t=ci(),[n,l]=(0,lE.H4)("stackPositioning"),r=(0,o9.e6)(),a=(0,lE.A9)("isInstanceSublayerSelected");return e&&!t?s.createElement(tv._8,{label:null,input:s.createElement(s6.W,{disabled:!!a,checked:"ABSOLUTE"===n,onChange:()=>{eI.Pc.user("set-stack-position",()=>{"ABSOLUTE"===n?(l("AUTO"),r("Remove Absolute Position")):(l("ABSOLUTE",ax.MO.NO),z.i46.bringSelectionToFrontVisually(),z.i46.triggerAction("commit",{}),r("Add Absolute Position"))})},label:s.createElement(eq.i,null,s.createElement(F.Tx,{id:"fullscreen.properties_panel.transform_panel.absolute_position"}))})}):null}function cZ(e){return s.createElement(cv,null,s.createElement(cN,{...e}))}let cX=cd("relative-x",(e,t)=>z.i46.setNodeSelectionOffsetWithAnchor(e,z.kfI.X,t)?ax.MO.YES:ax.MO.NO);function cQ(e){let[t,n]=(0,lE.H4)("x"),l=a9({key:"x",setValue:n}),{version:r}=(0,ec.qG)(),a="ui3"===r;return s.createElement(ta.g,{name:"x_input"},s.createElement(ro.Qh,{...l,onEvaluateExpressionError:cX,className:ih.Ir,inputClassName:ih.Yh,value:t,disabled:e.disabled,"data-tooltip-type":eh.wL.TEXT,"data-tooltip":a?(0,F.t)("properties.tooltip.xposition"):(0,F.t)("fullscreen.properties_panel.transform_panel.x"),tooltipForScreenReadersOnly:!a,recordingKey:_.Mx(e.recordingKey,"xInput")},s.createElement("span",{className:`${ih.CA} svg`},s.createElement(F.Tx,{id:"fullscreen.properties_panel.transform_panel.x"}))))}let cq=cd("relative-y",(e,t)=>z.i46.setNodeSelectionOffsetWithAnchor(e,z.kfI.Y,t)?ax.MO.YES:ax.MO.NO);function cj(e){let[t,n]=(0,lE.H4)("y"),l=a9({key:"y",setValue:n}),{version:r}=(0,ec.qG)(),a="ui3"===r;return s.createElement(ta.g,{name:"y_input"},s.createElement(ro.Qh,{...l,onEvaluateExpressionError:cq,className:ih.Ir,inputClassName:ih.Yh,value:t,disabled:e.disabled,"data-tooltip-type":eh.wL.TEXT,"data-tooltip":a?(0,F.t)("properties.tooltip.yposition"):(0,F.t)("fullscreen.properties_panel.transform_panel.y"),tooltipForScreenReadersOnly:!a,recordingKey:_.Mx(e.recordingKey,"yInput")},s.createElement("span",{className:`${ih.CA} svg`},s.createElement(F.Tx,{id:"fullscreen.properties_panel.transform_panel.y"}))))}var c$=n(510892),cJ=n(914108),c0=n(755224),c5=n(921828),c1=n(565260),c7=n(962496);let c2=s.memo(function(e){let t=ia(),n=ii(),l=(0,ty._O)(ty.OA.READY),r=(0,lE.A9)("stackMode"),a=null!=r&&"NONE"!==(0,q.kB)(r),i=(0,lE.A9)("nodesAreAllInsideStacks"),o=t.framePresetsItem&&n.transform,c=a||i,p=(0,s.useRef)(null),d=(0,ei.w1)(eP.qg),u=(0,ty.OO)();return s.createElement(w.u,{name:"transform_panel"},s.createElement(eO.sF,{"data-onboarding-key":sC.s,"data-non-interactive":!0},!l&&o&&e.propertiesPanelState===ne.cf.DEFAULT_EXPANDED&&s.createElement(c8,{recordingKey:e.recordingKey}),s.createElement(c3,{transformDisabled:!n.transform,recordingKey:e.recordingKey,showFrameFitButton:!o&&!t.sectionItem,pickerShown:e.pickerShown,canEditConstraints:e.canEditConstraints,openFileKey:e.openFileKey}),!l&&s.createElement(s.Fragment,null,s.createElement(c9,{recordingKey:e.recordingKey,forwardedRef:p}),s.createElement(sS,{visible:!!c,widthHeightRowRef:p})),c&&!u&&s.createElement(s$,{recordingKey:_.Mx(e.recordingKey,"autolayoutSizing")}),(t.angle||t.cornerRadius)&&s.createElement(iC,{key:d.join("-"),cornerRadiusShown:t.cornerRadius,cornerRadiusDisabled:!n.cornerRadius,rectangleCornersShown:t.rectangleCornerRadii,rectangleCornersDisabled:!n.rectangleCornerRadii,angleShown:t.angle,angleDisabled:!n.angle,recordingKey:e.recordingKey}),(t.count||t.starInnerScale)&&s.createElement(pe,{countShown:t.count,countDisabled:!n.count,starInnerScaleShown:t.starInnerScale,starInnerScaleDisabled:!n.starInnerScale,recordingKey:e.recordingKey}),t.arcData&&s.createElement(pt,{arcDataDisabled:!n.arcData,recordingKey:e.recordingKey}),t.fixedFrameOptions&&s.createElement(s9,{recordingKey:e.recordingKey}),l&&e.canEditConstraints?s.createElement(cz,null):null,s.createElement(cn,{recordingKey:e.recordingKey})))});function c4(e){let t=(0,lE.A9)("width"),n=(0,lE.A9)("height"),l=(0,lE.A9)("isInstanceSelected"),r=(0,lE.A9)("isInstanceSublayerSelected"),a=(0,lE.A9)("resizeToFit"),i=(0,lE.A9)("canBecomeFrame"),o=(0,lE.A9)("canBecomeGroup"),c=(0,lE.A9)("canBecomeSection"),p=(0,lE.A9)("isSection"),d=(0,lE.A9)("isWidgetSelected"),u=(0,lE.A9)("stackMode"),m=(0,ei.w1)(e=>e.dropdownShown),h=(0,ei.OY)();return s.createElement(ad,{leftIcon:e.leftIcon,selectClassName:e.selectClassName,inputClassName:e.inputClassName,width:t,height:n,resizeToFit:a,stackMode:u,dispatch:h,dropdownShown:m,canBecomeFrame:!!i,canBecomeGroup:!!o,canBecomeSection:!!c,isSection:!!p,isOrInInstance:!!(l||r),isWidget:!!d,id:e.id,recordingKey:e.recordingKey})}let c8=s.memo(function(e){let t=ia(),n=(0,lE.A9)("width"),l=(0,lE.A9)("height"),r=(0,lE.A9)("resizeToFit"),a=(0,lE.A9)("stackMode"),i=(0,lE.A9)("stackCounterSizing"),o=(0,ei.w1)(e=>(0,el.Ib)(e.mirror.appModel,"resize-to-fit")),c=null!=a&&"NONE"!==a,p=c&&(0,q.EH)(i)&&"RESIZE_TO_FIT"===i,{version:d}=(0,ec.qG)(),u=o?ih.ee:ih.oF,m=s.createElement(c4,{id:"frame-preset-dropdown",selectClassName:u,inputClassName:ih.Dr,recordingKey:_.Mx(e,"framePresetDropdown")}),h=s.createElement(au,{className:ih.eS,recordingKey:_.Mx(e,"frameFitButton")});return"ui3"===d?s.createElement(tv.np,{leftLabel:null,leftInput:m,rightLabel:null,rightInput:null,icon:t.sectionItem&&(!o||p)?null:h}):s.createElement(eO.WA,null,m,o&&!c&&s.createElement(sA,{width:n,height:l,resizeToFit:r,recordingKey:_.Mx(e,"frameOrientation")}),o&&!p&&s.createElement(s.Fragment,null,h))});function c6(){let e=cs(),t=(0,ty.OO)();return e&&t?s.createElement(F.Tx,{id:"properties.label.resizing"}):s.createElement(F.Tx,{id:"properties.label.dimensions"})}function c3(e){let t="xy-inputs-row",n=(0,lE.A9)("nodesAreAllInsideStacks"),l=(0,lE.A9)("stackPositioning"),r=(0,lE.A9)("isInstanceSublayerSelected"),{version:a}=(0,ec.qG)(),i=(0,ei.OY)(),o=s.useRef(null),c=!!n&&"AUTO"===l||e.transformDisabled,p=!!n,d=(0,lg.mY)("resize-to-fit"),u=e.showFrameFitButton&&d&&!p;if("ui2"===a)return s.createElement(eO.WA,{dataTestId:"x-y-inputs-row"},s.createElement(cQ,{disabled:c,recordingKey:e.recordingKey}),s.createElement(cj,{disabled:c,recordingKey:e.recordingKey}),u&&s.createElement(au,{className:ih.eS}),p&&s.createElement(cY,{disabled:!!r,recordingKey:e.recordingKey}));let m=()=>e.pickerShown&&e.pickerShown.id===t?e.pickerShown:null,h=m();return s.createElement(s.Fragment,null,s.createElement(tv.np,{ref:o,"data-testid":"x-y-inputs-row",leftLabel:s.createElement(F.Tx,{id:"properties.label.position"}),leftInput:s.createElement(cQ,{disabled:c,recordingKey:e.recordingKey}),rightLabel:null,rightInput:s.createElement(cj,{disabled:c,recordingKey:e.recordingKey}),icon:e.canEditConstraints?s.createElement(eO.KM,{onClick:e=>{if(e.stopPropagation(),m())i(K.U5());else{let e=(0,eg.cT)(ea.findDOMNode(o.current));i(K.is({id:t,initialX:e.x,initialY:e.y}))}},onMouseDown:e=>e.stopPropagation(),selected:!!h,"data-tooltip-type":eh.wL.TEXT,"data-tooltip":(0,F.t)("fullscreen.properties_panel.constraints_panel.constraints")},s.createElement(sJ,null)):null}),h&&s.createElement(sk,{pickerShown:h,openFileKey:e.openFileKey}))}function c9(e){let t=(0,lE.A9)("stackMode"),[n,l]=(0,ru.lZ)(sw.a0),[r,a]=(0,ru.lZ)(sw.qu),i=null!=t&&"NONE"!==t,o=il(),c=(0,sw.Gs)(),p=(0,o9.e6)(),d=(0,sw.WU)(),u=ii().size,{widthIsAuto:m,heightIsAuto:h}=it(),{version:g}=(0,ec.qG)();(0,nS.is)(()=>{l(sw.N3),a(null),c("minmax",null,sw.m4.YES)});let E=e=>{p("Expanded min max property",e);let t={...n,[e.widthOrHeight]:{...n[e.widthOrHeight],[e.minOrMax]:!0}},r="min"===e.minOrMax?"max":"min",i=d[e.widthOrHeight][e.minOrMax],o=d[e.widthOrHeight][r];!i&&o&&(t[e.widthOrHeight][r]=!0),l(t),a(e)};return"ui2"===g?s.createElement(eO.WA,{forwardedRef:e.forwardedRef,dataTestId:"width-height-row"},s.createElement(cZ,{disabled:m||!u,onSizeConstraintClick:e=>{E({widthOrHeight:"width",minOrMax:e,minOrMaxWidthOrHeight:`${e}Width`})},recordingKey:e.recordingKey}),s.createElement(cL,{disabled:h||!u,onSizeConstraintClick:e=>{E({widthOrHeight:"height",minOrMax:e,minOrMaxWidthOrHeight:`${e}Height`})},recordingKey:e.recordingKey}),!i&&!o&&s.createElement(cV,{disabled:!u,recordingKey:e.recordingKey})):s.createElement(tv.np,{"data-testid":"x-y-inputs-row",leftLabel:s.createElement(c6,null),leftInput:s.createElement(cZ,{disabled:m||!u,onSizeConstraintClick:e=>{E({widthOrHeight:"width",minOrMax:e,minOrMaxWidthOrHeight:`${e}Width`})},recordingKey:e.recordingKey}),rightLabel:null,rightInput:s.createElement(cL,{disabled:h||!u,onSizeConstraintClick:e=>{E({widthOrHeight:"height",minOrMax:e,minOrMaxWidthOrHeight:`${e}Height`})},recordingKey:e.recordingKey}),icon:i||o?null:s.createElement(cV,{disabled:!u,recordingKey:e.recordingKey})})}function pe(e){let{version:t}=(0,ec.qG)(),[n,l]=(0,lE.H4)("count"),[r,a]=(0,lE.H4)("starInnerScale"),{smallNudgeAmount:i,bigNudgeAmount:o,wheelMultiplier:c,scrubMultiplier:p}=ie(),d=(0,ei.OY)(),u=e.countShown&&s.createElement(ro.gv,{className:ih.Ir,inputClassName:ih.Yh,value:n,disabled:e.countDisabled,smallNudgeAmount:i,wheelMultiplier:c,onValueChange:l,dispatch:d,recordingKey:_.Mx(e,"countInput"),"data-tooltip-type":eh.wL.TEXT,"data-tooltip":(0,F.t)("fullscreen.properties_panel.transform_panel.count"),bigNudgeAmount:10,scrubMultiplier:.1*i,resolution:.01,min:3,max:60},e.starInnerScaleShown&&s.createElement(x.A,{className:ih.CA,svg:c1.c}),!e.starInnerScaleShown&&s.createElement(x.A,{className:ih.CA,svg:cJ.c})),m=e.starInnerScaleShown&&s.createElement(ro.SC,{className:ih.iw,inputClassName:ih.Yh,value:r,disabled:e.starInnerScaleDisabled,smallNudgeAmount:i,bigNudgeAmount:o,wheelMultiplier:c,scrubMultiplier:p,onValueChange:a,dispatch:d,recordingKey:_.Mx(e,"starInnerScaleInput"),"data-tooltip-type":eh.wL.TEXT,"data-tooltip":(0,F.t)("fullscreen.properties_panel.transform_panel.ratio"),resolution:.001,min:.001},s.createElement(x.A,{className:ih.CA,svg:c7.c}));return"ui3"===t&&m?s.createElement(tv.np,{leftLabel:s.createElement(F.Tx,{id:"properties.label.count"}),leftInput:u,rightLabel:s.createElement(F.Tx,{id:"properties.label.angle"}),rightInput:m,icon:null}):"ui3"===t?s.createElement(tv.np,{leftLabel:s.createElement(F.Tx,{id:"properties.label.count"}),leftInput:u,rightLabel:null,rightInput:null,icon:null}):s.createElement(eO.WA,{dataTestId:"count-scale-inputs-row"},u,m)}let pt=s.memo(function(e){let[t,n]=(0,lE.H4)("arcStart"),[l,r]=(0,lE.H4)("arcSweep"),[a,i]=(0,lE.H4)("arcRadius"),{smallNudgeAmount:o,bigNudgeAmount:c,wheelMultiplier:p,scrubMultiplier:d}=ie(),u=(0,ei.OY)(),{version:m}=(0,ec.qG)();return"ui3"!==m?s.createElement(eO.WA,null,s.createElement("div",{className:ih.T7},s.createElement(x.A,{className:ih.CA,svg:c$.c}),s.createElement(ro.OW,{className:ih.uS,inputClassName:ih.Ws,value:t,disabled:e.arcDataDisabled,smallNudgeAmount:o,bigNudgeAmount:c,wheelMultiplier:p,scrubMultiplier:d,onValueChange:n,dispatch:u,recordingKey:_.Mx(e,"arcStart"),"data-tooltip-type":eh.wL.TEXT,"data-tooltip":(0,F.t)("fullscreen.properties_panel.transform_panel.start"),noBorderOnFocus:!0}),s.createElement(ro.SC,{className:ih._M,inputClassName:ih.Ws,value:l,smallNudgeAmount:o,bigNudgeAmount:c,wheelMultiplier:p,scrubMultiplier:d,onValueChange:r,dispatch:u,recordingKey:_.Mx(e,"arcSweep"),resolution:.001,min:-1,"data-tooltip-type":eh.wL.TEXT,"data-tooltip":(0,F.t)("fullscreen.properties_panel.transform_panel.sweep"),noBorderOnFocus:!0}),s.createElement(ro.SC,{className:ih.UT,inputClassName:ih.Ws,value:a,smallNudgeAmount:o,bigNudgeAmount:c,wheelMultiplier:p,scrubMultiplier:d,onValueChange:i,dispatch:u,recordingKey:_.Mx(e,"arcRatio"),"data-tooltip-type":eh.wL.TEXT,"data-tooltip":(0,F.t)("fullscreen.properties_panel.transform_panel.ratio"),resolution:.001,noBorderOnFocus:!0}))):s.createElement(tv.gn,{label:s.createElement(F.Tx,{id:"properties.label.arc"}),icon:null,input:s.createElement("div",{className:ih.xi},s.createElement(ro.OW,{className:ih.uS,inputClassName:ih.Yh,value:t,disabled:e.arcDataDisabled,smallNudgeAmount:o,bigNudgeAmount:c,wheelMultiplier:p,scrubMultiplier:d,onValueChange:n,dispatch:u,recordingKey:_.Mx(e,"arcStart"),"data-tooltip-type":eh.wL.TEXT,"data-tooltip":(0,F.t)("fullscreen.properties_panel.transform_panel.start"),noBorderOnFocus:!1},s.createElement(x.A,{className:ih.CA,svg:c$.c})),s.createElement(ro.SC,{className:ih._M,inputClassName:ih.Ws,value:l,smallNudgeAmount:o,bigNudgeAmount:c,wheelMultiplier:p,scrubMultiplier:d,onValueChange:r,dispatch:u,recordingKey:_.Mx(e,"arcSweep"),resolution:.001,min:-1,"data-tooltip-type":eh.wL.TEXT,"data-tooltip":(0,F.t)("fullscreen.properties_panel.transform_panel.sweep"),noBorderOnFocus:!1}),s.createElement(ro.SC,{className:ih.UT,inputClassName:ih.Ws,value:a,smallNudgeAmount:o,bigNudgeAmount:c,wheelMultiplier:p,scrubMultiplier:d,onValueChange:i,dispatch:u,recordingKey:_.Mx(e,"arcRatio"),"data-tooltip-type":eh.wL.TEXT,"data-tooltip":(0,F.t)("fullscreen.properties_panel.transform_panel.ratio"),resolution:.001,noBorderOnFocus:!1}))})});function pn(e){let{bigNudgeAmount:t,smallNudgeAmount:n}=(0,Z.i_)();return s.createElement(pl,{...e,bigNudgeAmount:t,smallNudgeAmount:n})}function pl(e){let{smallNudgeAmount:t,bigNudgeAmount:n}=e,l={wheelMultiplier:t,scrubMultiplier:t,smallNudgeAmount:t,bigNudgeAmount:n},r=s.createElement(ro.Qh,{className:ih.Ir,inputClassName:ih.Yh,value:e.x,...l,onValueChange:(e,t)=>{Y.CA.updateSelectionProperties({x:e},{shouldCommit:t})},dispatch:e.dispatch,"data-tooltip-type":eh.wL.TEXT,"data-tooltip":(0,F.t)("fullscreen.properties_panel.transform_panel.x"),tooltipForScreenReadersOnly:!0,recordingKey:_.Mx(e,"xInput"),mixedMathCallback:eI.wH.user("apply-mixed-method-for-vector-network",e=>{z.GqY.applyMixedMathForSelectedVectorNetwork(z.kfI.X,e)})},s.createElement("span",{className:ih.CA},s.createElement(F.Tx,{id:"fullscreen.properties_panel.transform_panel.x"}))),a=s.createElement(ro.Qh,{className:ih.iw,inputClassName:ih.Yh,value:e.y,...l,onValueChange:(e,t)=>{Y.CA.updateSelectionProperties({y:e},{shouldCommit:t})},dispatch:e.dispatch,"data-tooltip-type":eh.wL.TEXT,"data-tooltip":(0,F.t)("fullscreen.properties_panel.transform_panel.x"),tooltipForScreenReadersOnly:!0,recordingKey:_.Mx(e,"yInput"),mixedMathCallback:eI.wH.user("apply-mixed-method-for-vector-network",e=>{z.GqY.applyMixedMathForSelectedVectorNetwork(z.kfI.Y,e)})},s.createElement("span",{className:ih.CA},s.createElement(F.Tx,{id:"fullscreen.properties_panel.transform_panel.y"}))),i=s.createElement(pi,{handleMirroring:e.handleMirroring,dispatch:e.dispatch,dropdownShown:e.dropdownShown,recordingKey:_.Mx(e,"mirroring"),isUI3:e.isUI3}),o=s.createElement(ro.oN,{className:ih.Ir,inputClassName:ih.Yh,value:e.cornerRadius,...l,onValueChange:(e,t)=>{Y.CA.updateSelectionProperties({cornerRadius:e},{shouldCommit:t})},dispatch:e.dispatch,recordingKey:_.Mx(e,"cornerRadiusInput"),"data-tooltip-type":eh.wL.TEXT,"data-tooltip":(0,F.t)("fullscreen.properties_panel.transform_panel.corner_radius")},s.createElement(x.A,{className:ih.CA,svg:ig.c}));return s.createElement(w.u,{name:"vector_transform_panel"},s.createElement(eO.sF,null,s.createElement(eO.WA,null,s.createElement(eO.w1,null,s.createElement(F.Tx,{id:"fullscreen.properties_panel.transform_panel.vector"}))),e.isUI3?s.createElement(s.Fragment,null,s.createElement(tv.np,{leftLabel:s.createElement(F.Tx,{id:"fullscreen.properties_panel.section_vector.label_position"}),leftInput:r,rightLabel:null,rightInput:a,icon:null}),s.createElement(tv.gn,{label:s.createElement(F.Tx,{id:"fullscreen.properties_panel.section_vector.label_mirroring"}),input:i,icon:null}),s.createElement(tv.np,{leftLabel:s.createElement(F.Tx,{id:"fullscreen.properties_panel.section_vector.label_radius"}),leftInput:o,rightLabel:null,rightInput:null,icon:null})):s.createElement(s.Fragment,null,s.createElement(eO.WA,null,r,a),s.createElement(eO.WA,null,i),s.createElement(eO.WA,null,o))))}class pr extends rx.M1{}class pa extends rx.cb{}class pi extends s.PureComponent{constructor(){super(...arguments),this.formatter={format:e=>{switch(e){case"NONE":return(0,F.t)("fullscreen.properties_panel.transform_panel.no_mirroring");case"ANGLE":return(0,F.t)("fullscreen.properties_panel.transform_panel.mirror_angle");case"ANGLE_AND_LENGTH":return(0,F.t)("fullscreen.properties_panel.transform_panel.mirror_angle_and_length")}}},this.onChange=e=>Y.CA.updateSelectionProperties({handleMirroring:e})}render(){return s.createElement(pr,{id:"handle-mirroring-select",className:ih.M7,inputClassName:ih.Ku,chevronClassName:ih.cZ,property:this.props.handleMirroring,formatter:this.formatter,onChange:this.onChange,dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown,recordingKey:this.props.recordingKey,svg:this.props.isUI3?void 0:c0.c,fallbackSvg:this.props.isUI3?void 0:c5.c,svgClassName:ih.a_},s.createElement(pa,{value:"NONE",recordingKey:_.Mx(this.props,"NONE")}),s.createElement(pa,{value:"ANGLE",recordingKey:_.Mx(this.props,"ANGLE")}),s.createElement(pa,{value:"ANGLE_AND_LENGTH",recordingKey:_.Mx(this.props,"ANGLE_AND_LENGTH")}))}}pi.displayName="HandleMirroring";var po=n(713620);let ps="alignment_view_v4--indicator--VmKfE",pc="alignment_view_v4--indicatorBaseline--4kxfb",pp="alignment_view_v4--counterCenter--MlF9q";function pd({onClick:e,onDoubleClick:t,onHover:n,...l}){let r=(0,sw.Qt)(l.stackPrimaryAlignItems),a="BASELINE"===l.stackCounterAlignItems,i="HORIZONTAL"===l.stackMode?"HORIZONTAL":"VERTICAL",o="WRAP"===l.stackWrap,c="HORIZONTAL"===i?"alignment_view_v4--horizontal--UiniT":"alignment_view_v4--vertical--JVrRJ",d=r?"alignment_view_v4--spaceBetween--RZOdp":"alignment_view_v4--packed--MZMpk",u=(0,q.EH)(l.stackPrimaryAlignItems)&&(0,q.EH)(l.stackCounterAlignItems),m=l.primaryHover&&l.counterHover,h=(0,s.useCallback)(e=>{let[n,l]=pv(e.target);if(r){let t=e.target.getBoundingClientRect();"HORIZONTAL"===i?n=Math.floor((e.clientX-t.x)/t.width*3):l=Math.floor((e.clientY-t.y)/t.height*3)}t(n,l)},[t,r,i]),g=(0,s.useCallback)(e=>n(...pv(e.target)),[n]),E=(0,s.useCallback)(e=>n(null,null),[n]);return s.createElement("div",{className:p()(l.className,"alignment_view_v4--mainContainer--zUBsm",c,d,{"alignment_view_v4--baselineAlign--xLTR2":a}),tabIndex:0,onKeyDown:l.onKeyDown},s.createElement(py,{baseline:a}),s.createElement(pE,{stackMode:i,spaceBetween:r,baselineAlign:a,onMouseMove:g,onMouseOut:E,onClick:e,onDoubleClick:h}),m&&s.createElement(pu,{hover:!0,primaryAlign:l.primaryHover,counterAlign:l.counterHover,isStackWrap:o}),u&&s.createElement(pu,{primaryAlign:l.stackPrimaryAlignItems,counterAlign:l.stackCounterAlignItems,isStackWrap:o}),a&&s.createElement(pg,{onClick:l.onRemoveBaseline}))}function pu({hover:e,primaryAlign:t,counterAlign:n,isStackWrap:l}){return s.createElement("div",{className:p()("alignment_view_v4--indicatorContainer--ewQnB alignment_view_v4--_centered--S6qQk",t?ph[t]:void 0,n?pm[n]:void 0,{"alignment_view_v4--hover---ncmo":e})},s.createElement("div",{className:p()("alignment_view_v4--indicatorGroup--vlMlW",{"alignment_view_v4--wrap--nsYBR":l})},"BASELINE"===n?(0,sw.Qt)(t)?s.createElement(s.Fragment,null,s.createElement("div",{className:ps}),s.createElement("span",{className:pc},"A"),s.createElement("div",{className:ps})):s.createElement("span",{className:pc},"A"):l?s.createElement(s.Fragment,null,s.createElement("div",{className:ps}),s.createElement("div",{className:ps}),s.createElement("div",{className:ps}),s.createElement("div",{className:ps}),s.createElement("div",{className:ps})):s.createElement(s.Fragment,null,s.createElement("div",{className:ps}),s.createElement("div",{className:ps}),s.createElement("div",{className:ps}))))}let pm={MIN:"alignment_view_v4--counterMin--1LPg6",CENTER:pp,MAX:"alignment_view_v4--counterMax--HzBqX",BASELINE:pp},ph={MIN:"alignment_view_v4--primaryMin--DHsQj",CENTER:"alignment_view_v4--primaryCenter--ci9Aj",MAX:"alignment_view_v4--primaryMax--i8kqd",SPACE_EVENLY:"",SPACE_BETWEEN:""};function pg({onClick:e}){let t=pw(),n=pS(),l=2*t/3+2,r=t-9,a=t-5.5;return s.createElement("svg",{className:"alignment_view_v4--baselineControls--cwzcf alignment_view_v4--_centered--S6qQk",width:t,height:t,viewBox:n,fill:"none"},s.createElement("g",{className:"alignment_view_v4--baselineHovered--uY49E","data-tooltip-type":eh.wL.TEXT,"data-tooltip":(0,F.t)("fullscreen.properties_panel.stack_panel.remove_baseline_align"),onClick:e},s.createElement("rect",{x:"4.5",y:`${l}`,width:`${r}`,height:"14",rx:"2",fill:"var(--color-bg-selected-tertiary, #EDF5FA)"}),s.createElement("line",{x1:"5.5",y1:`${l}`,x2:`${a}`,y2:`${l}`,stroke:"var(--color-bg-brand-hover, #0D99FF)",strokeWidth:"2",strokeLinecap:"round",strokeDasharray:"1 5"}),s.createElement("line",{x1:"5.5",y1:`${l}`,x2:`${a}`,y2:`${l}`,stroke:"var(--color-bg-tertiary, rgba(0, 0, 0, 0.3))",strokeWidth:"2",strokeLinecap:"round"})))}function pE({spaceBetween:e,stackMode:t,baselineAlign:n,onMouseMove:l,onMouseOut:r,onClick:a,onDoubleClick:i}){let o=pf({stackMode:t,baselineAlign:n,spaceBetween:e});return s.createElement("div",{className:"alignment_view_v4--tooltipGrid--1PH8Z alignment_view_v4--_centered--S6qQk",onMouseMove:l,onMouseOut:r,onClick:a,onDoubleClick:i},o.map((n,l)=>{let r=l%3,a=Math.floor(l/3);return"HORIZONTAL"===t&&e&&(a=r,r=0),s.createElement(p_,{key:l,x:r,y:a,..."string"==typeof n?{tooltip:n}:n})}))}function p_({x:e,y:t,tooltip:n,below:l}){return s.createElement("div",{"data-x":e,"data-y":t,"data-tooltip-type":eh.wL.TEXT,"data-tooltip":n,"data-tooltip-show-above":!l||void 0})}function py({baseline:e}){let t=pS(),n=pw(),l=n/3,r=`${l}`,a=`${l/2}`,i=e?l:0,o=e?l:n,c=(0,s.useId)();return s.createElement("svg",{width:n,height:n,viewBox:t,fill:"currentColor"},s.createElement("defs",null,s.createElement("pattern",{id:c,width:r,height:r,patternUnits:"userSpaceOnUse"},s.createElement("circle",{cx:a,cy:a,r:"1"}))),s.createElement("rect",{width:"79",height:o,y:i,fill:`url(#${c})`}))}function pv(e){let{x:t,y:n}=e.dataset;return[parseInt(t),parseInt(n)]}function pf({baselineAlign:e,spaceBetween:t,stackMode:n,isUi3:l}){return e&&t?l?[{tooltip:(0,F.t)("fullscreen.properties_panel.stack_panel.align_text_baseline"),below:!0}]:[(0,F.t)("fullscreen.properties_panel.stack_panel.align_baseline")]:e?[{tooltip:(0,F.t)("fullscreen.properties_panel.stack_panel.align_left_baseline"),below:l},{tooltip:(0,F.t)("fullscreen.properties_panel.stack_panel.align_center_baseline"),below:l},{tooltip:(0,F.t)("fullscreen.properties_panel.stack_panel.align_right_baseline"),below:l}]:t?"HORIZONTAL"===n?l?[(0,F.t)("fullscreen.properties_panel.stack_panel.align_top"),(0,F.t)("fullscreen.properties_panel.stack_panel.align_center"),{tooltip:(0,F.t)("fullscreen.properties_panel.stack_panel.align_bottom"),below:!0}]:[(0,F.t)("fullscreen.properties_panel.stack_panel.align_auto_top_gap"),(0,F.t)("fullscreen.properties_panel.stack_panel.align_auto_center_gap"),{tooltip:(0,F.t)("fullscreen.properties_panel.stack_panel.align_auto_bottom_gap"),below:!0}]:l?[(0,F.t)("fullscreen.properties_panel.stack_panel.align_left"),(0,F.t)("fullscreen.properties_panel.stack_panel.align_center"),(0,F.t)("fullscreen.properties_panel.stack_panel.align_right")]:[(0,F.t)("fullscreen.properties_panel.stack_panel.align_auto_left_gap"),(0,F.t)("fullscreen.properties_panel.stack_panel.align_auto_center_gap"),(0,F.t)("fullscreen.properties_panel.stack_panel.align_auto_right_gap")]:[(0,F.t)("fullscreen.properties_panel.stack_panel.align_top_left"),(0,F.t)("fullscreen.properties_panel.stack_panel.align_top_center"),(0,F.t)("fullscreen.properties_panel.stack_panel.align_top_right"),(0,F.t)("fullscreen.properties_panel.stack_panel.align_left"),(0,F.t)("fullscreen.properties_panel.stack_panel.align_center"),(0,F.t)("fullscreen.properties_panel.stack_panel.align_right"),{tooltip:(0,F.t)("fullscreen.properties_panel.stack_panel.align_bottom_left"),below:!0},{tooltip:(0,F.t)("fullscreen.properties_panel.stack_panel.align_bottom_center"),below:!0},{tooltip:(0,F.t)("fullscreen.properties_panel.stack_panel.align_bottom_right"),below:!0}]}let pw=()=>(0,u.qe)("60px"),pS=()=>{let e=pw();return`0 0 ${e} ${e}`},pT="alignment_view_v4_ui3--indicatorBaseline--NUe6M",pb="alignment_view_v4_ui3--counterCenter--QC-B7";function pC({onClick:e,onDoubleClick:t,onHover:n,...l}){let r=(0,sw.Qt)(l.stackPrimaryAlignItems),a="BASELINE"===l.stackCounterAlignItems,i="HORIZONTAL"===l.stackMode?"HORIZONTAL":"VERTICAL",o="WRAP"===l.stackWrap,c="HORIZONTAL"===i?"alignment_view_v4_ui3--horizontal--2Shqc":"alignment_view_v4_ui3--vertical--zGQMJ",d=r?"alignment_view_v4_ui3--spaceBetween--o3EAq":"alignment_view_v4_ui3--packed--EvdQi",u=(0,q.EH)(l.stackPrimaryAlignItems)&&(0,q.EH)(l.stackCounterAlignItems),m=l.primaryHover&&l.counterHover,h=(0,s.useCallback)(e=>{let[n,l]=pL(e.target);if(r){let t=e.target.getBoundingClientRect();"HORIZONTAL"===i?n=Math.floor((e.clientX-t.x)/t.width*3):l=Math.floor((e.clientY-t.y)/t.height*3)}t(n,l)},[t,r,i]),g=(0,s.useCallback)(e=>n(...pL(e.target)),[n]),E=(0,s.useCallback)(e=>n(null,null),[n]);return s.createElement("div",{className:p()(l.className,"alignment_view_v4_ui3--mainContainer---0NcS",c,d,{"alignment_view_v4_ui3--baselineAlign--OxyzT":a}),tabIndex:0,onKeyDown:l.onKeyDown},s.createElement(pR,null),s.createElement(pA,{stackMode:i,spaceBetween:r,baselineAlign:a,onMouseMove:g,onMouseOut:E,onClick:e,onDoubleClick:h}),m&&s.createElement(pk,{hover:!0,primaryAlign:l.primaryHover,counterAlign:l.counterHover,isStackWrap:o}),u&&s.createElement(pk,{primaryAlign:l.stackPrimaryAlignItems,counterAlign:l.stackCounterAlignItems,isStackWrap:o}),a&&s.createElement("div",{className:"alignment_view_v4_ui3--grid3x3--306xj alignment_view_v4_ui3--_centered--MV2if"},s.createElement(pN,{onClick:l.onRemoveBaseline})))}function pk({hover:e,primaryAlign:t,counterAlign:n,isStackWrap:l}){function r(){let e=(0,sw.Qt)(t);return"BASELINE"===n?e?s.createElement(s.Fragment,null,s.createElement("span",{className:pT},"A"),s.createElement("span",{className:pT},"A"),s.createElement("span",{className:pT},"A")):s.createElement("span",{className:pT},"A"):s.createElement(pI,{n:l?e?5:3:e?3:2})}return s.createElement("div",{className:p()("alignment_view_v4_ui3--indicatorContainer--napq- alignment_view_v4_ui3--tooltipGrid--HBKLD alignment_view_v4_ui3--grid3x3--306xj alignment_view_v4_ui3--_centered--MV2if",t?pM[t]:void 0,n?pP[n]:void 0,{"alignment_view_v4_ui3--hover--ypG6x":e})},"BASELINE"===n?r():s.createElement("div",{className:"alignment_view_v4_ui3--indicatorGridCell--lp1lH"},s.createElement("div",{className:p()("alignment_view_v4_ui3--indicatorGroup--urXG2",{"alignment_view_v4_ui3--wrap--JWwtI":l})},r())))}function pI({n:e}){return s.createElement(s.Fragment,null,Array.from({length:e},(e,t)=>s.createElement("div",{key:t,className:"alignment_view_v4_ui3--indicator--82j5F"})))}let pP={MIN:"alignment_view_v4_ui3--counterMin--aOx1R",CENTER:pb,MAX:"alignment_view_v4_ui3--counterMax--cCtqr",BASELINE:pb},pM={MIN:"alignment_view_v4_ui3--primaryMin--Q8O6a",CENTER:"alignment_view_v4_ui3--primaryCenter--RzFRC",MAX:"alignment_view_v4_ui3--primaryMax--eMvqL",SPACE_EVENLY:"",SPACE_BETWEEN:""};function pN({onClick:e}){return s.createElement("button",{className:"alignment_view_v4_ui3--baselineControls--xazGW alignment_view_v4_ui3--_centered--MV2if","data-tooltip-type":eh.wL.TEXT,"data-tooltip":(0,F.t)("fullscreen.properties_panel.stack_panel.remove_baseline_align"),onClick:e},s.createElement("div",{className:"alignment_view_v4_ui3--baselineControlLine--6BBmA"}))}function pA({spaceBetween:e,stackMode:t,baselineAlign:n,onMouseMove:l,onMouseOut:r,onClick:a,onDoubleClick:i}){let o=pf({stackMode:t,baselineAlign:n,spaceBetween:e,isUi3:(0,ty._O)()});return s.createElement("div",{className:"alignment_view_v4_ui3--tooltipGrid--HBKLD alignment_view_v4_ui3--grid3x3--306xj alignment_view_v4_ui3--_centered--MV2if",onMouseMove:l,onMouseOut:r,onClick:void 0,onMouseUp:a,onDoubleClick:i},"HORIZONTAL"===t&&n&&e?s.createElement(pO,{tooltips:o}):o.map((n,l)=>{let r=l%3,a=Math.floor(l/3);return"HORIZONTAL"===t&&e&&(a=r,r=0),s.createElement(px,{key:l,x:r,y:a,..."string"==typeof n?{tooltip:n}:n})}))}function pO({tooltips:e}){let t=(0,s.useId)(),n=e[0];return null==n?null:s.createElement(s.Fragment,null,s.createElement("div",{"data-tooltip-proxy-element-id":t}),s.createElement(px,{id:t,x:1,y:1,..."string"==typeof n?{tooltip:n}:n}),s.createElement("div",{"data-tooltip-proxy-element-id":t}))}function px({id:e,x:t,y:n,tooltip:l,below:r}){return s.createElement("div",{id:e,"data-x":t,"data-y":n,"data-tooltip-type":eh.wL.TEXT,"data-tooltip":l,"data-tooltip-show-above":!r||void 0})}function pR(){return s.createElement("div",{className:"alignment_view_v4_ui3--dotGrid--N6RPe alignment_view_v4_ui3--grid3x3--306xj alignment_view_v4_ui3--_centered--MV2if"},Array.from({length:9},(e,t)=>s.createElement("div",{className:"alignment_view_v4_ui3--dotGridCell--r7m5y",key:t},s.createElement("div",{key:t,className:"alignment_view_v4_ui3--dot--d5NQx"}))))}function pL(e){let{x:t,y:n}=e.dataset;return[parseInt(t),parseInt(n)]}var pF=n(267920);let pK=["MIN","CENTER","MAX"];function pD({className:e,recordingKey:t}){let n=(0,lE.A9)("stackMode"),l=(0,lE.A9)("stackWrap"),[r,a]=(0,lE.H4)("stackPrimaryAlignItems"),[i,o]=(0,lE.H4)("stackCounterAlignItems"),[c,p]=(0,s.useState)(void 0),[d,u]=(0,s.useState)(void 0),m=(0,pF.T)(),E=(0,pF.ek)(),y=(0,o9.e6)(),v=(0,ty._O)(),f=(0,sw.Qt)(r),w="BASELINE"===i,S=(0,s.useCallback)((e,t)=>{if(null==e||null==t){p(void 0),u(void 0);return}let l=pH(e,t,n,f),r=pB(e,t,n,w);p(l),u(r)},[n,w,f,p,u]),T=_.S4(t,"click",(0,s.useCallback)(e=>{let t=c,n=d;e&&e.__interactionTest&&(t=e.primaryAlignItems,n=e.counterAlignItems),t&&n&&(f||a(t,ax.MO.NO),o(n),y("Autolayout alignment grid used"))},[c,d,f,o,y,a]),{recordMetadata:()=>({primaryAlignItems:c,counterAlignItems:d}),playbackMetadata:e=>({...e,__interactionTest:!0})}),{clearVariableConsumption:b}=(0,sf.M)("STACK_SPACING",z.y6c.FLOAT),C=(0,s.useCallback)((e,t)=>{E(void 0===t||t,e,ax.MO.NO),b()},[E,b]),k=(0,s.useCallback)((e,t)=>{if(f){E(!1,"alignment double click",ax.MO.NO);let l=pH(e,t,n,!1),r=pB(e,t,n,w);p(l),u(r),a(l,ax.MO.NO),o(r),y("Autolayout spacing mode changed",{mode:l,doubleClick:!0})}else C("alignment double click"),o(pB(e,t,n,w))},[C,w,f,o,a,E,n,y]),I=(0,s.useCallback)(()=>{o("CENTER"),y("Disable baseline alignment",{source:"alignment grid"})},[o,y]),P=_.ag(t,"keydown",(0,s.useCallback)(e=>{function t(e){"HORIZONTAL"===n?a(e):o(e)}function l(e){"VERTICAL"===n?a(e):o(e)}function s(e,t){if((0,q.Er)(e))return"CENTER";let n=pK.indexOf(e);if(-1===n)return null;let l=(0,g.qk)(n+t,0,pK.length-1);return pK[l]}let c="HORIZONTAL"===n?r:i,p="VERTICAL"===n?r:i;switch(e.keyCode){case h.as.ESCAPE:case h.as.ENTER:e.currentTarget.blur();break;case h.as.UP_ARROW:{let e=s(p,-1);e&&l(e);break}case h.as.DOWN_ARROW:{let e=s(p,1);e&&l(e);break}case h.as.LEFT_ARROW:{let e=s(c,-1);e&&t(e);break}case h.as.RIGHT_ARROW:{let e=s(c,1);e&&t(e);break}case h.as.B:"HORIZONTAL"===n&&m("BASELINE"!==i,"alignment keyboard");break;case h.as.X:C("alignment keyboard",!(0,sw.Qt)(r));break;case h.as.W:l("MIN");break;case h.as.A:t("MIN");break;case h.as.S:l("MAX");break;case h.as.D:t("MAX");break;case h.as.V:l("CENTER");break;case h.as.H:t("CENTER");break;default:(0,po.eI)(e,po.fh.YES,po.wB.YES);return}e.preventDefault()},[C,i,r,m,o,a,n])),M=v?s.createElement(pC,{className:e,stackMode:n,stackWrap:l,stackPrimaryAlignItems:r,stackCounterAlignItems:i,onHover:S,onClick:T,onDoubleClick:k,onKeyDown:P,onRemoveBaseline:I,counterHover:d,primaryHover:c}):s.createElement(pd,{className:e,stackMode:n,stackWrap:l,stackPrimaryAlignItems:r,stackCounterAlignItems:i,onHover:S,onClick:T,onDoubleClick:k,onKeyDown:P,onRemoveBaseline:I,counterHover:d,primaryHover:c});return s.createElement(ta.g,{name:"alignment_view"},M)}function pH(e,t,n,l){return l?(0,m.Ub)().ce_stack_justify_space_between?"SPACE_BETWEEN":"SPACE_EVENLY":pK["VERTICAL"===n?t:e]}function pB(e,t,n,l){return l?"BASELINE":pK["VERTICAL"===n?e:t]}var pG=n(563868),pV=n(443304),pW=n(849208),pU=n(919364);function pY({onClick:e,onOpen:t,modalKey:n,...l}){let r=(0,ei.OY)(),a=(0,l_.e)(),i=(0,s.useRef)(null),o=(0,ty._O)(),c=(null==a?void 0:a.id)===n,p=(0,n_.i)(c),d=c?new M.Cg(a.initialX,a.initialY):null,u=(0,s.useRef)(l.onClose);u.current=l.onClose,(0,s.useEffect)(()=>{var e;p&&!c&&(null==(e=u.current)||e.call(u))},[c,p]),(0,s.useEffect)(()=>()=>{var e;return null==(e=u.current)?void 0:e.call(u)},[]);let m=(0,s.useCallback)(()=>{c&&(r(K.U5()),Y.CA.deselectProperty())},[r,c]),h=(0,s.useCallback)(()=>{if(c)return;e||null==t||t();let{top:l}=ea.findDOMNode(i.current).getBoundingClientRect();r(K.is({id:n,initialX:eg.Yv,initialY:l}))},[r,c,n,e,t]);(0,s.useEffect)(()=>{null!=l.open&&(l.open?h():m())},[m,h,l.open]);let g=s.createElement(tu.KM,{ref:i,svg:l.svg,fallbackSvg:l.fallbackSvg,"data-tooltip-type":eh.wL.TEXT,"data-tooltip":l.tooltip,onMouseMove:()=>{c&&r(a7.WS())},onMouseDown:e??(e=>{e.stopPropagation(),c?m():h()}),recordingKey:_.Mx(l,"trigger"),selected:c,className:l.buttonClassName},o?l.ui3Icon:void 0),E=l.buttonInteractableName?s.createElement(ta.g,{name:l.buttonInteractableName},g):g,y=c?s.createElement(e2.G0,{title:l.title,initialPosition:d,initialConstraints:{x:"right",y:"top"},headerSize:"small",onClose:m,recordingKey:_.Mx(l,"modal")},l.children):null,v=y&&l.modalTrackableName?s.createElement(w.u,{name:"stack_layout_details_modal"},y):y;return s.createElement(s.Fragment,null,E,v)}var pz=n(357652),pZ=n(244808),pX=n(272024),pQ=n(607380);let pq="stack_layout_details_preview--stroke--tWkNh",pj="stack_layout_details_preview--strokeLight--RsPk7",p$="stack_layout_details_preview--fill--V74cf",pJ="stack_layout_details_preview--fillWhite--uTjlG",p0="stack_layout_details_preview--fillTertiary--xuwqQ",p5={reverseStackingOrder:function({enabled:e}){let t=[s.createElement("g",{key:"1",filter:"url(#reverse-stacking-order-filter)"},s.createElement("rect",{className:pJ,x:"67",y:"40",width:"40",height:"40",rx:"20"}),s.createElement("path",{className:p$,d:"M88.4893 53.9091V67H87.294V55.1619H87.2173L84.1491 57.201V55.9609L87.2429 53.9091H88.4893Z"}),s.createElement("rect",{className:pq,x:"66.5",y:"39.5",width:"41",height:"41",rx:"20.5"})),s.createElement("g",{key:"2",filter:"url(#reverse-stacking-order-filter)"},s.createElement("rect",{className:pJ,x:"99",y:"40",width:"40",height:"40",rx:"20"}),s.createElement("path",{className:p$,d:"M114.964 67V66.1243L119.241 61.3175C119.799 60.6868 120.248 60.1477 120.589 59.7003C120.93 59.2528 121.177 58.8395 121.331 58.4602C121.488 58.081 121.567 57.6868 121.567 57.2777C121.567 56.7791 121.45 56.3445 121.216 55.9737C120.986 55.5987 120.668 55.3068 120.263 55.098C119.858 54.8892 119.402 54.7848 118.895 54.7848C118.358 54.7848 117.888 54.8999 117.483 55.13C117.082 55.3601 116.771 55.6754 116.549 56.076C116.328 56.4766 116.217 56.9368 116.217 57.4567H115.073C115.073 56.7322 115.239 56.0909 115.571 55.5327C115.908 54.9702 116.366 54.5291 116.946 54.2095C117.53 53.8899 118.19 53.7301 118.927 53.7301C119.656 53.7301 120.304 53.8878 120.87 54.2031C121.437 54.5142 121.883 54.9382 122.206 55.4751C122.53 56.0121 122.692 56.6129 122.692 57.2777C122.692 57.7592 122.607 58.2259 122.437 58.6776C122.27 59.1293 121.983 59.6321 121.574 60.1861C121.165 60.7401 120.598 61.4176 119.873 62.2188L116.626 65.843V65.9261H123.101V67H114.964Z"}),s.createElement("rect",{className:pq,x:"98.5",y:"39.5",width:"41",height:"41",rx:"20.5"})),s.createElement("g",{key:"3",filter:"url(#reverse-stacking-order-filter)"},s.createElement("rect",{className:pJ,x:"131",y:"40",width:"40",height:"40",rx:"20"}),s.createElement("path",{className:p$,d:"M151.048 67.179C150.243 67.179 149.522 67.0341 148.887 66.7443C148.252 66.4503 147.75 66.0433 147.379 65.5234C147.008 65.0036 146.812 64.4048 146.791 63.7273H147.999C148.02 64.2045 148.167 64.6222 148.44 64.9801C148.713 65.3338 149.075 65.6108 149.527 65.8111C149.978 66.0071 150.481 66.1051 151.035 66.1051C151.64 66.1051 152.173 65.9922 152.633 65.7663C153.098 65.5405 153.46 65.2315 153.72 64.8395C153.984 64.4432 154.116 63.9957 154.116 63.4972C154.116 62.9687 153.982 62.5021 153.713 62.0973C153.445 61.6925 153.059 61.3771 152.556 61.1513C152.058 60.9254 151.461 60.8125 150.767 60.8125H150V59.7386H150.767C151.333 59.7386 151.834 59.6364 152.269 59.4318C152.708 59.223 153.053 58.9311 153.304 58.5561C153.556 58.1811 153.681 57.7401 153.681 57.233C153.681 56.7514 153.573 56.3274 153.355 55.9609C153.138 55.5945 152.831 55.3068 152.435 55.098C152.043 54.8892 151.585 54.7848 151.061 54.7848C150.554 54.7848 150.089 54.8828 149.667 55.0788C149.245 55.2749 148.904 55.5518 148.645 55.9098C148.389 56.2678 148.252 56.6918 148.235 57.1818H147.078C147.096 56.5 147.283 55.9013 147.641 55.3857C148.003 54.8658 148.483 54.4609 149.079 54.1712C149.68 53.8771 150.345 53.7301 151.074 53.7301C151.845 53.7301 152.512 53.8878 153.074 54.2031C153.637 54.5185 154.071 54.9382 154.378 55.4624C154.689 55.9822 154.845 56.5554 154.845 57.1818C154.845 57.9276 154.642 58.5668 154.238 59.0994C153.833 59.6278 153.287 59.9943 152.601 60.1989V60.282C153.436 60.4482 154.093 60.8189 154.57 61.3942C155.051 61.9652 155.292 62.6662 155.292 63.4972C155.292 64.196 155.109 64.8246 154.743 65.3828C154.376 65.9368 153.873 66.3757 153.234 66.6996C152.599 67.0192 151.87 67.179 151.048 67.179Z"}),s.createElement("rect",{className:pq,x:"130.5",y:"39.5",width:"41",height:"41",rx:"20.5"}))];return e&&t.reverse(),s.createElement("svg",{width:"240",height:"120",fill:"none"},t,s.createElement("rect",{className:pj,x:"58.5",y:"28.5",width:"123",height:"63",rx:"3.5",strokeDasharray:"4 2"}),s.createElement("defs",null,s.createElement("filter",{id:"reverse-stacking-order-filter",x:"-1px",y:"-1px",width:"44",height:"42",filterUnits:"objectBoundingBox",colorInterpolationFilters:"sRGB"},s.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),s.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),s.createElement("feOffset",{dx:"2"}),s.createElement("feComposite",{in2:"hardAlpha",operator:"out"}),s.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"}),s.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_1112_23748"}),s.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_1112_23748",result:"shape"}))))},alignToBaseline:function(){return s.createElement("svg",{width:240,height:120,fill:"none"},s.createElement("path",{className:p()("stack_layout_details_preview--alignToBaselineLine--Erw5t","stack_layout_details_preview--strokeAssistive--GgFOd"),d:"M38 60.5h164"}),s.createElement("g",{className:"stack_layout_details_preview--alignToBaselineA--kQYyh"},s.createElement("path",{className:p$,d:"M63.8516 67L65.2514 63.0561H70.7486L72.1484 67H73.4013L68.6392 53.9091H67.3608L62.5987 67H63.8516ZM65.6349 61.9822L67.9553 55.4624H68.0447L70.3651 61.9822H65.6349Z"}),s.createElement("rect",{className:pq,x:46.5,y:38.5,width:43,height:43,rx:1.5})),s.createElement("rect",{className:p()("stack_layout_details_preview--alignToBaselineEmpty--Z-l7O",pq),x:98.5,y:38.5,width:43,height:43,rx:1.5}),s.createElement("g",{className:"stack_layout_details_preview--alignToBaselineG--YayQ-"},s.createElement("path",{className:p$,d:"M171.843 68.8864C174.169 68.8864 175.895 67.7486 175.895 65.2557V55.1818H174.783V57.0547H174.668C174.265 56.1726 173.453 55.0476 171.651 55.0476C169.222 55.0476 167.592 57.0803 167.592 60.0653C167.592 63.076 169.279 64.8977 171.632 64.8977C173.396 64.8977 174.259 63.875 174.649 62.9737H174.751V65.1854C174.751 67.0135 173.581 67.8636 171.843 67.8636C170.161 67.8636 169.356 67.0518 168.941 66.304L168.007 66.9176C168.583 68.0426 169.835 68.8864 171.843 68.8864ZM171.766 63.8558C169.816 63.8558 168.736 62.2962 168.736 60.0462C168.736 57.8345 169.797 56.0831 171.766 56.0831C173.69 56.0831 174.77 57.745 174.77 60.0462C174.77 62.4176 173.658 63.8558 171.766 63.8558Z"}),s.createElement("rect",{className:pq,x:150.5,y:38.5,width:43,height:43,rx:1.5})),s.createElement("rect",{className:p()("stack_layout_details_preview--alignToBaselineOutline--YlRIY",pj),x:38.5,y:30.5,width:163,height:59,rx:3.5,strokeDasharray:"4 2",vectorEffect:"non-scaling-stroke"}))},bordersTakeSpace:function(){return s.createElement("svg",{width:240,height:120,fill:"none"},s.createElement("g",{className:"stack_layout_details_preview--bordersTakeSpaceLeft--WTfPZ"},s.createElement("rect",{className:p0,x:"43",y:"37",width:"48",height:"48",rx:"2"}),s.createElement("rect",{className:pJ,x:"49",y:"43",width:"36",height:"36",rx:"2"})),s.createElement("g",{className:"stack_layout_details_preview--bordersTakeSpaceRight--QCBF1"},s.createElement("rect",{className:p0,x:"98",y:"37",width:"99",height:"48",rx:"2"}),s.createElement("rect",{className:pJ,x:"104",y:"43",width:"87",height:"36",rx:"2"})),s.createElement("rect",{className:p()("stack_layout_details_preview--bordersTakeSpaceOutline--Xq42w",pj),x:"48.5",y:"42.5",width:"143",height:"37",rx:"1.5",strokeDasharray:"4 2",vectorEffect:"non-scaling-stroke"}))}};function p1({setting:e,enabled:t}){let n=e?p5[e]:null;return s.createElement("div",{className:p()("stack_layout_details_preview--preview---r9k-",{"stack_layout_details_preview--active--yCMB3":t}),"data-non-interactive":!0},n?s.createElement(n,{enabled:t}):s.createElement("div",{className:"stack_layout_details_preview--previewText--0NBYb"},s.createElement(F.Tx,{id:"fullscreen.properties_panel.stack_panel.preview"})))}var p7=n(664056),p2=n(202096);let p4="seen_stack_spacing_auto_onboarding";function p8(e){let[t,n]=(0,s.useState)(!1),[l,r]=(0,s.useState)({enabled:!1}),a=(0,ty._O)();return s.createElement(s.Fragment,null,s.createElement(pY,{title:(0,F.t)("fullscreen.properties_panel.stack_panel.advanced_layout"),tooltip:a?(0,F.t)("fullscreen.properties_panel.section_autoLayout.tooltip_autoLayoutSettings"):(0,F.t)("fullscreen.properties_panel.stack_panel.advanced_layout"),modalKey:"LAYOUT_DETAILS_PICKER",buttonInteractableName:"open_stack_layout_details_modal_button",modalTrackableName:"stack_layout_details_modal",svg:iS.c,ui3Icon:s.createElement(es,null),buttonClassName:p2.o3,recordingKey:e.recordingKey,onClose:()=>{setTimeout(()=>{n(!0)},250)}},s.createElement(p1,{setting:l.setting,enabled:l.enabled}),s.createElement("div",{className:p7.s7},s.createElement(p9,{updatePreview:r,recordingKey:e.recordingKey}),s.createElement(p6,{updatePreview:r,recordingKey:e.recordingKey}),s.createElement(p3,{updatePreview:r,recordingKey:e.recordingKey}))),t&&s.createElement(dn,{onDismiss:()=>n(!1)}))}function p6({updatePreview:e,recordingKey:t}){var n;let l=(0,ei.OY)(),r=(0,nZ.g)(),[a,i]=(0,lE.H4)("stackReverseZIndex"),o=(0,o9.e6)(),c=(null==(n=(0,sK.A5)())?void 0:n.getPrimaryLocale(!0))===sD.Qb?120:180,p=!0===a;return s.createElement(ta.g,{name:"stacking_order_control"},s.createElement(pX.C,{label:(0,F.t)("fullscreen.properties_panel.stack_panel.canvas_stacking_order"),onMouseEnter:()=>e({setting:"reverseStackingOrder",enabled:p}),onMouseLeave:()=>e({enabled:!1})},s.createElement(rx.M1,{id:"reverse-stacking-order-select",dispatch:l,className:p7.KE,inputClassName:p7.Yh,chevronClassName:p7.KY,textAlign:"right",property:a,formatter:de,onChange:e=>{i(e),o(e?"Enable reverse zIndex":"Disable reverse zIndex")},recordingKey:_.Mx(t,"reverseStackingOrder"),dropdownShown:r,dropdownAlignment:"right",dropdownWidth:c,onOptionFocus:t=>e({setting:null!=t?"reverseStackingOrder":void 0,enabled:!!t})},s.createElement(rx.cb,{value:!0}),s.createElement(rx.cb,{value:!1}))))}function p3({updatePreview:e,recordingKey:t}){let n=(0,lE.A9)("stackMode"),l="BASELINE"===(0,lE.A9)("stackCounterAlignItems"),r="HORIZONTAL"!==n,a=(0,pF.T)();return s.createElement(ta.g,{name:"baseline_alignment_control"},s.createElement(pQ.g,{label:(0,F.t)("fullscreen.properties_panel.stack_panel.align_text_baseline"),recordingKey:_.Mx(t,"alignToBaseline"),property:l,disabled:r,onChange:t=>{a(t,"modal"),e({setting:"alignToBaseline",enabled:t})},onFocus:t=>{e({setting:"alignToBaseline",enabled:l})},onHover:(t,n)=>{e({setting:"ENTER"===n?"alignToBaseline":void 0,enabled:t})},"data-tooltip":r?(0,F.t)("fullscreen.properties_panel.stack_panel.only_applicable_for_horizontal_layout"):void 0,"data-tooltip-type":eh.wL.TEXT}))}function p9({updatePreview:e,recordingKey:t}){let n=(0,ei.OY)(),l=(0,nZ.g)(),[r,a]=(0,lE.H4)("bordersTakeSpace"),i=(0,o9.e6)(),o=!0===r;return s.createElement(ta.g,{name:"borders_take_space_control"},s.createElement(pX.C,{label:(0,F.t)("fullscreen.properties_panel.stack_panel.borders_take_space"),onMouseEnter:()=>e({setting:"bordersTakeSpace",enabled:o}),onMouseLeave:()=>e({enabled:!1})},s.createElement(rx.M1,{id:"borders-take-space-select",dispatch:n,className:p7.KE,inputClassName:p7.Yh,chevronClassName:p7.KY,dropdownWidth:168,textAlign:"right",property:o,formatter:dt,onChange:e=>{a(e),i("change_borders_take_space",{enabled:e,source:"modal"})},recordingKey:_.Mx(t,"bordersTakeSpace"),dropdownShown:l,onOptionFocus:t=>e({setting:null!=t?"bordersTakeSpace":void 0,enabled:!!t})},s.createElement(rx.cb,{value:!0}),s.createElement(rx.cb,{value:!1}))))}let de={format:e=>e?(0,F.t)("fullscreen.properties_panel.stack_panel.first_on_top"):(0,F.t)("fullscreen.properties_panel.stack_panel.last_on_top")},dt={format:e=>e?(0,F.t)("fullscreen.properties_panel.stack_panel.included"):(0,F.t)("fullscreen.properties_panel.stack_panel.excluded"),formatExtended:e=>({text:e?(0,F.t)("fullscreen.properties_panel.stack_panel.included_in_layout"):(0,F.t)("fullscreen.properties_panel.stack_panel.excluded_from_layout")})};function dn({onDismiss:e}){let t=(0,ei.OY)();return(0,pU.e)(p4)?null:s.createElement(pz.UX,{targetKey:"stack-spacing-input",shouldNotWrapInParagraphTag:!0,dismissModal:()=>{t(pW.s({[p4]:!0})),e()},background:"light",width:268,title:s.createElement(F.Tx,{id:"fullscreen.properties_panel.stack_panel.gap_onboarding_title"}),secondaryCtaText:s.createElement("a",{href:"https://help.figma.com/hc/articles/360040451373-Explore-auto-layout-properties#spacing-between",target:"_blank",style:{textDecoration:"none"}},s.createElement(F.Tx,{id:"general.learn_more"})),onClickSecondaryCta:rO.Kw,ctaText:s.createElement(F.Tx,{id:"general.got_it"}),onClickPrimaryCta:e,arrowPosition:e2.Wp.RIGHT_TITLE},s.createElement(pZ._0,{containerClassName:p7.cb,src:"https://static.figma.com/uploads/94241d15e9d47a0c73734ae71850674f78cd4ab0"}),s.createElement("p",{className:p7.gp},s.createElement(F.Tx,{id:"fullscreen.properties_panel.stack_panel.gap_onboarding_body1",gapBetweenItems:s.createElement("strong",null,s.createElement(F.Tx,{id:"fullscreen.properties_panel.stack_panel.gap_items"}))})),s.createElement("p",{className:p7.gp},s.createElement(F.Tx,{id:"fullscreen.properties_panel.stack_panel.gap_onboarding_body2",auto:s.createElement("strong",null,s.createElement(F.Tx,{id:"fullscreen.properties_panel.stack_panel.auto"}))})))}var dl=n(135456);function dr(e){return s.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},s.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M9.5 7h-2a.5.5 0 0 0-.5.5v9a.5.5 0 0 0 .5.5h2a.5.5 0 0 0 .5-.5v-9a.5.5 0 0 0-.5-.5Zm-2-1A1.5 1.5 0 0 0 6 7.5v9A1.5 1.5 0 0 0 7.5 18h2a1.5 1.5 0 0 0 1.5-1.5v-9A1.5 1.5 0 0 0 9.5 6h-2Zm9 1h-2a.5.5 0 0 0-.5.5v3a.5.5 0 0 0 .5.5h2a.5.5 0 0 0 .5-.5v-3a.5.5 0 0 0-.5-.5Zm-2-1A1.5 1.5 0 0 0 13 7.5v3a1.5 1.5 0 0 0 1.5 1.5h2a1.5 1.5 0 0 0 1.5-1.5v-3A1.5 1.5 0 0 0 16.5 6h-2Zm3.384 8.82a.5.5 0 0 0-.768-.64l-2.15 2.58-1.112-1.114a.5.5 0 0 0-.708.708l1.5 1.5a.5.5 0 0 0 .738-.034l2.5-3Z",clipRule:"evenodd"}))}function da(e){return s.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},s.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M7.5 7h2a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1-.5-.5v-2a.5.5 0 0 1 .5-.5ZM6 7.5A1.5 1.5 0 0 1 7.5 6h2A1.5 1.5 0 0 1 11 7.5v2A1.5 1.5 0 0 1 9.5 11h-2A1.5 1.5 0 0 1 6 9.5v-2Zm8.5-.5h2a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1-.5-.5v-2a.5.5 0 0 1 .5-.5Zm-1.5.5A1.5 1.5 0 0 1 14.5 6h2A1.5 1.5 0 0 1 18 7.5v2a1.5 1.5 0 0 1-1.5 1.5h-2A1.5 1.5 0 0 1 13 9.5v-2ZM9.5 14h-2a.5.5 0 0 0-.5.5v2a.5.5 0 0 0 .5.5h2a.5.5 0 0 0 .5-.5v-2a.5.5 0 0 0-.5-.5Zm-2-1A1.5 1.5 0 0 0 6 14.5v2A1.5 1.5 0 0 0 7.5 18h2a1.5 1.5 0 0 0 1.5-1.5v-2A1.5 1.5 0 0 0 9.5 13h-2Zm10.384.82a.5.5 0 0 0-.768-.64l-2.15 2.58-1.112-1.114a.5.5 0 0 0-.708.708l1.5 1.5a.5.5 0 0 0 .738-.034l2.5-3Z",clipRule:"evenodd"}))}function di(e){return s.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},s.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M16.5 7h-9a.5.5 0 0 0-.5.5v2a.5.5 0 0 0 .5.5h9a.5.5 0 0 0 .5-.5v-2a.5.5 0 0 0-.5-.5Zm-9-1A1.5 1.5 0 0 0 6 7.5v2A1.5 1.5 0 0 0 7.5 11h9A1.5 1.5 0 0 0 18 9.5v-2A1.5 1.5 0 0 0 16.5 6h-9Zm2 8h-2a.5.5 0 0 0-.5.5v2a.5.5 0 0 0 .5.5h2a.5.5 0 0 0 .5-.5v-2a.5.5 0 0 0-.5-.5Zm-2-1A1.5 1.5 0 0 0 6 14.5v2A1.5 1.5 0 0 0 7.5 18h2a1.5 1.5 0 0 0 1.5-1.5v-2A1.5 1.5 0 0 0 9.5 13h-2Zm10.384.82a.5.5 0 0 0-.768-.64l-2.15 2.58-1.112-1.114a.5.5 0 0 0-.708.708l1.5 1.5a.5.5 0 0 0 .738-.034l2.5-3Z",clipRule:"evenodd"}))}function ds(){let{propertiesPanelShouldShowRemoveAutoLayout:e}=dw(),t=e?(0,F.t)("fullscreen.properties_panel.stack_panel.remove_auto_layout"):(0,F.t)("fullscreen.properties_panel.stack_panel.use_auto_layout"),{actionEnabledStackSelection:n,actionEnabledUnstackSelection:l}=dw(),r=e?l:n,a=(0,s.useCallback)(()=>{Y.CA.triggerActionInUserEditScope(e?"unstack-selection":"stack-selection")},[e]);return s.createElement(tu.KM,{"aria-label":t,"data-tooltip":t,"data-tooltip-type":eh.wL.TEXT,selected:e,showTooltipWhenSelectedIsTrue:!0,disabled:!r,onClick:a},s.createElement(dc,null))}function dc(){let e=(0,lE.A9)("stackMode"),t=(0,lE.A9)("stackWrap");if((0,q.Er)(e)||null==e||(0,q.Er)(t))return s.createElement(dr,null);if("WRAP"===t)return s.createElement(da,null);switch(e){case"NONE":case"HORIZONTAL":return s.createElement(dr,null);case"VERTICAL":return s.createElement(di,null)}}var dp=n(390696),dd=n(511940),du=n(781924),dm=n(273164),dh=n(628604),dg=n(672964);function dE(e){return s.createElement(w.u,{name:"stack_panel"},s.createElement(d_,{...e}))}let d_=s.memo(e=>{let{version:t}=(0,ec.qG)();return"ui3"===t?s.createElement(dv,{...e}):s.createElement(dy,{...e})});function dy(e){let{showMigrationUi:t,actionEnabledStackSelection:n,actionEnabledUnstackSelection:l,propertiesPanelShouldShowRemoveAutoLayout:r,wrappingEnabled:a}=dw();return s.createElement(eO.sF,null,s.createElement(oh,{title:s.createElement(F.Tx,{id:"fullscreen.properties_panel.stack_panel.auto_layout"}),addProperty:()=>{Y.CA.triggerActionInUserEditScope("stack-selection")},removeProperty:()=>{Y.CA.triggerActionInUserEditScope("unstack-selection")},contentsVisibleOrMixed:e.onlyStacksSelected,showButton:r?"-":"+",minusDisabled:!l,plusDisabled:!n,recordingKey:e.recordingKey,dataTestId:"open-stack-panel"},t?s.createElement(dT,null):s.createElement(s.Fragment,null,s.createElement(eO.WA,{className:a?p2.Wi:p2.ec},s.createElement(db,{recordingKey:e.recordingKey}),s.createElement("div",{className:p2.gt},s.createElement(pD,{recordingKey:_.Mx(e,"alignment")})),s.createElement(p8,{recordingKey:_.Mx(e,"stackLayoutDetails")}),s.createElement(dC,{recordingKey:e.recordingKey}),a&&s.createElement(dk,{recordingKey:e.recordingKey})),s.createElement(dI,{recordingKey:e.recordingKey})),s.createElement(pG.y,null)))}function dv(e){let t=e.onlyStacksSelected?s.createElement(F.Tx,{id:"fullscreen.properties_panel.stack_panel.auto_layout"}):s.createElement(F.Tx,{id:"fullscreen.properties_panel.stack_panel.layout"}),n=(0,a8.s5)(z.KEP.propertiesPanelState().shownPropertiesPanels),l=(0,ei.w1)(e=>e.mirror.selectionProperties),r=(0,oC.wH)(n,void 0,l,void 0);return s.createElement(eO.sF,null,s.createElement(tK.wL,{titleTx:t,icon:r?s.createElement(ds,null):void 0}),s.createElement(df,{...e}))}function df({onlyStacksSelected:e,recordingKey:t}){let{showMigrationUi:n,wrappingEnabled:l}=dw(),r=(0,s.useRef)(null),a=(0,lE.A9)("nodesAreAllInsideStacks"),i=s.createElement(s.Fragment,null,s.createElement(c9,{recordingKey:t,forwardedRef:r}),s.createElement(sS,{visible:!!(e||a),widthHeightRowRef:r}));return e?s.createElement(s.Fragment,null,n?s.createElement(dT,null):s.createElement(s.Fragment,null,i,s.createElement(tv.OU,{topLeftInput:s.createElement(db,{recordingKey:t}),rightInput:s.createElement(pD,{recordingKey:_.Mx(t,"alignment")}),leftLabel:l?s.createElement(F.Tx,{id:"fullscreen.properties_panel.section_autoLayout.label_direction"}):s.createElement(F.Tx,{id:"fullscreen.properties_panel.section_autoLayout.label_direction_and_gap"}),rightLabel:s.createElement(F.Tx,{id:"fullscreen.properties_panel.section_autoLayout.label_alignment"}),bottomLeftInput:l?null:s.createElement(dC,{recordingKey:t}),topIcon:s.createElement(p8,{recordingKey:_.Mx(t,"stackLayoutDetails")}),bottomIcon:null}),s.createElement(dI,{recordingKey:t}),l?s.createElement(tv.np,{leftInput:s.createElement(dC,{recordingKey:t}),rightInput:s.createElement(dk,{recordingKey:t}),icon:null,leftLabel:s.createElement(F.Tx,{id:"fullscreen.properties_panel.section_autoLayout.label_gap"}),rightLabel:null}):null),s.createElement(pG.y,null)):i}function dw(){return(0,tr.q)(e=>{let{mirror:{appModel:t,selectionProperties:{propertiesPanelShouldShowRemoveAutoLayout:n,containsStacksNeedingAlignmentMigration:l,stackMode:r,stackWrap:a}}}=e;return{showMigrationUi:l,actionEnabledStackSelection:(0,el.Ib)(t,"stack-selection"),actionEnabledUnstackSelection:(0,el.Ib)(t,"unstack-selection"),propertiesPanelShouldShowRemoveAutoLayout:n,wrappingEnabled:("HORIZONTAL"===r||(0,q.Er)(r))&&("WRAP"===a||(0,q.Er)(a))}})}let dS=!1;function dT(){let e;let t=(0,o9.e6)(),[n,l]=(0,s.useState)(!1),{isOrInInstance:r,containsComponents:a}=(0,tr.q)(e=>{let{isInstanceSelected:t,isInstanceSublayerSelected:n,numSelectedByType:l}=e.mirror.selectionProperties;return{isOrInInstance:!!(t||n),containsComponents:!!l&&!!l.SYMBOL}});(0,s.useEffect)(()=>{dS||(t("stack_v2_migration_info_shown"),dS=!0)},[t]),(0,nS.is)(()=>{l(!1)});let i=(0,s.useCallback)(()=>{let e=z.ugv.getActiveCanvas();eI.Pc.user("update-stack-to-alv3",()=>{z._8i.updateStackToAutoLayoutV3(e,z.KEP.bigNudgeAmount())}),Y.CA.triggerAction("commit"),l(!0),t("stack_v2_migration_updated")},[t]),o=(0,s.useCallback)(e=>{Y.CA.triggerActionInUserEditScope("undo"),l(!1)},[]);if(n)return s.createElement(eO.WA,{className:p2.Lj},s.createElement("span",{className:p2.UP},s.createElement(F.Tx,{id:"fullscreen.properties_panel.stack_panel.auto_layout_updated"})),s.createElement("a",{className:p2.GC,onClick:o},s.createElement(F.Tx,{id:"fullscreen.properties_panel.stack_panel.undo"})));let c=z.ugv.getActiveCanvas(),p=z._8i.isOrInInstanceWithDeprecatedAlignmentOverride(c);return e=r?p?(0,F.t)("fullscreen.properties_panel.stack_panel.tooltip_old_version_instance_overrides"):(0,F.t)("fullscreen.properties_panel.stack_panel.tooltip_old_version_instance"):a?(0,F.t)("fullscreen.properties_panel.stack_panel.tooltip_old_version_components"):(0,F.t)("fullscreen.properties_panel.stack_panel.tooltip_old_version"),s.createElement(eO.WA,{className:p2.Lj},s.createElement("div",{className:p2.UP},s.createElement(F.Tx,{id:"fullscreen.properties_panel.stack_panel.new_auto_layout_version_available"}),s.createElement(x.A,{className:p2.qm,svg:dg.c,"data-tooltip-type":eh.wL.SPECIAL,"data-tooltip":eh.oz.AUTOLAYOUT_V3_MIGRATION_INFO,"data-tooltip-interactive":!0,"data-tooltip-show-immediately":!0,"data-tooltip-text":e})),s.createElement(ej.wX,{onClick:i,className:p2.uE,type:"button",disabled:r&&!p},s.createElement(F.Tx,{id:"fullscreen.properties_panel.stack_panel.update"})))}function db(e){let t=(0,lg.mY)("unstack-selection"),n=(0,lE.A9)("stackMode"),l=(0,lE.A9)("stackWrap"),{version:r}=(0,ec.qG)(),a="ui2"===r?p2._k:p2.UX;return s.createElement(ta.g,{name:"stack_mode_control"},s.createElement("div",{className:a,"data-onboarding-key":"stack-mode-control"},s.createElement(sm.G,{property:"HORIZONTAL"===n&&"WRAP"===l?"WRAP":n,onChange:e=>{(0,d.we)("Stack Mode Changed",{stackMode:e}),eI.Pc.user("set-stack-mode",()=>z._8i.setStackModeAndFlipPrimaryAndCounterAxisValues(e))},recordingKey:_.Mx(e,"stackMode"),disabled:!t},s.createElement(sm.n,{svg:du.c,value:"VERTICAL",tooltip:(0,F.t)("fullscreen.properties_panel.stack_panel.vertical_direction")}),s.createElement(sm.n,{svg:dd.c,value:"HORIZONTAL",tooltip:(0,F.t)("fullscreen.properties_panel.stack_panel.horizontal_direction")}),s.createElement(sm.n,{svg:dh.c,value:"WRAP",tooltip:(0,F.t)("fullscreen.properties_panel.stack_panel.wrap")}))))}function dC(e){let t=(0,sw.Qd)(),n=(0,sw.qk)(),{version:l}=(0,ec.qG)(),r="ui2"===l?p2.um:void 0;return s.createElement(ta.g,{name:"stack_spacing_control"},s.createElement(dp.q,{outerClassName:r,onFocus:()=>t(z.ODV.SPACING,!0),onBlur:()=>t(z.ODV.SPACING,!1),onScrubBegin:()=>t(z.ODV.SPACING,!0),onScrubEnd:()=>t(z.ODV.SPACING,!1),onMouseEnter:()=>n(z.ODV.SPACING,!0),onMouseLeave:()=>n(z.ODV.SPACING,!1),onNudge:()=>z.i46.temporarilyHideOverlay(z.mcG.SELECTION),recordingKey:_.Mx(e,"stackSpacing"),source:"panel",onboardingKey:"stack-spacing-input"}))}function dk(e){let t=(0,sw.Qd)(),n=(0,sw.qk)(),{version:l}=(0,ec.qG)(),r="ui3"===l?void 0:p2.sZ;return s.createElement(ta.g,{name:"stack_counter_spacing_input"},s.createElement(pV.m,{outerClassName:r,onFocus:()=>t(z.ODV.COUNTER_SPACING,!0),onBlur:()=>t(z.ODV.COUNTER_SPACING,!1),onScrubBegin:()=>t(z.ODV.COUNTER_SPACING,!0),onScrubEnd:()=>t(z.ODV.COUNTER_SPACING,!1),onMouseEnter:()=>n(z.ODV.COUNTER_SPACING,!0),onMouseLeave:()=>n(z.ODV.COUNTER_SPACING,!1),onNudge:()=>z.i46.temporarilyHideOverlay(z.mcG.SELECTION),recordingKey:_.Mx(e,"stackCounterSpacing"),inputTestId:"stack-counter-spacing",source:"panel"}))}function dI({recordingKey:e}){let[t,n]=(0,s.useState)(!1),[l,r]=(0,s.useState)(!1),a=(0,dl.i)(),{version:i}=(0,ec.qG)();(0,nS.is)(e=>{let{stackHorizontalPadding:t,stackPaddingRight:l,stackVerticalPadding:r,stackPaddingBottom:i}=e.mirror.selectionProperties,o=(0,q.Ke)(t,l),s=(0,q.Ke)(r,i);n((0,q.Er)(o)||(0,q.Er)(s)||a)});let o=(0,o9.e6)(),c=s.createElement(aM.G,{svg:dm.c,"data-tooltip-type":eh.wL.TEXT,"data-tooltip":(0,F.t)("fullscreen.properties_panel.stack_panel.independent_paddings"),onMouseDown:()=>{n(!t),z._8i.setFocusStackPanelInput(z.ODV.PADDING_ALL,!1),o(t?"Disable autolayout independent padding":"Enable autolayout independent padding")},recordingKey:_.Mx(e,"showAllPaddingControls"),toggled:t,className:p2.uw,dataTestId:"stack-padding-toggle"});return s.createElement(ta.g,{name:"stack_padding_controls"},s.createElement("ui3"===i?dM:dP,{showAllPaddingControls:t,showSinglePaddingControl:l,setShowSinglePaddingControl:r,recordingKey:e,handleClick:function(e){(0,h.Mr)(e)&&r(!0)},showAllPaddingControlsToggle:c}))}function dP({showAllPaddingControls:e,showSinglePaddingControl:t,setShowSinglePaddingControl:n,recordingKey:l,handleClick:r,showAllPaddingControlsToggle:a}){return s.createElement(eO.WA,{heightMultiplier:e&&!t?2:void 0},t?s.createElement(dN,{className:p2.Eb,paddingSelection:sw.WS.ALL,onBlur:()=>n(!1),focusOnMount:!0,recordingKey:l}):e?s.createElement(s.Fragment,null,s.createElement(dN,{className:p()(p2.QR,p2.Wu),paddingSelection:sw.WS.LEFT,onClick:r,recordingKey:l,inputTestId:"padding-left"}),s.createElement(dN,{className:p()(p2.QR,p2.g7),paddingSelection:sw.WS.RIGHT,onClick:r,recordingKey:l,inputTestId:"padding-right"}),s.createElement(dN,{className:p()(p2.gP,p2.Wu),paddingSelection:sw.WS.TOP,onClick:r,recordingKey:l,inputTestId:"padding-top"}),s.createElement(dN,{className:p()(p2.gP,p2.g7),paddingSelection:sw.WS.BOTTOM,onClick:r,recordingKey:l,inputTestId:"padding-bottom"})):s.createElement(s.Fragment,null,s.createElement(dN,{className:p2.QR,paddingSelection:sw.WS.HORIZONTAL,onClick:r,recordingKey:l,inputTestId:"padding-horizontal"}),s.createElement(dN,{className:p2.gP,paddingSelection:sw.WS.VERTICAL,onClick:r,recordingKey:l,inputTestId:"padding-vertical"})),a)}function dM({showAllPaddingControls:e,showSinglePaddingControl:t,setShowSinglePaddingControl:n,recordingKey:l,handleClick:r,showAllPaddingControlsToggle:a}){return t?s.createElement(tv.np,{leftInput:s.createElement(dN,{paddingSelection:sw.WS.ALL,onBlur:()=>n(!1),focusOnMount:!0,recordingKey:l}),rightInput:null,icon:a,leftLabel:s.createElement(F.Tx,{id:"fullscreen.properties_panel.section_autoLayout.label_padding"}),rightLabel:null}):e?s.createElement(s.Fragment,null,s.createElement(tv.np,{leftInput:s.createElement(dN,{paddingSelection:sw.WS.LEFT,onClick:r,recordingKey:l}),rightInput:s.createElement(dN,{paddingSelection:sw.WS.TOP,onClick:r,recordingKey:l}),icon:a,leftLabel:s.createElement(F.Tx,{id:"fullscreen.properties_panel.section_autoLayout.label_padding"}),rightLabel:null}),s.createElement(tv.np,{leftInput:s.createElement(dN,{paddingSelection:sw.WS.RIGHT,onClick:r,recordingKey:l}),rightInput:s.createElement(dN,{paddingSelection:sw.WS.BOTTOM,onClick:r,recordingKey:l}),icon:null,leftLabel:null,rightLabel:null})):s.createElement(tv.np,{leftInput:s.createElement(dN,{paddingSelection:sw.WS.HORIZONTAL,onClick:r,recordingKey:l,inputTestId:"padding-horizontal"}),rightInput:s.createElement(dN,{paddingSelection:sw.WS.VERTICAL,onClick:r,recordingKey:l,inputTestId:"padding-vertical"}),icon:a,leftLabel:s.createElement(F.Tx,{id:"fullscreen.properties_panel.section_autoLayout.label_padding"}),rightLabel:null})}function dN({className:e,paddingSelection:t,recordingKey:n,inputTestId:l,onClick:r,onBlur:a,focusOnMount:i}){let o=(0,sw.Qd)(),c=(0,sw.qk)();return s.createElement(dl.S,{outerClassName:e,paddingSelection:t,focusOnMount:i,onFocus:()=>z._8i.setFocusStackPanelInput(t,!0),onBlur:e=>{z._8i.setFocusStackPanelInput(t,!1),null==a||a(e)},onMouseEnter:()=>c(t,!0),onMouseLeave:()=>c(t,!1),onClick:r,onScrubBegin:()=>o(t,!0),onScrubEnd:()=>o(t,!1),onNudge:()=>z.i46.temporarilyHideOverlay(z.mcG.SELECTION),recordingKey:_.Mx(n,"stackPadding",sw.WS[t]),inputTestId:l,source:"panel"})}let dA="template-controls-picker";function dO(){let{sceneNodesToEdit:e,description:t}=(0,tr.q)(e=>({sceneNodesToEdit:(0,eP.WQ)(e),description:e.mirror.selectionProperties.description})),n="string"==typeof t?t:"",l=s.useCallback(t=>{eI.Pc.user("set-description",()=>{for(let n of e)n.setDescriptionRich(t)})},[e]),r=s.useCallback(()=>{Y.CA.commit()},[]);return s.createElement("div",{className:"template_controls_menu--descriptionContainer--pRK0M"},s.createElement(eR,{description:n,isViewOnly:!1,placeholder:(0,F.t)("design_systems.template_panel.template_placeholder"),onBlur:r,onSubmit:l}))}function dx(){let e=(0,ei.OY)(),t=(0,ei.w1)(e=>e.pickerShown),n=new M.Cg(null==t?void 0:t.initialX,null==t?void 0:t.initialY);return(null==t?void 0:t.id)!==dA?null:s.createElement(e2.G0,{autoflowHeight:!0,headerSize:"small",initialPosition:n,initialWidth:320,onClose:()=>{e(K.U5())},scrollOverflow:!1,title:(0,F.t)("design_systems.template_panel.template_controls")},s.createElement(dO,null))}var dR=n(938144);let dL=s.memo(function(){let{containingTemplate:e,pickerShown:t,templateDescription:n}=(0,tr.q)(e=>({containingTemplate:(0,eM.zz)(e),pickerShown:e.pickerShown,templateDescription:e.mirror.selectionProperties.description??""})),l=(0,ei.w1)(ti.sZ),r=(0,ei.w1)(ti.EW),a=s.useRef(null),i=(0,ei.OY)(),o=s.useCallback((e,t,n=eg.Yv)=>{if(!a)return;let l=ea.findDOMNode(a.current),r=(0,eg.cT)(l,n);i(K.is({id:t,initialX:r.x,initialY:r.y})),i(H.eO()),i(K.CI())},[i]),c=s.useCallback(e=>{(null==t?void 0:t.id)===dA?i(K.U5()):o(e,dA,320)},[t,i,o]);return e&&e.isAlive()?s.createElement(eO.sF,{ref:a},s.createElement(eO.WA,{className:tI.g5},s.createElement(tS,{guid:e.guid,value:e.name,canEdit:!0,icon:s.createElement(x.A,{svg:dR.c,className:tw.Kk}),editAction:"rename-template"}),s.createElement("span",{className:tP},s.createElement(tu.KM,{className:tM,selected:(null==t?void 0:t.id)===dA,onClick:c,onMouseDown:e=>e.stopPropagation(),"data-tooltip-type":eh.wL.TEXT,"data-tooltip":(0,F.t)("design_systems.template_panel.template_controls"),svg:tA.c,recordingKey:"templateControls"}))),s.createElement(tf,{description:n}),l&&r&&s.createElement(t_,null),s.createElement(dx,null)):null});function dF({onExpand:e}){return s.createElement(eO.sF,{"data-testid":"toggle-simplified-panels"},s.createElement(tg.W,{onClick:e,recordingKey:"toggleSimplifiedPanels"},s.createElement(F.Tx,{id:"design_systems.component_properties.show_more_properties"})))}function dK(e){return s.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},s.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M10 8h4a4 4 0 0 1 0 8h-4a4 4 0 0 1 0-8Zm-5 4a5 5 0 0 1 5-5h4a5 5 0 0 1 0 10h-4a5 5 0 0 1-5-5Zm5 2a2 2 0 1 1 0-4 2 2 0 0 1 0 4Zm-3-2a3 3 0 1 1 6 0 3 3 0 0 1-6 0Z",clipRule:"evenodd"}))}var dD=n(386944),dH=n(491440),dB=n(766280);function dG(e){return s.createElement("svg",{width:"16",height:"16",fill:"none",viewBox:"0 0 16 16",...e},s.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M8 5.838 6.66 4.5 8 3.162 9.34 4.5 8 5.838Zm-.43-3.66L5.68 4.066a.613.613 0 0 0 0 .868l1.89 1.888a.609.609 0 0 0 .86 0l1.89-1.888a.613.613 0 0 0 0-.868L8.43 2.178a.609.609 0 0 0-.86 0ZM10.161 8 11.5 6.66 12.838 8 11.5 9.34 10.162 8Zm-.984.43 1.888 1.89c.24.24.628.24.868 0l1.888-1.89a.609.609 0 0 0 0-.86l-1.888-1.89a.613.613 0 0 0-.868 0L9.178 7.57a.609.609 0 0 0 0 .86ZM6.66 11.5 8 12.838 9.34 11.5 8 10.162 6.66 11.5Zm-.98-.434 1.89-1.888a.609.609 0 0 1 .86 0l1.89 1.888c.24.24.24.628 0 .868l-1.89 1.888a.609.609 0 0 1-.86 0l-1.89-1.888a.613.613 0 0 1 0-.868ZM3.162 8 4.5 6.66 5.838 8 4.5 9.34 3.162 8Zm3.66-.43L4.934 5.68a.613.613 0 0 0-.868 0L2.178 7.57a.609.609 0 0 0 0 .86l1.888 1.89c.24.24.628.24.868 0l1.888-1.89a.609.609 0 0 0 0-.86Z",clipRule:"evenodd"}))}function dV(e){return s.createElement("svg",{width:"16",height:"16",fill:"none",viewBox:"0 0 16 16",...e},s.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M11.5 4h-7a.5.5 0 0 0-.5.5v5.293l2.146-2.147a.5.5 0 0 1 .708 0L11.207 12h.293a.5.5 0 0 0 .5-.5v-7a.5.5 0 0 0-.5-.5ZM3 11v.5A1.5 1.5 0 0 0 4.5 13h7a1.5 1.5 0 0 0 1.5-1.5v-7A1.5 1.5 0 0 0 11.5 3h-7A1.5 1.5 0 0 0 3 4.5V11Zm1.5 1h5.293L6.5 8.707l-2.5 2.5v.293a.5.5 0 0 0 .5.5Zm5-4.5a1 1 0 1 0 0-2 1 1 0 0 0 0 2Z",clipRule:"evenodd"}))}var dW=n(264916),dU=n(414148);function dY(e){return s.createElement("svg",{width:"16",height:"16",fill:"none",viewBox:"0 0 16 16",...e},s.createElement("path",{stroke:"var(--color-icon)",strokeLinejoin:"round",d:"m6.5 8.5-4 4 5.5-1 .5-1m-2-2 2 2m-2-2 4.793-4.793a1 1 0 0 1 1.414 0l.586.586a1 1 0 0 1 0 1.414L8.5 10.5"}))}function dz(e){return s.createElement("svg",{width:"16",height:"16",fill:"none",viewBox:"0 0 16 16",...e},s.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M8 13A5 5 0 1 0 8 3a5 5 0 0 0 0 10Zm0 1A6 6 0 1 0 8 2a6 6 0 0 0 0 12Z",clipRule:"evenodd"}))}function dZ(e){return s.createElement("svg",{width:"16",height:"16",fill:"none",viewBox:"0 0 16 16",...e},s.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M11.5 4h-7a.5.5 0 0 0-.5.5v7a.5.5 0 0 0 .5.5h7a.5.5 0 0 0 .5-.5v-7a.5.5 0 0 0-.5-.5Zm-7-1A1.5 1.5 0 0 0 3 4.5v7A1.5 1.5 0 0 0 4.5 13h7a1.5 1.5 0 0 0 1.5-1.5v-7A1.5 1.5 0 0 0 11.5 3h-7Z",clipRule:"evenodd"}))}var dX=n(443736);function dQ(e){return s.createElement("svg",{width:"16",height:"16",fill:"none",viewBox:"0 0 16 16",...e},s.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M8 2a1 1 0 0 1 .952.695l.9 2.805h2.903a1 1 0 0 1 .58 1.815L11.007 8.97l.938 2.701a1 1 0 0 1-1.517 1.148L8 11.13l-2.428 1.69a1 1 0 0 1-1.517-1.148l.938-2.701-2.328-1.656a1 1 0 0 1 .58-1.815h2.903l.9-2.805A1 1 0 0 1 8 2ZM6.877 6.5H3.245l1.406 1 1.533 1.09-.626 1.802L5 12l1.396-.973L8 9.91l1.604 1.117L11 12l-.558-1.608-.626-1.802L11.35 7.5l1.406-1H9.123l-.598-1.863L8 3l-.525 1.637L6.877 6.5Z",clipRule:"evenodd"}))}function dq(e){return s.createElement("svg",{width:"16",height:"16",fill:"none",viewBox:"0 0 16 16",...e},s.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M12.854 3.146a.5.5 0 0 1 0 .708l-9 9a.5.5 0 0 1-.708-.708l9-9a.5.5 0 0 1 .708 0Z",clipRule:"evenodd"}))}function dj(e){return s.createElement("svg",{width:"16",height:"16",fill:"none",viewBox:"0 0 16 16",...e},s.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M11 4.5a.5.5 0 1 0 1 0 .5.5 0 0 0-1 0Zm0 1.415a1.5 1.5 0 1 1 1 0V10.5l.823.823a.25.25 0 0 1 0 .354l-1.146 1.146a.25.25 0 0 1-.354 0l-1.146-1.146a.25.25 0 0 1 0-.354L11 10.5V8.505a1.751 1.751 0 0 1-.891.573c-.444.114-.88.025-1.258-.112-.37-.134-.742-.337-1.073-.518l-.017-.01c-.352-.19-.661-.358-.953-.464-.29-.105-.502-.126-.668-.083-.15.038-.34.149-.546.48-.208.333-.415.863-.594 1.682v.032a1.5 1.5 0 1 1-1 0V5.5l-.823-.823a.25.25 0 0 1 0-.354l1.146-1.146a.25.25 0 0 1 .354 0l1.146 1.146a.25.25 0 0 1 0 .354L5 5.5v1.995a1.75 1.75 0 0 1 .891-.573c.444-.114.88-.025 1.258.112.37.134.742.337 1.073.518l.017.01c.352.19.661.358.953.464.29.105.502.126.668.083.15-.038.34-.149.546-.48.208-.333.415-.863.594-1.683v-.031ZM4 11.5a.5.5 0 1 0 1 0 .5.5 0 0 0-1 0Z",clipRule:"evenodd"}))}function d$(e){return s.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},s.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M12.285 5.089a.5.5 0 0 0-.57 0l-6.5 4.5a.5.5 0 0 0 .028.84l2.5 1.5a.5.5 0 1 0 .514-.858L6.422 9.97 12 6.108l5.578 3.862-1.835 1.101a.5.5 0 1 0 .514.858l2.5-1.5a.5.5 0 0 0 .028-.84l-6.5-4.5Zm3.069 9.057-3-3a.5.5 0 0 0-.708 0l-3 3a.5.5 0 0 0 .708.708l2.146-2.147V18.5a.5.5 0 0 0 1 0v-5.793l2.146 2.147a.5.5 0 0 0 .708-.708Z",clipRule:"evenodd"}))}var dJ=n(936756),d0=n(788156),d5=n(191352),d1=n(179940),d7=n(142088),d2=n(185864),d4=n(563040),d8=n(679156),d6=n(763976),d3=n(859264),d9=n(982868),ue=n(576448),ut=n(433072);function un(e){var t;let n=(0,nZ.s)("UI3_PROPERTIES_TOOLBAR_OVEFLOW_DROPDOWN"),l=(0,s.useMemo)(()=>{let t=e.enabledToolbarItems.map(e=>e.map(e=>e.type===d4.FP.CUSTOM_ACTION?s.createElement(ur,{item:e,key:e.recordingKey}):s.createElement(ul,{item:e,key:e.recordingKey})));return t.reduce((e,n,l)=>(e=e.concat(n),l<t.length-1&&e.push(s.createElement(ep.g.Separator,{key:`separator-${l}`})),e),[])},[e.enabledToolbarItems]),r=(0,s.useRef)(null),a=null==(t=r.current)?void 0:t.getBoundingClientRect();return a||(n.showing&&(0,y.oP)(v._.EDITOR_USABILITY,Error("UI3ToolbarOverflowMenu: dropdownBoundingRect is null")),a=new DOMRect(0,0,0,0)),s.createElement(s.Fragment,null,s.createElement(tu.KM,{selected:n.showing,ref:r,"aria-label":(0,F.t)("fullscreen.properties_panel.tooltip_moreActions"),onClick:n.toggle,"data-tooltip-type":eh.wL.TEXT,"data-tooltip":(0,F.t)("fullscreen.properties_panel.tooltip_moreActions")},s.createElement(lm.g,null)),n.showing&&s.createElement(e_.Mx,{targetRect:a,showPoint:!1,propagateCloseClick:!1},l))}function ul(e){var t,n,l;let{item:r}=e,a=(0,ei.w1)(eP._o),i=(0,ei.w1)(e=>(0,d8.qS)(r,e)),o=(0,el.Ib)(a,r.action),c=("focus-mode-component-set-toggle"===r.action?null==(n=null==(t=(0,ut.S6)(o,i))?void 0:t.tooltipProps)?void 0:n["data-tooltip"]:null)??((0,ue.Av)(r.action)||(0,lh.W)(r.action)),p=(0,el.O0)(a.keyboardShortcuts,r.action),d=d3.Qb.get(r.action,"toolbar");return s.createElement(eE.w,{text:c,isEnabled:o,hideCheck:!0,isChecked:!1,onClick:d,key:r.action,shortcut:p},(null==(l=(0,d9.O1)(r.action))?void 0:l.ui3Icon)||s.createElement(d6.A,null))}function ur(e){let{item:t}=e;return s.createElement(eE.w,{text:t.getTitle(),isEnabled:!0,hideCheck:!0,isChecked:!1,onClick:t.onClick,key:t.recordingKey},t.icon)}function ua(e){var t;let n=(0,s.useRef)(null),l=(0,nZ.s)(e.flyoutConfig.dropdownKey),r=null==(t=n.current)?void 0:t.getBoundingClientRect(),a=e.flyoutConfig.actions.map(e=>s.createElement(ul,{item:e,key:e.action}));r||(l.showing&&(0,y.oP)(v._.EDITOR_USABILITY,Error("UI3MultiSelectFlyoutActions: dropdownBoundingRect is null")),r=new DOMRect(0,0,0,0));let i=(0,B.EB)(),o=e.flyoutConfig.actions[0];return s.createElement(s.Fragment,null,s.createElement("div",{className:"ui3_multiselect_flyout_actions--iconAndChevronContainer--zXnfO"},s.createElement(d8.OW,{key:o.recordingKey,item:o,numUnreadComments:i,recordingKey:o.recordingKey}),e.flyoutConfig.actions.length>1&&s.createElement(tu.KM,{className:"ui3_multiselect_flyout_actions--chevron--JPONb",selected:l.showing,ref:n,"aria-label":e.flyoutConfig.getTooltip(),onClick:l.toggle,"data-tooltip-type":eh.wL.TEXT,"data-tooltip":e.flyoutConfig.getTooltip()},s.createElement(dH.u,null))),l.showing&&s.createElement(e_.Mx,{targetRect:r,showPoint:!1,propagateCloseClick:!1},a))}let ui=Symbol("uniqueSymbol"),uo={dropdownKey:"component_actions",getTooltip:()=>(0,F.t)("fullscreen.selection_actions.tooltip_component_actions"),actions:[d4.wt,d4.Yb,d4.Sw],[ui]:"UnfilteredFlyoutConfig"},us={dropdownKey:"boolean_operations",getTooltip:()=>(0,F.t)("fullscreen.selection_actions.tooltip_boolean_operations"),actions:[d4.mV,d4.K4,d4.Qn,d4.sB,d4.Kg],[ui]:"UnfilteredFlyoutConfig"};function uc(){let e=(0,ei.w1)(e=>e.mirror.selectionProperties.numSelected)??0,t=up();return e<2?[]:[uo,us].map(t).filter(Boolean)}let up=()=>{let e=(0,d8.cP)(),t=(0,d8._S)();return n=>{let l=n.actions.filter(n=>e(n)&&t(n));return 0===l.length?null:{...n,actions:l,[ui]:"FilteredFlyoutConfig"}}};var ud=n(408340);function uu({shouldShowInstancePanel:e,shouldShowComponentPropertiesPanel:t,recordingKey:n}){let l=(0,ty._O)(ty.OA.READY),r=(0,a8.s5)(z.KEP.editorState().selectionEmpty),a=(0,d0.n)(!1),i=uh(),o=uc(),c=uE(),d=Math.max(1,3-o.length),u=c.length>d||i.flat().find(e=>e.type===d4.FP.CUSTOM_ACTION),m=u?c.slice(0,d-1):c,{topLevelMode:h,editMode:g}=(0,tr.q)(e=>({topLevelMode:e.mirror.appModel.topLevelMode,editMode:e.mirror.appModel.activeCanvasEditModeType})),E=(0,ei.w1)(e=>{let t=e.modalShown;return(null==t?void 0:t.type)===d1.c}),_=(0,nT.AL)(),y=(0,nS._o)(),v=(0,X.AT)(),f=g===z.a_v.COMMENTS||g===z.a_v.PREVIEW||g===z.a_v.BRANCHING||h===z.s9F.HISTORY||h===z.s9F.PREVIEW||h===z.s9F.DEV_HANDOFF||h===z.s9F.BRANCHING,S=(0,d5.yI)(),T=!!(null==_?void 0:_.isTryFile)&&!E&&!y&&v,b=h===z.s9F.DEV_HANDOFF&&a,C=(0,B.EB)(),k=uf({shouldShowComponentPropertiesPanel:t,shouldShowInstancePanel:e}),{count:I,node:P}=uy();return!E&&(S||r||f||y)&&!b||S||T||0===i.length?null:s.createElement(w.u,{name:"layer_header_bar"},s.createElement(eO.sF,{"data-testid":"property-panel-toolbar",className:nt.G2},s.createElement(tD.g9,{"data-non-interactive":!0,recordingKey:"toolbar",className:p()(nt.mj,e$.cx.flex.alignLeft.borderBox.itemsCenter.hFull.$,e$.cx.pl8.pr8.$)},s.createElement("div",{className:e$.cx.hFull.flexGrow1.flex.itemsCenter.minW0.$,"data-non-interactive":!0},l&&s.createElement(uw,{selectedNodeCount:I,node:P,shouldShowComponentPropertiesPanel:t,shouldShowInstancePanel:e})),s.createElement("div",{"data-non-interactive":!0,className:p()(nt.Yz,{[nt.MX]:!["INSTANCE","FRAME"].includes(k)})},o.map(e=>s.createElement(ta.g,{key:e.dropdownKey,name:"layer_header_button",alsoTrack:()=>({layerButtonAction:`open_flyout_${(0,dJ.o$)(e.dropdownKey)}`})},s.createElement(ua,{flyoutConfig:e}))),m.map(e=>e.type===d4.FP.ACTION?s.createElement(ta.g,{key:e.recordingKey,name:"layer_header_button",alsoTrack:()=>({layerButtonAction:`${(0,dJ.o$)(e.action)}`})},s.createElement(d8.OW,{item:e,numUnreadComments:C,recordingKey:n})):s.createElement(ta.g,{key:e.recordingKey,name:"layer_header_button",alsoTrack:()=>({layerButtonAction:`${(0,dJ.o$)(e.getTitle())}`})},s.createElement(lu.w,{"data-tooltip-type":eh.wL.TEXT,"aria-label":e.getTitle(),"data-tooltip":e.getTitle(),onClick:e.onClick,key:e.recordingKey},e.icon))),u&&s.createElement(ta.g,{name:"layer_overflow_menu_button"},s.createElement(un,{enabledToolbarItems:i})))),s.createElement(ta.g,{name:"layer_component_panel_button"},s.createElement(um,null))))}function um(){let e=(0,ei.w1)(e=>(0,eS.Yn)(e)),{stateGroupSelectionMode:t,containingProductComponent:n}=tO(),l=(0,ei.w1)(ti.sZ),r=(0,ei.w1)(ti.UF);return(0,a8.s5)(z.KEP.propertiesPanelState().shownPropertiesPanels)[z.uQ8.COMPONENT_ITEM]?n||t!==z.MJr.NON_STATE_COMPONENTS?l&&r?s.createElement(t_,null):null:e>1?s.createElement(tk,{recordingKey:"createStateGroup"}):null:null}let uh=()=>{let e=(0,d8.cP)(),t=(0,d8._S)(),n=ug(),l=function(){let e=r5();if(r1((0,ei.w1)(e=>e.mirror.sceneGraphSelection))&&e)return{type:d4.FP.CUSTOM_ACTION,onClick:()=>{Q.uc([e.guid])},icon:s.createElement(d$,null),getTitle:()=>(0,F.t)("design_systems.component_panel.select_component"),recordingKey:"ui3_toolbar_go_to_parent",orderingKey:"goto-parent-component"}}(),r=function(){let e=(0,ei.w1)(e=>e.mirror.selectionProperties),t=(0,ei.w1)(eP.gT),{onlyInstances:n,onlyInstanceSublayers:l}=(0,ay._)(t),r=(0,ud.c)(t);if(!((e.pasteSources||[]).length>0)&&r&&!r.disabled&&(n||l))return{type:d4.FP.CUSTOM_ACTION,onClick:r.onMouseDown,icon:r.ui3Icon,getTitle:()=>r.dataTooltip,recordingKey:"ui3_toolbar_go_to_original_component",orderingKey:"go-to-original-component"}}();return(0,s.useMemo)(()=>(0,d4.gb)(n,l,r).map(n=>n.filter(n=>n.type===d4.FP.CUSTOM_ACTION||e(n)&&t(n))).filter(e=>e.length>0),[e,t,n,l,r])},ug=()=>{let e=s.useMemo(aP.k7,[]),t=(0,ei.w1)(t=>e(t,(0,eP.kD)(Object.keys(t.mirror.sceneGraphSelection),t.mirror.sceneGraph))),n=[];for(let e in t)for(let l in t[e]){let r=t[e][l];n.push({type:d4.FP.CUSTOM_ACTION,onClick:()=>eI.Pc.user("reset-prop-assignments",()=>z.i46.resetComponentPropAssignmentForInstances(r.instanceGUIDs,l)),icon:s.createElement(dK,null),getTitle:()=>(0,F.t)("design_systems.instance_panel.reset_property_assignment",{assignmentName:r.name}),recordingKey:`reset_property_assignment_${r.name}`,orderingKey:"reset_property_assignment"})}return n},uE=()=>{let e=uc().flatMap(e=>e.actions.map(e=>e.action)),t=uh().flat().filter(eC.aI).filter(t=>t.type===d4.FP.CUSTOM_ACTION||!e.includes(t.action));return(0,s.useMemo)(()=>t.sort((e,t)=>u_(e)-u_(t)),[t])},u_=e=>d4.mS.indexOf(e.type===d4.FP.ACTION?e.action:e.orderingKey);function uy(){let e=(0,e4.IX)();return e&&0!==e.length?e.length>1?{type:"MIXED",count:e.length,node:null}:{type:e[0].type,count:1,node:e[0]}:{type:null,count:0,node:null}}function uv(){let e=(0,ei.w1)(eP.gT),t=aw(e),n=(0,s.useRef)(null);return s.createElement("div",{ref:n,className:e$.cx.maxWFull.$},s.createElement(to.G0,{pickerButtonTextOverridesClassName:e$.cx.pl4.maxWFull.minW0.flexGrow1.ellipsis.noWrap.overflowHidden.$,panelTitleRef:n,instanceAndSublayerGUIDs:e,instanceNameDisplayOverride:t,recordingKey:"instance-panel-ui3-layer-header",panelTitleOverridesClassName:nt.Ad,flushLeft:!0,dropdownIdPrefix:"selection-actions-instance-swap-picker",svgOverride:s.createElement("div",{className:e$.cx.pl4.$},s.createElement(dD.o,null)),chevronOverride:s.createElement("div",{className:e$.cx.flexShrink0.$},s.createElement(dH.u,null))}))}function uf({shouldShowInstancePanel:e,shouldShowComponentPropertiesPanel:t}){let{type:n}=uy();return n?e?"INSTANCE":t?"SYMBOL":n:null}function uw({selectedNodeCount:e,node:t,shouldShowInstancePanel:n,shouldShowComponentPropertiesPanel:l}){switch(uf({shouldShowInstancePanel:n,shouldShowComponentPropertiesPanel:l})){case null:return null;case"MIXED":return s.createElement("div",{className:e$.cx.noWrap.textBodyMediumStrong.h24.flex.itemsCenter.pl8.$},`${e} selected`);case"FRAME":return s.createElement("div",{className:e$.cx.inlineFlex.$},s.createElement(rx.AW,{value:{chevron:()=>s.createElement(dH.u,{className:nt.MH})}},s.createElement(c4,{id:"selection-actions-frame-preset-dropdown",selectClassName:nt.wB,inputClassName:nt.OY,leftIcon:s.createElement("div",{className:e$.cx.pl2.$},s.createElement(dB.e,null))})));case"SYMBOL":return s.createElement(tF,{interiorSvg:!0,alwaysShowParentComponent:!0,unfocusedInputOverridesClassName:nt.VY,focusedInputOverridesClassName:nt.bl,svgOverride:s.createElement("div",{className:e$.cx.pl4.$},s.createElement(dG,null))});case"INSTANCE":return s.createElement(uv,null);default:return t?s.createElement(uS,{node:t}):null}}function uS({node:e}){let[t,n]=(0,s.useState)(!1),l=function(e){if(e.hasEnabledStaticImagePaint)return dV;switch(e.type){case"FRAME":return dB.e;case"TEXT":return dW.m;case"SECTION":return dU.C;case"SLICE":return dY;case"ELLIPSE":return dz;case"ROUNDED_RECTANGLE":return dZ;case"REGULAR_POLYGON":return dX.w;case"STAR":return dQ;case"LINE":return dq;case"VECTOR":return dj}return null}(e);return s.createElement(ta.g,{name:"layer_title_control"},s.createElement(d7.De,{staticTextOverridesClassName:nt.mw,inputTextOverridesClassName:nt.wR,interiorSvg:!0,focusOnSingleClick:!0,svgOverride:l&&(()=>s.createElement("div",{className:e$.cx.pl4.$},s.createElement(l,null))),name:e.name,abbreviatedStateName:e.isState?e.stateAbbreviatedName:null,guid:e.guid,isRenaming:t,stopRenaming:(t,l,r)=>{t&&(0,d2.A3)(e.guid,l,r),n(!1)},shouldShowGuids:!1,prevNodeGuid:null,nextNodeGuid:null,explicitVariableModeNames:[],isThumbnail:!1,navigateAndPanTo:rO.Kw,startRenaming:()=>{n(!0)},isHovered:!1}))}var uT=n(838308),ub=n(399132);let uC=(0,u.qe)(nO._gu),uk=e=>({[z._AQ.DESIGN]:{label:(0,F.t)("fullscreen.properties_panel.design"),tab:z._AQ.DESIGN,className:nt.aC,recordingKey:"designTab",analyticsName:"design"},[z._AQ.PROTOTYPE]:{label:(0,F.t)("fullscreen.properties_panel.prototype"),tab:z._AQ.PROTOTYPE,className:nt.aC,recordingKey:"prototypeTab",analyticsName:"prototype"},[z._AQ.INSPECT]:{label:(0,F.t)("fullscreen.properties_panel.properties"),tab:z._AQ.INSPECT,className:nt.aC,recordingKey:"inspectTab",analyticsName:"inspect"},[z._AQ.COMMENT]:{label:(0,F.t)("fullscreen.properties_panel.comment"),tab:z._AQ.COMMENT,className:nt.aC,recordingKey:"commentTab",analyticsName:"comment"},[z._AQ.EXPORT]:{label:(0,F.t)("fullscreen.properties_panel.export"),tab:z._AQ.EXPORT,className:nt.aC,recordingKey:"exportTab",analyticsName:"export"},[z._AQ.SLIDE]:{label:(0,F.t)("fullscreen.properties_panel.design"),tab:z._AQ.SLIDE,className:nt.aC,recordingKey:"designTab",analyticsName:"design"},[z._AQ.SLIDE_ANIMATION]:{label:"",tab:z._AQ.SLIDE_ANIMATION,className:nt.aC,recordingKey:"prototypeTab",analyticsName:"prototype"},[z._AQ.SITE]:{label:(0,F.t)("fullscreen.properties_panel.design"),tab:z._AQ.SITE,className:nt.aC,recordingKey:"sitesTab",analyticsName:"sites"}})[e];class uI extends _.UR{constructor(){super(...arguments),this.onMouseDown=_.yw(this,"mousedown",()=>{if(!this.props.active){let e=uk(this.props.tab).analyticsName;(0,d.we)("properties-panel-select-tab",{tab:e}),this.props.currentTool===z.w3X.SCALE&&this.props.tab===z._AQ.PROTOTYPE&&Y.CA.triggerAction("set-tool-default"),(0,Q.o7)(this.props.tab),this.props.topLevelMode===$.s9F.PREVIEW&&(this.props.tab===z._AQ.COMMENT?Y.CA.triggerAction("set-tool-comments"):Y.CA.triggerAction("set-tool-default"))}})}render(){return s.createElement("div",{className:this.props.className,onMouseDown:this.onMouseDown,"data-label":this.props.label},this.props.label)}}uI.displayName="PropertiesTab";class uP extends _.UR{constructor(){super(...arguments),this.state={panelState:ne.cf.DEFAULT_EXPANDED,width:oC.OG},this.onMouseDown=_.yw(this,"mousedown",()=>{Y.CA.deselectProperty(),this.props.dispatch(K.U5()),this.props.dispatch((0,D.es)()),this.props.dispatch(H.eO()),this.props.dispatch(K.CI())}),this.onContextMenu=e=>{let t=e.target;if(t){let n=t.tagName,l=t.type;n&&"INPUT"===n.toUpperCase()&&l&&"TEXT"===l.toUpperCase()||t.isContentEditable||e.preventDefault()}},this.showCreateStyleModal=({styleType:e,inheritStyleKeyField:t,nodeId:n,rowLeft:l,rowTop:r})=>{this.props.dispatch(H.eO()),this.props.dispatch(H.Mb({rowLeft:l,rowTop:r,styleType:e,inheritStyleKeyField:t,nodeId:n}))},this._stylePreviewThumbnail=new en.s(()=>{var e;let t=(0,J.U9)(this.props.stylePreviewShown),n=null==(e=this.props.openFile)?void 0:e.canEdit,l=!!t||!n||this.props.appModel.isReadOnly;return s.createElement(na,{key:"style-preview-panel",selectedStyleProperties:this.props.selectedStyleProperties,isInspectPanel:this.props.propertiesPanelTab===z._AQ.INSPECT,stylePreviewShown:this.props.stylePreviewShown,externalStyle:t,isRenaming:this.props.library.isRenamingSelectedStyle,viewOnly:l,dispatch:this.props.dispatch,recordingKey:_.Mx(this.props,"stylePreviewPanel")})}),this.onCloseStylePreviewModal=()=>{z.i46.selectStyle(N.YT.INVALID,N.SI.INVALID),this.props.dispatch(H.eO())},this.renderStylePreviewModal=()=>{var e,t;if(!this.props.stylePreviewShown.isShown||this.props.propertiesPanelTab!==z._AQ.DESIGN&&this.props.propertiesPanelTab!==z._AQ.INSPECT)return;let n=this.props.selectedStyleProperties,l=new M.Cg(this.props.stylePreviewShown.rowLeft-ne.C,this.props.stylePreviewShown.rowTop);if(this.props.stylePreviewShown.isCreating){let{styleType:e,inheritStyleKeyField:t,styleNameInputPrefix:n}=this.props.stylePreviewShown;return s.createElement(nn,{recordingKey:"createStyleModal",initialPosition:l,styleNameInputPrefix:n,styleType:e,inheritStyleKeyField:t})}{let r=(null==(e=this.props.openFile)?void 0:e.key)||null,a=this.props.stylePreviewShown.style.file_key!==r,i=a||!(null==(t=this.props.openFile)?void 0:t.canEdit)||this.props.appModel.topLevelMode===$.s9F.BRANCHING,o=(0,L.MR)(n.guid);if(!(o&&this.props.library.local.styles[o]&&!this.props.library.local.styles[o].is_soft_deleted)&&!a||!this.props.selectedStyleProperties.guid)return;return s.createElement(t9.Oi.Provider,{value:t9.yS.EDIT_STYLE},s.createElement(e2.G0,{title:this.getStylePreviewThumbnailTitle(n.styleType,i),key:this.props.stylePreviewShown.style.node_id+this.props.stylePreviewShown.style.file_key,headerSize:"small",initialWidth:ne.C,initialPosition:l,onClose:this.onCloseStylePreviewModal,recordingKey:_.Mx(this.props,"modal"),dragHeaderOnly:!0},s.createElement("div",{className:nt.aq},this._stylePreviewThumbnail.render(!0),this._externalStyleLink.render(a))))}},this._externalStyleLink=new en.s(()=>s.createElement(an,{stylePreviewShown:this.props.stylePreviewShown,user:this.props.user})),this._framePresetPanel=new en.s(()=>s.createElement(as,{key:"frame-presets",dispatch:this.props.dispatch,expandedFramePresetType:this.props.expandedFramePresetType,recordingKey:"framePresetPanel"})),this._pencilToolPanel=new en.s(()=>s.createElement(oT,{key:"pencilToolPanel",id:"pencilToolPanel",openFile:this.props.openFile,recordingKey:"pencilToolPanel"})),this._canvasBackgroundPanel=new en.s(()=>{let e=this.props.selectionProperties;return s.createElement(rP,{key:"canvas-background",backgroundColor:e.backgroundColor,backgroundEnabled:e.backgroundEnabled,backgroundOpacity:e.backgroundOpacity,exportBackgroundDisabled:e.exportBackgroundDisabled,dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown,modalShown:this.props.modalShown,editModeType:this.props.appModel.activeCanvasEditModeType,pickerShown:this.props.pickerShown,currentTool:this.props.appModel.currentTool,colorFormat:this.props.colorFormat,library:this.props.library,openFile:this.props.openFile,recordingKey:"canvasBackgroundPanel",currentSelectedProperty:this.props.appModel.currentSelectedProperty,currentSelectedGradientStop:this.props.appModel.currentSelectedGradientStop,defaultColor:j.w1,sceneGraphSelection:this.props.sceneGraphSelection,selectedStyleProperties:this.props.selectedStyleProperties,hasExports:!!e.exportSettings&&(0,q.uc)(e.exportSettings,[]).length>0})}),this._viewOnlyFlowsPanel=new en.s(()=>s.createElement(no.c,{viewOnly:!0})),this._localStylesPanel=new en.s(e=>s.createElement(ll,{key:e,scrollContainer:this.scrollContainer,recordingKey:e})),this._transformPanel=new en.s(()=>{var e;return s.createElement(c2,{key:"transform",propertiesPanelState:this.state.panelState,recordingKey:"transformPanel",pickerShown:this.props.pickerShown,openFileKey:(null==(e=this.props.openFile)?void 0:e.key)||null,canEditConstraints:"ui3"===this.props.uiVersion&&this.shouldShowConstraintsResizingPanel()})}),this._vectorPanel=new en.s(()=>{let e=this.selectionProperties(),t="ui3"===this.props.uiVersion;return s.createElement(pn,{key:"vector-transform",x:e.x,y:e.y,cornerRadius:e.cornerRadius,handleMirroring:e.handleMirroring,dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown,recordingKey:"vectorTransformPanel",isUI3:t})}),this._liveObjectPanel=new en.s(()=>s.createElement(or.a0,{key:"live-object",recordingKey:"liveObjectPanel",pasteSources:this.props.selectionProperties.pasteSources})),this._instancePanel=new en.s(()=>{let e=this.props.selectionProperties;return s.createElement(aS,{key:"instance",symbolGUIDsBackingSelection:e.symbolGUIDsBackingSelection,resettableInstanceOverridesMap:e.resettableInstanceOverrides,stateGroupSelectionInfo:e.stateGroupSelectionInfo,recordingKey:"instancePanel"})}),this._constraintsResizingPanel=new en.s(()=>{var e;return s.createElement(rj,{key:"constraints",openFileKey:(null==(e=this.props.openFile)?void 0:e.key)||null,dropdownShown:this.props.dropdownShown,recordingKey:"constraintsPanel"})}),this._interactionsPanel=new en.s(()=>s.createElement(ok.kv,{key:"interactions"})),this._stackPanel=new en.s(()=>s.createElement(dE,{key:"stack",onlyStacksSelected:this.props.shownPanels[z.uQ8.STACK_ITEM],recordingKey:"stackPanel"})),this._removeGroupFillAndStrokePanel=new en.s(()=>s.createElement(og,{key:"remove-group-fill-stroke"})),this._maskPanel=new en.s(()=>{let e=this.selectionProperties();return s.createElement(os,{key:"mask",maskType:e.maskType,dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown,recordingKey:"maskPanel"})}),this._componentPropertiesPanel=new en.s(()=>s.createElement(t7,{key:"componentProperties",recordingKey:"propsPanel"})),this._componentPanel=new en.s(()=>s.createElement(tL,{key:"component",recordingKey:"componentPanel"})),this._templatePropertiesPanel=new en.s(()=>s.createElement(ns,{key:"templateProperties",recordingKey:"templatePropsPanel"})),this._templatePanel=new en.s(()=>s.createElement(dL,{key:"template"})),this._gridsPanel=new en.s(()=>s.createElement(ne.au,{key:"grids",selectionProperties:this.props.selectionProperties})),this._layerPanel=new en.s(()=>{let e=this.props.selectionProperties;return this.props.hasUI3AppearancePanel?s.createElement(on,null):s.createElement(iJ,{key:"layer",blendMode:e.blendMode,opacity:e.opacity,visible:e.visible,variableConsumptionInfo:e.variableConsumptionInfo,recordingKey:"layerPanel"})}),this._localVariablesPanel=new en.s(()=>s.createElement(ld,{key:"local-variables"})),this._typePanel=new en.s(()=>s.createElement(ne.eM,{key:"type",selectionProperties:this.props.selectionProperties})),this._selectionPaints=new en.s(()=>s.createElement(oc.Mf,{key:"selection-paints",selectionPaints:this.props.selectionPaints,recordingKey:"selectionPaintsPanel",dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown,sceneGraphSelection:this.props.sceneGraphSelection,currentSelectedGradientStop:this.props.appModel.currentSelectedGradientStop,pickerShown:this.props.pickerShown,stylePickerListLayout:this.props.stylePickerListLayout,currentTool:this.props.appModel.currentTool,colorFormat:this.props.colorFormat,editModeType:this.props.appModel.activeCanvasEditModeType,defaultColor:j.w1,library:this.props.library,openFile:this.props.openFile,isUI3:"ui3"===this.props.uiVersion})),this._fillPanel=new en.s(()=>{let e;return this.props.selectionProperties.numSelectedByType&&(e=(0,lo.aO)(z.cf6.FILL,this.props.selectionProperties.numSelectedByType)),s.createElement(ne.yo,{key:"fill",selectionProperties:this.props.selectionProperties,variableScopes:e})}),this._strokePanel=new en.s(()=>{let e=this.props.selectionProperties;return s.createElement(oc.q,{key:"stroke",stylePickerShown:this.props.stylePickerShown,strokePanelMode:this.props.strokePanelMode,strokePanelTerminalPointCount:this.props.strokePanelTerminalPointCount,strokePaints:e.strokePaints,borderSharedWeight:e.borderSharedWeight,strokeWeight:e.strokeWeight,strokeAlign:e.strokeAlign,strokeCap:e.strokeCap,strokeJoin:e.strokeJoin,miterLimitAngle:e.miterLimitAngle,connectorLineStyle:e.connectorLineStyle,leftEndCap:e.leftEndCap,rightEndCap:e.rightEndCap,maxStrokeWeight:e.maxStrokeWeight,dashPattern:e.dashPattern,dashCap:e.dashCap,terminalCap:e.terminalCap,arcRadius:e.arcRadius,arcSweep:e.arcSweep,numSelectedByType:e.numSelectedByType,dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown,modalShown:this.props.modalShown,pickerShown:this.props.pickerShown,pickerInStyleCreationShown:this.props.pickerInStyleCreationShown,stylePickerListLayout:this.props.stylePickerListLayout,currentSelectedProperty:this.props.appModel.currentSelectedProperty,currentSelectedGradientStop:this.props.appModel.currentSelectedGradientStop,currentTool:this.props.appModel.currentTool,colorFormat:this.props.colorFormat,editModeType:this.props.appModel.activeCanvasEditModeType,defaultColor:j.aw,inheritStyleKey:e.inheritFillStyleKeyForStroke||null,inheritStyleID:e.inheritFillStyleIDForStroke||null,library:this.props.library,sceneGraphSelection:this.props.sceneGraphSelection,selectedStyleProperties:this.props.selectedStyleProperties,openFile:this.props.openFile,recordingKey:"strokePanel",isPanelBodyCollapsedAtom:null})}),this._effectsPanel=new en.s(()=>s.createElement(ne.UL,{key:"effects",selectionProperties:this.props.selectionProperties})),this._slidesShadowPanel=new en.s(()=>s.createElement(nd,null)),this._exportPanelInspectTab=new en.s(()=>{let e=this.selectionProperties(),t=this.props.openFile,n=(0,el.AD)(this.props.appModel);return t&&(0,ee.Uf)(t)?s.createElement(w.u,{name:"export_panel_inspect_tab"},s.createElement(eO.sF,{className:nt.Yn},s.createElement(eO.w1,{className:nt.CE},s.createElement(x.A,{className:nt.Qj,svg:ub.c}),s.createElement(F.Tx,{id:"fullscreen.properties_panel.export_disabled"})),s.createElement(eO.iM,{className:nt.E3},s.createElement(F.Tx,{id:"fullscreen.properties_panel.this_file_s_editor_has_disabled_exporting_copying_and_sharing.seat_rename"})))):s.createElement(r4.GK,{key:"export",title:this.isReadOnlyNonInspect()?(0,F.t)("fullscreen.properties_panel.export"):(0,F.t)("fullscreen.properties_panel.presets"),standalone:!0,openFile:t,singleNodeName:r4.GK.singleNodeNameFrom(e),numSelected:e.numSelected,exportSettings:e.exportSettings,sceneGraphSelection:this.props.sceneGraphSelection,currentPage:n,dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown,currentSelectedProperty:this.props.appModel.currentSelectedProperty,pickerShown:this.props.pickerShown,recordingKey:"exportsPanel",saveAsState:this.props.saveAsState,panelWidth:oC.OG})}),this._exportPanel=new en.s(()=>{let e=this.props.selectionProperties,t=(0,el.AD)(this.props.appModel);return s.createElement(r4.GK,{key:"export",openFile:this.props.openFile,singleNodeName:r4.GK.singleNodeNameFrom(e),numSelected:e.numSelected,exportSettings:e.exportSettings,sceneGraphSelection:this.props.sceneGraphSelection,currentPage:t,dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown,currentSelectedProperty:this.props.appModel.currentSelectedProperty,pickerShown:this.props.pickerShown,recordingKey:"exportsPanel",saveAsState:this.props.saveAsState,panelWidth:oC.OG})}),this._pluginPanel=new en.s(()=>{var e,t;let n=this.selectionProperties();return s.createElement(ob.e,{key:"plugin",pluginRelaunchData:n.pluginRelaunchData,localPlugins:this.props.localPlugins,publishedPlugins:this.props.publishedPlugins,allSavedPlugins:this.props.allSavedPlugins.plugins,orgEntity:(0,U.or)(this.props),dispatch:this.props.dispatch,openFileKey:(null==(e=this.props.openFile)?void 0:e.key)||null,editorType:(null==(t=this.props.openFile)?void 0:t.editorType)||null,numSelected:n.numSelected??0,recordingKey:"pluginPanel"})}),this._prototypePanel=new en.s(()=>s.createElement(oI.q8,{key:"prototype",dispatch:this.props.dispatch,selectionProperties:this.selectionProperties(),appModel:this.props.appModel,pickerShown:this.props.pickerShown,dropdownShown:this.props.dropdownShown,currentTool:this.props.appModel.currentTool,colorFormat:this.props.colorFormat,sceneGraphSelection:this.props.sceneGraphSelection,editModeType:this.props.appModel.activeCanvasEditModeType,library:this.props.library,openFile:this.props.openFile,userFlags:this.props.userFlags,recordingKey:"prototypePanel"})),this._scalePanel=new en.s(()=>(0,m.Ub)().ce_multi_edit?s.createElement(su,{key:"scale",recordingKey:"scalePanel"}):s.createElement(sa,{key:"scale",recordingKey:"scalePanel"})),this._slidesFillPanel=new en.s(()=>s.createElement(nd,null)),this._slidesTypePanel=new en.s(()=>s.createElement(nd,null)),this._slidesBorderPanel=new en.s(()=>s.createElement(nd,null)),this._slidesCornerPanel=new en.s(()=>s.createElement(nd,null)),this._slidesAnimationPanel=new en.s(()=>s.createElement(nd,{selection:this.props.sceneGraphSelection})),this._slidesOverlayPanel=new en.s(()=>s.createElement(nd,null)),this._slidesBlurPanel=new en.s(()=>s.createElement(nd,null)),this._slidesSelectionPaints=new en.s(()=>s.createElement(oc.Mf,{key:"selection-paints",selectionPaints:this.props.selectionPaints,recordingKey:"selectionPaintsPanel",dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown,sceneGraphSelection:this.props.sceneGraphSelection,currentSelectedGradientStop:this.props.appModel.currentSelectedGradientStop,pickerShown:this.props.pickerShown,stylePickerListLayout:this.props.stylePickerListLayout,currentTool:this.props.appModel.currentTool,colorFormat:this.props.colorFormat,editModeType:this.props.appModel.activeCanvasEditModeType,defaultColor:j.w1,library:this.props.library,openFile:this.props.openFile,isUI3:"ui3"===this.props.uiVersion,customColorPicker:nd})),this._sitesPositionPanel=new en.s(()=>s.createElement(nc.Kq,{recordingKey:"positionPanel"})),this._sitesLinkPanel=new en.s(()=>s.createElement(nc.y4,{key:"link"})),this._sitesPageSettingsPanel=new en.s(()=>s.createElement(nc.M9,{key:"pageSettings"})),this._sitesCanvasOverlayPanel=new en.s(()=>s.createElement(nc.EL,{key:"overlayPreview"})),this._sitesAccessibilityPanel=new en.s(()=>s.createElement(nc.CE,{key:"accessibility"})),this.isStyleSelected=()=>this.props.selectedStyleProperties&&!!this.props.selectedStyleProperties.guid,this.isLiveObjectSelected=()=>(this.props.selectionProperties.pasteSources||[]).length>0,this.selectionProperties=()=>this.isStyleSelected()?this.props.selectedStyleProperties:this.props.selectionProperties,this.shownTransformControls=()=>this.isStyleSelected()?0:0|this.props.shownTransformControls,this.shouldShowAlignControls=()=>(0,oC.Yh)(this.props.shownPanels),this.shouldRenderUI3ToolbarItems=()=>"ui3"===this.props.uiVersion,this.shouldShowConstraintsResizingPanel=()=>{let e=this.props.shownPanels;return!this.scaleShouldHideOtherPanels()&&e[z.uQ8.CONSTRAINTS_ITEM]},this.shouldShowInteractionsPanel=()=>!!this.props.selectionProperties.isValidPrototypingSourceSelected,this.isStateSelected=()=>{var e;return(null==(e=this.props.selectionProperties.stateGroupSelectionInfo)?void 0:e.mode)===z.MJr.STATE},this.shouldShowLocalVariablesPanel=()=>{let e=(0,nu.C)(this.props.selectedView),t=this.props.shownPanels;return!this.scaleShouldHideOtherPanels()&&!this.props.appModel.isReadOnly&&0===Object.keys(this.props.sceneGraphSelection).length&&!t[z.uQ8.FRAME_PRESETS]&&(!e||(0,m.Ub)().piper_org_templates)},this.shouldShowSelectionPaintsPanel=()=>{let e=this.props.shownPanels;return(0,oC.Ir)(e,this.scaleShouldHideOtherPanels(),this.props.selectionPaints)},this.shouldShowSlidesSelectionPaintsPanel=()=>{let{numSelected:e,numSelectedByType:t}=this.props.selectionProperties;return!(1===e&&t&&t.SLIDE)&&this.shouldShowSelectionPaintsPanel()},this.shouldShowStackPanel=()=>{let e=this.props.shownPanels;return(0,oC.Uf)(e,this.scaleShouldHideOtherPanels(),this.props.selectionProperties,this.isStyleSelected()?this.props.selectedStyleProperties:void 0,this.props.hasMergedDimensionsAndAutolayout)},this.scaleShouldHideOtherPanels=()=>this.props.shownPanels[z.uQ8.SCALE_ITEM]&&!(0,m.Ub)().ee_scale_tool_show_all_panels,this.renderSimplifiedDesignPanels=()=>{let e=this.props.shownPanels;if((0,E.t7)(e)||Object.keys(e).every(t=>!e[parseInt(t)])){let e=Error("Rendering simplified design tab with no shownPropertiesPanels");(0,y.oP)(v._.FIGJAM_CORE,e)}return s.createElement(R.a,null,0===Object.keys(this.props.sceneGraphSelection).length&&s.createElement(ra.Af,{panelName:ra.oL.DESIGN}),this.shouldShowAlignControls()&&s.createElement(l8,{recordingKey:"alignPanel"}),this.shouldRenderUI3ToolbarItems()&&s.createElement(uu,{recordingKey:"toolbarItems",shouldShowComponentPropertiesPanel:this.shouldShowComponentPropertiesPanel(),shouldShowInstancePanel:this.shouldShowInstancePanel()}),this._transformPanel.render(!0),this._scalePanel.render(e[z.uQ8.SCALE_ITEM]),this._instancePanel.render(!this.scaleShouldHideOtherPanels()&&!this.isLiveObjectSelected()),this._constraintsResizingPanel.render("ui3"!==this.props.uiVersion&&this.shouldShowConstraintsResizingPanel()),(0,et.Wi)()&&this._interactionsPanel.render(this.shouldShowInteractionsPanel()),this._layerPanel.render(e[z.uQ8.LAYER_ITEM]),this.state.panelState===ne.cf.DEFAULT_SIMPLIFIED&&s.createElement(dF,{onExpand:()=>{this.setState({panelState:ne.cf.OVERRIDDEN_EXPANDED})}}),this.state.panelState===ne.cf.OVERRIDDEN_EXPANDED&&s.createElement(s.Fragment,null,s.createElement(r2,{selection:this.props.sceneGraphSelection,shownPanels:this.props.shownPanels,scaleShouldHideOtherPanels:this.scaleShouldHideOtherPanels()}),this._templatePanel.render(e[z.uQ8.TEMPLATE_ITEM]),this._componentPanel.render(e[z.uQ8.COMPONENT_ITEM]),this._vectorPanel.render(e[z.uQ8.VECTOR_ITEM]),this._stackPanel.render(this.shouldShowStackPanel()),this._maskPanel.render(e[z.uQ8.MASK_ITEM]),this._gridsPanel.render(e[z.uQ8.GRIDS_ITEM]),this._typePanel.render(e[z.uQ8.TYPE_ITEM]),this._canvasBackgroundPanel.render(e[z.uQ8.CANVAS_ITEM]),this._removeGroupFillAndStrokePanel.render(e[z.uQ8.REMOVE_GROUP_BACKGROUND_ITEM]),this._fillPanel.render(e[z.uQ8.FILL_ITEM]),this._strokePanel.render(e[z.uQ8.STROKE_ITEM]),this._selectionPaints.render(this.shouldShowSelectionPaintsPanel()),(0,et.Wi)()&&this._prototypePanel.render(!0),this._effectsPanel.render(e[z.uQ8.EFFECTS_ITEM]),this._pluginPanel.render(!this.scaleShouldHideOtherPanels())),this.props.openFile&&!(0,ee.Uf)(this.props.openFile)&&this._exportPanel.render(e[z.uQ8.EXPORT_ITEM]),this._pluginPanel.render(!this.scaleShouldHideOtherPanels()))},this.renderDesignPanels=()=>{let e=this.props.shownPanels,t=(0,nu.C)(this.props.selectedView);((0,E.t7)(e)||Object.keys(e).every(t=>!e[parseInt(t)]))&&!window.figmaPerfTesting&&!(0,f.Cm)()&&!(0,f.g9)()&&(0,y.WI)("PropertiesPanel","Rendering design tab with no shownPropertiesPanels",{isEmpty:(0,E.t7)(e),shouldRenderInspectTab:this.shouldRenderInspectTab()});let n=!this.scaleShouldHideOtherPanels()&&0===Object.keys(this.props.sceneGraphSelection).length&&!e[z.uQ8.FRAME_PRESETS]&&(!t||(0,m.Ub)().piper_org_templates);return e[z.uQ8.FRAME_PRESETS]?s.createElement(R.a,null,this._framePresetPanel.render(!0)):e[z.uQ8.PENCIL_TOOL]?s.createElement(R.a,null,this._pencilToolPanel.render(!0)):s.createElement(R.a,null,0===Object.keys(this.props.sceneGraphSelection).length&&s.createElement(ra.Af,{panelName:ra.oL.DESIGN}),this.shouldShowAlignControls()&&s.createElement(l8,{recordingKey:"alignPanel"}),this.shouldRenderUI3ToolbarItems()&&s.createElement(uu,{recordingKey:"toolbarItems",shouldShowComponentPropertiesPanel:this.shouldShowComponentPropertiesPanel(),shouldShowInstancePanel:this.shouldShowInstancePanel()}),this.props.hasUI3LayerHeaders&&this._componentPropertiesPanel.render(this.shouldShowComponentPropertiesPanel()),this.props.hasUI3LayerHeaders&&this._componentPanel.render(e[z.uQ8.COMPONENT_ITEM]),this.props.hasUI3LayerHeaders&&this._instancePanel.render(this.shouldShowInstancePanel()),this._transformPanel.render(e[z.uQ8.TRANSFORM_ITEM]),this._scalePanel.render(e[z.uQ8.SCALE_ITEM]),s.createElement(r2,{selection:this.props.sceneGraphSelection,shownPanels:this.props.shownPanels,scaleShouldHideOtherPanels:this.scaleShouldHideOtherPanels()}),this._templatePanel.render(e[z.uQ8.TEMPLATE_ITEM]),this._templatePropertiesPanel.render(e[z.uQ8.TEMPLATE_ITEM]),!this.props.hasUI3LayerHeaders&&this._componentPanel.render(e[z.uQ8.COMPONENT_ITEM]),!this.props.hasUI3LayerHeaders&&this._componentPropertiesPanel.render(e[z.uQ8.COMPONENT_ITEM]&&!this.isStateSelected()),this._liveObjectPanel.render(this.isLiveObjectSelected()),!this.props.hasUI3LayerHeaders&&this._instancePanel.render(this.shouldShowInstancePanel()),this._vectorPanel.render(e[z.uQ8.VECTOR_ITEM]),this._stackPanel.render(this.shouldShowStackPanel()),this._constraintsResizingPanel.render("ui3"!==this.props.uiVersion&&this.shouldShowConstraintsResizingPanel()),this._maskPanel.render(e[z.uQ8.MASK_ITEM]),this._gridsPanel.render(e[z.uQ8.GRIDS_ITEM]),(0,et.Wi)()&&this._interactionsPanel.render(this.shouldShowInteractionsPanel()),this._layerPanel.render(e[z.uQ8.LAYER_ITEM]),this._typePanel.render(e[z.uQ8.TYPE_ITEM]),this._canvasBackgroundPanel.render(e[z.uQ8.CANVAS_ITEM]),this._removeGroupFillAndStrokePanel.render(e[z.uQ8.REMOVE_GROUP_BACKGROUND_ITEM]),this._fillPanel.render(e[z.uQ8.FILL_ITEM]),this._strokePanel.render(e[z.uQ8.STROKE_ITEM]),this._selectionPaints.render(this.shouldShowSelectionPaintsPanel()),(0,et.Wi)()&&this._prototypePanel.render(!0),this._effectsPanel.render(e[z.uQ8.EFFECTS_ITEM]),this._localVariablesPanel.render(this.shouldShowLocalVariablesPanel()),this._localStylesPanel.render(n,void 0,"local-styles"),this.props.openFile&&!(0,ee.Uf)(this.props.openFile)&&this._exportPanel.render(e[z.uQ8.EXPORT_ITEM]),this._pluginPanel.render(!this.scaleShouldHideOtherPanels()))},this.renderSlidesPanels=()=>{let e=this.props.shownPanels;return e[z.uQ8.PENCIL_TOOL]?s.createElement(R.a,null,this._pencilToolPanel.render(!0)):s.createElement(R.a,null,this._slidesTypePanel.render(e[z.uQ8.TYPE_ITEM]),this._slidesFillPanel.render(e[z.uQ8.FILL_ITEM]),this._slidesOverlayPanel.render(e[z.uQ8.IMAGE_ITEM]),this._slidesBlurPanel.render(e[z.uQ8.IMAGE_ITEM]),this._slidesBorderPanel.render(e[z.uQ8.STROKE_ITEM]),this._slidesCornerPanel.render(e[z.uQ8.STROKE_ITEM]),this._slidesSelectionPaints.render(this.shouldShowSlidesSelectionPaintsPanel()),this._slidesShadowPanel.render(e[z.uQ8.EFFECTS_ITEM]))},this.renderSlidesAnimationPanels=()=>{let e=this.props.shownPanels;return s.createElement(R.a,null,this._slidesAnimationPanel.render(e[z.uQ8.SLIDES_ANIMATION]))},this.renderSitesPanels=()=>{let e=this.props.shownPanels;return s.createElement(R.a,{style:{paddingTop:8}},this.shouldShowAlignControls()&&s.createElement(l8,{recordingKey:"alignPanel"}),this.shouldRenderUI3ToolbarItems()&&s.createElement(uu,{recordingKey:"toolbarItems",shouldShowComponentPropertiesPanel:this.shouldShowComponentPropertiesPanel(),shouldShowInstancePanel:this.shouldShowInstancePanel()}),this._sitesCanvasOverlayPanel.render(this.shouldShowSitesCanvasOverlayPanel()),this._sitesPositionPanel.render(this.shouldShowSitesPositionPanel()),this._transformPanel.render(e[z.uQ8.TRANSFORM_ITEM]),this._scalePanel.render(e[z.uQ8.SCALE_ITEM]),this._instancePanel.render(!this.scaleShouldHideOtherPanels()&&!this.isLiveObjectSelected()),this._constraintsResizingPanel.render("ui3"!==this.props.uiVersion&&this.shouldShowConstraintsResizingPanel()),this._sitesLinkPanel.render(this.shouldShowSitesLinkPanel()),(0,et.Wi)()&&this._interactionsPanel.render(this.shouldShowInteractionsPanel()),this._layerPanel.render(e[z.uQ8.LAYER_ITEM]),s.createElement(s.Fragment,null,s.createElement(r2,{selection:this.props.sceneGraphSelection,shownPanels:this.props.shownPanels,scaleShouldHideOtherPanels:this.scaleShouldHideOtherPanels()}),this._templatePanel.render(e[z.uQ8.TEMPLATE_ITEM]),this._componentPanel.render(e[z.uQ8.COMPONENT_ITEM]),this._vectorPanel.render(e[z.uQ8.VECTOR_ITEM]),this._stackPanel.render(this.shouldShowStackPanel()),this._maskPanel.render(e[z.uQ8.MASK_ITEM]),this._gridsPanel.render(e[z.uQ8.GRIDS_ITEM]),this._typePanel.render(e[z.uQ8.TYPE_ITEM]),this._canvasBackgroundPanel.render(e[z.uQ8.CANVAS_ITEM]),this._removeGroupFillAndStrokePanel.render(e[z.uQ8.REMOVE_GROUP_BACKGROUND_ITEM]),this._fillPanel.render(e[z.uQ8.FILL_ITEM]),this._strokePanel.render(e[z.uQ8.STROKE_ITEM]),this._selectionPaints.render(this.shouldShowSelectionPaintsPanel()),(0,et.Wi)()&&this._prototypePanel.render(!0),this._effectsPanel.render(e[z.uQ8.EFFECTS_ITEM]),this._pluginPanel.render(!this.scaleShouldHideOtherPanels())),this._sitesAccessibilityPanel.render(this.shouldShowSitesAccessibilityPanel()),this._sitesPageSettingsPanel.render(this.shouldShowSitesPageSettingsPanel()),this.props.openFile&&!(0,ee.Uf)(this.props.openFile)&&this._exportPanel.render(e[z.uQ8.EXPORT_ITEM]),this._pluginPanel.render(!this.scaleShouldHideOtherPanels()))},this.renderInspectionPanels=()=>{var e,t;let n=null==(e=this.props.openFile)?void 0:e.canEdit,l=this.props.selectionProperties,r=!l.prototypeStartingPointsInfo||(null==(t=l.prototypeStartingPointsInfo)?void 0:t.length)>0,a=0===Object.keys(this.props.sceneGraphSelection).length,i=a&&!n&&r;return s.createElement(V.kH,{name:er.i8.CODE_PANEL},s.createElement(R.a,null,s.createElement(ra.Af,{panelName:ra.oL.INSPECT}),s.createElement(rM.w,{key:"inspection-properties-panel",recordingKey:"inspectionPanel"}),this._viewOnlyFlowsPanel.render(i),this._localStylesPanel.render(a,void 0,"code-local-styles")))},this.renderPrototypePanels=()=>{let e=this.props.shownPanels;return s.createElement(R.a,null,this._framePresetPanel.render(e[z.uQ8.FRAME_PRESETS]),this._pencilToolPanel.render(e[z.uQ8.PENCIL_TOOL]),this._prototypePanel.render(!e[z.uQ8.FRAME_PRESETS]&&!e[z.uQ8.PENCIL_TOOL]))},this.shouldRenderInspectTab=()=>this.props.appModel.showUi&&!!this.props.user&&this.props.appModel.isReadOnly,this.onKeyDown=e=>{this.props.selectedStyleProperties&&(0,L.U3)(this.props.selectedStyleProperties.guid)&&(e.event.keyCode===h.as.ESCAPE?(e.accept(),z.i46.selectStyle(N.YT.INVALID,N.SI.INVALID)):e.event.keyCode===h.as.F&&z.i46.selectStyle(N.YT.INVALID,N.SI.INVALID))},this.scrollContainer=null,this.refMainScrollContainer=e=>{this.scrollContainer=e},this.isReadOnlyNonInspect=()=>this.props.appModel.isReadOnly&&!(0,nl.ie)(this.props.selectedView),this.renderPanelContent=()=>{let e=this.props.appModel.topLevelMode,t=this.props.propertiesPanelTab,n=this.props.appModel.isReadOnly,l=e!==$.s9F.PREVIEW&&(e!==$.s9F.BRANCHING||!this.shouldRenderInspectTab())&&e!==$.s9F.DEV_HANDOFF&&t===z._AQ.DESIGN,r=e!==$.s9F.PREVIEW&&(e!==$.s9F.BRANCHING||!this.shouldRenderInspectTab())&&e!==$.s9F.DEV_HANDOFF&&t===z._AQ.SLIDE,a=e!==$.s9F.PREVIEW&&(e!==$.s9F.BRANCHING||!this.shouldRenderInspectTab())&&e!==$.s9F.DEV_HANDOFF&&t===z._AQ.SLIDE_ANIMATION&&(0,m.Ub)().piper_transitions,i=e===$.s9F.LAYOUT&&!n&&t===z._AQ.SITE,o=e!==$.s9F.PREVIEW&&e!==$.s9F.BRANCHING&&t===z._AQ.PROTOTYPE&&!(0,et.Wi)(),c=e===$.s9F.PREVIEW&&!this.props.userStateLoaded||t===z._AQ.INSPECT;return l||r||a||i||o||c||t===z._AQ.EXPORT||t===z._AQ.COMMENT||(0,y.WI)("PropertiesPanel","Rendering empty properties panels",{topLevelMode:$.s9F[e],tab:z._AQ[t],shouldRenderInspectTab:this.shouldRenderInspectTab()}),s.createElement(s.Fragment,null,l&&(this.state.panelState===ne.cf.DEFAULT_EXPANDED?this.renderDesignPanels():this.renderSimplifiedDesignPanels()),r&&this.renderSlidesPanels(),a&&this.renderSlidesAnimationPanels(),i&&this.renderSitesPanels(),o&&this.renderPrototypePanels(),c&&this.renderInspectionPanels(),t===z._AQ.EXPORT&&this._exportPanelInspectTab.render(!0),t===z._AQ.COMMENT&&s.createElement(this.props.commentsPanel,null))},this.onResize=e=>{e=(0,g.qk)(e,uC+1,500),this.setState({width:e}),(0,Z.EB)().propertiesPanelSplitPosition.set(e)},this.getRightPanelAnimation=(e,t)=>{if(this.props.isFullHeight)return;let n={ease:"easeInOut",duration:.2,delay:this.props.isCollapsed?void 0:.05};return this.props.isCollapsed?{initial:{left:`calc(${e}px + ${t})`},animate:{left:`calc(${e}px + ${t})`,display:"block",transitionEnd:{display:"none"}},transition:n}:{initial:{left:0},transition:n}}}componentDidUpdate(e,t){super.componentDidUpdate(e,t);let n=e.selectionProperties.productComponentGUIDBackingInstances,l=this.props.selectionProperties.productComponentGUIDBackingInstances;if(n!==l){let e=ne.cf.DEFAULT_EXPANDED;if(l){let t=this.props.sceneGraph.get(l);(null==t?void 0:t.simplifyInstancePanels)&&(e=ne.cf.DEFAULT_SIMPLIFIED)}this.setState({panelState:e})}}getStylePreviewThumbnailTitle(e,t){if(t)switch(e){case"FILL":return(0,F.t)("design_systems.styles.view_color_style");case"TEXT":return(0,F.t)("design_systems.styles.view_text_style");case"EFFECT":return(0,F.t)("design_systems.styles.view_effect_style");case"GRID":return(0,F.t)("design_systems.styles.view_grid_style");default:return(0,F.t)("design_systems.styles.view_style")}else switch(e){case"FILL":return(0,F.t)("design_systems.styles.edit_color_style");case"TEXT":return(0,F.t)("design_systems.styles.edit_text_style");case"EFFECT":return(0,F.t)("design_systems.styles.edit_effect_style");case"GRID":return(0,F.t)("design_systems.styles.edit_grid_style");default:return(0,F.t)("design_systems.styles.edit_style")}}shouldShowSitesPositionPanel(){return(0,np.yy)(this.props.selectedView)&&this.props.shownPanels[z.uQ8.SITES_POSITION_ITEM]}shouldShowSitesLinkPanel(){return(0,np.yy)(this.props.selectedView)&&this.props.shownPanels[z.uQ8.SITES_LINK_ITEM]}shouldShowSitesPageSettingsPanel(){return(0,np.yy)(this.props.selectedView)&&this.props.selectionProperties.nodesAreAllResponsiveSets}shouldShowSitesCanvasOverlayPanel(){return(0,np.yy)(this.props.selectedView)&&(0,m.Ub)().internal_only_debug_tools}shouldShowSitesAccessibilityPanel(){return(0,np.yy)(this.props.selectedView)}renderTabsHeader(e,t,n){let l=t.find(t=>t===e),r=(0,nu.C)(this.props.selectedView),a=t.map((t,n)=>{let r=uk(t),a=r.tab===e||0===n&&void 0===l,i=r.className;return a&&(i=nt.QP),{...r,className:i,active:a,topLevelMode:this.props.appModel.topLevelMode,currentTool:this.props.appModel.currentTool}}),i=this.props.appModel.isReadOnly;if(!t.length||(0,et.Wi)()&&!i||1===t.length&&!r)return null;let o=e===z._AQ.DESIGN&&this.shouldShowAlignControls()||e===z._AQ.COMMENT;return s.createElement(B.mS.Consumer,null,()=>{let e=o?nt.GW:nt.sF;return n?s.createElement("div",{className:o?nt.y1:nt.q_},s.createElement("div",{className:nt.aE},a.map((e,t)=>s.createElement(uI,{key:t,...e})))):s.createElement("div",{className:e,"data-non-interactive":!0},a.map((e,t)=>s.createElement(uI,{key:t,...e})))})}shouldShowInstancePanel(){return this.props.shownPanels[z.uQ8.INSTANCE_ITEM]&&!this.isLiveObjectSelected()}shouldShowComponentPropertiesPanel(){return this.props.shownPanels[z.uQ8.COMPONENT_ITEM]&&!this.isStateSelected()}getTabs(){let{appModel:{topLevelMode:e},selectedView:t,propertiesPanelTab:n}=this.props;switch(e){case $.s9F.LAYOUT:if(this.isReadOnlyNonInspect())return[z._AQ.COMMENT,z._AQ.INSPECT,z._AQ.EXPORT];if(n===z._AQ.COMMENT)return[z._AQ.COMMENT];if((0,np.yy)(t))return[z._AQ.SITE];if((0,nu.C)(t)){if((0,m.Ub)().piper_transitions)return[z._AQ.SLIDE,z._AQ.SLIDE_ANIMATION];return[z._AQ.SLIDE]}return this.shouldRenderInspectTab()?[z._AQ.DESIGN,z._AQ.PROTOTYPE,z._AQ.INSPECT]:[z._AQ.DESIGN,z._AQ.PROTOTYPE];case $.s9F.PREVIEW:case $.s9F.DEV_HANDOFF:return[z._AQ.COMMENT,z._AQ.INSPECT,z._AQ.EXPORT];case $.s9F.BRANCHING:return[z._AQ.INSPECT];default:return[z._AQ.DESIGN,z._AQ.PROTOTYPE,z._AQ.INSPECT]}}renderLoading(e){return s.createElement(nh.Sg,{name:"propertiesPanel",focusOnMount:!0,handleKeyDown:this.onKeyDown},s.createElement(A.Y,{className:nt._g},s.createElement(O.f,{ref:this.refMainScrollContainer,className:p()(nt.Co,nt.Qs,G.cp,{[nt.wl]:e,[nt.aA]:this.props.isFullHeight}),width:oC.OG,hideScrollbar:!0,scrollingDisabled:!0},s.createElement("div",{className:nt.y4,"data-non-interactive":!0},s.createElement(ni.a,null))),this.props.stylePreviewShown.isShown&&this.renderStylePreviewModal()))}render(){var e;if(this.props.isLoading)return this.renderLoading(this.props.shouldAnimateLoadingState);let t=this.props.selectedStyleProperties&&(0,L.U3)(this.props.selectedStyleProperties.guid),n=!!(this.props.dropdownShown||(null==(e=this.props.pickerShown)?void 0:e.modal)),l=this.props.propertiesPanelTab,r=l===z._AQ.COMMENT,a=!this.isReadOnlyNonInspect(),i=(0,nu.C)(this.props.selectedView),o=!t||!n,c=!r&&o,d=(0,W.Ce)(),h=s.createElement("div",{className:r&&a&&!i?nt.IB:nt.y4,onMouseDown:d?void 0:this.onMouseDown,onPointerDown:d?this.onMouseDown:void 0,"data-non-interactive":!0},s.createElement(B.mS.Consumer,null,()=>this.renderPanelContent())),g="ui3"===this.props.uiVersion,E=g?this.state.width:oC.OG+1,_=this.props.isFullHeight?`${(0,u.qe)(nO.Kv5)}px`:"var(--spacer-2)",y=this.props.appModel.topLevelMode===$.s9F.HISTORY,v=this.props.isFullHeight&&this.props.isCollapsed;return s.createElement(I,{name:"properties_panel",trackingEnabled:(0,m.Ub)().trackable_properties||i&&(0,m.Ub)().piper,alsoTrack:()=>{let e=l===z._AQ.DESIGN?"design_view":"slide_view";return{pageId:(0,el.AD)(this.props.appModel),selectedNodeIds:Object.keys(this.props.sceneGraphSelection),panelMode:i?e:void 0}}},s.createElement(nh.Sg,{name:"propertiesPanel",focusOnMount:!r,handleKeyDown:this.onKeyDown},s.createElement(t9.IP.Provider,{value:this.showCreateStyleModal},s.createElement(A.Y,{className:p()(nt._g,{[nt.gd]:!this.props.appModel.showUi,[nt.U1]:this.props.shouldShowBackgroundGradient,[nt.aA]:this.props.isFullHeight,[nt.OO]:this.props.isFullHeight,[nt.qu]:v}),style:{width:E}},s.createElement(uT.I,null,s.createElement(oP.S,{className:p()(nt.Co,G.cp,{[nt.qc]:this.props.rulersVisible,[nt.aA]:this.props.isFullHeight}),onContextMenu:this.onContextMenu,"data-onboarding-key":"properties-panel",size:E,onResize:this.onResize,side:"left",animation:this.getRightPanelAnimation(E,_),"data-cancel-insertable-resource-drag-and-drop":!0},s.createElement("div",{className:p()(nt.Qs,{[nt.ag]:v&&!this.props.inUI3CollapsedSidebarPillBackgroundLab,[nt.Sw]:v&&this.props.inUI3CollapsedSidebarPillBackgroundLab})},this.props.isFullHeight&&s.createElement(oM.w,{openFile:this.props.openFile,dropdownShown:this.props.dropdownShown,multiplayer:this.props.multiplayer,user:this.props.user,isIntegration:(0,X.AT)(),selectedView:this.props.selectedView,recordingKey:this.props.recordingKey}),!v&&y&&s.createElement(nm.sN,{recordingKey:"versionHistoryView",isUI3:g}),!v&&!y&&this.renderTabsHeader(l,this.getTabs(),this.props.isFullHeight),!v&&!y&&(r?h:s.createElement("div",{className:nt.uY},s.createElement(O.f,{enableOverscroll:!0,key:this.props.propertiesPanelTab,ref:this.refMainScrollContainer,className:nt.yR,containerId:ne._I,hideScrollbar:!c,onContextMenu:this.onContextMenu,scrollingDisabled:r||(t?n:!!this.props.dropdownShown)},h))),this.props.stylePreviewShown.isShown&&this.renderStylePreviewModal())))))))}}uP.displayName="PropertiesPanel"},843184:(e,t,n)=>{var l=n(815624)(function(e,t,n){return e+(n?"-":"")+t.toLowerCase()});e.exports=l},613168:()=>{!function(e){var t=[/\b(?:async|sync|yield)\*/,/\b(?:abstract|assert|async|await|break|case|catch|class|const|continue|covariant|default|deferred|do|dynamic|else|enum|export|extends|extension|external|factory|final|finally|for|get|hide|if|implements|import|in|interface|library|mixin|new|null|on|operator|part|rethrow|return|set|show|static|super|switch|sync|this|throw|try|typedef|var|void|while|with|yield)\b/],n=/(^|[^\w.])(?:[a-z]\w*\s*\.\s*)*(?:[A-Z]\w*\s*\.\s*)*/.source,l={pattern:RegExp(n+/[A-Z](?:[\d_A-Z]*[a-z]\w*)?\b/.source),lookbehind:!0,inside:{namespace:{pattern:/^[a-z]\w*(?:\s*\.\s*[a-z]\w*)*(?:\s*\.)?/,inside:{punctuation:/\./}}}};e.languages.dart=e.languages.extend("clike",{"class-name":[l,{pattern:RegExp(n+/[A-Z]\w*(?=\s+\w+\s*[;,=()])/.source),lookbehind:!0,inside:l.inside}],keyword:t,operator:/\bis!|\b(?:as|is)\b|\+\+|--|&&|\|\||<<=?|>>=?|~(?:\/=?)?|[+\-*\/%&^|=!<>]=?|\?/}),e.languages.insertBefore("dart","string",{"string-literal":{pattern:/r?(?:("""|''')[\s\S]*?\1|(["'])(?:\\.|(?!\2)[^\\\r\n])*\2(?!\2))/,greedy:!0,inside:{interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$(?:\w+|\{(?:[^{}]|\{[^{}]*\})*\})/,lookbehind:!0,inside:{punctuation:/^\$\{?|\}$/,expression:{pattern:/[\s\S]+/,inside:e.languages.dart}}},string:/[\s\S]+/}},string:void 0}),e.languages.insertBefore("dart","class-name",{metadata:{pattern:/@\w+/,alias:"function"}}),e.languages.insertBefore("dart","class-name",{generics:{pattern:/<(?:[\w\s,.&?]|<(?:[\w\s,.&?]|<(?:[\w\s,.&?]|<[\w\s,.&?]*>)*>)*>)*>/,inside:{"class-name":l,keyword:t,punctuation:/[<>(),.:]/,operator:/[?&|]/}}})}(Prism)}}]);

//# debugId=e98d21e3-5bf7-5f91-ad4a-a91682f39c07

//# sourceMappingURL=https://admin.figma.com/admin/webpack-artifacts/b84ade5d909058fab589d8d18c95f051fae27d70/properties_panel-058e4f81aba87cba.min.js.map